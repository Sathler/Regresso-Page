!function(ii,Ls){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=ii.document?Ls(ii,!0):function(ki){if(!ki.document)throw new Error("jQuery requires a window with a document");return Ls(ki)}:Ls(ii)}(typeof window<"u"?window:this,function(ii,Ls){"use strict";var ki=[],pl=Object.getPrototypeOf,te=ki.slice,Y=ki.flat?function(ge){return ki.flat.call(ge)}:function(ge){return ki.concat.apply([],ge)},e=ki.push,T=ki.indexOf,D={},o=D.toString,P=D.hasOwnProperty,C=P.toString,h=C.call(Object),y={},t=function(ge){return"function"==typeof ge&&"number"!=typeof ge.nodeType&&"function"!=typeof ge.item},r=function(ge){return null!=ge&&ge===ge.window},l=ii.document,i={type:!0,src:!0,nonce:!0,noModule:!0};function u(ge,Ue,nt){var ct,Pt,Ft=(nt=nt||l).createElement("script");if(Ft.text=ge,Ue)for(ct in i)(Pt=Ue[ct]||Ue.getAttribute&&Ue.getAttribute(ct))&&Ft.setAttribute(ct,Pt);nt.head.appendChild(Ft).parentNode.removeChild(Ft)}function f(ge){return null==ge?ge+"":"object"==typeof ge||"function"==typeof ge?D[o.call(ge)]||"object":typeof ge}var c="3.7.1",m=/HTML$/i,a=function(ge,Ue){return new a.fn.init(ge,Ue)};function b(ge){var Ue=!!ge&&"length"in ge&&ge.length,nt=f(ge);return!t(ge)&&!r(ge)&&("array"===nt||0===Ue||"number"==typeof Ue&&0<Ue&&Ue-1 in ge)}function p(ge,Ue){return ge.nodeName&&ge.nodeName.toLowerCase()===Ue.toLowerCase()}a.fn=a.prototype={jquery:c,constructor:a,length:0,toArray:function(){return te.call(this)},get:function(ge){return null==ge?te.call(this):ge<0?this[ge+this.length]:this[ge]},pushStack:function(ge){var Ue=a.merge(this.constructor(),ge);return Ue.prevObject=this,Ue},each:function(ge){return a.each(this,ge)},map:function(ge){return this.pushStack(a.map(this,function(Ue,nt){return ge.call(Ue,nt,Ue)}))},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(a.grep(this,function(ge,Ue){return(Ue+1)%2}))},odd:function(){return this.pushStack(a.grep(this,function(ge,Ue){return Ue%2}))},eq:function(ge){var Ue=this.length,nt=+ge+(ge<0?Ue:0);return this.pushStack(0<=nt&&nt<Ue?[this[nt]]:[])},end:function(){return this.prevObject||this.constructor()},push:e,sort:ki.sort,splice:ki.splice},a.extend=a.fn.extend=function(){var ge,Ue,nt,ct,Pt,Ft,Yt=arguments[0]||{},Vt=1,Ot=arguments.length,Jt=!1;for("boolean"==typeof Yt&&(Jt=Yt,Yt=arguments[Vt]||{},Vt++),"object"==typeof Yt||t(Yt)||(Yt={}),Vt===Ot&&(Yt=this,Vt--);Vt<Ot;Vt++)if(null!=(ge=arguments[Vt]))for(Ue in ge)ct=ge[Ue],"__proto__"!==Ue&&Yt!==ct&&(Jt&&ct&&(a.isPlainObject(ct)||(Pt=Array.isArray(ct)))?(nt=Yt[Ue],Ft=Pt&&!Array.isArray(nt)?[]:Pt||a.isPlainObject(nt)?nt:{},Pt=!1,Yt[Ue]=a.extend(Jt,Ft,ct)):void 0!==ct&&(Yt[Ue]=ct));return Yt},a.extend({expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),isReady:!0,error:function(ge){throw new Error(ge)},noop:function(){},isPlainObject:function(ge){var Ue,nt;return!(!ge||"[object Object]"!==o.call(ge)||(Ue=pl(ge))&&("function"!=typeof(nt=P.call(Ue,"constructor")&&Ue.constructor)||C.call(nt)!==h))},isEmptyObject:function(ge){var Ue;for(Ue in ge)return!1;return!0},globalEval:function(ge,Ue,nt){u(ge,{nonce:Ue&&Ue.nonce},nt)},each:function(ge,Ue){var nt,ct=0;if(b(ge))for(nt=ge.length;ct<nt&&!1!==Ue.call(ge[ct],ct,ge[ct]);ct++);else for(ct in ge)if(!1===Ue.call(ge[ct],ct,ge[ct]))break;return ge},text:function(ge){var Ue,nt="",ct=0,Pt=ge.nodeType;if(!Pt)for(;Ue=ge[ct++];)nt+=a.text(Ue);return 1===Pt||11===Pt?ge.textContent:9===Pt?ge.documentElement.textContent:3===Pt||4===Pt?ge.nodeValue:nt},makeArray:function(ge,Ue){var nt=Ue||[];return null!=ge&&(b(Object(ge))?a.merge(nt,"string"==typeof ge?[ge]:ge):e.call(nt,ge)),nt},inArray:function(ge,Ue,nt){return null==Ue?-1:T.call(Ue,ge,nt)},isXMLDoc:function(ge){var nt=ge&&(ge.ownerDocument||ge).documentElement;return!m.test(ge&&ge.namespaceURI||nt&&nt.nodeName||"HTML")},merge:function(ge,Ue){for(var nt=+Ue.length,ct=0,Pt=ge.length;ct<nt;ct++)ge[Pt++]=Ue[ct];return ge.length=Pt,ge},grep:function(ge,Ue,nt){for(var ct=[],Pt=0,Ft=ge.length,Yt=!nt;Pt<Ft;Pt++)!Ue(ge[Pt],Pt)!==Yt&&ct.push(ge[Pt]);return ct},map:function(ge,Ue,nt){var ct,Pt,Ft=0,Yt=[];if(b(ge))for(ct=ge.length;Ft<ct;Ft++)null!=(Pt=Ue(ge[Ft],Ft,nt))&&Yt.push(Pt);else for(Ft in ge)null!=(Pt=Ue(ge[Ft],Ft,nt))&&Yt.push(Pt);return Y(Yt)},guid:1,support:y}),"function"==typeof Symbol&&(a.fn[Symbol.iterator]=ki[Symbol.iterator]),a.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(ge,Ue){D["[object "+Ue+"]"]=Ue.toLowerCase()});var s=ki.pop,v=ki.sort,A=ki.splice,x="[\\x20\\t\\r\\n\\f]",E=new RegExp("^"+x+"+|((?:^|[^\\\\])(?:\\\\.)*)"+x+"+$","g");a.contains=function(ge,Ue){var nt=Ue&&Ue.parentNode;return ge===nt||!(!nt||1!==nt.nodeType||!(ge.contains?ge.contains(nt):ge.compareDocumentPosition&&16&ge.compareDocumentPosition(nt)))};var g=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function M(ge,Ue){return Ue?"\0"===ge?"\ufffd":ge.slice(0,-1)+"\\"+ge.charCodeAt(ge.length-1).toString(16)+" ":"\\"+ge}a.escapeSelector=function(ge){return(ge+"").replace(g,M)};var w=l,n=e;!function(){var ge,Ue,nt,ct,Pt,Ft,Yt,Vt,Ot,Jt,Dr=n,Gr=a.expando,Yr=0,zr=0,bn=mi(),In=mi(),Bn=mi(),ea=mi(),Kn=function(Vr,xn){return Vr===xn&&(Pt=!0),0},ha="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Di="(?:\\\\[\\da-fA-F]{1,6}"+x+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",$a="\\["+x+"*("+Di+")(?:"+x+"*([*^$|!~]?=)"+x+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Di+"))|)"+x+"*\\]",eo=":("+Di+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+$a+")*)|.*)\\)|)",ti=new RegExp(x+"+","g"),Fi=new RegExp("^"+x+"*,"+x+"*"),co=new RegExp("^"+x+"*([>+~]|"+x+")"+x+"*"),oi=new RegExp(x+"|>"),mo=new RegExp(eo),ss=new RegExp("^"+Di+"$"),zi={ID:new RegExp("^#("+Di+")"),CLASS:new RegExp("^\\.("+Di+")"),TAG:new RegExp("^("+Di+"|[*])"),ATTR:new RegExp("^"+$a),PSEUDO:new RegExp("^"+eo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+x+"*(even|odd|(([+-]|)(\\d*)n|)"+x+"*(?:([+-]|)"+x+"*(\\d+)|))"+x+"*\\)|)","i"),bool:new RegExp("^(?:"+ha+")$","i"),needsContext:new RegExp("^"+x+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+x+"*((?:-\\d)?\\d*)"+x+"*\\)|)(?=[^-]|$)","i")},Ui=/^(?:input|select|textarea|button)$/i,Jo=/^h\d$/i,Lo=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ui=/[+~]/,Wi=new RegExp("\\\\[\\da-fA-F]{1,6}"+x+"?|\\\\([^\\r\\n\\f])","g"),Yi=function(Vr,xn){var kn="0x"+Vr.slice(1)-65536;return xn||(kn<0?String.fromCharCode(kn+65536):String.fromCharCode(kn>>10|55296,1023&kn|56320))},Si=function(){To()},wo=gs(function(Vr){return!0===Vr.disabled&&p(Vr,"fieldset")},{dir:"parentNode",next:"legend"});try{Dr.apply(ki=te.call(w.childNodes),w.childNodes)}catch{Dr={apply:function(xn,kn){n.apply(xn,te.call(kn))},call:function(xn){n.apply(xn,te.call(arguments,1))}}}function Sa(Vr,xn,kn,Nn){var jn,za,Ea,Ba,Ra,si,Xa,ri=xn&&xn.ownerDocument,pi=xn?xn.nodeType:9;if(kn=kn||[],"string"!=typeof Vr||!Vr||1!==pi&&9!==pi&&11!==pi)return kn;if(!Nn&&(To(xn),xn=xn||Ft,Vt)){if(11!==pi&&(Ra=Lo.exec(Vr)))if(jn=Ra[1]){if(9===pi){if(!(Ea=xn.getElementById(jn)))return kn;if(Ea.id===jn)return Dr.call(kn,Ea),kn}else if(ri&&(Ea=ri.getElementById(jn))&&Sa.contains(xn,Ea)&&Ea.id===jn)return Dr.call(kn,Ea),kn}else{if(Ra[2])return Dr.apply(kn,xn.getElementsByTagName(Vr)),kn;if((jn=Ra[3])&&xn.getElementsByClassName)return Dr.apply(kn,xn.getElementsByClassName(jn)),kn}if(!(ea[Vr+" "]||Ot&&Ot.test(Vr))){if(Xa=Vr,ri=xn,1===pi&&(oi.test(Vr)||co.test(Vr))){for((ri=ui.test(Vr)&&qs(xn.parentNode)||xn)==xn&&y.scope||((Ba=xn.getAttribute("id"))?Ba=a.escapeSelector(Ba):xn.setAttribute("id",Ba=Gr)),za=(si=ls(Vr)).length;za--;)si[za]=(Ba?"#"+Ba:":scope")+" "+Hs(si[za]);Xa=si.join(",")}try{return Dr.apply(kn,ri.querySelectorAll(Xa)),kn}catch{ea(Vr,!0)}finally{Ba===Gr&&xn.removeAttribute("id")}}}return tl(Vr.replace(E,"$1"),xn,kn,Nn)}function mi(){var Vr=[];return function xn(kn,Nn){return Vr.push(kn+" ")>Ue.cacheLength&&delete xn[Vr.shift()],xn[kn+" "]=Nn}}function hi(Vr){return Vr[Gr]=!0,Vr}function Zi(Vr){var xn=Ft.createElement("fieldset");try{return!!Vr(xn)}catch{return!1}finally{xn.parentNode&&xn.parentNode.removeChild(xn),xn=null}}function ji(Vr){return function(xn){return p(xn,"input")&&xn.type===Vr}}function Qo(Vr){return function(xn){return(p(xn,"input")||p(xn,"button"))&&xn.type===Vr}}function io(Vr){return function(xn){return"form"in xn?xn.parentNode&&!1===xn.disabled?"label"in xn?"label"in xn.parentNode?xn.parentNode.disabled===Vr:xn.disabled===Vr:xn.isDisabled===Vr||xn.isDisabled!==!Vr&&wo(xn)===Vr:xn.disabled===Vr:"label"in xn&&xn.disabled===Vr}}function di(Vr){return hi(function(xn){return xn=+xn,hi(function(kn,Nn){for(var jn,za=Vr([],kn.length,xn),Ea=za.length;Ea--;)kn[jn=za[Ea]]&&(kn[jn]=!(Nn[jn]=kn[jn]))})})}function qs(Vr){return Vr&&typeof Vr.getElementsByTagName<"u"&&Vr}function To(Vr){var xn,kn=Vr?Vr.ownerDocument||Vr:w;return kn!=Ft&&9===kn.nodeType&&kn.documentElement&&(Yt=(Ft=kn).documentElement,Vt=!a.isXMLDoc(Ft),Jt=Yt.matches||Yt.webkitMatchesSelector||Yt.msMatchesSelector,Yt.msMatchesSelector&&w!=Ft&&(xn=Ft.defaultView)&&xn.top!==xn&&xn.addEventListener("unload",Si),y.getById=Zi(function(Nn){return Yt.appendChild(Nn).id=a.expando,!Ft.getElementsByName||!Ft.getElementsByName(a.expando).length}),y.disconnectedMatch=Zi(function(Nn){return Jt.call(Nn,"*")}),y.scope=Zi(function(){return Ft.querySelectorAll(":scope")}),y.cssHas=Zi(function(){try{return Ft.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),y.getById?(Ue.filter.ID=function(Nn){var jn=Nn.replace(Wi,Yi);return function(za){return za.getAttribute("id")===jn}},Ue.find.ID=function(Nn,jn){if(typeof jn.getElementById<"u"&&Vt){var za=jn.getElementById(Nn);return za?[za]:[]}}):(Ue.filter.ID=function(Nn){var jn=Nn.replace(Wi,Yi);return function(za){var Ea=typeof za.getAttributeNode<"u"&&za.getAttributeNode("id");return Ea&&Ea.value===jn}},Ue.find.ID=function(Nn,jn){if(typeof jn.getElementById<"u"&&Vt){var za,Ea,Ba,Ra=jn.getElementById(Nn);if(Ra){if((za=Ra.getAttributeNode("id"))&&za.value===Nn)return[Ra];for(Ba=jn.getElementsByName(Nn),Ea=0;Ra=Ba[Ea++];)if((za=Ra.getAttributeNode("id"))&&za.value===Nn)return[Ra]}return[]}}),Ue.find.TAG=function(Nn,jn){return typeof jn.getElementsByTagName<"u"?jn.getElementsByTagName(Nn):jn.querySelectorAll(Nn)},Ue.find.CLASS=function(Nn,jn){if(typeof jn.getElementsByClassName<"u"&&Vt)return jn.getElementsByClassName(Nn)},Ot=[],Zi(function(Nn){var jn;Yt.appendChild(Nn).innerHTML="<a id='"+Gr+"' href='' disabled='disabled'></a><select id='"+Gr+"-\r\\' disabled='disabled'><option selected=''></option></select>",Nn.querySelectorAll("[selected]").length||Ot.push("\\["+x+"*(?:value|"+ha+")"),Nn.querySelectorAll("[id~="+Gr+"-]").length||Ot.push("~="),Nn.querySelectorAll("a#"+Gr+"+*").length||Ot.push(".#.+[+~]"),Nn.querySelectorAll(":checked").length||Ot.push(":checked"),(jn=Ft.createElement("input")).setAttribute("type","hidden"),Nn.appendChild(jn).setAttribute("name","D"),Yt.appendChild(Nn).disabled=!0,2!==Nn.querySelectorAll(":disabled").length&&Ot.push(":enabled",":disabled"),(jn=Ft.createElement("input")).setAttribute("name",""),Nn.appendChild(jn),Nn.querySelectorAll("[name='']").length||Ot.push("\\["+x+"*name"+x+"*="+x+"*(?:''|\"\")")}),y.cssHas||Ot.push(":has"),Ot=Ot.length&&new RegExp(Ot.join("|")),Kn=function(Nn,jn){if(Nn===jn)return Pt=!0,0;var za=!Nn.compareDocumentPosition-!jn.compareDocumentPosition;return za||(1&(za=(Nn.ownerDocument||Nn)==(jn.ownerDocument||jn)?Nn.compareDocumentPosition(jn):1)||!y.sortDetached&&jn.compareDocumentPosition(Nn)===za?Nn===Ft||Nn.ownerDocument==w&&Sa.contains(w,Nn)?-1:jn===Ft||jn.ownerDocument==w&&Sa.contains(w,jn)?1:ct?T.call(ct,Nn)-T.call(ct,jn):0:4&za?-1:1)}),Ft}for(ge in Sa.matches=function(Vr,xn){return Sa(Vr,null,null,xn)},Sa.matchesSelector=function(Vr,xn){if(To(Vr),Vt&&!ea[xn+" "]&&(!Ot||!Ot.test(xn)))try{var kn=Jt.call(Vr,xn);if(kn||y.disconnectedMatch||Vr.document&&11!==Vr.document.nodeType)return kn}catch{ea(xn,!0)}return 0<Sa(xn,Ft,null,[Vr]).length},Sa.contains=function(Vr,xn){return(Vr.ownerDocument||Vr)!=Ft&&To(Vr),a.contains(Vr,xn)},Sa.attr=function(Vr,xn){(Vr.ownerDocument||Vr)!=Ft&&To(Vr);var kn=Ue.attrHandle[xn.toLowerCase()],Nn=kn&&P.call(Ue.attrHandle,xn.toLowerCase())?kn(Vr,xn,!Vt):void 0;return void 0!==Nn?Nn:Vr.getAttribute(xn)},Sa.error=function(Vr){throw new Error("Syntax error, unrecognized expression: "+Vr)},a.uniqueSort=function(Vr){var xn,kn=[],Nn=0,jn=0;if(Pt=!y.sortStable,ct=!y.sortStable&&te.call(Vr,0),v.call(Vr,Kn),Pt){for(;xn=Vr[jn++];)xn===Vr[jn]&&(Nn=kn.push(jn));for(;Nn--;)A.call(Vr,kn[Nn],1)}return ct=null,Vr},a.fn.uniqueSort=function(){return this.pushStack(a.uniqueSort(te.apply(this)))},(Ue=a.expr={cacheLength:50,createPseudo:hi,match:zi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Vr){return Vr[1]=Vr[1].replace(Wi,Yi),Vr[3]=(Vr[3]||Vr[4]||Vr[5]||"").replace(Wi,Yi),"~="===Vr[2]&&(Vr[3]=" "+Vr[3]+" "),Vr.slice(0,4)},CHILD:function(Vr){return Vr[1]=Vr[1].toLowerCase(),"nth"===Vr[1].slice(0,3)?(Vr[3]||Sa.error(Vr[0]),Vr[4]=+(Vr[4]?Vr[5]+(Vr[6]||1):2*("even"===Vr[3]||"odd"===Vr[3])),Vr[5]=+(Vr[7]+Vr[8]||"odd"===Vr[3])):Vr[3]&&Sa.error(Vr[0]),Vr},PSEUDO:function(Vr){var xn,kn=!Vr[6]&&Vr[2];return zi.CHILD.test(Vr[0])?null:(Vr[3]?Vr[2]=Vr[4]||Vr[5]||"":kn&&mo.test(kn)&&(xn=ls(kn,!0))&&(xn=kn.indexOf(")",kn.length-xn)-kn.length)&&(Vr[0]=Vr[0].slice(0,xn),Vr[2]=kn.slice(0,xn)),Vr.slice(0,3))}},filter:{TAG:function(Vr){var xn=Vr.replace(Wi,Yi).toLowerCase();return"*"===Vr?function(){return!0}:function(kn){return p(kn,xn)}},CLASS:function(Vr){var xn=bn[Vr+" "];return xn||(xn=new RegExp("(^|"+x+")"+Vr+"("+x+"|$)"))&&bn(Vr,function(kn){return xn.test("string"==typeof kn.className&&kn.className||typeof kn.getAttribute<"u"&&kn.getAttribute("class")||"")})},ATTR:function(Vr,xn,kn){return function(Nn){var jn=Sa.attr(Nn,Vr);return null==jn?"!="===xn:!xn||(jn+="","="===xn?jn===kn:"!="===xn?jn!==kn:"^="===xn?kn&&0===jn.indexOf(kn):"*="===xn?kn&&-1<jn.indexOf(kn):"$="===xn?kn&&jn.slice(-kn.length)===kn:"~="===xn?-1<(" "+jn.replace(ti," ")+" ").indexOf(kn):"|="===xn&&(jn===kn||jn.slice(0,kn.length+1)===kn+"-"))}},CHILD:function(Vr,xn,kn,Nn,jn){var za="nth"!==Vr.slice(0,3),Ea="last"!==Vr.slice(-4),Ba="of-type"===xn;return 1===Nn&&0===jn?function(Ra){return!!Ra.parentNode}:function(Ra,si,Xa){var ri,pi,Za,Ri,ho,Ji=za!==Ea?"nextSibling":"previousSibling",Ao=Ra.parentNode,Ki=Ba&&Ra.nodeName.toLowerCase(),go=!Xa&&!Ba,Ei=!1;if(Ao){if(za){for(;Ji;){for(Za=Ra;Za=Za[Ji];)if(Ba?p(Za,Ki):1===Za.nodeType)return!1;ho=Ji="only"===Vr&&!ho&&"nextSibling"}return!0}if(ho=[Ea?Ao.firstChild:Ao.lastChild],Ea&&go){for(Ei=(Ri=(ri=(pi=Ao[Gr]||(Ao[Gr]={}))[Vr]||[])[0]===Yr&&ri[1])&&ri[2],Za=Ri&&Ao.childNodes[Ri];Za=++Ri&&Za&&Za[Ji]||(Ei=Ri=0)||ho.pop();)if(1===Za.nodeType&&++Ei&&Za===Ra){pi[Vr]=[Yr,Ri,Ei];break}}else if(go&&(Ei=Ri=(ri=(pi=Ra[Gr]||(Ra[Gr]={}))[Vr]||[])[0]===Yr&&ri[1]),!1===Ei)for(;(Za=++Ri&&Za&&Za[Ji]||(Ei=Ri=0)||ho.pop())&&(!(Ba?p(Za,Ki):1===Za.nodeType)||!++Ei||(go&&((pi=Za[Gr]||(Za[Gr]={}))[Vr]=[Yr,Ei]),Za!==Ra)););return(Ei-=jn)===Nn||Ei%Nn==0&&0<=Ei/Nn}}},PSEUDO:function(Vr,xn){var kn,Nn=Ue.pseudos[Vr]||Ue.setFilters[Vr.toLowerCase()]||Sa.error("unsupported pseudo: "+Vr);return Nn[Gr]?Nn(xn):1<Nn.length?(kn=[Vr,Vr,"",xn],Ue.setFilters.hasOwnProperty(Vr.toLowerCase())?hi(function(jn,za){for(var Ea,Ba=Nn(jn,xn),Ra=Ba.length;Ra--;)jn[Ea=T.call(jn,Ba[Ra])]=!(za[Ea]=Ba[Ra])}):function(jn){return Nn(jn,0,kn)}):Nn}},pseudos:{not:hi(function(Vr){var xn=[],kn=[],Nn=Ds(Vr.replace(E,"$1"));return Nn[Gr]?hi(function(jn,za,Ea,Ba){for(var Ra,si=Nn(jn,null,Ba,[]),Xa=jn.length;Xa--;)(Ra=si[Xa])&&(jn[Xa]=!(za[Xa]=Ra))}):function(jn,za,Ea){return xn[0]=jn,Nn(xn,null,Ea,kn),xn[0]=null,!kn.pop()}}),has:hi(function(Vr){return function(xn){return 0<Sa(Vr,xn).length}}),contains:hi(function(Vr){return Vr=Vr.replace(Wi,Yi),function(xn){return-1<(xn.textContent||a.text(xn)).indexOf(Vr)}}),lang:hi(function(Vr){return ss.test(Vr||"")||Sa.error("unsupported lang: "+Vr),Vr=Vr.replace(Wi,Yi).toLowerCase(),function(xn){var kn;do{if(kn=Vt?xn.lang:xn.getAttribute("xml:lang")||xn.getAttribute("lang"))return(kn=kn.toLowerCase())===Vr||0===kn.indexOf(Vr+"-")}while((xn=xn.parentNode)&&1===xn.nodeType);return!1}}),target:function(Vr){var xn=ii.location&&ii.location.hash;return xn&&xn.slice(1)===Vr.id},root:function(Vr){return Vr===Yt},focus:function(Vr){return Vr===function(){try{return Ft.activeElement}catch{}}()&&Ft.hasFocus()&&!!(Vr.type||Vr.href||~Vr.tabIndex)},enabled:io(!1),disabled:io(!0),checked:function(Vr){return p(Vr,"input")&&!!Vr.checked||p(Vr,"option")&&!!Vr.selected},selected:function(Vr){return!0===Vr.selected},empty:function(Vr){for(Vr=Vr.firstChild;Vr;Vr=Vr.nextSibling)if(Vr.nodeType<6)return!1;return!0},parent:function(Vr){return!Ue.pseudos.empty(Vr)},header:function(Vr){return Jo.test(Vr.nodeName)},input:function(Vr){return Ui.test(Vr.nodeName)},button:function(Vr){return p(Vr,"input")&&"button"===Vr.type||p(Vr,"button")},text:function(Vr){var xn;return p(Vr,"input")&&"text"===Vr.type&&(null==(xn=Vr.getAttribute("type"))||"text"===xn.toLowerCase())},first:di(function(){return[0]}),last:di(function(Vr,xn){return[xn-1]}),eq:di(function(Vr,xn,kn){return[kn<0?kn+xn:kn]}),even:di(function(Vr,xn){for(var kn=0;kn<xn;kn+=2)Vr.push(kn);return Vr}),odd:di(function(Vr,xn){for(var kn=1;kn<xn;kn+=2)Vr.push(kn);return Vr}),lt:di(function(Vr,xn,kn){var Nn;for(Nn=kn<0?kn+xn:xn<kn?xn:kn;0<=--Nn;)Vr.push(Nn);return Vr}),gt:di(function(Vr,xn,kn){for(var Nn=kn<0?kn+xn:kn;++Nn<xn;)Vr.push(Nn);return Vr})}}).pseudos.nth=Ue.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Ue.pseudos[ge]=ji(ge);for(ge in{submit:!0,reset:!0})Ue.pseudos[ge]=Qo(ge);function ns(){}function ls(Vr,xn){var kn,Nn,jn,za,Ea,Ba,Ra,si=In[Vr+" "];if(si)return xn?0:si.slice(0);for(Ea=Vr,Ba=[],Ra=Ue.preFilter;Ea;){for(za in kn&&!(Nn=Fi.exec(Ea))||(Nn&&(Ea=Ea.slice(Nn[0].length)||Ea),Ba.push(jn=[])),kn=!1,(Nn=co.exec(Ea))&&(kn=Nn.shift(),jn.push({value:kn,type:Nn[0].replace(E," ")}),Ea=Ea.slice(kn.length)),Ue.filter)!(Nn=zi[za].exec(Ea))||Ra[za]&&!(Nn=Ra[za](Nn))||(kn=Nn.shift(),jn.push({value:kn,type:za,matches:Nn}),Ea=Ea.slice(kn.length));if(!kn)break}return xn?Ea.length:Ea?Sa.error(Vr):In(Vr,Ba).slice(0)}function Hs(Vr){for(var xn=0,kn=Vr.length,Nn="";xn<kn;xn++)Nn+=Vr[xn].value;return Nn}function gs(Vr,xn,kn){var Nn=xn.dir,jn=xn.next,za=jn||Nn,Ea=kn&&"parentNode"===za,Ba=zr++;return xn.first?function(Ra,si,Xa){for(;Ra=Ra[Nn];)if(1===Ra.nodeType||Ea)return Vr(Ra,si,Xa);return!1}:function(Ra,si,Xa){var ri,pi,Za=[Yr,Ba];if(Xa){for(;Ra=Ra[Nn];)if((1===Ra.nodeType||Ea)&&Vr(Ra,si,Xa))return!0}else for(;Ra=Ra[Nn];)if(1===Ra.nodeType||Ea)if(pi=Ra[Gr]||(Ra[Gr]={}),jn&&p(Ra,jn))Ra=Ra[Nn]||Ra;else{if((ri=pi[za])&&ri[0]===Yr&&ri[1]===Ba)return Za[2]=ri[2];if((pi[za]=Za)[2]=Vr(Ra,si,Xa))return!0}return!1}}function Ps(Vr){return 1<Vr.length?function(xn,kn,Nn){for(var jn=Vr.length;jn--;)if(!Vr[jn](xn,kn,Nn))return!1;return!0}:Vr[0]}function Vs(Vr,xn,kn,Nn,jn){for(var za,Ea=[],Ba=0,Ra=Vr.length,si=null!=xn;Ba<Ra;Ba++)(za=Vr[Ba])&&(kn&&!kn(za,Nn,jn)||(Ea.push(za),si&&xn.push(Ba)));return Ea}function el(Vr,xn,kn,Nn,jn,za){return Nn&&!Nn[Gr]&&(Nn=el(Nn)),jn&&!jn[Gr]&&(jn=el(jn,za)),hi(function(Ea,Ba,Ra,si){var Xa,ri,pi,Za,Ri=[],ho=[],Ji=Ba.length,Ao=Ea||function(go,Ei,ko){for(var oo=0,to=Ei.length;oo<to;oo++)Sa(go,Ei[oo],ko);return ko}(xn||"*",Ra.nodeType?[Ra]:Ra,[]),Ki=!Vr||!Ea&&xn?Ao:Vs(Ao,Ri,Vr,Ra,si);if(kn?kn(Ki,Za=jn||(Ea?Vr:Ji||Nn)?[]:Ba,Ra,si):Za=Ki,Nn)for(Xa=Vs(Za,ho),Nn(Xa,[],Ra,si),ri=Xa.length;ri--;)(pi=Xa[ri])&&(Za[ho[ri]]=!(Ki[ho[ri]]=pi));if(Ea){if(jn||Vr){if(jn){for(Xa=[],ri=Za.length;ri--;)(pi=Za[ri])&&Xa.push(Ki[ri]=pi);jn(null,Za=[],Xa,si)}for(ri=Za.length;ri--;)(pi=Za[ri])&&-1<(Xa=jn?T.call(Ea,pi):Ri[ri])&&(Ea[Xa]=!(Ba[Xa]=pi))}}else Za=Vs(Za===Ba?Za.splice(Ji,Za.length):Za),jn?jn(null,Ba,Za,si):Dr.apply(Ba,Za)})}function yl(Vr){for(var xn,kn,Nn,jn=Vr.length,za=Ue.relative[Vr[0].type],Ea=za||Ue.relative[" "],Ba=za?1:0,Ra=gs(function(ri){return ri===xn},Ea,!0),si=gs(function(ri){return-1<T.call(xn,ri)},Ea,!0),Xa=[function(ri,pi,Za){var Ri=!za&&(Za||pi!=nt)||((xn=pi).nodeType?Ra(ri,pi,Za):si(ri,pi,Za));return xn=null,Ri}];Ba<jn;Ba++)if(kn=Ue.relative[Vr[Ba].type])Xa=[gs(Ps(Xa),kn)];else{if((kn=Ue.filter[Vr[Ba].type].apply(null,Vr[Ba].matches))[Gr]){for(Nn=++Ba;Nn<jn&&!Ue.relative[Vr[Nn].type];Nn++);return el(1<Ba&&Ps(Xa),1<Ba&&Hs(Vr.slice(0,Ba-1).concat({value:" "===Vr[Ba-2].type?"*":""})).replace(E,"$1"),kn,Ba<Nn&&yl(Vr.slice(Ba,Nn)),Nn<jn&&yl(Vr=Vr.slice(Nn)),Nn<jn&&Hs(Vr))}Xa.push(kn)}return Ps(Xa)}function Ds(Vr,xn){var kn,Nn,jn,za,Ea,Ba,Ra=[],si=[],Xa=Bn[Vr+" "];if(!Xa){for(xn||(xn=ls(Vr)),kn=xn.length;kn--;)(Xa=yl(xn[kn]))[Gr]?Ra.push(Xa):si.push(Xa);(Xa=Bn(Vr,(Nn=si,za=0<(jn=Ra).length,Ea=0<Nn.length,Ba=function(ri,pi,Za,Ri,ho){var Ji,Ao,Ki,go=0,Ei="0",ko=ri&&[],oo=[],to=nt,us=ri||Ea&&Ue.find.TAG("*",ho),cn=Yr+=null==to?1:Math.random()||.1,gt=us.length;for(ho&&(nt=pi==Ft||pi||ho);Ei!==gt&&null!=(Ji=us[Ei]);Ei++){if(Ea&&Ji){for(Ao=0,pi||Ji.ownerDocument==Ft||(To(Ji),Za=!Vt);Ki=Nn[Ao++];)if(Ki(Ji,pi||Ft,Za)){Dr.call(Ri,Ji);break}ho&&(Yr=cn)}za&&((Ji=!Ki&&Ji)&&go--,ri&&ko.push(Ji))}if(go+=Ei,za&&Ei!==go){for(Ao=0;Ki=jn[Ao++];)Ki(ko,oo,pi,Za);if(ri){if(0<go)for(;Ei--;)ko[Ei]||oo[Ei]||(oo[Ei]=s.call(Ri));oo=Vs(oo)}Dr.apply(Ri,oo),ho&&!ri&&0<oo.length&&1<go+jn.length&&a.uniqueSort(Ri)}return ho&&(Yr=cn,nt=to),ko},za?hi(Ba):Ba))).selector=Vr}return Xa}function tl(Vr,xn,kn,Nn){var jn,za,Ea,Ba,Ra,si="function"==typeof Vr&&Vr,Xa=!Nn&&ls(Vr=si.selector||Vr);if(kn=kn||[],1===Xa.length){if(2<(za=Xa[0]=Xa[0].slice(0)).length&&"ID"===(Ea=za[0]).type&&9===xn.nodeType&&Vt&&Ue.relative[za[1].type]){if(!(xn=(Ue.find.ID(Ea.matches[0].replace(Wi,Yi),xn)||[])[0]))return kn;si&&(xn=xn.parentNode),Vr=Vr.slice(za.shift().value.length)}for(jn=zi.needsContext.test(Vr)?0:za.length;jn--&&!Ue.relative[Ba=(Ea=za[jn]).type];)if((Ra=Ue.find[Ba])&&(Nn=Ra(Ea.matches[0].replace(Wi,Yi),ui.test(za[0].type)&&qs(xn.parentNode)||xn))){if(za.splice(jn,1),!(Vr=Nn.length&&Hs(za)))return Dr.apply(kn,Nn),kn;break}}return(si||Ds(Vr,Xa))(Nn,xn,!Vt,kn,!xn||ui.test(Vr)&&qs(xn.parentNode)||xn),kn}ns.prototype=Ue.filters=Ue.pseudos,Ue.setFilters=new ns,y.sortStable=Gr.split("").sort(Kn).join("")===Gr,To(),y.sortDetached=Zi(function(Vr){return 1&Vr.compareDocumentPosition(Ft.createElement("fieldset"))}),a.find=Sa,a.expr[":"]=a.expr.pseudos,a.unique=a.uniqueSort,Sa.compile=Ds,Sa.select=tl,Sa.setDocument=To,Sa.tokenize=ls,Sa.escape=a.escapeSelector,Sa.getText=a.text,Sa.isXML=a.isXMLDoc,Sa.selectors=a.expr,Sa.support=a.support,Sa.uniqueSort=a.uniqueSort}();var S=function(ge,Ue,nt){for(var ct=[],Pt=void 0!==nt;(ge=ge[Ue])&&9!==ge.nodeType;)if(1===ge.nodeType){if(Pt&&a(ge).is(nt))break;ct.push(ge)}return ct},d=function(ge,Ue){for(var nt=[];ge;ge=ge.nextSibling)1===ge.nodeType&&ge!==Ue&&nt.push(ge);return nt},I=a.expr.match.needsContext,L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function B(ge,Ue,nt){return t(Ue)?a.grep(ge,function(ct,Pt){return!!Ue.call(ct,Pt,ct)!==nt}):Ue.nodeType?a.grep(ge,function(ct){return ct===Ue!==nt}):"string"!=typeof Ue?a.grep(ge,function(ct){return-1<T.call(Ue,ct)!==nt}):a.filter(Ue,ge,nt)}a.filter=function(ge,Ue,nt){var ct=Ue[0];return nt&&(ge=":not("+ge+")"),1===Ue.length&&1===ct.nodeType?a.find.matchesSelector(ct,ge)?[ct]:[]:a.find.matches(ge,a.grep(Ue,function(Pt){return 1===Pt.nodeType}))},a.fn.extend({find:function(ge){var Ue,nt,ct=this.length,Pt=this;if("string"!=typeof ge)return this.pushStack(a(ge).filter(function(){for(Ue=0;Ue<ct;Ue++)if(a.contains(Pt[Ue],this))return!0}));for(nt=this.pushStack([]),Ue=0;Ue<ct;Ue++)a.find(ge,Pt[Ue],nt);return 1<ct?a.uniqueSort(nt):nt},filter:function(ge){return this.pushStack(B(this,ge||[],!1))},not:function(ge){return this.pushStack(B(this,ge||[],!0))},is:function(ge){return!!B(this,"string"==typeof ge&&I.test(ge)?a(ge):ge||[],!1).length}});var k,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(a.fn.init=function(ge,Ue,nt){var ct,Pt;if(!ge)return this;if(nt=nt||k,"string"==typeof ge){if(!(ct="<"===ge[0]&&">"===ge[ge.length-1]&&3<=ge.length?[null,ge,null]:z.exec(ge))||!ct[1]&&Ue)return!Ue||Ue.jquery?(Ue||nt).find(ge):this.constructor(Ue).find(ge);if(ct[1]){if(a.merge(this,a.parseHTML(ct[1],(Ue=Ue instanceof a?Ue[0]:Ue)&&Ue.nodeType?Ue.ownerDocument||Ue:l,!0)),L.test(ct[1])&&a.isPlainObject(Ue))for(ct in Ue)t(this[ct])?this[ct](Ue[ct]):this.attr(ct,Ue[ct]);return this}return(Pt=l.getElementById(ct[2]))&&(this[0]=Pt,this.length=1),this}return ge.nodeType?(this[0]=ge,this.length=1,this):t(ge)?void 0!==nt.ready?nt.ready(ge):ge(a):a.makeArray(ge,this)}).prototype=a.fn,k=a(l);var O=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function N(ge,Ue){for(;(ge=ge[Ue])&&1!==ge.nodeType;);return ge}a.fn.extend({has:function(ge){var Ue=a(ge,this),nt=Ue.length;return this.filter(function(){for(var ct=0;ct<nt;ct++)if(a.contains(this,Ue[ct]))return!0})},closest:function(ge,Ue){var nt,ct=0,Pt=this.length,Ft=[],Yt="string"!=typeof ge&&a(ge);if(!I.test(ge))for(;ct<Pt;ct++)for(nt=this[ct];nt&&nt!==Ue;nt=nt.parentNode)if(nt.nodeType<11&&(Yt?-1<Yt.index(nt):1===nt.nodeType&&a.find.matchesSelector(nt,ge))){Ft.push(nt);break}return this.pushStack(1<Ft.length?a.uniqueSort(Ft):Ft)},index:function(ge){return ge?"string"==typeof ge?T.call(a(ge),this[0]):T.call(this,ge.jquery?ge[0]:ge):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(ge,Ue){return this.pushStack(a.uniqueSort(a.merge(this.get(),a(ge,Ue))))},addBack:function(ge){return this.add(null==ge?this.prevObject:this.prevObject.filter(ge))}}),a.each({parent:function(ge){var Ue=ge.parentNode;return Ue&&11!==Ue.nodeType?Ue:null},parents:function(ge){return S(ge,"parentNode")},parentsUntil:function(ge,Ue,nt){return S(ge,"parentNode",nt)},next:function(ge){return N(ge,"nextSibling")},prev:function(ge){return N(ge,"previousSibling")},nextAll:function(ge){return S(ge,"nextSibling")},prevAll:function(ge){return S(ge,"previousSibling")},nextUntil:function(ge,Ue,nt){return S(ge,"nextSibling",nt)},prevUntil:function(ge,Ue,nt){return S(ge,"previousSibling",nt)},siblings:function(ge){return d((ge.parentNode||{}).firstChild,ge)},children:function(ge){return d(ge.firstChild)},contents:function(ge){return null!=ge.contentDocument&&pl(ge.contentDocument)?ge.contentDocument:(p(ge,"template")&&(ge=ge.content||ge),a.merge([],ge.childNodes))}},function(ge,Ue){a.fn[ge]=function(nt,ct){var Pt=a.map(this,Ue,nt);return"Until"!==ge.slice(-5)&&(ct=nt),ct&&"string"==typeof ct&&(Pt=a.filter(ct,Pt)),1<this.length&&(F[ge]||a.uniqueSort(Pt),O.test(ge)&&Pt.reverse()),this.pushStack(Pt)}});var H=/[^\x20\t\r\n\f]+/g;function X(ge){return ge}function ne(ge){throw ge}function ie(ge,Ue,nt,ct){var Pt;try{ge&&t(Pt=ge.promise)?Pt.call(ge).done(Ue).fail(nt):ge&&t(Pt=ge.then)?Pt.call(ge,Ue,nt):Ue.apply(void 0,[ge].slice(ct))}catch(Ft){nt.apply(void 0,[Ft])}}a.Callbacks=function(ge){var nt;ge="string"==typeof ge?(nt={},a.each(ge.match(H)||[],function(Yr,zr){nt[zr]=!0}),nt):a.extend({},ge);var ct,Pt,Ft,Yt,Vt=[],Ot=[],Jt=-1,Dr=function(){for(Yt=Yt||ge.once,Ft=ct=!0;Ot.length;Jt=-1)for(Pt=Ot.shift();++Jt<Vt.length;)!1===Vt[Jt].apply(Pt[0],Pt[1])&&ge.stopOnFalse&&(Jt=Vt.length,Pt=!1);ge.memory||(Pt=!1),ct=!1,Yt&&(Vt=Pt?[]:"")},Gr={add:function(){return Vt&&(Pt&&!ct&&(Jt=Vt.length-1,Ot.push(Pt)),function Yr(zr){a.each(zr,function(bn,In){t(In)?ge.unique&&Gr.has(In)||Vt.push(In):In&&In.length&&"string"!==f(In)&&Yr(In)})}(arguments),Pt&&!ct&&Dr()),this},remove:function(){return a.each(arguments,function(Yr,zr){for(var bn;-1<(bn=a.inArray(zr,Vt,bn));)Vt.splice(bn,1),bn<=Jt&&Jt--}),this},has:function(Yr){return Yr?-1<a.inArray(Yr,Vt):0<Vt.length},empty:function(){return Vt&&(Vt=[]),this},disable:function(){return Yt=Ot=[],Vt=Pt="",this},disabled:function(){return!Vt},lock:function(){return Yt=Ot=[],Pt||ct||(Vt=Pt=""),this},locked:function(){return!!Yt},fireWith:function(Yr,zr){return Yt||(zr=[Yr,(zr=zr||[]).slice?zr.slice():zr],Ot.push(zr),ct||Dr()),this},fire:function(){return Gr.fireWith(this,arguments),this},fired:function(){return!!Ft}};return Gr},a.extend({Deferred:function(ge){var Ue=[["notify","progress",a.Callbacks("memory"),a.Callbacks("memory"),2],["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),0,"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),1,"rejected"]],nt="pending",ct={state:function(){return nt},always:function(){return Pt.done(arguments).fail(arguments),this},catch:function(Ft){return ct.then(null,Ft)},pipe:function(){var Ft=arguments;return a.Deferred(function(Yt){a.each(Ue,function(Vt,Ot){var Jt=t(Ft[Ot[4]])&&Ft[Ot[4]];Pt[Ot[1]](function(){var Dr=Jt&&Jt.apply(this,arguments);Dr&&t(Dr.promise)?Dr.promise().progress(Yt.notify).done(Yt.resolve).fail(Yt.reject):Yt[Ot[0]+"With"](this,Jt?[Dr]:arguments)})}),Ft=null}).promise()},then:function(Ft,Yt,Vt){var Ot=0;function Jt(Dr,Gr,Yr,zr){return function(){var bn=this,In=arguments,Bn=function(){var Kn,ha;if(!(Dr<Ot)){if((Kn=Yr.apply(bn,In))===Gr.promise())throw new TypeError("Thenable self-resolution");t(ha=Kn&&("object"==typeof Kn||"function"==typeof Kn)&&Kn.then)?zr?ha.call(Kn,Jt(Ot,Gr,X,zr),Jt(Ot,Gr,ne,zr)):(Ot++,ha.call(Kn,Jt(Ot,Gr,X,zr),Jt(Ot,Gr,ne,zr),Jt(Ot,Gr,X,Gr.notifyWith))):(Yr!==X&&(bn=void 0,In=[Kn]),(zr||Gr.resolveWith)(bn,In))}},ea=zr?Bn:function(){try{Bn()}catch(Kn){a.Deferred.exceptionHook&&a.Deferred.exceptionHook(Kn,ea.error),Ot<=Dr+1&&(Yr!==ne&&(bn=void 0,In=[Kn]),Gr.rejectWith(bn,In))}};Dr?ea():(a.Deferred.getErrorHook?ea.error=a.Deferred.getErrorHook():a.Deferred.getStackHook&&(ea.error=a.Deferred.getStackHook()),ii.setTimeout(ea))}}return a.Deferred(function(Dr){Ue[0][3].add(Jt(0,Dr,t(Vt)?Vt:X,Dr.notifyWith)),Ue[1][3].add(Jt(0,Dr,t(Ft)?Ft:X)),Ue[2][3].add(Jt(0,Dr,t(Yt)?Yt:ne))}).promise()},promise:function(Ft){return null!=Ft?a.extend(Ft,ct):ct}},Pt={};return a.each(Ue,function(Ft,Yt){var Vt=Yt[2],Ot=Yt[5];ct[Yt[1]]=Vt.add,Ot&&Vt.add(function(){nt=Ot},Ue[3-Ft][2].disable,Ue[3-Ft][3].disable,Ue[0][2].lock,Ue[0][3].lock),Vt.add(Yt[3].fire),Pt[Yt[0]]=function(){return Pt[Yt[0]+"With"](this===Pt?void 0:this,arguments),this},Pt[Yt[0]+"With"]=Vt.fireWith}),ct.promise(Pt),ge&&ge.call(Pt,Pt),Pt},when:function(ge){var Ue=arguments.length,nt=Ue,ct=Array(nt),Pt=te.call(arguments),Ft=a.Deferred(),Yt=function(Vt){return function(Ot){ct[Vt]=this,Pt[Vt]=1<arguments.length?te.call(arguments):Ot,--Ue||Ft.resolveWith(ct,Pt)}};if(Ue<=1&&(ie(ge,Ft.done(Yt(nt)).resolve,Ft.reject,!Ue),"pending"===Ft.state()||t(Pt[nt]&&Pt[nt].then)))return Ft.then();for(;nt--;)ie(Pt[nt],Yt(nt),Ft.reject);return Ft.promise()}});var ue=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;a.Deferred.exceptionHook=function(ge,Ue){ii.console&&ii.console.warn&&ge&&ue.test(ge.name)&&ii.console.warn("jQuery.Deferred exception: "+ge.message,ge.stack,Ue)},a.readyException=function(ge){ii.setTimeout(function(){throw ge})};var J=a.Deferred();function j(){l.removeEventListener("DOMContentLoaded",j),ii.removeEventListener("load",j),a.ready()}a.fn.ready=function(ge){return J.then(ge).catch(function(Ue){a.readyException(Ue)}),this},a.extend({isReady:!1,readyWait:1,ready:function(ge){(!0===ge?--a.readyWait:a.isReady)||(a.isReady=!0)!==ge&&0<--a.readyWait||J.resolveWith(l,[a])}}),a.ready.then=J.then,"complete"===l.readyState||"loading"!==l.readyState&&!l.documentElement.doScroll?ii.setTimeout(a.ready):(l.addEventListener("DOMContentLoaded",j),ii.addEventListener("load",j));var W=function(ge,Ue,nt,ct,Pt,Ft,Yt){var Vt=0,Ot=ge.length,Jt=null==nt;if("object"===f(nt))for(Vt in Pt=!0,nt)W(ge,Ue,Vt,nt[Vt],!0,Ft,Yt);else if(void 0!==ct&&(Pt=!0,t(ct)||(Yt=!0),Jt&&(Yt?(Ue.call(ge,ct),Ue=null):(Jt=Ue,Ue=function(Dr,Gr,Yr){return Jt.call(a(Dr),Yr)})),Ue))for(;Vt<Ot;Vt++)Ue(ge[Vt],nt,Yt?ct:ct.call(ge[Vt],Vt,Ue(ge[Vt],nt)));return Pt?ge:Jt?Ue.call(ge):Ot?Ue(ge[0],nt):Ft},V=/^-ms-/,K=/-([a-z])/g;function ae(ge,Ue){return Ue.toUpperCase()}function Q(ge){return ge.replace(V,"ms-").replace(K,ae)}var Z=function(ge){return 1===ge.nodeType||9===ge.nodeType||!+ge.nodeType};function re(){this.expando=a.expando+re.uid++}re.uid=1,re.prototype={cache:function(ge){var Ue=ge[this.expando];return Ue||(Ue={},Z(ge)&&(ge.nodeType?ge[this.expando]=Ue:Object.defineProperty(ge,this.expando,{value:Ue,configurable:!0}))),Ue},set:function(ge,Ue,nt){var ct,Pt=this.cache(ge);if("string"==typeof Ue)Pt[Q(Ue)]=nt;else for(ct in Ue)Pt[Q(ct)]=Ue[ct];return Pt},get:function(ge,Ue){return void 0===Ue?this.cache(ge):ge[this.expando]&&ge[this.expando][Q(Ue)]},access:function(ge,Ue,nt){return void 0===Ue||Ue&&"string"==typeof Ue&&void 0===nt?this.get(ge,Ue):(this.set(ge,Ue,nt),void 0!==nt?nt:Ue)},remove:function(ge,Ue){var nt,ct=ge[this.expando];if(void 0!==ct){if(void 0!==Ue)for((nt=(Ue=Array.isArray(Ue)?Ue.map(Q):(Ue=Q(Ue))in ct?[Ue]:Ue.match(H)||[]).length);nt--;)delete ct[Ue[nt]];(void 0===Ue||a.isEmptyObject(ct))&&(ge.nodeType?ge[this.expando]=void 0:delete ge[this.expando])}},hasData:function(ge){var Ue=ge[this.expando];return void 0!==Ue&&!a.isEmptyObject(Ue)}};var q=new re,se=new re,de=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/[A-Z]/g;function ye(ge,Ue,nt){var ct,Pt;if(void 0===nt&&1===ge.nodeType)if(ct="data-"+Ue.replace(we,"-$&").toLowerCase(),"string"==typeof(nt=ge.getAttribute(ct))){try{nt="true"===(Pt=nt)||"false"!==Pt&&("null"===Pt?null:Pt===+Pt+""?+Pt:de.test(Pt)?JSON.parse(Pt):Pt)}catch{}se.set(ge,Ue,nt)}else nt=void 0;return nt}a.extend({hasData:function(ge){return se.hasData(ge)||q.hasData(ge)},data:function(ge,Ue,nt){return se.access(ge,Ue,nt)},removeData:function(ge,Ue){se.remove(ge,Ue)},_data:function(ge,Ue,nt){return q.access(ge,Ue,nt)},_removeData:function(ge,Ue){q.remove(ge,Ue)}}),a.fn.extend({data:function(ge,Ue){var nt,ct,Pt,Ft=this[0],Yt=Ft&&Ft.attributes;if(void 0===ge){if(this.length&&(Pt=se.get(Ft),1===Ft.nodeType&&!q.get(Ft,"hasDataAttrs"))){for(nt=Yt.length;nt--;)Yt[nt]&&0===(ct=Yt[nt].name).indexOf("data-")&&(ct=Q(ct.slice(5)),ye(Ft,ct,Pt[ct]));q.set(Ft,"hasDataAttrs",!0)}return Pt}return"object"==typeof ge?this.each(function(){se.set(this,ge)}):W(this,function(Vt){var Ot;if(Ft&&void 0===Vt)return void 0!==(Ot=se.get(Ft,ge))||void 0!==(Ot=ye(Ft,ge))?Ot:void 0;this.each(function(){se.set(this,ge,Vt)})},null,Ue,1<arguments.length,null,!0)},removeData:function(ge){return this.each(function(){se.remove(this,ge)})}}),a.extend({queue:function(ge,Ue,nt){var ct;if(ge)return ct=q.get(ge,Ue=(Ue||"fx")+"queue"),nt&&(!ct||Array.isArray(nt)?ct=q.access(ge,Ue,a.makeArray(nt)):ct.push(nt)),ct||[]},dequeue:function(ge,Ue){var nt=a.queue(ge,Ue=Ue||"fx"),ct=nt.length,Pt=nt.shift(),Ft=a._queueHooks(ge,Ue);"inprogress"===Pt&&(Pt=nt.shift(),ct--),Pt&&("fx"===Ue&&nt.unshift("inprogress"),delete Ft.stop,Pt.call(ge,function(){a.dequeue(ge,Ue)},Ft)),!ct&&Ft&&Ft.empty.fire()},_queueHooks:function(ge,Ue){var nt=Ue+"queueHooks";return q.get(ge,nt)||q.access(ge,nt,{empty:a.Callbacks("once memory").add(function(){q.remove(ge,[Ue+"queue",nt])})})}}),a.fn.extend({queue:function(ge,Ue){var nt=2;return"string"!=typeof ge&&(Ue=ge,ge="fx",nt--),arguments.length<nt?a.queue(this[0],ge):void 0===Ue?this:this.each(function(){var ct=a.queue(this,ge,Ue);a._queueHooks(this,ge),"fx"===ge&&"inprogress"!==ct[0]&&a.dequeue(this,ge)})},dequeue:function(ge){return this.each(function(){a.dequeue(this,ge)})},clearQueue:function(ge){return this.queue(ge||"fx",[])},promise:function(ge,Ue){var nt,ct=1,Pt=a.Deferred(),Ft=this,Yt=this.length,Vt=function(){--ct||Pt.resolveWith(Ft,[Ft])};for("string"!=typeof ge&&(Ue=ge,ge=void 0),ge=ge||"fx";Yt--;)(nt=q.get(Ft[Yt],ge+"queueHooks"))&&nt.empty&&(ct++,nt.empty.add(Vt));return Vt(),Pt.promise(Ue)}});var Pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ie=new RegExp("^(?:([+-])=|)("+Pe+")([a-z%]*)$","i"),Se=["Top","Right","Bottom","Left"],xe=l.documentElement,Me=function(ge){return a.contains(ge.ownerDocument,ge)},Ge={composed:!0};xe.getRootNode&&(Me=function(ge){return a.contains(ge.ownerDocument,ge)||ge.getRootNode(Ge)===ge.ownerDocument});var Ye=function(ge,Ue){return"none"===(ge=Ue||ge).style.display||""===ge.style.display&&Me(ge)&&"none"===a.css(ge,"display")};function De(ge,Ue,nt,ct){var Pt,Ft,Yt=20,Vt=ct?function(){return ct.cur()}:function(){return a.css(ge,Ue,"")},Ot=Vt(),Jt=nt&&nt[3]||(a.cssNumber[Ue]?"":"px"),Dr=ge.nodeType&&(a.cssNumber[Ue]||"px"!==Jt&&+Ot)&&Ie.exec(a.css(ge,Ue));if(Dr&&Dr[3]!==Jt){for(Jt=Jt||Dr[3],Dr=+(Ot/=2)||1;Yt--;)a.style(ge,Ue,Dr+Jt),(1-Ft)*(1-(Ft=Vt()/Ot||.5))<=0&&(Yt=0),Dr/=Ft;a.style(ge,Ue,(Dr*=2)+Jt),nt=nt||[]}return nt&&(Dr=+Dr||+Ot||0,Pt=nt[1]?Dr+(nt[1]+1)*nt[2]:+nt[2],ct&&(ct.unit=Jt,ct.start=Dr,ct.end=Pt)),Pt}var He={};function rt(ge,Ue){for(var nt,ct,Pt,Ft,Yt,Vt,Ot,Jt=[],Dr=0,Gr=ge.length;Dr<Gr;Dr++)(ct=ge[Dr]).style&&(nt=ct.style.display,Ue?("none"===nt&&(Jt[Dr]=q.get(ct,"display")||null,Jt[Dr]||(ct.style.display="")),""===ct.style.display&&Ye(ct)&&(Jt[Dr]=(Ot=Yt=Ft=void 0,Yt=(Pt=ct).ownerDocument,(Ot=He[Vt=Pt.nodeName])||(Ft=Yt.body.appendChild(Yt.createElement(Vt)),Ot=a.css(Ft,"display"),Ft.parentNode.removeChild(Ft),"none"===Ot&&(Ot="block"),He[Vt]=Ot)))):"none"!==nt&&(Jt[Dr]="none",q.set(ct,"display",nt)));for(Dr=0;Dr<Gr;Dr++)null!=Jt[Dr]&&(ge[Dr].style.display=Jt[Dr]);return ge}a.fn.extend({show:function(){return rt(this,!0)},hide:function(){return rt(this)},toggle:function(ge){return"boolean"==typeof ge?ge?this.show():this.hide():this.each(function(){Ye(this)?a(this).show():a(this).hide()})}});var $e,Be,ze=/^(?:checkbox|radio)$/i,tt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,lt=/^$|^module$|\/(?:java|ecma)script/i;$e=l.createDocumentFragment().appendChild(l.createElement("div")),(Be=l.createElement("input")).setAttribute("type","radio"),Be.setAttribute("checked","checked"),Be.setAttribute("name","t"),$e.appendChild(Be),y.checkClone=$e.cloneNode(!0).cloneNode(!0).lastChild.checked,$e.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!$e.cloneNode(!0).lastChild.defaultValue,$e.innerHTML="<option></option>",y.option=!!$e.lastChild;var ut={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function xt(ge,Ue){var nt;return nt=typeof ge.getElementsByTagName<"u"?ge.getElementsByTagName(Ue||"*"):typeof ge.querySelectorAll<"u"?ge.querySelectorAll(Ue||"*"):[],void 0===Ue||Ue&&p(ge,Ue)?a.merge([ge],nt):nt}function bt(ge,Ue){for(var nt=0,ct=ge.length;nt<ct;nt++)q.set(ge[nt],"globalEval",!Ue||q.get(Ue[nt],"globalEval"))}ut.tbody=ut.tfoot=ut.colgroup=ut.caption=ut.thead,ut.th=ut.td,y.option||(ut.optgroup=ut.option=[1,"<select multiple='multiple'>","</select>"]);var Ht=/<|&#?\w+;/;function Je(ge,Ue,nt,ct,Pt){for(var Ft,Yt,Vt,Ot,Jt,Dr,Gr=Ue.createDocumentFragment(),Yr=[],zr=0,bn=ge.length;zr<bn;zr++)if((Ft=ge[zr])||0===Ft)if("object"===f(Ft))a.merge(Yr,Ft.nodeType?[Ft]:Ft);else if(Ht.test(Ft)){for(Yt=Yt||Gr.appendChild(Ue.createElement("div")),Vt=(tt.exec(Ft)||["",""])[1].toLowerCase(),Yt.innerHTML=(Ot=ut[Vt]||ut._default)[1]+a.htmlPrefilter(Ft)+Ot[2],Dr=Ot[0];Dr--;)Yt=Yt.lastChild;a.merge(Yr,Yt.childNodes),(Yt=Gr.firstChild).textContent=""}else Yr.push(Ue.createTextNode(Ft));for(Gr.textContent="",zr=0;Ft=Yr[zr++];)if(ct&&-1<a.inArray(Ft,ct))Pt&&Pt.push(Ft);else if(Jt=Me(Ft),Yt=xt(Gr.appendChild(Ft),"script"),Jt&&bt(Yt),nt)for(Dr=0;Ft=Yt[Dr++];)lt.test(Ft.type||"")&&nt.push(Ft);return Gr}var Ce=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function Re(){return!1}function ke(ge,Ue,nt,ct,Pt,Ft){var Yt,Vt;if("object"==typeof Ue){for(Vt in"string"!=typeof nt&&(ct=ct||nt,nt=void 0),Ue)ke(ge,Vt,nt,ct,Ue[Vt],Ft);return ge}if(null==ct&&null==Pt?(Pt=nt,ct=nt=void 0):null==Pt&&("string"==typeof nt?(Pt=ct,ct=void 0):(Pt=ct,ct=nt,nt=void 0)),!1===Pt)Pt=Re;else if(!Pt)return ge;return 1===Ft&&(Yt=Pt,(Pt=function(Ot){return a().off(Ot),Yt.apply(this,arguments)}).guid=Yt.guid||(Yt.guid=a.guid++)),ge.each(function(){a.event.add(this,Ue,Pt,ct,nt)})}function Ne(ge,Ue,nt){nt?(q.set(ge,Ue,!1),a.event.add(ge,Ue,{namespace:!1,handler:function(ct){var Pt,Ft=q.get(this,Ue);if(1&ct.isTrigger&&this[Ue]){if(Ft)(a.event.special[Ue]||{}).delegateType&&ct.stopPropagation();else if(Ft=te.call(arguments),q.set(this,Ue,Ft),this[Ue](),Pt=q.get(this,Ue),q.set(this,Ue,!1),Ft!==Pt)return ct.stopImmediatePropagation(),ct.preventDefault(),Pt}else Ft&&(q.set(this,Ue,a.event.trigger(Ft[0],Ft.slice(1),this)),ct.stopPropagation(),ct.isImmediatePropagationStopped=Ee)}})):void 0===q.get(ge,Ue)&&a.event.add(ge,Ue,Ee)}a.event={global:{},add:function(ge,Ue,nt,ct,Pt){var Ft,Yt,Vt,Ot,Jt,Dr,Gr,Yr,zr,bn,In,Bn=q.get(ge);if(Z(ge))for(nt.handler&&(nt=(Ft=nt).handler,Pt=Ft.selector),Pt&&a.find.matchesSelector(xe,Pt),nt.guid||(nt.guid=a.guid++),(Ot=Bn.events)||(Ot=Bn.events=Object.create(null)),(Yt=Bn.handle)||(Yt=Bn.handle=function(ea){return typeof a<"u"&&a.event.triggered!==ea.type?a.event.dispatch.apply(ge,arguments):void 0}),Jt=(Ue=(Ue||"").match(H)||[""]).length;Jt--;)zr=In=(Vt=Ce.exec(Ue[Jt])||[])[1],bn=(Vt[2]||"").split(".").sort(),zr&&(Gr=a.event.special[zr]||{},Gr=a.event.special[zr=(Pt?Gr.delegateType:Gr.bindType)||zr]||{},Dr=a.extend({type:zr,origType:In,data:ct,handler:nt,guid:nt.guid,selector:Pt,needsContext:Pt&&a.expr.match.needsContext.test(Pt),namespace:bn.join(".")},Ft),(Yr=Ot[zr])||((Yr=Ot[zr]=[]).delegateCount=0,Gr.setup&&!1!==Gr.setup.call(ge,ct,bn,Yt)||ge.addEventListener&&ge.addEventListener(zr,Yt)),Gr.add&&(Gr.add.call(ge,Dr),Dr.handler.guid||(Dr.handler.guid=nt.guid)),Pt?Yr.splice(Yr.delegateCount++,0,Dr):Yr.push(Dr),a.event.global[zr]=!0)},remove:function(ge,Ue,nt,ct,Pt){var Ft,Yt,Vt,Ot,Jt,Dr,Gr,Yr,zr,bn,In,Bn=q.hasData(ge)&&q.get(ge);if(Bn&&(Ot=Bn.events)){for(Jt=(Ue=(Ue||"").match(H)||[""]).length;Jt--;)if(zr=In=(Vt=Ce.exec(Ue[Jt])||[])[1],bn=(Vt[2]||"").split(".").sort(),zr){for(Gr=a.event.special[zr]||{},Yr=Ot[zr=(ct?Gr.delegateType:Gr.bindType)||zr]||[],Vt=Vt[2]&&new RegExp("(^|\\.)"+bn.join("\\.(?:.*\\.|)")+"(\\.|$)"),Yt=Ft=Yr.length;Ft--;)Dr=Yr[Ft],!Pt&&In!==Dr.origType||nt&&nt.guid!==Dr.guid||Vt&&!Vt.test(Dr.namespace)||ct&&ct!==Dr.selector&&("**"!==ct||!Dr.selector)||(Yr.splice(Ft,1),Dr.selector&&Yr.delegateCount--,Gr.remove&&Gr.remove.call(ge,Dr));Yt&&!Yr.length&&(Gr.teardown&&!1!==Gr.teardown.call(ge,bn,Bn.handle)||a.removeEvent(ge,zr,Bn.handle),delete Ot[zr])}else for(zr in Ot)a.event.remove(ge,zr+Ue[Jt],nt,ct,!0);a.isEmptyObject(Ot)&&q.remove(ge,"handle events")}},dispatch:function(ge){var Ue,nt,ct,Pt,Ft,Yt,Vt=new Array(arguments.length),Ot=a.event.fix(ge),Jt=(q.get(this,"events")||Object.create(null))[Ot.type]||[],Dr=a.event.special[Ot.type]||{};for(Vt[0]=Ot,Ue=1;Ue<arguments.length;Ue++)Vt[Ue]=arguments[Ue];if(Ot.delegateTarget=this,!Dr.preDispatch||!1!==Dr.preDispatch.call(this,Ot)){for(Yt=a.event.handlers.call(this,Ot,Jt),Ue=0;(Pt=Yt[Ue++])&&!Ot.isPropagationStopped();)for(Ot.currentTarget=Pt.elem,nt=0;(Ft=Pt.handlers[nt++])&&!Ot.isImmediatePropagationStopped();)Ot.rnamespace&&!1!==Ft.namespace&&!Ot.rnamespace.test(Ft.namespace)||(Ot.handleObj=Ft,Ot.data=Ft.data,void 0!==(ct=((a.event.special[Ft.origType]||{}).handle||Ft.handler).apply(Pt.elem,Vt))&&!1===(Ot.result=ct)&&(Ot.preventDefault(),Ot.stopPropagation()));return Dr.postDispatch&&Dr.postDispatch.call(this,Ot),Ot.result}},handlers:function(ge,Ue){var nt,ct,Pt,Ft,Yt,Vt=[],Ot=Ue.delegateCount,Jt=ge.target;if(Ot&&Jt.nodeType&&!("click"===ge.type&&1<=ge.button))for(;Jt!==this;Jt=Jt.parentNode||this)if(1===Jt.nodeType&&("click"!==ge.type||!0!==Jt.disabled)){for(Ft=[],Yt={},nt=0;nt<Ot;nt++)void 0===Yt[Pt=(ct=Ue[nt]).selector+" "]&&(Yt[Pt]=ct.needsContext?-1<a(Pt,this).index(Jt):a.find(Pt,this,null,[Jt]).length),Yt[Pt]&&Ft.push(ct);Ft.length&&Vt.push({elem:Jt,handlers:Ft})}return Jt=this,Ot<Ue.length&&Vt.push({elem:Jt,handlers:Ue.slice(Ot)}),Vt},addProp:function(ge,Ue){Object.defineProperty(a.Event.prototype,ge,{enumerable:!0,configurable:!0,get:t(Ue)?function(){if(this.originalEvent)return Ue(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[ge]},set:function(nt){Object.defineProperty(this,ge,{enumerable:!0,configurable:!0,writable:!0,value:nt})}})},fix:function(ge){return ge[a.expando]?ge:new a.Event(ge)},special:{load:{noBubble:!0},click:{setup:function(ge){var Ue=this||ge;return ze.test(Ue.type)&&Ue.click&&p(Ue,"input")&&Ne(Ue,"click",!0),!1},trigger:function(ge){var Ue=this||ge;return ze.test(Ue.type)&&Ue.click&&p(Ue,"input")&&Ne(Ue,"click"),!0},_default:function(ge){var Ue=ge.target;return ze.test(Ue.type)&&Ue.click&&p(Ue,"input")&&q.get(Ue,"click")||p(Ue,"a")}},beforeunload:{postDispatch:function(ge){void 0!==ge.result&&ge.originalEvent&&(ge.originalEvent.returnValue=ge.result)}}}},a.removeEvent=function(ge,Ue,nt){ge.removeEventListener&&ge.removeEventListener(Ue,nt)},a.Event=function(ge,Ue){if(!(this instanceof a.Event))return new a.Event(ge,Ue);ge&&ge.type?(this.originalEvent=ge,this.type=ge.type,this.isDefaultPrevented=ge.defaultPrevented||void 0===ge.defaultPrevented&&!1===ge.returnValue?Ee:Re,this.target=ge.target&&3===ge.target.nodeType?ge.target.parentNode:ge.target,this.currentTarget=ge.currentTarget,this.relatedTarget=ge.relatedTarget):this.type=ge,Ue&&a.extend(this,Ue),this.timeStamp=ge&&ge.timeStamp||Date.now(),this[a.expando]=!0},a.Event.prototype={constructor:a.Event,isDefaultPrevented:Re,isPropagationStopped:Re,isImmediatePropagationStopped:Re,isSimulated:!1,preventDefault:function(){var ge=this.originalEvent;this.isDefaultPrevented=Ee,ge&&!this.isSimulated&&ge.preventDefault()},stopPropagation:function(){var ge=this.originalEvent;this.isPropagationStopped=Ee,ge&&!this.isSimulated&&ge.stopPropagation()},stopImmediatePropagation:function(){var ge=this.originalEvent;this.isImmediatePropagationStopped=Ee,ge&&!this.isSimulated&&ge.stopImmediatePropagation(),this.stopPropagation()}},a.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},a.event.addProp),a.each({focus:"focusin",blur:"focusout"},function(ge,Ue){function nt(ct){if(l.documentMode){var Pt=q.get(this,"handle"),Ft=a.event.fix(ct);Ft.type="focusin"===ct.type?"focus":"blur",Ft.isSimulated=!0,Pt(ct),Ft.target===Ft.currentTarget&&Pt(Ft)}else a.event.simulate(Ue,ct.target,a.event.fix(ct))}a.event.special[ge]={setup:function(){var ct;if(Ne(this,ge,!0),!l.documentMode)return!1;(ct=q.get(this,Ue))||this.addEventListener(Ue,nt),q.set(this,Ue,(ct||0)+1)},trigger:function(){return Ne(this,ge),!0},teardown:function(){var ct;if(!l.documentMode)return!1;(ct=q.get(this,Ue)-1)?q.set(this,Ue,ct):(this.removeEventListener(Ue,nt),q.remove(this,Ue))},_default:function(ct){return q.get(ct.target,ge)},delegateType:Ue},a.event.special[Ue]={setup:function(){var ct=this.ownerDocument||this.document||this,Pt=l.documentMode?this:ct,Ft=q.get(Pt,Ue);Ft||(l.documentMode?this.addEventListener(Ue,nt):ct.addEventListener(ge,nt,!0)),q.set(Pt,Ue,(Ft||0)+1)},teardown:function(){var ct=this.ownerDocument||this.document||this,Pt=l.documentMode?this:ct,Ft=q.get(Pt,Ue)-1;Ft?q.set(Pt,Ue,Ft):(l.documentMode?this.removeEventListener(Ue,nt):ct.removeEventListener(ge,nt,!0),q.remove(Pt,Ue))}}}),a.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(ge,Ue){a.event.special[ge]={delegateType:Ue,bindType:Ue,handle:function(nt){var ct,Pt=nt.relatedTarget,Ft=nt.handleObj;return Pt&&(Pt===this||a.contains(this,Pt))||(nt.type=Ft.origType,ct=Ft.handler.apply(this,arguments),nt.type=Ue),ct}}}),a.fn.extend({on:function(ge,Ue,nt,ct){return ke(this,ge,Ue,nt,ct)},one:function(ge,Ue,nt,ct){return ke(this,ge,Ue,nt,ct,1)},off:function(ge,Ue,nt){var ct,Pt;if(ge&&ge.preventDefault&&ge.handleObj)return ct=ge.handleObj,a(ge.delegateTarget).off(ct.namespace?ct.origType+"."+ct.namespace:ct.origType,ct.selector,ct.handler),this;if("object"==typeof ge){for(Pt in ge)this.off(Pt,Ue,ge[Pt]);return this}return!1!==Ue&&"function"!=typeof Ue||(nt=Ue,Ue=void 0),!1===nt&&(nt=Re),this.each(function(){a.event.remove(this,ge,nt,Ue)})}});var _e=/<script|<style|<link/i,Te=/checked\s*(?:[^=]|=\s*.checked.)/i,fe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function pe(ge,Ue){return p(ge,"table")&&p(11!==Ue.nodeType?Ue:Ue.firstChild,"tr")&&a(ge).children("tbody")[0]||ge}function Fe(ge){return ge.type=(null!==ge.getAttribute("type"))+"/"+ge.type,ge}function Xe(ge){return"true/"===(ge.type||"").slice(0,5)?ge.type=ge.type.slice(5):ge.removeAttribute("type"),ge}function at(ge,Ue){var nt,ct,Pt,Ft,Yt,Vt;if(1===Ue.nodeType){if(q.hasData(ge)&&(Vt=q.get(ge).events))for(Pt in q.remove(Ue,"handle events"),Vt)for(nt=0,ct=Vt[Pt].length;nt<ct;nt++)a.event.add(Ue,Pt,Vt[Pt][nt]);se.hasData(ge)&&(Ft=se.access(ge),Yt=a.extend({},Ft),se.set(Ue,Yt))}}function ft(ge,Ue,nt,ct){Ue=Y(Ue);var Pt,Ft,Yt,Vt,Ot,Jt,Dr=0,Gr=ge.length,Yr=Gr-1,zr=Ue[0],bn=t(zr);if(bn||1<Gr&&"string"==typeof zr&&!y.checkClone&&Te.test(zr))return ge.each(function(In){var Bn=ge.eq(In);bn&&(Ue[0]=zr.call(this,In,Bn.html())),ft(Bn,Ue,nt,ct)});if(Gr&&(Ft=(Pt=Je(Ue,ge[0].ownerDocument,!1,ge,ct)).firstChild,1===Pt.childNodes.length&&(Pt=Ft),Ft||ct)){for(Vt=(Yt=a.map(xt(Pt,"script"),Fe)).length;Dr<Gr;Dr++)Ot=Pt,Dr!==Yr&&(Ot=a.clone(Ot,!0,!0),Vt&&a.merge(Yt,xt(Ot,"script"))),nt.call(ge[Dr],Ot,Dr);if(Vt)for(Jt=Yt[Yt.length-1].ownerDocument,a.map(Yt,Xe),Dr=0;Dr<Vt;Dr++)lt.test((Ot=Yt[Dr]).type||"")&&!q.access(Ot,"globalEval")&&a.contains(Jt,Ot)&&(Ot.src&&"module"!==(Ot.type||"").toLowerCase()?a._evalUrl&&!Ot.noModule&&a._evalUrl(Ot.src,{nonce:Ot.nonce||Ot.getAttribute("nonce")},Jt):u(Ot.textContent.replace(fe,""),Ot,Jt))}return ge}function Xt(ge,Ue,nt){for(var ct,Pt=Ue?a.filter(Ue,ge):ge,Ft=0;null!=(ct=Pt[Ft]);Ft++)nt||1!==ct.nodeType||a.cleanData(xt(ct)),ct.parentNode&&(nt&&Me(ct)&&bt(xt(ct,"script")),ct.parentNode.removeChild(ct));return ge}a.extend({htmlPrefilter:function(ge){return ge},clone:function(ge,Ue,nt){var ct,Pt,Ft,Yt,Vt,Ot,Jt,Dr=ge.cloneNode(!0),Gr=Me(ge);if(!(y.noCloneChecked||1!==ge.nodeType&&11!==ge.nodeType||a.isXMLDoc(ge)))for(Yt=xt(Dr),ct=0,Pt=(Ft=xt(ge)).length;ct<Pt;ct++)Vt=Ft[ct],"input"===(Jt=(Ot=Yt[ct]).nodeName.toLowerCase())&&ze.test(Vt.type)?Ot.checked=Vt.checked:"input"!==Jt&&"textarea"!==Jt||(Ot.defaultValue=Vt.defaultValue);if(Ue)if(nt)for(Ft=Ft||xt(ge),Yt=Yt||xt(Dr),ct=0,Pt=Ft.length;ct<Pt;ct++)at(Ft[ct],Yt[ct]);else at(ge,Dr);return 0<(Yt=xt(Dr,"script")).length&&bt(Yt,!Gr&&xt(ge,"script")),Dr},cleanData:function(ge){for(var Ue,nt,ct,Pt=a.event.special,Ft=0;void 0!==(nt=ge[Ft]);Ft++)if(Z(nt)){if(Ue=nt[q.expando]){if(Ue.events)for(ct in Ue.events)Pt[ct]?a.event.remove(nt,ct):a.removeEvent(nt,ct,Ue.handle);nt[q.expando]=void 0}nt[se.expando]&&(nt[se.expando]=void 0)}}}),a.fn.extend({detach:function(ge){return Xt(this,ge,!0)},remove:function(ge){return Xt(this,ge)},text:function(ge){return W(this,function(Ue){return void 0===Ue?a.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=Ue)})},null,ge,arguments.length)},append:function(){return ft(this,arguments,function(ge){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||pe(this,ge).appendChild(ge)})},prepend:function(){return ft(this,arguments,function(ge){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var Ue=pe(this,ge);Ue.insertBefore(ge,Ue.firstChild)}})},before:function(){return ft(this,arguments,function(ge){this.parentNode&&this.parentNode.insertBefore(ge,this)})},after:function(){return ft(this,arguments,function(ge){this.parentNode&&this.parentNode.insertBefore(ge,this.nextSibling)})},empty:function(){for(var ge,Ue=0;null!=(ge=this[Ue]);Ue++)1===ge.nodeType&&(a.cleanData(xt(ge,!1)),ge.textContent="");return this},clone:function(ge,Ue){return ge=null!=ge&&ge,Ue=Ue??ge,this.map(function(){return a.clone(this,ge,Ue)})},html:function(ge){return W(this,function(Ue){var nt=this[0]||{},ct=0,Pt=this.length;if(void 0===Ue&&1===nt.nodeType)return nt.innerHTML;if("string"==typeof Ue&&!_e.test(Ue)&&!ut[(tt.exec(Ue)||["",""])[1].toLowerCase()]){Ue=a.htmlPrefilter(Ue);try{for(;ct<Pt;ct++)1===(nt=this[ct]||{}).nodeType&&(a.cleanData(xt(nt,!1)),nt.innerHTML=Ue);nt=0}catch{}}nt&&this.empty().append(Ue)},null,ge,arguments.length)},replaceWith:function(){var ge=[];return ft(this,arguments,function(Ue){var nt=this.parentNode;a.inArray(this,ge)<0&&(a.cleanData(xt(this)),nt&&nt.replaceChild(Ue,this))},ge)}}),a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(ge,Ue){a.fn[ge]=function(nt){for(var ct,Pt=[],Ft=a(nt),Yt=Ft.length-1,Vt=0;Vt<=Yt;Vt++)ct=Vt===Yt?this:this.clone(!0),a(Ft[Vt])[Ue](ct),e.apply(Pt,ct.get());return this.pushStack(Pt)}});var rr=new RegExp("^("+Pe+")(?!px)[a-z%]+$","i"),At=/^--/,zt=function(ge){var Ue=ge.ownerDocument.defaultView;return Ue&&Ue.opener||(Ue=ii),Ue.getComputedStyle(ge)},Qt=function(ge,Ue,nt){var ct,Pt,Ft={};for(Pt in Ue)Ft[Pt]=ge.style[Pt],ge.style[Pt]=Ue[Pt];for(Pt in ct=nt.call(ge),Ue)ge.style[Pt]=Ft[Pt];return ct},Rr=new RegExp(Se.join("|"),"i");function pt(ge,Ue,nt){var ct,Pt,Ft,Yt,Vt=At.test(Ue),Ot=ge.style;return(nt=nt||zt(ge))&&(Yt=nt.getPropertyValue(Ue)||nt[Ue],Vt&&Yt&&(Yt=Yt.replace(E,"$1")||void 0),""!==Yt||Me(ge)||(Yt=a.style(ge,Ue)),!y.pixelBoxStyles()&&rr.test(Yt)&&Rr.test(Ue)&&(ct=Ot.width,Pt=Ot.minWidth,Ft=Ot.maxWidth,Ot.minWidth=Ot.maxWidth=Ot.width=Yt,Yt=nt.width,Ot.width=ct,Ot.minWidth=Pt,Ot.maxWidth=Ft)),void 0!==Yt?Yt+"":Yt}function $t(ge,Ue){return{get:function(){if(!ge())return(this.get=Ue).apply(this,arguments);delete this.get}}}!function(){function ge(){if(Jt){Ot.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Jt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xe.appendChild(Ot).appendChild(Jt);var Dr=ii.getComputedStyle(Jt);nt="1%"!==Dr.top,Vt=12===Ue(Dr.marginLeft),Jt.style.right="60%",Ft=36===Ue(Dr.right),ct=36===Ue(Dr.width),Jt.style.position="absolute",Pt=12===Ue(Jt.offsetWidth/3),xe.removeChild(Ot),Jt=null}}function Ue(Dr){return Math.round(parseFloat(Dr))}var nt,ct,Pt,Ft,Yt,Vt,Ot=l.createElement("div"),Jt=l.createElement("div");Jt.style&&(Jt.style.backgroundClip="content-box",Jt.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===Jt.style.backgroundClip,a.extend(y,{boxSizingReliable:function(){return ge(),ct},pixelBoxStyles:function(){return ge(),Ft},pixelPosition:function(){return ge(),nt},reliableMarginLeft:function(){return ge(),Vt},scrollboxSize:function(){return ge(),Pt},reliableTrDimensions:function(){var Dr,Gr,Yr,zr;return null==Yt&&(Dr=l.createElement("table"),Gr=l.createElement("tr"),Yr=l.createElement("div"),Dr.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Gr.style.cssText="box-sizing:content-box;border:1px solid",Gr.style.height="1px",Yr.style.height="9px",Yr.style.display="block",xe.appendChild(Dr).appendChild(Gr).appendChild(Yr),zr=ii.getComputedStyle(Gr),Yt=parseInt(zr.height,10)+parseInt(zr.borderTopWidth,10)+parseInt(zr.borderBottomWidth,10)===Gr.offsetHeight,xe.removeChild(Dr)),Yt}}))}();var tr=["Webkit","Moz","ms"],Er=l.createElement("div").style,pr={};function dt(ge){return a.cssProps[ge]||pr[ge]||(ge in Er?ge:pr[ge]=function(nt){for(var ct=nt[0].toUpperCase()+nt.slice(1),Pt=tr.length;Pt--;)if((nt=tr[Pt]+ct)in Er)return nt}(ge)||ge)}var it=/^(none|table(?!-c[ea]).+)/,mt={position:"absolute",visibility:"hidden",display:"block"},St={letterSpacing:"0",fontWeight:"400"};function Lt(ge,Ue,nt){var ct=Ie.exec(Ue);return ct?Math.max(0,ct[2]-(nt||0))+(ct[3]||"px"):Ue}function Ct(ge,Ue,nt,ct,Pt,Ft){var Yt="width"===Ue?1:0,Vt=0,Ot=0,Jt=0;if(nt===(ct?"border":"content"))return 0;for(;Yt<4;Yt+=2)"margin"===nt&&(Jt+=a.css(ge,nt+Se[Yt],!0,Pt)),ct?("content"===nt&&(Ot-=a.css(ge,"padding"+Se[Yt],!0,Pt)),"margin"!==nt&&(Ot-=a.css(ge,"border"+Se[Yt]+"Width",!0,Pt))):(Ot+=a.css(ge,"padding"+Se[Yt],!0,Pt),"padding"!==nt?Ot+=a.css(ge,"border"+Se[Yt]+"Width",!0,Pt):Vt+=a.css(ge,"border"+Se[Yt]+"Width",!0,Pt));return!ct&&0<=Ft&&(Ot+=Math.max(0,Math.ceil(ge["offset"+Ue[0].toUpperCase()+Ue.slice(1)]-Ft-Ot-Vt-.5))||0),Ot+Jt}function Ut(ge,Ue,nt){var ct=zt(ge),Pt=(!y.boxSizingReliable()||nt)&&"border-box"===a.css(ge,"boxSizing",!1,ct),Ft=Pt,Yt=pt(ge,Ue,ct),Vt="offset"+Ue[0].toUpperCase()+Ue.slice(1);if(rr.test(Yt)){if(!nt)return Yt;Yt="auto"}return(!y.boxSizingReliable()&&Pt||!y.reliableTrDimensions()&&p(ge,"tr")||"auto"===Yt||!parseFloat(Yt)&&"inline"===a.css(ge,"display",!1,ct))&&ge.getClientRects().length&&(Pt="border-box"===a.css(ge,"boxSizing",!1,ct),(Ft=Vt in ge)&&(Yt=ge[Vt])),(Yt=parseFloat(Yt)||0)+Ct(ge,Ue,nt||(Pt?"border":"content"),Ft,ct,Yt)+"px"}function Bt(ge,Ue,nt,ct,Pt){return new Bt.prototype.init(ge,Ue,nt,ct,Pt)}a.extend({cssHooks:{opacity:{get:function(ge,Ue){if(Ue){var nt=pt(ge,"opacity");return""===nt?"1":nt}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(ge,Ue,nt,ct){if(ge&&3!==ge.nodeType&&8!==ge.nodeType&&ge.style){var Pt,Ft,Yt,Vt=Q(Ue),Ot=At.test(Ue),Jt=ge.style;if(Ot||(Ue=dt(Vt)),Yt=a.cssHooks[Ue]||a.cssHooks[Vt],void 0===nt)return Yt&&"get"in Yt&&void 0!==(Pt=Yt.get(ge,!1,ct))?Pt:Jt[Ue];"string"==(Ft=typeof nt)&&(Pt=Ie.exec(nt))&&Pt[1]&&(nt=De(ge,Ue,Pt),Ft="number"),null!=nt&&nt==nt&&("number"!==Ft||Ot||(nt+=Pt&&Pt[3]||(a.cssNumber[Vt]?"":"px")),y.clearCloneStyle||""!==nt||0!==Ue.indexOf("background")||(Jt[Ue]="inherit"),Yt&&"set"in Yt&&void 0===(nt=Yt.set(ge,nt,ct))||(Ot?Jt.setProperty(Ue,nt):Jt[Ue]=nt))}},css:function(ge,Ue,nt,ct){var Pt,Ft,Yt,Vt=Q(Ue);return At.test(Ue)||(Ue=dt(Vt)),(Yt=a.cssHooks[Ue]||a.cssHooks[Vt])&&"get"in Yt&&(Pt=Yt.get(ge,!0,nt)),void 0===Pt&&(Pt=pt(ge,Ue,ct)),"normal"===Pt&&Ue in St&&(Pt=St[Ue]),""===nt||nt?(Ft=parseFloat(Pt),!0===nt||isFinite(Ft)?Ft||0:Pt):Pt}}),a.each(["height","width"],function(ge,Ue){a.cssHooks[Ue]={get:function(nt,ct,Pt){if(ct)return!it.test(a.css(nt,"display"))||nt.getClientRects().length&&nt.getBoundingClientRect().width?Ut(nt,Ue,Pt):Qt(nt,mt,function(){return Ut(nt,Ue,Pt)})},set:function(nt,ct,Pt){var Ft,Yt=zt(nt),Vt=!y.scrollboxSize()&&"absolute"===Yt.position,Ot=(Vt||Pt)&&"border-box"===a.css(nt,"boxSizing",!1,Yt),Jt=Pt?Ct(nt,Ue,Pt,Ot,Yt):0;return Ot&&Vt&&(Jt-=Math.ceil(nt["offset"+Ue[0].toUpperCase()+Ue.slice(1)]-parseFloat(Yt[Ue])-Ct(nt,Ue,"border",!1,Yt)-.5)),Jt&&(Ft=Ie.exec(ct))&&"px"!==(Ft[3]||"px")&&(nt.style[Ue]=ct,ct=a.css(nt,Ue)),Lt(0,ct,Jt)}}}),a.cssHooks.marginLeft=$t(y.reliableMarginLeft,function(ge,Ue){if(Ue)return(parseFloat(pt(ge,"marginLeft"))||ge.getBoundingClientRect().left-Qt(ge,{marginLeft:0},function(){return ge.getBoundingClientRect().left}))+"px"}),a.each({margin:"",padding:"",border:"Width"},function(ge,Ue){a.cssHooks[ge+Ue]={expand:function(nt){for(var ct=0,Pt={},Ft="string"==typeof nt?nt.split(" "):[nt];ct<4;ct++)Pt[ge+Se[ct]+Ue]=Ft[ct]||Ft[ct-2]||Ft[0];return Pt}},"margin"!==ge&&(a.cssHooks[ge+Ue].set=Lt)}),a.fn.extend({css:function(ge,Ue){return W(this,function(nt,ct,Pt){var Ft,Yt,Vt={},Ot=0;if(Array.isArray(ct)){for(Ft=zt(nt),Yt=ct.length;Ot<Yt;Ot++)Vt[ct[Ot]]=a.css(nt,ct[Ot],!1,Ft);return Vt}return void 0!==Pt?a.style(nt,ct,Pt):a.css(nt,ct)},ge,Ue,1<arguments.length)}}),((a.Tween=Bt).prototype={constructor:Bt,init:function(ge,Ue,nt,ct,Pt,Ft){this.elem=ge,this.prop=nt,this.easing=Pt||a.easing._default,this.options=Ue,this.start=this.now=this.cur(),this.end=ct,this.unit=Ft||(a.cssNumber[nt]?"":"px")},cur:function(){var ge=Bt.propHooks[this.prop];return ge&&ge.get?ge.get(this):Bt.propHooks._default.get(this)},run:function(ge){var Ue,nt=Bt.propHooks[this.prop];return this.pos=Ue=this.options.duration?a.easing[this.easing](ge,this.options.duration*ge,0,1,this.options.duration):ge,this.now=(this.end-this.start)*Ue+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),nt&&nt.set?nt.set(this):Bt.propHooks._default.set(this),this}}).init.prototype=Bt.prototype,(Bt.propHooks={_default:{get:function(ge){var Ue;return 1!==ge.elem.nodeType||null!=ge.elem[ge.prop]&&null==ge.elem.style[ge.prop]?ge.elem[ge.prop]:(Ue=a.css(ge.elem,ge.prop,""))&&"auto"!==Ue?Ue:0},set:function(ge){a.fx.step[ge.prop]?a.fx.step[ge.prop](ge):1!==ge.elem.nodeType||!a.cssHooks[ge.prop]&&null==ge.elem.style[dt(ge.prop)]?ge.elem[ge.prop]=ge.now:a.style(ge.elem,ge.prop,ge.now+ge.unit)}}}).scrollTop=Bt.propHooks.scrollLeft={set:function(ge){ge.elem.nodeType&&ge.elem.parentNode&&(ge.elem[ge.prop]=ge.now)}},a.easing={linear:function(ge){return ge},swing:function(ge){return.5-Math.cos(ge*Math.PI)/2},_default:"swing"},a.fx=Bt.prototype.init,a.fx.step={};var qt,cr,lr,br,We=/^(?:toggle|show|hide)$/,Ve=/queueHooks$/;function Rt(){cr&&(!1===l.hidden&&ii.requestAnimationFrame?ii.requestAnimationFrame(Rt):ii.setTimeout(Rt,a.fx.interval),a.fx.tick())}function _t(){return ii.setTimeout(function(){qt=void 0}),qt=Date.now()}function Kt(ge,Ue){var nt,ct=0,Pt={height:ge};for(Ue=Ue?1:0;ct<4;ct+=2-Ue)Pt["margin"+(nt=Se[ct])]=Pt["padding"+nt]=ge;return Ue&&(Pt.opacity=Pt.width=ge),Pt}function sr(ge,Ue,nt){for(var ct,Pt=(hr.tweeners[Ue]||[]).concat(hr.tweeners["*"]),Ft=0,Yt=Pt.length;Ft<Yt;Ft++)if(ct=Pt[Ft].call(nt,Ue,ge))return ct}function hr(ge,Ue,nt){var ct,Pt,Ft=0,Yt=hr.prefilters.length,Vt=a.Deferred().always(function(){delete Ot.elem}),Ot=function(){if(Pt)return!1;for(var Gr=qt||_t(),Yr=Math.max(0,Jt.startTime+Jt.duration-Gr),zr=1-(Yr/Jt.duration||0),bn=0,In=Jt.tweens.length;bn<In;bn++)Jt.tweens[bn].run(zr);return Vt.notifyWith(ge,[Jt,zr,Yr]),zr<1&&In?Yr:(In||Vt.notifyWith(ge,[Jt,1,0]),Vt.resolveWith(ge,[Jt]),!1)},Jt=Vt.promise({elem:ge,props:a.extend({},Ue),opts:a.extend(!0,{specialEasing:{},easing:a.easing._default},nt),originalProperties:Ue,originalOptions:nt,startTime:qt||_t(),duration:nt.duration,tweens:[],createTween:function(Gr,Yr){var zr=a.Tween(ge,Jt.opts,Gr,Yr,Jt.opts.specialEasing[Gr]||Jt.opts.easing);return Jt.tweens.push(zr),zr},stop:function(Gr){var Yr=0,zr=Gr?Jt.tweens.length:0;if(Pt)return this;for(Pt=!0;Yr<zr;Yr++)Jt.tweens[Yr].run(1);return Gr?(Vt.notifyWith(ge,[Jt,1,0]),Vt.resolveWith(ge,[Jt,Gr])):Vt.rejectWith(ge,[Jt,Gr]),this}}),Dr=Jt.props;for(function(Gr,Yr){var zr,bn,In,Bn,ea;for(zr in Gr)if(In=Yr[bn=Q(zr)],Bn=Gr[zr],Array.isArray(Bn)&&(In=Bn[1],Bn=Gr[zr]=Bn[0]),zr!==bn&&(Gr[bn]=Bn,delete Gr[zr]),(ea=a.cssHooks[bn])&&"expand"in ea)for(zr in Bn=ea.expand(Bn),delete Gr[bn],Bn)zr in Gr||(Gr[zr]=Bn[zr],Yr[zr]=In);else Yr[bn]=In}(Dr,Jt.opts.specialEasing);Ft<Yt;Ft++)if(ct=hr.prefilters[Ft].call(Jt,ge,Dr,Jt.opts))return t(ct.stop)&&(a._queueHooks(Jt.elem,Jt.opts.queue).stop=ct.stop.bind(ct)),ct;return a.map(Dr,sr,Jt),t(Jt.opts.start)&&Jt.opts.start.call(ge,Jt),Jt.progress(Jt.opts.progress).done(Jt.opts.done,Jt.opts.complete).fail(Jt.opts.fail).always(Jt.opts.always),a.fx.timer(a.extend(Ot,{elem:ge,anim:Jt,queue:Jt.opts.queue})),Jt}a.Animation=a.extend(hr,{tweeners:{"*":[function(ge,Ue){var nt=this.createTween(ge,Ue);return De(nt.elem,ge,Ie.exec(Ue),nt),nt}]},tweener:function(ge,Ue){t(ge)?(Ue=ge,ge=["*"]):ge=ge.match(H);for(var nt,ct=0,Pt=ge.length;ct<Pt;ct++)(hr.tweeners[nt=ge[ct]]=hr.tweeners[nt]||[]).unshift(Ue)},prefilters:[function(ge,Ue,nt){var ct,Pt,Ft,Yt,Vt,Ot,Jt,Dr,Gr="width"in Ue||"height"in Ue,Yr=this,zr={},bn=ge.style,In=ge.nodeType&&Ye(ge),Bn=q.get(ge,"fxshow");for(ct in nt.queue||(null==(Yt=a._queueHooks(ge,"fx")).unqueued&&(Yt.unqueued=0,Vt=Yt.empty.fire,Yt.empty.fire=function(){Yt.unqueued||Vt()}),Yt.unqueued++,Yr.always(function(){Yr.always(function(){Yt.unqueued--,a.queue(ge,"fx").length||Yt.empty.fire()})})),Ue)if(We.test(Pt=Ue[ct])){if(delete Ue[ct],Ft=Ft||"toggle"===Pt,Pt===(In?"hide":"show")){if("show"!==Pt||!Bn||void 0===Bn[ct])continue;In=!0}zr[ct]=Bn&&Bn[ct]||a.style(ge,ct)}if((Ot=!a.isEmptyObject(Ue))||!a.isEmptyObject(zr))for(ct in Gr&&1===ge.nodeType&&(nt.overflow=[bn.overflow,bn.overflowX,bn.overflowY],null==(Jt=Bn&&Bn.display)&&(Jt=q.get(ge,"display")),"none"===(Dr=a.css(ge,"display"))&&(Jt?Dr=Jt:(rt([ge],!0),Jt=ge.style.display||Jt,Dr=a.css(ge,"display"),rt([ge]))),("inline"===Dr||"inline-block"===Dr&&null!=Jt)&&"none"===a.css(ge,"float")&&(Ot||(Yr.done(function(){bn.display=Jt}),null==Jt&&(Jt="none"===(Dr=bn.display)?"":Dr)),bn.display="inline-block")),nt.overflow&&(bn.overflow="hidden",Yr.always(function(){bn.overflow=nt.overflow[0],bn.overflowX=nt.overflow[1],bn.overflowY=nt.overflow[2]})),Ot=!1,zr)Ot||(Bn?"hidden"in Bn&&(In=Bn.hidden):Bn=q.access(ge,"fxshow",{display:Jt}),Ft&&(Bn.hidden=!In),In&&rt([ge],!0),Yr.done(function(){for(ct in In||rt([ge]),q.remove(ge,"fxshow"),zr)a.style(ge,ct,zr[ct])})),Ot=sr(In?Bn[ct]:0,ct,Yr),ct in Bn||(Bn[ct]=Ot.start,In&&(Ot.end=Ot.start,Ot.start=0))}],prefilter:function(ge,Ue){Ue?hr.prefilters.unshift(ge):hr.prefilters.push(ge)}}),a.speed=function(ge,Ue,nt){var ct=ge&&"object"==typeof ge?a.extend({},ge):{complete:nt||!nt&&Ue||t(ge)&&ge,duration:ge,easing:nt&&Ue||Ue&&!t(Ue)&&Ue};return a.fx.off?ct.duration=0:"number"!=typeof ct.duration&&(ct.duration=ct.duration in a.fx.speeds?a.fx.speeds[ct.duration]:a.fx.speeds._default),null!=ct.queue&&!0!==ct.queue||(ct.queue="fx"),ct.old=ct.complete,ct.complete=function(){t(ct.old)&&ct.old.call(this),ct.queue&&a.dequeue(this,ct.queue)},ct},a.fn.extend({fadeTo:function(ge,Ue,nt,ct){return this.filter(Ye).css("opacity",0).show().end().animate({opacity:Ue},ge,nt,ct)},animate:function(ge,Ue,nt,ct){var Pt=a.isEmptyObject(ge),Ft=a.speed(Ue,nt,ct),Yt=function(){var Vt=hr(this,a.extend({},ge),Ft);(Pt||q.get(this,"finish"))&&Vt.stop(!0)};return Yt.finish=Yt,Pt||!1===Ft.queue?this.each(Yt):this.queue(Ft.queue,Yt)},stop:function(ge,Ue,nt){var ct=function(Pt){var Ft=Pt.stop;delete Pt.stop,Ft(nt)};return"string"!=typeof ge&&(nt=Ue,Ue=ge,ge=void 0),Ue&&this.queue(ge||"fx",[]),this.each(function(){var Pt=!0,Ft=null!=ge&&ge+"queueHooks",Yt=a.timers,Vt=q.get(this);if(Ft)Vt[Ft]&&Vt[Ft].stop&&ct(Vt[Ft]);else for(Ft in Vt)Vt[Ft]&&Vt[Ft].stop&&Ve.test(Ft)&&ct(Vt[Ft]);for(Ft=Yt.length;Ft--;)Yt[Ft].elem!==this||null!=ge&&Yt[Ft].queue!==ge||(Yt[Ft].anim.stop(nt),Pt=!1,Yt.splice(Ft,1));!Pt&&nt||a.dequeue(this,ge)})},finish:function(ge){return!1!==ge&&(ge=ge||"fx"),this.each(function(){var Ue,nt=q.get(this),ct=nt[ge+"queue"],Pt=nt[ge+"queueHooks"],Ft=a.timers,Yt=ct?ct.length:0;for(nt.finish=!0,a.queue(this,ge,[]),Pt&&Pt.stop&&Pt.stop.call(this,!0),Ue=Ft.length;Ue--;)Ft[Ue].elem===this&&Ft[Ue].queue===ge&&(Ft[Ue].anim.stop(!0),Ft.splice(Ue,1));for(Ue=0;Ue<Yt;Ue++)ct[Ue]&&ct[Ue].finish&&ct[Ue].finish.call(this);delete nt.finish})}}),a.each(["toggle","show","hide"],function(ge,Ue){var nt=a.fn[Ue];a.fn[Ue]=function(ct,Pt,Ft){return null==ct||"boolean"==typeof ct?nt.apply(this,arguments):this.animate(Kt(Ue,!0),ct,Pt,Ft)}}),a.each({slideDown:Kt("show"),slideUp:Kt("hide"),slideToggle:Kt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(ge,Ue){a.fn[ge]=function(nt,ct,Pt){return this.animate(Ue,nt,ct,Pt)}}),a.timers=[],a.fx.tick=function(){var ge,Ue=0,nt=a.timers;for(qt=Date.now();Ue<nt.length;Ue++)(ge=nt[Ue])()||nt[Ue]!==ge||nt.splice(Ue--,1);nt.length||a.fx.stop(),qt=void 0},a.fx.timer=function(ge){a.timers.push(ge),a.fx.start()},a.fx.interval=13,a.fx.start=function(){cr||(cr=!0,Rt())},a.fx.stop=function(){cr=null},a.fx.speeds={slow:600,fast:200,_default:400},a.fn.delay=function(ge,Ue){return ge=a.fx&&a.fx.speeds[ge]||ge,this.queue(Ue=Ue||"fx",function(nt,ct){var Pt=ii.setTimeout(nt,ge);ct.stop=function(){ii.clearTimeout(Pt)}})},lr=l.createElement("input"),br=l.createElement("select").appendChild(l.createElement("option")),lr.type="checkbox",y.checkOn=""!==lr.value,y.optSelected=br.selected,(lr=l.createElement("input")).value="t",lr.type="radio",y.radioValue="t"===lr.value;var or,Nt=a.expr.attrHandle;a.fn.extend({attr:function(ge,Ue){return W(this,a.attr,ge,Ue,1<arguments.length)},removeAttr:function(ge){return this.each(function(){a.removeAttr(this,ge)})}}),a.extend({attr:function(ge,Ue,nt){var ct,Pt,Ft=ge.nodeType;if(3!==Ft&&8!==Ft&&2!==Ft)return typeof ge.getAttribute>"u"?a.prop(ge,Ue,nt):(1===Ft&&a.isXMLDoc(ge)||(Pt=a.attrHooks[Ue.toLowerCase()]||(a.expr.match.bool.test(Ue)?or:void 0)),void 0!==nt?null===nt?void a.removeAttr(ge,Ue):Pt&&"set"in Pt&&void 0!==(ct=Pt.set(ge,nt,Ue))?ct:(ge.setAttribute(Ue,nt+""),nt):Pt&&"get"in Pt&&null!==(ct=Pt.get(ge,Ue))?ct:null==(ct=a.find.attr(ge,Ue))?void 0:ct)},attrHooks:{type:{set:function(ge,Ue){if(!y.radioValue&&"radio"===Ue&&p(ge,"input")){var nt=ge.value;return ge.setAttribute("type",Ue),nt&&(ge.value=nt),Ue}}}},removeAttr:function(ge,Ue){var nt,ct=0,Pt=Ue&&Ue.match(H);if(Pt&&1===ge.nodeType)for(;nt=Pt[ct++];)ge.removeAttribute(nt)}}),or={set:function(ge,Ue,nt){return!1===Ue?a.removeAttr(ge,nt):ge.setAttribute(nt,nt),nt}},a.each(a.expr.match.bool.source.match(/\w+/g),function(ge,Ue){var nt=Nt[Ue]||a.find.attr;Nt[Ue]=function(ct,Pt,Ft){var Yt,Vt,Ot=Pt.toLowerCase();return Ft||(Vt=Nt[Ot],Nt[Ot]=Yt,Yt=null!=nt(ct,Pt,Ft)?Ot:null,Nt[Ot]=Vt),Yt}});var dr=/^(?:input|select|textarea|button)$/i,Mr=/^(?:a|area)$/i;function wr(ge){return(ge.match(H)||[]).join(" ")}function kr(ge){return ge.getAttribute&&ge.getAttribute("class")||""}function tn(ge){return Array.isArray(ge)?ge:"string"==typeof ge&&ge.match(H)||[]}a.fn.extend({prop:function(ge,Ue){return W(this,a.prop,ge,Ue,1<arguments.length)},removeProp:function(ge){return this.each(function(){delete this[a.propFix[ge]||ge]})}}),a.extend({prop:function(ge,Ue,nt){var ct,Pt,Ft=ge.nodeType;if(3!==Ft&&8!==Ft&&2!==Ft)return 1===Ft&&a.isXMLDoc(ge)||(Pt=a.propHooks[Ue=a.propFix[Ue]||Ue]),void 0!==nt?Pt&&"set"in Pt&&void 0!==(ct=Pt.set(ge,nt,Ue))?ct:ge[Ue]=nt:Pt&&"get"in Pt&&null!==(ct=Pt.get(ge,Ue))?ct:ge[Ue]},propHooks:{tabIndex:{get:function(ge){var Ue=a.find.attr(ge,"tabindex");return Ue?parseInt(Ue,10):dr.test(ge.nodeName)||Mr.test(ge.nodeName)&&ge.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(a.propHooks.selected={get:function(ge){return null},set:function(ge){}}),a.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){a.propFix[this.toLowerCase()]=this}),a.fn.extend({addClass:function(ge){var Ue,nt,ct,Pt,Ft,Yt;return t(ge)?this.each(function(Vt){a(this).addClass(ge.call(this,Vt,kr(this)))}):(Ue=tn(ge)).length?this.each(function(){if(ct=kr(this),nt=1===this.nodeType&&" "+wr(ct)+" "){for(Ft=0;Ft<Ue.length;Ft++)nt.indexOf(" "+(Pt=Ue[Ft])+" ")<0&&(nt+=Pt+" ");Yt=wr(nt),ct!==Yt&&this.setAttribute("class",Yt)}}):this},removeClass:function(ge){var Ue,nt,ct,Pt,Ft,Yt;return t(ge)?this.each(function(Vt){a(this).removeClass(ge.call(this,Vt,kr(this)))}):arguments.length?(Ue=tn(ge)).length?this.each(function(){if(ct=kr(this),nt=1===this.nodeType&&" "+wr(ct)+" "){for(Ft=0;Ft<Ue.length;Ft++)for(Pt=Ue[Ft];-1<nt.indexOf(" "+Pt+" ");)nt=nt.replace(" "+Pt+" "," ");Yt=wr(nt),ct!==Yt&&this.setAttribute("class",Yt)}}):this:this.attr("class","")},toggleClass:function(ge,Ue){var nt,ct,Pt,Ft,Yt=typeof ge,Vt="string"===Yt||Array.isArray(ge);return t(ge)?this.each(function(Ot){a(this).toggleClass(ge.call(this,Ot,kr(this),Ue),Ue)}):"boolean"==typeof Ue&&Vt?Ue?this.addClass(ge):this.removeClass(ge):(nt=tn(ge),this.each(function(){if(Vt)for(Ft=a(this),Pt=0;Pt<nt.length;Pt++)Ft.hasClass(ct=nt[Pt])?Ft.removeClass(ct):Ft.addClass(ct);else void 0!==ge&&"boolean"!==Yt||((ct=kr(this))&&q.set(this,"__className__",ct),this.setAttribute&&this.setAttribute("class",ct||!1===ge?"":q.get(this,"__className__")||""))}))},hasClass:function(ge){var Ue,nt,ct=0;for(Ue=" "+ge+" ";nt=this[ct++];)if(1===nt.nodeType&&-1<(" "+wr(kr(nt))+" ").indexOf(Ue))return!0;return!1}});var _r=/\r/g;a.fn.extend({val:function(ge){var Ue,nt,ct,Pt=this[0];return arguments.length?(ct=t(ge),this.each(function(Ft){var Yt;1===this.nodeType&&(null==(Yt=ct?ge.call(this,Ft,a(this).val()):ge)?Yt="":"number"==typeof Yt?Yt+="":Array.isArray(Yt)&&(Yt=a.map(Yt,function(Vt){return null==Vt?"":Vt+""})),(Ue=a.valHooks[this.type]||a.valHooks[this.nodeName.toLowerCase()])&&"set"in Ue&&void 0!==Ue.set(this,Yt,"value")||(this.value=Yt))})):Pt?(Ue=a.valHooks[Pt.type]||a.valHooks[Pt.nodeName.toLowerCase()])&&"get"in Ue&&void 0!==(nt=Ue.get(Pt,"value"))?nt:"string"==typeof(nt=Pt.value)?nt.replace(_r,""):nt??"":void 0}}),a.extend({valHooks:{option:{get:function(ge){return a.find.attr(ge,"value")??wr(a.text(ge))}},select:{get:function(ge){var Ue,nt,ct,Pt=ge.options,Ft=ge.selectedIndex,Yt="select-one"===ge.type,Vt=Yt?null:[],Ot=Yt?Ft+1:Pt.length;for(ct=Ft<0?Ot:Yt?Ft:0;ct<Ot;ct++)if(((nt=Pt[ct]).selected||ct===Ft)&&!nt.disabled&&(!nt.parentNode.disabled||!p(nt.parentNode,"optgroup"))){if(Ue=a(nt).val(),Yt)return Ue;Vt.push(Ue)}return Vt},set:function(ge,Ue){for(var nt,ct,Pt=ge.options,Ft=a.makeArray(Ue),Yt=Pt.length;Yt--;)((ct=Pt[Yt]).selected=-1<a.inArray(a.valHooks.option.get(ct),Ft))&&(nt=!0);return nt||(ge.selectedIndex=-1),Ft}}}}),a.each(["radio","checkbox"],function(){a.valHooks[this]={set:function(ge,Ue){if(Array.isArray(Ue))return ge.checked=-1<a.inArray(a(ge).val(),Ue)}},y.checkOn||(a.valHooks[this].get=function(ge){return null===ge.getAttribute("value")?"on":ge.value})});var Kr=ii.location,vn={guid:Date.now()},Xr=/\?/;a.parseXML=function(ge){var Ue,nt;if(!ge||"string"!=typeof ge)return null;try{Ue=(new ii.DOMParser).parseFromString(ge,"text/xml")}catch{}return nt=Ue&&Ue.getElementsByTagName("parsererror")[0],Ue&&!nt||a.error("Invalid XML: "+(nt?a.map(nt.childNodes,function(ct){return ct.textContent}).join("\n"):ge)),Ue};var On=/^(?:focusinfocus|focusoutblur)$/,mn=function(ge){ge.stopPropagation()};a.extend(a.event,{trigger:function(ge,Ue,nt,ct){var Pt,Ft,Yt,Vt,Ot,Jt,Dr,Gr,Yr=[nt||l],zr=P.call(ge,"type")?ge.type:ge,bn=P.call(ge,"namespace")?ge.namespace.split("."):[];if(Ft=Gr=Yt=nt=nt||l,3!==nt.nodeType&&8!==nt.nodeType&&!On.test(zr+a.event.triggered)&&(-1<zr.indexOf(".")&&(zr=(bn=zr.split(".")).shift(),bn.sort()),Ot=zr.indexOf(":")<0&&"on"+zr,(ge=ge[a.expando]?ge:new a.Event(zr,"object"==typeof ge&&ge)).isTrigger=ct?2:3,ge.namespace=bn.join("."),ge.rnamespace=ge.namespace?new RegExp("(^|\\.)"+bn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,ge.result=void 0,ge.target||(ge.target=nt),Ue=null==Ue?[ge]:a.makeArray(Ue,[ge]),Dr=a.event.special[zr]||{},ct||!Dr.trigger||!1!==Dr.trigger.apply(nt,Ue))){if(!ct&&!Dr.noBubble&&!r(nt)){for(On.test((Vt=Dr.delegateType||zr)+zr)||(Ft=Ft.parentNode);Ft;Ft=Ft.parentNode)Yr.push(Ft),Yt=Ft;Yt===(nt.ownerDocument||l)&&Yr.push(Yt.defaultView||Yt.parentWindow||ii)}for(Pt=0;(Ft=Yr[Pt++])&&!ge.isPropagationStopped();)Gr=Ft,ge.type=1<Pt?Vt:Dr.bindType||zr,(Jt=(q.get(Ft,"events")||Object.create(null))[ge.type]&&q.get(Ft,"handle"))&&Jt.apply(Ft,Ue),(Jt=Ot&&Ft[Ot])&&Jt.apply&&Z(Ft)&&(ge.result=Jt.apply(Ft,Ue),!1===ge.result&&ge.preventDefault());return ge.type=zr,ct||ge.isDefaultPrevented()||Dr._default&&!1!==Dr._default.apply(Yr.pop(),Ue)||!Z(nt)||Ot&&t(nt[zr])&&!r(nt)&&((Yt=nt[Ot])&&(nt[Ot]=null),a.event.triggered=zr,ge.isPropagationStopped()&&Gr.addEventListener(zr,mn),nt[zr](),ge.isPropagationStopped()&&Gr.removeEventListener(zr,mn),a.event.triggered=void 0,Yt&&(nt[Ot]=Yt)),ge.result}},simulate:function(ge,Ue,nt){var ct=a.extend(new a.Event,nt,{type:ge,isSimulated:!0});a.event.trigger(ct,null,Ue)}}),a.fn.extend({trigger:function(ge,Ue){return this.each(function(){a.event.trigger(ge,Ue,this)})},triggerHandler:function(ge,Ue){var nt=this[0];if(nt)return a.event.trigger(ge,Ue,nt,!0)}});var xr=/\[\]$/,Pr=/\r?\n/g,Zr=/^(?:submit|button|image|reset|file)$/i,Hr=/^(?:input|select|textarea|keygen)/i;function fn(ge,Ue,nt,ct){var Pt;if(Array.isArray(Ue))a.each(Ue,function(Ft,Yt){nt||xr.test(ge)?ct(ge,Yt):fn(ge+"["+("object"==typeof Yt&&null!=Yt?Ft:"")+"]",Yt,nt,ct)});else if(nt||"object"!==f(Ue))ct(ge,Ue);else for(Pt in Ue)fn(ge+"["+Pt+"]",Ue[Pt],nt,ct)}a.param=function(ge,Ue){var nt,ct=[],Pt=function(Ft,Yt){var Vt=t(Yt)?Yt():Yt;ct[ct.length]=encodeURIComponent(Ft)+"="+encodeURIComponent(Vt??"")};if(null==ge)return"";if(Array.isArray(ge)||ge.jquery&&!a.isPlainObject(ge))a.each(ge,function(){Pt(this.name,this.value)});else for(nt in ge)fn(nt,ge[nt],Ue,Pt);return ct.join("&")},a.fn.extend({serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var ge=a.prop(this,"elements");return ge?a.makeArray(ge):this}).filter(function(){var ge=this.type;return this.name&&!a(this).is(":disabled")&&Hr.test(this.nodeName)&&!Zr.test(ge)&&(this.checked||!ze.test(ge))}).map(function(ge,Ue){var nt=a(this).val();return null==nt?null:Array.isArray(nt)?a.map(nt,function(ct){return{name:Ue.name,value:ct.replace(Pr,"\r\n")}}):{name:Ue.name,value:nt.replace(Pr,"\r\n")}}).get()}});var Tn=/%20/g,Mn=/#.*$/,Pn=/([?&])_=[^&]*/,Fn=/^(.*?):[ \t]*([^\r\n]*)$/gm,la=/^(?:GET|HEAD)$/,Xn=/^\/\//,na={},Yn={},ra="*/".concat("*"),Sr=l.createElement("a");function un(ge){return function(Ue,nt){"string"!=typeof Ue&&(nt=Ue,Ue="*");var ct,Pt=0,Ft=Ue.toLowerCase().match(H)||[];if(t(nt))for(;ct=Ft[Pt++];)"+"===ct[0]?(ct=ct.slice(1)||"*",(ge[ct]=ge[ct]||[]).unshift(nt)):(ge[ct]=ge[ct]||[]).push(nt)}}function ln(ge,Ue,nt,ct){var Pt={},Ft=ge===Yn;function Yt(Vt){var Ot;return Pt[Vt]=!0,a.each(ge[Vt]||[],function(Jt,Dr){var Gr=Dr(Ue,nt,ct);return"string"!=typeof Gr||Ft||Pt[Gr]?Ft?!(Ot=Gr):void 0:(Ue.dataTypes.unshift(Gr),Yt(Gr),!1)}),Ot}return Yt(Ue.dataTypes[0])||!Pt["*"]&&Yt("*")}function An(ge,Ue){var nt,ct,Pt=a.ajaxSettings.flatOptions||{};for(nt in Ue)void 0!==Ue[nt]&&((Pt[nt]?ge:ct||(ct={}))[nt]=Ue[nt]);return ct&&a.extend(!0,ge,ct),ge}Sr.href=Kr.href,a.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Kr.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Kr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ra,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":a.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(ge,Ue){return Ue?An(An(ge,a.ajaxSettings),Ue):An(a.ajaxSettings,ge)},ajaxPrefilter:un(na),ajaxTransport:un(Yn),ajax:function(ge,Ue){"object"==typeof ge&&(Ue=ge,ge=void 0);var nt,ct,Pt,Ft,Yt,Vt,Ot,Jt,Dr,Gr,Yr=a.ajaxSetup({},Ue=Ue||{}),zr=Yr.context||Yr,bn=Yr.context&&(zr.nodeType||zr.jquery)?a(zr):a.event,In=a.Deferred(),Bn=a.Callbacks("once memory"),ea=Yr.statusCode||{},Kn={},ha={},Di="canceled",$a={readyState:0,getResponseHeader:function(ti){var Fi;if(Ot){if(!Ft)for(Ft={};Fi=Fn.exec(Pt);)Ft[Fi[1].toLowerCase()+" "]=(Ft[Fi[1].toLowerCase()+" "]||[]).concat(Fi[2]);Fi=Ft[ti.toLowerCase()+" "]}return null==Fi?null:Fi.join(", ")},getAllResponseHeaders:function(){return Ot?Pt:null},setRequestHeader:function(ti,Fi){return null==Ot&&(ti=ha[ti.toLowerCase()]=ha[ti.toLowerCase()]||ti,Kn[ti]=Fi),this},overrideMimeType:function(ti){return null==Ot&&(Yr.mimeType=ti),this},statusCode:function(ti){var Fi;if(ti)if(Ot)$a.always(ti[$a.status]);else for(Fi in ti)ea[Fi]=[ea[Fi],ti[Fi]];return this},abort:function(ti){var Fi=ti||Di;return nt&&nt.abort(Fi),eo(0,Fi),this}};if(In.promise($a),Yr.url=((ge||Yr.url||Kr.href)+"").replace(Xn,Kr.protocol+"//"),Yr.type=Ue.method||Ue.type||Yr.method||Yr.type,Yr.dataTypes=(Yr.dataType||"*").toLowerCase().match(H)||[""],null==Yr.crossDomain){Vt=l.createElement("a");try{Vt.href=Yr.url,Vt.href=Vt.href,Yr.crossDomain=Sr.protocol+"//"+Sr.host!=Vt.protocol+"//"+Vt.host}catch{Yr.crossDomain=!0}}if(Yr.data&&Yr.processData&&"string"!=typeof Yr.data&&(Yr.data=a.param(Yr.data,Yr.traditional)),ln(na,Yr,Ue,$a),Ot)return $a;for(Dr in(Jt=a.event&&Yr.global)&&0==a.active++&&a.event.trigger("ajaxStart"),Yr.type=Yr.type.toUpperCase(),Yr.hasContent=!la.test(Yr.type),ct=Yr.url.replace(Mn,""),Yr.hasContent?Yr.data&&Yr.processData&&0===(Yr.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Yr.data=Yr.data.replace(Tn,"+")):(Gr=Yr.url.slice(ct.length),Yr.data&&(Yr.processData||"string"==typeof Yr.data)&&(ct+=(Xr.test(ct)?"&":"?")+Yr.data,delete Yr.data),!1===Yr.cache&&(ct=ct.replace(Pn,"$1"),Gr=(Xr.test(ct)?"&":"?")+"_="+vn.guid+++Gr),Yr.url=ct+Gr),Yr.ifModified&&(a.lastModified[ct]&&$a.setRequestHeader("If-Modified-Since",a.lastModified[ct]),a.etag[ct]&&$a.setRequestHeader("If-None-Match",a.etag[ct])),(Yr.data&&Yr.hasContent&&!1!==Yr.contentType||Ue.contentType)&&$a.setRequestHeader("Content-Type",Yr.contentType),$a.setRequestHeader("Accept",Yr.dataTypes[0]&&Yr.accepts[Yr.dataTypes[0]]?Yr.accepts[Yr.dataTypes[0]]+("*"!==Yr.dataTypes[0]?", "+ra+"; q=0.01":""):Yr.accepts["*"]),Yr.headers)$a.setRequestHeader(Dr,Yr.headers[Dr]);if(Yr.beforeSend&&(!1===Yr.beforeSend.call(zr,$a,Yr)||Ot))return $a.abort();if(Di="abort",Bn.add(Yr.complete),$a.done(Yr.success),$a.fail(Yr.error),nt=ln(Yn,Yr,Ue,$a)){if($a.readyState=1,Jt&&bn.trigger("ajaxSend",[$a,Yr]),Ot)return $a;Yr.async&&0<Yr.timeout&&(Yt=ii.setTimeout(function(){$a.abort("timeout")},Yr.timeout));try{Ot=!1,nt.send(Kn,eo)}catch(ti){if(Ot)throw ti;eo(-1,ti)}}else eo(-1,"No Transport");function eo(ti,Fi,co,oi){var mo,ss,zi,Ui,Jo,Lo=Fi;Ot||(Ot=!0,Yt&&ii.clearTimeout(Yt),nt=void 0,Pt=oi||"",$a.readyState=0<ti?4:0,mo=200<=ti&&ti<300||304===ti,co&&(Ui=function(ui,Wi,Yi){for(var Si,wo,Sa,mi,hi=ui.contents,Zi=ui.dataTypes;"*"===Zi[0];)Zi.shift(),void 0===Si&&(Si=ui.mimeType||Wi.getResponseHeader("Content-Type"));if(Si)for(wo in hi)if(hi[wo]&&hi[wo].test(Si)){Zi.unshift(wo);break}if(Zi[0]in Yi)Sa=Zi[0];else{for(wo in Yi){if(!Zi[0]||ui.converters[wo+" "+Zi[0]]){Sa=wo;break}mi||(mi=wo)}Sa=Sa||mi}if(Sa)return Sa!==Zi[0]&&Zi.unshift(Sa),Yi[Sa]}(Yr,$a,co)),!mo&&-1<a.inArray("script",Yr.dataTypes)&&a.inArray("json",Yr.dataTypes)<0&&(Yr.converters["text script"]=function(){}),Ui=function(ui,Wi,Yi,Si){var wo,Sa,mi,hi,Zi,ji={},Qo=ui.dataTypes.slice();if(Qo[1])for(mi in ui.converters)ji[mi.toLowerCase()]=ui.converters[mi];for(Sa=Qo.shift();Sa;)if(ui.responseFields[Sa]&&(Yi[ui.responseFields[Sa]]=Wi),!Zi&&Si&&ui.dataFilter&&(Wi=ui.dataFilter(Wi,ui.dataType)),Zi=Sa,Sa=Qo.shift())if("*"===Sa)Sa=Zi;else if("*"!==Zi&&Zi!==Sa){if(!(mi=ji[Zi+" "+Sa]||ji["* "+Sa]))for(wo in ji)if((hi=wo.split(" "))[1]===Sa&&(mi=ji[Zi+" "+hi[0]]||ji["* "+hi[0]])){!0===mi?mi=ji[wo]:!0!==ji[wo]&&(Sa=hi[0],Qo.unshift(hi[1]));break}if(!0!==mi)if(mi&&ui.throws)Wi=mi(Wi);else try{Wi=mi(Wi)}catch(io){return{state:"parsererror",error:mi?io:"No conversion from "+Zi+" to "+Sa}}}return{state:"success",data:Wi}}(Yr,Ui,$a,mo),mo?(Yr.ifModified&&((Jo=$a.getResponseHeader("Last-Modified"))&&(a.lastModified[ct]=Jo),(Jo=$a.getResponseHeader("etag"))&&(a.etag[ct]=Jo)),204===ti||"HEAD"===Yr.type?Lo="nocontent":304===ti?Lo="notmodified":(Lo=Ui.state,ss=Ui.data,mo=!(zi=Ui.error))):(zi=Lo,!ti&&Lo||(Lo="error",ti<0&&(ti=0))),$a.status=ti,$a.statusText=(Fi||Lo)+"",mo?In.resolveWith(zr,[ss,Lo,$a]):In.rejectWith(zr,[$a,Lo,zi]),$a.statusCode(ea),ea=void 0,Jt&&bn.trigger(mo?"ajaxSuccess":"ajaxError",[$a,Yr,mo?ss:zi]),Bn.fireWith(zr,[$a,Lo]),Jt&&(bn.trigger("ajaxComplete",[$a,Yr]),--a.active||a.event.trigger("ajaxStop")))}return $a},getJSON:function(ge,Ue,nt){return a.get(ge,Ue,nt,"json")},getScript:function(ge,Ue){return a.get(ge,void 0,Ue,"script")}}),a.each(["get","post"],function(ge,Ue){a[Ue]=function(nt,ct,Pt,Ft){return t(ct)&&(Ft=Ft||Pt,Pt=ct,ct=void 0),a.ajax(a.extend({url:nt,type:Ue,dataType:Ft,data:ct,success:Pt},a.isPlainObject(nt)&&nt))}}),a.ajaxPrefilter(function(ge){var Ue;for(Ue in ge.headers)"content-type"===Ue.toLowerCase()&&(ge.contentType=ge.headers[Ue]||"")}),a._evalUrl=function(ge,Ue,nt){return a.ajax({url:ge,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ct){a.globalEval(ct,Ue,nt)}})},a.fn.extend({wrapAll:function(ge){var Ue;return this[0]&&(t(ge)&&(ge=ge.call(this[0])),Ue=a(ge,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&Ue.insertBefore(this[0]),Ue.map(function(){for(var nt=this;nt.firstElementChild;)nt=nt.firstElementChild;return nt}).append(this)),this},wrapInner:function(ge){return t(ge)?this.each(function(Ue){a(this).wrapInner(ge.call(this,Ue))}):this.each(function(){var Ue=a(this),nt=Ue.contents();nt.length?nt.wrapAll(ge):Ue.append(ge)})},wrap:function(ge){var Ue=t(ge);return this.each(function(nt){a(this).wrapAll(Ue?ge.call(this,nt):ge)})},unwrap:function(ge){return this.parent(ge).not("body").each(function(){a(this).replaceWith(this.childNodes)}),this}}),a.expr.pseudos.hidden=function(ge){return!a.expr.pseudos.visible(ge)},a.expr.pseudos.visible=function(ge){return!!(ge.offsetWidth||ge.offsetHeight||ge.getClientRects().length)},a.ajaxSettings.xhr=function(){try{return new ii.XMLHttpRequest}catch{}};var Vn={0:200,1223:204},En=a.ajaxSettings.xhr();y.cors=!!En&&"withCredentials"in En,y.ajax=En=!!En,a.ajaxTransport(function(ge){var Ue,nt;if(y.cors||En&&!ge.crossDomain)return{send:function(ct,Pt){var Ft,Yt=ge.xhr();if(Yt.open(ge.type,ge.url,ge.async,ge.username,ge.password),ge.xhrFields)for(Ft in ge.xhrFields)Yt[Ft]=ge.xhrFields[Ft];for(Ft in ge.mimeType&&Yt.overrideMimeType&&Yt.overrideMimeType(ge.mimeType),ge.crossDomain||ct["X-Requested-With"]||(ct["X-Requested-With"]="XMLHttpRequest"),ct)Yt.setRequestHeader(Ft,ct[Ft]);Ue=function(Vt){return function(){Ue&&(Ue=nt=Yt.onload=Yt.onerror=Yt.onabort=Yt.ontimeout=Yt.onreadystatechange=null,"abort"===Vt?Yt.abort():"error"===Vt?"number"!=typeof Yt.status?Pt(0,"error"):Pt(Yt.status,Yt.statusText):Pt(Vn[Yt.status]||Yt.status,Yt.statusText,"text"!==(Yt.responseType||"text")||"string"!=typeof Yt.responseText?{binary:Yt.response}:{text:Yt.responseText},Yt.getAllResponseHeaders()))}},Yt.onload=Ue(),nt=Yt.onerror=Yt.ontimeout=Ue("error"),void 0!==Yt.onabort?Yt.onabort=nt:Yt.onreadystatechange=function(){4===Yt.readyState&&ii.setTimeout(function(){Ue&&nt()})},Ue=Ue("abort");try{Yt.send(ge.hasContent&&ge.data||null)}catch(Vt){if(Ue)throw Vt}},abort:function(){Ue&&Ue()}}}),a.ajaxPrefilter(function(ge){ge.crossDomain&&(ge.contents.script=!1)}),a.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(ge){return a.globalEval(ge),ge}}}),a.ajaxPrefilter("script",function(ge){void 0===ge.cache&&(ge.cache=!1),ge.crossDomain&&(ge.type="GET")}),a.ajaxTransport("script",function(ge){var Ue,nt;if(ge.crossDomain||ge.scriptAttrs)return{send:function(ct,Pt){Ue=a("<script>").attr(ge.scriptAttrs||{}).prop({charset:ge.scriptCharset,src:ge.url}).on("load error",nt=function(Ft){Ue.remove(),nt=null,Ft&&Pt("error"===Ft.type?404:200,Ft.type)}),l.head.appendChild(Ue[0])},abort:function(){nt&&nt()}}});var Ln,Hn=[],Qn=/(=)\?(?=&|$)|\?\?/;a.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var ge=Hn.pop()||a.expando+"_"+vn.guid++;return this[ge]=!0,ge}}),a.ajaxPrefilter("json jsonp",function(ge,Ue,nt){var ct,Pt,Ft,Yt=!1!==ge.jsonp&&(Qn.test(ge.url)?"url":"string"==typeof ge.data&&0===(ge.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qn.test(ge.data)&&"data");if(Yt||"jsonp"===ge.dataTypes[0])return ct=ge.jsonpCallback=t(ge.jsonpCallback)?ge.jsonpCallback():ge.jsonpCallback,Yt?ge[Yt]=ge[Yt].replace(Qn,"$1"+ct):!1!==ge.jsonp&&(ge.url+=(Xr.test(ge.url)?"&":"?")+ge.jsonp+"="+ct),ge.converters["script json"]=function(){return Ft||a.error(ct+" was not called"),Ft[0]},ge.dataTypes[0]="json",Pt=ii[ct],ii[ct]=function(){Ft=arguments},nt.always(function(){void 0===Pt?a(ii).removeProp(ct):ii[ct]=Pt,ge[ct]&&(ge.jsonpCallback=Ue.jsonpCallback,Hn.push(ct)),Ft&&t(Pt)&&Pt(Ft[0]),Ft=Pt=void 0}),"script"}),y.createHTMLDocument=((Ln=l.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ln.childNodes.length),a.parseHTML=function(ge,Ue,nt){return"string"!=typeof ge?[]:("boolean"==typeof Ue&&(nt=Ue,Ue=!1),Ue||(y.createHTMLDocument?((ct=(Ue=l.implementation.createHTMLDocument("")).createElement("base")).href=l.location.href,Ue.head.appendChild(ct)):Ue=l),Ft=!nt&&[],(Pt=L.exec(ge))?[Ue.createElement(Pt[1])]:(Pt=Je([ge],Ue,Ft),Ft&&Ft.length&&a(Ft).remove(),a.merge([],Pt.childNodes)));var ct,Pt,Ft},a.fn.load=function(ge,Ue,nt){var ct,Pt,Ft,Yt=this,Vt=ge.indexOf(" ");return-1<Vt&&(ct=wr(ge.slice(Vt)),ge=ge.slice(0,Vt)),t(Ue)?(nt=Ue,Ue=void 0):Ue&&"object"==typeof Ue&&(Pt="POST"),0<Yt.length&&a.ajax({url:ge,type:Pt||"GET",dataType:"html",data:Ue}).done(function(Ot){Ft=arguments,Yt.html(ct?a("<div>").append(a.parseHTML(Ot)).find(ct):Ot)}).always(nt&&function(Ot,Jt){Yt.each(function(){nt.apply(this,Ft||[Ot.responseText,Jt,Ot])})}),this},a.expr.pseudos.animated=function(ge){return a.grep(a.timers,function(Ue){return ge===Ue.elem}).length},a.offset={setOffset:function(ge,Ue,nt){var ct,Pt,Ft,Yt,Vt,Ot,Jt=a.css(ge,"position"),Dr=a(ge),Gr={};"static"===Jt&&(ge.style.position="relative"),Vt=Dr.offset(),Ft=a.css(ge,"top"),Ot=a.css(ge,"left"),("absolute"===Jt||"fixed"===Jt)&&-1<(Ft+Ot).indexOf("auto")?(Yt=(ct=Dr.position()).top,Pt=ct.left):(Yt=parseFloat(Ft)||0,Pt=parseFloat(Ot)||0),t(Ue)&&(Ue=Ue.call(ge,nt,a.extend({},Vt))),null!=Ue.top&&(Gr.top=Ue.top-Vt.top+Yt),null!=Ue.left&&(Gr.left=Ue.left-Vt.left+Pt),"using"in Ue?Ue.using.call(ge,Gr):Dr.css(Gr)}},a.fn.extend({offset:function(ge){if(arguments.length)return void 0===ge?this:this.each(function(Pt){a.offset.setOffset(this,ge,Pt)});var Ue,nt,ct=this[0];return ct?ct.getClientRects().length?{top:(Ue=ct.getBoundingClientRect()).top+(nt=ct.ownerDocument.defaultView).pageYOffset,left:Ue.left+nt.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var ge,Ue,nt,ct=this[0],Pt={top:0,left:0};if("fixed"===a.css(ct,"position"))Ue=ct.getBoundingClientRect();else{for(Ue=this.offset(),nt=ct.ownerDocument,ge=ct.offsetParent||nt.documentElement;ge&&(ge===nt.body||ge===nt.documentElement)&&"static"===a.css(ge,"position");)ge=ge.parentNode;ge&&ge!==ct&&1===ge.nodeType&&((Pt=a(ge).offset()).top+=a.css(ge,"borderTopWidth",!0),Pt.left+=a.css(ge,"borderLeftWidth",!0))}return{top:Ue.top-Pt.top-a.css(ct,"marginTop",!0),left:Ue.left-Pt.left-a.css(ct,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var ge=this.offsetParent;ge&&"static"===a.css(ge,"position");)ge=ge.offsetParent;return ge||xe})}}),a.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(ge,Ue){var nt="pageYOffset"===Ue;a.fn[ge]=function(ct){return W(this,function(Pt,Ft,Yt){var Vt;if(r(Pt)?Vt=Pt:9===Pt.nodeType&&(Vt=Pt.defaultView),void 0===Yt)return Vt?Vt[Ue]:Pt[Ft];Vt?Vt.scrollTo(nt?Vt.pageXOffset:Yt,nt?Yt:Vt.pageYOffset):Pt[Ft]=Yt},ge,ct,arguments.length)}}),a.each(["top","left"],function(ge,Ue){a.cssHooks[Ue]=$t(y.pixelPosition,function(nt,ct){if(ct)return ct=pt(nt,Ue),rr.test(ct)?a(nt).position()[Ue]+"px":ct})}),a.each({Height:"height",Width:"width"},function(ge,Ue){a.each({padding:"inner"+ge,content:Ue,"":"outer"+ge},function(nt,ct){a.fn[ct]=function(Pt,Ft){var Yt=arguments.length&&(nt||"boolean"!=typeof Pt),Vt=nt||(!0===Pt||!0===Ft?"margin":"border");return W(this,function(Ot,Jt,Dr){var Gr;return r(Ot)?0===ct.indexOf("outer")?Ot["inner"+ge]:Ot.document.documentElement["client"+ge]:9===Ot.nodeType?(Gr=Ot.documentElement,Math.max(Ot.body["scroll"+ge],Gr["scroll"+ge],Ot.body["offset"+ge],Gr["offset"+ge],Gr["client"+ge])):void 0===Dr?a.css(Ot,Jt,Vt):a.style(Ot,Jt,Dr,Vt)},Ue,Yt?Pt:void 0,Yt)}})}),a.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(ge,Ue){a.fn[Ue]=function(nt){return this.on(Ue,nt)}}),a.fn.extend({bind:function(ge,Ue,nt){return this.on(ge,null,Ue,nt)},unbind:function(ge,Ue){return this.off(ge,null,Ue)},delegate:function(ge,Ue,nt,ct){return this.on(Ue,ge,nt,ct)},undelegate:function(ge,Ue,nt){return 1===arguments.length?this.off(ge,"**"):this.off(Ue,ge||"**",nt)},hover:function(ge,Ue){return this.on("mouseenter",ge).on("mouseleave",Ue||ge)}}),a.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(ge,Ue){a.fn[Ue]=function(nt,ct){return 0<arguments.length?this.on(Ue,null,nt,ct):this.trigger(Ue)}});var ya=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;a.proxy=function(ge,Ue){var nt,ct,Pt;if("string"==typeof Ue&&(nt=ge[Ue],Ue=ge,ge=nt),t(ge))return ct=te.call(arguments,2),(Pt=function(){return ge.apply(Ue||this,ct.concat(te.call(arguments)))}).guid=ge.guid=ge.guid||a.guid++,Pt},a.holdReady=function(ge){ge?a.readyWait++:a.ready(!0)},a.isArray=Array.isArray,a.parseJSON=JSON.parse,a.nodeName=p,a.isFunction=t,a.isWindow=r,a.camelCase=Q,a.type=f,a.now=Date.now,a.isNumeric=function(ge){var Ue=a.type(ge);return("number"===Ue||"string"===Ue)&&!isNaN(ge-parseFloat(ge))},a.trim=function(ge){return null==ge?"":(ge+"").replace(ya,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return a});var Ja=ii.jQuery,er=ii.$;return a.noConflict=function(ge){return ii.$===a&&(ii.$=er),ge&&ii.jQuery===a&&(ii.jQuery=Ja),a},typeof Ls>"u"&&(ii.jQuery=ii.$=a),a}),function(ii,Ls){"object"==typeof exports&&typeof module<"u"?module.exports=Ls(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],Ls):(ii=typeof globalThis<"u"?globalThis:ii||self).bootstrap=Ls(ii.Popper)}(this,function(ii){"use strict";const ki=function Ls(cn){const gt=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(cn)for(const vr in cn)if("default"!==vr){const hn=Object.getOwnPropertyDescriptor(cn,vr);Object.defineProperty(gt,vr,hn.get?hn:{enumerable:!0,get:()=>cn[vr]})}return gt.default=cn,Object.freeze(gt)}(ii),pl=new Map,te={set(cn,gt,vr){pl.has(cn)||pl.set(cn,new Map);const hn=pl.get(cn);hn.has(gt)||0===hn.size?hn.set(gt,vr):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(hn.keys())[0]}.`)},get:(cn,gt)=>pl.has(cn)&&pl.get(cn).get(gt)||null,remove(cn,gt){if(!pl.has(cn))return;const vr=pl.get(cn);vr.delete(gt),0===vr.size&&pl.delete(cn)}},Y="transitionend",e=cn=>(cn&&window.CSS&&window.CSS.escape&&(cn=cn.replace(/#([^\s"#']+)/g,(gt,vr)=>`#${CSS.escape(vr)}`)),cn),T=cn=>{cn.dispatchEvent(new Event(Y))},D=cn=>!(!cn||"object"!=typeof cn)&&(void 0!==cn.jquery&&(cn=cn[0]),void 0!==cn.nodeType),o=cn=>D(cn)?cn.jquery?cn[0]:cn:"string"==typeof cn&&cn.length>0?document.querySelector(e(cn)):null,P=cn=>{if(!D(cn)||0===cn.getClientRects().length)return!1;const gt="visible"===getComputedStyle(cn).getPropertyValue("visibility"),vr=cn.closest("details:not([open])");if(!vr)return gt;if(vr!==cn){const hn=cn.closest("summary");if(hn&&hn.parentNode!==vr||null===hn)return!1}return gt},C=cn=>!cn||cn.nodeType!==Node.ELEMENT_NODE||!!cn.classList.contains("disabled")||(void 0!==cn.disabled?cn.disabled:cn.hasAttribute("disabled")&&"false"!==cn.getAttribute("disabled")),h=cn=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof cn.getRootNode){const gt=cn.getRootNode();return gt instanceof ShadowRoot?gt:null}return cn instanceof ShadowRoot?cn:cn.parentNode?h(cn.parentNode):null},y=()=>{},r=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,l=[],i=()=>"rtl"===document.documentElement.dir,u=cn=>{var gt;gt=()=>{const vr=r();if(vr){const hn=cn.NAME,Jn=vr.fn[hn];vr.fn[hn]=cn.jQueryInterface,vr.fn[hn].Constructor=cn,vr.fn[hn].noConflict=()=>(vr.fn[hn]=Jn,cn.jQueryInterface)}},"loading"===document.readyState?(l.length||document.addEventListener("DOMContentLoaded",()=>{for(const vr of l)vr()}),l.push(gt)):gt()},f=(cn,gt=[],vr=cn)=>"function"==typeof cn?cn(...gt):vr,c=(cn,gt,vr=!0)=>{if(!vr)return void f(cn);const hn=(Na=>{if(!Na)return 0;let{transitionDuration:li,transitionDelay:Hi}=window.getComputedStyle(Na);const so=Number.parseFloat(li),Fo=Number.parseFloat(Hi);return so||Fo?(li=li.split(",")[0],Hi=Hi.split(",")[0],1e3*(Number.parseFloat(li)+Number.parseFloat(Hi))):0})(gt)+5;let Jn=!1;const Ma=({target:Na})=>{Na===gt&&(Jn=!0,gt.removeEventListener(Y,Ma),f(cn))};gt.addEventListener(Y,Ma),setTimeout(()=>{Jn||T(gt)},hn)},m=(cn,gt,vr,hn)=>{const Jn=cn.length;let Ma=cn.indexOf(gt);return-1===Ma?!vr&&hn?cn[Jn-1]:cn[0]:(Ma+=vr?1:-1,hn&&(Ma=(Ma+Jn)%Jn),cn[Math.max(0,Math.min(Ma,Jn-1))])},a=/[^.]*(?=\..*)\.|.*/,b=/\..*/,p=/::\d+$/,s={};let v=1;const A={mouseenter:"mouseover",mouseleave:"mouseout"},x=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function E(cn,gt){return gt&&`${gt}::${v++}`||cn.uidEvent||v++}function g(cn){const gt=E(cn);return cn.uidEvent=gt,s[gt]=s[gt]||{},s[gt]}function M(cn,gt,vr=null){return Object.values(cn).find(hn=>hn.callable===gt&&hn.delegationSelector===vr)}function w(cn,gt,vr){const hn="string"==typeof gt,Jn=hn?vr:gt||vr;let Ma=I(cn);return x.has(Ma)||(Ma=cn),[hn,Jn,Ma]}function n(cn,gt,vr,hn,Jn){if("string"!=typeof gt||!cn)return;let[Ma,Na,li]=w(gt,vr,hn);var fs;gt in A&&(fs=Na,Na=function($o){if(!$o.relatedTarget||$o.relatedTarget!==$o.delegateTarget&&!$o.delegateTarget.contains($o.relatedTarget))return fs.call(this,$o)});const Hi=g(cn),so=Hi[li]||(Hi[li]={}),Fo=M(so,Na,Ma?vr:null);if(Fo)return void(Fo.oneOff=Fo.oneOff&&Jn);const Yo=E(Na,gt.replace(a,"")),as=Ma?function(Zo,fs,$o){return function ys(ml){const cu=Zo.querySelectorAll(fs);for(let{target:Ci}=ml;Ci&&Ci!==this;Ci=Ci.parentNode)for(const rl of cu)if(rl===Ci)return B(ml,{delegateTarget:Ci}),ys.oneOff&&L.off(Zo,ml.type,fs,$o),$o.apply(Ci,[ml])}}(cn,vr,Na):function(Zo,fs){return function $o(ys){return B(ys,{delegateTarget:Zo}),$o.oneOff&&L.off(Zo,ys.type,fs),fs.apply(Zo,[ys])}}(cn,Na);as.delegationSelector=Ma?vr:null,as.callable=Na,as.oneOff=Jn,as.uidEvent=Yo,so[Yo]=as,cn.addEventListener(li,as,Ma)}function S(cn,gt,vr,hn,Jn){const Ma=M(gt[vr],hn,Jn);Ma&&(cn.removeEventListener(vr,Ma,!!Jn),delete gt[vr][Ma.uidEvent])}function d(cn,gt,vr,hn){const Jn=gt[vr]||{};for(const[Ma,Na]of Object.entries(Jn))Ma.includes(hn)&&S(cn,gt,vr,Na.callable,Na.delegationSelector)}function I(cn){return cn=cn.replace(b,""),A[cn]||cn}const L={on(cn,gt,vr,hn){n(cn,gt,vr,hn,!1)},one(cn,gt,vr,hn){n(cn,gt,vr,hn,!0)},off(cn,gt,vr,hn){if("string"!=typeof gt||!cn)return;const[Jn,Ma,Na]=w(gt,vr,hn),li=Na!==gt,Hi=g(cn),so=Hi[Na]||{},Fo=gt.startsWith(".");if(void 0===Ma){if(Fo)for(const Yo of Object.keys(Hi))d(cn,Hi,Yo,gt.slice(1));for(const[Yo,as]of Object.entries(so)){const Zo=Yo.replace(p,"");li&&!gt.includes(Zo)||S(cn,Hi,Na,as.callable,as.delegationSelector)}}else{if(!Object.keys(so).length)return;S(cn,Hi,Na,Ma,Jn?vr:null)}},trigger(cn,gt,vr){if("string"!=typeof gt||!cn)return null;const hn=r();let Jn=null,Ma=!0,Na=!0,li=!1;gt!==I(gt)&&hn&&(Jn=hn.Event(gt,vr),hn(cn).trigger(Jn),Ma=!Jn.isPropagationStopped(),Na=!Jn.isImmediatePropagationStopped(),li=Jn.isDefaultPrevented());const Hi=B(new Event(gt,{bubbles:Ma,cancelable:!0}),vr);return li&&Hi.preventDefault(),Na&&cn.dispatchEvent(Hi),Hi.defaultPrevented&&Jn&&Jn.preventDefault(),Hi}};function B(cn,gt={}){for(const[vr,hn]of Object.entries(gt))try{cn[vr]=hn}catch{Object.defineProperty(cn,vr,{configurable:!0,get:()=>hn})}return cn}function k(cn){if("true"===cn)return!0;if("false"===cn)return!1;if(cn===Number(cn).toString())return Number(cn);if(""===cn||"null"===cn)return null;if("string"!=typeof cn)return cn;try{return JSON.parse(decodeURIComponent(cn))}catch{return cn}}function z(cn){return cn.replace(/[A-Z]/g,gt=>`-${gt.toLowerCase()}`)}const O={setDataAttribute(cn,gt,vr){cn.setAttribute(`data-bs-${z(gt)}`,vr)},removeDataAttribute(cn,gt){cn.removeAttribute(`data-bs-${z(gt)}`)},getDataAttributes(cn){if(!cn)return{};const gt={},vr=Object.keys(cn.dataset).filter(hn=>hn.startsWith("bs")&&!hn.startsWith("bsConfig"));for(const hn of vr){let Jn=hn.replace(/^bs/,"");Jn=Jn.charAt(0).toLowerCase()+Jn.slice(1,Jn.length),gt[Jn]=k(cn.dataset[hn])}return gt},getDataAttribute:(cn,gt)=>k(cn.getAttribute(`data-bs-${z(gt)}`))};class F{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(gt){return gt=this._mergeConfigObj(gt),gt=this._configAfterMerge(gt),this._typeCheckConfig(gt),gt}_configAfterMerge(gt){return gt}_mergeConfigObj(gt,vr){const hn=D(vr)?O.getDataAttribute(vr,"config"):{};return{...this.constructor.Default,..."object"==typeof hn?hn:{},...D(vr)?O.getDataAttributes(vr):{},..."object"==typeof gt?gt:{}}}_typeCheckConfig(gt,vr=this.constructor.DefaultType){for(const[Jn,Ma]of Object.entries(vr)){const Na=gt[Jn],li=D(Na)?"element":null==(hn=Na)?`${hn}`:Object.prototype.toString.call(hn).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Ma).test(li))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Jn}" provided type "${li}" but expected type "${Ma}".`)}var hn}}class N extends F{constructor(gt,vr){super(),(gt=o(gt))&&(this._element=gt,this._config=this._getConfig(vr),te.set(this._element,this.constructor.DATA_KEY,this))}dispose(){te.remove(this._element,this.constructor.DATA_KEY),L.off(this._element,this.constructor.EVENT_KEY);for(const gt of Object.getOwnPropertyNames(this))this[gt]=null}_queueCallback(gt,vr,hn=!0){c(gt,vr,hn)}_getConfig(gt){return gt=this._mergeConfigObj(gt,this._element),gt=this._configAfterMerge(gt),this._typeCheckConfig(gt),gt}static getInstance(gt){return te.get(o(gt),this.DATA_KEY)}static getOrCreateInstance(gt,vr={}){return this.getInstance(gt)||new this(gt,"object"==typeof vr?vr:null)}static get VERSION(){return"5.3.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(gt){return`${gt}${this.EVENT_KEY}`}}const H=cn=>{let gt=cn.getAttribute("data-bs-target");if(!gt||"#"===gt){let vr=cn.getAttribute("href");if(!vr||!vr.includes("#")&&!vr.startsWith("."))return null;vr.includes("#")&&!vr.startsWith("#")&&(vr=`#${vr.split("#")[1]}`),gt=vr&&"#"!==vr?e(vr.trim()):null}return gt},X={find:(cn,gt=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(gt,cn)),findOne:(cn,gt=document.documentElement)=>Element.prototype.querySelector.call(gt,cn),children:(cn,gt)=>[].concat(...cn.children).filter(vr=>vr.matches(gt)),parents(cn,gt){const vr=[];let hn=cn.parentNode.closest(gt);for(;hn;)vr.push(hn),hn=hn.parentNode.closest(gt);return vr},prev(cn,gt){let vr=cn.previousElementSibling;for(;vr;){if(vr.matches(gt))return[vr];vr=vr.previousElementSibling}return[]},next(cn,gt){let vr=cn.nextElementSibling;for(;vr;){if(vr.matches(gt))return[vr];vr=vr.nextElementSibling}return[]},focusableChildren(cn){const gt=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(vr=>`${vr}:not([tabindex^="-"])`).join(",");return this.find(gt,cn).filter(vr=>!C(vr)&&P(vr))},getSelectorFromElement(cn){const gt=H(cn);return gt&&X.findOne(gt)?gt:null},getElementFromSelector(cn){const gt=H(cn);return gt?X.findOne(gt):null},getMultipleElementsFromSelector(cn){const gt=H(cn);return gt?X.find(gt):[]}},ne=(cn,gt="hide")=>{const hn=cn.NAME;L.on(document,`click.dismiss${cn.EVENT_KEY}`,`[data-bs-dismiss="${hn}"]`,function(Jn){if(["A","AREA"].includes(this.tagName)&&Jn.preventDefault(),C(this))return;const Ma=X.getElementFromSelector(this)||this.closest(`.${hn}`);cn.getOrCreateInstance(Ma)[gt]()})},ie=".bs.alert",ue=`close${ie}`,J=`closed${ie}`;class j extends N{static get NAME(){return"alert"}close(){if(L.trigger(this._element,ue).defaultPrevented)return;this._element.classList.remove("show");const gt=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,gt)}_destroyElement(){this._element.remove(),L.trigger(this._element,J),this.dispose()}static jQueryInterface(gt){return this.each(function(){const vr=j.getOrCreateInstance(this);if("string"==typeof gt){if(void 0===vr[gt]||gt.startsWith("_")||"constructor"===gt)throw new TypeError(`No method named "${gt}"`);vr[gt](this)}})}}ne(j,"close"),u(j);const W='[data-bs-toggle="button"]';class V extends N{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(gt){return this.each(function(){const vr=V.getOrCreateInstance(this);"toggle"===gt&&vr[gt]()})}}L.on(document,"click.bs.button.data-api",W,cn=>{cn.preventDefault();const gt=cn.target.closest(W);V.getOrCreateInstance(gt).toggle()}),u(V);const K=".bs.swipe",ae=`touchstart${K}`,Q=`touchmove${K}`,Z=`touchend${K}`,re=`pointerdown${K}`,q=`pointerup${K}`,se={endCallback:null,leftCallback:null,rightCallback:null},de={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class we extends F{constructor(gt,vr){super(),this._element=gt,gt&&we.isSupported()&&(this._config=this._getConfig(vr),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return se}static get DefaultType(){return de}static get NAME(){return"swipe"}dispose(){L.off(this._element,K)}_start(gt){this._supportPointerEvents?this._eventIsPointerPenTouch(gt)&&(this._deltaX=gt.clientX):this._deltaX=gt.touches[0].clientX}_end(gt){this._eventIsPointerPenTouch(gt)&&(this._deltaX=gt.clientX-this._deltaX),this._handleSwipe(),f(this._config.endCallback)}_move(gt){this._deltaX=gt.touches&&gt.touches.length>1?0:gt.touches[0].clientX-this._deltaX}_handleSwipe(){const gt=Math.abs(this._deltaX);if(gt<=40)return;const vr=gt/this._deltaX;this._deltaX=0,vr&&f(vr>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(L.on(this._element,re,gt=>this._start(gt)),L.on(this._element,q,gt=>this._end(gt)),this._element.classList.add("pointer-event")):(L.on(this._element,ae,gt=>this._start(gt)),L.on(this._element,Q,gt=>this._move(gt)),L.on(this._element,Z,gt=>this._end(gt)))}_eventIsPointerPenTouch(gt){return this._supportPointerEvents&&("pen"===gt.pointerType||"touch"===gt.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ye=".bs.carousel",Pe=".data-api",Ie="next",Se="prev",xe="left",Me="right",Ge=`slide${ye}`,Ye=`slid${ye}`,De=`keydown${ye}`,He=`mouseenter${ye}`,rt=`mouseleave${ye}`,$e=`dragstart${ye}`,Be=`load${ye}${Pe}`,ze=`click${ye}${Pe}`,tt="carousel",lt="active",ut=".active",xt=".carousel-item",bt=ut+xt,Ht={ArrowLeft:Me,ArrowRight:xe},Je={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ce={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ee extends N{constructor(gt,vr){super(gt,vr),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=X.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===tt&&this.cycle()}static get Default(){return Je}static get DefaultType(){return Ce}static get NAME(){return"carousel"}next(){this._slide(Ie)}nextWhenVisible(){!document.hidden&&P(this._element)&&this.next()}prev(){this._slide(Se)}pause(){this._isSliding&&T(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?L.one(this._element,Ye,()=>this.cycle()):this.cycle())}to(gt){const vr=this._getItems();if(gt>vr.length-1||gt<0)return;if(this._isSliding)return void L.one(this._element,Ye,()=>this.to(gt));const hn=this._getItemIndex(this._getActive());hn!==gt&&this._slide(gt>hn?Ie:Se,vr[gt])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(gt){return gt.defaultInterval=gt.interval,gt}_addEventListeners(){this._config.keyboard&&L.on(this._element,De,gt=>this._keydown(gt)),"hover"===this._config.pause&&(L.on(this._element,He,()=>this.pause()),L.on(this._element,rt,()=>this._maybeEnableCycle())),this._config.touch&&we.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const vr of X.find(".carousel-item img",this._element))L.on(vr,$e,hn=>hn.preventDefault());this._swipeHelper=new we(this._element,{leftCallback:()=>this._slide(this._directionToOrder(xe)),rightCallback:()=>this._slide(this._directionToOrder(Me)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(gt){if(/input|textarea/i.test(gt.target.tagName))return;const vr=Ht[gt.key];vr&&(gt.preventDefault(),this._slide(this._directionToOrder(vr)))}_getItemIndex(gt){return this._getItems().indexOf(gt)}_setActiveIndicatorElement(gt){if(!this._indicatorsElement)return;const vr=X.findOne(ut,this._indicatorsElement);vr.classList.remove(lt),vr.removeAttribute("aria-current");const hn=X.findOne(`[data-bs-slide-to="${gt}"]`,this._indicatorsElement);hn&&(hn.classList.add(lt),hn.setAttribute("aria-current","true"))}_updateInterval(){const gt=this._activeElement||this._getActive();if(!gt)return;const vr=Number.parseInt(gt.getAttribute("data-bs-interval"),10);this._config.interval=vr||this._config.defaultInterval}_slide(gt,vr=null){if(this._isSliding)return;const hn=this._getActive(),Jn=gt===Ie,Ma=vr||m(this._getItems(),hn,Jn,this._config.wrap);if(Ma===hn)return;const Na=this._getItemIndex(Ma),li=Yo=>L.trigger(this._element,Yo,{relatedTarget:Ma,direction:this._orderToDirection(gt),from:this._getItemIndex(hn),to:Na});if(li(Ge).defaultPrevented||!hn||!Ma)return;const Hi=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Na),this._activeElement=Ma;const so=Jn?"carousel-item-start":"carousel-item-end",Fo=Jn?"carousel-item-next":"carousel-item-prev";Ma.classList.add(Fo),hn.classList.add(so),Ma.classList.add(so),this._queueCallback(()=>{Ma.classList.remove(so,Fo),Ma.classList.add(lt),hn.classList.remove(lt,Fo,so),this._isSliding=!1,li(Ye)},hn,this._isAnimated()),Hi&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return X.findOne(bt,this._element)}_getItems(){return X.find(xt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(gt){return i()?gt===xe?Se:Ie:gt===xe?Ie:Se}_orderToDirection(gt){return i()?gt===Se?xe:Me:gt===Se?Me:xe}static jQueryInterface(gt){return this.each(function(){const vr=Ee.getOrCreateInstance(this,gt);if("number"!=typeof gt){if("string"==typeof gt){if(void 0===vr[gt]||gt.startsWith("_")||"constructor"===gt)throw new TypeError(`No method named "${gt}"`);vr[gt]()}}else vr.to(gt)})}}L.on(document,ze,"[data-bs-slide], [data-bs-slide-to]",function(cn){const gt=X.getElementFromSelector(this);if(!gt||!gt.classList.contains(tt))return;cn.preventDefault();const vr=Ee.getOrCreateInstance(gt),hn=this.getAttribute("data-bs-slide-to");return hn?(vr.to(hn),void vr._maybeEnableCycle()):"next"===O.getDataAttribute(this,"slide")?(vr.next(),void vr._maybeEnableCycle()):(vr.prev(),void vr._maybeEnableCycle())}),L.on(window,Be,()=>{const cn=X.find('[data-bs-ride="carousel"]');for(const gt of cn)Ee.getOrCreateInstance(gt)}),u(Ee);const Re=".bs.collapse",ke=`show${Re}`,Ne=`shown${Re}`,_e=`hide${Re}`,Te=`hidden${Re}`,fe=`click${Re}.data-api`,pe="show",Fe="collapse",Xe="collapsing",at=`:scope .${Fe} .${Fe}`,ft='[data-bs-toggle="collapse"]',Xt={parent:null,toggle:!0},rr={parent:"(null|element)",toggle:"boolean"};class At extends N{constructor(gt,vr){super(gt,vr),this._isTransitioning=!1,this._triggerArray=[];const hn=X.find(ft);for(const Jn of hn){const Ma=X.getSelectorFromElement(Jn),Na=X.find(Ma).filter(li=>li===this._element);null!==Ma&&Na.length&&this._triggerArray.push(Jn)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xt}static get DefaultType(){return rr}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let gt=[];if(this._config.parent&&(gt=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Jn=>Jn!==this._element).map(Jn=>At.getOrCreateInstance(Jn,{toggle:!1}))),gt.length&&gt[0]._isTransitioning||L.trigger(this._element,ke).defaultPrevented)return;for(const Jn of gt)Jn.hide();const vr=this._getDimension();this._element.classList.remove(Fe),this._element.classList.add(Xe),this._element.style[vr]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const hn=`scroll${vr[0].toUpperCase()+vr.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Xe),this._element.classList.add(Fe,pe),this._element.style[vr]="",L.trigger(this._element,Ne)},this._element,!0),this._element.style[vr]=`${this._element[hn]}px`}hide(){if(this._isTransitioning||!this._isShown()||L.trigger(this._element,_e).defaultPrevented)return;const gt=this._getDimension();this._element.style[gt]=`${this._element.getBoundingClientRect()[gt]}px`,this._element.classList.add(Xe),this._element.classList.remove(Fe,pe);for(const vr of this._triggerArray){const hn=X.getElementFromSelector(vr);hn&&!this._isShown(hn)&&this._addAriaAndCollapsedClass([vr],!1)}this._isTransitioning=!0,this._element.style[gt]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Xe),this._element.classList.add(Fe),L.trigger(this._element,Te)},this._element,!0)}_isShown(gt=this._element){return gt.classList.contains(pe)}_configAfterMerge(gt){return gt.toggle=!!gt.toggle,gt.parent=o(gt.parent),gt}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const gt=this._getFirstLevelChildren(ft);for(const vr of gt){const hn=X.getElementFromSelector(vr);hn&&this._addAriaAndCollapsedClass([vr],this._isShown(hn))}}_getFirstLevelChildren(gt){const vr=X.find(at,this._config.parent);return X.find(gt,this._config.parent).filter(hn=>!vr.includes(hn))}_addAriaAndCollapsedClass(gt,vr){if(gt.length)for(const hn of gt)hn.classList.toggle("collapsed",!vr),hn.setAttribute("aria-expanded",vr)}static jQueryInterface(gt){const vr={};return"string"==typeof gt&&/show|hide/.test(gt)&&(vr.toggle=!1),this.each(function(){const hn=At.getOrCreateInstance(this,vr);if("string"==typeof gt){if(void 0===hn[gt])throw new TypeError(`No method named "${gt}"`);hn[gt]()}})}}L.on(document,fe,ft,function(cn){("A"===cn.target.tagName||cn.delegateTarget&&"A"===cn.delegateTarget.tagName)&&cn.preventDefault();for(const gt of X.getMultipleElementsFromSelector(this))At.getOrCreateInstance(gt,{toggle:!1}).toggle()}),u(At);const zt="dropdown",Qt=".bs.dropdown",Rr=".data-api",pt="ArrowUp",$t="ArrowDown",tr=`hide${Qt}`,Er=`hidden${Qt}`,pr=`show${Qt}`,dt=`shown${Qt}`,it=`click${Qt}${Rr}`,mt=`keydown${Qt}${Rr}`,St=`keyup${Qt}${Rr}`,Lt="show",Ct='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ut=`${Ct}.${Lt}`,Bt=".dropdown-menu",qt=i()?"top-end":"top-start",cr=i()?"top-start":"top-end",lr=i()?"bottom-end":"bottom-start",br=i()?"bottom-start":"bottom-end",We=i()?"left-start":"right-start",Ve=i()?"right-start":"left-start",Rt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},_t={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Kt extends N{constructor(gt,vr){super(gt,vr),this._popper=null,this._parent=this._element.parentNode,this._menu=X.next(this._element,Bt)[0]||X.prev(this._element,Bt)[0]||X.findOne(Bt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Rt}static get DefaultType(){return _t}static get NAME(){return zt}toggle(){return this._isShown()?this.hide():this.show()}show(){if(C(this._element)||this._isShown())return;const gt={relatedTarget:this._element};if(!L.trigger(this._element,pr,gt).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const vr of[].concat(...document.body.children))L.on(vr,"mouseover",y);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Lt),this._element.classList.add(Lt),L.trigger(this._element,dt,gt)}}hide(){!C(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(gt){if(!L.trigger(this._element,tr,gt).defaultPrevented){if("ontouchstart"in document.documentElement)for(const vr of[].concat(...document.body.children))L.off(vr,"mouseover",y);this._popper&&this._popper.destroy(),this._menu.classList.remove(Lt),this._element.classList.remove(Lt),this._element.setAttribute("aria-expanded","false"),O.removeDataAttribute(this._menu,"popper"),L.trigger(this._element,Er,gt)}}_getConfig(gt){if("object"==typeof(gt=super._getConfig(gt)).reference&&!D(gt.reference)&&"function"!=typeof gt.reference.getBoundingClientRect)throw new TypeError(`${zt.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return gt}_createPopper(){if(void 0===ki)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let gt=this._element;"parent"===this._config.reference?gt=this._parent:D(this._config.reference)?gt=o(this._config.reference):"object"==typeof this._config.reference&&(gt=this._config.reference);const vr=this._getPopperConfig();this._popper=ki.createPopper(gt,this._menu,vr)}_isShown(){return this._menu.classList.contains(Lt)}_getPlacement(){const gt=this._parent;if(gt.classList.contains("dropend"))return We;if(gt.classList.contains("dropstart"))return Ve;if(gt.classList.contains("dropup-center"))return"top";if(gt.classList.contains("dropdown-center"))return"bottom";const vr="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return gt.classList.contains("dropup")?vr?cr:qt:vr?br:lr}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:gt}=this._config;return"string"==typeof gt?gt.split(",").map(vr=>Number.parseInt(vr,10)):"function"==typeof gt?vr=>gt(vr,this._element):gt}_getPopperConfig(){const gt={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(O.setDataAttribute(this._menu,"popper","static"),gt.modifiers=[{name:"applyStyles",enabled:!1}]),{...gt,...f(this._config.popperConfig,[gt])}}_selectMenuItem({key:gt,target:vr}){const hn=X.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Jn=>P(Jn));hn.length&&m(hn,vr,gt===$t,!hn.includes(vr)).focus()}static jQueryInterface(gt){return this.each(function(){const vr=Kt.getOrCreateInstance(this,gt);if("string"==typeof gt){if(void 0===vr[gt])throw new TypeError(`No method named "${gt}"`);vr[gt]()}})}static clearMenus(gt){if(2===gt.button||"keyup"===gt.type&&"Tab"!==gt.key)return;const vr=X.find(Ut);for(const hn of vr){const Jn=Kt.getInstance(hn);if(!Jn||!1===Jn._config.autoClose)continue;const Ma=gt.composedPath(),Na=Ma.includes(Jn._menu);if(Ma.includes(Jn._element)||"inside"===Jn._config.autoClose&&!Na||"outside"===Jn._config.autoClose&&Na||Jn._menu.contains(gt.target)&&("keyup"===gt.type&&"Tab"===gt.key||/input|select|option|textarea|form/i.test(gt.target.tagName)))continue;const li={relatedTarget:Jn._element};"click"===gt.type&&(li.clickEvent=gt),Jn._completeHide(li)}}static dataApiKeydownHandler(gt){const vr=/input|textarea/i.test(gt.target.tagName),hn="Escape"===gt.key,Jn=[pt,$t].includes(gt.key);if(!Jn&&!hn||vr&&!hn)return;gt.preventDefault();const Ma=this.matches(Ct)?this:X.prev(this,Ct)[0]||X.next(this,Ct)[0]||X.findOne(Ct,gt.delegateTarget.parentNode),Na=Kt.getOrCreateInstance(Ma);if(Jn)return gt.stopPropagation(),Na.show(),void Na._selectMenuItem(gt);Na._isShown()&&(gt.stopPropagation(),Na.hide(),Ma.focus())}}L.on(document,mt,Ct,Kt.dataApiKeydownHandler),L.on(document,mt,Bt,Kt.dataApiKeydownHandler),L.on(document,it,Kt.clearMenus),L.on(document,St,Kt.clearMenus),L.on(document,it,Ct,function(cn){cn.preventDefault(),Kt.getOrCreateInstance(this).toggle()}),u(Kt);const sr="backdrop",or=`mousedown.bs.${sr}`,Nt={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},dr={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Mr extends F{constructor(gt){super(),this._config=this._getConfig(gt),this._isAppended=!1,this._element=null}static get Default(){return Nt}static get DefaultType(){return dr}static get NAME(){return sr}show(gt){if(!this._config.isVisible)return void f(gt);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{f(gt)})}hide(gt){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),f(gt)})):f(gt)}dispose(){this._isAppended&&(L.off(this._element,or),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const gt=document.createElement("div");gt.className=this._config.className,this._config.isAnimated&&gt.classList.add("fade"),this._element=gt}return this._element}_configAfterMerge(gt){return gt.rootElement=o(gt.rootElement),gt}_append(){if(this._isAppended)return;const gt=this._getElement();this._config.rootElement.append(gt),L.on(gt,or,()=>{f(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(gt){c(gt,this._getElement(),this._config.isAnimated)}}const wr=".bs.focustrap",kr=`focusin${wr}`,tn=`keydown.tab${wr}`,_r="backward",Kr={autofocus:!0,trapElement:null},vn={autofocus:"boolean",trapElement:"element"};class Xr extends F{constructor(gt){super(),this._config=this._getConfig(gt),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Kr}static get DefaultType(){return vn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),L.off(document,wr),L.on(document,kr,gt=>this._handleFocusin(gt)),L.on(document,tn,gt=>this._handleKeydown(gt)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,L.off(document,wr))}_handleFocusin(gt){const{trapElement:vr}=this._config;if(gt.target===document||gt.target===vr||vr.contains(gt.target))return;const hn=X.focusableChildren(vr);0===hn.length?vr.focus():this._lastTabNavDirection===_r?hn[hn.length-1].focus():hn[0].focus()}_handleKeydown(gt){"Tab"===gt.key&&(this._lastTabNavDirection=gt.shiftKey?_r:"forward")}}const On=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",mn=".sticky-top",xr="padding-right",Pr="margin-right";class Zr{constructor(){this._element=document.body}getWidth(){const gt=document.documentElement.clientWidth;return Math.abs(window.innerWidth-gt)}hide(){const gt=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,xr,vr=>vr+gt),this._setElementAttributes(On,xr,vr=>vr+gt),this._setElementAttributes(mn,Pr,vr=>vr-gt)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,xr),this._resetElementAttributes(On,xr),this._resetElementAttributes(mn,Pr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(gt,vr,hn){const Jn=this.getWidth();this._applyManipulationCallback(gt,Ma=>{if(Ma!==this._element&&window.innerWidth>Ma.clientWidth+Jn)return;this._saveInitialAttribute(Ma,vr);const Na=window.getComputedStyle(Ma).getPropertyValue(vr);Ma.style.setProperty(vr,`${hn(Number.parseFloat(Na))}px`)})}_saveInitialAttribute(gt,vr){const hn=gt.style.getPropertyValue(vr);hn&&O.setDataAttribute(gt,vr,hn)}_resetElementAttributes(gt,vr){this._applyManipulationCallback(gt,hn=>{const Jn=O.getDataAttribute(hn,vr);null!==Jn?(O.removeDataAttribute(hn,vr),hn.style.setProperty(vr,Jn)):hn.style.removeProperty(vr)})}_applyManipulationCallback(gt,vr){if(D(gt))vr(gt);else for(const hn of X.find(gt,this._element))vr(hn)}}const Hr=".bs.modal",fn=`hide${Hr}`,Tn=`hidePrevented${Hr}`,Mn=`hidden${Hr}`,Pn=`show${Hr}`,Fn=`shown${Hr}`,la=`resize${Hr}`,Xn=`click.dismiss${Hr}`,na=`mousedown.dismiss${Hr}`,Yn=`keydown.dismiss${Hr}`,ra=`click${Hr}.data-api`,Sr="modal-open",ln="modal-static",An={backdrop:!0,focus:!0,keyboard:!0},Vn={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class En extends N{constructor(gt,vr){super(gt,vr),this._dialog=X.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Zr,this._addEventListeners()}static get Default(){return An}static get DefaultType(){return Vn}static get NAME(){return"modal"}toggle(gt){return this._isShown?this.hide():this.show(gt)}show(gt){this._isShown||this._isTransitioning||L.trigger(this._element,Pn,{relatedTarget:gt}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Sr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(gt)))}hide(){this._isShown&&!this._isTransitioning&&(L.trigger(this._element,fn).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){L.off(window,Hr),L.off(this._dialog,Hr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Mr({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Xr({trapElement:this._element})}_showElement(gt){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const vr=X.findOne(".modal-body",this._dialog);vr&&(vr.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,L.trigger(this._element,Fn,{relatedTarget:gt})},this._dialog,this._isAnimated())}_addEventListeners(){L.on(this._element,Yn,gt=>{"Escape"===gt.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),L.on(window,la,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),L.on(this._element,na,gt=>{L.one(this._element,Xn,vr=>{this._element===gt.target&&this._element===vr.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Sr),this._resetAdjustments(),this._scrollBar.reset(),L.trigger(this._element,Mn)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(L.trigger(this._element,Tn).defaultPrevented)return;const gt=this._element.scrollHeight>document.documentElement.clientHeight,vr=this._element.style.overflowY;"hidden"===vr||this._element.classList.contains(ln)||(gt||(this._element.style.overflowY="hidden"),this._element.classList.add(ln),this._queueCallback(()=>{this._element.classList.remove(ln),this._queueCallback(()=>{this._element.style.overflowY=vr},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const gt=this._element.scrollHeight>document.documentElement.clientHeight,vr=this._scrollBar.getWidth(),hn=vr>0;if(hn&&!gt){const Jn=i()?"paddingLeft":"paddingRight";this._element.style[Jn]=`${vr}px`}if(!hn&&gt){const Jn=i()?"paddingRight":"paddingLeft";this._element.style[Jn]=`${vr}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(gt,vr){return this.each(function(){const hn=En.getOrCreateInstance(this,gt);if("string"==typeof gt){if(void 0===hn[gt])throw new TypeError(`No method named "${gt}"`);hn[gt](vr)}})}}L.on(document,ra,'[data-bs-toggle="modal"]',function(cn){const gt=X.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&cn.preventDefault(),L.one(gt,Pn,hn=>{hn.defaultPrevented||L.one(gt,Mn,()=>{P(this)&&this.focus()})});const vr=X.findOne(".modal.show");vr&&En.getInstance(vr).hide(),En.getOrCreateInstance(gt).toggle(this)}),ne(En),u(En);const Ln=".bs.offcanvas",Hn=".data-api",Qn=`load${Ln}${Hn}`,Ja="showing",ge=".offcanvas.show",Ue=`show${Ln}`,nt=`shown${Ln}`,ct=`hide${Ln}`,Pt=`hidePrevented${Ln}`,Ft=`hidden${Ln}`,Yt=`resize${Ln}`,Vt=`click${Ln}${Hn}`,Ot=`keydown.dismiss${Ln}`,Jt={backdrop:!0,keyboard:!0,scroll:!1},Dr={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Gr extends N{constructor(gt,vr){super(gt,vr),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Jt}static get DefaultType(){return Dr}static get NAME(){return"offcanvas"}toggle(gt){return this._isShown?this.hide():this.show(gt)}show(gt){this._isShown||L.trigger(this._element,Ue,{relatedTarget:gt}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Zr).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ja),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(Ja),L.trigger(this._element,nt,{relatedTarget:gt})},this._element,!0))}hide(){this._isShown&&(L.trigger(this._element,ct).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Zr).reset(),L.trigger(this._element,Ft)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const gt=!!this._config.backdrop;return new Mr({className:"offcanvas-backdrop",isVisible:gt,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:gt?()=>{"static"!==this._config.backdrop?this.hide():L.trigger(this._element,Pt)}:null})}_initializeFocusTrap(){return new Xr({trapElement:this._element})}_addEventListeners(){L.on(this._element,Ot,gt=>{"Escape"===gt.key&&(this._config.keyboard?this.hide():L.trigger(this._element,Pt))})}static jQueryInterface(gt){return this.each(function(){const vr=Gr.getOrCreateInstance(this,gt);if("string"==typeof gt){if(void 0===vr[gt]||gt.startsWith("_")||"constructor"===gt)throw new TypeError(`No method named "${gt}"`);vr[gt](this)}})}}L.on(document,Vt,'[data-bs-toggle="offcanvas"]',function(cn){const gt=X.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&cn.preventDefault(),C(this))return;L.one(gt,Ft,()=>{P(this)&&this.focus()});const vr=X.findOne(ge);vr&&vr!==gt&&Gr.getInstance(vr).hide(),Gr.getOrCreateInstance(gt).toggle(this)}),L.on(window,Qn,()=>{for(const cn of X.find(ge))Gr.getOrCreateInstance(cn).show()}),L.on(window,Yt,()=>{for(const cn of X.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(cn).position&&Gr.getOrCreateInstance(cn).hide()}),ne(Gr),u(Gr);const Yr={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},zr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),bn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,In=(cn,gt)=>{const vr=cn.nodeName.toLowerCase();return gt.includes(vr)?!zr.has(vr)||!!bn.test(cn.nodeValue):gt.filter(hn=>hn instanceof RegExp).some(hn=>hn.test(vr))},Bn={allowList:Yr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ea={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Kn={entry:"(string|element|function|null)",selector:"(string|element)"};class ha extends F{constructor(gt){super(),this._config=this._getConfig(gt)}static get Default(){return Bn}static get DefaultType(){return ea}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(gt=>this._resolvePossibleFunction(gt)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(gt){return this._checkContent(gt),this._config.content={...this._config.content,...gt},this}toHtml(){const gt=document.createElement("div");gt.innerHTML=this._maybeSanitize(this._config.template);for(const[Jn,Ma]of Object.entries(this._config.content))this._setContent(gt,Ma,Jn);const vr=gt.children[0],hn=this._resolvePossibleFunction(this._config.extraClass);return hn&&vr.classList.add(...hn.split(" ")),vr}_typeCheckConfig(gt){super._typeCheckConfig(gt),this._checkContent(gt.content)}_checkContent(gt){for(const[vr,hn]of Object.entries(gt))super._typeCheckConfig({selector:vr,entry:hn},Kn)}_setContent(gt,vr,hn){const Jn=X.findOne(hn,gt);Jn&&((vr=this._resolvePossibleFunction(vr))?D(vr)?this._putElementInTemplate(o(vr),Jn):this._config.html?Jn.innerHTML=this._maybeSanitize(vr):Jn.textContent=vr:Jn.remove())}_maybeSanitize(gt){return this._config.sanitize?function(vr,hn,Jn){if(!vr.length)return vr;if(Jn&&"function"==typeof Jn)return Jn(vr);const Ma=(new window.DOMParser).parseFromString(vr,"text/html"),Na=[].concat(...Ma.body.querySelectorAll("*"));for(const li of Na){const Hi=li.nodeName.toLowerCase();if(!Object.keys(hn).includes(Hi)){li.remove();continue}const so=[].concat(...li.attributes),Fo=[].concat(hn["*"]||[],hn[Hi]||[]);for(const Yo of so)In(Yo,Fo)||li.removeAttribute(Yo.nodeName)}return Ma.body.innerHTML}(gt,this._config.allowList,this._config.sanitizeFn):gt}_resolvePossibleFunction(gt){return f(gt,[this])}_putElementInTemplate(gt,vr){if(this._config.html)return vr.innerHTML="",void vr.append(gt);vr.textContent=gt.textContent}}const Di=new Set(["sanitize","allowList","sanitizeFn"]),$a="fade",eo="show",Fi="hide.bs.modal",co="hover",oi="focus",mo={AUTO:"auto",TOP:"top",RIGHT:i()?"left":"right",BOTTOM:"bottom",LEFT:i()?"right":"left"},ss={allowList:Yr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},zi={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ui extends N{constructor(gt,vr){if(void 0===ki)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(gt,vr),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ss}static get DefaultType(){return zi}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),L.off(this._element.closest(".modal"),Fi,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const gt=L.trigger(this._element,this.constructor.eventName("show")),vr=(h(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(gt.defaultPrevented||!vr)return;this._disposePopper();const hn=this._getTipElement();this._element.setAttribute("aria-describedby",hn.getAttribute("id"));const{container:Jn}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Jn.append(hn),L.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(hn),hn.classList.add(eo),"ontouchstart"in document.documentElement)for(const Ma of[].concat(...document.body.children))L.on(Ma,"mouseover",y);this._queueCallback(()=>{L.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!L.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(eo),"ontouchstart"in document.documentElement)for(const gt of[].concat(...document.body.children))L.off(gt,"mouseover",y);this._activeTrigger.click=!1,this._activeTrigger[oi]=!1,this._activeTrigger[co]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),L.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(gt){const vr=this._getTemplateFactory(gt).toHtml();if(!vr)return null;vr.classList.remove($a,eo),vr.classList.add(`bs-${this.constructor.NAME}-auto`);const hn=(Jn=>{do{Jn+=Math.floor(1e6*Math.random())}while(document.getElementById(Jn));return Jn})(this.constructor.NAME).toString();return vr.setAttribute("id",hn),this._isAnimated()&&vr.classList.add($a),vr}setContent(gt){this._newContent=gt,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(gt){return this._templateFactory?this._templateFactory.changeContent(gt):this._templateFactory=new ha({...this._config,content:gt,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(gt){return this.constructor.getOrCreateInstance(gt.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains($a)}_isShown(){return this.tip&&this.tip.classList.contains(eo)}_createPopper(gt){const vr=f(this._config.placement,[this,gt,this._element]),hn=mo[vr.toUpperCase()];return ki.createPopper(this._element,gt,this._getPopperConfig(hn))}_getOffset(){const{offset:gt}=this._config;return"string"==typeof gt?gt.split(",").map(vr=>Number.parseInt(vr,10)):"function"==typeof gt?vr=>gt(vr,this._element):gt}_resolvePossibleFunction(gt){return f(gt,[this._element])}_getPopperConfig(gt){const vr={placement:gt,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:hn=>{this._getTipElement().setAttribute("data-popper-placement",hn.state.placement)}}]};return{...vr,...f(this._config.popperConfig,[vr])}}_setListeners(){const gt=this._config.trigger.split(" ");for(const vr of gt)if("click"===vr)L.on(this._element,this.constructor.eventName("click"),this._config.selector,hn=>{this._initializeOnDelegatedTarget(hn).toggle()});else if("manual"!==vr){const hn=this.constructor.eventName(vr===co?"mouseenter":"focusin"),Jn=this.constructor.eventName(vr===co?"mouseleave":"focusout");L.on(this._element,hn,this._config.selector,Ma=>{const Na=this._initializeOnDelegatedTarget(Ma);Na._activeTrigger["focusin"===Ma.type?oi:co]=!0,Na._enter()}),L.on(this._element,Jn,this._config.selector,Ma=>{const Na=this._initializeOnDelegatedTarget(Ma);Na._activeTrigger["focusout"===Ma.type?oi:co]=Na._element.contains(Ma.relatedTarget),Na._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},L.on(this._element.closest(".modal"),Fi,this._hideModalHandler)}_fixTitle(){const gt=this._element.getAttribute("title");gt&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",gt),this._element.setAttribute("data-bs-original-title",gt),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(gt,vr){clearTimeout(this._timeout),this._timeout=setTimeout(gt,vr)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(gt){const vr=O.getDataAttributes(this._element);for(const hn of Object.keys(vr))Di.has(hn)&&delete vr[hn];return gt={...vr,..."object"==typeof gt&&gt?gt:{}},gt=this._mergeConfigObj(gt),gt=this._configAfterMerge(gt),this._typeCheckConfig(gt),gt}_configAfterMerge(gt){return gt.container=!1===gt.container?document.body:o(gt.container),"number"==typeof gt.delay&&(gt.delay={show:gt.delay,hide:gt.delay}),"number"==typeof gt.title&&(gt.title=gt.title.toString()),"number"==typeof gt.content&&(gt.content=gt.content.toString()),gt}_getDelegateConfig(){const gt={};for(const[vr,hn]of Object.entries(this._config))this.constructor.Default[vr]!==hn&&(gt[vr]=hn);return gt.selector=!1,gt.trigger="manual",gt}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(gt){return this.each(function(){const vr=Ui.getOrCreateInstance(this,gt);if("string"==typeof gt){if(void 0===vr[gt])throw new TypeError(`No method named "${gt}"`);vr[gt]()}})}}u(Ui);const Jo={...Ui.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Lo={...Ui.DefaultType,content:"(null|string|element|function)"};class ui extends Ui{static get Default(){return Jo}static get DefaultType(){return Lo}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(gt){return this.each(function(){const vr=ui.getOrCreateInstance(this,gt);if("string"==typeof gt){if(void 0===vr[gt])throw new TypeError(`No method named "${gt}"`);vr[gt]()}})}}u(ui);const Wi=".bs.scrollspy",Yi=`activate${Wi}`,Si=`click${Wi}`,wo=`load${Wi}.data-api`,Sa="active",mi="[href]",hi=".nav-link",Zi=`${hi}, .nav-item > ${hi}, .list-group-item`,ji={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Qo={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class io extends N{constructor(gt,vr){super(gt,vr),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ji}static get DefaultType(){return Qo}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const gt of this._observableSections.values())this._observer.observe(gt)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(gt){return gt.target=o(gt.target)||document.body,gt.rootMargin=gt.offset?`${gt.offset}px 0px -30%`:gt.rootMargin,"string"==typeof gt.threshold&&(gt.threshold=gt.threshold.split(",").map(vr=>Number.parseFloat(vr))),gt}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(L.off(this._config.target,Si),L.on(this._config.target,Si,mi,gt=>{const vr=this._observableSections.get(gt.target.hash);if(vr){gt.preventDefault();const hn=this._rootElement||window,Jn=vr.offsetTop-this._element.offsetTop;if(hn.scrollTo)return void hn.scrollTo({top:Jn,behavior:"smooth"});hn.scrollTop=Jn}}))}_getNewObserver(){return new IntersectionObserver(vr=>this._observerCallback(vr),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(gt){const vr=Na=>this._targetLinks.get(`#${Na.target.id}`),hn=Na=>{this._previousScrollData.visibleEntryTop=Na.target.offsetTop,this._process(vr(Na))},Jn=(this._rootElement||document.documentElement).scrollTop,Ma=Jn>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Jn;for(const Na of gt){if(!Na.isIntersecting){this._activeTarget=null,this._clearActiveClass(vr(Na));continue}const li=Na.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Ma&&li){if(hn(Na),!Jn)return}else Ma||li||hn(Na)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const gt=X.find(mi,this._config.target);for(const vr of gt){if(!vr.hash||C(vr))continue;const hn=X.findOne(decodeURI(vr.hash),this._element);P(hn)&&(this._targetLinks.set(decodeURI(vr.hash),vr),this._observableSections.set(vr.hash,hn))}}_process(gt){this._activeTarget!==gt&&(this._clearActiveClass(this._config.target),this._activeTarget=gt,gt.classList.add(Sa),this._activateParents(gt),L.trigger(this._element,Yi,{relatedTarget:gt}))}_activateParents(gt){if(gt.classList.contains("dropdown-item"))X.findOne(".dropdown-toggle",gt.closest(".dropdown")).classList.add(Sa);else for(const vr of X.parents(gt,".nav, .list-group"))for(const hn of X.prev(vr,Zi))hn.classList.add(Sa)}_clearActiveClass(gt){gt.classList.remove(Sa);const vr=X.find(`${mi}.${Sa}`,gt);for(const hn of vr)hn.classList.remove(Sa)}static jQueryInterface(gt){return this.each(function(){const vr=io.getOrCreateInstance(this,gt);if("string"==typeof gt){if(void 0===vr[gt]||gt.startsWith("_")||"constructor"===gt)throw new TypeError(`No method named "${gt}"`);vr[gt]()}})}}L.on(window,wo,()=>{for(const cn of X.find('[data-bs-spy="scroll"]'))io.getOrCreateInstance(cn)}),u(io);const di=".bs.tab",qs=`hide${di}`,To=`hidden${di}`,ns=`show${di}`,ls=`shown${di}`,Hs=`click${di}`,gs=`keydown${di}`,Ps=`load${di}`,Vs="ArrowLeft",el="ArrowRight",yl="ArrowUp",Ds="ArrowDown",tl="Home",Vr="End",xn="active",Nn="show",jn=".dropdown-toggle",za=`:not(${jn})`,Ea='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ba=`.nav-link${za}, .list-group-item${za}, [role="tab"]${za}, ${Ea}`,Ra=`.${xn}[data-bs-toggle="tab"], .${xn}[data-bs-toggle="pill"], .${xn}[data-bs-toggle="list"]`;class si extends N{constructor(gt){super(gt),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),L.on(this._element,gs,vr=>this._keydown(vr)))}static get NAME(){return"tab"}show(){const gt=this._element;if(this._elemIsActive(gt))return;const vr=this._getActiveElem(),hn=vr?L.trigger(vr,qs,{relatedTarget:gt}):null;L.trigger(gt,ns,{relatedTarget:vr}).defaultPrevented||hn&&hn.defaultPrevented||(this._deactivate(vr,gt),this._activate(gt,vr))}_activate(gt,vr){gt&&(gt.classList.add(xn),this._activate(X.getElementFromSelector(gt)),this._queueCallback(()=>{"tab"===gt.getAttribute("role")?(gt.removeAttribute("tabindex"),gt.setAttribute("aria-selected",!0),this._toggleDropDown(gt,!0),L.trigger(gt,ls,{relatedTarget:vr})):gt.classList.add(Nn)},gt,gt.classList.contains("fade")))}_deactivate(gt,vr){gt&&(gt.classList.remove(xn),gt.blur(),this._deactivate(X.getElementFromSelector(gt)),this._queueCallback(()=>{"tab"===gt.getAttribute("role")?(gt.setAttribute("aria-selected",!1),gt.setAttribute("tabindex","-1"),this._toggleDropDown(gt,!1),L.trigger(gt,To,{relatedTarget:vr})):gt.classList.remove(Nn)},gt,gt.classList.contains("fade")))}_keydown(gt){if(![Vs,el,yl,Ds,tl,Vr].includes(gt.key))return;gt.stopPropagation(),gt.preventDefault();const vr=this._getChildren().filter(Jn=>!C(Jn));let hn;if([tl,Vr].includes(gt.key))hn=vr[gt.key===tl?0:vr.length-1];else{const Jn=[el,Ds].includes(gt.key);hn=m(vr,gt.target,Jn,!0)}hn&&(hn.focus({preventScroll:!0}),si.getOrCreateInstance(hn).show())}_getChildren(){return X.find(Ba,this._parent)}_getActiveElem(){return this._getChildren().find(gt=>this._elemIsActive(gt))||null}_setInitialAttributes(gt,vr){this._setAttributeIfNotExists(gt,"role","tablist");for(const hn of vr)this._setInitialAttributesOnChild(hn)}_setInitialAttributesOnChild(gt){gt=this._getInnerElement(gt);const vr=this._elemIsActive(gt),hn=this._getOuterElement(gt);gt.setAttribute("aria-selected",vr),hn!==gt&&this._setAttributeIfNotExists(hn,"role","presentation"),vr||gt.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(gt,"role","tab"),this._setInitialAttributesOnTargetPanel(gt)}_setInitialAttributesOnTargetPanel(gt){const vr=X.getElementFromSelector(gt);vr&&(this._setAttributeIfNotExists(vr,"role","tabpanel"),gt.id&&this._setAttributeIfNotExists(vr,"aria-labelledby",`${gt.id}`))}_toggleDropDown(gt,vr){const hn=this._getOuterElement(gt);if(!hn.classList.contains("dropdown"))return;const Jn=(Ma,Na)=>{const li=X.findOne(Ma,hn);li&&li.classList.toggle(Na,vr)};Jn(jn,xn),Jn(".dropdown-menu",Nn),hn.setAttribute("aria-expanded",vr)}_setAttributeIfNotExists(gt,vr,hn){gt.hasAttribute(vr)||gt.setAttribute(vr,hn)}_elemIsActive(gt){return gt.classList.contains(xn)}_getInnerElement(gt){return gt.matches(Ba)?gt:X.findOne(Ba,gt)}_getOuterElement(gt){return gt.closest(".nav-item, .list-group-item")||gt}static jQueryInterface(gt){return this.each(function(){const vr=si.getOrCreateInstance(this);if("string"==typeof gt){if(void 0===vr[gt]||gt.startsWith("_")||"constructor"===gt)throw new TypeError(`No method named "${gt}"`);vr[gt]()}})}}L.on(document,Hs,Ea,function(cn){["A","AREA"].includes(this.tagName)&&cn.preventDefault(),C(this)||si.getOrCreateInstance(this).show()}),L.on(window,Ps,()=>{for(const cn of X.find(Ra))si.getOrCreateInstance(cn)}),u(si);const Xa=".bs.toast",ri=`mouseover${Xa}`,pi=`mouseout${Xa}`,Za=`focusin${Xa}`,Ri=`focusout${Xa}`,ho=`hide${Xa}`,Ji=`hidden${Xa}`,Ao=`show${Xa}`,Ki=`shown${Xa}`,Ei="show",ko="showing",oo={animation:"boolean",autohide:"boolean",delay:"number"},to={animation:!0,autohide:!0,delay:5e3};class us extends N{constructor(gt,vr){super(gt,vr),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return to}static get DefaultType(){return oo}static get NAME(){return"toast"}show(){L.trigger(this._element,Ao).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Ei,ko),this._queueCallback(()=>{this._element.classList.remove(ko),L.trigger(this._element,Ki),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(L.trigger(this._element,ho).defaultPrevented||(this._element.classList.add(ko),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(ko,Ei),L.trigger(this._element,Ji)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ei),super.dispose()}isShown(){return this._element.classList.contains(Ei)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(gt,vr){switch(gt.type){case"mouseover":case"mouseout":this._hasMouseInteraction=vr;break;case"focusin":case"focusout":this._hasKeyboardInteraction=vr}if(vr)return void this._clearTimeout();const hn=gt.relatedTarget;this._element===hn||this._element.contains(hn)||this._maybeScheduleHide()}_setListeners(){L.on(this._element,ri,gt=>this._onInteraction(gt,!0)),L.on(this._element,pi,gt=>this._onInteraction(gt,!1)),L.on(this._element,Za,gt=>this._onInteraction(gt,!0)),L.on(this._element,Ri,gt=>this._onInteraction(gt,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(gt){return this.each(function(){const vr=us.getOrCreateInstance(this,gt);if("string"==typeof gt){if(void 0===vr[gt])throw new TypeError(`No method named "${gt}"`);vr[gt](this)}})}}return ne(us),u(us),{Alert:j,Button:V,Carousel:Ee,Collapse:At,Dropdown:Kt,Modal:En,Offcanvas:Gr,Popover:ui,ScrollSpy:io,Tab:si,Toast:us,Tooltip:Ui}}),function(Ls,ki){"object"==typeof exports&&"object"==typeof module?module.exports=ki():"function"==typeof define&&define.amd?define([],ki):"object"==typeof exports?exports.Plotly=ki():Ls.Plotly=ki()}(self,function(){return function(){var ii={98847:function(te,Y,e){"use strict";var T=e(71828),D={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in D){var P=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");T.addStyleRule(P,D[o])}},98222:function(te,Y,e){"use strict";te.exports=e(82887)},27206:function(te,Y,e){"use strict";te.exports=e(60822)},59893:function(te,Y,e){"use strict";te.exports=e(23381)},5224:function(te,Y,e){"use strict";te.exports=e(83832)},59509:function(te,Y,e){"use strict";te.exports=e(72201)},75557:function(te,Y,e){"use strict";te.exports=e(91815)},40338:function(te,Y,e){"use strict";te.exports=e(21462)},35080:function(te,Y,e){"use strict";te.exports=e(51319)},61396:function(te,Y,e){"use strict";te.exports=e(57516)},40549:function(te,Y,e){"use strict";te.exports=e(98128)},49866:function(te,Y,e){"use strict";te.exports=e(99442)},36089:function(te,Y,e){"use strict";te.exports=e(93740)},19548:function(te,Y,e){"use strict";te.exports=e(8729)},35831:function(te,Y,e){"use strict";te.exports=e(93814)},61039:function(te,Y,e){"use strict";te.exports=e(14382)},97040:function(te,Y,e){"use strict";te.exports=e(51759)},77986:function(te,Y,e){"use strict";te.exports=e(10421)},24296:function(te,Y,e){"use strict";te.exports=e(43102)},58872:function(te,Y,e){"use strict";te.exports=e(92165)},29626:function(te,Y,e){"use strict";te.exports=e(3325)},65591:function(te,Y,e){"use strict";te.exports=e(36071)},69738:function(te,Y,e){"use strict";te.exports=e(43905)},92650:function(te,Y,e){"use strict";te.exports=e(35902)},35630:function(te,Y,e){"use strict";te.exports=e(69816)},73434:function(te,Y,e){"use strict";te.exports=e(94507)},27909:function(te,Y,e){"use strict";var T=e(19548);T.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),te.exports=T},46163:function(te,Y,e){"use strict";te.exports=e(15154)},96881:function(te,Y,e){"use strict";te.exports=e(64943)},50581:function(te,Y,e){"use strict";te.exports=e(21164)},55334:function(te,Y,e){"use strict";te.exports=e(54186)},65317:function(te,Y,e){"use strict";te.exports=e(94873)},10021:function(te,Y,e){"use strict";te.exports=e(67618)},54201:function(te,Y,e){"use strict";te.exports=e(58810)},5861:function(te,Y,e){"use strict";te.exports=e(20593)},16122:function(te,Y,e){"use strict";te.exports=e(29396)},83043:function(te,Y,e){"use strict";te.exports=e(13551)},48131:function(te,Y,e){"use strict";te.exports=e(46858)},47582:function(te,Y,e){"use strict";te.exports=e(17988)},21641:function(te,Y,e){"use strict";te.exports=e(68868)},96268:function(te,Y,e){"use strict";te.exports=e(20467)},19440:function(te,Y,e){"use strict";te.exports=e(91271)},99488:function(te,Y,e){"use strict";te.exports=e(21461)},97393:function(te,Y,e){"use strict";te.exports=e(85956)},25743:function(te,Y,e){"use strict";te.exports=e(52979)},66398:function(te,Y,e){"use strict";te.exports=e(32275)},17280:function(te,Y,e){"use strict";te.exports=e(6419)},77900:function(te,Y,e){"use strict";te.exports=e(61510)},81299:function(te,Y,e){"use strict";te.exports=e(87619)},93005:function(te,Y,e){"use strict";te.exports=e(93601)},40344:function(te,Y,e){"use strict";te.exports=e(96595)},47645:function(te,Y,e){"use strict";te.exports=e(70954)},6197:function(te,Y,e){"use strict";te.exports=e(47462)},4534:function(te,Y,e){"use strict";te.exports=e(17659)},85461:function(te,Y,e){"use strict";te.exports=e(19990)},82884:function(te){"use strict";te.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(te,Y,e){"use strict";var T=e(82884),D=e(41940),o=e(85555),P=e(44467).templatedArray;e(24695),te.exports=P("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:D({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:T.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:T.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:D({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(te,Y,e){"use strict";var T=e(71828),D=e(89298),o=e(92605).draw;function P(h){T.filterVisible(h._fullLayout.annotations).forEach(function(t){var r=D.getFromId(h,t.xref),l=D.getFromId(h,t.yref),i=D.getRefType(t.xref),u=D.getRefType(t.yref);t._extremes={},"range"===i&&C(t,r),"range"===u&&C(t,l)})}function C(h,y){var E,t=y._id,r=t.charAt(0),l=h[r],i=h["a"+r],c=h["_"+r+"padplus"],m=h["_"+r+"padminus"],a={x:1,y:-1}[r]*h[r+"shift"],b=3*h.arrowsize*h.arrowwidth||0,p=b+a,s=b-a,v=3*h.startarrowsize*h.arrowwidth||0,A=v+a,x=v-a;if(h["a"+r+"ref"]===h[r+"ref"]){var g=D.findExtremes(y,[y.r2c(l)],{ppadplus:p,ppadminus:s}),M=D.findExtremes(y,[y.r2c(i)],{ppadplus:Math.max(c,A),ppadminus:Math.max(m,x)});E={min:[g.min[0],M.min[0]],max:[g.max[0],M.max[0]]}}else A=i?A+i:A,x=i?x-i:x,E=D.findExtremes(y,[y.r2c(l)],{ppadplus:Math.max(c,p,A),ppadminus:Math.max(m,s,x)});h._extremes[t]=E}te.exports=function(y){if(T.filterVisible(y._fullLayout.annotations).length&&y._fullData.length)return T.syncOrAsync([o,P],y)}},44317:function(te,Y,e){"use strict";var T=e(71828),D=e(73972),o=e(44467).arrayEditor;function h(t,r){var m,a,b,p,s,v,A,l=t._fullLayout.annotations,i=[],u=[],f=[],c=(r||[]).length;for(m=0;m<l.length;m++)if(p=(b=l[m]).clicktoshow){for(a=0;a<c;a++)if(A=(s=r[a]).yaxis,(v=s.xaxis)._id===b.xref&&A._id===b.yref&&v.d2r(s.x)===y(b._xclick,v)&&A.d2r(s.y)===y(b._yclick,A)){(b.visible?"onout"===p?u:f:i).push(m);break}a===c&&b.visible&&"onout"===p&&u.push(m)}return{on:i,off:u,explicitOff:f}}function y(t,r){return"log"===r.type?r.l2r(t):r.d2r(t)}te.exports={hasClickToShow:function P(t,r){var l=h(t,r);return l.on.length>0||l.explicitOff.length>0},onClick:function C(t,r){var m,a,l=h(t,r),i=l.on,u=l.off.concat(l.explicitOff),f={},c=t._fullLayout.annotations;if(i.length||u.length){for(m=0;m<i.length;m++)(a=o(t.layout,"annotations",c[i[m]])).modifyItem("visible",!0),T.extendFlat(f,a.getUpdateObj());for(m=0;m<u.length;m++)(a=o(t.layout,"annotations",c[u[m]])).modifyItem("visible",!1),T.extendFlat(f,a.getUpdateObj());return D.call("update",t,{},f)}}}},25625:function(te,Y,e){"use strict";var T=e(71828),D=e(7901);te.exports=function(P,C,h,y){y("opacity");var t=y("bgcolor"),r=y("bordercolor"),l=D.opacity(r);y("borderpad");var i=y("borderwidth"),u=y("showarrow");if(y("text",u?" ":h._dfltTitle.annotation),y("textangle"),T.coerceFont(y,"font",h.font),y("width"),y("align"),y("height")&&y("valign"),u){var m,a,c=y("arrowside");-1!==c.indexOf("end")&&(m=y("arrowhead"),a=y("arrowsize")),-1!==c.indexOf("start")&&(y("startarrowhead",m),y("startarrowsize",a)),y("arrowcolor",l?C.bordercolor:D.defaultLine),y("arrowwidth",2*(l&&i||1)),y("standoff"),y("startstandoff")}var b=y("hovertext"),p=h.hoverlabel||{};if(b){var s=y("hoverlabel.bgcolor",p.bgcolor||(D.opacity(t)?D.rgb(t):D.defaultLine)),v=y("hoverlabel.bordercolor",p.bordercolor||D.contrast(s));T.coerceFont(y,"hoverlabel.font",{family:p.font.family,size:p.font.size,color:p.font.color||v})}y("captureevents",!!b)}},94128:function(te,Y,e){"use strict";var T=e(92770),D=e(58163);te.exports=function(P,C,h,y){C=C||{};var t="log"===h&&"linear"===C.type;if(t||"linear"===h&&"log"===C.type)for(var u,f,l=P._fullLayout.annotations,i=C._id.charAt(0),m=0;m<l.length;m++)f="annotations["+m+"].",(u=l[m])[i+"ref"]===C._id&&c(i),u["a"+i+"ref"]===C._id&&c("a"+i);function c(a){var b=u[a],p=null;p=t?D(b,C.range):Math.pow(10,b),T(p)||(p=null),y(f+a,p)}}},84046:function(te,Y,e){"use strict";var T=e(71828),D=e(89298),o=e(85501),P=e(25625),C=e(50215);function h(y,t,r){function l(w,n){return T.coerce(y,t,C,w,n)}var i=l("visible"),u=l("clicktoshow");if(i||u){P(y,t,r,l);for(var f=t.showarrow,c=["x","y"],m=[-10,-30],a={_fullLayout:r},b=0;b<2;b++){var p=c[b],s=D.coerceRef(y,t,a,p,"","paper");if("paper"!==s&&D.getFromId(a,s)._annIndices.push(t._index),D.coercePosition(t,a,l,s,p,.5),f){var A="a"+p,x=D.coerceRef(y,t,a,A,"pixel",["pixel","paper"]);"pixel"!==x&&x!==s&&(x=t[A]="pixel"),D.coercePosition(t,a,l,x,A,"pixel"===x?m[b]:.4)}l(p+"anchor"),l(p+"shift")}if(T.noneOrAll(y,t,["x","y"]),f&&T.noneOrAll(y,t,["ax","ay"]),u){var g=l("xclick"),M=l("yclick");t._xclick=void 0===g?t.x:D.cleanPosition(g,a,t.xref),t._yclick=void 0===M?t.y:D.cleanPosition(M,a,t.yref)}}}te.exports=function(t,r){o(t,r,{name:"annotations",handleItemDefaults:h})}},92605:function(te,Y,e){"use strict";var T=e(39898),D=e(73972),o=e(74875),P=e(71828),C=P.strTranslate,h=e(89298),y=e(7901),t=e(91424),r=e(30211),l=e(63893),i=e(6964),u=e(28569),f=e(44467).arrayEditor,c=e(13011);function a(s,v){var x=s._fullLayout.annotations[v]||{},E=h.getFromId(s,x.xref),g=h.getFromId(s,x.yref);E&&E.setScale(),g&&g.setScale(),p(s,x,v,!1,E,g)}function b(s,v,A,x,E){var g=E[A],M=E[A+"ref"],w=-1!==A.indexOf("y"),n="domain"===h.getRefType(M),S=w?x.h:x.w;return s?n?g+(w?-v:v)/s._length:s.p2r(s.r2p(g)+v):g+(w?-v:v)/S}function p(s,v,A,x,E,g){var S,d,M=s._fullLayout,w=s._fullLayout._size,n=s._context.edits;x?(S="annotation-"+x,d=x+".annotations"):(S="annotation",d="annotations");var I=f(s.layout,d,v),L=I.modifyBase,B=I.modifyItem,k=I.getUpdateObj;M._infolayer.selectAll("."+S+'[data-index="'+A+'"]').remove();var z="clip"+M._uid+"_ann"+A;if(v._input&&!1!==v.visible){var O={x:{},y:{}},F=+v.textangle||0,N=M._infolayer.append("g").classed(S,!0).attr("data-index",String(A)).style("opacity",v.opacity),H=N.append("g").classed("annotation-text-g",!0),X=n[v.showarrow?"annotationTail":"annotationPosition"],ne=v.captureevents||n.annotationText||X,ue=H.append("g").style("pointer-events",ne?"all":null).call(i,"pointer").on("click",function(){s._dragging=!1,s.emit("plotly_clickannotation",ie(T.event))});v.hovertext&&ue.on("mouseover",function(){var de=v.hoverlabel,we=de.font,ye=this.getBoundingClientRect(),Pe=s.getBoundingClientRect();r.loneHover({x0:ye.left-Pe.left,x1:ye.right-Pe.left,y:(ye.top+ye.bottom)/2-Pe.top,text:v.hovertext,color:de.bgcolor,borderColor:de.bordercolor,fontFamily:we.family,fontSize:we.size,fontColor:we.color},{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:s})}).on("mouseout",function(){r.loneUnhover(M._hoverlayer.node())});var J=v.borderwidth,W=J+v.borderpad,V=ue.append("rect").attr("class","bg").style("stroke-width",J+"px").call(y.stroke,v.bordercolor).call(y.fill,v.bgcolor),K=v.width||v.height,ae=M._topclips.selectAll("#"+z).data(K?[0]:[]);ae.enter().append("clipPath").classed("annclip",!0).attr("id",z).append("rect"),ae.exit().remove();var Q=v.font,Z=M._meta?P.templateString(v.text,M._meta):v.text,re=ue.append("text").classed("annotation-text",!0).text(Z);n.annotationText?re.call(l.makeEditable,{delegate:ue,gd:s}).call(q).on("edit",function(de){v.text=de,this.call(q),B("text",de),E&&E.autorange&&L(E._name+".autorange",!0),g&&g.autorange&&L(g._name+".autorange",!0),D.call("_guiRelayout",s,k())}):re.call(q)}else T.selectAll("#"+z).remove();function ie(de){var we={index:A,annotation:v._input,fullAnnotation:v,event:de};return x&&(we.subplotId=x),we}function q(de){return de.call(t.font,Q).attr({"text-anchor":{left:"start",right:"end"}[v.align]||"middle"}),l.convertToTspans(de,s,se),de}function se(){var de=re.selectAll("a");1===de.size()&&de.text()===re.text()&&ue.insert("a",":first-child").attr({"xlink:xlink:href":de.attr("xlink:href"),"xlink:xlink:show":de.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(V.node());var ye=ue.select(".annotation-text-math-group"),Pe=!ye.empty(),Ie=t.bBox((Pe?ye:re).node()),Se=Ie.width,xe=Ie.height,Me=v.width||Se,Ge=v.height||xe,Ye=Math.round(Me+2*W),De=Math.round(Ge+2*W);function He(Er,pr){return"auto"===pr&&(pr=Er<.3333333333333333?"left":Er>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[pr]}for(var rt=!1,$e=["x","y"],Be=0;Be<$e.length;Be++){var ke,Ne,_e,Te,fe,ze=$e[Be],tt=v[ze+"ref"]||ze,lt=v["a"+ze+"ref"],ut={x:E,y:g}[ze],xt=(F+("x"===ze?0:-90))*Math.PI/180,bt=Ye*Math.cos(xt),Ht=De*Math.sin(xt),Je=Math.abs(bt)+Math.abs(Ht),Ce=v[ze+"anchor"],Ee=v[ze+"shift"]*("x"===ze?1:-1),Re=O[ze],pe=h.getRefType(tt);if(ut&&"domain"!==pe){var Fe=ut.r2fraction(v[ze]);(Fe<0||Fe>1)&&(lt===tt?((Fe=ut.r2fraction(v["a"+ze]))<0||Fe>1)&&(rt=!0):rt=!0),ke=ut._offset+ut.r2p(v[ze]),Te=.5}else{var Xe="domain"===pe;"x"===ze?(_e=v[ze],ke=Xe?ut._offset+ut._length*_e:ke=w.l+w.w*_e):(_e=1-v[ze],ke=Xe?ut._offset+ut._length*_e:ke=w.t+w.h*_e),Te=v.showarrow?.5:_e}if(v.showarrow){Re.head=ke;var at=v["a"+ze];if(fe=bt*He(.5,v.xanchor)-Ht*He(.5,v.yanchor),lt===tt){var ft=h.getRefType(lt);"domain"===ft?("y"===ze&&(at=1-at),Re.tail=ut._offset+ut._length*at):Re.tail="paper"===ft?"y"===ze?w.t+w.h*(at=1-at):w.l+w.w*at:ut._offset+ut.r2p(at),Ne=fe}else Re.tail=ke+at,Ne=fe+at;Re.text=Re.tail+fe;var Xt=M["x"===ze?"width":"height"];if("paper"===tt&&(Re.head=P.constrain(Re.head,1,Xt-1)),"pixel"===lt){var rr=-Math.max(Re.tail-3,Re.text),At=Math.min(Re.tail+3,Re.text)-Xt;rr>0?(Re.tail+=rr,Re.text+=rr):At>0&&(Re.tail-=At,Re.text-=At)}Re.tail+=Ee,Re.head+=Ee}else Ne=fe=Je*He(Te,Ce),Re.text=ke+fe;Re.text+=Ee,fe+=Ee,v["_"+ze+"padplus"]=Je/2+(Ne+=Ee),v["_"+ze+"padminus"]=Je/2-Ne,v["_"+ze+"size"]=Je,v["_"+ze+"shift"]=fe}if(rt)ue.remove();else{var zt=0,Qt=0;"left"!==v.align&&(zt=(Me-Se)*("center"===v.align?.5:1)),"top"!==v.valign&&(Qt=(Ge-xe)*("middle"===v.valign?.5:1)),Pe?ye.select("svg").attr({x:W+zt-1,y:W+Qt}).call(t.setClipUrl,K?z:null,s):re.call(l.positionText,W+zt-Ie.left,W+Qt-Ie.top).call(t.setClipUrl,K?z:null,s),ae.select("rect").call(t.setRect,W,W,Me,Ge),V.call(t.setRect,J/2,J/2,Ye-J,De-J),ue.call(t.setTranslate,Math.round(O.x.text-Ye/2),Math.round(O.y.text-De/2)),H.attr({transform:"rotate("+F+","+O.x.text+","+O.y.text+")"});var tr,$t=function(Er,pr){N.selectAll(".annotation-arrow-g").remove();var dt=O.x.head,it=O.y.head,mt=O.x.tail+Er,St=O.y.tail+pr,Lt=O.x.text+Er,Ct=O.y.text+pr,Ut=P.rotationXYMatrix(F,Lt,Ct),Bt=P.apply2DTransform(Ut),qt=P.apply2DTransform2(Ut),cr=+V.attr("width"),lr=+V.attr("height"),br=Lt-.5*cr,We=br+cr,Ve=Ct-.5*lr,Rt=Ve+lr,_t=[[br,Ve,br,Rt],[br,Rt,We,Rt],[We,Rt,We,Ve],[We,Ve,br,Ve]].map(qt);if(!_t.reduce(function(Kr,vn){return Kr^!!P.segmentsIntersect(dt,it,dt+1e6,it+1e6,vn[0],vn[1],vn[2],vn[3])},!1)){_t.forEach(function(Kr){var vn=P.segmentsIntersect(mt,St,dt,it,Kr[0],Kr[1],Kr[2],Kr[3]);vn&&(mt=vn.x,St=vn.y)});var Kt=v.arrowwidth,sr=v.arrowcolor,hr=v.arrowside,or=N.append("g").style({opacity:y.opacity(sr)}).classed("annotation-arrow-g",!0),Nt=or.append("path").attr("d","M"+mt+","+St+"L"+dt+","+it).style("stroke-width",Kt+"px").call(y.stroke,y.rgb(sr));if(c(Nt,hr,v),n.annotationPosition&&Nt.node().parentNode&&!x){var dr=dt,Mr=it;if(v.standoff){var wr=Math.sqrt(Math.pow(dt-mt,2)+Math.pow(it-St,2));dr+=v.standoff*(mt-dt)/wr,Mr+=v.standoff*(St-it)/wr}var tn,_r,kr=or.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(mt-dr)+","+(St-Mr),transform:C(dr,Mr)}).style("stroke-width",Kt+6+"px").call(y.stroke,"rgba(0,0,0,0)").call(y.fill,"rgba(0,0,0,0)");u.init({element:kr.node(),gd:s,prepFn:function(){var Kr=t.getTranslate(ue);tn=Kr.x,_r=Kr.y,E&&E.autorange&&L(E._name+".autorange",!0),g&&g.autorange&&L(g._name+".autorange",!0)},moveFn:function(Kr,vn){var Xr=Bt(tn,_r),On=Xr[0]+Kr,mn=Xr[1]+vn;ue.call(t.setTranslate,On,mn),B("x",b(E,Kr,"x",w,v)),B("y",b(g,vn,"y",w,v)),v.axref===v.xref&&B("ax",b(E,Kr,"ax",w,v)),v.ayref===v.yref&&B("ay",b(g,vn,"ay",w,v)),or.attr("transform",C(Kr,vn)),H.attr({transform:"rotate("+F+","+On+","+mn+")"})},doneFn:function(){D.call("_guiRelayout",s,k());var Kr=document.querySelector(".js-notes-box-panel");Kr&&Kr.redraw(Kr.selectedObj)}})}}};v.showarrow&&$t(0,0),X&&u.init({element:ue.node(),gd:s,prepFn:function(){tr=H.attr("transform")},moveFn:function(Er,pr){var dt="pointer";if(v.showarrow)B("ax",v.axref===v.xref?b(E,Er,"ax",w,v):v.ax+Er),B("ay",v.ayref===v.yref?b(g,pr,"ay",w.w,v):v.ay+pr),$t(Er,pr);else{if(x)return;var it,mt;if(E)it=b(E,Er,"x",w,v);else{var St=v._xsize/w.w;it=u.align(v.x+(v._xshift-v.xshift)/w.w-St/2+Er/w.w,St,0,1,v.xanchor)}if(g)mt=b(g,pr,"y",w,v);else{var Ct=v._ysize/w.h;mt=u.align(v.y-(v._yshift+v.yshift)/w.h-Ct/2-pr/w.h,Ct,0,1,v.yanchor)}B("x",it),B("y",mt),(!E||!g)&&(dt=u.getCursor(E?.5:it,g?.5:mt,v.xanchor,v.yanchor))}H.attr({transform:C(Er,pr)+tr}),i(ue,dt)},clickFn:function(Er,pr){v.captureevents&&s.emit("plotly_clickannotation",ie(pr))},doneFn:function(){i(ue),D.call("_guiRelayout",s,k());var Er=document.querySelector(".js-notes-box-panel");Er&&Er.redraw(Er.selectedObj)}})}}}te.exports={draw:function m(s){var v=s._fullLayout;v._infolayer.selectAll(".annotation").remove();for(var A=0;A<v.annotations.length;A++)v.annotations[A].visible&&a(s,A);return o.previousPromises(s)},drawOne:a,drawRaw:p}},13011:function(te,Y,e){"use strict";var T=e(39898),D=e(7901),o=e(82884),P=e(71828),C=P.strScale,h=P.strRotate,y=P.strTranslate;te.exports=function(r,l,i){var A,x,E,g,u=r.node(),f=o[i.arrowhead||0],c=o[i.startarrowhead||0],m=(i.arrowwidth||1)*(i.arrowsize||1),a=(i.arrowwidth||1)*(i.startarrowsize||1),b=l.indexOf("start")>=0,p=l.indexOf("end")>=0,s=f.backoff*m+i.standoff,v=c.backoff*a+i.startstandoff;if("line"===u.nodeName){A={x:+r.attr("x1"),y:+r.attr("y1")},x={x:+r.attr("x2"),y:+r.attr("y2")};var M=A.x-x.x,w=A.y-x.y;if(g=(E=Math.atan2(w,M))+Math.PI,s&&v&&s+v>Math.sqrt(M*M+w*w))return void H();if(s){if(s*s>M*M+w*w)return void H();var n=s*Math.cos(E),S=s*Math.sin(E);x.x+=n,x.y+=S,r.attr({x2:x.x,y2:x.y})}if(v){if(v*v>M*M+w*w)return void H();var d=v*Math.cos(E),I=v*Math.sin(E);A.x-=d,A.y-=I,r.attr({x1:A.x,y1:A.y})}}else if("path"===u.nodeName){var L=u.getTotalLength(),B="";if(L<s+v)return void H();var k=u.getPointAtLength(0),z=u.getPointAtLength(.1);E=Math.atan2(k.y-z.y,k.x-z.x),A=u.getPointAtLength(Math.min(v,L)),B="0px,"+v+"px,";var O=u.getPointAtLength(L),F=u.getPointAtLength(L-.1);g=Math.atan2(O.y-F.y,O.x-F.x),x=u.getPointAtLength(Math.max(0,L-s)),r.style("stroke-dasharray",B+=L-(B?v+s:s)+"px,"+L+"px")}function H(){r.style("stroke-dasharray","0px,100px")}function X(ne,ie,ue,J){ne.path&&(ne.noRotate&&(ue=0),T.select(u.parentNode).append("path").attr({class:r.attr("class"),d:ne.path,transform:y(ie.x,ie.y)+h(180*ue/Math.PI)+C(J)}).style({fill:D.rgb(i.arrowcolor),"stroke-width":0}))}b&&X(c,A,E,a),p&&X(f,x,g,m)}},32745:function(te,Y,e){"use strict";var T=e(92605),D=e(44317);te.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:T.draw,drawOne:T.drawOne,drawRaw:T.drawRaw,hasClickToShow:D.hasClickToShow,onClick:D.onClick,convertCoords:e(94128)}},26997:function(te,Y,e){"use strict";var T=e(50215),D=e(30962).overrideAll,o=e(44467).templatedArray;te.exports=D(o("annotation",{visible:T.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:T.xanchor,xshift:T.xshift,yanchor:T.yanchor,yshift:T.yshift,text:T.text,textangle:T.textangle,font:T.font,width:T.width,height:T.height,opacity:T.opacity,align:T.align,valign:T.valign,bgcolor:T.bgcolor,bordercolor:T.bordercolor,borderpad:T.borderpad,borderwidth:T.borderwidth,showarrow:T.showarrow,arrowcolor:T.arrowcolor,arrowhead:T.arrowhead,startarrowhead:T.startarrowhead,arrowside:T.arrowside,arrowsize:T.arrowsize,startarrowsize:T.startarrowsize,arrowwidth:T.arrowwidth,standoff:T.standoff,startstandoff:T.startstandoff,hovertext:T.hovertext,hoverlabel:T.hoverlabel,captureevents:T.captureevents}),"calc","from-root")},5485:function(te,Y,e){"use strict";var T=e(71828),D=e(89298);function o(P,C){var y=C.fullSceneLayout.domain,t=C.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};P._xa={},T.extendFlat(P._xa,r),D.setConvert(P._xa),P._xa._offset=t.l+y.x[0]*t.w,P._xa.l2p=function(){return.5*(1+P._pdata[0]/P._pdata[3])*t.w*(y.x[1]-y.x[0])},P._ya={},T.extendFlat(P._ya,r),D.setConvert(P._ya),P._ya._offset=t.t+(1-y.y[1])*t.h,P._ya.l2p=function(){return.5*(1-P._pdata[1]/P._pdata[3])*t.h*(y.y[1]-y.y[0])}}te.exports=function(C){for(var y=C.fullSceneLayout.annotations,t=0;t<y.length;t++)o(y[t],C);C.fullLayout._infolayer.selectAll(".annotation-"+C.id).remove()}},20226:function(te,Y,e){"use strict";var T=e(71828),D=e(89298),o=e(85501),P=e(25625),C=e(26997);function h(y,t,r,l){function i(c,m){return T.coerce(y,t,C,c,m)}function u(c){var m=c+"axis",a={_fullLayout:{}};return a._fullLayout[m]=r[m],D.coercePosition(t,a,i,c,c,.5)}i("visible")&&(P(y,t,l.fullLayout,i),u("x"),u("y"),u("z"),T.noneOrAll(y,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",i("xanchor"),i("yanchor"),i("xshift"),i("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",i("ax",-10),i("ay",-30),T.noneOrAll(y,t,["ax","ay"])))}te.exports=function(t,r,l){o(t,r,{name:"annotations",handleItemDefaults:h,fullLayout:l.fullLayout})}},82188:function(te,Y,e){"use strict";var T=e(92605).drawRaw,D=e(63538),o=["x","y","z"];te.exports=function(C){for(var h=C.fullSceneLayout,y=C.dataScale,t=h.annotations,r=0;r<t.length;r++){for(var l=t[r],i=!1,u=0;u<3;u++){var f=o[u],a=h[f+"axis"].r2fraction(l[f]);if(a<0||a>1){i=!0;break}}i?C.fullLayout._infolayer.select(".annotation-"+C.id+'[data-index="'+r+'"]').remove():(l._pdata=D(C.glplot.cameraParams,[h.xaxis.r2l(l.x)*y[0],h.yaxis.r2l(l.y)*y[1],h.zaxis.r2l(l.z)*y[2]]),T(C.graphDiv,l,r,C.id,l._xa,l._ya))}}},2468:function(te,Y,e){"use strict";var T=e(73972),D=e(71828);te.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:function o(P,C){var h=T.subplotsRegistry.gl3d;if(h)for(var y=h.attrRegex,t=Object.keys(P),r=0;r<t.length;r++){var l=t[r];y.test(l)&&(P[l].annotations||[]).length&&(D.pushUnique(C._basePlotModules,h),D.pushUnique(C._subplots.gl3d,l))}},convert:e(5485),draw:e(82188)}},7561:function(te,Y,e){"use strict";te.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(te,Y,e){"use strict";var T=e(7561),D=e(71828),o=e(50606),P=o.EPOCHJD,C=o.ONEDAY,h={valType:"enumerated",values:D.sortObjectKeys(T.calendars),editType:"calc",dflt:"gregorian"},y=function(E,g,M,w){var n={};return n[M]=h,D.coerce(E,g,n,M,w)},u="##",f={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:u,w:u,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},m={};function a(E){var g=m[E];return g||(m[E]=T.instance(E))}function b(E){return D.extendFlat({},h,{description:E})}function p(E){return"Sets the calendar system to use with `"+E+"` date data."}var s={xcalendar:b(p("x"))},v=D.extendFlat({},s,{ycalendar:b(p("y"))}),A=D.extendFlat({},v,{zcalendar:b(p("z"))}),x=b(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));te.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:v,bar:v,box:v,heatmap:v,contour:v,histogram:v,histogram2d:v,histogram2dcontour:v,scatter3d:A,surface:A,mesh3d:A,scattergl:v,ohlc:s,candlestick:s},layout:{calendar:b(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:x},yaxis:{calendar:x},scene:{xaxis:{calendar:x},yaxis:{calendar:x},zaxis:{calendar:x}},polar:{radialaxis:{calendar:x}}},transforms:{filter:{valuecalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:h,handleDefaults:y,handleTraceDefaults:function(E,g,M,w){for(var n=0;n<M.length;n++)y(E,g,M[n]+"calendar",w.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:a,worldCalFmt:function c(E,g,M){for(var d,I,L,B,k,w=Math.floor((g+.05)/C)+P,n=a(M).fromJD(w),S=0;-1!==(S=E.indexOf("%",S));)"0"===(d=E.charAt(S+1))||"-"===d||"_"===d?(L=3,I=E.charAt(S+2),"_"===d&&(d="-")):(I=d,d="0",L=2),(B=f[I])?(k=B===u?u:n.formatDate(B[d]),E=E.substr(0,S)+k+E.substr(S+L),S+=k.length):S+=L;return E}}},22399:function(te,Y){"use strict";Y.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Y.defaultLine="#444",Y.lightLine="#eee",Y.background="#fff",Y.borderLine="#BEC8D9",Y.lightFraction=90.9090909090909},7901:function(te,Y,e){"use strict";var T=e(84267),D=e(92770),o=e(73627).isTypedArray,P=te.exports={},C=e(22399);P.defaults=C.defaults;var h=P.defaultLine=C.defaultLine;P.lightLine=C.lightLine;var y=P.background=C.background;function t(r){if(D(r)||"string"!=typeof r)return r;var l=r.trim();if("rgb"!==l.substr(0,3))return r;var i=l.match(/^rgba?\s*\(([^()]*)\)$/);if(!i)return r;var u=i[1].trim().split(/\s*[\s,]\s*/),f="a"===l.charAt(3)&&4===u.length;if(!f&&3!==u.length)return r;for(var c=0;c<u.length;c++){if(!(u[c].length&&(u[c]=Number(u[c]),u[c]>=0)))return r;if(3===c)u[c]>1&&(u[c]=1);else if(u[c]>=1)return r}var m=Math.round(255*u[0])+", "+Math.round(255*u[1])+", "+Math.round(255*u[2]);return f?"rgba("+m+", "+u[3]+")":"rgb("+m+")"}P.tinyRGB=function(r){var l=r.toRgb();return"rgb("+Math.round(l.r)+", "+Math.round(l.g)+", "+Math.round(l.b)+")"},P.rgb=function(r){return P.tinyRGB(T(r))},P.opacity=function(r){return r?T(r).getAlpha():0},P.addOpacity=function(r,l){var i=T(r).toRgb();return"rgba("+Math.round(i.r)+", "+Math.round(i.g)+", "+Math.round(i.b)+", "+l+")"},P.combine=function(r,l){var i=T(r).toRgb();if(1===i.a)return T(r).toRgbString();var u=T(l||y).toRgb(),f=1===u.a?u:{r:255*(1-u.a)+u.r*u.a,g:255*(1-u.a)+u.g*u.a,b:255*(1-u.a)+u.b*u.a};return T({r:f.r*(1-i.a)+i.r*i.a,g:f.g*(1-i.a)+i.g*i.a,b:f.b*(1-i.a)+i.b*i.a}).toRgbString()},P.contrast=function(r,l,i){var u=T(r);return 1!==u.getAlpha()&&(u=T(P.combine(r,y))),(u.isDark()?l?u.lighten(l):y:i?u.darken(i):h).toString()},P.stroke=function(r,l){var i=T(l);r.style({stroke:P.tinyRGB(i),"stroke-opacity":i.getAlpha()})},P.fill=function(r,l){var i=T(l);r.style({fill:P.tinyRGB(i),"fill-opacity":i.getAlpha()})},P.clean=function(r){if(r&&"object"==typeof r){var i,u,f,c,l=Object.keys(r);for(i=0;i<l.length;i++)if(c=r[f=l[i]],"color"===f.substr(f.length-5))if(Array.isArray(c))for(u=0;u<c.length;u++)c[u]=t(c[u]);else r[f]=t(c);else if("colorscale"===f.substr(f.length-10)&&Array.isArray(c))for(u=0;u<c.length;u++)Array.isArray(c[u])&&(c[u][1]=t(c[u][1]));else if(Array.isArray(c)){var m=c[0];if(!Array.isArray(m)&&m&&"object"==typeof m)for(u=0;u<c.length;u++)P.clean(c[u])}else c&&"object"==typeof c&&!o(c)&&P.clean(c)}}},63583:function(te,Y,e){"use strict";var T=e(13838),D=e(41940),o=e(1426).extendFlat,P=e(30962).overrideAll;te.exports=P({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:T.linecolor,outlinewidth:T.linewidth,bordercolor:T.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:T.minor.tickmode,nticks:T.nticks,tick0:T.tick0,dtick:T.dtick,tickvals:T.tickvals,ticktext:T.ticktext,ticks:o({},T.ticks,{dflt:""}),ticklabeloverflow:o({},T.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:T.ticklen,tickwidth:T.tickwidth,tickcolor:T.tickcolor,ticklabelstep:T.ticklabelstep,showticklabels:T.showticklabels,labelalias:T.labelalias,tickfont:D({}),tickangle:T.tickangle,tickformat:T.tickformat,tickformatstops:T.tickformatstops,tickprefix:T.tickprefix,showtickprefix:T.showtickprefix,ticksuffix:T.ticksuffix,showticksuffix:T.showticksuffix,separatethousands:T.separatethousands,exponentformat:T.exponentformat,minexponent:T.minexponent,showexponent:T.showexponent,title:{text:{valType:"string"},font:D({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:D({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(te){"use strict";te.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(te,Y,e){"use strict";var T=e(71828),D=e(44467),o=e(26218),P=e(38701),C=e(96115),h=e(89426),y=e(63583);te.exports=function(r,l,i){var u=D.newContainer(l,"colorbar"),f=r.colorbar||{};function c(O,F){return T.coerce(f,u,y,O,F)}var m=i.margin||{t:0,b:0,l:0,r:0},a=i.width-m.l-m.r,b=i.height-m.t-m.b,s="v"===c("orientation"),v=c("thicknessmode");c("thickness","fraction"===v?30/(s?a:b):30);var A=c("lenmode");c("len","fraction"===A?1:s?b:a);var w,n,S,g="paper"===c("yref"),M="paper"===c("xref"),d="left";s?(S="middle",d=M?"left":"right",w=M?1.02:1,n=.5):(S=g?"bottom":"top",d="center",w=.5,n=g?1.02:1),T.coerce(f,u,{x:{valType:"number",min:M?-2:0,max:M?3:1,dflt:w}},"x"),T.coerce(f,u,{y:{valType:"number",min:g?-2:0,max:g?3:1,dflt:n}},"y"),c("xanchor",d),c("xpad"),c("yanchor",S),c("ypad"),T.noneOrAll(f,u,["x","y"]),c("outlinecolor"),c("outlinewidth"),c("bordercolor"),c("borderwidth"),c("bgcolor");var I=T.coerce(f,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:s?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");c("ticklabeloverflow",-1!==I.indexOf("inside")?"hide past domain":"hide past div"),o(f,u,c,"linear");var L=i.font,B={outerTicks:!1,font:L};-1!==I.indexOf("inside")&&(B.bgColor="black"),h(f,u,c,"linear",B),C(f,u,c,"linear",B),P(f,u,c,"linear",B),c("title.text",i._dfltTitle.colorbar);var k=u.showticklabels?u.tickfont:L,z=T.extendFlat({},k,{color:L.color,size:T.bigFont(k.size)});T.coerceFont(c,"title.font",z),c("title.side",s?"top":"right")}},98981:function(te,Y,e){"use strict";var T=e(39898),D=e(84267),o=e(74875),P=e(73972),C=e(89298),h=e(28569),y=e(71828),t=y.strTranslate,r=e(1426).extendFlat,l=e(6964),i=e(91424),u=e(7901),f=e(92998),c=e(63893),m=e(52075).flipScale,a=e(71453),b=e(52830),p=e(13838),s=e(18783),v=s.LINE_SPACING,A=s.FROM_TL,x=s.FROM_BR,E=e(30939).cn;te.exports={draw:function g(I){var B=I._fullLayout._infolayer.selectAll("g."+E.colorbar).data(function M(I){var z,O,F,N,L=I._fullLayout,B=I.calcdata,k=[];function H(Q){return r(Q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function X(){"function"==typeof N.calc?N.calc(I,F,z):(z._fillgradient=O.reversescale?m(O.colorscale):O.colorscale,z._zrange=[O[N.min],O[N.max]])}for(var ne=0;ne<B.length;ne++)if((F=B[ne][0].trace)._module){var ue=F._module.colorbar;if(!0===F.visible&&ue)for(var J=Array.isArray(ue),j=J?ue:[ue],W=0;W<j.length;W++){var V=(N=j[W]).container;(O=V?F[V]:F)&&O.showscale&&((z=H(O.colorbar))._id="cb"+F.uid+(J&&V?"-"+V:""),z._traceIndex=F.index,z._propPrefix=(V?V+".":"")+"colorbar.",z._meta=F._meta,X(),k.push(z))}}for(var K in L._colorAxes)if((O=L[K]).showscale){var ae=L._colorAxes[K];(z=H(O.colorbar))._id="cb"+K,z._propPrefix=K+".colorbar.",z._meta=L._meta,N={min:"cmin",max:"cmax"},"heatmap"!==ae[0]&&(N.calc=(F=ae[1])._module.colorbar.calc),X(),k.push(z)}return k}(I),function(k){return k._id});B.enter().append("g").attr("class",function(k){return k._id}).classed(E.colorbar,!0),B.each(function(k){var z=T.select(this);y.ensureSingle(z,"rect",E.cbbg),y.ensureSingle(z,"g",E.cbfills),y.ensureSingle(z,"g",E.cblines),y.ensureSingle(z,"g",E.cbaxis,function(F){F.classed(E.crisp,!0)}),y.ensureSingle(z,"g",E.cbtitleunshift,function(F){F.append("g").classed(E.cbtitle,!0)}),y.ensureSingle(z,"rect",E.cboutline);var O=function w(I,L,B){var k="v"===L.orientation,z=L.len,O=L.lenmode,F=L.thickness,N=L.thicknessmode,H=L.outlinewidth,X=L.borderwidth,ne=L.bgcolor,ie=L.xanchor,ue=L.yanchor,J=L.xpad,j=L.ypad,W=L.x,V=k?L.y:1-L.y,K="paper"===L.yref,ae="paper"===L.xref,Q=B._fullLayout,Z=Q._size,re=L._fillcolor,q=L._line,se=L.title,de=se.side,we=L._zrange||T.extent(("function"==typeof re?re:q.color).domain()),ye="function"==typeof q.color?q.color:function(){return q.color},Pe="function"==typeof re?re:function(){return re},Ie=L._levels,Se=function S(I,L,B){var F,N,k=L._levels,z=[],O=[],H=k.end+k.size/100,X=k.size,ne=1.001*B[0]-.001*B[1],ie=1.001*B[1]-.001*B[0];for(N=0;N<1e5&&(F=k.start+N*X,!(X>0?F>=H:F<=H));N++)F>ne&&F<ie&&z.push(F);if(L._fillgradient)O=[0];else if("function"==typeof L._fillcolor){var ue=L._filllevels;if(ue)for(H=ue.end+ue.size/100,X=ue.size,N=0;N<1e5&&(F=ue.start+N*X,!(X>0?F>=H:F<=H));N++)F>B[0]&&F<B[1]&&O.push(F);else O=z.map(function(J){return J-k.size/2}),O.push(O[O.length-1]+k.size)}else L._fillcolor&&"string"==typeof L._fillcolor&&(O=[0]);return k.size<0&&(z.reverse(),O.reverse()),{line:z,fill:O}}(0,L,we),xe=Se.fill,Me=Se.line,Ge=Math.round(F*("fraction"===N?k?Z.w:Z.h:1)),Ye=Ge/(k?Z.w:Z.h),De=Math.round(z*("fraction"===O?k?Z.h:Z.w:1)),He=De/(k?Z.h:Z.w),rt=ae?Z.w:B._fullLayout.width,$e=K?Z.h:B._fullLayout.height,Be=Math.round(k?W*rt+J:V*$e+j),ze={center:.5,right:1}[ie]||0,tt={top:1,middle:.5}[ue]||0,lt=k?W-ze*Ye:V-tt*Ye,ut=k?V-tt*He:W-ze*He,xt=Math.round(k?$e*(1-ut):rt*ut);L._lenFrac=He,L._thickFrac=Ye,L._uFrac=lt,L._vFrac=ut;var bt=L._axis=function d(I,L,B){var k=I._fullLayout,z="v"===L.orientation,O={type:"linear",range:B,tickmode:L.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,ticklabelposition:L.ticklabelposition,ticklabeloverflow:L.ticklabeloverflow,ticklabelstep:L.ticklabelstep,tickfont:L.tickfont,tickangle:L.tickangle,tickformat:L.tickformat,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,showexponent:L.showexponent,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,title:L.title,showline:!0,anchor:"free",side:z?"right":"bottom",position:1},F=z?"y":"x",N={type:"linear",_id:F+L._id},H={letter:F,font:k.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:k.calendar};function X(ne,ie){return y.coerce(O,N,p,ne,ie)}return a(O,N,X,H,k),b(O,N,X,H),N}(B,L,we);bt.position=Ye+(k?W+J/Z.w:V+j/Z.h);var Ht=-1!==["top","bottom"].indexOf(de);if(k&&Ht&&(bt.title.side=de,bt.titlex=W+J/Z.w,bt.titley=ut+("top"===se.side?He-j/Z.h:j/Z.h)),!k&&!Ht&&(bt.title.side=de,bt.titley=V+j/Z.h,bt.titlex=ut+J/Z.w),q.color&&"auto"===L.tickmode){bt.tickmode="linear",bt.tick0=Ie.start;var Je=Ie.size,Ce=y.constrain(De/50,4,15)+1,Ee=(we[1]-we[0])/((L.nticks||Ce)*Je);if(Ee>1){var Re=Math.pow(10,Math.floor(Math.log(Ee)/Math.LN10));Je*=Re*y.roundUp(Ee/Re,[2,5,10]),(Math.abs(Ie.start)/Ie.size+1e-6)%1<2e-6&&(bt.tick0=0)}bt.dtick=Je}bt.domain=k?[ut+j/Z.h,ut+He-j/Z.h]:[ut+J/Z.w,ut+He-J/Z.w],bt.setScale(),I.attr("transform",t(Math.round(Z.l),Math.round(Z.t)));var fe,ke=I.select("."+E.cbtitleunshift).attr("transform",t(-Math.round(Z.l),-Math.round(Z.t))),Ne=bt.ticklabelposition,_e=bt.title.font.size,Te=I.select("."+E.cbaxis),pe=0,Fe=0;function Xe(At,zt){var Qt={propContainer:bt,propName:L._propPrefix+"title",traceIndex:L._traceIndex,_meta:L._meta,placeholder:Q._dfltTitle.colorbar,containerGroup:I.select("."+E.cbtitle)},Rr="h"===At.charAt(0)?At.substr(1):"h"+At;I.selectAll("."+Rr+",."+Rr+"-math-group").remove(),f.draw(B,At,r(Qt,zt||{}))}return y.syncOrAsync([o.previousPromises,function at(){var At,zt;(k&&Ht||!k&&!Ht)&&("top"===de&&(At=J+Z.l+rt*W,zt=j+Z.t+$e*(1-ut-He)+3+.75*_e),"bottom"===de&&(At=J+Z.l+rt*W,zt=j+Z.t+$e*(1-ut)-3-.25*_e),"right"===de&&(zt=j+Z.t+$e*V+3+.75*_e,At=J+Z.l+rt*ut),Xe(bt._id+"title",{attributes:{x:At,y:zt,"text-anchor":k?"start":"middle"}}))},function Xt(){if(!k&&!Ht||k&&Ht){var $t,At=I.select("."+E.cbtitle),zt=At.select("text"),Qt=[-H/2,H/2],Rr=At.select(".h"+bt._id+"title-math-group").node(),pt=15.6;if(zt.node()&&(pt=parseInt(zt.node().style.fontSize,10)*v),Rr?($t=i.bBox(Rr),Fe=$t.width,(pe=$t.height)>pt&&(Qt[1]-=(pe-pt)/2)):zt.node()&&!zt.classed(E.jsPlaceholder)&&($t=i.bBox(zt.node()),Fe=$t.width,pe=$t.height),k){if(pe){if(pe+=5,"top"===de)bt.domain[1]-=pe/Z.h,Qt[1]*=-1;else{bt.domain[0]+=pe/Z.h;var tr=c.lineCount(zt);Qt[1]+=(1-tr)*pt}At.attr("transform",t(Qt[0],Qt[1])),bt.setScale()}}else Fe&&("right"===de&&(bt.domain[0]+=(Fe+_e/2)/Z.w),At.attr("transform",t(Qt[0],Qt[1])),bt.setScale())}I.selectAll("."+E.cbfills+",."+E.cblines).attr("transform",k?t(0,Math.round(Z.h*(1-bt.domain[1]))):t(Math.round(Z.w*bt.domain[0]),0)),Te.attr("transform",k?t(0,Math.round(-Z.t)):t(Math.round(-Z.l),0));var Er=I.select("."+E.cbfills).selectAll("rect."+E.cbfill).attr("style","").data(xe);Er.enter().append("rect").classed(E.cbfill,!0).attr("style",""),Er.exit().remove();var pr=we.map(bt.c2p).map(Math.round).sort(function(Lt,Ct){return Lt-Ct});Er.each(function(Lt,Ct){var Ut=[0===Ct?we[0]:(xe[Ct]+xe[Ct-1])/2,Ct===xe.length-1?we[1]:(xe[Ct]+xe[Ct+1])/2].map(bt.c2p).map(Math.round);k&&(Ut[1]=y.constrain(Ut[1]+(Ut[1]>Ut[0])?1:-1,pr[0],pr[1]));var Bt=T.select(this).attr(k?"x":"y",Be).attr(k?"y":"x",T.min(Ut)).attr(k?"width":"height",Math.max(Ge,2)).attr(k?"height":"width",Math.max(T.max(Ut)-T.min(Ut),2));if(L._fillgradient)i.gradient(Bt,B,L._id,k?"vertical":"horizontalreversed",L._fillgradient,"fill");else{var qt=Pe(Lt).replace("e-","");Bt.attr("fill",D(qt).toHexString())}});var dt=I.select("."+E.cblines).selectAll("path."+E.cbline).data(q.color&&q.width?Me:[]);dt.enter().append("path").classed(E.cbline,!0),dt.exit().remove(),dt.each(function(Lt){var Ct=Be,Ut=Math.round(bt.c2p(Lt))+q.width/2%1;T.select(this).attr("d","M"+(k?Ct+","+Ut:Ut+","+Ct)+(k?"h":"v")+Ge).call(i.lineGroupStyle,q.width,ye(Lt),q.dash)}),Te.selectAll("g."+bt._id+"tick,path").remove();var it=Be+Ge+(H||0)/2-("outside"===L.ticks?1:0),mt=C.calcTicks(bt),St=C.getTickSigns(bt)[2];return C.drawTicks(B,bt,{vals:"inside"===bt.ticks?C.clipEnds(bt,mt):mt,layer:Te,path:C.makeTickPath(bt,it,St),transFn:C.makeTransTickFn(bt)}),C.drawLabels(B,bt,{vals:mt,layer:Te,transFn:C.makeTransTickLabelFn(bt),labelFns:C.makeLabelFns(bt,it)})},function ft(){if(k&&!Ht||!k&&Ht){var Qt,Rr,At=bt.position||0,zt=bt._offset+bt._length/2;if("right"===de)Rr=zt,Qt=Z.l+rt*At+10+_e*(bt.showticklabels?1:.5);else if(Qt=zt,"bottom"===de&&(Rr=Z.t+$e*At+10+(-1===Ne.indexOf("inside")?bt.tickfont.size:0)+("intside"!==bt.ticks&&L.ticklen||0)),"top"===de){var pt=se.text.split("<br>").length;Rr=Z.t+$e*At+10-Ge-v*_e*pt}Xe((k?"h":"v")+bt._id+"title",{avoid:{selection:T.select(B).selectAll("g."+bt._id+"tick"),side:de,offsetTop:k?0:Z.t,offsetLeft:k?Z.l:0,maxShift:k?Q.width:Q.height},attributes:{x:Qt,y:Rr,"text-anchor":"middle"},transform:{rotate:k?-90:0,offset:0}})}},o.previousPromises,function rr(){var At,zt=Ge+H/2;-1===Ne.indexOf("inside")&&(At=i.bBox(Te.node()),zt+=k?At.width:At.height),fe=ke.select("text");var Qt=0,Rr=k&&"top"===de,pt=!k&&"right"===de,$t=0;if(fe.node()&&!fe.classed(E.jsPlaceholder)){var tr,Er=ke.select(".h"+bt._id+"title-math-group").node();Er&&(k&&Ht||!k&&!Ht)?(Qt=(At=i.bBox(Er)).width,tr=At.height):(Qt=(At=i.bBox(ke.node())).right-Z.l-(k?Be:xt),tr=At.bottom-Z.t-(k?xt:Be),!k&&"top"===de&&(zt+=At.height,$t=At.height)),pt&&(fe.attr("transform",t(Qt/2+_e/2,0)),Qt*=2),zt=Math.max(zt,k?Qt:tr)}var pr=2*(k?J:j)+zt+X+H/2,dt=0;!k&&se.text&&"bottom"===ue&&V<=0&&(pr+=dt=pr/2,$t+=dt),Q._hColorbarMoveTitle=dt,Q._hColorbarMoveCBTitle=$t;var it=X+H,mt=(k?Be:xt)-it/2-(k?J:0),St=(k?xt:Be)-(k?De:j+$t-dt);I.select("."+E.cbbg).attr("x",mt).attr("y",St).attr(k?"width":"height",Math.max(pr-dt,2)).attr(k?"height":"width",Math.max(De+it,2)).call(u.fill,ne).call(u.stroke,L.bordercolor).style("stroke-width",X);var Lt=pt?Math.max(Qt-10,0):0;I.selectAll("."+E.cboutline).attr("x",(k?Be:xt+J)+Lt).attr("y",(k?xt+j-De:Be)+(Rr?pe:0)).attr(k?"width":"height",Math.max(Ge,2)).attr(k?"height":"width",Math.max(De-(k?2*j+pe:2*J+Lt),2)).call(u.stroke,L.outlinecolor).style({fill:"none","stroke-width":H});var Ct=k?ze*pr:0,Ut=k?0:(1-tt)*pr-$t;if(I.attr("transform",t(Ct=ae?Z.l-Ct:-Ct,Ut=K?Z.t-Ut:-Ut)),!k&&(X||D(ne).getAlpha()&&!D.equals(Q.paper_bgcolor,ne))){var Bt=Te.selectAll("text"),qt=Bt[0].length,cr=I.select("."+E.cbbg).node(),lr=i.bBox(cr),br=i.getTranslate(I);Bt.each(function(Mr,wr){var tn=qt-1;if(0===wr||wr===tn){var vn,_r=i.bBox(this),Kr=i.getTranslate(this);wr===tn?(vn=lr.right+br.x+xt-X-2+W-(_r.right+Kr.x))>0&&(vn=0):0===wr&&(vn=lr.left+br.x+xt+X+2-(_r.left+Kr.x))<0&&(vn=0),vn&&(qt<3?this.setAttribute("transform","translate("+vn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ve={},Rt=A[ie],_t=x[ie],Kt=A[ue],sr=x[ue],hr=pr-Ge;k?("pixels"===O?(Ve.y=V,Ve.t=De*Kt,Ve.b=De*sr):(Ve.t=Ve.b=0,Ve.yt=V+z*Kt,Ve.yb=V-z*sr),"pixels"===N?(Ve.x=W,Ve.l=pr*Rt,Ve.r=pr*_t):(Ve.l=hr*Rt,Ve.r=hr*_t,Ve.xl=W-F*Rt,Ve.xr=W+F*_t)):("pixels"===O?(Ve.x=W,Ve.l=De*Rt,Ve.r=De*_t):(Ve.l=Ve.r=0,Ve.xl=W+z*Rt,Ve.xr=W-z*_t),"pixels"===N?(Ve.y=1-V,Ve.t=pr*Kt,Ve.b=pr*sr):(Ve.t=hr*Kt,Ve.b=hr*sr,Ve.yt=V-F*Kt,Ve.yb=V+F*sr));var or=L.y<.5?"b":"t",Nt=L.x<.5?"l":"r";B._fullLayout._reservedMargin[L._id]={};var dr={r:Q.width-mt-Ct,l:mt+Ve.r,b:Q.height-St-Ut,t:St+Ve.b};ae&&K?o.autoMargin(B,L._id,Ve):ae?B._fullLayout._reservedMargin[L._id][or]=dr[or]:K||k?B._fullLayout._reservedMargin[L._id][Nt]=dr[Nt]:B._fullLayout._reservedMargin[L._id][or]=dr[or]}],B)}(z,k,I);O&&O.then&&(I._promises||[]).push(O),I._context.edits.colorbarPosition&&function n(I,L,B){var F,N,H,k="v"===L.orientation,O=B._fullLayout._size;h.init({element:I.node(),gd:B,prepFn:function(){F=I.attr("transform"),l(I)},moveFn:function(X,ne){I.attr("transform",F+t(X,ne)),N=h.align((k?L._uFrac:L._vFrac)+X/O.w,k?L._thickFrac:L._lenFrac,0,1,L.xanchor),H=h.align((k?L._vFrac:1-L._uFrac)-ne/O.h,k?L._lenFrac:L._thickFrac,0,1,L.yanchor);var ie=h.getCursor(N,H,L.xanchor,L.yanchor);l(I,ie)},doneFn:function(){if(l(I),void 0!==N&&void 0!==H){var X={};X[L._propPrefix+"x"]=N,X[L._propPrefix+"y"]=H,void 0!==L._traceIndex?P.call("_guiRestyle",B,X,L._traceIndex):P.call("_guiRelayout",B,X)}}})}(z,k,I)}),B.exit().each(function(k){o.autoMargin(I,k._id)}).remove(),B.order()}}},76228:function(te,Y,e){"use strict";var T=e(71828);te.exports=function(o){return T.isPlainObject(o.colorbar)}},12311:function(te,Y,e){"use strict";te.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(te,Y,e){"use strict";var T=e(63583),D=e(30587).counter,o=e(78607),P=e(63282).scales;function h(y){return"`"+y+"`"}o(P),te.exports=function(t,r){t=t||"";var b,l=(r=r||{}).cLetter||"c",u="noScale"in r?r.noScale:"marker.line"===t,f="showScaleDflt"in r?r.showScaleDflt:"z"===l,c="string"==typeof r.colorscaleDflt?P[r.colorscaleDflt]:null,m=r.editTypeOverride||"",a=t?t+".":"";"colorAttr"in r?b=r.colorAttr:h(a+(b={z:"z",c:"color"}[l]));var v=l+"auto",A=l+"min",x=l+"max",E=l+"mid",S=(h(a+v),h(a+A),h(a+x),{});S[A]=S[x]=void 0;var d={};d[v]=!1;var I={};return"color"===b&&(I.color={valType:"color",arrayOk:!0,editType:m||"style"},r.anim&&(I.color.anim=!0)),I[v]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:S},I[A]={valType:"number",dflt:null,editType:m||"plot",impliedEdits:d},I[x]={valType:"number",dflt:null,editType:m||"plot",impliedEdits:d},I[E]={valType:"number",dflt:null,editType:"calc",impliedEdits:S},I.colorscale={valType:"colorscale",editType:"calc",dflt:c,impliedEdits:{autocolorscale:!1}},I.autocolorscale={valType:"boolean",dflt:!1!==r.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},I.reversescale={valType:"boolean",dflt:!1,editType:"plot"},u||(I.showscale={valType:"boolean",dflt:f,editType:"calc"},I.colorbar=T),r.noColorAxis||(I.coloraxis={valType:"subplotid",regex:D("coloraxis"),dflt:null,editType:"calc"}),I}},78803:function(te,Y,e){"use strict";var T=e(92770),D=e(71828),o=e(52075).extractOpts;te.exports=function(C,h,y){var t=C._fullLayout,r=y.vals,l=y.containerStr,i=l?D.nestedProperty(h,l).get():h,u=o(i),f=!1!==u.auto,c=u.min,m=u.max,a=u.mid,b=function(){return D.aggNums(Math.min,null,r)},p=function(){return D.aggNums(Math.max,null,r)};void 0===c?c=b():f&&(c=i._colorAx&&T(c)?Math.min(c,b()):b()),void 0===m?m=p():f&&(m=i._colorAx&&T(m)?Math.max(m,p()):p()),f&&void 0!==a&&(m-a>a-c?c=a-(m-a):m-a<a-c&&(m=a+(a-c))),c===m&&(c-=.5,m+=.5),u._sync("min",c),u._sync("max",m),u.autocolorscale&&u._sync("colorscale",c*m<0?t.colorscale.diverging:c>=0?t.colorscale.sequential:t.colorscale.sequentialminus)}},33046:function(te,Y,e){"use strict";var T=e(71828),D=e(52075).hasColorscale,o=e(52075).extractOpts;te.exports=function(C,h){function y(c,m){var a=c["_"+m];void 0!==a&&(c[m]=a)}function t(c,m){var a=m.container?T.nestedProperty(c,m.container).get():c;if(a)if(a.coloraxis)a._colorAx=h[a.coloraxis];else{var b=o(a),p=b.auto;(p||void 0===b.min)&&y(a,m.min),(p||void 0===b.max)&&y(a,m.max),b.autocolorscale&&y(a,"colorscale")}}for(var r=0;r<C.length;r++){var l=C[r],i=l._module.colorbar;if(i)if(Array.isArray(i))for(var u=0;u<i.length;u++)t(l,i[u]);else t(l,i);D(l,"marker.line")&&t(l,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in h._colorAxes)t(h[f],{min:"cmin",max:"cmax"})}},1586:function(te,Y,e){"use strict";var T=e(92770),D=e(71828),o=e(76228),P=e(62499),C=e(63282).isValid,h=e(73972).traceIs;function y(t,r){var l=r.slice(0,r.length-1);return r?D.nestedProperty(t,l).get()||{}:t}te.exports=function t(r,l,i,u,f){var c=f.prefix,m=f.cLetter,a="_module"in l,b=y(r,c),p=y(l,c),s=y(l._template||{},c)||{},v=function(){return delete r.coloraxis,delete l.coloraxis,t(r,l,i,u,f)};if(a){var A=i._colorAxes||{},x=u(c+"coloraxis");if(x){var E=h(l,"contour")&&D.nestedProperty(l,"contours.coloring").get()||"heatmap",g=A[x];return void(g?(g[2].push(v),g[0]!==E&&(g[0]=!1,D.warn(["Ignoring coloraxis:",x,"setting","as it is linked to incompatible colorscales."].join(" ")))):A[x]=[E,l,[v]])}}var M=b[m+"min"],w=b[m+"max"],n=T(M)&&T(w)&&M<w;u(c+m+"auto",!n)?u(c+m+"mid"):(u(c+m+"min"),u(c+m+"max"));var L,B,d=b.colorscale,I=s.colorscale;void 0!==d&&(L=!C(d)),void 0!==I&&(L=!C(I)),u(c+"autocolorscale",L),u(c+"colorscale"),u(c+"reversescale"),"marker.line."!==c&&(c&&a&&(B=o(b)),u(c+"showscale",B)&&(c&&s&&(p._template=s),P(b,p,i)))}},52075:function(te,Y,e){"use strict";var T=e(39898),D=e(84267),o=e(92770),P=e(71828),C=e(7901),h=e(63282).isValid,t=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function l(a){var v,A,x,b=a._colorAx,p=b||a,s={};for(A=0;A<t.length;A++)s[x=t[A]]=p[x];if(b)for(v="c",A=0;A<r.length;A++)s[x=r[A]]=p["c"+x];else{var E;for(A=0;A<r.length;A++)((E="c"+(x=r[A]))in p||(E="z"+x)in p)&&(s[x]=p[E]);v=E.charAt(0)}return s._sync=function(g,M){var w=-1!==r.indexOf(g)?v+g:g;p[w]=p["_"+w]=M},s}function i(a){for(var b=l(a),p=b.min,s=b.max,v=b.reversescale?u(b.colorscale):b.colorscale,A=v.length,x=new Array(A),E=new Array(A),g=0;g<A;g++){var M=v[g];x[g]=p+M[0]*(s-p),E[g]=M[1]}return{domain:x,range:E}}function u(a){for(var b=a.length,p=new Array(b),s=b-1,v=0;s>=0;s--,v++){var A=a[s];p[v]=[1-A[0],A[1]]}return p}function f(a,b){b=b||{};for(var p=a.domain,s=a.range,v=s.length,A=new Array(v),x=0;x<v;x++){var E=D(s[x]).toRgb();A[x]=[E.r,E.g,E.b,E.a]}var n,g=T.scale.linear().domain(p).range(A).clamp(!0),M=b.noNumericCheck,w=b.returnArray;return(n=M&&w?g:M?function(S){return m(g(S))}:w?function(S){return o(S)?g(S):D(S).isValid()?S:C.defaultLine}:function(S){return o(S)?m(g(S)):D(S).isValid()?S:C.defaultLine}).domain=g.domain,n.range=function(){return s},n}function m(a){return D({r:a[0],g:a[1],b:a[2],a:a[3]}).toRgbString()}te.exports={hasColorscale:function y(a,b,p){var s=b?P.nestedProperty(a,b).get()||{}:a,v=s[p||"color"],A=!1;if(P.isArrayOrTypedArray(v))for(var x=0;x<v.length;x++)if(o(v[x])){A=!0;break}return P.isPlainObject(s)&&(A||!0===s.showscale||o(s.cmin)&&o(s.cmax)||h(s.colorscale)||P.isPlainObject(s.colorbar))},extractOpts:l,extractScale:i,flipScale:u,makeColorScaleFunc:f,makeColorScaleFuncFromTrace:function c(a,b){return f(i(a),b)}}},21081:function(te,Y,e){"use strict";var T=e(63282),D=e(52075);te.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:T.scales,defaultScale:T.defaultScale,getScale:T.get,isValidScale:T.isValid,hasColorscale:D.hasColorscale,extractOpts:D.extractOpts,extractScale:D.extractScale,flipScale:D.flipScale,makeColorScaleFunc:D.makeColorScaleFunc,makeColorScaleFuncFromTrace:D.makeColorScaleFuncFromTrace}},72673:function(te,Y,e){"use strict";var T=e(1426).extendFlat,D=e(50693),o=e(63282).scales;te.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:T({_isSubplotObj:!0,editType:"calc"},D("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(te,Y,e){"use strict";var T=e(71828),D=e(44467),o=e(72673),P=e(1586);te.exports=function(h,y){function t(a,b){return T.coerce(h,y,o,a,b)}t("colorscale.sequential"),t("colorscale.sequentialminus"),t("colorscale.diverging");var l,i,r=y._colorAxes;function u(a,b){return T.coerce(l,i,o.coloraxis,a,b)}for(var f in r){var c=r[f];if(c[0])l=h[f]||{},(i=D.newContainer(y,f,"coloraxis"))._name=f,P(l,i,y,u,{prefix:"",cLetter:"c"});else{for(var m=0;m<c[2].length;m++)c[2][m]();delete y._colorAxes[f]}}}},63282:function(te,Y,e){"use strict";var T=e(84267),D={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=D.RdBu;function C(y){var t=0;if(!Array.isArray(y)||y.length<2||!y[0]||!y[y.length-1]||0!=+y[0][0]||1!=+y[y.length-1][0])return!1;for(var r=0;r<y.length;r++){var l=y[r];if(2!==l.length||+l[0]<t||!T(l[1]).isValid())return!1;t=+l[0]}return!0}te.exports={scales:D,defaultScale:o,get:function P(y,t){if(t||(t=o),!y)return t;function r(){try{y=D[y]||JSON.parse(y)}catch{y=t}}return"string"==typeof y&&(r(),"string"==typeof y&&r()),C(y)?y:t},isValid:function h(y){return void 0!==D[y]||C(y)}}},92807:function(te){"use strict";te.exports=function(e,T,D,o,P){var C=(e-D)/(o-D),h=C+T/(o-D),y=(C+h)/2;return"left"===P||"bottom"===P?C:"center"===P||"middle"===P?y:"right"===P||"top"===P?h:C<.6666666666666666-y?C:h>1.3333333333333333-y?h:y}},70461:function(te,Y,e){"use strict";var T=e(71828),D=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];te.exports=function(P,C,h,y){return P="left"===h?0:"center"===h?1:"right"===h?2:T.constrain(Math.floor(3*P),0,2),C="bottom"===y?0:"middle"===y?1:"top"===y?2:T.constrain(Math.floor(3*C),0,2),D[C][P]}},64505:function(te,Y){"use strict";Y.selectMode=function(e){return"lasso"===e||"select"===e},Y.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},Y.openMode=function(e){return"drawline"===e||"drawopenpath"===e},Y.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},Y.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},Y.selectingOrDrawing=function(e){return Y.freeMode(e)||Y.rectMode(e)}},28569:function(te,Y,e){"use strict";var T=e(48956),D=e(57035),o=e(38520),P=e(71828).removeElement,C=e(85555),h=te.exports={};h.align=e(92807),h.getCursor=e(70461);var y=e(26041);function t(){var l=document.createElement("div");l.className="dragcover";var i=l.style;return i.position="fixed",i.left=0,i.right=0,i.top=0,i.bottom=0,i.zIndex=999999999,i.background="none",document.body.appendChild(l),l}function r(l){return T(l.changedTouches?l.changedTouches[0]:l,document.body)}h.unhover=y.wrapped,h.unhoverRaw=y.raw,h.init=function(i){var a,b,p,s,v,A,x,E,u=i.gd,f=1,c=u._context.doubleClickDelay,m=i.element;u._mouseDownTime||(u._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=w,o?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=w,m.addEventListener("touchstart",w,{passive:!1})):m.ontouchstart=w;var M=i.clampFn||function g(d,I,L){return Math.abs(d)<L&&(d=0),Math.abs(I)<L&&(I=0),[d,I]};function w(d){u._dragged=!1,u._dragging=!0;var I=r(d);a=I[0],b=I[1],x=d.target,A=d,E=2===d.buttons||d.ctrlKey,typeof d.clientX>"u"&&typeof d.clientY>"u"&&(d.clientX=a,d.clientY=b),(p=(new Date).getTime())-u._mouseDownTime<c?f+=1:(f=1,u._mouseDownTime=p),i.prepFn&&i.prepFn(d,a,b),D&&!E?(v=t()).style.cursor=window.getComputedStyle(m).cursor:D||(v=document,s=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",S),document.addEventListener("touchend",S),!1!==i.dragmode&&(d.preventDefault(),document.addEventListener("mousemove",n),document.addEventListener("touchmove",n,{passive:!1}))}function n(d){d.preventDefault();var I=r(d),B=M(I[0]-a,I[1]-b,i.minDrag||C.MINDRAG),k=B[0],z=B[1];(k||z)&&(u._dragged=!0,h.unhover(u,d)),u._dragged&&i.moveFn&&!E&&(u._dragdata={element:m,dx:k,dy:z},i.moveFn(k,z))}function S(d){if(delete u._dragdata,!1!==i.dragmode&&(d.preventDefault(),document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n)),document.removeEventListener("mouseup",S),document.removeEventListener("touchend",S),D?P(v):s&&(v.documentElement.style.cursor=s,s=null),u._dragging){if(u._dragging=!1,(new Date).getTime()-u._mouseDownTime>c&&(f=Math.max(f-1,1)),u._dragged)i.doneFn&&i.doneFn();else if(i.clickFn&&i.clickFn(f,A),!E){var I;try{I=new MouseEvent("click",d)}catch{var L=r(d);(I=document.createEvent("MouseEvents")).initMouseEvent("click",d.bubbles,d.cancelable,d.view,d.detail,d.screenX,d.screenY,L[0],L[1],d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget)}x.dispatchEvent(I)}u._dragging=!1,u._dragged=!1}else u._dragged=!1}},h.coverSlip=t},26041:function(te,Y,e){"use strict";var T=e(11086),D=e(79990),o=e(24401).getGraphDiv,P=e(26675),C=te.exports={};C.wrapped=function(h,y,t){(h=o(h))._fullLayout&&D.clear(h._fullLayout._uid+P.HOVERID),C.raw(h,y,t)},C.raw=function(y,t){var r=y._fullLayout,l=y._hoverdata;t||(t={}),(!t.target||y._dragged||!1!==T.triggerHandler(y,"plotly_beforehover",t))&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),y._hoverdata=void 0,t.target&&l&&y.emit("plotly_unhover",{event:t,points:l}))}},79952:function(te,Y){"use strict";Y.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},Y.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=D.numberFormat,P=e(92770),C=e(84267),h=e(73972),y=e(7901),t=e(21081),r=D.strTranslate,l=e(63893),i=e(77922),f=e(18783).LINE_SPACING,c=e(37822).DESELECTDIM,m=e(34098),a=e(39984),b=e(23469).appendArrayPointValue,p=te.exports={};function s(Se,xe,Me){var Ge=xe.fillpattern,Ye=Ge&&p.getPatternAttr(Ge.shape,0,"");if(Ye){var De=p.getPatternAttr(Ge.bgcolor,0,null),He=p.getPatternAttr(Ge.fgcolor,0,null),rt=Ge.fgopacity,$e=p.getPatternAttr(Ge.size,0,8),Be=p.getPatternAttr(Ge.solidity,0,.3);p.pattern(Se,"point",Me,xe.uid,Ye,$e,Be,void 0,Ge.fillmode,De,He,rt)}else xe.fillcolor&&Se.call(y.fill,xe.fillcolor)}p.font=function(Se,xe,Me,Ge){D.isPlainObject(xe)&&(Ge=xe.color,Me=xe.size,xe=xe.family),xe&&Se.style("font-family",xe),Me+1&&Se.style("font-size",Me+"px"),Ge&&Se.call(y.fill,Ge)},p.setPosition=function(Se,xe,Me){Se.attr("x",xe).attr("y",Me)},p.setSize=function(Se,xe,Me){Se.attr("width",xe).attr("height",Me)},p.setRect=function(Se,xe,Me,Ge,Ye){Se.call(p.setPosition,xe,Me).call(p.setSize,Ge,Ye)},p.translatePoint=function(Se,xe,Me,Ge){var Ye=Me.c2p(Se.x),De=Ge.c2p(Se.y);return!!(P(Ye)&&P(De)&&xe.node())&&("text"===xe.node().nodeName?xe.attr("x",Ye).attr("y",De):xe.attr("transform",r(Ye,De)),!0)},p.translatePoints=function(Se,xe,Me){Se.each(function(Ge){var Ye=T.select(this);p.translatePoint(Ge,Ye,xe,Me)})},p.hideOutsideRangePoint=function(Se,xe,Me,Ge,Ye,De){xe.attr("display",Me.isPtWithinRange(Se,Ye)&&Ge.isPtWithinRange(Se,De)?null:"none")},p.hideOutsideRangePoints=function(Se,xe){if(xe._hasClipOnAxisFalse){var Me=xe.xaxis,Ge=xe.yaxis;Se.each(function(Ye){var De=Ye[0].trace,He=De.xcalendar,rt=De.ycalendar,$e=h.traceIs(De,"bar-like")?".bartext":".point,.textpoint";Se.selectAll($e).each(function(Be){p.hideOutsideRangePoint(Be,T.select(this),Me,Ge,He,rt)})})}},p.crispRound=function(Se,xe,Me){return xe&&P(xe)?Se._context.staticPlot?xe:xe<1?1:Math.round(xe):Me||0},p.singleLineStyle=function(Se,xe,Me,Ge,Ye){xe.style("fill","none");var De=(((Se||[])[0]||{}).trace||{}).line||{},He=Me||De.width||0,rt=Ye||De.dash||"";y.stroke(xe,Ge||De.color),p.dashLine(xe,rt,He)},p.lineGroupStyle=function(Se,xe,Me,Ge){Se.style("fill","none").each(function(Ye){var De=(((Ye||[])[0]||{}).trace||{}).line||{},He=xe||De.width||0,rt=Ge||De.dash||"";T.select(this).call(y.stroke,Me||De.color).call(p.dashLine,rt,He)})},p.dashLine=function(Se,xe,Me){xe=p.dashStyle(xe,Me=+Me||0),Se.style({"stroke-dasharray":xe,"stroke-width":Me+"px"})},p.dashStyle=function(Se,xe){xe=+xe||1;var Me=Math.max(xe,3);return"solid"===Se?Se="":"dot"===Se?Se=Me+"px,"+Me+"px":"dash"===Se?Se=3*Me+"px,"+3*Me+"px":"longdash"===Se?Se=5*Me+"px,"+5*Me+"px":"dashdot"===Se?Se=3*Me+"px,"+Me+"px,"+Me+"px,"+Me+"px":"longdashdot"===Se&&(Se=5*Me+"px,"+2*Me+"px,"+Me+"px,"+2*Me+"px"),Se},p.singleFillStyle=function(Se,xe){var Me=T.select(Se.node());s(Se,((Me.data()[0]||[])[0]||{}).trace||{},xe)},p.fillGroupStyle=function(Se,xe){Se.style("stroke-width",0).each(function(Me){var Ge=T.select(this);Me[0].trace&&s(Ge,Me[0].trace,xe)})};var v=e(90998);p.symbolNames=[],p.symbolFuncs=[],p.symbolBackOffs=[],p.symbolNeedLines={},p.symbolNoDot={},p.symbolNoFill={},p.symbolList=[],Object.keys(v).forEach(function(Se){var xe=v[Se],Me=xe.n;p.symbolList.push(Me,String(Me),Se,Me+100,String(Me+100),Se+"-open"),p.symbolNames[Me]=Se,p.symbolFuncs[Me]=xe.f,p.symbolBackOffs[Me]=xe.backoff||0,xe.needLine&&(p.symbolNeedLines[Me]=!0),xe.noDot?p.symbolNoDot[Me]=!0:p.symbolList.push(Me+200,String(Me+200),Se+"-dot",Me+300,String(Me+300),Se+"-open-dot"),xe.noFill&&(p.symbolNoFill[Me]=!0)});var A=p.symbolNames.length;function E(Se,xe,Me,Ge){return p.symbolFuncs[Se%100](xe,Me,Ge)+(Se>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}p.symbolNumber=function(Se){if(P(Se))Se=+Se;else if("string"==typeof Se){var xe=0;Se.indexOf("-open")>0&&(xe=100,Se=Se.replace("-open","")),Se.indexOf("-dot")>0&&(xe+=200,Se=Se.replace("-dot","")),(Se=p.symbolNames.indexOf(Se))>=0&&(Se+=xe)}return Se%100>=A||Se>=400?0:Math.floor(Math.max(Se,0))};var g={x1:1,x2:0,y1:0,y2:0},M={x1:0,x2:0,y1:1,y2:0},w=o("~f"),n={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:g},horizontalreversed:{node:"linearGradient",attrs:g,reversed:!0},vertical:{node:"linearGradient",attrs:M},verticalreversed:{node:"linearGradient",attrs:M,reversed:!0}};p.gradient=function(Se,xe,Me,Ge,Ye,De){for(var He=Ye.length,rt=n[Ge],$e=new Array(He),Be=0;Be<He;Be++)rt.reversed?$e[He-1-Be]=[w(100*(1-Ye[Be][0])),Ye[Be][1]]:$e[Be]=[w(100*Ye[Be][0]),Ye[Be][1]];var ze=xe._fullLayout,tt="g"+ze._uid+"-"+Me,lt=ze._defs.select(".gradients").selectAll("#"+tt).data([Ge+$e.join(";")],D.identity);lt.exit().remove(),lt.enter().append(rt.node).each(function(){var ut=T.select(this);rt.attrs&&ut.attr(rt.attrs),ut.attr("id",tt);var xt=ut.selectAll("stop").data($e);xt.exit().remove(),xt.enter().append("stop"),xt.each(function(bt){var Ht=C(bt[1]);T.select(this).attr({offset:bt[0]+"%","stop-color":y.tinyRGB(Ht),"stop-opacity":Ht.getAlpha()})})}),Se.style(De,j(tt,xe)).style(De+"-opacity",null),Se.classed("gradient_filled",!0)},p.pattern=function(Se,xe,Me,Ge,Ye,De,He,rt,$e,Be,ze,tt){var lt="legend"===xe;rt&&("overlay"===$e?ze=y.contrast(Be=rt):(Be=void 0,ze=rt));var bt,Ht,Ce,Ee,Re,ke,at,ft,rr,ut=Me._fullLayout,xt="p"+ut._uid+"-"+Ge,Ne={},_e=C(ze),Te=y.tinyRGB(_e),pe=tt*_e.getAlpha();switch(Ye){case"/":bt=De*Math.sqrt(2),Ht=De*Math.sqrt(2),ke="path",Ne={d:Ce="M-"+bt/4+","+Ht/4+"l"+bt/2+",-"+Ht/2+"M0,"+Ht+"L"+bt+",0M"+bt/4*3+","+Ht/4*5+"l"+bt/2+",-"+Ht/2,opacity:pe,stroke:Te,"stroke-width":(Ee=He*De)+"px"};break;case"\\":bt=De*Math.sqrt(2),Ht=De*Math.sqrt(2),ke="path",Ne={d:Ce="M"+bt/4*3+",-"+Ht/4+"l"+bt/2+","+Ht/2+"M0,0L"+bt+","+Ht+"M-"+bt/4+","+Ht/4*3+"l"+bt/2+","+Ht/2,opacity:pe,stroke:Te,"stroke-width":(Ee=He*De)+"px"};break;case"x":bt=De*Math.sqrt(2),Ht=De*Math.sqrt(2),Ce="M-"+bt/4+","+Ht/4+"l"+bt/2+",-"+Ht/2+"M0,"+Ht+"L"+bt+",0M"+bt/4*3+","+Ht/4*5+"l"+bt/2+",-"+Ht/2+"M"+bt/4*3+",-"+Ht/4+"l"+bt/2+","+Ht/2+"M0,0L"+bt+","+Ht+"M-"+bt/4+","+Ht/4*3+"l"+bt/2+","+Ht/2,Ee=De-De*Math.sqrt(1-He),ke="path",Ne={d:Ce,opacity:pe,stroke:Te,"stroke-width":Ee+"px"};break;case"|":ke="path",ke="path",Ne={d:Ce="M"+(bt=De)/2+",0L"+bt/2+","+(Ht=De),opacity:pe,stroke:Te,"stroke-width":(Ee=He*De)+"px"};break;case"-":ke="path",ke="path",Ne={d:Ce="M0,"+(Ht=De)/2+"L"+(bt=De)+","+Ht/2,opacity:pe,stroke:Te,"stroke-width":(Ee=He*De)+"px"};break;case"+":ke="path",Ce="M"+(bt=De)/2+",0L"+bt/2+","+(Ht=De)+"M0,"+Ht/2+"L"+bt+","+Ht/2,Ee=De-De*Math.sqrt(1-He),ke="path",Ne={d:Ce,opacity:pe,stroke:Te,"stroke-width":Ee+"px"};break;case".":bt=De,Ht=De,He<Math.PI/4?Re=Math.sqrt(He*De*De/Math.PI):(at=He,ft=Math.PI/4,1,Re=(rr=De/2)+(De/Math.sqrt(2)-rr)*(at-ft)/(1-ft)),ke="circle",Ne={cx:bt/2,cy:Ht/2,r:Re,opacity:pe,fill:Te}}var Fe=[Ye||"noSh",Be||"noBg",ze||"noFg",De,He].join(";"),Xe=ut._defs.select(".patterns").selectAll("#"+xt).data([Fe],D.identity);Xe.exit().remove(),Xe.enter().append("pattern").each(function(){var at=T.select(this);if(at.attr({id:xt,width:bt+"px",height:Ht+"px",patternUnits:"userSpaceOnUse",patternTransform:lt?"scale(0.8)":""}),Be){var ft=C(Be),Xt=y.tinyRGB(ft),rr=ft.getAlpha(),At=at.selectAll("rect").data([0]);At.exit().remove(),At.enter().append("rect").attr({width:bt+"px",height:Ht+"px",fill:Xt,"fill-opacity":rr})}var zt=at.selectAll(ke).data([0]);zt.exit().remove(),zt.enter().append(ke).attr(Ne)}),Se.style("fill",j(xt,Me)).style("fill-opacity",null),Se.classed("pattern_filled",!0)},p.initGradients=function(Se){D.ensureSingle(Se._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),T.select(Se).selectAll(".gradient_filled").classed("gradient_filled",!1)},p.initPatterns=function(Se){D.ensureSingle(Se._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),T.select(Se).selectAll(".pattern_filled").classed("pattern_filled",!1)},p.getPatternAttr=function(Se,xe,Me){return Se&&D.isArrayOrTypedArray(Se)?xe<Se.length?Se[xe]:Me:Se},p.pointStyle=function(Se,xe,Me,Ge){if(Se.size()){var Ye=p.makePointStyleFns(xe);Se.each(function(De){p.singlePointStyle(De,T.select(this),xe,Ye,Me,Ge)})}},p.singlePointStyle=function(Se,xe,Me,Ge,Ye,De){var He=Me.marker,rt=He.line;if(De&&De.i>=0&&void 0===Se.i&&(Se.i=De.i),xe.style("opacity",Ge.selectedOpacityFn?Ge.selectedOpacityFn(Se):void 0===Se.mo?He.opacity:Se.mo),Ge.ms2mrc){var $e;$e="various"===Se.ms||"various"===He.size?3:Ge.ms2mrc(Se.ms),Se.mrc=$e,Ge.selectedSizeFn&&($e=Se.mrc=Ge.selectedSizeFn(Se));var Be=p.symbolNumber(Se.mx||He.symbol)||0;Se.om=Be%200>=100;var ze=Ie(Se,Me),tt=K(Se,Me);xe.attr("d",E(Be,$e,ze,tt))}var ut,xt,bt,lt=!1;if(Se.so?(bt=rt.outlierwidth,xt=rt.outliercolor,ut=He.outliercolor):(bt=(Se.mlw+1||(rt||{}).width+1||(Se.trace?(Se.trace.marker.line||{}).width:0)+1)-1||0,xt="mlc"in Se?Se.mlcc=Ge.lineScale(Se.mlc):D.isArrayOrTypedArray(rt.color)?y.defaultLine:rt.color,D.isArrayOrTypedArray(He.color)&&(ut=y.defaultLine,lt=!0),ut="mc"in Se?Se.mcc=Ge.markerScale(Se.mc):He.color||He.colors||"rgba(0,0,0,0)",Ge.selectedColorFn&&(ut=Ge.selectedColorFn(Se))),Se.om)xe.call(y.stroke,ut).style({"stroke-width":(bt||1)+"px",fill:"none"});else{xe.style("stroke-width",(Se.isBlank?0:bt)+"px");var Je=He.gradient,Ce=Se.mgt;Ce?lt=!0:Ce=Je&&Je.type,D.isArrayOrTypedArray(Ce)&&(n[Ce=Ce[0]]||(Ce=0));var Ee=He.pattern,Re=Ee&&p.getPatternAttr(Ee.shape,Se.i,"");if(Ce&&"none"!==Ce){var ke=Se.mgc;ke?lt=!0:ke=Je.color;var Ne=Me.uid;lt&&(Ne+="-"+Se.i),p.gradient(xe,Ye,Ne,Ce,[[0,ke],[1,ut]],"fill")}else if(Re){var _e=!1,Te=Ee.fgcolor;!Te&&De&&De.color&&(Te=De.color,_e=!0);var fe=p.getPatternAttr(Te,Se.i,De&&De.color||null),pe=p.getPatternAttr(Ee.bgcolor,Se.i,null),Fe=Ee.fgopacity,Xe=p.getPatternAttr(Ee.size,Se.i,8),at=p.getPatternAttr(Ee.solidity,Se.i,.3);_e=_e||Se.mcc||D.isArrayOrTypedArray(Ee.shape)||D.isArrayOrTypedArray(Ee.bgcolor)||D.isArrayOrTypedArray(Ee.fgcolor)||D.isArrayOrTypedArray(Ee.size)||D.isArrayOrTypedArray(Ee.solidity);var ft=Me.uid;_e&&(ft+="-"+Se.i),p.pattern(xe,"point",Ye,ft,Re,Xe,at,Se.mcc,Ee.fillmode,pe,fe,Fe)}else D.isArrayOrTypedArray(ut)?y.fill(xe,ut[Se.i]):y.fill(xe,ut);bt&&y.stroke(xe,xt)}},p.makePointStyleFns=function(Se){var xe={},Me=Se.marker;return xe.markerScale=p.tryColorscale(Me,""),xe.lineScale=p.tryColorscale(Me,"line"),h.traceIs(Se,"symbols")&&(xe.ms2mrc=m.isBubble(Se)?a(Se):function(){return(Me.size||6)/2}),Se.selectedpoints&&D.extendFlat(xe,p.makeSelectedPointStyleFns(Se)),xe},p.makeSelectedPointStyleFns=function(Se){var xe={},Ye=Se.marker||{},De=(Se.selected||{}).marker||{},He=(Se.unselected||{}).marker||{},$e=De.opacity,Be=He.opacity,ze=void 0!==$e,tt=void 0!==Be;(D.isArrayOrTypedArray(Ye.opacity)||ze||tt)&&(xe.selectedOpacityFn=function(Re){var ke=void 0===Re.mo?Ye.opacity:Re.mo;return Re.selected?ze?$e:ke:tt?Be:c*ke});var lt=Ye.color,ut=De.color,xt=He.color;(ut||xt)&&(xe.selectedColorFn=function(Re){var ke=Re.mcc||lt;return Re.selected?ut||ke:xt||ke});var bt=Ye.size,Ht=De.size,Je=He.size,Ce=void 0!==Ht,Ee=void 0!==Je;return h.traceIs(Se,"symbols")&&(Ce||Ee)&&(xe.selectedSizeFn=function(Re){var ke=Re.mrc||bt/2;return Re.selected?Ce?Ht/2:ke:Ee?Je/2:ke}),xe},p.makeSelectedTextStyleFns=function(Se){var xe={},rt=(Se.textfont||{}).color,$e=((Se.selected||{}).textfont||{}).color,Be=((Se.unselected||{}).textfont||{}).color;return xe.selectedTextColorFn=function(ze){var tt=ze.tc||rt;return ze.selected?$e||tt:Be||($e?tt:y.addOpacity(tt,c))},xe},p.selectedPointStyle=function(Se,xe){if(Se.size()&&xe.selectedpoints){var Me=p.makeSelectedPointStyleFns(xe),Ge=xe.marker||{},Ye=[];Me.selectedOpacityFn&&Ye.push(function(De,He){De.style("opacity",Me.selectedOpacityFn(He))}),Me.selectedColorFn&&Ye.push(function(De,He){y.fill(De,Me.selectedColorFn(He))}),Me.selectedSizeFn&&Ye.push(function(De,He){var rt=He.mx||Ge.symbol||0,$e=Me.selectedSizeFn(He);De.attr("d",E(p.symbolNumber(rt),$e,Ie(He,xe),K(He,xe))),He.mrc2=$e}),Ye.length&&Se.each(function(De){for(var He=T.select(this),rt=0;rt<Ye.length;rt++)Ye[rt](He,De)})}},p.tryColorscale=function(Se,xe){var Me=xe?D.nestedProperty(Se,xe).get():Se;return Me&&(Me.colorscale||Me._colorAx)&&D.isArrayOrTypedArray(Me.color)?t.makeColorScaleFuncFromTrace(Me):D.identity};var B,k,S={start:1,end:-1,middle:0,bottom:1,top:-1};function d(Se,xe,Me,Ge,Ye){var De=T.select(Se.node().parentNode),He=-1!==xe.indexOf("top")?"top":-1!==xe.indexOf("bottom")?"bottom":"middle",rt=-1!==xe.indexOf("left")?"end":-1!==xe.indexOf("right")?"start":"middle",$e=Ge?Ge/.8+1:0,Be=(l.lineCount(Se)-1)*f+1,ze=S[rt]*$e,tt=.75*Me+S[He]*$e+(S[He]-1)*Be*Me/2;Se.attr("text-anchor",rt),Ye||De.attr("transform",r(ze,tt))}function I(Se,xe){var Me=Se.ts||xe.textfont.size;return P(Me)&&Me>0?Me:0}function z(Se,xe,Me){return Me&&(Se=ne(Se)),xe?F(Se[1]):O(Se[0])}function O(Se){var xe=T.round(Se,2);return B=xe,xe}function F(Se){var xe=T.round(Se,2);return k=xe,xe}function N(Se,xe,Me,Ge){var Ye=Se[0]-xe[0],De=Se[1]-xe[1],He=Me[0]-xe[0],rt=Me[1]-xe[1],$e=Math.pow(Ye*Ye+De*De,.25),Be=Math.pow(He*He+rt*rt,.25),ze=(Be*Be*Ye-$e*$e*He)*Ge,tt=(Be*Be*De-$e*$e*rt)*Ge,lt=3*Be*($e+Be),ut=3*$e*($e+Be);return[[O(xe[0]+(lt&&ze/lt)),F(xe[1]+(lt&&tt/lt))],[O(xe[0]-(ut&&ze/ut)),F(xe[1]-(ut&&tt/ut))]]}p.textPointStyle=function(Se,xe,Me){if(Se.size()){var Ge;if(xe.selectedpoints){var Ye=p.makeSelectedTextStyleFns(xe);Ge=Ye.selectedTextColorFn}var De=xe.texttemplate,He=Me._fullLayout;Se.each(function(rt){var $e=T.select(this),Be=De?D.extractOption(rt,xe,"txt","texttemplate"):D.extractOption(rt,xe,"tx","text");if(Be||0===Be){if(De){var ze=xe._module.formatLabels,tt=ze?ze(rt,xe,He):{},lt={};b(lt,xe,rt.i),Be=D.texttemplateString(Be,tt,He._d3locale,lt,rt,xe._meta||{})}var xt=rt.tp||xe.textposition,bt=I(rt,xe),Ht=Ge?Ge(rt):rt.tc||xe.textfont.color;$e.call(p.font,rt.tf||xe.textfont.family,bt,Ht).text(Be).call(l.convertToTspans,Me).call(d,xt,bt,rt.mrc)}else $e.remove()})}},p.selectedTextStyle=function(Se,xe){if(Se.size()&&xe.selectedpoints){var Me=p.makeSelectedTextStyleFns(xe);Se.each(function(Ge){var Ye=T.select(this),De=Me.selectedTextColorFn(Ge),He=Ge.tp||xe.textposition,rt=I(Ge,xe);y.fill(Ye,De);var $e=h.traceIs(xe,"bar-like");d(Ye,He,rt,Ge.mrc2||Ge.mrc,$e)})}},p.smoothopen=function(Se,xe){if(Se.length<3)return"M"+Se.join("L");var Ye,Me="M"+Se[0],Ge=[];for(Ye=1;Ye<Se.length-1;Ye++)Ge.push(N(Se[Ye-1],Se[Ye],Se[Ye+1],xe));for(Me+="Q"+Ge[0][0]+" "+Se[1],Ye=2;Ye<Se.length-1;Ye++)Me+="C"+Ge[Ye-2][1]+" "+Ge[Ye-1][0]+" "+Se[Ye];return Me+"Q"+Ge[Se.length-3][1]+" "+Se[Se.length-1]},p.smoothclosed=function(Se,xe){if(Se.length<3)return"M"+Se.join("L")+"Z";var De,Me="M"+Se[0],Ge=Se.length-1,Ye=[N(Se[Ge],Se[0],Se[1],xe)];for(De=1;De<Ge;De++)Ye.push(N(Se[De-1],Se[De],Se[De+1],xe));for(Ye.push(N(Se[Ge-1],Se[Ge],Se[0],xe)),De=1;De<=Ge;De++)Me+="C"+Ye[De-1][1]+" "+Ye[De][0]+" "+Se[De];return Me+"C"+Ye[Ge][1]+" "+Ye[0][0]+" "+Se[0]+"Z"};var H={hv:function(Se,xe,Me){return"H"+O(xe[0])+"V"+z(xe,1,Me)},vh:function(Se,xe,Me){return"V"+F(xe[1])+"H"+z(xe,0,Me)},hvh:function(Se,xe,Me){return"H"+O((Se[0]+xe[0])/2)+"V"+F(xe[1])+"H"+z(xe,0,Me)},vhv:function(Se,xe,Me){return"V"+F((Se[1]+xe[1])/2)+"H"+O(xe[0])+"V"+z(xe,1,Me)}},X=function(Se,xe,Me){return"L"+z(xe,0,Me)+","+z(xe,1,Me)};function ne(Se,xe){var Me=Se.backoff,Ge=Se.trace,Ye=Se.d,De=Se.i;if(Me&&Ge&&Ge.marker&&Ge.marker.angle%360==0&&Ge.line&&"spline"!==Ge.line.shape){var He=D.isArrayOrTypedArray(Me),rt=Se,$e=xe?xe[0]:B||0,Be=xe?xe[1]:k||0,ze=rt[0],tt=rt[1],xt=Math.atan2(tt-Be,ze-$e),bt=He?Me[De]:Me;if("auto"===bt){var Ht=rt.i;"scatter"===Ge.type&&Ht--;var Je=rt.marker,Ce=Je.symbol;D.isArrayOrTypedArray(Ce)&&(Ce=Ce[Ht]);var Ee=Je.size;D.isArrayOrTypedArray(Ee)&&(Ee=Ee[Ht]),bt=Je?p.symbolBackOffs[p.symbolNumber(Ce)]*Ee:0,bt+=p.getMarkerStandoff(Ye[Ht],Ge)||0}var Re=ze-bt*Math.cos(xt),ke=tt-bt*Math.sin(xt);(Re<=ze&&Re>=$e||Re>=ze&&Re<=$e)&&(ke<=tt&&ke>=Be||ke>=tt&&ke<=Be)&&(Se=[Re,ke])}return Se}p.steps=function(Se){var xe=H[Se]||X;return function(Me){for(var Ge="M"+O(Me[0][0])+","+F(Me[0][1]),Ye=Me.length,De=1;De<Ye;De++)Ge+=xe(Me[De-1],Me[De],De===Ye-1);return Ge}},p.applyBackoff=ne,p.makeTester=function(){var Se=D.ensureSingleById(T.select("body"),"svg","js-plotly-tester",function(Me){Me.attr(i.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),xe=D.ensureSingle(Se,"path","js-reference-point",function(Me){Me.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});p.tester=Se,p.testref=xe},p.savedBBoxes={};var ie=0;function J(Se){var xe=Se.getAttribute("data-unformatted");if(null!==xe)return xe+Se.getAttribute("data-math")+Se.getAttribute("text-anchor")+Se.getAttribute("style")}function j(Se,xe){if(!Se)return null;var Me=xe._context,Ge=Me._exportedPlot?"":Me._baseUrl||"";return Ge?"url('"+Ge+"#"+Se+"')":"url(#"+Se+")"}p.bBox=function(Se,xe,Me){var Ge,Be,ze;if(Me||(Me=J(Se)),Me){if(Ge=p.savedBBoxes[Me])return D.extendFlat({},Ge)}else if(1===Se.childNodes.length){var Ye=Se.childNodes[0];if(Me=J(Ye)){var De=+Ye.getAttribute("x")||0,He=+Ye.getAttribute("y")||0,rt=Ye.getAttribute("transform");if(!rt){var $e=p.bBox(Ye,!1,Me);return De&&($e.left+=De,$e.right+=De),He&&($e.top+=He,$e.bottom+=He),$e}if(Ge=p.savedBBoxes[Me+="~"+De+"~"+He+"~"+rt])return D.extendFlat({},Ge)}}xe?Be=Se:(ze=p.tester.node(),Be=Se.cloneNode(!0),ze.appendChild(Be)),T.select(Be).attr("transform",null).call(l.positionText,0,0);var tt=Be.getBoundingClientRect(),lt=p.testref.node().getBoundingClientRect();xe||ze.removeChild(Be);var ut={height:tt.height,width:tt.width,left:tt.left-lt.left,top:tt.top-lt.top,right:tt.right-lt.left,bottom:tt.bottom-lt.top};return ie>=1e4&&(p.savedBBoxes={},ie=0),Me&&(p.savedBBoxes[Me]=ut),ie++,D.extendFlat({},ut)},p.setClipUrl=function(Se,xe,Me){Se.attr("clip-path",j(xe,Me))},p.getTranslate=function(Se){var Ye=(Se[Se.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(De,He,rt){return[He,rt].join(" ")}).split(" ");return{x:+Ye[0]||0,y:+Ye[1]||0}},p.setTranslate=function(Se,xe,Me){var De=Se.attr?"attr":"setAttribute",He=Se[Se.attr?"attr":"getAttribute"]("transform")||"";return xe=xe||0,Me=Me||0,He=He.replace(/(\btranslate\(.*?\);?)/,"").trim(),He=(He+=r(xe,Me)).trim(),Se[De]("transform",He),He},p.getScale=function(Se){var Ye=(Se[Se.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(De,He,rt){return[He,rt].join(" ")}).split(" ");return{x:+Ye[0]||1,y:+Ye[1]||1}},p.setScale=function(Se,xe,Me){var De=Se.attr?"attr":"setAttribute",He=Se[Se.attr?"attr":"getAttribute"]("transform")||"";return xe=xe||1,Me=Me||1,He=He.replace(/(\bscale\(.*?\);?)/,"").trim(),He=(He+="scale("+xe+","+Me+")").trim(),Se[De]("transform",He),He};var W=/\s*sc.*/;p.setPointGroupScale=function(Se,xe,Me){if(xe=xe||1,Me=Me||1,Se){var Ge=1===xe&&1===Me?"":"scale("+xe+","+Me+")";Se.each(function(){var Ye=(this.getAttribute("transform")||"").replace(W,"");Ye=(Ye+=Ge).trim(),this.setAttribute("transform",Ye)})}};var V=/translate\([^)]*\)\s*$/;function K(Se,xe){var Me;return Se&&(Me=Se.mf),void 0===Me&&(Me=xe.marker&&xe.marker.standoff||0),xe._geo||xe._xA?Me:-Me}p.setTextPointsScale=function(Se,xe,Me){Se&&Se.each(function(){var Ge,Ye=T.select(this),De=Ye.select("text");if(De.node()){var He=parseFloat(De.attr("x")||0),rt=parseFloat(De.attr("y")||0),$e=(Ye.attr("transform")||"").match(V);Ge=1===xe&&1===Me?[]:[r(He,rt),"scale("+xe+","+Me+")",r(-He,-rt)],$e&&Ge.push($e),Ye.attr("transform",Ge.join(""))}})},p.getMarkerStandoff=K;var q,se,de,we,ye,Pe,ae=Math.atan2,Q=Math.cos,Z=Math.sin;function re(Se,xe){var Me=xe[0],Ge=xe[1];return[Me*Q(Se)-Ge*Z(Se),Me*Z(Se)+Ge*Q(Se)]}function Ie(Se,xe){var Me=Se.ma;void 0===Me&&(Me=xe.marker.angle||0);var Ge,Ye,De=xe.marker.angleref;if("previous"===De||"north"===De){if(xe._geo){var He=xe._geo.project(Se.lonlat);Ge=He[0],Ye=He[1]}else{var rt=xe._xA,$e=xe._yA;if(!rt||!$e)return 90;Ge=rt.c2p(Se.x),Ye=$e.c2p(Se.y)}if(xe._geo){var bt,Be=Se.lonlat[0],ze=Se.lonlat[1],tt=xe._geo.project([Be,ze+1e-5]),lt=xe._geo.project([Be+1e-5,ze]),ut=ae(lt[1]-Ye,lt[0]-Ge),xt=ae(tt[1]-Ye,tt[0]-Ge);if("north"===De)bt=Me/180*Math.PI;else if("previous"===De){var Ht=Be/180*Math.PI,Je=ze/180*Math.PI,Ce=q/180*Math.PI,Ee=se/180*Math.PI,Re=Ce-Ht,ke=Q(Ee)*Z(Re),Ne=Z(Ee)*Q(Je)-Q(Ee)*Z(Je)*Q(Re);bt=-ae(ke,Ne)-Math.PI,q=Be,se=ze}var _e=re(ut,[Q(bt),0]),Te=re(xt,[Z(bt),0]);Me=ae(_e[1]+Te[1],_e[0]+Te[0])/Math.PI*180,"previous"===De&&(Pe!==xe.uid||Se.i!==ye+1)&&(Me=null)}if("previous"===De&&!xe._geo)if(Pe===xe.uid&&Se.i===ye+1&&P(Ge)&&P(Ye)){var fe=Ge-de,pe=Ye-we,Fe=xe.line&&xe.line.shape||"",Xe=Fe.slice(Fe.length-1);"h"===Xe&&(pe=0),"v"===Xe&&(fe=0),Me+=ae(pe,fe)/Math.PI*180+90}else Me=null}return de=Ge,we=Ye,ye=Se.i,Pe=xe.uid,Me}p.getMarkerAngle=Ie},90998:function(te,Y,e){"use strict";var l,i,u,f,T=e(95616),D=e(39898).round,o="M0,0Z",P=Math.sqrt(2),C=Math.sqrt(3),h=Math.PI,y=Math.cos,t=Math.sin;function r(m){return null===m}function c(m,a,b){if(!(m&&m%360!=0||a))return b;if(u===m&&f===a&&l===b)return i;function p(L,B){var k=y(L),z=t(L),O=B[0],F=B[1]+(a||0);return[O*k-F*z,O*z+F*k]}u=m,f=a,l=b;for(var s=m/180*h,v=0,A=0,x=T(b),E="",g=0;g<x.length;g++){var M=x[g],w=M[0],n=v,S=A;if("M"===w||"L"===w)v=+M[1],A=+M[2];else if("m"===w||"l"===w)v+=+M[1],A+=+M[2];else if("H"===w)v=+M[1];else if("h"===w)v+=+M[1];else if("V"===w)A=+M[1];else if("v"===w)A+=+M[1];else if("A"===w){v=+M[1],A=+M[2];var d=p(s,[+M[6],+M[7]]);M[6]=d[0],M[7]=d[1],M[3]=+M[3]+m}("H"===w||"V"===w)&&(w="L"),("h"===w||"v"===w)&&(w="l"),("m"===w||"l"===w)&&(v-=n,A-=S);var I=p(s,[v,A]);("H"===w||"V"===w)&&(w="L"),("M"===w||"L"===w||"m"===w||"l"===w)&&(M[1]=I[0],M[2]=I[1]),M[0]=w,E+=M[0]+M.slice(1).join(",")}return i=E,E}te.exports={circle:{n:0,f:function(m,a,b){if(r(a))return o;var p=D(m,2),s="M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z";return b?c(a,b,s):s}},square:{n:1,f:function(m,a,b){if(r(a))return o;var p=D(m,2);return c(a,b,"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z")}},diamond:{n:2,f:function(m,a,b){if(r(a))return o;var p=D(1.3*m,2);return c(a,b,"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"Z")}},cross:{n:3,f:function(m,a,b){if(r(a))return o;var p=D(.4*m,2),s=D(1.2*m,2);return c(a,b,"M"+s+","+p+"H"+p+"V"+s+"H-"+p+"V"+p+"H-"+s+"V-"+p+"H-"+p+"V-"+s+"H"+p+"V-"+p+"H"+s+"Z")}},x:{n:4,f:function(m,a,b){if(r(a))return o;var p=D(.8*m/P,2),s="l"+p+","+p,v="l"+p+",-"+p,A="l-"+p+",-"+p,x="l-"+p+","+p;return c(a,b,"M0,"+p+s+v+A+v+A+x+A+x+s+x+s+"Z")}},"triangle-up":{n:5,f:function(m,a,b){if(r(a))return o;var p=D(2*m/C,2);return c(a,b,"M-"+p+","+D(m/2,2)+"H"+p+"L0,-"+D(m,2)+"Z")}},"triangle-down":{n:6,f:function(m,a,b){if(r(a))return o;var p=D(2*m/C,2);return c(a,b,"M-"+p+",-"+D(m/2,2)+"H"+p+"L0,"+D(m,2)+"Z")}},"triangle-left":{n:7,f:function(m,a,b){if(r(a))return o;var p=D(2*m/C,2);return c(a,b,"M"+D(m/2,2)+",-"+p+"V"+p+"L-"+D(m,2)+",0Z")}},"triangle-right":{n:8,f:function(m,a,b){if(r(a))return o;var p=D(2*m/C,2);return c(a,b,"M-"+D(m/2,2)+",-"+p+"V"+p+"L"+D(m,2)+",0Z")}},"triangle-ne":{n:9,f:function(m,a,b){if(r(a))return o;var p=D(.6*m,2),s=D(1.2*m,2);return c(a,b,"M-"+s+",-"+p+"H"+p+"V"+s+"Z")}},"triangle-se":{n:10,f:function(m,a,b){if(r(a))return o;var p=D(.6*m,2),s=D(1.2*m,2);return c(a,b,"M"+p+",-"+s+"V"+p+"H-"+s+"Z")}},"triangle-sw":{n:11,f:function(m,a,b){if(r(a))return o;var p=D(.6*m,2),s=D(1.2*m,2);return c(a,b,"M"+s+","+p+"H-"+p+"V-"+s+"Z")}},"triangle-nw":{n:12,f:function(m,a,b){if(r(a))return o;var p=D(.6*m,2),s=D(1.2*m,2);return c(a,b,"M-"+p+","+s+"V-"+p+"H"+s+"Z")}},pentagon:{n:13,f:function(m,a,b){if(r(a))return o;var p=D(.951*m,2),s=D(.588*m,2),v=D(-m,2),A=D(-.309*m,2);return c(a,b,"M"+p+","+A+"L"+s+","+D(.809*m,2)+"H-"+s+"L-"+p+","+A+"L0,"+v+"Z")}},hexagon:{n:14,f:function(m,a,b){if(r(a))return o;var p=D(m,2),s=D(m/2,2),v=D(m*C/2,2);return c(a,b,"M"+v+",-"+s+"V"+s+"L0,"+p+"L-"+v+","+s+"V-"+s+"L0,-"+p+"Z")}},hexagon2:{n:15,f:function(m,a,b){if(r(a))return o;var p=D(m,2),s=D(m/2,2),v=D(m*C/2,2);return c(a,b,"M-"+s+","+v+"H"+s+"L"+p+",0L"+s+",-"+v+"H-"+s+"L-"+p+",0Z")}},octagon:{n:16,f:function(m,a,b){if(r(a))return o;var p=D(.924*m,2),s=D(.383*m,2);return c(a,b,"M-"+s+",-"+p+"H"+s+"L"+p+",-"+s+"V"+s+"L"+s+","+p+"H-"+s+"L-"+p+","+s+"V-"+s+"Z")}},star:{n:17,f:function(m,a,b){if(r(a))return o;var p=1.4*m,s=D(.225*p,2),v=D(.951*p,2),A=D(.363*p,2),x=D(.588*p,2),E=D(-p,2),g=D(-.309*p,2),M=D(.118*p,2),w=D(.809*p,2);return c(a,b,"M"+s+","+g+"H"+v+"L"+A+","+M+"L"+x+","+w+"L0,"+D(.382*p,2)+"L-"+x+","+w+"L-"+A+","+M+"L-"+v+","+g+"H-"+s+"L0,"+E+"Z")}},hexagram:{n:18,f:function(m,a,b){if(r(a))return o;var p=D(.66*m,2),s=D(.38*m,2),v=D(.76*m,2);return c(a,b,"M-"+v+",0l-"+s+",-"+p+"h"+v+"l"+s+",-"+p+"l"+s+","+p+"h"+v+"l-"+s+","+p+"l"+s+","+p+"h-"+v+"l-"+s+","+p+"l-"+s+",-"+p+"h-"+v+"Z")}},"star-triangle-up":{n:19,f:function(m,a,b){if(r(a))return o;var p=D(m*C*.8,2),s=D(.8*m,2),v=D(1.6*m,2),A=D(4*m,2),x="A "+A+","+A+" 0 0 1 ";return c(a,b,"M-"+p+","+s+x+p+","+s+x+"0,-"+v+x+"-"+p+","+s+"Z")}},"star-triangle-down":{n:20,f:function(m,a,b){if(r(a))return o;var p=D(m*C*.8,2),s=D(.8*m,2),v=D(1.6*m,2),A=D(4*m,2),x="A "+A+","+A+" 0 0 1 ";return c(a,b,"M"+p+",-"+s+x+"-"+p+",-"+s+x+"0,"+v+x+p+",-"+s+"Z")}},"star-square":{n:21,f:function(m,a,b){if(r(a))return o;var p=D(1.1*m,2),s=D(2*m,2),v="A "+s+","+s+" 0 0 1 ";return c(a,b,"M-"+p+",-"+p+v+"-"+p+","+p+v+p+","+p+v+p+",-"+p+v+"-"+p+",-"+p+"Z")}},"star-diamond":{n:22,f:function(m,a,b){if(r(a))return o;var p=D(1.4*m,2),s=D(1.9*m,2),v="A "+s+","+s+" 0 0 1 ";return c(a,b,"M-"+p+",0"+v+"0,"+p+v+p+",0"+v+"0,-"+p+v+"-"+p+",0Z")}},"diamond-tall":{n:23,f:function(m,a,b){if(r(a))return o;var p=D(.7*m,2),s=D(1.4*m,2);return c(a,b,"M0,"+s+"L"+p+",0L0,-"+s+"L-"+p+",0Z")}},"diamond-wide":{n:24,f:function(m,a,b){if(r(a))return o;var p=D(1.4*m,2),s=D(.7*m,2);return c(a,b,"M0,"+s+"L"+p+",0L0,-"+s+"L-"+p+",0Z")}},hourglass:{n:25,f:function(m,a,b){if(r(a))return o;var p=D(m,2);return c(a,b,"M"+p+","+p+"H-"+p+"L"+p+",-"+p+"H-"+p+"Z")},noDot:!0},bowtie:{n:26,f:function(m,a,b){if(r(a))return o;var p=D(m,2);return c(a,b,"M"+p+","+p+"V-"+p+"L-"+p+","+p+"V-"+p+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,a,b){if(r(a))return o;var p=D(m,2);return c(a,b,"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,a,b){if(r(a))return o;var p=D(m,2),s=D(m/P,2);return c(a,b,"M"+s+","+s+"L-"+s+",-"+s+"M"+s+",-"+s+"L-"+s+","+s+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,a,b){if(r(a))return o;var p=D(m,2);return c(a,b,"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,a,b){if(r(a))return o;var p=D(m,2);return c(a,b,"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,a,b){if(r(a))return o;var p=D(1.3*m,2);return c(a,b,"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM0,-"+p+"V"+p+"M-"+p+",0H"+p)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,a,b){if(r(a))return o;var p=D(1.3*m,2),s=D(.65*m,2);return c(a,b,"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM-"+s+",-"+s+"L"+s+","+s+"M-"+s+","+s+"L"+s+",-"+s)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,a,b){if(r(a))return o;var p=D(1.4*m,2);return c(a,b,"M0,"+p+"V-"+p+"M"+p+",0H-"+p)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,a,b){if(r(a))return o;var p=D(m,2);return c(a,b,"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,a,b){if(r(a))return o;var p=D(1.2*m,2),s=D(.85*m,2);return c(a,b,"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+s+","+s+"L-"+s+",-"+s+"M"+s+",-"+s+"L-"+s+","+s)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,a,b){if(r(a))return o;var p=D(m/2,2),s=D(m,2);return c(a,b,"M"+p+","+s+"V-"+s+"M"+(p-s)+",-"+s+"V"+s+"M"+s+","+p+"H-"+s+"M-"+s+","+(p-s)+"H"+s)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,a,b){if(r(a))return o;var p=D(1.2*m,2),s=D(1.6*m,2),v=D(.8*m,2);return c(a,b,"M-"+p+","+v+"L0,0M"+p+","+v+"L0,0M0,-"+s+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,a,b){if(r(a))return o;var p=D(1.2*m,2),s=D(1.6*m,2),v=D(.8*m,2);return c(a,b,"M-"+p+",-"+v+"L0,0M"+p+",-"+v+"L0,0M0,"+s+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,a,b){if(r(a))return o;var p=D(1.2*m,2),s=D(1.6*m,2),v=D(.8*m,2);return c(a,b,"M"+v+","+p+"L0,0M"+v+",-"+p+"L0,0M-"+s+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,a,b){if(r(a))return o;var p=D(1.2*m,2),s=D(1.6*m,2),v=D(.8*m,2);return c(a,b,"M-"+v+","+p+"L0,0M-"+v+",-"+p+"L0,0M"+s+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,a,b){if(r(a))return o;var p=D(1.4*m,2);return c(a,b,"M"+p+",0H-"+p)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,a,b){if(r(a))return o;var p=D(1.4*m,2);return c(a,b,"M0,"+p+"V-"+p)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,a,b){if(r(a))return o;var p=D(m,2);return c(a,b,"M"+p+",-"+p+"L-"+p+","+p)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,a,b){if(r(a))return o;var p=D(m,2);return c(a,b,"M"+p+","+p+"L-"+p+",-"+p)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,a,b){if(r(a))return o;var p=D(m,2);return c(a,b,"M0,0L-"+p+","+D(2*m,2)+"H"+p+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,a,b){if(r(a))return o;var p=D(m,2);return c(a,b,"M0,0L-"+p+",-"+D(2*m,2)+"H"+p+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,a,b){if(r(a))return o;var p=D(2*m,2),s=D(m,2);return c(a,b,"M0,0L"+p+",-"+s+"V"+s+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,a,b){if(r(a))return o;var p=D(2*m,2),s=D(m,2);return c(a,b,"M0,0L-"+p+",-"+s+"V"+s+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,a,b){if(r(a))return o;var p=D(m,2);return c(a,b,"M-"+p+",0H"+p+"M0,0L-"+p+","+D(2*m,2)+"H"+p+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,a,b){if(r(a))return o;var p=D(m,2);return c(a,b,"M-"+p+",0H"+p+"M0,0L-"+p+",-"+D(2*m,2)+"H"+p+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,a,b){if(r(a))return o;var p=D(2*m,2),s=D(m,2);return c(a,b,"M0,-"+s+"V"+s+"M0,0L"+p+",-"+s+"V"+s+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,a,b){if(r(a))return o;var p=D(2*m,2),s=D(m,2);return c(a,b,"M0,-"+s+"V"+s+"M0,0L-"+p+",-"+s+"V"+s+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,a,b){if(r(a))return o;var p=h/2.5,s=2*m*y(p),v=2*m*t(p);return c(a,b,"M0,0L"+-s+","+v+"L"+s+","+v+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,a,b){if(r(a))return o;var p=h/4,s=2*m*y(p),v=2*m*t(p);return c(a,b,"M0,0L"+-s+","+v+"A "+2*m+","+2*m+" 0 0 1 "+s+","+v+"Z")},backoff:.4,noDot:!0}}},25673:function(te){"use strict";te.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(te,Y,e){"use strict";var T=e(92770),D=e(73972),o=e(89298),P=e(71828),C=e(45827);function h(y,t,r,l){var i=t["error_"+l]||{},f=[];if(i.visible&&-1!==["linear","log"].indexOf(r.type)){for(var c=C(i),m=0;m<y.length;m++){var a=y[m],b=a.i;if(void 0===b)b=m;else if(null===b)continue;var p=a[l];if(T(r.c2l(p))){var s=c(p,b);if(T(s[0])&&T(s[1])){var v=a[l+"s"]=p-s[0],A=a[l+"h"]=p+s[1];f.push(v,A)}}}var E=t._extremes[r._id],g=o.findExtremes(r,f,P.extendFlat({tozero:E.opts.tozero},{padded:!0}));E.min=E.min.concat(g.min),E.max=E.max.concat(g.max)}}te.exports=function(t){for(var r=t.calcdata,l=0;l<r.length;l++){var i=r[l],u=i[0].trace;if(!0===u.visible&&D.traceIs(u,"errorBarsOK")){var f=o.getFromId(t,u.xaxis),c=o.getFromId(t,u.yaxis);h(i,u,f,"x"),h(i,u,c,"y")}}}},45827:function(te){"use strict";function Y(e,T){return"percent"===e?function(D){return Math.abs(D*T/100)}:"constant"===e?function(){return Math.abs(T)}:"sqrt"===e?function(D){return Math.sqrt(Math.abs(D))}:void 0}te.exports=function(T){var D=T.type,o=T.symmetric;if("data"===D){var P=T.array||[];if(o)return function(r,l){var i=+P[l];return[i,i]};var C=T.arrayminus||[];return function(r,l){var i=+P[l],u=+C[l];return isNaN(i)&&isNaN(u)?[NaN,NaN]:[u||0,i||0]}}var h=Y(D,T.value),y=Y(D,T.valueminus);return o||void 0===T.valueminus?function(r){var l=h(r);return[l,l]}:function(r){return[y(r),h(r)]}}},97587:function(te,Y,e){"use strict";var T=e(92770),D=e(73972),o=e(71828),P=e(44467),C=e(25673);te.exports=function(h,y,t,r){var l="error_"+r.axis,i=P.newContainer(y,l),u=h[l]||{};function f(v,A){return o.coerce(u,i,C,v,A)}if(!1!==f("visible",void 0!==u.array||void 0!==u.value||"sqrt"===u.type)){var a=f("type","array"in u?"data":"percent"),b=!0;"sqrt"!==a&&(b=f("symmetric",!(("data"===a?"arrayminus":"valueminus")in u))),"data"===a?(f("array"),f("traceref"),b||(f("arrayminus"),f("tracerefminus"))):("percent"===a||"constant"===a)&&(f("value"),b||f("valueminus"));var p="copy_"+r.inherit+"style";r.inherit&&(y["error_"+r.inherit]||{}).visible&&f(p,!(u.color||T(u.thickness)||T(u.width))),(!r.inherit||!i[p])&&(f("color",t),f("thickness"),f("width",D.traceIs(y,"gl3d")?0:4))}}},37369:function(te,Y,e){"use strict";var T=e(71828),D=e(30962).overrideAll,o=e(25673),P={error_x:T.extendFlat({},o),error_y:T.extendFlat({},o)};delete P.error_x.copy_zstyle,delete P.error_y.copy_zstyle,delete P.error_y.copy_ystyle;var C={error_x:T.extendFlat({},o),error_y:T.extendFlat({},o),error_z:T.extendFlat({},o)};delete C.error_x.copy_ystyle,delete C.error_y.copy_ystyle,delete C.error_z.copy_ystyle,delete C.error_z.copy_zstyle,te.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:P,bar:P,histogram:P,scatter3d:D(C,"calc","nested"),scattergl:D(P,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:function h(y,t,r){(t.error_y||{}).visible&&(r.yerr=y.yh-y.y,t.error_y.symmetric||(r.yerrneg=y.y-y.ys)),(t.error_x||{}).visible&&(r.xerr=y.xh-y.x,t.error_x.symmetric||(r.xerrneg=y.x-y.xs))}}},19398:function(te,Y,e){"use strict";var T=e(39898),D=e(92770),o=e(91424),P=e(34098);te.exports=function(y,t,r,l){var u=r.xaxis,f=r.yaxis,c=l&&l.duration>0,m=y._context.staticPlot;t.each(function(a){var v,b=a[0].trace,p=b.error_x||{},s=b.error_y||{};b.ids&&(v=function(g){return g.id});var A=P.hasMarkers(b)&&b.marker.maxdisplayed>0;!s.visible&&!p.visible&&(a=[]);var x=T.select(this).selectAll("g.errorbar").data(a,v);if(x.exit().remove(),a.length){p.visible||x.selectAll("path.xerror").remove(),s.visible||x.selectAll("path.yerror").remove(),x.style("opacity",1);var E=x.enter().append("g").classed("errorbar",!0);c&&E.style("opacity",0).transition().duration(l.duration).style("opacity",1),o.setClipUrl(x,r.layerClipId,y),x.each(function(g){var M=T.select(this),w=function C(h,y,t){var r={x:y.c2p(h.x),y:t.c2p(h.y)};return void 0!==h.yh&&(r.yh=t.c2p(h.yh),r.ys=t.c2p(h.ys),D(r.ys)||(r.noYS=!0,r.ys=t.c2p(h.ys,!0))),void 0!==h.xh&&(r.xh=y.c2p(h.xh),r.xs=y.c2p(h.xs),D(r.xs)||(r.noXS=!0,r.xs=y.c2p(h.xs,!0))),r}(g,u,f);if(!A||g.vis){var n,S=M.select("path.yerror");if(s.visible&&D(w.x)&&D(w.yh)&&D(w.ys)){var d=s.width;n="M"+(w.x-d)+","+w.yh+"h"+2*d+"m-"+d+",0V"+w.ys,w.noYS||(n+="m-"+d+",0h"+2*d),S.size()?c&&(S=S.transition().duration(l.duration).ease(l.easing)):S=M.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0),S.attr("d",n)}else S.remove();var I=M.select("path.xerror");if(p.visible&&D(w.y)&&D(w.xh)&&D(w.xs)){var L=(p.copy_ystyle?s:p).width;n="M"+w.xh+","+(w.y-L)+"v"+2*L+"m0,-"+L+"H"+w.xs,w.noXS||(n+="m0,-"+L+"v"+2*L),I.size()?c&&(I=I.transition().duration(l.duration).ease(l.easing)):I=M.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0),I.attr("d",n)}else I.remove()}})}})}},62662:function(te,Y,e){"use strict";var T=e(39898),D=e(7901);te.exports=function(P){P.each(function(C){var h=C[0].trace,y=h.error_y||{},t=h.error_x||{},r=T.select(this);r.selectAll("path.yerror").style("stroke-width",y.thickness+"px").call(D.stroke,y.color),t.copy_ystyle&&(t=y),r.selectAll("path.xerror").style("stroke-width",t.thickness+"px").call(D.stroke,t.color)})}},77914:function(te,Y,e){"use strict";var T=e(41940),D=e(528).hoverlabel,o=e(1426).extendFlat;te.exports={hoverlabel:{bgcolor:o({},D.bgcolor,{arrayOk:!0}),bordercolor:o({},D.bordercolor,{arrayOk:!0}),font:T({arrayOk:!0,editType:"none"}),align:o({},D.align,{arrayOk:!0}),namelength:o({},D.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(te,Y,e){"use strict";var T=e(71828),D=e(73972);function o(P,C,h,y){y=y||T.identity,Array.isArray(P)&&(C[0][h]=y(P))}te.exports=function(C){var h=C.calcdata,y=C._fullLayout;function t(f){return function(c){return T.coerceHoverinfo({hoverinfo:c},{_module:f._module},y)}}for(var r=0;r<h.length;r++){var l=h[r],i=l[0].trace;if(!D.traceIs(i,"pie-like")){var u=D.traceIs(i,"2dMap")?o:T.fillArray;u(i.hoverinfo,l,"hi",t(i)),i.hovertemplate&&u(i.hovertemplate,l,"ht"),i.hoverlabel&&(u(i.hoverlabel.bgcolor,l,"hbg"),u(i.hoverlabel.bordercolor,l,"hbc"),u(i.hoverlabel.font.size,l,"hts"),u(i.hoverlabel.font.color,l,"htc"),u(i.hoverlabel.font.family,l,"htf"),u(i.hoverlabel.namelength,l,"hnl"),u(i.hoverlabel.align,l,"hta"))}}}},75914:function(te,Y,e){"use strict";var T=e(73972),D=e(88335).hover;te.exports=function(P,C,h){var y=T.getComponentMethod("annotations","onClick")(P,P._hoverdata);function t(){P.emit("plotly_click",{points:P._hoverdata,event:C})}void 0!==h&&D(P,C,h,!0),P._hoverdata&&C&&C.target&&(y&&y.then?y.then(t):t(),C.stopImmediatePropagation&&C.stopImmediatePropagation())}},26675:function(te){"use strict";te.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(te,Y,e){"use strict";var T=e(71828),D=e(77914),o=e(38048);te.exports=function(C,h,y,t){var l=T.extendFlat({},t.hoverlabel);h.hovertemplate&&(l.namelength=-1),o(C,h,function r(i,u){return T.coerce(C,h,D,i,u)},l)}},23469:function(te,Y,e){"use strict";var T=e(71828);Y.getSubplot=function(y){return y.subplot||y.xaxis+y.yaxis||y.geo},Y.isTraceInSubplots=function(y,t){if("splom"===y.type){for(var r=y.xaxes||[],l=y.yaxes||[],i=0;i<r.length;i++)for(var u=0;u<l.length;u++)if(-1!==t.indexOf(r[i]+l[u]))return!0;return!1}return-1!==t.indexOf(Y.getSubplot(y))},Y.flat=function(y,t){for(var r=new Array(y.length),l=0;l<y.length;l++)r[l]=t;return r},Y.p2c=function(y,t){for(var r=new Array(y.length),l=0;l<y.length;l++)r[l]=y[l].p2c(t);return r},Y.getDistanceFunction=function(y,t,r,l){return"closest"===y?l||Y.quadrature(t,r):"x"===y.charAt(0)?t:r},Y.getClosest=function(y,t,r){if(!1!==r.index)r.index>=0&&r.index<y.length?r.distance=0:r.index=!1;else for(var l=0;l<y.length;l++){var i=t(y[l]);i<=r.distance&&(r.index=l,r.distance=i)}return r},Y.inbox=function(y,t,r){return y*t<0||0===y?r:1/0},Y.quadrature=function(y,t){return function(r){var l=y(r),i=t(r);return Math.sqrt(l*l+i*i)}},Y.makeEventData=function(y,t,r){var l="index"in y?y.index:y.pointNumber,i={data:t._input,fullData:t,curveNumber:t.index,pointNumber:l};if(t._indexToPoints){var u=t._indexToPoints[l];1===u.length?i.pointIndex=u[0]:i.pointIndices=u}else i.pointIndex=l;return t._module.eventData?i=t._module.eventData(i,y,t,r,l):("xVal"in y?i.x=y.xVal:"x"in y&&(i.x=y.x),"yVal"in y?i.y=y.yVal:"y"in y&&(i.y=y.y),y.xa&&(i.xaxis=y.xa),y.ya&&(i.yaxis=y.ya),void 0!==y.zLabelVal&&(i.z=y.zLabelVal)),Y.appendArrayPointValue(i,t,l),i},Y.appendArrayPointValue=function(y,t,r){var l=t._arrayAttrs;if(l)for(var i=0;i<l.length;i++){var u=l[i],f=o(u);if(void 0===y[f]){var m=P(T.nestedProperty(t,u).get(),r);void 0!==m&&(y[f]=m)}}},Y.appendArrayMultiPointValues=function(y,t,r){var l=t._arrayAttrs;if(l)for(var i=0;i<l.length;i++){var u=l[i],f=o(u);if(void 0===y[f]){for(var c=T.nestedProperty(t,u).get(),m=new Array(r.length),a=0;a<r.length;a++)m[a]=P(c,r[a]);y[f]=m}}};var D={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(y){return D[y]||y}function P(y,t){return Array.isArray(t)?Array.isArray(y)&&Array.isArray(y[t[0]])?y[t[0]][t[1]]:void 0:y[t]}var C={x:!0,y:!0},h={"x unified":!0,"y unified":!0};Y.isUnifiedHover=function(y){return"string"==typeof y&&!!h[y]},Y.isXYhover=function(y){return"string"==typeof y&&!!C[y]}},88335:function(te,Y,e){"use strict";var T=e(39898),D=e(92770),o=e(84267),P=e(71828),C=P.strTranslate,h=P.strRotate,y=e(11086),t=e(63893),r=e(39918),l=e(91424),i=e(7901),u=e(28569),f=e(89298),c=e(73972),m=e(23469),a=e(26675),b=e(99017),p=e(43969),s=a.YANGLE,v=Math.PI*s/180,A=1/Math.sin(v),x=Math.cos(v),E=Math.sin(v),g=a.HOVERARROWSIZE,M=a.HOVERTEXTPAD,w={box:!0,ohlc:!0,violin:!0,candlestick:!0},n={scatter:!0,scattergl:!0,splom:!0};function d(K){return[K.trace.index,K.index,K.x0,K.y0,K.name,K.attr,K.xa?K.xa._id:"",K.ya?K.ya._id:""].join(",")}Y.hover=function(ae,Q,Z,re){ae=P.getGraphDiv(ae);var q=Q.target;P.throttle(ae._fullLayout._uid+a.HOVERID,a.HOVERMINTIME,function(){!function S(K,ae,Q,Z,re){Q||(Q="xy");var q=Array.isArray(Q)?Q:[Q],se=K._fullLayout,de=se._plots||[],we=de[Q],ye=se._has("cartesian");if(we){var Pe=we.overlays.map(function(Pr){return Pr.id});q=q.concat(Pe)}for(var Ie=q.length,Se=new Array(Ie),xe=new Array(Ie),Me=!1,Ge=0;Ge<Ie;Ge++){var Ye=q[Ge];if(de[Ye])Me=!0,Se[Ge]=de[Ye].xaxis,xe[Ge]=de[Ye].yaxis;else{if(!se[Ye]||!se[Ye]._subplot)return void P.warn("Unrecognized subplot: "+Ye);var De=se[Ye]._subplot;Se[Ge]=De.xaxis,xe[Ge]=De.yaxis}}var He=ae.hovermode||se.hovermode;if(He&&!Me&&(He="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(He)||!K.calcdata||K.querySelector(".zoombox")||K._dragging)return u.unhoverRaw(K,ae);var rt=se.hoverdistance;-1===rt&&(rt=1/0);var $e=se.spikedistance;-1===$e&&($e=1/0);var tt,lt,ut,xt,bt,Ht,Je,Ce,Ee,Re,ke,Ne,_e,Be=[],ze=[],Te={hLinePoint:null,vLinePoint:null},fe=!1;if(Array.isArray(ae))for(He="array",ut=0;ut<ae.length;ut++)(bt=K.calcdata[ae[ut].curveNumber||0])&&(Ht=bt[0].trace,"skip"!==bt[0].trace.hoverinfo&&(ze.push(bt),"h"===Ht.orientation&&(fe=!0)));else{for(xt=0;xt<K.calcdata.length;xt++)"skip"!==(Ht=(bt=K.calcdata[xt])[0].trace).hoverinfo&&m.isTraceInSubplots(Ht,q)&&(ze.push(bt),"h"===Ht.orientation&&(fe=!0));var Fe,Xe;if(re){if(!1===y.triggerHandler(K,"plotly_beforehover",ae))return;var at=re.getBoundingClientRect();Fe=ae.clientX-at.left,Xe=ae.clientY-at.top,se._calcInverseTransform(K);var ft=P.apply3DTransform(se._invTransform)(Fe,Xe);if(Xe=ft[1],(Fe=ft[0])<0||Fe>Se[0]._length||Xe<0||Xe>xe[0]._length)return u.unhoverRaw(K,ae)}else Fe="xpx"in ae?ae.xpx:Se[0]._length/2,Xe="ypx"in ae?ae.ypx:xe[0]._length/2;if(ae.pointerX=Fe+Se[0]._offset,ae.pointerY=Xe+xe[0]._offset,tt="xval"in ae?m.flat(q,ae.xval):m.p2c(Se,Fe),lt="yval"in ae?m.flat(q,ae.yval):m.p2c(xe,Xe),!D(tt[0])||!D(lt[0]))return P.warn("Fx.hover failed",ae,K),u.unhoverRaw(K,ae)}var Xt=1/0;function rr(Pr,Zr){for(xt=0;xt<ze.length;xt++)if((bt=ze[xt])&&bt[0]&&bt[0].trace&&!0===(Ht=bt[0].trace).visible&&0!==Ht._length&&-1===["carpet","contourcarpet"].indexOf(Ht._module.name)){if("splom"===Ht.type?Je=q[Ce=0]:(Je=m.getSubplot(Ht),Ce=q.indexOf(Je)),m.isUnifiedHover(Ee=He)&&(Ee=Ee.charAt(0)),Ne={cd:bt,trace:Ht,xa:Se[Ce],ya:xe[Ce],maxHoverDistance:rt,maxSpikeDistance:$e,index:!1,distance:Math.min(Xt,rt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:i.defaultLine,name:Ht.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},se[Je]&&(Ne.subplot=se[Je]._subplot),se._splomScenes&&se._splomScenes[Ht.uid]&&(Ne.scene=se._splomScenes[Ht.uid]),_e=Be.length,"array"===Ee){var Hr=ae[xt];"pointNumber"in Hr?(Ne.index=Hr.pointNumber,Ee="closest"):(Ee="","xval"in Hr&&(Re=Hr.xval,Ee="x"),"yval"in Hr&&(ke=Hr.yval,Ee=Ee?"closest":"y"))}else void 0!==Pr&&void 0!==Zr?(Re=Pr,ke=Zr):(Re=tt[Ce],ke=lt[Ce]);if(0!==rt)if(Ht._module&&Ht._module.hoverPoints){var fn=Ht._module.hoverPoints(Ne,Re,ke,Ee,{finiteRange:!0,hoverLayer:se._hoverlayer});if(fn)for(var Tn,Mn=0;Mn<fn.length;Mn++)D((Tn=fn[Mn]).x0)&&D(Tn.y0)&&Be.push(N(Tn,He))}else P.log("Unrecognized trace type in hover:",Ht);if("closest"===He&&Be.length>_e&&(Be.splice(0,_e),Xt=Be[0].distance),ye&&0!==$e&&0===Be.length){Ne.distance=$e,Ne.index=!1;var Pn=Ht._module.hoverPoints(Ne,Re,ke,"closest",{hoverLayer:se._hoverlayer});if(Pn&&(Pn=Pn.filter(function(ra){return ra.spikeDistance<=$e})),Pn&&Pn.length){var Fn,la=Pn.filter(function(ra){return ra.xa.showspikes&&"hovered data"!==ra.xa.spikesnap});if(la.length){var Xn=la[0];D(Xn.x0)&&D(Xn.y0)&&(Fn=zt(Xn),(!Te.vLinePoint||Te.vLinePoint.spikeDistance>Fn.spikeDistance)&&(Te.vLinePoint=Fn))}var na=Pn.filter(function(ra){return ra.ya.showspikes&&"hovered data"!==ra.ya.spikesnap});if(na.length){var Yn=na[0];D(Yn.x0)&&D(Yn.y0)&&(Fn=zt(Yn),(!Te.hLinePoint||Te.hLinePoint.spikeDistance>Fn.spikeDistance)&&(Te.hLinePoint=Fn))}}}}}function At(Pr,Zr,Hr){for(var Mn,fn=null,Tn=1/0,Pn=0;Pn<Pr.length;Pn++)Mn=Pr[Pn].spikeDistance,Hr&&0===Pn&&(Mn=-1/0),Mn<=Tn&&Mn<=Zr&&(fn=Pr[Pn],Tn=Mn);return fn}function zt(Pr){return Pr?{xa:Pr.xa,ya:Pr.ya,x:void 0!==Pr.xSpike?Pr.xSpike:(Pr.x0+Pr.x1)/2,y:void 0!==Pr.ySpike?Pr.ySpike:(Pr.y0+Pr.y1)/2,distance:Pr.distance,spikeDistance:Pr.spikeDistance,curveNumber:Pr.trace.index,color:Pr.color,pointNumber:Pr.index}:null}rr();var Qt={fullLayout:se,container:se._hoverlayer,event:ae},Rr=K._spikepoints;K._spikepoints={vLinePoint:Te.vLinePoint,hLinePoint:Te.hLinePoint};var $t=function(){Be.sort(function(Pr,Zr){return Pr.distance-Zr.distance}),Be=function ue(K,ae){for(var Q=ae.charAt(0),Z=[],re=[],q=[],se=0;se<K.length;se++){var de=K[se];c.traceIs(de.trace,"bar-like")||c.traceIs(de.trace,"box-violin")?q.push(de):de.trace[Q+"period"]?re.push(de):Z.push(de)}return Z.concat(re).concat(q)}(Be,He)};$t();var tr=He.charAt(0),Er=("x"===tr||"y"===tr)&&Be[0]&&n[Be[0].trace.type];if(ye&&0!==$e&&0!==Be.length){var dt=At(Be.filter(function(Pr){return Pr.ya.showspikes}),$e,Er);Te.hLinePoint=zt(dt);var mt=At(Be.filter(function(Pr){return Pr.xa.showspikes}),$e,Er);Te.vLinePoint=zt(mt)}if(0===Be.length){var St=u.unhoverRaw(K,ae);return ye&&(null!==Te.hLinePoint||null!==Te.vLinePoint)&&ne(Rr)&&H(K,Te,Qt),St}if(ye&&ne(Rr)&&H(K,Te,Qt),m.isXYhover(Ee)&&0!==Be[0].length&&"splom"!==Be[0].trace.type){var Lt=Be[0],Ct=(Be=w[Lt.trace.type]?Be.filter(function(Pr){return Pr.trace.index===Lt.trace.index}):[Lt]).length;rr(J("x",Lt,se),J("y",Lt,se));var We,qt=[],cr={},lr=0,br=function(Pr){var Zr=w[Pr.trace.type]?d(Pr):Pr.trace.index;if(cr[Zr]){var Hr=cr[Zr]-1,fn=qt[Hr];Hr>0&&Math.abs(Pr.distance)<Math.abs(fn.distance)&&(qt[Hr]=Pr)}else lr++,cr[Zr]=lr,qt.push(Pr)};for(We=0;We<Ct;We++)br(Be[We]);for(We=Be.length-1;We>Ct-1;We--)br(Be[We]);Be=qt,$t()}var Ve=K._hoverdata,Rt=[],_t=j(K),Kt=W(K);for(ut=0;ut<Be.length;ut++){var sr=Be[ut],hr=m.makeEventData(sr,sr.trace,sr.cd);if(!1!==sr.hovertemplate){var or=!1;sr.cd[sr.index]&&sr.cd[sr.index].ht&&(or=sr.cd[sr.index].ht),sr.hovertemplate=or||sr.trace.hovertemplate||!1}if(sr.xa&&sr.ya){var Nt=sr.x0+sr.xa._offset,dr=sr.x1+sr.xa._offset,Mr=sr.y0+sr.ya._offset,wr=sr.y1+sr.ya._offset,kr=Math.min(Nt,dr),tn=Math.max(Nt,dr),_r=Math.min(Mr,wr),Kr=Math.max(Mr,wr);hr.bbox={x0:kr+Kt,x1:tn+Kt,y0:_r+_t,y1:Kr+_t}}sr.eventData=[hr],Rt.push(hr)}K._hoverdata=Rt;var vn="y"===He&&(ze.length>1||Be.length>1)||"closest"===He&&fe&&Be.length>1,Xr=i.combine(se.plot_bgcolor||i.background,se.paper_bgcolor),On=L(Be,{gd:K,hovermode:He,rotateLabels:vn,bgColor:Xr,container:se._hoverlayer,outerContainer:se._paper.node(),commonLabelOpts:se.hoverlabel,hoverdistance:se.hoverdistance}),mn=On.hoverLabels;if(m.isUnifiedHover(He)||(function k(K,ae,Q,Z){var De,He,rt,$e,Be,ze,tt,re=ae?"xa":"ya",q=ae?"ya":"xa",se=0,de=1,we=K.size(),ye=new Array(we),Pe=0,Ie=Z.minX,Se=Z.maxX,xe=Z.minY,Me=Z.maxY,Ge=function(Re){return Re*Q._invScaleX},Ye=function(Re){return Re*Q._invScaleY};function lt(Re){var ke=Re[0],Ne=Re[Re.length-1];if(rt=Ne.pos+Ne.dp+Ne.size-ke.pmax,(He=ke.pmin-ke.pos-ke.dp+ke.size)>.01){for(Be=Re.length-1;Be>=0;Be--)Re[Be].dp+=He;De=!1}if(!(rt<.01)){if(He<-.01){for(Be=Re.length-1;Be>=0;Be--)Re[Be].dp-=rt;De=!1}if(De){var _e=0;for($e=0;$e<Re.length;$e++)(ze=Re[$e]).pos+ze.dp+ze.size>ke.pmax&&_e++;for($e=Re.length-1;$e>=0&&!(_e<=0);$e--)(ze=Re[$e]).pos>ke.pmax-1&&(ze.del=!0,_e--);for($e=0;$e<Re.length&&!(_e<=0);$e++)if((ze=Re[$e]).pos<ke.pmin+1)for(ze.del=!0,_e--,rt=2*ze.size,Be=Re.length-1;Be>=0;Be--)Re[Be].dp-=rt;for($e=Re.length-1;$e>=0&&!(_e<=0);$e--)(ze=Re[$e]).pos+ze.dp+ze.size>ke.pmax&&(ze.del=!0,_e--)}}}for(K.each(function(Re){var ke=Re[re],Ne=Re[q],_e="x"===ke._id.charAt(0),Te=ke.range;0===Pe&&Te&&Te[0]>Te[1]!==_e&&(de=-1);var fe=0,pe=_e?Q.width:Q.height;if("x"===Q.hovermode||"y"===Q.hovermode){var ft,Xt,Fe=z(Re,ae),Xe=Re.anchor,at="end"===Xe?-1:1;if("middle"===Xe)Xt=(ft=Re.crossPos+(_e?Ye(Fe.y-Re.by/2):Ge(Re.bx/2+Re.tx2width/2)))+(_e?Ye(Re.by):Ge(Re.bx));else if(_e)Xt=(ft=Re.crossPos+Ye(g+Fe.y)-Ye(Re.by/2-g))+Ye(Re.by);else{var rr=Ge(at*g+Fe.x),At=rr+Ge(at*Re.bx);ft=Re.crossPos+Math.min(rr,At),Xt=Re.crossPos+Math.max(rr,At)}_e?void 0!==xe&&void 0!==Me&&Math.min(Xt,Me)-Math.max(ft,xe)>1&&("left"===Ne.side?(fe=Ne._mainLinePosition,pe=Q.width):pe=Ne._mainLinePosition):void 0!==Ie&&void 0!==Se&&Math.min(Xt,Se)-Math.max(ft,Ie)>1&&("top"===Ne.side?(fe=Ne._mainLinePosition,pe=Q.height):pe=Ne._mainLinePosition)}ye[Pe++]=[{datum:Re,traceIndex:Re.trace.index,dp:0,pos:Re.pos,posref:Re.posref,size:Re.by*(_e?A:1)/2,pmin:fe,pmax:pe}]}),ye.sort(function(Re,ke){return Re[0].posref-ke[0].posref||de*(ke[0].traceIndex-Re[0].traceIndex)});!De&&se<=we;){for(se++,De=!0,$e=0;$e<ye.length-1;){var ut=ye[$e],xt=ye[$e+1],bt=ut[ut.length-1],Ht=xt[0];if((He=bt.pos+bt.dp+bt.size-Ht.pos-Ht.dp+Ht.size)>.01&&bt.pmin===Ht.pmin&&bt.pmax===Ht.pmax){for(Be=xt.length-1;Be>=0;Be--)xt[Be].dp+=He;for(ut.push.apply(ut,xt),ye.splice($e+1,1),tt=0,Be=ut.length-1;Be>=0;Be--)tt+=ut[Be].dp;for(rt=tt/ut.length,Be=ut.length-1;Be>=0;Be--)ut[Be].dp-=rt;De=!1}else $e++}ye.forEach(lt)}for($e=ye.length-1;$e>=0;$e--){var Je=ye[$e];for(Be=Je.length-1;Be>=0;Be--){var Ce=Je[Be],Ee=Ce.datum;Ee.offset=Ce.dp,Ee.del=Ce.del}}}(mn,vn,se,On.commonLabelBoundingBox),F(mn,vn,se._invScaleX,se._invScaleY)),re&&re.tagName){var xr=c.getComponentMethod("annotations","hasClickToShow")(K,Rt);r(T.select(re),xr?"pointer":"")}!re||Z||!function X(K,ae,Q){if(!Q||Q.length!==K._hoverdata.length)return!0;for(var Z=Q.length-1;Z>=0;Z--){var re=Q[Z],q=K._hoverdata[Z];if(re.curveNumber!==q.curveNumber||String(re.pointNumber)!==String(q.pointNumber)||String(re.pointNumbers)!==String(q.pointNumbers))return!0}return!1}(K,0,Ve)||(Ve&&K.emit("plotly_unhover",{event:ae,points:Ve}),K.emit("plotly_hover",{event:ae,points:K._hoverdata,xaxes:Se,yaxes:xe,xvals:tt,yvals:lt}))}(ae,Q,Z,re,q)})},Y.loneHover=function(ae,Q){var Z=!0;Array.isArray(ae)||(Z=!1,ae=[ae]);var re=Q.gd,q=j(re),se=W(re),Pe=L(ae.map(function(Ye){var De=Ye._x0||Ye.x0||Ye.x||0,He=Ye._x1||Ye.x1||Ye.x||0,rt=Ye._y0||Ye.y0||Ye.y||0,$e=Ye._y1||Ye.y1||Ye.y||0,Be=Ye.eventData;if(Be){var ze=Math.min(De,He),tt=Math.max(De,He),lt=Math.min(rt,$e),ut=Math.max(rt,$e),xt=Ye.trace;if(c.traceIs(xt,"gl3d")){var bt=re._fullLayout[xt.scene]._scene.container,Ht=bt.offsetLeft,Je=bt.offsetTop;ze+=Ht,tt+=Ht,lt+=Je,ut+=Je}Be.bbox={x0:ze+se,x1:tt+se,y0:lt+q,y1:ut+q},Q.inOut_bbox&&Q.inOut_bbox.push(Be.bbox)}else Be=!1;return{color:Ye.color||i.defaultLine,x0:Ye.x0||Ye.x||0,x1:Ye.x1||Ye.x||0,y0:Ye.y0||Ye.y||0,y1:Ye.y1||Ye.y||0,xLabel:Ye.xLabel,yLabel:Ye.yLabel,zLabel:Ye.zLabel,text:Ye.text,name:Ye.name,idealAlign:Ye.idealAlign,borderColor:Ye.borderColor,fontFamily:Ye.fontFamily,fontSize:Ye.fontSize,fontColor:Ye.fontColor,nameLength:Ye.nameLength,textAlign:Ye.textAlign,trace:Ye.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ye.hovertemplate||!1,hovertemplateLabels:Ye.hovertemplateLabels||!1,eventData:Be}}),{gd:re,hovermode:"closest",rotateLabels:!1,bgColor:Q.bgColor||i.background,container:T.select(Q.container),outerContainer:Q.outerContainer||Q.container}).hoverLabels,Se=0,xe=0;return Pe.sort(function(Ye,De){return Ye.y0-De.y0}).each(function(Ye,De){var He=Ye.y0-Ye.by/2;Ye.offset=He-5<Se?Se-He+5:0,Se=He+Ye.by+Ye.offset,De===Q.anchorIndex&&(xe=Ye.offset)}).each(function(Ye){Ye.offset-=xe}),F(Pe,!1,re._fullLayout._invScaleX,re._fullLayout._invScaleY),Z?Pe:Pe.node()};var I=/<extra>([\s\S]*)<\/extra>/;function L(K,ae){var Q=ae.gd,Z=Q._fullLayout,re=ae.hovermode,q=ae.rotateLabels,se=ae.bgColor,de=ae.container,we=ae.outerContainer,ye=ae.commonLabelOpts||{};if(0===K.length)return[[]];var Pe=ae.fontFamily||a.HOVERFONT,Ie=ae.fontSize||a.HOVERFONTSIZE,Se=K[0],xe=Se.xa,Me=Se.ya,Ge=re.charAt(0),Ye=Ge+"Label",De=Se[Ye];if(void 0===De&&"multicategory"===xe.type)for(var He=0;He<K.length&&void 0===(De=K[He][Ye]);He++);var rt=V(Q,we),$e=rt.top,Be=rt.width,ze=rt.height,tt=void 0!==De&&Se.distance<=ae.hoverdistance&&("x"===re||"y"===re);if(tt){var ut,xt,lt=!0;for(ut=0;ut<K.length;ut++)if(lt&&void 0===K[ut].zLabel&&(lt=!1),xt=K[ut].hoverinfo||K[ut].trace.hoverinfo){var bt=Array.isArray(xt)?xt:xt.split("+");if(-1===bt.indexOf("all")&&-1===bt.indexOf(re)){tt=!1;break}}lt&&(tt=!1)}var Ht=de.selectAll("g.axistext").data(tt?[0]:[]);Ht.enter().append("g").classed("axistext",!0),Ht.exit().remove();var Je={minX:0,maxX:0,minY:0,maxY:0};if(Ht.each(function(){var Ct=T.select(this),Ut=P.ensureSingle(Ct,"path","",function(_r){_r.style({"stroke-width":"1px"})}),Bt=P.ensureSingle(Ct,"text","",function(_r){_r.attr("data-notex",1)}),qt=ye.bgcolor||i.defaultLine,cr=ye.bordercolor||i.contrast(qt),lr=i.contrast(qt),br={family:ye.font.family||Pe,size:ye.font.size||Ie,color:ye.font.color||lr};Ut.style({fill:qt,stroke:cr}),Bt.text(De).call(l.font,br).call(t.positionText,0,0).call(t.convertToTspans,Q),Ct.attr("transform","");var Ve,Rt,We=V(Q,Bt.node());if("x"===re){var _t="top"===xe.side?"-":"";Bt.attr("text-anchor","middle").call(t.positionText,0,"top"===xe.side?$e-We.bottom-g-M:$e-We.top+g+M),Rt=Me._offset+("top"===xe.side?0:Me._length);var Kt=We.width/2+M;(Ve=xe._offset+(Se.x0+Se.x1)/2)<Kt?(Ve=Kt,Ut.attr("d","M-"+(Kt-g)+",0L-"+(Kt-2*g)+","+_t+g+"H"+Kt+"v"+_t+(2*M+We.height)+"H-"+Kt+"V"+_t+g+"Z")):Ve>Z.width-Kt?(Ve=Z.width-Kt,Ut.attr("d","M"+(Kt-g)+",0L"+Kt+","+_t+g+"v"+_t+(2*M+We.height)+"H-"+Kt+"V"+_t+g+"H"+(Kt-2*g)+"Z")):Ut.attr("d","M0,0L"+g+","+_t+g+"H"+Kt+"v"+_t+(2*M+We.height)+"H-"+Kt+"V"+_t+g+"H-"+g+"Z"),Je.minX=Ve-Kt,Je.maxX=Ve+Kt,"top"===xe.side?(Je.minY=Rt-(2*M+We.height),Je.maxY=Rt-M):(Je.minY=Rt+M,Je.maxY=Rt+(2*M+We.height))}else{var sr,hr,or;"right"===Me.side?(sr="start",hr=1,or="",Ve=xe._offset+xe._length):(sr="end",hr=-1,or="-",Ve=xe._offset),Rt=Me._offset+(Se.y0+Se.y1)/2,Bt.attr("text-anchor",sr),Ut.attr("d","M0,0L"+or+g+","+g+"V"+(M+We.height/2)+"h"+or+(2*M+We.width)+"V-"+(M+We.height/2)+"H"+or+g+"V-"+g+"Z"),Je.minY=Rt-(M+We.height/2),Je.maxY=Rt+(M+We.height/2),"right"===Me.side?(Je.minX=Ve+g,Je.maxX=Ve+g+(2*M+We.width)):(Je.minX=Ve-g-(2*M+We.width),Je.maxX=Ve-g);var wr,Nt=We.height/2,dr=$e-We.top-Nt,Mr="clip"+Z._uid+"commonlabel"+Me._id;if(Ve<We.width+2*M+g){wr="M-"+(g+M)+"-"+Nt+"h-"+(We.width-M)+"V"+Nt+"h"+(We.width-M)+"Z";var kr=We.width-Ve+M;t.positionText(Bt,kr,dr),"end"===sr&&Bt.selectAll("tspan").each(function(){var _r=T.select(this),Kr=l.tester.append("text").text(_r.text()).call(l.font,br),vn=V(Q,Kr.node());Math.round(vn.width)<Math.round(We.width)&&_r.attr("x",kr-vn.width),Kr.remove()})}else t.positionText(Bt,hr*(M+g),dr),wr=null;var tn=Z._topclips.selectAll("#"+Mr).data(wr?[0]:[]);tn.enter().append("clipPath").attr("id",Mr).append("path"),tn.exit().remove(),tn.select("path").attr("d",wr),l.setClipUrl(Bt,wr?Mr:null,Q)}Ct.attr("transform",C(Ve,Rt))}),m.isUnifiedHover(re)){de.selectAll("g.hovertext").remove();var Ce=K.filter(function(Ct){return"none"!==Ct.hoverinfo});if(0===Ce.length)return[];var Ee=Z.hoverlabel,Re=Ee.font,Ne={font:Re};b({showlegend:!0,legend:{title:{text:De,font:Re},font:Re,bgcolor:Ee.bgcolor,bordercolor:Ee.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:Z.legend?Z.legend.traceorder:void 0,orientation:"v"}},Ne,Q._fullData);var _e=Ne.legend;_e.entries=[];for(var Te=0;Te<Ce.length;Te++){var fe=Ce[Te];if("none"!==fe.hoverinfo){var pe=B(fe,!0,re,Z,De),Fe=pe[0],Xe=pe[1];fe.name=Xe,fe.text=""!==Xe?Xe+" : "+Fe:Fe;var at=fe.cd[fe.index];at&&(at.mc&&(fe.mc=at.mc),at.mcc&&(fe.mc=at.mcc),at.mlc&&(fe.mlc=at.mlc),at.mlcc&&(fe.mlc=at.mlcc),at.mlw&&(fe.mlw=at.mlw),at.mrc&&(fe.mrc=at.mrc),at.dir&&(fe.dir=at.dir)),fe._distinct=!0,_e.entries.push([fe])}}_e.entries.sort(function(Ct,Ut){return Ct[0].trace.index-Ut[0].trace.index}),_e.layer=de,_e._inHover=!0,_e._groupTitleFont=Ee.grouptitlefont,p(Q,_e);var $t,tr,Er,pr,ft=de.select("g.legend"),Xt=V(Q,ft.node()),rr=Xt.width+2*M,At=Xt.height+2*M,zt=Ce[0],Qt=(zt.x0+zt.x1)/2,Rr=(zt.y0+zt.y1)/2,pt=!(c.traceIs(zt.trace,"bar-like")||c.traceIs(zt.trace,"box-violin"));"y"===Ge?pt?(tr=Rr-M,$t=Rr+M):(tr=Math.min.apply(null,Ce.map(function(Ct){return Math.min(Ct.y0,Ct.y1)})),$t=Math.max.apply(null,Ce.map(function(Ct){return Math.max(Ct.y0,Ct.y1)}))):tr=$t=P.mean(Ce.map(function(Ct){return(Ct.y0+Ct.y1)/2}))-At/2,"x"===Ge?pt?(Er=Qt+M,pr=Qt-M):(Er=Math.max.apply(null,Ce.map(function(Ct){return Math.max(Ct.x0,Ct.x1)})),pr=Math.min.apply(null,Ce.map(function(Ct){return Math.min(Ct.x0,Ct.x1)}))):Er=pr=P.mean(Ce.map(function(Ct){return(Ct.x0+Ct.x1)/2}))-rr/2;var mt,St,dt=xe._offset,it=Me._offset;return pr+=dt-rr,tr+=it-At,mt=(Er+=dt)+rr<Be&&Er>=0?Er:pr+rr<Be&&pr>=0?pr:dt+rr<Be?dt:Er-Qt<Qt-pr+rr?Be-rr:0,St=($t+=it)+At<ze&&$t>=0?$t:tr+At<ze&&tr>=0?tr:it+At<ze?it:$t-Rr<Rr-tr+At?ze-At:0,ft.attr("transform",C((mt+=M)-1,(St+=M)-1)),ft}var Lt=de.selectAll("g.hovertext").data(K,function(Ct){return d(Ct)});return Lt.enter().append("g").classed("hovertext",!0).each(function(){var Ct=T.select(this);Ct.append("rect").call(i.fill,i.addOpacity(se,.8)),Ct.append("text").classed("name",!0),Ct.append("path").style("stroke-width","1px"),Ct.append("text").classed("nums",!0).call(l.font,Pe,Ie)}),Lt.exit().remove(),Lt.each(function(Ct){var Ut=T.select(this).attr("transform",""),Bt=Ct.color;Array.isArray(Bt)&&(Bt=Bt[Ct.eventData[0].pointNumber]);var qt=Ct.bgcolor||Bt,cr=i.combine(i.opacity(qt)?qt:i.defaultLine,se),lr=i.combine(i.opacity(Bt)?Bt:i.defaultLine,se),br=Ct.borderColor||i.contrast(cr),We=B(Ct,tt,re,Z,De,Ut),Ve=We[0],Rt=We[1],_t=Ut.select("text.nums").call(l.font,Ct.fontFamily||Pe,Ct.fontSize||Ie,Ct.fontColor||br).text(Ve).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,Q),Kt=Ut.select("text.name"),sr=0,hr=0;if(Rt&&Rt!==Ve){Kt.call(l.font,Ct.fontFamily||Pe,Ct.fontSize||Ie,lr).text(Rt).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,Q);var or=V(Q,Kt.node());sr=or.width+2*M,hr=or.height+2*M}else Kt.remove(),Ut.select("rect").remove();Ut.select("path").style({fill:cr,stroke:br});var Nt=Ct.xa._offset+(Ct.x0+Ct.x1)/2,dr=Ct.ya._offset+(Ct.y0+Ct.y1)/2,Mr=Math.abs(Ct.x1-Ct.x0),wr=Math.abs(Ct.y1-Ct.y0),kr=V(Q,_t.node()),tn=kr.width/Z._invScaleX,_r=kr.height/Z._invScaleY;Ct.ty0=($e-kr.top)/Z._invScaleY,Ct.bx=tn+2*M,Ct.by=Math.max(_r+2*M,hr),Ct.anchor="start",Ct.txwidth=tn,Ct.tx2width=sr,Ct.offset=0;var vn,Xr,Kr=(tn+g+M+sr)*Z._invScaleX;if(q)Ct.pos=Nt,vn=dr+wr/2+Kr<=ze,Xr=dr-wr/2-Kr>=0,"top"!==Ct.idealAlign&&vn||!Xr?vn?(dr+=wr/2,Ct.anchor="start"):Ct.anchor="middle":(dr-=wr/2,Ct.anchor="end"),Ct.crossPos=dr;else{if(Ct.pos=dr,vn=Nt+Mr/2+Kr<=Be,Xr=Nt-Mr/2-Kr>=0,"left"!==Ct.idealAlign&&vn||!Xr)if(vn)Nt+=Mr/2,Ct.anchor="start";else{Ct.anchor="middle";var On=Kr/2,mn=Nt+On-Be,xr=Nt-On;mn>0&&(Nt-=mn),xr<0&&(Nt+=-xr)}else Nt-=Mr/2,Ct.anchor="end";Ct.crossPos=Nt}_t.attr("text-anchor",Ct.anchor),sr&&Kt.attr("text-anchor",Ct.anchor),Ut.attr("transform",C(Nt,dr)+(q?h(s):""))}),{hoverLabels:Lt,commonLabelBoundingBox:Je}}function B(K,ae,Q,Z,re,q){var se="",de="";void 0!==K.nameOverride&&(K.name=K.nameOverride),K.name&&(K.trace._meta&&(K.name=P.templateString(K.name,K.trace._meta)),se=ie(K.name,K.nameLength));var we=Q.charAt(0);void 0!==K.zLabel?(void 0!==K.xLabel&&(de+="x: "+K.xLabel+"<br>"),void 0!==K.yLabel&&(de+="y: "+K.yLabel+"<br>"),"choropleth"!==K.trace.type&&"choroplethmapbox"!==K.trace.type&&(de+=(de?"z: ":"")+K.zLabel)):ae&&K[we+"Label"]===re?de=K[("x"===we?"y":"x")+"Label"]||"":void 0===K.xLabel?void 0!==K.yLabel&&"scattercarpet"!==K.trace.type&&(de=K.yLabel):de=void 0===K.yLabel?K.xLabel:"("+K.xLabel+", "+K.yLabel+")",(K.text||0===K.text)&&!Array.isArray(K.text)&&(de+=(de?"<br>":"")+K.text),void 0!==K.extraText&&(de+=(de?"<br>":"")+K.extraText),q&&""===de&&!K.hovertemplate&&(""===se&&q.remove(),de=se);var Pe=K.hovertemplate||!1;if(Pe){var Ie=K.hovertemplateLabels||K;K[we+"Label"]!==re&&(Ie[we+"other"]=Ie[we+"Val"],Ie[we+"otherLabel"]=Ie[we+"Label"]),de=(de=P.hovertemplateString(Pe,Ie,Z._d3locale,K.eventData[0]||{},K.trace._meta)).replace(I,function(Se,xe){return se=ie(xe,K.nameLength),""})}return[de,se]}function z(K,ae){var Q=0,Z=K.offset;return ae&&(Z*=-E,Q=K.offset*x),{x:Q,y:Z}}function F(K,ae,Q,Z){var re=function(se){return se*Q},q=function(se){return se*Z};K.each(function(se){var de=T.select(this);if(se.del)return de.remove();var we=de.select("text.nums"),ye=se.anchor,Pe="end"===ye?-1:1,Ie=function O(K){var ae={start:1,end:-1,middle:0}[K.anchor],Q=ae*(g+M),Z=Q+ae*(K.txwidth+M);return"middle"===K.anchor&&(Q-=K.tx2width/2,Z+=K.txwidth/2+M),{alignShift:ae,textShiftX:Q,text2ShiftX:Z}}(se),Se=z(se,ae),xe=Se.x,Me=Se.y,Ge="middle"===ye;de.select("path").attr("d",Ge?"M-"+re(se.bx/2+se.tx2width/2)+","+q(Me-se.by/2)+"h"+re(se.bx)+"v"+q(se.by)+"h-"+re(se.bx)+"Z":"M0,0L"+re(Pe*g+xe)+","+q(g+Me)+"v"+q(se.by/2-g)+"h"+re(Pe*se.bx)+"v-"+q(se.by)+"H"+re(Pe*g+xe)+"V"+q(Me-g)+"Z");var Ye=xe+Ie.textShiftX,De=Me+se.ty0-se.by/2+M,He=se.textAlign||"auto";"auto"!==He&&("left"===He&&"start"!==ye?(we.attr("text-anchor","start"),Ye=Ge?-se.bx/2-se.tx2width/2+M:-se.bx-M):"right"===He&&"end"!==ye&&(we.attr("text-anchor","end"),Ye=Ge?se.bx/2-se.tx2width/2-M:se.bx+M)),we.call(t.positionText,re(Ye),q(De)),se.tx2width&&(de.select("text.name").call(t.positionText,re(Ie.text2ShiftX+Ie.alignShift*M+xe),q(Me+se.ty0-se.by/2+M)),de.select("rect").call(l.setRect,re(Ie.text2ShiftX+(Ie.alignShift-1)*se.tx2width/2+xe),q(Me-se.by/2-1),re(se.tx2width),q(se.by+2)))})}function N(K,ae){var Q=K.index,Z=K.trace||{},re=K.cd[0],q=K.cd[Q]||{};function se(Se){return Se||D(Se)&&0===Se}var de=Array.isArray(Q)?function(Se,xe){var Me=P.castOption(re,Q,Se);return se(Me)?Me:P.extractOption({},Z,"",xe)}:function(Se,xe){return P.extractOption(q,Z,Se,xe)};function we(Se,xe,Me){var Ge=de(xe,Me);se(Ge)&&(K[Se]=Ge)}if(we("hoverinfo","hi","hoverinfo"),we("bgcolor","hbg","hoverlabel.bgcolor"),we("borderColor","hbc","hoverlabel.bordercolor"),we("fontFamily","htf","hoverlabel.font.family"),we("fontSize","hts","hoverlabel.font.size"),we("fontColor","htc","hoverlabel.font.color"),we("nameLength","hnl","hoverlabel.namelength"),we("textAlign","hta","hoverlabel.align"),K.posref="y"===ae||"closest"===ae&&"h"===Z.orientation?K.xa._offset+(K.x0+K.x1)/2:K.ya._offset+(K.y0+K.y1)/2,K.x0=P.constrain(K.x0,0,K.xa._length),K.x1=P.constrain(K.x1,0,K.xa._length),K.y0=P.constrain(K.y0,0,K.ya._length),K.y1=P.constrain(K.y1,0,K.ya._length),void 0!==K.xLabelVal&&(K.xLabel="xLabel"in K?K.xLabel:f.hoverLabelText(K.xa,K.xLabelVal,Z.xhoverformat),K.xVal=K.xa.c2d(K.xLabelVal)),void 0!==K.yLabelVal&&(K.yLabel="yLabel"in K?K.yLabel:f.hoverLabelText(K.ya,K.yLabelVal,Z.yhoverformat),K.yVal=K.ya.c2d(K.yLabelVal)),void 0!==K.zLabelVal&&void 0===K.zLabel&&(K.zLabel=String(K.zLabelVal)),!(isNaN(K.xerr)||"log"===K.xa.type&&K.xerr<=0)){var ye=f.tickText(K.xa,K.xa.c2l(K.xerr),"hover").text;K.xLabel+=void 0!==K.xerrneg?" +"+ye+" / -"+f.tickText(K.xa,K.xa.c2l(K.xerrneg),"hover").text:" \xb1 "+ye,"x"===ae&&(K.distance+=1)}if(!(isNaN(K.yerr)||"log"===K.ya.type&&K.yerr<=0)){var Pe=f.tickText(K.ya,K.ya.c2l(K.yerr),"hover").text;K.yLabel+=void 0!==K.yerrneg?" +"+Pe+" / -"+f.tickText(K.ya,K.ya.c2l(K.yerrneg),"hover").text:" \xb1 "+Pe,"y"===ae&&(K.distance+=1)}var Ie=K.hoverinfo||K.trace.hoverinfo;return Ie&&"all"!==Ie&&(-1===(Ie=Array.isArray(Ie)?Ie:Ie.split("+")).indexOf("x")&&(K.xLabel=void 0),-1===Ie.indexOf("y")&&(K.yLabel=void 0),-1===Ie.indexOf("z")&&(K.zLabel=void 0),-1===Ie.indexOf("text")&&(K.text=void 0),-1===Ie.indexOf("name")&&(K.name=void 0)),K}function H(K,ae,Q){var ye,Pe,Z=Q.container,re=Q.fullLayout,q=re._size,se=Q.event,de=!!ae.hLinePoint,we=!!ae.vLinePoint;if(Z.selectAll(".spikeline").remove(),we||de){var Ie=i.combine(re.plot_bgcolor,re.paper_bgcolor);if(de){var xe,Me,Se=ae.hLinePoint;ye=Se&&Se.xa,"cursor"===(Pe=Se&&Se.ya).spikesnap?(xe=se.pointerX,Me=se.pointerY):(xe=ye._offset+Se.x,Me=Pe._offset+Se.y);var Be,ze,Ye=o.readability(Se.color,Ie)<1.5?i.contrast(Ie):Se.color,De=Pe.spikemode,He=Pe.spikethickness,rt=Pe.spikecolor||Ye,$e=f.getPxPosition(K,Pe);if(-1!==De.indexOf("toaxis")||-1!==De.indexOf("across")){if(-1!==De.indexOf("toaxis")&&(Be=$e,ze=xe),-1!==De.indexOf("across")){var tt=Pe._counterDomainMin,lt=Pe._counterDomainMax;"free"===Pe.anchor&&(tt=Math.min(tt,Pe.position),lt=Math.max(lt,Pe.position)),Be=q.l+tt*q.w,ze=q.l+lt*q.w}Z.insert("line",":first-child").attr({x1:Be,x2:ze,y1:Me,y2:Me,"stroke-width":He,stroke:rt,"stroke-dasharray":l.dashStyle(Pe.spikedash,He)}).classed("spikeline",!0).classed("crisp",!0),Z.insert("line",":first-child").attr({x1:Be,x2:ze,y1:Me,y2:Me,"stroke-width":He+2,stroke:Ie}).classed("spikeline",!0).classed("crisp",!0)}-1!==De.indexOf("marker")&&Z.insert("circle",":first-child").attr({cx:$e+("right"!==Pe.side?He:-He),cy:Me,r:He,fill:rt}).classed("spikeline",!0)}if(we){var xt,bt,ut=ae.vLinePoint;Pe=ut&&ut.ya,"cursor"===(ye=ut&&ut.xa).spikesnap?(xt=se.pointerX,bt=se.pointerY):(xt=ye._offset+ut.x,bt=Pe._offset+ut.y);var Ne,_e,Je=o.readability(ut.color,Ie)<1.5?i.contrast(Ie):ut.color,Ce=ye.spikemode,Ee=ye.spikethickness,Re=ye.spikecolor||Je,ke=f.getPxPosition(K,ye);if(-1!==Ce.indexOf("toaxis")||-1!==Ce.indexOf("across")){if(-1!==Ce.indexOf("toaxis")&&(Ne=ke,_e=bt),-1!==Ce.indexOf("across")){var Te=ye._counterDomainMin,fe=ye._counterDomainMax;"free"===ye.anchor&&(Te=Math.min(Te,ye.position),fe=Math.max(fe,ye.position)),Ne=q.t+(1-fe)*q.h,_e=q.t+(1-Te)*q.h}Z.insert("line",":first-child").attr({x1:xt,x2:xt,y1:Ne,y2:_e,"stroke-width":Ee,stroke:Re,"stroke-dasharray":l.dashStyle(ye.spikedash,Ee)}).classed("spikeline",!0).classed("crisp",!0),Z.insert("line",":first-child").attr({x1:xt,x2:xt,y1:Ne,y2:_e,"stroke-width":Ee+2,stroke:Ie}).classed("spikeline",!0).classed("crisp",!0)}-1!==Ce.indexOf("marker")&&Z.insert("circle",":first-child").attr({cx:xt,cy:ke-("top"!==ye.side?Ee:-Ee),r:Ee,fill:Re}).classed("spikeline",!0)}}}function ne(K,ae){return!ae||ae.vLinePoint!==K._spikepoints.vLinePoint||ae.hLinePoint!==K._spikepoints.hLinePoint}function ie(K,ae){return t.plainText(K||"",{len:ae,allowedTags:["br","sub","sup","b","i","em"]})}function J(K,ae,Q){var Z=ae[K+"a"],re=ae[K+"Val"],q=ae.cd[0];if("category"===Z.type||"multicategory"===Z.type)re=Z._categoriesMap[re];else if("date"===Z.type){var se=ae.trace[K+"periodalignment"];if(se){var de=ae.cd[ae.index],we=de[K+"Start"];void 0===we&&(we=de[K]);var ye=de[K+"End"];void 0===ye&&(ye=de[K]);var Pe=ye-we;"end"===se?re+=Pe:"middle"===se&&(re+=Pe/2)}re=Z.d2c(re)}return q&&q.t&&q.t.posLetter===Z._id&&("group"===Q.boxmode||"group"===Q.violinmode)&&(re+=q.t.dPos),re}function j(K){return K.offsetTop+K.clientTop}function W(K){return K.offsetLeft+K.clientLeft}function V(K,ae){var Q=K._fullLayout,Z=ae.getBoundingClientRect(),re=Z.left,q=Z.top,se=re+Z.width,de=q+Z.height,we=P.apply3DTransform(Q._invTransform)(re,q),ye=P.apply3DTransform(Q._invTransform)(se,de),Pe=we[0],Ie=we[1],Se=ye[0],xe=ye[1];return{x:Pe,y:Ie,width:Se-Pe,height:xe-Ie,top:Math.min(Ie,xe),left:Math.min(Pe,Se),right:Math.max(Pe,Se),bottom:Math.max(Ie,xe)}}},38048:function(te,Y,e){"use strict";var T=e(71828),D=e(7901),o=e(23469).isUnifiedHover;te.exports=function(C,h,y,t){t=t||{};var r=h.legend;function l(i){t.font[i]||(t.font[i]=r?h.legend.font[i]:h.font[i])}h&&o(h.hovermode)&&(t.font||(t.font={}),l("size"),l("family"),l("color"),r?(t.bgcolor||(t.bgcolor=D.combine(h.legend.bgcolor,h.paper_bgcolor)),t.bordercolor||(t.bordercolor=h.legend.bordercolor)):t.bgcolor||(t.bgcolor=h.paper_bgcolor)),y("hoverlabel.bgcolor",t.bgcolor),y("hoverlabel.bordercolor",t.bordercolor),y("hoverlabel.namelength",t.namelength),T.coerceFont(y,"hoverlabel.font",t.font),y("hoverlabel.align",t.align)}},98212:function(te,Y,e){"use strict";var T=e(71828),D=e(528);te.exports=function(P,C){function h(y,t){return void 0!==C[y]?C[y]:T.coerce(P,C,D,y,t)}return h("clickmode"),h("hovermode")}},30211:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(28569),P=e(23469),C=e(528),h=e(88335);te.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:C},attributes:e(77914),layoutAttributes:C,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:P.getDistanceFunction,getClosest:P.getClosest,inbox:P.inbox,quadrature:P.quadrature,appendArrayPointValue:P.appendArrayPointValue,castHoverOption:function t(l,i,u){return D.castOption(l,i,"hoverlabel."+u)},castHoverinfo:function r(l,i,u){return D.castOption(l,u,"hoverinfo",function f(c){return D.coerceHoverinfo({hoverinfo:c},{_module:l._module},i)})},hover:h.hover,unhover:o.unhover,loneHover:h.loneHover,loneUnhover:function y(l){var i=D.isD3Selection(l)?l:T.select(l);i.selectAll("g.hovertext").remove(),i.selectAll(".spikeline").remove()},click:e(75914)}},528:function(te,Y,e){"use strict";var T=e(26675),D=e(41940),o=D({editType:"none"});o.family.dflt=T.HOVERFONT,o.size.dflt=T.HOVERFONTSIZE,te.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:o,grouptitlefont:D({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(te,Y,e){"use strict";var T=e(71828),D=e(528),o=e(98212),P=e(38048);te.exports=function(h,y){function t(c,m){return T.coerce(h,y,D,c,m)}o(h,y)&&(t("hoverdistance"),t("spikedistance")),"select"===t("dragmode")&&t("selectdirection");var i=y._has("mapbox"),u=y._has("geo"),f=y._basePlotModules.length;"zoom"===y.dragmode&&((i||u)&&1===f||i&&u&&2===f)&&(y.dragmode="pan"),P(h,y,t),T.coerceFont(t,"hoverlabel.grouptitlefont",y.hoverlabel.font)}},22774:function(te,Y,e){"use strict";var T=e(71828),D=e(38048),o=e(528);te.exports=function(C,h){D(C,h,function y(t,r){return T.coerce(C,h,o,t,r)})}},83312:function(te,Y,e){"use strict";var T=e(71828),D=e(30587).counter,o=e(27670).Y,P=e(85555).idRegex,C=e(44467),h={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[D("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[P.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[P.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function y(u,f,c){var m=f[c+"axes"],a=Object.keys((u._splomAxes||{})[c]||{});return Array.isArray(m)?m:a.length?a:void 0}function r(u,f,c,m,a,b){var p=f(u+"gap",c),s=f("domain."+u);f(u+"side",m);for(var v=new Array(a),A=s[0],x=(s[1]-A)/(a-p),E=x*(1-p),g=0;g<a;g++){var M=A+x*g;v[b?a-1-g:g]=[M,M+E]}return v}function i(u,f,c,m,a){var p,b=new Array(c);function s(v,A){-1!==f.indexOf(A)&&void 0===m[A]?(b[v]=A,m[A]=v):b[v]=""}if(Array.isArray(u))for(p=0;p<c;p++)s(p,u[p]);else for(s(0,a),p=1;p<c;p++)s(p,a+(p+1));return b}te.exports={moduleType:"component",name:"grid",schema:{layout:{grid:h}},layoutAttributes:h,sizeDefaults:function t(u,f){var c=u.grid||{},m=y(f,c,"x"),a=y(f,c,"y");if(u.grid||m||a){var A,x,b=Array.isArray(c.subplots)&&Array.isArray(c.subplots[0]),p=Array.isArray(m),s=Array.isArray(a),v=p&&m!==c.xaxes&&s&&a!==c.yaxes;b?(A=c.subplots.length,x=c.subplots[0].length):(s&&(A=a.length),p&&(x=m.length));var E=C.newContainer(f,"grid"),M=g("rows",A),w=g("columns",x);if(M*w>1){b||p||s||"independent"===g("pattern")&&(b=!0),E._hasSubplotGrid=b;var B,k,d="top to bottom"===g("roworder"),L=b?.3:.1;v&&f._splomGridDflt&&(B=f._splomGridDflt.xside,k=f._splomGridDflt.yside),E._domains={x:r("x",g,b?.2:.1,B,w),y:r("y",g,L,k,M,d)}}else delete f.grid}function g(z,O){return T.coerce(c,E,h,z,O)}},contentDefaults:function l(u,f){var c=f.grid;if(c&&c._domains){var A,x,E,g,M,w,n,m=u.grid||{},a=f._subplots,b=c._hasSubplotGrid,p=c.rows,s=c.columns,v="independent"===c.pattern,S=c._axisMap={};if(b){var d=m.subplots||[];w=c.subplots=new Array(p);var I=1;for(A=0;A<p;A++){var L=w[A]=new Array(s),B=d[A]||[];for(x=0;x<s;x++)if(v?(M=1===I?"xy":"x"+I+"y"+I,I++):M=B[x],L[x]="",-1!==a.cartesian.indexOf(M)){if(n=M.indexOf("y"),E=M.slice(0,n),g=M.slice(n),void 0!==S[E]&&S[E]!==x||void 0!==S[g]&&S[g]!==A)continue;L[x]=M,S[E]=x,S[g]=A}}}else{var k=y(f,m,"x"),z=y(f,m,"y");c.xaxes=i(k,a.xaxis,s,S,"x"),c.yaxes=i(z,a.yaxis,p,S,"y")}var O=c._anchors={},F="top to bottom"===c.roworder;for(var N in S){var ne,ie,ue,H=N.charAt(0),X=c[H+"side"];if(X.length<8)O[N]="free";else if("x"===H){if("t"===X.charAt(0)===F?(ne=0,ie=1,ue=p):(ne=p-1,ie=-1,ue=-1),b){var J=S[N];for(A=ne;A!==ue;A+=ie)if((M=w[A][J])&&(n=M.indexOf("y"),M.slice(0,n)===N)){O[N]=M.slice(n);break}}else for(A=ne;A!==ue;A+=ie)if(-1!==a.cartesian.indexOf(N+(g=c.yaxes[A]))){O[N]=g;break}}else if("l"===X.charAt(0)?(ne=0,ie=1,ue=s):(ne=s-1,ie=-1,ue=-1),b){var j=S[N];for(A=ne;A!==ue;A+=ie)if((M=w[j][A])&&(n=M.indexOf("y"),M.slice(n)===N)){O[N]=M.slice(0,n);break}}else for(A=ne;A!==ue;A+=ie)if(-1!==a.cartesian.indexOf((E=c.xaxes[A])+N)){O[N]=E;break}}}}}},69819:function(te,Y,e){"use strict";var T=e(85555),D=e(44467).templatedArray;e(24695),te.exports=D("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",T.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",T.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(te,Y,e){"use strict";var T=e(92770),D=e(58163);te.exports=function(P,C,h,y){C=C||{};var t="log"===h&&"linear"===C.type;if(t||"linear"===h&&"log"===C.type)for(var u,f,l=P._fullLayout.images,i=C._id.charAt(0),c=0;c<l.length;c++)if(f="images["+c+"].",(u=l[c])[i+"ref"]===C._id){var m=u[i],a=u["size"+i],b=null,p=null;if(t){b=D(m,C.range);var s=a/Math.pow(10,b)/2;p=2*Math.log(s+Math.sqrt(1+s*s))/Math.LN10}else p=(b=Math.pow(10,m))*(Math.pow(10,a/2)-Math.pow(10,-a/2));T(b)?T(p)||(p=null):(b=null,p=null),y(f+i,b),y(f+"size"+i,p)}}},81603:function(te,Y,e){"use strict";var T=e(71828),D=e(89298),o=e(85501),P=e(69819);function h(y,t,r){function l(s,v){return T.coerce(y,t,P,s,v)}var i=l("source");if(!l("visible",!!i))return t;l("layer"),l("xanchor"),l("yanchor"),l("sizex"),l("sizey"),l("sizing"),l("opacity");for(var f={_fullLayout:r},c=["x","y"],m=0;m<2;m++){var a=c[m],b=D.coerceRef(y,t,f,a,"paper",void 0);"paper"!==b&&D.getFromId(f,b)._imgIndices.push(t._index),D.coercePosition(t,f,l,b,a,0)}return t}te.exports=function(t,r){o(t,r,{name:"images",handleItemDefaults:h})}},80750:function(te,Y,e){"use strict";var T=e(39898),D=e(91424),o=e(89298),P=e(41675),C=e(77922);te.exports=function(y){var u,f,t=y._fullLayout,r=[],l={},i=[];for(f=0;f<t.images.length;f++){var c=t.images[f];if(c.visible)if("below"===c.layer&&"paper"!==c.xref&&"paper"!==c.yref){u=P.ref2id(c.xref)+P.ref2id(c.yref);var m=t._plots[u];if(!m){i.push(c);continue}m.mainplot&&(u=m.mainplot.id),l[u]||(l[u]=[]),l[u].push(c)}else"above"===c.layer?r.push(c):i.push(c)}var a_x={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},a_y={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function b(g){var M=T.select(this);if(this._imgSrc!==g.source)if(M.attr("xmlns",C.svg),g.source&&"data:"===g.source.slice(0,5))M.attr("xlink:href",g.source),this._imgSrc=g.source;else{var w=new Promise(function(n){var S=new Image;function d(){M.remove(),n()}this.img=S,S.setAttribute("crossOrigin","anonymous"),S.onerror=d,S.onload=function(){var I=document.createElement("canvas");I.width=this.width,I.height=this.height,I.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var B=I.toDataURL("image/png");M.attr("xlink:href",B),n()},M.on("error",d),S.src=g.source,this._imgSrc=g.source}.bind(this));y._promises.push(w)}}function p(g){var L,B,M=T.select(this),w=o.getFromId(y,g.xref),n=o.getFromId(y,g.yref),S="domain"===o.getRefType(g.xref),d="domain"===o.getRefType(g.yref),I=t._size;L=void 0!==w?"string"==typeof g.xref&&S?w._length*g.sizex:Math.abs(w.l2p(g.sizex)-w.l2p(0)):g.sizex*I.w,B=void 0!==n?"string"==typeof g.yref&&d?n._length*g.sizey:Math.abs(n.l2p(g.sizey)-n.l2p(0)):g.sizey*I.h;var F,N,k=L*a_x[g.xanchor].offset,z=B*a_y[g.yanchor].offset,O=a_x[g.xanchor].sizing+a_y[g.yanchor].sizing;switch(F=void 0!==w?"string"==typeof g.xref&&S?w._length*g.x+w._offset:w.r2p(g.x)+w._offset:g.x*I.w+I.l,F+=k,N=void 0!==n?"string"==typeof g.yref&&d?n._length*(1-g.y)+n._offset:n.r2p(g.y)+n._offset:I.h-g.y*I.h+I.t,N+=z,g.sizing){case"fill":O+=" slice";break;case"stretch":O="none"}M.attr({x:F,y:N,width:L,height:B,preserveAspectRatio:O,opacity:g.opacity});var ne=(w&&"domain"!==o.getRefType(g.xref)?w._id:"")+(n&&"domain"!==o.getRefType(g.yref)?n._id:"");D.setClipUrl(M,ne?"clip"+t._uid+ne:null,y)}var s=t._imageLowerLayer.selectAll("image").data(i),v=t._imageUpperLayer.selectAll("image").data(r);s.enter().append("image"),v.enter().append("image"),s.exit().remove(),v.exit().remove(),s.each(function(g){b.bind(this)(g),p.bind(this)(g)}),v.each(function(g){b.bind(this)(g),p.bind(this)(g)});var A=Object.keys(t._plots);for(f=0;f<A.length;f++){var x=t._plots[u=A[f]];if(x.imagelayer){var E=x.imagelayer.selectAll("image").data(l[u]||[]);E.enter().append("image"),E.exit().remove(),E.each(function(g){b.bind(this)(g),p.bind(this)(g)})}}}},68804:function(te,Y,e){"use strict";te.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(te,Y,e){"use strict";var T=e(41940),D=e(22399);te.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:D.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:T({editType:"legend"}),grouptitlefont:T({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:T({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(te){"use strict";te.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(te,Y,e){"use strict";var T=e(73972),D=e(71828),o=e(44467),P=e(9012),C=e(33030),h=e(10820),y=e(10130);function t(r,l,i,u){var f=l[r]||{},c=o.newContainer(i,r);function m(ue,J){return D.coerce(f,c,C,ue,J)}var a=D.coerceFont(m,"font",i.font);if(m("bgcolor",i.paper_bgcolor),m("bordercolor"),m("visible")){for(var p,s=function(ue,J){return D.coerce(p._input,p,P,ue,J)},v=i.font||{},A=D.coerceFont(m,"grouptitlefont",D.extendFlat({},v,{size:Math.round(1.1*v.size)})),x=0,E=!1,g="normal",M=(i.shapes||[]).filter(function(ue){return ue.showlegend}),w=u.concat(M).filter(function(ue){return r===(ue.legend||"legend")}),n=0;n<w.length;n++)if((p=w[n]).visible){var S=p._isShape;(p.showlegend||p._dfltShowLegend&&!(p._module&&p._module.attributes&&p._module.attributes.showlegend&&!1===p._module.attributes.showlegend.dflt))&&(x++,p.showlegend&&(E=!0,(!S&&T.traceIs(p,"pie-like")||!0===p._input.showlegend)&&x++),D.coerceFont(s,"legendgrouptitle.font",A)),(!S&&T.traceIs(p,"bar")&&"stack"===i.barmode||-1!==["tonextx","tonexty"].indexOf(p.fill))&&(g=y.isGrouped({traceorder:g})?"grouped+reversed":"reversed"),void 0!==p.legendgroup&&""!==p.legendgroup&&(g=y.isReversed({traceorder:g})?"reversed+grouped":"grouped")}var d=D.coerce(l,i,h,"showlegend",E&&x>("legend"===r?1:0));if(!1===d&&(i[r]=void 0),(!1!==d||f.uirevision)&&(m("uirevision",i.uirevision),!1!==d)){m("borderwidth");var F,N,H,k="h"===m("orientation"),z="paper"===m("yref"),O="paper"===m("xref"),X="left";if(k?(F=0,T.getComponentMethod("rangeslider","isVisible")(l.xaxis)?z?(N=1.1,H="bottom"):(N=1,H="top"):z?(N=-.1,H="top"):(N=0,H="bottom")):(N=1,H="auto",O?F=1.02:(F=1,X="right")),D.coerce(f,c,{x:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:F}},"x"),D.coerce(f,c,{y:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:N}},"y"),m("traceorder",g),y.isGrouped(i[r])&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("xanchor",X),m("yanchor",H),m("valign"),D.noneOrAll(f,c,["x","y"]),m("title.text")){m("title.side",k?"left":"top");var ie=D.extendFlat({},a,{size:D.bigFont(a.size)});D.coerceFont(m,"title.font",ie)}}}}te.exports=function(l,i,u){var f,c=u.slice(),m=i.shapes;if(m)for(f=0;f<m.length;f++){var a=m[f];a.showlegend&&c.push({_input:a._input,visible:a.visible,showlegend:a.showlegend,legend:a.legend})}var p=["legend"];for(f=0;f<c.length;f++)D.pushUnique(p,c[f].legend);for(i._legends=[],f=0;f<p.length;f++){var s=p[f];t(s,l,i,c),i[s]&&i[s].visible&&(i[s]._id=s),i._legends.push(s)}}},43969:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(74875),P=e(73972),C=e(11086),h=e(28569),y=e(91424),t=e(7901),r=e(63893),l=e(85167),i=e(14928),u=e(18783),f=u.LINE_SPACING,c=u.FROM_TL,m=u.FROM_BR,a=e(82424),b=e(53630),p=e(10130),s=1,v=/^legend[0-9]*$/;function x(F,N){var ie,ue,H=N||{},X=F._fullLayout,ne=O(H),J=H._inHover;if(J?(ue=H.layer,ie="hover"):(ue=X._infolayer,ie=ne),ue){var j;if(ie+=X._uid,F._legendMouseDownTime||(F._legendMouseDownTime=0),J){if(!H.entries)return;j=a(H.entries,H)}else{for(var W=(F.calcdata||[]).slice(),V=X.shapes,K=0;K<V.length;K++){var ae=V[K];ae.showlegend&&W.push([{trace:{_isShape:!0,_fullInput:ae,index:ae._index,name:ae.name||ae.label.text||"shape "+ae._index,legend:ae.legend,legendgroup:ae.legendgroup,legendgrouptitle:ae.legendgrouptitle,legendrank:ae.legendrank,legendwidth:ae.legendwidth,showlegend:ae.showlegend,visible:ae.visible,opacity:ae.opacity,mode:"line"===ae.type?"lines":"markers",line:ae.line,marker:{line:ae.line,color:ae.fillcolor,size:12,symbol:"rect"===ae.type?"square":"circle"===ae.type?"circle":"hexagon2"}}}])}j=X.showlegend&&a(W,H,X._legends.length>1)}var Z=X.hiddenlabels||[];if(!(J||X.showlegend&&j.length))return ue.selectAll("."+ne).remove(),X._topdefs.select("#"+ie).remove(),o.autoMargin(F,ne);var re=D.ensureSingle(ue,"g",ne,function(xe){J||xe.attr("pointer-events","all")}),q=D.ensureSingleById(X._topdefs,"clipPath",ie,function(xe){xe.append("rect")}),se=D.ensureSingle(re,"rect","bg",function(xe){xe.attr("shape-rendering","crispEdges")});se.call(t.stroke,H.bordercolor).call(t.fill,H.bgcolor).style("stroke-width",H.borderwidth+"px");var ye,de=D.ensureSingle(re,"g","scrollbox"),we=H.title;H._titleWidth=0,H._titleHeight=0,we.text?((ye=D.ensureSingle(de,"text",ne+"titletext")).attr("text-anchor","start").call(y.font,we.font).text(we.text),S(ye,de,F,H,s)):de.selectAll("."+ne+"titletext").remove();var Pe=D.ensureSingle(re,"rect","scrollbar",function(xe){xe.attr(i.scrollBarEnterAttrs).call(t.fill,i.scrollBarColor)}),Ie=de.selectAll("g.groups").data(j);Ie.enter().append("g").attr("class","groups"),Ie.exit().remove();var Se=Ie.selectAll("g.traces").data(D.identity);Se.enter().append("g").attr("class","traces"),Se.exit().remove(),Se.style("opacity",function(xe){var Me=xe[0].trace;return P.traceIs(Me,"pie-like")?-1!==Z.indexOf(xe[0].label)?.5:1:"legendonly"===Me.visible?.5:1}).each(function(){T.select(this).call(M,F,H)}).call(b,F,H).each(function(){J||T.select(this).call(n,F,ne)}),D.syncOrAsync([o.previousPromises,function(){return function L(F,N,H,X){var ne=F._fullLayout,ie=O(X);X||(X=ne[ie]);var ue=ne._size,J=p.isVertical(X),j=p.isGrouped(X),W="fraction"===X.entrywidthmode,V=X.borderwidth,K=2*V,ae=i.itemGap,Q=X.itemwidth+2*ae,Z=2*(V+ae),re=z(X),q=X.y<0||0===X.y&&"top"===re,se=X.y>1||1===X.y&&"bottom"===re,de=X.tracegroupgap,we={};X._maxHeight=Math.max(q||se?ne.height/2:ue.h,30);var ye=0;X._width=0,X._height=0;var Pe=function I(F){var N=0,H=0,X=F.title.side;return X&&(-1!==X.indexOf("left")&&(N=F._titleWidth),-1!==X.indexOf("top")&&(H=F._titleHeight)),[N,H]}(X);if(J)H.each(function(Ce){var Ee=Ce[0].height;y.setTranslate(this,V+Pe[0],V+Pe[1]+X._height+Ee/2+ae),X._height+=Ee,X._width=Math.max(X._width,Ce[0].width)}),ye=Q+X._width,X._width+=ae+Q+K,X._height+=Z,j&&(N.each(function(Ce,Ee){y.setTranslate(this,0,Ee*X.tracegroupgap)}),X._height+=(X._lgroupsLength-1)*X.tracegroupgap);else{var Ie=k(X),Me=se||q,Ge=ne.width/2;X._maxWidth=Math.max(X.x<0||0===X.x&&"right"===Ie?Me&&"left"===Ie?ue.l+ue.w:Ge:X.x>1||1===X.x&&"left"===Ie?Me&&"right"===Ie?ue.r+ue.w:Ge:ue.w,2*Q);var Ye=0,De=0;H.each(function(Ce){var Ee=E(Ce,X,Q);Ye=Math.max(Ye,Ee),De+=Ee}),ye=null;var He=0;if(j){var rt=0,$e=0,Be=0;N.each(function(){var Ce=0,Ee=0;T.select(this).selectAll("g.traces").each(function(ke){var Ne=E(ke,X,Q),_e=ke[0].height;y.setTranslate(this,Pe[0],Pe[1]+V+ae+_e/2+Ee),Ee+=_e,Ce=Math.max(Ce,Ne),we[ke[0].trace.legendgroup]=Ce});var Re=Ce+ae;$e>0&&Re+V+$e>X._maxWidth?(He=Math.max(He,$e),$e=0,Be+=rt+de,rt=Ee):rt=Math.max(rt,Ee),y.setTranslate(this,$e,Be),$e+=Re}),X._width=Math.max(He,$e)+V,X._height=Be+rt+Z}else{var ze=H.size(),tt=De+K+(ze-1)*ae<X._maxWidth,lt=0,ut=0,xt=0,bt=0;H.each(function(Ce){var Ee=Ce[0].height,Re=E(Ce,X,Q),ke=tt?Re:Ye;W||(ke+=ae),ke+V+ut-ae>=X._maxWidth&&(He=Math.max(He,bt),ut=0,xt+=lt,X._height+=lt,lt=0),y.setTranslate(this,Pe[0]+V+ut,Pe[1]+V+xt+Ee/2+ae),bt=ut+Re+ae,ut+=ke,lt=Math.max(lt,Ee)}),tt?(X._width=ut+K,X._height=lt+Z):(X._width=Math.max(He,bt)+K,X._height+=lt+Z)}}X._width=Math.ceil(Math.max(X._width+Pe[0],X._titleWidth+2*(V+i.titlePad))),X._height=Math.ceil(Math.max(X._height+Pe[1],X._titleHeight+2*(V+i.itemGap))),X._effHeight=Math.min(X._height,X._maxHeight);var Ht=F._context.edits,Je=Ht.legendText||Ht.legendPosition;H.each(function(Ce){var Ee=T.select(this).select("."+ie+"toggle"),Re=Ce[0].height,ke=Ce[0].trace.legendgroup,Ne=E(Ce,X,Q);j&&""!==ke&&(Ne=we[ke]);var _e=Je?Q:ye||Ne;!J&&!W&&(_e+=ae/2),y.setRect(Ee,0,-Re/2,_e,Re)})}(F,Ie,Se,H)},function(){var Te,fe,pe,Fe,xe=X._size,Me=H.borderwidth,Ge="paper"===H.xref,Ye="paper"===H.yref;if(we.text&&function A(F,N,H){if("top center"===N.title.side||"top right"===N.title.side){var ne=N.title.font.size*f,ie=0,ue=F.node(),J=y.bBox(ue).width;"top center"===N.title.side?ie=.5*(N._width-2*H-2*i.titlePad-J):"top right"===N.title.side&&(ie=N._width-2*H-2*i.titlePad-J),r.positionText(F,H+i.titlePad+ie,H+ne)}}(ye,H,Me),!J){var De,He;De=Ge?xe.l+xe.w*H.x-c[k(H)]*H._width:X.width*H.x-c[k(H)]*H._width,He=Ye?xe.t+xe.h*(1-H.y)-c[z(H)]*H._effHeight:X.height*(1-H.y)-c[z(H)]*H._effHeight;var rt=function B(F,N,H,X){var ne=F._fullLayout,ie=ne[N],ue=k(ie),J=z(ie),j="paper"===ie.xref,W="paper"===ie.yref;F._fullLayout._reservedMargin[N]={};var V=ie.y<.5?"b":"t",K=ie.x<.5?"l":"r",ae={r:ne.width-H,l:H+ie._width,b:ne.height-X,t:X+ie._effHeight};if(j&&W)return o.autoMargin(F,N,{x:ie.x,y:ie.y,l:ie._width*c[ue],r:ie._width*m[ue],b:ie._effHeight*m[J],t:ie._effHeight*c[J]});j?F._fullLayout._reservedMargin[N][V]=ae[V]:W||"v"===ie.orientation?F._fullLayout._reservedMargin[N][K]=ae[K]:F._fullLayout._reservedMargin[N][V]=ae[V]}(F,ne,De,He);if(rt)return;if(X.margin.autoexpand){var $e=De,Be=He;De=Ge?D.constrain(De,0,X.width-H._width):$e,He=Ye?D.constrain(He,0,X.height-H._effHeight):Be,De!==$e&&D.log("Constrain "+ne+".x to make legend fit inside graph"),He!==Be&&D.log("Constrain "+ne+".y to make legend fit inside graph")}y.setTranslate(re,De,He)}if(Pe.on(".drag",null),re.on("wheel",null),J||H._height<=H._maxHeight||F._context.staticPlot){var ze=H._effHeight;J&&(ze=H._height),se.attr({width:H._width-Me,height:ze-Me,x:Me/2,y:Me/2}),y.setTranslate(de,0,0),q.select("rect").attr({width:H._width-2*Me,height:ze-2*Me,x:Me,y:Me}),y.setClipUrl(de,ie,F),y.setRect(Pe,0,0,0,0),delete H._scrollY}else{var tt=Math.max(i.scrollBarMinHeight,H._effHeight*H._effHeight/H._height),lt=H._effHeight-tt-2*i.scrollBarMargin,ut=H._height-H._effHeight,xt=lt/ut,bt=Math.min(H._scrollY||0,ut);se.attr({width:H._width-2*Me+i.scrollBarWidth+i.scrollBarMargin,height:H._effHeight-Me,x:Me/2,y:Me/2}),q.select("rect").attr({width:H._width-2*Me+i.scrollBarWidth+i.scrollBarMargin,height:H._effHeight-2*Me,x:Me,y:Me+bt}),y.setClipUrl(de,ie,F),_e(bt,tt,xt),re.on("wheel",function(){_e(bt=D.constrain(H._scrollY+T.event.deltaY/lt*ut,0,ut),tt,xt),0!==bt&&bt!==ut&&T.event.preventDefault()});var Ht,Ce,ke=T.behavior.drag().on("dragstart",function(){var Xe=T.event.sourceEvent;Ht="touchstart"===Xe.type?Xe.changedTouches[0].clientY:Xe.clientY,Ce=bt}).on("drag",function(){var Xe=T.event.sourceEvent;2===Xe.buttons||Xe.ctrlKey||(bt=function(Xe,at,ft){return D.constrain((ft-at)/xt+Xe,0,ut)}(Ce,Ht,"touchmove"===Xe.type?Xe.changedTouches[0].clientY:Xe.clientY),_e(bt,tt,xt))});Pe.call(ke);var Ne=T.behavior.drag().on("dragstart",function(){var Xe=T.event.sourceEvent;"touchstart"===Xe.type&&(Ht=Xe.changedTouches[0].clientY,Ce=bt)}).on("drag",function(){var Xe=T.event.sourceEvent;"touchmove"===Xe.type&&(bt=function(Xe,at,ft){return D.constrain((at-ft)/xt+Xe,0,ut)}(Ce,Ht,Xe.changedTouches[0].clientY),_e(bt,tt,xt))});de.call(Ne)}function _e(Xe,at,ft){H._scrollY=F._fullLayout[ne]._scrollY=Xe,y.setTranslate(de,0,-Xe),y.setRect(Pe,H._width,i.scrollBarMargin+Xe*ft,i.scrollBarWidth,at),q.select("rect").attr("y",Me+Xe)}F._context.edits.legendPosition&&(re.classed("cursor-move",!0),h.init({element:re.node(),gd:F,prepFn:function(){var Xe=y.getTranslate(re);pe=Xe.x,Fe=Xe.y},moveFn:function(Xe,at){var ft=pe+Xe,Xt=Fe+at;y.setTranslate(re,ft,Xt),Te=h.align(ft,H._width,xe.l,xe.l+xe.w,H.xanchor),fe=h.align(Xt+H._height,-H._height,xe.t+xe.h,xe.t,H.yanchor)},doneFn:function(){if(void 0!==Te&&void 0!==fe){var Xe={};Xe[ne+".x"]=Te,Xe[ne+".y"]=fe,P.call("_guiRelayout",F,Xe)}},clickFn:function(Xe,at){var ft=ue.selectAll("g.traces").filter(function(){var Xt=this.getBoundingClientRect();return at.clientX>=Xt.left&&at.clientX<=Xt.right&&at.clientY>=Xt.top&&at.clientY<=Xt.bottom});ft.size()>0&&g(F,re,ft,Xe,at)}}))}],F)}}function E(F,N,H){var X=F[0],ue=X.trace.legendwidth||N.entrywidth;return"fraction"===N.entrywidthmode?N._maxWidth*ue:H+(ue||X.width)}function g(F,N,H,X,ne){var ie=H.data()[0][0].trace,ue={event:ne,node:H.node(),curveNumber:ie.index,expandedIndex:ie._expandedIndex,data:F.data,layout:F.layout,frames:F._transitionData._frames,config:F._context,fullData:F._fullData,fullLayout:F._fullLayout};ie._group&&(ue.group=ie._group),P.traceIs(ie,"pie-like")&&(ue.label=H.datum()[0].label);var J=C.triggerHandler(F,"plotly_legendclick",ue);if(1===X){if(!1===J)return;N._clickTimeout=setTimeout(function(){F._fullLayout&&l(H,F,X)},F._context.doubleClickDelay)}else 2===X&&(N._clickTimeout&&clearTimeout(N._clickTimeout),F._legendMouseDownTime=0,!1!==C.triggerHandler(F,"plotly_legenddoubleclick",ue)&&!1!==J&&l(H,F,X))}function M(F,N,H){var W,V,X=O(H),ne=F.data()[0][0],ie=ne.trace,ue=P.traceIs(ie,"pie-like"),J=!H._inHover&&N._context.edits.legendText&&!ue,j=H._maxNameLength;ne.groupTitle?(W=ne.groupTitle.text,V=ne.groupTitle.font):(V=H.font,H.entries?W=ne.text:(W=ue?ne.label:ie.name,ie._meta&&(W=D.templateString(W,ie._meta))));var K=D.ensureSingle(F,"text",X+"text");K.attr("text-anchor","start").call(y.font,V).text(J?w(W,j):W),r.positionText(K,H.itemwidth+2*i.itemGap,0),J?K.call(r.makeEditable,{gd:N,text:W}).call(S,F,N,H).on("edit",function(Q){this.text(w(Q,j)).call(S,F,N,H);var Z=ne.trace._fullInput||{},re={};if(P.hasTransform(Z,"groupby")){var q=P.getTransformIndices(Z,"groupby"),de=D.keyedContainer(Z,"transforms["+q[q.length-1]+"].styles","target","value.name");de.set(ne.trace._group,Q),re=de.constructUpdate()}else re.name=Q;return Z._isShape?P.call("_guiRelayout",N,"shapes["+ie.index+"].name",re.name):P.call("_guiRestyle",N,re,ie.index)}):S(K,F,N,H)}function w(F,N){var H=Math.max(4,N);if(F&&F.trim().length>=H/2)return F;for(var X=H-(F=F||"").length;X>0;X--)F+=" ";return F}function n(F,N,H){var ne,X=N._context.doubleClickDelay,ie=1,ue=D.ensureSingle(F,"rect",H+"toggle",function(J){N._context.staticPlot||J.style("cursor","pointer").attr("pointer-events","all"),J.call(t.fill,"rgba(0,0,0,0)")});N._context.staticPlot||(ue.on("mousedown",function(){(ne=(new Date).getTime())-N._legendMouseDownTime<X?ie+=1:(ie=1,N._legendMouseDownTime=ne)}),ue.on("mouseup",function(){if(!N._dragged&&!N._editing){var J=N._fullLayout[H];(new Date).getTime()-N._legendMouseDownTime>X&&(ie=Math.max(ie-1,1)),g(N,J,F,ie,T.event)}}))}function S(F,N,H,X,ne){X._inHover&&F.attr("data-notex",!0),r.convertToTspans(F,H,function(){!function d(F,N,H,X){var ne=F.data()[0][0];if(H._inHover||!ne||ne.trace.showlegend){var ie=F.select("g[class*=math-group]"),ue=ie.node(),J=O(H);H||(H=N._fullLayout[J]);var K,ae,j=H.borderwidth,V=(X===s?H.title.font:ne.groupTitle?ne.groupTitle.font:H.font).size*f;if(ue){var Q=y.bBox(ue);K=Q.height,ae=Q.width,X===s?y.setTranslate(ie,j,j+.75*K):y.setTranslate(ie,0,.25*K)}else{var re=F.select("."+J+(X===s?"title":"")+"text"),q=r.lineCount(re),se=re.node();if(K=V*q,ae=se?y.bBox(se).width:0,X===s)"left"===H.title.side&&(ae+=2*i.itemGap),r.positionText(re,j+i.titlePad,j+V);else{var de=2*i.itemGap+H.itemwidth;ne.groupTitle&&(de=i.itemGap,ae-=H.itemwidth),r.positionText(re,de,-V*((q-1)/2-.3))}}X===s?(H._titleWidth=ae,H._titleHeight=K):(ne.lineHeight=V,ne.height=Math.max(K,16)+3,ne.width=ae)}else F.remove()}(N,H,X,ne)})}function k(F){return D.isRightAnchor(F)?"right":D.isCenterAnchor(F)?"center":"left"}function z(F){return D.isBottomAnchor(F)?"bottom":D.isMiddleAnchor(F)?"middle":"top"}function O(F){return F._id||"legend"}te.exports=function(N,H){if(H)x(N,H);else{var X=N._fullLayout,ne=X._legends;X._infolayer.selectAll('[class^="legend"]').each(function(){var W=T.select(this),K=W.attr("class").split(" ")[0];K.match(v)&&-1===ne.indexOf(K)&&W.remove()});for(var ue=0;ue<ne.length;ue++)x(N,N._fullLayout[ne[ue]])}}},82424:function(te,Y,e){"use strict";var T=e(73972),D=e(10130);te.exports=function(P,C,h){var a,b,y=C._inHover,t=D.isGrouped(C),r=D.isReversed(C),l={},i=[],u=!1,f={},c=0,m=0;function p(F,N,H){if(!1!==C.visible&&(!h||F===C._id))if(""!==N&&D.isGrouped(C))-1===i.indexOf(N)?(i.push(N),u=!0,l[N]=[H]):l[N].push(H);else{var X="~~i"+c;i.push(X),l[X]=[H],c++}}for(a=0;a<P.length;a++){var s=P[a],v=s[0],A=v.trace,x=A.legend,E=A.legendgroup;if(y||A.visible&&A.showlegend)if(T.traceIs(A,"pie-like"))for(f[E]||(f[E]={}),b=0;b<s.length;b++){var g=s[b].label;f[E][g]||(p(x,E,{label:g,color:s[b].color,i:s[b].i,trace:A,pts:s[b].pts}),f[E][g]=!0,m=Math.max(m,(g||"").length))}else p(x,E,v),m=Math.max(m,(A.name||"").length)}if(!i.length)return[];var M=!u||!t,w=[];for(a=0;a<i.length;a++){var n=l[i[a]];w.push(M?n[0]:n)}for(M&&(w=[w]),a=0;a<w.length;a++){var S=1/0;for(b=0;b<w[a].length;b++){var d=w[a][b].trace.legendrank;S>d&&(S=d)}w[a][0]._groupMinRank=S,w[a][0]._preGroupSort=a}var L=function(F,N){return F.trace.legendrank-N.trace.legendrank||F._preSort-N._preSort};for(w.forEach(function(F,N){F[0]._preGroupSort=N}),w.sort(function(F,N){return F[0]._groupMinRank-N[0]._groupMinRank||F[0]._preGroupSort-N[0]._preGroupSort}),a=0;a<w.length;a++){w[a].forEach(function(F,N){F._preSort=N}),w[a].sort(L);var B=w[a][0].trace,k=null;for(b=0;b<w[a].length;b++){var z=w[a][b].trace.legendgrouptitle;if(z&&z.text){k=z,y&&(z.font=C._groupTitleFont);break}}if(r&&w[a].reverse(),k){var O=!1;for(b=0;b<w[a].length;b++)if(T.traceIs(w[a][b].trace,"pie-like")){O=!0;break}w[a].unshift({i:-1,groupTitle:k,noClick:O,trace:{showlegend:B.showlegend,legendgroup:B.legendgroup,visible:"toggleitem"===C.groupclick||B.visible}})}for(b=0;b<w[a].length;b++)w[a][b]=[w[a][b]]}return C._lgroupsLength=w.length,C._maxNameLength=m,w}},85167:function(te,Y,e){"use strict";var T=e(73972),D=e(71828),o=D.pushUnique,P=!0;te.exports=function(h,y,t){var r=y._fullLayout;if(!y._dragged&&!y._editing){var f,l=r.legend.itemclick,i=r.legend.itemdoubleclick,u=r.legend.groupclick;if(1===t&&"toggle"===l&&"toggleothers"===i&&P&&y.data&&y._context.showTips&&D.notifier(D._(y,"Double-click on legend to isolate one trace"),"long"),P=!1,1===t?f=l:2===t&&(f=i),f){var c="togglegroup"===u,m=r.hiddenlabels?r.hiddenlabels.slice():[],a=h.data()[0][0];if(!a.groupTitle||!a.noClick){var b=y._fullData,p=(r.shapes||[]).filter(function(Ge){return Ge.showlegend}),s=b.concat(p),v=a.trace;v._isShape&&(v=v._fullInput);var x,E,g,M,w,A=v.legendgroup,S={},d=[],I=[],L=[],k=(r.shapes||[]).map(function(Ge){return Ge._input}),z=!1,N=v.legend,H=v._fullInput;if(H&&H._isShape||!T.traceIs(v,"pie-like")){var re,Q=A&&A.length,Z=[];if(Q)for(x=0;x<s.length;x++)(re=s[x]).visible&&re.legendgroup===A&&Z.push(x);if("toggle"===f){var q;switch(v.visible){case!0:q="legendonly";break;case!1:q=!1;break;case"legendonly":q=!0}if(Q)if(c)for(x=0;x<s.length;x++){var se=s[x];!1!==se.visible&&se.legendgroup===A&&F(se,q)}else F(v,q);else F(v,q)}else if("toggleothers"===f){var we,ye,Ie,Se=!0;for(x=0;x<s.length;x++)if(ye=!0!==(Ie=s[x]).showlegend,!(Ie===v||ye||(we=Q&&Ie.legendgroup===A,we||Ie.legend!==N||!0!==Ie.visible||T.traceIs(Ie,"notLegendIsolatable")))){Se=!1;break}for(x=0;x<s.length;x++)if(!1!==(Ie=s[x]).visible&&Ie.legend===N&&!T.traceIs(Ie,"notLegendIsolatable"))switch(v.visible){case"legendonly":F(Ie,!0);break;case!0:ye=!0!==Ie.showlegend&&!Ie.legendgroup,F(Ie,!(!(we=Ie===v||Q&&Ie.legendgroup===A)&&!ye)||!!Se||"legendonly")}}for(x=0;x<I.length;x++)if(g=I[x]){var xe=g.constructUpdate(),Me=Object.keys(xe);for(E=0;E<Me.length;E++)(S[M=Me[E]]=S[M]||[])[L[x]]=xe[M]}for(w=Object.keys(S),x=0;x<w.length;x++)for(M=w[x],E=0;E<d.length;E++)S[M].hasOwnProperty(E)||(S[M][E]=void 0);z?T.call("_guiUpdate",y,S,{shapes:k},d):T.call("_guiRestyle",y,S,d)}else{var ne=a.label,ie=m.indexOf(ne);if("toggle"===f)-1===ie?m.push(ne):m.splice(ie,1);else if("toggleothers"===f){var ue=-1!==ie,J=[];for(x=0;x<y.calcdata.length;x++){var j=y.calcdata[x];for(E=0;E<j.length;E++){var V=j[E].label;N===j[0].trace.legend&&ne!==V&&(-1===m.indexOf(V)&&(ue=!0),o(m,V),J.push(V))}}if(!ue)for(var K=0;K<J.length;K++){var ae=m.indexOf(J[K]);-1!==ae&&m.splice(ae,1)}}T.call("_guiRelayout",y,"hiddenlabels",m)}}}}function B(Ge,Ye){var De=d.indexOf(Ge),He=S.visible;return He||(He=S.visible=[]),-1===d.indexOf(Ge)&&(d.push(Ge),De=d.length-1),He[De]=Ye,De}function F(Ge,Ye){if(!a.groupTitle||c){var De=Ge._fullInput||Ge,He=De._isShape,rt=De.index;if(void 0===rt&&(rt=De._index),T.hasTransform(De,"groupby")){var $e=I[rt];if(!$e){var Be=T.getTransformIndices(De,"groupby");$e=D.keyedContainer(De,"transforms["+Be[Be.length-1]+"].styles","target","value.visible"),I[rt]=$e}var tt=$e.get(Ge._group);void 0===tt&&(tt=!0),!1!==tt&&$e.set(Ge._group,Ye),L[rt]=B(rt,!1!==De.visible)}else{var lt=!1!==De.visible&&Ye;He?function O(Ge,Ye){k[Ge].visible=Ye,z=!0}(rt,lt):B(rt,lt)}}}}},10130:function(te,Y){"use strict";Y.isGrouped=function(T){return-1!==(T.traceorder||"").indexOf("grouped")},Y.isVertical=function(T){return"h"!==T.orientation},Y.isReversed=function(T){return-1!==(T.traceorder||"").indexOf("reversed")}},2199:function(te,Y,e){"use strict";te.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(te,Y,e){"use strict";var T=e(39898),D=e(73972),o=e(71828),P=o.strTranslate,C=e(91424),h=e(7901),y=e(52075).extractOpts,t=e(34098),r=e(63463),l=e(53581).castOption,i=e(14928);function b(v,A){return(A?"radial":"horizontal")+(v?"":"reversed")}function p(v){var A=v[0].trace,x=A.contours,E=t.hasLines(A),g=t.hasMarkers(A),M=A.visible&&A.fill&&"none"!==A.fill,w=!1,n=!1;if(x){var S=x.coloring;"lines"===S?w=!0:E="none"===S||"heatmap"===S||x.showlines,"constraint"===x.type?M="="!==x._operation:("fill"===S||"heatmap"===S)&&(n=!0)}return{showMarker:g,showLine:E,showFill:M,showGradientLine:w,showGradientFill:n,anyLine:E||w,anyFill:M||n}}function s(v,A,x){return v&&o.isArrayOrTypedArray(v)?A:v>x?x:v}te.exports=function(A,x,E){E||(E=x._fullLayout.legend);var M="constant"===E.itemsizing,w=E.itemwidth,S=P((w+2*i.itemGap)/2,0),d=function(J,j,W,V){var K;if(J+1)K=J;else{if(!(j&&j.width>0))return 0;K=j.width}return M?V:Math.min(K,W)};function O(J,j,W){var V=J[0].trace,K=V.marker||{},ae=K.line||{},Q=W?V.visible&&V.type===W:D.traceIs(V,"bar"),Z=T.select(j).select("g.legendpoints").selectAll("path.legend"+W).data(Q?[J]:[]);Z.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",S),Z.exit().remove(),Z.each(function(re){var q=T.select(this),se=re[0],de=d(se.mlw,K.line,5,2);q.style("stroke-width",de+"px");var we=se.mcc;if(!E._inHover&&"mc"in se){var ye=y(K),Pe=ye.mid;void 0===Pe&&(Pe=(ye.max+ye.min)/2),we=C.tryColorscale(K,"")(Pe)}var Ie=we||se.mc||K.color,Se=K.pattern,xe=Se&&C.getPatternAttr(Se.shape,0,"");if(xe){var Me=C.getPatternAttr(Se.bgcolor,0,null),Ge=C.getPatternAttr(Se.fgcolor,0,null),Ye=Se.fgopacity,De=s(Se.size,8,10),He=s(Se.solidity,.5,1);q.call(C.pattern,"legend",x,"legend-"+V.uid,xe,De,He,we,Se.fillmode,Me,Ge,Ye)}else q.call(h.fill,Ie);de&&h.stroke(q,se.mlc||ae.color)})}function ie(J,j,W){var V=J[0],K=V.trace,ae=W?K.visible&&K.type===W:D.traceIs(K,W),Q=T.select(j).select("g.legendpoints").selectAll("path.legend"+W).data(ae?[J]:[]);if(Q.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",S),Q.exit().remove(),Q.size()){var Z=K.marker||{},re=d(l(Z.line.width,V.pts),Z.line,5,2),q="pieLike",se=o.minExtend(K,{marker:{line:{width:re}}},q),de=o.minExtend(V,{trace:se},q);r(Q,de,se,x)}}A.each(function(J){var j=T.select(this),W=o.ensureSingle(j,"g","layers");W.style("opacity",J[0].trace.opacity);var V=E.valign,K=J[0].lineHeight,ae=J[0].height;W.attr("transform","middle"!==V&&K&&ae?P(0,{top:1,bottom:-1}[V]*(.5*(K-ae+3))):null),W.selectAll("g.legendfill").data([J]).enter().append("g").classed("legendfill",!0),W.selectAll("g.legendlines").data([J]).enter().append("g").classed("legendlines",!0);var se=W.selectAll("g.legendsymbols").data([J]);se.enter().append("g").classed("legendsymbols",!0),se.selectAll("g.legendpoints").data([J]).enter().append("g").classed("legendpoints",!0)}).each(function ue(J){var W,j=J[0].trace,V=[];if(j.visible)switch(j.type){case"histogram2d":case"heatmap":V=[["M-15,-2V4H15V-2Z"]],W=!0;break;case"choropleth":case"choroplethmapbox":V=[["M-6,-6V6H6V-6Z"]],W=!0;break;case"densitymapbox":V=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],W="radial";break;case"cone":V=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],W=!1;break;case"streamtube":V=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],W=!1;break;case"surface":V=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],W=!0;break;case"mesh3d":V=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],W=!1;break;case"volume":V=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],W=!0;break;case"isosurface":V=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],W=!1}var K=T.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(V);K.enter().append("path").classed("legend3dandfriends",!0).attr("transform",S).style("stroke-miterlimit",1),K.exit().remove(),K.each(function(ae,Q){var we,Z=T.select(this),re=y(j),q=re.colorscale,se=re.reversescale;if(q){if(!W){var Pe=q.length;we=0===Q?q[se?Pe-1:0][1]:1===Q?q[se?0:Pe-1][1]:q[Math.floor((Pe-1)/2)][1]}}else{var ye=j.vertexcolor||j.facecolor||j.color;we=o.isArrayOrTypedArray(ye)?ye[Q]||ye[0]:ye}Z.attr("d",ae[0]),we?Z.call(h.fill,we):Z.call(function(Ie){Ie.size()&&C.gradient(Ie,x,"legendfill-"+j.uid,b(se,"radial"===W),q,"fill")})})}).each(function B(J){var j=J[0].trace,W="waterfall"===j.type;if(J[0]._distinct&&W){var V=J[0].trace[J[0].dir].marker;return J[0].mc=V.color,J[0].mlw=V.line.width,J[0].mlc=V.line.color,O(J,this,"waterfall")}var K=[];j.visible&&W&&(K=J[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var ae=T.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(K);ae.enter().append("path").classed("legendwaterfall",!0).attr("transform",S).style("stroke-miterlimit",1),ae.exit().remove(),ae.each(function(Q){var Z=T.select(this),re=j[Q[0]].marker,q=d(void 0,re.line,5,2);Z.attr("d",Q[1]).style("stroke-width",q+"px").call(h.fill,re.color),q&&Z.call(h.stroke,re.line.color)})}).each(function z(J){O(J,this,"funnel")}).each(function k(J){O(J,this)}).each(function F(J){var j=J[0].trace,W=T.select(this).select("g.legendpoints").selectAll("path.legendbox").data(j.visible&&D.traceIs(j,"box-violin")?[J]:[]);W.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",S),W.exit().remove(),W.each(function(){var V=T.select(this);if("all"!==j.boxpoints&&"all"!==j.points||0!==h.opacity(j.fillcolor)||0!==h.opacity((j.line||{}).color)){var ae=d(void 0,j.line,5,2);V.style("stroke-width",ae+"px").call(h.fill,j.fillcolor),ae&&h.stroke(V,j.line.color)}else{var K=o.minExtend(j,{marker:{size:M?12:o.constrain(j.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});W.call(C.pointStyle,K,x)}})}).each(function ne(J){ie(J,this,"funnelarea")}).each(function X(J){ie(J,this,"pie")}).each(function I(J){var se,de,j=p(J),W=j.showFill,V=j.showLine,K=j.showGradientLine,ae=j.showGradientFill,Q=j.anyFill,Z=j.anyLine,re=J[0],q=re.trace,we=y(q),ye=we.colorscale,Pe=we.reversescale,xe=t.hasMarkers(q)||!Q?"M5,0":Z?"M5,-2":"M5,-3",Me=T.select(this),Ge=Me.select(".legendfill").selectAll("path").data(W||ae?[J]:[]);if(Ge.enter().append("path").classed("js-fill",!0),Ge.exit().remove(),Ge.attr("d",xe+"h"+w+"v6h-"+w+"z").call(function(He){He.size()&&(W?C.fillGroupStyle(He,x):C.gradient(He,x,"legendfill-"+q.uid,b(Pe),ye,"fill"))}),V||K){var Ye=d(void 0,q.line,10,5);de=o.minExtend(q,{line:{width:Ye}}),se=[o.minExtend(re,{trace:de})]}var De=Me.select(".legendlines").selectAll("path").data(V||K?[se]:[]);De.enter().append("path").classed("js-line",!0),De.exit().remove(),De.attr("d",xe+(K?"l"+w+",0.0001":"h"+w)).call(V?C.lineGroupStyle:function(He){if(He.size()){var rt="legendline-"+q.uid;C.lineGroupStyle(He),C.gradient(He,x,rt,b(Pe),ye,"stroke")}})}).each(function L(J){var q,se,j=p(J),K=j.showLine,ae=j.showMarker,Q=J[0],Z=Q.trace,re=!ae&&!j.anyLine&&!j.anyFill&&t.hasText(Z);function de(Ge,Ye,De,He){var rt=o.nestedProperty(Z,Ge).get(),$e=o.isArrayOrTypedArray(rt)&&Ye?Ye(rt):rt;if(M&&$e&&void 0!==He&&($e=He),De){if($e<De[0])return De[0];if($e>De[1])return De[1]}return $e}function we(Ge){return Q._distinct&&Q.index&&Ge[Q.index]?Ge[Q.index]:Ge[0]}if(ae||re||K){var ye={},Pe={};if(ae){ye.mc=de("marker.color",we),ye.mx=de("marker.symbol",we),ye.mo=de("marker.opacity",o.mean,[.2,1]),ye.mlc=de("marker.line.color",we),ye.mlw=de("marker.line.width",o.mean,[0,5],2),Pe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ie=de("marker.size",o.mean,[2,16],12);ye.ms=Ie,Pe.marker.size=Ie}K&&(Pe.line={width:de("line.width",we,[0,10],5)}),re&&(ye.tx="Aa",ye.tp=de("textposition",we),ye.ts=10,ye.tc=de("textfont.color",we),ye.tf=de("textfont.family",we)),q=[o.minExtend(Q,ye)],(se=o.minExtend(Z,Pe)).selectedpoints=null,se.texttemplate=null}var Se=T.select(this).select("g.legendpoints"),xe=Se.selectAll("path.scatterpts").data(ae?q:[]);xe.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",S),xe.exit().remove(),xe.call(C.pointStyle,se,x),ae&&(q[0].mrc=3);var Me=Se.selectAll("g.pointtext").data(re?q:[]);Me.enter().append("g").classed("pointtext",!0).append("text").attr("transform",S),Me.exit().remove(),Me.selectAll("text").call(C.textPointStyle,se,x)}).each(function N(J){var j=J[0].trace,W=T.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(j.visible&&"candlestick"===j.type?[J,J]:[]);W.enter().append("path").classed("legendcandle",!0).attr("d",function(V,K){return K?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",S).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(V,K){var ae=T.select(this),Q=j[K?"increasing":"decreasing"],Z=d(void 0,Q.line,5,2);ae.style("stroke-width",Z+"px").call(h.fill,Q.fillcolor),Z&&h.stroke(ae,Q.line.color)})}).each(function H(J){var j=J[0].trace,W=T.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(j.visible&&"ohlc"===j.type?[J,J]:[]);W.enter().append("path").classed("legendohlc",!0).attr("d",function(V,K){return K?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",S).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(V,K){var ae=T.select(this),Q=j[K?"increasing":"decreasing"],Z=d(void 0,Q.line,5,2);ae.style("fill","none").call(C.dashLine,Q.line.dash,Z),Z&&h.stroke(ae,Q.line.color)})})}},42068:function(te,Y,e){"use strict";e(93348),te.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(te,Y,e){"use strict";var T=e(73972),D=e(74875),o=e(41675),P=e(24255),C=e(34031).eraseActiveShape,h=e(71828),y=h._,t=te.exports={};function r(v,A){var d,I,x=A.currentTarget,E=x.getAttribute("data-attr"),g=x.getAttribute("data-val")||!0,M=v._fullLayout,w={},n=o.list(v,null,!0),S=M._cartesianSpikesEnabled;if("zoom"===E){var z,L="in"===g?.5:2,B=(1+L)/2,k=(1-L)/2;for(I=0;I<n.length;I++)if(!(d=n[I]).fixedrange)if(z=d._name,"auto"===g)w[z+".autorange"]=!0;else if("reset"===g)void 0===d._rangeInitial0&&void 0===d._rangeInitial1?w[z+".autorange"]=!0:void 0===d._rangeInitial0?(w[z+".autorange"]=d._autorangeInitial,w[z+".range"]=[null,d._rangeInitial1]):void 0===d._rangeInitial1?(w[z+".range"]=[d._rangeInitial0,null],w[z+".autorange"]=d._autorangeInitial):w[z+".range"]=[d._rangeInitial0,d._rangeInitial1],void 0!==d._showSpikeInitial&&(w[z+".showspikes"]=d._showSpikeInitial,"on"===S&&!d._showSpikeInitial&&(S="off"));else{var O=[d.r2l(d.range[0]),d.r2l(d.range[1])],F=[B*O[0]+k*O[1],B*O[1]+k*O[0]];w[z+".range[0]"]=d.l2r(F[0]),w[z+".range[1]"]=d.l2r(F[1])}}else"hovermode"===E&&("x"===g||"y"===g)&&x.setAttribute("data-val",g=M._isHoriz?"y":"x"),w[E]=g;M._cartesianSpikesEnabled=S,T.call("_guiRelayout",v,w)}function l(v,A){for(var x=A.currentTarget,E=x.getAttribute("data-attr"),g=x.getAttribute("data-val")||!0,M=v._fullLayout._subplots.gl3d||[],w={},n=E.split("."),S=0;S<M.length;S++)w[M[S]+"."+n[1]]=g;w.dragmode="pan"===g?g:"zoom",T.call("_guiRelayout",v,w)}function i(v,A){for(var E=A.currentTarget.getAttribute("data-attr"),g="resetLastSave"===E,M="resetDefault"===E,w=v._fullLayout,n=w._subplots.gl3d||[],S={},d=0;d<n.length;d++){var O,I=n[d],L=I+".camera",B=I+".aspectratio",k=I+".aspectmode",z=w[I]._scene;g?(S[L+".up"]=z.viewInitial.up,S[L+".eye"]=z.viewInitial.eye,S[L+".center"]=z.viewInitial.center,O=!0):M&&(S[L+".up"]=null,S[L+".eye"]=null,S[L+".center"]=null,O=!0),O&&(S[B+".x"]=z.viewInitial.aspectratio.x,S[B+".y"]=z.viewInitial.aspectratio.y,S[B+".z"]=z.viewInitial.aspectratio.z,S[k]=z.viewInitial.aspectmode)}T.call("_guiRelayout",v,S)}function u(v,A){var x=A.currentTarget,E=x._previousVal,g=v._fullLayout,M=g._subplots.gl3d||[],w=["xaxis","yaxis","zaxis"],n={},S={};if(E)S=E,x._previousVal=null;else{for(var d=0;d<M.length;d++){var I=M[d],L=g[I],B=I+".hovermode";n[B]=L.hovermode,S[B]=!1;for(var k=0;k<3;k++){var z=w[k],O=I+"."+z+".showspikes";S[O]=!1,n[O]=L[z].showspikes}}x._previousVal=n}return S}function c(v,A){for(var x=A.currentTarget,E=x.getAttribute("data-attr"),g=x.getAttribute("data-val")||!0,M=v._fullLayout,w=M._subplots.geo||[],n=0;n<w.length;n++){var S=w[n];if("zoom"===E){var I=M[S].projection.scale;T.call("_guiRelayout",v,S+".projection.scale","in"===g?2*I:.5*I)}}"reset"===E&&s(v,"geo")}function m(v){var A=v._fullLayout;return!A.hovermode&&(A._has("cartesian")?A._isHoriz?"y":"x":"closest")}function a(v){var A=m(v);T.call("_guiRelayout",v,"hovermode",A)}function p(v,A){for(var E=A.currentTarget.getAttribute("data-val"),g=v._fullLayout,M=g._subplots.mapbox||[],n={},S=0;S<M.length;S++){var d=M[S],I=g[d].zoom;n[d+".zoom"]="in"===E?1.05*I:I/1.05}T.call("_guiRelayout",v,n)}function s(v,A){for(var x=v._fullLayout,E=x._subplots[A]||[],g={},M=0;M<E.length;M++)for(var w=E[M],S=x[w]._subplot.viewInitial,d=Object.keys(S),I=0;I<d.length;I++){var L=d[I];g[w+"."+L]=S[L]}T.call("_guiRelayout",v,g)}t.toImage={name:"toImage",title:function(v){return y(v,"png"===((v._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:P.camera,click:function(v){var A=v._context.toImageButtonOptions,x={format:A.format||"png"};h.notifier(y(v,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==x.format&&h.isIE()&&(h.notifier(y(v,"IE only supports svg.  Changing format to svg."),"long"),x.format="svg"),["filename","width","height","scale"].forEach(function(E){E in A&&(x[E]=A[E])}),T.call("downloadImage",v,x).then(function(E){h.notifier(y(v,"Snapshot succeeded")+" - "+E,"long")}).catch(function(){h.notifier(y(v,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(v){return y(v,"Edit in Chart Studio")},icon:P.disk,click:function(v){D.sendDataToCloud(v)}},t.editInChartStudio={name:"editInChartStudio",title:function(v){return y(v,"Edit in Chart Studio")},icon:P.pencil,click:function(v){D.sendDataToCloud(v)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(v){return y(v,"Zoom")},attr:"dragmode",val:"zoom",icon:P.zoombox,click:r},t.pan2d={name:"pan2d",_cat:"pan",title:function(v){return y(v,"Pan")},attr:"dragmode",val:"pan",icon:P.pan,click:r},t.select2d={name:"select2d",_cat:"select",title:function(v){return y(v,"Box Select")},attr:"dragmode",val:"select",icon:P.selectbox,click:r},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(v){return y(v,"Lasso Select")},attr:"dragmode",val:"lasso",icon:P.lasso,click:r},t.drawclosedpath={name:"drawclosedpath",title:function(v){return y(v,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:P.drawclosedpath,click:r},t.drawopenpath={name:"drawopenpath",title:function(v){return y(v,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:P.drawopenpath,click:r},t.drawline={name:"drawline",title:function(v){return y(v,"Draw line")},attr:"dragmode",val:"drawline",icon:P.drawline,click:r},t.drawrect={name:"drawrect",title:function(v){return y(v,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:P.drawrect,click:r},t.drawcircle={name:"drawcircle",title:function(v){return y(v,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:P.drawcircle,click:r},t.eraseshape={name:"eraseshape",title:function(v){return y(v,"Erase active shape")},icon:P.eraseshape,click:C},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(v){return y(v,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:r},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(v){return y(v,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:r},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(v){return y(v,"Autoscale")},attr:"zoom",val:"auto",icon:P.autoscale,click:r},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(v){return y(v,"Reset axes")},attr:"zoom",val:"reset",icon:P.home,click:r},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(v){return y(v,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:P.tooltip_basic,gravity:"ne",click:r},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(v){return y(v,"Compare data on hover")},attr:"hovermode",val:function(v){return v._fullLayout._isHoriz?"y":"x"},icon:P.tooltip_compare,gravity:"ne",click:r},t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(v){return y(v,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:P.zoombox,click:l},t.pan3d={name:"pan3d",_cat:"pan",title:function(v){return y(v,"Pan")},attr:"scene.dragmode",val:"pan",icon:P.pan,click:l},t.orbitRotation={name:"orbitRotation",title:function(v){return y(v,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:P["3d_rotate"],click:l},t.tableRotation={name:"tableRotation",title:function(v){return y(v,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:P["z-axis"],click:l},t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(v){return y(v,"Reset camera to default")},attr:"resetDefault",icon:P.home,click:i},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(v){return y(v,"Reset camera to last save")},attr:"resetLastSave",icon:P.movie,click:i},t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(v){return y(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:function f(v,A){var x=u(v,A);T.call("_guiRelayout",v,x)}},t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(v){return y(v,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:c},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(v){return y(v,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:c},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(v){return y(v,"Reset")},attr:"reset",val:null,icon:P.autoscale,click:c},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(v){return y(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:a},t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(v){return y(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:a},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(v){return y(v,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:P.tooltip_basic,gravity:"ne",click:a},t.resetViewSankey={name:"resetSankeyGroup",title:function(v){return y(v,"Reset view")},icon:P.home,click:function(v){for(var A={"node.groups":[],"node.x":[],"node.y":[]},x=0;x<v._fullData.length;x++){var E=v._fullData[x]._viewInitial;A["node.groups"].push(E.node.groups.slice()),A["node.x"].push(E.node.x.slice()),A["node.y"].push(E.node.y.slice())}T.call("restyle",v,A)}},t.toggleHover={name:"toggleHover",title:function(v){return y(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:function(v,A){var x=u(v,A);x.hovermode=m(v),T.call("_guiRelayout",v,x)}},t.resetViews={name:"resetViews",title:function(v){return y(v,"Reset views")},icon:P.home,click:function(v,A){var x=A.currentTarget;x.setAttribute("data-attr","zoom"),x.setAttribute("data-val","reset"),r(v,A),x.setAttribute("data-attr","resetLastSave"),i(v,A),s(v,"geo"),s(v,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(v){return y(v,"Toggle Spike Lines")},icon:P.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(v){var A=v._fullLayout;A._cartesianSpikesEnabled="on"===A._cartesianSpikesEnabled?"off":"on",T.call("_guiRelayout",v,function b(v){for(var x="on"===v._fullLayout._cartesianSpikesEnabled,E=o.list(v,null,!0),g={},M=0;M<E.length;M++){var w=E[M];g[w._name+".showspikes"]=!!x||w._showSpikeInitial}return g}(v))}},t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(v){return y(v,"Reset view")},attr:"reset",icon:P.home,click:function(v){s(v,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(v){return y(v,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:p},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(v){return y(v,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:p}},93348:function(te,Y,e){"use strict";var T=e(26023),D=Object.keys(T),o=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],P=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(o),C=[];D.forEach(function(y){!function(y){if(-1===P.indexOf(y._cat||y.name)){var t=y.name,r=(y._cat||y.name).toLowerCase();-1===C.indexOf(t)&&C.push(t),-1===C.indexOf(r)&&C.push(r)}}(T[y])}),C.sort(),te.exports={DRAW_MODES:o,backButtons:P,foreButtons:C}},35750:function(te,Y,e){"use strict";var T=e(71828),D=e(7901),o=e(44467),P=e(42068);te.exports=function(h,y){var t=h.modebar||{},r=o.newContainer(y,"modebar");function l(u,f){return T.coerce(t,r,P,u,f)}l("orientation"),l("bgcolor",D.addOpacity(y.paper_bgcolor,.5));var i=D.contrast(D.rgb(y.modebar.bgcolor));l("color",D.addOpacity(i,.3)),l("activecolor",D.addOpacity(i,.7)),l("uirevision",y.uirevision),l("add"),l("remove")}},64168:function(te,Y,e){"use strict";te.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(te,Y,e){"use strict";var T=e(41675),D=e(34098),o=e(73972),P=e(23469).isUnifiedHover,C=e(37676),h=e(26023),y=e(93348).DRAW_MODES,t=e(71828).extendDeep;te.exports=function(a){var b=a._fullLayout,p=a._context,s=b._modeBar;if(p.displayModeBar||p.watermark){if(!Array.isArray(p.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(p.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var A,v=p.modeBarButtons;A=Array.isArray(v)&&v.length?function c(m){for(var a=t([],m),b=0;b<a.length;b++)for(var p=a[b],s=0;s<p.length;s++){var v=p[s];if("string"==typeof v){if(void 0===h[v])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));a[b][s]=h[v]}}return a}(v):!p.displayModeBar&&p.watermark?[]:function r(m){var a=m._fullLayout,b=m._fullData,p=m._context;function s(Q,Z){if("string"==typeof Z){if(Z.toLowerCase()===Q.toLowerCase())return!0}else if(Z.name===Q||(Z._cat||Z.name)===Q.toLowerCase())return!0;return!1}var v=a.modebar.add;"string"==typeof v&&(v=[v]);var A=a.modebar.remove;"string"==typeof A&&(A=[A]);var x=p.modeBarButtonsToAdd.concat(v.filter(function(Q){for(var Z=0;Z<p.modeBarButtonsToRemove.length;Z++)if(s(Q,p.modeBarButtonsToRemove[Z]))return!1;return!0})),E=p.modeBarButtonsToRemove.concat(A.filter(function(Q){for(var Z=0;Z<p.modeBarButtonsToAdd.length;Z++)if(s(Q,p.modeBarButtonsToAdd[Z]))return!1;return!0})),g=a._has("cartesian"),M=a._has("gl3d"),w=a._has("geo"),n=a._has("pie"),S=a._has("funnelarea"),d=a._has("gl2d"),I=a._has("ternary"),L=a._has("mapbox"),B=a._has("polar"),k=a._has("smith"),z=a._has("sankey"),O=function l(m){for(var a=T.list({_fullLayout:m},null,!0),b=0;b<a.length;b++)if(!a[b].fixedrange)return!1;return!0}(a),F=P(a.hovermode),N=[];function H(Q){if(Q.length){for(var Z=[],re=0;re<Q.length;re++){for(var q=Q[re],se=h[q],de=se.name.toLowerCase(),we=(se._cat||se.name).toLowerCase(),ye=!1,Pe=0;Pe<E.length;Pe++){var Ie=E[Pe].toLowerCase();if(Ie===de||Ie===we){ye=!0;break}}ye||Z.push(h[q])}N.push(Z)}}var X=["toImage"];p.showEditInChartStudio?X.push("editInChartStudio"):p.showSendToCloud&&X.push("sendDataToCloud"),H(X);var ne=[],ie=[],ue=[],J=[];(g||d||n||S||I)+w+M+L+B+k>1?(ie=["toggleHover"],ue=["resetViews"]):w?(ne=["zoomInGeo","zoomOutGeo"],ie=["hoverClosestGeo"],ue=["resetGeo"]):M?(ie=["hoverClosest3d"],ue=["resetCameraDefault3d","resetCameraLastSave3d"]):L?(ne=["zoomInMapbox","zoomOutMapbox"],ie=["toggleHover"],ue=["resetViewMapbox"]):d?ie=["hoverClosestGl2d"]:n?ie=["hoverClosestPie"]:z?(ie=["hoverClosestCartesian","hoverCompareCartesian"],ue=["resetViewSankey"]):ie=["toggleHover"],g&&(ie=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function u(m){for(var a=0;a<m.length;a++)if(!o.traceIs(m[a],"noHover"))return!1;return!0}(b)||F)&&(ie=[]),(g||d)&&!O&&(ne=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==ue[0]&&(ue=["resetScale2d"])),M?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(g||d)&&!O||I?J=["zoom2d","pan2d"]:L||w?J=["pan2d"]:B&&(J=["zoom2d"]),function i(m){for(var a=!1,b=0;b<m.length&&!a;b++){var p=m[b];!p._module||!p._module.selectPoints||(o.traceIs(p,"scatter-like")?(D.hasMarkers(p)||D.hasText(p))&&(a=!0):o.traceIs(p,"box-violin")?("all"===p.boxpoints||"all"===p.points)&&(a=!0):a=!0)}return a}(b)&&J.push("select2d","lasso2d");var j=[],W=function(Q){-1===j.indexOf(Q)&&-1!==ie.indexOf(Q)&&j.push(Q)};if(Array.isArray(x)){for(var V=[],K=0;K<x.length;K++){var ae=x[K];"string"==typeof ae?(ae=ae.toLowerCase(),-1!==y.indexOf(ae)?(a._has("mapbox")||a._has("cartesian"))&&J.push(ae):"togglespikelines"===ae?W("toggleSpikelines"):"togglehover"===ae?W("toggleHover"):"hovercompare"===ae?W("hoverCompareCartesian"):"hoverclosest"===ae?(W("hoverClosestCartesian"),W("hoverClosestGeo"),W("hoverClosest3d"),W("hoverClosestGl2d"),W("hoverClosestPie")):"v1hovermode"===ae&&(W("toggleHover"),W("hoverClosestCartesian"),W("hoverCompareCartesian"),W("hoverClosestGeo"),W("hoverClosest3d"),W("hoverClosestGl2d"),W("hoverClosestPie"))):V.push(ae)}x=V}return H(J),H(ne.concat(ue)),H(j),function f(m,a){if(a.length)if(Array.isArray(a[0]))for(var b=0;b<a.length;b++)m.push(a[b]);else m.push(a);return m}(N,x)}(a),s?s.update(a,A):b._modeBar=C(a,A)}else s&&(s.destroy(),delete b._modeBar)}},37676:function(te,Y,e){"use strict";var T=e(39898),D=e(92770),o=e(71828),P=e(24255),C=e(11506).version,h=new DOMParser;function y(i){this.container=i.container,this.element=document.createElement("div"),this.update(i.graphInfo,i.buttons),this.container.appendChild(this.element)}var t=y.prototype;t.update=function(i,u){this.graphInfo=i;var f=this.graphInfo._context,c=this.graphInfo._fullLayout,m="modebar-"+c._uid;this.element.setAttribute("id",m),this._uid=m,this.element.className="modebar","hover"===f.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===c.modebar.orientation&&(this.element.className+=" vertical",u=u.reverse());var a=c.modebar,b="hover"===f.displayModeBar?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(m),o.addRelatedStyleRule(m,b+"#"+m+" .modebar-group","background-color: "+a.bgcolor),o.addRelatedStyleRule(m,"#"+m+" .modebar-btn .icon path","fill: "+a.color),o.addRelatedStyleRule(m,"#"+m+" .modebar-btn:hover .icon path","fill: "+a.activecolor),o.addRelatedStyleRule(m,"#"+m+" .modebar-btn.active .icon path","fill: "+a.activecolor);var p=!this.hasButtons(u),s=this.hasLogo!==f.displaylogo,v=this.locale!==f.locale;if(this.locale=f.locale,(p||s||v)&&(this.removeAllButtons(),this.updateButtons(u),f.watermark||f.displaylogo)){var A=this.getLogo();f.watermark&&(A.className=A.className+" watermark"),"v"===c.modebar.orientation?this.element.insertBefore(A,this.element.childNodes[0]):this.element.appendChild(A),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(i){var u=this;this.buttons=i,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var c=u.createGroup();f.forEach(function(m){var a=m.name;if(!a)throw new Error("must provide button 'name' in button config");if(-1!==u.buttonsNames.indexOf(a))throw new Error("button name '"+a+"' is taken");u.buttonsNames.push(a);var b=u.createButton(m);u.buttonElements.push(b),c.appendChild(b)}),u.element.appendChild(c)})},t.createGroup=function(){var i=document.createElement("div");return i.className="modebar-group",i},t.createButton=function(i){var u=this,f=document.createElement("a");f.setAttribute("rel","tooltip"),f.className="modebar-btn";var c=i.title;void 0===c?c=i.name:"function"==typeof c&&(c=c(this.graphInfo)),(c||0===c)&&f.setAttribute("data-title",c),void 0!==i.attr&&f.setAttribute("data-attr",i.attr);var m=i.val;if(void 0!==m&&("function"==typeof m&&(m=m(this.graphInfo)),f.setAttribute("data-val",m)),"function"!=typeof i.click)throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(p){i.click(u.graphInfo,p),u.updateActiveButton(p.currentTarget)}),f.setAttribute("data-toggle",i.toggle||!1),i.toggle&&T.select(f).classed("active",!0);var b=i.icon;return f.appendChild("function"==typeof b?b():this.createIcon(b||P.question)),f.setAttribute("data-gravity",i.gravity||"n"),f},t.createIcon=function(i){var c,u=D(i.height)?Number(i.height):i.ascent-i.descent,f="http://www.w3.org/2000/svg";if(i.path){(c=document.createElementNS(f,"svg")).setAttribute("viewBox",[0,0,i.width,u].join(" ")),c.setAttribute("class","icon");var m=document.createElementNS(f,"path");m.setAttribute("d",i.path),i.transform?m.setAttribute("transform",i.transform):void 0!==i.ascent&&m.setAttribute("transform","matrix(1 0 0 -1 0 "+i.ascent+")"),c.appendChild(m)}return i.svg&&(c=h.parseFromString(i.svg,"application/xml").childNodes[0]),c.setAttribute("height","1em"),c.setAttribute("width","1em"),c},t.updateActiveButton=function(i){var u=this.graphInfo._fullLayout,f=void 0!==i?i.getAttribute("data-attr"):null;this.buttonElements.forEach(function(c){var m=c.getAttribute("data-val")||!0,a=c.getAttribute("data-attr"),b="true"===c.getAttribute("data-toggle"),p=T.select(c);if(b)a===f&&p.classed("active",!p.classed("active"));else{var s=null===a?a:o.nestedProperty(u,a).get();p.classed("active",s===m)}})},t.hasButtons=function(i){var u=this.buttons;if(!u||i.length!==u.length)return!1;for(var f=0;f<i.length;++f){if(i[f].length!==u[f].length)return!1;for(var c=0;c<i[f].length;c++)if(i[f][c].name!==u[f][c].name)return!1}return!0},t.getLogo=function(){var i=this.createGroup(),u=document.createElement("a");return u.href="https://plotly.com/",u.target="_blank",u.setAttribute("data-title",function r(i){return i+" (v"+C+")"}(o._(this.graphInfo,"Produced with Plotly.js"))),u.className="modebar-btn plotlyjsicon modebar-btn--logo",u.appendChild(this.createIcon(P.newplotlylogo)),i.appendChild(u),i},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},te.exports=function l(i,u){var f=i._fullLayout,c=new y({graphInfo:i,container:f._modebardiv.node(),buttons:u});return f._privateplot&&T.select(c.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),c}},37113:function(te,Y,e){"use strict";var T=e(41940),D=e(22399),P=(0,e(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});te.exports={visible:{valType:"boolean",editType:"plot"},buttons:P,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:T({editType:"plot"}),bgcolor:{valType:"color",dflt:D.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:D.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(te){"use strict";te.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(te,Y,e){"use strict";var T=e(71828),D=e(7901),o=e(44467),P=e(85501),C=e(37113),h=e(89573);function y(r,l,i,u){var f=u.calendar;function c(b,p){return T.coerce(r,l,C.buttons,b,p)}if(c("visible")){var a=c("step");"all"!==a&&(!f||"gregorian"===f||"month"!==a&&"year"!==a?c("stepmode"):l.stepmode="backward",c("count")),c("label")}}te.exports=function(l,i,u,f,c){var m=l.rangeselector||{},a=o.newContainer(i,"rangeselector");function b(x,E){return T.coerce(m,a,C,x,E)}if(b("visible",P(m,a,{name:"buttons",handleItemDefaults:y,calendar:c}).length>0)){var v=function t(r,l,i){for(var u=i.filter(function(a){return l[a].anchor===r._id}),f=0,c=0;c<u.length;c++){var m=l[u[c]].domain;m&&(f=Math.max(m[1],f))}return[r.domain[0],f+h.yPad]}(i,u,f);b("x",v[0]),b("y",v[1]),T.noneOrAll(l,i,["x","y"]),b("xanchor"),b("yanchor"),T.coerceFont(b,"font",u.font);var A=b("bgcolor");b("activecolor",D.contrast(A,h.lightAmount,h.darkAmount)),b("bordercolor"),b("borderwidth")}}},21598:function(te,Y,e){"use strict";var T=e(39898),D=e(73972),o=e(74875),P=e(7901),C=e(91424),h=e(71828),y=h.strTranslate,t=e(63893),r=e(41675),l=e(18783),i=l.LINE_SPACING,u=l.FROM_TL,f=l.FROM_BR,c=e(89573),m=e(70565);function b(g){return g._id}function s(g,M,w){var n=h.ensureSingle(g,"rect","selector-rect",function(S){S.attr("shape-rendering","crispEdges")});n.attr({rx:c.rx,ry:c.ry}),n.call(P.stroke,M.bordercolor).call(P.fill,function v(g,M){return M._isActive||M._isHovered?g.activecolor:g.bgcolor}(M,w)).style("stroke-width",M.borderwidth+"px")}function A(g,M,w,n){h.ensureSingle(g,"text","selector-text",function(I){I.attr("text-anchor","middle")}).call(C.font,M.font).text(function x(g,M){return g.label?M?h.templateString(g.label,M):g.label:"all"===g.step?"all":g.count+g.step.charAt(0)}(w,n._fullLayout._meta)).call(function S(I){t.convertToTspans(I,n)})}te.exports=function(M){var n=M._fullLayout._infolayer.selectAll(".rangeselector").data(function a(g){for(var M=r.list(g,"x",!0),w=[],n=0;n<M.length;n++){var S=M[n];S.rangeselector&&S.rangeselector.visible&&w.push(S)}return w}(M),b);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(S){var d=T.select(this),I=S,L=I.rangeselector,B=d.selectAll("g.button").data(h.filterVisible(L.buttons));B.enter().append("g").classed("button",!0),B.exit().remove(),B.each(function(k){var z=T.select(this),O=m(I,k);k._isActive=function p(g,M,w){if("all"===M.step)return!0===g.autorange;var n=Object.keys(w);return g.range[0]===w[n[0]]&&g.range[1]===w[n[1]]}(I,k,O),z.call(s,L,k),z.call(A,L,k,M),z.on("click",function(){M._dragged||D.call("_guiRelayout",M,O)}),z.on("mouseover",function(){k._isHovered=!0,z.call(s,L,k)}),z.on("mouseout",function(){k._isHovered=!1,z.call(s,L,k)})}),function E(g,M,w,n,S){var d=0,I=0,L=w.borderwidth;M.each(function(){var H=T.select(this).select(".selector-text"),ne=Math.max(w.font.size*i*t.lineCount(H),16)+3;I=Math.max(I,ne)}),M.each(function(){var N=T.select(this),H=N.select(".selector-rect"),X=N.select(".selector-text"),ne=X.node()&&C.bBox(X.node()).width,ie=w.font.size*i,ue=t.lineCount(X),J=Math.max(ne+10,c.minButtonWidth);N.attr("transform",y(L+d,L)),H.attr({x:0,y:0,width:J,height:I}),t.positionText(X,J/2,I/2-(ue-1)*ie/2+3),d+=J+5});var B=g._fullLayout._size,k=B.l+B.w*w.x,z=B.t+B.h*(1-w.y),O="left";h.isRightAnchor(w)&&(k-=d,O="right"),h.isCenterAnchor(w)&&(k-=d/2,O="center");var F="top";h.isBottomAnchor(w)&&(z-=I,F="bottom"),h.isMiddleAnchor(w)&&(z-=I/2,F="middle"),d=Math.ceil(d),I=Math.ceil(I),k=Math.round(k),z=Math.round(z),o.autoMargin(g,n+"-range-selector",{x:w.x,y:w.y,l:d*u[O],r:d*f[O],b:I*f[F],t:I*u[F]}),S.attr("transform",y(k,z))}(M,B,L,I._name,d)})}},70565:function(te,Y,e){"use strict";var T=e(81041),D=e(71828).titleCase;te.exports=function(C,h){var y=C._name,t={};if("all"===h.step)t[y+".autorange"]=!0;else{var r=function o(P,C){var i,h=P.range,y=new Date(P.r2l(h[1])),r=T["utc"+D(C.step)],l=C.count;switch(C.stepmode){case"backward":i=P.l2r(+r.offset(y,-l));break;case"todate":var u=r.offset(y,-l);i=P.l2r(+r.ceil(u))}return[i,h[1]]}(C,h);t[y+".range[0]"]=r[0],t[y+".range[1]"]=r[1]}return t}},97218:function(te,Y,e){"use strict";te.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(te,Y,e){"use strict";var T=e(22399);te.exports={bgcolor:{valType:"color",dflt:T.background,editType:"plot"},bordercolor:{valType:"color",dflt:T.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(te,Y,e){"use strict";var T=e(41675).list,D=e(71739).getAutoRange,o=e(73251);te.exports=function(C){for(var h=T(C,"x",!0),y=0;y<h.length;y++){var t=h[y],r=t[o.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=D(C,t))}}},73251:function(te){"use strict";te.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(te,Y,e){"use strict";var T=e(71828),D=e(44467),o=e(41675),P=e(75148),C=e(47850);te.exports=function(y,t,r){var l=y[r],i=t[r];if(l.rangeslider||t._requestRangeslider[i._id]){T.isPlainObject(l.rangeslider)||(l.rangeslider={});var m,a,u=l.rangeslider,f=D.newContainer(i,"rangeslider");if(c("visible")){c("bgcolor",t.plot_bgcolor),c("bordercolor"),c("borderwidth"),c("thickness"),c("autorange",!i.isValidRange(u.range)),c("range");var s=t._subplots;if(s)for(var v=s.cartesian.filter(function(n){return n.substr(0,n.indexOf("y"))===o.name2id(r)}).map(function(n){return n.substr(n.indexOf("y"),n.length)}),A=T.simpleMap(v,o.id2name),x=0;x<A.length;x++){var E=A[x];m=u[E]||{},a=D.newContainer(f,E,"yaxis");var M,g=t[E];m.range&&g.isValidRange(m.range)&&(M="fixed"),"match"!==b("rangemode",M)&&b("range",g.range.slice())}f._input=u}}function c(n,S){return T.coerce(u,f,P,n,S)}function b(n,S){return T.coerce(m,a,C,n,S)}}},72413:function(te,Y,e){"use strict";var T=e(39898),D=e(73972),o=e(74875),P=e(71828),C=P.strTranslate,h=e(91424),y=e(7901),t=e(92998),r=e(93612),l=e(41675),i=e(28569),u=e(6964),f=e(73251);function b(g,M,w,n){var S=P.ensureSingle(g,"rect",f.bgClassName,function(B){B.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),d=n.borderwidth%2==0?n.borderwidth:n.borderwidth-1,I=-n._offsetShift,L=h.crispRound(M,n.borderwidth);S.attr({width:n._width+d,height:n._height+d,transform:C(I,I),"stroke-width":L}).call(y.stroke,n.bordercolor).call(y.fill,n.bgcolor)}function p(g,M,w,n){P.ensureSingleById(M._fullLayout._topdefs,"clipPath",n._clipId,function(I){I.append("rect").attr({x:0,y:0})}).select("rect").attr({width:n._width,height:n._height})}function s(g,M,w,n){var I,S=M.calcdata,d=g.selectAll("g."+f.rangePlotClassName).data(w._subplotsWith,P.identity);d.enter().append("g").attr("class",function(L){return f.rangePlotClassName+" "+L}).call(h.setClipUrl,n._clipId,M),d.order(),d.exit().remove(),d.each(function(L,B){var k=T.select(this),z=0===B,O=l.getFromId(M,L,"y"),F=O._name,N=n[F],H={data:[],layout:{xaxis:{type:w.type,domain:[0,1],range:n.range.slice(),calendar:w.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}},_context:M._context};w.rangebreaks&&(H.layout.xaxis.rangebreaks=w.rangebreaks),H.layout[F]={type:O.type,domain:[0,1],range:"match"!==N.rangemode?N.range.slice():O.range.slice(),calendar:O.calendar},O.rangebreaks&&(H.layout[F].rangebreaks=O.rangebreaks),o.supplyDefaults(H);var X=H._fullLayout.xaxis,ne=H._fullLayout[F];X.clearCalc(),X.setScale(),ne.clearCalc(),ne.setScale();var ie={id:L,plotgroup:k,xaxis:X,yaxis:ne,isRangePlot:!0};z?I=ie:(ie.mainplot="xy",ie.mainplotinfo=I),r.rangePlot(M,ie,function v(g,M){for(var w=[],n=0;n<g.length;n++){var S=g[n],d=S[0].trace;d.xaxis+d.yaxis===M&&w.push(S)}return w}(S,L))})}function A(g,M,w,n,S){P.ensureSingle(g,"rect",f.maskMinClassName,function(k){k.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",n._height).call(y.fill,f.maskColor),P.ensureSingle(g,"rect",f.maskMaxClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",n._height).call(y.fill,f.maskColor),"match"!==S.rangemode&&(P.ensureSingle(g,"rect",f.maskMinOppAxisClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",n._width).call(y.fill,f.maskOppAxisColor),P.ensureSingle(g,"rect",f.maskMaxOppAxisClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",n._width).style("border-top",f.maskOppBorder).call(y.fill,f.maskOppAxisColor))}function x(g,M,w,n){M._context.staticPlot||P.ensureSingle(g,"rect",f.slideBoxClassName,function(d){d.attr({y:0,cursor:f.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:n._height,fill:f.slideBoxFill})}function E(g,M,w,n){var S=P.ensureSingle(g,"g",f.grabberMinClassName),d=P.ensureSingle(g,"g",f.grabberMaxClassName),I={x:0,width:f.handleWidth,rx:f.handleRadius,fill:y.background,stroke:y.defaultLine,"stroke-width":f.handleStrokeWidth,"shape-rendering":"crispEdges"},L={y:Math.round(n._height/4),height:Math.round(n._height/2)};P.ensureSingle(S,"rect",f.handleMinClassName,function(N){N.attr(I)}).attr(L),P.ensureSingle(d,"rect",f.handleMaxClassName,function(N){N.attr(I)}).attr(L);var z={width:f.grabAreaWidth,x:0,y:0,fill:f.grabAreaFill,cursor:M._context.staticPlot?void 0:f.grabAreaCursor};P.ensureSingle(S,"rect",f.grabAreaMinClassName,function(N){N.attr(z)}).attr("height",n._height),P.ensureSingle(d,"rect",f.grabAreaMaxClassName,function(N){N.attr(z)}).attr("height",n._height)}te.exports=function(g){for(var M=g._fullLayout,w=M._rangeSliderData,n=0;n<w.length;n++){var S=w[n][f.name];S._clipId=S._id+"-"+M._uid}var I=M._infolayer.selectAll("g."+f.containerClassName).data(w,function d(L){return L._name});I.exit().each(function(L){M._topdefs.select("#"+L[f.name]._clipId).remove()}).remove(),0!==w.length&&(I.enter().append("g").classed(f.containerClassName,!0).attr("pointer-events","all"),I.each(function(L){var B=T.select(this),k=L[f.name],z=M[l.id2name(L.anchor)],O=k[l.id2name(L.anchor)];if(k.range){var H,F=P.simpleMap(k.range,L.r2l),N=P.simpleMap(L.range,L.r2l);H=N[0]<N[1]?[Math.min(F[0],N[0]),Math.max(F[1],N[1])]:[Math.max(F[0],N[0]),Math.min(F[1],N[1])],k.range=k._input.range=P.simpleMap(H,L.l2r)}L.cleanRange("rangeslider.range");var X=M._size,ne=L.domain;k._width=X.w*(ne[1]-ne[0]);var ie=Math.round(X.l+X.w*ne[0]),ue=Math.round(X.t+X.h*(1-L._counterDomainMin)+("bottom"===L.side?L._depth:0)+k._offsetShift+f.extraPad);B.attr("transform",C(ie,ue)),k._rl=P.simpleMap(k.range,L.r2l);var J=k._rl[0],j=k._rl[1],W=j-J;if(k.p2d=function(we){return we/k._width*W+J},k.d2p=function(we){return(we-J)/W*k._width},L.rangebreaks){var V=L.locateBreaks(J,j);if(V.length){var K,ae,Q=0;for(K=0;K<V.length;K++)Q+=(ae=V[K]).max-ae.min;var Z=k._width/(j-J-Q),re=[-Z*J];for(K=0;K<V.length;K++)re.push(re[re.length-1]-Z*((ae=V[K]).max-ae.min));for(k.d2p=function(we){for(var ye=re[0],Pe=0;Pe<V.length;Pe++){var Ie=V[Pe];if(we>=Ie.max)ye=re[Pe+1];else if(we<Ie.min)break}return ye+Z*we},K=0;K<V.length;K++)(ae=V[K]).pmin=k.d2p(ae.min),ae.pmax=k.d2p(ae.max);k.p2d=function(we){for(var ye=re[0],Pe=0;Pe<V.length;Pe++){var Ie=V[Pe];if(we>=Ie.pmax)ye=re[Pe+1];else if(we<Ie.pmin)break}return(we-ye)/Z}}}if("match"!==O.rangemode){var q=z.r2l(O.range[0]),de=z.r2l(O.range[1])-q;k.d2pOppAxis=function(we){return(we-q)/de*k._height}}B.call(b,g,L,k).call(p,g,L,k).call(s,g,L,k).call(A,g,L,k,O).call(x,g,L,k).call(E,g,L,k),function c(g,M,w,n){if(!M._context.staticPlot){var S=g.select("rect."+f.slideBoxClassName).node(),d=g.select("rect."+f.grabAreaMinClassName).node(),I=g.select("rect."+f.grabAreaMaxClassName).node();g.on("mousedown",L),g.on("touchstart",L)}function L(){var B=T.event,k=B.target,z=B.clientX||B.touches[0].clientX,O=z-g.node().getBoundingClientRect().left,F=n.d2p(w._rl[0]),N=n.d2p(w._rl[1]),H=i.coverSlip();function X(ie){var j,W,V,J=+(ie.clientX||ie.touches[0].clientX)-z;switch(k){case S:if(V="ew-resize",F+J>w._length||N+J<0)return;j=F+J,W=N+J;break;case d:if(V="col-resize",F+J>w._length)return;j=F+J,W=N;break;case I:if(V="col-resize",N+J<0)return;j=F,W=N+J;break;default:V="ew-resize",j=O,W=O+J}if(W<j){var K=W;W=j,j=K}n._pixelMin=j,n._pixelMax=W,u(T.select(H),V),function m(g,M,w,n){function S(L){return w.l2r(P.constrain(L,n._rl[0],n._rl[1]))}var d=S(n.p2d(n._pixelMin)),I=S(n.p2d(n._pixelMax));window.requestAnimationFrame(function(){D.call("_guiRelayout",M,w._name+".range",[d,I])})}(0,M,w,n)}function ne(){H.removeEventListener("mousemove",X),H.removeEventListener("mouseup",ne),this.removeEventListener("touchmove",X),this.removeEventListener("touchend",ne),P.removeElement(H)}this.addEventListener("touchmove",X),this.addEventListener("touchend",ne),H.addEventListener("mousemove",X),H.addEventListener("mouseup",ne)}}(B,g,L,k),function a(g,M,w,n,S,d){var I=f.handleWidth/2;function L(ie){return P.constrain(ie,0,n._width)}function B(ie){return P.constrain(ie,0,n._height)}function k(ie){return P.constrain(ie,-I,n._width+I)}var z=L(n.d2p(w._rl[0])),O=L(n.d2p(w._rl[1]));if(g.select("rect."+f.slideBoxClassName).attr("x",z).attr("width",O-z),g.select("rect."+f.maskMinClassName).attr("width",z),g.select("rect."+f.maskMaxClassName).attr("x",O).attr("width",n._width-O),"match"!==d.rangemode){var F=n._height-B(n.d2pOppAxis(S._rl[1])),N=n._height-B(n.d2pOppAxis(S._rl[0]));g.select("rect."+f.maskMinOppAxisClassName).attr("x",z).attr("height",F).attr("width",O-z),g.select("rect."+f.maskMaxOppAxisClassName).attr("x",z).attr("y",N).attr("height",n._height-N).attr("width",O-z),g.select("rect."+f.slideBoxClassName).attr("y",F).attr("height",N-F)}var H=.5,X=Math.round(k(z-I))-H,ne=Math.round(k(O-I))+H;g.select("g."+f.grabberMinClassName).attr("transform",C(X,H)),g.select("g."+f.grabberMaxClassName).attr("transform",C(ne,H))}(B,0,L,k,z,O),"bottom"===L.side&&t.draw(g,L._id+"title",{propContainer:L,propName:L._name+".title",placeholder:M._dfltTitle.x,attributes:{x:L._offset+L._length/2,y:ue+k._height+k._offsetShift+10+1.5*L.title.font.size,"text-anchor":"middle"}})}))}},549:function(te,Y,e){"use strict";var T=e(41675),D=e(63893),o=e(73251),P=e(18783).LINE_SPACING,C=o.name;function h(y){var t=y&&y[C];return t&&t.visible}Y.isVisible=h,Y.makeData=function(y){var t=T.list({_fullLayout:y},"x",!0),r=y.margin,l=[];if(!y._has("gl2d"))for(var i=0;i<t.length;i++){var u=t[i];if(h(u)){l.push(u);var f=u[C];f._id=C+u._id,f._height=(y.height-r.b-r.t)*f.thickness,f._offsetShift=Math.floor(f.borderwidth/2)}}y._rangeSliderData=l},Y.autoMarginOpts=function(y,t){var r=y._fullLayout,l=t[C],i=t._id.charAt(0),u=0,f=0;return"bottom"===t.side&&(u=t._depth,t.title.text!==r._dfltTitle[i])&&(f=1.5*t.title.font.size+10+l._offsetShift,f+=(t.title.text.match(D.BR_TAG_ALL)||[]).length*t.title.font.size*P),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:l._height+u+Math.max(r.margin.b,f),pad:o.extraPad+2*l._offsetShift}}},13137:function(te,Y,e){"use strict";var T=e(71828),D=e(75148),o=e(47850),P=e(549);te.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:T.extendFlat({},D,{yaxis:o})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:P.isVisible,makeData:P.makeData,autoMarginOpts:P.autoMarginOpts}},47850:function(te){"use strict";te.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(te,Y,e){"use strict";var T=e(50215),D=e(82196).line,o=e(79952).P,P=e(1426).extendFlat,C=e(30962).overrideAll,h=e(44467).templatedArray;e(24695),te.exports=C(h("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:P({},T.xref,{}),yref:P({},T.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:D.color,width:P({},D.width,{min:1,dflt:1}),dash:P({},o,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(te){"use strict";te.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(te,Y,e){"use strict";var T=e(71828),D=e(89298),o=e(85501),P=e(8389),C=e(30477);function h(y,t,r){function l(d,I){return T.coerce(y,t,P,d,I)}var i=l("path"),c="path"!==l("type",i?"path":"rect");c&&delete t.path,l("opacity"),l("line.color"),l("line.width"),l("line.dash");for(var m=["x","y"],a=0;a<2;a++){var s,v,A,b=m[a],p={_fullLayout:r},x=D.coerceRef(y,t,p,b);if((s=D.getFromId(p,x))._selectionIndices.push(t._index),A=C.rangeToShapePosition(s),v=C.shapePositionToRange(s),c){var E=b+"0",g=b+"1",M=y[E],w=y[g];y[E]=v(y[E],!0),y[g]=v(y[g],!0),D.coercePosition(t,p,l,x,E),D.coercePosition(t,p,l,x,g);var n=t[E],S=t[g];void 0!==n&&void 0!==S&&(t[E]=A(n),t[g]=A(S),y[E]=M,y[g]=w)}}c&&T.noneOrAll(y,t,["x0","x1","y0","y1"])}te.exports=function(t,r){o(t,r,{name:"selections",handleItemDefaults:h});for(var l=r.selections,i=0;i<l.length;i++){var u=l[i];u&&void 0===u.path&&(void 0===u.x0||void 0===u.x1||void 0===u.y0||void 0===u.y1)&&(r.selections[i]=null)}}},32485:function(te,Y,e){"use strict";var T=e(60165).readPaths,D=e(42359),o=e(51873).clearOutlineControllers,P=e(7901),C=e(91424),h=e(44467).arrayEditor,y=e(30477),t=y.getPathString;function r(a){var b=a._fullLayout;for(var p in o(a),b._selectionLayer.selectAll("path").remove(),b._plots){var s=b._plots[p].selectionLayer;s&&s.selectAll("path").remove()}for(var v=0;v<b.selections.length;v++)i(a,v)}function l(a){return a._context.editSelection}function i(a,b){a._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+b+'"]').remove();var p=y.makeSelectionsOptionsAndPlotinfo(a,b),s=p.options,v=p.plotinfo;s._input&&function A(x){var E=t(a,s),g={"data-index":b,"fill-rule":"evenodd",d:E},M=s.opacity,w="rgba(0,0,0,0)",n=s.line.color||P.contrast(a._fullLayout.plot_bgcolor),S=s.line.width,d=s.line.dash;S||(S=5,d="solid");var I=l(a)&&a._fullLayout._activeSelectionIndex===b;I&&(w=a._fullLayout.activeselection.fillcolor,M=a._fullLayout.activeselection.opacity);for(var L=[],B=1;B>=0;B--){var k=x.append("path").attr(g).style("opacity",B?.1:M).call(P.stroke,n).call(P.fill,w).call(C.dashLine,B?"solid":d,B?4+S:S);if(u(k,a,s),I){var z=h(a.layout,"selections",s);k.style({cursor:"move"});var O={element:k.node(),plotinfo:v,gd:a,editHelpers:z,isActiveSelection:!0},F=T(E,a);D(F,k,O)}else k.style("pointer-events",B?"all":"none");L[B]=k}var N=L[0];L[1].node().addEventListener("click",function(){return function f(a,b){if(l(a)){var s=+b.node().getAttribute("data-index");if(s>=0){if(s===a._fullLayout._activeSelectionIndex)return void m(a);a._fullLayout._activeSelectionIndex=s,a._fullLayout._deactivateSelection=m,r(a)}}}(a,N)})}(a._fullLayout._selectionLayer)}function u(a,b,p){C.setClipUrl(a,"clip"+b._fullLayout._uid+(p.xref+p.yref),b)}function m(a){l(a)&&a._fullLayout._activeSelectionIndex>=0&&(o(a),delete a._fullLayout._activeSelectionIndex,r(a))}te.exports={draw:r,drawOne:i,activateLastSelection:function c(a){l(a)&&(a._fullLayout._activeSelectionIndex=a._fullLayout.selections.length-1,a._fullLayout._deactivateSelection=m,r(a))}}},53777:function(te,Y,e){"use strict";var T=e(79952).P,D=e(1426).extendFlat;te.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:D({},T,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(te){"use strict";te.exports=function(e,T,D){D("newselection.mode"),D("newselection.line.width")&&(D("newselection.line.color"),D("newselection.line.dash")),D("activeselection.fillcolor"),D("activeselection.opacity")}},35855:function(te,Y,e){"use strict";var D=e(64505).selectMode,P=e(51873).clearOutline,C=e(60165),h=C.readPaths,y=C.writePaths,t=C.fixDatesForPaths;te.exports=function(l,i){if(l.length){var u=l[0][0];if(u){var f=u.getAttribute("d"),c=i.gd,m=c._fullLayout.newselection,a=i.plotinfo,b=a.xaxis,p=a.yaxis,s=i.isActiveSelection,v=i.dragmode,A=(c.layout||{}).selections||[];if(!D(v)&&void 0!==s){var x=c._fullLayout._activeSelectionIndex;if(x<A.length)switch(c._fullLayout.selections[x].type){case"rect":v="select";break;case"path":v="lasso"}}var M,E=h(f,c,a,s),g={xref:b._id,yref:p._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}};1===E.length&&(M=E[0]),M&&5===M.length&&"select"===v?(g.type="rect",g.x0=M[0][1],g.y0=M[0][2],g.x1=M[2][1],g.y1=M[2][2]):(g.type="path",b&&p&&t(E,b,p),g.path=y(E),M=null),P(c);for(var w=i.editHelpers,n=(w||{}).modifyItem,S=[],d=0;d<A.length;d++){var I=c._fullLayout.selections[d];if(I){if(S[d]=I._input,void 0!==s&&d===c._fullLayout._activeSelectionIndex){var L=g;switch(I.type){case"rect":n("x0",L.x0),n("x1",L.x1),n("y0",L.y0),n("y1",L.y1);break;case"path":n("path",L.path)}}}else S[d]=I}return void 0===s?(S.push(g),S):w?w.getUpdateObj():{}}}}},75549:function(te,Y,e){"use strict";var T=e(71828).strTranslate;function D(h,y){switch(h.type){case"log":return h.p2d(y);case"date":return h.p2r(y,0,h.calendar);default:return h.p2r(y)}}te.exports={p2r:D,r2p:function o(h,y){switch(h.type){case"log":return h.d2p(y);case"date":return h.r2p(y,0,h.calendar);default:return h.r2p(y)}},axValue:function P(h){var y="y"===h._id.charAt(0)?1:0;return function(t){return D(h,t[y])}},getTransform:function C(h){return T(h.xaxis._offset,h.yaxis._offset)}}},47322:function(te,Y,e){"use strict";var T=e(32485),D=e(3937);te.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:T.draw,drawOne:T.drawOne,reselect:D.reselect,prepSelect:D.prepSelect,clearOutline:D.clearOutline,clearSelectionsCache:D.clearSelectionsCache,selectOnClick:D.selectOnClick}},3937:function(te,Y,e){"use strict";var T=e(52142),D=e(38258),o=e(73972),P=e(91424).dashStyle,C=e(7901),h=e(30211),y=e(23469).makeEventData,t=e(64505),r=t.freeMode,l=t.rectMode,i=t.drawMode,u=t.openMode,f=t.selectMode,c=e(30477),m=e(21459),a=e(42359),b=e(51873).clearOutline,p=e(60165),s=p.handleEllipse,v=p.readPaths,A=e(90551).newShapes,x=e(35855),E=e(32485).activateLastSelection,g=e(71828),M=g.sorterAsc,w=e(61082),n=e(79990),S=e(41675).getFromId,d=e(33306),I=e(61549).redrawReglTraces,L=e(34122),B=L.MINSELECT,k=w.filter,z=w.tester,O=e(75549),F=O.p2r,N=O.axValue,H=O.getTransform;function X(Re){return void 0!==Re.subplot}function ie(Re,ke,Ne,_e,Te,fe,pe){var rr,At,zt,Qt,pt,$t,tr,Er,pr,Fe=ke._hoverdata,ft=ke._fullLayout.clickmode.indexOf("event")>-1,Xt=[];if(function se(Re){return Re&&Array.isArray(Re)&&!0!==Re[0].hoverOnBox}(Fe)){V(Re,ke,fe);var dt=function de(Re,ke){var fe,pe,Ne=Re[0],_e=-1,Te=[];for(pe=0;pe<ke.length;pe++)if(Ne.fullData._expandedIndex===(fe=ke[pe]).cd[0].trace._expandedIndex){if(!0===Ne.hoverOnBox)break;void 0!==Ne.pointNumber?_e=Ne.pointNumber:void 0!==Ne.binNumber&&(_e=Ne.binNumber,Te=Ne.pointNumbers);break}return{pointNumber:_e,pointNumbers:Te,searchInfo:fe}}(Fe,rr=re(ke,Ne,_e,Te));if(dt.pointNumbers.length>0?function ye(Re,ke){var _e,Te,pe,Ne=[];for(pe=0;pe<Re.length;pe++)(_e=Re[pe]).cd[0].trace.selectedpoints&&_e.cd[0].trace.selectedpoints.length>0&&Ne.push(_e);if(1===Ne.length&&(Ne[0]===ke.searchInfo&&(Te=ke.searchInfo.cd[0].trace).selectedpoints.length===ke.pointNumbers.length)){for(pe=0;pe<ke.pointNumbers.length;pe++)if(Te.selectedpoints.indexOf(ke.pointNumbers[pe])<0)return!1;return!0}return!1}(rr,dt):function Pe(Re){var _e,Te,ke=0;for(Te=0;Te<Re.length;Te++)if((_e=Re[Te].cd[0].trace).selectedpoints&&(_e.selectedpoints.length>1||(ke+=_e.selectedpoints.length)>1))return!1;return 1===ke}(rr)&&($t=we(dt))){for(pe&&pe.remove(),pr=0;pr<rr.length;pr++)(At=rr[pr])._module.selectPoints(At,!1);Ie(ke,rr),Q(fe),ft&&Ee(ke)}else{for(tr=Re.shiftKey&&(void 0!==$t?$t:we(dt)),zt=function ue(Re,ke,Ne){return{pointNumber:Re,searchInfo:ke,subtract:!!Ne}}(dt.pointNumber,dt.searchInfo,tr),Qt=W(fe.selectionDefs.concat([zt])),pr=0;pr<rr.length;pr++)if(pt=Me(rr[pr]._module.selectPoints(rr[pr],Qt),rr[pr]),Xt.length)for(var St=0;St<pt.length;St++)Xt.push(pt[St]);else Xt=pt;if(Ie(ke,rr,Er={points:Xt}),zt&&fe&&fe.selectionDefs.push(zt),pe){var Lt=fe.mergedPolygons,Ct=u(fe.dragmode);a(Ge(Lt,Ct),pe,fe)}ft&&Ce(ke,Er)}}}function J(Re){return"pointNumber"in Re&&"searchInfo"in Re}function j(Re){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ke,Ne,_e,Te){return Te.cd[0].trace._expandedIndex===Re.searchInfo.cd[0].trace._expandedIndex&&_e===Re.pointNumber},isRect:!1,degenerate:!1,subtract:!!Re.subtract}}function W(Re){if(Re.length){for(var ke=[],Ne=J(Re[0])?0:Re[0][0][0],_e=Ne,Te=J(Re[0])?0:Re[0][0][1],fe=Te,pe=0;pe<Re.length;pe++)if(J(Re[pe]))ke.push(j(Re[pe]));else{var Fe=z(Re[pe]);Fe.subtract=!!Re[pe].subtract,ke.push(Fe),Ne=Math.min(Ne,Fe.xmin),_e=Math.max(_e,Fe.xmax),Te=Math.min(Te,Fe.ymin),fe=Math.max(fe,Fe.ymax)}return{xmin:Ne,xmax:_e,ymin:Te,ymax:fe,pts:[],contains:function Xe(at,ft,Xt,rr){for(var At=!1,zt=0;zt<ke.length;zt++)ke[zt].contains(at,ft,Xt,rr)&&(At=!ke[zt].subtract);return At},isRect:!1,degenerate:!1}}}function V(Re,ke,Ne){var _e=ke._fullLayout,Te=Ne.plotinfo,fe=Ne.dragmode,pe=_e._lastSelectedSubplot&&_e._lastSelectedSubplot===Te.id,Fe=(Re.shiftKey||Re.altKey)&&!(i(fe)&&u(fe));pe&&Fe&&Te.selection&&Te.selection.selectionDefs&&!Ne.selectionDefs?(Ne.selectionDefs=Te.selection.selectionDefs,Ne.mergedPolygons=Te.selection.mergedPolygons):(!Fe||!Te.selection)&&Q(Ne),pe||(b(ke),_e._lastSelectedSubplot=Te.id)}function Q(Re,ke){var Ne=Re.dragmode,_e=Re.plotinfo,Te=Re.gd;(function K(Re){return Re._fullLayout._activeShapeIndex>=0})(Te)&&Te._fullLayout._deactivateShape(Te),function ae(Re){return Re._fullLayout._activeSelectionIndex>=0}(Te)&&Te._fullLayout._deactivateSelection(Te);var pe=Te._fullLayout._zoomlayer,Fe=i(Ne),Xe=f(Ne);if(Fe||Xe){var ft,Xt,at=pe.selectAll(".select-outline-"+_e.id);at&&Te._fullLayout._outlining&&(Fe&&(ft=A(at,Re)),ft&&o.call("_guiRelayout",Te,{shapes:ft}),Xe&&!X(Re)&&(Xt=x(at,Re)),Xt&&(Te._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",Te,{selections:Xt}).then(function(){ke&&E(Te)})),Te._fullLayout._outlining=!1)}_e.selection={},_e.selection.selectionDefs=Re.selectionDefs=[],_e.selection.mergedPolygons=Re.mergedPolygons=[]}function Z(Re){return Re._id}function re(Re,ke,Ne,_e){if(!Re.calcdata)return[];var Fe,Xe,at,Te=[],fe=ke.map(Z),pe=Ne.map(Z);for(at=0;at<Re.calcdata.length;at++)if(!0===(Xe=(Fe=Re.calcdata[at])[0].trace).visible&&Xe._module&&Xe._module.selectPoints)if(!X({subplot:_e})||Xe.subplot!==_e&&Xe.geo!==_e)if("splom"===Xe.type){if(Xe._xaxes[fe[0]]&&Xe._yaxes[pe[0]]){var ft=q(Xe._module,Fe,ke[0],Ne[0]);ft.scene=Re._fullLayout._splomScenes[Xe.uid],Te.push(ft)}}else if("sankey"===Xe.type){var Xt=q(Xe._module,Fe,ke[0],Ne[0]);Te.push(Xt)}else{if(-1===fe.indexOf(Xe.xaxis)||-1===pe.indexOf(Xe.yaxis))continue;Te.push(q(Xe._module,Fe,S(Re,Xe.xaxis),S(Re,Xe.yaxis)))}else Te.push(q(Xe._module,Fe,ke[0],Ne[0]));return Te}function q(Re,ke,Ne,_e){return{_module:Re,cd:ke,xaxis:Ne,yaxis:_e}}function we(Re){var ke=Re.searchInfo.cd[0].trace,_e=Re.pointNumbers;return!!ke.selectedpoints&&ke.selectedpoints.indexOf(_e.length>0?_e[0]:Re.pointNumber)>-1}function Ie(Re,ke,Ne){var _e,pe;for(_e=0;_e<ke.length;_e++){var Te=ke[_e].cd[0].trace._fullInput,fe=Re._fullLayout._tracePreGUI[Te.uid]||{};void 0===fe.selectedpoints&&(fe.selectedpoints=Te._input.selectedpoints||null)}if(Ne){var Fe=Ne.points||[];for(_e=0;_e<ke.length;_e++)(pe=ke[_e].cd[0].trace)._input.selectedpoints=pe._fullInput.selectedpoints=[],pe._fullInput!==pe&&(pe.selectedpoints=[]);for(var Xe=0;Xe<Fe.length;Xe++){var at=Fe[Xe],ft=at.data,Xt=at.fullData,rr=at.pointIndex,At=at.pointIndices;At?([].push.apply(ft.selectedpoints,At),pe._fullInput!==pe&&[].push.apply(Xt.selectedpoints,At)):(ft.selectedpoints.push(rr),pe._fullInput!==pe&&Xt.selectedpoints.push(rr))}}else for(_e=0;_e<ke.length;_e++)delete(pe=ke[_e].cd[0].trace).selectedpoints,delete pe._input.selectedpoints,pe._fullInput!==pe&&delete pe._fullInput.selectedpoints;!function Se(Re,ke){for(var Ne=!1,_e=0;_e<ke.length;_e++){var Te=ke[_e],fe=Te.cd;o.traceIs(fe[0].trace,"regl")&&(Ne=!0);var pe=Te._module,Fe=pe.styleOnSelect||pe.style;Fe&&(Fe(Re,fe,fe[0].node3),fe[0].nodeRangePlot3&&Fe(Re,fe,fe[0].nodeRangePlot3))}Ne&&(d(Re),I(Re))}(Re,ke)}function xe(Re,ke,Ne){for(var fe=(Ne?T.difference:T.union)({regions:Re},{regions:[ke]}).regions.reverse(),pe=0;pe<fe.length;pe++){var Fe=fe[pe];Fe.subtract=tt(Fe,fe.slice(0,pe))}return fe}function Me(Re,ke){if(Array.isArray(Re))for(var Ne=ke.cd,_e=ke.cd[0].trace,Te=0;Te<Re.length;Te++)Re[Te]=y(Re[Te],_e,Ne);return Re}function Ge(Re,ke){for(var Ne=[],_e=0;_e<Re.length;_e++){Ne[_e]=[];for(var Te=0;Te<Re[_e].length;Te++){Ne[_e][Te]=[],Ne[_e][Te][0]=Te?"L":"M";for(var fe=0;fe<Re[_e][Te].length;fe++)Ne[_e][Te].push(Re[_e][Te][fe])}ke||Ne[_e].push(["Z",Ne[_e][0][1],Ne[_e][0][2]])}return Ne}function Ye(Re,ke){for(var _e,fe,Ne=[],Te=[],pe=0;pe<ke.length;pe++){var Fe=ke[pe];fe=Fe._module.selectPoints(Fe,Re),Te.push(fe),_e=Me(fe,Fe),Ne=Ne.concat(_e)}return Ne}function De(Re,ke,Ne,_e,Te){var pe,Fe,Xe,fe=!!_e;Te&&(pe=Te.plotinfo,Fe=Te.xaxes[0]._id,Xe=Te.yaxes[0]._id);var at=[],ft=[],Xt=ze(Re),rr=Re._fullLayout;if(pe){var At=rr._zoomlayer,zt=rr.dragmode,Qt=i(zt),Rr=f(zt);if(Qt||Rr){var pt=S(Re,Fe,"x"),$t=S(Re,Xe,"y");if(pt&&$t){var tr=At.selectAll(".select-outline-"+pe.id);if(tr&&Re._fullLayout._outlining&&tr.length){for(var pr=tr[0][0].getAttribute("d"),dt=v(pr,Re,pe),it=[],mt=0;mt<dt.length;mt++){for(var St=dt[mt],Lt=[],Ct=0;Ct<St.length;Ct++)Lt.push([lt(pt,St[Ct][1]),lt($t,St[Ct][2])]);Lt.xref=Fe,Lt.yref=Xe,Lt.subtract=tt(Lt,it),it.push(Lt)}Xt=Xt.concat(it)}}}}var Ut=Fe&&Xe?[Fe+Xe]:rr._subplots.cartesian;!function He(Re){var ke=Re.calcdata;if(ke)for(var Ne=0;Ne<ke.length;Ne++){var fe=Re._fullLayout._splomScenes;if(fe){var pe=fe[ke[Ne][0].trace.uid];pe&&(pe.selectBatch=[])}}}(Re);for(var Bt={},qt=0;qt<Ut.length;qt++){var cr=Ut[qt],lr=cr.indexOf("y"),br=cr.slice(0,lr),We=cr.slice(lr),Ve=Fe&&Xe?Ne:void 0;if(Ve=Be(Xt,br,We,Ve)){var Rt=_e;if(!fe){var _t=S(Re,br,"x"),Kt=S(Re,We,"y");Rt=re(Re,[_t],[Kt],cr);for(var sr=0;sr<Rt.length;sr++){var hr=Rt[sr],or=hr.cd[0],Nt=or.trace;if("scattergl"===hr._module.name&&!or.t.xpx){var dr=Nt.x,Mr=Nt.y,wr=Nt._length;or.t.xpx=[],or.t.ypx=[];for(var kr=0;kr<wr;kr++)or.t.xpx[kr]=_t.c2p(dr[kr]),or.t.ypx[kr]=Kt.c2p(Mr[kr])}"splom"===hr._module.name&&(Bt[Nt.uid]||(Bt[Nt.uid]=!0))}}var tn=Ye(Ve,Rt);at=at.concat(tn),ft=ft.concat(Rt)}}var _r={points:at};Ie(Re,ft,_r);var vn=rr.clickmode.indexOf("event")>-1&&ke;if(!pe&&ke){var Xr=ze(Re,!0);if(Xr.length){var On=Xr[0].xref,mn=Xr[0].yref;if(On&&mn){var xr=ut(Xr);bt([S(Re,On,"x"),S(Re,mn,"y")])(_r,xr)}}Re._fullLayout._noEmitSelectedAtStart?Re._fullLayout._noEmitSelectedAtStart=!1:vn&&Ce(Re,_r),rr._reselect=!1}if(!pe&&rr._deselect){var Zr=rr._deselect;(function rt(Re,ke,Ne){for(var _e=0;_e<Ne.length;_e++){var Te=Ne[_e];if(Te.xaxis&&Te.xaxis._id===Re&&Te.yaxis&&Te.yaxis._id===ke)return!0}return!1})(Fe=Zr.xref,Xe=Zr.yref,ft)||$e(Re,Fe,Xe,_e),vn&&(_r.points.length?Ce(Re,_r):Ee(Re)),rr._deselect=!1}return{eventData:_r,selectionTesters:Ne}}function $e(Re,ke,Ne,_e){_e=re(Re,[S(Re,ke,"x")],[S(Re,Ne,"y")],ke+Ne);for(var Te=0;Te<_e.length;Te++){var fe=_e[Te];fe._module.selectPoints(fe,!1)}Ie(Re,_e)}function Be(Re,ke,Ne,_e){for(var Te,fe=0;fe<Re.length;fe++){var pe=Re[fe];ke===pe.xref&&Ne===pe.yref&&(Te?_e=W(Te=xe(Te,pe,!!pe.subtract)):(Te=[pe],_e=z(pe)))}return _e}function ze(Re,ke){for(var Ne=[],_e=Re._fullLayout,Te=_e.selections,fe=Te.length,pe=0;pe<fe;pe++)if(!ke||pe===_e._activeSelectionIndex){var Fe=Te[pe];if(Fe){var rr,At,zt,Qt,Rr,Xe=Fe.xref,at=Fe.yref,ft=S(Re,Xe,"x"),Xt=S(Re,at,"y");if("rect"===Fe.type){Rr=[];var pt=lt(ft,Fe.x0),$t=lt(ft,Fe.x1),tr=lt(Xt,Fe.y0),Er=lt(Xt,Fe.y1);Rr=[[pt,tr],[pt,Er],[$t,Er],[$t,tr]],rr=Math.min(pt,$t),At=Math.max(pt,$t),zt=Math.min(tr,Er),Qt=Math.max(tr,Er),Rr.xmin=rr,Rr.xmax=At,Rr.ymin=zt,Rr.ymax=Qt,Rr.xref=Xe,Rr.yref=at,Rr.subtract=!1,Rr.isRect=!0,Ne.push(Rr)}else if("path"===Fe.type)for(var pr=Fe.path.split("Z"),dt=[],it=0;it<pr.length;it++){var mt=pr[it];if(mt){var St=c.extractPathCoords(mt+="Z",m.paramIsX,"raw"),Lt=c.extractPathCoords(mt,m.paramIsY,"raw");rr=1/0,At=-1/0,zt=1/0,Qt=-1/0,Rr=[];for(var Ct=0;Ct<St.length;Ct++){var Ut=lt(ft,St[Ct]),Bt=lt(Xt,Lt[Ct]);Rr.push([Ut,Bt]),rr=Math.min(Ut,rr),At=Math.max(Ut,At),zt=Math.min(Bt,zt),Qt=Math.max(Bt,Qt)}Rr.xmin=rr,Rr.xmax=At,Rr.ymin=zt,Rr.ymax=Qt,Rr.xref=Xe,Rr.yref=at,Rr.subtract=tt(Rr,dt),dt.push(Rr),Ne.push(Rr)}}}}return Ne}function tt(Re,ke){for(var Ne=!1,_e=0;_e<ke.length;_e++)for(var Te=ke[_e],fe=0;fe<Re.length;fe++)if(D(Re[fe],Te)){Ne=!Ne;break}return Ne}function lt(Re,ke){return"date"===Re.type&&(ke=ke.replace("_"," ")),"log"===Re.type?Re.c2p(ke):Re.r2p(ke,null,Re.calendar)}function ut(Re){for(var ke=Re.length,Ne=[],_e=0;_e<ke;_e++){var Te=Re[_e];Ne=(Ne=Ne.concat(Te)).concat([Te[0]])}return function xt(Re){return Re.isRect=5===Re.length&&Re[0][0]===Re[4][0]&&Re[0][1]===Re[4][1]&&Re[0][0]===Re[1][0]&&Re[2][0]===Re[3][0]&&Re[0][1]===Re[3][1]&&Re[1][1]===Re[2][1]||Re[0][1]===Re[1][1]&&Re[2][1]===Re[3][1]&&Re[0][0]===Re[3][0]&&Re[1][0]===Re[2][0],Re.isRect&&(Re.xmin=Math.min(Re[0][0],Re[2][0]),Re.xmax=Math.max(Re[0][0],Re[2][0]),Re.ymin=Math.min(Re[0][1],Re[2][1]),Re.ymax=Math.max(Re[0][1],Re[2][1])),Re}(Ne)}function bt(Re){return function(ke,Ne){for(var _e,Te,fe=0;fe<Re.length;fe++){var pe=Re[fe],Fe=pe._id,Xe=Fe.charAt(0);if(Ne.isRect){_e||(_e={});var at=Ne[Xe+"min"],ft=Ne[Xe+"max"];void 0!==at&&void 0!==ft&&(_e[Fe]=[F(pe,at),F(pe,ft)].sort(M))}else Te||(Te={}),Te[Fe]=Ne.map(N(pe))}_e&&(ke.range=_e),Te&&(ke.lassoPoints=Te)}}function Ce(Re,ke){ke&&(ke.selections=(Re.layout||{}).selections||[]),Re.emit("plotly_selected",ke)}function Ee(Re){Re.emit("plotly_deselect",null)}te.exports={reselect:De,prepSelect:function ne(Re,ke,Ne,_e,Te){var fe=!X(_e),pe=r(Te),Fe=l(Te),Xe=u(Te),at=i(Te),ft=f(Te),rr="drawcircle"===Te,At="drawline"===Te||rr,zt=_e.gd,Qt=zt._fullLayout,Rr=ft&&"immediate"===Qt.newselection.mode&&fe,pt=Qt._zoomlayer,$t=_e.element.getBoundingClientRect(),tr=_e.plotinfo,Er=H(tr),pr=ke-$t.left,dt=Ne-$t.top;Qt._calcInverseTransform(zt);var We,Ve,Rt,_t,Kt,sr,hr,it=g.apply3DTransform(Qt._invTransform)(pr,dt),mt=Qt._invScaleX,St=Qt._invScaleY,Lt=pr=it[0],Ct=dt=it[1],Ut="M"+pr+","+dt,Bt=_e.xaxes[0],qt=_e.yaxes[0],cr=Bt._length,lr=qt._length,br=Re.altKey&&!(i(Te)&&Xe);V(Re,zt,_e),pe&&(We=k([[pr,dt]],L.BENDPX));var or=pt.selectAll("path.select-outline-"+tr.id).data([1]),Nt=at?Qt.newshape:Qt.newselection;at&&(_e.hasText=Nt.label.text||Nt.label.texttemplate);var dr=at&&!Xe?Nt.fillcolor:"rgba(0,0,0,0)",Mr=Nt.line.color||(fe?C.contrast(zt._fullLayout.plot_bgcolor):"#7f7f7f");or.enter().append("path").attr("class","select-outline select-outline-"+tr.id).style({opacity:at?Nt.opacity/2:1,"stroke-dasharray":P(Nt.line.dash,Nt.line.width),"stroke-width":Nt.line.width+"px","shape-rendering":"crispEdges"}).call(C.stroke,Mr).call(C.fill,dr).attr("fill-rule","evenodd").classed("cursor-move",!!at).attr("transform",Er).attr("d",Ut+"Z");var wr=pt.append("path").attr("class","zoombox-corners").style({fill:C.background,stroke:C.defaultLine,"stroke-width":1}).attr("transform",Er).attr("d","M0,0Z");if(at&&_e.hasText){var kr=pt.select(".label-temp");kr.empty()&&(kr=pt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var tn=Qt._uid+L.SELECTID,_r=[],Kr=re(zt,_e.xaxes,_e.yaxes,_e.subplot);Rr&&!Re.shiftKey&&(_e._clearSubplotSelections=function(){if(fe){var Xr=Bt._id,On=qt._id;$e(zt,Xr,On,Kr);for(var mn=(zt.layout||{}).selections||[],xr=[],Pr=!1,Zr=0;Zr<mn.length;Zr++){var Hr=Qt.selections[Zr];Hr.xref!==Xr||Hr.yref!==On?xr.push(mn[Zr]):Pr=!0}Pr&&(zt._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",zt,{selections:xr}))}});var vn=function Ht(Re){return Re.plotinfo.fillRangeItems||bt(Re.xaxes.concat(Re.yaxes))}(_e);_e.moveFn=function(Xr,On){_e._clearSubplotSelections&&(_e._clearSubplotSelections(),_e._clearSubplotSelections=void 0),Lt=Math.max(0,Math.min(cr,mt*Xr+pr)),Ct=Math.max(0,Math.min(lr,St*On+dt));var mn=Math.abs(Lt-pr),xr=Math.abs(Ct-dt);if(Fe){var Pr,Zr,Hr;if(ft){var fn=Qt.selectdirection;switch(Pr="any"===fn?xr<Math.min(.6*mn,B)?"h":mn<Math.min(.6*xr,B)?"v":"d":fn){case"h":Zr=rr?lr/2:0,Hr=lr;break;case"v":Zr=rr?cr/2:0,Hr=cr}}if(at)switch(Qt.newshape.drawdirection){case"vertical":Pr="h",Zr=rr?lr/2:0,Hr=lr;break;case"horizontal":Pr="v",Zr=rr?cr/2:0,Hr=cr;break;case"ortho":mn<xr?(Pr="h",Zr=dt,Hr=Ct):(Pr="v",Zr=pr,Hr=Lt);break;default:Pr="d"}"h"===Pr?((_t=At?s(rr,[Lt,Zr],[Lt,Hr]):[[pr,Zr],[pr,Hr],[Lt,Hr],[Lt,Zr]]).xmin=At?Lt:Math.min(pr,Lt),_t.xmax=At?Lt:Math.max(pr,Lt),_t.ymin=Math.min(Zr,Hr),_t.ymax=Math.max(Zr,Hr),wr.attr("d","M"+_t.xmin+","+(dt-B)+"h-4v"+2*B+"h4ZM"+(_t.xmax-1)+","+(dt-B)+"h4v"+2*B+"h-4Z")):"v"===Pr?((_t=At?s(rr,[Zr,Ct],[Hr,Ct]):[[Zr,dt],[Zr,Ct],[Hr,Ct],[Hr,dt]]).xmin=Math.min(Zr,Hr),_t.xmax=Math.max(Zr,Hr),_t.ymin=At?Ct:Math.min(dt,Ct),_t.ymax=At?Ct:Math.max(dt,Ct),wr.attr("d","M"+(pr-B)+","+_t.ymin+"v-4h"+2*B+"v4ZM"+(pr-B)+","+(_t.ymax-1)+"v4h"+2*B+"v-4Z")):"d"===Pr&&((_t=At?s(rr,[pr,dt],[Lt,Ct]):[[pr,dt],[pr,Ct],[Lt,Ct],[Lt,dt]]).xmin=Math.min(pr,Lt),_t.xmax=Math.max(pr,Lt),_t.ymin=Math.min(dt,Ct),_t.ymax=Math.max(dt,Ct),wr.attr("d","M0,0Z"))}else pe&&(We.addPt([Lt,Ct]),_t=We.filtered);if(_e.selectionDefs&&_e.selectionDefs.length?(Rt=xe(_e.mergedPolygons,_t,br),_t.subtract=br,Ve=W(_e.selectionDefs.concat([_t]))):(Rt=[_t],Ve=z(_t)),a(Ge(Rt,Xe),or,_e),ft){var Pn,Tn=De(zt,!1),Mn=Tn.eventData?Tn.eventData.points.slice():[];Tn=De(zt,!1,Ve,Kr,_e),Ve=Tn.selectionTesters,hr=Tn.eventData,Pn=We?We.filtered:ut(Rt),n.throttle(tn,L.SELECTDELAY,function(){for(var Fn=(_r=Ye(Ve,Kr)).slice(),la=0;la<Mn.length;la++){for(var Xn=Mn[la],na=!1,Yn=0;Yn<Fn.length;Yn++)if(Fn[Yn].curveNumber===Xn.curveNumber&&Fn[Yn].pointNumber===Xn.pointNumber){na=!0;break}na||Fn.push(Xn)}Fn.length&&(hr||(hr={}),hr.points=Fn),vn(hr,Pn),function Je(Re,ke){Re.emit("plotly_selecting",ke)}(zt,hr)})}},_e.clickFn=function(Xr,On){if(wr.remove(),zt._fullLayout._activeShapeIndex>=0)zt._fullLayout._deactivateShape(zt);else if(!at){var mn=Qt.clickmode;n.done(tn).then(function(){if(n.clear(tn),2===Xr){for(or.remove(),Kt=0;Kt<Kr.length;Kt++)(sr=Kr[Kt])._module.selectPoints(sr,!1);if(Ie(zt,Kr),Q(_e),Ee(zt),Kr.length){var xr=Kr[0].xaxis,Pr=Kr[0].yaxis;if(xr&&Pr){for(var Zr=[],Hr=zt._fullLayout.selections,fn=0;fn<Hr.length;fn++){var Tn=Hr[fn];Tn&&(Tn.xref!==xr._id||Tn.yref!==Pr._id)&&Zr.push(Tn)}Zr.length<Hr.length&&(zt._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",zt,{selections:Zr}))}}}else mn.indexOf("select")>-1&&ie(On,zt,_e.xaxes,_e.yaxes,_e.subplot,_e,or),"event"===mn&&Ce(zt,void 0);h.click(zt,On,tr.id)}).catch(g.error)}},_e.doneFn=function(){wr.remove(),n.done(tn).then(function(){n.clear(tn),!Rr&&_t&&_e.selectionDefs&&(_t.subtract=br,_e.selectionDefs.push(_t),_e.mergedPolygons.length=0,[].push.apply(_e.mergedPolygons,Rt)),(Rr||at)&&Q(_e,Rr),_e.doneFnCompleted&&_e.doneFnCompleted(_r),ft&&Ce(zt,hr)}).catch(g.error)}},clearOutline:b,clearSelectionsCache:Q,selectOnClick:ie}},89827:function(te,Y,e){"use strict";var T=e(50215),D=e(41940),o=e(82196).line,P=e(79952).P,C=e(1426).extendFlat,h=e(44467).templatedArray,t=(e(24695),e(9012)),r=e(5386).R,l=e(37281);te.exports=h("shape",{visible:C({},t.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:C({},t.legend,{editType:"calc+arraydraw"}),legendgroup:C({},t.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:C({},t.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:D({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:C({},t.legendrank,{editType:"calc+arraydraw"}),legendwidth:C({},t.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:C({},T.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:C({},T.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:C({},o.color,{editType:"arraydraw"}),width:C({},o.width,{editType:"calc+arraydraw"}),dash:C({},P,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(l)}),font:D({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(te,Y,e){"use strict";var T=e(71828),D=e(89298),o=e(21459),P=e(30477);function h(r){return y(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function y(r,l,i,u,f,c){var m=r/2,a=c;if("pixel"===l){var b=f?P.extractPathCoords(f,c?o.paramIsY:o.paramIsX):[i,u],p=T.aggNums(Math.max,null,b),s=T.aggNums(Math.min,null,b),v=s<0?Math.abs(s)+m:m,A=p>0?p+m:m;return{ppad:m,ppadplus:a?v:A,ppadminus:a?A:v}}return{ppad:m}}function t(r,l,i,u,f){var c="category"===r.type||"multicategory"===r.type?r.r2c:r.d2c;if(void 0!==l)return[c(l),c(i)];if(u){var p,v,A,x,m=1/0,a=-1/0,b=u.match(o.segmentRE);for("date"===r.type&&(c=P.decodeDate(c)),p=0;p<b.length;p++)void 0!==(v=f[b[p].charAt(0)].drawn)&&(A=b[p].substr(1).match(o.paramRE))&&!(A.length<v)&&((x=c(A[v]))<m&&(m=x),x>a&&(a=x));if(a>=m)return[m,a]}}te.exports=function(l){var r,u=T.filterVisible(l._fullLayout.shapes);if(u.length&&l._fullData.length)for(var f=0;f<u.length;f++){var c=u[f];c._extremes={};var m,a,b=D.getRefType(c.xref),p=D.getRefType(c.yref);if("paper"!==c.xref&&"domain"!==b){var s="pixel"===c.xsizemode?c.xanchor:c.x0,v="pixel"===c.xsizemode?c.xanchor:c.x1;(a=t(m=D.getFromId(l,c.xref),s,v,c.path,o.paramIsX))&&(c._extremes[m._id]=D.findExtremes(m,a,y((r=c).line.width,r.xsizemode,r.x0,r.x1,r.path,!1)))}if("paper"!==c.yref&&"domain"!==p){var A="pixel"===c.ysizemode?c.yanchor:c.y0,x="pixel"===c.ysizemode?c.yanchor:c.y1;(a=t(m=D.getFromId(l,c.yref),A,x,c.path,o.paramIsY))&&(c._extremes[m._id]=D.findExtremes(m,a,h(c)))}}}},21459:function(te){"use strict";te.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(te,Y,e){"use strict";var T=e(71828),D=e(89298),o=e(85501),P=e(89827),C=e(30477);function y(t,r,l){function i(J,j){return T.coerce(t,r,P,J,j)}if(r._isShape=!0,i("visible")){i("showlegend")&&(i("legend"),i("legendwidth"),i("legendgroup"),i("legendgrouptitle.text"),T.coerceFont(i,"legendgrouptitle.font"),i("legendrank"));var c=i("path"),a=i("type",c?"path":"rect"),b="path"!==a;b&&delete r.path,i("editable"),i("layer"),i("opacity"),i("fillcolor"),i("fillrule"),i("line.width")&&(i("line.color"),i("line.dash"));for(var s=i("xsizemode"),v=i("ysizemode"),A=["x","y"],x=0;x<2;x++){var n,S,d,E=A[x],g=E+"anchor",M="x"===E?s:v,w={_fullLayout:l},I=D.coerceRef(t,r,w,E,void 0,"paper");if("range"===D.getRefType(I)?((n=D.getFromId(w,I))._shapeIndices.push(r._index),d=C.rangeToShapePosition(n),S=C.shapePositionToRange(n)):S=d=T.identity,b){var z=E+"0",O=E+"1",F=t[z],N=t[O];t[z]=S(t[z],!0),t[O]=S(t[O],!0),"pixel"===M?(i(z,0),i(O,10)):(D.coercePosition(r,w,i,I,z,.25),D.coercePosition(r,w,i,I,O,.75)),r[z]=d(r[z]),r[O]=d(r[O]),t[z]=F,t[O]=N}if("pixel"===M){var H=t[g];t[g]=S(t[g],!0),D.coercePosition(r,w,i,I,g,.25),r[g]=d(r[g]),t[g]=H}}b&&T.noneOrAll(t,r,["x0","x1","y0","y1"]);var ne,ie,X="line"===a;if(b&&(ne=i("label.texttemplate")),ne||(ie=i("label.text")),ie||ne){i("label.textangle");var ue=i("label.textposition",X?"middle":"middle center");i("label.xanchor"),i("label.yanchor",function h(t,r){return t?"bottom":-1!==r.indexOf("top")?"top":-1!==r.indexOf("bottom")?"bottom":"middle"}(X,ue)),i("label.padding"),T.coerceFont(i,"label.font",l.font)}}}te.exports=function(r,l){o(r,l,{name:"shapes",handleItemDefaults:y})}},48100:function(te,Y,e){"use strict";var T=e(71828),D=e(89298),o=e(63893),P=e(91424),C=e(60165).readPaths,h=e(30477),y=h.getPathString,t=e(37281),r=e(18783).FROM_TL;te.exports=function(f,c,m,a){if(a.selectAll(".shape-label").remove(),m.label.text||m.label.texttemplate){var b;if(m.label.texttemplate){var p={};if("path"!==m.type){var s=D.getFromId(f,m.xref),v=D.getFromId(f,m.yref);for(var A in t){var x=t[A](m,s,v);void 0!==x&&(p[A]=x)}}b=T.texttemplateStringForShapes(m.label.texttemplate,{},f._fullLayout._d3locale,p)}else b=m.label.text;var S,d,I,L,E={"data-index":c},g=m.label.font,n=a.append("g").attr(E).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(b);if(m.path){var B=y(f,m),k=C(B,f);S=1/0,I=1/0,d=-1/0,L=-1/0;for(var z=0;z<k.length;z++)for(var O=0;O<k[z].length;O++)for(var F=k[z][O],N=1;N<F.length;N+=2){var H=F[N],X=F[N+1];S=Math.min(S,H),d=Math.max(d,H),I=Math.min(I,X),L=Math.max(L,X)}}else{var ne=D.getFromId(f,m.xref),ie=D.getRefType(m.xref),ue=D.getFromId(f,m.yref),J=D.getRefType(m.yref),j=h.getDataToPixel(f,ne,!1,ie),W=h.getDataToPixel(f,ue,!0,J);S=j(m.x0),d=j(m.x1),I=W(m.y0),L=W(m.y1)}var V=m.label.textangle;"auto"===V&&(V="line"===m.type?function l(u,f,c,m){var b;return b=Math.abs(c-u),-180/Math.PI*Math.atan2(c>=u?f-m:m-f,b)}(S,I,d,L):0),n.call(function(q){return q.call(P.font,g).attr({}),o.convertToTspans(q,f),q});var ae=function i(u,f,c,m,a,b,p){var S,d,I,L,s=a.label.textposition,v=a.label.textangle,A=a.label.padding,x=a.type,E=Math.PI/180*b,g=Math.sin(E),M=Math.cos(E),w=a.label.xanchor,n=a.label.yanchor;if("line"===x){"start"===s?(S=u,d=f):"end"===s?(S=c,d=m):(S=(u+c)/2,d=(f+m)/2),"auto"===w&&(w="start"===s?"auto"===v?c>u?"left":c<u?"right":"center":c>u?"right":c<u?"left":"center":"end"===s?"auto"===v?c>u?"right":c<u?"left":"center":c>u?"left":c<u?"right":"center":"center");var k={bottom:-1,middle:0,top:1};if("auto"===v){var z=k[n];I=-A*g*z,L=A*M*z}else I=A*{left:1,center:0,right:-1}[w],L=A*k[n];S+=I,d+=L}else I=A+3,-1!==s.indexOf("right")?(S=Math.max(u,c)-I,"auto"===w&&(w="right")):-1!==s.indexOf("left")?(S=Math.min(u,c)+I,"auto"===w&&(w="left")):(S=(u+c)/2,"auto"===w&&(w="center")),d=-1!==s.indexOf("top")?Math.min(f,m):-1!==s.indexOf("bottom")?Math.max(f,m):(f+m)/2,L=A,"bottom"===n?d-=L:"top"===n&&(d+=L);var N=r[n],H=a.label.font.size,X=p.height;return{textx:S+(X*N-H)*g,texty:d+-(X*N-H)*M,xanchor:w}}(S,I,d,L,m,V,P.bBox(n.node())),Q=ae.textx,Z=ae.texty;n.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ae.xanchor],y:Z,x:Q,transform:"rotate("+V+","+Q+","+Z+")"}).call(o.positionText,Q,Z)}}},42359:function(te,Y,e){"use strict";var D=e(71828).strTranslate,o=e(28569),P=e(64505),C=P.drawMode,h=P.selectMode,y=e(73972),t=e(7901),r=e(89995),l=r.i000,i=r.i090,u=r.i180,f=r.i270,m=e(51873).clearOutlineControllers,a=e(60165),b=a.pointsOnRectangle,p=a.pointsOnEllipse,s=a.writePaths,v=e(90551).newShapes,A=e(90551).createShapeObj,x=e(35855),E=e(48100);function M(n,S){var B,k,z,L=n.length;return z=n[B=(S+1)%L][2],(k=n[B][1])===n[S][1]&&z===n[S][2]&&(k=n[B=(S+2)%L][1],z=n[B][2]),[B,k,z]}te.exports=function n(S,d,I,L){L||(L=0);var B=I.gd;function k(){n(S,d,I,L++),(p(S[0])||I.hasText)&&z({redrawing:!0})}function z(xe){var Me={};void 0!==I.isActiveShape&&(I.isActiveShape=!1,Me=v(d,I)),void 0!==I.isActiveSelection&&(I.isActiveSelection=!1,Me=x(d,I),B._fullLayout._reselect=!0),Object.keys(Me).length&&y.call((xe||{}).redrawing?"relayout":"_guiRelayout",B,Me)}var ne,ie,ue,J,j,F=B._fullLayout._zoomlayer,N=I.dragmode,H=C(N),X=h(N);if((H||X)&&(B._fullLayout._outlining=!0),m(B),d.attr("d",s(S)),L||!I.isActiveShape&&!I.isActiveSelection||(j=function g(n,S){for(var d=0;d<S.length;d++){var I=S[d];n[d]=[];for(var L=0;L<I.length;L++){n[d][L]=[];for(var B=0;B<I[L].length;B++)n[d][L][B]=I[L][B]}}return n}([],S),function se(xe){ne=[];for(var Me=0;Me<S.length;Me++){var Ge=S[Me],Ye=b(Ge),De=!Ye&&p(Ge);ne[Me]=[];for(var He=Ge.length,rt=0;rt<He;rt++)if("Z"!==Ge[rt][0]&&(!De||rt===l||rt===i||rt===u||rt===f)){var Be,$e=Ye&&I.isActiveSelection;$e&&(Be=M(Ge,rt));var ze=Ge[rt][1],tt=Ge[rt][2],lt=xe.append($e?"rect":"circle").attr("data-i",Me).attr("data-j",rt).style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if($e){var ut=Be[1]-ze,xt=Be[2]-tt,bt=xt?5:Math.max(Math.min(25,Math.abs(ut)-5),5),Ht=ut?5:Math.max(Math.min(25,Math.abs(xt)-5),5);lt.classed(xt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",bt).attr("height",Ht).attr("x",ze-bt/2).attr("y",tt-Ht/2).attr("transform",D(ut/2,xt/2))}else lt.classed("cursor-grab",!0).attr("r",5).attr("cx",ze).attr("cy",tt);ne[Me][rt]={element:lt.node(),gd:B,prepFn:ae,doneFn:Z,clickFn:q},o.init(ne[Me][rt])}}}(F.append("g").attr("class","outline-controllers")),function Se(){if(ie=[],S.length){ie[0]={element:d[0][0],gd:B,prepFn:ye,doneFn:Pe,clickFn:Ie},o.init(ie[0])}}()),H&&I.hasText){var V=F.select(".label-temp"),K=A(d,I,I.dragmode);E(B,"label-temp",K,V)}function ae(xe){ue=+xe.srcElement.getAttribute("data-i"),J=+xe.srcElement.getAttribute("data-j"),ne[ue][J].moveFn=Q}function Q(xe,Me){if(S.length){var Ge=j[ue][J][1],Ye=j[ue][J][2],De=S[ue],He=De.length;if(b(De)){var rt=xe,$e=Me;I.isActiveSelection&&(M(De,J)[1]===De[J][1]?$e=0:rt=0);for(var ze=0;ze<He;ze++)if(ze!==J){var tt=De[ze];tt[1]===De[J][1]&&(tt[1]=Ge+rt),tt[2]===De[J][2]&&(tt[2]=Ye+$e)}if(De[J][1]=Ge+rt,De[J][2]=Ye+$e,!b(De))for(var lt=0;lt<He;lt++)for(var ut=0;ut<De[lt].length;ut++)De[lt][ut]=j[ue][lt][ut]}else De[J][1]=Ge+xe,De[J][2]=Ye+Me;k()}}function Z(){z()}function q(xe,Me){if(2===xe){ue=+Me.srcElement.getAttribute("data-i"),J=+Me.srcElement.getAttribute("data-j");var Ge=S[ue];!b(Ge)&&!p(Ge)&&function re(){if(S.length&&S[ue]&&S[ue].length){for(var xe=[],Me=0;Me<S[ue].length;Me++)Me!==J&&xe.push(S[ue][Me]);xe.length>1&&(2!==xe.length||"Z"!==xe[1][0])&&(0===J&&(xe[0][0]="M"),S[ue]=xe,k(),z())}}()}}function we(xe,Me){(function de(xe,Me){if(S.length)for(var Ge=0;Ge<S.length;Ge++)for(var Ye=0;Ye<S[Ge].length;Ye++)for(var De=0;De+2<S[Ge][Ye].length;De+=2)S[Ge][Ye][De+1]=j[Ge][Ye][De+1]+xe,S[Ge][Ye][De+2]=j[Ge][Ye][De+2]+Me})(xe,Me),k()}function ye(xe){(ue=+xe.srcElement.getAttribute("data-i"))||(ue=0),ie[ue].moveFn=we}function Pe(){z()}function Ie(xe){2===xe&&function w(n){if(h(n._fullLayout.dragmode)){m(n);var S=n._fullLayout._activeSelectionIndex,d=(n.layout||{}).selections||[];if(S<d.length){for(var I=[],L=0;L<d.length;L++)L!==S&&I.push(d[L]);delete n._fullLayout._activeSelectionIndex;var B=n._fullLayout.selections[S];n._fullLayout._deselect={xref:B.xref,yref:B.yref},y.call("_guiRelayout",n,{selections:I})}}}(B)}}},34031:function(te,Y,e){"use strict";var T=e(39898),D=e(73972),o=e(71828),P=e(89298),C=e(60165).readPaths,h=e(42359),y=e(48100),t=e(51873).clearOutlineControllers,r=e(7901),l=e(91424),i=e(44467).arrayEditor,u=e(28569),f=e(6964),c=e(21459),m=e(30477),a=m.getPathString;function b(n){var S=n._fullLayout;for(var d in S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._shapeUpperLayer.selectAll("text").remove(),S._shapeLowerLayer.selectAll("text").remove(),S._plots){var I=S._plots[d].shapelayer;I&&(I.selectAll("path").remove(),I.selectAll("text").remove())}for(var L=0;L<S.shapes.length;L++)!0===S.shapes[L].visible&&v(n,L)}function p(n){return!!n._fullLayout._outlining}function s(n){return!n._context.edits.shapePosition}function v(n,S){n._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var d=m.makeShapesOptionsAndPlotinfo(n,S),I=d.options,L=d.plotinfo;function k(z){var O=a(n,I),F={"data-index":S,"fill-rule":I.fillrule,d:O},N=I.opacity,H=I.fillcolor,X=I.line.width?I.line.color:"rgba(0,0,0,0)",ne=I.line.width,ie=I.line.dash;!ne&&!0===I.editable&&(ne=5,ie="solid");var ue="Z"!==O[O.length-1],J=s(n)&&I.editable&&n._fullLayout._activeShapeIndex===S;J&&(H=ue?"rgba(0,0,0,0)":n._fullLayout.activeshape.fillcolor,N=n._fullLayout.activeshape.opacity);var V,j=z.append("g").classed("shape-group",!0).attr({"data-index":S}),W=j.append("path").attr(F).style("opacity",N).call(r.stroke,X).call(r.fill,H).call(l.dashLine,ie,ne);if(A(j,n,I),y(n,S,I,j),(J||n._context.edits.shapePosition)&&(V=i(n.layout,"shapes",I)),J){W.style({cursor:"move"});var K={element:W.node(),plotinfo:L,gd:n,editHelpers:V,hasText:I.label.text||I.label.texttemplate,isActiveShape:!0},ae=C(O,n);h(ae,W,K)}else n._context.edits.shapePosition?function x(n,S,d,I,L,B){var ne,ie,ue,J,j,W,V,K,ae,Q,Z,re,q,se,de,rt,k=10,z=10,O="pixel"===d.xsizemode,F="pixel"===d.ysizemode,N="line"===d.type,H="path"===d.type,X=B.modifyItem,we=T.select(S.node().parentNode),ye=P.getFromId(n,d.xref),Pe=P.getRefType(d.xref),Ie=P.getFromId(n,d.yref),Se=P.getRefType(d.yref),xe=m.getDataToPixel(n,ye,!1,Pe),Me=m.getDataToPixel(n,Ie,!0,Se),Ge=m.getPixelToData(n,ye,!1,Pe),Ye=m.getPixelToData(n,Ie,!0,Se),De=function $e(){return N?function Be(){var Ee=10,Re=Math.max(d.line.width,Ee),ke=L.append("g").attr("data-index",I).attr("drag-helper",!0);ke.append("path").attr("d",S.attr("d")).style({cursor:"move","stroke-width":Re,"stroke-opacity":"0"});var Ne={"fill-opacity":"0"},_e=Math.max(Re/2,Ee);return ke.append("circle").attr({"data-line-point":"start-point",cx:O?xe(d.xanchor)+d.x0:xe(d.x0),cy:F?Me(d.yanchor)-d.y0:Me(d.y0),r:_e}).style(Ne).classed("cursor-grab",!0),ke.append("circle").attr({"data-line-point":"end-point",cx:O?xe(d.xanchor)+d.x1:xe(d.x1),cy:F?Me(d.yanchor)-d.y1:Me(d.y1),r:_e}).style(Ne).classed("cursor-grab",!0),ke}():S}(),He={element:De.node(),gd:n,prepFn:function tt(Ee){p(n)||(O&&(j=xe(d.xanchor)),F&&(W=Me(d.yanchor)),"path"===d.type?de=d.path:(ne=O?d.x0:xe(d.x0),ie=F?d.y0:Me(d.y0),ue=O?d.x1:xe(d.x1),J=F?d.y1:Me(d.y1)),ne<ue?(ae=ne,q="x0",Q=ue,se="x1"):(ae=ue,q="x1",Q=ne,se="x0"),!F&&ie<J||F&&ie>J?(V=ie,Z="y0",K=J,re="y1"):(V=J,Z="y1",K=ie,re="y0"),ze(Ee),Ht(L,d),function Ce(Ee,Re,ke){var Ne=Re.xref,_e=Re.yref,Te=P.getFromId(ke,Ne),fe=P.getFromId(ke,_e),pe="";"paper"!==Ne&&!Te.autorange&&(pe+=Ne),"paper"!==_e&&!fe.autorange&&(pe+=_e),l.setClipUrl(Ee,pe?"clip"+ke._fullLayout._uid+pe:null,ke)}(S,d,n),He.moveFn="move"===rt?xt:bt,He.altKey=Ee.altKey)},doneFn:function lt(){p(n)||(f(S),Je(L),A(S,n,d),D.call("_guiRelayout",n,B.getUpdateObj()))},clickFn:function ut(){p(n)||Je(L)}};function ze(Ee){if(p(n))rt=null;else if(N)rt="path"===Ee.target.tagName?"move":"start-point"===Ee.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var Re=He.element.getBoundingClientRect(),ke=Re.right-Re.left,Ne=Re.bottom-Re.top,fe=!H&&ke>k&&Ne>z&&!Ee.shiftKey?u.getCursor((Ee.clientX-Re.left)/ke,1-(Ee.clientY-Re.top)/Ne):"move";f(S,fe),rt=fe.split("-")[0]}}function xt(Ee,Re){if("path"===d.type){var ke=function(Te){return Te},Ne=ke,_e=ke;O?X("xanchor",d.xanchor=Ge(j+Ee)):(Ne=function(fe){return Ge(xe(fe)+Ee)},ye&&"date"===ye.type&&(Ne=m.encodeDate(Ne))),F?X("yanchor",d.yanchor=Ye(W+Re)):(_e=function(fe){return Ye(Me(fe)+Re)},Ie&&"date"===Ie.type&&(_e=m.encodeDate(_e))),X("path",d.path=E(de,Ne,_e))}else O?X("xanchor",d.xanchor=Ge(j+Ee)):(X("x0",d.x0=Ge(ne+Ee)),X("x1",d.x1=Ge(ue+Ee))),F?X("yanchor",d.yanchor=Ye(W+Re)):(X("y0",d.y0=Ye(ie+Re)),X("y1",d.y1=Ye(J+Re)));S.attr("d",a(n,d)),Ht(L,d),y(n,I,d,we)}function bt(Ee,Re){if(H){var ke=function(pt){return pt},Ne=ke,_e=ke;O?X("xanchor",d.xanchor=Ge(j+Ee)):(Ne=function($t){return Ge(xe($t)+Ee)},ye&&"date"===ye.type&&(Ne=m.encodeDate(Ne))),F?X("yanchor",d.yanchor=Ye(W+Re)):(_e=function($t){return Ye(Me($t)+Re)},Ie&&"date"===Ie.type&&(_e=m.encodeDate(_e))),X("path",d.path=E(de,Ne,_e))}else if(N){if("resize-over-start-point"===rt){var Te=ne+Ee,fe=F?ie-Re:ie+Re;X("x0",d.x0=O?Te:Ge(Te)),X("y0",d.y0=F?fe:Ye(fe))}else if("resize-over-end-point"===rt){var pe=ue+Ee,Fe=F?J-Re:J+Re;X("x1",d.x1=O?pe:Ge(pe)),X("y1",d.y1=F?Fe:Ye(Fe))}}else{var Xe=function(pt){return-1!==rt.indexOf(pt)},at=Xe("n"),ft=Xe("s"),Xt=Xe("w"),rr=Xe("e"),At=at?V+Re:V,zt=ft?K+Re:K,Qt=Xt?ae+Ee:ae,Rr=rr?Q+Ee:Q;F&&(at&&(At=V-Re),ft&&(zt=K-Re)),(!F&&zt-At>z||F&&At-zt>z)&&(X(Z,d[Z]=F?At:Ye(At)),X(re,d[re]=F?zt:Ye(zt))),Rr-Qt>k&&(X(q,d[q]=O?Qt:Ge(Qt)),X(se,d[se]=O?Rr:Ge(Rr)))}S.attr("d",a(n,d)),Ht(L,d),y(n,I,d,we)}function Ht(Ee,Re){(O||F)&&function ke(){var Ne="path"!==Re.type,_e=Ee.selectAll(".visual-cue").data([0]);_e.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var fe=xe(O?Re.xanchor:o.midRange(Ne?[Re.x0,Re.x1]:m.extractPathCoords(Re.path,c.paramIsX))),pe=Me(F?Re.yanchor:o.midRange(Ne?[Re.y0,Re.y1]:m.extractPathCoords(Re.path,c.paramIsY)));fe=m.roundPositionForSharpStrokeRendering(fe,1),pe=m.roundPositionForSharpStrokeRendering(pe,1),_e.attr("d",O&&F?"M"+(fe-1-1)+","+(pe-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":O?"M"+(fe-1-1)+","+(pe-9-1)+"v18 h2 v-18 Z":"M"+(fe-9-1)+","+(pe-1-1)+"h18 v2 h-18 Z")}()}function Je(Ee){Ee.selectAll(".visual-cue").remove()}u.init(He),De.node().onmousemove=ze}(n,W,I,S,z,V):!0===I.editable&&W.style("pointer-events",ue||r.opacity(H)*N<=.5?"stroke":"all");W.node().addEventListener("click",function(){return function g(n,S){if(s(n)){var I=+S.node().getAttribute("data-index");if(I>=0){if(I===n._fullLayout._activeShapeIndex)return void M(n);n._fullLayout._activeShapeIndex=I,n._fullLayout._deactivateShape=M,b(n)}}}(n,W)})}I._input&&!0===I.visible&&k("below"!==I.layer?n._fullLayout._shapeUpperLayer:"paper"===I.xref||"paper"===I.yref?n._fullLayout._shapeLowerLayer:L._hadPlotinfo?(L.mainplotinfo||L).shapelayer:n._fullLayout._shapeLowerLayer)}function A(n,S,d){var I=(d.xref+d.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");l.setClipUrl(n,I?"clip"+S._fullLayout._uid+I:null,S)}function E(n,S,d){return n.replace(c.segmentRE,function(I){var L=0,B=I.charAt(0),k=c.paramIsX[B],z=c.paramIsY[B],O=c.numParams[B];return B+I.substr(1).replace(c.paramRE,function(N){return L>=O||(k[L]?N=S(N):z[L]&&(N=d(N)),L++),N})})}function M(n){s(n)&&n._fullLayout._activeShapeIndex>=0&&(t(n),delete n._fullLayout._activeShapeIndex,b(n))}te.exports={draw:b,drawOne:v,eraseActiveShape:function w(n){if(s(n)){t(n);var S=n._fullLayout._activeShapeIndex,d=(n.layout||{}).shapes||[];if(S<d.length){for(var I=[],L=0;L<d.length;L++)L!==S&&I.push(d[L]);return delete n._fullLayout._activeShapeIndex,D.call("_guiRelayout",n,{shapes:I})}}},drawLabel:y}},29241:function(te,Y,e){"use strict";var T=e(30962).overrideAll,D=e(9012),o=e(41940),P=e(79952).P,C=e(1426).extendFlat,h=e(5386).R,y=e(37281);te.exports=T({newshape:{visible:C({},D.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:C({},D.legend,{}),legendgroup:C({},D.legendgroup,{}),legendgrouptitle:{text:C({},D.legendgrouptitle.text,{}),font:o({})},legendrank:C({},D.legendrank,{}),legendwidth:C({},D.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:C({},P,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:C({},D.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:h({newshape:!0},{keys:Object.keys(y)}),font:o({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(te){"use strict";te.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(te,Y,e){"use strict";var T=e(7901),D=e(71828);te.exports=function(C,h,y){y("newshape.visible"),y("newshape.name"),y("newshape.showlegend"),y("newshape.legend"),y("newshape.legendwidth"),y("newshape.legendgroup"),y("newshape.legendgrouptitle.text"),D.coerceFont(y,"newshape.legendgrouptitle.font"),y("newshape.legendrank"),y("newshape.drawdirection"),y("newshape.layer"),y("newshape.fillcolor"),y("newshape.fillrule"),y("newshape.opacity"),y("newshape.line.width")&&(y("newshape.line.color",T.contrast((C||{}).plot_bgcolor||"#FFF")),y("newshape.line.dash"));var l="drawline"===C.dragmode,i=y("newshape.label.text"),u=y("newshape.label.texttemplate");if(i||u){y("newshape.label.textangle");var f=y("newshape.label.textposition",l?"middle":"middle center");y("newshape.label.xanchor"),y("newshape.label.yanchor",function o(P,C){return P?"bottom":-1!==C.indexOf("top")?"top":-1!==C.indexOf("bottom")?"bottom":"middle"}(l,f)),y("newshape.label.padding"),D.coerceFont(y,"newshape.label.font",h.font)}y("activeshape.fillcolor"),y("activeshape.opacity")}},60165:function(te,Y,e){"use strict";var T=e(95616),D=e(89995),o=D.CIRCLE_SIDES,P=D.SQRT2,C=e(75549),h=C.p2r,y=C.r2p,t=[0,3,4,5,6,1,2],r=[0,3,4,1,2];function l(u,f){return Math.abs(u-f)<=1e-6}function i(u,f){var c=f[1]-u[1],m=f[2]-u[2];return Math.sqrt(c*c+m*m)}Y.writePaths=function(u){var f=u.length;if(!f)return"M0,0Z";for(var c="",m=0;m<f;m++)for(var a=u[m].length,b=0;b<a;b++){var p=u[m][b][0];if("Z"===p)c+="Z";else for(var s=u[m][b].length,v=0;v<s;v++){var A=v;"Q"===p||"S"===p?A=r[v]:"C"===p&&(A=t[v]),c+=u[m][b][A],v>0&&v<s-1&&(c+=",")}}return c},Y.readPaths=function(u,f,c,m){var v,E,g,a=T(u),b=[],p=-1,A=0,x=0,M=function(){E=A,g=x};M();for(var w=0;w<a.length;w++){var n=[],B=a[w][0],k=B;switch(B){case"M":b[++p]=[],n.push([k,A=+a[w][1],x=+a[w][2]]),M();break;case"Q":case"S":n.push([k,A=+a[w][3],x=+a[w][4],+a[w][1],+a[w][2]]);break;case"C":n.push([k,A=+a[w][5],x=+a[w][6],+a[w][1],+a[w][2],+a[w][3],+a[w][4]]);break;case"T":case"L":n.push([k,A=+a[w][1],x=+a[w][2]]);break;case"H":n.push([k="L",A=+a[w][1],x]);break;case"V":n.push([k="L",A,x=+a[w][1]]);break;case"A":k="L";var z=+a[w][1],O=+a[w][2];+a[w][4]||(z=-z,O=-O);var F=A-z,N=x;for(v=1;v<=o/2;v++){var H=2*Math.PI*v/o;n.push([k,F+z*Math.cos(H),N+O*Math.sin(H)])}break;case"Z":(A!==E||x!==g)&&n.push([k,A=E,x=g])}for(var X=(c||{}).domain,ne=f._fullLayout._size,ie=c&&"pixel"===c.xsizemode,ue=c&&"pixel"===c.ysizemode,J=!1===m,j=0;j<n.length;j++){for(v=0;v+2<7;v+=2){var W=n[j][v+1],V=n[j][v+2];void 0===W||void 0===V||(A=W,x=V,c&&(c.xaxis&&c.xaxis.p2r?(J&&(W-=c.xaxis._offset),W=ie?y(c.xaxis,c.xanchor)+W:h(c.xaxis,W)):(J&&(W-=ne.l),X?W=X.x[0]+W/ne.w:W/=ne.w),c.yaxis&&c.yaxis.p2r?(J&&(V-=c.yaxis._offset),V=ue?y(c.yaxis,c.yanchor)-V:h(c.yaxis,V)):(J&&(V-=ne.t),V=X?X.y[1]-V/ne.h:1-V/ne.h)),n[j][v+1]=W,n[j][v+2]=V)}b[p].push(n[j].slice())}}return b},Y.pointsOnRectangle=function(u){if(5!==u.length)return!1;for(var c=1;c<3;c++){if(!l(u[0][c]-u[1][c],u[3][c]-u[2][c]))return!1;if(!l(u[0][c]-u[3][c],u[1][c]-u[2][c]))return!1}return!(!l(u[0][1],u[1][1])&&!l(u[0][1],u[3][1])||!(i(u[0],u[1])*i(u[0],u[3])))},Y.pointsOnEllipse=function(u){var f=u.length;if(f!==o+1)return!1;f=o;for(var c=0;c<f;c++){var m=(2*f-c)%f,a=(f/2+m)%f;if(!l(i(u[c],u[(f/2+c)%f]),i(u[m],u[a])))return!1}return!0},Y.handleEllipse=function(u,f,c){if(!u)return[f,c];var m=Y.ellipseOver({x0:f[0],y0:f[1],x1:c[0],y1:c[1]}),a=(m.x1+m.x0)/2,b=(m.y1+m.y0)/2,p=(m.x1-m.x0)/2,s=(m.y1-m.y0)/2;p||(p=s/=P),s||(s=p/=P);for(var v=[],A=0;A<o;A++){var x=2*A*Math.PI/o;v.push([a+p*Math.cos(x),b+s*Math.sin(x)])}return v},Y.ellipseOver=function(u){var f=u.x0,c=u.y0,m=u.x1,a=u.y1,b=m-f,p=a-c,s=((f-=b)+m)/2,v=((c-=p)+a)/2;return{x0:s-(b*=P),y0:v-(p*=P),x1:s+b,y1:v+p}},Y.fixDatesForPaths=function(u,f,c){var m="date"===f.type,a="date"===c.type;if(!m&&!a)return u;for(var b=0;b<u.length;b++)for(var p=0;p<u[b].length;p++)for(var s=0;s+2<u[b][p].length;s+=2)m&&(u[b][p][s+1]=u[b][p][s+1].replace(" ","_")),a&&(u[b][p][s+2]=u[b][p][s+2].replace(" ","_"));return u}},90551:function(te,Y,e){"use strict";var T=e(64505),D=T.drawMode,o=T.openMode,P=e(89995),C=P.i000,h=P.i090,y=P.i180,t=P.i270,r=P.cos45,l=P.sin45,i=e(75549),u=i.p2r,f=i.r2p,m=e(51873).clearOutline,a=e(60165),b=a.readPaths,p=a.writePaths,s=a.ellipseOver,v=a.fixDatesForPaths;function x(E,g,M){var X,n=g.gd,S=E[0][0].getAttribute("d"),d=n._fullLayout.newshape,I=g.plotinfo,L=g.isActiveShape,B=I.xaxis,k=I.yaxis,z=!!I.domain||!I.xaxis,O=!!I.domain||!I.yaxis,F=o(M),N=b(S,n,I,L),H={editable:!0,visible:d.visible,name:d.name,showlegend:d.showlegend,legend:d.legend,legendwidth:d.legendwidth,legendgroup:d.legendgroup,legendgrouptitle:{text:d.legendgrouptitle.text,font:d.legendgrouptitle.font},legendrank:d.legendrank,label:d.label,xref:z?"paper":B._id,yref:O?"paper":k._id,layer:d.layer,opacity:d.opacity,line:{color:d.line.color,width:d.line.width,dash:d.line.dash}};if(F||(H.fillcolor=d.fillcolor,H.fillrule=d.fillrule),1===N.length&&(X=N[0]),X&&5===X.length&&"drawrect"===M)H.type="rect",H.x0=X[0][1],H.y0=X[0][2],H.x1=X[2][1],H.y1=X[2][2];else if(X&&"drawline"===M)H.type="line",H.x0=X[0][1],H.y0=X[0][2],H.x1=X[1][1],H.y1=X[1][2];else if(X&&"drawcircle"===M){H.type="circle";var ne=X[C][1],ie=X[h][1],ue=X[y][1],J=X[t][1],j=X[C][2],W=X[h][2],V=X[y][2],K=X[t][2],ae=I.xaxis&&("date"===I.xaxis.type||"log"===I.xaxis.type),Q=I.yaxis&&("date"===I.yaxis.type||"log"===I.yaxis.type);ae&&(ne=f(I.xaxis,ne),ie=f(I.xaxis,ie),ue=f(I.xaxis,ue),J=f(I.xaxis,J)),Q&&(j=f(I.yaxis,j),W=f(I.yaxis,W),V=f(I.yaxis,V),K=f(I.yaxis,K));var Z=(ie+J)/2,re=(j+V)/2,de=s({x0:Z,y0:re,x1:Z+(J-ie+ue-ne)/2*r,y1:re+(K-W+V-j)/2*l});ae&&(de.x0=u(I.xaxis,de.x0),de.x1=u(I.xaxis,de.x1)),Q&&(de.y0=u(I.yaxis,de.y0),de.y1=u(I.yaxis,de.y1)),H.x0=de.x0,H.y0=de.y0,H.x1=de.x1,H.y1=de.y1}else H.type="path",B&&k&&v(N,B,k),H.path=p(N),X=null;return H}te.exports={newShapes:function A(E,g){if(E.length&&E[0][0]){var w=g.gd,n=g.isActiveShape,S=g.dragmode,d=(w.layout||{}).shapes||[];if(!D(S)&&void 0!==n){var I=w._fullLayout._activeShapeIndex;if(I<d.length)switch(w._fullLayout.shapes[I].type){case"rect":S="drawrect";break;case"circle":S="drawcircle";break;case"line":S="drawline";break;case"path":var L=d[I].path||"";S="Z"===L[L.length-1]?"drawclosedpath":"drawopenpath"}}var B=x(E,g,S);m(w);for(var k=g.editHelpers,z=(k||{}).modifyItem,O=[],F=0;F<d.length;F++){var N=w._fullLayout.shapes[F];if(O[F]=N._input,void 0!==n&&F===w._fullLayout._activeShapeIndex){var H=B;switch(N.type){case"line":case"rect":case"circle":z("x0",H.x0),z("x1",H.x1),z("y0",H.y0),z("y1",H.y1);break;case"path":z("path",H.path)}}}return void 0===n?(O.push(B),O):k?k.getUpdateObj():{}}},createShapeObj:x}},51873:function(te){"use strict";te.exports={clearOutlineControllers:function Y(T){var D=T._fullLayout._zoomlayer;D&&D.selectAll(".outline-controllers").remove()},clearOutline:function e(T){var D=T._fullLayout._zoomlayer;D&&D.selectAll(".select-outline").remove(),T._fullLayout._outlining=!1}}},30477:function(te,Y,e){"use strict";var T=e(21459),D=e(71828),o=e(89298);Y.rangeToShapePosition=function(C){return"log"===C.type?C.r2d:function(h){return h}},Y.shapePositionToRange=function(C){return"log"===C.type?C.d2r:function(h){return h}},Y.decodeDate=function(C){return function(h){return h.replace&&(h=h.replace("_"," ")),C(h)}},Y.encodeDate=function(C){return function(h){return C(h).replace(" ","_")}},Y.extractPathCoords=function(C,h,y){var t=[];return C.match(T.segmentRE).forEach(function(l){var i=h[l.charAt(0)].drawn;if(void 0!==i){var u=l.substr(1).match(T.paramRE);if(u&&!(u.length<i)){var f=u[i],c=y?f:D.cleanNumber(f);t.push(c)}}}),t},Y.getDataToPixel=function(C,h,y,t){var l,r=C._fullLayout._size;if(h)if("domain"===t)l=function(u){return h._length*(y?1-u:u)+h._offset};else{var i=Y.shapePositionToRange(h);l=function(u){return h._offset+h.r2p(i(u,!0))},"date"===h.type&&(l=Y.decodeDate(l))}else l=y?function(u){return r.t+r.h*(1-u)}:function(u){return r.l+r.w*u};return l},Y.getPixelToData=function(C,h,y,t){var l,r=C._fullLayout._size;if(h)if("domain"===t)l=function(u){var f=(u-h._offset)/h._length;return y?1-f:f};else{var i=Y.rangeToShapePosition(h);l=function(u){return i(h.p2r(u-h._offset))}}else l=y?function(u){return 1-(u-r.t)/r.h}:function(u){return(u-r.l)/r.w};return l},Y.roundPositionForSharpStrokeRendering=function(C,h){var y=1===Math.round(h%2),t=Math.round(C);return y?t+.5:t},Y.makeShapesOptionsAndPlotinfo=function(C,h){var y=C._fullLayout.shapes[h]||{},t=C._fullLayout._plots[y.xref+y.yref];return t?t._hadPlotinfo=!0:(t={},y.xref&&"paper"!==y.xref&&(t.xaxis=C._fullLayout[y.xref+"axis"]),y.yref&&"paper"!==y.yref&&(t.yaxis=C._fullLayout[y.yref+"axis"])),t.xsizemode=y.xsizemode,t.ysizemode=y.ysizemode,t.xanchor=y.xanchor,t.yanchor=y.yanchor,{options:y,plotinfo:t}},Y.makeSelectionsOptionsAndPlotinfo=function(C,h){var y=C._fullLayout.selections[h]||{},t=C._fullLayout._plots[y.xref+y.yref];return t?t._hadPlotinfo=!0:(t={},y.xref&&(t.xaxis=C._fullLayout[y.xref+"axis"]),y.yref&&(t.yaxis=C._fullLayout[y.yref+"axis"])),{options:y,plotinfo:t}},Y.getPathString=function(C,h){var f,c,m,a,b,p,s,v,y=h.type,t=o.getRefType(h.xref),r=o.getRefType(h.yref),l=o.getFromId(C,h.xref),i=o.getFromId(C,h.yref),u=C._fullLayout._size;if(l?"domain"===t?c=function(I){return l._offset+l._length*I}:(f=Y.shapePositionToRange(l),c=function(I){return l._offset+l.r2p(f(I,!0))}):c=function(I){return u.l+u.w*I},i?"domain"===r?a=function(I){return i._offset+i._length*(1-I)}:(m=Y.shapePositionToRange(i),a=function(I){return i._offset+i.r2p(m(I,!0))}):a=function(I){return u.t+u.h*(1-I)},"path"===y)return l&&"date"===l.type&&(c=Y.decodeDate(c)),i&&"date"===i.type&&(a=Y.decodeDate(a)),function P(C,h,y){var r=C.xsizemode,l=C.ysizemode,i=C.xanchor,u=C.yanchor;return C.path.replace(T.segmentRE,function(f){var c=0,m=f.charAt(0),a=T.paramIsX[m],b=T.paramIsY[m],p=T.numParams[m],s=f.substr(1).replace(T.paramRE,function(v){return a[c]?v="pixel"===r?h(i)+Number(v):h(v):b[c]&&(v="pixel"===l?y(u)-Number(v):y(v)),++c>p&&(v="X"),v});return c>p&&(s=s.replace(/[\s,]*X.*/,""),D.log("Ignoring extra params in segment "+f)),m+s})}(h,c,a);if("pixel"===h.xsizemode){var A=c(h.xanchor);b=A+h.x0,p=A+h.x1}else b=c(h.x0),p=c(h.x1);if("pixel"===h.ysizemode){var x=a(h.yanchor);s=x-h.y0,v=x-h.y1}else s=a(h.y0),v=a(h.y1);if("line"===y)return"M"+b+","+s+"L"+p+","+v;if("rect"===y)return"M"+b+","+s+"H"+p+"V"+v+"H"+b+"Z";var E=(b+p)/2,g=(s+v)/2,M=Math.abs(E-b),w=Math.abs(g-s),n="A"+M+","+w,S=E+M+","+g;return"M"+S+n+" 0 1,1 "+E+","+(g-w)+n+" 0 0,1 "+S+"Z"}},89853:function(te,Y,e){"use strict";var T=e(34031);te.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:T.draw,drawOne:T.drawOne}},37281:function(te){"use strict";function Y(f,c){return c?c.d2l(f):f}function e(f,c){return c?c.l2d(f):f}function C(f,c){return Y(f.x1,c)-Y(f.x0,c)}function h(f,c,m){return Y(f.y1,m)-Y(f.y0,m)}te.exports={x0:function T(f){return f.x0},x1:function D(f){return f.x1},y0:function o(f){return f.y0},y1:function P(f){return f.y1},slope:function u(f,c,m){return"line"!==f.type?void 0:h(f,0,m)/C(f,c)},dx:C,dy:h,width:function y(f,c){return Math.abs(C(f,c))},height:function t(f,c,m){return Math.abs(h(f,0,m))},length:function r(f,c,m){return"line"!==f.type?void 0:Math.sqrt(Math.pow(C(f,c),2)+Math.pow(h(f,0,m),2))},xcenter:function l(f,c){return e((Y(f.x1,c)+Y(f.x0,c))/2,c)},ycenter:function i(f,c,m){return e((Y(f.y1,m)+Y(f.y0,m))/2,m)}}},75067:function(te,Y,e){"use strict";var T=e(41940),D=e(35025),o=e(1426).extendDeepAll,P=e(30962).overrideAll,C=e(85594),h=e(44467).templatedArray,y=e(98292),t=h("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});te.exports=P(h("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(D({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:C.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:T({})},font:T({}),activebgcolor:{valType:"color",dflt:y.gripBgActiveColor},bgcolor:{valType:"color",dflt:y.railBgColor},bordercolor:{valType:"color",dflt:y.railBorderColor},borderwidth:{valType:"number",min:0,dflt:y.railBorderWidth},ticklen:{valType:"number",min:0,dflt:y.tickLength},tickcolor:{valType:"color",dflt:y.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:y.minorTickLength}}),"arraydraw","from-root")},98292:function(te){"use strict";te.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(te,Y,e){"use strict";var T=e(71828),D=e(85501),o=e(75067),C=e(98292).name,h=o.steps;function y(r,l,i){function u(v,A){return T.coerce(r,l,o,v,A)}for(var f=D(r,l,{name:"steps",handleItemDefaults:t}),c=0,m=0;m<f.length;m++)f[m].visible&&c++;if(c<2?l.visible=!1:u("visible")){l._stepCount=c;var b=l._visibleSteps=T.filterVisible(f);(f[u("active")]||{}).visible||(l.active=b[0]._index),u("x"),u("y"),T.noneOrAll(r,l,["x","y"]),u("xanchor"),u("yanchor"),u("len"),u("lenmode"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),T.coerceFont(u,"font",i.font),u("currentvalue.visible")&&(u("currentvalue.xanchor"),u("currentvalue.prefix"),u("currentvalue.suffix"),u("currentvalue.offset"),T.coerceFont(u,"currentvalue.font",l.font)),u("transition.duration"),u("transition.easing"),u("bgcolor"),u("activebgcolor"),u("bordercolor"),u("borderwidth"),u("ticklen"),u("tickwidth"),u("tickcolor"),u("minorticklen")}}function t(r,l){function i(c,m){return T.coerce(r,l,h,c,m)}if("skip"===r.method||Array.isArray(r.args)?i("visible"):l.visible=!1){i("method"),i("args");var f=i("label","step-"+l._index);i("value",f),i("execute")}}te.exports=function(l,i){D(l,i,{name:C,handleItemDefaults:y})}},44504:function(te,Y,e){"use strict";var T=e(39898),D=e(74875),o=e(7901),P=e(91424),C=e(71828),h=C.strTranslate,y=e(63893),t=e(44467).arrayEditor,r=e(98292),l=e(18783),i=l.LINE_SPACING,u=l.FROM_TL,f=l.FROM_BR;function c(k){return r.autoMarginIdRoot+k._index}function a(k){return k._index}function b(k,z){var O=P.tester.selectAll("g."+r.labelGroupClass).data(z._visibleSteps);O.enter().append("g").classed(r.labelGroupClass,!0);var F=0,N=0;O.each(function(K){var Z=A(T.select(this),{step:K},z).node();if(Z){var re=P.bBox(Z);N=Math.max(N,re.height),F=Math.max(F,re.width)}}),O.remove();var H=z._dims={};H.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var X=k._fullLayout._size;if(H.lx=X.l+X.w*z.x,H.ly=X.t+X.h*(1-z.y),H.outerLength="fraction"===z.lenmode?Math.round(X.w*z.len):z.len,H.inputAreaStart=0,H.inputAreaLength=Math.round(H.outerLength-z.pad.l-z.pad.r),H.labelStride=Math.max(1,Math.ceil((F+r.labelPadding)/((H.inputAreaLength-2*r.stepInset)/(z._stepCount-1)))),H.labelHeight=N,H.currentValueMaxWidth=0,H.currentValueHeight=0,H.currentValueTotalHeight=0,H.currentValueMaxLines=1,z.currentvalue.visible){var J=P.tester.append("g");O.each(function(K){var ae=s(J,z,K.label),Q=ae.node()&&P.bBox(ae.node())||{width:0,height:0},Z=y.lineCount(ae);H.currentValueMaxWidth=Math.max(H.currentValueMaxWidth,Math.ceil(Q.width)),H.currentValueHeight=Math.max(H.currentValueHeight,Math.ceil(Q.height)),H.currentValueMaxLines=Math.max(H.currentValueMaxLines,Z)}),H.currentValueTotalHeight=H.currentValueHeight+z.currentvalue.offset,J.remove()}H.height=H.currentValueTotalHeight+r.tickOffset+z.ticklen+r.labelOffset+H.labelHeight+z.pad.t+z.pad.b;var j="left";C.isRightAnchor(z)&&(H.lx-=H.outerLength,j="right"),C.isCenterAnchor(z)&&(H.lx-=H.outerLength/2,j="center");var W="top";C.isBottomAnchor(z)&&(H.ly-=H.height,W="bottom"),C.isMiddleAnchor(z)&&(H.ly-=H.height/2,W="middle"),H.outerLength=Math.ceil(H.outerLength),H.height=Math.ceil(H.height),H.lx=Math.round(H.lx),H.ly=Math.round(H.ly);var V={y:z.y,b:H.height*f[W],t:H.height*u[W]};"fraction"===z.lenmode?(V.l=0,V.xl=z.x-z.len*u[j],V.r=0,V.xr=z.x+z.len*f[j]):(V.x=z.x,V.l=H.outerLength*u[j],V.r=H.outerLength*f[j]),D.autoMargin(k,c(z),V)}function s(k,z,O){if(z.currentvalue.visible){var N,H,F=z._dims;switch(z.currentvalue.xanchor){case"right":N=F.inputAreaLength-r.currentValueInset-F.currentValueMaxWidth,H="left";break;case"center":N=.5*F.inputAreaLength,H="middle";break;default:N=r.currentValueInset,H="left"}var X=C.ensureSingle(k,"text",r.labelClass,function(W){W.attr({"text-anchor":H,"data-notex":1})}),ne=z.currentvalue.prefix?z.currentvalue.prefix:"";if("string"==typeof O)ne+=O;else{var ie=z.steps[z.active].label,ue=z._gd._fullLayout._meta;ue&&(ie=C.templateString(ie,ue)),ne+=ie}z.currentvalue.suffix&&(ne+=z.currentvalue.suffix),X.call(P.font,z.currentvalue.font).text(ne).call(y.convertToTspans,z._gd);var J=y.lineCount(X);return y.positionText(X,N,(F.currentValueMaxLines+1-J)*z.currentvalue.font.size*i),X}}function v(k,z,O){C.ensureSingle(k,"rect",r.gripRectClass,function(N){N.call(M,z,k,O).style("pointer-events","all")}).attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(o.stroke,O.bordercolor).call(o.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px")}function A(k,z,O){var F=C.ensureSingle(k,"text",r.labelClass,function(X){X.attr({"text-anchor":"middle","data-notex":1})}),N=z.step.label,H=O._gd._fullLayout._meta;return H&&(N=C.templateString(N,H)),F.call(P.font,O.font).text(N).call(y.convertToTspans,O._gd),F}function x(k,z){var O=C.ensureSingle(k,"g",r.labelsClass),F=z._dims,N=O.selectAll("g."+r.labelGroupClass).data(F.labelSteps);N.enter().append("g").classed(r.labelGroupClass,!0),N.exit().remove(),N.each(function(H){var X=T.select(this);X.call(A,H,z),P.setTranslate(X,d(z,H.fraction),r.tickOffset+z.ticklen+z.font.size*i+r.labelOffset+F.currentValueTotalHeight)})}function E(k,z,O,F,N){var H=Math.round(F*(O._stepCount-1)),X=O._visibleSteps[H]._index;X!==O.active&&g(k,z,O,X,!0,N)}function g(k,z,O,F,N,H){var X=O.active;O.active=F,t(k.layout,r.name,O).applyUpdate("active",F);var ne=O.steps[O.active];z.call(S,O,H),z.call(s,O),k.emit("plotly_sliderchange",{slider:O,step:O.steps[O.active],interaction:N,previousActive:X}),ne&&ne.method&&N&&(z._nextMethod?(z._nextMethod.step=ne,z._nextMethod.doCallback=N,z._nextMethod.doTransition=H):(z._nextMethod={step:ne,doCallback:N,doTransition:H},z._nextMethodRaf=window.requestAnimationFrame(function(){var ie=z._nextMethod.step;ie.method&&(ie.execute&&D.executeAPICommand(k,ie.method,ie.args),z._nextMethod=null,z._nextMethodRaf=null)})))}function M(k,z,O){if(!z._context.staticPlot){var F=O.node(),N=T.select(z);k.on("mousedown",X),k.on("touchstart",X)}function H(){return O.data()[0]}function X(){var ne=H();z.emit("plotly_sliderstart",{slider:ne});var ie=O.select("."+r.gripRectClass);T.event.stopPropagation(),T.event.preventDefault(),ie.call(o.fill,ne.activebgcolor);var ue=I(ne,T.mouse(F)[0]);function J(){var W=H(),V=I(W,T.mouse(F)[0]);E(z,O,W,V,!1)}function j(){var W=H();W._dragging=!1,ie.call(o.fill,W.bgcolor),N.on("mouseup",null),N.on("mousemove",null),N.on("touchend",null),N.on("touchmove",null),z.emit("plotly_sliderend",{slider:W,step:W.steps[W.active]})}E(z,O,ne,ue,!0),ne._dragging=!0,N.on("mousemove",J),N.on("touchmove",J),N.on("mouseup",j),N.on("touchend",j)}}function w(k,z){var O=k.selectAll("rect."+r.tickRectClass).data(z._visibleSteps),F=z._dims;O.enter().append("rect").classed(r.tickRectClass,!0),O.exit().remove(),O.attr({width:z.tickwidth+"px","shape-rendering":"crispEdges"}),O.each(function(N,H){var X=H%F.labelStride==0,ne=T.select(this);ne.attr({height:X?z.ticklen:z.minorticklen}).call(o.fill,z.tickcolor),P.setTranslate(ne,d(z,H/(z._stepCount-1))-.5*z.tickwidth,(X?r.tickOffset:r.minorTickOffset)+F.currentValueTotalHeight)})}function S(k,z,O){for(var F=k.select("rect."+r.gripRectClass),N=0,H=0;H<z._stepCount;H++)if(z._visibleSteps[H]._index===z.active){N=H;break}var X=d(z,N/(z._stepCount-1));if(!z._invokingCommand){var ne=F;O&&z.transition.duration>0&&(ne=ne.transition().duration(z.transition.duration).ease(z.transition.easing)),ne.attr("transform",h(X-.5*r.gripWidth,z._dims.currentValueTotalHeight))}}function d(k,z){var O=k._dims;return O.inputAreaStart+r.stepInset+(O.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,z))}function I(k,z){var O=k._dims;return Math.min(1,Math.max(0,(z-r.stepInset-O.inputAreaStart)/(O.inputAreaLength-2*r.stepInset-2*O.inputAreaStart)))}function L(k,z,O){var F=O._dims,N=C.ensureSingle(k,"rect",r.railTouchRectClass,function(H){H.call(M,z,k,O).style("pointer-events","all")});N.attr({width:F.inputAreaLength,height:Math.max(F.inputAreaWidth,r.tickOffset+O.ticklen+F.labelHeight)}).call(o.fill,O.bgcolor).attr("opacity",0),P.setTranslate(N,0,F.currentValueTotalHeight)}function B(k,z){var O=z._dims,F=O.inputAreaLength-2*r.railInset,N=C.ensureSingle(k,"rect",r.railRectClass);N.attr({width:F,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,z.bordercolor).call(o.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px"),P.setTranslate(N,r.railInset,.5*(O.inputAreaWidth-r.railWidth)+O.currentValueTotalHeight)}te.exports=function(z){var O=z._context.staticPlot,F=z._fullLayout,N=function m(k,z){for(var O=k[r.name],F=[],N=0;N<O.length;N++){var H=O[N];H.visible&&(H._gd=z,F.push(H))}return F}(F,z),H=F._infolayer.selectAll("g."+r.containerClassName).data(N.length>0?[0]:[]);function X(J){J._commandObserver&&(J._commandObserver.remove(),delete J._commandObserver),D.autoMargin(z,c(J))}if(H.enter().append("g").classed(r.containerClassName,!0).style("cursor",O?null:"ew-resize"),H.exit().each(function(){T.select(this).selectAll("g."+r.groupClassName).each(X)}).remove(),0!==N.length){var ne=H.selectAll("g."+r.groupClassName).data(N,a);ne.enter().append("g").classed(r.groupClassName,!0),ne.exit().each(X).remove();for(var ie=0;ie<N.length;ie++)b(z,N[ie]);ne.each(function(J){var j=T.select(this);(function n(k){var z=k._dims;z.labelSteps=[];for(var O=k._stepCount,F=0;F<O;F+=z.labelStride)z.labelSteps.push({fraction:F/(O-1),step:k._visibleSteps[F]})})(J),D.manageCommandObserver(z,J,J._visibleSteps,function(W){var V=j.data()[0];V.active!==W.index&&(V._dragging||g(z,j,V,W.index,!1,!0))}),function p(k,z,O){(O.steps[O.active]||{}).visible||(O.active=O._visibleSteps[0]._index),z.call(s,O).call(B,O).call(x,O).call(w,O).call(L,k,O).call(v,k,O);var F=O._dims;P.setTranslate(z,F.lx+O.pad.l,F.ly+O.pad.t),z.call(S,O,!1),z.call(s,O)}(z,T.select(this),J)})}}},23243:function(te,Y,e){"use strict";var T=e(98292);te.exports={moduleType:"component",name:T.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(te,Y,e){"use strict";var T=e(39898),D=e(92770),o=e(74875),P=e(73972),C=e(71828),h=C.strTranslate,y=e(91424),t=e(7901),r=e(63893),l=e(37822),i=e(18783).OPPOSITE_SIDE,u=/ [XY][0-9]* /;te.exports={draw:function f(c,m,a){var z,b=a.propContainer,p=a.propName,s=a.placeholder,v=a.traceIndex,A=a.avoid||{},x=a.attributes,E=a.transform,g=a.containerGroup,M=c._fullLayout,w=1,n=!1,S=b.title,d=(S&&S.text?S.text:"").trim(),I=S&&S.font?S.font:{},L=I.family,B=I.size,k=I.color;"title.text"===p?z="titleText":-1!==p.indexOf("axis")?z="axisTitleText":p.indexOf(!0)&&(z="colorbarTitleText");var O=c._context.edits[z];""===d?w=0:d.replace(u," % ")===s.replace(u," % ")&&(w=.2,n=!0,O||(d="")),a._meta?d=C.templateString(d,a._meta):M._meta&&(d=C.templateString(d,M._meta));var N,F=d||O;g||(g=C.ensureSingle(M._infolayer,"g","g-"+m),N=M._hColorbarMoveTitle);var H=g.selectAll("text").data(F?[0]:[]);if(H.enter().append("text"),H.text(d).attr("class",m),H.exit().remove(),!F)return g;function X(J){C.syncOrAsync([ne,ie],J)}function ne(J){var j;return!E&&N&&(E={}),E?(j="",E.rotate&&(j+="rotate("+[E.rotate,x.x,x.y]+")"),(E.offset||N)&&(j+=h(0,(E.offset||0)-(N||0)))):j=null,J.attr("transform",j),J.style({"font-family":L,"font-size":T.round(B,2)+"px",fill:t.rgb(k),opacity:w*t.opacity(k),"font-weight":o.fontWeight}).attr(x).call(r.convertToTspans,c),o.previousPromises(c)}function ie(J){var j=T.select(J.node().parentNode);if(A&&A.selection&&A.side&&d){j.attr("transform",null);var W=i[A.side],V="left"===A.side||"top"===A.side?-1:1,K=D(A.pad)?A.pad:2,ae=y.bBox(j.node()),Q={t:0,b:0,l:0,r:0},Z=c._fullLayout._reservedMargin;for(var re in Z)for(var q in Z[re])Q[q]=Math.max(Q[q],Z[re][q]);var we=A.maxShift||V*({left:Q.l,top:Q.t,right:M.width-Q.r,bottom:M.height-Q.b}[A.side]-ae[A.side]),ye=0;if(we<0)ye=we;else{var Pe=A.offsetLeft||0,Ie=A.offsetTop||0;ae.left-=Pe,ae.right-=Pe,ae.top-=Ie,ae.bottom-=Ie,A.selection.each(function(){var xe=y.bBox(this);C.bBoxIntersect(ae,xe,K)&&(ye=Math.max(ye,V*(xe[A.side]-ae[W])+K))}),ye=Math.min(we,ye),b._titleScoot=Math.abs(ye)}if(ye>0||we<0){var Se={left:[-ye,0],right:[ye,0],top:[0,-ye],bottom:[0,ye]}[A.side];j.attr("transform",h(Se[0],Se[1]))}}}return H.call(X),O&&(d?H.on(".opacity",null):function ue(){w=0,n=!0,H.text(s).on("mouseover.opacity",function(){T.select(this).transition().duration(l.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){T.select(this).transition().duration(l.HIDE_PLACEHOLDER).style("opacity",0)})}(),H.call(r.makeEditable,{gd:c}).on("edit",function(J){void 0!==v?P.call("_guiRestyle",c,p,J,v):P.call("_guiRelayout",c,p,J)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(X)}).on("input",function(J){this.text(J||" ").call(r.positionText,x.x,x.y)})),H.classed("js-placeholder",n),g}}},7163:function(te,Y,e){"use strict";var T=e(41940),D=e(22399),o=e(1426).extendFlat,P=e(30962).overrideAll,C=e(35025),h=e(44467).templatedArray,y=h("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});te.exports=P(h("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:y,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(C({editType:"arraydraw"}),{}),font:T({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:D.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(te){"use strict";te.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},64897:function(te,Y,e){"use strict";var T=e(71828),D=e(85501),o=e(7163),C=e(75909).name,h=o.buttons;function y(r,l,i){function u(m,a){return T.coerce(r,l,o,m,a)}u("visible",D(r,l,{name:"buttons",handleItemDefaults:t}).length>0)&&(u("active"),u("direction"),u("type"),u("showactive"),u("x"),u("y"),T.noneOrAll(r,l,["x","y"]),u("xanchor"),u("yanchor"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),T.coerceFont(u,"font",i.font),u("bgcolor",i.paper_bgcolor),u("bordercolor"),u("borderwidth"))}function t(r,l){function i(f,c){return T.coerce(r,l,h,f,c)}i("visible","skip"===r.method||Array.isArray(r.args))&&(i("method"),i("args"),i("args2"),i("label"),i("execute"))}te.exports=function(l,i){D(l,i,{name:C,handleItemDefaults:y})}},13689:function(te,Y,e){"use strict";var T=e(39898),D=e(74875),o=e(7901),P=e(91424),C=e(71828),h=e(63893),y=e(44467).arrayEditor,t=e(18783).LINE_SPACING,r=e(75909),l=e(25849);function i(d){return d._index}function f(d,I){return+d.attr(r.menuIndexAttrName)===I._index}function c(d,I,L,B,k,z,O,F){I.active=O,y(d.layout,r.name,I).applyUpdate("active",O),"buttons"===I.type?a(d,B,null,null,I):"dropdown"===I.type&&(k.attr(r.menuIndexAttrName,"-1"),m(d,B,k,z,I),F||a(d,B,k,z,I))}function m(d,I,L,B,k){var z=C.ensureSingle(I,"g",r.headerClassName,function(ie){ie.style("pointer-events","all")}),O=k._dims,H={y:k.pad.t,yPad:0,x:k.pad.l,xPad:0,index:0},X={width:O.headerWidth,height:O.headerHeight};z.call(s,k,k.buttons[k.active]||r.blankHeaderOpts,d).call(n,k,H,X),C.ensureSingle(I,"text",r.headerArrowClassName,function(ie){ie.attr("text-anchor","end").call(P.font,k.font).text(r.arrowSymbol[k.direction])}).attr({x:O.headerWidth-r.arrowOffsetX+k.pad.l,y:O.headerHeight/2+r.textOffsetY+k.pad.t}),z.on("click",function(){L.call(S,String(f(L,k)?-1:k._index)),a(d,I,L,B,k)}),z.on("mouseover",function(){z.call(E)}),z.on("mouseout",function(){z.call(g,k)}),P.setTranslate(I,O.lx,O.ly)}function a(d,I,L,B,k){L||(L=I).attr("pointer-events","all");var z=function u(d){return-1==+d.attr(r.menuIndexAttrName)}(L)&&"buttons"!==k.type?[]:k.buttons,O="dropdown"===k.type?r.dropdownButtonClassName:r.buttonClassName,F=L.selectAll("g."+O).data(C.filterVisible(z)),N=F.enter().append("g").classed(O,!0),H=F.exit();"dropdown"===k.type?(N.attr("opacity","0").transition().attr("opacity","1"),H.transition().attr("opacity","0").remove()):H.remove();var X=0,ne=0,ie=k._dims,ue=-1!==["up","down"].indexOf(k.direction);"dropdown"===k.type&&(ue?ne=ie.headerHeight+r.gapButtonHeader:X=ie.headerWidth+r.gapButtonHeader),"dropdown"===k.type&&"up"===k.direction&&(ne=-r.gapButtonHeader+r.gapButton-ie.openHeight),"dropdown"===k.type&&"left"===k.direction&&(X=-r.gapButtonHeader+r.gapButton-ie.openWidth);var J={x:ie.lx+X+k.pad.l,y:ie.ly+ne+k.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},j={l:J.x+k.borderwidth,t:J.y+k.borderwidth};F.each(function(W,V){var K=T.select(this);K.call(s,k,W,d).call(n,k,J),K.on("click",function(){T.event.defaultPrevented||(W.execute&&(W.args2&&k.active===V?(c(d,k,0,I,L,B,-1),D.executeAPICommand(d,W.method,W.args2)):(c(d,k,0,I,L,B,V),D.executeAPICommand(d,W.method,W.args))),d.emit("plotly_buttonclicked",{menu:k,button:W,active:k.active}))}),K.on("mouseover",function(){K.call(E)}),K.on("mouseout",function(){K.call(g,k),F.call(x,k)})}),F.call(x,k),ue?(j.w=Math.max(ie.openWidth,ie.headerWidth),j.h=J.y-j.t):(j.w=J.x-j.l,j.h=Math.max(ie.openHeight,ie.headerHeight)),j.direction=k.direction,B&&(F.size()?function b(d,I,L,B,k,z){var X,ne,ie,O=k.direction,N=k._dims,H=k.active;if("up"===O||"down"===O)for(ne=0,ie=0;ie<H;ie++)ne+=N.heights[ie]+r.gapButton;else for(X=0,ie=0;ie<H;ie++)X+=N.widths[ie]+r.gapButton;B.enable(z,X,ne),B.hbar&&B.hbar.attr("opacity","0").transition().attr("opacity","1"),B.vbar&&B.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,B,k,j):function p(d){var I=!!d.hbar,L=!!d.vbar;I&&d.hbar.transition().attr("opacity","0").each("end",function(){I=!1,L||d.disable()}),L&&d.vbar.transition().attr("opacity","0").each("end",function(){L=!1,I||d.disable()})}(B))}function s(d,I,L,B){d.call(v,I).call(A,I,L,B)}function v(d,I){C.ensureSingle(d,"rect",r.itemRectClassName,function(B){B.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})}).call(o.stroke,I.bordercolor).call(o.fill,I.bgcolor).style("stroke-width",I.borderwidth+"px")}function A(d,I,L,B){var k=C.ensureSingle(d,"text",r.itemTextClassName,function(F){F.attr({"text-anchor":"start","data-notex":1})}),z=L.label,O=B._fullLayout._meta;O&&(z=C.templateString(z,O)),k.call(P.font,I.font).text(z).call(h.convertToTspans,B)}function x(d,I){var L=I.active;d.each(function(B,k){var z=T.select(this);k===L&&I.showactive&&z.select("rect."+r.itemRectClassName).call(o.fill,r.activeColor)})}function E(d){d.select("rect."+r.itemRectClassName).call(o.fill,r.hoverColor)}function g(d,I){d.select("rect."+r.itemRectClassName).call(o.fill,I.bgcolor)}function M(d,I){var L=I._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},B=P.tester.selectAll("g."+r.dropdownButtonClassName).data(C.filterVisible(I.buttons));B.enter().append("g").classed(r.dropdownButtonClassName,!0);var k=-1!==["up","down"].indexOf(I.direction);B.each(function(X,ne){var ie=T.select(this);ie.call(s,I,X,d);var ue=ie.select("."+r.itemTextClassName),J=ue.node()&&P.bBox(ue.node()).width,j=Math.max(J+r.textPadX,r.minWidth),W=I.font.size*t,V=h.lineCount(ue),K=Math.max(W*V,r.minHeight)+r.textOffsetY;K=Math.ceil(K),j=Math.ceil(j),L.widths[ne]=j,L.heights[ne]=K,L.height1=Math.max(L.height1,K),L.width1=Math.max(L.width1,j),k?(L.totalWidth=Math.max(L.totalWidth,j),L.openWidth=L.totalWidth,L.totalHeight+=K+r.gapButton,L.openHeight+=K+r.gapButton):(L.totalWidth+=j+r.gapButton,L.openWidth+=j+r.gapButton,L.totalHeight=Math.max(L.totalHeight,K),L.openHeight=L.totalHeight)}),k?L.totalHeight-=r.gapButton:L.totalWidth-=r.gapButton,L.headerWidth=L.width1+r.arrowPadX,L.headerHeight=L.height1,"dropdown"===I.type&&(k?(L.width1+=r.arrowPadX,L.totalHeight=L.height1):L.totalWidth=L.width1,L.totalWidth+=r.arrowPadX),B.remove();var z=L.totalWidth+I.pad.l+I.pad.r,O=L.totalHeight+I.pad.t+I.pad.b,F=d._fullLayout._size;L.lx=F.l+F.w*I.x,L.ly=F.t+F.h*(1-I.y);var N="left";C.isRightAnchor(I)&&(L.lx-=z,N="right"),C.isCenterAnchor(I)&&(L.lx-=z/2,N="center");var H="top";C.isBottomAnchor(I)&&(L.ly-=O,H="bottom"),C.isMiddleAnchor(I)&&(L.ly-=O/2,H="middle"),L.totalWidth=Math.ceil(L.totalWidth),L.totalHeight=Math.ceil(L.totalHeight),L.lx=Math.round(L.lx),L.ly=Math.round(L.ly),D.autoMargin(d,w(I),{x:I.x,y:I.y,l:z*({right:1,center:.5}[N]||0),r:z*({left:1,center:.5}[N]||0),b:O*({top:1,middle:.5}[H]||0),t:O*({bottom:1,middle:.5}[H]||0)})}function w(d){return r.autoMarginIdRoot+d._index}function n(d,I,L,B){B=B||{};var k=d.select("."+r.itemRectClassName),z=d.select("."+r.itemTextClassName),O=I.borderwidth,F=L.index,N=I._dims;P.setTranslate(d,O+L.x,O+L.y);var H=-1!==["up","down"].indexOf(I.direction),X=B.height||(H?N.heights[F]:N.height1);k.attr({x:0,y:0,width:B.width||(H?N.width1:N.widths[F]),height:X});var ne=I.font.size*t,ie=h.lineCount(z);h.positionText(z,r.textOffsetX,X/2-(ie-1)*ne/2+r.textOffsetY),H?L.y+=N.heights[F]+L.yPad:L.x+=N.widths[F]+L.xPad,L.index++}function S(d,I){d.attr(r.menuIndexAttrName,I||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}te.exports=function(I){var L=I._fullLayout,B=C.filterVisible(L[r.name]);function k(ie){D.autoMargin(I,w(ie))}var z=L._menulayer.selectAll("g."+r.containerClassName).data(B.length>0?[0]:[]);if(z.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),z.exit().each(function(){T.select(this).selectAll("g."+r.headerGroupClassName).each(k)}).remove(),0!==B.length){var O=z.selectAll("g."+r.headerGroupClassName).data(B,i);O.enter().append("g").classed(r.headerGroupClassName,!0);for(var F=C.ensureSingle(z,"g",r.dropdownButtonGroupClassName,function(ie){ie.style("pointer-events","all")}),N=0;N<B.length;N++)M(I,B[N]);var ne=new l(I,F,"updatemenus"+L._uid);O.enter().size()&&(F.node().parentNode.appendChild(F.node()),F.call(S)),O.exit().each(function(ie){F.call(S),k(ie)}).remove(),O.each(function(ie){var ue=T.select(this),J="dropdown"===ie.type?F:null;D.manageCommandObserver(I,ie,ie.buttons,function(j){c(I,ie,0,ue,J,ne,j.index,!0)}),"dropdown"===ie.type?(m(I,ue,F,ne,ie),f(F,ie)&&a(I,ue,F,ne,ie)):a(I,ue,null,null,ie)})}}},20763:function(te,Y,e){"use strict";var T=e(75909);te.exports={moduleType:"component",name:T.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(te,Y,e){"use strict";te.exports=C;var T=e(39898),D=e(7901),o=e(91424),P=e(71828);function C(h,y,t){this.gd=h,this.container=y,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}C.barWidth=2,C.barLength=20,C.barRadius=2,C.barPad=1,C.barColor="#808BA4",C.prototype.enable=function(y,t,r){var l=this.gd._fullLayout,i=l.width,u=l.height;this.position=y;var g,M,w,n,f=this.position.l,c=this.position.w,m=this.position.t,a=this.position.h,b=this.position.direction,p="down"===b,s="left"===b,A="up"===b,x=c,E=a;!p&&!s&&!("right"===b)&&!A&&(this.position.direction="down",p=!0),p||A?(M=(g=f)+x,p?(w=m,E=(n=Math.min(w+E,u))-w):E=(n=m+E)-(w=Math.max(n-E,0))):(n=(w=m)+E,s?x=(M=f+x)-(g=Math.max(M-x,0)):(g=f,x=(M=Math.min(g+x,i))-g)),this._box={l:g,t:w,w:x,h:E};var d=c>x,I=C.barLength+2*C.barPad,L=C.barWidth+2*C.barPad,B=f,k=m+a;k+L>u&&(k=u-L);var z=this.container.selectAll("rect.scrollbar-horizontal").data(d?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(D.fill,C.barColor),d?(this.hbar=z.attr({rx:C.barRadius,ry:C.barRadius,x:B,y:k,width:I,height:L}),this._hbarXMin=B+I/2,this._hbarTranslateMax=x-I):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var O=a>E,F=C.barWidth+2*C.barPad,N=C.barLength+2*C.barPad,H=f+c,X=m;H+F>i&&(H=i-F);var ne=this.container.selectAll("rect.scrollbar-vertical").data(O?[0]:[]);ne.exit().on(".drag",null).remove(),ne.enter().append("rect").classed("scrollbar-vertical",!0).call(D.fill,C.barColor),O?(this.vbar=ne.attr({rx:C.barRadius,ry:C.barRadius,x:H,y:X,width:F,height:N}),this._vbarYMin=X+N/2,this._vbarTranslateMax=E-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ie=this.id,ue=g-.5,J=O?M+F+.5:M+.5,j=w-.5,W=d?n+L+.5:n+.5,V=l._topdefs.selectAll("#"+ie).data(d||O?[0]:[]);if(V.exit().remove(),V.enter().append("clipPath").attr("id",ie).append("rect"),d||O?(this._clipRect=V.select("rect").attr({x:Math.floor(ue),y:Math.floor(j),width:Math.ceil(J)-Math.floor(ue),height:Math.ceil(W)-Math.floor(j)}),this.container.call(o.setClipUrl,ie,this.gd),this.bg.attr({x:f,y:m,width:c,height:a})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),d||O){var K=T.behavior.drag().on("dragstart",function(){T.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(K);var ae=T.behavior.drag().on("dragstart",function(){T.event.sourceEvent.preventDefault(),T.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));d&&this.hbar.on(".drag",null).call(ae),O&&this.vbar.on(".drag",null).call(ae)}this.setTranslate(t,r)},C.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},C.prototype._onBoxDrag=function(){var y=this.translateX,t=this.translateY;this.hbar&&(y-=T.event.dx),this.vbar&&(t-=T.event.dy),this.setTranslate(y,t)},C.prototype._onBoxWheel=function(){var y=this.translateX,t=this.translateY;this.hbar&&(y+=T.event.deltaY),this.vbar&&(t+=T.event.deltaY),this.setTranslate(y,t)},C.prototype._onBarDrag=function(){var y=this.translateX,t=this.translateY;if(this.hbar){var r=y+this._hbarXMin,l=r+this._hbarTranslateMax;y=(P.constrain(T.event.x,r,l)-r)/(l-r)*(this.position.w-this._box.w)}if(this.vbar){var c=t+this._vbarYMin,m=c+this._vbarTranslateMax;t=(P.constrain(T.event.y,c,m)-c)/(m-c)*(this.position.h-this._box.h)}this.setTranslate(y,t)},C.prototype.setTranslate=function(y,t){var r=this.position.w-this._box.w,l=this.position.h-this._box.h;y=P.constrain(y||0,0,r),t=P.constrain(t||0,0,l),this.translateX=y,this.translateY=t,this.container.call(o.setTranslate,this._box.l-this.position.l-y,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+y-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar&&this.hbar.call(o.setTranslate,y+y/r*this._hbarTranslateMax,t),this.vbar&&this.vbar.call(o.setTranslate,y,t+t/l*this._vbarTranslateMax)}},18783:function(te){"use strict";te.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(te){"use strict";te.exports={axisRefDescription:function(Y,e,T){return["If set to a",Y,"axis id (e.g. *"+Y+"* or","*"+Y+"2*), the `"+Y+"` position refers to a",Y,"coordinate. If set to *paper*, the `"+Y+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+T+"). If set to a",Y,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+Y+"2 domain* refers to the domain of the second",Y," axis and a",Y,"position of 0.5 refers to the","point between the",e,"and the",T,"of the domain of the","second",Y,"axis."].join(" ")}}},22372:function(te){"use strict";te.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25b2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25bc"}}},31562:function(te){"use strict";te.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(te){"use strict";te.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(te){"use strict";te.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(te){"use strict";te.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},37822:function(te){"use strict";te.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(te){"use strict";te.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},32396:function(te,Y){"use strict";Y.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],Y.STYLE=Y.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(te,Y){"use strict";Y.xmlns="http://www.w3.org/2000/xmlns/",Y.svg="http://www.w3.org/2000/svg",Y.xlink="http://www.w3.org/1999/xlink",Y.svgAttrs={xmlns:Y.svg,"xmlns:xlink":Y.xlink}},8729:function(te,Y,e){"use strict";Y.version=e(11506).version,e(7417),e(98847);for(var T=e(73972),D=Y.register=T.register,o=e(10641),P=Object.keys(o),C=0;C<P.length;C++){var h=P[C];"_"!==h.charAt(0)&&(Y[h]=o[h]),D({moduleType:"apiMethod",name:h,fn:o[h]})}D(e(67368)),D([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),D([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(D(window.PlotlyLocales),delete window.PlotlyLocales),Y.Icons=e(24255);var y=e(30211),t=e(74875);Y.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},Y.Fx={hover:y.hover,unhover:y.unhover,loneHover:y.loneHover,loneUnhover:y.loneUnhover},Y.Snapshot=e(44511),Y.PlotSchema=e(86281)},24255:function(te){"use strict";te.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(te,Y){"use strict";Y.isLeftAnchor=function(T){return"left"===T.xanchor||"auto"===T.xanchor&&T.x<=.3333333333333333},Y.isCenterAnchor=function(T){return"center"===T.xanchor||"auto"===T.xanchor&&T.x>.3333333333333333&&T.x<.6666666666666666},Y.isRightAnchor=function(T){return"right"===T.xanchor||"auto"===T.xanchor&&T.x>=.6666666666666666},Y.isTopAnchor=function(T){return"top"===T.yanchor||"auto"===T.yanchor&&T.y>=.6666666666666666},Y.isMiddleAnchor=function(T){return"middle"===T.yanchor||"auto"===T.yanchor&&T.y>.3333333333333333&&T.y<.6666666666666666},Y.isBottomAnchor=function(T){return"bottom"===T.yanchor||"auto"===T.yanchor&&T.y<=.3333333333333333}},26348:function(te,Y,e){"use strict";var T=e(64872),D=T.mod,o=T.modHalf,P=Math.PI,C=2*P;function t(b){return Math.abs(b[1]-b[0])>C-1e-14}function r(b,p){return o(p-b,C)}function i(b,p){if(t(p))return!0;var s,v;p[0]<p[1]?(s=p[0],v=p[1]):(s=p[1],v=p[0]),(s=D(s,C))>(v=D(v,C))&&(v+=C);var A=D(b,C),x=A+C;return A>=s&&A<=v||x>=s&&x<=v}function f(b,p,s,v,A,x,E){A=A||0,x=x||0;var M,w,n,S,d,g=t([s,v]);function I(z,O){return[z*Math.cos(O)+A,x-z*Math.sin(O)]}g?(M=0,w=P,n=C):s<v?(M=s,n=v):(M=v,n=s),b<p?(S=b,d=p):(S=p,d=b);var k,L=Math.abs(n-M)<=P?0:1;function B(z,O,F){return"A"+[z,z]+" "+[0,L,F]+" "+I(z,O)}return g?k=null===S?"M"+I(d,M)+B(d,w,0)+B(d,n,0)+"Z":"M"+I(S,M)+B(S,w,0)+B(S,n,0)+"ZM"+I(d,M)+B(d,w,1)+B(d,n,1)+"Z":null===S?(k="M"+I(d,M)+B(d,n,0),E&&(k+="L0,0Z")):k="M"+I(S,M)+"L"+I(d,M)+B(d,n,0)+"L"+I(S,n)+B(S,M,1)+"Z",k}te.exports={deg2rad:function h(b){return b/180*P},rad2deg:function y(b){return b/P*180},angleDelta:r,angleDist:function l(b,p){return Math.abs(r(b,p))},isFullCircle:t,isAngleInsideSector:i,isPtInsideSector:function u(b,p,s,v){return!!i(p,v)&&(s[0]<s[1]?(A=s[0],x=s[1]):(A=s[1],x=s[0]),b>=A&&b<=x);var A,x},pathArc:function c(b,p,s,v,A){return f(null,b,p,s,v,A,0)},pathSector:function m(b,p,s,v,A){return f(null,b,p,s,v,A,1)},pathAnnulus:function a(b,p,s,v,A,x){return f(b,p,s,v,A,x,1)}}},73627:function(te,Y){"use strict";var e=Array.isArray,T=ArrayBuffer,D=DataView;function o(y){return T.isView(y)&&!(y instanceof D)}function P(y){return e(y)||o(y)}function h(y,t,r){if(P(y)){if(P(y[0])){for(var l=r,i=0;i<y.length;i++)l=t(l,y[i].length);return l}return y.length}return 0}Y.isTypedArray=o,Y.isArrayOrTypedArray=P,Y.isArray1D=function C(y){return!P(y[0])},Y.ensureArray=function(y,t){return e(y)||(y=[]),y.length=t,y},Y.concat=function(){var l,i,u,f,c,m,a,b,y=[],t=!0,r=0;for(u=0;u<arguments.length;u++)(m=(f=arguments[u]).length)&&(i?y.push(f):(i=f,c=m),e(f)?l=!1:(t=!1,r?l!==f.constructor&&(l=!1):l=f.constructor),r+=m);if(!r)return[];if(!y.length)return i;if(t)return i.concat.apply(i,y);if(l){for((a=new l(r)).set(i),u=0;u<y.length;u++)a.set(f=y[u],c),c+=f.length;return a}for(a=new Array(r),b=0;b<i.length;b++)a[b]=i[b];for(u=0;u<y.length;u++){for(f=y[u],b=0;b<f.length;b++)a[c+b]=f[b];c+=b}return a},Y.maxRowLength=function(y){return h(y,Math.max,0)},Y.minRowLength=function(y){return h(y,Math.min,1/0)}},95218:function(te,Y,e){"use strict";var T=e(92770),D=e(50606).BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;te.exports=function(C){return"string"==typeof C&&(C=C.replace(o,"")),T(C)?Number(C):D}},33306:function(te){"use strict";te.exports=function(e){var T=e._fullLayout;T._glcanvas&&T._glcanvas.size()&&T._glcanvas.each(function(D){D.regl&&D.regl.clear({color:!0,depth:!0})})}},86367:function(te){"use strict";te.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(te,Y,e){"use strict";var T=e(92770),D=e(84267),o=e(9012),P=e(63282),C=e(7901),h=e(37822).DESELECTDIM,y=e(65487),t=e(30587).counter,r=e(64872).modHalf,l=e(73627).isArrayOrTypedArray;function i(u,f){var c=Y.valObjectMeta[f.valType];if(f.arrayOk&&l(u))return!0;if(c.validateFunction)return c.validateFunction(u,f);var m={},a=m;return c.coerceFunction(u,{set:function(p){a=p}},m,f),a!==m}Y.valObjectMeta={data_array:{coerceFunction:function(u,f,c){l(u)?f.set(u):void 0!==c&&f.set(c)}},enumerated:{coerceFunction:function(u,f,c,m){m.coerceNumber&&(u=+u),-1===m.values.indexOf(u)?f.set(c):f.set(u)},validateFunction:function(u,f){f.coerceNumber&&(u=+u);for(var c=f.values,m=0;m<c.length;m++){var a=String(c[m]);if("/"===a.charAt(0)&&"/"===a.charAt(a.length-1)){if(new RegExp(a.substr(1,a.length-2)).test(u))return!0}else if(u===c[m])return!0}return!1}},boolean:{coerceFunction:function(u,f,c){f.set(!0===u||!1===u?u:c)}},number:{coerceFunction:function(u,f,c,m){!T(u)||void 0!==m.min&&u<m.min||void 0!==m.max&&u>m.max?f.set(c):f.set(+u)}},integer:{coerceFunction:function(u,f,c,m){u%1||!T(u)||void 0!==m.min&&u<m.min||void 0!==m.max&&u>m.max?f.set(c):f.set(+u)}},string:{coerceFunction:function(u,f,c,m){f.set("string"!=typeof u?!0!==m.strict&&"number"==typeof u?String(u):c:m.noBlank&&!u?c:u)}},color:{coerceFunction:function(u,f,c){D(u).isValid()?f.set(u):f.set(c)}},colorlist:{coerceFunction:function(u,f,c){Array.isArray(u)&&u.length&&u.every(function m(a){return D(a).isValid()})?f.set(u):f.set(c)}},colorscale:{coerceFunction:function(u,f,c){f.set(P.get(u,c))}},angle:{coerceFunction:function(u,f,c){"auto"===u?f.set("auto"):T(u)?f.set(r(+u,360)):f.set(c)}},subplotid:{coerceFunction:function(u,f,c,m){var a=m.regex||t(c);"string"==typeof u&&a.test(u)?f.set(u):f.set(c)},validateFunction:function(u,f){var c=f.dflt;return u===c||"string"==typeof u&&!!t(c).test(u)}},flaglist:{coerceFunction:function(u,f,c,m){if(-1===(m.extras||[]).indexOf(u))if("string"==typeof u){for(var a=u.split("+"),b=0;b<a.length;){var p=a[b];-1===m.flags.indexOf(p)||a.indexOf(p)<b?a.splice(b,1):b++}f.set(a.length?a.join("+"):c)}else f.set(c);else f.set(u)}},any:{coerceFunction:function(u,f,c){f.set(void 0===u?c:u)}},info_array:{coerceFunction:function(u,f,c,m){function a(I,L,B){var k;return void 0===B&&(B=L.dflt),Y.valObjectMeta[L.valType].coerceFunction(I,{set:function(O){k=O}},B,L),k}var b=2===m.dimensions||"1-2"===m.dimensions&&Array.isArray(u)&&Array.isArray(u[0]);if(Array.isArray(u)){var g,M,w,S,d,p=m.items,s=[],v=Array.isArray(p),A=v&&b&&Array.isArray(p[0]),x=b&&v&&!A,E=v&&!x?p.length:u.length;if(c=Array.isArray(c)?c:[],b)for(g=0;g<E;g++)for(s[g]=[],w=Array.isArray(u[g])?u[g]:[],S=x?p.length:v?p[g].length:w.length,M=0;M<S;M++)void 0!==(d=a(w[M],x?p[M]:v?p[g][M]:p,(c[g]||[])[M]))&&(s[g][M]=d);else for(g=0;g<E;g++)void 0!==(d=a(u[g],v?p[g]:p,c[g]))&&(s[g]=d);f.set(s)}else f.set(c)},validateFunction:function(u,f){if(!Array.isArray(u))return!1;var c=f.items,m=Array.isArray(c),a=2===f.dimensions;if(!f.freeLength&&u.length!==c.length)return!1;for(var b=0;b<u.length;b++)if(a){if(!Array.isArray(u[b])||!f.freeLength&&u[b].length!==c[b].length)return!1;for(var p=0;p<u[b].length;p++)if(!i(u[b][p],m?c[b][p]:c))return!1}else if(!i(u[b],m?c[b]:c))return!1;return!0}}},Y.coerce=function(u,f,c,m,a){var b=y(c,m).get(),p=y(u,m),s=y(f,m),v=p.get(),A=f._template;if(void 0===v&&A&&(v=y(A,m).get(),A=0),void 0===a&&(a=b.dflt),b.arrayOk&&l(v))return s.set(v),v;var x=Y.valObjectMeta[b.valType].coerceFunction;x(v,s,a,b);var E=s.get();return A&&E===a&&!i(v,b)&&(x(v=y(A,m).get(),s,a,b),E=s.get()),E},Y.coerce2=function(u,f,c,m,a){var b=y(u,m),p=Y.coerce(u,f,c,m,a);return null!=b.get()&&p},Y.coerceFont=function(u,f,c){var m={};return m.family=u(f+".family",(c=c||{}).family),m.size=u(f+".size",c.size),m.color=u(f+".color",c.color),m},Y.coercePattern=function(u,f,c,m){if(u(f+".shape")){u(f+".solidity"),u(f+".size");var p="overlay"===u(f+".fillmode");if(!m){var s=u(f+".bgcolor",p?c:void 0);u(f+".fgcolor",p?C.contrast(s):c)}u(f+".fgopacity",p?.5:1)}},Y.coerceHoverinfo=function(u,f,c){var p,m=f._module.attributes,a=m.hoverinfo?m:o,b=a.hoverinfo;if(1===c._dataLength){var s="all"===b.dflt?b.flags.slice():b.dflt.split("+");s.splice(s.indexOf("name"),1),p=s.join("+")}return Y.coerce(u,f,a,"hoverinfo",p)},Y.coerceSelectionMarkerOpacity=function(u,f){if(u.marker){var m,a,c=u.marker.opacity;void 0!==c&&(!l(c)&&!u.selected&&!u.unselected&&(m=c,a=h*c),f("selected.marker.opacity",m),f("unselected.marker.opacity",a))}},Y.validate=i},41631:function(te,Y,e){"use strict";var s,v,T=e(84096).i$,D=e(92770),o=e(47769),P=e(64872).mod,C=e(50606),h=C.BADNUM,y=C.ONEDAY,t=C.ONEHOUR,r=C.ONEMIN,l=C.ONESEC,i=C.EPOCHJD,u=e(73972),f=e(84096).g0,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,a=(new Date).getFullYear()-70;function b(k){return k&&u.componentsRegistry.calendars&&"string"==typeof k&&"gregorian"!==k}function A(k,z){return String(k+Math.pow(10,z)).substr(1)}Y.dateTick0=function(k,z){var O=function p(k,z){return b(k)?z?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[k]:u.getComponentMethod("calendars","CANONICAL_TICK")[k]:z?"2000-01-02":"2000-01-01"}(k,!!z);if(z<2)return O;var F=Y.dateTime2ms(O,k);return Y.ms2DateTime(F+=y*(z-1),0,k)},Y.dfltRange=function(k){return b(k)?u.getComponentMethod("calendars","DFLTRANGE")[k]:["2000-01-01","2001-01-01"]},Y.isJSDate=function(k){return"object"==typeof k&&null!==k&&"function"==typeof k.getTime},Y.dateTime2ms=function(k,z){if(Y.isJSDate(k)){var O=k.getTimezoneOffset()*r,F=(k.getUTCMinutes()-k.getMinutes())*r+(k.getUTCSeconds()-k.getSeconds())*l+(k.getUTCMilliseconds()-k.getMilliseconds());if(F){var N=3*r;O=O-N/2+P(F-O+N/2,N)}return(k=Number(k)-O)>=s&&k<=v?k:h}if("string"!=typeof k&&"number"!=typeof k)return h;k=String(k);var H=b(z),X=k.charAt(0);H&&("G"===X||"g"===X)&&(k=k.substr(1),z="");var ne=H&&"chinese"===z.substr(0,7),ie=k.match(ne?m:c);if(!ie)return h;var ue=ie[1],J=ie[3]||"1",j=Number(ie[5]||1),W=Number(ie[7]||0),V=Number(ie[9]||0),K=Number(ie[11]||0);if(H){if(2===ue.length)return h;var ae;ue=Number(ue);try{var Q=u.getComponentMethod("calendars","getCal")(z);if(ne){var Z="i"===J.charAt(J.length-1);J=parseInt(J,10),ae=Q.newDate(ue,Q.toMonthIndex(ue,J,Z),j)}else ae=Q.newDate(ue,Number(J),j)}catch{return h}return ae?(ae.toJD()-i)*y+W*t+V*r+K*l:h}ue=2===ue.length?(Number(ue)+2e3-a)%100+a:Number(ue),J-=1;var re=new Date(Date.UTC(2e3,J,j,W,V));return re.setUTCFullYear(ue),re.getUTCMonth()!==J||re.getUTCDate()!==j?h:re.getTime()+K*l},s=Y.MIN_MS=Y.dateTime2ms("-9999"),v=Y.MAX_MS=Y.dateTime2ms("9999-12-31 23:59:59.9999"),Y.isDateTime=function(k,z){return Y.dateTime2ms(k,z)!==h};var x=90*y,E=3*t,g=5*r;function M(k,z,O,F,N){if((z||O||F||N)&&(k+=" "+A(z,2)+":"+A(O,2),(F||N)&&(k+=":"+A(F,2),N))){for(var H=4;N%10==0;)H-=1,N/=10;k+="."+A(N,H)}return k}Y.ms2DateTime=function(k,z,O){if("number"!=typeof k||!(k>=s&&k<=v))return h;z||(z=0);var H,X,ne,ie,ue,J,F=Math.floor(10*P(k+.05,1)),N=Math.round(k-F/10);if(b(O)){var j=Math.floor(N/y)+i,W=Math.floor(P(k,y));try{H=u.getComponentMethod("calendars","getCal")(O).fromJD(j).formatDate("yyyy-mm-dd")}catch{H=f("G%Y-%m-%d")(new Date(N))}if("-"===H.charAt(0))for(;H.length<11;)H="-0"+H.substr(1);else for(;H.length<10;)H="0"+H;X=z<x?Math.floor(W/t):0,ne=z<x?Math.floor(W%t/r):0,ie=z<E?Math.floor(W%r/l):0,ue=z<g?W%l*10+F:0}else J=new Date(N),H=f("%Y-%m-%d")(J),X=z<x?J.getUTCHours():0,ne=z<x?J.getUTCMinutes():0,ie=z<E?J.getUTCSeconds():0,ue=z<g?10*J.getUTCMilliseconds()+F:0;return M(H,X,ne,ie,ue)},Y.ms2DateTimeLocal=function(k){if(!(k>=s+y&&k<=v-y))return h;var z=Math.floor(10*P(k+.05,1)),O=new Date(Math.round(k-z/10));return M(T("%Y-%m-%d")(O),O.getHours(),O.getMinutes(),O.getSeconds(),10*O.getUTCMilliseconds()+z)},Y.cleanDate=function(k,z,O){if(k===h)return z;if(Y.isJSDate(k)||"number"==typeof k&&isFinite(k)){if(b(O))return o.error("JS Dates and milliseconds are incompatible with world calendars",k),z;if(!(k=Y.ms2DateTimeLocal(+k))&&void 0!==z)return z}else if(!Y.isDateTime(k,O))return o.error("unrecognized date",k),z;return k};var w=/%\d?f/g,n=/%h/g,S={1:"1",2:"1",3:"2",4:"2"};function d(k,z,O,F){k=k.replace(w,function(H){var X=Math.min(+H.charAt(1)||6,6);return(z/1e3%1+2).toFixed(X).substr(2).replace(/0+$/,"")||"0"});var N=new Date(Math.floor(z+.05));if(k=k.replace(n,function(){return S[O("%q")(N)]}),b(F))try{k=u.getComponentMethod("calendars","worldCalFmt")(k,z,F)}catch{return"Invalid"}return O(k)(N)}var I=[59,59.9,59.99,59.999,59.9999];Y.formatDate=function(k,z,O,F,N,H){if(N=b(N)&&N,!z)if("y"===O)z=H.year;else if("m"===O)z=H.month;else{if("d"!==O)return function L(k,z){var O=P(k+.05,y),F=A(Math.floor(O/t),2)+":"+A(P(Math.floor(O/r),60),2);if("M"!==z){D(z)||(z=0);var H=(100+Math.min(P(k/l,60),I[z])).toFixed(z).substr(1);z>0&&(H=H.replace(/0+$/,"").replace(/[\.]$/,"")),F+=":"+H}return F}(k,O)+"\n"+d(H.dayMonthYear,k,F,N);z=H.dayMonth+"\n"+H.year}return d(z,k,F,N)};var B=3*y;Y.incrementMonth=function(k,z,O){O=b(O)&&O;var F=P(k,y);if(k=Math.round(k-F),O)try{var N=Math.round(k/y)+i,H=u.getComponentMethod("calendars","getCal")(O),X=H.fromJD(N);return z%12?H.add(X,z,"m"):H.add(X,z/12,"y"),(X.toJD()-i)*y+F}catch{o.error("invalid ms "+k+" in calendar "+O)}var ne=new Date(k+B);return ne.setUTCMonth(ne.getUTCMonth()+z)+F-B},Y.findExactDates=function(k,z){for(var X,ne,O=0,F=0,N=0,H=0,ie=b(z)&&u.getComponentMethod("calendars","getCal")(z),ue=0;ue<k.length;ue++)if(D(ne=k[ue])){if(!(ne%y))if(ie)try{1===(X=ie.fromJD(ne/y+i)).day()?1===X.month()?O++:F++:N++}catch{}else 1===(X=new Date(ne)).getUTCDate()?0===X.getUTCMonth()?O++:F++:N++}else H++;var J=k.length-H;return{exactYears:O/J,exactMonths:(F+=O)/J,exactDays:(N+=F)/J}}},24401:function(te,Y,e){"use strict";var T=e(39898),D=e(47769),o=e(35657),P=e(79576);function y(a){var b=a&&a.parentNode;b&&b.removeChild(a)}function r(a,b,p){var s="plotly.js-style-"+a,v=document.getElementById(s);v||((v=document.createElement("style")).setAttribute("id",s),v.appendChild(document.createTextNode("")),document.head.appendChild(v));var A=v.sheet;A.insertRule?A.insertRule(b+"{"+p+"}",0):A.addRule?A.addRule(b,p,0):D.warn("addStyleRule failed")}function u(a){var b=window.getComputedStyle(a,null),p=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform");return"none"===p?null:p.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(s){return+s})}function f(a){for(var b=[];c(a);)b.push(a),a=a.parentNode;return b}function c(a){return a&&(a instanceof Element||a instanceof HTMLElement)}te.exports={getGraphDiv:function C(a){var b;if("string"==typeof a){if(null===(b=document.getElementById(a)))throw new Error("No DOM element with id '"+a+"' exists on the page.");return b}if(null==a)throw new Error("DOM element provided is null or undefined");return a},isPlotDiv:function h(a){var b=T.select(a);return b.node()instanceof HTMLElement&&b.size()&&b.classed("js-plotly-plot")},removeElement:y,addStyleRule:function t(a,b){r("global",a,b)},addRelatedStyleRule:r,deleteRelatedStyleRule:function l(a){var p=document.getElementById("plotly.js-style-"+a);p&&y(p)},getFullTransformMatrix:function i(a){var b=f(a),p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return b.forEach(function(s){var v=u(s);if(v){var A=o.convertCssMatrix(v);p=P.multiply(p,p,A)}}),p},getElementTransformMatrix:u,getElementAndAncestors:f,equalDomRects:function m(a,b){return a&&b&&a.top===b.top&&a.left===b.left&&a.right===b.right&&a.bottom===b.bottom}}},11086:function(te,Y,e){"use strict";var T=e(15398).EventEmitter;te.exports={init:function(o){if(o._ev instanceof T)return o;var P=new T,C=new T;return o._ev=P,o._internalEv=C,o.on=P.on.bind(P),o.once=P.once.bind(P),o.removeListener=P.removeListener.bind(P),o.removeAllListeners=P.removeAllListeners.bind(P),o._internalOn=C.on.bind(C),o._internalOnce=C.once.bind(C),o._removeInternalListener=C.removeListener.bind(C),o._removeAllInternalListeners=C.removeAllListeners.bind(C),o.emit=function(h,y){typeof jQuery<"u"&&jQuery(o).trigger(h,y),P.emit(h,y),C.emit(h,y)},o},triggerHandler:function(o,P,C){var h,y;typeof jQuery<"u"&&(h=jQuery(o).triggerHandler(P,C));var t=o._ev;if(!t)return h;var i,r=t._events[P];if(!r)return h;function l(u){return u.listener?(t.removeListener(P,u.listener),u.fired?void 0:(u.fired=!0,u.listener.apply(t,[C]))):u.apply(t,[C])}for(r=Array.isArray(r)?r:[r],i=0;i<r.length-1;i++)l(r[i]);return y=l(r[i]),void 0!==h?h:y},purge:function(o){return delete o._ev,delete o.on,delete o.once,delete o.removeListener,delete o.removeAllListeners,delete o.emit,delete o._ev,delete o._internalEv,delete o._internalOn,delete o._internalOnce,delete o._removeInternalListener,delete o._removeAllInternalListeners,o}}},1426:function(te,Y,e){"use strict";var T=e(41965),D=Array.isArray;function P(C,h,y,t){var i,u,f,c,m,a,b,r=C[0],l=C.length;if(2===l&&D(r)&&D(C[1])&&0===r.length){if(b=function o(C,h){var y,t;for(y=0;y<C.length;y++){if(null!==(t=C[y])&&"object"==typeof t)return!1;void 0!==t&&(h[y]=t)}return!0}(C[1],r),b)return r;r.splice(0,r.length)}for(var p=1;p<l;p++)for(u in i=C[p])f=r[u],c=i[u],t&&D(c)?r[u]=c:h&&c&&(T(c)||(m=D(c)))?(m?(m=!1,a=f&&D(f)?f:[]):a=f&&T(f)?f:{},r[u]=P([a,c],h,y,t)):(typeof c<"u"||y)&&(r[u]=c);return r}Y.extendFlat=function(){return P(arguments,!1,!1,!1)},Y.extendDeep=function(){return P(arguments,!0,!1,!1)},Y.extendDeepAll=function(){return P(arguments,!0,!0,!1)},Y.extendDeepNoArrays=function(){return P(arguments,!0,!1,!0)}},75744:function(te){"use strict";te.exports=function(e){for(var T={},D=[],o=0,P=0;P<e.length;P++){var C=e[P];1!==T[C]&&(T[C]=1,D[o++]=C)}return D}},76756:function(te){"use strict";function Y(D){return!0===D.visible}function e(D){var o=D[0].trace;return!0===o.visible&&0!==o._length}te.exports=function(o){for(var P=function T(D){return Array.isArray(D)&&Array.isArray(D[0])&&D[0][0]&&D[0][0].trace}(o)?e:Y,C=[],h=0;h<o.length;h++){var y=o[h];P(y)&&C.push(y)}return C}},41327:function(te,Y,e){"use strict";var T=e(39898),D=e(24138),o=e(30774),P=e(29261),C=e(85268),h=e(23389),y=e(47769),t=e(41965),r=e(65487),l=e(61082),i=Object.keys(D),u={"ISO-3":h,"USA-states":h,"country names":function f(A){for(var x=0;x<i.length;x++){var E=i[x];if(new RegExp(D[E]).test(A.trim().toLowerCase()))return E}return y.log("Unrecognized country name: "+A+"."),!1}};function a(A){var x=A.geojson,E=window.PlotlyGeoAssets||{},g="string"==typeof x?E[x]:x;return t(g)?g:(y.error("Oops ... something went wrong when fetching "+x),!1)}te.exports={locationToFeature:function c(A,x,E){if(!x||"string"!=typeof x)return!1;var M,w,n,g=u[A](x);if(g){if("USA-states"===A)for(M=[],n=0;n<E.length;n++)(w=E[n]).properties&&w.properties.gu&&"USA"===w.properties.gu&&M.push(w);else M=E;for(n=0;n<M.length;n++)if((w=M[n]).id===g)return w;y.log(["Location with id",g,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function m(A){var w,n,S,d,x=A.geometry,E=x.coordinates,g=A.id,M=[];function I(L){for(var B=0;B<L.length-1;B++)if(L[B][0]>0&&L[B+1][0]<0)return B;return null}switch(w="RUS"===g||"FJI"===g?function(L){var B;if(null===I(L))B=L;else for(B=new Array(L.length),d=0;d<L.length;d++)B[d]=[L[d][0]<0?L[d][0]+360:L[d][0],L[d][1]];M.push(l.tester(B))}:"ATA"===g?function(L){var B=I(L);if(null===B)return M.push(l.tester(L));var k=new Array(L.length+1),z=0;for(d=0;d<L.length;d++)d>B?k[z++]=[L[d][0]+360,L[d][1]]:d===B?(k[z++]=L[d],k[z++]=[L[d][0],-90]):k[z++]=L[d];var O=l.tester(k);O.pts.pop(),M.push(O)}:function(L){M.push(l.tester(L))},x.type){case"MultiPolygon":for(n=0;n<E.length;n++)for(S=0;S<E[n].length;S++)w(E[n][S]);break;case"Polygon":for(n=0;n<E.length;n++)w(E[n])}return M},getTraceGeojson:a,extractTraceFeature:function b(A){var x=A[0].trace,E=a(x);if(!E)return!1;var w,g={},M=[];for(w=0;w<x._length;w++){var n=A[w];(n.loc||0===n.loc)&&(g[n.loc]=n)}function S(L){var B=r(L,x.featureidkey||"id").get(),k=g[B];if(k){var z=L.geometry;if("Polygon"===z.type||"MultiPolygon"===z.type){var O={type:"Feature",id:B,geometry:z,properties:{}};O.properties.ct=function p(A){var E,x=A.geometry;if("MultiPolygon"===x.type)for(var g=x.coordinates,M=0,w=0;w<g.length;w++){var n={type:"Polygon",coordinates:g[w]},S=o.default(n);S>M&&(M=S,E=n)}else E=x;return P.default(E).geometry.coordinates}(O),k.fIn=L,k.fOut=O,M.push(O)}else y.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete g[B]}switch(E.type){case"FeatureCollection":var d=E.features;for(w=0;w<d.length;w++)S(d[w]);break;case"Feature":S(E);break;default:return y.warn(["Invalid GeoJSON type",(E.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var I in g)y.log(["Location *"+I+"*","does not have a matching feature with id-key","*"+x.featureidkey+"*."].join(" "));return M},fetchTraceGeoData:function s(A){var x=window.PlotlyGeoAssets||{},E=[];function g(d){return new Promise(function(I,L){T.json(d,function(B,k){return B?(delete x[d],L(new Error(404===B.status?'GeoJSON at URL "'+d+'" does not exist.':"Unexpected error while fetching from "+d))):(x[d]=k,I(k))})})}function M(d){return new Promise(function(I,L){var B=0,k=setInterval(function(){return x[d]&&"pending"!==x[d]?(clearInterval(k),I(x[d])):B>100?(clearInterval(k),L("Unexpected error while fetching from "+d)):void B++},50)})}for(var w=0;w<A.length;w++){var S=A[w][0].trace.geojson;"string"==typeof S&&(x[S]?"pending"===x[S]&&E.push(M(S)):(x[S]="pending",E.push(g(S))))}return E},computeBbox:function v(A){return C.default(A)}}},18214:function(te,Y,e){"use strict";var T=e(50606).BADNUM;Y.calcTraceToLineCoords=function(D){for(var P=D[0].trace.connectgaps,C=[],h=[],y=0;y<D.length;y++){var r=D[y].lonlat;r[0]!==T?h.push(r):!P&&h.length>0&&(C.push(h),h=[])}return h.length>0&&C.push(h),C},Y.makeLine=function(D){return 1===D.length?{type:"LineString",coordinates:D[0]}:{type:"MultiLineString",coordinates:D}},Y.makePolygon=function(D){if(1===D.length)return{type:"Polygon",coordinates:D};for(var o=new Array(D.length),P=0;P<D.length;P++)o[P]=[D[P]];return{type:"MultiPolygon",coordinates:o}},Y.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(te,Y,e){"use strict";var P,C,h,T=e(64872).mod;function D(y,t,r,l,i,u,f,c){var m=r-y,a=i-y,b=f-i,p=l-t,s=u-t,v=c-u,A=m*v-b*p;if(0===A)return null;var x=(a*v-b*s)/A,E=(a*p-m*s)/A;return E<0||E>1||x<0||x>1?null:{x:y+m*x,y:t+p*x}}function o(y,t,r,l,i){var u=l*y+i*t;if(u<0)return l*l+i*i;if(u>r){var f=l-y,c=i-t;return f*f+c*c}var m=l*t-i*y;return m*m/r}Y.segmentsIntersect=D,Y.segmentDistance=function(t,r,l,i,u,f,c,m){if(D(t,r,l,i,u,f,c,m))return 0;var a=l-t,b=i-r,p=c-u,s=m-f,v=a*a+b*b,A=p*p+s*s,x=Math.min(o(a,b,v,u-t,f-r),o(a,b,v,c-t,m-r),o(p,s,A,t-u,r-f),o(p,s,A,l-u,i-f));return Math.sqrt(x)},Y.getTextLocation=function(t,r,l,i){if((t!==C||i!==h)&&(P={},C=t,h=i),P[l])return P[l];var u=t.getPointAtLength(T(l-i/2,r)),f=t.getPointAtLength(T(l+i/2,r)),c=Math.atan((f.y-u.y)/(f.x-u.x)),m=t.getPointAtLength(T(l,r)),p={x:(4*m.x+u.x+f.x)/6,y:(4*m.y+u.y+f.y)/6,theta:c};return P[l]=p,p},Y.clearLocationCache=function(){C=null},Y.getVisibleSegment=function(t,r,l){var p,s,i=r.left,u=r.right,f=r.top,c=r.bottom,m=0,a=t.getTotalLength(),b=a;function v(x){var E=t.getPointAtLength(x);0===x?p=E:x===a&&(s=E);var g=E.x<i?i-E.x:E.x>u?E.x-u:0,M=E.y<f?f-E.y:E.y>c?E.y-c:0;return Math.sqrt(g*g+M*M)}for(var A=v(m);A;){if((m+=A+l)>b)return;A=v(m)}for(A=v(b);A;){if(m>(b-=A+l))return;A=v(b)}return{min:m,max:b,len:b-m,total:a,isClosed:0===m&&b===a&&Math.abs(p.x-s.x)<.1&&Math.abs(p.y-s.y)<.1}},Y.findPointOnPath=function(t,r,l,i){for(var s,v,A,u=(i=i||{}).pathLength||t.getTotalLength(),f=i.tolerance||.001,c=i.iterationLimit||30,m=t.getPointAtLength(0)[l]>t.getPointAtLength(u)[l]?-1:1,a=0,b=0,p=u;a<c;){if(A=(v=t.getPointAtLength(s=(b+p)/2))[l]-r,Math.abs(A)<f)return v;m*A>0?p=s:b=s,a++}return v}},81697:function(te,Y,e){"use strict";var T=e(92770),D=e(84267),o=e(25075),P=e(21081),C=e(22399).defaultLine,h=e(73627).isArrayOrTypedArray,y=o(C);function r(c,m){var a=c;return a[3]*=m,a}function l(c){if(T(c))return y;var m=o(c);return m.length?m:y}function i(c){return T(c)?c:1}te.exports={formatColor:function u(c,m,a){var x,E,g,M,w,b=c.color,p=h(b),s=h(m),v=P.extractOpts(c),A=[];if(x=void 0!==v.colorscale?P.makeColorScaleFuncFromTrace(c):l,E=p?function(S,d){return void 0===S[d]?y:o(x(S[d]))}:l,g=s?function(S,d){return void 0===S[d]?1:i(S[d])}:i,p||s)for(var n=0;n<a;n++)M=E(b,n),w=g(m,n),A[n]=r(M,w);else A=r(o(b),m);return A},parseColorScale:function f(c){var m=P.extractOpts(c),a=m.colorscale;return m.reversescale&&(a=P.flipScale(m.colorscale)),a.map(function(b){var p=b[0],v=D(b[1]).toRgb();return{index:p,rgb:[v.r,v.g,v.b,v.a]}})}}},28984:function(te,Y,e){"use strict";var T=e(23389);function D(o){return[o]}te.exports={keyFun:function(o){return o.key},repeat:D,descend:T,wrap:D,unwrap:function(o){return o[0]}}},23389:function(te){"use strict";te.exports=function(e){return e}},39240:function(te){"use strict";te.exports=function(e,T){if(!T)return e;var D=1/Math.abs(T),o=D>1?(D*e+D*T)/D:e+T,P=String(o).length;if(P>16){var C=String(T).length;if(P>=String(e).length+C){var y=parseFloat(o).toPrecision(12);-1===y.indexOf("e+")&&(o=+y)}}return o}},71828:function(te,Y,e){"use strict";var T=e(39898),D=e(84096).g0,o=e(60721).WU,P=e(92770),C=e(50606),h=C.FP_SAFE,y=-h,t=C.BADNUM,r=te.exports={};r.adjustFormat=function(ae){return!ae||/^\d[.]\df/.test(ae)||/[.]\d%/.test(ae)?ae:"0.f"===ae?"~f":/^\d%/.test(ae)?"~%":/^\ds/.test(ae)?"~s":!/^[~,.0$]/.test(ae)&&/[&fps]/.test(ae)?"~"+ae:ae};var l={};r.warnBadFormat=function(K){var ae=String(K);l[ae]||(l[ae]=1,r.warn('encountered bad format: "'+ae+'"'))},r.noFormat=function(K){return String(K)},r.numberFormat=function(K){var ae;try{ae=o(r.adjustFormat(K))}catch{return r.warnBadFormat(K),r.noFormat}return ae},r.nestedProperty=e(65487),r.keyedContainer=e(66636),r.relativeAttr=e(6962),r.isPlainObject=e(41965),r.toLogRange=e(58163),r.relinkPrivateKeys=e(51332);var i=e(73627);r.isTypedArray=i.isTypedArray,r.isArrayOrTypedArray=i.isArrayOrTypedArray,r.isArray1D=i.isArray1D,r.ensureArray=i.ensureArray,r.concat=i.concat,r.maxRowLength=i.maxRowLength,r.minRowLength=i.minRowLength;var u=e(64872);r.mod=u.mod,r.modHalf=u.modHalf;var f=e(96554);r.valObjectMeta=f.valObjectMeta,r.coerce=f.coerce,r.coerce2=f.coerce2,r.coerceFont=f.coerceFont,r.coercePattern=f.coercePattern,r.coerceHoverinfo=f.coerceHoverinfo,r.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,r.validate=f.validate;var c=e(41631);r.dateTime2ms=c.dateTime2ms,r.isDateTime=c.isDateTime,r.ms2DateTime=c.ms2DateTime,r.ms2DateTimeLocal=c.ms2DateTimeLocal,r.cleanDate=c.cleanDate,r.isJSDate=c.isJSDate,r.formatDate=c.formatDate,r.incrementMonth=c.incrementMonth,r.dateTick0=c.dateTick0,r.dfltRange=c.dfltRange,r.findExactDates=c.findExactDates,r.MIN_MS=c.MIN_MS,r.MAX_MS=c.MAX_MS;var m=e(65888);r.findBin=m.findBin,r.sorterAsc=m.sorterAsc,r.sorterDes=m.sorterDes,r.distinctVals=m.distinctVals,r.roundUp=m.roundUp,r.sort=m.sort,r.findIndexOfMin=m.findIndexOfMin,r.sortObjectKeys=e(78607);var a=e(80038);r.aggNums=a.aggNums,r.len=a.len,r.mean=a.mean,r.median=a.median,r.midRange=a.midRange,r.variance=a.variance,r.stdev=a.stdev,r.interp=a.interp;var b=e(35657);r.init2dArray=b.init2dArray,r.transposeRagged=b.transposeRagged,r.dot=b.dot,r.translationMatrix=b.translationMatrix,r.rotationMatrix=b.rotationMatrix,r.rotationXYMatrix=b.rotationXYMatrix,r.apply3DTransform=b.apply3DTransform,r.apply2DTransform=b.apply2DTransform,r.apply2DTransform2=b.apply2DTransform2,r.convertCssMatrix=b.convertCssMatrix,r.inverseTransformMatrix=b.inverseTransformMatrix;var p=e(26348);r.deg2rad=p.deg2rad,r.rad2deg=p.rad2deg,r.angleDelta=p.angleDelta,r.angleDist=p.angleDist,r.isFullCircle=p.isFullCircle,r.isAngleInsideSector=p.isAngleInsideSector,r.isPtInsideSector=p.isPtInsideSector,r.pathArc=p.pathArc,r.pathSector=p.pathSector,r.pathAnnulus=p.pathAnnulus;var s=e(99863);r.isLeftAnchor=s.isLeftAnchor,r.isCenterAnchor=s.isCenterAnchor,r.isRightAnchor=s.isRightAnchor,r.isTopAnchor=s.isTopAnchor,r.isMiddleAnchor=s.isMiddleAnchor,r.isBottomAnchor=s.isBottomAnchor;var v=e(87642);r.segmentsIntersect=v.segmentsIntersect,r.segmentDistance=v.segmentDistance,r.getTextLocation=v.getTextLocation,r.clearLocationCache=v.clearLocationCache,r.getVisibleSegment=v.getVisibleSegment,r.findPointOnPath=v.findPointOnPath;var A=e(1426);r.extendFlat=A.extendFlat,r.extendDeep=A.extendDeep,r.extendDeepAll=A.extendDeepAll,r.extendDeepNoArrays=A.extendDeepNoArrays;var x=e(47769);r.log=x.log,r.warn=x.warn,r.error=x.error;var E=e(30587);r.counterRegex=E.counter;var g=e(79990);r.throttle=g.throttle,r.throttleDone=g.done,r.clearThrottle=g.clear;var M=e(24401);function w(K){var ae={};for(var Q in K)for(var Z=K[Q],re=0;re<Z.length;re++)ae[Z[re]]=+Q;return ae}r.getGraphDiv=M.getGraphDiv,r.isPlotDiv=M.isPlotDiv,r.removeElement=M.removeElement,r.addStyleRule=M.addStyleRule,r.addRelatedStyleRule=M.addRelatedStyleRule,r.deleteRelatedStyleRule=M.deleteRelatedStyleRule,r.getFullTransformMatrix=M.getFullTransformMatrix,r.getElementTransformMatrix=M.getElementTransformMatrix,r.getElementAndAncestors=M.getElementAndAncestors,r.equalDomRects=M.equalDomRects,r.clearResponsive=e(86367),r.preserveDrawingBuffer=e(45142),r.makeTraceGroups=e(77310),r._=e(15867),r.notifier=e(75046),r.filterUnique=e(75744),r.filterVisible=e(76756),r.pushUnique=e(75138),r.increment=e(39240),r.cleanNumber=e(95218),r.ensureNumber=function(ae){return P(ae)?(ae=Number(ae))>h||ae<y?t:ae:t},r.isIndex=function(K,ae){return!(void 0!==ae&&K>=ae)&&P(K)&&K>=0&&K%1==0},r.noop=e(64213),r.identity=e(23389),r.repeat=function(K,ae){for(var Q=new Array(ae),Z=0;Z<ae;Z++)Q[Z]=K;return Q},r.swapAttrs=function(K,ae,Q,Z){Q||(Q="x"),Z||(Z="y");for(var re=0;re<ae.length;re++){var q=ae[re],se=r.nestedProperty(K,q.replace("?",Q)),de=r.nestedProperty(K,q.replace("?",Z)),we=se.get();se.set(de.get()),de.set(we)}},r.raiseToTop=function(ae){ae.parentNode.appendChild(ae)},r.cancelTransition=function(K){return K.transition().duration(0)},r.constrain=function(K,ae,Q){return ae>Q?Math.max(Q,Math.min(ae,K)):Math.max(ae,Math.min(Q,K))},r.bBoxIntersect=function(K,ae,Q){return K.left<=ae.right+(Q=Q||0)&&ae.left<=K.right+Q&&K.top<=ae.bottom+Q&&ae.top<=K.bottom+Q},r.simpleMap=function(K,ae,Q,Z,re){for(var q=K.length,se=new Array(q),de=0;de<q;de++)se[de]=ae(K[de],Q,Z,re);return se},r.randstr=function K(ae,Q,Z,re){if(Z||(Z=16),void 0===Q&&(Q=24),Q<=0)return"0";var de,we,q=Math.log(Math.pow(2,Q))/Math.log(Z),se="";for(de=2;q===1/0;de*=2)q=Math.log(Math.pow(2,Q/de))/Math.log(Z)*de;var Pe=q-Math.floor(q);for(de=0;de<Math.floor(q);de++)se=Math.floor(Math.random()*Z).toString(Z)+se;Pe&&(we=Math.pow(Z,Pe),se=Math.floor(Math.random()*we).toString(Z)+se);var Ie=parseInt(se,Z);return ae&&ae[se]||Ie!==1/0&&Ie>=Math.pow(2,Q)?re>10?(r.warn("randstr failed uniqueness"),se):K(ae,Q,Z,(re||0)+1):se},r.OptionControl=function(K,ae){K||(K={}),ae||(ae="opt");var Q={optionList:[],_newoption:function(Z){Z[ae]=K,Q[Z.name]=Z,Q.optionList.push(Z)}};return Q["_"+ae]=K,Q},r.smooth=function(K,ae){if((ae=Math.round(ae)||0)<2)return K;var de,we,ye,Pe,Q=K.length,Z=2*Q,re=2*ae-1,q=new Array(re),se=new Array(Q);for(de=0;de<re;de++)q[de]=(1-Math.cos(Math.PI*(de+1)/ae))/(2*ae);for(de=0;de<Q;de++){for(Pe=0,we=0;we<re;we++)(ye=de+we+1-ae)<-Q?ye-=Z*Math.round(ye/Z):ye>=Z&&(ye-=Z*Math.floor(ye/Z)),ye<0?ye=-1-ye:ye>=Q&&(ye=Z-1-ye),Pe+=K[ye]*q[we];se[de]=Pe}return se},r.syncOrAsync=function(K,ae,Q){var Z;function q(){return r.syncOrAsync(K,ae,Q)}for(;K.length;)if((Z=(0,K.splice(0,1)[0])(ae))&&Z.then)return Z.then(q);return Q&&Q(ae)},r.stripTrailingSlash=function(K){return"/"===K.substr(-1)?K.substr(0,K.length-1):K},r.noneOrAll=function(K,ae,Q){if(K){var q,Z=!1,re=!0;for(q=0;q<Q.length;q++)null!=K[Q[q]]?Z=!0:re=!1;if(Z&&!re)for(q=0;q<Q.length;q++)K[Q[q]]=ae[Q[q]]}},r.mergeArray=function(K,ae,Q,Z){var re="function"==typeof Z;if(r.isArrayOrTypedArray(K))for(var q=Math.min(K.length,ae.length),se=0;se<q;se++){var de=K[se];ae[se][Q]=re?Z(de):de}},r.mergeArrayCastPositive=function(K,ae,Q){return r.mergeArray(K,ae,Q,function(Z){var re=+Z;return isFinite(re)&&re>0?re:0})},r.fillArray=function(K,ae,Q,Z){if(Z=Z||r.identity,r.isArrayOrTypedArray(K))for(var re=0;re<ae.length;re++)ae[re][Q]=Z(K[re])},r.castOption=function(K,ae,Q,Z){Z=Z||r.identity;var re=r.nestedProperty(K,Q).get();return r.isArrayOrTypedArray(re)?Array.isArray(ae)&&r.isArrayOrTypedArray(re[ae[0]])?Z(re[ae[0]][ae[1]]):Z(re[ae]):re},r.extractOption=function(K,ae,Q,Z){if(Q in K)return K[Q];var re=r.nestedProperty(ae,Z).get();return Array.isArray(re)?void 0:re},r.tagSelected=function(K,ae,Q){var q,Ie,Z=ae.selectedpoints,re=ae._indexToPoints;re&&(q=w(re));for(var de=0;de<Z.length;de++){var we=Z[de];if(r.isIndex(we)||r.isArrayOrTypedArray(we)&&r.isIndex(we[0])&&r.isIndex(we[1])){var ye=q?q[we]:we,Pe=Q?Q[ye]:ye;void 0!==(Ie=Pe)&&Ie<K.length&&(K[Pe].selected=1)}}},r.selIndices2selPoints=function(K){var ae=K.selectedpoints,Q=K._indexToPoints;if(Q){for(var Z=w(Q),re=[],q=0;q<ae.length;q++){var se=ae[q];if(r.isIndex(se)){var de=Z[se];r.isIndex(de)&&re.push(de)}}return re}return ae},r.getTargetArray=function(K,ae){var Q=ae.target;if("string"==typeof Q&&Q){var Z=r.nestedProperty(K,Q).get();return!!Array.isArray(Z)&&Z}return!!Array.isArray(Q)&&Q},r.minExtend=function n(K,ae,Q){var Z={};"object"!=typeof ae&&(ae={});var se,de,we,re="pieLike"===Q?-1:3,q=Object.keys(K);for(se=0;se<q.length;se++)we=K[de=q[se]],"_"!==de.charAt(0)&&"function"!=typeof we&&(Z[de]="module"===de?we:Array.isArray(we)?"colorscale"===de||-1===re?we.slice():we.slice(0,re):r.isTypedArray(we)?-1===re?we.subarray():we.subarray(0,re):we&&"object"==typeof we?n(K[de],ae[de],Q):we);for(q=Object.keys(ae),se=0;se<q.length;se++)("object"!=typeof(we=ae[de=q[se]])||!(de in Z)||"object"!=typeof Z[de])&&(Z[de]=we);return Z},r.titleCase=function(K){return K.charAt(0).toUpperCase()+K.substr(1)},r.containsAny=function(K,ae){for(var Q=0;Q<ae.length;Q++)if(-1!==K.indexOf(ae[Q]))return!0;return!1},r.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var S=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return S.test(window.navigator.userAgent)};var d=/iPad|iPhone|iPod/;r.isIOS=function(){return d.test(window.navigator.userAgent)};var I=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var K=I.exec(window.navigator.userAgent);if(K&&2===K.length){var ae=parseInt(K[1]);if(!isNaN(ae))return ae}return null},r.isD3Selection=function(K){return K instanceof T.selection},r.ensureSingle=function(K,ae,Q,Z){var re=K.select(ae+(Q?"."+Q:""));if(re.size())return re;var q=K.append(ae);return Q&&q.classed(Q,!0),Z&&q.call(Z),q},r.ensureSingleById=function(K,ae,Q,Z){var re=K.select(ae+"#"+Q);if(re.size())return re;var q=K.append(ae).attr("id",Q);return Z&&q.call(Z),q},r.objectFromPath=function(K,ae){for(var Z,Q=K.split("."),re=Z={},q=0;q<Q.length;q++){var se=Q[q],de=null,we=Q[q].match(/(.*)\[([0-9]+)\]/);we?(de=we[2],(Z=Z[se=we[1]]=[])[de]=q===Q.length-1?ae:{},Z=Z[de]):(Z[se]=q===Q.length-1?ae:{},Z=Z[se])}return re};var L=/^([^\[\.]+)\.(.+)?/,B=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function k(K){return"__"===K.slice(0,2)}r.expandObjectPaths=function(K){var ae,Q,Z,re,q,se,de;if("object"==typeof K&&!Array.isArray(K))for(Q in K)if(K.hasOwnProperty(Q))if(ae=Q.match(L)){if(re=K[Q],k(Z=ae[1]))continue;delete K[Q],K[Z]=r.extendDeepNoArrays(K[Z]||{},r.objectFromPath(Q,r.expandObjectPaths(re))[Z])}else if(ae=Q.match(B)){if(re=K[Q],k(Z=ae[1]))continue;if(q=parseInt(ae[2]),delete K[Q],K[Z]=K[Z]||[],"."===ae[3])de=ae[4],se=K[Z][q]=K[Z][q]||{},r.extendDeepNoArrays(se,r.objectFromPath(de,r.expandObjectPaths(re)));else{if(k(Z))continue;K[Z][q]=r.expandObjectPaths(re)}}else{if(k(Q))continue;K[Q]=r.expandObjectPaths(K[Q])}return K},r.numSeparate=function(K,ae,Q){if(Q||(Q=!1),"string"!=typeof ae||0===ae.length)throw new Error("Separator string required for formatting!");"number"==typeof K&&(K=String(K));var Z=/(\d+)(\d{3})/,re=ae.charAt(0),q=ae.charAt(1),se=K.split("."),de=se[0],we=se.length>1?re+se[1]:"";if(q&&(se.length>1||de.length>4||Q))for(;Z.test(de);)de=de.replace(Z,"$1"+q+"$2");return de+we},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var z=/^\w*$/;r.templateString=function(K,ae){var Q={};return K.replace(r.TEMPLATE_STRING_REGEX,function(Z,re){var q;return z.test(re)?q=ae[re]:(Q[re]=Q[re]||r.nestedProperty(ae,re).get,q=Q[re]()),r.isValidTextValue(q)?q:""})};var O={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return ie.apply(O,arguments)};var F={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return ie.apply(F,arguments)};var N=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,X={max:10,count:0,name:"texttemplate",parseMultDiv:!0};r.texttemplateStringForShapes=function(){return ie.apply(X,arguments)};var ne=/^[:|\|]/;function ie(K,ae,Q){var Z=this,re=arguments;ae||(ae={});var q={};return K.replace(r.TEMPLATE_STRING_REGEX,function(se,de,we){var Pe="_xother"===de||"_yother"===de,Ie="_xother_"===de||"_yother_"===de,Se="xother_"===de||"yother_"===de,xe="xother"===de||"yother"===de||Pe||Se||Ie,Me=de;(Pe||Ie)&&(Me=Me.substring(1)),(Se||Ie)&&(Me=Me.substring(0,Me.length-1));var He,rt,$e,Ge=null,Ye=null;if(Z.parseMultDiv){var De=function H(K){var ae=K.match(N);return ae?{key:ae[1],op:ae[2],number:Number(ae[3])}:{key:K,op:null,number:null}}(Me);Me=De.key,Ge=De.op,Ye=De.number}if(xe){if(void 0===(He=ae[Me]))return""}else for($e=3;$e<re.length;$e++)if(rt=re[$e]){if(rt.hasOwnProperty(Me)){He=rt[Me];break}if(z.test(Me)||(He=r.nestedProperty(rt,Me).get(),(He=q[Me]||r.nestedProperty(rt,Me).get())&&(q[Me]=He)),void 0!==He)break}if(void 0!==He&&("*"===Ge&&(He*=Ye),"/"===Ge&&(He/=Ye)),void 0===He&&Z)return Z.count<Z.max&&(r.warn("Variable '"+Me+"' in "+Z.name+" could not be found!"),He=se),Z.count===Z.max&&r.warn("Too many "+Z.name+" warnings - additional warnings will be suppressed"),Z.count++,se;if(we){var Be;if(":"===we[0]&&(He=(Be=Q?Q.numberFormat:r.numberFormat)(we.replace(ne,""))(He)),"|"===we[0]){Be=Q?Q.timeFormat:D;var ze=r.dateTime2ms(He);He=r.formatDate(ze,we.replace(ne,""),!1,Be)}}else{var tt=Me+"Label";ae.hasOwnProperty(tt)&&(He=ae[tt])}return xe&&(He="("+He+")",(Pe||Ie)&&(He=" "+He),(Se||Ie)&&(He+=" ")),He})}r.subplotSort=function(K,ae){for(var Q=Math.min(K.length,ae.length)+1,Z=0,re=0,q=0;q<Q;q++){var se=K.charCodeAt(q)||0,de=ae.charCodeAt(q)||0,we=se>=48&&se<=57,ye=de>=48&&de<=57;if(we&&(Z=10*Z+se-48),ye&&(re=10*re+de-48),!we||!ye){if(Z!==re)return Z-re;if(se!==de)return se-de}}return re-Z};var j=2e9;r.seedPseudoRandom=function(){j=2e9},r.pseudoRandom=function(){var K=j;return j=(69069*j+1)%4294967296,Math.abs(j-K)<429496729?r.pseudoRandom():j/4294967296},r.fillText=function(K,ae,Q){var Z=Array.isArray(Q)?function(se){Q.push(se)}:function(se){Q.text=se},re=r.extractOption(K,ae,"htx","hovertext");if(r.isValidTextValue(re))return Z(re);var q=r.extractOption(K,ae,"tx","text");return r.isValidTextValue(q)?Z(q):void 0},r.isValidTextValue=function(K){return K||0===K},r.formatPercent=function(K,ae){ae=ae||0;for(var Q=(Math.round(100*K*Math.pow(10,ae))*Math.pow(.1,ae)).toFixed(ae)+"%",Z=0;Z<ae;Z++)-1!==Q.indexOf(".")&&(Q=(Q=Q.replace("0%","%")).replace(".%","%"));return Q},r.isHidden=function(K){var ae=window.getComputedStyle(K).display;return!ae||"none"===ae},r.strTranslate=function(K,ae){return K||ae?"translate("+K+","+ae+")":""},r.strRotate=function(K){return K?"rotate("+K+")":""},r.strScale=function(K){return 1!==K?"scale("+K+")":""},r.getTextTransform=function(K){var ae=K.noCenter,Q=K.textX,Z=K.textY,we=K.rotate,ye=K.scale;return ye?ye>1&&(ye=1):ye=0,r.strTranslate(K.targetX-ye*(Q+(K.anchorX||0)),K.targetY-ye*(Z+(K.anchorY||0)))+r.strScale(ye)+(we?"rotate("+we+(ae?"":" "+Q+" "+Z)+")":"")},r.setTransormAndDisplay=function(K,ae){K.attr("transform",r.getTextTransform(ae)),K.style("display",ae.scale?null:"none")},r.ensureUniformFontSize=function(K,ae){var Q=r.extendFlat({},ae);return Q.size=Math.max(ae.size,K._fullLayout.uniformtext.minsize||0),Q},r.join2=function(K,ae,Q){var Z=K.length;return Z>1?K.slice(0,-1).join(ae)+Q+K[Z-1]:K.join(ae)},r.bigFont=function(K){return Math.round(1.2*K)};var W=r.getFirefoxVersion(),V=null!==W&&W<86;r.getPositionFromD3Event=function(){return V?[T.event.layerX,T.event.layerY]:[T.event.offsetX,T.event.offsetY]}},41965:function(te){"use strict";te.exports=function(e){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(e):"[object Object]"===Object.prototype.toString.call(e)&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(te,Y,e){"use strict";var T=e(65487),D=/^\w*$/;te.exports=function(r,l,i,u){i=i||"name",u=u||"value";var f,c,m,a={};l&&l.length?(m=T(r,l),c=m.get()):c=r,l=l||"";var b={};if(c)for(f=0;f<c.length;f++)b[c[f][i]]=f;var p=D.test(u),s={set:function(v,A){var x=null===A?4:0;if(!c){if(!m||4===x)return;m.set(c=[])}var E=b[v];if(void 0===E){if(4===x)return;x|=3,b[v]=E=c.length}else A!==(p?c[E][u]:T(c[E],u).get())&&(x|=2);var g=c[E]=c[E]||{};return g[i]=v,p?g[u]=A:T(g,u).set(A),null!==A&&(x&=-5),a[E]=a[E]|x,s},get:function(v){if(c){var A=b[v];if(void 0!==A)return p?c[A][u]:T(c[A],u).get()}},rename:function(v,A){var x=b[v];return void 0===x||(a[x]=1|a[x],b[A]=x,delete b[v],c[x][i]=A),s},remove:function(v){var A=b[v];if(void 0===A)return s;var x=c[A];if(Object.keys(x).length>2)return a[A]=2|a[A],s.set(v,null);if(p){for(f=A;f<c.length;f++)a[f]=3|a[f];for(f=A;f<c.length;f++)b[c[f][i]]--;c.splice(A,1),delete b[v]}else T(x,u).set(null),a[A]=6|a[A];return s},constructUpdate:function(){for(var v,A,x={},E=Object.keys(a),g=0;g<E.length;g++)v=l+"["+(A=E[g])+"]",c[A]?(1&a[A]&&(x[v+"."+i]=c[A][i]),2&a[A]&&(x[v+"."+u]=p?4&a[A]?null:c[A][u]:4&a[A]?null:T(c[A],u).get())):x[v]=null;return x}};return s}},15867:function(te,Y,e){"use strict";var T=e(73972);te.exports=function(o,P){for(var C=o._context.locale,h=0;h<2;h++){for(var y=o._context.locales,t=0;t<2;t++){var r=(y[C]||{}).dictionary;if(r){var l=r[P];if(l)return l}y=T.localeRegistry}var i=C.split("-")[0];if(i===C)break;C=i}return P}},47769:function(te,Y,e){"use strict";var T=e(72075).dfltConfig,D=e(75046),o=te.exports={};o.log=function(){var P;if(T.logging>1){var C=["LOG:"];for(P=0;P<arguments.length;P++)C.push(arguments[P]);console.trace.apply(console,C)}if(T.notifyOnLogging>1){var h=[];for(P=0;P<arguments.length;P++)h.push(arguments[P]);D(h.join("<br>"),"long")}},o.warn=function(){var P;if(T.logging>0){var C=["WARN:"];for(P=0;P<arguments.length;P++)C.push(arguments[P]);console.trace.apply(console,C)}if(T.notifyOnLogging>0){var h=[];for(P=0;P<arguments.length;P++)h.push(arguments[P]);D(h.join("<br>"),"stick")}},o.error=function(){var P;if(T.logging>0){var C=["ERROR:"];for(P=0;P<arguments.length;P++)C.push(arguments[P]);console.error.apply(console,C)}if(T.notifyOnLogging>0){var h=[];for(P=0;P<arguments.length;P++)h.push(arguments[P]);D(h.join("<br>"),"stick")}}},77310:function(te,Y,e){"use strict";var T=e(39898);te.exports=function(o,P,C){var h=o.selectAll("g."+C.replace(/\s/g,".")).data(P,function(t){return t[0].trace.uid});h.exit().remove(),h.enter().append("g").attr("class",C),h.order();var y=o.classed("rangeplot")?"nodeRangePlot3":"node3";return h.each(function(t){t[0][y]=T.select(this)}),h}},35657:function(te,Y,e){"use strict";var T=e(79576);Y.init2dArray=function(D,o){for(var P=new Array(D),C=0;C<D;C++)P[C]=new Array(o);return P},Y.transposeRagged=function(D){var C,h,o=0,P=D.length;for(C=0;C<P;C++)o=Math.max(o,D[C].length);var y=new Array(o);for(C=0;C<o;C++)for(y[C]=new Array(P),h=0;h<P;h++)y[C][h]=D[h][C];return y},Y.dot=function(D,o){if(!D.length||!o.length||D.length!==o.length)return null;var C,h,P=D.length;if(D[0].length)for(C=new Array(P),h=0;h<P;h++)C[h]=Y.dot(D[h],o);else if(o[0].length){var y=Y.transposeRagged(o);for(C=new Array(y.length),h=0;h<y.length;h++)C[h]=Y.dot(D,y[h])}else for(C=0,h=0;h<P;h++)C+=D[h]*o[h];return C},Y.translationMatrix=function(D,o){return[[1,0,D],[0,1,o],[0,0,1]]},Y.rotationMatrix=function(D){var o=D*Math.PI/180;return[[Math.cos(o),-Math.sin(o),0],[Math.sin(o),Math.cos(o),0],[0,0,1]]},Y.rotationXYMatrix=function(D,o,P){return Y.dot(Y.dot(Y.translationMatrix(o,P),Y.rotationMatrix(D)),Y.translationMatrix(-o,-P))},Y.apply3DTransform=function(D){return function(){var o=arguments,P=1===arguments.length?o[0]:[o[0],o[1],o[2]||0];return Y.dot(D,[P[0],P[1],P[2],1]).slice(0,3)}},Y.apply2DTransform=function(D){return function(){var o=arguments;3===o.length&&(o=o[0]);var P=1===arguments.length?o[0]:[o[0],o[1]];return Y.dot(D,[P[0],P[1],1]).slice(0,2)}},Y.apply2DTransform2=function(D){var o=Y.apply2DTransform(D);return function(P){return o(P.slice(0,2)).concat(o(P.slice(2,4)))}},Y.convertCssMatrix=function(D){if(D){var o=D.length;if(16===o)return D;if(6===o)return[D[0],D[1],0,0,D[2],D[3],0,0,0,0,1,0,D[4],D[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},Y.inverseTransformMatrix=function(D){var o=[];return T.invert(o,D),[[o[0],o[1],o[2],o[3]],[o[4],o[5],o[6],o[7]],[o[8],o[9],o[10],o[11]],[o[12],o[13],o[14],o[15]]]}},64872:function(te){"use strict";te.exports={mod:function Y(T,D){var o=T%D;return o<0?o+D:o},modHalf:function e(T,D){return Math.abs(T)>D/2?T-Math.round(T/D)*D:T}}},65487:function(te,Y,e){"use strict";var T=e(92770),D=e(73627).isArrayOrTypedArray;function o(i,u){return function(){var c,m,a,b,p,f=i;for(b=0;b<u.length-1;b++){if(-1===(c=u[b])){for(m=!0,a=[],p=0;p<f.length;p++)a[p]=o(f[p],u.slice(b+1))(),a[p]!==a[0]&&(m=!1);return m?a[0]:a}if("number"==typeof c&&!D(f)||"object"!=typeof(f=f[c])||null===f)return}if("object"==typeof f&&null!==f&&null!==(a=f[u[b]]))return a}}te.exports=function(u,f){if(T(f))f=String(f);else if("string"!=typeof f||"[-1]"===f.substr(f.length-4))throw"bad property string";var m,a,b,p,c=f.split(".");for(p=0;p<c.length;p++)if("__"===String(c[p]).slice(0,2))throw"bad property string";for(p=0;p<c.length;){if(m=String(c[p]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(m[1])c[p]=m[1];else{if(0!==p)throw"bad property string";c.splice(0,1)}for(a=m[2].substr(1,m[2].length-2).split("]["),b=0;b<a.length;b++)p++,c.splice(p,0,Number(a[b]))}p++}return"object"!=typeof u?function l(i,u,f){return{set:function(){throw"bad container"},get:function(){},astr:u,parts:f,obj:i}}(u,f,c):{set:h(u,c,f),get:o(u,c),astr:f,parts:c,obj:u}};var P=/(^|\.)args\[/;function C(i,u){return void 0===i||null===i&&!u.match(P)}function h(i,u,f){return function(c){var s,v,m=i,a="",b=[[i,a]],p=C(c,f);for(v=0;v<u.length-1;v++){if("number"==typeof(s=u[v])&&!D(m))throw"array index but container is not an array";if(-1===s){if(p=!t(m,u.slice(v+1),c,f))break;return}if(!r(m,s,u[v+1],p))break;if("object"!=typeof(m=m[s])||null===m)throw"container is not an object";a=y(a,s),b.push([m,a])}if(p){if(v===u.length-1&&(delete m[u[v]],Array.isArray(m)&&+u[v]==m.length-1))for(;m.length&&void 0===m[m.length-1];)m.pop()}else m[u[v]]=c}}function y(i,u){var f=u;return T(u)?f="["+u+"]":i&&(f="."+u),i+f}function t(i,u,f,c){var A,m=D(f),a=!0,b=f,p=c.replace("-1",0),s=!m&&C(f,p),v=u[0];for(A=0;A<i.length;A++)p=c.replace("-1",A),m&&(s=C(b=f[A%f.length],p)),s&&(a=!1),r(i,A,v,s)&&h(i[A],u,c.replace("-1",A))(b);return a}function r(i,u,f,c){if(void 0===i[u]){if(c)return!1;i[u]="number"==typeof f?[]:{}}return!0}},64213:function(te){"use strict";te.exports=function(){}},75046:function(te,Y,e){"use strict";var T=e(39898),D=e(92770),o=[];te.exports=function(P,C){if(-1===o.indexOf(P)){o.push(P);var h=1e3;D(C)?h=C:"long"===C&&(h=3e3);var y=T.select("body").selectAll(".plotly-notifier").data([0]);y.enter().append("div").classed("plotly-notifier",!0),y.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(l){var i=T.select(this);i.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){i.transition().call(r)});for(var u=i.append("p"),f=l.split(/<br\s*\/?>/g),c=0;c<f.length;c++)c&&u.append("br"),u.append("span").text(f[c]);"stick"===C?i.transition().duration(350).style("opacity",1):i.transition().duration(700).style("opacity",1).transition().delay(h).call(r)})}function r(l){l.duration(700).style("opacity",0).each("end",function(i){var u=o.indexOf(i);-1!==u&&o.splice(u,1),T.select(this).remove()})}}},39918:function(te,Y,e){"use strict";var T=e(6964),D="data-savedcursor";te.exports=function(C,h){var y=C.attr(D);if(h){if(!y){for(var t=(C.attr("class")||"").split(" "),r=0;r<t.length;r++){var l=t[r];0===l.indexOf("cursor-")&&C.attr(D,l.substr(7)).classed(l,!1)}C.attr(D)||C.attr(D,"!!")}T(C,h)}else y&&(C.attr(D,null),"!!"===y?T(C):T(C,y))}},61082:function(te,Y,e){"use strict";var T=e(35657).dot,D=e(50606).BADNUM,o=te.exports={};o.tester=function(C){var i,h=C.slice(),y=h[0][0],t=y,r=h[0][1],l=r;for((h[h.length-1][0]!==h[0][0]||h[h.length-1][1]!==h[0][1])&&h.push(h[0]),i=1;i<h.length;i++)y=Math.min(y,h[i][0]),t=Math.max(t,h[i][0]),r=Math.min(r,h[i][1]),l=Math.max(l,h[i][1]);var f,u=!1;5===h.length&&(h[0][0]===h[1][0]?h[2][0]===h[3][0]&&h[0][1]===h[3][1]&&h[1][1]===h[2][1]&&(u=!0,f=function(p){return p[0]===h[0][0]}):h[0][1]===h[1][1]&&h[2][1]===h[3][1]&&h[0][0]===h[3][0]&&h[1][0]===h[2][0]&&(u=!0,f=function(p){return p[1]===h[0][1]}));var a=!0,b=h[0];for(i=1;i<h.length;i++)if(b[0]!==h[i][0]||b[1]!==h[i][1]){a=!1;break}return{xmin:y,xmax:t,ymin:r,ymax:l,pts:h,contains:u?function c(p,s){var v=p[0],A=p[1];return!(v===D||v<y||v>t||A===D||A<r||A>l||s&&f(p))}:function m(p,s){var v=p[0],A=p[1];if(v===D||v<y||v>t||A===D||A<r||A>l)return!1;var w,n,S,d,I,x=h.length,E=h[0][0],g=h[0][1],M=0;for(w=1;w<x;w++)if(n=E,S=g,E=h[w][0],g=h[w][1],!(v<(d=Math.min(n,E))||v>Math.max(n,E)||A>Math.max(S,g)))if(A<Math.min(S,g))v!==d&&M++;else{if(A===(I=E===n?A:S+(v-n)*(g-S)/(E-n)))return!(1===w&&s);A<=I&&v!==d&&M++}return M%2==1},isRect:u,degenerate:a}},o.isSegmentBent=function(C,h,y,t){var c,m,a,r=C[h],l=[C[y][0]-r[0],C[y][1]-r[1]],i=T(l,l),u=Math.sqrt(i),f=[-l[1]/u,l[0]/u];for(c=h+1;c<y;c++)if((a=T(m=[C[c][0]-r[0],C[c][1]-r[1]],l))<0||a>i||Math.abs(T(m,f))>t)return!0;return!1},o.filter=function(C,h){var y=[C[0]],t=0,r=0;function l(u){C.push(u);var f=y.length,c=t;y.splice(r+1);for(var m=c+1;m<C.length;m++)(m===C.length-1||o.isSegmentBent(C,c,m+1,h))&&(y.push(C[m]),y.length<f-2&&(t=m,r=y.length-1),c=m)}return C.length>1&&l(C.pop()),{addPt:l,raw:C,filtered:y}}},79749:function(te,Y,e){"use strict";var T=e(58617),D=e(98580);te.exports=function(P,C,h){var y=P._fullLayout,t=!0;return y._glcanvas.each(function(r){if(r.regl)r.regl.preloadCachedCode(h);else if(!r.pick||y._has("parcoords")){try{r.regl=D({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:P._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:C||[],cachedCode:h||{}})}catch{t=!1}r.regl||(t=!1),t&&this.addEventListener("webglcontextlost",function(l){P&&P.emit&&P.emit("plotly_webglcontextlost",{event:l,layer:r.key})},!1)}}),t||T({container:y._glcontainer.node()}),t}},45142:function(te,Y,e){"use strict";var T=e(92770),D=e(35791);te.exports=function(C){var h;if("string"!=typeof(h=C&&C.hasOwnProperty("userAgent")?C.userAgent:function o(){var P;return typeof navigator<"u"&&(P=navigator.userAgent),P&&P.headers&&"string"==typeof P.headers["user-agent"]&&(P=P.headers["user-agent"]),P}()))return!0;var y=D({ua:{headers:{"user-agent":h}},tablet:!0,featureDetect:!1});if(!y)for(var t=h.split(" "),r=1;r<t.length;r++)if(-1!==t[r].indexOf("Safari"))for(var i=r-1;i>-1;i--){var u=t[i];if("Version/"===u.substr(0,8)){var f=u.substr(8).split(".")[0];if(T(f)&&(f=+f),f>=13)return!0}}return y}},75138:function(te){"use strict";te.exports=function(e,T){if(T instanceof RegExp){for(var D=T.toString(),o=0;o<e.length;o++)if(e[o]instanceof RegExp&&e[o].toString()===D)return e;e.push(T)}else(T||0===T)&&-1===e.indexOf(T)&&e.push(T);return e}},10847:function(te,Y,e){"use strict";var T=e(71828),D=e(72075).dfltConfig,P={add:function(C,h,y,t,r){var l,i;C.undoQueue=C.undoQueue||{index:0,queue:[],sequence:!1},i=C.undoQueue.index,C.autoplay?C.undoQueue.inSequence||(C.autoplay=!1):(!C.undoQueue.sequence||C.undoQueue.beginSequence?(C.undoQueue.queue.splice(i,C.undoQueue.queue.length-i,l={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),C.undoQueue.index+=1):l=C.undoQueue.queue[i-1],C.undoQueue.beginSequence=!1,l&&(l.undo.calls.unshift(h),l.undo.args.unshift(y),l.redo.calls.push(t),l.redo.args.push(r)),C.undoQueue.queue.length>D.queueLength&&(C.undoQueue.queue.shift(),C.undoQueue.index--))},startSequence:function(C){C.undoQueue=C.undoQueue||{index:0,queue:[],sequence:!1},C.undoQueue.sequence=!0,C.undoQueue.beginSequence=!0},stopSequence:function(C){C.undoQueue=C.undoQueue||{index:0,queue:[],sequence:!1},C.undoQueue.sequence=!1,C.undoQueue.beginSequence=!1},undo:function(h){var y,t;if(!(void 0===h.undoQueue||isNaN(h.undoQueue.index)||h.undoQueue.index<=0)){for(h.undoQueue.index--,y=h.undoQueue.queue[h.undoQueue.index],h.undoQueue.inSequence=!0,t=0;t<y.undo.calls.length;t++)P.plotDo(h,y.undo.calls[t],y.undo.args[t]);h.undoQueue.inSequence=!1,h.autoplay=!1}},redo:function(h){var y,t;if(!(void 0===h.undoQueue||isNaN(h.undoQueue.index)||h.undoQueue.index>=h.undoQueue.queue.length)){for(y=h.undoQueue.queue[h.undoQueue.index],h.undoQueue.inSequence=!0,t=0;t<y.redo.calls.length;t++)P.plotDo(h,y.redo.calls[t],y.redo.args[t]);h.undoQueue.inSequence=!1,h.autoplay=!1,h.undoQueue.index++}},plotDo:function(C,h,y){C.autoplay=!0,y=function o(C,h){for(var t,y=[],r=0;r<h.length;r++)y[r]=(t=h[r])===C?t:"object"==typeof t?Array.isArray(t)?T.extendDeep([],t):T.extendDeepAll({},t):t;return y}(C,y),h.apply(null,y)}};te.exports=P},30587:function(te,Y){"use strict";Y.counter=function(e,T,D,o){var P=(T||"")+(D?"":"$"),C=!1===o?"":"^";return"xy"===e?new RegExp(C+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+P):new RegExp(C+e+"([2-9]|[1-9][0-9]+)?"+P)}},6962:function(te){"use strict";var Y=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;te.exports=function(T,D){for(;D;){var o=T.match(Y);if(o)T=o[1];else{if(!T.match(e))throw new Error("bad relativeAttr call:"+[T,D]);T=""}if("^"!==D.charAt(0))break;D=D.slice(1)}return T&&"["!==D.charAt(0)?T+"."+D:T+D}},51332:function(te,Y,e){"use strict";var T=e(73627).isArrayOrTypedArray,D=e(41965);te.exports=function o(P,C){for(var h in C){var y=C[h],t=P[h];if(t!==y)if("_"===h.charAt(0)||"function"==typeof y){if(h in P)continue;P[h]=y}else if(T(y)&&T(t)&&D(y[0])){if("customdata"===h||"ids"===h)continue;for(var r=Math.min(y.length,t.length),l=0;l<r;l++)t[l]!==y[l]&&D(y[l])&&D(t[l])&&o(t[l],y[l])}else D(y)&&D(t)&&(o(t,y),Object.keys(t).length||delete P[h])}}},65888:function(te,Y,e){"use strict";var T=e(92770),D=e(47769),o=e(23389),P=e(50606).BADNUM,C=1e-9;function h(l,i){return l<i}function y(l,i){return l<=i}function t(l,i){return l>i}function r(l,i){return l>=i}Y.findBin=function(l,i,u){if(T(i.start))return u?Math.ceil((l-i.start)/i.size-C)-1:Math.floor((l-i.start)/i.size+C);var b,p,f=0,c=i.length,m=0,a=c>1?(i[c-1]-i[0])/(c-1):1;for(p=a>=0?u?h:y:u?r:t,l+=a*C*(u?-1:1)*(a>=0?1:-1);f<c&&m++<100;)p(i[b=Math.floor((f+c)/2)],l)?f=b+1:c=b;return m>90&&D.log("Long binary search..."),f-1},Y.sorterAsc=function(l,i){return l-i},Y.sorterDes=function(l,i){return i-l},Y.distinctVals=function(l){var u,i=l.slice();for(i.sort(Y.sorterAsc),u=i.length-1;u>-1&&i[u]===P;u--);for(var a,f=i[u]-i[0]||1,c=f/(u||1)/1e4,m=[],b=0;b<=u;b++){var p=i[b],s=p-a;void 0===a?(m.push(p),a=p):s>c&&(f=Math.min(f,s),m.push(p),a=p)}return{vals:m,minDiff:f}},Y.roundUp=function(l,i,u){for(var m,f=0,c=i.length-1,a=0,b=u?0:1,p=u?1:0,s=u?Math.ceil:Math.floor;f<c&&a++<100;)i[m=s((f+c)/2)]<=l?f=m+b:c=m-p;return i[f]},Y.sort=function(l,i){for(var u=0,f=0,c=1;c<l.length;c++){var m=i(l[c],l[c-1]);if(m<0?u=1:m>0&&(f=1),u&&f)return l.sort(i)}return f?l:l.reverse()},Y.findIndexOfMin=function(l,i){i=i||o;for(var f,u=1/0,c=0;c<l.length;c++){var m=i(l[c]);m<u&&(u=m,f=c)}return f}},6964:function(te){"use strict";te.exports=function(e,T){(e.attr("class")||"").split(" ").forEach(function(D){0===D.indexOf("cursor-")&&e.classed(D,!1)}),T&&e.classed("cursor-"+T,!0)}},58617:function(te,Y,e){"use strict";var T=e(7901),D=function(){};te.exports=function(P){for(var C in P)"function"==typeof P[C]&&(P[C]=D);P.destroy=function(){P.container.parentNode.removeChild(P.container)};var h=document.createElement("div");h.className="no-webgl",h.style.cursor="pointer",h.style.fontSize="24px",h.style.color=T.defaults[0],h.style.position="absolute",h.style.left=h.style.top="0px",h.style.width=h.style.height="100%",h.style["background-color"]=T.lightLine,h.style["z-index"]=30;var y=document.createElement("p");return y.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",y.style.position="relative",y.style.top="50%",y.style.left="50%",y.style.height="30%",y.style.width="50%",y.style.margin="-15% 0 0 -25%",h.appendChild(y),P.container.appendChild(h),P.container.style.background="#FFFFFF",P.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(te){"use strict";te.exports=function(e){return Object.keys(e).sort()}},80038:function(te,Y,e){"use strict";var T=e(92770),D=e(73627).isArrayOrTypedArray;Y.aggNums=function(o,P,C,h){var y,t;if((!h||h>C.length)&&(h=C.length),T(P)||(P=!1),D(C[0])){for(t=new Array(h),y=0;y<h;y++)t[y]=Y.aggNums(o,P,C[y]);C=t}for(y=0;y<h;y++)T(P)?T(C[y])&&(P=o(+P,+C[y])):P=C[y];return P},Y.len=function(o){return Y.aggNums(function(P){return P+1},0,o)},Y.mean=function(o,P){return P||(P=Y.len(o)),Y.aggNums(function(C,h){return C+h},0,o)/P},Y.midRange=function(o){if(void 0!==o&&0!==o.length)return(Y.aggNums(Math.max,null,o)+Y.aggNums(Math.min,null,o))/2},Y.variance=function(o,P,C){return P||(P=Y.len(o)),T(C)||(C=Y.mean(o,P)),Y.aggNums(function(h,y){return h+Math.pow(y-C,2)},0,o)/P},Y.stdev=function(o,P,C){return Math.sqrt(Y.variance(o,P,C))},Y.median=function(o){var P=o.slice().sort();return Y.interp(P,.5)},Y.interp=function(o,P){if(!T(P))throw"n should be a finite number";if((P=P*o.length-.5)<0)return o[0];if(P>o.length-1)return o[o.length-1];var C=P%1;return C*o[Math.ceil(P)]+(1-C)*o[Math.floor(P)]}},78614:function(te,Y,e){"use strict";var T=e(25075);te.exports=function D(o){return o?T(o):[0,0,0,1]}},3883:function(te,Y,e){"use strict";var T=e(32396),D=e(91424),o=e(71828),P=null;te.exports=function C(){if(null!==P)return P;P=!1;var h=o.isIE()||o.isSafari()||o.isIOS();if(window.navigator.userAgent&&!h){var y=Array.from(T.CSS_DECLARATIONS).reverse(),t=window.CSS&&window.CSS.supports||window.supportsCSS;if("function"==typeof t)P=y.some(function(u){return t.apply(null,u)});else{var r=D.tester.append("image").attr("style",T.STYLE),i=window.getComputedStyle(r.node()).imageRendering;P=y.some(function(u){var f=u[1];return i===f||i===f.toLowerCase()}),r.remove()}}return P}},63893:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=D.strTranslate,P=e(77922),C=e(18783).LINE_SPACING,h=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;Y.convertToTspans=function(O,F,N){var H=O.text(),X=!O.attr("data-notex")&&F&&F._context.typesetMath&&typeof MathJax<"u"&&H.match(h),ne=T.select(O.node().parentNode);if(!ne.empty()){var ie=O.attr("class")?O.attr("class").split(" ")[0]:"text";return ne.selectAll("svg."+(ie+="-math")).remove(),ne.selectAll("g."+ie+"-group").remove(),O.style("display",null).attr({"data-unformatted":H,"data-math":"N"}),X?(F&&F._promises||[]).push(new Promise(function(J){O.style("display","none");var j=parseInt(O.node().style.fontSize,10);!function i(O,F,N){var H=parseInt((MathJax.version||"").split(".")[0]);if(2===H||3===H){var X,ne,ie,ue,K=function(){var se="math-output-"+D.randstr({},64);ue=T.select("body").append("div").attr({id:se}).style({visibility:"hidden",position:"absolute","font-size":F.fontSize+"px"}).text(function r(O){return O.replace(y,"\\lt ").replace(t,"\\gt ")}(O));var de=ue.node();return 2===H?MathJax.Hub.Typeset(de):MathJax.typeset([de])},ae=function(){var se=ue.select(2===H?".MathJax_SVG":".MathJax"),de=!se.empty()&&ue.select("svg").node();if(de){var ye,we=de.getBoundingClientRect();ye=2===H?T.select("body").select("#MathJax_SVG_glyphs"):se.select("defs"),N(se,ye,we)}else D.log("There was an error in the tex syntax.",O),N();ue.remove()};2===H?MathJax.Hub.Queue(function(){return ne=D.extendDeepAll({},MathJax.Hub.config),ie=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:l},displayAlign:"left"})},function(){if("SVG"!==(X=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},K,ae,function(){if("SVG"!==X)return MathJax.Hub.setRenderer(X)},function(){return void 0!==ie&&(MathJax.Hub.processSectionDelay=ie),MathJax.Hub.Config(ne)}):3===H&&(ne=D.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=l,"svg"!==(X=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){K(),ae(),"svg"!==X&&(MathJax.config.startup.output=X),MathJax.config=ne}))}else D.warn("No MathJax version:",MathJax.version)}(X[2],{fontSize:j},function(V,K,ae){ne.selectAll("svg."+ie).remove(),ne.selectAll("g."+ie+"-group").remove();var Q=V&&V.select("svg");if(!Q||!Q.node())return ue(),void J();var Z=ne.append("g").classed(ie+"-group",!0).attr({"pointer-events":"none","data-unformatted":H,"data-math":"Y"});Z.node().appendChild(Q.node()),K&&K.node()&&Q.node().insertBefore(K.node().cloneNode(!0),Q.node().firstChild);var re=ae.width,q=ae.height;Q.attr({class:ie,height:q,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var se=O.node().style.fill||"black",de=Q.select("g");de.attr({fill:se,stroke:se});var we=de.node().getBoundingClientRect(),ye=we.width,Pe=we.height;(ye>re||Pe>q)&&(Q.style("overflow","hidden"),ye=(we=Q.node().getBoundingClientRect()).width,Pe=we.height);var Ie=+O.attr("x"),Se=+O.attr("y"),Me=-(j||O.node().getBoundingClientRect().height)/4;if("y"===ie[0])Z.attr({transform:"rotate("+[-90,Ie,Se]+")"+o(-ye/2,Me-Pe/2)});else if("l"===ie[0])Se=Me-Pe/2;else if("a"===ie[0]&&0!==ie.indexOf("atitle"))Ie=0,Se=Me;else{var Ge=O.attr("text-anchor");Ie-=ye*("middle"===Ge?.5:"end"===Ge?1:0),Se=Se+Me-Pe/2}Q.attr({x:Ie,y:Se}),N&&N.call(O,Z),J(Z)})})):ue(),O}function ue(){ne.empty()||(ie=O.attr("class")+"-math",ne.select("svg."+ie).remove()),O.text("").style("white-space","pre");var J=function L(O,F){F=F.replace(b," ");var X,N=!1,H=[],ne=-1;function ie(){ne++;var Pe=document.createElementNS(P.svg,"tspan");T.select(Pe).attr({class:"line",dy:ne*C+"em"}),O.appendChild(Pe),X=Pe;var Ie=H;if(H=[{node:Pe}],Ie.length>1)for(var Se=1;Se<Ie.length;Se++)ue(Ie[Se])}function ue(Pe){var xe,Ie=Pe.type,Se={};if("a"===Ie){xe="a";var Me=Pe.target,Ge=Pe.href,Ye=Pe.popup;Ge&&(Se={"xlink:xlink:show":"_blank"===Me||"_"!==Me.charAt(0)?"new":"replace",target:Me,"xlink:xlink:href":Ge},Ye&&(Se.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ye+'");return false;'))}else xe="tspan";Pe.style&&(Se.style=Pe.style);var De=document.createElementNS(P.svg,xe);if("sup"===Ie||"sub"===Ie){J(X,m),X.appendChild(De);var He=document.createElementNS(P.svg,"tspan");J(He,m),T.select(He).attr("dy",c[Ie]),Se.dy=f[Ie],X.appendChild(De),X.appendChild(He)}else X.appendChild(De);T.select(De).attr(Se),X=Pe.node=De,H.push(Pe)}function J(Pe,Ie){Pe.appendChild(document.createTextNode(Ie))}function j(Pe){if(1!==H.length){var Ie=H.pop();Pe!==Ie.type&&D.log("Start tag <"+Ie.type+"> doesnt match end tag <"+Pe+">. Pretending it did match.",F),X=H[H.length-1].node}else D.log("Ignoring unexpected end tag </"+Pe+">.",F)}v.test(F)?ie():(X=O,H=[{node:O}]);for(var V=F.split(p),K=0;K<V.length;K++){var ae=V[K],Q=ae.match(s),Z=Q&&Q[2].toLowerCase(),re=u[Z];if("br"===Z)ie();else if(void 0===re)J(X,d(ae));else if(Q[1])j(Z);else{var q=Q[4],se={type:Z},de=M(q,A);if(de?(de=de.replace(w,"$1 fill:"),re&&(de+=";"+re)):re&&(de=re),de&&(se.style=de),"a"===Z){N=!0;var we=M(q,x);if(we){var ye=B(we);ye&&(se.href=ye,se.target=M(q,E)||"_blank",se.popup=M(q,g))}}ue(se)}}return N}(O.node(),H);J&&O.style("pointer-events","all"),Y.positionText(O),N&&N.call(O)}};var y=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g,l=[["$","$"],["\\(","\\)"]],u={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},c={sub:"-0.21em",sup:"0.42em"},m="\u200b",a=["http:","https:","mailto:","",void 0,":"],b=Y.NEWLINES=/(\r\n?|\n)/g,p=/(<[^<>]*>)/,s=/<(\/?)([^ >]*)(\s+(.*))?>/i,v=/<br(\s+.*)?>/i;Y.BR_TAG_ALL=/<br(\s+.*)?>/gi;var A=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,x=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,E=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,g=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function M(O,F){if(!O)return null;var N=O.match(F),H=N&&(N[3]||N[4]);return H&&d(H)}var w=/(^|;)\s*color:/;Y.plainText=function(O,F){for(var N=void 0!==(F=F||{}).len&&-1!==F.len?F.len:1/0,H=void 0!==F.allowedTags?F.allowedTags:["br"],ie=O.split(p),ue=[],J="",j=0,W=0;W<ie.length;W++){var V=ie[W],K=V.match(s),ae=K&&K[2].toLowerCase();if(ae)-1!==H.indexOf(ae)&&(ue.push(V),J=ae);else{var Q=V.length;if(j+Q<N)ue.push(V),j+=Q;else if(j<N){var Z=N-j;J&&("br"!==J||Z<=3||Q<=3)&&ue.pop(),ue.push(N>3?V.substr(0,Z-3)+"...":V.substr(0,Z));break}J=""}}return ue.join("")};var n={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},S=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function d(O){return O.replace(S,function(F,N){var H;return H="#"===N.charAt(0)?function I(O){if(!(O>1114111)){var F=String.fromCodePoint;if(F)return F(O);var N=String.fromCharCode;return O<=65535?N(O):N(55232+(O>>10),O%1024+56320)}}("x"===N.charAt(1)?parseInt(N.substr(2),16):parseInt(N.substr(1),10)):n[N],H||F})}function B(O){var F=encodeURI(decodeURI(O)),N=document.createElement("a"),H=document.createElement("a");N.href=O,H.href=F;var ne=H.protocol;return-1!==a.indexOf(N.protocol)&&-1!==a.indexOf(ne)?F:""}function k(O,F,N){var ue,J,j,H=N.horizontalAlign,X=N.verticalAlign||"top",ne=O.node().getBoundingClientRect(),ie=F.node().getBoundingClientRect();return J="bottom"===X?function(){return ne.bottom-ue.height}:"middle"===X?function(){return ne.top+(ne.height-ue.height)/2}:function(){return ne.top},j="right"===H?function(){return ne.right-ue.width}:"center"===H?function(){return ne.left+(ne.width-ue.width)/2}:function(){return ne.left},function(){ue=this.node().getBoundingClientRect();var W=j()-ie.left,V=J()-ie.top,K=N.gd||{};if(N.gd){K._fullLayout._calcInverseTransform(K);var ae=D.apply3DTransform(K._fullLayout._invTransform)(W,V);W=ae[0],V=ae[1]}return this.style({top:V+"px",left:W+"px","z-index":1e3}),this}}Y.convertEntities=d,Y.sanitizeHTML=function(F){F=F.replace(b," ");for(var N=document.createElement("p"),H=N,X=[],ne=F.split(p),ie=0;ie<ne.length;ie++){var ue=ne[ie],J=ue.match(s),j=J&&J[2].toLowerCase();if(j in u)if(J[1])X.length&&(H=X.pop());else{var W=J[4],V=M(W,A),K=V?{style:V}:{};if("a"===j){var ae=M(W,x);if(ae){var Q=B(ae);if(Q){K.href=Q;var Z=M(W,E);Z&&(K.target=Z)}}}var re=document.createElement(j);H.appendChild(re),T.select(re).attr(K),H=re,X.push(re)}else H.appendChild(document.createTextNode(d(ue)))}return N.innerHTML},Y.lineCount=function(F){return F.selectAll("tspan.line").size()||1},Y.positionText=function(F,N,H){return F.each(function(){var X=T.select(this);function ne(J,j){return void 0===j?null===(j=X.attr(J))&&(X.attr(J,0),j=0):X.attr(J,j),j}var ie=ne("x",N),ue=ne("y",H);"text"===this.nodeName&&X.selectAll("tspan.line").attr({x:ie,y:ue})})};var z="1px ";Y.makeTextShadow=function(O){return z+z+z+O+", -"+z+"-"+z+z+O+", "+z+"-"+z+z+O+", -"+z+z+z+O},Y.makeEditable=function(O,F){var N=F.gd,H=F.delegate,X=T.dispatch("edit","input","cancel"),ne=H||O;if(O.style({"pointer-events":H?"none":"all"}),1!==O.size())throw new Error("boo");function ie(){(function J(){var W=T.select(N).select(".svg-container"),V=W.append("div"),K=O.node().style,ae=parseFloat(K.fontSize||12),Q=F.text;void 0===Q&&(Q=O.attr("data-unformatted")),V.classed("plugin-editable editable",!0).style({position:"absolute","font-family":K.fontFamily||"Arial","font-size":ae,color:F.fill||K.fill||"black",opacity:1,"background-color":F.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ae/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Q).call(k(O,W,F)).on("blur",function(){N._editing=!1,O.text(this.textContent).style({opacity:1});var re,Z=T.select(this).attr("class");(re=Z?"."+Z.split(" ")[0]+"-math-group":"[class*=-math-group]")&&T.select(O.node().parentNode).select(re).style({opacity:0});var q=this.textContent;T.select(this).transition().duration(0).remove(),T.select(document).on("mouseup",null),X.edit.call(O,q)}).on("focus",function(){var Z=this;N._editing=!0,T.select(document).on("mouseup",function(){if(T.event.target===Z)return!1;document.activeElement===V.node()&&V.node().blur()})}).on("keyup",function(){27===T.event.which?(N._editing=!1,O.style({opacity:1}),T.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),X.cancel.call(O,this.textContent)):(X.input.call(O,this.textContent),T.select(this).call(k(O,W,F)))}).on("keydown",function(){13===T.event.which&&this.blur()}).call(ue)})(),O.style({opacity:0});var W,j=ne.attr("class");(W=j?"."+j.split(" ")[0]+"-math-group":"[class*=-math-group]")&&T.select(O.node().parentNode).select(W).style({opacity:0})}function ue(j){var W=j.node(),V=document.createRange();V.selectNodeContents(W);var K=window.getSelection();K.removeAllRanges(),K.addRange(V),W.focus()}return F.immediate?ie():ne.on("click",ie),T.rebind(O,X,"on")}},79990:function(te,Y){"use strict";var e={};function T(D){D&&null!==D.timer&&(clearTimeout(D.timer),D.timer=null)}Y.throttle=function(o,P,C){var h=e[o],y=Date.now();if(!h){for(var t in e)e[t].ts<y-6e4&&delete e[t];h=e[o]={ts:0,timer:null}}function r(){C(),h.ts=Date.now(),h.onDone&&(h.onDone(),h.onDone=null)}T(h),y>h.ts+P?r():h.timer=setTimeout(function(){r(),h.timer=null},P)},Y.done=function(D){var o=e[D];return o&&o.timer?new Promise(function(P){var C=o.onDone;o.onDone=function(){C&&C(),P(),o.onDone=null}}):Promise.resolve()},Y.clear=function(D){if(D)T(e[D]),delete e[D];else for(var o in e)Y.clear(o)}},58163:function(te,Y,e){"use strict";var T=e(92770);te.exports=function(o,P){if(o>0)return Math.log(o)/Math.LN10;var C=Math.log(Math.min(P[0],P[1]))/Math.LN10;return T(C)||(C=Math.log(Math.max(P[0],P[1]))/Math.LN10-6),C}},90973:function(te,Y,e){"use strict";var T=te.exports={},D=e(78776).locationmodeToLayer,o=e(96892).zL;T.getTopojsonName=function(P){return[P.scope.replace(/ /g,"-"),"_",P.resolution.toString(),"m"].join("")},T.getTopojsonPath=function(P,C){return P+C+".json"},T.getTopojsonFeatures=function(P,C){return o(C,C.objects[D[P.locationmode]]).features}},37815:function(te){"use strict";te.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(te){"use strict";te.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(te,Y,e){"use strict";var T=e(73972);te.exports=function(o){for(var y,t,P=T.layoutArrayContainers,C=T.layoutArrayRegexes,h=o.split("[")[0],r=0;r<C.length;r++)if((t=o.match(C[r]))&&0===t.index){y=t[0];break}if(y||(y=P[P.indexOf(h)]),!y)return!1;var l=o.substr(y.length);return l?!!(t=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:y,index:Number(t[1]),property:t[3]||""}:{array:y,index:"",property:""}}},30962:function(te,Y,e){"use strict";var T=e(1426).extendFlat,D=e(41965),o={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},P={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},C=o.flags.slice().concat(["fullReplot"]),h=P.flags.slice().concat("layoutReplot");function y(l){for(var i={},u=0;u<l.length;u++)i[l[u]]=!1;return i}function t(l,i,u){var f=T({},l);for(var c in f){var m=f[c];D(m)&&(f[c]=r(m,i,0,c))}return"from-root"===u&&(f.editType=i),f}function r(l,i,u,f){if(l.valType){var c=T({},l);if(c.editType=i,Array.isArray(l.items)){c.items=new Array(l.items.length);for(var m=0;m<l.items.length;m++)c.items[m]=r(l.items[m],i)}return c}return t(l,i,"_"===f.charAt(0)?"nested":"from-root")}te.exports={traces:o,layout:P,traceFlags:function(){return y(C)},layoutFlags:function(){return y(h)},update:function(l,i){var u=i.editType;if(u&&"none"!==u)for(var f=u.split("+"),c=0;c<f.length;c++)l[f[c]]=!0},overrideAll:t}},58377:function(te,Y,e){"use strict";var T=e(92770),D=e(27812),o=e(73972),P=e(71828),C=e(74875),h=e(41675),y=e(7901),t=h.cleanId,r=h.getFromTrace,l=o.traceIs;function i(v,A){var x=v[A],E=A.charAt(0);x&&"paper"!==x&&(v[A]=t(x,E,!0))}function u(v){function A(x,E){v[x]&&(!v.title||!v.title[E])&&(v.title||(v.title={}),v.title[E]=v[x],delete v[x])}v&&(("string"==typeof v.title||"number"==typeof v.title)&&(v.title={text:v.title}),A("titlefont","font"),A("titleposition","position"),A("titleside","side"),A("titleoffset","offset"))}function f(v){if(!P.isPlainObject(v))return!1;var A=v.name;return delete v.name,delete v.showlegend,("string"==typeof A||"number"==typeof A)&&String(A)}function c(v,A,x,E){if(x&&!E)return v;if(E&&!x||!v.trim())return A;if(!A.trim())return v;var M,g=Math.min(v.length,A.length);for(M=0;M<g&&v.charAt(M)===A.charAt(M);M++);return v.substr(0,M).trim()}function m(v){var A="middle",x="center";return"string"==typeof v&&(-1!==v.indexOf("top")?A="top":-1!==v.indexOf("bottom")&&(A="bottom"),-1!==v.indexOf("left")?x="left":-1!==v.indexOf("right")&&(x="right")),A+" "+x}function a(v,A){return A in v&&"object"==typeof v[A]&&0===Object.keys(v[A]).length}Y.clearPromiseQueue=function(v){Array.isArray(v._promises)&&v._promises.length>0&&P.log("Clearing previous rejected promises from queue."),v._promises=[]},Y.cleanLayout=function(v){var A,x;v||(v={}),v.xaxis1&&(v.xaxis||(v.xaxis=v.xaxis1),delete v.xaxis1),v.yaxis1&&(v.yaxis||(v.yaxis=v.yaxis1),delete v.yaxis1),v.scene1&&(v.scene||(v.scene=v.scene1),delete v.scene1);var E=(C.subplotsRegistry.cartesian||{}).attrRegex,g=(C.subplotsRegistry.polar||{}).attrRegex,M=(C.subplotsRegistry.ternary||{}).attrRegex,w=(C.subplotsRegistry.gl3d||{}).attrRegex,n=Object.keys(v);for(A=0;A<n.length;A++){var S=n[A];if(E&&E.test(S)){var d=v[S];d.anchor&&"free"!==d.anchor&&(d.anchor=t(d.anchor)),d.overlaying&&(d.overlaying=t(d.overlaying)),d.type||(d.isdate?d.type="date":d.islog?d.type="log":!1===d.isdate&&!1===d.islog&&(d.type="linear")),("withzero"===d.autorange||"tozero"===d.autorange)&&(d.autorange=!0,d.rangemode="tozero"),d.insiderange&&delete d.range,delete d.islog,delete d.isdate,delete d.categories,a(d,"domain")&&delete d.domain,void 0!==d.autotick&&(void 0===d.tickmode&&(d.tickmode=d.autotick?"auto":"linear"),delete d.autotick),u(d)}else if(g&&g.test(S))u(v[S].radialaxis);else if(M&&M.test(S)){var L=v[S];u(L.aaxis),u(L.baxis),u(L.caxis)}else if(w&&w.test(S)){var B=v[S],k=B.cameraposition;if(Array.isArray(k)&&4===k[0].length){var O=k[1],F=k[2],N=D([],k[0]),H=[];for(x=0;x<3;++x)H[x]=O[x]+F*N[2+4*x];B.camera={eye:{x:H[0],y:H[1],z:H[2]},center:{x:O[0],y:O[1],z:O[2]},up:{x:0,y:0,z:1}},delete B.cameraposition}u(B.xaxis),u(B.yaxis),u(B.zaxis)}}var X=Array.isArray(v.annotations)?v.annotations.length:0;for(A=0;A<X;A++){var ne=v.annotations[A];P.isPlainObject(ne)&&(ne.ref&&("paper"===ne.ref?(ne.xref="paper",ne.yref="paper"):"data"===ne.ref&&(ne.xref="x",ne.yref="y"),delete ne.ref),i(ne,"xref"),i(ne,"yref"))}var ie=Array.isArray(v.shapes)?v.shapes.length:0;for(A=0;A<ie;A++){var ue=v.shapes[A];P.isPlainObject(ue)&&(i(ue,"xref"),i(ue,"yref"))}var J=Array.isArray(v.images)?v.images.length:0;for(A=0;A<J;A++){var j=v.images[A];P.isPlainObject(j)&&(i(j,"xref"),i(j,"yref"))}var W=v.legend;return W&&(W.x>3?(W.x=1.02,W.xanchor="left"):W.x<-2&&(W.x=-.02,W.xanchor="right"),W.y>3?(W.y=1.02,W.yanchor="bottom"):W.y<-2&&(W.y=-.02,W.yanchor="top")),u(v),"rotate"===v.dragmode&&(v.dragmode="orbit"),y.clean(v),v.template&&v.template.layout&&Y.cleanLayout(v.template.layout),v},Y.cleanData=function(v){for(var A=0;A<v.length;A++){var E,x=v[A];if("histogramy"===x.type&&"xbins"in x&&!("ybins"in x)&&(x.ybins=x.xbins,delete x.xbins),x.error_y&&"opacity"in x.error_y){var g=y.defaults,M=x.error_y.color||(l(x,"bar")?y.defaultLine:g[A%g.length]);x.error_y.color=y.addOpacity(y.rgb(M),y.opacity(M)*x.error_y.opacity),delete x.error_y.opacity}if("bardir"in x&&("h"===x.bardir&&(l(x,"bar")||"histogram"===x.type.substr(0,9))&&(x.orientation="h",Y.swapXYData(x)),delete x.bardir),"histogramy"===x.type&&Y.swapXYData(x),("histogramx"===x.type||"histogramy"===x.type)&&(x.type="histogram"),"scl"in x&&!("colorscale"in x)&&(x.colorscale=x.scl,delete x.scl),"reversescl"in x&&!("reversescale"in x)&&(x.reversescale=x.reversescl,delete x.reversescl),x.xaxis&&(x.xaxis=t(x.xaxis,"x")),x.yaxis&&(x.yaxis=t(x.yaxis,"y")),l(x,"gl3d")&&x.scene&&(x.scene=C.subplotsRegistry.gl3d.cleanId(x.scene)),!l(x,"pie-like")&&!l(x,"bar-like"))if(Array.isArray(x.textposition))for(E=0;E<x.textposition.length;E++)x.textposition[E]=m(x.textposition[E]);else x.textposition&&(x.textposition=m(x.textposition));var w=o.getModule(x);if(w&&w.colorbar){var n=w.colorbar.container,S=n?x[n]:x;S&&S.colorscale&&("YIGnBu"===S.colorscale&&(S.colorscale="YlGnBu"),"YIOrRd"===S.colorscale&&(S.colorscale="YlOrRd"))}if("surface"===x.type&&P.isPlainObject(x.contours)){var d=["x","y","z"];for(E=0;E<d.length;E++){var I=x.contours[d[E]];P.isPlainObject(I)&&(I.highlightColor&&(I.highlightcolor=I.highlightColor,delete I.highlightColor),I.highlightWidth&&(I.highlightwidth=I.highlightWidth,delete I.highlightWidth))}}if("candlestick"===x.type||"ohlc"===x.type){var L=!1!==(x.increasing||{}).showlegend,B=!1!==(x.decreasing||{}).showlegend,k=f(x.increasing),z=f(x.decreasing);if(!1!==k&&!1!==z){var O=c(k,z,L,B);O&&(x.name=O)}else(k||z)&&!x.name&&(x.name=k||z)}if(Array.isArray(x.transforms)){var F=x.transforms;for(E=0;E<F.length;E++){var N=F[E];if(P.isPlainObject(N))switch(N.type){case"filter":N.filtersrc&&(N.target=N.filtersrc,delete N.filtersrc),N.calendar&&(N.valuecalendar||(N.valuecalendar=N.calendar),delete N.calendar);break;case"groupby":if(N.styles=N.styles||N.style,N.styles&&!Array.isArray(N.styles)){var H=N.styles,X=Object.keys(H);N.styles=[];for(var ne=0;ne<X.length;ne++)N.styles.push({target:X[ne],value:H[X[ne]]})}}}}a(x,"line")&&delete x.line,"marker"in x&&(a(x.marker,"line")&&delete x.marker.line,a(x,"marker")&&delete x.marker),y.clean(x),x.autobinx&&(delete x.autobinx,delete x.xbins),x.autobiny&&(delete x.autobiny,delete x.ybins),u(x),x.colorbar&&u(x.colorbar),x.marker&&x.marker.colorbar&&u(x.marker.colorbar),x.line&&x.line.colorbar&&u(x.line.colorbar),x.aaxis&&u(x.aaxis),x.baxis&&u(x.baxis)}},Y.swapXYData=function(v){var A;if(P.swapAttrs(v,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(v.z)&&Array.isArray(v.z[0])&&(v.transpose?delete v.transpose:v.transpose=!0),v.error_x&&v.error_y){var x=v.error_y,E="copy_ystyle"in x?x.copy_ystyle:!(x.color||x.thickness||x.width);P.swapAttrs(v,["error_?.copy_ystyle"]),E&&P.swapAttrs(v,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof v.hoverinfo){var g=v.hoverinfo.split("+");for(A=0;A<g.length;A++)"x"===g[A]?g[A]="y":"y"===g[A]&&(g[A]="x");v.hoverinfo=g.join("+")}},Y.coerceTraceIndices=function(v,A){if(T(A))return[A];if(!Array.isArray(A)||!A.length)return v.data.map(function(g,M){return M});if(Array.isArray(A)){for(var x=[],E=0;E<A.length;E++)P.isIndex(A[E],v.data.length)?x.push(A[E]):P.warn("trace index (",A[E],") is not a number or is out of bounds");return x}return A},Y.manageArrayContainers=function(v,A,x){var E=v.obj,g=v.parts,M=g.length,w=g[M-1],n=T(w);if(n&&null===A){var S=g.slice(0,M-1).join(".");P.nestedProperty(E,S).get().splice(w,1)}else n&&void 0===v.get()&&void 0===v.get()&&(x[v.astr]=null),v.set(A)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function p(v){var A=v.search(b);if(A>0)return v.substr(0,A)}Y.hasParent=function(v,A){for(var x=p(A);x;){if(x in v)return!0;x=p(x)}return!1};var s=["x","y","z"];Y.clearAxisTypes=function(v,A,x){for(var E=0;E<A.length;E++)for(var g=v._fullData[E],M=0;M<3;M++){var w=r(v,g,s[M]);if(w&&"log"!==w.type){var n=w._name,S=w._id.substr(1);if("scene"===S.substr(0,5)){if(void 0!==x[S])continue;n=S+"."+n}var d=n+".type";void 0===x[n]&&void 0===x[d]&&P.nestedProperty(v.layout,d).set(null)}}}},10641:function(te,Y,e){"use strict";var T=e(72391);Y._doPlot=T._doPlot,Y.newPlot=T.newPlot,Y.restyle=T.restyle,Y.relayout=T.relayout,Y.redraw=T.redraw,Y.update=T.update,Y._guiRestyle=T._guiRestyle,Y._guiRelayout=T._guiRelayout,Y._guiUpdate=T._guiUpdate,Y._storeDirectGUIEdit=T._storeDirectGUIEdit,Y.react=T.react,Y.extendTraces=T.extendTraces,Y.prependTraces=T.prependTraces,Y.addTraces=T.addTraces,Y.deleteTraces=T.deleteTraces,Y.moveTraces=T.moveTraces,Y.purge=T.purge,Y.addFrames=T.addFrames,Y.deleteFrames=T.deleteFrames,Y.animate=T.animate,Y.setPlotConfig=T.setPlotConfig;var D=e(24401).getGraphDiv,o=e(34031).eraseActiveShape;Y.deleteActiveShape=function(C){return o(D(C))},Y.toImage=e(403),Y.validate=e(84936),Y.downloadImage=e(7239);var P=e(96318);Y.makeTemplate=P.makeTemplate,Y.validateTemplate=P.validateTemplate},6611:function(te,Y,e){"use strict";var T=e(41965),D=e(64213),o=e(47769),P=e(65888).sorterAsc,C=e(73972);Y.containerArrayMatch=e(14458);var h=Y.isAddVal=function(r){return"add"===r||T(r)},y=Y.isRemoveVal=function(r){return null===r||"remove"===r};Y.applyContainerArrayChanges=function(r,l,i,u,f){var c=l.astr,m=C.getComponentMethod(c,"supplyLayoutDefaults"),a=C.getComponentMethod(c,"draw"),b=C.getComponentMethod(c,"drawOne"),p=u.replot||u.recalc||m===D||a===D,s=r.layout,v=r._fullLayout;if(i[""]){Object.keys(i).length>1&&o.warn("Full array edits are incompatible with other edits",c);var A=i[""][""];if(y(A))l.set(null);else{if(!Array.isArray(A))return o.warn("Unrecognized full array edit value",c,A),!0;l.set(A)}return!p&&(m(s,v),a(r),!0)}var d,I,L,B,k,z,O,x=Object.keys(i).map(Number).sort(P),E=l.get(),g=E||[],M=f(v,c).get(),w=[],n=-1,S=g.length;for(d=0;d<x.length;d++)if(B=i[L=x[d]],k=Object.keys(B),O=h(z=B[""]),L<0||L>g.length-(O?0:1))o.warn("index out of range",c,L);else if(void 0!==z)k.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",c,L),y(z)?w.push(L):O?("add"===z&&(z={}),g.splice(L,0,z),M&&M.splice(L,0,{})):o.warn("Unrecognized full object edit value",c,L,z),-1===n&&(n=L);else for(I=0;I<k.length;I++)f(g[L],k[I],c+"["+L+"].").set(B[k[I]]);for(d=w.length-1;d>=0;d--)g.splice(w[d],1),M&&M.splice(w[d],1);if(g.length?E||l.set(g):l.set(null),p)return!1;if(m(s,v),b!==D){var N;if(-1===n)N=x;else{for(S=Math.max(g.length,S),N=[],d=0;d<x.length&&!((L=x[d])>=n);d++)N.push(L);for(d=n;d<S;d++)N.push(d)}for(d=0;d<N.length;d++)b(r,N[d])}else a(r);return!0}},72391:function(te,Y,e){"use strict";var T=e(39898),D=e(92770),o=e(57035),P=e(71828),C=P.nestedProperty,h=e(11086),y=e(10847),t=e(73972),r=e(86281),l=e(74875),i=e(89298),u=e(23608),f=e(13838),c=e(91424),m=e(7901),a=e(4305).initInteractions,b=e(77922),p=e(47322).clearOutline,s=e(72075).dfltConfig,v=e(6611),A=e(58377),x=e(61549),E=e(30962),g=e(85555).AX_NAME_PATTERN,M=0;function S(fe){var pe=fe._fullLayout;pe._redrawFromAutoMarginCount?pe._redrawFromAutoMarginCount--:fe.emit("plotly_afterplot")}function I(fe,pe){try{fe._fullLayout._paper.style("background",pe)}catch(Fe){P.error(Fe)}}function L(fe,pe){I(fe,m.combine(pe,"white"))}function B(fe,pe){if(!fe._context){fe._context=P.extendDeep({},s);var Fe=T.select("base");fe._context._baseUrl=Fe.size()&&Fe.attr("href")?window.location.href.split("#")[0]:""}var at,ft,Xt,Xe=fe._context;if(pe){for(ft=Object.keys(pe),at=0;at<ft.length;at++)"editable"!==(Xt=ft[at])&&"edits"!==Xt&&Xt in Xe&&(Xe[Xt]="setBackground"===Xt&&"opaque"===pe[Xt]?L:pe[Xt]);pe.plot3dPixelRatio&&!Xe.plotGlPixelRatio&&(Xe.plotGlPixelRatio=Xe.plot3dPixelRatio);var rr=pe.editable;if(void 0!==rr)for(Xe.editable=rr,ft=Object.keys(Xe.edits),at=0;at<ft.length;at++)Xe.edits[ft[at]]=rr;if(pe.edits)for(ft=Object.keys(pe.edits),at=0;at<ft.length;at++)(Xt=ft[at])in Xe.edits&&(Xe.edits[Xt]=pe.edits[Xt]);Xe._exportedPlot=pe._exportedPlot}Xe.staticPlot&&(Xe.editable=!1,Xe.edits={},Xe.autosizable=!1,Xe.scrollZoom=!1,Xe.doubleClick=!1,Xe.showTips=!1,Xe.showLink=!1,Xe.displayModeBar=!1),"hover"===Xe.displayModeBar&&!o&&(Xe.displayModeBar=!0),("transparent"===Xe.setBackground||"function"!=typeof Xe.setBackground)&&(Xe.setBackground=I),Xe._hasZeroHeight=Xe._hasZeroHeight||0===fe.clientHeight,Xe._hasZeroWidth=Xe._hasZeroWidth||0===fe.clientWidth;var At=Xe.scrollZoom,zt=Xe._scrollZoom={};if(!0===At)zt.cartesian=1,zt.gl3d=1,zt.geo=1,zt.mapbox=1;else if("string"==typeof At){var Qt=At.split("+");for(at=0;at<Qt.length;at++)zt[Qt[at]]=1}else!1!==At&&(zt.gl3d=1,zt.geo=1,zt.mapbox=1)}function O(fe,pe){var at,ft,Fe=pe+1,Xe=[];for(at=0;at<fe.length;at++)Xe.push((ft=fe[at])<0?Fe+ft:ft);return Xe}function F(fe,pe,Fe){var Xe,at;for(Xe=0;Xe<pe.length;Xe++){if((at=pe[Xe])!==parseInt(at,10))throw new Error("all values in "+Fe+" must be integers");if(at>=fe.data.length||at<-fe.data.length)throw new Error(Fe+" must be valid indices for gd.data.");if(pe.indexOf(at,Xe+1)>-1||at>=0&&pe.indexOf(-fe.data.length+at)>-1||at<0&&pe.indexOf(fe.data.length+at)>-1)throw new Error("each index in "+Fe+" must be unique.")}}function N(fe,pe,Fe){if(!Array.isArray(fe.data))throw new Error("gd.data must be an array.");if(typeof pe>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(pe)||(pe=[pe]),F(fe,pe,"currentIndices"),typeof Fe<"u"&&!Array.isArray(Fe)&&(Fe=[Fe]),typeof Fe<"u"&&F(fe,Fe,"newIndices"),typeof Fe<"u"&&pe.length!==Fe.length)throw new Error("current and new indices must be of equal length.")}function ie(fe,pe,Fe,Xe,at){!function X(fe,pe,Fe,Xe){var at=P.isPlainObject(Xe);if(!Array.isArray(fe.data))throw new Error("gd.data must be an array");if(!P.isPlainObject(pe))throw new Error("update must be a key:value object");if(typeof Fe>"u")throw new Error("indices must be an integer or array of integers");for(var ft in F(fe,Fe,"indices"),pe){if(!Array.isArray(pe[ft])||pe[ft].length!==Fe.length)throw new Error("attribute "+ft+" must be an array of length equal to indices array length");if(at&&(!(ft in Xe)||!Array.isArray(Xe[ft])||Xe[ft].length!==pe[ft].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(fe,pe,Fe,Xe);for(var ft=function ne(fe,pe,Fe,Xe){var rr,At,zt,Qt,at=P.isPlainObject(Xe),ft=[];for(var Rr in Array.isArray(Fe)||(Fe=[Fe]),Fe=O(Fe,fe.data.length-1),pe)for(var pt=0;pt<Fe.length;pt++){if(rr=(At=C(fe.data[Fe[pt]],Rr)).get(),!P.isArrayOrTypedArray(zt=pe[Rr][pt]))throw new Error("attribute: "+Rr+" index: "+pt+" must be an array");if(!P.isArrayOrTypedArray(rr))throw new Error("cannot extend missing or non-array attribute: "+Rr);if(rr.constructor!==zt.constructor)throw new Error("cannot extend array with an array of a different type: "+Rr);D(Qt=at?Xe[Rr][pt]:Xe)||(Qt=-1),ft.push({prop:At,target:rr,insert:zt,maxp:Math.floor(Qt)})}return ft}(fe,pe,Fe,Xe),Xt={},rr={},At=0;At<ft.length;At++){var zt=ft[At].prop,Rr=at(ft[At].target,ft[At].insert,ft[At].maxp);zt.set(Rr[0]),Array.isArray(Xt[zt.astr])||(Xt[zt.astr]=[]),Xt[zt.astr].push(Rr[1]),Array.isArray(rr[zt.astr])||(rr[zt.astr]=[]),rr[zt.astr].push(ft[At].target.length)}return{update:Xt,maxPoints:rr}}function ue(fe,pe){var Fe=new fe.constructor(fe.length+pe.length);return Fe.set(fe),Fe.set(pe,fe.length),Fe}function ae(fe,pe,Fe,Xe){fe=P.getGraphDiv(fe),A.clearPromiseQueue(fe);var at={};if("string"==typeof pe)at[pe]=Fe;else{if(!P.isPlainObject(pe))return P.warn("Restyle fail.",pe,Fe,Xe),Promise.reject();at=P.extendFlat({},pe),void 0===Xe&&(Xe=Fe)}Object.keys(at).length&&(fe.changed=!0);var ft=A.coerceTraceIndices(fe,Xe),Xt=se(fe,at,ft),rr=Xt.flags;rr.calc&&(fe.calcdata=void 0),rr.clearAxisTypes&&A.clearAxisTypes(fe,ft,{});var At=[];rr.fullReplot?At.push(Y._doPlot):(At.push(l.previousPromises),l.supplyDefaults(fe),rr.markerSize&&(l.doCalcdata(fe),Pe(At)),rr.style&&At.push(x.doTraceStyle),rr.colorbars&&At.push(x.doColorBars),At.push(S)),At.push(l.rehover,l.redrag,l.reselect),y.add(fe,ae,[fe,Xt.undoit,Xt.traces],ae,[fe,Xt.redoit,Xt.traces]);var zt=P.syncOrAsync(At,fe);return(!zt||!zt.then)&&(zt=Promise.resolve()),zt.then(function(){return fe.emit("plotly_restyle",Xt.eventData),fe})}function Q(fe){return void 0===fe?null:fe}function Z(fe,pe){return pe?function(Fe,Xe,at){var ft=C(Fe,Xe),Xt=ft.set;return ft.set=function(rr){re((at||"")+Xe,ft.get(),rr,fe),Xt(rr)},ft}:C}function re(fe,pe,Fe,Xe){if(Array.isArray(pe)||Array.isArray(Fe))for(var at=Array.isArray(pe)?pe:[],ft=Array.isArray(Fe)?Fe:[],Xt=Math.max(at.length,ft.length),rr=0;rr<Xt;rr++)re(fe+"["+rr+"]",at[rr],ft[rr],Xe);else if(P.isPlainObject(pe)||P.isPlainObject(Fe)){var At=P.isPlainObject(pe)?pe:{},zt=P.isPlainObject(Fe)?Fe:{},Qt=P.extendFlat({},At,zt);for(var Rr in Qt)re(fe+"."+Rr,At[Rr],zt[Rr],Xe)}else void 0===Xe[fe]&&(Xe[fe]=Q(pe))}function se(fe,pe,Fe){var zt,Xe=fe._fullLayout,at=fe._fullData,ft=fe.data,Xt=Xe._guiEditing,rr=Z(Xe._preGUI,Xt),At=P.extendDeepAll({},pe);de(pe);var $t,Qt=E.traceFlags(),Rr={},pt={};function tr(){return Fe.map(function(){})}function Er(mn){var xr=i.id2name(mn);-1===$t.indexOf(xr)&&$t.push(xr)}function pr(mn){return"LAYOUT"+mn+".autorange"}function dt(mn){return"LAYOUT"+mn+".range"}function it(mn){for(var xr=mn;xr<at.length;xr++)if(at[xr]._input===ft[mn])return at[xr]}function mt(mn,xr,Pr){if(Array.isArray(mn))mn.forEach(function(Tn){mt(Tn,xr,Pr)});else if(!(mn in pe)&&!A.hasParent(pe,mn)){var Zr;if("LAYOUT"===mn.substr(0,6))Zr=rr(fe.layout,mn.replace("LAYOUT",""));else{var Hr=Fe[Pr];Zr=Z(Xe._tracePreGUI[it(Hr)._fullInput.uid],Xt)(ft[Hr],mn)}mn in pt||(pt[mn]=tr()),void 0===pt[mn][Pr]&&(pt[mn][Pr]=Q(Zr.get())),void 0!==xr&&Zr.set(xr)}}function St(mn){return function(xr){return at[xr][mn]}}function Lt(mn){return function(xr,Pr){return!1===xr?at[Fe[Pr]][mn]:null}}for(var Ct in pe){if(A.hasParent(pe,Ct))throw new Error("cannot set "+Ct+" and a parent attribute simultaneously");var Bt,qt,cr,lr,br,We,Ut=pe[Ct];if(("autobinx"===Ct||"autobiny"===Ct)&&(Ct=Ct.charAt(Ct.length-1)+"bins",Ut=Array.isArray(Ut)?Ut.map(Lt(Ct)):!1===Ut?Fe.map(St(Ct)):null),Rr[Ct]=Ut,"LAYOUT"!==Ct.substr(0,6)){for(pt[Ct]=tr(),zt=0;zt<Fe.length;zt++)if(Bt=ft[Fe[zt]],qt=it(Fe[zt]),lr=(cr=Z(Xe._tracePreGUI[qt._fullInput.uid],Xt)(Bt,Ct)).get(),void 0!==(br=Array.isArray(Ut)?Ut[zt%Ut.length]:Ut)){var Rt=cr.parts[cr.parts.length-1],_t=Ct.substr(0,Ct.length-Rt.length-1),Kt=_t?_t+".":"",sr=_t?C(qt,_t).get():qt;if((We=r.getTraceValObject(qt,cr.parts))&&We.impliedEdits&&null!==br)for(var hr in We.impliedEdits)mt(P.relativeAttr(Ct,hr),We.impliedEdits[hr],zt);else if("thicknessmode"!==Rt&&"lenmode"!==Rt||lr===br||"fraction"!==br&&"pixels"!==br||!sr){if("type"===Ct&&("pie"===br!=("pie"===lr)||"funnelarea"===br!=("funnelarea"===lr))){var kr="x",tn="y";("bar"===br||"bar"===lr)&&"h"===Bt.orientation&&(kr="y",tn="x"),P.swapAttrs(Bt,["?","?src"],"labels",kr),P.swapAttrs(Bt,["d?","?0"],"label",kr),P.swapAttrs(Bt,["?","?src"],"values",tn),"pie"===lr||"funnelarea"===lr?(C(Bt,"marker.color").set(C(Bt,"marker.colors").get()),Xe._pielayer.selectAll("g.trace").remove()):t.traceIs(Bt,"cartesian")&&C(Bt,"marker.colors").set(C(Bt,"marker.color").get())}}else{var or=Xe._size,Nt=sr.orient,dr="top"===Nt||"bottom"===Nt;if("thicknessmode"===Rt){var Mr=dr?or.h:or.w;mt(Kt+"thickness",sr.thickness*("fraction"===br?1/Mr:Mr),zt)}else{var wr=dr?or.w:or.h;mt(Kt+"len",sr.len*("fraction"===br?1/wr:wr),zt)}}if(pt[Ct][zt]=Q(lr),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ct)){if("orientation"===Ct){cr.set(br);var Kr=Bt.x&&!Bt.y?"h":"v";if((cr.get()||Kr)===qt.orientation)continue}else"orientationaxes"===Ct&&(Bt.orientation={v:"h",h:"v"}[qt.orientation]);A.swapXYData(Bt),Qt.calc=Qt.clearAxisTypes=!0}else-1!==l.dataArrayContainers.indexOf(cr.parts[0])?(A.manageArrayContainers(cr,br,pt),Qt.calc=!0):(We?We.arrayOk&&!t.traceIs(qt,"regl")&&(P.isArrayOrTypedArray(br)||P.isArrayOrTypedArray(lr))?Qt.calc=!0:E.update(Qt,We):Qt.calc=!0,cr.set(br))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Ct)&&i.swap(fe,Fe),"orientationaxes"===Ct){var vn=C(fe.layout,"hovermode"),Xr=vn.get();"x"===Xr?vn.set("y"):"y"===Xr?vn.set("x"):"x unified"===Xr?vn.set("y unified"):"y unified"===Xr&&vn.set("x unified")}if(-1!==["orientation","type"].indexOf(Ct)){for($t=[],zt=0;zt<Fe.length;zt++){var On=ft[Fe[zt]];t.traceIs(On,"cartesian")&&(Er(On.xaxis||"x"),Er(On.yaxis||"y"))}mt($t.map(pr),!0,0),mt($t.map(dt),[0,1],0)}}else cr=rr(fe.layout,Ct.replace("LAYOUT","")),pt[Ct]=[Q(cr.get())],cr.set(Array.isArray(Ut)?Ut[0]:Ut),Qt.calc=!0}return(Qt.calc||Qt.plot)&&(Qt.fullReplot=!0),{flags:Qt,undoit:pt,redoit:Rr,traces:Fe,eventData:P.extendDeepNoArrays([],[At,Fe])}}function de(fe){var at,ft,Xt,pe=P.counterRegex("axis",".title",!1,!1),Fe=/colorbar\.title$/,Xe=Object.keys(fe);for(at=0;at<Xe.length;at++)Xt=fe[ft=Xe[at]],"title"!==ft&&!pe.test(ft)&&!Fe.test(ft)||"string"!=typeof Xt&&"number"!=typeof Xt?ft.indexOf("titlefont")>-1&&-1===ft.indexOf("grouptitlefont")?rr(ft,ft.replace("titlefont","title.font")):ft.indexOf("titleposition")>-1?rr(ft,ft.replace("titleposition","title.position")):ft.indexOf("titleside")>-1?rr(ft,ft.replace("titleside","title.side")):ft.indexOf("titleoffset")>-1&&rr(ft,ft.replace("titleoffset","title.offset")):rr(ft,ft.replace("title","title.text"));function rr(At,zt){fe[zt]=fe[At],delete fe[At]}}function we(fe,pe,Fe){fe=P.getGraphDiv(fe),A.clearPromiseQueue(fe);var Xe={};if("string"==typeof pe)Xe[pe]=Fe;else{if(!P.isPlainObject(pe))return P.warn("Relayout fail.",pe,Fe),Promise.reject();Xe=P.extendFlat({},pe)}Object.keys(Xe).length&&(fe.changed=!0);var at=Me(fe,Xe),ft=at.flags;ft.calc&&(fe.calcdata=void 0);var Xt=[l.previousPromises];ft.layoutReplot?Xt.push(x.layoutReplot):Object.keys(Xe).length&&(ye(fe,ft,at)||l.supplyDefaults(fe),ft.legend&&Xt.push(x.doLegend),ft.layoutstyle&&Xt.push(x.layoutStyles),ft.axrange&&Pe(Xt,at.rangesAltered),ft.ticks&&Xt.push(x.doTicksRelayout),ft.modebar&&Xt.push(x.doModeBar),ft.camera&&Xt.push(x.doCamera),ft.colorbars&&Xt.push(x.doColorBars),Xt.push(S)),Xt.push(l.rehover,l.redrag,l.reselect),y.add(fe,we,[fe,at.undoit],we,[fe,at.redoit]);var rr=P.syncOrAsync(Xt,fe);return(!rr||!rr.then)&&(rr=Promise.resolve(fe)),rr.then(function(){return fe.emit("plotly_relayout",at.eventData),fe})}function ye(fe,pe,Fe){var Xe=fe._fullLayout;if(!pe.axrange)return!1;for(var at in pe)if("axrange"!==at&&pe[at])return!1;var ft,Xt,rr=function($t,tr){return P.coerce(ft,Xt,f,$t,tr)},At={};for(var zt in Fe.rangesAltered){var Qt=i.id2name(zt);if(u(ft=fe.layout[Qt],Xt=Xe[Qt],rr,At),Xt._matchGroup)for(var Rr in Xt._matchGroup)if(Rr!==zt){var pt=Xe[i.id2name(Rr)];pt.autorange=Xt.autorange,pt.range=Xt.range.slice(),pt._input.range=Xt.range.slice()}}return!0}function Pe(fe,pe){fe.push(p,x.doAutoRangeAndConstraints,pe?function(Xe){var at=[];for(var Xt in pe){var rr=i.getFromId(Xe,Xt);if(at.push(Xt),-1!==(rr.ticklabelposition||"").indexOf("inside")&&rr._anchorAxis&&at.push(rr._anchorAxis._id),rr._matchGroup)for(var At in rr._matchGroup)pe[At]||at.push(At)}return i.draw(Xe,at,{skipTitle:!0})}:function(Xe){return i.draw(Xe,"redraw")},x.drawData,x.finalDraw)}var Ie=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Se=/^[xyz]axis[0-9]*\.autorange$/,xe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Me(fe,pe){var Qt,Rr,pt,Fe=fe.layout,Xe=fe._fullLayout,ft=Z(Xe._preGUI,Xe._guiEditing),Xt=Object.keys(pe),rr=i.list(fe),At=P.extendDeepAll({},pe),zt={};for(de(pe),Xt=Object.keys(pe),Rr=0;Rr<Xt.length;Rr++)if(0===Xt[Rr].indexOf("allaxes")){for(pt=0;pt<rr.length;pt++){var $t=rr[pt]._id.substr(1),tr=-1!==$t.indexOf("scene")?$t+".":"",Er=Xt[Rr].replace("allaxes",tr+rr[pt]._name);pe[Er]||(pe[Er]=pe[Xt[Rr]])}delete pe[Xt[Rr]]}var pr=E.layoutFlags(),dt={},it={};function mt(fn,Tn){if(Array.isArray(fn))fn.forEach(function(Pn){mt(Pn,Tn)});else if(!(fn in pe)&&!A.hasParent(pe,fn)){var Mn=ft(Fe,fn);fn in it||(it[fn]=Q(Mn.get())),void 0!==Tn&&Mn.set(Tn)}}var Lt,St={};function Ct(fn){var Tn=i.name2id(fn.split(".")[0]);return St[Tn]=1,Tn}for(var Ut in pe){if(A.hasParent(pe,Ut))throw new Error("cannot set "+Ut+" and a parent attribute simultaneously");for(var Bt=ft(Fe,Ut),qt=pe[Ut],lr=Bt.parts.length-1;lr>0&&"string"!=typeof Bt.parts[lr];)lr--;var br=Bt.parts[lr],We=Bt.parts[lr-1]+"."+br,Ve=Bt.parts.slice(0,lr).join("."),Rt=C(fe.layout,Ve).get(),_t=C(Xe,Ve).get(),Kt=Bt.get();if(void 0!==qt){dt[Ut]=qt,it[Ut]="reverse"===br?qt:Q(Kt);var sr=r.getLayoutValObject(Xe,Bt.parts);if(sr&&sr.impliedEdits&&null!==qt)for(var hr in sr.impliedEdits)mt(P.relativeAttr(Ut,hr),sr.impliedEdits[hr]);if(-1!==["width","height"].indexOf(Ut))if(qt){mt("autosize",null);var or="height"===Ut?"width":"height";mt(or,Xe[or])}else Xe[Ut]=fe._initialAutoSize[Ut];else if("autosize"===Ut)mt("width",qt?null:Xe.width),mt("height",qt?null:Xe.height);else if(We.match(Ie))Ct(We),C(Xe,Ve+"._inputRange").set(null);else if(We.match(Se)){Ct(We),C(Xe,Ve+"._inputRange").set(null);var Nt=C(Xe,Ve).get();Nt._inputDomain&&(Nt._input.domain=Nt._inputDomain.slice())}else We.match(xe)&&C(Xe,Ve+"._inputDomain").set(null);if("type"===br){Lt=Rt;var dr="linear"===_t.type&&"log"===qt;if(dr||"log"===_t.type&&"linear"===qt){if(Lt&&Lt.range)if(_t.autorange)dr&&(Lt.range=Lt.range[1]>Lt.range[0]?[1,2]:[2,1]);else{var wr=Lt.range[0],kr=Lt.range[1];dr?(wr<=0&&kr<=0&&mt(Ve+".autorange",!0),wr<=0?wr=kr/1e6:kr<=0&&(kr=wr/1e6),mt(Ve+".range[0]",Math.log(wr)/Math.LN10),mt(Ve+".range[1]",Math.log(kr)/Math.LN10)):(mt(Ve+".range[0]",Math.pow(10,wr)),mt(Ve+".range[1]",Math.pow(10,kr)))}else mt(Ve+".autorange",!0);Array.isArray(Xe._subplots.polar)&&Xe._subplots.polar.length&&Xe[Bt.parts[0]]&&"radialaxis"===Bt.parts[1]&&delete Xe[Bt.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(fe,_t,qt,mt),t.getComponentMethod("images","convertCoords")(fe,_t,qt,mt)}else mt(Ve+".autorange",!0),mt(Ve+".range",null);C(Xe,Ve+"._inputRange").set(null)}else if(br.match(g)){var tn=C(Xe,Ut).get(),_r=(qt||{}).type;(!_r||"-"===_r)&&(_r="linear"),t.getComponentMethod("annotations","convertCoords")(fe,tn,_r,mt),t.getComponentMethod("images","convertCoords")(fe,tn,_r,mt)}var Kr=v.containerArrayMatch(Ut);if(Kr){Qt=Kr.array;var vn=Kr.property,Xr=sr||{editType:"calc"};""!==(Rr=Kr.index)&&""===vn&&(v.isAddVal(qt)?it[Ut]=null:v.isRemoveVal(qt)?it[Ut]=(C(Fe,Qt).get()||[])[Rr]:P.warn("unrecognized full object value",pe)),E.update(pr,Xr),zt[Qt]||(zt[Qt]={});var On=zt[Qt][Rr];On||(On=zt[Qt][Rr]={}),On[vn]=qt,delete pe[Ut]}else"reverse"===br?(Rt.range?Rt.range.reverse():(mt(Ve+".autorange",!0),Rt.range=[1,0]),_t.autorange?pr.calc=!0:pr.plot=!0):("dragmode"===Ut&&(!1===qt&&!1!==Kt||!1!==qt&&!1===Kt)||Xe._has("scatter-like")&&Xe._has("regl")&&"dragmode"===Ut&&("lasso"===qt||"select"===qt)&&"lasso"!==Kt&&"select"!==Kt||Xe._has("gl2d")?pr.plot=!0:sr?E.update(pr,sr):pr.calc=!0,Bt.set(qt))}}for(Qt in zt)v.applyContainerArrayChanges(fe,ft(Fe,Qt),zt[Qt],pr,ft)||(pr.plot=!0);for(var xr in St){var Pr=(Lt=i.getFromId(fe,xr))&&Lt._constraintGroup;if(Pr)for(var Zr in pr.calc=!0,Pr)St[Zr]||(i.getFromId(fe,Zr)._constraintShrinkable=!0)}(Ge(fe)||pe.height||pe.width)&&(pr.plot=!0);var Hr=Xe.shapes;for(Rr=0;Rr<Hr.length;Rr++)if(Hr[Rr].showlegend){pr.calc=!0;break}return(pr.plot||pr.calc)&&(pr.layoutReplot=!0),{flags:pr,rangesAltered:St,undoit:it,redoit:dt,eventData:At}}function Ge(fe){var pe=fe._fullLayout,Fe=pe.width,Xe=pe.height;return fe.layout.autosize&&l.plotAutoSize(fe,fe.layout,pe),pe.width!==Fe||pe.height!==Xe}function Ye(fe,pe,Fe,Xe){fe=P.getGraphDiv(fe),A.clearPromiseQueue(fe),P.isPlainObject(pe)||(pe={}),P.isPlainObject(Fe)||(Fe={}),Object.keys(pe).length&&(fe.changed=!0),Object.keys(Fe).length&&(fe.changed=!0);var at=A.coerceTraceIndices(fe,Xe),ft=se(fe,P.extendFlat({},pe),at),Xt=ft.flags,rr=Me(fe,P.extendFlat({},Fe)),At=rr.flags;(Xt.calc||At.calc)&&(fe.calcdata=void 0),Xt.clearAxisTypes&&A.clearAxisTypes(fe,at,Fe);var zt=[];At.layoutReplot?zt.push(x.layoutReplot):Xt.fullReplot?zt.push(Y._doPlot):(zt.push(l.previousPromises),ye(fe,At,rr)||l.supplyDefaults(fe),Xt.style&&zt.push(x.doTraceStyle),(Xt.colorbars||At.colorbars)&&zt.push(x.doColorBars),At.legend&&zt.push(x.doLegend),At.layoutstyle&&zt.push(x.layoutStyles),At.axrange&&Pe(zt,rr.rangesAltered),At.ticks&&zt.push(x.doTicksRelayout),At.modebar&&zt.push(x.doModeBar),At.camera&&zt.push(x.doCamera),zt.push(S)),zt.push(l.rehover,l.redrag,l.reselect),y.add(fe,Ye,[fe,ft.undoit,rr.undoit,ft.traces],Ye,[fe,ft.redoit,rr.redoit,ft.traces]);var Qt=P.syncOrAsync(zt,fe);return(!Qt||!Qt.then)&&(Qt=Promise.resolve(fe)),Qt.then(function(){return fe.emit("plotly_update",{data:ft.eventData,layout:rr.eventData}),fe})}function De(fe){return function(Fe){Fe._fullLayout._guiEditing=!0;var Xe=fe.apply(null,arguments);return Fe._fullLayout._guiEditing=!1,Xe}}var He=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],rt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function $e(fe,pe){for(var Fe=0;Fe<pe.length;Fe++){var Xe=pe[Fe],at=fe.match(Xe.pattern);if(at){var ft=at[1]||"";return{head:ft,tail:fe.substr(ft.length+1),attr:Xe.attr}}}}function Be(fe,pe){var Fe=C(pe,fe).get();if(void 0!==Fe)return Fe;var Xe=fe.split(".");for(Xe.pop();Xe.length>1;)if(Xe.pop(),void 0!==(Fe=C(pe,Xe.join(".")+".uirevision").get()))return Fe;return pe.uirevision}function ze(fe,pe){for(var Fe=0;Fe<pe.length;Fe++)if(pe[Fe]._fullInput.uid===fe)return Fe;return-1}function tt(fe,pe,Fe){for(var Xe=0;Xe<pe.length;Xe++)if(pe[Xe].uid===fe)return Xe;return!pe[Fe]||pe[Fe].uid?-1:Fe}function lt(fe,pe){var Fe=P.isPlainObject(fe),Xe=Array.isArray(fe);return Fe||Xe?(Fe&&P.isPlainObject(pe)||Xe&&Array.isArray(pe))&&JSON.stringify(fe)===JSON.stringify(pe):fe===pe}function Je(fe,pe,Fe,Xe){var at,ft,Xt,rr=Xe.getValObject,At=Xe.flags,zt=Xe.immutable,Qt=Xe.inArray,Rr=Xe.arrayIndex;function pt(){var Ve=at.editType;Qt&&-1!==Ve.indexOf("arraydraw")?P.pushUnique(At.arrays[Qt],Rr):(E.update(At,at),"none"!==Ve&&At.nChanges++,Xe.transition&&at.anim&&At.nChangesAnim++,(Ie.test(Xt)||Se.test(Xt))&&(At.rangesAltered[Fe[0]]=1),xe.test(Xt)&&C(pe,"_inputDomain").set(null),"datarevision"===ft&&(At.newDataRevision=1))}function $t(Ve){return"data_array"===Ve.valType||Ve.arrayOk}for(ft in fe){if(At.calc&&!Xe.transition)return;var tr=fe[ft],Er=pe[ft],pr=Fe.concat(ft);if(Xt=pr.join("."),"_"!==ft.charAt(0)&&"function"!=typeof tr&&tr!==Er){if(("tick0"===ft||"dtick"===ft)&&"geo"!==Fe[0]){var dt=pe.tickmode;if("auto"===dt||"array"===dt||!dt)continue}if(("range"!==ft||!pe.autorange)&&("zmin"!==ft&&"zmax"!==ft||"contourcarpet"!==pe.type)&&(at=rr(pr))&&(!at._compareAsJSON||JSON.stringify(tr)!==JSON.stringify(Er))){var mt,it=at.valType,St=$t(at),Lt=Array.isArray(tr),Ct=Array.isArray(Er);if(Lt&&Ct){var Ut="_input_"+ft,Bt=fe[Ut],qt=pe[Ut];if(Array.isArray(Bt)&&Bt===qt)continue}if(void 0===Er)St&&Lt?At.calc=!0:pt();else if(at._isLinkedToArray){var cr=[],lr=!1;Qt||(At.arrays[ft]=cr);var br=Math.min(tr.length,Er.length),We=Math.max(tr.length,Er.length);if(br!==We){if("arraydraw"!==at.editType){pt();continue}lr=!0}for(mt=0;mt<br;mt++)Je(tr[mt],Er[mt],pr.concat(mt),P.extendFlat({inArray:ft,arrayIndex:mt},Xe));if(lr)for(mt=br;mt<We;mt++)cr.push(mt)}else!it&&P.isPlainObject(tr)?Je(tr,Er,pr,Xe):St?Lt&&Ct?(zt&&(At.calc=!0),(zt||Xe.newDataRevision)&&pt()):Lt!==Ct?At.calc=!0:pt():Lt&&Ct?(tr.length!==Er.length||String(tr)!==String(Er))&&pt():pt()}}}for(ft in pe)if(!(ft in fe)&&"_"!==ft.charAt(0)&&"function"!=typeof pe[ft]){if($t(at=rr(Fe.concat(ft)))&&Array.isArray(pe[ft]))return void(At.calc=!0);pt()}}function Ce(fe,pe){var Fe;for(Fe in fe)if("_"!==Fe.charAt(0)){var Xe=fe[Fe],at=pe[Fe];if(Xe!==at)if(P.isPlainObject(Xe)&&P.isPlainObject(at)){if(Ce(Xe,at))return!0}else{if(!Array.isArray(Xe)||!Array.isArray(at))return!0;if(Xe.length!==at.length)return!0;for(var ft=0;ft<Xe.length;ft++)if(Xe[ft]!==at[ft]){if(!P.isPlainObject(Xe[ft])||!P.isPlainObject(at[ft]))return!0;if(Ce(Xe[ft],at[ft]))return!0}}}}function _e(fe){var pe=fe._fullLayout,Fe=fe.getBoundingClientRect();if(!P.equalDomRects(Fe,pe._lastBBox)){var Xe=pe._invTransform=P.inverseTransformMatrix(P.getFullTransformMatrix(fe));pe._invScaleX=Math.sqrt(Xe[0][0]*Xe[0][0]+Xe[0][1]*Xe[0][1]+Xe[0][2]*Xe[0][2]),pe._invScaleY=Math.sqrt(Xe[1][0]*Xe[1][0]+Xe[1][1]*Xe[1][1]+Xe[1][2]*Xe[1][2]),pe._lastBBox=Fe}}Y.animate=function Ee(fe,pe,Fe){if(fe=P.getGraphDiv(fe),!P.isPlotDiv(fe))throw new Error("This element is not a Plotly plot: "+fe+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Xe=fe._transitionData;Xe._frameQueue||(Xe._frameQueue=[]);var at=(Fe=l.supplyAnimationDefaults(Fe)).transition,ft=Fe.frame;function Xt(zt){return Array.isArray(at)?zt>=at.length?at[0]:at[zt]:at}function rr(zt){return Array.isArray(ft)?zt>=ft.length?ft[0]:ft[zt]:ft}function At(zt,Qt){var Rr=0;return function(){if(zt&&++Rr===Qt)return zt()}}return void 0===Xe._frameWaitingCnt&&(Xe._frameWaitingCnt=0),new Promise(function(zt,Qt){var pr=0;function dt(br){return br.transitionOpts=Array.isArray(at)?pr>=at.length?at[pr]:at[0]:at,pr++,br}var it,mt,St=[],Lt=null==pe,Ct=Array.isArray(pe);if(Lt||Ct||!P.isPlainObject(pe)){if(Lt||-1!==["string","number"].indexOf(typeof pe))for(it=0;it<Xe._frames.length;it++)(mt=Xe._frames[it])&&(Lt||String(mt.group)===String(pe))&&St.push({type:"byname",name:String(mt.name),data:dt({name:mt.name})});else if(Ct)for(it=0;it<pe.length;it++){var Bt=pe[it];-1!==["number","string"].indexOf(typeof Bt)?(Bt=String(Bt),St.push({type:"byname",name:Bt,data:dt({name:Bt})})):P.isPlainObject(Bt)&&St.push({type:"object",data:dt(P.extendFlat({},Bt))})}}else St.push({type:"object",data:dt(P.extendFlat({},pe))});for(it=0;it<St.length;it++)if("byname"===(mt=St[it]).type&&!Xe._frameHash[mt.data.name])return P.warn('animate failure: frame not found: "'+mt.data.name+'"'),void Qt();-1!==["next","immediate"].indexOf(Fe.mode)&&function Rr(){if(0!==Xe._frameQueue.length){for(;Xe._frameQueue.length;){var br=Xe._frameQueue.pop();br.onInterrupt&&br.onInterrupt()}fe.emit("plotly_animationinterrupted",[])}}(),"reverse"===Fe.direction&&St.reverse();var qt=fe._fullLayout._currentFrame;if(qt&&Fe.fromcurrent){var cr=-1;for(it=0;it<St.length;it++)if("byname"===(mt=St[it]).type&&mt.name===qt){cr=it;break}if(cr>0&&cr<St.length-1){var lr=[];for(it=0;it<St.length;it++)mt=St[it],("byname"!==St[it].type||it>cr)&&lr.push(mt);St=lr}}St.length>0?function pt(br){if(0!==br.length){for(var We=0;We<br.length;We++){var Ve;Ve="byname"===br[We].type?l.computeFrame(fe,br[We].name):br[We].data;var Rt=rr(We),_t=Xt(We);_t.duration=Math.min(_t.duration,Rt.duration);var Kt={frame:Ve,name:br[We].name,frameOpts:Rt,transitionOpts:_t};We===br.length-1&&(Kt.onComplete=At(zt,2),Kt.onInterrupt=Qt),Xe._frameQueue.push(Kt)}"immediate"===Fe.mode&&(Xe._lastFrameAt=-1/0),Xe._animationRaf||function Er(){fe.emit("plotly_animating"),Xe._lastFrameAt=-1/0,Xe._timeToNext=0,Xe._runningTransitions=0,Xe._currentFrame=null;var br=function(){Xe._animationRaf=window.requestAnimationFrame(br),Date.now()-Xe._lastFrameAt>Xe._timeToNext&&function tr(){Xe._currentFrame&&Xe._currentFrame.onComplete&&Xe._currentFrame.onComplete();var br=Xe._currentFrame=Xe._frameQueue.shift();if(br){var We=br.name?br.name.toString():null;fe._fullLayout._currentFrame=We,Xe._lastFrameAt=Date.now(),Xe._timeToNext=br.frameOpts.duration,l.transition(fe,br.frame.data,br.frame.layout,A.coerceTraceIndices(fe,br.frame.traces),br.frameOpts,br.transitionOpts).then(function(){br.onComplete&&br.onComplete()}),fe.emit("plotly_animatingframe",{name:We,frame:br.frame,animation:{frame:br.frameOpts,transition:br.transitionOpts}})}else!function $t(){fe.emit("plotly_animated"),window.cancelAnimationFrame(Xe._animationRaf),Xe._animationRaf=null}()}()};br()}()}}(St):(fe.emit("plotly_animated"),zt())})},Y.addFrames=function Re(fe,pe,Fe){if(fe=P.getGraphDiv(fe),null==pe)return Promise.resolve();if(!P.isPlotDiv(fe))throw new Error("This element is not a Plotly plot: "+fe+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Xe,at,ft,Xt,rr=fe._transitionData._frames,At=fe._transitionData._frameHash;if(!Array.isArray(pe))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+pe);var zt=rr.length+2*pe.length,Qt=[],Rr={};for(Xe=pe.length-1;Xe>=0;Xe--)if(P.isPlainObject(pe[Xe])){var pt=pe[Xe].name,$t=(At[pt]||Rr[pt]||{}).name,tr=pe[Xe].name;$t&&tr&&"number"==typeof tr&&(At[$t]||Rr[$t])&&M<5&&(M++,P.warn('addFrames: overwriting frame "'+(At[$t]||Rr[$t]).name+'" with a frame whose name of type "number" also equates to "'+$t+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===M&&P.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Rr[pt]={name:pt},Qt.push({frame:l.supplyFrameDefaults(pe[Xe]),index:Fe&&null!=Fe[Xe]?Fe[Xe]:zt+Xe})}Qt.sort(function(Ut,Bt){return Ut.index>Bt.index?-1:Ut.index<Bt.index?1:0});var pr=[],dt=[],it=rr.length;for(Xe=Qt.length-1;Xe>=0;Xe--){if("number"==typeof(at=Qt[Xe].frame).name&&P.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!at.name)for(;At[at.name="frame "+fe._transitionData._counter++];);if(At[at.name]){for(ft=0;ft<rr.length&&(rr[ft]||{}).name!==at.name;ft++);pr.push({type:"replace",index:ft,value:at}),dt.unshift({type:"replace",index:ft,value:rr[ft]})}else Xt=Math.max(0,Math.min(Qt[Xe].index,it)),pr.push({type:"insert",index:Xt,value:at}),dt.unshift({type:"delete",index:Xt}),it++}return y&&y.add(fe,l.modifyFrames,[fe,dt],l.modifyFrames,[fe,pr]),l.modifyFrames(fe,pr)},Y.deleteFrames=function ke(fe,pe){if(fe=P.getGraphDiv(fe),!P.isPlotDiv(fe))throw new Error("This element is not a Plotly plot: "+fe);var Fe,Xe,at=fe._transitionData._frames,ft=[],Xt=[];if(!pe)for(pe=[],Fe=0;Fe<at.length;Fe++)pe.push(Fe);for((pe=pe.slice()).sort(),Fe=pe.length-1;Fe>=0;Fe--)ft.push({type:"delete",index:Xe=pe[Fe]}),Xt.unshift({type:"insert",index:Xe,value:at[Xe]});return y&&y.add(fe,l.modifyFrames,[fe,Xt],l.modifyFrames,[fe,ft]),l.modifyFrames(fe,ft)},Y.addTraces=function W(fe,pe,Fe){fe=P.getGraphDiv(fe);var At,zt,Xe=[],at=Y.deleteTraces,ft=W,Xt=[fe,Xe],rr=[fe,pe];for(function H(fe,pe,Fe){var Xe,at;if(!Array.isArray(fe.data))throw new Error("gd.data must be an array.");if(typeof pe>"u")throw new Error("traces must be defined.");for(Array.isArray(pe)||(pe=[pe]),Xe=0;Xe<pe.length;Xe++)if("object"!=typeof(at=pe[Xe])||Array.isArray(at)||null===at)throw new Error("all values in traces array must be non-array objects");if(typeof Fe<"u"&&!Array.isArray(Fe)&&(Fe=[Fe]),typeof Fe<"u"&&Fe.length!==pe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(fe,pe,Fe),Array.isArray(pe)||(pe=[pe]),pe=pe.map(function(Qt){return P.extendFlat({},Qt)}),A.cleanData(pe),At=0;At<pe.length;At++)fe.data.push(pe[At]);for(At=0;At<pe.length;At++)Xe.push(-pe.length+At);if(typeof Fe>"u")return zt=Y.redraw(fe),y.add(fe,at,Xt,ft,rr),zt;Array.isArray(Fe)||(Fe=[Fe]);try{N(fe,Xe,Fe)}catch(Qt){throw fe.data.splice(fe.data.length-pe.length,pe.length),Qt}return y.startSequence(fe),y.add(fe,at,Xt,ft,rr),zt=Y.moveTraces(fe,Xe,Fe),y.stopSequence(fe),zt},Y.deleteTraces=function V(fe,pe){fe=P.getGraphDiv(fe);var rr,At,Fe=[],Xe=Y.addTraces,at=V,ft=[fe,Fe,pe],Xt=[fe,pe];if(typeof pe>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(pe)||(pe=[pe]),F(fe,pe,"indices"),(pe=O(pe,fe.data.length-1)).sort(P.sorterDes),rr=0;rr<pe.length;rr+=1)At=fe.data.splice(pe[rr],1)[0],Fe.push(At);var zt=Y.redraw(fe);return y.add(fe,Xe,ft,at,Xt),zt},Y.extendTraces=function J(fe,pe,Fe,Xe){var ft=ie(fe=P.getGraphDiv(fe),pe,Fe,Xe,function at(At,zt,Qt){var Rr,pt;if(P.isTypedArray(At))if(Qt<0){var $t=new At.constructor(0),tr=ue(At,zt);Qt<0?(Rr=tr,pt=$t):(Rr=$t,pt=tr)}else if(Rr=new At.constructor(Qt),pt=new At.constructor(At.length+zt.length-Qt),Qt===zt.length)Rr.set(zt),pt.set(At);else if(Qt<zt.length){var Er=zt.length-Qt;Rr.set(zt.subarray(Er)),pt.set(At),pt.set(zt.subarray(0,Er),At.length)}else{var pr=Qt-zt.length,dt=At.length-pr;Rr.set(At.subarray(dt)),Rr.set(zt,pr),pt.set(At.subarray(0,dt))}else Rr=At.concat(zt),pt=Qt>=0&&Qt<Rr.length?Rr.splice(0,Rr.length-Qt):[];return[Rr,pt]}),Xt=Y.redraw(fe);return y.add(fe,Y.prependTraces,[fe,ft.update,Fe,ft.maxPoints],J,arguments),Xt},Y.moveTraces=function K(fe,pe,Fe){var zt,Xe=[],at=[],ft=K,Xt=K,rr=[fe=P.getGraphDiv(fe),Fe,pe],At=[fe,pe,Fe];if(N(fe,pe,Fe),pe=Array.isArray(pe)?pe:[pe],typeof Fe>"u")for(Fe=[],zt=0;zt<pe.length;zt++)Fe.push(-pe.length+zt);for(Fe=Array.isArray(Fe)?Fe:[Fe],pe=O(pe,fe.data.length-1),Fe=O(Fe,fe.data.length-1),zt=0;zt<fe.data.length;zt++)-1===pe.indexOf(zt)&&Xe.push(fe.data[zt]);for(zt=0;zt<pe.length;zt++)at.push({newIndex:Fe[zt],trace:fe.data[pe[zt]]});for(at.sort(function(Rr,pt){return Rr.newIndex-pt.newIndex}),zt=0;zt<at.length;zt+=1)Xe.splice(at[zt].newIndex,0,at[zt].trace);fe.data=Xe;var Qt=Y.redraw(fe);return y.add(fe,ft,rr,Xt,At),Qt},Y.prependTraces=function j(fe,pe,Fe,Xe){var ft=ie(fe=P.getGraphDiv(fe),pe,Fe,Xe,function at(At,zt,Qt){var Rr,pt;if(P.isTypedArray(At))if(Qt<=0){var $t=new At.constructor(0),tr=ue(zt,At);Qt<0?(Rr=tr,pt=$t):(Rr=$t,pt=tr)}else if(Rr=new At.constructor(Qt),pt=new At.constructor(At.length+zt.length-Qt),Qt===zt.length)Rr.set(zt),pt.set(At);else if(Qt<zt.length){var Er=zt.length-Qt;Rr.set(zt.subarray(0,Er)),pt.set(zt.subarray(Er)),pt.set(At,Er)}else{var pr=Qt-zt.length;Rr.set(zt),Rr.set(At.subarray(0,pr),zt.length),pt.set(At.subarray(pr))}else Rr=zt.concat(At),pt=Qt>=0&&Qt<Rr.length?Rr.splice(Qt,Rr.length):[];return[Rr,pt]}),Xt=Y.redraw(fe);return y.add(fe,Y.extendTraces,[fe,ft.update,Fe,ft.maxPoints],j,arguments),Xt},Y.newPlot=function z(fe,pe,Fe,Xe){return fe=P.getGraphDiv(fe),l.cleanPlot([],{},fe._fullData||[],fe._fullLayout||{}),l.purge(fe),Y._doPlot(fe,pe,Fe,Xe)},Y._doPlot=function n(fe,pe,Fe,Xe){var at;if(fe=P.getGraphDiv(fe),h.init(fe),P.isPlainObject(pe)){var ft=pe;pe=ft.data,Fe=ft.layout,Xe=ft.config,at=ft.frames}if(!1===h.triggerHandler(fe,"plotly_beforeplot",[pe,Fe,Xe]))return Promise.reject();!pe&&!Fe&&!P.isPlotDiv(fe)&&P.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",fe),B(fe,Xe),Fe||(Fe={}),T.select(fe).classed("js-plotly-plot",!0),c.makeTester(),Array.isArray(fe._promises)||(fe._promises=[]);var At=0===(fe.data||[]).length&&Array.isArray(pe);Array.isArray(pe)&&(A.cleanData(pe),At?fe.data=pe:fe.data.push.apply(fe.data,pe),fe.empty=!1),(!fe.layout||At)&&(fe.layout=A.cleanLayout(Fe)),l.supplyDefaults(fe);var zt=fe._fullLayout,Qt=zt._has("cartesian");zt._replotting=!0,(At||zt._shouldCreateBgLayer)&&(function Te(fe){var pe=T.select(fe),Fe=fe._fullLayout;if(Fe._calcInverseTransform=_e,Fe._calcInverseTransform(fe),Fe._container=pe.selectAll(".plot-container").data([0]),Fe._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Fe._paperdiv=Fe._container.selectAll(".svg-container").data([0]),Fe._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Fe._glcontainer=Fe._paperdiv.selectAll(".gl-container").data([{}]),Fe._glcontainer.enter().append("div").classed("gl-container",!0),Fe._paperdiv.selectAll(".main-svg").remove(),Fe._paperdiv.select(".modebar-container").remove(),Fe._paper=Fe._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Fe._toppaper=Fe._paperdiv.append("svg").classed("main-svg",!0),Fe._modebardiv=Fe._paperdiv.append("div"),delete Fe._modeBar,Fe._hoverpaper=Fe._paperdiv.append("svg").classed("main-svg",!0),!Fe._uid){var Xe={};T.selectAll("defs").each(function(){this.id&&(Xe[this.id.split("-")[1]]=1)}),Fe._uid=P.randstr(Xe)}Fe._paperdiv.selectAll(".main-svg").attr(b.svgAttrs),Fe._defs=Fe._paper.append("defs").attr("id","defs-"+Fe._uid),Fe._clips=Fe._defs.append("g").classed("clips",!0),Fe._topdefs=Fe._toppaper.append("defs").attr("id","topdefs-"+Fe._uid),Fe._topclips=Fe._topdefs.append("g").classed("clips",!0),Fe._bgLayer=Fe._paper.append("g").classed("bglayer",!0),Fe._draggers=Fe._paper.append("g").classed("draglayer",!0);var at=Fe._paper.append("g").classed("layer-below",!0);Fe._imageLowerLayer=at.append("g").classed("imagelayer",!0),Fe._shapeLowerLayer=at.append("g").classed("shapelayer",!0),Fe._cartesianlayer=Fe._paper.append("g").classed("cartesianlayer",!0),Fe._polarlayer=Fe._paper.append("g").classed("polarlayer",!0),Fe._smithlayer=Fe._paper.append("g").classed("smithlayer",!0),Fe._ternarylayer=Fe._paper.append("g").classed("ternarylayer",!0),Fe._geolayer=Fe._paper.append("g").classed("geolayer",!0),Fe._funnelarealayer=Fe._paper.append("g").classed("funnelarealayer",!0),Fe._pielayer=Fe._paper.append("g").classed("pielayer",!0),Fe._iciclelayer=Fe._paper.append("g").classed("iciclelayer",!0),Fe._treemaplayer=Fe._paper.append("g").classed("treemaplayer",!0),Fe._sunburstlayer=Fe._paper.append("g").classed("sunburstlayer",!0),Fe._indicatorlayer=Fe._toppaper.append("g").classed("indicatorlayer",!0),Fe._glimages=Fe._paper.append("g").classed("glimages",!0);var ft=Fe._toppaper.append("g").classed("layer-above",!0);Fe._imageUpperLayer=ft.append("g").classed("imagelayer",!0),Fe._shapeUpperLayer=ft.append("g").classed("shapelayer",!0),Fe._selectionLayer=Fe._toppaper.append("g").classed("selectionlayer",!0),Fe._infolayer=Fe._toppaper.append("g").classed("infolayer",!0),Fe._menulayer=Fe._toppaper.append("g").classed("menulayer",!0),Fe._zoomlayer=Fe._toppaper.append("g").classed("zoomlayer",!0),Fe._hoverlayer=Fe._hoverpaper.append("g").classed("hoverlayer",!0),Fe._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),fe.emit("plotly_framework")}(fe),zt._shouldCreateBgLayer&&delete zt._shouldCreateBgLayer),c.initGradients(fe),c.initPatterns(fe),At&&i.saveShowSpikeInitial(fe);var Rr=!fe.calcdata||fe.calcdata.length!==(fe._fullData||[]).length;Rr&&l.doCalcdata(fe);for(var pt=0;pt<fe.calcdata.length;pt++)fe.calcdata[pt][0].trace=fe._fullData[pt];fe._context.responsive?fe._responsiveChartHandler||(fe._responsiveChartHandler=function(){P.isHidden(fe)||l.resize(fe)},window.addEventListener("resize",fe._responsiveChartHandler)):P.clearResponsive(fe);var $t=P.extendFlat({},zt._size),tr=0;function pr(){if(l.clearAutoMarginIds(fe),x.drawMarginPushers(fe),i.allowAutoMargin(fe),fe._fullLayout.title.text&&fe._fullLayout.title.automargin&&l.allowAutoMargin(fe,"title.automargin"),zt._has("pie"))for(var Ut=fe._fullData,Bt=0;Bt<Ut.length;Bt++){var qt=Ut[Bt];"pie"===qt.type&&qt.automargin&&l.allowAutoMargin(fe,"pie."+qt.uid+".automargin")}return l.doAutoMargin(fe),l.previousPromises(fe)}function mt(){fe._transitioning||(x.doAutoRangeAndConstraints(fe),At&&i.saveRangeInitial(fe),t.getComponentMethod("rangeslider","calcAutorange")(fe))}var Lt=[l.previousPromises,function rr(){if(at)return Y.addFrames(fe,at)},function Er(){for(var Ut=zt._basePlotModules,Bt=0;Bt<Ut.length;Bt++)Ut[Bt].drawFramework&&Ut[Bt].drawFramework(fe);!zt._glcanvas&&zt._has("gl")&&(zt._glcanvas=zt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(br){return br.key}),zt._glcanvas.enter().append("canvas").attr("class",function(br){return"gl-canvas gl-canvas-"+br.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var qt=fe._context.plotGlPixelRatio;if(zt._glcanvas){zt._glcanvas.attr("width",zt.width*qt).attr("height",zt.height*qt).style("width",zt.width+"px").style("height",zt.height+"px");var cr=zt._glcanvas.data()[0].regl;if(cr&&(Math.floor(zt.width*qt)!==cr._gl.drawingBufferWidth||Math.floor(zt.height*qt)!==cr._gl.drawingBufferHeight)){var lr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!tr)return P.log(lr+" Clearing graph and plotting again."),l.cleanPlot([],{},fe._fullData,zt),l.supplyDefaults(fe),zt=fe._fullLayout,l.doCalcdata(fe),tr++,Er();P.error(lr)}}return"h"===zt.modebar.orientation?zt._modebardiv.style("height",null).style("width","100%"):zt._modebardiv.style("width",null).style("height",zt.height+"px"),l.previousPromises(fe)},pr,function dt(){if(l.didMarginChange($t,zt._size))return P.syncOrAsync([pr,x.layoutStyles],fe)}];Qt&&Lt.push(function it(){if(Rr)return P.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),mt],fe);mt()}),Lt.push(x.layoutStyles),Qt&&Lt.push(function St(){return i.draw(fe,At?"":"redraw")},function(Bt){var qt=Bt._fullLayout._insideTickLabelsUpdaterange;if(qt)return Bt._fullLayout._insideTickLabelsUpdaterange=void 0,we(Bt,qt).then(function(){i.saveRangeInitial(Bt,!0)})}),Lt.push(x.drawData,x.finalDraw,a,l.addLinks,l.rehover,l.redrag,l.reselect,l.doAutoMargin,l.previousPromises);var Ct=P.syncOrAsync(Lt,fe);return(!Ct||!Ct.then)&&(Ct=Promise.resolve()),Ct.then(function(){return S(fe),fe})},Y.purge=function Ne(fe){var pe=(fe=P.getGraphDiv(fe))._fullLayout||{};return l.cleanPlot([],{},fe._fullData||[],pe),l.purge(fe),h.purge(fe),pe._container&&pe._container.remove(),delete fe._context,fe},Y.react=function xt(fe,pe,Fe,Xe){var at,ft;fe=P.getGraphDiv(fe),A.clearPromiseQueue(fe);var rr=fe._fullData,At=fe._fullLayout;if(P.isPlotDiv(fe)&&rr&&At){if(P.isPlainObject(pe)){var zt=pe;pe=zt.data,Fe=zt.layout,Xe=zt.config,at=zt.frames}var Qt=!1;if(Xe){var Rr=P.extendDeep({},fe._context);fe._context=void 0,B(fe,Xe),Qt=Ce(Rr,fe._context)}fe.data=pe||[],A.cleanData(fe.data),fe.layout=Fe||{},A.cleanLayout(fe.layout),function ut(fe,pe,Fe,Xe){var ft,Xt,rr,At,zt,Qt,Rr,pt,$t,tr,at=Xe._preGUI,Er=[],pr={},dt={};for(ft in at){if(zt=$e(ft,He)){if($t=zt.head,tr=zt.tail,(At=(rr=C(Xe,Xt=zt.attr||$t+".uirevision").get())&&Be(Xt,pe))&&At===rr){if(null===(Qt=at[ft])&&(Qt=void 0),lt(pt=(Rr=C(pe,ft)).get(),Qt)){void 0===pt&&"autorange"===tr&&Er.push($t),Rr.set(Q(C(Xe,ft).get()));continue}if("autorange"===tr||"range["===tr.substr(0,6)){var St=at[$t+".autorange"];if(St||null===St&&null===at[$t+".range[0]"]&&null===at[$t+".range[1]"]){if(!($t in pr)){var Lt=C(pe,$t).get();pr[$t]=Lt&&(Lt.autorange||!1!==Lt.autorange&&(!Lt.range||2!==Lt.range.length))}if(pr[$t]){Rr.set(Q(C(Xe,ft).get()));continue}}}}}else P.warn("unrecognized GUI edit: "+ft);delete at[ft],zt&&"range["===zt.tail.substr(0,6)&&(dt[zt.head]=1)}for(var Ct=0;Ct<Er.length;Ct++){var Ut=Er[Ct];if(dt[Ut]){var Bt=C(pe,Ut).get();Bt&&delete Bt.autorange}}var qt=Xe._tracePreGUI;for(var cr in qt){var We,lr=qt[cr],br=null;for(ft in lr){if(!br){var Ve=ze(cr,Fe);if(Ve<0){delete qt[cr];break}var _t=tt(cr,fe,(We=Fe[Ve]._fullInput).index);if(_t<0){delete qt[cr];break}br=fe[_t]}if(zt=$e(ft,rt)){if(zt.attr?At=(rr=C(Xe,zt.attr).get())&&Be(zt.attr,pe):(rr=We.uirevision,void 0===(At=br.uirevision)&&(At=pe.uirevision)),At&&At===rr&&(null===(Qt=lr[ft])&&(Qt=void 0),lt(pt=(Rr=C(br,ft)).get(),Qt))){Rr.set(Q(C(We,ft).get()));continue}}else P.warn("unrecognized GUI edit: "+ft+" in trace uid "+cr);delete lr[ft]}}}(fe.data,fe.layout,rr,At),l.supplyDefaults(fe,{skipUpdateCalc:!0});var pt=fe._fullData,$t=fe._fullLayout,tr=void 0===$t.datarevision,Er=$t.transition,pr=function Ht(fe,pe,Fe,Xe,at){var ft=E.layoutFlags();ft.arrays={},ft.rangesAltered={},ft.nChanges=0,ft.nChangesAnim=0;var rr={getValObject:function Xt(At){return r.getLayoutValObject(Fe,At)},flags:ft,immutable:Xe,transition:at,gd:fe};return Je(pe,Fe,[],rr),(ft.plot||ft.calc)&&(ft.layoutReplot=!0),at&&ft.nChanges&&ft.nChangesAnim&&(ft.anim=ft.nChanges===ft.nChangesAnim?"all":"some"),ft}(fe,At,$t,tr,Er),it=function bt(fe,pe,Fe,Xe,at,ft){var Xt=pe.length===Fe.length;if(!at&&!Xt)return{fullReplot:!0,calc:!0};var At,zt,rr=E.traceFlags();rr.arrays={},rr.nChanges=0,rr.nChangesAnim=0;var Rr={getValObject:function Qt($t){var tr=r.getTraceValObject(zt,$t);return!zt._module.animatable&&tr.anim&&(tr.anim=!1),tr},flags:rr,immutable:Xe,transition:at,newDataRevision:ft,gd:fe},pt={};for(At=0;At<pe.length;At++)if(Fe[At]){if(l.hasMakesDataTransform(zt=Fe[At]._fullInput)&&(zt=Fe[At]),pt[zt.uid])continue;pt[zt.uid]=1,Je(pe[At]._fullInput,zt,[],Rr)}return(rr.calc||rr.plot)&&(rr.fullReplot=!0),at&&rr.nChanges&&rr.nChangesAnim&&(rr.anim=rr.nChanges===rr.nChangesAnim&&Xt?"all":"some"),rr}(fe,rr,pt,tr,Er,pr.newDataRevision);if(Ge(fe)&&(pr.layoutReplot=!0),it.calc||pr.calc){fe.calcdata=void 0;for(var mt=Object.getOwnPropertyNames($t),St=0;St<mt.length;St++){var Lt=mt[St],Ct=Lt.substring(0,5);if("xaxis"===Ct||"yaxis"===Ct){var Ut=$t[Lt]._emptyCategories;Ut&&Ut()}}}else l.supplyDefaultsUpdateCalc(fe.calcdata,pt);var Bt=[];if(at&&(fe._transitionData={},l.createTransitionData(fe),Bt.push(function Xt(){return Y.addFrames(fe,at)})),$t.transition&&!Qt&&(it.anim||pr.anim))pr.ticks&&Bt.push(x.doTicksRelayout),l.doCalcdata(fe),x.doAutoRangeAndConstraints(fe),Bt.push(function(){return l.transitionFromReact(fe,it,pr,At)});else if(it.fullReplot||pr.layoutReplot||Qt)fe._fullLayout._skipDefaults=!0,Bt.push(Y._doPlot);else{for(var qt in pr.arrays){var cr=pr.arrays[qt];if(cr.length){var lr=t.getComponentMethod(qt,"drawOne");if(lr!==P.noop)for(var br=0;br<cr.length;br++)lr(fe,cr[br]);else{var We=t.getComponentMethod(qt,"draw");if(We===P.noop)throw new Error("cannot draw components: "+qt);We(fe)}}}Bt.push(l.previousPromises),it.style&&Bt.push(x.doTraceStyle),(it.colorbars||pr.colorbars)&&Bt.push(x.doColorBars),pr.legend&&Bt.push(x.doLegend),pr.layoutstyle&&Bt.push(x.layoutStyles),pr.axrange&&Pe(Bt),pr.ticks&&Bt.push(x.doTicksRelayout),pr.modebar&&Bt.push(x.doModeBar),pr.camera&&Bt.push(x.doCamera),Bt.push(S)}Bt.push(l.rehover,l.redrag,l.reselect),(!(ft=P.syncOrAsync(Bt,fe))||!ft.then)&&(ft=Promise.resolve(fe))}else ft=Y.newPlot(fe,pe,Fe,Xe);return ft.then(function(){return fe.emit("plotly_react",{data:pe,layout:Fe}),fe})},Y.redraw=function k(fe){if(fe=P.getGraphDiv(fe),!P.isPlotDiv(fe))throw new Error("This element is not a Plotly plot: "+fe);return A.cleanData(fe.data),A.cleanLayout(fe.layout),fe.calcdata=void 0,Y._doPlot(fe).then(function(){return fe.emit("plotly_redraw"),fe})},Y.relayout=we,Y.restyle=ae,Y.setPlotConfig=function d(fe){return P.extendFlat(s,fe)},Y.update=Ye,Y._guiRelayout=De(we),Y._guiRestyle=De(ae),Y._guiUpdate=De(Ye),Y._storeDirectGUIEdit=function q(fe,pe,Fe){for(var Xe in Fe)re(Xe,C(fe,Xe).get(),Fe[Xe],pe)}},72075:function(te){"use strict";var Y={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function T(D,o){for(var P in D){var C=D[P];C.valType?o[P]=C.dflt:(o[P]||(o[P]={}),T(C,o[P]))}})(Y,e),te.exports={configAttributes:Y,dfltConfig:e}},86281:function(te,Y,e){"use strict";var T=e(73972),D=e(71828),o=e(9012),P=e(10820),C=e(31391),h=e(85594),y=e(72075).configAttributes,t=e(30962),r=D.extendDeepAll,l=D.isPlainObject,i=D.isArrayOrTypedArray,u=D.nestedProperty,f=D.valObjectMeta,c="_isSubplotObj",m="_isLinkedToArray",b="_deprecated",p=[c,m,"_arrayAttrRegexps",b];function v(B,k,z){if(!B)return!1;if(B._isLinkedToArray)if(A(k[z]))z++;else if(z<k.length)return!1;for(;z<k.length;z++){var O=B[k[z]];if(!l(O))break;if(B=O,z===k.length-1)break;if(B._isLinkedToArray){if(!A(k[++z]))return!1}else if("info_array"===B.valType){var F=k[++z];if(!A(F))return!1;var N=B.items;if(Array.isArray(N)){if(F>=N.length)return!1;if(2===B.dimensions){if(z++,k.length===z)return B;var H=k[z];if(!A(H))return!1;B=N[F][H]}else B=N[F]}else B=N}}return B}function A(B){return B===Math.round(B)&&B>=0}function E(){var k,z,B={};for(k in r(B,P),T.subplotsRegistry)if((z=T.subplotsRegistry[k]).layoutAttributes)if(Array.isArray(z.attr))for(var O=0;O<z.attr.length;O++)I(B,z,z.attr[O]);else I(B,z,"subplot"===z.attr?z.name:z.attr);for(k in T.componentsRegistry){var N=(z=T.componentsRegistry[k]).schema;if(N&&(N.subplots||N.layout)){var H=N.subplots;if(H&&H.xaxis&&!H.yaxis)for(var X in H.xaxis)delete B.yaxis[X];delete B.xaxis.shift,delete B.xaxis.autoshift}else"colorscale"===z.name?r(B,z.layoutAttributes):z.layoutAttributes&&L(B,z.layoutAttributes,z.name)}return{layoutAttributes:w(B)}}function M(){var B={frames:r({},C)};return w(B),B.frames}function w(B){return function n(B){Y.crawl(B,function z(O,F,N){Y.isValObject(O)?(!0===O.arrayOk||"data_array"===O.valType)&&(N[F+"src"]={valType:"string",editType:"none"}):l(O)&&(O.role="object")})}(B),function S(B){Y.crawl(B,function k(z,O,F){if(z){var N=z[m];N&&(delete z[m],F[O]={items:{}},F[O].items[N]=z,F[O].role="object")}})}(B),function d(B){!function k(z){for(var O in z)if(l(z[O]))k(z[O]);else if(Array.isArray(z[O]))for(var F=0;F<z[O].length;F++)k(z[O][F]);else z[O]instanceof RegExp&&(z[O]=z[O].toString())}(B)}(B),B}function I(B,k,z){var O=u(B,z),F=r({},k.layoutAttributes);F[c]=!0,O.set(F)}function L(B,k,z){var O=u(B,z);O.set(r(O.get()||{},k))}Y.IS_SUBPLOT_OBJ=c,Y.IS_LINKED_TO_ARRAY=m,Y.DEPRECATED=b,Y.UNDERSCORE_ATTRS=p,Y.get=function(){var B={};T.allTypes.forEach(function(z){B[z]=function x(B){var k,z;z=(k=T.modules[B]._module).basePlotModule;var O={type:null},F=r({},o),N=r({},k.attributes);Y.crawl(N,function(ne,ie,ue,J,j){u(F,j).set(void 0),void 0===ne&&u(N,j).set(void 0)}),r(O,F),T.traceIs(B,"noOpacity")&&delete O.opacity,T.traceIs(B,"showLegend")||(delete O.showlegend,delete O.legendgroup),T.traceIs(B,"noHover")&&(delete O.hoverinfo,delete O.hoverlabel),k.selectPoints||delete O.selectedpoints,r(O,N),z.attributes&&r(O,z.attributes),O.type=B;var H={meta:k.meta||{},categories:k.categories||{},animatable:!!k.animatable,type:B,attributes:w(O)};if(k.layoutAttributes){var X={};r(X,k.layoutAttributes),H.layoutAttributes=w(X)}return k.animatable||Y.crawl(H,function(ne){Y.isValObject(ne)&&"anim"in ne&&delete ne.anim}),H}(z)});var k={};return Object.keys(T.transformsRegistry).forEach(function(z){k[z]=function g(B){var z=r({},T.transformsRegistry[B].attributes);return Object.keys(T.componentsRegistry).forEach(function(O){var F=T.componentsRegistry[O];F.schema&&F.schema.transforms&&F.schema.transforms[B]&&Object.keys(F.schema.transforms[B]).forEach(function(N){L(z,F.schema.transforms[B][N],N)})}),{attributes:w(z)}}(z)}),{defs:{valObjects:f,metaKeys:p.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:B,layout:E(),transforms:k,frames:M(),animation:w(h),config:w(y)}},Y.crawl=function(B,k,z,O){var F=z||0;O=O||"",Object.keys(B).forEach(function(N){var H=B[N];if(-1===p.indexOf(N)){var X=(O?O+".":"")+N;k(H,N,B,F,X),!Y.isValObject(H)&&l(H)&&"impliedEdits"!==N&&Y.crawl(H,k,F+1,X)}})},Y.isValObject=function(B){return B&&void 0!==B.valType},Y.findArrayAttributes=function(B){var F,N,k=[],z=[],O=[];function H(j,W,V,K){z=z.slice(0,K).concat([W]),O=O.slice(0,K).concat([j&&j._isLinkedToArray]),j&&("data_array"===j.valType||!0===j.arrayOk)&&("colorbar"!==z[K-1]||"ticktext"!==W&&"tickvals"!==W)&&X(F,0,"")}function X(j,W,V){var K=j[z[W]],ae=V+z[W];if(W===z.length-1)i(K)&&k.push(N+ae);else if(O[W]){if(Array.isArray(K))for(var Q=0;Q<K.length;Q++)l(K[Q])&&X(K[Q],W+1,ae+"["+Q+"].")}else l(K)&&X(K,W+1,ae+".")}F=B,N="",Y.crawl(o,H),B._module&&B._module.attributes&&Y.crawl(B._module.attributes,H);var ne=B.transforms;if(ne)for(var ie=0;ie<ne.length;ie++){var ue=ne[ie],J=ue._module;J&&(N="transforms["+ie+"].",F=ue,Y.crawl(J.attributes,H))}return k},Y.getTraceValObject=function(B,k){var F,N,z=k[0],O=1;if("transforms"===z){if(1===k.length)return o.transforms;var H=B.transforms;if(!Array.isArray(H)||!H.length)return!1;var X=k[1];if(!A(X)||X>=H.length)return!1;N=(F=(T.transformsRegistry[H[X].type]||{}).attributes)&&F[k[2]],O=3}else{var ne=B._module;if(ne||(ne=(T.modules[B.type||o.type.dflt]||{})._module),!ne)return!1;if(!(N=(F=ne.attributes)&&F[z])){var ie=ne.basePlotModule;ie&&ie.attributes&&(N=ie.attributes[z])}N||(N=o[z])}return v(N,k,O)},Y.getLayoutValObject=function(B,k){var z=function s(B,k){var z,O,F,N,H=B._basePlotModules;if(H){var X;for(z=0;z<H.length;z++){if((F=H[z]).attrRegex&&F.attrRegex.test(k)){if(F.layoutAttrOverrides)return F.layoutAttrOverrides;!X&&F.layoutAttributes&&(X=F.layoutAttributes)}var ne=F.baseLayoutAttrOverrides;if(ne&&k in ne)return ne[k]}if(X)return X}var ie=B._modules;if(ie)for(z=0;z<ie.length;z++)if((N=ie[z].layoutAttributes)&&k in N)return N[k];for(O in T.componentsRegistry){if("colorscale"===(F=T.componentsRegistry[O]).name&&0===k.indexOf("coloraxis"))return F.layoutAttributes[k];if(!F.schema&&k===F.name)return F.layoutAttributes}return k in P&&P[k]}(B,k[0]);return v(z,k,1)}},44467:function(te,Y,e){"use strict";var T=e(71828),D=e(9012),o="templateitemname",P={name:{valType:"string",editType:"none"}};function C(y){return y&&"string"==typeof y}function h(y){return"s"!==y.charAt(y.length-1)&&T.warn("bad argument to arrayDefaultKey: "+y),y.substr(0,y.length-1)+"defaults"}P[o]={valType:"string",editType:"calc"},Y.templatedArray=function(y,t){return t._isLinkedToArray=y,t.name=P.name,t[o]=P[o],t},Y.traceTemplater=function(y){var r,l,t={};for(r in y)l=y[r],Array.isArray(l)&&l.length&&(t[r]=0);return{newTrace:function i(u){var f={type:r=T.coerce(u,{},D,"type"),_template:null};if(r in t){var c=t[r]%(l=y[r]).length;t[r]++,f._template=l[c]}return f}}},Y.newContainer=function(y,t,r){var l=y._template,i=l&&(l[t]||r&&l[r]);return T.isPlainObject(i)||(i=null),y[t]={_template:i}},Y.arrayTemplater=function(y,t,r){var l=y._template,i=l&&l[h(t)],u=l&&l[t];(!Array.isArray(u)||!u.length)&&(u=[]);var f={};return{newItem:function c(a){var b={name:a.name,_input:a},p=b[o]=a[o];if(!C(p))return b._template=i,b;for(var s=0;s<u.length;s++){var v=u[s];if(v.name===p)return f[p]=1,b._template=v,b}return b[r]=a[r]||!1,b._template=!1,b},defaultItems:function m(){for(var a=[],b=0;b<u.length;b++){var p=u[b],s=p.name;if(C(s)&&!f[s]){var v={_template:p,name:s,_input:{_templateitemname:s}};v[o]=p[o],a.push(v),f[s]=1}}return a}}},Y.arrayDefaultKey=h,Y.arrayEditor=function(y,t,r){var l=(T.nestedProperty(y,t).get()||[]).length,i=r._index,u=i>=l&&(r._input||{})._templateitemname;u&&(i=l);var c,f=t+"["+i+"]";function m(){c={},u&&(c[f]={},c[f][o]=u)}function b(v,A){u?T.nestedProperty(c[f],v).set(A):c[f+"."+v]=A}function p(){var v=c;return m(),v}return m(),{modifyBase:function a(v,A){c[v]=A},modifyItem:b,getUpdateObj:p,applyUpdate:function s(v,A){v&&b(v,A);var x=p();for(var E in x)T.nestedProperty(y,E).set(x[E])}}}},61549:function(te,Y,e){"use strict";var T=e(39898),D=e(73972),o=e(74875),P=e(71828),C=e(63893),h=e(33306),y=e(7901),t=e(91424),r=e(92998),l=e(64168),i=e(89298),u=e(18783),f=e(99082),c=f.enforce,m=f.clean,a=e(71739).doAutoRange,b="start";function v(z,O,F){for(var N=0;N<F.length;N++){var H=F[N][0],X=F[N][1];if(!(H[0]>=z[1]||H[1]<=z[0])&&X[0]<O[1]&&X[1]>O[0])return!0}return!1}function A(z){var X,ne,ie,ue,J,j,O=z._fullLayout,F=O._size,N=F.p,H=i.list(z,"",!0);if(O._paperdiv.style({width:z._context.responsive&&O.autosize&&!z._context._hasZeroWidth&&!z.layout.width?"100%":O.width+"px",height:z._context.responsive&&O.autosize&&!z._context._hasZeroHeight&&!z.layout.height?"100%":O.height+"px"}).selectAll(".main-svg").call(t.setSize,O.width,O.height),z._context.setBackground(z,O.paper_bgcolor),Y.drawMainTitle(z),l.manage(z),!O._has("cartesian"))return o.previousPromises(z);function W(Ne,_e,Te){var fe=Ne._lw/2;return"x"===Ne._id.charAt(0)?_e?"top"===Te?_e._offset-N-fe:_e._offset+_e._length+N+fe:F.t+F.h*(1-(Ne.position||0))+fe%1:_e?"right"===Te?_e._offset+_e._length+N+fe:_e._offset-N-fe:F.l+F.w*(Ne.position||0)+fe%1}for(X=0;X<H.length;X++){var V=(ue=H[X])._anchorAxis;ue._linepositions={},ue._lw=t.crispRound(z,ue.linewidth,1),ue._mainLinePosition=W(ue,V,ue.side),ue._mainMirrorPosition=ue.mirror&&V?W(ue,V,u.OPPOSITE_SIDE[ue.side]):null}var K=[],ae=[],Q=[],Z=1===y.opacity(O.paper_bgcolor)&&1===y.opacity(O.plot_bgcolor)&&O.paper_bgcolor===O.plot_bgcolor;for(ne in O._plots)if((ie=O._plots[ne]).mainplot)ie.bg&&ie.bg.remove(),ie.bg=void 0;else{var re=ie.xaxis.domain,q=ie.yaxis.domain,se=ie.plotgroup;if(v(re,q,Q)){var de=se.node(),we=ie.bg=P.ensureSingle(se,"rect","bg");de.insertBefore(we.node(),de.childNodes[0]),ae.push(ne)}else se.select("rect.bg").remove(),Q.push([re,q]),Z||(K.push(ne),ae.push(ne))}var Me,Ge,Ye,De,He,rt,$e,Be,ze,tt,lt,ut,xt,ye=O._bgLayer.selectAll(".bg").data(K);for(ye.enter().append("rect").classed("bg",!0),ye.exit().remove(),ye.each(function(Ne){O._plots[Ne].bg=T.select(this)}),X=0;X<ae.length;X++)J=(ie=O._plots[ae[X]]).xaxis,j=ie.yaxis,ie.bg&&void 0!==J._offset&&void 0!==j._offset&&ie.bg.call(t.setRect,J._offset-N,j._offset-N,J._length+2*N,j._length+2*N).call(y.fill,O.plot_bgcolor).style("stroke-width",0);if(!O._hasOnlyLargeSploms)for(ne in O._plots){J=(ie=O._plots[ne]).xaxis,j=ie.yaxis;var Se,xe,Pe=ie.clipId="clip"+O._uid+ne+"plot",Ie=P.ensureSingleById(O._clips,"clipPath",Pe,function(Ne){Ne.classed("plotclip",!0).append("rect")});ie.clipRect=Ie.select("rect").attr({width:J._length,height:j._length}),t.setTranslate(ie.plot,J._offset,j._offset),ie._hasClipOnAxisFalse?(Se=null,xe=Pe):(Se=Pe,xe=null),t.setClipUrl(ie.plot,Se,z),ie.layerClipId=xe}function bt(Ne){return"M"+Me+","+Ne+"H"+Ge}function Ht(Ne){return"M"+J._offset+","+Ne+"h"+J._length}function Je(Ne){return"M"+Ne+","+Be+"V"+$e}function Ce(Ne){return void 0!==j._shift&&(Ne+=j._shift),"M"+Ne+","+j._offset+"v"+j._length}function Ee(Ne,_e,Te){if(!Ne.showline||ne!==Ne._mainSubplot)return"";if(!Ne._anchorAxis)return Te(Ne._mainLinePosition);var fe=_e(Ne._mainLinePosition);return Ne.mirror&&(fe+=_e(Ne._mainMirrorPosition)),fe}for(ne in O._plots){j=(ie=O._plots[ne]).yaxis;var Re="M0,0";x(J=ie.xaxis,ne)&&(He=g(J,"left",j,H),Me=J._offset-(He?N+He:0),rt=g(J,"right",j,H),Ge=J._offset+J._length+(rt?N+rt:0),Ye=W(J,j,"bottom"),De=W(J,j,"top"),(xt=!J._anchorAxis||ne!==J._mainSubplot)&&("allticks"===J.mirror||"all"===J.mirror)&&(J._linepositions[ne]=[Ye,De]),Re=Ee(J,bt,Ht),xt&&J.showline&&("all"===J.mirror||"allticks"===J.mirror)&&(Re+=bt(Ye)+bt(De)),ie.xlines.style("stroke-width",J._lw+"px").call(y.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),ie.xlines.attr("d",Re);var ke="M0,0";x(j,ne)&&(lt=g(j,"bottom",J,H),$e=j._offset+j._length+(lt?N:0),ut=g(j,"top",J,H),Be=j._offset-(ut?N:0),ze=W(j,J,"left"),tt=W(j,J,"right"),(xt=!j._anchorAxis||ne!==j._mainSubplot)&&("allticks"===j.mirror||"all"===j.mirror)&&(j._linepositions[ne]=[ze,tt]),ke=Ee(j,Je,Ce),xt&&j.showline&&("all"===j.mirror||"allticks"===j.mirror)&&(ke+=Je(ze)+Je(tt)),ie.ylines.style("stroke-width",j._lw+"px").call(y.stroke,j.showline?j.linecolor:"rgba(0,0,0,0)")),ie.ylines.attr("d",ke)}return i.makeClipPaths(z),o.previousPromises(z)}function x(z,O){return(z.ticks||z.showline)&&(O===z._mainSubplot||"all"===z.mirror||"allticks"===z.mirror)}function E(z,O,F){if(!F.showline||!F._lw)return!1;if("all"===F.mirror||"allticks"===F.mirror)return!0;var N=F._anchorAxis;if(!N)return!1;var H=u.FROM_BL[O];return F.side===O?N.domain[H]===z.domain[H]:F.mirror&&N.domain[1-H]===z.domain[1-H]}function g(z,O,F,N){if(E(z,O,F))return F._lw;for(var H=0;H<N.length;H++){var X=N[H];if(X._mainAxis===F._mainAxis&&E(z,O,X))return X._lw}return 0}function L(z){return"top"===z?u.CAP_SHIFT+.3+"em":"bottom"===z?"-0.3em":u.MID_SHIFT+"em"}Y.layoutStyles=function(z){return P.syncOrAsync([o.doAutoMargin,A],z)},Y.drawMainTitle=function(z){var O=z._fullLayout.title,F=z._fullLayout,N=function B(z){var O=z.title,F="middle";return P.isRightAnchor(O)?F="end":P.isLeftAnchor(O)&&(F=b),F}(F),H=function k(z){var O=z.title,F="0em";return P.isTopAnchor(O)?F=u.CAP_SHIFT+"em":P.isMiddleAnchor(O)&&(F=u.MID_SHIFT+"em"),F}(F),X=function I(z,O){var F=z.title,N=z._size,H=0;return"0em"!==O&&O?O===u.CAP_SHIFT+"em"&&(H=F.pad.t):H=-F.pad.b,"auto"===F.y?N.t/2:"paper"===F.yref?N.t+N.h-N.h*F.y+H:z.height-z.height*F.y+H}(F,H),ne=function d(z,O){var F=z.title,N=z._size,H=0;return"paper"===(O===b?H=F.pad.l:"end"===O&&(H=-F.pad.r),F.xref)?N.l+N.w*F.x+H:z.width*F.x+H}(F,N);if(r.draw(z,"gtitle",{propContainer:F,propName:"title.text",placeholder:F._dfltTitle.plot,attributes:{x:ne,y:X,"text-anchor":N,dy:H}}),O.text&&O.automargin){var ie=T.selectAll(".gtitle"),ue=t.bBox(ie.node()).height,J=function n(z,O,F){var N=O.y,X=N>.5?"t":"b",ne=z._fullLayout.margin[X],ie=0;return"paper"===O.yref?ie=F+O.pad.t+O.pad.b:"container"===O.yref&&(ie=function w(z,O,F,N,H){var X=0;return"middle"===F&&(X+=H/2),"t"===z?("top"===F&&(X+=H),X+=N-O*N):("bottom"===F&&(X+=H),X+=O*N),X}(X,N,O.yanchor,z._fullLayout.height,F)+O.pad.t+O.pad.b),ie>ne?ie:0}(z,O,ue);J>0&&(function S(z,O,F,N){var H="title.automargin",X=z._fullLayout.title,ne=X.y>.5?"t":"b",ie={x:X.x,y:X.y,t:0,b:0},ue={};"paper"===X.yref&&function M(z,O,F,N,H){var X="paper"===O.yref?z._fullLayout._size.h:z._fullLayout.height,ne=P.isTopAnchor(O)?N:N-H,ie="b"===F?X-ne:ne;return!(P.isTopAnchor(O)&&"t"===F||P.isBottomAnchor(O)&&"b"===F)&&ie<H}(z,X,ne,O,N)?ie[ne]=F:"container"===X.yref&&(ue[ne]=F,z._fullLayout._reservedMargin[H]=ue),o.allowAutoMargin(z,H),o.autoMargin(z,H,ie)}(z,X,J,ue),ie.attr({x:ne,y:X,"text-anchor":N,dy:L(O.yanchor)}).call(C.positionText,ne,X))}},Y.doTraceStyle=function(z){var N,O=z.calcdata,F=[];for(N=0;N<O.length;N++){var H=O[N],X=H[0]||{},ne=X.trace||{},ie=ne._module||{},ue=ie.arraysToCalcdata;ue&&ue(H,ne);var J=ie.editStyle;J&&F.push({fn:J,cd0:X})}if(F.length){for(N=0;N<F.length;N++){var j=F[N];j.fn(z,j.cd0)}h(z),Y.redrawReglTraces(z)}return o.style(z),D.getComponentMethod("legend","draw")(z),o.previousPromises(z)},Y.doColorBars=function(z){return D.getComponentMethod("colorbar","draw")(z),o.previousPromises(z)},Y.layoutReplot=function(z){var O=z.layout;return z.layout=void 0,D.call("_doPlot",z,"",O)},Y.doLegend=function(z){return D.getComponentMethod("legend","draw")(z),o.previousPromises(z)},Y.doTicksRelayout=function(z){return i.draw(z,"redraw"),z._fullLayout._hasOnlyLargeSploms&&(D.subplotsRegistry.splom.updateGrid(z),h(z),Y.redrawReglTraces(z)),Y.drawMainTitle(z),o.previousPromises(z)},Y.doModeBar=function(z){var O=z._fullLayout;l.manage(z);for(var F=0;F<O._basePlotModules.length;F++){var N=O._basePlotModules[F].updateFx;N&&N(z)}return o.previousPromises(z)},Y.doCamera=function(z){for(var O=z._fullLayout,F=O._subplots.gl3d,N=0;N<F.length;N++){var H=O[F[N]];H._scene.setViewport(H)}},Y.drawData=function(z){var O=z._fullLayout;h(z);for(var F=O._basePlotModules,N=0;N<F.length;N++)F[N].plot(z);return Y.redrawReglTraces(z),o.style(z),D.getComponentMethod("selections","draw")(z),D.getComponentMethod("shapes","draw")(z),D.getComponentMethod("annotations","draw")(z),D.getComponentMethod("images","draw")(z),O._replotting=!1,o.previousPromises(z)},Y.redrawReglTraces=function(z){var O=z._fullLayout;if(O._has("regl")){var X,ne,F=z._fullData,N=[],H=[];for(O._hasOnlyLargeSploms&&O._splomGrid.draw(),X=0;X<F.length;X++){var ie=F[X];!0===ie.visible&&0!==ie._length&&("splom"===ie.type?O._splomScenes[ie.uid].draw():"scattergl"===ie.type?P.pushUnique(N,ie.xaxis+ie.yaxis):"scatterpolargl"===ie.type&&P.pushUnique(H,ie.subplot))}for(X=0;X<N.length;X++)(ne=O._plots[N[X]])._scene&&ne._scene.draw();for(X=0;X<H.length;X++)(ne=O[H[X]]._subplot)._scene&&ne._scene.draw()}},Y.doAutoRangeAndConstraints=function(z){for(var F,O=i.list(z,"",!0),N={},H=0;H<O.length;H++)if(!N[(F=O[H])._id]){N[F._id]=1,m(z,F),a(z,F);var X=F._matchGroup;if(X)for(var ne in X){var ie=i.getFromId(z,ne);a(z,ie,F.range),N[ne]=1}}c(z)},Y.finalDraw=function(z){D.getComponentMethod("rangeslider","draw")(z),D.getComponentMethod("rangeselector","draw")(z)},Y.drawMarginPushers=function(z){D.getComponentMethod("legend","draw")(z),D.getComponentMethod("rangeselector","draw")(z),D.getComponentMethod("sliders","draw")(z),D.getComponentMethod("updatemenus","draw")(z),D.getComponentMethod("colorbar","draw")(z)}},96318:function(te,Y,e){"use strict";var T=e(71828),D=T.isPlainObject,o=e(86281),P=e(74875),C=e(9012),h=e(44467),y=e(72075).dfltConfig;function t(a,b){a=T.extendDeep({},a);var s,v,p=Object.keys(a).sort();function A(w,n,S){if(D(n)&&D(w))t(w,n);else if(Array.isArray(n)&&Array.isArray(w)){var d=h.arrayTemplater({_template:a},S);for(v=0;v<n.length;v++){var I=n[v],L=d.newItem(I)._template;L&&t(L,I)}var B=d.defaultItems();for(v=0;v<B.length;v++)n.push(B[v]._template);for(v=0;v<n.length;v++)delete n[v].templateitemname}}for(s=0;s<p.length;s++){var x=p[s],E=a[x];if(x in b?A(E,b[x],x):b[x]=E,r(x)===x)for(var g in b){var M=r(g);g!==M&&M===x&&!(g in a)&&A(E,b[g],x)}}}function r(a){return a.replace(/[0-9]+$/,"")}function l(a,b,p,s,v){var A=v&&p(v);for(var x in a){var E=a[x],g=f(a,x,s),M=f(a,x,v),w=p(M);if(!w){var n=r(x);n!==x&&(w=p(M=f(a,n,v)))}if(!(A&&A===w||!w||w._noTemplating||"data_array"===w.valType||w.arrayOk&&Array.isArray(E)))if(!w.valType&&D(E))l(E,b,p,g,M);else if(w._isLinkedToArray&&Array.isArray(E))for(var S=!1,d=0,I={},L=0;L<E.length;L++){var B=E[L];if(D(B)){var k=B.name;if(k)I[k]||(l(B,b,p,f(E,d,g),f(E,d,M)),d++,I[k]=1);else if(!S){var O=f(a,h.arrayDefaultKey(x),s),F=f(E,d,g);l(B,b,p,F,f(E,d,M));var N=T.nestedProperty(b,F);T.nestedProperty(b,O).set(N.get()),N.set(null),S=!0}}}else T.nestedProperty(b,g).set(E)}}function i(a,b){return o.getLayoutValObject(a,T.nestedProperty({},b).parts)}function u(a,b){return o.getTraceValObject(a,T.nestedProperty({},b).parts)}function f(a,b,p){return p?Array.isArray(a)?p+"["+b+"]":p+"."+b:b}function c(a){for(var b=0;b<a.length;b++)if(D(a[b]))return!0}function m(a){var b;switch(a.code){case"data":b="The template has no key data.";break;case"layout":b="The template has no key layout.";break;case"missing":b=a.path?"There are no templates for item "+a.path+" with name "+a.templateitemname:"There are no templates for trace "+a.index+", of type "+a.traceType+".";break;case"unused":b=a.path?"The template item at "+a.path+" was not used in constructing the plot.":a.dataCount?"Some of the templates of type "+a.traceType+" were not used. The template has "+a.templateCount+" traces, the data only has "+a.dataCount+" of this type.":"The template has "+a.templateCount+" traces of type "+a.traceType+" but there are none in the data.";break;case"reused":b="Some of the templates of type "+a.traceType+" were used more than once. The template has "+a.templateCount+" traces, the data has "+a.dataCount+" of this type."}return a.msg=b,a}Y.makeTemplate=function(a){a=T.isPlainObject(a)?a:T.getGraphDiv(a),a=T.extendDeep({_context:y},{data:a.data,layout:a.layout}),P.supplyDefaults(a);var b=a.data||[],p=a.layout||{};p._basePlotModules=a._fullLayout._basePlotModules,p._modules=a._fullLayout._modules;var s={data:{},layout:{}};b.forEach(function(d){var I={};l(d,I,u.bind(null,d));var L=T.coerce(d,{},C,"type"),B=s.data[L];B||(B=s.data[L]=[]),B.push(I)}),l(p,s.layout,i.bind(null,p)),delete s.layout.template;var v=p.template;if(D(v)){var x,E,g,M,w,n,A=v.layout;D(A)&&t(A,s.layout);var S=v.data;if(D(S)){for(E in s.data)if(g=S[E],Array.isArray(g)){for(n=(w=s.data[E]).length,M=g.length,x=0;x<n;x++)t(g[x%M],w[x]);for(x=n;x<M;x++)w.push(T.extendDeep({},g[x]))}for(E in S)E in s.data||(s.data[E]=T.extendDeep([],S[E]))}}return s},Y.validateTemplate=function(a,b){var p=T.extendDeep({},{_context:y,data:a.data,layout:a.layout}),s=p.layout||{};D(b)||(b=s.template||{});var v=b.layout,A=b.data,x=[];p.layout=s,p.layout.template=b,P.supplyDefaults(p);var E=p._fullLayout,g=p._fullData,M={};if(D(v)?(function w(O,F){for(var N in O)if("_"!==N.charAt(0)&&D(O[N])){var ne,H=r(N),X=[];for(ne=0;ne<F.length;ne++)X.push(f(O,N,F[ne])),H!==N&&X.push(f(O,H,F[ne]));for(ne=0;ne<X.length;ne++)M[X[ne]]=1;w(O[N],X)}}(E,["layout"]),function n(O,F){for(var N in O)if(-1===N.indexOf("defaults")&&D(O[N])){var H=f(O,N,F);M[H]?n(O[N],H):x.push({code:"unused",path:H})}}(v,"layout")):x.push({code:"layout"}),D(A)){for(var d,S={},I=0;I<g.length;I++){var L=g[I];S[d=L.type]=(S[d]||0)+1,L._fullInput._template||x.push({code:"missing",index:L._fullInput.index,traceType:d})}for(d in A){var B=A[d].length,k=S[d]||0;B>k?x.push({code:"unused",traceType:d,templateCount:B,dataCount:k}):k>B&&x.push({code:"reused",traceType:d,templateCount:B,dataCount:k})}}else x.push({code:"data"});if(function z(O,F){for(var N in O)if("_"!==N.charAt(0)){var H=O[N],X=f(O,N,F);D(H)?(Array.isArray(O)&&!1===H._template&&H.templateitemname&&x.push({code:"missing",path:X,templateitemname:H.templateitemname}),z(H,X)):Array.isArray(H)&&c(H)&&z(H,X)}}({data:g,layout:E},""),x.length)return x.map(m)}},403:function(te,Y,e){"use strict";var T=e(92770),D=e(72391),o=e(74875),P=e(71828),C=e(25095),h=e(5900),y=e(70942),t=e(11506).version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};te.exports=function l(i,u){var f,c,m,a;function b(k){return!(k in u)||P.validate(u[k],r[k])}if(u=u||{},P.isPlainObject(i)?(f=i.data||[],c=i.layout||{},m=i.config||{},a={}):(i=P.getGraphDiv(i),f=P.extendDeep([],i.data),c=P.extendDeep({},i.layout),m=i._context,a=i._fullLayout||{}),!b("width")&&null!==u.width||!b("height")&&null!==u.height)throw new Error("Height and width should be pixel values.");if(!b("format"))throw new Error("Export format is not "+P.join2(r.format.values,", "," or ")+".");var p={};function s(k,z){return P.coerce(u,p,r,k,z)}var v=s("format"),A=s("width"),x=s("height"),E=s("scale"),g=s("setBackground"),M=s("imageDataOnly"),w=document.createElement("div");w.style.position="absolute",w.style.left="-5000px",document.body.appendChild(w);var n=P.extendFlat({},c);A?n.width=A:null===u.width&&T(a.width)&&(n.width=a.width),x?n.height=x:null===u.height&&T(a.height)&&(n.height=a.height);var S=P.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:g}),d=C.getRedrawFunc(w);function I(){return new Promise(function(k){setTimeout(k,C.getDelay(w._fullLayout))})}function L(){return new Promise(function(k,z){var O=h(w,v,E),F=w._fullLayout.width,N=w._fullLayout.height;function H(){D.purge(w),document.body.removeChild(w)}if("full-json"===v){var X=o.graphJson(w,!1,"keepdata","object",!0,!0);return X.version=t,X=JSON.stringify(X),H(),k(M?X:C.encodeJSON(X))}if(H(),"svg"===v)return k(M?O:C.encodeSVG(O));var ne=document.createElement("canvas");ne.id=P.randstr(),y({format:v,width:F,height:N,scale:E,canvas:ne,svg:O,promise:!0}).then(k).catch(z)})}return new Promise(function(k,z){D.newPlot(w,f,n,S).then(d).then(I).then(L).then(function(O){k(function B(k){return M?k.replace(C.IMAGE_URL_PREFIX,""):k}(O))}).catch(function(O){z(O)})})}},84936:function(te,Y,e){"use strict";var T=e(71828),D=e(74875),o=e(86281),P=e(72075).dfltConfig,C=T.isPlainObject,h=Array.isArray,y=T.isArrayOrTypedArray;function t(p,s,v,A,x,E){E=E||[];for(var g=Object.keys(p),M=0;M<g.length;M++){var w=g[M];if("transforms"!==w){var n=E.slice();n.push(w);var S=p[w],d=s[w],I=c(v,w),L=(I||{}).valType,B="info_array"===L,k="colorscale"===L,z=(I||{}).items;if(f(v,w))if(C(S)&&C(d)&&"any"!==L)t(S,d,I,A,x,n);else if(B&&h(S)){S.length>d.length&&A.push(u("unused",x,n.concat(d.length)));var N,H,ne,ie,O=d.length,F=Array.isArray(z);if(F&&(O=Math.min(O,z.length)),2===I.dimensions)for(H=0;H<O;H++)if(h(S[H])){S[H].length>d[H].length&&A.push(u("unused",x,n.concat(H,d[H].length)));var ue=d[H].length;for(N=0;N<(F?Math.min(ue,z[H].length):ue);N++)ie=d[H][N],T.validate(ne=S[H][N],F?z[H][N]:z)?ie!==ne&&ie!==+ne&&A.push(u("dynamic",x,n.concat(H,N),ne,ie)):A.push(u("value",x,n.concat(H,N),ne))}else A.push(u("array",x,n.concat(H),S[H]));else for(H=0;H<O;H++)ie=d[H],T.validate(ne=S[H],F?z[H]:z)?ie!==ne&&ie!==+ne&&A.push(u("dynamic",x,n.concat(H),ne,ie)):A.push(u("value",x,n.concat(H),ne))}else if(I.items&&!B&&h(S)){var W,V,J=z[Object.keys(z)[0]],j=[];for(W=0;W<d.length;W++){var K=d[W]._index||W;if((V=n.slice()).push(K),C(S[K])&&C(d[W])){j.push(K);var ae=S[K],Q=d[W];C(ae)&&!1!==ae.visible&&!1===Q.visible?A.push(u("invisible",x,V)):t(ae,Q,J,A,x,V)}}for(W=0;W<S.length;W++)(V=n.slice()).push(W),C(S[W])?-1===j.indexOf(W)&&A.push(u("unused",x,V)):A.push(u("object",x,V,S[W]))}else!C(S)&&C(d)?A.push(u("object",x,n,S)):y(S)||!y(d)||B||k?w in s?T.validate(S,I)?"enumerated"===I.valType&&(I.coerceNumber&&S!==+d||S!==d)&&A.push(u("dynamic",x,n,S,d)):A.push(u("value",x,n,S)):A.push(u("unused",x,n,S)):A.push(u("array",x,n,S));else A.push(u("schema",x,n))}}return A}te.exports=function(s,v){void 0===s&&(s=[]),void 0===v&&(v={});var g,M,A=o.get(),x=[],E={_context:T.extendFlat({},P)};h(s)?(E.data=T.extendDeep([],s),g=s):(E.data=[],g=[],x.push(u("array","data"))),C(v)?(E.layout=T.extendDeep({},v),M=v):(E.layout={},M={},arguments.length>1&&x.push(u("object","layout"))),D.supplyDefaults(E);for(var w=E._fullData,n=g.length,S=0;S<n;S++){var d=g[S],I=["data",S];if(C(d)){var L=w[S],B=L.type,k=A.traces[B].attributes;k.type={valType:"enumerated",values:[B]},!1===L.visible&&!1!==d.visible&&x.push(u("invisible",I)),t(d,L,k,x,I);var z=d.transforms,O=L.transforms;if(z){h(z)||x.push(u("array",I,["transforms"])),I.push("transforms");for(var F=0;F<z.length;F++){var N=["transforms",F],H=z[F].type;if(C(z[F])){var X=A.transforms[H]?A.transforms[H].attributes:{};X.type={valType:"enumerated",values:Object.keys(A.transforms)},t(z[F],O[F],X,x,I,N)}else x.push(u("object",I,N))}}}else x.push(u("object",I))}var ne=E._fullLayout,ie=function r(p,s){for(var v=p.layout.layoutAttributes,A=0;A<s.length;A++){var x=s[A],E=p.traces[x.type],g=E.layoutAttributes;g&&T.extendFlat(x.subplot?v[E.attributes.subplot.dflt]:v,g)}return v}(A,w);return t(M,ne,ie,x,"layout"),0===x.length?void 0:x};var l={object:function(p,s){return("layout"===p&&""===s?"The layout argument":"data"===p[0]&&""===s?"Trace "+p[1]+" in the data argument":i(p)+"key "+s)+" must be linked to an object container"},array:function(p,s){return("data"===p?"The data argument":i(p)+"key "+s)+" must be linked to an array container"},schema:function(p,s){return i(p)+"key "+s+" is not part of the schema"},unused:function(p,s,v){var A=C(v)?"container":"key";return i(p)+A+" "+s+" did not get coerced"},dynamic:function(p,s,v,A){return[i(p)+"key",s,"(set to '"+v+"')","got reset to","'"+A+"'","during defaults."].join(" ")},invisible:function(p,s){return(s?i(p)+"item "+s:"Trace "+p[1])+" got defaulted to be not visible"},value:function(p,s,v){return[i(p)+"key "+s,"is set to an invalid value ("+v+")"].join(" ")}};function i(p){return h(p)?"In data trace "+p[1]+", ":"In "+p+", "}function u(p,s,v,A,x){var E,g;v=v||"",h(s)?(E=s[0],g=s[1]):(E=s,g=null);var M=function b(p){if(!h(p))return String(p);for(var s="",v=0;v<p.length;v++){var A=p[v];"number"==typeof A?s=s.substr(0,s.length-1)+"["+A+"]":s+=A,v<p.length-1&&(s+=".")}return s}(v),w=l[p](s,M,A,x);return T.log(w),{code:p,container:E,trace:g,path:v,astr:M,msg:w}}function f(p,s){var v=a(s),A=v.keyMinusId;return!!(A in p&&p[A]._isSubplotObj&&v.id)||s in p}function c(p,s){return s in p?p[s]:p[a(s).keyMinusId]}var m=T.counterRegex("([a-z]+)");function a(p){var s=p.match(m);return{keyMinusId:s&&s[1],id:s&&s[2]}}},85594:function(te){"use strict";te.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(te,Y,e){"use strict";var T=e(71828),D=e(44467);te.exports=function(P,C,h){var f,c,y=h.name,t=h.inclusionAttr||"visible",r=C[y],l=T.isArrayOrTypedArray(P[y])?P[y]:[],i=C[y]=[],u=D.arrayTemplater(C,y,t);for(f=0;f<l.length;f++){var m=l[f];T.isPlainObject(m)?c=u.newItem(m):(c=u.newItem({}))[t]=!1,c._index=f,!1!==c[t]&&h.handleItemDefaults(m,c,C,h),i.push(c)}var a=u.defaultItems();for(f=0;f<a.length;f++)(c=a[f])._index=i.length,h.handleItemDefaults({},c,C,h,{}),i.push(c);if(T.isArrayOrTypedArray(r)){var b=Math.min(r.length,i.length);for(f=0;f<b;f++)T.relinkPrivateKeys(i[f],r[f])}return i}},9012:function(te,Y,e){"use strict";var T=e(41940),D=e(77914);te.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:T({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:D.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(te,Y,e){"use strict";var T=e(92770),D=e(71828),o=D.dateTime2ms,P=D.incrementMonth,h=e(50606).ONEAVGMONTH;te.exports=function(t,r,l,i){if("date"!==r.type)return{vals:i};var u=t[l+"periodalignment"];if(!u)return{vals:i};var c,f=t[l+"period"];if(T(f)){if((f=+f)<=0)return{vals:i}}else if("string"==typeof f&&"M"===f.charAt(0)){var m=+f.substring(1);if(!(m>0&&Math.round(m)===m))return{vals:i};c=m}for(var a=r.calendar,b="start"===u,p="end"===u,v=o(t[l+"period0"],a)||0,A=[],x=[],E=[],g=i.length,M=0;M<g;M++){var n,S,d,w=i[M];if(c){for(n=Math.round((w-v)/(c*h)),d=P(v,c*n,a);d>w;)d=P(d,-c,a);for(;d<=w;)d=P(d,c,a);S=P(d,-c,a)}else{for(d=v+(n=Math.round((w-v)/f))*f;d>w;)d-=f;for(;d<=w;)d+=f;S=d-f}A[M]=b?S:p?d:(S+d)/2,x[M]=S,E[M]=d}return{vals:A,starts:x,ends:E}}},89502:function(te){"use strict";te.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(te,Y,e){"use strict";var T=e(39898),D=e(92770),o=e(71828),P=e(50606).FP_SAFE,C=e(73972),h=e(91424),y=e(41675),t=y.getFromId,r=y.isLinked;function l(S,d){var I,L,B=[],k=S._fullLayout,z=u(k,d,0),O=u(k,d,1),F=m(S,d),N=F.min,H=F.max;if(0===N.length||0===H.length)return o.simpleMap(d.range,d.r2l);var X=N[0].val,ne=H[0].val;for(I=1;I<N.length&&X===ne;I++)X=Math.min(X,N[I].val);for(I=1;I<H.length&&X===ne;I++)ne=Math.max(ne,H[I].val);var ie=d.autorange,ue="reversed"===ie||"min reversed"===ie||"max reversed"===ie;if(!ue&&d.range){var J=o.simpleMap(d.range,d.r2l);ue=J[1]<J[0]}"reversed"===d.autorange&&(d.autorange=!0);var Z,re,q,se,de,we,j=d.rangemode,W="tozero"===j,V="nonnegative"===j,K=d._length,ae=K/10,Q=0;for(I=0;I<N.length;I++)for(Z=N[I],L=0;L<H.length;L++)(we=(re=H[L]).val-Z.val-i(d,Z.val,re.val))>0&&((de=K-z(Z)-O(re))>ae?we/de>Q&&(q=Z,se=re,Q=we/de):we/K>Q&&(q={val:Z.val,nopad:1},se={val:re.val,nopad:1},Q=we/K));if(X===ne){var Pe=X-1,Ie=X+1;if(W)if(0===X)B=[0,1];else{var Se=(X>0?H:N).reduce(function ye(Me,Ge){return Math.max(Me,O(Ge))},0),xe=X/(1-Math.min(.5,Se/K));B=X>0?[0,xe]:[xe,0]}else B=V?[Math.max(0,Pe),Math.max(1,Ie)]:[Pe,Ie]}else W?(q.val>=0&&(q={val:0,nopad:1}),se.val<=0&&(se={val:0,nopad:1})):V&&(q.val-Q*z(q)<0&&(q={val:0,nopad:1}),se.val<=0&&(se={val:1,nopad:1})),Q=(se.val-q.val-i(d,Z.val,re.val))/(K-z(q)-O(se)),B=[q.val-Q*z(q),se.val+Q*O(se)];return B=n(B,d),d.limitRange&&d.limitRange(),ue&&B.reverse(),o.simpleMap(B,d.l2r||Number)}function i(S,d,I){var L=0;if(S.rangebreaks)for(var B=S.locateBreaks(d,I),k=0;k<B.length;k++){var z=B[k];L+=z.max-z.min}return L}function u(S,d,I){var L=.05*d._length,B=d._anchorAxis||{};if(-1!==(d.ticklabelposition||"").indexOf("inside")||-1!==(B.ticklabelposition||"").indexOf("inside")){var k=d.isReversed();if(!k){var z=o.simpleMap(d.range,d.r2l);k=z[1]<z[0]}k&&(I=!I)}var O=0;return r(S,d._id)||(O=function c(S,d,I){var L=0,B="x"===d._id.charAt(0);for(var k in S._plots){var z=S._plots[k];if(d._id===z.xaxis._id||d._id===z.yaxis._id){var O=(B?z.yaxis:z.xaxis)||{};if(-1!==(O.ticklabelposition||"").indexOf("inside")&&(!I&&("left"===O.side||"bottom"===O.side)||I&&("top"===O.side||"right"===O.side))){if(O._vals){var F=o.deg2rad(O._tickAngles[O._id+"tick"]||0),N=Math.abs(Math.cos(F)),H=Math.abs(Math.sin(F));O._vals[0].bb||O._selections[O._id+"tick"].each(function(V){var K=T.select(this);K.select(".text-math-group").empty()&&(V.bb=h.bBox(K.node()))});for(var ie=0;ie<O._vals.length;ie++){var J=O._vals[ie].bb;if(J){var j=2*f+J.width,W=2*f+J.height;L=Math.max(L,B?Math.max(j*N,W*H):Math.max(W*N,j*H))}}}"inside"===O.ticks&&"inside"===O.ticklabelposition&&(L+=O.ticklen||0)}}}return L}(S,d,I)),L=Math.max(O,L),"domain"===d.constrain&&d._inputDomain&&(L*=(d._inputDomain[1]-d._inputDomain[0])/(d.domain[1]-d.domain[0])),function(N){return N.nopad?0:N.pad+(N.extrapad?L:O)}}te.exports={applyAutorangeOptions:n,getAutoRange:l,makePadFn:u,doAutoRange:function a(S,d,I){if(d.setScale(),d.autorange){d.range=I?I.slice():l(S,d),d._r=d.range.slice(),d._rl=o.simpleMap(d._r,d.r2l);var L=d._input,B={};B[d._attr+".range"]=d.range,B[d._attr+".autorange"]=d.autorange,C.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,B),L.range=d.range.slice(),L.autorange=d.autorange}var k=d._anchorAxis;if(k&&k.rangeslider){var z=k.rangeslider[d._name];z&&"auto"===z.rangemode&&(z.range=l(S,d)),k._input.rangeslider[d._name]=o.extendFlat({},z)}},findExtremes:function b(S,d,I){I||(I={}),S._m||S.setScale();var X,ne,ie,ue,J,j,W,V,K,L=[],B=[],k=d.length,z=I.padded||!1,O=I.tozero&&("linear"===S.type||"-"===S.type),F="log"===S.type,N=!1,H=I.vpadLinearized||!1;function ae(ye){if(Array.isArray(ye))return N=!0,function(Ie){return Math.max(Number(ye[Ie]||0),0)};var Pe=Math.max(Number(ye||0),0);return function(){return Pe}}var Q=ae((S._m>0?I.ppadplus:I.ppadminus)||I.ppad||0),Z=ae((S._m>0?I.ppadminus:I.ppadplus)||I.ppad||0),re=ae(I.vpadplus||I.vpad),q=ae(I.vpadminus||I.vpad);if(!N){if(V=1/0,K=-1/0,F)for(X=0;X<k;X++)(ne=d[X])<V&&ne>0&&(V=ne),ne>K&&ne<P&&(K=ne);else for(X=0;X<k;X++)(ne=d[X])<V&&ne>-P&&(V=ne),ne>K&&ne<P&&(K=ne);d=[V,K],k=2}var se={tozero:O,extrapad:z};function de(ye){D(ie=d[ye])&&(j=Q(ye),W=Z(ye),H?(ue=S.c2l(ie)-q(ye),J=S.c2l(ie)+re(ye)):(V=ie-q(ye),K=ie+re(ye),F&&V<K/10&&(V=K/10),ue=S.c2l(V),J=S.c2l(K)),O&&(ue=Math.min(0,ue),J=Math.max(0,J)),A(ue)&&p(L,ue,W,se),A(J)&&s(B,J,j,se))}var we=Math.min(6,k);for(X=0;X<we;X++)de(X);for(X=k-1;X>=we;X--)de(X);return{min:L,max:B,opts:I}},concatExtremes:m};var f=3;function m(S,d,I){var F,N,H,L=d._id,k=S._fullLayout,z=[],O=[];function X(j,W){for(F=0;F<W.length;F++){var V=j[W[F]],K=(V._extremes||{})[L];if(!0===V.visible&&K){for(N=0;N<K.min.length;N++)p(z,(H=K.min[N]).val,H.pad,{extrapad:H.extrapad});for(N=0;N<K.max.length;N++)s(O,(H=K.max[N]).val,H.pad,{extrapad:H.extrapad})}}}if(X(S._fullData,d._traceIndices),X(k.annotations||[],d._annIndices||[]),X(k.shapes||[],d._shapeIndices||[]),d._matchGroup&&!I)for(var ne in d._matchGroup)if(ne!==d._id){var ie=t(S,ne),ue=m(S,ie,!0),J=d._length/ie._length;for(N=0;N<ue.min.length;N++)p(z,(H=ue.min[N]).val,H.pad*J,{extrapad:H.extrapad});for(N=0;N<ue.max.length;N++)s(O,(H=ue.max[N]).val,H.pad*J,{extrapad:H.extrapad})}return{min:z,max:O}}function p(S,d,I,L){v(S,d,I,L,x)}function s(S,d,I,L){v(S,d,I,L,E)}function v(S,d,I,L,B){for(var k=L.tozero,z=L.extrapad,O=!0,F=0;F<S.length&&O;F++){var N=S[F];if(B(N.val,d)&&N.pad>=I&&(N.extrapad||!z)){O=!1;break}B(d,N.val)&&N.pad<=I&&(z||!N.extrapad)&&(S.splice(F,1),F--)}if(O){var H=k&&0===d;S.push({val:d,pad:H?0:I,extrapad:!H&&z})}}function A(S){return D(S)&&Math.abs(S)<P}function x(S,d){return S<=d}function E(S,d){return S>=d}function w(S,d,I){return void 0===d||void 0===I||(d=S.d2l(d))<S.d2l(I)}function n(S,d){if(!d||!d.autorangeoptions)return S;var I=S[0],L=S[1],B=d.autorangeoptions.include;if(void 0!==B){var k=d.d2l(I),z=d.d2l(L);o.isArrayOrTypedArray(B)||(B=[B]);for(var O=0;O<B.length;O++){var F=d.d2l(B[O]);k>=F&&(k=F,I=F),z<=F&&(z=F,L=F)}}return I=function g(S,d){var I=d.autorangeoptions;return I&&void 0!==I.minallowed&&w(d,I.minallowed,I.maxallowed)?I.minallowed:I&&void 0!==I.clipmin&&w(d,I.clipmin,I.clipmax)?Math.max(S,d.d2l(I.clipmin)):S}(I,d),L=function M(S,d){var I=d.autorangeoptions;return I&&void 0!==I.maxallowed&&w(d,I.minallowed,I.maxallowed)?I.maxallowed:I&&void 0!==I.clipmax&&w(d,I.clipmin,I.clipmax)?Math.min(S,d.d2l(I.clipmax)):S}(L,d),[I,L]}},23074:function(te){"use strict";te.exports=function(e,T,D){var o,P;if(D){var C="reversed"===T||"min reversed"===T||"max reversed"===T;o=D[C?1:0],P=D[C?0:1]}var h=e("autorangeoptions.minallowed",null===P?o:void 0),y=e("autorangeoptions.maxallowed",null===o?P:void 0);void 0===h&&e("autorangeoptions.clipmin"),void 0===y&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},89298:function(te,Y,e){"use strict";var T=e(39898),D=e(92770),o=e(74875),P=e(73972),C=e(71828),h=C.strTranslate,y=e(63893),t=e(92998),r=e(7901),l=e(91424),i=e(13838),u=e(66287),f=e(50606),c=f.ONEMAXYEAR,m=f.ONEAVGYEAR,a=f.ONEMINYEAR,b=f.ONEMAXQUARTER,p=f.ONEAVGQUARTER,s=f.ONEMINQUARTER,v=f.ONEMAXMONTH,A=f.ONEAVGMONTH,x=f.ONEMINMONTH,E=f.ONEWEEK,g=f.ONEDAY,M=g/2,w=f.ONEHOUR,n=f.ONEMIN,S=f.ONESEC,d=f.MINUS_SIGN,I=f.BADNUM,L={K:"zeroline"},B={K:"gridline",L:"path"},k={K:"minor-gridline",L:"path"},z={K:"tick",L:"path"},O={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},N=e(18783),H=N.MID_SHIFT,X=N.CAP_SHIFT,ne=N.LINE_SPACING,ie=N.OPPOSITE_SIDE,J=te.exports={};J.setConvert=e(21994);var j=e(4322),W=e(41675),V=W.idSort,K=W.isLinked;J.id2name=W.id2name,J.name2id=W.name2id,J.cleanId=W.cleanId,J.list=W.list,J.listIds=W.listIds,J.getFromId=W.getFromId,J.getFromTrace=W.getFromTrace;var ae=e(71739);J.getAutoRange=ae.getAutoRange,J.findExtremes=ae.findExtremes;var Q=1e-4;function Z(We){var Ve=(We[1]-We[0])*Q;return[We[0]-Ve,We[1]+Ve]}J.coerceRef=function(We,Ve,Rt,_t,Kt,sr){var hr=_t.charAt(_t.length-1),or=Rt._fullLayout._subplots[hr+"axis"],Nt=_t+"ref",dr={};return Kt||(Kt=or[0]||("string"==typeof sr?sr:sr[0])),sr||(sr=Kt),or=or.concat(or.map(function(Mr){return Mr+" domain"})),dr[Nt]={valType:"enumerated",values:or.concat(sr?"string"==typeof sr?[sr]:sr:[]),dflt:Kt},C.coerce(We,Ve,dr,Nt)},J.getRefType=function(We){return void 0===We?We:"paper"===We?"paper":"pixel"===We?"pixel":/( domain)$/.test(We)?"domain":"range"},J.coercePosition=function(We,Ve,Rt,_t,Kt,sr){var hr,or;if("range"!==J.getRefType(_t))hr=C.ensureNumber,or=Rt(Kt,sr);else{var dr=J.getFromId(Ve,_t);or=Rt(Kt,sr=dr.fraction2r(sr)),hr=dr.cleanPos}We[Kt]=hr(or)},J.cleanPosition=function(We,Ve,Rt){return("paper"===Rt||"pixel"===Rt?C.ensureNumber:J.getFromId(Ve,Rt).cleanPos)(We)},J.redrawComponents=function(We,Ve){Ve=Ve||J.listIds(We);var Rt=We._fullLayout;function _t(Kt,sr,hr,or){for(var Nt=P.getComponentMethod(Kt,sr),dr={},Mr=0;Mr<Ve.length;Mr++)for(var kr=Rt[J.id2name(Ve[Mr])][hr],tn=0;tn<kr.length;tn++){var _r=kr[tn];if(!dr[_r]&&(Nt(We,_r),dr[_r]=1,or))return}}_t("annotations","drawOne","_annIndices"),_t("shapes","drawOne","_shapeIndices"),_t("images","draw","_imgIndices",!0),_t("selections","drawOne","_selectionIndices")};var re=J.getDataConversions=function(We,Ve,Rt,_t){var Kt,sr="x"===Rt||"y"===Rt||"z"===Rt?Rt:_t;if(Array.isArray(sr)){if(Kt={type:j(_t,void 0,{autotypenumbers:We._fullLayout.autotypenumbers}),_categories:[]},J.setConvert(Kt),"category"===Kt.type)for(var hr=0;hr<_t.length;hr++)Kt.d2c(_t[hr])}else Kt=J.getFromTrace(We,Ve,sr);return Kt?{d2c:Kt.d2c,c2d:Kt.c2d}:"ids"===sr?{d2c:se,c2d:se}:{d2c:q,c2d:q}};function q(We){return+We}function se(We){return String(We)}function ye(We,Ve){return Math.abs((We/Ve+.5)%1-.5)<.001}function Pe(We,Ve){return Math.abs(We/Ve-1)<.001}function Ie(We){return+We.substring(1)}function Me(We,Ve){return We.rangebreaks&&(Ve=Ve.filter(function(Rt){return We.maskBreaks(Rt.x)!==I})),Ve}function Ge(We){var Ve=We._mainAxis,Rt=[];if(Ve._vals)for(var _t=0;_t<Ve._vals.length;_t++)if(!Ve._vals[_t].noTick){var Kt=Ve.l2p(Ve._vals[_t].x),sr=We.p2l(Kt),hr=J.tickText(We,sr);Ve._vals[_t].minor&&(hr.minor=!0,hr.text=""),Rt.push(hr)}return Me(We,Rt)}function Ye(We){var Rt=Z(C.simpleMap(We.range,We.r2l)),_t=Math.min(Rt[0],Rt[1]),Kt=Math.max(Rt[0],Rt[1]),sr="category"===We.type?We.d2l_noadd:We.d2l;"log"===We.type&&"L"!==String(We.dtick).charAt(0)&&(We.dtick="L"+Math.pow(10,Math.floor(Math.min(We.range[0],We.range[1]))-1));for(var hr=[],or=0;or<=1;or++)if(!or||We.minor){var Nt=or?We.minor.tickvals:We.tickvals,dr=or?[]:We.ticktext;if(Nt){Array.isArray(dr)||(dr=[]);for(var Mr=0;Mr<Nt.length;Mr++){var wr=sr(Nt[Mr]);if(wr>_t&&wr<Kt){var kr=void 0===dr[Mr]?J.tickText(We,wr):xt(We,wr,String(dr[Mr]));or&&(kr.minor=!0,kr.text=""),hr.push(kr)}}}}return Me(We,hr)}J.getDataToCoordFunc=function(We,Ve,Rt,_t){return re(We,Ve,Rt,_t).d2c},J.counterLetter=function(We){var Ve=We.charAt(0);return"x"===Ve?"y":"y"===Ve?"x":void 0},J.minDtick=function(We,Ve,Rt,_t){-1===["log","category","multicategory"].indexOf(We.type)&&_t?void 0===We._minDtick?(We._minDtick=Ve,We._forceTick0=Rt):We._minDtick&&((We._minDtick/Ve+1e-6)%1<2e-6&&((Rt-We._forceTick0)/Ve%1+1.000001)%1<2e-6?(We._minDtick=Ve,We._forceTick0=Rt):((Ve/We._minDtick+1e-6)%1>2e-6||((Rt-We._forceTick0)/We._minDtick%1+1.000001)%1>2e-6)&&(We._minDtick=0)):We._minDtick=0},J.saveRangeInitial=function(We,Ve){for(var Rt=J.list(We,"",!0),_t=!1,Kt=0;Kt<Rt.length;Kt++){var sr=Rt[Kt],hr=void 0===sr._rangeInitial0&&void 0===sr._rangeInitial1,Nt=sr.autorange;(hr&&!0!==Nt||Ve&&(hr||sr.range[0]!==sr._rangeInitial0||sr.range[1]!==sr._rangeInitial1))&&(sr._rangeInitial0="min"===Nt||"max reversed"===Nt?void 0:sr.range[0],sr._rangeInitial1="max"===Nt||"min reversed"===Nt?void 0:sr.range[1],sr._autorangeInitial=Nt,_t=!0)}return _t},J.saveShowSpikeInitial=function(We,Ve){for(var Rt=J.list(We,"",!0),_t=!1,Kt="on",sr=0;sr<Rt.length;sr++){var hr=Rt[sr],or=void 0===hr._showSpikeInitial;(or||Ve&&(or||hr.showspikes!==hr._showspikes))&&(hr._showSpikeInitial=hr.showspikes,_t=!0),"on"===Kt&&!hr.showspikes&&(Kt="off")}return We._fullLayout._cartesianSpikesEnabled=Kt,_t},J.autoBin=function(We,Ve,Rt,_t,Kt,sr){var Nt,hr=C.aggNums(Math.min,null,We),or=C.aggNums(Math.max,null,We);if("category"===Ve.type||"multicategory"===Ve.type)return{start:hr-.5,end:or+.5,size:Math.max(1,Math.round(sr)||1),_dataSpan:or-hr};if(Kt||(Kt=Ve.calendar),Nt="log"===Ve.type?{type:"linear",range:[hr,or]}:{type:Ve.type,range:C.simpleMap([hr,or],Ve.c2r,0,Kt),calendar:Kt},J.setConvert(Nt),sr=sr&&u.dtick(sr,Nt.type))Nt.dtick=sr,Nt.tick0=u.tick0(void 0,Nt.type,Kt);else{var dr;if(Rt)dr=(or-hr)/Rt;else{var Mr=C.distinctVals(We),wr=Math.pow(10,Math.floor(Math.log(Mr.minDiff)/Math.LN10)),kr=wr*C.roundUp(Mr.minDiff/wr,[.9,1.9,4.9,9.9],!0);dr=Math.max(kr,2*C.stdev(We)/Math.pow(We.length,_t?.25:.4)),D(dr)||(dr=1)}J.autoTicks(Nt,dr)}var Kr,tn=Nt.dtick,_r=J.tickIncrement(J.tickFirst(Nt),tn,"reverse",Kt);if("number"==typeof tn)_r=function de(We,Ve,Rt,_t,Kt){var sr=0,hr=0,or=0,Nt=0;function dr(tn){return(1+100*(tn-We)/Rt.dtick)%100<2}for(var Mr=0;Mr<Ve.length;Mr++)Ve[Mr]%1==0?or++:D(Ve[Mr])||Nt++,dr(Ve[Mr])&&sr++,dr(Ve[Mr]+Rt.dtick/2)&&hr++;var wr=Ve.length-Nt;if(or===wr&&"date"!==Rt.type)Rt.dtick<1?We=_t-.5*Rt.dtick:(We-=.5)+Rt.dtick<_t&&(We+=Rt.dtick);else if(hr<.1*wr&&(sr>.3*wr||dr(_t)||dr(Kt))){var kr=Rt.dtick/2;We+=We+kr<_t?kr:-kr}return We}(_r,We,Nt,hr,or),Kr=_r+(1+Math.floor((or-_r)/tn))*tn;else for("M"===Nt.dtick.charAt(0)&&(_r=function we(We,Ve,Rt,_t,Kt){var sr=C.findExactDates(Ve,Kt);if(sr.exactDays>.8){var or=Number(Rt.substr(1));sr.exactYears>.8&&or%12==0?We=J.tickIncrement(We,"M6","reverse")+1.5*g:sr.exactMonths>.8?We=J.tickIncrement(We,"M1","reverse")+15.5*g:We-=M;var Nt=J.tickIncrement(We,Rt);if(Nt<=_t)return Nt}return We}(_r,We,tn,hr,Kt)),Kr=_r;Kr<=or;)Kr=J.tickIncrement(Kr,tn,!1,Kt);return{start:Ve.c2r(_r,0,Kt),end:Ve.c2r(Kr,0,Kt),size:tn,_dataSpan:or-hr}},J.prepMinorTicks=function(We,Ve,Rt){if(!Ve.minor.dtick){delete We.dtick;var Kt,_t=Ve.dtick&&D(Ve._tmin);if(_t){var sr=J.tickIncrement(Ve._tmin,Ve.dtick,!0);Kt=[Ve._tmin,.99*sr+.01*Ve._tmin]}else{var hr=C.simpleMap(Ve.range,Ve.r2l);Kt=[hr[0],.8*hr[0]+.2*hr[1]]}if(We.range=C.simpleMap(Kt,Ve.l2r),We._isMinor=!0,J.prepTicks(We,Rt),_t){var or=D(Ve.dtick),Nt=D(We.dtick),dr=or?Ve.dtick:+Ve.dtick.substring(1),Mr=Nt?We.dtick:+We.dtick.substring(1);or&&Nt?ye(dr,Mr)?dr===2*E&&Mr===2*g&&(We.dtick=E):We.dtick=dr===2*E&&Mr===3*g?E:dr!==E||(Ve._input.minor||{}).nticks?Pe(dr/Mr,2.5)?dr/2:dr:g:"M"===String(Ve.dtick).charAt(0)?Nt?We.dtick="M1":ye(dr,Mr)?dr>=12&&2===Mr&&(We.dtick="M3"):We.dtick=Ve.dtick:"L"===String(We.dtick).charAt(0)?"L"===String(Ve.dtick).charAt(0)?ye(dr,Mr)||(We.dtick=Pe(dr/Mr,2.5)?Ve.dtick/2:Ve.dtick):We.dtick="D1":"D2"===We.dtick&&+Ve.dtick>1&&(We.dtick=1)}We.range=Ve.range}void 0===Ve.minor._tick0Init&&(We.tick0=Ve.tick0)},J.prepTicks=function(We,Ve){var Rt=C.simpleMap(We.range,We.r2l,void 0,void 0,Ve);if("auto"===We.tickmode||!We.dtick){var Kt,_t=We.nticks;_t||("category"===We.type||"multicategory"===We.type?(Kt=We.tickfont?C.bigFont(We.tickfont.size||12):15,_t=We._length/Kt):(Kt="y"===We._id.charAt(0)?40:80,_t=C.constrain(We._length/Kt,4,9)+1),"radialaxis"===We._name&&(_t*=2)),We.minor&&"array"!==We.minor.tickmode||"array"===We.tickmode&&(_t*=100),We._roughDTick=Math.abs(Rt[1]-Rt[0])/_t,J.autoTicks(We,We._roughDTick),We._minDtick>0&&We.dtick<2*We._minDtick&&(We.dtick=We._minDtick,We.tick0=We.l2r(We._forceTick0))}"period"===We.ticklabelmode&&function Se(We){var Ve;function Rt(){return!(D(We.dtick)||"M"!==We.dtick.charAt(0))}var _t=Rt(),Kt=J.getTickFormat(We);if(Kt){var sr=We._dtickInit!==We.dtick;/%[fLQsSMX]/.test(Kt)||(/%[HI]/.test(Kt)?(Ve=w,sr&&!_t&&We.dtick<w&&(We.dtick=w)):/%p/.test(Kt)?(Ve=M,sr&&!_t&&We.dtick<M&&(We.dtick=M)):/%[Aadejuwx]/.test(Kt)?(Ve=g,sr&&!_t&&We.dtick<g&&(We.dtick=g)):/%[UVW]/.test(Kt)?(Ve=E,sr&&!_t&&We.dtick<E&&(We.dtick=E)):/%[Bbm]/.test(Kt)?(Ve=A,sr&&(_t?Ie(We.dtick)<1:We.dtick<x)&&(We.dtick="M1")):/%[q]/.test(Kt)?(Ve=p,sr&&(_t?Ie(We.dtick)<3:We.dtick<s)&&(We.dtick="M3")):/%[Yy]/.test(Kt)&&(Ve=m,sr&&(_t?Ie(We.dtick)<12:We.dtick<a)&&(We.dtick="M12")))}(_t=Rt())&&We.tick0===We._dowTick0&&(We.tick0=We._rawTick0),We._definedDelta=Ve}(We),We.tick0||(We.tick0="date"===We.type?"2000-01-01":0),"date"===We.type&&We.dtick<.1&&(We.dtick=.1),ut(We)},J.calcTicks=function(Ve,Rt){for(var _t=Ve.type,Kt=Ve.calendar,sr=Ve.ticklabelstep,hr="period"===Ve.ticklabelmode,or=C.simpleMap(Ve.range,Ve.r2l,void 0,void 0,Rt),Nt=or[1]<or[0],dr=Math.min(or[0],or[1]),Mr=Math.max(or[0],or[1]),wr=Math.max(1e3,Ve._length||0),kr=[],tn=[],_r=[],Kr=[],vn=Ve.minor&&(Ve.minor.ticks||Ve.minor.showgrid),Xr=1;Xr>=(vn?0:1);Xr--){var On=!Xr;Xr?(Ve._dtickInit=Ve.dtick,Ve._tick0Init=Ve.tick0):(Ve.minor._dtickInit=Ve.minor.dtick,Ve.minor._tick0Init=Ve.minor.tick0);var mn=Xr?Ve:C.extendFlat({},Ve,Ve.minor);if(On?J.prepMinorTicks(mn,Ve,Rt):J.prepTicks(mn,Rt),"array"!==mn.tickmode)if("sync"!==mn.tickmode){var xr=Z(or),Pr=xr[0],Zr=xr[1],Hr=D(mn.dtick),fn="log"===_t&&!(Hr||"L"===mn.dtick.charAt(0)),Tn=J.tickFirst(mn,Rt);if(Xr){if(Ve._tmin=Tn,Tn<Pr!==Nt)break;("category"===_t||"multicategory"===_t)&&(Zr=Nt?Math.max(-.5,Zr):Math.min(Ve._categories.length-.5,Zr))}var Fn,la,Mn=null,Pn=Tn;Xr&&(Hr?la=Ve.dtick:"date"===_t?"string"==typeof Ve.dtick&&"M"===Ve.dtick.charAt(0)&&(la=A*Ve.dtick.substring(1)):la=Ve._roughDTick,Fn=Math.round((Ve.r2l(Pn)-Ve.r2l(Ve.tick0))/la)-1);var Xn=mn.dtick;for(mn.rangebreaks&&mn._tick0Init!==mn.tick0&&(Pn=Bt(Pn,Ve),Nt||(Pn=J.tickIncrement(Pn,Xn,!Nt,Kt))),Xr&&hr&&(Pn=J.tickIncrement(Pn,Xn,!Nt,Kt),Fn--);Nt?Pn>=Zr:Pn<=Zr;Pn=J.tickIncrement(Pn,Xn,Nt,Kt)){if(Xr&&Fn++,mn.rangebreaks&&!Nt){if(Pn<Pr)continue;if(mn.maskBreaks(Pn)===I&&Bt(Pn,mn)>=Mr)break}if(_r.length>wr||Pn===Mn)break;Mn=Pn;var na={value:Pn};Xr?(fn&&Pn!==(0|Pn)&&(na.simpleLabel=!0),sr>1&&Fn%sr&&(na.skipLabel=!0),_r.push(na)):(na.minor=!0,Kr.push(na))}}else _r=[],kr=Ge(Ve);else Xr?(_r=[],kr=Ye(Ve)):(Kr=[],tn=Ye(Ve))}var Ln;if(vn&&!("inside"===Ve.minor.ticks&&"outside"===Ve.ticks||"outside"===Ve.minor.ticks&&"inside"===Ve.ticks)){for(var ra=_r.map(function(Ft){return Ft.value}),Sr=[],un=0;un<Kr.length;un++){var ln=Kr[un],An=ln.value;if(-1===ra.indexOf(An)){for(var Vn=!1,En=0;!Vn&&En<_r.length;En++)1e7+_r[En].value===1e7+An&&(Vn=!0);Vn||Sr.push(ln)}}Kr=Sr}if(hr&&function xe(We,Ve,Rt){for(var _t=0;_t<We.length;_t++){var Kt=We[_t].value,sr=_t,hr=_t+1;_t<We.length-1?(sr=_t,hr=_t+1):_t>0?(sr=_t-1,hr=_t):(sr=_t,hr=_t);var kr,dr=Math.abs(We[hr].value-We[sr].value),Mr=Rt||dr,wr=0;Mr>=a?wr=dr>=a&&dr<=c?dr:m:Rt===p&&Mr>=s?wr=dr>=s&&dr<=b?dr:p:Mr>=x?wr=dr>=x&&dr<=v?dr:A:Rt===E&&Mr>=E?wr=E:Mr>=g?wr=g:Rt===M&&Mr>=M?wr=M:Rt===w&&Mr>=w&&(wr=w),wr>=dr&&(wr=dr,kr=!0);var tn=Kt+wr;if(Ve.rangebreaks&&wr>0){for(var Kr=0,vn=0;vn<84;vn++){var Xr=(vn+.5)/84;Ve.maskBreaks(Kt*(1-Xr)+Xr*tn)!==I&&Kr++}(wr*=Kr/84)||(We[_t].drop=!0),kr&&dr>E&&(wr=dr)}(wr>0||0===_t)&&(We[_t].periodX=Kt+wr/2)}}(_r,Ve,Ve._definedDelta),Ve.rangebreaks){var Hn="y"===Ve._id.charAt(0),Qn=1;"auto"===Ve.tickmode&&(Qn=Ve.tickfont?Ve.tickfont.size:12);var ya=NaN;for(Ln=_r.length-1;Ln>-1;Ln--)if(_r[Ln].drop)_r.splice(Ln,1);else{_r[Ln].value=Bt(_r[Ln].value,Ve);var Ja=Ve.c2p(_r[Ln].value);(Hn?ya>Ja-Qn:ya<Ja+Qn)?_r.splice(Nt?Ln+1:Ln,1):ya=Ja}}Ut(Ve)&&360===Math.abs(or[1]-or[0])&&_r.pop(),Ve._tmax=(_r[_r.length-1]||{}).value,Ve._prevDateHead="",Ve._inCalcTicks=!0;var er,Ue,nt,ge=function(Ft){Ft.text="",Ve._prevDateHead=er};for(_r=_r.concat(Kr),Ln=0;Ln<_r.length;Ln++){var Pt=_r[Ln].value;_r[Ln].minor?tn.push({x:Pt,minor:!0}):(er=Ve._prevDateHead,Ue=J.tickText(Ve,Pt,!1,_r[Ln].simpleLabel),void 0!==(nt=_r[Ln].periodX)&&(Ue.periodX=nt,(nt>Mr||nt<dr)&&(nt>Mr&&(Ue.periodX=Mr),nt<dr&&(Ue.periodX=dr),ge(Ue))),_r[Ln].skipLabel&&ge(Ue),kr.push(Ue))}return kr=kr.concat(tn),Ve._inCalcTicks=!1,hr&&kr.length&&(kr[0].noTick=!0),kr};var De=[2,5,10],He=[1,2,3,6,12],rt=[1,2,5,10,15,30],$e=[1,2,3,7,14],Be=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ze=[-.301,0,.301,.699,1],tt=[15,30,45,90,180];function lt(We,Ve,Rt){return Ve*C.roundUp(We/Ve,Rt)}function ut(We){var Ve=We.dtick;if(We._tickexponent=0,!D(Ve)&&"string"!=typeof Ve&&(Ve=1),("category"===We.type||"multicategory"===We.type)&&(We._tickround=null),"date"===We.type){var Rt=We.r2l(We.tick0),_t=We.l2r(Rt).replace(/(^-|i)/g,""),Kt=_t.length;if("M"===String(Ve).charAt(0))We._tickround=Kt>10||"01-01"!==_t.substr(5)?"d":+Ve.substr(1)%12==0?"y":"m";else if(Ve>=g&&Kt<=10||Ve>=15*g)We._tickround="d";else if(Ve>=n&&Kt<=16||Ve>=w)We._tickround="M";else if(Ve>=S&&Kt<=19||Ve>=n)We._tickround="S";else{var sr=We.l2r(Rt+Ve).replace(/^-/,"").length;We._tickround=Math.max(Kt,sr)-20,We._tickround<0&&(We._tickround=4)}}else if(D(Ve)||"L"===Ve.charAt(0)){var hr=We.range.map(We.r2d||Number);D(Ve)||(Ve=Number(Ve.substr(1))),We._tickround=2-Math.floor(Math.log(Ve)/Math.LN10+.01);var or=Math.max(Math.abs(hr[0]),Math.abs(hr[1])),Nt=Math.floor(Math.log(or)/Math.LN10+.01),dr=void 0===We.minexponent?3:We.minexponent;Math.abs(Nt)>dr&&(We._tickexponent=_e(We.exponentformat)&&!Te(Nt)?3*Math.round((Nt-1)/3):Nt)}else We._tickround=null}function xt(We,Ve,Rt){var _t=We.tickfont||{};return{x:Ve,dx:0,dy:0,text:Rt||"",fontSize:_t.size,font:_t.family,fontColor:_t.color}}J.autoTicks=function(We,Ve,Rt){var _t;function Kt(wr){return Math.pow(wr,Math.floor(Math.log(Ve)/Math.LN10))}if("date"===We.type){We.tick0=C.dateTick0(We.calendar,0);var sr=2*Ve;if(sr>m)Ve/=m,_t=Kt(10),We.dtick="M"+12*lt(Ve,_t,De);else if(sr>A)We.dtick="M"+lt(Ve/=A,1,He);else if(sr>g){if(We.dtick=lt(Ve,g,We._hasDayOfWeekBreaks?[1,2,7,14]:$e),!Rt){var hr=J.getTickFormat(We),or="period"===We.ticklabelmode;or&&(We._rawTick0=We.tick0),We.tick0=/%[uVW]/.test(hr)?C.dateTick0(We.calendar,2):C.dateTick0(We.calendar,1),or&&(We._dowTick0=We.tick0)}}else sr>w?We.dtick=lt(Ve,w,He):sr>n?We.dtick=lt(Ve,n,rt):sr>S?We.dtick=lt(Ve,S,rt):(_t=Kt(10),We.dtick=lt(Ve,_t,De))}else if("log"===We.type){We.tick0=0;var Nt=C.simpleMap(We.range,We.r2l);if(We._isMinor&&(Ve*=1.5),Ve>.7)We.dtick=Math.ceil(Ve);else if(Math.abs(Nt[1]-Nt[0])<1){var dr=1.5*Math.abs((Nt[1]-Nt[0])/Ve);Ve=Math.abs(Math.pow(10,Nt[1])-Math.pow(10,Nt[0]))/dr,_t=Kt(10),We.dtick="L"+lt(Ve,_t,De)}else We.dtick=Ve>.3?"D2":"D1"}else"category"===We.type||"multicategory"===We.type?(We.tick0=0,We.dtick=Math.ceil(Math.max(Ve,1))):Ut(We)?(We.tick0=0,We.dtick=lt(Ve,_t=1,tt)):(We.tick0=0,_t=Kt(10),We.dtick=lt(Ve,_t,De));if(0===We.dtick&&(We.dtick=1),!D(We.dtick)&&"string"!=typeof We.dtick){var Mr=We.dtick;throw We.dtick=1,"ax.dtick error: "+String(Mr)}},J.tickIncrement=function(We,Ve,Rt,_t){var Kt=Rt?-1:1;if(D(Ve))return C.increment(We,Kt*Ve);var sr=Ve.charAt(0),hr=Kt*Number(Ve.substr(1));if("M"===sr)return C.incrementMonth(We,hr,_t);if("L"===sr)return Math.log(Math.pow(10,We)+hr)/Math.LN10;if("D"===sr){var or="D2"===Ve?ze:Be,Nt=We+.01*Kt,dr=C.roundUp(C.mod(Nt,1),or,Rt);return Math.floor(Nt)+Math.log(T.round(Math.pow(10,dr),1))/Math.LN10}throw"unrecognized dtick "+String(Ve)},J.tickFirst=function(We,Ve){var Rt=We.r2l||Number,_t=C.simpleMap(We.range,Rt,void 0,void 0,Ve),Kt=_t[1]<_t[0],sr=Kt?Math.floor:Math.ceil,hr=Z(_t)[0],or=We.dtick,Nt=Rt(We.tick0);if(D(or)){var dr=sr((hr-Nt)/or)*or+Nt;return("category"===We.type||"multicategory"===We.type)&&(dr=C.constrain(dr,0,We._categories.length-1)),dr}var Mr=or.charAt(0),wr=Number(or.substr(1));if("M"===Mr){for(var _r,Kr,vn,kr=0,tn=Nt;kr<10;){if(((_r=J.tickIncrement(tn,or,Kt,We.calendar))-hr)*(tn-hr)<=0)return Kt?Math.min(tn,_r):Math.max(tn,_r);Kr=(hr-(tn+_r)/2)/(_r-tn),vn=Mr+(Math.abs(Math.round(Kr))||1)*wr,tn=J.tickIncrement(tn,vn,Kr<0?!Kt:Kt,We.calendar),kr++}return C.error("tickFirst did not converge",We),tn}if("L"===Mr)return Math.log(sr((Math.pow(10,hr)-Nt)/wr)*wr+Nt)/Math.LN10;if("D"===Mr){var Xr="D2"===or?ze:Be,On=C.roundUp(C.mod(hr,1),Xr,Kt);return Math.floor(hr)+Math.log(T.round(Math.pow(10,On),1))/Math.LN10}throw"unrecognized dtick "+String(or)},J.tickText=function(We,Ve,Rt,_t){var dr,Kt=xt(We,Ve),sr="array"===We.tickmode,hr=Rt||sr,or=We.type,Nt="category"===or?We.d2l_noadd:We.d2l;if(sr&&Array.isArray(We.ticktext)){var Mr=C.simpleMap(We.range,We.r2l),wr=(Math.abs(Mr[1]-Mr[0])-(We._lBreaks||0))/1e4;for(dr=0;dr<We.ticktext.length&&!(Math.abs(Ve-Nt(We.tickvals[dr]))<wr);dr++);if(dr<We.ticktext.length)return Kt.text=String(We.ticktext[dr]),Kt}function kr(vn){return void 0===vn||(Rt?"none"===vn:"all"!==vn&&Ve!=={first:We._tmin,last:We._tmax}[vn])}var tn=Rt?"never":"none"!==We.exponentformat&&kr(We.showexponent)?"hide":"";if("date"===or?function bt(We,Ve,Rt,_t){var Kt=We._tickround,sr=Rt&&We.hoverformat||J.getTickFormat(We);(_t=!sr&&_t)&&(Kt=D(Kt)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Kt]);var or,hr=C.formatDate(Ve.x,sr,Kt,We._dateFormat,We.calendar,We._extraFormat),Nt=hr.indexOf("\n");if(-1!==Nt&&(or=hr.substr(Nt+1),hr=hr.substr(0,Nt)),_t&&(void 0===or||"00:00:00"!==hr&&"00:00"!==hr?8===hr.length&&(hr=hr.replace(/:00$/,"")):(hr=or,or="")),or)if(Rt)"d"===Kt?hr+=", "+or:hr=or+(hr?", "+hr:"");else if(We._inCalcTicks&&We._prevDateHead===or){var dr=qt(We),Mr=We._trueSide||We.side;(!dr&&"top"===Mr||dr&&"bottom"===Mr)&&(hr+="<br> ")}else We._prevDateHead=or,hr+="<br>"+or;Ve.text=hr}(We,Kt,Rt,hr):"log"===or?function Ht(We,Ve,Rt,_t,Kt){var sr=We.dtick,hr=Ve.x,or=We.tickformat,Nt="string"==typeof sr&&sr.charAt(0);if("never"===Kt&&(Kt=""),_t&&"L"!==Nt&&(sr="L3",Nt="L"),or||"L"===Nt)Ve.text=fe(Math.pow(10,hr),We,Kt,_t);else if(D(sr)||"D"===Nt&&C.mod(hr+.01,1)<.1){var dr=Math.round(hr),Mr=Math.abs(dr),wr=We.exponentformat;"power"===wr||_e(wr)&&Te(dr)?(Ve.text=0===dr?1:1===dr?"10":"10<sup>"+(dr>1?"":d)+Mr+"</sup>",Ve.fontSize*=1.25):("e"===wr||"E"===wr)&&Mr>2?Ve.text="1"+wr+(dr>0?"+":d)+Mr:(Ve.text=fe(Math.pow(10,hr),We,"","fakehover"),"D1"===sr&&"y"===We._id.charAt(0)&&(Ve.dy-=Ve.fontSize/6))}else{if("D"!==Nt)throw"unrecognized dtick "+String(sr);Ve.text=String(Math.round(Math.pow(10,C.mod(hr,1)))),Ve.fontSize*=.75}if("D1"===We.dtick){var kr=String(Ve.text).charAt(0);("0"===kr||"1"===kr)&&("y"===We._id.charAt(0)?Ve.dx-=Ve.fontSize/4:(Ve.dy+=Ve.fontSize/2,Ve.dx+=(We.range[1]>We.range[0]?1:-1)*Ve.fontSize*(hr<0?.5:.25)))}}(We,Kt,0,hr,tn):"category"===or?function Je(We,Ve){var Rt=We._categories[Math.round(Ve.x)];void 0===Rt&&(Rt=""),Ve.text=String(Rt)}(We,Kt):"multicategory"===or?function Ce(We,Ve,Rt){var _t=Math.round(Ve.x),Kt=We._categories[_t]||[],sr=void 0===Kt[1]?"":String(Kt[1]),hr=void 0===Kt[0]?"":String(Kt[0]);Rt?Ve.text=hr+" - "+sr:(Ve.text=sr,Ve.text2=hr)}(We,Kt,Rt):Ut(We)?function Re(We,Ve,Rt,_t,Kt){if("radians"!==We.thetaunit||Rt)Ve.text=fe(Ve.x,We,Kt,_t);else{var sr=Ve.x/180;if(0===sr)Ve.text="0";else{var hr=function ke(We){function Ve(or,Nt){return Math.abs(or-Nt)<=1e-6}var Kt=function _t(or){for(var Nt=1;!Ve(Math.round(or*Nt)/Nt,or);)Nt*=10;return Nt}(We),sr=We*Kt,hr=Math.abs(function Rt(or,Nt){return Ve(Nt,0)?or:Rt(Nt,or%Nt)}(sr,Kt));return[Math.round(sr/hr),Math.round(Kt/hr)]}(sr);if(hr[1]>=100)Ve.text=fe(C.deg2rad(Ve.x),We,Kt,_t);else{var or=Ve.x<0;Ve.text=1===hr[1]?1===hr[0]?"\u03c0":hr[0]+"\u03c0":["<sup>",hr[0],"</sup>","\u2044","<sub>",hr[1],"</sub>","\u03c0"].join(""),or&&(Ve.text=d+Ve.text)}}}}(We,Kt,Rt,hr,tn):function Ee(We,Ve,Rt,_t,Kt){"never"===Kt?Kt="":"all"===We.showexponent&&Math.abs(Ve.x/We.dtick)<1e-6&&(Kt="hide"),Ve.text=fe(Ve.x,We,Kt,_t)}(We,Kt,0,hr,tn),_t||(We.tickprefix&&!kr(We.showtickprefix)&&(Kt.text=We.tickprefix+Kt.text),We.ticksuffix&&!kr(We.showticksuffix)&&(Kt.text+=We.ticksuffix)),We.labelalias&&We.labelalias.hasOwnProperty(Kt.text)){var _r=We.labelalias[Kt.text];"string"==typeof _r&&(Kt.text=_r)}if("boundaries"===We.tickson||We.showdividers){var Kr=function(vn){var Xr=We.l2p(vn);return Xr>=0&&Xr<=We._length?vn:null};Kt.xbnd=[Kr(Kt.x-.5),Kr(Kt.x+We.dtick-.5)]}return Kt},J.hoverLabelText=function(We,Ve,Rt){Rt&&(We=C.extendFlat({},We,{hoverformat:Rt}));var _t=Array.isArray(Ve)?Ve[0]:Ve,Kt=Array.isArray(Ve)?Ve[1]:void 0;if(void 0!==Kt&&Kt!==_t)return J.hoverLabelText(We,_t,Rt)+" - "+J.hoverLabelText(We,Kt,Rt);var sr="log"===We.type&&_t<=0,hr=J.tickText(We,We.c2l(sr?-_t:_t),"hover").text;return sr?0===_t?"0":d+hr:hr};var Ne=["f","p","n","\u03bc","m","","k","M","G","T"];function _e(We){return"SI"===We||"B"===We}function Te(We){return We>14||We<-15}function fe(We,Ve,Rt,_t){var Kt=We<0,sr=Ve._tickround,hr=Rt||Ve.exponentformat||"B",or=Ve._tickexponent,Nt=J.getTickFormat(Ve),dr=Ve.separatethousands;if(_t){var Mr={exponentformat:hr,minexponent:Ve.minexponent,dtick:"none"===Ve.showexponent?Ve.dtick:D(We)&&Math.abs(We)||1,range:"none"===Ve.showexponent?Ve.range.map(Ve.r2d):[0,We||1]};ut(Mr),sr=(Number(Mr._tickround)||0)+4,or=Mr._tickexponent,Ve.hoverformat&&(Nt=Ve.hoverformat)}if(Nt)return Ve._numFormat(Nt)(We).replace(/-/g,d);var _r,wr=Math.pow(10,-sr)/2;if("none"===hr&&(or=0),(We=Math.abs(We))<wr)We="0",Kt=!1;else{if(We+=wr,or&&(We*=Math.pow(10,-or),sr+=or),0===sr)We=String(Math.floor(We));else if(sr<0){We=(We=String(Math.round(We))).substr(0,We.length+sr);for(var kr=sr;kr<0;kr++)We+="0"}else{var tn=(We=String(We)).indexOf(".")+1;tn&&(We=We.substr(0,tn+sr).replace(/\.?0+$/,""))}We=C.numSeparate(We,Ve._separators,dr)}return or&&"hide"!==hr&&(_e(hr)&&Te(or)&&(hr="power"),_r=or<0?d+-or:"power"!==hr?"+"+or:String(or),"e"===hr||"E"===hr?We+=hr+_r:"power"===hr?We+="\xd710<sup>"+_r+"</sup>":"B"===hr&&9===or?We+="B":_e(hr)&&(We+=Ne[or/3+5])),Kt?d+We:We}function pe(We,Ve){if(We){var Rt=Object.keys(F).reduce(function(_t,Kt){return-1!==Ve.indexOf(Kt)&&F[Kt].forEach(function(sr){_t[sr]=1}),_t},{});Object.keys(We).forEach(function(_t){Rt[_t]||(1===_t.length?We[_t]=0:delete We[_t])})}}function Xe(We,Ve){for(var Rt=[],_t={},Kt=0;Kt<Ve.length;Kt++){var sr=Ve[Kt];_t[sr.text2]?_t[sr.text2].push(sr.x):_t[sr.text2]=[sr.x]}for(var hr in _t)Rt.push(xt(We,C.interp(_t[hr],.5),hr));return Rt}function Xt(We){return void 0!==We.periodX?We.periodX:We.x}function At(We){return[We.text,We.x,We.axInfo,We.font,We.fontSize,We.fontColor].join("_")}function Qt(We){var Ve=We.title.font.size,Rt=(We.title.text.match(y.BR_TAG_ALL)||[]).length;return We.title.hasOwnProperty("standoff")?Rt?Ve*(X+Rt*ne):Ve*X:Rt?Ve*(Rt+1)*ne:Ve}function pt(We,Ve){var Rt=We.l2p(Ve);return Rt>1&&Rt<We._length-1}function Er(We){var Ve=T.select(We),Rt=Ve.select(".text-math-group");return Rt.empty()?Ve.select("text"):Rt}function pr(We){return We._id+".automargin"}function dt(We){return pr(We)+".mirror"}function it(We){return We._id+".rangeslider"}function St(We,Ve){for(var Rt=0;Rt<Ve.length;Rt++)-1===We.indexOf(Ve[Rt])&&We.push(Ve[Rt])}function Lt(We,Ve,Rt){var hr,or,_t=[],Kt=[],sr=We.layout;for(hr=0;hr<Ve.length;hr++)_t.push(J.getFromId(We,Ve[hr]));for(hr=0;hr<Rt.length;hr++)Kt.push(J.getFromId(We,Rt[hr]));var Nt=Object.keys(i),dr=["anchor","domain","overlaying","position","side","tickangle","editType"],Mr=["linear","log"];for(hr=0;hr<Nt.length;hr++){var wr=Nt[hr],kr=_t[0][wr],tn=Kt[0][wr],_r=!0,Kr=!1,vn=!1;if("_"!==wr.charAt(0)&&"function"!=typeof kr&&-1===dr.indexOf(wr)){for(or=1;or<_t.length&&_r;or++){var Xr=_t[or][wr];"type"===wr&&-1!==Mr.indexOf(kr)&&-1!==Mr.indexOf(Xr)&&kr!==Xr?Kr=!0:Xr!==kr&&(_r=!1)}for(or=1;or<Kt.length&&_r;or++){var On=Kt[or][wr];"type"===wr&&-1!==Mr.indexOf(tn)&&-1!==Mr.indexOf(On)&&tn!==On?vn=!0:Kt[or][wr]!==tn&&(_r=!1)}_r&&(Kr&&(sr[_t[0]._name].type="linear"),vn&&(sr[Kt[0]._name].type="linear"),Ct(sr,wr,_t,Kt,We._fullLayout._dfltTitle))}}for(hr=0;hr<We._fullLayout.annotations.length;hr++){var mn=We._fullLayout.annotations[hr];-1!==Ve.indexOf(mn.xref)&&-1!==Rt.indexOf(mn.yref)&&C.swapAttrs(sr.annotations[hr],["?"])}}function Ct(We,Ve,Rt,_t,Kt){var Nt,sr=C.nestedProperty,hr=sr(We[Rt[0]._name],Ve).get(),or=sr(We[_t[0]._name],Ve).get();for("title"===Ve&&(hr&&hr.text===Kt.x&&(hr.text=Kt.y),or&&or.text===Kt.y&&(or.text=Kt.x)),Nt=0;Nt<Rt.length;Nt++)sr(We,Rt[Nt]._name+"."+Ve).set(or);for(Nt=0;Nt<_t.length;Nt++)sr(We,_t[Nt]._name+"."+Ve).set(hr)}function Ut(We){return"angularaxis"===We._id}function Bt(We,Ve){for(var Rt=Ve._rangebreaks.length,_t=0;_t<Rt;_t++){var Kt=Ve._rangebreaks[_t];if(We>=Kt.min&&We<Kt.max)return Kt.max}return We}function qt(We){return-1!==(We.ticklabelposition||"").indexOf("inside")}function cr(We,Ve){qt(We._anchorAxis||{})&&We._hideCounterAxisInsideTickLabels&&We._hideCounterAxisInsideTickLabels(Ve)}function lr(We,Ve,Rt,_t){var sr,Kt="free"===We.anchor||void 0!==We.overlaying&&!1!==We.overlaying?We.overlaying:We._id;sr=_t?"right"===We.side?Ve:-Ve:Ve,Kt in Rt||(Rt[Kt]={}),We.side in Rt[Kt]||(Rt[Kt][We.side]=0),Rt[Kt][We.side]+=sr}J.getTickFormat=function(We){var Ve,hr,or,Nt,dr,wr,kr,tn;function Rt(Nt){return"string"!=typeof Nt?Nt:Number(Nt.replace("M",""))*A}function _t(Nt,dr){var Mr=["L","D"];if(typeof Nt==typeof dr){if("number"==typeof Nt)return Nt-dr;var wr=Mr.indexOf(Nt.charAt(0)),kr=Mr.indexOf(dr.charAt(0));return wr===kr?Number(Nt.replace(/(L|D)/g,""))-Number(dr.replace(/(L|D)/g,"")):wr-kr}return"number"==typeof Nt?1:-1}function sr(Nt,dr){var Mr=null===dr[0],wr=null===dr[1],kr=_t(Nt,dr[0])>=0,tn=_t(Nt,dr[1])<=0;return(Mr||kr)&&(wr||tn)}if(We.tickformatstops&&We.tickformatstops.length>0)switch(We.type){case"date":case"linear":for(Ve=0;Ve<We.tickformatstops.length;Ve++)if((or=We.tickformatstops[Ve]).enabled&&(Nt=We.dtick,wr=void 0,void 0,void 0,wr=Rt||function(_r){return _r},tn=(dr=or.dtickrange)[1],(!(kr=dr[0])&&"number"!=typeof kr||wr(kr)<=wr(Nt))&&(!tn&&"number"!=typeof tn||wr(tn)>=wr(Nt)))){hr=or;break}break;case"log":for(Ve=0;Ve<We.tickformatstops.length;Ve++)if((or=We.tickformatstops[Ve]).enabled&&sr(We.dtick,or.dtickrange)){hr=or;break}}return hr?hr.value:We.tickformat},J.getSubplots=function(We,Ve){var Rt=We._fullLayout._subplots,_t=Rt.cartesian.concat(Rt.gl2d||[]),Kt=Ve?J.findSubplotsWithAxis(_t,Ve):_t;return Kt.sort(function(sr,hr){var or=sr.substr(1).split("y"),Nt=hr.substr(1).split("y");return or[0]===Nt[0]?+or[1]-+Nt[1]:+or[0]-+Nt[0]}),Kt},J.findSubplotsWithAxis=function(We,Ve){for(var Rt=new RegExp("x"===Ve._id.charAt(0)?"^"+Ve._id+"y":Ve._id+"$"),_t=[],Kt=0;Kt<We.length;Kt++){var sr=We[Kt];Rt.test(sr)&&_t.push(sr)}return _t},J.makeClipPaths=function(We){var Ve=We._fullLayout;if(!Ve._hasOnlyLargeSploms){var or,Nt,Rt={_offset:0,_length:Ve.width,_id:""},_t={_offset:0,_length:Ve.height,_id:""},Kt=J.list(We,"x",!0),sr=J.list(We,"y",!0),hr=[];for(or=0;or<Kt.length;or++)for(hr.push({x:Kt[or],y:_t}),Nt=0;Nt<sr.length;Nt++)0===or&&hr.push({x:Rt,y:sr[Nt]}),hr.push({x:Kt[or],y:sr[Nt]});var dr=Ve._clips.selectAll(".axesclip").data(hr,function(Mr){return Mr.x._id+Mr.y._id});dr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Mr){return"clip"+Ve._uid+Mr.x._id+Mr.y._id}).append("rect"),dr.exit().remove(),dr.each(function(Mr){T.select(this).select("rect").attr({x:Mr.x._offset||0,y:Mr.y._offset||0,width:Mr.x._length||1,height:Mr.y._length||1})})}},J.draw=function(We,Ve,Rt){var _t=We._fullLayout;"redraw"===Ve&&_t._paper.selectAll("g.subplot").each(function(Nt){var Mr=_t._plots[Nt[0]];if(Mr){var wr=Mr.xaxis,kr=Mr.yaxis;Mr.xaxislayer.selectAll("."+wr._id+"tick").remove(),Mr.yaxislayer.selectAll("."+kr._id+"tick").remove(),Mr.xaxislayer.selectAll("."+wr._id+"tick2").remove(),Mr.yaxislayer.selectAll("."+kr._id+"tick2").remove(),Mr.xaxislayer.selectAll("."+wr._id+"divider").remove(),Mr.yaxislayer.selectAll("."+kr._id+"divider").remove(),Mr.minorGridlayer&&Mr.minorGridlayer.selectAll("path").remove(),Mr.gridlayer&&Mr.gridlayer.selectAll("path").remove(),Mr.zerolinelayer&&Mr.zerolinelayer.selectAll("path").remove(),_t._infolayer.select(".g-"+wr._id+"title").remove(),_t._infolayer.select(".g-"+kr._id+"title").remove()}});var Kt=Ve&&"redraw"!==Ve?Ve:J.listIds(We),hr=J.list(We).filter(function(Nt){return Nt.autoshift}).map(function(Nt){return Nt.overlaying});Kt.map(function(Nt){var dr=J.getFromId(We,Nt);if("sync"===dr.tickmode&&dr.overlaying){var Mr=Kt.findIndex(function(wr){return wr===dr.overlaying});Mr>=0&&Kt.unshift(Kt.splice(Mr,1).shift())}});var or={false:{left:0,right:0}};return C.syncOrAsync(Kt.map(function(Nt){return function(){if(Nt){var dr=J.getFromId(We,Nt);Rt||(Rt={}),Rt.axShifts=or,Rt.overlayingShiftedAx=hr;var Mr=J.drawOne(We,dr,Rt);return dr._shiftPusher&&lr(dr,dr._fullDepth||0,or,!0),dr._r=dr.range.slice(),dr._rl=C.simpleMap(dr._r,dr.r2l),Mr}}}))},J.drawOne=function(We,Ve,Rt){var sr,hr,or,_t=(Rt=Rt||{}).axShifts||{},Kt=Rt.overlayingShiftedAx||[];Ve.setScale();var Nt=We._fullLayout,dr=Ve._id,Mr=dr.charAt(0),wr=J.counterLetter(dr),kr=Nt._plots[Ve._mainSubplot];if(kr){if(Ve._shiftPusher=Ve.autoshift||-1!==Kt.indexOf(Ve._id)||-1!==Kt.indexOf(Ve.overlaying),Ve._shiftPusher&"free"===Ve.anchor){var tn=Ve.linewidth/2||0;"inside"===Ve.ticks&&(tn+=Ve.ticklen),lr(Ve,tn,_t,!0),lr(Ve,Ve.shift||0,_t,!1)}(!0!==Rt.skipTitle||void 0===Ve._shift)&&(Ve._shift=function br(We,Ve){return We.autoshift?Ve[We.overlaying][We.side]:We.shift||0}(Ve,_t));var _r=kr[Mr+"axislayer"],Kr=Ve._mainLinePosition,vn=Kr+=Ve._shift,Xr=Ve._mainMirrorPosition,On=Ve._vals=J.calcTicks(Ve),mn=[Ve.mirror,vn,Xr].join("_");for(sr=0;sr<On.length;sr++)On[sr].axInfo=mn;Ve._selections={},Ve._tickAngles&&(Ve._prevTickAngles=Ve._tickAngles),Ve._tickAngles={},Ve._depth=null;var xr={};if(Ve.visible){var fn,Tn,Zr=J.makeTransTickFn(Ve),Hr=J.makeTransTickLabelFn(Ve),Mn="inside"===Ve.ticks,Pn="outside"===Ve.ticks;if("boundaries"===Ve.tickson){var Fn=function Fe(We,Ve){var _t,Rt=[],Kt=function(sr,hr){var or=sr.xbnd[hr];null!==or&&Rt.push(C.extendFlat({},sr,{x:or}))};if(Ve.length){for(_t=0;_t<Ve.length;_t++)Kt(Ve[_t],0);Kt(Ve[_t-1],1)}return Rt}(0,On);Tn=J.clipEnds(Ve,Fn),fn=Mn?Tn:Fn}else Tn=J.clipEnds(Ve,On),fn=Mn&&"period"!==Ve.ticklabelmode?Tn:On;var la=Ve._gridVals=Tn,Xn=function at(We,Ve){var _t,Kt,Rt=[],sr=Ve.length&&Ve[Ve.length-1].x<Ve[0].x,hr=function(Nt,dr){var Mr=Nt.xbnd[dr];null!==Mr&&Rt.push(C.extendFlat({},Nt,{x:Mr}))};if(We.showdividers&&Ve.length){for(_t=0;_t<Ve.length;_t++){var or=Ve[_t];or.text2!==Kt&&hr(or,sr?1:0),Kt=or.text2}hr(Ve[_t-1],sr?0:1)}return Rt}(Ve,On);if(!Nt._hasOnlyLargeSploms){var na=Ve._subplotsWith,Yn={};for(sr=0;sr<na.length;sr++){var ra=(or=Nt._plots[hr=na[sr]])[wr+"axis"],Sr=ra._mainAxis._id;if(!Yn[Sr]){Yn[Sr]=1;var un="x"===Mr?"M0,"+ra._offset+"v"+ra._length:"M"+ra._offset+",0h"+ra._length;J.drawGrid(We,Ve,{vals:la,counterAxis:ra,layer:or.gridlayer.select("."+dr),minorLayer:or.minorGridlayer.select("."+dr),path:un,transFn:Zr}),J.drawZeroLine(We,Ve,{counterAxis:ra,layer:or.zerolinelayer,path:un,transFn:Zr})}}}var ln,An=J.getTickSigns(Ve),Vn=J.getTickSigns(Ve,"minor");if(Ve.ticks||Ve.minor&&Ve.minor.ticks){var Hn,Qn,ya,Ja,En=J.makeTickPath(Ve,vn,An[2]),Ln=J.makeTickPath(Ve,vn,Vn[2],{minor:!0});if(Ve._anchorAxis&&Ve.mirror&&!0!==Ve.mirror?(Hn=J.makeTickPath(Ve,Xr,An[3]),Qn=J.makeTickPath(Ve,Xr,Vn[3],{minor:!0}),ya=En+Hn,Ja=Ln+Qn):(Hn="",Qn="",ya=En,Ja=Ln),Ve.showdividers&&Pn&&"boundaries"===Ve.tickson){var er={};for(sr=0;sr<Xn.length;sr++)er[Xn[sr].x]=1;ln=function(Jt){return er[Jt.x]?Hn:ya}}else ln=function(Jt){return Jt.minor?Ja:ya}}if(J.drawTicks(We,Ve,{vals:fn,layer:_r,path:ln,transFn:Zr}),"allticks"===Ve.mirror){var ge=Object.keys(Ve._linepositions||{});for(sr=0;sr<ge.length;sr++){or=Nt._plots[hr=ge[sr]];var Ue=Ve._linepositions[hr]||[],ct=Ue[1],Pt=Ue[2],Ft=J.makeTickPath(Ve,Ue[0],Pt?An[0]:Vn[0],{minor:Pt})+J.makeTickPath(Ve,ct,Pt?An[1]:Vn[1],{minor:Pt});J.drawTicks(We,Ve,{vals:fn,layer:or[Mr+"axislayer"],path:Ft,transFn:Zr})}}var Yt=[];if(Yt.push(function(){return J.drawLabels(We,Ve,{vals:On,layer:_r,plotinfo:or,transFn:Hr,labelFns:J.makeLabelFns(Ve,vn)})}),"multicategory"===Ve.type){var Vt={x:2,y:10}[Mr];Yt.push(function(){var Jt={x:"height",y:"width"}[Mr],Dr=Pr()[Jt]+Vt+(Ve._tickAngles[dr+"tick"]?Ve.tickfont.size*ne:0);return J.drawLabels(We,Ve,{vals:Xe(Ve,On),layer:_r,cls:dr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Zr,labelFns:J.makeLabelFns(Ve,vn+Dr*An[4])})}),Yt.push(function(){return Ve._depth=An[4]*(Pr("tick2")[Ve.side]-vn),function zt(We,Ve,Rt){var _t=Ve._id+"divider",Kt=Rt.vals,sr=Rt.layer.selectAll("path."+_t).data(Kt,At);sr.exit().remove(),sr.enter().insert("path",":first-child").classed(_t,1).classed("crisp",1).call(r.stroke,Ve.dividercolor).style("stroke-width",l.crispRound(We,Ve.dividerwidth,1)+"px"),sr.attr("transform",Rt.transFn).attr("d",Rt.path)}(We,Ve,{vals:Xn,layer:_r,path:J.makeTickPath(Ve,vn,An[4],{len:Ve._depth}),transFn:Zr})})}else Ve.title.hasOwnProperty("standoff")&&Yt.push(function(){Ve._depth=An[4]*(Pr()[Ve.side]-vn)});var Ot=P.getComponentMethod("rangeslider","isVisible")(Ve);return!Rt.skipTitle&&!(Ot&&"bottom"===Ve.side)&&Yt.push(function(){return function Rr(We,Ve){var hr,Rt=We._fullLayout,_t=Ve._id,Kt=_t.charAt(0),sr=Ve.title.font.size;if(Ve.title.hasOwnProperty("standoff"))hr=Ve._depth+Ve.title.standoff+Qt(Ve);else{var or=qt(Ve);if("multicategory"===Ve.type)hr=Ve._depth;else{var Nt=1.5*sr;or&&(Nt=.5*sr,"outside"===Ve.ticks&&(Nt+=Ve.ticklen)),hr=10+Nt+(Ve.linewidth?Ve.linewidth-1:0)}or||(hr+="x"===Kt?"top"===Ve.side?sr*(Ve.showticklabels?1:0):sr*(Ve.showticklabels?1.5:.5):"right"===Ve.side?sr*(Ve.showticklabels?1:.5):sr*(Ve.showticklabels?.5:0))}var Mr,wr,kr,tn,dr=J.getPxPosition(We,Ve);if("x"===Kt?(wr=Ve._offset+Ve._length/2,kr="top"===Ve.side?dr-hr:dr+hr):(kr=Ve._offset+Ve._length/2,wr="right"===Ve.side?dr+hr:dr-hr,Mr={rotate:"-90",offset:0}),"multicategory"!==Ve.type){var _r=Ve._selections[Ve._id+"tick"];if(tn={selection:_r,side:Ve.side},_r&&_r.node()&&_r.node().parentNode){var Kr=l.getTranslate(_r.node().parentNode);tn.offsetLeft=Kr.x,tn.offsetTop=Kr.y}Ve.title.hasOwnProperty("standoff")&&(tn.pad=0)}return Ve._titleStandoff=hr,t.draw(We,_t+"title",{propContainer:Ve,propName:Ve._name+".title.text",placeholder:Rt._dfltTitle[Kt],avoid:tn,transform:Mr,attributes:{x:wr,y:kr,"text-anchor":"middle"}})}(We,Ve)}),Yt.push(function(){var zr,bn,In,Bn,Jt=Ve.side.charAt(0),Dr=ie[Ve.side].charAt(0),Gr=J.getPxPosition(We,Ve),Yr=Pn?Ve.ticklen:0;(Ve.automargin||Ot||Ve._shiftPusher)&&("multicategory"===Ve.type?zr=Pr("tick2"):(zr=Pr(),"x"===Mr&&"b"===Jt&&(Ve._depth=Math.max(zr.width>0?zr.bottom-Gr:0,Yr))));var ea=0,Kn=0;if(Ve._shiftPusher&&(ea=Math.max(Yr,zr.height>0?"l"===Jt?Gr-zr.left:zr.right-Gr:0),Ve.title.text!==Nt._dfltTitle[Mr]&&(Kn=(Ve._titleStandoff||0)+(Ve._titleScoot||0),"l"===Jt&&(Kn+=Qt(Ve))),Ve._fullDepth=Math.max(ea,Kn)),Ve.automargin){bn={x:0,y:0,r:0,l:0,t:0,b:0};var ha=[0,1],Di="number"==typeof Ve._shift?Ve._shift:0;if("x"===Mr){if("b"===Jt?bn[Jt]=Ve._depth:(bn[Jt]=Ve._depth=Math.max(zr.width>0?Gr-zr.top:0,Yr),ha.reverse()),zr.width>0){var $a=zr.right-(Ve._offset+Ve._length);$a>0&&(bn.xr=1,bn.r=$a);var eo=Ve._offset-zr.left;eo>0&&(bn.xl=0,bn.l=eo)}}else if("l"===Jt?(Ve._depth=Math.max(zr.height>0?Gr-zr.left:0,Yr),bn[Jt]=Ve._depth-Di):(Ve._depth=Math.max(zr.height>0?zr.right-Gr:0,Yr),bn[Jt]=Ve._depth+Di,ha.reverse()),zr.height>0){var ti=zr.bottom-(Ve._offset+Ve._length);ti>0&&(bn.yb=0,bn.b=ti);var Fi=Ve._offset-zr.top;Fi>0&&(bn.yt=1,bn.t=Fi)}bn[wr]="free"===Ve.anchor?Ve.position:Ve._anchorAxis.domain[ha[0]],Ve.title.text!==Nt._dfltTitle[Mr]&&(bn[Jt]+=Qt(Ve)+(Ve.title.standoff||0)),Ve.mirror&&"free"!==Ve.anchor&&((In={x:0,y:0,r:0,l:0,t:0,b:0})[Dr]=Ve.linewidth,Ve.mirror&&!0!==Ve.mirror&&(In[Dr]+=Yr),!0===Ve.mirror||"ticks"===Ve.mirror?In[wr]=Ve._anchorAxis.domain[ha[1]]:("all"===Ve.mirror||"allticks"===Ve.mirror)&&(In[wr]=[Ve._counterDomainMin,Ve._counterDomainMax][ha[1]]))}Ot&&(Bn=P.getComponentMethod("rangeslider","autoMarginOpts")(We,Ve)),"string"==typeof Ve.automargin&&(pe(bn,Ve.automargin),pe(In,Ve.automargin)),o.autoMargin(We,pr(Ve),bn),o.autoMargin(We,dt(Ve),In),o.autoMargin(We,it(Ve),Bn)}),C.syncOrAsync(Yt)}}function Pr(Jt){var Dr=dr+(Jt||"tick");return xr[Dr]||(xr[Dr]=function ft(We,Ve){var Rt,_t,Kt,sr;return We._selections[Ve].size()?(Rt=1/0,_t=-1/0,Kt=1/0,sr=-1/0,We._selections[Ve].each(function(){var hr=Er(this),or=l.bBox(hr.node().parentNode);Rt=Math.min(Rt,or.top),_t=Math.max(_t,or.bottom),Kt=Math.min(Kt,or.left),sr=Math.max(sr,or.right)})):(Rt=0,_t=0,Kt=0,sr=0),{top:Rt,bottom:_t,left:Kt,right:sr,height:_t-Rt,width:sr-Kt}}(Ve,Dr)),xr[Dr]}},J.getTickSigns=function(We,Ve){var Rt=We._id.charAt(0),Kt=We.side==={x:"top",y:"right"}[Rt]?1:-1,sr=[-1,1,Kt,-Kt];return"inside"!==(Ve?(We.minor||{}).ticks:We.ticks)==("x"===Rt)&&(sr=sr.map(function(or){return-or})),We.side&&sr.push({l:-1,t:-1,r:1,b:1}[We.side.charAt(0)]),sr},J.makeTransTickFn=function(We){return"x"===We._id.charAt(0)?function(Ve){return h(We._offset+We.l2p(Ve.x),0)}:function(Ve){return h(0,We._offset+We.l2p(Ve.x))}},J.makeTransTickLabelFn=function(We){var Ve=function rr(We){var Ve=We.ticklabelposition||"",Rt=function(tn){return-1!==Ve.indexOf(tn)},_t=Rt("top"),Kt=Rt("left"),sr=Rt("right"),hr=Rt("bottom"),or=Rt("inside"),Nt=hr||Kt||_t||sr;if(!Nt&&!or)return[0,0];var dr=We.side,Mr=Nt?(We.tickwidth||0)/2:0,wr=3,kr=We.tickfont?We.tickfont.size:12;return(hr||_t)&&(Mr+=kr*X,wr+=(We.linewidth||0)/2),(Kt||sr)&&(Mr+=(We.linewidth||0)/2,wr+=3),or&&"top"===dr&&(wr-=kr*(1-X)),(Kt||_t)&&(Mr=-Mr),("bottom"===dr||"right"===dr)&&(wr=-wr),[Nt?Mr:0,or?wr:0]}(We),Rt=Ve[0],_t=Ve[1];return"x"===We._id.charAt(0)?function(Kt){return h(Rt+We._offset+We.l2p(Xt(Kt)),_t)}:function(Kt){return h(_t,Rt+We._offset+We.l2p(Xt(Kt)))}},J.makeTickPath=function(We,Ve,Rt,_t){_t||(_t={});var Kt=_t.minor;if(Kt&&!We.minor)return"";var sr=void 0!==_t.len?_t.len:Kt?We.minor.ticklen:We.ticklen,hr=We._id.charAt(0),or=(We.linewidth||1)/2;return"x"===hr?"M0,"+(Ve+or*Rt)+"v"+sr*Rt:"M"+(Ve+or*Rt)+",0h"+sr*Rt},J.makeLabelFns=function(We,Ve,Rt){var _t=We.ticklabelposition||"",Kt=function(Fn){return-1!==_t.indexOf(Fn)},sr=Kt("top"),hr=Kt("left"),or=Kt("right"),dr=Kt("bottom")||hr||sr||or,Mr=Kt("inside"),wr="inside"===_t&&"inside"===We.ticks||!Mr&&"outside"===We.ticks&&"boundaries"!==We.tickson,kr=0,tn=0,_r=wr?We.ticklen:0;if(Mr?_r*=-1:dr&&(_r=0),wr&&(kr+=_r,Rt)){var Kr=C.deg2rad(Rt);kr=_r*Math.cos(Kr)+1,tn=_r*Math.sin(Kr)}We.showticklabels&&(wr||We.showline)&&(kr+=.2*We.tickfont.size);var Xr,On,mn,xr,Tn,vn={labelStandoff:kr+=(We.linewidth||1)/2*(Mr?-1:1),labelShift:tn},Pr=0,Zr=We.side,Hr=We._id.charAt(0),fn=We.tickangle;if("x"===Hr)xr=(Tn=!Mr&&"bottom"===Zr||Mr&&"top"===Zr)?1:-1,Mr&&(xr*=-1),Xr=tn*xr,On=Ve+kr*xr,mn=Tn?1:-.2,90===Math.abs(fn)&&(Mr?mn+=H:mn=-90===fn&&"bottom"===Zr?X:90===fn&&"top"===Zr?H:.5,Pr=H/2*(fn/90)),vn.xFn=function(Fn){return Fn.dx+Xr+Pr*Fn.fontSize},vn.yFn=function(Fn){return Fn.dy+On+Fn.fontSize*mn},vn.anchorFn=function(Fn,la){if(dr){if(hr)return"end";if(or)return"start"}return D(la)&&0!==la&&180!==la?la*xr<0!==Mr?"end":"start":"middle"},vn.heightFn=function(Fn,la,Xn){return la<-60||la>60?-.5*Xn:"top"===We.side!==Mr?-Xn:0};else if("y"===Hr){if(xr=(Tn=!Mr&&"left"===Zr||Mr&&"right"===Zr)?1:-1,Mr&&(xr*=-1),Xr=kr,On=tn*xr,mn=0,!Mr&&90===Math.abs(fn)&&(mn=-90===fn&&"left"===Zr||90===fn&&"right"===Zr?X:.5),Mr){var Mn=D(fn)?+fn:0;if(0!==Mn){var Pn=C.deg2rad(Mn);Pr=Math.abs(Math.sin(Pn))*X*xr,mn=0}}vn.xFn=function(Fn){return Fn.dx+Ve-(Xr+Fn.fontSize*mn)*xr+Pr*Fn.fontSize},vn.yFn=function(Fn){return Fn.dy+On+Fn.fontSize*H},vn.anchorFn=function(Fn,la){return D(la)&&90===Math.abs(la)?"middle":Tn?"end":"start"},vn.heightFn=function(Fn,la,Xn){return"right"===We.side&&(la*=-1),la<-30?-Xn:la<30?-.5*Xn:0}}return vn},J.drawTicks=function(We,Ve,Rt){Rt=Rt||{};var _t=Ve._id+"tick",Kt=[].concat(Ve.minor&&Ve.minor.ticks?Rt.vals.filter(function(hr){return hr.minor&&!hr.noTick}):[]).concat(Ve.ticks?Rt.vals.filter(function(hr){return!hr.minor&&!hr.noTick}):[]),sr=Rt.layer.selectAll("path."+_t).data(Kt,At);sr.exit().remove(),sr.enter().append("path").classed(_t,1).classed("ticks",1).classed("crisp",!1!==Rt.crisp).each(function(hr){return r.stroke(T.select(this),hr.minor?Ve.minor.tickcolor:Ve.tickcolor)}).style("stroke-width",function(hr){return l.crispRound(We,hr.minor?Ve.minor.tickwidth:Ve.tickwidth,1)+"px"}).attr("d",Rt.path).style("display",null),cr(Ve,[z]),sr.attr("transform",Rt.transFn)},J.drawGrid=function(We,Ve,Rt){if(Rt=Rt||{},"sync"!==Ve.tickmode){var _t=Ve._id+"grid",Kt=Ve.minor&&Ve.minor.showgrid,sr=Kt?Rt.vals.filter(function(Xr){return Xr.minor}):[],hr=Ve.showgrid?Rt.vals.filter(function(Xr){return!Xr.minor}):[],or=Rt.counterAxis;if(or&&J.shouldShowZeroLine(We,Ve,or))for(var Nt="array"===Ve.tickmode,dr=0;dr<hr.length;dr++){var Mr=hr[dr].x;if(Nt?!Mr:Math.abs(Mr)<Ve.dtick/100){if(hr=hr.slice(0,dr).concat(hr.slice(dr+1)),!Nt)break;dr--}}Ve._gw=l.crispRound(We,Ve.gridwidth,1);for(var wr=Kt?l.crispRound(We,Ve.minor.gridwidth,1):0,kr=Rt.layer,tn=Rt.minorLayer,_r=1;_r>=0;_r--){var Kr=_r?kr:tn;if(Kr){var vn=Kr.selectAll("path."+_t).data(_r?hr:sr,At);vn.exit().remove(),vn.enter().append("path").classed(_t,1).classed("crisp",!1!==Rt.crisp),vn.attr("transform",Rt.transFn).attr("d",Rt.path).each(function(Xr){return r.stroke(T.select(this),Xr.minor?Ve.minor.gridcolor:Ve.gridcolor||"#ddd")}).style("stroke-dasharray",function(Xr){return l.dashStyle(Xr.minor?Ve.minor.griddash:Ve.griddash,Xr.minor?Ve.minor.gridwidth:Ve.gridwidth)}).style("stroke-width",function(Xr){return(Xr.minor?wr:Ve._gw)+"px"}).style("display",null),"function"==typeof Rt.path&&vn.attr("d",Rt.path)}}cr(Ve,[B,k])}},J.drawZeroLine=function(We,Ve,Rt){var _t=Ve._id+"zl",Kt=J.shouldShowZeroLine(We,Ve,(Rt=Rt||Rt).counterAxis),sr=Rt.layer.selectAll("path."+_t).data(Kt?[{x:0,id:Ve._id}]:[]);sr.exit().remove(),sr.enter().append("path").classed(_t,1).classed("zl",1).classed("crisp",!1!==Rt.crisp).each(function(){Rt.layer.selectAll("path").sort(function(hr,or){return V(hr.id,or.id)})}),sr.attr("transform",Rt.transFn).attr("d",Rt.path).call(r.stroke,Ve.zerolinecolor||r.defaultLine).style("stroke-width",l.crispRound(We,Ve.zerolinewidth,Ve._gw||1)+"px").style("display",null),cr(Ve,[L])},J.drawLabels=function(We,Ve,Rt){Rt=Rt||{};var _t=We._fullLayout,Kt=Ve._id,sr=Kt.charAt(0),hr=Rt.cls||Kt+"tick",or=Rt.vals.filter(function(Xn){return Xn.text}),Nt=Rt.labelFns,dr=Rt.secondary?0:Ve.tickangle,Mr=(Ve._prevTickAngles||{})[hr],wr=Rt.layer.selectAll("g."+hr).data(Ve.showticklabels?or:[],At),kr=[];function tn(Xn,na){Xn.each(function(Yn){var ra=T.select(this),Sr=ra.select(".text-math-group"),un=Nt.anchorFn(Yn,na),ln=Rt.transFn.call(ra.node(),Yn)+(D(na)&&0!=+na?" rotate("+na+","+Nt.xFn(Yn)+","+(Nt.yFn(Yn)-Yn.fontSize/2)+")":""),An=y.lineCount(ra),Vn=ne*Yn.fontSize,En=Nt.heightFn(Yn,D(na)?+na:0,(An-1)*Vn);if(En&&(ln+=h(0,En)),Sr.empty()){var Ln=ra.select("text");Ln.attr({transform:ln,"text-anchor":un}),Ln.style("opacity",1),Ve._adjustTickLabelsOverflow&&Ve._adjustTickLabelsOverflow()}else{var Hn=l.bBox(Sr.node()).width;Sr.attr("transform",ln+h(Hn*{end:-.5,start:.5}[un],0))}})}wr.enter().append("g").classed(hr,1).append("text").attr("text-anchor","middle").each(function(Xn){var na=T.select(this),Yn=We._promises.length;na.call(y.positionText,Nt.xFn(Xn),Nt.yFn(Xn)).call(l.font,Xn.font,Xn.fontSize,Xn.fontColor).text(Xn.text).call(y.convertToTspans,We),We._promises[Yn]?kr.push(We._promises.pop().then(function(){tn(na,dr)})):tn(na,dr)}),cr(Ve,[O]),wr.exit().remove(),Rt.repositionOnUpdate&&wr.each(function(Xn){T.select(this).select("text").call(y.positionText,Nt.xFn(Xn),Nt.yFn(Xn))}),Ve._adjustTickLabelsOverflow=function(){var Xn=Ve.ticklabeloverflow;if(Xn&&"allow"!==Xn){var na=-1!==Xn.indexOf("hide"),Yn="x"===Ve._id.charAt(0),ra=0,Sr=Yn?We._fullLayout.width:We._fullLayout.height;if(-1!==Xn.indexOf("domain")){var un=C.simpleMap(Ve.range,Ve.r2l);ra=Ve.l2p(un[0])+Ve._offset,Sr=Ve.l2p(un[1])+Ve._offset}var ln=Math.min(ra,Sr),An=Math.max(ra,Sr),Vn=Ve.side,En=1/0,Ln=-1/0;for(var Hn in wr.each(function(Ja){var er=T.select(this);if(er.select(".text-math-group").empty()){var Ue=l.bBox(er.node()),nt=0;Yn?(Ue.right>An||Ue.left<ln)&&(nt=1):(Ue.bottom>An||Ue.top+(Ve.tickangle?0:Ja.fontSize/4)<ln)&&(nt=1);var ct=er.select("text");nt?na&&ct.style("opacity",0):(ct.style("opacity",1),En="bottom"===Vn||"right"===Vn?Math.min(En,Yn?Ue.top:Ue.left):-1/0,Ln="top"===Vn||"left"===Vn?Math.max(Ln,Yn?Ue.bottom:Ue.right):1/0)}}),_t._plots){var Qn=_t._plots[Hn];if(Ve._id===Qn.xaxis._id||Ve._id===Qn.yaxis._id){var ya=Yn?Qn.yaxis:Qn.xaxis;ya&&(ya["_visibleLabelMin_"+Ve._id]=En,ya["_visibleLabelMax_"+Ve._id]=Ln)}}}},Ve._hideCounterAxisInsideTickLabels=function(Xn){var na="x"===Ve._id.charAt(0),Yn=[];for(var ra in _t._plots){var Sr=_t._plots[ra];Ve._id!==Sr.xaxis._id&&Ve._id!==Sr.yaxis._id||Yn.push(na?Sr.yaxis:Sr.xaxis)}Yn.forEach(function(un,ln){un&&qt(un)&&(Xn||[L,k,B,z,O]).forEach(function(An){var Vn="tick"===An.K&&"text"===An.L&&"period"===Ve.ticklabelmode,En=_t._plots[Ve._mainSubplot];(An.K===L.K?En.zerolinelayer.selectAll("."+Ve._id+"zl"):An.K===k.K?En.minorGridlayer.selectAll("."+Ve._id):An.K===B.K?En.gridlayer.selectAll("."+Ve._id):En[Ve._id.charAt(0)+"axislayer"]).each(function(){var Hn=T.select(this);An.L&&(Hn=Hn.selectAll(An.L)),Hn.each(function(Qn){var ya=Ve.l2p(Vn?Xt(Qn):Qn.x)+Ve._offset,Ja=T.select(this);ya<Ve["_visibleLabelMax_"+un._id]&&ya>Ve["_visibleLabelMin_"+un._id]?Ja.style("display","none"):"tick"===An.K&&!ln&&Ja.style("display",null)})})})})},tn(wr,Mr+1?Mr:dr);var Kr=null;Ve._selections&&(Ve._selections[hr]=wr);var Xr=[function _r(){return kr.length&&Promise.all(kr)}];Ve.automargin&&_t._redrawFromAutoMarginCount&&90===Mr?(Kr=90,Xr.push(function(){tn(wr,Mr)})):Xr.push(function vn(){if(tn(wr,dr),or.length&&"x"===sr&&!D(dr)&&("log"!==Ve.type||"D"!==String(Ve.dtick).charAt(0))){Kr=0;var Yn,Xn=0,na=[];if(wr.each(function(Ue){Xn=Math.max(Xn,Ue.fontSize);var nt=Ve.l2p(Ue.x),ct=Er(this),Pt=l.bBox(ct.node());na.push({top:0,bottom:10,height:10,left:nt-Pt.width/2,right:nt+Pt.width/2+2,width:Pt.width+2})}),"boundaries"!==Ve.tickson&&!Ve.showdividers||Rt.secondary){var ln=or.length,An=Math.abs((or[ln-1].x-or[0].x)*Ve._m)/(ln-1),Vn=Ve.ticklabelposition||"",En=function(Ue){return-1!==Vn.indexOf(Ue)},Ln=En("top"),Hn=En("left"),Qn=En("right"),er=En("bottom")||Hn||Ln||Qn?(Ve.tickwidth||0)+6:0,ge=An<2.5*Xn||"multicategory"===Ve.type||"realaxis"===Ve._name;for(Yn=0;Yn<na.length-1;Yn++)if(C.bBoxIntersect(na[Yn],na[Yn+1],er)){Kr=ge?90:30;break}}else{var ra=2;for(Ve.ticks&&(ra+=Ve.tickwidth/2),Yn=0;Yn<na.length;Yn++){var Sr=or[Yn].xbnd,un=na[Yn];if(null!==Sr[0]&&un.left-Ve.l2p(Sr[0])<ra||null!==Sr[1]&&Ve.l2p(Sr[1])-un.right<ra){Kr=90;break}}}Kr&&tn(wr,Kr)}}),Ve._tickAngles&&Xr.push(function(){Ve._tickAngles[hr]=null===Kr?D(dr)?dr:0:Kr});var On=function(){var Xn=0,na=0;return wr.each(function(Yn,ra){var ln,Sr=Er(this);Sr.select(".text-math-group").empty()&&(Ve._vals[ra]&&(ln=Ve._vals[ra].bb||l.bBox(Sr.node()),Ve._vals[ra].bb=ln),Xn=Math.max(Xn,ln.width),na=Math.max(na,ln.height))}),{labelsMaxW:Xn,labelsMaxH:na}},mn=Ve._anchorAxis;if(mn&&(mn.autorange||mn.insiderange)&&qt(Ve)&&!K(_t,Ve._id)&&(_t._insideTickLabelsUpdaterange||(_t._insideTickLabelsUpdaterange={}),mn.autorange&&(_t._insideTickLabelsUpdaterange[mn._name+".autorange"]=mn.autorange,Xr.push(On)),mn.insiderange)){var xr=On(),Pr="y"===Ve._id.charAt(0)?xr.labelsMaxW:xr.labelsMaxH;Pr+=6,"inside"===Ve.ticklabelposition&&(Pr+=Ve.ticklen||0);var Zr="right"===Ve.side||"top"===Ve.side?1:-1,Hr=1===Zr?1:0,fn=1===Zr?0:1,Tn=[];Tn[fn]=mn.range[fn];var Mn=mn.d2p(mn.range[Hr]),Pn=mn.d2p(mn.range[fn]),Fn=Math.abs(Pn-Mn);Fn-Pr>0?Pr*=1+Pr/(Fn-=Pr):Pr=0,"y"!==Ve._id.charAt(0)&&(Pr=-Pr),Tn[Hr]=mn.p2d(mn.d2p(mn.range[Hr])+Zr*Pr),"min"===mn.autorange||"max reversed"===mn.autorange?(Tn[0]=null,mn._rangeInitial0=void 0,mn._rangeInitial1=void 0):("max"===mn.autorange||"min reversed"===mn.autorange)&&(Tn[1]=null,mn._rangeInitial0=void 0,mn._rangeInitial1=void 0),_t._insideTickLabelsUpdaterange[mn._name+".range"]=Tn}var la=C.syncOrAsync(Xr);return la&&la.then&&We._promises.push(la),la},J.getPxPosition=function(We,Ve){var sr,Rt=We._fullLayout._size,_t=Ve._id.charAt(0),Kt=Ve.side;return"free"!==Ve.anchor?sr=Ve._anchorAxis:"x"===_t?sr={_offset:Rt.t+(1-(Ve.position||0))*Rt.h,_length:0}:"y"===_t&&(sr={_offset:Rt.l+(Ve.position||0)*Rt.w+Ve._shift,_length:0}),"top"===Kt||"left"===Kt?sr._offset:"bottom"===Kt||"right"===Kt?sr._offset+sr._length:void 0},J.shouldShowZeroLine=function(We,Ve,Rt){var _t=C.simpleMap(Ve.range,Ve.r2l);return _t[0]*_t[1]<=0&&Ve.zeroline&&("linear"===Ve.type||"-"===Ve.type)&&!(Ve.rangebreaks&&Ve.maskBreaks(0)===I)&&(pt(Ve,0)||!function $t(We,Ve,Rt,_t){var Kt=Rt._mainAxis;if(Kt){var sr=We._fullLayout,hr=Ve._id.charAt(0),or=J.counterLetter(Ve._id),Nt=Ve._offset+(Math.abs(_t[0])<Math.abs(_t[1])==("x"===hr)?0:Ve._length),Mr=sr._plots[Rt._mainSubplot];if(!(Mr.mainplotinfo||Mr).overlays.length)return dr(Rt);for(var wr=J.list(We,or),kr=0;kr<wr.length;kr++){var tn=wr[kr];if(tn._mainAxis===Kt&&dr(tn))return!0}}function dr(_r){if(!_r.showline||!_r.linewidth)return!1;var Kr=Math.max((_r.linewidth+Ve.zerolinewidth)/2,1);function vn(mn){return"number"==typeof mn&&Math.abs(mn-Nt)<Kr}if(vn(_r._mainLinePosition)||vn(_r._mainMirrorPosition))return!0;var Xr=_r._linepositions||{};for(var On in Xr)if(vn(Xr[On][0])||vn(Xr[On][1]))return!0}}(We,Ve,Rt,_t)||function tr(We,Ve){for(var Rt=We._fullData,_t=Ve._mainSubplot,Kt=Ve._id.charAt(0),sr=0;sr<Rt.length;sr++){var hr=Rt[sr];if(!0===hr.visible&&hr.xaxis+hr.yaxis===_t&&(P.traceIs(hr,"bar-like")&&hr.orientation==={x:"h",y:"v"}[Kt]||hr.fill&&hr.fill.charAt(hr.fill.length-1)===Kt))return!0}return!1}(We,Ve))},J.clipEnds=function(We,Ve){return Ve.filter(function(Rt){return pt(We,Rt.x)})},J.allowAutoMargin=function(We){for(var Ve=J.list(We,"",!0),Rt=0;Rt<Ve.length;Rt++){var _t=Ve[Rt];_t.automargin&&(o.allowAutoMargin(We,pr(_t)),_t.mirror&&o.allowAutoMargin(We,dt(_t))),P.getComponentMethod("rangeslider","isVisible")(_t)&&o.allowAutoMargin(We,it(_t))}},J.swap=function(We,Ve){for(var Rt=function mt(We,Ve){var _t,Kt,Rt=[];for(_t=0;_t<Ve.length;_t++){var sr=[],hr=We._fullData[Ve[_t]].xaxis,or=We._fullData[Ve[_t]].yaxis;if(hr&&or){for(Kt=0;Kt<Rt.length;Kt++)(-1!==Rt[Kt].x.indexOf(hr)||-1!==Rt[Kt].y.indexOf(or))&&sr.push(Kt);if(!sr.length){Rt.push({x:[hr],y:[or]});continue}var dr,Nt=Rt[sr[0]];if(sr.length>1)for(Kt=1;Kt<sr.length;Kt++)St(Nt.x,(dr=Rt[sr[Kt]]).x),St(Nt.y,dr.y);St(Nt.x,[hr]),St(Nt.y,[or])}}return Rt}(We,Ve),_t=0;_t<Rt.length;_t++)Lt(We,Rt[_t].x,Rt[_t].y)}},4322:function(te,Y,e){"use strict";var T=e(92770),D=e(71828),o=e(50606).BADNUM,P=D.isArrayOrTypedArray,C=D.isDateTime,h=D.cleanNumber,y=Math.round;function t(c,m){return m?T(c):"number"==typeof c}function i(c){return Math.max(1,(c-1)/1e3)}te.exports=function(m,a,b){var p=m,s=b.noMultiCategory;if(P(p)&&!p.length)return"-";if(!s&&function f(c){return P(c[0])&&P(c[1])}(p))return"multicategory";if(s&&Array.isArray(p[0])){for(var v=[],A=0;A<p.length;A++)if(P(p[A]))for(var x=0;x<p[A].length;x++)v.push(p[A][x]);p=v}if(function l(c,m){for(var a=c.length,b=i(a),p=0,s=0,v={},A=0;A<a;A+=b){var E=c[y(A)],g=String(E);v[g]||(v[g]=1,C(E,m)&&p++,T(E)&&s++)}return p>2*s}(p,a))return"date";var E="strict"!==b.autotypenumbers;return function u(c,m){for(var a=c.length,b=i(a),p=0,s=0,v={},A=0;A<a;A+=b){var E=c[y(A)],g=String(E);if(!v[g]){v[g]=1;var M=typeof E;"boolean"===M?s++:(m?h(E)!==o:"number"===M)?p++:"string"===M&&s++}}return s>2*p}(p,E)?"category":function r(c,m){for(var a=c.length,b=0;b<a;b++)if(t(c[b],m))return!0;return!1}(p,E)?"linear":"-"}},71453:function(te,Y,e){"use strict";var T=e(92770),D=e(73972),o=e(71828),P=e(44467),C=e(85501),h=e(13838),y=e(26218),t=e(38701),r=e(96115),l=e(89426),i=e(15258),u=e(92128),f=e(23608),c=e(21994),m=e(85555).WEEKDAY_PATTERN,a=e(85555).HOUR_PATTERN;function b(v,A,x){function E(B,k){return o.coerce(v,A,h.rangebreaks,B,k)}if(E("enabled")){var M=E("bounds");if(M&&M.length>=2){var n,S,w="";if(2===M.length)for(n=0;n<2;n++)if(S=s(M[n])){w=m;break}var d=E("pattern",w);if(d===m)for(n=0;n<2;n++)(S=s(M[n]))&&(A.bounds[n]=M[n]=S-1);if(d)for(n=0;n<2;n++)switch(S=M[n],d){case m:if(!T(S))return void(A.enabled=!1);if((S=+S)!==Math.floor(S)||S<0||S>=7)return void(A.enabled=!1);A.bounds[n]=M[n]=S;break;case a:if(!T(S))return void(A.enabled=!1);if((S=+S)<0||S>24)return void(A.enabled=!1);A.bounds[n]=M[n]=S}if(!1===x.autorange){var I=x.range;if(I[0]<I[1]){if(M[0]<I[0]&&M[1]>I[1])return void(A.enabled=!1)}else if(M[0]>I[0]&&M[1]<I[1])return void(A.enabled=!1)}}else{var L=E("values");if(!L||!L.length)return void(A.enabled=!1);E("dvalue")}}}te.exports=function(A,x,E,g,M){var B,w=g.letter,n=g.font||{},S=g.splomStash||{},d=E("visible",!g.visibleDflt),L=x.type||(x._template||{}).type||"-";"date"===L&&(D.getComponentMethod("calendars","handleDefaults")(A,x,"calendar",g.calendar),g.noTicklabelmode||(B=E("ticklabelmode")));var z="";(!g.noTicklabelposition||"multicategory"===L)&&(z=o.coerce(A,x,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===B?["outside","inside"]:"x"===w?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),g.noTicklabeloverflow||E("ticklabeloverflow",-1!==z.indexOf("inside")?"hide past domain":"category"===L||"multicategory"===L?"allow":"hide past div"),c(x,M),f(A,x,E,g),i(A,x,E,g),"category"!==L&&!g.noHover&&E("hoverformat");var O=E("color"),F=O!==h.color.dflt?O:n.color,N=S.label||M._dfltTitle[w];if(l(A,x,E,L,g),!d)return x;E("title.text",N),o.coerceFont(E,"title.font",{family:n.family,size:o.bigFont(n.size),color:F}),y(A,x,E,L);var H=g.hasMinor;if(H&&(P.newContainer(x,"minor"),y(A,x,E,L,{isMinor:!0})),r(A,x,E,L,g),t(A,x,E,g),H){var X=g.isMinor;g.isMinor=!0,t(A,x,E,g),g.isMinor=X}u(A,x,E,{dfltColor:O,bgColor:g.bgColor,showGrid:g.showGrid,hasMinor:H,attributes:h}),H&&!x.minor.ticks&&!x.minor.showgrid&&delete x.minor,(x.showline||x.ticks)&&E("mirror");var ie,ne="multicategory"===L;if(g.noTickson||"category"!==L&&!ne||!x.ticks&&!x.showgrid||(ne&&(ie="boundaries"),"boundaries"===E("tickson",ie)&&delete x.ticklabelposition),ne&&E("showdividers")&&(E("dividercolor"),E("dividerwidth")),"date"===L)if(C(A,x,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:b}),x.rangebreaks.length){for(var j=0;j<x.rangebreaks.length;j++)if(x.rangebreaks[j].pattern===m){x._hasDayOfWeekBreaks=!0;break}if(c(x,M),M._has("scattergl")||M._has("splom"))for(var W=0;W<g.data.length;W++){var V=g.data[W];("scattergl"===V.type||"splom"===V.type)&&(V.visible=!1,o.warn(V.type+" traces do not work on axes with rangebreaks. Setting trace "+V.index+" to `visible: false`."))}}else delete x.rangebreaks;return x};var p={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function s(v){if("string"==typeof v)return p[v.substr(0,3).toLowerCase()]}},12663:function(te,Y,e){"use strict";var T=e(31562),D=T.FORMAT_LINK,o=T.DATE_FORMAT_LINK;function C(y,t){return["Sets the "+y+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+D+"."].join(" ")}function h(y,t){return C(y,t)+[" And for dates see: "+o+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}te.exports={axisHoverFormat:function P(y,t){return{valType:"string",dflt:"",editType:"none",description:(t?C:h)("hover text",y)+["By default the values are formatted using "+(t?"generic number format":"`"+y+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:C,descriptionWithDates:h}},41675:function(te,Y,e){"use strict";var T=e(73972),D=e(85555);function o(P,C){if(C&&C.length)for(var h=0;h<C.length;h++)if(C[h][P])return!0;return!1}Y.id2name=function(C){if("string"==typeof C&&C.match(D.AX_ID_PATTERN)){var h=C.split(" ")[0].substr(1);return"1"===h&&(h=""),C.charAt(0)+"axis"+h}},Y.name2id=function(C){if(C.match(D.AX_NAME_PATTERN)){var h=C.substr(5);return"1"===h&&(h=""),C.charAt(0)+h}},Y.cleanId=function(C,h,y){var t=/( domain)$/.test(C);if("string"==typeof C&&C.match(D.AX_ID_PATTERN)&&(!h||C.charAt(0)===h)&&(!t||y)){var r=C.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===r&&(r=""),C.charAt(0)+r+(t&&y?" domain":"")}},Y.list=function(P,C,h){var y=P._fullLayout;if(!y)return[];var l,t=Y.listIds(P,C),r=new Array(t.length);for(l=0;l<t.length;l++){var i=t[l];r[l]=y[i.charAt(0)+"axis"+i.substr(1)]}if(!h){var u=y._subplots.gl3d||[];for(l=0;l<u.length;l++){var f=y[u[l]];C?r.push(f[C+"axis"]):r.push(f.xaxis,f.yaxis,f.zaxis)}}return r},Y.listIds=function(P,C){var h=P._fullLayout;if(!h)return[];var y=h._subplots;return C?y[C+"axis"]:y.xaxis.concat(y.yaxis)},Y.getFromId=function(P,C,h){var y=P._fullLayout;return C=void 0===C||"string"!=typeof C?C:C.replace(" domain",""),"x"===h?C=C.replace(/y[0-9]*/,""):"y"===h&&(C=C.replace(/x[0-9]*/,"")),y[Y.id2name(C)]},Y.getFromTrace=function(P,C,h){var y=P._fullLayout,t=null;if(T.traceIs(C,"gl3d")){var r=C.scene;"scene"===r.substr(0,5)&&(t=y[r][h+"axis"])}else t=Y.getFromId(P,C[h+"axis"]||h);return t},Y.idSort=function(P,C){var h=P.charAt(0),y=C.charAt(0);return h!==y?h>y?1:-1:+(P.substr(1)||1)-+(C.substr(1)||1)},Y.ref2id=function(P){return!!/^[xyz]/.test(P)&&P.split(" ")[0]},Y.isLinked=function(P,C){return o(C,P._axisMatchGroups)||o(C,P._axisConstraintGroups)}},15258:function(te){"use strict";te.exports=function(T,D,o,P){if("category"===D.type){var y,C=T.categoryarray,h=Array.isArray(C)&&C.length>0;h&&(y="array");var r,t=o("categoryorder",y);"array"===t&&(r=o("categoryarray")),!h&&"array"===t&&(t=D.categoryorder="trace"),"trace"===t?D._initialCategories=[]:"array"===t?D._initialCategories=r.slice():(r=function Y(e,T){var P,C,h,D=T.dataAttr||e._id.charAt(0),o={};if(T.axData)P=T.axData;else for(P=[],C=0;C<T.data.length;C++){var y=T.data[C];y[D+"axis"]===e._id&&P.push(y)}for(C=0;C<P.length;C++){var t=P[C][D];for(h=0;h<t.length;h++){var r=t[h];null!=r&&(o[r]=1)}}return Object.keys(o)}(D,P).sort(),"category ascending"===t?D._initialCategories=r:"category descending"===t&&(D._initialCategories=r.reverse()))}}},66287:function(te,Y,e){"use strict";var T=e(92770),D=e(71828),o=e(50606),P=o.ONEDAY,C=o.ONEWEEK;Y.dtick=function(h,y){var t="log"===y,r="date"===y,l="category"===y,i=r?P:1;if(!h)return i;if(T(h))return(h=Number(h))<=0?i:l?Math.max(1,Math.round(h)):r?Math.max(.1,h):h;if("string"!=typeof h||!r&&!t)return i;var u=h.charAt(0),f=h.substr(1);return(f=T(f)?Number(f):0)<=0||!(r&&"M"===u&&f===Math.round(f)||t&&"L"===u||t&&"D"===u&&(1===f||2===f))?i:h},Y.tick0=function(h,y,t,r){return"date"===y?D.cleanDate(h,D.dateTick0(t,r%C==0?1:0)):"D1"!==r&&"D2"!==r?T(h)?Number(h):0:void 0}},85555:function(te,Y,e){"use strict";var T=e(30587).counter;te.exports={idRegex:{x:T("x","( domain)?"),y:T("y","( domain)?")},attrRegex:T("[xy]axis"),xAxisMatch:T("xaxis"),yAxisMatch:T("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(te,Y,e){"use strict";var T=e(71828),D=e(71739),o=e(41675).id2name,P=e(13838),C=e(42449),h=e(21994),y=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;function r(a,b,p){var s=p.axIds,v=p.layoutOut,A=p.hasImage,x=v._axisConstraintGroups,E=v._axisMatchGroups,g=b._id,M=g.charAt(0),w=((v._splomAxes||{})[M]||{})[g]||{},n=b._id,S="x"===n.charAt(0);function d(j,W){return T.coerce(a,b,P,j,W)}b._matchGroup=null,b._constraintGroup=null,d("constrain",A?"domain":"range"),T.coerce(a,b,{constraintoward:{valType:"enumerated",values:S?["left","center","right"]:["bottom","middle","top"],dflt:S?"center":"middle"}},"constraintoward");var L,B,I=b.type,k=[];for(L=0;L<s.length;L++)(B=s[L])!==n&&v[o(B)].type===I&&k.push(B);var O=i(x,n);if(O){var F=[];for(L=0;L<k.length;L++)O[B=k[L]]||F.push(B);k=F}var H,X,N=k.length;N&&(a.matches||w.matches)&&(H=T.coerce(a,b,{matches:{valType:"enumerated",values:k,dflt:-1!==k.indexOf(w.matches)?w.matches:void 0}},"matches"));var ne=A&&!S?b.anchor:void 0;if(N&&!H&&(a.scaleanchor||ne)&&(X=T.coerce(a,b,{scaleanchor:{valType:"enumerated",values:k.concat([!1])}},"scaleanchor",ne)),H){b._matchGroup=u(E,n,H,1);var ie=v[o(H)],ue=l(v,b)/l(v,ie);S!==("x"===H.charAt(0))&&(ue=(S?"x":"y")+ue),u(x,n,H,ue)}else a.matches&&-1!==s.indexOf(a.matches)&&T.warn("ignored "+b._name+'.matches: "'+a.matches+'" to avoid an infinite loop');if(X){var J=d("scaleratio");J||(J=b.scaleratio=1),u(x,n,X,J)}else a.scaleanchor&&-1!==s.indexOf(a.scaleanchor)&&T.warn("ignored "+b._name+'.scaleanchor: "'+a.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function l(a,b){var p=b.domain;return p||(p=a[o(b.overlaying)].domain),p[1]-p[0]}function i(a,b){for(var p=0;p<a.length;p++)if(a[p][b])return a[p];return null}function u(a,b,p,s){var v,A,x,E,g,M=i(a,b);null===M?((M={})[b]=1,g=a.length,a.push(M)):g=a.indexOf(M);var w=Object.keys(M);for(v=0;v<a.length;v++)if(x=a[v],v!==g&&x[p]){var n=x[p];for(A=0;A<w.length;A++)x[E=w[A]]=f(n,f(s,M[E]));return void a.splice(g,1)}if(1!==s)for(A=0;A<w.length;A++){var S=w[A];M[S]=f(s,M[S])}M[p]=1}function f(a,b){var v,A,p="",s="";"string"==typeof a&&(p=a.match(/^[xy]*/)[0],a=+a.substr(v=p.length)),"string"==typeof b&&(s=b.match(/^[xy]*/)[0],b=+b.substr(A=s.length));var x=a*b;return v||A?v&&A&&p.charAt(0)!==s.charAt(0)?v===A?x:(v>A?p.substr(A):s.substr(v))+x:p+s+a*b:x}function c(a,b){for(var p=b._size,s=p.h/p.w,v={},A=Object.keys(a),x=0;x<A.length;x++){var E=A[x],g=a[E];if("string"==typeof g){var M=g.match(/^[xy]*/)[0],w=M.length;g=+g.substr(w);for(var n="y"===M.charAt(0)?s:1/s,S=0;S<w;S++)g*=n}v[E]=g}return v}function m(a,b){var p=a._inputDomain,v=p[0]+(p[1]-p[0])*t[a.constraintoward];a.domain=a._input.domain=[v+(p[0]-v)/b,v+(p[1]-v)/b],a.setScale()}Y.handleDefaults=function(a,b,p){var E,g,M,w,n,S,d,I,s=p.axIds,v=p.axHasImage,A=b._axisConstraintGroups=[],x=b._axisMatchGroups=[];for(E=0;E<s.length;E++)r(n=a[w=o(s[E])],S=b[w],{axIds:s,layoutOut:b,hasImage:v[w]});function L(ne,ie){for(E=0;E<ne.length;E++)for(M in g=ne[E])b[o(M)][ie]=g}for(L(x,"_matchGroup"),E=0;E<A.length;E++)for(M in g=A[E])if((S=b[o(M)]).fixedrange){for(var B in g){var k=o(B);!1===(a[k]||{}).fixedrange&&T.warn("fixedrange was specified as false for axis "+k+" but was overridden because another axis in its constraint group has fixedrange true"),b[k].fixedrange=!0}break}for(E=0;E<A.length;){for(M in g=A[E]){(S=b[o(M)])._matchGroup&&Object.keys(S._matchGroup).length===Object.keys(g).length&&(A.splice(E,1),E--);break}E++}L(A,"_constraintGroup");var z=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],O=!1,F=!1;function N(){I=S[d],"rangebreaks"===d&&(F=S._hasDayOfWeekBreaks)}for(E=0;E<x.length;E++){g=x[E];for(var H=0;H<z.length;H++){var X;for(M in d=z[H],I=null,g)if(n=a[w=o(M)],d in(S=b[w])){if(!S.matches&&(X=S,d in n)){N();break}null===I&&d in n&&N()}if("range"===d&&I&&n.range&&2===n.range.length&&null!==n.range[0]&&null!==n.range[1]&&(O=!0),"autorange"===d&&null===I&&O&&(I=!1),null===I&&d in X&&(I=X[d]),null!==I)for(M in g)(S=b[o(M)])[d]="range"===d?I.slice():I,"rangebreaks"===d&&(S._hasDayOfWeekBreaks=F,h(S,b))}}},Y.enforce=function(b){var v,A,x,E,g,M,w,n,p=b._fullLayout,s=p._axisConstraintGroups||[];for(v=0;v<s.length;v++){x=c(s[v],p);var S=Object.keys(x),d=1/0,I=0,L=1/0,B={},k={},z=!1;for(A=0;A<S.length;A++)k[E=S[A]]=g=p[o(E)],g._inputDomain?g.domain=g._inputDomain.slice():g._inputDomain=g.domain.slice(),g._inputRange||(g._inputRange=g.range.slice()),g.setScale(),B[E]=M=Math.abs(g._m)/x[E],d=Math.min(d,M),("domain"===g.constrain||!g._constraintShrinkable)&&(L=Math.min(L,M)),delete g._constraintShrinkable,I=Math.max(I,M),"domain"===g.constrain&&(z=!0);if(!(d>y*I)||z)for(A=0;A<S.length;A++)if(w=(g=k[E=S[A]]).constrain,(M=B[E])!==L||"domain"===w)if(n=M/L,"range"===w)C(g,n);else{var O=g._inputDomain,F=(g.domain[1]-g.domain[0])/(O[1]-O[0]),N=(g.r2l(g.range[1])-g.r2l(g.range[0]))/(g.r2l(g._inputRange[1])-g.r2l(g._inputRange[0]));if((n/=F)*N<1){g.domain=g._input.domain=O.slice(),C(g,n);continue}if(N<1&&(g.range=g._input.range=g._inputRange.slice(),n*=N),g.autorange){var H=g.r2l(g.range[0]),X=g.r2l(g.range[1]),ne=(H+X)/2,ie=ne,ue=ne,J=Math.abs(X-ne),j=ne-J*n*1.0001,W=ne+J*n*1.0001,V=D.makePadFn(p,g,0),K=D.makePadFn(p,g,1);m(g,n);var q,se,ae=Math.abs(g._m),Q=D.concatExtremes(b,g),Z=Q.min,re=Q.max;for(se=0;se<Z.length;se++)(q=Z[se].val-V(Z[se])/ae)>j&&q<ie&&(ie=q);for(se=0;se<re.length;se++)(q=re[se].val+K(re[se])/ae)<W&&q>ue&&(ue=q);n/=(ue-ie)/(2*J),ie=g.l2r(ie),ue=g.l2r(ue),g.range=g._input.range=H<X?[ie,ue]:[ue,ie]}m(g,n)}}},Y.getAxisGroup=function(b,p){for(var s=b._axisMatchGroups,v=0;v<s.length;v++)if(s[v][p])return"g"+v;return p},Y.clean=function(b,p){if(p._inputDomain){for(var s=!1,v=p._id,A=b._fullLayout._axisConstraintGroups,x=0;x<A.length;x++)if(A[x][v]){s=!0;break}(!s||"domain"!==p.constrain)&&(p._input.domain=p.domain=p._inputDomain,delete p._inputDomain)}}},29323:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=D.numberFormat,P=e(84267),C=e(38520),h=e(73972),y=D.strTranslate,t=e(63893),r=e(7901),l=e(91424),i=e(30211),u=e(89298),f=e(6964),c=e(28569),m=e(64505),a=m.selectingOrDrawing,b=m.freeMode,p=e(18783).FROM_TL,s=e(33306),v=e(61549).redrawReglTraces,A=e(74875),x=e(41675).getFromId,E=e(47322).prepSelect,g=e(47322).clearOutline,M=e(47322).selectOnClick,w=e(42449),n=e(85555),S=n.MINDRAG,d=n.MINZOOM,I=!0;function B(q,se,de,we){var ye=D.ensureSingle(q.draglayer,se,de,function(Pe){Pe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",q.id)});return ye.call(f,we),ye.node()}function k(q,se,de,we,ye,Pe,Ie){var Se=B(q,"rect",se,de);return T.select(Se).call(l.setRect,we,ye,Pe,Ie),Se}function z(q,se){for(var de=0;de<q.length;de++)if(!q[de].fixedrange)return se;return""}function F(q,se,de,we,ye){for(var Pe=0;Pe<q.length;Pe++){var Ie=q[Pe];if(!Ie.fixedrange)if(Ie.rangebreaks){var Se="y"===Ie._id.charAt(0),Me=Se?1-de:de;we[Ie._name+".range[0]"]=Ie.l2r(Ie.p2l((Se?1-se:se)*Ie._length)),we[Ie._name+".range[1]"]=Ie.l2r(Ie.p2l(Me*Ie._length))}else{var Ge=Ie._rl[0],Ye=Ie._rl[1]-Ge;we[Ie._name+".range[0]"]=Ie.l2r(Ge+Ye*se),we[Ie._name+".range[1]"]=Ie.l2r(Ge+Ye*de)}}if(ye&&ye.length){var De=(se+(1-de))/2;F(ye,De,1-De,we,[])}}function N(q,se){for(var de=0;de<q.length;de++){var we=q[de];if(!we.fixedrange){if(we.rangebreaks){var Pe=we._length,xe=(we.p2l(0+se)-we.p2l(0)+(we.p2l(Pe+se)-we.p2l(Pe)))/2;we.range=[we.l2r(we._rl[0]-xe),we.l2r(we._rl[1]-xe)]}else we.range=[we.l2r(we._rl[0]-se/we._m),we.l2r(we._rl[1]-se/we._m)];we.limitRange&&we.limitRange()}}}function H(q){return 1-(q>=0?Math.min(q,.9):1/(1/Math.max(q,-.3)+3.222))}function ne(q,se,de,we,ye){return q.append("path").attr("class","zoombox").style({fill:se>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",y(de,we)).attr("d",ye+"Z")}function ie(q,se,de){return q.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",y(se,de)).attr("d","M0,0Z")}function ue(q,se,de,we,ye,Pe){q.attr("d",we+"M"+de.l+","+de.t+"v"+de.h+"h"+de.w+"v-"+de.h+"h-"+de.w+"Z"),J(q,se,ye,Pe)}function J(q,se,de,we){de||(q.transition().style("fill",we>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),se.transition().style("opacity",1).duration(200))}function j(q){T.select(q).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function W(q){I&&q.data&&q._context.showTips&&(D.notifier(D._(q,"Double-click to zoom back out"),"long"),I=!1)}function ae(q){var se=Math.floor(Math.min(q.b-q.t,q.r-q.l,d)/2);return"M"+(q.l-3.5)+","+(q.t-.5+se)+"h3v"+-se+"h"+se+"v-3h-"+(se+3)+"ZM"+(q.r+3.5)+","+(q.t-.5+se)+"h-3v"+-se+"h"+-se+"v-3h"+(se+3)+"ZM"+(q.r+3.5)+","+(q.b+.5-se)+"h-3v"+se+"h"+-se+"v3h"+(se+3)+"ZM"+(q.l-3.5)+","+(q.b+.5-se)+"h3v"+se+"h"+se+"v3h-"+(se+3)+"Z"}function Q(q,se,de,we,ye){for(var xe,Me,Ge,Ye,Pe=!1,Ie={},Se={},De=(ye||{}).xaHash,He=(ye||{}).yaHash,rt=0;rt<se.length;rt++){var $e=se[rt];for(xe in de)if($e[xe]){for(Ge in $e)(!ye||!De[Ge]&&!He[Ge])&&!("x"===Ge.charAt(0)?de:we)[Ge]&&(Ie[Ge]=xe);for(Me in we)(!ye||!De[Me]&&!He[Me])&&$e[Me]&&(Pe=!0)}for(Me in we)if($e[Me])for(Ye in $e)(!ye||!De[Ye]&&!He[Ye])&&!("x"===Ye.charAt(0)?de:we)[Ye]&&(Se[Ye]=Me)}Pe&&(D.extendFlat(Ie,Se),Se={});var Be={},ze=[];for(Ge in Ie){var tt=x(q,Ge);ze.push(tt),Be[tt._id]=tt}var lt={},ut=[];for(Ye in Se){var xt=x(q,Ye);ut.push(xt),lt[xt._id]=xt}return{xaHash:Be,yaHash:lt,xaxes:ze,yaxes:ut,xLinks:Ie,yLinks:Se,isSubplotConstrained:Pe}}function Z(q,se){if(C){var de=void 0!==q.onwheel?"wheel":"mousewheel";q._onwheel&&q.removeEventListener(de,q._onwheel),q._onwheel=se,q.addEventListener(de,se,{passive:!1})}else void 0!==q.onwheel?q.onwheel=se:void 0!==q.onmousewheel?q.onmousewheel=se:q.isAddedWheelEvent||(q.isAddedWheelEvent=!0,q.addEventListener("wheel",se,{passive:!1}))}function re(q){var se=[];for(var de in q)se.push(q[de]);return se}te.exports={makeDragBox:function L(q,se,de,we,ye,Pe,Ie,Se){var Ye,De,He,rt,$e,Be,ze,tt,lt,ut,xt,bt,Ht,Je,Ce,Ee,Re,ke,Ne,_e,Te,fe,pe,xe=q._fullLayout._zoomlayer,Me=Ie+Se==="nsew",Ge=1===(Ie+Se).length;function Fe(){if(lt=(Ye=se.xaxis)._length,ut=(De=se.yaxis)._length,ze=Ye._offset,tt=De._offset,(He={})[Ye._id]=Ye,(rt={})[De._id]=De,Ie&&Se)for(var or=se.overlays,Nt=0;Nt<or.length;Nt++){var dr=or[Nt].xaxis;He[dr._id]=dr;var Mr=or[Nt].yaxis;rt[Mr._id]=Mr}$e=re(He),Be=re(rt),Ht=z($e,Se),Je=z(Be,Ie),Ce=!Je&&!Ht,bt=Q(q,q._fullLayout._axisMatchGroups,He,rt);var wr=(xt=Q(q,q._fullLayout._axisConstraintGroups,He,rt,bt)).isSubplotConstrained||bt.isSubplotConstrained;Ee=Se||wr,Re=Ie||wr;var kr=q._fullLayout;ke=kr._has("scattergl"),Ne=kr._has("splom"),_e=kr._has("svg")}de+=se.yaxis._shift,Fe();var Xe=function X(q,se,de){return q?"nsew"===q?de?"":"pan"===se?"move":"crosshair":q.toLowerCase()+"-resize":"pointer"}(Je+Ht,q._fullLayout.dragmode,Me),at=k(se,Ie+Se+"drag",Xe,de,we,ye,Pe);if(Ce&&!Me)return at.onmousedown=null,at.style.pointerEvents="none",at;var At,zt,Qt,Rr,pt,$t,tr,Er,pr,dt,ft={element:at,gd:q,plotinfo:se};function Xt(){ft.plotinfo.selection=!1,g(q)}function rr(or,Nt){var dr=ft.gd;if(dr._fullLayout._activeShapeIndex>=0)dr._fullLayout._deactivateShape(dr);else{var Mr=dr._fullLayout.clickmode;if(j(dr),2===or&&!Ge&&function Ve(){if(!q._transitioningWithDuration){var or=q._context.doubleClick,Nt=[];Ht&&(Nt=Nt.concat($e)),Je&&(Nt=Nt.concat(Be)),bt.xaxes&&(Nt=Nt.concat(bt.xaxes)),bt.yaxes&&(Nt=Nt.concat(bt.yaxes));var Mr,wr,dr={};if("reset+autosize"===or)for(or="autosize",wr=0;wr<Nt.length;wr++){var kr=(Mr=Nt[wr])._rangeInitial0,tn=Mr._rangeInitial1,_r=void 0!==kr||void 0!==tn;if(_r&&(void 0!==kr&&kr!==Mr.range[0]||void 0!==tn&&tn!==Mr.range[1])||!_r&&!0!==Mr.autorange){or="reset";break}}if("autosize"===or)for(wr=0;wr<Nt.length;wr++)(Mr=Nt[wr]).fixedrange||(dr[Mr._name+".autorange"]=!0);else if("reset"===or)for((Ht||xt.isSubplotConstrained)&&(Nt=Nt.concat(xt.xaxes)),Je&&!xt.isSubplotConstrained&&(Nt=Nt.concat(xt.yaxes)),xt.isSubplotConstrained&&(Ht?Je||(Nt=Nt.concat(Be)):Nt=Nt.concat($e)),wr=0;wr<Nt.length;wr++)if(!(Mr=Nt[wr]).fixedrange){var Kr=Mr._name,vn=Mr._autorangeInitial;void 0===Mr._rangeInitial0&&void 0===Mr._rangeInitial1?dr[Kr+".autorange"]=!0:void 0===Mr._rangeInitial0?(dr[Kr+".autorange"]=vn,dr[Kr+".range"]=[null,Mr._rangeInitial1]):void 0===Mr._rangeInitial1?(dr[Kr+".range"]=[Mr._rangeInitial0,null],dr[Kr+".autorange"]=vn):dr[Kr+".range"]=[Mr._rangeInitial0,Mr._rangeInitial1]}q.emit("plotly_doubleclick",null),h.call("_guiRelayout",q,dr)}}(),Me)Mr.indexOf("select")>-1&&M(Nt,dr,$e,Be,se.id,ft),Mr.indexOf("event")>-1&&i.click(dr,Nt,se.id);else if(1===or&&Ge){var wr=Ie?De:Ye,kr="s"===Ie||"w"===Se?0:1,tn=wr._name+".range["+kr+"]",_r=function O(q,se){var ye,de=q.range[se],we=Math.abs(de-q.range[1-se]);return"date"===q.type?de:"log"===q.type?(ye=Math.ceil(Math.max(0,-Math.log(we)/Math.LN10))+3,o("."+ye+"g")(Math.pow(10,de))):(ye=Math.floor(Math.log(Math.abs(de))/Math.LN10)-Math.floor(Math.log(we)/Math.LN10)+4,o("."+String(ye)+"g")(de))}(wr,kr),Kr="left",vn="middle";if(wr.fixedrange)return;Ie?(vn="n"===Ie?"top":"bottom","right"===wr.side&&(Kr="right")):"e"===Se&&(Kr="right"),dr._context.showAxisRangeEntryBoxes&&T.select(at).call(t.makeEditable,{gd:dr,immediate:!0,background:dr._fullLayout.paper_bgcolor,text:String(_r),fill:wr.tickfont?wr.tickfont.color:"#444",horizontalAlign:Kr,verticalAlign:vn}).on("edit",function(Xr){var On=wr.d2r(Xr);void 0!==On&&h.call("_guiRelayout",dr,tn,On)})}}}function mt(or,Nt){if(q._transitioningWithDuration)return!1;var dr=Math.max(0,Math.min(lt,fe*or+At)),Mr=Math.max(0,Math.min(ut,pe*Nt+zt)),wr=Math.abs(dr-At),kr=Math.abs(Mr-zt);function tn(){tr="",Qt.r=Qt.l,Qt.t=Qt.b,pr.attr("d","M0,0Z")}if(Qt.l=Math.min(At,dr),Qt.r=Math.max(At,dr),Qt.t=Math.min(zt,Mr),Qt.b=Math.max(zt,Mr),xt.isSubplotConstrained)wr>d||kr>d?(tr="xy",wr/lt>kr/ut?(kr=wr*ut/lt,zt>Mr?Qt.t=zt-kr:Qt.b=zt+kr):(wr=kr*lt/ut,At>dr?Qt.l=At-wr:Qt.r=At+wr),pr.attr("d",ae(Qt))):tn();else if(bt.isSubplotConstrained)if(wr>d||kr>d){tr="xy";var _r=Math.min(Qt.l/lt,(ut-Qt.b)/ut),Kr=Math.max(Qt.r/lt,(ut-Qt.t)/ut);Qt.l=_r*lt,Qt.r=Kr*lt,Qt.b=(1-_r)*ut,Qt.t=(1-Kr)*ut,pr.attr("d",ae(Qt))}else tn();else!Je||kr<Math.min(Math.max(.6*wr,S),d)?wr<S||!Ht?tn():(Qt.t=0,Qt.b=ut,tr="x",pr.attr("d",function V(q,se){return"M"+(q.l-.5)+","+(se-d-.5)+"h-3v"+(2*d+1)+"h3ZM"+(q.r+.5)+","+(se-d-.5)+"h3v"+(2*d+1)+"h-3Z"}(Qt,zt))):!Ht||wr<Math.min(.6*kr,d)?(Qt.l=0,Qt.r=lt,tr="y",pr.attr("d",function K(q,se){return"M"+(se-d-.5)+","+(q.t-.5)+"v-3h"+(2*d+1)+"v3ZM"+(se-d-.5)+","+(q.b+.5)+"v3h"+(2*d+1)+"v-3Z"}(Qt,At))):(tr="xy",pr.attr("d",ae(Qt)));Qt.w=Qt.r-Qt.l,Qt.h=Qt.b-Qt.t,tr&&(dt=!0),q._dragged=dt,ue(Er,pr,Qt,pt,$t,Rr),St(),q.emit("plotly_relayouting",Te),$t=!0}function St(){Te={},("xy"===tr||"x"===tr)&&(F($e,Qt.l/lt,Qt.r/lt,Te,xt.xaxes),br("x",Te)),("xy"===tr||"y"===tr)&&(F(Be,(ut-Qt.b)/ut,(ut-Qt.t)/ut,Te,xt.yaxes),br("y",Te))}function Lt(){St(),j(q),Rt(),W(q)}ft.prepFn=function(or,Nt,dr){var Mr=ft.dragmode,wr=q._fullLayout.dragmode;wr!==Mr&&(ft.dragmode=wr),Fe(),fe=q._fullLayout._invScaleX,pe=q._fullLayout._invScaleY,Ce||(Me?or.shiftKey?"pan"===wr?wr="zoom":a(wr)||(wr="pan"):or.ctrlKey&&(wr="pan"):wr="pan"),ft.minDrag=b(wr)?1:void 0,a(wr)?(ft.xaxes=$e,ft.yaxes=Be,E(or,Nt,dr,ft,wr)):(ft.clickFn=rr,a(Mr)&&Xt(),Ce||("zoom"===wr?(ft.moveFn=mt,ft.doneFn=Lt,ft.minDrag=1,function it(or,Nt,dr){var Mr=at.getBoundingClientRect();At=Nt-Mr.left,zt=dr-Mr.top,q._fullLayout._calcInverseTransform(q);var wr=D.apply3DTransform(q._fullLayout._invTransform)(At,zt);Qt={l:At=wr[0],r:At,w:0,t:zt=wr[1],b:zt,h:0},Rr=q._hmpixcount?q._hmlumcount/q._hmpixcount:P(q._fullLayout.plot_bgcolor).getLuminance(),$t=!1,tr="xy",dt=!1,Er=ne(xe,Rr,ze,tt,pt="M0,0H"+lt+"V"+ut+"H0V0"),pr=ie(xe,ze,tt)}(0,Nt,dr)):"pan"===wr&&(ft.moveFn=lr,ft.doneFn=Rt))),q._fullLayout._redrag=function(){var kr=q._dragdata;kr&&kr.element===at&&(a(q._fullLayout.dragmode)||(Fe(),_t([0,0,lt,ut]),ft.moveFn(kr.dx,kr.dy)))}},c.init(ft);var Ct=[0,0,lt,ut],Ut=null,Bt=n.REDRAWDELAY,qt=se.mainplot?q._fullLayout._plots[se.mainplot]:se;function lr(or,Nt){if(or*=fe,Nt*=pe,!q._transitioningWithDuration){if(q._fullLayout._replotting=!0,"ew"===Ht||"ns"===Je){var dr=Ht?-or:0,Mr=Je?-Nt:0;if(bt.isSubplotConstrained){if(Ht&&Je){var wr=(or/lt-Nt/ut)/2;dr=-(or=wr*lt),Mr=-(Nt=-wr*ut)}Je?dr=-Mr*lt/ut:Mr=-dr*ut/lt}return Ht&&(N($e,or),br("x")),Je&&(N(Be,Nt),br("y")),_t([dr,Mr,lt,ut]),We(),void q.emit("plotly_relayouting",Te)}var Kr,vn,tn="w"===Ht==("n"===Je)?1:-1;if(Ht&&Je&&(xt.isSubplotConstrained||bt.isSubplotConstrained)){var _r=(or/lt+tn*Nt/ut)/2;or=_r*lt,Nt=tn*_r*ut}if("w"===Ht?or=kr($e,0,or):"e"===Ht?or=kr($e,1,-or):Ht||(or=0),"n"===Je?Nt=kr(Be,1,Nt):"s"===Je?Nt=kr(Be,0,-Nt):Je||(Nt=0),Kr="w"===Ht?or:0,vn="n"===Je?Nt:0,xt.isSubplotConstrained&&!bt.isSubplotConstrained||bt.isSubplotConstrained&&Ht&&Je&&tn>0){var Xr;if(bt.isSubplotConstrained||!Ht&&1===Je.length){for(Xr=0;Xr<$e.length;Xr++)$e[Xr].range=$e[Xr]._r.slice(),w($e[Xr],1-Nt/ut);Kr=(or=Nt*lt/ut)/2}if(bt.isSubplotConstrained||!Je&&1===Ht.length){for(Xr=0;Xr<Be.length;Xr++)Be[Xr].range=Be[Xr]._r.slice(),w(Be[Xr],1-or/lt);vn=(Nt=or*ut/lt)/2}}(!bt.isSubplotConstrained||!Je)&&br("x"),(!bt.isSubplotConstrained||!Ht)&&br("y");var On=lt-or,mn=ut-Nt;bt.isSubplotConstrained&&!(Ht&&Je)&&(Ht?(vn=Kr?0:or*ut/lt,mn=On*ut/lt):(Kr=vn?0:Nt*lt/ut,On=mn*lt/ut)),_t([Kr,vn,On,mn]),We(),q.emit("plotly_relayouting",Te)}function kr(xr,Pr,Zr){for(var fn,Tn,Hr=1-Pr,Mn=0;Mn<xr.length;Mn++){var Pn=xr[Mn];if(!Pn.fixedrange){fn=Pn,Tn=Pn._rl[Hr]+(Pn._rl[Pr]-Pn._rl[Hr])/H(Zr/Pn._length);var Fn=Pn.l2r(Tn);!1!==Fn&&void 0!==Fn&&(Pn.range[Pr]=Fn)}}return fn._length*(fn._rl[Pr]-Tn)/(fn._rl[Pr]-fn._rl[Hr])}}function br(or,Nt){for(var dr=bt.isSubplotConstrained?{x:Be,y:$e}[or]:bt[or+"axes"],Mr=bt.isSubplotConstrained?{x:$e,y:Be}[or]:[],wr=0;wr<dr.length;wr++){var kr=dr[wr],tn=kr._id,_r=bt.xLinks[tn]||bt.yLinks[tn],Kr=Mr[0]||He[_r]||rt[_r];Kr&&(Nt?(Nt[kr._name+".range[0]"]=Nt[Kr._name+".range[0]"],Nt[kr._name+".range[1]"]=Nt[Kr._name+".range[1]"]):kr.range=Kr.range.slice())}}function We(){var Nt,or=[];function dr(tn){for(Nt=0;Nt<tn.length;Nt++)tn[Nt].fixedrange||or.push(tn[Nt]._id)}function Mr(tn,_r){for(Nt=0;Nt<tn.length;Nt++){var Kr=tn[Nt],vn=Kr[_r];!Kr.fixedrange&&"sync"===vn.tickmode&&or.push(vn._id)}}for(Ee&&(dr($e),dr(xt.xaxes),dr(bt.xaxes),Mr(se.overlays,"xaxis")),Re&&(dr(Be),dr(xt.yaxes),dr(bt.yaxes),Mr(se.overlays,"yaxis")),Te={},Nt=0;Nt<or.length;Nt++){var kr=x(q,or[Nt]);u.drawOne(q,kr,{skipTitle:!0}),Te[kr._name+".range[0]"]=kr.range[0],Te[kr._name+".range[1]"]=kr.range[1]}u.redrawComponents(q,or)}function Rt(){_t([0,0,lt,ut]),D.syncOrAsync([A.previousPromises,function(){q._fullLayout._replotting=!1,h.call("_guiRelayout",q,Te)}],q)}function _t(or){var wr,kr,tn,_r,Nt=q._fullLayout,dr=Nt._plots,Mr=Nt._subplots.cartesian;if(Ne&&h.subplotsRegistry.splom.drag(q),ke)for(wr=0;wr<Mr.length;wr++)if(tn=(kr=dr[Mr[wr]]).xaxis,_r=kr.yaxis,kr._scene){var Kr=D.simpleMap(tn.range,tn.r2l),vn=D.simpleMap(_r.range,_r.r2l);tn.limitRange&&tn.limitRange(),_r.limitRange&&_r.limitRange(),kr._scene.update({range:[(Kr=tn.range)[0],(vn=_r.range)[0],Kr[1],vn[1]]})}if((Ne||ke)&&(s(q),v(q)),_e){var Xr=or[2]/Ye._length,On=or[3]/De._length;for(wr=0;wr<Mr.length;wr++){tn=(kr=dr[Mr[wr]]).xaxis,_r=kr.yaxis;var Pr,Zr,Hr,fn,xr=(Re||bt.isSubplotConstrained)&&!_r.fixedrange&&rt[_r._id];if((Ee||bt.isSubplotConstrained)&&!tn.fixedrange&&He[tn._id]?(Pr=Xr,Hr=Se||bt.isSubplotConstrained?or[0]:hr(tn,Pr)):bt.xaHash[tn._id]?(Pr=Xr,Hr=or[0]*tn._length/Ye._length):bt.yaHash[tn._id]?(Pr=On,Hr="ns"===Je?-or[1]*tn._length/De._length:hr(tn,Pr,{n:"top",s:"bottom"}[Je])):Hr=sr(tn,Pr=Kt(tn,Xr,On)),Pr>1&&(void 0!==tn.maxallowed&&Ee===(tn.range[0]<tn.range[1]?"e":"w")||void 0!==tn.minallowed&&Ee===(tn.range[0]<tn.range[1]?"w":"e"))&&(Pr=1,Hr=0),xr?(Zr=On,fn=Ie||bt.isSubplotConstrained?or[1]:hr(_r,Zr)):bt.yaHash[_r._id]?(Zr=On,fn=or[1]*_r._length/De._length):bt.xaHash[_r._id]?(Zr=Xr,fn="ew"===Ht?-or[0]*_r._length/Ye._length:hr(_r,Zr,{e:"right",w:"left"}[Ht])):fn=sr(_r,Zr=Kt(_r,Xr,On)),Zr>1&&(void 0!==_r.maxallowed&&Re===(_r.range[0]<_r.range[1]?"n":"s")||void 0!==_r.minallowed&&Re===(_r.range[0]<_r.range[1]?"s":"n"))&&(Zr=1,fn=0),Pr||Zr){Pr||(Pr=1),Zr||(Zr=1);var Tn=tn._offset-Hr/Pr,Mn=_r._offset-fn/Zr;kr.clipRect.call(l.setTranslate,Hr,fn).call(l.setScale,Pr,Zr),kr.plot.call(l.setTranslate,Tn,Mn).call(l.setScale,1/Pr,1/Zr),(Pr!==kr.xScaleFactor||Zr!==kr.yScaleFactor)&&(l.setPointGroupScale(kr.zoomScalePts,Pr,Zr),l.setTextPointsScale(kr.zoomScaleTxt,Pr,Zr)),l.hideOutsideRangePoints(kr.clipOnAxisFalseTraces,kr),kr.xScaleFactor=Pr,kr.yScaleFactor=Zr}}}}function Kt(or,Nt,dr){return or.fixedrange?0:Ee&&xt.xaHash[or._id]?Nt:Re&&(xt.isSubplotConstrained?xt.xaHash:xt.yaHash)[or._id]?dr:0}function sr(or,Nt){return Nt?(or.range=or._r.slice(),w(or,Nt),hr(or,Nt)):0}function hr(or,Nt,dr){return or._length*(1-Nt)*p[dr||or.constraintoward||"middle"]}return Ie.length*Se.length!=1&&Z(at,function cr(or){if(q._context._scrollZoom.cartesian||q._fullLayout._enablescrollzoom){if(Xt(),q._transitioningWithDuration)return or.preventDefault(),void or.stopPropagation();Fe(),clearTimeout(Ut);var Nt=-or.deltaY;if(isFinite(Nt)||(Nt=or.wheelDelta/10),isFinite(Nt)){var tn,dr=Math.exp(-Math.min(Math.max(Nt,-20),20)/200),Mr=qt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),wr=(or.clientX-Mr.left)/Mr.width,kr=(Mr.bottom-or.clientY)/Mr.height;if(Ee){for(Se||(wr=.5),tn=0;tn<$e.length;tn++)_r($e[tn],wr,dr);br("x"),Ct[2]*=dr,Ct[0]+=Ct[2]*wr*(1/dr-1)}if(Re){for(Ie||(kr=.5),tn=0;tn<Be.length;tn++)_r(Be[tn],kr,dr);br("y"),Ct[3]*=dr,Ct[1]+=Ct[3]*(1-kr)*(1/dr-1)}_t(Ct),We(),q.emit("plotly_relayouting",Te),Ut=setTimeout(function(){q._fullLayout&&(Ct=[0,0,lt,ut],Rt())},Bt),or.preventDefault()}else D.log("Did not find wheel motion attributes: ",or)}function _r(Kr,vn,Xr){if(!Kr.fixedrange){var On=D.simpleMap(Kr.range,Kr.r2l),mn=On[0]+(On[1]-On[0])*vn;Kr.range=On.map(function xr(Pr){return Kr.l2r(mn+(Pr-mn)*Xr)})}}}),at},makeDragger:B,makeRectDragger:k,makeZoombox:ne,makeCorners:ie,updateZoombox:ue,xyCorners:ae,transitionZoombox:J,removeZoombox:j,showDoubleClickNotifier:W,attachWheelEventHandler:Z}},4305:function(te,Y,e){"use strict";var T=e(39898),D=e(30211),o=e(28569),P=e(6964),C=e(29323).makeDragBox,h=e(85555).DRAGGERSIZE;Y.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot)T.select(t).selectAll(".drag").remove();else if(r._has("cartesian")||r._has("splom")){Object.keys(r._plots||{}).sort(function(u,f){if((r._plots[u].mainplot&&!0)===(r._plots[f].mainplot&&!0)){var c=u.split("y"),m=f.split("y");return c[0]===m[0]?Number(c[1]||1)-Number(m[1]||1):Number(c[0]||1)-Number(m[0]||1)}return r._plots[u].mainplot?1:-1}).forEach(function(u){var f=r._plots[u],c=f.xaxis,m=f.yaxis;if(!f.mainplot){var a=C(t,f,c._offset,m._offset,c._length,m._length,"ns","ew");a.onmousemove=function(s){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===u&&t._fullLayout._plots[u]&&D.hover(t,s,u)},D.hover(t,s,u),t._fullLayout._lasthover=a,t._fullLayout._hoversubplot=u},a.onmouseout=function(s){t._dragging||(t._fullLayout._hoversubplot=null,o.unhover(t,s))},t._context.showAxisDragHandles&&(C(t,f,c._offset-h,m._offset-h,h,h,"n","w"),C(t,f,c._offset+c._length,m._offset-h,h,h,"n","e"),C(t,f,c._offset-h,m._offset+m._length,h,h,"s","w"),C(t,f,c._offset+c._length,m._offset+m._length,h,h,"s","e"))}if(t._context.showAxisDragHandles){if(u===c._mainSubplot){var b=c._mainLinePosition;"top"===c.side&&(b-=h),C(t,f,c._offset+.1*c._length,b,.8*c._length,h,"","ew"),C(t,f,c._offset,b,.1*c._length,h,"","w"),C(t,f,c._offset+.9*c._length,b,.1*c._length,h,"","e")}if(u===m._mainSubplot){var p=m._mainLinePosition;"right"!==m.side&&(p-=h),C(t,f,p,m._offset+.1*m._length,h,.8*m._length,"ns",""),C(t,f,p,m._offset+.9*m._length,h,.1*m._length,"s",""),C(t,f,p,m._offset,h,.1*m._length,"n","")}}});var i=r._hoverlayer.node();i.onmousemove=function(u){u.target=t._fullLayout._lasthover,D.hover(t,u,r._hoversubplot)},i.onclick=function(u){u.target=t._fullLayout._lasthover,D.click(t,u)},i.onmousedown=function(u){t._fullLayout._lasthover.onmousedown(u)},Y.updateFx(t)}},Y.updateFx=function(y){var t=y._fullLayout;P(t._draggers,"pan"===t.dragmode?"move":"crosshair")}},76325:function(te,Y,e){"use strict";var T=e(73972),D=e(71828),o=e(41675);te.exports=function(C){return function(y,t){var r=y[C];if(Array.isArray(r))for(var l=T.subplotsRegistry.cartesian,i=l.idRegex,u=t._subplots,f=u.xaxis,c=u.yaxis,m=u.cartesian,a=t._has("cartesian")||t._has("gl2d"),b=0;b<r.length;b++){var p=r[b];if(D.isPlainObject(p)){var s=o.cleanId(p.xref,"x",!1),v=o.cleanId(p.yref,"y",!1),A=i.x.test(s),x=i.y.test(v);if(A||x){a||D.pushUnique(t._basePlotModules,l);var E=!1;A&&-1===f.indexOf(s)&&(f.push(s),E=!0),x&&-1===c.indexOf(v)&&(c.push(v),E=!0),E&&A&&x&&m.push(s+v)}}}}}},93612:function(te,Y,e){"use strict";var T=e(39898),D=e(73972),o=e(71828),P=e(74875),C=e(91424),h=e(27659).a0,y=e(41675),t=e(85555),r=e(77922),l=o.ensureSingle;function i(b,p,s){return o.ensureSingle(b,p,s,function(v){v.datum(s)})}function u(b,p,s,v,A){for(var M,w,n,x=t.traceLayerClasses,E=b._fullLayout,g=E._modules,S=[],d=[],I=0;I<g.length;I++){var L=(M=g[I]).name,B=D.modules[L].categories;if(B.svg){var k=M.layerName||L+"layer",z=M.plot;s=(w=h(s,z))[1],(n=w[0]).length&&S.push({i:x.indexOf(k),className:k,plotMethod:z,cdModule:n}),B.zoomScale&&d.push("."+k)}}S.sort(function(N,H){return N.i-H.i});var O=p.plot.selectAll("g.mlayer").data(S,function(N){return N.className});if(O.enter().append("g").attr("class",function(N){return N.className}).classed("mlayer",!0).classed("rangeplot",p.isRangePlot),O.exit().remove(),O.order(),O.each(function(N){var H=T.select(this),X=N.className;N.plotMethod(b,p,N.cdModule,H,v,A),-1===t.clipOnAxisFalseQuery.indexOf("."+X)&&C.setClipUrl(H,p.layerClipId,b)}),E._has("scattergl")&&(M=D.getModule("scattergl"),n=h(s,M)[0],M.plot(b,p,n)),!b._context.staticPlot&&(p._hasClipOnAxisFalse&&(p.clipOnAxisFalseTraces=p.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),d.length)){var F=p.plot.selectAll(d.join(",")).selectAll(".trace");p.zoomScalePts=F.selectAll("path.point"),p.zoomScaleTxt=F.selectAll(".textpoint")}}function c(b,p){var s=p.plotgroup,v=p.id,A=t.layerValue2layerClass[p.xaxis.layer],x=t.layerValue2layerClass[p.yaxis.layer],E=b._fullLayout._hasOnlyLargeSploms;if(p.mainplot){var M=p.mainplotinfo,w=M.plotgroup,n=v+"-x",S=v+"-y";p.minorGridlayer=M.minorGridlayer,p.gridlayer=M.gridlayer,p.zerolinelayer=M.zerolinelayer,l(M.overlinesBelow,"path",n),l(M.overlinesBelow,"path",S),l(M.overaxesBelow,"g",n),l(M.overaxesBelow,"g",S),p.plot=l(M.overplot,"g",v),l(M.overlinesAbove,"path",n),l(M.overlinesAbove,"path",S),l(M.overaxesAbove,"g",n),l(M.overaxesAbove,"g",S),p.xlines=w.select(".overlines-"+A).select("."+n),p.ylines=w.select(".overlines-"+x).select("."+S),p.xaxislayer=w.select(".overaxes-"+A).select("."+n),p.yaxislayer=w.select(".overaxes-"+x).select("."+S)}else if(E)p.xlines=l(s,"path","xlines-above"),p.ylines=l(s,"path","ylines-above"),p.xaxislayer=l(s,"g","xaxislayer-above"),p.yaxislayer=l(s,"g","yaxislayer-above");else{var g=l(s,"g","layer-subplot");p.shapelayer=l(g,"g","shapelayer"),p.imagelayer=l(g,"g","imagelayer"),p.minorGridlayer=l(s,"g","minor-gridlayer"),p.gridlayer=l(s,"g","gridlayer"),p.zerolinelayer=l(s,"g","zerolinelayer"),l(s,"path","xlines-below"),l(s,"path","ylines-below"),p.overlinesBelow=l(s,"g","overlines-below"),l(s,"g","xaxislayer-below"),l(s,"g","yaxislayer-below"),p.overaxesBelow=l(s,"g","overaxes-below"),p.plot=l(s,"g","plot"),p.overplot=l(s,"g","overplot"),p.xlines=l(s,"path","xlines-above"),p.ylines=l(s,"path","ylines-above"),p.overlinesAbove=l(s,"g","overlines-above"),l(s,"g","xaxislayer-above"),l(s,"g","yaxislayer-above"),p.overaxesAbove=l(s,"g","overaxes-above"),p.xlines=s.select(".xlines-"+A),p.ylines=s.select(".ylines-"+x),p.xaxislayer=s.select(".xaxislayer-"+A),p.yaxislayer=s.select(".yaxislayer-"+x)}E||(i(p.minorGridlayer,"g",p.xaxis._id),i(p.minorGridlayer,"g",p.yaxis._id),p.minorGridlayer.selectAll("g").map(function(d){return d[0]}).sort(y.idSort),i(p.gridlayer,"g",p.xaxis._id),i(p.gridlayer,"g",p.yaxis._id),p.gridlayer.selectAll("g").map(function(d){return d[0]}).sort(y.idSort)),p.xlines.style("fill","none").classed("crisp",!0),p.ylines.style("fill","none").classed("crisp",!0)}function m(b,p){if(b){var s={};for(var v in b.each(function(M){var w=M[0];T.select(this).remove(),a(w,p),s[w]=!0}),p._plots)for(var x=p._plots[v].overlays||[],E=0;E<x.length;E++){var g=x[E];s[g.id]&&g.plot.selectAll(".trace").remove()}}}function a(b,p){p._draggers.selectAll("g."+b).remove(),p._defs.select("#clip"+p._uid+b+"plot").remove()}Y.name="cartesian",Y.attr=["xaxis","yaxis"],Y.idRoot=["x","y"],Y.idRegex=t.idRegex,Y.attrRegex=t.attrRegex,Y.attributes=e(89502),Y.layoutAttributes=e(13838),Y.supplyLayoutDefaults=e(86763),Y.transitionAxes=e(66847),Y.finalizeSubplots=function(b,p){var w,n,S,s=p._subplots,v=s.xaxis,A=s.yaxis,x=s.cartesian,E=x.concat(s.gl2d||[]),g={},M={};for(w=0;w<E.length;w++){var d=E[w].split("y");g[d[0]]=1,M["y"+d[1]]=1}for(w=0;w<v.length;w++)g[n=v[w]]||(S=(b[y.id2name(n)]||{}).anchor,t.idRegex.y.test(S)||(S="y"),x.push(n+S),E.push(n+S),M[S]||(M[S]=1,o.pushUnique(A,S)));for(w=0;w<A.length;w++)M[S=A[w]]||(n=(b[y.id2name(S)]||{}).anchor,t.idRegex.x.test(n)||(n="x"),x.push(n+S),E.push(n+S),g[n]||(g[n]=1,o.pushUnique(v,n)));if(!E.length){for(var I in n="",S="",b)t.attrRegex.test(I)&&("x"===I.charAt(0)?(!n||+I.substr(5)<+n.substr(5))&&(n=I):(!S||+I.substr(5)<+S.substr(5))&&(S=I));n=n?y.name2id(n):"x",S=S?y.name2id(S):"y",v.push(n),A.push(S),x.push(n+S)}},Y.plot=function(b,p,s,v){var g,A=b._fullLayout,x=A._subplots.cartesian,E=b.calcdata;if(!Array.isArray(p))for(p=[],g=0;g<E.length;g++)p.push(g);for(g=0;g<x.length;g++){for(var S,M=x[g],w=A._plots[M],n=[],d=0;d<E.length;d++){var I=E[d],L=I[0].trace;L.xaxis+L.yaxis===M&&((-1!==p.indexOf(L.index)||L.carpet)&&(S&&S[0].trace.xaxis+S[0].trace.yaxis===M&&-1!==["tonextx","tonexty","tonext"].indexOf(L.fill)&&-1===n.indexOf(S)&&n.push(S),n.push(I)),S=I)}u(b,w,n,s,v)}},Y.clean=function(b,p,s,v){var g,M,w,A=v._plots||{},x=p._plots||{},E=v._subplots||{};if(v._hasOnlyLargeSploms&&!p._hasOnlyLargeSploms)for(w in A)(g=A[w]).plotgroup&&g.plotgroup.remove();var n=v._has&&v._has("gl"),S=p._has&&p._has("gl");if(n&&!S)for(w in A)(g=A[w])._scene&&g._scene.destroy();if(E.xaxis&&E.yaxis){var d=y.listIds({_fullLayout:v});for(M=0;M<d.length;M++){var I=d[M];p[y.id2name(I)]||v._infolayer.selectAll(".g-"+I+"title").remove()}}var L=v._has&&v._has("cartesian"),B=p._has&&p._has("cartesian");if(L&&!B)m(v._cartesianlayer.selectAll(".subplot"),v),v._defs.selectAll(".axesclip").remove(),delete v._axisConstraintGroups,delete v._axisMatchGroups;else if(E.cartesian)for(M=0;M<E.cartesian.length;M++){var k=E.cartesian[M];x[k]||(v._cartesianlayer.selectAll("."+k+",."+k+"-x,."+k+"-y").remove(),a(k,v))}},Y.drawFramework=function(b){var p=b._fullLayout,s=function f(b){var A,x,E,g,M,w,p=b._fullLayout,s=p._subplots.cartesian,v=s.length,n=[],S=[];for(A=0;A<v;A++){var L=(M=(g=p._plots[E=s[A]]).xaxis)._mainAxis._id+(w=g.yaxis)._mainAxis._id,B=p._plots[L];g.overlays=[],L!==E&&B?(g.mainplot=L,g.mainplotinfo=B,S.push(E)):(g.mainplot=void 0,g.mainplotinfo=void 0,n.push(E))}for(A=0;A<S.length;A++)(g=p._plots[E=S[A]]).mainplotinfo.overlays.push(g);var k=n.concat(S),z=new Array(v);for(A=0;A<v;A++){var O=[E=k[A],(M=(g=p._plots[E]).xaxis).layer,(w=g.yaxis).layer,M.overlaying||"",w.overlaying||""];for(x=0;x<g.overlays.length;x++)O.push(g.overlays[x].id);z[A]=O}return z}(b),v=p._cartesianlayer.selectAll(".subplot").data(s,String);v.enter().append("g").attr("class",function(A){return"subplot "+A[0]}),v.order(),v.exit().call(m,p),v.each(function(A){var x=A[0],E=p._plots[x];E.plotgroup=T.select(this),c(b,E),E.draglayer=l(p._draggers,"g",x)})},Y.rangePlot=function(b,p,s){c(b,p),u(b,p,s),P.style(b)},Y.toSVG=function(b){var p=b._fullLayout._glimages,s=T.select(b).selectAll(".svg-container");s.filter(function(x,E){return E===s.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function A(){var x=this,E=x.toDataURL("image/png");p.append("svg:image").attr({xmlns:r.svg,"xlink:href":E,preserveAspectRatio:"none",x:0,y:0,width:x.style.width,height:x.style.height})})},Y.updateFx=e(4305).updateFx},13838:function(te,Y,e){"use strict";var T=e(41940),D=e(22399),o=e(79952).P,P=e(1426).extendFlat,C=e(44467).templatedArray,h=e(12663).descriptionWithDates,y=e(50606).ONEDAY,t=e(85555),r=t.HOUR_PATTERN,l=t.WEEKDAY_PATTERN,i={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},u=P({},i,{values:i.values.slice().concat(["sync"])});function f(M){return{valType:"integer",min:0,dflt:M?5:0,editType:"ticks"}}var c={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},a={valType:"data_array",editType:"ticks"},b={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function p(M){var w={valType:"number",min:0,editType:"ticks"};return M||(w.dflt=5),w}function s(M){var w={valType:"number",min:0,editType:"ticks"};return M||(w.dflt=1),w}var v={valType:"color",dflt:D.defaultLine,editType:"ticks"},A={valType:"color",dflt:D.lightLine,editType:"ticks"};function x(M){var w={valType:"number",min:0,editType:"ticks"};return M||(w.dflt=1),w}var E=P({},o,{editType:"ticks"}),g={valType:"boolean",editType:"ticks"};te.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:D.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:T({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:C("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[l,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:y},editType:"calc"}),tickmode:u,nticks:f(),tick0:c,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:a,ticktext:{valType:"data_array",editType:"ticks"},ticks:b,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:p(),tickwidth:s(),tickcolor:v,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:P({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:T({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:h("tick label")},tickformatstops:C("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:h("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:D.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:g,gridcolor:A,gridwidth:x(),griddash:E,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:D.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:D.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:i,nticks:f("minor"),tick0:c,dtick:m,tickvals:a,ticks:b,ticklen:p("minor"),tickwidth:s("minor"),tickcolor:v,gridcolor:A,gridwidth:x("minor"),griddash:E,showgrid:g,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:T({editType:"ticks"})}}},86763:function(te,Y,e){"use strict";var T=e(71828),D=e(7901),o=e(23469).isUnifiedHover,P=e(98212),C=e(44467),h=e(10820),y=e(13838),t=e(951),r=e(71453),l=e(99082),i=e(52830),u=e(41675),f=u.id2name,c=u.name2id,m=e(85555).AX_ID_PATTERN,a=e(73972),b=a.traceIs,p=a.getComponentMethod;function s(v,A,x){Array.isArray(v[A])?v[A].push(x):v[A]=[x]}te.exports=function(A,x,E){var O,F,g=x.autotypenumbers,M={},w={},n={},S={},d={},I={},L={},B={},k={},z={};for(O=0;O<E.length;O++){var N=E[O];if(b(N,"cartesian")||b(N,"gl2d")){var H,X;if(N.xaxis)H=f(N.xaxis),s(M,H,N);else if(N.xaxes)for(F=0;F<N.xaxes.length;F++)s(M,f(N.xaxes[F]),N);if(N.yaxis)X=f(N.yaxis),s(M,X,N);else if(N.yaxes)for(F=0;F<N.yaxes.length;F++)s(M,f(N.yaxes[F]),N);"funnel"===N.type?"h"===N.orientation?(H&&(w[H]=!0),X&&(L[X]=!0)):X&&(n[X]=!0):"image"===N.type?(X&&(B[X]=!0),H&&(B[H]=!0)):(X&&(d[X]=!0,I[X]=!0),(!b(N,"carpet")||"carpet"===N.type&&!N._cheater)&&H&&(S[H]=!0)),"carpet"===N.type&&N._cheater&&H&&(w[H]=!0),b(N,"2dMap")&&(k[H]=!0,k[X]=!0),b(N,"oriented")&&(z["h"===N.orientation?X:H]=!0)}}var ie=x._subplots,ue=ie.xaxis,J=ie.yaxis,j=T.simpleMap(ue,f),W=T.simpleMap(J,f),V=j.concat(W),K=D.background;ue.length&&J.length&&(K=T.coerce(A,x,h,"plot_bgcolor"));var Q,Z,re,q,se,ae=D.combine(K,x.paper_bgcolor);function de(){se._traceIndices=(M[Q]||[]).map(function(pe){return pe._expandedIndex}),se._annIndices=[],se._shapeIndices=[],se._selectionIndices=[],se._imgIndices=[],se._subplotsWith=[],se._counterAxes=[],se._name=se._attr=Q,se._id=Z}function we(fe,pe){return T.coerce(q,se,y,fe,pe)}function ye(fe,pe){return T.coerce2(q,se,y,fe,pe)}function Pe(fe){return"x"===fe?J:ue}function Ie(fe,pe){for(var Fe="x"===fe?j:W,Xe=[],at=0;at<Fe.length;at++){var ft=Fe[at];ft!==pe&&!(A[ft]||{}).overlaying&&Xe.push(c(ft))}return Xe}var Se={x:Pe("x"),y:Pe("y")},xe=Se.x.concat(Se.y),Me={},Ge=[];function Ye(){var fe=q.matches;m.test(fe)&&-1===xe.indexOf(fe)&&(Me[fe]=q.type,Ge=Object.keys(Me))}var De=P(A,x),He=o(De);for(O=0;O<V.length;O++){Z=c(Q=V[O]),re=Q.charAt(0),T.isPlainObject(A[Q])||(A[Q]={}),q=A[Q],se=C.newContainer(x,Q,re+"axis"),de();var Be={hasMinor:!0,letter:re,font:x.font,outerTicks:k[Q],showGrid:!z[Q],data:M[Q]||[],bgColor:ae,calendar:x.calendar,automargin:!0,visibleDflt:"x"===re&&!S[Q]&&w[Q]||"y"===re&&!d[Q]&&n[Q],reverseDflt:"y"===re&&(!I[Q]&&L[Q]||B[Q]),autotypenumbersDflt:g,splomStash:((x._splomAxes||{})[re]||{})[Z]};we("uirevision",x.uirevision),t(q,se,we,Be),r(q,se,we,Be,x);var ze=He&&re===De.charAt(0),tt=ye("spikecolor",He?se.color:void 0),lt=ye("spikethickness",He?1.5:void 0),ut=ye("spikedash",He?"dot":void 0),xt=ye("spikemode",He?"across":void 0),bt=ye("spikesnap");we("showspikes",!!(ze||tt||lt||ut||xt||bt))||(delete se.spikecolor,delete se.spikethickness,delete se.spikedash,delete se.spikemode,delete se.spikesnap);var Je=f(q.overlaying),Ce=[0,1];if(void 0!==x[Je]){var Ee=f(x[Je].anchor);void 0!==x[Ee]&&(Ce=x[Ee].domain)}i(q,se,we,{letter:re,counterAxes:Se[re],overlayableAxes:Ie(re,Q),grid:x.grid,overlayingDomain:Ce}),we("title.standoff"),Ye(),se._input=q}for(O=0;O<Ge.length;){Z=Ge[O++],re=(Q=f(Z)).charAt(0),T.isPlainObject(A[Q])||(A[Q]={}),q=A[Q],se=C.newContainer(x,Q,re+"axis"),de();var Re={letter:re,font:x.font,outerTicks:k[Q],showGrid:!z[Q],data:[],bgColor:ae,calendar:x.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:g,splomStash:((x._splomAxes||{})[re]||{})[Z]};we("uirevision",x.uirevision),se.type=Me[Z]||"linear",r(q,se,we,Re,x),i(q,se,we,{letter:re,counterAxes:Se[re],overlayableAxes:Ie(re,Q),grid:x.grid}),we("fixedrange"),Ye(),se._input=q}var ke=p("rangeslider","handleDefaults"),Ne=p("rangeselector","handleDefaults");for(O=0;O<j.length;O++)q=A[Q=j[O]],se=x[Q],ke(A,x,Q),"date"===se.type&&Ne(q,se,x,W,se.calendar),we("fixedrange");for(O=0;O<W.length;O++){q=A[Q=W[O]];var _e=x[f((se=x[Q]).anchor)];we("fixedrange",p("rangeslider","isVisible")(_e))}l.handleDefaults(A,x,{axIds:xe.concat(Ge).sort(u.idSort),axHasImage:B})}},92128:function(te,Y,e){"use strict";var T=e(84267).mix,D=e(22399),o=e(71828);te.exports=function(C,h,y,t){var r=(t=t||{}).dfltColor;function l(n,S){return o.coerce2(C,h,t.attributes,n,S)}var i=l("linecolor",r),u=l("linewidth");y("showline",t.showLine||!!i||!!u)||(delete h.linecolor,delete h.linewidth);var m=l("gridcolor",T(r,t.bgColor,t.blend||D.lightFraction).toRgbString()),a=l("gridwidth"),b=l("griddash");if(y("showgrid",t.showGrid||!!m||!!a||!!b)||(delete h.gridcolor,delete h.gridwidth,delete h.griddash),t.hasMinor){var v=l("minor.gridcolor",T(h.gridcolor,t.bgColor,67).toRgbString()),A=l("minor.gridwidth",h.gridwidth||1),x=l("minor.griddash",h.griddash||"solid");y("minor.showgrid",!!v||!!A||!!x)||(delete h.minor.gridcolor,delete h.minor.gridwidth,delete h.minor.griddash)}if(!t.noZeroLine){var g=l("zerolinecolor",r),M=l("zerolinewidth");y("zeroline",t.showGrid||!!g||!!M)||(delete h.zerolinecolor,delete h.zerolinewidth)}}},52830:function(te,Y,e){"use strict";var T=e(92770),D=e(71828);te.exports=function(P,C,h,y){var f,c,m,a,b,p,t=y.counterAxes||[],r=y.overlayableAxes||[],l=y.letter,i=y.grid,u=y.overlayingDomain;i&&(f=i._anchors[C._id],(c=i._domains[l][i._axisMap[C._id]])&&(m=i[l+"side"].split(" ")[0],a=i.domain[l]["right"===m||"top"===m?1:0])),c=c||[0,1],f=f||(T(P.position)?"free":t[0]||"free"),m=m||("x"===l?"bottom":"left"),a=a||0,b=0,p=!1;var s=D.coerce(P,C,{anchor:{valType:"enumerated",values:["free"].concat(t),dflt:f}},"anchor"),v=D.coerce(P,C,{side:{valType:"enumerated",values:"x"===l?["bottom","top"]:["left","right"],dflt:m}},"side");"free"===s&&("y"===l&&(h("autoshift")&&(a="left"===v?u[0]:u[1],p=!C.automargin||C.automargin,b="left"===v?-3:3),h("shift",b)),h("position",a)),h("automargin",p);var x=!1;if(r.length&&(x=D.coerce(P,C,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!x){var E=h("domain",c);E[0]>E[1]-.000244140625&&(C.domain=c),D.noneOrAll(P.domain,C.domain,c),"sync"===C.tickmode&&(C.tickmode="auto")}return h("layer"),C}},89426:function(te,Y,e){"use strict";var T=e(59652);te.exports=function(o,P,C,h,y){y||(y={});var t=y.tickSuffixDflt,r=T(o);C("tickprefix")&&C("showtickprefix",r),C("ticksuffix",t)&&C("showticksuffix",r)}},23608:function(te,Y,e){"use strict";var T=e(23074);te.exports=function(o,P,C,h){var t=P.type||(P._template||{}).type||"-";C("minallowed"),C("maxallowed");var l,r=C("range");r||!h.noInsiderange&&"log"!==t&&((l=C("insiderange"))&&(null===l[0]||null===l[1])&&(P.insiderange=!1,l=void 0),l&&(r=C("range",l)));var f,i=P.getAutorangeDflt(r,h),u=C("autorange",i);r&&(null===r[0]&&null===r[1]||(null===r[0]||null===r[1])&&("reversed"===u||!0===u)||null!==r[0]&&("min"===u||"max reversed"===u)||null!==r[1]&&("max"===u||"min reversed"===u))&&(r=void 0,delete P.range,P.autorange=!0,f=!0),f||(u=C("autorange",i=P.getAutorangeDflt(r,h))),u&&(T(C,u,r),("linear"===t||"-"===t)&&C("rangemode")),P.cleanRange()}},42449:function(te,Y,e){"use strict";var T=e(18783).FROM_BL;te.exports=function(o,P,C){void 0===C&&(C=T[o.constraintoward||"center"]);var h=[o.r2l(o.range[0]),o.r2l(o.range[1])],y=h[0]+(h[1]-h[0])*C;o.range=o._input.range=[o.l2r(y+(h[0]-y)*P),o.l2r(y+(h[1]-y)*P)],o.setScale()}},21994:function(te,Y,e){"use strict";var T=e(39898),D=e(84096).g0,o=e(71828),P=o.numberFormat,C=e(92770),h=o.cleanNumber,y=o.ms2DateTime,t=o.dateTime2ms,r=o.ensureNumber,l=o.isArrayOrTypedArray,i=e(50606),u=i.FP_SAFE,f=i.BADNUM,c=i.LOG_CLIP,m=i.ONEWEEK,a=i.ONEDAY,b=i.ONEHOUR,p=i.ONEMIN,s=i.ONESEC,v=e(41675),A=e(85555),x=A.HOUR_PATTERN,E=A.WEEKDAY_PATTERN;function g(w){return Math.pow(10,w)}function M(w){return null!=w}te.exports=function(n,S){S=S||{};var d=n._id||"x",I=d.charAt(0);function L(V,K){if(V>0)return Math.log(V)/Math.LN10;if(V<=0&&K&&n.range&&2===n.range.length){var ae=n.range[0],Q=n.range[1];return.5*(ae+Q-2*c*Math.abs(ae-Q))}return f}function B(V,K,ae,Q){if((Q||{}).msUTC&&C(V))return+V;var Z=t(V,ae||n.calendar);if(Z===f){if(!C(V))return f;V=+V;var re=Math.floor(10*o.mod(V+.05,1)),q=Math.round(V-re/10);Z=t(new Date(q))+re/10}return Z}function k(V,K,ae){return y(V,K,ae||n.calendar)}function z(V){return n._categories[Math.round(V)]}function O(V){if(M(V)){if(void 0===n._categoriesMap&&(n._categoriesMap={}),void 0!==n._categoriesMap[V])return n._categoriesMap[V];n._categories.push("number"==typeof V?String(V):V);var K=n._categories.length-1;return n._categoriesMap[V]=K,K}return f}function N(V){if(n._categoriesMap)return n._categoriesMap[V]}function H(V){var K=N(V);return void 0!==K?K:C(V)?+V:void 0}function X(V){return C(V)?+V:N(V)}function ne(V,K,ae){return T.round(ae+K*V,2)}function ie(V,K,ae){return(V-ae)/K}var ue=function(K){return C(K)?ne(K,n._m,n._b):f},J=function(V){return ie(V,n._m,n._b)};if(n.rangebreaks){var j="y"===I;ue=function(V){if(!C(V))return f;var K=n._rangebreaks.length;if(!K)return ne(V,n._m,n._b);var ae=j;n.range[0]>n.range[1]&&(ae=!ae);for(var Q=ae?-1:1,Z=Q*V,re=0,q=0;q<K;q++){var se=Q*n._rangebreaks[q].min,de=Q*n._rangebreaks[q].max;if(Z<se)break;if(!(Z>de)){re=Z<(se+de)/2?q:q+1;break}re=q+1}var we=n._B[re]||0;return isFinite(we)?ne(V,n._m2,we):0},J=function(V){var K=n._rangebreaks.length;if(!K)return ie(V,n._m,n._b);for(var ae=0,Q=0;Q<K&&!(V<n._rangebreaks[Q].pmin);Q++)V>n._rangebreaks[Q].pmax&&(ae=Q+1);return ie(V,n._m2,n._B[ae])}}n.c2l="log"===n.type?L:r,n.l2c="log"===n.type?g:r,n.l2p=ue,n.p2l=J,n.c2p="log"===n.type?function(V,K){return ue(L(V,K))}:ue,n.p2c="log"===n.type?function(V){return g(J(V))}:J,-1!==["linear","-"].indexOf(n.type)?(n.d2r=n.r2d=n.d2c=n.r2c=n.d2l=n.r2l=h,n.c2d=n.c2r=n.l2d=n.l2r=r,n.d2p=n.r2p=function(V){return n.l2p(h(V))},n.p2d=n.p2r=J,n.cleanPos=r):"log"===n.type?(n.d2r=n.d2l=function(V,K){return L(h(V),K)},n.r2d=n.r2c=function(V){return g(h(V))},n.d2c=n.r2l=h,n.c2d=n.l2r=r,n.c2r=L,n.l2d=g,n.d2p=function(V,K){return n.l2p(n.d2r(V,K))},n.p2d=function(V){return g(J(V))},n.r2p=function(V){return n.l2p(h(V))},n.p2r=J,n.cleanPos=r):"date"===n.type?(n.d2r=n.r2d=o.identity,n.d2c=n.r2c=n.d2l=n.r2l=B,n.c2d=n.c2r=n.l2d=n.l2r=k,n.d2p=n.r2p=function(V,K,ae){return n.l2p(B(V,0,ae))},n.p2d=n.p2r=function(V,K,ae){return k(J(V),K,ae)},n.cleanPos=function(V){return o.cleanDate(V,f,n.calendar)}):"category"===n.type?(n.d2c=n.d2l=O,n.r2d=n.c2d=n.l2d=z,n.d2r=n.d2l_noadd=H,n.r2c=function(V){var K=X(V);return void 0!==K?K:n.fraction2r(.5)},n.l2r=n.c2r=r,n.r2l=X,n.d2p=function(V){return n.l2p(n.r2c(V))},n.p2d=function(V){return z(J(V))},n.r2p=n.d2p,n.p2r=J,n.cleanPos=function(V){return"string"==typeof V&&""!==V?V:r(V)}):"multicategory"===n.type&&(n.r2d=n.c2d=n.l2d=z,n.d2r=n.d2l_noadd=H,n.r2c=function(V){var K=H(V);return void 0!==K?K:n.fraction2r(.5)},n.r2c_just_indices=N,n.l2r=n.c2r=r,n.r2l=H,n.d2p=function(V){return n.l2p(n.r2c(V))},n.p2d=function(V){return z(J(V))},n.r2p=n.d2p,n.p2r=J,n.cleanPos=function(V){return Array.isArray(V)||"string"==typeof V&&""!==V?V:r(V)},n.setupMultiCategory=function(V){var ae,Q,K=n._traceIndices,Z=n._matchGroup;if(Z&&0===n._categories.length)for(var re in Z)if(re!==d){var q=S[v.id2name(re)];K=K.concat(q._traceIndices)}var se=[[0,{}],[0,{}]],de=[];for(ae=0;ae<K.length;ae++){var we=V[K[ae]];if(I in we){var ye=we[I],Pe=we._length||o.minRowLength(ye);if(l(ye[0])&&l(ye[1]))for(Q=0;Q<Pe;Q++){var Ie=ye[0][Q],Se=ye[1][Q];M(Ie)&&M(Se)&&(de.push([Ie,Se]),Ie in se[0][1]||(se[0][1][Ie]=se[0][0]++),Se in se[1][1]||(se[1][1][Se]=se[1][0]++))}}}for(de.sort(function(xe,Me){var Ge=se[0][1],Ye=Ge[xe[0]]-Ge[Me[0]];if(Ye)return Ye;var De=se[1][1];return De[xe[1]]-De[Me[1]]}),ae=0;ae<de.length;ae++)O(de[ae])}),n.fraction2r=function(V){var K=n.r2l(n.range[0]),ae=n.r2l(n.range[1]);return n.l2r(K+V*(ae-K))},n.r2fraction=function(V){var K=n.r2l(n.range[0]),ae=n.r2l(n.range[1]);return(n.r2l(V)-K)/(ae-K)},n.limitRange=function(V){var K=n.minallowed,ae=n.maxallowed;if(void 0!==K||void 0!==ae){V||(V="range");var Q=o.nestedProperty(n,V).get(),Z=o.simpleMap(Q,n.r2l),re=Z[1]<Z[0];re&&Z.reverse();var q=o.simpleMap([K,ae],n.r2l);void 0!==K&&Z[0]<q[0]&&(Q[re?1:0]=K),void 0!==ae&&Z[1]>q[1]&&(Q[re?0:1]=ae)}},n.cleanRange=function(V,K){n._cleanRange(V,K),n.limitRange(V)},n._cleanRange=function(V,K){K||(K={}),V||(V="range");var Q,Z,ae=o.nestedProperty(n,V).get();if(Z=(Z="date"===n.type?o.dfltRange(n.calendar):"y"===I?A.DFLTRANGEY:"realaxis"===n._name?[0,1]:K.dfltRange||A.DFLTRANGEX).slice(),("tozero"===n.rangemode||"nonnegative"===n.rangemode)&&(Z[0]=0),ae&&2===ae.length){var re=null===ae[0],q=null===ae[1];for("date"===n.type&&!n.autorange&&(ae[0]=o.cleanDate(ae[0],f,n.calendar),ae[1]=o.cleanDate(ae[1],f,n.calendar)),Q=0;Q<2;Q++)if("date"===n.type){if(!o.isDateTime(ae[Q],n.calendar)){n[V]=Z;break}if(n.r2l(ae[0])===n.r2l(ae[1])){var se=o.constrain(n.r2l(ae[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);ae[0]=n.l2r(se-1e3),ae[1]=n.l2r(se+1e3);break}}else{if(!C(ae[Q])){if(re||q||!C(ae[1-Q])){n[V]=Z;break}ae[Q]=ae[1-Q]*(Q?10:.1)}if(ae[Q]<-u?ae[Q]=-u:ae[Q]>u&&(ae[Q]=u),ae[0]===ae[1]){var de=Math.max(1,Math.abs(1e-6*ae[0]));ae[0]-=de,ae[1]+=de}}}else o.nestedProperty(n,V).set(Z)},n.setScale=function(V){var K=S._size;if(n.overlaying){var ae=v.getFromId({_fullLayout:S},n.overlaying);n.domain=ae.domain}var Q=V&&n._r?"_r":"range",Z=n.calendar;n.cleanRange(Q);var de,we,re=n.r2l(n[Q][0],Z),q=n.r2l(n[Q][1],Z),se="y"===I;if(se?(n._offset=K.t+(1-n.domain[1])*K.h,n._length=K.h*(n.domain[1]-n.domain[0]),n._m=n._length/(re-q),n._b=-n._m*q):(n._offset=K.l+n.domain[0]*K.w,n._length=K.w*(n.domain[1]-n.domain[0]),n._m=n._length/(q-re),n._b=-n._m*re),n._rangebreaks=[],n._lBreaks=0,n._m2=0,n._B=[],n.rangebreaks&&(n._rangebreaks=n.locateBreaks(Math.min(re,q),Math.max(re,q)),n._rangebreaks.length)){for(de=0;de<n._rangebreaks.length;de++)we=n._rangebreaks[de],n._lBreaks+=Math.abs(we.max-we.min);var ye=se;re>q&&(ye=!ye),ye&&n._rangebreaks.reverse();var Pe=ye?-1:1;for(n._m2=Pe*n._length/(Math.abs(q-re)-n._lBreaks),n._B.push(-n._m2*(se?q:re)),de=0;de<n._rangebreaks.length;de++)n._B.push(n._B[n._B.length-1]-Pe*n._m2*((we=n._rangebreaks[de]).max-we.min));for(de=0;de<n._rangebreaks.length;de++)(we=n._rangebreaks[de]).pmin=ue(we.min),we.pmax=ue(we.max)}if(!isFinite(n._m)||!isFinite(n._b)||n._length<0)throw S._replotting=!1,new Error("Something went wrong with axis scaling")},n.maskBreaks=function(V){var ae,Q,Z,re,q,K=n.rangebreaks||[];K._cachedPatterns||(K._cachedPatterns=K.map(function(Ge){return Ge.enabled&&Ge.bounds?o.simpleMap(Ge.bounds,Ge.pattern?h:n.d2c):null})),K._cachedValues||(K._cachedValues=K.map(function(Ge){return Ge.enabled&&Ge.values?o.simpleMap(Ge.values,n.d2c).sort(o.sorterAsc):null}));for(var se=0;se<K.length;se++){var de=K[se];if(de.enabled)if(de.bounds){switch(Q=(ae=K._cachedPatterns[se])[0],Z=ae[1],de.pattern){case E:re=(q=new Date(V)).getUTCDay(),Q>Z&&(Z+=7,re<Q&&(re+=7));break;case x:re=(q=new Date(V)).getUTCHours()+(q.getUTCMinutes()/60+q.getUTCSeconds()/3600+q.getUTCMilliseconds()/36e5),Q>Z&&(Z+=24,re<Q&&(re+=24));break;case"":re=V}if(re>=Q&&re<Z)return f}else for(var xe=K._cachedValues[se],Me=0;Me<xe.length;Me++)if(Z=(Q=xe[Me])+de.dvalue,V>=Q&&V<Z)return f}return V},n.locateBreaks=function(V,K){var ae,Q,Z,re,q=[];if(!n.rangebreaks)return q;var se=n.rangebreaks.slice().sort(function(De,He){return De.pattern===E&&He.pattern===x?-1:He.pattern===E&&De.pattern===x?1:0}),de=function(De,He){if((De=o.constrain(De,V,K))!==(He=o.constrain(He,V,K))){for(var rt=!0,$e=0;$e<q.length;$e++){var Be=q[$e];De<Be.max&&He>=Be.min&&(De<Be.min&&(Be.min=De),He>Be.max&&(Be.max=He),rt=!1)}rt&&q.push({min:De,max:He})}};for(ae=0;ae<se.length;ae++){var we=se[ae];if(we.enabled)if(we.bounds){var ye=V,Pe=K;we.pattern&&(ye=Math.floor(ye)),Z=(Q=o.simpleMap(we.bounds,we.pattern?h:n.r2l))[0],re=Q[1];var Se,xe,Ie=new Date(ye);switch(we.pattern){case E:xe=m,Se=(re-Z+(re<Z?7:0))*a,ye+=Z*a-(Ie.getUTCDay()*a+Ie.getUTCHours()*b+Ie.getUTCMinutes()*p+Ie.getUTCSeconds()*s+Ie.getUTCMilliseconds());break;case x:xe=a,Se=(re-Z+(re<Z?24:0))*b,ye+=Z*b-(Ie.getUTCHours()*b+Ie.getUTCMinutes()*p+Ie.getUTCSeconds()*s+Ie.getUTCMilliseconds());break;default:ye=Math.min(Q[0],Q[1]),Se=xe=(Pe=Math.max(Q[0],Q[1]))-ye}for(var Me=ye;Me<Pe;Me+=xe)de(Me,Me+Se)}else for(var Ge=o.simpleMap(we.values,n.d2c),Ye=0;Ye<Ge.length;Ye++)de(Z=Ge[Ye],re=Z+we.dvalue)}return q.sort(function(De,He){return De.min-He.min}),q},n.makeCalcdata=function(V,K,ae){var Q,Z,re,q,se=n.type,de="date"===se&&V[K+"calendar"];if(K in V){if(Q=V[K],q=V._length||o.minRowLength(Q),o.isTypedArray(Q)&&("linear"===se||"log"===se)){if(q===Q.length)return Q;if(Q.subarray)return Q.subarray(0,q)}if("multicategory"===se)return function F(V,K){for(var ae=new Array(K),Q=0;Q<K;Q++)ae[Q]=N([(V[0]||[])[Q],(V[1]||[])[Q]]);return ae}(Q,q);for(Z=new Array(q),re=0;re<q;re++)Z[re]=n.d2c(Q[re],0,de,ae)}else{var we=K+"0"in V?n.d2c(V[K+"0"],0,de):0,ye=V["d"+K]?Number(V["d"+K]):1;for(Q=V[{x:"y",y:"x"}[K]],q=V._length||Q.length,Z=new Array(q),re=0;re<q;re++)Z[re]=we+re*ye}if(n.rangebreaks)for(re=0;re<q;re++)Z[re]=n.maskBreaks(Z[re]);return Z},n.isValidRange=function(V,K){return Array.isArray(V)&&2===V.length&&(K&&null===V[0]||C(n.r2l(V[0])))&&(K&&null===V[1]||C(n.r2l(V[1])))},n.getAutorangeDflt=function(V,K){var ae=!n.isValidRange(V,"nullOk");return ae&&K&&K.reverseDflt?ae="reversed":V&&(null===V[0]&&null===V[1]?ae=!0:null===V[0]&&null!==V[1]?ae="min":null!==V[0]&&null===V[1]&&(ae="max")),ae},n.isReversed=function(){var V=n.autorange;return"reversed"===V||"min reversed"===V||"max reversed"===V},n.isPtWithinRange=function(V,K){var ae=n.c2l(V[I],null,K),Q=n.r2l(n.range[0]),Z=n.r2l(n.range[1]);return Q<Z?Q<=ae&&ae<=Z:Z<=ae&&ae<=Q},n._emptyCategories=function(){n._categories=[],n._categoriesMap={}},n.clearCalc=function(){var V=n._matchGroup;if(V){var K=null,ae=null;for(var Q in V){var Z=S[v.id2name(Q)];if(Z._categories){K=Z._categories,ae=Z._categoriesMap;break}}K&&ae?(n._categories=K,n._categoriesMap=ae):n._emptyCategories()}else n._emptyCategories();if(n._initialCategories)for(var re=0;re<n._initialCategories.length;re++)O(n._initialCategories[re])},n.sortByInitialCategories=function(){var V=[];if(n._emptyCategories(),n._initialCategories)for(var K=0;K<n._initialCategories.length;K++)O(n._initialCategories[K]);V=V.concat(n._traceIndices);var ae=n._matchGroup;for(var Q in ae)if(d!==Q){var Z=S[v.id2name(Q)];Z._categories=n._categories,Z._categoriesMap=n._categoriesMap,V=V.concat(Z._traceIndices)}return V};var W=S._d3locale;"date"===n.type&&(n._dateFormat=W?W.timeFormat:D,n._extraFormat=S._extraFormat),n._separators=S.separators,n._numFormat=W?W.numberFormat:P,delete n._minDtick,delete n._forceTick0}},59652:function(te){"use strict";te.exports=function(e){var D=["showexponent","showtickprefix","showticksuffix"].filter(function(P){return void 0!==e[P]});if(D.every(function(P){return e[P]===e[D[0]]})||1===D.length)return e[D[0]]}},96115:function(te,Y,e){"use strict";var T=e(71828),D=e(7901).contrast,o=e(13838),P=e(59652),C=e(85501);function h(y,t){function r(i,u){return T.coerce(y,t,o.tickformatstops,i,u)}r("enabled")&&(r("dtickrange"),r("value"))}te.exports=function(t,r,l,i,u){u||(u={});var f=l("labelalias");T.isPlainObject(f)||delete r.labelalias;var c=P(t);if(l("showticklabels")){var a=u.font||{},b=r.color,s=-1!==(r.ticklabelposition||"").indexOf("inside")?D(u.bgColor):b&&b!==o.color.dflt?b:a.color;if(T.coerceFont(l,"tickfont",{family:a.family,size:a.size,color:s}),!u.noTicklabelstep&&"multicategory"!==i&&"log"!==i&&l("ticklabelstep"),u.noAng||l("tickangle"),"category"!==i){var v=l("tickformat");C(t,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:h}),r.tickformatstops.length||delete r.tickformatstops,!u.noExp&&!v&&"date"!==i&&(l("showexponent",c),l("exponentformat"),l("minexponent"),l("separatethousands"))}}}},38701:function(te,Y,e){"use strict";var T=e(71828),D=e(13838);te.exports=function(P,C,h,y){var t=y.isMinor,r=t?P.minor||{}:P,l=t?C.minor:C,i=t?D.minor:D,u=t?"minor.":"",f=T.coerce2(r,l,i,"ticklen",t?.6*(C.ticklen||5):void 0),c=T.coerce2(r,l,i,"tickwidth",t?C.tickwidth||1:void 0),m=T.coerce2(r,l,i,"tickcolor",(t?C.tickcolor:void 0)||l.color);h(u+"ticks",!t&&y.outerTicks||f||c||m?"outside":"")||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}},26218:function(te,Y,e){"use strict";var T=e(66287),D=e(71828).isArrayOrTypedArray;te.exports=function(P,C,h,y,t){t||(t={});var r=t.isMinor,l=r?P.minor||{}:P,i=r?C.minor:C,u=r?"minor.":"";function f(A){var x=l[A];return void 0!==x?x:(i._template||{})[A]}var c=f("tick0"),m=f("dtick"),a=f("tickvals"),p=h(u+"tickmode",D(a)?"array":m?"linear":"auto");if("auto"===p||"sync"===p)h(u+"nticks");else if("linear"===p){var s=i.dtick=T.dtick(m,y);i.tick0=T.tick0(c,y,C.calendar,s)}else"multicategory"!==y&&(void 0===h(u+"tickvals")?i.tickmode="auto":r||h("ticktext"))}},66847:function(te,Y,e){"use strict";var T=e(39898),D=e(73972),o=e(71828),P=e(91424),C=e(89298);te.exports=function(y,t,r,l){var i=y._fullLayout;if(0!==t.length){var c;l&&(c=l());var b,p,s,v=T.ease(r.easing);return y._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(s),s=null,function a(){for(var x={},E=0;E<t.length;E++){var g=t[E],w=g.plotinfo.yaxis;g.xr0&&(x[g.plotinfo.xaxis._name+".range"]=g.xr0.slice()),g.yr0&&(x[w._name+".range"]=g.yr0.slice())}return D.call("relayout",y,x).then(function(){for(var n=0;n<t.length;n++)u(t[n].plotinfo)})}()}),b=Date.now(),s=window.requestAnimationFrame(function A(){p=Date.now();for(var x=Math.min(1,(p-b)/r.duration),E=v(x),g=0;g<t.length;g++)f(t[g],E);p-b>r.duration?(function m(){for(var x={},E=0;E<t.length;E++){var g=t[E],w=g.plotinfo.yaxis;g.xr1&&(x[g.plotinfo.xaxis._name+".range"]=g.xr1.slice()),g.yr1&&(x[w._name+".range"]=g.yr1.slice())}c&&c(),D.call("relayout",y,x).then(function(){for(var n=0;n<t.length;n++)u(t[n].plotinfo)})}(),s=window.cancelAnimationFrame(A)):s=window.requestAnimationFrame(A)}),Promise.resolve()}function u(x){var E=x.xaxis,g=x.yaxis;i._defs.select("#"+x.clipId+"> rect").call(P.setTranslate,0,0).call(P.setScale,1,1),x.plot.call(P.setTranslate,E._offset,g._offset).call(P.setScale,1,1);var M=x.plot.selectAll(".scatterlayer .trace");M.selectAll(".point").call(P.setPointGroupScale,1,1),M.selectAll(".textpoint").call(P.setTextPointsScale,1,1),M.call(P.hideOutsideRangePoints,x)}function f(x,E){var g=x.plotinfo,M=g.xaxis,w=g.yaxis,n=M._length,S=w._length,d=!!x.xr1,I=!!x.yr1,L=[];if(d){var B=o.simpleMap(x.xr0,M.r2l),k=o.simpleMap(x.xr1,M.r2l),z=B[1]-B[0],O=k[1]-k[0];L[0]=(B[0]*(1-E)+E*k[0]-B[0])/(B[1]-B[0])*n,L[2]=n*(1-E+E*O/z),M.range[0]=M.l2r(B[0]*(1-E)+E*k[0]),M.range[1]=M.l2r(B[1]*(1-E)+E*k[1])}else L[0]=0,L[2]=n;if(I){var F=o.simpleMap(x.yr0,w.r2l),N=o.simpleMap(x.yr1,w.r2l),H=F[1]-F[0],X=N[1]-N[0];L[1]=(F[1]*(1-E)+E*N[1]-F[1])/(F[0]-F[1])*S,L[3]=S*(1-E+E*X/H),w.range[0]=M.l2r(F[0]*(1-E)+E*N[0]),w.range[1]=w.l2r(F[1]*(1-E)+E*N[1])}else L[1]=0,L[3]=S;C.drawOne(y,M,{skipTitle:!0}),C.drawOne(y,w,{skipTitle:!0}),C.redrawComponents(y,[M._id,w._id]);var ne=d?n/L[2]:1,ie=I?S/L[3]:1,V=M._offset-(d?L[0]/L[2]*n:0),K=w._offset-(I?L[1]/L[3]*S:0);g.clipRect.call(P.setTranslate,d?L[0]:0,I?L[1]:0).call(P.setScale,1/ne,1/ie),g.plot.call(P.setTranslate,V,K).call(P.setScale,ne,ie),P.setPointGroupScale(g.zoomScalePts,1/ne,1/ie),P.setTextPointsScale(g.zoomScaleTxt,1/ne,1/ie)}C.redrawComponents(y)}},951:function(te,Y,e){"use strict";var T=e(73972).traceIs,D=e(4322);function C(y){return{v:"x",h:"y"}[y.orientation||"v"]}function h(y,t){var r=C(y),l=T(y,"box-violin"),i=T(y._fullInput||{},"candlestick");return l&&!i&&t===r&&void 0===y[r]&&void 0===y[r+"0"]}te.exports=function(t,r,l,i){l("autotypenumbers",i.autotypenumbersDflt),"-"===l("type",(i.splomStash||{}).type)&&(function o(y,t){if("-"===y.type){var i,r=y._id,l=r.charAt(0);-1!==r.indexOf("scene")&&(r=l);var u=function P(y,t,r){for(var l=0;l<y.length;l++){var i=y[l];if("splom"===i.type&&i._length>0&&(i["_"+r+"axes"]||{})[t])return i;if((i[r+"axis"]||r)===t){if(h(i,r))return i;if((i[r]||[]).length||i[r+"0"])return i}}}(t,r,l);if(u){if("histogram"===u.type&&l==={v:"y",h:"x"}[u.orientation||"v"])return void(y.type="linear");var f=l+"calendar",c=u[f],m={noMultiCategory:!T(u,"cartesian")||T(u,"noMultiCategory")};if("box"===u.type&&u._hasPreCompStats&&l==={h:"x",v:"y"}[u.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=y.autotypenumbers,h(u,l)){var a=C(u),b=[];for(i=0;i<t.length;i++){var p=t[i];!T(p,"box-violin")||(p[l+"axis"]||l)!==r||(b.push(void 0!==p[a]?p[a][0]:void 0!==p.name?p.name:"text"),p[f]!==c&&(c=void 0))}y.type=D(b,c,m)}else if("splom"===u.type){var v=u.dimensions[u._axesDim[r]];v.visible&&(y.type=D(v.values,c,m))}else y.type=D(u[l]||[u[l+"0"]],c,m)}}}(r,i.data),"-"===r.type?r.type="linear":t.type=r.type)}},31137:function(te,Y,e){"use strict";var T=e(73972),D=e(71828);function o(t,r,l){var i,u,f,c=!1;if("data"===r.type)i=t._fullData[null!==r.traces?r.traces[0]:0];else{if("layout"!==r.type)return!1;i=t._fullLayout}return u=D.nestedProperty(i,r.prop).get(),(f=l[r.type]=l[r.type]||{}).hasOwnProperty(r.prop)&&f[r.prop]!==u&&(c=!0),f[r.prop]=u,{changed:c,value:u}}function C(t,r){var l=[],i=r[0],u={};if("string"==typeof i)u[i]=r[1];else{if(!D.isPlainObject(i))return l;u=i}return y(u,function(f,c,m){l.push({type:"layout",prop:f,value:m})},"",0),l}function h(t,r){var l,i,u,f,c=[];if(u=r[1],l=r[2],f={},"string"==typeof(i=r[0]))f[i]=u;else{if(!D.isPlainObject(i))return c;f=i,void 0===l&&(l=u)}return void 0===l&&(l=null),y(f,function(m,a,b){var p,s;if(Array.isArray(b)){s=b.slice();var v=Math.min(s.length,t.data.length);l&&(v=Math.min(v,l.length)),p=[];for(var A=0;A<v;A++)p[A]=l?l[A]:A}else s=b,p=l?l.slice():null;if(null===p)Array.isArray(s)&&(s=s[0]);else if(Array.isArray(p)){if(!Array.isArray(s)){var x=s;s=[];for(var E=0;E<p.length;E++)s[E]=x}s.length=Math.min(p.length,s.length)}c.push({type:"data",prop:m,traces:p,value:s})},"",0),c}function y(t,r,l,i){Object.keys(t).forEach(function(u){var f=t[u];if("_"!==u[0]){var c=l+(i>0?".":"")+u;D.isPlainObject(f)?y(f,r,c,i+1):r(c,u,f)}})}Y.manageCommandObserver=function(t,r,l,i){var u={},f=!0;r&&r._commandObserver&&(u=r._commandObserver),u.cache||(u.cache={}),u.lookupTable={};var c=Y.hasSimpleAPICommandBindings(t,l,u.lookupTable);if(r&&r._commandObserver){if(c)return u;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,u}if(c){o(t,c,u.cache),u.check=function(){if(f){var p=o(t,c,u.cache);return p.changed&&i&&void 0!==u.lookupTable[p.value]&&(u.disable(),Promise.resolve(i({value:p.value,type:c.type,prop:c.prop,traces:c.traces,index:u.lookupTable[p.value]})).then(u.enable,u.enable)),p.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],a=0;a<m.length;a++)t._internalOn(m[a],u.check);u.remove=function(){for(var b=0;b<m.length;b++)t._removeInternalListener(m[b],u.check)}}else D.log("Unable to automatically bind plot updates to API command"),u.lookupTable={},u.remove=function(){};return u.disable=function(){f=!1},u.enable=function(){f=!0},r&&(r._commandObserver=u),u},Y.hasSimpleAPICommandBindings=function(t,r,l){var i,f,u=r.length;for(i=0;i<u;i++){var c,m=r[i],a=m.method,b=m.args;if(Array.isArray(b)||(b=[]),!a)return!1;var p=Y.computeAPICommandBindings(t,a,b);if(1!==p.length)return!1;if(f){if((c=p[0]).type!==f.type||c.prop!==f.prop)return!1;if(Array.isArray(f.traces)){if(!Array.isArray(c.traces))return!1;c.traces.sort();for(var s=0;s<f.traces.length;s++)if(f.traces[s]!==c.traces[s])return!1}else if(c.prop!==f.prop)return!1}else f=p[0],Array.isArray(f.traces)&&f.traces.sort();var v=(c=p[0]).value;if(Array.isArray(v)){if(1!==v.length)return!1;v=v[0]}l&&(l[v]=i)}return f},Y.executeAPICommand=function(t,r,l){if("skip"===r)return Promise.resolve();var i=T.apiMethodRegistry[r],u=[t];Array.isArray(l)||(l=[]);for(var f=0;f<l.length;f++)u.push(l[f]);return i.apply(null,u).catch(function(c){return D.warn("API call to Plotly."+r+" rejected.",c),Promise.reject(c)})},Y.computeAPICommandBindings=function(t,r,l){var i;switch(Array.isArray(l)||(l=[]),r){case"restyle":i=h(t,l);break;case"relayout":i=C(0,l);break;case"update":i=h(t,[l[0],l[2]]).concat(C(0,[l[1]]));break;case"animate":i=function P(t,r){return Array.isArray(r[0])&&1===r[0].length&&-1!==["string","number"].indexOf(typeof r[0][0])?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}(0,l);break;default:i=[]}return i}},27670:function(te,Y,e){"use strict";var T=e(1426).extendFlat;Y.Y=function(D,o){var P={valType:"info_array",editType:(D=D||{}).editType,items:[{valType:"number",min:0,max:1,editType:D.editType},{valType:"number",min:0,max:1,editType:D.editType}],dflt:[0,1]},t=(o=o||{},{x:T({},P,{}),y:T({},P,{}),editType:D.editType});return D.noGridCell||(t.row={valType:"integer",min:0,dflt:0,editType:D.editType},t.column={valType:"integer",min:0,dflt:0,editType:D.editType}),t},Y.c=function(D,o,P,C){var h=C&&C.x||[0,1],y=C&&C.y||[0,1],t=o.grid;if(t){var r=P("domain.column");void 0!==r&&(r<t.columns?h=t._domains.x[r]:delete D.domain.column);var l=P("domain.row");void 0!==l&&(l<t.rows?y=t._domains.y[l]:delete D.domain.row)}var i=P("domain.x",h),u=P("domain.y",y);i[0]<i[1]||(D.domain.x=h.slice()),u[0]<u[1]||(D.domain.y=y.slice())}},41940:function(te){"use strict";te.exports=function(Y){var e=Y.editType,T=Y.colorEditType;void 0===T&&(T=e);var D={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:T},editType:e};return Y.autoSize&&(D.size.dflt="auto"),Y.autoColor&&(D.color.dflt="auto"),Y.arrayOk&&(D.family.arrayOk=!0,D.size.arrayOk=!0,D.color.arrayOk=!0),D}},31391:function(te){"use strict";te.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(te,Y){"use strict";Y.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},Y.axesNames=["lonaxis","lataxis"],Y.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},Y.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},Y.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},Y.clipPad=.001,Y.precision=.1,Y.landColor="#F0DC82",Y.waterColor="#3399FF",Y.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},Y.sphereSVG={type:"Sphere"},Y.fillLayers={ocean:1,land:1,lakes:1},Y.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},Y.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],Y.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],Y.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(te,Y,e){"use strict";var T=e(39898),D=e(27362),o=D.geoPath,P=D.geoDistance,C=e(65704),h=e(73972),y=e(71828),t=y.strTranslate,r=e(7901),l=e(91424),i=e(30211),u=e(74875),f=e(89298),c=e(71739).getAutoRange,m=e(28569),a=e(47322).prepSelect,b=e(47322).clearOutline,p=e(47322).selectOnClick,s=e(74455),v=e(78776),A=e(41327),x=e(90973),E=e(96892).zL;function g(d){this.id=d.id,this.graphDiv=d.graphDiv,this.container=d.container,this.topojsonURL=d.topojsonURL,this.isStatic=d.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var M=g.prototype;function S(d,I){var L=v.clipPad,B=d[0]+L,k=d[1]-L,z=I[0]+L,O=I[1]-L;B>0&&k<0&&(k+=360);var F=(k-B)/4;return{type:"Polygon",coordinates:[[[B,z],[B,O],[B+F,O],[B+2*F,O],[B+3*F,O],[k,O],[k,z],[k-F,z],[k-2*F,z],[k-3*F,z],[B,z]]]}}te.exports=function(I){return new g(I)},M.plot=function(d,I,L,B){var k=this;if(B)return k.update(d,I,!0);k._geoCalcData=d,k._fullLayout=I;var z=I[this.id],O=[],F=!1;for(var N in v.layerNameToAdjective)if("frame"!==N&&z["show"+N]){F=!0;break}for(var H=!1,X=0;X<d.length;X++){var ne=d[0][0].trace;ne._geo=k,ne.locationmode&&(F=!0);var ie=ne.marker;if(ie){var J=ie.angleref;(ie.angle||"north"===J||"previous"===J)&&(H=!0)}}if(this._hasMarkerAngles=H,F){var j=x.getTopojsonName(z);(null===k.topojson||j!==k.topojsonName)&&(k.topojsonName=j,void 0===PlotlyGeoAssets.topojson[k.topojsonName]&&O.push(k.fetchTopojson()))}O=O.concat(A.fetchTraceGeoData(d)),L.push(new Promise(function(W,V){Promise.all(O).then(function(){k.topojson=PlotlyGeoAssets.topojson[k.topojsonName],k.update(d,I),W()}).catch(V)}))},M.fetchTopojson=function(){var d=this,I=x.getTopojsonPath(d.topojsonURL,d.topojsonName);return new Promise(function(L,B){T.json(I,function(k,z){if(k)return B(404===k.status?new Error(["plotly.js could not find topojson file at",I+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",I].join(" ")));PlotlyGeoAssets.topojson[d.topojsonName]=z,L()})})},M.update=function(d,I,L){var B=I[this.id];this.hasChoropleth=!1;for(var k=0;k<d.length;k++){var z=d[k],O=z[0].trace;"choropleth"===O.type&&(this.hasChoropleth=!0),!0===O.visible&&O._length>0&&O._module.calcGeoJSON(z,I)}if(!L){if(this.updateProjection(d,I))return;(!this.viewInitial||this.scope!==B.scope)&&this.saveViewInitial(B)}this.scope=B.scope,this.updateBaseLayers(I,B),this.updateDims(I,B),this.updateFx(I,B),u.generalUpdatePerTraceModule(this.graphDiv,this,d,B);var N=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=N.selectAll(".point"),this.dataPoints.text=N.selectAll("text"),this.dataPaths.line=N.selectAll(".js-line");var H=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=H.selectAll("path"),this._render()},M.updateProjection=function(d,I){var L=this.graphDiv,B=I[this.id],k=I._size,z=B.domain,O=B.projection,F=B.lonaxis,N=B.lataxis,H=F._ax,X=N._ax,ne=this.projection=function w(d){var I=d.projection,L=I.type,B=v.projNames[L];B="geo"+y.titleCase(B);for(var z=(D[B]||C[B])(),O=d._isSatellite?180*Math.acos(1/I.distance)/Math.PI:d._isClipped?v.lonaxisSpan[L]/2:null,F=["center","rotate","parallels","clipExtent"],N=function(ne){return ne?z:[]},H=0;H<F.length;H++){var X=F[H];"function"!=typeof z[X]&&(z[X]=N)}return z.isLonLatOverEdges=function(ne){if(null===z(ne))return!0;if(O){var ie=z.rotate();return P(ne,[-ie[0],-ie[1]])>O*Math.PI/180}return!1},z.getPath=function(){return o().projection(z)},z.getBounds=function(ne){return z.getPath().bounds(ne)},z.precision(v.precision),d._isSatellite&&z.tilt(I.tilt).distance(I.distance),O&&z.clipAngle(O-v.clipPad),z}(B),ie=[[k.l+k.w*z.x[0],k.t+k.h*(1-z.y[1])],[k.l+k.w*z.x[1],k.t+k.h*(1-z.y[0])]],ue=B.center||{},J=O.rotation||{},j=F.range||[],W=N.range||[];if(B.fitbounds){H._length=ie[1][0]-ie[0][0],X._length=ie[1][1]-ie[0][1],H.range=c(L,H),X.range=c(L,X);var V=(H.range[0]+H.range[1])/2,K=(X.range[0]+X.range[1])/2;if(B._isScoped)ue={lon:V,lat:K};else if(B._isClipped){ue={lon:V,lat:K},J={lon:V,lat:K,roll:J.roll};var ae=O.type,Q=v.lonaxisSpan[ae]/2||180,Z=v.lataxisSpan[ae]/2||90;j=[V-Q,V+Q],W=[K-Z,K+Z]}else ue={lon:V,lat:K},J={lon:V,lat:J.lat,roll:J.roll}}ne.center([ue.lon-J.lon,ue.lat-J.lat]).rotate([-J.lon,-J.lat,J.roll]).parallels(O.parallels);var re=S(j,W);ne.fitExtent(ie,re);var q=this.bounds=ne.getBounds(re),se=this.fitScale=ne.scale(),de=ne.translate();if(B.fitbounds){var we=ne.getBounds(S(H.range,X.range)),ye=Math.min((q[1][0]-q[0][0])/(we[1][0]-we[0][0]),(q[1][1]-q[0][1])/(we[1][1]-we[0][1]));isFinite(ye)?ne.scale(ye*se):y.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ne.scale(O.scale*se);var Pe=this.midPt=[(q[0][0]+q[1][0])/2,(q[0][1]+q[1][1])/2];if(ne.translate([de[0]+(Pe[0]-de[0]),de[1]+(Pe[1]-de[1])]).clipExtent(q),B._isAlbersUsa){var Ie=ne([ue.lon,ue.lat]),Se=ne.translate();ne.translate([Se[0]-(Ie[0]-Se[0]),Se[1]-(Ie[1]-Se[1])])}},M.updateBaseLayers=function(d,I){var L=this,B=L.topojson,k=L.layers,z=L.basePaths;function O(ie){return"lonaxis"===ie||"lataxis"===ie}function F(ie){return!!v.lineLayers[ie]}function N(ie){return!!v.fillLayers[ie]}var X=(this.hasChoropleth?v.layersForChoropleth:v.layers).filter(function(ie){return F(ie)||N(ie)?I["show"+ie]:!O(ie)||I[ie].showgrid}),ne=L.framework.selectAll(".layer").data(X,String);ne.exit().each(function(ie){delete k[ie],delete z[ie],T.select(this).remove()}),ne.enter().append("g").attr("class",function(ie){return"layer "+ie}).each(function(ie){var ue=k[ie]=T.select(this);"bg"===ie?L.bgRect=ue.append("rect").style("pointer-events","all"):O(ie)?z[ie]=ue.append("path").style("fill","none"):"backplot"===ie?ue.append("g").classed("choroplethlayer",!0):"frontplot"===ie?ue.append("g").classed("scatterlayer",!0):F(ie)?z[ie]=ue.append("path").style("fill","none").style("stroke-miterlimit",2):N(ie)&&(z[ie]=ue.append("path").style("stroke","none"))}),ne.order(),ne.each(function(ie){var ue=z[ie],J=v.layerNameToAdjective[ie];"frame"===ie?ue.datum(v.sphereSVG):F(ie)||N(ie)?ue.datum(E(B,B.objects[ie])):O(ie)&&ue.datum(function n(d,I,L){var F,N,H,z=I[d],O=v.scopeDefaults[I.scope];"lonaxis"===d?(F=O.lonaxisRange,N=O.lataxisRange,H=function(K,ae){return[K,ae]}):"lataxis"===d&&(F=O.lataxisRange,N=O.lonaxisRange,H=function(K,ae){return[ae,K]});var X={type:"linear",range:[F[0],F[1]-1e-6],tick0:z.tick0,dtick:z.dtick};f.setConvert(X,L);var ne=f.calcTicks(X);!I.isScoped&&"lonaxis"===d&&ne.pop();for(var ie=ne.length,ue=new Array(ie),J=0;J<ie;J++)for(var j=ne[J].x,W=ue[J]=[],V=N[0];V<N[1]+2.5;V+=2.5)W.push(H(j,V));return{type:"MultiLineString",coordinates:ue}}(ie,I,d)).call(r.stroke,I[ie].gridcolor).call(l.dashLine,I[ie].griddash,I[ie].gridwidth),F(ie)?ue.call(r.stroke,I[J+"color"]).call(l.dashLine,"",I[J+"width"]):N(ie)&&ue.call(r.fill,I[J+"color"])})},M.updateDims=function(d,I){var L=this.bounds,B=(I.framewidth||0)/2,k=L[0][0]-B,z=L[0][1]-B,O=L[1][0]-k+B,F=L[1][1]-z+B;l.setRect(this.clipRect,k,z,O,F),this.bgRect.call(l.setRect,k,z,O,F).call(r.fill,I.bgcolor),this.xaxis._offset=k,this.xaxis._length=O,this.yaxis._offset=z,this.yaxis._length=F},M.updateFx=function(d,I){var L=this,B=L.graphDiv,k=L.bgRect,z=d.dragmode,O=d.clickmode;if(!L.isStatic){var X={element:L.bgRect.node(),gd:B,plotinfo:{id:L.id,xaxis:L.xaxis,yaxis:L.yaxis,fillRangeItems:function(ne,ie){ie.isRect?(ne.range={})[L.id]=[N([ie.xmin,ie.ymin]),N([ie.xmax,ie.ymax])]:(ne.lassoPoints={})[L.id]=ie.map(N)}},xaxes:[L.xaxis],yaxes:[L.yaxis],subplot:L.id,clickFn:function(ne){2===ne&&b(B)}};"pan"===z?(k.node().onmousedown=null,k.call(s(L,I)),k.on("dblclick.zoom",function F(){var ne=L.viewInitial,ie={};for(var ue in ne)ie[L.id+"."+ue]=ne[ue];h.call("_guiRelayout",B,ie),B.emit("plotly_doubleclick",null)}),B._context._scrollZoom.geo||k.on("wheel.zoom",null)):("select"===z||"lasso"===z)&&(k.on(".zoom",null),X.prepFn=function(ne,ie,ue){a(ne,ie,ue,X,z)},m.init(X)),k.on("mousemove",function(){var ne=L.projection.invert(y.getPositionFromD3Event());if(!ne)return m.unhover(B,T.event);L.xaxis.p2c=function(){return ne[0]},L.yaxis.p2c=function(){return ne[1]},i.hover(B,T.event,L.id)}),k.on("mouseout",function(){B._dragging||m.unhover(B,T.event)}),k.on("click",function(){"select"!==z&&"lasso"!==z&&(O.indexOf("select")>-1&&p(T.event,B,[L.xaxis],[L.yaxis],L.id,X),O.indexOf("event")>-1&&i.click(B,T.event))})}function N(ne){return L.projection.invert([ne[0]+L.xaxis._offset,ne[1]+L.yaxis._offset])}},M.makeFramework=function(){var d=this,I=d.graphDiv,L=I._fullLayout,B="clip"+L._uid+d.id;d.clipDef=L._clips.append("clipPath").attr("id",B),d.clipRect=d.clipDef.append("rect"),d.framework=T.select(d.container).append("g").attr("class","geo "+d.id).call(l.setClipUrl,B,I),d.project=function(k){var z=d.projection(k);return z?[z[0]-d.xaxis._offset,z[1]-d.yaxis._offset]:[null,null]},d.xaxis={_id:"x",c2p:function(k){return d.project(k)[0]}},d.yaxis={_id:"y",c2p:function(k){return d.project(k)[1]}},d.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},f.setConvert(d.mockAxis,L)},M.saveViewInitial=function(d){var I=d.center||{},L=d.projection,B=L.rotation||{};this.viewInitial={fitbounds:d.fitbounds,"projection.scale":L.scale},y.extendFlat(this.viewInitial,d._isScoped?{"center.lon":I.lon,"center.lat":I.lat}:d._isClipped?{"projection.rotation.lon":B.lon,"projection.rotation.lat":B.lat}:{"center.lon":I.lon,"center.lat":I.lat,"projection.rotation.lon":B.lon})},M.render=function(d){this._hasMarkerAngles&&d?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},M._render=function(){var L,d=this.projection,I=d.getPath();function B(z){var O=d(z.lonlat);return O?t(O[0],O[1]):null}function k(z){return d.isLonLatOverEdges(z.lonlat)?"none":null}for(L in this.basePaths)this.basePaths[L].attr("d",I);for(L in this.dataPaths)this.dataPaths[L].attr("d",function(z){return I(z.geojson)});for(L in this.dataPoints)this.dataPoints[L].attr("display",k).attr("transform",B)}},44622:function(te,Y,e){"use strict";var T=e(27659).AU,D=e(71828).counterRegex,o=e(69082),P="geo",C=D(P),h={};h[P]={valType:"subplotid",dflt:P,editType:"calc"},te.exports={attr:P,name:P,idRoot:P,idRegex:C,attrRegex:C,attributes:h,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:function y(l){for(var i=l._fullLayout,u=l.calcdata,f=i._subplots[P],c=0;c<f.length;c++){var m=f[c],a=T(u,P,m),p=i[m]._subplot;p||(p=o({id:m,graphDiv:l,container:i._geolayer.node(),topojsonURL:l._context.topojsonURL,staticPlot:l._context.staticPlot}),i[m]._subplot=p),p.plot(a,i,l._promises)}},updateFx:function r(l){for(var i=l._fullLayout,u=i._subplots[P],f=0;f<u.length;f++){var c=i[u[f]];c._subplot.updateFx(i,c)}},clean:function t(l,i,u,f){for(var c=f._subplots[P]||[],m=0;m<c.length;m++){var a=c[m],b=f[a]._subplot;!i[a]&&b&&(b.framework.remove(),b.clipDef.remove())}}}},77519:function(te,Y,e){"use strict";var T=e(22399),D=e(27670).Y,o=e(79952).P,P=e(78776),C=e(30962).overrideAll,h=e(78607),y={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:T.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:o};(te.exports=C({domain:D({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:h(P.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:h(P.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:T.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:P.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:P.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:P.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:P.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:T.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:T.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:T.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:T.background},lonaxis:y,lataxis:y},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(te,Y,e){"use strict";var T=e(71828),D=e(49119),o=e(27659).NG,P=e(78776),C=e(77519),h=P.axesNames;function y(t,r,l,i){var f=o(i.fullData,"geo",i.id).map(function(W){return W._expandedIndex}),c=l("resolution"),m=l("scope"),a=P.scopeDefaults[m],b=l("projection.type",a.projType),p=r._isAlbersUsa="albers usa"===b;p&&(m=r.scope="usa");var s=r._isScoped="world"!==m,v=r._isSatellite="satellite"===b,A=r._isConic=-1!==b.indexOf("conic")||"albers"===b,x=r._isClipped=!!P.lonaxisSpan[b];if(!1===t.visible){var E=T.extendDeep({},r._template);E.showcoastlines=!1,E.showcountries=!1,E.showframe=!1,E.showlakes=!1,E.showland=!1,E.showocean=!1,E.showrivers=!1,E.showsubunits=!1,E.lonaxis&&(E.lonaxis.showgrid=!1),E.lataxis&&(E.lataxis.showgrid=!1),r._template=E}for(var g=l("visible"),w=0;w<h.length;w++){var d,n=h[w],S=[30,10][w];if(s)d=a[n+"Range"];else{var I=P[n+"Span"],L=(I[b]||I["*"])/2,B=l("projection.rotation."+n.substr(0,3),a.projRotate[w]);d=[B-L,B+L]}var k=l(n+".range",d);l(n+".tick0"),l(n+".dtick",S),l(n+".showgrid",!!g&&void 0)&&(l(n+".gridcolor"),l(n+".gridwidth"),l(n+".griddash")),r[n]._ax={type:"linear",_id:n.slice(0,3),_traceIndices:f,setScale:T.identity,c2l:T.identity,r2l:T.identity,autorange:!0,range:k.slice(),_m:1,_input:{}}}var z=r.lonaxis.range,O=r.lataxis.range,F=z[0],N=z[1];F>0&&N<0&&(N+=360);var X,ie,ue,H=(F+N)/2;if(!p){var ne=s?a.projRotate:[H,0,0];X=l("projection.rotation.lon",ne[0]),l("projection.rotation.lat",ne[1]),l("projection.rotation.roll",ne[2]),l("showcoastlines",!s&&g)&&(l("coastlinecolor"),l("coastlinewidth")),l("showocean",!!g&&void 0)&&l("oceancolor")}p?(ie=-96.6,ue=38.7):(ie=s?H:X,ue=(O[0]+O[1])/2),l("center.lon",ie),l("center.lat",ue),v&&(l("projection.tilt"),l("projection.distance")),A&&l("projection.parallels",a.projParallels||[0,60]),l("projection.scale"),l("showland",!!g&&void 0)&&l("landcolor"),l("showlakes",!!g&&void 0)&&l("lakecolor"),l("showrivers",!!g&&void 0)&&(l("rivercolor"),l("riverwidth")),l("showcountries",s&&"usa"!==m&&g)&&(l("countrycolor"),l("countrywidth")),("usa"===m||"north america"===m&&50===c)&&(l("showsubunits",g),l("subunitcolor"),l("subunitwidth")),s||l("showframe",g)&&(l("framecolor"),l("framewidth")),l("bgcolor"),l("fitbounds")&&(delete r.projection.scale,s?(delete r.center.lon,delete r.center.lat):x?(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon,delete r.projection.rotation.lat,delete r.lonaxis.range,delete r.lataxis.range):(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon))}te.exports=function(r,l,i){D(r,l,i,{type:"geo",attributes:C,handleDefaults:y,fullData:i,partition:"y"})}},74455:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(73972),P=Math.PI/180,C=180/Math.PI,h={cursor:"pointer"},y={cursor:"auto"};function r(n,S){return T.behavior.zoom().translate(S.translate()).scale(S.scale())}function l(n,S,d){var I=n.id,L=n.graphDiv,B=L.layout,k=B[I],z=L._fullLayout,O=z[I],F={},N={};function H(X,ne){F[I+"."+X]=D.nestedProperty(k,X).get(),o.call("_storeDirectGUIEdit",B,z._preGUI,F);var ie=D.nestedProperty(O,X);ie.get()!==ne&&(ie.set(ne),D.nestedProperty(k,X).set(ne),N[I+"."+X]=ne)}d(H),H("projection.scale",S.scale()/n.fitScale),H("fitbounds",!1),L.emit("plotly_relayout",N)}function i(n,S){var d=r(0,S);function B(z){var O=S.invert(n.midPt);z("center.lon",O[0]),z("center.lat",O[1])}return d.on("zoomstart",function I(){T.select(this).style(h)}).on("zoom",function L(){S.scale(T.event.scale).translate(T.event.translate),n.render(!0);var z=S.invert(n.midPt);n.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":S.scale()/n.fitScale,"geo.center.lon":z[0],"geo.center.lat":z[1]})}).on("zoomend",function k(){T.select(this).style(y),l(n,S,B)}),d}function u(n,S){var L,B,k,z,O,F,N,H,X,d=r(0,S);function ne(V){return S.invert(V)}function W(V){var K=S.rotate(),ae=S.invert(n.midPt);V("projection.rotation.lon",-K[0]),V("center.lon",ae[0]),V("center.lat",ae[1])}return d.on("zoomstart",function ue(){T.select(this).style(h),L=T.mouse(this),B=S.rotate(),k=S.translate(),z=B,O=ne(L)}).on("zoom",function J(){if(F=T.mouse(this),function ie(V){var K=ne(V);if(!K)return!0;var ae=S(K);return Math.abs(ae[0]-V[0])>2||Math.abs(ae[1]-V[1])>2}(L))return d.scale(S.scale()),void d.translate(S.translate());S.scale(T.event.scale),S.translate([k[0],T.event.translate[1]]),O?ne(F)&&(H=ne(F),S.rotate(N=[z[0]+(H[0]-O[0]),B[1],B[2]]),z=N):O=ne(L=F),X=!0,n.render(!0);var V=S.rotate(),K=S.invert(n.midPt);n.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":S.scale()/n.fitScale,"geo.center.lon":K[0],"geo.center.lat":K[1],"geo.projection.rotation.lon":-V[0]})}).on("zoomend",function j(){T.select(this).style(y),X&&l(n,S,W)}),d}function f(n,S){var z,d={r:S.rotate(),k:S.scale()},I=r(0,S),L=function w(n){for(var S=0,d=arguments.length,I=[];++S<d;)I.push(arguments[S]);var L=T.dispatch.apply(null,I);return L.of=function(B,k){return function(z){var O;try{O=z.sourceEvent=T.event,z.target=n,T.event=z,L[z.type].apply(B,k)}finally{T.event=O}}},L}(I,"zoomstart","zoom","zoomend"),B=0,k=I.on;function H(X){var ne=S.rotate();X("projection.rotation.lon",-ne[0]),X("projection.rotation.lat",-ne[1])}return I.on("zoomstart",function(){T.select(this).style(h);var X=T.mouse(this),ne=S.rotate(),ie=ne,ue=S.translate(),J=function m(n){var S=.5*n[0]*P,d=.5*n[1]*P,I=.5*n[2]*P,L=Math.sin(S),B=Math.cos(S),k=Math.sin(d),z=Math.cos(d),O=Math.sin(I),F=Math.cos(I);return[B*z*F+L*k*O,L*z*F-B*k*O,B*k*F+L*z*O,B*z*O-L*k*F]}(ne);z=c(S,X),k.call(I,"zoom",function(){var j=T.mouse(this);if(S.scale(d.k=T.event.scale),z){if(c(S,j)){S.rotate(ne).translate(ue);var W=c(S,j),V=function b(n,S){if(n&&S){var d=function M(n,S){return[n[1]*S[2]-n[2]*S[1],n[2]*S[0]-n[0]*S[2],n[0]*S[1]-n[1]*S[0]]}(n,S),I=Math.sqrt(g(d,d)),L=.5*Math.acos(Math.max(-1,Math.min(1,g(n,S)))),B=Math.sin(L)/I;return I&&[Math.cos(L),d[2]*B,-d[1]*B,d[0]*B]}}(z,W),K=function x(n){return[Math.atan2(2*(n[0]*n[1]+n[2]*n[3]),1-2*(n[1]*n[1]+n[2]*n[2]))*C,Math.asin(Math.max(-1,Math.min(1,2*(n[0]*n[2]-n[3]*n[1]))))*C,Math.atan2(2*(n[0]*n[3]+n[1]*n[2]),1-2*(n[2]*n[2]+n[3]*n[3]))*C]}(function a(n,S){var d=n[0],I=n[1],L=n[2],B=n[3],k=S[0],z=S[1],O=S[2],F=S[3];return[d*k-I*z-L*O-B*F,d*z+I*k+L*F-B*O,d*O-I*F+L*k+B*z,d*F+I*O-L*z+B*k]}(J,V)),ae=d.r=function p(n,S,d){var I=A(S,2,n[0]);I=A(I,1,n[1]),I=A(I,0,n[2]-d[2]);var X,ne,L=S[0],B=S[1],k=S[2],z=I[0],O=I[1],F=I[2],N=Math.atan2(B,L)*C,H=Math.sqrt(L*L+B*B);Math.abs(O)>H?(ne=(O>0?90:-90)-N,X=0):(ne=Math.asin(O/H)*C-N,X=Math.sqrt(H*H-O*O));var ie=180-ne-2*N,ue=(Math.atan2(F,z)-Math.atan2(k,X))*C,J=(Math.atan2(F,z)-Math.atan2(k,-X))*C;return s(d[0],d[1],ne,ue)<=s(d[0],d[1],ie,J)?[ne,ue,d[2]]:[ie,J,d[2]]}(K,z,ie);(!isFinite(ae[0])||!isFinite(ae[1])||!isFinite(ae[2]))&&(ae=ie),S.rotate(ae),ie=ae}}else z=c(S,X=j);!function F(X){X({type:"zoom"})}(L.of(this,arguments))}),function O(X){B++||X({type:"zoomstart"})}(L.of(this,arguments))}).on("zoomend",function(){T.select(this).style(y),k.call(I,"zoom",null),function N(X){--B||X({type:"zoomend"})}(L.of(this,arguments)),l(n,S,H)}).on("zoom.redraw",function(){n.render(!0);var X=S.rotate();n.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":S.scale()/n.fitScale,"geo.projection.rotation.lon":-X[0],"geo.projection.rotation.lat":-X[1]})}),T.rebind(I,L,"on")}function c(n,S){var d=n.invert(S);return d&&isFinite(d[0])&&isFinite(d[1])&&function E(n){var S=n[0]*P,d=n[1]*P,I=Math.cos(d);return[I*Math.cos(S),I*Math.sin(S),Math.sin(d)]}(d)}function s(n,S,d,I){var L=v(d-n),B=v(I-S);return Math.sqrt(L*L+B*B)}function v(n){return(n%360+540)%360-180}function A(n,S,d){var I=d*P,L=n.slice(),B=0===S?1:0,k=2===S?1:2,z=Math.cos(I),O=Math.sin(I);return L[B]=n[B]*z-n[k]*O,L[k]=n[k]*z+n[B]*O,L}function g(n,S){for(var d=0,I=0,L=n.length;I<L;++I)d+=n[I]*S[I];return d}te.exports=function t(n,S){return(S._isScoped?i:S._isClipped?f:u)(n,n.projection)}},27659:function(te,Y,e){"use strict";var T=e(73972),D=e(85555).SUBPLOT_PATTERN;Y.AU=function(o,P,C){var h=T.subplotsRegistry[P];if(!h)return[];for(var y=h.attr,t=[],r=0;r<o.length;r++){var l=o[r];l[0].trace[y]===C&&t.push(l)}return t},Y.a0=function(o,P){var y,C=[],h=[];if(!(y="string"==typeof P?T.getModule(P).plot:"function"==typeof P?P:P.plot))return[C,o];for(var t=0;t<o.length;t++){var r=o[t],l=r[0].trace;!0!==l.visible||0===l._length||(l._module&&l._module.plot===y?C.push(r):h.push(r))}return[C,h]},Y.NG=function(P,C,h){if(!T.subplotsRegistry[C])return[];var r,l,i,y=T.subplotsRegistry[C].attr,t=[];if("gl2d"===C){var u=h.match(D);l="x"+u[1],i="y"+u[2]}for(var f=0;f<P.length;f++)r=P[f],"gl2d"===C&&T.traceIs(r,"gl2d")?r[y[0]]===l&&r[y[1]]===i&&t.push(r):r[y]===h&&t.push(r);return t}},75071:function(te,Y,e){"use strict";var T=e(16825),D=e(1195),o=e(48956),P=e(85555),C=e(38520);function h(t,r){this.element=t,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}te.exports=function y(t){var r=t.mouseContainer,l=t.glplot,i=new h(r,l);function u(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}function c(m,a,b){var g,M,p=t.calcDataBox(),s=l.viewBox,v=i.lastPos[0],A=i.lastPos[1],x=P.MINDRAG*l.pixelRatio,E=P.MINZOOM*l.pixelRatio;function w(B,k,z){var O=Math.min(k,z),F=Math.max(k,z);O!==F?(p[B]=O,p[B+2]=F,i.dataBox=p,t.setRanges(p)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}switch(a*=l.pixelRatio,b=s[3]-s[1]-(b*=l.pixelRatio),t.fullLayout.dragmode){case"zoom":if(m){var n=a/(s[2]-s[0])*(p[2]-p[0])+p[0],S=b/(s[3]-s[1])*(p[3]-p[1])+p[1];i.boxInited||(i.boxStart[0]=n,i.boxStart[1]=S,i.dragStart[0]=a,i.dragStart[1]=b),i.boxEnd[0]=n,i.boxEnd[1]=S,i.boxInited=!0,!i.boxEnabled&&(i.boxStart[0]!==i.boxEnd[0]||i.boxStart[1]!==i.boxEnd[1])&&(i.boxEnabled=!0);var d=Math.abs(i.dragStart[0]-a)<E,I=Math.abs(i.dragStart[1]-b)<E;if(!function f(){for(var m=t.graphDiv._fullLayout._axisConstraintGroups,a=t.xaxis._id,b=t.yaxis._id,p=0;p<m.length;p++)if(-1!==m[p][a]){if(-1!==m[p][b])return!0;break}return!1}()||d&&I)d&&(i.boxEnd[0]=i.boxStart[0]),I&&(i.boxEnd[1]=i.boxStart[1]);else{g=i.boxEnd[0]-i.boxStart[0],M=i.boxEnd[1]-i.boxStart[1];var L=(p[3]-p[1])/(p[2]-p[0]);Math.abs(g*L)>Math.abs(M)?(i.boxEnd[1]=i.boxStart[1]+Math.abs(g)*L*(M>=0?1:-1),i.boxEnd[1]<p[1]?(i.boxEnd[1]=p[1],i.boxEnd[0]=i.boxStart[0]+(p[1]-i.boxStart[1])/Math.abs(L)):i.boxEnd[1]>p[3]&&(i.boxEnd[1]=p[3],i.boxEnd[0]=i.boxStart[0]+(p[3]-i.boxStart[1])/Math.abs(L))):(i.boxEnd[0]=i.boxStart[0]+Math.abs(M)/L*(g>=0?1:-1),i.boxEnd[0]<p[0]?(i.boxEnd[0]=p[0],i.boxEnd[1]=i.boxStart[1]+(p[0]-i.boxStart[0])*Math.abs(L)):i.boxEnd[0]>p[2]&&(i.boxEnd[0]=p[2],i.boxEnd[1]=i.boxStart[1]+(p[2]-i.boxStart[0])*Math.abs(L)))}}else i.boxEnabled?(M=i.boxStart[1]!==i.boxEnd[1],(g=i.boxStart[0]!==i.boxEnd[0])||M?(g&&(w(0,i.boxStart[0],i.boxEnd[0]),t.xaxis.autorange=!1),M&&(w(1,i.boxStart[1],i.boxEnd[1]),t.yaxis.autorange=!1),t.relayoutCallback()):t.glplot.setDirty(),i.boxEnabled=!1,i.boxInited=!1):i.boxInited&&(i.boxInited=!1);break;case"pan":i.boxEnabled=!1,i.boxInited=!1,m?(i.panning||(i.dragStart[0]=a,i.dragStart[1]=b),Math.abs(i.dragStart[0]-a)<x&&(a=i.dragStart[0]),Math.abs(i.dragStart[1]-b)<x&&(b=i.dragStart[1]),M=(A-b)*(p[3]-p[1])/(l.viewBox[3]-l.viewBox[1]),p[0]+=g=(v-a)*(p[2]-p[0])/(l.viewBox[2]-l.viewBox[0]),p[2]+=g,p[1]+=M,p[3]+=M,t.setRanges(p),i.panning=!0,i.lastInputTime=Date.now(),u(),t.cameraChanged(),t.handleAnnotations()):i.panning&&(i.panning=!1,t.relayoutCallback())}i.lastPos[0]=a,i.lastPos[1]=b}return i.mouseListener=T(r,c),r.addEventListener("touchstart",function(m){var a=o(m.changedTouches[0],r);c(0,a[0],a[1]),c(1,a[0],a[1]),m.preventDefault()},!!C&&{passive:!1}),r.addEventListener("touchmove",function(m){m.preventDefault();var a=o(m.changedTouches[0],r);c(1,a[0],a[1]),m.preventDefault()},!!C&&{passive:!1}),r.addEventListener("touchend",function(m){c(0,i.lastPos[0],i.lastPos[1]),m.preventDefault()},!!C&&{passive:!1}),i.wheelListener=D(r,function(m,a){if(!t.scrollZoom)return!1;var b=t.calcDataBox(),p=l.viewBox,s=i.lastPos[0],v=i.lastPos[1],A=Math.exp(5*a/(p[3]-p[1])),x=s/(p[2]-p[0])*(b[2]-b[0])+b[0],E=v/(p[3]-p[1])*(b[3]-b[1])+b[1];return b[0]=(b[0]-x)*A+x,b[2]=(b[2]-x)*A+x,b[1]=(b[1]-E)*A+E,b[3]=(b[3]-E)*A+E,t.setRanges(b),i.lastInputTime=Date.now(),u(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback(),!0},!0),i}},82961:function(te,Y,e){"use strict";var T=e(89298),D=e(78614);function o(y){this.scene=y,this.gl=y.gl,this.pixelRatio=y.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var P=o.prototype,C=["xaxis","yaxis"];P.merge=function(y){var t,r,l,i,u,f,c,m,a,b,p;for(this.titleEnable=!1,this.backgroundColor=D(y.plot_bgcolor),b=0;b<2;++b){var s=(t=C[b]).charAt(0);for(l=(r=y[this.scene[t]._name]).title.text===this.scene.fullLayout._dfltTitle[s]?"":r.title.text,p=0;p<=2;p+=2)this.labelEnable[b+p]=!1,this.labels[b+p]=l,this.labelColor[b+p]=D(r.title.font.color),this.labelFont[b+p]=r.title.font.family,this.labelSize[b+p]=r.title.font.size,this.labelPad[b+p]=this.getLabelPad(t,r),this.tickEnable[b+p]=!1,this.tickColor[b+p]=D((r.tickfont||{}).color),this.tickAngle[b+p]="auto"===r.tickangle?0:Math.PI*-r.tickangle/180,this.tickPad[b+p]=this.getTickPad(r),this.tickMarkLength[b+p]=0,this.tickMarkWidth[b+p]=r.tickwidth||0,this.tickMarkColor[b+p]=D(r.tickcolor),this.borderLineEnable[b+p]=!1,this.borderLineColor[b+p]=D(r.linecolor),this.borderLineWidth[b+p]=r.linewidth||0;c=this.hasSharedAxis(r),u=this.hasAxisInDfltPos(t,r)&&!c,f=this.hasAxisInAltrPos(t,r)&&!c,i=r.mirror||!1,m=c?-1!==String(i).indexOf("all"):!!i,a=c?"allticks"===i:-1!==String(i).indexOf("ticks"),u?this.labelEnable[b]=!0:f&&(this.labelEnable[b+2]=!0),u?this.tickEnable[b]=r.showticklabels:f&&(this.tickEnable[b+2]=r.showticklabels),(u||m)&&(this.borderLineEnable[b]=r.showline),(f||m)&&(this.borderLineEnable[b+2]=r.showline),(u||a)&&(this.tickMarkLength[b]=this.getTickMarkLength(r)),(f||a)&&(this.tickMarkLength[b+2]=this.getTickMarkLength(r)),this.gridLineEnable[b]=r.showgrid,this.gridLineColor[b]=D(r.gridcolor),this.gridLineWidth[b]=r.gridwidth,this.zeroLineEnable[b]=r.zeroline,this.zeroLineColor[b]=D(r.zerolinecolor),this.zeroLineWidth[b]=r.zerolinewidth}},P.hasSharedAxis=function(y){var t=this.scene;return 0!==T.findSubplotsWithAxis(t.fullLayout._subplots.gl2d,y).indexOf(t.id)},P.hasAxisInDfltPos=function(y,t){var r=t.side;return"xaxis"===y?"bottom"===r:"yaxis"===y?"left"===r:void 0},P.hasAxisInAltrPos=function(y,t){var r=t.side;return"xaxis"===y?"top"===r:"yaxis"===y?"right"===r:void 0},P.getLabelPad=function(y,t){var r=1.5,l=t.title.font.size,i=t.showticklabels;return"xaxis"===y?"top"===t.side?l*(r+(i?1:0))-10:l*(r+(i?.5:0))-10:"yaxis"===y?"right"===t.side?10+l*(r+(i?1:.5)):10+l*(r+(i?.5:0)):void 0},P.getTickPad=function(y){return"outside"===y.ticks?10+y.ticklen:15},P.getTickMarkLength=function(y){if(!y.ticks)return 0;var t=y.ticklen;return"inside"===y.ticks?-t:t},te.exports=function h(y){return new o(y)}},4796:function(te,Y,e){"use strict";var T=e(30962).overrideAll,D=e(92918),o=e(10820),P=e(77922),C=e(85555),h=e(93612),y=e(528),t=e(27659).NG;Y.name="gl2d",Y.attr=["xaxis","yaxis"],Y.idRoot=["x","y"],Y.idRegex=C.idRegex,Y.attrRegex=C.attrRegex,Y.attributes=e(89502),Y.supplyLayoutDefaults=function(r,l,i){l._has("cartesian")||h.supplyLayoutDefaults(r,l,i)},Y.layoutAttrOverrides=T(h.layoutAttributes,"plot","from-root"),Y.baseLayoutAttrOverrides=T({plot_bgcolor:o.plot_bgcolor,hoverlabel:y.hoverlabel},"plot","nested"),Y.plot=function(l){for(var i=l._fullLayout,u=l._fullData,f=i._subplots.gl2d,c=0;c<f.length;c++){var m=f[c],a=i._plots[m],b=t(u,"gl2d",m),p=a._scene2d;void 0===p&&(p=new D({id:m,graphDiv:l,container:l.querySelector(".gl-container"),staticPlot:l._context.staticPlot,plotGlPixelRatio:l._context.plotGlPixelRatio},i),a._scene2d=p),p.plot(b,l.calcdata,i,l.layout)}},Y.clean=function(r,l,i,u){for(var f=u._subplots.gl2d||[],c=0;c<f.length;c++){var m=f[c],a=u._plots[m];a._scene2d&&0===t(r,"gl2d",m).length&&(a._scene2d.destroy(),delete u._plots[m])}h.clean.apply(this,arguments)},Y.drawFramework=function(r){r._context.staticPlot||h.drawFramework(r)},Y.toSVG=function(r){for(var l=r._fullLayout,i=l._subplots.gl2d,u=0;u<i.length;u++){var c=l._plots[i[u]]._scene2d,m=c.toImage("png");l._glimages.append("svg:image").attr({xmlns:P.svg,"xlink:href":m,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),c.destroy()}},Y.updateFx=function(r){for(var l=r._fullLayout,i=l._subplots.gl2d,u=0;u<i.length;u++)l._plots[i[u]]._scene2d.updateFx(l.dragmode)}},92918:function(te,Y,e){"use strict";var s,v,T=e(73972),D=e(89298),o=e(30211),P=e(9330).gl_plot2d,C=e(9330).gl_spikes2d,h=e(9330).gl_select_box,y=e(40372),t=e(82961),r=e(75071),l=e(58617),i=e(99082),u=i.enforce,f=i.clean,c=e(71739).doAutoRange,m=e(64505),a=m.drawMode,b=m.selectMode,p=["xaxis","yaxis"],A=e(85555).SUBPLOT_PATTERN;function x(M,w){this.container=M.container,this.graphDiv=M.graphDiv,this.pixelRatio=M.plotGlPixelRatio||window.devicePixelRatio,this.id=M.id,this.staticPlot=!!M.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(w),this.makeFramework(),!this.stopped&&(this.glplotOptions=t(this),this.glplotOptions.merge(w),this.glplot=P(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=C(this.glplot),this.selectBox=h(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}te.exports=x;var E=x.prototype;E.makeFramework=function(){if(this.staticPlot){if(!(v||(s=document.createElement("canvas"),v=y({canvas:s,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=s,this.gl=v}else{var M=this.container.querySelector(".gl-canvas-focus"),w=y({canvas:M,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!w)return l(this),void(this.stopped=!0);this.canvas=M,this.gl=w}var n=this.canvas;n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style["pointer-events"]="none",this.updateSize(n);var S=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");S.style.position="absolute",S.style.top=S.style.left="0px",S.style.width=S.style.height="100%",S.style["z-index"]=20,S.style["pointer-events"]="none";var d=this.mouseContainer=document.createElement("div");d.style.position="absolute",d.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var I=this.container;I.appendChild(S),I.appendChild(d);var L=this;d.addEventListener("mouseout",function(){L.isMouseOver=!1,L.unhover()}),d.addEventListener("mouseover",function(){L.isMouseOver=!0})},E.toImage=function(M){M||(M="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(s),this.updateSize(this.canvas);var w=this.glplot.gl,n=w.drawingBufferWidth,S=w.drawingBufferHeight;w.clearColor(1,1,1,0),w.clear(w.COLOR_BUFFER_BIT|w.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),w.bindFramebuffer(w.FRAMEBUFFER,null);var d=new Uint8Array(n*S*4);w.readPixels(0,0,n,S,w.RGBA,w.UNSIGNED_BYTE,d);for(var I=0,L=S-1;I<L;++I,--L)for(var B=0;B<n;++B)for(var k=0;k<4;++k){var z=d[4*(n*I+B)+k];d[4*(n*I+B)+k]=d[4*(n*L+B)+k],d[4*(n*L+B)+k]=z}var O=document.createElement("canvas");O.width=n,O.height=S;var H,F=O.getContext("2d",{willReadFrequently:!0}),N=F.createImageData(n,S);switch(N.data.set(d),F.putImageData(N,0,0),M){case"jpeg":H=O.toDataURL("image/jpeg");break;case"webp":H=O.toDataURL("image/webp");break;default:H=O.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(s),H},E.updateSize=function(M){M||(M=this.canvas);var w=this.pixelRatio,n=this.fullLayout,d=n.height,I=0|Math.ceil(w*n.width),L=0|Math.ceil(w*d);return(M.width!==I||M.height!==L)&&(M.width=I,M.height=L),M},E.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var M=[D.calcTicks(this.xaxis),D.calcTicks(this.yaxis)],w=0;w<2;++w)for(var n=0;n<M[w].length;++n)M[w][n].text=M[w][n].text+"";return M},E.updateRefs=function(M){this.fullLayout=M;var w=this.id.match(A),S="yaxis"+w[2];this.xaxis=this.fullLayout["xaxis"+w[1]],this.yaxis=this.fullLayout[S]},E.relayoutCallback=function(){var M=this.graphDiv,w=this.xaxis,n=this.yaxis,S=M.layout,d={},I=d[w._name+".range"]=w.range.slice(),L=d[n._name+".range"]=n.range.slice();d[w._name+".autorange"]=w.autorange,d[n._name+".autorange"]=n.autorange,T.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,d);var B=S[w._name];B.range=I,B.autorange=w.autorange;var k=S[n._name];k.range=L,k.autorange=n.autorange,d.lastInputTime=this.camera.lastInputTime,M.emit("plotly_relayout",d)},E.cameraChanged=function(){var M=this.camera;this.glplot.setDataBox(this.calcDataBox());var w=this.computeTickMarks();(function g(M,w){for(var n=0;n<2;++n){var S=M[n],d=w[n];if(S.length!==d.length)return!0;for(var I=0;I<S.length;++I)if(S[I].x!==d[I].x)return!0}return!1})(w,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=w,this.glplotOptions.dataBox=M.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},E.handleAnnotations=function(){for(var M=this.graphDiv,w=this.fullLayout.annotations,n=0;n<w.length;n++){var S=w[n];S.xref===this.xaxis._id&&S.yref===this.yaxis._id&&T.getComponentMethod("annotations","drawOne")(M,n)}},E.destroy=function(){if(this.glplot){var M=this.traces;M&&Object.keys(M).map(function(w){M[w].dispose(),delete M[w]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},E.plot=function(M,w,n){var S=this.glplot;this.updateRefs(n),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(M,w),this.updateFx(n.dragmode);var d=n.width,I=n.height;this.updateSize(this.canvas);var L=this.glplotOptions;L.merge(n),L.screenBox=[0,0,d,I];var B={_fullLayout:{_axisConstraintGroups:n._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:n._size}};f(B,this.xaxis),f(B,this.yaxis);var F,N,k=n._size,z=this.xaxis.domain,O=this.yaxis.domain;for(L.viewBox=[k.l+z[0]*k.w,k.b+O[0]*k.h,d-k.r-(1-z[1])*k.w,I-k.t-(1-O[1])*k.h],this.mouseContainer.style.width=k.w*(z[1]-z[0])+"px",this.mouseContainer.style.height=k.h*(O[1]-O[0])+"px",this.mouseContainer.height=k.h*(O[1]-O[0]),this.mouseContainer.style.left=k.l+z[0]*k.w+"px",this.mouseContainer.style.top=k.t+(1-O[1])*k.h+"px",N=0;N<2;++N)(F=this[p[N]])._length=L.viewBox[N+2]-L.viewBox[N],c(this.graphDiv,F),F.setScale();u(B),L.ticks=this.computeTickMarks(),L.dataBox=this.calcDataBox(),L.merge(n),S.update(L),this.glplot.draw()},E.calcDataBox=function(){var M=this.xaxis,w=this.yaxis,n=M.range,S=w.range,d=M.r2l,I=w.r2l;return[d(n[0]),I(S[0]),d(n[1]),I(S[1])]},E.setRanges=function(M){var w=this.xaxis,n=this.yaxis,S=w.l2r,d=n.l2r;w.range=[S(M[0]),S(M[2])],n.range=[d(M[1]),d(M[3])]},E.updateTraces=function(M,w){var S,d,I,n=Object.keys(this.traces);this.fullData=M;e:for(S=0;S<n.length;S++){var L=n[S],B=this.traces[L];for(d=0;d<M.length;d++)if((I=M[d]).uid===L&&I.type===B.type)continue e;B.dispose(),delete this.traces[L]}for(S=0;S<M.length;S++){var k=w[S],z=this.traces[(I=M[S]).uid];z?z.update(I,k):(z=I._module.plot(this,I,k),this.traces[I.uid]=z)}this.glplot.objects.sort(function(O,F){return O._trace.index-F._trace.index})},E.updateFx=function(M){b(M)||a(M)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===M?"move":"zoom"===M?"crosshair":null},E.emitPointAction=function(M,w){for(var d,n=M.trace.uid,S=M.pointIndex,I=0;I<this.fullData.length;I++)this.fullData[I].uid===n&&(d=this.fullData[I]);var L={x:M.traceCoord[0],y:M.traceCoord[1],curveNumber:d.index,pointNumber:S,data:d._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};o.appendArrayPointValue(L,d,S),this.graphDiv.emit(w,{points:[L]})},E.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var M=this.glplot,w=this.camera,n=w.mouseListener,S=1===this.lastButtonState&&0===n.buttons,d=this.fullLayout;this.lastButtonState=n.buttons,this.cameraChanged();var B,I=n.x*M.pixelRatio,L=this.canvas.height-M.pixelRatio*n.y;if(w.boxEnabled&&"zoom"===d.dragmode){this.selectBox.enabled=!0;for(var k=this.selectBox.selectBox=[Math.min(w.boxStart[0],w.boxEnd[0]),Math.min(w.boxStart[1],w.boxEnd[1]),Math.max(w.boxStart[0],w.boxEnd[0]),Math.max(w.boxStart[1],w.boxEnd[1])],z=0;z<2;z++)w.boxStart[z]===w.boxEnd[z]&&(k[z]=M.dataBox[z],k[z+2]=M.dataBox[z+2]);M.setDirty()}else if(!w.panning&&this.isMouseOver){this.selectBox.enabled=!1;var O=d._size,H=(B=M.pick(I/M.pixelRatio+O.l+this.xaxis.domain[0]*O.w,L/M.pixelRatio-(O.t+(1-this.yaxis.domain[1])*O.h)))&&B.object._trace.handlePick(B);if(H&&S&&this.emitPointAction(H,"plotly_click"),B&&"skip"!==B.object._trace.hoverinfo&&d.hovermode&&H&&(!this.lastPickResult||this.lastPickResult.traceUid!==H.trace.uid||this.lastPickResult.dataCoord[0]!==H.dataCoord[0]||this.lastPickResult.dataCoord[1]!==H.dataCoord[1])){var X=H;this.lastPickResult={traceUid:H.trace?H.trace.uid:null,dataCoord:H.dataCoord.slice()},this.spikes.update({center:B.dataCoord}),X.screenCoord=[((M.viewBox[2]-M.viewBox[0])*(B.dataCoord[0]-M.dataBox[0])/(M.dataBox[2]-M.dataBox[0])+M.viewBox[0])/M.pixelRatio,(this.canvas.height-(M.viewBox[3]-M.viewBox[1])*(B.dataCoord[1]-M.dataBox[1])/(M.dataBox[3]-M.dataBox[1])-M.viewBox[1])/M.pixelRatio],this.emitPointAction(H,"plotly_hover");var ne=this.fullData[X.trace.index]||{},ie=X.pointIndex,ue=o.castHoverinfo(ne,d,ie);if(ue&&"all"!==ue){var J=ue.split("+");-1===J.indexOf("x")&&(X.traceCoord[0]=void 0),-1===J.indexOf("y")&&(X.traceCoord[1]=void 0),-1===J.indexOf("z")&&(X.traceCoord[2]=void 0),-1===J.indexOf("text")&&(X.textLabel=void 0),-1===J.indexOf("name")&&(X.name=void 0)}o.loneHover({x:X.screenCoord[0],y:X.screenCoord[1],xLabel:this.hoverFormatter("xaxis",X.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",X.traceCoord[1]),zLabel:X.traceCoord[2],text:X.textLabel,name:X.name,color:o.castHoverOption(ne,ie,"bgcolor")||X.color,borderColor:o.castHoverOption(ne,ie,"bordercolor"),fontFamily:o.castHoverOption(ne,ie,"font.family"),fontSize:o.castHoverOption(ne,ie,"font.size"),fontColor:o.castHoverOption(ne,ie,"font.color"),nameLength:o.castHoverOption(ne,ie,"namelength"),textAlign:o.castHoverOption(ne,ie,"align")},{container:this.svgContainer,gd:this.graphDiv})}}B||this.unhover(),M.draw()}},E.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),o.loneUnhover(this.svgContainer))},E.hoverFormatter=function(M,w){if(void 0!==w){var n=this[M];return D.tickText(n,n.c2l(w),"hover").text}}},58547:function(te,Y,e){"use strict";var T=e(30962).overrideAll,D=e(528),o=e(33539),P=e(27659).NG,C=e(71828),h=e(77922),y="gl3d",t="scene";Y.name=y,Y.attr=t,Y.idRoot=t,Y.idRegex=Y.attrRegex=C.counterRegex("scene"),Y.attributes=e(59084),Y.layoutAttributes=e(65500),Y.baseLayoutAttrOverrides=T({hoverlabel:D.hoverlabel},"plot","nested"),Y.supplyLayoutDefaults=e(24682),Y.plot=function(l){for(var i=l._fullLayout,u=l._fullData,f=i._subplots[y],c=0;c<f.length;c++){var m=f[c],a=P(u,y,m),b=i[m],p=b.camera,s=b._scene;s||(s=new o({id:m,graphDiv:l,container:l.querySelector(".gl-container"),staticPlot:l._context.staticPlot,plotGlPixelRatio:l._context.plotGlPixelRatio,camera:p},i),b._scene=s),s.viewInitial||(s.viewInitial={up:{x:p.up.x,y:p.up.y,z:p.up.z},eye:{x:p.eye.x,y:p.eye.y,z:p.eye.z},center:{x:p.center.x,y:p.center.y,z:p.center.z}}),s.plot(a,i,l.layout)}},Y.clean=function(r,l,i,u){for(var f=u._subplots[y]||[],c=0;c<f.length;c++){var m=f[c];!l[m]&&u[m]._scene&&(u[m]._scene.destroy(),u._infolayer&&u._infolayer.selectAll(".annotation-"+m).remove())}},Y.toSVG=function(r){for(var l=r._fullLayout,i=l._subplots[y],u=l._size,f=0;f<i.length;f++){var c=l[i[f]],m=c.domain,a=c._scene,b=a.toImage("png");l._glimages.append("svg:image").attr({xmlns:h.svg,"xlink:href":b,x:u.l+u.w*m.x[0],y:u.t+u.h*(1-m.y[1]),width:u.w*(m.x[1]-m.x[0]),height:u.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),a.destroy()}},Y.cleanId=function(l){if(l.match(/^scene[0-9]*$/)){var i=l.substr(5);return"1"===i&&(i=""),t+i}},Y.updateFx=function(r){for(var l=r._fullLayout,i=l._subplots[y],u=0;u<i.length;u++)l[i[u]]._scene.updateFx(l.dragmode,l.hovermode)}},59084:function(te){"use strict";te.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(te,Y,e){"use strict";var T=e(7901),D=e(13838),o=e(1426).extendFlat,P=e(30962).overrideAll;te.exports=P({visible:D.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:T.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:D.color,categoryorder:D.categoryorder,categoryarray:D.categoryarray,title:{text:D.title.text,font:D.title.font},type:o({},D.type,{values:["-","linear","log","date","category"]}),autotypenumbers:D.autotypenumbers,autorange:D.autorange,autorangeoptions:{minallowed:D.autorangeoptions.minallowed,maxallowed:D.autorangeoptions.maxallowed,clipmin:D.autorangeoptions.clipmin,clipmax:D.autorangeoptions.clipmax,include:D.autorangeoptions.include,editType:"plot"},rangemode:D.rangemode,minallowed:D.minallowed,maxallowed:D.maxallowed,range:o({},D.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:D.minor.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:D.ticks,mirror:D.mirror,ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,showticklabels:D.showticklabels,labelalias:D.labelalias,tickfont:D.tickfont,tickangle:D.tickangle,tickprefix:D.tickprefix,showtickprefix:D.showtickprefix,ticksuffix:D.ticksuffix,showticksuffix:D.showticksuffix,showexponent:D.showexponent,exponentformat:D.exponentformat,minexponent:D.minexponent,separatethousands:D.separatethousands,tickformat:D.tickformat,tickformatstops:D.tickformatstops,hoverformat:D.hoverformat,showline:D.showline,linecolor:D.linecolor,linewidth:D.linewidth,showgrid:D.showgrid,gridcolor:o({},D.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:D.gridwidth,zeroline:D.zeroline,zerolinecolor:D.zerolinecolor,zerolinewidth:D.zerolinewidth,_deprecated:{title:D._deprecated.title,titlefont:D._deprecated.titlefont}},"plot","from-root")},3277:function(te,Y,e){"use strict";var T=e(84267).mix,D=e(71828),o=e(44467),P=e(77894),C=e(951),h=e(71453),y=["xaxis","yaxis","zaxis"];te.exports=function(l,i,u){var f,c;function m(p,s){return D.coerce(f,c,P,p,s)}for(var a=0;a<y.length;a++){var b=y[a];f=l[b]||{},(c=o.newContainer(i,b))._id=b[0]+u.scene,c._name=b,C(f,c,m,u),h(f,c,m,{font:u.font,letter:b[0],data:u.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:u.bgColor,calendar:u.calendar},u.fullLayout),m("gridcolor",T(c.color,u.bgColor,72.72727272727273).toRgbString()),m("title.text",b[0]),c.setScale=D.noop,m("showspikes")&&(m("spikesides"),m("spikethickness"),m("spikecolor",c.color)),m("showaxeslabels"),m("showbackground")&&m("backgroundcolor")}}},30422:function(te,Y,e){"use strict";var T=e(78614),D=e(71828),o=["xaxis","yaxis","zaxis"];function P(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}P.prototype.merge=function(y,t){for(var r=this,l=0;l<3;++l){var i=t[o[l]];i.visible?(r.labels[l]=y._meta?D.templateString(i.title.text,y._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(r.labelColor[l]=T(i.title.font.color)),i.title.font.family&&(r.labelFont[l]=i.title.font.family),i.title.font.size&&(r.labelSize[l]=i.title.font.size)),"showline"in i&&(r.lineEnable[l]=i.showline),"linecolor"in i&&(r.lineColor[l]=T(i.linecolor)),"linewidth"in i&&(r.lineWidth[l]=i.linewidth),"showgrid"in i&&(r.gridEnable[l]=i.showgrid),"gridcolor"in i&&(r.gridColor[l]=T(i.gridcolor)),"gridwidth"in i&&(r.gridWidth[l]=i.gridwidth),"log"===i.type?r.zeroEnable[l]=!1:"zeroline"in i&&(r.zeroEnable[l]=i.zeroline),"zerolinecolor"in i&&(r.zeroLineColor[l]=T(i.zerolinecolor)),"zerolinewidth"in i&&(r.zeroLineWidth[l]=i.zerolinewidth),r.lineTickEnable[l]=!(!("ticks"in i)||!i.ticks),"ticklen"in i&&(r.lineTickLength[l]=r._defaultLineTickLength[l]=i.ticklen),"tickcolor"in i&&(r.lineTickColor[l]=T(i.tickcolor)),"tickwidth"in i&&(r.lineTickWidth[l]=i.tickwidth),"tickangle"in i&&(r.tickAngle[l]="auto"===i.tickangle?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(r.tickEnable[l]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(r.tickColor[l]=T(i.tickfont.color)),i.tickfont.family&&(r.tickFont[l]=i.tickfont.family),i.tickfont.size&&(r.tickSize[l]=i.tickfont.size)),"mirror"in i?-1!==["ticks","all","allticks"].indexOf(i.mirror)?(r.lineTickMirror[l]=!0,r.lineMirror[l]=!0):!0===i.mirror?(r.lineTickMirror[l]=!1,r.lineMirror[l]=!0):(r.lineTickMirror[l]=!1,r.lineMirror[l]=!1):r.lineMirror[l]=!1,"showbackground"in i&&!1!==i.showbackground?(r.backgroundEnable[l]=!0,r.backgroundColor[l]=T(i.backgroundcolor)):r.backgroundEnable[l]=!1):(r.tickEnable[l]=!1,r.labelEnable[l]=!1,r.lineEnable[l]=!1,r.lineTickEnable[l]=!1,r.gridEnable[l]=!1,r.zeroEnable[l]=!1,r.backgroundEnable[l]=!1)}},te.exports=function h(y,t){var r=new P;return r.merge(y,t),r}},24682:function(te,Y,e){"use strict";var T=e(71828),D=e(7901),o=e(73972),P=e(49119),C=e(3277),h=e(65500),y=e(27659).NG,t="gl3d";function r(l,i,u,f){for(var c=u("bgcolor"),m=D.combine(c,f.paper_bgcolor),a=["up","center","eye"],b=0;b<a.length;b++)u("camera."+a[b]+".x"),u("camera."+a[b]+".y"),u("camera."+a[b]+".z");u("camera.projection.type");var p=!!u("aspectratio.x")&&!!u("aspectratio.y")&&!!u("aspectratio.z"),v=u("aspectmode",p?"manual":"auto");p||(l.aspectratio=i.aspectratio={x:1,y:1,z:1},"manual"===v&&(i.aspectmode="auto"),l.aspectmode=i.aspectmode);var A=y(f.fullData,t,f.id);C(l,i,{font:f.font,scene:f.id,data:A,bgColor:m,calendar:f.calendar,autotypenumbersDflt:f.autotypenumbersDflt,fullLayout:f.fullLayout}),o.getComponentMethod("annotations3d","handleDefaults")(l,i,f);var x=f.getDfltFromLayout("dragmode");if(!1!==x&&!x)if(x="orbit",l.camera&&l.camera.up){var E=l.camera.up.x,g=l.camera.up.y,M=l.camera.up.z;0!==M&&(!E||!g||!M||M/Math.sqrt(E*E+g*g+M*M)>.999)&&(x="turntable")}else x="turntable";u("dragmode",x),u("hovermode",f.getDfltFromLayout("hovermode"))}te.exports=function(i,u,f){var c=u._basePlotModules.length>1;P(i,u,f,{type:t,attributes:h,handleDefaults:r,fullLayout:u,font:u.font,fullData:f,getDfltFromLayout:function m(a){if(!c&&T.validate(i[a],h[a]))return i[a]},autotypenumbersDflt:u.autotypenumbers,paper_bgcolor:u.paper_bgcolor,calendar:u.calendar})}},65500:function(te,Y,e){"use strict";var T=e(77894),D=e(27670).Y,o=e(1426).extendFlat,P=e(71828).counterRegex;function C(h,y,t){return{x:{valType:"number",dflt:h,editType:"camera"},y:{valType:"number",dflt:y,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}te.exports={_arrayAttrRegexps:[P("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:o(C(0,0,1),{}),center:o(C(0,0,0),{}),eye:o(C(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:D({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:T,yaxis:T,zaxis:T,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(te,Y,e){"use strict";var T=e(78614),D=["xaxis","yaxis","zaxis"];function o(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}o.prototype.merge=function(h){for(var y=0;y<3;++y){var t=h[D[y]];t.visible?(this.enabled[y]=t.showspikes,this.colors[y]=T(t.spikecolor),this.drawSides[y]=t.spikesides,this.lineWidth[y]=t.spikethickness):(this.enabled[y]=!1,this.drawSides[y]=!1)}},te.exports=function C(h){var y=new o;return y.merge(h),y}},96085:function(te,Y,e){"use strict";te.exports=function h(y){for(var t=y.axesOptions,r=y.glplot.axesPixels,l=y.fullSceneLayout,i=[[],[],[]],u=0;u<3;++u){var f=l[o[u]];if(f._length=(r[u].hi-r[u].lo)*r[u].pixelsPerDataUnit/y.dataScale[u],Math.abs(f._length)===1/0||isNaN(f._length))i[u]=[];else{f._input_range=f.range.slice(),f.range[0]=r[u].lo/y.dataScale[u],f.range[1]=r[u].hi/y.dataScale[u],f._m=1/(y.dataScale[u]*r[u].pixelsPerDataUnit),f.range[0]===f.range[1]&&(f.range[0]-=1,f.range[1]+=1);var c=f.tickmode;if("auto"===f.tickmode){f.tickmode="linear";var m=f.nticks||D.constrain(f._length/40,4,9);T.autoTicks(f,Math.abs(f.range[1]-f.range[0])/m)}for(var a=T.calcTicks(f,{msUTC:!0}),b=0;b<a.length;++b)a[b].x=a[b].x*y.dataScale[u],"date"===f.type&&(a[b].text=a[b].text.replace(/\<br\>/g," "));i[u]=a,f.tickmode=c}}for(t.ticks=i,u=0;u<3;++u)for(P[u]=.5*(y.glplot.bounds[0][u]+y.glplot.bounds[1][u]),b=0;b<2;++b)t.bounds[b][u]=y.glplot.bounds[b][u];y.contourLevels=function C(y){for(var t=new Array(3),r=0;r<3;++r){for(var l=y[r],i=new Array(l.length),u=0;u<l.length;++u)i[u]=l[u].x;t[r]=i}return t}(i)};var T=e(89298),D=e(71828),o=["xaxis","yaxis","zaxis"],P=[0,0,0]},63538:function(te){"use strict";function Y(T,D){var P,C,o=[0,0,0,0];for(P=0;P<4;++P)for(C=0;C<4;++C)o[C]+=T[4*P+C]*D[P];return o}te.exports=function e(T,D){return Y(T.projection,Y(T.view,Y(T.model,[D[0],D[1],D[2],1])))}},33539:function(te,Y,e){"use strict";var p,s,T=e(9330).gl_plot3d,D=T.createCamera,o=T.createScene,P=e(40372),C=e(38520),h=e(73972),y=e(71828),t=y.preserveDrawingBuffer(),r=e(89298),l=e(30211),i=e(78614),u=e(58617),f=e(63538),c=e(30422),m=e(13133),a=e(96085),b=e(71739).applyAutorangeOptions,v=!1;function A(L,B){var k=document.createElement("div"),z=L.container;this.graphDiv=L.graphDiv;var O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",O.style["z-index"]=20,O.style["pointer-events"]="none",k.appendChild(O),this.svgContainer=O,k.id=L.id,k.style.position="absolute",k.style.top=k.style.left="0px",k.style.width=k.style.height="100%",z.appendChild(k),this.fullLayout=B,this.id=L.id||"scene",this.fullSceneLayout=B[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(B,B[this.id]),this.spikeOptions=m(B[this.id]),this.container=k,this.staticMode=!!L.staticPlot,this.pixelRatio=this.pixelRatio||L.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=h.getComponentMethod("annotations3d","convert"),this.drawAnnotations=h.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var x=A.prototype;x.prepareOptions=function(){var L=this,B={canvas:L.canvas,gl:L.gl,glOptions:{preserveDrawingBuffer:t,premultipliedAlpha:!0,antialias:!0},container:L.container,axes:L.axesOptions,spikes:L.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:L.camera,pixelRatio:L.pixelRatio};if(L.staticMode){if(!(s||(p=document.createElement("canvas"),s=P({canvas:p,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");B.gl=s,B.canvas=p}return B};var E=!0;x.tryCreatePlot=function(){var L=this,B=L.prepareOptions(),k=!0;try{L.glplot=o(B)}catch{if(L.staticMode||!E||t)k=!1;else{y.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{t=B.glOptions.preserveDrawingBuffer=!0,L.glplot=o(B)}catch{t=B.glOptions.preserveDrawingBuffer=!1,k=!1}}}return E=!1,k},x.initializeGLCamera=function(){var L=this,B=L.fullSceneLayout.camera;L.camera=D(L.container,{center:[B.center.x,B.center.y,B.center.z],eye:[B.eye.x,B.eye.y,B.eye.z],up:[B.up.x,B.up.y,B.up.z],_ortho:"orthographic"===B.projection.type,zoomMin:.01,zoomMax:100,mode:"orbit"})},x.initializeGLPlot=function(){var L=this;if(L.initializeGLCamera(),!L.tryCreatePlot())return u(L);L.traces={},L.make4thDimension();var k=L.graphDiv,z=k.layout,O=function(){var N={};return L.isCameraChanged(z)&&(N[L.id+".camera"]=L.getCamera()),L.isAspectChanged(z)&&(N[L.id+".aspectratio"]=L.glplot.getAspectratio(),"manual"!==z[L.id].aspectmode&&(L.fullSceneLayout.aspectmode=z[L.id].aspectmode=N[L.id+".aspectmode"]="manual")),N},F=function(N){if(!1!==N.fullSceneLayout.dragmode){var H=O();N.saveLayout(z),N.graphDiv.emit("plotly_relayout",H)}};return L.glplot.canvas&&(L.glplot.canvas.addEventListener("mouseup",function(){F(L)}),L.glplot.canvas.addEventListener("touchstart",function(){v=!0}),L.glplot.canvas.addEventListener("wheel",function(N){if(k._context._scrollZoom.gl3d){if(L.camera._ortho){var H=N.deltaX>N.deltaY?1.1:.9090909090909091,X=L.glplot.getAspectratio();L.glplot.setAspectratio({x:H*X.x,y:H*X.y,z:H*X.z})}F(L)}},!!C&&{passive:!1}),L.glplot.canvas.addEventListener("mousemove",function(){if(!1!==L.fullSceneLayout.dragmode&&0!==L.camera.mouseListener.buttons){var N=O();L.graphDiv.emit("plotly_relayouting",N)}}),L.staticMode||L.glplot.canvas.addEventListener("webglcontextlost",function(N){k&&k.emit&&k.emit("plotly_webglcontextlost",{event:N,layer:L.id})},!1)),L.glplot.oncontextloss=function(){L.recoverContext()},L.glplot.onrender=function(){L.render()},!0},x.render=function(){var k,L=this,B=L.graphDiv,z=L.svgContainer,O=L.container.getBoundingClientRect();B._fullLayout._calcInverseTransform(B);var H=O.width*B._fullLayout._invScaleX,X=O.height*B._fullLayout._invScaleY;z.setAttributeNS(null,"viewBox","0 0 "+H+" "+X),z.setAttributeNS(null,"width",H),z.setAttributeNS(null,"height",X),a(L),L.glplot.axes.update(L.axesOptions);for(var ne=Object.keys(L.traces),ie=null,ue=L.glplot.selection,J=0;J<ne.length;++J)"skip"!==(k=L.traces[ne[J]]).data.hoverinfo&&k.handlePick(ue)&&(ie=k),k.setContourLevels&&k.setContourLevels();function j(Pe,Ie,Se){var xe=L.fullSceneLayout[Pe+"axis"];return"log"!==xe.type&&(Ie=xe.d2l(Ie)),r.hoverLabelText(xe,Ie,Se)}if(null!==ie){var W=f(L.glplot.cameraParams,ue.dataCoordinate),V=B._fullData[(k=ie.data).index],K=ue.index,ae={xLabel:j("x",ue.traceCoordinate[0],k.xhoverformat),yLabel:j("y",ue.traceCoordinate[1],k.yhoverformat),zLabel:j("z",ue.traceCoordinate[2],k.zhoverformat)},Q=l.castHoverinfo(V,L.fullLayout,K),Z=(Q||"").split("+"),re=Q&&"all"===Q;!V.hovertemplate&&!re&&(-1===Z.indexOf("x")&&(ae.xLabel=void 0),-1===Z.indexOf("y")&&(ae.yLabel=void 0),-1===Z.indexOf("z")&&(ae.zLabel=void 0),-1===Z.indexOf("text")&&(ue.textLabel=void 0),-1===Z.indexOf("name")&&(ie.name=void 0));var q,se=[];"cone"===k.type||"streamtube"===k.type?(ae.uLabel=j("x",ue.traceCoordinate[3],k.uhoverformat),(re||-1!==Z.indexOf("u"))&&se.push("u: "+ae.uLabel),ae.vLabel=j("y",ue.traceCoordinate[4],k.vhoverformat),(re||-1!==Z.indexOf("v"))&&se.push("v: "+ae.vLabel),ae.wLabel=j("z",ue.traceCoordinate[5],k.whoverformat),(re||-1!==Z.indexOf("w"))&&se.push("w: "+ae.wLabel),ae.normLabel=ue.traceCoordinate[6].toPrecision(3),(re||-1!==Z.indexOf("norm"))&&se.push("norm: "+ae.normLabel),"streamtube"===k.type&&(ae.divergenceLabel=ue.traceCoordinate[7].toPrecision(3),(re||-1!==Z.indexOf("divergence"))&&se.push("divergence: "+ae.divergenceLabel)),ue.textLabel&&se.push(ue.textLabel),q=se.join("<br>")):"isosurface"===k.type||"volume"===k.type?(ae.valueLabel=r.hoverLabelText(L._mockAxis,L._mockAxis.d2l(ue.traceCoordinate[3]),k.valuehoverformat),se.push("value: "+ae.valueLabel),ue.textLabel&&se.push(ue.textLabel),q=se.join("<br>")):q=ue.textLabel;var de={x:ue.traceCoordinate[0],y:ue.traceCoordinate[1],z:ue.traceCoordinate[2],data:V._input,fullData:V,curveNumber:V.index,pointNumber:K};l.appendArrayPointValue(de,V,K),k._module.eventData&&(de=V._module.eventData(de,ue,V,{},K));var we={points:[de]};if(L.fullSceneLayout.hovermode){var ye=[];l.loneHover({trace:V,x:(.5+.5*W[0]/W[3])*H,y:(.5-.5*W[1]/W[3])*X,xLabel:ae.xLabel,yLabel:ae.yLabel,zLabel:ae.zLabel,text:q,name:ie.name,color:l.castHoverOption(V,K,"bgcolor")||ie.color,borderColor:l.castHoverOption(V,K,"bordercolor"),fontFamily:l.castHoverOption(V,K,"font.family"),fontSize:l.castHoverOption(V,K,"font.size"),fontColor:l.castHoverOption(V,K,"font.color"),nameLength:l.castHoverOption(V,K,"namelength"),textAlign:l.castHoverOption(V,K,"align"),hovertemplate:y.castOption(V,K,"hovertemplate"),hovertemplateLabels:y.extendFlat({},de,ae),eventData:[de]},{container:z,gd:B,inOut_bbox:ye}),de.bbox=ye[0]}B.emit(ue.distance<5&&(ue.buttons||v)?"plotly_click":"plotly_hover",we),this.oldEventData=we}else l.loneUnhover(z),this.oldEventData&&B.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;L.drawAnnotations(L)},x.recoverContext=function(){var L=this;L.glplot.dispose();var B=function(){L.glplot.gl.isContextLost()?requestAnimationFrame(B):L.initializeGLPlot()?L.plot.apply(L,L.plotArgs):y.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(B)};var g=["xaxis","yaxis","zaxis"];function M(L,B,k){for(var z=L.fullSceneLayout,O=0;O<3;O++){var F=g[O],N=F.charAt(0),H=z[F],X=B[N],ne=B[N+"calendar"],ie=B["_"+N+"length"];if(y.isArrayOrTypedArray(X))for(var ue,J=0;J<(ie||X.length);J++)if(y.isArrayOrTypedArray(X[J]))for(var j=0;j<X[J].length;++j)ue=H.d2l(X[J][j],0,ne),!isNaN(ue)&&isFinite(ue)&&(k[0][O]=Math.min(k[0][O],ue),k[1][O]=Math.max(k[1][O],ue));else ue=H.d2l(X[J],0,ne),!isNaN(ue)&&isFinite(ue)&&(k[0][O]=Math.min(k[0][O],ue),k[1][O]=Math.max(k[1][O],ue));else k[0][O]=Math.min(k[0][O],0),k[1][O]=Math.max(k[1][O],ie-1)}}x.plot=function(L,B,k){var z=this;if(z.plotArgs=[L,B,k],!z.glplot.contextLost){var O,F,N,H,X,ne,ie=B[z.id],ue=k[z.id];z.fullLayout=B,z.fullSceneLayout=ie,z.axesOptions.merge(B,ie),z.spikeOptions.merge(ie),z.setViewport(ie),z.updateFx(ie.dragmode,ie.hovermode),z.camera.enableWheel=z.graphDiv._context._scrollZoom.gl3d,z.glplot.setClearColor(i(ie.bgcolor)),z.setConvert(X),L?Array.isArray(L)||(L=[L]):L=[];var J=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(N=0;N<L.length;++N)!0===(O=L[N]).visible&&0!==O._length&&M(this,O,J);!function w(L,B){for(var k=L.fullSceneLayout,z=k.annotations||[],O=0;O<3;O++)for(var F=g[O],N=F.charAt(0),H=k[F],X=0;X<z.length;X++){var ne=z[X];if(ne.visible){var ie=H.r2l(ne[N]);!isNaN(ie)&&isFinite(ie)&&(B[0][O]=Math.min(B[0][O],ie),B[1][O]=Math.max(B[1][O],ie))}}}(this,J);var j=[1,1,1];for(H=0;H<3;++H)j[H]=J[1][H]===J[0][H]?1:1/(J[1][H]-J[0][H]);for(z.dataScale=j,z.convertAnnotations(this),N=0;N<L.length;++N)!0===(O=L[N]).visible&&0!==O._length&&((F=z.traces[O.uid])?F.data.type===O.type?F.update(O):(F.dispose(),F=O._module.plot(this,O),z.traces[O.uid]=F):(F=O._module.plot(this,O),z.traces[O.uid]=F),F.name=O.name);var W=Object.keys(z.traces);e:for(N=0;N<W.length;++N){for(H=0;H<L.length;++H)if(L[H].uid===W[N]&&!0===L[H].visible&&0!==L[H]._length)continue e;(F=z.traces[W[N]]).dispose(),delete z.traces[W[N]]}z.glplot.objects.sort(function(Be,ze){return Be._trace.data.index-ze._trace.data.index});var V=[[0,0,0],[0,0,0]],K=[],ae={};for(N=0;N<3;++N){var Q;if((ne=(X=ie[g[N]]).type)in ae?(ae[ne].acc*=j[N],ae[ne].count+=1):ae[ne]={acc:j[N],count:1},X.autorange){V[0][N]=1/0,V[1][N]=-1/0;var Z=z.glplot.objects,re=z.fullSceneLayout.annotations||[],q=X._name.charAt(0);for(H=0;H<Z.length;H++){var se=Z[H],de=se.bounds,we=se._trace.data._pad||0;V[0][N]="ErrorBars"===se.constructor.name&&X._lowerLogErrorBound?Math.min(V[0][N],X._lowerLogErrorBound):Math.min(V[0][N],de[0][N]/j[N]-we),V[1][N]=Math.max(V[1][N],de[1][N]/j[N]+we)}for(H=0;H<re.length;H++){var ye=re[H];if(ye.visible){var Pe=X.r2l(ye[q]);V[0][N]=Math.min(V[0][N],Pe),V[1][N]=Math.max(V[1][N],Pe)}}if("rangemode"in X&&"tozero"===X.rangemode&&(V[0][N]=Math.min(V[0][N],0),V[1][N]=Math.max(V[1][N],0)),V[0][N]>V[1][N])V[0][N]=-1,V[1][N]=1;else{var Ie=V[1][N]-V[0][N];V[0][N]-=Ie/32,V[1][N]+=Ie/32}if(Q=b(Q=[V[0][N],V[1][N]],X),V[0][N]=Q[0],V[1][N]=Q[1],X.isReversed()){var Se=V[0][N];V[0][N]=V[1][N],V[1][N]=Se}}else V[0][N]=X.r2l((Q=X.range)[0]),V[1][N]=X.r2l(Q[1]);V[0][N]===V[1][N]&&(V[0][N]-=1,V[1][N]+=1),K[N]=V[1][N]-V[0][N],X.range=[V[0][N],V[1][N]],X.limitRange(),z.glplot.setBounds(N,{min:X.range[0]*j[N],max:X.range[1]*j[N]})}var xe,Me=ie.aspectmode;if("cube"===Me)xe=[1,1,1];else if("manual"===Me){var Ge=ie.aspectratio;xe=[Ge.x,Ge.y,Ge.z]}else{if("auto"!==Me&&"data"!==Me)throw new Error("scene.js aspectRatio was not one of the enumerated types");var Ye=[1,1,1];for(N=0;N<3;++N){var De=ae[ne=(X=ie[g[N]]).type];Ye[N]=Math.pow(De.acc,1/De.count)/j[N]}xe="data"===Me||Math.max.apply(null,Ye)/Math.min.apply(null,Ye)<=4?Ye:[1,1,1]}ie.aspectratio.x=ue.aspectratio.x=xe[0],ie.aspectratio.y=ue.aspectratio.y=xe[1],ie.aspectratio.z=ue.aspectratio.z=xe[2],z.glplot.setAspectratio(ie.aspectratio),z.viewInitial.aspectratio||(z.viewInitial.aspectratio={x:ie.aspectratio.x,y:ie.aspectratio.y,z:ie.aspectratio.z}),z.viewInitial.aspectmode||(z.viewInitial.aspectmode=ie.aspectmode);var He=ie.domain||null,rt=B._size||null;if(He&&rt){var $e=z.container.style;$e.position="absolute",$e.left=rt.l+He.x[0]*rt.w+"px",$e.top=rt.t+(1-He.y[1])*rt.h+"px",$e.width=rt.w*(He.x[1]-He.x[0])+"px",$e.height=rt.h*(He.y[1]-He.y[0])+"px"}z.glplot.redraw()}},x.destroy=function(){var L=this;L.glplot&&(L.camera.mouseListener.enabled=!1,L.container.removeEventListener("wheel",L.camera.wheelListener),L.camera=null,L.glplot.dispose(),L.container.parentNode.removeChild(L.container),L.glplot=null)},x.getCamera=function(){var L=this;return L.camera.view.recalcMatrix(L.camera.view.lastT()),function S(L){return{up:{x:L.up[0],y:L.up[1],z:L.up[2]},center:{x:L.center[0],y:L.center[1],z:L.center[2]},eye:{x:L.eye[0],y:L.eye[1],z:L.eye[2]},projection:{type:!0===L._ortho?"orthographic":"perspective"}}}(L.camera)},x.setViewport=function(L){var B=this,k=L.camera;B.camera.lookAt.apply(this,function n(L){return[[L.eye.x,L.eye.y,L.eye.z],[L.center.x,L.center.y,L.center.z],[L.up.x,L.up.y,L.up.z]]}(k)),B.glplot.setAspectratio(L.aspectratio),"orthographic"===k.projection.type!==B.camera._ortho&&(B.glplot.redraw(),B.glplot.clearRGBA(),B.glplot.dispose(),B.initializeGLPlot())},x.isCameraChanged=function(L){var ie,ue,J,j,W,k=this.getCamera(),O=y.nestedProperty(L,this.id+".camera").get(),N=!1;if(void 0===O)N=!0;else{for(var H=0;H<3;H++)for(var X=0;X<3;X++)if(J=X,void 0,void 0,W=["x","y","z"],!(ie=O)[(j=["up","center","eye"])[ue=H]]||k[j[ue]][W[J]]!==ie[j[ue]][W[J]]){N=!0;break}(!O.projection||k.projection&&k.projection.type!==O.projection.type)&&(N=!0)}return N},x.isAspectChanged=function(L){var k=this.glplot.getAspectratio(),O=y.nestedProperty(L,this.id+".aspectratio").get();return void 0===O||O.x!==k.x||O.y!==k.y||O.z!==k.z},x.saveLayout=function(L){var z,O,F,N,H,X,B=this,k=B.fullLayout,ne=B.isCameraChanged(L),ie=B.isAspectChanged(L),ue=ne||ie;if(ue){var J={};ne&&(z=B.getCamera(),F=(O=y.nestedProperty(L,B.id+".camera")).get(),J[B.id+".camera"]=F),ie&&(N=B.glplot.getAspectratio(),X=(H=y.nestedProperty(L,B.id+".aspectratio")).get(),J[B.id+".aspectratio"]=X),h.call("_storeDirectGUIEdit",L,k._preGUI,J),ne&&(O.set(z),y.nestedProperty(k,B.id+".camera").set(z)),ie&&(H.set(N),y.nestedProperty(k,B.id+".aspectratio").set(N),B.glplot.redraw())}return ue},x.updateFx=function(L,B){var k=this,z=k.camera;if(z)if("orbit"===L)z.mode="orbit",z.keyBindingMode="rotate";else if("turntable"===L){z.up=[0,0,1],z.mode="turntable",z.keyBindingMode="rotate";var O=k.graphDiv,F=O._fullLayout,N=k.fullSceneLayout.camera,H=N.up.x,X=N.up.y,ne=N.up.z;if(ne/Math.sqrt(H*H+X*X+ne*ne)<.999){var ie=k.id+".camera.up",ue={x:0,y:0,z:1},J={};J[ie]=ue;var j=O.layout;h.call("_storeDirectGUIEdit",j,F._preGUI,J),N.up=ue,y.nestedProperty(j,ie).set(ue)}}else z.keyBindingMode=L;k.fullSceneLayout.hovermode=B},x.toImage=function(L){var B=this;L||(L="png"),B.staticMode&&B.container.appendChild(p),B.glplot.redraw();var k=B.glplot.gl,z=k.drawingBufferWidth,O=k.drawingBufferHeight;k.bindFramebuffer(k.FRAMEBUFFER,null);var F=new Uint8Array(z*O*4);k.readPixels(0,0,z,O,k.RGBA,k.UNSIGNED_BYTE,F),function d(L,B,k){for(var z=0,O=k-1;z<O;++z,--O)for(var F=0;F<B;++F)for(var N=0;N<4;++N){var H=4*(B*z+F)+N,X=4*(B*O+F)+N,ne=L[H];L[H]=L[X],L[X]=ne}}(F,z,O),function I(L,B,k){for(var z=0;z<k;++z)for(var O=0;O<B;++O){var F=4*(B*z+O),N=L[F+3];if(N>0)for(var H=255/N,X=0;X<3;++X)L[F+X]=Math.min(H*L[F+X],255)}}(F,z,O);var N=document.createElement("canvas");N.width=z,N.height=O;var ne,H=N.getContext("2d",{willReadFrequently:!0}),X=H.createImageData(z,O);switch(X.data.set(F),H.putImageData(X,0,0),L){case"jpeg":ne=N.toDataURL("image/jpeg");break;case"webp":ne=N.toDataURL("image/webp");break;default:ne=N.toDataURL("image/png")}return B.staticMode&&B.container.removeChild(p),ne},x.setConvert=function(){for(var B=0;B<3;B++){var k=this.fullSceneLayout[g[B]];r.setConvert(k,this.fullLayout),k.setScale=y.noop}},x.make4thDimension=function(){var L=this,k=L.graphDiv._fullLayout;L._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(L._mockAxis,k)},te.exports=A},90060:function(te){"use strict";te.exports=function(e,T,D,o){o=o||e.length;for(var P=new Array(o),C=0;C<o;C++)P[C]=[e[C],T[C],D[C]];return P}},10820:function(te,Y,e){"use strict";var T=e(41940),D=e(85594),o=e(22399),P=e(29241),C=e(53777),h=e(35025),y=e(1426).extendFlat,t=T({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=o.defaultLine,te.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:T({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:y(h({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:P.newshape,activeshape:P.activeshape,newselection:C.newselection,activeselection:C.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:y({},D.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:T({editType:"layoutstyle"})}}},77734:function(te,Y,e){"use strict";var T=e(78607),D="1.10.1",o='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',P=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',o].join(" "),C=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),y={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:o,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:P,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:P,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:C,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:C,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},t=T(y);te.exports={requiredVersion:D,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:y,styleValuesNonMapbox:t,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+D+"."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",t.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},13056:function(te,Y,e){"use strict";var T=e(71828);te.exports=function(o,P){var C=o.split(" "),h=C[0],y=C[1],t=T.isArrayOrTypedArray(P)?T.mean(P):P,r=.5+t/100,l=1.5+t/100,i=["",""],u=[0,0];switch(h){case"top":i[0]="top",u[1]=-l;break;case"bottom":i[0]="bottom",u[1]=l}switch(y){case"left":i[1]="right",u[0]=-r;break;case"right":i[1]="left",u[0]=r}return{anchor:i[0]&&i[1]?i.join("-"):i[0]?i[0]:i[1]?i[1]:"center",offset:u}}},50101:function(te,Y,e){"use strict";var T=e(44517),D=e(71828),o=D.strTranslate,P=D.strScale,C=e(27659).AU,h=e(77922),y=e(39898),t=e(91424),r=e(63893),l=e(10481),i="mapbox",u=Y.constants=e(77734);function c(m){return"string"==typeof m&&(-1!==u.styleValuesMapbox.indexOf(m)||0===m.indexOf("mapbox://"))}Y.name=i,Y.attr="subplot",Y.idRoot=i,Y.idRegex=Y.attrRegex=D.counterRegex(i),Y.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},Y.layoutAttributes=e(23585),Y.supplyLayoutDefaults=e(77882),Y.plot=function(a){var b=a._fullLayout,p=a.calcdata,s=b._subplots[i];if(T.version!==u.requiredVersion)throw new Error(u.wrongVersionErrorMsg);var v=function f(m,a){var b=m._fullLayout;if(""===m._context.mapboxAccessToken)return"";for(var s=[],v=[],A=!1,x=!1,E=0;E<a.length;E++){var g=b[a[E]],M=g.accesstoken;c(g.style)&&(M?D.pushUnique(s,M):(c(g._input.style)&&(D.error("Uses Mapbox map style, but did not set an access token."),A=!0),x=!0)),M&&D.pushUnique(v,M)}if(x){var w=A?u.noAccessTokenErrorMsg:u.missingStyleErrorMsg;throw D.error(w),new Error(w)}return s.length?(s.length>1&&D.warn(u.multipleTokensErrorMsg),s[0]):(v.length&&D.log(["Listed mapbox access token(s)",v.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(a,s);T.accessToken=v;for(var A=0;A<s.length;A++){var x=s[A],E=C(p,i,x),g=b[x],M=g._subplot;M||(M=new l(a,x),b[x]._subplot=M),M.viewInitial||(M.viewInitial={center:D.extendFlat({},g.center),zoom:g.zoom,bearing:g.bearing,pitch:g.pitch}),M.plot(E,b,a._promises)}},Y.clean=function(m,a,b,p){for(var s=p._subplots[i]||[],v=0;v<s.length;v++){var A=s[v];!a[A]&&p[A]._subplot&&p[A]._subplot.destroy()}},Y.toSVG=function(m){for(var a=m._fullLayout,b=a._subplots[i],p=a._size,s=0;s<b.length;s++){var v=a[b[s]],A=v.domain,E=v._subplot.toImage("png");a._glimages.append("svg:image").attr({xmlns:h.svg,"xlink:href":E,x:p.l+p.w*A.x[0],y:p.t+p.h*(1-A.y[1]),width:p.w*(A.x[1]-A.x[0]),height:p.h*(A.y[1]-A.y[0]),preserveAspectRatio:"none"});var M=y.select(v._subplot.div);if(null!==M.select(".mapboxgl-ctrl-logo").node().offsetParent){var n=a._glimages.append("g");n.attr("transform",o(p.l+p.w*A.x[0]+10,p.t+p.h*(1-A.y[0])-31)),n.append("path").attr("d",u.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),n.append("path").attr("d",u.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),n.append("path").attr("d",u.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),n.append("polygon").attr("points",u.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var S=M.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),d=a._glimages.append("g"),I=d.append("text");I.text(S).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":S});var L=t.bBox(I.node()),B=p.w*(A.x[1]-A.x[0]);if(L.width>B/2){var k=S.split("|").join("<br>");I.text(k).attr("data-unformatted",k).call(r.convertToTspans,m),L=t.bBox(I.node())}I.attr("transform",o(-3,8-L.height)),d.insert("rect",".static-attribution").attr({x:-L.width-6,y:-L.height-3,width:L.width+6,height:L.height+3,fill:"rgba(255, 255, 255, 0.75)"});var z=1;L.width+6>B&&(z=B/(L.width+6));var O=[p.l+p.w*A.x[1],p.t+p.h*(1-A.y[0])];d.attr("transform",o(O[0],O[1])+P(z))}},Y.updateFx=function(m){for(var a=m._fullLayout,b=a._subplots[i],p=0;p<b.length;p++)a[b[p]]._subplot.updateFx(a)}},67911:function(te,Y,e){"use strict";var T=e(71828),D=e(63893).sanitizeHTML,o=e(13056),P=e(77734);function C(l,i){this.subplot=l,this.uid=l.uid+"-"+i,this.index=i,this.idSource="source-"+this.uid,this.idLayer=P.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var h=C.prototype;function y(l){if(!l.visible)return!1;var i=l.source;if(Array.isArray(i)&&i.length>0){for(var u=0;u<i.length;u++)if("string"!=typeof i[u]||0===i[u].length)return!1;return!0}return T.isPlainObject(i)||"string"==typeof i&&i.length>0}function t(l){var i={},u={};switch(l.type){case"circle":T.extendFlat(u,{"circle-radius":l.circle.radius,"circle-color":l.color,"circle-opacity":l.opacity});break;case"line":T.extendFlat(u,{"line-width":l.line.width,"line-color":l.color,"line-opacity":l.opacity,"line-dasharray":l.line.dash});break;case"fill":T.extendFlat(u,{"fill-color":l.color,"fill-outline-color":l.fill.outlinecolor,"fill-opacity":l.opacity});break;case"symbol":var f=l.symbol,c=o(f.textposition,f.iconsize);T.extendFlat(i,{"icon-image":f.icon+"-15","icon-size":f.iconsize/10,"text-field":f.text,"text-size":f.textfont.size,"text-anchor":c.anchor,"text-offset":c.offset,"symbol-placement":f.placement}),T.extendFlat(u,{"icon-color":l.color,"text-color":f.textfont.color,"text-opacity":l.opacity});break;case"raster":T.extendFlat(u,{"raster-fade-duration":0,"raster-opacity":l.opacity})}return{layout:i,paint:u}}h.update=function(i){this.visible?this.needsNewImage(i)?this.updateImage(i):this.needsNewSource(i)?(this.removeLayer(),this.updateSource(i),this.updateLayer(i)):this.needsNewLayer(i)?this.updateLayer(i):this.updateStyle(i):(this.updateSource(i),this.updateLayer(i)),this.visible=y(i)},h.needsNewImage=function(l){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===l.sourcetype&&(this.source!==l.source||JSON.stringify(this.coordinates)!==JSON.stringify(l.coordinates))},h.needsNewSource=function(l){return this.sourceType!==l.sourcetype||JSON.stringify(this.source)!==JSON.stringify(l.source)||this.layerType!==l.type},h.needsNewLayer=function(l){return this.layerType!==l.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},h.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},h.updateImage=function(l){this.subplot.map.getSource(this.idSource).updateImage({url:l.source,coordinates:l.coordinates});var u=this.findFollowingMapboxLayerId(this.lookupBelow());null!==u&&this.subplot.map.moveLayer(this.idLayer,u)},h.updateSource=function(l){var i=this.subplot.map;if(i.getSource(this.idSource)&&i.removeSource(this.idSource),this.sourceType=l.sourcetype,this.source=l.source,y(l)){var u=function r(l){var c,i=l.sourcetype,u=l.source,f={type:i};return"geojson"===i?c="data":"vector"===i?c="string"==typeof u?"url":"tiles":"raster"===i?(c="tiles",f.tileSize=256):"image"===i&&(c="url",f.coordinates=l.coordinates),f[c]=u,l.sourceattribution&&(f.attribution=D(l.sourceattribution)),f}(l);i.addSource(this.idSource,u)}},h.findFollowingMapboxLayerId=function(l){if("traces"===l)for(var i=this.subplot.getMapLayers(),u=0;u<i.length;u++){var f=i[u].id;if("string"==typeof f&&0===f.indexOf(P.traceLayerPrefix)){l=f;break}}return l},h.updateLayer=function(l){var i=this.subplot,u=t(l),f=this.lookupBelow(),c=this.findFollowingMapboxLayerId(f);this.removeLayer(),y(l)&&i.addLayer({id:this.idLayer,source:this.idSource,"source-layer":l.sourcelayer||"",type:l.type,minzoom:l.minzoom,maxzoom:l.maxzoom,layout:u.layout,paint:u.paint},c),this.layerType=l.type,this.below=f},h.updateStyle=function(l){if(y(l)){var i=t(l);this.subplot.setOptions(this.idLayer,"setLayoutProperty",i.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",i.paint)}},h.removeLayer=function(){var l=this.subplot.map;l.getLayer(this.idLayer)&&l.removeLayer(this.idLayer)},h.dispose=function(){var l=this.subplot.map;l.getLayer(this.idLayer)&&l.removeLayer(this.idLayer),l.getSource(this.idSource)&&l.removeSource(this.idSource)},te.exports=function(i,u,f){var c=new C(i,u);return c.update(f),c}},23585:function(te,Y,e){"use strict";var T=e(71828),D=e(7901).defaultLine,o=e(27670).Y,P=e(41940),C=e(82196).textposition,h=e(30962).overrideAll,y=e(44467).templatedArray,t=e(77734),r=P({});r.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(te.exports=h({_arrayAttrRegexps:[T.counterRegex("mapbox",".layers",!0)],domain:o({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:y("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:D},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:D}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:r,textposition:T.extendFlat({},C,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(te,Y,e){"use strict";var T=e(71828),D=e(49119),o=e(85501),P=e(23585);function C(y,t,r,l){r("accesstoken",l.accessToken),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch");var i=r("bounds.west"),u=r("bounds.east"),f=r("bounds.south"),c=r("bounds.north");(void 0===i||void 0===u||void 0===f||void 0===c)&&delete t.bounds,o(y,t,{name:"layers",handleItemDefaults:h}),t._input=y}function h(y,t){function r(m,a){return T.coerce(y,t,P.layers,m,a)}if(r("visible")){var f,i=r("sourcetype"),u="raster"===i||"image"===i;r("source"),r("sourceattribution"),"vector"===i&&r("sourcelayer"),"image"===i&&r("coordinates"),u&&(f="raster");var c=r("type",f);u&&"raster"!==c&&(c=t.type="raster",T.log("Source types *raster* and *image* must drawn *raster* layer type.")),r("below"),r("color"),r("opacity"),r("minzoom"),r("maxzoom"),"circle"===c&&r("circle.radius"),"line"===c&&(r("line.width"),r("line.dash")),"fill"===c&&r("fill.outlinecolor"),"symbol"===c&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),T.coerceFont(r,"symbol.textfont"),r("symbol.textposition"),r("symbol.placement"))}}te.exports=function(t,r,l){D(t,r,l,{type:"mapbox",attributes:P,handleDefaults:C,partition:"y",accessToken:r._mapboxAccessToken})}},10481:function(te,Y,e){"use strict";var T=e(44517),D=e(71828),o=e(41327),P=e(73972),C=e(89298),h=e(28569),y=e(30211),t=e(64505),r=t.drawMode,l=t.selectMode,i=e(47322).prepSelect,u=e(47322).clearOutline,f=e(47322).clearSelectionsCache,c=e(47322).selectOnClick,m=e(77734),a=e(67911);function b(E,g){this.id=g,this.gd=E;var M=E._fullLayout,w=E._context;this.container=M._glcontainer.node(),this.isStatic=w.staticPlot,this.uid=M._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(M),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var p=b.prototype;p.plot=function(E,g,M){var S,w=this;w.map&&g[w.id].accesstoken!==w.accessToken&&(w.map.remove(),w.map=null,w.styleObj=null,w.traceHash={},w.layerList=[]),S=new Promise(w.map?function(d,I){w.updateMap(E,g,d,I)}:function(d,I){w.createMap(E,g,d,I)}),M.push(S)},p.createMap=function(E,g,M,w){var n=this,S=g[n.id],d=n.styleObj=v(S.style);n.accessToken=S.accesstoken;var I=S.bounds,L=I?[[I.west,I.south],[I.east,I.north]]:null,B=n.map=new T.Map({container:n.div,style:d.style,center:x(S.center),zoom:S.zoom,bearing:S.bearing,pitch:S.pitch,maxBounds:L,interactive:!n.isStatic,preserveDrawingBuffer:n.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new T.AttributionControl({compact:!0}));B._canvas.style.left="0px",B._canvas.style.top="0px",n.rejectOnError(w),n.isStatic||n.initFx(E,g);var k=[];k.push(new Promise(function(z){B.once("load",z)})),k=k.concat(o.fetchTraceGeoData(E)),Promise.all(k).then(function(){n.fillBelowLookup(E,g),n.updateData(E),n.updateLayout(g),n.resolveOnRender(M)}).catch(w)},p.updateMap=function(E,g,M,w){var n=this,S=n.map,d=g[this.id];n.rejectOnError(w);var I=[],L=v(d.style);JSON.stringify(n.styleObj)!==JSON.stringify(L)&&(n.styleObj=L,S.setStyle(L.style),n.traceHash={},I.push(new Promise(function(B){S.once("styledata",B)}))),I=I.concat(o.fetchTraceGeoData(E)),Promise.all(I).then(function(){n.fillBelowLookup(E,g),n.updateData(E),n.updateLayout(g),n.resolveOnRender(M)}).catch(w)},p.fillBelowLookup=function(E,g){var n,S,w=g[this.id].layers,d=this.belowLookup={},I=!1;for(n=0;n<E.length;n++){var L=E[n][0].trace,B=L._module;"string"==typeof L.below?S=L.below:B.getBelow&&(S=B.getBelow(L,this)),""===S&&(I=!0),d["trace-"+L.uid]=S||""}for(n=0;n<w.length;n++){var k=w[n];d["layout-"+n]=S="string"==typeof k.below?k.below:I?"traces":""}var O,F,z={};for(O in d)z[S=d[O]]?z[S].push(O):z[S]=[O];for(S in z){var N=z[S];if(N.length>1)for(n=0;n<N.length;n++)0===(O=N[n]).indexOf("trace-")?(F=O.split("trace-")[1],this.traceHash[F]&&(this.traceHash[F].below=null)):0===O.indexOf("layout-")&&(F=O.split("layout-")[1],this.layerList[F]&&(this.layerList[F].below=null))}};var s={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function v(E){var g={};return D.isPlainObject(E)?(g.id=E.id,g.style=E):"string"==typeof E?(g.id=E,g.style=-1!==m.styleValuesMapbox.indexOf(E)?A(E):m.stylesNonMapbox[E]?m.stylesNonMapbox[E]:E):(g.id=m.styleValueDflt,g.style=A(m.styleValueDflt)),g.transition={duration:0,delay:0},g}function A(E){return m.styleUrlPrefix+E+"-"+m.styleUrlSuffix}function x(E){return[E.lon,E.lat]}p.updateData=function(E){var M,w,n,S,g=this.traceHash,d=E.slice().sort(function(z,O){return s[z[0].trace.type]-s[O[0].trace.type]});for(n=0;n<d.length;n++){var I=d[n],L=!1;(M=g[(w=I[0].trace).uid])&&(M.type===w.type?(M.update(I),L=!0):M.dispose()),!L&&w._module&&(g[w.uid]=w._module.plot(this,I))}var B=Object.keys(g);e:for(n=0;n<B.length;n++){var k=B[n];for(S=0;S<E.length;S++)if(k===(w=E[S][0].trace).uid)continue e;(M=g[k]).dispose(),delete g[k]}},p.updateLayout=function(E){var g=this.map,M=E[this.id];!this.dragging&&!this.wheeling&&(g.setCenter(x(M.center)),g.setZoom(M.zoom),g.setBearing(M.bearing),g.setPitch(M.pitch)),this.updateLayers(E),this.updateFramework(E),this.updateFx(E),this.map.resize(),this.gd._context._scrollZoom.mapbox?g.scrollZoom.enable():g.scrollZoom.disable()},p.resolveOnRender=function(E){var g=this.map;g.on("render",function M(){g.loaded()&&(g.off("render",M),setTimeout(E,10))})},p.rejectOnError=function(E){var g=this.map;function M(){E(new Error(m.mapOnErrorMsg))}g.once("error",M),g.once("style.error",M),g.once("source.error",M),g.once("tile.error",M),g.once("layer.error",M)},p.createFramework=function(E){var g=this,M=g.div=document.createElement("div");M.id=g.uid,M.style.position="absolute",g.container.appendChild(M),g.xaxis={_id:"x",c2p:function(w){return g.project(w).x}},g.yaxis={_id:"y",c2p:function(w){return g.project(w).y}},g.updateFramework(E),g.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},C.setConvert(g.mockAxis,E)},p.initFx=function(E,g){var M=this,w=M.gd,n=M.map;function S(){y.loneUnhover(g._hoverlayer)}function d(){var I=M.getView();w.emit("plotly_relayouting",M.getViewEditsWithDerived(I))}n.on("moveend",function(I){if(M.map){var L=w._fullLayout;if(I.originalEvent||M.wheeling){var B=L[M.id];P.call("_storeDirectGUIEdit",w.layout,L._preGUI,M.getViewEdits(B));var k=M.getView();B._input.center=B.center=k.center,B._input.zoom=B.zoom=k.zoom,B._input.bearing=B.bearing=k.bearing,B._input.pitch=B.pitch=k.pitch,w.emit("plotly_relayout",M.getViewEditsWithDerived(k))}I.originalEvent&&"mouseup"===I.originalEvent.type?M.dragging=!1:M.wheeling&&(M.wheeling=!1),L._rehover&&L._rehover()}}),n.on("wheel",function(){M.wheeling=!0}),n.on("mousemove",function(I){var L=M.div.getBoundingClientRect(),B=[I.originalEvent.offsetX,I.originalEvent.offsetY];I.target.getBoundingClientRect=function(){return L},M.xaxis.p2c=function(){return n.unproject(B).lng},M.yaxis.p2c=function(){return n.unproject(B).lat},w._fullLayout._rehover=function(){w._fullLayout._hoversubplot===M.id&&w._fullLayout[M.id]&&y.hover(w,I,M.id)},y.hover(w,I,M.id),w._fullLayout._hoversubplot=M.id}),n.on("dragstart",function(){M.dragging=!0,S()}),n.on("zoomstart",S),n.on("mouseout",function(){w._fullLayout._hoversubplot=null}),n.on("drag",d),n.on("zoom",d),n.on("dblclick",function(){var I=w._fullLayout[M.id];P.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,M.getViewEdits(I));var L=M.viewInitial;n.setCenter(x(L.center)),n.setZoom(L.zoom),n.setBearing(L.bearing),n.setPitch(L.pitch);var B=M.getView();I._input.center=I.center=B.center,I._input.zoom=I.zoom=B.zoom,I._input.bearing=I.bearing=B.bearing,I._input.pitch=I.pitch=B.pitch,w.emit("plotly_doubleclick",null),w.emit("plotly_relayout",M.getViewEditsWithDerived(B))}),M.clearOutline=function(){f(M.dragOptions),u(M.dragOptions.gd)},M.onClickInPanFn=function(I){return function(L){var B=w._fullLayout.clickmode;B.indexOf("select")>-1&&c(L.originalEvent,w,[M.xaxis],[M.yaxis],M.id,I),B.indexOf("event")>-1&&y.click(w,L.originalEvent)}}},p.updateFx=function(E){var g=this,M=g.map;if(!g.isStatic){var S=E.dragmode;g.dragOptions=D.extendDeep(g.dragOptions||{},{dragmode:E.dragmode,element:g.div,gd:g.gd,plotinfo:{id:g.id,domain:E[g.id].domain,xaxis:g.xaxis,yaxis:g.yaxis,fillRangeItems:function(L,B){B.isRect?(L.range={})[g.id]=[n([B.xmin,B.ymin]),n([B.xmax,B.ymax])]:(L.lassoPoints={})[g.id]=B.map(n)}},xaxes:[g.xaxis],yaxes:[g.yaxis],subplot:g.id}),M.off("click",g.onClickInPanHandler),l(S)||r(S)?(M.dragPan.disable(),M.on("zoomstart",g.clearOutline),g.dragOptions.prepFn=function(L,B,k){i(L,B,k,g.dragOptions,S)},h.init(g.dragOptions)):(M.dragPan.enable(),M.off("zoomstart",g.clearOutline),g.div.onmousedown=null,g.div.ontouchstart=null,g.div.removeEventListener("touchstart",g.div._ontouchstart),g.onClickInPanHandler=g.onClickInPanFn(g.dragOptions),M.on("click",g.onClickInPanHandler))}function n(L){var B=g.map.unproject(L);return[B.lng,B.lat]}},p.updateFramework=function(E){var g=E[this.id].domain,M=E._size,w=this.div.style;w.width=M.w*(g.x[1]-g.x[0])+"px",w.height=M.h*(g.y[1]-g.y[0])+"px",w.left=M.l+g.x[0]*M.w+"px",w.top=M.t+(1-g.y[1])*M.h+"px",this.xaxis._offset=M.l+g.x[0]*M.w,this.xaxis._length=M.w*(g.x[1]-g.x[0]),this.yaxis._offset=M.t+(1-g.y[1])*M.h,this.yaxis._length=M.h*(g.y[1]-g.y[0])},p.updateLayers=function(E){var n,M=E[this.id].layers,w=this.layerList;if(M.length!==w.length){for(n=0;n<w.length;n++)w[n].dispose();for(w=this.layerList=[],n=0;n<M.length;n++)w.push(a(this,n,M[n]))}else for(n=0;n<M.length;n++)w[n].update(M[n])},p.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},p.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},p.setOptions=function(E,g,M){for(var w in M)this.map[g](E,w,M[w])},p.getMapLayers=function(){return this.map.getStyle().layers},p.addLayer=function(E,g){var M=this.map;if("string"==typeof g){if(""===g)return void M.addLayer(E,g);for(var w=this.getMapLayers(),n=0;n<w.length;n++)if(g===w[n].id)return void M.addLayer(E,g);D.warn(["Trying to add layer with *below* value",g,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}M.addLayer(E)},p.project=function(E){return this.map.project(new T.LngLat(E[0],E[1]))},p.getView=function(){var E=this.map,g=E.getCenter(),n={lon:g.lng,lat:g.lat},S=E.getCanvas(),d=parseInt(S.style.width),I=parseInt(S.style.height);return{center:n,zoom:E.getZoom(),bearing:E.getBearing(),pitch:E.getPitch(),_derived:{coordinates:[E.unproject([0,0]).toArray(),E.unproject([d,0]).toArray(),E.unproject([d,I]).toArray(),E.unproject([0,I]).toArray()]}}},p.getViewEdits=function(E){for(var g=this.id,M=["center","zoom","bearing","pitch"],w={},n=0;n<M.length;n++){var S=M[n];w[g+"."+S]=E[S]}return w},p.getViewEditsWithDerived=function(E){var g=this.id,M=this.getViewEdits(E);return M[g+"._derived"]=E._derived,M},te.exports=b},35025:function(te){"use strict";te.exports=function(Y){var e=Y.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(te,Y,e){"use strict";var T=e(39898),D=e(84096).Dq,o=e(60721).FF,P=e(92770),C=e(73972),h=e(86281),y=e(44467),t=e(71828),r=e(7901),l=e(50606).BADNUM,i=e(41675),u=e(51873).clearOutline,f=e(21479),c=e(85594),m=e(31391),a=e(27659).a0,b=t.relinkPrivateKeys,p=t._,s=te.exports={};t.extendFlat(s,C),s.attributes=e(9012),s.attributes.type.values=s.allTypes,s.fontAttrs=e(41940),s.layoutAttributes=e(10820),s.fontWeight="normal";var v=s.transformsRegistry,A=e(31137);s.executeAPICommand=A.executeAPICommand,s.computeAPICommandBindings=A.computeAPICommandBindings,s.manageCommandObserver=A.manageCommandObserver,s.hasSimpleAPICommandBindings=A.hasSimpleAPICommandBindings,s.redrawText=function(W){return W=t.getGraphDiv(W),new Promise(function(V){setTimeout(function(){W._fullLayout&&(C.getComponentMethod("annotations","draw")(W),C.getComponentMethod("legend","draw")(W),C.getComponentMethod("colorbar","draw")(W),V(s.previousPromises(W)))},300)})},s.resize=function(W){W=t.getGraphDiv(W);var V,K=new Promise(function(ae,Q){(!W||t.isHidden(W))&&Q(new Error("Resize must be passed a displayed plot div element.")),W._redrawTimer&&clearTimeout(W._redrawTimer),W._resolveResize&&(V=W._resolveResize),W._resolveResize=ae,W._redrawTimer=setTimeout(function(){if(!W.layout||W.layout.width&&W.layout.height||t.isHidden(W))ae(W);else{delete W.layout.width,delete W.layout.height;var Z=W.changed;W.autoplay=!0,C.call("relayout",W,{autosize:!0}).then(function(){W.changed=Z,W._resolveResize===ae&&(delete W._resolveResize,ae(W))})}},100)});return V&&V(K),K},s.previousPromises=function(W){if((W._promises||[]).length)return Promise.all(W._promises).then(function(){W._promises=[]})},s.addLinks=function(W){if(W._context.showLink||W._context.showSources){var V=W._fullLayout,K=t.ensureSingle(V._paper,"text","js-plot-link-container",function(se){se.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var de=T.select(this);de.append("tspan").classed("js-link-to-tool",!0),de.append("tspan").classed("js-link-spacer",!0),de.append("tspan").classed("js-sourcelinks",!0)})}),ae=K.node(),Q={y:V._paper.attr("height")-9};document.body.contains(ae)&&ae.getComputedTextLength()>=V.width-20?(Q["text-anchor"]="start",Q.x=5):(Q["text-anchor"]="end",Q.x=V._paper.attr("width")-7),K.attr(Q);var Z=K.select(".js-link-to-tool"),re=K.select(".js-link-spacer"),q=K.select(".js-sourcelinks");W._context.showSources&&W._context.showSources(W),W._context.showLink&&function x(W,V){V.text("");var K=V.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(W._context.linkText+" "+String.fromCharCode(187));if(W._context.sendData)K.on("click",function(){s.sendDataToCloud(W)});else{var ae=window.location.pathname.split("/"),Q=window.location.search;K.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ae[2].split(".")[0]+"/"+ae[1]+Q})}}(W,Z),re.text(Z.text()&&q.text()?" - ":"")}},s.sendDataToCloud=function(W){var V=(window.PLOTLYENV||{}).BASE_URL||W._context.plotlyServerURL;if(V){W.emit("plotly_beforeexport");var K=T.select(W).append("div").attr("id","hiddenform").style("display","none"),ae=K.append("form").attr({action:V+"/external",method:"post",target:"_blank"});return ae.append("input").attr({type:"text",name:"data"}).node().value=s.graphJson(W,!1,"keepdata"),ae.node().submit(),K.remove(),W.emit("plotly_afterexport"),!1}};var E=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],g=["year","month","dayMonth","dayMonthYear"];function n(W,V){var K=W._context.locale;K||(K="en-US");var ae=!1,Q={};function Z(ye){for(var Pe=!0,Ie=0;Ie<V.length;Ie++){var Se=V[Ie];Q[Se]||(ye[Se]?Q[Se]=ye[Se]:Pe=!1)}Pe&&(ae=!0)}for(var re=0;re<2;re++){for(var q=W._context.locales,se=0;se<2;se++){var de=(q[K]||{}).format;if(de&&(Z(de),ae))break;q=C.localeRegistry}var we=K.split("-")[0];if(ae||we===K)break;K=we}return ae||Z(C.localeRegistry.en.format),Q}function I(W,V){var K={_fullLayout:V},ae="x"===W._id.charAt(0),Q=W._mainAxis._anchorAxis,Z="",re="",q="";if(Q&&(q=Q._mainAxis._id,Z=ae?W._id+q:q+W._id),!Z||!V._plots[Z]){Z="";for(var se=W._counterAxes,de=0;de<se.length;de++){var we=se[de],ye=ae?W._id+we:we+W._id;re||(re=ye);var Pe=i.getFromId(K,we);if(q&&Pe.overlaying===q){Z=ye;break}}}return Z||re}function L(W){var V=W.transforms;if(Array.isArray(V)&&V.length)for(var K=0;K<V.length;K++){var ae=V[K],Q=ae._module||v[ae.type];if(Q&&Q.makesData)return!0}return!1}function B(W,V,K,ae){for(var Q=W.transforms,Z=[W],re=0;re<Q.length;re++){var q=Q[re],se=v[q.type];se&&se.transform&&(Z=se.transform(Z,{transform:q,fullTrace:W,fullData:V,layout:K,fullLayout:ae,transformIndex:re}))}return Z}function k(W){return"string"==typeof W&&"px"===W.substr(W.length-2)&&parseFloat(W)}function z(W){var V=W.margin;if(!W._size){var K=W._size={l:Math.round(V.l),r:Math.round(V.r),t:Math.round(V.t),b:Math.round(V.b),p:Math.round(V.pad)};K.w=Math.round(W.width)-K.l-K.r,K.h=Math.round(W.height)-K.t-K.b}W._pushmargin||(W._pushmargin={}),W._pushmarginIds||(W._pushmarginIds={}),W._reservedMargin||(W._reservedMargin={})}s.supplyDefaults=function(W,V){var K=V&&V.skipUpdateCalc,ae=W._fullLayout||{};if(ae._skipDefaults)delete ae._skipDefaults;else{var ye,Q=W._fullLayout={},Z=W.layout||{},re=W._fullData||[],q=W._fullData=[],se=W.data||[],de=W.calcdata||[],we=W._context||{};W._transitionData||s.createTransitionData(W),Q._dfltTitle={plot:p(W,"Click to enter Plot title"),x:p(W,"Click to enter X axis title"),y:p(W,"Click to enter Y axis title"),colorbar:p(W,"Click to enter Colorscale title"),annotation:p(W,"new text")},Q._traceWord=p(W,"trace");var Pe=n(W,E);if(Q._mapboxAccessToken=we.mapboxAccessToken,ae._initialAutoSizeIsDone){var Ie=ae.width,Se=ae.height;s.supplyLayoutGlobalDefaults(Z,Q,Pe),Z.width||(Q.width=Ie),Z.height||(Q.height=Se),s.sanitizeMargins(Q)}else{s.supplyLayoutGlobalDefaults(Z,Q,Pe);var xe=!Z.width||!Z.height,Me=Q.autosize;xe&&(Me||we.autosizable)?s.plotAutoSize(W,Z,Q):xe&&s.sanitizeMargins(Q),!Me&&xe&&(Z.width=Q.width,Z.height=Q.height)}Q._d3locale=function S(W,V){return W.decimal=V.charAt(0),W.thousands=V.charAt(1),{numberFormat:function(K){try{K=o(W).format(t.adjustFormat(K))}catch{return t.warnBadFormat(K),t.noFormat}return K},timeFormat:D(W).utcFormat}}(Pe,Q.separators),Q._extraFormat=n(W,g),Q._initialAutoSizeIsDone=!0,Q._dataLength=se.length,Q._modules=[],Q._visibleModules=[],Q._basePlotModules=[];var De=Q._subplots=function w(){var K,ae,W=C.collectableSubplotTypes,V={};if(!W){W=[];var Q=C.subplotsRegistry;for(var Z in Q){var q=Q[Z].attr;if(q&&(W.push(Z),Array.isArray(q)))for(ae=0;ae<q.length;ae++)t.pushUnique(W,q[ae])}}for(K=0;K<W.length;K++)V[W[K]]=[];return V}(),He=Q._splomAxes={x:{},y:{}},rt=Q._splomSubplots={};Q._splomGridDflt={},Q._scatterStackOpts={},Q._firstScatter={},Q._alignmentOpts={},Q._colorAxes={},Q._requestRangeslider={},Q._traceUids=function M(W,V){var Q,Z,K=V.length,ae=[];for(Q=0;Q<W.length;Q++){var re=W[Q]._fullInput;re!==Z&&ae.push(re),Z=re}var q=ae.length,se=new Array(K),de={};function we(Ie,Se){se[Se]=Ie,de[Ie]=1}function ye(Ie,Se){if(Ie&&"string"==typeof Ie&&!de[Ie])return we(Ie,Se),!0}for(Q=0;Q<K;Q++){var Pe=V[Q].uid;"number"==typeof Pe&&(Pe=String(Pe)),!ye(Pe,Q)&&(Q<q&&ye(ae[Q].uid,Q)||we(t.randstr(de),Q))}return se}(re,se),Q._globalTransforms=(W._context||{}).globalTransforms,s.supplyDataDefaults(se,q,Z,Q);var $e=Object.keys(He.x),Be=Object.keys(He.y);if($e.length>1&&Be.length>1){for(C.getComponentMethod("grid","sizeDefaults")(Z,Q),ye=0;ye<$e.length;ye++)t.pushUnique(De.xaxis,$e[ye]);for(ye=0;ye<Be.length;ye++)t.pushUnique(De.yaxis,Be[ye]);for(var ze in rt)t.pushUnique(De.cartesian,ze)}if(Q._has=s._hasPlotType.bind(Q),re.length===q.length)for(ye=0;ye<q.length;ye++)b(q[ye],re[ye]);s.supplyLayoutModuleDefaults(Z,Q,q,W._transitionData);var tt=Q._visibleModules,lt=[];for(ye=0;ye<tt.length;ye++){var ut=tt[ye].crossTraceDefaults;ut&&t.pushUnique(lt,ut)}for(ye=0;ye<lt.length;ye++)lt[ye](q,Q);Q._hasOnlyLargeSploms=1===Q._basePlotModules.length&&"splom"===Q._basePlotModules[0].name&&$e.length>15&&Be.length>15&&0===Q.shapes.length&&0===Q.images.length,s.linkSubplots(q,Q,re,ae),s.cleanPlot(q,Q,re,ae);var xt=!(!ae._has||!ae._has("gl2d")),bt=!(!Q._has||!Q._has("gl2d")),Ce=!(!ae._has||!ae._has("cartesian"))||xt,Ee=!(!Q._has||!Q._has("cartesian"))||bt;Ce&&!Ee?ae._bgLayer.remove():Ee&&!Ce&&(Q._shouldCreateBgLayer=!0),ae._zoomlayer&&!W._dragging&&u({_fullLayout:ae}),function d(W,V){var K,ae=[];V.meta&&(K=V._meta={meta:V.meta,layout:{meta:V.meta}});for(var Q=0;Q<W.length;Q++){var Z=W[Q];Z.meta?ae[Z.index]=Z._meta={meta:Z.meta}:V.meta&&(Z._meta={meta:V.meta}),V.meta&&(Z._meta.layout={meta:V.meta})}ae.length&&(K||(K=V._meta={}),K.data=ae)}(q,Q),b(Q,ae),C.getComponentMethod("colorscale","crossTraceDefaults")(q,Q),Q._preGUI||(Q._preGUI={}),Q._tracePreGUI||(Q._tracePreGUI={});var Ne,Re=Q._tracePreGUI,ke={};for(Ne in Re)ke[Ne]="old";for(ye=0;ye<q.length;ye++)ke[Ne=q[ye]._fullInput.uid]||(Re[Ne]={}),ke[Ne]="new";for(Ne in ke)"old"===ke[Ne]&&delete Re[Ne];z(Q),C.getComponentMethod("rangeslider","makeData")(Q),!K&&de.length===q.length&&s.supplyDefaultsUpdateCalc(de,q)}},s.supplyDefaultsUpdateCalc=function(W,V){for(var K=0;K<V.length;K++){var ae=V[K],Q=(W[K]||[])[0];if(Q&&Q.trace){var Z=Q.trace;if(Z._hasCalcTransform){var q,se,de,re=Z._arrayAttrs;for(q=0;q<re.length;q++)de=t.nestedProperty(Z,se=re[q]).get().slice(),t.nestedProperty(ae,se).set(de)}Q.trace=ae}}},s.createTransitionData=function(W){W._transitionData||(W._transitionData={}),W._transitionData._frames||(W._transitionData._frames=[]),W._transitionData._frameHash||(W._transitionData._frameHash={}),W._transitionData._counter||(W._transitionData._counter=0),W._transitionData._interruptCallbacks||(W._transitionData._interruptCallbacks=[])},s._hasPlotType=function(W){var V,K=this._basePlotModules||[];for(V=0;V<K.length;V++)if(K[V].name===W)return!0;var ae=this._modules||[];for(V=0;V<ae.length;V++){var Q=ae[V].name;if(Q===W)return!0;var Z=C.modules[Q];if(Z&&Z.categories[W])return!0}return!1},s.cleanPlot=function(W,V,K,ae){var Q,Z,re=ae._basePlotModules||[];for(Q=0;Q<re.length;Q++){var q=re[Q];q.clean&&q.clean(W,V,K,ae)}var se=ae._has&&ae._has("gl"),de=V._has&&V._has("gl");se&&!de&&void 0!==ae._glcontainer&&(ae._glcontainer.selectAll(".gl-canvas").remove(),ae._glcontainer.selectAll(".no-webgl").remove(),ae._glcanvas=null);var we=!!ae._infolayer;e:for(Q=0;Q<K.length;Q++){var Pe=K[Q].uid;for(Z=0;Z<W.length;Z++)if(Pe===W[Z].uid)continue e;we&&ae._infolayer.select(".cb"+Pe).remove()}},s.linkSubplots=function(W,V,K,ae){var Q,Z,re=ae._plots||{},q=V._plots={},se=V._subplots,de={_fullData:W,_fullLayout:V},we=se.cartesian.concat(se.gl2d||[]);for(Q=0;Q<we.length;Q++){var xe,ye=we[Q],Pe=re[ye],Ie=i.getFromId(de,ye,"x"),Se=i.getFromId(de,ye,"y");for(Pe?xe=q[ye]=Pe:(xe=q[ye]={}).id=ye,Ie._counterAxes.push(Se._id),Se._counterAxes.push(Ie._id),Ie._subplotsWith.push(ye),Se._subplotsWith.push(ye),xe.xaxis=Ie,xe.yaxis=Se,xe._hasClipOnAxisFalse=!1,Z=0;Z<W.length;Z++){var Me=W[Z];if(Me.xaxis===xe.xaxis._id&&Me.yaxis===xe.yaxis._id&&!1===Me.cliponaxis){xe._hasClipOnAxisFalse=!0;break}}}var Ye,Ge=i.list(de,null,!0);for(Q=0;Q<Ge.length;Q++){var De=null;(Ye=Ge[Q]).overlaying&&(De=i.getFromId(de,Ye.overlaying))&&De.overlaying&&(Ye.overlaying=!1,De=null),Ye._mainAxis=De||Ye,De&&(Ye.domain=De.domain.slice()),Ye._anchorAxis="free"===Ye.anchor?null:i.getFromId(de,Ye.anchor)}for(Q=0;Q<Ge.length;Q++)if((Ye=Ge[Q])._counterAxes.sort(i.idSort),Ye._subplotsWith.sort(t.subplotSort),Ye._mainSubplot=I(Ye,V),Ye._counterAxes.length&&(Ye.spikemode&&-1!==Ye.spikemode.indexOf("across")||Ye.automargin&&Ye.mirror&&"free"!==Ye.anchor||C.getComponentMethod("rangeslider","isVisible")(Ye))){var He=1,rt=0;for(Z=0;Z<Ye._counterAxes.length;Z++){var $e=i.getFromId(de,Ye._counterAxes[Z]);He=Math.min(He,$e.domain[0]),rt=Math.max(rt,$e.domain[1])}He<rt&&(Ye._counterDomainMin=He,Ye._counterDomainMax=rt)}},s.clearExpandedTraceDefaultColors=function(W){var V,K,ae;for(K=[],(V=W._module._colorAttrs)||(W._module._colorAttrs=V=[],h.crawl(W._module.attributes,function Q(re,q,se,de){K[de]=q,K.length=de+1,"color"===re.valType&&void 0===re.dflt&&V.push(K.join("."))})),ae=0;ae<V.length;ae++)t.nestedProperty(W,"_input."+V[ae]).get()||t.nestedProperty(W,V[ae]).set(null)},s.supplyDataDefaults=function(W,V,K,ae){var de,we,ye,Q=ae._modules,Z=ae._visibleModules,re=ae._basePlotModules,q=0,se=0;function Pe(Be){V.push(Be);var ze=Be._module;ze&&(t.pushUnique(Q,ze),!0===Be.visible&&t.pushUnique(Z,ze),t.pushUnique(re,Be._module.basePlotModule),q++,!1!==Be._input.visible&&se++)}ae._transformModules=[];var Ie={},Se=[],Me=y.traceTemplater((K.template||{}).data||{});for(de=0;de<W.length;de++){if((we=Me.newTrace(ye=W[de])).uid=ae._traceUids[de],s.supplyTraceDefaults(ye,we,se,ae,de),we.index=de,we._input=ye,we._expandedIndex=q,we.transforms&&we.transforms.length)for(var Ge=!1!==ye.visible&&!1===we.visible,Ye=B(we,V,K,ae),De=0;De<Ye.length;De++){var He=Ye[De],rt={_template:we._template,type:we.type,uid:we.uid+De};Ge&&!1===He.visible&&delete He.visible,s.supplyTraceDefaults(He,rt,q,ae,de),b(rt,He),rt.index=de,rt._input=ye,rt._fullInput=we,rt._expandedIndex=q,rt._expandedInput=He,Pe(rt)}else we._fullInput=we,we._expandedInput=we,Pe(we);C.traceIs(we,"carpetAxis")&&(Ie[we.carpet]=we),C.traceIs(we,"carpetDependent")&&Se.push(de)}for(de=0;de<Se.length;de++)if((we=V[Se[de]]).visible){var $e=Ie[we.carpet];if(we._carpet=$e,!$e||!$e.visible){we.visible=!1;continue}we.xaxis=$e.xaxis,we.yaxis=$e.yaxis}},s.supplyAnimationDefaults=function(W){W=W||{};var V,K={};function ae(Q,Z){return t.coerce(W||{},K,c,Q,Z)}if(ae("mode"),ae("direction"),ae("fromcurrent"),Array.isArray(W.frame))for(K.frame=[],V=0;V<W.frame.length;V++)K.frame[V]=s.supplyAnimationFrameDefaults(W.frame[V]||{});else K.frame=s.supplyAnimationFrameDefaults(W.frame||{});if(Array.isArray(W.transition))for(K.transition=[],V=0;V<W.transition.length;V++)K.transition[V]=s.supplyAnimationTransitionDefaults(W.transition[V]||{});else K.transition=s.supplyAnimationTransitionDefaults(W.transition||{});return K},s.supplyAnimationFrameDefaults=function(W){var V={};function K(ae,Q){return t.coerce(W||{},V,c.frame,ae,Q)}return K("duration"),K("redraw"),V},s.supplyAnimationTransitionDefaults=function(W){var V={};function K(ae,Q){return t.coerce(W||{},V,c.transition,ae,Q)}return K("duration"),K("easing"),V},s.supplyFrameDefaults=function(W){var V={};function K(ae,Q){return t.coerce(W,V,m,ae,Q)}return K("group"),K("name"),K("traces"),K("baseframe"),K("data"),K("layout"),V},s.supplyTraceDefaults=function(W,V,K,ae,Q){var q,Z=ae.colorway||r.defaults,re=Z[K%Z.length];function se(Ye,De){return t.coerce(W,V,s.attributes,Ye,De)}var de=se("visible");se("type"),se("name",ae._traceWord+" "+Q),se("uirevision",ae.uirevision);var we=s.getModule(V);if(V._module=we,we){var ye=we.basePlotModule,Pe=ye.attr,Ie=ye.attributes;if(Pe&&Ie){var Se=ae._subplots,xe="";if(de||"gl2d"!==ye.name){if(Array.isArray(Pe))for(q=0;q<Pe.length;q++){var Me=Pe[q],Ge=t.coerce(W,V,Ie,Me);Se[Me]&&t.pushUnique(Se[Me],Ge),xe+=Ge}else xe=t.coerce(W,V,Ie,Pe);Se[ye.name]&&t.pushUnique(Se[ye.name],xe)}}}return de&&(se("customdata"),se("ids"),se("meta"),C.traceIs(V,"showLegend")?(t.coerce(W,V,we.attributes.showlegend?we.attributes:s.attributes,"showlegend"),se("legend"),se("legendwidth"),se("legendgroup"),se("legendgrouptitle.text"),se("legendrank"),V._dfltShowLegend=!0):V._dfltShowLegend=!1,we&&we.supplyDefaults(W,V,re,ae),C.traceIs(V,"noOpacity")||se("opacity"),C.traceIs(V,"notLegendIsolatable")&&(V.visible=!!V.visible),C.traceIs(V,"noHover")||(V.hovertemplate||t.coerceHoverinfo(W,V,ae),"parcats"!==V.type&&C.getComponentMethod("fx","supplyDefaults")(W,V,re,ae)),we&&we.selectPoints&&se("selectedpoints"),s.supplyTransformDefaults(W,V,ae)),V},s.hasMakesDataTransform=L,s.supplyTransformDefaults=function(W,V,K){if(V._length||L(W)){var ae=K._globalTransforms||[],Q=K._transformModules||[];if(Array.isArray(W.transforms)||0!==ae.length)for(var re=ae.concat(W.transforms||[]),q=V.transforms=[],se=0;se<re.length;se++){var Pe,de=re[se],we=de.type,ye=v[we],Ie=!(de._module&&de._module===ye),Se=ye&&"function"==typeof ye.transform;ye||t.warn("Unrecognized transform type "+we+"."),ye&&ye.supplyDefaults&&(Ie||Se)?((Pe=ye.supplyDefaults(de,V,K,W)).type=we,Pe._module=ye,t.pushUnique(Q,ye)):Pe=t.extendFlat({},de),q.push(Pe)}}},s.supplyLayoutGlobalDefaults=function(W,V,K){function ae(ye,Pe){return t.coerce(W,V,s.layoutAttributes,ye,Pe)}var Q=W.template;t.isPlainObject(Q)&&(V.template=Q,V._template=Q.layout,V._dataTemplate=Q.data),ae("autotypenumbers");var Z=t.coerceFont(ae,"font");t.coerceFont(ae,"title.font",t.extendFlat({},Z,{size:Math.round(1.4*Z.size)})),ae("title.text",V._dfltTitle.plot),ae("title.xref");var q=ae("title.yref");ae("title.pad.t"),ae("title.pad.r"),ae("title.pad.b"),ae("title.pad.l");var se=ae("title.automargin");ae("title.x"),ae("title.xanchor"),ae("title.y"),ae("title.yanchor"),se&&("paper"===q&&(0!==V.title.y&&(V.title.y=1),"auto"===V.title.yanchor&&(V.title.yanchor=0===V.title.y?"top":"bottom")),"container"===q&&("auto"===V.title.y&&(V.title.y=1),"auto"===V.title.yanchor&&(V.title.yanchor=V.title.y<.5?"bottom":"top"))),ae("uniformtext.mode")&&ae("uniformtext.minsize"),ae("autosize",!(W.width&&W.height)),ae("width"),ae("height"),ae("minreducedwidth"),ae("minreducedheight"),ae("margin.l"),ae("margin.r"),ae("margin.t"),ae("margin.b"),ae("margin.pad"),ae("margin.autoexpand"),W.width&&W.height&&s.sanitizeMargins(V),C.getComponentMethod("grid","sizeDefaults")(W,V),ae("paper_bgcolor"),ae("separators",K.decimal+K.thousands),ae("hidesources"),ae("colorway"),ae("datarevision");var we=ae("uirevision");ae("editrevision",we),ae("selectionrevision",we),C.getComponentMethod("modebar","supplyLayoutDefaults")(W,V),C.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(W,V,ae),C.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(W,V,ae),ae("meta"),t.isPlainObject(W.transition)&&(ae("transition.duration"),ae("transition.easing"),ae("transition.ordering")),C.getComponentMethod("calendars","handleDefaults")(W,V,"calendar"),C.getComponentMethod("fx","supplyLayoutGlobalDefaults")(W,V,ae),t.coerce(W,V,f,"scattermode")},s.plotAutoSize=function(V,K,ae){var re,q,Q=V._context||{},Z=Q.frameMargins,se=t.isPlotDiv(V);if(se&&V.emit("plotly_autosize"),Q.fillFrame)re=window.innerWidth,q=window.innerHeight,document.body.style.overflow="hidden";else{var de=se?window.getComputedStyle(V):{};if(re=k(de.width)||k(de.maxWidth)||ae.width,q=k(de.height)||k(de.maxHeight)||ae.height,P(Z)&&Z>0){var we=1-2*Z;re=Math.round(we*re),q=Math.round(we*q)}}var ye=s.layoutAttributes.width.min,Pe=s.layoutAttributes.height.min;re<ye&&(re=ye),q<Pe&&(q=Pe);var Ie=!K.width&&Math.abs(ae.width-re)>1,Se=!K.height&&Math.abs(ae.height-q)>1;(Se||Ie)&&(Ie&&(ae.width=re),Se&&(ae.height=q)),V._initialAutoSize||(V._initialAutoSize={width:re,height:q}),s.sanitizeMargins(ae)},s.supplyLayoutModuleDefaults=function(W,V,K,ae){var re,q,se,Q=C.componentsRegistry,Z=V._basePlotModules,de=C.subplotsRegistry.cartesian;for(re in Q)(se=Q[re]).includeBasePlot&&se.includeBasePlot(W,V);for(var we in Z.length||Z.push(de),V._has("cartesian")&&(C.getComponentMethod("grid","contentDefaults")(W,V),de.finalizeSubplots(W,V)),V._subplots)V._subplots[we].sort(t.subplotSort);for(q=0;q<Z.length;q++)(se=Z[q]).supplyLayoutDefaults&&se.supplyLayoutDefaults(W,V,K);var ye=V._modules;for(q=0;q<ye.length;q++)(se=ye[q]).supplyLayoutDefaults&&se.supplyLayoutDefaults(W,V,K);var Pe=V._transformModules;for(q=0;q<Pe.length;q++)(se=Pe[q]).supplyLayoutDefaults&&se.supplyLayoutDefaults(W,V,K,ae);for(re in Q)(se=Q[re]).supplyLayoutDefaults&&se.supplyLayoutDefaults(W,V,K)},s.purge=function(W){var V=W._fullLayout||{};void 0!==V._glcontainer&&(V._glcontainer.selectAll(".gl-canvas").remove(),V._glcontainer.remove(),V._glcanvas=null),V._modeBar&&V._modeBar.destroy(),W._transitionData&&(W._transitionData._interruptCallbacks&&(W._transitionData._interruptCallbacks.length=0),W._transitionData._animationRaf&&window.cancelAnimationFrame(W._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(W),delete W.data,delete W.layout,delete W._fullData,delete W._fullLayout,delete W.calcdata,delete W.empty,delete W.fid,delete W.undoqueue,delete W.undonum,delete W.autoplay,delete W.changed,delete W._promises,delete W._redrawTimer,delete W._hmlumcount,delete W._hmpixcount,delete W._transitionData,delete W._transitioning,delete W._initialAutoSize,delete W._transitioningWithDuration,delete W._dragging,delete W._dragged,delete W._dragdata,delete W._hoverdata,delete W._snapshotInProgress,delete W._editing,delete W._mouseDownTime,delete W._legendMouseDownTime,W.removeAllListeners&&W.removeAllListeners()},s.style=function(W){var ae,V=W._fullLayout._visibleModules,K=[];for(ae=0;ae<V.length;ae++){var Q=V[ae];Q.style&&t.pushUnique(K,Q.style)}for(ae=0;ae<K.length;ae++)K[ae](W)},s.sanitizeMargins=function(W){if(W&&W.margin){var re,V=W.width,K=W.height,ae=W.margin,Z=K-(ae.t+ae.b);V-(ae.l+ae.r)<0&&(re=(V-1)/(ae.l+ae.r),ae.l=Math.floor(re*ae.l),ae.r=Math.floor(re*ae.r)),Z<0&&(re=(K-1)/(ae.t+ae.b),ae.t=Math.floor(re*ae.t),ae.b=Math.floor(re*ae.b))}},s.clearAutoMarginIds=function(W){W._fullLayout._pushmarginIds={}},s.allowAutoMargin=function(W,V){W._fullLayout._pushmarginIds[V]=1},s.autoMargin=function(W,V,K){var ae=W._fullLayout,Q=ae.width,Z=ae.height,re=ae.margin,se=ae.minreducedheight,de=t.constrain(Q-re.l-re.r,2,ae.minreducedwidth),we=t.constrain(Z-re.t-re.b,2,se),ye=Math.max(0,Q-de),Pe=Math.max(0,Z-we),Ie=ae._pushmargin,Se=ae._pushmarginIds;if(!1!==re.autoexpand){if(K){var xe=K.pad;if(void 0===xe&&(xe=Math.min(12,re.l,re.r,re.t,re.b)),ye){var Me=(K.l+K.r)/ye;Me>1&&(K.l/=Me,K.r/=Me)}if(Pe){var Ge=(K.t+K.b)/Pe;Ge>1&&(K.t/=Ge,K.b/=Ge)}Ie[V]={l:{val:void 0!==K.xl?K.xl:K.x,size:K.l+xe},r:{val:void 0!==K.xr?K.xr:K.x,size:K.r+xe},b:{val:void 0!==K.yb?K.yb:K.y,size:K.b+xe},t:{val:void 0!==K.yt?K.yt:K.y,size:K.t+xe}},Se[V]=1}else delete Ie[V],delete Se[V];if(!ae._replotting)return s.doAutoMargin(W)}},s.doAutoMargin=function(W){var V=W._fullLayout,K=V.width,ae=V.height;V._size||(V._size={}),z(V);var Q=V._size,Z=V.margin,re={t:0,b:0,l:0,r:0},q=t.extendFlat({},Q),se=Z.l,de=Z.r,we=Z.t,ye=Z.b,Pe=V._pushmargin,Ie=V._pushmarginIds,Se=V.minreducedwidth,xe=V.minreducedheight;if(!1!==Z.autoexpand){for(var Me in Pe)Ie[Me]||delete Pe[Me];var Ge=W._fullLayout._reservedMargin;for(var Ye in Ge)for(var De in Ge[Ye])re[De]=Math.max(re[De],Ge[Ye][De]);for(var rt in Pe.base={l:{val:0,size:se},r:{val:1,size:de},t:{val:1,size:we},b:{val:0,size:ye}},re){var $e=0;for(var Be in Pe)"base"!==Be&&P(Pe[Be][rt].size)&&($e=Pe[Be][rt].size>$e?Pe[Be][rt].size:$e);var ze=Math.max(0,Z[rt]-$e);re[rt]=Math.max(0,re[rt]-ze)}for(var tt in Pe){var lt=Pe[tt].l||{},ut=Pe[tt].b||{},xt=lt.val,bt=lt.size,Ht=ut.val,Je=ut.size,Ce=K-re.r-re.l,Ee=ae-re.t-re.b;for(var Re in Pe){if(P(bt)&&Pe[Re].r){var ke=Pe[Re].r.val,Ne=Pe[Re].r.size;if(ke>xt){var _e=(bt*ke+(Ne-Ce)*xt)/(ke-xt),Te=(Ne*(1-xt)+(bt-Ce)*(1-ke))/(ke-xt);_e+Te>se+de&&(se=_e,de=Te)}}if(P(Je)&&Pe[Re].t){var fe=Pe[Re].t.val,pe=Pe[Re].t.size;if(fe>Ht){var Fe=(Je*fe+(pe-Ee)*Ht)/(fe-Ht),Xe=(pe*(1-Ht)+(Je-Ee)*(1-fe))/(fe-Ht);Fe+Xe>ye+we&&(ye=Fe,we=Xe)}}}}}var at=t.constrain(K-Z.l-Z.r,2,Se),ft=t.constrain(ae-Z.t-Z.b,2,xe),Xt=Math.max(0,K-at),rr=Math.max(0,ae-ft);if(Xt){var At=(se+de)/Xt;At>1&&(se/=At,de/=At)}if(rr){var zt=(ye+we)/rr;zt>1&&(ye/=zt,we/=zt)}if(Q.l=Math.round(se)+re.l,Q.r=Math.round(de)+re.r,Q.t=Math.round(we)+re.t,Q.b=Math.round(ye)+re.b,Q.p=Math.round(Z.pad),Q.w=Math.round(K)-Q.l-Q.r,Q.h=Math.round(ae)-Q.t-Q.b,!V._replotting&&(s.didMarginChange(q,Q)||function N(W){if("_redrawFromAutoMarginCount"in W._fullLayout)return!1;var V=i.list(W,"",!0);for(var K in V)if(V[K].autoshift||V[K].shift)return!0;return!1}(W))){"_redrawFromAutoMarginCount"in V?V._redrawFromAutoMarginCount++:V._redrawFromAutoMarginCount=1;var Qt=3*(1+Object.keys(Ie).length);if(V._redrawFromAutoMarginCount<Qt)return C.call("_doPlot",W);V._size=q,t.warn("Too many auto-margin redraws.")}!function H(W){var V=i.list(W,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(K){for(var ae=0;ae<V.length;ae++){var Q=V[ae][K];Q&&Q()}})}(W)};var X=["l","r","t","b","p","w","h"];function ne(W,V,K){var ae=!1,we=t.syncOrAsync([s.previousPromises,function se(){if(W._transitionData)return W._transitioning=!1,function Q(ye){var Pe=Promise.resolve();if(!ye)return Pe;for(;ye.length;)Pe=Pe.then(ye.shift());return Pe}(W._transitionData._interruptCallbacks)},K.prepareFn,s.rehover,s.reselect,function re(){return W.emit("plotly_transitioning",[]),new Promise(function(ye){W._transitioning=!0,V.duration>0&&(W._transitioningWithDuration=!0),W._transitionData._interruptCallbacks.push(function(){ae=!0}),K.redraw&&W._transitionData._interruptCallbacks.push(function(){return C.call("redraw",W)}),W._transitionData._interruptCallbacks.push(function(){W.emit("plotly_transitioninterrupted",[])});var Pe=0,Ie=0;function Se(){return Pe++,function(){Ie++,!ae&&Ie===Pe&&function q(ye){if(W._transitionData)(function Z(ye){if(ye)for(;ye.length;)ye.shift()})(W._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(K.redraw)return C.call("redraw",W)}).then(function(){W._transitioning=!1,W._transitioningWithDuration=!1,W.emit("plotly_transitioned",[])}).then(ye)}(ye)}}K.runFn(Se),setTimeout(Se())})}],W);return(!we||!we.then)&&(we=Promise.resolve()),we.then(function(){return W})}s.didMarginChange=function(W,V){for(var K=0;K<X.length;K++){var ae=X[K],Q=W[ae],Z=V[ae];if(!P(Q)||Math.abs(Z-Q)>1)return!0}return!1},s.graphJson=function(W,V,K,ae,Q,Z){(Q&&V&&!W._fullData||Q&&!V&&!W._fullLayout)&&s.supplyDefaults(W);var q=Q?W._fullLayout:W.layout,se=(W._transitionData||{})._frames;function de(Pe,Ie){if("function"==typeof Pe)return Ie?"_function_":null;if(t.isPlainObject(Pe)){var xe,Se={};return Object.keys(Pe).sort().forEach(function(Me){if(-1===["_","["].indexOf(Me.charAt(0))){if("function"==typeof Pe[Me])return void(Ie&&(Se[Me]="_function"));if("keepdata"===K){if("src"===Me.substr(Me.length-3))return}else if("keepstream"===K){if("string"==typeof(xe=Pe[Me+"src"])&&xe.indexOf(":")>0&&!t.isPlainObject(Pe.stream))return}else if("keepall"!==K&&"string"==typeof(xe=Pe[Me+"src"])&&xe.indexOf(":")>0)return;Se[Me]=de(Pe[Me],Ie)}}),Se}return Array.isArray(Pe)?Pe.map(function(Me){return de(Me,Ie)}):t.isTypedArray(Pe)?t.simpleMap(Pe,t.identity):t.isJSDate(Pe)?t.ms2DateTimeLocal(+Pe):Pe}var we={data:((Q?W._fullData:W.data)||[]).map(function(Pe){var Ie=de(Pe);return V&&delete Ie.fit,Ie})};if(!V&&(we.layout=de(q),Q)){var ye=q._size;we.layout.computed={margin:{b:ye.b,l:ye.l,r:ye.r,t:ye.t}}}return se&&(we.frames=de(se)),Z&&(we.config=de(W._context,!0)),"object"===ae?we:JSON.stringify(we)},s.modifyFrames=function(W,V){var K,ae,Q,Z=W._transitionData._frames,re=W._transitionData._frameHash;for(K=0;K<V.length;K++)switch(ae=V[K],ae.type){case"replace":var q=(Z[ae.index]||{}).name,se=(Q=ae.value).name;Z[ae.index]=re[se]=Q,se!==q&&(delete re[q],re[se]=Q);break;case"insert":re[(Q=ae.value).name]=Q,Z.splice(ae.index,0,Q);break;case"delete":delete re[(Q=Z[ae.index]).name],Z.splice(ae.index,1)}return Promise.resolve()},s.computeFrame=function(W,V){var ae,Q,Z,re,K=W._transitionData._frameHash;if(!V)throw new Error("computeFrame must be given a string frame name");var q=K[V.toString()];if(!q)return!1;for(var se=[q],de=[q.name];q.baseframe&&(q=K[q.baseframe.toString()])&&-1===de.indexOf(q.name);)se.push(q),de.push(q.name);for(var we={};q=se.pop();)if(q.layout&&(we.layout=s.extendLayout(we.layout,q.layout)),q.data){if(we.data||(we.data=[]),!(Q=q.traces))for(Q=[],ae=0;ae<q.data.length;ae++)Q[ae]=ae;for(we.traces||(we.traces=[]),ae=0;ae<q.data.length;ae++)null!=(Z=Q[ae])&&(-1===(re=we.traces.indexOf(Z))&&(we.traces[re=we.data.length]=Z),we.data[re]=s.extendTrace(we.data[re],q.data[ae]))}return we},s.recomputeFrameHash=function(W){for(var V=W._transitionData._frameHash={},K=W._transitionData._frames,ae=0;ae<K.length;ae++){var Q=K[ae];Q&&Q.name&&(V[Q.name]=Q)}},s.extendObjectWithContainers=function(W,V,K){var ae,Q,Z,re,se,de,we,ye=t.extendDeepNoArrays({},V||{}),Pe=t.expandObjectPaths(ye),Ie={};if(K&&K.length)for(Z=0;Z<K.length;Z++)void 0===(Q=(ae=t.nestedProperty(Pe,K[Z])).get())?t.nestedProperty(Ie,K[Z]).set(null):(ae.set(null),t.nestedProperty(Ie,K[Z]).set(Q));if(W=t.extendDeepNoArrays(W||{},Pe),K&&K.length)for(Z=0;Z<K.length;Z++)if(de=t.nestedProperty(Ie,K[Z]).get()){for(we=(se=t.nestedProperty(W,K[Z])).get(),Array.isArray(we)||se.set(we=[]),re=0;re<de.length;re++){var Se=de[re];we[re]=null===Se?null:s.extendObjectWithContainers(we[re],Se)}se.set(we)}return W},s.dataArrayContainers=["transforms","dimensions"],s.layoutArrayContainers=C.layoutArrayContainers,s.extendTrace=function(W,V){return s.extendObjectWithContainers(W,V,s.dataArrayContainers)},s.extendLayout=function(W,V){return s.extendObjectWithContainers(W,V,s.layoutArrayContainers)},s.transition=function(W,V,K,ae,Q,Z){var re={redraw:Q.redraw},q={},se=[];return re.prepareFn=function(){for(var de=Array.isArray(V)?V.length:0,we=ae.slice(0,de),ye=0;ye<we.length;ye++){var Pe=we[ye],Se=W._fullData[Pe]._module;if(Se){if(Se.animatable){var xe=Se.basePlotModule.name;q[xe]||(q[xe]=[]),q[xe].push(Pe)}W.data[we[ye]]=s.extendTrace(W.data[we[ye]],V[ye])}}var Me=t.expandObjectPaths(t.extendDeepNoArrays({},K)),Ge=/^[xy]axis[0-9]*$/;for(var Ye in Me)Ge.test(Ye)&&delete Me[Ye].range;s.extendLayout(W.layout,Me),delete W.calcdata,s.supplyDefaults(W),s.doCalcdata(W);var De=t.expandObjectPaths(K);if(De){var He=W._fullLayout._plots;for(var rt in He){var $e=He[rt],Be=$e.xaxis,ze=$e.yaxis,tt=Be.range.slice(),lt=ze.range.slice(),ut=null,xt=null,bt=null,Ht=null;Array.isArray(De[Be._name+".range"])?ut=De[Be._name+".range"].slice():Array.isArray((De[Be._name]||{}).range)&&(ut=De[Be._name].range.slice()),Array.isArray(De[ze._name+".range"])?xt=De[ze._name+".range"].slice():Array.isArray((De[ze._name]||{}).range)&&(xt=De[ze._name].range.slice()),tt&&ut&&(Be.r2l(tt[0])!==Be.r2l(ut[0])||Be.r2l(tt[1])!==Be.r2l(ut[1]))&&(bt={xr0:tt,xr1:ut}),lt&&xt&&(ze.r2l(lt[0])!==ze.r2l(xt[0])||ze.r2l(lt[1])!==ze.r2l(xt[1]))&&(Ht={yr0:lt,yr1:xt}),(bt||Ht)&&se.push(t.extendFlat({plotinfo:$e},bt,Ht))}}return Promise.resolve()},re.runFn=function(de){var we,Ie,ye=W._fullLayout._basePlotModules,Pe=se.length;if(K)for(Ie=0;Ie<ye.length;Ie++)ye[Ie].transitionAxes&&ye[Ie].transitionAxes(W,se,Z,de);for(var Se in Pe?((we=t.extendFlat({},Z)).duration=0,delete q.cartesian):we=Z,q){var xe=q[Se];W._fullData[xe[0]]._module.basePlotModule.plot(W,xe,we,de)}},ne(W,Z,re)},s.transitionFromReact=function(W,V,K,ae){var Q=W._fullLayout,Z=Q.transition,re={},q=[];return re.prepareFn=function(){var se=Q._plots;for(var de in re.redraw=!1,"some"===V.anim&&(re.redraw=!0),"some"===K.anim&&(re.redraw=!0),se){var we=se[de],ye=we.xaxis,Pe=we.yaxis,Ie=ae[ye._name].range.slice(),Se=ae[Pe._name].range.slice(),xe=ye.range.slice(),Me=Pe.range.slice();ye.setScale(),Pe.setScale();var Ge=null,Ye=null;(ye.r2l(Ie[0])!==ye.r2l(xe[0])||ye.r2l(Ie[1])!==ye.r2l(xe[1]))&&(Ge={xr0:Ie,xr1:xe}),(Pe.r2l(Se[0])!==Pe.r2l(Me[0])||Pe.r2l(Se[1])!==Pe.r2l(Me[1]))&&(Ye={yr0:Se,yr1:Me}),(Ge||Ye)&&q.push(t.extendFlat({plotinfo:we},Ge,Ye))}return Promise.resolve()},re.runFn=function(se){for(var Pe,Ie,Se,de=W._fullData,ye=W._fullLayout._basePlotModules,xe=[],Me=0;Me<de.length;Me++)xe.push(Me);function Ge(){if(W._fullLayout)for(var De=0;De<ye.length;De++)ye[De].transitionAxes&&ye[De].transitionAxes(W,q,Pe,se)}function Ye(){if(W._fullLayout)for(var De=0;De<ye.length;De++)ye[De].plot(W,Se,Ie,se)}q.length&&V.anim?"traces first"===Z.ordering?(Pe=t.extendFlat({},Z,{duration:0}),Se=xe,Ie=Z,setTimeout(Ge,Z.duration),Ye()):(Pe=Z,Se=null,Ie=t.extendFlat({},Z,{duration:0}),setTimeout(Ye,Pe.duration),Ge()):q.length?(Pe=Z,Ge()):V.anim&&(Se=xe,Ie=Z,Ye())},ne(W,Z,re)},s.doCalcdata=function(W,V){var Z,re,q,se,K=i.list(W),ae=W._fullData,Q=W._fullLayout,de=new Array(ae.length),we=(W.calcdata||[]).slice();for(W.calcdata=de,Q._numBoxes=0,Q._numViolins=0,Q._violinScaleGroupStats={},W._hmpixcount=0,W._hmlumcount=0,Q._piecolormap={},Q._sunburstcolormap={},Q._treemapcolormap={},Q._iciclecolormap={},Q._funnelareacolormap={},q=0;q<ae.length;q++)if(Array.isArray(V)&&-1===V.indexOf(q)){de[q]=we[q];continue}for(q=0;q<ae.length;q++)(Z=ae[q])._arrayAttrs=h.findArrayAttributes(Z),Z._extremes={};var ye=Q._subplots.polar||[];for(q=0;q<ye.length;q++)K.push(Q[ye[q]].radialaxis,Q[ye[q]].angularaxis);for(var Pe in Q._colorAxes){var Ie=Q[Pe];!1!==Ie.cauto&&(delete Ie.cmin,delete Ie.cmax)}var Se=!1;function xe(Ye){if(re=(Z=ae[Ye])._module,!0===Z.visible&&Z.transforms){if(re&&re.calc){var De=re.calc(W,Z);De[0]&&De[0].t&&De[0].t._scene&&delete De[0].t._scene.dirty}for(se=0;se<Z.transforms.length;se++){var He=Z.transforms[se];(re=v[He.type])&&re.calcTransform&&(Z._hasCalcTransform=!0,Se=!0,re.calcTransform(W,Z,He))}}}function Me(Ye,De){if(!!(re=(Z=ae[Ye])._module).isContainer===De){var He=[];if(!0===Z.visible&&0!==Z._length){delete Z._indexToPoints;var rt=Z.transforms||[];for(se=rt.length-1;se>=0;se--)if(rt[se].enabled){Z._indexToPoints=rt[se]._indexToPoints;break}re&&re.calc&&(He=re.calc(W,Z))}(!Array.isArray(He)||!He[0])&&(He=[{x:l,y:l}]),He[0].t||(He[0].t={}),He[0].trace=Z,de[Ye]=He}}for(J(K,ae,Q),q=0;q<ae.length;q++)Me(q,!0);for(q=0;q<ae.length;q++)xe(q);for(Se&&J(K,ae,Q),q=0;q<ae.length;q++)Me(q,!0);for(q=0;q<ae.length;q++)Me(q,!1);j(W);var Ge=function ue(W,V){var ae,Q,Z,re,q,K=[];function se(Re,ke,Ne){var _e=ke._id.charAt(0);if("histogram2dcontour"===Re){var Te=ke._counterAxes[0],fe=i.getFromId(V,Te),pe="x"===_e||"x"===Te&&"category"===fe.type,Fe="y"===_e||"y"===Te&&"category"===fe.type;return function(Xe,at){return 0===Xe||0===at||pe&&Xe===Ne[at].length-1||Fe&&at===Ne.length-1?-1:("y"===_e?at:Xe)-1}}return function(Xe,at){return"y"===_e?at:Xe}}var de={min:function(Re){return t.aggNums(Math.min,null,Re)},max:function(Re){return t.aggNums(Math.max,null,Re)},sum:function(Re){return t.aggNums(function(ke,Ne){return ke+Ne},null,Re)},total:function(Re){return t.aggNums(function(ke,Ne){return ke+Ne},null,Re)},mean:function(Re){return t.mean(Re)},median:function(Re){return t.median(Re)}};function we(Re,ke){return Re[1]-ke[1]}function ye(Re,ke){return ke[1]-Re[1]}for(ae=0;ae<W.length;ae++){var Pe=W[ae];if("category"===Pe.type){var Ie=Pe.categoryorder.match(ie);if(Ie){var Se=Ie[1],xe=Ie[2],Me=Pe._id.charAt(0),Ge="x"===Me,Ye=[];for(Q=0;Q<Pe._categories.length;Q++)Ye.push([Pe._categories[Q],[]]);for(Q=0;Q<Pe._traceIndices.length;Q++){var De=Pe._traceIndices[Q],He=V._fullData[De];if(!0===He.visible){var rt=He.type;C.traceIs(He,"histogram")&&(delete He._xautoBinFinished,delete He._yautoBinFinished);var $e="splom"===rt,Be="scattergl"===rt,ze=V.calcdata[De];for(Z=0;Z<ze.length;Z++){var lt,ut,tt=ze[Z];if($e){var xt=He._axesDim[Pe._id];if(!Ge){var bt=He._diag[xt][0];bt&&(Pe=V._fullLayout[i.id2name(bt)])}var Ht=tt.trace.dimensions[xt].values;for(re=0;re<Ht.length;re++)for(lt=Pe._categoriesMap[Ht[re]],q=0;q<tt.trace.dimensions.length;q++)q!==xt&&Ye[lt][1].push(tt.trace.dimensions[q].values[re])}else if(Be){for(re=0;re<tt.t.x.length;re++)Ge?(lt=tt.t.x[re],ut=tt.t.y[re]):(lt=tt.t.y[re],ut=tt.t.x[re]),Ye[lt][1].push(ut);tt.t&&tt.t._scene&&delete tt.t._scene.dirty}else if(tt.hasOwnProperty("z")){var Ce=se(He.type,Pe,ut=tt.z);for(re=0;re<ut.length;re++)for(q=0;q<ut[re].length;q++)(lt=Ce(q,re))+1&&Ye[lt][1].push(ut[re][q])}else for(void 0===(lt=tt.p)&&(lt=tt[Me]),void 0===(ut=tt.s)&&(ut=tt.v),void 0===ut&&(ut=Ge?tt.y:tt.x),Array.isArray(ut)||(ut=void 0===ut?[]:[ut]),re=0;re<ut.length;re++)Ye[lt][1].push(ut[re])}}}Pe._categoriesValue=Ye;var Ee=[];for(Q=0;Q<Ye.length;Q++)Ee.push([Ye[Q][0],de[Se](Ye[Q][1])]);Ee.sort("descending"===xe?ye:we),Pe._categoriesAggregatedValue=Ee,Pe._initialCategories=Ee.map(function(Re){return Re[0]}),K=K.concat(Pe.sortByInitialCategories())}}}return K}(K,W);if(Ge.length){for(Q._numBoxes=0,Q._numViolins=0,q=0;q<Ge.length;q++)Me(Ge[q],!0);for(q=0;q<Ge.length;q++)Me(Ge[q],!1);j(W)}C.getComponentMethod("fx","calc")(W),C.getComponentMethod("errorbars","calc")(W)};var ie=/(total|sum|min|max|mean|median) (ascending|descending)/;function J(W,V,K){var ae={};function Q(se){se.clearCalc(),"multicategory"===se.type&&se.setupMultiCategory(V),ae[se._id]=1}t.simpleMap(W,Q);for(var Z=K._axisMatchGroups||[],re=0;re<Z.length;re++)for(var q in Z[re])ae[q]||Q(K[i.id2name(q)])}function j(W){var Q,Z,re,V=W._fullLayout,K=V._visibleModules,ae={};for(Z=0;Z<K.length;Z++){var q=K[Z],se=q.crossTraceCalc;if(se){var de=q.basePlotModule.name;ae[de]?t.pushUnique(ae[de],se):ae[de]=[se]}}for(re in ae){var we=ae[re],ye=V._subplots[re];if(Array.isArray(ye))for(Q=0;Q<ye.length;Q++){var Pe=ye[Q],Ie="cartesian"===re?V._plots[Pe]:V[Pe];for(Z=0;Z<we.length;Z++)we[Z](W,Ie,Pe)}else for(Z=0;Z<we.length;Z++)we[Z](W)}}s.rehover=function(W){W._fullLayout._rehover&&W._fullLayout._rehover()},s.redrag=function(W){W._fullLayout._redrag&&W._fullLayout._redrag()},s.reselect=function(W){var V=W._fullLayout,K=(W.layout||{}).selections,ae=V._previousSelections;V._previousSelections=K;var Q=V._reselect||JSON.stringify(K)!==JSON.stringify(ae);C.getComponentMethod("selections","reselect")(W,Q)},s.generalUpdatePerTraceModule=function(W,V,K,ae){var re,Q=V.traceHash,Z={};for(re=0;re<K.length;re++){var q=K[re],se=q[0].trace;se.visible&&(Z[se.type]=Z[se.type]||[],Z[se.type].push(q))}for(var de in Q)if(!Z[de]){var we=Q[de][0];we[0].trace.visible=!1,Z[de]=[we]}for(var Pe in Z){var Ie=Z[Pe];Ie[0][0].trace._module.plot(W,V,t.filterVisible(Ie),ae)}V.traceHash=Z},s.plotBasePlot=function(W,V,K,ae,Q){var Z=C.getModule(W),re=a(V.calcdata,Z)[0];Z.plot(V,re,ae,Q)},s.cleanBasePlot=function(W,V,K,ae,Q){var Z=Q._has&&Q._has(W),re=K._has&&K._has(W);Z&&!re&&Q["_"+W+"layer"].selectAll("g.trace").remove()}},9813:function(te){"use strict";te.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(te,Y,e){"use strict";var T=e(71828),D=e(61082).tester,o=T.findIndexOfMin,P=T.isAngleInsideSector,C=T.angleDelta,h=T.angleDist;function t(s,v,A,x){var E,g,M=x[0],w=x[1],n=m(Math.sin(v)-Math.sin(s)),S=m(Math.cos(v)-Math.cos(s)),d=Math.tan(A),I=m(1/d),L=n/S,B=w-L*M;return I?n&&S?g=d*(E=B/(d-L)):S?(E=w*I,g=w):(E=M,g=M*d):n&&S?(E=0,g=B):S?(E=0,g=w):E=g=NaN,[E,g]}function u(s,v,A,x){return T.isFullCircle([v,A])?function l(s,v){var E,A=v.length,x=new Array(A+1);for(E=0;E<A;E++){var g=v[E];x[E]=[s*Math.cos(g),s*Math.sin(g)]}return x[E]=x[0].slice(),x}(s,x):function i(s,v,A,x){var M,w,E=x.length,g=[];function n(F){return[s*Math.cos(F),s*Math.sin(F)]}function S(F,N,H){return t(F,N,H,n(F))}function d(F){return T.mod(F,E)}function I(F){return P(F,[v,A])}var L=o(x,function(F){return I(F)?h(F,v):1/0}),B=S(x[L],x[d(L-1)],v);for(g.push(B),M=L,w=0;w<E;M++,w++){var k=x[d(M)];if(!I(k))break;g.push(n(k))}var z=o(x,function(F){return I(F)?h(F,A):1/0}),O=S(x[z],x[d(z+1)],A);return g.push(O),g.push([0,0]),g.push(g[0].slice()),g}(s,v,A,x)}function m(s){return Math.abs(s)>1e-10?s:0}function a(s,v,A){v=v||0,A=A||0;for(var x=s.length,E=new Array(x),g=0;g<x;g++){var M=s[g];E[g]=[v+M[0],A-M[1]]}return E}te.exports={isPtInsidePolygon:function y(s,v,A,x,E){if(!P(v,x))return!1;var g,M;A[0]<A[1]?(g=A[0],M=A[1]):(g=A[1],M=A[0]);var w=D(u(g,x[0],x[1],E)),n=D(u(M,x[0],x[1],E)),S=[s*Math.cos(v),s*Math.sin(v)];return n.contains(S)&&!w.contains(S)},findPolygonOffset:function f(s,v,A,x){for(var E=1/0,g=1/0,M=u(s,v,A,x),w=0;w<M.length;w++){var n=M[w];E=Math.min(E,n[0]),g=Math.min(g,-n[1])}return[E,g]},findEnclosingVertexAngles:function c(s,v){var x=o(v,function(g){var M=C(g,s);return M>0?M:1/0}),E=T.mod(x+1,v.length);return[v[x],v[E]]},findIntersectionXY:t,findXYatLength:function r(s,v,A,x){var E=-v*A,g=v*v+1,M=2*(v*E-A),n=Math.sqrt(M*M-4*g*(E*E+A*A-s*s)),S=(-M+n)/(2*g),d=(-M-n)/(2*g);return[[S,v*S+E+x],[d,v*d+E+x]]},clampTiny:m,pathPolygon:function b(s,v,A,x,E,g){return"M"+a(u(s,v,A,x),E,g).join("L")},pathPolygonAnnulus:function p(s,v,A,x,E,g,M){var w,n;s<v?(w=s,n=v):(w=v,n=s);var S=a(u(w,A,x,E),g,M);return"M"+a(u(n,A,x,E),g,M).reverse().join("L")+"M"+S.join("L")}}},23580:function(te,Y,e){"use strict";var T=e(27659).AU,D=e(71828).counterRegex,o=e(77997),P=e(9813),C=P.attr,h=P.name,y=D(h),t={};t[C]={valType:"subplotid",dflt:h,editType:"calc"},te.exports={attr:C,name:h,idRoot:h,idRegex:y,attrRegex:y,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:function r(i){for(var u=i._fullLayout,f=i.calcdata,c=u._subplots[h],m=0;m<c.length;m++){var a=c[m],b=T(f,h,a),p=u[a]._subplot;p||(p=o(i,a),u[a]._subplot=p),p.plot(b,u,i._promises)}},clean:function l(i,u,f,c){for(var m=c._subplots[h]||[],a=c._has&&c._has("gl"),b=u._has&&u._has("gl"),p=a&&!b,s=0;s<m.length;s++){var v=m[s],A=c[v]._subplot;if(!u[v]&&A)for(var x in A.framework.remove(),A.layers["radial-axis-title"].remove(),A.clipPaths)A.clipPaths[x].remove();p&&A._scene&&(A._scene.destroy(),A._scene=null)}},toSVG:e(93612).toSVG}},73812:function(te,Y,e){"use strict";var T=e(22399),D=e(13838),o=e(27670).Y,P=e(71828).extendFlat,C=e(30962).overrideAll,h=C({color:D.color,showline:P({},D.showline,{dflt:!0}),linecolor:D.linecolor,linewidth:D.linewidth,showgrid:P({},D.showgrid,{dflt:!0}),gridcolor:D.gridcolor,gridwidth:D.gridwidth,griddash:D.griddash},"plot","from-root"),y=C({tickmode:D.minor.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:D.ticks,ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,ticklabelstep:D.ticklabelstep,showticklabels:D.showticklabels,labelalias:D.labelalias,showtickprefix:D.showtickprefix,tickprefix:D.tickprefix,showticksuffix:D.showticksuffix,ticksuffix:D.ticksuffix,showexponent:D.showexponent,exponentformat:D.exponentformat,minexponent:D.minexponent,separatethousands:D.separatethousands,tickfont:D.tickfont,tickangle:D.tickangle,tickformat:D.tickformat,tickformatstops:D.tickformatstops,layer:D.layer},"plot","from-root"),t={visible:P({},D.visible,{dflt:!0}),type:P({},D.type,{values:["-","linear","log","date","category"]}),autotypenumbers:D.autotypenumbers,autorangeoptions:{minallowed:D.autorangeoptions.minallowed,maxallowed:D.autorangeoptions.maxallowed,clipmin:D.autorangeoptions.clipmin,clipmax:D.autorangeoptions.clipmax,include:D.autorangeoptions.include,editType:"plot"},autorange:P({},D.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:P({},D.minallowed,{editType:"plot"}),maxallowed:P({},D.maxallowed,{editType:"plot"}),range:P({},D.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:D.categoryorder,categoryarray:D.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:P({},D.title.text,{editType:"plot",dflt:""}),font:P({},D.title.font,{editType:"plot"}),editType:"plot"},hoverformat:D.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:D._deprecated.title,titlefont:D._deprecated.titlefont}};P(t,h,y);var r={visible:P({},D.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:D.autotypenumbers,categoryorder:D.categoryorder,categoryarray:D.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:D.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};P(r,h,y),te.exports={domain:o({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:T.background},radialaxis:t,angularaxis:r,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(te,Y,e){"use strict";var T=e(71828),D=e(7901),o=e(44467),P=e(49119),C=e(27659).NG,h=e(26218),y=e(38701),t=e(96115),r=e(89426),l=e(15258),i=e(92128),u=e(23074),f=e(4322),c=e(73812),m=e(12101),a=e(9813),b=a.axisNames;function p(v,A,x,E){var g=x("bgcolor");E.bgColor=D.combine(g,E.paper_bgcolor);var M=x("sector");x("hole");var S,w=C(E.fullData,a.name,E.id),n=E.layoutOut;function d(K,ae){return x(S+"."+K,ae)}for(var I=0;I<b.length;I++){T.isPlainObject(v[S=b[I]])||(v[S]={});var L=v[S],B=o.newContainer(A,S);B._id=B._name=S,B._attr=E.id+"."+S,B._traceIndices=w.map(function(K){return K._expandedIndex});var k=a.axisName2dataArray[S],z=s(L,B,d,w,k,E);l(L,B,d,{axData:w,dataAttr:k});var O=d("visible");switch(m(B,A,n),d("uirevision",A.uirevision),B._m=1,S){case"radialaxis":d("minallowed"),d("maxallowed");var X,F=d("range"),N=B.getAutorangeDflt(F),H=d("autorange",N);F&&(null===F[0]&&null===F[1]||(null===F[0]||null===F[1])&&("reversed"===H||!0===H)||null!==F[0]&&("min"===H||"max reversed"===H)||null!==F[1]&&("max"===H||"min reversed"===H))&&(F=void 0,delete B.range,B.autorange=!0,X=!0),X||(H=d("autorange",N=B.getAutorangeDflt(F))),L.autorange=H,H&&(u(d,H,F),("linear"===z||"-"===z)&&d("rangemode"),B.isReversed()&&(B._m=-1)),B.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===z){T.log("Polar plots do not support date angular axes yet.");for(var ne=0;ne<w.length;ne++)w[ne].visible=!1;z=L.type=B.type="linear"}d("linear"===z?"thetaunit":"period");var ie=d("direction");d("rotation",{counterclockwise:0,clockwise:90}[ie])}if(r(L,B,d,B.type,{tickSuffixDflt:"degrees"===B.thetaunit?"\xb0":void 0}),O){var ue,J,j,W,V=E.font||{};J=(ue=d("color"))===L.color?ue:V.color,j=V.size,W=V.family,h(L,B,d,B.type),t(L,B,d,B.type,{font:{color:J,size:j,family:W}}),y(L,B,d,{outerTicks:!0}),i(L,B,d,{dfltColor:ue,bgColor:E.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c[S]}),d("layer"),"radialaxis"===S&&(d("side"),d("angle",M[0]),d("title.text"),T.coerceFont(d,"title.font",{color:J,size:T.bigFont(j),family:W}))}"category"!==z&&d("hoverformat"),B._input=L}"category"===A.angularaxis.type&&x("gridshape")}function s(v,A,x,E,g,M){var w=x("autotypenumbers",M.autotypenumbersDflt);if("-"===x("type")){for(var S,d=0;d<E.length;d++)if(E[d].visible){S=E[d];break}S&&S[g]&&(A.type=f(S[g],"gregorian",{noMultiCategory:!0,autotypenumbers:w})),"-"===A.type?A.type="linear":v.type=A.type}return A.type}te.exports=function(A,x,E){P(A,x,E,{type:a.name,attributes:c,handleDefaults:p,font:x.font,autotypenumbersDflt:x.autotypenumbers,paper_bgcolor:x.paper_bgcolor,fullData:E,layoutOut:x})}},77997:function(te,Y,e){"use strict";var T=e(39898),D=e(84267),o=e(73972),P=e(71828),C=P.strRotate,h=P.strTranslate,y=e(7901),t=e(91424),r=e(74875),l=e(89298),i=e(21994),u=e(12101),f=e(71739).doAutoRange,c=e(29323),m=e(28569),a=e(30211),b=e(92998),p=e(47322).prepSelect,s=e(47322).selectOnClick,v=e(47322).clearOutline,A=e(6964),x=e(33306),E=e(61549).redrawReglTraces,g=e(18783).MID_SHIFT,M=e(9813),w=e(10869),n=e(23893),S=n.smith,d=n.reactanceArc,I=n.resistanceArc,L=n.smithTransform,B=P._,k=P.mod,z=P.deg2rad,O=P.rad2deg;function F(ue,J,j){this.isSmith=j||!1,this.id=J,this.gd=ue,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var W=ue._fullLayout;this.clipIds.forTraces="clip"+W._uid+J+"-for-traces",this.clipPaths.forTraces=W._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=W["_"+(j?"smith":"polar")+"layer"].append("g").attr("class",J),this.getHole=function(K){return this.isSmith?0:K.hole},this.getSector=function(K){return this.isSmith?[0,360]:K.sector},this.getRadial=function(K){return this.isSmith?K.realaxis:K.radialaxis},this.getAngular=function(K){return this.isSmith?K.imaginaryaxis:K.angularaxis},j||(this.radialTickLayout=null,this.angularTickLayout=null)}var N=F.prototype;function H(ue){var J=ue.ticks+String(ue.ticklen)+String(ue.showticklabels);return"side"in ue&&(J+=ue.side),J}function ne(ue,J){return J[P.findIndexOfMin(J,function(V){return P.angleDist(ue,V)})]}function ie(ue,J,j){return J?(ue.attr("display",null),ue.attr(j)):ue&&ue.attr("display","none"),ue}te.exports=function(J,j,W){return new F(J,j,W)},N.plot=function(ue,J){for(var j=this,W=J[j.id],V=!1,K=0;K<ue.length;K++)if(!1===ue[K][0].trace.cliponaxis){V=!0;break}j._hasClipOnAxisFalse=V,j.updateLayers(J,W),j.updateLayout(J,W),r.generalUpdatePerTraceModule(j.gd,j,ue,W),j.updateFx(J,W),j.isSmith&&(delete W.realaxis.range,delete W.imaginaryaxis.range)},N.updateLayers=function(ue,J){var j=this,W=j.isSmith,V=j.layers,K=j.getRadial(J),ae=j.getAngular(J),Q=M.layerNames,Z=Q.indexOf("frontplot"),re=Q.slice(0,Z),q="below traces"===ae.layer,se="below traces"===K.layer;q&&re.push("angular-line"),se&&re.push("radial-line"),q&&re.push("angular-axis"),se&&re.push("radial-axis"),re.push("frontplot"),q||re.push("angular-line"),se||re.push("radial-line"),q||re.push("angular-axis"),se||re.push("radial-axis");var de=(W?"smith":"polar")+"sublayer",we=j.framework.selectAll("."+de).data(re,String);we.enter().append("g").attr("class",function(ye){return de+" "+ye}).each(function(ye){var Pe=V[ye]=T.select(this);switch(ye){case"frontplot":W||Pe.append("g").classed("barlayer",!0),Pe.append("g").classed("scatterlayer",!0);break;case"backplot":Pe.append("g").classed("maplayer",!0);break;case"plotbg":V.bg=Pe.append("path");break;case"radial-grid":case"angular-grid":Pe.style("fill","none");break;case"radial-line":Pe.append("line").style("fill","none");break;case"angular-line":Pe.append("path").style("fill","none")}}),we.order()},N.updateLayout=function(ue,J){var j=this,W=j.layers,V=ue._size,K=j.getRadial(J),ae=j.getAngular(J),Q=J.domain.x,Z=J.domain.y;j.xOffset=V.l+V.w*Q[0],j.yOffset=V.t+V.h*(1-Z[1]);var re=j.xLength=V.w*(Q[1]-Q[0]),q=j.yLength=V.h*(Z[1]-Z[0]),se=j.getSector(J);j.sectorInRad=se.map(z);var Se,xe,Me,Ge,Ye,de=j.sectorBBox=function X(ue){var we,J=ue[0],W=ue[1]-J,V=k(J,360),K=V+W,ae=Math.cos(z(V)),Q=Math.sin(z(V)),Z=Math.cos(z(K)),re=Math.sin(z(K));return we=V<=90&&K>=90||V>90&&K>=450?1:Q<=0&&re<=0?0:Math.max(Q,re),[V<=180&&K>=180||V>180&&K>=540?-1:ae>=0&&Z>=0?0:Math.min(ae,Z),V<=270&&K>=270||V>270&&K>=630?-1:Q>=0&&re>=0?0:Math.min(Q,re),K>=360?1:ae<=0&&Z<=0?0:Math.max(ae,Z),we]}(se),we=de[2]-de[0],Pe=q/re,Ie=Math.abs((de[3]-de[1])/we);Pe>Ie?(Se=re,Me=[Q[0],Q[1]],Ge=[Z[0]+(Ye=(q-(xe=re*Ie))/V.h/2),Z[1]-Ye]):(xe=q,Me=[Q[0]+(Ye=(re-(Se=q/Ie))/V.w/2),Q[1]-Ye],Ge=[Z[0],Z[1]]),j.xLength2=Se,j.yLength2=xe,j.xDomain2=Me,j.yDomain2=Ge;var xt,De=j.xOffset2=V.l+V.w*Me[0],He=j.yOffset2=V.t+V.h*(1-Ge[1]),rt=j.radius=Se/we,$e=j.innerRadius=j.getHole(J)*rt,Be=j.cx=De-rt*de[0],ze=j.cy=He+rt*de[3],tt=j.cxx=Be-De,lt=j.cyy=ze-He,ut=K.side;"counterclockwise"===ut?(xt=ut,ut="top"):"clockwise"===ut&&(xt=ut,ut="bottom"),j.radialAxis=j.mockAxis(ue,J,K,{_id:"x",side:ut,_trueSide:xt,domain:[$e/V.w,rt/V.w]}),j.angularAxis=j.mockAxis(ue,J,ae,{side:"right",domain:[0,Math.PI],autorange:!1}),j.doAutoRange(ue,J),j.updateAngularAxis(ue,J),j.updateRadialAxis(ue,J),j.updateRadialAxisTitle(ue,J),j.xaxis=j.mockCartesianAxis(ue,J,{_id:"x",domain:Me}),j.yaxis=j.mockCartesianAxis(ue,J,{_id:"y",domain:Ge});var bt=j.pathSubplot();j.clipPaths.forTraces.select("path").attr("d",bt).attr("transform",h(tt,lt)),W.frontplot.attr("transform",h(De,He)).call(t.setClipUrl,j._hasClipOnAxisFalse?null:j.clipIds.forTraces,j.gd),W.bg.attr("d",bt).attr("transform",h(Be,ze)).call(y.fill,J.bgcolor)},N.mockAxis=function(ue,J,j,W){var V=P.extendFlat({},j,W);return u(V,J,ue),V},N.mockCartesianAxis=function(ue,J,j){var W=this,V=W.isSmith,K=j._id,ae=P.extendFlat({type:"linear"},j);i(ae,ue);var Q={x:[0,2],y:[1,3]};return ae.setRange=function(){var Z=W.sectorBBox,re=Q[K],q=W.radialAxis._rl,se=(q[1]-q[0])/(1-W.getHole(J));ae.range=[Z[re[0]]*se,Z[re[1]]*se]},ae.isPtWithinRange="x"!==K||V?function(){return!0}:function(Z){return W.isPtInside(Z)},ae.setRange(),ae.setScale(),ae},N.doAutoRange=function(ue,J){var j=this,W=j.gd,V=j.radialAxis,K=j.getRadial(J);f(W,V);var ae=V.range;K.range=ae.slice(),K._input.range=ae.slice(),V._rl=[V.r2l(ae[0],null,"gregorian"),V.r2l(ae[1],null,"gregorian")]},N.updateRadialAxis=function(ue,J){var j=this,W=j.gd,V=j.layers,K=j.radius,ae=j.innerRadius,Q=j.cx,Z=j.cy,re=j.getRadial(J),q=k(j.getSector(J)[0],360),se=j.radialAxis,de=ae<K,we=j.isSmith;we||(j.fillViewInitialKey("radialaxis.angle",re.angle),j.fillViewInitialKey("radialaxis.range",se.range.slice()),se.setGeometry()),"auto"===se.tickangle&&q>90&&q<=270&&(se.tickangle=180);var ye=we?function(rt){var $e=L(j,S([rt.x,0]));return h($e[0]-Q,$e[1]-Z)}:function(rt){return h(se.l2p(rt.x)+ae,0)},Pe=we?function(rt){return I(j,rt.x,-1/0,1/0)}:function(rt){return j.pathArc(se.r2p(rt.x)+ae)},Ie=H(re);if(j.radialTickLayout!==Ie&&(V["radial-axis"].selectAll(".xtick").remove(),j.radialTickLayout=Ie),de){se.setScale();var Se=0,xe=we?(se.tickvals||[]).filter(function(rt){return rt>=0}).map(function(rt){return l.tickText(se,rt,!0,!1)}):l.calcTicks(se),Me=we?xe:l.clipEnds(se,xe),Ge=l.getTickSigns(se)[2];we&&(("top"===se.ticks&&"bottom"===se.side||"bottom"===se.ticks&&"top"===se.side)&&(Ge=-Ge),"top"===se.ticks&&"top"===se.side&&(Se=-se.ticklen),"bottom"===se.ticks&&"bottom"===se.side&&(Se=se.ticklen)),l.drawTicks(W,se,{vals:xe,layer:V["radial-axis"],path:l.makeTickPath(se,0,Ge),transFn:ye,crisp:!1}),l.drawGrid(W,se,{vals:Me,layer:V["radial-grid"],path:Pe,transFn:P.noop,crisp:!1}),l.drawLabels(W,se,{vals:xe,layer:V["radial-axis"],transFn:ye,labelFns:l.makeLabelFns(se,Se)})}var Ye=j.radialAxisAngle=j.vangles?O(ne(z(re.angle),j.vangles)):re.angle,De=h(Q,Z),He=De+C(-Ye);ie(V["radial-axis"],de&&(re.showticklabels||re.ticks),{transform:He}),ie(V["radial-grid"],de&&re.showgrid,{transform:we?"":De}),ie(V["radial-line"].select("line"),de&&re.showline,{x1:we?-K:ae,y1:0,x2:K,y2:0,transform:He}).attr("stroke-width",re.linewidth).call(y.stroke,re.linecolor)},N.updateRadialAxisTitle=function(ue,J,j){if(!this.isSmith){var W=this,V=W.gd,K=W.radius,ae=W.cx,Q=W.cy,Z=W.getRadial(J),re=W.id+"title",q=0;if(Z.title){var se=t.bBox(W.layers["radial-axis"].node()).height,de=Z.title.font.size,we=Z.side;q="top"===we?de:"counterclockwise"===we?-(se+.4*de):se+.8*de}var ye=void 0!==j?j:W.radialAxisAngle,Pe=z(ye),Ie=Math.cos(Pe),Se=Math.sin(Pe),xe=ae+K/2*Ie+q*Se,Me=Q-K/2*Se+q*Ie;W.layers["radial-axis-title"]=b.draw(V,re,{propContainer:Z,propName:W.id+".radialaxis.title",placeholder:B(V,"Click to enter radial axis title"),attributes:{x:xe,y:Me,"text-anchor":"middle"},transform:{rotate:-ye}})}},N.updateAngularAxis=function(ue,J){var j=this,W=j.gd,V=j.layers,K=j.radius,ae=j.innerRadius,Q=j.cx,Z=j.cy,re=j.getAngular(J),q=j.angularAxis,se=j.isSmith;se||(j.fillViewInitialKey("angularaxis.rotation",re.rotation),q.setGeometry(),q.setScale());var de=se?function($e){var Be=L(j,S([0,$e.x]));return Math.atan2(Be[0]-Q,Be[1]-Z)-Math.PI/2}:function($e){return q.t2g($e.x)};"linear"===q.type&&"radians"===q.thetaunit&&(q.tick0=O(q.tick0),q.dtick=O(q.dtick));var we=function($e){return h(Q+K*Math.cos($e),Z-K*Math.sin($e))},ye=se?function($e){var Be=L(j,S([0,$e.x]));return h(Be[0],Be[1])}:function($e){return we(de($e))},Pe=se?function($e){var Be=L(j,S([0,$e.x])),ze=Math.atan2(Be[0]-Q,Be[1]-Z)-Math.PI/2;return h(Be[0],Be[1])+C(-O(ze))}:function($e){var Be=de($e);return we(Be)+C(-O(Be))},Ie=se?function($e){return d(j,$e.x,0,1/0)}:function($e){var Be=de($e),ze=Math.cos(Be),tt=Math.sin(Be);return"M"+[Q+ae*ze,Z-ae*tt]+"L"+[Q+K*ze,Z-K*tt]},xe=l.makeLabelFns(q,0).labelStandoff,Me={xFn:function($e){var Be=de($e);return Math.cos(Be)*xe},yFn:function($e){var Be=de($e),ze=Math.sin(Be)>0?.2:1;return-Math.sin(Be)*(xe+$e.fontSize*ze)+Math.abs(Math.cos(Be))*($e.fontSize*g)},anchorFn:function($e){var Be=de($e),ze=Math.cos(Be);return Math.abs(ze)<.1?"middle":ze>0?"start":"end"},heightFn:function($e,Be,ze){var tt=de($e);return-.5*(1+Math.sin(tt))*ze}},Ge=H(re);j.angularTickLayout!==Ge&&(V["angular-axis"].selectAll("."+q._id+"tick").remove(),j.angularTickLayout=Ge);var De,Ye=se?[1/0].concat(q.tickvals||[]).map(function($e){return l.tickText(q,$e,!0,!1)}):l.calcTicks(q);if(se&&(Ye[0].text="\u221e",Ye[0].fontSize*=1.75),"linear"===J.gridshape?(De=Ye.map(de),P.angleDelta(De[0],De[1])<0&&(De=De.slice().reverse())):De=null,j.vangles=De,"category"===q.type&&(Ye=Ye.filter(function($e){return P.isAngleInsideSector(de($e),j.sectorInRad)})),q.visible){var He="inside"===q.ticks?-1:1;l.drawTicks(W,q,{vals:Ye,layer:V["angular-axis"],path:"M"+He*((q.linewidth||1)/2)+",0h"+He*q.ticklen,transFn:Pe,crisp:!1}),l.drawGrid(W,q,{vals:Ye,layer:V["angular-grid"],path:Ie,transFn:P.noop,crisp:!1}),l.drawLabels(W,q,{vals:Ye,layer:V["angular-axis"],repositionOnUpdate:!0,transFn:ye,labelFns:Me})}ie(V["angular-line"].select("path"),re.showline,{d:j.pathSubplot(),transform:h(Q,Z)}).attr("stroke-width",re.linewidth).call(y.stroke,re.linecolor)},N.updateFx=function(ue,J){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(ue),this.updateRadialDrag(ue,J,0),this.updateRadialDrag(ue,J,1)),this.updateHoverAndMainDrag(ue))},N.updateHoverAndMainDrag=function(ue){var De,He,J=this,j=J.isSmith,W=J.gd,K=ue._zoomlayer,ae=M.MINZOOM,Q=M.OFFEDGE,Z=J.radius,re=J.innerRadius,q=J.cx,se=J.cy,de=J.cxx,we=J.cyy,ye=J.sectorInRad,Pe=J.vangles,Ie=J.radialAxis,Se=w.clampTiny,xe=w.findXYatLength,Me=w.findEnclosingVertexAngles,Ge=M.cornerHalfWidth,Ye=M.cornerLen/2,rt=c.makeDragger(J.layers,"path","maindrag",!1===ue.dragmode?"none":"crosshair");T.select(rt).attr("d",J.pathSubplot()).attr("transform",h(q,se)),rt.onmousemove=function(At){a.hover(W,At,J.id),W._fullLayout._lasthover=rt,W._fullLayout._hoversubplot=J.id},rt.onmouseout=function(At){W._dragging||m.unhover(W,At)};var Be,ze,tt,lt,ut,xt,bt,Ht,Je,$e={element:rt,gd:W,subplot:J.id,plotinfo:{id:J.id,xaxis:J.xaxis,yaxis:J.yaxis},xaxes:[J.xaxis],yaxes:[J.yaxis]};function Ce(At,zt){return Math.sqrt(At*At+zt*zt)}function Ee(At,zt){return Ce(At-de,zt-we)}function Re(At,zt){return Math.atan2(we-zt,At-de)}function ke(At,zt){return[At*Math.cos(zt),At*Math.sin(-zt)]}function Ne(At,zt){if(0===At)return J.pathSector(2*Ge);var Qt=Ye/At,Rr=zt-Qt,pt=zt+Qt,$t=Math.max(0,Math.min(At,Z)),tr=$t-Ge,Er=$t+Ge;return"M"+ke(tr,Rr)+"A"+[tr,tr]+" 0,0,0 "+ke(tr,pt)+"L"+ke(Er,pt)+"A"+[Er,Er]+" 0,0,1 "+ke(Er,Rr)+"Z"}function _e(At,zt,Qt){if(0===At)return J.pathSector(2*Ge);var Er,pr,Rr=ke(At,zt),pt=ke(At,Qt),$t=Se((Rr[0]+pt[0])/2),tr=Se((Rr[1]+pt[1])/2);if($t&&tr){var dt=tr/$t,it=-1/dt,mt=xe(Ge,dt,$t,tr);Er=xe(Ye,it,mt[0][0],mt[0][1]),pr=xe(Ye,it,mt[1][0],mt[1][1])}else{var St,Lt;tr?(St=Ye,Lt=Ge):(St=Ge,Lt=Ye),Er=[[$t-St,tr-Lt],[$t+St,tr-Lt]],pr=[[$t-St,tr+Lt],[$t+St,tr+Lt]]}return"M"+Er.join("L")+"L"+pr.reverse().join("L")+"Z"}function fe(At,zt){return zt=Math.max(Math.min(zt,Z),re),At<Q?At=0:Z-At<Q?At=Z:zt<Q?zt=0:Z-zt<Q&&(zt=Z),Math.abs(zt-At)>ae?(At<zt?(tt=At,lt=zt):(tt=zt,lt=At),!0):(tt=null,lt=null,!1)}function pe(At,zt){zt=zt||"M0,0Z",Ht.attr("d",At=At||ut),Je.attr("d",zt),c.transitionZoombox(Ht,Je,xt,bt),xt=!0;var Qt={};Xt(Qt),W.emit("plotly_relayouting",Qt)}function Fe(At,zt){var Er,pr,Qt=Be+(At*=De),Rr=ze+(zt*=He),pt=Ee(Be,ze),$t=Math.min(Ee(Qt,Rr),Z),tr=Re(Be,ze);fe(pt,$t)&&(Er=ut+J.pathSector(lt),tt&&(Er+=J.pathSector(tt)),pr=Ne(tt,tr)+Ne(lt,tr)),pe(Er,pr)}function Xe(At,zt,Qt,Rr){var pt=w.findIntersectionXY(Qt,Rr,Qt,[At-de,we-zt]);return Ce(pt[0],pt[1])}function at(At,zt){var it,mt,Qt=Be+At,Rr=ze+zt,pt=Re(Be,ze),$t=Re(Qt,Rr),tr=Me(pt,Pe),Er=Me($t,Pe);fe(Xe(Be,ze,tr[0],tr[1]),Math.min(Xe(Qt,Rr,Er[0],Er[1]),Z))&&(it=ut+J.pathSector(lt),tt&&(it+=J.pathSector(tt)),mt=[_e(tt,tr[0],tr[1]),_e(lt,tr[0],tr[1])].join(" ")),pe(it,mt)}function ft(){if(c.removeZoombox(W),null!==tt&&null!==lt){var At={};Xt(At),c.showDoubleClickNotifier(W),o.call("_guiRelayout",W,At)}}function Xt(At){var zt=Ie._rl,Qt=(zt[1]-zt[0])/(1-re/Z)/Z;At[J.id+".radialaxis.range"]=[zt[0]+(tt-re)*Qt,zt[0]+(lt-re)*Qt]}function rr(At,zt){var Qt=W._fullLayout.clickmode;if(c.removeZoombox(W),2===At){var Rr={};for(var pt in J.viewInitial)Rr[J.id+"."+pt]=J.viewInitial[pt];W.emit("plotly_doubleclick",null),o.call("_guiRelayout",W,Rr)}Qt.indexOf("select")>-1&&1===At&&s(zt,W,[J.xaxis],[J.yaxis],J.id,$e),Qt.indexOf("event")>-1&&a.click(W,zt,J.id)}$e.prepFn=function(At,zt,Qt){var Rr=W._fullLayout.dragmode,pt=rt.getBoundingClientRect();W._fullLayout._calcInverseTransform(W),De=W._fullLayout._invScaleX,He=W._fullLayout._invScaleY;var tr=P.apply3DTransform(W._fullLayout._invTransform)(zt-pt.left,Qt-pt.top);if(Be=tr[0],ze=tr[1],Pe){var Er=w.findPolygonOffset(Z,ye[0],ye[1],Pe);Be+=de+Er[0],ze+=we+Er[1]}switch(Rr){case"zoom":$e.clickFn=rr,j||($e.moveFn=Pe?at:Fe,$e.doneFn=ft,function Te(){tt=null,lt=null,ut=J.pathSubplot(),xt=!1,bt=D(W._fullLayout[J.id].bgcolor).getLuminance(),(Ht=c.makeZoombox(K,bt,q,se,ut)).attr("fill-rule","evenodd"),Je=c.makeCorners(K,q,se),v(W)}());break;case"select":case"lasso":p(At,zt,Qt,$e,Rr)}},m.init($e)},N.updateRadialDrag=function(ue,J,j){var W=this,V=W.gd,K=W.layers,ae=W.radius,Q=W.innerRadius,Z=W.cx,re=W.cy,q=W.radialAxis,se=M.radialDragBoxSize,de=se/2;if(q.visible){var Me,Ge,Ye,we=z(W.radialAxisAngle),ye=q._rl,Pe=ye[0],Ie=ye[1],Se=ye[j],xe=.75*(ye[1]-ye[0])/(1-W.getHole(J))/ae;j?(Me=Z+(ae+de)*Math.cos(we),Ge=re-(ae+de)*Math.sin(we),Ye="radialdrag"):(Me=Z+(Q-de)*Math.cos(we),Ge=re-(Q-de)*Math.sin(we),Ye="radialdrag-inner");var rt,$e,Be,De=c.makeRectDragger(K,Ye,"crosshair",-de,-de,se,se),He={element:De,gd:V};!1===ue.dragmode&&(He.dragmode=!1),ie(T.select(De),q.visible&&Q<ae,{transform:h(Me,Ge)}),He.prepFn=function(){rt=null,$e=null,Be=null,He.moveFn=ze,He.doneFn=lt,v(V)},He.clampFn=function(bt,Ht){return Math.sqrt(bt*bt+Ht*Ht)<M.MINDRAG&&(bt=0,Ht=0),[bt,Ht]},m.init(He)}function ze(bt,Ht){if(rt)rt(bt,Ht);else{var Je=[bt,-Ht],Ce=[Math.cos(we),Math.sin(we)],Ee=Math.abs(P.dot(Je,Ce)/Math.sqrt(P.dot(Je,Je)));isNaN(Ee)||(rt=Ee<.5?ut:xt)}var Re={};(function tt(bt){null!==$e?bt[W.id+".radialaxis.angle"]=$e:null!==Be&&(bt[W.id+".radialaxis.range["+j+"]"]=Be)})(Re),V.emit("plotly_relayouting",Re)}function lt(){null!==$e?o.call("_guiRelayout",V,W.id+".radialaxis.angle",$e):null!==Be&&o.call("_guiRelayout",V,W.id+".radialaxis.range["+j+"]",Be)}function ut(bt,Ht){if(0!==j){$e=Math.atan2(re-(Ge+Ht),Me+bt-Z),W.vangles&&($e=ne($e,W.vangles)),$e=O($e);var Ee=h(Z,re)+C(-$e);K["radial-axis"].attr("transform",Ee),K["radial-line"].select("line").attr("transform",Ee);var Re=W.gd._fullLayout;W.updateRadialAxisTitle(Re,Re[W.id],$e)}}function xt(bt,Ht){var Je=P.dot([bt,-Ht],[Math.cos(we),Math.sin(we)]);if(Be=Se-xe*Je,xe>0==(j?Be>Pe:Be<Ie)){var Ce=V._fullLayout,Ee=Ce[W.id];q.range[j]=Be,q._rl[j]=Be,W.updateRadialAxis(Ce,Ee),W.xaxis.setRange(),W.xaxis.setScale(),W.yaxis.setRange(),W.yaxis.setScale();var Re=!1;for(var ke in W.traceHash){var Ne=W.traceHash[ke],_e=P.filterVisible(Ne);Ne[0][0].trace._module.plot(V,W,_e,Ee),o.traceIs(ke,"gl")&&_e.length&&(Re=!0)}Re&&(x(V),E(V))}else Be=null}},N.updateAngularDrag=function(ue){var J=this,j=J.gd,W=J.layers,V=J.radius,K=J.angularAxis,ae=J.cx,Q=J.cy,Z=J.cxx,re=J.cyy,q=M.angularDragBoxSize,se=c.makeDragger(W,"path","angulardrag",!1===ue.dragmode?"none":"move"),de={element:se,gd:j};function we(Be,ze){return Math.atan2(re+q-ze,Be-Z-q)}!1===ue.dragmode?de.dragmode=!1:T.select(se).attr("d",J.pathAnnulus(V,V+q)).attr("transform",h(ae,Q)).call(A,"move");var Se,xe,Me,Ge,Ye,De,ye=W.frontplot.select(".scatterlayer").selectAll(".trace"),Pe=ye.selectAll(".point"),Ie=ye.selectAll(".textpoint");function He(Be,ze){var tt=J.gd._fullLayout,lt=tt[J.id],bt=we(Se+Be*ue._invScaleX,xe+ze*ue._invScaleY),Ht=O(bt-De);if(Ge=Me+Ht,W.frontplot.attr("transform",h(J.xOffset2,J.yOffset2)+C([-Ht,Z,re])),J.vangles){Ye=J.radialAxisAngle+Ht;var Je=h(ae,Q)+C(-Ht),Ce=h(ae,Q)+C(-Ye);W.bg.attr("transform",Je),W["radial-grid"].attr("transform",Je),W["radial-axis"].attr("transform",Ce),W["radial-line"].select("line").attr("transform",Ce),J.updateRadialAxisTitle(tt,lt,Ye)}else J.clipPaths.forTraces.select("path").attr("transform",h(Z,re)+C(Ht));Pe.each(function(){var fe=T.select(this),pe=t.getTranslate(fe);fe.attr("transform",h(pe.x,pe.y)+C([Ht]))}),Ie.each(function(){var fe=T.select(this),pe=fe.select("text"),Fe=t.getTranslate(fe);fe.attr("transform",C([Ht,pe.attr("x"),pe.attr("y")])+h(Fe.x,Fe.y))}),K.rotation=P.modHalf(Ge,360),J.updateAngularAxis(tt,lt),J._hasClipOnAxisFalse&&!P.isFullCircle(J.sectorInRad)&&ye.call(t.hideOutsideRangePoints,J);var Ee=!1;for(var Re in J.traceHash)if(o.traceIs(Re,"gl")){var ke=J.traceHash[Re],Ne=P.filterVisible(ke);ke[0][0].trace._module.plot(j,J,Ne,lt),Ne.length&&(Ee=!0)}Ee&&(x(j),E(j));var Te={};rt(Te),j.emit("plotly_relayouting",Te)}function rt(Be){Be[J.id+".angularaxis.rotation"]=Ge,J.vangles&&(Be[J.id+".radialaxis.angle"]=Ye)}function $e(){Ie.select("text").attr("transform",null);var Be={};rt(Be),o.call("_guiRelayout",j,Be)}de.prepFn=function(Be,ze,tt){Me=ue[J.id].angularaxis.rotation;var ut=se.getBoundingClientRect();Se=ze-ut.left,xe=tt-ut.top,j._fullLayout._calcInverseTransform(j);var xt=P.apply3DTransform(ue._invTransform)(Se,xe);De=we(Se=xt[0],xe=xt[1]),de.moveFn=He,de.doneFn=$e,v(j)},J.vangles&&!P.isFullCircle(J.sectorInRad)&&(de.prepFn=P.noop,A(T.select(se),null)),m.init(de)},N.isPtInside=function(ue){if(this.isSmith)return!0;var J=this.sectorInRad,j=this.vangles,W=this.angularAxis.c2g(ue.theta),V=this.radialAxis,K=V.c2l(ue.r);return(j?w.isPtInsidePolygon:P.isPtInsideSector)(K,W,V._rl,J,j)},N.pathArc=function(ue){var J=this.sectorInRad,j=this.vangles;return(j?w.pathPolygon:P.pathArc)(ue,J[0],J[1],j)},N.pathSector=function(ue){var J=this.sectorInRad,j=this.vangles;return(j?w.pathPolygon:P.pathSector)(ue,J[0],J[1],j)},N.pathAnnulus=function(ue,J){var j=this.sectorInRad,W=this.vangles;return(W?w.pathPolygonAnnulus:P.pathAnnulus)(ue,J,j[0],j[1],W)},N.pathSubplot=function(){var ue=this.innerRadius,J=this.radius;return ue?this.pathAnnulus(ue,J):this.pathSector(J)},N.fillViewInitialKey=function(ue,J){ue in this.viewInitial||(this.viewInitial[ue]=J)}},12101:function(te,Y,e){"use strict";var T=e(71828),D=e(21994),o=T.deg2rad,P=T.rad2deg;te.exports=function(l,i,u){switch(D(l,u),l._id){case"x":case"radialaxis":!function C(r,l){var i=l._subplot;r.setGeometry=function(){var u=r._rl[0],f=r._rl[1],c=i.innerRadius,m=(i.radius-c)/(f-u),a=c/m,b=u>f?function(p){return p<=0}:function(p){return p>=0};r.c2g=function(p){var s=r.c2l(p)-u;return(b(s)?s:0)+a},r.g2c=function(p){return r.l2c(p+u-a)},r.g2p=function(p){return p*m},r.c2p=function(p){return r.g2p(r.c2g(p))}}}(l,i);break;case"angularaxis":!function t(r,l){var i=r.type;if("linear"===i){var u=r.d2c,f=r.c2d;r.d2c=function(c,m){return function h(r,l){return"degrees"===l?o(r):r}(u(c),m)},r.c2d=function(c,m){return f(function y(r,l){return"degrees"===l?P(r):r}(c,m))}}r.makeCalcdata=function(c,m){var p,s,a=c[m],b=c._length,v=function(M){return r.d2c(M,c.thetaunit)};if(a){if(T.isTypedArray(a)&&"linear"===i){if(b===a.length)return a;if(a.subarray)return a.subarray(0,b)}for(p=new Array(b),s=0;s<b;s++)p[s]=v(a[s])}else{var A=m+"0",x="d"+m,E=A in c?v(c[A]):0,g=c[x]?v(c[x]):(r.period||2*Math.PI)/b;for(p=new Array(b),s=0;s<b;s++)p[s]=E+s*g}return p},r.setGeometry=function(){var v,A,x,E,c=l.sector,m=c.map(o),a={clockwise:-1,counterclockwise:1}[r.direction],b=o(r.rotation),p=function(w){return a*w+b},s=function(w){return(w-b)/a};switch(i){case"linear":A=v=T.identity,E=o,x=P,r.range=T.isFullCircle(m)?[c[0],c[0]+360]:m.map(s).map(P);break;case"category":var g=r._categories.length,M=r.period?Math.max(r.period,g):g;0===M&&(M=1),A=E=function(w){return 2*w*Math.PI/M},v=x=function(w){return w*M/Math.PI/2},r.range=[0,M]}r.c2g=function(w){return p(A(w))},r.g2c=function(w){return v(s(w))},r.t2g=function(w){return p(E(w))},r.g2t=function(w){return x(s(w))}}}(l,i)}}},39779:function(te){"use strict";te.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(te){"use strict";function Y(C){return C<0?-1:C>0?1:0}function e(C){var h=C[0],y=C[1];if(!isFinite(h)||!isFinite(y))return[1,0];var t=(h+1)*(h+1)+y*y;return[(h*h+y*y-1)/t,2*y/t]}function T(C,h){return[h[0]*C.radius+C.cx,-h[1]*C.radius+C.cy]}function D(C,h){return h*C.radius}te.exports={smith:e,reactanceArc:function o(C,h,y,t){var r=T(C,e([y,h])),l=r[0],i=r[1],u=T(C,e([t,h])),f=u[0],c=u[1];if(0===h)return["M"+l+","+i,"L"+f+","+c].join(" ");var m=D(C,1/Math.abs(h));return["M"+l+","+i,"A"+m+","+m+" 0 0,"+(h<0?1:0)+" "+f+","+c].join(" ")},resistanceArc:function P(C,h,y,t){var r=D(C,1/(h+1)),l=T(C,e([h,y])),i=l[0],u=l[1],f=T(C,e([h,t])),c=f[0],m=f[1];if(Y(y)!==Y(t)){var a=T(C,e([h,0]));return["M"+i+","+u,"A"+r+","+r+" 0 0,"+(0<y?0:1)+" "+a[0]+","+a[1],"A"+r+","+r+" 0 0,"+(t<0?0:1)+c+","+m].join(" ")}return["M"+i+","+u,"A"+r+","+r+" 0 0,"+(t<y?0:1)+" "+c+","+m].join(" ")},smithTransform:T}},7504:function(te,Y,e){"use strict";var T=e(27659).AU,D=e(71828).counterRegex,o=e(77997),P=e(39779),C=P.attr,h=P.name,y=D(h),t={};t[C]={valType:"subplotid",dflt:h,editType:"calc"},te.exports={attr:C,name:h,idRoot:h,idRegex:y,attrRegex:y,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:function r(i){for(var u=i._fullLayout,f=i.calcdata,c=u._subplots[h],m=0;m<c.length;m++){var a=c[m],b=T(f,h,a),p=u[a]._subplot;p||(p=o(i,a,!0),u[a]._subplot=p),p.plot(b,u,i._promises)}},clean:function l(i,u,f,c){for(var m=c._subplots[h]||[],a=0;a<m.length;a++){var b=m[a],p=c[b]._subplot;if(!u[b]&&p)for(var s in p.framework.remove(),p.clipPaths)p.clipPaths[s].remove()}},toSVG:e(93612).toSVG}},33419:function(te,Y,e){"use strict";var T=e(22399),D=e(13838),o=e(27670).Y,P=e(71828).extendFlat,C=e(30962).overrideAll,h=C({color:D.color,showline:P({},D.showline,{dflt:!0}),linecolor:D.linecolor,linewidth:D.linewidth,showgrid:P({},D.showgrid,{dflt:!0}),gridcolor:D.gridcolor,gridwidth:D.gridwidth,griddash:D.griddash},"plot","from-root"),y=C({ticklen:D.ticklen,tickwidth:P({},D.tickwidth,{dflt:2}),tickcolor:D.tickcolor,showticklabels:D.showticklabels,labelalias:D.labelalias,showtickprefix:D.showtickprefix,tickprefix:D.tickprefix,showticksuffix:D.showticksuffix,ticksuffix:D.ticksuffix,tickfont:D.tickfont,tickformat:D.tickformat,hoverformat:D.hoverformat,layer:D.layer},"plot","from-root"),t=P({visible:P({},D.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:P({},D.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},h,y),r=P({visible:P({},D.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:D.ticks,editType:"calc"},h,y);te.exports={domain:o({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:T.background},realaxis:t,imaginaryaxis:r,editType:"calc"}},9558:function(te,Y,e){"use strict";var T=e(71828),D=e(7901),o=e(44467),P=e(49119),C=e(27659).NG,h=e(89426),y=e(96115),t=e(92128),r=e(21994),l=e(33419),i=e(39779),u=i.axisNames,f=function m(a,b){var p={};return function(s){var v=b?b(s):s;if(v in p)return p[v];var A=a(s);return p[v]=A,A}}(function(a){return a.slice().reverse().map(function(b){return-b}).concat([0]).concat(a)},String);function c(a,b,p,s){var v=p("bgcolor");s.bgColor=D.combine(v,s.paper_bgcolor);var E,A=C(s.fullData,i.name,s.id),x=s.layoutOut;function g(N,H){return p(E+"."+N,H)}for(var M=0;M<u.length;M++){T.isPlainObject(a[E=u[M]])||(a[E]={});var w=a[E],n=o.newContainer(b,E);n._id=n._name=E,n._attr=s.id+"."+E,n._traceIndices=A.map(function(N){return N._expandedIndex});var S=g("visible");if(n.type="linear",r(n,x),h(w,n,g,n.type),S){var d="realaxis"===E;d&&g("side"),d?g("tickvals"):g("tickvals",f(b.realaxis.tickvals||l.realaxis.tickvals.dflt));var L,B,k,z,O=s.font||{};S&&(B=(L=g("color"))===w.color?L:O.color,k=O.size,z=O.family),y(w,n,g,n.type,{noTicklabelstep:!0,noAng:!d,noExp:!0,font:{color:B,size:k,family:z}}),T.coerce2(a,b,l,E+".ticklen"),T.coerce2(a,b,l,E+".tickwidth"),T.coerce2(a,b,l,E+".tickcolor",b.color),g("ticks")||(delete b[E].ticklen,delete b[E].tickwidth,delete b[E].tickcolor),t(w,n,g,{dfltColor:L,bgColor:s.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[E]}),g("layer")}g("hoverformat"),delete n.type,n._input=w}}te.exports=function(b,p,s){P(b,p,s,{noUirevision:!0,type:i.name,attributes:l,handleDefaults:c,font:p.font,paper_bgcolor:p.paper_bgcolor,fullData:s,layoutOut:p})}},49119:function(te,Y,e){"use strict";var T=e(71828),D=e(44467),o=e(27670).c;te.exports=function(C,h,y,t){var a,b,l=t.attributes,i=t.handleDefaults,u=t.partition||"x",f=h._subplots[t.type],c=f.length,m=c&&f[0].replace(/\d+$/,"");function p(x,E){return T.coerce(a,b,l,x,E)}for(var s=0;s<c;s++){var v=f[s];a=C[v]?C[v]:C[v]={},b=D.newContainer(h,v,m),t.noUirevision||p("uirevision",h.uirevision);var A={};A[u]=[s/c,(s+1)/c],o(b,h,p,A),t.id=v,i(a,b,p,t)}}},5386:function(te,Y,e){"use strict";function h(y){var t=y.description?" "+y.description:"",r=y.keys||[];if(r.length>0){for(var l=[],i=0;i<r.length;i++)l[i]="`"+r[i]+"`";t+="Finally, the template string has access to ",t=1===r.length?t+"variable "+l[0]:t+"variables "+l.slice(0,-1).join(", ")+" and "+l.slice(-1)+"."}return t}e(31562),Y.fF=function(y,t){y=y||{},h(t=t||{});var l={valType:"string",dflt:"",editType:y.editType||"none"};return!1!==y.arrayOk&&(l.arrayOk=!0),l},Y.si=function(y,t){y=y||{},h(t=t||{});var l={valType:"string",dflt:"",editType:y.editType||"calc"};return!1!==y.arrayOk&&(l.arrayOk=!0),l},Y.R=function(y,t){return y=y||{},h(t=t||{}),{valType:"string",dflt:"",editType:y.editType||"arraydraw"}}},61639:function(te,Y,e){"use strict";var T=e(64380),D=e(27659).AU,o=e(71828).counterRegex,P="ternary";Y.name=P;var C=Y.attr="subplot";Y.idRoot=P,Y.idRegex=Y.attrRegex=o(P),(Y.attributes={})[C]={valType:"subplotid",dflt:"ternary",editType:"calc"},Y.layoutAttributes=e(81367),Y.supplyLayoutDefaults=e(25369),Y.plot=function(t){for(var r=t._fullLayout,l=t.calcdata,i=r._subplots[P],u=0;u<i.length;u++){var f=i[u],c=D(l,P,f),m=r[f]._subplot;m||(m=new T({id:f,graphDiv:t,container:r._ternarylayer.node()},r),r[f]._subplot=m),m.plot(c,r,t._promises)}},Y.clean=function(y,t,r,l){for(var i=l._subplots[P]||[],u=0;u<i.length;u++){var f=i[u],c=l[f]._subplot;!t[f]&&c&&(c.plotContainer.remove(),c.clipDef.remove(),c.clipDefRelative.remove(),c.layers["a-title"].remove(),c.layers["b-title"].remove(),c.layers["c-title"].remove())}}},81367:function(te,Y,e){"use strict";var T=e(22399),D=e(27670).Y,o=e(13838),P=e(30962).overrideAll,C=e(1426).extendFlat,h={title:{text:o.title.text,font:o.title.font},color:o.color,tickmode:o.minor.tickmode,nticks:C({},o.nticks,{dflt:6,min:1}),tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:o.ticks,ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,ticklabelstep:o.ticklabelstep,showticklabels:o.showticklabels,labelalias:o.labelalias,showtickprefix:o.showtickprefix,tickprefix:o.tickprefix,showticksuffix:o.showticksuffix,ticksuffix:o.ticksuffix,showexponent:o.showexponent,exponentformat:o.exponentformat,minexponent:o.minexponent,separatethousands:o.separatethousands,tickfont:o.tickfont,tickangle:o.tickangle,tickformat:o.tickformat,tickformatstops:o.tickformatstops,hoverformat:o.hoverformat,showline:C({},o.showline,{dflt:!0}),linecolor:o.linecolor,linewidth:o.linewidth,showgrid:C({},o.showgrid,{dflt:!0}),gridcolor:o.gridcolor,gridwidth:o.gridwidth,griddash:o.griddash,layer:o.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:o._deprecated.title,titlefont:o._deprecated.titlefont}},y=te.exports=P({domain:D({name:"ternary"}),bgcolor:{valType:"color",dflt:T.background},sum:{valType:"number",dflt:1,min:0},aaxis:h,baxis:h,caxis:h},"plot","from-root");y.uirevision={valType:"any",editType:"none"},y.aaxis.uirevision=y.baxis.uirevision=y.caxis.uirevision={valType:"any",editType:"none"}},25369:function(te,Y,e){"use strict";var T=e(7901),D=e(44467),o=e(71828),P=e(49119),C=e(96115),h=e(89426),y=e(38701),t=e(26218),r=e(92128),l=e(81367),i=["aaxis","baxis","caxis"];function u(c,m,a,b){var p=a("bgcolor"),s=a("sum");b.bgColor=T.combine(p,b.paper_bgcolor);for(var v,A,x,E=0;E<i.length;E++)A=c[v=i[E]]||{},(x=D.newContainer(m,v))._name=v,f(A,x,b,m);var g=m.aaxis,M=m.baxis,w=m.caxis;g.min+M.min+w.min>=s&&(g.min=0,M.min=0,w.min=0,c.aaxis&&delete c.aaxis.min,c.baxis&&delete c.baxis.min,c.caxis&&delete c.caxis.min)}function f(c,m,a,b){var p=l[m._name];function s(n,S){return o.coerce(c,m,p,n,S)}s("uirevision",b.uirevision),m.type="linear";var v=s("color"),A=v!==p.color.dflt?v:a.font.color,E=m._name.charAt(0).toUpperCase(),g="Component "+E,M=s("title.text",g);m._hovertitle=M===g?M:E,o.coerceFont(s,"title.font",{family:a.font.family,size:o.bigFont(a.font.size),color:A}),s("min"),t(c,m,s,"linear"),h(c,m,s,"linear"),C(c,m,s,"linear"),y(c,m,s,{outerTicks:!0}),s("showticklabels")&&(o.coerceFont(s,"tickfont",{family:a.font.family,size:a.font.size,color:A}),s("tickangle"),s("tickformat")),r(c,m,s,{dfltColor:v,bgColor:a.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:p}),s("hoverformat"),s("layer")}te.exports=function(m,a,b){P(m,a,b,{type:"ternary",attributes:l,handleDefaults:u,font:a.font,paper_bgcolor:a.paper_bgcolor})}},64380:function(te,Y,e){"use strict";var T=e(39898),D=e(84267),o=e(73972),P=e(71828),C=P.strTranslate,h=P._,y=e(7901),t=e(91424),r=e(21994),l=e(1426).extendFlat,i=e(74875),u=e(89298),f=e(28569),c=e(30211),m=e(64505),a=m.freeMode,b=m.rectMode,p=e(92998),s=e(47322).prepSelect,v=e(47322).selectOnClick,A=e(47322).clearOutline,x=e(47322).clearSelectionsCache,E=e(85555);function g(O,F){this.id=O.id,this.graphDiv=O.graphDiv,this.init(F),this.makeFramework(F),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}te.exports=g;var M=g.prototype;M.init=function(O){this.container=O._ternarylayer,this.defs=O._defs,this.layoutId=O._uid,this.traceHash={},this.layers={}},M.plot=function(O,F){var N=this,H=F[N.id],X=F._size;N._hasClipOnAxisFalse=!1;for(var ne=0;ne<O.length;ne++)if(!1===O[ne][0].trace.cliponaxis){N._hasClipOnAxisFalse=!0;break}N.updateLayers(H),N.adjustLayout(H,X),i.generalUpdatePerTraceModule(N.graphDiv,N,O,H),N.layers.plotbg.select("path").call(y.fill,H.bgcolor)},M.makeFramework=function(O){var F=this,N=F.graphDiv,H=O[F.id],X=F.clipId="clip"+F.layoutId+F.id,ne=F.clipIdRelative="clip-relative"+F.layoutId+F.id;F.clipDef=P.ensureSingleById(O._clips,"clipPath",X,function(ie){ie.append("path").attr("d","M0,0Z")}),F.clipDefRelative=P.ensureSingleById(O._clips,"clipPath",ne,function(ie){ie.append("path").attr("d","M0,0Z")}),F.plotContainer=P.ensureSingle(F.container,"g",F.id),F.updateLayers(H),t.setClipUrl(F.layers.backplot,X,N),t.setClipUrl(F.layers.grids,X,N)},M.updateLayers=function(O){var N=this.layers,H=["draglayer","plotbg","backplot","grids"];"below traces"===O.aaxis.layer&&H.push("aaxis","aline"),"below traces"===O.baxis.layer&&H.push("baxis","bline"),"below traces"===O.caxis.layer&&H.push("caxis","cline"),H.push("frontplot"),"above traces"===O.aaxis.layer&&H.push("aaxis","aline"),"above traces"===O.baxis.layer&&H.push("baxis","bline"),"above traces"===O.caxis.layer&&H.push("caxis","cline");var X=this.plotContainer.selectAll("g.toplevel").data(H,String),ne=["agrid","bgrid","cgrid"];X.enter().append("g").attr("class",function(ie){return"toplevel "+ie}).each(function(ie){var ue=T.select(this);N[ie]=ue,"frontplot"===ie?ue.append("g").classed("scatterlayer",!0):"backplot"===ie?ue.append("g").classed("maplayer",!0):"plotbg"===ie?ue.append("path").attr("d","M0,0Z"):"aline"===ie||"bline"===ie||"cline"===ie?ue.append("path"):"grids"===ie&&ne.forEach(function(J){N[J]=ue.append("g").classed("grid "+J,!0)})}),X.order()};var w=Math.sqrt(4/3);M.adjustLayout=function(O,F){var Q,Z,re,q,se,de,N=this,H=O.domain,X=(H.x[0]+H.x[1])/2,ne=(H.y[0]+H.y[1])/2,ie=H.x[1]-H.x[0],ue=H.y[1]-H.y[0],J=ie*F.w,j=ue*F.h,W=O.sum,V=O.aaxis.min,K=O.baxis.min,ae=O.caxis.min;J>w*j?re=(q=j)*w:q=(re=J)/w,se=ie*re/J,de=ue*q/j,Z=F.t+F.h*(1-ne)-q/2,N.x0=Q=F.l+F.w*X-re/2,N.y0=Z,N.w=re,N.h=q,N.sum=W,N.xaxis={type:"linear",range:[V+2*ae-W,W-V-2*K],domain:[X-se/2,X+se/2],_id:"x"},r(N.xaxis,N.graphDiv._fullLayout),N.xaxis.setScale(),N.xaxis.isPtWithinRange=function(He){return He.a>=N.aaxis.range[0]&&He.a<=N.aaxis.range[1]&&He.b>=N.baxis.range[1]&&He.b<=N.baxis.range[0]&&He.c>=N.caxis.range[1]&&He.c<=N.caxis.range[0]},N.yaxis={type:"linear",range:[V,W-K-ae],domain:[ne-de/2,ne+de/2],_id:"y"},r(N.yaxis,N.graphDiv._fullLayout),N.yaxis.setScale(),N.yaxis.isPtWithinRange=function(){return!0};var we=N.yaxis.domain[0],ye=N.aaxis=l({},O.aaxis,{range:[V,W-K-ae],side:"left",tickangle:(+O.aaxis.tickangle||0)-30,domain:[we,we+de*w],anchor:"free",position:0,_id:"y",_length:re});r(ye,N.graphDiv._fullLayout),ye.setScale();var Pe=N.baxis=l({},O.baxis,{range:[W-V-ae,K],side:"bottom",domain:N.xaxis.domain,anchor:"free",position:0,_id:"x",_length:re});r(Pe,N.graphDiv._fullLayout),Pe.setScale();var Ie=N.caxis=l({},O.caxis,{range:[W-V-K,ae],side:"right",tickangle:(+O.caxis.tickangle||0)+30,domain:[we,we+de*w],anchor:"free",position:0,_id:"y",_length:re});r(Ie,N.graphDiv._fullLayout),Ie.setScale();var Se="M"+Q+","+(Z+q)+"h"+re+"l-"+re/2+",-"+q+"Z";N.clipDef.select("path").attr("d",Se),N.layers.plotbg.select("path").attr("d",Se);var xe="M0,"+q+"h"+re+"l-"+re/2+",-"+q+"Z";N.clipDefRelative.select("path").attr("d",xe);var Me=C(Q,Z);N.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Me),N.clipDefRelative.select("path").attr("transform",null);var Ge=C(Q-Pe._offset,Z+q);N.layers.baxis.attr("transform",Ge),N.layers.bgrid.attr("transform",Ge);var Ye=C(Q+re/2,Z)+"rotate(30)"+C(0,-ye._offset);N.layers.aaxis.attr("transform",Ye),N.layers.agrid.attr("transform",Ye);var De=C(Q+re/2,Z)+"rotate(-30)"+C(0,-Ie._offset);N.layers.caxis.attr("transform",De),N.layers.cgrid.attr("transform",De),N.drawAxes(!0),N.layers.aline.select("path").attr("d",ye.showline?"M"+Q+","+(Z+q)+"l"+re/2+",-"+q:"M0,0").call(y.stroke,ye.linecolor||"#000").style("stroke-width",(ye.linewidth||0)+"px"),N.layers.bline.select("path").attr("d",Pe.showline?"M"+Q+","+(Z+q)+"h"+re:"M0,0").call(y.stroke,Pe.linecolor||"#000").style("stroke-width",(Pe.linewidth||0)+"px"),N.layers.cline.select("path").attr("d",Ie.showline?"M"+(Q+re/2)+","+Z+"l"+re/2+","+q:"M0,0").call(y.stroke,Ie.linecolor||"#000").style("stroke-width",(Ie.linewidth||0)+"px"),N.graphDiv._context.staticPlot||N.initInteractions(),t.setClipUrl(N.layers.frontplot,N._hasClipOnAxisFalse?null:N.clipId,N.graphDiv)},M.drawAxes=function(O){var F=this,N=F.graphDiv,H=F.id.substr(7)+"title",X=F.layers,ne=F.aaxis,ie=F.baxis,ue=F.caxis;if(F.drawAx(ne),F.drawAx(ie),F.drawAx(ue),O){var J=Math.max(ne.showticklabels?ne.tickfont.size/2:0,(ue.showticklabels?.75*ue.tickfont.size:0)+("outside"===ue.ticks?.87*ue.ticklen:0)),j=(ie.showticklabels?ie.tickfont.size:0)+("outside"===ie.ticks?ie.ticklen:0)+3;X["a-title"]=p.draw(N,"a"+H,{propContainer:ne,propName:F.id+".aaxis.title",placeholder:h(N,"Click to enter Component A title"),attributes:{x:F.x0+F.w/2,y:F.y0-ne.title.font.size/3-J,"text-anchor":"middle"}}),X["b-title"]=p.draw(N,"b"+H,{propContainer:ie,propName:F.id+".baxis.title",placeholder:h(N,"Click to enter Component B title"),attributes:{x:F.x0-j,y:F.y0+F.h+.83*ie.title.font.size+j,"text-anchor":"middle"}}),X["c-title"]=p.draw(N,"c"+H,{propContainer:ue,propName:F.id+".caxis.title",placeholder:h(N,"Click to enter Component C title"),attributes:{x:F.x0+F.w+j,y:F.y0+F.h+.83*ue.title.font.size+j,"text-anchor":"middle"}})}},M.drawAx=function(O){var F=this,N=F.graphDiv,H=O._name,X=H.charAt(0),ne=O._id,ie=F.layers[H],J=X+"tickLayout",j=function n(O){return O.ticks+String(O.ticklen)+String(O.showticklabels)}(O);F[J]!==j&&(ie.selectAll("."+ne+"tick").remove(),F[J]=j),O.setScale();var W=u.calcTicks(O),V=u.clipEnds(O,W),K=u.makeTransTickFn(O),ae=u.getTickSigns(O)[2],Q=P.deg2rad(30),Z=ae*(O.linewidth||1)/2,re=ae*O.ticklen,q=F.w,se=F.h,de="b"===X?"M0,"+Z+"l"+Math.sin(Q)*re+","+Math.cos(Q)*re:"M"+Z+",0l"+Math.cos(Q)*re+","+-Math.sin(Q)*re,we={a:"M0,0l"+se+",-"+q/2,b:"M0,0l-"+q/2+",-"+se,c:"M0,0l-"+se+","+q/2}[X];u.drawTicks(N,O,{vals:"inside"===O.ticks?V:W,layer:ie,path:de,transFn:K,crisp:!1}),u.drawGrid(N,O,{vals:V,layer:F.layers[X+"grid"],path:we,transFn:K,crisp:!1}),u.drawLabels(N,O,{vals:W,layer:ie,transFn:K,labelFns:u.makeLabelFns(O,0,30)})};var S=E.MINZOOM/2+.87,d="m-0.87,.5h"+S+"v3h-"+(S+5.2)+"l"+(S/2+2.6)+",-"+(.87*S+4.5)+"l2.6,1.5l-"+S/2+","+.87*S+"Z",I="m0.87,.5h-"+S+"v3h"+(S+5.2)+"l-"+(S/2+2.6)+",-"+(.87*S+4.5)+"l-2.6,1.5l"+S/2+","+.87*S+"Z",L="m0,1l"+S/2+","+.87*S+"l2.6,-1.5l-"+(S/2+2.6)+",-"+(.87*S+4.5)+"l-"+(S/2+2.6)+","+(.87*S+4.5)+"l2.6,1.5l"+S/2+",-"+.87*S+"Z",k=!0;function z(O){T.select(O).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}M.clearOutline=function(){x(this.dragOptions),A(this.dragOptions.gd)},M.initInteractions=function(){var X,ne,ie,ue,J,j,W,V,K,ae,Q,Z,O=this,F=O.layers.plotbg.select("path").node(),N=O.graphDiv,H=N._fullLayout._zoomlayer;function re(Ge){var Ye={};return Ye[O.id+".aaxis.min"]=Ge.a,Ye[O.id+".baxis.min"]=Ge.b,Ye[O.id+".caxis.min"]=Ge.c,Ye}function q(Ge,Ye){var De=N._fullLayout.clickmode;z(N),2===Ge&&(N.emit("plotly_doubleclick",null),o.call("_guiRelayout",N,re({a:0,b:0,c:0}))),De.indexOf("select")>-1&&1===Ge&&v(Ye,N,[O.xaxis],[O.yaxis],O.id,O.dragOptions),De.indexOf("event")>-1&&c.click(N,Ye,O.id)}function de(Ge,Ye){return 1-Ye/O.h}function we(Ge,Ye){return 1-(Ge+(O.h-Ye)/Math.sqrt(3))/O.w}function ye(Ge,Ye){return(Ge-(O.h-Ye)/Math.sqrt(3))/O.w}function Pe(Ge,Ye){var De=ie+Ge*X,He=ue+Ye*ne,rt=Math.max(0,Math.min(1,de(0,ue),de(0,He))),$e=Math.max(0,Math.min(1,we(ie,ue),we(De,He))),Be=Math.max(0,Math.min(1,ye(ie,ue),ye(De,He))),ze=(rt/2+Be)*O.w,tt=(1-rt/2-$e)*O.w,lt=(ze+tt)/2,ut=tt-ze,xt=(1-rt)*O.h,bt=xt-ut/w;ut<E.MINZOOM?(W=J,Q.attr("d",K),Z.attr("d","M0,0Z")):(W={a:J.a+rt*j,b:J.b+$e*j,c:J.c+Be*j},Q.attr("d",K+"M"+ze+","+xt+"H"+tt+"L"+lt+","+bt+"L"+ze+","+xt+"Z"),Z.attr("d","M"+ie+","+ue+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+ze+","+xt+d+"M"+tt+","+xt+I+"M"+lt+","+bt+L)),ae||(Q.transition().style("fill",V>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Z.transition().style("opacity",1).duration(200),ae=!0),N.emit("plotly_relayouting",re(W))}function Ie(){z(N),W!==J&&(o.call("_guiRelayout",N,re(W)),k&&N.data&&N._context.showTips&&(P.notifier(h(N,"Double-click to zoom back out"),"long"),k=!1))}function xe(Ge,Ye){var De=Ge/O.xaxis._m,He=Ye/O.yaxis._m,rt=[(W={a:J.a-He,b:J.b+(De+He)/2,c:J.c-(De-He)/2}).a,W.b,W.c].sort(P.sorterAsc),$e_a=rt.indexOf(W.a),$e_b=rt.indexOf(W.b),$e_c=rt.indexOf(W.c);rt[0]<0&&(rt[1]+rt[0]/2<0?(rt[2]+=rt[0]+rt[1],rt[0]=rt[1]=0):(rt[2]+=rt[0]/2,rt[1]+=rt[0]/2,rt[0]=0),Ye=(J.a-(W={a:rt[$e_a],b:rt[$e_b],c:rt[$e_c]}).a)*O.yaxis._m,Ge=(J.c-W.c-J.b+W.b)*O.xaxis._m);var Be=C(O.x0+Ge,O.y0+Ye);O.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Be);var ze=C(-Ge,-Ye);O.clipDefRelative.select("path").attr("transform",ze),O.aaxis.range=[W.a,O.sum-W.b-W.c],O.baxis.range=[O.sum-W.a-W.c,W.b],O.caxis.range=[O.sum-W.a-W.b,W.c],O.drawAxes(!1),O._hasClipOnAxisFalse&&O.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,O),N.emit("plotly_relayouting",re(W))}function Me(){o.call("_guiRelayout",N,re(W))}this.dragOptions={element:F,gd:N,plotinfo:{id:O.id,domain:N._fullLayout[O.id].domain,xaxis:O.xaxis,yaxis:O.yaxis},subplot:O.id,prepFn:function(Ge,Ye,De){O.dragOptions.xaxes=[O.xaxis],O.dragOptions.yaxes=[O.yaxis],X=N._fullLayout._invScaleX,ne=N._fullLayout._invScaleY;var He=O.dragOptions.dragmode=N._fullLayout.dragmode;O.dragOptions.minDrag=a(He)?1:void 0,"zoom"===He?(O.dragOptions.moveFn=Pe,O.dragOptions.clickFn=q,O.dragOptions.doneFn=Ie,function se(Ge,Ye,De){var He=F.getBoundingClientRect();ie=Ye-He.left,ue=De-He.top,N._fullLayout._calcInverseTransform(N);var $e=P.apply3DTransform(N._fullLayout._invTransform)(ie,ue);ie=$e[0],ue=$e[1],W=J={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]},j=O.aaxis.range[1]-J.a,V=D(O.graphDiv._fullLayout[O.id].bgcolor).getLuminance(),K="M0,"+O.h+"L"+O.w/2+", 0L"+O.w+","+O.h+"Z",ae=!1,Q=H.append("path").attr("class","zoombox").attr("transform",C(O.x0,O.y0)).style({fill:V>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",K),Z=H.append("path").attr("class","zoombox-corners").attr("transform",C(O.x0,O.y0)).style({fill:y.background,stroke:y.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),O.clearOutline(N)}(0,Ye,De)):"pan"===He?(O.dragOptions.moveFn=xe,O.dragOptions.clickFn=q,O.dragOptions.doneFn=Me,function Se(){W=J={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]}}(),O.clearOutline(N)):(b(He)||a(He))&&s(Ge,Ye,De,O.dragOptions,He)}},F.onmousemove=function(Ge){c.hover(N,Ge,O.id),N._fullLayout._lasthover=F,N._fullLayout._hoversubplot=O.id},F.onmouseout=function(Ge){N._dragging||f.unhover(N,Ge)},f.init(this.dragOptions)}},73972:function(te,Y,e){"use strict";var T=e(47769),D=e(64213),o=e(75138),P=e(41965),C=e(24401).addStyleRule,h=e(1426),y=e(9012),t=e(10820),r=h.extendFlat,l=h.extendDeepAll;function i(A){var x=A.name,E=A.categories,g=A.meta;if(Y.modules[x])T.log("Type "+x+" already registered");else{Y.subplotsRegistry[A.basePlotModule.name]||function u(A){var x=A.name;if(Y.subplotsRegistry[x])T.log("Plot type "+x+" already registered.");else for(var E in a(A),Y.subplotsRegistry[x]=A,Y.componentsRegistry)s(E,A.name)}(A.basePlotModule);for(var M={},w=0;w<E.length;w++)M[E[w]]=!0,Y.allCategories[E[w]]=!0;for(var n in Y.modules[x]={_module:A,categories:M},g&&Object.keys(g).length&&(Y.modules[x].meta=g),Y.allTypes.push(x),Y.componentsRegistry)b(n,x);A.layoutAttributes&&r(Y.traceLayoutAttributes,A.layoutAttributes);var S=A.basePlotModule,d=S.name;if("mapbox"===d){var I=S.constants.styleRules;for(var L in I)C(".js-plotly-plot .plotly .mapboxgl-"+L,I[L])}("geo"===d||"mapbox"===d)&&void 0===window.PlotlyGeoAssets&&(window.PlotlyGeoAssets={topojson:{}})}}function f(A){if("string"!=typeof A.name)throw new Error("Component module *name* must be a string.");var x=A.name;for(var E in Y.componentsRegistry[x]=A,A.layoutAttributes&&(A.layoutAttributes._isLinkedToArray&&o(Y.layoutArrayContainers,x),a(A)),Y.modules)b(x,E);for(var g in Y.subplotsRegistry)s(x,g);for(var M in Y.transformsRegistry)p(x,M);A.schema&&A.schema.layout&&l(t,A.schema.layout)}function c(A){if("string"!=typeof A.name)throw new Error("Transform module *name* must be a string.");var x="Transform module "+A.name,E="function"==typeof A.transform,g="function"==typeof A.calcTransform;if(!E&&!g)throw new Error(x+" is missing a *transform* or *calcTransform* method.");for(var M in E&&g&&T.log([x+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),P(A.attributes)||T.log(x+" registered without an *attributes* object."),"function"!=typeof A.supplyDefaults&&T.log(x+" registered without a *supplyDefaults* method."),Y.transformsRegistry[A.name]=A,Y.componentsRegistry)p(M,A.name)}function m(A){var x=A.name,E=x.split("-")[0],g=A.dictionary,M=A.format,w=g&&Object.keys(g).length,n=M&&Object.keys(M).length,S=Y.localeRegistry,d=S[x];if(d||(S[x]=d={}),E!==x){var I=S[E];I||(S[E]=I={}),w&&I.dictionary===d.dictionary&&(I.dictionary=g),n&&I.format===d.format&&(I.format=M)}w&&(d.dictionary=g),n&&(d.format=M)}function a(A){if(A.layoutAttributes){var x=A.layoutAttributes._arrayAttrRegexps;if(x)for(var E=0;E<x.length;E++)o(Y.layoutArrayRegexes,x[E])}}function b(A,x){var E=Y.componentsRegistry[A].schema;if(E&&E.traces){var g=E.traces[x];g&&l(Y.modules[x]._module.attributes,g)}}function p(A,x){var E=Y.componentsRegistry[A].schema;if(E&&E.transforms){var g=E.transforms[x];g&&l(Y.transformsRegistry[x].attributes,g)}}function s(A,x){var E=Y.componentsRegistry[A].schema;if(E&&E.subplots){var g=Y.subplotsRegistry[x],M=g.layoutAttributes,w="subplot"===g.attr?g.name:g.attr;Array.isArray(w)&&(w=w[0]);var n=E.subplots[w];M&&n&&l(M,n)}}function v(A){return"object"==typeof A&&(A=A.type),A}Y.modules={},Y.allCategories={},Y.allTypes=[],Y.subplotsRegistry={},Y.transformsRegistry={},Y.componentsRegistry={},Y.layoutArrayContainers=[],Y.layoutArrayRegexes=[],Y.traceLayoutAttributes={},Y.localeRegistry={},Y.apiMethodRegistry={},Y.collectableSubplotTypes=null,Y.register=function(x){if(Y.collectableSubplotTypes=null,!x)throw new Error("No argument passed to Plotly.register.");x&&!Array.isArray(x)&&(x=[x]);for(var E=0;E<x.length;E++){var g=x[E];if(!g)throw new Error("Invalid module was attempted to be registered!");switch(g.moduleType){case"trace":i(g);break;case"transform":c(g);break;case"component":f(g);break;case"locale":m(g);break;case"apiMethod":Y.apiMethodRegistry[g.name]=g.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},Y.getModule=function(A){var x=Y.modules[v(A)];return!!x&&x._module},Y.traceIs=function(A,x){if("various"===(A=v(A)))return!1;var E=Y.modules[A];return E||(A&&T.log("Unrecognized trace type "+A+"."),E=Y.modules[y.type.dflt]),!!E.categories[x]},Y.getTransformIndices=function(A,x){for(var E=[],g=A.transforms||[],M=0;M<g.length;M++)g[M].type===x&&E.push(M);return E},Y.hasTransform=function(A,x){for(var E=A.transforms||[],g=0;g<E.length;g++)if(E[g].type===x)return!0;return!1},Y.getComponentMethod=function(A,x){var E=Y.componentsRegistry[A];return E&&E[x]||D},Y.call=function(){var A=arguments[0],x=[].slice.call(arguments,1);return Y.apiMethodRegistry[A].apply(null,x)}},61914:function(te,Y,e){"use strict";var T=e(73972),D=e(71828),o=D.extendFlat,P=D.extendDeep;function C(y){var t;switch(y){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}te.exports=function(t,r){var l,u=t.layout,f=P([],t.data),c=P({},u,C(r.tileClass)),m=t._context||{};if(r.width&&(c.width=r.width),r.height&&(c.height=r.height),"thumbnail"===r.tileClass||"themes__thumb"===r.tileClass){c.annotations=[];var a=Object.keys(c);for(l=0;l<a.length;l++)["xaxis","yaxis","zaxis"].indexOf(a[l].slice(0,5))>-1&&(c[a[l]].title={text:""});for(l=0;l<f.length;l++){var b=f[l];b.showscale=!1,b.marker&&(b.marker.showscale=!1),T.traceIs(b,"pie-like")&&(b.textposition="none")}}if(Array.isArray(r.annotations))for(l=0;l<r.annotations.length;l++)c.annotations.push(r.annotations[l]);var p=Object.keys(c).filter(function(E){return E.match(/^scene\d*$/)});if(p.length){var s={};for("thumbnail"===r.tileClass&&(s={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),l=0;l<p.length;l++){var v=c[p[l]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),o(v.xaxis,s),o(v.yaxis,s),o(v.zaxis,s),v._scene=null}}var A=document.createElement("div");r.tileClass&&(A.className=r.tileClass);var x={gd:A,td:A,layout:c,data:f,config:{staticPlot:void 0===r.staticPlot||r.staticPlot,plotGlPixelRatio:void 0===r.plotGlPixelRatio?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return"transparent"!==r.setBackground&&(x.config.setBackground=r.setBackground||"opaque"),x.gd.defaultLayout=C(r.tileClass),x}},7239:function(te,Y,e){"use strict";var T=e(71828),D=e(403),o=e(22435),P=e(25095);te.exports=function C(h,y){var t;return T.isPlainObject(h)||(t=T.getGraphDiv(h)),(y=y||{}).format=y.format||"png",y.width=y.width||null,y.height=y.height||null,y.imageDataOnly=!0,new Promise(function(r,l){t&&t._snapshotInProgress&&l(new Error("Snapshotting already in progress.")),T.isIE()&&"svg"!==y.format&&l(new Error(P.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var i=D(h,y),u=y.filename||h.fn||"newplot";u+="."+y.format.replace("-","."),i.then(function(f){return t&&(t._snapshotInProgress=!1),o(f,u,y.format)}).then(function(f){r(f)}).catch(function(f){t&&(t._snapshotInProgress=!1),l(f)})})}},22435:function(te,Y,e){"use strict";var T=e(71828),D=e(25095);te.exports=function o(P,C,h){var y=document.createElement("a"),t="download"in y;return new Promise(function(l,i){var u,f;return T.isIE()?(u=D.createBlob(P,"svg"),window.navigator.msSaveBlob(u,C),u=null,l(C)):t?(u=D.createBlob(P,h),f=D.createObjectURL(u),y.href=f,y.download=C,document.body.appendChild(y),y.click(),document.body.removeChild(y),D.revokeObjectURL(f),u=null,l(C)):T.isSafari()?(D.octetStream(("svg"===h?",":";base64,")+encodeURIComponent(P)),l(C)):void i(new Error("download error"))})}},25095:function(te,Y,e){"use strict";var T=e(73972);Y.getDelay=function(P){return P._has&&(P._has("gl3d")||P._has("gl2d")||P._has("mapbox"))?500:0},Y.getRedrawFunc=function(P){return function(){T.getComponentMethod("colorbar","draw")(P)}},Y.encodeSVG=function(P){return"data:image/svg+xml,"+encodeURIComponent(P)},Y.encodeJSON=function(P){return"data:application/json,"+encodeURIComponent(P)};var D=window.URL||window.webkitURL;Y.createObjectURL=function(P){return D.createObjectURL(P)},Y.revokeObjectURL=function(P){return D.revokeObjectURL(P)},Y.createBlob=function(P,C){if("svg"===C)return new window.Blob([P],{type:"image/svg+xml;charset=utf-8"});if("full-json"===C)return new window.Blob([P],{type:"application/json;charset=utf-8"});var h=function o(P){for(var C=P.length,h=new ArrayBuffer(C),y=new Uint8Array(h),t=0;t<C;t++)y[t]=P.charCodeAt(t);return h}(window.atob(P));return new window.Blob([h],{type:"image/"+C})},Y.octetStream=function(P){document.location.href="data:application/octet-stream"+P},Y.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,Y.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(te,Y,e){"use strict";var T=e(25095),D={getDelay:T.getDelay,getRedrawFunc:T.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};te.exports=D},70942:function(te,Y,e){"use strict";var T=e(71828),D=e(15398).EventEmitter,o=e(25095);te.exports=function P(C){var h=C.emitter||new D,y=new Promise(function(t,r){var l=window.Image,i=C.svg,u=C.format||"png";if(T.isIE()&&"svg"!==u){var f=new Error(o.MSG_IE_BAD_FORMAT);return r(f),C.promise?y:h.emit("error",f)}var x,E,c=C.canvas,m=C.scale||1,p=m*(C.width||300),s=m*(C.height||150),v=c.getContext("2d",{willReadFrequently:!0}),A=new l;"svg"===u||T.isSafari()?E=o.encodeSVG(i):(x=o.createBlob(i,"svg"),E=o.createObjectURL(x)),c.width=p,c.height=s,A.onload=function(){var g;switch(x=null,o.revokeObjectURL(E),"svg"!==u&&v.drawImage(A,0,0,p,s),u){case"jpeg":g=c.toDataURL("image/jpeg");break;case"png":g=c.toDataURL("image/png");break;case"webp":g=c.toDataURL("image/webp");break;case"svg":g=E;break;default:var M="Image format is not jpeg, png, svg or webp.";if(r(new Error(M)),!C.promise)return h.emit("error",M)}t(g),C.promise||h.emit("success",g)},A.onerror=function(g){if(x=null,o.revokeObjectURL(E),r(g),!C.promise)return h.emit("error",g)},A.src=E});return C.promise?y:h}},56395:function(te,Y,e){"use strict";var T=e(15398).EventEmitter,D=e(73972),o=e(71828),P=e(25095),C=e(61914),h=e(5900),y=e(70942);te.exports=function t(r,l){var i=new T,u=C(r,{format:"png"}),f=u.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);var m=P.getRedrawFunc(f);return D.call("_doPlot",f,u.data,u.layout,u.config).then(m).then(function c(){var a=P.getDelay(f._fullLayout);setTimeout(function(){var b=h(f),p=document.createElement("canvas");p.id=o.randstr(),(i=y({format:l.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:p,emitter:i,svg:b})).clean=function(){f&&document.body.removeChild(f)}},a)}).catch(function(a){i.emit("error",a)}),i}},5900:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(91424),P=e(7901),C=e(77922),h=/"/g,y="TOBESTRIPPED",t=new RegExp('("'+y+")|("+y+'")',"g");te.exports=function(u,f,c){var v,m=u._fullLayout,a=m._paper,b=m._toppaper,p=m.width,s=m.height;a.insert("rect",":first-child").call(o.setRect,0,0,p,s).call(P.fill,m.paper_bgcolor);var A=m._basePlotModules||[];for(v=0;v<A.length;v++){var x=A[v];x.toSVG&&x.toSVG(u)}if(b){var E=b.node().childNodes,g=Array.prototype.slice.call(E);for(v=0;v<g.length;v++){var M=g[v];M.childNodes.length&&a.node().appendChild(M)}}m._draggers&&m._draggers.remove(),a.node().style.background="",a.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var n=T.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){n.style({visibility:null,display:null});var S=this.style.fontFamily;S&&-1!==S.indexOf('"')&&n.style("font-family",S.replace(h,y))}else n.remove()}),a.selectAll(".gradient_filled,.pattern_filled").each(function(){var n=T.select(this),S=this.style.fill;S&&-1!==S.indexOf("url(")&&n.style("fill",S.replace(h,y));var d=this.style.stroke;d&&-1!==d.indexOf("url(")&&n.style("stroke",d.replace(h,y))}),("pdf"===f||"eps"===f)&&a.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),a.node().setAttributeNS(C.xmlns,"xmlns",C.svg),a.node().setAttributeNS(C.xmlns,"xmlns:xlink",C.xlink),"svg"===f&&c&&(a.attr("width",c*p),a.attr("height",c*s),a.attr("viewBox","0 0 "+p+" "+s));var w=(new window.XMLSerializer).serializeToString(a.node());return w=function r(i){var u=T.select("body").append("div").style({display:"none"}).html(""),f=i.replace(/(&[^;]*;)/gi,function(c){return"&lt;"===c?"&#60;":"&rt;"===c?"&#62;":-1!==c.indexOf("<")||-1!==c.indexOf(">")?"":u.html(c).text()});return u.remove(),f}(w),w=(w=function l(i){return i.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}(w)).replace(t,"'"),D.isIE()&&(w=(w=(w=w.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),w}},75341:function(te,Y,e){"use strict";var T=e(71828);te.exports=function(o,P){for(var C=0;C<o.length;C++)o[C].i=C;T.mergeArray(P.text,o,"tx"),T.mergeArray(P.hovertext,o,"htx");var h=P.marker;if(h){T.mergeArray(h.opacity,o,"mo",!0),T.mergeArray(h.color,o,"mc");var y=h.line;y&&(T.mergeArray(y.color,o,"mlc"),T.mergeArrayCastPositive(y.width,o,"mlw"))}}},1486:function(te,Y,e){"use strict";var T=e(82196),D=e(12663).axisHoverFormat,o=e(5386).fF,P=e(5386).si,C=e(50693),h=e(41940),y=e(97313),t=e(79952).u,r=e(1426).extendFlat,l=h({editType:"calc",arrayOk:!0,colorEditType:"style"}),f=r({},T.marker.line.width,{dflt:0}),c=r({width:f,editType:"calc"},C("marker.line")),m=r({line:c,editType:"calc"},C("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});te.exports={x:T.x,x0:T.x0,dx:T.dx,y:T.y,y0:T.y0,dy:T.dy,xperiod:T.xperiod,yperiod:T.yperiod,xperiod0:T.xperiod0,yperiod0:T.yperiod0,xperiodalignment:T.xperiodalignment,yperiodalignment:T.yperiodalignment,xhoverformat:D("x"),yhoverformat:D("y"),text:T.text,texttemplate:P({editType:"plot"},{keys:y.eventDataKeys}),hovertext:T.hovertext,hovertemplate:o({},{keys:y.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},l,{}),insidetextfont:r({},l,{}),outsidetextfont:r({},l,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},T.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:T.offsetgroup,alignmentgroup:T.alignmentgroup,selected:{marker:{opacity:T.selected.marker.opacity,color:T.selected.marker.color,editType:"style"},textfont:T.selected.textfont,editType:"style"},unselected:{marker:{opacity:T.unselected.marker.opacity,color:T.unselected.marker.color,editType:"style"},textfont:T.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(te,Y,e){"use strict";var T=e(89298),D=e(42973),o=e(52075).hasColorscale,P=e(78803),C=e(75341),h=e(66279);te.exports=function(t,r){var u,f,c,m,a,b,l=T.getFromId(t,r.xaxis||"x"),i=T.getFromId(t,r.yaxis||"y"),p={msUTC:!(!r.base&&0!==r.base)};"h"===r.orientation?(u=l.makeCalcdata(r,"x",p),c=i.makeCalcdata(r,"y"),m=D(r,i,"y",c),a=!!r.yperiodalignment,b="y"):(u=i.makeCalcdata(r,"y",p),c=l.makeCalcdata(r,"x"),m=D(r,l,"x",c),a=!!r.xperiodalignment,b="x"),f=m.vals;for(var s=Math.min(f.length,u.length),v=new Array(s),A=0;A<s;A++)v[A]={p:f[A],s:u[A]},a&&(v[A].orig_p=c[A],v[A][b+"End"]=m.ends[A],v[A][b+"Start"]=m.starts[A]),r.ids&&(v[A].id=String(r.ids[A]));return o(r,"marker")&&P(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),o(r,"marker.line")&&P(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),C(v,r),h(v,r),v}},97313:function(te){"use strict";te.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(te,Y,e){"use strict";var T=e(92770),D=e(71828).isArrayOrTypedArray,o=e(50606).BADNUM,P=e(73972),C=e(89298),h=e(99082).getAxisGroup,y=e(61546);function r(w,n,S,d,I){if(d.length){var L,B,k,z;switch(function l(w,n){var S,d;for(S=0;S<n.length;S++){var k,I=n[S],L=I[0].trace,B="funnel"===L.type?L._base:L.base,z="h"===L.orientation?L.xcalendar:L.ycalendar,O="category"===w.type||"multicategory"===w.type?function(){return null}:w.d2c;if(D(B)){for(d=0;d<Math.min(B.length,I.length);d++)k=O(B[d],0,z),T(k)?(I[d].b=+k,I[d].hasB=1):I[d].b=0;for(;d<I.length;d++)I[d].b=0}else{k=O(B,0,z);var F=T(k);for(k=F?k:0,d=0;d<I.length;d++)I[d].b=k,F&&(I[d].hasB=1)}}}(S,d),I.mode){case"overlay":i(n,S,d,I);break;case"group":for(L=[],B=[],k=0;k<d.length;k++)void 0===(z=d[k])[0].trace.offset?B.push(z):L.push(z);B.length&&function u(w,n,S,d,I){var L=new y(d,{posAxis:n,sepNegVal:!1,overlapNoMerge:!I.norm});(function m(w,n,S,d){for(var I=w._fullLayout,k=S.minDiff,z=S.traces,O=z.length,F=S.positions.length!==S.distinctPositions.length,N=k*(1-d.gap),H=h(I,n._id)+z[0][0].trace.orientation,X=I._alignmentOpts[H]||{},ne=0;ne<O;ne++){var W,K,ie=z[ne],ue=ie[0].trace,j=Object.keys((X[ue.alignmentgroup]||{}).offsetGroups||{}).length,V=(W=j?N/j:F?N/O:N)*(1-(d.groupgap||0));K=j?((2*ue._offsetIndex+1-j)*W-V)/2:F?((2*ne+1-O)*W-V)/2:-V/2;var ae=ie[0].t;ae.barwidth=V,ae.poffset=K,ae.bargroupwidth=N,ae.bardelta=k}S.binWidth=z[0][0].t.barwidth/100,a(S),b(n,S),p(n,S,F)})(w,n,L,I),function x(w,n){for(var S=w.traces,d=0;d<S.length;d++){var I=S[d];if(void 0===I[0].trace.base)for(var B=new y([I],{posAxis:n,sepNegVal:!0,overlapNoMerge:!0}),k=0;k<I.length;k++){var z=I[k];if(z.p!==o){var O=B.put(z.p,z.b+z.s);O&&(z.b=O)}}}}(L,n),I.norm?(A(L),E(S,L,I)):s(S,L)}(w,n,S,B,I),L.length&&i(n,S,L,I);break;case"stack":case"relative":for(L=[],B=[],k=0;k<d.length;k++)void 0===(z=d[k])[0].trace.base?B.push(z):L.push(z);B.length&&function f(w,n,S,d,I){var L=new y(d,{posAxis:n,sepNegVal:"relative"===I.mode,overlapNoMerge:!(I.norm||"stack"===I.mode||"relative"===I.mode)});c(n,L,I),function v(w,n,S){var L,B,k,z,O,F,d=M(w),I=n.traces;for(z=0;z<I.length;z++)if("funnel"===(B=(L=I[z])[0].trace).type)for(O=0;O<L.length;O++)(F=L[O]).s!==o&&n.put(F.p,-.5*F.s);for(z=0;z<I.length;z++){k="funnel"===(B=(L=I[z])[0].trace).type;var N=[];for(O=0;O<L.length;O++)if((F=L[O]).s!==o){var H,X=n.put(F.p,H=k?F.s:F.s+F.b),ne=X+H;F.b=X,F[d]=ne,S.norm||(N.push(ne),F.hasB&&N.push(X))}S.norm||(B._extremes[w._id]=C.findExtremes(w,N,{tozero:!0,padded:!0}))}}(S,L,I);for(var B=0;B<d.length;B++)for(var k=d[B],z=0;z<k.length;z++){var O=k[z];O.s!==o&&O.b+O.s===L.get(O.p,O.s)&&(O._outmost=!0)}I.norm&&E(S,L,I)}(0,n,S,B,I),L.length&&i(n,S,L,I)}!function g(w,n){var I,L,B,S=M(n),d={},k=1/0,z=-1/0;for(I=0;I<w.length;I++)for(B=w[I],L=0;L<B.length;L++){var O=B[L].p;T(O)&&(k=Math.min(k,O),z=Math.max(z,O))}var F=1e4/(z-k),N=d.round=function(j){return String(Math.round(F*(j-k)))};for(I=0;I<w.length;I++){(B=w[I])[0].t.extents=d;var H=B[0].t.poffset,X=Array.isArray(H);for(L=0;L<B.length;L++){var ne=B[L],ie=ne[S]-ne.w/2;if(T(ie)){var ue=ne[S]+ne.w/2,J=N(ne.p);d[J]=d[J]?[Math.min(ie,d[J][0]),Math.max(ue,d[J][1])]:[ie,ue]}ne.p0=ne.p+(X?H[L]:H),ne.p1=ne.p0+ne.w,ne.s0=ne.b,ne.s1=ne.s0+ne.s}}}(d,n)}}function i(w,n,S,d){for(var I=0;I<S.length;I++){var B=new y([S[I]],{posAxis:w,sepNegVal:!1,overlapNoMerge:!d.norm});c(w,B,d),d.norm?(A(B),E(n,B,d)):s(n,B)}}function c(w,n,S){for(var d=n.minDiff,I=n.traces,L=d*(1-S.gap),k=L*(1-(S.groupgap||0)),z=-k/2,O=0;O<I.length;O++){var N=I[O][0].t;N.barwidth=k,N.poffset=z,N.bargroupwidth=L,N.bardelta=d}n.binWidth=I[0][0].t.barwidth/100,a(n),b(w,n),p(w,n)}function a(w){var S,d,n=w.traces;for(S=0;S<n.length;S++){var F,I=n[S],L=I[0],B=L.trace,k=L.t,z=B._offset||B.offset,O=k.poffset;if(D(z)){for(F=Array.prototype.slice.call(z,0,I.length),d=0;d<F.length;d++)T(F[d])||(F[d]=O);for(d=F.length;d<I.length;d++)F.push(O);k.poffset=F}else void 0!==z&&(k.poffset=z);var N=B._width||B.width,H=k.barwidth;if(D(N)){var X=Array.prototype.slice.call(N,0,I.length);for(d=0;d<X.length;d++)T(X[d])||(X[d]=H);for(d=X.length;d<I.length;d++)X.push(H);if(k.barwidth=X,void 0===z){for(F=[],d=0;d<I.length;d++)F.push(O+(H-X[d])/2);k.poffset=F}}else void 0!==N&&(k.barwidth=N,void 0===z&&(k.poffset=O+(H-N)/2))}}function b(w,n){for(var S=n.traces,d=M(w),I=0;I<S.length;I++)for(var L=S[I],B=L[0].t,k=B.poffset,z=Array.isArray(k),O=B.barwidth,F=Array.isArray(O),N=0;N<L.length;N++){var H=L[N],X=H.w=F?O[N]:O;void 0===H.p&&(H.p=H[d],H["orig_"+d]=H[d]),H[d]=H.p+((z?k[N]:k)+X/2)}}function p(w,n,S){var d=n.traces,L=n.minDiff/2;C.minDtick(w,n.minDiff,n.distinctPositions[0],S);for(var B=0;B<d.length;B++){var N,H,ne,k=d[B],z=k[0],O=z.trace,F=[];for(ne=0;ne<k.length;ne++)F.push(H=(N=k[ne]).p-L,N.p+L);if(O.width||O.offset){var ie=z.t,ue=ie.poffset,J=ie.barwidth,j=Array.isArray(ue),W=Array.isArray(J);for(ne=0;ne<k.length;ne++)F.push(H=(N=k[ne]).p+(j?ue[ne]:ue),H+(W?J[ne]:J))}O._extremes[w._id]=C.findExtremes(w,F,{padded:!1})}}function s(w,n){for(var S=n.traces,d=M(w),I=0;I<S.length;I++){for(var L=S[I],B=L[0].trace,k="scatter"===B.type,z="v"===B.orientation,O=[],F=!1,N=0;N<L.length;N++){var H=L[N],X=k?0:H.b,ne=k?z?H.y:H.x:X+H.s;H[d]=ne,O.push(ne),H.hasB&&O.push(X),(!H.hasB||!H.b)&&(F=!0)}B._extremes[w._id]=C.findExtremes(w,O,{tozero:F,padded:!0})}}function A(w){for(var n=w.traces,S=0;S<n.length;S++)for(var d=n[S],I=0;I<d.length;I++){var L=d[I];L.s!==o&&w.put(L.p,L.b+L.s)}}function E(w,n,S){var d=n.traces,I=M(w),L="fraction"===S.norm?1:100,B=L/1e9,k=w.l2c(w.c2l(0)),z="stack"===S.mode?L:k;function O(K){return T(w.c2l(K))&&(K<k-B||K>z+B||!T(k))}for(var F=0;F<d.length;F++){for(var N=d[F],H=N[0].trace,X=[],ne=!1,ie=!1,ue=0;ue<N.length;ue++){var J=N[ue];if(J.s!==o){var j=Math.abs(L/n.get(J.p,J.s));J.b*=j,J.s*=j;var W=J.b,V=W+J.s;J[I]=V,X.push(V),ie=ie||O(V),J.hasB&&(X.push(W),ie=ie||O(W)),(!J.hasB||!J.b)&&(ne=!0)}}H._extremes[w._id]=C.findExtremes(w,X,{tozero:ne,padded:ie})}}function M(w){return w._id.charAt(0)}te.exports={crossTraceCalc:function t(w,n){for(var S=n.xaxis,d=n.yaxis,I=w._fullLayout,L=w._fullData,B=w.calcdata,k=[],z=[],O=0;O<L.length;O++){var F=L[O];if(!0===F.visible&&P.traceIs(F,"bar")&&F.xaxis===S._id&&F.yaxis===d._id&&("h"===F.orientation?k.push(B[O]):z.push(B[O]),F._computePh))for(var N=w.calcdata[O],H=0;H<N.length;H++)"function"==typeof N[H].ph0&&(N[H].ph0=N[H].ph0()),"function"==typeof N[H].ph1&&(N[H].ph1=N[H].ph1())}var X={xCat:"category"===S.type||"multicategory"===S.type,yCat:"category"===d.type||"multicategory"===d.type,mode:I.barmode,norm:I.barnorm,gap:I.bargap,groupgap:I.bargroupgap};r(w,S,d,z,X),r(w,d,S,k,X)},setGroupPositions:r}},90769:function(te,Y,e){"use strict";var T=e(71828),D=e(7901),o=e(73972),P=e(67513),C=e(73927),h=e(98340),y=e(26125),t=e(1486),r=T.coerceFont;function u(f,c,m,a,b,p){var s=!1!==(p=p||{}).moduleHasSelected,v=!1!==p.moduleHasUnselected,A=!1!==p.moduleHasConstrain,x=!1!==p.moduleHasCliponaxis,E=!1!==p.moduleHasTextangle,g=!1!==p.moduleHasInsideanchor,M=!!p.hasPathbar,w=Array.isArray(b)||"auto"===b,n=w||"inside"===b,S=w||"outside"===b;if(n||S){var d=r(a,"textfont",m.font),I=T.extendFlat({},d),B=!(f.textfont&&f.textfont.color);if(B&&delete I.color,r(a,"insidetextfont",I),M){var k=T.extendFlat({},d);B&&delete k.color,r(a,"pathbar.textfont",k)}S&&r(a,"outsidetextfont",d),s&&a("selected.textfont.color"),v&&a("unselected.textfont.color"),A&&a("constraintext"),x&&a("cliponaxis"),E&&a("textangle"),a("texttemplate")}n&&g&&a("insidetextanchor")}te.exports={supplyDefaults:function l(f,c,m,a){function b(x,E){return T.coerce(f,c,t,x,E)}if(P(f,c,a,b)){C(f,c,a,b),b("xhoverformat"),b("yhoverformat"),b("orientation",c.x&&!c.y?"h":"v"),b("base"),b("offset"),b("width"),b("text"),b("hovertext"),b("hovertemplate");var s=b("textposition");u(f,0,a,b,s,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h(f,c,b,m,a);var v=(c.marker.line||{}).color,A=o.getComponentMethod("errorbars","supplyDefaults");A(f,c,v||D.defaultLine,{axis:"y"}),A(f,c,v||D.defaultLine,{axis:"x",inherit:"y"}),T.coerceSelectionMarkerOpacity(c,b)}else c.visible=!1},crossTraceDefaults:function i(f,c){var a;function b(s){return T.coerce(a._input,a,t,s)}if("group"===c.barmode)for(var p=0;p<f.length;p++)"bar"===(a=f[p]).type&&y(a._input,a,c,b)},handleText:u}},58065:function(te){"use strict";te.exports=function(e,T,D){return e.x="xVal"in T?T.xVal:T.x,e.y="yVal"in T?T.yVal:T.y,T.xa&&(e.xaxis=T.xa),T.ya&&(e.yaxis=T.ya),"h"===D.orientation?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(te,Y,e){"use strict";var T=e(92770),D=e(84267),o=e(71828).isArrayOrTypedArray;Y.coerceString=function(P,C,h){if("string"==typeof C){if(C||!P.noBlank)return C}else if(("number"==typeof C||!0===C)&&!P.strict)return String(C);return void 0!==h?h:P.dflt},Y.coerceNumber=function(P,C,h){if(T(C)){C=+C;var y=P.min,t=P.max;if(!(void 0!==y&&C<y||void 0!==t&&C>t))return C}return void 0!==h?h:P.dflt},Y.coerceColor=function(P,C,h){return D(C).isValid()?C:void 0!==h?h:P.dflt},Y.coerceEnumerated=function(P,C,h){return P.coerceNumber&&(C=+C),-1!==P.values.indexOf(C)?C:void 0!==h?h:P.dflt},Y.getValue=function(P,C){var h;return Array.isArray(P)?C<P.length&&(h=P[C]):h=P,h},Y.getLineWidth=function(P,C){return 0<C.mlw?C.mlw:o(P.marker.line.width)?0:P.marker.line.width}},95423:function(te,Y,e){"use strict";var T=e(30211),D=e(73972),o=e(7901),P=e(71828).fillText,C=e(69383).getLineWidth,h=e(89298).hoverLabelText,y=e(50606).BADNUM;function r(i,u,f,c,m){var E,g,M,w,n,S,d,a=i.cd,b=a[0].trace,p=a[0].t,s="closest"===c,v="waterfall"===b.type,A=i.maxHoverDistance,x=i.maxSpikeDistance;"h"===b.orientation?(E=f,g=u,M="y",w="x",n=ue,S=X):(E=u,g=f,M="x",w="y",S=ue,n=X);var I=b[M+"period"],L=s||I;function B(se){return z(se,-1)}function k(se){return z(se,1)}function z(se,de){return se[M]+de*se.w/2}function O(se){return se[M+"End"]-se[M+"Start"]}var F=s?B:I?function(se){return se.p-O(se)/2}:function(se){return Math.min(B(se),se.p-p.bardelta/2)},N=s?k:I?function(se){return se.p+O(se)/2}:function(se){return Math.max(k(se),se.p+p.bardelta/2)};function H(se,de,we){return m.finiteRange&&(we=0),T.inbox(se-E,de-E,we+Math.min(1,Math.abs(de-se)/d)-1)}function X(se){return H(F(se),N(se),A)}function ie(se){var de=se[w];if(v){var we=Math.abs(se.rawS)||0;g>0?de+=we:g<0&&(de-=we)}return de}function ue(se){var de=g,we=se.b,ye=ie(se);return T.inbox(we-de,ye-de,A+(ye-de)/(ye-we)-1)}var j=i[M+"a"],W=i[w+"a"];d=Math.abs(j.r2c(j.range[1])-j.r2c(j.range[0]));var K=T.getDistanceFunction(c,n,S,function V(se){return(n(se)+S(se))/2});if(T.getClosest(a,K,i),!1!==i.index&&a[i.index].p!==y){L||(F=function(se){return Math.min(B(se),se.p-p.bargroupwidth/2)},N=function(se){return Math.max(k(se),se.p+p.bargroupwidth/2)});var Q=a[i.index],Z=b.base?Q.b+Q.s:Q.s;i[w+"0"]=i[w+"1"]=W.c2p(Q[w],!0),i[w+"LabelVal"]=Z;var re=p.extents[p.extents.round(Q.p)];return i[M+"0"]=j.c2p(s?F(Q):re[0],!0),i[M+"1"]=j.c2p(s?N(Q):re[1],!0),i[M+"LabelVal"]=void 0!==Q.orig_p?Q.orig_p:Q.p,i.labelLabel=h(j,i[M+"LabelVal"],b[M+"hoverformat"]),i.valueLabel=h(W,i[w+"LabelVal"],b[w+"hoverformat"]),i.baseLabel=h(W,Q.b,b[w+"hoverformat"]),i.spikeDistance=(function J(se){var de=g,we=se.b,ye=ie(se);return T.inbox(we-de,ye-de,x+(ye-de)/(ye-we)-1)}(Q)+function ne(se){return H(B(se),k(se),x)}(Q))/2,i[M+"Spike"]=j.c2p(Q.p,!0),P(Q,b,i),i.hovertemplate=b.hovertemplate,i}}function l(i,u){var f=u.mcc||i.marker.color,c=u.mlcc||i.marker.line.color,m=C(i,u);return o.opacity(f)?f:o.opacity(c)&&m?c:void 0}te.exports={hoverPoints:function t(i,u,f,c,m){var a=r(i,u,f,c,m);if(a){var b=a.cd,p=b[0].trace,s=b[a.index];return a.color=l(p,s),D.getComponentMethod("errorbars","hoverInfo")(s,p,a),[a]}},hoverOnBars:r,getTraceColor:l}},60822:function(te,Y,e){"use strict";te.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(te){"use strict";te.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(te,Y,e){"use strict";var T=e(73972),D=e(89298),o=e(71828),P=e(43641);te.exports=function(C,h,y){function t(p,s){return o.coerce(C,h,P,p,s)}for(var r=!1,l=!1,i=!1,u={},f=t("barmode"),c=0;c<y.length;c++){var m=y[c];if(T.traceIs(m,"bar")&&m.visible){if(r=!0,"group"===f){var a=m.xaxis+m.yaxis;u[a]&&(i=!0),u[a]=!0}m.visible&&"histogram"===m.type&&"category"!==D.getFromId({_fullLayout:h},m["v"===m.orientation?"xaxis":"yaxis"]).type&&(l=!0)}}r?("overlay"!==f&&t("barnorm"),t("bargap",l&&!i?0:.2),t("bargroupgap")):delete h.barmode}},17295:function(te,Y,e){"use strict";var T=e(39898),D=e(92770),o=e(71828),P=e(63893),C=e(7901),h=e(91424),y=e(73972),t=e(89298).tickText,r=e(72597),l=r.recordMinTextSize,i=r.clearMinTextSize,u=e(16688),f=e(69383),c=e(97313),m=e(1486),a=m.text,b=m.textposition,p=e(23469).appendArrayPointValue,s=c.TEXTPAD;function v(F){return F.id}function x(F,N){return F<N?1:-1}function g(F,N,H,X){var ne;return!N.uniformtext.mode&&M(H)?(X&&(ne=X()),F.transition().duration(H.duration).ease(H.easing).each("end",function(){ne&&ne()}).each("interrupt",function(){ne&&ne()})):F}function M(F){return F&&F.duration>0}function S(F){return"auto"===F?0:F}function d(F,N){var H=Math.PI/180*N,X=Math.abs(Math.sin(H)),ne=Math.abs(Math.cos(H));return{x:F.width*ne+F.height*X,y:F.width*X+F.height*ne}}function I(F,N,H,X,ne,ie){var ue=!!ie.isHorizontal,J=!!ie.constrained,j=ie.angle||0,W=ie.anchor||"end",V="end"===W,K="start"===W,Q=((ie.leftToRight||0)+1)/2,Z=1-Q,re=ne.width,q=ne.height,se=Math.abs(N-F),de=Math.abs(X-H),we=se>2*s&&de>2*s?s:0;se-=2*we,de-=2*we;var ye=S(j);"auto"===j&&!(re<=se&&q<=de)&&(re>se||q>de)&&(!(re>de||q>se)||re<q!=se<de)&&(ye+=90);var Pe=d(ne,ye),Ie=1;J&&(Ie=Math.min(1,se/Pe.x,de/Pe.y));var Se=ne.left*Z+ne.right*Q,xe=(ne.top+ne.bottom)/2,Me=(F+s)*Z+(N-s)*Q,Ge=(H+X)/2,Ye=0,De=0;if(K||V){var He=(ue?Pe.x:Pe.y)/2,rt=ue?x(F,N):x(H,X);ue?K?(Me=F+rt*we,Ye=-rt*He):(Me=N-rt*we,Ye=rt*He):K?(Ge=H+rt*we,De=-rt*He):(Ge=X-rt*we,De=rt*He)}return{textX:Se,textY:xe,targetX:Me,targetY:Ge,anchorX:Ye,anchorY:De,scale:Ie,rotate:ye}}te.exports={plot:function w(F,N,H,X,ne,ie){var ue=N.xaxis,J=N.yaxis,j=F._fullLayout,W=F._context.staticPlot;ne||(ne={mode:j.barmode,norm:j.barmode,gap:j.bargap,groupgap:j.bargroupgap},i("bar",j));var V=o.makeTraceGroups(X,H,"trace bars").each(function(K){var ae=T.select(this),Q=K[0].trace,se="bar"===Q.type||"funnel"===Q.type,de=0;"waterfall"===Q.type&&Q.connector.visible&&"between"===Q.connector.mode&&(de=Q.connector.line.width/2);var we="h"===Q.orientation,ye=M(ne),Pe=o.ensureSingle(ae,"g","points"),Ie=function A(F){if(F.ids)return v}(Q),Se=Pe.selectAll("g.point").data(o.identity,Ie);Se.enter().append("g").classed("point",!0),Se.exit().remove(),Se.each(function(Me,Ge){var tt,lt,Ye=T.select(this),De=function E(F,N,H,X){var ne=[],ie=[],ue=X?N:H,J=X?H:N;return ne[0]=ue.c2p(F.s0,!0),ie[0]=J.c2p(F.p0,!0),ne[1]=ue.c2p(F.s1,!0),ie[1]=J.c2p(F.p1,!0),X?[ne,ie]:[ie,ne]}(Me,ue,J,we),He=De[0][0],rt=De[0][1],$e=De[1][0],Be=De[1][1],ze=0==(we?rt-He:Be-$e);if(ze&&se&&f.getLineWidth(Q,Me)&&(ze=!1),ze||(ze=!(D(He)&&D(rt)&&D($e)&&D(Be))),Me.isBlank=ze,ze&&(we?rt=He:Be=$e),de&&!ze&&(we?(He-=x(He,rt)*de,rt+=x(He,rt)*de):($e-=x($e,Be)*de,Be+=x($e,Be)*de)),"waterfall"===Q.type){if(!ze){var ut=Q[Me.dir].marker;tt=ut.line.width,lt=ut.color}}else tt=f.getLineWidth(Q,Me),lt=Me.mc||Q.marker.color;function xt(Re){var ke=T.round(tt/2%1,2);return 0===ne.gap&&0===ne.groupgap?T.round(Math.round(Re)-ke,2):Re}if(!F._context.staticPlot){var Je=C.opacity(lt)<1||tt>.01?xt:function bt(Re,ke,Ne){return Ne&&Re===ke?Re:Math.abs(Re-ke)>=2?xt(Re):Re>ke?Math.ceil(Re):Math.floor(Re)};He=Je(He,rt,we),rt=Je(rt,He,we),$e=Je($e,Be,!we),Be=Je(Be,$e,!we)}var Ce=g(o.ensureSingle(Ye,"path"),j,ne,ie);if(Ce.style("vector-effect",W?"none":"non-scaling-stroke").attr("d",isNaN((rt-He)*(Be-$e))||ze&&F._context.staticPlot?"M0,0Z":"M"+He+","+$e+"V"+Be+"H"+rt+"V"+$e+"Z").call(h.setClipUrl,N.layerClipId,F),!j.uniformtext.mode&&ye){var Ee=h.makePointStyleFns(Q);h.singlePointStyle(Me,Ce,Q,Ee,F)}(function n(F,N,H,X,ne,ie,ue,J,j,W,V){var Z,K=N.xaxis,ae=N.yaxis,Q=F._fullLayout;function re(Re,ke,Ne){return o.ensureSingle(Re,"text").text(ke).attr({class:"bartext bartext-"+Z,"text-anchor":"middle","data-notex":1}).call(h.font,Ne).call(P.convertToTspans,F)}var q=X[0].trace,se="h"===q.orientation,de=function B(F,N,H,X,ne){var J,ie=N[0].trace;return J=ie.texttemplate?function z(F,N,H,X,ne){var ie=N[0].trace,ue=o.castOption(ie,H,"texttemplate");if(!ue)return"";var K,ae,Q,Z,J="histogram"===ie.type,j="waterfall"===ie.type,W="funnel"===ie.type,V="h"===ie.orientation;function q(Ie){return t(Z,Z.c2l(Ie),!0).text}V?(K="y",ae=ne,Q="x",Z=X):(K="x",ae=X,Q="y",Z=ne);var se=N[H],de={};de.label=se.p,de.labelLabel=de[K+"Label"]=function re(Ie){return t(ae,ae.c2l(Ie),!0).text}(se.p);var we=o.castOption(ie,se.i,"text");(0===we||we)&&(de.text=we),de.value=se.s,de.valueLabel=de[Q+"Label"]=q(se.s);var ye={};p(ye,ie,se.i),(J||void 0===ye.x)&&(ye.x=V?de.value:de.label),(J||void 0===ye.y)&&(ye.y=V?de.label:de.value),(J||void 0===ye.xLabel)&&(ye.xLabel=V?de.valueLabel:de.labelLabel),(J||void 0===ye.yLabel)&&(ye.yLabel=V?de.labelLabel:de.valueLabel),j&&(de.delta=+se.rawS||se.s,de.deltaLabel=q(de.delta),de.final=se.v,de.finalLabel=q(de.final),de.initial=de.final-de.delta,de.initialLabel=q(de.initial)),W&&(de.value=se.s,de.valueLabel=q(de.value),de.percentInitial=se.begR,de.percentInitialLabel=o.formatPercent(se.begR),de.percentPrevious=se.difR,de.percentPreviousLabel=o.formatPercent(se.difR),de.percentTotal=se.sumR,de.percenTotalLabel=o.formatPercent(se.sumR));var Pe=o.castOption(ie,se.i,"customdata");return Pe&&(de.customdata=Pe),o.texttemplateString(ue,de,F._d3locale,ye,de,ie._meta||{})}(F,N,H,X,ne):ie.textinfo?function O(F,N,H,X){var ne=F[0].trace,ie="h"===ne.orientation,ue="waterfall"===ne.type,J="funnel"===ne.type;function W(Pe){return t(ie?H:X,+Pe,!0).text}var Z,K=F[N],ae=ne.textinfo.split("+"),Q=[],re=function(Pe){return-1!==ae.indexOf(Pe)};if(re("label")&&Q.push(function j(Pe){return t(ie?X:H,Pe,!0).text}(F[N].p)),re("text")&&((0===(Z=o.castOption(ne,K.i,"text"))||Z)&&Q.push(Z)),ue){var q=+K.rawS||K.s,se=K.v,de=se-q;re("initial")&&Q.push(W(de)),re("delta")&&Q.push(W(q)),re("final")&&Q.push(W(se))}if(J){re("value")&&Q.push(W(K.s));var we=0;re("percent initial")&&we++,re("percent previous")&&we++,re("percent total")&&we++;var ye=we>1;re("percent initial")&&(Z=o.formatPercent(K.begR),ye&&(Z+=" of initial"),Q.push(Z)),re("percent previous")&&(Z=o.formatPercent(K.difR),ye&&(Z+=" of previous"),Q.push(Z)),re("percent total")&&(Z=o.formatPercent(K.sumR),ye&&(Z+=" of total"),Q.push(Z))}return Q.join("<br>")}(N,H,X,ne):f.getValue(ie.text,H),f.coerceString(a,J)}(Q,X,ne,K,ae);Z=function k(F,N){var H=f.getValue(F.textposition,N);return f.coerceEnumerated(b,H)}(q,ne);var ye=X[ne],Pe=!("stack"===W.mode||"relative"===W.mode)||ye._outmost;if(de&&"none"!==Z&&(!ye.isBlank&&ie!==ue&&J!==j||"auto"!==Z&&"inside"!==Z)){var Ie=Q.font,Se=u.getBarColor(X[ne],q),xe=u.getInsideTextFont(q,ne,Ie,Se),Me=u.getOutsideTextFont(q,ne,Ie),Ge=H.datum();se?"log"===K.type&&Ge.s0<=0&&(ie=K.range[0]<K.range[1]?0:K._length):"log"===ae.type&&Ge.s0<=0&&(J=ae.range[0]<ae.range[1]?ae._length:0);var He,rt,$e,Be,ze,Ye=Math.abs(ue-ie)-2*s,De=Math.abs(j-J)-2*s;if("outside"===Z&&!Pe&&!ye.hasB&&(Z="inside"),"auto"===Z&&(Pe?(Z="inside",He=re(H,de,ze=o.ensureUniformFontSize(F,xe)),Be=(rt=h.bBox(He.node())).height,($e=rt.width)>0&&Be>0&&($e<=Ye&&Be<=De||$e<=De&&Be<=Ye||(se?Ye>=$e*(De/Be):De>=Be*(Ye/$e)))?Z="inside":(Z="outside",He.remove(),He=null)):Z="inside"),!He){var bt=(He=re(H,de,ze=o.ensureUniformFontSize(F,"outside"===Z?Me:xe))).attr("transform");if(He.attr("transform",""),$e=(rt=h.bBox(He.node())).width,Be=rt.height,He.attr("transform",bt),$e<=0||Be<=0)return void He.remove()}var Je,Ht=q.textangle;"outside"===Z?Je=function L(F,N,H,X,ne,ie){var Q,ue=!!ie.isHorizontal,J=!!ie.constrained,j=ie.angle||0,W=ne.width,V=ne.height,K=Math.abs(N-F),ae=Math.abs(X-H);Q=ue?ae>2*s?s:0:K>2*s?s:0;var Z=1;J&&(Z=ue?Math.min(1,ae/V):Math.min(1,K/W));var re=S(j),q=d(ne,re),se=(ue?q.x:q.y)/2,de=(ne.left+ne.right)/2,we=(ne.top+ne.bottom)/2,ye=(F+N)/2,Pe=(H+X)/2,Ie=0,Se=0,xe=ue?x(N,F):x(H,X);return ue?(ye=N-xe*Q,Ie=xe*se):(Pe=X+xe*Q,Se=-xe*se),{textX:de,textY:we,targetX:ye,targetY:Pe,anchorX:Ie,anchorY:Se,scale:Z,rotate:re}}(ie,ue,J,j,rt,{isHorizontal:se,constrained:"both"===q.constraintext||"outside"===q.constraintext,angle:Ht}):Je=I(ie,ue,J,j,rt,{isHorizontal:se,constrained:"both"===q.constraintext||"inside"===q.constraintext,angle:Ht,anchor:q.insidetextanchor}),Je.fontSize=ze.size,l("histogram"===q.type?"bar":q.type,Je,Q),ye.transform=Je;var Ee=g(He,Q,W,V);o.setTransormAndDisplay(Ee,Je)}else H.select("text").remove()})(F,N,Ye,K,Ge,He,rt,$e,Be,ne,ie),N.layerClipId&&h.hideOutsideRangePoint(Me,Ye.select("text"),ue,J,Q.xcalendar,Q.ycalendar)}),h.setClipUrl(ae,!1===Q.cliponaxis?null:N.layerClipId,F)});y.getComponentMethod("errorbars","plot")(F,V,N,ne)},toMoveInsideBar:I}},81974:function(te){"use strict";function Y(e,T,D,o,P){var C=T.c2p(o?e.s0:e.p0,!0),h=T.c2p(o?e.s1:e.p1,!0),y=D.c2p(o?e.p0:e.s0,!0),t=D.c2p(o?e.p1:e.s1,!0);return P?[(C+h)/2,(y+t)/2]:o?[h,(y+t)/2]:[(C+h)/2,t]}te.exports=function(T,D){var l,o=T.cd,P=T.xaxis,C=T.yaxis,h=o[0].trace,y="funnel"===h.type,t="h"===h.orientation,r=[];if(!1===D)for(l=0;l<o.length;l++)o[l].selected=0;else for(l=0;l<o.length;l++){var i=o[l],u="ct"in i?i.ct:Y(i,P,C,t,y);D.contains(u,!1,l,T)?(r.push({pointNumber:l,x:P.c2d(i.x),y:C.c2d(i.y)}),i.selected=1):i.selected=0}return r}},61546:function(te,Y,e){"use strict";te.exports=D;var T=e(71828).distinctVals;function D(o,P){this.traces=o,this.sepNegVal=P.sepNegVal,this.overlapNoMerge=P.overlapNoMerge;for(var C=1/0,h=P.posAxis._id.charAt(0),y=[],t=0;t<o.length;t++){for(var r=o[t],l=0;l<r.length;l++){var i=r[l],u=i.p;void 0===u&&(u=i[h]),void 0!==u&&y.push(u)}r[0]&&r[0].width1&&(C=Math.min(r[0].width1,C))}this.positions=y;var f=T(y);this.distinctPositions=f.vals,this.minDiff=1===f.vals.length&&C!==1/0?C:Math.min(f.minDiff,C);var c=(P.posAxis||{}).type;("category"===c||"multicategory"===c)&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}D.prototype.put=function(P,C){var h=this.getLabel(P,C),y=this.bins[h]||0;return this.bins[h]=y+C,y},D.prototype.get=function(P,C){var h=this.getLabel(P,C);return this.bins[h]||0},D.prototype.getLabel=function(P,C){return(C<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?P:Math.round(P/this.binWidth))}},16688:function(te,Y,e){"use strict";var T=e(39898),D=e(7901),o=e(91424),P=e(71828),C=e(73972),h=e(72597).resizeText,y=e(1486),t=y.textfont,r=y.insidetextfont,l=y.outsidetextfont,i=e(69383);function f(g,M,w){o.pointStyle(g.selectAll("path"),M,w),c(g,M,w)}function c(g,M,w){g.selectAll("text").each(function(n){var S=T.select(this),d=P.ensureUniformFontSize(w,p(S,n,M,w));o.font(S,d)})}function p(g,M,w,n){var S=n._fullLayout.font,d=w.textfont;if(g.classed("bartext-inside")){var I=E(M,w);d=v(w,M.i,S,I)}else g.classed("bartext-outside")&&(d=A(w,M.i,S));return d}function s(g,M,w){return x(t,g.textfont,M,w)}function v(g,M,w,n){var S=s(g,M,w);return(void 0===g._input.textfont||void 0===g._input.textfont.color||Array.isArray(g.textfont.color)&&void 0===g.textfont.color[M])&&(S={color:D.contrast(n),family:S.family,size:S.size}),x(r,g.insidetextfont,M,S)}function A(g,M,w){var n=s(g,M,w);return x(l,g.outsidetextfont,M,n)}function x(g,M,w,n){var S=i.getValue((M=M||{}).family,w),d=i.getValue(M.size,w),I=i.getValue(M.color,w);return{family:i.coerceString(g.family,S,n.family),size:i.coerceNumber(g.size,d,n.size),color:i.coerceColor(g.color,I,n.color)}}function E(g,M){return"waterfall"===M.type?M[g.dir].marker.color:g.mcc||g.mc||M.marker.color}te.exports={style:function u(g){var M=T.select(g).selectAll("g.barlayer").selectAll("g.trace");h(g,M,"bar");var w=M.size(),n=g._fullLayout;M.style("opacity",function(S){return S[0].trace.opacity}).each(function(S){("stack"===n.barmode&&w>1||0===n.bargap&&0===n.bargroupgap&&!S[0].trace.marker.line.width)&&T.select(this).attr("shape-rendering","crispEdges")}),M.selectAll("g.points").each(function(S){f(T.select(this),S[0].trace,g)}),C.getComponentMethod("errorbars","style")(M)},styleTextPoints:c,styleOnSelect:function m(g,M,w){var n=M[0].trace;n.selectedpoints?function a(g,M,w){o.selectedPointStyle(g.selectAll("path"),M),function b(g,M,w){g.each(function(n){var d,S=T.select(this);if(n.selected){d=P.ensureUniformFontSize(w,p(S,n,M,w));var I=M.selected.textfont&&M.selected.textfont.color;I&&(d.color=I),o.font(S,d)}else o.selectedTextStyle(S,M)})}(g.selectAll("text"),M,w)}(w,n,g):(f(w,n,g),C.getComponentMethod("errorbars","style")(w))},getInsideTextFont:v,getOutsideTextFont:A,getBarColor:E,resizeText:h}},98340:function(te,Y,e){"use strict";var T=e(7901),D=e(52075).hasColorscale,o=e(1586),P=e(71828).coercePattern;te.exports=function(h,y,t,r,l){var i=t("marker.color",r),u=D(h,"marker");u&&o(h,y,l,t,{prefix:"marker.",cLetter:"c"}),t("marker.line.color",T.defaultLine),D(h,"marker.line")&&o(h,y,l,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width"),t("marker.opacity"),P(t,"marker.pattern",i,u),t("selected.marker.color"),t("unselected.marker.color")}},72597:function(te,Y,e){"use strict";var T=e(39898),D=e(71828);function h(y){return"_"+y+"Text_minsize"}te.exports={recordMinTextSize:function P(y,t,r){if(r.uniformtext.mode){var l=h(y),i=r.uniformtext.minsize,u=t.scale*t.fontSize;t.hide=u<i,r[l]=r[l]||1/0,t.hide||(r[l]=Math.min(r[l],Math.max(u,i)))}},clearMinTextSize:function C(y,t){t[h(y)]=void 0},resizeText:function o(y,t,r){var l=y._fullLayout,i=l["_"+r+"Text_minsize"];if(i){var f,u="hide"===l.uniformtext.mode;switch(r){case"funnelarea":case"pie":case"sunburst":f="g.slice";break;case"treemap":case"icicle":f="g.slice, g.pathbar";break;default:f="g.points > g.point"}t.selectAll(f).each(function(c){var m=c.transform;if(m){m.scale=u&&m.hide?0:i/m.fontSize;var a=T.select(this).select("text");D.setTransormAndDisplay(a,m)}})}}}},55023:function(te,Y,e){"use strict";var T=e(5386).fF,D=e(1426).extendFlat,o=e(81245),P=e(1486);te.exports={r:o.r,theta:o.theta,r0:o.r0,dr:o.dr,theta0:o.theta0,dtheta:o.dtheta,thetaunit:o.thetaunit,base:D({},P.base,{}),offset:D({},P.offset,{}),width:D({},P.width,{}),text:D({},P.text,{}),hovertext:D({},P.hovertext,{}),marker:P.marker,hoverinfo:o.hoverinfo,hovertemplate:T(),selected:P.selected,unselected:P.unselected}},74692:function(te,Y,e){"use strict";var T=e(52075).hasColorscale,D=e(78803),o=e(75341),P=e(11661).setGroupPositions,C=e(66279),h=e(73972).traceIs,y=e(71828).extendFlat;te.exports={calc:function t(l,i){for(var u=l._fullLayout,f=i.subplot,m=u[f].angularaxis,a=u[f].radialaxis.makeCalcdata(i,"r"),b=m.makeCalcdata(i,"theta"),p=i._length,s=new Array(p),v=a,A=b,x=0;x<p;x++)s[x]={p:A[x],s:v[x]};function E(g){var M=i[g];void 0!==M&&(i["_"+g]=Array.isArray(M)?m.makeCalcdata(i,g):m.d2c(M,i.thetaunit))}return"linear"===m.type&&(E("width"),E("offset")),T(i,"marker")&&D(l,i,{vals:i.marker.color,containerStr:"marker",cLetter:"c"}),T(i,"marker.line")&&D(l,i,{vals:i.marker.line.color,containerStr:"marker.line",cLetter:"c"}),o(s,i),C(s,i),s},crossTraceCalc:function r(l,i,u){for(var f=l.calcdata,c=[],m=0;m<f.length;m++){var a=f[m],b=a[0].trace;!0===b.visible&&h(b,"bar")&&b.subplot===u&&c.push(a)}var p=y({},i.radialaxis,{_id:"x"});P(l,i.angularaxis,p,c,{mode:i.barmode,norm:i.barnorm,gap:i.bargap,groupgap:i.bargroupgap})}}},6135:function(te,Y,e){"use strict";var T=e(71828),D=e(22184).handleRThetaDefaults,o=e(98340),P=e(55023);te.exports=function(h,y,t,r){function l(u,f){return T.coerce(h,y,P,u,f)}D(h,y,r,l)?(l("thetaunit"),l("base"),l("offset"),l("width"),l("text"),l("hovertext"),l("hovertemplate"),o(h,y,l,t,r),T.coerceSelectionMarkerOpacity(y,l)):y.visible=!1}},27379:function(te,Y,e){"use strict";var T=e(30211),D=e(71828),o=e(95423).getTraceColor,P=D.fillText,C=e(59150).makeHoverPointText,h=e(10869).isPtInsidePolygon;te.exports=function(t,r,l){var i=t.cd,u=i[0].trace,f=t.subplot,c=f.radialAxis,a=f.vangles,b=a?h:D.isPtInsideSector,p=t.maxHoverDistance,s=f.angularAxis._period||2*Math.PI,v=Math.abs(c.g2p(Math.sqrt(r*r+l*l))),A=Math.atan2(l,r);if(c.range[0]>c.range[1]&&(A+=Math.PI),T.getClosest(i,function(w){return b(v,A,[w.rp0,w.rp1],[w.thetag0,w.thetag1],a)?p+Math.min(1,Math.abs(w.thetag1-w.thetag0)/s)-1+(w.rp1-v)/(w.rp1-w.rp0)-1:1/0},t),!1!==t.index){var g=i[t.index];t.x0=t.x1=g.ct[0],t.y0=t.y1=g.ct[1];var M=D.extendFlat({},g,{r:g.s,theta:g.p});return P(g,u,t),C(M,u,f,t),t.hovertemplate=u.hovertemplate,t.color=o(u,g),t.xLabelVal=t.yLabelVal=void 0,g.s<0&&(t.idealAlign="left"),[t]}}},23381:function(te,Y,e){"use strict";te.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(te){"use strict";te.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(te,Y,e){"use strict";var T=e(71828),D=e(40151);te.exports=function(o,P,C){var y,h={};function t(i,u){return T.coerce(o[y]||{},P[y],D,i,u)}for(var r=0;r<C.length;r++){var l=C[r];"barpolar"===l.type&&!0===l.visible&&(h[y=l.subplot]||(t("barmode"),t("bargap"),h[y]=1))}}},60173:function(te,Y,e){"use strict";var T=e(39898),D=e(92770),o=e(71828),P=e(91424),C=e(10869);te.exports=function(t,r,l){var i=t._context.staticPlot,u=r.xaxis,f=r.yaxis,c=r.radialAxis,m=r.angularAxis,a=function h(y){var t=y.cxx,r=y.cyy;return y.vangles?function(l,i,u,f){var c,m;o.angleDelta(u,f)>0?(c=u,m=f):(c=f,m=u);var a=C.findEnclosingVertexAngles(c,y.vangles)[0],b=C.findEnclosingVertexAngles(m,y.vangles)[1];return C.pathPolygonAnnulus(l,i,c,m,[a,(c+m)/2,b],t,r)}:function(l,i,u,f){return o.pathAnnulus(l,i,u,f,t,r)}}(r),b=r.layers.frontplot.select("g.barlayer");o.makeTraceGroups(b,l,"trace bars").each(function(){var p=T.select(this),v=o.ensureSingle(p,"g","points").selectAll("g.point").data(o.identity);v.enter().append("g").style("vector-effect",i?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),v.exit().remove(),v.each(function(A){var n,x=T.select(this),E=A.rp0=c.c2p(A.s0),g=A.rp1=c.c2p(A.s1),M=A.thetag0=m.c2g(A.p0),w=A.thetag1=m.c2g(A.p1);if(D(E)&&D(g)&&D(M)&&D(w)&&E!==g&&M!==w){var S=c.c2g(A.s1),d=(M+w)/2;A.ct=[u.c2p(S*Math.cos(d)),f.c2p(S*Math.sin(d))],n=a(E,g,M,w)}else n="M0,0Z";o.ensureSingle(x,"path").attr("d",n)}),P.setClipUrl(p,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,t)})}},53522:function(te,Y,e){"use strict";var T=e(82196),D=e(1486),o=e(22399),P=e(12663).axisHoverFormat,C=e(5386).fF,h=e(1426).extendFlat,y=T.marker,t=y.line;te.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:T.xperiod,yperiod:T.yperiod,xperiod0:T.xperiod0,yperiod0:T.yperiod0,xperiodalignment:T.xperiodalignment,yperiodalignment:T.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:h({},y.symbol,{arrayOk:!1,editType:"plot"}),opacity:h({},y.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:h({},y.angle,{arrayOk:!1,editType:"calc"}),size:h({},y.size,{arrayOk:!1,editType:"calc"}),color:h({},y.color,{arrayOk:!1,editType:"style"}),line:{color:h({},t.color,{arrayOk:!1,dflt:o.defaultLine,editType:"style"}),width:h({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:T.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:D.offsetgroup,alignmentgroup:D.alignmentgroup,selected:{marker:T.selected.marker,editType:"style"},unselected:{marker:T.unselected.marker,editType:"style"},text:h({},T.text,{}),hovertext:h({},T.hovertext,{}),hovertemplate:C({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(te,Y,e){"use strict";var T=e(92770),D=e(89298),o=e(42973),P=e(71828),C=e(50606).BADNUM,h=P._;te.exports=function(A,x){var S,d,I,L,B,k,z,E=A._fullLayout,g=D.getFromId(A,x.xaxis||"x"),M=D.getFromId(A,x.yaxis||"y"),w=[],n="violin"===x.type?"_numViolins":"_numBoxes";"h"===x.orientation?(I=g,L="x",B=M,k="y",z=!!x.yperiodalignment):(I=M,L="y",B=g,k="x",z=!!x.xperiodalignment);var ie,ue,J,j,W,V,O=function y(v,A,x,E){var d,M=A+"0"in v;if(A in v||M&&"d"+A in v){var n=x.makeCalcdata(v,A);return[o(v,x,A,n).vals,n]}d=M?v[A+"0"]:"name"in v&&("category"===x.type||T(v.name)&&-1!==["linear","log"].indexOf(x.type)||P.isDateTime(v.name)&&"date"===x.type)?v.name:E;for(var I="multicategory"===x.type?x.r2c_just_indices(d):x.d2c(d,0,v[A+"calendar"]),L=v._length,B=new Array(L),k=0;k<L;k++)B[k]=I;return[B]}(x,k,B,E[n]),F=O[0],N=O[1],H=P.distinctVals(F,B),X=H.vals,ne=H.minDiff/2,K="all"===(x.boxpoints||x.points)?P.identity:function(bt){return bt.v<ie.lf||bt.v>ie.uf};if(x._hasPreCompStats){var ae=x[L],Q=function(bt){return I.d2c((x[bt]||[])[S])},Z=1/0,re=-1/0;for(S=0;S<x._length;S++){var q=F[S];if(T(q)){if((ie={}).pos=ie[k]=q,z&&N&&(ie.orig_p=N[S]),ie.q1=Q("q1"),ie.med=Q("median"),ie.q3=Q("q3"),ue=[],ae&&P.isArrayOrTypedArray(ae[S]))for(d=0;d<ae[S].length;d++)(V=I.d2c(ae[S][d]))!==C&&(i(W={v:V,i:[S,d]},x,[S,d]),ue.push(W));if(ie.pts=ue.sort(f),j=(J=ie[L]=ue.map(c)).length,ie.med!==C&&ie.q1!==C&&ie.q3!==C&&ie.med>=ie.q1&&ie.q3>=ie.med){var se=Q("lowerfence");ie.lf=se!==C&&se<=ie.q1?se:m(ie,J,j);var de=Q("upperfence");ie.uf=de!==C&&de>=ie.q3?de:a(ie,J,j);var we=Q("mean");ie.mean=we!==C?we:j?P.mean(J,j):(ie.q1+ie.q3)/2;var ye=Q("sd");ie.sd=we!==C&&ye>=0?ye:j?P.stdev(J,j,ie.mean):ie.q3-ie.q1,ie.lo=b(ie),ie.uo=p(ie);var Pe=Q("notchspan");Pe=Pe!==C&&Pe>0?Pe:s(ie,j),ie.ln=ie.med-Pe,ie.un=ie.med+Pe;var Ie=ie.lf,Se=ie.uf;x.boxpoints&&J.length&&(Ie=Math.min(Ie,J[0]),Se=Math.max(Se,J[j-1])),x.notched&&(Ie=Math.min(Ie,ie.ln),Se=Math.max(Se,ie.un)),ie.min=Ie,ie.max=Se}else{var xe;P.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ie.q1,"median = "+ie.med,"q3 = "+ie.q3].join("\n")),ie.med=xe=ie.med!==C?ie.med:ie.q1!==C?ie.q3!==C?(ie.q1+ie.q3)/2:ie.q1:ie.q3!==C?ie.q3:0,ie.q1=ie.q3=xe,ie.lf=ie.uf=xe,ie.mean=ie.sd=xe,ie.ln=ie.un=xe,ie.min=ie.max=xe}Z=Math.min(Z,ie.min),re=Math.max(re,ie.max),ie.pts2=ue.filter(K),w.push(ie)}}x._extremes[I._id]=D.findExtremes(I,[Z,re],{padded:!0})}else{var Me=I.makeCalcdata(x,L),Ge=function t(v,A){for(var x=v.length,E=new Array(x+1),g=0;g<x;g++)E[g]=v[g]-A;return E[x]=v[x-1]+A,E}(X,ne),Ye=X.length,De=function r(v){for(var A=new Array(v),x=0;x<v;x++)A[x]=[];return A}(Ye);for(S=0;S<x._length;S++)if(T(V=Me[S])){var He=P.findBin(F[S],Ge);He>=0&&He<Ye&&(i(W={v:V,i:S},x,S),De[He].push(W))}var rt=1/0,$e=-1/0,Be=x.quartilemethod,ze="exclusive"===Be,tt="inclusive"===Be;for(S=0;S<Ye;S++)if(De[S].length>0){var lt,ut;(ie={}).pos=ie[k]=X[S],ue=ie.pts=De[S].sort(f),j=(J=ie[L]=ue.map(c)).length,ie.min=J[0],ie.max=J[j-1],ie.mean=P.mean(J,j),ie.sd=P.stdev(J,j,ie.mean)*x.sdmultiple,ie.med=P.interp(J,.5),j%2&&(ze||tt)?(ze?(lt=J.slice(0,j/2),ut=J.slice(j/2+1)):tt&&(lt=J.slice(0,j/2+1),ut=J.slice(j/2)),ie.q1=P.interp(lt,.5),ie.q3=P.interp(ut,.5)):(ie.q1=P.interp(J,.25),ie.q3=P.interp(J,.75)),ie.lf=m(ie,J,j),ie.uf=a(ie,J,j),ie.lo=b(ie),ie.uo=p(ie);var xt=s(ie,j);ie.ln=ie.med-xt,ie.un=ie.med+xt,rt=Math.min(rt,ie.ln),$e=Math.max($e,ie.un),ie.pts2=ue.filter(K),w.push(ie)}x._extremes[I._id]=D.findExtremes(I,x.notched?Me.concat([rt,$e]):Me,{padded:!0})}return function u(v,A){if(P.isArrayOrTypedArray(A.selectedpoints))for(var x=0;x<v.length;x++){for(var E=v[x].pts||[],g={},M=0;M<E.length;M++)g[E[M].i]=M;P.tagSelected(E,A,g)}}(w,x),w.length>0?(w[0].t={num:E[n],dPos:ne,posLetter:k,valLetter:L,labels:{med:h(A,"median:"),min:h(A,"min:"),q1:h(A,"q1:"),q3:h(A,"q3:"),max:h(A,"max:"),mean:"sd"===x.boxmean||"sd"===x.sizemode?h(A,"mean \xb1 \u03c3:").replace("\u03c3",1===x.sdmultiple?"\u03c3":x.sdmultiple+"\u03c3"):h(A,"mean:"),lf:h(A,"lower fence:"),uf:h(A,"upper fence:")}},E[n]++,w):[{t:{empty:!0}}]};var l={text:"tx",hovertext:"htx"};function i(v,A,x){for(var E in l)P.isArrayOrTypedArray(A[E])&&(Array.isArray(x)?P.isArrayOrTypedArray(A[E][x[0]])&&(v[l[E]]=A[E][x[0]][x[1]]):v[l[E]]=A[E][x])}function f(v,A){return v.v-A.v}function c(v){return v.v}function m(v,A,x){return 0===x?v.q1:Math.min(v.q1,A[Math.min(P.findBin(2.5*v.q1-1.5*v.q3,A,!0)+1,x-1)])}function a(v,A,x){return 0===x?v.q3:Math.max(v.q3,A[Math.max(P.findBin(2.5*v.q3-1.5*v.q1,A),0)])}function b(v){return 4*v.q1-3*v.q3}function p(v){return 4*v.q3-3*v.q1}function s(v,A){return 0===A?0:1.57*(v.q3-v.q1)/Math.sqrt(A)}},37188:function(te,Y,e){"use strict";var T=e(89298),D=e(71828),o=e(99082).getAxisGroup,P=["v","h"];function h(y,t,r,l){var m,a,b,i=t.calcdata,u=t._fullLayout,f=l._id,c=f.charAt(0),p=[],s=0;for(m=0;m<r.length;m++)for(b=i[r[m]],a=0;a<b.length;a++)p.push(l.c2l(b[a].pos,!0)),s+=(b[a].pts2||[]).length;if(p.length){var v=D.distinctVals(p);("category"===l.type||"multicategory"===l.type)&&(v.minDiff=1);var A=v.minDiff/2;T.minDtick(l,v.minDiff,v.vals[0],!0);var E=u["violin"===y?"_numViolins":"_numBoxes"],g="group"===u[y+"mode"]&&E>1,M=1-u[y+"gap"],w=1-u[y+"groupgap"];for(m=0;m<r.length;m++){var L,B,k,z,n=(b=i[r[m]])[0].trace,S=b[0].t,d=n.width,I=n.side;if(d)L=B=z=d/2,k=0;else if(L=A,g){var O=o(u,l._id)+n.orientation,H=Object.keys(((u._alignmentOpts[O]||{})[n.alignmentgroup]||{}).offsetGroups||{}).length,X=H||E;B=L*M*w/X,k=2*L*(((H?n._offsetIndex:S.num)+.5)/X-.5)*M,z=L*M/X}else B=L*M*w,k=0,z=L;S.dPos=L,S.bPos=k,S.bdPos=B,S.wHover=z;var ie,ue,j,W,V,K,ae,Q,J=k+B,Z=!!d;if("positive"===I?(ie=L*(d?1:.5),j=J,ue=j=k):"negative"===I?(ie=j=k,ue=L*(d?1:.5),W=J):(ie=ue=L,j=W=J),(n.boxpoints||n.points)&&s>0){var q=n.pointpos,se=n.jitter,de=n.marker.size/2,we=0;q+se>=0&&((we=J*(q+se))>ie?(Z=!0,ae=de,V=we):we>j&&(ae=de,V=ie)),we<=ie&&(V=ie);var ye=0;q-se<=0&&((ye=-J*(q-se))>ue?(Z=!0,Q=de,K=ye):ye>W&&(Q=de,K=ue)),ye<=ue&&(K=ue)}else V=ie,K=ue;var Pe=new Array(b.length);for(a=0;a<b.length;a++)Pe[a]=b[a].pos;n._extremes[f]=T.findExtremes(l,Pe,{padded:Z,vpadminus:K,vpadplus:V,vpadLinearized:!0,ppadminus:{x:Q,y:ae}[c],ppadplus:{x:ae,y:Q}[c]})}}}te.exports={crossTraceCalc:function C(y,t){for(var r=y.calcdata,l=t.xaxis,i=t.yaxis,u=0;u<P.length;u++){for(var f=P[u],c="h"===f?i:l,m=[],a=0;a<r.length;a++){var b=r[a],s=b[0].trace;!0===s.visible&&("box"===s.type||"candlestick"===s.type)&&!b[0].t.empty&&(s.orientation||"v")===f&&s.xaxis===l._id&&s.yaxis===i._id&&m.push(a)}h("box",y,m,c)}},setPositionOffset:h}},36411:function(te,Y,e){"use strict";var T=e(71828),D=e(73972),o=e(7901),P=e(73927),C=e(26125),h=e(4322),y=e(53522);function r(u,f,c,m){function a(H){var X=0;return H&&H.length&&(X+=1,T.isArrayOrTypedArray(H[0])&&H[0].length&&(X+=1)),X}function b(H){return T.validate(u[H],y[H])}var v,p=c("y"),s=c("x");if("box"===f.type){var A=c("q1"),x=c("median"),E=c("q3");f._hasPreCompStats=A&&A.length&&x&&x.length&&E&&E.length,v=Math.min(T.minRowLength(A),T.minRowLength(x),T.minRowLength(E))}var I,L,g=a(p),M=a(s),w=g&&T.minRowLength(p),n=M&&T.minRowLength(s),S=m.calendar,d={autotypenumbers:m.autotypenumbers};if(f._hasPreCompStats)switch(String(M)+String(g)){case"00":var B=b("x0")||b("dx");I=!b("y0")&&!b("dy")||B?"v":"h",L=v;break;case"10":I="v",L=Math.min(v,n);break;case"20":I="h",L=Math.min(v,s.length);break;case"01":I="h",L=Math.min(v,w);break;case"02":I="v",L=Math.min(v,p.length);break;case"12":I="v",L=Math.min(v,n,p.length);break;case"21":I="h",L=Math.min(v,s.length,w);break;case"11":L=0;break;case"22":var O,z=!1;for(O=0;O<s.length;O++)if("category"===h(s[O],S,d)){z=!0;break}if(z)I="v",L=Math.min(v,n,p.length);else{for(O=0;O<p.length;O++)if("category"===h(p[O],S,d)){z=!0;break}z?(I="h",L=Math.min(v,s.length,w)):(I="v",L=Math.min(v,n,p.length))}}else g>0?(I="v",L=M>0?Math.min(n,w):Math.min(w)):M>0?(I="h",L=Math.min(n)):L=0;if(L){f._length=L;var F=c("orientation",I);f._hasPreCompStats?"v"===F&&0===M?(c("x0",0),c("dx",1)):"h"===F&&0===g&&(c("y0",0),c("dy",1)):"v"===F&&0===M?c("x0"):"h"===F&&0===g&&c("y0"),D.getComponentMethod("calendars","handleTraceDefaults")(u,f,["x","y"],m)}else f.visible=!1}function l(u,f,c,m){var a=m.prefix,b=T.coerce2(u,f,y,"marker.outliercolor"),p=c("marker.line.outliercolor"),s="outliers";f._hasPreCompStats?s="all":(b||p)&&(s="suspectedoutliers");var v=c(a+"points",s);v?(c("jitter","all"===v?.3:0),c("pointpos","all"===v?-1.5:0),c("marker.symbol"),c("marker.opacity"),c("marker.size"),c("marker.angle"),c("marker.color",f.line.color),c("marker.line.color"),c("marker.line.width"),"suspectedoutliers"===v&&(c("marker.line.outliercolor",f.marker.color),c("marker.line.outlierwidth")),c("selected.marker.color"),c("unselected.marker.color"),c("selected.marker.size"),c("unselected.marker.size"),c("text"),c("hovertext")):delete f.marker;var A=c("hoveron");("all"===A||-1!==A.indexOf("points"))&&c("hovertemplate"),T.coerceSelectionMarkerOpacity(f,c)}te.exports={supplyDefaults:function t(u,f,c,m){function a(w,n){return T.coerce(u,f,y,w,n)}if(r(u,f,a,m),!1!==f.visible){P(u,f,m,a),a("xhoverformat"),a("yhoverformat");var b=f._hasPreCompStats;b&&(a("lowerfence"),a("upperfence")),a("line.color",(u.marker||{}).color||c),a("line.width"),a("fillcolor",o.addOpacity(f.line.color,.5));var p=!1;if(b){var s=a("mean"),v=a("sd");s&&s.length&&(p=!0,v&&v.length&&(p="sd"))}a("whiskerwidth");var x,A=a("sizemode");"quartiles"===A&&(x=a("boxmean",p)),a("showwhiskers","quartiles"===A),("sd"===A||"sd"===x)&&a("sdmultiple"),a("width"),a("quartilemethod");var E=!1;if(b){var g=a("notchspan");g&&g.length&&(E=!0)}else T.validate(u.notchwidth,y.notchwidth)&&(E=!0);a("notched",E)&&a("notchwidth"),l(u,f,a,{prefix:"box"})}},crossTraceDefaults:function i(u,f){var m;function a(s){return T.coerce(m._input,m,y,s)}for(var b=0;b<u.length;b++){var p=(m=u[b]).type;("box"===p||"violin"===p)&&"group"===f[p+"mode"]&&C(m._input,m,f,a)}},handleSampleDefaults:r,handlePointsDefaults:l}},74907:function(te){"use strict";te.exports=function(e,T){return T.hoverOnBox&&(e.hoverOnBox=T.hoverOnBox),"xVal"in T&&(e.x=T.xVal),"yVal"in T&&(e.y=T.yVal),T.xa&&(e.xaxis=T.xa),T.ya&&(e.yaxis=T.ya),e}},41868:function(te,Y,e){"use strict";var T=e(89298),D=e(71828),o=e(30211),P=e(7901),C=D.fillText;function y(r,l,i,u){var s,v,A,x,E,g,M,w,n,S,d,L,B,O,f=r.cd,c=r.xa,m=r.ya,a=f[0].trace,b=f[0].t,p="violin"===a.type,I=b.bdPos,k=b.wHover,z=function(ye){return A.c2l(ye.pos)+b.bPos-A.c2l(g)};p&&"both"!==a.side?("positive"===a.side&&(n=function(ye){var Pe=z(ye);return o.inbox(Pe,Pe+k,S)},L=I,B=0),"negative"===a.side&&(n=function(ye){var Pe=z(ye);return o.inbox(Pe-k,Pe,S)},L=0,B=I)):(n=function(ye){var Pe=z(ye);return o.inbox(Pe-k,Pe+k,S)},L=B=I),O=p?function(ye){return o.inbox(ye.span[0]-E,ye.span[1]-E,S)}:function(ye){return o.inbox(ye.min-E,ye.max-E,S)},"h"===a.orientation?(E=l,g=i,M=O,w=n,s="y",A=m,v="x",x=c):(E=i,g=l,M=n,w=O,s="x",A=c,v="y",x=m);var F=Math.min(1,I/Math.abs(A.r2c(A.range[1])-A.r2c(A.range[0])));function N(ye){return(M(ye)+w(ye))/2}S=r.maxHoverDistance-F,d=r.maxSpikeDistance-F;var H=o.getDistanceFunction(u,M,w,N);if(o.getClosest(f,H,r),!1===r.index)return[];var X=f[r.index],ne=a.line.color,ie=(a.marker||{}).color;r.color=P.opacity(ne)&&a.line.width?ne:P.opacity(ie)&&a.boxpoints?ie:a.fillcolor,r[s+"0"]=A.c2p(X.pos+b.bPos-B,!0),r[s+"1"]=A.c2p(X.pos+b.bPos+L,!0),r[s+"LabelVal"]=void 0!==X.orig_p?X.orig_p:X.pos;var ue=s+"Spike";r.spikeDistance=N(X)*d/S,r[ue]=A.c2p(X.pos,!0);var J=a.boxmean||"sd"===a.sizemode||(a.meanline||{}).visible,j=a.boxpoints||a.points,W=j&&J?["max","uf","q3","med","mean","q1","lf","min"]:j&&!J?["max","uf","q3","med","q1","lf","min"]:!j&&J?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"];a.orientation===(x.range[1]<x.range[0]?"v":"h")&&W.reverse();for(var K=r.spikeDistance,ae=r[ue],Q=[],Z=0;Z<W.length;Z++){var re=W[Z];if(re in X){var q=X[re],se=x.c2p(q,!0),de=D.extendFlat({},r);de.attr=re,de[v+"0"]=de[v+"1"]=se,de[v+"LabelVal"]=q,de[v+"Label"]=(b.labels?b.labels[re]+" ":"")+T.hoverLabelText(x,q,a[v+"hoverformat"]),de.hoverOnBox=!0,"mean"===re&&"sd"in X&&("sd"===a.boxmean||"sd"===a.sizemode)&&(de[v+"err"]=X.sd),de.hovertemplate=!1,Q.push(de)}}r.name="",r.spikeDistance=void 0,r[ue]=void 0;for(var we=0;we<Q.length;we++)"med"!==Q[we].attr?(Q[we].name="",Q[we].spikeDistance=void 0,Q[we][ue]=void 0):(Q[we].spikeDistance=K,Q[we][ue]=ae);return Q}function t(r,l,i){for(var p,E,g,u=r.cd,f=r.xa,c=r.ya,m=u[0].trace,a=f.c2p(l),b=c.c2p(i),A=o.quadrature(function(O){var F=Math.max(3,O.mrc||0);return Math.max(Math.abs(f.c2p(O.x)-a)-F,1-3/F)},function(O){var F=Math.max(3,O.mrc||0);return Math.max(Math.abs(c.c2p(O.y)-b)-F,1-3/F)}),x=!1,M=0;M<u.length;M++){E=u[M];for(var w=0;w<(E.pts||[]).length;w++){var n=A(g=E.pts[w]);n<=r.distance&&(r.distance=n,x=[M,w])}}if(!x)return!1;var S=f.c2p((g=(E=u[x[0]]).pts[x[1]]).x,!0),d=c.c2p(g.y,!0),I=g.mrc||1;p=D.extendFlat({},r,{index:g.i,color:(m.marker||{}).color,name:m.name,x0:S-I,x1:S+I,y0:d-I,y1:d+I,spikeDistance:r.distance,hovertemplate:m.hovertemplate});var k,L=E.orig_p,B=void 0!==L?L:E.pos;return"h"===m.orientation?(k=c,p.xLabelVal=g.x,p.yLabelVal=B):(k=f,p.xLabelVal=B,p.yLabelVal=g.y),p[k._id.charAt(0)+"Spike"]=k.c2p(E.pos,!0),C(g,m,p),p}te.exports={hoverPoints:function h(r,l,i,u){var b,m=r.cd[0].trace.hoveron,a=[];return-1!==m.indexOf("boxes")&&(a=a.concat(y(r,l,i,u))),-1!==m.indexOf("points")&&(b=t(r,l,i)),"closest"===u?b?[b]:a:(b&&a.push(b),a)},hoverOnBoxes:y,hoverOnPoints:t}},83832:function(te,Y,e){"use strict";te.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(te){"use strict";te.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(te,Y,e){"use strict";var T=e(73972),D=e(71828),o=e(40094);function P(h,y,t,r,l){for(var i=l+"Layout",u=!1,f=0;f<t.length;f++)if(T.traceIs(t[f],i)){u=!0;break}u&&(r(l+"mode"),r(l+"gap"),r(l+"groupgap"))}te.exports={supplyLayoutDefaults:function C(h,y,t){P(0,0,t,function r(l,i){return D.coerce(h,y,o,l,i)},"box")},_supply:P}},86047:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(91424);function y(l,i,u,f,c){var w,n,m="h"===u.orientation,a=i.val,b=i.pos,p=!!b.rangebreaks,s=f.bPos,v=f.wdPos||0,A=f.bPosPxOffset||0,x=u.whiskerwidth||0,E=!1!==u.showwhiskers,g=u.notched||!1,M=g?1-2*u.notchwidth:1;Array.isArray(f.bdPos)?(w=f.bdPos[0],n=f.bdPos[1]):(w=f.bdPos,n=f.bdPos);var S=l.selectAll("path.box").data("violin"!==u.type||u.box.visible?D.identity:[]);S.enter().append("path").style("vector-effect",c?"none":"non-scaling-stroke").attr("class","box"),S.exit().remove(),S.each(function(d){if(d.empty)return T.select(this).attr("d","M0,0Z");var I=b.c2l(d.pos+s,!0),L=b.l2p(I-w)+A,B=b.l2p(I+n)+A,k=p?(L+B)/2:b.l2p(I)+A,z=u.whiskerwidth,O=p?L*z+(1-z)*k:b.l2p(I-v)+A,F=p?B*z+(1-z)*k:b.l2p(I+v)+A,N=b.l2p(I-w*M)+A,H=b.l2p(I+n*M)+A,X="sd"===u.sizemode,ne=a.c2p(X?d.mean-d.sd:d.q1,!0),ie=a.c2p(X?d.mean+d.sd:d.q3,!0),ue=D.constrain(a.c2p(X?d.mean:d.med,!0),Math.min(ne,ie)+1,Math.max(ne,ie)-1),J=void 0===d.lf||!1===u.boxpoints||X,j=a.c2p(J?d.min:d.lf,!0),W=a.c2p(J?d.max:d.uf,!0),V=a.c2p(d.ln,!0),K=a.c2p(d.un,!0);m?T.select(this).attr("d","M"+ue+","+N+"V"+H+"M"+ne+","+L+"V"+B+(g?"H"+V+"L"+ue+","+H+"L"+K+","+B:"")+"H"+ie+"V"+L+(g?"H"+K+"L"+ue+","+N+"L"+V+","+L:"")+"Z"+(E?"M"+ne+","+k+"H"+j+"M"+ie+","+k+"H"+W+(0===x?"":"M"+j+","+O+"V"+F+"M"+W+","+O+"V"+F):"")):T.select(this).attr("d","M"+N+","+ue+"H"+H+"M"+L+","+ne+"H"+B+(g?"V"+V+"L"+H+","+ue+"L"+B+","+K:"")+"V"+ie+"H"+L+(g?"V"+K+"L"+N+","+ue+"L"+L+","+V:"")+"Z"+(E?"M"+k+","+ne+"V"+j+"M"+k+","+ie+"V"+W+(0===x?"":"M"+O+","+j+"H"+F+"M"+O+","+W+"H"+F):""))})}function t(l,i,u,f){var c=i.x,m=i.y,a=f.bdPos,b=f.bPos,p=u.boxpoints||u.points;D.seedPseudoRandom();var v=l.selectAll("g.points").data(p?function(x){return x.forEach(function(E){E.t=f,E.trace=u}),x}:[]);v.enter().append("g").attr("class","points"),v.exit().remove();var A=v.selectAll("path").data(function(x){var E,I,g=x.pts2,M=Math.max((x.max-x.min)/10,x.q3-x.q1),w=1e-9*M,n=.01*M,S=[],d=0;if(u.jitter){if(0===M)for(d=1,S=new Array(g.length),E=0;E<g.length;E++)S[E]=1;else for(E=0;E<g.length;E++){var L=Math.max(0,E-5),B=g[L].v,k=Math.min(g.length-1,E+5),z=g[k].v;"all"!==p&&(g[E].v<x.lf?z=Math.min(z,x.lf):B=Math.max(B,x.uf));var O=Math.sqrt(n*(k-L)/(z-B+w))||0;O=D.constrain(Math.abs(O),0,1),S.push(O),d=Math.max(O,d)}I=2*u.jitter/(d||1)}for(E=0;E<g.length;E++){var F=g[E],N=F.v,H=u.jitter?I*S[E]*(D.pseudoRandom()-.5):0,X=x.pos+b+a*(u.pointpos+H);"h"===u.orientation?(F.y=X,F.x=N):(F.x=X,F.y=N),"suspectedoutliers"===p&&N<x.uo&&N>x.lo&&(F.so=!0)}return g});A.enter().append("path").classed("point",!0),A.exit().remove(),A.call(o.translatePoints,c,m)}function r(l,i,u,f){var v,A,c=i.val,m=i.pos,a=!!m.rangebreaks,b=f.bPos,p=f.bPosPxOffset||0,s=u.boxmean||(u.meanline||{}).visible;Array.isArray(f.bdPos)?(v=f.bdPos[0],A=f.bdPos[1]):(v=f.bdPos,A=f.bdPos);var x=l.selectAll("path.mean").data("box"===u.type&&u.boxmean||"violin"===u.type&&u.box.visible&&u.meanline.visible?D.identity:[]);x.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),x.exit().remove(),x.each(function(E){var g=m.c2l(E.pos+b,!0),M=m.l2p(g-v)+p,w=m.l2p(g+A)+p,n=a?(M+w)/2:m.l2p(g)+p,S=c.c2p(E.mean,!0),d=c.c2p(E.mean-E.sd,!0),I=c.c2p(E.mean+E.sd,!0);"h"===u.orientation?T.select(this).attr("d","M"+S+","+M+"V"+w+("sd"===s?"m0,0L"+d+","+n+"L"+S+","+M+"L"+I+","+n+"Z":"")):T.select(this).attr("d","M"+M+","+S+"H"+w+("sd"===s?"m0,0L"+n+","+d+"L"+M+","+S+"L"+n+","+I+"Z":""))})}te.exports={plot:function h(l,i,u,f){var c=l._context.staticPlot,m=i.xaxis,a=i.yaxis;D.makeTraceGroups(f,u,"trace boxes").each(function(b){var x,E,p=T.select(this),s=b[0],v=s.t,A=s.trace;v.wdPos=v.bdPos*A.whiskerwidth,!0!==A.visible||v.empty?p.remove():("h"===A.orientation?(x=a,E=m):(x=m,E=a),y(p,{pos:x,val:E},A,v,c),t(p,{x:m,y:a},A,v),r(p,{pos:x,val:E},A,v))})},plotBoxAndWhiskers:y,plotPoints:t,plotBoxMean:r}},24626:function(te){"use strict";te.exports=function(e,T){var h,y,D=e.cd,o=e.xaxis,P=e.yaxis,C=[];if(!1===T)for(h=0;h<D.length;h++)for(y=0;y<(D[h].pts||[]).length;y++)D[h].pts[y].selected=0;else for(h=0;h<D.length;h++)for(y=0;y<(D[h].pts||[]).length;y++){var t=D[h].pts[y],r=o.c2p(t.x),l=P.c2p(t.y);T.contains([r,l],null,t.i,e)?(C.push({pointNumber:t.i,x:o.c2d(t.x),y:P.c2d(t.y)}),t.selected=1):t.selected=0}return C}},58063:function(te,Y,e){"use strict";var T=e(39898),D=e(7901),o=e(91424);te.exports={style:function P(h,y,t){var r=t||T.select(h).selectAll("g.trace.boxes");r.style("opacity",function(l){return l[0].trace.opacity}),r.each(function(l){var i=T.select(this),u=l[0].trace,f=u.line.width;function c(b,p,s,v){b.style("stroke-width",p+"px").call(D.stroke,s).call(D.fill,v)}var m=i.selectAll("path.box");if("candlestick"===u.type)m.each(function(b){if(!b.empty){var p=T.select(this),s=u[b.dir];c(p,s.line.width,s.line.color,s.fillcolor),p.style("opacity",u.selectedpoints&&!b.selected?.3:1)}});else{c(m,f,u.line.color,u.fillcolor),i.selectAll("path.mean").style({"stroke-width":f,"stroke-dasharray":2*f+"px,"+f+"px"}).call(D.stroke,u.line.color);var a=i.selectAll("path.point");o.pointStyle(a,u,h)}})},styleOnSelect:function C(h,y,t){var r=y[0].trace,l=t.selectAll("path.point");r.selectedpoints?o.selectedPointStyle(l,r):o.pointStyle(l,r,h)}}},75343:function(te,Y,e){"use strict";var T=e(71828).extendFlat,D=e(12663).axisHoverFormat,o=e(2522),P=e(53522);function C(h){return{line:{color:T({},P.line.color,{dflt:h}),width:P.line.width,editType:"style"},fillcolor:P.fillcolor,editType:"style"}}te.exports={xperiod:o.xperiod,xperiod0:o.xperiod0,xperiodalignment:o.xperiodalignment,xhoverformat:D("x"),yhoverformat:D("y"),x:o.x,open:o.open,high:o.high,low:o.low,close:o.close,line:{width:T({},P.line.width,{}),editType:"style"},increasing:C(o.increasing.line.color.dflt),decreasing:C(o.decreasing.line.color.dflt),text:o.text,hovertext:o.hovertext,whiskerwidth:T({},P.whiskerwidth,{dflt:0}),hoverlabel:o.hoverlabel}},41197:function(te,Y,e){"use strict";var T=e(71828),D=e(89298),o=e(42973),P=e(3485).calcCommon;function C(h,y,t,r){return{min:t,q1:Math.min(h,r),med:r,q3:Math.max(h,r),max:y}}te.exports=function(h,y){var t=h._fullLayout,r=D.getFromId(h,y.xaxis),l=D.getFromId(h,y.yaxis),i=r.makeCalcdata(y,"x"),u=o(y,r,"x",i).vals,f=P(h,y,i,u,l,C);return f.length?(T.extendFlat(f[0].t,{num:t._numBoxes,dPos:T.distinctVals(u).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,f):[{t:{empty:!0}}]}},1026:function(te,Y,e){"use strict";var T=e(71828),D=e(7901),o=e(14555),P=e(73927),C=e(75343);function h(y,t,r,l){var i=r(l+".line.color");r(l+".line.width",t.line.width),r(l+".fillcolor",D.addOpacity(i,.5))}te.exports=function(t,r,l,i){function u(c,m){return T.coerce(t,r,C,c,m)}o(t,r,u,i)?(P(t,r,i,u,{x:!0}),u("xhoverformat"),u("yhoverformat"),u("line.width"),h(0,r,u,"increasing"),h(0,r,u,"decreasing"),u("text"),u("hovertext"),u("whiskerwidth"),i._requestRangeslider[r.xaxis]=!0):r.visible=!1}},91815:function(te,Y,e){"use strict";te.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(te,Y,e){"use strict";var T=e(11500),D=e(44467);te.exports=function(C,h,y,t,r){t("a")||(t("da"),t("a0")),t("b")||(t("db"),t("b0")),function o(P,C,h,y){["aaxis","baxis"].forEach(function(r){var l=r.charAt(0),i=P[r]||{},u=D.newContainer(C,r);T(i,u,{noTicklabelstep:!0,tickfont:"x",id:l+"axis",letter:l,font:C.font,name:r,data:P[l],calendar:C.calendar,dfltColor:y,bgColor:h.paper_bgcolor,autotypenumbersDflt:h.autotypenumbers,fullLayout:h}),u._categories=u._categories||[],!P[r]&&"-"!==i.type&&(P[r]={type:i.type})})}(C,h,y,r)}},402:function(te,Y,e){"use strict";var T=e(71828).isArrayOrTypedArray;function D(o,P){if(!T(o)||P>=10)return null;for(var C=1/0,h=-1/0,y=o.length,t=0;t<y;t++){var r=o[t];if(T(r)){var l=D(r,P+1);l&&(C=Math.min(l[0],C),h=Math.max(l[1],h))}else C=Math.min(r,C),h=Math.max(r,h)}return[C,h]}te.exports=function(o){return D(o,0)}},99798:function(te,Y,e){"use strict";var T=e(41940),D=e(1928),o=e(22399),P=T({editType:"calc"});P.family.dflt='"Open Sans", verdana, arial, sans-serif',P.size.dflt=12,P.color.dflt=o.defaultLine,te.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:D,baxis:D,font:P,color:{valType:"color",dflt:o.defaultLine,editType:"plot"},transforms:void 0}},4536:function(te,Y,e){"use strict";var T=e(71828).isArrayOrTypedArray;te.exports=function(D,o,P,C){var h,y,t,r,l,i,u,f,c,m,a,b,p,s=T(P)?"a":"b",A=("a"===s?D.aaxis:D.baxis).smoothing,x="a"===s?D.a2i:D.b2j,E="a"===s?P:C,g="a"===s?C:P,M="a"===s?o.a.length:o.b.length,w="a"===s?o.b.length:o.a.length,n=Math.floor("a"===s?D.b2j(g):D.a2i(g)),S="a"===s?function(ne){return D.evalxy([],ne,n)}:function(ne){return D.evalxy([],n,ne)};A&&(t=Math.max(0,Math.min(w-2,n)),r=n-t,y="a"===s?function(ne,ie){return D.dxydi([],ne,t,ie,r)}:function(ne,ie){return D.dxydj([],t,ne,r,ie)});var d=x(E[0]),I=x(E[1]),L=d<I?1:-1,B=1e-8*(I-d),k=L>0?Math.floor:Math.ceil,z=L>0?Math.ceil:Math.floor,O=L>0?Math.min:Math.max,F=L>0?Math.max:Math.min,N=k(d+B),H=z(I-B),X=[[u=S(d)]];for(h=N;h*L<H*L;h+=L)l=[],a=F(d,h),p=(b=O(I,h+L))-a,i=Math.max(0,Math.min(M-2,Math.floor(.5*(a+b)))),f=S(b),A&&(c=y(i,a-i),m=y(i,b-i),l.push([u[0]+c[0]/3*p,u[1]+c[1]/3*p]),l.push([f[0]-m[0]/3*p,f[1]-m[1]/3*p])),l.push(f),X.push(l),u=f;return X}},1928:function(te,Y,e){"use strict";var T=e(41940),D=e(22399),o=e(13838),P=e(12663).descriptionWithDates,C=e(30962).overrideAll,h=e(79952).P,y=e(1426).extendFlat;te.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:T({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:o.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:y({},o.labelalias,{editType:"calc"}),tickfont:T({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:P("tick label")},tickformatstops:C(o.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:D.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:y({},h,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:y({},h,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:D.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:T({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(te,Y,e){"use strict";var T=e(99798),D=e(7901).addOpacity,o=e(73972),P=e(71828),C=e(26218),h=e(96115),y=e(89426),t=e(15258),r=e(21994),l=e(4322);te.exports=function(f,c,m){var a=m.letter,b=m.font||{},p=T[a+"axis"];function s(N,H){return P.coerce(f,c,p,N,H)}function v(N,H){return P.coerce2(f,c,p,N,H)}m.name&&(c._name=m.name,c._id=m.name),s("autotypenumbers",m.autotypenumbersDflt);var A=s("type");"-"===A&&(m.data&&function i(u,f){if("-"===u.type){var m=u._id.charAt(0);u.type=l(f,u[m+"calendar"],{autotypenumbers:u.autotypenumbers})}}(c,m.data),"-"===c.type?c.type="linear":A=f.type=c.type),s("smoothing"),s("cheatertype"),s("showticklabels"),s("labelprefix",a+" = "),s("labelsuffix"),s("showtickprefix"),s("showticksuffix"),s("separatethousands"),s("tickformat"),s("exponentformat"),s("minexponent"),s("showexponent"),s("categoryorder"),s("tickmode"),s("tickvals"),s("ticktext"),s("tick0"),s("dtick"),"array"===c.tickmode&&(s("arraytick0"),s("arraydtick")),s("labelpadding"),c._hovertitle=a,"date"===A&&o.getComponentMethod("calendars","handleDefaults")(f,c,"calendar",m.calendar),r(c,m.fullLayout),c.c2p=P.identity;var E=s("color",m.dfltColor),g=E===f.color?E:b.color;s("title.text")&&(P.coerceFont(s,"title.font",{family:b.family,size:P.bigFont(b.size),color:g}),s("title.offset")),s("tickangle"),s("autorange",!c.isValidRange(f.range))&&s("rangemode"),s("range"),c.cleanRange(),s("fixedrange"),C(f,c,s,A),y(f,c,s,A,m),h(f,c,s,A,m),t(f,c,s,{data:m.data,dataAttr:a});var n=v("gridcolor",D(E,.3)),S=v("gridwidth"),d=v("griddash"),I=s("showgrid");I||(delete c.gridcolor,delete c.gridwidth,delete c.griddash);var L=v("startlinecolor",E),B=v("startlinewidth",S);s("startline",c.showgrid||!!L||!!B)||(delete c.startlinecolor,delete c.startlinewidth);var z=v("endlinecolor",E),O=v("endlinewidth",S);return s("endline",c.showgrid||!!z||!!O)||(delete c.endlinecolor,delete c.endlinewidth),I?(s("minorgridcount"),s("minorgridwidth",S),s("minorgriddash",d),s("minorgridcolor",D(n,.06)),c.minorgridcount||(delete c.minorgridwidth,delete c.minorgriddash,delete c.minorgridcolor)):(delete c.gridcolor,delete c.gridwidth,delete c.griddash),"none"===c.showticklabels&&(delete c.tickfont,delete c.tickangle,delete c.showexponent,delete c.exponentformat,delete c.minexponent,delete c.tickformat,delete c.showticksuffix,delete c.showtickprefix),c.showticksuffix||delete c.ticksuffix,c.showtickprefix||delete c.tickprefix,s("tickmode"),c}},25281:function(te,Y,e){"use strict";var T=e(89298),D=e(71828).isArray1D,o=e(53824),P=e(402),C=e(20347),h=e(83311),y=e(44807),t=e(4742),r=e(72505),l=e(68296),i=e(11435);te.exports=function(f,c){var m=T.getFromId(f,c.xaxis),a=T.getFromId(f,c.yaxis),b=c.aaxis,p=c.baxis,s=c.x,v=c.y,A=[];s&&D(s)&&A.push("x"),v&&D(v)&&A.push("y"),A.length&&l(c,b,p,"a","b",A);var x=c._a=c._a||c.a,E=c._b=c._b||c.b;s=c._x||c.x,v=c._y||c.y;var g={};c._cheater&&(s=o("index"===b.cheatertype?x.length:x,"index"===p.cheatertype?E.length:E,c.cheaterslope)),c._x=s=t(s),c._y=v=t(v),r(s,x,E),r(v,x,E),i(c),c.setScale();var n=P(s),S=P(v),d=.5*(n[1]-n[0]),I=.5*(n[1]+n[0]),L=.5*(S[1]-S[0]),B=.5*(S[1]+S[0]),k=1.3;return S=[B-L*k,B+L*k],c._extremes[m._id]=T.findExtremes(m,n=[I-d*k,I+d*k],{padded:!0}),c._extremes[a._id]=T.findExtremes(a,S,{padded:!0}),C(c,"a","b"),C(c,"b","a"),h(c,b),h(c,p),g.clipsegments=y(c._xctrl,c._yctrl,b,p),g.x=s,g.y=v,g.a=x,g.b=E,[g]}},44807:function(te){"use strict";te.exports=function(e,T,D,o){var P,C,h,y=[],t=!!D.smoothing,r=!!o.smoothing,l=e[0].length-1,i=e.length-1;for(P=0,C=[],h=[];P<=l;P++)C[P]=e[0][P],h[P]=T[0][P];for(y.push({x:C,y:h,bicubic:t}),P=0,C=[],h=[];P<=i;P++)C[P]=e[P][l],h[P]=T[P][l];for(y.push({x:C,y:h,bicubic:r}),P=l,C=[],h=[];P>=0;P--)C[l-P]=e[i][P],h[l-P]=T[i][P];for(y.push({x:C,y:h,bicubic:t}),P=i,C=[],h=[];P>=0;P--)C[i-P]=e[P][0],h[i-P]=T[P][0];return y.push({x:C,y:h,bicubic:r}),y}},20347:function(te,Y,e){"use strict";var T=e(89298),D=e(1426).extendFlat;te.exports=function(P,C,h){var y,t,r,l,i,u,f,c,m,a,b,p,s,v,A=P["_"+C],x=P[C+"axis"],E=x._gridlines=[],g=x._minorgridlines=[],M=x._boundarylines=[],w=P["_"+h],n=P[h+"axis"];"array"===x.tickmode&&(x.tickvals=A.slice());var S=P._xctrl,d=P._yctrl,I=S[0].length,L=S.length,B=P._a.length,k=P._b.length;T.prepTicks(x),"array"===x.tickmode&&delete x.tickvals;var z=x.smoothing?3:1;function O(N){var H,X,ne,ie,ue,J,j,W,V,K,ae,Q,Z=[],re=[],q={};if("b"===C)for(X=P.b2j(N),ne=Math.floor(Math.max(0,Math.min(k-2,X))),ie=X-ne,q.length=k,q.crossLength=B,q.xy=function(se){return P.evalxy([],se,X)},q.dxy=function(se,de){return P.dxydi([],se,ne,de,ie)},H=0;H<B;H++)J=Math.min(B-2,H),j=H-J,W=P.evalxy([],H,X),n.smoothing&&H>0&&(V=P.dxydi([],H-1,ne,0,ie),Z.push(ue[0]+V[0]/3),re.push(ue[1]+V[1]/3),K=P.dxydi([],H-1,ne,1,ie),Z.push(W[0]-K[0]/3),re.push(W[1]-K[1]/3)),Z.push(W[0]),re.push(W[1]),ue=W;else for(H=P.a2i(N),J=Math.floor(Math.max(0,Math.min(B-2,H))),j=H-J,q.length=B,q.crossLength=k,q.xy=function(se){return P.evalxy([],H,se)},q.dxy=function(se,de){return P.dxydj([],J,se,j,de)},X=0;X<k;X++)ne=Math.min(k-2,X),ie=X-ne,W=P.evalxy([],H,X),n.smoothing&&X>0&&(ae=P.dxydj([],J,X-1,j,0),Z.push(ue[0]+ae[0]/3),re.push(ue[1]+ae[1]/3),Q=P.dxydj([],J,X-1,j,1),Z.push(W[0]-Q[0]/3),re.push(W[1]-Q[1]/3)),Z.push(W[0]),re.push(W[1]),ue=W;return q.axisLetter=C,q.axis=x,q.crossAxis=n,q.value=N,q.constvar=h,q.index=c,q.x=Z,q.y=re,q.smoothing=n.smoothing,q}function F(N){var H,X,ne,ie,ue,J=[],j=[],W={};if(W.length=A.length,W.crossLength=w.length,"b"===C)for(ne=Math.max(0,Math.min(k-2,N)),ue=Math.min(1,Math.max(0,N-ne)),W.xy=function(V){return P.evalxy([],V,N)},W.dxy=function(V,K){return P.dxydi([],V,ne,K,ue)},H=0;H<I;H++)J[H]=S[N*z][H],j[H]=d[N*z][H];else for(X=Math.max(0,Math.min(B-2,N)),ie=Math.min(1,Math.max(0,N-X)),W.xy=function(V){return P.evalxy([],N,V)},W.dxy=function(V,K){return P.dxydj([],X,V,ie,K)},H=0;H<L;H++)J[H]=S[H][N*z],j[H]=d[H][N*z];return W.axisLetter=C,W.axis=x,W.crossAxis=n,W.value=A[N],W.constvar=h,W.index=N,W.x=J,W.y=j,W.smoothing=n.smoothing,W}if("array"===x.tickmode){for(l=5e-15,f=(i=[Math.floor((A.length-1-x.arraytick0)/x.arraydtick*(1+l)),Math.ceil(-x.arraytick0/x.arraydtick/(1+l))].sort(function(N,H){return N-H}))[1]+1,c=u=i[0]-1;c<f;c++)!((t=x.arraytick0+x.arraydtick*c)<0||t>A.length-1)&&E.push(D(F(t),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(c=u;c<f;c++)if(r=x.arraytick0+x.arraydtick*c,b=Math.min(r+x.arraydtick,A.length-1),!(r<0||r>A.length-1||b<0||b>A.length-1))for(p=A[r],s=A[b],y=0;y<x.minorgridcount;y++)!((v=b-r)<=0)&&!((a=p+(s-p)*(y+1)/(x.minorgridcount+1)*(x.arraydtick/v))<A[0]||a>A[A.length-1])&&g.push(D(O(a),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&M.push(D(F(0),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&M.push(D(F(A.length-1),{color:x.endlinecolor,width:x.endlinewidth}))}else{for(l=5e-15,f=(i=[Math.floor((A[A.length-1]-x.tick0)/x.dtick*(1+l)),Math.ceil((A[0]-x.tick0)/x.dtick/(1+l))].sort(function(N,H){return N-H}))[1],c=u=i[0];c<=f;c++)E.push(D(O(m=x.tick0+x.dtick*c),{color:x.gridcolor,width:x.gridwidth,dash:x.griddash}));for(c=u-1;c<f+1;c++)for(m=x.tick0+x.dtick*c,y=0;y<x.minorgridcount;y++)!((a=m+x.dtick*(y+1)/(x.minorgridcount+1))<A[0]||a>A[A.length-1])&&g.push(D(O(a),{color:x.minorgridcolor,width:x.minorgridwidth,dash:x.minorgriddash}));x.startline&&M.push(D(O(A[0]),{color:x.startlinecolor,width:x.startlinewidth})),x.endline&&M.push(D(O(A[A.length-1]),{color:x.endlinecolor,width:x.endlinewidth}))}}},83311:function(te,Y,e){"use strict";var T=e(89298),D=e(1426).extendFlat;te.exports=function(P,C){var h,y,l,i=C._labels=[],u=C._gridlines;for(h=0;h<u.length;h++)l=u[h],-1!==["start","both"].indexOf(C.showticklabels)&&(y=T.tickText(C,l.value),D(y,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:l.xy(0),dxy:l.dxy(0,0),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:0===h,isLast:h===u.length-1}),i.push(y)),-1!==["end","both"].indexOf(C.showticklabels)&&(y=T.tickText(C,l.value),D(y,{endAnchor:!1,xy:l.xy(l.crossLength-1),dxy:l.dxy(l.crossLength-2,1),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:0===h,isLast:h===u.length-1}),i.push(y))}},42048:function(te){"use strict";te.exports=function(T,D,o,P){var C=T[0]-D[0],h=T[1]-D[1],y=o[0]-D[0],t=o[1]-D[1],r=Math.pow(C*C+h*h,.25),l=Math.pow(y*y+t*t,.25),i=(l*l*C-r*r*y)*P,u=(l*l*h-r*r*t)*P,f=l*(r+l)*3,c=r*(r+l)*3;return[[D[0]+(f&&i/f),D[1]+(f&&u/f)],[D[0]-(c&&i/c),D[1]-(c&&u/c)]]}},53824:function(te,Y,e){"use strict";var T=e(71828).isArrayOrTypedArray;te.exports=function(D,o,P){var C,h,y,t,l,i=[],u=T(D)?D.length:D,f=T(o)?o.length:o,c=T(D)?D:null,m=T(o)?o:null;c&&(y=(c.length-1)/(c[c.length-1]-c[0])/(u-1)),m&&(t=(m.length-1)/(m[m.length-1]-m[0])/(f-1));var a,b=1/0,p=-1/0;for(h=0;h<f;h++)for(i[h]=[],l=m?(m[h]-m[0])*t:h/(f-1),C=0;C<u;C++)a=(c?(c[C]-c[0])*y:C/(u-1))-l*P,b=Math.min(a,b),p=Math.max(a,p),i[h][C]=a;var s=1/(p-b),v=-b*s;for(h=0;h<f;h++)for(C=0;C<u;C++)i[h][C]=s*i[h][C]+v;return i}},45664:function(te,Y,e){"use strict";var T=e(42048),D=e(71828).ensureArray;function o(P,C,h){return[(2*(-.5*h[0]+1.5*C[0])+P[0])/3,(2*(-.5*h[1]+1.5*C[1])+P[1])/3]}te.exports=function(C,h,y,t,r,l){var i,u,f,c,m,a,b,p,s,v,A=y[0].length,x=y.length,E=r?3*A-2:A,g=l?3*x-2:x;for(C=D(C,g),h=D(h,g),f=0;f<g;f++)C[f]=D(C[f],E),h[f]=D(h[f],E);for(u=0,c=0;u<x;u++,c+=l?3:1)for(m=C[c],a=h[c],b=y[u],p=t[u],i=0,f=0;i<A;i++,f+=r?3:1)m[f]=b[i],a[f]=p[i];if(r)for(u=0,c=0;u<x;u++,c+=l?3:1){for(i=1,f=3;i<A-1;i++,f+=3)s=T([y[u][i-1],t[u][i-1]],[y[u][i],t[u][i]],[y[u][i+1],t[u][i+1]],r),C[c][f-1]=s[0][0],h[c][f-1]=s[0][1],C[c][f+1]=s[1][0],h[c][f+1]=s[1][1];v=o([C[c][0],h[c][0]],[C[c][2],h[c][2]],[C[c][3],h[c][3]]),C[c][1]=v[0],h[c][1]=v[1],v=o([C[c][E-1],h[c][E-1]],[C[c][E-3],h[c][E-3]],[C[c][E-4],h[c][E-4]]),C[c][E-2]=v[0],h[c][E-2]=v[1]}if(l)for(f=0;f<E;f++){for(c=3;c<g-3;c+=3)s=T([C[c-3][f],h[c-3][f]],[C[c][f],h[c][f]],[C[c+3][f],h[c+3][f]],l),C[c-1][f]=s[0][0],h[c-1][f]=s[0][1],C[c+1][f]=s[1][0],h[c+1][f]=s[1][1];v=o([C[0][f],h[0][f]],[C[2][f],h[2][f]],[C[3][f],h[3][f]]),C[1][f]=v[0],h[1][f]=v[1],v=o([C[g-1][f],h[g-1][f]],[C[g-3][f],h[g-3][f]],[C[g-4][f],h[g-4][f]]),C[g-2][f]=v[0],h[g-2][f]=v[1]}if(r&&l)for(c=1;c<g;c+=(c+1)%3==0?2:1){for(f=3;f<E-3;f+=3)s=T([C[c][f-3],h[c][f-3]],[C[c][f],h[c][f]],[C[c][f+3],h[c][f+3]],r),C[c][f-1]=.5*(C[c][f-1]+s[0][0]),h[c][f-1]=.5*(h[c][f-1]+s[0][1]),C[c][f+1]=.5*(C[c][f+1]+s[1][0]),h[c][f+1]=.5*(h[c][f+1]+s[1][1]);v=o([C[c][0],h[c][0]],[C[c][2],h[c][2]],[C[c][3],h[c][3]]),C[c][1]=.5*(C[c][1]+v[0]),h[c][1]=.5*(h[c][1]+v[1]),v=o([C[c][E-1],h[c][E-1]],[C[c][E-3],h[c][E-3]],[C[c][E-4],h[c][E-4]]),C[c][E-2]=.5*(C[c][E-2]+v[0]),h[c][E-2]=.5*(h[c][E-2]+v[1])}return[C,h]}},35509:function(te){"use strict";te.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(te){"use strict";te.exports=function(Y,e,T){return e&&T?function(D,o,P,C,h){var i,u;D||(D=[]),o*=3,P*=3;var f=C*C,c=1-C,m=c*c,a=c*C*2,b=-3*m,p=3*(m-a),s=3*(a-f),v=3*f,A=h*h,x=A*h,E=1-h,g=E*E,M=g*E;for(u=0;u<Y.length;u++)D[u]=M*(b*(i=Y[u])[P][o]+p*i[P][o+1]+s*i[P][o+2]+v*i[P][o+3])+3*(g*h*(b*i[P+1][o]+p*i[P+1][o+1]+s*i[P+1][o+2]+v*i[P+1][o+3])+E*A*(b*i[P+2][o]+p*i[P+2][o+1]+s*i[P+2][o+2]+v*i[P+2][o+3]))+x*(b*i[P+3][o]+p*i[P+3][o+1]+s*i[P+3][o+2]+v*i[P+3][o+3]);return D}:e?function(D,o,P,C,h){var r,l;D||(D=[]),o*=3;var i=C*C,u=1-C,f=u*u,c=u*C*2,m=-3*f,a=3*(f-c),b=3*(c-i),p=3*i,s=1-h;for(r=0;r<Y.length;r++)D[r]=s*(m*(l=Y[r])[P][o]+a*l[P][o+1]+b*l[P][o+2]+p*l[P][o+3])+h*(m*l[P+1][o]+a*l[P+1][o+1]+b*l[P+1][o+2]+p*l[P+1][o+3]);return D}:T?function(D,o,P,C,h){var i,u;D||(D=[]),P*=3;var f=h*h,c=f*h,m=1-h,a=m*m,b=a*m;for(i=0;i<Y.length;i++)D[i]=b*((u=Y[i])[P][o+1]-u[P][o])+3*(a*h*(u[P+1][o+1]-u[P+1][o])+m*f*(u[P+2][o+1]-u[P+2][o]))+c*(u[P+3][o+1]-u[P+3][o]);return D}:function(D,o,P,C,h){D||(D=[]);var r,l,i=1-h;for(r=0;r<Y.length;r++)D[r]=i*((l=Y[r])[P][o+1]-l[P][o])+h*(l[P+1][o+1]-l[P+1][o]);return D}}},73057:function(te){"use strict";te.exports=function(Y,e,T){return e&&T?function(D,o,P,C,h){var i,u;D||(D=[]),o*=3,P*=3;var f=C*C,c=f*C,m=1-C,a=m*m,b=a*m,p=h*h,s=1-h,v=s*s,A=s*h*2,x=-3*v,E=3*(v-A),g=3*(A-p),M=3*p;for(u=0;u<Y.length;u++)D[u]=b*(x*(i=Y[u])[P][o]+E*i[P+1][o]+g*i[P+2][o]+M*i[P+3][o])+3*(a*C*(x*i[P][o+1]+E*i[P+1][o+1]+g*i[P+2][o+1]+M*i[P+3][o+1])+m*f*(x*i[P][o+2]+E*i[P+1][o+2]+g*i[P+2][o+2]+M*i[P+3][o+2]))+c*(x*i[P][o+3]+E*i[P+1][o+3]+g*i[P+2][o+3]+M*i[P+3][o+3]);return D}:e?function(D,o,P,C,h){var i,u;D||(D=[]),o*=3;var f=h*h,c=f*h,m=1-h,a=m*m,b=a*m;for(i=0;i<Y.length;i++)D[i]=b*((u=Y[i])[P+1][o]-u[P][o])+3*(a*h*(u[P+1][o+1]-u[P][o+1])+m*f*(u[P+1][o+2]-u[P][o+2]))+c*(u[P+1][o+3]-u[P][o+3]);return D}:T?function(D,o,P,C,h){var r,l;D||(D=[]),P*=3;var i=1-C,u=h*h,f=1-h,c=f*f,m=f*h*2,a=-3*c,b=3*(c-m),p=3*(m-u),s=3*u;for(r=0;r<Y.length;r++)D[r]=i*(a*(l=Y[r])[P][o]+b*l[P+1][o]+p*l[P+2][o]+s*l[P+3][o])+C*(a*l[P][o+1]+b*l[P+1][o+1]+p*l[P+2][o+1]+s*l[P+3][o+1]);return D}:function(D,o,P,C,h){D||(D=[]);var r,l,i=1-C;for(r=0;r<Y.length;r++)D[r]=i*((l=Y[r])[P+1][o]-l[P][o])+C*(l[P+1][o+1]-l[P][o+1]);return D}}},20349:function(te){"use strict";te.exports=function(Y,e,T,D,o){var P=e-2,C=T-2;return D&&o?function(h,y,t){h||(h=[]);var f,c,m=Math.max(0,Math.min(Math.floor(y),P)),a=Math.max(0,Math.min(Math.floor(t),C)),b=Math.max(0,Math.min(1,y-m)),p=Math.max(0,Math.min(1,t-a));m*=3,a*=3;var s=b*b,v=s*b,A=1-b,x=A*A,E=x*A,g=p*p,M=g*p,w=1-p,n=w*w,S=n*w;for(c=0;c<Y.length;c++)h[c]=S*(E*(f=Y[c])[a][m]+3*(x*b*f[a][m+1]+A*s*f[a][m+2])+v*f[a][m+3])+3*(n*p*(E*f[a+1][m]+3*(x*b*f[a+1][m+1]+A*s*f[a+1][m+2])+v*f[a+1][m+3])+w*g*(E*f[a+2][m]+3*(x*b*f[a+2][m+1]+A*s*f[a+2][m+2])+v*f[a+2][m+3]))+M*(E*f[a+3][m]+3*(x*b*f[a+3][m+1]+A*s*f[a+3][m+2])+v*f[a+3][m+3]);return h}:D?function(h,y,t){h||(h=[]);var b,p,r=Math.max(0,Math.min(Math.floor(y),P)),l=Math.max(0,Math.min(Math.floor(t),C)),i=Math.max(0,Math.min(1,y-r)),u=Math.max(0,Math.min(1,t-l));r*=3;var s=i*i,v=s*i,A=1-i,x=A*A,E=x*A,g=1-u;for(b=0;b<Y.length;b++)h[b]=E*(g*(p=Y[b])[l][r]+u*p[l+1][r])+3*(x*i*(g*p[l][r+1]+u*p[l+1][r+1])+A*s*(g*p[l][r+2]+u*p[l+1][r+1]))+v*(g*p[l][r+3]+u*p[l+1][r+1]);return h}:o?function(h,y,t){h||(h=[]);var b,p,r=Math.max(0,Math.min(Math.floor(y),P)),l=Math.max(0,Math.min(Math.floor(t),C)),i=Math.max(0,Math.min(1,y-r)),u=Math.max(0,Math.min(1,t-l));l*=3;var s=u*u,v=s*u,A=1-u,x=A*A,E=x*A,g=1-i;for(b=0;b<Y.length;b++)h[b]=E*(g*(p=Y[b])[l][r]+i*p[l][r+1])+3*(x*u*(g*p[l+1][r]+i*p[l+1][r+1])+A*s*(g*p[l+2][r]+i*p[l+2][r+1]))+v*(g*p[l+3][r]+i*p[l+3][r+1]);return h}:function(h,y,t){h||(h=[]);var m,a,r=Math.max(0,Math.min(Math.floor(y),P)),l=Math.max(0,Math.min(Math.floor(t),C)),i=Math.max(0,Math.min(1,y-r)),u=Math.max(0,Math.min(1,t-l)),b=1-u,p=1-i;for(m=0;m<Y.length;m++)h[m]=b*(p*(a=Y[m])[l][r]+i*a[l][r+1])+u*(p*a[l+1][r]+i*a[l+1][r+1]);return h}}},92087:function(te,Y,e){"use strict";var T=e(71828),D=e(19237),o=e(13145),P=e(99798),C=e(22399);te.exports=function(y,t,r,l){function i(c,m){return T.coerce(y,t,P,c,m)}t._clipPathId="clip"+t.uid+"carpet";var u=i("color",C.defaultLine);T.coerceFont(i,"font"),i("carpet"),o(y,t,l,i,u),t.a&&t.b?(t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0),D(y,t,i)||(t.visible=!1),t._cheater&&i("cheaterslope")):t.visible=!1}},21462:function(te,Y,e){"use strict";te.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(te){"use strict";te.exports=function(Y,e){for(var D,T=Y._fullData.length,o=0;o<T;o++){var P=Y._fullData[o];if(P.index!==e.index&&"carpet"===P.type&&(D||(D=P),P.carpet===e.carpet))return P}return D}},67961:function(te){"use strict";te.exports=function(e,T,D){if(0===e.length)return"";var o,P=[],C=D?3:1;for(o=0;o<e.length;o+=C)P.push(e[o]+","+T[o]),D&&o<e.length-C&&(P.push("C"),P.push([e[o+1]+","+T[o+1],e[o+2]+","+T[o+2]+" "].join(" ")));return P.join(D?"":"L")}},27669:function(te,Y,e){"use strict";var T=e(71828).isArrayOrTypedArray;te.exports=function(o,P,C){var h;for(T(o)?o.length>P.length&&(o=o.slice(0,P.length)):o=[],h=0;h<P.length;h++)o[h]=C(P[h]);return o}},11651:function(te){"use strict";te.exports=function(e,T,D,o,P,C){var h=P[0]*e.dpdx(T),y=P[1]*e.dpdy(D),t=1,r=1;if(C){var l=Math.sqrt(P[0]*P[0]+P[1]*P[1]),i=Math.sqrt(C[0]*C[0]+C[1]*C[1]);r=Math.max(0,(P[0]*C[0]+P[1]*C[1])/l/i)}var f=180*Math.atan2(y,h)/Math.PI;return f<-90?(f+=180,t=-t):f>90&&(f-=180,t=-t),{angle:f,flip:t,p:e.c2p(o,T,D),offsetMultplier:r}}},89740:function(te,Y,e){"use strict";var T=e(39898),D=e(91424),o=e(27669),P=e(67961),C=e(11651),h=e(63893),y=e(71828),t=y.strRotate,r=y.strTranslate,l=e(18783);function u(p,s,v,A,x,E,g){var M="const-"+x+"-lines",w=v.selectAll("."+M).data(E);w.enter().append("path").classed(M,!0).style("vector-effect",g?"none":"non-scaling-stroke"),w.each(function(n){var S=n,I=S.y,L=o([],S.x,p.c2p),B=o([],I,s.c2p),k="M"+P(L,B,S.smoothing);T.select(this).attr("d",k).style("stroke-width",S.width).style("stroke",S.color).style("stroke-dasharray",D.dashStyle(S.dash,S.width)).style("fill","none")}),w.exit().remove()}function f(p,s,v,A,x,E,g,M){var w=E.selectAll("text."+M).data(g);w.enter().append("text").classed(M,!0);var n=0,S={};return w.each(function(d,I){var L;if("auto"===d.axis.tickangle)L=C(A,s,v,d.xy,d.dxy);else{var B=(d.axis.tickangle+180)*Math.PI/180;L=C(A,s,v,d.xy,[Math.cos(B),Math.sin(B)])}I||(S={angle:L.angle,flip:L.flip});var k=(d.endAnchor?-1:1)*L.flip,z=T.select(this).attr({"text-anchor":k>0?"start":"end","data-notex":1}).call(D.font,d.font).text(d.text).call(h.convertToTspans,p),O=D.bBox(this);z.attr("transform",r(L.p[0],L.p[1])+t(L.angle)+r(d.axis.labelpadding*k,.3*O.height)),n=Math.max(n,O.width+d.axis.labelpadding)}),w.exit().remove(),S.maxExtent=n,S}te.exports=function(s,v,A,x){var E=s._context.staticPlot,g=v.xaxis,M=v.yaxis,n=s._fullLayout._clips;y.makeTraceGroups(x,A,"trace").each(function(S){var d=T.select(this),I=S[0],L=I.trace,B=L.aaxis,k=L.baxis,z=y.ensureSingle(d,"g","minorlayer"),O=y.ensureSingle(d,"g","majorlayer"),F=y.ensureSingle(d,"g","boundarylayer"),N=y.ensureSingle(d,"g","labellayer");d.style("opacity",L.opacity),u(g,M,O,0,"a",B._gridlines,!0),u(g,M,O,0,"b",k._gridlines,!0),u(g,M,z,0,"a",B._minorgridlines,!0),u(g,M,z,0,"b",k._minorgridlines,!0),u(g,M,F,0,"a-boundary",B._boundarylines,E),u(g,M,F,0,"b-boundary",k._boundarylines,E);var H=f(s,g,M,L,0,N,B._labels,"a-label"),X=f(s,g,M,L,0,N,k._labels,"b-label");(function c(p,s,v,A,x,E,g,M){var w,n,S,d,I=y.aggNums(Math.min,null,v.a),L=y.aggNums(Math.max,null,v.a),B=y.aggNums(Math.min,null,v.b),k=y.aggNums(Math.max,null,v.b);S=v.ab2xy(w=.5*(I+L),n=B,!0),d=v.dxyda_rough(w,n),void 0===g.angle&&y.extendFlat(g,C(v,x,E,S,v.dxydb_rough(w,n))),b(p,s,v,0,S,d,v.aaxis,x,E,g,"a-title"),S=v.ab2xy(w=I,n=.5*(B+k),!0),d=v.dxydb_rough(w,n),void 0===M.angle&&y.extendFlat(M,C(v,x,E,S,v.dxyda_rough(w,n))),b(p,s,v,0,S,d,v.baxis,x,E,M,"b-title")})(s,N,L,0,g,M,H,X),function i(p,s,v,A,x){var E,g,M,w,n=v.select("#"+p._clipPathId);n.size()||(n=v.append("clipPath").classed("carpetclip",!0));var S=y.ensureSingle(n,"path","carpetboundary"),d=s.clipsegments,I=[];for(w=0;w<d.length;w++)g=o([],(E=d[w]).x,A.c2p),M=o([],E.y,x.c2p),I.push(P(g,M,E.bicubic));var L="M"+I.join("L")+"Z";n.attr("id",p._clipPathId),S.attr("d",L)}(L,I,n,g,M)})};var m=l.LINE_SPACING,a=(1-l.MID_SHIFT)/m+1;function b(p,s,v,A,x,E,g,M,w,n,S){var d=[];g.title.text&&d.push(g.title.text);var I=s.selectAll("text."+S).data(d),L=n.maxExtent;I.enter().append("text").classed(S,!0),I.each(function(){var B=C(v,M,w,x,E);-1===["start","both"].indexOf(g.showticklabels)&&(L=0);var k=g.title.font.size;L+=k+g.title.offset;var O=(n.angle+(n.flip<0?180:0)-B.angle+450)%360,F=O>90&&O<270,N=T.select(this);N.text(g.title.text).call(h.convertToTspans,p),F&&(L=(-h.lineCount(N)+a)*m*k-L),N.attr("transform",r(B.p[0],B.p[1])+t(B.angle)+r(0,L)).attr("text-anchor","middle").call(D.font,g.title.font)}),I.exit().remove()}},11435:function(te,Y,e){"use strict";var T=e(35509),D=e(65888).findBin,o=e(45664),P=e(20349),C=e(54495),h=e(73057);te.exports=function(t){var r=t._a,l=t._b,i=r.length,u=l.length,f=t.aaxis,c=t.baxis,m=r[0],a=r[i-1],b=l[0],p=l[u-1],s=r[r.length-1]-r[0],v=l[l.length-1]-l[0],A=s*T.RELATIVE_CULL_TOLERANCE,x=v*T.RELATIVE_CULL_TOLERANCE;m-=A,a+=A,b-=x,p+=x,t.isVisible=function(E,g){return E>m&&E<a&&g>b&&g<p},t.isOccluded=function(E,g){return E<m||E>a||g<b||g>p},t.setScale=function(){var M=o(t._xctrl,t._yctrl,t._x,t._y,f.smoothing,c.smoothing);t._xctrl=M[0],t._yctrl=M[1],t.evalxy=P([t._xctrl,t._yctrl],i,u,f.smoothing,c.smoothing),t.dxydi=C([t._xctrl,t._yctrl],f.smoothing,c.smoothing),t.dxydj=h([t._xctrl,t._yctrl],f.smoothing,c.smoothing)},t.i2a=function(E){var g=Math.max(0,Math.floor(E[0]),i-2),M=E[0]-g;return(1-M)*r[g]+M*r[g+1]},t.j2b=function(E){var g=Math.max(0,Math.floor(E[1]),i-2),M=E[1]-g;return(1-M)*l[g]+M*l[g+1]},t.ij2ab=function(E){return[t.i2a(E[0]),t.j2b(E[1])]},t.a2i=function(E){var g=Math.max(0,Math.min(D(E,r),i-2)),M=r[g];return Math.max(0,Math.min(i-1,g+(E-M)/(r[g+1]-M)))},t.b2j=function(E){var g=Math.max(0,Math.min(D(E,l),u-2)),M=l[g];return Math.max(0,Math.min(u-1,g+(E-M)/(l[g+1]-M)))},t.ab2ij=function(E){return[t.a2i(E[0]),t.b2j(E[1])]},t.i2c=function(E,g){return t.evalxy([],E,g)},t.ab2xy=function(E,g,M){if(!M&&(E<r[0]||E>r[i-1]|g<l[0]||g>l[u-1]))return[!1,!1];var w=t.a2i(E),n=t.b2j(g),S=t.evalxy([],w,n);if(M){var B,k,z,O,d=0,I=0,L=[];E<r[0]?(B=0,k=0,d=(E-r[0])/(r[1]-r[0])):E>r[i-1]?(B=i-2,k=1,d=(E-r[i-1])/(r[i-1]-r[i-2])):k=w-(B=Math.max(0,Math.min(i-2,Math.floor(w)))),g<l[0]?(z=0,O=0,I=(g-l[0])/(l[1]-l[0])):g>l[u-1]?(z=u-2,O=1,I=(g-l[u-1])/(l[u-1]-l[u-2])):O=n-(z=Math.max(0,Math.min(u-2,Math.floor(n)))),d&&(t.dxydi(L,B,z,k,O),S[0]+=L[0]*d,S[1]+=L[1]*d),I&&(t.dxydj(L,B,z,k,O),S[0]+=L[0]*I,S[1]+=L[1]*I)}return S},t.c2p=function(E,g,M){return[g.c2p(E[0]),M.c2p(E[1])]},t.p2x=function(E,g,M){return[g.p2c(E[0]),M.p2c(E[1])]},t.dadi=function(E){var g=Math.max(0,Math.min(r.length-2,E));return r[g+1]-r[g]},t.dbdj=function(E){var g=Math.max(0,Math.min(l.length-2,E));return l[g+1]-l[g]},t.dxyda=function(E,g,M,w){var n=t.dxydi(null,E,g,M,w),S=t.dadi(E,M);return[n[0]/S,n[1]/S]},t.dxydb=function(E,g,M,w){var n=t.dxydj(null,E,g,M,w),S=t.dbdj(g,w);return[n[0]/S,n[1]/S]},t.dxyda_rough=function(E,g,M){var w=s*(M||.1),n=t.ab2xy(E+w,g,!0),S=t.ab2xy(E-w,g,!0);return[.5*(n[0]-S[0])/w,.5*(n[1]-S[1])/w]},t.dxydb_rough=function(E,g,M){var w=v*(M||.1),n=t.ab2xy(E,g+w,!0),S=t.ab2xy(E,g-w,!0);return[.5*(n[0]-S[0])/w,.5*(n[1]-S[1])/w]},t.dpdx=function(E){return E._m},t.dpdy=function(E){return E._m}}},72505:function(te,Y,e){"use strict";var T=e(71828);te.exports=function(o,P,C){var h,y,t,X,ne,ue,ie,J,r=[],l=[],i=o[0].length,u=o.length,c=0;for(h=0;h<i;h++)for(y=0;y<u;y++)void 0===o[y][h]&&(r.push(h),l.push(y),o[y][h]=(ne=y,ue=void 0,ie=void 0,J=void 0,ie=0,J=0,(X=h)>0&&void 0!==(ue=o[ne][X-1])&&(J++,ie+=ue),X<i-1&&void 0!==(ue=o[ne][X+1])&&(J++,ie+=ue),ne>0&&void 0!==(ue=o[ne-1][X])&&(J++,ie+=ue),ne<u-1&&void 0!==(ue=o[ne+1][X])&&(J++,ie+=ue),ie/Math.max(1,J))),c=Math.max(c,Math.abs(o[y][h]));if(!r.length)return o;var m,a,b,p,s,v,A,x,E,g,n=0,d=0,I=r.length;do{for(n=0,t=0;t<I;t++){y=l[t];var z,F,N,H,L=0,B=0;0===(h=r[t])?(N=Math.min(i-1,2),B+=(z=o[y][1])+(z-o[y][N])*(P[0]-(F=P[1]))/(F-P[N]),L++):h===i-1&&(N=Math.max(0,i-3),B+=(z=o[y][i-2])+(z-o[y][N])*(P[i-1]-(F=P[i-2]))/(F-P[N]),L++),(0===h||h===i-1)&&y>0&&y<u-1&&(B+=((a=C[y]-C[y-1])*o[y+1][h]+(m=C[y+1]-C[y])*o[y-1][h])/(a+m),L++),0===y?(H=Math.min(u-1,2),B+=(z=o[1][h])+(z-o[H][h])*(C[0]-(F=C[1]))/(F-C[H]),L++):y===u-1&&(H=Math.max(0,u-3),B+=(z=o[u-2][h])+(z-o[H][h])*(C[u-1]-(F=C[u-2]))/(F-C[H]),L++),(0===y||y===u-1)&&h>0&&h<i-1&&(B+=((a=P[h]-P[h-1])*o[y][h+1]+(m=P[h+1]-P[h])*o[y][h-1])/(a+m),L++),L?B/=L:B=((A=(b=P[h+1]-P[h])*(p=P[h]-P[h-1])*(b+p))*((v=C[y]-C[y-1])*o[y+1][h]+(s=C[y+1]-C[y])*o[y-1][h])+(x=s*v*(s+v))*(p*o[y][h+1]+b*o[y][h-1]))/(x*(p+b)+A*(v+s)),n+=(g=(E=B-o[y][h])/c)*g,o[y][h]+=E*(1+(L?0:.85))}n=Math.sqrt(n)}while(d++<100&&n>1e-5);return T.log("Smoother converged to",n,"after",d,"iterations"),o}},19237:function(te,Y,e){"use strict";var T=e(71828).isArray1D;te.exports=function(o,P,C){var h=C("x"),y=h&&h.length,t=C("y"),r=t&&t.length;if(!y&&!r)return!1;if(P._cheater=!h,y&&!T(h)||r&&!T(t))P._length=null;else{var l=y?h.length:1/0;r&&(l=Math.min(l,t.length)),P.a&&P.a.length&&(l=Math.min(l,P.a.length)),P.b&&P.b.length&&(l=Math.min(l,P.b.length)),P._length=l}return!0}},69568:function(te,Y,e){"use strict";var T=e(5386).fF,D=e(19316),o=e(50693),P=e(9012),C=e(22399).defaultLine,h=e(1426).extendFlat,y=D.marker.line;te.exports=h({locations:{valType:"data_array",editType:"calc"},locationmode:D.locationmode,z:{valType:"data_array",editType:"calc"},geojson:h({},D.geojson,{}),featureidkey:D.featureidkey,text:h({},D.text,{}),hovertext:h({},D.hovertext,{}),marker:{line:{color:h({},y.color,{dflt:C}),width:h({},y.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:D.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:D.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:h({},P.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:T(),showlegend:h({},P.showlegend,{dflt:!1})},o("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(te,Y,e){"use strict";var T=e(92770),D=e(50606).BADNUM,o=e(78803),P=e(75225),C=e(66279);function h(y){return y&&"string"==typeof y}te.exports=function(t,r){var u,l=r._length,i=new Array(l);u=r.geojson?function(b){return h(b)||T(b)}:h;for(var f=0;f<l;f++){var c=i[f]={},m=r.locations[f],a=r.z[f];u(m)&&T(a)?(c.loc=m,c.z=a):(c.loc=null,c.z=D),c.index=f}return P(i,r),o(t,r,{vals:r.z,containerStr:"",cLetter:"z"}),C(i,r),i}},61869:function(te,Y,e){"use strict";var T=e(71828),D=e(1586),o=e(69568);te.exports=function(C,h,y,t){function r(a,b){return T.coerce(C,h,o,a,b)}var l=r("locations"),i=r("z");if(l&&l.length&&T.isArrayOrTypedArray(i)&&i.length){h._length=Math.min(l.length,i.length);var f,u=r("geojson");("string"==typeof u&&""!==u||T.isPlainObject(u))&&(f="geojson-id"),"geojson-id"===r("locationmode",f)&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate"),r("marker.line.width")&&r("marker.line.color"),r("marker.opacity"),D(C,h,t,r,{prefix:"",cLetter:"z"}),T.coerceSelectionMarkerOpacity(h,r)}else h.visible=!1}},92069:function(te){"use strict";te.exports=function(e,T,D,o,P){e.location=T.location,e.z=T.z;var C=o[P];return C.fIn&&C.fIn.properties&&(e.properties=C.fIn.properties),e.ct=C.ct,e}},42300:function(te,Y,e){"use strict";var T=e(89298),D=e(69568),o=e(71828).fillText;te.exports=function(h,y,t){var u,f,c,m,r=h.cd,l=r[0].trace,i=h.subplot,a=[y,t],b=[y+360,t];for(f=0;f<r.length;f++)if(m=!1,(u=r[f])._polygons){for(c=0;c<u._polygons.length;c++)u._polygons[c].contains(a)&&(m=!m),u._polygons[c].contains(b)&&(m=!m);if(m)break}if(m&&u)return h.x0=h.x1=h.xa.c2p(u.ct),h.y0=h.y1=h.ya.c2p(u.ct),h.index=u.index,h.location=u.loc,h.z=u.z,h.zLabel=T.tickText(i.mockAxis,i.mockAxis.c2l(u.z),"hover").text,h.hovertemplate=u.hovertemplate,function P(C,h,y){if(!h.hovertemplate){var t=y.hi||h.hoverinfo,r=String(y.loc),l="all"===t?D.hoverinfo.flags:t.split("+"),i=-1!==l.indexOf("name"),u=-1!==l.indexOf("location"),f=-1!==l.indexOf("z"),c=-1!==l.indexOf("text"),a=[];!i&&u?C.nameOverride=r:(i&&(C.nameOverride=h.name),u&&a.push(r)),f&&a.push(C.zLabel),c&&o(y,h,a),C.extraText=a.join("<br>")}}(h,l,u),[h]}},51319:function(te,Y,e){"use strict";te.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(41327),P=e(90973).getTopojsonFeatures,C=e(71739).findExtremes,h=e(99636).style;te.exports={calcGeoJSON:function t(r,l){for(var i=r[0].trace,u=l[i.geo],f=u._subplot,c=i.locationmode,m=i._length,a="geojson-id"===c?o.extractTraceFeature(r):P(i,f.topojson),b=[],p=[],s=0;s<m;s++){var v=r[s],A="geojson-id"===c?v.fOut:o.locationToFeature(c,v.loc,a);if(A){v.geojson=A,v.ct=A.properties.ct,v._polygons=o.feature2polygons(A);var x=o.computeBbox(A);b.push(x[0],x[2]),p.push(x[1],x[3])}else v.geojson=null}if("geojson"===u.fitbounds&&"geojson-id"===c){var E=o.computeBbox(o.getTraceGeojson(i));b=[E[0],E[2]],p=[E[1],E[3]]}var g={padded:!0};i._extremes.lon=C(u.lonaxis._ax,b,g),i._extremes.lat=C(u.lataxis._ax,p,g)},plot:function y(r,l,i){var u=l.layers.backplot.select(".choroplethlayer");D.makeTraceGroups(u,i,"trace choropleth").each(function(f){var m=T.select(this).selectAll("path.choroplethlocation").data(D.identity);m.enter().append("path").classed("choroplethlocation",!0),m.exit().remove(),h(r,f)})}}},81253:function(te){"use strict";te.exports=function(e,T){var h,y,t,r,l,D=e.cd,o=e.xaxis,P=e.yaxis,C=[];if(!1===T)for(h=0;h<D.length;h++)D[h].selected=0;else for(h=0;h<D.length;h++)(t=(y=D[h]).ct)&&(r=o.c2p(t),l=P.c2p(t),T.contains([r,l],null,h,e)?(C.push({pointNumber:h,lon:t[0],lat:t[1]}),y.selected=1):y.selected=0);return C}},99636:function(te,Y,e){"use strict";var T=e(39898),D=e(7901),o=e(91424),P=e(21081);function h(t,r){var l=r[0].trace,u=r[0].node3.selectAll(".choroplethlocation"),f=l.marker||{},c=f.line||{},m=P.makeColorScaleFuncFromTrace(l);u.each(function(a){T.select(this).attr("fill",m(a.z)).call(D.stroke,a.mlc||c.color).call(o.dashLine,"",a.mlw||c.width||0).style("opacity",f.opacity)}),o.selectedPointStyle(u,l)}te.exports={style:function C(t,r){r&&h(0,r)},styleOnSelect:function y(t,r){var i=r[0].trace;i.selectedpoints?o.selectedPointStyle(r[0].node3.selectAll(".choroplethlocation"),i):h(0,r)}}},64496:function(te,Y,e){"use strict";var T=e(69568),D=e(50693),o=e(5386).fF,P=e(9012),C=e(1426).extendFlat;te.exports=C({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:C({},T.featureidkey,{}),below:{valType:"string",editType:"plot"},text:T.text,hovertext:T.hovertext,marker:{line:{color:C({},T.marker.line.color,{editType:"plot"}),width:C({},T.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:C({},T.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:C({},T.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:C({},T.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:T.hoverinfo,hovertemplate:o({},{keys:["properties"]}),showlegend:C({},P.showlegend,{dflt:!1})},D("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(te,Y,e){"use strict";var T=e(92770),D=e(71828),o=e(21081),P=e(91424),C=e(18214).makeBlank,h=e(41327);function t(r){var u,l=r[0].trace,i=l._opts;if(l.selectedpoints){for(var f=P.makeSelectedPointStyleFns(l),c=0;c<r.length;c++){var m=r[c];m.fOut&&(m.fOut.properties.mo2=f.selectedOpacityFn(m))}u={type:"identity",property:"mo2"}}else u=D.isArrayOrTypedArray(l.marker.opacity)?{type:"identity",property:"mo"}:l.marker.opacity;return D.extendFlat(i.fill.paint,{"fill-opacity":u}),D.extendFlat(i.line.paint,{"line-opacity":u}),i}te.exports={convert:function y(r){var l=r[0].trace,i=!0===l.visible&&0!==l._length,u={layout:{visibility:"none"},paint:{}},f={layout:{visibility:"none"},paint:{}},c=l._opts={fill:u,line:f,geojson:C()};if(!i)return c;var m=h.extractTraceFeature(r);if(!m)return c;var s,v,A,a=o.makeColorScaleFuncFromTrace(l),b=l.marker,p=b.line||{};D.isArrayOrTypedArray(b.opacity)&&(s=function(n){var S=n.mo;return T(S)?+D.constrain(S,0,1):0}),D.isArrayOrTypedArray(p.color)&&(v=function(n){return n.mlc}),D.isArrayOrTypedArray(p.width)&&(A=function(n){return n.mlw});for(var x=0;x<r.length;x++){var E=r[x],g=E.fOut;if(g){var M=g.properties;M.fc=a(E.z),s&&(M.mo=s(E)),v&&(M.mlc=v(E)),A&&(M.mlw=A(E)),E.ct=M.ct,E._polygons=h.feature2polygons(g)}}var w=s?{type:"identity",property:"mo"}:b.opacity;return D.extendFlat(u.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":w}),D.extendFlat(f.paint,{"line-color":v?{type:"identity",property:"mlc"}:p.color,"line-width":A?{type:"identity",property:"mlw"}:p.width,"line-opacity":w}),u.layout.visibility="visible",f.layout.visibility="visible",c.geojson={type:"FeatureCollection",features:m},t(r),c},convertOnSelect:t}},22654:function(te,Y,e){"use strict";var T=e(71828),D=e(1586),o=e(64496);te.exports=function(C,h,y,t){function r(c,m){return T.coerce(C,h,o,c,m)}var l=r("locations"),i=r("z"),u=r("geojson");T.isArrayOrTypedArray(l)&&l.length&&T.isArrayOrTypedArray(i)&&i.length&&("string"==typeof u&&""!==u||T.isPlainObject(u))?(r("featureidkey"),h._length=Math.min(l.length,i.length),r("below"),r("text"),r("hovertext"),r("hovertemplate"),r("marker.line.width")&&r("marker.line.color"),r("marker.opacity"),D(C,h,t,r,{prefix:"",cLetter:"z"}),T.coerceSelectionMarkerOpacity(h,r)):h.visible=!1}},57516:function(te,Y,e){"use strict";te.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(T,D){D&&D[0].trace._glTrace.updateOnSelect(D)},getBelow:function(T,D){for(var o=D.getMapLayers(),P=o.length-2;P>=0;P--){var C=o[P].id;if("string"==typeof C&&0===C.indexOf("water"))for(var h=P+1;h<o.length;h++)if("string"==typeof(C=o[h].id)&&-1===C.indexOf("plotly-"))return C}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(te,Y,e){"use strict";var T=e(82004).convert,D=e(82004).convertOnSelect,o=e(77734).traceLayerPrefix;function P(h,y){this.type="choroplethmapbox",this.subplot=h,this.uid=y,this.sourceId="source-"+y,this.layerList=[["fill",o+y+"-fill"],["line",o+y+"-line"]],this.below=null}var C=P.prototype;C.update=function(h){this._update(T(h)),h[0].trace._glTrace=this},C.updateOnSelect=function(h){this._update(D(h))},C._update=function(h){var y=this.subplot,t=this.layerList,r=y.belowLookup["trace-"+this.uid];y.map.getSource(this.sourceId).setData(h.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(h,r),this.below=r);for(var l=0;l<t.length;l++){var i=t[l],f=i[1],c=h[i[0]];y.setOptions(f,"setLayoutProperty",c.layout),"visible"===c.layout.visibility&&y.setOptions(f,"setPaintProperty",c.paint)}},C._addLayers=function(h,y){for(var t=this.subplot,r=this.layerList,l=this.sourceId,i=0;i<r.length;i++){var u=r[i],f=u[0],c=h[f];t.addLayer({type:f,id:u[1],source:l,layout:c.layout,paint:c.paint},y)}},C._removeLayers=function(){for(var h=this.subplot.map,y=this.layerList,t=y.length-1;t>=0;t--)h.removeLayer(y[t][1])},C.dispose=function(){var h=this.subplot.map;this._removeLayers(),h.removeSource(this.sourceId)},te.exports=function(y,t){var r=t[0].trace,l=new P(y,r.uid),i=l.sourceId,u=T(t),f=l.below=y.belowLookup["trace-"+r.uid];return y.map.addSource(i,{type:"geojson",data:u.geojson}),l._addLayers(u,f),t[0].trace._glTrace=l,l}},12674:function(te,Y,e){"use strict";var T=e(50693),D=e(12663).axisHoverFormat,o=e(5386).fF,P=e(2418),C=e(9012),h=e(1426).extendFlat,y={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:o({editType:"calc"},{keys:["norm"]}),uhoverformat:D("u",1),vhoverformat:D("v",1),whoverformat:D("w",1),xhoverformat:D("x"),yhoverformat:D("y"),zhoverformat:D("z"),showlegend:h({},C.showlegend,{dflt:!1})};h(y,T("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(r){y[r]=P[r]}),y.hoverinfo=h({},C.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),y.transforms=void 0,te.exports=y},31371:function(te,Y,e){"use strict";var T=e(78803);te.exports=function(o,P){for(var C=P.u,h=P.v,y=P.w,t=Math.min(P.x.length,P.y.length,P.z.length,C.length,h.length,y.length),r=-1/0,l=1/0,i=0;i<t;i++){var u=C[i],f=h[i],c=y[i],m=Math.sqrt(u*u+f*f+c*c);r=Math.max(r,m),l=Math.min(l,m)}P._len=t,P._normMax=r,T(o,P,{vals:[l,r],containerStr:"",cLetter:"c"})}},5453:function(te,Y,e){"use strict";var T=e(9330).gl_cone3d,D=e(9330).gl_cone3d.createConeMesh,o=e(71828).simpleMap,P=e(81697).parseColorScale,C=e(21081).extractOpts,h=e(90060);function y(c,m){this.scene=c,this.uid=m,this.mesh=null,this.data=null}var t=y.prototype;t.handlePick=function(c){if(c.object===this.mesh){var m=c.index=c.data.index,s=this.data.u[m],v=this.data.v[m],A=this.data.w[m];c.traceCoordinate=[this.data.x[m],this.data.y[m],this.data.z[m],s,v,A,Math.sqrt(s*s+v*v+A*A)];var x=this.data.hovertext||this.data.text;return Array.isArray(x)&&void 0!==x[m]?c.textLabel=x[m]:x&&(c.textLabel=x),!0}};var r={xaxis:0,yaxis:1,zaxis:2},l={tip:1,tail:0,cm:.25,center:.5},i={tip:1,tail:1,cm:.75,center:.5};function u(c,m){var a=c.fullSceneLayout,b=c.dataScale,p={};function s(E,g){var M=a[g],w=b[r[g]];return o(E,function(n){return M.d2l(n)*w})}p.vectors=h(s(m.u,"xaxis"),s(m.v,"yaxis"),s(m.w,"zaxis"),m._len),p.positions=h(s(m.x,"xaxis"),s(m.y,"yaxis"),s(m.z,"zaxis"),m._len);var v=C(m);p.colormap=P(m),p.vertexIntensityBounds=[v.min/m._normMax,v.max/m._normMax],p.coneOffset=l[m.anchor],p.coneSize="scaled"===m.sizemode?m.sizeref||.5:m.sizeref&&m._normMax?m.sizeref/m._normMax:.5;var A=T(p),x=m.lightposition;return A.lightPosition=[x.x,x.y,x.z],A.ambient=m.lighting.ambient,A.diffuse=m.lighting.diffuse,A.specular=m.lighting.specular,A.roughness=m.lighting.roughness,A.fresnel=m.lighting.fresnel,A.opacity=m.opacity,m._pad=i[m.anchor]*A.vectorScale*A.coneScale*m._normMax,A}t.update=function(c){this.data=c;var m=u(this.scene,c);this.mesh.update(m)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},te.exports=function f(c,m){var a=c.glplot.gl,b=u(c,m),p=D(a,b),s=new y(c,m.uid);return s.mesh=p,s.data=m,p._trace=s,c.glplot.add(p),s}},91750:function(te,Y,e){"use strict";var T=e(71828),D=e(1586),o=e(12674);te.exports=function(C,h,y,t){function r(a,b){return T.coerce(C,h,o,a,b)}var l=r("u"),i=r("v"),u=r("w"),f=r("x"),c=r("y"),m=r("z");l&&l.length&&i&&i.length&&u&&u.length&&f&&f.length&&c&&c.length&&m&&m.length?(r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),D(C,h,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),h._length=null):h.visible=!1}},98128:function(te,Y,e){"use strict";te.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(T,D){return T.norm=D.traceCoordinate[6],T},meta:{}}},70600:function(te,Y,e){"use strict";var T=e(21606),D=e(82196),o=e(12663),P=o.axisHoverFormat,C=o.descriptionOnlyNumbers,h=e(50693),y=e(79952).P,t=e(41940),r=e(1426).extendFlat,l=e(74808),i=l.COMPARISON_OPS2,u=l.INTERVAL_OPS,f=D.line;te.exports=r({z:T.z,x:T.x,x0:T.x0,dx:T.dx,y:T.y,y0:T.y0,dy:T.dy,xperiod:T.xperiod,yperiod:T.yperiod,xperiod0:D.xperiod0,yperiod0:D.yperiod0,xperiodalignment:T.xperiodalignment,yperiodalignment:T.yperiodalignment,text:T.text,hovertext:T.hovertext,transpose:T.transpose,xtype:T.xtype,ytype:T.ytype,xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:T.hovertemplate,texttemplate:r({},T.texttemplate,{}),textfont:r({},T.textfont,{}),hoverongaps:T.hoverongaps,connectgaps:r({},T.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:C("contour label")},operation:{valType:"enumerated",values:[].concat(i).concat(u),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:r({},f.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:y,smoothing:r({},f.smoothing,{}),editType:"plot"}},h("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(te,Y,e){"use strict";var T=e(21081),D=e(90757),o=e(18670),P=e(53572);te.exports=function(h,y){var t=D(h,y),r=t[0].z;o(y,r);var u,l=y.contours,i=T.extractOpts(y);if("heatmap"===l.coloring&&i.auto&&!1===y.autocontour){var f=l.start,c=P(l),m=l.size||1,a=Math.floor((c-f)/m)+1;isFinite(m)||(m=1,a=1);var b=f-m/2;u=[b,b+a*m]}else u=r;return T.calc(h,y,{vals:u,cLetter:"z"}),t}},20083:function(te){"use strict";te.exports=function(Y,e){var o,T=Y[0],D=T.z;switch(e.type){case"levels":var P=Math.min(D[0][0],D[0][1]);for(o=0;o<Y.length;o++){var C=Y[o];C.prefixBoundary=!C.edgepaths.length&&(P>C.level||C.starts.length&&P===C.level)}break;case"constraint":if(T.prefixBoundary=!1,T.edgepaths.length)return;var h=T.x.length,y=T.y.length,t=-1/0,r=1/0;for(o=0;o<y;o++)r=Math.min(r,D[o][0]),r=Math.min(r,D[o][h-1]),t=Math.max(t,D[o][0]),t=Math.max(t,D[o][h-1]);for(o=1;o<h-1;o++)r=Math.min(r,D[0][o]),r=Math.min(r,D[y-1][o]),t=Math.max(t,D[0][o]),t=Math.max(t,D[y-1][o]);var i,u,l=e.value;switch(e._operation){case">":l>t&&(T.prefixBoundary=!0);break;case"<":(l<r||T.starts.length&&l===r)&&(T.prefixBoundary=!0);break;case"[]":i=Math.min(l[0],l[1]),((u=Math.max(l[0],l[1]))<r||i>t||T.starts.length&&u===r)&&(T.prefixBoundary=!0);break;case"][":i=Math.min(l[0],l[1]),u=Math.max(l[0],l[1]),i<r&&u>t&&(T.prefixBoundary=!0)}}}},90654:function(te,Y,e){"use strict";var T=e(21081),D=e(86068),o=e(53572);te.exports={min:"zmin",max:"zmax",calc:function P(C,h,y){var t=h.contours,r=h.line,l=t.size||1,i=t.coloring,u=D(h,{isColorbar:!0});if("heatmap"===i){var f=T.extractOpts(h);y._fillgradient=f.reversescale?T.flipScale(f.colorscale):f.colorscale,y._zrange=[f.min,f.max]}else"fill"===i&&(y._fillcolor=u);y._line={color:"lines"===i?u:r.color,width:!1!==t.showlines?r.width:0,dash:r.dash},y._levels={start:t.start,end:o(t),size:l}}}},36914:function(te){"use strict";te.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(te,Y,e){"use strict";var T=e(92770),D=e(14523),o=e(7901),P=o.addOpacity,C=o.opacity,h=e(74808),y=h.CONSTRAINT_REDUCTION,t=h.COMPARISON_OPS2;te.exports=function(i,u,f,c,m,a){var p,s,v,b=u.contours,A=f("contours.operation");b._operation=y[A],function r(l,i){var u;-1===t.indexOf(i.operation)?(l("contours.value",[0,1]),Array.isArray(i.value)?i.value.length>2?i.value=i.value.slice(2):0===i.length?i.value=[0,1]:i.length<2?(u=parseFloat(i.value[0]),i.value=[u,u+1]):i.value=[parseFloat(i.value[0]),parseFloat(i.value[1])]:T(i.value)&&(u=parseFloat(i.value),i.value=[u,u+1])):(l("contours.value",0),T(i.value)||(i.value=Array.isArray(i.value)?parseFloat(i.value[0]):0))}(f,b),"="===A?p=b.showlines=!0:(p=f("contours.showlines"),v=f("fillcolor",P((i.line||{}).color||m,.5))),p&&(s=f("line.color",v&&C(v)?P(u.fillcolor,1):m),f("line.width",2),f("line.dash")),f("line.smoothing"),D(f,c,s,a)}},64237:function(te,Y,e){"use strict";var T=e(74808),D=e(92770);function o(h,y){var r,t=Array.isArray(y);function l(i){return D(i)?+i:null}return-1!==T.COMPARISON_OPS2.indexOf(h)?r=l(t?y[0]:y):-1!==T.INTERVAL_OPS.indexOf(h)?r=t?[l(y[0]),l(y[1])]:[l(y),l(y)]:-1!==T.SET_OPS.indexOf(h)&&(r=t?y.map(l):[l(y)]),r}function P(h){return function(y){y=o(h,y);var t=Math.min(y[0],y[1]),r=Math.max(y[0],y[1]);return{start:t,end:r,size:r-t}}}function C(h){return function(y){return{start:y=o(h,y),end:1/0,size:1/0}}}te.exports={"[]":P("[]"),"][":P("]["),">":C(">"),"<":C("<"),"=":C("=")}},67217:function(te){"use strict";te.exports=function(e,T,D,o){var P=o("contours.start"),C=o("contours.end"),h=!1===P||!1===C,y=D("contours.size");((h?T.autocontour=!0:D("autocontour",!1))||!y)&&D("ncontours")}},84857:function(te,Y,e){"use strict";var T=e(71828);function D(o){return T.extendFlat({},o,{edgepaths:T.extendDeep([],o.edgepaths),paths:T.extendDeep([],o.paths),starts:T.extendDeep([],o.starts)})}te.exports=function(o,P){var C,h,y,t=function(i){return i.reverse()},r=function(i){return i};switch(P){case"=":case"<":return o;case">":for(1!==o.length&&T.warn("Contour data invalid for the specified inequality operation."),h=o[0],C=0;C<h.edgepaths.length;C++)h.edgepaths[C]=t(h.edgepaths[C]);for(C=0;C<h.paths.length;C++)h.paths[C]=t(h.paths[C]);for(C=0;C<h.starts.length;C++)h.starts[C]=t(h.starts[C]);return o;case"][":var l=t;t=r,r=l;case"[]":for(2!==o.length&&T.warn("Contour data invalid for the specified inequality range operation."),h=D(o[0]),y=D(o[1]),C=0;C<h.edgepaths.length;C++)h.edgepaths[C]=t(h.edgepaths[C]);for(C=0;C<h.paths.length;C++)h.paths[C]=t(h.paths[C]);for(C=0;C<h.starts.length;C++)h.starts[C]=t(h.starts[C]);for(;y.edgepaths.length;)h.edgepaths.push(r(y.edgepaths.shift()));for(;y.paths.length;)h.paths.push(r(y.paths.shift()));for(;y.starts.length;)h.starts.push(r(y.starts.shift()));return[h]}}},13031:function(te,Y,e){"use strict";var T=e(71828),D=e(67684),o=e(73927),P=e(83179),C=e(67217),h=e(8724),y=e(58623),t=e(70600);te.exports=function(l,i,u,f){function c(p,s){return T.coerce(l,i,t,p,s)}if(D(l,i,c,f)){o(l,i,f,c),c("xhoverformat"),c("yhoverformat"),c("text"),c("hovertext"),c("hoverongaps"),c("hovertemplate");var b="constraint"===c("contours.type");c("connectgaps",T.isArray1D(i.z)),b?P(l,i,c,f,u):(C(l,i,c,function m(p){return T.coerce2(l,i,t,p)}),h(l,i,c,f)),i.contours&&"heatmap"===i.contours.coloring&&y(c,f)}else i.visible=!1}},87558:function(te,Y,e){"use strict";var T=e(71828),D=e(64237),o=e(53572);te.exports=function(C,h,y){for(var t="constraint"===C.type?D[C._operation](C.value):C,r=t.size,l=[],i=o(t),u=y.trace._carpetTrace,f=u?{xaxis:u.aaxis,yaxis:u.baxis,x:y.a,y:y.b}:{xaxis:h.xaxis,yaxis:h.yaxis,x:y.x,y:y.y},c=t.start;c<i;c+=r)if(l.push(T.extendFlat({level:c,crossings:{},starts:[],edgepaths:[],paths:[],z:y.z,smoothing:y.trace.line.smoothing},f)),l.length>1e3){T.warn("Too many contours, clipping at 1000",C);break}return l}},53572:function(te){"use strict";te.exports=function(e){return e.end+e.size/1e6}},81696:function(te,Y,e){"use strict";var T=e(71828),D=e(36914);function o(t,r,l,i){return Math.abs(t[0]-r[0])<l&&Math.abs(t[1]-r[1])<i}function P(t,r){var l=t[2]-r[2],i=t[3]-r[3];return Math.sqrt(l*l+i*i)}function C(t,r,l,i,u){var A,f=r.join(","),c=t.crossings[f],m=function h(t,r,l){var i=0,u=0;return t>20&&r?208===t||1114===t?i=0===l[0]?1:-1:u=0===l[1]?1:-1:-1!==D.BOTTOMSTART.indexOf(t)?u=1:-1!==D.LEFTSTART.indexOf(t)?i=1:-1!==D.TOPSTART.indexOf(t)?u=-1:i=-1,[i,u]}(c,l,r),a=[y(t,r,[-m[0],-m[1]])],b=t.z.length,p=t.z[0].length,s=r.slice(),v=m.slice();for(A=0;A<1e4;A++){if(c>20?t.crossings[f]=D.SADDLEREMAINDER[c=D.CHOOSESADDLE[c][(m[0]||m[1])<0?0:1]]:delete t.crossings[f],!(m=D.NEWDELTA[c])){T.log("Found bad marching index:",c,r,t.level);break}if(a.push(y(t,r,m)),r[0]+=m[0],r[1]+=m[1],f=r.join(","),o(a[a.length-1],a[a.length-2],i,u)&&a.pop(),r[0]===s[0]&&r[1]===s[1]&&m[0]===v[0]&&m[1]===v[1]||l&&(m[0]&&(r[0]<0||r[0]>p-2)||m[1]&&(r[1]<0||r[1]>b-2)))break;c=t.crossings[f]}1e4===A&&T.log("Infinite loop in contour?");var d,I,L,B,k,z,O,F,N,H,X,g=o(a[0],a[a.length-1],i,u),M=0,w=.2*t.smoothing,n=[],S=0;for(A=1;A<a.length;A++)M+=O=P(a[A],a[A-1]),n.push(O);var ne=M/n.length*w;function ie(j){return a[j%a.length]}for(A=a.length-2;A>=S;A--)if((d=n[A])<ne){for(L=0,I=A-1;I>=S&&d+n[I]<ne;I--)d+=n[I];if(g&&A===a.length-2)for(L=0;L<I&&d+n[L]<ne;L++)d+=n[L];k=A-I+L+1,z=Math.floor((A+I+L+2)/2),B=g||A!==a.length-2?g||-1!==I?k%2?ie(z):[(ie(z)[0]+ie(z+1)[0])/2,(ie(z)[1]+ie(z+1)[1])/2]:a[0]:a[a.length-1],a.splice(I+1,A-I+1,B),A=I+1,L&&(S=L),g&&(A===a.length-2?a[L]=a[a.length-1]:0===A&&(a[a.length-1]=a[0]))}for(a.splice(0,S),A=0;A<a.length;A++)a[A].length=2;if(!(a.length<2))if(g)a.pop(),t.paths.push(a);else{l||T.log("Unclosed interior contour?",t.level,s.join(","),a.join("L"));var ue=!1;for(F=0;F<t.edgepaths.length;F++)if(H=t.edgepaths[F],!ue&&o(H[0],a[a.length-1],i,u)){a.pop(),ue=!0;var J=!1;for(N=0;N<t.edgepaths.length;N++)if(o((X=t.edgepaths[N])[X.length-1],a[0],i,u)){J=!0,a.shift(),t.edgepaths.splice(F,1),N===F?t.paths.push(a.concat(X)):(N>F&&N--,t.edgepaths[N]=X.concat(a,H));break}J||(t.edgepaths[F]=a.concat(H))}for(F=0;F<t.edgepaths.length&&!ue;F++)o((H=t.edgepaths[F])[H.length-1],a[0],i,u)&&(a.shift(),t.edgepaths[F]=H.concat(a),ue=!0);ue||t.edgepaths.push(a)}}function y(t,r,l){var i=r[0]+Math.max(l[0],0),u=r[1]+Math.max(l[1],0),f=t.z[u][i],c=t.xaxis,m=t.yaxis;if(l[1]){var a=(t.level-f)/(t.z[u][i+1]-f),b=(1!==a?(1-a)*c.c2l(t.x[i]):0)+(0!==a?a*c.c2l(t.x[i+1]):0);return[c.c2p(c.l2c(b),!0),m.c2p(t.y[u],!0),i+a,u]}var p=(t.level-f)/(t.z[u+1][i]-f),s=(1!==p?(1-p)*m.c2l(t.y[u]):0)+(0!==p?p*m.c2l(t.y[u+1]):0);return[c.c2p(t.x[i],!0),m.c2p(m.l2c(s),!0),i,u+p]}te.exports=function(r,l,i){var u,c,m,a;for(l=l||.01,i=i||.01,c=0;c<r.length;c++){for(m=r[c],a=0;a<m.starts.length;a++)C(m,m.starts[a],"edge",l,i);for(u=0;Object.keys(m.crossings).length&&u<1e4;)u++,C(m,Object.keys(m.crossings)[0].split(",").map(Number),void 0,l,i);1e4===u&&T.log("Infinite loop in contour?")}}},52421:function(te,Y,e){"use strict";var T=e(7901),D=e(46248);te.exports=function(P,C,h,y,t){t||(t={}),t.isContour=!0;var r=D(P,C,h,y,t);return r&&r.forEach(function(l){var i=l.trace;"constraint"===i.contours.type&&(i.fillcolor&&T.opacity(i.fillcolor)?l.color=T.addOpacity(i.fillcolor,1):i.contours.showlines&&T.opacity(i.line.color)&&(l.color=T.addOpacity(i.line.color,1)))}),r}},99442:function(te,Y,e){"use strict";te.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(te,Y,e){"use strict";var T=e(71828);te.exports=function(o,P,C,h){if(h||(h={}),o("contours.showlabels")){var t=P.font;T.coerceFont(o,"contours.labelfont",{family:t.family,size:t.size,color:C}),o("contours.labelformat")}!1!==h.hasHover&&o("zhoverformat")}},86068:function(te,Y,e){"use strict";var T=e(39898),D=e(21081),o=e(53572);te.exports=function(C){var h=C.contours,y=h.start,t=o(h),r=h.size||1,l=Math.floor((t-y)/r)+1,i="lines"===h.coloring?0:1,u=D.extractOpts(C);isFinite(r)||(r=1,l=1);var b,p,f=u.reversescale?D.flipScale(u.colorscale):u.colorscale,c=f.length,m=new Array(c),a=new Array(c),s=u.min,v=u.max;if("heatmap"===h.coloring){for(p=0;p<c;p++)m[p]=(b=f[p])[0]*(v-s)+s,a[p]=b[1];var A=T.extent([s,v,h.start,h.start+r*(l-1)]),x=A[s<v?0:1],E=A[s<v?1:0];x!==s&&(m.splice(0,0,x),a.splice(0,0,a[0])),E!==v&&(m.push(E),a.push(a[a.length-1]))}else{var g=C._input&&"number"==typeof C._input.zmin&&"number"==typeof C._input.zmax;for(g&&(y<=s||t>=v)&&(y<=s&&(y=s),t>=v&&(t=v),l=Math.floor((t-y)/r)+1,i=0),p=0;p<c;p++)m[p]=((b=f[p])[0]*(l+i-1)-i/2)*r+y,a[p]=b[1];(g||C.autocontour)&&(m[0]>s&&(m.unshift(s),a.unshift(a[0])),m[m.length-1]<v&&(m.push(v),a.push(a[a.length-1])))}return D.makeColorScaleFunc({domain:m,range:a},{noNumericCheck:!0})}},87678:function(te,Y,e){"use strict";var T=e(36914);function D(o,P){var C=(P[0][0]>o?0:1)+(P[0][1]>o?0:2)+(P[1][1]>o?0:4)+(P[1][0]>o?0:8);return 5===C||10===C?o>(P[0][0]+P[0][1]+P[1][0]+P[1][1])/4?5===C?713:1114:5===C?104:208:15===C?0:C}te.exports=function(P){var r,l,i,u,f,c,m,a,b,C=P[0].z,h=C.length,y=C[0].length,t=2===h||2===y;for(l=0;l<h-1;l++)for(u=[],0===l&&(u=u.concat(T.BOTTOMSTART)),l===h-2&&(u=u.concat(T.TOPSTART)),r=0;r<y-1;r++)for(i=u.slice(),0===r&&(i=i.concat(T.LEFTSTART)),r===y-2&&(i=i.concat(T.RIGHTSTART)),f=r+","+l,c=[[C[l][r],C[l][r+1]],[C[l+1][r],C[l+1][r+1]]],b=0;b<P.length;b++)(m=D((a=P[b]).level,c))&&(a.crossings[f]=m,-1!==i.indexOf(m)&&(a.starts.push([r,l]),t&&-1!==i.indexOf(m,i.indexOf(m)+1)&&a.starts.push([r,l])))}},29854:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(91424),P=e(21081),C=e(63893),h=e(89298),y=e(21994),t=e(50347),r=e(87678),l=e(81696),i=e(87558),u=e(84857),f=e(20083),c=e(36914),m=c.LABELOPTIMIZER;function p(E,g){var d,I,L,B,k,z,M="",w=0,n=E.edgepaths.map(function(ne,ie){return ie}),S=!0;function F(ne){return Math.abs(ne[1]-g[2][1])<.01}function H(ne){return Math.abs(ne[0]-g[2][0])<.01}for(;n.length;){for(z=o.smoothopen(E.edgepaths[w],E.smoothing),M+=S?z:z.replace(/^M/,"L"),n.splice(n.indexOf(w),1),d=E.edgepaths[w][E.edgepaths[w].length-1],B=-1,L=0;L<4;L++){if(!d){D.log("Missing end?",w,E);break}for(Math.abs(d[1]-g[0][1])<.01&&!H(d)?I=g[1]:Math.abs(d[0]-g[0][0])<.01?I=g[0]:F(d)?I=g[3]:H(d)&&(I=g[2]),k=0;k<E.edgepaths.length;k++){var X=E.edgepaths[k][0];Math.abs(d[0]-I[0])<.01?Math.abs(d[0]-X[0])<.01&&(X[1]-d[1])*(I[1]-X[1])>=0&&(I=X,B=k):Math.abs(d[1]-I[1])<.01?Math.abs(d[1]-X[1])<.01&&(X[0]-d[0])*(I[0]-X[0])>=0&&(I=X,B=k):D.log("endpt to newendpt is not vert. or horz.",d,I,X)}if(d=I,B>=0)break;M+="L"+I}if(B===E.edgepaths.length){D.log("unclosed perimeter path");break}(S=-1===n.indexOf(w=B))&&(w=n[0],M+="Z")}for(w=0;w<E.paths.length;w++)M+=o.smoothclosed(E.paths[w],E.smoothing);return M}function v(E,g,M,w){var n=g.width/2,S=g.height/2,d=E.x,I=E.y,L=E.theta,B=Math.cos(L)*n,k=Math.sin(L)*n,z=(d>w.center?w.right-d:d-w.left)/(B+Math.abs(Math.sin(L)*S)),O=(I>w.middle?w.bottom-I:I-w.top)/(Math.abs(k)+Math.cos(L)*S);if(z<1||O<1)return 1/0;var F=m.EDGECOST*(1/(z-1)+1/(O-1));F+=m.ANGLECOST*L*L;for(var N=d-B,H=I-k,X=d+B,ne=I+k,ie=0;ie<M.length;ie++){var ue=M[ie],J=Math.cos(ue.theta)*ue.width/2,j=Math.sin(ue.theta)*ue.width/2,W=2*D.segmentDistance(N,H,X,ne,ue.x-J,ue.y-j,ue.x+J,ue.y+j)/(g.height+ue.height),V=ue.level===g.level,K=V?m.SAMELEVELDISTANCE:1;if(W<=K)return 1/0;F+=m.NEIGHBORCOST*(V?m.SAMELEVELFACTOR:1)/(W-K)}return F}function x(E){var S,I,g=E.trace._emptypoints,M=[],w=E.z.length,n=E.z[0].length,d=[];for(S=0;S<n;S++)d.push(1);for(S=0;S<w;S++)M.push(d.slice());for(S=0;S<g.length;S++)M[(I=g[S])[0]][I[1]]=0;return E.zmask=M,M}Y.plot=function(g,M,w,n){var S=M.xaxis,d=M.yaxis;D.makeTraceGroups(n,w,"contour").each(function(I){var L=T.select(this),B=I[0],z=B.x,O=B.y,F=B.trace.contours,N=i(F,M,B),H=D.ensureSingle(L,"g","heatmapcoloring"),X=[];"heatmap"===F.coloring&&(X=[I]),t(g,M,X,H),r(N),l(N);var ne=S.c2p(z[0],!0),ie=S.c2p(z[z.length-1],!0),ue=d.c2p(O[0],!0),J=d.c2p(O[O.length-1],!0),j=[[ne,J],[ie,J],[ie,ue],[ne,ue]],W=N;"constraint"===F.type&&(W=u(N,F._operation)),function a(E,g,M){var n=D.ensureSingle(E,"g","contourbg").selectAll("path").data("fill"===M.coloring?[0]:[]);n.enter().append("path"),n.exit().remove(),n.attr("d","M"+g.join("L")+"Z").style("stroke","none")}(L,j,F),function b(E,g,M,w){var n="fill"===w.coloring||"constraint"===w.type&&"="!==w._operation,S="M"+M.join("L")+"Z";n&&f(g,w);var I=D.ensureSingle(E,"g","contourfill").selectAll("path").data(n?g:[]);I.enter().append("path"),I.exit().remove(),I.each(function(L){var B=(L.prefixBoundary?S:"")+p(L,M);B?T.select(this).attr("d",B).style("stroke","none"):T.select(this).remove()})}(L,W,j,F),function s(E,g,M,w,n){var S=M._context.staticPlot,d=D.ensureSingle(E,"g","contourlines"),I=!1!==n.showlines,L=n.showlabels,B=I&&L,k=Y.createLines(d,I||L,g,S),z=Y.createLineClip(d,B,M,w.trace.uid),O=E.selectAll("g.contourlabels").data(L?[0]:[]);if(O.exit().remove(),O.enter().append("g").classed("contourlabels",!0),L){var F=[],N=[];D.clearLocationCache();var H=Y.labelFormatter(M,w),X=o.tester.append("text").attr("data-notex",1).call(o.font,n.labelfont),ne=g[0].xaxis,ie=g[0].yaxis,ue=ne._length,J=ie._length,j=ne.range,W=ie.range,V=D.aggNums(Math.min,null,w.x),K=D.aggNums(Math.max,null,w.x),ae=D.aggNums(Math.min,null,w.y),Q=D.aggNums(Math.max,null,w.y),Z=Math.max(ne.c2p(V,!0),0),re=Math.min(ne.c2p(K,!0),ue),q=Math.max(ie.c2p(Q,!0),0),se=Math.min(ie.c2p(ae,!0),J),de={};j[0]<j[1]?(de.left=Z,de.right=re):(de.left=re,de.right=Z),W[0]<W[1]?(de.top=q,de.bottom=se):(de.top=se,de.bottom=q),de.middle=(de.top+de.bottom)/2,de.center=(de.left+de.right)/2,F.push([[de.left,de.top],[de.right,de.top],[de.right,de.bottom],[de.left,de.bottom]]);var we=Math.sqrt(ue*ue+J*J),ye=c.LABELDISTANCE*we/Math.max(1,g.length/c.LABELINCREASE);k.each(function(Pe){var Ie=Y.calcTextOpts(Pe.level,H,X,M);T.select(this).selectAll("path").each(function(){var xe=D.getVisibleSegment(this,de,Ie.height/2);if(xe&&!(xe.len<(Ie.width+Ie.height)*c.LABELMIN))for(var Me=Math.min(Math.ceil(xe.len/ye),c.LABELMAX),Ge=0;Ge<Me;Ge++){var Ye=Y.findBestTextLocation(this,xe,Ie,N,de);if(!Ye)break;Y.addLabelData(Ye,Ie,N,F)}})}),X.remove(),Y.drawLabels(O,N,M,z,B?F:null)}L&&!I&&k.remove()}(L,N,g,B,F),function A(E,g,M,w,n){var S=w.trace,I="clip"+S.uid,L=M._fullLayout._clips.selectAll("#"+I).data(S.connectgaps?[]:[0]);if(L.enter().append("clipPath").classed("contourclip",!0).attr("id",I),L.exit().remove(),!1===S.connectgaps){var B={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:g.xaxis,yaxis:g.yaxis,x:w.x,y:w.y,z:x(w),smoothing:0};r([B]),l([B]),f([B],{type:"levels"}),D.ensureSingle(L,"path","").attr("d",(B.prefixBoundary?"M"+n.join("L")+"Z":"")+p(B,n))}else I=null;o.setClipUrl(E,I,M)}(L,M,g,B,j)})},Y.createLines=function(E,g,M,w){var n=M[0].smoothing,S=E.selectAll("g.contourlevel").data(g?M:[]);if(S.exit().remove(),S.enter().append("g").classed("contourlevel",!0),g){var d=S.selectAll("path.openline").data(function(L){return L.pedgepaths||L.edgepaths});d.exit().remove(),d.enter().append("path").classed("openline",!0),d.attr("d",function(L){return o.smoothopen(L,n)}).style("stroke-miterlimit",1).style("vector-effect",w?"none":"non-scaling-stroke");var I=S.selectAll("path.closedline").data(function(L){return L.ppaths||L.paths});I.exit().remove(),I.enter().append("path").classed("closedline",!0),I.attr("d",function(L){return o.smoothclosed(L,n)}).style("stroke-miterlimit",1).style("vector-effect",w?"none":"non-scaling-stroke")}return S},Y.createLineClip=function(E,g,M,w){var S=g?"clipline"+w:null,d=M._fullLayout._clips.selectAll("#"+S).data(g?[0]:[]);return d.exit().remove(),d.enter().append("clipPath").classed("contourlineclip",!0).attr("id",S),o.setClipUrl(E,S,M),d},Y.labelFormatter=function(E,g){var M=E._fullLayout,w=g.trace,n=w.contours,S={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(n.labelformat)S.tickformat=n.labelformat,y(S,M);else{var d=P.extractOpts(w);if(d&&d.colorbar&&d.colorbar._axis)S=d.colorbar._axis;else{if("constraint"===n.type){var I=n.value;S.range=Array.isArray(I)?[I[0],I[I.length-1]]:[I,I]}else S.range=[n.start,n.end],S.nticks=(n.end-n.start)/n.size;S.range[0]===S.range[1]&&(S.range[1]+=S.range[0]||1),S.nticks||(S.nticks=1e3),y(S,M),h.prepTicks(S),S._tmin=null,S._tmax=null}}return function(L){return h.tickText(S,L).text}},Y.calcTextOpts=function(E,g,M,w){var n=g(E);M.text(n).call(C.convertToTspans,w);var S=M.node(),d=o.bBox(S,!0);return{text:n,width:d.width,height:d.height,fontSize:+S.style["font-size"].replace("px",""),level:E,dy:(d.top+d.bottom)/2}},Y.findBestTextLocation=function(E,g,M,w,n){var d,I,L,B,k,S=M.width;g.isClosed?(d=g.min+(I=g.len/m.INITIALSEARCHPOINTS)/2,L=g.max):(d=g.min+(I=(g.len-S)/(m.INITIALSEARCHPOINTS+1))+S/2,L=g.max-(I+S)/2);for(var z=1/0,O=0;O<m.ITERATIONS;O++){for(var F=d;F<L;F+=I){var N=D.getTextLocation(E,g.total,F,S),H=v(N,M,w,n);H<z&&(z=H,k=N,B=F)}if(z>2*m.MAXCOST)break;O&&(I/=2),L=(d=B-I/2)+1.5*I}if(z<=m.MAXCOST)return k},Y.addLabelData=function(E,g,M,w){var n=g.fontSize,S=g.width+n/3,d=Math.max(0,g.height-n/3),I=E.x,L=E.y,B=E.theta,k=Math.sin(B),z=Math.cos(B),O=function(N,H){return[I+N*z-H*k,L+N*k+H*z]},F=[O(-S/2,-d/2),O(-S/2,d/2),O(S/2,d/2),O(S/2,-d/2)];M.push({text:g.text,x:I,y:L,dy:g.dy,theta:B,level:g.level,width:S,height:d}),w.push(F)},Y.drawLabels=function(E,g,M,w,n){var S=E.selectAll("text").data(g,function(B){return B.text+","+B.x+","+B.y+","+B.theta});if(S.exit().remove(),S.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(B){var k=B.x+Math.sin(B.theta)*B.dy,z=B.y-Math.cos(B.theta)*B.dy;T.select(this).text(B.text).attr({x:k,y:z,transform:"rotate("+180*B.theta/Math.PI+" "+k+" "+z+")"}).call(C.convertToTspans,M)}),n){for(var d="",I=0;I<n.length;I++)d+="M"+n[I].join("L")+"Z";D.ensureSingle(w,"path","").attr("d",d)}}},18670:function(te,Y,e){"use strict";var T=e(89298),D=e(71828);function o(P,C,h){var y={type:"linear",range:[P,C]};return T.autoTicks(y,(C-P)/(h||15)),y}te.exports=function(C,h){var y=C.contours;if(C.autocontour){var t=C.zmin,r=C.zmax;(C.zauto||void 0===t)&&(t=D.aggNums(Math.min,null,h)),(C.zauto||void 0===r)&&(r=D.aggNums(Math.max,null,h));var l=o(t,r,C.ncontours);y.size=l.dtick,y.start=T.tickFirst(l),l.range.reverse(),y.end=T.tickFirst(l),y.start===t&&(y.start+=y.size),y.end===r&&(y.end-=y.size),y.start>y.end&&(y.start=y.end=(y.start+y.end)/2),C._input.contours||(C._input.contours={}),D.extendFlat(C._input.contours,{start:y.start,end:y.end,size:y.size}),C._input.autocontour=!0}else if("constraint"!==y.type){var c,i=y.start,u=y.end,f=C._input.contours;i>u&&(y.start=f.start=u,u=y.end=f.end=i,i=y.start),y.size>0||(c=i===u?1:o(i,u,C.ncontours).dtick,f.size=y.size=c)}}},84426:function(te,Y,e){"use strict";var T=e(39898),D=e(91424),o=e(70035),P=e(86068);te.exports=function(h){var y=T.select(h).selectAll("g.contour");y.style("opacity",function(t){return t[0].trace.opacity}),y.each(function(t){var r=T.select(this),l=t[0].trace,i=l.contours,u=l.line,f=i.size||1,c=i.start,m="constraint"===i.type,a=!m&&"lines"===i.coloring,b=!m&&"fill"===i.coloring,p=a||b?P(l):null;r.selectAll("g.contourlevel").each(function(A){T.select(this).selectAll("path").call(D.lineGroupStyle,u.width,a?p(A.level):u.color,u.dash)});var s=i.labelfont;if(r.selectAll("g.contourlabels text").each(function(A){D.font(T.select(this),{family:s.family,size:s.size,color:s.color||(a?p(A.level):u.color)})}),m)r.selectAll("g.contourfill path").style("fill",l.fillcolor);else if(b){var v;r.selectAll("g.contourfill path").style("fill",function(A){return void 0===v&&(v=A.level),p(A.level+.5*f)}),void 0===v&&(v=c),r.selectAll("g.contourbg path").style("fill",p(v-.5*f))}}),o(h)}},8724:function(te,Y,e){"use strict";var T=e(1586),D=e(14523);te.exports=function(P,C,h,y,t){var l,r=h("contours.coloring"),i="";"fill"===r&&(l=h("contours.showlines")),!1!==l&&("lines"!==r&&(i=h("line.color","#000")),h("line.width",.5),h("line.dash")),"none"!==r&&(!0!==P.showlegend&&(C.showlegend=!1),C._dfltShowLegend=!1,T(P,C,y,h,{prefix:"",cLetter:"z"})),h("line.smoothing"),D(h,y,i,t)}},88085:function(te,Y,e){"use strict";var T=e(21606),D=e(70600),o=e(50693),P=e(1426).extendFlat,C=D.contours;te.exports=P({carpet:{valType:"string",editType:"calc"},z:T.z,a:T.x,a0:T.x0,da:T.dx,b:T.y,b0:T.y0,db:T.dy,text:T.text,hovertext:T.hovertext,transpose:T.transpose,atype:T.xtype,btype:T.ytype,fillcolor:D.fillcolor,autocontour:D.autocontour,ncontours:D.ncontours,contours:{type:C.type,start:C.start,end:C.end,size:C.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:C.showlines,showlabels:C.showlabels,labelfont:C.labelfont,labelformat:C.labelformat,operation:C.operation,value:C.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:D.line.color,width:D.line.width,dash:D.line.dash,smoothing:D.line.smoothing,editType:"plot"},transforms:void 0},o("",{cLetter:"z",autoColorDflt:!1}))},59885:function(te,Y,e){"use strict";var T=e(78803),D=e(71828),o=e(68296),P=e(4742),C=e(824),h=e(43907),y=e(70769),t=e(75005),r=e(22882),l=e(18670);te.exports=function(f,c){var m=c._carpetTrace=r(f,c);if(m&&m.visible&&"legendonly"!==m.visible){if(!c.a||!c.b){var a=f.data[m.index],b=f.data[c.index];b.a||(b.a=a.a),b.b||(b.b=a.b),t(b,c,c._defaultColor,f._fullLayout)}var p=function i(u,f){var b,p,s,v,A,x,E,c=f._carpetTrace,m=c.aaxis,a=c.baxis;m._minDtick=0,a._minDtick=0,D.isArray1D(f.z)&&o(f,m,a,"a","b",["z"]),b=f._a=f._a||f.a,v=f._b=f._b||f.b,b=b?m.makeCalcdata(f,"_a"):[],v=v?a.makeCalcdata(f,"_b"):[],p=f.a0||0,s=f.da||1,A=f.b0||0,x=f.db||1,E=f._z=P(f._z||f.z,f.transpose),f._emptypoints=h(E),C(E,f._emptypoints);var g=D.maxRowLength(E),d={a:y(f,"scaled"===f.xtype?"":b,p,s,g,m),b:y(f,"scaled"===f.ytype?"":v,A,x,E.length,a),z:E};return"levels"===f.contours.type&&"none"!==f.contours.coloring&&T(u,f,{vals:E,containerStr:"",cLetter:"z"}),[d]}(f,c);return l(c,c._z),p}}},75005:function(te,Y,e){"use strict";var T=e(71828),D=e(67684),o=e(88085),P=e(83179),C=e(67217),h=e(8724);te.exports=function(t,r,l,i){function u(a,b){return T.coerce(t,r,o,a,b)}if(u("carpet"),t.a&&t.b){if(!D(t,r,u,i,"a","b"))return void(r.visible=!1);u("text"),"constraint"===u("contours.type")?P(t,r,u,i,l,{hasHover:!1}):(C(t,r,u,function f(a){return T.coerce2(t,r,o,a)}),h(t,r,u,i,{hasHover:!1}))}else r._defaultColor=l,r._length=null}},93740:function(te,Y,e){"use strict";te.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(te,Y,e){"use strict";var T=e(39898),D=e(27669),o=e(67961),P=e(91424),C=e(71828),h=e(87678),y=e(81696),t=e(29854),r=e(36914),l=e(84857),i=e(87558),u=e(20083),f=e(22882),c=e(4536);function p(g,M,w){var n=g.getPointAtLength(M),S=g.getPointAtLength(w),d=S.x-n.x,I=S.y-n.y,L=Math.sqrt(d*d+I*I);return[d/L,I/L]}function s(g){var M=Math.sqrt(g[0]*g[0]+g[1]*g[1]);return[g[0]/M,g[1]/M]}function v(g,M){var w=Math.abs(g[0]*M[0]+g[1]*M[1]);return Math.sqrt(1-w*w)/w}te.exports=function(M,w,n,S){var d=w.xaxis,I=w.yaxis;C.makeTraceGroups(S,n,"contour").each(function(L){var B=T.select(this),k=L[0],z=k.trace,O=z._carpetTrace=f(M,z),F=M.calcdata[O.index][0];if(O.visible&&"legendonly"!==O.visible){var N=k.a,H=k.b,X=z.contours,ne=i(X,w,k),ie="constraint"===X.type,ue=X._operation,J=ie?"="===ue?"lines":"fill":X.coloring,W=[[N[0],H[H.length-1]],[N[N.length-1],H[H.length-1]],[N[N.length-1],H[0]],[N[0],H[0]]];h(ne),y(ne,1e-8*(N[N.length-1]-N[0]),1e-8*(H[H.length-1]-H[0]));var ae=ne;"constraint"===X.type&&(ae=l(ne,ue)),function m(g,M){var w,n,S,d,I,L,B,k,z;for(w=0;w<g.length;w++){for(I=(d=g[w]).pedgepaths=[],L=d.ppaths=[],n=0;n<d.edgepaths.length;n++){for(z=d.edgepaths[n],B=[],S=0;S<z.length;S++)B[S]=M(z[S]);I.push(B)}for(n=0;n<d.paths.length;n++){for(z=d.paths[n],k=[],S=0;S<z.length;S++)k[S]=M(z[S]);L.push(k)}}}(ne,j);var Q,Z,re,q,se=[];for(q=F.clipsegments.length-1;q>=0;q--)Z=D([],(Q=F.clipsegments[q]).x,d.c2p),re=D([],Q.y,I.c2p),Z.reverse(),re.reverse(),se.push(o(Z,re,Q.bicubic));var de="M"+se.join("L")+"Z";(function A(g,M,w,n,S,d){var I,L,B,k,O=C.ensureSingle(g,"g","contourbg").selectAll("path").data("fill"!==d||S?[]:[0]);O.enter().append("path"),O.exit().remove();var F=[];for(k=0;k<M.length;k++)L=D([],(I=M[k]).x,w.c2p),B=D([],I.y,n.c2p),F.push(o(L,B,I.bicubic));O.attr("d","M"+F.join("L")+"Z").style("stroke","none")})(B,F.clipsegments,d,I,ie,J),function x(g,M,w,n,S,d,I,L,B,k,z){var O="fill"===k;O&&u(S,g.contours);var N=C.ensureSingle(M,"g","contourfill").selectAll("path").data(O?S:[]);N.enter().append("path"),N.exit().remove(),N.each(function(H){var X=(H.prefixBoundary?z:"")+function E(g,M,w,n,S,d,I,L){var B,F,N,H,X,ne,ie,k="",z=M.edgepaths.map(function(re,q){return q}),O=!0,ue=1e-4*Math.abs(w[0][0]-w[2][0]),J=1e-4*Math.abs(w[0][1]-w[2][1]);function j(re){return Math.abs(re[1]-w[0][1])<J}function W(re){return Math.abs(re[1]-w[2][1])<J}function V(re){return Math.abs(re[0]-w[0][0])<ue}function K(re){return Math.abs(re[0]-w[2][0])<ue}function ae(re,q){var se,de,we,ye,Pe="";for(j(re)&&!K(re)||W(re)&&!V(re)?(ye=S.aaxis,we=c(S,d,[re[0],q[0]],.5*(re[1]+q[1]))):(ye=S.baxis,we=c(S,d,.5*(re[0]+q[0]),[re[1],q[1]])),se=1;se<we.length;se++)for(Pe+=ye.smoothing?"C":"L",de=0;de<we[se].length;de++){var Ie=we[se][de];Pe+=[I.c2p(Ie[0]),L.c2p(Ie[1])]+" "}return Pe}for(B=0,F=null;z.length;){for(F&&(k+=ae(F,M.edgepaths[B][0])),ie=P.smoothopen(M.edgepaths[B].map(n),M.smoothing),k+=O?ie:ie.replace(/^M/,"L"),z.splice(z.indexOf(B),1),F=M.edgepaths[B][M.edgepaths[B].length-1],X=-1,H=0;H<4;H++){if(!F){C.log("Missing end?",B,M);break}for(j(F)&&!K(F)?N=w[1]:V(F)?N=w[0]:W(F)?N=w[3]:K(F)&&(N=w[2]),ne=0;ne<M.edgepaths.length;ne++){var Z=M.edgepaths[ne][0];Math.abs(F[0]-N[0])<ue?Math.abs(F[0]-Z[0])<ue&&(Z[1]-F[1])*(N[1]-Z[1])>=0&&(N=Z,X=ne):Math.abs(F[1]-N[1])<J?Math.abs(F[1]-Z[1])<J&&(Z[0]-F[0])*(N[0]-Z[0])>=0&&(N=Z,X=ne):C.log("endpt to newendpt is not vert. or horz.",F,N,Z)}if(X>=0)break;k+=ae(F,N),F=N}if(X===M.edgepaths.length){C.log("unclosed perimeter path");break}(O=-1===z.indexOf(B=X))&&(B=z[0],k+=ae(F,N)+"Z",F=null)}for(B=0;B<M.paths.length;B++)k+=P.smoothclosed(M.paths[B].map(n),M.smoothing);return k}(0,H,d,I,L,B,w,n);X?T.select(this).attr("d",X).style("stroke","none"):T.select(this).remove()})}(z,B,d,I,ae,W,j,O,F,J,de),function a(g,M,w,n,S,d,I){var L=w._context.staticPlot,B=C.ensureSingle(g,"g","contourlines"),k=!1!==S.showlines,z=S.showlabels,O=k&&z,F=t.createLines(B,k||z,M,L),N=t.createLineClip(B,O,w,n.trace.uid),H=g.selectAll("g.contourlabels").data(z?[0]:[]);if(H.exit().remove(),H.enter().append("g").classed("contourlabels",!0),z){var ie=d.xaxis._length,ue=d.yaxis._length,J=[[[0,0],[ie,0],[ie,ue],[0,ue]]],j=[];C.clearLocationCache();var W=t.labelFormatter(w,n),V=P.tester.append("text").attr("data-notex",1).call(P.font,S.labelfont),K={left:0,right:ie,center:ie/2,top:0,bottom:ue,middle:ue/2},ae=Math.sqrt(ie*ie+ue*ue),Q=r.LABELDISTANCE*ae/Math.max(1,M.length/r.LABELINCREASE);F.each(function(Z){var re=t.calcTextOpts(Z.level,W,V,w);T.select(this).selectAll("path").each(function(q){var de=C.getVisibleSegment(this,K,re.height/2);if(de&&(function b(g,M,w,n,S,d){for(var I,L=0;L<w.pedgepaths.length;L++)M===w.pedgepaths[L]&&(I=w.edgepaths[L]);if(I){var B=S.a[0],k=S.a[S.a.length-1],z=S.b[0],O=S.b[S.b.length-1],N=p(g,0,1),H=p(g,n.total,n.total-1),X=F(I[0],N),ne=n.total-F(I[I.length-1],H);n.min<X&&(n.min=X),n.max>ne&&(n.max=ne),n.len=n.max-n.min}function F(ie,ue){var j,J=0,W=.1;return(Math.abs(ie[0]-B)<W||Math.abs(ie[0]-k)<W)&&(j=s(S.dxydb_rough(ie[0],ie[1],W)),J=Math.max(J,d*v(ue,j)/2)),(Math.abs(ie[1]-z)<W||Math.abs(ie[1]-O)<W)&&(j=s(S.dxyda_rough(ie[0],ie[1],W)),J=Math.max(J,d*v(ue,j)/2)),J}}(this,q,Z,de,I,re.height),!(de.len<(re.width+re.height)*r.LABELMIN)))for(var we=Math.min(Math.ceil(de.len/Q),r.LABELMAX),ye=0;ye<we;ye++){var Pe=t.findBestTextLocation(this,de,re,j,K);if(!Pe)break;t.addLabelData(Pe,re,j,J)}})}),V.remove(),t.drawLabels(H,j,w,N,O?J:null)}z&&!k&&F.remove()}(B,ne,M,k,X,w,O),P.setClipUrl(B,O._clipPathId,M)}function j(we){var ye=O.ab2xy(we[0],we[1],!0);return[d.c2p(ye[0]),I.c2p(ye[1])]}})}},64096:function(te,Y,e){"use strict";var T=e(50693),D=e(5386).fF,o=e(9012),P=e(99181),C=e(1426).extendFlat;te.exports=C({lon:P.lon,lat:P.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:P.text,hovertext:P.hovertext,hoverinfo:C({},o.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:D(),showlegend:C({},o.showlegend,{dflt:!1})},T("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(te,Y,e){"use strict";var T=e(92770),D=e(71828).isArrayOrTypedArray,o=e(50606).BADNUM,P=e(78803),C=e(71828)._;te.exports=function(y,t){for(var r=t._length,l=new Array(r),i=t.z,u=D(i)&&i.length,f=0;f<r;f++){var c=l[f]={},m=t.lon[f],a=t.lat[f];if(c.lonlat=T(m)&&T(a)?[+m,+a]:[o,o],u){var b=i[f];c.z=T(b)?b:o}}return P(y,t,{vals:u?i:[0,1],containerStr:"",cLetter:"z"}),r&&(l[0].t={labels:{lat:C(y,"lat:")+" ",lon:C(y,"lon:")+" "}}),l}},52414:function(te,Y,e){"use strict";var T=e(92770),D=e(71828),o=e(7901),P=e(21081),C=e(50606).BADNUM,h=e(18214).makeBlank;te.exports=function(t){var r=t[0].trace,l=!0===r.visible&&0!==r._length,u=r._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:h()};if(!l)return u;var c,f=[],m=r.z,a=r.radius,b=D.isArrayOrTypedArray(m)&&m.length,p=D.isArrayOrTypedArray(a);for(c=0;c<t.length;c++){var s=t[c],v=s.lonlat;if(v[0]!==C){var A={};if(b){var x=s.z;A.z=x!==C?x:0}p&&(A.r=T(a[c])&&a[c]>0?+a[c]:0),f.push({type:"Feature",geometry:{type:"Point",coordinates:v},properties:A})}}var E=P.extractOpts(r),g=E.reversescale?P.flipScale(E.colorscale):E.colorscale,M=g[0][1],n=["interpolate",["linear"],["heatmap-density"],0,o.opacity(M)<1?M:o.addOpacity(M,0)];for(c=1;c<g.length;c++)n.push(g[c][0],g[c][1]);return D.extendFlat(u.heatmap.paint,{"heatmap-weight":b?["interpolate",["linear"],["get","z"],E.min,0,E.max,1]:1/(E.max-E.min),"heatmap-color":n,"heatmap-radius":p?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),u.geojson={type:"FeatureCollection",features:f},u.heatmap.layout.visibility="visible",u}},79429:function(te,Y,e){"use strict";var T=e(71828),D=e(1586),o=e(64096);te.exports=function(C,h,y,t){function r(f,c){return T.coerce(C,h,o,f,c)}var l=r("lon")||[],i=r("lat")||[],u=Math.min(l.length,i.length);u?(h._length=u,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),D(C,h,t,r,{prefix:"",cLetter:"z"})):h.visible=!1}},62474:function(te){"use strict";te.exports=function(e,T){return e.lon=T.lon,e.lat=T.lat,e.z=T.z,e}},84684:function(te,Y,e){"use strict";var T=e(89298),D=e(28178).hoverPoints,o=e(28178).getExtraText;te.exports=function(C,h,y){var t=D(C,h,y);if(t){var r=t[0],l=r.cd,i=l[0].trace,u=l[r.index];if(delete r.color,"z"in u){var f=r.subplot.mockAxis;r.z=u.z,r.zLabel=T.tickText(f,f.c2l(u.z),"hover").text}return r.extraText=o(i,u,l[0].t.labels),[r]}}},93814:function(te,Y,e){"use strict";te.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(T,D){for(var o=D.getMapLayers(),P=0;P<o.length;P++){var C=o[P],h=C.id;if("symbol"===C.type&&"string"==typeof h&&-1===h.indexOf("plotly-"))return h}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(te,Y,e){"use strict";var T=e(52414),D=e(77734).traceLayerPrefix;function o(C,h){this.type="densitymapbox",this.subplot=C,this.uid=h,this.sourceId="source-"+h,this.layerList=[["heatmap",D+h+"-heatmap"]],this.below=null}var P=o.prototype;P.update=function(C){var h=this.subplot,y=this.layerList,t=T(C),r=h.belowLookup["trace-"+this.uid];h.map.getSource(this.sourceId).setData(t.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(t,r),this.below=r);for(var l=0;l<y.length;l++){var i=y[l],f=i[1],c=t[i[0]];h.setOptions(f,"setLayoutProperty",c.layout),"visible"===c.layout.visibility&&h.setOptions(f,"setPaintProperty",c.paint)}},P._addLayers=function(C,h){for(var y=this.subplot,t=this.layerList,r=this.sourceId,l=0;l<t.length;l++){var i=t[l],u=i[0],f=C[u];y.addLayer({type:u,id:i[1],source:r,layout:f.layout,paint:f.paint},h)}},P._removeLayers=function(){for(var C=this.subplot.map,h=this.layerList,y=h.length-1;y>=0;y--)C.removeLayer(h[y][1])},P.dispose=function(){var C=this.subplot.map;this._removeLayers(),C.removeSource(this.sourceId)},te.exports=function(h,y){var t=y[0].trace,r=new o(h,t.uid),l=r.sourceId,i=T(y),u=r.below=h.belowLookup["trace-"+t.uid];return h.map.addSource(l,{type:"geojson",data:i.geojson}),r._addLayers(i,u),r}},49789:function(te,Y,e){"use strict";var T=e(71828);te.exports=function(o,P){for(var C=0;C<o.length;C++)o[C].i=C;T.mergeArray(P.text,o,"tx"),T.mergeArray(P.hovertext,o,"htx");var h=P.marker;if(h){T.mergeArray(h.opacity,o,"mo"),T.mergeArray(h.color,o,"mc");var y=h.line;y&&(T.mergeArray(y.color,o,"mlc"),T.mergeArrayCastPositive(y.width,o,"mlw"))}}},1285:function(te,Y,e){"use strict";var T=e(1486),D=e(82196).line,o=e(9012),P=e(12663).axisHoverFormat,C=e(5386).fF,h=e(5386).si,y=e(18517),t=e(1426).extendFlat,r=e(7901);te.exports={x:T.x,x0:T.x0,dx:T.dx,y:T.y,y0:T.y0,dy:T.dy,xperiod:T.xperiod,yperiod:T.yperiod,xperiod0:T.xperiod0,yperiod0:T.yperiod0,xperiodalignment:T.xperiodalignment,yperiodalignment:T.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),hovertext:T.hovertext,hovertemplate:C({},{keys:y.eventDataKeys}),hoverinfo:t({},o.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:h({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),text:T.text,textposition:T.textposition,insidetextanchor:t({},T.insidetextanchor,{dflt:"middle"}),textangle:t({},T.textangle,{dflt:0}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:T.outsidetextfont,constraintext:T.constraintext,cliponaxis:T.cliponaxis,orientation:t({},T.orientation,{}),offset:t({},T.offset,{arrayOk:!1}),width:t({},T.width,{arrayOk:!1}),marker:function l(){var i=t({},T.marker);return delete i.pattern,i}(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:t({},D.color,{dflt:r.defaultLine}),width:t({},D.width,{dflt:0,editType:"plot"}),dash:D.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:T.offsetgroup,alignmentgroup:T.alignmentgroup}},9532:function(te,Y,e){"use strict";var T=e(89298),D=e(42973),o=e(49789),P=e(66279),C=e(50606).BADNUM;function h(y){return y===C?0:y}te.exports=function(t,r){var u,f,c,m,a,b,p,s,l=T.getFromId(t,r.xaxis||"x"),i=T.getFromId(t,r.yaxis||"y");"h"===r.orientation?(u=l.makeCalcdata(r,"x"),c=i.makeCalcdata(r,"y"),m=D(r,i,"y",c),a=!!r.yperiodalignment,b="y"):(u=i.makeCalcdata(r,"y"),c=l.makeCalcdata(r,"x"),m=D(r,l,"x",c),a=!!r.xperiodalignment,b="x"),f=m.vals;var E,v=Math.min(f.length,u.length),A=new Array(v);for(r._base=[],p=0;p<v;p++){u[p]<0&&(u[p]=C);var x=!1;u[p]!==C&&p+1<v&&u[p+1]!==C&&(x=!0),s=A[p]={p:f[p],s:u[p],cNext:x},r._base[p]=-.5*s.s,a&&(A[p].orig_p=c[p],A[p][b+"End"]=m.ends[p],A[p][b+"Start"]=m.starts[p]),r.ids&&(s.id=String(r.ids[p])),0===p&&(A[0].vTotal=0),A[0].vTotal+=h(s.s),s.begR=h(s.s)/h(A[0].s)}for(p=0;p<v;p++)(s=A[p]).s!==C&&(s.sumR=s.s/A[0].vTotal,s.difR=void 0!==E?s.s/E:1,E=s.s);return o(A,r),P(A,r),A}},18517:function(te){"use strict";te.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(te,Y,e){"use strict";var T=e(11661).setGroupPositions;te.exports=function(o,P){var f,c,C=o._fullLayout,h=o._fullData,y=o.calcdata,t=P.xaxis,r=P.yaxis,l=[],i=[],u=[];for(c=0;c<h.length;c++){var m=h[c];!0===m.visible&&m.xaxis===t._id&&m.yaxis===r._id&&"funnel"===m.type&&(f=y[c],"h"===m.orientation?u.push(f):i.push(f),l.push(f))}var b={mode:C.funnelmode,norm:C.funnelnorm,gap:C.funnelgap,groupgap:C.funnelgroupgap};for(T(o,t,r,i,b),T(o,r,t,u,b),c=0;c<l.length;c++){f=l[c];for(var p=0;p<f.length;p++)p+1<f.length&&(f[p].nextP0=f[p+1].p0,f[p].nextS0=f[p+1].s0,f[p].nextP1=f[p+1].p1,f[p].nextS1=f[p+1].s1)}}},26199:function(te,Y,e){"use strict";var T=e(71828),D=e(26125),o=e(90769).handleText,P=e(67513),C=e(73927),h=e(1285),y=e(7901);te.exports={supplyDefaults:function t(i,u,f,c){function m(x,E){return T.coerce(i,u,h,x,E)}if(P(i,u,c,m)){C(i,u,c,m),m("xhoverformat"),m("yhoverformat"),m("orientation",u.y&&!u.x?"v":"h"),m("offset"),m("width");var b=m("text");m("hovertext"),m("hovertemplate");var p=m("textposition");o(i,u,c,m,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==u.textposition&&!u.texttemplate&&m("textinfo",Array.isArray(b)?"text+value":"value");var s=m("marker.color",f);m("marker.line.color",y.defaultLine),m("marker.line.width"),m("connector.visible")&&(m("connector.fillcolor",function r(i){var u=T.isArrayOrTypedArray(i)?"#000":i;return y.addOpacity(u,.5*y.opacity(u))}(s)),m("connector.line.width")&&(m("connector.line.color"),m("connector.line.dash")))}else u.visible=!1},crossTraceDefaults:function l(i,u){var c;function m(b){return T.coerce(c._input,c,h,b)}if("group"===u.funnelmode)for(var a=0;a<i.length;a++)D((c=i[a])._input,c,u,m)}}},34598:function(te){"use strict";te.exports=function(e,T){return e.x="xVal"in T?T.xVal:T.x,e.y="yVal"in T?T.yVal:T.y,"percentInitial"in T&&(e.percentInitial=T.percentInitial),"percentPrevious"in T&&(e.percentPrevious=T.percentPrevious),"percentTotal"in T&&(e.percentTotal=T.percentTotal),T.xa&&(e.xaxis=T.xa),T.ya&&(e.yaxis=T.ya),e}},63341:function(te,Y,e){"use strict";var T=e(7901).opacity,D=e(95423).hoverOnBars,o=e(71828).formatPercent;te.exports=function(h,y,t,r,l){var i=D(h,y,t,r,l);if(i){var u=i.cd,f=u[0].trace,a=u[i.index];i[("h"===f.orientation?"x":"y")+"LabelVal"]=a.s,i.percentInitial=a.begR,i.percentInitialLabel=o(a.begR,1),i.percentPrevious=a.difR,i.percentPreviousLabel=o(a.difR,1),i.percentTotal=a.sumR,i.percentTotalLabel=o(a.sumR,1);var p=a.hi||f.hoverinfo,s=[];if(p&&"none"!==p&&"skip"!==p){var v="all"===p,A=p.split("+"),x=function(E){return v||-1!==A.indexOf(E)};x("percent initial")&&s.push(i.percentInitialLabel+" of initial"),x("percent previous")&&s.push(i.percentPreviousLabel+" of previous"),x("percent total")&&s.push(i.percentTotalLabel+" of total")}return i.extraText=s.join("<br>"),i.color=function P(C,h){var y=C.marker,t=h.mc||y.color,r=h.mlc||y.line.color,l=h.mlw||y.line.width;return T(t)?t:T(r)&&l?r:void 0}(f,a),[i]}}},51759:function(te,Y,e){"use strict";te.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(te){"use strict";te.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(te,Y,e){"use strict";var T=e(71828),D=e(10440);te.exports=function(o,P,C){var h=!1;function y(l,i){return T.coerce(o,P,D,l,i)}for(var t=0;t<C.length;t++){var r=C[t];if(r.visible&&"funnel"===r.type){h=!0;break}}h&&(y("funnelmode"),y("funnelgap",.2),y("funnelgroupgap"))}},80461:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(91424),P=e(50606).BADNUM,C=e(17295),h=e(72597).clearMinTextSize;function r(l,i,u,f){var c=[],m=[],a=f?i:u,b=f?u:i;return c[0]=a.c2p(l.s0,!0),m[0]=b.c2p(l.p0,!0),c[1]=a.c2p(l.s1,!0),m[1]=b.c2p(l.p1,!0),c[2]=a.c2p(l.nextS0,!0),m[2]=b.c2p(l.nextP0,!0),c[3]=a.c2p(l.nextS1,!0),m[3]=b.c2p(l.nextP1,!0),f?[c,m]:[m,c]}te.exports=function(i,u,f,c){var m=i._fullLayout;h("funnel",m),function y(l,i,u,f){var c=i.xaxis,m=i.yaxis;D.makeTraceGroups(f,u,"trace bars").each(function(a){var b=T.select(this),p=a[0].trace,s=D.ensureSingle(b,"g","regions");if(p.connector&&p.connector.visible){var v="h"===p.orientation,A=s.selectAll("g.region").data(D.identity);A.enter().append("g").classed("region",!0),A.exit().remove();var x=A.size();A.each(function(E,g){if(g===x-1||E.cNext){var M=r(E,c,m,v),w=M[0],n=M[1],S="";w[0]!==P&&n[0]!==P&&w[1]!==P&&n[1]!==P&&w[2]!==P&&n[2]!==P&&w[3]!==P&&n[3]!==P&&(S+=v?"M"+w[0]+","+n[1]+"L"+w[2]+","+n[2]+"H"+w[3]+"L"+w[1]+","+n[1]+"Z":"M"+w[1]+","+n[1]+"L"+w[2]+","+n[3]+"V"+n[2]+"L"+w[1]+","+n[0]+"Z"),""===S&&(S="M0,0Z"),D.ensureSingle(T.select(this),"path").attr("d",S).call(o.setClipUrl,i.layerClipId,l)}})}else s.remove()})}(i,u,f,c),function t(l,i,u,f){var c=i.xaxis,m=i.yaxis;D.makeTraceGroups(f,u,"trace bars").each(function(a){var b=T.select(this),p=a[0].trace,s=D.ensureSingle(b,"g","lines");if(p.connector&&p.connector.visible&&p.connector.line.width){var v="h"===p.orientation,A=s.selectAll("g.line").data(D.identity);A.enter().append("g").classed("line",!0),A.exit().remove();var x=A.size();A.each(function(E,g){if(g===x-1||E.cNext){var M=r(E,c,m,v),w=M[0],n=M[1],S="";void 0!==w[3]&&void 0!==n[3]&&(v?(S+="M"+w[0]+","+n[1]+"L"+w[2]+","+n[2],S+="M"+w[1]+","+n[1]+"L"+w[3]+","+n[2]):(S+="M"+w[1]+","+n[1]+"L"+w[2]+","+n[3],S+="M"+w[1]+","+n[0]+"L"+w[2]+","+n[2])),""===S&&(S="M0,0Z"),D.ensureSingle(T.select(this),"path").attr("d",S).call(o.setClipUrl,i.layerClipId,l)}})}else s.remove()})}(i,u,f,c),C.plot(i,u,f,c,{mode:m.funnelmode,norm:m.funnelmode,gap:m.funnelgap,groupgap:m.funnelgroupgap})}},68266:function(te,Y,e){"use strict";var T=e(39898),D=e(91424),o=e(7901),P=e(37822).DESELECTDIM,C=e(16688),h=e(72597).resizeText,y=C.styleTextPoints;te.exports={style:function t(r,l,i){var u=i||T.select(r).selectAll("g.funnellayer").selectAll("g.trace");h(r,u,"funnel"),u.style("opacity",function(f){return f[0].trace.opacity}),u.each(function(f){var c=T.select(this),m=f[0].trace;c.selectAll(".point > path").each(function(a){if(!a.isBlank){var b=m.marker;T.select(this).call(o.fill,a.mc||b.color).call(o.stroke,a.mlc||b.line.color).call(D.dashLine,b.line.dash,a.mlw||b.line.width).style("opacity",m.selectedpoints&&!a.selected?P:1)}}),y(c,m,r),c.selectAll(".regions").each(function(){T.select(this).selectAll("path").style("stroke-width",0).call(o.fill,m.connector.fillcolor)}),c.selectAll(".lines").each(function(){var a=m.connector.line;D.lineGroupStyle(T.select(this).selectAll("path"),a.width,a.color,a.dash)})})}}},86807:function(te,Y,e){"use strict";var T=e(34e3),D=e(9012),o=e(27670).Y,P=e(5386).fF,C=e(5386).si,h=e(1426).extendFlat;te.exports={labels:T.labels,label0:T.label0,dlabel:T.dlabel,values:T.values,marker:{colors:T.marker.colors,line:{color:h({},T.marker.line.color,{dflt:null}),width:h({},T.marker.line.width,{dflt:1}),editType:"calc"},pattern:T.marker.pattern,editType:"calc"},text:T.text,hovertext:T.hovertext,scalegroup:h({},T.scalegroup,{}),textinfo:h({},T.textinfo,{flags:["label","text","value","percent"]}),texttemplate:C({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:h({},D.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:P({},{keys:["label","color","value","text","percent"]}),textposition:h({},T.textposition,{values:["inside","none"],dflt:"inside"}),textfont:T.textfont,insidetextfont:T.insidetextfont,title:{text:T.title.text,font:T.title.font,position:h({},T.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:o({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(te,Y,e){"use strict";var T=e(74875);Y.name="funnelarea",Y.plot=function(D,o,P,C){T.plotBasePlot(Y.name,D,o,P,C)},Y.clean=function(D,o,P,C){T.cleanBasePlot(Y.name,D,o,P,C)}},89574:function(te,Y,e){"use strict";var T=e(32354);te.exports={calc:function D(P,C){return T.calc(P,C)},crossTraceCalc:function o(P){T.crossTraceCalc(P,{type:"funnelarea"})}}},86282:function(te,Y,e){"use strict";var T=e(71828),D=e(86807),o=e(27670).c,P=e(90769).handleText,C=e(37434).handleLabelsAndValues,h=e(37434).handleMarkerDefaults;te.exports=function(t,r,l,i){function u(x,E){return T.coerce(t,r,D,x,E)}var f=u("labels"),c=u("values"),m=C(f,c),a=m.len;if(r._hasLabels=m.hasLabels,r._hasValues=m.hasValues,!r._hasLabels&&r._hasValues&&(u("label0"),u("dlabel")),a){r._length=a,h(t,r,i,u),u("scalegroup");var s,b=u("text"),p=u("texttemplate");if(p||(s=u("textinfo",Array.isArray(b)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),p||s&&"none"!==s){var v=u("textposition");P(t,r,i,u,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}o(r,i,u),u("title.text")&&(u("title.position"),T.coerceFont(u,"title.font",i.font)),u("aspectratio"),u("baseratio")}else r.visible=!1}},10421:function(te,Y,e){"use strict";te.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(te,Y,e){"use strict";var T=e(92774).hiddenlabels;te.exports={hiddenlabels:T,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(te,Y,e){"use strict";var T=e(71828),D=e(80097);te.exports=function(P,C){function h(y,t){return T.coerce(P,C,D,y,t)}h("hiddenlabels"),h("funnelareacolorway",C.colorway),h("extendfunnelareacolors")}},79187:function(te,Y,e){"use strict";var T=e(39898),D=e(91424),o=e(71828),P=o.strScale,C=o.strTranslate,h=e(63893),t=e(17295).toMoveInsideBar,r=e(72597),l=r.recordMinTextSize,i=r.clearMinTextSize,u=e(53581),f=e(14575),c=f.attachFxHandlers,m=f.determineInsideTextFont,a=f.layoutAreas,b=f.prerenderTitles,p=f.positionTitleOutside,s=f.formatSliceLabel;function v(E,g){return"l"+(g[0]-E[0])+","+(g[1]-E[1])}function A(E,g){return[.5*(E[0]+g[0]),.5*(E[1]+g[1])]}te.exports=function(g,M){var w=g._context.staticPlot,n=g._fullLayout;i("funnelarea",n),b(M,g),a(M,n._size),o.makeTraceGroups(n._funnelarealayer,M,"trace").each(function(S){var d=T.select(this),I=S[0],L=I.trace;(function x(E){if(E.length){var g=E[0],M=g.trace,w=M.aspectratio,n=M.baseratio;n>.999&&(n=.999);var O,N,H,S=Math.pow(n,2),d=g.vTotal,L=d,B=d*S/(1-S)/d,F=[];for(F.push(z()),N=E.length-1;N>-1;N--)(H=E[N]).hidden||(B+=H.v/L,F.push(z()));var ne=1/0,ie=-1/0;for(N=0;N<F.length;N++)O=F[N],ne=Math.min(ne,O[1]),ie=Math.max(ie,O[1]);for(N=0;N<F.length;N++)F[N][1]-=(ie+ne)/2;var J=g.r,j=(ie-ne)/2,W=J/F[F.length-1][0],V=J/j*w;for(g.r=V*j,N=0;N<F.length;N++)F[N][0]*=W,F[N][1]*=V;var K=[-(O=F[0])[0],O[1]],ae=[O[0],O[1]],Q=0;for(N=E.length-1;N>-1;N--)if(!(H=E[N]).hidden){var Z=F[Q+=1][0],re=F[Q][1];H.TL=[-Z,re],H.TR=[Z,re],H.BL=K,H.BR=ae,H.pxmid=A(H.TR,H.BR),K=H.TL,ae=H.TR}}function z(){var q=function k(){var q=Math.sqrt(B);return{x:q,y:-q}}();return[q.x,q.y]}})(S),d.each(function(){var B=T.select(this).selectAll("g.slice").data(S);B.enter().append("g").classed("slice",!0),B.exit().remove(),B.each(function(z,O){if(z.hidden)T.select(this).selectAll("path,g").remove();else{z.pointNumber=z.i,z.curveNumber=L.index;var F=I.cx,N=I.cy,H=T.select(this),X=H.selectAll("path.surface").data([z]);X.enter().append("path").classed("surface",!0).style({"pointer-events":w?"none":"all"}),H.call(c,g,S);var ne="M"+(F+z.TR[0])+","+(N+z.TR[1])+v(z.TR,z.BR)+v(z.BR,z.BL)+v(z.BL,z.TL)+"Z";X.attr("d",ne),s(g,z,I);var ie=u.castOption(L.textposition,z.pts),ue=H.selectAll("g.slicetext").data(z.text&&"none"!==ie?[0]:[]);ue.enter().append("g").classed("slicetext",!0),ue.exit().remove(),ue.each(function(){var J=o.ensureSingle(T.select(this),"text","",function(re){re.attr("data-notex",1)}),j=o.ensureUniformFontSize(g,m(L,z,n.font));J.text(z.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(D.font,j).call(h.convertToTspans,g);var V,K,ae,W=D.bBox(J.node()),Q=Math.min(z.BL[1],z.BR[1])+N,Z=Math.max(z.TL[1],z.TR[1])+N;K=Math.max(z.TL[0],z.BL[0])+F,ae=Math.min(z.TR[0],z.BR[0])+F,(V=t(K,ae,Q,Z,W,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=j.size,l(L.type,V,n),S[O].transform=V,o.setTransormAndDisplay(J,V)})}});var k=T.select(this).selectAll("g.titletext").data(L.title.text?[0]:[]);k.enter().append("g").classed("titletext",!0),k.exit().remove(),k.each(function(){var z=o.ensureSingle(T.select(this),"text","",function(N){N.attr("data-notex",1)}),O=L.title.text;L._meta&&(O=o.templateString(O,L._meta)),z.text(O).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(D.font,L.title.font).call(h.convertToTspans,g);var F=p(I,n._size);z.attr("transform",C(F.x,F.y)+P(Math.min(1,F.scale))+C(F.tx,F.ty))})})})}},71858:function(te,Y,e){"use strict";var T=e(39898),D=e(63463),o=e(72597).resizeText;te.exports=function(C){var h=C._fullLayout._funnelarealayer.selectAll(".trace");o(C,h,"funnelarea"),h.each(function(y){var r=y[0].trace,l=T.select(this);l.style({opacity:r.opacity}),l.selectAll("path.surface").each(function(i){T.select(this).call(D,i,r,C)})})}},21606:function(te,Y,e){"use strict";var T=e(82196),D=e(9012),o=e(41940),P=e(12663).axisHoverFormat,C=e(5386).fF,h=e(5386).si,y=e(50693),t=e(1426).extendFlat;te.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},T.x,{impliedEdits:{xtype:"array"}}),x0:t({},T.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},T.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},T.y,{impliedEdits:{ytype:"array"}}),y0:t({},T.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},T.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},T.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},T.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},T.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},T.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},T.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},T.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:C(),texttemplate:h({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:o({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},D.showlegend,{dflt:!1})},{transforms:void 0},y("",{cLetter:"z",autoColorDflt:!1}))},90757:function(te,Y,e){"use strict";var T=e(73972),D=e(71828),o=e(89298),P=e(42973),C=e(17562),h=e(78803),y=e(68296),t=e(4742),r=e(824),l=e(43907),i=e(70769),u=e(50606).BADNUM;function f(m){for(var a=[],b=m.length,p=0;p<b;p++){var s=m[p];s!==u&&a.push(s)}return a}te.exports=function(a,b){var g,M,w,n,S,d,I,L,B,k,z,p=o.getFromId(a,b.xaxis||"x"),s=o.getFromId(a,b.yaxis||"y"),v=T.traceIs(b,"contour"),A=T.traceIs(b,"histogram"),x=T.traceIs(b,"gl2d"),E=v?"best":b.zsmooth;if(p._minDtick=0,s._minDtick=0,A)n=(z=C(a,b)).orig_x,g=z.x,M=z.x0,w=z.dx,L=z.orig_y,S=z.y,d=z.y0,I=z.dy,B=z.z;else{var O=b.z;D.isArray1D(O)?(y(b,p,s,"x","y",["z"]),g=b._x,S=b._y,O=b._z):(n=b.x?p.makeCalcdata(b,"x"):[],L=b.y?s.makeCalcdata(b,"y"):[],g=P(b,p,"x",n).vals,S=P(b,s,"y",L).vals,b._x=g,b._y=S),M=b.x0,w=b.dx,d=b.y0,I=b.dy,B=t(O,b,p,s)}function F(W){E=b._input.zsmooth=b.zsmooth=!1,D.warn('cannot use zsmooth: "fast": '+W)}function N(W){if(W.length>1){var V=(W[W.length-1]-W[0])/(W.length-1),K=Math.abs(V/100);for(k=0;k<W.length-1;k++)if(Math.abs(W[k+1]-W[k]-V)>K)return!1}return!0}(p.rangebreaks||s.rangebreaks)&&(B=function c(m,a,b){for(var p=[],s=-1,v=0;v<b.length;v++)if(a[v]!==u){p[++s]=[];for(var A=0;A<b[v].length;A++)m[A]!==u&&p[s].push(b[v][A])}return p}(g,S,B),A||(g=f(g),S=f(S),b._x=g,b._y=S)),!A&&(v||b.connectgaps)&&(b._emptypoints=l(B),r(B,b._emptypoints)),b._islinear=!1,"log"===p.type||"log"===s.type?"fast"===E&&F("log axis found"):N(g)?N(S)?b._islinear=!0:"fast"===E&&F("y scale is not linear"):"fast"===E&&F("x scale is not linear");var H=D.maxRowLength(B),X="scaled"===b.xtype?"":g,ne=i(b,X,M,w,H,p),ie="scaled"===b.ytype?"":S,ue=i(b,ie,d,I,B.length,s);x||(b._extremes[p._id]=o.findExtremes(p,ne),b._extremes[s._id]=o.findExtremes(s,ue));var J={x:ne,y:ue,z:B,text:b._text||b.text,hovertext:b._hovertext||b.hovertext};if(b.xperiodalignment&&n&&(J.orig_x=n),b.yperiodalignment&&L&&(J.orig_y=L),X&&X.length===ne.length-1&&(J.xCenter=X),ie&&ie.length===ue.length-1&&(J.yCenter=ie),A&&(J.xRanges=z.xRanges,J.yRanges=z.yRanges,J.pts=z.pts),v||h(a,b,{vals:B,cLetter:"z"}),v&&b.contours&&"heatmap"===b.contours.coloring){var j={type:"contour"===b.type?"heatmap":"histogram2d",xcalendar:b.xcalendar,ycalendar:b.ycalendar};J.xfill=i(j,X,M,w,H,p),J.yfill=i(j,ie,d,I,B.length,s)}return[J]}},4742:function(te,Y,e){"use strict";var T=e(92770),D=e(71828),o=e(50606).BADNUM;te.exports=function(C,h,y,t){var r,l,i,u,f,c;function m(A){if(T(A))return+A}if(h&&h.transpose){for(r=0,f=0;f<C.length;f++)r=Math.max(r,C[f].length);if(0===r)return!1;i=function(A){return A.length},u=function(A,x,E){return(A[E]||[])[x]}}else r=C.length,i=function(A,x){return A[x].length},u=function(A,x,E){return(A[x]||[])[E]};function b(A){if(h&&"carpet"!==h.type&&"contourcarpet"!==h.type&&A&&"category"===A.type&&h["_"+A._id.charAt(0)].length){var x=A._id.charAt(0),E={},g=h["_"+x+"CategoryMap"]||h[x];for(f=0;f<g.length;f++)E[g[f]]=f;return function(M){var w=E[A._categories[M]];return w+1?w:o}}return D.identity}var p=b(y),s=b(t);t&&"category"===t.type&&(r=t._categories.length);var A,x,E,v=new Array(r);for(f=0;f<r;f++)for(l=y&&"category"===y.type?y._categories.length:i(C,f),v[f]=new Array(l),c=0;c<l;c++)v[f][c]=m((A=C,x=s(f),E=p(c),x===o||E===o?o:u(A,x,E)));return v}},61243:function(te){"use strict";te.exports={min:"zmin",max:"zmax"}},68296:function(te,Y,e){"use strict";var T=e(71828),D=e(50606).BADNUM,o=e(42973);te.exports=function(C,h,y,t,r,l){var i=C._length,u=h.makeCalcdata(C,t),f=y.makeCalcdata(C,r);u=o(C,h,t,u).vals,f=o(C,y,r,f).vals;var p,s,M,w,c=C.text,m=void 0!==c&&T.isArray1D(c),a=C.hovertext,b=void 0!==a&&T.isArray1D(a),v=T.distinctVals(u),A=v.vals,x=T.distinctVals(f),E=x.vals,g=[],n=E.length,S=A.length;for(p=0;p<l.length;p++)g[p]=T.init2dArray(n,S);m&&(M=T.init2dArray(n,S)),b&&(w=T.init2dArray(n,S));var d=T.init2dArray(n,S);for(p=0;p<i;p++)if(u[p]!==D&&f[p]!==D){var I=T.findBin(u[p]+v.minDiff/2,A),L=T.findBin(f[p]+x.minDiff/2,E);for(s=0;s<l.length;s++)g[s][L][I]=C[l[s]][p],d[L][I]=p;m&&(M[L][I]=c[p]),b&&(w[L][I]=a[p])}for(C["_"+t]=A,C["_"+r]=E,s=0;s<l.length;s++)C["_"+l[s]]=g[s];m&&(C._text=M),b&&(C._hovertext=w),h&&"category"===h.type&&(C["_"+t+"CategoryMap"]=A.map(function(O){return h._categories[O]})),y&&"category"===y.type&&(C["_"+r+"CategoryMap"]=E.map(function(O){return y._categories[O]})),C._after2before=d}},76382:function(te,Y,e){"use strict";var T=e(71828),D=e(67684),o=e(58623),P=e(73927),C=e(49901),h=e(1586),y=e(21606);te.exports=function(r,l,i,u){function f(m,a){return T.coerce(r,l,y,m,a)}D(r,l,f,u)?(P(r,l,u,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hovertemplate"),o(f,u),C(r,l,f,u),f("hoverongaps"),f("connectgaps",T.isArray1D(l.z)&&!1!==l.zsmooth),h(r,l,u,f,{prefix:"",cLetter:"z"})):l.visible=!1}},43907:function(te,Y,e){"use strict";var T=e(71828).maxRowLength;te.exports=function(o){var i,u,f,c,m,a,b,p,P=[],C={},h=[],y=o[0],t=[],r=[0,0,0],l=T(o);for(u=0;u<o.length;u++)for(i=t,t=y,y=o[u+1]||[],f=0;f<l;f++)void 0===t[f]&&((a=(void 0!==t[f-1]?1:0)+(void 0!==t[f+1]?1:0)+(void 0!==i[f]?1:0)+(void 0!==y[f]?1:0))?(0===u&&a++,0===f&&a++,u===o.length-1&&a++,f===t.length-1&&a++,a<4&&(C[[u,f]]=[u,f,a]),P.push([u,f,a])):h.push([u,f]));for(;h.length;){for(b={},p=!1,m=h.length-1;m>=0;m--)(a=((C[[(u=(c=h[m])[0])-1,f=c[1]]]||r)[2]+(C[[u+1,f]]||r)[2]+(C[[u,f-1]]||r)[2]+(C[[u,f+1]]||r)[2])/20)&&(b[c]=[u,f,a],h.splice(m,1),p=!0);if(!p)throw"findEmpties iterated with no new neighbors";for(c in b)C[c]=b[c],P.push(b[c])}return P.sort(function(s,v){return v[2]-s[2]})}},46248:function(te,Y,e){"use strict";var T=e(30211),D=e(71828),o=e(89298),P=e(21081).extractOpts;te.exports=function(h,y,t,r,l){l||(l={});var M,w,n,S,i=l.isContour,u=h.cd[0],f=u.trace,c=h.xa,m=h.ya,a=u.x,b=u.y,p=u.z,s=u.xCenter,v=u.yCenter,A=u.zmask,x=f.zhoverformat,E=a,g=b;if(!1!==h.index){try{n=Math.round(h.index[1]),S=Math.round(h.index[0])}catch{return void D.error("Error hovering on heatmap, pointNumber must be [row,col], found:",h.index)}if(n<0||n>=p[0].length||S<0||S>p.length)return}else{if(T.inbox(y-a[0],y-a[a.length-1],0)>0||T.inbox(t-b[0],t-b[b.length-1],0)>0)return;if(i){var d;for(E=[2*a[0]-a[1]],d=1;d<a.length;d++)E.push((a[d]+a[d-1])/2);for(E.push([2*a[a.length-1]-a[a.length-2]]),g=[2*b[0]-b[1]],d=1;d<b.length;d++)g.push((b[d]+b[d-1])/2);g.push([2*b[b.length-1]-b[b.length-2]])}n=Math.max(0,Math.min(E.length-2,D.findBin(y,E))),S=Math.max(0,Math.min(g.length-2,D.findBin(t,g)))}var z,O,I=c.c2p(a[n]),L=c.c2p(a[n+1]),B=m.c2p(b[S]),k=m.c2p(b[S+1]);i?(L=I,M=(z=u.orig_x||a)[n],k=B,w=(O=u.orig_y||b)[S]):(z=u.orig_x||s||a,O=u.orig_y||v||b,M=s?z[n]:(z[n]+z[n+1])/2,w=v?O[S]:(O[S]+O[S+1])/2,c&&"category"===c.type&&(M=a[n]),m&&"category"===m.type&&(w=b[S]),f.zsmooth&&(I=L=c.c2p(M),B=k=m.c2p(w)));var F=p[S][n];if(A&&!A[S][n]&&(F=void 0),void 0!==F||f.hoverongaps){var N;Array.isArray(u.hovertext)&&Array.isArray(u.hovertext[S])?N=u.hovertext[S][n]:Array.isArray(u.text)&&Array.isArray(u.text[S])&&(N=u.text[S][n]);var H=P(f),ne=o.tickText({type:"linear",range:[H.min,H.max],hoverformat:x,_separators:c._separators,_numFormat:c._numFormat},F,"hover").text;return[D.extendFlat(h,{index:f._after2before?f._after2before[S][n]:[S,n],distance:h.maxHoverDistance,spikeDistance:h.maxSpikeDistance,x0:I,x1:L,y0:B,y1:k,xLabelVal:M,yLabelVal:w,zLabelVal:F,zLabel:ne,text:N})]}}},92165:function(te,Y,e){"use strict";te.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(te,Y,e){"use strict";var T=e(71828),o=[[-1,0],[1,0],[0,-1],[0,1]];function C(h,y,t){var l,i,u,f,c,m,a,b,p,s,v,A,x,r=0;for(f=0;f<y.length;f++){for(v=h[i=(l=y[f])[0]][u=l[1]],s=0,p=0,c=0;c<4;c++)(a=h[i+(m=o[c])[0]])&&void 0!==(b=a[u+m[1]])&&(0===s?A=x=b:(A=Math.min(A,b),x=Math.max(x,b)),p++,s+=b);if(0===p)throw"iterateInterp2d order is wrong: no defined neighbors";h[i][u]=s/p,void 0===v?p<4&&(r=1):(h[i][u]=(1+t)*h[i][u]-t*v,x>A&&(r=Math.max(r,Math.abs(h[i][u]-v)/(x-A))))}return r}te.exports=function(y,t){var l,r=1;for(C(y,t),l=0;l<t.length&&!(t[l][2]<4);l++);for(t=t.slice(l),l=0;l<100&&r>.01;l++)r=C(y,t,.5-.25*Math.min(1,.5*r));return r>.01&&T.log("interp2d didn't converge quickly",r),y}},58623:function(te,Y,e){"use strict";var T=e(71828);te.exports=function(o,P){o("texttemplate");var C=T.extendFlat({},P.font,{color:"auto",size:"auto"});T.coerceFont(o,"textfont",C)}},70769:function(te,Y,e){"use strict";var T=e(73972),D=e(71828).isArrayOrTypedArray;te.exports=function(P,C,h,y,t,r){var c,m,a,l=[],i=T.traceIs(P,"contour"),u=T.traceIs(P,"histogram"),f=T.traceIs(P,"gl2d");if(D(C)&&C.length>1&&!u&&"category"!==r.type){var p=C.length;if(!(p<=t))return C.slice(0,i?t:t+1);if(i||f)l=C.slice(0,t);else if(1===t)l=[C[0]-.5,C[0]+.5];else{for(l=[1.5*C[0]-.5*C[1]],a=1;a<p;a++)l.push(.5*(C[a-1]+C[a]));l.push(1.5*C[p-1]-.5*C[p-2])}if(p<t){var s=l[l.length-1],v=s-l[l.length-2];for(a=p;a<t;a++)l.push(s+=v)}}else{var A=P[r._id.charAt(0)+"calendar"];for(c=u?r.r2c(h,0,A):D(C)&&1===C.length?C[0]:void 0===h?0:("log"===r.type?r.d2c:r.r2c)(h,0,A),m=y||1,a=i||f?0:-.5;a<t;a++)l.push(c+m*a)}return l}},50347:function(te,Y,e){"use strict";var T=e(39898),D=e(84267),o=e(73972),P=e(91424),C=e(89298),h=e(71828),y=e(63893),t=e(8225),r=e(7901),l=e(21081).extractOpts,i=e(21081).makeColorScaleFuncFromTrace,u=e(77922),c=e(18783).LINE_SPACING,m=e(3883),a=e(32396).STYLE,b="heatmap-label";function p(E){return E.selectAll("g."+b)}function s(E){p(E).remove()}function v(E,g){var M=g.length-2,w=h.constrain(h.findBin(E,g),0,M),n=g[w],d=h.constrain(w+(E-n)/(g[w+1]-n)-.5,0,M),I=Math.round(d),L=Math.abs(d-I);return d&&d!==M&&L?{bin0:I,frac:L,bin1:Math.round(I+L/(d-I))}:{bin0:I,bin1:I,frac:0}}function A(E,g){var M=g.length-1,w=h.constrain(h.findBin(E,g),0,M),n=g[w],d=(E-n)/(g[w+1]-n)||0;return d<=0?{bin0:w,bin1:w,frac:0}:d<.5?{bin0:w,bin1:w+1,frac:d}:{bin0:w+1,bin1:w,frac:1-d}}function x(E,g,M){E[g]=M[0],E[g+1]=M[1],E[g+2]=M[2],E[g+3]=Math.round(255*M[3])}te.exports=function(E,g,M,w){var n=g.xaxis,S=g.yaxis;h.makeTraceGroups(w,M,"hm").each(function(d){var V,K,ae,Q,Z,re,q,se,I=T.select(this),L=d[0],B=L.trace,k=B.xgap||0,z=B.ygap||0,O=L.z,F=L.x,N=L.y,H=L.xCenter,X=L.yCenter,ne=o.traceIs(B,"contour"),ie=ne?"best":B.zsmooth,ue=O.length,J=h.maxRowLength(O),j=!1,W=!1;for(re=0;void 0===V&&re<F.length-1;)V=n.c2p(F[re]),re++;for(re=F.length-1;void 0===K&&re>0;)K=n.c2p(F[re]),re--;for(K<V&&(ae=K,K=V,V=ae,j=!0),re=0;void 0===Q&&re<N.length-1;)Q=S.c2p(N[re]),re++;for(re=N.length-1;void 0===Z&&re>0;)Z=S.c2p(N[re]),re--;Z<Q&&(ae=Q,Q=Z,Z=ae,W=!0),ne&&(H=F,X=N,F=L.xfill,N=L.yfill);var de="default";if(ie?de="best"===ie?"smooth":"fast":B._islinear&&0===k&&0===z&&m()&&(de="fast"),"fast"!==de){var we="best"===ie?0:.5;V=Math.max(-we*n._length,V),K=Math.min((1+we)*n._length,K),Q=Math.max(-we*S._length,Q),Z=Math.min((1+we)*S._length,Z)}var xe,Me,ye=Math.round(K-V),Pe=Math.round(Z-Q);if(V>=n._length||K<=0||Q>=S._length||Z<=0)return I.selectAll("image").data([]).exit().remove(),void s(I);"fast"===de?(xe=J,Me=ue):(xe=ye,Me=Pe);var Ge=document.createElement("canvas");Ge.width=xe,Ge.height=Me;var He,rt,Ye=Ge.getContext("2d",{willReadFrequently:!0}),De=i(B,{noNumericCheck:!0,returnArray:!0});"fast"===de?(He=j?function(fn){return J-1-fn}:h.identity,rt=W?function(fn){return ue-1-fn}:h.identity):(He=function(fn){return h.constrain(Math.round(n.c2p(F[fn])-V),0,ye)},rt=function(fn){return h.constrain(Math.round(S.c2p(N[fn])-Q),0,Pe)});var Ht,Je,Ee,Re,$e=rt(0),Be=[$e,$e],ze=j?0:1,tt=W?0:1,lt=0,ut=0,xt=0,bt=0;function ke(fn,Tn){if(void 0!==fn){var Mn=De(fn);return Mn[0]=Math.round(Mn[0]),Mn[1]=Math.round(Mn[1]),Mn[2]=Math.round(Mn[2]),lt+=Tn,ut+=Mn[0]*Tn,xt+=Mn[1]*Tn,bt+=Mn[2]*Tn,Mn}return[0,0,0,0]}function Ne(fn,Tn,Mn,Pn){var Fn=fn[Mn.bin0];if(void 0===Fn)return ke(void 0,1);var la=fn[Mn.bin1],Xn=Tn[Mn.bin0],na=Tn[Mn.bin1];return ke(Fn+Mn.frac*(la-Fn||0)+Pn.frac*((Xn-Fn||0)+Mn.frac*(void 0===la?void 0===na?0:void 0===Xn?2*(na-Fn):2*(2*na-Xn-Fn)/3:void 0===na?void 0===Xn?0:2*(2*Fn-la-Xn)/3:void 0===Xn?2*(2*na-la-Fn)/3:na+Fn-la-Xn)))}if("default"!==de){var Te,_e=0;try{Te=new Uint8Array(xe*Me*4)}catch{Te=new Array(xe*Me*4)}if("smooth"===de){var rr,At,zt,fe=H||F,pe=X||N,Fe=new Array(fe.length),Xe=new Array(pe.length),at=new Array(ye),ft=H?A:v,Xt=X?A:v;for(re=0;re<fe.length;re++)Fe[re]=Math.round(n.c2p(fe[re])-V);for(re=0;re<pe.length;re++)Xe[re]=Math.round(S.c2p(pe[re])-Q);for(re=0;re<ye;re++)at[re]=ft(re,Fe);for(q=0;q<Pe;q++)for(At=O[(rr=Xt(q,Xe)).bin0],zt=O[rr.bin1],re=0;re<ye;re++,_e+=4)x(Te,_e,Re=Ne(At,zt,at[re],rr))}else for(q=0;q<ue;q++)for(Ee=O[q],Be=rt(q),re=0;re<J;re++)Re=ke(Ee[re],1),x(Te,_e=4*(Be*J+He(re)),Re);var Qt=Ye.createImageData(xe,Me);try{Qt.data.set(Te)}catch{var Rr=Qt.data,pt=Rr.length;for(q=0;q<pt;q++)Rr[q]=Te[q]}Ye.putImageData(Qt,0,0)}else{var $t=Math.floor(k/2),tr=Math.floor(z/2);for(q=0;q<ue;q++)if(Ee=O[q],Be.reverse(),Be[tt]=rt(q+1),Be[0]!==Be[1]&&void 0!==Be[0]&&void 0!==Be[1])for(Ht=[Je=He(0),Je],re=0;re<J;re++)Ht.reverse(),Ht[ze]=He(re+1),Ht[0]!==Ht[1]&&void 0!==Ht[0]&&void 0!==Ht[1]&&(Re=ke(Ee[re],(Ht[1]-Ht[0])*(Be[1]-Be[0])),Ye.fillStyle="rgba("+Re.join(",")+")",Ye.fillRect(Ht[0]+$t,Be[0]+tr,Ht[1]-Ht[0]-k,Be[1]-Be[0]-z))}ut=Math.round(ut/lt),xt=Math.round(xt/lt),bt=Math.round(bt/lt);var Er=D("rgb("+ut+","+xt+","+bt+")");E._hmpixcount=(E._hmpixcount||0)+lt,E._hmlumcount=(E._hmlumcount||0)+lt*Er.getLuminance();var pr=I.selectAll("image").data(d);pr.enter().append("svg:image").attr({xmlns:u.svg,preserveAspectRatio:"none"}),pr.attr({height:Pe,width:ye,x:V,y:Q,"xlink:href":Ge.toDataURL("image/png")}),"fast"===de&&!ie&&pr.attr("style",a),s(I);var dt=B.texttemplate;if(dt){var it=l(B),mt={type:"linear",range:[it.min,it.max],_separators:n._separators,_numFormat:n._numFormat},St="histogram2dcontour"===B.type,Lt="contour"===B.type,Ut=Lt?ue-1:ue,Bt=Lt?1:0,qt=Lt?J-1:J,cr=[];for(re=Lt?1:0;re<Ut;re++){var lr;if(Lt)lr=L.y[re];else if(St){if(0===re||re===ue-1)continue;lr=L.y[re]}else if(L.yCenter)lr=L.yCenter[re];else{if(re+1===ue&&void 0===L.y[re+1])continue;lr=(L.y[re]+L.y[re+1])/2}var br=Math.round(S.c2p(lr));if(!(0>br||br>S._length))for(q=Bt;q<qt;q++){var We;if(Lt)We=L.x[q];else if(St){if(0===q||q===J-1)continue;We=L.x[q]}else if(L.xCenter)We=L.xCenter[q];else{if(q+1===J&&void 0===L.x[q+1])continue;We=(L.x[q]+L.x[q+1])/2}var Ve=Math.round(n.c2p(We));if(!(0>Ve||Ve>n._length)){var Rt=t({x:We,y:lr},B,E._fullLayout);Rt.x=We,Rt.y=lr;var _t=L.z[re][q];void 0===_t?(Rt.z="",Rt.zLabel=""):(Rt.z=_t,Rt.zLabel=C.tickText(mt,_t,"hover").text);var Kt=L.text&&L.text[re]&&L.text[re][q];(void 0===Kt||!1===Kt)&&(Kt=""),Rt.text=Kt;var sr=h.texttemplateString(dt,Rt,E._fullLayout._d3locale,Rt,B._meta||{});if(sr){var hr=sr.split("<br>"),or=hr.length,Nt=0;for(se=0;se<or;se++)Nt=Math.max(Nt,hr[se].length);cr.push({l:or,c:Nt,t:sr,x:Ve,y:br,z:_t})}}}}var dr=B.textfont,Mr=dr.family,wr=dr.size,kr=E._fullLayout.font.size;if(!wr||"auto"===wr){var tn=1/0,_r=1/0,Kr=0,vn=0;for(se=0;se<cr.length;se++){var Xr=cr[se];if(Kr=Math.max(Kr,Xr.l),vn=Math.max(vn,Xr.c),se<cr.length-1){var On=cr[se+1],mn=Math.abs(On.x-Xr.x),xr=Math.abs(On.y-Xr.y);mn&&(tn=Math.min(tn,mn)),xr&&(_r=Math.min(_r,xr))}}isFinite(tn)&&isFinite(_r)?(tn-=k,_r-=z,tn/=vn,_r/=Kr,tn/=c/2,_r/=c,wr=Math.min(Math.floor(tn),Math.floor(_r),kr)):wr=kr}if(wr<=0||!isFinite(wr))return;p(I).data(cr).enter().append("g").classed(b,1).append("text").attr("text-anchor","middle").each(function(fn){var Tn=T.select(this),Mn=dr.color;(!Mn||"auto"===Mn)&&(Mn=r.contrast("rgba("+De(fn.z).join()+")")),Tn.attr("data-notex",1).call(y.positionText,function(fn){return fn.x}(fn),function(fn){return fn.y-wr*(fn.l*c/2-1)}(fn)).call(P.font,Mr,wr,Mn).text(fn.t).call(y.convertToTspans,E)})}})}},70035:function(te,Y,e){"use strict";var T=e(39898);te.exports=function(o){T.select(o).selectAll(".hm image").style("opacity",function(P){return P.trace.opacity})}},49901:function(te){"use strict";te.exports=function(e,T,D){!1===D("zsmooth")&&(D("xgap"),D("ygap")),D("zhoverformat")}},67684:function(te,Y,e){"use strict";var T=e(92770),D=e(71828),o=e(73972);function P(h,y){var t=y(h);return"scaled"===(t?y(h+"type","array"):"scaled")&&(y(h+"0"),y("d"+h)),t}te.exports=function(y,t,r,l,i,u){var c,m,f=r("z");if(i=i||"x",u=u||"y",void 0===f||!f.length)return 0;if(D.isArray1D(y.z)){c=r(i),m=r(u);var a=D.minRowLength(c),b=D.minRowLength(m);if(0===a||0===b)return 0;t._length=Math.min(a,b,f.length)}else{if(c=P(i,r),m=P(u,r),!function C(h){for(var l,y=!0,t=!1,r=!1,i=0;i<h.length;i++){if(!D.isArrayOrTypedArray(l=h[i])){y=!1;break}l.length>0&&(t=!0);for(var u=0;u<l.length;u++)if(T(l[u])){r=!0;break}}return y&&t&&r}(f))return 0;r("transpose"),t._length=null}return"heatmapgl"===y.type||o.getComponentMethod("calendars","handleTraceDefaults")(y,t,[i,u],l),!0}},16063:function(te,Y,e){"use strict";for(var T=e(21606),D=e(50693),o=e(1426).extendFlat,P=e(30962).overrideAll,C=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],h={},y=0;y<C.length;y++){var t=C[y];h[t]=T[t]}h.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},o(h,D("",{cLetter:"z",autoColorDflt:!1})),te.exports=P(h,"calc","nested")},59560:function(te,Y,e){"use strict";var T=e(9330).gl_heatmap2d,D=e(89298),o=e(78614);function P(t,r){this.scene=t,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=T(t.glplot,this.options),this.heatmap._trace=this}var C=P.prototype;C.handlePick=function(t){var r=this.options,l=r.shape,i=t.pointId,u=i%l[0],f=Math.floor(i/l[0]);return{trace:this,dataCoord:t.dataCoord,traceCoord:[r.x[u],r.y[f],r.z[i]],textLabel:this.textLabels[i],name:this.name,pointIndex:[f,u],hoverinfo:this.hoverinfo}},C.update=function(t,r){var l=r[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var i=l.z;this.options.z=[].concat.apply([],i),this.options.shape=[i[0].length,i.length],this.options.x=l.x,this.options.y=l.y,this.options.zsmooth=t.zsmooth;var c=function h(t){for(var r=t.colorscale,l=t.zmin,i=t.zmax,u=r.length,f=new Array(u),c=new Array(4*u),m=0;m<u;m++){var a=r[m],b=o(a[1]);f[m]=l+a[0]*(i-l);for(var p=0;p<4;p++)c[4*m+p]=b[p]}return{colorLevels:f,colorValues:c}}(t);this.options.colorLevels=c.colorLevels,this.options.colorValues=c.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options);var b,p,m=this.scene.xaxis,a=this.scene.yaxis;!1===t.zsmooth&&(b={ppad:l.x[1]-l.x[0]},p={ppad:l.y[1]-l.y[0]}),t._extremes[m._id]=D.findExtremes(m,l.x,b),t._extremes[a._id]=D.findExtremes(a,l.y,p)},C.dispose=function(){this.heatmap.dispose()},te.exports=function y(t,r,l){var i=new P(t,r.uid);return i.update(r,l),i}},19600:function(te,Y,e){"use strict";var T=e(71828),D=e(67684),o=e(1586),P=e(16063);te.exports=function(h,y,t,r){function l(u,f){return T.coerce(h,y,P,u,f)}D(h,y,l,r)?(l("text"),l("zsmooth"),o(h,y,r,l,{prefix:"",cLetter:"z"})):y.visible=!1}},3325:function(te,Y,e){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),te.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(te,Y,e){"use strict";var T=e(1486),D=e(12663).axisHoverFormat,o=e(5386).fF,P=e(5386).si,C=e(41940),h=e(17656),y=e(72406),t=e(1426).extendFlat;te.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:D("x"),yhoverformat:D("y"),text:t({},T.text,{}),hovertext:t({},T.hovertext,{}),orientation:T.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:h("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:h("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:o({},{keys:y.eventDataKeys}),texttemplate:P({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},T.textposition,{arrayOk:!1}),textfont:C({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:C({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:C({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:T.insidetextanchor,textangle:T.textangle,cliponaxis:T.cliponaxis,constraintext:T.constraintext,marker:T.marker,offsetgroup:T.offsetgroup,alignmentgroup:T.alignmentgroup,selected:T.selected,unselected:T.unselected,_deprecated:{bardir:T._deprecated.bardir}}},42174:function(te){"use strict";te.exports=function(e,T){for(var D=e.length,o=0,P=0;P<D;P++)T[P]?(e[P]/=T[P],o+=e[P]):e[P]=null;return o}},17656:function(te){"use strict";te.exports=function(e,T){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(te,Y,e){"use strict";var T=e(92770);te.exports={count:function(D,o,P){return P[D]++,1},sum:function(D,o,P,C){var h=C[o];return T(h)?(h=Number(h),P[D]+=h,h):0},avg:function(D,o,P,C,h){var y=C[o];return T(y)&&(y=Number(y),P[D]+=y,h[D]++),0},min:function(D,o,P,C){var h=C[o];if(T(h)){if(h=Number(h),!T(P[D]))return P[D]=h,h;if(P[D]>h){var y=h-P[D];return P[D]=h,y}}return 0},max:function(D,o,P,C){var h=C[o];if(T(h)){if(h=Number(h),!T(P[D]))return P[D]=h,h;if(P[D]<h){var y=h-P[D];return P[D]=h,y}}return 0}}},40965:function(te,Y,e){"use strict";var T=e(50606),D=T.ONEAVGYEAR,o=T.ONEAVGMONTH,P=T.ONEDAY,C=T.ONEHOUR,h=T.ONEMIN,y=T.ONESEC,t=e(89298).tickIncrement;function r(f,c,m,a){if(f*c<=0)return 1/0;for(var b=Math.abs(c-f),p="date"===m.type,s=l(b,p),v=0;v<10;v++){var A=l(80*s,p);if(s===A)break;if(!i(A,f,c,p,m,a))break;s=A}return s}function l(f,c){return c&&f>y?f>P?f>1.1*D?D:f>1.1*o?o:P:f>C?C:f>h?h:y:Math.pow(10,Math.floor(Math.log(f)/Math.LN10))}function i(f,c,m,a,b,p){if(a&&f>P){var s=u(c,b,p),v=u(m,b,p),A=f===D?0:1;return s[A]!==v[A]}return Math.floor(m/f)-Math.floor(c/f)>.1}function u(f,c,m){var a=c.c2d(f,D,m).split("-");return""===a[0]&&(a.unshift(),a[0]="-"+a[0]),a}te.exports=function(c,m,a,b,p){var w,n,s=-1.1*m,v=-.1*m,A=c-v,x=a[0],E=a[1],g=Math.min(r(x+v,x+A,b,p),r(E+v,E+A,b,p)),M=Math.min(r(x+s,x+v,b,p),r(E+s,E+v,b,p));if(g>M&&M<Math.abs(E-x)/4e3?(w=g,n=!1):(w=Math.min(g,M),n=!0),"date"===b.type&&w>P){var S=w===D?1:6,d=w===D?"M12":"M1";return function(I,L){var B=b.c2d(I,D,p),k=B.indexOf("-",S);k>0&&(B=B.substr(0,k));var z=b.d2c(B,0,p);if(z<I){var O=t(z,d,!1,p);(z+O)/2<I+c&&(z=O)}return L&&n?t(z,d,!0,p):z}}return function(I,L){var B=w*Math.round(I/w);return B+w/10<I&&B+.9*w<I+c&&(B+=w),L&&n&&(B-=w),B}}},72138:function(te,Y,e){"use strict";var T=e(92770),D=e(71828),o=e(73972),P=e(89298),C=e(75341),h=e(59575),y=e(36362),t=e(42174),r=e(40965);function i(m,a,b,p,s){var M,w,n,S,d,I,L,v=p+"bins",A=m._fullLayout,E=A._histogramBinOpts[a["_"+p+"bingroup"]],g="overlay"===A.barmode,B=function(ye){return b.r2c(ye,0,S)},k=function(ye){return b.c2r(ye,0,S)},z="date"===b.type?function(ye){return ye||0===ye?D.cleanDate(ye,null,S):null}:function(ye){return T(ye)?Number(ye):null};function O(ye,Pe,Ie){Pe[ye+"Found"]?(Pe[ye]=z(Pe[ye]),null===Pe[ye]&&(Pe[ye]=Ie[ye])):(I[ye]=Pe[ye]=Ie[ye],D.nestedProperty(w[0],v+"."+ye).set(Ie[ye]))}if(a["_"+p+"autoBinFinished"])delete a["_"+p+"autoBinFinished"];else{w=E.traces;var F=[],N=!0,H=!1,X=!1;for(M=0;M<w.length;M++)if((n=w[M]).visible){var ne=E.dirs[M];d=n["_"+ne+"pos0"]=b.makeCalcdata(n,ne),F=D.concat(F,d),delete n["_"+p+"autoBinFinished"],!0===a.visible&&(N?N=!1:(delete n._autoBin,n["_"+p+"autoBinFinished"]=1),o.traceIs(n,"2dMap")&&(H=!0),"histogram2dcontour"===n.type&&(X=!0))}var ie=P.autoBin(F,b,E.nbins,H,S=w[0][p+"calendar"],E.sizeFound&&E.size),ue=w[0]._autoBin={};if(I=ue[E.dirs[0]]={},X&&(E.size||(ie.start=k(P.tickIncrement(B(ie.start),ie.size,!0,S))),void 0===E.end&&(ie.end=k(P.tickIncrement(B(ie.end),ie.size,!1,S)))),g&&!o.traceIs(a,"2dMap")&&0===ie._dataSpan&&"category"!==b.type&&"multicategory"!==b.type&&""===a.bingroup&&typeof a.xbins>"u"){if(s)return[ie,d,!0];ie=function u(m,a,b,p,s){var M,w,n,v=m._fullLayout,A=function f(m,a){for(var b=a.xaxis,p=a.yaxis,s=a.orientation,v=[],A=m._fullData,x=0;x<A.length;x++){var E=A[x];"histogram"===E.type&&!0===E.visible&&E.orientation===s&&E.xaxis===b&&E.yaxis===p&&v.push(E)}return v}(m,a),x=!1,E=1/0,g=[a];for(M=0;M<A.length;M++)if((w=A[M])===a)x=!0;else if(x){var S=i(m,w,b,p,!0),d=S[0],I=S[2];w["_"+p+"autoBinFinished"]=1,w["_"+p+"pos0"]=S[1],I?g.push(w):E=Math.min(E,d.size)}else n=v._histogramBinOpts[w["_"+p+"bingroup"]],E=Math.min(E,n.size||w[s].size);var L=new Array(g.length);for(M=0;M<g.length;M++)for(var B=g[M]["_"+p+"pos0"],k=0;k<B.length;k++)if(void 0!==B[k]){L[M]=B[k];break}for(isFinite(E)||(E=D.distinctVals(L).minDiff),M=0;M<g.length;M++){var z=(w=g[M])[p+"calendar"],O={start:b.c2r(L[M]-E/2,0,z),end:b.c2r(L[M]+E/2,0,z),size:E};w._input[s]=w[s]=O,(n=v._histogramBinOpts[w["_"+p+"bingroup"]])&&D.extendFlat(n,O)}return a[s]}(m,a,b,p,v)}(L=n.cumulative||{}).enabled&&"include"!==L.currentbin&&("decreasing"===L.direction?ie.start=k(P.tickIncrement(B(ie.start),ie.size,!0,S)):ie.end=k(P.tickIncrement(B(ie.end),ie.size,!1,S))),E.size=ie.size,E.sizeFound||(I.size=ie.size,D.nestedProperty(w[0],v+".size").set(ie.size)),O("start",E,ie),O("end",E,ie)}d=a["_"+p+"pos0"],delete a["_"+p+"pos0"];var J=a._input[v]||{},j=D.extendFlat({},E),W=E.start,V=b.r2l(J.start),K=void 0!==V;if((E.startFound||K)&&V!==b.r2l(W)){var ae=K?V:D.aggNums(Math.min,null,d),Q={type:"category"===b.type||"multicategory"===b.type?"linear":b.type,r2l:b.r2l,dtick:E.size,tick0:W,calendar:S,range:[ae,P.tickIncrement(ae,E.size,!1,S)].map(b.l2r)},Z=P.tickFirst(Q);Z>b.r2l(ae)&&(Z=P.tickIncrement(Z,E.size,!0,S)),j.start=b.l2r(Z),K||D.nestedProperty(a,v+".start").set(j.start)}var re=E.end,q=b.r2l(J.end),se=void 0!==q;if((E.endFound||se)&&q!==b.r2l(re)){var de=se?q:D.aggNums(Math.max,null,d);j.end=b.l2r(de),se||D.nestedProperty(a,v+".start").set(j.end)}var we="autobin"+p;return!1===a._input[we]&&(a._input[v]=D.extendFlat({},a[v]||{}),delete a._input[we],delete a[we]),[j,d]}te.exports={calc:function l(m,a){var M,X,ne,ie,b=[],p=[],s="h"===a.orientation,v=P.getFromId(m,s?a.yaxis:a.xaxis),A=s?"y":"x",x={x:"y",y:"x"}[A],E=a[A+"calendar"],g=a.cumulative,w=i(m,a,v,A),n=w[0],S=w[1],d="string"==typeof n.size,I=[],L=d?I:n,B=[],k=[],z=[],O=0,F=a.histnorm,N=a.histfunc,H=-1!==F.indexOf("density");g.enabled&&H&&(F=F.replace(/ ?density$/,""),H=!1);var ae,J="max"===N||"min"===N?null:0,j=h.count,W=y[F],V=!1,K=function(Ye){return v.r2c(Ye,0,E)};for(D.isArrayOrTypedArray(a[x])&&"count"!==N&&(ae=a[x],V="avg"===N,j=h[N]),M=K(n.start),ne=K(n.end)+(M-P.tickIncrement(M,n.size,!1,E))/1e6;M<ne&&b.length<1e6&&(X=P.tickIncrement(M,n.size,!1,E),b.push((M+X)/2),p.push(J),z.push([]),I.push(M),H&&B.push(1/(X-M)),V&&k.push(0),!(X<=M));)M=X;I.push(M),!d&&"date"===v.type&&(L={start:K(L.start),end:K(L.end),size:L.size}),m._fullLayout._roundFnOpts||(m._fullLayout._roundFnOpts={});var Q=a["_"+A+"bingroup"],Z={leftGap:1/0,rightGap:1/0};Q&&(m._fullLayout._roundFnOpts[Q]||(m._fullLayout._roundFnOpts[Q]=Z),Z=m._fullLayout._roundFnOpts[Q]);var Pe,re=p.length,q=!0,se=Z.leftGap,de=Z.rightGap,we={};for(M=0;M<S.length;M++){var ye=S[M];(ie=D.findBin(ye,L))>=0&&ie<re&&(O+=j(ie,M,p,ae,k),q&&z[ie].length&&ye!==S[z[ie][0]]&&(q=!1),z[ie].push(M),we[M]=ie,se=Math.min(se,ye-I[ie]),de=Math.min(de,I[ie+1]-ye))}Z.leftGap=se,Z.rightGap=de,q||(Pe=function(Ye,De){return function(){var He=m._fullLayout._roundFnOpts[Q];return r(He.leftGap,He.rightGap,I,v,E)(Ye,De)}}),V&&(O=t(p,k)),W&&W(p,O,B),g.enabled&&function c(m,a,b){var p,s,v;function A(E){v=m[E],m[E]/=2}function x(E){m[E]=v+(s=m[E])/2,v+=s}if("half"===b)if("increasing"===a)for(A(0),p=1;p<m.length;p++)x(p);else for(A(m.length-1),p=m.length-2;p>=0;p--)x(p);else if("increasing"===a){for(p=1;p<m.length;p++)m[p]+=m[p-1];"exclude"===b&&(m.unshift(0),m.pop())}else{for(p=m.length-2;p>=0;p--)m[p]+=m[p+1];"exclude"===b&&(m.push(0),m.shift())}}(p,g.direction,g.currentbin);var Ie=Math.min(b.length,p.length),Se=[],xe=0,Me=Ie-1;for(M=0;M<Ie;M++)if(p[M]){xe=M;break}for(M=Ie-1;M>=xe;M--)if(p[M]){Me=M;break}for(M=xe;M<=Me;M++)if(T(b[M])&&T(p[M])){var Ge={p:b[M],s:p[M],b:0};g.enabled||(Ge.pts=z[M],q?Ge.ph0=Ge.ph1=z[M].length?S[z[M][0]]:b[M]:(a._computePh=!0,Ge.ph0=Pe(I[M]),Ge.ph1=Pe(I[M+1],!0))),Se.push(Ge)}return 1===Se.length&&(Se[0].width1=P.tickIncrement(Se[0].p,n.size,!1,E)-Se[0].p),C(Se,a),D.isArrayOrTypedArray(a.selectedpoints)&&D.tagSelected(Se,a,we),Se},calcAllAutoBins:i}},72406:function(te){"use strict";te.exports={eventDataKeys:["binNumber"]}},82222:function(te,Y,e){"use strict";var T=e(71828),D=e(41675),o=e(73972).traceIs,P=e(26125),C=T.nestedProperty,h=e(99082).getAxisGroup,y=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];te.exports=function(l,i){var a,b,p,s,v,A,x,u=i._histogramBinOpts={},f=[],c={},m=[];function E(X,ne){return T.coerce(a._input,a,a._module.attributes,X,ne)}function g(X){return"v"===X.orientation?"x":"y"}function w(X,ne,ie){var ue=X.uid+"__"+ie;ne||(ne=ue);var J=function M(X,ne){return D.getFromTrace({_fullLayout:i},X,ne).type}(X,ie),j=X[ie+"calendar"]||"",W=u[ne],V=!0;W&&(J===W.axType&&j===W.calendar?(V=!1,W.traces.push(X),W.dirs.push(ie)):(ne=ue,J!==W.axType&&T.warn(["Attempted to group the bins of trace",X.index,"set on a","type:"+J,"axis","with bins on","type:"+W.axType,"axis."].join(" ")),j!==W.calendar&&T.warn(["Attempted to group the bins of trace",X.index,"set with a",j,"calendar","with bins",W.calendar?"on a "+W.calendar+" calendar":"w/o a set calendar"].join(" ")))),V&&(u[ne]={traces:[X],dirs:[ie],axType:J,calendar:X[ie+"calendar"]||""}),X["_"+ie+"bingroup"]=ne}for(v=0;v<l.length;v++)o(a=l[v],"histogram")&&(f.push(a),delete a._xautoBinFinished,delete a._yautoBinFinished,o(a,"2dMap")||P(a._input,a,i,E));var n=i._alignmentOpts||{};for(v=0;v<f.length;v++){if(p="",!o(a=f[v],"2dMap")){if(s=g(a),"group"===i.barmode&&a.alignmentgroup){var d=h(i,a[s+"axis"])+a.orientation;(n[d]||{})[a.alignmentgroup]&&(p=d)}!p&&"overlay"!==i.barmode&&(p=h(i,a.xaxis)+h(i,a.yaxis)+g(a))}p?(c[p]||(c[p]=[]),c[p].push(a)):m.push(a)}for(p in c)if(1!==(b=c[p]).length){var I=!1;for(b.length&&(a=b[0],I=E("bingroup")),p=I||p,v=0;v<b.length;v++){var L=(a=b[v])._input.bingroup;L&&L!==p&&T.warn(["Trace",a.index,"must match","within bingroup",p+".","Ignoring its bingroup:",L,"setting."].join(" ")),a.bingroup=p,w(a,p,g(a))}}else m.push(b[0]);for(v=0;v<m.length;v++){a=m[v];var B=E("bingroup");if(o(a,"2dMap"))for(x=0;x<2;x++){var k=E((s=t[x])+"bingroup",B?B+"__"+s:null);w(a,k,s)}else w(a,B,g(a))}for(p in u){var z=u[p];for(b=z.traces,A=0;A<y.length;A++){var N,H,O=y[A],F=O.name;if("nbins"!==F||!z.sizeFound){for(v=0;v<b.length;v++){if(void 0!==C((a=b[v])._input,N=O.aStr[s=z.dirs[v]]).get()){z[F]=E(N),z[F+"Found"]=!0;break}(H=(a._autoBin||{})[s]||{})[F]&&C(a,N).set(H[F])}if("start"===F||"end"===F)for(;v<b.length;v++)(a=b[v])["_"+s+"bingroup"]&&E(N,(H=(a._autoBin||{})[s]||{})[F]);"nbins"===F&&!z.sizeFound&&!z.nbinsFound&&(a=b[0],z[F]=E(N))}}}}},11385:function(te,Y,e){"use strict";var T=e(73972),D=e(71828),o=e(7901),P=e(90769).handleText,C=e(98340),h=e(7745);te.exports=function(t,r,l,i){function u(M,w){return D.coerce(t,r,h,M,w)}var f=u("x"),c=u("y");u("cumulative.enabled")&&(u("cumulative.direction"),u("cumulative.currentbin")),u("text");var a=u("textposition");P(t,r,i,u,a,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat");var b=u("orientation",c&&!f?"h":"v"),p="v"===b?"x":"y",s="v"===b?"y":"x",v=f&&c?Math.min(D.minRowLength(f)&&D.minRowLength(c)):D.minRowLength(r[p]||[]);if(v){r._length=v,T.getComponentMethod("calendars","handleTraceDefaults")(t,r,["x","y"],i),r[s]&&u("histfunc"),u("histnorm"),u("autobin"+p),C(t,r,u,l,i),D.coerceSelectionMarkerOpacity(r,u);var E=(r.marker.line||{}).color,g=T.getComponentMethod("errorbars","supplyDefaults");g(t,r,E||o.defaultLine,{axis:"y"}),g(t,r,E||o.defaultLine,{axis:"x",inherit:"y"})}else r.visible=!1}},84402:function(te){"use strict";te.exports=function(e,T,D,o,P){if(e.x="xVal"in T?T.xVal:T.x,e.y="yVal"in T?T.yVal:T.y,"zLabelVal"in T&&(e.z=T.zLabelVal),T.xa&&(e.xaxis=T.xa),T.ya&&(e.yaxis=T.ya),!(D.cumulative||{}).enabled){var h,C=Array.isArray(P)?o[0].pts[P[0]][P[1]]:o[P].pts;if(e.pointNumbers=C,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex,D._indexToPoints){h=[];for(var y=0;y<C.length;y++)h=h.concat(D._indexToPoints[C[y]])}else h=C;e.pointIndices=h}return e}},76440:function(te,Y,e){"use strict";var T=e(95423).hoverPoints,D=e(89298).hoverLabelText;te.exports=function(P,C,h,y,t){var r=T(P,C,h,y,t);if(r){var l=(P=r[0]).cd[P.index],i=P.cd[0].trace;if(!i.cumulative.enabled){var u="h"===i.orientation?"y":"x";P[u+"Label"]=D(P[u+"a"],[l.ph0,l.ph1],i[u+"hoverformat"])}return r}}},36071:function(te,Y,e){"use strict";te.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(te){"use strict";te.exports={percent:function(Y,e){for(var T=Y.length,D=100/e,o=0;o<T;o++)Y[o]*=D},probability:function(Y,e){for(var T=Y.length,D=0;D<T;D++)Y[D]/=e},density:function(Y,e,T,D){var o=Y.length;D=D||1;for(var P=0;P<o;P++)Y[P]*=T[P]*D},"probability density":function(Y,e,T,D){var o=Y.length;D&&(e/=D);for(var P=0;P<o;P++)Y[P]*=T[P]/e}}},35361:function(te,Y,e){"use strict";var T=e(7745),D=e(17656),o=e(21606),P=e(9012),C=e(12663).axisHoverFormat,h=e(5386).fF,y=e(5386).si,t=e(50693),r=e(1426).extendFlat;te.exports=r({x:T.x,y:T.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:T.histnorm,histfunc:T.histfunc,nbinsx:T.nbinsx,xbins:D("x"),nbinsy:T.nbinsy,ybins:D("y"),autobinx:T.autobinx,autobiny:T.autobiny,bingroup:r({},T.bingroup,{}),xbingroup:r({},T.bingroup,{}),ybingroup:r({},T.bingroup,{}),xgap:o.xgap,ygap:o.ygap,zsmooth:o.zsmooth,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:h({},{keys:"z"}),texttemplate:y({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:o.textfont,showlegend:r({},P.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(te,Y,e){"use strict";var T=e(71828),D=e(89298),o=e(59575),P=e(36362),C=e(42174),h=e(40965),y=e(72138).calcAllAutoBins;function t(i,u,f,c){var a,m=new Array(i);if(c)for(a=0;a<i;a++)m[a]=1/(u[a+1]-u[a]);else{var b=1/f;for(a=0;a<i;a++)m[a]=b}return m}function r(i,u){return{start:i(u.start),end:i(u.end),size:u.size}}function l(i,u,f,c,m,a){var b,p=i.length-1,s=new Array(p),v=h(f,c,i,m,a);for(b=0;b<p;b++){var A=(u||[])[b];s[b]=void 0===A?[v(i[b]),v(i[b+1],!0)]:[A,A]}return s}te.exports=function(u,f){var x,E,g,M,c=D.getFromId(u,f.xaxis),m=D.getFromId(u,f.yaxis),a=f.xcalendar,b=f.ycalendar,p=function(Re){return c.r2c(Re,0,a)},s=function(Re){return m.r2c(Re,0,b)},w=y(u,f,c,"x"),n=w[0],S=w[1],d=y(u,f,m,"y"),I=d[0],L=d[1],B=f._length;S.length>B&&S.splice(B,S.length-B),L.length>B&&L.splice(B,L.length-B);var k=[],z=[],O=[],F="string"==typeof n.size,N="string"==typeof I.size,H=[],X=[],ne=F?H:n,ie=N?X:I,ue=0,J=[],j=[],W=f.histnorm,V=f.histfunc,K=-1!==W.indexOf("density"),Q="max"===V||"min"===V?null:0,Z=o.count,re=P[W],q=!1,se=[],de=[],we="z"in f?f.z:"marker"in f&&Array.isArray(f.marker.color)?f.marker.color:"";we&&"count"!==V&&(q="avg"===V,Z=o[V]);var ye=n.size,Pe=p(n.start),Ie=p(n.end)+(Pe-D.tickIncrement(Pe,ye,!1,a))/1e6;for(x=Pe;x<Ie;x=D.tickIncrement(x,ye,!1,a))z.push(Q),H.push(x),q&&O.push(0);H.push(x);var Se=z.length,xe=(x-Pe)/Se,Me=c.c2r(Pe+xe/2,0,a),Ge=I.size,Ye=s(I.start),De=s(I.end)+(Ye-D.tickIncrement(Ye,Ge,!1,b))/1e6;for(x=Ye;x<De;x=D.tickIncrement(x,Ge,!1,b)){k.push(z.slice()),X.push(x);var He=new Array(Se);for(E=0;E<Se;E++)He[E]=[];j.push(He),q&&J.push(O.slice())}X.push(x);var rt=k.length,$e=(x-Ye)/rt,Be=m.c2r(Ye+$e/2,0,b);K&&(se=t(z.length,ne,xe,F),de=t(k.length,ie,$e,N)),!F&&"date"===c.type&&(ne=r(p,ne)),!N&&"date"===m.type&&(ie=r(s,ie));var ze=!0,tt=!0,lt=new Array(Se),ut=new Array(rt),xt=1/0,bt=1/0,Ht=1/0,Je=1/0;for(x=0;x<B;x++){var Ce=S[x],Ee=L[x];g=T.findBin(Ce,ne),M=T.findBin(Ee,ie),g>=0&&g<Se&&M>=0&&M<rt&&(ue+=Z(g,x,k[M],we,J[M]),j[M][g].push(x),ze&&(void 0===lt[g]?lt[g]=Ce:lt[g]!==Ce&&(ze=!1)),tt&&(void 0===ut[M]?ut[M]=Ee:ut[M]!==Ee&&(tt=!1)),xt=Math.min(xt,Ce-H[g]),bt=Math.min(bt,H[g+1]-Ce),Ht=Math.min(Ht,Ee-X[M]),Je=Math.min(Je,X[M+1]-Ee))}if(q)for(M=0;M<rt;M++)ue+=C(k[M],J[M]);if(re)for(M=0;M<rt;M++)re(k[M],ue,se,de[M]);return{x:S,xRanges:l(H,ze&&lt,xt,bt,c,a),x0:Me,dx:xe,y:L,yRanges:l(X,tt&&ut,Ht,Je,m,b),y0:Be,dy:$e,z:k,pts:j}}},93888:function(te,Y,e){"use strict";var T=e(71828),D=e(75238),o=e(49901),P=e(1586),C=e(58623),h=e(35361);te.exports=function(t,r,l,i){function u(f,c){return T.coerce(t,r,h,f,c)}D(t,r,u,i),!1!==r.visible&&(o(t,r,u,i),P(t,r,i,u,{prefix:"",cLetter:"z"}),u("hovertemplate"),C(u,i),u("xhoverformat"),u("yhoverformat"))}},76128:function(te,Y,e){"use strict";var T=e(46248),D=e(89298).hoverLabelText;te.exports=function(P,C,h,y,t){var r=T(P,C,h,y,t);if(r){var l=(P=r[0]).index,f=P.cd[0],c=f.trace,m=f.xRanges[l[1]],a=f.yRanges[l[0]];return P.xLabel=D(P.xa,[m[0],m[1]],c.xhoverformat),P.yLabel=D(P.ya,[a[0],a[1]],c.yhoverformat),r}}},43905:function(te,Y,e){"use strict";te.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(te,Y,e){"use strict";var T=e(73972),D=e(71828);te.exports=function(P,C,h,y){var t=h("x"),r=h("y"),l=D.minRowLength(t),i=D.minRowLength(r);l&&i?(C._length=Math.min(l,i),T.getComponentMethod("calendars","handleTraceDefaults")(P,C,["x","y"],y),(h("z")||h("marker.color"))&&h("histfunc"),h("histnorm"),h("autobinx"),h("autobiny")):C.visible=!1}},99066:function(te,Y,e){"use strict";var T=e(35361),D=e(70600),o=e(50693),P=e(12663).axisHoverFormat,C=e(1426).extendFlat;te.exports=C({x:T.x,y:T.y,z:T.z,marker:T.marker,histnorm:T.histnorm,histfunc:T.histfunc,nbinsx:T.nbinsx,xbins:T.xbins,nbinsy:T.nbinsy,ybins:T.ybins,autobinx:T.autobinx,autobiny:T.autobiny,bingroup:T.bingroup,xbingroup:T.xbingroup,ybingroup:T.ybingroup,autocontour:D.autocontour,ncontours:D.ncontours,contours:D.contours,line:{color:D.line.color,width:C({},D.line.width,{dflt:.5}),dash:D.line.dash,smoothing:D.line.smoothing,editType:"plot"},xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:T.hovertemplate,texttemplate:D.texttemplate,textfont:D.textfont},o("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(te,Y,e){"use strict";var T=e(71828),D=e(75238),o=e(67217),P=e(8724),C=e(58623),h=e(99066);te.exports=function(t,r,l,i){function u(c,m){return T.coerce(t,r,h,c,m)}D(t,r,u,i),!1!==r.visible&&(o(t,r,u,function f(c){return T.coerce2(t,r,h,c)}),P(t,r,u,i),u("xhoverformat"),u("yhoverformat"),u("hovertemplate"),r.contours&&"heatmap"===r.contours.coloring&&C(u,i))}},35902:function(te,Y,e){"use strict";te.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(te,Y,e){"use strict";var T=e(5386).fF,D=e(5386).si,o=e(50693),P=e(27670).Y,C=e(34e3),h=e(57564),y=e(45802),t=e(43473),r=e(1426).extendFlat,l=e(79952).u;te.exports={labels:h.labels,parents:h.parents,values:h.values,branchvalues:h.branchvalues,count:h.count,level:h.level,maxdepth:h.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:y.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:r({colors:h.marker.colors,line:h.marker.line,pattern:l,editType:"calc"},o("marker",{colorAttr:"colors",anim:!1})),leaf:h.leaf,pathbar:y.pathbar,text:C.text,textinfo:h.textinfo,texttemplate:D({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:C.hovertext,hoverinfo:h.hoverinfo,hovertemplate:T({},{keys:t.eventDataKeys}),textfont:C.textfont,insidetextfont:C.insidetextfont,outsidetextfont:y.outsidetextfont,textposition:y.textposition,sort:C.sort,root:h.root,domain:P({name:"icicle",trace:!0,editType:"calc"})}},96346:function(te,Y,e){"use strict";var T=e(74875);Y.name="icicle",Y.plot=function(D,o,P,C){T.plotBasePlot(Y.name,D,o,P,C)},Y.clean=function(D,o,P,C){T.cleanBasePlot(Y.name,D,o,P,C)}},46584:function(te,Y,e){"use strict";var T=e(52147);Y.y=function(D,o){return T.calc(D,o)},Y.T=function(D){return T._runCrossTraceCalc("icicle",D)}},56524:function(te,Y,e){"use strict";var T=e(71828),D=e(46291),o=e(7901),P=e(27670).c,C=e(90769).handleText,h=e(97313).TEXTPAD,y=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,l=t.handleDefaults;te.exports=function(u,f,c,m){function a(g,M){return T.coerce(u,f,D,g,M)}var b=a("labels"),p=a("parents");if(b&&b.length&&p&&p.length){var s=a("values");a(s&&s.length?"branchvalues":"count"),a("level"),a("maxdepth"),a("tiling.orientation"),a("tiling.flip"),a("tiling.pad");var v=a("text");a("texttemplate"),f.texttemplate||a("textinfo",Array.isArray(v)?"text+label":"label"),a("hovertext"),a("hovertemplate");var A=a("pathbar.visible");C(u,f,m,a,"auto",{hasPathbar:A,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),a("textposition"),y(u,f,m,a);var E=f._hasColorscale=r(u,"marker","colors")||(u.marker||{}).coloraxis;E&&l(u,f,m,a,{prefix:"marker.",cLetter:"c"}),a("leaf.opacity",E?1:.7),f._hovered={marker:{line:{width:2,color:o.contrast(m.paper_bgcolor)}}},A&&(a("pathbar.thickness",f.pathbar.textfont.size+2*h),a("pathbar.side"),a("pathbar.edgeshape")),a("sort"),a("root.color"),P(f,m,a),f._length=null}else f.visible=!1}},90666:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(91424),P=e(63893),C=e(21538),h=e(82454).styleOne,y=e(43473),t=e(2791),r=e(83523),l=e(24714).formatSliceLabel,i=!1;te.exports=function(f,c,m,a,b){var p=b.width,s=b.height,v=b.viewX,A=b.viewY,x=b.pathSlice,E=b.toMoveInsideSlice,g=b.strTransform,M=b.hasTransition,w=b.handleSlicesExit,n=b.makeUpdateSliceInterpolator,S=b.makeUpdateTextInterpolator,d=b.prevEntry,L=f._context.staticPlot,B=f._fullLayout,z=c[0].trace,O=-1!==z.textposition.indexOf("left"),F=-1!==z.textposition.indexOf("right"),N=-1!==z.textposition.indexOf("bottom"),X=C(m,[p,s],{flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,orientation:z.tiling.orientation,pad:{inner:z.tiling.pad},maxDepth:z._maxDepth}).descendants(),ne=1/0,ie=-1/0;X.forEach(function(V){var K=V.depth;K>=z._maxDepth?(V.x0=V.x1=(V.x0+V.x1)/2,V.y0=V.y1=(V.y0+V.y1)/2):(ne=Math.min(ne,K),ie=Math.max(ie,K))}),a=a.data(X,t.getPtId),z._maxVisibleLayers=isFinite(ie)?ie-ne+1:0,a.enter().append("g").classed("slice",!0),w(a,i,{},[p,s],x),a.order();var ue=null;if(M&&d){var J=t.getPtId(d);a.each(function(V){null===ue&&t.getPtId(V)===J&&(ue={x0:V.x0,x1:V.x1,y0:V.y0,y1:V.y1})})}var j=function(){return ue||{x0:0,x1:p,y0:0,y1:s}},W=a;return M&&(W=W.transition().each("end",function(){var V=T.select(this);t.setSliceCursor(V,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function(V){V._x0=v(V.x0),V._x1=v(V.x1),V._y0=A(V.y0),V._y1=A(V.y1),V._hoverX=v(V.x1-z.tiling.pad),V._hoverY=A(N?V.y1-z.tiling.pad/2:V.y0+z.tiling.pad/2);var K=T.select(this),ae=D.ensureSingle(K,"path","surface",function(q){q.style("pointer-events",L?"none":"all")});M?ae.transition().attrTween("d",function(q){var se=n(q,i,j(),[p,s],{orientation:z.tiling.orientation,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1});return function(de){return x(se(de))}}):ae.attr("d",x),K.call(r,m,f,c,{styleOne:h,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,f,{isTransitioning:f._transitioning}),ae.call(h,V,z,f,{hovered:!1}),V._text=V.x0===V.x1||V.y0===V.y1?"":l(V,m,z,c,B)||"";var Q=D.ensureSingle(K,"g","slicetext"),Z=D.ensureSingle(Q,"text","",function(q){q.attr("data-notex",1)}),re=D.ensureUniformFontSize(f,t.determineTextFont(z,V,B.font));Z.text(V._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":O?"start":"middle").call(o.font,re).call(P.convertToTspans,f),V.textBB=o.bBox(Z.node()),V.transform=E(V,{fontSize:re.size}),V.transform.fontSize=re.size,M?Z.transition().attrTween("transform",function(q){var se=S(q,i,j(),[p,s]);return function(de){return g(se(de))}}):Z.attr("transform",g(V))}),ue}},69816:function(te,Y,e){"use strict";te.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(te){"use strict";te.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(te,Y,e){"use strict";var T=e(71828),D=e(92894);te.exports=function(P,C){function h(y,t){return T.coerce(P,C,D,y,t)}h("iciclecolorway",C.colorway),h("extendiciclecolors")}},21538:function(te,Y,e){"use strict";var T=e(674),D=e(14102);te.exports=function(P,C,h){var y=h.flipX,t=h.flipY,r="h"===h.orientation,l=h.maxDepth,i=C[0],u=C[1];l&&(i=(P.height+1)*C[0]/Math.min(P.height+1,l),u=(P.height+1)*C[1]/Math.min(P.height+1,l));var f=T.partition().padding(h.pad.inner).size(r?[C[1],i]:[C[0],u])(P);return(r||y||t)&&D(f,C,{swapXY:r,flipX:y,flipY:t}),f}},85596:function(te,Y,e){"use strict";var T=e(80694),D=e(90666);te.exports=function(P,C,h,y){return T(P,C,h,y,{type:"icicle",drawDescendants:D})}},82454:function(te,Y,e){"use strict";var T=e(39898),D=e(7901),o=e(71828),P=e(72597).resizeText,C=e(43467);function y(t,r,l,i){var f=!r.children,c=r.data.data.i,m=o.castOption(l,c,"marker.line.color")||D.defaultLine,a=o.castOption(l,c,"marker.line.width")||0;t.call(C,r,l,i).style("stroke-width",a).call(D.stroke,m).style("opacity",f?l.leaf.opacity:null)}te.exports={style:function h(t){var r=t._fullLayout._iciclelayer.selectAll(".trace");P(t,r,"icicle"),r.each(function(l){var i=T.select(this),f=l[0].trace;i.style("opacity",f.opacity),i.selectAll("path.surface").each(function(c){T.select(this).call(y,c,f,t)})})},styleOne:y}},17230:function(te,Y,e){"use strict";for(var T=e(9012),D=e(5386).fF,o=e(1426).extendFlat,P=e(51877).colormodel,C=["rgb","rgba","rgba256","hsl","hsla"],h=[],y=[],t=0;t<C.length;t++){var r=P[C[t]];h.push("For the `"+C[t]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),y.push("For the `"+C[t]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}te.exports=o({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:C,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:o({},T.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:D({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(te,Y,e){"use strict";var T=e(71828),D=e(51877),o=e(92770),P=e(89298),C=e(71828).maxRowLength,h=e(67395).A;function y(l,i,u,f){return function(c){return T.constrain((c-l)*i,u,f)}}function t(l,i){return function(u){return T.constrain(u,l,i)}}te.exports=function(i,u){var f,c;if(u._hasZ)f=u.z.length,c=C(u.z);else if(u._hasSource){var m=h(u.source);f=m.height,c=m.width}var v,a=P.getFromId(i,u.xaxis||"x"),b=P.getFromId(i,u.yaxis||"y"),p=a.d2c(u.x0)-u.dx/2,s=b.d2c(u.y0)-u.dy/2,A=[p,p+c*u.dx],x=[s,s+f*u.dy];if(a&&"log"===a.type)for(v=0;v<c;v++)A.push(p+v*u.dx);if(b&&"log"===b.type)for(v=0;v<f;v++)x.push(s+v*u.dy);return u._extremes[a._id]=P.findExtremes(a,A),u._extremes[b._id]=P.findExtremes(b,x),u._scaler=function r(l){var i=D.colormodel[l.colormodel],f=(i.colormodel||l.colormodel).length;l._sArray=[];for(var c=0;c<f;c++)l._sArray.push(i.min[c]!==l.zmin[c]||i.max[c]!==l.zmax[c]?y(l.zmin[c],(i.max[c]-i.min[c])/(l.zmax[c]-l.zmin[c]),i.min[c],i.max[c]):t(i.min[c],i.max[c]));return function(m){for(var a=m.slice(0,f),b=0;b<f;b++){var p=a[b];if(!o(p))return!1;a[b]=l._sArray[b](p)}return a}}(u),[{x0:p,y0:s,z:u.z,w:c,h:f}]}},51877:function(te){"use strict";te.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(Y){return Y.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(Y){return Y.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(Y){return Y.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(Y){var e=Y.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xb0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(Y){var e=Y.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xb0","%","%",""]}}}},13245:function(te,Y,e){"use strict";var T=e(71828),D=e(17230),o=e(51877),P=e(25095).IMAGE_URL_PREFIX;te.exports=function(h,y){function t(i,u){return T.coerce(h,y,D,i,u)}t("source"),y.source&&!y.source.match(P)&&delete y.source,y._hasSource=!!y.source;var l,r=t("z");y._hasZ=!(void 0===r||!r.length||!r[0]||!r[0].length),y._hasZ||y._hasSource?(t("x0"),t("y0"),t("dx"),t("dy"),y._hasZ?(t("colormodel","rgb"),t("zmin",(l=o.colormodel[y.colormodel]).zminDflt||l.min),t("zmax",l.zmaxDflt||l.max)):y._hasSource&&(y.colormodel="rgba256",y.zmin=(l=o.colormodel[y.colormodel]).zminDflt,y.zmax=l.zmaxDflt),t("zsmooth"),t("text"),t("hovertext"),t("hovertemplate"),y._length=null):y.visible=!1}},30835:function(te){"use strict";te.exports=function(e,T){return"xVal"in T&&(e.x=T.xVal),"yVal"in T&&(e.y=T.yVal),T.xa&&(e.xaxis=T.xa),T.ya&&(e.yaxis=T.ya),e.color=T.color,e.colormodel=T.trace.colormodel,e.z||(e.z=T.color),e}},67395:function(te,Y,e){"use strict";var T=e(33575),D=e(25095).IMAGE_URL_PREFIX,o=e(12856).Buffer;Y.A=function(P){var C=P.replace(D,""),h=new o(C,"base64");return T(h)}},28749:function(te,Y,e){"use strict";var T=e(30211),D=e(71828),o=e(51877);te.exports=function(C,h,y){var t=C.cd[0],r=t.trace,l=C.xa,i=C.ya;if(!(T.inbox(h-t.x0,h-(t.x0+t.w*r.dx),0)>0||T.inbox(y-t.y0,y-(t.y0+t.h*r.dy),0)>0)){var c,u=Math.floor((h-t.x0)/r.dx),f=Math.floor(Math.abs(y-t.y0)/r.dy);if(r._hasZ?c=t.z[f][u]:r._hasSource&&(c=r._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,f,1,1).data),c){var a,m=t.hi||r.hoverinfo;if(m){var b=m.split("+");-1!==b.indexOf("all")&&(b=["color"]),-1!==b.indexOf("color")&&(a=!0)}var g,p=o.colormodel[r.colormodel],s=p.colormodel||r.colormodel,v=s.length,A=r._scaler(c),x=p.suffix,E=[];(r.hovertemplate||a)&&(E.push("["+[A[0]+x[0],A[1]+x[1],A[2]+x[2]].join(", ")),4===v&&E.push(", "+A[3]+x[3]),E.push("]"),E=E.join(""),C.extraText=s.toUpperCase()+": "+E),Array.isArray(r.hovertext)&&Array.isArray(r.hovertext[f])?g=r.hovertext[f][u]:Array.isArray(r.text)&&Array.isArray(r.text[f])&&(g=r.text[f][u]);var M=i.c2p(t.y0+(f+.5)*r.dy),w=t.x0+(u+.5)*r.dx,n=t.y0+(f+.5)*r.dy,S="["+c.slice(0,r.colormodel.length).join(", ")+"]";return[D.extendFlat(C,{index:[f,u],x0:l.c2p(t.x0+u*r.dx),x1:l.c2p(t.x0+(u+1)*r.dx),y0:M,y1:M,color:A,xVal:w,xLabelVal:w,yVal:n,yLabelVal:n,zLabelVal:S,text:g,hovertemplateLabels:{zLabel:S,colorLabel:E,"color[0]Label":A[0]+x[0],"color[1]Label":A[1]+x[1],"color[2]Label":A[2]+x[2],"color[3]Label":A[3]+x[3]}})]}}}},94507:function(te,Y,e){"use strict";te.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=D.strTranslate,P=e(77922),C=e(51877),h=e(3883),y=e(32396).STYLE;te.exports=function(r,l,i,u){var f=l.xaxis,c=l.yaxis,m=!r._context._exportedPlot&&h();D.makeTraceGroups(u,i,"im").each(function(a){var b=T.select(this),p=a[0],s=p.trace,v=("fast"===s.zsmooth||!1===s.zsmooth&&m)&&!s._hasZ&&s._hasSource&&"linear"===f.type&&"linear"===c.type;s._realImage=v;var S,d,I,L,B,k,A=p.z,x=p.x0,E=p.y0,g=p.w,M=p.h,w=s.dx,n=s.dy;for(k=0;void 0===S&&k<g;)S=f.c2p(x+k*w),k++;for(k=g;void 0===d&&k>0;)d=f.c2p(x+k*w),k--;for(k=0;void 0===L&&k<M;)L=c.c2p(E+k*n),k++;for(k=M;void 0===B&&k>0;)B=c.c2p(E+k*n),k--;if(d<S&&(I=d,d=S,S=I),B<L&&(I=L,L=B,B=I),!v){S=Math.max(-.5*f._length,S),d=Math.min(1.5*f._length,d),L=Math.max(-.5*c._length,L),B=Math.min(1.5*c._length,B)}var O=Math.round(d-S),F=Math.round(B-L);if(O<=0||F<=0)b.selectAll("image").data([]).exit().remove();else{var ne=b.selectAll("image").data([a]);ne.enter().append("svg:image").attr({xmlns:P.svg,preserveAspectRatio:"none"}),ne.exit().remove();var ie=!1===s.zsmooth?y:"";if(v){var ue=D.simpleMap(f.range,f.r2l),J=D.simpleMap(c.range,c.r2l),j=ue[1]<ue[0],W=J[1]>J[0];if(j||W){var V=S+O/2,K=L+F/2;ie+="transform:"+o(V+"px",K+"px")+"scale("+(j?-1:1)+","+(W?-1:1)+")"+o(-V+"px",-K+"px")+";"}}ne.attr("style",ie);var ae=new Promise(function(Q){if(s._hasZ)Q();else if(s._hasSource)if(s._canvas&&s._canvas.el.width===g&&s._canvas.el.height===M&&s._canvas.source===s.source)Q();else{var Z=document.createElement("canvas");Z.width=g,Z.height=M;var re=Z.getContext("2d",{willReadFrequently:!0});s._image=s._image||new Image;var q=s._image;q.onload=function(){re.drawImage(q,0,0),s._canvas={el:Z,source:s.source},Q()},q.setAttribute("src",s.source)}}).then(function(){var Q;if(s._hasZ)Q=X(function(se,de){return A[de][se]}).toDataURL("image/png");else if(s._hasSource)if(v)Q=s.source;else{var q=s._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,g,M).data;Q=X(function(se,de){var we=4*(de*g+se);return[q[we],q[we+1],q[we+2],q[we+3]]}).toDataURL("image/png")}ne.attr({"xlink:href":Q,height:F,width:O,x:S,y:L})});r._promises.push(ae)}function X(Q){var Z=document.createElement("canvas");Z.width=O,Z.height=F;var Pe,re=Z.getContext("2d",{willReadFrequently:!0}),q=function(Ye){return D.constrain(Math.round(f.c2p(x+Ye*w)-S),0,O)},se=function(Ye){return D.constrain(Math.round(c.c2p(E+Ye*n)-L),0,F)},de=C.colormodel[s.colormodel],we=de.colormodel||s.colormodel,ye=de.fmt;for(k=0;k<p.w;k++){var Ie=q(k),Se=q(k+1);if(Se!==Ie&&!isNaN(Se)&&!isNaN(Ie))for(var xe=0;xe<p.h;xe++){var Me=se(xe),Ge=se(xe+1);Ge===Me||isNaN(Ge)||isNaN(Me)||!Q(k,xe)||(Pe=s._scaler(Q(k,xe)),re.fillStyle=Pe?we+"("+ye(Pe).join(",")+")":"rgba(0,0,0,0)",re.fillRect(Ie,Me,Se-Ie,Ge-Me))}}return Z}})}},12826:function(te,Y,e){"use strict";var T=e(39898);te.exports=function(o){T.select(o).selectAll(".im image").style("opacity",function(P){return P[0].trace.opacity})}},54846:function(te,Y,e){"use strict";var T=e(1426).extendFlat,D=e(1426).extendDeep,o=e(30962).overrideAll,P=e(41940),C=e(22399),h=e(27670).Y,y=e(13838),t=e(44467).templatedArray,r=e(22372),l=e(12663).descriptionOnlyNumbers,i=P({editType:"plot",colorEditType:"plot"}),u={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:C.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},f={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},c=t("step",D({},u,{range:f}));te.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:h({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:T({},i,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:l("value")},font:T({},i,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:l("value")},increasing:{symbol:{valType:"string",dflt:r.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:T({},i,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:D({},u,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:C.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:o({range:f,visible:T({},y.visible,{dflt:!0}),tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:T({},y.ticks,{dflt:"outside"}),ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,ticklabelstep:y.ticklabelstep,showticklabels:y.showticklabels,labelalias:y.labelalias,tickfont:P({}),tickangle:y.tickangle,tickformat:y.tickformat,tickformatstops:y.tickformatstops,tickprefix:y.tickprefix,showtickprefix:y.showtickprefix,ticksuffix:y.ticksuffix,showticksuffix:y.showticksuffix,separatethousands:y.separatethousands,exponentformat:y.exponentformat,minexponent:y.minexponent,showexponent:y.showexponent,editType:"plot"},"plot"),steps:c,threshold:{line:{color:T({},u.line.color,{}),width:T({},u.line.width,{dflt:1}),editType:"plot"},thickness:T({},u.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(te,Y,e){"use strict";var T=e(74875);Y.name="indicator",Y.plot=function(D,o,P,C){T.plotBasePlot(Y.name,D,o,P,C)},Y.clean=function(D,o,P,C){T.cleanBasePlot(Y.name,D,o,P,C)}},24667:function(te){"use strict";te.exports={calc:function Y(e,T){var D=[],o=T.value;"number"!=typeof T._lastValue&&(T._lastValue=T.value);var P=T._lastValue,C=P;return T._hasDelta&&"number"==typeof T.delta.reference&&(C=T.delta.reference),D[0]={y:o,lastY:P,delta:o-C,relativeDelta:(o-C)/C},D}}},84577:function(te){"use strict";te.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(te,Y,e){"use strict";var T=e(71828),D=e(54846),o=e(27670).c,P=e(44467),C=e(85501),h=e(84577),y=e(26218),t=e(38701),r=e(96115),l=e(89426);function u(f,c){function m(a,b){return T.coerce(f,c,D.gauge.steps,a,b)}m("color"),m("line.color"),m("line.width"),m("range"),m("thickness")}te.exports={supplyDefaults:function i(f,c,m,a){function b(B,k){return T.coerce(f,c,D,B,k)}o(c,a,b),b("mode"),c._hasNumber=-1!==c.mode.indexOf("number"),c._hasDelta=-1!==c.mode.indexOf("delta"),c._hasGauge=-1!==c.mode.indexOf("gauge");var p=b("value");c._range=[0,"number"==typeof p?1.5*p:1];var v,A,x,E,g,M,s=new Array(2);function w(B,k){return T.coerce(x,E,D.gauge,B,k)}function n(B,k){return T.coerce(g,M,D.gauge.axis,B,k)}if(c._hasNumber&&(b("number.valueformat"),b("number.font.color",a.font.color),b("number.font.family",a.font.family),b("number.font.size"),void 0===c.number.font.size&&(c.number.font.size=h.defaultNumberFontSize,s[0]=!0),b("number.prefix"),b("number.suffix"),v=c.number.font.size),c._hasDelta&&(b("delta.font.color",a.font.color),b("delta.font.family",a.font.family),b("delta.font.size"),void 0===c.delta.font.size&&(c.delta.font.size=(c._hasNumber?.5:1)*(v||h.defaultNumberFontSize),s[1]=!0),b("delta.reference",c.value),b("delta.relative"),b("delta.valueformat",c.delta.relative?"2%":""),b("delta.increasing.symbol"),b("delta.increasing.color"),b("delta.decreasing.symbol"),b("delta.decreasing.color"),b("delta.position"),b("delta.prefix"),b("delta.suffix"),A=c.delta.font.size),c._scaleNumbers=(!c._hasNumber||s[0])&&(!c._hasDelta||s[1])||!1,b("title.font.color",a.font.color),b("title.font.family",a.font.family),b("title.font.size",.25*(v||A||h.defaultNumberFontSize)),b("title.text"),c._hasGauge){(x=f.gauge)||(x={}),E=P.newContainer(c,"gauge"),w("shape"),(c._isBullet="bullet"===c.gauge.shape)||b("title.align","center"),(c._isAngular="angular"===c.gauge.shape)||b("align","center"),w("bgcolor",a.paper_bgcolor),w("borderwidth"),w("bordercolor"),w("bar.color"),w("bar.line.color"),w("bar.line.width"),w("bar.thickness",h.valueThickness*("bullet"===c.gauge.shape?.5:1)),C(x,E,{name:"steps",handleItemDefaults:u}),w("threshold.value"),w("threshold.thickness"),w("threshold.line.width"),w("threshold.line.color"),g={},x&&(g=x.axis||{}),M=P.newContainer(E,"axis"),n("visible"),c._range=n("range",c._range);var L={outerTicks:!0};y(g,M,n,"linear"),l(g,M,n,"linear",L),r(g,M,n,"linear",L),t(g,M,n,L)}else b("title.align","center"),b("align","center"),c._isAngular=c._isBullet=!1;c._length=null}}},15154:function(te,Y,e){"use strict";te.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(te,Y,e){"use strict";var T=e(39898),D=e(81684).sX,o=e(81684).k4,P=e(71828),C=P.strScale,h=P.strTranslate,y=P.rad2deg,t=e(18783).MID_SHIFT,r=e(91424),l=e(84577),i=e(63893),u=e(89298),f=e(71453),c=e(52830),m=e(13838),a=e(7901),b={left:"start",center:"middle",right:"end"},p={left:0,center:.5,right:1},s=/[yzafpn\xb5mkMGTPEZY]/;function v(L){return L&&L.duration>0}function g(L){L.each(function(B){a.stroke(T.select(this),B.line.color)}).each(function(B){a.fill(T.select(this),B.color)}).style("stroke-width",function(B){return B.line.width})}function w(L,B,k){var z=L._fullLayout,O=P.extendFlat({type:"linear",ticks:"outside",range:k,showline:!0},B),F={type:"linear",_id:"x"+B._id},N={letter:"x",font:z.font,noHover:!0,noTickson:!0};function H(X,ne){return P.coerce(O,F,m,X,ne)}return f(O,F,H,N,z),c(O,F,H,N),F}function n(L,B,k){return[Math.min(B/L.width,k/L.height),L,B+"x"+k]}function d(L,B,k,z){var O=document.createElementNS("http://www.w3.org/2000/svg","text"),F=T.select(O);return F.text(L).attr("x",0).attr("y",0).attr("text-anchor",k).attr("data-unformatted",L).call(i.convertToTspans,z).call(r.font,B),r.bBox(F.node())}function I(L,B,k,z,O,F){var N="_cache"+B;L[N]&&L[N].key===O||(L[N]={key:O,value:k});var H=P.aggNums(F,null,[L[N].value,z],2);return L[N].value=H,H}te.exports=function(B,k,z,O){var N,F=B._fullLayout;v(z)&&O&&(N=O()),P.makeTraceGroups(F._indicatorlayer,k,"trace").each(function(H){var re,q,se,Pe,Ie,ne=H[0].trace,ie=T.select(this),ue=ne._hasGauge,J=ne._isAngular,j=ne._isBullet,W=ne.domain,V={w:F._size.w*(W.x[1]-W.x[0]),h:F._size.h*(W.y[1]-W.y[0]),l:F._size.l+F._size.w*W.x[0],r:F._size.r+F._size.w*(1-W.x[1]),t:F._size.t+F._size.h*(1-W.y[1]),b:F._size.b+F._size.h*W.y[0]},K=V.l+V.w/2,ae=V.t+V.h/2,Q=Math.min(V.w/2,V.h),Z=l.innerRadius*Q,de=ne.align||"center";if(q=ae,ue){if(J&&(re=K,q=ae+Q/2,se=function(De){return function S(L,B){return[B/Math.sqrt(L.width/2*(L.width/2)+L.height*L.height),L,B]}(De,.9*Z)}),j){var we=l.bulletPadding,ye=1-l.bulletNumberDomainSize+we;re=V.l+(ye+(1-ye)*p[de])*V.w,se=function(De){return n(De,(l.bulletNumberDomainSize-we)*V.w,V.h)}}}else re=V.l+p[de]*V.w,se=function(De){return n(De,V.w,V.h)};!function E(L,B,k,z){var J,j,W,O=k[0].trace,F=z.numbersX,N=z.numbersY,H=O.align||"center",X=b[H],ne=z.transitionOpts,ie=z.onComplete,ue=P.ensureSingle(B,"g","numbers"),V=[];O._hasNumber&&V.push("number"),O._hasDelta&&(V.push("delta"),"left"===O.delta.position&&V.reverse());var K=ue.selectAll("text").data(V);function ae(Ie,Se,xe,Me){if(!Ie.match("s")||xe>=0==Me>=0||Se(xe).slice(-1).match(s)||Se(Me).slice(-1).match(s))return Se;var Ge=Ie.slice().replace("s","f").replace(/\d+/,function(De){return parseInt(De)-1}),Ye=w(L,{tickformat:Ge});return function(De){return Math.abs(De)<1?u.tickText(Ye,De).text:Se(De)}}K.enter().append("text"),K.attr("text-anchor",function(){return X}).attr("class",function(Ie){return Ie}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),K.exit().remove();var q,re=O.mode+O.align;if(O._hasDelta&&(q=function Z(){var Ie=w(L,{tickformat:O.delta.valueformat},O._range);Ie.setScale(),u.prepTicks(Ie);var Se=function($e){return u.tickText(Ie,$e).text},xe=O.delta.suffix,Me=O.delta.prefix,Ge=function($e){return O.delta.relative?$e.relativeDelta:$e.delta},Ye=function($e,Be){return 0===$e||"number"!=typeof $e||isNaN($e)?"-":($e>0?O.delta.increasing.symbol:O.delta.decreasing.symbol)+Me+Be($e)+xe},De=function($e){return $e.delta>=0?O.delta.increasing.color:O.delta.decreasing.color};void 0===O._deltaLastValue&&(O._deltaLastValue=Ge(k[0]));var He=ue.select("text.delta");function rt(){He.text(Ye(Ge(k[0]),Se)).call(a.fill,De(k[0])).call(i.convertToTspans,L)}return He.call(r.font,O.delta.font).call(a.fill,De({delta:O._deltaLastValue})),v(ne)?He.transition().duration(ne.duration).ease(ne.easing).tween("text",function(){var $e=T.select(this),Be=Ge(k[0]),ze=O._deltaLastValue,tt=ae(O.delta.valueformat,Se,ze,Be),lt=o(ze,Be);return O._deltaLastValue=Be,function(ut){$e.text(Ye(lt(ut),tt)),$e.call(a.fill,De({delta:lt(ut)}))}}).each("end",function(){rt(),ie&&ie()}).each("interrupt",function(){rt(),ie&&ie()}):rt(),j=d(Ye(Ge(k[0]),Se),O.delta.font,X,L),He}(),re+=O.delta.position+O.delta.font.size+O.delta.font.family+O.delta.valueformat,re+=O.delta.increasing.symbol+O.delta.decreasing.symbol,W=j),O._hasNumber&&(function Q(){var Ie=w(L,{tickformat:O.number.valueformat},O._range);Ie.setScale(),u.prepTicks(Ie);var Se=function(De){return u.tickText(Ie,De).text},xe=O.number.suffix,Me=O.number.prefix,Ge=ue.select("text.number");function Ye(){var De="number"==typeof k[0].y?Me+Se(k[0].y)+xe:"-";Ge.text(De).call(r.font,O.number.font).call(i.convertToTspans,L)}return v(ne)?Ge.transition().duration(ne.duration).ease(ne.easing).each("end",function(){Ye(),ie&&ie()}).each("interrupt",function(){Ye(),ie&&ie()}).attrTween("text",function(){var De=T.select(this),He=o(k[0].lastY,k[0].y);O._lastValue=k[0].y;var rt=ae(O.number.valueformat,Se,k[0].lastY,k[0].y);return function($e){De.text(Me+rt(He($e))+xe)}}):Ye(),J=d(Me+Se(k[0].y)+xe,O.number.font,X,L),Ge}(),re+=O.number.font.size+O.number.font.family+O.number.valueformat+O.number.suffix+O.number.prefix,W=J),O._hasDelta&&O._hasNumber){var we,ye,se=[(J.left+J.right)/2,(J.top+J.bottom)/2],de=[(j.left+j.right)/2,(j.top+j.bottom)/2],Pe=.75*O.delta.font.size;"left"===O.delta.position&&(we=I(O,"deltaPos",0,-1*(J.width*p[O.align]+j.width*(1-p[O.align])+Pe),re,Math.min),ye=se[1]-de[1],W={width:J.width+j.width+Pe,height:Math.max(J.height,j.height),left:j.left+we,right:J.right,top:Math.min(J.top,j.top+ye),bottom:Math.max(J.bottom,j.bottom+ye)}),"right"===O.delta.position&&(we=I(O,"deltaPos",0,J.width*(1-p[O.align])+j.width*p[O.align]+Pe,re,Math.max),ye=se[1]-de[1],W={width:J.width+j.width+Pe,height:Math.max(J.height,j.height),left:J.left,right:j.right+we,top:Math.min(J.top,j.top+ye),bottom:Math.max(J.bottom,j.bottom+ye)}),"bottom"===O.delta.position&&(we=null,ye=j.height,W={width:Math.max(J.width,j.width),height:J.height+j.height,left:Math.min(J.left,j.left),right:Math.max(J.right,j.right),top:J.bottom-J.height,bottom:J.bottom+j.height}),"top"===O.delta.position&&(we=null,ye=J.top,W={width:Math.max(J.width,j.width),height:J.height+j.height,left:Math.min(J.left,j.left),right:Math.max(J.right,j.right),top:J.bottom-J.height-j.height,bottom:J.bottom}),q.attr({dx:we,dy:ye})}(O._hasNumber||O._hasDelta)&&ue.attr("transform",function(){var xe,Ie=z.numbersScaler(W),Se=I(O,"numbersScale",1,Ie[0],re+=Ie[2],Math.min);O._scaleNumbers||(Se=1),O._numbersTop=Se*W.top+(xe=O._isAngular?N-Se*W.bottom:N-Se*(W.top+W.bottom)/2);var Me=W[H];"center"===H&&(Me=(W.left+W.right)/2);var Ge=F-Se*Me;return Ge=I(O,"numbersTranslate",0,Ge,re,Math.max),h(Ge,xe)+C(Se)})}(B,ie,H,{numbersX:re,numbersY:q,numbersScaler:se,transitionOpts:z,onComplete:N}),ue&&(Pe={range:ne.gauge.axis.range,color:ne.gauge.bgcolor,line:{color:ne.gauge.bordercolor,width:0},thickness:1},Ie={range:ne.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ne.gauge.bordercolor,width:ne.gauge.borderwidth},thickness:1});var Se=ie.selectAll("g.angular").data(J?H:[]);Se.exit().remove();var xe=ie.selectAll("g.angularaxis").data(J?H:[]);xe.exit().remove(),J&&function x(L,B,k,z){var Z,re,q,se,O=k[0].trace,F=z.size,N=z.radius,H=z.innerRadius,X=z.gaugeBg,ne=z.gaugeOutline,ie=[F.l+F.w/2,F.t+F.h/2+N/2],ue=z.gauge,J=z.layer,j=z.transitionOpts,W=z.onComplete,V=Math.PI/2;function K(ze){var tt=O.gauge.axis.range[0],ut=(ze-tt)/(O.gauge.axis.range[1]-tt)*Math.PI-V;return ut<-V?-V:ut>V?V:ut}function ae(ze){return T.svg.arc().innerRadius((H+N)/2-ze/2*(N-H)).outerRadius((H+N)/2+ze/2*(N-H)).startAngle(-V)}function Q(ze){ze.attr("d",function(tt){return ae(tt.thickness).startAngle(K(tt.range[0])).endAngle(K(tt.range[1]))()})}ue.enter().append("g").classed("angular",!0),ue.attr("transform",h(ie[0],ie[1])),J.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),J.selectAll("g.xangularaxistick,path,text").remove(),(Z=w(L,O.gauge.axis)).type="linear",Z.range=O.gauge.axis.range,Z._id="xangularaxis",Z.ticklabeloverflow="allow",Z.setScale();var de=function(ze){return(Z.range[0]-ze.x)/(Z.range[1]-Z.range[0])*Math.PI+Math.PI},we={},Pe=u.makeLabelFns(Z,0).labelStandoff;we.xFn=function(ze){var tt=de(ze);return Math.cos(tt)*Pe},we.yFn=function(ze){var tt=de(ze),lt=Math.sin(tt)>0?.2:1;return-Math.sin(tt)*(Pe+ze.fontSize*lt)+Math.abs(Math.cos(tt))*(ze.fontSize*t)},we.anchorFn=function(ze){var tt=de(ze),lt=Math.cos(tt);return Math.abs(lt)<.1?"middle":lt>0?"start":"end"},we.heightFn=function(ze,tt,lt){var ut=de(ze);return-.5*(1+Math.sin(ut))*lt};var Ie=function(ze){return h(ie[0]+N*Math.cos(ze),ie[1]-N*Math.sin(ze))};q=function(ze){return Ie(de(ze))};re=u.calcTicks(Z),se=u.getTickSigns(Z)[2],Z.visible&&(u.drawTicks(L,Z,{vals:re,layer:J,path:"M"+(se="inside"===Z.ticks?-1:1)*((Z.linewidth||1)/2)+",0h"+se*Z.ticklen,transFn:function(ze){var tt=de(ze);return Ie(tt)+"rotate("+-y(tt)+")"}}),u.drawLabels(L,Z,{vals:re,layer:J,transFn:q,labelFns:we}));var Me=[X].concat(O.gauge.steps),Ge=ue.selectAll("g.bg-arc").data(Me);Ge.enter().append("g").classed("bg-arc",!0).append("path"),Ge.select("path").call(Q).call(g),Ge.exit().remove();var Ye=ae(O.gauge.bar.thickness),De=ue.selectAll("g.value-arc").data([O.gauge.bar]);De.enter().append("g").classed("value-arc",!0).append("path");var He=De.select("path");v(j)?(He.transition().duration(j.duration).ease(j.easing).each("end",function(){W&&W()}).each("interrupt",function(){W&&W()}).attrTween("d",function M(L,B,k){return function(){var z=D(B,k);return function(O){return L.endAngle(z(O))()}}}(Ye,K(k[0].lastY),K(k[0].y))),O._lastValue=k[0].y):He.attr("d","number"==typeof k[0].y?Ye.endAngle(K(k[0].y)):"M0,0Z"),He.call(g),De.exit().remove(),Me=[];var rt=O.gauge.threshold.value;(rt||0===rt)&&Me.push({range:[rt,rt],color:O.gauge.threshold.color,line:{color:O.gauge.threshold.line.color,width:O.gauge.threshold.line.width},thickness:O.gauge.threshold.thickness});var $e=ue.selectAll("g.threshold-arc").data(Me);$e.enter().append("g").classed("threshold-arc",!0).append("path"),$e.select("path").call(Q).call(g),$e.exit().remove();var Be=ue.selectAll("g.gauge-outline").data([ne]);Be.enter().append("g").classed("gauge-outline",!0).append("path"),Be.select("path").call(Q).call(g),Be.exit().remove()}(B,0,H,{radius:Q,innerRadius:Z,gauge:Se,layer:xe,size:V,gaugeBg:Pe,gaugeOutline:Ie,transitionOpts:z,onComplete:N});var Me=ie.selectAll("g.bullet").data(j?H:[]);Me.exit().remove();var Ge=ie.selectAll("g.bulletaxis").data(j?H:[]);Ge.exit().remove(),j&&function A(L,B,k,z){var j,W,V,K,ae,O=k[0].trace,F=z.gauge,N=z.layer,H=z.gaugeBg,X=z.gaugeOutline,ne=z.size,ie=O.domain,ue=z.transitionOpts,J=z.onComplete;F.enter().append("g").classed("bullet",!0),F.attr("transform",h(ne.l,ne.t)),N.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),N.selectAll("g.xbulletaxistick,path,text").remove();var Q=ne.h,Z=O.gauge.bar.thickness*Q,re=ie.x[0],q=ie.x[0]+(ie.x[1]-ie.x[0])*(O._hasNumber||O._hasDelta?1-l.bulletNumberDomainSize:1);function se(xe){xe.attr("width",function(Me){return Math.max(0,j.c2p(Me.range[1])-j.c2p(Me.range[0]))}).attr("x",function(Me){return j.c2p(Me.range[0])}).attr("y",function(Me){return.5*(1-Me.thickness)*Q}).attr("height",function(Me){return Me.thickness*Q})}(j=w(L,O.gauge.axis))._id="xbulletaxis",j.domain=[re,q],j.setScale(),W=u.calcTicks(j),V=u.makeTransTickFn(j),K=u.getTickSigns(j)[2],ae=ne.t+ne.h,j.visible&&(u.drawTicks(L,j,{vals:"inside"===j.ticks?u.clipEnds(j,W):W,layer:N,path:u.makeTickPath(j,ae,K),transFn:V}),u.drawLabels(L,j,{vals:W,layer:N,transFn:V,labelFns:u.makeLabelFns(j,ae)}));var de=[H].concat(O.gauge.steps),we=F.selectAll("g.bg-bullet").data(de);we.enter().append("g").classed("bg-bullet",!0).append("rect"),we.select("rect").call(se).call(g),we.exit().remove();var ye=F.selectAll("g.value-bullet").data([O.gauge.bar]);ye.enter().append("g").classed("value-bullet",!0).append("rect"),ye.select("rect").attr("height",Z).attr("y",(Q-Z)/2).call(g),v(ue)?ye.select("rect").transition().duration(ue.duration).ease(ue.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()}).attr("width",Math.max(0,j.c2p(Math.min(O.gauge.axis.range[1],k[0].y)))):ye.select("rect").attr("width","number"==typeof k[0].y?Math.max(0,j.c2p(Math.min(O.gauge.axis.range[1],k[0].y))):0),ye.exit().remove();var Pe=k.filter(function(){return O.gauge.threshold.value||0===O.gauge.threshold.value}),Ie=F.selectAll("g.threshold-bullet").data(Pe);Ie.enter().append("g").classed("threshold-bullet",!0).append("line"),Ie.select("line").attr("x1",j.c2p(O.gauge.threshold.value)).attr("x2",j.c2p(O.gauge.threshold.value)).attr("y1",(1-O.gauge.threshold.thickness)/2*Q).attr("y2",(1-(1-O.gauge.threshold.thickness)/2)*Q).call(a.stroke,O.gauge.threshold.line.color).style("stroke-width",O.gauge.threshold.line.width),Ie.exit().remove();var Se=F.selectAll("g.gauge-outline").data([X]);Se.enter().append("g").classed("gauge-outline",!0).append("rect"),Se.select("rect").call(se).call(g),Se.exit().remove()}(B,0,H,{gauge:Me,layer:Ge,size:V,gaugeBg:Pe,gaugeOutline:Ie,transitionOpts:z,onComplete:N});var Ye=ie.selectAll("text.title").data(H);Ye.exit().remove(),Ye.enter().append("text").classed("title",!0),Ye.attr("text-anchor",function(){return j?b.right:b[ne.title.align]}).text(ne.title.text).call(r.font,ne.title.font).call(i.convertToTspans,B),Ye.attr("transform",function(){var He,De=V.l+V.w*p[ne.title.align],rt=l.titlePadding,$e=r.bBox(Ye.node());return ue?(J&&(He=ne.gauge.axis.visible?r.bBox(xe.node()).top-rt-$e.bottom:V.t+V.h/2-Q/2-$e.bottom-rt),j&&(He=q-($e.top+$e.bottom)/2,De=V.l-l.bulletPadding*V.w)):He=ne._numbersTop-rt-$e.bottom,h(De,He)})})}},16249:function(te,Y,e){"use strict";var T=e(50693),D=e(12663).axisHoverFormat,o=e(5386).fF,P=e(2418),C=e(9012),h=e(1426).extendFlat,y=e(30962).overrideAll,l=te.exports=y(h({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:o(),xhoverformat:D("x"),yhoverformat:D("y"),zhoverformat:D("z"),valuehoverformat:D("value",1),showlegend:h({},C.showlegend,{dflt:!1})},T("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:P.opacity,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:h({},C.hoverinfo)}),"calc","nested");l.flatshading.dflt=!0,l.lighting.facenormalsepsilon.dflt=0,l.x.editType=l.y.editType=l.z.editType=l.value.editType="calc+clearAxisTypes",l.transforms=void 0},56959:function(te,Y,e){"use strict";var T=e(78803),D=e(88489).processGrid,o=e(88489).filter;te.exports=function(C,h){h._len=Math.min(h.x.length,h.y.length,h.z.length,h.value.length),h._x=o(h.x,h._len),h._y=o(h.y,h._len),h._z=o(h.z,h._len),h._value=o(h.value,h._len);var y=D(h);h._gridFill=y.fill,h._Xs=y.Xs,h._Ys=y.Ys,h._Zs=y.Zs,h._len=y.len;for(var t=1/0,r=-1/0,l=0;l<h._len;l++){var i=h._value[l];t=Math.min(t,i),r=Math.max(r,i)}h._minValues=t,h._maxValues=r,h._vMin=null==h.isomin?t:h.isomin,h._vMax=void 0===h.isomax||null===h.isomin?r:h.isomax,T(C,h,{vals:[h._vMin,h._vMax],containerStr:"",cLetter:"c"})}},22674:function(te,Y,e){"use strict";var T=e(9330).gl_mesh3d,D=e(81697).parseColorScale,o=e(78614),P=e(21081).extractOpts,C=e(90060),h=function(u,f){for(var c=f.length-1;c>0;c--){var m=Math.min(f[c],f[c-1]),a=Math.max(f[c],f[c-1]);if(a>m&&m<u&&u<=a)return{id:c,distRatio:(a-u)/(a-m)}}return{id:0,distRatio:0}};function y(u,f,c){this.scene=u,this.uid=c,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var t=y.prototype;t.handlePick=function(u){if(u.object===this.mesh){var f=u.data.index,m=this.data._meshY[f],a=this.data._meshZ[f],b=this.data._Ys.length,p=this.data._Zs.length,s=h(this.data._meshX[f],this.data._Xs).id,v=h(m,this.data._Ys).id,A=h(a,this.data._Zs).id,x=u.index=A+p*v+p*b*s;u.traceCoordinate=[this.data._meshX[x],this.data._meshY[x],this.data._meshZ[x],this.data._value[x]];var E=this.data.hovertext||this.data.text;return Array.isArray(E)&&void 0!==E[x]?u.textLabel=E[x]:E&&(u.textLabel=E),!0}},t.update=function(u){var f=this.scene,c=f.fullSceneLayout;function m(v,A,x,E){return A.map(function(g){return v.d2l(g,0,E)*x})}this.data=l(u);var p={positions:C(m(c.xaxis,u._meshX,f.dataScale[0],u.xcalendar),m(c.yaxis,u._meshY,f.dataScale[1],u.ycalendar),m(c.zaxis,u._meshZ,f.dataScale[2],u.zcalendar)),cells:C(u._meshI,u._meshJ,u._meshK),lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,contourEnable:u.contour.show,contourColor:o(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},s=P(u);p.vertexIntensity=u._meshIntensity,p.vertexIntensityBounds=[s.min,s.max],p.colormap=D(u),this.mesh.update(p)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function l(u){u._meshI=[],u._meshJ=[],u._meshK=[];var v,A,z,O,F,N,W,f=u.surface.show,c=u.spaceframe.show,m=u.surface.fill,a=u.spaceframe.fill,b=!1,p=!1,s=0,x=u._Xs,E=u._Ys,g=u._Zs,M=x.length,w=E.length,n=g.length,S=r.indexOf(u._gridFill.replace(/-/g,"").replace(/\+/g,"")),d=function(Ce,Ee,Re){switch(S){case 5:return Re+n*Ee+n*w*Ce;case 4:return Re+n*Ce+n*M*Ee;case 3:return Ee+w*Re+w*n*Ce;case 2:return Ee+w*Ce+w*M*Re;case 1:return Ce+M*Re+M*n*Ee;default:return Ce+M*Ee+M*w*Re}},I=u._minValues,L=u._maxValues,B=u._vMin,k=u._vMax;function H(Ce,Ee,Re){for(var ke=N.length,Ne=A;Ne<ke;Ne++)if(Ce===z[Ne]&&Ee===O[Ne]&&Re===F[Ne])return Ne;return-1}function X(){A=v}function ne(){z=[],O=[],F=[],N=[],v=0,X()}function ie(Ce,Ee,Re,ke){return z.push(Ce),O.push(Ee),F.push(Re),N.push(ke),++v-1}function ue(Ce,Ee,Re){return u._meshI.push(Ce),u._meshJ.push(Ee),u._meshK.push(Re),++s-1}function j(Ce,Ee,Re){for(var ke=[],Ne=0;Ne<Ce.length;Ne++)ke[Ne]=Ce[Ne]*(1-Re)+Re*Ee[Ne];return ke}function V(Ce){W=Ce}function ae(Ce,Ee){return"all"===Ce||null===Ce||Ce.indexOf(Ee)>-1}function Q(Ce,Ee){return null===Ce?Ee:Ce}function Z(Ce,Ee,Re){X();var ke=[Ee],Ne=[Re];if(W>=1)ke=[Ee],Ne=[Re];else if(W>0){var _e=function K(Ce,Ee){var Re=Ce[0],ke=Ce[1],Ne=Ce[2],_e=function J(Ce,Ee,Re){for(var ke=[],Ne=0;Ne<Ce.length;Ne++)ke[Ne]=(Ce[Ne]+Ee[Ne]+Re[Ne])/3;return ke}(Re,ke,Ne),Te=Math.sqrt(1-W),fe=j(_e,Re,Te),pe=j(_e,ke,Te),Fe=j(_e,Ne,Te),Xe=Ee[0],at=Ee[1],ft=Ee[2];return{xyzv:[[Re,ke,pe],[pe,fe,Re],[ke,Ne,Fe],[Fe,pe,ke],[Ne,Re,fe],[fe,Fe,Ne]],abc:[[Xe,at,-1],[-1,-1,Xe],[at,ft,-1],[-1,-1,at],[ft,Xe,-1],[-1,-1,ft]]}}(Ee,Re);ke=_e.xyzv,Ne=_e.abc}for(var Te=0;Te<ke.length;Te++){Ee=ke[Te],Re=Ne[Te];for(var fe=[],pe=0;pe<3;pe++){var Fe=Ee[pe][0],Xe=Ee[pe][1],at=Ee[pe][2],ft=Ee[pe][3],Xt=Re[pe]>-1?Re[pe]:H(Fe,Xe,at);fe[pe]=Xt>-1?Xt:ie(Fe,Xe,at,Q(Ce,ft))}ue(fe[0],fe[1],fe[2])}}function se(Ce,Ee,Re,ke){var Ne=Ce[3];Ne<Re&&(Ne=Re),Ne>ke&&(Ne=ke);for(var _e=(Ce[3]-Ne)/(Ce[3]-Ee[3]+1e-9),Te=[],fe=0;fe<4;fe++)Te[fe]=(1-_e)*Ce[fe]+_e*Ee[fe];return Te}function de(Ce,Ee,Re){return Ce>=Ee&&Ce<=Re}function we(Ce){var Ee=.001*(k-B);return Ce>=B-Ee&&Ce<=k+Ee}function ye(Ce){for(var Ee=[],Re=0;Re<4;Re++){var ke=Ce[Re];Ee.push([u._x[ke],u._y[ke],u._z[ke],u._value[ke]])}return Ee}var Pe=3;function Ie(Ce,Ee,Re,ke,Ne,_e){_e||(_e=1),Re=[-1,-1,-1];var Te=!1,fe=[de(Ee[0][3],ke,Ne),de(Ee[1][3],ke,Ne),de(Ee[2][3],ke,Ne)];if(!fe[0]&&!fe[1]&&!fe[2])return!1;var pe=function(Xe,at,ft){return we(at[0][3])&&we(at[1][3])&&we(at[2][3])?(Z(Xe,at,ft),!0):_e<Pe&&Ie(Xe,at,ft,B,k,++_e)};if(fe[0]&&fe[1]&&fe[2])return pe(Ce,Ee,Re)||Te;var Fe=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(Xe){if(fe[Xe[0]]&&fe[Xe[1]]&&!fe[Xe[2]]){var at=Ee[Xe[0]],ft=Ee[Xe[1]],Xt=Ee[Xe[2]],rr=se(Xt,at,ke,Ne),At=se(Xt,ft,ke,Ne);Te=pe(Ce,[At,rr,at],[-1,-1,Re[Xe[0]]])||Te,Te=pe(Ce,[at,ft,At],[Re[Xe[0]],Re[Xe[1]],-1])||Te,Fe=!0}}),Fe||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(Xe){if(fe[Xe[0]]&&!fe[Xe[1]]&&!fe[Xe[2]]){var at=Ee[Xe[0]],Xt=Ee[Xe[2]],rr=se(Ee[Xe[1]],at,ke,Ne),At=se(Xt,at,ke,Ne);Te=pe(Ce,[At,rr,at],[-1,-1,Re[Xe[0]]])||Te,Fe=!0}}),Te}function Se(Ce,Ee,Re,ke){var Ne=!1,_e=ye(Ee),Te=[de(_e[0][3],Re,ke),de(_e[1][3],Re,ke),de(_e[2][3],Re,ke),de(_e[3][3],Re,ke)];if(!(Te[0]||Te[1]||Te[2]||Te[3]))return Ne;if(Te[0]&&Te[1]&&Te[2]&&Te[3])return p&&(Ne=function q(Ce,Ee,Re){var ke=function(Ne,_e,Te){Z(Ce,[Ee[Ne],Ee[_e],Ee[Te]],[Re[Ne],Re[_e],Re[Te]])};ke(0,1,2),ke(3,0,1),ke(2,3,0),ke(1,2,3)}(Ce,_e,Ee)||Ne),Ne;var fe=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(pe){if(Te[pe[0]]&&Te[pe[1]]&&Te[pe[2]]&&!Te[pe[3]]){var Fe=_e[pe[0]],Xe=_e[pe[1]],at=_e[pe[2]],ft=_e[pe[3]];if(p)Ne=Z(Ce,[Fe,Xe,at],[Ee[pe[0]],Ee[pe[1]],Ee[pe[2]]])||Ne;else{var Xt=se(ft,Fe,Re,ke),rr=se(ft,Xe,Re,ke),At=se(ft,at,Re,ke);Ne=Z(null,[Xt,rr,At],[-1,-1,-1])||Ne}fe=!0}}),fe||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(pe){if(Te[pe[0]]&&Te[pe[1]]&&!Te[pe[2]]&&!Te[pe[3]]){var Fe=_e[pe[0]],Xe=_e[pe[1]],at=_e[pe[2]],ft=_e[pe[3]],Xt=se(at,Fe,Re,ke),rr=se(at,Xe,Re,ke),At=se(ft,Xe,Re,ke),zt=se(ft,Fe,Re,ke);p?(Ne=Z(Ce,[Fe,zt,Xt],[Ee[pe[0]],-1,-1])||Ne,Ne=Z(Ce,[Xe,rr,At],[Ee[pe[1]],-1,-1])||Ne):Ne=function re(Ce,Ee,Re){var ke=function(Ne,_e,Te){Z(Ce,[Ee[Ne],Ee[_e],Ee[Te]],[Re[Ne],Re[_e],Re[Te]])};ke(0,1,2),ke(2,3,0)}(null,[Xt,rr,At,zt],[-1,-1,-1,-1])||Ne,fe=!0}}),fe)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(pe){if(Te[pe[0]]&&!Te[pe[1]]&&!Te[pe[2]]&&!Te[pe[3]]){var Fe=_e[pe[0]],at=_e[pe[2]],ft=_e[pe[3]],Xt=se(_e[pe[1]],Fe,Re,ke),rr=se(at,Fe,Re,ke),At=se(ft,Fe,Re,ke);p?(Ne=Z(Ce,[Fe,Xt,rr],[Ee[pe[0]],-1,-1])||Ne,Ne=Z(Ce,[Fe,rr,At],[Ee[pe[0]],-1,-1])||Ne,Ne=Z(Ce,[Fe,At,Xt],[Ee[pe[0]],-1,-1])||Ne):Ne=Z(null,[Xt,rr,At],[-1,-1,-1])||Ne,fe=!0}}),Ne}function xe(Ce,Ee,Re,ke,Ne,_e,Te,fe,pe,Fe,Xe){var at=!1;return b&&(ae(Ce,"A")&&(at=Se(null,[Ee,Re,ke,_e],Fe,Xe)||at),ae(Ce,"B")&&(at=Se(null,[Re,ke,Ne,pe],Fe,Xe)||at),ae(Ce,"C")&&(at=Se(null,[Re,_e,Te,pe],Fe,Xe)||at),ae(Ce,"D")&&(at=Se(null,[ke,_e,fe,pe],Fe,Xe)||at),ae(Ce,"E")&&(at=Se(null,[Re,ke,_e,pe],Fe,Xe)||at)),p&&(at=Se(Ce,[Re,ke,_e,pe],Fe,Xe)||at),at}function Me(Ce,Ee,Re,ke,Ne,_e,Te,fe){return[!0===fe[0]||Ie(Ce,ye([Ee,Re,ke]),[Ee,Re,ke],_e,Te),!0===fe[1]||Ie(Ce,ye([ke,Ne,Ee]),[ke,Ne,Ee],_e,Te)]}function Ge(Ce,Ee,Re,ke,Ne,_e,Te,fe,pe){return fe?Me(Ce,Ee,Re,Ne,ke,_e,Te,pe):Me(Ce,Re,Ne,ke,Ee,_e,Te,pe)}function Ye(Ce,Ee,Re,ke,Ne,_e,Te){var pe,Fe,Xe,at,fe=!1,ft=function(){fe=Ie(Ce,[pe,Fe,Xe],[-1,-1,-1],Ne,_e)||fe,fe=Ie(Ce,[Xe,at,pe],[-1,-1,-1],Ne,_e)||fe},Xt=Te[0],rr=Te[1],At=Te[2];return Xt&&(pe=j(ye([d(Ee,Re-0,ke-0)])[0],ye([d(Ee-1,Re-0,ke-0)])[0],Xt),Fe=j(ye([d(Ee,Re-0,ke-1)])[0],ye([d(Ee-1,Re-0,ke-1)])[0],Xt),Xe=j(ye([d(Ee,Re-1,ke-1)])[0],ye([d(Ee-1,Re-1,ke-1)])[0],Xt),at=j(ye([d(Ee,Re-1,ke-0)])[0],ye([d(Ee-1,Re-1,ke-0)])[0],Xt),ft()),rr&&(pe=j(ye([d(Ee-0,Re,ke-0)])[0],ye([d(Ee-0,Re-1,ke-0)])[0],rr),Fe=j(ye([d(Ee-0,Re,ke-1)])[0],ye([d(Ee-0,Re-1,ke-1)])[0],rr),Xe=j(ye([d(Ee-1,Re,ke-1)])[0],ye([d(Ee-1,Re-1,ke-1)])[0],rr),at=j(ye([d(Ee-1,Re,ke-0)])[0],ye([d(Ee-1,Re-1,ke-0)])[0],rr),ft()),At&&(pe=j(ye([d(Ee-0,Re-0,ke)])[0],ye([d(Ee-0,Re-0,ke-1)])[0],At),Fe=j(ye([d(Ee-0,Re-1,ke)])[0],ye([d(Ee-0,Re-1,ke-1)])[0],At),Xe=j(ye([d(Ee-1,Re-1,ke)])[0],ye([d(Ee-1,Re-1,ke-1)])[0],At),at=j(ye([d(Ee-1,Re-0,ke)])[0],ye([d(Ee-1,Re-0,ke-1)])[0],At),ft()),fe}function De(Ce,Ee,Re,ke,Ne,_e,Te,fe,pe,Fe,Xe,at){var ft=Ce;return at?(b&&"even"===Ce&&(ft=null),xe(ft,Ee,Re,ke,Ne,_e,Te,fe,pe,Fe,Xe)):(b&&"odd"===Ce&&(ft=null),xe(ft,pe,fe,Te,_e,Ne,ke,Re,Ee,Fe,Xe))}function He(Ce,Ee,Re,ke,Ne){for(var _e=[],Te=0,fe=0;fe<Ee.length;fe++)for(var pe=Ee[fe],Fe=1;Fe<n;Fe++)for(var Xe=1;Xe<w;Xe++)_e.push(Ge(Ce,d(pe,Xe-1,Fe-1),d(pe,Xe-1,Fe),d(pe,Xe,Fe-1),d(pe,Xe,Fe),Re,ke,(pe+Xe+Fe)%2,Ne&&Ne[Te]?Ne[Te]:[])),Te++;return _e}function rt(Ce,Ee,Re,ke,Ne){for(var _e=[],Te=0,fe=0;fe<Ee.length;fe++)for(var pe=Ee[fe],Fe=1;Fe<M;Fe++)for(var Xe=1;Xe<n;Xe++)_e.push(Ge(Ce,d(Fe-1,pe,Xe-1),d(Fe,pe,Xe-1),d(Fe-1,pe,Xe),d(Fe,pe,Xe),Re,ke,(Fe+pe+Xe)%2,Ne&&Ne[Te]?Ne[Te]:[])),Te++;return _e}function $e(Ce,Ee,Re,ke,Ne){for(var _e=[],Te=0,fe=0;fe<Ee.length;fe++)for(var pe=Ee[fe],Fe=1;Fe<w;Fe++)for(var Xe=1;Xe<M;Xe++)_e.push(Ge(Ce,d(Xe-1,Fe-1,pe),d(Xe-1,Fe,pe),d(Xe,Fe-1,pe),d(Xe,Fe,pe),Re,ke,(Xe+Fe+pe)%2,Ne&&Ne[Te]?Ne[Te]:[])),Te++;return _e}function Be(Ce,Ee,Re){for(var ke=1;ke<n;ke++)for(var Ne=1;Ne<w;Ne++)for(var _e=1;_e<M;_e++)De(Ce,d(_e-1,Ne-1,ke-1),d(_e-1,Ne-1,ke),d(_e-1,Ne,ke-1),d(_e-1,Ne,ke),d(_e,Ne-1,ke-1),d(_e,Ne-1,ke),d(_e,Ne,ke-1),d(_e,Ne,ke),Ee,Re,(_e+Ne+ke)%2)}function tt(Ce,Ee,Re){b=!0,Be(Ce,Ee,Re),b=!1}function lt(Ce,Ee,Re,ke,Ne,_e){for(var Te=[],pe=0;pe<Ee.length;pe++)for(var Fe=Ee[pe],Xe=1;Xe<n;Xe++)for(var at=1;at<w;at++)Te.push(Ye(Ce,Fe,at,Xe,Re,ke,Ne[pe]));return Te}function ut(Ce,Ee,Re,ke,Ne,_e){for(var Te=[],pe=0;pe<Ee.length;pe++)for(var Fe=Ee[pe],Xe=1;Xe<M;Xe++)for(var at=1;at<n;at++)Te.push(Ye(Ce,Xe,Fe,at,Re,ke,Ne[pe]));return Te}function xt(Ce,Ee,Re,ke,Ne,_e){for(var Te=[],pe=0;pe<Ee.length;pe++)for(var Fe=Ee[pe],Xe=1;Xe<w;Xe++)for(var at=1;at<M;at++)Te.push(Ye(Ce,at,Xe,Fe,Re,ke,Ne[pe]));return Te}function bt(Ce,Ee){for(var Re=[],ke=Ce;ke<Ee;ke++)Re.push(ke);return Re}return function Je(){ne(),function Ht(){for(var Ce=0;Ce<M;Ce++)for(var Ee=0;Ee<w;Ee++)for(var Re=0;Re<n;Re++){var ke=d(Ce,Ee,Re);ie(u._x[ke],u._y[ke],u._z[ke],u._value[ke])}}();var Ce=null;if(c&&a&&(V(a),function ze(Ce,Ee,Re){p=!0,Be(Ce,Ee,Re),p=!1}(Ce,B,k)),f&&m){V(m);for(var Ee=u.surface.pattern,Re=u.surface.count,ke=0;ke<Re;ke++){var Ne=1===Re?.5:ke/(Re-1),_e=(1-Ne)*B+Ne*k,pe=Math.abs(_e-I)>Math.abs(_e-L)?[I,_e]:[_e,L];tt(Ee,pe[0],pe[1])}}var Fe=[[Math.min(B,L),Math.max(B,L)],[Math.min(I,k),Math.max(I,k)]];["x","y","z"].forEach(function(Xe){for(var at=[],ft=0;ft<Fe.length;ft++){var Xt=0,rr=Fe[ft][0],At=Fe[ft][1],zt=u.slices[Xe];if(zt.show&&zt.fill){V(zt.fill);var Qt=[],Rr=[],pt=[];if(zt.locations.length)for(var $t=0;$t<zt.locations.length;$t++){var tr=h(zt.locations[$t],"x"===Xe?x:"y"===Xe?E:g);0===tr.distRatio?Qt.push(tr.id):tr.id>0&&(Rr.push(tr.id),pt.push("x"===Xe?[tr.distRatio,0,0]:"y"===Xe?[0,tr.distRatio,0]:[0,0,tr.distRatio]))}else Qt=bt(1,"x"===Xe?M-1:"y"===Xe?w-1:n-1);Rr.length>0&&(at[Xt]="x"===Xe?lt(Ce,Rr,rr,At,pt):"y"===Xe?ut(Ce,Rr,rr,At,pt):xt(Ce,Rr,rr,At,pt),Xt++),Qt.length>0&&(at[Xt]="x"===Xe?He(Ce,Qt,rr,At,at[Xt]):"y"===Xe?rt(Ce,Qt,rr,At,at[Xt]):$e(Ce,Qt,rr,At,at[Xt]),Xt++)}var Er=u.caps[Xe];Er.show&&Er.fill&&(V(Er.fill),at[Xt]="x"===Xe?He(Ce,[0,M-1],rr,At,at[Xt]):"y"===Xe?rt(Ce,[0,w-1],rr,At,at[Xt]):$e(Ce,[0,n-1],rr,At,at[Xt]),Xt++)}}),0===s&&ne(),u._meshX=z,u._meshY=O,u._meshZ=F,u._meshIntensity=N,u._Xs=x,u._Ys=E,u._Zs=g}(),u}te.exports={findNearestOnAxis:h,generateIsoMeshes:l,createIsosurfaceTrace:function i(u,f){var m=T({gl:u.glplot.gl}),a=new y(u,m,f.uid);return m._trace=a,a.update(f),u.glplot.add(m),a}}},82738:function(te,Y,e){"use strict";var T=e(71828),D=e(73972),o=e(16249),P=e(1586);function h(y,t,r,l,i){var u=i("isomin"),f=i("isomax");null!=f&&null!=u&&u>f&&(t.isomin=null,t.isomax=null);var c=i("x"),m=i("y"),a=i("z"),b=i("value");c&&c.length&&m&&m.length&&a&&a.length&&b&&b.length?(D.getComponentMethod("calendars","handleTraceDefaults")(y,t,["x","y","z"],l),i("valuehoverformat"),["x","y","z"].forEach(function(x){i(x+"hoverformat");var E="caps."+x;i(E+".show")&&i(E+".fill");var M="slices."+x;i(M+".show")&&(i(M+".fill"),i(M+".locations"))}),i("spaceframe.show")&&i("spaceframe.fill"),i("surface.show")&&(i("surface.count"),i("surface.fill"),i("surface.pattern")),i("contour.show")&&(i("contour.color"),i("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(x){i(x)}),P(y,t,l,i,{prefix:"",cLetter:"c"}),t._length=null):t.visible=!1}te.exports={supplyDefaults:function C(y,t,r,l){h(y,t,0,l,function i(u,f){return T.coerce(y,t,o,u,f)})},supplyIsoDefaults:h}},64943:function(te,Y,e){"use strict";te.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(te,Y,e){"use strict";var T=e(50693),D=e(12663).axisHoverFormat,o=e(5386).fF,P=e(54532),C=e(9012),h=e(1426).extendFlat;te.exports=h({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:o({editType:"calc"}),xhoverformat:D("x"),yhoverformat:D("y"),zhoverformat:D("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},T("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:P.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:h({},P.contours.x.show,{}),color:P.contours.x.color,width:P.contours.x.width,editType:"calc"},lightposition:{x:h({},P.lightposition.x,{dflt:1e5}),y:h({},P.lightposition.y,{dflt:1e5}),z:h({},P.lightposition.z,{dflt:0}),editType:"calc"},lighting:h({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},P.lighting),hoverinfo:h({},C.hoverinfo,{editType:"calc"}),showlegend:h({},C.showlegend,{dflt:!1})})},82932:function(te,Y,e){"use strict";var T=e(78803);te.exports=function(o,P){P.intensity&&T(o,P,{vals:P.intensity,containerStr:"",cLetter:"c"})}},91134:function(te,Y,e){"use strict";var T=e(9330).gl_mesh3d,D=e(9330).delaunay_triangulate,o=e(9330).alpha_shape,P=e(9330).convex_hull,C=e(81697).parseColorScale,h=e(78614),y=e(21081).extractOpts,t=e(90060);function r(b,p,s){this.scene=b,this.uid=s,this.mesh=p,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var l=r.prototype;function i(b){for(var p=[],s=b.length,v=0;v<s;v++)p[v]=h(b[v]);return p}function u(b,p,s,v){for(var A=[],x=p.length,E=0;E<x;E++)A[E]=b.d2l(p[E],0,v)*s;return A}function f(b){for(var p=[],s=b.length,v=0;v<s;v++)p[v]=Math.round(b[v]);return p}function m(b,p){for(var s=b.length,v=0;v<s;v++)if(b[v]<=-.5||b[v]>=p-.5)return!1;return!0}l.handlePick=function(b){if(b.object===this.mesh){var p=b.index=b.data.index;b.traceCoordinate=b.data._cellCenter?b.data.dataCoordinate:[this.data.x[p],this.data.y[p],this.data.z[p]];var s=this.data.hovertext||this.data.text;return Array.isArray(s)&&void 0!==s[p]?b.textLabel=s[p]:s&&(b.textLabel=s),!0}},l.update=function(b){var p=this.scene,s=p.fullSceneLayout;this.data=b;var x,v=b.x.length,A=t(u(s.xaxis,b.x,p.dataScale[0],b.xcalendar),u(s.yaxis,b.y,p.dataScale[1],b.ycalendar),u(s.zaxis,b.z,p.dataScale[2],b.zcalendar));if(b.i&&b.j&&b.k){if(b.i.length!==b.j.length||b.j.length!==b.k.length||!m(b.i,v)||!m(b.j,v)||!m(b.k,v))return;x=t(f(b.i),f(b.j),f(b.k))}else x=0===b.alphahull?P(A):b.alphahull>0?o(b.alphahull,A):function c(b,p){for(var s=["x","y","z"].indexOf(b),v=[],A=p.length,x=0;x<A;x++)v[x]=[p[x][(s+1)%3],p[x][(s+2)%3]];return D(v)}(b.delaunayaxis,A);var E={positions:A,cells:x,lightPosition:[b.lightposition.x,b.lightposition.y,b.lightposition.z],ambient:b.lighting.ambient,diffuse:b.lighting.diffuse,specular:b.lighting.specular,roughness:b.lighting.roughness,fresnel:b.lighting.fresnel,vertexNormalsEpsilon:b.lighting.vertexnormalsepsilon,faceNormalsEpsilon:b.lighting.facenormalsepsilon,opacity:b.opacity,contourEnable:b.contour.show,contourColor:h(b.contour.color).slice(0,3),contourWidth:b.contour.width,useFacetNormals:b.flatshading};if(b.intensity){var g=y(b);this.color="#fff";var M=b.intensitymode;E[M+"Intensity"]=b.intensity,E[M+"IntensityBounds"]=[g.min,g.max],E.colormap=C(b)}else b.vertexcolor?(this.color=b.vertexcolor[0],E.vertexColors=i(b.vertexcolor)):b.facecolor?(this.color=b.facecolor[0],E.cellColors=i(b.facecolor)):(this.color=b.color,E.meshColor=h(b.color));this.mesh.update(E)},l.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},te.exports=function a(b,p){var v=T({gl:b.glplot.gl}),A=new r(b,v,p.uid);return v._trace=A,A.update(p),b.glplot.add(v),A}},58669:function(te,Y,e){"use strict";var T=e(73972),D=e(71828),o=e(1586),P=e(2418);te.exports=function(h,y,t,r){function l(m,a){return D.coerce(h,y,P,m,a)}function i(m){var a=m.map(function(b){var p=l(b);return p&&D.isArrayOrTypedArray(p)?p:null});return a.every(function(b){return b&&b.length===a[0].length})&&a}i(["x","y","z"])?(i(["i","j","k"]),(!y.i||y.j&&y.k)&&(!y.j||y.k&&y.i)&&(!y.k||y.i&&y.j)?(T.getComponentMethod("calendars","handleTraceDefaults")(h,y,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(m){l(m)}),l("contour.show")&&(l("contour.color"),l("contour.width")),"intensity"in h?(l("intensity"),l("intensitymode"),o(h,y,r,l,{prefix:"",cLetter:"c"})):(y.showscale=!1,"facecolor"in h?l("facecolor"):"vertexcolor"in h?l("vertexcolor"):l("color",t)),l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),y._length=null):y.visible=!1):y.visible=!1}},21164:function(te,Y,e){"use strict";te.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(te,Y,e){"use strict";var T=e(71828).extendFlat,D=e(82196),o=e(12663).axisHoverFormat,P=e(79952).P,C=e(77914),h=e(22372),y=h.INCREASING.COLOR,t=h.DECREASING.COLOR,r=D.line;function l(i){return{line:{color:T({},r.color,{dflt:i}),width:r.width,dash:P,editType:"style"},editType:"style"}}te.exports={xperiod:D.xperiod,xperiod0:D.xperiod0,xperiodalignment:D.xperiodalignment,xhoverformat:o("x"),yhoverformat:o("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:T({},r.width,{}),dash:T({},P,{}),editType:"style"},increasing:l(y),decreasing:l(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:T({},C.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(te,Y,e){"use strict";var T=e(71828),D=T._,o=e(89298),P=e(42973),C=e(50606).BADNUM;function y(l,i,u,f){return{o:l,h:i,l:u,c:f}}function t(l,i,u,f,c,m){for(var a=c.makeCalcdata(i,"open"),b=c.makeCalcdata(i,"high"),p=c.makeCalcdata(i,"low"),s=c.makeCalcdata(i,"close"),v=Array.isArray(i.text),A=Array.isArray(i.hovertext),x=!0,E=null,g=!!i.xperiodalignment,M=[],w=0;w<f.length;w++){var n=f[w],S=a[w],d=b[w],I=p[w],L=s[w];if(n!==C&&S!==C&&d!==C&&I!==C&&L!==C){L===S?null!==E&&L!==E&&(x=L>E):x=L>S,E=L;var B=m(S,d,I,L);B.pos=n,B.yc=(S+L)/2,B.i=w,B.dir=x?"increasing":"decreasing",B.x=B.pos,B.y=[I,d],g&&(B.orig_p=u[w]),v&&(B.tx=i.text[w]),A&&(B.htx=i.hovertext[w]),M.push(B)}else M.push({pos:n,empty:!0})}return i._extremes[c._id]=o.findExtremes(c,T.concat(p,b),{padded:!0}),M.length&&(M[0].t={labels:{open:D(l,"open:")+" ",high:D(l,"high:")+" ",low:D(l,"low:")+" ",close:D(l,"close:")+" "}}),M}te.exports={calc:function h(l,i){var u=o.getFromId(l,i.xaxis),f=o.getFromId(l,i.yaxis),c=function r(l,i,u){var f=u._minDiff;if(!f){var a,c=l._fullData,m=[];for(f=1/0,a=0;a<c.length;a++){var b=c[a];if("ohlc"===b.type&&!0===b.visible&&b.xaxis===i._id){m.push(b);var p=i.makeCalcdata(b,"x");b._origX=p;var s=P(u,i,"x",p).vals;b._xcalc=s;var v=T.distinctVals(s).minDiff;v&&isFinite(v)&&(f=Math.min(f,v))}}for(f===1/0&&(f=1),a=0;a<m.length;a++)m[a]._minDiff=f}return f*u.tickwidth}(l,u,i),m=i._minDiff;i._minDiff=null;var a=i._origX;i._origX=null;var b=i._xcalc;i._xcalc=null;var p=t(l,i,a,b,f,y);return i._extremes[u._id]=o.findExtremes(u,b,{vpad:m/2}),p.length?(T.extendFlat(p[0].t,{wHover:m/2,tickLen:c}),p):[{t:{empty:!0}}]},calcCommon:t}},16169:function(te,Y,e){"use strict";var T=e(71828),D=e(14555),o=e(73927),P=e(2522);function C(h,y,t,r){t(r+".line.color"),t(r+".line.width",y.line.width),t(r+".line.dash",y.line.dash)}te.exports=function(y,t,r,l){function i(f,c){return T.coerce(y,t,P,f,c)}D(y,t,i,l)?(o(y,t,l,i,{x:!0}),i("xhoverformat"),i("yhoverformat"),i("line.width"),i("line.dash"),C(0,t,i,"increasing"),C(0,t,i,"decreasing"),i("text"),i("hovertext"),i("tickwidth"),l._requestRangeslider[t.xaxis]=!0):t.visible=!1}},66449:function(te,Y,e){"use strict";var T=e(89298),D=e(71828),o=e(30211),P=e(7901),C=e(71828).fillText,h=e(22372),y={increasing:h.INCREASING.SYMBOL,decreasing:h.DECREASING.SYMBOL};function r(u,f,c,m){var E,g,a=u.cd,b=u.xa,p=a[0].trace,s=a[0].t,v=p.type,A="ohlc"===v?"l":"min",x="ohlc"===v?"h":"max",M=s.bPos||0,w=function(H){return H.pos+M-f},n=s.bdPos||s.tickLen,S=s.wHover,d=Math.min(1,n/Math.abs(b.r2c(b.range[1])-b.r2c(b.range[0])));function I(H){var X=w(H);return o.inbox(X-S,X+S,E)}function L(H){var X=H[A],ne=H[x];return X===ne||o.inbox(X-c,ne-c,E)}function B(H){return(I(H)+L(H))/2}E=u.maxHoverDistance-d,g=u.maxSpikeDistance-d;var k=o.getDistanceFunction(m,I,L,B);if(o.getClosest(a,k,u),!1===u.index)return null;var z=a[u.index];if(z.empty)return null;var F=p[z.dir],N=F.line.color;return u.color=P.opacity(N)&&F.line.width?N:F.fillcolor,u.x0=b.c2p(z.pos+M-n,!0),u.x1=b.c2p(z.pos+M+n,!0),u.xLabelVal=void 0!==z.orig_p?z.orig_p:z.pos,u.spikeDistance=B(z)*g/E,u.xSpike=b.c2p(z.pos,!0),u}function l(u,f,c,m){var a=u.cd,b=u.ya,p=a[0].trace,s=a[0].t,v=[],A=r(u,f,c,m);if(!A)return[];var g=a[A.index].hi||p.hoverinfo,M=g.split("+");if("all"!==g&&-1===M.indexOf("y"))return[];for(var S=["high","open","close","low"],d={},I=0;I<S.length;I++){var z,L=S[I],B=p[L][A.index],k=b.c2p(B,!0);B in d?(z=d[B]).yLabel+="<br>"+s.labels[L]+T.hoverLabelText(b,B,p.yhoverformat):((z=D.extendFlat({},A)).y0=z.y1=k,z.yLabelVal=B,z.yLabel=s.labels[L]+T.hoverLabelText(b,B,p.yhoverformat),z.name="",v.push(z),d[B]=z)}return v}function i(u,f,c,m){var a=u.cd,b=u.ya,p=a[0].trace,s=a[0].t,v=r(u,f,c,m);if(!v)return[];var x=a[v.index],E=v.index=x.i,g=x.dir;function M(B){return s.labels[B]+T.hoverLabelText(b,p[B][E],p.yhoverformat)}var w=x.hi||p.hoverinfo,n=w.split("+"),S="all"===w,d=S||-1!==n.indexOf("y"),I=S||-1!==n.indexOf("text"),L=d?[M("open"),M("high"),M("low"),M("close")+"  "+y[g]]:[];return I&&C(x,p,L),v.extraText=L.join("<br>"),v.y0=v.y1=b.c2p(x.yc,!0),[v]}te.exports={hoverPoints:function t(u,f,c,m){return u.cd[0].trace.hoverlabel.split?l(u,f,c,m):i(u,f,c,m)},hoverSplit:l,hoverOnPoints:i}},54186:function(te,Y,e){"use strict";te.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(te,Y,e){"use strict";var T=e(73972),D=e(71828);te.exports=function(P,C,h,y){var t=h("x"),r=h("open"),l=h("high"),i=h("low"),u=h("close");if(h("hoverlabel.split"),T.getComponentMethod("calendars","handleTraceDefaults")(P,C,["x"],y),r&&l&&i&&u){var c=Math.min(r.length,l.length,i.length,u.length);return t&&(c=Math.min(c,D.minRowLength(t))),C._length=c,c}}},72314:function(te,Y,e){"use strict";var T=e(39898),D=e(71828);te.exports=function(P,C,h,y){var t=C.yaxis,r=C.xaxis,l=!!r.rangebreaks;D.makeTraceGroups(y,h,"trace ohlc").each(function(i){var u=T.select(this),f=i[0],c=f.t;if(!0!==f.trace.visible||c.empty)u.remove();else{var a=c.tickLen,b=u.selectAll("path").data(D.identity);b.enter().append("path"),b.exit().remove(),b.attr("d",function(p){if(p.empty)return"M0,0Z";var s=r.c2p(p.pos-a,!0),v=r.c2p(p.pos+a,!0),A=l?(s+v)/2:r.c2p(p.pos,!0);return"M"+s+","+t.c2p(p.o,!0)+"H"+A+"M"+A+","+t.c2p(p.h,!0)+"V"+t.c2p(p.l,!0)+"M"+v+","+t.c2p(p.c,!0)+"H"+A})}})}},67324:function(te){"use strict";te.exports=function(e,T){var h,D=e.cd,o=e.xaxis,P=e.yaxis,C=[],y=D[0].t.bPos||0;if(!1===T)for(h=0;h<D.length;h++)D[h].selected=0;else for(h=0;h<D.length;h++){var t=D[h];T.contains([o.c2p(t.pos+y),P.c2p(t.yc)],null,t.i,e)?(C.push({pointNumber:t.i,x:o.c2d(t.pos),y:P.c2d(t.yc)}),t.selected=1):t.selected=0}return C}},53101:function(te,Y,e){"use strict";var T=e(39898),D=e(91424),o=e(7901);te.exports=function(C,h,y){var t=y||T.select(C).selectAll("g.ohlclayer").selectAll("g.trace");t.style("opacity",function(r){return r[0].trace.opacity}),t.each(function(r){var l=r[0].trace;T.select(this).selectAll("path").each(function(i){if(!i.empty){var u=l[i.dir].line;T.select(this).style("fill","none").call(o.stroke,u.color).call(D.dashLine,u.dash,u.width).style("opacity",l.selectedpoints&&!i.selected?.3:1)}})})}},99506:function(te,Y,e){"use strict";var T=e(1426).extendFlat,D=e(9012),o=e(41940),P=e(50693),C=e(5386).fF,h=e(27670).Y,y=T({editType:"calc"},P("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:C({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});te.exports={domain:h({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:T({},D.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:C({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:o({editType:"calc"}),tickfont:o({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:y,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(te,Y,e){"use strict";var T=e(27659).a0,D=e(45784),o="parcats";Y.name=o,Y.plot=function(P,C,h,y){var t=T(P.calcdata,o);t.length&&D(P,t[0],h,y)},Y.clean=function(P,C,h,y){var t=y._has&&y._has("parcats"),r=C._has&&C._has("parcats");t&&!r&&y._paperdiv.selectAll(".parcats").remove()}},28699:function(te,Y,e){"use strict";var T=e(28984).wrap,D=e(52075).hasColorscale,o=e(78803),P=e(75744),C=e(91424),h=e(71828),y=e(92770);function l(p,s,v,A){return{dimensionInd:p,categoryInd:s,categoryValue:v,displayInd:s,categoryLabel:A,valueInds:[],count:0,dragY:null}}function i(p,s,v){p.valueInds.push(s),p.count+=v}function u(p,s,v){return{categoryInds:p,color:s,rawColor:v,valueInds:[],count:0}}function f(p,s,v){p.valueInds.push(s),p.count+=v}te.exports=function(s,v){var A=h.filterVisible(v.dimensions);if(0===A.length)return[];var E,g,M,x=A.map(function(J){var j;if("trace"===J.categoryorder)j=null;else if("array"===J.categoryorder)j=J.categoryarray;else{j=P(J.values);for(var W=!0,V=0;V<j.length;V++)if(!y(j[V])){W=!1;break}j.sort(W?h.sorterAsc:void 0),"category descending"===J.categoryorder&&(j=j.reverse())}return function c(p,s){s=null==s?[]:s.map(function(n){return n});var v={},A={},x=[];s.forEach(function(n,S){v[n]=0,A[n]=S});for(var E=0;E<p.length;E++){var M,g=p[E];void 0===v[g]?(v[g]=1,M=s.push(g)-1,A[g]=M):(v[g]++,M=A[g]),x.push(M)}var w=s.map(function(n){return v[n]});return{uniqueValues:s,uniqueCounts:w,inds:x}}(J.values,j)});E=h.isArrayOrTypedArray(v.counts)?v.counts:[v.counts],function m(p){var v,s=p.map(function(A){return A.displayindex});if(function b(p){for(var s=new Array(p.length),v=0;v<p.length;v++){if(p[v]<0||p[v]>=p.length||void 0!==s[p[v]])return!1;s[p[v]]=!0}return!0}(s))for(v=0;v<p.length;v++)p[v]._displayindex=p[v].displayindex;else for(v=0;v<p.length;v++)p[v]._displayindex=v}(A),A.forEach(function(J,j){!function a(p,s){p._categoryarray=s.uniqueValues,p._ticktext=null==p.ticktext?[]:p.ticktext.slice();for(var v=p._ticktext.length;v<s.uniqueValues.length;v++)p._ticktext.push(s.uniqueValues[v])}(J,x[j])});var n,w=v.line;w?(D(v,"line")&&o(s,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),n=C.tryColorscale(w)):n=h.identity;var B,k,J,j,W,d=A[0].values.length,I={},L=x.map(function(J){return J.inds});for(M=0,B=0;B<d;B++){var z=[];for(k=0;k<L.length;k++)z.push(L[k][B]);M+=g=E[B%E.length];var O=(J=B,j=void 0,W=void 0,h.isArrayOrTypedArray(w.color)?W=j=w.color[J%w.color.length]:j=w.color,{color:n(j),rawColor:W}),F=z+"-"+O.rawColor;void 0===I[F]&&(I[F]=u(z,O.color,O.rawColor)),f(I[F],B,g)}var N=A.map(function(J,j){return function r(p,s,v,A,x){return{dimensionInd:p,containerInd:s,displayInd:v,dimensionLabel:A,count:x,categories:[],dragX:null}}(j,J._index,J._displayindex,J.label,M)});for(B=0;B<d;B++)for(g=E[B%E.length],k=0;k<N.length;k++){var H=N[k].containerInd,X=x[k].inds[B],ne=N[k].categories;void 0===ne[X]&&(ne[X]=l(k,X,v.dimensions[H]._categoryarray[X],v.dimensions[H]._ticktext[X])),i(ne[X],B,g)}return T(function t(p,s,v){var A=p.map(function(x){return x.categories.length}).reduce(function(x,E){return Math.max(x,E)});return{dimensions:p,paths:s,trace:void 0,maxCats:A,count:v}}(N,I,M))}},14647:function(te,Y,e){"use strict";var T=e(71828),D=e(52075).hasColorscale,o=e(1586),P=e(27670).c,C=e(85501),h=e(99506),y=e(94397);function r(l,i){function u(s,v){return T.coerce(l,i,h.dimensions,s,v)}var f=u("values"),c=u("visible");if(f&&f.length||(c=i.visible=!1),c){u("label"),u("displayindex",i._index);var b,m=l.categoryarray,a=Array.isArray(m)&&m.length>0;a&&(b="array");var p=u("categoryorder",b);"array"===p?(u("categoryarray"),u("ticktext")):(delete l.categoryarray,delete l.ticktext),!a&&"array"===p&&(i.categoryorder="trace")}}te.exports=function(i,u,f,c){function m(v,A){return T.coerce(i,u,h,v,A)}var a=C(i,u,{name:"dimensions",handleItemDefaults:r}),b=function t(l,i,u,f,c){c("line.shape"),c("line.hovertemplate");var m=c("line.color",f.colorway[0]);if(D(l,"line")&&T.isArrayOrTypedArray(m)){if(m.length)return c("line.colorscale"),o(l,i,f,c,{prefix:"line.",cLetter:"c"}),m.length;i.line.color=u}return 1/0}(i,u,f,c,m);P(u,c,m),(!Array.isArray(a)||!a.length)&&(u.visible=!1),y(u,a,"values",b),m("hoveron"),m("hovertemplate"),m("arrangement"),m("bundlecolors"),m("sortpaths"),m("counts");var p={family:c.font.family,size:Math.round(c.font.size),color:c.font.color};T.coerceFont(m,"labelfont",p);var s={family:c.font.family,size:Math.round(c.font.size/1.2),color:c.font.color};T.coerceFont(m,"tickfont",s)}},94873:function(te,Y,e){"use strict";te.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(te,Y,e){"use strict";var T=e(39898),D=e(81684).k4,o=e(72391),P=e(30211),C=e(71828),h=C.strTranslate,y=e(91424),t=e(84267),r=e(63893);function l(V,K,ae,Q){var Z=K._context.staticPlot,re=V.map(ie.bind(0,K,ae)),q=Q.selectAll("g.parcatslayer").data([null]);q.enter().append("g").attr("class","parcatslayer").style("pointer-events",Z?"none":"all");var se=q.selectAll("g.trace.parcats").data(re,i),de=se.enter().append("g").attr("class","trace parcats");se.attr("transform",function(He){return h(He.x,He.y)}),de.append("g").attr("class","paths");var ye=se.select("g.paths").selectAll("path.path").data(function(He){return He.paths},i);ye.attr("fill",function(He){return He.model.color});var Pe=ye.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(He){return He.model.color}).attr("fill-opacity",0);s(Pe),ye.attr("d",function(He){return He.svgD}),Pe.empty()||ye.sort(f),ye.exit().remove(),ye.on("mouseover",c).on("mouseout",m).on("click",p),de.append("g").attr("class","dimensions");var Se=se.select("g.dimensions").selectAll("g.dimension").data(function(He){return He.dimensions},i);Se.enter().append("g").attr("class","dimension"),Se.attr("transform",function(He){return h(He.x,0)}),Se.exit().remove();var xe=Se.selectAll("g.category").data(function(He){return He.categories},i),Me=xe.enter().append("g").attr("class","category");xe.attr("transform",function(He){return h(0,He.y)}),Me.append("rect").attr("class","catrect").attr("pointer-events","none"),xe.select("rect.catrect").attr("fill","none").attr("width",function(He){return He.width}).attr("height",function(He){return He.height}),x(Me);var Ge=xe.selectAll("rect.bandrect").data(function(He){return He.bands},i);Ge.each(function(){C.raiseToTop(this)}),Ge.attr("fill",function(He){return He.color});var Ye=Ge.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(He){return He.color}).attr("fill-opacity",0);Ge.attr("fill",function(He){return He.color}).attr("width",function(He){return He.width}).attr("height",function(He){return He.height}).attr("y",function(He){return He.y}).attr("cursor",function(He){return"fixed"===He.parcatsViewModel.arrangement?"default":"perpendicular"===He.parcatsViewModel.arrangement?"ns-resize":"move"}),g(Ye),Ge.exit().remove(),Me.append("text").attr("class","catlabel").attr("pointer-events","none");var De=K._fullLayout.paper_bgcolor;xe.select("text.catlabel").attr("text-anchor",function(He){return u(He)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",r.makeTextShadow(De)).style("fill","rgb(0, 0, 0)").attr("x",function(He){return u(He)?He.width+5:-5}).attr("y",function(He){return He.height/2}).text(function(He){return He.model.categoryLabel}).each(function(He){y.font(T.select(this),He.parcatsViewModel.categorylabelfont),r.convertToTspans(T.select(this),K)}),Me.append("text").attr("class","dimlabel"),xe.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(He){return"fixed"===He.parcatsViewModel.arrangement?"default":"ew-resize"}).attr("x",function(He){return He.width/2}).attr("y",-5).text(function(He,rt){return 0===rt?He.parcatsViewModel.model.dimensions[He.model.dimensionInd].dimensionLabel:null}).each(function(He){y.font(T.select(this),He.parcatsViewModel.labelfont)}),xe.selectAll("rect.bandrect").on("mouseover",k).on("mouseout",z),xe.exit().remove(),Se.call(T.behavior.drag().origin(function(He){return{x:He.x,y:0}}).on("dragstart",O).on("drag",F).on("dragend",N)),se.each(function(He){He.traceSelection=T.select(this),He.pathSelection=T.select(this).selectAll("g.paths").selectAll("path.path"),He.dimensionSelection=T.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),se.exit().remove()}function i(V){return V.key}function u(V){return V.model.dimensionInd===V.parcatsViewModel.dimensions[V.parcatsViewModel.dimensions.length-1].model.dimensionInd}function f(V,K){return V.model.rawColor>K.model.rawColor?1:V.model.rawColor<K.model.rawColor?-1:0}function c(V){if(!V.parcatsViewModel.dragDimension&&-1===V.parcatsViewModel.hoverinfoItems.indexOf("skip")){C.raiseToTop(this),v(T.select(this));var K=a(V),ae=b(V);if(V.parcatsViewModel.graphDiv.emit("plotly_hover",{points:K,event:T.event,constraints:ae}),-1===V.parcatsViewModel.hoverinfoItems.indexOf("none")){var we,ye,Pe,Q=T.mouse(this)[0],Z=V.parcatsViewModel.graphDiv,re=V.parcatsViewModel.trace,q=Z._fullLayout,se=q._paperdiv.node().getBoundingClientRect(),de=V.parcatsViewModel.graphDiv.getBoundingClientRect();for(Pe=0;Pe<V.leftXs.length-1;Pe++)if(V.leftXs[Pe]+V.dimWidths[Pe]-2<=Q&&Q<=V.leftXs[Pe+1]+2){var Ie=V.parcatsViewModel.dimensions[Pe];we=(Ie.x+Ie.width+V.parcatsViewModel.dimensions[Pe+1].x)/2,ye=(V.topYs[Pe]+V.topYs[Pe+1]+V.height)/2;break}var xe=V.parcatsViewModel.x+we,Me=V.parcatsViewModel.y+ye,Ge=t.mostReadable(V.model.color,["black","white"]),Ye=V.model.count,De=Ye/V.parcatsViewModel.model.count,He={countLabel:Ye,probabilityLabel:De.toFixed(3)},rt=[];-1!==V.parcatsViewModel.hoverinfoItems.indexOf("count")&&rt.push(["Count:",He.countLabel].join(" ")),-1!==V.parcatsViewModel.hoverinfoItems.indexOf("probability")&&rt.push(["P:",He.probabilityLabel].join(" "));var $e=rt.join("<br>"),Be=T.mouse(Z)[0];P.loneHover({trace:re,x:xe-se.left+de.left,y:Me-se.top+de.top,text:$e,color:V.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ge,idealAlign:Be<xe?"right":"left",hovertemplate:(re.line||{}).hovertemplate,hovertemplateLabels:He,eventData:[{data:re._input,fullData:re,count:Ye,probability:De}]},{container:q._hoverlayer.node(),outerContainer:q._paper.node(),gd:Z})}}}function m(V){if(!V.parcatsViewModel.dragDimension&&(s(T.select(this)),P.loneUnhover(V.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),V.parcatsViewModel.pathSelection.sort(f),-1===V.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var K=a(V),ae=b(V);V.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:K,event:T.event,constraints:ae})}}function a(V){for(var K=[],ae=H(V.parcatsViewModel),Q=0;Q<V.model.valueInds.length;Q++)K.push({curveNumber:ae,pointNumber:V.model.valueInds[Q]});return K}function b(V){for(var K={},ae=V.parcatsViewModel.model.dimensions,Q=0;Q<ae.length;Q++){var Z=ae[Q];K[Z.containerInd]=Z.categories[V.model.categoryInds[Q]].categoryValue}return void 0!==V.model.rawColor&&(K.color=V.model.rawColor),K}function p(V){if(-1===V.parcatsViewModel.hoverinfoItems.indexOf("skip")){var K=a(V),ae=b(V);V.parcatsViewModel.graphDiv.emit("plotly_click",{points:K,event:T.event,constraints:ae})}}function s(V){V.attr("fill",function(K){return K.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function v(V){V.attr("fill-opacity",.8).attr("stroke",function(K){return t.mostReadable(K.model.color,["black","white"])}).attr("stroke-width",.3)}function x(V){V.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function g(V){V.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function M(V){var ae=V.categoryViewModel.model.dimensionInd,Q=V.categoryViewModel.model.categoryInd;return V.parcatsViewModel.pathSelection.filter(function(Z){return Z.model.categoryInds[ae]===Q&&Z.model.color===V.color})}function S(V,K,ae){var Q=T.select(V).datum(),Z=Q.categoryViewModel.model,re=Q.parcatsViewModel.graphDiv,q=T.select(V.parentNode).selectAll("rect.bandrect"),se=[];q.each(function(we){M(we).each(function(Pe){Array.prototype.push.apply(se,a(Pe))})});var de={};de[Z.dimensionInd]=Z.categoryValue,re.emit(K,{points:se,event:ae,constraints:de})}function d(V,K,ae){var Q=T.select(V).datum(),Z=Q.categoryViewModel.model,re=Q.parcatsViewModel.graphDiv,q=M(Q),se=[];q.each(function(we){Array.prototype.push.apply(se,a(we))});var de={};de[Z.dimensionInd]=Z.categoryValue,void 0!==Q.rawColor&&(de.color=Q.rawColor),re.emit(K,{points:se,event:ae,constraints:de})}function I(V,K,ae){V._fullLayout._calcInverseTransform(V);var Ie,Se,Q=V._fullLayout._invScaleX,Z=V._fullLayout._invScaleY,re=T.select(ae.parentNode).select("rect.catrect"),q=re.node().getBoundingClientRect(),se=re.datum(),de=se.parcatsViewModel,ye=de.trace,Pe=q.top+q.height/2;de.dimensions.length>1&&de.model.dimensions[se.model.dimensionInd].displayInd===de.dimensions.length-1?(Ie=q.left,Se="left"):(Ie=q.left+q.width,Se="right");var xe=se.model.count,Me=se.model.categoryLabel,Ge=xe/se.parcatsViewModel.model.count,Ye={countLabel:xe,categoryLabel:Me,probabilityLabel:Ge.toFixed(3)},De=[];-1!==se.parcatsViewModel.hoverinfoItems.indexOf("count")&&De.push(["Count:",Ye.countLabel].join(" ")),-1!==se.parcatsViewModel.hoverinfoItems.indexOf("probability")&&De.push(["P("+Ye.categoryLabel+"):",Ye.probabilityLabel].join(" "));var He=De.join("<br>");return{trace:ye,x:Q*(Ie-K.left),y:Z*(Pe-K.top),text:He,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Se,hovertemplate:ye.hovertemplate,hovertemplateLabels:Ye,eventData:[{data:ye._input,fullData:ye,count:xe,category:Me,probability:Ge}]}}function k(V){if(!V.parcatsViewModel.dragDimension&&-1===V.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(T.mouse(this)[1]<-1)return;var se,ae=V.parcatsViewModel.graphDiv,Q=ae._fullLayout,Z=Q._paperdiv.node().getBoundingClientRect(),re=V.parcatsViewModel.hoveron,q=this;"color"===re?(function n(V){var K=T.select(V).datum(),ae=M(K);v(ae),ae.each(function(){C.raiseToTop(this)}),T.select(V.parentNode).selectAll("rect.bandrect").filter(function(Q){return Q.color===K.color}).each(function(){C.raiseToTop(this),function E(V){V.attr("stroke","black").attr("stroke-width",1.5)}(T.select(this))})}(q),d(q,"plotly_hover",T.event)):(function w(V){T.select(V.parentNode).selectAll("rect.bandrect").each(function(ae){var Q=M(ae);v(Q),Q.each(function(){C.raiseToTop(this)})}),function A(V){V.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(T.select(V.parentNode))}(q),S(q,"plotly_hover",T.event)),-1===V.parcatsViewModel.hoverinfoItems.indexOf("none")&&("category"===re?se=I(ae,Z,q):"color"===re?se=function B(V,K,ae){V._fullLayout._calcInverseTransform(V);var Ie,Se,Q=V._fullLayout._invScaleX,Z=V._fullLayout._invScaleY,re=ae.getBoundingClientRect(),q=T.select(ae).datum(),se=q.categoryViewModel,de=se.parcatsViewModel,ye=de.trace,Pe=re.y+re.height/2;de.dimensions.length>1&&de.model.dimensions[se.model.dimensionInd].displayInd===de.dimensions.length-1?(Ie=re.left,Se="left"):(Ie=re.left+re.width,Se="right");var xe=se.model.categoryLabel,Me=q.parcatsViewModel.model.count,Ge=0;q.categoryViewModel.bands.forEach(function(ut){ut.color===q.color&&(Ge+=ut.count)});var Ye=se.model.count,De=0;de.pathSelection.each(function(ut){ut.model.color===q.color&&(De+=ut.model.count)});var He=Ge/Me,rt=Ge/De,$e=Ge/Ye,Be={countLabel:Me,categoryLabel:xe,probabilityLabel:He.toFixed(3)},ze=[];-1!==se.parcatsViewModel.hoverinfoItems.indexOf("count")&&ze.push(["Count:",Be.countLabel].join(" ")),-1!==se.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(ze.push("P(color \u2229 "+xe+"): "+Be.probabilityLabel),ze.push("P("+xe+" | color): "+rt.toFixed(3)),ze.push("P(color | "+xe+"): "+$e.toFixed(3)));var tt=ze.join("<br>"),lt=t.mostReadable(q.color,["black","white"]);return{trace:ye,x:Q*(Ie-K.left),y:Z*(Pe-K.top),text:tt,color:q.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:lt,fontSize:10,idealAlign:Se,hovertemplate:ye.hovertemplate,hovertemplateLabels:Be,eventData:[{data:ye._input,fullData:ye,category:xe,count:Me,probability:He,categorycount:Ye,colorcount:De,bandcolorcount:Ge}]}}(ae,Z,q):"dimension"===re&&(se=function L(V,K,ae){var Q=[];return T.select(ae.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){Q.push(I(V,K,this))}),Q}(ae,Z,q)),se&&P.loneHover(se,{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:ae}))}}function z(V){var K=V.parcatsViewModel;K.dragDimension||(s(K.pathSelection),x(K.dimensionSelection.selectAll("g.category")),g(K.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),P.loneUnhover(K.graphDiv._fullLayout._hoverlayer.node()),K.pathSelection.sort(f),-1!==K.hoverinfoItems.indexOf("skip"))||("color"===V.parcatsViewModel.hoveron?d(this,"plotly_unhover",T.event):S(this,"plotly_unhover",T.event))}function O(V){"fixed"!==V.parcatsViewModel.arrangement&&(V.dragDimensionDisplayInd=V.model.displayInd,V.initialDragDimensionDisplayInds=V.parcatsViewModel.model.dimensions.map(function(K){return K.displayInd}),V.dragHasMoved=!1,V.dragCategoryDisplayInd=null,T.select(this).selectAll("g.category").select("rect.catrect").each(function(K){var ae=T.mouse(this)[0],Q=T.mouse(this)[1];-2<=ae&&ae<=K.width+2&&-2<=Q&&Q<=K.height+2&&(V.dragCategoryDisplayInd=K.model.displayInd,V.initialDragCategoryDisplayInds=V.model.categories.map(function(Z){return Z.displayInd}),K.model.dragY=K.y,C.raiseToTop(this.parentNode),T.select(this.parentNode).selectAll("rect.bandrect").each(function(Z){Z.y<Q&&Q<=Z.y+Z.height&&(V.potentialClickBand=this)}))}),V.parcatsViewModel.dragDimension=V,P.loneUnhover(V.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function F(V){if("fixed"!==V.parcatsViewModel.arrangement&&(V.dragHasMoved=!0,null!==V.dragDimensionDisplayInd)){var K=V.dragDimensionDisplayInd,ae=K-1,Q=K+1,Z=V.parcatsViewModel.dimensions[K];if(null!==V.dragCategoryDisplayInd){var re=Z.categories[V.dragCategoryDisplayInd];re.model.dragY+=T.event.dy;var q=re.model.dragY,se=re.model.displayInd,de=Z.categories,we=de[se-1],ye=de[se+1];void 0!==we&&q<we.y+we.height/2&&(re.model.displayInd=we.model.displayInd,we.model.displayInd=se),void 0!==ye&&q+re.height>ye.y+ye.height/2&&(re.model.displayInd=ye.model.displayInd,ye.model.displayInd=se),V.dragCategoryDisplayInd=re.model.displayInd}if(null===V.dragCategoryDisplayInd||"freeform"===V.parcatsViewModel.arrangement){Z.model.dragX=T.event.x;var Pe=V.parcatsViewModel.dimensions[ae],Ie=V.parcatsViewModel.dimensions[Q];void 0!==Pe&&Z.model.dragX<Pe.x+Pe.width&&(Z.model.displayInd=Pe.model.displayInd,Pe.model.displayInd=K),void 0!==Ie&&Z.model.dragX+Z.width>Ie.x&&(Z.model.displayInd=Ie.model.displayInd,Ie.model.displayInd=V.dragDimensionDisplayInd),V.dragDimensionDisplayInd=Z.model.displayInd}j(V.parcatsViewModel),J(V.parcatsViewModel),ne(V.parcatsViewModel),X(V.parcatsViewModel)}}function N(V){if("fixed"!==V.parcatsViewModel.arrangement&&null!==V.dragDimensionDisplayInd){T.select(this).selectAll("text").attr("font-weight","normal");var K={},ae=H(V.parcatsViewModel),Q=V.parcatsViewModel.model.dimensions.map(function(Ie){return Ie.displayInd}),Z=V.initialDragDimensionDisplayInds.some(function(Ie,Se){return Ie!==Q[Se]});Z&&Q.forEach(function(Ie,Se){K["dimensions["+V.parcatsViewModel.model.dimensions[Se].containerInd+"].displayindex"]=Ie});var re=!1;if(null!==V.dragCategoryDisplayInd){var q=V.model.categories.map(function(Ie){return Ie.displayInd});if(re=V.initialDragCategoryDisplayInds.some(function(Ie,Se){return Ie!==q[Se]})){var se=V.model.categories.slice().sort(function(Ie,Se){return Ie.displayInd-Se.displayInd}),de=se.map(function(Ie){return Ie.categoryValue}),we=se.map(function(Ie){return Ie.categoryLabel});K["dimensions["+V.model.containerInd+"].categoryarray"]=[de],K["dimensions["+V.model.containerInd+"].ticktext"]=[we],K["dimensions["+V.model.containerInd+"].categoryorder"]="array"}}-1===V.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!V.dragHasMoved&&V.potentialClickBand&&("color"===V.parcatsViewModel.hoveron?d(V.potentialClickBand,"plotly_click",T.event.sourceEvent):S(V.potentialClickBand,"plotly_click",T.event.sourceEvent)),V.model.dragX=null,null!==V.dragCategoryDisplayInd&&(V.parcatsViewModel.dimensions[V.dragDimensionDisplayInd].categories[V.dragCategoryDisplayInd].model.dragY=null,V.dragCategoryDisplayInd=null),V.dragDimensionDisplayInd=null,V.parcatsViewModel.dragDimension=null,V.dragHasMoved=null,V.potentialClickBand=null,j(V.parcatsViewModel),J(V.parcatsViewModel),T.transition().duration(300).ease("cubic-in-out").each(function(){ne(V.parcatsViewModel,!0),X(V.parcatsViewModel,!0)}).each("end",function(){(Z||re)&&o.restyle(V.parcatsViewModel.graphDiv,K,[ae])})}}function H(V){for(var K,ae=V.graphDiv._fullData,Q=0;Q<ae.length;Q++)if(V.key===ae[Q].uid){K=Q;break}return K}function X(V,K){void 0===K&&(K=!1),V.pathSelection.data(function(Q){return Q.paths},i),function ae(Q){return K?Q.transition():Q}(V.pathSelection).attr("d",function(Q){return Q.svgD})}function ne(V,K){function ae(de){return K?de.transition():de}void 0===K&&(K=!1),V.dimensionSelection.data(function(de){return de.dimensions},i);var Q=V.dimensionSelection.selectAll("g.category").data(function(de){return de.categories},i);ae(V.dimensionSelection).attr("transform",function(de){return h(de.x,0)}),ae(Q).attr("transform",function(de){return h(0,de.y)}),Q.select(".dimlabel").text(function(de,we){return 0===we?de.parcatsViewModel.model.dimensions[de.model.dimensionInd].dimensionLabel:null}),Q.select(".catlabel").attr("text-anchor",function(de){return u(de)?"start":"end"}).attr("x",function(de){return u(de)?de.width+5:-5}).each(function(de){var we,ye;u(de)?(we=de.width+5,ye="start"):(we=-5,ye="end"),T.select(this).selectAll("tspan").attr("x",we).attr("text-anchor",ye)});var q=Q.selectAll("rect.bandrect").data(function(de){return de.bands},i),se=q.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(de){return de.color}).attr("fill-opacity",0);q.attr("fill",function(de){return de.color}).attr("width",function(de){return de.width}).attr("height",function(de){return de.height}).attr("y",function(de){return de.y}),g(se),q.each(function(){C.raiseToTop(this)}),q.exit().remove()}function ie(V,K,ae){var xe,Q=ae[0],Z=K.margin||{l:80,r:80,t:100,b:80},re=Q.trace,q=re.domain,se=K.width,de=K.height,we=Math.floor(se*(q.x[1]-q.x[0])),ye=Math.floor(de*(q.y[1]-q.y[0])),Pe=q.x[0]*se+Z.l,Ie=K.height-q.y[1]*K.height+Z.t,Se=re.line.shape;xe="all"===re.hoverinfo?["count","probability"]:(re.hoverinfo||"").split("+");var Me={trace:re,key:re.uid,model:Q,x:Pe,y:Ie,width:we,height:ye,hoveron:re.hoveron,hoverinfoItems:xe,arrangement:re.arrangement,bundlecolors:re.bundlecolors,sortpaths:re.sortpaths,labelfont:re.labelfont,categorylabelfont:re.tickfont,pathShape:Se,dragDimension:null,margin:Z,paths:[],dimensions:[],graphDiv:V,traceSelection:null,pathSelection:null,dimensionSelection:null};return Q.dimensions&&(j(Me),J(Me)),Me}function ue(V,K,ae,Q,Z){var se,de,re=[],q=[];for(de=0;de<ae.length-1;de++)se=D(ae[de]+V[de],V[de+1]),re.push(se(Z)),q.push(se(1-Z));var we="M "+V[0]+","+K[0];for(we+="l"+ae[0]+",0 ",de=1;de<ae.length;de++)we+="C"+re[de-1]+","+K[de-1]+" "+q[de-1]+","+K[de]+" "+V[de]+","+K[de],we+="l"+ae[de]+",0 ";for(we+="l0,"+Q+" ",we+="l -"+ae[ae.length-1]+",0 ",de=ae.length-2;de>=0;de--)we+="C"+q[de]+","+(K[de+1]+Q)+" "+re[de]+","+(K[de]+Q)+" "+(V[de]+ae[de])+","+(K[de]+Q),we+="l-"+ae[de]+",0 ";return we+"Z"}function J(V){var K=V.dimensions,ae=V.model,Q=K.map(function(Ht){return Ht.categories.map(function(Je){return Je.y})}),Z=V.model.dimensions.map(function(Ht){return Ht.categories.map(function(Je){return Je.displayInd})}),re=V.model.dimensions.map(function(Ht){return Ht.displayInd}),q=V.dimensions.map(function(Ht){return Ht.model.dimensionInd}),se=K.map(function(Ht){return Ht.x}),de=K.map(function(Ht){return Ht.width}),we=[];for(var ye in ae.paths)ae.paths.hasOwnProperty(ye)&&we.push(ae.paths[ye]);function Pe(Ht){var Je=Ht.categoryInds.map(function(Ee,Re){return Z[Re][Ee]});return q.map(function(Ee){return Je[Ee]})}we.sort(function(Ht,Je){var Ce=Pe(Ht),Ee=Pe(Je);return"backward"===V.sortpaths&&(Ce.reverse(),Ee.reverse()),Ce.push(Ht.valueInds[0]),Ee.push(Je.valueInds[0]),V.bundlecolors&&(Ce.unshift(Ht.rawColor),Ee.unshift(Je.rawColor)),Ce<Ee?-1:Ce>Ee?1:0});for(var Ie=new Array(we.length),Se=K[0].model.count,xe=K[0].categories.map(function(Ht){return Ht.height}).reduce(function(Ht,Je){return Ht+Je}),Me=0;Me<we.length;Me++){var Ye,bt,Ge=we[Me];Ye=Se>0?xe*(Ge.count/Se):0;for(var De=new Array(Q.length),He=0;He<Ge.categoryInds.length;He++){var $e=Z[He][Ge.categoryInds[He]],Be=re[He];De[Be]=Q[Be][$e],Q[Be][$e]+=Ye;var ze=V.dimensions[Be].categories[$e],tt=ze.bands.length,lt=ze.bands[tt-1];if(void 0===lt||Ge.rawColor!==lt.rawColor){var ut=void 0===lt?0:lt.y+lt.height;ze.bands.push({key:ut,color:Ge.color,rawColor:Ge.rawColor,height:Ye,width:ze.width,count:Ge.count,y:ut,categoryViewModel:ze,parcatsViewModel:V})}else{var xt=ze.bands[tt-1];xt.height+=Ye,xt.count+=Ge.count}}bt=ue(se,De,de,Ye,"hspline"===V.pathShape?.5:0),Ie[Me]={key:Ge.valueInds[0],model:Ge,height:Ye,leftXs:se,topYs:De,dimWidths:de,svgD:bt,parcatsViewModel:V}}V.paths=Ie}function j(V){var K=V.model.dimensions.map(function(q){return{displayInd:q.displayInd,dimensionInd:q.dimensionInd}});K.sort(function(q,se){return q.displayInd-se.displayInd});var ae=[];for(var Q in K)ae.push(W(V,V.model.dimensions[K[Q].dimensionInd]));V.dimensions=ae}function W(V,K){var de,Z=V.model.dimensions.length;de=40+(Z>1?(V.width-80-16)/(Z-1):0)*K.displayInd;var Me,Ge,Ye,He,we=[],ye=V.model.maxCats,Pe=K.categories.length,Se=K.count,xe=V.height-8*(ye-1),rt=8*(ye-Pe)/2,$e=K.categories.map(function(Be){return{displayInd:Be.displayInd,categoryInd:Be.categoryInd}});for($e.sort(function(Be,ze){return Be.displayInd-ze.displayInd}),He=0;He<Pe;He++)Ye={key:(Ge=K.categories[$e[He].categoryInd]).valueInds[0],model:Ge,width:16,height:Me=Se>0?Ge.count/Se*xe:0,y:null!==Ge.dragY?Ge.dragY:rt,bands:[],parcatsViewModel:V},rt=rt+Me+8,we.push(Ye);return{key:K.dimensionInd,x:null!==K.dragX?K.dragX:de,y:0,width:16,model:K,categories:we,parcatsViewModel:V,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}te.exports=function(V,K,ae,Q){l(ae,V,Q,K)}},45784:function(te,Y,e){"use strict";var T=e(45460);te.exports=function(o,P,C,h){var y=o._fullLayout,r=y._size;T(o,y._paper,P,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},C,h)}},73362:function(te,Y,e){"use strict";var T=e(50693),D=e(13838),o=e(41940),P=e(27670).Y,C=e(1426).extendFlat,h=e(44467).templatedArray;te.exports={domain:P({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:o({editType:"plot"}),tickfont:o({editType:"plot"}),rangefont:o({editType:"plot"}),dimensions:h("dimension",{label:{valType:"string",editType:"plot"},tickvals:C({},D.tickvals,{editType:"plot"}),ticktext:C({},D.ticktext,{editType:"plot"}),tickformat:C({},D.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:C({editType:"calc"},T("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(te,Y,e){"use strict";var T=e(25706),D=e(39898),o=e(28984).keyFun,P=e(28984).repeat,C=e(71828).sorterAsc,h=e(71828).strTranslate,y=T.bar.snapRatio;function t(N,H){return N*(1-y)+H*y}var r=T.bar.snapClose;function l(N,H){return N*(1-r)+H*r}function i(N,H,X,ne){if(function u(N,H){for(var X=0;X<H.length;X++)if(N>=H[X][0]&&N<=H[X][1])return!0;return!1}(X,ne))return X;var ie=N?-1:1,ue=0,J=H.length-1;if(ie<0){var j=ue;ue=J,J=j}for(var W=H[ue],V=W,K=ue;ie*K<ie*J;K+=ie){var ae=K+ie,Q=H[ae];if(ie*X<ie*l(W,Q))return t(W,V);if(ie*X<ie*Q||ae===J)return t(Q,W);V=W,W=Q}}function f(N){N.attr("x",-T.bar.captureWidth/2).attr("width",T.bar.captureWidth)}function c(N){N.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(N){if(!N.brush.filterSpecified)return"0,"+N.height;for(var ne,ie,ue,H=a(N.brush.filter.getConsolidated(),N.height),X=[0],J=H.length?H[0][0]:null,j=0;j<H.length;j++)ie=(ne=H[j])[1]-ne[0],X.push(J),X.push(ie),(ue=j+1)<H.length&&(J=H[ue][0]-ne[1]);return X.push(N.height),X}function a(N,H){return N.map(function(X){return X.map(function(ne){return Math.max(0,ne*H)}).sort(C)})}function p(){D.select(document.body).style("cursor",null)}function s(N){N.attr("stroke-dasharray",m)}function v(N,H){var X=D.select(N).selectAll(".highlight, .highlight-shadow");s(H?X.transition().duration(T.bar.snapDuration).each("end",H):X)}function A(N,H){var J,X=N.brush,ie=NaN,ue={};if(X.filterSpecified){var j=N.height,W=X.filter.getConsolidated(),V=a(W,j),K=NaN,ae=NaN,Q=NaN;for(J=0;J<=V.length;J++){var Z=V[J];if(Z&&Z[0]<=H&&H<=Z[1]){K=J;break}if(ae=J?J-1:NaN,Z&&Z[0]>H){Q=J;break}}if(ie=K,isNaN(ie)&&(ie=isNaN(ae)||isNaN(Q)?isNaN(ae)?Q:ae:H-V[ae][1]<V[Q][0]-H?ae:Q),!isNaN(ie)){var re=V[ie],q=function b(N,H){var X=T.bar.handleHeight;if(!(H>N[1]+X||H<N[0]-X))return H>=.9*N[1]+.1*N[0]?"n":H<=.9*N[0]+.1*N[1]?"s":"ns"}(re,H);q&&(ue.interval=W[ie],ue.intervalPix=re,ue.region=q)}}if(N.ordinal&&!ue.region){var se=N.unitTickvals,de=N.unitToPaddedPx.invert(H);for(J=0;J<se.length;J++){var we=[.25*se[Math.max(J-1,0)]+.75*se[J],.25*se[Math.min(J+1,se.length-1)]+.75*se[J]];if(de>=we[0]&&de<=we[1]){ue.clickableOrdinalRange=we;break}}}return ue}function E(N,H){D.event.sourceEvent.stopPropagation();var X=H.height-D.mouse(N)[1]-2*T.verticalPadding,ne=H.brush.svgBrush;ne.wasDragged=!0,ne._dragging=!0,ne.newExtent=ne.grabbingBar?[X-ne.grabPoint,X+ne.barLength-ne.grabPoint].map(H.unitToPaddedPx.invert):[ne.startExtent,H.unitToPaddedPx.invert(X)].sort(C),H.brush.filterSpecified=!0,ne.extent=ne.stayingIntervals.concat([ne.newExtent]),ne.brushCallback(H),v(N.parentNode)}function M(N,H){var ne=A(H,H.height-D.mouse(N)[1]-2*T.verticalPadding),ie="crosshair";ne.clickableOrdinalRange?ie="pointer":ne.region&&(ie=ne.region+"-resize"),D.select(document.body).style("cursor",ie)}function w(N){N.on("mousemove",function(H){D.event.preventDefault(),H.parent.inBrushDrag||M(this,H)}).on("mouseleave",function(H){H.parent.inBrushDrag||p()}).call(D.behavior.drag().on("dragstart",function(H){!function x(N,H){D.event.sourceEvent.stopPropagation();var X=H.height-D.mouse(N)[1]-2*T.verticalPadding,ne=H.unitToPaddedPx.invert(X),ie=H.brush,ue=A(H,X),J=ue.interval,j=ie.svgBrush;if(j.wasDragged=!1,j.grabbingBar="ns"===ue.region,j.grabbingBar){var W=J.map(H.unitToPaddedPx);j.grabPoint=X-W[0]-T.verticalPadding,j.barLength=W[1]-W[0]}j.clickableOrdinalRange=ue.clickableOrdinalRange,j.stayingIntervals=H.multiselect&&ie.filterSpecified?ie.filter.getConsolidated():[],J&&(j.stayingIntervals=j.stayingIntervals.filter(function(V){return V[0]!==J[0]&&V[1]!==J[1]})),j.startExtent=ue.region?J["s"===ue.region?1:0]:ne,H.parent.inBrushDrag=!0,j.brushStartCallback()}(this,H)}).on("drag",function(H){E(this,H)}).on("dragend",function(H){!function g(N,H){var X=H.brush,ne=X.filter,ie=X.svgBrush;ie._dragging||(M(N,H),E(N,H),H.brush.svgBrush.wasDragged=!1),ie._dragging=!1,D.event.sourceEvent.stopPropagation();var J=ie.grabbingBar;if(ie.grabbingBar=!1,ie.grabLocation=void 0,H.parent.inBrushDrag=!1,p(),!ie.wasDragged)return ie.wasDragged=void 0,ie.clickableOrdinalRange?X.filterSpecified&&H.multiselect?ie.extent.push(ie.clickableOrdinalRange):(ie.extent=[ie.clickableOrdinalRange],X.filterSpecified=!0):J?(ie.extent=ie.stayingIntervals,0===ie.extent.length&&L(X)):L(X),ie.brushCallback(H),v(N.parentNode),void ie.brushEndCallback(X.filterSpecified?ne.getConsolidated():[]);var j=function(){ne.set(ne.getConsolidated())};if(H.ordinal){var W=H.unitTickvals;W[W.length-1]<W[0]&&W.reverse(),ie.newExtent=[i(0,W,ie.newExtent[0],ie.stayingIntervals),i(1,W,ie.newExtent[1],ie.stayingIntervals)];var V=ie.newExtent[1]>ie.newExtent[0];ie.extent=ie.stayingIntervals.concat(V?[ie.newExtent]:[]),ie.extent.length||L(X),ie.brushCallback(H),V?v(N.parentNode,j):(j(),v(N.parentNode))}else j();ie.brushEndCallback(X.filterSpecified?ne.getConsolidated():[])}(this,H)}))}function n(N,H){return N[0]-H[0]}function L(N){N.filterSpecified=!1,N.svgBrush.extent=[[-1/0,1/0]]}function B(N){return function(X){var ne=X.brush,ie=function I(N){return N.svgBrush.extent.map(function(H){return H.slice()})}(ne),ue=ie.slice();ne.filter.set(ue),N()}}function k(N){for(var ne,H=N.slice(),X=[],ie=H.shift();ie;){for(ne=ie.slice();(ie=H.shift())&&ie[0]<=ne[1];)ne[1]=Math.max(ne[1],ie[1]);X.push(ne)}return 1===X.length&&X[0][0]>X[0][1]&&(X=[]),X}te.exports={makeBrush:function O(N,H,X,ne,ie,ue){var J=function z(){var H,X,N=[];return{set:function(ne){1===(N=ne.map(function(ie){return ie.slice().sort(C)}).sort(n)).length&&N[0][0]===-1/0&&N[0][1]===1/0&&(N=[[0,-1]]),H=k(N),X=N.reduce(function(ie,ue){return[Math.min(ie[0],ue[0]),Math.max(ie[1],ue[1])]},[1/0,-1/0])},get:function(){return N.slice()},getConsolidated:function(){return H},getBounds:function(){return X}}}();return J.set(X),{filter:J,filterSpecified:H,svgBrush:{extent:[],brushStartCallback:ne,brushCallback:B(ie),brushEndCallback:ue}}},ensureAxisBrush:function d(N,H,X){var ne=N.selectAll("."+T.cn.axisBrush).data(P,o);ne.enter().append("g").classed(T.cn.axisBrush,!0),function S(N,H,X){var ne=X._context.staticPlot,ie=N.selectAll(".background").data(P);ie.enter().append("rect").classed("background",!0).call(f).call(c).style("pointer-events",ne?"none":"auto").attr("transform",h(0,T.verticalPadding)),ie.call(w).attr("height",function(j){return j.height-T.verticalPadding});var ue=N.selectAll(".highlight-shadow").data(P);ue.enter().append("line").classed("highlight-shadow",!0).attr("x",-T.bar.width/2).attr("stroke-width",T.bar.width+T.bar.strokeWidth).attr("stroke",H).attr("opacity",T.bar.strokeOpacity).attr("stroke-linecap","butt"),ue.attr("y1",function(j){return j.height}).call(s);var J=N.selectAll(".highlight").data(P);J.enter().append("line").classed("highlight",!0).attr("x",-T.bar.width/2).attr("stroke-width",T.bar.width-T.bar.strokeWidth).attr("stroke",T.bar.fillColor).attr("opacity",T.bar.fillOpacity).attr("stroke-linecap","butt"),J.attr("y1",function(j){return j.height}).call(s)}(ne,H,X)},cleanRanges:function F(N,H){if(Array.isArray(N[0])?(N=N.map(function(ne){return ne.sort(C)}),N=H.multiselect?k(N.sort(n)):[N[0]]):N=[N.sort(C)],H.tickvals){var X=H.tickvals.slice().sort(C);if(!(N=N.map(function(ne){var ie=[i(0,X,ne[0],[]),i(1,X,ne[1],[])];if(ie[1]>ie[0])return ie}).filter(function(ne){return ne})).length)return}return N.length>1?N:N[0]}}},71791:function(te,Y,e){"use strict";te.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(te,Y,e){"use strict";var T=e(39898),D=e(27659).a0,o=e(21341),P=e(77922);Y.name="parcoords",Y.plot=function(C){var h=D(C.calcdata,"parcoords")[0];h.length&&o(C,h)},Y.clean=function(C,h,y,t){var r=t._has&&t._has("parcoords"),l=h._has&&h._has("parcoords");r&&!l&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},Y.toSVG=function(C){var h=C._fullLayout._glimages,y=T.select(C).selectAll(".svg-container");y.filter(function(l,i){return i===y.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function r(){var l=this,i=l.toDataURL("image/png");h.append("svg:image").attr({xmlns:P.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:l.style.width,height:l.style.height})}),window.setTimeout(function(){T.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(te,Y,e){"use strict";var T=e(71828).isArrayOrTypedArray,D=e(21081),o=e(28984).wrap;te.exports=function(h,y){var t,r;return D.hasColorscale(y,"line")&&T(y.line.color)?(t=y.line.color,r=D.extractOpts(y.line).colorscale,D.calc(h,y,{vals:t,containerStr:"line",cLetter:"c"})):(t=function P(C){for(var h=new Array(C),y=0;y<C;y++)h[y]=.5;return h}(y._length),r=[[0,y.line.color],[1,y.line.color]]),o({lineColor:t,cscale:r})}},25706:function(te){"use strict";te.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(te,Y,e){"use strict";var T=e(71828),D=e(52075).hasColorscale,o=e(1586),P=e(27670).c,C=e(85501),h=e(89298),y=e(73362),t=e(57920),r=e(25706).maxDimensionCount,l=e(94397);function u(f,c,m,a){function b(x,E){return T.coerce(f,c,y.dimensions,x,E)}var p=b("values"),s=b("visible");if(p&&p.length||(s=c.visible=!1),s){b("label"),b("tickvals"),b("ticktext"),b("tickformat");var v=b("range");c._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:v},h.setConvert(c._ax,a.layout),b("multiselect");var A=b("constraintrange");A&&(c.constraintrange=t.cleanRanges(A,c))}}te.exports=function(c,m,a,b){function p(E,g){return T.coerce(c,m,y,E,g)}var s=c.dimensions;Array.isArray(s)&&s.length>r&&(T.log("parcoords traces support up to "+r+" dimensions at the moment"),s.splice(r));var v=C(c,m,{name:"dimensions",layout:b,handleItemDefaults:u}),A=function i(f,c,m,a,b){var p=b("line.color",m);if(D(f,"line")&&T.isArrayOrTypedArray(p)){if(p.length)return b("line.colorscale"),o(f,c,a,b,{prefix:"line.",cLetter:"c"}),p.length;c.line.color=m}return 1/0}(c,m,a,b,p);P(m,b,p),(!Array.isArray(v)||!v.length)&&(m.visible=!1),l(m,v,"values",A);var x={family:b.font.family,size:Math.round(b.font.size/1.2),color:b.font.color};T.coerceFont(p,"labelfont",x),T.coerceFont(p,"tickfont",x),T.coerceFont(p,"rangefont",x),p("labelangle"),p("labelside"),p("unselected.line.color"),p("unselected.line.opacity")}},1602:function(te,Y,e){"use strict";var T=e(71828).isTypedArray;Y.convertTypedArray=function(D){return T(D)?Array.prototype.slice.call(D):D},Y.isOrdinal=function(D){return!!D.tickvals},Y.isVisible=function(D){return D.visible||!("visible"in D)}},67618:function(te,Y,e){"use strict";var T=e(71791);T.plot=e(21341),te.exports=T},83398:function(te,Y,e){"use strict";var T=e(56068),D=T(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\nuniform sampler2D maskTexture, palette;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(maskTexture,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),o=T(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),P=e(25706).maxDimensionCount,C=e(71828),h=1e-6,y=2048,t=new Uint8Array(4),r=new Uint8Array(4),l={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function u(M,w,n,S,d){var I=M._gl;I.enable(I.SCISSOR_TEST),I.scissor(w,n,S,d),M.clear({color:[0,0,0,0],depth:1})}function f(M,w,n,S,d,I){var L=I.key;n.drawCompleted||(function i(M){M.read({x:0,y:0,width:1,height:1,data:t})}(M),n.drawCompleted=!0),function B(k){var z=Math.min(S,d-k*S);0===k&&(window.cancelAnimationFrame(n.currentRafs[L]),delete n.currentRafs[L],u(M,I.scissorX,I.scissorY,I.scissorWidth,I.viewBoxSize[1])),!n.clearOnly&&(I.count=2*z,I.offset=2*k*S,w(I),k*S+z<d&&(n.currentRafs[L]=window.requestAnimationFrame(function(){B(k+1)})),n.drawCompleted=!1)}(0)}function c(M){return Math.max(h,Math.min(1-h,M))}function m(M,w){for(var n=new Array(256),S=0;S<256;S++)n[S]=M(S/255).concat(w);return n}function a(M,w){return(M>>>8*w)%256/255}function p(M,w,n){for(var S=new Array(8*w),d=0,I=0;I<w;I++)for(var L=0;L<2;L++)for(var B=0;B<4;B++){var k=4*M+B,z=n[64*I+k];63===k&&0===L&&(z*=-1),S[d++]=z}return S}function s(M){var w="0"+M;return w.substr(w.length-2)}function v(M){return M<P?"p"+s(M+1)+"_"+s(M+4):"colors"}function E(M,w,n,S,d,I,L,B,k,z,O,F,N,H){for(var X=[[],[]],ne=0;ne<64;ne++)X[0][ne]=ne===d?1:0,X[1][ne]=ne===I?1:0;var ie=M.lines.canvasOverdrag*H,ue=M.domain,J=M.canvasWidth*H,j=M.canvasHeight*H,W=M.pad.l*H,V=M.pad.b*H,K=M.layoutHeight*H,ae=M.layoutWidth*H,Q=M.deselectedLines.color,Z=M.deselectedLines.opacity;return C.extendFlat({key:O,resolution:[J,j],viewBoxPos:[(L*=H)+ie,B*=H],viewBoxSize:[k*=H,z*=H],i0:d,i1:I,dim0A:X[0].slice(0,16),dim0B:X[0].slice(16,32),dim0C:X[0].slice(32,48),dim0D:X[0].slice(48,64),dim1A:X[1].slice(0,16),dim1B:X[1].slice(16,32),dim1C:X[1].slice(32,48),dim1D:X[1].slice(48,64),drwLayer:F,contextColor:[Q[0]/255,Q[1]/255,Q[2]/255,"auto"!==Z?Q[3]*Z:Math.max(1/255,Math.pow(1/M.lines.color.length,1/3))],scissorX:(S===w?0:L+ie)+(W-ie)+ae*ue.x[0],scissorWidth:(S===n?J-L+ie:k+.5)+(S===w?L+ie:0),scissorY:B+V+K*ue.y[0],scissorHeight:z,viewportX:W-ie+ae*ue.x[0],viewportY:V+K*ue.y[0],viewportWidth:J,viewportHeight:j},N)}function g(M){var w=y-1,n=Math.max(0,Math.floor(M[0]*w),0),S=Math.min(w,Math.ceil(M[1]*w),w);return[Math.min(n,S),Math.max(n,S)]}te.exports=function(M,w){var z,F,N,X,n=w.context,S=w.pick,d=w.regl,I=d._gl,L=I.getParameter(I.ALIASED_LINE_WIDTH_RANGE),B=Math.max(L[0],Math.min(L[1],w.viewModel.plotGlPixelRatio)),k={currentRafs:{},drawCompleted:!0,clearOnly:!1},H=function x(M){for(var w={},n=0;n<=P;n+=4)w[v(n)]=M.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return w}(d),ne=d.texture(l),ie=[];J(w);var ue=d({profile:!1,blend:{enable:n,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!n,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:d.prop("scissorX"),y:d.prop("scissorY"),width:d.prop("scissorWidth"),height:d.prop("scissorHeight")}},viewport:{x:d.prop("viewportX"),y:d.prop("viewportY"),width:d.prop("viewportWidth"),height:d.prop("viewportHeight")},dither:!1,vert:D,frag:o,primitive:"lines",lineWidth:B,attributes:H,uniforms:{resolution:d.prop("resolution"),viewBoxPos:d.prop("viewBoxPos"),viewBoxSize:d.prop("viewBoxSize"),dim0A:d.prop("dim0A"),dim1A:d.prop("dim1A"),dim0B:d.prop("dim0B"),dim1B:d.prop("dim1B"),dim0C:d.prop("dim0C"),dim1C:d.prop("dim1C"),dim0D:d.prop("dim0D"),dim1D:d.prop("dim1D"),loA:d.prop("loA"),hiA:d.prop("hiA"),loB:d.prop("loB"),hiB:d.prop("hiB"),loC:d.prop("loC"),hiC:d.prop("hiC"),loD:d.prop("loD"),hiD:d.prop("hiD"),palette:ne,contextColor:d.prop("contextColor"),maskTexture:d.prop("maskTexture"),drwLayer:d.prop("drwLayer"),maskHeight:d.prop("maskHeight")},offset:d.prop("offset"),count:d.prop("count")});function J(Q){z=Q.model,F=Q.viewModel.dimensions.slice(),N=F[0]?F[0].values.length:0;var Z=z.lines,re=S?Z.color.map(function(se,de){return de/Z.color.length}):Z.color,q=function b(M,w,n){for(var S=new Array(M*(P+4)),d=0,I=0;I<M;I++){for(var L=0;L<P;L++)S[d++]=L<w.length?w[L].paddedUnitValues[I]:.5;S[d++]=a(I,2),S[d++]=a(I,1),S[d++]=a(I,0),S[d++]=c(n[I])}return S}(N,F,re);(function A(M,w,n){for(var S=0;S<=P;S+=4)M[v(S)](p(S/4,w,n))})(H,N,q),!n&&!S&&(ne=d.texture(C.extendFlat({data:m(z.unitToColor,255)},l)))}return{render:function W(Q,Z,re){var se,de,we,q=Q.length,ye=1/0,Pe=-1/0;for(se=0;se<q;se++)Q[se].dim0.canvasX<ye&&(ye=Q[se].dim0.canvasX,de=se),Q[se].dim1.canvasX>Pe&&(Pe=Q[se].dim1.canvasX,we=se);0===q&&u(d,0,0,z.canvasWidth,z.canvasHeight);var Ie=function j(Q){var Z,re,q,se=[[],[]];for(q=0;q<64;q++){var de=!Q&&q<F.length?F[q].brush.filter.getBounds():[-1/0,1/0];se[0][q]=de[0],se[1][q]=de[1]}var ye=new Array(16384);for(Z=0;Z<16384;Z++)ye[Z]=255;if(!Q)for(Z=0;Z<F.length;Z++){var Pe=Z%8,Ie=(Z-Pe)/8,Se=Math.pow(2,Pe),Me=F[Z].brush.filter.get();if(!(Me.length<2)){var Ge=g(Me[0])[1];for(re=1;re<Me.length;re++){var Ye=g(Me[re]);for(q=Ge+1;q<Ye[0];q++)ye[8*q+Ie]&=~Se;Ge=Math.max(Ge,Ye[1])}}}var De={shape:[8,y],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:ye};return X?X(De):X=d.texture(De),{maskTexture:X,maskHeight:y,loA:se[0].slice(0,16),loB:se[0].slice(16,32),loC:se[0].slice(32,48),loD:se[0].slice(48,64),hiA:se[1].slice(0,16),hiB:se[1].slice(16,32),hiC:se[1].slice(32,48),hiD:se[1].slice(48,64)}}(n);for(se=0;se<q;se++){var Se=Q[se],xe=Se.dim0.crossfilterDimensionIndex,Me=Se.dim1.crossfilterDimensionIndex,Ge=Se.canvasX,Ye=Se.canvasY,De=Ge+Se.panelSizeX,He=Se.plotGlPixelRatio;if(Z||!ie[xe]||ie[xe][0]!==Ge||ie[xe][1]!==De){ie[xe]=[Ge,De];var rt=E(z,de,we,se,xe,Me,Ge,Ye,Se.panelSizeX,Se.panelSizeY,Se.dim0.crossfilterDimensionIndex,n?0:S?2:1,Ie,He);k.clearOnly=re,f(d,ue,k,Z?z.lines.blockLineCount:N,N,rt)}}},readPixel:function V(Q,Z){return d.read({x:Q,y:Z,width:1,height:1,data:r}),r},readPixels:function K(Q,Z,re,q){var se=new Uint8Array(4*re*q);return d.read({x:Q,y:Z,width:re,height:q,data:se}),se},destroy:function ae(){for(var Q in M.style["pointer-events"]="none",ne.destroy(),X&&X.destroy(),H)H[Q].destroy()},update:J}}},94397:function(te){"use strict";te.exports=function(Y,e,T,D){var o,P;for(D||(D=1/0),o=0;o<e.length;o++)(P=e[o]).visible&&(D=Math.min(D,P[T].length));for(D===1/0&&(D=0),Y._length=D,o=0;o<e.length;o++)(P=e[o]).visible&&(P._length=D);return D}},17171:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=D.numberFormat,P=e(36652),C=e(89298),h=D.strRotate,y=D.strTranslate,t=e(63893),r=e(91424),l=e(21081),i=e(28984),u=i.keyFun,f=i.repeat,c=i.unwrap,m=e(1602),a=e(25706),b=e(57920),p=e(83398);function s(X,ne,ie){return D.aggNums(X,null,ne,ie)}function v(X,ne){return x(s(Math.min,X,ne),s(Math.max,X,ne))}function A(X){var ne=X.range;return ne?x(ne[0],ne[1]):v(X.values,X._length)}function x(X,ne){return(isNaN(X)||!isFinite(X))&&(X=0),(isNaN(ne)||!isFinite(ne))&&(ne=0),X===ne&&(0===X?(X-=1,ne+=1):(X*=.9,ne*=1.1)),[X,ne]}function g(X,ne,ie,ue,J){var j=A(ie);return ue?T.scale.ordinal().domain(ue.map(function E(X,ne){return ne?function(ie,ue){return ne[ue]??X(ie)}:X}(o(ie.tickformat),J))).range(ue.map(function(W){return X-ne+(W-j[0])/(j[1]-j[0])*(2*ne-X)})):T.scale.linear().domain(j).range([X-ne,ne])}function n(X){if(X.tickvals){var ne=A(X);return T.scale.ordinal().domain(X.tickvals).range(X.tickvals.map(function(ie){return(ie-ne[0])/(ne[1]-ne[0])}))}}function S(X){var ne=X.map(function(j){return j[0]}),ie=X.map(function(j){var W=P(j[1]);return T.rgb("rgb("+W[0]+","+W[1]+","+W[2]+")")}),J="rgb".split("").map(function(j){return T.scale.linear().clamp(!0).domain(ne).range(ie.map(function(j){return function(W){return W[j]}}(j)))});return function(j){return J.map(function(W){return W(j)})}}function d(X){return X.dimensions.some(function(ne){return ne.brush.filterSpecified})}function I(X,ne,ie){var ue=c(ne),J=ue.trace,j=m.convertTypedArray(ue.lineColor),W=J.line,V={color:P(J.unselected.line.color),opacity:J.unselected.line.opacity},K=l.extractOpts(W),ae=K.reversescale?l.flipScale(ue.cscale):ue.cscale,Q=J.domain,Z=J.dimensions,re=X.width,q=J.labelangle,se=J.labelside,de=J.labelfont,we=J.tickfont,ye=J.rangefont,Pe=D.extendDeepNoArrays({},W,{color:j.map(T.scale.linear().domain(A({values:j,range:[K.min,K.max],_length:J._length}))),blockLineCount:a.blockLineCount,canvasOverdrag:a.overdrag*a.canvasPixelRatio}),Ie=Math.floor(re*(Q.x[1]-Q.x[0])),Se=Math.floor(X.height*(Q.y[1]-Q.y[0])),xe=X.margin||{l:80,r:80,t:100,b:80},Me=Ie,Ge=Se;return{key:ie,colCount:Z.filter(m.isVisible).length,dimensions:Z,tickDistance:a.tickDistance,unitToColor:S(ae),lines:Pe,deselectedLines:V,labelAngle:q,labelSide:se,labelFont:de,tickFont:we,rangeFont:ye,layoutWidth:re,layoutHeight:X.height,domain:Q,translateX:Q.x[0]*re,translateY:X.height-Q.y[1]*X.height,pad:xe,canvasWidth:Me*a.canvasPixelRatio+2*Pe.canvasOverdrag,canvasHeight:Ge*a.canvasPixelRatio,width:Me,height:Ge,canvasPixelRatio:a.canvasPixelRatio}}function L(X,ne,ie){var ue=ie.width,J=ie.height,j=ie.dimensions,W=ie.canvasPixelRatio,V=function(re){return ue*re/Math.max(1,ie.colCount-1)},K=a.verticalPadding/J,ae=function M(X,ne){return T.scale.linear().range([ne,X-ne])}(J,a.verticalPadding),Q={key:ie.key,xScale:V,model:ie,inBrushDrag:!1},Z={};return Q.dimensions=j.filter(m.isVisible).map(function(re,q){var se=function w(X,ne){return T.scale.linear().domain(A(X)).range([ne,1-ne])}(re,K),de=Z[re.label];Z[re.label]=(de||0)+1;var we=re.label+(de?"__"+de:""),ye=re.constraintrange,Pe=ye&&ye.length;Pe&&!Array.isArray(ye[0])&&(ye=[ye]);var Ie=Pe?ye.map(function(Be){return Be.map(se)}):[[-1/0,1/0]],xe=re.values;xe.length>re._length&&(xe=xe.slice(0,re._length));var Ge,Me=re.tickvals;function Ye(Be,ze){return{val:Be,text:Ge[ze]}}function De(Be,ze){return Be.val-ze.val}if(Array.isArray(Me)&&Me.length){Ge=re.ticktext,Array.isArray(Ge)&&Ge.length?Ge.length>Me.length?Ge=Ge.slice(0,Me.length):Me.length>Ge.length&&(Me=Me.slice(0,Ge.length)):Ge=Me.map(o(re.tickformat));for(var He=1;He<Me.length;He++)if(Me[He]<Me[He-1]){for(var rt=Me.map(Ye).sort(De),$e=0;$e<Me.length;$e++)Me[$e]=rt[$e].val,Ge[$e]=rt[$e].text;break}}else Me=void 0;return xe=m.convertTypedArray(xe),{key:we,label:re.label,tickFormat:re.tickformat,tickvals:Me,ticktext:Ge,ordinal:m.isOrdinal(re),multiselect:re.multiselect,xIndex:q,crossfilterDimensionIndex:q,visibleIndex:re._index,height:J,values:xe,paddedUnitValues:xe.map(se),unitTickvals:Me&&Me.map(se),xScale:V,x:V(q),canvasX:V(q)*W,unitToPaddedPx:ae,domainScale:g(J,a.verticalPadding,re,Me,Ge),ordinalScale:n(re),parent:Q,model:ie,brush:b.makeBrush(X,Pe,Ie,function(){X.linePickActive(!1)},function(){var Be=Q;Be.focusLayer&&Be.focusLayer.render(Be.panels,!0);var ze=d(Be);!X.contextShown()&&ze?(Be.contextLayer&&Be.contextLayer.render(Be.panels,!0),X.contextShown(!0)):X.contextShown()&&!ze&&(Be.contextLayer&&Be.contextLayer.render(Be.panels,!0,!0),X.contextShown(!1))},function(Be){if(Q.focusLayer.render(Q.panels,!0),Q.pickLayer&&Q.pickLayer.render(Q.panels,!0),X.linePickActive(!0),ne&&ne.filterChanged){var ze=se.invert,tt=Be.map(function(lt){return lt.map(ze).sort(D.sorterAsc)}).sort(function(lt,ut){return lt[0]-ut[0]});ne.filterChanged(Q.key,re._index,tt)}})}}),Q}function B(X){X.classed(a.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function z(X,ne){var ue=X*Math.PI/180;return{dir:"top"===ne?1:-1,dx:Math.sin(ue),dy:Math.cos(ue),degrees:X}}function O(X,ne,ie){for(var ue=ne.panels||(ne.panels=[]),J=X.data(),j=0;j<J.length-1;j++){var W=ue[j]||(ue[j]={}),V=J[j],K=J[j+1];W.dim0=V,W.dim1=K,W.canvasX=V.canvasX,W.panelSizeX=K.canvasX-V.canvasX,W.panelSizeY=ne.model.canvasHeight,W.y=0,W.canvasY=0,W.plotGlPixelRatio=ie}}function N(X,ne){return C.tickText(X._ax,ne,!1).text}function H(X,ne){if(X.ordinal)return"";var ie=X.domainScale.domain();return N(X.model.dimensions[X.visibleIndex],ie[ne?ie.length-1:0])}te.exports=function(ne,ie,ue,J){var j=ne._context.staticPlot,W=ne._fullLayout,V=W._toppaper,K=W._glcontainer,ae=ne._context.plotGlPixelRatio,Q=ne._fullLayout.paper_bgcolor;!function F(X){for(var ne=0;ne<X.length;ne++)for(var ie=0;ie<X[ne].length;ie++)for(var ue=X[ne][ie].trace,J=ue.dimensions,j=0;j<J.length;j++){var W=J[j].values,V=J[j]._ax;V&&(V.range=V.range?x(V.range[0],V.range[1]):v(W,ue._length),V.dtick||(V.dtick=.01*(Math.abs(V.range[1]-V.range[0])||1)),V.tickformat=J[j].tickformat,C.calcTicks(V),V.cleanRange())}}(ie);var Z=function k(){var X=!0,ne=!1;return{linePickActive:function(ie){return arguments.length?X=!!ie:X},contextShown:function(ie){return arguments.length?ne=!!ie:ne}}}(),re=ie.filter(function($e){return c($e).trace.visible}).map(I.bind(0,ue)).map(L.bind(0,Z,J));K.each(function($e,Be){return D.extendFlat($e,re[Be])});var q=K.selectAll(".gl-canvas").each(function($e){$e.viewModel=re[0],$e.viewModel.plotGlPixelRatio=ae,$e.viewModel.paperColor=Q,$e.model=$e.viewModel?$e.viewModel.model:null}),se=null;q.filter(function($e){return $e.pick}).style("pointer-events",j?"none":"auto").on("mousemove",function($e){if(Z.linePickActive()&&$e.lineLayer&&J&&J.hover){var Be=T.event,ze=this.width,tt=this.height,lt=T.mouse(this),ut=lt[0],xt=lt[1];if(ut<0||xt<0||ut>=ze||xt>=tt)return;var bt=$e.lineLayer.readPixel(ut,tt-1-xt),Ht=0!==bt[3],Je=Ht?bt[2]+256*(bt[1]+256*bt[0]):null,Ce={x:ut,y:xt,clientX:Be.clientX,clientY:Be.clientY,dataIndex:$e.model.key,curveNumber:Je};Je!==se&&(Ht?J.hover(Ce):J.unhover&&J.unhover(Ce),se=Je)}}),q.style("opacity",function($e){return $e.pick?0:1}),V.style("background","rgba(255, 255, 255, 0)");var we=V.selectAll("."+a.cn.parcoords).data(re,u);we.exit().remove(),we.enter().append("g").classed(a.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),we.attr("transform",function($e){return y($e.model.translateX,$e.model.translateY)});var ye=we.selectAll("."+a.cn.parcoordsControlView).data(f,u);ye.enter().append("g").classed(a.cn.parcoordsControlView,!0),ye.attr("transform",function($e){return y($e.model.pad.l,$e.model.pad.t)});var Pe=ye.selectAll("."+a.cn.yAxis).data(function($e){return $e.dimensions},u);Pe.enter().append("g").classed(a.cn.yAxis,!0),ye.each(function($e){O(Pe,$e,ae)}),q.each(function($e){$e.viewModel&&(!$e.lineLayer||J?$e.lineLayer=p(this,$e):$e.lineLayer.update($e),($e.key||0===$e.key)&&($e.viewModel[$e.key]=$e.lineLayer),$e.lineLayer.render($e.viewModel.panels,!$e.context||J))}),Pe.attr("transform",function($e){return y($e.xScale($e.xIndex),0)}),Pe.call(T.behavior.drag().origin(function($e){return $e}).on("drag",function($e){var Be=$e.parent;Z.linePickActive(!1),$e.x=Math.max(-a.overdrag,Math.min($e.model.width+a.overdrag,T.event.x)),$e.canvasX=$e.x*$e.model.canvasPixelRatio,Pe.sort(function(ze,tt){return ze.x-tt.x}).each(function(ze,tt){ze.xIndex=tt,ze.x=$e===ze?ze.x:ze.xScale(ze.xIndex),ze.canvasX=ze.x*ze.model.canvasPixelRatio}),O(Pe,Be,ae),Pe.filter(function(ze){return 0!==Math.abs($e.xIndex-ze.xIndex)}).attr("transform",function(ze){return y(ze.xScale(ze.xIndex),0)}),T.select(this).attr("transform",y($e.x,0)),Pe.each(function(ze,tt,lt){lt===$e.parent.key&&(Be.dimensions[tt]=ze)}),Be.contextLayer&&Be.contextLayer.render(Be.panels,!1,!d(Be)),Be.focusLayer.render&&Be.focusLayer.render(Be.panels)}).on("dragend",function($e){var Be=$e.parent;$e.x=$e.xScale($e.xIndex),$e.canvasX=$e.x*$e.model.canvasPixelRatio,O(Pe,Be,ae),T.select(this).attr("transform",function(ze){return y(ze.x,0)}),Be.contextLayer&&Be.contextLayer.render(Be.panels,!1,!d(Be)),Be.focusLayer&&Be.focusLayer.render(Be.panels),Be.pickLayer&&Be.pickLayer.render(Be.panels,!0),Z.linePickActive(!0),J&&J.axesMoved&&J.axesMoved(Be.key,Be.dimensions.map(function(ze){return ze.crossfilterDimensionIndex}))})),Pe.exit().remove();var Ie=Pe.selectAll("."+a.cn.axisOverlays).data(f,u);Ie.enter().append("g").classed(a.cn.axisOverlays,!0),Ie.selectAll("."+a.cn.axis).remove();var Se=Ie.selectAll("."+a.cn.axis).data(f,u);Se.enter().append("g").classed(a.cn.axis,!0),Se.each(function($e){var Be=$e.model.height/$e.model.tickDistance,ze=$e.domainScale,tt=ze.domain();T.select(this).call(T.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Be,$e.tickFormat).tickValues($e.ordinal?tt:null).tickFormat(function(lt){return m.isOrdinal($e)?lt:N($e.model.dimensions[$e.visibleIndex],lt)}).scale(ze)),r.font(Se.selectAll("text"),$e.model.tickFont)}),Se.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Se.selectAll("text").style("text-shadow",t.makeTextShadow(Q)).style("cursor","default");var xe=Ie.selectAll("."+a.cn.axisHeading).data(f,u);xe.enter().append("g").classed(a.cn.axisHeading,!0);var Me=xe.selectAll("."+a.cn.axisTitle).data(f,u);Me.enter().append("text").classed(a.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",j?"none":"auto"),Me.text(function($e){return $e.label}).each(function($e){var Be=T.select(this);r.font(Be,$e.model.labelFont),t.convertToTspans(Be,ne)}).attr("transform",function($e){var Be=z($e.model.labelAngle,$e.model.labelSide),ze=a.axisTitleOffset;return(Be.dir>0?"":y(0,2*ze+$e.model.height))+h(Be.degrees)+y(-ze*Be.dx,-ze*Be.dy)}).attr("text-anchor",function($e){var Be=z($e.model.labelAngle,$e.model.labelSide);return 2*Math.abs(Be.dx)>Math.abs(Be.dy)?Be.dir*Be.dx<0?"start":"end":"middle"});var Ge=Ie.selectAll("."+a.cn.axisExtent).data(f,u);Ge.enter().append("g").classed(a.cn.axisExtent,!0);var Ye=Ge.selectAll("."+a.cn.axisExtentTop).data(f,u);Ye.enter().append("g").classed(a.cn.axisExtentTop,!0),Ye.attr("transform",y(0,-a.axisExtentOffset));var De=Ye.selectAll("."+a.cn.axisExtentTopText).data(f,u);De.enter().append("text").classed(a.cn.axisExtentTopText,!0).call(B),De.text(function($e){return H($e,!0)}).each(function($e){r.font(T.select(this),$e.model.rangeFont)});var He=Ge.selectAll("."+a.cn.axisExtentBottom).data(f,u);He.enter().append("g").classed(a.cn.axisExtentBottom,!0),He.attr("transform",function($e){return y(0,$e.model.height+a.axisExtentOffset)});var rt=He.selectAll("."+a.cn.axisExtentBottomText).data(f,u);rt.enter().append("text").classed(a.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(B),rt.text(function($e){return H($e,!1)}).each(function($e){r.font(T.select(this),$e.model.rangeFont)}),b.ensureAxisBrush(Ie,Q,ne)}},21341:function(te,Y,e){"use strict";var T=e(17171),D=e(79749),o=e(1602).isVisible,P={};function C(t,r,l){var i=r.indexOf(l),u=t.indexOf(i);return-1===u&&(u+=r.length),u}(te.exports=function(r,l){var i=r._fullLayout;if(D(r,[],P)){var f={},c={},m={},a={},b=i._size;l.forEach(function(x,E){var g=x[0].trace;m[E]=g.index;var M=a[E]=g._fullInput.index;f[E]=r.data[M].dimensions,c[E]=r.data[M].dimensions.slice()}),T(r,l,{width:b.w,height:b.h,margin:{t:b.t,r:b.r,b:b.b,l:b.l}},{filterChanged:function(x,E,g){var M=c[x][E],w=g.map(function(B){return B.slice()}),n="dimensions["+E+"].constraintrange",S=i._tracePreGUI[r._fullData[m[x]]._fullInput.uid];void 0===S[n]&&(S[n]=M.constraintrange||null);var I=r._fullData[m[x]].dimensions[E];w.length?(1===w.length&&(w=w[0]),M.constraintrange=w,I.constraintrange=w.slice(),w=[w]):(delete M.constraintrange,delete I.constraintrange,w=null);var L={};L[n]=w,r.emit("plotly_restyle",[L,[a[x]]])},hover:function(x){r.emit("plotly_hover",x)},unhover:function(x){r.emit("plotly_unhover",x)},axesMoved:function(x,E){var g=function h(t,r){return function(i,u){return C(t,r,i)-C(t,r,u)}}(E,c[x].filter(o));f[x].sort(g),c[x].filter(function(M){return!o(M)}).sort(function(M){return c[x].indexOf(M)}).forEach(function(M){f[x].splice(f[x].indexOf(M),1),f[x].splice(c[x].indexOf(M),0,M)}),r.emit("plotly_restyle",[{dimensions:[f[x]]},[a[x]]])}})}}).reglPrecompiled=P},34e3:function(te,Y,e){"use strict";var T=e(9012),D=e(27670).Y,o=e(41940),P=e(22399),C=e(5386).fF,h=e(5386).si,y=e(1426).extendFlat,t=e(79952).u,r=o({editType:"plot",arrayOk:!0,colorEditType:"plot"});te.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:P.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:y({},T.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","percent","text"]}),texttemplate:h({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:y({},r,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:y({},r,{}),outsidetextfont:y({},r,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:y({},r,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:D({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:y({},r,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(te,Y,e){"use strict";var T=e(74875);Y.name="pie",Y.plot=function(D,o,P,C){T.plotBasePlot(Y.name,D,o,P,C)},Y.clean=function(D,o,P,C){T.cleanBasePlot(Y.name,D,o,P,C)}},32354:function(te,Y,e){"use strict";var T=e(92770),D=e(84267),o=e(7901),P={};function h(r){return function(i,u){return!(!i||(i=D(i),!i.isValid()))&&(i=o.addOpacity(i,i.getAlpha()),r[u]||(r[u]=i),i)}}function t(r,l){var i,u=JSON.stringify(r),f=l[u];if(!f){for(f=r.slice(),i=0;i<r.length;i++)f.push(D(r[i]).lighten(20).toHexString());for(i=0;i<r.length;i++)f.push(D(r[i]).darken(20).toHexString());l[u]=f}return f}te.exports={calc:function C(r,l){var s,v,i=[],u=r._fullLayout,f=u.hiddenlabels||[],c=l.labels,m=l.marker.colors||[],a=l.values,b=l._length,p=l._hasValues&&b;if(l.dlabel)for(c=new Array(b),s=0;s<b;s++)c[s]=String(l.label0+s*l.dlabel);var A={},x=h(u["_"+l.type+"colormap"]),E=0,g=!1;for(s=0;s<b;s++){var M,w,n;if(p){if(!T(M=a[s]))continue;M=+M}else M=1;(void 0===(w=c[s])||""===w)&&(w=s);var S=A[w=String(w)];void 0===S?(A[w]=i.length,(n=-1!==f.indexOf(w))||(E+=M),i.push({v:M,label:w,color:x(m[s],w),i:s,pts:[s],hidden:n})):(g=!0,(v=i[S]).v+=M,v.pts.push(s),v.hidden||(E+=M),!1===v.color&&m[s]&&(v.color=x(m[s],w)))}return i=i.filter(function(I){return I.v>=0}),("funnelarea"===l.type?g:l.sort)&&i.sort(function(I,L){return L.v-I.v}),i[0]&&(i[0].vTotal=E),i},crossTraceCalc:function y(r,l){var i=(l||{}).type;i||(i="pie");var u=r._fullLayout,f=r.calcdata,c=u[i+"colorway"],m=u["_"+i+"colormap"];u["extend"+i+"colors"]&&(c=t(c,P));for(var a=0,b=0;b<f.length;b++){var p=f[b];if(p[0].trace.type===i)for(var v=0;v<p.length;v++){var A=p[v];!1===A.color&&(m[A.label]?A.color=m[A.label]:(m[A.label]=A.color=c[a%c.length],a++))}}},makePullColorFn:h,generateExtendedColors:t}},37434:function(te,Y,e){"use strict";var T=e(92770),D=e(71828),o=e(34e3),P=e(27670).c,C=e(90769).handleText,h=e(71828).coercePattern;function y(l,i){var u=Array.isArray(l),f=D.isArrayOrTypedArray(i),c=Math.min(u?l.length:1/0,f?i.length:1/0);if(isFinite(c)||(c=0),c&&f){for(var m,a=0;a<c;a++){var b=i[a];if(T(b)&&b>0){m=!0;break}}m||(c=0)}return{hasLabels:u,hasValues:f,len:c}}function t(l,i,u,f,c){f("marker.line.width")&&f("marker.line.color",c?void 0:u.paper_bgcolor);var a=f("marker.colors");h(f,"marker.pattern",a),l.marker&&!i.marker.pattern.fgcolor&&(i.marker.pattern.fgcolor=l.marker.colors),i.marker.pattern.bgcolor||(i.marker.pattern.bgcolor=u.paper_bgcolor)}te.exports={handleLabelsAndValues:y,handleMarkerDefaults:t,supplyDefaults:function r(l,i,u,f){function c(S,d){return D.coerce(l,i,o,S,d)}var b=y(c("labels"),c("values")),p=b.len;if(i._hasLabels=b.hasLabels,i._hasValues=b.hasValues,!i._hasLabels&&i._hasValues&&(c("label0"),c("dlabel")),p){i._length=p,t(l,i,f,c,!0),c("scalegroup");var A,s=c("text"),v=c("texttemplate");if(v||(A=c("textinfo",Array.isArray(s)?"text+percent":"percent")),c("hovertext"),c("hovertemplate"),v||A&&"none"!==A){var x=c("textposition");C(l,i,f,c,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(x)||"auto"===x||"outside"===x)&&c("automargin"),("inside"===x||"auto"===x||Array.isArray(x))&&c("insidetextorientation")}P(i,f,c);var M=c("hole");if(c("title.text")){var n=c("title.position",M?"middle center":"top center");!M&&"middle center"===n&&(i.title.position="top center"),D.coerceFont(c,"title.font",f.font)}c("sort"),c("direction"),c("rotation"),c("pull")}else i.visible=!1}}},20007:function(te,Y,e){"use strict";var T=e(23469).appendArrayMultiPointValues;te.exports=function(o,P){var C={curveNumber:P.index,pointNumbers:o.pts,data:P._input,fullData:P,label:o.label,color:o.color,value:o.v,percent:o.percent,text:o.text,bbox:o.bbox,v:o.v};return 1===o.pts.length&&(C.pointNumber=C.i=o.pts[0]),T(C,P,o.pts),"funnelarea"===P.type&&(delete C.v,delete C.i),C}},22209:function(te,Y,e){"use strict";var T=e(91424),D=e(7901);te.exports=function(P,C,h,y){var t=h.marker.pattern;t&&t.shape?T.pointStyle(P,h,y,C):D.fill(P,C.color)}},53581:function(te,Y,e){"use strict";var T=e(71828);function D(o){return-1!==o.indexOf("e")?o.replace(/[.]?0+e/,"e"):-1!==o.indexOf(".")?o.replace(/[.]?0+$/,""):o}Y.formatPiePercent=function(P,C){var h=D((100*P).toPrecision(3));return T.numSeparate(h,C)+"%"},Y.formatPieValue=function(P,C){var h=D(P.toPrecision(10));return T.numSeparate(h,C)},Y.getFirstFilled=function(P,C){if(Array.isArray(P))for(var h=0;h<C.length;h++){var y=P[C[h]];if(y||0===y||""===y)return y}},Y.castOption=function(P,C){return Array.isArray(P)?Y.getFirstFilled(P,C):P||void 0},Y.getRotationAngle=function(o){return("auto"===o?0:o)*Math.PI/180}},58810:function(te,Y,e){"use strict";te.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(te){"use strict";te.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(te,Y,e){"use strict";var T=e(71828),D=e(92774);te.exports=function(P,C){function h(y,t){return T.coerce(P,C,D,y,t)}h("hiddenlabels"),h("piecolorway",C.colorway),h("extendpiecolors")}},14575:function(te,Y,e){"use strict";var T=e(39898),D=e(74875),o=e(30211),P=e(7901),C=e(91424),h=e(71828),y=h.strScale,t=h.strTranslate,r=e(63893),l=e(72597),i=l.recordMinTextSize,u=l.clearMinTextSize,f=e(97313).TEXTPAD,c=e(53581),m=e(20007),a=e(71828).isValidTextValue;function s(j,W,V){var K=V[0],ae=K.cx,Q=K.cy,Z=K.trace,re="funnelarea"===Z.type;"_hasHoverLabel"in Z||(Z._hasHoverLabel=!1),"_hasHoverEvent"in Z||(Z._hasHoverEvent=!1),j.on("mouseover",function(q){var se=W._fullLayout,de=W._fullData[Z.index];if(!W._dragging&&!1!==se.hovermode){var we=de.hoverinfo;if(Array.isArray(we)&&(we=o.castHoverinfo({hoverinfo:[c.castOption(we,q.pts)],_module:Z._module},se,0)),"all"===we&&(we="label+text+value+percent+name"),de.hovertemplate||"none"!==we&&"skip"!==we&&we){var ye=q.rInscribed||0,Pe=ae+q.pxmid[0]*(1-ye),Ie=Q+q.pxmid[1]*(1-ye),Se=se.separators,xe=[];if(we&&-1!==we.indexOf("label")&&xe.push(q.label),q.text=c.castOption(de.hovertext||de.text,q.pts),we&&-1!==we.indexOf("text")){var Me=q.text;h.isValidTextValue(Me)&&xe.push(Me)}q.value=q.v,q.valueLabel=c.formatPieValue(q.v,Se),we&&-1!==we.indexOf("value")&&xe.push(q.valueLabel),q.percent=q.v/K.vTotal,q.percentLabel=c.formatPiePercent(q.percent,Se),we&&-1!==we.indexOf("percent")&&xe.push(q.percentLabel);var Ge=de.hoverlabel,Ye=Ge.font,De=[];o.loneHover({trace:Z,x0:Pe-ye*K.r,x1:Pe+ye*K.r,y:Ie,_x0:re?ae+q.TL[0]:Pe-ye*K.r,_x1:re?ae+q.TR[0]:Pe+ye*K.r,_y0:re?Q+q.TL[1]:Ie-ye*K.r,_y1:re?Q+q.BL[1]:Ie+ye*K.r,text:xe.join("<br>"),name:de.hovertemplate||-1!==we.indexOf("name")?de.name:void 0,idealAlign:q.pxmid[0]<0?"left":"right",color:c.castOption(Ge.bgcolor,q.pts)||q.color,borderColor:c.castOption(Ge.bordercolor,q.pts),fontFamily:c.castOption(Ye.family,q.pts),fontSize:c.castOption(Ye.size,q.pts),fontColor:c.castOption(Ye.color,q.pts),nameLength:c.castOption(Ge.namelength,q.pts),textAlign:c.castOption(Ge.align,q.pts),hovertemplate:c.castOption(de.hovertemplate,q.pts),hovertemplateLabels:q,eventData:[m(q,de)]},{container:se._hoverlayer.node(),outerContainer:se._paper.node(),gd:W,inOut_bbox:De}),q.bbox=De[0],Z._hasHoverLabel=!0}Z._hasHoverEvent=!0,W.emit("plotly_hover",{points:[m(q,de)],event:T.event})}}),j.on("mouseout",function(q){var se=W._fullLayout,de=W._fullData[Z.index],we=T.select(this).datum();Z._hasHoverEvent&&(q.originalEvent=T.event,W.emit("plotly_unhover",{points:[m(we,de)],event:T.event}),Z._hasHoverEvent=!1),Z._hasHoverLabel&&(o.loneUnhover(se._hoverlayer.node()),Z._hasHoverLabel=!1)}),j.on("click",function(q){W._dragging||!1===W._fullLayout.hovermode||(W._hoverdata=[m(q,W._fullData[Z.index])],o.click(W,T.event))})}function A(j,W,V){var K=c.castOption(j.insidetextfont.color,W.pts);!K&&j._input.textfont&&(K=c.castOption(j._input.textfont.color,W.pts));var ae=c.castOption(j.insidetextfont.family,W.pts)||c.castOption(j.textfont.family,W.pts)||V.family,Q=c.castOption(j.insidetextfont.size,W.pts)||c.castOption(j.textfont.size,W.pts)||V.size;return{color:K||P.contrast(W.color),family:ae,size:Q}}function x(j,W){for(var V,K,ae=0;ae<j.length;ae++)if((K=(V=j[ae][0]).trace).title.text){var Q=K.title.text;K._meta&&(Q=h.templateString(Q,K._meta));var Z=C.tester.append("text").attr("data-notex",1).text(Q).call(C.font,K.title.font).call(r.convertToTspans,W),re=C.bBox(Z.node(),!0);V.titleBox={width:re.width,height:re.height},Z.remove()}}function E(j,W,V){var K=V.r||W.rpx1,ae=W.rInscribed;if(W.startangle===W.stopangle)return{rCenter:1-ae,scale:0,rotate:0,textPosAngle:0};var xe,Z=W.ring,re=1===Z&&Math.abs(W.startangle-W.stopangle)===2*Math.PI,q=W.halfangle,se=W.midangle,de=V.trace.insidetextorientation,we="horizontal"===de,ye="tangential"===de,Pe="radial"===de,Ie="auto"===de,Se=[];if(!Ie){var Ge,Me=function(Be,ze){if(function g(j,W){var V=j.startangle,K=j.stopangle;return V>W&&W>K||V<W&&W<K}(W,Be)){var tt=Math.abs(Be-W.startangle),lt=Math.abs(Be-W.stopangle),ut=tt<lt?tt:lt;(xe="tan"===ze?w(j,K,Z,ut,0):M(j,K,Z,ut,Math.PI/2)).textPosAngle=Be,Se.push(xe)}};if(we||ye){for(Ge=4;Ge>=-4;Ge-=2)Me(Math.PI*Ge,"tan");for(Ge=4;Ge>=-4;Ge-=2)Me(Math.PI*(Ge+1),"tan")}if(we||Pe){for(Ge=4;Ge>=-4;Ge-=2)Me(Math.PI*(Ge+1.5),"rad");for(Ge=4;Ge>=-4;Ge-=2)Me(Math.PI*(Ge+.5),"rad")}}if(re||Ie||we){var Ye=Math.sqrt(j.width*j.width+j.height*j.height);if((xe={scale:ae*K*2/Ye,rCenter:1-ae,rotate:0}).textPosAngle=(W.startangle+W.stopangle)/2,xe.scale>=1)return xe;Se.push(xe)}(Ie||Pe)&&((xe=M(j,K,Z,q,se)).textPosAngle=(W.startangle+W.stopangle)/2,Se.push(xe)),(Ie||ye)&&((xe=w(j,K,Z,q,se)).textPosAngle=(W.startangle+W.stopangle)/2,Se.push(xe));for(var De=0,He=0,rt=0;rt<Se.length;rt++){var $e=Se[rt].scale;if(He<$e&&(He=$e,De=rt),!Ie&&He>=1)break}return Se[De]}function M(j,W,V,K,ae){W=Math.max(0,W-2*f);var Q=j.width/j.height,Z=d(Q,K,W,V);return{scale:2*Z/j.height,rCenter:n(Q,Z/W),rotate:S(ae)}}function w(j,W,V,K,ae){W=Math.max(0,W-2*f);var Q=j.height/j.width,Z=d(Q,K,W,V);return{scale:2*Z/j.width,rCenter:n(Q,Z/W),rotate:S(ae+Math.PI/2)}}function n(j,W){return Math.cos(W)-j*W}function S(j){return(180/Math.PI*j+720)%180-90}function d(j,W,V,K){var ae=j+1/(2*Math.tan(W));return V*Math.min(1/(Math.sqrt(ae*ae+.5)+ae),K/(Math.sqrt(j*j+K/2)+j))}function I(j,W){return j.v!==W.vTotal||W.trace.hole?Math.min(1/(1+1/Math.sin(j.halfangle)),j.ring/2):1}function L(j,W){var V=W.pxmid[0],K=W.pxmid[1],ae=j.width/2,Q=j.height/2;return V<0&&(ae*=-1),K<0&&(Q*=-1),{scale:1,rCenter:1,rotate:0,x:ae+Math.abs(Q)*(ae>0?1:-1)/2,y:Q/(1+V*V/(K*K)),outside:!0}}function k(j,W){var V,K,ae,Q=j.trace,Z={x:j.cx,y:j.cy},re={tx:0,ty:0};re.ty+=Q.title.font.size,ae=F(Q),-1!==Q.title.position.indexOf("top")?(Z.y-=(1+ae)*j.r,re.ty-=j.titleBox.height):-1!==Q.title.position.indexOf("bottom")&&(Z.y+=(1+ae)*j.r);var q=function z(j,W){return j/(void 0===W?1:W)}(j.r,j.trace.aspectratio),se=W.w*(Q.domain.x[1]-Q.domain.x[0])/2;return-1!==Q.title.position.indexOf("left")?(se+=q,Z.x-=(1+ae)*q,re.tx+=j.titleBox.width/2):-1!==Q.title.position.indexOf("center")?se*=2:-1!==Q.title.position.indexOf("right")&&(se+=q,Z.x+=(1+ae)*q,re.tx-=j.titleBox.width/2),V=se/j.titleBox.width,K=O(j,W)/j.titleBox.height,{x:Z.x,y:Z.y,scale:Math.min(V,K),tx:re.tx,ty:re.ty}}function O(j,W){var V=j.trace;return Math.min(j.titleBox.height,W.h*(V.domain.y[1]-V.domain.y[0])/2)}function F(j){var V,W=j.pull;if(!W)return 0;if(Array.isArray(W))for(W=0,V=0;V<j.pull.length;V++)j.pull[V]>W&&(W=j.pull[V]);return W}function H(j,W){for(var V=[],K=0;K<j.length;K++){var ae=j[K][0],Q=ae.trace,Z=Q.domain,re=W.w*(Z.x[1]-Z.x[0]),q=W.h*(Z.y[1]-Z.y[0]);Q.title.text&&"middle center"!==Q.title.position&&(q-=O(ae,W));var de=q/2;"funnelarea"===Q.type&&!Q.scalegroup&&(de/=Q.aspectratio),ae.r=Math.min(re/2,de)/(1+F(Q)),ae.cx=W.l+W.w*(Q.domain.x[1]+Q.domain.x[0])/2,ae.cy=W.t+W.h*(1-Q.domain.y[0])-q/2,Q.title.text&&-1!==Q.title.position.indexOf("bottom")&&(ae.cy-=O(ae,W)),Q.scalegroup&&-1===V.indexOf(Q.scalegroup)&&V.push(Q.scalegroup)}!function X(j,W){for(var V,K,ae,Q=0;Q<W.length;Q++){var Z=1/0,re=W[Q];for(K=0;K<j.length;K++)if((ae=(V=j[K][0]).trace).scalegroup===re){var q;if("pie"===ae.type)q=V.r*V.r;else if("funnelarea"===ae.type){var se,de;ae.aspectratio>1?de=(se=V.r)/ae.aspectratio:se=(de=V.r)*ae.aspectratio,q=(se*=(1+ae.baseratio)/2)*de}Z=Math.min(Z,q/V.vTotal)}for(K=0;K<j.length;K++)if((ae=(V=j[K][0]).trace).scalegroup===re){var we=Z*V.vTotal;"funnelarea"===ae.type&&(we/=(1+ae.baseratio)/2,we/=ae.aspectratio),V.r=Math.sqrt(we)}}}(j,V)}function ie(j,W){return[j*Math.sin(W),-j*Math.cos(W)]}function ue(j,W,V){var K=j._fullLayout,ae=V.trace,Q=ae.texttemplate,Z=ae.textinfo;if(!Q&&Z&&"none"!==Z){var Ie,re=Z.split("+"),q=function(De){return-1!==re.indexOf(De)},se=q("label"),de=q("text"),we=q("value"),ye=q("percent"),Pe=K.separators;if(Ie=se?[W.label]:[],de){var Se=c.getFirstFilled(ae.text,W.pts);a(Se)&&Ie.push(Se)}we&&Ie.push(c.formatPieValue(W.v,Pe)),ye&&Ie.push(c.formatPiePercent(W.v/V.vTotal,Pe)),W.text=Ie.join("<br>")}if(Q){var Me=h.castOption(ae,W.i,"texttemplate");if(Me){var Ge=function xe(De){return{label:De.label,value:De.v,valueLabel:c.formatPieValue(De.v,K.separators),percent:De.v/V.vTotal,percentLabel:c.formatPiePercent(De.v/V.vTotal,K.separators),color:De.color,text:De.text,customdata:h.castOption(ae,De.i,"customdata")}}(W),Ye=c.getFirstFilled(ae.text,W.pts);(a(Ye)||""===Ye)&&(Ge.text=Ye),W.text=h.texttemplateString(Me,Ge,j._fullLayout._d3locale,Ge,ae._meta||{})}else W.text=""}}function J(j,W){var V=j.rotate*Math.PI/180,K=Math.cos(V),ae=Math.sin(V),Q=(W.left+W.right)/2,Z=(W.top+W.bottom)/2;j.textX=Q*K-Z*ae,j.textY=Q*ae+Z*K,j.noCenter=!0}te.exports={plot:function b(j,W){var V=j._context.staticPlot,K=j._fullLayout,ae=K._size;u("pie",K),x(W,j),H(W,ae);var Q=h.makeTraceGroups(K._pielayer,W,"trace").each(function(Z){var re=T.select(this),q=Z[0],se=q.trace;(function ne(j){var q,se,de,W=j[0],V=W.r,K=W.trace,ae=c.getRotationAngle(K.rotation),Q=2*Math.PI/W.vTotal,Z="px0",re="px1";if("counterclockwise"===K.direction){for(q=0;q<j.length&&j[q].hidden;q++);if(q===j.length)return;ae+=Q*j[q].v,Q*=-1,Z="px1",re="px0"}for(de=ie(V,ae),q=0;q<j.length;q++)!(se=j[q]).hidden&&(se[Z]=de,se.startangle=ae,se.pxmid=ie(V,ae+=Q*se.v/2),se.midangle=ae,de=ie(V,ae+=Q*se.v/2),se.stopangle=ae,se[re]=de,se.largeArc=se.v>W.vTotal/2?1:0,se.halfangle=Math.PI*Math.min(se.v/W.vTotal,.5),se.ring=1-K.hole,se.rInscribed=I(se,W))})(Z),re.attr("stroke-linejoin","round"),re.each(function(){var de=T.select(this).selectAll("g.slice").data(Z);de.enter().append("g").classed("slice",!0),de.exit().remove();var we=[[[],[]],[[],[]]],ye=!1;de.each(function(De,He){if(De.hidden)T.select(this).selectAll("path,g").remove();else{De.pointNumber=De.i,De.curveNumber=se.index,we[De.pxmid[1]<0?0:1][De.pxmid[0]<0?0:1].push(De);var rt=q.cx,$e=q.cy,Be=T.select(this),ze=Be.selectAll("path.surface").data([De]);if(ze.enter().append("path").classed("surface",!0).style({"pointer-events":V?"none":"all"}),Be.call(s,j,Z),se.pull){var tt=+c.castOption(se.pull,De.pts)||0;tt>0&&(rt+=tt*De.pxmid[0],$e+=tt*De.pxmid[1])}De.cxFinal=rt,De.cyFinal=$e;var ut=se.hole;if(De.v===q.vTotal){var xt="M"+(rt+De.px0[0])+","+($e+De.px0[1])+lt(De.px0,De.pxmid,!0,1)+lt(De.pxmid,De.px0,!0,1)+"Z";ze.attr("d",ut?"M"+(rt+ut*De.px0[0])+","+($e+ut*De.px0[1])+lt(De.px0,De.pxmid,!1,ut)+lt(De.pxmid,De.px0,!1,ut)+"Z"+xt:xt)}else{var bt=lt(De.px0,De.px1,!0,1);if(ut){var Ht=1-ut;ze.attr("d","M"+(rt+ut*De.px1[0])+","+($e+ut*De.px1[1])+lt(De.px1,De.px0,!1,ut)+"l"+Ht*De.px0[0]+","+Ht*De.px0[1]+bt+"Z")}else ze.attr("d","M"+rt+","+$e+"l"+De.px0[0]+","+De.px0[1]+bt+"Z")}ue(j,De,q);var Je=c.castOption(se.textposition,De.pts),Ce=Be.selectAll("g.slicetext").data(De.text&&"none"!==Je?[0]:[]);Ce.enter().append("g").classed("slicetext",!0),Ce.exit().remove(),Ce.each(function(){var Ee=h.ensureSingle(T.select(this),"text","",function(Fe){Fe.attr("data-notex",1)}),Re=h.ensureUniformFontSize(j,"outside"===Je?function v(j,W,V){return{color:c.castOption(j.outsidetextfont.color,W.pts)||c.castOption(j.textfont.color,W.pts)||V.color,family:c.castOption(j.outsidetextfont.family,W.pts)||c.castOption(j.textfont.family,W.pts)||V.family,size:c.castOption(j.outsidetextfont.size,W.pts)||c.castOption(j.textfont.size,W.pts)||V.size}}(se,De,K.font):A(se,De,K.font));Ee.text(De.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(C.font,Re).call(r.convertToTspans,j);var Ne,ke=C.bBox(Ee.node());if("outside"===Je)Ne=L(ke,De);else if(Ne=E(ke,De,q),"auto"===Je&&Ne.scale<1){var _e=h.ensureUniformFontSize(j,se.outsidetextfont);Ee.call(C.font,_e),Ne=L(ke=C.bBox(Ee.node()),De)}var Te=Ne.textPosAngle,fe=void 0===Te?De.pxmid:ie(q.r,Te);if(Ne.targetX=rt+fe[0]*Ne.rCenter+(Ne.x||0),Ne.targetY=$e+fe[1]*Ne.rCenter+(Ne.y||0),J(Ne,ke),Ne.outside){var pe=Ne.targetY;De.yLabelMin=pe-ke.height/2,De.yLabelMid=pe,De.yLabelMax=pe+ke.height/2,De.labelExtraX=0,De.labelExtraY=0,ye=!0}Ne.fontSize=Re.size,i(se.type,Ne,K),Z[He].transform=Ne,h.setTransormAndDisplay(Ee,Ne)})}function lt(Ee,Re,ke,Ne){return"a"+Ne*q.r+","+Ne*q.r+" 0 "+De.largeArc+(ke?" 1 ":" 0 ")+Ne*(Re[0]-Ee[0])+","+Ne*(Re[1]-Ee[1])}});var Pe=T.select(this).selectAll("g.titletext").data(se.title.text?[0]:[]);if(Pe.enter().append("g").classed("titletext",!0),Pe.exit().remove(),Pe.each(function(){var rt,De=h.ensureSingle(T.select(this),"text","",function($e){$e.attr("data-notex",1)}),He=se.title.text;se._meta&&(He=h.templateString(He,se._meta)),De.text(He).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(C.font,se.title.font).call(r.convertToTspans,j),rt="middle center"===se.title.position?function B(j){var W=Math.sqrt(j.titleBox.width*j.titleBox.width+j.titleBox.height*j.titleBox.height);return{x:j.cx,y:j.cy,scale:j.trace.hole*j.r*2/W,tx:0,ty:-j.titleBox.height/2+j.trace.title.font.size}}(q):k(q,ae),De.attr("transform",t(rt.x,rt.y)+y(Math.min(1,rt.scale))+t(rt.tx,rt.ty))}),ye&&function N(j,W){var V,K,ae,Q,Z,re,q,se,de,we,ye,Pe,Ie;function Se(Ye,De){return Ye.pxmid[1]-De.pxmid[1]}function xe(Ye,De){return De.pxmid[1]-Ye.pxmid[1]}function Me(Ye,De){De||(De={});var tt,lt,ut,Ht,He=De.labelExtraY+(K?De.yLabelMax:De.yLabelMin),rt=K?Ye.yLabelMin:Ye.yLabelMax,$e=K?Ye.yLabelMax:Ye.yLabelMin,Be=Ye.cyFinal+Z(Ye.px0[1],Ye.px1[1]),ze=He-rt;if(ze*q>0&&(Ye.labelExtraY=ze),Array.isArray(W.pull))for(lt=0;lt<we.length;lt++)!((ut=we[lt])===Ye||(c.castOption(W.pull,Ye.pts)||0)>=(c.castOption(W.pull,ut.pts)||0))&&((Ye.pxmid[1]-ut.pxmid[1])*q>0?(ze=ut.cyFinal+Z(ut.px0[1],ut.px1[1])-rt-Ye.labelExtraY)*q>0&&(Ye.labelExtraY+=ze):($e+Ye.labelExtraY-Be)*q>0&&(tt=3*re*Math.abs(lt-we.indexOf(Ye)),(Ht=ut.cxFinal+Q(ut.px0[0],ut.px1[0])+tt-(Ye.cxFinal+Ye.pxmid[0])-Ye.labelExtraX)*re>0&&(Ye.labelExtraX+=Ht)))}for(K=0;K<2;K++)for(ae=K?Se:xe,Z=K?Math.max:Math.min,q=K?1:-1,V=0;V<2;V++){for(Q=V?Math.max:Math.min,re=V?1:-1,(se=j[K][V]).sort(ae),we=(de=j[1-K][V]).concat(se),Pe=[],ye=0;ye<se.length;ye++)void 0!==se[ye].yLabelMid&&Pe.push(se[ye]);for(Ie=!1,ye=0;K&&ye<de.length;ye++)if(void 0!==de[ye].yLabelMid){Ie=de[ye];break}for(ye=0;ye<Pe.length;ye++){var Ge=ye&&Pe[ye-1];Ie&&!ye&&(Ge=Ie),Me(Pe[ye],Ge)}}}(we,se),function p(j,W){j.each(function(V){var K=T.select(this);if(V.labelExtraX||V.labelExtraY){var ae=K.select("g.slicetext text");V.transform.targetX+=V.labelExtraX,V.transform.targetY+=V.labelExtraY,h.setTransormAndDisplay(ae,V.transform);var Q=V.cxFinal+V.pxmid[0],re="M"+Q+","+(V.cyFinal+V.pxmid[1]),q=(V.yLabelMax-V.yLabelMin)*(V.pxmid[0]<0?-1:1)/4;if(V.labelExtraX){var se=V.labelExtraX*V.pxmid[1]/V.pxmid[0],de=V.yLabelMid+V.labelExtraY-(V.cyFinal+V.pxmid[1]);Math.abs(se)>Math.abs(de)?re+="l"+de*V.pxmid[0]/V.pxmid[1]+","+de+"H"+(Q+V.labelExtraX+q):re+="l"+V.labelExtraX+","+se+"v"+(de-se)+"h"+q}else re+="V"+(V.yLabelMid+V.labelExtraY)+"h"+q;h.ensureSingle(K,"path","textline").call(P.stroke,W.outsidetextfont.color).attr({"stroke-width":Math.min(2,W.outsidetextfont.size/8),d:re,fill:"none"})}else K.select("path.textline").remove()})}(de,se),ye&&se.automargin){var Ie=C.bBox(re.node()),Se=se.domain,Ge=(ae.w*(Se.x[1]-Se.x[0])*.5-q.r)/ae.w,Ye=(ae.h*(Se.y[1]-Se.y[0])*.5-q.r)/ae.h;D.autoMargin(j,"pie."+se.uid+".automargin",{xl:Se.x[0]-Ge,xr:Se.x[1]+Ge,yb:Se.y[0]-Ye,yt:Se.y[1]+Ye,l:Math.max(q.cx-q.r-Ie.left,0),r:Math.max(Ie.right-(q.cx+q.r),0),b:Math.max(Ie.bottom-(q.cy+q.r),0),t:Math.max(q.cy-q.r-Ie.top,0),pad:5})}})});setTimeout(function(){Q.selectAll("tspan").each(function(){var Z=T.select(this);Z.attr("dy")&&Z.attr("dy",Z.attr("dy"))})},0)},formatSliceLabel:ue,transformInsideText:E,determineInsideTextFont:A,positionTitleOutside:k,prerenderTitles:x,layoutAreas:H,attachFxHandlers:s,computeTransform:J}},68357:function(te,Y,e){"use strict";var T=e(39898),D=e(63463),o=e(72597).resizeText;te.exports=function(C){var h=C._fullLayout._pielayer.selectAll(".trace");o(C,h,"pie"),h.each(function(y){var r=y[0].trace,l=T.select(this);l.style({opacity:r.opacity}),l.selectAll("path.surface").each(function(i){T.select(this).call(D,i,r,C)})})}},63463:function(te,Y,e){"use strict";var T=e(7901),D=e(53581).castOption,o=e(22209);te.exports=function(C,h,y,t){var r=y.marker.line,l=D(r.color,h.pts)||T.defaultLine,i=D(r.width,h.pts)||0;C.call(o,h,y,t).style("stroke-width",i).call(T.stroke,l)}},10959:function(te,Y,e){"use strict";var T=e(82196);te.exports={x:T.x,y:T.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:T.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(te,Y,e){"use strict";var T=e(9330).gl_pointcloud2d,D=e(78614),o=e(71739).findExtremes,P=e(34603);function C(t,r){this.scene=t,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=T(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var h=C.prototype;h.handlePick=function(t){var r=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*r],this.pickXYData[2*r+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:Array.isArray(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}},h.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=P(t,{})},h.updateFast=function(t){var c,m,a,p,s,v,r=this.xData=this.pickXData=t.x,l=this.yData=this.pickYData=t.y,i=this.pickXYData=t.xy,f=t.indices,b=this.bounds;if(i){if(a=i,c=i.length>>>1,t.xbounds&&t.ybounds)b[0]=t.xbounds[0],b[2]=t.xbounds[1],b[1]=t.ybounds[0],b[3]=t.ybounds[1];else for(v=0;v<c;v++)s=a[2*v+1],(p=a[2*v])<b[0]&&(b[0]=p),p>b[2]&&(b[2]=p),s<b[1]&&(b[1]=s),s>b[3]&&(b[3]=s);if(f)m=f;else for(m=new Int32Array(c),v=0;v<c;v++)m[v]=v}else for(c=r.length,a=new Float32Array(2*c),m=new Int32Array(c),v=0;v<c;v++)p=r[v],s=l[v],m[v]=v,a[2*v]=p,a[2*v+1]=s,p<b[0]&&(b[0]=p),p>b[2]&&(b[2]=p),s<b[1]&&(b[1]=s),s>b[3]&&(b[3]=s);this.idToIndex=m,this.pointcloudOptions.idToIndex=m,this.pointcloudOptions.positions=a;var A=D(t.marker.color),x=D(t.marker.border.color),E=t.opacity*t.marker.opacity;A[3]*=E,this.pointcloudOptions.color=A;var g=t.marker.blend;null===g&&(g=r.length<100||l.length<100),this.pointcloudOptions.blend=g,x[3]*=E,this.pointcloudOptions.borderColor=x;var w=t.marker.sizemin,n=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=w,this.pointcloudOptions.sizeMax=n,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var S=this.scene.xaxis,d=this.scene.yaxis,I=n/2||.5;t._extremes[S._id]=o(S,[b[0],b[2]],{ppad:I}),t._extremes[d._id]=o(d,[b[1],b[3]],{ppad:I})},h.dispose=function(){this.pointcloud.dispose()},te.exports=function y(t,r){var l=new C(t,r.uid);return l.update(r),l}},33876:function(te,Y,e){"use strict";var T=e(71828),D=e(10959);te.exports=function(P,C,h){function y(t,r){return T.coerce(P,C,D,t,r)}y("x"),y("y"),y("xbounds"),y("ybounds"),P.xy&&P.xy instanceof Float32Array&&(C.xy=P.xy),P.indices&&P.indices instanceof Int32Array&&(C.indices=P.indices),y("text"),y("marker.color",h),y("marker.opacity"),y("marker.blend"),y("marker.sizemin"),y("marker.sizemax"),y("marker.border.color",h),y("marker.border.arearatio"),C._length=null}},20593:function(te,Y,e){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),te.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(te,Y,e){"use strict";var T=e(41940),D=e(9012),o=e(22399),P=e(77914),C=e(27670).Y,h=e(5386).fF,y=e(50693),t=e(44467).templatedArray,r=e(12663).descriptionOnlyNumbers,l=e(1426).extendFlat,i=e(30962).overrideAll;(te.exports=i({hoverinfo:l({},D.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:P.hoverlabel,domain:C({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:r("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:T({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:P.hoverlabel,hovertemplate:h({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:P.hoverlabel,hovertemplate:h({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:l(y().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(te,Y,e){"use strict";var T=e(30962).overrideAll,D=e(27659).a0,o=e(60436),P=e(528),C=e(6964),h=e(28569),y=e(47322).prepSelect,t=e(71828),r=e(73972),l="sankey";function i(u,f){var c=u._fullData[f],m=u._fullLayout,a=m.dragmode,p=c._bgRect;if(p&&"pan"!==a&&"zoom"!==a){C(p,"pan"===m.dragmode?"move":"crosshair");var s={_id:"x",c2p:t.identity,_offset:c._sankey.translateX,_length:c._sankey.width},v={_id:"y",c2p:t.identity,_offset:c._sankey.translateY,_length:c._sankey.height},A={gd:u,element:p.node(),plotinfo:{id:f,xaxis:s,yaxis:v,fillRangeItems:t.noop},subplot:f,xaxes:[s],yaxes:[v],doneFnCompleted:function(x){var g,E=u._fullData[f],M=E.node.groups.slice(),w=[];function n(L){for(var B=E._sankey.graph.nodes,k=0;k<B.length;k++)if(B[k].pointNumber===L)return B[k]}for(var S=0;S<x.length;S++){var d=n(x[S].pointNumber);if(d)if(d.group){for(var I=0;I<d.childrenNodes.length;I++)w.push(d.childrenNodes[I].pointNumber);M[d.pointNumber-E.node._count]=!1}else w.push(d.pointNumber)}g=M.filter(Boolean).concat([w]),r.call("_guiRestyle",u,{"node.groups":[g]},f)},prepFn:function(x,E,g){y(x,E,g,A,a)}};h.init(A)}}Y.name=l,Y.baseLayoutAttrOverrides=T({hoverlabel:P.hoverlabel},"plot","nested"),Y.plot=function(u){var f=D(u.calcdata,l)[0];o(u,f),Y.updateFx(u)},Y.clean=function(u,f,c,m){var a=m._has&&m._has(l),b=f._has&&f._has(l);a&&!b&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},Y.updateFx=function(u){for(var f=0;f<u._fullData.length;f++)i(u,f)}},92930:function(te,Y,e){"use strict";var T=e(68664),D=e(71828),o=e(28984).wrap,P=D.isArrayOrTypedArray,C=D.isIndex,h=e(21081);te.exports=function(l,i){var u=function y(r){var p,l=r.node,i=r.link,u=[],f=P(i.color),c=P(i.customdata),m={},a={},b=i.colorscales.length;for(p=0;p<b;p++){var s=i.colorscales[p],v=h.extractScale(s,{cLetter:"c"}),A=h.makeColorScaleFunc(v);a[s.label]=A}var x=0;for(p=0;p<i.value.length;p++)i.source[p]>x&&(x=i.source[p]),i.target[p]>x&&(x=i.target[p]);var E=x+1;r.node._count=E;var g,M=r.node.groups,w={};for(p=0;p<M.length;p++){var n=M[p];for(g=0;g<n.length;g++){var S=n[g],d=E+p;w.hasOwnProperty(S)?D.warn("Node "+S+" is already part of a group."):w[S]=d}}var I={source:[],target:[]};for(p=0;p<i.value.length;p++){var L=i.value[p],B=i.source[p],k=i.target[p];if(L>0&&C(B,E)&&C(k,E)&&(!w.hasOwnProperty(B)||!w.hasOwnProperty(k)||w[B]!==w[k])){w.hasOwnProperty(k)&&(k=w[k]),w.hasOwnProperty(B)&&(B=w[B]),m[B=+B]=m[k=+k]=!0;var z="";i.label&&i.label[p]&&(z=i.label[p]);var O=null;z&&a.hasOwnProperty(z)&&(O=a[z]),u.push({pointNumber:p,label:z,color:f?i.color[p]:i.color,customdata:c?i.customdata[p]:i.customdata,concentrationscale:O,source:B,target:k,value:+L}),I.source.push(B),I.target.push(k)}}var F=E+M.length,N=P(l.color),H=P(l.customdata),X=[];for(p=0;p<F;p++)m[p]&&X.push({group:p>E-1,childrenNodes:[],pointNumber:p,label:l.label[p],color:N?l.color[p]:l.color,customdata:H?l.customdata[p]:l.customdata});var ie=!1;return function t(r,l,i){for(var u=D.init2dArray(r,0),f=0;f<Math.min(l.length,i.length);f++)if(D.isIndex(l[f],r)&&D.isIndex(i[f],r)){if(l[f]===i[f])return!0;u[l[f]].push(i[f])}return T(u).components.some(function(m){return m.length>1})}(F,I.source,I.target)&&(ie=!0),{circular:ie,links:u,nodes:X,groups:M,groupLookup:w}}(i);return o({circular:u.circular,_nodes:u.nodes,_links:u.links,_groups:u.groups,_groupLookup:u.groupLookup})}},85247:function(te){"use strict";te.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(te,Y,e){"use strict";var T=e(71828),D=e(39953),o=e(7901),P=e(84267),C=e(27670).c,h=e(38048),y=e(44467),t=e(85501);function r(l,i){function u(f,c){return T.coerce(l,i,D.link.colorscales,f,c)}u("label"),u("cmin"),u("cmax"),u("colorscale")}te.exports=function(i,u,f,c){function m(n,S){return T.coerce(i,u,D,n,S)}var a=T.extendDeep(c.hoverlabel,i.hoverlabel),b=i.node,p=y.newContainer(u,"node");function s(n,S){return T.coerce(b,p,D.node,n,S)}s("label"),s("groups"),s("x"),s("y"),s("pad"),s("thickness"),s("line.color"),s("line.width"),s("hoverinfo",i.hoverinfo),h(b,p,s,a),s("hovertemplate");var v=c.colorway;s("color",p.label.map(function(n,S){return o.addOpacity(function(n){return v[n%v.length]}(S),.8)})),s("customdata");var x=i.link||{},E=y.newContainer(u,"link");function g(n,S){return T.coerce(x,E,D.link,n,S)}g("label"),g("arrowlen"),g("source"),g("target"),g("value"),g("line.color"),g("line.width"),g("hoverinfo",i.hoverinfo),h(x,E,g,a),g("hovertemplate");var w,M=P(c.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";g("color",T.repeat(M,E.value.length)),g("customdata"),t(x,E,{name:"colorscales",handleItemDefaults:r}),C(u,c,m),m("orientation"),m("valueformat"),m("valuesuffix"),p.x.length&&p.y.length&&(w="freeform"),m("arrangement",w),T.coerceFont(m,"textfont",T.extendFlat({},c.font)),u._length=null}},29396:function(te,Y,e){"use strict";te.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=D.numberFormat,P=e(3393),C=e(30211),h=e(7901),y=e(85247).cn,t=D._;function r(v){return""!==v}function l(v,A){return v.filter(function(x){return x.key===A.traceId})}function i(v,A){T.select(v).select("path").style("fill-opacity",A),T.select(v).select("rect").style("fill-opacity",A)}function u(v){T.select(v).select("text.name").style("fill","black")}function f(v){return function(A){return-1!==v.node.sourceLinks.indexOf(A.link)||-1!==v.node.targetLinks.indexOf(A.link)}}function c(v){return function(A){return-1!==A.node.sourceLinks.indexOf(v.link)||-1!==A.node.targetLinks.indexOf(v.link)}}function m(v,A,x){A&&x&&l(x,A).selectAll("."+y.sankeyLink).filter(f(A)).call(b.bind(0,A,x,!1))}function a(v,A,x){A&&x&&l(x,A).selectAll("."+y.sankeyLink).filter(f(A)).call(p.bind(0,A,x,!1))}function b(v,A,x,E){var g=E.datum().link.label;E.style("fill-opacity",function(M){if(!M.link.concentrationscale)return.4}),g&&l(A,v).selectAll("."+y.sankeyLink).filter(function(M){return M.link.label===g}).style("fill-opacity",function(M){if(!M.link.concentrationscale)return.4}),x&&l(A,v).selectAll("."+y.sankeyNode).filter(c(v)).call(m)}function p(v,A,x,E){var g=E.datum().link.label;E.style("fill-opacity",function(M){return M.tinyColorAlpha}),g&&l(A,v).selectAll("."+y.sankeyLink).filter(function(M){return M.link.label===g}).style("fill-opacity",function(M){return M.tinyColorAlpha}),x&&l(A,v).selectAll(y.sankeyNode).filter(c(v)).call(a)}function s(v,A){var E=D.nestedProperty(v.hoverlabel||{},A).get();return!Array.isArray(E)&&E}te.exports=function(A,x){for(var E=A._fullLayout,g=E._paper,M=E._size,w=0;w<A._fullData.length;w++)if(A._fullData[w].visible&&A._fullData[w].type===y.sankey&&!A._fullData[w]._viewInitial){var n=A._fullData[w].node;A._fullData[w]._viewInitial={node:{groups:n.groups.slice(),x:n.x.slice(),y:n.y.slice()}}}var I=t(A,"source:")+" ",L=t(A,"target:")+" ",B=t(A,"concentration:")+" ",k=t(A,"incoming flow count:")+" ",z=t(A,"outgoing flow count:")+" ";P(A,g,x,{width:M.w,height:M.h,margin:{t:M.t,r:M.r,b:M.b,l:M.l}},{linkEvents:{hover:function(ie,ue,J){!1!==A._fullLayout.hovermode&&(T.select(ie).call(b.bind(0,ue,J,!0)),"skip"!==ue.link.trace.link.hoverinfo&&(ue.link.fullData=ue.link.trace,A.emit("plotly_hover",{event:T.event,points:[ue.link]})))},follow:function(ie,ue){if(!1!==A._fullLayout.hovermode){var J=ue.link.trace.link;if("none"!==J.hoverinfo&&"skip"!==J.hoverinfo){for(var j=[],V=0,K=0;K<ue.flow.links.length;K++){var ae=ue.flow.links[K];if("closest"!==A._fullLayout.hovermode||ue.link.pointNumber===ae.pointNumber){ue.link.pointNumber===ae.pointNumber&&(V=K),ae.fullData=ae.trace,J=ue.link.trace.link;var Q=W(ae),Z={valueLabel:o(ue.valueFormat)(ae.value)+ue.valueSuffix};j.push({x:Q[0],y:Q[1],name:Z.valueLabel,text:[ae.label||"",I+ae.source.label,L+ae.target.label,ae.concentrationscale?B+o("%0.2f")(ae.flow.labelConcentration):""].filter(r).join("<br>"),color:s(J,"bgcolor")||h.addOpacity(ae.color,1),borderColor:s(J,"bordercolor"),fontFamily:s(J,"font.family"),fontSize:s(J,"font.size"),fontColor:s(J,"font.color"),nameLength:s(J,"namelength"),textAlign:s(J,"align"),idealAlign:T.event.x<Q[0]?"right":"left",hovertemplate:J.hovertemplate,hovertemplateLabels:Z,eventData:[ae]})}}C.loneHover(j,{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:A,anchorIndex:V}).each(function(){ue.link.concentrationscale||i(this,.65),u(this)})}}function W(q){var se,de;q.circular?(se=(q.circularPathData.leftInnerExtent+q.circularPathData.rightInnerExtent)/2,de=q.circularPathData.verticalFullExtent):(se=(q.source.x1+q.target.x0)/2,de=(q.y0+q.y1)/2);var we=[se,de];return"v"===q.trace.orientation&&we.reverse(),we[0]+=ue.parent.translateX,we[1]+=ue.parent.translateY,we}},unhover:function(ie,ue,J){!1!==A._fullLayout.hovermode&&(T.select(ie).call(p.bind(0,ue,J,!0)),"skip"!==ue.link.trace.link.hoverinfo&&(ue.link.fullData=ue.link.trace,A.emit("plotly_unhover",{event:T.event,points:[ue.link]})),C.loneUnhover(E._hoverlayer.node()))},select:function(ie,ue){var J=ue.link;J.originalEvent=T.event,A._hoverdata=[J],C.click(A,{target:!0})}},nodeEvents:{hover:function(ie,ue,J){!1!==A._fullLayout.hovermode&&(T.select(ie).call(m,ue,J),"skip"!==ue.node.trace.node.hoverinfo&&(ue.node.fullData=ue.node.trace,A.emit("plotly_hover",{event:T.event,points:[ue.node]})))},follow:function(ie,ue){if(!1!==A._fullLayout.hovermode){var J=ue.node.trace.node;if("none"!==J.hoverinfo&&"skip"!==J.hoverinfo){var j=T.select(ie).select("."+y.nodeRect),W=A._fullLayout._paperdiv.node().getBoundingClientRect(),V=j.node().getBoundingClientRect(),K=V.left-2-W.left,ae=V.right+2-W.left,Q=V.top+V.height/4-W.top,Z={valueLabel:o(ue.valueFormat)(ue.node.value)+ue.valueSuffix};ue.node.fullData=ue.node.trace,A._fullLayout._calcInverseTransform(A);var re=A._fullLayout._invScaleX,se=C.loneHover({x0:re*K,x1:re*ae,y:A._fullLayout._invScaleY*Q,name:o(ue.valueFormat)(ue.node.value)+ue.valueSuffix,text:[ue.node.label,k+ue.node.targetLinks.length,z+ue.node.sourceLinks.length].filter(r).join("<br>"),color:s(J,"bgcolor")||ue.tinyColorHue,borderColor:s(J,"bordercolor"),fontFamily:s(J,"font.family"),fontSize:s(J,"font.size"),fontColor:s(J,"font.color"),nameLength:s(J,"namelength"),textAlign:s(J,"align"),idealAlign:"left",hovertemplate:J.hovertemplate,hovertemplateLabels:Z,eventData:[ue.node]},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:A});i(se,.85),u(se)}}},unhover:function(ie,ue,J){!1!==A._fullLayout.hovermode&&(T.select(ie).call(a,ue,J),"skip"!==ue.node.trace.node.hoverinfo&&(ue.node.fullData=ue.node.trace,A.emit("plotly_unhover",{event:T.event,points:[ue.node]})),C.loneUnhover(E._hoverlayer.node()))},select:function(ie,ue,J){var j=ue.node;j.originalEvent=T.event,A._hoverdata=[j],T.select(ie).call(a,ue,J),C.click(A,{target:!0})}}})}},3393:function(te,Y,e){"use strict";var T=e(49887),D=e(81684).k4,o=e(39898),P=e(30838),C=e(86781),h=e(85247),y=e(84267),t=e(7901),r=e(91424),l=e(71828),i=l.strTranslate,u=l.strRotate,f=e(28984),c=f.keyFun,m=f.repeat,a=f.unwrap,b=e(63893),p=e(73972),s=e(18783),v=s.CAP_SHIFT,A=s.LINE_SPACING;function E(W,V,K){var Se,ae=a(V),Q=ae.trace,Z=Q.domain,re="h"===Q.orientation,q=Q.node.pad,se=Q.node.thickness,de=W.width*(Z.x[1]-Z.x[0]),we=W.height*(Z.y[1]-Z.y[0]),ye=ae._nodes,Pe=ae._links,Ie=ae.circular;(Se=Ie?C.sankeyCircular().circularLinkGap(0):P.sankey()).iterations(h.sankeyIterations).size(re?[de,we]:[we,de]).nodeWidth(se).nodePadding(q).nodeId(function(bt){return bt.pointNumber}).nodes(ye).links(Pe);var Me,Ge,Ye,xe=Se();for(var De in Se.nodePadding()<q&&l.warn("node.pad was reduced to ",Se.nodePadding()," to fit within the figure."),ae._groupLookup){var rt,He=parseInt(ae._groupLookup[De]);for(Me=0;Me<xe.nodes.length;Me++)if(xe.nodes[Me].pointNumber===He){rt=xe.nodes[Me];break}if(rt){var $e={pointNumber:parseInt(De),x0:rt.x0,x1:rt.x1,y0:rt.y0,y1:rt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};xe.nodes.unshift($e),rt.childrenNodes.unshift($e)}}if(function Be(){for(Me=0;Me<xe.nodes.length;Me++){var Je,Ce,bt=xe.nodes[Me],Ht={};for(Ge=0;Ge<bt.targetLinks.length;Ge++)Ht.hasOwnProperty(Je=(Ce=bt.targetLinks[Ge]).source.pointNumber+":"+Ce.target.pointNumber)||(Ht[Je]=[]),Ht[Je].push(Ce);var Ee=Object.keys(Ht);for(Ge=0;Ge<Ee.length;Ge++){var Re=Ht[Je=Ee[Ge]],ke=0,Ne={};for(Ye=0;Ye<Re.length;Ye++)Ne[(Ce=Re[Ye]).label]||(Ne[Ce.label]=0),Ne[Ce.label]+=Ce.value,ke+=Ce.value;for(Ye=0;Ye<Re.length;Ye++)(Ce=Re[Ye]).flow={value:ke,labelConcentration:Ne[Ce.label]/ke,concentration:Ce.value/ke,links:Re},Ce.concentrationscale&&(Ce.color=y(Ce.concentrationscale(Ce.flow.labelConcentration)))}var _e=0;for(Ge=0;Ge<bt.sourceLinks.length;Ge++)_e+=bt.sourceLinks[Ge].value;for(Ge=0;Ge<bt.sourceLinks.length;Ge++)(Ce=bt.sourceLinks[Ge]).concentrationOut=Ce.value/_e;var Te=0;for(Ge=0;Ge<bt.targetLinks.length;Ge++)Te+=bt.targetLinks[Ge].value;for(Ge=0;Ge<bt.targetLinks.length;Ge++)(Ce=bt.targetLinks[Ge]).concenrationIn=Ce.value/Te}}(),Q.node.x.length&&Q.node.y.length){for(Me=0;Me<Math.min(Q.node.x.length,Q.node.y.length,xe.nodes.length);Me++)if(Q.node.x[Me]&&Q.node.y[Me]){var lt=[Q.node.x[Me]*de,Q.node.y[Me]*we];xe.nodes[Me].x0=lt[0]-se/2,xe.nodes[Me].x1=lt[0]+se/2;var ut=xe.nodes[Me].y1-xe.nodes[Me].y0;xe.nodes[Me].y0=lt[1]-ut/2,xe.nodes[Me].y1=lt[1]+ut/2}"snap"===Q.arrangement&&function ze(bt){bt.forEach(function(Ht){var Je,Ce,ke,Ee=0,Re=Ht.length;for(Ht.sort(function(Ne,_e){return Ne.y0-_e.y0}),ke=0;ke<Re;++ke)(Je=Ht[ke]).y0>=Ee||(Ce=Ee-Je.y0)>1e-6&&(Je.y0+=Ce,Je.y1+=Ce),Ee=Je.y1+q})}(function tt(bt){var Ee,ke,Ht=bt.map(function(_e,Te){return{x0:_e.x0,index:Te}}).sort(function(_e,Te){return _e.x0-Te.x0}),Je=[],Ce=-1,Re=-1/0;for(Me=0;Me<Ht.length;Me++){var Ne=bt[Ht[Me].index];Ne.x0>Re+se&&(Ce+=1,Ee=Ne.x0),Re=Ne.x0,Je[Ce]||(Je[Ce]=[]),Je[Ce].push(Ne),Ne.x0+=ke=Ee-Ne.x0,Ne.x1+=ke}return Je}(ye=xe.nodes)),Se.update(xe)}return{circular:Ie,key:K,trace:Q,guid:l.randstr(),horizontal:re,width:de,height:we,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:Z.x[0]*W.width+W.margin.l,translateY:W.height-Z.y[1]*W.height+W.margin.t,dragParallel:re?we:de,dragPerpendicular:re?de:we,arrangement:Q.arrangement,sankey:Se,graph:xe,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function g(W,V,K){var ae=y(V.color),Z=V.source.label+"|"+V.target.label+"__"+K;return V.trace=W.trace,V.curveNumber=W.trace.index,{circular:W.circular,key:Z,traceId:W.key,pointNumber:V.pointNumber,link:V,tinyColorHue:t.tinyRGB(ae),tinyColorAlpha:ae.getAlpha(),linkPath:w,linkLineColor:W.linkLineColor,linkLineWidth:W.linkLineWidth,linkArrowLength:W.linkArrowLength,valueFormat:W.valueFormat,valueSuffix:W.valueSuffix,sankey:W.sankey,parent:W,interactionState:W.interactionState,flow:V.flow}}function w(){return function V(K){var ae=K.linkArrowLength;if(K.link.circular)return function M(W,V){var ae=W.width/2,Q=W.circularPathData;return"top"===W.circularLinkType?"M "+(Q.targetX-V)+" "+(Q.targetY+ae)+" L"+(Q.rightInnerExtent-V)+" "+(Q.targetY+ae)+"A"+(Q.rightLargeArcRadius+ae)+" "+(Q.rightSmallArcRadius+ae)+" 0 0 1 "+(Q.rightFullExtent-ae-V)+" "+(Q.targetY-Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-ae-V)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+ae)+" "+(Q.rightLargeArcRadius+ae)+" 0 0 1 "+(Q.rightInnerExtent-V)+" "+(Q.verticalFullExtent-ae)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent-ae)+"A"+(Q.leftLargeArcRadius+ae)+" "+(Q.leftLargeArcRadius+ae)+" 0 0 1 "+(Q.leftFullExtent+ae)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+ae)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+ae)+" "+(Q.leftSmallArcRadius+ae)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.sourceY+ae)+"L"+Q.sourceX+" "+(Q.sourceY+ae)+"L"+Q.sourceX+" "+(Q.sourceY-ae)+"L"+Q.leftInnerExtent+" "+(Q.sourceY-ae)+"A"+(Q.leftLargeArcRadius-ae)+" "+(Q.leftSmallArcRadius-ae)+" 0 0 0 "+(Q.leftFullExtent-ae)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-ae)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-ae)+" "+(Q.leftLargeArcRadius-ae)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent+ae)+"L"+(Q.rightInnerExtent-V)+" "+(Q.verticalFullExtent+ae)+"A"+(Q.rightLargeArcRadius-ae)+" "+(Q.rightLargeArcRadius-ae)+" 0 0 0 "+(Q.rightFullExtent+ae-V)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+ae-V)+" "+(Q.targetY-Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-ae)+" "+(Q.rightSmallArcRadius-ae)+" 0 0 0 "+(Q.rightInnerExtent-V)+" "+(Q.targetY-ae)+"L"+(Q.targetX-V)+" "+(Q.targetY-ae)+(V>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z":"M "+(Q.targetX-V)+" "+(Q.targetY-ae)+" L"+(Q.rightInnerExtent-V)+" "+(Q.targetY-ae)+"A"+(Q.rightLargeArcRadius+ae)+" "+(Q.rightSmallArcRadius+ae)+" 0 0 0 "+(Q.rightFullExtent-ae-V)+" "+(Q.targetY+Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-ae-V)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+ae)+" "+(Q.rightLargeArcRadius+ae)+" 0 0 0 "+(Q.rightInnerExtent-V)+" "+(Q.verticalFullExtent+ae)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent+ae)+"A"+(Q.leftLargeArcRadius+ae)+" "+(Q.leftLargeArcRadius+ae)+" 0 0 0 "+(Q.leftFullExtent+ae)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+ae)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+ae)+" "+(Q.leftSmallArcRadius+ae)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.sourceY-ae)+"L"+Q.sourceX+" "+(Q.sourceY-ae)+"L"+Q.sourceX+" "+(Q.sourceY+ae)+"L"+Q.leftInnerExtent+" "+(Q.sourceY+ae)+"A"+(Q.leftLargeArcRadius-ae)+" "+(Q.leftSmallArcRadius-ae)+" 0 0 1 "+(Q.leftFullExtent-ae)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-ae)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-ae)+" "+(Q.leftLargeArcRadius-ae)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent-ae)+"L"+(Q.rightInnerExtent-V)+" "+(Q.verticalFullExtent-ae)+"A"+(Q.rightLargeArcRadius-ae)+" "+(Q.rightLargeArcRadius-ae)+" 0 0 1 "+(Q.rightFullExtent+ae-V)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+ae-V)+" "+(Q.targetY+Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-ae)+" "+(Q.rightSmallArcRadius-ae)+" 0 0 1 "+(Q.rightInnerExtent-V)+" "+(Q.targetY+ae)+"L"+(Q.targetX-V)+" "+(Q.targetY+ae)+(V>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z"}(K.link,ae);var Q=Math.abs((K.link.target.x0-K.link.source.x1)/2);ae>Q&&(ae=Q);var Z=K.link.source.x1,re=K.link.target.x0-ae,q=D(Z,re),se=q(.5),de=q(.5),we=K.link.y0-K.link.width/2,ye=K.link.y0+K.link.width/2,Pe=K.link.y1-K.link.width/2,Ie=K.link.y1+K.link.width/2,Ge=ae>0?"L"+(re+ae)+","+(Pe+K.link.width/2):"";return"M"+Z+","+we+"C"+se+","+we+" "+de+","+Pe+" "+re+","+Pe+(Ge+="L"+re+","+Ie)+"C"+de+","+Ie+" "+se+","+ye+" "+Z+","+ye+"Z"}}function n(W,V){var K=y(V.color),ae=h.nodePadAcross,Q=W.nodePad/2;V.dx=V.x1-V.x0,V.dy=V.y1-V.y0;var Z=V.dx,re=Math.max(.5,V.dy),q="node_"+V.pointNumber;return V.group&&(q=l.randstr()),V.trace=W.trace,V.curveNumber=W.trace.index,{index:V.pointNumber,key:q,partOfGroup:V.partOfGroup||!1,group:V.group,traceId:W.key,trace:W.trace,node:V,nodePad:W.nodePad,nodeLineColor:W.nodeLineColor,nodeLineWidth:W.nodeLineWidth,textFont:W.textFont,size:W.horizontal?W.height:W.width,visibleWidth:Math.ceil(Z),visibleHeight:re,zoneX:-ae,zoneY:-Q,zoneWidth:Z+2*ae,zoneHeight:re+2*Q,labelY:W.horizontal?V.dy/2+1:V.dx/2+1,left:1===V.originalLayer,sizeAcross:W.width,forceLayouts:W.forceLayouts,horizontal:W.horizontal,darkBackground:K.getBrightness()<=128,tinyColorHue:t.tinyRGB(K),tinyColorAlpha:K.getAlpha(),valueFormat:W.valueFormat,valueSuffix:W.valueSuffix,sankey:W.sankey,graph:W.graph,arrangement:W.arrangement,uniqueNodeLabelPathId:[W.guid,W.key,q].join("_"),interactionState:W.interactionState,figure:W}}function S(W){W.attr("transform",function(V){return i(V.node.x0.toFixed(3),V.node.y0.toFixed(3))})}function d(W){W.call(S)}function I(W,V){W.call(d),V.attr("d",w())}function L(W){W.attr("width",function(V){return V.node.x1-V.node.x0}).attr("height",function(V){return V.visibleHeight})}function B(W){return W.link.width>1||W.linkLineWidth>0}function k(W){return i(W.translateX,W.translateY)+(W.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function z(W,V,K){W.on(".basic",null).on("mouseover.basic",function(ae){!ae.interactionState.dragInProgress&&!ae.partOfGroup&&(K.hover(this,ae,V),ae.interactionState.hovered=[this,ae])}).on("mousemove.basic",function(ae){!ae.interactionState.dragInProgress&&!ae.partOfGroup&&(K.follow(this,ae),ae.interactionState.hovered=[this,ae])}).on("mouseout.basic",function(ae){!ae.interactionState.dragInProgress&&!ae.partOfGroup&&(K.unhover(this,ae,V),ae.interactionState.hovered=!1)}).on("click.basic",function(ae){ae.interactionState.hovered&&(K.unhover(this,ae,V),ae.interactionState.hovered=!1),!ae.interactionState.dragInProgress&&!ae.partOfGroup&&K.select(this,ae,V)})}function O(W,V,K,ae){var Q=o.behavior.drag().origin(function(Z){return{x:Z.node.x0+Z.visibleWidth/2,y:Z.node.y0+Z.visibleHeight/2}}).on("dragstart",function(Z){if("fixed"!==Z.arrangement&&(l.ensureSingle(ae._fullLayout._infolayer,"g","dragcover",function(q){ae._fullLayout._dragCover=q}),l.raiseToTop(this),Z.interactionState.dragInProgress=Z.node,ie(Z.node),Z.interactionState.hovered&&(K.nodeEvents.unhover.apply(0,Z.interactionState.hovered),Z.interactionState.hovered=!1),"snap"===Z.arrangement)){var re=Z.traceId+"|"+Z.key;Z.forceLayouts[re]?Z.forceLayouts[re].alpha(1):function F(W,V,K,ae){!function J(W){for(var V=0;V<W.length;V++)W[V].y=(W[V].y0+W[V].y1)/2,W[V].x=(W[V].x0+W[V].x1)/2}(K.graph.nodes);var Q=K.graph.nodes.filter(function(Z){return Z.originalX===K.node.originalX}).filter(function(Z){return!Z.partOfGroup});K.forceLayouts[V]=T.forceSimulation(Q).alphaDecay(0).force("collide",T.forceCollide().radius(function(Z){return Z.dy/2+K.nodePad/2}).strength(1).iterations(h.forceIterations)).force("constrain",function H(W,V,K,ae){return function(){for(var Z=0,re=0;re<K.length;re++){var q=K[re];q===ae.interactionState.dragInProgress?(q.x=q.lastDraggedX,q.y=q.lastDraggedY):(q.vx=(q.originalX-q.x)/h.forceTicksPerFrame,q.y=Math.min(ae.size-q.dy/2,Math.max(q.dy/2,q.y))),Z=Math.max(Z,Math.abs(q.vx),Math.abs(q.vy))}!ae.interactionState.dragInProgress&&Z<.1&&ae.forceLayouts[V].alpha()>0&&ae.forceLayouts[V].alpha(0)}}(0,V,Q,K)).stop()}(0,re,Z),function N(W,V,K,ae,Q){window.requestAnimationFrame(function Z(){var re;for(re=0;re<h.forceTicksPerFrame;re++)K.forceLayouts[ae].tick();if(function j(W){for(var V=0;V<W.length;V++)W[V].y0=W[V].y-W[V].dy/2,W[V].y1=W[V].y0+W[V].dy,W[V].x0=W[V].x-W[V].dx/2,W[V].x1=W[V].x0+W[V].dx}(K.graph.nodes),K.sankey.update(K.graph),I(W.filter(ue(K)),V),K.forceLayouts[ae].alpha()>0)window.requestAnimationFrame(Z);else{var se=K.node.originalX;K.node.x0=se-K.visibleWidth/2,K.node.x1=se+K.visibleWidth/2,X(K,Q)}})}(W,V,Z,re,ae)}}).on("drag",function(Z){if("fixed"!==Z.arrangement){var re=o.event.x,q=o.event.y;"snap"===Z.arrangement?(Z.node.x0=re-Z.visibleWidth/2,Z.node.x1=re+Z.visibleWidth/2,Z.node.y0=q-Z.visibleHeight/2,Z.node.y1=q+Z.visibleHeight/2):("freeform"===Z.arrangement&&(Z.node.x0=re-Z.visibleWidth/2,Z.node.x1=re+Z.visibleWidth/2),q=Math.max(0,Math.min(Z.size-Z.visibleHeight/2,q)),Z.node.y0=q-Z.visibleHeight/2,Z.node.y1=q+Z.visibleHeight/2),ie(Z.node),"snap"!==Z.arrangement&&(Z.sankey.update(Z.graph),I(W.filter(ue(Z)),V))}}).on("dragend",function(Z){if("fixed"!==Z.arrangement){Z.interactionState.dragInProgress=!1;for(var re=0;re<Z.node.childrenNodes.length;re++)Z.node.childrenNodes[re].x=Z.node.x,Z.node.childrenNodes[re].y=Z.node.y;"snap"!==Z.arrangement&&X(Z,ae)}});W.on(".drag",null).call(Q)}function X(W,V){for(var K=[],ae=[],Q=0;Q<W.graph.nodes.length;Q++){var re=(W.graph.nodes[Q].y0+W.graph.nodes[Q].y1)/2;K.push((W.graph.nodes[Q].x0+W.graph.nodes[Q].x1)/2/W.figure.width),ae.push(re/W.figure.height)}p.call("_guiRestyle",V,{"node.x":[K],"node.y":[ae]},W.trace.index).then(function(){V._fullLayout._dragCover&&V._fullLayout._dragCover.remove()})}function ie(W){W.lastDraggedX=W.x0+W.dx/2,W.lastDraggedY=W.y0+W.dy/2}function ue(W){return function(V){return V.node.originalX===W.node.originalX}}te.exports=function(W,V,K,ae,Q){var Z=W._context.staticPlot,re=!1;l.ensureSingle(W._fullLayout._infolayer,"g","first-render",function(){re=!0});var q=W._fullLayout._dragCover,se=K.filter(function(Me){return a(Me).trace.visible}).map(E.bind(null,ae)),de=V.selectAll("."+h.cn.sankey).data(se,c);de.exit().remove(),de.enter().append("g").classed(h.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Z?"none":"auto").attr("transform",k),de.each(function(Me,Ge){W._fullData[Ge]._sankey=Me;var Ye="bgsankey-"+Me.trace.uid+"-"+Ge;l.ensureSingle(W._fullLayout._draggers,"rect",Ye),W._fullData[Ge]._bgRect=o.select("."+Ye),W._fullData[Ge]._bgRect.style("pointer-events",Z?"none":"all").attr("width",Me.width).attr("height",Me.height).attr("x",Me.translateX).attr("y",Me.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),de.transition().ease(h.ease).duration(h.duration).attr("transform",k);var we=de.selectAll("."+h.cn.sankeyLinks).data(m,c);we.enter().append("g").classed(h.cn.sankeyLinks,!0).style("fill","none");var ye=we.selectAll("."+h.cn.sankeyLink).data(function(Me){return Me.graph.links.filter(function(Ye){return Ye.value}).map(g.bind(null,Me))},c);ye.enter().append("path").classed(h.cn.sankeyLink,!0).call(z,de,Q.linkEvents),ye.style("stroke",function(Me){return B(Me)?t.tinyRGB(y(Me.linkLineColor)):Me.tinyColorHue}).style("stroke-opacity",function(Me){return B(Me)?t.opacity(Me.linkLineColor):Me.tinyColorAlpha}).style("fill",function(Me){return Me.tinyColorHue}).style("fill-opacity",function(Me){return Me.tinyColorAlpha}).style("stroke-width",function(Me){return B(Me)?Me.linkLineWidth:1}).attr("d",w()),ye.style("opacity",function(){return W._context.staticPlot||re||q?1:0}).transition().ease(h.ease).duration(h.duration).style("opacity",1),ye.exit().transition().ease(h.ease).duration(h.duration).style("opacity",0).remove();var Pe=de.selectAll("."+h.cn.sankeyNodeSet).data(m,c);Pe.enter().append("g").classed(h.cn.sankeyNodeSet,!0),Pe.style("cursor",function(Me){switch(Me.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ie=Pe.selectAll("."+h.cn.sankeyNode).data(function(Me){var Ge=Me.graph.nodes;return function ne(W){var K,V=[];for(K=0;K<W.length;K++)W[K].originalX=(W[K].x0+W[K].x1)/2,W[K].originalY=(W[K].y0+W[K].y1)/2,-1===V.indexOf(W[K].originalX)&&V.push(W[K].originalX);for(V.sort(function(ae,Q){return ae-Q}),K=0;K<W.length;K++)W[K].originalLayerIndex=V.indexOf(W[K].originalX),W[K].originalLayer=W[K].originalLayerIndex/(V.length-1)}(Ge),Ge.map(n.bind(null,Me))},c);Ie.enter().append("g").classed(h.cn.sankeyNode,!0).call(S).style("opacity",function(Me){return!W._context.staticPlot&&!re||Me.partOfGroup?0:1}),Ie.call(z,de,Q.nodeEvents).call(O,ye,Q,W),Ie.transition().ease(h.ease).duration(h.duration).call(S).style("opacity",function(Me){return Me.partOfGroup?0:1}),Ie.exit().transition().ease(h.ease).duration(h.duration).style("opacity",0).remove();var Se=Ie.selectAll("."+h.cn.nodeRect).data(m);Se.enter().append("rect").classed(h.cn.nodeRect,!0).call(L),Se.style("stroke-width",function(Me){return Me.nodeLineWidth}).style("stroke",function(Me){return t.tinyRGB(y(Me.nodeLineColor))}).style("stroke-opacity",function(Me){return t.opacity(Me.nodeLineColor)}).style("fill",function(Me){return Me.tinyColorHue}).style("fill-opacity",function(Me){return Me.tinyColorAlpha}),Se.transition().ease(h.ease).duration(h.duration).call(L);var xe=Ie.selectAll("."+h.cn.nodeLabel).data(m);xe.enter().append("text").classed(h.cn.nodeLabel,!0).style("cursor","default"),xe.attr("data-notex",1).text(function(Me){return Me.node.label}).each(function(Me){var Ge=o.select(this);r.font(Ge,Me.textFont),b.convertToTspans(Ge,W)}).style("text-shadow",b.makeTextShadow(W._fullLayout.paper_bgcolor)).attr("text-anchor",function(Me){return Me.horizontal&&Me.left?"end":"start"}).attr("transform",function(Me){var Ge=o.select(this),Ye=b.lineCount(Ge),He=Me.nodeLineWidth/2+3,rt=((Me.horizontal?Me.visibleHeight:Me.visibleWidth)-Me.textFont.size*((Ye-1)*A-v))/2;Me.horizontal&&(Me.left?He=-He:He+=Me.visibleWidth);var $e=Me.horizontal?"":"scale(-1,1)"+u(90);return i(Me.horizontal?He:rt,Me.horizontal?rt:He)+$e}),xe.transition().ease(h.ease).duration(h.duration)}},84564:function(te){"use strict";te.exports=function(e,T){for(var o=[],P=e.cd[0].trace,C=P._sankey.graph.nodes,h=0;h<C.length;h++){var y=C[h];if(!y.partOfGroup){var t=[(y.x0+y.x1)/2,(y.y0+y.y1)/2];"v"===P.orientation&&t.reverse(),T&&T.contains(t,!1,h,e)&&o.push({pointNumber:y.pointNumber})}}return o}},75225:function(te,Y,e){"use strict";var T=e(71828);te.exports=function(o,P){for(var C=0;C<o.length;C++)o[C].i=C;T.mergeArray(P.text,o,"tx"),T.mergeArray(P.texttemplate,o,"txt"),T.mergeArray(P.hovertext,o,"htx"),T.mergeArray(P.customdata,o,"data"),T.mergeArray(P.textposition,o,"tp"),P.textfont&&(T.mergeArrayCastPositive(P.textfont.size,o,"ts"),T.mergeArray(P.textfont.color,o,"tc"),T.mergeArray(P.textfont.family,o,"tf"));var h=P.marker;if(h){T.mergeArrayCastPositive(h.size,o,"ms"),T.mergeArrayCastPositive(h.opacity,o,"mo"),T.mergeArray(h.symbol,o,"mx"),T.mergeArray(h.angle,o,"ma"),T.mergeArray(h.standoff,o,"mf"),T.mergeArray(h.color,o,"mc");var y=h.line;h.line&&(T.mergeArray(y.color,o,"mlc"),T.mergeArrayCastPositive(y.width,o,"mlw"));var t=h.gradient;t&&"none"!==t.type&&(T.mergeArray(t.type,o,"mgt"),T.mergeArray(t.color,o,"mgc"))}}},82196:function(te,Y,e){"use strict";var T=e(12663).axisHoverFormat,D=e(5386).si,o=e(5386).fF,P=e(50693),C=e(41940),h=e(79952).P,y=e(79952).u,t=e(91424),r=e(47581),l=e(1426).extendFlat;te.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:T("x"),yhoverformat:T("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:D({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:o({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:l({},h,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:y,marker:l({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:l({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},P("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},P("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:C({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(te,Y,e){"use strict";var T=e(92770),D=e(71828),o=e(89298),P=e(42973),C=e(50606).BADNUM,h=e(34098),y=e(36922),t=e(75225),r=e(66279);function i(a,b,p,s,v,A,x){var E=b._length,g=a._fullLayout,M=p._id,w=s._id,n=g._firstScatter[c(b)]===b.uid,S=(m(b,g,p,s)||{}).orientation,d=b.fill;p._minDtick=0,s._minDtick=0;var I={padded:!0},L={padded:!0};x&&(I.ppad=L.ppad=x);var B=E<2||v[0]!==v[E-1]||A[0]!==A[E-1];B&&("tozerox"===d||"tonextx"===d&&(n||"h"===S))?I.tozero=!0:!(b.error_y||{}).visible&&("tonexty"===d||"tozeroy"===d||!h.hasMarkers(b)&&!h.hasText(b))&&(I.padded=!1,I.ppad=0),B&&("tozeroy"===d||"tonexty"===d&&(n||"v"===S))?L.tozero=!0:("tonextx"===d||"tozerox"===d)&&(L.padded=!1),M&&(b._extremes[M]=o.findExtremes(p,v,I)),w&&(b._extremes[w]=o.findExtremes(s,A,L))}function u(a,b){if(h.hasMarkers(a)){var v,p=a.marker,s=1.6*(a.marker.sizeref||1);if(v="area"===a.marker.sizemode?function(M){return Math.max(Math.sqrt((M||0)/s),3)}:function(M){return Math.max((M||0)/s,3)},D.isArrayOrTypedArray(p.size)){var A={type:"linear"};o.setConvert(A);for(var x=A.makeCalcdata(a.marker,"size"),E=new Array(b),g=0;g<b;g++)E[g]=v(x[g]);return E}return v(p.size)}}function f(a,b){var p=c(b),s=a._firstScatter;s[p]||(s[p]=b.uid)}function c(a){var b=a.stackgroup;return a.xaxis+a.yaxis+a.type+(b?"-"+b:"")}function m(a,b,p,s){var v=a.stackgroup;if(v){var A=b._scatterStackOpts[p._id+s._id][v],x="v"===A.orientation?s:p;if("linear"===x.type||"log"===x.type)return A}}te.exports={calc:function l(a,b){var B,k,z,O,F,N,p=a._fullLayout,s=b._xA=o.getFromId(a,b.xaxis||"x","x"),v=b._yA=o.getFromId(a,b.yaxis||"y","y"),A=s.makeCalcdata(b,"x"),x=v.makeCalcdata(b,"y"),E=P(b,s,"x",A),g=P(b,v,"y",x),M=E.vals,w=g.vals,n=b._length,S=new Array(n),d=b.ids,I=m(b,p,s,v),L=!1;f(p,b);var ne,H="x",X="y";I?(D.pushUnique(I.traceIndices,b._expandedIndex),(B="v"===I.orientation)?(X="s",ne="x"):(H="s",ne="y"),F="interpolate"===I.stackgaps):i(a,b,s,v,M,w,u(b,n));var ue=!!b.xperiodalignment,J=!!b.yperiodalignment;for(k=0;k<n;k++){var j=S[k]={},W=T(M[k]),V=T(w[k]);W&&V?(j[H]=M[k],j[X]=w[k],ue&&(j.orig_x=A[k],j.xEnd=E.ends[k],j.xStart=E.starts[k]),J&&(j.orig_y=x[k],j.yEnd=g.ends[k],j.yStart=g.starts[k])):I&&(B?W:V)?(j[ne]=B?M[k]:w[k],j.gap=!0,F?(j.s=C,L=!0):j.s=0):j[H]=j[X]=C,d&&(j.id=String(d[k]))}if(t(S,b),y(a,b),r(S,b),I){for(k=0;k<S.length;)S[k][ne]===C?S.splice(k,1):k++;if(D.sort(S,function(Z,re){return Z[ne]-re[ne]||Z.i-re.i}),L){for(k=0;k<S.length-1&&S[k].gap;)k++;for((N=S[k].s)||(N=S[k].s=0),z=0;z<k;z++)S[z].s=N;for(O=S.length-1;O>k&&S[O].gap;)O--;for(N=S[O].s,z=S.length-1;z>O;z--)S[z].s=N;for(;k<O;)if(S[++k].gap){for(z=k+1;S[z].gap;)z++;for(var K=S[k-1][ne],ae=S[k-1].s,Q=(S[z].s-ae)/(S[z][ne]-K);k<z;)S[k].s=ae+(S[k][ne]-K)*Q,k++}}}return S},calcMarkerSize:u,calcAxisExpansion:i,setFirstScatter:f,getStackOpts:m}},66279:function(te,Y,e){"use strict";var T=e(71828);te.exports=function(o,P){T.isArrayOrTypedArray(P.selectedpoints)&&T.tagSelected(o,P)}},36922:function(te,Y,e){"use strict";var T=e(52075).hasColorscale,D=e(78803),o=e(34098);te.exports=function(C,h){o.hasLines(h)&&T(h,"line")&&D(C,h,{vals:h.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(h)&&(T(h,"marker")&&D(C,h,{vals:h.marker.color,containerStr:"marker",cLetter:"c"}),T(h,"marker.line")&&D(C,h,{vals:h.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(te){"use strict";te.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(te,Y,e){"use strict";var T=e(47761),D=e(11661).setGroupPositions;function P(h,y,t,r,l,i,u){l[r]=!0;var f={i:null,gap:!0,s:0};if(f[u]=t,h.splice(y,0,f),y&&t===h[y-1][u]){var c=h[y-1];f.s=c.s,f.i=c.i,f.gap=c.gap}else i&&(f.s=function C(h,y,t,r){var l=h[y-1],i=h[y+1];return i?l?l.s+(i.s-l.s)*(t-l[r])/(i[r]-l[r]):i.s:l.s}(h,y,t,u));y||(h[0].t=h[1].t,h[0].trace=h[1].trace,delete h[1].t,delete h[1].trace)}te.exports=function(y,t){"group"===y._fullLayout.scattermode&&function o(h,y){for(var t=y.xaxis,r=y.yaxis,l=h._fullLayout,i=h._fullData,u=h.calcdata,f=[],c=[],m=0;m<i.length;m++){var a=i[m];!0===a.visible&&"scatter"===a.type&&a.xaxis===t._id&&a.yaxis===r._id&&("h"===a.orientation?f.push(u[m]):"v"===a.orientation&&c.push(u[m]))}var b={mode:l.scattermode,gap:l.scattergap};D(h,t,r,c,b),D(h,r,t,f,b)}(y,t);var r=t.xaxis,l=t.yaxis,u=y._fullLayout._scatterStackOpts[r._id+l._id];if(u){var c,m,a,b,p,s,v,A,x,E,g,M,w,n,S,f=y.calcdata;for(var d in u){var I=(E=u[d]).traceIndices;if(I.length){for(g="interpolate"===E.stackgaps,M=E.groupnorm,"v"===E.orientation?(w="x",n="y"):(w="y",n="x"),S=new Array(I.length),c=0;c<S.length;c++)S[c]=!1;s=f[I[0]];var L=new Array(s.length);for(c=0;c<s.length;c++)L[c]=s[c][w];for(c=1;c<I.length;c++){for(p=f[I[c]],m=a=0;m<p.length;m++){for(v=p[m][w];v>L[a]&&a<L.length;a++)P(p,m,L[a],c,S,g,w),m++;if(v!==L[a]){for(b=0;b<c;b++)P(f[I[b]],a,v,b,S,g,w);L.splice(a,0,v)}a++}for(;a<L.length;a++)P(p,m,L[a],c,S,g,w),m++}var B=L.length;for(m=0;m<s.length;m++){for(A=s[m][n]=s[m].s,c=1;c<I.length;c++)(p=f[I[c]])[0].trace._rawLength=p[0].trace._length,p[0].trace._length=B,p[m][n]=A+=p[m].s;if(M)for(x=("fraction"===M?A:A/100)||1,c=0;c<I.length;c++){var k=f[I[c]][m];k[n]/=x,k.sNorm=k.s/x}}for(c=0;c<I.length;c++){var z=(p=f[I[c]])[0].trace,O=T.calcMarkerSize(z,z._rawLength),F=Array.isArray(O);if(O&&S[c]||F){var N=O;for(O=new Array(B),m=0;m<B;m++)O[m]=p[m].gap?0:F?N[p[m].i]:N}var H=new Array(B),X=new Array(B);for(m=0;m<B;m++)H[m]=p[m].x,X[m]=p[m].y;T.calcAxisExpansion(y,z,r,l,H,X,O),p[0].t.orientation=E.orientation}}}}}},34936:function(te,Y,e){"use strict";var T=e(71828),D=e(26125),o=e(82196);te.exports=function(C,h){var t,r;function l(m){return T.coerce(t._input,t,o,m)}if("group"===h.scattermode)for(r=0;r<C.length;r++)"scatter"===(t=C[r]).type&&D(t._input,t,h,l);for(r=0;r<C.length;r++){var i=C[r];if("scatter"===i.type){var u=i.fill;if("none"!==u&&"toself"!==u&&(i.opacity=void 0,"tonexty"===u||"tonextx"===u))for(var f=r-1;f>=0;f--){var c=C[f];if("scatter"===c.type&&c.xaxis===i.xaxis&&c.yaxis===i.yaxis){c.opacity=void 0;break}}}}}},17438:function(te,Y,e){"use strict";var T=e(71828),D=e(73972),o=e(82196),P=e(47581),C=e(34098),h=e(67513),y=e(73927),t=e(565),r=e(49508),l=e(11058),i=e(94039),u=e(82410),f=e(28908),c=e(71828).coercePattern;te.exports=function(a,b,p,s){function v(S,d){return T.coerce(a,b,o,S,d)}var A=h(a,b,s,v);if(A||(b.visible=!1),b.visible){y(a,b,s,v),v("xhoverformat"),v("yhoverformat");var x=t(a,b,s,v);"group"===s.scattermode&&void 0===b.orientation&&v("orientation","v");var E=!x&&A<P.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("mode",E),C.hasLines(b)&&(l(a,b,p,s,v,{backoff:!0}),i(a,b,v),v("connectgaps"),v("line.simplify")),C.hasMarkers(b)&&r(a,b,p,s,v,{gradient:!0}),C.hasText(b)&&(v("texttemplate"),u(a,b,s,v));var g=[];(C.hasMarkers(b)||C.hasText(b))&&(v("cliponaxis"),v("marker.maxdisplayed"),g.push("points")),v("fill",x?x.fillDflt:"none"),"none"!==b.fill&&(f(a,b,p,v),C.hasLines(b)||i(a,b,v),c(v,"fillpattern",b.fillcolor,!1));var M=(b.line||{}).color,w=(b.marker||{}).color;("tonext"===b.fill||"toself"===b.fill)&&g.push("fills"),v("hoveron",g.join("+")||"points"),"fills"!==b.hoveron&&v("hovertemplate");var n=D.getComponentMethod("errorbars","supplyDefaults");n(a,b,M||w||p,{axis:"y"}),n(a,b,M||w||p,{axis:"x",inherit:"y"}),T.coerceSelectionMarkerOpacity(b,v)}}},28908:function(te,Y,e){"use strict";var T=e(7901),D=e(71828).isArrayOrTypedArray;te.exports=function(P,C,h,y){var t=!1;if(C.marker){var r=C.marker.color,l=(C.marker.line||{}).color;r&&!D(r)?t=r:l&&!D(l)&&(t=l)}y("fillcolor",T.addOpacity((C.line||{}).color||t||h,.5))}},8225:function(te,Y,e){"use strict";var T=e(89298);te.exports=function(o,P,C){var h={},y={_fullLayout:C},t=T.getFromTrace(y,P,"x"),r=T.getFromTrace(y,P,"y"),l=o.orig_x;void 0===l&&(l=o.x);var i=o.orig_y;return void 0===i&&(i=o.y),h.xLabel=T.tickText(t,t.c2l(l),!0).text,h.yLabel=T.tickText(r,r.c2l(i),!0).text,h}},34603:function(te,Y,e){"use strict";var T=e(7901),D=e(34098);te.exports=function(P,C){var h,y;if("lines"===P.mode)return(h=P.line.color)&&T.opacity(h)?h:P.fillcolor;if("none"===P.mode)return P.fill?P.fillcolor:"";var t=C.mcc||(P.marker||{}).color,r=C.mlcc||((P.marker||{}).line||{}).color;return(y=t&&T.opacity(t)?t:r&&T.opacity(r)&&(C.mlw||((P.marker||{}).line||{}).width)?r:"")?T.opacity(y)<.3?T.addOpacity(y,.3):y:(h=(P.line||{}).color)&&T.opacity(h)&&D.hasLines(P)&&P.line.width?h:P.fillcolor}},26125:function(te,Y,e){"use strict";var T=e(99082).getAxisGroup;te.exports=function(o,P,C,h){var y=P.orientation,r=T(C,P[{v:"x",h:"y"}[y]+"axis"])+y,l=C._alignmentOpts||{},i=h("alignmentgroup"),u=l[r];u||(u=l[r]={});var f=u[i];f?f.traces.push(P):f=u[i]={traces:[P],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var c=h("offsetgroup"),m=f.offsetGroups,a=m[c];c&&(a||(a=m[c]={offsetIndex:Object.keys(m).length}),P._offsetIndex=a.offsetIndex)}},33720:function(te,Y,e){"use strict";var T=e(71828),D=e(30211),o=e(73972),P=e(34603),C=e(7901),h=T.fillText;te.exports=function(t,r,l,i){var u=t.cd,f=u[0].trace,c=t.xa,m=t.ya,a=c.c2p(r),b=m.c2p(l),p=[a,b],s=f.hoveron||"",v=-1!==f.mode.indexOf("markers")?3:.5,A=!!f.xperiodalignment,x=!!f.yperiodalignment;if(-1!==s.indexOf("points")){var M=function(se){var de=Math.max(v,se.mrc||0),we=c.c2p(se.x)-a,ye=m.c2p(se.y)-b;return Math.max(Math.sqrt(we*we+ye*ye)-de,1-v/de)},w=D.getDistanceFunction(i,function(se){if(A){var de=c.c2p(se.xStart),we=c.c2p(se.xEnd);return a>=Math.min(de,we)&&a<=Math.max(de,we)?0:1/0}var ye=Math.max(3,se.mrc||0),Pe=1-1/ye,Ie=Math.abs(c.c2p(se.x)-a);return Ie<ye?Pe*Ie/ye:Ie-ye+Pe},function(se){if(x){var de=m.c2p(se.yStart),we=m.c2p(se.yEnd);return b>=Math.min(de,we)&&b<=Math.max(de,we)?0:1/0}var ye=Math.max(3,se.mrc||0),Pe=1-1/ye,Ie=Math.abs(m.c2p(se.y)-b);return Ie<ye?Pe*Ie/ye:Ie-ye+Pe},M);if(D.getClosest(u,w,t),!1!==t.index){var n=u[t.index],S=c.c2p(n.x,!0),d=m.c2p(n.y,!0),I=n.mrc||1;t.index=n.i;var L=u[0].t.orientation,B=L&&(n.sNorm||n.s),k="h"===L?B:void 0!==n.orig_x?n.orig_x:n.x,z="v"===L?B:void 0!==n.orig_y?n.orig_y:n.y;return T.extendFlat(t,{color:P(f,n),x0:S-I,x1:S+I,xLabelVal:k,y0:d-I,y1:d+I,yLabelVal:z,spikeDistance:M(n),hovertemplate:f.hovertemplate}),h(n,f,t),o.getComponentMethod("errorbars","hoverInfo")(n,f,t),[t]}}if(-1!==s.indexOf("fills")&&f._polygons){var ue,J,j,W,V,K,Q,Z,O=f._polygons,F=[],N=!1,H=1/0,X=-1/0,ne=1/0,ie=-1/0;for(ue=0;ue<O.length;ue++)(j=O[ue]).contains(p)&&(N=!N,F.push(j),ne=Math.min(ne,j.ymin),ie=Math.max(ie,j.ymax));if(N){var re=((ne=Math.max(ne,0))+(ie=Math.min(ie,m._length)))/2;for(ue=0;ue<F.length;ue++)for(W=F[ue].pts,J=1;J<W.length;J++)(Q=W[J-1][1])>re!=(Z=W[J][1])>=re&&(K=W[J-1][0],Z-Q&&(V=K+(W[J][0]-K)*(re-Q)/(Z-Q),H=Math.min(H,V),X=Math.max(X,V)));H=Math.max(H,0),X=Math.min(X,c._length);var q=C.defaultLine;return C.opacity(f.fillcolor)?q=f.fillcolor:C.opacity((f.line||{}).color)&&(q=f.line.color),T.extendFlat(t,{distance:t.maxHoverDistance,x0:H,x1:X,y0:re,y1:re,color:q,hovertemplate:!1}),delete t.index,t.text=f.text&&!Array.isArray(f.text)?String(f.text):f.name,[t]}}}},67368:function(te,Y,e){"use strict";var T=e(34098);te.exports={hasLines:T.hasLines,hasMarkers:T.hasMarkers,hasText:T.hasText,isBubble:T.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(te){"use strict";te.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(te,Y,e){"use strict";var T=e(71828),D=e(21479);te.exports=function(o,P){"group"===P.scattermode&&function C(y,t){T.coerce(o,P,D,y,t)}("scattergap","group"===P.barmode?P.bargap:.2)}},11058:function(te,Y,e){"use strict";var T=e(71828).isArrayOrTypedArray,D=e(52075).hasColorscale,o=e(1586);te.exports=function(C,h,y,t,r,l){l||(l={});var i=(C.marker||{}).color;r("line.color",y),D(C,"line")?o(C,h,t,r,{prefix:"line.",cLetter:"c"}):r("line.color",!T(i)&&i||y),r("line.width"),l.noDash||r("line.dash"),l.backoff&&r("line.backoff")}},34621:function(te,Y,e){"use strict";var T=e(91424),D=e(50606),o=D.BADNUM,P=D.LOG_CLIP,C=P+.5,h=P-.5,y=e(71828),t=y.segmentsIntersect,r=y.constrain,l=e(47581);te.exports=function(u,f){var k,z,O,F,N,H,X,ne,ie,ue,J,j,W,V,K,ae,re,q,c=f.trace||{},m=f.xaxis,a=f.yaxis,b="log"===m.type,p="log"===a.type,s=m._length,v=a._length,A=f.backoff,x=c.marker,E=f.connectGaps,g=f.baseTolerance,M=f.shape,w="linear"===M,n=c.fill&&"none"!==c.fill,S=[],d=l.minTolerance,I=u.length,L=new Array(I),B=0;function Q(at){var ft=u[at];if(!ft)return!1;var Xt=f.linearized?m.l2p(ft.x):m.c2p(ft.x),rr=f.linearized?a.l2p(ft.y):a.c2p(ft.y);if(Xt===o){if(b&&(Xt=m.c2p(ft.x,!0)),Xt===o)return!1;p&&rr===o&&(Xt*=Math.abs(m._m*v*(m._m>0?C:h)/(a._m*s*(a._m>0?C:h)))),Xt*=1e3}if(rr===o){if(p&&(rr=a.c2p(ft.y,!0)),rr===o)return!1;rr*=1e3}return[Xt,rr]}function Z(at,ft,Xt,rr){var At=Xt-at,zt=rr-ft,Qt=.5-at,Rr=.5-ft,pt=At*At+zt*zt,$t=At*Qt+zt*Rr;if($t>0&&$t<pt){var tr=Qt*zt-Rr*At;if(tr*tr<pt)return!0}}function se(at,ft){var Xt=at[0]/s,rr=at[1]/v,At=Math.max(0,-Xt,Xt-1,-rr,rr-1);return At&&void 0!==re&&Z(Xt,rr,re,q)&&(At=0),At&&ft&&Z(Xt,rr,ft[0]/s,ft[1]/v)&&(At=0),(1+l.toleranceGrowth*At)*g}function de(at,ft){var Xt=at[0]-ft[0],rr=at[1]-ft[1];return Math.sqrt(Xt*Xt+rr*rr)}var Me,Ge,Ye,De,He,rt,ut,we=l.maxScreensAway,ye=-s*we,Pe=s*(1+we),Ie=-v*we,Se=v*(1+we),xe=[[ye,Ie,Pe,Ie],[Pe,Ie,Pe,Se],[Pe,Se,ye,Se],[ye,Se,ye,Ie]];function Be(at){if(at[0]<ye||at[0]>Pe||at[1]<Ie||at[1]>Se)return[r(at[0],ye,Pe),r(at[1],Ie,Se)]}function ze(at,ft){if(at[0]===ft[0]&&(at[0]===ye||at[0]===Pe)||at[1]===ft[1]&&(at[1]===Ie||at[1]===Se))return!0}function lt(at,ft,Xt){return function(rr,At){var zt=Be(rr),Qt=Be(At),Rr=[];if(zt&&Qt&&ze(zt,Qt))return Rr;zt&&Rr.push(zt),Qt&&Rr.push(Qt);var pt=2*y.constrain((rr[at]+At[at])/2,ft,Xt)-((zt||rr)[at]+(Qt||At)[at]);return pt&&((zt&&Qt?pt>0==zt[at]>Qt[at]?zt:Qt:zt||Qt)[at]+=pt),Rr}}function bt(at){var ft=at[0],Xt=at[1],rr=ft===L[B-1][0],At=Xt===L[B-1][1];if(!rr||!At)if(B>1){var zt=ft===L[B-2][0],Qt=Xt===L[B-2][1];rr&&(ft===ye||ft===Pe)&&zt?Qt?B--:L[B-1]=at:At&&(Xt===Ie||Xt===Se)&&Qt?zt?B--:L[B-1]=at:L[B++]=at}else L[B++]=at}function Ht(at){L[B-1][0]!==at[0]&&L[B-1][1]!==at[1]&&bt([Ye,De]),bt(at),He=null,Ye=De=0}"linear"===M||"spline"===M?ut=function $e(at,ft){for(var Xt=[],rr=0,At=0;At<4;At++){var zt=xe[At],Qt=t(at[0],at[1],ft[0],ft[1],zt[0],zt[1],zt[2],zt[3]);Qt&&(!rr||Math.abs(Qt.x-Xt[0][0])>1||Math.abs(Qt.y-Xt[0][1])>1)&&(Qt=[Qt.x,Qt.y],rr&&de(Qt,at)<de(Xt[0],at)?Xt.unshift(Qt):Xt.push(Qt),rr++)}return Xt}:"hv"===M||"vh"===M?ut=function tt(at,ft){var Xt=[],rr=Be(at),At=Be(ft);return rr&&At&&ze(rr,At)||(rr&&Xt.push(rr),At&&Xt.push(At)),Xt}:"hvh"===M?ut=lt(0,ye,Pe):"vhv"===M&&(ut=lt(1,Ie,Se));var Je=y.isArrayOrTypedArray(x);function Ce(at){if(at&&A&&(at.i=k,at.d=u,at.trace=c,at.marker=Je?x[at.i]:x,at.backoff=A),re=at[0]/s,q=at[1]/v,Ge=at[1]<Ie?Ie:at[1]>Se?Se:0,(Me=at[0]<ye?ye:at[0]>Pe?Pe:0)||Ge){if(B)if(He){var ft=ut(He,at);ft.length>1&&(Ht(ft[0]),L[B++]=ft[1])}else rt=ut(L[B-1],at)[0],L[B++]=rt;else L[B++]=[Me||at[0],Ge||at[1]];var Xt=L[B-1];Me&&Ge&&(Xt[0]!==Me||Xt[1]!==Ge)?(He&&(Ye!==Me&&De!==Ge?bt(Ye&&De?function xt(at,ft){var Xt=ft[0]-at[0],rr=(ft[1]-at[1])/Xt;return(at[1]*ft[0]-ft[1]*at[0])/Xt>0?[rr>0?ye:Pe,Se]:[rr>0?Pe:ye,Ie]}(He,at):[Ye||Me,De||Ge]):Ye&&De&&bt([Ye,De])),bt([Me,Ge])):Ye-Me&&De-Ge&&bt([Me||Ye,Ge||De]),He=at,Ye=Me,De=Ge}else He&&Ht(ut(He,at)[0]),L[B++]=at}for(k=0;k<I;k++)if(z=Q(k)){for(B=0,He=null,Ce(z),k++;k<I;k++){if(!(F=Q(k))){if(E)continue;break}if(w&&f.simplify){var Ee=Q(k+1);if(ue=de(F,z),n&&(0===B||B===I-1)||!(ue<se(F,Ee)*d)){for(ne=[(F[0]-z[0])/ue,(F[1]-z[1])/ue],N=z,J=ue,j=V=K=0,X=!1,O=F,k++;k<u.length;k++){if(H=Ee,Ee=Q(k+1),!H){if(E)continue;break}if(ae=(ie=[H[0]-z[0],H[1]-z[1]])[0]*ne[1]-ie[1]*ne[0],V=Math.min(V,ae),(K=Math.max(K,ae))-V>se(H,Ee))break;O=H,(W=ie[0]*ne[0]+ie[1]*ne[1])>J?(J=W,F=H,X=!1):W<j&&(j=W,N=H,X=!0)}if(X?(Ce(F),O!==N&&Ce(N)):(N!==z&&Ce(N),O!==F&&Ce(F)),Ce(O),k>=u.length||!H)break;Ce(H),z=H}}else Ce(F)}He&&bt([Ye||He[0],De||He[1]]),S.push(L.slice(0,B))}var Re=M.slice(M.length-1);if(A&&"h"!==Re&&"v"!==Re){for(var ke=!1,Ne=-1,_e=[],Te=0;Te<S.length;Te++)for(var fe=0;fe<S[Te].length-1;fe++){var pe=S[Te][fe],Fe=S[Te][fe+1],Xe=T.applyBackoff(Fe,pe);(Xe[0]!==Fe[0]||Xe[1]!==Fe[1])&&(ke=!0),_e[Ne+1]||(_e[++Ne]=[pe,[Xe[0],Xe[1]]])}return ke?_e:S}return S}},94039:function(te){"use strict";te.exports=function(e,T,D){"spline"===D("line.shape")&&D("line.smoothing")}},68687:function(te){"use strict";var Y={tonextx:1,tonexty:1,tonext:1};te.exports=function(T,D,o){var P,C,h,y,t,r={},l=!1,i=-1,u=0,f=-1;for(C=0;C<o.length;C++)(h=(P=o[C][0].trace).stackgroup||"")?h in r?t=r[h]:(t=r[h]=u,u++):P.fill in Y&&f>=0?t=f:(t=f=u,u++),t<i&&(l=!0),P._groupIndex=i=t;var c=o.slice();l&&c.sort(function(a,b){var p=a[0].trace,s=b[0].trace;return p._groupIndex-s._groupIndex||p.index-s.index});var m={};for(C=0;C<c.length;C++)h=(P=c[C][0].trace).stackgroup||"",!0===P.visible?(P._nexttrace=null,P.fill in Y&&(P._prevtrace=(y=m[h])||null,y&&(y._nexttrace=P)),P._ownfill=P.fill&&("tozero"===P.fill.substr(0,6)||"toself"===P.fill||"to"===P.fill.substr(0,2)&&!P._prevtrace),m[h]=P):P._prevtrace=P._nexttrace=P._ownfill=null;return c}},39984:function(te,Y,e){"use strict";var T=e(92770);te.exports=function(o,P){P||(P=2);var C=o.marker,h=C.sizeref||1,y=C.sizemin||0,t="area"===C.sizemode?function(r){return Math.sqrt(r/h)}:function(r){return r/h};return function(r){var l=t(r/P);return T(l)&&l>0?Math.max(l,y):0}}},4898:function(te){"use strict";te.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(te,Y,e){"use strict";var T=e(7901),D=e(52075).hasColorscale,o=e(1586),P=e(34098);te.exports=function(h,y,t,r,l,i){var u=P.isBubble(h),f=(h.line||{}).color;i=i||{},f&&(t=f),l("marker.symbol"),l("marker.opacity",u?.7:1),l("marker.size"),i.noAngle||(l("marker.angle"),i.noAngleRef||l("marker.angleref"),i.noStandOff||l("marker.standoff")),l("marker.color",t),D(h,"marker")&&o(h,y,r,l,{prefix:"marker.",cLetter:"c"}),i.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),i.noLine||(l("marker.line.color",f&&!Array.isArray(f)&&y.marker.color!==f?f:u?T.background:T.defaultLine),D(h,"marker.line")&&o(h,y,r,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",u?1:0)),u&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),i.gradient&&"none"!==l("marker.gradient.type")&&l("marker.gradient.color")}},73927:function(te,Y,e){"use strict";var T=e(71828).dateTick0,o=e(50606).ONEWEEK;function P(C,h){return T(h,C%o==0?1:0)}te.exports=function(h,y,t,r,l){if(l||(l={x:!0,y:!0}),l.x){var i=r("xperiod");i&&(r("xperiod0",P(i,y.xcalendar)),r("xperiodalignment"))}if(l.y){var u=r("yperiod");u&&(r("yperiod0",P(u,y.ycalendar)),r("yperiodalignment"))}}},32663:function(te,Y,e){"use strict";var T=e(39898),D=e(73972),o=e(71828),P=o.ensureSingle,C=o.identity,h=e(91424),y=e(34098),t=e(34621),r=e(68687),l=e(61082).tester;function u(c,m,a,b,p,s,v){var x,A=c._context.staticPlot;!function f(c,m,a,b,p){var s=a.xaxis,v=a.yaxis,A=T.extent(o.simpleMap(s.range,s.r2c)),x=T.extent(o.simpleMap(v.range,v.r2c)),E=b[0].trace;if(y.hasMarkers(E)){var g=E.marker.maxdisplayed;if(0!==g){var M=b.filter(function(d){return d.x>=A[0]&&d.x<=A[1]&&d.y>=x[0]&&d.y<=x[1]}),w=Math.ceil(M.length/g),n=0;p.forEach(function(d,I){var L=d[0].trace;y.hasMarkers(L)&&L.marker.maxdisplayed>0&&I<m&&n++});var S=Math.round(n*w/3+Math.floor(n/3)*w/7.1);b.forEach(function(d){delete d.vis}),M.forEach(function(d,I){0===Math.round((I+S)%w)&&(d.vis=!0)})}}}(0,m,a,b,p);var E=!!v&&v.duration>0;function g(De){return E?De.transition():De}var M=a.xaxis,w=a.yaxis,n=b[0].trace,S=n.line,d=T.select(s),I=P(d,"g","errorbars"),L=P(d,"g","lines"),B=P(d,"g","points"),k=P(d,"g","text");if(D.getComponentMethod("errorbars","plot")(c,I,a,v),!0===n.visible){g(d).style("opacity",n.opacity);var z,O,F=n.fill.charAt(n.fill.length-1);"x"!==F&&"y"!==F&&(F=""),b[0][a.isRangePlot?"nodeRangePlot3":"node3"]=d;var N="",H=[],X=n._prevtrace;X&&(N=X._prevRevpath||"",O=X._nextFill,H=X._polygons);var ne,ie,j,W,V,K,ae,Q,Z,ue="",J="",re=[],q=o.noop;if(z=n._ownFill,y.hasLines(n)||"none"!==n.fill){for(O&&O.datum(b),-1!==["hv","vh","hvh","vhv"].indexOf(S.shape)?(j=h.steps(S.shape),W=h.steps(S.shape.split("").reverse().join(""))):j=W="spline"===S.shape?function(De){var He=De[De.length-1];return De.length>1&&De[0][0]===He[0]&&De[0][1]===He[1]?h.smoothclosed(De.slice(1),S.smoothing):h.smoothopen(De,S.smoothing)}:function(De){return"M"+De.join("L")},V=function(De){return W(De.reverse())},re=t(b,{xaxis:M,yaxis:w,trace:n,connectGaps:n.connectgaps,baseTolerance:Math.max(S.width||1,3)/4,shape:S.shape,backoff:S.backoff,simplify:S.simplify,fill:n.fill}),Z=n._polygons=new Array(re.length),x=0;x<re.length;x++)n._polygons[x]=l(re[x]);re.length&&(K=re[0][0],Q=(ae=re[re.length-1])[ae.length-1]),q=function(De){return function(He){if(ne=j(He),ie=V(He),ue?F?(ue+="L"+ne.substr(1),J=ie+"L"+J.substr(1)):(ue+="Z"+ne,J=ie+"Z"+J):(ue=ne,J=ie),y.hasLines(n)){var rt=T.select(this);if(rt.datum(b),De)g(rt.style("opacity",0).attr("d",ne).call(h.lineGroupStyle)).style("opacity",1);else{var $e=g(rt);$e.attr("d",ne),h.singleLineStyle(b,$e)}}}}}var se=L.selectAll(".js-line").data(re);g(se.exit()).style("opacity",0).remove(),se.each(q(!1)),se.enter().append("path").classed("js-line",!0).style("vector-effect",A?"none":"non-scaling-stroke").call(h.lineGroupStyle).each(q(!0)),h.setClipUrl(se,a.layerClipId,c),re.length?(z?(z.datum(b),K&&Q&&(F?("y"===F?K[1]=Q[1]=w.c2p(0,!0):"x"===F&&(K[0]=Q[0]=M.c2p(0,!0)),g(z).attr("d","M"+Q+"L"+K+"L"+ue.substr(1)).call(h.singleFillStyle,c)):g(z).attr("d",ue+"Z").call(h.singleFillStyle,c))):O&&("tonext"===n.fill.substr(0,6)&&ue&&N?("tonext"===n.fill?g(O).attr("d",ue+"Z"+N+"Z").call(h.singleFillStyle,c):g(O).attr("d",ue+"L"+N.substr(1)+"Z").call(h.singleFillStyle,c),n._polygons=n._polygons.concat(H)):(de(O),n._polygons=null)),n._prevRevpath=J,n._prevPolygons=Z):(z?de(z):O&&de(O),n._polygons=n._prevRevpath=n._prevPolygons=null),B.datum(b),k.datum(b),function Me(De,He,rt){var $e,tt=rt[0].trace,lt=y.hasMarkers(tt),ut=y.hasText(tt),xt=function Se(De){if(De.ids)return Ie}(tt),bt=xe,Ht=xe;if(lt||ut){var Je=C,Ce=tt.stackgroup,Ee=Ce&&"infer zero"===c._fullLayout._scatterStackOpts[M._id+w._id][Ce].stackgaps;tt.marker.maxdisplayed||tt._needsCull?Je=Ee?ye:we:Ce&&!Ee&&(Je=Pe),lt&&(bt=Je),ut&&(Ht=Je)}var ke,Re=($e=De.selectAll("path.point").data(bt,xt)).enter().append("path").classed("point",!0);E&&Re.call(h.pointStyle,tt,c).call(h.translatePoints,M,w).style("opacity",0).transition().style("opacity",1),$e.order(),lt&&(ke=h.makePointStyleFns(tt)),$e.each(function(Ne){var _e=T.select(this),Te=g(_e);h.translatePoint(Ne,Te,M,w)?(h.singlePointStyle(Ne,Te,tt,ke,c),a.layerClipId&&h.hideOutsideRangePoint(Ne,Te,M,w,tt.xcalendar,tt.ycalendar),tt.customdata&&_e.classed("plotly-customdata",null!=Ne.data)):Te.remove()}),E?$e.exit().transition().style("opacity",0).remove():$e.exit().remove(),($e=He.selectAll("g").data(Ht,xt)).enter().append("g").classed("textpoint",!0).append("text"),$e.order(),$e.each(function(Ne){var _e=T.select(this),Te=g(_e.select("text"));h.translatePoint(Ne,Te,M,w)?a.layerClipId&&h.hideOutsideRangePoint(Ne,_e,M,w,tt.xcalendar,tt.ycalendar):_e.remove()}),$e.selectAll("text").call(h.textPointStyle,tt,c).each(function(Ne){var _e=M.c2p(Ne.x),Te=w.c2p(Ne.y);T.select(this).selectAll("tspan.line").each(function(){g(T.select(this)).attr({x:_e,y:Te})})}),$e.exit().remove()}(B,k,b);var Ye=!1===n.cliponaxis?null:a.layerClipId;h.setClipUrl(B,Ye,c),h.setClipUrl(k,Ye,c)}function de(De){g(De).attr("d","M0,0Z")}function we(De){return De.filter(function(He){return!He.gap&&He.vis})}function ye(De){return De.filter(function(He){return He.vis})}function Pe(De){return De.filter(function(He){return!He.gap})}function Ie(De){return De.id}function xe(){return!1}}te.exports=function(m,a,b,p,s,v){var A,x,E=!s,g=!!s&&s.duration>0,M=r(m,a,b);(A=p.selectAll("g.trace").data(M,function(n){return n[0].trace.uid})).enter().append("g").attr("class",function(n){return"trace scatter trace"+n[0].trace.uid}).style("stroke-miterlimit",2),A.order(),function i(c,m,a){m.each(function(b){var p=P(T.select(this),"g","fills");h.setClipUrl(p,a.layerClipId,c);var s=b[0].trace,v=[];s._ownfill&&v.push("_ownFill"),s._nexttrace&&v.push("_nextFill");var A=p.selectAll("g").data(v,C);A.enter().append("g"),A.exit().each(function(x){s[x]=null}).remove(),A.order().each(function(x){s[x]=P(T.select(this),"path","js-fill")})})}(m,A,a),g?(v&&(x=v()),T.transition().duration(s.duration).ease(s.easing).each("end",function(){x&&x()}).each("interrupt",function(){x&&x()}).each(function(){p.selectAll("g.trace").each(function(n,S){u(m,S,a,n,M,this,s)})})):A.each(function(n,S){u(m,S,a,n,M,this,s)}),E&&A.exit().remove(),p.selectAll("path:not([d])").remove()}},98002:function(te,Y,e){"use strict";var T=e(34098);te.exports=function(o,P){var l,i,u,f,C=o.cd,h=o.xaxis,y=o.yaxis,t=[],r=C[0].trace;if(!T.hasMarkers(r)&&!T.hasText(r))return[];if(!1===P)for(l=0;l<C.length;l++)C[l].selected=0;else for(l=0;l<C.length;l++)u=h.c2p((i=C[l]).x),f=y.c2p(i.y),null!==i.i&&P.contains([u,f],!1,l,o)?(t.push({pointNumber:i.i,x:h.c2d(i.x),y:y.c2d(i.y)}),i.selected=1):i.selected=0;return t}},565:function(te){"use strict";var Y=["orientation","groupnorm","stackgaps"];te.exports=function(T,D,o,P){var C=o._scatterStackOpts,h=P("stackgroup");if(h){var y=D.xaxis+D.yaxis,t=C[y];t||(t=C[y]={});var r=t[h],l=!1;r?r.traces.push(D):(r=t[h]={traceIndices:[],traces:[D]},l=!0);for(var i={orientation:D.x&&!D.y?"h":"v"},u=0;u<Y.length;u++){var f=Y[u],c=f+"Found";if(!r[c]){var m=void 0!==T[f],a="orientation"===f;if((m||l)&&(r[f]=P(f,i[f]),a&&(r.fillDflt="h"===r[f]?"tonextx":"tonexty"),m&&(r[c]=!0,!l&&(delete r.traces[0][f],a))))for(var b=0;b<r.traces.length-1;b++){var p=r.traces[b];p._input.fill!==p.fill&&(p.fill=r.fillDflt)}}}return r}}},16296:function(te,Y,e){"use strict";var T=e(39898),D=e(91424),o=e(73972);function C(t,r,l){D.pointStyle(t.selectAll("path.point"),r,l)}function h(t,r,l){D.textPointStyle(t.selectAll("text"),r,l)}te.exports={style:function P(t){var r=T.select(t).selectAll("g.trace.scatter");r.style("opacity",function(l){return l[0].trace.opacity}),r.selectAll("g.points").each(function(l){C(T.select(this),l.trace||l[0].trace,t)}),r.selectAll("g.text").each(function(l){h(T.select(this),l.trace||l[0].trace,t)}),r.selectAll("g.trace path.js-line").call(D.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(D.fillGroupStyle,t),o.getComponentMethod("errorbars","style")(r)},stylePoints:C,styleText:h,styleOnSelect:function y(t,r,l){var i=r[0].trace;i.selectedpoints?(D.selectedPointStyle(l.selectAll("path.point"),i),D.selectedTextStyle(l.selectAll("text"),i)):(C(l,i,t),h(l,i,t))}}},34098:function(te,Y,e){"use strict";var T=e(71828);te.exports={hasLines:function(D){return D.visible&&D.mode&&-1!==D.mode.indexOf("lines")},hasMarkers:function(D){return D.visible&&(D.mode&&-1!==D.mode.indexOf("markers")||"splom"===D.type)},hasText:function(D){return D.visible&&D.mode&&-1!==D.mode.indexOf("text")},isBubble:function(D){return T.isPlainObject(D.marker)&&T.isArrayOrTypedArray(D.marker.size)}}},82410:function(te,Y,e){"use strict";var T=e(71828);te.exports=function(D,o,P,C,h){h=h||{},C("textposition"),T.coerceFont(C,"textfont",h.font||P.font),h.noSelect||(C("selected.textfont.color"),C("unselected.textfont.color"))}},67513:function(te,Y,e){"use strict";var T=e(71828),D=e(73972);te.exports=function(P,C,h,y){var l,t=y("x"),r=y("y");if(D.getComponentMethod("calendars","handleTraceDefaults")(P,C,["x","y"],h),t){var u=T.minRowLength(t);r?l=Math.min(u,T.minRowLength(r)):(l=u,y("y0"),y("dy"))}else{if(!r)return 0;l=T.minRowLength(r),y("x0"),y("dx")}return C._length=l,l}},44542:function(te,Y,e){"use strict";var T=e(82196),D=e(50693),o=e(12663).axisHoverFormat,P=e(5386).fF,C=e(5386).si,h=e(9012),y=e(29659),t=e(87381),r=e(1426).extendFlat,l=e(30962).overrideAll,i=e(78607),f=T.marker,c=f.line,m=r({width:T.line.width,dash:{valType:"enumerated",values:i(y),dflt:"solid"}},D("line")),b=te.exports=l({x:T.x,y:T.y,z:{valType:"data_array"},text:r({},T.text,{}),texttemplate:C({},{}),hovertext:r({},T.hovertext,{}),hovertemplate:P(),xhoverformat:o("x"),yhoverformat:o("y"),zhoverformat:o("z"),mode:r({},T.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}},connectgaps:T.connectgaps,line:m,marker:r({symbol:{valType:"enumerated",values:i(t),dflt:"circle",arrayOk:!0},size:r({},f.size,{dflt:8}),sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:r({},f.opacity,{arrayOk:!1}),colorbar:f.colorbar,line:r({width:r({},c.width,{arrayOk:!1})},D("marker.line"))},D("marker")),textposition:r({},T.textposition,{dflt:"top center"}),textfont:{color:T.textfont.color,size:T.textfont.size,family:r({},T.textfont.family,{arrayOk:!1})},opacity:h.opacity,hoverinfo:r({},h.hoverinfo)},"calc","nested");b.x.editType=b.y.editType=b.z.editType="calc+clearAxisTypes"},36563:function(te,Y,e){"use strict";var T=e(75225),D=e(36922);te.exports=function(P,C){var h=[{x:!1,y:!1,trace:C,t:{}}];return T(h,C),D(P,C),h}},67336:function(te,Y,e){"use strict";var T=e(73972);function D(C,h,y,t){if(!h||!h.visible)return null;for(var r=T.getComponentMethod("errorbars","makeComputeError")(h),l=new Array(C.length),i=0;i<C.length;i++){var u=r(+C[i],i);if("log"===t.type){var f=t.c2l(C[i]),c=C[i]-u[0],m=C[i]+u[1];if(l[i]=[(t.c2l(c,!0)-f)*y,(t.c2l(m,!0)-f)*y],c>0){var a=t.c2l(c);t._lowerLogErrorBound||(t._lowerLogErrorBound=a),t._lowerErrorBound=Math.min(t._lowerLogErrorBound,a)}}else l[i]=[-u[0]*y,u[1]*y]}return l}te.exports=function P(C,h,y){var t=[D(C.x,C.error_x,h[0],y.xaxis),D(C.y,C.error_y,h[1],y.yaxis),D(C.z,C.error_z,h[2],y.zaxis)],r=function o(C){for(var h=0;h<C.length;h++)if(C[h])return C[h].length;return 0}(t);if(0===r)return null;for(var l=new Array(r),i=0;i<r;i++){for(var u=[[0,0,0],[0,0,0]],f=0;f<3;f++)if(t[f])for(var c=0;c<2;c++)u[c][f]=t[f][i][c];l[i]=u}return l}},58925:function(te,Y,e){"use strict";var T=e(9330).gl_line3d,D=e(9330).gl_scatter3d,o=e(9330).gl_error3d,P=e(9330).gl_mesh3d,C=e(9330).delaunay_triangulate,h=e(71828),y=e(78614),t=e(81697).formatColor,r=e(39984),l=e(29659),i=e(87381),u=e(89298),f=e(23469).appendArrayPointValue,c=e(67336);function m(d,I){this.scene=d,this.uid=I,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var a=m.prototype;function s(d){return null==d?0:d.indexOf("left")>-1?-1:d.indexOf("right")>-1?1:0}function v(d){return null==d?0:d.indexOf("top")>-1?-1:d.indexOf("bottom")>-1?1:0}function x(d,I){return I(4*d)}function E(d){return i[d]}function g(d,I,L,B,k){var z=null;if(h.isArrayOrTypedArray(d)){z=[];for(var O=0;O<I;O++)z[O]=void 0===d[O]?B:L(d[O],k)}else z=L(d,h.identity);return z}function w(d){if(h.isArrayOrTypedArray(d)){var I=d[0];return h.isArrayOrTypedArray(I)&&(d=I),"rgb("+d.slice(0,3).map(function(L){return Math.round(255*L)})+")"}return null}function n(d){return h.isArrayOrTypedArray(d)?4===d.length&&"number"==typeof d[0]?w(d):d.map(w):null}a.handlePick=function(d){if(d.object&&(d.object===this.linePlot||d.object===this.delaunayMesh||d.object===this.textMarkers||d.object===this.scatterPlot)){var I=d.index=d.data.index;return d.object.highlight&&d.object.highlight(null),this.scatterPlot&&(d.object=this.scatterPlot,this.scatterPlot.highlight(d.data)),d.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[I]||0===this.textLabels[I])&&(d.textLabel=this.textLabels[I]):d.textLabel=this.textLabels),d.traceCoordinate=[this.data.x[I],this.data.y[I],this.data.z[I]],!0}},a.update=function(d){var L,B,k,z,I=this.scene.glplot.gl,O=l.solid;this.data=d;var F=function M(d,I){var V,K,ae,Q,Z,re,L=[],B=d.fullSceneLayout,k=d.dataScale,z=B.xaxis,O=B.yaxis,F=B.zaxis,N=I.marker,H=I.line,X=I.x||[],ne=I.y||[],ie=I.z||[],ue=X.length,J=I.xcalendar,j=I.ycalendar,W=I.zcalendar;for(Z=0;Z<ue;Z++)V=z.d2l(X[Z],0,J)*k[0],K=O.d2l(ne[Z],0,j)*k[1],ae=F.d2l(ie[Z],0,W)*k[2],L[Z]=[V,K,ae];if(Array.isArray(I.text))re=I.text;else if(void 0!==I.text)for(re=new Array(ue),Z=0;Z<ue;Z++)re[Z]=I.text;function q($e,Be){var ze=B[$e];return u.tickText(ze,ze.d2l(Be),!0).text}var se=I.texttemplate;if(se){var we=d.fullLayout._d3locale,ye=Array.isArray(se),Pe=ye?Math.min(se.length,ue):ue,Ie=ye?function($e){return se[$e]}:function(){return se};for(re=new Array(Pe),Z=0;Z<Pe;Z++){var Se={x:X[Z],y:ne[Z],z:ie[Z]},xe={xLabel:q("xaxis",X[Z]),yLabel:q("yaxis",ne[Z]),zLabel:q("zaxis",ie[Z])},Me={};f(Me,I,Z);var Ge=I._meta||{};re[Z]=h.texttemplateString(Ie(Z),xe,we,Me,Se,Ge)}}if(Q={position:L,mode:I.mode,text:re},"line"in I&&(Q.lineColor=t(H,1,ue),Q.lineWidth=H.width,Q.lineDashes=H.dash),"marker"in I){var Ye=r(I);Q.scatterColor=t(N,1,ue),Q.scatterSize=g(N.size,ue,x,20,Ye),Q.scatterMarker=g(N.symbol,ue,E,"\u25cf"),Q.scatterLineWidth=N.line.width,Q.scatterLineColor=t(N.line,1,ue),Q.scatterAngle=0}"textposition"in I&&(Q.textOffset=function A(d){var B=[0,0];if(Array.isArray(d))for(var k=0;k<d.length;k++)B[k]=[0,0],d[k]&&(B[k][0]=s(d[k]),B[k][1]=v(d[k]));else B[0]=s(d),B[1]=v(d);return B}(I.textposition),Q.textColor=t(I.textfont,1,ue),Q.textSize=g(I.textfont.size,ue,h.identity,12),Q.textFont=I.textfont.family,Q.textAngle=0);var De=["x","y","z"];for(Q.project=[!1,!1,!1],Q.projectScale=[1,1,1],Q.projectOpacity=[1,1,1],Z=0;Z<3;++Z){var He=I.projection[De[Z]];(Q.project[Z]=He.show)&&(Q.projectOpacity[Z]=He.opacity,Q.projectScale[Z]=He.scale)}Q.errorBounds=c(I,k,B);var rt=function p(d){for(var I=[0,0,0],L=[[0,0,0],[0,0,0],[0,0,0]],B=[1,1,1],k=0;k<3;k++){var z=d[k];z&&!1!==z.copy_zstyle&&!1!==d[2].visible&&(z=d[2]),z&&z.visible&&(I[k]=z.width/2,L[k]=y(z.color),B[k]=z.thickness)}return{capSize:I,color:L,lineWidth:B}}([I.error_x,I.error_y,I.error_z]);return Q.errorColor=rt.color,Q.errorLineWidth=rt.lineWidth,Q.errorCapSize=rt.capSize,Q.delaunayAxis=I.surfaceaxis,Q.delaunayColor=y(I.surfacecolor),Q}(this.scene,d);"mode"in F&&(this.mode=F.mode),"lineDashes"in F&&F.lineDashes in l&&(O=l[F.lineDashes]),this.color=n(F.scatterColor)||n(F.lineColor),this.dataPoints=F.position,L={gl:this.scene.glplot.gl,position:F.position,color:F.lineColor,lineWidth:F.lineWidth||1,dashes:O[0],dashScale:O[1],opacity:d.opacity,connectGaps:d.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(L):(this.linePlot=T(L),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var N=d.opacity;if(d.marker&&void 0!==d.marker.opacity&&(N*=d.marker.opacity),B={gl:this.scene.glplot.gl,position:F.position,color:F.scatterColor,size:F.scatterSize,glyph:F.scatterMarker,opacity:N,orthographic:!0,lineWidth:F.scatterLineWidth,lineColor:F.scatterLineColor,project:F.project,projectScale:F.projectScale,projectOpacity:F.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(B):(this.scatterPlot=D(B),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),z={gl:this.scene.glplot.gl,position:F.position,glyph:F.text,color:F.textColor,size:F.textSize,angle:F.textAngle,alignment:F.textOffset,font:F.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:d.opacity},this.textLabels=d.hovertext||d.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(z):(this.textMarkers=D(z),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),k={gl:this.scene.glplot.gl,position:F.position,color:F.errorColor,error:F.errorBounds,lineWidth:F.errorLineWidth,capSize:F.errorCapSize,opacity:d.opacity},this.errorBars?F.errorBounds?this.errorBars.update(k):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):F.errorBounds&&(this.errorBars=o(k),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),F.delaunayAxis>=0){var H=function b(d,I,L){var F,B=(L+1)%3,k=(L+2)%3,z=[],O=[];for(F=0;F<d.length;++F){var N=d[F];isNaN(N[B])||!isFinite(N[B])||isNaN(N[k])||!isFinite(N[k])||(z.push([N[B],N[k]]),O.push(F))}var H=C(z);for(F=0;F<H.length;++F)for(var X=H[F],ne=0;ne<X.length;++ne)X[ne]=O[X[ne]];return{positions:d,cells:H,meshColor:I}}(F.position,F.delaunayColor,F.delaunayAxis);H.opacity=d.opacity,this.delaunayMesh?this.delaunayMesh.update(H):(H.gl=I,this.delaunayMesh=P(H),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},a.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},te.exports=function S(d,I){var L=new m(d,I.uid);return L.update(I),L}},21428:function(te,Y,e){"use strict";var T=e(73972),D=e(71828),o=e(34098),P=e(49508),C=e(11058),h=e(82410),y=e(44542);te.exports=function(l,i,u,f){function c(x,E){return D.coerce(l,i,y,x,E)}var m=function t(r,l,i,u){var f=0,c=i("x"),m=i("y"),a=i("z");return T.getComponentMethod("calendars","handleTraceDefaults")(r,l,["x","y","z"],u),c&&m&&a&&(f=Math.min(c.length,m.length,a.length),l._length=l._xlength=l._ylength=l._zlength=f),f}(l,i,c,f);if(m){c("text"),c("hovertext"),c("hovertemplate"),c("xhoverformat"),c("yhoverformat"),c("zhoverformat"),c("mode"),o.hasLines(i)&&(c("connectgaps"),C(l,i,u,f,c)),o.hasMarkers(i)&&P(l,i,u,f,c,{noSelect:!0,noAngle:!0}),o.hasText(i)&&(c("texttemplate"),h(l,i,f,c,{noSelect:!0}));var a=(i.line||{}).color,b=(i.marker||{}).color;c("surfaceaxis")>=0&&c("surfacecolor",a||b);for(var p=["x","y","z"],s=0;s<3;++s){var v="projection."+p[s];c(v+".show")&&(c(v+".opacity"),c(v+".scale"))}var A=T.getComponentMethod("errorbars","supplyDefaults");A(l,i,a||b||u,{axis:"z"}),A(l,i,a||b||u,{axis:"y",inherit:"z"}),A(l,i,a||b||u,{axis:"x",inherit:"z"})}else i.visible=!1}},13551:function(te,Y,e){"use strict";te.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(te,Y,e){"use strict";var T=e(82196),D=e(9012),o=e(5386).fF,P=e(5386).si,C=e(50693),h=e(1426).extendFlat,y=T.marker,t=T.line,r=y.line;te.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:h({},T.mode,{dflt:"markers"}),text:h({},T.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","text"]}),hovertext:h({},T.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:h({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:T.connectgaps,fill:h({},T.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:T.fillcolor,marker:h({symbol:y.symbol,opacity:y.opacity,maxdisplayed:y.maxdisplayed,angle:y.angle,angleref:y.angleref,standoff:y.standoff,size:y.size,sizeref:y.sizeref,sizemin:y.sizemin,sizemode:y.sizemode,line:h({width:r.width,editType:"calc"},C("marker.line")),gradient:y.gradient,editType:"calc"},C("marker")),textfont:T.textfont,textposition:T.textposition,selected:T.selected,unselected:T.unselected,hoverinfo:h({},D.hoverinfo,{flags:["a","b","text","name"]}),hoveron:T.hoveron,hovertemplate:o()}},34618:function(te,Y,e){"use strict";var T=e(92770),D=e(36922),o=e(75225),P=e(66279),C=e(47761).calcMarkerSize,h=e(22882);te.exports=function(t,r){var l=r._carpetTrace=h(t,r);if(l&&l.visible&&"legendonly"!==l.visible){var i;r.xaxis=l.xaxis,r.yaxis=l.yaxis;var c,m,u=r._length,f=new Array(u),a=!1;for(i=0;i<u;i++)if(m=r.b[i],T(c=r.a[i])&&T(m)){var b=l.ab2xy(+c,+m,!0),p=l.isVisible(+c,+m);p||(a=!0),f[i]={x:b[0],y:b[1],a:c,b:m,vis:p}}else f[i]={x:!1,y:!1};return r._needsCull=a,f[0].carpet=l,f[0].trace=r,C(r,u),D(t,r),o(f,r),P(f,r),f}}},98965:function(te,Y,e){"use strict";var T=e(71828),D=e(47581),o=e(34098),P=e(49508),C=e(11058),h=e(94039),y=e(82410),t=e(28908),r=e(97001);te.exports=function(i,u,f,c){function m(x,E){return T.coerce(i,u,r,x,E)}m("carpet"),u.xaxis="x",u.yaxis="y";var a=m("a"),b=m("b"),p=Math.min(a.length,b.length);if(p){u._length=p,m("text"),m("texttemplate"),m("hovertext"),m("mode",p<D.PTS_LINESONLY?"lines+markers":"lines"),o.hasLines(u)&&(C(i,u,f,c,m,{backoff:!0}),h(i,u,m),m("connectgaps")),o.hasMarkers(u)&&P(i,u,f,c,m,{gradient:!0}),o.hasText(u)&&y(i,u,c,m);var v=[];(o.hasMarkers(u)||o.hasText(u))&&(m("marker.maxdisplayed"),v.push("points")),m("fill"),"none"!==u.fill&&(t(i,u,f,m),o.hasLines(u)||h(i,u,m)),("tonext"===u.fill||"toself"===u.fill)&&v.push("fills"),"fills"!==m("hoveron",v.join("+")||"points")&&m("hovertemplate"),T.coerceSelectionMarkerOpacity(u,m)}else u.visible=!1}},16165:function(te){"use strict";te.exports=function(e,T,D,o,P){var C=o[P];return e.a=C.a,e.b=C.b,e.y=C.y,e}},48953:function(te){"use strict";te.exports=function(e,T){var D={},o=T._carpet,P=o.ab2ij([e.a,e.b]),C=Math.floor(P[0]),h=P[0]-C,y=Math.floor(P[1]),r=o.evalxy([],C,y,h,P[1]-y);return D.yLabel=r[1].toFixed(3),D}},22931:function(te,Y,e){"use strict";var T=e(33720),D=e(71828).fillText;te.exports=function(P,C,h,y){var t=T(P,C,h,y);if(t&&!1!==t[0].index){var r=t[0];if(void 0===r.index){var i=P.xa._length,u=i*(1-r.y0/P.ya._length)/2,f=i-u;return r.x0=Math.max(Math.min(r.x0,f),u),r.x1=Math.max(Math.min(r.x1,f),u),t}var c=r.cd[r.index];r.a=c.a,r.b=c.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var m=r.trace,a=m._carpet,b=m._module.formatLabels(c,m);r.yLabel=b.yLabel,delete r.text;var p=[];if(!m.hovertemplate){var A=(c.hi||m.hoverinfo).split("+");-1!==A.indexOf("all")&&(A=["a","b","text"]),-1!==A.indexOf("a")&&s(a.aaxis,c.a),-1!==A.indexOf("b")&&s(a.baxis,c.b),p.push("y: "+r.yLabel),-1!==A.indexOf("text")&&D(c,m,p),r.extraText=p.join("<br>")}return t}function s(x,E){var g;g=x.labelprefix&&x.labelprefix.length>0?x.labelprefix.replace(/ = $/,""):x._hovertitle,p.push(g+": "+E.toFixed(3)+x.labelsuffix)}}},46858:function(te,Y,e){"use strict";te.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(te,Y,e){"use strict";var T=e(32663),D=e(89298),o=e(91424);te.exports=function(C,h,y,t){var r,l,i,u=y[0][0].carpet,f=D.getFromId(C,u.xaxis||"x"),c=D.getFromId(C,u.yaxis||"y"),m={xaxis:f,yaxis:c,plot:h.plot};for(r=0;r<y.length;r++)(l=y[r][0].trace)._xA=f,l._yA=c;for(T(C,m,y,t),r=0;r<y.length;r++)i=t.selectAll("g.trace"+(l=y[r][0].trace).uid+" .js-line"),o.setClipUrl(i,y[r][0].carpet._clipPathId,C)}},19316:function(te,Y,e){"use strict";var T=e(5386).fF,D=e(5386).si,o=e(82196),P=e(9012),C=e(50693),h=e(79952).P,y=e(1426).extendFlat,t=e(30962).overrideAll,r=o.marker,l=o.line,i=r.line;te.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:y({},o.mode,{dflt:"markers"}),text:y({},o.text,{}),texttemplate:D({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:y({},o.hovertext,{}),textfont:o.textfont,textposition:o.textposition,line:{color:l.color,width:l.width,dash:h},connectgaps:o.connectgaps,marker:y({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:y({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:y({width:i.width},C("marker.line")),gradient:r.gradient},C("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:o.fillcolor,selected:o.selected,unselected:o.unselected,hoverinfo:y({},P.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:T()},"calc","nested")},84622:function(te,Y,e){"use strict";var T=e(92770),D=e(50606).BADNUM,o=e(36922),P=e(75225),C=e(66279),h=e(71828)._;function y(t){return t&&"string"==typeof t}te.exports=function(r,l){var c,i=Array.isArray(l.locations),u=i?l.locations.length:l._length,f=new Array(u);c=l.geojson?function(v){return y(v)||T(v)}:y;for(var m=0;m<u;m++){var a=f[m]={};if(i){var b=l.locations[m];a.loc=c(b)?b:null}else{var p=l.lon[m],s=l.lat[m];a.lonlat=T(p)&&T(s)?[+p,+s]:[D,D]}}return P(f,l),o(r,l),C(f,l),u&&(f[0].t={labels:{lat:h(r,"lat:")+" ",lon:h(r,"lon:")+" "}}),f}},10659:function(te,Y,e){"use strict";var T=e(71828),D=e(34098),o=e(49508),P=e(11058),C=e(82410),h=e(28908),y=e(19316);te.exports=function(r,l,i,u){function f(A,x){return T.coerce(r,l,y,A,x)}var m,c=f("locations");if(c&&c.length){var b,a=f("geojson");("string"==typeof a&&""!==a||T.isPlainObject(a))&&(b="geojson-id"),"geojson-id"===f("locationmode",b)&&f("featureidkey"),m=c.length}else{var s=f("lon")||[],v=f("lat")||[];m=Math.min(s.length,v.length)}m?(l._length=m,f("text"),f("hovertext"),f("hovertemplate"),f("mode"),D.hasLines(l)&&(P(r,l,i,u,f),f("connectgaps")),D.hasMarkers(l)&&o(r,l,i,u,f,{gradient:!0}),D.hasText(l)&&(f("texttemplate"),C(r,l,u,f)),f("fill"),"none"!==l.fill&&h(r,l,i,f),T.coerceSelectionMarkerOpacity(l,f)):l.visible=!1}},84084:function(te){"use strict";te.exports=function(e,T,D,o,P){e.lon=T.lon,e.lat=T.lat,e.location=T.loc?T.loc:null;var C=o[P];return C.fIn&&C.fIn.properties&&(e.properties=C.fIn.properties),e}},82719:function(te,Y,e){"use strict";var T=e(89298);te.exports=function(o,P,C){var h={},t=C[P.geo]._subplot.mockAxis,r=o.lonlat;return h.lonLabel=T.tickText(t,t.c2l(r[0]),!0).text,h.latLabel=T.tickText(t,t.c2l(r[1]),!0).text,h}},14977:function(te,Y,e){"use strict";var T=e(30211),D=e(50606).BADNUM,o=e(34603),P=e(71828).fillText,C=e(19316);te.exports=function(t,r,l){var i=t.cd,u=i[0].trace,f=t.xa,c=t.ya,m=t.subplot,a=m.projection.isLonLatOverEdges,b=m.project;if(T.getClosest(i,function p(M){var w=M.lonlat;if(w[0]===D||a(w))return 1/0;var n=b(w),S=b([r,l]),d=Math.abs(n[0]-S[0]),I=Math.abs(n[1]-S[1]),L=Math.max(3,M.mrc||0);return Math.max(Math.sqrt(d*d+I*I)-L,1-3/L)},t),!1!==t.index){var s=i[t.index],v=s.lonlat,A=[f.c2p(v),c.c2p(v)],x=s.mrc||1;t.x0=A[0]-x,t.x1=A[0]+x,t.y0=A[1]-x,t.y1=A[1]+x,t.loc=s.loc,t.lon=v[0],t.lat=v[1];var E={};E[u.geo]={_subplot:m};var g=u._module.formatLabels(s,u,E);return t.lonLabel=g.lonLabel,t.latLabel=g.latLabel,t.color=o(u,s),t.extraText=function h(y,t,r,l){if(!y.hovertemplate){var i=t.hi||y.hoverinfo,u="all"===i?C.hoverinfo.flags:i.split("+"),f=-1!==u.indexOf("location")&&Array.isArray(y.locations),c=-1!==u.indexOf("lon"),m=-1!==u.indexOf("lat"),a=-1!==u.indexOf("text"),b=[];return f?b.push(t.loc):c&&m?b.push("("+p(r.latLabel)+", "+p(r.lonLabel)+")"):c?b.push(l.lon+p(r.lonLabel)):m&&b.push(l.lat+p(r.latLabel)),a&&P(t,y,b),b.join("<br>")}function p(s){return s+"\xb0"}}(u,s,t,i[0].t.labels),t.hovertemplate=u.hovertemplate,[t]}}},17988:function(te,Y,e){"use strict";te.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(90973).getTopojsonFeatures,P=e(18214),C=e(41327),h=e(71739).findExtremes,y=e(50606).BADNUM,t=e(47761).calcMarkerSize,r=e(34098),l=e(33095);te.exports={calcGeoJSON:function u(f,c){var s,v,m=f[0].trace,a=c[m.geo],b=a._subplot,p=m._length;if(Array.isArray(m.locations)){var A=m.locationmode,x="geojson-id"===A?C.extractTraceFeature(f):o(m,b.topojson);for(s=0;s<p;s++){v=f[s];var E="geojson-id"===A?v.fOut:C.locationToFeature(A,v.loc,x);v.lonlat=E?E.properties.ct:[y,y]}}var M,w,g={padded:!0};if("geojson"===a.fitbounds&&"geojson-id"===m.locationmode){var n=C.computeBbox(C.getTraceGeojson(m));M=[n[0],n[2]],w=[n[1],n[3]]}else{for(M=new Array(p),w=new Array(p),s=0;s<p;s++)M[s]=(v=f[s]).lonlat[0],w[s]=v.lonlat[1];g.ppad=t(m,p)}m._extremes.lon=h(a.lonaxis._ax,M,g),m._extremes.lat=h(a.lataxis._ax,w,g)},plot:function i(f,c,m){var a=c.layers.frontplot.select(".scatterlayer"),b=D.makeTraceGroups(a,m,"trace scattergeo");function p(s,v){s.lonlat[0]===y&&T.select(v).remove()}b.selectAll("*").remove(),b.each(function(s){var v=T.select(this),A=s[0].trace;if(r.hasLines(A)||"none"!==A.fill){var x=P.calcTraceToLineCoords(s),E="none"!==A.fill?P.makePolygon(x):P.makeLine(x);v.selectAll("path.js-line").data([{geojson:E,trace:A}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}r.hasMarkers(A)&&v.selectAll("path.point").data(D.identity).enter().append("path").classed("point",!0).each(function(g){p(g,this)}),r.hasText(A)&&v.selectAll("g").data(D.identity).enter().append("g").append("text").each(function(g){p(g,this)}),l(f,s)})}}},20548:function(te,Y,e){"use strict";var T=e(34098),D=e(50606).BADNUM;te.exports=function(P,C){var i,u,f,c,m,h=P.cd,y=P.xaxis,t=P.yaxis,r=[],l=h[0].trace;if(!T.hasMarkers(l)&&!T.hasText(l))return[];if(!1===C)for(m=0;m<h.length;m++)h[m].selected=0;else for(m=0;m<h.length;m++)(u=(i=h[m]).lonlat)[0]!==D&&(f=y.c2p(u),c=t.c2p(u),C.contains([f,c],null,m,P)?(r.push({pointNumber:m,lon:u[0],lat:u[1]}),i.selected=1):i.selected=0);return r}},33095:function(te,Y,e){"use strict";var T=e(39898),D=e(91424),o=e(7901),P=e(16296),C=P.stylePoints,h=P.styleText;te.exports=function(r,l){l&&function y(t,r){var l=r[0].trace,i=r[0].node3;i.style("opacity",r[0].trace.opacity),C(i,l,t),h(i,l,t),i.selectAll("path.js-line").style("fill","none").each(function(u){var f=T.select(this),c=u.trace,m=c.line||{};f.call(o.stroke,m.color).call(D.dashLine,m.dash||"",m.width||0),"none"!==c.fill&&f.call(o.fill,c.fillcolor)})}(r,l)}},42341:function(te,Y,e){"use strict";var T=e(9012),D=e(82196),o=e(12663).axisHoverFormat,P=e(50693),C=e(78607),h=e(1426).extendFlat,y=e(30962).overrideAll,t=e(78232).DASHES,r=D.line,l=D.marker,i=l.line,u=te.exports=y({x:D.x,x0:D.x0,dx:D.dx,y:D.y,y0:D.y0,dy:D.dy,xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:D.xperiod0,yperiod0:D.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,xhoverformat:o("x"),yhoverformat:o("y"),text:D.text,hovertext:D.hovertext,textposition:D.textposition,textfont:D.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:C(t),dflt:"solid"}},marker:h({},P("marker"),{symbol:l.symbol,angle:l.angle,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:l.opacity,colorbar:l.colorbar,line:h({},P("marker.line"),{width:i.width})}),connectgaps:D.connectgaps,fill:h({},D.fill,{dflt:"none"}),fillcolor:D.fillcolor,selected:{marker:D.selected.marker,textfont:D.selected.textfont},unselected:{marker:D.unselected.marker,textfont:D.unselected.textfont},opacity:T.opacity},"calc","nested");u.x.editType=u.y.editType=u.x0.editType=u.y0.editType="calc+clearAxisTypes",u.hovertemplate=D.hovertemplate,u.texttemplate=D.texttemplate},72156:function(te,Y,e){"use strict";var T=e(20794);te.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:T.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(te,Y,e){"use strict";var T=e(88294),D=e(71828),o=e(41675),P=e(71739).findExtremes,C=e(42973),h=e(47761),y=h.calcMarkerSize,t=h.calcAxisExpansion,r=h.setFirstScatter,l=e(36922),i=e(19635),u=e(38967),f=e(50606).BADNUM,c=e(78232).TOO_MANY_POINTS;function m(b,p,s){var v=b._extremes[p._id],A=P(p,s._bnds,{padded:!0});v.min=v.min.concat(A.min),v.max=v.max.concat(A.max)}te.exports=function(p,s){var S,v=p._fullLayout,A=s._xA=o.getFromId(p,s.xaxis,"x"),x=s._yA=o.getFromId(p,s.yaxis,"y"),E=v._plots[s.xaxis+s.yaxis],g=s._length,M=g>=c,w=2*g,n={},d=A.makeCalcdata(s,"x"),I=x.makeCalcdata(s,"y"),L=C(s,A,"x",d),B=C(s,x,"y",I),k=L.vals,z=B.vals;s._x=k,s._y=z,s.xperiodalignment&&(s._origX=d,s._xStarts=L.starts,s._xEnds=L.ends),s.yperiodalignment&&(s._origY=I,s._yStarts=B.starts,s._yEnds=B.ends);var O=new Array(w),F=new Array(g);for(S=0;S<g;S++)O[2*S]=k[S]===f?NaN:k[S],O[2*S+1]=z[S]===f?NaN:z[S],F[S]=S;if("log"===A.type)for(S=0;S<w;S+=2)O[S]=A.c2l(O[S]);if("log"===x.type)for(S=1;S<w;S+=2)O[S]=x.c2l(O[S]);M&&"log"!==A.type&&"log"!==x.type?n.tree=T(O):n.ids=F,l(p,s);var X,N=function a(b,p,s,v,A,x){var E=i.style(b,s);if(E.marker&&(E.marker.positions=v),E.line&&v.length>1&&D.extendFlat(E.line,i.linePositions(b,s,v)),E.errorX||E.errorY){var g=i.errorBarPositions(b,s,v,A,x);E.errorX&&D.extendFlat(E.errorX,g.x),E.errorY&&D.extendFlat(E.errorY,g.y)}return E.text&&(D.extendFlat(E.text,{positions:v},i.textPosition(b,s,E.text,E.marker)),D.extendFlat(E.textSel,{positions:v},i.textPosition(b,s,E.text,E.markerSel)),D.extendFlat(E.textUnsel,{positions:v},i.textPosition(b,s,E.text,E.markerUnsel))),E}(p,0,s,O,k,z),H=u(p,E);return r(v,s),M?N.marker&&(X=N.marker.sizeAvg||Math.max(N.marker.size,3)):X=y(s,g),t(p,s,A,x,k,z,X),N.errorX&&m(s,A,N.errorX),N.errorY&&m(s,x,N.errorY),N.fill&&!H.fill2d&&(H.fill2d=!0),N.marker&&!H.scatter2d&&(H.scatter2d=!0),N.line&&!H.line2d&&(H.line2d=!0),(N.errorX||N.errorY)&&!H.error2d&&(H.error2d=!0),N.text&&!H.glText&&(H.glText=!0),N.marker&&(N.marker.snap=g),H.lineOptions.push(N.line),H.errorXOptions.push(N.errorX),H.errorYOptions.push(N.errorY),H.fillOptions.push(N.fill),H.markerOptions.push(N.marker),H.markerSelectedOptions.push(N.markerSel),H.markerUnselectedOptions.push(N.markerUnsel),H.textOptions.push(N.text),H.textSelectedOptions.push(N.textSel),H.textUnselectedOptions.push(N.textUnsel),H.selectBatch.push([]),H.unselectBatch.push([]),n._scene=H,n.index=H.count,n.x=k,n.y=z,n.positions=O,H.count++,[{x:!1,y:!1,t:n,trace:s}]}},78232:function(te){"use strict";te.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(te,Y,e){"use strict";var T=e(92770),D=e(82019),o=e(25075),P=e(73972),C=e(71828),h=e(91424),y=e(41675),t=e(81697).formatColor,r=e(34098),l=e(39984),i=e(68645),u=e(78232),f=e(37822).DESELECTDIM,c={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},m=e(23469).appendArrayPointValue;function b(L,B){var ue,k=L._fullLayout,z=B._length,O=B.textfont,F=B.textposition,N=Array.isArray(F)?F:[F],H=O.color,X=O.size,ne=O.family,ie={},J=L._context.plotGlPixelRatio,j=B.texttemplate;if(j){ie.text=[];var W=k._d3locale,V=Array.isArray(j),K=V?Math.min(j.length,z):z,ae=V?function(we){return j[we]}:function(){return j};for(ue=0;ue<K;ue++){var Q={i:ue},Z=B._module.formatLabels(Q,B,k),re={};m(re,B,ue);var q=B._meta||{};ie.text.push(C.texttemplateString(ae(ue),Z,W,re,Q,q))}}else ie.text=Array.isArray(B.text)&&B.text.length<z?B.text.slice():B.text;if(Array.isArray(ie.text))for(ue=ie.text.length;ue<z;ue++)ie.text[ue]="";for(ie.opacity=B.opacity,ie.font={},ie.align=[],ie.baseline=[],ue=0;ue<N.length;ue++){var se=N[ue].split(/\s+/);switch(se[1]){case"left":ie.align.push("right");break;case"right":ie.align.push("left");break;default:ie.align.push(se[1])}switch(se[0]){case"top":ie.baseline.push("bottom");break;case"bottom":ie.baseline.push("top");break;default:ie.baseline.push(se[0])}}if(Array.isArray(H))for(ie.color=new Array(z),ue=0;ue<z;ue++)ie.color[ue]=H[ue];else ie.color=H;if(C.isArrayOrTypedArray(X)||Array.isArray(ne))for(ie.font=new Array(z),ue=0;ue<z;ue++){var de=ie.font[ue]={};de.size=(C.isTypedArray(X)?X[ue]:Array.isArray(X)?T(X[ue])?X[ue]:0:X)*J,de.family=Array.isArray(ne)?ne[ue]:ne}else ie.font={size:X*J,family:ne};return ie}function p(L,B){var F,j,k=B._length,z=B.marker,O={},N=C.isArrayOrTypedArray(z.symbol),H=C.isArrayOrTypedArray(z.angle),X=C.isArrayOrTypedArray(z.color),ne=C.isArrayOrTypedArray(z.line.color),ie=C.isArrayOrTypedArray(z.opacity),ue=C.isArrayOrTypedArray(z.size),J=C.isArrayOrTypedArray(z.line.width);if(N||(j=i.isOpenSymbol(z.symbol)),N||X||ne||ie||H){O.symbols=new Array(k),O.angles=new Array(k),O.colors=new Array(k),O.borderColors=new Array(k);var W=z.symbol,V=z.angle,K=t(z,z.opacity,k),ae=t(z.line,z.opacity,k);if(!Array.isArray(ae[0])){var Q=ae;for(ae=Array(k),F=0;F<k;F++)ae[F]=Q}if(!Array.isArray(K[0])){var Z=K;for(K=Array(k),F=0;F<k;F++)K[F]=Z}if(!Array.isArray(W)){var re=W;for(W=Array(k),F=0;F<k;F++)W[F]=re}if(!Array.isArray(V)){var q=V;for(V=Array(k),F=0;F<k;F++)V[F]=q}for(O.symbols=W,O.angles=V,O.colors=K,O.borderColors=ae,F=0;F<k;F++)N&&(j=i.isOpenSymbol(z.symbol[F])),j&&(ae[F]=K[F].slice(),K[F]=K[F].slice(),K[F][3]=0);for(O.opacity=B.opacity,O.markers=new Array(k),F=0;F<k;F++)O.markers[F]=n({mx:O.symbols[F],ma:O.angles[F]},B)}else j?(O.color=o(z.color,"uint8"),O.color[3]=0,O.borderColor=o(z.color,"uint8")):(O.color=o(z.color,"uint8"),O.borderColor=o(z.line.color,"uint8")),O.opacity=B.opacity*z.opacity,O.marker=n({mx:z.symbol,ma:z.angle},B);var we,de=l(B,1);if(ue||J){var Se,ye=O.sizes=new Array(k),Pe=O.borderSizes=new Array(k),Ie=0;if(ue){for(F=0;F<k;F++)ye[F]=de(z.size[F]),Ie+=ye[F];Se=Ie/k}else for(we=de(z.size),F=0;F<k;F++)ye[F]=we;if(J)for(F=0;F<k;F++)Pe[F]=z.line.width[F];else for(we=z.line.width,F=0;F<k;F++)Pe[F]=we;O.sizeAvg=Se}else O.size=de(z&&z.size||10),O.borderSizes=de(z.line.width);return O}function s(L,B,k){var O={};return k&&(k.marker&&k.marker.symbol?O=p(0,C.extendFlat({},B.marker,k.marker)):k.marker&&(k.marker.size&&(O.size=k.marker.size),k.marker.color&&(O.colors=k.marker.color),void 0!==k.marker.opacity&&(O.opacity=k.marker.opacity))),O}function v(L,B,k){var z={};if(!k)return z;if(k.textfont){var O={opacity:1,text:B.text,texttemplate:B.texttemplate,textposition:B.textposition,textfont:C.extendFlat({},B.textfont)};k.textfont&&C.extendFlat(O.textfont,k.textfont),z=b(L,O)}return z}function A(L,B,k){var z={capSize:2*B.width*k,lineWidth:B.thickness*k,color:B.color};return B.copy_ystyle&&(z=L.error_y),z}var x=u.SYMBOL_SDF_SIZE,E=u.SYMBOL_SIZE,g=u.SYMBOL_STROKE,M={},w=h.symbolFuncs[0](.05*E);function n(L,B){var k=L.mx;if("circle"===k)return null;var z,O,F=h.symbolNumber(k),N=h.symbolFuncs[F%100],H=!!h.symbolNoDot[F%100],X=!!h.symbolNoFill[F%100],ne=i.isDotSymbol(k);if(L.ma&&(k+="_"+L.ma),M[k])return M[k];var ie=h.getMarkerAngle(L,B);return z=ne&&!H?N(1.1*E,ie)+w:N(E,ie),O=D(z,{w:x,h:x,viewBox:[-E,-E,E,E],stroke:X?g:-g}),M[k]=O,O||null}te.exports={style:function a(L,B){var k,z={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},O=L._context.plotGlPixelRatio;if(!0!==B.visible)return z;if(r.hasText(B)&&(z.text=b(L,B),z.textSel=v(L,B,B.selected),z.textUnsel=v(L,B,B.unselected)),r.hasMarkers(B)&&(z.marker=p(0,B),z.markerSel=s(0,B,B.selected),z.markerUnsel=s(0,B,B.unselected),!B.unselected&&C.isArrayOrTypedArray(B.marker.opacity))){var F=B.marker.opacity;for(z.markerUnsel.opacity=new Array(F.length),k=0;k<F.length;k++)z.markerUnsel.opacity[k]=f*F[k]}if(r.hasLines(B)){z.line={overlay:!0,thickness:B.line.width*O,color:B.line.color,opacity:B.opacity};var N=(u.DASHES[B.line.dash]||[1]).slice();for(k=0;k<N.length;++k)N[k]*=B.line.width*O;z.line.dashes=N}return B.error_x&&B.error_x.visible&&(z.errorX=A(B,B.error_x,O)),B.error_y&&B.error_y.visible&&(z.errorY=A(B,B.error_y,O)),B.fill&&"none"!==B.fill&&(z.fill={closed:!0,fill:B.fillcolor,thickness:0}),z},markerStyle:p,markerSelection:s,linePositions:function S(L,B,k){var F,N,z=k.length,O=z/2;if(r.hasLines(B)&&O)if("hv"===B.line.shape){for(F=[],N=0;N<O-1;N++)isNaN(k[2*N])||isNaN(k[2*N+1])?F.push(NaN,NaN,NaN,NaN):(F.push(k[2*N],k[2*N+1]),isNaN(k[2*N+2])||isNaN(k[2*N+3])?F.push(NaN,NaN):F.push(k[2*N+2],k[2*N+1]));F.push(k[z-2],k[z-1])}else if("hvh"===B.line.shape){for(F=[],N=0;N<O-1;N++)if(isNaN(k[2*N])||isNaN(k[2*N+1])||isNaN(k[2*N+2])||isNaN(k[2*N+3]))isNaN(k[2*N])||isNaN(k[2*N+1])?F.push(NaN,NaN):F.push(k[2*N],k[2*N+1]),F.push(NaN,NaN);else{var H=(k[2*N]+k[2*N+2])/2;F.push(k[2*N],k[2*N+1],H,k[2*N+1],H,k[2*N+3])}F.push(k[z-2],k[z-1])}else if("vhv"===B.line.shape){for(F=[],N=0;N<O-1;N++)if(isNaN(k[2*N])||isNaN(k[2*N+1])||isNaN(k[2*N+2])||isNaN(k[2*N+3]))isNaN(k[2*N])||isNaN(k[2*N+1])?F.push(NaN,NaN):F.push(k[2*N],k[2*N+1]),F.push(NaN,NaN);else{var X=(k[2*N+1]+k[2*N+3])/2;F.push(k[2*N],k[2*N+1],k[2*N],X,k[2*N+2],X)}F.push(k[z-2],k[z-1])}else if("vh"===B.line.shape){for(F=[],N=0;N<O-1;N++)isNaN(k[2*N])||isNaN(k[2*N+1])?F.push(NaN,NaN,NaN,NaN):(F.push(k[2*N],k[2*N+1]),isNaN(k[2*N+2])||isNaN(k[2*N+3])?F.push(NaN,NaN):F.push(k[2*N],k[2*N+3]));F.push(k[z-2],k[z-1])}else F=k;var ne=!1;for(N=0;N<F.length;N++)if(isNaN(F[N])){ne=!0;break}var ie=ne||F.length>u.TOO_MANY_POINTS||r.hasMarkers(B)?"rect":"round";if(ne&&B.connectgaps){var ue=F[0],J=F[1];for(N=0;N<F.length;N+=2)isNaN(F[N])||isNaN(F[N+1])?(F[N]=ue,F[N+1]=J):(ue=F[N],J=F[N+1])}return{join:ie,positions:F}},errorBarPositions:function d(L,B,k,z,O){var F=P.getComponentMethod("errorbars","makeComputeError"),N=y.getFromId(L,B.xaxis,"x"),H=y.getFromId(L,B.yaxis,"y"),X=k.length/2,ne={};function ie(ue,J){var j=J._id.charAt(0),W=B["error_"+j];if(W&&W.visible&&("linear"===J.type||"log"===J.type)){for(var V=F(W),K={x:0,y:1}[j],ae={x:[0,1,2,3],y:[2,3,0,1]}[j],Q=new Float64Array(4*X),Z=1/0,re=-1/0,q=0,se=0;q<X;q++,se+=4){var de=ue[q];if(T(de)){var we=k[2*q+K],ye=V(de,q),Pe=ye[0],Ie=ye[1];if(T(Pe)&&T(Ie)){var xe=de+Ie;Q[se+ae[0]]=we-J.c2l(de-Pe),Q[se+ae[1]]=J.c2l(xe)-we,Q[se+ae[2]]=0,Q[se+ae[3]]=0,Z=Math.min(Z,de-Pe),re=Math.max(re,de+Ie)}}}ne[j]={positions:k,errors:Q,_bnds:[Z,re]}}}return ie(z,N),ie(O,H),ne},textPosition:function I(L,B,k,z){var N,O=B._length,F={};if(r.hasMarkers(B)){var H=k.font,X=k.align,ne=k.baseline;for(F.offset=new Array(O),N=0;N<O;N++){var ie=z.sizes?z.sizes[N]:z.size,ue=Array.isArray(H)?H[N].size:H.size,J=Array.isArray(X)?X.length>1?X[N]:X[0]:X,j=Array.isArray(ne)?ne.length>1?ne[N]:ne[0]:ne,V=c[j],K=ie?ie/.8+1:0;F.offset[N]=[c[J]*K/ue,(-V*K-.5*V)/ue]}}return F}}},47148:function(te,Y,e){"use strict";var T=e(71828),D=e(73972),o=e(68645),P=e(42341),C=e(47581),h=e(34098),y=e(67513),t=e(73927),r=e(49508),l=e(11058),i=e(28908),u=e(82410);te.exports=function(c,m,a,b){function p(w,n){return T.coerce(c,m,P,w,n)}var s=!!c.marker&&o.isOpenSymbol(c.marker.symbol),v=h.isBubble(c),A=y(c,m,b,p);if(A){t(c,m,b,p),p("xhoverformat"),p("yhoverformat");var x=A<C.PTS_LINESONLY?"lines+markers":"lines";p("text"),p("hovertext"),p("hovertemplate"),p("mode",x),h.hasLines(m)&&(p("connectgaps"),l(c,m,a,b,p),p("line.shape")),h.hasMarkers(m)&&(r(c,m,a,b,p,{noAngleRef:!0,noStandOff:!0}),p("marker.line.width",s||v?1:0)),h.hasText(m)&&(p("texttemplate"),u(c,m,b,p));var E=(m.line||{}).color,g=(m.marker||{}).color;p("fill"),"none"!==m.fill&&i(c,m,a,p);var M=D.getComponentMethod("errorbars","supplyDefaults");M(c,m,E||g||a,{axis:"y"}),M(c,m,E||g||a,{axis:"x",inherit:"y"}),T.coerceSelectionMarkerOpacity(m,p)}else m.visible=!1}},5345:function(te,Y,e){"use strict";var T=e(71828),D=e(7901),o=e(37822).DESELECTDIM;te.exports={styleTextSelection:function P(C){var b,p,h=C[0],y=h.trace,t=h.t,r=t._scene,l=t.index,i=r.selectBatch[l],u=r.unselectBatch[l],f=r.textOptions[l],c=r.textSelectedOptions[l]||{},m=r.textUnselectedOptions[l]||{},a=T.extendFlat({},f);if(i.length||u.length){var s=c.color,v=m.color,A=f.color,x=Array.isArray(A);for(a.color=new Array(y._length),b=0;b<i.length;b++)a.color[p=i[b]]=s||(x?A[p]:A);for(b=0;b<u.length;b++){p=u[b];var E=x?A[p]:A;a.color[p]=v||(s?E:D.addOpacity(E,o))}}r.glText[l].update(a)}}},68101:function(te,Y,e){"use strict";var T=e(8225);te.exports=function(o,P,C){var h=o.i;return"x"in o||(o.x=P._x[h]),"y"in o||(o.y=P._y[h]),T(o,P,C)}},68645:function(te,Y,e){"use strict";var T=e(78232);Y.isOpenSymbol=function(D){return"string"==typeof D?T.OPEN_RE.test(D):D%200>100},Y.isDotSymbol=function(D){return"string"==typeof D?T.DOT_RE.test(D):D>200}},20794:function(te,Y,e){"use strict";var T=e(73972),D=e(71828),o=e(34603);function C(h,y,t,r){var l=h.xa,i=h.ya,u=h.distance,f=h.dxy,c=h.index,m={pointNumber:c,x:y[c],y:t[c]};m.tx=Array.isArray(r.text)?r.text[c]:r.text,m.htx=Array.isArray(r.hovertext)?r.hovertext[c]:r.hovertext,m.data=Array.isArray(r.customdata)?r.customdata[c]:r.customdata,m.tp=Array.isArray(r.textposition)?r.textposition[c]:r.textposition;var a=r.textfont;a&&(m.ts=D.isArrayOrTypedArray(a.size)?a.size[c]:a.size,m.tc=Array.isArray(a.color)?a.color[c]:a.color,m.tf=Array.isArray(a.family)?a.family[c]:a.family);var b=r.marker;b&&(m.ms=D.isArrayOrTypedArray(b.size)?b.size[c]:b.size,m.mo=D.isArrayOrTypedArray(b.opacity)?b.opacity[c]:b.opacity,m.mx=D.isArrayOrTypedArray(b.symbol)?b.symbol[c]:b.symbol,m.ma=D.isArrayOrTypedArray(b.angle)?b.angle[c]:b.angle,m.mc=D.isArrayOrTypedArray(b.color)?b.color[c]:b.color);var p=b&&b.line;p&&(m.mlc=Array.isArray(p.color)?p.color[c]:p.color,m.mlw=D.isArrayOrTypedArray(p.width)?p.width[c]:p.width);var s=b&&b.gradient;s&&"none"!==s.type&&(m.mgt=Array.isArray(s.type)?s.type[c]:s.type,m.mgc=Array.isArray(s.color)?s.color[c]:s.color);var v=l.c2p(m.x,!0),A=i.c2p(m.y,!0),x=m.mrc||1,E=r.hoverlabel;E&&(m.hbg=Array.isArray(E.bgcolor)?E.bgcolor[c]:E.bgcolor,m.hbc=Array.isArray(E.bordercolor)?E.bordercolor[c]:E.bordercolor,m.hts=D.isArrayOrTypedArray(E.font.size)?E.font.size[c]:E.font.size,m.htc=Array.isArray(E.font.color)?E.font.color[c]:E.font.color,m.htf=Array.isArray(E.font.family)?E.font.family[c]:E.font.family,m.hnl=D.isArrayOrTypedArray(E.namelength)?E.namelength[c]:E.namelength);var g=r.hoverinfo;g&&(m.hi=Array.isArray(g)?g[c]:g);var M=r.hovertemplate;M&&(m.ht=Array.isArray(M)?M[c]:M);var w={};w[h.index]=m;var n=r._origX,S=r._origY,d=D.extendFlat({},h,{color:o(r,m),x0:v-x,x1:v+x,xLabelVal:n?n[c]:m.x,y0:A-x,y1:A+x,yLabelVal:S?S[c]:m.y,cd:w,distance:u,spikeDistance:f,hovertemplate:m.ht});return m.htx?d.text=m.htx:m.tx?d.text=m.tx:r.text&&(d.text=r.text),D.fillText(m,r,d),T.getComponentMethod("errorbars","hoverInfo")(m,r,d),d}te.exports={hoverPoints:function P(h,y,t,r){var v,l=h.cd,i=l[0].t,u=l[0].trace,f=h.xa,c=h.ya,m=i.x,a=i.y,b=f.c2p(y),p=c.c2p(t),s=h.distance;if(i.tree){var A=f.p2c(b-s),x=f.p2c(b+s),E=c.p2c(p-s),g=c.p2c(p+s);v="x"===r?i.tree.range(Math.min(A,x),Math.min(c._rl[0],c._rl[1]),Math.max(A,x),Math.max(c._rl[0],c._rl[1])):i.tree.range(Math.min(A,x),Math.min(E,g),Math.max(A,x),Math.max(E,g))}else v=i.ids;var M,w,n,S,d,I,L,B,k,z=s;if("x"===r){var O=!!u.xperiodalignment,F=!!u.yperiodalignment;for(d=0;d<v.length;d++){if(n=m[M=v[d]],I=Math.abs(f.c2p(n)-b),O){var N=f.c2p(u._xStarts[M]),H=f.c2p(u._xEnds[M]);I=b>=Math.min(N,H)&&b<=Math.max(N,H)?0:1/0}if(I<z){if(z=I,L=c.c2p(S=a[M])-p,F){var X=c.c2p(u._yStarts[M]),ne=c.c2p(u._yEnds[M]);L=p>=Math.min(X,ne)&&p<=Math.max(X,ne)?0:1/0}k=Math.sqrt(I*I+L*L),w=v[d]}}}else for(d=v.length-1;d>-1;d--)S=a[M=v[d]],I=f.c2p(n=m[M])-b,L=c.c2p(S)-p,(B=Math.sqrt(I*I+L*L))<z&&(z=k=B,w=M);return h.index=w,h.distance=z,h.dxy=k,void 0===w?[h]:[C(h,m,a,u)]},calcHover:C}},68868:function(te,Y,e){"use strict";var T=e(72156);T.plot=e(26787),te.exports=T},26787:function(te,Y,e){"use strict";var T=e(11870),D=e(46075),o=e(3593),P=e(42505),C=e(71828),h=e(64505).selectMode,y=e(79749),t=e(34098),r=e(68687),l=e(5345).styleTextSelection,i={};function u(c,m,a,b){var p=c._size,M=p.w*b,w=p.h*b;return[p.l*b+m.domain[0]*M,p.b*b+a.domain[0]*w,c.width*b-p.r*b-(1-m.domain[1])*M,c.height*b-p.t*b-(1-a.domain[1])*w]}(te.exports=function(m,a,b){if(b.length){var x,E,p=m._fullLayout,s=a._scene,v=a.xaxis,A=a.yaxis;if(s){if(!y(m,["ANGLE_instanced_arrays","OES_element_index_uint"],i))return void s.init();var M=s.count,w=p._glcanvas.data()[0].regl;if(r(m,a,b),s.dirty){if(!0===s.error2d&&(s.error2d=o(w)),!0===s.line2d&&(s.line2d=D(w)),!0===s.scatter2d&&(s.scatter2d=T(w)),!0===s.fill2d&&(s.fill2d=D(w)),!0===s.glText)for(s.glText=new Array(M),x=0;x<M;x++)s.glText[x]=new P(w);if(s.glText){if(M>s.glText.length){var n=M-s.glText.length;for(x=0;x<n;x++)s.glText.push(new P(w))}else M<s.glText.length&&s.glText.splice(M,s.glText.length-M).forEach(function(Q){Q.destroy()});for(x=0;x<M;x++)s.glText[x].update(s.textOptions[x])}if(s.line2d&&(s.line2d.update(s.lineOptions),s.lineOptions=s.lineOptions.map(function(Q){if(Q&&Q.positions){for(var Z=Q.positions,re=0;re<Z.length&&(isNaN(Z[re])||isNaN(Z[re+1]));)re+=2;for(var q=Z.length-2;q>re&&(isNaN(Z[q])||isNaN(Z[q+1]));)q-=2;Q.positions=Z.slice(re,q+2)}return Q}),s.line2d.update(s.lineOptions)),s.error2d){var I=(s.errorXOptions||[]).concat(s.errorYOptions||[]);s.error2d.update(I)}s.scatter2d&&s.scatter2d.update(s.markerOptions),s.fillOrder=C.repeat(null,M),s.fill2d&&(s.fillOptions=s.fillOptions.map(function(Q,Z){var re=b[Z];if(Q&&re&&re[0]&&re[0].trace){var ye,Pe,q=re[0],se=q.trace,de=q.t,we=s.lineOptions[Z],Ie=[];se._ownfill&&Ie.push(Z),se._nexttrace&&Ie.push(Z+1),Ie.length&&(s.fillOrder[Z]=Ie);var Me,Ge,Se=[],xe=we&&we.positions||de.positions;if("tozeroy"===se.fill){for(Me=0;Me<xe.length&&isNaN(xe[Me+1]);)Me+=2;for(Ge=xe.length-2;Ge>Me&&isNaN(xe[Ge+1]);)Ge-=2;0!==xe[Me+1]&&(Se=[xe[Me],0]),Se=Se.concat(xe.slice(Me,Ge+2)),0!==xe[Ge+1]&&(Se=Se.concat([xe[Ge],0]))}else if("tozerox"===se.fill){for(Me=0;Me<xe.length&&isNaN(xe[Me]);)Me+=2;for(Ge=xe.length-2;Ge>Me&&isNaN(xe[Ge]);)Ge-=2;0!==xe[Me]&&(Se=[0,xe[Me+1]]),Se=Se.concat(xe.slice(Me,Ge+2)),0!==xe[Ge]&&(Se=Se.concat([0,xe[Ge+1]]))}else if("toself"===se.fill||"tonext"===se.fill){for(Se=[],ye=0,Q.splitNull=!0,Pe=0;Pe<xe.length;Pe+=2)(isNaN(xe[Pe])||isNaN(xe[Pe+1]))&&((Se=Se.concat(xe.slice(ye,Pe))).push(xe[ye],xe[ye+1]),Se.push(null,null),ye=Pe+2);Se=Se.concat(xe.slice(ye)),ye&&Se.push(xe[ye],xe[ye+1])}else{var Ye=se._nexttrace;if(Ye){var De=s.lineOptions[Z+1];if(De){var He=De.positions;if("tonexty"===se.fill){for(Se=xe.slice(),Z=Math.floor(He.length/2);Z--;){var rt=He[2*Z],$e=He[2*Z+1];isNaN(rt)||isNaN($e)||Se.push(rt,$e)}Q.fill=Ye.fillcolor}}}}if(se._prevtrace&&"tonext"===se._prevtrace.fill){var Be=s.lineOptions[Z-1].positions,ze=Se.length/2,tt=[ye=ze];for(Pe=0;Pe<Be.length;Pe+=2)(isNaN(Be[Pe])||isNaN(Be[Pe+1]))&&(tt.push(Pe/2+ze+1),ye=Pe+2);Se=Se.concat(Be),Q.hole=tt}return Q.fillmode=se.fill,Q.opacity=se.opacity,Q.positions=Se,Q}}),s.fill2d.update(s.fillOptions))}var B=h(p.dragmode),k=p.clickmode.indexOf("select")>-1;for(x=0;x<M;x++){var z=b[x][0],O=z.trace,F=z.t,N=F.index,H=O._length,X=F.x,ne=F.y;if(O.selectedpoints||B||k){if(B||(B=!0),O.selectedpoints){var ie=s.selectBatch[N]=C.selIndices2selPoints(O),ue={};for(E=0;E<ie.length;E++)ue[ie[E]]=1;var J=[];for(E=0;E<H;E++)ue[E]||J.push(E);s.unselectBatch[N]=J}var j=F.xpx=new Array(H),W=F.ypx=new Array(H);for(E=0;E<H;E++)j[E]=v.c2p(X[E]),W[E]=A.c2p(ne[E])}else F.xpx=F.ypx=null}if(B){if(s.select2d||(s.select2d=T(p._glcanvas.data()[1].regl)),s.scatter2d){var V=new Array(M);for(x=0;x<M;x++)V[x]=s.selectBatch[x].length||s.unselectBatch[x].length?s.markerUnselectedOptions[x]:{};s.scatter2d.update(V)}s.select2d&&(s.select2d.update(s.markerOptions),s.select2d.update(s.markerSelectedOptions)),s.glText&&b.forEach(function(Q){t.hasText(((Q||[])[0]||{}).trace||{})&&l(Q)})}else s.scatter2d&&s.scatter2d.update(s.markerOptions);var K={viewport:u(p,v,A,m._context.plotGlPixelRatio),range:[(v._rl||v.range)[0],(A._rl||A.range)[0],(v._rl||v.range)[1],(A._rl||A.range)[1]]},ae=C.repeat(K,s.count);s.fill2d&&s.fill2d.update(ae),s.line2d&&s.line2d.update(ae),s.error2d&&s.error2d.update(ae.concat(ae)),s.scatter2d&&s.scatter2d.update(ae),s.select2d&&s.select2d.update(ae),s.glText&&s.glText.forEach(function(Q){Q.update(K)})}}}).reglPrecompiled=i},38967:function(te,Y,e){"use strict";var T=e(71828);te.exports=function(o,P){var C=P._scene,h={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},y={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return P._scene||((C=P._scene={}).init=function(){T.extendFlat(C,y,h)},C.init(),C.update=function(r){var l=T.repeat(r,C.count);if(C.fill2d&&C.fill2d.update(l),C.scatter2d&&C.scatter2d.update(l),C.line2d&&C.line2d.update(l),C.error2d&&C.error2d.update(l.concat(l)),C.select2d&&C.select2d.update(l),C.glText)for(var i=0;i<C.count;i++)C.glText[i].update(r)},C.draw=function(){for(var r=C.count,l=C.fill2d,i=C.error2d,u=C.line2d,f=C.scatter2d,c=C.glText,m=C.select2d,a=C.selectBatch,b=C.unselectBatch,p=0;p<r;p++){if(l&&C.fillOrder[p]&&l.draw(C.fillOrder[p]),u&&C.lineOptions[p]&&u.draw(p),i&&(C.errorXOptions[p]&&i.draw(p),C.errorYOptions[p]&&i.draw(p+r)),f&&C.markerOptions[p])if(b[p].length){var s=T.repeat([],C.count);s[p]=b[p],f.draw(s)}else a[p].length||f.draw(p);c[p]&&C.textOptions[p]&&c[p].render()}m&&m.draw(a),C.dirty=!1},C.destroy=function(){C.fill2d&&C.fill2d.destroy&&C.fill2d.destroy(),C.scatter2d&&C.scatter2d.destroy&&C.scatter2d.destroy(),C.error2d&&C.error2d.destroy&&C.error2d.destroy(),C.line2d&&C.line2d.destroy&&C.line2d.destroy(),C.select2d&&C.select2d.destroy&&C.select2d.destroy(),C.glText&&C.glText.forEach(function(r){r.destroy&&r.destroy()}),C.lineOptions=null,C.fillOptions=null,C.markerOptions=null,C.markerSelectedOptions=null,C.markerUnselectedOptions=null,C.errorXOptions=null,C.errorYOptions=null,C.textOptions=null,C.textSelectedOptions=null,C.textUnselectedOptions=null,C.selectBatch=null,C.unselectBatch=null,P._scene=null}),C.dirty||T.extendFlat(C,h),C}},58147:function(te,Y,e){"use strict";var T=e(34098),D=e(5345).styleTextSelection;te.exports=function(P,C){var h=P.cd,y=P.xaxis,t=P.yaxis,r=[],l=h[0].trace,i=h[0].t,u=l._length,f=i.x,c=i.y,m=i._scene,a=i.index;if(!m)return r;var b=T.hasText(l),p=T.hasMarkers(l);if(!0!==l.visible||!p&&!b)return r;var v=[],A=[];if(!1!==C&&!C.degenerate)for(var x=0;x<u;x++)C.contains([i.xpx[x],i.ypx[x]],!1,x,P)?(v.push(x),r.push({pointNumber:x,x:y.c2d(f[x]),y:t.c2d(c[x])})):A.push(x);if(p){var E=m.scatter2d;if(v.length||A.length){if(!m.selectBatch[a].length&&!m.unselectBatch[a].length){var M=new Array(m.count);M[a]=m.markerUnselectedOptions[a],E.update.apply(E,M)}}else{var g=new Array(m.count);g[a]=m.markerOptions[a],E.update.apply(E,g)}}return m.selectBatch[a]=v,m.unselectBatch[a]=A,b&&D(h),r}},99181:function(te,Y,e){"use strict";var T=e(5386).fF,D=e(5386).si,o=e(19316),P=e(82196),C=e(23585),h=e(9012),y=e(50693),t=e(1426).extendFlat,r=e(30962).overrideAll,l=e(23585),i=o.line,u=o.marker;te.exports=r({lon:o.lon,lat:o.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},l.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},u.opacity,{dflt:1})},mode:t({},P.mode,{dflt:"markers"}),text:t({},P.text,{}),texttemplate:D({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},P.hovertext,{}),line:{color:i.color,width:i.width},connectgaps:P.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:u.opacity,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode},y("marker")),fill:o.fill,fillcolor:P.fillcolor,textfont:C.layers.symbol.textfont,textposition:C.layers.symbol.textposition,below:{valType:"string"},selected:{marker:P.selected.marker},unselected:{marker:P.unselected.marker},hoverinfo:t({},h.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:T()},"calc","nested")},15790:function(te,Y,e){"use strict";var T=e(92770),D=e(71828),o=e(50606).BADNUM,P=e(18214),C=e(21081),h=e(91424),y=e(39984),t=e(34098),r=e(13056),l=e(23469).appendArrayPointValue,i=e(63893).NEWLINES,u=e(63893).BR_TAG_ALL;function f(v){return{type:v,geojson:P.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function a(v,A){return D.isArrayOrTypedArray(v)?A?function(x){return T(v[x])?+v[x]:0}:function(x){return v[x]}:v?function(){return v}:b}function b(){return""}function p(v){return v[0]===o}function s(v,A){var x;if(D.isArrayOrTypedArray(v)&&D.isArrayOrTypedArray(A)){x=["step",["get","point_count"],v[0]];for(var E=1;E<v.length;E++)x.push(A[E-1],v[E])}else x=v;return x}te.exports=function(A,x){var N,E=x[0].trace,g=!0===E.visible&&0!==E._length,M="none"!==E.fill,w=t.hasLines(E),n=t.hasMarkers(E),S=t.hasText(E),d=n&&"circle"===E.marker.symbol,I=n&&"circle"!==E.marker.symbol,L=E.cluster&&E.cluster.enabled,B=f("fill"),k=f("line"),z=f("circle"),O=f("symbol"),F={fill:B,line:k,circle:z,symbol:O};if(!g)return F;if((M||w)&&(N=P.calcTraceToLineCoords(x)),M&&(B.geojson=P.makePolygon(N),B.layout.visibility="visible",D.extendFlat(B.paint,{"fill-color":E.fillcolor})),w&&(k.geojson=P.makeLine(N),k.layout.visibility="visible",D.extendFlat(k.paint,{"line-width":E.line.width,"line-color":E.line.color,"line-opacity":E.opacity})),d){var H=function c(v){var n,I,L,B,A=v[0].trace,x=A.marker,E=A.selectedpoints,g=D.isArrayOrTypedArray(x.color),M=D.isArrayOrTypedArray(x.size),w=D.isArrayOrTypedArray(x.opacity);function S(X){return A.opacity*X}g&&(I=C.hasColorscale(A,"marker")?C.makeColorScaleFuncFromTrace(x):D.identity),M&&(L=y(A)),w&&(B=function(X){return S(T(X)?+D.constrain(X,0,1):0)});var N,k=[];for(n=0;n<v.length;n++){var z=v[n],O=z.lonlat;if(!p(O)){var F={};I&&(F.mcc=z.mcc=I(z.mc)),L&&(F.mrc=z.mrc=L(z.ms)),B&&(F.mo=B(z.mo)),E&&(F.selected=z.selected||0),k.push({type:"Feature",id:n+1,geometry:{type:"Point",coordinates:O},properties:F})}}if(E)for(N=h.makeSelectedPointStyleFns(A),n=0;n<k.length;n++){var H=k[n].properties;N.selectedOpacityFn&&(H.mo=S(N.selectedOpacityFn(H))),N.selectedColorFn&&(H.mcc=N.selectedColorFn(H)),N.selectedSizeFn&&(H.mrc=N.selectedSizeFn(H))}return{geojson:{type:"FeatureCollection",features:k},mcc:g||N&&N.selectedColorFn?{type:"identity",property:"mcc"}:x.color,mrc:M||N&&N.selectedSizeFn?{type:"identity",property:"mrc"}:function d(X){return X/2}(x.size),mo:w||N&&N.selectedOpacityFn?{type:"identity",property:"mo"}:S(x.opacity)}}(x);z.geojson=H.geojson,z.layout.visibility="visible",L&&(z.filter=["!",["has","point_count"]],F.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":s(E.cluster.color,E.cluster.step),"circle-radius":s(E.cluster.size,E.cluster.step),"circle-opacity":s(E.cluster.opacity,E.cluster.step)}},F.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),D.extendFlat(z.paint,{"circle-color":H.mcc,"circle-radius":H.mrc,"circle-opacity":H.mo})}if(d&&L&&(z.filter=["!",["has","point_count"]]),(I||S)&&(O.geojson=function m(v,A){for(var x=A._fullLayout,E=v[0].trace,g=E.marker||{},M=g.symbol,w=g.angle,n="circle"!==M?a(M):b,S="auto"!==w?a(w,!0):b,d=t.hasText(E)?a(E.text):b,I=[],L=0;L<v.length;L++){var B=v[L];if(!p(B.lonlat)){var z,k=E.texttemplate;if(k){var O=Array.isArray(k)?k[L]||"":k,F=E._module.formatLabels(B,E,x),N={};l(N,E,B.i),z=D.texttemplateString(O,F,x._d3locale,N,B,E._meta||{})}else z=d(L);z&&(z=z.replace(i,"").replace(u,"\n")),I.push({type:"Feature",geometry:{type:"Point",coordinates:B.lonlat},properties:{symbol:n(L),angle:S(L),text:z}})}}return{type:"FeatureCollection",features:I}}(x,A),D.extendFlat(O.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),I&&(D.extendFlat(O.layout,{"icon-size":E.marker.size/10}),"angle"in E.marker&&"auto"!==E.marker.angle&&D.extendFlat(O.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),O.layout["icon-allow-overlap"]=E.marker.allowoverlap,D.extendFlat(O.paint,{"icon-opacity":E.opacity*E.marker.opacity,"icon-color":E.marker.color})),S)){var ne=r(E.textposition,(E.marker||{}).size);D.extendFlat(O.layout,{"text-size":E.textfont.size,"text-anchor":ne.anchor,"text-offset":ne.offset,"text-font":E.textfont.family.split(", ")}),D.extendFlat(O.paint,{"text-color":E.textfont.color,"text-opacity":E.opacity})}return F}},76645:function(te,Y,e){"use strict";var T=e(71828),D=e(34098),o=e(49508),P=e(11058),C=e(82410),h=e(28908),y=e(99181),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];te.exports=function(i,u,f,c){function m(M,w){return T.coerce(i,u,y,M,w)}function a(M,w){return T.coerce2(i,u,y,M,w)}var b=function r(l,i,u){var f=u("lon")||[],c=u("lat")||[],m=Math.min(f.length,c.length);return i._length=m,m}(0,u,m);if(b){if(m("text"),m("texttemplate"),m("hovertext"),m("hovertemplate"),m("mode"),m("below"),D.hasLines(u)&&(P(i,u,f,c,m,{noDash:!0}),m("connectgaps")),D.hasMarkers(u)){o(i,u,f,c,m,{noLine:!0,noAngle:!0}),m("marker.allowoverlap"),m("marker.angle");var p=u.marker;"circle"!==p.symbol&&(T.isArrayOrTypedArray(p.size)&&(p.size=p.size[0]),T.isArrayOrTypedArray(p.color)&&(p.color=p.color[0]))}var s=a("cluster.maxzoom"),v=a("cluster.step"),A=a("cluster.color",u.marker&&u.marker.color||f),x=a("cluster.size"),E=a("cluster.opacity");m("cluster.enabled",!1!==s||!1!==v||!1!==A||!1!==x||!1!==E),D.hasText(u)&&C(i,u,c,m,{noSelect:!0,font:{family:-1!==t.indexOf(c.font.family)?c.font.family:"Open Sans Regular",size:c.font.size,color:c.font.color}}),m("fill"),"none"!==u.fill&&h(i,u,f,m),T.coerceSelectionMarkerOpacity(u,m)}else u.visible=!1}},53353:function(te){"use strict";te.exports=function(e,T){return e.lon=T.lon,e.lat=T.lat,e}},15636:function(te,Y,e){"use strict";var T=e(89298);te.exports=function(o,P,C){var h={},t=C[P.subplot]._subplot.mockAxis,r=o.lonlat;return h.lonLabel=T.tickText(t,t.c2l(r[0]),!0).text,h.latLabel=T.tickText(t,t.c2l(r[1]),!0).text,h}},28178:function(te,Y,e){"use strict";var T=e(30211),D=e(71828),o=e(34603),P=D.fillText,C=e(50606).BADNUM,h=e(77734).traceLayerPrefix;function t(r,l,i){if(!r.hovertemplate){var f=(l.hi||r.hoverinfo).split("+"),c=-1!==f.indexOf("all"),m=-1!==f.indexOf("lon"),a=-1!==f.indexOf("lat"),b=l.lonlat,p=[];return c||m&&a?p.push("("+s(b[1])+", "+s(b[0])+")"):m?p.push(i.lon+s(b[0])):a&&p.push(i.lat+s(b[1])),(c||-1!==f.indexOf("text"))&&P(l,r,p),p.join("<br>")}function s(v){return v+"\xb0"}}te.exports={hoverPoints:function y(r,l,i){var u=r.cd,f=u[0].trace,c=r.xa,m=r.ya,a=r.subplot,b=[],s=f.cluster&&f.cluster.enabled;if(s){var v=a.map.queryRenderedFeatures(null,{layers:[h+f.uid+"-circle"]});b=v.map(function(k){return k.id})}var x=360*(l>=0?Math.floor((l+180)/360):Math.ceil((l-180)/360)),E=l-x;if(T.getClosest(u,function g(k){var z=k.lonlat;if(z[0]===C||s&&-1===b.indexOf(k.i+1))return 1/0;var O=D.modHalf(z[0],360),F=z[1],N=a.project([O,F]),H=N.x-c.c2p([E,F]),X=N.y-m.c2p([O,i]),ne=Math.max(3,k.mrc||0);return Math.max(Math.sqrt(H*H+X*X)-ne,1-3/ne)},r),!1!==r.index){var M=u[r.index],w=M.lonlat,n=[D.modHalf(w[0],360)+x,w[1]],S=c.c2p(n),d=m.c2p(n),I=M.mrc||1;r.x0=S-I,r.x1=S+I,r.y0=d-I,r.y1=d+I;var L={};L[f.subplot]={_subplot:a};var B=f._module.formatLabels(M,f,L);return r.lonLabel=B.lonLabel,r.latLabel=B.latLabel,r.color=o(f,M),r.extraText=t(f,M,u[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}},getExtraText:t}},20467:function(te,Y,e){"use strict";te.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(T,D){D&&D[0].trace._glTrace.update(D)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(te,Y,e){"use strict";var T=e(71828),D=e(15790),o=e(77734).traceLayerPrefix,P={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function C(y,t,r,l){this.type="scattermapbox",this.subplot=y,this.uid=t,this.clusterEnabled=r,this.isHidden=l,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:o+t+"-fill",line:o+t+"-line",circle:o+t+"-circle",symbol:o+t+"-symbol",cluster:o+t+"-cluster",clusterCount:o+t+"-cluster-count"},this.below=null}var h=C.prototype;h.addSource=function(y,t,r){var l={type:"geojson",data:t.geojson};r&&r.enabled&&T.extendFlat(l,{cluster:!0,clusterMaxZoom:r.maxzoom});var i=this.subplot.map.getSource(this.sourceIds[y]);i?i.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[y],l)},h.setSourceData=function(y,t){this.subplot.map.getSource(this.sourceIds[y]).setData(t.geojson)},h.addLayer=function(y,t,r){var l={type:t.type,id:this.layerIds[y],source:this.sourceIds[y],layout:t.layout,paint:t.paint};t.filter&&(l.filter=t.filter);for(var u,i=this.layerIds[y],f=this.subplot.getMapLayers(),c=0;c<f.length;c++)if(f[c].id===i){u=!0;break}u?(this.subplot.setOptions(i,"setLayoutProperty",l.layout),"visible"===l.layout.visibility&&this.subplot.setOptions(i,"setPaintProperty",l.paint)):this.subplot.addLayer(l,r)},h.update=function(t){var r=t[0].trace,l=this.subplot,i=l.map,u=D(l.gd,t),f=l.belowLookup["trace-"+this.uid],c=!(!r.cluster||!r.cluster.enabled),m=!!this.clusterEnabled,a=this;function A(w){m?function p(w){for(var n=P.cluster,S=n.length-1;S>=0;S--)i.removeLayer(a.layerIds[n[S]]);w||i.removeSource(a.sourceIds.circle)}(w):function v(w){for(var n=P.nonCluster,S=n.length-1;S>=0;S--){var d=n[S];i.removeLayer(a.layerIds[d]),w||i.removeSource(a.sourceIds[d])}}(w)}function x(w){c?function b(w){w||a.addSource("circle",u.circle,r.cluster);for(var n=P.cluster,S=0;S<n.length;S++){var d=n[S];a.addLayer(d,u[d],f)}}(w):function s(w){for(var n=P.nonCluster,S=0;S<n.length;S++){var d=n[S],I=u[d];w||a.addSource(d,I),a.addLayer(d,I,f)}}(w)}var g=this.isHidden,M=!0!==r.visible;M?g||A():g?M||x():m!==c?(A(),x()):(this.below!==f&&(A(!0),x(!0)),function E(){for(var w=c?P.cluster:P.nonCluster,n=0;n<w.length;n++){var S=w[n],d=u[S];d&&(l.setOptions(a.layerIds[S],"setLayoutProperty",d.layout),"visible"===d.layout.visibility&&("cluster"!==S&&a.setSourceData(S,d),l.setOptions(a.layerIds[S],"setPaintProperty",d.paint)))}}()),this.clusterEnabled=c,this.isHidden=M,this.below=f,t[0].trace._glTrace=this},h.dispose=function(){for(var t=this.subplot.map,r=this.clusterEnabled?P.cluster:P.nonCluster,l=r.length-1;l>=0;l--){var i=r[l];t.removeLayer(this.layerIds[i]),t.removeSource(this.sourceIds[i])}},te.exports=function(t,r){var a,b,p,l=r[0].trace,i=l.cluster&&l.cluster.enabled,f=new C(t,l.uid,i,!0!==l.visible),c=D(t.gd,r),m=f.below=t.belowLookup["trace-"+l.uid];if(i)for(f.addSource("circle",c.circle,l.cluster),a=0;a<P.cluster.length;a++)f.addLayer(b=P.cluster[a],p=c[b],m);else for(a=0;a<P.nonCluster.length;a++)f.addSource(b=P.nonCluster[a],p=c[b],l.cluster),f.addLayer(b,p,m);return r[0].trace._glTrace=f,f}},86387:function(te,Y,e){"use strict";var T=e(71828),D=e(34098),o=e(50606).BADNUM;te.exports=function(C,h){var u,y=C.cd,t=C.xaxis,r=C.yaxis,l=[];if(!D.hasMarkers(y[0].trace))return[];if(!1===h)for(u=0;u<y.length;u++)y[u].selected=0;else for(u=0;u<y.length;u++){var f=y[u],c=f.lonlat;if(c[0]!==o){var m=[T.modHalf(c[0],360),c[1]],a=[t.c2p(m),r.c2p(m)];h.contains(a,null,u,C)?(l.push({pointNumber:u,lon:c[0],lat:c[1]}),f.selected=1):f.selected=0}}return l}},81245:function(te,Y,e){"use strict";var T=e(5386).fF,D=e(5386).si,o=e(1426).extendFlat,P=e(82196),C=e(9012),h=P.line;te.exports={mode:P.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:P.text,texttemplate:D({editType:"plot"},{keys:["r","theta","text"]}),hovertext:P.hovertext,line:{color:h.color,width:h.width,dash:h.dash,backoff:h.backoff,shape:o({},h.shape,{values:["linear","spline"]}),smoothing:h.smoothing,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,cliponaxis:o({},P.cliponaxis,{dflt:!1}),textposition:P.textposition,textfont:P.textfont,fill:o({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:P.fillcolor,hoverinfo:o({},C.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:P.hoveron,hovertemplate:T(),selected:P.selected,unselected:P.unselected}},26442:function(te,Y,e){"use strict";var T=e(92770),D=e(50606).BADNUM,o=e(89298),P=e(36922),C=e(75225),h=e(66279),y=e(47761).calcMarkerSize;te.exports=function(r,l){for(var i=r._fullLayout,u=l.subplot,f=i[u].radialaxis,c=i[u].angularaxis,m=f.makeCalcdata(l,"r"),a=c.makeCalcdata(l,"theta"),b=l._length,p=new Array(b),s=0;s<b;s++){var v=m[s],A=a[s],x=p[s]={};T(v)&&T(A)?(x.r=v,x.theta=A):x.r=D}var E=y(l,b);return l._extremes.x=o.findExtremes(f,m,{ppad:E}),P(r,l),C(p,l),h(p,l),p}},22184:function(te,Y,e){"use strict";var T=e(71828),D=e(34098),o=e(49508),P=e(11058),C=e(94039),h=e(82410),y=e(28908),t=e(47581).PTS_LINESONLY,r=e(81245);function i(u,f,c,m){var p,a=m("r"),b=m("theta");if(a)b?p=Math.min(a.length,b.length):(p=a.length,m("theta0"),m("dtheta"));else{if(!b)return 0;p=f.theta.length,m("r0"),m("dr")}return f._length=p,p}te.exports={handleRThetaDefaults:i,supplyDefaults:function l(u,f,c,m){function a(s,v){return T.coerce(u,f,r,s,v)}var b=i(0,f,0,a);if(b){a("thetaunit"),a("mode",b<t?"lines+markers":"lines"),a("text"),a("hovertext"),"fills"!==f.hoveron&&a("hovertemplate"),D.hasLines(f)&&(P(u,f,c,m,a,{backoff:!0}),C(u,f,a),a("connectgaps")),D.hasMarkers(f)&&o(u,f,c,m,a,{gradient:!0}),D.hasText(f)&&(a("texttemplate"),h(u,f,m,a));var p=[];(D.hasMarkers(f)||D.hasText(f))&&(a("cliponaxis"),a("marker.maxdisplayed"),p.push("points")),a("fill"),"none"!==f.fill&&(y(u,f,c,a),D.hasLines(f)||C(u,f,a)),("tonext"===f.fill||"toself"===f.fill)&&p.push("fills"),a("hoveron",p.join("+")||"points"),T.coerceSelectionMarkerOpacity(f,a)}else f.visible=!1}}},98608:function(te,Y,e){"use strict";var T=e(71828),D=e(89298);te.exports=function(P,C,h){var r,l,y={},t=h[C.subplot]._subplot;t?(r=t.radialAxis,l=t.angularAxis):(r=(t=h[C.subplot]).radialaxis,l=t.angularaxis);var i=r.c2l(P.r);y.rLabel=D.tickText(r,i,!0).text;var u="degrees"===l.thetaunit?T.rad2deg(P.theta):P.theta;return y.thetaLabel=D.tickText(l,u,!0).text,y}},59150:function(te,Y,e){"use strict";var T=e(33720);function o(P,C,h,y){var t=h.radialAxis,r=h.angularAxis;t._hovertitle="r",r._hovertitle="\u03b8";var l={};l[C.subplot]={_subplot:h};var i=C._module.formatLabels(P,C,l);y.rLabel=i.rLabel,y.thetaLabel=i.thetaLabel;var f=[];function c(a,b){f.push(a._hovertitle+": "+b)}if(!C.hovertemplate){var m=(P.hi||C.hoverinfo).split("+");-1!==m.indexOf("all")&&(m=["r","theta","text"]),-1!==m.indexOf("r")&&c(t,y.rLabel),-1!==m.indexOf("theta")&&c(r,y.thetaLabel),-1!==m.indexOf("text")&&y.text&&(f.push(y.text),delete y.text),y.extraText=f.join("<br>")}}te.exports={hoverPoints:function D(P,C,h,y){var t=T(P,C,h,y);if(t&&!1!==t[0].index){var r=t[0];if(void 0===r.index)return t;var l=P.subplot,i=r.cd[r.index],u=r.trace;if(l.isPtInside(i))return r.xLabelVal=void 0,r.yLabelVal=void 0,o(i,u,l,r),r.hovertemplate=u.hovertemplate,t}},makeHoverPointText:o}},91271:function(te,Y,e){"use strict";te.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(te,Y,e){"use strict";var T=e(32663),D=e(50606).BADNUM;te.exports=function(P,C,h){for(var y=C.layers.frontplot.select("g.scatterlayer"),t=C.xaxis,r=C.yaxis,l={xaxis:t,yaxis:r,plot:C.framework,layerClipId:C._hasClipOnAxisFalse?C.clipIds.forTraces:null},i=C.radialAxis,u=C.angularAxis,f=0;f<h.length;f++)for(var c=h[f],m=0;m<c.length;m++){0===m&&(c[0].trace._xA=t,c[0].trace._yA=r);var a=c[m],b=a.r;if(b===D)a.x=a.y=D;else{var p=i.c2g(b),s=u.c2g(a.theta);a.x=p*Math.cos(s),a.y=p*Math.sin(s)}}T(P,l,h,y)}},53286:function(te,Y,e){"use strict";var T=e(81245),D=e(42341),o=e(5386).si;te.exports={mode:T.mode,r:T.r,theta:T.theta,r0:T.r0,dr:T.dr,theta0:T.theta0,dtheta:T.dtheta,thetaunit:T.thetaunit,text:T.text,texttemplate:o({editType:"plot"},{keys:["r","theta","text"]}),hovertext:T.hovertext,hovertemplate:T.hovertemplate,line:D.line,connectgaps:D.connectgaps,marker:D.marker,fill:D.fill,fillcolor:D.fillcolor,textposition:D.textposition,textfont:D.textfont,hoverinfo:T.hoverinfo,selected:T.selected,unselected:T.unselected}},65746:function(te,Y,e){"use strict";te.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(te,Y,e){"use strict";var T=e(36922),D=e(47761).calcMarkerSize,o=e(19635),P=e(89298),C=e(78232).TOO_MANY_POINTS;te.exports=function(y,t){var r=y._fullLayout,l=t.subplot,i=r[l].radialaxis,u=r[l].angularaxis,f=t._r=i.makeCalcdata(t,"r"),c=t._theta=u.makeCalcdata(t,"theta"),m=t._length,a={};m<f.length&&(f=f.slice(0,m)),m<c.length&&(c=c.slice(0,m)),a.r=f,a.theta=c,T(y,t);var p,b=a.opts=o.style(y,t);return m<C?p=D(t,m):b.marker&&(p=2*(b.marker.sizeAvg||Math.max(b.marker.size,3))),t._extremes.x=P.findExtremes(i,f,{ppad:p}),[{x:!1,y:!1,t:a,trace:t}]}},75485:function(te,Y,e){"use strict";var T=e(71828),D=e(34098),o=e(22184).handleRThetaDefaults,P=e(49508),C=e(11058),h=e(82410),y=e(28908),t=e(47581).PTS_LINESONLY,r=e(53286);te.exports=function(i,u,f,c){function m(b,p){return T.coerce(i,u,r,b,p)}var a=o(i,u,c,m);a?(m("thetaunit"),m("mode",a<t?"lines+markers":"lines"),m("text"),m("hovertext"),"fills"!==u.hoveron&&m("hovertemplate"),D.hasLines(u)&&(C(i,u,f,c,m),m("connectgaps")),D.hasMarkers(u)&&P(i,u,f,c,m,{noAngleRef:!0,noStandOff:!0}),D.hasText(u)&&(m("texttemplate"),h(i,u,c,m)),m("fill"),"none"!==u.fill&&y(i,u,f,m),T.coerceSelectionMarkerOpacity(u,m)):u.visible=!1}},46255:function(te,Y,e){"use strict";var T=e(98608);te.exports=function(o,P,C){var h=o.i;return"r"in o||(o.r=P._r[h]),"theta"in o||(o.theta=P._theta[h]),T(o,P,C)}},29347:function(te,Y,e){"use strict";var T=e(20794),D=e(59150).makeHoverPointText;te.exports={hoverPoints:function o(P,C,h,y){var r=P.cd[0].t,l=r.r,i=r.theta,u=T.hoverPoints(P,C,h,y);if(u&&!1!==u[0].index){var f=u[0];if(void 0===f.index)return u;var c=P.subplot,m=f.cd[f.index],a=f.trace;if(m.r=l[f.index],m.theta=i[f.index],c.isPtInside(m))return f.xLabelVal=void 0,f.yLabelVal=void 0,D(m,a,c,f),u}}}},21461:function(te,Y,e){"use strict";var T=e(65746);T.plot=e(49741),te.exports=T},49741:function(te,Y,e){"use strict";var T=e(88294),D=e(92770),o=e(26787),P=e(38967),C=e(19635),h=e(71828),y=e(78232).TOO_MANY_POINTS;te.exports=function(l,i,u){if(u.length){var f=i.radialAxis,c=i.angularAxis,m=P(l,i);return u.forEach(function(a){if(a&&a[0]&&a[0].trace){var g,b=a[0],p=b.trace,s=b.t,v=p._length,A=s.r,x=s.theta,E=s.opts,M=A.slice(),w=x.slice();for(g=0;g<A.length;g++)i.isPtInside({r:A[g],theta:x[g]})||(M[g]=NaN,w[g]=NaN);var n=new Array(2*v),S=Array(v),d=Array(v);for(g=0;g<v;g++){var L,B,I=M[g];if(D(I)){var k=f.c2g(I),z=c.c2g(w[g],p.thetaunit);L=k*Math.cos(z),B=k*Math.sin(z)}else L=B=NaN;S[g]=n[2*g]=L,d[g]=n[2*g+1]=B}s.tree=T(n),E.marker&&v>=y&&(E.marker.cluster=s.tree),E.marker&&(E.markerSel.positions=E.markerUnsel.positions=E.marker.positions=n),E.line&&n.length>1&&h.extendFlat(E.line,C.linePositions(l,p,n)),E.text&&(h.extendFlat(E.text,{positions:n},C.textPosition(l,p,E.text,E.marker)),h.extendFlat(E.textSel,{positions:n},C.textPosition(l,p,E.text,E.markerSel)),h.extendFlat(E.textUnsel,{positions:n},C.textPosition(l,p,E.text,E.markerUnsel))),E.fill&&!m.fill2d&&(m.fill2d=!0),E.marker&&!m.scatter2d&&(m.scatter2d=!0),E.line&&!m.line2d&&(m.line2d=!0),E.text&&!m.glText&&(m.glText=!0),m.lineOptions.push(E.line),m.fillOptions.push(E.fill),m.markerOptions.push(E.marker),m.markerSelectedOptions.push(E.markerSel),m.markerUnselectedOptions.push(E.markerUnsel),m.textOptions.push(E.text),m.textSelectedOptions.push(E.textSel),m.textUnselectedOptions.push(E.textUnsel),m.selectBatch.push([]),m.unselectBatch.push([]),s.x=S,s.y=d,s.rawx=S,s.rawy=d,s.r=A,s.theta=x,s.positions=n,s._scene=m,s.index=m.count,m.count++}}),o(l,i,u)}},te.exports.reglPrecompiled={}},48300:function(te,Y,e){"use strict";var T=e(5386).fF,D=e(5386).si,o=e(1426).extendFlat,P=e(82196),C=e(9012),h=P.line;te.exports={mode:P.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:P.text,texttemplate:D({editType:"plot"},{keys:["real","imag","text"]}),hovertext:P.hovertext,line:{color:h.color,width:h.width,dash:h.dash,backoff:h.backoff,shape:o({},h.shape,{values:["linear","spline"]}),smoothing:h.smoothing,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,cliponaxis:o({},P.cliponaxis,{dflt:!1}),textposition:P.textposition,textfont:P.textfont,fill:o({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:P.fillcolor,hoverinfo:o({},C.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:P.hoveron,hovertemplate:T(),selected:P.selected,unselected:P.unselected}},30621:function(te,Y,e){"use strict";var T=e(92770),D=e(50606).BADNUM,o=e(36922),P=e(75225),C=e(66279),h=e(47761).calcMarkerSize;te.exports=function(t,r){for(var l=t._fullLayout,i=r.subplot,f=l[i].imaginaryaxis,c=l[i].realaxis.makeCalcdata(r,"real"),m=f.makeCalcdata(r,"imag"),a=r._length,b=new Array(a),p=0;p<a;p++){var s=c[p],v=m[p],A=b[p]={};T(s)&&T(v)?(A.real=s,A.imag=v):A.real=D}return h(r,a),o(t,r),P(b,r),C(b,r),b}},65269:function(te,Y,e){"use strict";var T=e(71828),D=e(34098),o=e(49508),P=e(11058),C=e(94039),h=e(82410),y=e(28908),t=e(47581).PTS_LINESONLY,r=e(48300);te.exports=function(u,f,c,m){function a(s,v){return T.coerce(u,f,r,s,v)}var b=function l(i,u,f,c){var b,m=c("real"),a=c("imag");return m&&a&&(b=Math.min(m.length,a.length)),u._length=b,b}(0,f,0,a);if(b){a("mode",b<t?"lines+markers":"lines"),a("text"),a("hovertext"),"fills"!==f.hoveron&&a("hovertemplate"),D.hasLines(f)&&(P(u,f,c,m,a,{backoff:!0}),C(u,f,a),a("connectgaps")),D.hasMarkers(f)&&o(u,f,c,m,a,{gradient:!0}),D.hasText(f)&&(a("texttemplate"),h(u,f,m,a));var p=[];(D.hasMarkers(f)||D.hasText(f))&&(a("cliponaxis"),a("marker.maxdisplayed"),p.push("points")),a("fill"),"none"!==f.fill&&(y(u,f,c,a),D.hasLines(f)||C(u,f,a)),("tonext"===f.fill||"toself"===f.fill)&&p.push("fills"),a("hoveron",p.join("+")||"points"),T.coerceSelectionMarkerOpacity(f,a)}else f.visible=!1}},62047:function(te,Y,e){"use strict";var T=e(89298);te.exports=function(o,P,C){var h={},y=C[P.subplot]._subplot;return h.realLabel=T.tickText(y.radialAxis,o.real,!0).text,h.imagLabel=T.tickText(y.angularAxis,o.imag,!0).text,h}},11350:function(te,Y,e){"use strict";var T=e(33720);function o(P,C,h,y){var t=h.radialAxis,r=h.angularAxis;t._hovertitle="real",r._hovertitle="imag";var l={};l[C.subplot]={_subplot:h};var i=C._module.formatLabels(P,C,l);y.realLabel=i.realLabel,y.imagLabel=i.imagLabel;var f=[];function c(a,b){f.push(a._hovertitle+": "+b)}if(!C.hovertemplate){var m=(P.hi||C.hoverinfo).split("+");-1!==m.indexOf("all")&&(m=["real","imag","text"]),-1!==m.indexOf("real")&&c(t,y.realLabel),-1!==m.indexOf("imag")&&c(r,y.imagLabel),-1!==m.indexOf("text")&&y.text&&(f.push(y.text),delete y.text),y.extraText=f.join("<br>")}}te.exports={hoverPoints:function D(P,C,h,y){var t=T(P,C,h,y);if(t&&!1!==t[0].index){var r=t[0];if(void 0===r.index)return t;var l=P.subplot,i=r.cd[r.index],u=r.trace;if(l.isPtInside(i))return r.xLabelVal=void 0,r.yLabelVal=void 0,o(i,u,l,r),r.hovertemplate=u.hovertemplate,t}},makeHoverPointText:o}},85956:function(te,Y,e){"use strict";te.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(te,Y,e){"use strict";var T=e(32663),D=e(50606).BADNUM,P=e(23893).smith;te.exports=function(h,y,t){for(var r=y.layers.frontplot.select("g.scatterlayer"),l=y.xaxis,i=y.yaxis,u={xaxis:l,yaxis:i,plot:y.framework,layerClipId:y._hasClipOnAxisFalse?y.clipIds.forTraces:null},f=0;f<t.length;f++)for(var c=t[f],m=0;m<c.length;m++){0===m&&(c[0].trace._xA=l,c[0].trace._yA=i);var a=c[m],b=a.real;if(b===D)a.x=a.y=D;else{var p=P([b,a.imag]);a.x=p[0],a.y=p[1]}}T(h,u,t,r)}},50413:function(te,Y,e){"use strict";var T=e(5386).fF,D=e(5386).si,o=e(82196),P=e(9012),C=e(50693),h=e(79952).P,y=e(1426).extendFlat,t=o.marker,r=o.line,l=t.line;te.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:y({},o.mode,{dflt:"markers"}),text:y({},o.text,{}),texttemplate:D({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:y({},o.hovertext,{}),line:{color:r.color,width:r.width,dash:h,backoff:r.backoff,shape:y({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:o.connectgaps,cliponaxis:o.cliponaxis,fill:y({},o.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:o.fillcolor,marker:y({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:y({width:l.width,editType:"calc"},C("marker.line")),gradient:t.gradient,editType:"calc"},C("marker")),textfont:o.textfont,textposition:o.textposition,selected:o.selected,unselected:o.unselected,hoverinfo:y({},P.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:o.hoveron,hovertemplate:T()}},54337:function(te,Y,e){"use strict";var T=e(92770),D=e(36922),o=e(75225),P=e(66279),C=e(47761).calcMarkerSize,h=["a","b","c"],y={a:["b","c"],b:["a","c"],c:["a","b"]};te.exports=function(r,l){var m,a,b,p,s,v,u=r._fullLayout[l.subplot].sum,f=l.sum||u,c={a:l.a,b:l.b,c:l.c};for(m=0;m<h.length;m++)if(!c[b=h[m]]){for(s=c[y[b][0]],v=c[y[b][1]],p=new Array(s.length),a=0;a<s.length;a++)p[a]=f-s[a]-v[a];c[b]=p}var E,g,M,w,A=l._length,x=new Array(A);for(m=0;m<A;m++)g=c.b[m],M=c.c[m],T(E=c.a[m])&&T(g)&&T(M)?(1!=(w=u/((E=+E)+(g=+g)+(M=+M)))&&(E*=w,g*=w,M*=w),x[m]={x:M-g,y:E,a:E,b:g,c:M}):x[m]={x:!1,y:!1};return C(l,A),D(r,l),o(x,l),P(x,l),x}},46008:function(te,Y,e){"use strict";var T=e(71828),D=e(47581),o=e(34098),P=e(49508),C=e(11058),h=e(94039),y=e(82410),t=e(28908),r=e(50413);te.exports=function(i,u,f,c){function m(x,E){return T.coerce(i,u,r,x,E)}var s,a=m("a"),b=m("b"),p=m("c");if(a?(s=a.length,b?(s=Math.min(s,b.length),p&&(s=Math.min(s,p.length))):s=p?Math.min(s,p.length):0):b&&p&&(s=Math.min(b.length,p.length)),s){u._length=s,m("sum"),m("text"),m("hovertext"),"fills"!==u.hoveron&&m("hovertemplate"),m("mode",s<D.PTS_LINESONLY?"lines+markers":"lines"),o.hasLines(u)&&(C(i,u,f,c,m,{backoff:!0}),h(i,u,m),m("connectgaps")),o.hasMarkers(u)&&P(i,u,f,c,m,{gradient:!0}),o.hasText(u)&&(m("texttemplate"),y(i,u,c,m));var A=[];(o.hasMarkers(u)||o.hasText(u))&&(m("cliponaxis"),m("marker.maxdisplayed"),A.push("points")),m("fill"),"none"!==u.fill&&(t(i,u,f,m),o.hasLines(u)||h(i,u,m)),("tonext"===u.fill||"toself"===u.fill)&&A.push("fills"),m("hoveron",A.join("+")||"points"),T.coerceSelectionMarkerOpacity(u,m)}else u.visible=!1}},4524:function(te){"use strict";te.exports=function(e,T,D,o,P){if(T.xa&&(e.xaxis=T.xa),T.ya&&(e.yaxis=T.ya),o[P]){var C=o[P];e.a=C.a,e.b=C.b,e.c=C.c}else e.a=T.a,e.b=T.b,e.c=T.c;return e}},93645:function(te,Y,e){"use strict";var T=e(89298);te.exports=function(o,P,C){var h={},y=C[P.subplot]._subplot;return h.aLabel=T.tickText(y.aaxis,o.a,!0).text,h.bLabel=T.tickText(y.baxis,o.b,!0).text,h.cLabel=T.tickText(y.caxis,o.c,!0).text,h}},47250:function(te,Y,e){"use strict";var T=e(33720);te.exports=function(o,P,C,h){var y=T(o,P,C,h);if(y&&!1!==y[0].index){var t=y[0];if(void 0===t.index){var l=o.xa._length,i=l*(1-t.y0/o.ya._length)/2,u=l-i;return t.x0=Math.max(Math.min(t.x0,u),i),t.x1=Math.max(Math.min(t.x1,u),i),y}var f=t.cd[t.index],c=t.trace,m=t.subplot;t.a=f.a,t.b=f.b,t.c=f.c,t.xLabelVal=void 0,t.yLabelVal=void 0;var a={};a[c.subplot]={_subplot:m};var b=c._module.formatLabels(f,c,a);t.aLabel=b.aLabel,t.bLabel=b.bLabel,t.cLabel=b.cLabel;var s=[];if(!c.hovertemplate){var A=(f.hi||c.hoverinfo).split("+");-1!==A.indexOf("all")&&(A=["a","b","c"]),-1!==A.indexOf("a")&&v(m.aaxis,t.aLabel),-1!==A.indexOf("b")&&v(m.baxis,t.bLabel),-1!==A.indexOf("c")&&v(m.caxis,t.cLabel)}return t.extraText=s.join("<br>"),t.hovertemplate=c.hovertemplate,y}function v(x,E){s.push(x._hovertitle+": "+E)}}},52979:function(te,Y,e){"use strict";te.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(te,Y,e){"use strict";var T=e(32663);te.exports=function(o,P,C){var h=P.plotContainer;h.select(".scatterlayer").selectAll("*").remove();for(var y=P.xaxis,t=P.yaxis,r={xaxis:y,yaxis:t,plot:h,layerClipId:P._hasClipOnAxisFalse?P.clipIdRelative:null},l=P.layers.frontplot.select("g.scatterlayer"),i=0;i<C.length;i++){var u=C[i];u.length&&(u[0].trace._xA=y,u[0].trace._yA=t)}T(o,r,C,l)}},46880:function(te,Y,e){"use strict";var T=e(82196),D=e(50693),o=e(12663).axisHoverFormat,P=e(5386).fF,C=e(42341),h=e(85555).idRegex,y=e(44467).templatedArray,t=e(1426).extendFlat,r=T.marker,l=r.line,i=t(D("marker.line",{editTypeOverride:"calc"}),{width:t({},l.width,{editType:"calc"}),editType:"calc"}),u=t(D("marker"),{symbol:r.symbol,angle:r.angle,size:t({},r.size,{editType:"markerSize"}),sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:i,editType:"calc"});function f(c){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:h[c],editType:"plot"}}}u.color.editType=u.cmin.editType=u.cmax.editType="style",te.exports={dimensions:y("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},C.text,{}),hovertext:t({},C.hovertext,{}),hovertemplate:P(),xhoverformat:o("x"),yhoverformat:o("y"),marker:u,xaxes:f("x"),yaxes:f("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:C.selected.marker,editType:"calc"},unselected:{marker:C.unselected.marker,editType:"calc"},opacity:C.opacity}},65017:function(te,Y,e){"use strict";var T=e(73972),D=e(83312);te.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},T.register(D)},16947:function(te,Y,e){"use strict";var T=e(46075),D=e(73972),o=e(79749),P=e(27659).a0,C=e(93612),h=e(41675).getFromId,y=e(89298).shouldShowZeroLine,t="splom",r={};function u(a,b,p){for(var v=b._visibleDims,A=p.viewOpts.ranges=new Array(p.matrixOptions.data.length),x=0;x<v.length;x++){var E=v[x],g=A[x]=new Array(4),M=h(a,b._diag[E][0]);M&&(g[0]=M.r2l(M.range[0]),g[2]=M.r2l(M.range[1]));var w=h(a,b._diag[E][1]);w&&(g[1]=w.r2l(w.range[0]),g[3]=w.r2l(w.range[1]))}p.selectBatch.length||p.unselectBatch.length?p.matrix.update({ranges:A},{ranges:A}):p.matrix.update({ranges:A})}function f(a){var b=a._fullLayout,p=b._glcanvas.data()[0].regl,s=b._splomGrid;s||(s=b._splomGrid=T(p)),s.update(function c(a){var x,b=a._context.plotGlPixelRatio,p=a._fullLayout,s=p._size,v=[0,0,p.width*b,p.height*b],A={};function E(H,X,ne,ie,ue,J){ne*=b,ie*=b,ue*=b,J*=b;var j=X[H+"color"],W=X[H+"width"],V=String(j+W);V in A?A[V].data.push(NaN,NaN,ne,ie,ue,J):A[V]={data:[ne,ie,ue,J],join:"rect",thickness:W*b,color:j,viewport:v,range:v,overlay:!1}}for(x in p._splomSubplots){var O,F,g=p._plots[x],M=g.xaxis,w=g.yaxis,n=M._gridVals,S=w._gridVals,d=M._offset,I=M._length,L=w._length,B=s.b+w.domain[0]*s.h,k=-w._m,z=-k*w.r2l(w.range[0],w.calendar);if(M.showgrid)for(x=0;x<n.length;x++)O=d+M.l2p(n[x].x),E("grid",M,O,B,O,B+L);if(w.showgrid)for(x=0;x<S.length;x++)E("grid",w,d,F=B+z+k*S[x].x,d+I,F);y(a,M,w)&&(O=d+M.l2p(0),E("zeroline",M,O,B,O,B+L)),y(a,w,M)&&E("zeroline",w,d,F=B+z+0,d+I,F)}var N=[];for(x in A)N.push(A[x]);return N}(a))}te.exports={name:t,attr:C.attr,attrRegex:C.attrRegex,layoutAttributes:C.layoutAttributes,supplyLayoutDefaults:C.supplyLayoutDefaults,drawFramework:C.drawFramework,plot:function l(a){var b=a._fullLayout,p=D.getModule(t),s=P(a.calcdata,p)[0];o(a,["ANGLE_instanced_arrays","OES_element_index_uint"],r)&&(b._hasOnlyLargeSploms&&f(a),p.plot(a,{},s))},drag:function i(a){var b=a.calcdata,p=a._fullLayout;p._hasOnlyLargeSploms&&f(a);for(var s=0;s<b.length;s++){var A=b[s][0].trace,x=p._splomScenes[A.uid];"splom"===A.type&&x&&x.matrix&&u(a,A,x)}},updateGrid:f,clean:function m(a,b,p,s){var A,v={};if(s._splomScenes){for(A=0;A<a.length;A++){var x=a[A];"splom"===x.type&&(v[x.uid]=1)}for(A=0;A<p.length;A++){var E=p[A];if(!v[E.uid]){var g=s._splomScenes[E.uid];g&&g.destroy&&g.destroy(),s._splomScenes[E.uid]=null,delete s._splomScenes[E.uid]}}}0===Object.keys(s._splomScenes||{}).length&&delete s._splomScenes,s._splomGrid&&!b._hasOnlyLargeSploms&&s._hasOnlyLargeSploms&&(s._splomGrid.destroy(),s._splomGrid=null,delete s._splomGrid),C.clean(a,b,p,s)},updateFx:C.updateFx,toSVG:C.toSVG,reglPrecompiled:r}},87625:function(te,Y,e){"use strict";var T=e(71828),D=e(41675),o=e(47761).calcMarkerSize,P=e(47761).calcAxisExpansion,C=e(36922),h=e(19635).markerSelection,y=e(19635).markerStyle,t=e(10164),r=e(50606).BADNUM,l=e(78232).TOO_MANY_POINTS;te.exports=function(u,f){var v,A,x,E,g,S,c=f.dimensions,m=f._length,a={},b=a.cdata=[],p=a.data=[],s=f._visibleDims=[];function M(I,L){for(var B=I.makeCalcdata({v:L.values,vcalendar:f.calendar},"v"),k=0;k<B.length;k++)B[k]=B[k]===r?NaN:B[k];b.push(B),p.push("log"===I.type?T.simpleMap(B,I.c2l):B)}for(v=0;v<c.length;v++)if((x=c[v]).visible){if(E=D.getFromId(u,f._diag[v][0]),g=D.getFromId(u,f._diag[v][1]),E&&g&&E.type!==g.type){T.log("Skipping splom dimension "+v+" with conflicting axis types");continue}E?(M(E,x),g&&"category"===g.type&&(g._categories=E._categories.slice())):M(g,x),s.push(v)}for(C(u,f),T.extendFlat(a,y(u,f)),S=b.length*m>l?a.sizeAvg||Math.max(a.size,3):o(f,m),A=0;A<s.length;A++)x=c[v=s[A]],E=D.getFromId(u,f._diag[v][0])||{},g=D.getFromId(u,f._diag[v][1])||{},P(u,f,E,g,b[A],b[A],S);var d=t(u,f);return d.matrix||(d.matrix=!0),d.matrixOptions=a,d.selectedOptions=h(u,f,f.selected),d.unselectedOptions=h(u,f,f.unselected),[{x:!1,y:!1,t:{},trace:f}]}},25784:function(te,Y,e){"use strict";var T=e(71828),D=e(85501),o=e(46880),P=e(34098),C=e(49508),h=e(94397),y=e(68645).isOpenSymbol;function t(l,i){function u(c,m){return T.coerce(l,i,o.dimensions,c,m)}u("label");var f=u("values");f&&f.length?u("visible"):i.visible=!1,u("axis.type"),u("axis.matches")}te.exports=function(i,u,f,c){function m(E,g){return T.coerce(i,u,o,E,g)}var a=D(i,u,{name:"dimensions",handleItemDefaults:t}),b=m("diagonal.visible"),p=m("showupperhalf"),s=m("showlowerhalf");if(h(u,a,"values")&&(b||p||s)){m("text"),m("hovertext"),m("hovertemplate"),m("xhoverformat"),m("yhoverformat"),C(i,u,f,c,m,{noAngleRef:!0,noStandOff:!0});var A=y(u.marker.symbol),x=P.isBubble(u);m("marker.line.width",A||x?1:0),function r(l,i,u,f){var s,v,c=i.dimensions,m=c.length,a=i.showupperhalf,b=i.showlowerhalf,p=i.diagonal.visible,A=new Array(m),x=new Array(m);for(s=0;s<m;s++){var E=s?s+1:"";A[s]="x"+E,x[s]="y"+E}var g=f("xaxes",A),M=f("yaxes",x),w=i._diag=new Array(m);i._xaxes={},i._yaxes={};var n=[],S=[];function d(H,X,ne,ie){if(H){var ue=H.charAt(0),J=u._splomAxes[ue];if(i["_"+ue+"axes"][H]=1,ie.push(H),!(H in J)){var j=J[H]={};ne&&(j.label=ne.label||"",ne.visible&&ne.axis&&(ne.axis.type&&(j.type=ne.axis.type),ne.axis.matches&&(j.matches=X)))}}}var I=!p&&!b,L=!p&&!a;for(i._axesDim={},s=0;s<m;s++){var B=c[s],k=0===s,z=s===m-1,O=k&&I||z&&L?void 0:g[s],F=k&&L||z&&I?void 0:M[s];d(O,F,B,n),d(F,O,B,S),w[s]=[O,F],i._axesDim[O]=s,i._axesDim[F]=s}for(s=0;s<n.length;s++)for(v=0;v<S.length;v++)(s>v&&a||s<v&&b||s===v&&(p||!b||!a))&&(u._splomSubplots[n[s]+S[v]]=1);(!b||!p&&a&&b)&&(u._splomGridDflt.xside="bottom",u._splomGridDflt.yside="left")}(0,u,c,m),T.coerceSelectionMarkerOpacity(u,m)}else u.visible=!1}},28801:function(te,Y,e){"use strict";var T=e(71828),D=e(36922),o=e(19635).markerStyle;te.exports=function(C,h){var y=h.trace,t=C._fullLayout._splomScenes[y.uid];if(t){D(C,y),T.extendFlat(t.matrixOptions,o(C,y));var r=T.extendFlat({},t.matrixOptions,t.viewOpts);t.matrix.update(r,null)}}},35948:function(te,Y){"use strict";Y.getDimIndex=function(T,D){for(var o=D._id,C={x:0,y:1}[o.charAt(0)],h=T._visibleDims,y=0;y<h.length;y++)if(T._diag[h[y]][C]===o)return y;return!1}},8567:function(te,Y,e){"use strict";var T=e(35948),D=e(20794).calcHover;te.exports={hoverPoints:function o(P,C,h){var t=P.cd[0].trace,l=P.scene.matrixOptions.cdata,i=P.xa,u=P.ya,f=i.c2p(C),c=u.c2p(h),m=P.distance,a=T.getDimIndex(t,i),b=T.getDimIndex(t,u);if(!1===a||!1===b)return[P];for(var v,A,p=l[a],s=l[b],x=m,E=0;E<p.length;E++){var M=s[E],w=i.c2p(p[E])-f,n=u.c2p(M)-c,S=Math.sqrt(w*w+n*n);S<x&&(x=A=S,v=E)}return P.index=v,P.distance=x,P.dxy=A,void 0===v?[P]:[D(P,p,s,t)]}}},6419:function(te,Y,e){"use strict";var T=e(65017);T.basePlotModule=e(16947),te.exports=T},79410:function(te,Y,e){"use strict";var T=e(60487),D=e(71828),o=e(41675),P=e(64505).selectMode;function C(h,y){var b,p,s,v,A,t=h._fullLayout,r=t._size,l=y.trace,i=y.t,u=t._splomScenes[l.uid],f=u.matrixOptions,c=f.cdata,m=t._glcanvas.data()[0].regl,a=t.dragmode;if(0!==c.length){f.lower=l.showupperhalf,f.upper=l.showlowerhalf,f.diagonal=l.diagonal.visible;var x=l._visibleDims,E=c.length,g=u.viewOpts={};for(g.ranges=new Array(E),g.domains=new Array(E),A=0;A<x.length;A++){s=x[A];var M=g.ranges[A]=new Array(4),w=g.domains[A]=new Array(4);(b=o.getFromId(h,l._diag[s][0]))&&(M[0]=b._rl[0],M[2]=b._rl[1],w[0]=b.domain[0],w[2]=b.domain[1]),(p=o.getFromId(h,l._diag[s][1]))&&(M[1]=p._rl[0],M[3]=p._rl[1],w[1]=p.domain[0],w[3]=p.domain[1])}var n=h._context.plotGlPixelRatio,S=r.l*n,d=r.b*n;g.viewport=[S,d,r.w*n+S,r.h*n+d],!0===u.matrix&&(u.matrix=T(m));var B=t.clickmode.indexOf("select")>-1,z=!0;if(P(a)||l.selectedpoints||B){var O=l._length;if(l.selectedpoints){u.selectBatch=l.selectedpoints;var F=l.selectedpoints,N={};for(s=0;s<F.length;s++)N[F[s]]=!0;var H=[];for(s=0;s<O;s++)N[s]||H.push(s);u.unselectBatch=H}var X=i.xpx=new Array(E),ne=i.ypx=new Array(E);for(A=0;A<x.length;A++){if(b=o.getFromId(h,l._diag[s=x[A]][0]))for(X[A]=new Array(O),v=0;v<O;v++)X[A][v]=b.c2p(c[A][v]);if(p=o.getFromId(h,l._diag[s][1]))for(ne[A]=new Array(O),v=0;v<O;v++)ne[A][v]=p.c2p(c[A][v])}if(u.selectBatch.length||u.unselectBatch.length){var ie=D.extendFlat({},f,u.unselectedOptions,g),ue=D.extendFlat({},f,u.selectedOptions,g);u.matrix.update(ie,ue),z=!1}}else i.xpx=i.ypx=null;if(z){var J=D.extendFlat({},f,g);u.matrix.update(J,null)}}}te.exports=function(y,t,r){if(r.length)for(var l=0;l<r.length;l++)C(y,r[l][0])}},10164:function(te,Y,e){"use strict";var T=e(71828);te.exports=function(o,P){var C=o._fullLayout,h=P.uid,y=C._splomScenes;y||(y=C._splomScenes={});var t={dirty:!0,selectBatch:[],unselectBatch:[]},l=y[P.uid];return l||((l=y[h]=T.extendFlat({},t,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){l.matrix&&l.matrix.draw&&(l.selectBatch.length||l.unselectBatch.length?l.matrix.draw(l.unselectBatch,l.selectBatch):l.matrix.draw()),l.dirty=!1},l.destroy=function(){l.matrix&&l.matrix.destroy&&l.matrix.destroy(),l.matrixOptions=null,l.selectBatch=null,l.unselectBatch=null,l=null}),l.dirty||T.extendFlat(l,t),l}},8689:function(te,Y,e){"use strict";var T=e(71828),D=T.pushUnique,o=e(34098),P=e(35948);te.exports=function(h,y){var t=h.cd,r=t[0].trace,l=t[0].t,i=h.scene,u=i.matrixOptions.cdata,f=h.xaxis,c=h.yaxis,m=[];if(!i)return m;var a=!o.hasMarkers(r)&&!o.hasText(r);if(!0!==r.visible||a)return m;var b=P.getDimIndex(r,f),p=P.getDimIndex(r,c);if(!1===b||!1===p)return m;var s=l.xpx[b],v=l.ypx[p],A=u[b],x=u[p],E=(h.scene.selectBatch||[]).slice(),g=[];if(!1!==y&&!y.degenerate)for(var M=0;M<A.length;M++)y.contains([s[M],v[M]],null,M,h)?(m.push({pointNumber:M,x:A[M],y:x[M]}),D(E,M)):-1!==E.indexOf(M)?D(E,M):g.push(M);var w=i.matrixOptions;return E.length||g.length?!i.selectBatch.length&&!i.unselectBatch.length&&i.matrix.update(i.unselectedOptions,T.extendFlat({},w,i.selectedOptions,i.viewOpts)):i.matrix.update(w,null),i.selectBatch=E,i.unselectBatch=g,m}},21850:function(te,Y,e){"use strict";var T=e(50693),D=e(12663).axisHoverFormat,o=e(5386).fF,P=e(2418),C=e(9012),h=e(1426).extendFlat,y={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:o({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:D("u",1),vhoverformat:D("v",1),whoverformat:D("w",1),xhoverformat:D("x"),yhoverformat:D("y"),zhoverformat:D("z"),showlegend:h({},C.showlegend,{dflt:!1})};h(y,T("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(r){y[r]=P[r]}),y.hoverinfo=h({},C.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),y.transforms=void 0,te.exports=y},88489:function(te,Y,e){"use strict";var T=e(71828),D=e(78803);function P(y){var u,f,c,x,E,g,M,w,n,S,d,I,t=y._x,r=y._y,l=y._z,i=y._len,m=-1/0,a=1/0,b=-1/0,p=1/0,s=-1/0,v=1/0,A="";for(i&&(M=t[0],n=r[0],d=l[0]),i>1&&(w=t[i-1],S=r[i-1],I=l[i-1]),u=0;u<i;u++)m=Math.max(m,t[u]),a=Math.min(a,t[u]),b=Math.max(b,r[u]),p=Math.min(p,r[u]),s=Math.max(s,l[u]),v=Math.min(v,l[u]),!x&&t[u]!==M&&(x=!0,A+="x"),!E&&r[u]!==n&&(E=!0,A+="y"),!g&&l[u]!==d&&(g=!0,A+="z");x||(A+="x"),E||(A+="y"),g||(A+="z");var L=C(y._x),B=C(y._y),k=C(y._z);A=(A=(A=A.replace("x",(M>w?"-":"+")+"x")).replace("y",(n>S?"-":"+")+"y")).replace("z",(d>I?"-":"+")+"z");var z=function(){i=0,L=[],B=[],k=[]};(!i||i<L.length*B.length*k.length)&&z();var O=function(se){return"x"===se?t:"y"===se?r:l},F=function(se){return"x"===se?L:"y"===se?B:k},N=function(se){return se[i-1]<se[0]?-1:1},H=O(A[1]),X=O(A[3]),ne=O(A[5]),ie=F(A[1]).length,ue=F(A[3]).length,J=F(A[5]).length,j=!1,W=function(se,de,we){return ie*(ue*se+de)+we},V=N(O(A[1])),K=N(O(A[3])),ae=N(O(A[5]));for(u=0;u<J-1;u++){for(f=0;f<ue-1;f++){for(c=0;c<ie-1;c++){var Q=W(u,f,c),Z=W(u,f,c+1),re=W(u,f+1,c),q=W(u+1,f,c);if(H[Q]*V<H[Z]*V&&X[Q]*K<X[re]*K&&ne[Q]*ae<ne[q]*ae||(j=!0),j)break}if(j)break}if(j)break}return j&&(T.warn("Encountered arbitrary coordinates! Unable to input data grid."),z()),{xMin:a,yMin:p,zMin:v,xMax:m,yMax:b,zMax:s,Xs:L,Ys:B,Zs:k,len:i,fill:A}}function C(y){return T.distinctVals(y).vals}function h(y,t){if(void 0===t&&(t=y.length),T.isTypedArray(y))return y.subarray(0,t);for(var r=[],l=0;l<t;l++)r[l]=+y[l];return r}te.exports={calc:function o(y,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=h(t.u,t._len),t._v=h(t.v,t._len),t._w=h(t.w,t._len),t._x=h(t.x,t._len),t._y=h(t.y,t._len),t._z=h(t.z,t._len);var r=P(t);t._gridFill=r.fill,t._Xs=r.Xs,t._Ys=r.Ys,t._Zs=r.Zs,t._len=r.len;var i,u,f,l=0;t.starts&&(i=h(t.starts.x||[]),u=h(t.starts.y||[]),f=h(t.starts.z||[]),l=Math.min(i.length,u.length,f.length)),t._startsX=i||[],t._startsY=u||[],t._startsZ=f||[];var a,c=0,m=1/0;for(a=0;a<t._len;a++){var b=t._u[a],p=t._v[a],s=t._w[a],v=Math.sqrt(b*b+p*p+s*s);c=Math.max(c,v),m=Math.min(m,v)}for(D(y,t,{vals:[m,c],containerStr:"",cLetter:"c"}),a=0;a<l;a++){var A=i[a];r.xMax=Math.max(r.xMax,A),r.xMin=Math.min(r.xMin,A);var x=u[a];r.yMax=Math.max(r.yMax,x),r.yMin=Math.min(r.yMin,x);var E=f[a];r.zMax=Math.max(r.zMax,E),r.zMin=Math.min(r.zMin,E)}t._slen=l,t._normMax=c,t._xbnds=[r.xMin,r.xMax],t._ybnds=[r.yMin,r.yMax],t._zbnds=[r.zMin,r.zMax]},filter:h,processGrid:P}},90154:function(te,Y,e){"use strict";var T=e(9330).gl_streamtube3d,D=T.createTubeMesh,o=e(71828),P=e(81697).parseColorScale,C=e(21081).extractOpts,h=e(90060),y={xaxis:0,yaxis:1,zaxis:2};function t(c,m){this.scene=c,this.uid=m,this.mesh=null,this.data=null}var r=t.prototype;function l(c){var m=c.length;return m>2?c.slice(1,m-1):2===m?[(c[0]+c[1])/2]:c}function i(c){var m=c.length;return 1===m?[.5,.5]:[c[1]-c[0],c[m-1]-c[m-2]]}function u(c,m){var a=c.fullSceneLayout,b=c.dataScale,p=m._len,s={};function v(ue,J){var j=a[J],W=b[y[J]];return o.simpleMap(ue,function(V){return j.d2l(V)*W})}if(s.vectors=h(v(m._u,"xaxis"),v(m._v,"yaxis"),v(m._w,"zaxis"),p),!p)return{positions:[],cells:[]};var A=v(m._Xs,"xaxis"),x=v(m._Ys,"yaxis"),E=v(m._Zs,"zaxis");if(s.meshgrid=[A,x,E],s.gridFill=m._gridFill,m._slen)s.startingPositions=h(v(m._startsX,"xaxis"),v(m._startsY,"yaxis"),v(m._startsZ,"zaxis"));else{for(var M=x[0],w=l(A),n=l(E),S=new Array(w.length*n.length),d=0,I=0;I<w.length;I++)for(var L=0;L<n.length;L++)S[d++]=[w[I],M,n[L]];s.startingPositions=S}s.colormap=P(m),s.tubeSize=m.sizeref,s.maxLength=m.maxdisplayed;var B=v(m._xbnds,"xaxis"),k=v(m._ybnds,"yaxis"),z=v(m._zbnds,"zaxis"),O=i(A),F=i(x),N=i(E),X=T(s,[[B[0]-O[0],k[0]-F[0],z[0]-N[0]],[B[1]+O[1],k[1]+F[1],z[1]+N[1]]]),ne=C(m);X.vertexIntensityBounds=[ne.min/m._normMax,ne.max/m._normMax];var ie=m.lightposition;return X.lightPosition=[ie.x,ie.y,ie.z],X.ambient=m.lighting.ambient,X.diffuse=m.lighting.diffuse,X.specular=m.lighting.specular,X.roughness=m.lighting.roughness,X.fresnel=m.lighting.fresnel,X.opacity=m.opacity,m._pad=X.tubeScale*m.sizeref*2,X}r.handlePick=function(c){var m=this.scene.fullSceneLayout,a=this.scene.dataScale;function b(v,A){var E=a[y[A]];return m[A].l2c(v)/E}if(c.object===this.mesh){var p=c.data.position,s=c.data.velocity;return c.traceCoordinate=[b(p[0],"xaxis"),b(p[1],"yaxis"),b(p[2],"zaxis"),b(s[0],"xaxis"),b(s[1],"yaxis"),b(s[2],"zaxis"),c.data.intensity*this.data._normMax,c.data.divergence],c.textLabel=this.data.hovertext||this.data.text,!0}},r.update=function(c){this.data=c;var m=u(this.scene,c);this.mesh.update(m)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},te.exports=function f(c,m){var a=c.glplot.gl,b=u(c,m),p=D(a,b),s=new t(c,m.uid);return s.mesh=p,s.data=m,p._trace=s,c.glplot.add(p),s}},22459:function(te,Y,e){"use strict";var T=e(71828),D=e(1586),o=e(21850);te.exports=function(C,h,y,t){function r(a,b){return T.coerce(C,h,o,a,b)}var l=r("u"),i=r("v"),u=r("w"),f=r("x"),c=r("y"),m=r("z");l&&l.length&&i&&i.length&&u&&u.length&&f&&f.length&&c&&c.length&&m&&m.length?(r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),D(C,h,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),h._length=null):h.visible=!1}},61510:function(te,Y,e){"use strict";te.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(T,D){return T.tubex=T.x,T.tubey=T.y,T.tubez=T.z,T.tubeu=D.traceCoordinate[3],T.tubev=D.traceCoordinate[4],T.tubew=D.traceCoordinate[5],T.norm=D.traceCoordinate[6],T.divergence=D.traceCoordinate[7],delete T.x,delete T.y,delete T.z,T},meta:{}}},57564:function(te,Y,e){"use strict";var T=e(9012),D=e(5386).fF,o=e(5386).si,P=e(50693),C=e(27670).Y,h=e(34e3),y=e(7055),t=e(1426).extendFlat,r=e(79952).u;te.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},h.marker.line.color,{dflt:null}),width:t({},h.marker.line.width,{dflt:1}),editType:"calc"},pattern:r,editType:"calc"},P("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:h.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:o({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),hovertext:h.hovertext,hoverinfo:t({},T.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:D({},{keys:y.eventDataKeys}),textfont:h.textfont,insidetextorientation:h.insidetextorientation,insidetextfont:h.insidetextfont,outsidetextfont:t({},h.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:h.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:C({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(te,Y,e){"use strict";var T=e(74875);Y.name="sunburst",Y.plot=function(D,o,P,C){T.plotBasePlot(Y.name,D,o,P,C)},Y.clean=function(D,o,P,C){T.cleanBasePlot(Y.name,D,o,P,C)}},52147:function(te,Y,e){"use strict";var T=e(674),D=e(92770),o=e(71828),P=e(21081).makeColorScaleFuncFromTrace,C=e(32354).makePullColorFn,h=e(32354).generateExtendedColors,y=e(21081).calc,t=e(50606).ALMOST_EQUAL,r={},l={},i={};function u(f,c,m){var a=0,b=f.children;if(b){for(var p=b.length,s=0;s<p;s++)a+=u(b[s],c,m);m.branches&&a++}else m.leaves&&a++;return f.value=f.data.data.value=a,c._values||(c._values=[]),c._values[f.data.data.i]=a,a}Y.calc=function(f,c){var S,d,I,V,K,X,m=f._fullLayout,a=c.ids,b=o.isArrayOrTypedArray(a),p=c.labels,s=c.parents,v=c.values,A=o.isArrayOrTypedArray(v),x=[],E={},g={},w=function(V){return V||"number"==typeof V},n=function(V){return!A||D(v[V])&&v[V]>=0};b?(S=Math.min(a.length,s.length),d=function(V){return w(a[V])&&n(V)},I=function(V){return String(a[V])}):(S=Math.min(p.length,s.length),d=function(V){return w(p[V])&&n(V)},I=function(V){return String(p[V])}),A&&(S=Math.min(S,v.length));for(var L=0;L<S;L++)if(d(L)){var B=I(L),k=w(s[L])?String(s[L]):"",z={i:L,id:B,pid:k,label:w(p[L])?String(p[L]):""};A&&(z.v=+v[L]),x.push(z),K=B,E[V=k]?E[V].push(K):E[V]=[K],g[K]=1}if(E[""]){if(E[""].length>1){for(var N=o.randstr(),H=0;H<x.length;H++)""===x[H].pid&&(x[H].pid=N);x.unshift({hasMultipleRoots:!0,id:N,pid:"",label:""})}}else{var F,O=[];for(F in E)g[F]||O.push(F);if(1!==O.length)return o.warn(["Multiple implied roots, cannot build",c.type,"hierarchy of",c.name+".","These roots include:",O.join(", ")].join(" "));x.unshift({hasImpliedRoot:!0,id:F=O[0],pid:"",label:F})}try{X=T.stratify().id(function(V){return V.id}).parentId(function(V){return V.pid})(x)}catch(V){return o.warn(["Failed to build",c.type,"hierarchy of",c.name+".","Error:",V.message].join(" "))}var ne=T.hierarchy(X),ie=!1;if(A)switch(c.branchvalues){case"remainder":ne.sum(function(V){return V.data.v});break;case"total":ne.each(function(V){var K=V.data.data,ae=K.v;if(V.children){var Q=V.children.reduce(function(Z,re){return Z+re.data.data.v},0);if((K.hasImpliedRoot||K.hasMultipleRoots)&&(ae=Q),ae<Q*t)return ie=!0,o.warn(["Total value for node",V.data.data.id,"of",c.name,"is smaller than the sum of its children.","\nparent value =",ae,"\nchildren sum =",Q].join(" "))}V.value=ae})}else u(ne,c,{branches:-1!==c.count.indexOf("branches"),leaves:-1!==c.count.indexOf("leaves")});if(!ie){c.sort&&ne.sort(function(V,K){return K.value-V.value});var ue,J,j=c.marker.colors||[];return c._hasColorscale?(!!j.length||(j=A?c.values:c._values),y(f,c,{vals:j,containerStr:"marker",cLetter:"c"}),J=P(c.marker)):ue=C(m["_"+c.type+"colormap"]),ne.each(function(V){var K=V.data.data;K.color=c._hasColorscale?J(j[K.i]):ue(j[K.i],K.id)}),x[0].hierarchy=ne,x}},Y._runCrossTraceCalc=function(f,c){var m=c._fullLayout,a=c.calcdata,b=m[f+"colorway"],p=m["_"+f+"colormap"];m["extend"+f+"colors"]&&(b=h(b,"icicle"===f?i:"treemap"===f?l:r));var v,s=0;function A(M){var w=M.data.data,n=w.id;!1===w.color&&(p[n]?w.color=p[n]:M.parent?M.parent.parent?w.color=M.parent.data.data.color:(p[n]=w.color=b[s%b.length],s++):w.color=v)}for(var x=0;x<a.length;x++){var g=a[x][0];g.trace.type===f&&g.hierarchy&&(v=g.trace.root.color,g.hierarchy.each(A))}},Y.crossTraceCalc=function(f){return Y._runCrossTraceCalc("sunburst",f)}},7055:function(te){"use strict";te.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(te,Y,e){"use strict";var T=e(71828),D=e(57564),o=e(27670).c,P=e(90769).handleText,C=e(37434).handleMarkerDefaults,h=e(21081),y=h.hasColorscale,t=h.handleDefaults;te.exports=function(l,i,u,f){function c(A,x){return T.coerce(l,i,D,A,x)}var m=c("labels"),a=c("parents");if(m&&m.length&&a&&a.length){var b=c("values");c(b&&b.length?"branchvalues":"count"),c("level"),c("maxdepth"),C(l,i,f,c);var p=i._hasColorscale=y(l,"marker","colors")||(l.marker||{}).coloraxis;p&&t(l,i,f,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",p?1:.7);var s=c("text");c("texttemplate"),i.texttemplate||c("textinfo",Array.isArray(s)?"text+label":"label"),c("hovertext"),c("hovertemplate"),P(l,i,f,c,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("insidetextorientation"),c("sort"),c("rotation"),c("root.color"),o(i,f,c),i._length=null}else i.visible=!1}},43467:function(te,Y,e){"use strict";var T=e(91424),D=e(7901);te.exports=function(P,C,h,y,t){var r=C.data.data,i=t||r.color;if(r.i>=0){C.i=r.i;var u=h.marker;u.pattern?(!u.colors||!u.pattern.shape)&&(u.color=i,C.color=i):(u.color=i,C.color=i),T.pointStyle(P,h,y,C)}else D.fill(P,i)}},83523:function(te,Y,e){"use strict";var T=e(39898),D=e(73972),o=e(23469).appendArrayPointValue,P=e(30211),C=e(71828),h=e(11086),y=e(2791),r=e(53581).formatPieValue;function l(i,u,f){for(var c=i.data.data,m={curveNumber:u.index,pointNumber:c.i,data:u._input,fullData:u},a=0;a<f.length;a++){var b=f[a];b in i&&(m[b]=i[b])}return"parentString"in i&&!y.isHierarchyRoot(i)&&(m.parent=i.parentString),o(m,u,c.i),m}te.exports=function(u,f,c,m,a){var b=m[0],p=b.trace,s=b.hierarchy,v="sunburst"===p.type,A="treemap"===p.type||"icicle"===p.type;"_hasHoverLabel"in p||(p._hasHoverLabel=!1),"_hasHoverEvent"in p||(p._hasHoverEvent=!1),u.on("mouseover",function(M){var w=c._fullLayout;if(!c._dragging&&!1!==w.hovermode){var N,n=c._fullData[p.index],S=M.data.data,d=S.i,I=y.isHierarchyRoot(M),L=y.getParent(s,M),B=y.getValue(M),k=function(Z){return C.castOption(n,d,Z)},z=k("hovertemplate"),O=P.castHoverinfo(n,w,d),F=w.separators;if(z||O&&"none"!==O&&"skip"!==O){var H,X;v&&(H=b.cx+M.pxmid[0]*(1-M.rInscribed),X=b.cy+M.pxmid[1]*(1-M.rInscribed)),A&&(H=M._hoverX,X=M._hoverY);var ne={},ie=[],ue=[],J=function(Z){return-1!==ie.indexOf(Z)};O&&(ie="all"===O?n._module.attributes.hoverinfo.flags:O.split("+")),ne.label=S.label,J("label")&&ne.label&&ue.push(ne.label),S.hasOwnProperty("v")&&(ne.value=S.v,ne.valueLabel=r(ne.value,F),J("value")&&ue.push(ne.valueLabel)),ne.currentPath=M.currentPath=y.getPath(M.data),J("current path")&&!I&&ue.push(ne.currentPath);var j,W=[],V=function(){-1===W.indexOf(j)&&(ue.push(j),W.push(j))};ne.percentParent=M.percentParent=B/y.getValue(L),ne.parent=M.parentString=y.getPtLabel(L),J("percent parent")&&(j=y.formatPercent(ne.percentParent,F)+" of "+ne.parent,V()),ne.percentEntry=M.percentEntry=B/y.getValue(f),ne.entry=M.entry=y.getPtLabel(f),J("percent entry")&&!I&&!M.onPathbar&&(j=y.formatPercent(ne.percentEntry,F)+" of "+ne.entry,V()),ne.percentRoot=M.percentRoot=B/y.getValue(s),ne.root=M.root=y.getPtLabel(s),J("percent root")&&!I&&(j=y.formatPercent(ne.percentRoot,F)+" of "+ne.root,V()),ne.text=k("hovertext")||k("text"),J("text")&&C.isValidTextValue(j=ne.text)&&ue.push(j),N=[l(M,n,a.eventDataKeys)];var K={trace:n,y:X,_x0:M._x0,_x1:M._x1,_y0:M._y0,_y1:M._y1,text:ue.join("<br>"),name:z||J("name")?n.name:void 0,color:k("hoverlabel.bgcolor")||S.color,borderColor:k("hoverlabel.bordercolor"),fontFamily:k("hoverlabel.font.family"),fontSize:k("hoverlabel.font.size"),fontColor:k("hoverlabel.font.color"),nameLength:k("hoverlabel.namelength"),textAlign:k("hoverlabel.align"),hovertemplate:z,hovertemplateLabels:ne,eventData:N};v&&(K.x0=H-M.rInscribed*M.rpx1,K.x1=H+M.rInscribed*M.rpx1,K.idealAlign=M.pxmid[0]<0?"left":"right"),A&&(K.x=H,K.idealAlign=H<0?"left":"right");var ae=[];P.loneHover(K,{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:c,inOut_bbox:ae}),N[0].bbox=ae[0],p._hasHoverLabel=!0}if(A){var Q=u.select("path.surface");a.styleOne(Q,M,n,c,{hovered:!0})}p._hasHoverEvent=!0,c.emit("plotly_hover",{points:N||[l(M,n,a.eventDataKeys)],event:T.event})}}),u.on("mouseout",function(M){var w=c._fullLayout,n=c._fullData[p.index],S=T.select(this).datum();if(p._hasHoverEvent&&(M.originalEvent=T.event,c.emit("plotly_unhover",{points:[l(S,n,a.eventDataKeys)],event:T.event}),p._hasHoverEvent=!1),p._hasHoverLabel&&(P.loneUnhover(w._hoverlayer.node()),p._hasHoverLabel=!1),A){var d=u.select("path.surface");a.styleOne(d,S,n,c,{hovered:!1})}}),u.on("click",function(M){var w=c._fullLayout,n=c._fullData[p.index],S=v&&(y.isHierarchyRoot(M)||y.isLeaf(M)),d=y.getPtId(M),I=y.isEntry(M)?y.findEntryWithChild(s,d):y.findEntryWithLevel(s,d),L=y.getPtId(I),B={points:[l(M,n,a.eventDataKeys)],event:T.event};S||(B.nextLevel=L);var k=h.triggerHandler(c,"plotly_"+p.type+"click",B);if(!1!==k&&w.hovermode&&(c._hoverdata=[l(M,n,a.eventDataKeys)],P.click(c,T.event)),!S&&!1!==k&&!c._dragging&&!c._transitioning){D.call("_storeDirectGUIEdit",n,w._tracePreGUI[n.uid],{level:n.level});var z={data:[{level:L}],traces:[p.index]},O={frame:{redraw:!1,duration:a.transitionTime},transition:{duration:a.transitionTime,easing:a.transitionEasing},mode:"immediate",fromcurrent:!0};P.loneUnhover(w._hoverlayer.node()),D.call("animate",c,z,O)}})}},2791:function(te,Y,e){"use strict";var T=e(71828),D=e(7901),o=e(6964),P=e(53581);function y(t){return t.data.data.pid}Y.findEntryWithLevel=function(t,r){var l;return r&&t.eachAfter(function(i){if(Y.getPtId(i)===r)return l=i.copy()}),l||t},Y.findEntryWithChild=function(t,r){var l;return t.eachAfter(function(i){for(var u=i.children||[],f=0;f<u.length;f++)if(Y.getPtId(u[f])===r)return l=i.copy()}),l||t},Y.isEntry=function(t){return!t.parent},Y.isLeaf=function(t){return!t.children},Y.getPtId=function(t){return t.data.data.id},Y.getPtLabel=function(t){return t.data.data.label},Y.getValue=function(t){return t.value},Y.isHierarchyRoot=function(t){return""===y(t)},Y.setSliceCursor=function(t,r,l){var i=l.isTransitioning;if(!i){var u=t.datum();i=l.hideOnRoot&&Y.isHierarchyRoot(u)||l.hideOnLeaves&&Y.isLeaf(u)}o(t,i?null:"pointer")},Y.getInsideTextFontKey=function(t,r,l,i,u){var m=l.data.data.i;return T.castOption(r,m,((u||{}).onPathbar?"pathbar.textfont":"insidetextfont")+"."+t)||T.castOption(r,m,"textfont."+t)||i.size},Y.getOutsideTextFontKey=function(t,r,l,i){var u=l.data.data.i;return T.castOption(r,u,"outsidetextfont."+t)||T.castOption(r,u,"textfont."+t)||i.size},Y.isOutsideText=function(t,r){return!t._hasColorscale&&Y.isHierarchyRoot(r)},Y.determineTextFont=function(t,r,l,i){return Y.isOutsideText(t,r)?function C(t,r,l){return{color:Y.getOutsideTextFontKey("color",t,r,l),family:Y.getOutsideTextFontKey("family",t,r,l),size:Y.getOutsideTextFontKey("size",t,r,l)}}(t,r,l):function h(t,r,l,i){var f=r.data.data,c=f.i,m=T.castOption(t,c,((i||{}).onPathbar?"pathbar.textfont":"insidetextfont")+".color");return!m&&t._input.textfont&&(m=T.castOption(t._input,c,"textfont.color")),{color:m||D.contrast(f.color),family:Y.getInsideTextFontKey("family",t,r,l,i),size:Y.getInsideTextFontKey("size",t,r,l,i)}}(t,r,l,i)},Y.hasTransition=function(t){return!!(t&&t.duration>0)},Y.getMaxDepth=function(t){return t.maxdepth>=0?t.maxdepth:1/0},Y.isHeader=function(t,r){return!(Y.isLeaf(t)||t.depth===r._maxDepth-1)},Y.getParent=function(t,r){return Y.findEntryWithLevel(t,y(r))},Y.listPath=function(t,r){var l=t.parent;if(!l)return[];var i=r?[l.data[r]]:[l];return Y.listPath(l,r).concat(i)},Y.getPath=function(t){return Y.listPath(t,"label").join("/")+"/"},Y.formatValue=P.formatPieValue,Y.formatPercent=function(t,r){var l=T.formatPercent(t,0);return"0%"===l&&(l=P.formatPiePercent(t,r)),l}},87619:function(te,Y,e){"use strict";te.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(te){"use strict";te.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(te,Y,e){"use strict";var T=e(71828),D=e(2654);te.exports=function(P,C){function h(y,t){return T.coerce(P,C,D,y,t)}h("sunburstcolorway",C.colorway),h("extendsunburstcolors")}},24714:function(te,Y,e){"use strict";var T=e(39898),D=e(674),o=e(81684).sX,P=e(91424),C=e(71828),h=e(63893),y=e(72597),t=y.recordMinTextSize,r=y.clearMinTextSize,l=e(14575),i=e(53581).getRotationAngle,u=l.computeTransform,f=l.transformInsideText,c=e(29969).styleOne,m=e(16688).resizeText,a=e(83523),b=e(7055),p=e(2791);function s(g,M,w,n){var S=g._context.staticPlot,d=g._fullLayout,I=!d.uniformtext.mode&&p.hasTransition(n),B=T.select(w).selectAll("g.slice"),k=M[0],z=k.trace,F=p.findEntryWithLevel(k.hierarchy,z.level),N=p.getMaxDepth(z),H=d._size,X=z.domain,ie=H.h*(X.y[1]-X.y[0]),ue=.5*Math.min(H.w*(X.x[1]-X.x[0]),ie),J=k.cx=H.l+H.w*(X.x[1]+X.x[0])/2,j=k.cy=H.t+H.h*(1-X.y[0])-ie/2;if(!F)return B.remove();var W=null,V={};I&&B.each(function(He){V[p.getPtId(He)]={rpx0:He.rpx0,rpx1:He.rpx1,x0:He.x0,x1:He.x1,transform:He.transform},!W&&p.isEntry(He)&&(W=He)});var K=function v(g){return D.partition().size([2*Math.PI,g.height+1])(g)}(F).descendants(),ae=F.height+1,Q=0,Z=N;k.hasMultipleRoots&&p.isHierarchyRoot(F)&&(K=K.slice(1),ae-=1,Q=1,Z+=1),K=K.filter(function(He){return He.y1<=Z});var re=i(z.rotation);re&&K.forEach(function(He){He.x0+=re,He.x1+=re});var q=Math.min(ae,N),se=function(He){return(He-Q)/q*ue},de=function(He,rt){return[He*Math.cos(rt),-He*Math.sin(rt)]},we=function(He){return C.pathAnnulus(He.rpx0,He.rpx1,He.x0,He.x1,J,j)},ye=function(He){return J+x(He)[0]*(He.transform.rCenter||0)+(He.transform.x||0)},Pe=function(He){return j+x(He)[1]*(He.transform.rCenter||0)+(He.transform.y||0)};(B=B.data(K,p.getPtId)).enter().append("g").classed("slice",!0),I?B.exit().transition().each(function(){var He=T.select(this);He.select("path.surface").transition().attrTween("d",function(Be){var ze=function Me(He){var ze,rt=p.getPtId(He),$e=V[rt],Be=V[p.getPtId(F)];if(Be){var tt=(He.x1>Be.x1?2*Math.PI:0)+re;ze=He.rpx1<Be.rpx1?{x0:He.x0,x1:He.x1,rpx0:0,rpx1:0}:{x0:tt,x1:tt,rpx0:He.rpx0,rpx1:He.rpx1}}else{var lt,ut=p.getPtId(He.parent);B.each(function(Ce){if(p.getPtId(Ce)===ut)return lt=Ce});var bt,xt=lt.children;xt.forEach(function(Ce,Ee){if(p.getPtId(Ce)===rt)return bt=Ee});var Ht=xt.length,Je=o(lt.x0,lt.x1);ze={rpx0:ue,rpx1:ue,x0:Je(bt/Ht),x1:Je((bt+1)/Ht)}}return o($e,ze)}(Be);return function(tt){return we(ze(tt))}}),He.select("g.slicetext").attr("opacity",0)}).remove():B.exit().remove(),B.order();var Ie=null;if(I&&W){var Se=p.getPtId(W);B.each(function(He){null===Ie&&p.getPtId(He)===Se&&(Ie=He.x1)})}var xe=B;function De(He){var rt=He.parent,$e=V[p.getPtId(rt)],Be={};if($e){var ze=rt.children,tt=ze.indexOf(He),lt=ze.length,ut=o($e.x0,$e.x1);Be.x0=ut(tt/lt),Be.x1=ut(tt/lt)}else Be.x0=Be.x1=0;return Be}I&&(xe=xe.transition().each("end",function(){var He=T.select(this);p.setSliceCursor(He,g,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),xe.each(function(He){var rt=T.select(this),$e=C.ensureSingle(rt,"path","surface",function(xt){xt.style("pointer-events",S?"none":"all")});He.rpx0=se(He.y0),He.rpx1=se(He.y1),He.xmid=(He.x0+He.x1)/2,He.pxmid=de(He.rpx1,He.xmid),He.midangle=-(He.xmid-Math.PI/2),He.startangle=-(He.x0-Math.PI/2),He.stopangle=-(He.x1-Math.PI/2),He.halfangle=.5*Math.min(C.angleDelta(He.x0,He.x1)||Math.PI,Math.PI),He.ring=1-He.rpx0/He.rpx1,He.rInscribed=function A(g){return 0===g.rpx0&&C.isFullCircle([g.x0,g.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(g.halfangle)),g.ring/2))}(He),I?$e.transition().attrTween("d",function(xt){var bt=function Ge(He){var $e,rt=V[p.getPtId(He)],Be={x0:He.x0,x1:He.x1,rpx0:He.rpx0,rpx1:He.rpx1};if(rt)$e=rt;else if(W)if(He.parent)if(Ie){var ze=(He.x1>Ie?2*Math.PI:0)+re;$e={x0:ze,x1:ze}}else C.extendFlat($e={rpx0:ue,rpx1:ue},De(He));else $e={rpx0:0,rpx1:0};else $e={x0:re,x1:re};return o($e,Be)}(xt);return function(Ht){return we(bt(Ht))}}):$e.attr("d",we),rt.call(a,F,g,M,{eventDataKeys:b.eventDataKeys,transitionTime:b.CLICK_TRANSITION_TIME,transitionEasing:b.CLICK_TRANSITION_EASING}).call(p.setSliceCursor,g,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:g._transitioning}),$e.call(c,He,z,g);var Be=C.ensureSingle(rt,"g","slicetext"),ze=C.ensureSingle(Be,"text","",function(xt){xt.attr("data-notex",1)}),tt=C.ensureUniformFontSize(g,p.determineTextFont(z,He,d.font));ze.text(Y.formatSliceLabel(He,F,z,M,d)).classed("slicetext",!0).attr("text-anchor","middle").call(P.font,tt).call(h.convertToTspans,g);var lt=P.bBox(ze.node());He.transform=f(lt,He,k),He.transform.targetX=ye(He),He.transform.targetY=Pe(He);var ut=function(xt,bt){var Ht=xt.transform;return u(Ht,bt),Ht.fontSize=tt.size,t(z.type,Ht,d),C.getTextTransform(Ht)};I?ze.transition().attrTween("transform",function(xt){var bt=function Ye(He){var $e,rt=V[p.getPtId(He)],Be=He.transform;if(rt)$e=rt;else if($e={rpx1:He.rpx1,transform:{textPosAngle:Be.textPosAngle,scale:0,rotate:Be.rotate,rCenter:Be.rCenter,x:Be.x,y:Be.y}},W)if(He.parent)if(Ie){var ze=He.x1>Ie?2*Math.PI:0;$e.x0=$e.x1=ze}else C.extendFlat($e,De(He));else $e.x0=$e.x1=re;else $e.x0=$e.x1=re;var tt=o($e.transform.textPosAngle,He.transform.textPosAngle),lt=o($e.rpx1,He.rpx1),ut=o($e.x0,He.x0),xt=o($e.x1,He.x1),bt=o($e.transform.scale,Be.scale),Ht=o($e.transform.rotate,Be.rotate),Je=0===Be.rCenter?3:0===$e.transform.rCenter?1/3:1,Ce=o($e.transform.rCenter,Be.rCenter);return function(Re){var ke=lt(Re),Ne=ut(Re),_e=xt(Re),Te=function(Re){return Ce(Math.pow(Re,Je))}(Re),Fe={pxmid:de(ke,(Ne+_e)/2),rpx1:ke,transform:{textPosAngle:tt(Re),rCenter:Te,x:Be.x,y:Be.y}};return t(z.type,Be,d),{transform:{targetX:ye(Fe),targetY:Pe(Fe),scale:bt(Re),rotate:Ht(Re),rCenter:Te}}}}(xt);return function(Ht){return ut(bt(Ht),lt)}}):ze.attr("transform",ut(He,lt))})}function x(g){return function E(g,M){return[g*Math.sin(M),-g*Math.cos(M)]}(g.rpx1,g.transform.textPosAngle)}Y.plot=function(g,M,w,n){var I,L,S=g._fullLayout,d=S._sunburstlayer,B=!w,k=!S.uniformtext.mode&&p.hasTransition(w);r("sunburst",S),(I=d.selectAll("g.trace.sunburst").data(M,function(O){return O[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),I.order(),k?(n&&(L=n()),T.transition().duration(w.duration).ease(w.easing).each("end",function(){L&&L()}).each("interrupt",function(){L&&L()}).each(function(){d.selectAll("g.trace").each(function(O){s(g,O,this,w)})})):(I.each(function(O){s(g,O,this,w)}),S.uniformtext.mode&&m(g,S._sunburstlayer.selectAll(".trace"),"sunburst")),B&&I.exit().remove()},Y.formatSliceLabel=function(g,M,w,n,S){var d=w.texttemplate,I=w.textinfo;if(!(d||I&&"none"!==I))return"";var L=S.separators,k=g.data.data,z=n[0].hierarchy,O=p.isHierarchyRoot(g),F=p.getParent(z,g),N=p.getValue(g);if(!d){var ie,H=I.split("+"),X=function(Q){return-1!==H.indexOf(Q)},ne=[];if(X("label")&&k.label&&ne.push(k.label),k.hasOwnProperty("v")&&X("value")&&ne.push(p.formatValue(k.v,L)),!O){X("current path")&&ne.push(p.getPath(g.data));var ue=0;X("percent parent")&&ue++,X("percent entry")&&ue++,X("percent root")&&ue++;var J=ue>1;if(ue){var j,W=function(Q){ie=p.formatPercent(j,L),J&&(ie+=" of "+Q),ne.push(ie)};X("percent parent")&&!O&&(j=N/p.getValue(F),W("parent")),X("percent entry")&&(j=N/p.getValue(M),W("entry")),X("percent root")&&(j=N/p.getValue(z),W("root"))}}return X("text")&&(ie=C.castOption(w,k.i,"text"),C.isValidTextValue(ie)&&ne.push(ie)),ne.join("<br>")}var V=C.castOption(w,k.i,"texttemplate");if(!V)return"";var K={};k.label&&(K.label=k.label),k.hasOwnProperty("v")&&(K.value=k.v,K.valueLabel=p.formatValue(k.v,L)),K.currentPath=p.getPath(g.data),O||(K.percentParent=N/p.getValue(F),K.percentParentLabel=p.formatPercent(K.percentParent,L),K.parent=p.getPtLabel(F)),K.percentEntry=N/p.getValue(M),K.percentEntryLabel=p.formatPercent(K.percentEntry,L),K.entry=p.getPtLabel(M),K.percentRoot=N/p.getValue(z),K.percentRootLabel=p.formatPercent(K.percentRoot,L),K.root=p.getPtLabel(z),k.hasOwnProperty("color")&&(K.color=k.color);var ae=C.castOption(w,k.i,"text");return(C.isValidTextValue(ae)||""===ae)&&(K.text=ae),K.customdata=C.castOption(w,k.i,"customdata"),C.texttemplateString(V,K,S._d3locale,K,w._meta||{})}},29969:function(te,Y,e){"use strict";var T=e(39898),D=e(7901),o=e(71828),P=e(72597).resizeText,C=e(43467);function y(t,r,l,i){var f=!r.children,c=r.data.data.i,m=o.castOption(l,c,"marker.line.color")||D.defaultLine,a=o.castOption(l,c,"marker.line.width")||0;t.call(C,r,l,i).style("stroke-width",a).call(D.stroke,m).style("opacity",f?l.leaf.opacity:null)}te.exports={style:function h(t){var r=t._fullLayout._sunburstlayer.selectAll(".trace");P(t,r,"sunburst"),r.each(function(l){var i=T.select(this),f=l[0].trace;i.style("opacity",f.opacity),i.selectAll("path.surface").each(function(c){T.select(this).call(y,c,f,t)})})},styleOne:y}},54532:function(te,Y,e){"use strict";var T=e(7901),D=e(50693),o=e(12663).axisHoverFormat,P=e(5386).fF,C=e(9012),h=e(1426).extendFlat,y=e(30962).overrideAll;function r(i){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:T.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:T.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var l=te.exports=y(h({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:P(),xhoverformat:o("x"),yhoverformat:o("y"),zhoverformat:o("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},D("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r(),y:r(),z:r()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:h({},D.zauto,{}),zmin:h({},D.zmin,{}),zmax:h({},D.zmax,{})},hoverinfo:h({},C.hoverinfo),showlegend:h({},C.showlegend,{dflt:!1})}),"calc","nested");l.x.editType=l.y.editType=l.z.editType="calc+clearAxisTypes",l.transforms=void 0},18396:function(te,Y,e){"use strict";var T=e(78803);te.exports=function(o,P){T(o,P,P.surfacecolor?{vals:P.surfacecolor,containerStr:"",cLetter:"c"}:{vals:P.z,containerStr:"",cLetter:"c"})}},43768:function(te,Y,e){"use strict";var T=e(9330).gl_surface3d,D=e(9330).ndarray,o=e(9330).ndarray_linear_interpolate.d2,P=e(824),C=e(43907),h=e(71828).isArrayOrTypedArray,y=e(81697).parseColorScale,t=e(78614),r=e(21081).extractOpts;function l(n,S,d){this.scene=n,this.uid=d,this.surface=S,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var i=l.prototype;i.getXat=function(n,S,d,I){var L=h(this.data.x)?h(this.data.x[0])?this.data.x[S][n]:this.data.x[n]:n;return void 0===d?L:I.d2l(L,0,d)},i.getYat=function(n,S,d,I){var L=h(this.data.y)?h(this.data.y[0])?this.data.y[S][n]:this.data.y[S]:S;return void 0===d?L:I.d2l(L,0,d)},i.getZat=function(n,S,d,I){var L=this.data.z[S][n];return null===L&&this.data.connectgaps&&this.data._interpolatedZ&&(L=this.data._interpolatedZ[S][n]),void 0===d?L:I.d2l(L,0,d)},i.handlePick=function(n){if(n.object===this.surface){var d=(n.data.index[1]-1)/this.dataScaleY-1,I=Math.max(Math.min(Math.round((n.data.index[0]-1)/this.dataScaleX-1),this.data.z[0].length-1),0),L=Math.max(Math.min(Math.round(d),this.data._ylength-1),0);n.index=[I,L],n.traceCoordinate=[this.getXat(I,L),this.getYat(I,L),this.getZat(I,L)],n.dataCoordinate=[this.getXat(I,L,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(I,L,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(I,L,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var B=0;B<3;B++)null!=n.dataCoordinate[B]&&(n.dataCoordinate[B]*=this.scene.dataScale[B]);var z=this.data.hovertext||this.data.text;return n.textLabel=Array.isArray(z)&&z[L]&&void 0!==z[L][I]?z[L][I]:z||"",n.data.dataCoordinate=n.dataCoordinate.slice(),this.surface.highlight(n.data),this.scene.glplot.spikes.position=n.dataCoordinate,!0}};var f=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function c(n,S){if(n<S)return 0;for(var d=0;0===Math.floor(n%S);)n/=S,d++;return d}function m(n){for(var S=[],d=0;d<f.length;d++)S.push(c(n,f[d]));return S}function a(n){for(var S=m(n),d=n,I=0;I<f.length;I++)if(S[I]>0){d=f[I];break}return d}function b(n,S){if(!(n<1||S<1)){for(var d=m(n),I=m(S),L=1,B=0;B<f.length;B++)L*=Math.pow(f[B],Math.max(d[B],I[B]));return L}}i.calcXnums=function(n){var S,d=[];for(S=1;S<n;S++){var I=this.getXat(S-1,0),L=this.getXat(S,0);d[S-1]=L!==I&&null!=I&&null!=L?Math.abs(L-I):0}var B=0;for(S=1;S<n;S++)B+=d[S-1];for(S=1;S<n;S++)d[S-1]=0===d[S-1]?1:Math.round(B/d[S-1]);return d},i.calcYnums=function(n){var S,d=[];for(S=1;S<n;S++){var I=this.getYat(0,S-1),L=this.getYat(0,S);d[S-1]=L!==I&&null!=I&&null!=L?Math.abs(L-I):0}var B=0;for(S=1;S<n;S++)B+=d[S-1];for(S=1;S<n;S++)d[S-1]=0===d[S-1]?1:Math.round(B/d[S-1]);return d};var s=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],v=s[9],A=s[13];function x(n,S,d){var I=d[8]+d[2]*S[0]+d[5]*S[1];return n[0]=(d[6]+d[0]*S[0]+d[3]*S[1])/I,n[1]=(d[7]+d[1]*S[0]+d[4]*S[1])/I,n}function E(n,S,d){return function g(n,S,d,I){for(var L=[0,0],B=n.shape[0],k=n.shape[1],z=0;z<B;z++)for(var O=0;O<k;O++)d(L,[z,O],I),n.set(z,O,o(S,L[0],L[1]))}(n,S,x,d),n}function M(n,S){for(var d=!1,I=0;I<n.length;I++)if(S===n[I]){d=!0;break}!1===d&&n.push(S)}i.estimateScale=function(n,S){for(var I=1+function p(n){if(0!==n.length){for(var S=1,d=0;d<n.length;d++)S=b(S,n[d]);return S}}(0===S?this.calcXnums(n):this.calcYnums(n));I<v;)I*=2;for(;I>A;)I--,I/=a(I),++I<v&&(I=A);var L=Math.round(I/n);return L>1?L:1},i.refineCoords=function(n){for(var S=this.dataScaleX,d=this.dataScaleY,I=n[0].shape[0],L=n[0].shape[1],B=0|Math.floor(n[0].shape[0]*S+1),k=0|Math.floor(n[0].shape[1]*d+1),z=1+I+1,O=1+L+1,F=D(new Float32Array(z*O),[z,O]),N=[1/S,0,0,0,1/d,0,0,0,1],H=0;H<n.length;++H){this.surface.padField(F,n[H]);var X=D(new Float32Array(B*k),[B,k]);E(X,F,N),n[H]=X}},i.setContourLevels=function(){var I,L,n=[[],[],[]],S=[!1,!1,!1],d=!1;for(I=0;I<3;++I)if(this.showContour[I]&&(d=!0,this.contourSize[I]>0&&null!==this.contourStart[I]&&null!==this.contourEnd[I]&&this.contourEnd[I]>this.contourStart[I]))for(S[I]=!0,L=this.contourStart[I];L<this.contourEnd[I];L+=this.contourSize[I])M(n[I],L*this.scene.dataScale[I]);if(d){var k=[[],[],[]];for(I=0;I<3;++I)this.showContour[I]&&(k[I]=S[I]?n[I]:this.scene.contourLevels[I]);this.surface.update({levels:k})}},i.update=function(n){var S=this.scene,d=S.fullSceneLayout,I=this.surface,L=y(n),B=S.dataScale,k=n.z[0].length,z=n._ylength,O=S.contourLevels;this.data=n;var F,N,H,X,ne=[];for(F=0;F<3;F++)for(ne[F]=[],N=0;N<k;N++)ne[F][N]=[];for(N=0;N<k;N++)for(H=0;H<z;H++)ne[0][N][H]=this.getXat(N,H,n.xcalendar,d.xaxis),ne[1][N][H]=this.getYat(N,H,n.ycalendar,d.yaxis),ne[2][N][H]=this.getZat(N,H,n.zcalendar,d.zaxis);if(n.connectgaps)for(n._emptypoints=C(ne[2]),P(ne[2],n._emptypoints),n._interpolatedZ=[],N=0;N<k;N++)for(n._interpolatedZ[N]=[],H=0;H<z;H++)n._interpolatedZ[N][H]=ne[2][N][H];for(F=0;F<3;F++)for(N=0;N<k;N++)for(H=0;H<z;H++)null==(X=ne[F][N][H])?ne[F][N][H]=NaN:X=ne[F][N][H]*=B[F];for(F=0;F<3;F++)for(N=0;N<k;N++)for(H=0;H<z;H++)null!=(X=ne[F][N][H])&&(this.minValues[F]>X&&(this.minValues[F]=X),this.maxValues[F]<X&&(this.maxValues[F]=X));for(F=0;F<3;F++)this.objectOffset[F]=.5*(this.minValues[F]+this.maxValues[F]);for(F=0;F<3;F++)for(N=0;N<k;N++)for(H=0;H<z;H++)null!=(X=ne[F][N][H])&&(ne[F][N][H]-=this.objectOffset[F]);var ie=[D(new Float32Array(k*z),[k,z]),D(new Float32Array(k*z),[k,z]),D(new Float32Array(k*z),[k,z])];for(F=0;F<3;F++)for(N=0;N<k;N++)for(H=0;H<z;H++)ie[F].set(N,H,ne[F][N][H]);ne=[];var ue={colormap:L,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!n.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:n.opacityscale,opacity:n.opacity},J=r(n);if(ue.intensityBounds=[J.min,J.max],n.surfacecolor){var j=D(new Float32Array(k*z),[k,z]);for(N=0;N<k;N++)for(H=0;H<z;H++)j.set(N,H,n.surfacecolor[H][N]);ie.push(j)}else ue.intensityBounds[0]*=B[2],ue.intensityBounds[1]*=B[2];(A<ie[0].shape[0]||A<ie[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(ie[0].shape[0],0),this.dataScaleY=this.estimateScale(ie[0].shape[1],1),(1!==this.dataScaleX||1!==this.dataScaleY)&&this.refineCoords(ie)),n.surfacecolor&&(ue.intensity=ie.pop());var W=[!0,!0,!0],V=["x","y","z"];for(F=0;F<3;++F){var K=n.contours[V[F]];W[F]=K.highlight,ue.showContour[F]=K.show||K.highlight,ue.showContour[F]&&(ue.contourProject[F]=[K.project.x,K.project.y,K.project.z],K.show?(this.showContour[F]=!0,ue.levels[F]=O[F],I.highlightColor[F]=ue.contourColor[F]=t(K.color),I.highlightTint[F]=ue.contourTint[F]=K.usecolormap?0:1,ue.contourWidth[F]=K.width,this.contourStart[F]=K.start,this.contourEnd[F]=K.end,this.contourSize[F]=K.size):(this.showContour[F]=!1,this.contourStart[F]=null,this.contourEnd[F]=null,this.contourSize[F]=0),K.highlight&&(ue.dynamicColor[F]=t(K.highlightcolor),ue.dynamicWidth[F]=K.highlightwidth))}(function u(n){var S=n[0].rgb,d=n[n.length-1].rgb;return S[0]===d[0]&&S[1]===d[1]&&S[2]===d[2]&&S[3]===d[3]})(L)&&(ue.vertexColor=!0),ue.objectOffset=this.objectOffset,ue.coords=ie,I.update(ue),I.visible=n.visible,I.enableDynamic=W,I.enableHighlight=W,I.snapToData=!0,"lighting"in n&&(I.ambientLight=n.lighting.ambient,I.diffuseLight=n.lighting.diffuse,I.specularLight=n.lighting.specular,I.roughness=n.lighting.roughness,I.fresnel=n.lighting.fresnel),"lightposition"in n&&(I.lightPosition=[n.lightposition.x,n.lightposition.y,n.lightposition.z])},i.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},te.exports=function w(n,S){var I=T({gl:n.glplot.gl}),L=new l(n,I,S.uid);return I._trace=L,L.update(S),n.glplot.add(I),L}},91831:function(te,Y,e){"use strict";var T=e(73972),D=e(71828),o=e(1586),P=e(54532);function r(i,u,f,c){var m=c("opacityscale");"max"===m?u.opacityscale=[[0,.1],[1,1]]:"min"===m?u.opacityscale=[[0,1],[1,.1]]:"extremes"===m?u.opacityscale=function h(i,u){for(var f=[],m=0;m<32;m++){var a=m/31,b=u+(1-u)*(1-Math.pow(Math.sin(i*a*Math.PI),2));f.push([a,Math.max(0,Math.min(1,b))])}return f}(1,.1):function y(i){var u=0;if(!Array.isArray(i)||i.length<2||!i[0]||!i[i.length-1]||0!=+i[0][0]||1!=+i[i.length-1][0])return!1;for(var f=0;f<i.length;f++){var c=i[f];if(2!==c.length||+c[0]<u)return!1;u=+c[0]}return!0}(m)||(u.opacityscale=void 0)}function l(i,u,f){u in i&&!(f in i)&&(i[f]=i[u])}te.exports={supplyDefaults:function t(i,u,f,c){var m,a;function b(n,S){return D.coerce(i,u,P,n,S)}var p=b("x"),s=b("y"),v=b("z");if(!v||!v.length||p&&p.length<1||s&&s.length<1)u.visible=!1;else{u._xlength=Array.isArray(p)&&D.isArrayOrTypedArray(p[0])?v.length:v[0].length,u._ylength=v.length,T.getComponentMethod("calendars","handleTraceDefaults")(i,u,["x","y","z"],c),b("text"),b("hovertext"),b("hovertemplate"),b("xhoverformat"),b("yhoverformat"),b("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(n){b(n)});var x=b("surfacecolor"),E=["x","y","z"];for(m=0;m<3;++m){var g="contours."+E[m],M=b(g+".show"),w=b(g+".highlight");if(M||w)for(a=0;a<3;++a)b(g+".project."+E[a]);M&&(b(g+".color"),b(g+".width"),b(g+".usecolormap")),w&&(b(g+".highlightcolor"),b(g+".highlightwidth")),b(g+".start"),b(g+".end"),b(g+".size")}x||(l(i,"zmin","cmin"),l(i,"zmax","cmax"),l(i,"zauto","cauto")),o(i,u,c,b,{prefix:"",cLetter:"c"}),r(0,u,0,b),u._length=null}},opacityscaleDefaults:r}},93601:function(te,Y,e){"use strict";te.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(te,Y,e){"use strict";var T=e(50215),D=e(1426).extendFlat,o=e(30962).overrideAll,P=e(41940),C=e(27670).Y,h=e(12663).descriptionOnlyNumbers;(te.exports=o({domain:C({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:h("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:D({},T.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:D({},P({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:h("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:D({},T.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:D({},P({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(te,Y,e){"use strict";var T=e(27659).a0,D=e(36736),o="table";Y.name=o,Y.plot=function(P){var C=T(P.calcdata,o)[0];C.length&&D(P,C)},Y.clean=function(P,C,h,y){var t=y._has&&y._has(o),r=C._has&&C._has(o);t&&!r&&y._paperdiv.selectAll(".table").remove()}},76333:function(te,Y,e){"use strict";var T=e(28984).wrap;te.exports=function(){return T({})}},49850:function(te){"use strict";te.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(te,Y,e){"use strict";var T=e(49850),D=e(1426).extendFlat,o=e(92770);function P(u){if(Array.isArray(u)){for(var f=0,c=0;c<u.length;c++)f=Math.max(f,P(u[c]));return f}return u}function C(u,f){return u+f}function h(u){var a,f=u.slice(),c=1/0,m=0;for(a=0;a<f.length;a++)Array.isArray(f[a])||(f[a]=[f[a]]),c=Math.min(c,f[a].length),m=Math.max(m,f[a].length);if(c!==m)for(a=0;a<f.length;a++){var b=m-f[a].length;b&&(f[a]=f[a].concat(y(b)))}return f}function y(u){for(var f=new Array(u),c=0;c<u;c++)f[c]="";return f}function t(u){return u.calcdata.columns.reduce(function(f,c){return c.xIndex<u.xIndex?f+c.columnWidth:f},0)}function r(u,f){return Object.keys(u).map(function(m){return D({},u[m],{auxiliaryBlocks:f})})}function l(u,f){for(var m,c={},a=0,b=0,p={firstRowIndex:null,lastRowIndex:null,rows:[]},s=0,v=0,A=0;A<u.length;A++)p.rows.push({rowIndex:A,rowHeight:m=u[A]}),((b+=m)>=f||A===u.length-1)&&(c[a]=p,p.key=v++,p.firstRowIndex=s,p.lastRowIndex=A,p={firstRowIndex:null,lastRowIndex:null,rows:[]},a+=b,s=A+1,b=0);return c}te.exports=function(f,c){var m=h(c.cells.values),a=function(N){return N.slice(c.header.values.length,N.length)},b=h(c.header.values);b.length&&!b[0].length&&(b[0]=[""],b=h(b));var p=b.concat(a(m).map(function(){return y((b[0]||[""]).length)})),s=c.domain,v=Math.floor(f._fullLayout._size.w*(s.x[1]-s.x[0])),A=Math.floor(f._fullLayout._size.h*(s.y[1]-s.y[0])),x=c.header.values.length?p[0].map(function(){return c.header.height}):[T.emptyHeaderHeight],E=m.length?m[0].map(function(){return c.cells.height}):[],g=x.reduce(C,0),n=l(E,A-g+T.uplift),d=r(l(x,g),[]),I=r(n,d),L={},B=c._fullInput.columnorder.concat(a(m.map(function(N,H){return H}))),k=p.map(function(N,H){var X=Array.isArray(c.columnwidth)?c.columnwidth[Math.min(H,c.columnwidth.length-1)]:c.columnwidth;return o(X)?Number(X):1}),z=k.reduce(C,0);k=k.map(function(N){return N/z*v});var O=Math.max(P(c.header.line.width),P(c.cells.line.width)),F={key:c.uid+f._context.staticPlot,translateX:s.x[0]*f._fullLayout._size.w,translateY:f._fullLayout._size.h*(1-s.y[1]),size:f._fullLayout._size,width:v,maxLineWidth:O,height:A,columnOrder:B,groupHeight:A,rowBlocks:I,headerRowBlocks:d,scrollY:0,cells:D({},c.cells,{values:m}),headerCells:D({},c.header,{values:p}),gdColumns:p.map(function(N){return N[0]}),gdColumnsOriginalOrder:p.map(function(N){return N[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:p.map(function(N,H){return L[N]=(L[N]||0)+1,{key:N+"__"+L[N],label:N,specIndex:H,xIndex:B[H],xScale:t,x:void 0,calcdata:void 0,columnWidth:k[H]}})};return F.columns.forEach(function(N){N.calcdata=F,N.x=t(N)}),F}},56269:function(te,Y,e){"use strict";var T=e(1426).extendFlat;Y.splitToPanels=function(o){var P=[0,0],C=T({},o,{key:"header",type:"header",page:0,prevPages:P,currentRepaint:[null,null],dragHandle:!0,values:o.calcdata.headerCells.values[o.specIndex],rowBlocks:o.calcdata.headerRowBlocks,calcdata:T({},o.calcdata,{cells:o.calcdata.headerCells})});return[T({},o,{key:"cells1",type:"cells",page:0,prevPages:P,currentRepaint:[null,null],dragHandle:!1,values:o.calcdata.cells.values[o.specIndex],rowBlocks:o.calcdata.rowBlocks}),T({},o,{key:"cells2",type:"cells",page:1,prevPages:P,currentRepaint:[null,null],dragHandle:!1,values:o.calcdata.cells.values[o.specIndex],rowBlocks:o.calcdata.rowBlocks}),C]},Y.splitToCells=function(o){var P=function D(o){var P=o.rowBlocks[o.page],C=P?P.rows[0].rowIndex:0;return[C,P?C+P.rows.length:0]}(o);return(o.values||[]).slice(P[0],P[1]).map(function(C,h){return{keyWithinBlock:h+("string"==typeof C&&C.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:P[0]+h,column:o,calcdata:o.calcdata,page:o.page,rowBlocks:o.rowBlocks,value:C}})}},39754:function(te,Y,e){"use strict";var T=e(71828),D=e(44464),o=e(27670).c;te.exports=function(h,y,t,r){function l(i,u){return T.coerce(h,y,D,i,u)}o(y,r,l),l("columnwidth"),l("header.values"),l("header.format"),l("header.align"),l("header.prefix"),l("header.suffix"),l("header.height"),l("header.line.width"),l("header.line.color"),l("header.fill.color"),T.coerceFont(l,"header.font",T.extendFlat({},r.font)),function P(C,h){for(var t=C.header.values.length,r=(C.columnorder||[]).slice(0,t),l=r.slice().sort(function(f,c){return f-c}),i=r.map(function(f){return l.indexOf(f)}),u=i.length;u<t;u++)i.push(u);h("columnorder",i)}(y,l),l("cells.values"),l("cells.format"),l("cells.align"),l("cells.prefix"),l("cells.suffix"),l("cells.height"),l("cells.line.width"),l("cells.line.color"),l("cells.fill.color"),T.coerceFont(l,"cells.font",T.extendFlat({},r.font)),y._length=null}},96595:function(te,Y,e){"use strict";te.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(te,Y,e){"use strict";var T=e(49850),D=e(39898),P=e(71828).numberFormat,C=e(28984),h=e(91424),y=e(63893),t=e(71828).raiseToTop,r=e(71828).strTranslate,l=e(71828).cancelTransition,i=e(51018),u=e(56269),f=e(7901);function c(Z){return Math.ceil(Z.calcdata.maxLineWidth/2)}function m(Z,re){return"clip"+Z._fullLayout._uid+"_scrollAreaBottomClip_"+re.key}function a(Z,re){return"clip"+Z._fullLayout._uid+"_columnBoundaryClippath_"+re.calcdata.key+"_"+re.specIndex}function b(Z){return[].concat.apply([],Z.map(function(re){return re})).map(function(re){return re.__data__})}function p(Z,re,q){var de=Z.selectAll("."+T.cn.scrollbarKit).data(C.repeat,C.keyFun);de.enter().append("g").classed(T.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),de.each(function(Se){var xe=Se.scrollbarState;xe.totalHeight=function se(Se){var xe=Se.rowBlocks;return W(xe,xe.length-1)+(xe.length?V(xe[xe.length-1],1/0):1)}(Se),xe.scrollableAreaHeight=Se.groupHeight-F(Se),xe.currentlyVisibleHeight=Math.min(xe.totalHeight,xe.scrollableAreaHeight),xe.ratio=xe.currentlyVisibleHeight/xe.totalHeight,xe.barLength=Math.max(xe.ratio*xe.currentlyVisibleHeight,T.goldenRatio*T.scrollbarWidth),xe.barWiggleRoom=xe.currentlyVisibleHeight-xe.barLength,xe.wiggleRoom=Math.max(0,xe.totalHeight-xe.scrollableAreaHeight),xe.topY=0===xe.barWiggleRoom?0:Se.scrollY/xe.wiggleRoom*xe.barWiggleRoom,xe.bottomY=xe.topY+xe.barLength,xe.dragMultiplier=xe.wiggleRoom/xe.barWiggleRoom}).attr("transform",function(Se){return r(Se.width+T.scrollbarWidth/2+T.scrollbarOffset,F(Se))});var we=de.selectAll("."+T.cn.scrollbar).data(C.repeat,C.keyFun);we.enter().append("g").classed(T.cn.scrollbar,!0);var ye=we.selectAll("."+T.cn.scrollbarSlider).data(C.repeat,C.keyFun);ye.enter().append("g").classed(T.cn.scrollbarSlider,!0),ye.attr("transform",function(Se){return r(0,Se.scrollbarState.topY||0)});var Pe=ye.selectAll("."+T.cn.scrollbarGlyph).data(C.repeat,C.keyFun);Pe.enter().append("line").classed(T.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",T.scrollbarWidth).attr("stroke-linecap","round").attr("y1",T.scrollbarWidth/2),Pe.attr("y2",function(Se){return Se.scrollbarState.barLength-T.scrollbarWidth/2}).attr("stroke-opacity",function(Se){return Se.columnDragInProgress||!Se.scrollbarState.barWiggleRoom||q?0:.4}),Pe.transition().delay(0).duration(0),Pe.transition().delay(T.scrollbarHideDelay).duration(T.scrollbarHideDuration).attr("stroke-opacity",0);var Ie=we.selectAll("."+T.cn.scrollbarCaptureZone).data(C.repeat,C.keyFun);Ie.enter().append("line").classed(T.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",T.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Se){var xe=D.event.y,Me=this.getBoundingClientRect(),Ge=Se.scrollbarState,Ye=xe-Me.top,De=D.scale.linear().domain([0,Ge.scrollableAreaHeight]).range([0,Ge.totalHeight]).clamp(!0);Ge.topY<=Ye&&Ye<=Ge.bottomY||X(re,Z,null,De(Ye-Ge.barLength/2))(Se)}).call(D.behavior.drag().origin(function(Se){return D.event.stopPropagation(),Se.scrollbarState.scrollbarScrollInProgress=!0,Se}).on("drag",X(re,Z)).on("dragend",function(){})),Ie.attr("y2",function(Se){return Se.scrollbarState.scrollableAreaHeight}),re._context.staticPlot&&(Pe.remove(),Ie.remove())}function s(Z,re,q,se){var de=function v(Z){var re=Z.selectAll("."+T.cn.columnCells).data(C.repeat,C.keyFun);return re.enter().append("g").classed(T.cn.columnCells,!0),re.exit().remove(),re}(q),we=function A(Z){var re=Z.selectAll("."+T.cn.columnCell).data(u.splitToCells,function(q){return q.keyWithinBlock});return re.enter().append("g").classed(T.cn.columnCell,!0),re.exit().remove(),re}(de);!function M(Z){Z.each(function(re,q){var se=re.calcdata.cells.font,de=re.column.specIndex,we={size:B(se.size,de,q),color:B(se.color,de,q),family:B(se.family,de,q)};re.rowNumber=re.key,re.align=B(re.calcdata.cells.align,de,q),re.cellBorderWidth=B(re.calcdata.cells.line.width,de,q),re.font=we})}(we);var ye=function x(Z){var re=Z.selectAll("."+T.cn.cellRect).data(C.repeat,function(q){return q.keyWithinBlock});return re.enter().append("rect").classed(T.cn.cellRect,!0),re}(we);!function n(Z){Z.attr("width",function(re){return re.column.columnWidth}).attr("stroke-width",function(re){return re.cellBorderWidth}).each(function(re){var q=D.select(this);f.stroke(q,B(re.calcdata.cells.line.color,re.column.specIndex,re.rowNumber)),f.fill(q,B(re.calcdata.cells.fill.color,re.column.specIndex,re.rowNumber))})}(ye);var Pe=function g(Z){var re=Z.selectAll("."+T.cn.cellTextHolder).data(C.repeat,function(q){return q.keyWithinBlock});return re.enter().append("g").classed(T.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),re}(we),Ie=function E(Z){var re=Z.selectAll("."+T.cn.cellText).data(C.repeat,function(q){return q.keyWithinBlock});return re.enter().append("text").classed(T.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){D.event.stopPropagation()}),re}(Pe);(function w(Z){Z.each(function(re){h.font(D.select(this),re.font)})})(Ie),S(Ie,re,se,Z),j(we)}function S(Z,re,q,se){Z.text(function(de){var we=de.column.specIndex,ye=de.rowNumber,Pe=de.value,Ie="string"==typeof Pe,Se=Ie&&Pe.match(/<br>/i),xe=!Ie||Se;de.mayHaveMarkup=Ie&&Pe.match(/[<&>]/);var Me=function d(Z){return"string"==typeof Z&&Z.match(T.latexCheck)}(Pe);de.latex=Me;var rt,$e,Ge=Me?"":B(de.calcdata.cells.prefix,we,ye)||"",Ye=Me?"":B(de.calcdata.cells.suffix,we,ye)||"",De=Me?null:B(de.calcdata.cells.format,we,ye)||null,He=Ge+(De?P(De)(de.value):de.value)+Ye;if(de.wrappingNeeded=!de.wrapped&&!xe&&!Me&&(rt=I(He)),de.cellHeightMayIncrease=Se||Me||de.mayHaveMarkup||(void 0===rt?I(He):rt),de.needsConvertToTspans=de.mayHaveMarkup||de.wrappingNeeded||de.latex,de.wrappingNeeded){var ze=(" "===T.wrapSplitCharacter?He.replace(/<a href=/gi,"<a_href="):He).split(T.wrapSplitCharacter),tt=" "===T.wrapSplitCharacter?ze.map(function(lt){return lt.replace(/<a_href=/gi,"<a href=")}):ze;de.fragments=tt.map(function(lt){return{text:lt,width:null}}),de.fragments.push({fragment:T.wrapSpacer,width:null}),$e=tt.join(T.lineBreaker)+T.lineBreaker+T.wrapSpacer}else delete de.fragments,$e=He;return $e}).attr("dy",function(de){return de.needsConvertToTspans?0:"0.75em"}).each(function(de){var ye=D.select(this);de.needsConvertToTspans?y.convertToTspans(ye,se,(de.wrappingNeeded?ie:ue)(q,this,re,se,de)):D.select(this.parentNode).attr("transform",function(Ie){return r(J(Ie),T.cellPad)}).attr("text-anchor",function(Ie){return{left:"start",center:"middle",right:"end"}[Ie.align]})})}function I(Z){return-1!==Z.indexOf(T.wrapSplitCharacter)}function B(Z,re,q){if(Array.isArray(Z)){var se=Z[Math.min(re,Z.length-1)];return Array.isArray(se)?se[Math.min(q,se.length-1)]:se}return Z}function k(Z,re,q){Z.transition().ease(T.releaseTransitionEase).duration(T.releaseTransitionDuration).attr("transform",r(re.x,q))}function z(Z){return"cells"===Z.type}function O(Z){return"header"===Z.type}function F(Z){return(Z.rowBlocks.length?Z.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(q,se){return q+V(se,1/0)},0)}function H(Z,re,q){var se=b(re)[0];if(void 0!==se){var de=se.rowBlocks,we=se.calcdata,ye=W(de,de.length),Pe=se.calcdata.groupHeight-F(se),Ie=we.scrollY=Math.max(0,Math.min(ye-Pe,we.scrollY)),Se=function N(Z,re,q){for(var se=[],de=0,we=0;we<Z.length;we++){for(var ye=Z[we],Pe=ye.rows,Ie=0,Se=0;Se<Pe.length;Se++)Ie+=Pe[Se].rowHeight;ye.allRowsHeight=Ie,re<de+Ie&&re+q>de&&se.push(we),de+=Ie}return se}(de,Ie,Pe);1===Se.length&&(Se[0]===de.length-1?Se.unshift(Se[0]-1):Se.push(Se[0]+1)),Se[0]%2&&Se.reverse(),re.each(function(xe,Me){xe.page=Se[Me],xe.scrollY=Ie}),re.attr("transform",function(xe){var Me=W(xe.rowBlocks,xe.page)-xe.scrollY;return r(0,Me)}),Z&&(ne(Z,q,re,Se,se.prevPages,se,0),ne(Z,q,re,Se,se.prevPages,se,1),p(q,Z))}}function X(Z,re,q,se){return function(we){var ye=we.calcdata?we.calcdata:we,Pe=re.filter(function(Me){return ye.key===Me.key}),Se=ye.scrollY;ye.scrollY=void 0===se?ye.scrollY+(q||ye.scrollbarState.dragMultiplier)*D.event.dy:se;var xe=Pe.selectAll("."+T.cn.yColumn).selectAll("."+T.cn.columnBlock).filter(z);return H(Z,xe,Pe),ye.scrollY===Se}}function ne(Z,re,q,se,de,we,ye){se[ye]!==de[ye]&&(clearTimeout(we.currentRepaint[ye]),we.currentRepaint[ye]=setTimeout(function(){var Ie=q.filter(function(Se,xe){return xe===ye&&se[xe]!==de[xe]});s(Z,re,Ie,q),de[ye]=se[ye]}))}function ie(Z,re,q,se){return function(){var we=D.select(re.parentNode);we.each(function(ye){var Pe=ye.fragments;we.selectAll("tspan.line").each(function(He,rt){Pe[rt].width=this.getComputedTextLength()});var Me,Ge,Ie=Pe[Pe.length-1].width,Se=Pe.slice(0,-1),xe=[],Ye=0,De=ye.column.columnWidth-2*T.cellPad;for(ye.value="";Se.length;)Ye+(Ge=(Me=Se.shift()).width+Ie)>De&&(ye.value+=xe.join(T.wrapSpacer)+T.lineBreaker,xe=[],Ye=0),xe.push(Me.text),Ye+=Ge;Ye&&(ye.value+=xe.join(T.wrapSpacer)),ye.wrapped=!0}),we.selectAll("tspan.line").remove(),S(we.select("."+T.cn.cellText),q,Z,se),D.select(re.parentNode.parentNode).call(j)}}function ue(Z,re,q,se,de){return function(){if(!de.settledY){var ye=D.select(re.parentNode),Pe=ae(de),Ie=de.key-Pe.firstRowIndex,Se=Pe.rows[Ie].rowHeight,xe=de.cellHeightMayIncrease?re.parentNode.getBoundingClientRect().height+2*T.cellPad:Se,Me=Math.max(xe,Se);Me-Pe.rows[Ie].rowHeight&&(Pe.rows[Ie].rowHeight=Me,Z.selectAll("."+T.cn.columnCell).call(j),H(null,Z.filter(z),0),p(q,se,!0)),ye.attr("transform",function(){var He=this.parentNode.getBoundingClientRect(),rt=D.select(this.parentNode).select("."+T.cn.cellRect).node().getBoundingClientRect(),$e=this.transform.baseVal.consolidate(),Be=rt.top-He.top+($e?$e.matrix.f:T.cellPad);return r(J(de,D.select(this.parentNode).select("."+T.cn.cellTextHolder).node().getBoundingClientRect().width),Be)}),de.settledY=!0}}}function J(Z,re){switch(Z.align){case"left":default:return T.cellPad;case"right":return Z.column.columnWidth-(re||0)-T.cellPad;case"center":return(Z.column.columnWidth-(re||0))/2}}function j(Z){Z.attr("transform",function(re){var q=re.rowBlocks[0].auxiliaryBlocks.reduce(function(ye,Pe){return ye+V(Pe,1/0)},0),de=V(ae(re),re.key);return r(0,de+q)}).selectAll("."+T.cn.cellRect).attr("height",function(re){return function Q(Z,re){return Z.rows[re-Z.firstRowIndex]}(ae(re),re.key).rowHeight})}function W(Z,re){for(var q=0,se=re-1;se>=0;se--)q+=K(Z[se]);return q}function V(Z,re){for(var q=0,se=0;se<Z.rows.length&&Z.rows[se].rowIndex<re;se++)q+=Z.rows[se].rowHeight;return q}function K(Z){var re=Z.allRowsHeight;if(void 0!==re)return re;for(var q=0,se=0;se<Z.rows.length;se++)q+=Z.rows[se].rowHeight;return Z.allRowsHeight=q,q}function ae(Z){return Z.rowBlocks[Z.page]}te.exports=function(re,q){var se=!re._context.staticPlot,de=re._fullLayout._paper.selectAll("."+T.cn.table).data(q.map(function(Be){var ze=C.unwrap(Be);return i(re,ze.trace)}),C.keyFun);de.exit().remove(),de.enter().append("g").classed(T.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),de.attr("width",function(Be){return Be.width+Be.size.l+Be.size.r}).attr("height",function(Be){return Be.height+Be.size.t+Be.size.b}).attr("transform",function(Be){return r(Be.translateX,Be.translateY)});var we=de.selectAll("."+T.cn.tableControlView).data(C.repeat,C.keyFun),ye=we.enter().append("g").classed(T.cn.tableControlView,!0).style("box-sizing","content-box");if(se){var Pe="onwheel"in document?"wheel":"mousewheel";ye.on("mousemove",function(Be){we.filter(function(ze){return Be===ze}).call(p,re)}).on(Pe,function(Be){Be.scrollbarState.wheeling||(Be.scrollbarState.wheeling=!0,X(re,we,null,Be.scrollY+D.event.deltaY)(Be)||(D.event.stopPropagation(),D.event.preventDefault()),Be.scrollbarState.wheeling=!1)}).call(p,re,!0)}we.attr("transform",function(Be){return r(Be.size.l,Be.size.t)});var Ie=we.selectAll("."+T.cn.scrollBackground).data(C.repeat,C.keyFun);Ie.enter().append("rect").classed(T.cn.scrollBackground,!0).attr("fill","none"),Ie.attr("width",function(Be){return Be.width}).attr("height",function(Be){return Be.height}),we.each(function(Be){h.setClipUrl(D.select(this),m(re,Be),re)});var Se=we.selectAll("."+T.cn.yColumn).data(function(Be){return Be.columns},C.keyFun);Se.enter().append("g").classed(T.cn.yColumn,!0),Se.exit().remove(),Se.attr("transform",function(Be){return r(Be.x,0)}),se&&Se.call(D.behavior.drag().origin(function(Be){return k(D.select(this),Be,-T.uplift),t(this),Be.calcdata.columnDragInProgress=!0,p(we.filter(function(tt){return Be.calcdata.key===tt.key}),re),Be}).on("drag",function(Be){var ze=D.select(this),tt=function(xt){return(Be===xt?D.event.x:xt.x)+xt.columnWidth/2};Be.x=Math.max(-T.overdrag,Math.min(Be.calcdata.width+T.overdrag-Be.columnWidth,D.event.x)),b(Se).filter(function(xt){return xt.calcdata.key===Be.calcdata.key}).sort(function(xt,bt){return tt(xt)-tt(bt)}).forEach(function(xt,bt){xt.xIndex=bt,xt.x=Be===xt?xt.x:xt.xScale(xt)}),Se.filter(function(xt){return Be!==xt}).transition().ease(T.transitionEase).duration(T.transitionDuration).attr("transform",function(xt){return r(xt.x,0)}),ze.call(l).attr("transform",r(Be.x,-T.uplift))}).on("dragend",function(Be){var ze=D.select(this),tt=Be.calcdata;Be.x=Be.xScale(Be),Be.calcdata.columnDragInProgress=!1,k(ze,Be,0),function L(Z,re,q){var se=re.gdColumnsOriginalOrder;re.gdColumns.sort(function(de,we){return q[se.indexOf(de)]-q[se.indexOf(we)]}),re.columnorder=q,Z.emit("plotly_restyle")}(re,tt,tt.columns.map(function(lt){return lt.xIndex}))})),Se.each(function(Be){h.setClipUrl(D.select(this),a(re,Be),re)});var xe=Se.selectAll("."+T.cn.columnBlock).data(u.splitToPanels,C.keyFun);xe.enter().append("g").classed(T.cn.columnBlock,!0).attr("id",function(Be){return Be.key}),xe.style("cursor",function(Be){return Be.dragHandle?"ew-resize":Be.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Me=xe.filter(O),Ge=xe.filter(z);se&&Ge.call(D.behavior.drag().origin(function(Be){return D.event.stopPropagation(),Be}).on("drag",X(re,we,-1)).on("dragend",function(){})),s(re,we,Me,xe),s(re,we,Ge,xe);var Ye=we.selectAll("."+T.cn.scrollAreaClip).data(C.repeat,C.keyFun);Ye.enter().append("clipPath").classed(T.cn.scrollAreaClip,!0).attr("id",function(Be){return m(re,Be)});var De=Ye.selectAll("."+T.cn.scrollAreaClipRect).data(C.repeat,C.keyFun);De.enter().append("rect").classed(T.cn.scrollAreaClipRect,!0).attr("x",-T.overdrag).attr("y",-T.uplift).attr("fill","none"),De.attr("width",function(Be){return Be.width+2*T.overdrag}).attr("height",function(Be){return Be.height+T.uplift}),Se.selectAll("."+T.cn.columnBoundary).data(C.repeat,C.keyFun).enter().append("g").classed(T.cn.columnBoundary,!0);var rt=Se.selectAll("."+T.cn.columnBoundaryClippath).data(C.repeat,C.keyFun);rt.enter().append("clipPath").classed(T.cn.columnBoundaryClippath,!0),rt.attr("id",function(Be){return a(re,Be)});var $e=rt.selectAll("."+T.cn.columnBoundaryRect).data(C.repeat,C.keyFun);$e.enter().append("rect").classed(T.cn.columnBoundaryRect,!0).attr("fill","none"),$e.attr("width",function(Be){return Be.columnWidth+2*c(Be)}).attr("height",function(Be){return Be.calcdata.height+2*c(Be)+T.uplift}).attr("x",function(Be){return-c(Be)}).attr("y",function(Be){return-c(Be)}),H(null,Ge,we)}},45802:function(te,Y,e){"use strict";var T=e(5386).fF,D=e(5386).si,o=e(50693),P=e(27670).Y,C=e(34e3),h=e(57564),y=e(43473),t=e(1426).extendFlat,r=e(79952).u;te.exports={labels:h.labels,parents:h.parents,values:h.values,branchvalues:h.branchvalues,count:h.count,level:h.level,maxdepth:h.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:h.marker.colors,pattern:r,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:h.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},o("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},C.textfont,{}),editType:"calc"},text:C.text,textinfo:h.textinfo,texttemplate:D({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),hovertext:C.hovertext,hoverinfo:h.hoverinfo,hovertemplate:T({},{keys:y.eventDataKeys}),textfont:C.textfont,insidetextfont:C.insidetextfont,outsidetextfont:t({},C.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:C.sort,root:h.root,domain:P({name:"treemap",trace:!0,editType:"calc"})}},78018:function(te,Y,e){"use strict";var T=e(74875);Y.name="treemap",Y.plot=function(D,o,P,C){T.plotBasePlot(Y.name,D,o,P,C)},Y.clean=function(D,o,P,C){T.cleanBasePlot(Y.name,D,o,P,C)}},65039:function(te,Y,e){"use strict";var T=e(52147);Y.y=function(D,o){return T.calc(D,o)},Y.T=function(D){return T._runCrossTraceCalc("treemap",D)}},43473:function(te){"use strict";te.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(te,Y,e){"use strict";var T=e(71828),D=e(45802),o=e(7901),P=e(27670).c,C=e(90769).handleText,h=e(97313).TEXTPAD,y=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,l=t.handleDefaults;te.exports=function(u,f,c,m){function a(n,S){return T.coerce(u,f,D,n,S)}var b=a("labels"),p=a("parents");if(b&&b.length&&p&&p.length){var s=a("values");a(s&&s.length?"branchvalues":"count"),a("level"),a("maxdepth"),"squarify"===a("tiling.packing")&&a("tiling.squarifyratio"),a("tiling.flip"),a("tiling.pad");var A=a("text");a("texttemplate"),f.texttemplate||a("textinfo",Array.isArray(A)?"text+label":"label"),a("hovertext"),a("hovertemplate");var x=a("pathbar.visible");C(u,f,m,a,"auto",{hasPathbar:x,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),a("textposition");var g=-1!==f.textposition.indexOf("bottom");y(u,f,m,a),(f._hasColorscale=r(u,"marker","colors")||(u.marker||{}).coloraxis)?l(u,f,m,a,{prefix:"marker.",cLetter:"c"}):a("marker.depthfade",!(f.marker.colors||[]).length);var w=2*f.textfont.size;a("marker.pad.t",g?w/4:w),a("marker.pad.l",w/4),a("marker.pad.r",w/4),a("marker.pad.b",g?w:w/4),a("marker.cornerradius"),f._hovered={marker:{line:{width:2,color:o.contrast(m.paper_bgcolor)}}},x&&(a("pathbar.thickness",f.pathbar.textfont.size+2*h),a("pathbar.side"),a("pathbar.edgeshape")),a("sort"),a("root.color"),P(f,m,a),f._length=null}else f.visible=!1}},80694:function(te,Y,e){"use strict";var T=e(39898),D=e(2791),P=e(72597).clearMinTextSize,C=e(16688).resizeText,h=e(46650);te.exports=function(t,r,l,i,u){var b,p,f=u.type,c=u.drawDescendants,m=t._fullLayout,a=m["_"+f+"layer"],s=!l;P(f,m),(b=a.selectAll("g.trace."+f).data(r,function(A){return A[0].trace.uid})).enter().append("g").classed("trace",!0).classed(f,!0),b.order(),!m.uniformtext.mode&&D.hasTransition(l)?(i&&(p=i()),T.transition().duration(l.duration).ease(l.easing).each("end",function(){p&&p()}).each("interrupt",function(){p&&p()}).each(function(){a.selectAll("g.trace").each(function(A){h(t,A,this,l,c)})})):(b.each(function(A){h(t,A,this,l,c)}),m.uniformtext.mode&&C(t,a.selectAll(".trace"),f)),s&&b.exit().remove()}},66209:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(91424),P=e(63893),C=e(37210),h=e(96362).styleOne,y=e(43473),t=e(2791),r=e(83523),l=!0;te.exports=function(u,f,c,m,a){var b=a.barDifY,p=a.width,s=a.height,v=a.viewX,A=a.viewY,x=a.pathSlice,E=a.toMoveInsideSlice,g=a.strTransform,M=a.hasTransition,w=a.handleSlicesExit,n=a.makeUpdateSliceInterpolator,S=a.makeUpdateTextInterpolator,d={},I=u._context.staticPlot,L=u._fullLayout,B=f[0],k=B.trace,z=B.hierarchy,O=p/k._entryDepth,F=t.listPath(c.data,"id"),N=C(z.copy(),[p,s],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(N=N.filter(function(X){var ne=F.indexOf(X.data.id);return-1!==ne&&(X.x0=O*ne,X.x1=O*(ne+1),X.y0=b,X.y1=b+s,X.onPathbar=!0,!0)})).reverse(),(m=m.data(N,t.getPtId)).enter().append("g").classed("pathbar",!0),w(m,l,d,[p,s],x),m.order();var H=m;M&&(H=H.transition().each("end",function(){var X=T.select(this);t.setSliceCursor(X,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),H.each(function(X){X._x0=v(X.x0),X._x1=v(X.x1),X._y0=A(X.y0),X._y1=A(X.y1),X._hoverX=v(X.x1-Math.min(p,s)/2),X._hoverY=A(X.y1-s/2);var ne=T.select(this),ie=D.ensureSingle(ne,"path","surface",function(W){W.style("pointer-events",I?"none":"all")});M?ie.transition().attrTween("d",function(W){var V=n(W,l,d,[p,s]);return function(K){return x(V(K))}}):ie.attr("d",x),ne.call(r,c,u,f,{styleOne:h,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:u._transitioning}),ie.call(h,X,k,u,{hovered:!1}),X._text=(t.getPtLabel(X)||"").split("<br>").join(" ")||"";var ue=D.ensureSingle(ne,"g","slicetext"),J=D.ensureSingle(ue,"text","",function(W){W.attr("data-notex",1)}),j=D.ensureUniformFontSize(u,t.determineTextFont(k,X,L.font,{onPathbar:!0}));J.text(X._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(o.font,j).call(P.convertToTspans,u),X.textBB=o.bBox(J.node()),X.transform=E(X,{fontSize:j.size,onPathbar:!0}),X.transform.fontSize=j.size,M?J.transition().attrTween("transform",function(W){var V=S(W,l,d,[p,s]);return function(K){return g(V(K))}}):J.attr("transform",g(X))})}},52583:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(91424),P=e(63893),C=e(37210),h=e(96362).styleOne,y=e(43473),t=e(2791),r=e(83523),l=e(24714).formatSliceLabel,i=!1;te.exports=function(f,c,m,a,b){var p=b.width,s=b.height,v=b.viewX,A=b.viewY,x=b.pathSlice,E=b.toMoveInsideSlice,g=b.strTransform,M=b.hasTransition,w=b.handleSlicesExit,n=b.makeUpdateSliceInterpolator,S=b.makeUpdateTextInterpolator,d=b.prevEntry,L=f._context.staticPlot,B=f._fullLayout,z=c[0].trace,O=-1!==z.textposition.indexOf("left"),F=-1!==z.textposition.indexOf("right"),N=-1!==z.textposition.indexOf("bottom"),H=!N&&!z.marker.pad.t||N&&!z.marker.pad.b,ne=C(m,[p,s],{packing:z.tiling.packing,squarifyratio:z.tiling.squarifyratio,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,pad:{inner:z.tiling.pad,top:z.marker.pad.t,left:z.marker.pad.l,right:z.marker.pad.r,bottom:z.marker.pad.b}}).descendants(),ie=1/0,ue=-1/0;ne.forEach(function(K){var ae=K.depth;ae>=z._maxDepth?(K.x0=K.x1=(K.x0+K.x1)/2,K.y0=K.y1=(K.y0+K.y1)/2):(ie=Math.min(ie,ae),ue=Math.max(ue,ae))}),a=a.data(ne,t.getPtId),z._maxVisibleLayers=isFinite(ue)?ue-ie+1:0,a.enter().append("g").classed("slice",!0),w(a,i,{},[p,s],x),a.order();var J=null;if(M&&d){var j=t.getPtId(d);a.each(function(K){null===J&&t.getPtId(K)===j&&(J={x0:K.x0,x1:K.x1,y0:K.y0,y1:K.y1})})}var W=function(){return J||{x0:0,x1:p,y0:0,y1:s}},V=a;return M&&(V=V.transition().each("end",function(){var K=T.select(this);t.setSliceCursor(K,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),V.each(function(K){var ae=t.isHeader(K,z);K._x0=v(K.x0),K._x1=v(K.x1),K._y0=A(K.y0),K._y1=A(K.y1),K._hoverX=v(K.x1-z.marker.pad.r),K._hoverY=A(N?K.y1-z.marker.pad.b/2:K.y0+z.marker.pad.t/2);var Q=T.select(this),Z=D.ensureSingle(Q,"path","surface",function(de){de.style("pointer-events",L?"none":"all")});M?Z.transition().attrTween("d",function(de){var we=n(de,i,W(),[p,s]);return function(ye){return x(we(ye))}}):Z.attr("d",x),Q.call(r,m,f,c,{styleOne:h,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,f,{isTransitioning:f._transitioning}),Z.call(h,K,z,f,{hovered:!1}),K._text=K.x0===K.x1||K.y0===K.y1?"":ae?H?"":t.getPtLabel(K)||"":l(K,m,z,c,B)||"";var re=D.ensureSingle(Q,"g","slicetext"),q=D.ensureSingle(re,"text","",function(de){de.attr("data-notex",1)}),se=D.ensureUniformFontSize(f,t.determineTextFont(z,K,B.font));q.text(K._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":O||ae?"start":"middle").call(o.font,se).call(P.convertToTspans,f),K.textBB=o.bBox(q.node()),K.transform=E(K,{fontSize:se.size,isHeader:ae}),K.transform.fontSize=se.size,M?q.transition().attrTween("transform",function(de){var we=S(de,i,W(),[p,s]);return function(ye){return g(we(ye))}}):q.attr("transform",g(K))}),J}},14102:function(te){"use strict";te.exports=function Y(e,T,D){var o;D.swapXY&&(o=e.x0,e.x0=e.y0,e.y0=o,o=e.x1,e.x1=e.y1,e.y1=o),D.flipX&&(o=e.x0,e.x0=T[0]-e.x1,e.x1=T[0]-o),D.flipY&&(o=e.y0,e.y0=T[1]-e.y1,e.y1=T[1]-o);var P=e.children;if(P)for(var C=0;C<P.length;C++)Y(P[C],T,D)}},70954:function(te,Y,e){"use strict";te.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(te){"use strict";te.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(te,Y,e){"use strict";var T=e(71828),D=e(55479);te.exports=function(P,C){function h(y,t){return T.coerce(P,C,D,y,t)}h("treemapcolorway",C.colorway),h("extendtreemapcolors")}},37210:function(te,Y,e){"use strict";var T=e(674),D=e(14102);te.exports=function(C,h,y){var m,t=y.flipX,r=y.flipY,l="dice-slice"===y.packing,i=y.pad[r?"bottom":"top"],u=y.pad[t?"right":"left"],f=y.pad[t?"left":"right"],c=y.pad[r?"top":"bottom"];l&&(m=u,u=i,i=m,m=f,f=c,c=m);var a=T.treemap().tile(function o(P,C){switch(P){case"squarify":return T.treemapSquarify.ratio(C);case"binary":return T.treemapBinary;case"dice":return T.treemapDice;case"slice":return T.treemapSlice;default:return T.treemapSliceDice}}(y.packing,y.squarifyratio)).paddingInner(y.pad.inner).paddingLeft(u).paddingRight(f).paddingTop(i).paddingBottom(c).size(l?[h[1],h[0]]:h)(C);return(l||t||r)&&D(a,h,{swapXY:l,flipX:t,flipY:r}),a}},5893:function(te,Y,e){"use strict";var T=e(80694),D=e(52583);te.exports=function(P,C,h,y){return T(P,C,h,y,{type:"treemap",drawDescendants:D})}},46650:function(te,Y,e){"use strict";var T=e(39898),D=e(81684).sX,o=e(2791),P=e(71828),C=e(97313).TEXTPAD,y=e(17295).toMoveInsideBar,r=e(72597).recordMinTextSize,l=e(43473),i=e(66209);function u(f){return o.isHierarchyRoot(f)?"":o.getPtId(f)}te.exports=function(c,m,a,b,p){var s=c._fullLayout,v=m[0],A=v.trace,E="icicle"===A.type,g=v.hierarchy,M=o.findEntryWithLevel(g,A.level),w=T.select(a),n=w.selectAll("g.pathbar"),S=w.selectAll("g.slice");if(!M)return n.remove(),void S.remove();var d=o.isHierarchyRoot(M),I=!s.uniformtext.mode&&o.hasTransition(b),L=o.getMaxDepth(A),k=s._size,z=A.domain,O=k.w*(z.x[1]-z.x[0]),F=k.h*(z.y[1]-z.y[0]),N=O,H=A.pathbar.thickness,X=A.marker.line.width+l.gapWithPathbar,ne=A.pathbar.visible?A.pathbar.side.indexOf("bottom")>-1?F+X:-(H+X):0,ie={x0:N,x1:N,y0:ne,y1:ne+H},ue=function(Je,Ce,Ee){var Re=A.tiling.pad,ke=function(fe){return fe-Re<=Ce.x0},Ne=function(fe){return fe+Re>=Ce.x1},_e=function(fe){return fe-Re<=Ce.y0},Te=function(fe){return fe+Re>=Ce.y1};return Je.x0===Ce.x0&&Je.x1===Ce.x1&&Je.y0===Ce.y0&&Je.y1===Ce.y1?{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1}:{x0:ke(Je.x0-Re)?0:Ne(Je.x0-Re)?Ee[0]:Je.x0,x1:ke(Je.x1+Re)?0:Ne(Je.x1+Re)?Ee[0]:Je.x1,y0:_e(Je.y0-Re)?0:Te(Je.y0-Re)?Ee[1]:Je.y0,y1:_e(Je.y1+Re)?0:Te(Je.y1+Re)?Ee[1]:Je.y1}},J=null,j={},W={},V=null,K=function(Je,Ce){return Ce?j[u(Je)]:W[u(Je)]};v.hasMultipleRoots&&d&&L++,A._maxDepth=L,A._backgroundColor=s.paper_bgcolor,A._entryDepth=M.data.depth,A._atRootLevel=d;var Q=-O/2+k.l+k.w*(z.x[1]+z.x[0])/2,Z=-F/2+k.t+k.h*(1-(z.y[1]+z.y[0])/2),re=function(Je){return Q+Je},q=function(Je){return Z+Je},se=q(0),de=re(0),we=function(Je){return de+Je},ye=function(Je){return se+Je};function Pe(Je,Ce){return Je+","+Ce}var Ie=we(0),Se=function(Je){Je.x=Math.max(Ie,Je.x)},xe=A.pathbar.edgeshape,Ge=A[E?"tiling":"marker"].pad,Ye=function(Je){return-1!==A.textposition.indexOf(Je)},De=Ye("top"),He=Ye("left"),rt=Ye("right"),$e=Ye("bottom"),ze=function(Je,Ce){var Ee=Je.x0,Re=Je.x1,ke=Je.y0,Ne=Je.y1,_e=Je.textBB,fe=De||Ce.isHeader&&!$e?"start":$e?"end":"middle",pe=Ye("right"),Fe=Ye("left")||Ce.onPathbar;if(Ce.isHeader){if((Ee+=(E?Ge:Ge.l)-C)>=(Re-=(E?Ge:Ge.r)-C)){var at=(Ee+Re)/2;Ee=at,Re=at}var ft;$e?ke<(ft=Ne-(E?Ge:Ge.b))&&ft<Ne&&(ke=ft):ke<(ft=ke+(E?Ge:Ge.t))&&ft<Ne&&(Ne=ft)}var Xt=y(Ee,Re,ke,Ne,_e,{isHorizontal:!1,constrained:!0,angle:0,anchor:fe,leftToRight:Fe?-1:pe?1:0});return Xt.fontSize=Ce.fontSize,Xt.targetX=re(Xt.targetX),Xt.targetY=q(Xt.targetY),isNaN(Xt.targetX)||isNaN(Xt.targetY)?{}:(Ee!==Re&&ke!==Ne&&r(A.type,Xt,s),{scale:Xt.scale,rotate:Xt.rotate,textX:Xt.textX,textY:Xt.textY,anchorX:Xt.anchorX,anchorY:Xt.anchorY,targetX:Xt.targetX,targetY:Xt.targetY})},tt=function(Je,Ce){for(var Ee,Re=0,ke=Je;!Ee&&Re<L;)Re++,(ke=ke.parent)?Ee=K(ke,Ce):Re=L;return Ee||{}},ut=function(Je,Ce,Ee,Re,ke){var _e,Ne=K(Je,Ce);if(Ne)_e=Ne;else if(Ce)_e=ie;else if(J)if(Je.parent){var Te=V||Ee;Te&&!Ce?_e=ue(Je,Te,Re):P.extendFlat(_e={},tt(Je,Ce))}else _e=P.extendFlat({},Je),E&&("h"===ke.orientation?ke.flipX?_e.x0=Je.x1:_e.x1=0:ke.flipY?_e.y0=Je.y1:_e.y1=0);else _e={};return D(_e,{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1})},xt=function(Je,Ce,Ee,Re){var ke=K(Je,Ce),Ne={},_e=function(Je,Ce,Ee,Re){if(Ce)return j[u(g)]||ie;var ke=W[A.level]||Ee;return function(Je){return Je.data.depth-M.data.depth<L}(Je)?ue(Je,ke,Re):{}}(Je,Ce,Ee,Re);P.extendFlat(Ne,{transform:ze({x0:_e.x0,x1:_e.x1,y0:_e.y0,y1:_e.y1,textBB:Je.textBB,_text:Je._text},{isHeader:o.isHeader(Je,A)})}),ke?Ne=ke:Je.parent&&P.extendFlat(Ne,tt(Je,Ce));var Te=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&r(A.type,Te,s),D(Ne,{transform:{scale:Te.scale,rotate:Te.rotate,textX:Te.textX,textY:Te.textY,anchorX:Te.anchorX,anchorY:Te.anchorY,targetX:Te.targetX,targetY:Te.targetY}})},bt=function(Je,Ce,Ee,Re,ke){var Ne=Re[0],_e=Re[1];I?Je.exit().transition().each(function(){var Te=T.select(this);Te.select("path.surface").transition().attrTween("d",function(Fe){var Xe=function(Je,Ce,Ee,Re){var Ne,ke=K(Je,Ce);if(Ce)Ne=ie;else{var _e=K(M,Ce);Ne=_e?ue(Je,_e,Re):{}}return D(ke,Ne)}(Fe,Ce,0,[Ne,_e]);return function(at){return ke(Xe(at))}}),Te.select("g.slicetext").attr("opacity",0)}).remove():Je.exit().remove()},Ht=function(Je){var Ce=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&r(A.type,Ce,s),P.getTextTransform({textX:Ce.textX,textY:Ce.textY,anchorX:Ce.anchorX,anchorY:Ce.anchorY,targetX:Ce.targetX,targetY:Ce.targetY,scale:Ce.scale,rotate:Ce.rotate})};I&&(n.each(function(Je){j[u(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&(j[u(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate})}),S.each(function(Je){W[u(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&(W[u(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate}),!J&&o.isEntry(Je)&&(J=Je)})),V=p(c,m,M,S,{width:O,height:F,viewX:re,viewY:q,pathSlice:function(Je){var Ce=re(Je.x0),Ee=re(Je.x1),Re=q(Je.y0),ke=q(Je.y1),Ne=Ee-Ce,_e=ke-Re;if(!Ne||!_e)return"";var fe=Math.min(A.marker.cornerradius||0,Ne/2,_e/2);fe&&Je.data&&Je.data.data&&Je.data.data.label&&(De&&(fe=Math.min(fe,Ge.t)),He&&(fe=Math.min(fe,Ge.l)),rt&&(fe=Math.min(fe,Ge.r)),$e&&(fe=Math.min(fe,Ge.b)));var pe=function(Fe,Xe){return fe?"a"+Pe(fe,fe)+" 0 0 1 "+Pe(Fe,Xe):""};return"M"+Pe(Ce,Re+fe)+pe(fe,-fe)+"L"+Pe(Ee-fe,Re)+pe(fe,fe)+"L"+Pe(Ee,ke-fe)+pe(-fe,fe)+"L"+Pe(Ce+fe,ke)+pe(-fe,-fe)+"Z"},toMoveInsideSlice:ze,prevEntry:J,makeUpdateSliceInterpolator:ut,makeUpdateTextInterpolator:xt,handleSlicesExit:bt,hasTransition:I,strTransform:Ht}),A.pathbar.visible?i(c,m,M,n,{barDifY:ne,width:N,height:H,viewX:we,viewY:ye,pathSlice:function(Je){var Ce=we(Math.max(Math.min(Je.x0,Je.x0),0)),Ee=we(Math.min(Math.max(Je.x1,Je.x1),N)),Re=ye(Je.y0),ke=ye(Je.y1),Ne=H/2,_e={},Te={};_e.x=Ce,Te.x=Ee,_e.y=Te.y=(Re+ke)/2;var fe={x:Ce,y:Re},pe={x:Ee,y:Re},Fe={x:Ee,y:ke},Xe={x:Ce,y:ke};return">"===xe?(fe.x-=Ne,pe.x-=Ne,Fe.x-=Ne,Xe.x-=Ne):"/"===xe?(Fe.x-=Ne,Xe.x-=Ne,_e.x-=Ne/2,Te.x-=Ne/2):"\\"===xe?(fe.x-=Ne,pe.x-=Ne,_e.x-=Ne/2,Te.x-=Ne/2):"<"===xe&&(_e.x-=Ne,Te.x-=Ne),Se(fe),Se(Xe),Se(_e),Se(pe),Se(Fe),Se(Te),"M"+Pe(fe.x,fe.y)+"L"+Pe(pe.x,pe.y)+"L"+Pe(Te.x,Te.y)+"L"+Pe(Fe.x,Fe.y)+"L"+Pe(Xe.x,Xe.y)+"L"+Pe(_e.x,_e.y)+"Z"},toMoveInsideSlice:ze,makeUpdateSliceInterpolator:ut,makeUpdateTextInterpolator:xt,handleSlicesExit:bt,hasTransition:I,strTransform:Ht}):n.remove()}},96362:function(te,Y,e){"use strict";var T=e(39898),D=e(7901),o=e(71828),P=e(2791),C=e(72597).resizeText,h=e(43467);function t(r,l,i,u,f){var b,p,c=(f||{}).hovered,m=l.data.data,a=m.i,s=m.color,v=P.isHierarchyRoot(l),A=1;if(c)b=i._hovered.marker.line.color,p=i._hovered.marker.line.width;else if(v&&s===i.root.color)A=100,b="rgba(0,0,0,0)",p=0;else if(b=o.castOption(i,a,"marker.line.color")||D.defaultLine,p=o.castOption(i,a,"marker.line.width")||0,!i._hasColorscale&&!l.onPathbar){var x=i.marker.depthfade;if(x){var g,E=D.combine(D.addOpacity(i._backgroundColor,.75),s);if(!0===x){var M=P.getMaxDepth(i);g=isFinite(M)?P.isLeaf(l)?0:i._maxVisibleLayers-(l.data.depth-i._entryDepth):l.data.height+1}else g=l.data.depth-i._entryDepth,i._atRootLevel||g++;if(g>0)for(var w=0;w<g;w++)s=D.combine(D.addOpacity(E,.5*w/g),s)}}r.call(h,l,i,u,s).style("stroke-width",p).call(D.stroke,b).style("opacity",A)}te.exports={style:function y(r){var l=r._fullLayout._treemaplayer.selectAll(".trace");C(r,l,"treemap"),l.each(function(i){var u=T.select(this),c=i[0].trace;u.style("opacity",c.opacity),u.selectAll("path.surface").each(function(m){T.select(this).call(t,m,c,r,{hovered:!1})})})},styleOne:t}},68875:function(te,Y,e){"use strict";var T=e(53522),D=e(1426).extendFlat,o=e(12663).axisHoverFormat;te.exports={y:T.y,x:T.x,x0:T.x0,y0:T.y0,xhoverformat:o("x"),yhoverformat:o("y"),name:D({},T.name,{}),orientation:D({},T.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:T.fillcolor,points:D({},T.boxpoints,{}),jitter:D({},T.jitter,{}),pointpos:D({},T.pointpos,{}),width:D({},T.width,{}),marker:T.marker,text:T.text,hovertext:T.hovertext,hovertemplate:T.hovertemplate,quartilemethod:T.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:T.offsetgroup,alignmentgroup:T.alignmentgroup,selected:T.selected,unselected:T.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(te,Y,e){"use strict";var T=e(71828),D=e(89298),o=e(48518),P=e(60168),C=e(50606).BADNUM;function y(r,l,i){var u=l.max-l.min;if(!u)return r.bandwidth?r.bandwidth:0;if(r.bandwidth)return Math.max(r.bandwidth,u/1e4);var f=i.length,c=T.stdev(i,f-1,l.mean);return Math.max(function h(r,l,i){return 1.059*Math.min(l,i/1.349)*Math.pow(r,-.2)}(f,c,l.q3-l.q1),u/100)}function t(r,l,i,u){var b,f=r.spanmode,c=r.span||[],a=[l.min-2*u,l.max+2*u];function p(v){var A=c[v],x="multicategory"===i.type?i.r2c(A):i.d2c(A,0,r[l.valLetter+"calendar"]);return x===C?a[v]:x}var s={type:"linear",range:b="soft"===f?a:"hard"===f?[l.min,l.max]:[p(0),p(1)]};return D.setConvert(s),s.cleanRange(),b}te.exports=function(l,i){var u=o(l,i);if(u[0].t.empty)return u;for(var f=l._fullLayout,c=D.getFromId(l,i["h"===i.orientation?"xaxis":"yaxis"]),m=1/0,a=-1/0,b=0,p=0,s=0;s<u.length;s++){var v=u[s],A=v.pts.map(P.extractVal),x=v.bandwidth=y(i,v,A),E=v.span=t(i,v,c,x);if(v.min===v.max&&0===x)E=v.span=[v.min,v.max],v.density=[{v:1,t:E[0]}],v.bandwidth=x,b=Math.max(b,1);else{var g=E[1]-E[0],M=Math.ceil(g/(x/3)),w=g/M;if(!isFinite(w)||!isFinite(M))return T.error("Something went wrong with computing the violin span"),u[0].t.empty=!0,u;var n=P.makeKDE(v,i,A);v.density=new Array(M);for(var S=0,d=E[0];d<E[1]+w/2;S++,d+=w){var I=n(d);v.density[S]={v:I,t:d},b=Math.max(b,I)}}p=Math.max(p,A.length),m=Math.min(m,E[0]),a=Math.max(a,E[1])}var L=D.findExtremes(c,[m,a],{padded:!0});if(i._extremes[c._id]=L,i.width)u[0].t.maxKDE=b;else{var B=f._violinScaleGroupStats,k=i.scalegroup,z=B[k];z?(z.maxKDE=Math.max(z.maxKDE,b),z.maxCount=Math.max(z.maxCount,p)):B[k]={maxKDE:b,maxCount:p}}return u[0].t.labels.kde=T._(l,"kde:"),u}},86403:function(te,Y,e){"use strict";var T=e(37188).setPositionOffset,D=["v","h"];te.exports=function(P,C){for(var h=P.calcdata,y=C.xaxis,t=C.yaxis,r=0;r<D.length;r++){for(var l=D[r],i="h"===l?t:y,u=[],f=0;f<h.length;f++){var c=h[f],a=c[0].trace;!0===a.visible&&"violin"===a.type&&!c[0].t.empty&&a.orientation===l&&a.xaxis===y._id&&a.yaxis===t._id&&u.push(f)}T("violin",P,u,i)}}},15899:function(te,Y,e){"use strict";var T=e(71828),D=e(7901),o=e(36411),P=e(68875);te.exports=function(h,y,t,r){function l(w,n){return T.coerce(h,y,P,w,n)}function i(w,n){return T.coerce2(h,y,P,w,n)}if(o.handleSampleDefaults(h,y,l,r),!1!==y.visible){l("bandwidth"),l("side"),l("width")||(l("scalegroup",y.name),l("scalemode"));var c,f=l("span");Array.isArray(f)&&(c="manual"),l("spanmode",c);var m=l("line.color",(h.marker||{}).color||t),a=l("line.width"),b=l("fillcolor",D.addOpacity(y.line.color,.5));o.handlePointsDefaults(h,y,l,{prefix:""});var p=i("box.width"),s=i("box.fillcolor",b),v=i("box.line.color",m),A=i("box.line.width",a);l("box.visible",!!(p||s||v||A))||(y.box={visible:!1});var E=i("meanline.color",m),g=i("meanline.width",a);l("meanline.visible",!(!E&&!g))||(y.meanline={visible:!1}),l("quartilemethod")}}},60168:function(te,Y,e){"use strict";var T=e(71828),D_gaussian=function(o){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*o*o)};Y.makeKDE=function(o,P,C){var h=C.length,y=D_gaussian,t=o.bandwidth,r=1/(h*t);return function(l){for(var i=0,u=0;u<h;u++)i+=y((l-C[u])/t);return r*i}},Y.getPositionOnKdePath=function(o,P,C){var h,y;"h"===P.orientation?(h="y",y="x"):(h="x",y="y");var t=T.findPointOnPath(o.path,C,y,{pathLength:o.pathLength}),r=o.posCenterPx,l=t[h];return[l,"both"===P.side?2*r-l:r]},Y.getKdeValue=function(o,P,C){var h=o.pts.map(Y.extractVal);return Y.makeKDE(o,P,h)(C)/o.posDensityScale},Y.extractVal=function(o){return o.v}},57634:function(te,Y,e){"use strict";var T=e(7901),D=e(71828),o=e(89298),P=e(41868),C=e(60168);te.exports=function(y,t,r,l,i){i||(i={});var s,v,u=i.hoverLayer,f=y.cd,c=f[0].trace,m=c.hoveron,a=-1!==m.indexOf("violins"),b=-1!==m.indexOf("kde"),p=[];if(a||b){var A=P.hoverOnBoxes(y,t,r,l);if(b&&A.length>0){var g,M,w,n,S,x=y.xa,E=y.ya;"h"===c.orientation?(S=t,g="y",w=E,M="x",n=x):(S=r,g="x",w=x,M="y",n=E);var d=f[y.index];if(S>=d.span[0]&&S<=d.span[1]){var I=D.extendFlat({},y),L=n.c2p(S,!0),B=C.getKdeValue(d,c,S),k=C.getPositionOnKdePath(d,c,L),z=w._offset,O=w._length;I[g+"0"]=k[0],I[g+"1"]=k[1],I[M+"0"]=I[M+"1"]=L,I[M+"Label"]=M+": "+o.hoverLabelText(n,S,c[M+"hoverformat"])+", "+f[0].t.labels.kde+" "+B.toFixed(3);for(var F=0,N=0;N<A.length;N++)if("med"===A[N].attr){F=N;break}I.spikeDistance=A[F].spikeDistance;var H=g+"Spike";I[H]=A[F][H],A[F].spikeDistance=void 0,A[F][H]=void 0,I.hovertemplate=!1,p.push(I),(v={})[g+"1"]=D.constrain(z+k[0],z,z+O),v[g+"2"]=D.constrain(z+k[1],z,z+O),v[M+"1"]=v[M+"2"]=n._offset+L}}a&&(p=p.concat(A))}-1!==m.indexOf("points")&&(s=P.hoverOnPoints(y,t,r));var X=u.selectAll(".violinline-"+c.uid).data(v?[0]:[]);return X.enter().append("line").classed("violinline-"+c.uid,!0).attr("stroke-width",1.5),X.exit().remove(),X.attr(v).call(T.stroke,y.color),"closest"===l?s?[s]:p:(s&&p.push(s),p)}},47462:function(te,Y,e){"use strict";te.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(te,Y,e){"use strict";var T=e(40094),D=e(71828).extendFlat;te.exports={violinmode:D({},T.boxmode,{}),violingap:D({},T.boxgap,{}),violingroupgap:D({},T.boxgroupgap,{})}},33598:function(te,Y,e){"use strict";var T=e(71828),D=e(9228),o=e(4199);te.exports=function(C,h,y){o._supply(C,h,y,function t(r,l){return T.coerce(C,h,D,r,l)},"violin")}},28443:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(91424),P=e(86047),C=e(34621),h=e(60168);te.exports=function(t,r,l,i){var u=t._context.staticPlot,f=t._fullLayout,c=r.xaxis,m=r.yaxis;function a(b,p){var s=C(b,{xaxis:c,yaxis:m,trace:p,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return o.smoothopen(s[0],1)}D.makeTraceGroups(i,l,"trace violins").each(function(b){var p=T.select(this),s=b[0],v=s.t,A=s.trace;if(!0!==A.visible||v.empty)p.remove();else{var x=v.bPos,E=v.bdPos,g=r[v.valLetter+"axis"],M=r[v.posLetter+"axis"],w="both"===A.side,n=w||"positive"===A.side,S=w||"negative"===A.side,d=p.selectAll("path.violin").data(D.identity);d.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","violin"),d.exit().remove(),d.each(function(N){var J,W,V,K,ae,Q,Z,re,H=T.select(this),X=N.density,ne=X.length,ie=M.c2l(N.pos+x,!0),ue=M.l2p(ie);if(A.width)J=v.maxKDE/E;else{var j=f._violinScaleGroupStats[A.scalegroup];J="count"===A.scalemode?j.maxKDE/E*(j.maxCount/N.pts.length):j.maxKDE/E}if(n){for(Z=new Array(ne),ae=0;ae<ne;ae++)(re=Z[ae]={})[v.posLetter]=ie+X[ae].v/J,re[v.valLetter]=g.c2l(X[ae].t,!0);W=a(Z,A)}if(S){for(Z=new Array(ne),Q=0,ae=ne-1;Q<ne;Q++,ae--)(re=Z[Q]={})[v.posLetter]=ie-X[ae].v/J,re[v.valLetter]=g.c2l(X[ae].t,!0);V=a(Z,A)}if(w)K=W+"L"+V.substr(1)+"Z";else{var q=[ue,g.c2p(X[0].t)],se=[ue,g.c2p(X[ne-1].t)];"h"===A.orientation&&(q.reverse(),se.reverse()),K=n?"M"+q+"L"+W.substr(1)+"L"+se:"M"+se+"L"+V.substr(1)+"L"+q}H.attr("d",K),N.posCenterPx=ue,N.posDensityScale=J*E,N.path=H.node(),N.pathLength=N.path.getTotalLength()/(w?2:1)});var k,z,O,I=A.box,L=I.width,B=(I.line||{}).width;w?(k=E*L,z=0):n?(k=[0,E*L/2],z=B*{x:1,y:-1}[v.posLetter]):(k=[E*L/2,0],z=B*{x:-1,y:1}[v.posLetter]),P.plotBoxAndWhiskers(p,{pos:M,val:g},A,{bPos:x,bdPos:k,bPosPxOffset:z}),P.plotBoxMean(p,{pos:M,val:g},A,{bPos:x,bdPos:k,bPosPxOffset:z}),!A.box.visible&&A.meanline.visible&&(O=D.identity);var F=p.selectAll("path.meanline").data(O||[]);F.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",u?"none":"non-scaling-stroke"),F.exit().remove(),F.each(function(N){var H=g.c2p(N.mean,!0),X=h.getPositionOnKdePath(N,A,H);T.select(this).attr("d","h"===A.orientation?"M"+H+","+X[0]+"V"+X[1]:"M"+X[0]+","+H+"H"+X[1])}),P.plotPoints(p,{x:c,y:m},A,v)}})}},31847:function(te,Y,e){"use strict";var T=e(39898),D=e(7901),o=e(16296).stylePoints;te.exports=function(C){var h=T.select(C).selectAll("g.trace.violins");h.style("opacity",function(y){return y[0].trace.opacity}),h.each(function(y){var t=y[0].trace,r=T.select(this),l=t.box||{},i=l.line||{},u=t.meanline||{},f=u.width;r.selectAll("path.violin").style("stroke-width",t.line.width+"px").call(D.stroke,t.line.color).call(D.fill,t.fillcolor),r.selectAll("path.box").style("stroke-width",i.width+"px").call(D.stroke,i.color).call(D.fill,l.fillcolor);var c={"stroke-width":f+"px","stroke-dasharray":2*f+"px,"+f+"px"};r.selectAll("path.mean").style(c).call(D.stroke,u.color),r.selectAll("path.meanline").style(c).call(D.stroke,u.color),o(r,t,C)})}},16336:function(te,Y,e){"use strict";var T=e(50693),D=e(16249),o=e(54532),P=e(9012),C=e(1426).extendFlat,h=e(30962).overrideAll,y=te.exports=h(C({x:D.x,y:D.y,z:D.z,value:D.value,isomin:D.isomin,isomax:D.isomax,surface:D.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:D.slices,caps:D.caps,text:D.text,hovertext:D.hovertext,xhoverformat:D.xhoverformat,yhoverformat:D.yhoverformat,zhoverformat:D.zhoverformat,valuehoverformat:D.valuehoverformat,hovertemplate:D.hovertemplate},T("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:D.colorbar,opacity:D.opacity,opacityscale:o.opacityscale,lightposition:D.lightposition,lighting:D.lighting,flatshading:D.flatshading,contour:D.contour,hoverinfo:C({},P.hoverinfo),showlegend:C({},P.showlegend,{dflt:!1})}),"calc","nested");y.x.editType=y.y.editType=y.z.editType=y.value.editType="calc+clearAxisTypes",y.transforms=void 0},64809:function(te,Y,e){"use strict";var T=e(9330).gl_mesh3d,D=e(81697).parseColorScale,o=e(78614),P=e(21081).extractOpts,C=e(90060),h=e(22674).findNearestOnAxis,y=e(22674).generateIsoMeshes;function t(i,u,f){this.scene=i,this.uid=f,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var r=t.prototype;r.handlePick=function(i){if(i.object===this.mesh){var u=i.data.index,c=this.data._meshY[u],m=this.data._meshZ[u],a=this.data._Ys.length,b=this.data._Zs.length,p=h(this.data._meshX[u],this.data._Xs).id,s=h(c,this.data._Ys).id,v=h(m,this.data._Zs).id,A=i.index=v+b*s+b*a*p;i.traceCoordinate=[this.data._meshX[A],this.data._meshY[A],this.data._meshZ[A],this.data._value[A]];var x=this.data.hovertext||this.data.text;return Array.isArray(x)&&void 0!==x[A]?i.textLabel=x[A]:x&&(i.textLabel=x),!0}},r.update=function(i){var u=this.scene,f=u.fullSceneLayout;function c(s,v,A,x){return v.map(function(E){return s.d2l(E,0,x)*A})}this.data=y(i);var b={positions:C(c(f.xaxis,i._meshX,u.dataScale[0],i.xcalendar),c(f.yaxis,i._meshY,u.dataScale[1],i.ycalendar),c(f.zaxis,i._meshZ,u.dataScale[2],i.zcalendar)),cells:C(i._meshI,i._meshJ,i._meshK),lightPosition:[i.lightposition.x,i.lightposition.y,i.lightposition.z],ambient:i.lighting.ambient,diffuse:i.lighting.diffuse,specular:i.lighting.specular,roughness:i.lighting.roughness,fresnel:i.lighting.fresnel,vertexNormalsEpsilon:i.lighting.vertexnormalsepsilon,faceNormalsEpsilon:i.lighting.facenormalsepsilon,opacity:i.opacity,opacityscale:i.opacityscale,contourEnable:i.contour.show,contourColor:o(i.contour.color).slice(0,3),contourWidth:i.contour.width,useFacetNormals:i.flatshading},p=P(i);b.vertexIntensity=i._meshIntensity,b.vertexIntensityBounds=[p.min,p.max],b.colormap=D(i),this.mesh.update(b)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},te.exports=function l(i,u){var c=T({gl:i.glplot.gl}),m=new t(i,c,u.uid);return c._trace=m,m.update(u),i.glplot.add(c),m}},47651:function(te,Y,e){"use strict";var T=e(71828),D=e(16336),o=e(82738).supplyIsoDefaults,P=e(91831).opacityscaleDefaults;te.exports=function(h,y,t,r){function l(i,u){return T.coerce(h,y,D,i,u)}o(h,y,t,r,l),P(h,y,r,l)}},17659:function(te,Y,e){"use strict";te.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(te,Y,e){"use strict";var T=e(1486),D=e(82196).line,o=e(9012),P=e(12663).axisHoverFormat,C=e(5386).fF,h=e(5386).si,y=e(48334),t=e(1426).extendFlat,r=e(7901);function l(i){return{marker:{color:t({},T.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},T.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},T.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}te.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:T.x,x0:T.x0,dx:T.dx,y:T.y,y0:T.y0,dy:T.dy,xperiod:T.xperiod,yperiod:T.yperiod,xperiod0:T.xperiod0,yperiod0:T.yperiod0,xperiodalignment:T.xperiodalignment,yperiodalignment:T.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),hovertext:T.hovertext,hovertemplate:C({},{keys:y.eventDataKeys}),hoverinfo:t({},o.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:h({editType:"plot"},{keys:y.eventDataKeys.concat(["label"])}),text:T.text,textposition:T.textposition,insidetextanchor:T.insidetextanchor,textangle:T.textangle,textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:T.outsidetextfont,constraintext:T.constraintext,cliponaxis:T.cliponaxis,orientation:T.orientation,offset:T.offset,width:T.width,increasing:l(),decreasing:l(),totals:l(),connector:{line:{color:t({},D.color,{dflt:r.defaultLine}),width:t({},D.width,{editType:"plot"}),dash:D.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:T.offsetgroup,alignmentgroup:T.alignmentgroup}},52752:function(te,Y,e){"use strict";var T=e(89298),D=e(42973),o=e(71828).mergeArray,P=e(66279),C=e(50606).BADNUM;function h(t){return"a"===t||"absolute"===t}function y(t){return"t"===t||"total"===t}te.exports=function(r,l){var f,c,m,a,b,p,i=T.getFromId(r,l.xaxis||"x"),u=T.getFromId(r,l.yaxis||"y");"h"===l.orientation?(f=i.makeCalcdata(l,"x"),m=u.makeCalcdata(l,"y"),a=D(l,u,"y",m),b=!!l.yperiodalignment,p="y"):(f=u.makeCalcdata(l,"y"),m=i.makeCalcdata(l,"x"),a=D(l,i,"x",m),b=!!l.xperiodalignment,p="x"),c=a.vals;for(var x,s=Math.min(c.length,f.length),v=new Array(s),A=0,E=!1,g=0;g<s;g++){var M=f[g]||0,w=!1;(f[g]!==C||y(l.measure[g])||h(l.measure[g]))&&g+1<s&&(f[g+1]!==C||y(l.measure[g+1])||h(l.measure[g+1]))&&(w=!0);var n=v[g]={i:g,p:c[g],s:M,rawS:M,cNext:w};h(l.measure[g])?(A=n.s,n.isSum=!0,n.dir="totals",n.s=A):y(l.measure[g])?(n.isSum=!0,n.dir="totals",n.s=A):(n.isSum=!1,n.dir=n.rawS<0?"decreasing":"increasing",n.s=A+(x=n.s),A+=x),"totals"===n.dir&&(E=!0),b&&(v[g].orig_p=m[g],v[g][p+"End"]=a.ends[g],v[g][p+"Start"]=a.starts[g]),l.ids&&(n.id=String(l.ids[g])),n.v=(l.base||0)+A}return v.length&&(v[0].hasTotals=E),o(l.text,v,"tx"),o(l.hovertext,v,"htx"),P(v,l),v}},48334:function(te){"use strict";te.exports={eventDataKeys:["initial","delta","final"]}},70766:function(te,Y,e){"use strict";var T=e(11661).setGroupPositions;te.exports=function(o,P){var f,c,C=o._fullLayout,h=o._fullData,y=o.calcdata,t=P.xaxis,r=P.yaxis,l=[],i=[],u=[];for(c=0;c<h.length;c++){var m=h[c];!0===m.visible&&m.xaxis===t._id&&m.yaxis===r._id&&"waterfall"===m.type&&(f=y[c],"h"===m.orientation?u.push(f):i.push(f),l.push(f))}var a={mode:C.waterfallmode,norm:C.waterfallnorm,gap:C.waterfallgap,groupgap:C.waterfallgroupgap};for(T(o,t,r,i,a),T(o,r,t,u,a),c=0;c<l.length;c++){f=l[c];for(var b=0;b<f.length;b++){var p=f[b];!1===p.isSum&&(p.s0+=0===b?0:f[b-1].s),b+1<f.length&&(f[b].nextP0=f[b+1].p0,f[b].nextS0=f[b+1].s0)}}}},83266:function(te,Y,e){"use strict";var T=e(71828),D=e(26125),o=e(90769).handleText,P=e(67513),C=e(73927),h=e(43037),y=e(7901),t=e(22372),r=t.INCREASING.COLOR,l=t.DECREASING.COLOR;function u(m,a,b){m(a+".marker.color",b),m(a+".marker.line.color",y.defaultLine),m(a+".marker.line.width")}te.exports={supplyDefaults:function f(m,a,b,p){function s(g,M){return T.coerce(m,a,h,g,M)}if(P(m,a,p,s)){C(m,a,p,s),s("xhoverformat"),s("yhoverformat"),s("measure"),s("orientation",a.x&&!a.y?"h":"v"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate");var A=s("textposition");o(m,a,p,s,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==a.textposition&&(s("texttemplate"),a.texttemplate||s("textinfo")),u(s,"increasing",r),u(s,"decreasing",l),u(s,"totals","#4499FF"),s("connector.visible")&&(s("connector.mode"),s("connector.line.width")&&(s("connector.line.color"),s("connector.line.dash")))}else a.visible=!1},crossTraceDefaults:function c(m,a){var p;function s(A){return T.coerce(p._input,p,h,A)}if("group"===a.waterfallmode)for(var v=0;v<m.length;v++)D((p=m[v])._input,p,a,s)}}},58593:function(te){"use strict";te.exports=function(e,T){return e.x="xVal"in T?T.xVal:T.x,e.y="yVal"in T?T.yVal:T.y,"initial"in T&&(e.initial=T.initial),"delta"in T&&(e.delta=T.delta),"final"in T&&(e.final=T.final),T.xa&&(e.xaxis=T.xa),T.ya&&(e.yaxis=T.ya),e}},61326:function(te,Y,e){"use strict";var T=e(89298).hoverLabelText,D=e(7901).opacity,o=e(95423).hoverOnBars,P=e(22372),C_increasing=P.INCREASING.SYMBOL,C_decreasing=P.DECREASING.SYMBOL;te.exports=function(t,r,l,i,u){var f=o(t,r,l,i,u);if(f){var c=f.cd,m=c[0].trace,a="h"===m.orientation,b=a?"x":"y",p=a?t.xa:t.ya,A=c[f.index],x=A.isSum?A.b+A.s:A.rawS;f.initial=A.b+A.s-x,f.delta=x,f.final=f.initial+f.delta;var E=s(Math.abs(f.delta));f.deltaLabel=x<0?"("+E+")":E,f.finalLabel=s(f.final),f.initialLabel=s(f.initial);var g=A.hi||m.hoverinfo,M=[];if(g&&"none"!==g&&"skip"!==g){var w="all"===g,n=g.split("+"),S=function(d){return w||-1!==n.indexOf(d)};A.isSum||(S("final")&&(a?!S("x"):!S("y"))&&M.push(f.finalLabel),S("delta")&&M.push(x<0?f.deltaLabel+" "+C_decreasing:f.deltaLabel+" "+C_increasing),S("initial")&&M.push("Initial: "+f.initialLabel))}return M.length&&(f.extraText=M.join("<br>")),f.color=function h(y,t){var r=y[t.dir].marker,l=r.color,i=r.line.color,u=r.line.width;return D(l)?l:D(i)&&u?i:void 0}(m,A),[f]}function s(d){return T(p,d,m[b+"hoverformat"])}}},19990:function(te,Y,e){"use strict";te.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(te){"use strict";te.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(te,Y,e){"use strict";var T=e(71828),D=e(13494);te.exports=function(o,P,C){var h=!1;function y(l,i){return T.coerce(o,P,D,l,i)}for(var t=0;t<C.length;t++){var r=C[t];if(r.visible&&"waterfall"===r.type){h=!0;break}}h&&(y("waterfallmode"),y("waterfallgap",.2),y("waterfallgroupgap"))}},30436:function(te,Y,e){"use strict";var T=e(39898),D=e(71828),o=e(91424),P=e(50606).BADNUM,C=e(17295),h=e(72597).clearMinTextSize;te.exports=function(l,i,u,f){var c=l._fullLayout;h("waterfall",c),C.plot(l,i,u,f,{mode:c.waterfallmode,norm:c.waterfallmode,gap:c.waterfallgap,groupgap:c.waterfallgroupgap}),function y(r,l,i,u){var f=l.xaxis,c=l.yaxis;D.makeTraceGroups(u,i,"trace bars").each(function(m){var a=T.select(this),b=m[0].trace,p=D.ensureSingle(a,"g","lines");if(b.connector&&b.connector.visible){var s="h"===b.orientation,v=b.connector.mode,A=p.selectAll("g.line").data(D.identity);A.enter().append("g").classed("line",!0),A.exit().remove();var x=A.size();A.each(function(E,g){if(g===x-1||E.cNext){var M=function t(r,l,i,u){var f=[],c=[],m=u?l:i,a=u?i:l;return f[0]=m.c2p(r.s0,!0),c[0]=a.c2p(r.p0,!0),f[1]=m.c2p(r.s1,!0),c[1]=a.c2p(r.p1,!0),f[2]=m.c2p(r.nextS0,!0),c[2]=a.c2p(r.nextP0,!0),u?[f,c]:[c,f]}(E,f,c,s),w=M[0],n=M[1],S="";w[0]!==P&&n[0]!==P&&w[1]!==P&&n[1]!==P&&("spanning"===v&&!E.isSum&&g>0&&(S+=s?"M"+w[0]+","+n[1]+"V"+n[0]:"M"+w[1]+","+n[0]+"H"+w[0]),"between"!==v&&(E.isSum||g<x-1)&&(S+=s?"M"+w[1]+","+n[0]+"V"+n[1]:"M"+w[0]+","+n[1]+"H"+w[1]),w[2]!==P&&n[2]!==P&&(S+=s?"M"+w[1]+","+n[1]+"V"+n[2]:"M"+w[1]+","+n[1]+"H"+w[2])),""===S&&(S="M0,0Z"),D.ensureSingle(T.select(this),"path").attr("d",S).call(o.setClipUrl,l.layerClipId,r)}})}else p.remove()})}(l,i,u,f)}},55750:function(te,Y,e){"use strict";var T=e(39898),D=e(91424),o=e(7901),P=e(37822).DESELECTDIM,C=e(16688),h=e(72597).resizeText,y=C.styleTextPoints;te.exports={style:function t(r,l,i){var u=i||T.select(r).selectAll("g.waterfalllayer").selectAll("g.trace");h(r,u,"waterfall"),u.style("opacity",function(f){return f[0].trace.opacity}),u.each(function(f){var c=T.select(this),m=f[0].trace;c.selectAll(".point > path").each(function(a){if(!a.isBlank){var b=m[a.dir].marker;T.select(this).call(o.fill,b.color).call(o.stroke,b.line.color).call(D.dashLine,b.line.dash,b.line.width).style("opacity",m.selectedpoints&&!a.selected?P:1)}}),y(c,m,r),c.selectAll(".lines").each(function(){var a=m.connector.line;D.lineGroupStyle(T.select(this).selectAll("path"),a.width,a.color,a.dash)})})}}},82887:function(te,Y,e){"use strict";var T=e(89298),D=e(71828),o=e(86281),P=e(79344).p,C=e(50606).BADNUM;Y.moduleType="transform",Y.name="aggregate";var h=Y.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},y=h.aggregations;function t(f,c,m,a){if(a.enabled){for(var b=a.target,p=D.nestedProperty(c,b),s=p.get(),A=function r(f,c){var a=c.d2c,b=c.c2d;switch(f.func){case"count":return l;case"first":return i;case"last":return u;case"sum":return function(p,s){for(var v=0,A=0;A<s.length;A++){var x=a(p[s[A]]);x!==C&&(v+=x)}return b(v)};case"avg":return function(p,s){for(var v=0,A=0,x=0;x<s.length;x++){var E=a(p[s[x]]);E!==C&&(v+=E,A++)}return A?b(v/A):C};case"min":return function(p,s){for(var v=1/0,A=0;A<s.length;A++){var x=a(p[s[A]]);x!==C&&(v=Math.min(v,x))}return v===1/0?C:b(v)};case"max":return function(p,s){for(var v=-1/0,A=0;A<s.length;A++){var x=a(p[s[A]]);x!==C&&(v=Math.max(v,x))}return v===-1/0?C:b(v)};case"range":return function(p,s){for(var v=1/0,A=-1/0,x=0;x<s.length;x++){var E=a(p[s[x]]);E!==C&&(v=Math.min(v,E),A=Math.max(A,E))}return A===-1/0||v===1/0?C:b(A-v)};case"change":return function(p,s){var v=a(p[s[0]]),A=a(p[s[s.length-1]]);return v===C||A===C?C:b(A-v)};case"median":return function(p,s){for(var v=[],A=0;A<s.length;A++){var x=a(p[s[A]]);x!==C&&v.push(x)}if(!v.length)return C;v.sort(D.sorterAsc);var E=(v.length-1)/2;return b((v[Math.floor(E)]+v[Math.ceil(E)])/2)};case"mode":return function(p,s){for(var v={},A=0,x=C,E=0;E<s.length;E++){var g=a(p[s[E]]);if(g!==C){var M=v[g]=(v[g]||0)+1;M>A&&(A=M,x=g)}}return A?b(x):C};case"rms":return function(p,s){for(var v=0,A=0,x=0;x<s.length;x++){var E=a(p[s[x]]);E!==C&&(v+=E*E,A++)}return A?b(Math.sqrt(v/A)):C};case"stddev":return function(p,s){var g,v=0,A=0,x=1,E=C;for(g=0;g<s.length&&E===C;g++)E=a(p[s[g]]);if(E===C)return C;for(;g<s.length;g++){var M=a(p[s[g]]);if(M!==C){var w=M-E;v+=w,A+=w*w,x++}}var n="sample"===f.funcmode?x-1:x;return n?Math.sqrt((A-v*v/x)/n):0}}}(a,T.getDataConversions(f,c,b,s)),x=new Array(m.length),E=0;E<m.length;E++)x[E]=A(s,m[E]);p.set(x),"count"===a.func&&D.pushUnique(c._arrayAttrs,b)}}function l(f,c){return c.length}function i(f,c){return f[c[0]]}function u(f,c){return f[c[c.length-1]]}Y.supplyDefaults=function(f,c){var a,m={};function b(d,I){return D.coerce(f,m,h,d,I)}if(!b("enabled"))return m;var s=o.findArrayAttributes(c),v={};for(a=0;a<s.length;a++)v[s[a]]=1;var A=b("groups");if(!Array.isArray(A)){if(!v[A])return m.enabled=!1,m;v[A]=0}var g,x=f.aggregations||[],E=m.aggregations=new Array(x.length);function M(d,I){return D.coerce(x[a],g,y,d,I)}for(a=0;a<x.length;a++){g={_index:a};var w=M("target"),n=M("func");M("enabled")&&w&&(v[w]||"count"===n&&void 0===v[w])?("stddev"===n&&M("funcmode"),v[w]=0,E[a]=g):E[a]={enabled:!1,_index:a}}for(a=0;a<s.length;a++)v[s[a]]&&E.push({target:s[a],func:y.func.dflt,enabled:!0,_index:-1});return m},Y.calcTransform=function(f,c,m){if(m.enabled){var a=m.groups,b=D.getTargetArray(c,{target:a});if(b){var p,s,v,x={},E={},g=[],M=P(c.transforms,m),w=b.length;for(c._length&&(w=Math.min(w,c._length)),p=0;p<w;p++)void 0===(v=x[s=b[p]])?(x[s]=g.length,g.push([p]),E[x[s]]=M(p)):(g[v].push(p),E[x[s]]=(E[x[s]]||[]).concat(M(p)));m._indexToPoints=E;var n=m.aggregations;for(p=0;p<n.length;p++)t(f,c,g,n[p]);"string"==typeof a&&t(f,c,g,{target:a,func:"first",enabled:!0}),c._length=g.length}}}},14382:function(te,Y,e){"use strict";var T=e(71828),D=e(73972),o=e(89298),P=e(79344).p,C=e(74808),h=C.COMPARISON_OPS,y=C.INTERVAL_OPS,t=C.SET_OPS;Y.moduleType="transform",Y.name="filter",Y.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(h).concat(y).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},Y.supplyDefaults=function(l){var i={};function u(a,b){return T.coerce(l,i,Y.attributes,a,b)}if(u("enabled")){var c=u("target");if(T.isArrayOrTypedArray(c)&&0===c.length)return i.enabled=!1,i;u("preservegaps"),u("operation"),u("value");var m=D.getComponentMethod("calendars","handleDefaults");m(l,i,"valuecalendar",null),m(l,i,"targetcalendar",null)}return i},Y.calcTransform=function(l,i,u){if(u.enabled){var f=T.getTargetArray(i,u);if(f){var c=u.target,m=f.length;i._length&&(m=Math.min(m,i._length));var a=u.targetcalendar,b=i._arrayAttrs,p=u.preservegaps;if("string"==typeof c){var s=T.nestedProperty(i,c+"calendar").get();s&&(a=s)}var w,n,A=function r(l,i,u){var f=l.operation,c=l.value,m=Array.isArray(c);function a(v){return-1!==v.indexOf(f)}var s,b=function(v){return i(v,0,l.valuecalendar)},p=function(v){return i(v,0,u)};switch(a(h)?s=b(m?c[0]:c):a(y)?s=m?[b(c[0]),b(c[1])]:[b(c),b(c)]:a(t)&&(s=m?c.map(b):[b(c)]),f){case"=":return function(v){return p(v)===s};case"!=":return function(v){return p(v)!==s};case"<":return function(v){return p(v)<s};case"<=":return function(v){return p(v)<=s};case">":return function(v){return p(v)>s};case">=":return function(v){return p(v)>=s};case"[]":return function(v){var A=p(v);return A>=s[0]&&A<=s[1]};case"()":return function(v){var A=p(v);return A>s[0]&&A<s[1]};case"[)":return function(v){var A=p(v);return A>=s[0]&&A<s[1]};case"(]":return function(v){var A=p(v);return A>s[0]&&A<=s[1]};case"][":return function(v){var A=p(v);return A<=s[0]||A>=s[1]};case")(":return function(v){var A=p(v);return A<s[0]||A>s[1]};case"](":return function(v){var A=p(v);return A<=s[0]||A>s[1]};case")[":return function(v){var A=p(v);return A<s[0]||A>=s[1]};case"{}":return function(v){return-1!==s.indexOf(p(v))};case"}{":return function(v){return-1===s.indexOf(p(v))}}}(u,o.getDataToCoordFunc(l,i,c,f),a),x={},E={},g=0;p?(w=function(L){x[L.astr]=T.extendDeep([],L.get()),L.set(new Array(m))},n=function(L,B){var k=x[L.astr][B];L.get()[B]=k}):(w=function(L){x[L.astr]=T.extendDeep([],L.get()),L.set([])},n=function(L,B){var k=x[L.astr][B];L.get().push(k)}),M(w);for(var S=P(i.transforms,u),d=0;d<m;d++)A(f[d])?(M(n,d),E[g++]=S(d)):p&&g++;u._indexToPoints=E,i._length=g}}function M(L,B){for(var k=0;k<b.length;k++)L(T.nestedProperty(i,b[k]),B)}}},43102:function(te,Y,e){"use strict";var T=e(71828),D=e(86281),o=e(74875),P=e(79344).p;function C(h,y){var t,r,l,i,u,f,c,m,a,b,p=y.transform,s=y.transformIndex,v=h.transforms[s].groups,A=P(h.transforms,p);if(!T.isArrayOrTypedArray(v)||0===v.length)return[h];var x=T.filterUnique(v),E=new Array(x.length),g=v.length,M=D.findArrayAttributes(h),w=p.styles||[],n={};for(t=0;t<w.length;t++)n[w[t].target]=w[t].value;p.styles&&(b=T.keyedContainer(p,"styles","target","value.name"));var S={},d={};for(t=0;t<x.length;t++){S[f=x[t]]=t,d[f]=0,(c=E[t]=T.extendDeepNoArrays({},h))._group=f,c.transforms[s]._indexToPoints={};var I=null;for(b&&(I=b.get(f)),c.name=I||""===I?I:T.templateString(p.nameformat,{trace:h.name,group:f}),m=c.transforms,c.transforms=[],r=0;r<m.length;r++)c.transforms[r]=T.extendDeepNoArrays({},m[r]);for(r=0;r<M.length;r++)T.nestedProperty(c,M[r]).set([])}for(l=0;l<M.length;l++){for(i=M[l],r=0,a=[];r<x.length;r++)a[r]=T.nestedProperty(E[r],i).get();for(u=T.nestedProperty(h,i).get(),r=0;r<g;r++)a[S[v[r]]].push(u[r])}for(r=0;r<g;r++)(c=E[S[v[r]]]).transforms[s]._indexToPoints[d[v[r]]]=A(r),d[v[r]]++;for(t=0;t<x.length;t++)f=x[t],o.clearExpandedTraceDefaultColors(c=E[t]),c=T.extendDeepNoArrays(c,n[f]||{});return E}Y.moduleType="transform",Y.name="groupby",Y.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},Y.supplyDefaults=function(h,y,t){var r,l={};function i(b,p){return T.coerce(h,l,Y.attributes,b,p)}if(!i("enabled"))return l;i("groups"),i("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var f=h.styles,c=l.styles=[];if(f)for(r=0;r<f.length;r++){var m=c[r]={};T.coerce(f[r],c[r],Y.attributes.styles,"target");var a=T.coerce(f[r],c[r],Y.attributes.styles,"value");T.isPlainObject(a)?m.value=T.extendDeep({},a):a&&delete m.value}return l},Y.transform=function(h,y){var t,r,l,i=[];for(r=0;r<h.length;r++)for(t=C(h[r],y),l=0;l<t.length;l++)i.push(t[l]);return i}},79344:function(te,Y){"use strict";Y.p=function(e,T){for(var D,o,P=0;P<e.length&&(D=e[P])!==T;P++)!D._indexToPoints||!1===D.enabled||(o=D._indexToPoints);return o?function(h){return o[h]}:function(h){return[h]}}},32275:function(te,Y,e){"use strict";var T=e(71828),D=e(89298),o=e(79344).p,P=e(50606).BADNUM;Y.moduleType="transform",Y.name="sort",Y.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},Y.supplyDefaults=function(y){var t={};function r(i,u){return T.coerce(y,t,Y.attributes,i,u)}return r("enabled")&&(r("target"),r("order")),t},Y.calcTransform=function(y,t,r){if(r.enabled){var l=T.getTargetArray(t,r);if(l){var i=r.target,u=l.length;t._length&&(u=Math.min(u,t._length));var p,s,f=t._arrayAttrs,m=function C(y,t,r,l){var f,i=new Array(l),u=new Array(l);for(f=0;f<l;f++)i[f]={v:t[f],i:f};for(i.sort(function h(y,t){switch(y.order){case"ascending":return function(r,l){var i=t(r.v),u=t(l.v);return i===P?1:u===P?-1:i-u};case"descending":return function(r,l){var i=t(r.v),u=t(l.v);return i===P?1:u===P?-1:u-i}}}(y,r)),f=0;f<l;f++)u[f]=i[f].i;return u}(r,l,D.getDataToCoordFunc(y,t,i,l),u),a=o(t.transforms,r),b={};for(p=0;p<f.length;p++){var v=T.nestedProperty(t,f[p]),A=v.get(),x=new Array(u);for(s=0;s<u;s++)x[s]=A[m[s]];v.set(x)}for(s=0;s<u;s++)b[s]=a(m[s]);r._indexToPoints=b,t._length=u}}}},11506:function(te,Y){"use strict";Y.version="2.27.0"},9330:function(te,Y,e){var T=e(90386);self,te.exports=function(){var D={7386:function(h,y,t){h.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(h,y,t){"use strict";function i(Te,fe){for(var pe=0;pe<fe.length;pe++){var Fe=fe[pe];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(Te,Fe.key,Fe)}}function c(Te,fe){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Fe,Xe){return Fe.__proto__=Xe,Fe})(Te,fe)}function m(Te){var fe=function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Xe,Fe=s(Te);if(fe){var at=s(this).constructor;Xe=Reflect.construct(Fe,arguments,at)}else Xe=Fe.apply(this,arguments);return function a(Te,fe){if(fe&&("object"===v(fe)||"function"==typeof fe))return fe;if(void 0!==fe)throw new TypeError("Derived constructors may only return object or undefined");return b(Te)}(this,Xe)}}function b(Te){if(void 0===Te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Te}function s(Te){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(pe){return pe.__proto__||Object.getPrototypeOf(pe)})(Te)}function v(Te){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fe){return typeof fe}:function(fe){return fe&&"function"==typeof Symbol&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe})(Te)}var A=t(3910),x=t(3187),E="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;y.lW=n,y.h2=50;var g=2147483647;function w(Te){if(Te>g)throw new RangeError('The value "'+Te+'" is invalid for option "size"');var fe=new Uint8Array(Te);return Object.setPrototypeOf(fe,n.prototype),fe}function n(Te,fe,pe){if("number"==typeof Te){if("string"==typeof fe)throw new TypeError('The "string" argument must be of type string. Received type number');return L(Te)}return S(Te,fe,pe)}function S(Te,fe,pe){if("string"==typeof Te)return function B(Te,fe){if(("string"!=typeof fe||""===fe)&&(fe="utf8"),!n.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);var pe=0|X(Te,fe),Fe=w(pe),Xe=Fe.write(Te,fe);return Xe!==pe&&(Fe=Fe.slice(0,Xe)),Fe}(Te,fe);if(ArrayBuffer.isView(Te))return function z(Te){if(Ee(Te,Uint8Array)){var fe=new Uint8Array(Te);return O(fe.buffer,fe.byteOffset,fe.byteLength)}return k(Te)}(Te);if(null==Te)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+v(Te));if(Ee(Te,ArrayBuffer)||Te&&Ee(Te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ee(Te,SharedArrayBuffer)||Te&&Ee(Te.buffer,SharedArrayBuffer)))return O(Te,fe,pe);if("number"==typeof Te)throw new TypeError('The "value" argument must not be of type number. Received type number');var Fe=Te.valueOf&&Te.valueOf();if(null!=Fe&&Fe!==Te)return n.from(Fe,fe,pe);var Xe=function F(Te){if(n.isBuffer(Te)){var fe=0|N(Te.length),pe=w(fe);return 0===pe.length||Te.copy(pe,0,0,fe),pe}return void 0!==Te.length?"number"!=typeof Te.length||Re(Te.length)?w(0):k(Te):"Buffer"===Te.type&&Array.isArray(Te.data)?k(Te.data):void 0}(Te);if(Xe)return Xe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Te[Symbol.toPrimitive])return n.from(Te[Symbol.toPrimitive]("string"),fe,pe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+v(Te))}function d(Te){if("number"!=typeof Te)throw new TypeError('"size" argument must be of type number');if(Te<0)throw new RangeError('The value "'+Te+'" is invalid for option "size"')}function L(Te){return d(Te),w(Te<0?0:0|N(Te))}function k(Te){for(var fe=Te.length<0?0:0|N(Te.length),pe=w(fe),Fe=0;Fe<fe;Fe+=1)pe[Fe]=255&Te[Fe];return pe}function O(Te,fe,pe){if(fe<0||Te.byteLength<fe)throw new RangeError('"offset" is outside of buffer bounds');if(Te.byteLength<fe+(pe||0))throw new RangeError('"length" is outside of buffer bounds');var Fe;return Fe=void 0===fe&&void 0===pe?new Uint8Array(Te):void 0===pe?new Uint8Array(Te,fe):new Uint8Array(Te,fe,pe),Object.setPrototypeOf(Fe,n.prototype),Fe}function N(Te){if(Te>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return 0|Te}function X(Te,fe){if(n.isBuffer(Te))return Te.length;if(ArrayBuffer.isView(Te)||Ee(Te,ArrayBuffer))return Te.byteLength;if("string"!=typeof Te)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+v(Te));var pe=Te.length,Fe=arguments.length>2&&!0===arguments[2];if(!Fe&&0===pe)return 0;for(var Xe=!1;;)switch(fe){case"ascii":case"latin1":case"binary":return pe;case"utf8":case"utf-8":return xt(Te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*pe;case"hex":return pe>>>1;case"base64":return Je(Te).length;default:if(Xe)return Fe?-1:xt(Te).length;fe=(""+fe).toLowerCase(),Xe=!0}}function ne(Te,fe,pe){var Fe=!1;if((void 0===fe||fe<0)&&(fe=0),fe>this.length||((void 0===pe||pe>this.length)&&(pe=this.length),pe<=0)||(pe>>>=0)<=(fe>>>=0))return"";for(Te||(Te="utf8");;)switch(Te){case"hex":return we(this,fe,pe);case"utf8":case"utf-8":return Z(this,fe,pe);case"ascii":return se(this,fe,pe);case"latin1":case"binary":return de(this,fe,pe);case"base64":return Q(this,fe,pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,fe,pe);default:if(Fe)throw new TypeError("Unknown encoding: "+Te);Te=(Te+"").toLowerCase(),Fe=!0}}function ie(Te,fe,pe){var Fe=Te[fe];Te[fe]=Te[pe],Te[pe]=Fe}function ue(Te,fe,pe,Fe,Xe){if(0===Te.length)return-1;if("string"==typeof pe?(Fe=pe,pe=0):pe>2147483647?pe=2147483647:pe<-2147483648&&(pe=-2147483648),Re(pe=+pe)&&(pe=Xe?0:Te.length-1),pe<0&&(pe=Te.length+pe),pe>=Te.length){if(Xe)return-1;pe=Te.length-1}else if(pe<0){if(!Xe)return-1;pe=0}if("string"==typeof fe&&(fe=n.from(fe,Fe)),n.isBuffer(fe))return 0===fe.length?-1:J(Te,fe,pe,Fe,Xe);if("number"==typeof fe)return fe&=255,"function"==typeof Uint8Array.prototype.indexOf?Xe?Uint8Array.prototype.indexOf.call(Te,fe,pe):Uint8Array.prototype.lastIndexOf.call(Te,fe,pe):J(Te,[fe],pe,Fe,Xe);throw new TypeError("val must be string, number or Buffer")}function J(Te,fe,pe,Fe,Xe){var At,at=1,ft=Te.length,Xt=fe.length;if(void 0!==Fe&&("ucs2"===(Fe=String(Fe).toLowerCase())||"ucs-2"===Fe||"utf16le"===Fe||"utf-16le"===Fe)){if(Te.length<2||fe.length<2)return-1;at=2,ft/=2,Xt/=2,pe/=2}function rr(pt,$t){return 1===at?pt[$t]:pt.readUInt16BE($t*at)}if(Xe){var zt=-1;for(At=pe;At<ft;At++)if(rr(Te,At)===rr(fe,-1===zt?0:At-zt)){if(-1===zt&&(zt=At),At-zt+1===Xt)return zt*at}else-1!==zt&&(At-=At-zt),zt=-1}else for(pe+Xt>ft&&(pe=ft-Xt),At=pe;At>=0;At--){for(var Qt=!0,Rr=0;Rr<Xt;Rr++)if(rr(Te,At+Rr)!==rr(fe,Rr)){Qt=!1;break}if(Qt)return At}return-1}function j(Te,fe,pe,Fe){pe=Number(pe)||0;var Xe=Te.length-pe;Fe?(Fe=Number(Fe))>Xe&&(Fe=Xe):Fe=Xe;var ft,at=fe.length;for(Fe>at/2&&(Fe=at/2),ft=0;ft<Fe;++ft){var Xt=parseInt(fe.substr(2*ft,2),16);if(Re(Xt))return ft;Te[pe+ft]=Xt}return ft}function W(Te,fe,pe,Fe){return Ce(xt(fe,Te.length-pe),Te,pe,Fe)}function V(Te,fe,pe,Fe){return Ce(function bt(Te){for(var fe=[],pe=0;pe<Te.length;++pe)fe.push(255&Te.charCodeAt(pe));return fe}(fe),Te,pe,Fe)}function K(Te,fe,pe,Fe){return Ce(Je(fe),Te,pe,Fe)}function ae(Te,fe,pe,Fe){return Ce(function Ht(Te,fe){for(var pe,Fe,at=[],ft=0;ft<Te.length&&!((fe-=2)<0);++ft)Fe=(pe=Te.charCodeAt(ft))>>8,at.push(pe%256),at.push(Fe);return at}(fe,Te.length-pe),Te,pe,Fe)}function Q(Te,fe,pe){return A.fromByteArray(0===fe&&pe===Te.length?Te:Te.slice(fe,pe))}function Z(Te,fe,pe){pe=Math.min(Te.length,pe);for(var Fe=[],Xe=fe;Xe<pe;){var at=Te[Xe],ft=null,Xt=at>239?4:at>223?3:at>191?2:1;if(Xe+Xt<=pe){var rr=void 0,At=void 0,zt=void 0,Qt=void 0;switch(Xt){case 1:at<128&&(ft=at);break;case 2:128==(192&(rr=Te[Xe+1]))&&(Qt=(31&at)<<6|63&rr)>127&&(ft=Qt);break;case 3:At=Te[Xe+2],128==(192&(rr=Te[Xe+1]))&&128==(192&At)&&(Qt=(15&at)<<12|(63&rr)<<6|63&At)>2047&&(Qt<55296||Qt>57343)&&(ft=Qt);break;case 4:At=Te[Xe+2],zt=Te[Xe+3],128==(192&(rr=Te[Xe+1]))&&128==(192&At)&&128==(192&zt)&&(Qt=(15&at)<<18|(63&rr)<<12|(63&At)<<6|63&zt)>65535&&Qt<1114112&&(ft=Qt)}}null===ft?(ft=65533,Xt=1):ft>65535&&(Fe.push((ft-=65536)>>>10&1023|55296),ft=56320|1023&ft),Fe.push(ft),Xe+=Xt}return function q(Te){var fe=Te.length;if(fe<=re)return String.fromCharCode.apply(String,Te);for(var pe="",Fe=0;Fe<fe;)pe+=String.fromCharCode.apply(String,Te.slice(Fe,Fe+=re));return pe}(Fe)}!(n.TYPED_ARRAY_SUPPORT=function M(){try{var Te=new Uint8Array(1),fe={foo:function(){return 42}};return Object.setPrototypeOf(fe,Uint8Array.prototype),Object.setPrototypeOf(Te,fe),42===Te.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),n.poolSize=8192,n.from=function(Te,fe,pe){return S(Te,fe,pe)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(Te,fe,pe){return function I(Te,fe,pe){return d(Te),Te<=0?w(Te):void 0!==fe?"string"==typeof pe?w(Te).fill(fe,pe):w(Te).fill(fe):w(Te)}(Te,fe,pe)},n.allocUnsafe=function(Te){return L(Te)},n.allocUnsafeSlow=function(Te){return L(Te)},n.isBuffer=function(fe){return null!=fe&&!0===fe._isBuffer&&fe!==n.prototype},n.compare=function(fe,pe){if(Ee(fe,Uint8Array)&&(fe=n.from(fe,fe.offset,fe.byteLength)),Ee(pe,Uint8Array)&&(pe=n.from(pe,pe.offset,pe.byteLength)),!n.isBuffer(fe)||!n.isBuffer(pe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(fe===pe)return 0;for(var Fe=fe.length,Xe=pe.length,at=0,ft=Math.min(Fe,Xe);at<ft;++at)if(fe[at]!==pe[at]){Fe=fe[at],Xe=pe[at];break}return Fe<Xe?-1:Xe<Fe?1:0},n.isEncoding=function(fe){switch(String(fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(fe,pe){if(!Array.isArray(fe))throw new TypeError('"list" argument must be an Array of Buffers');if(0===fe.length)return n.alloc(0);var Fe;if(void 0===pe)for(pe=0,Fe=0;Fe<fe.length;++Fe)pe+=fe[Fe].length;var Xe=n.allocUnsafe(pe),at=0;for(Fe=0;Fe<fe.length;++Fe){var ft=fe[Fe];if(Ee(ft,Uint8Array))at+ft.length>Xe.length?(n.isBuffer(ft)||(ft=n.from(ft)),ft.copy(Xe,at)):Uint8Array.prototype.set.call(Xe,ft,at);else{if(!n.isBuffer(ft))throw new TypeError('"list" argument must be an Array of Buffers');ft.copy(Xe,at)}at+=ft.length}return Xe},n.byteLength=X,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var fe=this.length;if(fe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var pe=0;pe<fe;pe+=2)ie(this,pe,pe+1);return this},n.prototype.swap32=function(){var fe=this.length;if(fe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var pe=0;pe<fe;pe+=4)ie(this,pe,pe+3),ie(this,pe+1,pe+2);return this},n.prototype.swap64=function(){var fe=this.length;if(fe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var pe=0;pe<fe;pe+=8)ie(this,pe,pe+7),ie(this,pe+1,pe+6),ie(this,pe+2,pe+5),ie(this,pe+3,pe+4);return this},n.prototype.toString=function(){var fe=this.length;return 0===fe?"":0===arguments.length?Z(this,0,fe):ne.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(fe){if(!n.isBuffer(fe))throw new TypeError("Argument must be a Buffer");return this===fe||0===n.compare(this,fe)},n.prototype.inspect=function(){var fe="",pe=y.h2;return fe=this.toString("hex",0,pe).replace(/(.{2})/g,"$1 ").trim(),this.length>pe&&(fe+=" ... "),"<Buffer "+fe+">"},E&&(n.prototype[E]=n.prototype.inspect),n.prototype.compare=function(fe,pe,Fe,Xe,at){if(Ee(fe,Uint8Array)&&(fe=n.from(fe,fe.offset,fe.byteLength)),!n.isBuffer(fe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+v(fe));if(void 0===pe&&(pe=0),void 0===Fe&&(Fe=fe?fe.length:0),void 0===Xe&&(Xe=0),void 0===at&&(at=this.length),pe<0||Fe>fe.length||Xe<0||at>this.length)throw new RangeError("out of range index");if(Xe>=at&&pe>=Fe)return 0;if(Xe>=at)return-1;if(pe>=Fe)return 1;if(this===fe)return 0;for(var ft=(at>>>=0)-(Xe>>>=0),Xt=(Fe>>>=0)-(pe>>>=0),rr=Math.min(ft,Xt),At=this.slice(Xe,at),zt=fe.slice(pe,Fe),Qt=0;Qt<rr;++Qt)if(At[Qt]!==zt[Qt]){ft=At[Qt],Xt=zt[Qt];break}return ft<Xt?-1:Xt<ft?1:0},n.prototype.includes=function(fe,pe,Fe){return-1!==this.indexOf(fe,pe,Fe)},n.prototype.indexOf=function(fe,pe,Fe){return ue(this,fe,pe,Fe,!0)},n.prototype.lastIndexOf=function(fe,pe,Fe){return ue(this,fe,pe,Fe,!1)},n.prototype.write=function(fe,pe,Fe,Xe){if(void 0===pe)Xe="utf8",Fe=this.length,pe=0;else if(void 0===Fe&&"string"==typeof pe)Xe=pe,Fe=this.length,pe=0;else{if(!isFinite(pe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");pe>>>=0,isFinite(Fe)?(Fe>>>=0,void 0===Xe&&(Xe="utf8")):(Xe=Fe,Fe=void 0)}var at=this.length-pe;if((void 0===Fe||Fe>at)&&(Fe=at),fe.length>0&&(Fe<0||pe<0)||pe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Xe||(Xe="utf8");for(var ft=!1;;)switch(Xe){case"hex":return j(this,fe,pe,Fe);case"utf8":case"utf-8":return W(this,fe,pe,Fe);case"ascii":case"latin1":case"binary":return V(this,fe,pe,Fe);case"base64":return K(this,fe,pe,Fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,fe,pe,Fe);default:if(ft)throw new TypeError("Unknown encoding: "+Xe);Xe=(""+Xe).toLowerCase(),ft=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var re=4096;function se(Te,fe,pe){var Fe="";pe=Math.min(Te.length,pe);for(var Xe=fe;Xe<pe;++Xe)Fe+=String.fromCharCode(127&Te[Xe]);return Fe}function de(Te,fe,pe){var Fe="";pe=Math.min(Te.length,pe);for(var Xe=fe;Xe<pe;++Xe)Fe+=String.fromCharCode(Te[Xe]);return Fe}function we(Te,fe,pe){var Fe=Te.length;(!fe||fe<0)&&(fe=0),(!pe||pe<0||pe>Fe)&&(pe=Fe);for(var Xe="",at=fe;at<pe;++at)Xe+=ke[Te[at]];return Xe}function ye(Te,fe,pe){for(var Fe=Te.slice(fe,pe),Xe="",at=0;at<Fe.length-1;at+=2)Xe+=String.fromCharCode(Fe[at]+256*Fe[at+1]);return Xe}function Pe(Te,fe,pe){if(Te%1!=0||Te<0)throw new RangeError("offset is not uint");if(Te+fe>pe)throw new RangeError("Trying to access beyond buffer length")}function Ie(Te,fe,pe,Fe,Xe,at){if(!n.isBuffer(Te))throw new TypeError('"buffer" argument must be a Buffer instance');if(fe>Xe||fe<at)throw new RangeError('"value" argument is out of bounds');if(pe+Fe>Te.length)throw new RangeError("Index out of range")}function Se(Te,fe,pe,Fe,Xe){Be(fe,Fe,Xe,Te,pe,7);var at=Number(fe&BigInt(4294967295));Te[pe++]=at,Te[pe++]=at>>=8,Te[pe++]=at>>=8,Te[pe++]=at>>=8;var ft=Number(fe>>BigInt(32)&BigInt(4294967295));return Te[pe++]=ft,Te[pe++]=ft>>=8,Te[pe++]=ft>>=8,Te[pe++]=ft>>=8,pe}function xe(Te,fe,pe,Fe,Xe){Be(fe,Fe,Xe,Te,pe,7);var at=Number(fe&BigInt(4294967295));Te[pe+7]=at,Te[pe+6]=at>>=8,Te[pe+5]=at>>=8,Te[pe+4]=at>>=8;var ft=Number(fe>>BigInt(32)&BigInt(4294967295));return Te[pe+3]=ft,Te[pe+2]=ft>>=8,Te[pe+1]=ft>>=8,Te[pe]=ft>>=8,pe+8}function Me(Te,fe,pe,Fe,Xe,at){if(pe+Fe>Te.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("Index out of range")}function Ge(Te,fe,pe,Fe,Xe){return fe=+fe,pe>>>=0,Xe||Me(Te,0,pe,4),x.write(Te,fe,pe,Fe,23,4),pe+4}function Ye(Te,fe,pe,Fe,Xe){return fe=+fe,pe>>>=0,Xe||Me(Te,0,pe,8),x.write(Te,fe,pe,Fe,52,8),pe+8}n.prototype.slice=function(fe,pe){var Fe=this.length;(fe=~~fe)<0?(fe+=Fe)<0&&(fe=0):fe>Fe&&(fe=Fe),(pe=void 0===pe?Fe:~~pe)<0?(pe+=Fe)<0&&(pe=0):pe>Fe&&(pe=Fe),pe<fe&&(pe=fe);var Xe=this.subarray(fe,pe);return Object.setPrototypeOf(Xe,n.prototype),Xe},n.prototype.readUintLE=n.prototype.readUIntLE=function(fe,pe,Fe){fe>>>=0,pe>>>=0,Fe||Pe(fe,pe,this.length);for(var Xe=this[fe],at=1,ft=0;++ft<pe&&(at*=256);)Xe+=this[fe+ft]*at;return Xe},n.prototype.readUintBE=n.prototype.readUIntBE=function(fe,pe,Fe){fe>>>=0,pe>>>=0,Fe||Pe(fe,pe,this.length);for(var Xe=this[fe+--pe],at=1;pe>0&&(at*=256);)Xe+=this[fe+--pe]*at;return Xe},n.prototype.readUint8=n.prototype.readUInt8=function(fe,pe){return fe>>>=0,pe||Pe(fe,1,this.length),this[fe]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(fe,pe){return fe>>>=0,pe||Pe(fe,2,this.length),this[fe]|this[fe+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(fe,pe){return fe>>>=0,pe||Pe(fe,2,this.length),this[fe]<<8|this[fe+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(fe,pe){return fe>>>=0,pe||Pe(fe,4,this.length),(this[fe]|this[fe+1]<<8|this[fe+2]<<16)+16777216*this[fe+3]},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(fe,pe){return fe>>>=0,pe||Pe(fe,4,this.length),16777216*this[fe]+(this[fe+1]<<16|this[fe+2]<<8|this[fe+3])},n.prototype.readBigUInt64LE=Ne(function(fe){ze(fe>>>=0,"offset");var pe=this[fe],Fe=this[fe+7];(void 0===pe||void 0===Fe)&&tt(fe,this.length-8);var Xe=pe+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24),at=this[++fe]+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+Fe*Math.pow(2,24);return BigInt(Xe)+(BigInt(at)<<BigInt(32))}),n.prototype.readBigUInt64BE=Ne(function(fe){ze(fe>>>=0,"offset");var pe=this[fe],Fe=this[fe+7];(void 0===pe||void 0===Fe)&&tt(fe,this.length-8);var Xe=pe*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe],at=this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+Fe;return(BigInt(Xe)<<BigInt(32))+BigInt(at)}),n.prototype.readIntLE=function(fe,pe,Fe){fe>>>=0,pe>>>=0,Fe||Pe(fe,pe,this.length);for(var Xe=this[fe],at=1,ft=0;++ft<pe&&(at*=256);)Xe+=this[fe+ft]*at;return Xe>=(at*=128)&&(Xe-=Math.pow(2,8*pe)),Xe},n.prototype.readIntBE=function(fe,pe,Fe){fe>>>=0,pe>>>=0,Fe||Pe(fe,pe,this.length);for(var Xe=pe,at=1,ft=this[fe+--Xe];Xe>0&&(at*=256);)ft+=this[fe+--Xe]*at;return ft>=(at*=128)&&(ft-=Math.pow(2,8*pe)),ft},n.prototype.readInt8=function(fe,pe){return fe>>>=0,pe||Pe(fe,1,this.length),128&this[fe]?-1*(255-this[fe]+1):this[fe]},n.prototype.readInt16LE=function(fe,pe){fe>>>=0,pe||Pe(fe,2,this.length);var Fe=this[fe]|this[fe+1]<<8;return 32768&Fe?4294901760|Fe:Fe},n.prototype.readInt16BE=function(fe,pe){fe>>>=0,pe||Pe(fe,2,this.length);var Fe=this[fe+1]|this[fe]<<8;return 32768&Fe?4294901760|Fe:Fe},n.prototype.readInt32LE=function(fe,pe){return fe>>>=0,pe||Pe(fe,4,this.length),this[fe]|this[fe+1]<<8|this[fe+2]<<16|this[fe+3]<<24},n.prototype.readInt32BE=function(fe,pe){return fe>>>=0,pe||Pe(fe,4,this.length),this[fe]<<24|this[fe+1]<<16|this[fe+2]<<8|this[fe+3]},n.prototype.readBigInt64LE=Ne(function(fe){ze(fe>>>=0,"offset");var pe=this[fe],Fe=this[fe+7];(void 0===pe||void 0===Fe)&&tt(fe,this.length-8);var Xe=this[fe+4]+this[fe+5]*Math.pow(2,8)+this[fe+6]*Math.pow(2,16)+(Fe<<24);return(BigInt(Xe)<<BigInt(32))+BigInt(pe+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24))}),n.prototype.readBigInt64BE=Ne(function(fe){ze(fe>>>=0,"offset");var pe=this[fe],Fe=this[fe+7];(void 0===pe||void 0===Fe)&&tt(fe,this.length-8);var Xe=(pe<<24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe];return(BigInt(Xe)<<BigInt(32))+BigInt(this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+Fe)}),n.prototype.readFloatLE=function(fe,pe){return fe>>>=0,pe||Pe(fe,4,this.length),x.read(this,fe,!0,23,4)},n.prototype.readFloatBE=function(fe,pe){return fe>>>=0,pe||Pe(fe,4,this.length),x.read(this,fe,!1,23,4)},n.prototype.readDoubleLE=function(fe,pe){return fe>>>=0,pe||Pe(fe,8,this.length),x.read(this,fe,!0,52,8)},n.prototype.readDoubleBE=function(fe,pe){return fe>>>=0,pe||Pe(fe,8,this.length),x.read(this,fe,!1,52,8)},n.prototype.writeUintLE=n.prototype.writeUIntLE=function(fe,pe,Fe,Xe){fe=+fe,pe>>>=0,Fe>>>=0,Xe||Ie(this,fe,pe,Fe,Math.pow(2,8*Fe)-1,0);var ft=1,Xt=0;for(this[pe]=255&fe;++Xt<Fe&&(ft*=256);)this[pe+Xt]=fe/ft&255;return pe+Fe},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(fe,pe,Fe,Xe){fe=+fe,pe>>>=0,Fe>>>=0,Xe||Ie(this,fe,pe,Fe,Math.pow(2,8*Fe)-1,0);var ft=Fe-1,Xt=1;for(this[pe+ft]=255&fe;--ft>=0&&(Xt*=256);)this[pe+ft]=fe/Xt&255;return pe+Fe},n.prototype.writeUint8=n.prototype.writeUInt8=function(fe,pe,Fe){return fe=+fe,pe>>>=0,Fe||Ie(this,fe,pe,1,255,0),this[pe]=255&fe,pe+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(fe,pe,Fe){return fe=+fe,pe>>>=0,Fe||Ie(this,fe,pe,2,65535,0),this[pe]=255&fe,this[pe+1]=fe>>>8,pe+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(fe,pe,Fe){return fe=+fe,pe>>>=0,Fe||Ie(this,fe,pe,2,65535,0),this[pe]=fe>>>8,this[pe+1]=255&fe,pe+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(fe,pe,Fe){return fe=+fe,pe>>>=0,Fe||Ie(this,fe,pe,4,4294967295,0),this[pe+3]=fe>>>24,this[pe+2]=fe>>>16,this[pe+1]=fe>>>8,this[pe]=255&fe,pe+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(fe,pe,Fe){return fe=+fe,pe>>>=0,Fe||Ie(this,fe,pe,4,4294967295,0),this[pe]=fe>>>24,this[pe+1]=fe>>>16,this[pe+2]=fe>>>8,this[pe+3]=255&fe,pe+4},n.prototype.writeBigUInt64LE=Ne(function(fe){return Se(this,fe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=Ne(function(fe){return xe(this,fe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(fe,pe,Fe,Xe){if(fe=+fe,pe>>>=0,!Xe){var at=Math.pow(2,8*Fe-1);Ie(this,fe,pe,Fe,at-1,-at)}var ft=0,Xt=1,rr=0;for(this[pe]=255&fe;++ft<Fe&&(Xt*=256);)fe<0&&0===rr&&0!==this[pe+ft-1]&&(rr=1),this[pe+ft]=(fe/Xt>>0)-rr&255;return pe+Fe},n.prototype.writeIntBE=function(fe,pe,Fe,Xe){if(fe=+fe,pe>>>=0,!Xe){var at=Math.pow(2,8*Fe-1);Ie(this,fe,pe,Fe,at-1,-at)}var ft=Fe-1,Xt=1,rr=0;for(this[pe+ft]=255&fe;--ft>=0&&(Xt*=256);)fe<0&&0===rr&&0!==this[pe+ft+1]&&(rr=1),this[pe+ft]=(fe/Xt>>0)-rr&255;return pe+Fe},n.prototype.writeInt8=function(fe,pe,Fe){return fe=+fe,pe>>>=0,Fe||Ie(this,fe,pe,1,127,-128),fe<0&&(fe=255+fe+1),this[pe]=255&fe,pe+1},n.prototype.writeInt16LE=function(fe,pe,Fe){return fe=+fe,pe>>>=0,Fe||Ie(this,fe,pe,2,32767,-32768),this[pe]=255&fe,this[pe+1]=fe>>>8,pe+2},n.prototype.writeInt16BE=function(fe,pe,Fe){return fe=+fe,pe>>>=0,Fe||Ie(this,fe,pe,2,32767,-32768),this[pe]=fe>>>8,this[pe+1]=255&fe,pe+2},n.prototype.writeInt32LE=function(fe,pe,Fe){return fe=+fe,pe>>>=0,Fe||Ie(this,fe,pe,4,2147483647,-2147483648),this[pe]=255&fe,this[pe+1]=fe>>>8,this[pe+2]=fe>>>16,this[pe+3]=fe>>>24,pe+4},n.prototype.writeInt32BE=function(fe,pe,Fe){return fe=+fe,pe>>>=0,Fe||Ie(this,fe,pe,4,2147483647,-2147483648),fe<0&&(fe=4294967295+fe+1),this[pe]=fe>>>24,this[pe+1]=fe>>>16,this[pe+2]=fe>>>8,this[pe+3]=255&fe,pe+4},n.prototype.writeBigInt64LE=Ne(function(fe){return Se(this,fe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=Ne(function(fe){return xe(this,fe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeFloatLE=function(fe,pe,Fe){return Ge(this,fe,pe,!0,Fe)},n.prototype.writeFloatBE=function(fe,pe,Fe){return Ge(this,fe,pe,!1,Fe)},n.prototype.writeDoubleLE=function(fe,pe,Fe){return Ye(this,fe,pe,!0,Fe)},n.prototype.writeDoubleBE=function(fe,pe,Fe){return Ye(this,fe,pe,!1,Fe)},n.prototype.copy=function(fe,pe,Fe,Xe){if(!n.isBuffer(fe))throw new TypeError("argument should be a Buffer");if(Fe||(Fe=0),!Xe&&0!==Xe&&(Xe=this.length),pe>=fe.length&&(pe=fe.length),pe||(pe=0),Xe>0&&Xe<Fe&&(Xe=Fe),Xe===Fe||0===fe.length||0===this.length)return 0;if(pe<0)throw new RangeError("targetStart out of bounds");if(Fe<0||Fe>=this.length)throw new RangeError("Index out of range");if(Xe<0)throw new RangeError("sourceEnd out of bounds");Xe>this.length&&(Xe=this.length),fe.length-pe<Xe-Fe&&(Xe=fe.length-pe+Fe);var at=Xe-Fe;return this===fe&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(pe,Fe,Xe):Uint8Array.prototype.set.call(fe,this.subarray(Fe,Xe),pe),at},n.prototype.fill=function(fe,pe,Fe,Xe){if("string"==typeof fe){if("string"==typeof pe?(Xe=pe,pe=0,Fe=this.length):"string"==typeof Fe&&(Xe=Fe,Fe=this.length),void 0!==Xe&&"string"!=typeof Xe)throw new TypeError("encoding must be a string");if("string"==typeof Xe&&!n.isEncoding(Xe))throw new TypeError("Unknown encoding: "+Xe);if(1===fe.length){var at=fe.charCodeAt(0);("utf8"===Xe&&at<128||"latin1"===Xe)&&(fe=at)}}else"number"==typeof fe?fe&=255:"boolean"==typeof fe&&(fe=Number(fe));if(pe<0||this.length<pe||this.length<Fe)throw new RangeError("Out of range index");if(Fe<=pe)return this;var ft;if(pe>>>=0,Fe=void 0===Fe?this.length:Fe>>>0,fe||(fe=0),"number"==typeof fe)for(ft=pe;ft<Fe;++ft)this[ft]=fe;else{var Xt=n.isBuffer(fe)?fe:n.from(fe,Xe),rr=Xt.length;if(0===rr)throw new TypeError('The value "'+fe+'" is invalid for argument "value"');for(ft=0;ft<Fe-pe;++ft)this[ft+pe]=Xt[ft%rr]}return this};var De={};function He(Te,fe,pe){De[Te]=function(Fe){!function f(Te,fe){if("function"!=typeof fe&&null!==fe)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(fe&&fe.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),fe&&c(Te,fe)}(at,Fe);var Xe=m(at);function at(){var ft;return function l(Te,fe){if(!(Te instanceof fe))throw new TypeError("Cannot call a class as a function")}(this,at),ft=Xe.call(this),Object.defineProperty(b(ft),"message",{value:fe.apply(b(ft),arguments),writable:!0,configurable:!0}),ft.name="".concat(ft.name," [").concat(Te,"]"),delete ft.name,ft}return function u(Te,fe,pe){return fe&&i(Te.prototype,fe),pe&&i(Te,pe),Object.defineProperty(Te,"prototype",{writable:!1}),Te}(at,[{key:"code",get:function(){return Te},set:function(Xt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Xt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Te,"]: ").concat(this.message)}}]),at}(pe)}function rt(Te){for(var fe="",pe=Te.length,Fe="-"===Te[0]?1:0;pe>=Fe+4;pe-=3)fe="_".concat(Te.slice(pe-3,pe)).concat(fe);return"".concat(Te.slice(0,pe)).concat(fe)}function Be(Te,fe,pe,Fe,Xe,at){if(Te>pe||Te<fe){var Xt,ft="bigint"==typeof fe?"n":"";throw Xt=at>3?0===fe||fe===BigInt(0)?">= 0".concat(ft," and < 2").concat(ft," ** ").concat(8*(at+1)).concat(ft):">= -(2".concat(ft," ** ").concat(8*(at+1)-1).concat(ft,") and < 2 ** ")+"".concat(8*(at+1)-1).concat(ft):">= ".concat(fe).concat(ft," and <= ").concat(pe).concat(ft),new De.ERR_OUT_OF_RANGE("value",Xt,Te)}!function $e(Te,fe,pe){ze(fe,"offset"),(void 0===Te[fe]||void 0===Te[fe+pe])&&tt(fe,Te.length-(pe+1))}(Fe,Xe,at)}function ze(Te,fe){if("number"!=typeof Te)throw new De.ERR_INVALID_ARG_TYPE(fe,"number",Te)}function tt(Te,fe,pe){throw Math.floor(Te)!==Te?(ze(Te,pe),new De.ERR_OUT_OF_RANGE(pe||"offset","an integer",Te)):fe<0?new De.ERR_BUFFER_OUT_OF_BOUNDS:new De.ERR_OUT_OF_RANGE(pe||"offset",">= ".concat(pe?1:0," and <= ").concat(fe),Te)}He("ERR_BUFFER_OUT_OF_BOUNDS",function(Te){return Te?"".concat(Te," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(Te,fe){return'The "'.concat(Te,'" argument must be of type number. Received type ').concat(v(fe))},TypeError),He("ERR_OUT_OF_RANGE",function(Te,fe,pe){var Fe='The value of "'.concat(Te,'" is out of range.'),Xe=pe;return Number.isInteger(pe)&&Math.abs(pe)>Math.pow(2,32)?Xe=rt(String(pe)):"bigint"==typeof pe&&(Xe=String(pe),(pe>Math.pow(BigInt(2),BigInt(32))||pe<-Math.pow(BigInt(2),BigInt(32)))&&(Xe=rt(Xe)),Xe+="n"),Fe+" It must be ".concat(fe,". Received ").concat(Xe)},RangeError);var lt=/[^+/0-9A-Za-z-_]/g;function xt(Te,fe){fe=fe||1/0;for(var pe,Fe=Te.length,Xe=null,at=[],ft=0;ft<Fe;++ft){if((pe=Te.charCodeAt(ft))>55295&&pe<57344){if(!Xe){if(pe>56319){(fe-=3)>-1&&at.push(239,191,189);continue}if(ft+1===Fe){(fe-=3)>-1&&at.push(239,191,189);continue}Xe=pe;continue}if(pe<56320){(fe-=3)>-1&&at.push(239,191,189),Xe=pe;continue}pe=65536+(Xe-55296<<10|pe-56320)}else Xe&&(fe-=3)>-1&&at.push(239,191,189);if(Xe=null,pe<128){if((fe-=1)<0)break;at.push(pe)}else if(pe<2048){if((fe-=2)<0)break;at.push(pe>>6|192,63&pe|128)}else if(pe<65536){if((fe-=3)<0)break;at.push(pe>>12|224,pe>>6&63|128,63&pe|128)}else{if(!(pe<1114112))throw new Error("Invalid code point");if((fe-=4)<0)break;at.push(pe>>18|240,pe>>12&63|128,pe>>6&63|128,63&pe|128)}}return at}function Je(Te){return A.toByteArray(function ut(Te){if((Te=(Te=Te.split("=")[0]).trim().replace(lt,"")).length<2)return"";for(;Te.length%4!=0;)Te+="=";return Te}(Te))}function Ce(Te,fe,pe,Fe){var Xe;for(Xe=0;Xe<Fe&&!(Xe+pe>=fe.length||Xe>=Te.length);++Xe)fe[Xe+pe]=Te[Xe];return Xe}function Ee(Te,fe){return Te instanceof fe||null!=Te&&null!=Te.constructor&&null!=Te.constructor.name&&Te.constructor.name===fe.name}function Re(Te){return Te!=Te}var ke=function(){for(var Te="0123456789abcdef",fe=new Array(256),pe=0;pe<16;++pe)for(var Fe=16*pe,Xe=0;Xe<16;++Xe)fe[Fe+Xe]=Te[pe]+Te[Xe];return fe}();function Ne(Te){return typeof BigInt>"u"?_e:Te}function _e(){throw new Error("BigInt not supported")}},2321:function(h){"use strict";h.exports=l,h.exports.isMobile=l,h.exports.default=l;var y=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,r=/android|ipad|playbook|silk/i;function l(i){i||(i={});var u=i.ua;if(!u&&typeof navigator<"u"&&(u=navigator.userAgent),u&&u.headers&&"string"==typeof u.headers["user-agent"]&&(u=u.headers["user-agent"]),"string"!=typeof u)return!1;var f=y.test(u)&&!t.test(u)||!!i.tablet&&r.test(u);return!f&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==u.indexOf("Macintosh")&&-1!==u.indexOf("Safari")&&(f=!0),f}},3910:function(h,y){"use strict";y.byteLength=function m(A){var x=c(A),g=x[1];return 3*(x[0]+g)/4-g},y.toByteArray=function b(A){var x,d,E=c(A),g=E[0],M=E[1],w=new l(function a(A,x,E){return 3*(x+E)/4-E}(0,g,M)),n=0,S=M>0?g-4:g;for(d=0;d<S;d+=4)x=r[A.charCodeAt(d)]<<18|r[A.charCodeAt(d+1)]<<12|r[A.charCodeAt(d+2)]<<6|r[A.charCodeAt(d+3)],w[n++]=x>>16&255,w[n++]=x>>8&255,w[n++]=255&x;return 2===M&&(x=r[A.charCodeAt(d)]<<2|r[A.charCodeAt(d+1)]>>4,w[n++]=255&x),1===M&&(x=r[A.charCodeAt(d)]<<10|r[A.charCodeAt(d+1)]<<4|r[A.charCodeAt(d+2)]>>2,w[n++]=x>>8&255,w[n++]=255&x),w},y.fromByteArray=function v(A){for(var x,E=A.length,g=E%3,M=[],w=16383,n=0,S=E-g;n<S;n+=w)M.push(s(A,n,n+w>S?S:n+w));return 1===g?M.push(t[(x=A[E-1])>>2]+t[x<<4&63]+"=="):2===g&&M.push(t[(x=(A[E-2]<<8)+A[E-1])>>10]+t[x>>4&63]+t[x<<2&63]+"="),M.join("")};for(var t=[],r=[],l=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0;u<64;++u)t[u]=i[u],r[i.charCodeAt(u)]=u;function c(A){var x=A.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=A.indexOf("=");return-1===E&&(E=x),[E,E===x?0:4-E%4]}function p(A){return t[A>>18&63]+t[A>>12&63]+t[A>>6&63]+t[63&A]}function s(A,x,E){for(var M=[],w=x;w<E;w+=3)M.push(p((A[w]<<16&16711680)+(A[w+1]<<8&65280)+(255&A[w+2])));return M.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},3187:function(h,y){y.read=function(t,r,l,i,u){var f,c,m=8*u-i-1,a=(1<<m)-1,b=a>>1,p=-7,s=l?u-1:0,v=l?-1:1,A=t[r+s];for(s+=v,f=A&(1<<-p)-1,A>>=-p,p+=m;p>0;f=256*f+t[r+s],s+=v,p-=8);for(c=f&(1<<-p)-1,f>>=-p,p+=i;p>0;c=256*c+t[r+s],s+=v,p-=8);if(0===f)f=1-b;else{if(f===a)return c?NaN:1/0*(A?-1:1);c+=Math.pow(2,i),f-=b}return(A?-1:1)*c*Math.pow(2,f-i)},y.write=function(t,r,l,i,u,f){var c,m,a,b=8*f-u-1,p=(1<<b)-1,s=p>>1,v=23===u?Math.pow(2,-24)-Math.pow(2,-77):0,A=i?0:f-1,x=i?1:-1,E=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(m=isNaN(r)?1:0,c=p):(c=Math.floor(Math.log(r)/Math.LN2),r*(a=Math.pow(2,-c))<1&&(c--,a*=2),(r+=c+s>=1?v/a:v*Math.pow(2,1-s))*a>=2&&(c++,a/=2),c+s>=p?(m=0,c=p):c+s>=1?(m=(r*a-1)*Math.pow(2,u),c+=s):(m=r*Math.pow(2,s-1)*Math.pow(2,u),c=0));u>=8;t[l+A]=255&m,A+=x,m/=256,u-=8);for(c=c<<u|m,b+=u;b>0;t[l+A]=255&c,A+=x,c/=256,b-=8);t[l+A-x]|=128*E}},1152:function(h,y,t){"use strict";h.exports=function c(m){var a=(m=m||{}).eye||[0,0,1],b=m.center||[0,0,0],p=m.up||[0,1,0],s=m.distanceLimits||[0,1/0],v=m.mode||"turntable",A=r(),x=l(),E=i();return A.setDistanceLimits(s[0],s[1]),A.lookAt(0,a,b,p),x.setDistanceLimits(s[0],s[1]),x.lookAt(0,a,b,p),E.setDistanceLimits(s[0],s[1]),E.lookAt(0,a,b,p),new u({turntable:A,orbit:x,matrix:E},v)};var r=t(3440),l=t(7774),i=t(9298);function u(m,a){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(b){return m[b]}),this._mode=a,this._active=m[a],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var f=u.prototype;f.flush=function(m){for(var a=this._controllerList,b=0;b<a.length;++b)a[b].flush(m)},f.idle=function(m){for(var a=this._controllerList,b=0;b<a.length;++b)a[b].idle(m)},f.lookAt=function(m,a,b,p){for(var s=this._controllerList,v=0;v<s.length;++v)s[v].lookAt(m,a,b,p)},f.rotate=function(m,a,b,p){for(var s=this._controllerList,v=0;v<s.length;++v)s[v].rotate(m,a,b,p)},f.pan=function(m,a,b,p){for(var s=this._controllerList,v=0;v<s.length;++v)s[v].pan(m,a,b,p)},f.translate=function(m,a,b,p){for(var s=this._controllerList,v=0;v<s.length;++v)s[v].translate(m,a,b,p)},f.setMatrix=function(m,a){for(var b=this._controllerList,p=0;p<b.length;++p)b[p].setMatrix(m,a)},f.setDistanceLimits=function(m,a){for(var b=this._controllerList,p=0;p<b.length;++p)b[p].setDistanceLimits(m,a)},f.setDistance=function(m,a){for(var b=this._controllerList,p=0;p<b.length;++p)b[p].setDistance(m,a)},f.recalcMatrix=function(m){this._active.recalcMatrix(m)},f.getDistance=function(m){return this._active.getDistance(m)},f.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},f.lastT=function(){return this._active.lastT()},f.setMode=function(m){if(m!==this._mode){var a=this._controllerNames.indexOf(m);if(!(a<0)){var b=this._active,p=this._controllerList[a],s=Math.max(b.lastT(),p.lastT());b.recalcMatrix(s),p.setMatrix(s,b.computedMatrix),this._active=p,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},f.getMode=function(){return this._mode}},8126:function(h,y,t){"use strict";var r=typeof WeakMap>"u"?t(5346):WeakMap,l=t(5827),i=t(2944),u=new r;h.exports=function f(c){var m=u.get(c),a=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!a||!c.isBuffer(a)){var b=l(c,new Float32Array([-1,-1,-1,4,4,-1]));(m=i(c,[{buffer:b,type:c.FLOAT,size:2}]))._triangleBuffer=b,u.set(c,m)}m.bind(),c.drawArrays(c.TRIANGLES,0,3),m.unbind()}},8008:function(h,y,t){var r=t(4930);h.exports=function l(i,u,f){u="number"==typeof u?u:1,f=f||": ";var c=i.split(/\r?\n/),m=String(c.length+u-1).length;return c.map(function(a,b){var p=b+u,s=String(p).length;return r(p,m-s)+f+a}).join("\n")}},2153:function(h,y,t){"use strict";h.exports=function i(u){var f=u.length;if(0===f)return[];if(1===f)return[0];for(var c=u[0].length,m=[u[0]],a=[0],b=1;b<f;++b)if(m.push(u[b]),l(m,c)){if(a.push(b),a.length===c+1)return a}else m.pop();return a};var r=t(417);function l(u,f){for(var c=new Array(f+1),m=0;m<u.length;++m)c[m]=u[m];for(m=0;m<=u.length;++m){for(var a=u.length;a<=f;++a){for(var b=new Array(f),p=0;p<f;++p)b[p]=Math.pow(a+1-m,p);c[a]=b}if(r.apply(void 0,c))return!0}return!1}},4653:function(h,y,t){"use strict";h.exports=function i(u,f){return r(f).filter(function(c){for(var m=new Array(c.length),a=0;a<c.length;++a)m[a]=f[c[a]];return l(m)*u<1})};var r=t(4419),l=t(1778)},2350:function(h,y,t){h.exports=function i(u,f){return l(r(u,f))};var r=t(4653),l=t(8691)},7896:function(h){h.exports=function(t){return atob(t)}},957:function(h,y,t){"use strict";h.exports=function i(u,f){for(var c=f.length,m=new Array(c+1),a=0;a<c;++a){for(var b=new Array(c+1),p=0;p<=c;++p)b[p]=u[p][a];m[a]=b}for(m[c]=new Array(c+1),a=0;a<=c;++a)m[c][a]=1;var s=new Array(c+1);for(a=0;a<c;++a)s[a]=f[a];s[c]=1;var v=r(m,s),A=l(v[c+1]);0===A&&(A=1);var x=new Array(c+1);for(a=0;a<=c;++a)x[a]=l(v[a])/A;return x};var r=t(6606);function l(u){for(var f=0,c=0;c<u.length;++c)f+=u[c];return f}},1539:function(h,y,t){"use strict";var r=t(8524);h.exports=function l(i,u){return r(i[0].mul(u[1]).add(u[0].mul(i[1])),i[1].mul(u[1]))}},8846:function(h){"use strict";h.exports=function y(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}},9189:function(h,y,t){"use strict";var r=t(8524);h.exports=function l(i,u){return r(i[0].mul(u[1]),i[1].mul(u[0]))}},5125:function(h,y,t){"use strict";var r=t(234),l=t(3218),i=t(5514),u=t(2813),f=t(8524),c=t(9189);h.exports=function m(a,b){if(r(a))return b?c(a,m(b)):[a[0].clone(),a[1].clone()];var s,v,p=0;if(l(a))s=a.clone();else if("string"==typeof a)s=u(a);else{if(0===a)return[i(0),i(1)];if(a===Math.floor(a))s=i(a);else{for(;a!==Math.floor(a);)a*=Math.pow(2,256),p-=256;s=i(a)}}if(r(b))s.mul(b[1]),v=b[0].clone();else if(l(b))v=b.clone();else if("string"==typeof b)v=u(b);else if(b)if(b===Math.floor(b))v=i(b);else{for(;b!==Math.floor(b);)b*=Math.pow(2,256),p+=256;v=i(b)}else v=i(1);return p>0?s=s.ushln(p):p<0&&(v=v.ushln(-p)),f(s,v)}},234:function(h,y,t){"use strict";var r=t(3218);h.exports=function l(i){return Array.isArray(i)&&2===i.length&&r(i[0])&&r(i[1])}},4275:function(h,y,t){"use strict";var r=t(1928);h.exports=function l(i){return i.cmp(new r(0))}},9958:function(h,y,t){"use strict";var r=t(4275);h.exports=function l(i){var u=i.length,f=i.words,c=0;if(1===u)c=f[0];else if(2===u)c=f[0]+67108864*f[1];else for(var m=0;m<u;m++)c+=f[m]*Math.pow(67108864,m);return r(i)*c}},1112:function(h,y,t){"use strict";var r=t(8362),l=t(2288).countTrailingZeros;h.exports=function i(u){var f=l(r.lo(u));if(f<32)return f;var c=l(r.hi(u));return c>20?52:c+32}},3218:function(h,y,t){"use strict";t(1928),h.exports=function l(i){return i&&"object"==typeof i&&!!i.words}},5514:function(h,y,t){"use strict";var r=t(1928),l=t(8362);h.exports=function i(u){var f=l.exponent(u);return f<52?new r(u):new r(u*Math.pow(2,52-f)).ushln(f-52)}},8524:function(h,y,t){"use strict";var r=t(5514),l=t(4275);h.exports=function i(u,f){var c=l(u),m=l(f);if(0===c)return[r(0),r(1)];if(0===m)return[r(0),r(0)];m<0&&(u=u.neg(),f=f.neg());var a=u.gcd(f);return a.cmpn(1)?[u.div(a),f.div(a)]:[u,f]}},2813:function(h,y,t){"use strict";var r=t(1928);h.exports=function l(i){return new r(i)}},3962:function(h,y,t){"use strict";var r=t(8524);h.exports=function l(i,u){return r(i[0].mul(u[0]),i[1].mul(u[1]))}},4951:function(h,y,t){"use strict";var r=t(4275);h.exports=function l(i){return r(i[0])*r(i[1])}},4354:function(h,y,t){"use strict";var r=t(8524);h.exports=function l(i,u){return r(i[0].mul(u[1]).sub(i[1].mul(u[0])),i[1].mul(u[1]))}},7999:function(h,y,t){"use strict";var r=t(9958),l=t(1112);h.exports=function i(u){var f=u[0],c=u[1];if(0===f.cmpn(0))return 0;var m=f.abs().divmod(c.abs()),b=r(m.div),p=m.mod,s=f.negative!==c.negative?-1:1;if(0===p.cmpn(0))return s*b;if(b){var v=l(b)+4;return s*(b+(A=r(p.ushln(v).divRound(c)))*Math.pow(2,-v))}var x=c.bitLength()-p.bitLength()+53,A=r(p.ushln(x).divRound(c));return x<1023?s*A*Math.pow(2,-x):s*(A*=Math.pow(2,-1023))*Math.pow(2,1023-x)}},5070:function(h){"use strict";function y(f,c,m,a,b){for(var p=b+1;a<=b;){var s=a+b>>>1,v=f[s];(void 0!==m?m(v,c):v-c)>=0?(p=s,b=s-1):a=s+1}return p}function t(f,c,m,a,b){for(var p=b+1;a<=b;){var s=a+b>>>1,v=f[s];(void 0!==m?m(v,c):v-c)>0?(p=s,b=s-1):a=s+1}return p}function r(f,c,m,a,b){for(var p=a-1;a<=b;){var s=a+b>>>1,v=f[s];(void 0!==m?m(v,c):v-c)<0?(p=s,a=s+1):b=s-1}return p}function l(f,c,m,a,b){for(var p=a-1;a<=b;){var s=a+b>>>1,v=f[s];(void 0!==m?m(v,c):v-c)<=0?(p=s,a=s+1):b=s-1}return p}function i(f,c,m,a,b){for(;a<=b;){var p=a+b>>>1,s=f[p],v=void 0!==m?m(s,c):s-c;if(0===v)return p;v<=0?a=p+1:b=p-1}return-1}function u(f,c,m,a,b,p){return"function"==typeof m?p(f,c,m,void 0===a?0:0|a,void 0===b?f.length-1:0|b):p(f,c,void 0,void 0===m?0:0|m,void 0===a?f.length-1:0|a)}h.exports={ge:function(f,c,m,a,b){return u(f,c,m,a,b,y)},gt:function(f,c,m,a,b){return u(f,c,m,a,b,t)},lt:function(f,c,m,a,b){return u(f,c,m,a,b,r)},le:function(f,c,m,a,b){return u(f,c,m,a,b,l)},eq:function(f,c,m,a,b){return u(f,c,m,a,b,i)}}},2288:function(h,y){"use strict";function r(i){var u=32;return(i&=-i)&&u--,65535&i&&(u-=16),16711935&i&&(u-=8),252645135&i&&(u-=4),858993459&i&&(u-=2),1431655765&i&&(u-=1),u}y.INT_BITS=32,y.INT_MAX=2147483647,y.INT_MIN=-1<<31,y.sign=function(i){return(i>0)-(i<0)},y.abs=function(i){var u=i>>31;return(i^u)-u},y.min=function(i,u){return u^(i^u)&-(i<u)},y.max=function(i,u){return i^(i^u)&-(i<u)},y.isPow2=function(i){return!(i&i-1||!i)},y.log2=function(i){var u,f;return u=(i>65535)<<4,u|=f=((i>>>=u)>255)<<3,u|=f=((i>>>=f)>15)<<2,(u|=f=((i>>>=f)>3)<<1)|(i>>>=f)>>1},y.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},y.popCount=function(i){return 16843009*((i=(858993459&(i-=i>>>1&1431655765))+(i>>>2&858993459))+(i>>>4)&252645135)>>>24},y.countTrailingZeros=r,y.nextPow2=function(i){return i+=0===i,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,1+((i|=i>>>8)|i>>>16)},y.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,(i|=i>>>16)-(i>>>1)},y.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,27030>>>(i&=15)&1};var l=new Array(256);(function(i){for(var u=0;u<256;++u){var f=u,c=u,m=7;for(f>>>=1;f;f>>>=1)c<<=1,c|=1&f,--m;i[u]=c<<m&255}})(l),y.reverse=function(i){return l[255&i]<<24|l[i>>>8&255]<<16|l[i>>>16&255]<<8|l[i>>>24&255]},y.interleave2=function(i,u){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i&=65535)|i<<8))|i<<4))|i<<2))|i<<1))|(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u&=65535)|u<<8))|u<<4))|u<<2))|u<<1))<<1},y.deinterleave2=function(i,u){return(i=65535&((i=16711935&((i=252645135&((i=858993459&((i=i>>>u&1431655765)|i>>>1))|i>>>2))|i>>>4))|i>>>16))<<16>>16},y.interleave3=function(i,u,f){return i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2),(i|=(u=1227133513&((u=3272356035&((u=251719695&((u=4278190335&((u&=1023)|u<<16))|u<<8))|u<<4))|u<<2))<<1)|(f=1227133513&((f=3272356035&((f=251719695&((f=4278190335&((f&=1023)|f<<16))|f<<8))|f<<4))|f<<2))<<2},y.deinterleave3=function(i,u){return(i=1023&((i=4278190335&((i=251719695&((i=3272356035&((i=i>>>u&1227133513)|i>>>2))|i>>>4))|i>>>8))|i>>>16))<<22>>22},y.nextCombination=function(i){var u=i|i-1;return u+1|(~u&-~u)-1>>>r(i)+1}},1928:function(h,y,t){!function(r,l){"use strict";function i(O,F){if(!O)throw new Error(F||"Assertion failed")}function u(O,F){O.super_=F;var N=function(){};N.prototype=F.prototype,O.prototype=new N,O.prototype.constructor=O}function f(O,F,N){if(f.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,null!==O&&(("le"===F||"be"===F)&&(N=F,F=10),this._init(O||0,F||10,N||"be"))}var c;"object"==typeof r?r.exports=f:l.BN=f,f.BN=f,f.wordSize=26;try{c=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:t(6601).Buffer}catch{}function m(O,F){var N=O.charCodeAt(F);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function a(O,F,N){var H=m(O,N);return N-1>=F&&(H|=m(O,N-1)<<4),H}function b(O,F,N,H){for(var X=0,ne=Math.min(O.length,N),ie=F;ie<ne;ie++){var ue=O.charCodeAt(ie)-48;X*=H,X+=ue>=49?ue-49+10:ue>=17?ue-17+10:ue}return X}f.isBN=function(F){return F instanceof f||null!==F&&"object"==typeof F&&F.constructor.wordSize===f.wordSize&&Array.isArray(F.words)},f.max=function(F,N){return F.cmp(N)>0?F:N},f.min=function(F,N){return F.cmp(N)<0?F:N},f.prototype._init=function(F,N,H){if("number"==typeof F)return this._initNumber(F,N,H);if("object"==typeof F)return this._initArray(F,N,H);"hex"===N&&(N=16),i(N===(0|N)&&N>=2&&N<=36);var X=0;"-"===(F=F.toString().replace(/\s+/g,""))[0]&&(X++,this.negative=1),X<F.length&&(16===N?this._parseHex(F,X,H):(this._parseBase(F,N,X),"le"===H&&this._initArray(this.toArray(),N,H)))},f.prototype._initNumber=function(F,N,H){F<0&&(this.negative=1,F=-F),F<67108864?(this.words=[67108863&F],this.length=1):F<4503599627370496?(this.words=[67108863&F,F/67108864&67108863],this.length=2):(i(F<9007199254740992),this.words=[67108863&F,F/67108864&67108863,1],this.length=3),"le"===H&&this._initArray(this.toArray(),N,H)},f.prototype._initArray=function(F,N,H){if(i("number"==typeof F.length),F.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(F.length/3),this.words=new Array(this.length);for(var X=0;X<this.length;X++)this.words[X]=0;var ne,ie,ue=0;if("be"===H)for(X=F.length-1,ne=0;X>=0;X-=3)this.words[ne]|=(ie=F[X]|F[X-1]<<8|F[X-2]<<16)<<ue&67108863,this.words[ne+1]=ie>>>26-ue&67108863,(ue+=24)>=26&&(ue-=26,ne++);else if("le"===H)for(X=0,ne=0;X<F.length;X+=3)this.words[ne]|=(ie=F[X]|F[X+1]<<8|F[X+2]<<16)<<ue&67108863,this.words[ne+1]=ie>>>26-ue&67108863,(ue+=24)>=26&&(ue-=26,ne++);return this.strip()},f.prototype._parseHex=function(F,N,H){this.length=Math.ceil((F.length-N)/6),this.words=new Array(this.length);for(var X=0;X<this.length;X++)this.words[X]=0;var ue,ne=0,ie=0;if("be"===H)for(X=F.length-1;X>=N;X-=2)ue=a(F,N,X)<<ne,this.words[ie]|=67108863&ue,ne>=18?(ne-=18,this.words[ie+=1]|=ue>>>26):ne+=8;else for(X=(F.length-N)%2==0?N+1:N;X<F.length;X+=2)ue=a(F,N,X)<<ne,this.words[ie]|=67108863&ue,ne>=18?(ne-=18,this.words[ie+=1]|=ue>>>26):ne+=8;this.strip()},f.prototype._parseBase=function(F,N,H){this.words=[0],this.length=1;for(var X=0,ne=1;ne<=67108863;ne*=N)X++;X--,ne=ne/N|0;for(var ie=F.length-H,ue=ie%X,J=Math.min(ie,ie-ue)+H,j=0,W=H;W<J;W+=X)j=b(F,W,W+X,N),this.imuln(ne),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(0!==ue){var V=1;for(j=b(F,W,F.length,N),W=0;W<ue;W++)V*=N;this.imuln(V),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this.strip()},f.prototype.copy=function(F){F.words=new Array(this.length);for(var N=0;N<this.length;N++)F.words[N]=this.words[N];F.length=this.length,F.negative=this.negative,F.red=this.red},f.prototype.clone=function(){var F=new f(null);return this.copy(F),F},f.prototype._expand=function(F){for(;this.length<F;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},f.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],s=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(O,F,N){N.negative=F.negative^O.negative;var H=O.length+F.length|0;N.length=H,H=H-1|0;var X=0|O.words[0],ne=0|F.words[0],ie=X*ne,J=ie/67108864|0;N.words[0]=67108863&ie;for(var j=1;j<H;j++){for(var W=J>>>26,V=67108863&J,K=Math.min(j,F.length-1),ae=Math.max(0,j-O.length+1);ae<=K;ae++)W+=(ie=(X=0|O.words[j-ae|0])*(ne=0|F.words[ae])+V)/67108864|0,V=67108863&ie;N.words[j]=0|V,J=0|W}return 0!==J?N.words[j]=0|J:N.length--,N.strip()}f.prototype.toString=function(F,N){var H;if(N=0|N||1,16===(F=F||10)||"hex"===F){H="";for(var X=0,ne=0,ie=0;ie<this.length;ie++){var ue=this.words[ie],J=(16777215&(ue<<X|ne)).toString(16);H=0!=(ne=ue>>>24-X&16777215)||ie!==this.length-1?p[6-J.length]+J+H:J+H,(X+=2)>=26&&(X-=26,ie--)}for(0!==ne&&(H=ne.toString(16)+H);H.length%N!=0;)H="0"+H;return 0!==this.negative&&(H="-"+H),H}if(F===(0|F)&&F>=2&&F<=36){var j=s[F],W=v[F];H="";var V=this.clone();for(V.negative=0;!V.isZero();){var K=V.modn(W).toString(F);H=(V=V.idivn(W)).isZero()?K+H:p[j-K.length]+K+H}for(this.isZero()&&(H="0"+H);H.length%N!=0;)H="0"+H;return 0!==this.negative&&(H="-"+H),H}i(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var F=this.words[0];return 2===this.length?F+=67108864*this.words[1]:3===this.length&&1===this.words[2]?F+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-F:F},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(F,N){return i(typeof c<"u"),this.toArrayLike(c,F,N)},f.prototype.toArray=function(F,N){return this.toArrayLike(Array,F,N)},f.prototype.toArrayLike=function(F,N,H){var X=this.byteLength(),ne=H||Math.max(1,X);i(X<=ne,"byte array longer than desired length"),i(ne>0,"Requested array length <= 0"),this.strip();var J,j,ie="le"===N,ue=new F(ne),W=this.clone();if(ie){for(j=0;!W.isZero();j++)J=W.andln(255),W.iushrn(8),ue[j]=J;for(;j<ne;j++)ue[j]=0}else{for(j=0;j<ne-X;j++)ue[j]=0;for(j=0;!W.isZero();j++)J=W.andln(255),W.iushrn(8),ue[ne-j-1]=J}return ue},f.prototype._countBits=Math.clz32?function(F){return 32-Math.clz32(F)}:function(F){var N=F,H=0;return N>=4096&&(H+=13,N>>>=13),N>=64&&(H+=7,N>>>=7),N>=8&&(H+=4,N>>>=4),N>=2&&(H+=2,N>>>=2),H+N},f.prototype._zeroBits=function(F){if(0===F)return 26;var N=F,H=0;return 8191&N||(H+=13,N>>>=13),127&N||(H+=7,N>>>=7),15&N||(H+=4,N>>>=4),3&N||(H+=2,N>>>=2),1&N||H++,H},f.prototype.bitLength=function(){var N=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+N},f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var F=0,N=0;N<this.length;N++){var H=this._zeroBits(this.words[N]);if(F+=H,26!==H)break}return F},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(F){return 0!==this.negative?this.abs().inotn(F).iaddn(1):this.clone()},f.prototype.fromTwos=function(F){return this.testn(F-1)?this.notn(F).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return 0!==this.negative},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(F){for(;this.length<F.length;)this.words[this.length++]=0;for(var N=0;N<F.length;N++)this.words[N]=this.words[N]|F.words[N];return this.strip()},f.prototype.ior=function(F){return i(0==(this.negative|F.negative)),this.iuor(F)},f.prototype.or=function(F){return this.length>F.length?this.clone().ior(F):F.clone().ior(this)},f.prototype.uor=function(F){return this.length>F.length?this.clone().iuor(F):F.clone().iuor(this)},f.prototype.iuand=function(F){var N;N=this.length>F.length?F:this;for(var H=0;H<N.length;H++)this.words[H]=this.words[H]&F.words[H];return this.length=N.length,this.strip()},f.prototype.iand=function(F){return i(0==(this.negative|F.negative)),this.iuand(F)},f.prototype.and=function(F){return this.length>F.length?this.clone().iand(F):F.clone().iand(this)},f.prototype.uand=function(F){return this.length>F.length?this.clone().iuand(F):F.clone().iuand(this)},f.prototype.iuxor=function(F){var N,H;this.length>F.length?(N=this,H=F):(N=F,H=this);for(var X=0;X<H.length;X++)this.words[X]=N.words[X]^H.words[X];if(this!==N)for(;X<N.length;X++)this.words[X]=N.words[X];return this.length=N.length,this.strip()},f.prototype.ixor=function(F){return i(0==(this.negative|F.negative)),this.iuxor(F)},f.prototype.xor=function(F){return this.length>F.length?this.clone().ixor(F):F.clone().ixor(this)},f.prototype.uxor=function(F){return this.length>F.length?this.clone().iuxor(F):F.clone().iuxor(this)},f.prototype.inotn=function(F){i("number"==typeof F&&F>=0);var N=0|Math.ceil(F/26),H=F%26;this._expand(N),H>0&&N--;for(var X=0;X<N;X++)this.words[X]=67108863&~this.words[X];return H>0&&(this.words[X]=~this.words[X]&67108863>>26-H),this.strip()},f.prototype.notn=function(F){return this.clone().inotn(F)},f.prototype.setn=function(F,N){i("number"==typeof F&&F>=0);var H=F/26|0,X=F%26;return this._expand(H+1),this.words[H]=N?this.words[H]|1<<X:this.words[H]&~(1<<X),this.strip()},f.prototype.iadd=function(F){var N,H,X;if(0!==this.negative&&0===F.negative)return this.negative=0,N=this.isub(F),this.negative^=1,this._normSign();if(0===this.negative&&0!==F.negative)return F.negative=0,N=this.isub(F),F.negative=1,N._normSign();this.length>F.length?(H=this,X=F):(H=F,X=this);for(var ne=0,ie=0;ie<X.length;ie++)this.words[ie]=67108863&(N=(0|H.words[ie])+(0|X.words[ie])+ne),ne=N>>>26;for(;0!==ne&&ie<H.length;ie++)this.words[ie]=67108863&(N=(0|H.words[ie])+ne),ne=N>>>26;if(this.length=H.length,0!==ne)this.words[this.length]=ne,this.length++;else if(H!==this)for(;ie<H.length;ie++)this.words[ie]=H.words[ie];return this},f.prototype.add=function(F){var N;return 0!==F.negative&&0===this.negative?(F.negative=0,N=this.sub(F),F.negative^=1,N):0===F.negative&&0!==this.negative?(this.negative=0,N=F.sub(this),this.negative=1,N):this.length>F.length?this.clone().iadd(F):F.clone().iadd(this)},f.prototype.isub=function(F){if(0!==F.negative){F.negative=0;var N=this.iadd(F);return F.negative=1,N._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(F),this.negative=1,this._normSign();var X,ne,H=this.cmp(F);if(0===H)return this.negative=0,this.length=1,this.words[0]=0,this;H>0?(X=this,ne=F):(X=F,ne=this);for(var ie=0,ue=0;ue<ne.length;ue++)ie=(N=(0|X.words[ue])-(0|ne.words[ue])+ie)>>26,this.words[ue]=67108863&N;for(;0!==ie&&ue<X.length;ue++)ie=(N=(0|X.words[ue])+ie)>>26,this.words[ue]=67108863&N;if(0===ie&&ue<X.length&&X!==this)for(;ue<X.length;ue++)this.words[ue]=X.words[ue];return this.length=Math.max(this.length,ue),X!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(F){return this.clone().isub(F)};var E=function(F,N,H){var J,j,W,X=F.words,ne=N.words,ie=H.words,ue=0,V=0|X[0],K=8191&V,ae=V>>>13,Q=0|X[1],Z=8191&Q,re=Q>>>13,q=0|X[2],se=8191&q,de=q>>>13,we=0|X[3],ye=8191&we,Pe=we>>>13,Ie=0|X[4],Se=8191&Ie,xe=Ie>>>13,Me=0|X[5],Ge=8191&Me,Ye=Me>>>13,De=0|X[6],He=8191&De,rt=De>>>13,$e=0|X[7],Be=8191&$e,ze=$e>>>13,tt=0|X[8],lt=8191&tt,ut=tt>>>13,xt=0|X[9],bt=8191&xt,Ht=xt>>>13,Je=0|ne[0],Ce=8191&Je,Ee=Je>>>13,Re=0|ne[1],ke=8191&Re,Ne=Re>>>13,_e=0|ne[2],Te=8191&_e,fe=_e>>>13,pe=0|ne[3],Fe=8191&pe,Xe=pe>>>13,at=0|ne[4],ft=8191&at,Xt=at>>>13,rr=0|ne[5],At=8191&rr,zt=rr>>>13,Qt=0|ne[6],Rr=8191&Qt,pt=Qt>>>13,$t=0|ne[7],tr=8191&$t,Er=$t>>>13,pr=0|ne[8],dt=8191&pr,it=pr>>>13,mt=0|ne[9],St=8191&mt,Lt=mt>>>13;H.negative=F.negative^N.negative,H.length=19;var Ct=(ue+(J=Math.imul(K,Ce))|0)+((8191&(j=(j=Math.imul(K,Ee))+Math.imul(ae,Ce)|0))<<13)|0;ue=((W=Math.imul(ae,Ee))+(j>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,J=Math.imul(Z,Ce),j=(j=Math.imul(Z,Ee))+Math.imul(re,Ce)|0,W=Math.imul(re,Ee);var Ut=(ue+(J=J+Math.imul(K,ke)|0)|0)+((8191&(j=(j=j+Math.imul(K,Ne)|0)+Math.imul(ae,ke)|0))<<13)|0;ue=((W=W+Math.imul(ae,Ne)|0)+(j>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,J=Math.imul(se,Ce),j=(j=Math.imul(se,Ee))+Math.imul(de,Ce)|0,W=Math.imul(de,Ee),J=J+Math.imul(Z,ke)|0,j=(j=j+Math.imul(Z,Ne)|0)+Math.imul(re,ke)|0,W=W+Math.imul(re,Ne)|0;var Bt=(ue+(J=J+Math.imul(K,Te)|0)|0)+((8191&(j=(j=j+Math.imul(K,fe)|0)+Math.imul(ae,Te)|0))<<13)|0;ue=((W=W+Math.imul(ae,fe)|0)+(j>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,J=Math.imul(ye,Ce),j=(j=Math.imul(ye,Ee))+Math.imul(Pe,Ce)|0,W=Math.imul(Pe,Ee),J=J+Math.imul(se,ke)|0,j=(j=j+Math.imul(se,Ne)|0)+Math.imul(de,ke)|0,W=W+Math.imul(de,Ne)|0,J=J+Math.imul(Z,Te)|0,j=(j=j+Math.imul(Z,fe)|0)+Math.imul(re,Te)|0,W=W+Math.imul(re,fe)|0;var qt=(ue+(J=J+Math.imul(K,Fe)|0)|0)+((8191&(j=(j=j+Math.imul(K,Xe)|0)+Math.imul(ae,Fe)|0))<<13)|0;ue=((W=W+Math.imul(ae,Xe)|0)+(j>>>13)|0)+(qt>>>26)|0,qt&=67108863,J=Math.imul(Se,Ce),j=(j=Math.imul(Se,Ee))+Math.imul(xe,Ce)|0,W=Math.imul(xe,Ee),J=J+Math.imul(ye,ke)|0,j=(j=j+Math.imul(ye,Ne)|0)+Math.imul(Pe,ke)|0,W=W+Math.imul(Pe,Ne)|0,J=J+Math.imul(se,Te)|0,j=(j=j+Math.imul(se,fe)|0)+Math.imul(de,Te)|0,W=W+Math.imul(de,fe)|0,J=J+Math.imul(Z,Fe)|0,j=(j=j+Math.imul(Z,Xe)|0)+Math.imul(re,Fe)|0,W=W+Math.imul(re,Xe)|0;var cr=(ue+(J=J+Math.imul(K,ft)|0)|0)+((8191&(j=(j=j+Math.imul(K,Xt)|0)+Math.imul(ae,ft)|0))<<13)|0;ue=((W=W+Math.imul(ae,Xt)|0)+(j>>>13)|0)+(cr>>>26)|0,cr&=67108863,J=Math.imul(Ge,Ce),j=(j=Math.imul(Ge,Ee))+Math.imul(Ye,Ce)|0,W=Math.imul(Ye,Ee),J=J+Math.imul(Se,ke)|0,j=(j=j+Math.imul(Se,Ne)|0)+Math.imul(xe,ke)|0,W=W+Math.imul(xe,Ne)|0,J=J+Math.imul(ye,Te)|0,j=(j=j+Math.imul(ye,fe)|0)+Math.imul(Pe,Te)|0,W=W+Math.imul(Pe,fe)|0,J=J+Math.imul(se,Fe)|0,j=(j=j+Math.imul(se,Xe)|0)+Math.imul(de,Fe)|0,W=W+Math.imul(de,Xe)|0,J=J+Math.imul(Z,ft)|0,j=(j=j+Math.imul(Z,Xt)|0)+Math.imul(re,ft)|0,W=W+Math.imul(re,Xt)|0;var lr=(ue+(J=J+Math.imul(K,At)|0)|0)+((8191&(j=(j=j+Math.imul(K,zt)|0)+Math.imul(ae,At)|0))<<13)|0;ue=((W=W+Math.imul(ae,zt)|0)+(j>>>13)|0)+(lr>>>26)|0,lr&=67108863,J=Math.imul(He,Ce),j=(j=Math.imul(He,Ee))+Math.imul(rt,Ce)|0,W=Math.imul(rt,Ee),J=J+Math.imul(Ge,ke)|0,j=(j=j+Math.imul(Ge,Ne)|0)+Math.imul(Ye,ke)|0,W=W+Math.imul(Ye,Ne)|0,J=J+Math.imul(Se,Te)|0,j=(j=j+Math.imul(Se,fe)|0)+Math.imul(xe,Te)|0,W=W+Math.imul(xe,fe)|0,J=J+Math.imul(ye,Fe)|0,j=(j=j+Math.imul(ye,Xe)|0)+Math.imul(Pe,Fe)|0,W=W+Math.imul(Pe,Xe)|0,J=J+Math.imul(se,ft)|0,j=(j=j+Math.imul(se,Xt)|0)+Math.imul(de,ft)|0,W=W+Math.imul(de,Xt)|0,J=J+Math.imul(Z,At)|0,j=(j=j+Math.imul(Z,zt)|0)+Math.imul(re,At)|0,W=W+Math.imul(re,zt)|0;var br=(ue+(J=J+Math.imul(K,Rr)|0)|0)+((8191&(j=(j=j+Math.imul(K,pt)|0)+Math.imul(ae,Rr)|0))<<13)|0;ue=((W=W+Math.imul(ae,pt)|0)+(j>>>13)|0)+(br>>>26)|0,br&=67108863,J=Math.imul(Be,Ce),j=(j=Math.imul(Be,Ee))+Math.imul(ze,Ce)|0,W=Math.imul(ze,Ee),J=J+Math.imul(He,ke)|0,j=(j=j+Math.imul(He,Ne)|0)+Math.imul(rt,ke)|0,W=W+Math.imul(rt,Ne)|0,J=J+Math.imul(Ge,Te)|0,j=(j=j+Math.imul(Ge,fe)|0)+Math.imul(Ye,Te)|0,W=W+Math.imul(Ye,fe)|0,J=J+Math.imul(Se,Fe)|0,j=(j=j+Math.imul(Se,Xe)|0)+Math.imul(xe,Fe)|0,W=W+Math.imul(xe,Xe)|0,J=J+Math.imul(ye,ft)|0,j=(j=j+Math.imul(ye,Xt)|0)+Math.imul(Pe,ft)|0,W=W+Math.imul(Pe,Xt)|0,J=J+Math.imul(se,At)|0,j=(j=j+Math.imul(se,zt)|0)+Math.imul(de,At)|0,W=W+Math.imul(de,zt)|0,J=J+Math.imul(Z,Rr)|0,j=(j=j+Math.imul(Z,pt)|0)+Math.imul(re,Rr)|0,W=W+Math.imul(re,pt)|0;var We=(ue+(J=J+Math.imul(K,tr)|0)|0)+((8191&(j=(j=j+Math.imul(K,Er)|0)+Math.imul(ae,tr)|0))<<13)|0;ue=((W=W+Math.imul(ae,Er)|0)+(j>>>13)|0)+(We>>>26)|0,We&=67108863,J=Math.imul(lt,Ce),j=(j=Math.imul(lt,Ee))+Math.imul(ut,Ce)|0,W=Math.imul(ut,Ee),J=J+Math.imul(Be,ke)|0,j=(j=j+Math.imul(Be,Ne)|0)+Math.imul(ze,ke)|0,W=W+Math.imul(ze,Ne)|0,J=J+Math.imul(He,Te)|0,j=(j=j+Math.imul(He,fe)|0)+Math.imul(rt,Te)|0,W=W+Math.imul(rt,fe)|0,J=J+Math.imul(Ge,Fe)|0,j=(j=j+Math.imul(Ge,Xe)|0)+Math.imul(Ye,Fe)|0,W=W+Math.imul(Ye,Xe)|0,J=J+Math.imul(Se,ft)|0,j=(j=j+Math.imul(Se,Xt)|0)+Math.imul(xe,ft)|0,W=W+Math.imul(xe,Xt)|0,J=J+Math.imul(ye,At)|0,j=(j=j+Math.imul(ye,zt)|0)+Math.imul(Pe,At)|0,W=W+Math.imul(Pe,zt)|0,J=J+Math.imul(se,Rr)|0,j=(j=j+Math.imul(se,pt)|0)+Math.imul(de,Rr)|0,W=W+Math.imul(de,pt)|0,J=J+Math.imul(Z,tr)|0,j=(j=j+Math.imul(Z,Er)|0)+Math.imul(re,tr)|0,W=W+Math.imul(re,Er)|0;var Ve=(ue+(J=J+Math.imul(K,dt)|0)|0)+((8191&(j=(j=j+Math.imul(K,it)|0)+Math.imul(ae,dt)|0))<<13)|0;ue=((W=W+Math.imul(ae,it)|0)+(j>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,J=Math.imul(bt,Ce),j=(j=Math.imul(bt,Ee))+Math.imul(Ht,Ce)|0,W=Math.imul(Ht,Ee),J=J+Math.imul(lt,ke)|0,j=(j=j+Math.imul(lt,Ne)|0)+Math.imul(ut,ke)|0,W=W+Math.imul(ut,Ne)|0,J=J+Math.imul(Be,Te)|0,j=(j=j+Math.imul(Be,fe)|0)+Math.imul(ze,Te)|0,W=W+Math.imul(ze,fe)|0,J=J+Math.imul(He,Fe)|0,j=(j=j+Math.imul(He,Xe)|0)+Math.imul(rt,Fe)|0,W=W+Math.imul(rt,Xe)|0,J=J+Math.imul(Ge,ft)|0,j=(j=j+Math.imul(Ge,Xt)|0)+Math.imul(Ye,ft)|0,W=W+Math.imul(Ye,Xt)|0,J=J+Math.imul(Se,At)|0,j=(j=j+Math.imul(Se,zt)|0)+Math.imul(xe,At)|0,W=W+Math.imul(xe,zt)|0,J=J+Math.imul(ye,Rr)|0,j=(j=j+Math.imul(ye,pt)|0)+Math.imul(Pe,Rr)|0,W=W+Math.imul(Pe,pt)|0,J=J+Math.imul(se,tr)|0,j=(j=j+Math.imul(se,Er)|0)+Math.imul(de,tr)|0,W=W+Math.imul(de,Er)|0,J=J+Math.imul(Z,dt)|0,j=(j=j+Math.imul(Z,it)|0)+Math.imul(re,dt)|0,W=W+Math.imul(re,it)|0;var Rt=(ue+(J=J+Math.imul(K,St)|0)|0)+((8191&(j=(j=j+Math.imul(K,Lt)|0)+Math.imul(ae,St)|0))<<13)|0;ue=((W=W+Math.imul(ae,Lt)|0)+(j>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,J=Math.imul(bt,ke),j=(j=Math.imul(bt,Ne))+Math.imul(Ht,ke)|0,W=Math.imul(Ht,Ne),J=J+Math.imul(lt,Te)|0,j=(j=j+Math.imul(lt,fe)|0)+Math.imul(ut,Te)|0,W=W+Math.imul(ut,fe)|0,J=J+Math.imul(Be,Fe)|0,j=(j=j+Math.imul(Be,Xe)|0)+Math.imul(ze,Fe)|0,W=W+Math.imul(ze,Xe)|0,J=J+Math.imul(He,ft)|0,j=(j=j+Math.imul(He,Xt)|0)+Math.imul(rt,ft)|0,W=W+Math.imul(rt,Xt)|0,J=J+Math.imul(Ge,At)|0,j=(j=j+Math.imul(Ge,zt)|0)+Math.imul(Ye,At)|0,W=W+Math.imul(Ye,zt)|0,J=J+Math.imul(Se,Rr)|0,j=(j=j+Math.imul(Se,pt)|0)+Math.imul(xe,Rr)|0,W=W+Math.imul(xe,pt)|0,J=J+Math.imul(ye,tr)|0,j=(j=j+Math.imul(ye,Er)|0)+Math.imul(Pe,tr)|0,W=W+Math.imul(Pe,Er)|0,J=J+Math.imul(se,dt)|0,j=(j=j+Math.imul(se,it)|0)+Math.imul(de,dt)|0,W=W+Math.imul(de,it)|0;var _t=(ue+(J=J+Math.imul(Z,St)|0)|0)+((8191&(j=(j=j+Math.imul(Z,Lt)|0)+Math.imul(re,St)|0))<<13)|0;ue=((W=W+Math.imul(re,Lt)|0)+(j>>>13)|0)+(_t>>>26)|0,_t&=67108863,J=Math.imul(bt,Te),j=(j=Math.imul(bt,fe))+Math.imul(Ht,Te)|0,W=Math.imul(Ht,fe),J=J+Math.imul(lt,Fe)|0,j=(j=j+Math.imul(lt,Xe)|0)+Math.imul(ut,Fe)|0,W=W+Math.imul(ut,Xe)|0,J=J+Math.imul(Be,ft)|0,j=(j=j+Math.imul(Be,Xt)|0)+Math.imul(ze,ft)|0,W=W+Math.imul(ze,Xt)|0,J=J+Math.imul(He,At)|0,j=(j=j+Math.imul(He,zt)|0)+Math.imul(rt,At)|0,W=W+Math.imul(rt,zt)|0,J=J+Math.imul(Ge,Rr)|0,j=(j=j+Math.imul(Ge,pt)|0)+Math.imul(Ye,Rr)|0,W=W+Math.imul(Ye,pt)|0,J=J+Math.imul(Se,tr)|0,j=(j=j+Math.imul(Se,Er)|0)+Math.imul(xe,tr)|0,W=W+Math.imul(xe,Er)|0,J=J+Math.imul(ye,dt)|0,j=(j=j+Math.imul(ye,it)|0)+Math.imul(Pe,dt)|0,W=W+Math.imul(Pe,it)|0;var Kt=(ue+(J=J+Math.imul(se,St)|0)|0)+((8191&(j=(j=j+Math.imul(se,Lt)|0)+Math.imul(de,St)|0))<<13)|0;ue=((W=W+Math.imul(de,Lt)|0)+(j>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,J=Math.imul(bt,Fe),j=(j=Math.imul(bt,Xe))+Math.imul(Ht,Fe)|0,W=Math.imul(Ht,Xe),J=J+Math.imul(lt,ft)|0,j=(j=j+Math.imul(lt,Xt)|0)+Math.imul(ut,ft)|0,W=W+Math.imul(ut,Xt)|0,J=J+Math.imul(Be,At)|0,j=(j=j+Math.imul(Be,zt)|0)+Math.imul(ze,At)|0,W=W+Math.imul(ze,zt)|0,J=J+Math.imul(He,Rr)|0,j=(j=j+Math.imul(He,pt)|0)+Math.imul(rt,Rr)|0,W=W+Math.imul(rt,pt)|0,J=J+Math.imul(Ge,tr)|0,j=(j=j+Math.imul(Ge,Er)|0)+Math.imul(Ye,tr)|0,W=W+Math.imul(Ye,Er)|0,J=J+Math.imul(Se,dt)|0,j=(j=j+Math.imul(Se,it)|0)+Math.imul(xe,dt)|0,W=W+Math.imul(xe,it)|0;var sr=(ue+(J=J+Math.imul(ye,St)|0)|0)+((8191&(j=(j=j+Math.imul(ye,Lt)|0)+Math.imul(Pe,St)|0))<<13)|0;ue=((W=W+Math.imul(Pe,Lt)|0)+(j>>>13)|0)+(sr>>>26)|0,sr&=67108863,J=Math.imul(bt,ft),j=(j=Math.imul(bt,Xt))+Math.imul(Ht,ft)|0,W=Math.imul(Ht,Xt),J=J+Math.imul(lt,At)|0,j=(j=j+Math.imul(lt,zt)|0)+Math.imul(ut,At)|0,W=W+Math.imul(ut,zt)|0,J=J+Math.imul(Be,Rr)|0,j=(j=j+Math.imul(Be,pt)|0)+Math.imul(ze,Rr)|0,W=W+Math.imul(ze,pt)|0,J=J+Math.imul(He,tr)|0,j=(j=j+Math.imul(He,Er)|0)+Math.imul(rt,tr)|0,W=W+Math.imul(rt,Er)|0,J=J+Math.imul(Ge,dt)|0,j=(j=j+Math.imul(Ge,it)|0)+Math.imul(Ye,dt)|0,W=W+Math.imul(Ye,it)|0;var hr=(ue+(J=J+Math.imul(Se,St)|0)|0)+((8191&(j=(j=j+Math.imul(Se,Lt)|0)+Math.imul(xe,St)|0))<<13)|0;ue=((W=W+Math.imul(xe,Lt)|0)+(j>>>13)|0)+(hr>>>26)|0,hr&=67108863,J=Math.imul(bt,At),j=(j=Math.imul(bt,zt))+Math.imul(Ht,At)|0,W=Math.imul(Ht,zt),J=J+Math.imul(lt,Rr)|0,j=(j=j+Math.imul(lt,pt)|0)+Math.imul(ut,Rr)|0,W=W+Math.imul(ut,pt)|0,J=J+Math.imul(Be,tr)|0,j=(j=j+Math.imul(Be,Er)|0)+Math.imul(ze,tr)|0,W=W+Math.imul(ze,Er)|0,J=J+Math.imul(He,dt)|0,j=(j=j+Math.imul(He,it)|0)+Math.imul(rt,dt)|0,W=W+Math.imul(rt,it)|0;var or=(ue+(J=J+Math.imul(Ge,St)|0)|0)+((8191&(j=(j=j+Math.imul(Ge,Lt)|0)+Math.imul(Ye,St)|0))<<13)|0;ue=((W=W+Math.imul(Ye,Lt)|0)+(j>>>13)|0)+(or>>>26)|0,or&=67108863,J=Math.imul(bt,Rr),j=(j=Math.imul(bt,pt))+Math.imul(Ht,Rr)|0,W=Math.imul(Ht,pt),J=J+Math.imul(lt,tr)|0,j=(j=j+Math.imul(lt,Er)|0)+Math.imul(ut,tr)|0,W=W+Math.imul(ut,Er)|0,J=J+Math.imul(Be,dt)|0,j=(j=j+Math.imul(Be,it)|0)+Math.imul(ze,dt)|0,W=W+Math.imul(ze,it)|0;var Nt=(ue+(J=J+Math.imul(He,St)|0)|0)+((8191&(j=(j=j+Math.imul(He,Lt)|0)+Math.imul(rt,St)|0))<<13)|0;ue=((W=W+Math.imul(rt,Lt)|0)+(j>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,J=Math.imul(bt,tr),j=(j=Math.imul(bt,Er))+Math.imul(Ht,tr)|0,W=Math.imul(Ht,Er),J=J+Math.imul(lt,dt)|0,j=(j=j+Math.imul(lt,it)|0)+Math.imul(ut,dt)|0,W=W+Math.imul(ut,it)|0;var dr=(ue+(J=J+Math.imul(Be,St)|0)|0)+((8191&(j=(j=j+Math.imul(Be,Lt)|0)+Math.imul(ze,St)|0))<<13)|0;ue=((W=W+Math.imul(ze,Lt)|0)+(j>>>13)|0)+(dr>>>26)|0,dr&=67108863,J=Math.imul(bt,dt),j=(j=Math.imul(bt,it))+Math.imul(Ht,dt)|0,W=Math.imul(Ht,it);var Mr=(ue+(J=J+Math.imul(lt,St)|0)|0)+((8191&(j=(j=j+Math.imul(lt,Lt)|0)+Math.imul(ut,St)|0))<<13)|0;ue=((W=W+Math.imul(ut,Lt)|0)+(j>>>13)|0)+(Mr>>>26)|0,Mr&=67108863;var wr=(ue+(J=Math.imul(bt,St))|0)+((8191&(j=(j=Math.imul(bt,Lt))+Math.imul(Ht,St)|0))<<13)|0;return ue=((W=Math.imul(Ht,Lt))+(j>>>13)|0)+(wr>>>26)|0,wr&=67108863,ie[0]=Ct,ie[1]=Ut,ie[2]=Bt,ie[3]=qt,ie[4]=cr,ie[5]=lr,ie[6]=br,ie[7]=We,ie[8]=Ve,ie[9]=Rt,ie[10]=_t,ie[11]=Kt,ie[12]=sr,ie[13]=hr,ie[14]=or,ie[15]=Nt,ie[16]=dr,ie[17]=Mr,ie[18]=wr,0!==ue&&(ie[19]=ue,H.length++),H};function M(O,F,N){return(new w).mulp(O,F,N)}function w(O,F){this.x=O,this.y=F}Math.imul||(E=x),f.prototype.mulTo=function(F,N){var X=this.length+F.length;return 10===this.length&&10===F.length?E(this,F,N):X<63?x(this,F,N):X<1024?function g(O,F,N){N.negative=F.negative^O.negative,N.length=O.length+F.length;for(var H=0,X=0,ne=0;ne<N.length-1;ne++){var ie=X;X=0;for(var ue=67108863&H,J=Math.min(ne,F.length-1),j=Math.max(0,ne-O.length+1);j<=J;j++){var ae=(0|O.words[ne-j])*(0|F.words[j]),Q=67108863&ae;ue=67108863&(Q=Q+ue|0),X+=(ie=(ie=ie+(ae/67108864|0)|0)+(Q>>>26)|0)>>>26,ie&=67108863}N.words[ne]=ue,H=ie,ie=X}return 0!==H?N.words[ne]=H:N.length--,N.strip()}(this,F,N):M(this,F,N)},w.prototype.makeRBT=function(F){for(var N=new Array(F),H=f.prototype._countBits(F)-1,X=0;X<F;X++)N[X]=this.revBin(X,H,F);return N},w.prototype.revBin=function(F,N,H){if(0===F||F===H-1)return F;for(var X=0,ne=0;ne<N;ne++)X|=(1&F)<<N-ne-1,F>>=1;return X},w.prototype.permute=function(F,N,H,X,ne,ie){for(var ue=0;ue<ie;ue++)X[ue]=N[F[ue]],ne[ue]=H[F[ue]]},w.prototype.transform=function(F,N,H,X,ne,ie){this.permute(ie,F,N,H,X,ne);for(var ue=1;ue<ne;ue<<=1)for(var J=ue<<1,j=Math.cos(2*Math.PI/J),W=Math.sin(2*Math.PI/J),V=0;V<ne;V+=J)for(var K=j,ae=W,Q=0;Q<ue;Q++){var Z=H[V+Q],re=X[V+Q],q=H[V+Q+ue],se=X[V+Q+ue],de=K*q-ae*se;se=K*se+ae*q,H[V+Q]=Z+(q=de),X[V+Q]=re+se,H[V+Q+ue]=Z-q,X[V+Q+ue]=re-se,Q!==J&&(de=j*K-W*ae,ae=j*ae+W*K,K=de)}},w.prototype.guessLen13b=function(F,N){var H=1|Math.max(N,F),X=1&H,ne=0;for(H=H/2|0;H;H>>>=1)ne++;return 1<<ne+1+X},w.prototype.conjugate=function(F,N,H){if(!(H<=1))for(var X=0;X<H/2;X++){var ne=F[X];F[X]=F[H-X-1],F[H-X-1]=ne,ne=N[X],N[X]=-N[H-X-1],N[H-X-1]=-ne}},w.prototype.normalize13b=function(F,N){for(var H=0,X=0;X<N/2;X++){var ne=8192*Math.round(F[2*X+1]/N)+Math.round(F[2*X]/N)+H;F[X]=67108863&ne,H=ne<67108864?0:ne/67108864|0}return F},w.prototype.convert13b=function(F,N,H,X){for(var ne=0,ie=0;ie<N;ie++)H[2*ie]=8191&(ne+=0|F[ie]),H[2*ie+1]=8191&(ne>>>=13),ne>>>=13;for(ie=2*N;ie<X;++ie)H[ie]=0;i(0===ne),i(0==(-8192&ne))},w.prototype.stub=function(F){for(var N=new Array(F),H=0;H<F;H++)N[H]=0;return N},w.prototype.mulp=function(F,N,H){var X=2*this.guessLen13b(F.length,N.length),ne=this.makeRBT(X),ie=this.stub(X),ue=new Array(X),J=new Array(X),j=new Array(X),W=new Array(X),V=new Array(X),K=new Array(X),ae=H.words;ae.length=X,this.convert13b(F.words,F.length,ue,X),this.convert13b(N.words,N.length,W,X),this.transform(ue,ie,J,j,X,ne),this.transform(W,ie,V,K,X,ne);for(var Q=0;Q<X;Q++){var Z=J[Q]*V[Q]-j[Q]*K[Q];j[Q]=J[Q]*K[Q]+j[Q]*V[Q],J[Q]=Z}return this.conjugate(J,j,X),this.transform(J,j,ae,ie,X,ne),this.conjugate(ae,ie,X),this.normalize13b(ae,X),H.negative=F.negative^N.negative,H.length=F.length+N.length,H.strip()},f.prototype.mul=function(F){var N=new f(null);return N.words=new Array(this.length+F.length),this.mulTo(F,N)},f.prototype.mulf=function(F){var N=new f(null);return N.words=new Array(this.length+F.length),M(this,F,N)},f.prototype.imul=function(F){return this.clone().mulTo(F,this)},f.prototype.imuln=function(F){i("number"==typeof F),i(F<67108864);for(var N=0,H=0;H<this.length;H++){var X=(0|this.words[H])*F,ne=(67108863&X)+(67108863&N);N>>=26,N+=X/67108864|0,N+=ne>>>26,this.words[H]=67108863&ne}return 0!==N&&(this.words[H]=N,this.length++),this},f.prototype.muln=function(F){return this.clone().imuln(F)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(F){var N=function A(O){for(var F=new Array(O.bitLength()),N=0;N<F.length;N++){var X=N%26;F[N]=(O.words[N/26|0]&1<<X)>>>X}return F}(F);if(0===N.length)return new f(1);for(var H=this,X=0;X<N.length&&0===N[X];X++,H=H.sqr());if(++X<N.length)for(var ne=H.sqr();X<N.length;X++,ne=ne.sqr())0!==N[X]&&(H=H.mul(ne));return H},f.prototype.iushln=function(F){i("number"==typeof F&&F>=0);var ne,N=F%26,H=(F-N)/26,X=67108863>>>26-N<<26-N;if(0!==N){var ie=0;for(ne=0;ne<this.length;ne++){var ue=this.words[ne]&X;this.words[ne]=(0|this.words[ne])-ue<<N|ie,ie=ue>>>26-N}ie&&(this.words[ne]=ie,this.length++)}if(0!==H){for(ne=this.length-1;ne>=0;ne--)this.words[ne+H]=this.words[ne];for(ne=0;ne<H;ne++)this.words[ne]=0;this.length+=H}return this.strip()},f.prototype.ishln=function(F){return i(0===this.negative),this.iushln(F)},f.prototype.iushrn=function(F,N,H){var X;i("number"==typeof F&&F>=0),X=N?(N-N%26)/26:0;var ne=F%26,ie=Math.min((F-ne)/26,this.length),ue=67108863^67108863>>>ne<<ne,J=H;if(X-=ie,X=Math.max(0,X),J){for(var j=0;j<ie;j++)J.words[j]=this.words[j];J.length=ie}if(0!==ie)if(this.length>ie)for(this.length-=ie,j=0;j<this.length;j++)this.words[j]=this.words[j+ie];else this.words[0]=0,this.length=1;var W=0;for(j=this.length-1;j>=0&&(0!==W||j>=X);j--){var V=0|this.words[j];this.words[j]=W<<26-ne|V>>>ne,W=V&ue}return J&&0!==W&&(J.words[J.length++]=W),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(F,N,H){return i(0===this.negative),this.iushrn(F,N,H)},f.prototype.shln=function(F){return this.clone().ishln(F)},f.prototype.ushln=function(F){return this.clone().iushln(F)},f.prototype.shrn=function(F){return this.clone().ishrn(F)},f.prototype.ushrn=function(F){return this.clone().iushrn(F)},f.prototype.testn=function(F){i("number"==typeof F&&F>=0);var N=F%26,H=(F-N)/26;return!(this.length<=H||!(this.words[H]&1<<N))},f.prototype.imaskn=function(F){i("number"==typeof F&&F>=0);var N=F%26,H=(F-N)/26;return i(0===this.negative,"imaskn works only with positive numbers"),this.length<=H?this:(0!==N&&H++,this.length=Math.min(H,this.length),0!==N&&(this.words[this.length-1]&=67108863^67108863>>>N<<N),this.strip())},f.prototype.maskn=function(F){return this.clone().imaskn(F)},f.prototype.iaddn=function(F){return i("number"==typeof F),i(F<67108864),F<0?this.isubn(-F):0!==this.negative?1===this.length&&(0|this.words[0])<F?(this.words[0]=F-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(F),this.negative=1,this):this._iaddn(F)},f.prototype._iaddn=function(F){this.words[0]+=F;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},f.prototype.isubn=function(F){if(i("number"==typeof F),i(F<67108864),F<0)return this.iaddn(-F);if(0!==this.negative)return this.negative=0,this.iaddn(F),this.negative=1,this;if(this.words[0]-=F,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this.strip()},f.prototype.addn=function(F){return this.clone().iaddn(F)},f.prototype.subn=function(F){return this.clone().isubn(F)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(F,N,H){var ne;this._expand(F.length+H);var ie,ue=0;for(ne=0;ne<F.length;ne++){ie=(0|this.words[ne+H])+ue;var J=(0|F.words[ne])*N;ue=((ie-=67108863&J)>>26)-(J/67108864|0),this.words[ne+H]=67108863&ie}for(;ne<this.length-H;ne++)ue=(ie=(0|this.words[ne+H])+ue)>>26,this.words[ne+H]=67108863&ie;if(0===ue)return this.strip();for(i(-1===ue),ue=0,ne=0;ne<this.length;ne++)ue=(ie=-(0|this.words[ne])+ue)>>26,this.words[ne]=67108863&ie;return this.negative=1,this.strip()},f.prototype._wordDiv=function(F,N){var H,X=this.clone(),ne=F,ie=0|ne.words[ne.length-1];0!=(H=26-this._countBits(ie))&&(ne=ne.ushln(H),X.iushln(H),ie=0|ne.words[ne.length-1]);var j,J=X.length-ne.length;if("mod"!==N){(j=new f(null)).length=J+1,j.words=new Array(j.length);for(var W=0;W<j.length;W++)j.words[W]=0}var V=X.clone()._ishlnsubmul(ne,1,J);0===V.negative&&(X=V,j&&(j.words[J]=1));for(var K=J-1;K>=0;K--){var ae=67108864*(0|X.words[ne.length+K])+(0|X.words[ne.length+K-1]);for(ae=Math.min(ae/ie|0,67108863),X._ishlnsubmul(ne,ae,K);0!==X.negative;)ae--,X.negative=0,X._ishlnsubmul(ne,1,K),X.isZero()||(X.negative^=1);j&&(j.words[K]=ae)}return j&&j.strip(),X.strip(),"div"!==N&&0!==H&&X.iushrn(H),{div:j||null,mod:X}},f.prototype.divmod=function(F,N,H){return i(!F.isZero()),this.isZero()?{div:new f(0),mod:new f(0)}:0!==this.negative&&0===F.negative?(ie=this.neg().divmod(F,N),"mod"!==N&&(X=ie.div.neg()),"div"!==N&&(ne=ie.mod.neg(),H&&0!==ne.negative&&ne.iadd(F)),{div:X,mod:ne}):0===this.negative&&0!==F.negative?(ie=this.divmod(F.neg(),N),"mod"!==N&&(X=ie.div.neg()),{div:X,mod:ie.mod}):this.negative&F.negative?(ie=this.neg().divmod(F.neg(),N),"div"!==N&&(ne=ie.mod.neg(),H&&0!==ne.negative&&ne.isub(F)),{div:ie.div,mod:ne}):F.length>this.length||this.cmp(F)<0?{div:new f(0),mod:this}:1===F.length?"div"===N?{div:this.divn(F.words[0]),mod:null}:"mod"===N?{div:null,mod:new f(this.modn(F.words[0]))}:{div:this.divn(F.words[0]),mod:new f(this.modn(F.words[0]))}:this._wordDiv(F,N);var X,ne,ie},f.prototype.div=function(F){return this.divmod(F,"div",!1).div},f.prototype.mod=function(F){return this.divmod(F,"mod",!1).mod},f.prototype.umod=function(F){return this.divmod(F,"mod",!0).mod},f.prototype.divRound=function(F){var N=this.divmod(F);if(N.mod.isZero())return N.div;var H=0!==N.div.negative?N.mod.isub(F):N.mod,X=F.ushrn(1),ne=F.andln(1),ie=H.cmp(X);return ie<0||1===ne&&0===ie?N.div:0!==N.div.negative?N.div.isubn(1):N.div.iaddn(1)},f.prototype.modn=function(F){i(F<=67108863);for(var N=(1<<26)%F,H=0,X=this.length-1;X>=0;X--)H=(N*H+(0|this.words[X]))%F;return H},f.prototype.idivn=function(F){i(F<=67108863);for(var N=0,H=this.length-1;H>=0;H--){var X=(0|this.words[H])+67108864*N;this.words[H]=X/F|0,N=X%F}return this.strip()},f.prototype.divn=function(F){return this.clone().idivn(F)},f.prototype.egcd=function(F){i(0===F.negative),i(!F.isZero());var N=this,H=F.clone();N=0!==N.negative?N.umod(F):N.clone();for(var X=new f(1),ne=new f(0),ie=new f(0),ue=new f(1),J=0;N.isEven()&&H.isEven();)N.iushrn(1),H.iushrn(1),++J;for(var j=H.clone(),W=N.clone();!N.isZero();){for(var V=0,K=1;!(N.words[0]&K)&&V<26;++V,K<<=1);if(V>0)for(N.iushrn(V);V-- >0;)(X.isOdd()||ne.isOdd())&&(X.iadd(j),ne.isub(W)),X.iushrn(1),ne.iushrn(1);for(var ae=0,Q=1;!(H.words[0]&Q)&&ae<26;++ae,Q<<=1);if(ae>0)for(H.iushrn(ae);ae-- >0;)(ie.isOdd()||ue.isOdd())&&(ie.iadd(j),ue.isub(W)),ie.iushrn(1),ue.iushrn(1);N.cmp(H)>=0?(N.isub(H),X.isub(ie),ne.isub(ue)):(H.isub(N),ie.isub(X),ue.isub(ne))}return{a:ie,b:ue,gcd:H.iushln(J)}},f.prototype._invmp=function(F){i(0===F.negative),i(!F.isZero());var V,N=this,H=F.clone();N=0!==N.negative?N.umod(F):N.clone();for(var X=new f(1),ne=new f(0),ie=H.clone();N.cmpn(1)>0&&H.cmpn(1)>0;){for(var ue=0,J=1;!(N.words[0]&J)&&ue<26;++ue,J<<=1);if(ue>0)for(N.iushrn(ue);ue-- >0;)X.isOdd()&&X.iadd(ie),X.iushrn(1);for(var j=0,W=1;!(H.words[0]&W)&&j<26;++j,W<<=1);if(j>0)for(H.iushrn(j);j-- >0;)ne.isOdd()&&ne.iadd(ie),ne.iushrn(1);N.cmp(H)>=0?(N.isub(H),X.isub(ne)):(H.isub(N),ne.isub(X))}return(V=0===N.cmpn(1)?X:ne).cmpn(0)<0&&V.iadd(F),V},f.prototype.gcd=function(F){if(this.isZero())return F.abs();if(F.isZero())return this.abs();var N=this.clone(),H=F.clone();N.negative=0,H.negative=0;for(var X=0;N.isEven()&&H.isEven();X++)N.iushrn(1),H.iushrn(1);for(;;){for(;N.isEven();)N.iushrn(1);for(;H.isEven();)H.iushrn(1);var ne=N.cmp(H);if(ne<0){var ie=N;N=H,H=ie}else if(0===ne||0===H.cmpn(1))break;N.isub(H)}return H.iushln(X)},f.prototype.invm=function(F){return this.egcd(F).a.umod(F)},f.prototype.isEven=function(){return 0==(1&this.words[0])},f.prototype.isOdd=function(){return 1==(1&this.words[0])},f.prototype.andln=function(F){return this.words[0]&F},f.prototype.bincn=function(F){i("number"==typeof F);var N=F%26,H=(F-N)/26,X=1<<N;if(this.length<=H)return this._expand(H+1),this.words[H]|=X,this;for(var ne=X,ie=H;0!==ne&&ie<this.length;ie++){var ue=0|this.words[ie];ne=(ue+=ne)>>>26,this.words[ie]=ue&=67108863}return 0!==ne&&(this.words[ie]=ne,this.length++),this},f.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},f.prototype.cmpn=function(F){var H,N=F<0;if(0!==this.negative&&!N)return-1;if(0===this.negative&&N)return 1;if(this.strip(),this.length>1)H=1;else{N&&(F=-F),i(F<=67108863,"Number is too big");var X=0|this.words[0];H=X===F?0:X<F?-1:1}return 0!==this.negative?0|-H:H},f.prototype.cmp=function(F){if(0!==this.negative&&0===F.negative)return-1;if(0===this.negative&&0!==F.negative)return 1;var N=this.ucmp(F);return 0!==this.negative?0|-N:N},f.prototype.ucmp=function(F){if(this.length>F.length)return 1;if(this.length<F.length)return-1;for(var N=0,H=this.length-1;H>=0;H--){var X=0|this.words[H],ne=0|F.words[H];if(X!==ne){X<ne?N=-1:X>ne&&(N=1);break}}return N},f.prototype.gtn=function(F){return 1===this.cmpn(F)},f.prototype.gt=function(F){return 1===this.cmp(F)},f.prototype.gten=function(F){return this.cmpn(F)>=0},f.prototype.gte=function(F){return this.cmp(F)>=0},f.prototype.ltn=function(F){return-1===this.cmpn(F)},f.prototype.lt=function(F){return-1===this.cmp(F)},f.prototype.lten=function(F){return this.cmpn(F)<=0},f.prototype.lte=function(F){return this.cmp(F)<=0},f.prototype.eqn=function(F){return 0===this.cmpn(F)},f.prototype.eq=function(F){return 0===this.cmp(F)},f.red=function(F){return new k(F)},f.prototype.toRed=function(F){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),F.convertTo(this)._forceRed(F)},f.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(F){return this.red=F,this},f.prototype.forceRed=function(F){return i(!this.red,"Already a number in reduction context"),this._forceRed(F)},f.prototype.redAdd=function(F){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,F)},f.prototype.redIAdd=function(F){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,F)},f.prototype.redSub=function(F){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,F)},f.prototype.redISub=function(F){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,F)},f.prototype.redShl=function(F){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,F)},f.prototype.redMul=function(F){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.mul(this,F)},f.prototype.redIMul=function(F){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.imul(this,F)},f.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(F){return i(this.red&&!F.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,F)};var n={k256:null,p224:null,p192:null,p25519:null};function S(O,F){this.name=O,this.p=new f(F,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function d(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function I(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function L(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(O){if("string"==typeof O){var F=f._prime(O);this.m=F.p,this.prime=F}else i(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}function z(O){k.call(this,O),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S.prototype._tmp=function(){var F=new f(null);return F.words=new Array(Math.ceil(this.n/13)),F},S.prototype.ireduce=function(F){var H,N=F;do{this.split(N,this.tmp),H=(N=(N=this.imulK(N)).iadd(this.tmp)).bitLength()}while(H>this.n);var X=H<this.n?-1:N.ucmp(this.p);return 0===X?(N.words[0]=0,N.length=1):X>0?N.isub(this.p):void 0!==N.strip?N.strip():N._strip(),N},S.prototype.split=function(F,N){F.iushrn(this.n,0,N)},S.prototype.imulK=function(F){return F.imul(this.k)},u(d,S),d.prototype.split=function(F,N){for(var H=4194303,X=Math.min(F.length,9),ne=0;ne<X;ne++)N.words[ne]=F.words[ne];if(N.length=X,F.length<=9)return F.words[0]=0,void(F.length=1);var ie=F.words[9];for(N.words[N.length++]=ie&H,ne=10;ne<F.length;ne++){var ue=0|F.words[ne];F.words[ne-10]=(ue&H)<<4|ie>>>22,ie=ue}F.words[ne-10]=ie>>>=22,F.length-=0===ie&&F.length>10?10:9},d.prototype.imulK=function(F){F.words[F.length]=0,F.words[F.length+1]=0,F.length+=2;for(var N=0,H=0;H<F.length;H++){var X=0|F.words[H];F.words[H]=67108863&(N+=977*X),N=64*X+(N/67108864|0)}return 0===F.words[F.length-1]&&(F.length--,0===F.words[F.length-1]&&F.length--),F},u(I,S),u(L,S),u(B,S),B.prototype.imulK=function(F){for(var N=0,H=0;H<F.length;H++){var X=19*(0|F.words[H])+N,ne=67108863&X;X>>>=26,F.words[H]=ne,N=X}return 0!==N&&(F.words[F.length++]=N),F},f._prime=function(F){if(n[F])return n[F];var N;if("k256"===F)N=new d;else if("p224"===F)N=new I;else if("p192"===F)N=new L;else{if("p25519"!==F)throw new Error("Unknown prime "+F);N=new B}return n[F]=N,N},k.prototype._verify1=function(F){i(0===F.negative,"red works only with positives"),i(F.red,"red works only with red numbers")},k.prototype._verify2=function(F,N){i(0==(F.negative|N.negative),"red works only with positives"),i(F.red&&F.red===N.red,"red works only with red numbers")},k.prototype.imod=function(F){return this.prime?this.prime.ireduce(F)._forceRed(this):F.umod(this.m)._forceRed(this)},k.prototype.neg=function(F){return F.isZero()?F.clone():this.m.sub(F)._forceRed(this)},k.prototype.add=function(F,N){this._verify2(F,N);var H=F.add(N);return H.cmp(this.m)>=0&&H.isub(this.m),H._forceRed(this)},k.prototype.iadd=function(F,N){this._verify2(F,N);var H=F.iadd(N);return H.cmp(this.m)>=0&&H.isub(this.m),H},k.prototype.sub=function(F,N){this._verify2(F,N);var H=F.sub(N);return H.cmpn(0)<0&&H.iadd(this.m),H._forceRed(this)},k.prototype.isub=function(F,N){this._verify2(F,N);var H=F.isub(N);return H.cmpn(0)<0&&H.iadd(this.m),H},k.prototype.shl=function(F,N){return this._verify1(F),this.imod(F.ushln(N))},k.prototype.imul=function(F,N){return this._verify2(F,N),this.imod(F.imul(N))},k.prototype.mul=function(F,N){return this._verify2(F,N),this.imod(F.mul(N))},k.prototype.isqr=function(F){return this.imul(F,F.clone())},k.prototype.sqr=function(F){return this.mul(F,F)},k.prototype.sqrt=function(F){if(F.isZero())return F.clone();var N=this.m.andln(3);if(i(N%2==1),3===N){var H=this.m.add(new f(1)).iushrn(2);return this.pow(F,H)}for(var X=this.m.subn(1),ne=0;!X.isZero()&&0===X.andln(1);)ne++,X.iushrn(1);i(!X.isZero());var ie=new f(1).toRed(this),ue=ie.redNeg(),J=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new f(2*j*j).toRed(this);0!==this.pow(j,J).cmp(ue);)j.redIAdd(ue);for(var W=this.pow(j,X),V=this.pow(F,X.addn(1).iushrn(1)),K=this.pow(F,X),ae=ne;0!==K.cmp(ie);){for(var Q=K,Z=0;0!==Q.cmp(ie);Z++)Q=Q.redSqr();i(Z<ae);var re=this.pow(W,new f(1).iushln(ae-Z-1));V=V.redMul(re),W=re.redSqr(),K=K.redMul(W),ae=Z}return V},k.prototype.invm=function(F){var N=F._invmp(this.m);return 0!==N.negative?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},k.prototype.pow=function(F,N){if(N.isZero())return new f(1).toRed(this);if(0===N.cmpn(1))return F.clone();var X=new Array(16);X[0]=new f(1).toRed(this),X[1]=F;for(var ne=2;ne<X.length;ne++)X[ne]=this.mul(X[ne-1],F);var ie=X[0],ue=0,J=0,j=N.bitLength()%26;for(0===j&&(j=26),ne=N.length-1;ne>=0;ne--){for(var W=N.words[ne],V=j-1;V>=0;V--){var K=W>>V&1;ie!==X[0]&&(ie=this.sqr(ie)),0!==K||0!==ue?(ue<<=1,ue|=K,(4==++J||0===ne&&0===V)&&(ie=this.mul(ie,X[ue]),J=0,ue=0)):J=0}j=26}return ie},k.prototype.convertTo=function(F){var N=F.umod(this.m);return N===F?N.clone():N},k.prototype.convertFrom=function(F){var N=F.clone();return N.red=null,N},f.mont=function(F){return new z(F)},u(z,k),z.prototype.convertTo=function(F){return this.imod(F.ushln(this.shift))},z.prototype.convertFrom=function(F){var N=this.imod(F.mul(this.rinv));return N.red=null,N},z.prototype.imul=function(F,N){if(F.isZero()||N.isZero())return F.words[0]=0,F.length=1,F;var H=F.imul(N),X=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ne=H.isub(X).iushrn(this.shift),ie=ne;return ne.cmp(this.m)>=0?ie=ne.isub(this.m):ne.cmpn(0)<0&&(ie=ne.iadd(this.m)),ie._forceRed(this)},z.prototype.mul=function(F,N){if(F.isZero()||N.isZero())return new f(0)._forceRed(this);var H=F.mul(N),X=H.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ne=H.isub(X).iushrn(this.shift),ie=ne;return ne.cmp(this.m)>=0?ie=ne.isub(this.m):ne.cmpn(0)<0&&(ie=ne.iadd(this.m)),ie._forceRed(this)},z.prototype.invm=function(F){return this.imod(F._invmp(this.m).mul(this.r2))._forceRed(this)}}(h=t.nmd(h),this)},2692:function(h){"use strict";h.exports=function y(t){var r,l,i,u=t.length,f=0;for(r=0;r<u;++r)f+=t[r].length;var c=new Array(f),m=0;for(r=0;r<u;++r){var a=t[r],b=a.length;for(l=0;l<b;++l){var p=c[m++]=new Array(b-1),s=0;for(i=0;i<b;++i)i!==l&&(p[s++]=a[i]);if(1&l){var v=p[1];p[1]=p[0],p[0]=v}}}return c}},2569:function(h,y,t){"use strict";h.exports=function s(v,A,x){switch(arguments.length){case 1:return function b(v){return m=[],c(v,v,a,!0),m}(v);case 2:return"function"==typeof A?c(v,v,A,!0):function p(v,A){return m=[],c(v,A,a,!1),m}(v,A);case 3:return c(v,A,x,!1);default:throw new Error("box-intersect: Invalid arguments")}};var m,r=t(5306),l=t(1390),i=t(2337);function u(v,A){for(var x=0;x<v;++x)if(!(A[x]<=A[x+v]))return!0;return!1}function f(v,A,x,E){for(var g=0,M=0,w=0,n=v.length;w<n;++w){var S=v[w];if(!u(A,S)){for(var d=0;d<2*A;++d)x[g++]=S[d];E[M++]=w}}return M}function c(v,A,x,E){var g=v.length,M=A.length;if(!(g<=0||M<=0)){var w=v[0].length>>>1;if(!(w<=0)){var n,S=r.mallocDouble(2*w*g),d=r.mallocInt32(g);if((g=f(v,w,S,d))>0){if(1===w&&E)l.init(g),n=l.sweepComplete(w,x,0,g,S,d,0,g,S,d);else{var I=r.mallocDouble(2*w*M),L=r.mallocInt32(M);(M=f(A,w,I,L))>0&&(l.init(g+M),n=1===w?l.sweepBipartite(w,x,0,g,S,d,0,M,I,L):i(w,x,E,g,S,d,M,I,L),r.free(I),r.free(L))}r.free(S),r.free(d)}return n}}}function a(v,A){m.push([v,A])}},7333:function(h,y){"use strict";function l(i){return i?function f(c,m,a,b,p,s,v,A,x,E,g){return p-b>x-A?function i(c,m,a,b,p,s,v,A,x,E,g){for(var M=2*c,w=b,n=M*b;w<p;++w,n+=M){var S=s[m+n],d=s[m+n+c],I=v[w];e:for(var L=A,B=M*A;L<x;++L,B+=M){var O=g[L];if(!(E[m+B+c]<S||d<E[m+B])){for(var F=m+1;F<c;++F)if(s[F+c+n]<E[F+B]||E[F+c+B]<s[F+n])continue e;var ie=a(I,O);if(void 0!==ie)return ie}}}}(c,m,a,b,p,s,v,A,x,E,g):function u(c,m,a,b,p,s,v,A,x,E,g){for(var M=2*c,w=A,n=M*A;w<x;++w,n+=M){var S=E[m+n],d=E[m+n+c],I=g[w];e:for(var L=b,B=M*b;L<p;++L,B+=M){var O=v[L];if(!(d<s[m+B]||s[m+B+c]<S)){for(var F=m+1;F<c;++F)if(s[F+c+B]<E[F+n]||E[F+c+n]<s[F+B])continue e;var ie=a(O,I);if(void 0!==ie)return ie}}}}(c,m,a,b,p,s,v,A,x,E,g)}:function m(a,b,p,s,v,A,x,E,g,M,w,n){return A-v>M-g?s?function i(a,b,p,s,v,A,x,E,g,M,w){for(var n=2*a,S=s,d=n*s;S<v;++S,d+=n){var I=A[b+d],L=A[b+d+a],B=x[S];e:for(var k=E,z=n*E;k<g;++k,z+=n){var O=M[b+z],F=w[k];if(!(O<=I||L<O)){for(var N=b+1;N<a;++N)if(A[N+a+d]<M[N+z]||M[N+a+z]<A[N+d])continue e;var ue=p(F,B);if(void 0!==ue)return ue}}}}(a,b,p,v,A,x,E,g,M,w,n):function u(a,b,p,s,v,A,x,E,g,M,w){for(var n=2*a,S=s,d=n*s;S<v;++S,d+=n){var I=A[b+d],L=A[b+d+a],B=x[S];e:for(var k=E,z=n*E;k<g;++k,z+=n){var O=M[b+z],F=w[k];if(!(O<I||L<O)){for(var N=b+1;N<a;++N)if(A[N+a+d]<M[N+z]||M[N+a+z]<A[N+d])continue e;var ue=p(B,F);if(void 0!==ue)return ue}}}}(a,b,p,v,A,x,E,g,M,w,n):s?function f(a,b,p,s,v,A,x,E,g,M,w){for(var n=2*a,S=E,d=n*E;S<g;++S,d+=n){var I=M[b+d],L=w[S];e:for(var B=s,k=n*s;B<v;++B,k+=n){var F=x[B];if(!(I<=A[b+k]||A[b+k+a]<I)){for(var N=b+1;N<a;++N)if(A[N+a+k]<M[N+d]||M[N+a+d]<A[N+k])continue e;var ue=p(L,F);if(void 0!==ue)return ue}}}}(a,b,p,v,A,x,E,g,M,w,n):function c(a,b,p,s,v,A,x,E,g,M,w){for(var n=2*a,S=E,d=n*E;S<g;++S,d+=n){var I=M[b+d],L=w[S];e:for(var B=s,k=n*s;B<v;++B,k+=n){var F=x[B];if(!(I<A[b+k]||A[b+k+a]<I)){for(var N=b+1;N<a;++N)if(A[N+a+k]<M[N+d]||M[N+a+d]<A[N+k])continue e;var ue=p(F,L);if(void 0!==ue)return ue}}}}(a,b,p,v,A,x,E,g,M,w,n)}}y.partial=l(!1),y.full=l(!0)},2337:function(h,y,t){"use strict";h.exports=function O(F,N,H,X,ne,ie,ue,J,j){!function L(F,N){var H=8*l.log2(N+1)*(F+1)|0,X=l.nextPow2(w*H);d.length<X&&(r.free(d),d=r.mallocInt32(X));var ne=l.nextPow2(n*H);I.length<ne&&(r.free(I),I=r.mallocDouble(ne))}(F,X+ue);var K,W=0,V=2*F;for(B(W++,0,0,X,0,ue,H?16:0,-1/0,1/0),H||B(W++,0,0,ue,0,X,1,-1/0,1/0);W>0;){var ae=(W-=1)*w,Q=d[ae],Z=d[ae+1],re=d[ae+2],q=d[ae+3],se=d[ae+4],de=d[ae+5],we=W*n,ye=I[we],Pe=I[we+1],Ie=1&de,Se=!!(16&de),xe=ne,Me=ie,Ge=J,Ye=j;if(Ie&&(xe=J,Me=j,Ge=ne,Ye=ie),!(2&de&&(re=x(F,Q,Z,re,xe,Me,Pe),Z>=re)||4&de&&(Z=E(F,Q,Z,re,xe,Me,ye),Z>=re))){var De=re-Z,He=se-q;if(Se){if(F*De*(De+He)<s){if(void 0!==(K=c.scanComplete(F,Q,N,Z,re,xe,Me,q,se,Ge,Ye)))return K;continue}}else{if(F*Math.min(De,He)<b){if(void 0!==(K=u(F,Q,N,Ie,Z,re,xe,Me,q,se,Ge,Ye)))return K;continue}if(F*De*He<p){if(void 0!==(K=c.scanBipartite(F,Q,N,Ie,Z,re,xe,Me,q,se,Ge,Ye)))return K;continue}}var rt=v(F,Q,Z,re,xe,Me,ye,Pe);if(Z<rt)if(F*(rt-Z)<b){if(void 0!==(K=f(F,Q+1,N,Z,rt,xe,Me,q,se,Ge,Ye)))return K}else if(Q===F-2){if(void 0!==(K=Ie?c.sweepBipartite(F,N,q,se,Ge,Ye,Z,rt,xe,Me):c.sweepBipartite(F,N,Z,rt,xe,Me,q,se,Ge,Ye)))return K}else B(W++,Q+1,Z,rt,q,se,Ie,-1/0,1/0),B(W++,Q+1,q,se,Z,rt,1^Ie,-1/0,1/0);if(rt<re){var $e=m(F,Q,q,se,Ge,Ye),Be=Ge[V*$e+Q],ze=A(F,Q,$e,se,Ge,Ye,Be);if(ze<se&&B(W++,Q,rt,re,ze,se,(4|Ie)+(Se?16:0),Be,Pe),q<$e&&B(W++,Q,rt,re,q,$e,(2|Ie)+(Se?16:0),ye,Be),$e+1===ze){if(void 0!==(K=Se?z(F,Q,N,rt,re,xe,Me,$e,Ge,Ye[$e]):k(F,Q,N,Ie,rt,re,xe,Me,$e,Ge,Ye[$e])))return K}else if($e<ze){var tt;if(Se){if(rt<(tt=g(F,Q,rt,re,xe,Me,Be))){var lt=A(F,Q,rt,tt,xe,Me,Be);if(Q===F-2){if(rt<lt&&void 0!==(K=c.sweepComplete(F,N,rt,lt,xe,Me,$e,ze,Ge,Ye))||lt<tt&&void 0!==(K=c.sweepBipartite(F,N,lt,tt,xe,Me,$e,ze,Ge,Ye)))return K}else rt<lt&&B(W++,Q+1,rt,lt,$e,ze,16,-1/0,1/0),lt<tt&&(B(W++,Q+1,lt,tt,$e,ze,0,-1/0,1/0),B(W++,Q+1,$e,ze,lt,tt,1,-1/0,1/0))}}else rt<(tt=Ie?M(F,Q,rt,re,xe,Me,Be):g(F,Q,rt,re,xe,Me,Be))&&(Q===F-2?K=Ie?c.sweepBipartite(F,N,$e,ze,Ge,Ye,rt,tt,xe,Me):c.sweepBipartite(F,N,rt,tt,xe,Me,$e,ze,Ge,Ye):(B(W++,Q+1,rt,tt,$e,ze,Ie,-1/0,1/0),B(W++,Q+1,$e,ze,rt,tt,1^Ie,-1/0,1/0)))}}}}};var r=t(5306),l=t(2288),i=t(7333),u=i.partial,f=i.full,c=t(1390),m=t(2464),a=t(122),b=128,p=1<<22,s=1<<22,v=a("!(lo>=p0)&&!(p1>=hi)"),A=a("lo===p0"),x=a("lo<p0"),E=a("hi<=p0"),g=a("lo<=p0&&p0<=hi"),M=a("lo<p0&&p0<=hi"),w=6,n=2,d=r.mallocInt32(1024),I=r.mallocDouble(1024);function B(F,N,H,X,ne,ie,ue,J,j){var W=w*F;d[W]=N,d[W+1]=H,d[W+2]=X,d[W+3]=ne,d[W+4]=ie,d[W+5]=ue;var V=n*F;I[V]=J,I[V+1]=j}function k(F,N,H,X,ne,ie,ue,J,j,W,V){var K=2*F,ae=j*K,Q=W[ae+N];e:for(var Z=ne,re=ne*K;Z<ie;++Z,re+=K){var se=ue[re+N+F];if(!(Q<(q=ue[re+N])||se<Q||X&&Q===q)){for(var de=J[Z],we=N+1;we<F;++we){var q=ue[re+we];if((se=ue[re+we+F])<W[ae+we]||W[ae+we+F]<q)continue e}var Ie;if(void 0!==(Ie=X?H(V,de):H(de,V)))return Ie}}}function z(F,N,H,X,ne,ie,ue,J,j,W){var V=2*F,K=J*V,ae=j[K+N];e:for(var Q=X,Z=X*V;Q<ne;++Q,Z+=V){var re=ue[Q];if(re!==W){var se=ie[Z+N+F];if(!(ae<(q=ie[Z+N])||se<ae)){for(var de=N+1;de<F;++de){var q=ie[Z+de];if((se=ie[Z+de+F])<j[K+de]||j[K+de+F]<q)continue e}var Pe=H(re,W);if(void 0!==Pe)return Pe}}}}},2464:function(h,y,t){"use strict";h.exports=function f(c,m,a,b,p,s){if(b<=a+1)return a;for(var v=a,A=b,x=b+a>>>1,E=2*c,g=x,M=p[E*x+m];v<A;){if(A-v<i){u(c,m,v,A,p,s),M=p[E*x+m];break}var w=A-v,n=Math.random()*w+v|0,S=p[E*n+m],d=Math.random()*w+v|0,I=p[E*d+m],L=Math.random()*w+v|0,B=p[E*L+m];S<=I?B>=I?(g=d,M=I):S>=B?(g=n,M=S):(g=L,M=B):I>=B?(g=d,M=I):B>=S?(g=n,M=S):(g=L,M=B);for(var O=E*(A-1),F=E*g,k=0;k<E;++k,++O,++F){var z=p[O];p[O]=p[F],p[F]=z}var N=s[A-1];for(s[A-1]=s[g],s[g]=N,O=E*(A-1),F=E*(g=l(c,m,v,A-1,p,s,M)),k=0;k<E;++k,++O,++F)z=p[O],p[O]=p[F],p[F]=z;if(N=s[A-1],s[A-1]=s[g],s[g]=N,x<g){for(A=g-1;v<A&&p[E*(A-1)+m]===M;)A-=1;A+=1}else{if(!(g<x))break;for(v=g+1;v<A&&p[E*v+m]===M;)v+=1}}return l(c,m,a,x,p,s,p[E*x+m])};var l=t(122)("lo<p0"),i=8;function u(c,m,a,b,p,s){for(var v=2*c,A=v*(a+1)+m,x=a+1;x<b;++x,A+=v)for(var E=p[A],g=x,M=v*(x-1);g>a&&p[M+m]>E;--g,M-=v){for(var w=M,n=M+v,S=0;S<v;++S,++w,++n){var d=p[w];p[w]=p[n],p[n]=d}var I=s[g];s[g]=s[g-1],s[g-1]=I}}},122:function(h){"use strict";h.exports=function t(a){return y[a]};var y={"lo===p0":function r(a,b,p,s,v,A,x){for(var E=2*a,g=E*p,M=g,w=p,n=b,d=p;s>d;++d,g+=E)if(v[g+n]===x)if(w===d)w+=1,M+=E;else{for(var L=0;E>L;++L){var B=v[g+L];v[g+L]=v[M],v[M++]=B}var k=A[d];A[d]=A[w],A[w++]=k}return w},"lo<p0":function l(a,b,p,s,v,A,x){for(var E=2*a,g=E*p,M=g,w=p,n=b,d=p;s>d;++d,g+=E)if(v[g+n]<x)if(w===d)w+=1,M+=E;else{for(var L=0;E>L;++L){var B=v[g+L];v[g+L]=v[M],v[M++]=B}var k=A[d];A[d]=A[w],A[w++]=k}return w},"lo<=p0":function i(a,b,p,s,v,A,x){for(var E=2*a,g=E*p,M=g,w=p,S=a+b,d=p;s>d;++d,g+=E)if(v[g+S]<=x)if(w===d)w+=1,M+=E;else{for(var L=0;E>L;++L){var B=v[g+L];v[g+L]=v[M],v[M++]=B}var k=A[d];A[d]=A[w],A[w++]=k}return w},"hi<=p0":function u(a,b,p,s,v,A,x){for(var E=2*a,g=E*p,M=g,w=p,S=a+b,d=p;s>d;++d,g+=E)if(v[g+S]<=x)if(w===d)w+=1,M+=E;else{for(var L=0;E>L;++L){var B=v[g+L];v[g+L]=v[M],v[M++]=B}var k=A[d];A[d]=A[w],A[w++]=k}return w},"lo<p0&&p0<=hi":function c(a,b,p,s,v,A,x){for(var E=2*a,g=E*p,M=g,w=p,n=b,S=a+b,d=p;s>d;++d,g+=E)if(v[g+n]<x&&x<=v[g+S])if(w===d)w+=1,M+=E;else{for(var B=0;E>B;++B){var k=v[g+B];v[g+B]=v[M],v[M++]=k}var z=A[d];A[d]=A[w],A[w++]=z}return w},"lo<=p0&&p0<=hi":function f(a,b,p,s,v,A,x){for(var E=2*a,g=E*p,M=g,w=p,n=b,S=a+b,d=p;s>d;++d,g+=E)if(v[g+n]<=x&&x<=v[g+S])if(w===d)w+=1,M+=E;else{for(var B=0;E>B;++B){var k=v[g+B];v[g+B]=v[M],v[M++]=k}var z=A[d];A[d]=A[w],A[w++]=z}return w},"!(lo>=p0)&&!(p1>=hi)":function m(a,b,p,s,v,A,x,E){for(var g=2*a,M=g*p,w=M,n=p,S=b,d=a+b,I=p;s>I;++I,M+=g)if(!(v[M+S]>=x||E>=v[M+d]))if(n===I)n+=1,w+=g;else{for(var k=0;g>k;++k){var z=v[M+k];v[M+k]=v[w],v[w++]=z}var O=A[I];A[I]=A[n],A[n++]=O}return n}}},309:function(h){"use strict";h.exports=function t(b,p){p<=4*y?r(0,p-1,b):a(0,p-1,b)};var y=32;function r(b,p,s){for(var v=2*(b+1),A=b+1;A<=p;++A){for(var x=s[v++],E=s[v++],g=A,M=v-2;g-- >b;){var w=s[M-2],n=s[M-1];if(w<x)break;if(w===x&&n<E)break;s[M]=w,s[M+1]=n,M-=2}s[M]=x,s[M+1]=E}}function l(b,p,s){var v=s[b*=2],A=s[b+1];s[b]=s[p*=2],s[b+1]=s[p+1],s[p]=v,s[p+1]=A}function i(b,p,s){s[b*=2]=s[p*=2],s[b+1]=s[p+1]}function u(b,p,s,v){s*=2;var A=v[b*=2],x=v[b+1];v[b]=v[p*=2],v[b+1]=v[p+1],v[p]=v[s],v[p+1]=v[s+1],v[s]=A,v[s+1]=x}function f(b,p,s,v,A){A[b*=2]=A[p*=2],A[p]=s,A[b+1]=A[p+1],A[p+1]=v}function c(b,p,s){var v=s[b*=2],A=s[p*=2];return!(v<A)&&(v!==A||s[b+1]>s[p+1])}function m(b,p,s,v){var A=v[b*=2];return A<p||A===p&&v[b+1]<s}function a(b,p,s){var v=(p-b+1)/6|0,A=b+v,x=p-v,E=b+p>>1,g=E-v,M=E+v,w=A,n=g,S=E,d=M,I=x,L=b+1,B=p-1,k=0;c(w,n,s)&&(k=w,w=n,n=k),c(d,I,s)&&(k=d,d=I,I=k),c(w,S,s)&&(k=w,w=S,S=k),c(n,S,s)&&(k=n,n=S,S=k),c(w,d,s)&&(k=w,w=d,d=k),c(S,d,s)&&(k=S,S=d,d=k),c(n,I,s)&&(k=n,n=I,I=k),c(n,S,s)&&(k=n,n=S,S=k),c(d,I,s)&&(k=d,d=I,I=k);for(var z=s[2*n],O=s[2*n+1],F=s[2*d],N=s[2*d+1],H=2*w,X=2*S,ne=2*I,ie=2*A,ue=2*E,J=2*x,j=0;j<2;++j){var V=s[X+j],K=s[ne+j];s[ie+j]=s[H+j],s[ue+j]=V,s[J+j]=K}i(g,b,s),i(M,p,s);for(var ae=L;ae<=B;++ae)if(m(ae,z,O,s))ae!==L&&l(ae,L,s),++L;else if(!m(ae,F,N,s))for(;;){if(m(B,F,N,s)){m(B,z,O,s)?(u(ae,L,B,s),++L,--B):(l(ae,B,s),--B);break}if(--B<ae)break}f(b,L-1,z,O,s),f(p,B+1,F,N,s),L-2-b<=y?r(b,L-2,s):a(b,L-2,s),p-(B+2)<=y?r(B+2,p,s):a(B+2,p,s),B-L<=y?r(L,B,s):a(L,B,s)}},1390:function(h,y,t){"use strict";h.exports={init:function A(S){var d=l.nextPow2(S);c.length<d&&(r.free(c),c=r.mallocInt32(d)),m.length<d&&(r.free(m),m=r.mallocInt32(d)),a.length<d&&(r.free(a),a=r.mallocInt32(d)),b.length<d&&(r.free(b),b=r.mallocInt32(d)),p.length<d&&(r.free(p),p=r.mallocInt32(d)),s.length<d&&(r.free(s),s=r.mallocInt32(d));var I=8*d;v.length<I&&(r.free(v),v=r.mallocDouble(I))},sweepBipartite:function g(S,d,I,L,B,k,z,O,F,N){for(var H=0,X=2*S,ne=S-1,ie=X-1,ue=I;ue<L;++ue){var J=k[ue],j=X*ue;v[H++]=B[j+ne],v[H++]=-(J+1),v[H++]=B[j+ie],v[H++]=J}for(ue=z;ue<O;++ue){J=N[ue]+u;var W=X*ue;v[H++]=F[W+ne],v[H++]=-J,v[H++]=F[W+ie],v[H++]=J}var V=H>>>1;i(v,V);var K=0,ae=0;for(ue=0;ue<V;++ue){var Q=0|v[2*ue+1];if(Q>=u)x(a,b,ae--,Q=Q-u|0);else if(Q>=0)x(c,m,K--,Q);else if(Q<=-u){Q=-Q-u|0;for(var Z=0;Z<K;++Z)if(void 0!==(re=d(c[Z],Q)))return re;E(a,b,ae++,Q)}else{for(Q=-Q-1|0,Z=0;Z<ae;++Z){var re;if(void 0!==(re=d(Q,a[Z])))return re}E(c,m,K++,Q)}}},sweepComplete:function M(S,d,I,L,B,k,z,O,F,N){for(var H=0,X=2*S,ne=S-1,ie=X-1,ue=I;ue<L;++ue){var J=k[ue]+1<<1,j=X*ue;v[H++]=B[j+ne],v[H++]=-J,v[H++]=B[j+ie],v[H++]=J}for(ue=z;ue<O;++ue){J=N[ue]+1<<1;var W=X*ue;v[H++]=F[W+ne],v[H++]=1|-J,v[H++]=F[W+ie],v[H++]=1|J}var V=H>>>1;i(v,V);var K=0,ae=0,Q=0;for(ue=0;ue<V;++ue){var Z=0|v[2*ue+1],re=1&Z;if(ue<V-1&&Z>>1==v[2*ue+3]>>1&&(re=2,ue+=1),Z<0){for(var q=-(Z>>1)-1,se=0;se<Q;++se)if(void 0!==(de=d(p[se],q)))return de;if(0!==re)for(se=0;se<K;++se)if(void 0!==(de=d(c[se],q)))return de;if(1!==re)for(se=0;se<ae;++se){var de;if(void 0!==(de=d(a[se],q)))return de}0===re?E(c,m,K++,q):1===re?E(a,b,ae++,q):2===re&&E(p,s,Q++,q)}else q=(Z>>1)-1,0===re?x(c,m,K--,q):1===re?x(a,b,ae--,q):2===re&&x(p,s,Q--,q)}},scanBipartite:function w(S,d,I,L,B,k,z,O,F,N,H,X){var ne=0,ie=2*S,ue=d,J=d+S,j=1,W=1;L?W=u:j=u;for(var V=B;V<k;++V){var K=V+j,ae=ie*V;v[ne++]=z[ae+ue],v[ne++]=-K,v[ne++]=z[ae+J],v[ne++]=K}for(V=F;V<N;++V)K=V+W,v[ne++]=H[ie*V+ue],v[ne++]=-K;var Z=ne>>>1;i(v,Z);var re=0;for(V=0;V<Z;++V){var q=0|v[2*V+1];if(q<0){var se=!1;if((K=-q)>=u?(se=!L,K-=u):(se=!!L,K-=1),se)E(c,m,re++,K);else{var de=X[K],we=ie*K,ye=H[we+d+1],Pe=H[we+d+1+S];e:for(var Ie=0;Ie<re;++Ie){var Se=c[Ie],xe=ie*Se;if(!(Pe<z[xe+d+1]||z[xe+d+1+S]<ye)){for(var Me=d+2;Me<S;++Me)if(H[we+Me+S]<z[xe+Me]||z[xe+Me+S]<H[we+Me])continue e;var Ye,Ge=O[Se];if(void 0!==(Ye=L?I(de,Ge):I(Ge,de)))return Ye}}}}else x(c,m,re--,q-j)}},scanComplete:function n(S,d,I,L,B,k,z,O,F,N,H){for(var X=0,ne=2*S,ie=d,ue=d+S,J=L;J<B;++J){var j=J+u,W=ne*J;v[X++]=k[W+ie],v[X++]=-j,v[X++]=k[W+ue],v[X++]=j}for(J=O;J<F;++J)j=J+1,v[X++]=N[ne*J+ie],v[X++]=-j;var K=X>>>1;i(v,K);var ae=0;for(J=0;J<K;++J){var Q=0|v[2*J+1];if(Q<0)if((j=-Q)>=u)c[ae++]=j-u;else{var Z=H[j-=1],re=ne*j,q=N[re+d+1],se=N[re+d+1+S];e:for(var de=0;de<ae;++de){var we=c[de],ye=z[we];if(ye===Z)break;var Pe=ne*we;if(!(se<k[Pe+d+1]||k[Pe+d+1+S]<q)){for(var Ie=d+2;Ie<S;++Ie)if(N[re+Ie+S]<k[Pe+Ie]||k[Pe+Ie+S]<N[re+Ie])continue e;var Se=I(ye,Z);if(void 0!==Se)return Se}}}else{for(j=Q-u,de=ae-1;de>=0;--de)if(c[de]===j){for(Ie=de+1;Ie<ae;++Ie)c[Ie-1]=c[Ie];break}--ae}}}};var r=t(5306),l=t(2288),i=t(309),u=1<<28,f=1024,c=r.mallocInt32(f),m=r.mallocInt32(f),a=r.mallocInt32(f),b=r.mallocInt32(f),p=r.mallocInt32(f),s=r.mallocInt32(f),v=r.mallocDouble(8*f);function x(S,d,I,L){var B=d[L],k=S[I-1];S[B]=k,d[k]=B}function E(S,d,I,L){S[I]=L,d[L]=I}},7761:function(h,y,t){"use strict";var r=t(9971),l=t(743),i=t(2161),u=t(7098);function f(p){return[Math.min(p[0],p[1]),Math.max(p[0],p[1])]}function c(p,s){return p[0]-s[0]||p[1]-s[1]}function a(p,s,v){return s in p?p[s]:v}h.exports=function b(p,s,v){Array.isArray(s)?(v=v||{},s=s||[]):(v=s||{},s=[]);var A=!!a(v,"delaunay",!0),x=!!a(v,"interior",!0),E=!!a(v,"exterior",!0),g=!!a(v,"infinity",!1);if(!x&&!E||0===p.length)return[];var M=r(p,s);if(A||x!==E||g){for(var w=l(p.length,function m(p){return p.map(f).sort(c)}(s)),n=0;n<M.length;++n){var S=M[n];w.addTriangle(S[0],S[1],S[2])}return A&&i(p,w),E?x?g?u(w,0,g):w.cells():u(w,1,g):u(w,-1)}return M}},2161:function(h,y,t){"use strict";var r=t(2227)[4];function i(f,c,m,a,b,p){var s=c.opposite(a,b);if(!(s<0)){if(b<a){var v=a;a=b,b=v,v=p,p=s,s=v}c.isConstraint(a,b)||r(f[a],f[b],f[p],f[s])<0&&m.push(a,b)}}t(5070),h.exports=function u(f,c){for(var m=[],a=f.length,b=c.stars,p=0;p<a;++p)for(var s=b[p],v=1;v<s.length;v+=2)if(!((A=s[v])<p||c.isConstraint(p,A))){for(var x=s[v-1],E=-1,g=1;g<s.length;g+=2)if(s[g-1]===A){E=s[g];break}E<0||r(f[p],f[A],f[x],f[E])<0&&m.push(p,A)}for(;m.length>0;){for(var A=m.pop(),M=(x=-1,E=-1,s=b[p=m.pop()],1);M<s.length;M+=2){var w=s[M-1],n=s[M];w===A?E=n:n===A&&(x=w)}x<0||E<0||r(f[p],f[A],f[x],f[E])>=0||(c.flip(p,A),i(f,c,m,x,p,E),i(f,c,m,p,E,x),i(f,c,m,E,A,x),i(f,c,m,A,x,E))}}},7098:function(h,y,t){"use strict";var a,r=t(5070);function l(a,b,p,s,v,A,x){this.cells=a,this.neighbor=b,this.flags=s,this.constraint=p,this.active=v,this.next=A,this.boundary=x}function u(a,b){return a[0]-b[0]||a[1]-b[1]||a[2]-b[2]}h.exports=function m(a,b,p){var s=function f(a,b){for(var p=a.cells(),s=p.length,v=0;v<s;++v){var x=(A=p[v])[0],g=A[2];(E=A[1])<g?E<x&&(A[0]=E,A[1]=g,A[2]=x):g<x&&(A[0]=g,A[1]=x,A[2]=E)}p.sort(u);var M=new Array(s);for(v=0;v<M.length;++v)M[v]=0;var w=[],n=[],S=new Array(3*s),d=new Array(3*s),I=null;b&&(I=[]);var L=new l(p,S,d,M,w,n,I);for(v=0;v<s;++v)for(var A=p[v],B=0;B<3;++B){var E,k=S[3*v+B]=L.locate(E=A[(B+1)%3],x=A[B],a.opposite(E,x)),z=d[3*v+B]=a.isConstraint(x,E);k<0&&(z?n.push(v):(w.push(v),M[v]=1),b&&I.push([E,x,-1]))}return L}(a,p);if(0===b)return p?s.cells.concat(s.boundary):s.cells;for(var v=1,A=s.active,x=s.next,E=s.flags,g=s.cells,M=s.constraint,w=s.neighbor;A.length>0||x.length>0;){for(;A.length>0;){var n=A.pop();if(E[n]!==-v){E[n]=v;for(var d=0;d<3;++d){var I=w[3*n+d];I>=0&&0===E[I]&&(M[3*n+d]?x.push(I):(A.push(I),E[I]=v))}}}var L=x;x=A,A=L,x.length=0,v=-v}var B=function c(a,b,p){for(var s=0,v=0;v<a.length;++v)b[v]===p&&(a[s++]=a[v]);return a.length=s,a}(g,E,b);return p?B.concat(s.boundary):B},l.prototype.locate=(a=[0,0,0],function(b,p,s){var v=b,A=p,x=s;return p<s?p<b&&(v=p,A=s,x=b):s<b&&(v=s,A=b,x=p),v<0?-1:(a[0]=v,a[1]=A,a[2]=x,r.eq(this.cells,a,u))})},9971:function(h,y,t){"use strict";var r=t(5070),l=t(417)[3],i=0;function c(E,g,M,w,n){this.a=E,this.b=g,this.idx=M,this.lowerIds=w,this.upperIds=n}function m(E,g,M,w){this.a=E,this.b=g,this.type=M,this.idx=w}function a(E,g){var M=E.a[0]-g.a[0]||E.a[1]-g.a[1]||E.type-g.type;return M||E.type!==i&&(M=l(E.a,E.b,g.b))?M:E.idx-g.idx}function b(E,g){return l(E.a,E.b,g)}function p(E,g,M,w,n){for(var S=r.lt(g,w,b),d=r.gt(g,w,b),I=S;I<d;++I){for(var L=g[I],B=L.lowerIds,z=B.length;z>1&&l(M[B[z-2]],M[B[z-1]],w)>0;)E.push([B[z-1],B[z-2],n]),z-=1;B.length=z,B.push(n);var k=L.upperIds;for(z=k.length;z>1&&l(M[k[z-2]],M[k[z-1]],w)<0;)E.push([k[z-2],k[z-1],n]),z-=1;k.length=z,k.push(n)}}function s(E,g){return(E.a[0]<g.a[0]?l(E.a,E.b,g.a):l(g.b,g.a,E.a))||(g.b[0]<E.b[0]?l(E.a,E.b,g.b):l(g.b,g.a,E.b))||E.idx-g.idx}function v(E,g,M){var w=r.le(E,M,s),n=E[w],S=n.upperIds,d=S[S.length-1];n.upperIds=[d],E.splice(w+1,0,new c(M.a,M.b,M.idx,[d],S))}function A(E,g,M){var w=M.a;M.a=M.b,M.b=w;var n=r.eq(E,M,s);E[n-1].upperIds=E[n].upperIds,E.splice(n,1)}h.exports=function x(E,g){for(var M=E.length,w=g.length,n=[],S=0;S<M;++S)n.push(new m(E[S],null,i,S));for(S=0;S<w;++S){var d=g[S],I=E[d[0]],L=E[d[1]];I[0]<L[0]?n.push(new m(I,L,2,S),new m(L,I,1,S)):I[0]>L[0]&&n.push(new m(L,I,2,S),new m(I,L,1,S))}n.sort(a);for(var B=n[0].a[0]-(1+Math.abs(n[0].a[0]))*Math.pow(2,-52),k=[new c([B,1],[B,0],-1,[],[],[],[])],z=[],O=(S=0,n.length);S<O;++S){var F=n[S],N=F.type;N===i?p(z,k,E,F.a,F.idx):2===N?v(k,0,F):A(k,0,F)}return z}},743:function(h,y,t){"use strict";var r=t(5070);function l(c,m){this.stars=c,this.edges=m}h.exports=function f(c,m){for(var a=new Array(c),b=0;b<c;++b)a[b]=[];return new l(a,m)};var i=l.prototype;function u(c,m,a){for(var b=1,p=c.length;b<p;b+=2)if(c[b-1]===m&&c[b]===a)return c[b-1]=c[p-2],c[b]=c[p-1],void(c.length=p-2)}i.isConstraint=function(){var c=[0,0];function m(a,b){return a[0]-b[0]||a[1]-b[1]}return function(a,b){return c[0]=Math.min(a,b),c[1]=Math.max(a,b),r.eq(this.edges,c,m)>=0}}(),i.removeTriangle=function(c,m,a){var b=this.stars;u(b[c],m,a),u(b[m],a,c),u(b[a],c,m)},i.addTriangle=function(c,m,a){var b=this.stars;b[c].push(m,a),b[m].push(a,c),b[a].push(c,m)},i.opposite=function(c,m){for(var a=this.stars[m],b=1,p=a.length;b<p;b+=2)if(a[b]===c)return a[b-1];return-1},i.flip=function(c,m){var a=this.opposite(c,m),b=this.opposite(m,c);this.removeTriangle(c,m,a),this.removeTriangle(m,c,b),this.addTriangle(c,b,a),this.addTriangle(m,a,b)},i.edges=function(){for(var c=this.stars,m=[],a=0,b=c.length;a<b;++a)for(var p=c[a],s=0,v=p.length;s<v;s+=2)m.push([p[s],p[s+1]]);return m},i.cells=function(){for(var c=this.stars,m=[],a=0,b=c.length;a<b;++a)for(var p=c[a],s=0,v=p.length;s<v;s+=2){var A=p[s],x=p[s+1];a<Math.min(A,x)&&m.push([a,A,x])}return m}},9887:function(h){"use strict";h.exports=function y(t){for(var r=1,l=1;l<t.length;++l)for(var i=0;i<l;++i)if(t[l]<t[i])r=-r;else if(t[i]===t[l])return 0;return r}},9243:function(h,y,t){"use strict";var r=t(3094),l=t(6606);function i(c,m){for(var a=0,b=c.length,p=0;p<b;++p)a+=c[p]*m[p];return a}function u(c){var m=c.length;if(0===m)return[];var b=r([c.length+1,c.length+1],1),p=r([c.length+1],1);b[m][m]=0;for(var s=0;s<m;++s){for(var v=0;v<=s;++v)b[v][s]=b[s][v]=2*i(c[s],c[v]);p[s]=i(c[s],c[s])}var A=l(b,p),x=0,E=A[m+1];for(s=0;s<E.length;++s)x+=E[s];var g=new Array(m);for(s=0;s<m;++s){E=A[s];var M=0;for(v=0;v<E.length;++v)M+=E[v];g[s]=M/x}return g}function f(c){if(0===c.length)return[];for(var m=c[0].length,a=r([m]),b=u(c),p=0;p<c.length;++p)for(var s=0;s<m;++s)a[s]+=c[p][s]*b[p];return a}f.barycenetric=u,h.exports=f},1778:function(h,y,t){h.exports=function l(i){for(var u=r(i),f=0,c=0;c<i.length;++c)for(var m=i[c],a=0;a<u.length;++a)f+=Math.pow(m[a]-u[a],2);return Math.sqrt(f/i.length)};var r=t(9243)},197:function(h,y,t){"use strict";h.exports=function I(L,B,k){var z;if(k){z=B;for(var O=new Array(B.length),F=0;F<B.length;++F)O[F]=[(N=B[F])[0],N[1],k[F]];B=O}for(var H=function S(L,B,k){var z=g(L,[],v(L));return n(B,z,k),!!z}(L,B,!!k);d(L,B,!!k);)H=!0;if(k&&H)for(z.length=0,k.length=0,F=0;F<B.length;++F){var N;z.push([(N=B[F])[0],N[1]]),k.push(N[2])}return H};var r=t(1731),l=t(2569),i=t(4434),u=t(5125),f=t(8846),c=t(7999),m=t(2826),a=t(8551),b=t(5528);function p(L){var B=c(L);return[a(B,-1/0),a(B,1/0)]}function v(L){for(var B=new Array(L.length),k=0;k<L.length;++k){var z=L[k];B[k]=[a(z[0],-1/0),a(z[1],-1/0),a(z[0],1/0),a(z[1],1/0)]}return B}function g(L,B,k){for(var z=B.length,O=new r(z),F=[],N=0;N<B.length;++N){var H=B[N],X=p(H[0]),ne=p(H[1]);F.push([a(X[0],-1/0),a(ne[0],-1/0),a(X[1],1/0),a(ne[1],1/0)])}l(F,function(W,V){O.link(W,V)});var ie=!0,ue=new Array(z);for(N=0;N<z;++N)(J=O.find(N))!==N&&(ie=!1,L[J]=[Math.min(L[N][0],L[J][0]),Math.min(L[N][1],L[J][1])]);if(ie)return null;var j=0;for(N=0;N<z;++N){var J;(J=O.find(N))===N?(ue[N]=j,L[j++]=L[N]):ue[N]=-1}for(L.length=j,N=0;N<z;++N)ue[N]<0&&(ue[N]=ue[O.find(N)]);return ue}function M(L,B){return L[0]-B[0]||L[1]-B[1]}function w(L,B){return L[0]-B[0]||L[1]-B[1]||(L[2]<B[2]?-1:L[2]>B[2]?1:0)}function n(L,B,k){if(0!==L.length){if(B)for(var z=0;z<L.length;++z){var F=B[(O=L[z])[0]],N=B[O[1]];O[0]=Math.min(F,N),O[1]=Math.max(F,N)}else for(z=0;z<L.length;++z){var O;F=(O=L[z])[0],N=O[1],O[0]=Math.min(F,N),O[1]=Math.max(F,N)}L.sort(k?w:M);var H=1;for(z=1;z<L.length;++z){var X=L[z-1],ne=L[z];ne[0]===X[0]&&ne[1]===X[1]&&(!k||ne[2]===X[2])||(L[H++]=ne)}L.length=H}}function d(L,B,k){var z=function s(L,B){for(var k=new Array(B.length),z=0;z<B.length;++z){var O=B[z],F=L[O[0]],N=L[O[1]];k[z]=[a(Math.min(F[0],N[0]),-1/0),a(Math.min(F[1],N[1]),-1/0),a(Math.max(F[0],N[0]),1/0),a(Math.max(F[1],N[1]),1/0)]}return k}(L,B),O=function A(L,B,k){var z=[];return l(k,function(O,F){var N=B[O],H=B[F];N[0]!==H[0]&&N[0]!==H[1]&&N[1]!==H[0]&&N[1]!==H[1]&&i(L[N[0]],L[N[1]],L[H[0]],L[H[1]])&&z.push([O,F])}),z}(L,B,z),F=v(L),N=function x(L,B,k,z){var O=[];return l(k,z,function(F,N){var H=B[F];if(H[0]!==N&&H[1]!==N){var X=L[N];i(L[H[0]],L[H[1]],X,X)&&O.push([F,N])}}),O}(L,B,z,F),X=g(L,function E(L,B,k,z,O){var F,N,H=L.map(function(we){return[u(we[0]),u(we[1])]});for(F=0;F<k.length;++F){var X=k[F],ne=X[1],ie=B[N=X[0]],ue=B[ne],J=b(m(L[ie[0]]),m(L[ie[1]]),m(L[ue[0]]),m(L[ue[1]]));if(J){var j=L.length;L.push([c(J[0]),c(J[1])]),H.push(J),z.push([N,j],[ne,j])}}for(z.sort(function(we,ye){if(we[0]!==ye[0])return we[0]-ye[0];var Pe=H[we[1]],Ie=H[ye[1]];return f(Pe[0],Ie[0])||f(Pe[1],Ie[1])}),F=z.length-1;F>=0;--F){var V=B[N=(W=z[F])[0]],K=V[0],ae=V[1],Q=L[K],Z=L[ae];if((Q[0]-Z[0]||Q[1]-Z[1])<0){var re=K;K=ae,ae=re}V[0]=K;var se,q=V[1]=W[1];for(O&&(se=V[2]);F>0&&z[F-1][0]===N;){var W,de=(W=z[--F])[1];B.push(O?[q,de,se]:[q,de]),q=de}B.push(O?[q,ae,se]:[q,ae])}return H}(L,B,O,N,k));return n(B,X,k),!!X||O.length>0||N.length>0}},5528:function(h,y,t){"use strict";h.exports=function b(p,s,v,A){var x=f(s,p),E=f(A,v),g=a(x,E);if(0===u(g))return null;var w=a(E,f(p,v)),n=l(w,g),S=m(x,n);return c(p,S)};var r=t(3962),l=t(9189),i=t(4354),u=t(4951),f=t(6695),c=t(7584),m=t(4469);function a(p,s){return i(r(p[0],s[1]),r(p[1],s[0]))}},5692:function(h){h.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(h,y,t){"use strict";var r=t(5692),l=t(3578);function u(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function f(m){for(var a,b="#",p=0;p<3;++p)b+=("00"+(a=(a=m[p]).toString(16))).substr(a.length);return b}function c(m){return"rgba("+m.join(",")+")"}h.exports=function i(m){var a,b,p,s,v,A,x,E,g,M;if(m||(m={}),E=(m.nshades||72)-1,x=m.format||"hex",(A=m.colormap)||(A="jet"),"string"==typeof A){if(A=A.toLowerCase(),!r[A])throw Error(A+" not a supported colorscale");v=r[A]}else{if(!Array.isArray(A))throw Error("unsupported colormap option",A);v=A.slice()}if(v.length>E+1)throw new Error(A+" map requires nshades to be at least size "+v.length);g=Array.isArray(m.alpha)?2!==m.alpha.length?[1,1]:m.alpha.slice():"number"==typeof m.alpha?[m.alpha,m.alpha]:[1,1],a=v.map(function(I){return Math.round(I.index*E)}),g[0]=Math.min(Math.max(g[0],0),1),g[1]=Math.min(Math.max(g[1],0),1);var w=v.map(function(I,L){var B=v[L].index,k=v[L].rgb.slice();return 4===k.length&&k[3]>=0&&k[3]<=1||(k[3]=g[0]+(g[1]-g[0])*B),k}),n=[];for(M=0;M<a.length-1;++M){s=a[M+1]-a[M],b=w[M],p=w[M+1];for(var S=0;S<s;S++){var d=S/s;n.push([Math.round(l(b[0],p[0],d)),Math.round(l(b[1],p[1],d)),Math.round(l(b[2],p[2],d)),l(b[3],p[3],d)])}}return n.push(v[v.length-1].rgb.concat(g[1])),"hex"===x?n=n.map(f):"rgbaString"===x?n=n.map(c):"float"===x&&(n=n.map(u)),n}},9398:function(h,y,t){"use strict";h.exports=function m(a,b,p,s){var v=r(b,p,s);if(0===v){var A=l(r(a,b,p)),x=l(r(a,b,s));if(A===x){if(0===A){var E=c(a,b,p);return E===c(a,b,s)?0:E?1:-1}return 0}return 0===x?A>0||c(a,b,s)?-1:1:0===A?x>0||c(a,b,p)?1:-1:l(x-A)}var M=r(a,b,p);return M>0?v>0&&r(a,b,s)>0?1:-1:M<0?v>0||r(a,b,s)>0?1:-1:r(a,b,s)>0||c(a,b,p)?1:-1};var r=t(417),l=t(7538),i=t(87),u=t(2019),f=t(9662);function c(a,b,p){var s=i(a[0],-b[0]),v=i(a[1],-b[1]),A=i(p[0],-b[0]),x=i(p[1],-b[1]),E=f(u(s,A),u(v,x));return E[E.length-1]>=0}},7538:function(h){"use strict";h.exports=function(t){return t<0?-1:t>0?1:0}},9209:function(h){h.exports=function r(l,i){var u=l.length,f=l.length-i.length;if(f)return f;switch(u){case 0:return 0;case 1:return l[0]-i[0];case 2:return l[0]+l[1]-i[0]-i[1]||y(l[0],l[1])-y(i[0],i[1]);case 3:var c=l[0]+l[1],m=i[0]+i[1];if(f=c+l[2]-(m+i[2]))return f;var a=y(l[0],l[1]),b=y(i[0],i[1]);return y(a,l[2])-y(b,i[2])||y(a+l[2],c)-y(b+i[2],m);case 4:var p=l[0],s=l[1],v=l[2],A=l[3],x=i[0],E=i[1],g=i[2],M=i[3];return p+s+v+A-(x+E+g+M)||y(p,s,v,A)-y(x,E,g,M,x)||y(p+s,p+v,p+A,s+v,s+A,v+A)-y(x+E,x+g,x+M,E+g,E+M,g+M)||y(p+s+v,p+s+A,p+v+A,s+v+A)-y(x+E+g,x+E+M,x+g+M,E+g+M);default:for(var w=l.slice().sort(t),n=i.slice().sort(t),S=0;S<u;++S)if(f=w[S]-n[S])return f;return 0}};var y=Math.min;function t(l,i){return l-i}},1284:function(h,y,t){"use strict";var r=t(9209),l=t(9887);h.exports=function i(u,f){return r(u,f)||l(u)-l(f)}},5537:function(h,y,t){"use strict";var r=t(8950),l=t(8722),i=t(3332);h.exports=function u(f){var c=f.length;if(0===c)return[];if(1===c)return[[0]];var m=f[0].length;return 0===m?[]:1===m?r(f):2===m?l(f):i(f,m)}},8950:function(h){"use strict";h.exports=function y(t){for(var r=0,l=0,i=1;i<t.length;++i)t[i][0]<t[r][0]&&(r=i),t[i][0]>t[l][0]&&(l=i);return r<l?[[r],[l]]:r>l?[[l],[r]]:[[r]]}},8722:function(h,y,t){"use strict";h.exports=function l(i){var u=r(i),f=u.length;if(f<=2)return[];for(var c=new Array(f),m=u[f-1],a=0;a<f;++a){var b=u[a];c[a]=[m,b],m=b}return c};var r=t(3266)},3332:function(h,y,t){"use strict";h.exports=function f(c,m){try{return r(c,!0)}catch{var a=l(c);if(a.length<=m)return[];var b=function i(c,m){for(var a=c.length,b=new Array(a),p=0;p<m.length;++p)b[p]=c[m[p]];var s=m.length;for(p=0;p<a;++p)m.indexOf(p)<0&&(b[s++]=c[p]);return b}(c,a);return function u(c,m){for(var a=c.length,b=m.length,p=0;p<a;++p)for(var s=c[p],v=0;v<s.length;++v){var A=s[v];if(A<b)s[v]=m[A];else{A-=b;for(var x=0;x<b;++x)A>=m[x]&&(A+=1);s[v]=A}}return c}(r(b,!0),a)}};var r=t(2183),l=t(2153)},9680:function(h){"use strict";h.exports=function t(r,l,i,u,f,c){var m=f-1,a=f*f,b=m*m,p=(1+2*f)*b,s=f*b,v=a*(3-2*f),A=a*m;if(r.length){c||(c=new Array(r.length));for(var x=r.length-1;x>=0;--x)c[x]=p*r[x]+s*l[x]+v*i[x]+A*u[x];return c}return p*r+s*l+v*i+A*u},h.exports.derivative=function y(r,l,i,u,f,c){var m=6*f*f-6*f,a=3*f*f-4*f+1,b=-6*f*f+6*f,p=3*f*f-2*f;if(r.length){c||(c=new Array(r.length));for(var s=r.length-1;s>=0;--s)c[s]=m*r[s]+a*l[s]+b*i[s]+p*u[s];return c}return m*r+a*l+b*i[s]+p*u}},4419:function(h,y,t){"use strict";var r=t(2183),l=t(1215);function i(m,a){this.point=m,this.index=a}function u(m,a){for(var b=m.point,p=a.point,s=b.length,v=0;v<s;++v){var A=p[v]-b[v];if(A)return A}return 0}h.exports=function c(m,a){var b=m.length;if(0===b)return[];var p=m[0].length;if(p<1)return[];if(1===p)return function f(m,a,b){if(1===m)return b?[[-1,0]]:[];var p=a.map(function(E,g){return[E[0],g]});p.sort(function(E,g){return E[0]-g[0]});for(var s=new Array(m-1),v=1;v<m;++v)s[v-1]=[p[v-1][1],p[v][1]];return b&&s.push([-1,s[0][1]],[s[m-1][1],-1]),s}(b,m,a);for(var s=new Array(b),v=1,A=0;A<b;++A){for(var x=m[A],E=new Array(p+1),g=0,M=0;M<p;++M){var w=x[M];E[M]=w,g+=w*w}E[p]=g,s[A]=new i(E,A),v=Math.max(g,v)}l(s,u),b=s.length;var n=new Array(b+p+1),S=new Array(b+p+1),d=(p+1)*(p+1)*v,I=new Array(p+1);for(A=0;A<=p;++A)I[A]=0;for(I[p]=d,n[0]=I.slice(),S[0]=-1,A=0;A<=p;++A)(E=I.slice())[A]=1,n[A+1]=E,S[A+1]=-1;for(A=0;A<b;++A)n[A+p+1]=(L=s[A]).point,S[A+p+1]=L.index;var B=r(n,!1);if(B=B.filter(a?function(k){for(var z=0,O=0;O<=p;++O){var F=S[k[O]];if(F<0&&++z>=2)return!1;k[O]=F}return!0}:function(k){for(var z=0;z<=p;++z){var O=S[k[z]];if(O<0)return!1;k[z]=O}return!0}),1&p)for(A=0;A<B.length;++A){var L;E=(L=B[A])[0],L[0]=L[1],L[1]=E}return B}},8362:function(h){var y=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),r=new Uint32Array(t.buffer);if(t[0]=1,y=!0,1072693248===r[1]){let v=function(E,g){return r[0]=E,r[1]=g,t[0]},A=function(E){return t[0]=E,r[0]},x=function(E){return t[0]=E,r[1]};h.exports=function(g){return t[0]=g,[r[0],r[1]]},h.exports.pack=v,h.exports.lo=A,h.exports.hi=x}else if(1072693248===r[0]){let v=function(E,g){return r[1]=E,r[0]=g,t[0]},A=function(E){return t[0]=E,r[1]},x=function(E){return t[0]=E,r[0]};h.exports=function(g){return t[0]=g,[r[1],r[0]]},h.exports.pack=v,h.exports.lo=A,h.exports.hi=x}else y=!1}if(!y){let v=function(E,g){return l.writeUInt32LE(E,0,!0),l.writeUInt32LE(g,4,!0),l.readDoubleLE(0,!0)},A=function(E){return l.writeDoubleLE(E,0,!0),l.readUInt32LE(0,!0)},x=function(E){return l.writeDoubleLE(E,0,!0),l.readUInt32LE(4,!0)};var l=new Buffer(8);h.exports=function(g){return l.writeDoubleLE(g,0,!0),[l.readUInt32LE(0,!0),l.readUInt32LE(4,!0)]},h.exports.pack=v,h.exports.lo=A,h.exports.hi=x}h.exports.sign=function(v){return h.exports.hi(v)>>>31},h.exports.exponent=function(v){return(h.exports.hi(v)<<1>>>21)-1023},h.exports.fraction=function(v){var A=h.exports.lo(v),x=h.exports.hi(v),E=1048575&x;return 2146435072&x&&(E+=1048576),[A,E]},h.exports.denormalized=function(v){return!(2146435072&h.exports.hi(v))}},3094:function(h){"use strict";function y(l,i,u){var f=0|l[u];if(f<=0)return[];var m,c=new Array(f);if(u===l.length-1)for(m=0;m<f;++m)c[m]=i;else for(m=0;m<f;++m)c[m]=y(l,i,u+1);return c}h.exports=function r(l,i){switch(typeof i>"u"&&(i=0),typeof l){case"number":if(l>0)return function t(l,i){var u,f;for(u=new Array(l),f=0;f<l;++f)u[f]=i;return u}(0|l,i);break;case"object":if("number"==typeof l.length)return y(l,i,0)}return[]}},8348:function(h,y,t){"use strict";h.exports=function l(i,u){var f=i.length;if("number"!=typeof u){u=0;for(var c=0;c<f;++c){var m=i[c];u=Math.max(u,m[0],m[1])}u=1+(0|u)}u|=0;var a=new Array(u);for(c=0;c<u;++c)a[c]=[];for(c=0;c<f;++c)a[(m=i[c])[0]].push(m[1]),a[m[1]].push(m[0]);for(var b=0;b<u;++b)r(a[b],function(p,s){return p-s});return a};var r=t(1215)},5795:function(h){"use strict";h.exports=function y(t,r,l){var i=r||0,u=l||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[i*t[12]+t[8],i*t[13]+t[9],i*t[14]+t[10],i*t[15]+t[11]],[u*t[12]-t[8],u*t[13]-t[9],u*t[14]-t[10],u*t[15]-t[11]]]}},8444:function(h,y,t){"use strict";h.exports=function m(a,b,p){switch(arguments.length){case 0:return new u([0],[0],0);case 1:return"number"==typeof a?new u(s=c(a),s,0):new u(a,c(a.length),0);case 2:var s;if("number"==typeof b)return new u(a,s=c(a.length),+b);p=0;case 3:if(a.length!==b.length)throw new Error("state and velocity lengths must match");return new u(a,b,p)}};var r=t(9680),l=t(5070);function i(a,b,p){return Math.min(b,Math.max(a,p))}function u(a,b,p){this.dimension=a.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var s=0;s<this.dimension;++s)this.bounds[0][s]=-1/0,this.bounds[1][s]=1/0;this._state=a.slice().reverse(),this._velocity=b.slice().reverse(),this._time=[p],this._scratch=[a.slice(),a.slice(),a.slice(),a.slice(),a.slice()]}var f=u.prototype;function c(a){for(var b=new Array(a),p=0;p<a;++p)b[p]=0;return b}f.flush=function(a){var b=l.gt(this._time,a)-1;b<=0||(this._time.splice(0,b),this._state.splice(0,b*this.dimension),this._velocity.splice(0,b*this.dimension))},f.curve=function(a){var b=this._time,p=b.length,s=l.le(b,a),v=this._scratch[0],A=this._state,x=this._velocity,E=this.dimension,g=this.bounds;if(s<0)for(var M=E-1,w=0;w<E;++w,--M)v[w]=A[M];else if(s>=p-1){M=A.length-1;var n=a-b[p-1];for(w=0;w<E;++w,--M)v[w]=A[M]+n*x[M]}else{M=E*(s+1)-1;var S=b[s],I=b[s+1]-S||1,L=this._scratch[1],B=this._scratch[2],k=this._scratch[3],z=this._scratch[4],O=!0;for(w=0;w<E;++w,--M)L[w]=A[M],k[w]=x[M]*I,B[w]=A[M+E],z[w]=x[M+E]*I,O=O&&L[w]===B[w]&&k[w]===z[w]&&0===k[w];if(O)for(w=0;w<E;++w)v[w]=L[w];else r(L,k,B,z,(a-S)/I,v)}var F=g[0],N=g[1];for(w=0;w<E;++w)v[w]=i(F[w],N[w],v[w]);return v},f.dcurve=function(a){var b=this._time,p=b.length,s=l.le(b,a),v=this._scratch[0],A=this._state,x=this._velocity,E=this.dimension;if(s>=p-1)for(var g=A.length-1,w=0;w<E;++w,--g)v[w]=x[g];else{g=E*(s+1)-1;var n=b[s],d=b[s+1]-n||1,I=this._scratch[1],L=this._scratch[2],B=this._scratch[3],k=this._scratch[4],z=!0;for(w=0;w<E;++w,--g)I[w]=A[g],B[w]=x[g]*d,L[w]=A[g+E],k[w]=x[g+E]*d,z=z&&I[w]===L[w]&&B[w]===k[w]&&0===B[w];if(z)for(w=0;w<E;++w)v[w]=0;else for(r.derivative(I,B,L,k,(a-n)/d,v),w=0;w<E;++w)v[w]/=d}return v},f.lastT=function(){var a=this._time;return a[a.length-1]},f.stable=function(){for(var a=this._velocity,b=a.length,p=this.dimension-1;p>=0;--p)if(a[--b])return!1;return!0},f.jump=function(a){var b=this.lastT(),p=this.dimension;if(!(a<b||arguments.length!==p+1)){var s=this._state,v=this._velocity,A=s.length-this.dimension,x=this.bounds,E=x[0],g=x[1];this._time.push(b,a);for(var M=0;M<2;++M)for(var w=0;w<p;++w)s.push(s[A++]),v.push(0);for(this._time.push(a),w=p;w>0;--w)s.push(i(E[w-1],g[w-1],arguments[w])),v.push(0)}},f.push=function(a){var b=this.lastT(),p=this.dimension;if(!(a<b||arguments.length!==p+1)){var s=this._state,v=this._velocity,A=s.length-this.dimension,x=a-b,E=this.bounds,g=E[0],M=E[1],w=x>1e-6?1/x:0;this._time.push(a);for(var n=p;n>0;--n){var S=i(g[n-1],M[n-1],arguments[n]);s.push(S),v.push((S-s[A++])*w)}}},f.set=function(a){var b=this.dimension;if(!(a<this.lastT()||arguments.length!==b+1)){var p=this._state,s=this._velocity,v=this.bounds,A=v[0],x=v[1];this._time.push(a);for(var E=b;E>0;--E)p.push(i(A[E-1],x[E-1],arguments[E])),s.push(0)}},f.move=function(a){var b=this.lastT(),p=this.dimension;if(!(a<=b||arguments.length!==p+1)){var s=this._state,v=this._velocity,A=s.length-this.dimension,x=this.bounds,E=x[0],g=x[1],M=a-b,w=M>1e-6?1/M:0;this._time.push(a);for(var n=p;n>0;--n){var S=arguments[n];s.push(i(E[n-1],g[n-1],s[A++]+S)),v.push(S*w)}}},f.idle=function(a){var b=this.lastT();if(!(a<b)){var p=this.dimension,s=this._state,v=this._velocity,A=s.length-p,x=this.bounds,E=x[0],g=x[1],M=a-b;this._time.push(a);for(var w=p-1;w>=0;--w)s.push(i(E[w],g[w],s[A]+M*v[A])),v.push(0),A+=1}}},7080:function(h){"use strict";h.exports=function E(g){return new f(g||x,null)};function r(g,M,w,n,S,d){this._color=g,this.key=M,this.value=w,this.left=n,this.right=S,this._count=d}function l(g){return new r(g._color,g.key,g.value,g.left,g.right,g._count)}function i(g,M){return new r(g,M.key,M.value,M.left,M.right,M._count)}function u(g){g._count=1+(g.left?g.left._count:0)+(g.right?g.right._count:0)}function f(g,M){this._compare=g,this.root=M}var c=f.prototype;function m(g,M){var w;return M.left&&(w=m(g,M.left))?w:(w=g(M.key,M.value))||(M.right?m(g,M.right):void 0)}function a(g,M,w,n){if(M(g,n.key)<=0){var d;if(n.left&&(d=a(g,M,w,n.left)))return d;if(d=w(n.key,n.value))return d}if(n.right)return a(g,M,w,n.right)}function b(g,M,w,n,S){var L,d=w(g,S.key),I=w(M,S.key);return d<=0&&(S.left&&(L=b(g,M,w,n,S.left))||I>0&&(L=n(S.key,S.value)))?L:I>0&&S.right?b(g,M,w,n,S.right):void 0}function p(g,M){this.tree=g,this._stack=M}Object.defineProperty(c,"keys",{get:function(){var g=[];return this.forEach(function(M,w){g.push(M)}),g}}),Object.defineProperty(c,"values",{get:function(){var g=[];return this.forEach(function(M,w){g.push(w)}),g}}),Object.defineProperty(c,"length",{get:function(){return this.root?this.root._count:0}}),c.insert=function(g,M){for(var w=this._compare,n=this.root,S=[],d=[];n;){var I=w(g,n.key);S.push(n),d.push(I),n=I<=0?n.left:n.right}S.push(new r(0,g,M,null,null,1));for(var L=S.length-2;L>=0;--L)n=S[L],S[L]=d[L]<=0?new r(n._color,n.key,n.value,S[L+1],n.right,n._count+1):new r(n._color,n.key,n.value,n.left,S[L+1],n._count+1);for(L=S.length-1;L>1;--L){var B=S[L-1];if(n=S[L],1===B._color||1===n._color)break;var k=S[L-2];if(k.left===B)if(B.left===n){if(!(z=k.right)||0!==z._color){k._color=0,k.left=B.right,B._color=1,B.right=k,S[L-2]=B,S[L-1]=n,u(k),u(B),L>=3&&((O=S[L-3]).left===k?O.left=B:O.right=B);break}B._color=1,k.right=i(1,z),k._color=0,L-=1}else{if(!(z=k.right)||0!==z._color){B.right=n.left,k._color=0,k.left=n.right,n._color=1,n.left=B,n.right=k,S[L-2]=n,S[L-1]=B,u(k),u(B),u(n),L>=3&&((O=S[L-3]).left===k?O.left=n:O.right=n);break}B._color=1,k.right=i(1,z),k._color=0,L-=1}else if(B.right===n){if(!(z=k.left)||0!==z._color){k._color=0,k.right=B.left,B._color=1,B.left=k,S[L-2]=B,S[L-1]=n,u(k),u(B),L>=3&&((O=S[L-3]).right===k?O.right=B:O.left=B);break}B._color=1,k.left=i(1,z),k._color=0,L-=1}else{var z;if(!(z=k.left)||0!==z._color){var O;B.left=n.right,k._color=0,k.right=n.left,n._color=1,n.right=B,n.left=k,S[L-2]=n,S[L-1]=B,u(k),u(B),u(n),L>=3&&((O=S[L-3]).right===k?O.right=n:O.left=n);break}B._color=1,k.left=i(1,z),k._color=0,L-=1}}return S[0]._color=1,new f(w,S[0])},c.forEach=function(M,w,n){if(this.root)switch(arguments.length){case 1:return m(M,this.root);case 2:return a(w,this._compare,M,this.root);case 3:return this._compare(w,n)>=0?void 0:b(w,n,this._compare,M,this.root)}},Object.defineProperty(c,"begin",{get:function(){for(var g=[],M=this.root;M;)g.push(M),M=M.left;return new p(this,g)}}),Object.defineProperty(c,"end",{get:function(){for(var g=[],M=this.root;M;)g.push(M),M=M.right;return new p(this,g)}}),c.at=function(g){if(g<0)return new p(this,[]);for(var M=this.root,w=[];;){if(w.push(M),M.left){if(g<M.left._count){M=M.left;continue}g-=M.left._count}if(!g)return new p(this,w);if(g-=1,!M.right)break;if(g>=M.right._count)break;M=M.right}return new p(this,[])},c.ge=function(g){for(var M=this._compare,w=this.root,n=[],S=0;w;){var d=M(g,w.key);n.push(w),d<=0&&(S=n.length),w=d<=0?w.left:w.right}return n.length=S,new p(this,n)},c.gt=function(g){for(var M=this._compare,w=this.root,n=[],S=0;w;){var d=M(g,w.key);n.push(w),d<0&&(S=n.length),w=d<0?w.left:w.right}return n.length=S,new p(this,n)},c.lt=function(g){for(var M=this._compare,w=this.root,n=[],S=0;w;){var d=M(g,w.key);n.push(w),d>0&&(S=n.length),w=d<=0?w.left:w.right}return n.length=S,new p(this,n)},c.le=function(g){for(var M=this._compare,w=this.root,n=[],S=0;w;){var d=M(g,w.key);n.push(w),d>=0&&(S=n.length),w=d<0?w.left:w.right}return n.length=S,new p(this,n)},c.find=function(g){for(var M=this._compare,w=this.root,n=[];w;){var S=M(g,w.key);if(n.push(w),0===S)return new p(this,n);w=S<=0?w.left:w.right}return new p(this,[])},c.remove=function(g){var M=this.find(g);return M?M.remove():this},c.get=function(g){for(var M=this._compare,w=this.root;w;){var n=M(g,w.key);if(0===n)return w.value;w=n<=0?w.left:w.right}};var s=p.prototype;function v(g,M){g.key=M.key,g.value=M.value,g.left=M.left,g.right=M.right,g._color=M._color,g._count=M._count}function x(g,M){return g<M?-1:g>M?1:0}Object.defineProperty(s,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(s,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),s.clone=function(){return new p(this.tree,this._stack.slice())},s.remove=function(){var g=this._stack;if(0===g.length)return this.tree;var M=new Array(g.length);M[M.length-1]=new r((w=g[g.length-1])._color,w.key,w.value,w.left,w.right,w._count);for(var n=g.length-2;n>=0;--n){var w;M[n]=(w=g[n]).left===g[n+1]?new r(w._color,w.key,w.value,M[n+1],w.right,w._count):new r(w._color,w.key,w.value,w.left,M[n+1],w._count)}if((w=M[M.length-1]).left&&w.right){var S=M.length;for(w=w.left;w.right;)M.push(w),w=w.right;var d=M[S-1];for(M.push(new r(w._color,d.key,d.value,w.left,w.right,w._count)),M[S-1].key=w.key,M[S-1].value=w.value,n=M.length-2;n>=S;--n)M[n]=new r((w=M[n])._color,w.key,w.value,w.left,M[n+1],w._count);M[S-1].left=M[S]}if(0===(w=M[M.length-1])._color){var I=M[M.length-2];for(I.left===w?I.left=null:I.right===w&&(I.right=null),M.pop(),n=0;n<M.length;++n)M[n]._count--;return new f(this.tree._compare,M[0])}if(w.left||w.right){for(w.left?v(w,w.left):w.right&&v(w,w.right),w._color=1,n=0;n<M.length-1;++n)M[n]._count--;return new f(this.tree._compare,M[0])}if(1===M.length)return new f(this.tree._compare,null);for(n=0;n<M.length;++n)M[n]._count--;var L=M[M.length-2];return function A(g){for(var M,w,n,S,d=g.length-1;d>=0;--d){if(M=g[d],0===d)return void(M._color=1);if((w=g[d-1]).left===M){if((n=w.right).right&&0===n.right._color)return S=(n=w.right=l(n)).right=l(n.right),w.right=n.left,n.left=w,n.right=S,n._color=w._color,M._color=1,w._color=1,S._color=1,u(w),u(n),d>1&&((I=g[d-2]).left===w?I.left=n:I.right=n),void(g[d-1]=n);if(n.left&&0===n.left._color)return S=(n=w.right=l(n)).left=l(n.left),w.right=S.left,n.left=S.right,S.left=w,S.right=n,S._color=w._color,w._color=1,n._color=1,M._color=1,u(w),u(n),u(S),d>1&&((I=g[d-2]).left===w?I.left=S:I.right=S),void(g[d-1]=S);if(1===n._color){if(0===w._color)return w._color=1,void(w.right=i(0,n));w.right=i(0,n);continue}n=l(n),w.right=n.left,n.left=w,n._color=w._color,w._color=0,u(w),u(n),d>1&&((I=g[d-2]).left===w?I.left=n:I.right=n),g[d-1]=n,g[d]=w,d+1<g.length?g[d+1]=M:g.push(M),d+=2}else{if((n=w.left).left&&0===n.left._color)return S=(n=w.left=l(n)).left=l(n.left),w.left=n.right,n.right=w,n.left=S,n._color=w._color,M._color=1,w._color=1,S._color=1,u(w),u(n),d>1&&((I=g[d-2]).right===w?I.right=n:I.left=n),void(g[d-1]=n);if(n.right&&0===n.right._color)return S=(n=w.left=l(n)).right=l(n.right),w.left=S.right,n.right=S.left,S.right=w,S.left=n,S._color=w._color,w._color=1,n._color=1,M._color=1,u(w),u(n),u(S),d>1&&((I=g[d-2]).right===w?I.right=S:I.left=S),void(g[d-1]=S);if(1===n._color){if(0===w._color)return w._color=1,void(w.left=i(0,n));w.left=i(0,n);continue}var I;n=l(n),w.left=n.right,n.right=w,n._color=w._color,w._color=0,u(w),u(n),d>1&&((I=g[d-2]).right===w?I.right=n:I.left=n),g[d-1]=n,g[d]=w,d+1<g.length?g[d+1]=M:g.push(M),d+=2}}}(M),L.left===w?L.left=null:L.right=null,new f(this.tree._compare,M[0])},Object.defineProperty(s,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(s,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(s,"index",{get:function(){var g=0,M=this._stack;if(0===M.length){var w=this.tree.root;return w?w._count:0}M[M.length-1].left&&(g=M[M.length-1].left._count);for(var n=M.length-2;n>=0;--n)M[n+1]===M[n].right&&(++g,M[n].left&&(g+=M[n].left._count));return g},enumerable:!0}),s.next=function(){var g=this._stack;if(0!==g.length){var M=g[g.length-1];if(M.right)for(M=M.right;M;)g.push(M),M=M.left;else for(g.pop();g.length>0&&g[g.length-1].right===M;)M=g[g.length-1],g.pop()}},Object.defineProperty(s,"hasNext",{get:function(){var g=this._stack;if(0===g.length)return!1;if(g[g.length-1].right)return!0;for(var M=g.length-1;M>0;--M)if(g[M-1].left===g[M])return!0;return!1}}),s.update=function(g){var M=this._stack;if(0===M.length)throw new Error("Can't update empty node!");var w=new Array(M.length),n=M[M.length-1];w[w.length-1]=new r(n._color,n.key,g,n.left,n.right,n._count);for(var S=M.length-2;S>=0;--S)w[S]=(n=M[S]).left===M[S+1]?new r(n._color,n.key,n.value,w[S+1],n.right,n._count):new r(n._color,n.key,n.value,n.left,w[S+1],n._count);return new f(this.tree._compare,w[0])},s.prev=function(){var g=this._stack;if(0!==g.length){var M=g[g.length-1];if(M.left)for(M=M.left;M;)g.push(M),M=M.right;else for(g.pop();g.length>0&&g[g.length-1].left===M;)M=g[g.length-1],g.pop()}},Object.defineProperty(s,"hasPrev",{get:function(){var g=this._stack;if(0===g.length)return!1;if(g[g.length-1].left)return!0;for(var M=g.length-1;M>0;--M)if(g[M-1].right===g[M])return!0;return!1}})},7453:function(h,y,t){"use strict";h.exports=function n(S,d){var I=new a(S);return I.update(d),I};var r=t(9557),l=t(1681),i=t(1011),u=t(2864),f=t(8468),c=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function m(S,d){return S[0]=d[0],S[1]=d[1],S[2]=d[2],S}function a(S){this.gl=S,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=i(S)}var b=a.prototype;function p(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}b.update=function(S){function d(ie,ue,J){if(J in S){var V,j=S[J],W=this[J];this[J]=V=(ie?Array.isArray(j)&&Array.isArray(j[0]):Array.isArray(j))?[ue(j[0]),ue(j[1]),ue(j[2])]:[ue(j),ue(j),ue(j)];for(var K=0;K<3;++K)if(V[K]!==W[K])return!0}return!1}S=S||{};var z,I=d.bind(this,!1,Number),L=d.bind(this,!1,Boolean),B=d.bind(this,!1,String),k=d.bind(this,!0,function(ie){if(Array.isArray(ie)){if(3===ie.length)return[+ie[0],+ie[1],+ie[2],1];if(4===ie.length)return[+ie[0],+ie[1],+ie[2],+ie[3]]}return[0,0,0,1]}),O=!1,F=!1;if("bounds"in S)for(var N=S.bounds,H=0;H<2;++H)for(var X=0;X<3;++X)N[H][X]!==this.bounds[H][X]&&(F=!0),this.bounds[H][X]=N[H][X];if("ticks"in S)for(z=S.ticks,O=!0,this.autoTicks=!1,H=0;H<3;++H)this.tickSpacing[H]=0;else I("tickSpacing")&&(this.autoTicks=!0,F=!0);if(this._firstInit&&("ticks"in S||"tickSpacing"in S||(this.autoTicks=!0),F=!0,O=!0,this._firstInit=!1),F&&this.autoTicks&&(z=f.create(this.bounds,this.tickSpacing),O=!0),O){for(H=0;H<3;++H)z[H].sort(function(ue,J){return ue.x-J.x});f.equal(z,this.ticks)?O=!1:this.ticks=z}L("tickEnable"),B("tickFont")&&(O=!0),I("tickSize"),I("tickAngle"),I("tickPad"),k("tickColor");var ne=B("labels");B("labelFont")&&(ne=!0),L("labelEnable"),I("labelSize"),I("labelPad"),k("labelColor"),L("lineEnable"),L("lineMirror"),I("lineWidth"),k("lineColor"),L("lineTickEnable"),L("lineTickMirror"),I("lineTickLength"),I("lineTickWidth"),k("lineTickColor"),L("gridEnable"),I("gridWidth"),k("gridColor"),L("zeroEnable"),k("zeroLineColor"),I("zeroLineWidth"),L("backgroundEnable"),k("backgroundColor"),this._text?this._text&&(ne||O)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&O&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=l(this.gl,this.bounds,this.ticks))};var s=[new p,new p,new p];function v(S,d,I,L,B){for(var k=S.primalOffset,z=S.primalMinor,O=S.mirrorOffset,F=S.mirrorMinor,N=L[d],H=0;H<3;++H)if(d!==H){var X=k,ne=O,ie=z,ue=F;N&1<<H&&(X=O,ne=k,ie=F,ue=z),X[H]=I[0][H],ne[H]=I[1][H],B[H]>0?(ie[H]=-1,ue[H]=0):(ie[H]=0,ue[H]=1)}}var A=[0,0,0],x={model:c,view:c,projection:c,_ortho:!1};b.isOpaque=function(){return!0},b.isTransparent=function(){return!1},b.drawTransparent=function(S){};var g=[0,0,0],M=[0,0,0],w=[0,0,0];b.draw=function(S){for(var W=this.gl,d=(S=S||x).model||c,I=S.view||c,L=S.projection||c,B=this.bounds,k=S._ortho||!1,z=u(d,I,L,B,k),O=z.cubeEdges,F=z.axis,ue=(k?2:1)*this.pixelRatio*(L[3]*I[12]+L[7]*I[13]+L[11]*I[14]+L[15]*I[15])/W.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=O[J],this.lastCubeProps.axis[J]=F[J];var j=s;for(J=0;J<3;++J)v(s[J],J,this.bounds,O,F);W=this.gl;var V=A;for(J=0;J<3;++J)V[J]=this.backgroundEnable[J]?F[J]:0;for(this._background.draw(d,I,L,B,V,this.backgroundColor),this._lines.bind(d,I,L,this),J=0;J<3;++J){var K=[0,0,0];K[J]=F[J]>0?B[1][J]:B[0][J];for(var ae=0;ae<2;++ae){var Z=(J+1+(1^ae))%3;this.gridEnable[Q=(J+1+ae)%3]&&this._lines.drawGrid(Q,Z,this.bounds,K,this.gridColor[Q],this.gridWidth[Q]*this.pixelRatio)}for(ae=0;ae<2;++ae){var Q=(J+1+ae)%3;this.zeroEnable[Z=(J+1+(1^ae))%3]&&Math.min(B[0][Z],B[1][Z])<=0&&Math.max(B[0][Z],B[1][Z])>=0&&this._lines.drawZero(Q,Z,this.bounds,K,this.zeroLineColor[Z],this.zeroLineWidth[Z]*this.pixelRatio)}}for(J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,j[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,j[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);var re=m(g,j[J].primalMinor),q=m(M,j[J].mirrorMinor),se=this.lineTickLength;for(ae=0;ae<3;++ae){var de=ue/d[5*ae];re[ae]*=se[ae]*de,q[ae]*=se[ae]*de}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,j[J].primalOffset,re,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,j[J].mirrorOffset,q,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}this._lines.unbind(),this._text.bind(d,I,L,this.pixelRatio);var we,Pe,Ie,He,rt,$e,Be,ze,tt,lt,ut,xt;function Se(He){(Ie=[0,0,0])[He]=1}for(J=0;J<3;++J){var Me=j[J].primalMinor,Ge=j[J].mirrorMinor,Ye=m(w,j[J].primalOffset);for(ae=0;ae<3;++ae)this.lineTickEnable[J]&&(Ye[ae]+=ue*Me[ae]*Math.max(this.lineTickLength[ae],0)/d[5*ae]);var De=[0,0,0];if(De[J]=1,this.tickEnable[J]){for(-3600===this.tickAngle[J]?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,(we=[this.tickAlign[J],.5,Pe=1])[0]="auto"===we[0]?0:parseInt(""+we[0]),Ie=[0,0,0],Be=void 0,ze=void 0,tt=void 0,lt=void 0,ut=void 0,xt=void 0,lt=(rt=Me)[ze=((He=J)+2)%3],ut=($e=Ge)[Be=(He+1)%3],xt=$e[ze],(tt=rt[Be])>0&&xt>0||tt>0&&xt<0||tt<0&&xt>0||tt<0&&xt<0?Se(Be):(lt>0&&ut>0||lt>0&&ut<0||lt<0&&ut>0||lt<0&&ut<0)&&Se(ze),ae=0;ae<3;++ae)Ye[ae]+=ue*Me[ae]*this.tickPad[ae]/d[5*ae];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],Ye,this.tickColor[J],De,Ie,we)}if(this.labelEnable[J]){for(Pe=0,Ie=[0,0,0],this.labels[J].length>4&&(Se(J),Pe=1),(we=[this.labelAlign[J],.5,Pe])[0]="auto"===we[0]?0:parseInt(""+we[0]),ae=0;ae<3;++ae)Ye[ae]+=ue*Me[ae]*this.labelPad[ae]/d[5*ae];Ye[J]+=.5*(B[0][J]+B[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],Ye,this.labelColor[J],[0,0,0],Ie,we)}}this._text.unbind()},b.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(h,y,t){"use strict";h.exports=function c(m){for(var a=[],b=[],p=0,s=0;s<3;++s)for(var v=(s+1)%3,A=(s+2)%3,x=[0,0,0],E=[0,0,0],g=-1;g<=1;g+=2){b.push(p,p+2,p+1,p+1,p+2,p+3),x[s]=g,E[s]=g;for(var M=-1;M<=1;M+=2){x[v]=M;for(var w=-1;w<=1;w+=2)x[A]=w,a.push(x[0],x[1],x[2],E[0],E[1],E[2]),p+=1}var n=v;v=A,A=n}var S=r(m,new Float32Array(a)),d=r(m,new Uint16Array(b),m.ELEMENT_ARRAY_BUFFER),I=l(m,[{buffer:S,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:S,type:m.FLOAT,size:3,offset:12,stride:24}],d),L=i(m);return L.attributes.position.location=0,L.attributes.normal.location=1,new u(m,S,I,L)};var r=t(5827),l=t(2944),i=t(1943).bg;function u(m,a,b,p){this.gl=m,this.buffer=a,this.vao=b,this.shader=p}var f=u.prototype;f.draw=function(m,a,b,p,s,v){for(var A=!1,x=0;x<3;++x)A=A||s[x];if(A){var E=this.gl;E.enable(E.POLYGON_OFFSET_FILL),E.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:a,projection:b,bounds:p,enable:s,colors:v},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),E.disable(E.POLYGON_OFFSET_FILL)}},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(h,y,t){"use strict";h.exports=function g(M,w,n,S,d){l(f,w,M),l(f,n,f);for(var I=0,L=0;L<2;++L){a[2]=S[L][2];for(var B=0;B<2;++B){a[1]=S[B][1];for(var k=0;k<2;++k)a[0]=S[k][0],p(c[I],a,f),I+=1}}var z=-1;for(L=0;L<8;++L){for(var O=c[L][3],F=0;F<3;++F)m[L][F]=c[L][F]/O;d&&(m[L][2]*=-1),O<0&&(z<0||m[L][2]<m[z][2])&&(z=L)}if(z<0){z=0;for(var N=0;N<3;++N){for(var H=(N+2)%3,X=(N+1)%3,ne=-1,ie=-1,ue=0;ue<2;++ue)u(m[J=ue<<N],m[J+(ue<<H)+(1-ue<<X)],m[J+(1-ue<<H)+(ue<<X)],b)<0||(ue?ne=1:ie=1);if(ne<0||ie<0)ie>ne&&(z|=1<<N);else{for(ue=0;ue<2;++ue){var J,V=v([c[J=ue<<N],c[J+(ue<<H)+(1-ue<<X)],c[J+(1-ue<<H)+(ue<<X)],c[J+(1<<H)+(1<<X)]]);ue?ne=V:ie=V}ie>ne&&(z|=1<<N)}}}var K=7^z,ae=-1;for(L=0;L<8;++L)L===z||L===K||(ae<0||m[ae][1]>m[L][1])&&(ae=L);var Q=-1;for(L=0;L<3;++L)(Z=ae^1<<L)!==z&&Z!==K&&(Q<0&&(Q=Z),(X=m[Z])[0]<m[Q][0]&&(Q=Z));var re=-1;for(L=0;L<3;++L){var Z;(Z=ae^1<<L)!==z&&Z!==K&&Z!==Q&&(re<0&&(re=Z),(X=m[Z])[0]>m[re][0]&&(re=Z))}var q=A;q[0]=q[1]=q[2]=0,q[r.log2(Q^ae)]=ae&Q,q[r.log2(ae^re)]=ae&re;var se=7^re;se===z||se===K?q[r.log2(re^(se=7^Q))]=se&re:q[r.log2(Q^se)]=se&Q;var de=x,we=z;for(N=0;N<3;++N)de[N]=we&1<<N?-1:1;return E};var r=t(2288),l=t(104),i=t(4670),u=t(417),f=new Array(16),c=new Array(8),m=new Array(8),a=new Array(3),b=[0,0,0];function p(M,w,n){for(var S=0;S<4;++S){M[S]=n[12+S];for(var d=0;d<3;++d)M[S]+=w[d]*n[4*d+S]}}!function(){for(var M=0;M<8;++M)c[M]=[1,1,1,1],m[M]=[1,1,1]}();var s=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function v(M){for(var w=0;w<s.length;++w)if((M=i.positive(M,s[w])).length<3)return 0;var n=M[0],S=n[0]/n[3],d=n[1]/n[3],I=0;for(w=1;w+1<M.length;++w){var L=M[w],B=M[w+1];I+=Math.abs((L[0]/L[3]-S)*(B[1]/B[3]-d)-(L[1]/L[3]-d)*(B[0]/B[3]-S))}return I}var A=[1,1,1],x=[0,0,0],E={cubeEdges:A,axis:x}},1681:function(h,y,t){"use strict";h.exports=function A(x,E,g){var M=[],w=[0,0,0],n=[0,0,0],S=[0,0,0],d=[0,0,0];M.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var I=0;I<3;++I){for(var k=M.length/3|0,L=0;L<g[I].length;++L)M.push(B=+g[I][L].x,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1);var O=M.length/3|0;w[I]=k,n[I]=O-k,k=M.length/3|0;for(var z=0;z<g[I].length;++z){var B;M.push(B=+g[I][z].x,0,1,B,1,1,B,0,-1,B,0,-1,B,1,1,B,1,-1)}O=M.length/3|0,S[I]=k,d[I]=O-k}var F=r(x,new Float32Array(M)),N=l(x,[{buffer:F,type:x.FLOAT,size:3,stride:0,offset:0}]),H=i(x);return H.attributes.position.location=0,new s(x,F,N,H,n,w,d,S)};var r=t(5827),l=t(2944),i=t(1943).j,u=[0,0,0],f=[0,0,0],c=[0,0,0],m=[0,0,0],a=[1,1];function b(x){return x[0]=x[1]=x[2]=0,x}function p(x,E){return x[0]=E[0],x[1]=E[1],x[2]=E[2],x}function s(x,E,g,M,w,n,S,d){this.gl=x,this.vertBuffer=E,this.vao=g,this.shader=M,this.tickCount=w,this.tickOffset=n,this.gridCount=S,this.gridOffset=d}var v=s.prototype;v.bind=function(x,E,g){this.shader.bind(),this.shader.uniforms.model=x,this.shader.uniforms.view=E,this.shader.uniforms.projection=g,a[0]=this.gl.drawingBufferWidth,a[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=a,this.vao.bind()},v.unbind=function(){this.vao.unbind()},v.drawAxisLine=function(x,E,g,M,w){var n=b(f);this.shader.uniforms.majorAxis=f,n[x]=E[1][x]-E[0][x],this.shader.uniforms.minorAxis=n;var d,S=p(m,g);S[x]+=E[0][x],this.shader.uniforms.offset=S,this.shader.uniforms.lineWidth=w,this.shader.uniforms.color=M,(d=b(c))[(x+2)%3]=1,this.shader.uniforms.screenAxis=d,this.vao.draw(this.gl.TRIANGLES,6),(d=b(c))[(x+1)%3]=1,this.shader.uniforms.screenAxis=d,this.vao.draw(this.gl.TRIANGLES,6)},v.drawAxisTicks=function(x,E,g,M,w){if(this.tickCount[x]){var n=b(u);n[x]=1,this.shader.uniforms.majorAxis=n,this.shader.uniforms.offset=E,this.shader.uniforms.minorAxis=g,this.shader.uniforms.color=M,this.shader.uniforms.lineWidth=w;var S=b(c);S[x]=1,this.shader.uniforms.screenAxis=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x])}},v.drawGrid=function(x,E,g,M,w,n){if(this.gridCount[x]){var S=b(f);S[E]=g[1][E]-g[0][E],this.shader.uniforms.minorAxis=S;var d=p(m,M);d[E]+=g[0][E],this.shader.uniforms.offset=d;var I=b(u);I[x]=1,this.shader.uniforms.majorAxis=I;var L=b(c);L[x]=1,this.shader.uniforms.screenAxis=L,this.shader.uniforms.lineWidth=n,this.shader.uniforms.color=w,this.vao.draw(this.gl.TRIANGLES,this.gridCount[x],this.gridOffset[x])}},v.drawZero=function(x,E,g,M,w,n){var S=b(f);this.shader.uniforms.majorAxis=S,S[x]=g[1][x]-g[0][x],this.shader.uniforms.minorAxis=S;var d=p(m,M);d[x]+=g[0][x],this.shader.uniforms.offset=d;var I=b(c);I[E]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=n,this.shader.uniforms.color=w,this.vao.draw(this.gl.TRIANGLES,6)},v.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(h,y,t){"use strict";var r=t(6832),l=t(5158),i=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);y.j=function(b){return l(b,i,u,null,[{name:"position",type:"vec3"}])};var f=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);y.f=function(b){return l(b,f,c,null,[{name:"position",type:"vec3"}])};var m=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);y.bg=function(b){return l(b,m,a,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(h,y,t){"use strict";h.exports=function v(A,x,E,g,M,w){var n=r(A),S=l(A,[{buffer:n,size:3}]),d=u(A);d.attributes.position.location=0;var I=new a(A,d,n,S);return I.update(x,E,g,M,w),I};var r=t(5827),l=t(2944),i=t(875),u=t(1943).f,f=window||T.global||{},c=f.__TEXT_CACHE||{};f.__TEXT_CACHE={};function a(A,x,E,g){this.gl=A,this.shader=x,this.buffer=E,this.vao=g,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var b=a.prototype,p=[0,0];b.bind=function(A,x,E,g){this.vao.bind(),this.shader.bind();var M=this.shader.uniforms;M.model=A,M.view=x,M.projection=E,M.pixelScale=g,p[0]=this.gl.drawingBufferWidth,p[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=p},b.unbind=function(){this.vao.unbind()},b.update=function(A,x,E,g,M){var w=[];function n(F,N,H,X,ne,ie){var ue=c[H];ue||(ue=c[H]={});var J=ue[N];J||(J=ue[N]=function s(A,x){try{return i(A,x)}catch(E){return console.warn('error vectorizing text:"'+A+'" error:',E),{cells:[],positions:[]}}}(N,{triangles:!0,font:H,textAlign:"center",textBaseline:"middle",lineSpacing:ne,styletags:ie}));for(var j=(X||12)/12,W=J.positions,V=J.cells,K=0,ae=V.length;K<ae;++K)for(var Q=V[K],Z=2;Z>=0;--Z){var re=W[Q[Z]];w.push(j*re[0],-j*re[1],F)}}for(var S=[0,0,0],d=[0,0,0],I=[0,0,0],L=[0,0,0],k={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},z=0;z<3;++z){I[z]=w.length/3|0,n(.5*(A[0][z]+A[1][z]),x[z],E[z],12,1.25,k),L[z]=(w.length/3|0)-I[z],S[z]=w.length/3|0;for(var O=0;O<g[z].length;++O)g[z][O].text&&n(g[z][O].x,g[z][O].text,g[z][O].font||M,g[z][O].fontSize||12,1.25,k);d[z]=(w.length/3|0)-S[z]}this.buffer.update(w),this.tickOffset=S,this.tickCount=d,this.labelOffset=I,this.labelCount=L},b.drawTicks=function(A,x,E,g,M,w,n,S){this.tickCount[A]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=M,this.shader.uniforms.angle=E,this.shader.uniforms.scale=x,this.shader.uniforms.offset=g,this.shader.uniforms.alignDir=n,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A]))},b.drawLabel=function(A,x,E,g,M,w,n,S){this.labelCount[A]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=M,this.shader.uniforms.angle=E,this.shader.uniforms.scale=x,this.shader.uniforms.offset=g,this.shader.uniforms.alignDir=n,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[A],this.labelOffset[A]))},b.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(h,y){"use strict";function t(i,u){var f=i+"",c=f.indexOf("."),m=0;c>=0&&(m=f.length-c-1);var a=Math.pow(10,m),b=Math.round(i*u*a),p=b+"";if(p.indexOf("e")>=0)return p;var s=b/a,v=b%a;b<0?(s=0|-Math.ceil(s),v=0|-v):(s=0|Math.floor(s),v|=0);var A=""+s;if(b<0&&(A="-"+A),m){for(var x=""+v;x.length<m;)x="0"+x;return A+"."+x}return A}y.create=function r(i,u){for(var f=[],c=0;c<3;++c){for(var m=[],b=0;b*u[c]<=i[1][c];++b)m.push({x:b*u[c],text:t(u[c],b)});for(b=-1;b*u[c]>=i[0][c];--b)m.push({x:b*u[c],text:t(u[c],b)});f.push(m)}return f},y.equal=function l(i,u){for(var f=0;f<3;++f){if(i[f].length!==u[f].length)return!1;for(var c=0;c<i[f].length;++c){var m=i[f][c],a=u[f][c];if(m.x!==a.x||m.text!==a.text||m.font!==a.font||m.fontColor!==a.fontColor||m.fontSize!==a.fontSize||m.dx!==a.dx||m.dy!==a.dy)return!1}}return!0}},2771:function(h,y,t){"use strict";h.exports=function E(g,M,w,n,z){var d=M.model||m,I=M.view||m,L=M.projection||m,B=M._ortho||!1,k=g.bounds,O=(z=z||i(d,I,L,k,B)).axis;u(a,I,d),u(a,L,a);for(var F=A,N=0;N<3;++N)F[N].lo=1/0,F[N].hi=-1/0,F[N].pixelsPerDataUnit=1/0;var H=r(f(a,a));f(a,a);for(var X=0;X<3;++X){var ne=(X+1)%3,ie=(X+2)%3,ue=x;e:for(N=0;N<2;++N){var J=[];if(O[X]<0!=!!N){ue[X]=k[N][X];for(var j=0;j<2;++j){ue[ne]=k[j^N][ne];for(var W=0;W<2;++W)ue[ie]=k[W^j^N][ie],J.push(ue.slice())}var V=B?5:4;for(j=V;j===V;++j){if(0===J.length)continue e;J=l.positive(J,H[j])}for(j=0;j<J.length;++j){var K=v(x,a,ie=J[j],w,n);for(W=0;W<3;++W)F[W].lo=Math.min(F[W].lo,ie[W]),F[W].hi=Math.max(F[W].hi,ie[W]),W!==X&&(F[W].pixelsPerDataUnit=Math.min(F[W].pixelsPerDataUnit,Math.abs(K[W])))}}}}return F};var r=t(5795),l=t(4670),i=t(2864),u=t(104),f=t(2142),c=t(6342),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),a=new Float32Array(16);function b(g,M,w){this.lo=g,this.hi=M,this.pixelsPerDataUnit=w}var p=[0,0,0,1],s=[0,0,0,1];function v(g,M,w,n,S){for(var d=0;d<3;++d){for(var I=p,L=s,B=0;B<3;++B)L[B]=I[B]=w[B];L[3]=I[3]=1,L[d]+=1,c(L,L,M),L[3]<0&&(g[d]=1/0),I[d]-=1,c(I,I,M),I[3]<0&&(g[d]=1/0);var k=(I[0]/I[3]-L[0]/L[3])*n,z=(I[1]/I[3]-L[1]/L[3])*S;g[d]=.25*Math.sqrt(k*k+z*z)}return g}var A=[new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0)],x=[0,0,0]},5827:function(h,y,t){"use strict";var r=t(5306),l=t(7498),i=t(5050),u=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function f(s,v,A,x,E){this.gl=s,this.type=v,this.handle=A,this.length=x,this.usage=E}var c=f.prototype;function m(s,v,A,x,E,g){var M=E.length*E.BYTES_PER_ELEMENT;if(g<0)return s.bufferData(v,E,x),M;if(M+g>A)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return s.bufferSubData(v,g,E),A}c.bind=function(){this.gl.bindBuffer(this.type,this.handle)},c.unbind=function(){this.gl.bindBuffer(this.type,null)},c.dispose=function(){this.gl.deleteBuffer(this.handle)},c.update=function(s,v){if("number"!=typeof v&&(v=-1),this.bind(),"object"==typeof s&&typeof s.shape<"u"){var A=s.dtype;if(u.indexOf(A)<0&&(A="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(A=gl.getExtension("OES_element_index_uint")&&"uint16"!==A?"uint32":"uint16"),A===s.dtype&&function b(s,v){for(var A=1,x=v.length-1;x>=0;--x){if(v[x]!==A)return!1;A*=s[x]}return!0}(s.shape,s.stride))this.length=m(this.gl,this.type,this.length,this.usage,0===s.offset&&s.data.length===s.shape[0]?s.data:s.data.subarray(s.offset,s.shape[0]),v);else{var E=r.malloc(s.size,A),g=i(E,s.shape);l.assign(g,s),this.length=m(this.gl,this.type,this.length,this.usage,v<0?E:E.subarray(0,s.size),v),r.free(E)}}else if(Array.isArray(s)){var M;M=function a(s,v){for(var A=r.malloc(s.length,v),x=s.length,E=0;E<x;++E)A[E]=s[E];return A}(s,this.type===this.gl.ELEMENT_ARRAY_BUFFER?"uint16":"float32"),this.length=m(this.gl,this.type,this.length,this.usage,v<0?M:M.subarray(0,s.length),v),r.free(M)}else if("object"==typeof s&&"number"==typeof s.length)this.length=m(this.gl,this.type,this.length,this.usage,s,v);else{if("number"!=typeof s&&void 0!==s)throw new Error("gl-buffer: Invalid data type");if(v>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(s|=0)<=0&&(s=1),this.gl.bufferData(this.type,0|s,this.usage),this.length=s}},h.exports=function p(s,v,A,x){if(x=x||s.DYNAMIC_DRAW,(A=A||s.ARRAY_BUFFER)!==s.ARRAY_BUFFER&&A!==s.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(x!==s.DYNAMIC_DRAW&&x!==s.STATIC_DRAW&&x!==s.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var E=s.createBuffer(),g=new f(s,A,E,0,x);return g.update(v),g}},1140:function(h,y,t){"use strict";var r=t(2858);h.exports=function(i,u){var f=i.positions,c=i.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:i.vertexIntensityBounds,vectors:[],cells:[],coneOffset:i.coneOffset,colormap:i.colormap};if(0===i.positions.length)return u&&(u[0]=[0,0,0],u[1]=[0,0,0]),m;for(var a=0,b=1/0,p=-1/0,s=1/0,v=-1/0,A=1/0,x=-1/0,E=null,g=null,M=[],w=1/0,n=!1,S=0;S<f.length;S++){var d=f[S];b=Math.min(d[0],b),p=Math.max(d[0],p),s=Math.min(d[1],s),v=Math.max(d[1],v),A=Math.min(d[2],A),x=Math.max(d[2],x);var I=c[S];if(r.length(I)>a&&(a=r.length(I)),S){var L=2*r.distance(E,d)/(r.length(g)+r.length(I));L?(w=Math.min(w,L),n=!1):n=!0}n||(E=d,g=I),M.push(I)}var k=[p,v,x];u&&(u[0]=[b,s,A],u[1]=k),0===a&&(a=1);var z=1/a;isFinite(w)||(w=1),m.vectorScale=w;var O=i.coneSize||.5;i.absoluteConeSize&&(O=i.absoluteConeSize*z),m.coneScale=O,S=0;for(var F=0;S<f.length;S++)for(var N=(d=f[S])[0],H=d[1],X=d[2],ne=M[S],ie=r.length(ne)*z,ue=0;ue<8;ue++){m.positions.push([N,H,X,F++]),m.positions.push([N,H,X,F++]),m.positions.push([N,H,X,F++]),m.positions.push([N,H,X,F++]),m.positions.push([N,H,X,F++]),m.positions.push([N,H,X,F++]),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vertexIntensity.push(ie,ie,ie),m.vertexIntensity.push(ie,ie,ie);var j=m.positions.length;m.cells.push([j-6,j-5,j-4],[j-3,j-2,j-1])}return m};var l=t(7234);h.exports.createMesh=t(5028),h.exports.createConeMesh=function(i,u){return h.exports.createMesh(i,u,{shaders:l,traceType:"cone"})}},5028:function(h,y,t){"use strict";var r=t(5158),l=t(5827),i=t(2944),u=t(8931),f=t(104),c=t(7437),m=t(5050),a=t(9156),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function p(M,w,n,S,d,I,L,B,k,z,O){this.gl=M,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=w,this.dirty=!0,this.triShader=n,this.pickShader=S,this.trianglePositions=d,this.triangleVectors=I,this.triangleColors=B,this.triangleUVs=k,this.triangleIds=L,this.triangleVAO=z,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=O,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=b,this._view=b,this._projection=b,this._resolution=[1,1]}var s=p.prototype;s.isOpaque=function(){return this.opacity>=1},s.isTransparent=function(){return this.opacity<1},s.pickSlots=1,s.setPickBase=function(M){this.pickId=M},s.update=function(M){M=M||{};var w=this.gl;this.dirty=!0,"lightPosition"in M&&(this.lightPosition=M.lightPosition),"opacity"in M&&(this.opacity=M.opacity),"ambient"in M&&(this.ambientLight=M.ambient),"diffuse"in M&&(this.diffuseLight=M.diffuse),"specular"in M&&(this.specularLight=M.specular),"roughness"in M&&(this.roughness=M.roughness),"fresnel"in M&&(this.fresnel=M.fresnel),void 0!==M.tubeScale&&(this.tubeScale=M.tubeScale),void 0!==M.vectorScale&&(this.vectorScale=M.vectorScale),void 0!==M.coneScale&&(this.coneScale=M.coneScale),void 0!==M.coneOffset&&(this.coneOffset=M.coneOffset),M.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=w.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=w.LINEAR,this.texture.setPixels(function v(M){for(var w=a({colormap:M,nshades:256,format:"rgba"}),n=new Uint8Array(1024),S=0;S<256;++S){for(var d=w[S],I=0;I<3;++I)n[4*S+I]=d[I];n[4*S+3]=255*d[3]}return m(n,[256,256,4],[4,0,1])}(M.colormap)),this.texture.generateMipmap());var n=M.cells,S=M.positions,d=M.vectors;if(S&&n&&d){var I=[],L=[],B=[],k=[],z=[];this.cells=n,this.positions=S,this.vectors=d;var O=M.meshColor||[1,1,1,1],F=M.vertexIntensity,N=1/0,H=-1/0;if(F)if(M.vertexIntensityBounds)N=+M.vertexIntensityBounds[0],H=+M.vertexIntensityBounds[1];else for(var X=0;X<F.length;++X){var ne=F[X];N=Math.min(N,ne),H=Math.max(H,ne)}else for(X=0;X<S.length;++X)ne=S[X][2],N=Math.min(N,ne),H=Math.max(H,ne);for(this.intensity=F||function A(M){for(var w=M.length,n=new Array(w),S=0;S<w;++S)n[S]=M[S][2];return n}(S),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],X=0;X<S.length;++X)for(var ie=S[X],ue=0;ue<3;++ue)isNaN(ie[ue])||!isFinite(ie[ue])||(this.bounds[0][ue]=Math.min(this.bounds[0][ue],ie[ue]),this.bounds[1][ue]=Math.max(this.bounds[1][ue],ie[ue]));var J=0;e:for(X=0;X<n.length;++X){var j=n[X];if(3===j.length){for(ue=0;ue<3;++ue){ie=S[W=j[ue]];for(var V=0;V<3;++V)if(isNaN(ie[V])||!isFinite(ie[V]))continue e}for(ue=0;ue<3;++ue){var W;I.push((ie=S[W=j[2-ue]])[0],ie[1],ie[2],ie[3]);var K=d[W];L.push(K[0],K[1],K[2],K[3]||0);var Q;B.push(O[0],O[1],O[2],3===O.length?1:O[3]),k.push((Q=F?[(F[W]-N)/(H-N),0]:[(ie[2]-N)/(H-N),0])[0],Q[1]),z.push(X)}J+=1}}this.triangleCount=J,this.trianglePositions.update(I),this.triangleVectors.update(L),this.triangleColors.update(B),this.triangleUVs.update(k),this.triangleIds.update(new Uint32Array(z))}},s.drawTransparent=s.draw=function(M){for(var w=this.gl,n=(M=M||{}).model||b,S=M.view||b,d=M.projection||b,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],L=0;L<3;++L)I[0][L]=Math.max(I[0][L],this.clipBounds[0][L]),I[1][L]=Math.min(I[1][L],this.clipBounds[1][L]);var B={model:n,view:S,projection:d,inverseModel:b.slice(),clipBounds:I,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};B.inverseModel=c(B.inverseModel,B.model),w.disable(w.CULL_FACE),this.texture.bind(0);var k=new Array(16);for(f(k,B.view,B.model),f(k,B.projection,k),c(k,k),L=0;L<3;++L)B.eyePosition[L]=k[12+L]/k[15];var z=k[15];for(L=0;L<3;++L)z+=this.lightPosition[L]*k[4*L+3];for(L=0;L<3;++L){for(var O=k[12+L],F=0;F<3;++F)O+=k[4*F+L]*this.lightPosition[F];B.lightPosition[L]=O/z}if(this.triangleCount>0){var N=this.triShader;N.bind(),N.uniforms=B,this.triangleVAO.bind(),w.drawArrays(w.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},s.drawPick=function(M){for(var w=this.gl,n=(M=M||{}).model||b,S=M.view||b,d=M.projection||b,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],L=0;L<3;++L)I[0][L]=Math.max(I[0][L],this.clipBounds[0][L]),I[1][L]=Math.min(I[1][L],this.clipBounds[1][L]);this._model=[].slice.call(n),this._view=[].slice.call(S),this._projection=[].slice.call(d),this._resolution=[w.drawingBufferWidth,w.drawingBufferHeight];var B={model:n,view:S,projection:d,clipBounds:I,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},k=this.pickShader;k.bind(),k.uniforms=B,this.triangleCount>0&&(this.triangleVAO.bind(),w.drawArrays(w.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},s.pick=function(M){if(!M||M.id!==this.pickId)return null;var w=M.value[0]+256*M.value[1]+65536*M.value[2],n=this.cells[w],S=this.positions[n[1]].slice(0,3),d={position:S,dataCoordinate:S,index:Math.floor(n[1]/48)};return"cone"===this.traceType?d.index=Math.floor(n[1]/48):"streamtube"===this.traceType&&(d.intensity=this.intensity[n[1]],d.velocity=this.vectors[n[1]].slice(0,3),d.divergence=this.vectors[n[1]][3],d.index=w),d},s.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},h.exports=function g(M,w,n){var S=n.shaders;1===arguments.length&&(M=(w=M).gl);var d=function x(M,w){var n=r(M,w.meshShader.vertex,w.meshShader.fragment,null,w.meshShader.attributes);return n.attributes.position.location=0,n.attributes.color.location=2,n.attributes.uv.location=3,n.attributes.vector.location=4,n}(M,S),I=function E(M,w){var n=r(M,w.pickShader.vertex,w.pickShader.fragment,null,w.pickShader.attributes);return n.attributes.position.location=0,n.attributes.id.location=1,n.attributes.vector.location=4,n}(M,S),L=u(M,m(new Uint8Array([255,255,255,255]),[1,1,4]));L.generateMipmap(),L.minFilter=M.LINEAR_MIPMAP_LINEAR,L.magFilter=M.LINEAR;var B=l(M),k=l(M),z=l(M),O=l(M),F=l(M),H=new p(M,L,d,I,B,k,F,z,O,i(M,[{buffer:B,type:M.FLOAT,size:4},{buffer:F,type:M.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:z,type:M.FLOAT,size:4},{buffer:O,type:M.FLOAT,size:2},{buffer:k,type:M.FLOAT,size:4}]),n.traceType||"cone");return H.update(w),H}},7234:function(h,y,t){var r=t(6832),l=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),i=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),u=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),f=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);y.meshShader={vertex:l,fragment:i,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},y.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(h){h.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(h,y,t){var r=t(1950);h.exports=function(i){return r[i]}},3110:function(h,y,t){"use strict";h.exports=function p(s){var v=s.gl,A=r(v),x=l(v,[{buffer:A,type:v.FLOAT,size:3,offset:0,stride:40},{buffer:A,type:v.FLOAT,size:4,offset:12,stride:40},{buffer:A,type:v.FLOAT,size:3,offset:28,stride:40}]),E=i(v);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.offset.location=2;var g=new f(v,A,x,E);return g.update(s),g};var r=t(5827),l=t(2944),i=t(7667),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(s,v,A,x){this.gl=s,this.shader=x,this.buffer=v,this.vao=A,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var c=f.prototype;function m(s,v){for(var A=0;A<3;++A)s[0][A]=Math.min(s[0][A],v[A]),s[1][A]=Math.max(s[1][A],v[A])}c.isOpaque=function(){return!this.hasAlpha},c.isTransparent=function(){return this.hasAlpha},c.drawTransparent=c.draw=function(s){var v=this.gl,A=this.shader.uniforms;this.shader.bind();var x=A.view=s.view||u,E=A.projection=s.projection||u;A.model=s.model||u,A.clipBounds=this.clipBounds,A.opacity=this.opacity;var I=(s._ortho?2:1)*this.pixelRatio*(E[3]*x[12]+E[7]*x[13]+E[11]*x[14]+E[15]*x[15])/v.drawingBufferHeight;this.vao.bind();for(var L=0;L<3;++L)v.lineWidth(this.lineWidth[L]*this.pixelRatio),A.capSize=this.capSize[L]*I,this.lineCount[L]&&v.drawArrays(v.LINES,this.lineOffset[L],this.lineCount[L]);this.vao.unbind()};var a=function(){for(var s=new Array(3),v=0;v<3;++v){for(var A=[],x=1;x<=2;++x)for(var E=-1;E<=1;E+=2){var M=[0,0,0];M[(x+v)%3]=E,A.push(M)}s[v]=A}return s}();function b(s,v,A,x){for(var E=a[x],g=0;g<E.length;++g){var M=E[g];s.push(v[0],v[1],v[2],A[0],A[1],A[2],A[3],M[0],M[1],M[2])}return E.length}c.update=function(s){"lineWidth"in(s=s||{})&&(this.lineWidth=s.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in s&&(this.capSize=s.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var v=s.color||[[0,0,0],[0,0,0],[0,0,0]],A=s.position,x=s.error;if(Array.isArray(v[0])||(v=[v,v,v]),A&&x){var E=[],g=A.length,M=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var w=0;w<3;++w){this.lineOffset[w]=M;e:for(var n=0;n<g;++n){for(var S=A[n],d=0;d<3;++d)if(isNaN(S[d])||!isFinite(S[d]))continue e;var B,I=x[n],L=v[w];Array.isArray(L[0])&&(L=v[n]),3===L.length?L=[L[0],L[1],L[2],1]:4===L.length&&(L=[L[0],L[1],L[2],L[3]],!this.hasAlpha&&L[3]<1&&(this.hasAlpha=!0)),isNaN(I[0][w])||isNaN(I[1][w])||(I[0][w]<0&&((B=S.slice())[w]+=I[0][w],E.push(S[0],S[1],S[2],L[0],L[1],L[2],L[3],0,0,0,B[0],B[1],B[2],L[0],L[1],L[2],L[3],0,0,0),m(this.bounds,B),M+=2+b(E,B,L,w)),I[1][w]>0&&((B=S.slice())[w]+=I[1][w],E.push(S[0],S[1],S[2],L[0],L[1],L[2],L[3],0,0,0,B[0],B[1],B[2],L[0],L[1],L[2],L[3],0,0,0),m(this.bounds,B),M+=2+b(E,B,L,w)))}this.lineCount[w]=M-this.lineOffset[w]}this.buffer.update(E)}},c.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(h,y,t){"use strict";var r=t(6832),l=t(5158),i=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);h.exports=function(f){return l(f,i,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(h,y,t){"use strict";var r=t(8931);h.exports=function M(w,n,S,d){i||(i=w.FRAMEBUFFER_UNSUPPORTED,u=w.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,f=w.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,c=w.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var I=w.getExtension("WEBGL_draw_buffers");if(!l&&I&&function b(w,n){var S=w.getParameter(n.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(S+1);for(var d=0;d<=S;++d){for(var I=new Array(S),L=0;L<d;++L)I[L]=w.COLOR_ATTACHMENT0+L;for(L=d;L<S;++L)I[L]=w.NONE;l[d]=I}}(w,I),Array.isArray(n)&&(d=S,S=0|n[1],n=0|n[0]),"number"!=typeof n)throw new Error("gl-fbo: Missing shape parameter");var L=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(n<0||n>L||S<0||S>L)throw new Error("gl-fbo: Parameters are too large for FBO");var B=1;if("color"in(d=d||{})){if((B=Math.max(0|d.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(B>1){if(!I)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(B>w.getParameter(I.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+B+" draw buffers")}}var k=w.UNSIGNED_BYTE,z=w.getExtension("OES_texture_float");if(d.float&&B>0){if(!z)throw new Error("gl-fbo: Context does not support floating point textures");k=w.FLOAT}else d.preferFloat&&B>0&&z&&(k=w.FLOAT);var O=!0;"depth"in d&&(O=!!d.depth);var F=!1;return"stencil"in d&&(F=!!d.stencil),new x(w,n,S,k,B,O,F,I)};var i,u,f,c,l=null;function m(w){return[w.getParameter(w.FRAMEBUFFER_BINDING),w.getParameter(w.RENDERBUFFER_BINDING),w.getParameter(w.TEXTURE_BINDING_2D)]}function a(w,n){w.bindFramebuffer(w.FRAMEBUFFER,n[0]),w.bindRenderbuffer(w.RENDERBUFFER,n[1]),w.bindTexture(w.TEXTURE_2D,n[2])}function p(w){switch(w){case i:throw new Error("gl-fbo: Framebuffer unsupported");case u:throw new Error("gl-fbo: Framebuffer incomplete attachment");case f:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case c:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function s(w,n,S,d,I,L){if(!d)return null;var B=r(w,n,S,I,d);return B.magFilter=w.NEAREST,B.minFilter=w.NEAREST,B.mipSamples=1,B.bind(),w.framebufferTexture2D(w.FRAMEBUFFER,L,w.TEXTURE_2D,B.handle,0),B}function v(w,n,S,d,I){var L=w.createRenderbuffer();return w.bindRenderbuffer(w.RENDERBUFFER,L),w.renderbufferStorage(w.RENDERBUFFER,d,n,S),w.framebufferRenderbuffer(w.FRAMEBUFFER,I,w.RENDERBUFFER,L),L}function x(w,n,S,d,I,L,B,k){this.gl=w,this._shape=[0|n,0|S],this._destroyed=!1,this._ext=k,this.color=new Array(I);for(var z=0;z<I;++z)this.color[z]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=d,this._useDepth=L,this._useStencil=B;var O=this,F=[0|n,0|S];Object.defineProperties(F,{0:{get:function(){return O._shape[0]},set:function(N){return O.width=N}},1:{get:function(){return O._shape[1]},set:function(N){return O.height=N}}}),this._shapeVector=F,function A(w){var n=m(w.gl),S=w.gl,d=w.handle=S.createFramebuffer(),I=w._shape[0],L=w._shape[1],B=w.color.length,k=w._ext,z=w._useStencil,O=w._useDepth,F=w._colorType;S.bindFramebuffer(S.FRAMEBUFFER,d);for(var N=0;N<B;++N)w.color[N]=s(S,I,L,F,S.RGBA,S.COLOR_ATTACHMENT0+N);0===B?(w._color_rb=v(S,I,L,S.RGBA4,S.COLOR_ATTACHMENT0),k&&k.drawBuffersWEBGL(l[0])):B>1&&k.drawBuffersWEBGL(l[B]);var H=S.getExtension("WEBGL_depth_texture");H?z?w.depth=s(S,I,L,H.UNSIGNED_INT_24_8_WEBGL,S.DEPTH_STENCIL,S.DEPTH_STENCIL_ATTACHMENT):O&&(w.depth=s(S,I,L,S.UNSIGNED_SHORT,S.DEPTH_COMPONENT,S.DEPTH_ATTACHMENT)):O&&z?w._depth_rb=v(S,I,L,S.DEPTH_STENCIL,S.DEPTH_STENCIL_ATTACHMENT):O?w._depth_rb=v(S,I,L,S.DEPTH_COMPONENT16,S.DEPTH_ATTACHMENT):z&&(w._depth_rb=v(S,I,L,S.STENCIL_INDEX,S.STENCIL_ATTACHMENT));var X=S.checkFramebufferStatus(S.FRAMEBUFFER);if(X!==S.FRAMEBUFFER_COMPLETE){for(w._destroyed=!0,S.bindFramebuffer(S.FRAMEBUFFER,null),S.deleteFramebuffer(w.handle),w.handle=null,w.depth&&(w.depth.dispose(),w.depth=null),w._depth_rb&&(S.deleteRenderbuffer(w._depth_rb),w._depth_rb=null),N=0;N<w.color.length;++N)w.color[N].dispose(),w.color[N]=null;w._color_rb&&(S.deleteRenderbuffer(w._color_rb),w._color_rb=null),a(S,n),p(X)}a(S,n)}(this)}var E=x.prototype;function g(w,n,S){if(w._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(w._shape[0]!==n||w._shape[1]!==S){var d=w.gl,I=d.getParameter(d.MAX_RENDERBUFFER_SIZE);if(n<0||n>I||S<0||S>I)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");w._shape[0]=n,w._shape[1]=S;for(var L=m(d),B=0;B<w.color.length;++B)w.color[B].shape=w._shape;w._color_rb&&(d.bindRenderbuffer(d.RENDERBUFFER,w._color_rb),d.renderbufferStorage(d.RENDERBUFFER,d.RGBA4,w._shape[0],w._shape[1])),w.depth&&(w.depth.shape=w._shape),w._depth_rb&&(d.bindRenderbuffer(d.RENDERBUFFER,w._depth_rb),w._useDepth&&w._useStencil?d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_STENCIL,w._shape[0],w._shape[1]):w._useDepth?d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_COMPONENT16,w._shape[0],w._shape[1]):w._useStencil&&d.renderbufferStorage(d.RENDERBUFFER,d.STENCIL_INDEX,w._shape[0],w._shape[1])),d.bindFramebuffer(d.FRAMEBUFFER,w.handle);var k=d.checkFramebufferStatus(d.FRAMEBUFFER);k!==d.FRAMEBUFFER_COMPLETE&&(w.dispose(),a(d,L),p(k)),a(d,L)}}Object.defineProperties(E,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(w){if(Array.isArray(w)||(w=[0|w,0|w]),2!==w.length)throw new Error("gl-fbo: Shape vector must be length 2");var n=0|w[0],S=0|w[1];return g(this,n,S),[n,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(w){return g(this,w|=0,this._shape[1]),w},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(w){return g(this,this._shape[0],w|=0),w},enumerable:!1}}),E.bind=function(){if(!this._destroyed){var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,this.handle),w.viewport(0,0,this._shape[0],this._shape[1])}},E.dispose=function(){if(!this._destroyed){this._destroyed=!0;var w=this.gl;w.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(w.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var n=0;n<this.color.length;++n)this.color[n].dispose(),this.color[n]=null;this._color_rb&&(w.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(h,y,t){var r=t(8974).sprintf,l=t(6603),i=t(9365),u=t(8008);h.exports=function f(c,m,a){"use strict";var b=i(m)||"of unknown name (see npm glsl-shader-name)",p="unknown type";void 0!==a&&(p=a===l.FRAGMENT_SHADER?"fragment":"vertex");for(var s=r("Error compiling %s shader %s:\n",p,b),v=r("%s%s",s,c),A=c.split("\n"),x={},E=0;E<A.length;E++){var g=A[E];if(""!==g&&"\0"!==g){var M=parseInt(g.split(":")[2]);if(isNaN(M))throw new Error(r("Could not parse error: %s",g));x[M]=g}}var w=u(m).split("\n");for(E=0;E<w.length;E++)if((x[E+3]||x[E+2]||x[E+1])&&(s+=w[E]+"\n",x[E+1])){var S=x[E+1];S=S.substr(S.split(":",3).join(":").length+1).trim(),s+=r("^^^ %s\n\n",S)}return{long:s.trim(),short:v.trim()}}},6386:function(h,y,t){"use strict";h.exports=function p(s,v){var A=s.gl,S=new m(s,u(A,c.vertex,c.fragment),u(A,c.pickVertex,c.pickFragment),f(A),f(A),f(A),f(A));return S.update(v),s.addObject(S),S};var r=t(5070),l=t(9560),i=t(5306),u=t(5158),f=t(5827),c=t(1292);function m(s,v,A,x,E,g,M){this.plot=s,this.shader=v,this.pickShader=A,this.positionBuffer=x,this.weightBuffer=E,this.colorBuffer=g,this.idBuffer=M,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var s,a=m.prototype,b=[0,0,1,0,0,1,1,0,1,1,0,1];a.draw=(s=[1,0,0,0,1,0,0,0,1],function(){var v=this.plot,A=this.shader,x=this.bounds,E=this.numVertices;if(!(E<=0)){var g=v.gl,M=v.dataBox,n=x[3]-x[1],S=M[2]-M[0],d=M[3]-M[1];s[0]=2*(x[2]-x[0])/S,s[4]=2*n/d,s[6]=2*(x[0]-M[0])/S-1,s[7]=2*(x[1]-M[1])/d-1,A.bind();var I=A.uniforms;I.viewTransform=s,I.shape=this.shape;var L=A.attributes;this.positionBuffer.bind(),L.position.pointer(),this.weightBuffer.bind(),L.weight.pointer(g.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),L.color.pointer(g.UNSIGNED_BYTE,!0),g.drawArrays(g.TRIANGLES,0,E)}}),a.drawPick=function(){var s=[1,0,0,0,1,0,0,0,1],v=[0,0,0,0];return function(A){var x=this.plot,E=this.pickShader,g=this.bounds,M=this.numVertices;if(!(M<=0)){var w=x.gl,n=x.dataBox,d=g[3]-g[1],I=n[2]-n[0],L=n[3]-n[1];s[0]=2*(g[2]-g[0])/I,s[4]=2*d/L,s[6]=2*(g[0]-n[0])/I-1,s[7]=2*(g[1]-n[1])/L-1;for(var B=0;B<4;++B)v[B]=A>>8*B&255;this.pickOffset=A,E.bind();var k=E.uniforms;k.viewTransform=s,k.pickOffset=v,k.shape=this.shape;var z=E.attributes;return this.positionBuffer.bind(),z.position.pointer(),this.weightBuffer.bind(),z.weight.pointer(w.UNSIGNED_BYTE,!1),this.idBuffer.bind(),z.pickId.pointer(w.UNSIGNED_BYTE,!1),w.drawArrays(w.TRIANGLES,0,M),A+this.shape[0]*this.shape[1]}}}(),a.pick=function(s,v,A){var x=this.pickOffset;if(A<x||A>=x+this.shape[0]*this.shape[1])return null;var g=A-x;return{object:this,pointId:g,dataCoord:[this.xData[g%this.shape[0]],this.yData[g/this.shape[0]|0]]}},a.update=function(s){var v=(s=s||{}).shape||[0,0],A=s.x||l(v[0]),x=s.y||l(v[1]),E=s.z||new Float32Array(v[0]*v[1]),g=!1!==s.zsmooth;this.xData=A,this.yData=x;var d,I,L,B,M=s.colorLevels||[0],w=s.colorValues||[0,0,0,1],n=M.length,S=this.bounds;g?(d=S[0]=A[0],I=S[1]=x[0],L=S[2]=A[A.length-1],B=S[3]=x[x.length-1]):(d=S[0]=A[0]+(A[1]-A[0])/2,I=S[1]=x[0]+(x[1]-x[0])/2,L=S[2]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2,B=S[3]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2);var k=1/(L-d),z=1/(B-I),O=v[0],F=v[1];this.shape=[O,F];var N=(g?(O-1)*(F-1):O*F)*(b.length>>>1);this.numVertices=N;for(var H=i.mallocUint8(4*N),X=i.mallocFloat32(2*N),ne=i.mallocUint8(2*N),ie=i.mallocUint32(N),ue=0,J=g?O-1:O,j=g?F-1:F,W=0;W<j;++W){var V,K;g?(V=z*(x[W]-I),K=z*(x[W+1]-I)):(V=W<F-1?z*(x[W]-(x[W+1]-x[W])/2-I):z*(x[W]-(x[W]-x[W-1])/2-I),K=W<F-1?z*(x[W]+(x[W+1]-x[W])/2-I):z*(x[W]+(x[W]-x[W-1])/2-I));for(var ae=0;ae<J;++ae){var Q,Z;g?(Q=k*(A[ae]-d),Z=k*(A[ae+1]-d)):(Q=ae<O-1?k*(A[ae]-(A[ae+1]-A[ae])/2-d):k*(A[ae]-(A[ae]-A[ae-1])/2-d),Z=ae<O-1?k*(A[ae]+(A[ae+1]-A[ae])/2-d):k*(A[ae]+(A[ae]-A[ae-1])/2-d));for(var re=0;re<b.length;re+=2){var Pe,Ie,Se,xe,q=b[re],se=b[re+1],we=E[g?(W+se)*O+(ae+q):W*O+ae],ye=r.le(M,we);if(ye<0)Pe=w[0],Ie=w[1],Se=w[2],xe=w[3];else if(ye===n-1)Pe=w[4*n-4],Ie=w[4*n-3],Se=w[4*n-2],xe=w[4*n-1];else{var Me=(we-M[ye])/(M[ye+1]-M[ye]),Ge=1-Me,Ye=4*ye,De=4*(ye+1);Pe=Ge*w[Ye]+Me*w[De],Ie=Ge*w[Ye+1]+Me*w[De+1],Se=Ge*w[Ye+2]+Me*w[De+2],xe=Ge*w[Ye+3]+Me*w[De+3]}H[4*ue]=255*Pe,H[4*ue+1]=255*Ie,H[4*ue+2]=255*Se,H[4*ue+3]=255*xe,X[2*ue]=.5*Q+.5*Z,X[2*ue+1]=.5*V+.5*K,ne[2*ue]=q,ne[2*ue+1]=se,ie[ue]=W*O+ae,ue+=1}}}this.positionBuffer.update(X),this.weightBuffer.update(ne),this.colorBuffer.update(H),this.idBuffer.update(ie),i.free(X),i.free(H),i.free(ne),i.free(ie)},a.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(h,y,t){"use strict";var r=t(6832);h.exports={fragment:r(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},248:function(h,y,t){var r=t(6832),l=t(5158),i=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),f=r(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),c=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];y.createShader=function(m){return l(m,i,u,null,c)},y.createPickShader=function(m){return l(m,i,f,null,c)}},6086:function(h,y,t){"use strict";h.exports=function w(n){var S=n.gl||n.scene&&n.scene.gl,d=p(S);d.attributes.position.location=0,d.attributes.nextPosition.location=1,d.attributes.arcLength.location=2,d.attributes.lineWidth.location=3,d.attributes.color.location=4;var I=s(S);I.attributes.position.location=0,I.attributes.nextPosition.location=1,I.attributes.arcLength.location=2,I.attributes.lineWidth.location=3,I.attributes.color.location=4;for(var L=r(S),B=l(S,[{buffer:L,size:3,offset:0,stride:48},{buffer:L,size:3,offset:12,stride:48},{buffer:L,size:1,offset:24,stride:48},{buffer:L,size:1,offset:28,stride:48},{buffer:L,size:4,offset:32,stride:48}]),k=a(new Array(1024),[256,1,4]),z=0;z<1024;++z)k.data[z]=255;var O=i(S,k);O.wrap=S.REPEAT;var F=new g(S,d,I,L,B,O);return F.update(n),F};var r=t(5827),l=t(2944),i=t(8931),u=new Uint8Array(4),f=new Float32Array(u.buffer);var m=t(5070),a=t(5050),b=t(248),p=b.createShader,s=b.createPickShader,v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function A(n,S){for(var d=0,I=0;I<3;++I){var L=n[I]-S[I];d+=L*L}return Math.sqrt(d)}function x(n){for(var S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],d=0;d<3;++d)S[0][d]=Math.max(n[0][d],S[0][d]),S[1][d]=Math.min(n[1][d],S[1][d]);return S}function E(n,S,d,I){this.arcLength=n,this.position=S,this.index=d,this.dataCoordinate=I}function g(n,S,d,I,L,B){this.gl=n,this.shader=S,this.pickShader=d,this.buffer=I,this.vao=L,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=B,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var M=g.prototype;M.isTransparent=function(){return this.hasAlpha},M.isOpaque=function(){return!this.hasAlpha},M.pickSlots=1,M.setPickBase=function(n){this.pickId=n},M.drawTransparent=M.draw=function(n){if(this.vertexCount){var S=this.gl,d=this.shader,I=this.vao;d.bind(),d.uniforms={model:n.model||v,view:n.view||v,projection:n.projection||v,clipBounds:x(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},I.bind(),I.draw(S.TRIANGLE_STRIP,this.vertexCount),I.unbind()}},M.drawPick=function(n){if(this.vertexCount){var S=this.gl,d=this.pickShader,I=this.vao;d.bind(),d.uniforms={model:n.model||v,view:n.view||v,projection:n.projection||v,pickId:this.pickId,clipBounds:x(this.clipBounds),screenShape:[S.drawingBufferWidth,S.drawingBufferHeight],pixelRatio:this.pixelRatio},I.bind(),I.draw(S.TRIANGLE_STRIP,this.vertexCount),I.unbind()}},M.update=function(n){var S,d;this.dirty=!0;var I=!!n.connectGaps;"dashScale"in n&&(this.dashScale=n.dashScale),this.hasAlpha=!1,"opacity"in n&&(this.opacity=+n.opacity,this.opacity<1&&(this.hasAlpha=!0));var L=[],B=[],k=[],z=0,O=0,F=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],N=n.position||n.positions;if(N){var H=n.color||n.colors||[0,0,0,1],X=n.lineWidth||1,ne=!1;e:for(S=1;S<N.length;++S){var j,W,V,ie=N[S-1],ue=N[S];for(B.push(z),k.push(ie.slice()),d=0;d<3;++d){if(isNaN(ie[d])||isNaN(ue[d])||!isFinite(ie[d])||!isFinite(ue[d])){if(!I&&L.length>0){for(var J=0;J<24;++J)L.push(L[L.length-12]);O+=2,ne=!0}continue e}F[0][d]=Math.min(F[0][d],ie[d],ue[d]),F[1][d]=Math.max(F[1][d],ie[d],ue[d])}Array.isArray(H[0])?(j=H.length>S-1?H[S-1]:H.length>0?H[H.length-1]:[0,0,0,1],W=H.length>S?H[S]:H.length>0?H[H.length-1]:[0,0,0,1]):j=W=H,3===j.length&&(j=[j[0],j[1],j[2],1]),3===W.length&&(W=[W[0],W[1],W[2],1]),!this.hasAlpha&&j[3]<1&&(this.hasAlpha=!0),V=Array.isArray(X)?X.length>S-1?X[S-1]:X.length>0?X[X.length-1]:[0,0,0,1]:X;var K=z;if(z+=A(ie,ue),ne){for(d=0;d<2;++d)L.push(ie[0],ie[1],ie[2],ue[0],ue[1],ue[2],K,V,j[0],j[1],j[2],j[3]);O+=2,ne=!1}L.push(ie[0],ie[1],ie[2],ue[0],ue[1],ue[2],K,V,j[0],j[1],j[2],j[3],ie[0],ie[1],ie[2],ue[0],ue[1],ue[2],K,-V,j[0],j[1],j[2],j[3],ue[0],ue[1],ue[2],ie[0],ie[1],ie[2],z,-V,W[0],W[1],W[2],W[3],ue[0],ue[1],ue[2],ie[0],ie[1],ie[2],z,V,W[0],W[1],W[2],W[3]),O+=4}}if(this.buffer.update(L),B.push(z),k.push(N[N.length-1].slice()),this.bounds=F,this.vertexCount=O,this.points=k,this.arcLength=B,"dashes"in n){var Q=n.dashes.slice();for(Q.unshift(0),S=1;S<Q.length;++S)Q[S]=Q[S-1]+Q[S];var Z=a(new Array(1024),[256,1,4]);for(S=0;S<256;++S){for(d=0;d<4;++d)Z.set(S,0,d,0);1&m.le(Q,Q[Q.length-1]*S/255)?Z.set(S,0,0,0):Z.set(S,0,0,255)}this.texture.setPixels(Z)}},M.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},M.pick=function(n){if(!n||n.id!==this.pickId)return null;var S=function c(n,S,d,I){return u[0]=I,u[1]=d,u[2]=S,u[3]=n,f[0]}(n.value[0],n.value[1],n.value[2],0),d=m.le(this.arcLength,S);if(d<0)return null;if(d===this.arcLength.length-1)return new E(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),d);for(var I=this.points[d],L=this.points[Math.min(d+1,this.points.length-1)],B=(S-this.arcLength[d])/(this.arcLength[d+1]-this.arcLength[d]),k=1-B,z=[0,0,0],O=0;O<3;++O)z[O]=k*I[O]+B*L[O];var F=Math.min(B<.5?d:d+1,this.points.length-1);return new E(S,z,F,this.points[F])}},7332:function(h){h.exports=function y(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},9823:function(h){h.exports=function y(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7787:function(h){h.exports=function y(t){var r=t[0],l=t[1],i=t[2],u=t[3],f=t[4],c=t[5],m=t[6],a=t[7],b=t[8],p=t[9],s=t[10],v=t[11],A=t[12],x=t[13],E=t[14],g=t[15];return(r*c-l*f)*(s*g-v*E)-(r*m-i*f)*(p*g-v*x)+(r*a-u*f)*(p*E-s*x)+(l*m-i*c)*(b*g-v*A)-(l*a-u*c)*(b*E-s*A)+(i*a-u*m)*(b*x-p*A)}},5950:function(h){h.exports=function y(t,r){var l=r[0],i=r[1],u=r[2],f=r[3],c=l+l,m=i+i,a=u+u,b=l*c,p=i*c,s=i*m,v=u*c,A=u*m,x=u*a,E=f*c,g=f*m,M=f*a;return t[0]=1-s-x,t[1]=p+M,t[2]=v-g,t[3]=0,t[4]=p-M,t[5]=1-b-x,t[6]=A+E,t[7]=0,t[8]=v+g,t[9]=A-E,t[10]=1-b-s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7280:function(h){h.exports=function y(t,r,l){var i=r[0],u=r[1],f=r[2],c=r[3],m=i+i,a=u+u,b=f+f,p=i*m,s=i*a,v=i*b,A=u*a,x=u*b,E=f*b,g=c*m,M=c*a,w=c*b;return t[0]=1-(A+E),t[1]=s+w,t[2]=v-M,t[3]=0,t[4]=s-w,t[5]=1-(p+E),t[6]=x+g,t[7]=0,t[8]=v+M,t[9]=x-g,t[10]=1-(p+A),t[11]=0,t[12]=l[0],t[13]=l[1],t[14]=l[2],t[15]=1,t}},9947:function(h){h.exports=function y(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7437:function(h){h.exports=function y(t,r){var l=r[0],i=r[1],u=r[2],f=r[3],c=r[4],m=r[5],a=r[6],b=r[7],p=r[8],s=r[9],v=r[10],A=r[11],x=r[12],E=r[13],g=r[14],M=r[15],w=l*m-i*c,n=l*a-u*c,S=l*b-f*c,d=i*a-u*m,I=i*b-f*m,L=u*b-f*a,B=p*E-s*x,k=p*g-v*x,z=p*M-A*x,O=s*g-v*E,F=s*M-A*E,N=v*M-A*g,H=w*N-n*F+S*O+d*z-I*k+L*B;return H?(t[0]=(m*N-a*F+b*O)*(H=1/H),t[1]=(u*F-i*N-f*O)*H,t[2]=(E*L-g*I+M*d)*H,t[3]=(v*I-s*L-A*d)*H,t[4]=(a*z-c*N-b*k)*H,t[5]=(l*N-u*z+f*k)*H,t[6]=(g*S-x*L-M*n)*H,t[7]=(p*L-v*S+A*n)*H,t[8]=(c*F-m*z+b*B)*H,t[9]=(i*z-l*F-f*B)*H,t[10]=(x*I-E*S+M*w)*H,t[11]=(s*S-p*I-A*w)*H,t[12]=(m*k-c*O-a*B)*H,t[13]=(l*O-i*k+u*B)*H,t[14]=(E*n-x*d-g*w)*H,t[15]=(p*d-s*n+v*w)*H,t):null}},3012:function(h,y,t){var r=t(9947);h.exports=function l(i,u,f,c){var m,a,b,p,s,v,A,x,E,g,M=u[0],w=u[1],n=u[2],S=c[0],d=c[1],I=c[2],L=f[0],B=f[1],k=f[2];return Math.abs(M-L)<1e-6&&Math.abs(w-B)<1e-6&&Math.abs(n-k)<1e-6?r(i):(A=M-L,x=w-B,E=n-k,m=d*(E*=g=1/Math.sqrt(A*A+x*x+E*E))-I*(x*=g),a=I*(A*=g)-S*E,b=S*x-d*A,(g=Math.sqrt(m*m+a*a+b*b))?(m*=g=1/g,a*=g,b*=g):(m=0,a=0,b=0),p=x*b-E*a,s=E*m-A*b,v=A*a-x*m,(g=Math.sqrt(p*p+s*s+v*v))?(p*=g=1/g,s*=g,v*=g):(p=0,s=0,v=0),i[0]=m,i[1]=p,i[2]=A,i[3]=0,i[4]=a,i[5]=s,i[6]=x,i[7]=0,i[8]=b,i[9]=v,i[10]=E,i[11]=0,i[12]=-(m*M+a*w+b*n),i[13]=-(p*M+s*w+v*n),i[14]=-(A*M+x*w+E*n),i[15]=1,i)}},104:function(h){h.exports=function y(t,r,l){var i=r[0],u=r[1],f=r[2],c=r[3],m=r[4],a=r[5],b=r[6],p=r[7],s=r[8],v=r[9],A=r[10],x=r[11],E=r[12],g=r[13],M=r[14],w=r[15],n=l[0],S=l[1],d=l[2],I=l[3];return t[0]=n*i+S*m+d*s+I*E,t[1]=n*u+S*a+d*v+I*g,t[2]=n*f+S*b+d*A+I*M,t[3]=n*c+S*p+d*x+I*w,t[4]=(n=l[4])*i+(S=l[5])*m+(d=l[6])*s+(I=l[7])*E,t[5]=n*u+S*a+d*v+I*g,t[6]=n*f+S*b+d*A+I*M,t[7]=n*c+S*p+d*x+I*w,t[8]=(n=l[8])*i+(S=l[9])*m+(d=l[10])*s+(I=l[11])*E,t[9]=n*u+S*a+d*v+I*g,t[10]=n*f+S*b+d*A+I*M,t[11]=n*c+S*p+d*x+I*w,t[12]=(n=l[12])*i+(S=l[13])*m+(d=l[14])*s+(I=l[15])*E,t[13]=n*u+S*a+d*v+I*g,t[14]=n*f+S*b+d*A+I*M,t[15]=n*c+S*p+d*x+I*w,t}},5268:function(h){h.exports=function y(t,r,l,i,u,f,c){var m=1/(r-l),a=1/(i-u),b=1/(f-c);return t[0]=-2*m,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*b,t[11]=0,t[12]=(r+l)*m,t[13]=(u+i)*a,t[14]=(c+f)*b,t[15]=1,t}},1120:function(h){h.exports=function y(t,r,l,i,u){var f=1/Math.tan(r/2),c=1/(i-u);return t[0]=f/l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(u+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*u*i*c,t[15]=0,t}},4422:function(h){h.exports=function y(t,r,l,i){var a,b,p,s,v,A,x,E,g,M,w,n,S,d,I,L,B,k,z,O,F,N,H,X,u=i[0],f=i[1],c=i[2],m=Math.sqrt(u*u+f*f+c*c);return Math.abs(m)<1e-6?null:(u*=m=1/m,f*=m,c*=m,a=Math.sin(l),b=Math.cos(l),v=r[1],A=r[2],x=r[3],g=r[5],M=r[6],w=r[7],S=r[9],d=r[10],I=r[11],z=u*f*(p=1-b)-c*a,O=f*f*p+b,F=c*f*p+u*a,N=u*c*p+f*a,H=f*c*p-u*a,X=c*c*p+b,t[0]=(s=r[0])*(L=u*u*p+b)+(E=r[4])*(B=f*u*p+c*a)+(n=r[8])*(k=c*u*p-f*a),t[1]=v*L+g*B+S*k,t[2]=A*L+M*B+d*k,t[3]=x*L+w*B+I*k,t[4]=s*z+E*O+n*F,t[5]=v*z+g*O+S*F,t[6]=A*z+M*O+d*F,t[7]=x*z+w*O+I*F,t[8]=s*N+E*H+n*X,t[9]=v*N+g*H+S*X,t[10]=A*N+M*H+d*X,t[11]=x*N+w*H+I*X,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}},6109:function(h){h.exports=function y(t,r,l){var i=Math.sin(l),u=Math.cos(l),f=r[4],c=r[5],m=r[6],a=r[7],b=r[8],p=r[9],s=r[10],v=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=f*u+b*i,t[5]=c*u+p*i,t[6]=m*u+s*i,t[7]=a*u+v*i,t[8]=b*u-f*i,t[9]=p*u-c*i,t[10]=s*u-m*i,t[11]=v*u-a*i,t}},7115:function(h){h.exports=function y(t,r,l){var i=Math.sin(l),u=Math.cos(l),f=r[0],c=r[1],m=r[2],a=r[3],b=r[8],p=r[9],s=r[10],v=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=f*u-b*i,t[1]=c*u-p*i,t[2]=m*u-s*i,t[3]=a*u-v*i,t[8]=f*i+b*u,t[9]=c*i+p*u,t[10]=m*i+s*u,t[11]=a*i+v*u,t}},5240:function(h){h.exports=function y(t,r,l){var i=Math.sin(l),u=Math.cos(l),f=r[0],c=r[1],m=r[2],a=r[3],b=r[4],p=r[5],s=r[6],v=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=f*u+b*i,t[1]=c*u+p*i,t[2]=m*u+s*i,t[3]=a*u+v*i,t[4]=b*u-f*i,t[5]=p*u-c*i,t[6]=s*u-m*i,t[7]=v*u-a*i,t}},3668:function(h){h.exports=function y(t,r,l){var i=l[0],u=l[1],f=l[2];return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=r[3]*i,t[4]=r[4]*u,t[5]=r[5]*u,t[6]=r[6]*u,t[7]=r[7]*u,t[8]=r[8]*f,t[9]=r[9]*f,t[10]=r[10]*f,t[11]=r[11]*f,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},998:function(h){h.exports=function y(t,r,l){var c,m,a,b,p,s,v,A,x,E,g,M,i=l[0],u=l[1],f=l[2];return r===t?(t[12]=r[0]*i+r[4]*u+r[8]*f+r[12],t[13]=r[1]*i+r[5]*u+r[9]*f+r[13],t[14]=r[2]*i+r[6]*u+r[10]*f+r[14],t[15]=r[3]*i+r[7]*u+r[11]*f+r[15]):(m=r[1],a=r[2],b=r[3],p=r[4],s=r[5],v=r[6],A=r[7],x=r[8],E=r[9],g=r[10],M=r[11],t[0]=c=r[0],t[1]=m,t[2]=a,t[3]=b,t[4]=p,t[5]=s,t[6]=v,t[7]=A,t[8]=x,t[9]=E,t[10]=g,t[11]=M,t[12]=c*i+p*u+x*f+r[12],t[13]=m*i+s*u+E*f+r[13],t[14]=a*i+v*u+g*f+r[14],t[15]=b*i+A*u+M*f+r[15]),t}},2142:function(h){h.exports=function y(t,r){if(t===r){var l=r[1],i=r[2],u=r[3],f=r[6],c=r[7],m=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=l,t[6]=r[9],t[7]=r[13],t[8]=i,t[9]=f,t[11]=r[14],t[12]=u,t[13]=c,t[14]=m}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}},4340:function(h,y,t){"use strict";var r=t(957),l=t(7309);function i(a,b){for(var p=[0,0,0,0],s=0;s<4;++s)for(var v=0;v<4;++v)p[v]+=a[4*s+v]*b[s];return p}function u(a,b,p,s,v){for(var A=i(s,i(p,i(b,[a[0],a[1],a[2],1]))),x=0;x<3;++x)A[x]/=A[3];return[.5*v[0]*(1+A[0]),.5*v[1]*(1-A[1])]}function c(a,b){for(var p=[0,0,0],s=0;s<a.length;++s)for(var v=a[s],A=b[s],x=0;x<3;++x)p[x]+=A*v[x];return p}h.exports=function m(a,b,p,s,v,A){if(1===a.length)return[0,a[0].slice()];for(var x=new Array(a.length),E=0;E<a.length;++E)x[E]=u(a[E],p,s,v,A);var g=0,M=1/0;for(E=0;E<x.length;++E){for(var w=0,n=0;n<2;++n)w+=Math.pow(x[E][n]-b[n],2);w<M&&(M=w,g=E)}var S=function f(a,b){if(2===a.length){for(var p=0,s=0,v=0;v<2;++v)p+=Math.pow(b[v]-a[0][v],2),s+=Math.pow(b[v]-a[1][v],2);return(p=Math.sqrt(p))+(s=Math.sqrt(s))<1e-6?[1,0]:[s/(p+s),p/(s+p)]}if(3===a.length){var A=[0,0];return l(a[0],a[1],a[2],b,A),r(a,A)}return[]}(x,b),d=0;for(E=0;E<3;++E){if(S[E]<-.001||S[E]>1.0001)return null;d+=S[E]}return Math.abs(d-1)>.001?null:[g,c(a,S),S]}},2056:function(h,y,t){var r=t(6832),l=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),i=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),f=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),m=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),b=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),p=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),v=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);y.meshShader={vertex:l,fragment:i,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},y.wireShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},y.pointShader={vertex:c,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},y.pickShader={vertex:a,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},y.pointPickShader={vertex:p,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},y.contourShader={vertex:s,fragment:v,attributes:[{name:"position",type:"vec3"}]}},8116:function(h,y,t){"use strict";var i=t(5158),u=t(5827),f=t(2944),c=t(8931),m=t(115),a=t(104),b=t(7437),p=t(5050),s=t(9156),v=t(7212),A=t(5306),x=t(2056),E=t(4340),g=x.meshShader,M=x.wireShader,w=x.pointShader,n=x.pickShader,S=x.pointPickShader,d=x.contourShader,I=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function L(J,j,W,V,K,ae,Q,Z,re,q,se,de,we,ye,Pe,Ie,Se,xe,Me,Ge,Ye,De,He,rt,$e,Be,ze){this.gl=J,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=j,this.dirty=!0,this.triShader=W,this.lineShader=V,this.pointShader=K,this.pickShader=ae,this.pointPickShader=Q,this.contourShader=Z,this.trianglePositions=re,this.triangleColors=se,this.triangleNormals=we,this.triangleUVs=de,this.triangleIds=q,this.triangleVAO=ye,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Pe,this.edgeColors=Se,this.edgeUVs=xe,this.edgeIds=Ie,this.edgeVAO=Me,this.edgeCount=0,this.pointPositions=Ge,this.pointColors=De,this.pointUVs=He,this.pointSizes=rt,this.pointIds=Ye,this.pointVAO=$e,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Be,this.contourVAO=ze,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=I,this._view=I,this._projection=I,this._resolution=[1,1]}var B=L.prototype;function k(J,j){if(!j||!j.length)return 1;for(var W=0;W<j.length;++W){if(j.length<2)return 1;if(j[W][0]===J)return j[W][1];if(j[W][0]>J&&W>0){var V=(j[W][0]-J)/(j[W][0]-j[W-1][0]);return j[W][1]*(1-V)+V*j[W-1][1]}}return 1}B.isOpaque=function(){return!this.hasAlpha},B.isTransparent=function(){return this.hasAlpha},B.pickSlots=1,B.setPickBase=function(J){this.pickId=J},B.highlight=function(J){if(J&&this.contourEnable){for(var j=v(this.cells,this.intensity,J.intensity),W=j.cells,V=j.vertexIds,K=j.vertexWeights,ae=W.length,Q=A.mallocFloat32(6*ae),Z=0,re=0;re<ae;++re)for(var q=W[re],se=0;se<2;++se){var de=q[0];2===q.length&&(de=q[se]);for(var Pe=K[de],Ie=1-Pe,Se=this.positions[V[de][0]],xe=this.positions[V[de][1]],Me=0;Me<3;++Me)Q[Z++]=Pe*Se[Me]+Ie*xe[Me]}this.contourCount=Z/3|0,this.contourPositions.update(Q.subarray(0,Z)),A.free(Q)}else this.contourCount=0},B.update=function(J){J=J||{};var j=this.gl;this.dirty=!0,"contourEnable"in J&&(this.contourEnable=J.contourEnable),"contourColor"in J&&(this.contourColor=J.contourColor),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"lightPosition"in J&&(this.lightPosition=J.lightPosition),this.hasAlpha=!1,"opacity"in J&&(this.opacity=J.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in J&&(this.opacityscale=J.opacityscale,this.hasAlpha=!0),"ambient"in J&&(this.ambientLight=J.ambient),"diffuse"in J&&(this.diffuseLight=J.diffuse),"specular"in J&&(this.specularLight=J.specular),"roughness"in J&&(this.roughness=J.roughness),"fresnel"in J&&(this.fresnel=J.fresnel),J.texture?(this.texture.dispose(),this.texture=c(j,J.texture)):J.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=j.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=j.LINEAR,this.texture.setPixels(function z(J,j){for(var W=s({colormap:J,nshades:256,format:"rgba"}),V=new Uint8Array(1024),K=0;K<256;++K){for(var ae=W[K],Q=0;Q<3;++Q)V[4*K+Q]=ae[Q];V[4*K+3]=j?255*k(K/255,j):255*ae[3]}return p(V,[256,256,4],[4,0,1])}(J.colormap,this.opacityscale)),this.texture.generateMipmap());var W=J.cells,V=J.positions;if(V&&W){var K=[],ae=[],Q=[],Z=[],re=[],q=[],se=[],de=[],we=[],ye=[],Pe=[],Ie=[],Se=[],xe=[];this.cells=W,this.positions=V;var Me=J.vertexNormals,Ge=J.cellNormals,Ye=void 0===J.vertexNormalsEpsilon?1e-6:J.vertexNormalsEpsilon;J.useFacetNormals&&!Ge&&(Ge=m.faceNormals(W,V,void 0===J.faceNormalsEpsilon?1e-6:J.faceNormalsEpsilon)),!Ge&&!Me&&(Me=m.vertexNormals(W,V,Ye));var He=J.vertexColors,rt=J.cellColors,$e=J.meshColor||[1,1,1,1],Be=J.vertexUVs,ze=J.vertexIntensity,tt=J.cellUVs,lt=J.cellIntensity,ut=1/0,xt=-1/0;if(!Be&&!tt)if(ze)if(J.vertexIntensityBounds)ut=+J.vertexIntensityBounds[0],xt=+J.vertexIntensityBounds[1];else for(var bt=0;bt<ze.length;++bt){var Ht=ze[bt];ut=Math.min(ut,Ht),xt=Math.max(xt,Ht)}else if(lt)if(J.cellIntensityBounds)ut=+J.cellIntensityBounds[0],xt=+J.cellIntensityBounds[1];else for(bt=0;bt<lt.length;++bt)Ht=lt[bt],ut=Math.min(ut,Ht),xt=Math.max(xt,Ht);else for(bt=0;bt<V.length;++bt)Ht=V[bt][2],ut=Math.min(ut,Ht),xt=Math.max(xt,Ht);this.intensity=ze||lt||function O(J){for(var j=J.length,W=new Array(j),V=0;V<j;++V)W[V]=J[V][2];return W}(V),this.pickVertex=!(lt||rt);var Je=J.pointSizes,Ce=J.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],bt=0;bt<V.length;++bt)for(var Ee=V[bt],Re=0;Re<3;++Re)isNaN(Ee[Re])||!isFinite(Ee[Re])||(this.bounds[0][Re]=Math.min(this.bounds[0][Re],Ee[Re]),this.bounds[1][Re]=Math.max(this.bounds[1][Re],Ee[Re]));var ke=0,Ne=0,_e=0;e:for(bt=0;bt<W.length;++bt){var Te=W[bt];switch(Te.length){case 1:for(Ee=V[fe=Te[0]],Re=0;Re<3;++Re)if(isNaN(Ee[Re])||!isFinite(Ee[Re]))continue e;ye.push(Ee[0],Ee[1],Ee[2]),pe=He?He[fe]:rt?rt[bt]:$e,this.opacityscale&&ze?ae.push(pe[0],pe[1],pe[2],this.opacity*k((ze[fe]-ut)/(xt-ut),this.opacityscale)):3===pe.length?Pe.push(pe[0],pe[1],pe[2],this.opacity):(Pe.push(pe[0],pe[1],pe[2],pe[3]*this.opacity),pe[3]<1&&(this.hasAlpha=!0)),Ie.push((Fe=Be?Be[fe]:ze?[(ze[fe]-ut)/(xt-ut),0]:tt?tt[bt]:lt?[(lt[bt]-ut)/(xt-ut),0]:[(Ee[2]-ut)/(xt-ut),0])[0],Fe[1]),Se.push(Je?Je[fe]:Ce),xe.push(bt),_e+=1;break;case 2:for(Re=0;Re<2;++Re){Ee=V[fe=Te[Re]];for(var Xe=0;Xe<3;++Xe)if(isNaN(Ee[Xe])||!isFinite(Ee[Xe]))continue e}for(Re=0;Re<2;++Re)q.push((Ee=V[fe=Te[Re]])[0],Ee[1],Ee[2]),pe=He?He[fe]:rt?rt[bt]:$e,this.opacityscale&&ze?ae.push(pe[0],pe[1],pe[2],this.opacity*k((ze[fe]-ut)/(xt-ut),this.opacityscale)):3===pe.length?se.push(pe[0],pe[1],pe[2],this.opacity):(se.push(pe[0],pe[1],pe[2],pe[3]*this.opacity),pe[3]<1&&(this.hasAlpha=!0)),de.push((Fe=Be?Be[fe]:ze?[(ze[fe]-ut)/(xt-ut),0]:tt?tt[bt]:lt?[(lt[bt]-ut)/(xt-ut),0]:[(Ee[2]-ut)/(xt-ut),0])[0],Fe[1]),we.push(bt);Ne+=1;break;case 3:for(Re=0;Re<3;++Re)for(Ee=V[fe=Te[Re]],Xe=0;Xe<3;++Xe)if(isNaN(Ee[Xe])||!isFinite(Ee[Xe]))continue e;for(Re=0;Re<3;++Re){var fe,pe,Fe,at;K.push((Ee=V[fe=Te[2-Re]])[0],Ee[1],Ee[2]),(pe=He?He[fe]:rt?rt[bt]:$e)?this.opacityscale&&ze?ae.push(pe[0],pe[1],pe[2],this.opacity*k((ze[fe]-ut)/(xt-ut),this.opacityscale)):3===pe.length?ae.push(pe[0],pe[1],pe[2],this.opacity):(ae.push(pe[0],pe[1],pe[2],pe[3]*this.opacity),pe[3]<1&&(this.hasAlpha=!0)):ae.push(.5,.5,.5,1),Z.push((Fe=Be?Be[fe]:ze?[(ze[fe]-ut)/(xt-ut),0]:tt?tt[bt]:lt?[(lt[bt]-ut)/(xt-ut),0]:[(Ee[2]-ut)/(xt-ut),0])[0],Fe[1]),Q.push((at=Me?Me[fe]:Ge[bt])[0],at[1],at[2]),re.push(bt)}ke+=1}}this.pointCount=_e,this.edgeCount=Ne,this.triangleCount=ke,this.pointPositions.update(ye),this.pointColors.update(Pe),this.pointUVs.update(Ie),this.pointSizes.update(Se),this.pointIds.update(new Uint32Array(xe)),this.edgePositions.update(q),this.edgeColors.update(se),this.edgeUVs.update(de),this.edgeIds.update(new Uint32Array(we)),this.trianglePositions.update(K),this.triangleColors.update(ae),this.triangleUVs.update(Z),this.triangleNormals.update(Q),this.triangleIds.update(new Uint32Array(re))}},B.drawTransparent=B.draw=function(J){for(var j=this.gl,W=(J=J||{}).model||I,V=J.view||I,K=J.projection||I,ae=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)ae[0][Q]=Math.max(ae[0][Q],this.clipBounds[0][Q]),ae[1][Q]=Math.min(ae[1][Q],this.clipBounds[1][Q]);var Z={model:W,view:V,projection:K,inverseModel:I.slice(),clipBounds:ae,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};Z.inverseModel=b(Z.inverseModel,Z.model),j.disable(j.CULL_FACE),this.texture.bind(0);var we,re=new Array(16);for(a(re,Z.view,Z.model),a(re,Z.projection,re),b(re,re),Q=0;Q<3;++Q)Z.eyePosition[Q]=re[12+Q]/re[15];var q=re[15];for(Q=0;Q<3;++Q)q+=this.lightPosition[Q]*re[4*Q+3];for(Q=0;Q<3;++Q){for(var se=re[12+Q],de=0;de<3;++de)se+=re[4*de+Q]*this.lightPosition[de];Z.lightPosition[Q]=se/q}this.triangleCount>0&&((we=this.triShader).bind(),we.uniforms=Z,this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((we=this.lineShader).bind(),we.uniforms=Z,this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((we=this.pointShader).bind(),we.uniforms=Z,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((we=this.contourShader).bind(),we.uniforms=Z,this.contourVAO.bind(),j.drawArrays(j.LINES,0,this.contourCount),this.contourVAO.unbind())},B.drawPick=function(J){for(var j=this.gl,W=(J=J||{}).model||I,V=J.view||I,K=J.projection||I,ae=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)ae[0][Q]=Math.max(ae[0][Q],this.clipBounds[0][Q]),ae[1][Q]=Math.min(ae[1][Q],this.clipBounds[1][Q]);this._model=[].slice.call(W),this._view=[].slice.call(V),this._projection=[].slice.call(K),this._resolution=[j.drawingBufferWidth,j.drawingBufferHeight];var re,Z={model:W,view:V,projection:K,clipBounds:ae,pickId:this.pickId/255};(re=this.pickShader).bind(),re.uniforms=Z,this.triangleCount>0&&(this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((re=this.pointPickShader).bind(),re.uniforms=Z,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind())},B.pick=function(J){if(!J||J.id!==this.pickId)return null;for(var j=J.value[0]+256*J.value[1]+65536*J.value[2],W=this.cells[j],V=this.positions,K=new Array(W.length),ae=0;ae<W.length;++ae)K[ae]=V[W[ae]];var Q=J.coord[0],Z=J.coord[1];if(!this.pickVertex){var re=this.positions[W[0]],q=this.positions[W[1]],se=this.positions[W[2]];return{_cellCenter:!0,position:[Q,Z],index:j,cell:W,cellId:j,intensity:this.intensity[j],dataCoordinate:[(re[0]+q[0]+se[0])/3,(re[1]+q[1]+se[1])/3,(re[2]+q[2]+se[2])/3]}}var we=E(K,[Q*this.pixelRatio,this._resolution[1]-Z*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!we)return null;var ye=we[2],Pe=0;for(ae=0;ae<W.length;++ae)Pe+=ye[ae]*this.intensity[W[ae]];return{position:we[1],index:W[we[0]],cell:W,cellId:j,intensity:Pe,dataCoordinate:this.positions[W[we[0]]]}},B.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},h.exports=function ue(J,j){if(1===arguments.length&&(J=(j=J).gl),!(J.getExtension("OES_standard_derivatives")||J.getExtension("MOZ_OES_standard_derivatives")||J.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var V=function F(J){var j=i(J,g.vertex,g.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.normal.location=4,j}(J),K=function N(J){var j=i(J,M.vertex,M.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j}(J),ae=function H(J){var j=i(J,w.vertex,w.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.pointSize.location=4,j}(J),Q=function X(J){var j=i(J,n.vertex,n.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j}(J),Z=function ne(J){var j=i(J,S.vertex,S.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j.attributes.pointSize.location=4,j}(J),re=function ie(J){var j=i(J,d.vertex,d.fragment);return j.attributes.position.location=0,j}(J),q=c(J,p(new Uint8Array([255,255,255,255]),[1,1,4]));q.generateMipmap(),q.minFilter=J.LINEAR_MIPMAP_LINEAR,q.magFilter=J.LINEAR;var se=u(J),de=u(J),we=u(J),ye=u(J),Pe=u(J),Ie=f(J,[{buffer:se,type:J.FLOAT,size:3},{buffer:Pe,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:de,type:J.FLOAT,size:4},{buffer:we,type:J.FLOAT,size:2},{buffer:ye,type:J.FLOAT,size:3}]),Se=u(J),xe=u(J),Me=u(J),Ge=u(J),Ye=f(J,[{buffer:Se,type:J.FLOAT,size:3},{buffer:Ge,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:J.FLOAT,size:4},{buffer:Me,type:J.FLOAT,size:2}]),De=u(J),He=u(J),rt=u(J),$e=u(J),Be=u(J),ze=f(J,[{buffer:De,type:J.FLOAT,size:3},{buffer:Be,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:He,type:J.FLOAT,size:4},{buffer:rt,type:J.FLOAT,size:2},{buffer:$e,type:J.FLOAT,size:1}]),tt=u(J),ut=new L(J,q,V,K,ae,Q,Z,re,se,Pe,de,we,ye,Ie,Se,Ge,xe,Me,Ye,De,Be,He,rt,$e,ze,tt,f(J,[{buffer:tt,type:J.FLOAT,size:3}]));return ut.update(j),ut}},4554:function(h,y,t){"use strict";h.exports=function c(m){var a=m.gl;return new u(m,r(a,[0,0,0,1,1,0,1,1]),l(a,i.boxVert,i.lineFrag))};var r=t(5827),l=t(5158),i=t(2709);function u(m,a,b){this.plot=m,this.vbo=a,this.shader=b}var m,a,f=u.prototype;f.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},f.drawBox=(m=[0,0],a=[0,0],function(b,p,s,v,A){var E=this.shader,g=this.plot.gl;m[0]=b,m[1]=p,a[0]=s,a[1]=v,E.uniforms.lo=m,E.uniforms.hi=a,E.uniforms.color=A,g.drawArrays(g.TRIANGLE_STRIP,0,4)}),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(h,y,t){"use strict";h.exports=function a(b){var p=b.gl;return new f(b,r(p),l(p,u.gridVert,u.gridFrag),l(p,u.tickVert,u.gridFrag))};var r=t(5827),l=t(5158),i=t(5070),u=t(2709);function f(b,p,s,v){this.plot=b,this.vbo=p,this.shader=s,this.tickShader=v,this.ticks=[[],[]]}function c(b,p){return b-p}var b,p,s,m=f.prototype;m.draw=(b=[0,0],p=[0,0],s=[0,0],function(){for(var v=this.plot,A=this.vbo,x=this.shader,E=this.ticks,g=v.gl,M=v._tickBounds,w=v.dataBox,n=v.viewBox,S=v.gridLineWidth,d=v.gridLineColor,I=v.gridLineEnable,L=v.pixelRatio,B=0;B<2;++B){var k=M[B],F=.5*(w[B+2]+w[B]),N=w[B+2]-w[B];p[B]=2*(M[B+2]-k)/N,b[B]=2*(k-F)/N}x.bind(),A.bind(),x.attributes.dataCoord.pointer(),x.uniforms.dataShift=b,x.uniforms.dataScale=p;var H=0;for(B=0;B<2;++B){s[0]=s[1]=0,s[B]=1,x.uniforms.dataAxis=s,x.uniforms.lineWidth=S[B]/(n[B+2]-n[B])*L,x.uniforms.color=d[B];var X=6*E[B].length;I[B]&&X&&g.drawArrays(g.TRIANGLES,H,X),H+=X}}),m.drawTickMarks=function(){var b=[0,0],p=[0,0],s=[1,0],v=[0,1],A=[0,0],x=[0,0];return function(){for(var E=this.plot,g=this.vbo,M=this.tickShader,w=this.ticks,n=E.gl,S=E._tickBounds,d=E.dataBox,I=E.viewBox,L=E.pixelRatio,B=E.screenBox,k=B[2]-B[0],z=B[3]-B[1],O=I[2]-I[0],F=I[3]-I[1],N=0;N<2;++N){var H=S[N],ie=.5*(d[N+2]+d[N]),ue=d[N+2]-d[N];p[N]=2*(S[N+2]-H)/ue,b[N]=2*(H-ie)/ue}p[0]*=O/k,b[0]*=O/k,p[1]*=F/z,b[1]*=F/z,M.bind(),g.bind(),M.attributes.dataCoord.pointer();var J=M.uniforms;J.dataShift=b,J.dataScale=p;var j=E.tickMarkLength,W=E.tickMarkWidth,V=E.tickMarkColor,ae=6*w[0].length,Q=Math.min(i.ge(w[0],(d[0]-S[0])/(S[2]-S[0]),c),w[0].length),Z=Math.min(i.gt(w[0],(d[2]-S[0])/(S[2]-S[0]),c),w[0].length),re=0+6*Q,q=6*Math.max(0,Z-Q),se=Math.min(i.ge(w[1],(d[1]-S[1])/(S[3]-S[1]),c),w[1].length),de=Math.min(i.gt(w[1],(d[3]-S[1])/(S[3]-S[1]),c),w[1].length),we=ae+6*se,ye=6*Math.max(0,de-se);A[0]=2*(I[0]-j[1])/k-1,A[1]=(I[3]+I[1])/z-1,x[0]=j[1]*L/k,x[1]=W[1]*L/z,ye&&(J.color=V[1],J.tickScale=x,J.dataAxis=v,J.screenOffset=A,n.drawArrays(n.TRIANGLES,we,ye)),A[0]=(I[2]+I[0])/k-1,A[1]=2*(I[1]-j[0])/z-1,x[0]=W[0]*L/k,x[1]=j[0]*L/z,q&&(J.color=V[0],J.tickScale=x,J.dataAxis=s,J.screenOffset=A,n.drawArrays(n.TRIANGLES,re,q)),A[0]=2*(I[2]+j[3])/k-1,A[1]=(I[3]+I[1])/z-1,x[0]=j[3]*L/k,x[1]=W[3]*L/z,ye&&(J.color=V[3],J.tickScale=x,J.dataAxis=v,J.screenOffset=A,n.drawArrays(n.TRIANGLES,we,ye)),A[0]=(I[2]+I[0])/k-1,A[1]=2*(I[3]+j[2])/z-1,x[0]=W[2]*L/k,x[1]=j[2]*L/z,q&&(J.color=V[2],J.tickScale=x,J.dataAxis=s,J.screenOffset=A,n.drawArrays(n.TRIANGLES,re,q))}}(),m.update=function(){var b=[1,1,-1,-1,1,-1],p=[1,-1,1,1,-1,-1];return function(s){for(var v=s.ticks,A=s.bounds,x=new Float32Array(18*(v[0].length+v[1].length)),g=0,M=[[],[]],w=0;w<2;++w)for(var n=M[w],S=v[w],d=A[w],I=A[w+2],L=0;L<S.length;++L){var B=(S[L].x-d)/(I-d);n.push(B);for(var k=0;k<6;++k)x[g++]=B,x[g++]=b[k],x[g++]=p[k]}this.ticks=M,this.vbo.update(x)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(h,y,t){"use strict";h.exports=function c(m){var a=m.gl;return new u(m,r(a,[-1,-1,-1,1,1,-1,1,1]),l(a,i.lineVert,i.lineFrag))};var r=t(5827),l=t(5158),i=t(2709);function u(m,a,b){this.plot=m,this.vbo=a,this.shader=b}var m,a,f=u.prototype;f.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},f.drawLine=(m=[0,0],a=[0,0],function(b,p,s,v,A,x){var E=this.plot,g=this.shader,M=E.gl;m[0]=b,m[1]=p,a[0]=s,a[1]=v,g.uniforms.start=m,g.uniforms.end=a,g.uniforms.width=A*E.pixelRatio,g.uniforms.color=x,M.drawArrays(M.TRIANGLE_STRIP,0,4)}),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(h,y,t){"use strict";var r=t(6832),l=r(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);h.exports={lineVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:l,textVert:r(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:l,gridVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:l,boxVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},5613:function(h,y,t){"use strict";h.exports=function a(b){var p=b.gl;return new c(b,r(p),l(p,f.textVert,f.textFrag))};var r=t(5827),l=t(5158),i=t(6946),u=t(5070),f=t(2709);function c(b,p,s){this.plot=b,this.vbo=p,this.shader=s,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var b,p,s,m=c.prototype;m.drawTicks=(b=[0,0],p=[0,0],s=[0,0],function(v){var A=this.plot,x=this.shader,E=this.tickX[v],g=this.tickOffset[v],M=A.gl,w=A.viewBox,n=A.dataBox,S=A.screenBox,d=A.pixelRatio,I=A.tickEnable,L=A.tickPad,B=A.tickColor,k=A.tickAngle,z=A.labelEnable,O=A.labelPad,F=A.labelColor,N=A.labelAngle,H=this.labelOffset[v],X=this.labelCount[v],ne=u.lt(E,n[v]),ie=u.le(E,n[v+2]);b[0]=b[1]=0,b[v]=1,p[v]=(w[2+v]+w[v])/(S[2+v]-S[v])-1;var ue=2/S[2+(1^v)]-S[1^v];p[1^v]=ue*w[1^v]-1,I[v]&&(p[1^v]-=ue*d*L[v],ne<ie&&g[ie]>g[ne]&&(x.uniforms.dataAxis=b,x.uniforms.screenOffset=p,x.uniforms.color=B[v],x.uniforms.angle=k[v],M.drawArrays(M.TRIANGLES,g[ne],g[ie]-g[ne]))),z[v]&&X&&(p[1^v]-=ue*d*O[v],x.uniforms.dataAxis=s,x.uniforms.screenOffset=p,x.uniforms.color=F[v],x.uniforms.angle=N[v],M.drawArrays(M.TRIANGLES,H,X)),p[1^v]=ue*w[2+(1^v)]-1,I[v+2]&&(p[1^v]+=ue*d*L[v+2],ne<ie&&g[ie]>g[ne]&&(x.uniforms.dataAxis=b,x.uniforms.screenOffset=p,x.uniforms.color=B[v+2],x.uniforms.angle=k[v+2],M.drawArrays(M.TRIANGLES,g[ne],g[ie]-g[ne]))),z[v+2]&&X&&(p[1^v]+=ue*d*O[v+2],x.uniforms.dataAxis=s,x.uniforms.screenOffset=p,x.uniforms.color=F[v+2],x.uniforms.angle=N[v+2],M.drawArrays(M.TRIANGLES,H,X))}),m.drawTitle=function(){var b=[0,0],p=[0,0];return function(){var s=this.plot,v=this.shader,A=s.gl,x=s.screenBox,E=s.titleCenter,g=s.titleAngle,M=s.titleColor,w=s.pixelRatio;if(this.titleCount){for(var n=0;n<2;++n)p[n]=2*(E[n]*w-x[n])/(x[2+n]-x[n])-1;v.bind(),v.uniforms.dataAxis=b,v.uniforms.screenOffset=p,v.uniforms.angle=g,v.uniforms.color=M,A.drawArrays(A.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var b=[0,0],p=[0,0],s=[0,0];return function(){var v=this.plot,A=this.shader,x=v._tickBounds,E=v.dataBox,g=v.screenBox,M=v.viewBox;A.bind();for(var w=0;w<2;++w){var n=x[w],I=.5*(E[w+2]+E[w]),L=E[w+2]-E[w],z=M[w+2]-M[w],N=g[w+2]-g[w];p[w]=2*(x[w+2]-n)/L*z/N,b[w]=2*(n-I)/L*z/N}s[1]=2*v.pixelRatio/(g[3]-g[1]),s[0]=s[1]*(g[3]-g[1])/(g[2]-g[0]),A.uniforms.dataScale=p,A.uniforms.dataShift=b,A.uniforms.textScale=s,this.vbo.bind(),A.attributes.textCoordinate.pointer()}}(),m.update=function(b){var A,x,g,M,w,p=[],s=b.ticks,v=b.bounds;for(w=0;w<2;++w){var n=[Math.floor(p.length/3)],S=[-1/0],d=s[w];for(A=0;A<d.length;++A){var I=d[A],L=I.x,k=I.font||"sans-serif";M=I.fontSize||12;for(var z=1/(v[w+2]-v[w]),O=v[w],F=I.text.split("\n"),N=0;N<F.length;N++)for(g=i(k,F[N]).data,x=0;x<g.length;x+=2)p.push(g[x]*M,-g[x+1]*M-N*M*1.2,(L-O)*z);n.push(Math.floor(p.length/3)),S.push(L)}this.tickOffset[w]=n,this.tickX[w]=S}for(w=0;w<2;++w){for(this.labelOffset[w]=Math.floor(p.length/3),g=i(b.labelFont[w],b.labels[w],{textAlign:"center"}).data,M=b.labelSize[w],A=0;A<g.length;A+=2)p.push(g[A]*M,-g[A+1]*M,0);this.labelCount[w]=Math.floor(p.length/3)-this.labelOffset[w]}for(this.titleOffset=Math.floor(p.length/3),g=i(b.titleFont,b.title).data,M=b.titleSize,A=0;A<g.length;A+=2)p.push(g[A]*M,-g[A+1]*M,0);this.titleCount=Math.floor(p.length/3)-this.titleOffset,this.vbo.update(p)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(h,y,t){"use strict";h.exports=function s(v){var A=v.gl,E=new c(A,r(A,[A.drawingBufferWidth,A.drawingBufferHeight]));return E.grid=l(E),E.text=i(E),E.line=u(E),E.box=f(E),E.update(v),E};var r=t(2611),l=t(3016),i=t(5613),u=t(1154),f=t(4554);function c(v,A){this.gl=v,this.pickBuffer=A,this.screenBox=[0,0,v.drawingBufferWidth,v.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=c.prototype;function b(v){for(var A=v.slice(),x=0;x<A.length;++x)A[x]=A[x].slice();return A}function p(v,A){return v.x-A.x}m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){var A=this.gl,x=this.screenBox,E=this.viewBox,g=this.dataBox,M=this.pixelRatio,w=this.grid,n=this.line,S=this.text,d=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,A.bindFramebuffer(A.FRAMEBUFFER,null),A.enable(A.SCISSOR_TEST),A.disable(A.DEPTH_TEST),A.depthFunc(A.LESS),A.depthMask(!1),A.enable(A.BLEND),A.blendEquation(A.FUNC_ADD,A.FUNC_ADD),A.blendFunc(A.ONE,A.ONE_MINUS_SRC_ALPHA),this.borderColor){A.scissor(x[0],x[1],x[2]-x[0],x[3]-x[1]);var I=this.borderColor;A.clearColor(I[0]*I[3],I[1]*I[3],I[2]*I[3],I[3]),A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT)}A.scissor(E[0],E[1],E[2]-E[0],E[3]-E[1]),A.viewport(E[0],E[1],E[2]-E[0],E[3]-E[1]);var L=this.backgroundColor;A.clearColor(L[0]*L[3],L[1]*L[3],L[2]*L[3],L[3]),A.clear(A.COLOR_BUFFER_BIT),w.draw();var B=this.zeroLineEnable,k=this.zeroLineColor,z=this.zeroLineWidth;if(B[0]||B[1]){n.bind();for(var O=0;O<2;++O)if(B[O]&&g[O]<=0&&g[O+2]>=0){var F=x[O]-g[O]*(x[O+2]-x[O])/(g[O+2]-g[O]);0===O?n.drawLine(F,x[1],F,x[3],z[O],k[O]):n.drawLine(x[0],F,x[2],F,z[O],k[O])}}for(O=0;O<d.length;++O)d[O].draw();A.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]),A.scissor(x[0],x[1],x[2]-x[0],x[3]-x[1]),this.grid.drawTickMarks(),n.bind();var N=this.borderLineEnable,H=this.borderLineWidth,X=this.borderLineColor;for(N[1]&&n.drawLine(E[0],E[1]-.5*H[1]*M,E[0],E[3]+.5*H[3]*M,H[1],X[1]),N[0]&&n.drawLine(E[0]-.5*H[0]*M,E[1],E[2]+.5*H[2]*M,E[1],H[0],X[0]),N[3]&&n.drawLine(E[2],E[1]-.5*H[1]*M,E[2],E[3]+.5*H[3]*M,H[3],X[3]),N[2]&&n.drawLine(E[0]-.5*H[0]*M,E[3],E[2]+.5*H[2]*M,E[3],H[2],X[2]),S.bind(),O=0;O<2;++O)S.drawTicks(O);this.titleEnable&&S.drawTitle();var ne=this.overlays;for(O=0;O<ne.length;++O)ne[O].draw();A.disable(A.SCISSOR_TEST),A.disable(A.BLEND),A.depthMask(!0)}},m.drawPick=function(){if(!this.static){var v=this.pickBuffer;this._pickTimeout=null,v.begin();for(var x=1,E=this.objects,g=0;g<E.length;++g)x=E[g].drawPick(x);v.end()}},m.pick=function(v,A){if(!this.static){var x=this.pixelRatio,E=this.pickPixelRatio,g=this.viewBox,M=0|Math.round((v-g[0]/x)*E),w=0|Math.round((A-g[1]/x)*E),n=this.pickBuffer.query(M,w,this.pickRadius);if(!n)return null;for(var S=n.id+(n.value[0]<<8)+(n.value[1]<<16)+(n.value[2]<<24),d=this.objects,I=0;I<d.length;++I){var L=d[I].pick(M,w,S);if(L)return L}return null}},m.setScreenBox=function(v){var A=this.screenBox,x=this.pixelRatio;A[0]=0|Math.round(v[0]*x),A[1]=0|Math.round(v[1]*x),A[2]=0|Math.round(v[2]*x),A[3]=0|Math.round(v[3]*x),this.setDirty()},m.setDataBox=function(v){var A=this.dataBox;(A[0]!==v[0]||A[1]!==v[1]||A[2]!==v[2]||A[3]!==v[3])&&(A[0]=v[0],A[1]=v[1],A[2]=v[2],A[3]=v[3],this.setDirty())},m.setViewBox=function(v){var A=this.pixelRatio,x=this.viewBox;x[0]=0|Math.round(v[0]*A),x[1]=0|Math.round(v[1]*A),x[2]=0|Math.round(v[2]*A),x[3]=0|Math.round(v[3]*A);var E=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((v[2]-v[0])*E),0|Math.round((v[3]-v[1])*E)],this.setDirty()},m.update=function(v){var A=this.gl;this.pixelRatio=(v=v||{}).pixelRatio||1;var x=this.pixelRatio;this.pickPixelRatio=Math.max(x,1),this.setScreenBox(v.screenBox||[0,0,A.drawingBufferWidth/x,A.drawingBufferHeight/x]),this.setViewBox(v.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/x,.125*(this.screenBox[3]-this.screenBox[1])/x,.875*(this.screenBox[2]-this.screenBox[0])/x,.875*(this.screenBox[3]-this.screenBox[1])/x]);var g=this.viewBox,M=(g[2]-g[0])/(g[3]-g[1]);this.setDataBox(v.dataBox||[-10,-10/M,10,10/M]),this.borderColor=!1!==v.borderColor&&(v.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(v.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(v.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(v.gridLineWidth||[1,1]).slice(),this.gridLineColor=b(v.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(v.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(v.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=b(v.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(v.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(v.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=b(v.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(v.titleCenter||[.5*(g[0]+g[2])/x,(g[3]+120)/x]).slice(),this.titleEnable=!("titleEnable"in v)||!!v.titleEnable,this.titleAngle=v.titleAngle||0,this.titleColor=(v.titleColor||[0,0,0,1]).slice(),this.labelPad=(v.labelPad||[15,15,15,15]).slice(),this.labelAngle=(v.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(v.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=b(v.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(v.tickPad||[15,15,15,15]).slice(),this.tickAngle=(v.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(v.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=b(v.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(v.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(v.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=b(v.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var w=v.ticks||[[],[]],n=this._tickBounds;n[0]=n[1]=1/0,n[2]=n[3]=-1/0;for(var S=0;S<2;++S){var d=w[S].slice(0);0!==d.length&&(d.sort(p),n[S]=Math.min(n[S],d[0].x),n[S+2]=Math.max(n[S+2],d[d.length-1].x))}this.grid.update({bounds:n,ticks:w}),this.text.update({bounds:n,ticks:w,labels:v.labels||["x","y"],labelSize:v.labelSize||[12,12],labelFont:v.labelFont||["sans-serif","sans-serif"],title:v.title||"",titleSize:v.titleSize||18,titleFont:v.titleFont||"sans-serif"}),this.static=!!v.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var v=this.objects.length-1;v>=0;--v)this.objects[v].dispose();for(this.objects.length=0,v=this.overlays.length-1;v>=0;--v)this.overlays[v].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(v){this.objects.indexOf(v)<0&&(this.objects.push(v),this.setDirty())},m.removeObject=function(v){for(var A=this.objects,x=0;x<A.length;++x)if(A[x]===v){A.splice(x,1),this.setDirty();break}},m.addOverlay=function(v){this.overlays.indexOf(v)<0&&(this.overlays.push(v),this.setOverlayDirty())},m.removeOverlay=function(v){for(var A=this.overlays,x=0;x<A.length;++x)if(A[x]===v){A.splice(x,1),this.setOverlayDirty();break}}},4296:function(h,y,t){"use strict";h.exports=function m(a,b){a=a||document.body;var p=[.01,1/0];"distanceLimits"in(b=b||{})&&(p[0]=b.distanceLimits[0],p[1]=b.distanceLimits[1]),"zoomMin"in b&&(p[0]=b.zoomMin),"zoomMax"in b&&(p[1]=b.zoomMax);var s=l({center:b.center||[0,0,0],up:b.up||[0,1,0],eye:b.eye||[0,0,10],mode:b.mode||"orbit",distanceLimits:p}),v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A=0,x=a.clientWidth,E=a.clientHeight,g={keyBindingMode:"rotate",enableWheel:!0,view:s,element:a,delay:b.delay||16,rotateSpeed:b.rotateSpeed||1,zoomSpeed:b.zoomSpeed||1,translateSpeed:b.translateSpeed||1,flipX:!!b.flipX,flipY:!!b.flipY,modes:s.modes,_ortho:b._ortho||b.projection&&"orthographic"===b.projection.type||!1,tick:function(){var M=r(),w=this.delay,n=M-2*w;s.idle(M-w),s.recalcMatrix(n),s.flush(M-(100+2*w));for(var S=!0,d=s.computedMatrix,I=0;I<16;++I)S=S&&v[I]===d[I],v[I]=d[I];var L=a.clientWidth===x&&a.clientHeight===E;return x=a.clientWidth,E=a.clientHeight,S?!L:(A=Math.exp(s.computedRadius[0]),!0)},lookAt:function(M,w,n){s.lookAt(s.lastT(),M,w,n)},rotate:function(M,w,n){s.rotate(s.lastT(),M,w,n)},pan:function(M,w,n){s.pan(s.lastT(),M,w,n)},translate:function(M,w,n){s.translate(s.lastT(),M,w,n)}};return Object.defineProperties(g,{matrix:{get:function(){return s.computedMatrix},set:function(M){return s.setMatrix(s.lastT(),M),s.computedMatrix},enumerable:!0},mode:{get:function(){return s.getMode()},set:function(M){var w=s.computedUp.slice(),n=s.computedEye.slice(),S=s.computedCenter.slice();if(s.setMode(M),"turntable"===M){var d=r();s._active.lookAt(d,n,S,w),s._active.lookAt(d+500,n,S,[0,0,1]),s._active.flush(d)}return s.getMode()},enumerable:!0},center:{get:function(){return s.computedCenter},set:function(M){return s.lookAt(s.lastT(),null,M),s.computedCenter},enumerable:!0},eye:{get:function(){return s.computedEye},set:function(M){return s.lookAt(s.lastT(),M),s.computedEye},enumerable:!0},up:{get:function(){return s.computedUp},set:function(M){return s.lookAt(s.lastT(),null,null,M),s.computedUp},enumerable:!0},distance:{get:function(){return A},set:function(M){return s.setDistance(s.lastT(),M),M},enumerable:!0},distanceLimits:{get:function(){return s.getDistanceLimits(p)},set:function(M){return s.setDistanceLimits(M),M},enumerable:!0}}),a.addEventListener("contextmenu",function(M){return M.preventDefault(),!1}),g._lastX=-1,g._lastY=-1,g._lastMods={shift:!1,control:!1,alt:!1,meta:!1},g.enableMouseListeners=function(){function M(w,n,S,d){var I=g.keyBindingMode;if(!1!==I){var L="rotate"===I,B="pan"===I,k="zoom"===I,z=!!d.control,O=!!d.alt,F=!!d.shift,N=!!(1&w),H=!!(2&w),X=!!(4&w),ne=1/a.clientHeight,ie=ne*(n-g._lastX),ue=ne*(S-g._lastY),J=g.flipX?1:-1,j=g.flipY?1:-1,W=Math.PI*g.rotateSpeed,V=r();if(-1!==g._lastX&&-1!==g._lastY&&((L&&N&&!z&&!O&&!F||N&&!z&&!O&&F)&&s.rotate(V,J*W*ie,-j*W*ue,0),(B&&N&&!z&&!O&&!F||H||N&&z&&!O&&!F)&&s.pan(V,-g.translateSpeed*ie*A,g.translateSpeed*ue*A,0),k&&N&&!z&&!O&&!F||X||N&&!z&&O&&!F)){var K=-g.zoomSpeed*ue/window.innerHeight*(V-s.lastT())*100;s.pan(V,0,0,A*(Math.exp(K)-1))}return g._lastX=n,g._lastY=S,g._lastMods=d,!0}}g.mouseListener=i(a,M),a.addEventListener("touchstart",function(w){var n=f(w.changedTouches[0],a);M(0,n[0],n[1],g._lastMods),M(1,n[0],n[1],g._lastMods)},!!c&&{passive:!0}),a.addEventListener("touchmove",function(w){var n=f(w.changedTouches[0],a);M(1,n[0],n[1],g._lastMods),w.preventDefault()},!!c&&{passive:!1}),a.addEventListener("touchend",function(w){M(0,g._lastX,g._lastY,g._lastMods)},!!c&&{passive:!0}),g.wheelListener=u(a,function(w,n){if(!1!==g.keyBindingMode&&g.enableWheel){var S=g.flipX?1:-1,d=g.flipY?1:-1,I=r();if(Math.abs(w)>Math.abs(n))s.rotate(I,0,0,-w*S*Math.PI*g.rotateSpeed/window.innerWidth);else if(!g._ortho){var L=-g.zoomSpeed*d*n/window.innerHeight*(I-s.lastT())/20;s.pan(I,0,0,A*(Math.exp(L)-1))}}},!0)},g.enableMouseListeners(),g};var r=t(8161),l=t(1152),i=t(6145),u=t(6475),f=t(2565),c=t(5233)},8245:function(h,y,t){var r=t(6832),l=t(5158),i=r(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),u=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);h.exports=function(f){return l(f,i,u,null,[{name:"position",type:"vec2"}])}},1059:function(h,y,t){"use strict";var r=t(4296),l=t(7453),i=t(2771),u=t(6496),f=t(2611),c=t(4234),m=t(8126),a=t(6145),b=t(1120),p=t(5268),s=t(8245),v=t(2321)({tablet:!0,featureDetect:!0});function A(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function E(n){var S=Math.round(Math.log(Math.abs(n))/Math.log(10));if(S<0){var d=Math.round(Math.pow(10,-S));return Math.ceil(n*d)/d}return S>0?(d=Math.round(Math.pow(10,S)),Math.ceil(n/d)*d):Math.ceil(n)}function g(n){return"boolean"!=typeof n||n}h.exports={createScene:function M(n){(n=n||{}).camera=n.camera||{};var S=n.canvas;S||(S=document.createElement("canvas"),n.container?n.container.appendChild(S):document.body.appendChild(S));var I=n.gl;if(I||(n.glOptions&&(v=!!n.glOptions.preserveDrawingBuffer),I=function x(n,S){var d=null;try{(d=n.getContext("webgl",S))||(d=n.getContext("experimental-webgl",S))}catch{return null}return d}(S,n.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:v})),!I)throw new Error("webgl not supported");var L=n.bounds||[[-10,-10,-10],[10,10,10]],B=new A,k=c(I,I.drawingBufferWidth,I.drawingBufferHeight,{preferFloat:!v}),z=s(I),O=n.cameraObject&&!0===n.cameraObject._ortho||n.camera.projection&&"orthographic"===n.camera.projection.type||!1,F={eye:n.camera.eye||[2,0,0],center:n.camera.center||[0,0,0],up:n.camera.up||[0,1,0],zoomMin:n.camera.zoomMax||.1,zoomMax:n.camera.zoomMin||100,mode:n.camera.mode||"turntable",_ortho:O},N=n.axes||{},H=l(I,N);H.enable=!N.disable;var ne=u(I,n.spikes||{}),ie=[],ue=[],J=[],j=[],W=!0,Q=!0,ae={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},Z=(Q=!0,[I.drawingBufferWidth,I.drawingBufferHeight]),re=n.cameraObject||r(S,F),q={gl:I,contextLost:!1,pixelRatio:n.pixelRatio||1,canvas:S,selection:B,camera:re,axes:H,axesPixels:null,spikes:ne,bounds:L,objects:ie,shape:Z,aspect:n.aspectRatio||[1,1,1],pickRadius:n.pickRadius||10,zNear:n.zNear||.01,zFar:n.zFar||1e3,fovy:n.fovy||Math.PI/4,clearColor:n.clearColor||[0,0,0,0],autoResize:g(n.autoResize),autoBounds:g(n.autoBounds),autoScale:!!n.autoScale,autoCenter:g(n.autoCenter),clipToBounds:g(n.clipToBounds),snapToData:!!n.snapToData,onselect:n.onselect||null,onrender:n.onrender||null,onclick:n.onclick||null,cameraParams:ae,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ge){this.aspect[0]=Ge.x,this.aspect[1]=Ge.y,this.aspect[2]=Ge.z,Q=!0},setBounds:function(Ge,Ye){this.bounds[0][Ge]=Ye.min,this.bounds[1][Ge]=Ye.max},setClearColor:function(Ge){this.clearColor=Ge},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},se=[I.drawingBufferWidth/q.pixelRatio|0,I.drawingBufferHeight/q.pixelRatio|0];function de(){if(!q._stopped&&q.autoResize){var Ge=S.parentNode,Ye=1,De=1;Ge&&Ge!==document.body?(Ye=Ge.clientWidth,De=Ge.clientHeight):(Ye=window.innerWidth,De=window.innerHeight);var He=0|Math.ceil(Ye*q.pixelRatio),rt=0|Math.ceil(De*q.pixelRatio);if(He!==S.width||rt!==S.height){S.width=He,S.height=rt;var $e=S.style;$e.position=$e.position||"absolute",$e.left="0px",$e.top="0px",$e.width=Ye+"px",$e.height=De+"px",W=!0}}}function we(){for(var Ge=ie.length,Ye=j.length,De=0;De<Ye;++De)J[De]=0;e:for(De=0;De<Ge;++De){var He=ie[De],rt=He.pickSlots;if(rt){for(var $e=0;$e<Ye;++$e)if(J[$e]+rt<255){ue[De]=$e,He.setPickBase(J[$e]+1),J[$e]+=rt;continue e}var Be=f(I,Z);ue[De]=Ye,j.push(Be),J.push(rt),He.setPickBase(1),Ye+=1}else ue[De]=-1}for(;Ye>0&&0===J[Ye-1];)J.pop(),j.pop().dispose()}function ye(){if(q.contextLost)return!0;I.isContextLost()&&(q.contextLost=!0,q.mouseListener.enabled=!1,q.selection.object=null,q.oncontextloss&&q.oncontextloss())}q.autoResize&&de(),window.addEventListener("resize",de),q.update=function(Ge){q._stopped||(Ge=Ge||{},W=!0,Q=!0)},q.add=function(Ge){q._stopped||(Ge.axes=H,ie.push(Ge),ue.push(-1),W=!0,Q=!0,we())},q.remove=function(Ge){if(!q._stopped){var Ye=ie.indexOf(Ge);Ye<0||(ie.splice(Ye,1),ue.pop(),W=!0,Q=!0,we())}},q.dispose=function(){if(!q._stopped&&(q._stopped=!0,window.removeEventListener("resize",de),S.removeEventListener("webglcontextlost",ye),q.mouseListener.enabled=!1,!q.contextLost)){H.dispose(),ne.dispose();for(var Ge=0;Ge<ie.length;++Ge)ie[Ge].dispose();for(k.dispose(),Ge=0;Ge<j.length;++Ge)j[Ge].dispose();z.dispose(),I=null,H=null,ne=null,ie=[]}},q._mouseRotating=!1,q._prevButtons=0,q.enableMouseListeners=function(){q.mouseListener=a(S,function(Ge,Ye,De){if(!q._stopped){var He=j.length,rt=ie.length,$e=B.object;B.distance=1/0,B.mouse[0]=Ye,B.mouse[1]=De,B.object=null,B.screen=null,B.dataCoordinate=B.dataPosition=null;var Be=!1;if(Ge&&q._prevButtons)q._mouseRotating=!0;else{q._mouseRotating&&(Q=!0),q._mouseRotating=!1;for(var ze=0;ze<He;++ze){var tt=j[ze].query(Ye,se[1]-De-1,q.pickRadius);if(tt){if(tt.distance>B.distance)continue;for(var lt=0;lt<rt;++lt){var ut=ie[lt];if(ue[lt]===ze){var xt=ut.pick(tt);xt&&(B.buttons=Ge,B.screen=tt.coord,B.distance=tt.distance,B.object=ut,B.index=xt.distance,B.dataPosition=xt.position,B.dataCoordinate=xt.dataCoordinate,B.data=xt,Be=!0)}}}}}$e&&$e!==B.object&&($e.highlight&&$e.highlight(null),W=!0),B.object&&(B.object.highlight&&B.object.highlight(B.data),W=!0),(Be=Be||B.object!==$e)&&q.onselect&&q.onselect(B),1&Ge&&!(1&q._prevButtons)&&q.onclick&&q.onclick(B),q._prevButtons=Ge}})},S.addEventListener("webglcontextlost",ye);var Ie=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Se=[Ie[0].slice(),Ie[1].slice()];function xe(){if(!ye()){de();var Ge=q.camera.tick();ae.view=q.camera.matrix,W=W||Ge,Q=Q||Ge,H.pixelRatio=q.pixelRatio,ne.pixelRatio=q.pixelRatio;var Ye=ie.length,De=Ie[0],He=Ie[1];De[0]=De[1]=De[2]=1/0,He[0]=He[1]=He[2]=-1/0;for(var rt=0;rt<Ye;++rt){($e=ie[rt]).pixelRatio=q.pixelRatio,$e.axes=q.axes,W=W||!!$e.dirty,Q=Q||!!$e.dirty;var Be=$e.bounds;if(Be)for(var ze=Be[0],tt=Be[1],lt=0;lt<3;++lt)De[lt]=Math.min(De[lt],ze[lt]),He[lt]=Math.max(He[lt],tt[lt])}var ut=q.bounds;if(q.autoBounds)for(lt=0;lt<3;++lt){if(He[lt]<De[lt])De[lt]=-1,He[lt]=1;else{De[lt]===He[lt]&&(De[lt]-=1,He[lt]+=1);var xt=.05*(He[lt]-De[lt]);De[lt]=De[lt]-xt,He[lt]=He[lt]+xt}ut[0][lt]=De[lt],ut[1][lt]=He[lt]}var bt=!1;for(lt=0;lt<3;++lt)bt=bt||Se[0][lt]!==ut[0][lt]||Se[1][lt]!==ut[1][lt],Se[0][lt]=ut[0][lt],Se[1][lt]=ut[1][lt];if(Q=Q||bt,W=W||bt){if(bt){var Ht=[0,0,0];for(rt=0;rt<3;++rt)Ht[rt]=E((ut[1][rt]-ut[0][rt])/10);H.update(H.autoTicks?{bounds:ut,tickSpacing:Ht}:{bounds:ut})}var Je=I.drawingBufferWidth,Ce=I.drawingBufferHeight;for(Z[0]=Je,Z[1]=Ce,se[0]=0|Math.max(Je/q.pixelRatio,1),se[1]=0|Math.max(Ce/q.pixelRatio,1),function w(n,S){var d=n.bounds,I=n.cameraParams,L=I.projection,B=I.model,O=n.zNear,F=n.zFar,N=n.fovy,H=n.gl.drawingBufferWidth/n.gl.drawingBufferHeight;S?(p(L,-H,H,-1,1,O,F),I._ortho=!0):(b(L,N,H,O,F),I._ortho=!1);for(var X=0;X<16;++X)B[X]=0;B[15]=1;var ne=0;for(X=0;X<3;++X)ne=Math.max(ne,d[1][X]-d[0][X]);for(X=0;X<3;++X)B[5*X]=n.autoScale?n.aspect[X]/(d[1][X]-d[0][X]):1/ne,n.autoCenter&&(B[12+X]=.5*-B[5*X]*(d[0][X]+d[1][X]))}(q,O),rt=0;rt<Ye;++rt)($e=ie[rt]).axesBounds=ut,q.clipToBounds&&($e.clipBounds=ut);B.object&&(ne.position=q.snapToData?B.dataCoordinate:B.dataPosition,ne.bounds=ut),Q&&(Q=!1,function Pe(){if(!ye()){I.colorMask(!0,!0,!0,!0),I.depthMask(!0),I.disable(I.BLEND),I.enable(I.DEPTH_TEST),I.depthFunc(I.LEQUAL);for(var Ge=ie.length,Ye=j.length,De=0;De<Ye;++De){var He=j[De];He.shape=se,He.begin();for(var rt=0;rt<Ge;++rt)if(ue[rt]===De){var $e=ie[rt];$e.drawPick&&($e.pixelRatio=1,$e.drawPick(ae))}He.end()}}}()),q.axesPixels=i(q.axes,ae,Je,Ce),q.onrender&&q.onrender(),I.bindFramebuffer(I.FRAMEBUFFER,null),I.viewport(0,0,Je,Ce),q.clearRGBA(),I.depthMask(!0),I.colorMask(!0,!0,!0,!0),I.enable(I.DEPTH_TEST),I.depthFunc(I.LEQUAL),I.disable(I.BLEND),I.disable(I.CULL_FACE);var Ee=!1;for(H.enable&&(Ee=Ee||H.isTransparent(),H.draw(ae)),ne.axes=H,B.object&&ne.draw(ae),I.disable(I.CULL_FACE),rt=0;rt<Ye;++rt)($e=ie[rt]).axes=H,$e.pixelRatio=q.pixelRatio,$e.isOpaque&&$e.isOpaque()&&$e.draw(ae),$e.isTransparent&&$e.isTransparent()&&(Ee=!0);if(Ee){for(k.shape=Z,k.bind(),I.clear(I.DEPTH_BUFFER_BIT),I.colorMask(!1,!1,!1,!1),I.depthMask(!0),I.depthFunc(I.LESS),H.enable&&H.isTransparent()&&H.drawTransparent(ae),rt=0;rt<Ye;++rt)($e=ie[rt]).isOpaque&&$e.isOpaque()&&$e.draw(ae);for(I.enable(I.BLEND),I.blendEquation(I.FUNC_ADD),I.blendFunc(I.ONE,I.ONE_MINUS_SRC_ALPHA),I.colorMask(!0,!0,!0,!0),I.depthMask(!1),I.clearColor(0,0,0,0),I.clear(I.COLOR_BUFFER_BIT),H.isTransparent()&&H.drawTransparent(ae),rt=0;rt<Ye;++rt){var $e;($e=ie[rt]).isTransparent&&$e.isTransparent()&&$e.drawTransparent(ae)}I.bindFramebuffer(I.FRAMEBUFFER,null),I.blendFunc(I.ONE,I.ONE_MINUS_SRC_ALPHA),I.disable(I.DEPTH_TEST),z.bind(),k.color[0].bind(0),z.uniforms.accumBuffer=0,m(I),I.disable(I.BLEND)}for(W=!1,rt=0;rt<Ye;++rt)ie[rt].dirty=!1}}}return q.enableMouseListeners(),function Me(){q._stopped||q.contextLost||(xe(),requestAnimationFrame(Me))}(),q.redraw=function(){q._stopped||(W=!0,xe())},q},createCamera:r}},8023:function(h,y,t){var r=t(6832);y.pointVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),y.pointFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),y.pickVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),y.pickFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},8271:function(h,y,t){"use strict";var r=t(5158),l=t(5827),i=t(5306),u=t(8023);function f(b,p,s,v,A){this.plot=b,this.offsetBuffer=p,this.pickBuffer=s,this.shader=v,this.pickShader=A,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}h.exports=function a(b,p){var s=b.gl,g=new f(b,l(s),l(s),r(s,u.pointVertex,u.pointFragment),r(s,u.pickVertex,u.pickFragment));return g.update(p),b.addObject(g),g};var b,p,c=f.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(b){var p;function s(w,n){return w in b?b[w]:n}b=b||{},this.sizeMin=s("sizeMin",.5),this.sizeMax=s("sizeMax",20),this.color=s("color",[1,0,0,1]).slice(),this.areaRatio=s("areaRatio",1),this.borderColor=s("borderColor",[0,0,0,1]).slice(),this.blend=s("blend",!1);var v=b.positions.length>>>1,A=b.positions instanceof Float32Array,x=b.idToIndex instanceof Int32Array&&b.idToIndex.length>=v,E=b.positions,g=A?E:i.mallocFloat32(E.length),M=x?b.idToIndex:i.mallocInt32(v);if(A||g.set(E),!x)for(g.set(E),p=0;p<v;p++)M[p]=p;this.points=E,this.offsetBuffer.update(g),this.pickBuffer.update(M),A||i.free(g),x||i.free(M),this.pointCount=v,this.pickOffset=0},c.unifiedDraw=(b=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0],function(s){var v=void 0!==s,A=v?this.pickShader:this.shader,x=this.plot.gl,E=this.plot.dataBox;if(0===this.pointCount)return s;var g=E[2]-E[0],M=E[3]-E[1],w=function m(b,p){var A,s=0,v=b.length>>>1;for(A=0;A<v;A++){var x=b[2*A],E=b[2*A+1];x>=p[0]&&x<=p[2]&&E>=p[1]&&E<=p[3]&&s++}return s}(this.points,E),n=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(w,.33333)));b[0]=2/g,b[4]=2/M,b[6]=-2*E[0]/g-1,b[7]=-2*E[1]/M-1,this.offsetBuffer.bind(),A.bind(),A.attributes.position.pointer(),A.uniforms.matrix=b,A.uniforms.color=this.color,A.uniforms.borderColor=this.borderColor,A.uniforms.pointCloud=n<5,A.uniforms.pointSize=n,A.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),v&&(p[0]=255&s,p[1]=s>>8&255,p[2]=s>>16&255,p[3]=s>>24&255,this.pickBuffer.bind(),A.attributes.pickId.pointer(x.UNSIGNED_BYTE),A.uniforms.pickOffset=p,this.pickOffset=s);var S=x.getParameter(x.BLEND),d=x.getParameter(x.DITHER);return S&&!this.blend&&x.disable(x.BLEND),d&&x.disable(x.DITHER),x.drawArrays(x.POINTS,0,this.pointCount),S&&!this.blend&&x.enable(x.BLEND),d&&x.enable(x.DITHER),s+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(b,p,s){var v=this.pickOffset;if(s<v||s>=v+this.pointCount)return null;var x=s-v,E=this.points;return{object:this,pointId:x,dataCoord:[E[2*x],E[2*x+1]]}}},6093:function(h){h.exports=function y(t,r,l,i){var v,A,x,E,g,u=r[0],f=r[1],c=r[2],m=r[3],a=l[0],b=l[1],p=l[2],s=l[3];return(A=u*a+f*b+c*p+m*s)<0&&(A=-A,a=-a,b=-b,p=-p,s=-s),1-A>1e-6?(v=Math.acos(A),x=Math.sin(v),E=Math.sin((1-i)*v)/x,g=Math.sin(i*v)/x):(E=1-i,g=i),t[0]=E*u+g*a,t[1]=E*f+g*b,t[2]=E*c+g*p,t[3]=E*m+g*s,t}},8240:function(h){"use strict";h.exports=function(y){return y||0===y?y.toString():""}},4123:function(h,y,t){"use strict";var r=t(875);h.exports=function i(u,f,c){var m=l[f];if(m||(m=l[f]={}),u in m)return m[u];var a={textAlign:"center",textBaseline:"middle",lineHeight:1,font:f,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},b=r(u,a);a.triangles=!1;var s,v,p=r(u,a);if(c&&1!==c){for(s=0;s<b.positions.length;++s)for(v=0;v<b.positions[s].length;++v)b.positions[s][v]/=c;for(s=0;s<p.positions.length;++s)for(v=0;v<p.positions[s].length;++v)p.positions[s][v]/=c}var A=[[1/0,1/0],[-1/0,-1/0]],x=p.positions.length;for(s=0;s<x;++s){var E=p.positions[s];for(v=0;v<2;++v)A[0][v]=Math.min(A[0][v],E[v]),A[1][v]=Math.max(A[1][v],E[v])}return m[u]=[b,p,A]};var l={}},9282:function(h,y,t){var r=t(5158),l=t(6832),i=l(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),u=l(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),f=l(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),c=l(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),m=l(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),a=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],b={vertex:i,fragment:c,attributes:a},p={vertex:u,fragment:c,attributes:a},s={vertex:f,fragment:c,attributes:a},v={vertex:i,fragment:m,attributes:a},A={vertex:u,fragment:m,attributes:a},x={vertex:f,fragment:m,attributes:a};function E(g,M){var w=r(g,M),n=w.attributes;return n.position.location=0,n.color.location=1,n.glyph.location=2,n.id.location=3,w}y.createPerspective=function(g){return E(g,b)},y.createOrtho=function(g){return E(g,p)},y.createProject=function(g){return E(g,s)},y.createPickPerspective=function(g){return E(g,v)},y.createPickOrtho=function(g){return E(g,A)},y.createPickProject=function(g){return E(g,x)}},2182:function(h,y,t){"use strict";var r=t(3596),l=t(5827),i=t(2944),u=t(5306),f=t(104),c=t(9282),m=t(4123),a=t(8240),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function p(J,j){var W=J[0],V=J[1],K=J[2],ae=J[3];return J[0]=j[0]*W+j[4]*V+j[8]*K+j[12]*ae,J[1]=j[1]*W+j[5]*V+j[9]*K+j[13]*ae,J[2]=j[2]*W+j[6]*V+j[10]*K+j[14]*ae,J[3]=j[3]*W+j[7]*V+j[11]*K+j[15]*ae,J}function s(J,j,W,V){return p(V,V),p(V,V),p(V,V)}function v(J,j){this.index=J,this.dataCoordinate=this.position=j}function A(J){return!0===J||J>1?1:J}function x(J,j,W,V,K,ae,Q,Z,re,q,se,de){this.gl=J,this.pixelRatio=1,this.shader=j,this.orthoShader=W,this.projectShader=V,this.pointBuffer=K,this.colorBuffer=ae,this.glyphBuffer=Q,this.idBuffer=Z,this.vao=re,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=q,this.pickOrthoShader=se,this.pickProjectShader=de,this.points=[],this._selectResult=new v(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}h.exports=function ue(J){var j=J.gl,W=c.createPerspective(j),V=c.createOrtho(j),K=c.createProject(j),ae=c.createPickPerspective(j),Q=c.createPickOrtho(j),Z=c.createPickProject(j),re=l(j),q=l(j),se=l(j),de=l(j),ye=new x(j,W,V,K,re,q,se,de,i(j,[{buffer:re,size:3,type:j.FLOAT},{buffer:q,size:4,type:j.FLOAT},{buffer:se,size:2,type:j.FLOAT},{buffer:de,size:4,type:j.UNSIGNED_BYTE,normalized:!0}]),ae,Q,Z);return ye.update(J),ye};var E=x.prototype;E.pickSlots=1,E.setPickBase=function(J){this.pickId=J},E.isTransparent=function(){if(this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&this.projectHasAlpha)return!0;return!1},E.isOpaque=function(){if(!this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&!this.projectHasAlpha)return!0;return!1};var g=[0,0],M=[0,0,0],w=[0,0,0],n=[0,0,0,1],S=[0,0,0,1],d=b.slice(),I=[0,0,0],L=[[0,0,0],[0,0,0]];function B(J){return J[0]=J[1]=J[2]=0,J}function k(J,j){return J[0]=j[0],J[1]=j[1],J[2]=j[2],J[3]=1,J}function z(J,j,W,V){return J[0]=j[0],J[1]=j[1],J[2]=j[2],J[W]=V,J}function F(J,j,W,V){var we,K=j.axesProject,ae=j.gl,Q=J.uniforms,Z=W.model||b,re=W.view||b,q=W.projection||b,se=j.axesBounds,de=function O(J){for(var j=L,W=0;W<2;++W)for(var V=0;V<3;++V)j[W][V]=Math.max(Math.min(J[W][V],1e8),-1e8);return j}(j.clipBounds);we=j.axes&&j.axes.lastCubeProps?j.axes.lastCubeProps.axis:[1,1,1],g[0]=2/ae.drawingBufferWidth,g[1]=2/ae.drawingBufferHeight,J.bind(),Q.view=re,Q.projection=q,Q.screenSize=g,Q.highlightId=j.highlightId,Q.highlightScale=j.highlightScale,Q.clipBounds=de,Q.pickGroup=j.pickId/255,Q.pixelRatio=V;for(var ye=0;ye<3;++ye)if(K[ye]){Q.scale=j.projectScale[ye],Q.opacity=j.projectOpacity[ye];for(var Pe=d,Ie=0;Ie<16;++Ie)Pe[Ie]=0;for(Ie=0;Ie<4;++Ie)Pe[5*Ie]=1;Pe[5*ye]=0,Pe[12+ye]=we[ye]<0?se[0][ye]:se[1][ye],f(Pe,Z,Pe),Q.model=Pe;var Se=(ye+1)%3,xe=(ye+2)%3,Me=B(M),Ge=B(w);Me[Se]=1,Ge[xe]=1;var Ye=s(0,0,0,k(n,Me)),De=s(0,0,0,k(S,Ge));if(Math.abs(Ye[1])>Math.abs(De[1])){var He=Ye;Ye=De,De=He,He=Me,Me=Ge,Ge=He;var rt=Se;Se=xe,xe=rt}Ye[0]<0&&(Me[Se]=-1),De[1]>0&&(Ge[xe]=-1);var $e=0,Be=0;for(Ie=0;Ie<4;++Ie)$e+=Math.pow(Z[4*Se+Ie],2),Be+=Math.pow(Z[4*xe+Ie],2);Me[Se]/=Math.sqrt($e),Ge[xe]/=Math.sqrt(Be),Q.axes[0]=Me,Q.axes[1]=Ge,Q.fragClipBounds[0]=z(I,de[0],ye,-1e8),Q.fragClipBounds[1]=z(I,de[1],ye,1e8),j.vao.bind(),j.vao.draw(ae.TRIANGLES,j.vertexCount),j.lineWidth>0&&(ae.lineWidth(j.lineWidth*V),j.vao.draw(ae.LINES,j.lineVertexCount,j.vertexCount)),j.vao.unbind()}}var X=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function ne(J,j,W,V,K,ae,Q){var Z=W.gl;if((ae===W.projectHasAlpha||Q)&&F(j,W,V,K),ae===W.hasAlpha||Q){J.bind();var re=J.uniforms;re.model=V.model||b,re.view=V.view||b,re.projection=V.projection||b,g[0]=2/Z.drawingBufferWidth,g[1]=2/Z.drawingBufferHeight,re.screenSize=g,re.highlightId=W.highlightId,re.highlightScale=W.highlightScale,re.fragClipBounds=X,re.clipBounds=W.axes.bounds,re.opacity=W.opacity,re.pickGroup=W.pickId/255,re.pixelRatio=K,W.vao.bind(),W.vao.draw(Z.TRIANGLES,W.vertexCount),W.lineWidth>0&&(Z.lineWidth(W.lineWidth*K),W.vao.draw(Z.LINES,W.lineVertexCount,W.vertexCount)),W.vao.unbind()}}function ie(J,j,W,V){var K;K=Array.isArray(J)?j<J.length?J[j]:void 0:J,K=a(K);var ae=!0;r(K)&&(K="\u25bc",ae=!1);var Q=m(K,W,V);return{mesh:Q[0],lines:Q[1],bounds:Q[2],visible:ae}}E.draw=function(J){ne(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,J,this.pixelRatio,!1,!1)},E.drawTransparent=function(J){ne(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,J,this.pixelRatio,!0,!1)},E.drawPick=function(J){ne(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,J,1,!0,!0)},E.pick=function(J){if(!J||J.id!==this.pickId)return null;var j=J.value[2]+(J.value[1]<<8)+(J.value[0]<<16);if(j>=this.pointCount||j<0)return null;var W=this.points[j],V=this._selectResult;V.index=j;for(var K=0;K<3;++K)V.position[K]=V.dataCoordinate[K]=W[K];return V},E.highlight=function(J){if(J){var j=J.index;this.highlightId=[(255&j)/255,(j>>8&255)/255,(j>>16&255)/255,0]}else this.highlightId=[1,1,1,1]},E.update=function(J){if("perspective"in(J=J||{})&&(this.useOrtho=!J.perspective),"orthographic"in J&&(this.useOrtho=!!J.orthographic),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"project"in J)if(Array.isArray(J.project))this.axesProject=J.project;else{var j=!!J.project;this.axesProject=[j,j,j]}if("projectScale"in J&&(this.projectScale=Array.isArray(J.projectScale)?J.projectScale.slice():[W=+J.projectScale,W,W]),this.projectHasAlpha=!1,"projectOpacity"in J){var W;this.projectOpacity=Array.isArray(J.projectOpacity)?J.projectOpacity.slice():[W=+J.projectOpacity,W,W];for(var V=0;V<3;++V)this.projectOpacity[V]=A(this.projectOpacity[V]),this.projectOpacity[V]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in J&&(this.opacity=A(J.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var Z,re,K=J.position,ae=J.font||"normal",Q=J.alignment||[0,0];if(2===Q.length)Z=Q[0],re=Q[1];else for(Z=[],re=[],V=0;V<Q.length;++V)Z[V]=Q[V][0],re[V]=Q[V][1];var q=[1/0,1/0,1/0],se=[-1/0,-1/0,-1/0],de=J.glyph,we=J.color,ye=J.size,Pe=J.angle,Ie=J.lineColor,Se=-1,xe=0,Me=0,Ge=0;if(K.length){Ge=K.length;e:for(V=0;V<Ge;++V){for(var Ye=K[V],De=0;De<3;++De)if(isNaN(Ye[De])||!isFinite(Ye[De]))continue e;var Be=(He=ie(de,V,ae,this.pixelRatio)).bounds;xe+=3*(rt=He.mesh).cells.length,Me+=2*($e=He.lines).edges.length}}var ze=xe+Me,tt=u.mallocFloat(3*ze),lt=u.mallocFloat(4*ze),ut=u.mallocFloat(2*ze),xt=u.mallocUint32(ze);if(ze>0){var bt=0,Ht=xe,Je=[0,0,0,1],Ce=[0,0,0,1],Ee=Array.isArray(we)&&Array.isArray(we[0]),Re=Array.isArray(Ie)&&Array.isArray(Ie[0]);e:for(V=0;V<Ge;++V){for(Se+=1,Ye=K[V],De=0;De<3;++De){if(isNaN(Ye[De])||!isFinite(Ye[De]))continue e;se[De]=Math.max(se[De],Ye[De]),q[De]=Math.min(q[De],Ye[De])}var He,rt=(He=ie(de,V,ae,this.pixelRatio)).mesh,$e=He.lines,ke=(Be=He.bounds,He.visible);if(ke)if(Array.isArray(we)){if(3===(Ne=Ee?V<we.length?we[V]:[0,0,0,0]:we).length){for(De=0;De<3;++De)Je[De]=Ne[De];Je[3]=1}else if(4===Ne.length){for(De=0;De<4;++De)Je[De]=Ne[De];!this.hasAlpha&&Ne[3]<1&&(this.hasAlpha=!0)}}else Je[0]=Je[1]=Je[2]=0,Je[3]=1;else Je=[1,1,1,0];if(ke)if(Array.isArray(Ie)){var Ne;if(3===(Ne=Re?V<Ie.length?Ie[V]:[0,0,0,0]:Ie).length){for(De=0;De<3;++De)Ce[De]=Ne[De];Ce[De]=1}else if(4===Ne.length){for(De=0;De<4;++De)Ce[De]=Ne[De];!this.hasAlpha&&Ne[3]<1&&(this.hasAlpha=!0)}}else Ce[0]=Ce[1]=Ce[2]=0,Ce[3]=1;else Ce=[1,1,1,0];var _e=.5;ke?Array.isArray(ye)?_e=V<ye.length?+ye[V]:12:ye?_e=+ye:this.useOrtho&&(_e=12):_e=0;var Te=0;Array.isArray(Pe)?Te=V<Pe.length?+Pe[V]:0:Pe&&(Te=+Pe);var fe=Math.cos(Te),pe=Math.sin(Te);for(Ye=K[V],De=0;De<3;++De)se[De]=Math.max(se[De],Ye[De]),q[De]=Math.min(q[De],Ye[De]);var Fe=Z,Xe=re;Fe=0,Array.isArray(Z)?Fe=V<Z.length?Z[V]:0:Z&&(Fe=Z),Xe=0,Array.isArray(re)?Xe=V<re.length?re[V]:0:re&&(Xe=re);var at=[Fe*=Fe>0?1-Be[0][0]:Fe<0?1+Be[1][0]:1,Xe*=Xe>0?1-Be[0][1]:Xe<0?1+Be[1][1]:1],zt=rt.cells||[],Qt=rt.positions||[];for(De=0;De<zt.length;++De)for(var ft=zt[De],Xt=0;Xt<3;++Xt){for(var rr=0;rr<3;++rr)tt[3*bt+rr]=Ye[rr];for(rr=0;rr<4;++rr)lt[4*bt+rr]=Je[rr];xt[bt]=Se,ut[2*bt]=_e*(fe*(At=Qt[ft[Xt]])[0]-pe*At[1]+at[0]),ut[2*bt+1]=_e*(pe*At[0]+fe*At[1]+at[1]),bt+=1}for(zt=$e.edges,Qt=$e.positions,De=0;De<zt.length;++De)for(ft=zt[De],Xt=0;Xt<2;++Xt){for(rr=0;rr<3;++rr)tt[3*Ht+rr]=Ye[rr];for(rr=0;rr<4;++rr)lt[4*Ht+rr]=Ce[rr];var At;xt[Ht]=Se,ut[2*Ht]=_e*(fe*(At=Qt[ft[Xt]])[0]-pe*At[1]+at[0]),ut[2*Ht+1]=_e*(pe*At[0]+fe*At[1]+at[1]),Ht+=1}}}this.bounds=[q,se],this.points=K,this.pointCount=K.length,this.vertexCount=xe,this.lineVertexCount=Me,this.pointBuffer.update(tt),this.colorBuffer.update(lt),this.glyphBuffer.update(ut),this.idBuffer.update(xt),u.free(tt),u.free(lt),u.free(ut),u.free(xt)},E.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(h,y,t){"use strict";var r=t(6832);y.boxVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),y.boxFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},6623:function(h,y,t){"use strict";var r=t(5158),l=t(5827),i=t(1884);function u(m,a,b){this.plot=m,this.boxBuffer=a,this.boxShader=b,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}h.exports=function c(m,a){var b=m.gl,v=new u(m,l(b,[0,0,0,1,1,0,1,1]),r(b,i.boxVertex,i.boxFragment));return v.update(a),m.addOverlay(v),v};var f=u.prototype;f.draw=function(){if(this.enabled){var m=this.plot,a=this.selectBox,b=this.borderWidth,s=this.innerColor,A=this.outerColor,x=this.borderColor,E=m.box,g=m.screenBox,M=m.dataBox,w=m.viewBox,n=m.pixelRatio,S=(a[0]-M[0])*(w[2]-w[0])/(M[2]-M[0])+w[0],d=(a[1]-M[1])*(w[3]-w[1])/(M[3]-M[1])+w[1],I=(a[2]-M[0])*(w[2]-w[0])/(M[2]-M[0])+w[0],L=(a[3]-M[1])*(w[3]-w[1])/(M[3]-M[1])+w[1];if(S=Math.max(S,w[0]),d=Math.max(d,w[1]),I=Math.min(I,w[2]),L=Math.min(L,w[3]),!(I<S||L<d)){E.bind();var B=g[2]-g[0],k=g[3]-g[1];if(this.outerFill&&(E.drawBox(0,0,B,d,A),E.drawBox(0,d,S,L,A),E.drawBox(0,L,B,k,A),E.drawBox(I,d,B,L,A)),this.innerFill&&E.drawBox(S,d,I,L,s),b>0){var z=b*n;E.drawBox(S-z,d-z,I+z,d+z,x),E.drawBox(S-z,L-z,I+z,L+z,x),E.drawBox(S-z,d-z,S+z,L+z,x),E.drawBox(I-z,d-z,I+z,L+z,x)}}}},f.update=function(m){this.innerFill=!!(m=m||{}).innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},f.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(h,y,t){"use strict";h.exports=function b(p,s){var v=s[0],A=s[1];return new m(p,r(p,v,A,{}),l.mallocUint8(v*A*4))};var r=t(4234),l=t(5306),i=t(5050),u=t(2288).nextPow2;function c(p,s,v,A,x){this.coord=[p,s],this.id=v,this.value=A,this.distance=x}function m(p,s,v){this.gl=p,this.fbo=s,this.buffer=v,this._readTimeout=null;var A=this;this._readCallback=function(){A.gl&&(s.bind(),p.readPixels(0,0,s.shape[0],s.shape[1],p.RGBA,p.UNSIGNED_BYTE,A.buffer),A._readTimeout=null)}}var a=m.prototype;Object.defineProperty(a,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(p){if(this.gl){this.fbo.shape=p;var s=this.fbo.shape[0],v=this.fbo.shape[1];if(v*s*4>this.buffer.length){l.free(this.buffer);for(var A=this.buffer=l.mallocUint8(u(v*s*4)),x=0;x<v*s*4;++x)A[x]=255}return p}}}),a.begin=function(){var p=this.gl;p&&(this.fbo.bind(),p.clearColor(1,1,1,1),p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT))},a.end=function(){var p=this.gl;p&&(p.bindFramebuffer(p.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},a.query=function(p,s,v){if(!this.gl)return null;var A=this.fbo.shape.slice();p|=0,s|=0,"number"!=typeof v&&(v=1);var x=0|Math.min(Math.max(p-v,0),A[0]),E=0|Math.min(Math.max(p+v,0),A[0]),g=0|Math.min(Math.max(s-v,0),A[1]),M=0|Math.min(Math.max(s+v,0),A[1]);if(E<=x||M<=g)return null;var w=[E-x,M-g],n=i(this.buffer,[w[0],w[1],4],[4,4*A[0],1],4*(x+A[0]*g)),S=function(p,s,v){for(var A=1e8,x=-1,E=-1,g=p.shape[0],M=p.shape[1],w=0;w<g;w++)for(var n=0;n<M;n++){var S=p.get(w,n,0),d=p.get(w,n,1),I=p.get(w,n,2),L=p.get(w,n,3);if(S<255||d<255||I<255||L<255){var B=s-w,k=v-n,z=B*B+k*k;z<A&&(A=z,x=w,E=n)}}return[x,E,A]}(n.hi(w[0],w[1],1),v,v),d=S[0],I=S[1];return d<0||Math.pow(this.radius,2)<S[2]?null:new c(d+x|0,I+g|0,n.get(d,I,0),[n.get(d,I,1),n.get(d,I,2),n.get(d,I,3)],Math.sqrt(S[2]))},a.dispose=function(){this.gl&&(this.fbo.dispose(),l.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(h,y,t){"use strict";var r=t(9016),l=t(4280),i=t(3984),u=t(1628),f=t(2631),c=t(9068);function m(s){this.gl=s,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var a=m.prototype;function b(s,v){return s.name<v.name?-1:1}a.bind=function(){this.program||this._relink();var s,v=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),A=this.gl.lastAttribCount;if(v>A)for(s=A;s<v;s++)this.gl.enableVertexAttribArray(s);else if(A>v)for(s=v;s<A;s++)this.gl.disableVertexAttribArray(s);this.gl.lastAttribCount=v,this.gl.useProgram(this.program)},a.dispose=function(){for(var s=this.gl.lastAttribCount,v=0;v<s;v++)this.gl.disableVertexAttribArray(v);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},a.update=function(s,v,A,x){if(!v||1===arguments.length){var E=s;s=E.vertex,v=E.fragment,A=E.uniforms,x=E.attributes}var g=this,M=g.gl,w=g._vref;g._vref=u.shader(M,M.VERTEX_SHADER,s),w&&w.dispose(),g.vertShader=g._vref.shader;var n=this._fref;if(g._fref=u.shader(M,M.FRAGMENT_SHADER,v),n&&n.dispose(),g.fragShader=g._fref.shader,!A||!x){var S=M.createProgram();if(M.attachShader(S,g.fragShader),M.attachShader(S,g.vertShader),M.linkProgram(S),!M.getProgramParameter(S,M.LINK_STATUS)){var d=M.getProgramInfoLog(S);throw new c(d,"Error linking program:"+d)}A=A||f.uniforms(M,S),x=x||f.attributes(M,S),M.deleteProgram(S)}(x=x.slice()).sort(b);var k,I=[],L=[],B=[];for(k=0;k<x.length;++k){var z=x[k];if(z.type.indexOf("mat")>=0){for(var O=0|z.type.charAt(z.type.length-1),F=new Array(O),N=0;N<O;++N)F[N]=B.length,L.push(z.name+"["+N+"]"),"number"==typeof z.location?B.push(z.location+N):Array.isArray(z.location)&&z.location.length===O&&"number"==typeof z.location[N]?B.push(0|z.location[N]):B.push(-1);I.push({name:z.name,type:z.type,locations:F})}else I.push({name:z.name,type:z.type,locations:[B.length]}),L.push(z.name),B.push("number"==typeof z.location?0|z.location:-1)}var H=0;for(k=0;k<B.length;++k)if(B[k]<0){for(;B.indexOf(H)>=0;)H+=1;B[k]=H}var X=new Array(A.length);function ne(){g.program=u.program(M,g._vref,g._fref,L,B);for(var ie=0;ie<A.length;++ie)X[ie]=M.getUniformLocation(g.program,A[ie].name)}ne(),g._relink=ne,g.types={uniforms:i(A),attributes:i(x)},g.attributes=l(M,g,I,B),Object.defineProperty(g,"uniforms",r(M,g,A,X))},h.exports=function p(s,v,A,x,E){var g=new m(s);return g.update(v,A,x,E),g}},9068:function(h){function y(t,r,l){this.shortMessage=r||"",this.longMessage=l||"",this.rawError=t||"",this.message="gl-shader: "+(r||t||"")+(l?"\n"+l:""),this.stack=(new Error).stack}(y.prototype=new Error).name="GLError",y.prototype.constructor=y,h.exports=y},4280:function(h,y,t){"use strict";h.exports=function m(a,b,p,s){for(var v={},A=0,x=p.length;A<x;++A){var E=p[A],g=E.name,M=E.type,w=E.locations;switch(M){case"bool":case"int":case"float":f(a,b,w[0],s,1,v,g);break;default:if(M.indexOf("vec")>=0){if((n=M.charCodeAt(M.length-1)-48)<2||n>4)throw new r("","Invalid data type for attribute "+g+": "+M);f(a,b,w[0],s,n,v,g)}else{if(!(M.indexOf("mat")>=0))throw new r("","Unknown data type for attribute "+g+": "+M);var n;if((n=M.charCodeAt(M.length-1)-48)<2||n>4)throw new r("","Invalid data type for attribute "+g+": "+M);c(a,b,w,s,n,v,g)}}}return v};var r=t(9068);function l(a,b,p,s,v,A){this._gl=a,this._wrapper=b,this._index=p,this._locations=s,this._dimension=v,this._constFunc=A}var i=l.prototype;i.pointer=function(b,p,s,v){var A=this,x=A._gl,E=A._locations[A._index];x.vertexAttribPointer(E,A._dimension,b||x.FLOAT,!!p,s||0,v||0),x.enableVertexAttribArray(E)},i.set=function(a,b,p,s){return this._constFunc(this._locations[this._index],a,b,p,s)},Object.defineProperty(i,"location",{get:function(){return this._locations[this._index]},set:function(a){return a!==this._locations[this._index]&&(this._locations[this._index]=0|a,this._wrapper.program=null),0|a}});var u=[function(a,b,p){return void 0===p.length?a.vertexAttrib1f(b,p):a.vertexAttrib1fv(b,p)},function(a,b,p,s){return void 0===p.length?a.vertexAttrib2f(b,p,s):a.vertexAttrib2fv(b,p)},function(a,b,p,s,v){return void 0===p.length?a.vertexAttrib3f(b,p,s,v):a.vertexAttrib3fv(b,p)},function(a,b,p,s,v,A){return void 0===p.length?a.vertexAttrib4f(b,p,s,v,A):a.vertexAttrib4fv(b,p)}];function f(a,b,p,s,v,A,x){var E=u[v],g=new l(a,b,p,s,v,E);Object.defineProperty(A,x,{set:function(M){return a.disableVertexAttribArray(s[p]),E(a,s[p],M),M},get:function(){return g},enumerable:!0})}function c(a,b,p,s,v,A,x){for(var E=new Array(v),g=new Array(v),M=0;M<v;++M)f(a,b,p[M],s,v,E,M),g[M]=E[M];Object.defineProperty(E,"location",{set:function(S){if(Array.isArray(S))for(var d=0;d<v;++d)g[d].location=S[d];else for(d=0;d<v;++d)g[d].location=S+d;return S},get:function(){for(var S=new Array(v),d=0;d<v;++d)S[d]=s[p[d]];return S},enumerable:!0}),E.pointer=function(S,d,I,L){S=S||a.FLOAT,d=!!d,I=I||v*v,L=L||0;for(var B=0;B<v;++B){var k=s[p[B]];a.vertexAttribPointer(k,v,S,d,I,L+B*v),a.enableVertexAttribArray(k)}};var w=new Array(v),n=a["vertexAttrib"+v+"fv"];Object.defineProperty(A,x,{set:function(S){for(var d=0;d<v;++d){var I=s[p[d]];if(a.disableVertexAttribArray(I),Array.isArray(S[0]))n.call(a,I,S[d]);else{for(var L=0;L<v;++L)w[L]=S[v*d+L];n.call(a,I,w)}}return S},get:function(){return E},enumerable:!0})}},9016:function(h,y,t){"use strict";var r=t(3984),l=t(9068);function i(c){return function(){return c}}function u(c,m){for(var a=new Array(c),b=0;b<c;++b)a[b]=m;return a}h.exports=function f(c,m,a,b){function p(M){return function(w,n,S){return w.getUniform(n.program,S[M])}}function s(M){return function(n){for(var S=v("",M),d=0;d<S.length;++d){var I=S[d],L=I[0],B=I[1];if(b[B]){var k=n;if("string"==typeof L&&(0===L.indexOf(".")||0===L.indexOf("["))){var z=L;if(0===L.indexOf(".")&&(z=L.slice(1)),z.indexOf("]")===z.length-1){var O=z.indexOf("["),F=z.slice(0,O),N=z.slice(O+1,z.length-1);k=F?n[F][N]:n[N]}else k=n[z]}var X,H=a[B].type;switch(H){case"bool":case"int":case"sampler2D":case"samplerCube":c.uniform1i(b[B],k);break;case"float":c.uniform1f(b[B],k);break;default:var ne=H.indexOf("vec");if(!(0<=ne&&ne<=1&&H.length===4+ne)){if(0===H.indexOf("mat")&&4===H.length){if((X=H.charCodeAt(H.length-1)-48)<2||X>4)throw new l("","Invalid uniform dimension type for matrix "+name+": "+H);c["uniformMatrix"+X+"fv"](b[B],!1,k);break}throw new l("","Unknown uniform data type for "+name+": "+H)}if((X=H.charCodeAt(H.length-1)-48)<2||X>4)throw new l("","Invalid data type");switch(H.charAt(0)){case"b":case"i":c["uniform"+X+"iv"](b[B],k);break;case"v":c["uniform"+X+"fv"](b[B],k);break;default:throw new l("","Unrecognized data type for vector "+name+": "+H)}}}}}}function v(M,w){if("object"!=typeof w)return[[M,w]];var n=[];for(var S in w){var d=w[S],I=M;parseInt(S)+""===S?I+="["+S+"]":I+="."+S,"object"==typeof d?n.push.apply(n,v(I,d)):n.push([I,d])}return n}function x(M,w,n){if("object"==typeof n){var S=E(n);Object.defineProperty(M,w,{get:i(S),set:s(n),enumerable:!0,configurable:!1})}else b[n]?Object.defineProperty(M,w,{get:p(n),set:s(n),enumerable:!0,configurable:!1}):M[w]=function A(M){switch(M){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var w=M.indexOf("vec");if(0<=w&&w<=1&&M.length===4+w){if((n=M.charCodeAt(M.length-1)-48)<2||n>4)throw new l("","Invalid data type");return"b"===M.charAt(0)?u(n,!1):u(n,0)}if(0===M.indexOf("mat")&&4===M.length){var n;if((n=M.charCodeAt(M.length-1)-48)<2||n>4)throw new l("","Invalid uniform dimension type for matrix "+name+": "+M);return u(n*n,0)}throw new l("","Unknown uniform data type for "+name+": "+M)}}(a[n].type)}function E(M){var w;if(Array.isArray(M)){w=new Array(M.length);for(var n=0;n<M.length;++n)x(w,n,M[n])}else for(var S in w={},M)x(w,S,M[S]);return w}var g=r(a,!0);return{get:i(E(g)),set:s(g),enumerable:!0,configurable:!0}}},3984:function(h){"use strict";h.exports=function y(t,r){for(var l={},i=0;i<t.length;++i)for(var f=t[i].name.split("."),c=l,m=0;m<f.length;++m){var a=f[m].split("[");if(a.length>1){a[0]in c||(c[a[0]]=[]),c=c[a[0]];for(var b=1;b<a.length;++b){var p=parseInt(a[b]);b<a.length-1||m<f.length-1?(p in c||(c[p]=b<a.length-1?[]:{}),c=c[p]):c[p]=r?i:t[i].type}}else m<f.length-1?(a[0]in c||(c[a[0]]={}),c=c[a[0]]):c[a[0]]=r?i:t[i].type}return l}},2631:function(h,y){"use strict";y.uniforms=function i(f,c){for(var m=f.getProgramParameter(c,f.ACTIVE_UNIFORMS),a=[],b=0;b<m;++b){var p=f.getActiveUniform(c,b);if(p){var s=l(f,p.type);if(p.size>1)for(var v=0;v<p.size;++v)a.push({name:p.name.replace("[0]","["+v+"]"),type:s});else a.push({name:p.name,type:s})}}return a},y.attributes=function u(f,c){for(var m=f.getProgramParameter(c,f.ACTIVE_ATTRIBUTES),a=[],b=0;b<m;++b){var p=f.getActiveAttrib(c,b);p&&a.push({name:p.name,type:l(f,p.type)})}return a};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function l(f,c){if(!r){var m=Object.keys(t);r={};for(var a=0;a<m.length;++a){var b=m[a];r[f[b]]=t[b]}}return r[c]}},1628:function(h,y,t){"use strict";y.shader=function v(x,E,g){return s(x).getShaderReference(E,g)},y.program=function A(x,E,g,M,w){return s(x).getProgram(E,g,M,w)};var r=t(9068),l=t(3530),u=new(typeof WeakMap>"u"?t(4037):WeakMap),f=0;function c(x,E,g,M,w,n,S){this.id=x,this.src=E,this.type=g,this.shader=M,this.count=n,this.programs=[],this.cache=S}function m(x){this.gl=x,this.shaders=[{},{}],this.programs={}}c.prototype.dispose=function(){if(0==--this.count){for(var x=this.cache,E=x.gl,g=this.programs,M=0,w=g.length;M<w;++M){var n=x.programs[g[M]];n&&(delete x.programs[M],E.deleteProgram(n))}E.deleteShader(this.shader),delete x.shaders[this.type===E.FRAGMENT_SHADER|0][this.src]}};var a=m.prototype;function s(x){var E=u.get(x);return E||(E=new m(x),u.set(x,E)),E}a.getShaderReference=function(x,E){var g=this.gl,M=this.shaders[x===g.FRAGMENT_SHADER|0],w=M[E];if(w&&g.isShader(w.shader))w.count+=1;else{var n=function b(x,E,g){var M=x.createShader(E);if(x.shaderSource(M,g),x.compileShader(M),!x.getShaderParameter(M,x.COMPILE_STATUS)){var w=x.getShaderInfoLog(M);try{var n=l(w,g,E)}catch(S){throw console.warn("Failed to format compiler error: "+S),new r(w,"Error compiling shader:\n"+w)}throw new r(w,n.short,n.long)}return M}(g,x,E);w=M[E]=new c(f++,E,x,n,[],1,this)}return w},a.getProgram=function(x,E,g,M){var w=[x.id,E.id,g.join(":"),M.join(":")].join("@"),n=this.programs[w];return(!n||!this.gl.isProgram(n))&&(this.programs[w]=n=function p(x,E,g,M,w){var n=x.createProgram();x.attachShader(n,E),x.attachShader(n,g);for(var S=0;S<M.length;++S)x.bindAttribLocation(n,w[S],M[S]);if(x.linkProgram(n),!x.getProgramParameter(n,x.LINK_STATUS)){var d=x.getProgramInfoLog(n);throw new r(d,"Error linking program: "+d)}return n}(this.gl,x.shader,E.shader,g,M),x.programs.push(w),E.programs.push(w)),n}},3050:function(h){"use strict";function y(l){this.plot=l,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}h.exports=function r(l,i){var u=new y(l);return u.update(i),l.addOverlay(u),u};var t=y.prototype;t.update=function(l){this.enable=((l=l||{}).enable||[!0,!0,!1,!1]).slice(),this.width=(l.width||[1,1,1,1]).slice(),this.color=(l.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(i){return i.slice()}),this.center=(l.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var l=this.enable,i=this.width,u=this.color,f=this.center,c=this.plot,m=c.line,a=c.dataBox,b=c.viewBox;if(m.bind(),a[0]<=f[0]&&f[0]<=a[2]&&a[1]<=f[1]&&f[1]<=a[3]){var p=b[0]+(f[0]-a[0])/(a[2]-a[0])*(b[2]-b[0]),s=b[1]+(f[1]-a[1])/(a[3]-a[1])*(b[3]-b[1]);l[0]&&m.drawLine(p,s,b[0],s,i[0],u[0]),l[1]&&m.drawLine(p,s,p,b[1],i[1],u[1]),l[2]&&m.drawLine(p,s,b[2],s,i[2],u[2]),l[3]&&m.drawLine(p,s,p,b[3],i[3],u[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},3540:function(h,y,t){"use strict";var r=t(6832),l=t(5158),i=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),u=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);h.exports=function(f){return l(f,i,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(h,y,t){"use strict";var r=t(5827),l=t(2944),i=t(3540);h.exports=function p(s,v){var A=[];function x(n,S,d,I,L,B){var k=[n,S,d,0,0,0,1];k[I+3]=1,k[I]=L,A.push.apply(A,k),k[6]=-1,A.push.apply(A,k),k[I]=B,A.push.apply(A,k),A.push.apply(A,k),k[6]=1,A.push.apply(A,k),k[I]=L,A.push.apply(A,k)}x(0,0,0,0,0,1),x(0,0,0,1,0,1),x(0,0,0,2,0,1),x(1,0,0,1,-1,1),x(1,0,0,2,-1,1),x(0,1,0,0,-1,1),x(0,1,0,2,-1,1),x(0,0,1,0,-1,1),x(0,0,1,1,-1,1);var E=r(s,A),g=l(s,[{type:s.FLOAT,buffer:E,size:3,offset:0,stride:28},{type:s.FLOAT,buffer:E,size:3,offset:12,stride:28},{type:s.FLOAT,buffer:E,size:1,offset:24,stride:28}]),M=i(s);M.attributes.position.location=0,M.attributes.color.location=1,M.attributes.weight.location=2;var w=new f(s,E,g,M);return w.update(v),w};var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(s,v,A,x){this.gl=s,this.buffer=v,this.vao=A,this.shader=x,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var c=f.prototype,m=[0,0,0],a=[0,0,0],b=[0,0];c.isTransparent=function(){return!1},c.drawTransparent=function(s){},c.draw=function(s){var v=this.gl,A=this.vao,x=this.shader;A.bind(),x.bind();var w,E=s.model||u,g=s.view||u,M=s.projection||u;this.axes&&(w=this.axes.lastCubeProps.axis);for(var n=m,S=a,d=0;d<3;++d)w&&w[d]<0?(n[d]=this.bounds[0][d],S[d]=this.bounds[1][d]):(n[d]=this.bounds[1][d],S[d]=this.bounds[0][d]);for(b[0]=v.drawingBufferWidth,b[1]=v.drawingBufferHeight,x.uniforms.model=E,x.uniforms.view=g,x.uniforms.projection=M,x.uniforms.coordinates=[this.position,n,S],x.uniforms.colors=this.colors,x.uniforms.screenShape=b,d=0;d<3;++d)x.uniforms.lineWidth=this.lineWidth[d]*this.pixelRatio,this.enabled[d]&&(A.draw(v.TRIANGLES,6,6*d),this.drawSides[d]&&A.draw(v.TRIANGLES,12,18+12*d));A.unbind()},c.update=function(s){s&&("bounds"in s&&(this.bounds=s.bounds),"position"in s&&(this.position=s.position),"lineWidth"in s&&(this.lineWidth=s.lineWidth),"colors"in s&&(this.colors=s.colors),"enabled"in s&&(this.enabled=s.enabled),"drawSides"in s&&(this.drawSides=s.drawSides))},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(h,y,t){var r=t(6832),l=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),i=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),u=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),f=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);y.meshShader={vertex:l,fragment:i,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},y.pickShader={vertex:u,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(h,y,t){"use strict";var r=t(2858),l=t(4020),i=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(x,E,g,M){for(var w=0,n=0;n<x.length;n++)for(var S=x[n].velocities,d=0;d<S.length;d++)w=Math.max(w,r.length(S[d]));var I=x.map(function(ne){return function(x,E,g,M){for(var w=x.points,n=x.velocities,S=x.divergences,d=[],I=[],L=[],B=[],k=[],z=[],O=0,F=0,N=l.create(),H=l.create(),ne=0;ne<w.length;ne++){var ie=w[ne],ue=n[ne],J=S[ne];0===E&&(J=.05*g),F=r.length(ue)/M,N=l.create(),r.copy(N,ue),N[3]=J;for(var j=0;j<8;j++)k[j]=[ie[0],ie[1],ie[2],j];if(B.length>0)for(j=0;j<8;j++){var W=(j+1)%8;d.push(B[j],k[j],k[W],k[W],B[W],B[j]),L.push(H,N,N,N,H,H),z.push(O,F,F,F,O,O);var V=d.length;I.push([V-6,V-5,V-4],[V-3,V-2,V-1])}var K=B;B=k,k=K;var ae=H;H=N,N=ae;var Q=O;O=F,F=Q}return{positions:d,cells:I,vectors:L,vertexIntensity:z}}(ne,g,M,w)}),L=[],B=[],k=[],z=[];for(n=0;n<I.length;n++){var O=I[n],F=L.length;for(L=L.concat(O.positions),k=k.concat(O.vectors),z=z.concat(O.vertexIntensity),d=0;d<O.cells.length;d++){var N=O.cells[d],H=[];B.push(H);for(var X=0;X<N.length;X++)H.push(N[X]+F)}}return{positions:L,cells:B,vectors:k,vertexIntensity:z,colormap:E}},c=function(x,E){var M,g=x.length;for(M=0;M<g;M++){var w=x[M];if(w===E)return M;if(w>E)return M-1}return M},m=function(x,E,g){return x<E?E:x>g?g:x},p=function(x){var E=1/0;x.sort(function(n,S){return n-S});for(var g=x.length,M=1;M<g;M++){var w=Math.abs(x[M]-x[M-1]);w<E&&(E=w)}return E};h.exports=function(x,E){var g=x.startingPositions,M=x.maxLength||1e3,w=x.tubeSize||1,n=x.absoluteTubeSize,S=x.gridFill||"+x+y+z",d={};-1!==S.indexOf("-x")&&(d.reversedX=!0),-1!==S.indexOf("-y")&&(d.reversedY=!0),-1!==S.indexOf("-z")&&(d.reversedZ=!0),d.filled=i.indexOf(S.replace(/-/g,"").replace(/\+/g,""));var Se,xe,Me,Ge,I=x.getVelocity||function(Se){return function(x,E,g){var M=E.vectors,w=E.meshgrid,n=x[0],S=x[1],d=x[2],I=w[0].length,L=w[1].length,B=w[2].length,k=c(w[0],n),z=c(w[1],S),O=c(w[2],d),F=k+1,N=z+1,H=O+1;if(k=m(k,0,I-1),F=m(F,0,I-1),z=m(z,0,L-1),N=m(N,0,L-1),O=m(O,0,B-1),H=m(H,0,B-1),k<0||z<0||O<0||F>I-1||N>L-1||H>B-1)return r.create();var ae,Q,Z,re,q,se,X=w[0][k],ie=w[1][z],J=w[2][O],W=(n-X)/(w[0][F]-X),V=(S-ie)/(w[1][N]-ie),K=(d-J)/(w[2][H]-J);switch(isFinite(W)||(W=.5),isFinite(V)||(V=.5),isFinite(K)||(K=.5),g.reversedX&&(k=I-1-k,F=I-1-F),g.reversedY&&(z=L-1-z,N=L-1-N),g.reversedZ&&(O=B-1-O,H=B-1-H),g.filled){case 5:q=O,se=H,Z=z*B,re=N*B,ae=k*B*L,Q=F*B*L;break;case 4:q=O,se=H,ae=k*B,Q=F*B,Z=z*B*I,re=N*B*I;break;case 3:Z=z,re=N,q=O*L,se=H*L,ae=k*L*B,Q=F*L*B;break;case 2:Z=z,re=N,ae=k*L,Q=F*L,q=O*L*I,se=H*L*I;break;case 1:ae=k,Q=F,q=O*I,se=H*I,Z=z*I*B,re=N*I*B;break;default:ae=k,Q=F,Z=z*I,re=N*I,q=O*I*L,se=H*I*L}var de=M[ae+Z+q],we=M[ae+Z+se],ye=M[ae+re+q],Pe=M[ae+re+se],Ie=M[Q+Z+q],Se=M[Q+Z+se],xe=M[Q+re+q],Me=M[Q+re+se],Ge=r.create(),Ye=r.create(),De=r.create(),He=r.create();r.lerp(Ge,de,Ie,W),r.lerp(Ye,we,Se,W),r.lerp(De,ye,xe,W),r.lerp(He,Pe,Me,W);var rt=r.create(),$e=r.create();r.lerp(rt,Ge,De,V),r.lerp($e,Ye,He,V);var Be=r.create();return r.lerp(Be,rt,$e,K),Be}(Se,x,d)},L=x.getDivergence||function(Se,xe){var Me=r.create(),Ge=1e-4;r.add(Me,Se,[Ge,0,0]);var Ye=I(Me);r.subtract(Ye,Ye,xe),r.scale(Ye,Ye,1/Ge),r.add(Me,Se,[0,Ge,0]);var De=I(Me);r.subtract(De,De,xe),r.scale(De,De,1/Ge),r.add(Me,Se,[0,0,Ge]);var He=I(Me);return r.subtract(He,He,xe),r.scale(He,He,1/Ge),r.add(Me,Ye,De),r.add(Me,Me,He),Me},B=[],k=E[0][0],z=E[0][1],O=E[0][2],F=E[1][0],N=E[1][1],H=E[1][2],ie=10*r.distance(E[0],E[1])/M,ue=ie*ie,J=1,j=0,W=g.length;W>1&&(J=function(x){for(var E=[],g=[],M=[],w={},n={},S={},d=x.length,I=0;I<d;I++){var L=x[I],B=L[0],k=L[1],z=L[2];w[B]||(E.push(B),w[B]=!0),n[k]||(g.push(k),n[k]=!0),S[z]||(M.push(z),S[z]=!0)}var O=p(E),F=p(g),N=p(M),H=Math.min(O,F,N);return isFinite(H)?H:1}(g));for(var V=0;V<W;V++){var K=r.create();r.copy(K,g[V]);var ae=[K],Q=[],Z=I(K),re=K;Q.push(Z);var q=[],se=L(K,Z),de=r.length(se);isFinite(de)&&de>j&&(j=de),q.push(de),B.push({points:ae,velocities:Q,divergences:q});for(var we=0;we<100*M&&ae.length<M&&(xe=void 0,Me=void 0,Ge=void 0,Me=(Se=K)[1],Ge=Se[2],!((xe=Se[0])<k||xe>F||Me<z||Me>N||Ge<O||Ge>H));){we++;var ye=r.clone(Z),Pe=r.squaredLength(ye);if(0===Pe)break;Pe>ue&&r.scale(ye,ye,ie/Math.sqrt(Pe)),r.add(ye,ye,K),Z=I(ye),r.squaredDistance(re,ye)-ue>-1e-4*ue&&(ae.push(ye),re=ye,Q.push(Z),se=L(ye,Z),de=r.length(se),isFinite(de)&&de>j&&(j=de),q.push(de)),K=ye}}var Ie=f(B,x.colormap,j,J);return n?Ie.tubeScale=n:(0===j&&(j=1),Ie.tubeScale=.5*w*J/j),Ie};var v=t(9578),A=t(1140).createMesh;h.exports.createTubeMesh=function(x,E){return A(x,E,{shaders:v,traceType:"streamtube"})}},9054:function(h,y,t){var r=t(5158),l=t(6832),i=l(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),u=l(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),f=l(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),c=l(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);y.createShader=function(m){var a=r(m,i,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return a.attributes.uv.location=0,a.attributes.f.location=1,a.attributes.normal.location=2,a},y.createPickShader=function(m){var a=r(m,i,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return a.attributes.uv.location=0,a.attributes.f.location=1,a.attributes.normal.location=2,a},y.createContourShader=function(m){var a=r(m,f,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return a.attributes.uv.location=0,a.attributes.f.location=1,a},y.createPickContourShader=function(m){var a=r(m,f,c,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return a.attributes.uv.location=0,a.attributes.f.location=1,a}},3754:function(h,y,t){"use strict";h.exports=function ae(Q){var Z=Q.gl,re=g(Z),q=w(Z),se=M(Z),de=n(Z),we=l(Z),ye=i(Z,[{buffer:we,size:4,stride:S,offset:0},{buffer:we,size:3,stride:S,offset:16},{buffer:we,size:3,stride:S,offset:28}]),Pe=l(Z),Ie=i(Z,[{buffer:Pe,size:4,stride:20,offset:0},{buffer:Pe,size:1,stride:20,offset:16}]),Se=l(Z),xe=i(Z,[{buffer:Se,size:2,type:Z.FLOAT}]),Me=u(Z,1,k,Z.RGBA,Z.UNSIGNED_BYTE);Me.minFilter=Z.LINEAR,Me.magFilter=Z.LINEAR;var Ge=new z(Z,[0,0],[[0,0,0],[0,0,0]],re,q,we,ye,Me,se,de,Pe,Ie,Se,xe,[0,0,0]),Ye={levels:[[],[],[]]};for(var De in Q)Ye[De]=Q[De];return Ye.colormap=Ye.colormap||"jet",Ge.update(Ye),Ge};var r=t(2288),l=t(5827),i=t(2944),u=t(8931),f=t(5306),c=t(9156),m=t(7498),a=t(7382),b=t(5050),p=t(4162),s=t(104),v=t(7437),A=t(5070),x=t(9144),E=t(9054),g=E.createShader,M=E.createContourShader,w=E.createPickShader,n=E.createPickContourShader,S=40,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],L=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function B(Q,Z,re,q,se){this.position=Q,this.index=Z,this.uv=re,this.level=q,this.dataCoordinate=se}!function(){for(var Q=0;Q<3;++Q){var Z=L[Q],q=(Q+2)%3;Z[(Q+1)%3+0]=1,Z[q+3]=1,Z[Q+6]=1}}();var k=256;function z(Q,Z,re,q,se,de,we,ye,Pe,Ie,Se,xe,Me,Ge,Ye){this.gl=Q,this.shape=Z,this.bounds=re,this.objectOffset=Ye,this.intensityBounds=[],this._shader=q,this._pickShader=se,this._coordinateBuffer=de,this._vao=we,this._colorMap=ye,this._contourShader=Pe,this._contourPickShader=Ie,this._contourBuffer=Se,this._contourVAO=xe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new B([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Me,this._dynamicVAO=Ge,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[b(f.mallocFloat(1024),[0,0]),b(f.mallocFloat(1024),[0,0]),b(f.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var O=z.prototype;O.genColormap=function(Q,Z){var re=!1,q=a([c({colormap:Q,nshades:k,format:"rgba"}).map(function(se,de){var we=Z?function F(Q,Z){if(!Z||!Z.length)return 1;for(var re=0;re<Z.length;++re){if(Z.length<2)return 1;if(Z[re][0]===Q)return Z[re][1];if(Z[re][0]>Q&&re>0){var q=(Z[re][0]-Q)/(Z[re][0]-Z[re-1][0]);return Z[re][1]*(1-q)+q*Z[re-1][1]}}return 1}(de/255,Z):se[3];return we<1&&(re=!0),[se[0],se[1],se[2],255*we]})]);return m.divseq(q,255),this.hasAlphaScale=re,q},O.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},O.isOpaque=function(){return!this.isTransparent()},O.pickSlots=1,O.setPickBase=function(Q){this.pickId=Q};var N=[0,0,0],H={showSurface:!1,showContour:!1,projections:[d.slice(),d.slice(),d.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function X(Q,Z){var re,q,se,de=Z.axes&&Z.axes.lastCubeProps.axis||N,we=Z.showSurface,ye=Z.showContour;for(re=0;re<3;++re)for(we=we||Z.surfaceProject[re],q=0;q<3;++q)ye=ye||Z.contourProject[re][q];for(re=0;re<3;++re){var Pe=H.projections[re];for(q=0;q<16;++q)Pe[q]=0;for(q=0;q<4;++q)Pe[5*q]=1;Pe[5*re]=0,Pe[12+re]=Z.axesBounds[+(de[re]>0)][re],s(Pe,Q.model,Pe);var Ie=H.clipBounds[re];for(se=0;se<2;++se)for(q=0;q<3;++q)Ie[se][q]=Q.clipBounds[se][q];Ie[0][re]=-1e8,Ie[1][re]=1e8}return H.showSurface=we,H.showContour=ye,H}var ne={model:d,view:d,projection:d,inverseModel:d.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ie=d.slice(),ue=[1,0,0,0,1,0,0,0,1];function J(Q,Z){Q=Q||{};var re=this.gl;re.disable(re.CULL_FACE),this._colorMap.bind(0);var q=ne;q.model=Q.model||d,q.view=Q.view||d,q.projection=Q.projection||d,q.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],q.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],q.objectOffset=this.objectOffset,q.contourColor=this.contourColor[0],q.inverseModel=v(q.inverseModel,q.model);for(var se=0;se<2;++se)for(var de=q.clipBounds[se],we=0;we<3;++we)de[we]=Math.min(Math.max(this.clipBounds[se][we],-1e8),1e8);q.kambient=this.ambientLight,q.kdiffuse=this.diffuseLight,q.kspecular=this.specularLight,q.roughness=this.roughness,q.fresnel=this.fresnel,q.opacity=this.opacity,q.height=0,q.permutation=ue,q.vertexColor=this.vertexColor;var ye=ie;for(s(ye,q.view,q.model),s(ye,q.projection,ye),v(ye,ye),se=0;se<3;++se)q.eyePosition[se]=ye[12+se]/ye[15];var Pe=ye[15];for(se=0;se<3;++se)Pe+=this.lightPosition[se]*ye[4*se+3];for(se=0;se<3;++se){var Ie=ye[12+se];for(we=0;we<3;++we)Ie+=ye[4*we+se]*this.lightPosition[we];q.lightPosition[se]=Ie/Pe}var Se=X(q,this);if(Se.showSurface){for(this._shader.bind(),this._shader.uniforms=q,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(re.TRIANGLES,this._vertexCount),se=0;se<3;++se)!this.surfaceProject[se]||!this.vertexCount||(this._shader.uniforms.model=Se.projections[se],this._shader.uniforms.clipBounds=Se.clipBounds[se],this._vao.draw(re.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Se.showContour){var xe=this._contourShader;q.kambient=1,q.kdiffuse=0,q.kspecular=0,q.opacity=1,xe.bind(),xe.uniforms=q;var Me=this._contourVAO;for(Me.bind(),se=0;se<3;++se)for(xe.uniforms.permutation=L[se],re.lineWidth(this.contourWidth[se]*this.pixelRatio),we=0;we<this.contourLevels[se].length;++we)we===this.highlightLevel[se]?(xe.uniforms.contourColor=this.highlightColor[se],xe.uniforms.contourTint=this.highlightTint[se]):(0===we||we-1===this.highlightLevel[se])&&(xe.uniforms.contourColor=this.contourColor[se],xe.uniforms.contourTint=this.contourTint[se]),this._contourCounts[se][we]&&(xe.uniforms.height=this.contourLevels[se][we],Me.draw(re.LINES,this._contourCounts[se][we],this._contourOffsets[se][we]));for(se=0;se<3;++se)for(xe.uniforms.model=Se.projections[se],xe.uniforms.clipBounds=Se.clipBounds[se],we=0;we<3;++we)if(this.contourProject[se][we]){xe.uniforms.permutation=L[we],re.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var Ge=0;Ge<this.contourLevels[we].length;++Ge)Ge===this.highlightLevel[we]?(xe.uniforms.contourColor=this.highlightColor[we],xe.uniforms.contourTint=this.highlightTint[we]):(0===Ge||Ge-1===this.highlightLevel[we])&&(xe.uniforms.contourColor=this.contourColor[we],xe.uniforms.contourTint=this.contourTint[we]),this._contourCounts[we][Ge]&&(xe.uniforms.height=this.contourLevels[we][Ge],Me.draw(re.LINES,this._contourCounts[we][Ge],this._contourOffsets[we][Ge]))}for(Me.unbind(),(Me=this._dynamicVAO).bind(),se=0;se<3;++se)if(0!==this._dynamicCounts[se])for(xe.uniforms.model=q.model,xe.uniforms.clipBounds=q.clipBounds,xe.uniforms.permutation=L[se],re.lineWidth(this.dynamicWidth[se]*this.pixelRatio),xe.uniforms.contourColor=this.dynamicColor[se],xe.uniforms.contourTint=this.dynamicTint[se],xe.uniforms.height=this.dynamicLevel[se],Me.draw(re.LINES,this._dynamicCounts[se],this._dynamicOffsets[se]),we=0;we<3;++we)this.contourProject[we][se]&&(xe.uniforms.model=Se.projections[we],xe.uniforms.clipBounds=Se.clipBounds[we],Me.draw(re.LINES,this._dynamicCounts[se],this._dynamicOffsets[se]));Me.unbind()}}O.draw=function(Q){return J.call(this,Q,!1)},O.drawTransparent=function(Q){return J.call(this,Q,!0)};var j={model:d,view:d,projection:d,inverseModel:d,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function W(Q,Z){return Array.isArray(Q)?[Z(Q[0]),Z(Q[1]),Z(Q[2])]:[Z(Q),Z(Q),Z(Q)]}function V(Q){return Array.isArray(Q)?3===Q.length?[Q[0],Q[1],Q[2],1]:[Q[0],Q[1],Q[2],Q[3]]:[0,0,0,1]}function K(Q){if(Array.isArray(Q)){if(Array.isArray(Q))return[V(Q[0]),V(Q[1]),V(Q[2])];var Z=V(Q);return[Z.slice(),Z.slice(),Z.slice()]}}O.drawPick=function(Q){Q=Q||{};var Z=this.gl;Z.disable(Z.CULL_FACE);var re=j;re.model=Q.model||d,re.view=Q.view||d,re.projection=Q.projection||d,re.shape=this._field[2].shape,re.pickId=this.pickId/255,re.lowerBound=this.bounds[0],re.upperBound=this.bounds[1],re.objectOffset=this.objectOffset,re.permutation=ue;for(var q=0;q<2;++q)for(var se=re.clipBounds[q],de=0;de<3;++de)se[de]=Math.min(Math.max(this.clipBounds[q][de],-1e8),1e8);var we=X(re,this);if(we.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=re,this._vao.bind(),this._vao.draw(Z.TRIANGLES,this._vertexCount),q=0;q<3;++q)this.surfaceProject[q]&&(this._pickShader.uniforms.model=we.projections[q],this._pickShader.uniforms.clipBounds=we.clipBounds[q],this._vao.draw(Z.TRIANGLES,this._vertexCount));this._vao.unbind()}if(we.showContour){var ye=this._contourPickShader;ye.bind(),ye.uniforms=re;var Pe=this._contourVAO;for(Pe.bind(),de=0;de<3;++de)for(Z.lineWidth(this.contourWidth[de]*this.pixelRatio),ye.uniforms.permutation=L[de],q=0;q<this.contourLevels[de].length;++q)this._contourCounts[de][q]&&(ye.uniforms.height=this.contourLevels[de][q],Pe.draw(Z.LINES,this._contourCounts[de][q],this._contourOffsets[de][q]));for(q=0;q<3;++q)for(ye.uniforms.model=we.projections[q],ye.uniforms.clipBounds=we.clipBounds[q],de=0;de<3;++de)if(this.contourProject[q][de]){ye.uniforms.permutation=L[de],Z.lineWidth(this.contourWidth[de]*this.pixelRatio);for(var Ie=0;Ie<this.contourLevels[de].length;++Ie)this._contourCounts[de][Ie]&&(ye.uniforms.height=this.contourLevels[de][Ie],Pe.draw(Z.LINES,this._contourCounts[de][Ie],this._contourOffsets[de][Ie]))}Pe.unbind()}},O.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var Z=this._field[2].shape,re=this._pickResult,q=Z[0]*(Q.value[0]+(Q.value[2]>>4)/16)/255,se=Math.floor(q),de=q-se,we=Z[1]*(Q.value[1]+(15&Q.value[2])/16)/255,ye=Math.floor(we),Pe=we-ye;se+=1,ye+=1;var Ie=re.position;Ie[0]=Ie[1]=Ie[2]=0;for(var Se=0;Se<2;++Se)for(var xe=Se?de:1-de,Me=0;Me<2;++Me)for(var Ye=se+Se,De=ye+Me,He=xe*(Me?Pe:1-Pe),rt=0;rt<3;++rt)Ie[rt]+=this._field[rt].get(Ye,De)*He;for(var $e=this._pickResult.level,Be=0;Be<3;++Be)if($e[Be]=A.le(this.contourLevels[Be],Ie[Be]),$e[Be]<0)this.contourLevels[Be].length>0&&($e[Be]=0);else if($e[Be]<this.contourLevels[Be].length-1){var tt=this.contourLevels[Be][$e[Be]+1];Math.abs(this.contourLevels[Be][$e[Be]]-Ie[Be])>Math.abs(tt-Ie[Be])&&($e[Be]+=1)}for(re.index[0]=de<.5?se:se+1,re.index[1]=Pe<.5?ye:ye+1,re.uv[0]=q/Z[0],re.uv[1]=we/Z[1],rt=0;rt<3;++rt)re.dataCoordinate[rt]=this._field[rt].get(re.index[0],re.index[1]);return re},O.padField=function(Q,Z){var re=Z.shape.slice(),q=Q.shape.slice();m.assign(Q.lo(1,1).hi(re[0],re[1]),Z),m.assign(Q.lo(1).hi(re[0],1),Z.hi(re[0],1)),m.assign(Q.lo(1,q[1]-1).hi(re[0],1),Z.lo(0,re[1]-1).hi(re[0],1)),m.assign(Q.lo(0,1).hi(1,re[1]),Z.hi(1)),m.assign(Q.lo(q[0]-1,1).hi(1,re[1]),Z.lo(re[0]-1)),Q.set(0,0,Z.get(0,0)),Q.set(0,q[1]-1,Z.get(0,re[1]-1)),Q.set(q[0]-1,0,Z.get(re[0]-1,0)),Q.set(q[0]-1,q[1]-1,Z.get(re[0]-1,re[1]-1))},O.update=function(Q){this.objectOffset=(Q=Q||{}).objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in Q&&(this.contourWidth=W(Q.contourWidth,Number)),"showContour"in Q&&(this.showContour=W(Q.showContour,Boolean)),"showSurface"in Q&&(this.showSurface=!!Q.showSurface),"contourTint"in Q&&(this.contourTint=W(Q.contourTint,Boolean)),"contourColor"in Q&&(this.contourColor=K(Q.contourColor)),"contourProject"in Q&&(this.contourProject=W(Q.contourProject,function(_t){return W(_t,Boolean)})),"surfaceProject"in Q&&(this.surfaceProject=Q.surfaceProject),"dynamicColor"in Q&&(this.dynamicColor=K(Q.dynamicColor)),"dynamicTint"in Q&&(this.dynamicTint=W(Q.dynamicTint,Number)),"dynamicWidth"in Q&&(this.dynamicWidth=W(Q.dynamicWidth,Number)),"opacity"in Q&&(this.opacity=Q.opacity),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale),"colorBounds"in Q&&(this.colorBounds=Q.colorBounds),"vertexColor"in Q&&(this.vertexColor=Q.vertexColor?1:0),"colormap"in Q&&this._colorMap.setPixels(this.genColormap(Q.colormap,this.opacityscale));var Z=Q.field||Q.coords&&Q.coords[2]||null,re=!1;if(Z||(Z=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in Q||"coords"in Q){var q=(Z.shape[0]+2)*(Z.shape[1]+2);q>this._field[2].data.length&&(f.freeFloat(this._field[2].data),this._field[2].data=f.mallocFloat(r.nextPow2(q))),this._field[2]=b(this._field[2].data,[Z.shape[0]+2,Z.shape[1]+2]),this.padField(this._field[2],Z),this.shape=Z.shape.slice();for(var se=this.shape,de=0;de<2;++de)this._field[2].size>this._field[de].data.length&&(f.freeFloat(this._field[de].data),this._field[de].data=f.mallocFloat(this._field[2].size)),this._field[de]=b(this._field[de].data,[se[0]+2,se[1]+2]);if(Q.coords){var we=Q.coords;if(!Array.isArray(we)||3!==we.length)throw new Error("gl-surface: invalid coordinates for x/y");for(de=0;de<2;++de){var ye=we[de];for(Me=0;Me<2;++Me)if(ye.shape[Me]!==se[Me])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[de],ye)}}else if(Q.ticks){var Pe=Q.ticks;if(!Array.isArray(Pe)||2!==Pe.length)throw new Error("gl-surface: invalid ticks");for(de=0;de<2;++de){var Ie=Pe[de];if((Array.isArray(Ie)||Ie.length)&&(Ie=b(Ie)),Ie.shape[0]!==se[de])throw new Error("gl-surface: invalid tick length");var Se=b(Ie.data,se);Se.stride[de]=Ie.stride[0],Se.stride[1^de]=0,this.padField(this._field[de],Se)}}else{for(de=0;de<2;++de){var xe=[0,0];xe[de]=1,this._field[de]=b(this._field[de].data,[se[0]+2,se[1]+2],xe,0)}this._field[0].set(0,0,0);for(var Me=0;Me<se[0];++Me)this._field[0].set(Me+1,0,Me);for(this._field[0].set(se[0]+1,0,se[0]-1),this._field[1].set(0,0,0),Me=0;Me<se[1];++Me)this._field[1].set(0,Me+1,Me);this._field[1].set(0,se[1]+1,se[1]-1)}var Ge=this._field,Ye=b(f.mallocFloat(3*Ge[2].size*2),[3,se[0]+2,se[1]+2,2]);for(de=0;de<3;++de)x(Ye.pick(de),Ge[de],"mirror");var De=b(f.mallocFloat(3*Ge[2].size),[se[0]+2,se[1]+2,3]);for(de=0;de<se[0]+2;++de)for(Me=0;Me<se[1]+2;++Me){var He=Ye.get(0,de,Me,0),rt=Ye.get(0,de,Me,1),$e=Ye.get(1,de,Me,0),Be=Ye.get(1,de,Me,1),ze=Ye.get(2,de,Me,0),tt=Ye.get(2,de,Me,1),lt=$e*tt-Be*ze,ut=ze*rt-tt*He,xt=He*Be-rt*$e,bt=Math.sqrt(lt*lt+ut*ut+xt*xt);bt<1e-8?(bt=Math.max(Math.abs(lt),Math.abs(ut),Math.abs(xt)))<1e-8?(xt=1,ut=lt=0,bt=1):bt=1/bt:bt=1/Math.sqrt(bt),De.set(de,Me,0,lt*bt),De.set(de,Me,1,ut*bt),De.set(de,Me,2,xt*bt)}f.free(Ye.data);var Ht=[1/0,1/0,1/0],Je=[-1/0,-1/0,-1/0],Ce=1/0,Ee=-1/0,ke=f.mallocFloat(r.nextPow2((se[0]-1)*(se[1]-1)*6*10)),Ne=0,_e=0;for(de=0;de<se[0]-1;++de)e:for(Me=0;Me<se[1]-1;++Me){for(var Te=0;Te<2;++Te)for(var fe=0;fe<2;++fe)for(var pe=0;pe<3;++pe){var Fe=this._field[pe].get(1+de+Te,1+Me+fe);if(isNaN(Fe)||!isFinite(Fe))continue e}for(pe=0;pe<6;++pe){var Xe=de+I[pe][0],at=Me+I[pe][1],ft=this._field[0].get(Xe+1,at+1),Xt=this._field[1].get(Xe+1,at+1);Fe=this._field[2].get(Xe+1,at+1),lt=De.get(Xe+1,at+1,0),ut=De.get(Xe+1,at+1,1),xt=De.get(Xe+1,at+1,2),Q.intensity&&(rr=Q.intensity.get(Xe,at));var rr=Q.intensity?Q.intensity.get(Xe,at):Fe+this.objectOffset[2];ke[Ne++]=Xe,ke[Ne++]=at,ke[Ne++]=ft,ke[Ne++]=Xt,ke[Ne++]=Fe,ke[Ne++]=0,ke[Ne++]=rr,ke[Ne++]=lt,ke[Ne++]=ut,ke[Ne++]=xt,Ht[0]=Math.min(Ht[0],ft+this.objectOffset[0]),Ht[1]=Math.min(Ht[1],Xt+this.objectOffset[1]),Ht[2]=Math.min(Ht[2],Fe+this.objectOffset[2]),Ce=Math.min(Ce,rr),Je[0]=Math.max(Je[0],ft+this.objectOffset[0]),Je[1]=Math.max(Je[1],Xt+this.objectOffset[1]),Je[2]=Math.max(Je[2],Fe+this.objectOffset[2]),Ee=Math.max(Ee,rr),_e+=1}}for(Q.intensityBounds&&(Ce=+Q.intensityBounds[0],Ee=+Q.intensityBounds[1]),de=6;de<Ne;de+=10)ke[de]=(ke[de]-Ce)/(Ee-Ce);this._vertexCount=_e,this._coordinateBuffer.update(ke.subarray(0,Ne)),f.freeFloat(ke),f.free(De.data),this.bounds=[Ht,Je],this.intensity=Q.intensity||this._field[2],(this.intensityBounds[0]!==Ce||this.intensityBounds[1]!==Ee)&&(re=!0),this.intensityBounds=[Ce,Ee]}if("levels"in Q){var At=Q.levels;for(At=Array.isArray(At[0])?At.slice():[[],[],At],de=0;de<3;++de)At[de]=At[de].slice(),At[de].sort(function(_t,Kt){return _t-Kt});for(de=0;de<3;++de)for(Me=0;Me<At[de].length;++Me)At[de][Me]-=this.objectOffset[de];e:for(de=0;de<3;++de){if(At[de].length!==this.contourLevels[de].length){re=!0;break}for(Me=0;Me<At[de].length;++Me)if(At[de][Me]!==this.contourLevels[de][Me]){re=!0;break e}}this.contourLevels=At}if(re){Ge=this._field,se=this.shape;for(var zt=[],Qt=0;Qt<3;++Qt){var Rr=this.contourLevels[Qt],pt=[],$t=[],tr=[0,0,0];for(de=0;de<Rr.length;++de){var Er=p(this._field[Qt],Rr[de]);pt.push(zt.length/5|0),_e=0;e:for(Me=0;Me<Er.cells.length;++Me){var pr=Er.cells[Me];for(pe=0;pe<2;++pe){var dt=Er.positions[pr[pe]],it=dt[0],mt=0|Math.floor(it),St=it-mt,Lt=dt[1],Ct=0|Math.floor(Lt),Ut=Lt-Ct,Bt=!1;t:for(var qt=0;qt<3;++qt){tr[qt]=0;var cr=(Qt+qt+1)%3;for(Te=0;Te<2;++Te){var lr=Te?St:1-St;for(Xe=0|Math.min(Math.max(mt+Te,0),se[0]),fe=0;fe<2;++fe){var br=fe?Ut:1-Ut;if(at=0|Math.min(Math.max(Ct+fe,0),se[1]),Fe=qt<2?this._field[cr].get(Xe,at):(this.intensity.get(Xe,at)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Fe)||isNaN(Fe)){Bt=!0;break t}tr[qt]+=lr*br*Fe}}}if(Bt){if(pe>0){for(var Ve=0;Ve<5;++Ve)zt.pop();_e-=1}continue e}zt.push(tr[0],tr[1],dt[0],dt[1],tr[2]),_e+=1}}$t.push(_e)}this._contourOffsets[Qt]=pt,this._contourCounts[Qt]=$t}var Rt=f.mallocFloat(zt.length);for(de=0;de<zt.length;++de)Rt[de]=zt[de];this._contourBuffer.update(Rt),f.freeFloat(Rt)}},O.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var Q=0;Q<3;++Q)f.freeFloat(this._field[Q].data)},O.highlight=function(Q){var Z,re;if(!Q)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(Z=0;Z<3;++Z)this.highlightLevel[Z]=this.enableHighlight[Z]?Q.level[Z]:-1;for(re=this.snapToData?Q.dataCoordinate:Q.position,Z=0;Z<3;++Z)re[Z]-=this.objectOffset[Z];if(this.enableDynamic[0]&&re[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&re[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&re[2]!==this.dynamicLevel[2]){for(var q=0,se=this.shape,de=f.mallocFloat(12*se[0]*se[1]),we=0;we<3;++we)if(this.enableDynamic[we]){this.dynamicLevel[we]=re[we];var Se=this._field[(we+1)%3],xe=this._field[(we+2)%3],Me=p(this._field[we],re[we]),Ge=Me.cells,Ye=Me.positions;for(this._dynamicOffsets[we]=q,Z=0;Z<Ge.length;++Z)for(var De=Ge[Z],He=0;He<2;++He){var rt=Ye[De[He]],$e=+rt[0],Be=0|$e,ze=0|Math.min(Be+1,se[0]),tt=$e-Be,lt=1-tt,ut=+rt[1],xt=0|ut,bt=0|Math.min(xt+1,se[1]),Ht=ut-xt,Je=1-Ht,Ce=lt*Je,Ee=lt*Ht,Re=tt*Je,ke=tt*Ht,Ne=Ce*Se.get(Be,xt)+Ee*Se.get(Be,bt)+Re*Se.get(ze,xt)+ke*Se.get(ze,bt),_e=Ce*xe.get(Be,xt)+Ee*xe.get(Be,bt)+Re*xe.get(ze,xt)+ke*xe.get(ze,bt);if(isNaN(Ne)||isNaN(_e)){He&&(q-=1);break}de[2*q+0]=Ne,de[2*q+1]=_e,q+=1}this._dynamicCounts[we]=q-this._dynamicOffsets[we]}else this.dynamicLevel[we]=NaN,this._dynamicCounts[we]=0;this._dynamicBuffer.update(de.subarray(0,2*q)),f.freeFloat(de)}}},8931:function(h,y,t){"use strict";var r=t(5050),l=t(7498),i=t(5306);h.exports=function n(S){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(u||function m(S){u=[S.LINEAR,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_NEAREST],f=[S.NEAREST,S.LINEAR,S.NEAREST_MIPMAP_NEAREST,S.NEAREST_MIPMAP_LINEAR,S.LINEAR_MIPMAP_NEAREST,S.LINEAR_MIPMAP_LINEAR],c=[S.REPEAT,S.CLAMP_TO_EDGE,S.MIRRORED_REPEAT]}(S),"number"==typeof arguments[1])return g(S,arguments[1],arguments[2],arguments[3]||S.RGBA,arguments[4]||S.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return g(S,0|arguments[1][0],0|arguments[1][1],arguments[2]||S.RGBA,arguments[3]||S.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var d=arguments[1],I=a(d)?d:d.raw;if(I)return function M(S,d,I,L,B,k){var z=E(S);return S.texImage2D(S.TEXTURE_2D,0,B,B,k,d),new s(S,z,I,L,B,k)}(S,I,0|d.width,0|d.height,arguments[2]||S.RGBA,arguments[3]||S.UNSIGNED_BYTE);if(d.shape&&d.data&&d.stride)return function w(S,d){var I=d.dtype,L=d.shape.slice(),B=S.getParameter(S.MAX_TEXTURE_SIZE);if(L[0]<0||L[0]>B||L[1]<0||L[1]>B)throw new Error("gl-texture2d: Invalid texture size");var k=A(L,d.stride.slice()),z=0;"float32"===I?z=S.FLOAT:"float64"===I?(z=S.FLOAT,k=!1,I="float32"):"uint8"===I?z=S.UNSIGNED_BYTE:(z=S.UNSIGNED_BYTE,k=!1,I="uint8");var O=0;if(2===L.length)O=S.LUMINANCE,d=r(d.data,L=[L[0],L[1],1],[d.stride[0],d.stride[1],1],d.offset);else{if(3!==L.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===L[2])O=S.ALPHA;else if(2===L[2])O=S.LUMINANCE_ALPHA;else if(3===L[2])O=S.RGB;else{if(4!==L[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");O=S.RGBA}}z===S.FLOAT&&!S.getExtension("OES_texture_float")&&(z=S.UNSIGNED_BYTE,k=!1);var F,N,H=d.size;if(k)F=0===d.offset&&d.data.length===H?d.data:d.data.subarray(d.offset,d.offset+H);else{var X=[L[2],L[2]*L[0],1];N=i.malloc(H,I);var ne=r(N,L,X,0);"float32"!==I&&"float64"!==I||z!==S.UNSIGNED_BYTE?l.assign(ne,d):b(ne,d),F=N.subarray(0,H)}var ie=E(S);return S.texImage2D(S.TEXTURE_2D,0,O,L[0],L[1],0,O,z,F),k||i.free(N),new s(S,ie,L[0],L[1],O,z)}(S,d)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var u=null,f=null,c=null;function a(S){return typeof HTMLCanvasElement<"u"&&S instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&S instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&S instanceof HTMLVideoElement||typeof ImageData<"u"&&S instanceof ImageData}var b=function(S,d){l.muls(S,d,255)};function p(S,d,I){var L=S.gl,B=L.getParameter(L.MAX_TEXTURE_SIZE);if(d<0||d>B||I<0||I>B)throw new Error("gl-texture2d: Invalid texture size");return S._shape=[d,I],S.bind(),L.texImage2D(L.TEXTURE_2D,0,S.format,d,I,0,S.format,S.type,null),S._mipLevels=[0],S}function s(S,d,I,L,B,k){this.gl=S,this.handle=d,this.format=B,this.type=k,this._shape=[I,L],this._mipLevels=[0],this._magFilter=S.NEAREST,this._minFilter=S.NEAREST,this._wrapS=S.CLAMP_TO_EDGE,this._wrapT=S.CLAMP_TO_EDGE,this._anisoSamples=1;var z=this,O=[this._wrapS,this._wrapT];Object.defineProperties(O,[{get:function(){return z._wrapS},set:function(N){return z.wrapS=N}},{get:function(){return z._wrapT},set:function(N){return z.wrapT=N}}]),this._wrapVector=O;var F=[this._shape[0],this._shape[1]];Object.defineProperties(F,[{get:function(){return z._shape[0]},set:function(N){return z.width=N}},{get:function(){return z._shape[1]},set:function(N){return z.height=N}}]),this._shapeVector=F}var v=s.prototype;function A(S,d){return 3===S.length?1===d[2]&&d[1]===S[0]*S[2]&&d[0]===S[2]:1===d[0]&&d[1]===S[0]}function E(S){var d=S.createTexture();return S.bindTexture(S.TEXTURE_2D,d),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),d}function g(S,d,I,L,B){var k=S.getParameter(S.MAX_TEXTURE_SIZE);if(d<0||d>k||I<0||I>k)throw new Error("gl-texture2d: Invalid texture shape");if(B===S.FLOAT&&!S.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var z=E(S);return S.texImage2D(S.TEXTURE_2D,0,L,d,I,0,L,B,null),new s(S,z,d,I,L,B)}Object.defineProperties(v,{minFilter:{get:function(){return this._minFilter},set:function(S){this.bind();var d=this.gl;if(this.type===d.FLOAT&&u.indexOf(S)>=0&&(d.getExtension("OES_texture_float_linear")||(S=d.NEAREST)),f.indexOf(S)<0)throw new Error("gl-texture2d: Unknown filter mode "+S);return d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,S),this._minFilter=S}},magFilter:{get:function(){return this._magFilter},set:function(S){this.bind();var d=this.gl;if(this.type===d.FLOAT&&u.indexOf(S)>=0&&(d.getExtension("OES_texture_float_linear")||(S=d.NEAREST)),f.indexOf(S)<0)throw new Error("gl-texture2d: Unknown filter mode "+S);return d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,S),this._magFilter=S}},mipSamples:{get:function(){return this._anisoSamples},set:function(S){var d=this._anisoSamples;if(this._anisoSamples=0|Math.max(S,1),d!==this._anisoSamples){var I=this.gl.getExtension("EXT_texture_filter_anisotropic");I&&this.gl.texParameterf(this.gl.TEXTURE_2D,I.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(S){if(this.bind(),c.indexOf(S)<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,S),this._wrapS=S}},wrapT:{get:function(){return this._wrapT},set:function(S){if(this.bind(),c.indexOf(S)<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,S),this._wrapT=S}},wrap:{get:function(){return this._wrapVector},set:function(S){if(Array.isArray(S)||(S=[S,S]),2!==S.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var d=0;d<2;++d)if(c.indexOf(S[d])<0)throw new Error("gl-texture2d: Unknown wrap mode "+S);this._wrapS=S[0],this._wrapT=S[1];var I=this.gl;return this.bind(),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,this._wrapS),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,this._wrapT),S}},shape:{get:function(){return this._shapeVector},set:function(S){if(Array.isArray(S)){if(2!==S.length)throw new Error("gl-texture2d: Invalid texture shape")}else S=[0|S,0|S];return p(this,0|S[0],0|S[1]),[0|S[0],0|S[1]]}},width:{get:function(){return this._shape[0]},set:function(S){return p(this,S|=0,this._shape[1]),S}},height:{get:function(){return this._shape[1]},set:function(S){return p(this,this._shape[0],S|=0),S}}}),v.bind=function(S){var d=this.gl;return void 0!==S&&d.activeTexture(d.TEXTURE0+(0|S)),d.bindTexture(d.TEXTURE_2D,this.handle),void 0!==S?0|S:d.getParameter(d.ACTIVE_TEXTURE)-d.TEXTURE0},v.dispose=function(){this.gl.deleteTexture(this.handle)},v.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var S=Math.min(this._shape[0],this._shape[1]),d=0;S>0;++d,S>>>=1)this._mipLevels.indexOf(d)<0&&this._mipLevels.push(d)},v.setPixels=function(S,d,I,L){var B=this.gl;this.bind(),Array.isArray(d)?(L=I,I=0|d[1],d=0|d[0]):(d=d||0,I=I||0),L=L||0;var k=a(S)?S:S.raw;if(k)this._mipLevels.indexOf(L)<0?(B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,this.type,k),this._mipLevels.push(L)):B.texSubImage2D(B.TEXTURE_2D,L,d,I,this.format,this.type,k);else{if(!(S.shape&&S.stride&&S.data))throw new Error("gl-texture2d: Unsupported data type");if(S.shape.length<2||d+S.shape[1]>this._shape[1]>>>L||I+S.shape[0]>this._shape[0]>>>L||d<0||I<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function x(S,d,I,L,B,k,z,O){var F=O.dtype,N=O.shape.slice();if(N.length<2||N.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var H=0,X=0,ne=A(N,O.stride.slice());if("float32"===F?H=S.FLOAT:"float64"===F?(H=S.FLOAT,ne=!1,F="float32"):"uint8"===F?H=S.UNSIGNED_BYTE:(H=S.UNSIGNED_BYTE,ne=!1,F="uint8"),2===N.length)X=S.LUMINANCE,O=r(O.data,N=[N[0],N[1],1],[O.stride[0],O.stride[1],1],O.offset);else{if(3!==N.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===N[2])X=S.ALPHA;else if(2===N[2])X=S.LUMINANCE_ALPHA;else if(3===N[2])X=S.RGB;else{if(4!==N[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");X=S.RGBA}}if((X===S.LUMINANCE||X===S.ALPHA)&&(B===S.LUMINANCE||B===S.ALPHA)&&(X=B),X!==B)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ue=O.size,J=z.indexOf(L)<0;if(J&&z.push(L),H===k&&ne)0===O.offset&&O.data.length===ue?J?S.texImage2D(S.TEXTURE_2D,L,B,N[0],N[1],0,B,k,O.data):S.texSubImage2D(S.TEXTURE_2D,L,d,I,N[0],N[1],B,k,O.data):J?S.texImage2D(S.TEXTURE_2D,L,B,N[0],N[1],0,B,k,O.data.subarray(O.offset,O.offset+ue)):S.texSubImage2D(S.TEXTURE_2D,L,d,I,N[0],N[1],B,k,O.data.subarray(O.offset,O.offset+ue));else{var j;j=k===S.FLOAT?i.mallocFloat32(ue):i.mallocUint8(ue);var W=r(j,N,[N[2],N[2]*N[0],1]);H===S.FLOAT&&k===S.UNSIGNED_BYTE?b(W,O):l.assign(W,O),J?S.texImage2D(S.TEXTURE_2D,L,B,N[0],N[1],0,B,k,j.subarray(0,ue)):S.texSubImage2D(S.TEXTURE_2D,L,d,I,N[0],N[1],B,k,j.subarray(0,ue)),k===S.FLOAT?i.freeFloat32(j):i.freeUint8(j)}}(B,d,I,L,this.format,this.type,this._mipLevels,S)}}},3056:function(h){"use strict";h.exports=function y(t,r,l){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var i=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(l){if(l.length>i)throw new Error("gl-vao: Too many vertex attributes");for(var u=0;u<l.length;++u){var f=l[u];if(f.buffer){var m=f.size||4,a=f.type||t.FLOAT,b=!!f.normalized,p=f.stride||0,s=f.offset||0;f.buffer.bind(),t.enableVertexAttribArray(u),t.vertexAttribPointer(u,m,a,b,p,s)}else{if("number"==typeof f)t.vertexAttrib1f(u,f);else if(1===f.length)t.vertexAttrib1f(u,f[0]);else if(2===f.length)t.vertexAttrib2f(u,f[0],f[1]);else if(3===f.length)t.vertexAttrib3f(u,f[0],f[1],f[2]);else{if(4!==f.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(u,f[0],f[1],f[2],f[3])}t.disableVertexAttribArray(u)}}for(;u<i;++u)t.disableVertexAttribArray(u)}else for(t.bindBuffer(t.ARRAY_BUFFER,null),u=0;u<i;++u)t.disableVertexAttribArray(u)}},7220:function(h,y,t){"use strict";var r=t(3056);function l(u){this.gl=u,this._elements=null,this._attributes=null,this._elementsType=u.UNSIGNED_SHORT}l.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},l.prototype.update=function(u,f,c){this._elements=f,this._attributes=u,this._elementsType=c||this.gl.UNSIGNED_SHORT},l.prototype.dispose=function(){},l.prototype.unbind=function(){},l.prototype.draw=function(u,f,c){c=c||0;var m=this.gl;this._elements?m.drawElements(u,f,this._elementsType,c):m.drawArrays(u,c,f)},h.exports=function i(u){return new l(u)}},3778:function(h,y,t){"use strict";var r=t(3056);function l(f,c,m,a,b,p){this.location=f,this.dimension=c,this.a=m,this.b=a,this.c=b,this.d=p}function i(f,c,m){this.gl=f,this._ext=c,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=f.UNSIGNED_SHORT}l.prototype.bind=function(f){switch(this.dimension){case 1:f.vertexAttrib1f(this.location,this.a);break;case 2:f.vertexAttrib2f(this.location,this.a,this.b);break;case 3:f.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:f.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var f=0;f<this._attribs.length;++f)this._attribs[f].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(f,c,m){if(this.bind(),r(this.gl,c,f),this.unbind(),this._attribs.length=0,f)for(var a=0;a<f.length;++a){var b=f[a];"number"==typeof b?this._attribs.push(new l(a,1,b)):Array.isArray(b)&&this._attribs.push(new l(a,b.length,b[0],b[1],b[2],b[3]))}this._useElements=!!c,this._elementsType=m||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(f,c,m){m=m||0;var a=this.gl;this._useElements?a.drawElements(f,c,this._elementsType,m):a.drawArrays(f,m,c)},h.exports=function u(f,c){return new i(f,c,c.createVertexArrayOES())}},2944:function(h,y,t){"use strict";var r=t(3778),l=t(7220);function i(f){this.bindVertexArrayOES=f.bindVertexArray.bind(f),this.createVertexArrayOES=f.createVertexArray.bind(f),this.deleteVertexArrayOES=f.deleteVertexArray.bind(f)}h.exports=function u(f,c,m,a){var p,b=f.createVertexArray?new i(f):f.getExtension("OES_vertex_array_object");return(p=b?r(f,b):l(f)).update(c,m,a),p}},2598:function(h){h.exports=function y(t,r,l){return t[0]=r[0]+l[0],t[1]=r[1]+l[1],t[2]=r[2]+l[2],t}},5879:function(h,y,t){h.exports=function u(f,c){var m=r(f[0],f[1],f[2]),a=r(c[0],c[1],c[2]);l(m,m),l(a,a);var b=i(m,a);return b>1?0:Math.acos(b)};var r=t(5415),l=t(899),i=t(9305)},8827:function(h){h.exports=function y(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}},7622:function(h){h.exports=function y(t){var r=new Float32Array(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8782:function(h){h.exports=function y(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8501:function(h){h.exports=function y(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},903:function(h){h.exports=function y(t,r,l){var i=r[0],u=r[1],f=r[2],c=l[0],m=l[1],a=l[2];return t[0]=u*a-f*m,t[1]=f*c-i*a,t[2]=i*m-u*c,t}},5981:function(h,y,t){h.exports=t(8288)},8288:function(h){h.exports=function y(t,r){var l=r[0]-t[0],i=r[1]-t[1],u=r[2]-t[2];return Math.sqrt(l*l+i*i+u*u)}},8629:function(h,y,t){h.exports=t(7979)},7979:function(h){h.exports=function y(t,r,l){return t[0]=r[0]/l[0],t[1]=r[1]/l[1],t[2]=r[2]/l[2],t}},9305:function(h){h.exports=function y(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}},154:function(h){h.exports=1e-6},4932:function(h,y,t){h.exports=function l(i,u){var f=i[0],c=i[1],m=i[2],a=u[0],b=u[1],p=u[2];return Math.abs(f-a)<=r*Math.max(1,Math.abs(f),Math.abs(a))&&Math.abs(c-b)<=r*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(m-p)<=r*Math.max(1,Math.abs(m),Math.abs(p))};var r=t(154)},5777:function(h){h.exports=function y(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}},3306:function(h){h.exports=function y(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}},7447:function(h,y,t){h.exports=function l(i,u,f,c,m,a){var b,p;for(u||(u=3),f||(f=0),p=c?Math.min(c*u+f,i.length):i.length,b=f;b<p;b+=u)r[0]=i[b],r[1]=i[b+1],r[2]=i[b+2],m(r,r,a),i[b]=r[0],i[b+1]=r[1],i[b+2]=r[2];return i};var r=t(8501)()},5415:function(h){h.exports=function y(t,r,l){var i=new Float32Array(3);return i[0]=t,i[1]=r,i[2]=l,i}},2858:function(h,y,t){h.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(h){h.exports=function y(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}},1468:function(h,y,t){h.exports=t(4693)},4693:function(h){h.exports=function y(t){var r=t[0],l=t[1],i=t[2];return Math.sqrt(r*r+l*l+i*i)}},1868:function(h){h.exports=function y(t,r,l,i){var u=r[0],f=r[1],c=r[2];return t[0]=u+i*(l[0]-u),t[1]=f+i*(l[1]-f),t[2]=c+i*(l[2]-c),t}},1716:function(h){h.exports=function y(t,r,l){return t[0]=Math.max(r[0],l[0]),t[1]=Math.max(r[1],l[1]),t[2]=Math.max(r[2],l[2]),t}},3605:function(h){h.exports=function y(t,r,l){return t[0]=Math.min(r[0],l[0]),t[1]=Math.min(r[1],l[1]),t[2]=Math.min(r[2],l[2]),t}},5733:function(h,y,t){h.exports=t(105)},105:function(h){h.exports=function y(t,r,l){return t[0]=r[0]*l[0],t[1]=r[1]*l[1],t[2]=r[2]*l[2],t}},435:function(h){h.exports=function y(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}},899:function(h){h.exports=function y(t,r){var l=r[0],i=r[1],u=r[2],f=l*l+i*i+u*u;return f>0&&(f=1/Math.sqrt(f),t[0]=r[0]*f,t[1]=r[1]*f,t[2]=r[2]*f),t}},6660:function(h){h.exports=function y(t,r){r=r||1;var l=2*Math.random()*Math.PI,i=2*Math.random()-1,u=Math.sqrt(1-i*i)*r;return t[0]=Math.cos(l)*u,t[1]=Math.sin(l)*u,t[2]=i*r,t}},392:function(h){h.exports=function y(t,r,l,i){var u=l[1],f=l[2],c=r[1]-u,m=r[2]-f,a=Math.sin(i),b=Math.cos(i);return t[0]=r[0],t[1]=u+c*b-m*a,t[2]=f+c*a+m*b,t}},3222:function(h){h.exports=function y(t,r,l,i){var u=l[0],f=l[2],c=r[0]-u,m=r[2]-f,a=Math.sin(i),b=Math.cos(i);return t[0]=u+m*a+c*b,t[1]=r[1],t[2]=f+m*b-c*a,t}},3388:function(h){h.exports=function y(t,r,l,i){var u=l[0],f=l[1],c=r[0]-u,m=r[1]-f,a=Math.sin(i),b=Math.cos(i);return t[0]=u+c*b-m*a,t[1]=f+c*a+m*b,t[2]=r[2],t}},1624:function(h){h.exports=function y(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}},5685:function(h){h.exports=function y(t,r,l){return t[0]=r[0]*l,t[1]=r[1]*l,t[2]=r[2]*l,t}},6722:function(h){h.exports=function y(t,r,l,i){return t[0]=r[0]+l[0]*i,t[1]=r[1]+l[1]*i,t[2]=r[2]+l[2]*i,t}},831:function(h){h.exports=function y(t,r,l,i){return t[0]=r,t[1]=l,t[2]=i,t}},5294:function(h,y,t){h.exports=t(6403)},3303:function(h,y,t){h.exports=t(4337)},6403:function(h){h.exports=function y(t,r){var l=r[0]-t[0],i=r[1]-t[1],u=r[2]-t[2];return l*l+i*i+u*u}},4337:function(h){h.exports=function y(t){var r=t[0],l=t[1],i=t[2];return r*r+l*l+i*i}},8921:function(h,y,t){h.exports=t(911)},911:function(h){h.exports=function y(t,r,l){return t[0]=r[0]-l[0],t[1]=r[1]-l[1],t[2]=r[2]-l[2],t}},9908:function(h){h.exports=function y(t,r,l){var i=r[0],u=r[1],f=r[2];return t[0]=i*l[0]+u*l[3]+f*l[6],t[1]=i*l[1]+u*l[4]+f*l[7],t[2]=i*l[2]+u*l[5]+f*l[8],t}},3255:function(h){h.exports=function y(t,r,l){var i=r[0],u=r[1],f=r[2],c=l[3]*i+l[7]*u+l[11]*f+l[15];return t[0]=(l[0]*i+l[4]*u+l[8]*f+l[12])/(c=c||1),t[1]=(l[1]*i+l[5]*u+l[9]*f+l[13])/c,t[2]=(l[2]*i+l[6]*u+l[10]*f+l[14])/c,t}},6568:function(h){h.exports=function y(t,r,l){var i=r[0],u=r[1],f=r[2],c=l[0],m=l[1],a=l[2],b=l[3],p=b*i+m*f-a*u,s=b*u+a*i-c*f,v=b*f+c*u-m*i,A=-c*i-m*u-a*f;return t[0]=p*b+A*-c+s*-a-v*-m,t[1]=s*b+A*-m+v*-c-p*-a,t[2]=v*b+A*-a+p*-m-s*-c,t}},3433:function(h){h.exports=function y(t,r,l){return t[0]=r[0]+l[0],t[1]=r[1]+l[1],t[2]=r[2]+l[2],t[3]=r[3]+l[3],t}},1413:function(h){h.exports=function y(t){var r=new Float32Array(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},3470:function(h){h.exports=function y(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},5313:function(h){h.exports=function y(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},5446:function(h){h.exports=function y(t,r){var l=r[0]-t[0],i=r[1]-t[1],u=r[2]-t[2],f=r[3]-t[3];return Math.sqrt(l*l+i*i+u*u+f*f)}},205:function(h){h.exports=function y(t,r,l){return t[0]=r[0]/l[0],t[1]=r[1]/l[1],t[2]=r[2]/l[2],t[3]=r[3]/l[3],t}},4242:function(h){h.exports=function y(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}},5680:function(h){h.exports=function y(t,r,l,i){var u=new Float32Array(4);return u[0]=t,u[1]=r,u[2]=l,u[3]=i,u}},4020:function(h,y,t){h.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(h){h.exports=function y(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}},8177:function(h){h.exports=function y(t){var r=t[0],l=t[1],i=t[2],u=t[3];return Math.sqrt(r*r+l*l+i*i+u*u)}},8746:function(h){h.exports=function y(t,r,l,i){var u=r[0],f=r[1],c=r[2],m=r[3];return t[0]=u+i*(l[0]-u),t[1]=f+i*(l[1]-f),t[2]=c+i*(l[2]-c),t[3]=m+i*(l[3]-m),t}},3030:function(h){h.exports=function y(t,r,l){return t[0]=Math.max(r[0],l[0]),t[1]=Math.max(r[1],l[1]),t[2]=Math.max(r[2],l[2]),t[3]=Math.max(r[3],l[3]),t}},2170:function(h){h.exports=function y(t,r,l){return t[0]=Math.min(r[0],l[0]),t[1]=Math.min(r[1],l[1]),t[2]=Math.min(r[2],l[2]),t[3]=Math.min(r[3],l[3]),t}},746:function(h){h.exports=function y(t,r,l){return t[0]=r[0]*l[0],t[1]=r[1]*l[1],t[2]=r[2]*l[2],t[3]=r[3]*l[3],t}},6459:function(h){h.exports=function y(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}},381:function(h){h.exports=function y(t,r){var l=r[0],i=r[1],u=r[2],f=r[3],c=l*l+i*i+u*u+f*f;return c>0&&(c=1/Math.sqrt(c),t[0]=l*c,t[1]=i*c,t[2]=u*c,t[3]=f*c),t}},3770:function(h,y,t){var r=t(381),l=t(5510);h.exports=function i(u,f){return f=f||1,u[0]=Math.random(),u[1]=Math.random(),u[2]=Math.random(),u[3]=Math.random(),r(u,u),l(u,u,f),u}},5510:function(h){h.exports=function y(t,r,l){return t[0]=r[0]*l,t[1]=r[1]*l,t[2]=r[2]*l,t[3]=r[3]*l,t}},4224:function(h){h.exports=function y(t,r,l,i){return t[0]=r[0]+l[0]*i,t[1]=r[1]+l[1]*i,t[2]=r[2]+l[2]*i,t[3]=r[3]+l[3]*i,t}},6453:function(h){h.exports=function y(t,r,l,i,u){return t[0]=r,t[1]=l,t[2]=i,t[3]=u,t}},1542:function(h){h.exports=function y(t,r){var l=r[0]-t[0],i=r[1]-t[1],u=r[2]-t[2],f=r[3]-t[3];return l*l+i*i+u*u+f*f}},9037:function(h){h.exports=function y(t){var r=t[0],l=t[1],i=t[2],u=t[3];return r*r+l*l+i*i+u*u}},2705:function(h){h.exports=function y(t,r,l){return t[0]=r[0]-l[0],t[1]=r[1]-l[1],t[2]=r[2]-l[2],t[3]=r[3]-l[3],t}},6342:function(h){h.exports=function y(t,r,l){var i=r[0],u=r[1],f=r[2],c=r[3];return t[0]=l[0]*i+l[4]*u+l[8]*f+l[12]*c,t[1]=l[1]*i+l[5]*u+l[9]*f+l[13]*c,t[2]=l[2]*i+l[6]*u+l[10]*f+l[14]*c,t[3]=l[3]*i+l[7]*u+l[11]*f+l[15]*c,t}},5022:function(h){h.exports=function y(t,r,l){var i=r[0],u=r[1],f=r[2],c=l[0],m=l[1],a=l[2],b=l[3],p=b*i+m*f-a*u,s=b*u+a*i-c*f,v=b*f+c*u-m*i,A=-c*i-m*u-a*f;return t[0]=p*b+A*-c+s*-a-v*-m,t[1]=s*b+A*-m+v*-c-p*-a,t[2]=v*b+A*-a+p*-m-s*-c,t[3]=r[3],t}},9365:function(h,y,t){var r=t(8096),l=t(7896);h.exports=function i(u){for(var f=Array.isArray(u)?u:r(u),c=0;c<f.length;c++){var m=f[c];if("preprocessor"===m.type){var a=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var p=a[2];return(a[1]?l(p):p).trim()}}}}},3193:function(h,y,t){h.exports=function d(I){var z,O,V,L=0,B=0,k=c,F=[],N=[],ne=1,ie=0,ue=0,J=!1,j=!1,W="",K=i,ae=r;"300 es"===(I=I||{}).version&&(K=f,ae=u);var Q={},Z={};for(L=0;L<K.length;L++)Q[K[L]]=!0;for(L=0;L<ae.length;L++)Z[ae[L]]=!0;return function(He){return N=[],null!==He?function q(He){L=0,He.toString&&(He=He.toString()),W+=He.replace(/\r\n/g,"\n"),V=W.length;for(var rt;z=W[L],L<V;){switch(rt=L,k){case a:L=Ie();break;case b:L=Pe();break;case p:L=ye();break;case s:L=Se();break;case v:L=Ge();break;case n:L=Me();break;case A:L=Ye();break;case m:L=De();break;case M:L=we();break;case c:L=de()}rt!==L&&("\n"===W[rt]?(ie=0,++ne):++ie)}return B+=L,W=W.slice(L),N}(He):function se(He){return F.length&&re(F.join("")),k=w,re("(eof)"),N}()};function re(He){He.length&&N.push({type:S[k],data:He,position:ue,line:ne,column:ie})}function de(){return F=F.length?[]:F,"/"===O&&"*"===z?(ue=B+L-1,k=a,O=z,L+1):"/"===O&&"/"===z?(ue=B+L-1,k=b,O=z,L+1):"#"===z?(k=p,ue=B+L,L):/\s/.test(z)?(k=M,ue=B+L,L):(J=/\d/.test(z),j=/[^\w_]/.test(z),ue=B+L,k=J?v:j?s:m,L)}function we(){return/[^\s]/g.test(z)?(re(F.join("")),k=c,L):(F.push(z),O=z,L+1)}function ye(){return"\r"!==z&&"\n"!==z||"\\"===O?(F.push(z),O=z,L+1):(re(F.join("")),k=c,L)}function Pe(){return ye()}function Ie(){return"/"===z&&"*"===O?(F.push(z),re(F.join("")),k=c,L+1):(F.push(z),O=z,L+1)}function Se(){if("."===O&&/\d/.test(z))return k=A,L;if("/"===O&&"*"===z)return k=a,L;if("/"===O&&"/"===z)return k=b,L;if("."===z&&F.length){for(;xe(F););return k=A,L}if(";"===z||")"===z||"("===z){if(F.length)for(;xe(F););return re(z),k=c,L+1}var He=2===F.length&&"="!==z;if(/[\w_\d\s]/.test(z)||He){for(;xe(F););return k=c,L}return F.push(z),O=z,L+1}function xe(He){for(var $e,Be,rt=0;;){if($e=l.indexOf(He.slice(0,He.length+rt).join("")),Be=l[$e],-1===$e){if(rt--+He.length>0)continue;Be=He.slice(0,1).join("")}return re(Be),ue+=Be.length,(F=F.slice(Be.length)).length}}function Me(){return/[^a-fA-F0-9]/.test(z)?(re(F.join("")),k=c,L):(F.push(z),O=z,L+1)}function Ge(){return"."===z||/[eE]/.test(z)?(F.push(z),k=A,O=z,L+1):"x"===z&&1===F.length&&"0"===F[0]?(k=n,F.push(z),O=z,L+1):/[^\d]/.test(z)?(re(F.join("")),k=c,L):(F.push(z),O=z,L+1)}function Ye(){return"f"===z&&(F.push(z),O=z,L+=1),/[eE]/.test(z)||("-"===z||"+"===z)&&/[eE]/.test(O)?(F.push(z),O=z,L+1):/[^\d]/.test(z)?(re(F.join("")),k=c,L):(F.push(z),O=z,L+1)}function De(){if(/[^\d\w_]/.test(z)){var He=F.join("");return k=Z[He]?g:Q[He]?E:x,re(F.join("")),k=c,L}return F.push(z),O=z,L+1}};var r=t(399),l=t(9746),i=t(9525),u=t(9458),f=t(3585),c=999,m=9999,a=0,b=1,p=2,s=3,v=4,A=5,x=6,E=7,g=8,M=9,w=10,n=11,S=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(h,y,t){var r=t(9525);r=r.slice().filter(function(l){return!/^(gl\_|texture)/.test(l)}),h.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(h){h.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(h,y,t){var r=t(399);h.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(h){h.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(h){h.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(h,y,t){var r=t(3193);h.exports=function l(i,u){var f=r(u),c=[];return(c=c.concat(f(i))).concat(f(null))}},6832:function(h){h.exports=function(y){"string"==typeof y&&(y=[y]);for(var t=[].slice.call(arguments,1),r=[],l=0;l<y.length-1;l++)r.push(y[l],t[l]||"");return r.push(y[l]),r.join("")}},5233:function(h,y,t){"use strict";var r=t(4846);h.exports=r&&function l(){var i=!1;try{var u=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{i=!1}return i}()},2183:function(h,y,t){"use strict";h.exports=function s(v,A){var x=v.length;if(0===x)throw new Error("Must have at least d+1 points");var E=v[0].length;if(x<=E)throw new Error("Must input at least d+1 points");var g=v.slice(0,E+1),M=r.apply(void 0,g);if(0===M)throw new Error("Input not in general position");for(var w=new Array(E+1),n=0;n<=E;++n)w[n]=n;M<0&&(w[0]=1,w[1]=0);var S=new i(w,new Array(E+1),!1),d=S.adjacent,I=new Array(E+2);for(n=0;n<=E;++n){for(var L=w.slice(),B=0;B<=E;++B)B===n&&(L[B]=-1);var k=L[0];L[0]=L[1],L[1]=k;var z=new i(L,new Array(E+1),!0);d[n]=z,I[n]=z}for(I[E+1]=S,n=0;n<=E;++n){L=d[n].vertices;var O=d[n].adjacent;for(B=0;B<=E;++B){var F=L[B];if(F<0)O[B]=S;else for(var N=0;N<=E;++N)d[N].vertices.indexOf(F)<0&&(O[B]=d[N])}}var H=new b(E,g,I),X=!!A;for(n=E+1;n<x;++n)H.insert(v[n],X);return H.boundary()};var r=t(417),l=t(8211).H;function i(v,A,x){this.vertices=v,this.adjacent=A,this.boundary=x,this.lastVisited=-1}function u(v,A,x){this.vertices=v,this.cell=A,this.index=x}function f(v,A){return l(v.vertices,A.vertices)}i.prototype.flip=function(){var v=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=v;var A=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=A};var a=[];function b(v,A,x){this.dimension=v,this.vertices=A,this.simplices=x,this.interior=x.filter(function(M){return!M.boundary}),this.tuple=new Array(v+1);for(var E=0;E<=v;++E)this.tuple[E]=this.vertices[E];var g=a[v];g||(g=a[v]=function m(v){var A=r[v+1];return A||(A=r),function c(v){return function(){return v.apply(this,this.tuple)}}(A)}(v)),this.orient=g}var p=b.prototype;p.handleBoundaryDegeneracy=function(v,A){var x=this.dimension,E=this.vertices.length-1,g=this.tuple,M=this.vertices,w=[v];for(v.lastVisited=-E;w.length>0;)for(var n=(v=w.pop()).adjacent,S=0;S<=x;++S){var d=n[S];if(d.boundary&&!(d.lastVisited<=-E)){for(var I=d.vertices,L=0;L<=x;++L){var B=I[L];g[L]=B<0?A:M[B]}var k=this.orient();if(k>0)return d;d.lastVisited=-E,0===k&&w.push(d)}}return null},p.walk=function(v,A){var x=this.vertices.length-1,E=this.dimension,g=this.vertices,M=this.tuple,w=A?this.interior.length*Math.random()|0:this.interior.length-1,n=this.interior[w];e:for(;!n.boundary;){for(var S=n.vertices,d=n.adjacent,I=0;I<=E;++I)M[I]=g[S[I]];for(n.lastVisited=x,I=0;I<=E;++I){var L=d[I];if(!(L.lastVisited>=x)){var B=M[I];M[I]=v;var k=this.orient();if(M[I]=B,k<0){n=L;continue e}L.lastVisited=L.boundary?-x:x}}return}return n},p.addPeaks=function(v,A){var x=this.vertices.length-1,E=this.dimension,g=this.vertices,M=this.tuple,w=this.interior,n=this.simplices,S=[A];A.lastVisited=x,A.vertices[A.vertices.indexOf(-1)]=x,A.boundary=!1,w.push(A);for(var d=[];S.length>0;){var I=(A=S.pop()).vertices,L=A.adjacent,B=I.indexOf(x);if(!(B<0))for(var k=0;k<=E;++k)if(k!==B){var z=L[k];if(z.boundary&&!(z.lastVisited>=x)){var O=z.vertices;if(z.lastVisited!==-x){for(var F=0,N=0;N<=E;++N)O[N]<0?(F=N,M[N]=v):M[N]=g[O[N]];if(this.orient()>0){O[F]=x,z.boundary=!1,w.push(z),S.push(z),z.lastVisited=x;continue}z.lastVisited=-x}var X=z.adjacent,ne=I.slice(),ie=L.slice(),ue=new i(ne,ie,!0);n.push(ue);var J=X.indexOf(A);if(!(J<0))for(X[J]=ue,ie[B]=z,ne[k]=-1,ie[k]=A,L[k]=ue,ue.flip(),N=0;N<=E;++N){var j=ne[N];if(!(j<0||j===x)){for(var W=new Array(E-1),V=0,K=0;K<=E;++K){var ae=ne[K];ae<0||K===N||(W[V++]=ae)}d.push(new u(W,ue,N))}}}}}for(d.sort(f),k=0;k+1<d.length;k+=2){var Q=d[k],Z=d[k+1];Q.index<0||Z.index<0||(Q.cell.adjacent[Q.index]=Z.cell,Z.cell.adjacent[Z.index]=Q.cell)}},p.insert=function(v,A){var x=this.vertices;x.push(v);var E=this.walk(v,A);if(E){for(var g=this.dimension,M=this.tuple,w=0;w<=g;++w){var n=E.vertices[w];M[w]=n<0?v:x[n]}var S=this.orient(M);S<0||0===S&&!(E=this.handleBoundaryDegeneracy(E,v))||this.addPeaks(v,E)}},p.boundary=function(){for(var v=this.dimension,A=[],x=this.simplices,E=x.length,g=0;g<E;++g){var M=x[g];if(M.boundary){for(var w=new Array(v),n=M.vertices,S=0,d=0,I=0;I<=v;++I)n[I]>=0?w[S++]=n[I]:d=1&I;if(d===(1&v)){var L=w[0];w[0]=w[1],w[1]=L}A.push(w)}}return A}},9014:function(h,y,t){"use strict";var r=t(5070);function f(d,I,L,B,k){this.mid=d,this.left=I,this.right=L,this.leftPoints=B,this.rightPoints=k,this.count=(I?I.count:0)+(L?L.count:0)+B.length}h.exports=function S(d){return new w(d&&0!==d.length?M(d):null)};var c=f.prototype;function m(d,I){d.mid=I.mid,d.left=I.left,d.right=I.right,d.leftPoints=I.leftPoints,d.rightPoints=I.rightPoints,d.count=I.count}function a(d,I){var L=M(I);d.mid=L.mid,d.left=L.left,d.right=L.right,d.leftPoints=L.leftPoints,d.rightPoints=L.rightPoints,d.count=L.count}function b(d,I){var L=d.intervals([]);L.push(I),a(d,L)}function p(d,I){var L=d.intervals([]),B=L.indexOf(I);return B<0?0:(L.splice(B,1),a(d,L),1)}function s(d,I,L){for(var B=0;B<d.length&&d[B][0]<=I;++B){var k=L(d[B]);if(k)return k}}function v(d,I,L){for(var B=d.length-1;B>=0&&d[B][1]>=I;--B){var k=L(d[B]);if(k)return k}}function A(d,I){for(var L=0;L<d.length;++L){var B=I(d[L]);if(B)return B}}function x(d,I){return d-I}function E(d,I){return d[0]-I[0]||d[1]-I[1]}function g(d,I){return d[1]-I[1]||d[0]-I[0]}function M(d){if(0===d.length)return null;for(var I=[],L=0;L<d.length;++L)I.push(d[L][0],d[L][1]);I.sort(x);var B=I[I.length>>1],k=[],z=[],O=[];for(L=0;L<d.length;++L){var F=d[L];F[1]<B?k.push(F):B<F[0]?z.push(F):O.push(F)}var N=O,H=O.slice();return N.sort(E),H.sort(g),new f(B,M(k),M(z),N,H)}function w(d){this.root=d}c.intervals=function(d){return d.push.apply(d,this.leftPoints),this.left&&this.left.intervals(d),this.right&&this.right.intervals(d),d},c.insert=function(d){var I=this.count-this.leftPoints.length;if(this.count+=1,d[1]<this.mid)this.left?4*(this.left.count+1)>3*(I+1)?b(this,d):this.left.insert(d):this.left=M([d]);else if(d[0]>this.mid)this.right?4*(this.right.count+1)>3*(I+1)?b(this,d):this.right.insert(d):this.right=M([d]);else{var L=r.ge(this.leftPoints,d,E),B=r.ge(this.rightPoints,d,g);this.leftPoints.splice(L,0,d),this.rightPoints.splice(B,0,d)}},c.remove=function(d){var I=this.count-this.leftPoints;if(d[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(I-1)?p(this,d):2===(B=this.left.remove(d))?(this.left=null,this.count-=1,1):(1===B&&(this.count-=1),B):0;if(d[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(I-1)?p(this,d):2===(B=this.right.remove(d))?(this.right=null,this.count-=1,1):(1===B&&(this.count-=1),B):0;if(1===this.count)return this.leftPoints[0]===d?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===d){if(this.left&&this.right){for(var z=this,O=this.left;O.right;)z=O,O=O.right;if(z===this)O.right=this.right;else{var F=this.left,B=this.right;z.count-=O.count,z.right=O.left,O.left=F,O.right=B}m(this,O),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else m(this,this.left?this.left:this.right);return 1}for(F=r.ge(this.leftPoints,d,E);F<this.leftPoints.length&&this.leftPoints[F][0]===d[0];++F)if(this.leftPoints[F]===d)for(this.count-=1,this.leftPoints.splice(F,1),B=r.ge(this.rightPoints,d,g);B<this.rightPoints.length&&this.rightPoints[B][1]===d[1];++B)if(this.rightPoints[B]===d)return this.rightPoints.splice(B,1),1;return 0},c.queryPoint=function(d,I){return d<this.mid?this.left&&(L=this.left.queryPoint(d,I))?L:s(this.leftPoints,d,I):d>this.mid?this.right&&(L=this.right.queryPoint(d,I))?L:v(this.rightPoints,d,I):A(this.leftPoints,I);var L},c.queryInterval=function(d,I,L){var B;return d<this.mid&&this.left&&(B=this.left.queryInterval(d,I,L))||I>this.mid&&this.right&&(B=this.right.queryInterval(d,I,L))?B:I<this.mid?s(this.leftPoints,I,L):d>this.mid?v(this.rightPoints,d,L):A(this.leftPoints,L)};var n=w.prototype;n.insert=function(d){this.root?this.root.insert(d):this.root=new f(d[0],null,null,[d],[d])},n.remove=function(d){if(this.root){var I=this.root.remove(d);return 2===I&&(this.root=null),0!==I}return!1},n.queryPoint=function(d,I){if(this.root)return this.root.queryPoint(d,I)},n.queryInterval=function(d,I,L){if(d<=I&&this.root)return this.root.queryInterval(d,I,L)},Object.defineProperty(n,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(n,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(h){"use strict";h.exports=function y(t){for(var r=new Array(t),l=0;l<t;++l)r[l]=l;return r}},4846:function(h){h.exports=!0},4780:function(h){function y(r){return!!r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}h.exports=function(r){return null!=r&&(y(r)||function t(r){return"function"==typeof r.readFloatLE&&"function"==typeof r.slice&&y(r.slice(0,0))}(r)||!!r._isBuffer)}},3596:function(h){"use strict";h.exports=function(y){for(var r,t=y.length,l=0;l<t;l++)if(((r=y.charCodeAt(l))<9||r>13)&&32!==r&&133!==r&&160!==r&&5760!==r&&6158!==r&&(r<8192||r>8205)&&8232!==r&&8233!==r&&8239!==r&&8287!==r&&8288!==r&&12288!==r&&65279!==r)return!1;return!0}},3578:function(h){h.exports=function y(t,r,l){return t*(1-l)+r*l}},7191:function(h,y,t){var r=t(4690),l=t(9823),i=t(7332),u=t(7787),f=t(7437),c=t(2142),m={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},a=l(),b=l(),p=[0,0,0,0],s=[[0,0,0],[0,0,0],[0,0,0]],v=[0,0,0];function E(g,M,w,n,S){g[0]=M[0]*n+w[0]*S,g[1]=M[1]*n+w[1]*S,g[2]=M[2]*n+w[2]*S}h.exports=function(M,w,n,S,d,I){if(w||(w=[0,0,0]),n||(n=[0,0,0]),S||(S=[0,0,0]),d||(d=[0,0,0,1]),I||(I=[0,0,0,1]),!r(a,M)||(i(b,a),b[3]=0,b[7]=0,b[11]=0,b[15]=1,Math.abs(u(b)<1e-8)))return!1;var L=a[3],B=a[7],k=a[11],z=a[12],O=a[13],F=a[14],N=a[15];if(0!==L||0!==B||0!==k){if(p[0]=L,p[1]=B,p[2]=k,p[3]=N,!f(b,b))return!1;c(b,b),function A(g,M,w){var n=M[0],S=M[1],d=M[2],I=M[3];return g[0]=w[0]*n+w[4]*S+w[8]*d+w[12]*I,g[1]=w[1]*n+w[5]*S+w[9]*d+w[13]*I,g[2]=w[2]*n+w[6]*S+w[10]*d+w[14]*I,g[3]=w[3]*n+w[7]*S+w[11]*d+w[15]*I,g}(d,p,b)}else d[0]=d[1]=d[2]=0,d[3]=1;if(w[0]=z,w[1]=O,w[2]=F,function x(g,M){g[0][0]=M[0],g[0][1]=M[1],g[0][2]=M[2],g[1][0]=M[4],g[1][1]=M[5],g[1][2]=M[6],g[2][0]=M[8],g[2][1]=M[9],g[2][2]=M[10]}(s,a),n[0]=m.length(s[0]),m.normalize(s[0],s[0]),S[0]=m.dot(s[0],s[1]),E(s[1],s[1],s[0],1,-S[0]),n[1]=m.length(s[1]),m.normalize(s[1],s[1]),S[0]/=n[1],S[1]=m.dot(s[0],s[2]),E(s[2],s[2],s[0],1,-S[1]),S[2]=m.dot(s[1],s[2]),E(s[2],s[2],s[1],1,-S[2]),n[2]=m.length(s[2]),m.normalize(s[2],s[2]),S[1]/=n[2],S[2]/=n[2],m.cross(v,s[1],s[2]),m.dot(s[0],v)<0)for(var X=0;X<3;X++)n[X]*=-1,s[X][0]*=-1,s[X][1]*=-1,s[X][2]*=-1;return I[0]=.5*Math.sqrt(Math.max(1+s[0][0]-s[1][1]-s[2][2],0)),I[1]=.5*Math.sqrt(Math.max(1-s[0][0]+s[1][1]-s[2][2],0)),I[2]=.5*Math.sqrt(Math.max(1-s[0][0]-s[1][1]+s[2][2],0)),I[3]=.5*Math.sqrt(Math.max(1+s[0][0]+s[1][1]+s[2][2],0)),s[2][1]>s[1][2]&&(I[0]=-I[0]),s[0][2]>s[2][0]&&(I[1]=-I[1]),s[1][0]>s[0][1]&&(I[2]=-I[2]),!0}},4690:function(h){h.exports=function(t,r){var l=r[15];if(0===l)return!1;for(var i=1/l,u=0;u<16;u++)t[u]=r[u]*i;return!0}},7649:function(h,y,t){var r=t(1868),l=t(1102),i=t(7191),u=t(7787),f=t(1116),c=p(),m=p(),a=p();function p(){return{translate:s(),scale:s(1),skew:s(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function s(A){return[A||0,A||0,A||0]}h.exports=function b(A,x,E,g){if(0===u(x)||0===u(E))return!1;var M=i(x,c.translate,c.scale,c.skew,c.perspective,c.quaternion),w=i(E,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!(!M||!w||(r(a.translate,c.translate,m.translate,g),r(a.skew,c.skew,m.skew,g),r(a.scale,c.scale,m.scale,g),r(a.perspective,c.perspective,m.perspective,g),f(a.quaternion,c.quaternion,m.quaternion,g),l(A,a.translate,a.scale,a.skew,a.perspective,a.quaternion),0))}},1102:function(h,y,t){var r={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)},i=(r.create(),r.create());h.exports=function(f,c,m,a,b,p){return r.identity(f),r.fromRotationTranslation(f,p,c),f[3]=b[0],f[7]=b[1],f[11]=b[2],f[15]=b[3],r.identity(i),0!==a[2]&&(i[9]=a[2],r.multiply(f,f,i)),0!==a[1]&&(i[9]=0,i[8]=a[1],r.multiply(f,f,i)),0!==a[0]&&(i[8]=0,i[4]=a[0],r.multiply(f,f,i)),r.scale(f,f,m),f}},9298:function(h,y,t){"use strict";var r=t(5070),l=t(7649),i=t(7437),u=t(6109),f=t(7115),c=t(5240),m=t(3012),a=t(998),p=(t(3668),t(899)),s=[0,0,0];function v(g){this._components=g.slice(),this._time=[0],this.prevMatrix=g.slice(),this.nextMatrix=g.slice(),this.computedMatrix=g.slice(),this.computedInverse=g.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}h.exports=function E(g){return new v((g=g||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var A=v.prototype;A.recalcMatrix=function(g){var M=this._time,w=r.le(M,g),n=this.computedMatrix;if(!(w<0)){var S=this._components;if(w===M.length-1)for(var d=16*w,I=0;I<16;++I)n[I]=S[d++];else{var L=M[w+1]-M[w],B=(d=16*w,this.prevMatrix),k=!0;for(I=0;I<16;++I)B[I]=S[d++];var z=this.nextMatrix;for(I=0;I<16;++I)z[I]=S[d++],k=k&&B[I]===z[I];if(L<1e-6||k)for(I=0;I<16;++I)n[I]=B[I];else l(n,B,z,(g-M[w])/L)}var O=this.computedUp;O[0]=n[1],O[1]=n[5],O[2]=n[9],p(O,O);var F=this.computedInverse;i(F,n);var N=this.computedEye,H=F[15];N[0]=F[12]/H,N[1]=F[13]/H,N[2]=F[14]/H;var X=this.computedCenter,ne=Math.exp(this.computedRadius[0]);for(I=0;I<3;++I)X[I]=N[I]-n[2+4*I]*ne}},A.idle=function(g){if(!(g<this.lastT())){for(var M=this._components,w=M.length-16,n=0;n<16;++n)M.push(M[w++]);this._time.push(g)}},A.flush=function(g){var M=r.gt(this._time,g)-2;M<0||(this._time.splice(0,M),this._components.splice(0,16*M))},A.lastT=function(){return this._time[this._time.length-1]},A.lookAt=function(g,M,w,n){this.recalcMatrix(g),this.setMatrix(g,m(this.computedMatrix,M=M||this.computedEye,w=w||s,n=n||this.computedUp));for(var S=0,d=0;d<3;++d)S+=Math.pow(w[d]-M[d],2);S=Math.log(Math.sqrt(S)),this.computedRadius[0]=S},A.rotate=function(g,M,w,n){this.recalcMatrix(g);var S=this.computedInverse;M&&f(S,S,M),w&&u(S,S,w),n&&c(S,S,n),this.setMatrix(g,i(this.computedMatrix,S))};var x=[0,0,0];A.pan=function(g,M,w,n){x[0]=-(M||0),x[1]=-(w||0),x[2]=-(n||0),this.recalcMatrix(g);var S=this.computedInverse;a(S,S,x),this.setMatrix(g,i(S,S))},A.translate=function(g,M,w,n){x[0]=M||0,x[1]=w||0,x[2]=n||0,this.recalcMatrix(g);var S=this.computedMatrix;a(S,S,x),this.setMatrix(g,S)},A.setMatrix=function(g,M){if(!(g<this.lastT())){this._time.push(g);for(var w=0;w<16;++w)this._components.push(M[w])}},A.setDistance=function(g,M){this.computedRadius[0]=M},A.setDistanceLimits=function(g,M){var w=this._limits;w[0]=g,w[1]=M},A.getDistanceLimits=function(g){var M=this._limits;return g?(g[0]=M[0],g[1]=M[1],g):M}},3266:function(h,y,t){"use strict";h.exports=function l(i){var u=i.length;if(u<3){for(var v=new Array(u),f=0;f<u;++f)v[f]=f;return 2===u&&i[0][0]===i[1][0]&&i[0][1]===i[1][1]?[0]:v}var c=new Array(u);for(f=0;f<u;++f)c[f]=f;c.sort(function(g,M){return i[g][0]-i[M][0]||i[g][1]-i[M][1]});var m=[c[0],c[1]],a=[c[0],c[1]];for(f=2;f<u;++f){for(var b=c[f],p=i[b],s=m.length;s>1&&r(i[m[s-2]],i[m[s-1]],p)<=0;)s-=1,m.pop();for(m.push(b),s=a.length;s>1&&r(i[a[s-2]],i[a[s-1]],p)>=0;)s-=1,a.pop();a.push(b)}v=new Array(a.length+m.length-2);for(var A=0,x=(f=0,m.length);f<x;++f)v[A++]=m[f];for(var E=a.length-2;E>0;--E)v[A++]=a[E];return v};var r=t(417)[3]},6145:function(h,y,t){"use strict";h.exports=function l(i,u){u||(u=i,i=window);var f=0,c=0,m=0,a={shift:!1,alt:!1,control:!1,meta:!1},b=!1;function p(d){var I=!1;return"altKey"in d&&(I=I||d.altKey!==a.alt,a.alt=!!d.altKey),"shiftKey"in d&&(I=I||d.shiftKey!==a.shift,a.shift=!!d.shiftKey),"ctrlKey"in d&&(I=I||d.ctrlKey!==a.control,a.control=!!d.ctrlKey),"metaKey"in d&&(I=I||d.metaKey!==a.meta,a.meta=!!d.metaKey),I}function s(d,I){var L=r.x(I),B=r.y(I);"buttons"in I&&(d=0|I.buttons),(d!==f||L!==c||B!==m||p(I))&&(f=0|d,c=L||0,m=B||0,u&&u(f,c,m,a))}function v(d){s(0,d)}function A(){(f||c||m||a.shift||a.alt||a.meta||a.control)&&(c=m=0,f=0,a.shift=a.alt=a.control=a.meta=!1,u&&u(0,0,0,a))}function x(d){p(d)&&u&&u(f,c,m,a)}function E(d){0===r.buttons(d)?s(0,d):s(f,d)}function g(d){s(f|r.buttons(d),d)}function M(d){s(f&~r.buttons(d),d)}function w(){b||(b=!0,i.addEventListener("mousemove",E),i.addEventListener("mousedown",g),i.addEventListener("mouseup",M),i.addEventListener("mouseleave",v),i.addEventListener("mouseenter",v),i.addEventListener("mouseout",v),i.addEventListener("mouseover",v),i.addEventListener("blur",A),i.addEventListener("keyup",x),i.addEventListener("keydown",x),i.addEventListener("keypress",x),i!==window&&(window.addEventListener("blur",A),window.addEventListener("keyup",x),window.addEventListener("keydown",x),window.addEventListener("keypress",x)))}w();var S={element:i};return Object.defineProperties(S,{enabled:{get:function(){return b},set:function(d){d?w():function n(){b&&(b=!1,i.removeEventListener("mousemove",E),i.removeEventListener("mousedown",g),i.removeEventListener("mouseup",M),i.removeEventListener("mouseleave",v),i.removeEventListener("mouseenter",v),i.removeEventListener("mouseout",v),i.removeEventListener("mouseover",v),i.removeEventListener("blur",A),i.removeEventListener("keyup",x),i.removeEventListener("keydown",x),i.removeEventListener("keypress",x),i!==window&&(window.removeEventListener("blur",A),window.removeEventListener("keyup",x),window.removeEventListener("keydown",x),window.removeEventListener("keypress",x)))}()},enumerable:!0},buttons:{get:function(){return f},enumerable:!0},x:{get:function(){return c},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return a},enumerable:!0}}),S};var r=t(4110)},2565:function(h){var y={left:0,top:0};h.exports=function t(l,i,u){i=i||l.currentTarget||l.srcElement,Array.isArray(u)||(u=[0,0]);var f=l.clientX||0,c=l.clientY||0,m=function r(l){return l===window||l===document||l===document.body?y:l.getBoundingClientRect()}(i);return u[0]=f-m.left,u[1]=c-m.top,u}},4110:function(h,y){"use strict";function r(u){return u.target||u.srcElement||window}y.buttons=function t(u){if("object"==typeof u){if("buttons"in u)return u.buttons;if("which"in u){if(2===(f=u.which))return 4;if(3===f)return 2;if(f>0)return 1<<f-1}else if("button"in u){var f;if(1===(f=u.button))return 4;if(2===f)return 2;if(f>=0)return 1<<f}}return 0},y.element=r,y.x=function l(u){if("object"==typeof u){if("offsetX"in u)return u.offsetX;var c=r(u).getBoundingClientRect();return u.clientX-c.left}return 0},y.y=function i(u){if("object"==typeof u){if("offsetY"in u)return u.offsetY;var c=r(u).getBoundingClientRect();return u.clientY-c.top}return 0}},6475:function(h,y,t){"use strict";var r=t(14);h.exports=function l(i,u,f){"function"==typeof i&&(f=!!u,u=i,i=window);var c=r("ex",i),m=function(a){f&&a.preventDefault();var b=a.deltaX||0,p=a.deltaY||0,s=a.deltaZ||0,A=1;switch(a.deltaMode){case 1:A=c;break;case 2:A=window.innerHeight}if(p*=A,s*=A,(b*=A)||p||s)return u(b,p,s,a)};return i.addEventListener("wheel",m),m}},9284:function(h,y,t){"use strict";var r=t(5306);h.exports=function u(f){function c(A){throw new Error("ndarray-extract-contour: "+A)}"object"!=typeof f&&c("Must specify arguments");var m=f.order;Array.isArray(m)||c("Must specify order");var a=f.arrayArguments||1;a<1&&c("Must have at least one array argument");var b=f.scalarArguments||0;b<0&&c("Scalar arg count must be > 0"),"function"!=typeof f.vertex&&c("Must specify vertex creation function"),"function"!=typeof f.cell&&c("Must specify cell creation function"),"function"!=typeof f.phase&&c("Must specify phase function");for(var p=f.getters||[],s=new Array(a),v=0;v<a;++v)s[v]=p.indexOf(v)>=0;return function i(f,c,m,a,b,p){var s=[p,b].join(",");return(0,l[s])(f,c,m,r.mallocUint32,r.freeUint32)}(f.vertex,f.cell,f.phase,0,m,s)};var l={"false,0,1":function(c,m,a,b,p){return function(v,A,x,E){var L,g=0|v.shape[0],M=0|v.shape[1],w=v.data,S=0|v.stride[0],d=0|v.stride[1],I=0|v.offset,B=0|-S,k=0,z=0|-d,O=0,F=-S-d|0,N=0,H=0|S,X=d-S*g|0,ne=0,ie=0,ue=0,J=2*g|0,j=b(J),W=b(J),V=0,K=0,ae=-1,Q=-1,Z=0,re=0|-g,q=0|g,se=0,de=-g-1|0,we=g-1|0,ye=0,Pe=0,Ie=0;for(ne=0;ne<g;++ne)j[V++]=a(w[I],A,x,E),I+=H;if(I+=X,M>0){if(ie=1,j[V++]=a(w[I],A,x,E),I+=H,g>0)for(ne=1,K=j[V]=a(L=w[I],A,x,E),se=j[V+re],ye=j[V+de],(K!==(Z=j[V+ae])||K!==se||K!==ye)&&(c(ne,ie,L,k=w[I+B],O=w[I+z],N=w[I+F],K,Z,se,ye,A,x,E),Pe=W[V]=ue++),V+=1,I+=H,ne=2;ne<g;++ne)K=j[V]=a(L=w[I],A,x,E),se=j[V+re],ye=j[V+de],(K!==(Z=j[V+ae])||K!==se||K!==ye)&&(c(ne,ie,L,k=w[I+B],O=w[I+z],N=w[I+F],K,Z,se,ye,A,x,E),Pe=W[V]=ue++,ye!==Z&&m(W[V+ae],Pe,N,k,ye,Z,A,x,E)),V+=1,I+=H;for(I+=X,V=0,Ie=ae,ae=Q,Q=Ie,Ie=re,re=q,q=Ie,Ie=de,de=we,we=Ie,ie=2;ie<M;++ie){if(j[V++]=a(w[I],A,x,E),I+=H,g>0)for(ne=1,K=j[V]=a(L=w[I],A,x,E),se=j[V+re],ye=j[V+de],(K!==(Z=j[V+ae])||K!==se||K!==ye)&&(c(ne,ie,L,k=w[I+B],O=w[I+z],N=w[I+F],K,Z,se,ye,A,x,E),Pe=W[V]=ue++,ye!==se&&m(W[V+re],Pe,O,N,se,ye,A,x,E)),V+=1,I+=H,ne=2;ne<g;++ne)K=j[V]=a(L=w[I],A,x,E),se=j[V+re],ye=j[V+de],(K!==(Z=j[V+ae])||K!==se||K!==ye)&&(c(ne,ie,L,k=w[I+B],O=w[I+z],N=w[I+F],K,Z,se,ye,A,x,E),Pe=W[V]=ue++,ye!==se&&m(W[V+re],Pe,O,N,se,ye,A,x,E),ye!==Z&&m(W[V+ae],Pe,N,k,ye,Z,A,x,E)),V+=1,I+=H;1&ie&&(V=0),Ie=ae,ae=Q,Q=Ie,Ie=re,re=q,q=Ie,Ie=de,de=we,we=Ie,I+=X}}p(W),p(j)}},"false,1,0":function(c,m,a,b,p){return function(v,A,x,E){var L,g=0|v.shape[0],M=0|v.shape[1],w=v.data,S=0|v.stride[0],d=0|v.stride[1],I=0|v.offset,B=0|-S,k=0,z=0|-d,O=0,F=-S-d|0,N=0,H=0|d,X=S-d*M|0,ne=0,ie=0,ue=0,J=2*M|0,j=b(J),W=b(J),V=0,K=0,ae=-1,Q=-1,Z=0,re=0|-M,q=0|M,se=0,de=-M-1|0,we=M-1|0,ye=0,Pe=0,Ie=0;for(ie=0;ie<M;++ie)j[V++]=a(w[I],A,x,E),I+=H;if(I+=X,g>0){if(ne=1,j[V++]=a(w[I],A,x,E),I+=H,M>0)for(ie=1,K=j[V]=a(L=w[I],A,x,E),Z=j[V+ae],ye=j[V+de],(K!==(se=j[V+re])||K!==Z||K!==ye)&&(c(ne,ie,L,k=w[I+B],O=w[I+z],N=w[I+F],K,se,Z,ye,A,x,E),Pe=W[V]=ue++),V+=1,I+=H,ie=2;ie<M;++ie)K=j[V]=a(L=w[I],A,x,E),Z=j[V+ae],ye=j[V+de],(K!==(se=j[V+re])||K!==Z||K!==ye)&&(c(ne,ie,L,k=w[I+B],O=w[I+z],N=w[I+F],K,se,Z,ye,A,x,E),Pe=W[V]=ue++,ye!==Z&&m(W[V+ae],Pe,O,N,Z,ye,A,x,E)),V+=1,I+=H;for(I+=X,V=0,Ie=re,re=q,q=Ie,Ie=ae,ae=Q,Q=Ie,Ie=de,de=we,we=Ie,ne=2;ne<g;++ne){if(j[V++]=a(w[I],A,x,E),I+=H,M>0)for(ie=1,K=j[V]=a(L=w[I],A,x,E),Z=j[V+ae],ye=j[V+de],(K!==(se=j[V+re])||K!==Z||K!==ye)&&(c(ne,ie,L,k=w[I+B],O=w[I+z],N=w[I+F],K,se,Z,ye,A,x,E),Pe=W[V]=ue++,ye!==se&&m(W[V+re],Pe,N,k,ye,se,A,x,E)),V+=1,I+=H,ie=2;ie<M;++ie)K=j[V]=a(L=w[I],A,x,E),Z=j[V+ae],ye=j[V+de],(K!==(se=j[V+re])||K!==Z||K!==ye)&&(c(ne,ie,L,k=w[I+B],O=w[I+z],N=w[I+F],K,se,Z,ye,A,x,E),Pe=W[V]=ue++,ye!==Z&&m(W[V+ae],Pe,O,N,Z,ye,A,x,E),ye!==se&&m(W[V+re],Pe,N,k,ye,se,A,x,E)),V+=1,I+=H;1&ne&&(V=0),Ie=re,re=q,q=Ie,Ie=ae,ae=Q,Q=Ie,Ie=de,de=we,we=Ie,I+=X}}p(W),p(j)}}}},9144:function(h,y,t){"use strict";var r=t(3094),l={zero:function(E,g,M,w){var n=E[0];w|=0;var d=0,I=M[0];for(d=0;d<n;++d)g[w]=0,w+=I},fdTemplate1:function(E,g,M,w,n,S,d){var I=E[0],L=M[0],k=-1*L,z=L;w|=0,d|=0;var O=0,F=L,N=S[0];for(O=0;O<I;++O)n[d]=.5*(g[w+k]-g[w+z]),w+=F,d+=N},fdTemplate2:function(E,g,M,w,n,S,d,I,L,B){var k=E[0],z=E[1],O=M[0],F=M[1],H=S[1],ne=L[1],ie=-1*O,ue=O,J=-1*F,j=F;w|=0,d|=0,B|=0;var W=0,V=0,K=F,ae=O-z*F,Q=H,Z=S[0]-z*H,re=ne,q=L[0]-z*ne;for(V=0;V<k;++V){for(W=0;W<z;++W)n[d]=.5*(g[w+ie]-g[w+ue]),I[B]=.5*(g[w+J]-g[w+j]),w+=K,d+=Q,B+=re;w+=ae,d+=Z,B+=q}}},i={cdiff:function(E){var g={};return function(w,n,S){var d=w.dtype,I=w.order,L=n.dtype,B=n.order,k=S.dtype,z=S.order,O=[d,I.join(),L,B.join(),k,z.join()].join(),F=g[O];return F||(g[O]=F=E([d,I,L,B,k,z])),F(w.shape.slice(0),w.data,w.stride,0|w.offset,n.data,n.stride,0|n.offset,S.data,S.stride,0|S.offset)}},zero:function(E){var g={};return function(w){var n=w.dtype,S=w.order,d=[n,S.join()].join(),I=g[d];return I||(g[d]=I=E([n,S])),I(w.shape.slice(0),w.data,w.stride,0|w.offset)}},fdTemplate1:function(E){var g={};return function(w,n){var S=w.dtype,d=w.order,I=n.dtype,L=n.order,B=[S,d.join(),I,L.join()].join(),k=g[B];return k||(g[B]=k=E([S,d,I,L])),k(w.shape.slice(0),w.data,w.stride,0|w.offset,n.data,n.stride,0|n.offset)}},fdTemplate2:function(E){var g={};return function(w,n,S){var d=w.dtype,I=w.order,L=n.dtype,B=n.order,k=S.dtype,z=S.order,O=[d,I.join(),L,B.join(),k,z.join()].join(),F=g[O];return F||(g[O]=F=E([d,I,L,B,k,z])),F(w.shape.slice(0),w.data,w.stride,0|w.offset,n.data,n.stride,0|n.offset,S.data,S.stride,0|S.offset)}}};function u(E){return(0,i[E.funcName])(f.bind(void 0,E))}function f(E){return l[E.funcName]}function c(E){return u({funcName:E.funcName})}var m={},a={},p=c({funcName:"cdiff"}),s=c({funcName:"zero"});function v(E){return E in m?m[E]:m[E]=c({funcName:"fdTemplate"+E})}function A(E,g,M,w){return function(n,S){var d=S.shape.slice();return d[0]>2&&d[1]>2&&w(S.pick(-1,-1).lo(1,1).hi(d[0]-2,d[1]-2),n.pick(-1,-1,0).lo(1,1).hi(d[0]-2,d[1]-2),n.pick(-1,-1,1).lo(1,1).hi(d[0]-2,d[1]-2)),d[1]>2&&(M(S.pick(0,-1).lo(1).hi(d[1]-2),n.pick(0,-1,1).lo(1).hi(d[1]-2)),g(n.pick(0,-1,0).lo(1).hi(d[1]-2))),d[1]>2&&(M(S.pick(d[0]-1,-1).lo(1).hi(d[1]-2),n.pick(d[0]-1,-1,1).lo(1).hi(d[1]-2)),g(n.pick(d[0]-1,-1,0).lo(1).hi(d[1]-2))),d[0]>2&&(M(S.pick(-1,0).lo(1).hi(d[0]-2),n.pick(-1,0,0).lo(1).hi(d[0]-2)),g(n.pick(-1,0,1).lo(1).hi(d[0]-2))),d[0]>2&&(M(S.pick(-1,d[1]-1).lo(1).hi(d[0]-2),n.pick(-1,d[1]-1,0).lo(1).hi(d[0]-2)),g(n.pick(-1,d[1]-1,1).lo(1).hi(d[0]-2))),n.set(0,0,0,0),n.set(0,0,1,0),n.set(d[0]-1,0,0,0),n.set(d[0]-1,0,1,0),n.set(0,d[1]-1,0,0),n.set(0,d[1]-1,1,0),n.set(d[0]-1,d[1]-1,0,0),n.set(d[0]-1,d[1]-1,1,0),n}}h.exports=function(g,M,w){return Array.isArray(w)||(w=r(M.dimension,"string"==typeof w?w:"clamp")),0===M.size?g:0===M.dimension?(g.set(0),g):function x(E){var g=E.join();if(d=a[g])return d;for(var M=E.length,w=[p,s],n=1;n<=M;++n)w.push(v(n));var d=A.apply(void 0,w);return a[g]=d,d}(w)(g,M)}},3581:function(h){"use strict";function y(u,f){var c=Math.floor(f),m=f-c,b=0<=c+1&&c+1<u.shape[0];return(1-m)*(0<=c&&c<u.shape[0]?+u.get(c):0)+m*(b?+u.get(c+1):0)}function t(u,f,c){var m=Math.floor(f),a=f-m,b=0<=m&&m<u.shape[0],p=0<=m+1&&m+1<u.shape[0],s=Math.floor(c),v=c-s,A=0<=s&&s<u.shape[1],x=0<=s+1&&s+1<u.shape[1],E=b&&A?u.get(m,s):0,g=b&&x?u.get(m,s+1):0;return(1-v)*((1-a)*E+a*(p&&A?u.get(m+1,s):0))+v*((1-a)*g+a*(p&&x?u.get(m+1,s+1):0))}function r(u,f,c,m){var a=Math.floor(f),b=f-a,p=0<=a&&a<u.shape[0],s=0<=a+1&&a+1<u.shape[0],v=Math.floor(c),A=c-v,x=0<=v&&v<u.shape[1],E=0<=v+1&&v+1<u.shape[1],g=Math.floor(m),M=m-g,w=0<=g&&g<u.shape[2],n=0<=g+1&&g+1<u.shape[2],S=p&&x&&w?u.get(a,v,g):0,d=p&&E&&w?u.get(a,v+1,g):0,I=s&&x&&w?u.get(a+1,v,g):0,L=s&&E&&w?u.get(a+1,v+1,g):0,B=p&&x&&n?u.get(a,v,g+1):0,k=p&&E&&n?u.get(a,v+1,g+1):0;return(1-M)*((1-A)*((1-b)*S+b*I)+A*((1-b)*d+b*L))+M*((1-A)*((1-b)*B+b*(s&&x&&n?u.get(a+1,v,g+1):0))+A*((1-b)*k+b*(s&&E&&n?u.get(a+1,v+1,g+1):0)))}function l(u){var p,s,f=0|u.shape.length,c=new Array(f),m=new Array(f),a=new Array(f),b=new Array(f);for(p=0;p<f;++p)s=+arguments[p+1],c[p]=Math.floor(s),m[p]=s-c[p],a[p]=0<=c[p]&&c[p]<u.shape[p],b[p]=0<=c[p]+1&&c[p]+1<u.shape[p];var A,x,E,v=0;e:for(p=0;p<1<<f;++p){for(x=1,E=u.offset,A=0;A<f;++A)if(p&1<<A){if(!b[A])continue e;x*=m[A],E+=u.stride[A]*(c[A]+1)}else{if(!a[A])continue e;x*=1-m[A],E+=u.stride[A]*c[A]}v+=x*u.data[E]}return v}h.exports=function i(u,f,c,m){switch(u.shape.length){case 0:return 0;case 1:return y(u,f);case 2:return t(u,f,c);case 3:return r(u,f,c,m);default:return l.apply(void 0,arguments)}},h.exports.d1=y,h.exports.d2=t,h.exports.d3=r},7498:function(h,y){"use strict";var t={"float64,2,1,0":function(){return function(a,b,p,s,v){var A=a[0],x=a[1],E=a[2],M=p[1],w=p[2];s|=0;var n=0,S=0,d=0,I=w,L=M-E*w,B=p[0]-x*M;for(d=0;d<A;++d){for(S=0;S<x;++S){for(n=0;n<E;++n)b[s]/=v,s+=I;s+=L}s+=B}}},"uint8,2,0,1,float64,2,1,0":function(){return function(a,b,p,s,v,A,x,E){for(var g=a[0],M=a[1],w=a[2],n=p[0],S=p[1],d=p[2],I=A[0],L=A[1],B=A[2],k=s|=0,z=x|=0,O=0|a[0];O>0;){O<64?(g=O,O=0):(g=64,O-=64);for(var F=0|a[1];F>0;){F<64?(M=F,F=0):(M=64,F-=64),s=k+O*n+F*S,x=z+O*I+F*L;var N=0,H=0,X=0,ne=d,ie=n-w*d,ue=S-g*n,J=B,j=I-w*B,W=L-g*I;for(X=0;X<M;++X){for(H=0;H<g;++H){for(N=0;N<w;++N)b[s]=v[x]*E,s+=ne,x+=J;s+=ie,x+=j}s+=ue,x+=W}}}}},"float32,1,0,float32,1,0":function(){return function(a,b,p,s,v,A,x){var E=a[0],g=a[1],w=p[1],S=A[1];s|=0,x|=0;var d=0,I=0,L=w,B=p[0]-g*w,k=S,z=A[0]-g*S;for(I=0;I<E;++I){for(d=0;d<g;++d)b[s]=v[x],s+=L,x+=k;s+=B,x+=z}}},"float32,1,0,float32,0,1":function(){return function(a,b,p,s,v,A,x){for(var E=a[0],g=a[1],M=p[0],w=p[1],n=A[0],S=A[1],d=s|=0,I=x|=0,L=0|a[1];L>0;){L<64?(g=L,L=0):(g=64,L-=64);for(var B=0|a[0];B>0;){B<64?(E=B,B=0):(E=64,B-=64),s=d+L*w+B*M,x=I+L*S+B*n;var k=0,z=0,O=w,F=M-g*w,N=S,H=n-g*S;for(z=0;z<E;++z){for(k=0;k<g;++k)b[s]=v[x],s+=O,x+=N;s+=F,x+=H}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(a,b,p,s,v,A,x){for(var E=a[0],g=a[1],M=a[2],w=p[0],n=p[1],S=p[2],d=A[0],I=A[1],L=A[2],B=s|=0,k=x|=0,z=0|a[2];z>0;){z<64?(M=z,z=0):(M=64,z-=64);for(var O=0|a[0];O>0;){O<64?(E=O,O=0):(E=64,O-=64);for(var F=0|a[1];F>0;){F<64?(g=F,F=0):(g=64,F-=64),s=B+z*S+O*w+F*n,x=k+z*L+O*d+F*I;var N=0,H=0,X=0,ne=S,ie=w-M*S,ue=n-E*w,J=L,j=d-M*L,W=I-E*d;for(X=0;X<g;++X){for(H=0;H<E;++H){for(N=0;N<M;++N)b[s]=v[x],s+=ne,x+=J;s+=ie,x+=j}s+=ue,x+=W}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(a,b,p,s,v,A,x){var E=a[0],g=a[1],M=a[2],w=p[0],S=p[2],d=A[0],L=A[2];s|=0,x|=0;var B=0,k=0,z=0,O=S,F=w-M*S,N=p[1]-E*w,H=L,X=d-M*L,ne=A[1]-E*d;for(z=0;z<g;++z){for(k=0;k<E;++k){for(B=0;B<M;++B)b[s]=v[x],s+=O,x+=H;s+=F,x+=X}s+=N,x+=ne}}}};var l=function r(m,a){var b=a.join(",");return(0,t[b])()},i={mul:function(m){var a={};return function(p,s,v){var A=p.dtype,x=p.order,E=s.dtype,g=s.order,M=v.dtype,w=v.order,n=[A,x.join(),E,g.join(),M,w.join()].join(),S=a[n];return S||(a[n]=S=m([A,x,E,g,M,w])),S(p.shape.slice(0),p.data,p.stride,0|p.offset,s.data,s.stride,0|s.offset,v.data,v.stride,0|v.offset)}},muls:function(m){var a={};return function(p,s,v){var A=p.dtype,x=p.order,E=s.dtype,g=s.order,M=[A,x.join(),E,g.join()].join(),w=a[M];return w||(a[M]=w=m([A,x,E,g])),w(p.shape.slice(0),p.data,p.stride,0|p.offset,s.data,s.stride,0|s.offset,v)}},mulseq:function(m){var a={};return function(p,s){var v=p.dtype,A=p.order,x=[v,A.join()].join(),E=a[x];return E||(a[x]=E=m([v,A])),E(p.shape.slice(0),p.data,p.stride,0|p.offset,s)}},div:function(m){var a={};return function(p,s,v){var A=p.dtype,x=p.order,E=s.dtype,g=s.order,M=v.dtype,w=v.order,n=[A,x.join(),E,g.join(),M,w.join()].join(),S=a[n];return S||(a[n]=S=m([A,x,E,g,M,w])),S(p.shape.slice(0),p.data,p.stride,0|p.offset,s.data,s.stride,0|s.offset,v.data,v.stride,0|v.offset)}},divs:function(m){var a={};return function(p,s,v){var A=p.dtype,x=p.order,E=s.dtype,g=s.order,M=[A,x.join(),E,g.join()].join(),w=a[M];return w||(a[M]=w=m([A,x,E,g])),w(p.shape.slice(0),p.data,p.stride,0|p.offset,s.data,s.stride,0|s.offset,v)}},divseq:function(m){var a={};return function(p,s){var v=p.dtype,A=p.order,x=[v,A.join()].join(),E=a[x];return E||(a[x]=E=m([v,A])),E(p.shape.slice(0),p.data,p.stride,0|p.offset,s)}},assign:function(m){var a={};return function(p,s){var v=p.dtype,A=p.order,x=s.dtype,E=s.order,g=[v,A.join(),x,E.join()].join(),M=a[g];return M||(a[g]=M=m([v,A,x,E])),M(p.shape.slice(0),p.data,p.stride,0|p.offset,s.data,s.stride,0|s.offset)}}};function f(m){return function u(m){return(0,i[m.funcName])(l.bind(void 0,m))}({funcName:m.funcName})}var c={mul:"*",div:"/"};(function(){for(var m in c)y[m]=f({funcName:m}),y[m+"s"]=f({funcName:m+"s"}),y[m+"seq"]=f({funcName:m+"seq"})})(),y.assign=f({funcName:"assign"})},7382:function(h,y,t){"use strict";var r=t(5050),l=t(9262);h.exports=function(u,f){for(var c=[],m=u,a=1;Array.isArray(m);)c.push(m.length),a*=m.length,m=m[0];return 0===c.length?r():(f||(f=r(new Float64Array(a),c)),l(f,u),f)}},9262:function(h){"use strict";var r=function t(){return function(f,c,m,a,b){var p=f[0],s=f[1],v=f[2],x=m[1],E=m[2],g=[0,0,0];a|=0;var M=0,w=0,n=0,S=E,d=x-v*E,I=m[0]-s*x;for(n=0;n<p;++n){for(w=0;w<s;++w){for(M=0;M<v;++M){var B,L=b;for(B=0;B<g.length-1;++B)L=L[g[B]];c[a]=L[g[g.length-1]],a+=S,++g[2]}a+=d,g[2]-=v,++g[1]}a+=I,g[1]-=s,++g[0]}}};h.exports=function u(f){return function i(f){return function l(f){var c={};return function(a,b){var p=a.dtype,s=a.order,v=[p,s.join()].join(),A=c[v];return A||(c[v]=A=f([p,s])),A(a.shape.slice(0),a.data,a.stride,0|a.offset,b)}}(r.bind(void 0,f))}({funcName:f.funcName})}({funcName:"convert"})},8139:function(h,y,t){"use strict";var r=t(5306);function l(b){return"uint32"===b?[r.mallocUint32,r.freeUint32]:null}var i={"uint32,1,0":function(b,p){return function(v,A,x,E,g,M,w,n,S,d,I){var L,B,k,O,N,H,X,ne,z=v*g+E,F=b(n);for(L=v+1;L<=A;++L){for(B=L,k=z+=g,N=0,H=z,O=0;O<n;++O)F[N++]=x[H],H+=S;e:for(;B-- >v;){N=0,H=k-g;t:for(O=0;O<n;++O){if((X=x[H])<(ne=F[N]))break e;if(X>ne)break t;H+=d,N+=I}for(N=k,H=k-g,O=0;O<n;++O)x[N]=x[H],N+=S,H+=S;k-=g}for(N=k,H=0,O=0;O<n;++O)x[N]=F[H++],N+=S}p(F)}}};var f={"uint32,1,0":function(b,p,s){return function v(A,x,E,g,M,w,n,S,d,I,L){var V,K,Q,Z,re,q,se,de,Ie,Se,xe,Me,Ge,Ye,De,He,rt,$e,Be,ze,tt,lt,ut,xt,B=(x-A+1)/6|0,k=A+B,z=x-B,O=A+x>>1,F=O-B,N=O+B,H=k,X=F,ne=O,ie=N,ue=z,J=A+1,j=x-1,W=!0,we=0,ye=0,Pe=0,bt=S,Ht=p(bt),Je=p(bt);Se=M*H,xe=M*X,xt=g;e:for(Ie=0;Ie<S;++Ie){if((Pe=E[q=Se+xt]-E[se=xe+xt])>0){K=H,H=X,X=K;break e}if(Pe<0)break e;xt+=I}Se=M*ie,xe=M*ue,xt=g;e:for(Ie=0;Ie<S;++Ie){if((Pe=E[q=Se+xt]-E[se=xe+xt])>0){K=ie,ie=ue,ue=K;break e}if(Pe<0)break e;xt+=I}Se=M*H,xe=M*ne,xt=g;e:for(Ie=0;Ie<S;++Ie){if((Pe=E[q=Se+xt]-E[se=xe+xt])>0){K=H,H=ne,ne=K;break e}if(Pe<0)break e;xt+=I}Se=M*X,xe=M*ne,xt=g;e:for(Ie=0;Ie<S;++Ie){if((Pe=E[q=Se+xt]-E[se=xe+xt])>0){K=X,X=ne,ne=K;break e}if(Pe<0)break e;xt+=I}Se=M*H,xe=M*ie,xt=g;e:for(Ie=0;Ie<S;++Ie){if((Pe=E[q=Se+xt]-E[se=xe+xt])>0){K=H,H=ie,ie=K;break e}if(Pe<0)break e;xt+=I}Se=M*ne,xe=M*ie,xt=g;e:for(Ie=0;Ie<S;++Ie){if((Pe=E[q=Se+xt]-E[se=xe+xt])>0){K=ne,ne=ie,ie=K;break e}if(Pe<0)break e;xt+=I}Se=M*X,xe=M*ue,xt=g;e:for(Ie=0;Ie<S;++Ie){if((Pe=E[q=Se+xt]-E[se=xe+xt])>0){K=X,X=ue,ue=K;break e}if(Pe<0)break e;xt+=I}Se=M*X,xe=M*ne,xt=g;e:for(Ie=0;Ie<S;++Ie){if((Pe=E[q=Se+xt]-E[se=xe+xt])>0){K=X,X=ne,ne=K;break e}if(Pe<0)break e;xt+=I}Se=M*ie,xe=M*ue,xt=g;e:for(Ie=0;Ie<S;++Ie){if((Pe=E[q=Se+xt]-E[se=xe+xt])>0){K=ie,ie=ue,ue=K;break e}if(Pe<0)break e;xt+=I}for(Se=M*H,xe=M*X,Me=M*ne,Ge=M*ie,Ye=M*ue,De=M*k,He=M*O,rt=M*z,ut=0,xt=g,Ie=0;Ie<S;++Ie)q=Se+xt,de=Me+xt,$e=Ge+xt,Be=Ye+xt,ze=De+xt,tt=He+xt,lt=rt+xt,Ht[ut]=E[se=xe+xt],Je[ut]=E[$e],W=W&&Ht[ut]===Je[ut],Q=E[de],Z=E[Be],E[ze]=E[q],E[tt]=Q,E[lt]=Z,++ut,xt+=d;for(Se=M*F,xe=M*A,xt=g,Ie=0;Ie<S;++Ie)E[q=Se+xt]=E[se=xe+xt],xt+=d;for(Se=M*N,xe=M*x,xt=g,Ie=0;Ie<S;++Ie)E[q=Se+xt]=E[se=xe+xt],xt+=d;if(W)for(re=J;re<=j;++re){for(q=g+re*M,ut=0,Ie=0;Ie<S&&0==(Pe=E[q]-Ht[ut]);++Ie)ut+=L,q+=I;if(0!==Pe)if(Pe<0){if(re!==J)for(Se=M*re,xe=M*J,xt=g,Ie=0;Ie<S;++Ie)V=E[q=Se+xt],E[q]=E[se=xe+xt],E[se]=V,xt+=d;++J}else for(;;){for(q=g+j*M,ut=0,Ie=0;Ie<S&&0==(Pe=E[q]-Ht[ut]);++Ie)ut+=L,q+=I;if(!(Pe>0)){if(Pe<0){for(Se=M*re,xe=M*J,Me=M*j,xt=g,Ie=0;Ie<S;++Ie)de=Me+xt,V=E[q=Se+xt],E[q]=E[se=xe+xt],E[se]=E[de],E[de]=V,xt+=d;++J,--j;break}for(Se=M*re,xe=M*j,xt=g,Ie=0;Ie<S;++Ie)V=E[q=Se+xt],E[q]=E[se=xe+xt],E[se]=V,xt+=d;--j;break}j--}}else for(re=J;re<=j;++re){for(q=g+re*M,ut=0,Ie=0;Ie<S&&0==(we=E[q]-Ht[ut]);++Ie)ut+=L,q+=I;if(we<0){if(re!==J)for(Se=M*re,xe=M*J,xt=g,Ie=0;Ie<S;++Ie)V=E[q=Se+xt],E[q]=E[se=xe+xt],E[se]=V,xt+=d;++J}else{for(q=g+re*M,ut=0,Ie=0;Ie<S&&0==(ye=E[q]-Je[ut]);++Ie)ut+=L,q+=I;if(ye>0)for(;;){for(q=g+j*M,ut=0,Ie=0;Ie<S&&0==(Pe=E[q]-Je[ut]);++Ie)ut+=L,q+=I;if(!(Pe>0)){for(q=g+j*M,ut=0,Ie=0;Ie<S&&0==(Pe=E[q]-Ht[ut]);++Ie)ut+=L,q+=I;if(Pe<0){for(Se=M*re,xe=M*J,Me=M*j,xt=g,Ie=0;Ie<S;++Ie)de=Me+xt,V=E[q=Se+xt],E[q]=E[se=xe+xt],E[se]=E[de],E[de]=V,xt+=d;++J,--j}else{for(Se=M*re,xe=M*j,xt=g,Ie=0;Ie<S;++Ie)V=E[q=Se+xt],E[q]=E[se=xe+xt],E[se]=V,xt+=d;--j}break}if(--j<re)break}}}for(Se=M*A,xe=M*(J-1),ut=0,xt=g,Ie=0;Ie<S;++Ie)E[q=Se+xt]=E[se=xe+xt],E[se]=Ht[ut],++ut,xt+=d;for(Se=M*x,xe=M*(j+1),ut=0,xt=g,Ie=0;Ie<S;++Ie)E[q=Se+xt]=E[se=xe+xt],E[se]=Je[ut],++ut,xt+=d;if(J-2-A<=32?b(A,J-2,E,g,M,w,n,S,d,I,L):v(A,J-2,E,g,M,w,n,S,d,I,L),x-(j+2)<=32?b(j+2,x,E,g,M,w,n,S,d,I,L):v(j+2,x,E,g,M,w,n,S,d,I,L),W)return s(Ht),void s(Je);if(J<k&&j>z){e:for(;;){for(q=g+J*M,ut=0,xt=g,Ie=0;Ie<S;++Ie){if(E[q]!==Ht[ut])break e;++ut,q+=d}++J}e:for(;;){for(q=g+j*M,ut=0,xt=g,Ie=0;Ie<S;++Ie){if(E[q]!==Je[ut])break e;++ut,q+=d}--j}for(re=J;re<=j;++re){for(q=g+re*M,ut=0,Ie=0;Ie<S&&0==(we=E[q]-Ht[ut]);++Ie)ut+=L,q+=I;if(0===we){if(re!==J)for(Se=M*re,xe=M*J,xt=g,Ie=0;Ie<S;++Ie)V=E[q=Se+xt],E[q]=E[se=xe+xt],E[se]=V,xt+=d;++J}else{for(q=g+re*M,ut=0,Ie=0;Ie<S&&0==(ye=E[q]-Je[ut]);++Ie)ut+=L,q+=I;if(0===ye)for(;;){for(q=g+j*M,ut=0,Ie=0;Ie<S&&0==(Pe=E[q]-Je[ut]);++Ie)ut+=L,q+=I;if(0!==Pe){for(q=g+j*M,ut=0,Ie=0;Ie<S&&0==(Pe=E[q]-Ht[ut]);++Ie)ut+=L,q+=I;if(Pe<0){for(Se=M*re,xe=M*J,Me=M*j,xt=g,Ie=0;Ie<S;++Ie)de=Me+xt,V=E[q=Se+xt],E[q]=E[se=xe+xt],E[se]=E[de],E[de]=V,xt+=d;++J,--j}else{for(Se=M*re,xe=M*j,xt=g,Ie=0;Ie<S;++Ie)V=E[q=Se+xt],E[q]=E[se=xe+xt],E[se]=V,xt+=d;--j}break}if(--j<re)break}}}}s(Ht),s(Je),j-J<=32?b(J,j,E,g,M,w,n,S,d,I,L):v(J,j,E,g,M,w,n,S,d,I,L)}}};var m={"uint32,1,0":function(b,p){return function(s){var v=s.data,A=0|s.offset,x=s.shape,E=s.stride,g=0|E[0],M=0|x[0],w=0|E[1],n=0|x[1],S=w,d=w;M<=32?b(0,M-1,v,A,g,w,M,n,S,d,1):p(0,M-1,v,A,g,w,M,n,S,d,1)}}};h.exports=function a(b,p){var s=[p,b].join(","),v=m[s],A=function u(b,p){var s=l(p),v=[p,b].join(","),A=i[v];return s?A(s[0],s[1]):A()}(b,p);return v(A,function c(b,p,s){var v=l(p),A=[p,b].join(","),x=f[A];return b.length>1&&v?x(s,v[0],v[1]):x(s)}(b,p,A))}},8729:function(h,y,t){"use strict";var r=t(8139),l={};h.exports=function i(u){var f=u.order,c=u.dtype,a=[f,c].join(":"),b=l[a];return b||(l[a]=b=r(f,c)),b(u),u}},5050:function(h,y,t){var r=t(4780),l=typeof Float64Array<"u";function i(p,s){return p[0]-s[0]}function u(){var v,p=this.stride,s=new Array(p.length);for(v=0;v<s.length;++v)s[v]=[Math.abs(p[v]),v];s.sort(i);var A=new Array(s.length);for(v=0;v<A.length;++v)A[v]=s[v][1];return A}var f={T:function(p){function s(A){this.data=A}var v=s.prototype;return v.dtype=p,v.index=function(){return-1},v.size=0,v.dimension=-1,v.shape=v.stride=v.order=[],v.lo=v.hi=v.transpose=v.step=function(){return new s(this.data)},v.get=v.set=function(){},v.pick=function(){return null},function(x){return new s(x)}},0:function(p,s){function v(x,E){this.data=x,this.offset=E}var A=v.prototype;return A.dtype=p,A.index=function(){return this.offset},A.dimension=0,A.size=1,A.shape=A.stride=A.order=[],A.lo=A.hi=A.transpose=A.step=function(){return new v(this.data,this.offset)},A.pick=function(){return s(this.data)},A.valueOf=A.get=function(){return"generic"===p?this.data.get(this.offset):this.data[this.offset]},A.set=function(E){return"generic"===p?this.data.set(this.offset,E):this.data[this.offset]=E},function(E,g,M,w){return new v(E,w)}},1:function(p,s,v){function A(E,g,M,w){this.data=E,this.shape=[g],this.stride=[M],this.offset=0|w}var x=A.prototype;return x.dtype=p,x.dimension=1,Object.defineProperty(x,"size",{get:function(){return this.shape[0]}}),x.order=[0],x.set=function(g,M){return"generic"===p?this.data.set(this.offset+this.stride[0]*g,M):this.data[this.offset+this.stride[0]*g]=M},x.get=function(g){return"generic"===p?this.data.get(this.offset+this.stride[0]*g):this.data[this.offset+this.stride[0]*g]},x.index=function(g){return this.offset+this.stride[0]*g},x.hi=function(g){return new A(this.data,"number"!=typeof g||g<0?this.shape[0]:0|g,this.stride[0],this.offset)},x.lo=function(g){var M=this.offset,w=0,n=this.shape[0],S=this.stride[0];return"number"==typeof g&&g>=0&&(M+=S*(w=0|g),n-=w),new A(this.data,n,S,M)},x.step=function(g){var M=this.shape[0],w=this.stride[0],n=this.offset,S=0,d=Math.ceil;return"number"==typeof g&&((S=0|g)<0?(n+=w*(M-1),M=d(-M/S)):M=d(M/S),w*=S),new A(this.data,M,w,n)},x.transpose=function(g){return new A(this.data,this.shape[g=void 0===g?0:0|g],this.stride[g],this.offset)},x.pick=function(g){var M=[],w=[],n=this.offset;return"number"==typeof g&&g>=0?n=n+this.stride[0]*g|0:(M.push(this.shape[0]),w.push(this.stride[0])),(0,s[M.length+1])(this.data,M,w,n)},function(g,M,w,n){return new A(g,M[0],w[0],n)}},2:function(p,s,v){function A(E,g,M,w,n,S){this.data=E,this.shape=[g,M],this.stride=[w,n],this.offset=0|S}var x=A.prototype;return x.dtype=p,x.dimension=2,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(x,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),x.set=function(g,M,w){return"generic"===p?this.data.set(this.offset+this.stride[0]*g+this.stride[1]*M,w):this.data[this.offset+this.stride[0]*g+this.stride[1]*M]=w},x.get=function(g,M){return"generic"===p?this.data.get(this.offset+this.stride[0]*g+this.stride[1]*M):this.data[this.offset+this.stride[0]*g+this.stride[1]*M]},x.index=function(g,M){return this.offset+this.stride[0]*g+this.stride[1]*M},x.hi=function(g,M){return new A(this.data,"number"!=typeof g||g<0?this.shape[0]:0|g,"number"!=typeof M||M<0?this.shape[1]:0|M,this.stride[0],this.stride[1],this.offset)},x.lo=function(g,M){var w=this.offset,n=0,S=this.shape[0],d=this.shape[1],I=this.stride[0],L=this.stride[1];return"number"==typeof g&&g>=0&&(w+=I*(n=0|g),S-=n),"number"==typeof M&&M>=0&&(w+=L*(n=0|M),d-=n),new A(this.data,S,d,I,L,w)},x.step=function(g,M){var w=this.shape[0],n=this.shape[1],S=this.stride[0],d=this.stride[1],I=this.offset,L=0,B=Math.ceil;return"number"==typeof g&&((L=0|g)<0?(I+=S*(w-1),w=B(-w/L)):w=B(w/L),S*=L),"number"==typeof M&&((L=0|M)<0?(I+=d*(n-1),n=B(-n/L)):n=B(n/L),d*=L),new A(this.data,w,n,S,d,I)},x.transpose=function(g,M){var w=this.shape,n=this.stride;return new A(this.data,w[g=void 0===g?0:0|g],w[M=void 0===M?1:0|M],n[g],n[M],this.offset)},x.pick=function(g,M){var w=[],n=[],S=this.offset;return"number"==typeof g&&g>=0?S=S+this.stride[0]*g|0:(w.push(this.shape[0]),n.push(this.stride[0])),"number"==typeof M&&M>=0?S=S+this.stride[1]*M|0:(w.push(this.shape[1]),n.push(this.stride[1])),(0,s[w.length+1])(this.data,w,n,S)},function(g,M,w,n){return new A(g,M[0],M[1],w[0],w[1],n)}},3:function(p,s,v){function A(E,g,M,w,n,S,d,I){this.data=E,this.shape=[g,M,w],this.stride=[n,S,d],this.offset=0|I}var x=A.prototype;return x.dtype=p,x.dimension=3,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(x,"order",{get:function(){var g=Math.abs(this.stride[0]),M=Math.abs(this.stride[1]),w=Math.abs(this.stride[2]);return g>M?M>w?[2,1,0]:g>w?[1,2,0]:[1,0,2]:g>w?[2,0,1]:w>M?[0,1,2]:[0,2,1]}}),x.set=function(g,M,w,n){return"generic"===p?this.data.set(this.offset+this.stride[0]*g+this.stride[1]*M+this.stride[2]*w,n):this.data[this.offset+this.stride[0]*g+this.stride[1]*M+this.stride[2]*w]=n},x.get=function(g,M,w){return"generic"===p?this.data.get(this.offset+this.stride[0]*g+this.stride[1]*M+this.stride[2]*w):this.data[this.offset+this.stride[0]*g+this.stride[1]*M+this.stride[2]*w]},x.index=function(g,M,w){return this.offset+this.stride[0]*g+this.stride[1]*M+this.stride[2]*w},x.hi=function(g,M,w){return new A(this.data,"number"!=typeof g||g<0?this.shape[0]:0|g,"number"!=typeof M||M<0?this.shape[1]:0|M,"number"!=typeof w||w<0?this.shape[2]:0|w,this.stride[0],this.stride[1],this.stride[2],this.offset)},x.lo=function(g,M,w){var n=this.offset,S=0,d=this.shape[0],I=this.shape[1],L=this.shape[2],B=this.stride[0],k=this.stride[1],z=this.stride[2];return"number"==typeof g&&g>=0&&(n+=B*(S=0|g),d-=S),"number"==typeof M&&M>=0&&(n+=k*(S=0|M),I-=S),"number"==typeof w&&w>=0&&(n+=z*(S=0|w),L-=S),new A(this.data,d,I,L,B,k,z,n)},x.step=function(g,M,w){var n=this.shape[0],S=this.shape[1],d=this.shape[2],I=this.stride[0],L=this.stride[1],B=this.stride[2],k=this.offset,z=0,O=Math.ceil;return"number"==typeof g&&((z=0|g)<0?(k+=I*(n-1),n=O(-n/z)):n=O(n/z),I*=z),"number"==typeof M&&((z=0|M)<0?(k+=L*(S-1),S=O(-S/z)):S=O(S/z),L*=z),"number"==typeof w&&((z=0|w)<0?(k+=B*(d-1),d=O(-d/z)):d=O(d/z),B*=z),new A(this.data,n,S,d,I,L,B,k)},x.transpose=function(g,M,w){var n=this.shape,S=this.stride;return new A(this.data,n[g=void 0===g?0:0|g],n[M=void 0===M?1:0|M],n[w=void 0===w?2:0|w],S[g],S[M],S[w],this.offset)},x.pick=function(g,M,w){var n=[],S=[],d=this.offset;return"number"==typeof g&&g>=0?d=d+this.stride[0]*g|0:(n.push(this.shape[0]),S.push(this.stride[0])),"number"==typeof M&&M>=0?d=d+this.stride[1]*M|0:(n.push(this.shape[1]),S.push(this.stride[1])),"number"==typeof w&&w>=0?d=d+this.stride[2]*w|0:(n.push(this.shape[2]),S.push(this.stride[2])),(0,s[n.length+1])(this.data,n,S,d)},function(g,M,w,n){return new A(g,M[0],M[1],M[2],w[0],w[1],w[2],n)}},4:function(p,s,v){function A(E,g,M,w,n,S,d,I,L,B){this.data=E,this.shape=[g,M,w,n],this.stride=[S,d,I,L],this.offset=0|B}var x=A.prototype;return x.dtype=p,x.dimension=4,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(x,"order",{get:v}),x.set=function(g,M,w,n,S){return"generic"===p?this.data.set(this.offset+this.stride[0]*g+this.stride[1]*M+this.stride[2]*w+this.stride[3]*n,S):this.data[this.offset+this.stride[0]*g+this.stride[1]*M+this.stride[2]*w+this.stride[3]*n]=S},x.get=function(g,M,w,n){return"generic"===p?this.data.get(this.offset+this.stride[0]*g+this.stride[1]*M+this.stride[2]*w+this.stride[3]*n):this.data[this.offset+this.stride[0]*g+this.stride[1]*M+this.stride[2]*w+this.stride[3]*n]},x.index=function(g,M,w,n){return this.offset+this.stride[0]*g+this.stride[1]*M+this.stride[2]*w+this.stride[3]*n},x.hi=function(g,M,w,n){return new A(this.data,"number"!=typeof g||g<0?this.shape[0]:0|g,"number"!=typeof M||M<0?this.shape[1]:0|M,"number"!=typeof w||w<0?this.shape[2]:0|w,"number"!=typeof n||n<0?this.shape[3]:0|n,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},x.lo=function(g,M,w,n){var S=this.offset,d=0,I=this.shape[0],L=this.shape[1],B=this.shape[2],k=this.shape[3],z=this.stride[0],O=this.stride[1],F=this.stride[2],N=this.stride[3];return"number"==typeof g&&g>=0&&(S+=z*(d=0|g),I-=d),"number"==typeof M&&M>=0&&(S+=O*(d=0|M),L-=d),"number"==typeof w&&w>=0&&(S+=F*(d=0|w),B-=d),"number"==typeof n&&n>=0&&(S+=N*(d=0|n),k-=d),new A(this.data,I,L,B,k,z,O,F,N,S)},x.step=function(g,M,w,n){var S=this.shape[0],d=this.shape[1],I=this.shape[2],L=this.shape[3],B=this.stride[0],k=this.stride[1],z=this.stride[2],O=this.stride[3],F=this.offset,N=0,H=Math.ceil;return"number"==typeof g&&((N=0|g)<0?(F+=B*(S-1),S=H(-S/N)):S=H(S/N),B*=N),"number"==typeof M&&((N=0|M)<0?(F+=k*(d-1),d=H(-d/N)):d=H(d/N),k*=N),"number"==typeof w&&((N=0|w)<0?(F+=z*(I-1),I=H(-I/N)):I=H(I/N),z*=N),"number"==typeof n&&((N=0|n)<0?(F+=O*(L-1),L=H(-L/N)):L=H(L/N),O*=N),new A(this.data,S,d,I,L,B,k,z,O,F)},x.transpose=function(g,M,w,n){var S=this.shape,d=this.stride;return new A(this.data,S[g=void 0===g?0:0|g],S[M=void 0===M?1:0|M],S[w=void 0===w?2:0|w],S[n=void 0===n?3:0|n],d[g],d[M],d[w],d[n],this.offset)},x.pick=function(g,M,w,n){var S=[],d=[],I=this.offset;return"number"==typeof g&&g>=0?I=I+this.stride[0]*g|0:(S.push(this.shape[0]),d.push(this.stride[0])),"number"==typeof M&&M>=0?I=I+this.stride[1]*M|0:(S.push(this.shape[1]),d.push(this.stride[1])),"number"==typeof w&&w>=0?I=I+this.stride[2]*w|0:(S.push(this.shape[2]),d.push(this.stride[2])),"number"==typeof n&&n>=0?I=I+this.stride[3]*n|0:(S.push(this.shape[3]),d.push(this.stride[3])),(0,s[S.length+1])(this.data,S,d,I)},function(g,M,w,n){return new A(g,M[0],M[1],M[2],M[3],w[0],w[1],w[2],w[3],n)}},5:function(s,v,A){function x(g,M,w,n,S,d,I,L,B,k,z,O){this.data=g,this.shape=[M,w,n,S,d],this.stride=[I,L,B,k,z],this.offset=0|O}var E=x.prototype;return E.dtype=s,E.dimension=5,Object.defineProperty(E,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(E,"order",{get:A}),E.set=function(M,w,n,S,d,I){return"generic"===s?this.data.set(this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*n+this.stride[3]*S+this.stride[4]*d,I):this.data[this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*n+this.stride[3]*S+this.stride[4]*d]=I},E.get=function(M,w,n,S,d){return"generic"===s?this.data.get(this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*n+this.stride[3]*S+this.stride[4]*d):this.data[this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*n+this.stride[3]*S+this.stride[4]*d]},E.index=function(M,w,n,S,d){return this.offset+this.stride[0]*M+this.stride[1]*w+this.stride[2]*n+this.stride[3]*S+this.stride[4]*d},E.hi=function(M,w,n,S,d){return new x(this.data,"number"!=typeof M||M<0?this.shape[0]:0|M,"number"!=typeof w||w<0?this.shape[1]:0|w,"number"!=typeof n||n<0?this.shape[2]:0|n,"number"!=typeof S||S<0?this.shape[3]:0|S,"number"!=typeof d||d<0?this.shape[4]:0|d,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},E.lo=function(M,w,n,S,d){var I=this.offset,L=0,B=this.shape[0],k=this.shape[1],z=this.shape[2],O=this.shape[3],F=this.shape[4],N=this.stride[0],H=this.stride[1],X=this.stride[2],ne=this.stride[3],ie=this.stride[4];return"number"==typeof M&&M>=0&&(I+=N*(L=0|M),B-=L),"number"==typeof w&&w>=0&&(I+=H*(L=0|w),k-=L),"number"==typeof n&&n>=0&&(I+=X*(L=0|n),z-=L),"number"==typeof S&&S>=0&&(I+=ne*(L=0|S),O-=L),"number"==typeof d&&d>=0&&(I+=ie*(L=0|d),F-=L),new x(this.data,B,k,z,O,F,N,H,X,ne,ie,I)},E.step=function(M,w,n,S,d){var I=this.shape[0],L=this.shape[1],B=this.shape[2],k=this.shape[3],z=this.shape[4],O=this.stride[0],F=this.stride[1],N=this.stride[2],H=this.stride[3],X=this.stride[4],ne=this.offset,ie=0,ue=Math.ceil;return"number"==typeof M&&((ie=0|M)<0?(ne+=O*(I-1),I=ue(-I/ie)):I=ue(I/ie),O*=ie),"number"==typeof w&&((ie=0|w)<0?(ne+=F*(L-1),L=ue(-L/ie)):L=ue(L/ie),F*=ie),"number"==typeof n&&((ie=0|n)<0?(ne+=N*(B-1),B=ue(-B/ie)):B=ue(B/ie),N*=ie),"number"==typeof S&&((ie=0|S)<0?(ne+=H*(k-1),k=ue(-k/ie)):k=ue(k/ie),H*=ie),"number"==typeof d&&((ie=0|d)<0?(ne+=X*(z-1),z=ue(-z/ie)):z=ue(z/ie),X*=ie),new x(this.data,I,L,B,k,z,O,F,N,H,X,ne)},E.transpose=function(M,w,n,S,d){var I=this.shape,L=this.stride;return new x(this.data,I[M=void 0===M?0:0|M],I[w=void 0===w?1:0|w],I[n=void 0===n?2:0|n],I[S=void 0===S?3:0|S],I[d=void 0===d?4:0|d],L[M],L[w],L[n],L[S],L[d],this.offset)},E.pick=function(M,w,n,S,d){var I=[],L=[],B=this.offset;return"number"==typeof M&&M>=0?B=B+this.stride[0]*M|0:(I.push(this.shape[0]),L.push(this.stride[0])),"number"==typeof w&&w>=0?B=B+this.stride[1]*w|0:(I.push(this.shape[1]),L.push(this.stride[1])),"number"==typeof n&&n>=0?B=B+this.stride[2]*n|0:(I.push(this.shape[2]),L.push(this.stride[2])),"number"==typeof S&&S>=0?B=B+this.stride[3]*S|0:(I.push(this.shape[3]),L.push(this.stride[3])),"number"==typeof d&&d>=0?B=B+this.stride[4]*d|0:(I.push(this.shape[4]),L.push(this.stride[4])),(0,v[I.length+1])(this.data,I,L,B)},function(M,w,n,S){return new x(M,w[0],w[1],w[2],w[3],w[4],n[0],n[1],n[2],n[3],n[4],S)}}};function c(p,s){var v=-1===s?"T":String(s),A=f[v];return-1===s?A(p):0===s?A(p,a[p][0]):A(p,a[p],u)}var a={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};h.exports=function b(p,s,v,A){if(void 0===p)return(0,a.array[0])([]);"number"==typeof p&&(p=[p]),void 0===s&&(s=[p.length]);var x=s.length;if(void 0===v){v=new Array(x);for(var E=x-1,g=1;E>=0;--E)v[E]=g,g*=s[E]}if(void 0===A)for(A=0,E=0;E<x;++E)v[E]<0&&(A-=(s[E]-1)*v[E]);for(var M=function m(p){if(r(p))return"buffer";if(l)switch(Object.prototype.toString.call(p)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(p)?"array":"generic"}(p),w=a[M];w.length<=x+1;)w.push(c(M,w.length-1));return(0,w[x+1])(p,s,v,A)}},8551:function(h,y,t){"use strict";var r=t(8362),l=Math.pow(2,-1074),i=-1>>>0;h.exports=function u(f,c){if(isNaN(f)||isNaN(c))return NaN;if(f===c)return f;if(0===f)return c<0?-l:l;var m=r.hi(f),a=r.lo(f);return c>f==f>0?a===i?(m+=1,a=0):a+=1:0===a?(a=i,m-=1):a-=1,r.pack(a,m)}},115:function(h,y){y.vertexNormals=function(l,i,u){for(var f=i.length,c=new Array(f),m=void 0===u?1e-6:u,a=0;a<f;++a)c[a]=[0,0,0];for(a=0;a<l.length;++a)for(var b=l[a],s=b[b.length-1],v=b[0],A=0;A<b.length;++A){for(var x=i[s],E=i[s=v],g=i[v=b[(A+1)%b.length]],M=new Array(3),w=0,n=new Array(3),S=0,d=0;d<3;++d)M[d]=x[d]-E[d],w+=M[d]*M[d],n[d]=g[d]-E[d],S+=n[d]*n[d];if(w*S>m){var I=c[s],L=1/Math.sqrt(w*S);for(d=0;d<3;++d){var B=(d+1)%3,k=(d+2)%3;I[d]+=L*(n[B]*M[k]-n[k]*M[B])}}}for(a=0;a<f;++a){I=c[a];var z=0;for(d=0;d<3;++d)z+=I[d]*I[d];if(z>m)for(L=1/Math.sqrt(z),d=0;d<3;++d)I[d]*=L;else for(d=0;d<3;++d)I[d]=0}return c},y.faceNormals=function(l,i,u){for(var f=l.length,c=new Array(f),m=void 0===u?1e-6:u,a=0;a<f;++a){for(var b=l[a],p=new Array(3),s=0;s<3;++s)p[s]=i[b[s]];var v=new Array(3),A=new Array(3);for(s=0;s<3;++s)v[s]=p[1][s]-p[0][s],A[s]=p[2][s]-p[0][s];var x=new Array(3),E=0;for(s=0;s<3;++s){var g=(s+1)%3,M=(s+2)%3;x[s]=v[g]*A[M]-v[M]*A[g],E+=x[s]*x[s]}for(E=E>m?1/Math.sqrt(E):0,s=0;s<3;++s)x[s]*=E;c[a]=x}return c}},567:function(h){"use strict";h.exports=function y(t,r,l,i,u,f,c,m,a,b){var p=r+f+b;if(s>0){var s=Math.sqrt(p+1);t[0]=.5*(c-a)/s,t[1]=.5*(m-i)/s,t[2]=.5*(l-f)/s,t[3]=.5*s}else{var v=Math.max(r,f,b);s=Math.sqrt(2*v-p+1),r>=v?(t[0]=.5*s,t[1]=.5*(u+l)/s,t[2]=.5*(m+i)/s,t[3]=.5*(c-a)/s):f>=v?(t[0]=.5*(l+u)/s,t[1]=.5*s,t[2]=.5*(a+c)/s,t[3]=.5*(m-i)/s):(t[0]=.5*(i+m)/s,t[1]=.5*(c+a)/s,t[2]=.5*s,t[3]=.5*(l-u)/s)}return t}},7774:function(h,y,t){"use strict";h.exports=function s(v){var A=(v=v||{}).center||[0,0,0],x=v.rotation||[0,0,0,1],E=v.radius||1;A=[].slice.call(A,0,3),a(x=[].slice.call(x,0,4),x);var g=new b(x,A,Math.log(E));return g.setDistanceLimits(v.zoomMin,v.zoomMax),("eye"in v||"up"in v)&&g.lookAt(0,v.eye,v.center,v.up),g};var r=t(8444),l=t(3012),i=t(5950),u=t(7437),f=t(567);function c(v,A,x){return Math.sqrt(Math.pow(v,2)+Math.pow(A,2)+Math.pow(x,2))}function m(v,A,x,E){return Math.sqrt(Math.pow(v,2)+Math.pow(A,2)+Math.pow(x,2)+Math.pow(E,2))}function a(v,A){var x=A[0],E=A[1],g=A[2],M=A[3],w=m(x,E,g,M);w>1e-6?(v[0]=x/w,v[1]=E/w,v[2]=g/w,v[3]=M/w):(v[0]=v[1]=v[2]=0,v[3]=1)}function b(v,A,x){this.radius=r([x]),this.center=r(A),this.rotation=r(v),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var p=b.prototype;p.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},p.recalcMatrix=function(v){this.radius.curve(v),this.center.curve(v),this.rotation.curve(v);var A=this.computedRotation;a(A,A);var x=this.computedMatrix;i(x,A);var E=this.computedCenter,g=this.computedEye,M=this.computedUp,w=Math.exp(this.computedRadius[0]);g[0]=E[0]+w*x[2],g[1]=E[1]+w*x[6],g[2]=E[2]+w*x[10],M[0]=x[1],M[1]=x[5],M[2]=x[9];for(var n=0;n<3;++n){for(var S=0,d=0;d<3;++d)S+=x[n+4*d]*g[d];x[12+n]=-S}},p.getMatrix=function(v,A){this.recalcMatrix(v);var x=this.computedMatrix;if(A){for(var E=0;E<16;++E)A[E]=x[E];return A}return x},p.idle=function(v){this.center.idle(v),this.radius.idle(v),this.rotation.idle(v)},p.flush=function(v){this.center.flush(v),this.radius.flush(v),this.rotation.flush(v)},p.pan=function(v,A,x,E){A=A||0,x=x||0,E=E||0,this.recalcMatrix(v);var g=this.computedMatrix,M=g[1],w=g[5],n=g[9],S=c(M,w,n),d=g[0],I=g[4],L=g[8],B=d*(M/=S)+I*(w/=S)+L*(n/=S),k=c(d-=M*B,I-=w*B,L-=n*B),z=g[2],O=g[6],F=g[10],N=z*M+O*w+F*n,H=z*(d/=k)+O*(I/=k)+F*(L/=k),X=c(z-=N*M+H*d,O-=N*w+H*I,F-=N*n+H*L);z/=X,O/=X,F/=X,this.center.move(v,d*A+M*x,I*A+w*x,L*A+n*x);var J=Math.exp(this.computedRadius[0]);J=Math.max(1e-4,J+E),this.radius.set(v,Math.log(J))},p.rotate=function(v,A,x,E){this.recalcMatrix(v);var g=this.computedMatrix,L=g[2],B=g[6],k=g[10],z=(A=A||0)*g[0]+(x=x||0)*g[1],O=A*g[4]+x*g[5],F=A*g[8]+x*g[9],N=-(B*F-k*O),H=-(k*z-L*F),X=-(L*O-B*z),ne=Math.sqrt(Math.max(0,1-Math.pow(N,2)-Math.pow(H,2)-Math.pow(X,2))),ie=m(N,H,X,ne);ie>1e-6?(N/=ie,H/=ie,X/=ie,ne/=ie):(N=H=X=0,ne=1);var ue=this.computedRotation,J=ue[0],j=ue[1],W=ue[2],V=ue[3],K=J*ne+V*N+j*X-W*H,ae=j*ne+V*H+W*N-J*X,Q=W*ne+V*X+J*H-j*N,Z=V*ne-J*N-j*H-W*X;if(E){N=L,H=B,X=k;var re=Math.sin(E)/c(N,H,X);N*=re,H*=re,X*=re,Z=Z*(ne=Math.cos(A))-(K=K*ne+Z*N+ae*X-Q*H)*N-(ae=ae*ne+Z*H+Q*N-K*X)*H-(Q=Q*ne+Z*X+K*H-ae*N)*X}var q=m(K,ae,Q,Z);q>1e-6?(K/=q,ae/=q,Q/=q,Z/=q):(K=ae=Q=0,Z=1),this.rotation.set(v,K,ae,Q,Z)},p.lookAt=function(v,A,x,E){this.recalcMatrix(v);var g=this.computedMatrix;l(g,A=A||this.computedEye,x=x||this.computedCenter,E=E||this.computedUp);var M=this.computedRotation;f(M,g[0],g[1],g[2],g[4],g[5],g[6],g[8],g[9],g[10]),a(M,M),this.rotation.set(v,M[0],M[1],M[2],M[3]);for(var w=0,n=0;n<3;++n)w+=Math.pow(x[n]-A[n],2);this.radius.set(v,.5*Math.log(Math.max(w,1e-6))),this.center.set(v,x[0],x[1],x[2])},p.translate=function(v,A,x,E){this.center.move(v,A||0,x||0,E||0)},p.setMatrix=function(v,A){var x=this.computedRotation;f(x,A[0],A[1],A[2],A[4],A[5],A[6],A[8],A[9],A[10]),a(x,x),this.rotation.set(v,x[0],x[1],x[2],x[3]);var E=this.computedMatrix;u(E,A);var g=E[15];if(Math.abs(g)>1e-6){var M=E[12]/g,w=E[13]/g,n=E[14]/g;this.recalcMatrix(v);var S=Math.exp(this.computedRadius[0]);this.center.set(v,M-E[2]*S,w-E[6]*S,n-E[10]*S),this.radius.idle(v)}else this.center.idle(v),this.radius.idle(v)},p.setDistance=function(v,A){A>0&&this.radius.set(v,Math.log(A))},p.setDistanceLimits=function(v,A){v=v>0?Math.log(v):-1/0,A=A>0?Math.log(A):1/0,A=Math.max(A,v),this.radius.bounds[0][0]=v,this.radius.bounds[1][0]=A},p.getDistanceLimits=function(v){var A=this.radius.bounds;return v?(v[0]=Math.exp(A[0][0]),v[1]=Math.exp(A[1][0]),v):[Math.exp(A[0][0]),Math.exp(A[1][0])]},p.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},p.fromJSON=function(v){var A=this.lastT(),x=v.center;x&&this.center.set(A,x[0],x[1],x[2]);var E=v.rotation;E&&this.rotation.set(A,E[0],E[1],E[2],E[3]);var g=v.distance;g&&g>0&&this.radius.set(A,Math.log(g)),this.setDistanceLimits(v.zoomMin,v.zoomMax)}},4930:function(h,y,t){"use strict";var r=t(6184);h.exports=function(i,u,f){return r(f=typeof f<"u"?f+"":" ",u)+i}},4405:function(h){h.exports=function(t,r){r||(r=[0,""]),t=String(t);var l=parseFloat(t,10);return r[0]=l,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(h,y,t){"use strict";h.exports=function l(i,u){for(var f=0|u.length,c=i.length,m=[new Array(f),new Array(f)],a=0;a<f;++a)m[0][a]=[],m[1][a]=[];for(a=0;a<c;++a){var b=i[a];m[0][b[0]].push(b),m[1][b[1]].push(b)}var p=[];for(a=0;a<f;++a)m[0][a].length+m[1][a].length===0&&p.push([a]);function s(n,S){var d=m[S][n[S]];d.splice(d.indexOf(n),1)}function v(n,S,d){for(var I,L,B,k=0;k<2;++k)if(m[k][S].length>0){I=m[k][S][0],B=k;break}L=I[1^B];for(var z=0;z<2;++z)for(var O=m[z][S],F=0;F<O.length;++F){var N=O[F],H=N[1^z];r(u[n],u[S],u[L],u[H])>0&&(I=N,L=H,B=z)}return d||I&&s(I,B),L}function A(n,S){var d=m[S][n][0],I=[n];s(d,S);for(var L=d[1^S];;){for(;L!==n;)I.push(L),L=v(I[I.length-2],L,!1);if(m[0][n].length+m[1][n].length===0)break;var k=I[I.length-1],z=n,O=I[1],F=v(k,z,!0);if(r(u[k],u[z],u[O],u[F])<0)break;I.push(n),L=v(k,z)}return I}for(a=0;a<f;++a)for(var E=0;E<2;++E){for(var g=[];m[E][a].length>0;){var w=A(a,E);(S=w)[1]===S[S.length-1]?g.push.apply(g,w):(g.length>0&&p.push(g),g=w)}g.length>0&&p.push(g)}var S;return p};var r=t(9398)},3959:function(h,y,t){"use strict";h.exports=function l(i,u){for(var f=r(i,u.length),c=new Array(u.length),m=new Array(u.length),a=[],b=0;b<u.length;++b){var p=f[b].length;m[b]=p,c[b]=!0,p<=1&&a.push(b)}for(;a.length>0;){c[s=a.pop()]=!1;var v=f[s];for(b=0;b<v.length;++b){var A=v[b];0==--m[A]&&a.push(A)}}var x=new Array(u.length),E=[];for(b=0;b<u.length;++b)if(c[b]){var s;x[b]=s=E.length,E.push(u[b])}else x[b]=-1;var g=[];for(b=0;b<i.length;++b){var M=i[b];c[M[0]]&&c[M[1]]&&g.push([x[M[0]],x[M[1]]])}return[g,E]};var r=t(8348)},8040:function(h,y,t){"use strict";h.exports=function p(s,v){s=(re=m(s,v))[0];for(var A=(v=re[1]).length,E=r(s,v.length),g=0;g<A;++g)if(E[g].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var M=l(s,v);var n=(M=M.filter(function w(Ie){for(var Se=Ie.length,xe=[0],Me=0;Me<Se;++Me){var Ge=v[Ie[Me]],Ye=v[Ie[(Me+1)%Se]],De=u(-Ge[0],Ge[1]),He=u(-Ge[0],Ye[1]),rt=u(Ye[0],Ge[1]),$e=u(Ye[0],Ye[1]);xe=f(xe,f(f(De,He),f(rt,$e)))}return xe[xe.length-1]>0})).length,S=new Array(n),d=new Array(n);for(g=0;g<n;++g){S[g]=g;var I=new Array(n),L=M[g].map(function(Se){return v[Se]}),B=i([L]),k=0;e:for(var z=0;z<n;++z)if(I[z]=0,g!==z){for(var F=(O=M[z]).length,N=0;N<F;++N){var H=B(v[O[N]]);if(0!==H){H<0&&(I[z]=1,k+=1);continue e}}I[z]=1,k+=1}d[g]=[k,g,I]}for(d.sort(function(Ie,Se){return Se[0]-Ie[0]}),g=0;g<n;++g){var X=(I=d[g])[1],ne=I[2];for(z=0;z<n;++z)ne[z]&&(S[z]=X)}var ie=function b(s){for(var v=new Array(s),A=0;A<s;++A)v[A]=[];return v}(n);for(g=0;g<n;++g)ie[g].push(S[g]),ie[S[g]].push(g);var ue={},J=a(A,!1);for(g=0;g<n;++g)for(F=(O=M[g]).length,z=0;z<F;++z){var j=O[z],W=O[(z+1)%F],V=Math.min(j,W)+":"+Math.max(j,W);if(V in ue){var K=ue[V];ie[K].push(g),ie[g].push(K),J[j]=J[W]=!0}else ue[V]=g}function ae(Ie){for(var Se=Ie.length,xe=0;xe<Se;++xe)if(!J[Ie[xe]])return!1;return!0}var Q=[],Z=a(n,-1);for(g=0;g<n;++g)S[g]!==g||ae(M[g])?Z[g]=-1:(Q.push(g),Z[g]=0);for(var re=[];Q.length>0;){var q=Q.pop(),se=ie[q];c(se,function(Ie,Se){return Ie-Se});var ye,de=se.length,we=Z[q];for(0===we&&(ye=[O=M[q]]),g=0;g<de;++g){var O,Pe=se[g];Z[Pe]>=0||(Z[Pe]=1^we,Q.push(Pe),0!==we)||ae(O=M[Pe])||(O.reverse(),ye.push(O))}0===we&&re.push(ye)}return re};var r=t(8348),l=t(4166),i=t(211),u=t(9660),f=t(9662),c=t(1215),m=t(3959);function a(s,v){for(var A=new Array(s),x=0;x<s;++x)A[x]=v;return A}},211:function(h,y,t){h.exports=function v(A){for(var x=A.length,E=[],g=[],w=0;w<x;++w)for(var n=A[w],S=n.length,d=S-1,I=0;I<S;d=I++){var L=n[d],B=n[I];L[0]===B[0]?g.push([L,B]):E.push([L,B])}if(0===E.length)return 0===g.length?b:function p(A){return function(E){return A(E[0],E[1])?0:1}}(m(g));var k=l(E),z=function a(A,x){return function(E){var g=u.le(x,E[0]);if(g<0)return 1;var M=A[g];if(!M){if(!(g>0&&x[g]===E[0]))return 1;M=A[g-1]}for(var w=1;M;){var n=M.key,S=r(E,n[0],n[1]);if(n[0][0]<n[1][0])if(S<0)M=M.left;else{if(!(S>0))return 0;w=-1,M=M.right}else if(S>0)M=M.left;else{if(!(S<0))return 0;w=1,M=M.right}}return w}}(k.slabs,k.coordinates);return 0===g.length?z:function s(A,x){return function(g){return A(g[0],g[1])?0:x(g)}}(m(g),z)};var r=t(417)[3],l=t(4385),i=t(9014),u=t(5070);function f(){return!0}function m(A){for(var x={},E=0;E<A.length;++E){var g=A[E],M=g[0][0],w=g[0][1],n=g[1][1],S=[Math.min(w,n),Math.max(w,n)];M in x?x[M].push(S):x[M]=[S]}var d={},I=Object.keys(x);for(E=0;E<I.length;++E)d[I[E]]=i(x[I[E]]);return function c(A){return function(x,E){var g=A[x];return!!g&&!!g.queryPoint(E,f)}}(d)}function b(A){return 1}},7309:function(h){"use strict";var y=new Float64Array(4),t=new Float64Array(4),r=new Float64Array(4);h.exports=function l(i,u,f,c,m){y.length<c.length&&(y=new Float64Array(c.length),t=new Float64Array(c.length),r=new Float64Array(c.length));for(var a=0;a<c.length;++a)y[a]=i[a]-c[a],t[a]=u[a]-i[a],r[a]=f[a]-i[a];var b=0,p=0,s=0,v=0,A=0,x=0;for(a=0;a<c.length;++a){var E=t[a],g=r[a],M=y[a];b+=E*E,p+=E*g,s+=g*g,v+=M*E,A+=M*g,x+=M*M}var d,L,B,k,z,w=Math.abs(b*s-p*p),n=p*A-s*v,S=p*v-b*A;if(n+S<=w)if(n<0)S<0&&v<0?(S=0,-v>=b?(n=1,d=b+2*v+x):d=v*(n=-v/b)+x):(n=0,A>=0?(S=0,d=x):-A>=s?(S=1,d=s+2*A+x):d=A*(S=-A/s)+x);else if(S<0)S=0,v>=0?(n=0,d=x):-v>=b?(n=1,d=b+2*v+x):d=v*(n=-v/b)+x;else{var I=1/w;d=(n*=I)*(b*n+p*(S*=I)+2*v)+S*(p*n+s*S+2*A)+x}else n<0?(B=s+A)>(L=p+v)?(k=B-L)>=(z=b-2*p+s)?(n=1,S=0,d=b+2*v+x):d=(n=k/z)*(b*n+p*(S=1-n)+2*v)+S*(p*n+s*S+2*A)+x:(n=0,B<=0?(S=1,d=s+2*A+x):A>=0?(S=0,d=x):d=A*(S=-A/s)+x):S<0?(B=b+v)>(L=p+A)?(k=B-L)>=(z=b-2*p+s)?(S=1,n=0,d=s+2*A+x):d=(n=1-(S=k/z))*(b*n+p*S+2*v)+S*(p*n+s*S+2*A)+x:(S=0,B<=0?(n=1,d=b+2*v+x):v>=0?(n=0,d=x):d=v*(n=-v/b)+x):(k=s+A-p-v)<=0?(n=0,S=1,d=s+2*A+x):k>=(z=b-2*p+s)?(n=1,S=0,d=b+2*v+x):d=(n=k/z)*(b*n+p*(S=1-n)+2*v)+S*(p*n+s*S+2*A)+x;var O=1-n-S;for(a=0;a<c.length;++a)m[a]=O*i[a]+n*u[a]+S*f[a];return d<0?0:d}},1116:function(h,y,t){h.exports=t(6093)},7584:function(h,y,t){"use strict";var r=t(1539);h.exports=function l(i,u){for(var f=i.length,c=new Array(f),m=0;m<f;++m)c[m]=r(i[m],u[m]);return c}},2826:function(h,y,t){"use strict";h.exports=function l(i){for(var u=new Array(i.length),f=0;f<i.length;++f)u[f]=r(i[f]);return u};var r=t(5125)},4469:function(h,y,t){"use strict";var r=t(5125),l=t(3962);h.exports=function i(u,f){for(var c=r(f),m=u.length,a=new Array(m),b=0;b<m;++b)a[b]=l(u[b],c);return a}},6695:function(h,y,t){"use strict";var r=t(4354);h.exports=function l(i,u){for(var f=i.length,c=new Array(f),m=0;m<f;++m)c[m]=r(i[m],u[m]);return c}},7037:function(h,y,t){"use strict";var r=t(9209),l=t(1284),i=t(9887);h.exports=function u(f){f.sort(l);for(var c=f.length,m=0,a=0;a<c;++a){var b=f[a],p=i(b);if(0!==p){if(m>0){var s=f[m-1];if(0===r(b,s)&&i(s)!==p){m-=1;continue}}f[m++]=b}}return f.length=m,f}},6184:function(h){"use strict";var t,y="";h.exports=function r(l,i){if("string"!=typeof l)throw new TypeError("expected a string");if(1===i)return l;if(2===i)return l+l;var u=l.length*i;if(t!==l||typeof t>"u")t=l,y="";else if(y.length>=u)return y.substr(0,u);for(;u>y.length&&i>1;)1&i&&(y+=l),i>>=1,l+=l;return y=(y+=l).substr(0,u)}},8161:function(h,y,t){h.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(h){"use strict";h.exports=function y(t){for(var r=t.length,l=t[t.length-1],i=r,u=r-2;u>=0;--u)(a=(c=t[u])-((l=(f=l)+c)-f))&&(t[--i]=l,l=a);var b=0;for(u=i;u<r;++u){var f,c,a;(a=(c=l)-((l=(f=t[u])+c)-f))&&(t[b++]=a)}return t[b++]=l,t.length=b,t}},8167:function(h,y,t){"use strict";var r=t(9660),l=t(9662),i=t(8289),u=t(402);function c(x,E,g,M){return function(n){return M(x(g(n[0][0],n[1][1]),g(-n[0][1],n[1][0])))}}function m(x,E,g,M){return function(n){return M(x(E(x(g(n[1][1],n[2][2]),g(-n[1][2],n[2][1])),n[0][0]),x(E(x(g(n[1][0],n[2][2]),g(-n[1][2],n[2][0])),-n[0][1]),E(x(g(n[1][0],n[2][1]),g(-n[1][1],n[2][0])),n[0][2]))))}}function a(x,E,g,M){return function(n){return M(x(x(E(x(E(x(g(n[2][2],n[3][3]),g(-n[2][3],n[3][2])),n[1][1]),x(E(x(g(n[2][1],n[3][3]),g(-n[2][3],n[3][1])),-n[1][2]),E(x(g(n[2][1],n[3][2]),g(-n[2][2],n[3][1])),n[1][3]))),n[0][0]),E(x(E(x(g(n[2][2],n[3][3]),g(-n[2][3],n[3][2])),n[1][0]),x(E(x(g(n[2][0],n[3][3]),g(-n[2][3],n[3][0])),-n[1][2]),E(x(g(n[2][0],n[3][2]),g(-n[2][2],n[3][0])),n[1][3]))),-n[0][1])),x(E(x(E(x(g(n[2][1],n[3][3]),g(-n[2][3],n[3][1])),n[1][0]),x(E(x(g(n[2][0],n[3][3]),g(-n[2][3],n[3][0])),-n[1][1]),E(x(g(n[2][0],n[3][1]),g(-n[2][1],n[3][0])),n[1][3]))),n[0][2]),E(x(E(x(g(n[2][1],n[3][2]),g(-n[2][2],n[3][1])),n[1][0]),x(E(x(g(n[2][0],n[3][2]),g(-n[2][2],n[3][0])),-n[1][1]),E(x(g(n[2][0],n[3][1]),g(-n[2][1],n[3][0])),n[1][2]))),-n[0][3]))))}}function b(x,E,g,M){return function(n){return M(x(x(E(x(x(E(x(E(x(g(n[3][3],n[4][4]),g(-n[3][4],n[4][3])),n[2][2]),x(E(x(g(n[3][2],n[4][4]),g(-n[3][4],n[4][2])),-n[2][3]),E(x(g(n[3][2],n[4][3]),g(-n[3][3],n[4][2])),n[2][4]))),n[1][1]),E(x(E(x(g(n[3][3],n[4][4]),g(-n[3][4],n[4][3])),n[2][1]),x(E(x(g(n[3][1],n[4][4]),g(-n[3][4],n[4][1])),-n[2][3]),E(x(g(n[3][1],n[4][3]),g(-n[3][3],n[4][1])),n[2][4]))),-n[1][2])),x(E(x(E(x(g(n[3][2],n[4][4]),g(-n[3][4],n[4][2])),n[2][1]),x(E(x(g(n[3][1],n[4][4]),g(-n[3][4],n[4][1])),-n[2][2]),E(x(g(n[3][1],n[4][2]),g(-n[3][2],n[4][1])),n[2][4]))),n[1][3]),E(x(E(x(g(n[3][2],n[4][3]),g(-n[3][3],n[4][2])),n[2][1]),x(E(x(g(n[3][1],n[4][3]),g(-n[3][3],n[4][1])),-n[2][2]),E(x(g(n[3][1],n[4][2]),g(-n[3][2],n[4][1])),n[2][3]))),-n[1][4]))),n[0][0]),E(x(x(E(x(E(x(g(n[3][3],n[4][4]),g(-n[3][4],n[4][3])),n[2][2]),x(E(x(g(n[3][2],n[4][4]),g(-n[3][4],n[4][2])),-n[2][3]),E(x(g(n[3][2],n[4][3]),g(-n[3][3],n[4][2])),n[2][4]))),n[1][0]),E(x(E(x(g(n[3][3],n[4][4]),g(-n[3][4],n[4][3])),n[2][0]),x(E(x(g(n[3][0],n[4][4]),g(-n[3][4],n[4][0])),-n[2][3]),E(x(g(n[3][0],n[4][3]),g(-n[3][3],n[4][0])),n[2][4]))),-n[1][2])),x(E(x(E(x(g(n[3][2],n[4][4]),g(-n[3][4],n[4][2])),n[2][0]),x(E(x(g(n[3][0],n[4][4]),g(-n[3][4],n[4][0])),-n[2][2]),E(x(g(n[3][0],n[4][2]),g(-n[3][2],n[4][0])),n[2][4]))),n[1][3]),E(x(E(x(g(n[3][2],n[4][3]),g(-n[3][3],n[4][2])),n[2][0]),x(E(x(g(n[3][0],n[4][3]),g(-n[3][3],n[4][0])),-n[2][2]),E(x(g(n[3][0],n[4][2]),g(-n[3][2],n[4][0])),n[2][3]))),-n[1][4]))),-n[0][1])),x(E(x(x(E(x(E(x(g(n[3][3],n[4][4]),g(-n[3][4],n[4][3])),n[2][1]),x(E(x(g(n[3][1],n[4][4]),g(-n[3][4],n[4][1])),-n[2][3]),E(x(g(n[3][1],n[4][3]),g(-n[3][3],n[4][1])),n[2][4]))),n[1][0]),E(x(E(x(g(n[3][3],n[4][4]),g(-n[3][4],n[4][3])),n[2][0]),x(E(x(g(n[3][0],n[4][4]),g(-n[3][4],n[4][0])),-n[2][3]),E(x(g(n[3][0],n[4][3]),g(-n[3][3],n[4][0])),n[2][4]))),-n[1][1])),x(E(x(E(x(g(n[3][1],n[4][4]),g(-n[3][4],n[4][1])),n[2][0]),x(E(x(g(n[3][0],n[4][4]),g(-n[3][4],n[4][0])),-n[2][1]),E(x(g(n[3][0],n[4][1]),g(-n[3][1],n[4][0])),n[2][4]))),n[1][3]),E(x(E(x(g(n[3][1],n[4][3]),g(-n[3][3],n[4][1])),n[2][0]),x(E(x(g(n[3][0],n[4][3]),g(-n[3][3],n[4][0])),-n[2][1]),E(x(g(n[3][0],n[4][1]),g(-n[3][1],n[4][0])),n[2][3]))),-n[1][4]))),n[0][2]),x(E(x(x(E(x(E(x(g(n[3][2],n[4][4]),g(-n[3][4],n[4][2])),n[2][1]),x(E(x(g(n[3][1],n[4][4]),g(-n[3][4],n[4][1])),-n[2][2]),E(x(g(n[3][1],n[4][2]),g(-n[3][2],n[4][1])),n[2][4]))),n[1][0]),E(x(E(x(g(n[3][2],n[4][4]),g(-n[3][4],n[4][2])),n[2][0]),x(E(x(g(n[3][0],n[4][4]),g(-n[3][4],n[4][0])),-n[2][2]),E(x(g(n[3][0],n[4][2]),g(-n[3][2],n[4][0])),n[2][4]))),-n[1][1])),x(E(x(E(x(g(n[3][1],n[4][4]),g(-n[3][4],n[4][1])),n[2][0]),x(E(x(g(n[3][0],n[4][4]),g(-n[3][4],n[4][0])),-n[2][1]),E(x(g(n[3][0],n[4][1]),g(-n[3][1],n[4][0])),n[2][4]))),n[1][2]),E(x(E(x(g(n[3][1],n[4][2]),g(-n[3][2],n[4][1])),n[2][0]),x(E(x(g(n[3][0],n[4][2]),g(-n[3][2],n[4][0])),-n[2][1]),E(x(g(n[3][0],n[4][1]),g(-n[3][1],n[4][0])),n[2][2]))),-n[1][4]))),-n[0][3]),E(x(x(E(x(E(x(g(n[3][2],n[4][3]),g(-n[3][3],n[4][2])),n[2][1]),x(E(x(g(n[3][1],n[4][3]),g(-n[3][3],n[4][1])),-n[2][2]),E(x(g(n[3][1],n[4][2]),g(-n[3][2],n[4][1])),n[2][3]))),n[1][0]),E(x(E(x(g(n[3][2],n[4][3]),g(-n[3][3],n[4][2])),n[2][0]),x(E(x(g(n[3][0],n[4][3]),g(-n[3][3],n[4][0])),-n[2][2]),E(x(g(n[3][0],n[4][2]),g(-n[3][2],n[4][0])),n[2][3]))),-n[1][1])),x(E(x(E(x(g(n[3][1],n[4][3]),g(-n[3][3],n[4][1])),n[2][0]),x(E(x(g(n[3][0],n[4][3]),g(-n[3][3],n[4][0])),-n[2][1]),E(x(g(n[3][0],n[4][1]),g(-n[3][1],n[4][0])),n[2][3]))),n[1][2]),E(x(E(x(g(n[3][1],n[4][2]),g(-n[3][2],n[4][1])),n[2][0]),x(E(x(g(n[3][0],n[4][2]),g(-n[3][2],n[4][0])),-n[2][1]),E(x(g(n[3][0],n[4][1]),g(-n[3][1],n[4][0])),n[2][2]))),-n[1][3]))),n[0][4])))))}}function p(x){return(2===x?c:3===x?m:4===x?a:5===x?b:void 0)(l,i,r,u)}var s=[function(){return[0]},function(E){return[E[0][0]]}];function v(x,E,g,M,w,n,S,d){return function(L){switch(L.length){case 0:return x(L);case 1:return E(L);case 2:return g(L);case 3:return M(L);case 4:return w(L);case 5:return n(L)}var B=S[L.length];return B||(B=S[L.length]=d(L.length)),B(L)}}!function A(){for(;s.length<6;)s.push(p(s.length));h.exports=v.apply(void 0,s.concat([s,p]));for(var x=0;x<s.length;++x)h.exports[x]=s[x]}()},9130:function(h,y,t){"use strict";var r=t(9660),l=t(9662);h.exports=function i(u,f){for(var c=r(u[0],f[0]),m=1;m<u.length;++m)c=l(c,r(u[m],f[m]));return c}},2227:function(h,y,t){"use strict";var r=t(9660),l=t(9662),i=t(4078),u=t(8289);function c(w){return(3===w?p:4===w?s:5===w?v:A)(l,i,r,u)}function p(w,n,S,d){return function I(L,B,k){var z=S(L[0],L[0]),O=d(z,B[0]),F=d(z,k[0]),N=S(B[0],B[0]),H=d(N,L[0]),X=d(N,k[0]),ne=S(k[0],k[0]),ie=d(ne,L[0]),ue=d(ne,B[0]),J=w(n(ue,X),n(H,O)),j=n(ie,F),W=n(J,j);return W[W.length-1]}}function s(w,n,S,d){return function I(L,B,k,z){var O=w(S(L[0],L[0]),S(L[1],L[1])),F=d(O,B[0]),N=d(O,k[0]),H=d(O,z[0]),X=w(S(B[0],B[0]),S(B[1],B[1])),ne=d(X,L[0]),ie=d(X,k[0]),ue=d(X,z[0]),J=w(S(k[0],k[0]),S(k[1],k[1])),j=d(J,L[0]),W=d(J,B[0]),V=d(J,z[0]),K=w(S(z[0],z[0]),S(z[1],z[1])),ae=d(K,L[0]),Q=d(K,B[0]),Z=d(K,k[0]),re=w(w(d(n(Z,V),B[1]),w(d(n(Q,ue),-k[1]),d(n(W,ie),z[1]))),w(d(n(Q,ue),L[1]),w(d(n(ae,H),-B[1]),d(n(ne,F),z[1])))),q=w(w(d(n(Z,V),L[1]),w(d(n(ae,H),-k[1]),d(n(j,N),z[1]))),w(d(n(W,ie),L[1]),w(d(n(j,N),-B[1]),d(n(ne,F),k[1])))),se=n(re,q);return se[se.length-1]}}function v(w,n,S,d){return function I(L,B,k,z,O){var F=w(S(L[0],L[0]),w(S(L[1],L[1]),S(L[2],L[2]))),N=d(F,B[0]),H=d(F,k[0]),X=d(F,z[0]),ne=d(F,O[0]),ie=w(S(B[0],B[0]),w(S(B[1],B[1]),S(B[2],B[2]))),ue=d(ie,L[0]),J=d(ie,k[0]),j=d(ie,z[0]),W=d(ie,O[0]),V=w(S(k[0],k[0]),w(S(k[1],k[1]),S(k[2],k[2]))),K=d(V,L[0]),ae=d(V,B[0]),Q=d(V,z[0]),Z=d(V,O[0]),re=w(S(z[0],z[0]),w(S(z[1],z[1]),S(z[2],z[2]))),q=d(re,L[0]),se=d(re,B[0]),de=d(re,k[0]),we=d(re,O[0]),ye=w(S(O[0],O[0]),w(S(O[1],O[1]),S(O[2],O[2]))),Pe=d(ye,L[0]),Ie=d(ye,B[0]),Se=d(ye,k[0]),xe=d(ye,z[0]),Me=w(w(w(d(w(d(n(xe,we),k[1]),w(d(n(Se,Z),-z[1]),d(n(de,Q),O[1]))),B[2]),w(d(w(d(n(xe,we),B[1]),w(d(n(Ie,W),-z[1]),d(n(se,j),O[1]))),-k[2]),d(w(d(n(Se,Z),B[1]),w(d(n(Ie,W),-k[1]),d(n(ae,J),O[1]))),z[2]))),w(d(w(d(n(de,Q),B[1]),w(d(n(se,j),-k[1]),d(n(ae,J),z[1]))),-O[2]),w(d(w(d(n(xe,we),B[1]),w(d(n(Ie,W),-z[1]),d(n(se,j),O[1]))),L[2]),d(w(d(n(xe,we),L[1]),w(d(n(Pe,ne),-z[1]),d(n(q,X),O[1]))),-B[2])))),w(w(d(w(d(n(Ie,W),L[1]),w(d(n(Pe,ne),-B[1]),d(n(ue,N),O[1]))),z[2]),w(d(w(d(n(se,j),L[1]),w(d(n(q,X),-B[1]),d(n(ue,N),z[1]))),-O[2]),d(w(d(n(de,Q),B[1]),w(d(n(se,j),-k[1]),d(n(ae,J),z[1]))),L[2]))),w(d(w(d(n(de,Q),L[1]),w(d(n(q,X),-k[1]),d(n(K,H),z[1]))),-B[2]),w(d(w(d(n(se,j),L[1]),w(d(n(q,X),-B[1]),d(n(ue,N),z[1]))),k[2]),d(w(d(n(ae,J),L[1]),w(d(n(K,H),-B[1]),d(n(ue,N),k[1]))),-z[2]))))),Ge=w(w(w(d(w(d(n(xe,we),k[1]),w(d(n(Se,Z),-z[1]),d(n(de,Q),O[1]))),L[2]),d(w(d(n(xe,we),L[1]),w(d(n(Pe,ne),-z[1]),d(n(q,X),O[1]))),-k[2])),w(d(w(d(n(Se,Z),L[1]),w(d(n(Pe,ne),-k[1]),d(n(K,H),O[1]))),z[2]),d(w(d(n(de,Q),L[1]),w(d(n(q,X),-k[1]),d(n(K,H),z[1]))),-O[2]))),w(w(d(w(d(n(Se,Z),B[1]),w(d(n(Ie,W),-k[1]),d(n(ae,J),O[1]))),L[2]),d(w(d(n(Se,Z),L[1]),w(d(n(Pe,ne),-k[1]),d(n(K,H),O[1]))),-B[2])),w(d(w(d(n(Ie,W),L[1]),w(d(n(Pe,ne),-B[1]),d(n(ue,N),O[1]))),k[2]),d(w(d(n(ae,J),L[1]),w(d(n(K,H),-B[1]),d(n(ue,N),k[1]))),-O[2])))),Ye=n(Me,Ge);return Ye[Ye.length-1]}}function A(w,n,S,d){return function I(L,B,k,z,O,F){var N=w(w(S(L[0],L[0]),S(L[1],L[1])),w(S(L[2],L[2]),S(L[3],L[3]))),H=d(N,B[0]),X=d(N,k[0]),ne=d(N,z[0]),ie=d(N,O[0]),ue=d(N,F[0]),J=w(w(S(B[0],B[0]),S(B[1],B[1])),w(S(B[2],B[2]),S(B[3],B[3]))),j=d(J,L[0]),W=d(J,k[0]),V=d(J,z[0]),K=d(J,O[0]),ae=d(J,F[0]),Q=w(w(S(k[0],k[0]),S(k[1],k[1])),w(S(k[2],k[2]),S(k[3],k[3]))),Z=d(Q,L[0]),re=d(Q,B[0]),q=d(Q,z[0]),se=d(Q,O[0]),de=d(Q,F[0]),we=w(w(S(z[0],z[0]),S(z[1],z[1])),w(S(z[2],z[2]),S(z[3],z[3]))),ye=d(we,L[0]),Pe=d(we,B[0]),Ie=d(we,k[0]),Se=d(we,O[0]),xe=d(we,F[0]),Me=w(w(S(O[0],O[0]),S(O[1],O[1])),w(S(O[2],O[2]),S(O[3],O[3]))),Ge=d(Me,L[0]),Ye=d(Me,B[0]),De=d(Me,k[0]),He=d(Me,z[0]),rt=d(Me,F[0]),$e=w(w(S(F[0],F[0]),S(F[1],F[1])),w(S(F[2],F[2]),S(F[3],F[3]))),Be=d($e,L[0]),ze=d($e,B[0]),tt=d($e,k[0]),lt=d($e,z[0]),ut=d($e,O[0]),xt=w(w(w(d(w(w(d(w(d(n(ut,rt),z[1]),w(d(n(lt,xe),-O[1]),d(n(He,Se),F[1]))),k[2]),d(w(d(n(ut,rt),k[1]),w(d(n(tt,de),-O[1]),d(n(De,se),F[1]))),-z[2])),w(d(w(d(n(lt,xe),k[1]),w(d(n(tt,de),-z[1]),d(n(Ie,q),F[1]))),O[2]),d(w(d(n(He,Se),k[1]),w(d(n(De,se),-z[1]),d(n(Ie,q),O[1]))),-F[2]))),B[3]),w(d(w(w(d(w(d(n(ut,rt),z[1]),w(d(n(lt,xe),-O[1]),d(n(He,Se),F[1]))),B[2]),d(w(d(n(ut,rt),B[1]),w(d(n(ze,ae),-O[1]),d(n(Ye,K),F[1]))),-z[2])),w(d(w(d(n(lt,xe),B[1]),w(d(n(ze,ae),-z[1]),d(n(Pe,V),F[1]))),O[2]),d(w(d(n(He,Se),B[1]),w(d(n(Ye,K),-z[1]),d(n(Pe,V),O[1]))),-F[2]))),-k[3]),d(w(w(d(w(d(n(ut,rt),k[1]),w(d(n(tt,de),-O[1]),d(n(De,se),F[1]))),B[2]),d(w(d(n(ut,rt),B[1]),w(d(n(ze,ae),-O[1]),d(n(Ye,K),F[1]))),-k[2])),w(d(w(d(n(tt,de),B[1]),w(d(n(ze,ae),-k[1]),d(n(re,W),F[1]))),O[2]),d(w(d(n(De,se),B[1]),w(d(n(Ye,K),-k[1]),d(n(re,W),O[1]))),-F[2]))),z[3]))),w(w(d(w(w(d(w(d(n(lt,xe),k[1]),w(d(n(tt,de),-z[1]),d(n(Ie,q),F[1]))),B[2]),d(w(d(n(lt,xe),B[1]),w(d(n(ze,ae),-z[1]),d(n(Pe,V),F[1]))),-k[2])),w(d(w(d(n(tt,de),B[1]),w(d(n(ze,ae),-k[1]),d(n(re,W),F[1]))),z[2]),d(w(d(n(Ie,q),B[1]),w(d(n(Pe,V),-k[1]),d(n(re,W),z[1]))),-F[2]))),-O[3]),d(w(w(d(w(d(n(He,Se),k[1]),w(d(n(De,se),-z[1]),d(n(Ie,q),O[1]))),B[2]),d(w(d(n(He,Se),B[1]),w(d(n(Ye,K),-z[1]),d(n(Pe,V),O[1]))),-k[2])),w(d(w(d(n(De,se),B[1]),w(d(n(Ye,K),-k[1]),d(n(re,W),O[1]))),z[2]),d(w(d(n(Ie,q),B[1]),w(d(n(Pe,V),-k[1]),d(n(re,W),z[1]))),-O[2]))),F[3])),w(d(w(w(d(w(d(n(ut,rt),z[1]),w(d(n(lt,xe),-O[1]),d(n(He,Se),F[1]))),B[2]),d(w(d(n(ut,rt),B[1]),w(d(n(ze,ae),-O[1]),d(n(Ye,K),F[1]))),-z[2])),w(d(w(d(n(lt,xe),B[1]),w(d(n(ze,ae),-z[1]),d(n(Pe,V),F[1]))),O[2]),d(w(d(n(He,Se),B[1]),w(d(n(Ye,K),-z[1]),d(n(Pe,V),O[1]))),-F[2]))),L[3]),d(w(w(d(w(d(n(ut,rt),z[1]),w(d(n(lt,xe),-O[1]),d(n(He,Se),F[1]))),L[2]),d(w(d(n(ut,rt),L[1]),w(d(n(Be,ue),-O[1]),d(n(Ge,ie),F[1]))),-z[2])),w(d(w(d(n(lt,xe),L[1]),w(d(n(Be,ue),-z[1]),d(n(ye,ne),F[1]))),O[2]),d(w(d(n(He,Se),L[1]),w(d(n(Ge,ie),-z[1]),d(n(ye,ne),O[1]))),-F[2]))),-B[3])))),w(w(w(d(w(w(d(w(d(n(ut,rt),B[1]),w(d(n(ze,ae),-O[1]),d(n(Ye,K),F[1]))),L[2]),d(w(d(n(ut,rt),L[1]),w(d(n(Be,ue),-O[1]),d(n(Ge,ie),F[1]))),-B[2])),w(d(w(d(n(ze,ae),L[1]),w(d(n(Be,ue),-B[1]),d(n(j,H),F[1]))),O[2]),d(w(d(n(Ye,K),L[1]),w(d(n(Ge,ie),-B[1]),d(n(j,H),O[1]))),-F[2]))),z[3]),d(w(w(d(w(d(n(lt,xe),B[1]),w(d(n(ze,ae),-z[1]),d(n(Pe,V),F[1]))),L[2]),d(w(d(n(lt,xe),L[1]),w(d(n(Be,ue),-z[1]),d(n(ye,ne),F[1]))),-B[2])),w(d(w(d(n(ze,ae),L[1]),w(d(n(Be,ue),-B[1]),d(n(j,H),F[1]))),z[2]),d(w(d(n(Pe,V),L[1]),w(d(n(ye,ne),-B[1]),d(n(j,H),z[1]))),-F[2]))),-O[3])),w(d(w(w(d(w(d(n(He,Se),B[1]),w(d(n(Ye,K),-z[1]),d(n(Pe,V),O[1]))),L[2]),d(w(d(n(He,Se),L[1]),w(d(n(Ge,ie),-z[1]),d(n(ye,ne),O[1]))),-B[2])),w(d(w(d(n(Ye,K),L[1]),w(d(n(Ge,ie),-B[1]),d(n(j,H),O[1]))),z[2]),d(w(d(n(Pe,V),L[1]),w(d(n(ye,ne),-B[1]),d(n(j,H),z[1]))),-O[2]))),F[3]),d(w(w(d(w(d(n(lt,xe),k[1]),w(d(n(tt,de),-z[1]),d(n(Ie,q),F[1]))),B[2]),d(w(d(n(lt,xe),B[1]),w(d(n(ze,ae),-z[1]),d(n(Pe,V),F[1]))),-k[2])),w(d(w(d(n(tt,de),B[1]),w(d(n(ze,ae),-k[1]),d(n(re,W),F[1]))),z[2]),d(w(d(n(Ie,q),B[1]),w(d(n(Pe,V),-k[1]),d(n(re,W),z[1]))),-F[2]))),L[3]))),w(w(d(w(w(d(w(d(n(lt,xe),k[1]),w(d(n(tt,de),-z[1]),d(n(Ie,q),F[1]))),L[2]),d(w(d(n(lt,xe),L[1]),w(d(n(Be,ue),-z[1]),d(n(ye,ne),F[1]))),-k[2])),w(d(w(d(n(tt,de),L[1]),w(d(n(Be,ue),-k[1]),d(n(Z,X),F[1]))),z[2]),d(w(d(n(Ie,q),L[1]),w(d(n(ye,ne),-k[1]),d(n(Z,X),z[1]))),-F[2]))),-B[3]),d(w(w(d(w(d(n(lt,xe),B[1]),w(d(n(ze,ae),-z[1]),d(n(Pe,V),F[1]))),L[2]),d(w(d(n(lt,xe),L[1]),w(d(n(Be,ue),-z[1]),d(n(ye,ne),F[1]))),-B[2])),w(d(w(d(n(ze,ae),L[1]),w(d(n(Be,ue),-B[1]),d(n(j,H),F[1]))),z[2]),d(w(d(n(Pe,V),L[1]),w(d(n(ye,ne),-B[1]),d(n(j,H),z[1]))),-F[2]))),k[3])),w(d(w(w(d(w(d(n(tt,de),B[1]),w(d(n(ze,ae),-k[1]),d(n(re,W),F[1]))),L[2]),d(w(d(n(tt,de),L[1]),w(d(n(Be,ue),-k[1]),d(n(Z,X),F[1]))),-B[2])),w(d(w(d(n(ze,ae),L[1]),w(d(n(Be,ue),-B[1]),d(n(j,H),F[1]))),k[2]),d(w(d(n(re,W),L[1]),w(d(n(Z,X),-B[1]),d(n(j,H),k[1]))),-F[2]))),-z[3]),d(w(w(d(w(d(n(Ie,q),B[1]),w(d(n(Pe,V),-k[1]),d(n(re,W),z[1]))),L[2]),d(w(d(n(Ie,q),L[1]),w(d(n(ye,ne),-k[1]),d(n(Z,X),z[1]))),-B[2])),w(d(w(d(n(Pe,V),L[1]),w(d(n(ye,ne),-B[1]),d(n(j,H),z[1]))),k[2]),d(w(d(n(re,W),L[1]),w(d(n(Z,X),-B[1]),d(n(j,H),k[1]))),-z[2]))),F[3]))))),bt=w(w(w(d(w(w(d(w(d(n(ut,rt),z[1]),w(d(n(lt,xe),-O[1]),d(n(He,Se),F[1]))),k[2]),d(w(d(n(ut,rt),k[1]),w(d(n(tt,de),-O[1]),d(n(De,se),F[1]))),-z[2])),w(d(w(d(n(lt,xe),k[1]),w(d(n(tt,de),-z[1]),d(n(Ie,q),F[1]))),O[2]),d(w(d(n(He,Se),k[1]),w(d(n(De,se),-z[1]),d(n(Ie,q),O[1]))),-F[2]))),L[3]),w(d(w(w(d(w(d(n(ut,rt),z[1]),w(d(n(lt,xe),-O[1]),d(n(He,Se),F[1]))),L[2]),d(w(d(n(ut,rt),L[1]),w(d(n(Be,ue),-O[1]),d(n(Ge,ie),F[1]))),-z[2])),w(d(w(d(n(lt,xe),L[1]),w(d(n(Be,ue),-z[1]),d(n(ye,ne),F[1]))),O[2]),d(w(d(n(He,Se),L[1]),w(d(n(Ge,ie),-z[1]),d(n(ye,ne),O[1]))),-F[2]))),-k[3]),d(w(w(d(w(d(n(ut,rt),k[1]),w(d(n(tt,de),-O[1]),d(n(De,se),F[1]))),L[2]),d(w(d(n(ut,rt),L[1]),w(d(n(Be,ue),-O[1]),d(n(Ge,ie),F[1]))),-k[2])),w(d(w(d(n(tt,de),L[1]),w(d(n(Be,ue),-k[1]),d(n(Z,X),F[1]))),O[2]),d(w(d(n(De,se),L[1]),w(d(n(Ge,ie),-k[1]),d(n(Z,X),O[1]))),-F[2]))),z[3]))),w(w(d(w(w(d(w(d(n(lt,xe),k[1]),w(d(n(tt,de),-z[1]),d(n(Ie,q),F[1]))),L[2]),d(w(d(n(lt,xe),L[1]),w(d(n(Be,ue),-z[1]),d(n(ye,ne),F[1]))),-k[2])),w(d(w(d(n(tt,de),L[1]),w(d(n(Be,ue),-k[1]),d(n(Z,X),F[1]))),z[2]),d(w(d(n(Ie,q),L[1]),w(d(n(ye,ne),-k[1]),d(n(Z,X),z[1]))),-F[2]))),-O[3]),d(w(w(d(w(d(n(He,Se),k[1]),w(d(n(De,se),-z[1]),d(n(Ie,q),O[1]))),L[2]),d(w(d(n(He,Se),L[1]),w(d(n(Ge,ie),-z[1]),d(n(ye,ne),O[1]))),-k[2])),w(d(w(d(n(De,se),L[1]),w(d(n(Ge,ie),-k[1]),d(n(Z,X),O[1]))),z[2]),d(w(d(n(Ie,q),L[1]),w(d(n(ye,ne),-k[1]),d(n(Z,X),z[1]))),-O[2]))),F[3])),w(d(w(w(d(w(d(n(ut,rt),k[1]),w(d(n(tt,de),-O[1]),d(n(De,se),F[1]))),B[2]),d(w(d(n(ut,rt),B[1]),w(d(n(ze,ae),-O[1]),d(n(Ye,K),F[1]))),-k[2])),w(d(w(d(n(tt,de),B[1]),w(d(n(ze,ae),-k[1]),d(n(re,W),F[1]))),O[2]),d(w(d(n(De,se),B[1]),w(d(n(Ye,K),-k[1]),d(n(re,W),O[1]))),-F[2]))),L[3]),d(w(w(d(w(d(n(ut,rt),k[1]),w(d(n(tt,de),-O[1]),d(n(De,se),F[1]))),L[2]),d(w(d(n(ut,rt),L[1]),w(d(n(Be,ue),-O[1]),d(n(Ge,ie),F[1]))),-k[2])),w(d(w(d(n(tt,de),L[1]),w(d(n(Be,ue),-k[1]),d(n(Z,X),F[1]))),O[2]),d(w(d(n(De,se),L[1]),w(d(n(Ge,ie),-k[1]),d(n(Z,X),O[1]))),-F[2]))),-B[3])))),w(w(w(d(w(w(d(w(d(n(ut,rt),B[1]),w(d(n(ze,ae),-O[1]),d(n(Ye,K),F[1]))),L[2]),d(w(d(n(ut,rt),L[1]),w(d(n(Be,ue),-O[1]),d(n(Ge,ie),F[1]))),-B[2])),w(d(w(d(n(ze,ae),L[1]),w(d(n(Be,ue),-B[1]),d(n(j,H),F[1]))),O[2]),d(w(d(n(Ye,K),L[1]),w(d(n(Ge,ie),-B[1]),d(n(j,H),O[1]))),-F[2]))),k[3]),d(w(w(d(w(d(n(tt,de),B[1]),w(d(n(ze,ae),-k[1]),d(n(re,W),F[1]))),L[2]),d(w(d(n(tt,de),L[1]),w(d(n(Be,ue),-k[1]),d(n(Z,X),F[1]))),-B[2])),w(d(w(d(n(ze,ae),L[1]),w(d(n(Be,ue),-B[1]),d(n(j,H),F[1]))),k[2]),d(w(d(n(re,W),L[1]),w(d(n(Z,X),-B[1]),d(n(j,H),k[1]))),-F[2]))),-O[3])),w(d(w(w(d(w(d(n(De,se),B[1]),w(d(n(Ye,K),-k[1]),d(n(re,W),O[1]))),L[2]),d(w(d(n(De,se),L[1]),w(d(n(Ge,ie),-k[1]),d(n(Z,X),O[1]))),-B[2])),w(d(w(d(n(Ye,K),L[1]),w(d(n(Ge,ie),-B[1]),d(n(j,H),O[1]))),k[2]),d(w(d(n(re,W),L[1]),w(d(n(Z,X),-B[1]),d(n(j,H),k[1]))),-O[2]))),F[3]),d(w(w(d(w(d(n(He,Se),k[1]),w(d(n(De,se),-z[1]),d(n(Ie,q),O[1]))),B[2]),d(w(d(n(He,Se),B[1]),w(d(n(Ye,K),-z[1]),d(n(Pe,V),O[1]))),-k[2])),w(d(w(d(n(De,se),B[1]),w(d(n(Ye,K),-k[1]),d(n(re,W),O[1]))),z[2]),d(w(d(n(Ie,q),B[1]),w(d(n(Pe,V),-k[1]),d(n(re,W),z[1]))),-O[2]))),L[3]))),w(w(d(w(w(d(w(d(n(He,Se),k[1]),w(d(n(De,se),-z[1]),d(n(Ie,q),O[1]))),L[2]),d(w(d(n(He,Se),L[1]),w(d(n(Ge,ie),-z[1]),d(n(ye,ne),O[1]))),-k[2])),w(d(w(d(n(De,se),L[1]),w(d(n(Ge,ie),-k[1]),d(n(Z,X),O[1]))),z[2]),d(w(d(n(Ie,q),L[1]),w(d(n(ye,ne),-k[1]),d(n(Z,X),z[1]))),-O[2]))),-B[3]),d(w(w(d(w(d(n(He,Se),B[1]),w(d(n(Ye,K),-z[1]),d(n(Pe,V),O[1]))),L[2]),d(w(d(n(He,Se),L[1]),w(d(n(Ge,ie),-z[1]),d(n(ye,ne),O[1]))),-B[2])),w(d(w(d(n(Ye,K),L[1]),w(d(n(Ge,ie),-B[1]),d(n(j,H),O[1]))),z[2]),d(w(d(n(Pe,V),L[1]),w(d(n(ye,ne),-B[1]),d(n(j,H),z[1]))),-O[2]))),k[3])),w(d(w(w(d(w(d(n(De,se),B[1]),w(d(n(Ye,K),-k[1]),d(n(re,W),O[1]))),L[2]),d(w(d(n(De,se),L[1]),w(d(n(Ge,ie),-k[1]),d(n(Z,X),O[1]))),-B[2])),w(d(w(d(n(Ye,K),L[1]),w(d(n(Ge,ie),-B[1]),d(n(j,H),O[1]))),k[2]),d(w(d(n(re,W),L[1]),w(d(n(Z,X),-B[1]),d(n(j,H),k[1]))),-O[2]))),-z[3]),d(w(w(d(w(d(n(Ie,q),B[1]),w(d(n(Pe,V),-k[1]),d(n(re,W),z[1]))),L[2]),d(w(d(n(Ie,q),L[1]),w(d(n(ye,ne),-k[1]),d(n(Z,X),z[1]))),-B[2])),w(d(w(d(n(Pe,V),L[1]),w(d(n(ye,ne),-B[1]),d(n(j,H),z[1]))),k[2]),d(w(d(n(re,W),L[1]),w(d(n(Z,X),-B[1]),d(n(j,H),k[1]))),-z[2]))),O[3]))))),Ht=n(xt,bt);return Ht[Ht.length-1]}}var x=[function m(){return 0},function a(){return 0},function b(){return 0}];function E(w){var n=x[w.length];return n||(n=x[w.length]=c(w.length)),n.apply(void 0,w)}function g(w,n,S,d,I,L,B,k){return function z(O,F,N,H,X,ne){switch(arguments.length){case 0:case 1:return 0;case 2:return d(O,F);case 3:return I(O,F,N);case 4:return L(O,F,N,H);case 5:return B(O,F,N,H,X);case 6:return k(O,F,N,H,X,ne)}for(var ie=new Array(arguments.length),ue=0;ue<arguments.length;++ue)ie[ue]=arguments[ue];return w(ie)}}!function M(){for(;x.length<=6;)x.push(c(x.length));h.exports=g.apply(void 0,[E].concat(x));for(var w=0;w<=6;++w)h.exports[w]=x[w]}()},6606:function(h,y,t){"use strict";var r=t(8167);function i(x){return(2===x?c:3===x?m:4===x?a:5===x?b:p)(x<6?r[x]:r)}function c(x){return function(g,M){return[x([[+M[0],+g[0][1]],[+M[1],+g[1][1]]]),x([[+g[0][0],+M[0]],[+g[1][0],+M[1]]]),x(g)]}}function m(x){return function(g,M){return[x([[+M[0],+g[0][1],+g[0][2]],[+M[1],+g[1][1],+g[1][2]],[+M[2],+g[2][1],+g[2][2]]]),x([[+g[0][0],+M[0],+g[0][2]],[+g[1][0],+M[1],+g[1][2]],[+g[2][0],+M[2],+g[2][2]]]),x([[+g[0][0],+g[0][1],+M[0]],[+g[1][0],+g[1][1],+M[1]],[+g[2][0],+g[2][1],+M[2]]]),x(g)]}}function a(x){return function(g,M){return[x([[+M[0],+g[0][1],+g[0][2],+g[0][3]],[+M[1],+g[1][1],+g[1][2],+g[1][3]],[+M[2],+g[2][1],+g[2][2],+g[2][3]],[+M[3],+g[3][1],+g[3][2],+g[3][3]]]),x([[+g[0][0],+M[0],+g[0][2],+g[0][3]],[+g[1][0],+M[1],+g[1][2],+g[1][3]],[+g[2][0],+M[2],+g[2][2],+g[2][3]],[+g[3][0],+M[3],+g[3][2],+g[3][3]]]),x([[+g[0][0],+g[0][1],+M[0],+g[0][3]],[+g[1][0],+g[1][1],+M[1],+g[1][3]],[+g[2][0],+g[2][1],+M[2],+g[2][3]],[+g[3][0],+g[3][1],+M[3],+g[3][3]]]),x([[+g[0][0],+g[0][1],+g[0][2],+M[0]],[+g[1][0],+g[1][1],+g[1][2],+M[1]],[+g[2][0],+g[2][1],+g[2][2],+M[2]],[+g[3][0],+g[3][1],+g[3][2],+M[3]]]),x(g)]}}function b(x){return function(g,M){return[x([[+M[0],+g[0][1],+g[0][2],+g[0][3],+g[0][4]],[+M[1],+g[1][1],+g[1][2],+g[1][3],+g[1][4]],[+M[2],+g[2][1],+g[2][2],+g[2][3],+g[2][4]],[+M[3],+g[3][1],+g[3][2],+g[3][3],+g[3][4]],[+M[4],+g[4][1],+g[4][2],+g[4][3],+g[4][4]]]),x([[+g[0][0],+M[0],+g[0][2],+g[0][3],+g[0][4]],[+g[1][0],+M[1],+g[1][2],+g[1][3],+g[1][4]],[+g[2][0],+M[2],+g[2][2],+g[2][3],+g[2][4]],[+g[3][0],+M[3],+g[3][2],+g[3][3],+g[3][4]],[+g[4][0],+M[4],+g[4][2],+g[4][3],+g[4][4]]]),x([[+g[0][0],+g[0][1],+M[0],+g[0][3],+g[0][4]],[+g[1][0],+g[1][1],+M[1],+g[1][3],+g[1][4]],[+g[2][0],+g[2][1],+M[2],+g[2][3],+g[2][4]],[+g[3][0],+g[3][1],+M[3],+g[3][3],+g[3][4]],[+g[4][0],+g[4][1],+M[4],+g[4][3],+g[4][4]]]),x([[+g[0][0],+g[0][1],+g[0][2],+M[0],+g[0][4]],[+g[1][0],+g[1][1],+g[1][2],+M[1],+g[1][4]],[+g[2][0],+g[2][1],+g[2][2],+M[2],+g[2][4]],[+g[3][0],+g[3][1],+g[3][2],+M[3],+g[3][4]],[+g[4][0],+g[4][1],+g[4][2],+M[4],+g[4][4]]]),x([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+M[0]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+M[1]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+M[2]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+M[3]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+M[4]]]),x(g)]}}function p(x){return function(g,M){return[x([[+M[0],+g[0][1],+g[0][2],+g[0][3],+g[0][4],+g[0][5]],[+M[1],+g[1][1],+g[1][2],+g[1][3],+g[1][4],+g[1][5]],[+M[2],+g[2][1],+g[2][2],+g[2][3],+g[2][4],+g[2][5]],[+M[3],+g[3][1],+g[3][2],+g[3][3],+g[3][4],+g[3][5]],[+M[4],+g[4][1],+g[4][2],+g[4][3],+g[4][4],+g[4][5]],[+M[5],+g[5][1],+g[5][2],+g[5][3],+g[5][4],+g[5][5]]]),x([[+g[0][0],+M[0],+g[0][2],+g[0][3],+g[0][4],+g[0][5]],[+g[1][0],+M[1],+g[1][2],+g[1][3],+g[1][4],+g[1][5]],[+g[2][0],+M[2],+g[2][2],+g[2][3],+g[2][4],+g[2][5]],[+g[3][0],+M[3],+g[3][2],+g[3][3],+g[3][4],+g[3][5]],[+g[4][0],+M[4],+g[4][2],+g[4][3],+g[4][4],+g[4][5]],[+g[5][0],+M[5],+g[5][2],+g[5][3],+g[5][4],+g[5][5]]]),x([[+g[0][0],+g[0][1],+M[0],+g[0][3],+g[0][4],+g[0][5]],[+g[1][0],+g[1][1],+M[1],+g[1][3],+g[1][4],+g[1][5]],[+g[2][0],+g[2][1],+M[2],+g[2][3],+g[2][4],+g[2][5]],[+g[3][0],+g[3][1],+M[3],+g[3][3],+g[3][4],+g[3][5]],[+g[4][0],+g[4][1],+M[4],+g[4][3],+g[4][4],+g[4][5]],[+g[5][0],+g[5][1],+M[5],+g[5][3],+g[5][4],+g[5][5]]]),x([[+g[0][0],+g[0][1],+g[0][2],+M[0],+g[0][4],+g[0][5]],[+g[1][0],+g[1][1],+g[1][2],+M[1],+g[1][4],+g[1][5]],[+g[2][0],+g[2][1],+g[2][2],+M[2],+g[2][4],+g[2][5]],[+g[3][0],+g[3][1],+g[3][2],+M[3],+g[3][4],+g[3][5]],[+g[4][0],+g[4][1],+g[4][2],+M[4],+g[4][4],+g[4][5]],[+g[5][0],+g[5][1],+g[5][2],+M[5],+g[5][4],+g[5][5]]]),x([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+M[0],+g[0][5]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+M[1],+g[1][5]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+M[2],+g[2][5]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+M[3],+g[3][5]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+M[4],+g[4][5]],[+g[5][0],+g[5][1],+g[5][2],+g[5][3],+M[5],+g[5][5]]]),x([[+g[0][0],+g[0][1],+g[0][2],+g[0][3],+g[0][4],+M[0]],[+g[1][0],+g[1][1],+g[1][2],+g[1][3],+g[1][4],+M[1]],[+g[2][0],+g[2][1],+g[2][2],+g[2][3],+g[2][4],+M[2]],[+g[3][0],+g[3][1],+g[3][2],+g[3][3],+g[3][4],+M[3]],[+g[4][0],+g[4][1],+g[4][2],+g[4][3],+g[4][4],+M[4]],[+g[5][0],+g[5][1],+g[5][2],+g[5][3],+g[5][4],+M[5]]]),x(g)]}}var s=[function u(){return[[0]]},function f(x,E){return[[E[0]],[x[0][0]]]}];function v(x,E,g,M,w,n,S,d){return function(L,B){switch(L.length){case 0:return x(L,B);case 1:return E(L,B);case 2:return g(L,B);case 3:return M(L,B);case 4:return w(L,B);case 5:return n(L,B)}var k=S[L.length];return k||(k=S[L.length]=d(L.length)),k(L,B)}}!function A(){for(;s.length<6;)s.push(i(s.length));h.exports=v.apply(void 0,s.concat([s,i]));for(var x=0;x<6;++x)h.exports[x]=s[x]}()},417:function(h,y,t){"use strict";var r=t(9660),l=t(9662),i=t(8289),u=t(4078);function b(n,S,d,I){return function(B,k,z){var O=n(n(S(k[1],z[0]),S(-z[1],k[0])),n(S(B[1],k[0]),S(-k[1],B[0]))),F=n(S(B[1],z[0]),S(-z[1],B[0])),N=I(O,F);return N[N.length-1]}}function p(n,S,d,I){return function(B,k,z,O){var F=n(n(d(n(S(z[1],O[0]),S(-O[1],z[0])),k[2]),n(d(n(S(k[1],O[0]),S(-O[1],k[0])),-z[2]),d(n(S(k[1],z[0]),S(-z[1],k[0])),O[2]))),n(d(n(S(k[1],O[0]),S(-O[1],k[0])),B[2]),n(d(n(S(B[1],O[0]),S(-O[1],B[0])),-k[2]),d(n(S(B[1],k[0]),S(-k[1],B[0])),O[2])))),N=n(n(d(n(S(z[1],O[0]),S(-O[1],z[0])),B[2]),n(d(n(S(B[1],O[0]),S(-O[1],B[0])),-z[2]),d(n(S(B[1],z[0]),S(-z[1],B[0])),O[2]))),n(d(n(S(k[1],z[0]),S(-z[1],k[0])),B[2]),n(d(n(S(B[1],z[0]),S(-z[1],B[0])),-k[2]),d(n(S(B[1],k[0]),S(-k[1],B[0])),z[2])))),H=I(F,N);return H[H.length-1]}}function s(n,S,d,I){return function(B,k,z,O,F){var N=n(n(n(d(n(d(n(S(O[1],F[0]),S(-F[1],O[0])),z[2]),n(d(n(S(z[1],F[0]),S(-F[1],z[0])),-O[2]),d(n(S(z[1],O[0]),S(-O[1],z[0])),F[2]))),k[3]),n(d(n(d(n(S(O[1],F[0]),S(-F[1],O[0])),k[2]),n(d(n(S(k[1],F[0]),S(-F[1],k[0])),-O[2]),d(n(S(k[1],O[0]),S(-O[1],k[0])),F[2]))),-z[3]),d(n(d(n(S(z[1],F[0]),S(-F[1],z[0])),k[2]),n(d(n(S(k[1],F[0]),S(-F[1],k[0])),-z[2]),d(n(S(k[1],z[0]),S(-z[1],k[0])),F[2]))),O[3]))),n(d(n(d(n(S(z[1],O[0]),S(-O[1],z[0])),k[2]),n(d(n(S(k[1],O[0]),S(-O[1],k[0])),-z[2]),d(n(S(k[1],z[0]),S(-z[1],k[0])),O[2]))),-F[3]),n(d(n(d(n(S(O[1],F[0]),S(-F[1],O[0])),k[2]),n(d(n(S(k[1],F[0]),S(-F[1],k[0])),-O[2]),d(n(S(k[1],O[0]),S(-O[1],k[0])),F[2]))),B[3]),d(n(d(n(S(O[1],F[0]),S(-F[1],O[0])),B[2]),n(d(n(S(B[1],F[0]),S(-F[1],B[0])),-O[2]),d(n(S(B[1],O[0]),S(-O[1],B[0])),F[2]))),-k[3])))),n(n(d(n(d(n(S(k[1],F[0]),S(-F[1],k[0])),B[2]),n(d(n(S(B[1],F[0]),S(-F[1],B[0])),-k[2]),d(n(S(B[1],k[0]),S(-k[1],B[0])),F[2]))),O[3]),n(d(n(d(n(S(k[1],O[0]),S(-O[1],k[0])),B[2]),n(d(n(S(B[1],O[0]),S(-O[1],B[0])),-k[2]),d(n(S(B[1],k[0]),S(-k[1],B[0])),O[2]))),-F[3]),d(n(d(n(S(z[1],O[0]),S(-O[1],z[0])),k[2]),n(d(n(S(k[1],O[0]),S(-O[1],k[0])),-z[2]),d(n(S(k[1],z[0]),S(-z[1],k[0])),O[2]))),B[3]))),n(d(n(d(n(S(z[1],O[0]),S(-O[1],z[0])),B[2]),n(d(n(S(B[1],O[0]),S(-O[1],B[0])),-z[2]),d(n(S(B[1],z[0]),S(-z[1],B[0])),O[2]))),-k[3]),n(d(n(d(n(S(k[1],O[0]),S(-O[1],k[0])),B[2]),n(d(n(S(B[1],O[0]),S(-O[1],B[0])),-k[2]),d(n(S(B[1],k[0]),S(-k[1],B[0])),O[2]))),z[3]),d(n(d(n(S(k[1],z[0]),S(-z[1],k[0])),B[2]),n(d(n(S(B[1],z[0]),S(-z[1],B[0])),-k[2]),d(n(S(B[1],k[0]),S(-k[1],B[0])),z[2]))),-O[3]))))),H=n(n(n(d(n(d(n(S(O[1],F[0]),S(-F[1],O[0])),z[2]),n(d(n(S(z[1],F[0]),S(-F[1],z[0])),-O[2]),d(n(S(z[1],O[0]),S(-O[1],z[0])),F[2]))),B[3]),d(n(d(n(S(O[1],F[0]),S(-F[1],O[0])),B[2]),n(d(n(S(B[1],F[0]),S(-F[1],B[0])),-O[2]),d(n(S(B[1],O[0]),S(-O[1],B[0])),F[2]))),-z[3])),n(d(n(d(n(S(z[1],F[0]),S(-F[1],z[0])),B[2]),n(d(n(S(B[1],F[0]),S(-F[1],B[0])),-z[2]),d(n(S(B[1],z[0]),S(-z[1],B[0])),F[2]))),O[3]),d(n(d(n(S(z[1],O[0]),S(-O[1],z[0])),B[2]),n(d(n(S(B[1],O[0]),S(-O[1],B[0])),-z[2]),d(n(S(B[1],z[0]),S(-z[1],B[0])),O[2]))),-F[3]))),n(n(d(n(d(n(S(z[1],F[0]),S(-F[1],z[0])),k[2]),n(d(n(S(k[1],F[0]),S(-F[1],k[0])),-z[2]),d(n(S(k[1],z[0]),S(-z[1],k[0])),F[2]))),B[3]),d(n(d(n(S(z[1],F[0]),S(-F[1],z[0])),B[2]),n(d(n(S(B[1],F[0]),S(-F[1],B[0])),-z[2]),d(n(S(B[1],z[0]),S(-z[1],B[0])),F[2]))),-k[3])),n(d(n(d(n(S(k[1],F[0]),S(-F[1],k[0])),B[2]),n(d(n(S(B[1],F[0]),S(-F[1],B[0])),-k[2]),d(n(S(B[1],k[0]),S(-k[1],B[0])),F[2]))),z[3]),d(n(d(n(S(k[1],z[0]),S(-z[1],k[0])),B[2]),n(d(n(S(B[1],z[0]),S(-z[1],B[0])),-k[2]),d(n(S(B[1],k[0]),S(-k[1],B[0])),z[2]))),-F[3])))),X=I(N,H);return X[X.length-1]}}function v(n){return(3===n?b:4===n?p:s)(l,r,i,u)}var A=v(3),x=v(4),E=[function(){return 0},function(){return 0},function(S,d){return d[0]-S[0]},function(S,d,I){var z,L=(S[1]-I[1])*(d[0]-I[0]),B=(S[0]-I[0])*(d[1]-I[1]),k=L-B;if(L>0){if(B<=0)return k;z=L+B}else{if(!(L<0))return k;if(B>=0)return k;z=-(L+B)}var O=33306690738754716e-32*z;return k>=O||k<=-O?k:A(S,d,I)},function(S,d,I,L){var B=S[0]-L[0],k=d[0]-L[0],z=I[0]-L[0],O=S[1]-L[1],F=d[1]-L[1],N=I[1]-L[1],H=S[2]-L[2],X=d[2]-L[2],ne=I[2]-L[2],ie=k*N,ue=z*F,J=z*O,j=B*N,W=B*F,V=k*O,K=H*(ie-ue)+X*(J-j)+ne*(W-V),Q=7771561172376103e-31*((Math.abs(ie)+Math.abs(ue))*Math.abs(H)+(Math.abs(J)+Math.abs(j))*Math.abs(X)+(Math.abs(W)+Math.abs(V))*Math.abs(ne));return K>Q||-K>Q?K:x(S,d,I,L)}];function g(n){var S=E[n.length];return S||(S=E[n.length]=v(n.length)),S.apply(void 0,n)}function M(n,S,d,I,L,B,k){return function(O,F,N,H,X){switch(arguments.length){case 0:case 1:return 0;case 2:return I(O,F);case 3:return L(O,F,N);case 4:return B(O,F,N,H);case 5:return k(O,F,N,H,X)}for(var ne=new Array(arguments.length),ie=0;ie<arguments.length;++ie)ne[ie]=arguments[ie];return n(ne)}}!function w(){for(;E.length<=5;)E.push(v(E.length));h.exports=M.apply(void 0,[g].concat(E));for(var n=0;n<=5;++n)h.exports[n]=E[n]}()},2019:function(h,y,t){"use strict";var r=t(9662),l=t(8289);h.exports=function i(u,f){if(1===u.length)return l(f,u[0]);if(1===f.length)return l(u,f[0]);if(0===u.length||0===f.length)return[0];var c=[0];if(u.length<f.length)for(var m=0;m<u.length;++m)c=r(c,l(f,u[m]));else for(m=0;m<f.length;++m)c=r(c,l(u,f[m]));return c}},8289:function(h,y,t){"use strict";var r=t(9660),l=t(87);h.exports=function i(u,f){var c=u.length;if(1===c){var m=r(u[0],f);return m[0]?m:[m[1]]}var a=new Array(2*c),b=[.1,.1],p=[.1,.1],s=0;r(u[0],f,b),b[0]&&(a[s++]=b[0]);for(var v=1;v<c;++v){r(u[v],f,p),l(b[1],p[0],b),b[0]&&(a[s++]=b[0]);var x=p[1],E=b[1],g=x+E,w=E-(g-x);b[1]=g,w&&(a[s++]=w)}return b[1]&&(a[s++]=b[1]),0===s&&(a[s++]=0),a.length=s,a}},4434:function(h,y,t){"use strict";h.exports=function i(u,f,c,m){var a=r(u,c,m),b=r(f,c,m);if(a>0&&b>0||a<0&&b<0)return!1;var p=r(c,u,f),s=r(m,u,f);return!(p>0&&s>0||p<0&&s<0)&&(0!==a||0!==b||0!==p||0!==s||function l(u,f,c,m){for(var a=0;a<2;++a){var b=u[a],p=f[a],s=Math.min(b,p),v=Math.max(b,p),A=c[a],x=m[a],E=Math.min(A,x);if(Math.max(A,x)<s||v<E)return!1}return!0}(u,f,c,m))};var r=t(417)[3]},4078:function(h){"use strict";h.exports=function t(r,l){var i=0|r.length,u=0|l.length;if(1===i&&1===u)return function y(r,l){var i=r+l,u=i-r,a=r-(i-u)+(l-u);return a?[a,i]:[i]}(r[0],-l[0]);var E,g,c=new Array(i+u),m=0,a=0,b=0,p=Math.abs,s=r[a],v=p(s),A=-l[b],x=p(A);v<x?(g=s,(a+=1)<i&&(v=p(s=r[a]))):(g=A,(b+=1)<u&&(x=p(A=-l[b]))),a<i&&v<x||b>=u?(E=s,(a+=1)<i&&(v=p(s=r[a]))):(E=A,(b+=1)<u&&(x=p(A=-l[b])));for(var I,L,M=E+g,w=M-E,n=g-w,S=n,d=M;a<i&&b<u;)v<x?(E=s,(a+=1)<i&&(v=p(s=r[a]))):(E=A,(b+=1)<u&&(x=p(A=-l[b]))),(n=(g=S)-(w=(M=E+g)-E))&&(c[m++]=n),S=d-((I=d+M)-(L=I-d))+(M-L),d=I;for(;a<i;)(n=(g=S)-(w=(M=(E=s)+g)-E))&&(c[m++]=n),S=d-((I=d+M)-(L=I-d))+(M-L),d=I,(a+=1)<i&&(s=r[a]);for(;b<u;)(n=(g=S)-(w=(M=(E=A)+g)-E))&&(c[m++]=n),S=d-((I=d+M)-(L=I-d))+(M-L),d=I,(b+=1)<u&&(A=-l[b]);return S&&(c[m++]=S),d&&(c[m++]=d),m||(c[m++]=0),c.length=m,c}},9662:function(h){"use strict";h.exports=function t(r,l){var i=0|r.length,u=0|l.length;if(1===i&&1===u)return function y(r,l){var i=r+l,u=i-r,a=r-(i-u)+(l-u);return a?[a,i]:[i]}(r[0],l[0]);var E,g,c=new Array(i+u),m=0,a=0,b=0,p=Math.abs,s=r[a],v=p(s),A=l[b],x=p(A);v<x?(g=s,(a+=1)<i&&(v=p(s=r[a]))):(g=A,(b+=1)<u&&(x=p(A=l[b]))),a<i&&v<x||b>=u?(E=s,(a+=1)<i&&(v=p(s=r[a]))):(E=A,(b+=1)<u&&(x=p(A=l[b])));for(var I,L,M=E+g,w=M-E,n=g-w,S=n,d=M;a<i&&b<u;)v<x?(E=s,(a+=1)<i&&(v=p(s=r[a]))):(E=A,(b+=1)<u&&(x=p(A=l[b]))),(n=(g=S)-(w=(M=E+g)-E))&&(c[m++]=n),S=d-((I=d+M)-(L=I-d))+(M-L),d=I;for(;a<i;)(n=(g=S)-(w=(M=(E=s)+g)-E))&&(c[m++]=n),S=d-((I=d+M)-(L=I-d))+(M-L),d=I,(a+=1)<i&&(s=r[a]);for(;b<u;)(n=(g=S)-(w=(M=(E=A)+g)-E))&&(c[m++]=n),S=d-((I=d+M)-(L=I-d))+(M-L),d=I,(b+=1)<u&&(A=l[b]);return S&&(c[m++]=S),d&&(c[m++]=d),m||(c[m++]=0),c.length=m,c}},8691:function(h,y,t){"use strict";h.exports=function i(u){return l(r(u))};var r=t(2692),l=t(7037)},7212:function(h,y,t){"use strict";h.exports=function s(v,A,x,E){if(x=x||0,typeof E>"u"&&(E=function f(v){for(var A=v.length,x=0,E=0;E<A;++E)x=0|Math.max(x,v[E].length);return x-1}(v)),0===v.length||E<1)return{cells:[],vertexIds:[],vertexWeights:[]};var M=function c(v,A){for(var x=v.length,E=l.mallocUint8(x),g=0;g<x;++g)E[g]=v[g]<A|0;return E}(A,+x),w=function m(v,A){for(var x=v.length,g=l.mallocUint32(2*(A*(A+1)/2*x|0)),M=0,w=0;w<x;++w)for(var n=v[w],S=(A=n.length,0);S<A;++S)for(var d=0;d<S;++d){var I=n[d],L=n[S];g[M++]=0|Math.min(I,L),g[M++]=0|Math.max(I,L)}i(r(g,[M/2|0,2]));var k=2;for(w=2;w<M;w+=2)g[w-2]===g[w]&&g[w-1]===g[w+1]||(g[k++]=g[w],g[k++]=g[w+1]);return r(g,[k/2|0,2])}(v,E),n=function a(v,A,x,E){for(var g=v.data,M=v.shape[0],w=l.mallocDouble(M),n=0,S=0;S<M;++S){var d=g[2*S],I=g[2*S+1];if(x[d]!==x[I]){var L=A[d],B=A[I];g[2*n]=d,g[2*n+1]=I,w[n++]=(B-E)/(B-L)}}return v.shape[0]=n,r(w,[n])}(w,A,M,+x),S=function b(v,A){var x=l.mallocInt32(2*A),E=v.shape[0],g=v.data;x[0]=0;for(var M=0,w=0;w<E;++w){var n=g[2*w];if(n!==M){for(x[2*M+1]=w;++M<n;)x[2*M]=w,x[2*M+1]=w;x[2*M]=w}}for(x[2*M+1]=E;++M<A;)x[2*M]=x[2*M+1]=E;return x}(w,0|A.length),d=u(E)(v,w.data,S,M),I=function p(v){for(var A=0|v.shape[0],x=v.data,E=new Array(A),g=0;g<A;++g)E[g]=[x[2*g],x[2*g+1]];return E}(w),L=[].slice.call(n.data,0,n.shape[0]);return l.free(M),l.free(w.data),l.free(n.data),l.free(S),{cells:d,vertexIds:I,vertexWeights:L}};var r=t(5050),l=t(5306),i=t(8729),u=t(1168)},1168:function(h){"use strict";h.exports=function t(r){return y[r]()};var y=[function(){return function i(u,f,c,m){for(var a=u.length,p=0;p<a;++p);return[]}},function(){function l(u,f,c,m){for(var a=0|Math.min(c,m),b=0|Math.max(c,m),p=u[2*a],s=u[2*a+1];p<s;){var v=p+s>>1,A=f[2*v+1];if(A===b)return v;b<A?s=v:p=v+1}return p}return function i(u,f,c,m){for(var a=u.length,b=[],p=0;p<a;++p){var s=u[p];if(2===s.length){var A=(m[s[0]]<<0)+(m[s[1]]<<1);if(0===A||3===A)continue;switch(A){case 0:case 3:break;case 1:b.push([l(c,f,s[0],s[1])]);break;case 2:b.push([l(c,f,s[1],s[0])])}}}return b}},function(){function l(u,f,c,m){for(var a=0|Math.min(c,m),b=0|Math.max(c,m),p=u[2*a],s=u[2*a+1];p<s;){var v=p+s>>1,A=f[2*v+1];if(A===b)return v;b<A?s=v:p=v+1}return p}return function i(u,f,c,m){for(var a=u.length,b=[],p=0;p<a;++p){var s=u[p],v=s.length;if(3===v){if(0==(A=(m[s[0]]<<0)+(m[s[1]]<<1)+(m[s[2]]<<2))||7===A)continue;switch(A){case 0:case 7:break;case 1:b.push([l(c,f,s[0],s[2]),l(c,f,s[0],s[1])]);break;case 2:b.push([l(c,f,s[1],s[0]),l(c,f,s[1],s[2])]);break;case 3:b.push([l(c,f,s[0],s[2]),l(c,f,s[1],s[2])]);break;case 4:b.push([l(c,f,s[2],s[1]),l(c,f,s[2],s[0])]);break;case 5:b.push([l(c,f,s[2],s[1]),l(c,f,s[0],s[1])]);break;case 6:b.push([l(c,f,s[1],s[0]),l(c,f,s[2],s[0])])}}else if(2===v){var A;if(0==(A=(m[s[0]]<<0)+(m[s[1]]<<1))||3===A)continue;switch(A){case 0:case 3:break;case 1:b.push([l(c,f,s[0],s[1])]);break;case 2:b.push([l(c,f,s[1],s[0])])}}}return b}},function(){function l(u,f,c,m){for(var a=0|Math.min(c,m),b=0|Math.max(c,m),p=u[2*a],s=u[2*a+1];p<s;){var v=p+s>>1,A=f[2*v+1];if(A===b)return v;b<A?s=v:p=v+1}return p}return function i(u,f,c,m){for(var a=u.length,b=[],p=0;p<a;++p){var s=u[p],v=s.length;if(4===v){if(0==(A=(m[s[0]]<<0)+(m[s[1]]<<1)+(m[s[2]]<<2)+(m[s[3]]<<3))||15===A)continue;switch(A){case 0:case 15:break;case 1:b.push([l(c,f,s[0],s[1]),l(c,f,s[0],s[2]),l(c,f,s[0],s[3])]);break;case 2:b.push([l(c,f,s[1],s[2]),l(c,f,s[1],s[0]),l(c,f,s[1],s[3])]);break;case 3:b.push([l(c,f,s[1],s[2]),l(c,f,s[0],s[2]),l(c,f,s[0],s[3])],[l(c,f,s[1],s[3]),l(c,f,s[1],s[2]),l(c,f,s[0],s[3])]);break;case 4:b.push([l(c,f,s[2],s[0]),l(c,f,s[2],s[1]),l(c,f,s[2],s[3])]);break;case 5:b.push([l(c,f,s[0],s[1]),l(c,f,s[2],s[1]),l(c,f,s[0],s[3])],[l(c,f,s[2],s[1]),l(c,f,s[2],s[3]),l(c,f,s[0],s[3])]);break;case 6:b.push([l(c,f,s[2],s[0]),l(c,f,s[1],s[0]),l(c,f,s[1],s[3])],[l(c,f,s[2],s[3]),l(c,f,s[2],s[0]),l(c,f,s[1],s[3])]);break;case 7:b.push([l(c,f,s[0],s[3]),l(c,f,s[1],s[3]),l(c,f,s[2],s[3])]);break;case 8:b.push([l(c,f,s[3],s[1]),l(c,f,s[3],s[0]),l(c,f,s[3],s[2])]);break;case 9:b.push([l(c,f,s[3],s[1]),l(c,f,s[0],s[1]),l(c,f,s[0],s[2])],[l(c,f,s[3],s[2]),l(c,f,s[3],s[1]),l(c,f,s[0],s[2])]);break;case 10:b.push([l(c,f,s[1],s[0]),l(c,f,s[3],s[0]),l(c,f,s[1],s[2])],[l(c,f,s[3],s[0]),l(c,f,s[3],s[2]),l(c,f,s[1],s[2])]);break;case 11:b.push([l(c,f,s[1],s[2]),l(c,f,s[0],s[2]),l(c,f,s[3],s[2])]);break;case 12:b.push([l(c,f,s[3],s[0]),l(c,f,s[2],s[0]),l(c,f,s[2],s[1])],[l(c,f,s[3],s[1]),l(c,f,s[3],s[0]),l(c,f,s[2],s[1])]);break;case 13:b.push([l(c,f,s[0],s[1]),l(c,f,s[2],s[1]),l(c,f,s[3],s[1])]);break;case 14:b.push([l(c,f,s[2],s[0]),l(c,f,s[1],s[0]),l(c,f,s[3],s[0])])}}else if(3===v){if(0==(A=(m[s[0]]<<0)+(m[s[1]]<<1)+(m[s[2]]<<2))||7===A)continue;switch(A){case 0:case 7:break;case 1:b.push([l(c,f,s[0],s[2]),l(c,f,s[0],s[1])]);break;case 2:b.push([l(c,f,s[1],s[0]),l(c,f,s[1],s[2])]);break;case 3:b.push([l(c,f,s[0],s[2]),l(c,f,s[1],s[2])]);break;case 4:b.push([l(c,f,s[2],s[1]),l(c,f,s[2],s[0])]);break;case 5:b.push([l(c,f,s[2],s[1]),l(c,f,s[0],s[1])]);break;case 6:b.push([l(c,f,s[1],s[0]),l(c,f,s[2],s[0])])}}else if(2===v){var A;if(0==(A=(m[s[0]]<<0)+(m[s[1]]<<1))||3===A)continue;switch(A){case 0:case 3:break;case 1:b.push([l(c,f,s[0],s[1])]);break;case 2:b.push([l(c,f,s[1],s[0])])}}}return b}}]},8211:function(h,y,t){"use strict";t(2288),t(1731),y.H=function m(S,d){var I=S.length,L=S.length-d.length,B=Math.min;if(L)return L;switch(I){case 0:return 0;case 1:return S[0]-d[0];case 2:return(N=S[0]+S[1]-d[0]-d[1])||B(S[0],S[1])-B(d[0],d[1]);case 3:var k=S[0]+S[1],z=d[0]+d[1];if(N=k+S[2]-(z+d[2]))return N;var N,O=B(S[0],S[1]),F=B(d[0],d[1]);return(N=B(O,S[2])-B(F,d[2]))||B(O+S[2],k)-B(F+d[2],z);default:var H=S.slice(0);H.sort();var X=d.slice(0);X.sort();for(var ne=0;ne<I;++ne)if(L=H[ne]-X[ne])return L;return 0}}},9392:function(h,y){"use strict";function r(i){var u=32;return(i&=-i)&&u--,65535&i&&(u-=16),16711935&i&&(u-=8),252645135&i&&(u-=4),858993459&i&&(u-=2),1431655765&i&&(u-=1),u}y.INT_BITS=32,y.INT_MAX=2147483647,y.INT_MIN=-1<<31,y.sign=function(i){return(i>0)-(i<0)},y.abs=function(i){var u=i>>31;return(i^u)-u},y.min=function(i,u){return u^(i^u)&-(i<u)},y.max=function(i,u){return i^(i^u)&-(i<u)},y.isPow2=function(i){return!(i&i-1||!i)},y.log2=function(i){var u,f;return u=(i>65535)<<4,u|=f=((i>>>=u)>255)<<3,u|=f=((i>>>=f)>15)<<2,(u|=f=((i>>>=f)>3)<<1)|(i>>>=f)>>1},y.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},y.popCount=function(i){return 16843009*((i=(858993459&(i-=i>>>1&1431655765))+(i>>>2&858993459))+(i>>>4)&252645135)>>>24},y.countTrailingZeros=r,y.nextPow2=function(i){return i+=0===i,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,1+((i|=i>>>8)|i>>>16)},y.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,(i|=i>>>16)-(i>>>1)},y.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,27030>>>(i&=15)&1};var l=new Array(256);(function(i){for(var u=0;u<256;++u){var f=u,c=u,m=7;for(f>>>=1;f;f>>>=1)c<<=1,c|=1&f,--m;i[u]=c<<m&255}})(l),y.reverse=function(i){return l[255&i]<<24|l[i>>>8&255]<<16|l[i>>>16&255]<<8|l[i>>>24&255]},y.interleave2=function(i,u){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i&=65535)|i<<8))|i<<4))|i<<2))|i<<1))|(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u&=65535)|u<<8))|u<<4))|u<<2))|u<<1))<<1},y.deinterleave2=function(i,u){return(i=65535&((i=16711935&((i=252645135&((i=858993459&((i=i>>>u&1431655765)|i>>>1))|i>>>2))|i>>>4))|i>>>16))<<16>>16},y.interleave3=function(i,u,f){return i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2),(i|=(u=1227133513&((u=3272356035&((u=251719695&((u=4278190335&((u&=1023)|u<<16))|u<<8))|u<<4))|u<<2))<<1)|(f=1227133513&((f=3272356035&((f=251719695&((f=4278190335&((f&=1023)|f<<16))|f<<8))|f<<4))|f<<2))<<2},y.deinterleave3=function(i,u){return(i=1023&((i=4278190335&((i=251719695&((i=3272356035&((i=i>>>u&1227133513)|i>>>2))|i>>>4))|i>>>8))|i>>>16))<<22>>22},y.nextCombination=function(i){var u=i|i-1;return u+1|(~u&-~u)-1>>>r(i)+1}},6656:function(h,y,t){"use strict";var r=t(9392),l=t(9521);function c(n,S){var d=n.length,I=n.length-S.length,L=Math.min;if(I)return I;switch(d){case 0:return 0;case 1:return n[0]-S[0];case 2:return(F=n[0]+n[1]-S[0]-S[1])||L(n[0],n[1])-L(S[0],S[1]);case 3:var B=n[0]+n[1],k=S[0]+S[1];if(F=B+n[2]-(k+S[2]))return F;var F,z=L(n[0],n[1]),O=L(S[0],S[1]);return(F=L(z,n[2])-L(O,S[2]))||L(z+n[2],B)-L(O+S[2],k);default:var N=n.slice(0);N.sort();var H=S.slice(0);H.sort();for(var X=0;X<d;++X)if(I=N[X]-H[X])return I;return 0}}function m(n,S){return c(n[0],S[0])}function a(n,S){if(S){for(var d=n.length,I=new Array(d),L=0;L<d;++L)I[L]=[n[L],S[L]];for(I.sort(m),L=0;L<d;++L)n[L]=I[L][0],S[L]=I[L][1];return n}return n.sort(c),n}function b(n){if(0===n.length)return[];for(var S=1,d=n.length,I=1;I<d;++I){var L=n[I];if(c(L,n[I-1])){if(I===S){S++;continue}n[S++]=L}}return n.length=S,n}function p(n,S){for(var d=0,I=n.length-1,L=-1;d<=I;){var B=d+I>>1,k=c(n[B],S);k<=0?(0===k&&(L=B),d=B+1):k>0&&(I=B-1)}return L}function s(n,S){for(var d=new Array(n.length),I=0,L=d.length;I<L;++I)d[I]=[];for(var B=[],k=(I=0,S.length);I<k;++I)for(var z=S[I],O=z.length,F=1,N=1<<O;F<N;++F){B.length=r.popCount(F);for(var H=0,X=0;X<O;++X)F&1<<X&&(B[H++]=z[X]);var ne=p(n,B);if(!(ne<0))for(;d[ne++].push(I),!(ne>=n.length||0!==c(n[ne],B)););}return d}function x(n,S){if(S<0)return[];for(var d=[],I=(1<<S+1)-1,L=0;L<n.length;++L)for(var B=n[L],k=I;k<1<<B.length;k=r.nextCombination(k)){for(var z=new Array(S+1),O=0,F=0;F<B.length;++F)k&1<<F&&(z[O++]=B[F]);d.push(z)}return a(d)}y.dimension=function i(n){for(var S=0,d=Math.max,I=0,L=n.length;I<L;++I)S=d(S,n[I].length);return S-1},y.countVertices=function u(n){for(var S=-1,d=Math.max,I=0,L=n.length;I<L;++I)for(var B=n[I],k=0,z=B.length;k<z;++k)S=d(S,B[k]);return S+1},y.cloneCells=function f(n){for(var S=new Array(n.length),d=0,I=n.length;d<I;++d)S[d]=n[d].slice(0);return S},y.compareCells=c,y.normalize=a,y.unique=b,y.findCell=p,y.incidence=s,y.dual=function v(n,S){if(!S)return s(b(x(n,0)),n);for(var d=new Array(S),I=0;I<S;++I)d[I]=[];I=0;for(var L=n.length;I<L;++I)for(var B=n[I],k=0,z=B.length;k<z;++k)d[B[k]].push(I);return d},y.explode=function A(n){for(var S=[],d=0,I=n.length;d<I;++d)for(var L=n[d],B=0|L.length,k=1,z=1<<B;k<z;++k){for(var O=[],F=0;F<B;++F)k>>>F&1&&O.push(L[F]);S.push(O)}return a(S)},y.skeleton=x,y.boundary=function E(n){for(var S=[],d=0,I=n.length;d<I;++d)for(var L=n[d],B=0,k=L.length;B<k;++B){for(var z=new Array(L.length-1),O=0,F=0;O<k;++O)O!==B&&(z[F++]=L[O]);S.push(z)}return a(S)},y.connectedComponents=function w(n,S){return S?function g(n,S){for(var d=new l(S),I=0;I<n.length;++I)for(var L=n[I],B=0;B<L.length;++B)for(var k=B+1;k<L.length;++k)d.link(L[B],L[k]);var z=[],O=d.ranks;for(I=0;I<O.length;++I)O[I]=-1;for(I=0;I<n.length;++I){var F=d.find(n[I][0]);O[F]<0?(O[F]=z.length,z.push([n[I].slice(0)])):z[O[F]].push(n[I].slice(0))}return z}(n,S):function M(n){for(var S=b(a(x(n,0))),d=new l(S.length),I=0;I<n.length;++I)for(var L=n[I],B=0;B<L.length;++B)for(var k=p(S,[L[B]]),z=B+1;z<L.length;++z)d.link(k,p(S,[L[z]]));var O=[],F=d.ranks;for(I=0;I<F.length;++I)F[I]=-1;for(I=0;I<n.length;++I){var N=d.find(p(S,[n[I][0]]));F[N]<0?(F[N]=O.length,O.push([n[I].slice(0)])):O[F[N]].push(n[I].slice(0))}return O}(n)}},9521:function(h){"use strict";function y(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;r<t;++r)this.roots[r]=r,this.ranks[r]=0}h.exports=y,y.prototype.length=function(){return this.roots.length},y.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},y.prototype.find=function(t){for(var r=this.roots;r[t]!==t;){var l=r[t];r[t]=r[l],t=l}return t},y.prototype.link=function(t,r){var l=this.find(t),i=this.find(r);if(l!==i){var u=this.ranks,f=this.roots,c=u[l],m=u[i];c<m?f[l]=i:m<c?f[i]=l:(f[i]=l,++u[l])}}},8243:function(h,y,t){"use strict";h.exports=function u(f,c,m){for(var a=c.length,b=f.length,p=new Array(a),s=new Array(a),v=new Array(a),A=new Array(a),x=0;x<a;++x)p[x]=s[x]=-1,v[x]=1/0,A[x]=!1;for(x=0;x<b;++x){var E=f[x];if(2!==E.length)throw new Error("Input must be a graph");var g=E[1],M=E[0];s[M]=-1!==s[M]?-2:g,p[g]=-1!==p[g]?-2:M}function w(j){if(A[j])return 1/0;var W=p[j],V=s[j];return W<0||V<0?1/0:function i(f,c,m){return Math.abs(r(f,c,m))/Math.sqrt(Math.pow(c[0]-m[0],2)+Math.pow(c[1]-m[1],2))}(c[j],c[W],c[V])}function n(j,W){var V=O[j],K=O[W];O[j]=K,O[W]=V,F[V]=W,F[K]=j}function S(j){return v[O[j]]}function d(j){return 1&j?j-1>>1:(j>>1)-1}function I(j){for(var W=S(j);;){var V=W,K=2*j+1,ae=2*(j+1),Q=j;if(K<H){var Z=S(K);Z<V&&(Q=K,V=Z)}if(ae<H&&S(ae)<V&&(Q=ae),Q===j)return j;n(j,Q),j=Q}}function L(j){for(var W=S(j);j>0;){var V=d(j);if(!(V>=0&&W<S(V)))return j;n(j,V),j=V}}function B(){if(H>0){var j=O[0];return n(0,H-1),H-=1,I(0),j}return-1}function k(j,W){var V=O[j];return v[V]===W?j:(v[V]=-1/0,L(j),B(),v[V]=W,L((H+=1)-1))}function z(j){if(!A[j]){A[j]=!0;var W=p[j],V=s[j];p[V]>=0&&(p[V]=W),s[W]>=0&&(s[W]=V),F[W]>=0&&k(F[W],w(W)),F[V]>=0&&k(F[V],w(V))}}var O=[],F=new Array(a);for(x=0;x<a;++x)(v[x]=w(x))<1/0?(F[x]=O.length,O.push(x)):F[x]=-1;var H=O.length;for(x=H>>1;x>=0;--x)I(x);for(;;){var X=B();if(X<0||v[X]>m)break;z(X)}var ne=[];for(x=0;x<a;++x)A[x]||(F[x]=ne.length,ne.push(c[x].slice()));function ue(j,W){if(j[W]<0)return W;var V=W,K=W;do{var ae=j[K];if(!A[K]||ae<0||ae===K||(ae=j[K=ae],!A[K]||ae<0||ae===K))break;K=ae,V=j[V]}while(V!==K);for(var Q=W;Q!==K;Q=j[Q])j[Q]=K;return K}var J=[];return f.forEach(function(j){var W=ue(p,j[0]),V=ue(s,j[1]);if(W>=0&&V>=0&&W!==V){var K=F[W],ae=F[V];K!==ae&&J.push([K,ae])}}),l.unique(l.normalize(J)),{positions:ne,edges:J}};var r=t(417),l=t(6656)},6638:function(h,y,t){"use strict";h.exports=function i(u,f){var c,m,a,b;if(f[0][0]<f[1][0])c=f[0],m=f[1];else{if(!(f[0][0]>f[1][0]))return l(f,u);c=f[1],m=f[0]}if(u[0][0]<u[1][0])a=u[0],b=u[1];else{if(!(u[0][0]>u[1][0]))return-l(u,f);a=u[1],b=u[0]}var p=r(c,m,b),s=r(c,m,a);if(p<0){if(s<=0)return p}else if(p>0){if(s>=0)return p}else if(s)return s;if(p=r(b,a,m),s=r(b,a,c),p<0){if(s<=0)return p}else if(p>0){if(s>=0)return p}else if(s)return s;return m[0]-b[0]};var r=t(417);function l(u,f){var c,m,v,A;if(f[0][0]<f[1][0])c=f[0],m=f[1];else{if(!(f[0][0]>f[1][0])){var a=Math.min(u[0][1],u[1][1]),b=Math.max(u[0][1],u[1][1]),p=Math.min(f[0][1],f[1][1]),s=Math.max(f[0][1],f[1][1]);return b<p?b-p:a>s?a-s:b-s}c=f[1],m=f[0]}u[0][1]<u[1][1]?(v=u[0],A=u[1]):(v=u[1],A=u[0]);var x=r(m,c,v);return x||(x=r(m,c,A))?x:A-m}},4385:function(h,y,t){"use strict";h.exports=function s(v){for(var A=v.length,x=2*A,E=new Array(x),g=0;g<A;++g){var M=v[g],w=M[0][0]<M[1][0];E[2*g]=new p(M[0][0],M,w,g),E[2*g+1]=new p(M[1][0],M,!w,g)}E.sort(function(O,F){var N=O.x-F.x;return N||(N=O.create-F.create)?N:Math.min(O.segment[0][1],O.segment[1][1])-Math.min(F.segment[0][1],F.segment[1][1])});var n=l(u),S=[],d=[],I=[];for(g=0;g<x;){for(var B=E[g].x,k=[];g<x;){var z=E[g];if(z.x!==B)break;g+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(k.push(new b(z.segment[0][1],z.index,!0,!0)),k.push(new b(z.segment[1][1],z.index,!1,!1))):(k.push(new b(z.segment[1][1],z.index,!0,!1)),k.push(new b(z.segment[0][1],z.index,!1,!0)))):n=z.create?n.insert(z.segment,z.index):n.remove(z.segment)}S.push(n.root),d.push(B),I.push(k)}return new f(S,d,I)};var r=t(5070),l=t(7080),i=t(417),u=t(6638);function f(v,A,x){this.slabs=v,this.coordinates=A,this.horizontal=x}function m(v,A){return v.y-A}function a(v,A){for(var x=null;v;){var g,M,E=v.key;E[0][0]<E[1][0]?(g=E[0],M=E[1]):(g=E[1],M=E[0]);var w=i(g,M,A);if(w<0)v=v.left;else if(w>0)if(A[0]!==E[1][0])x=v,v=v.right;else{if(n=a(v.right,A))return n;v=v.left}else{if(A[0]!==E[1][0])return v;var n;if(n=a(v.right,A))return n;v=v.left}}return x}function b(v,A,x,E){this.y=v,this.index=A,this.start=x,this.closed=E}function p(v,A,x,E){this.x=v,this.segment=A,this.create=x,this.index=E}f.prototype.castUp=function(v){var A=r.le(this.coordinates,v[0]);if(A<0)return-1;var E=a(this.slabs[A],v),g=-1;if(E&&(g=E.value),this.coordinates[A]===v[0]){var M=null;if(E&&(M=E.key),A>0){var w=a(this.slabs[A-1],v);w&&(M?u(w.key,M)>0&&(M=w.key,g=w.value):(g=w.value,M=w.key))}var n=this.horizontal[A];if(n.length>0){var S=r.ge(n,v[1],m);if(S<n.length){var d=n[S];if(v[1]===d.y){if(d.closed)return d.index;for(;S<n.length-1&&n[S+1].y===v[1];)if((d=n[S+=1]).closed)return d.index;if(d.y===v[1]&&!d.start){if((S+=1)>=n.length)return g;d=n[S]}}if(d.start)if(M){var I=i(M[0],M[1],[v[0],d.y]);M[0][0]>M[1][0]&&(I=-I),I>0&&(g=d.index)}else g=d.index;else d.y!==v[1]&&(g=d.index)}}}return g}},4670:function(h,y,t){"use strict";var r=t(9130),l=t(9662);function i(a,b){var p=l(r(a,b),[b[b.length-1]]);return p[p.length-1]}function u(a,b,p,s){var A=-b/(s-b);A<0?A=0:A>1&&(A=1);for(var x=1-A,E=a.length,g=new Array(E),M=0;M<E;++M)g[M]=A*a[M]+x*p[M];return g}h.exports=function f(a,b){for(var p=[],s=[],v=i(a[a.length-1],b),A=a[a.length-1],x=a[0],E=0;E<a.length;++E,A=x){var g=i(x=a[E],b);if(v<0&&g>0||v>0&&g<0){var M=u(A,g,x,v);p.push(M),s.push(M.slice())}g<0?s.push(x.slice()):g>0?p.push(x.slice()):(p.push(x.slice()),s.push(x.slice())),v=g}return{positive:p,negative:s}},h.exports.positive=function c(a,b){for(var p=[],s=i(a[a.length-1],b),v=a[a.length-1],A=a[0],x=0;x<a.length;++x,v=A){var E=i(A=a[x],b);(s<0&&E>0||s>0&&E<0)&&p.push(u(v,E,A,s)),E>=0&&p.push(A.slice()),s=E}return p},h.exports.negative=function m(a,b){for(var p=[],s=i(a[a.length-1],b),v=a[a.length-1],A=a[0],x=0;x<a.length;++x,v=A){var E=i(A=a[x],b);(s<0&&E>0||s>0&&E<0)&&p.push(u(v,E,A,s)),E<=0&&p.push(A.slice()),s=E}return p}},8974:function(h,y,t){var r;!function(){"use strict";var l={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(a){return function f(a,b){var v,x,E,g,M,w,n,S,d,p=1,s=a.length,A="";for(x=0;x<s;x++)if("string"==typeof a[x])A+=a[x];else if("object"==typeof a[x]){if((g=a[x]).keys)for(v=b[p],E=0;E<g.keys.length;E++){if(null==v)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',g.keys[E],g.keys[E-1]));v=v[g.keys[E]]}else v=g.param_no?b[g.param_no]:b[p++];if(l.not_type.test(g.type)&&l.not_primitive.test(g.type)&&v instanceof Function&&(v=v()),l.numeric_arg.test(g.type)&&"number"!=typeof v&&isNaN(v))throw new TypeError(i("[sprintf] expecting number but found %T",v));switch(l.number.test(g.type)&&(S=v>=0),g.type){case"b":v=parseInt(v,10).toString(2);break;case"c":v=String.fromCharCode(parseInt(v,10));break;case"d":case"i":v=parseInt(v,10);break;case"j":v=JSON.stringify(v,null,g.width?parseInt(g.width):0);break;case"e":v=g.precision?parseFloat(v).toExponential(g.precision):parseFloat(v).toExponential();break;case"f":v=g.precision?parseFloat(v).toFixed(g.precision):parseFloat(v);break;case"g":v=g.precision?String(Number(v.toPrecision(g.precision))):parseFloat(v);break;case"o":v=(parseInt(v,10)>>>0).toString(8);break;case"s":v=String(v),v=g.precision?v.substring(0,g.precision):v;break;case"t":v=String(!!v),v=g.precision?v.substring(0,g.precision):v;break;case"T":v=Object.prototype.toString.call(v).slice(8,-1).toLowerCase(),v=g.precision?v.substring(0,g.precision):v;break;case"u":v=parseInt(v,10)>>>0;break;case"v":v=v.valueOf(),v=g.precision?v.substring(0,g.precision):v;break;case"x":v=(parseInt(v,10)>>>0).toString(16);break;case"X":v=(parseInt(v,10)>>>0).toString(16).toUpperCase()}l.json.test(g.type)?A+=v:(!l.number.test(g.type)||S&&!g.sign?d="":(d=S?"+":"-",v=v.toString().replace(l.sign,"")),w=g.pad_char?"0"===g.pad_char?"0":g.pad_char.charAt(1):" ",n=g.width-(d+v).length,M=g.width&&n>0?w.repeat(n):"",A+=g.align?d+v+M:"0"===w?d+M+v:M+d+v)}return A}(function m(a){if(c[a])return c[a];for(var p,b=a,s=[],v=0;b;){if(null!==(p=l.text.exec(b)))s.push(p[0]);else if(null!==(p=l.modulo.exec(b)))s.push("%");else{if(null===(p=l.placeholder.exec(b)))throw new SyntaxError("[sprintf] unexpected placeholder");if(p[2]){v|=1;var A=[],x=p[2],E=[];if(null===(E=l.key.exec(x)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(A.push(E[1]);""!==(x=x.substring(E[0].length));)if(null!==(E=l.key_access.exec(x)))A.push(E[1]);else{if(null===(E=l.index_access.exec(x)))throw new SyntaxError("[sprintf] failed to parse named argument key");A.push(E[1])}p[2]=A}else v|=2;if(3===v)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");s.push({placeholder:p[0],param_no:p[1],keys:p[2],sign:p[3],pad_char:p[4],align:p[5],width:p[6],precision:p[7],type:p[8]})}b=b.substring(p[0].length)}return c[a]=s}(a),arguments)}function u(a,b){return i.apply(null,[a].concat(b||[]))}var c=Object.create(null);y.sprintf=i,y.vsprintf=u,typeof window<"u"&&(window.sprintf=i,window.vsprintf=u,void 0!==(r=function(){return{sprintf:i,vsprintf:u}}.call(y,t,y,h))&&(h.exports=r))}()},4162:function(h,y,t){"use strict";h.exports=function m(a,v){if(a.dimension<=0)return{positions:[],cells:[]};if(1===a.dimension)return function f(a,b){for(var p=l(a,b),s=p.length,v=new Array(s),A=new Array(s),x=0;x<s;++x)v[x]=[p[x]],A[x]=[x];return{positions:v,cells:A}}(a,v);var p=a.order.join()+"-"+a.dtype,s=c[p];return v=+v||0,s||(s=c[p]=function u(a,b){var s=i[a.length+"d"];if(s)return s(r,a,b)}(a.order,a.dtype)),s(a,v)};var r=t(9284),l=t(9584),i={"2d":function(a,b,p){var s=a({order:b,scalarArguments:3,getters:"generic"===p?[0]:void 0,phase:function(A,x,E,g){return A>g|0},vertex:function(A,x,E,g,M,w,n,S,d,I,L,B,k){var z=(n<<0)+(S<<1)+(d<<2)+(I<<3)|0;if(0!==z&&15!==z)switch(z){case 0:case 15:L.push([A-.5,x-.5]);break;case 1:L.push([A-.25-.25*(g+E-2*k)/(E-g),x-.25-.25*(M+E-2*k)/(E-M)]);break;case 2:L.push([A-.75-.25*(-g-E+2*k)/(g-E),x-.25-.25*(w+g-2*k)/(g-w)]);break;case 3:L.push([A-.5,x-.5-.5*(M+E+w+g-4*k)/(E-M+g-w)]);break;case 4:L.push([A-.25-.25*(w+M-2*k)/(M-w),x-.75-.25*(-M-E+2*k)/(M-E)]);break;case 5:L.push([A-.5-.5*(g+E+w+M-4*k)/(E-g+M-w),x-.5]);break;case 6:L.push([A-.5-.25*(-g-E+w+M)/(g-E+M-w),x-.5-.25*(-M-E+w+g)/(M-E+g-w)]);break;case 7:L.push([A-.75-.25*(w+M-2*k)/(M-w),x-.75-.25*(w+g-2*k)/(g-w)]);break;case 8:L.push([A-.75-.25*(-w-M+2*k)/(w-M),x-.75-.25*(-w-g+2*k)/(w-g)]);break;case 9:L.push([A-.5-.25*(g+E+-w-M)/(E-g+w-M),x-.5-.25*(M+E+-w-g)/(E-M+w-g)]);break;case 10:L.push([A-.5-.5*(-g-E-w-M+4*k)/(g-E+w-M),x-.5]);break;case 11:L.push([A-.25-.25*(-w-M+2*k)/(w-M),x-.75-.25*(M+E-2*k)/(E-M)]);break;case 12:L.push([A-.5,x-.5-.5*(-M-E-w-g+4*k)/(M-E+w-g)]);break;case 13:L.push([A-.75-.25*(g+E-2*k)/(E-g),x-.25-.25*(-w-g+2*k)/(w-g)]);break;case 14:L.push([A-.25-.25*(-g-E+2*k)/(g-E),x-.25-.25*(-M-E+2*k)/(M-E)])}},cell:function(A,x,E,g,M,w,n,S,d){S.push(M?[A,x]:[x,A])}});return function(v,A){var x=[],E=[];return s(v,x,E,A),{positions:x,cells:E}}}};var c={}},6946:function(h,y,t){"use strict";h.exports=function f(c,m,b){b=b||{};var p=i[c];p||(p=i[c]={" ":{data:new Float32Array(0),shape:.2}});var s=p[m];if(!s)if(m.length<=1||!/\d/.test(m))s=p[m]=function u(c){for(var m=c.cells,a=c.positions,b=new Float32Array(6*m.length),p=0,s=0,v=0;v<m.length;++v)for(var A=m[v],x=0;x<3;++x){var E=a[A[x]];b[p++]=E[0],b[p++]=E[1]+1.4,s=Math.max(E[0],s)}return{data:b,shape:s}}(r(m,{triangles:!0,font:c,textAlign:b.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var v=m.split(/(\d|\s)/),A=new Array(v.length),x=0,E=0,g=0;g<v.length;++g)A[g]=f(c,v[g]),x+=A[g].data.length,E+=A[g].shape,g>0&&(E+=.02);var M=new Float32Array(x),w=0,n=-.5*E;for(g=0;g<A.length;++g){for(var S=A[g].data,d=0;d<S.length;d+=2)M[w++]=S[d]+n,M[w++]=S[d+1];n+=A[g].shape+.02}s=p[m]={data:M,shape:E}}return s};var r=t(875),l=window||T.global||{},i=l.__TEXT_CACHE||{};l.__TEXT_CACHE={}},14:function(h,y,t){"use strict";var r=t(4405);h.exports=f;var l=96;function i(c,m){var a=r(getComputedStyle(c).getPropertyValue(m));return a[0]*f(a[1],c)}function f(c,m){switch(m=m||document.body,c=(c||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),c){case"%":return m.clientHeight/100;case"ch":case"ex":return function u(c,m){var a=document.createElement("div");a.style["font-size"]="128"+c,m.appendChild(a);var b=i(a,"font-size")/128;return m.removeChild(a),b}(c,m);case"em":return i(m,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return l;case"cm":return l/2.54;case"mm":return l/25.4;case"pt":return l/72;case"pc":return l/6}return 1}},3440:function(h,y,t){"use strict";h.exports=function A(x){var E=(x=x||{}).center||[0,0,0],g=x.up||[0,1,0],M=x.right||b(g),w=x.radius||1,n=x.theta||0,S=x.phi||0;if(E=[].slice.call(E,0,3),g=[].slice.call(g,0,3),f(g,g),M=[].slice.call(M,0,3),f(M,M),"eye"in x){var d=x.eye,I=[d[0]-E[0],d[1]-E[1],d[2]-E[2]];u(M,I,g),m(M[0],M[1],M[2])<1e-6?M=b(g):f(M,M),w=m(I[0],I[1],I[2]);var L=c(g,I)/w,B=c(M,I)/w;S=Math.acos(L),n=Math.acos(B)}return w=Math.log(w),new p(x.zoomMin,x.zoomMax,E,g,M,w,n,S)};var r=t(8444),l=t(7437),i=t(4422),u=t(903),f=t(899),c=t(9305);function m(x,E,g){return Math.sqrt(Math.pow(x,2)+Math.pow(E,2)+Math.pow(g,2))}function a(x){return Math.min(1,Math.max(-1,x))}function b(x){var E=Math.abs(x[0]),g=Math.abs(x[1]),M=Math.abs(x[2]),w=[0,0,0];E>Math.max(g,M)?w[2]=1:g>Math.max(E,M)?w[0]=1:w[1]=1;for(var n=0,S=0,d=0;d<3;++d)n+=x[d]*x[d],S+=w[d]*x[d];for(d=0;d<3;++d)w[d]-=S/n*x[d];return f(w,w),w}function p(x,E,g,M,w,n,S,d){this.center=r(g),this.up=r(M),this.right=r(w),this.radius=r([n]),this.angle=r([S,d]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(x,E),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var I=0;I<16;++I)this.computedMatrix[I]=.5;this.recalcMatrix(0)}var s=p.prototype;s.setDistanceLimits=function(x,E){x=x>0?Math.log(x):-1/0,E=E>0?Math.log(E):1/0,E=Math.max(E,x),this.radius.bounds[0][0]=x,this.radius.bounds[1][0]=E},s.getDistanceLimits=function(x){var E=this.radius.bounds[0];return x?(x[0]=Math.exp(E[0][0]),x[1]=Math.exp(E[1][0]),x):[Math.exp(E[0][0]),Math.exp(E[1][0])]},s.recalcMatrix=function(x){this.center.curve(x),this.up.curve(x),this.right.curve(x),this.radius.curve(x),this.angle.curve(x);for(var E=this.computedUp,g=this.computedRight,M=0,w=0,n=0;n<3;++n)w+=E[n]*g[n],M+=E[n]*E[n];var S=Math.sqrt(M),d=0;for(n=0;n<3;++n)g[n]-=E[n]*w/M,d+=g[n]*g[n],E[n]/=S;var I=Math.sqrt(d);for(n=0;n<3;++n)g[n]/=I;var L=this.computedToward;u(L,E,g),f(L,L);var B=Math.exp(this.computedRadius[0]),k=this.computedAngle[0],z=this.computedAngle[1],O=Math.cos(k),F=Math.sin(k),N=Math.cos(z),H=Math.sin(z),X=this.computedCenter,ne=O*N,ie=F*N,ue=H,J=-O*H,j=-F*H,W=N,V=this.computedEye,K=this.computedMatrix;for(n=0;n<3;++n){var ae=ne*g[n]+ie*L[n]+ue*E[n];K[4*n+1]=J*g[n]+j*L[n]+W*E[n],K[4*n+2]=ae,K[4*n+3]=0}var Q=K[1],Z=K[5],re=K[9],q=K[2],se=K[6],de=K[10],we=Z*de-re*se,ye=re*q-Q*de,Pe=Q*se-Z*q,Ie=m(we,ye,Pe);for(ye/=Ie,Pe/=Ie,K[0]=we/=Ie,K[4]=ye,K[8]=Pe,n=0;n<3;++n)V[n]=X[n]+K[2+4*n]*B;for(n=0;n<3;++n){d=0;for(var Se=0;Se<3;++Se)d+=K[n+4*Se]*V[Se];K[12+n]=-d}K[15]=1},s.getMatrix=function(x,E){this.recalcMatrix(x);var g=this.computedMatrix;if(E){for(var M=0;M<16;++M)E[M]=g[M];return E}return g};var v=[0,0,0];s.rotate=function(x,E,g,M){if(this.angle.move(x,E,g),M){this.recalcMatrix(x);var w=this.computedMatrix;v[0]=w[2],v[1]=w[6],v[2]=w[10];for(var n=this.computedUp,S=this.computedRight,d=this.computedToward,I=0;I<3;++I)w[4*I]=n[I],w[4*I+1]=S[I],w[4*I+2]=d[I];for(i(w,w,M,v),I=0;I<3;++I)n[I]=w[4*I],S[I]=w[4*I+1];this.up.set(x,n[0],n[1],n[2]),this.right.set(x,S[0],S[1],S[2])}},s.pan=function(x,E,g,M){E=E||0,g=g||0,M=M||0,this.recalcMatrix(x);var w=this.computedMatrix,S=(Math.exp(this.computedRadius[0]),w[1]),d=w[5],I=w[9],L=m(S,d,I),B=w[0],k=w[4],z=w[8],O=B*(S/=L)+k*(d/=L)+z*(I/=L),F=m(B-=S*O,k-=d*O,z-=I*O);this.center.move(x,(B/=F)*E+S*g,(k/=F)*E+d*g,(z/=F)*E+I*g);var ne=Math.exp(this.computedRadius[0]);ne=Math.max(1e-4,ne+M),this.radius.set(x,Math.log(ne))},s.translate=function(x,E,g,M){this.center.move(x,E||0,g||0,M||0)},s.setMatrix=function(x,E,g,M){var w=1;"number"==typeof g&&(w=0|g),(w<0||w>3)&&(w=1);var n=(w+2)%3;E||(this.recalcMatrix(x),E=this.computedMatrix);var d=E[w],I=E[w+4],L=E[w+8];if(M){var k=Math.abs(d),z=Math.abs(I),O=Math.abs(L),F=Math.max(k,z,O);k===F?(d=d<0?-1:1,I=L=0):O===F?(L=L<0?-1:1,d=I=0):(I=I<0?-1:1,d=L=0)}else{var B=m(d,I,L);d/=B,I/=B,L/=B}var V,K,N=E[n],H=E[n+4],X=E[n+8],ne=N*d+H*I+X*L,ie=m(N-=d*ne,H-=I*ne,X-=L*ne),ue=I*(X/=ie)-L*(H/=ie),J=L*(N/=ie)-d*X,j=d*H-I*N,W=m(ue,J,j);if(ue/=W,J/=W,j/=W,this.center.jump(x,De,He,rt),this.radius.idle(x),this.up.jump(x,d,I,L),this.right.jump(x,N,H,X),2===w){var ae=E[1],Q=E[5],Z=E[9];V=ye<0?-Math.PI/2:Math.PI/2,K=Math.atan2(ae*ue+Q*J+Z*j,ae*N+Q*H+Z*X)}else{var se=E[2],de=E[6],we=E[10],ye=se*d+de*I+we*L,Pe=se*N+de*H+we*X,Ie=se*ue+de*J+we*j;V=Math.asin(a(ye)),K=Math.atan2(Ie,Pe)}this.angle.jump(x,K,V),this.recalcMatrix(x);var Se=E[2],xe=E[6],Me=E[10],Ge=this.computedMatrix;l(Ge,E);var Ye=Ge[15],De=Ge[12]/Ye,He=Ge[13]/Ye,rt=Ge[14]/Ye,$e=Math.exp(this.computedRadius[0]);this.center.jump(x,De-Se*$e,He-xe*$e,rt-Me*$e)},s.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},s.idle=function(x){this.center.idle(x),this.up.idle(x),this.right.idle(x),this.radius.idle(x),this.angle.idle(x)},s.flush=function(x){this.center.flush(x),this.up.flush(x),this.right.flush(x),this.radius.flush(x),this.angle.flush(x)},s.setDistance=function(x,E){E>0&&this.radius.set(x,Math.log(E))},s.lookAt=function(x,E,g,M){this.recalcMatrix(x),E=E||this.computedEye,g=g||this.computedCenter;var w=(M=M||this.computedUp)[0],n=M[1],S=M[2],d=m(w,n,S);if(!(d<1e-6)){w/=d,n/=d,S/=d;var I=E[0]-g[0],L=E[1]-g[1],B=E[2]-g[2],k=m(I,L,B);if(!(k<1e-6)){I/=k,L/=k,B/=k;var z=this.computedRight,O=z[0],F=z[1],N=z[2],H=w*O+n*F+S*N,X=m(O-=H*w,F-=H*n,N-=H*S);if(!(X<.01&&(O=n*B-S*L,F=S*I-w*B,N=w*L-n*I,X=m(O,F,N),X<1e-6))){O/=X,F/=X,N/=X,this.up.set(x,w,n,S),this.right.set(x,O,F,N),this.center.set(x,g[0],g[1],g[2]),this.radius.set(x,Math.log(k));var ne=n*N-S*F,ie=S*O-w*N,ue=w*F-n*O,J=m(ne,ie,ue),W=O*I+F*L+N*B,V=(ne/=J)*I+(ie/=J)*L+(ue/=J)*B,K=Math.asin(a(w*I+n*L+S*B)),ae=Math.atan2(V,W),Q=this.angle._state,Z=Q[Q.length-1],re=Q[Q.length-2];Z%=2*Math.PI;var q=Math.abs(Z+2*Math.PI-ae),se=Math.abs(Z-ae),de=Math.abs(Z-2*Math.PI-ae);q<se&&(Z+=2*Math.PI),de<se&&(Z-=2*Math.PI),this.angle.jump(this.angle.lastT(),Z,re),this.angle.set(x,ae,K)}}}}},9660:function(h){"use strict";h.exports=function t(r,l,i){var u=r*l,f=y*r,m=f-(f-r),a=r-m,b=y*l,s=b-(b-l),v=l-s,g=a*v-(u-m*s-a*s-m*v);return i?(i[0]=g,i[1]=u,i):[g,u]};var y=+(Math.pow(2,27)+1)},87:function(h){"use strict";h.exports=function y(t,r,l){var i=t+r,u=i-t,c=r-u,m=t-(i-u);return l?(l[0]=m+c,l[1]=i,l):[m+c,i]}},5306:function(h,y,t){"use strict";var r=t(2288),l=t(3094),i=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:l([32,0]),UINT16:l([32,0]),UINT32:l([32,0]),BIGUINT64:l([32,0]),INT8:l([32,0]),INT16:l([32,0]),INT32:l([32,0]),BIGINT64:l([32,0]),FLOAT:l([32,0]),DOUBLE:l([32,0]),DATA:l([32,0]),UINT8C:l([32,0]),BUFFER:l([32,0])});var u=typeof Uint8ClampedArray<"u",f=typeof BigUint64Array<"u",c=typeof BigInt64Array<"u",m=t.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=l([32,0])),m.BIGUINT64||(m.BIGUINT64=l([32,0])),m.BIGINT64||(m.BIGINT64=l([32,0])),m.BUFFER||(m.BUFFER=l([32,0]));var a=m.DATA,b=m.BUFFER;function p(z){if(z){var F=r.log2(z.length||z.byteLength);a[F].push(z)}}function v(O){O=r.nextPow2(O);var F=r.log2(O),N=a[F];return N.length>0?N.pop():new ArrayBuffer(O)}function A(z){return new Uint8Array(v(z),0,z)}function x(z){return new Uint16Array(v(2*z),0,z)}function E(z){return new Uint32Array(v(4*z),0,z)}function g(z){return new Int8Array(v(z),0,z)}function M(z){return new Int16Array(v(2*z),0,z)}function w(z){return new Int32Array(v(4*z),0,z)}function n(z){return new Float32Array(v(4*z),0,z)}function S(z){return new Float64Array(v(8*z),0,z)}function d(z){return u?new Uint8ClampedArray(v(z),0,z):A(z)}function I(z){return f?new BigUint64Array(v(8*z),0,z):null}function L(z){return c?new BigInt64Array(v(8*z),0,z):null}function B(z){return new DataView(v(z),0,z)}function k(z){z=r.nextPow2(z);var O=r.log2(z),F=b[O];return F.length>0?F.pop():new i(z)}y.free=function(O){if(i.isBuffer(O))b[r.log2(O.length)].push(O);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(O)&&(O=O.buffer),!O)return;var N=0|r.log2(O.length||O.byteLength);a[N].push(O)}},y.freeUint8=y.freeUint16=y.freeUint32=y.freeBigUint64=y.freeInt8=y.freeInt16=y.freeInt32=y.freeBigInt64=y.freeFloat32=y.freeFloat=y.freeFloat64=y.freeDouble=y.freeUint8Clamped=y.freeDataView=function s(z){p(z.buffer)},y.freeArrayBuffer=p,y.freeBuffer=function(O){b[r.log2(O.length)].push(O)},y.malloc=function(O,F){if(void 0===F||"arraybuffer"===F)return v(O);switch(F){case"uint8":return A(O);case"uint16":return x(O);case"uint32":return E(O);case"int8":return g(O);case"int16":return M(O);case"int32":return w(O);case"float":case"float32":return n(O);case"double":case"float64":return S(O);case"uint8_clamped":return d(O);case"bigint64":return L(O);case"biguint64":return I(O);case"buffer":return k(O);case"data":case"dataview":return B(O);default:return null}return null},y.mallocArrayBuffer=v,y.mallocUint8=A,y.mallocUint16=x,y.mallocUint32=E,y.mallocInt8=g,y.mallocInt16=M,y.mallocInt32=w,y.mallocFloat32=y.mallocFloat=n,y.mallocFloat64=y.mallocDouble=S,y.mallocUint8Clamped=d,y.mallocBigUint64=I,y.mallocBigInt64=L,y.mallocDataView=B,y.mallocBuffer=k,y.clearCache=function(){for(var O=0;O<32;++O)m.UINT8[O].length=0,m.UINT16[O].length=0,m.UINT32[O].length=0,m.INT8[O].length=0,m.INT16[O].length=0,m.INT32[O].length=0,m.FLOAT[O].length=0,m.DOUBLE[O].length=0,m.BIGUINT64[O].length=0,m.BIGINT64[O].length=0,m.UINT8C[O].length=0,a[O].length=0,b[O].length=0}},1731:function(h){"use strict";function y(r){this.roots=new Array(r),this.ranks=new Array(r);for(var l=0;l<r;++l)this.roots[l]=l,this.ranks[l]=0}h.exports=y;var t=y.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},t.find=function(r){for(var l=r,i=this.roots;i[r]!==r;)r=i[r];for(;i[l]!==r;){var u=i[l];i[l]=r,l=u}return r},t.link=function(r,l){var i=this.find(r),u=this.find(l);if(i!==u){var f=this.ranks,c=this.roots,m=f[i],a=f[u];m<a?c[i]=u:a<m?c[u]=i:(c[u]=i,++f[i])}}},1215:function(h){"use strict";h.exports=function r(l,i,u){return 0===l.length?l:i?(u||l.sort(i),function y(l,i){for(var u=1,f=l.length,c=l[0],m=l[0],a=1;a<f;++a)if(m=c,i(c=l[a],m)){if(a===u){u++;continue}l[u++]=c}return l.length=u,l}(l,i)):(u||l.sort(),function t(l){for(var i=1,u=l.length,f=l[0],c=l[0],m=1;m<u;++m,c=f)if(c=f,(f=l[m])!==c){if(m===i){i++;continue}l[i++]=f}return l.length=i,l}(l))}},875:function(h,y,t){"use strict";h.exports=function u(f,c){return("object"!=typeof c||null===c)&&(c={}),r(f,c.canvas||l,c.context||i,c)};var r=t(712),l=null,i=null;typeof document<"u"&&((l=document.createElement("canvas")).width=8192,l.height=1024,i=l.getContext("2d"))},712:function(h,y,t){h.exports=function L(B,k,z,O){var F=64,N=1.25,H={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return O&&(O.size&&O.size>0&&(F=O.size),O.lineSpacing&&O.lineSpacing>0&&(N=O.lineSpacing),O.styletags&&O.styletags.breaklines&&(H.breaklines=!!O.styletags.breaklines),O.styletags&&O.styletags.bolds&&(H.bolds=!!O.styletags.bolds),O.styletags&&O.styletags.italics&&(H.italics=!!O.styletags.italics),O.styletags&&O.styletags.subscripts&&(H.subscripts=!!O.styletags.subscripts),O.styletags&&O.styletags.superscripts&&(H.superscripts=!!O.styletags.superscripts)),z.font=[O.fontStyle,O.fontVariant,O.fontWeight,F+"px",O.font].filter(function(ne){return ne}).join(" "),z.textAlign="start",z.textBaseline="alphabetic",z.direction="ltr",I(function n(B,k,z,O,F,N){z=(z=z.replace(/\n/g,"")).replace(/\<br\>/g,!0===N.breaklines?"\n":" ");var H="",X=[];for(Z=0;Z<z.length;++Z)X[Z]=H;!0===N.bolds&&(X=M(m,a,z,X)),!0===N.italics&&(X=M(b,p,z,X)),!0===N.superscripts&&(X=M(s,A,z,X)),!0===N.subscripts&&(X=M(x,g,z,X));var ne=[],ie="";for(Z=0;Z<z.length;++Z)null!==X[Z]&&(ie+=z[Z],ne.push(X[Z]));var ue=ie.split("\n"),J=ue.length,j=Math.round(F*O),W=O,V=2*O,K=0,ae=J*j+V;B.height<ae&&(B.height=ae),k.fillStyle="#000",k.fillRect(0,0,B.width,B.height),k.fillStyle="#fff";var Q,Z,re,q,se,de=0,we="";function ye(){if(""!==we){var He=k.measureText(we).width;k.fillText(we,W+re,V+q),re+=He}}function Pe(){return Math.round(se)+"px "}function Ie(He,rt){var $e=""+k.font;if(!0===N.subscripts){var Be=He.indexOf(E),ze=rt.indexOf(E),tt=Be>-1?parseInt(He[1+Be]):0,lt=ze>-1?parseInt(rt[1+ze]):0;tt!==lt&&($e=$e.replace(Pe(),"?px "),se*=Math.pow(.75,lt-tt),$e=$e.replace("?px ",Pe())),q+=.25*j*(lt-tt)}if(!0===N.superscripts){var ut=He.indexOf(v),xt=rt.indexOf(v),bt=ut>-1?parseInt(He[1+ut]):0,Ht=xt>-1?parseInt(rt[1+xt]):0;bt!==Ht&&($e=$e.replace(Pe(),"?px "),se*=Math.pow(.75,Ht-bt),$e=$e.replace("?px ",Pe())),q-=.25*j*(Ht-bt)}if(!0===N.bolds){var Je=He.indexOf(a)>-1,Ce=rt.indexOf(a)>-1;!Je&&Ce&&($e=Ee?$e.replace("italic ","italic bold "):"bold "+$e),Je&&!Ce&&($e=$e.replace("bold ",""))}if(!0===N.italics){var Ee=He.indexOf(p)>-1,Re=rt.indexOf(p)>-1;!Ee&&Re&&($e="italic "+$e),Ee&&!Re&&($e=$e.replace("italic ",""))}k.font=$e}for(Q=0;Q<J;++Q){var Se=ue[Q]+"\n";for(re=0,q=Q*j,se=O,we="",Z=0;Z<Se.length;++Z){var xe=Z+de<ne.length?ne[Z+de]:ne[ne.length-1];H===xe?we+=Se[Z]:(ye(),we=Se[Z],void 0!==xe&&(Ie(H,xe),H=xe))}ye(),de+=Se.length;var Me=0|Math.round(re+2*W);K<Me&&(K=Me)}var Ge=K,Ye=V+j*J;return l(k.getImageData(0,0,Ge,Ye).data,[Ye,Ge,4]).pick(-1,-1,0).transpose(1,0)}(k,z,B,F,N,H),O,F)},h.exports.processPixels=I;var r=t(4162),l=t(5050),i=t(8243),u=t(197),f=t(7761),c=t(8040),m="b",a="b|",b="i",p="i|",s="sup",v="+",A="+1",x="sub",E="-",g="-1";function M(B,k,z,O){for(var F="<"+B+">",N="</"+B+">",H=F.length,X=N.length,ne=k[0]===v||k[0]===E,ie=0,ue=-X;ie>-1&&!(-1===(ie=z.indexOf(F,ie))||(ue=z.indexOf(N,ie+H),-1===ue)||ue<=ie);){for(var J=ie;J<ue+X;++J)if(J<ie+H||J>=ue)O[J]=null,z=z.substr(0,J)+" "+z.substr(J+1);else if(null!==O[J]){var j=O[J].indexOf(k[0]);-1===j?O[J]+=k:ne&&(O[J]=O[J].substr(0,j+1)+(1+parseInt(O[J][j+1]))+O[J].substr(j+2))}var W=ie+H,K=z.substr(W,ue-W).indexOf(F);ie=-1!==K?K:ue+X}return O}function d(B,k,z,O){var F=function S(B,k){var z=r(B,128);return k?i(z.cells,z.positions,.25):{edges:z.cells,positions:z.positions}}(B,O),N=function w(B,k,z){for(var O=k.textAlign||"start",F=k.textBaseline||"alphabetic",N=[1<<30,1<<30],H=[0,0],X=B.length,ne=0;ne<X;++ne)for(var ie=B[ne],ue=0;ue<2;++ue)N[ue]=0|Math.min(N[ue],ie[ue]),H[ue]=0|Math.max(H[ue],ie[ue]);var J=0;switch(O){case"center":J=-.5*(N[0]+H[0]);break;case"right":case"end":J=-H[0];break;case"left":case"start":J=-N[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+O+"'")}var j=0;switch(F){case"hanging":case"top":j=-N[1];break;case"middle":j=-.5*(N[1]+H[1]);break;case"alphabetic":case"ideographic":j=-3*z;break;case"bottom":j=-H[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+F+"'")}var W=1/z;return"lineHeight"in k?W*=+k.lineHeight:"width"in k?W=k.width/(H[0]-N[0]):"height"in k&&(W=k.height/(H[1]-N[1])),B.map(function(V){return[W*(V[0]+J),W*(V[1]+j)]})}(F.positions,k,z),H=F.edges,X="ccw"===k.orientation;if(u(N,H),k.polygons||k.polygon||k.polyline){for(var ne=c(H,N),ie=new Array(ne.length),ue=0;ue<ne.length;++ue){for(var J=ne[ue],j=new Array(J.length),W=0;W<J.length;++W){for(var V=J[W],K=new Array(V.length),ae=0;ae<V.length;++ae)K[ae]=N[V[ae]].slice();X&&K.reverse(),j[W]=K}ie[ue]=j}return ie}return k.triangles||k.triangulate||k.triangle?{cells:f(N,H,{delaunay:!1,exterior:!1,interior:!0}),positions:N}:{edges:H,positions:N}}function I(B,k,z){try{return d(B,k,z,!0)}catch{}try{return d(B,k,z,!1)}catch{}return k.polygons||k.polyline||k.polygon?[]:k.triangles||k.triangulate||k.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(h){!function(){"use strict";if(!(typeof ses<"u"&&ses.ok)||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=t);var r=!1;if("function"==typeof WeakMap){var l=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var i=new l,u=Object.freeze({});if(i.set(u,1),1===i.get(u))return void(h.exports=WeakMap);r=!0}}var c=Object.getOwnPropertyNames,m=Object.defineProperty,a=Object.isExtensible,b="weakmap:",p=b+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var s=new ArrayBuffer(25),v=new Uint8Array(s);crypto.getRandomValues(v),p=b+"rand:"+Array.prototype.map.call(v,function(d){return(d%36).toString(36)}).join("")+"___"}if(m(Object,"getOwnPropertyNames",{value:function(I){return c(I).filter(A)}}),"getPropertyNames"in Object){var x=Object.getPropertyNames;m(Object,"getPropertyNames",{value:function(I){return x(I).filter(A)}})}!function(){var d=Object.freeze;m(Object,"freeze",{value:function(k){return E(k),d(k)}});var I=Object.seal;m(Object,"seal",{value:function(k){return E(k),I(k)}});var L=Object.preventExtensions;m(Object,"preventExtensions",{value:function(k){return E(k),L(k)}})}();var M=!1,n=0,S=function(){this instanceof S||w();var d=[],I=[],L=n++;return Object.create(S.prototype,{get___:{value:g(function B(F,N){var H,X=E(F);return X?L in X?X[L]:N:(H=d.indexOf(F))>=0?I[H]:N})},has___:{value:g(function k(F){var N=E(F);return N?L in N:d.indexOf(F)>=0})},set___:{value:g(function z(F,N){var H,X=E(F);return X?X[L]=N:(H=d.indexOf(F))>=0?I[H]=N:(I[H=d.length]=N,d[H]=F),this})},delete___:{value:g(function O(F){var H,X,N=E(F);return N?L in N&&delete N[L]:!((H=d.indexOf(F))<0||(X=d.length-1,d[H]=void 0,I[H]=I[X],d[H]=d[X],d.length=X,I.length=X,0))})}})};S.prototype=Object.create(Object.prototype,{get:{value:function(I,L){return this.get___(I,L)},writable:!0,configurable:!0},has:{value:function(I){return this.has___(I)},writable:!0,configurable:!0},set:{value:function(I,L){return this.set___(I,L)},writable:!0,configurable:!0},delete:{value:function(I){return this.delete___(I)},writable:!0,configurable:!0}}),"function"==typeof l?function(){function d(){this instanceof S||w();var O,I=new l,L=void 0,B=!1;return O=r?function(N,H){return I.set(N,H),I.has(N)||(L||(L=new S),L.set(N,H)),this}:function(N,H){if(B)try{I.set(N,H)}catch{L||(L=new S),L.set___(N,H)}else I.set(N,H);return this},Object.create(S.prototype,{get___:{value:g(function k(N,H){return L?I.has(N)?I.get(N):L.get___(N,H):I.get(N,H)})},has___:{value:g(function z(N){return I.has(N)||!!L&&L.has___(N)})},set___:{value:g(O)},delete___:{value:g(function F(N){var H=!!I.delete(N);return L&&L.delete___(N)||H})},permitHostObjects___:{value:g(function(N){if(N!==t)throw new Error("bogus call to permitHostObjects___");B=!0})}})}r&&typeof Proxy<"u"&&(Proxy=void 0),d.prototype=S.prototype,h.exports=d,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),h.exports=S)}function t(d){d.permitHostObjects___&&d.permitHostObjects___(t)}function A(d){return!(d.substr(0,b.length)==b&&"___"===d.substr(d.length-3))}function E(d){if(d!==Object(d))throw new TypeError("Not an object: "+d);var I=d[p];if(I&&I.key===d)return I;if(a(d)){I={key:d};try{return m(d,p,{value:I,writable:!1,enumerable:!1,configurable:!1}),I}catch{return}}}function g(d){return d.prototype=null,Object.freeze(d)}function w(){!M&&typeof console<"u"&&(M=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},9222:function(h,y,t){var r=t(7178);h.exports=function l(){var i={};return function(u){if(("object"!=typeof u||null===u)&&"function"!=typeof u)throw new Error("Weakmap-shim: Key must be object");var f=u.valueOf(i);return f&&f.identity===i?f:r(u,i)}}},7178:function(h){h.exports=function y(t,r){var l={identity:r},i=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(u){return u!==r?i.apply(this,arguments):l},writable:!0}),l}},4037:function(h,y,t){var r=t(9222);h.exports=function l(){var i=r();return{get:function(u,f){var c=i(u);return c.hasOwnProperty("value")?c.value:f},set:function(u,f){return i(u).value=f,this},has:function(u){return"value"in i(u)},delete:function(u){return delete i(u).value}}}},6183:function(h){"use strict";var r=function t(){return function(f,c,m,a,b,p){var s=f[0],v=m[0],A=[0],x=v;a|=0;var E=0,g=v;for(E=0;E<s;++E){var M=c[a]-p,w=c[a+x]-p;M>=0!=w>=0&&b.push(A[0]+.5+.5*(M+w)/(M-w)),a+=g,++A[0]}}};h.exports=function u(f){return function i(f){return function l(f){var c={};return function(a,b,p){var s=a.dtype,v=a.order,A=[s,v.join()].join(),x=c[A];return x||(c[A]=x=f([s,v])),x(a.shape.slice(0),a.data,a.stride,0|a.offset,b,p)}}(r.bind(void 0,f))}({funcName:f.funcName})}({funcName:"zeroCrossings"})},9584:function(h,y,t){"use strict";h.exports=function l(i,u){var f=[];return u=+u||0,r(i.hi(i.shape[0]-1),f,u),f};var r=t(6183)},6601:function(){}},o={};function P(h){var y=o[h];if(void 0!==y)return y.exports;var t=o[h]={id:h,loaded:!1,exports:{}};return D[h].call(t.exports,t,t.exports,P),t.loaded=!0,t.exports}return P.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),P.nmd=function(h){return h.paths=[],h.children||(h.children=[]),h},P(7386)}()},12856:function(te,Y,e){"use strict";function D(Je,Ce){for(var Ee=0;Ee<Ce.length;Ee++){var Re=Ce[Ee];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(Je,P(Re.key),Re)}}function P(Je){var Ce=function C(Je,Ce){if("object"!==f(Je)||null===Je)return Je;var Ee=Je[Symbol.toPrimitive];if(void 0!==Ee){var Re=Ee.call(Je,Ce||"default");if("object"!==f(Re))return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Ce?String:Number)(Je)}(Je,"string");return"symbol"===f(Ce)?Ce:String(Ce)}function y(Je,Ce){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,ke){return Re.__proto__=ke,Re})(Je,Ce)}function l(Je){if(void 0===Je)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je}function u(Je){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ee){return Ee.__proto__||Object.getPrototypeOf(Ee)})(Je)}function f(Je){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ce){return typeof Ce}:function(Ce){return Ce&&"function"==typeof Symbol&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce})(Je)}var c=e(95341),m=e(95280),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Y.Buffer=v,Y.SlowBuffer=function L(Je){return+Je!=Je&&(Je=0),v.alloc(+Je)},Y.INSPECT_MAX_BYTES=50;var b=2147483647;function s(Je){if(Je>b)throw new RangeError('The value "'+Je+'" is invalid for option "size"');var Ce=new Uint8Array(Je);return Object.setPrototypeOf(Ce,v.prototype),Ce}function v(Je,Ce,Ee){if("number"==typeof Je){if("string"==typeof Ce)throw new TypeError('The "string" argument must be of type string. Received type number');return g(Je)}return A(Je,Ce,Ee)}function A(Je,Ce,Ee){if("string"==typeof Je)return function M(Je,Ce){if(("string"!=typeof Ce||""===Ce)&&(Ce="utf8"),!v.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);var Ee=0|B(Je,Ce),Re=s(Ee),ke=Re.write(Je,Ce);return ke!==Ee&&(Re=Re.slice(0,ke)),Re}(Je,Ce);if(ArrayBuffer.isView(Je))return function n(Je){if(lt(Je,Uint8Array)){var Ce=new Uint8Array(Je);return S(Ce.buffer,Ce.byteOffset,Ce.byteLength)}return w(Je)}(Je);if(null==Je)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(Je));if(lt(Je,ArrayBuffer)||Je&&lt(Je.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(lt(Je,SharedArrayBuffer)||Je&&lt(Je.buffer,SharedArrayBuffer)))return S(Je,Ce,Ee);if("number"==typeof Je)throw new TypeError('The "value" argument must not be of type number. Received type number');var Re=Je.valueOf&&Je.valueOf();if(null!=Re&&Re!==Je)return v.from(Re,Ce,Ee);var ke=function d(Je){if(v.isBuffer(Je)){var Ce=0|I(Je.length),Ee=s(Ce);return 0===Ee.length||Je.copy(Ee,0,0,Ce),Ee}return void 0!==Je.length?"number"!=typeof Je.length||ut(Je.length)?s(0):w(Je):"Buffer"===Je.type&&Array.isArray(Je.data)?w(Je.data):void 0}(Je);if(ke)return ke;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Je[Symbol.toPrimitive])return v.from(Je[Symbol.toPrimitive]("string"),Ce,Ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(Je))}function x(Je){if("number"!=typeof Je)throw new TypeError('"size" argument must be of type number');if(Je<0)throw new RangeError('The value "'+Je+'" is invalid for option "size"')}function g(Je){return x(Je),s(Je<0?0:0|I(Je))}function w(Je){for(var Ce=Je.length<0?0:0|I(Je.length),Ee=s(Ce),Re=0;Re<Ce;Re+=1)Ee[Re]=255&Je[Re];return Ee}function S(Je,Ce,Ee){if(Ce<0||Je.byteLength<Ce)throw new RangeError('"offset" is outside of buffer bounds');if(Je.byteLength<Ce+(Ee||0))throw new RangeError('"length" is outside of buffer bounds');var Re;return Re=void 0===Ce&&void 0===Ee?new Uint8Array(Je):void 0===Ee?new Uint8Array(Je,Ce):new Uint8Array(Je,Ce,Ee),Object.setPrototypeOf(Re,v.prototype),Re}function I(Je){if(Je>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|Je}function B(Je,Ce){if(v.isBuffer(Je))return Je.length;if(ArrayBuffer.isView(Je)||lt(Je,ArrayBuffer))return Je.byteLength;if("string"!=typeof Je)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(Je));var Ee=Je.length,Re=arguments.length>2&&!0===arguments[2];if(!Re&&0===Ee)return 0;for(var ke=!1;;)switch(Ce){case"ascii":case"latin1":case"binary":return Ee;case"utf8":case"utf-8":return rt(Je).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ee;case"hex":return Ee>>>1;case"base64":return ze(Je).length;default:if(ke)return Re?-1:rt(Je).length;Ce=(""+Ce).toLowerCase(),ke=!0}}function k(Je,Ce,Ee){var Re=!1;if((void 0===Ce||Ce<0)&&(Ce=0),Ce>this.length||((void 0===Ee||Ee>this.length)&&(Ee=this.length),Ee<=0)||(Ee>>>=0)<=(Ce>>>=0))return"";for(Je||(Je="utf8");;)switch(Je){case"hex":return ae(this,Ce,Ee);case"utf8":case"utf-8":return J(this,Ce,Ee);case"ascii":return V(this,Ce,Ee);case"latin1":case"binary":return K(this,Ce,Ee);case"base64":return ue(this,Ce,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,Ce,Ee);default:if(Re)throw new TypeError("Unknown encoding: "+Je);Je=(Je+"").toLowerCase(),Re=!0}}function z(Je,Ce,Ee){var Re=Je[Ce];Je[Ce]=Je[Ee],Je[Ee]=Re}function O(Je,Ce,Ee,Re,ke){if(0===Je.length)return-1;if("string"==typeof Ee?(Re=Ee,Ee=0):Ee>2147483647?Ee=2147483647:Ee<-2147483648&&(Ee=-2147483648),ut(Ee=+Ee)&&(Ee=ke?0:Je.length-1),Ee<0&&(Ee=Je.length+Ee),Ee>=Je.length){if(ke)return-1;Ee=Je.length-1}else if(Ee<0){if(!ke)return-1;Ee=0}if("string"==typeof Ce&&(Ce=v.from(Ce,Re)),v.isBuffer(Ce))return 0===Ce.length?-1:F(Je,Ce,Ee,Re,ke);if("number"==typeof Ce)return Ce&=255,"function"==typeof Uint8Array.prototype.indexOf?ke?Uint8Array.prototype.indexOf.call(Je,Ce,Ee):Uint8Array.prototype.lastIndexOf.call(Je,Ce,Ee):F(Je,[Ce],Ee,Re,ke);throw new TypeError("val must be string, number or Buffer")}function F(Je,Ce,Ee,Re,ke){var pe,Ne=1,_e=Je.length,Te=Ce.length;if(void 0!==Re&&("ucs2"===(Re=String(Re).toLowerCase())||"ucs-2"===Re||"utf16le"===Re||"utf-16le"===Re)){if(Je.length<2||Ce.length<2)return-1;Ne=2,_e/=2,Te/=2,Ee/=2}function fe(ft,Xt){return 1===Ne?ft[Xt]:ft.readUInt16BE(Xt*Ne)}if(ke){var Fe=-1;for(pe=Ee;pe<_e;pe++)if(fe(Je,pe)===fe(Ce,-1===Fe?0:pe-Fe)){if(-1===Fe&&(Fe=pe),pe-Fe+1===Te)return Fe*Ne}else-1!==Fe&&(pe-=pe-Fe),Fe=-1}else for(Ee+Te>_e&&(Ee=_e-Te),pe=Ee;pe>=0;pe--){for(var Xe=!0,at=0;at<Te;at++)if(fe(Je,pe+at)!==fe(Ce,at)){Xe=!1;break}if(Xe)return pe}return-1}function N(Je,Ce,Ee,Re){Ee=Number(Ee)||0;var ke=Je.length-Ee;Re?(Re=Number(Re))>ke&&(Re=ke):Re=ke;var _e,Ne=Ce.length;for(Re>Ne/2&&(Re=Ne/2),_e=0;_e<Re;++_e){var Te=parseInt(Ce.substr(2*_e,2),16);if(ut(Te))return _e;Je[Ee+_e]=Te}return _e}function H(Je,Ce,Ee,Re){return tt(rt(Ce,Je.length-Ee),Je,Ee,Re)}function X(Je,Ce,Ee,Re){return tt(function $e(Je){for(var Ce=[],Ee=0;Ee<Je.length;++Ee)Ce.push(255&Je.charCodeAt(Ee));return Ce}(Ce),Je,Ee,Re)}function ne(Je,Ce,Ee,Re){return tt(ze(Ce),Je,Ee,Re)}function ie(Je,Ce,Ee,Re){return tt(function Be(Je,Ce){for(var Ee,Re,Ne=[],_e=0;_e<Je.length&&!((Ce-=2)<0);++_e)Re=(Ee=Je.charCodeAt(_e))>>8,Ne.push(Ee%256),Ne.push(Re);return Ne}(Ce,Je.length-Ee),Je,Ee,Re)}function ue(Je,Ce,Ee){return c.fromByteArray(0===Ce&&Ee===Je.length?Je:Je.slice(Ce,Ee))}function J(Je,Ce,Ee){Ee=Math.min(Je.length,Ee);for(var Re=[],ke=Ce;ke<Ee;){var Ne=Je[ke],_e=null,Te=Ne>239?4:Ne>223?3:Ne>191?2:1;if(ke+Te<=Ee){var fe=void 0,pe=void 0,Fe=void 0,Xe=void 0;switch(Te){case 1:Ne<128&&(_e=Ne);break;case 2:128==(192&(fe=Je[ke+1]))&&(Xe=(31&Ne)<<6|63&fe)>127&&(_e=Xe);break;case 3:pe=Je[ke+2],128==(192&(fe=Je[ke+1]))&&128==(192&pe)&&(Xe=(15&Ne)<<12|(63&fe)<<6|63&pe)>2047&&(Xe<55296||Xe>57343)&&(_e=Xe);break;case 4:pe=Je[ke+2],Fe=Je[ke+3],128==(192&(fe=Je[ke+1]))&&128==(192&pe)&&128==(192&Fe)&&(Xe=(15&Ne)<<18|(63&fe)<<12|(63&pe)<<6|63&Fe)>65535&&Xe<1114112&&(_e=Xe)}}null===_e?(_e=65533,Te=1):_e>65535&&(Re.push((_e-=65536)>>>10&1023|55296),_e=56320|1023&_e),Re.push(_e),ke+=Te}return function W(Je){var Ce=Je.length;if(Ce<=j)return String.fromCharCode.apply(String,Je);for(var Ee="",Re=0;Re<Ce;)Ee+=String.fromCharCode.apply(String,Je.slice(Re,Re+=j));return Ee}(Re)}Y.kMaxLength=b,!(v.TYPED_ARRAY_SUPPORT=function p(){try{var Je=new Uint8Array(1),Ce={foo:function(){return 42}};return Object.setPrototypeOf(Ce,Uint8Array.prototype),Object.setPrototypeOf(Je,Ce),42===Je.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.buffer}}),Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.byteOffset}}),v.poolSize=8192,v.from=function(Je,Ce,Ee){return A(Je,Ce,Ee)},Object.setPrototypeOf(v.prototype,Uint8Array.prototype),Object.setPrototypeOf(v,Uint8Array),v.alloc=function(Je,Ce,Ee){return function E(Je,Ce,Ee){return x(Je),Je<=0?s(Je):void 0!==Ce?"string"==typeof Ee?s(Je).fill(Ce,Ee):s(Je).fill(Ce):s(Je)}(Je,Ce,Ee)},v.allocUnsafe=function(Je){return g(Je)},v.allocUnsafeSlow=function(Je){return g(Je)},v.isBuffer=function(Ce){return null!=Ce&&!0===Ce._isBuffer&&Ce!==v.prototype},v.compare=function(Ce,Ee){if(lt(Ce,Uint8Array)&&(Ce=v.from(Ce,Ce.offset,Ce.byteLength)),lt(Ee,Uint8Array)&&(Ee=v.from(Ee,Ee.offset,Ee.byteLength)),!v.isBuffer(Ce)||!v.isBuffer(Ee))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ce===Ee)return 0;for(var Re=Ce.length,ke=Ee.length,Ne=0,_e=Math.min(Re,ke);Ne<_e;++Ne)if(Ce[Ne]!==Ee[Ne]){Re=Ce[Ne],ke=Ee[Ne];break}return Re<ke?-1:ke<Re?1:0},v.isEncoding=function(Ce){switch(String(Ce).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(Ce,Ee){if(!Array.isArray(Ce))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Ce.length)return v.alloc(0);var Re;if(void 0===Ee)for(Ee=0,Re=0;Re<Ce.length;++Re)Ee+=Ce[Re].length;var ke=v.allocUnsafe(Ee),Ne=0;for(Re=0;Re<Ce.length;++Re){var _e=Ce[Re];if(lt(_e,Uint8Array))Ne+_e.length>ke.length?(v.isBuffer(_e)||(_e=v.from(_e)),_e.copy(ke,Ne)):Uint8Array.prototype.set.call(ke,_e,Ne);else{if(!v.isBuffer(_e))throw new TypeError('"list" argument must be an Array of Buffers');_e.copy(ke,Ne)}Ne+=_e.length}return ke},v.byteLength=B,v.prototype._isBuffer=!0,v.prototype.swap16=function(){var Ce=this.length;if(Ce%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ee=0;Ee<Ce;Ee+=2)z(this,Ee,Ee+1);return this},v.prototype.swap32=function(){var Ce=this.length;if(Ce%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ee=0;Ee<Ce;Ee+=4)z(this,Ee,Ee+3),z(this,Ee+1,Ee+2);return this},v.prototype.swap64=function(){var Ce=this.length;if(Ce%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ee=0;Ee<Ce;Ee+=8)z(this,Ee,Ee+7),z(this,Ee+1,Ee+6),z(this,Ee+2,Ee+5),z(this,Ee+3,Ee+4);return this},v.prototype.toString=function(){var Ce=this.length;return 0===Ce?"":0===arguments.length?J(this,0,Ce):k.apply(this,arguments)},v.prototype.toLocaleString=v.prototype.toString,v.prototype.equals=function(Ce){if(!v.isBuffer(Ce))throw new TypeError("Argument must be a Buffer");return this===Ce||0===v.compare(this,Ce)},v.prototype.inspect=function(){var Ce="",Ee=Y.INSPECT_MAX_BYTES;return Ce=this.toString("hex",0,Ee).replace(/(.{2})/g,"$1 ").trim(),this.length>Ee&&(Ce+=" ... "),"<Buffer "+Ce+">"},a&&(v.prototype[a]=v.prototype.inspect),v.prototype.compare=function(Ce,Ee,Re,ke,Ne){if(lt(Ce,Uint8Array)&&(Ce=v.from(Ce,Ce.offset,Ce.byteLength)),!v.isBuffer(Ce))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(Ce));if(void 0===Ee&&(Ee=0),void 0===Re&&(Re=Ce?Ce.length:0),void 0===ke&&(ke=0),void 0===Ne&&(Ne=this.length),Ee<0||Re>Ce.length||ke<0||Ne>this.length)throw new RangeError("out of range index");if(ke>=Ne&&Ee>=Re)return 0;if(ke>=Ne)return-1;if(Ee>=Re)return 1;if(this===Ce)return 0;for(var _e=(Ne>>>=0)-(ke>>>=0),Te=(Re>>>=0)-(Ee>>>=0),fe=Math.min(_e,Te),pe=this.slice(ke,Ne),Fe=Ce.slice(Ee,Re),Xe=0;Xe<fe;++Xe)if(pe[Xe]!==Fe[Xe]){_e=pe[Xe],Te=Fe[Xe];break}return _e<Te?-1:Te<_e?1:0},v.prototype.includes=function(Ce,Ee,Re){return-1!==this.indexOf(Ce,Ee,Re)},v.prototype.indexOf=function(Ce,Ee,Re){return O(this,Ce,Ee,Re,!0)},v.prototype.lastIndexOf=function(Ce,Ee,Re){return O(this,Ce,Ee,Re,!1)},v.prototype.write=function(Ce,Ee,Re,ke){if(void 0===Ee)ke="utf8",Re=this.length,Ee=0;else if(void 0===Re&&"string"==typeof Ee)ke=Ee,Re=this.length,Ee=0;else{if(!isFinite(Ee))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Ee>>>=0,isFinite(Re)?(Re>>>=0,void 0===ke&&(ke="utf8")):(ke=Re,Re=void 0)}var Ne=this.length-Ee;if((void 0===Re||Re>Ne)&&(Re=Ne),Ce.length>0&&(Re<0||Ee<0)||Ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");ke||(ke="utf8");for(var _e=!1;;)switch(ke){case"hex":return N(this,Ce,Ee,Re);case"utf8":case"utf-8":return H(this,Ce,Ee,Re);case"ascii":case"latin1":case"binary":return X(this,Ce,Ee,Re);case"base64":return ne(this,Ce,Ee,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,Ce,Ee,Re);default:if(_e)throw new TypeError("Unknown encoding: "+ke);ke=(""+ke).toLowerCase(),_e=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function V(Je,Ce,Ee){var Re="";Ee=Math.min(Je.length,Ee);for(var ke=Ce;ke<Ee;++ke)Re+=String.fromCharCode(127&Je[ke]);return Re}function K(Je,Ce,Ee){var Re="";Ee=Math.min(Je.length,Ee);for(var ke=Ce;ke<Ee;++ke)Re+=String.fromCharCode(Je[ke]);return Re}function ae(Je,Ce,Ee){var Re=Je.length;(!Ce||Ce<0)&&(Ce=0),(!Ee||Ee<0||Ee>Re)&&(Ee=Re);for(var ke="",Ne=Ce;Ne<Ee;++Ne)ke+=xt[Je[Ne]];return ke}function Q(Je,Ce,Ee){for(var Re=Je.slice(Ce,Ee),ke="",Ne=0;Ne<Re.length-1;Ne+=2)ke+=String.fromCharCode(Re[Ne]+256*Re[Ne+1]);return ke}function Z(Je,Ce,Ee){if(Je%1!=0||Je<0)throw new RangeError("offset is not uint");if(Je+Ce>Ee)throw new RangeError("Trying to access beyond buffer length")}function re(Je,Ce,Ee,Re,ke,Ne){if(!v.isBuffer(Je))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ce>ke||Ce<Ne)throw new RangeError('"value" argument is out of bounds');if(Ee+Re>Je.length)throw new RangeError("Index out of range")}function q(Je,Ce,Ee,Re,ke){Me(Ce,Re,ke,Je,Ee,7);var Ne=Number(Ce&BigInt(4294967295));Je[Ee++]=Ne,Je[Ee++]=Ne>>=8,Je[Ee++]=Ne>>=8,Je[Ee++]=Ne>>=8;var _e=Number(Ce>>BigInt(32)&BigInt(4294967295));return Je[Ee++]=_e,Je[Ee++]=_e>>=8,Je[Ee++]=_e>>=8,Je[Ee++]=_e>>=8,Ee}function se(Je,Ce,Ee,Re,ke){Me(Ce,Re,ke,Je,Ee,7);var Ne=Number(Ce&BigInt(4294967295));Je[Ee+7]=Ne,Je[Ee+6]=Ne>>=8,Je[Ee+5]=Ne>>=8,Je[Ee+4]=Ne>>=8;var _e=Number(Ce>>BigInt(32)&BigInt(4294967295));return Je[Ee+3]=_e,Je[Ee+2]=_e>>=8,Je[Ee+1]=_e>>=8,Je[Ee]=_e>>=8,Ee+8}function de(Je,Ce,Ee,Re,ke,Ne){if(Ee+Re>Je.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("Index out of range")}function we(Je,Ce,Ee,Re,ke){return Ce=+Ce,Ee>>>=0,ke||de(Je,0,Ee,4),m.write(Je,Ce,Ee,Re,23,4),Ee+4}function ye(Je,Ce,Ee,Re,ke){return Ce=+Ce,Ee>>>=0,ke||de(Je,0,Ee,8),m.write(Je,Ce,Ee,Re,52,8),Ee+8}v.prototype.slice=function(Ce,Ee){var Re=this.length;(Ce=~~Ce)<0?(Ce+=Re)<0&&(Ce=0):Ce>Re&&(Ce=Re),(Ee=void 0===Ee?Re:~~Ee)<0?(Ee+=Re)<0&&(Ee=0):Ee>Re&&(Ee=Re),Ee<Ce&&(Ee=Ce);var ke=this.subarray(Ce,Ee);return Object.setPrototypeOf(ke,v.prototype),ke},v.prototype.readUintLE=v.prototype.readUIntLE=function(Ce,Ee,Re){Ce>>>=0,Ee>>>=0,Re||Z(Ce,Ee,this.length);for(var ke=this[Ce],Ne=1,_e=0;++_e<Ee&&(Ne*=256);)ke+=this[Ce+_e]*Ne;return ke},v.prototype.readUintBE=v.prototype.readUIntBE=function(Ce,Ee,Re){Ce>>>=0,Ee>>>=0,Re||Z(Ce,Ee,this.length);for(var ke=this[Ce+--Ee],Ne=1;Ee>0&&(Ne*=256);)ke+=this[Ce+--Ee]*Ne;return ke},v.prototype.readUint8=v.prototype.readUInt8=function(Ce,Ee){return Ce>>>=0,Ee||Z(Ce,1,this.length),this[Ce]},v.prototype.readUint16LE=v.prototype.readUInt16LE=function(Ce,Ee){return Ce>>>=0,Ee||Z(Ce,2,this.length),this[Ce]|this[Ce+1]<<8},v.prototype.readUint16BE=v.prototype.readUInt16BE=function(Ce,Ee){return Ce>>>=0,Ee||Z(Ce,2,this.length),this[Ce]<<8|this[Ce+1]},v.prototype.readUint32LE=v.prototype.readUInt32LE=function(Ce,Ee){return Ce>>>=0,Ee||Z(Ce,4,this.length),(this[Ce]|this[Ce+1]<<8|this[Ce+2]<<16)+16777216*this[Ce+3]},v.prototype.readUint32BE=v.prototype.readUInt32BE=function(Ce,Ee){return Ce>>>=0,Ee||Z(Ce,4,this.length),16777216*this[Ce]+(this[Ce+1]<<16|this[Ce+2]<<8|this[Ce+3])},v.prototype.readBigUInt64LE=bt(function(Ce){Ge(Ce>>>=0,"offset");var Ee=this[Ce],Re=this[Ce+7];(void 0===Ee||void 0===Re)&&Ye(Ce,this.length-8);var ke=Ee+this[++Ce]*Math.pow(2,8)+this[++Ce]*Math.pow(2,16)+this[++Ce]*Math.pow(2,24),Ne=this[++Ce]+this[++Ce]*Math.pow(2,8)+this[++Ce]*Math.pow(2,16)+Re*Math.pow(2,24);return BigInt(ke)+(BigInt(Ne)<<BigInt(32))}),v.prototype.readBigUInt64BE=bt(function(Ce){Ge(Ce>>>=0,"offset");var Ee=this[Ce],Re=this[Ce+7];(void 0===Ee||void 0===Re)&&Ye(Ce,this.length-8);var ke=Ee*Math.pow(2,24)+this[++Ce]*Math.pow(2,16)+this[++Ce]*Math.pow(2,8)+this[++Ce],Ne=this[++Ce]*Math.pow(2,24)+this[++Ce]*Math.pow(2,16)+this[++Ce]*Math.pow(2,8)+Re;return(BigInt(ke)<<BigInt(32))+BigInt(Ne)}),v.prototype.readIntLE=function(Ce,Ee,Re){Ce>>>=0,Ee>>>=0,Re||Z(Ce,Ee,this.length);for(var ke=this[Ce],Ne=1,_e=0;++_e<Ee&&(Ne*=256);)ke+=this[Ce+_e]*Ne;return ke>=(Ne*=128)&&(ke-=Math.pow(2,8*Ee)),ke},v.prototype.readIntBE=function(Ce,Ee,Re){Ce>>>=0,Ee>>>=0,Re||Z(Ce,Ee,this.length);for(var ke=Ee,Ne=1,_e=this[Ce+--ke];ke>0&&(Ne*=256);)_e+=this[Ce+--ke]*Ne;return _e>=(Ne*=128)&&(_e-=Math.pow(2,8*Ee)),_e},v.prototype.readInt8=function(Ce,Ee){return Ce>>>=0,Ee||Z(Ce,1,this.length),128&this[Ce]?-1*(255-this[Ce]+1):this[Ce]},v.prototype.readInt16LE=function(Ce,Ee){Ce>>>=0,Ee||Z(Ce,2,this.length);var Re=this[Ce]|this[Ce+1]<<8;return 32768&Re?4294901760|Re:Re},v.prototype.readInt16BE=function(Ce,Ee){Ce>>>=0,Ee||Z(Ce,2,this.length);var Re=this[Ce+1]|this[Ce]<<8;return 32768&Re?4294901760|Re:Re},v.prototype.readInt32LE=function(Ce,Ee){return Ce>>>=0,Ee||Z(Ce,4,this.length),this[Ce]|this[Ce+1]<<8|this[Ce+2]<<16|this[Ce+3]<<24},v.prototype.readInt32BE=function(Ce,Ee){return Ce>>>=0,Ee||Z(Ce,4,this.length),this[Ce]<<24|this[Ce+1]<<16|this[Ce+2]<<8|this[Ce+3]},v.prototype.readBigInt64LE=bt(function(Ce){Ge(Ce>>>=0,"offset");var Ee=this[Ce],Re=this[Ce+7];(void 0===Ee||void 0===Re)&&Ye(Ce,this.length-8);var ke=this[Ce+4]+this[Ce+5]*Math.pow(2,8)+this[Ce+6]*Math.pow(2,16)+(Re<<24);return(BigInt(ke)<<BigInt(32))+BigInt(Ee+this[++Ce]*Math.pow(2,8)+this[++Ce]*Math.pow(2,16)+this[++Ce]*Math.pow(2,24))}),v.prototype.readBigInt64BE=bt(function(Ce){Ge(Ce>>>=0,"offset");var Ee=this[Ce],Re=this[Ce+7];(void 0===Ee||void 0===Re)&&Ye(Ce,this.length-8);var ke=(Ee<<24)+this[++Ce]*Math.pow(2,16)+this[++Ce]*Math.pow(2,8)+this[++Ce];return(BigInt(ke)<<BigInt(32))+BigInt(this[++Ce]*Math.pow(2,24)+this[++Ce]*Math.pow(2,16)+this[++Ce]*Math.pow(2,8)+Re)}),v.prototype.readFloatLE=function(Ce,Ee){return Ce>>>=0,Ee||Z(Ce,4,this.length),m.read(this,Ce,!0,23,4)},v.prototype.readFloatBE=function(Ce,Ee){return Ce>>>=0,Ee||Z(Ce,4,this.length),m.read(this,Ce,!1,23,4)},v.prototype.readDoubleLE=function(Ce,Ee){return Ce>>>=0,Ee||Z(Ce,8,this.length),m.read(this,Ce,!0,52,8)},v.prototype.readDoubleBE=function(Ce,Ee){return Ce>>>=0,Ee||Z(Ce,8,this.length),m.read(this,Ce,!1,52,8)},v.prototype.writeUintLE=v.prototype.writeUIntLE=function(Ce,Ee,Re,ke){Ce=+Ce,Ee>>>=0,Re>>>=0,ke||re(this,Ce,Ee,Re,Math.pow(2,8*Re)-1,0);var _e=1,Te=0;for(this[Ee]=255&Ce;++Te<Re&&(_e*=256);)this[Ee+Te]=Ce/_e&255;return Ee+Re},v.prototype.writeUintBE=v.prototype.writeUIntBE=function(Ce,Ee,Re,ke){Ce=+Ce,Ee>>>=0,Re>>>=0,ke||re(this,Ce,Ee,Re,Math.pow(2,8*Re)-1,0);var _e=Re-1,Te=1;for(this[Ee+_e]=255&Ce;--_e>=0&&(Te*=256);)this[Ee+_e]=Ce/Te&255;return Ee+Re},v.prototype.writeUint8=v.prototype.writeUInt8=function(Ce,Ee,Re){return Ce=+Ce,Ee>>>=0,Re||re(this,Ce,Ee,1,255,0),this[Ee]=255&Ce,Ee+1},v.prototype.writeUint16LE=v.prototype.writeUInt16LE=function(Ce,Ee,Re){return Ce=+Ce,Ee>>>=0,Re||re(this,Ce,Ee,2,65535,0),this[Ee]=255&Ce,this[Ee+1]=Ce>>>8,Ee+2},v.prototype.writeUint16BE=v.prototype.writeUInt16BE=function(Ce,Ee,Re){return Ce=+Ce,Ee>>>=0,Re||re(this,Ce,Ee,2,65535,0),this[Ee]=Ce>>>8,this[Ee+1]=255&Ce,Ee+2},v.prototype.writeUint32LE=v.prototype.writeUInt32LE=function(Ce,Ee,Re){return Ce=+Ce,Ee>>>=0,Re||re(this,Ce,Ee,4,4294967295,0),this[Ee+3]=Ce>>>24,this[Ee+2]=Ce>>>16,this[Ee+1]=Ce>>>8,this[Ee]=255&Ce,Ee+4},v.prototype.writeUint32BE=v.prototype.writeUInt32BE=function(Ce,Ee,Re){return Ce=+Ce,Ee>>>=0,Re||re(this,Ce,Ee,4,4294967295,0),this[Ee]=Ce>>>24,this[Ee+1]=Ce>>>16,this[Ee+2]=Ce>>>8,this[Ee+3]=255&Ce,Ee+4},v.prototype.writeBigUInt64LE=bt(function(Ce){return q(this,Ce,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeBigUInt64BE=bt(function(Ce){return se(this,Ce,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeIntLE=function(Ce,Ee,Re,ke){if(Ce=+Ce,Ee>>>=0,!ke){var Ne=Math.pow(2,8*Re-1);re(this,Ce,Ee,Re,Ne-1,-Ne)}var _e=0,Te=1,fe=0;for(this[Ee]=255&Ce;++_e<Re&&(Te*=256);)Ce<0&&0===fe&&0!==this[Ee+_e-1]&&(fe=1),this[Ee+_e]=(Ce/Te>>0)-fe&255;return Ee+Re},v.prototype.writeIntBE=function(Ce,Ee,Re,ke){if(Ce=+Ce,Ee>>>=0,!ke){var Ne=Math.pow(2,8*Re-1);re(this,Ce,Ee,Re,Ne-1,-Ne)}var _e=Re-1,Te=1,fe=0;for(this[Ee+_e]=255&Ce;--_e>=0&&(Te*=256);)Ce<0&&0===fe&&0!==this[Ee+_e+1]&&(fe=1),this[Ee+_e]=(Ce/Te>>0)-fe&255;return Ee+Re},v.prototype.writeInt8=function(Ce,Ee,Re){return Ce=+Ce,Ee>>>=0,Re||re(this,Ce,Ee,1,127,-128),Ce<0&&(Ce=255+Ce+1),this[Ee]=255&Ce,Ee+1},v.prototype.writeInt16LE=function(Ce,Ee,Re){return Ce=+Ce,Ee>>>=0,Re||re(this,Ce,Ee,2,32767,-32768),this[Ee]=255&Ce,this[Ee+1]=Ce>>>8,Ee+2},v.prototype.writeInt16BE=function(Ce,Ee,Re){return Ce=+Ce,Ee>>>=0,Re||re(this,Ce,Ee,2,32767,-32768),this[Ee]=Ce>>>8,this[Ee+1]=255&Ce,Ee+2},v.prototype.writeInt32LE=function(Ce,Ee,Re){return Ce=+Ce,Ee>>>=0,Re||re(this,Ce,Ee,4,2147483647,-2147483648),this[Ee]=255&Ce,this[Ee+1]=Ce>>>8,this[Ee+2]=Ce>>>16,this[Ee+3]=Ce>>>24,Ee+4},v.prototype.writeInt32BE=function(Ce,Ee,Re){return Ce=+Ce,Ee>>>=0,Re||re(this,Ce,Ee,4,2147483647,-2147483648),Ce<0&&(Ce=4294967295+Ce+1),this[Ee]=Ce>>>24,this[Ee+1]=Ce>>>16,this[Ee+2]=Ce>>>8,this[Ee+3]=255&Ce,Ee+4},v.prototype.writeBigInt64LE=bt(function(Ce){return q(this,Ce,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),v.prototype.writeBigInt64BE=bt(function(Ce){return se(this,Ce,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),v.prototype.writeFloatLE=function(Ce,Ee,Re){return we(this,Ce,Ee,!0,Re)},v.prototype.writeFloatBE=function(Ce,Ee,Re){return we(this,Ce,Ee,!1,Re)},v.prototype.writeDoubleLE=function(Ce,Ee,Re){return ye(this,Ce,Ee,!0,Re)},v.prototype.writeDoubleBE=function(Ce,Ee,Re){return ye(this,Ce,Ee,!1,Re)},v.prototype.copy=function(Ce,Ee,Re,ke){if(!v.isBuffer(Ce))throw new TypeError("argument should be a Buffer");if(Re||(Re=0),!ke&&0!==ke&&(ke=this.length),Ee>=Ce.length&&(Ee=Ce.length),Ee||(Ee=0),ke>0&&ke<Re&&(ke=Re),ke===Re||0===Ce.length||0===this.length)return 0;if(Ee<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("sourceEnd out of bounds");ke>this.length&&(ke=this.length),Ce.length-Ee<ke-Re&&(ke=Ce.length-Ee+Re);var Ne=ke-Re;return this===Ce&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Ee,Re,ke):Uint8Array.prototype.set.call(Ce,this.subarray(Re,ke),Ee),Ne},v.prototype.fill=function(Ce,Ee,Re,ke){if("string"==typeof Ce){if("string"==typeof Ee?(ke=Ee,Ee=0,Re=this.length):"string"==typeof Re&&(ke=Re,Re=this.length),void 0!==ke&&"string"!=typeof ke)throw new TypeError("encoding must be a string");if("string"==typeof ke&&!v.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);if(1===Ce.length){var Ne=Ce.charCodeAt(0);("utf8"===ke&&Ne<128||"latin1"===ke)&&(Ce=Ne)}}else"number"==typeof Ce?Ce&=255:"boolean"==typeof Ce&&(Ce=Number(Ce));if(Ee<0||this.length<Ee||this.length<Re)throw new RangeError("Out of range index");if(Re<=Ee)return this;var _e;if(Ee>>>=0,Re=void 0===Re?this.length:Re>>>0,Ce||(Ce=0),"number"==typeof Ce)for(_e=Ee;_e<Re;++_e)this[_e]=Ce;else{var Te=v.isBuffer(Ce)?Ce:v.from(Ce,ke),fe=Te.length;if(0===fe)throw new TypeError('The value "'+Ce+'" is invalid for argument "value"');for(_e=0;_e<Re-Ee;++_e)this[_e+Ee]=Te[_e%fe]}return this};var Pe={};function Ie(Je,Ce,Ee){Pe[Je]=function(Re){!function h(Je,Ce){if("function"!=typeof Ce&&null!==Ce)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),Object.defineProperty(Je,"prototype",{writable:!1}),Ce&&y(Je,Ce)}(Ne,Re);var ke=function t(Je){var Ce=function i(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ke,Re=u(Je);if(Ce){var Ne=u(this).constructor;ke=Reflect.construct(Re,arguments,Ne)}else ke=Re.apply(this,arguments);return function r(Je,Ce){if(Ce&&("object"===f(Ce)||"function"==typeof Ce))return Ce;if(void 0!==Ce)throw new TypeError("Derived constructors may only return object or undefined");return l(Je)}(this,ke)}}(Ne);function Ne(){var _e;return function T(Je,Ce){if(!(Je instanceof Ce))throw new TypeError("Cannot call a class as a function")}(this,Ne),_e=ke.call(this),Object.defineProperty(l(_e),"message",{value:Ce.apply(l(_e),arguments),writable:!0,configurable:!0}),_e.name="".concat(_e.name," [").concat(Je,"]"),delete _e.name,_e}return function o(Je,Ce,Ee){Ce&&D(Je.prototype,Ce),Ee&&D(Je,Ee),Object.defineProperty(Je,"prototype",{writable:!1})}(Ne,[{key:"code",get:function(){return Je},set:function(Te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Te,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Je,"]: ").concat(this.message)}}]),Ne}(Ee)}function Se(Je){for(var Ce="",Ee=Je.length,Re="-"===Je[0]?1:0;Ee>=Re+4;Ee-=3)Ce="_".concat(Je.slice(Ee-3,Ee)).concat(Ce);return"".concat(Je.slice(0,Ee)).concat(Ce)}function Me(Je,Ce,Ee,Re,ke,Ne){if(Je>Ee||Je<Ce){var Te,_e="bigint"==typeof Ce?"n":"";throw Te=Ne>3?0===Ce||Ce===BigInt(0)?">= 0".concat(_e," and < 2").concat(_e," ** ").concat(8*(Ne+1)).concat(_e):">= -(2".concat(_e," ** ").concat(8*(Ne+1)-1).concat(_e,") and < 2 ** ")+"".concat(8*(Ne+1)-1).concat(_e):">= ".concat(Ce).concat(_e," and <= ").concat(Ee).concat(_e),new Pe.ERR_OUT_OF_RANGE("value",Te,Je)}!function xe(Je,Ce,Ee){Ge(Ce,"offset"),(void 0===Je[Ce]||void 0===Je[Ce+Ee])&&Ye(Ce,Je.length-(Ee+1))}(Re,ke,Ne)}function Ge(Je,Ce){if("number"!=typeof Je)throw new Pe.ERR_INVALID_ARG_TYPE(Ce,"number",Je)}function Ye(Je,Ce,Ee){throw Math.floor(Je)!==Je?(Ge(Je,Ee),new Pe.ERR_OUT_OF_RANGE(Ee||"offset","an integer",Je)):Ce<0?new Pe.ERR_BUFFER_OUT_OF_BOUNDS:new Pe.ERR_OUT_OF_RANGE(Ee||"offset",">= ".concat(Ee?1:0," and <= ").concat(Ce),Je)}Ie("ERR_BUFFER_OUT_OF_BOUNDS",function(Je){return Je?"".concat(Je," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ie("ERR_INVALID_ARG_TYPE",function(Je,Ce){return'The "'.concat(Je,'" argument must be of type number. Received type ').concat(f(Ce))},TypeError),Ie("ERR_OUT_OF_RANGE",function(Je,Ce,Ee){var Re='The value of "'.concat(Je,'" is out of range.'),ke=Ee;return Number.isInteger(Ee)&&Math.abs(Ee)>Math.pow(2,32)?ke=Se(String(Ee)):"bigint"==typeof Ee&&(ke=String(Ee),(Ee>Math.pow(BigInt(2),BigInt(32))||Ee<-Math.pow(BigInt(2),BigInt(32)))&&(ke=Se(ke)),ke+="n"),Re+" It must be ".concat(Ce,". Received ").concat(ke)},RangeError);var De=/[^+/0-9A-Za-z-_]/g;function rt(Je,Ce){Ce=Ce||1/0;for(var Ee,Re=Je.length,ke=null,Ne=[],_e=0;_e<Re;++_e){if((Ee=Je.charCodeAt(_e))>55295&&Ee<57344){if(!ke){if(Ee>56319){(Ce-=3)>-1&&Ne.push(239,191,189);continue}if(_e+1===Re){(Ce-=3)>-1&&Ne.push(239,191,189);continue}ke=Ee;continue}if(Ee<56320){(Ce-=3)>-1&&Ne.push(239,191,189),ke=Ee;continue}Ee=65536+(ke-55296<<10|Ee-56320)}else ke&&(Ce-=3)>-1&&Ne.push(239,191,189);if(ke=null,Ee<128){if((Ce-=1)<0)break;Ne.push(Ee)}else if(Ee<2048){if((Ce-=2)<0)break;Ne.push(Ee>>6|192,63&Ee|128)}else if(Ee<65536){if((Ce-=3)<0)break;Ne.push(Ee>>12|224,Ee>>6&63|128,63&Ee|128)}else{if(!(Ee<1114112))throw new Error("Invalid code point");if((Ce-=4)<0)break;Ne.push(Ee>>18|240,Ee>>12&63|128,Ee>>6&63|128,63&Ee|128)}}return Ne}function ze(Je){return c.toByteArray(function He(Je){if((Je=(Je=Je.split("=")[0]).trim().replace(De,"")).length<2)return"";for(;Je.length%4!=0;)Je+="=";return Je}(Je))}function tt(Je,Ce,Ee,Re){var ke;for(ke=0;ke<Re&&!(ke+Ee>=Ce.length||ke>=Je.length);++ke)Ce[ke+Ee]=Je[ke];return ke}function lt(Je,Ce){return Je instanceof Ce||null!=Je&&null!=Je.constructor&&null!=Je.constructor.name&&Je.constructor.name===Ce.name}function ut(Je){return Je!=Je}var xt=function(){for(var Je="0123456789abcdef",Ce=new Array(256),Ee=0;Ee<16;++Ee)for(var Re=16*Ee,ke=0;ke<16;++ke)Ce[Re+ke]=Je[Ee]+Je[ke];return Ce}();function bt(Je){return typeof BigInt>"u"?Ht:Je}function Ht(){throw new Error("BigInt not supported")}},35791:function(te){"use strict";te.exports=D,te.exports.isMobile=D,te.exports.default=D;var Y=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,T=/android|ipad|playbook|silk/i;function D(o){o||(o={});var P=o.ua;if(!P&&typeof navigator<"u"&&(P=navigator.userAgent),P&&P.headers&&"string"==typeof P.headers["user-agent"]&&(P=P.headers["user-agent"]),"string"!=typeof P)return!1;var C=Y.test(P)&&!e.test(P)||!!o.tablet&&T.test(P);return!C&&o.tablet&&o.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==P.indexOf("Macintosh")&&-1!==P.indexOf("Safari")&&(C=!0),C}},86781:function(te,Y,e){"use strict";e.r(Y),e.d(Y,{sankeyCenter:function(){return l},sankeyCircular:function(){return S},sankeyJustify:function(){return r},sankeyLeft:function(){return y},sankeyRight:function(){return t}});var T=e(33064),D=e(15140),o=e(45879),P=e(2502),C=e.n(P);function h(ye){return ye.target.depth}function y(ye){return ye.depth}function t(ye,Pe){return Pe-1-ye.height}function r(ye,Pe){return ye.sourceLinks.length?ye.depth:Pe-1}function l(ye){return ye.targetLinks.length?ye.depth:ye.sourceLinks.length?(0,T.VV)(ye.sourceLinks,h)-1:0}function i(ye){return function(){return ye}}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ye){return typeof ye}:function(ye){return ye&&"function"==typeof Symbol&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye};function f(ye,Pe){return m(ye.source,Pe.source)||ye.index-Pe.index}function c(ye,Pe){return m(ye.target,Pe.target)||ye.index-Pe.index}function m(ye,Pe){return ye.partOfCycle===Pe.partOfCycle?ye.y0-Pe.y0:"top"===ye.circularLinkType||"bottom"===Pe.circularLinkType?-1:1}function a(ye){return ye.value}function b(ye){return(ye.y0+ye.y1)/2}function p(ye){return b(ye.source)}function s(ye){return b(ye.target)}function v(ye){return ye.index}function A(ye){return ye.nodes}function x(ye){return ye.links}function E(ye,Pe){var Ie=ye.get(Pe);if(!Ie)throw new Error("missing: "+Pe);return Ie}function g(ye,Pe){return Pe(ye)}var M=25,w=10,n=.3;function S(){var Me,Be,ye=0,Pe=0,Ie=1,Se=1,xe=24,Ge=v,Ye=r,De=A,He=x,rt=32,$e=2,ze=null;function tt(){var Ee={nodes:De.apply(null,arguments),links:He.apply(null,arguments)};(function lt(Ee){Ee.nodes.forEach(function(ke,Ne){ke.index=Ne,ke.sourceLinks=[],ke.targetLinks=[]});var Re=(0,D.UI)(Ee.nodes,Ge);Ee.links.forEach(function(ke,Ne){ke.index=Ne;var _e=ke.source,Te=ke.target;"object"!==(typeof _e>"u"?"undefined":u(_e))&&(_e=ke.source=E(Re,_e)),"object"!==(typeof Te>"u"?"undefined":u(Te))&&(Te=ke.target=E(Re,Te)),_e.sourceLinks.push(ke),Te.targetLinks.push(ke)})})(Ee),function d(ye,Pe,Ie){var Se=0;if(null===Ie){for(var xe=[],Me=0;Me<ye.links.length;Me++){var Ge=ye.links[Me],Ye=Ge.source.index,De=Ge.target.index;xe[Ye]||(xe[Ye]=[]),xe[De]||(xe[De]=[]),-1===xe[Ye].indexOf(De)&&xe[Ye].push(De)}var He=C()(xe);He.sort(function(ze,tt){return ze.length-tt.length});var rt={};for(Me=0;Me<He.length;Me++){var Be=He[Me].slice(-2);rt[Be[0]]||(rt[Be[0]]={}),rt[Be[0]][Be[1]]=!0}ye.links.forEach(function(ze){var tt=ze.target.index,lt=ze.source.index;tt===lt||rt[lt]&&rt[lt][tt]?(ze.circular=!0,ze.circularLinkID=Se,Se+=1):ze.circular=!1})}else ye.links.forEach(function(ze){ze.source[Ie]<ze.target[Ie]?ze.circular=!1:(ze.circular=!0,ze.circularLinkID=Se,Se+=1)})}(Ee,0,ze),function ut(Ee){Ee.nodes.forEach(function(Re){Re.partOfCycle=!1,Re.value=Math.max((0,T.Sm)(Re.sourceLinks,a),(0,T.Sm)(Re.targetLinks,a)),Re.sourceLinks.forEach(function(ke){ke.circular&&(Re.partOfCycle=!0,Re.circularLinkType=ke.circularLinkType)}),Re.targetLinks.forEach(function(ke){ke.circular&&(Re.partOfCycle=!0,Re.circularLinkType=ke.circularLinkType)})})}(Ee),function Ht(Ee){var Re,ke,Ne;for(Re=Ee.nodes,ke=[],Ne=0;Re.length;++Ne,Re=ke,ke=[])Re.forEach(function(_e){_e.depth=Ne,_e.sourceLinks.forEach(function(Te){ke.indexOf(Te.target)<0&&!Te.circular&&ke.push(Te.target)})});for(Re=Ee.nodes,ke=[],Ne=0;Re.length;++Ne,Re=ke,ke=[])Re.forEach(function(_e){_e.height=Ne,_e.targetLinks.forEach(function(Te){ke.indexOf(Te.source)<0&&!Te.circular&&ke.push(Te.source)})});Ee.nodes.forEach(function(_e){_e.column=Math.floor(Ye.call(null,_e,Ne))})}(Ee),I(Ee,Ge),function Je(Ee,Re,ke){var Ne=(0,D.b1)().key(function(Xe){return Xe.column}).sortKeys(T.j2).entries(Ee.nodes).map(function(Xe){return Xe.values});(function fe(Xe){if(Be){var at=1/0;Ne.forEach(function(At){var zt=Se*Be/(At.length+1);at=zt<at?zt:at}),Me=at}var ft=(0,T.VV)(Ne,function(At){return(Se-Pe-(At.length-1)*Me)/(0,T.Sm)(At,a)});ft*=n,Ee.links.forEach(function(At){At.width=At.value*ft});var Xt=function xt(Ee){var Re=0,ke=0,Ne=0,_e=0,Te=(0,T.Fp)(Ee.nodes,function(fe){return fe.column});return Ee.links.forEach(function(fe){fe.circular&&("top"==fe.circularLinkType?Re+=fe.width:ke+=fe.width,0==fe.target.column&&(_e+=fe.width),fe.source.column==Te&&(Ne+=fe.width))}),{top:Re=Re>0?Re+M+w:Re,bottom:ke=ke>0?ke+M+w:ke,left:_e=_e>0?_e+M+w:_e,right:Ne=Ne>0?Ne+M+w:Ne}}(Ee),rr=function bt(Ee,Re){var ke=(0,T.Fp)(Ee.nodes,function(Xe){return Xe.column}),Ne=Ie-ye,_e=Se-Pe,pe=Ne/(Ne+Re.right+Re.left),Fe=_e/(_e+Re.top+Re.bottom);return ye=ye*pe+Re.left,Ie=0==Re.right?Ie:Ie*pe,Pe=Pe*Fe+Re.top,Se*=Fe,Ee.nodes.forEach(function(Xe){Xe.x0=ye+Xe.column*((Ie-ye-xe)/ke),Xe.x1=Xe.x0+xe}),Fe}(Ee,Xt);ft*=rr,Ee.links.forEach(function(At){At.width=At.value*ft}),Ne.forEach(function(At){var zt=At.length;At.forEach(function(Qt,Rr){Qt.depth==Ne.length-1&&1==zt||0==Qt.depth&&1==zt?(Qt.y0=Se/2-Qt.value*ft,Qt.y1=Qt.y0+Qt.value*ft):Qt.partOfCycle?0==k(Qt,Xe)?(Qt.y0=Se/2+Rr,Qt.y1=Qt.y0+Qt.value*ft):"top"==Qt.circularLinkType?(Qt.y0=Pe+Rr,Qt.y1=Qt.y0+Qt.value*ft):(Qt.y0=Se-Qt.value*ft-Rr,Qt.y1=Qt.y0+Qt.value*ft):0==Xt.top||0==Xt.bottom?(Qt.y0=(Se-Pe)/zt*Rr,Qt.y1=Qt.y0+Qt.value*ft):(Qt.y0=(Se-Pe)/2-zt/2+Rr,Qt.y1=Qt.y0+Qt.value*ft)})})})(ke),Fe();for(var _e=1,Te=Re;Te>0;--Te)pe(_e*=.99,ke),Fe();function pe(Xe,at){var ft=Ne.length;Ne.forEach(function(Xt){var rr=Xt.length,At=Xt[0].depth;Xt.forEach(function(zt){var Qt;if((zt.sourceLinks.length||zt.targetLinks.length)&&!(zt.partOfCycle&&k(zt,at)>0))if(0==At&&1==rr)zt.y0=Se/2-(Qt=zt.y1-zt.y0)/2,zt.y1=Se/2+Qt/2;else if(At==ft-1&&1==rr)zt.y0=Se/2-(Qt=zt.y1-zt.y0)/2,zt.y1=Se/2+Qt/2;else{var pt=(0,T.J6)(zt.sourceLinks,s),$t=(0,T.J6)(zt.targetLinks,p),tr=((pt&&$t?(pt+$t)/2:pt||$t)-b(zt))*Xe;zt.y0+=tr,zt.y1+=tr}})})}function Fe(){Ne.forEach(function(Xe){var at,ft,At,Xt=Pe,rr=Xe.length;for(Xe.sort(m),At=0;At<rr;++At)(ft=Xt-(at=Xe[At]).y0)>0&&(at.y0+=ft,at.y1+=ft),Xt=at.y1+Me;if((ft=Xt-Me-Se)>0)for(Xt=at.y0-=ft,at.y1-=ft,At=rr-2;At>=0;--At)(ft=(at=Xe[At]).y1+Me-Xt)>0&&(at.y0-=ft,at.y1-=ft),Xt=at.y0})}}(Ee,rt,Ge),Ce(Ee);for(var ke=0;ke<4;ke++)Z(Ee,Se,Ge),re(Ee,0,Ge),K(Ee,Pe,Se,Ge),Z(Ee,Se,Ge),re(Ee,0,Ge);return function we(ye,Pe,Ie){var Se=ye.nodes,xe=ye.links,Me=!1,Ge=!1;if(xe.forEach(function(Be){"top"==Be.circularLinkType?Me=!0:"bottom"==Be.circularLinkType&&(Ge=!0)}),0==Me||0==Ge){var Ye=(0,T.VV)(Se,function(Be){return Be.y0}),De=(0,T.Fp)(Se,function(Be){return Be.y1}),$e=(Ie-Pe)/(De-Ye);Se.forEach(function(Be){var ze=(Be.y1-Be.y0)*$e;Be.y0=(Be.y0-Ye)*$e,Be.y1=Be.y0+ze}),xe.forEach(function(Be){Be.y0=(Be.y0-Ye)*$e,Be.y1=(Be.y1-Ye)*$e,Be.width=Be.width*$e})}}(Ee,Pe,Se),F(Ee,$e,Se,Ge),Ee}function Ce(Ee){Ee.nodes.forEach(function(Re){Re.sourceLinks.sort(c),Re.targetLinks.sort(f)}),Ee.nodes.forEach(function(Re){var ke=Re.y0,Ne=ke,_e=Re.y1,Te=_e;Re.sourceLinks.forEach(function(fe){fe.circular?(fe.y0=_e-fe.width/2,_e-=fe.width):(fe.y0=ke+fe.width/2,ke+=fe.width)}),Re.targetLinks.forEach(function(fe){fe.circular?(fe.y1=Te-fe.width/2,Te-=fe.width):(fe.y1=Ne+fe.width/2,Ne+=fe.width)})})}return tt.nodeId=function(Ee){return arguments.length?(Ge="function"==typeof Ee?Ee:i(Ee),tt):Ge},tt.nodeAlign=function(Ee){return arguments.length?(Ye="function"==typeof Ee?Ee:i(Ee),tt):Ye},tt.nodeWidth=function(Ee){return arguments.length?(xe=+Ee,tt):xe},tt.nodePadding=function(Ee){return arguments.length?(Me=+Ee,tt):Me},tt.nodes=function(Ee){return arguments.length?(De="function"==typeof Ee?Ee:i(Ee),tt):De},tt.links=function(Ee){return arguments.length?(He="function"==typeof Ee?Ee:i(Ee),tt):He},tt.size=function(Ee){return arguments.length?(ye=Pe=0,Ie=+Ee[0],Se=+Ee[1],tt):[Ie-ye,Se-Pe]},tt.extent=function(Ee){return arguments.length?(ye=+Ee[0][0],Ie=+Ee[1][0],Pe=+Ee[0][1],Se=+Ee[1][1],tt):[[ye,Pe],[Ie,Se]]},tt.iterations=function(Ee){return arguments.length?(rt=+Ee,tt):rt},tt.circularLinkGap=function(Ee){return arguments.length?($e=+Ee,tt):$e},tt.nodePaddingRatio=function(Ee){return arguments.length?(Be=+Ee,tt):Be},tt.sortNodes=function(Ee){return arguments.length?(ze=Ee,tt):ze},tt.update=function(Ee){return I(Ee,Ge),Ce(Ee),Ee.links.forEach(function(Re){Re.circular&&(Re.circularLinkType=Re.y0+Re.y1<Se?"top":"bottom",Re.source.circularLinkType=Re.circularLinkType,Re.target.circularLinkType=Re.circularLinkType)}),Z(Ee,Se,Ge,!1),re(Ee,0,Ge),F(Ee,$e,Se,Ge),Ee},tt}function I(ye,Pe){var Ie=0,Se=0;ye.links.forEach(function(xe){xe.circular&&(xe.circularLinkType=xe.source.circularLinkType||xe.target.circularLinkType?xe.source.circularLinkType?xe.source.circularLinkType:xe.target.circularLinkType:Ie<Se?"top":"bottom","top"==xe.circularLinkType?Ie+=1:Se+=1,ye.nodes.forEach(function(Me){(g(Me,Pe)==g(xe.source,Pe)||g(Me,Pe)==g(xe.target,Pe))&&(Me.circularLinkType=xe.circularLinkType)}))}),ye.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType==xe.target.circularLinkType&&(xe.circularLinkType=xe.source.circularLinkType),de(xe,Pe)&&(xe.circularLinkType=xe.source.circularLinkType))})}function L(ye){var Pe=Math.abs(ye.y1-ye.y0),Ie=Math.abs(ye.target.x0-ye.source.x1);return Math.atan(Ie/Pe)}function B(ye,Pe){return!(ye.source.column<Pe.target.column||ye.target.column>Pe.source.column)}function k(ye,Pe){var Ie=0;ye.sourceLinks.forEach(function(xe){Ie=xe.circular&&!de(xe,Pe)?Ie+1:Ie});var Se=0;return ye.targetLinks.forEach(function(xe){Se=xe.circular&&!de(xe,Pe)?Se+1:Se}),Ie+Se}function z(ye){var Ie=0;ye.source.sourceLinks.forEach(function(Me){Ie=Me.circular?Ie+1:Ie});var xe=0;return ye.target.targetLinks.forEach(function(Me){xe=Me.circular?xe+1:xe}),!(Ie>1||xe>1)}function O(ye,Pe,Ie){return ye.sort(H),ye.forEach(function(Se,xe){var Me=0;if(de(Se,Ie)&&z(Se))Se.circularPathData.verticalBuffer=Me+Se.width/2;else{for(var Ge=0;Ge<xe;Ge++)if(B(ye[xe],ye[Ge])){var Ye=ye[Ge].circularPathData.verticalBuffer+ye[Ge].width/2+Pe;Me=Ye>Me?Ye:Me}Se.circularPathData.verticalBuffer=Me+Se.width/2}}),ye}function F(ye,Pe,Ie,Se){var Me=(0,T.VV)(ye.links,function(De){return De.source.y0});ye.links.forEach(function(De){De.circular&&(De.circularPathData={})}),O(ye.links.filter(function(De){return"top"==De.circularLinkType}),Pe,Se),O(ye.links.filter(function(De){return"bottom"==De.circularLinkType}),Pe,Se),ye.links.forEach(function(De){if(De.circular){if(De.circularPathData.arcRadius=De.width+w,De.circularPathData.leftNodeBuffer=5,De.circularPathData.rightNodeBuffer=5,De.circularPathData.sourceWidth=De.source.x1-De.source.x0,De.circularPathData.sourceX=De.source.x0+De.circularPathData.sourceWidth,De.circularPathData.targetX=De.target.x0,De.circularPathData.sourceY=De.y0,De.circularPathData.targetY=De.y1,de(De,Se)&&z(De))De.circularPathData.leftSmallArcRadius=w+De.width/2,De.circularPathData.leftLargeArcRadius=w+De.width/2,De.circularPathData.rightSmallArcRadius=w+De.width/2,De.circularPathData.rightLargeArcRadius=w+De.width/2,"bottom"==De.circularLinkType?(De.circularPathData.verticalFullExtent=De.source.y1+M+De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.rightLargeArcRadius):(De.circularPathData.verticalFullExtent=De.source.y0-M-De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.rightLargeArcRadius);else{var He=De.source.column,rt=De.circularLinkType,$e=ye.links.filter(function(tt){return tt.source.column==He&&tt.circularLinkType==rt});$e.sort("bottom"==De.circularLinkType?ne:X);var Be=0;$e.forEach(function(tt,lt){tt.circularLinkID==De.circularLinkID&&(De.circularPathData.leftSmallArcRadius=w+De.width/2+Be,De.circularPathData.leftLargeArcRadius=w+De.width/2+lt*Pe+Be),Be+=tt.width}),He=De.target.column,($e=ye.links.filter(function(tt){return tt.target.column==He&&tt.circularLinkType==rt})).sort("bottom"==De.circularLinkType?ue:ie),Be=0,$e.forEach(function(tt,lt){tt.circularLinkID==De.circularLinkID&&(De.circularPathData.rightSmallArcRadius=w+De.width/2+Be,De.circularPathData.rightLargeArcRadius=w+De.width/2+lt*Pe+Be),Be+=tt.width}),"bottom"==De.circularLinkType?(De.circularPathData.verticalFullExtent=Math.max(Ie,De.source.y1,De.target.y1)+M+De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent-De.circularPathData.rightLargeArcRadius):(De.circularPathData.verticalFullExtent=Me-M-De.circularPathData.verticalBuffer,De.circularPathData.verticalLeftInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.leftLargeArcRadius,De.circularPathData.verticalRightInnerExtent=De.circularPathData.verticalFullExtent+De.circularPathData.rightLargeArcRadius)}De.circularPathData.leftInnerExtent=De.circularPathData.sourceX+De.circularPathData.leftNodeBuffer,De.circularPathData.rightInnerExtent=De.circularPathData.targetX-De.circularPathData.rightNodeBuffer,De.circularPathData.leftFullExtent=De.circularPathData.sourceX+De.circularPathData.leftLargeArcRadius+De.circularPathData.leftNodeBuffer,De.circularPathData.rightFullExtent=De.circularPathData.targetX-De.circularPathData.rightLargeArcRadius-De.circularPathData.rightNodeBuffer}if(De.circular)De.path=function N(ye){return"top"==ye.circularLinkType?"M"+ye.circularPathData.sourceX+" "+ye.circularPathData.sourceY+" L"+ye.circularPathData.leftInnerExtent+" "+ye.circularPathData.sourceY+" A"+ye.circularPathData.leftLargeArcRadius+" "+ye.circularPathData.leftSmallArcRadius+" 0 0 0 "+ye.circularPathData.leftFullExtent+" "+(ye.circularPathData.sourceY-ye.circularPathData.leftSmallArcRadius)+" L"+ye.circularPathData.leftFullExtent+" "+ye.circularPathData.verticalLeftInnerExtent+" A"+ye.circularPathData.leftLargeArcRadius+" "+ye.circularPathData.leftLargeArcRadius+" 0 0 0 "+ye.circularPathData.leftInnerExtent+" "+ye.circularPathData.verticalFullExtent+" L"+ye.circularPathData.rightInnerExtent+" "+ye.circularPathData.verticalFullExtent+" A"+ye.circularPathData.rightLargeArcRadius+" "+ye.circularPathData.rightLargeArcRadius+" 0 0 0 "+ye.circularPathData.rightFullExtent+" "+ye.circularPathData.verticalRightInnerExtent+" L"+ye.circularPathData.rightFullExtent+" "+(ye.circularPathData.targetY-ye.circularPathData.rightSmallArcRadius)+" A"+ye.circularPathData.rightLargeArcRadius+" "+ye.circularPathData.rightSmallArcRadius+" 0 0 0 "+ye.circularPathData.rightInnerExtent+" "+ye.circularPathData.targetY+" L"+ye.circularPathData.targetX+" "+ye.circularPathData.targetY:"M"+ye.circularPathData.sourceX+" "+ye.circularPathData.sourceY+" L"+ye.circularPathData.leftInnerExtent+" "+ye.circularPathData.sourceY+" A"+ye.circularPathData.leftLargeArcRadius+" "+ye.circularPathData.leftSmallArcRadius+" 0 0 1 "+ye.circularPathData.leftFullExtent+" "+(ye.circularPathData.sourceY+ye.circularPathData.leftSmallArcRadius)+" L"+ye.circularPathData.leftFullExtent+" "+ye.circularPathData.verticalLeftInnerExtent+" A"+ye.circularPathData.leftLargeArcRadius+" "+ye.circularPathData.leftLargeArcRadius+" 0 0 1 "+ye.circularPathData.leftInnerExtent+" "+ye.circularPathData.verticalFullExtent+" L"+ye.circularPathData.rightInnerExtent+" "+ye.circularPathData.verticalFullExtent+" A"+ye.circularPathData.rightLargeArcRadius+" "+ye.circularPathData.rightLargeArcRadius+" 0 0 1 "+ye.circularPathData.rightFullExtent+" "+ye.circularPathData.verticalRightInnerExtent+" L"+ye.circularPathData.rightFullExtent+" "+(ye.circularPathData.targetY+ye.circularPathData.rightSmallArcRadius)+" A"+ye.circularPathData.rightLargeArcRadius+" "+ye.circularPathData.rightSmallArcRadius+" 0 0 1 "+ye.circularPathData.rightInnerExtent+" "+ye.circularPathData.targetY+" L"+ye.circularPathData.targetX+" "+ye.circularPathData.targetY}(De);else{var ze=(0,o.h5)().source(function(tt){return[tt.source.x0+(tt.source.x1-tt.source.x0),tt.y0]}).target(function(tt){return[tt.target.x0,tt.y1]});De.path=ze(De)}})}function H(ye,Pe){return J(ye)==J(Pe)?"bottom"==ye.circularLinkType?ne(ye,Pe):X(ye,Pe):J(Pe)-J(ye)}function X(ye,Pe){return ye.y0-Pe.y0}function ne(ye,Pe){return Pe.y0-ye.y0}function ie(ye,Pe){return ye.y1-Pe.y1}function ue(ye,Pe){return Pe.y1-ye.y1}function J(ye){return ye.target.column-ye.source.column}function j(ye){return ye.target.x0-ye.source.x1}function W(ye,Pe){var Ie=L(ye),Se=j(Pe)/Math.tan(Ie);return"up"==se(ye)?ye.y1+Se:ye.y1-Se}function V(ye,Pe){var Ie=L(ye),Se=j(Pe)/Math.tan(Ie);return"up"==se(ye)?ye.y1-Se:ye.y1+Se}function K(ye,Pe,Ie,Se){ye.links.forEach(function(xe){if(!xe.circular&&xe.target.column-xe.source.column>1){var Me=xe.source.column+1,Ge=xe.target.column-1,Ye=1,De=Ge-Me+1;for(Ye=1;Me<=Ge;Me++,Ye++)ye.nodes.forEach(function(He){if(He.column==Me){var bt,rt=Ye/(De+1),$e=Math.pow(1-rt,3),Be=3*rt*Math.pow(1-rt,2),ze=3*Math.pow(rt,2)*(1-rt),tt=Math.pow(rt,3),lt=$e*xe.y0+Be*xe.y0+ze*xe.y1+tt*xe.y1,ut=lt-xe.width/2,xt=lt+xe.width/2;ut>He.y0&&ut<He.y1?(bt=He.y1-ut+10,He=Q(He,bt="bottom"==He.circularLinkType?bt:-bt,Pe,Ie),ye.nodes.forEach(function(Ht){g(Ht,Se)==g(He,Se)||Ht.column!=He.column||ae(He,Ht)&&Q(Ht,bt,Pe,Ie)})):(xt>He.y0&&xt<He.y1||ut<He.y0&&xt>He.y1)&&(He=Q(He,bt=xt-He.y0+10,Pe,Ie),ye.nodes.forEach(function(Ht){g(Ht,Se)==g(He,Se)||Ht.column!=He.column||Ht.y0<He.y1&&Ht.y1>He.y1&&Q(Ht,bt,Pe,Ie)}))}})}})}function ae(ye,Pe){return ye.y0>Pe.y0&&ye.y0<Pe.y1||ye.y1>Pe.y0&&ye.y1<Pe.y1||ye.y0<Pe.y0&&ye.y1>Pe.y1}function Q(ye,Pe,Ie,Se){return ye.y0+Pe>=Ie&&ye.y1+Pe<=Se&&(ye.y0=ye.y0+Pe,ye.y1=ye.y1+Pe,ye.targetLinks.forEach(function(xe){xe.y1=xe.y1+Pe}),ye.sourceLinks.forEach(function(xe){xe.y0=xe.y0+Pe})),ye}function Z(ye,Pe,Ie,Se){ye.nodes.forEach(function(xe){Se&&xe.y+(xe.y1-xe.y0)>Pe&&(xe.y=xe.y-(xe.y+(xe.y1-xe.y0)-Pe));var Me=ye.links.filter(function(De){return g(De.source,Ie)==g(xe,Ie)}),Ge=Me.length;Ge>1&&Me.sort(function(De,He){if(!De.circular&&!He.circular){if(De.target.column==He.target.column)return De.y1-He.y1;if(!q(De,He))return De.y1-He.y1;if(De.target.column>He.target.column){var rt=V(He,De);return De.y1-rt}if(He.target.column>De.target.column)return V(De,He)-He.y1}return De.circular&&!He.circular?"top"==De.circularLinkType?-1:1:He.circular&&!De.circular?"top"==He.circularLinkType?1:-1:De.circular&&He.circular?De.circularLinkType===He.circularLinkType&&"top"==De.circularLinkType?De.target.column===He.target.column?De.target.y1-He.target.y1:He.target.column-De.target.column:De.circularLinkType===He.circularLinkType&&"bottom"==De.circularLinkType?De.target.column===He.target.column?He.target.y1-De.target.y1:De.target.column-He.target.column:"top"==De.circularLinkType?-1:1:void 0});var Ye=xe.y0;Me.forEach(function(De){De.y0=Ye+De.width/2,Ye+=De.width}),Me.forEach(function(De,He){if("bottom"==De.circularLinkType){for(var rt=He+1,$e=0;rt<Ge;rt++)$e+=Me[rt].width;De.y0=xe.y1-$e-De.width/2}})})}function re(ye,Pe,Ie){ye.nodes.forEach(function(Se){var xe=ye.links.filter(function(Ye){return g(Ye.target,Ie)==g(Se,Ie)}),Me=xe.length;Me>1&&xe.sort(function(Ye,De){if(!Ye.circular&&!De.circular){if(Ye.source.column==De.source.column)return Ye.y0-De.y0;if(!q(Ye,De))return Ye.y0-De.y0;if(De.source.column<Ye.source.column){var He=W(De,Ye);return Ye.y0-He}if(Ye.source.column<De.source.column)return W(Ye,De)-De.y0}return Ye.circular&&!De.circular?"top"==Ye.circularLinkType?-1:1:De.circular&&!Ye.circular?"top"==De.circularLinkType?1:-1:Ye.circular&&De.circular?Ye.circularLinkType===De.circularLinkType&&"top"==Ye.circularLinkType?Ye.source.column===De.source.column?Ye.source.y1-De.source.y1:Ye.source.column-De.source.column:Ye.circularLinkType===De.circularLinkType&&"bottom"==Ye.circularLinkType?Ye.source.column===De.source.column?Ye.source.y1-De.source.y1:De.source.column-Ye.source.column:"top"==Ye.circularLinkType?-1:1:void 0});var Ge=Se.y0;xe.forEach(function(Ye){Ye.y1=Ge+Ye.width/2,Ge+=Ye.width}),xe.forEach(function(Ye,De){if("bottom"==Ye.circularLinkType){for(var He=De+1,rt=0;He<Me;He++)rt+=xe[He].width;Ye.y1=Se.y1-rt-Ye.width/2}})})}function q(ye,Pe){return se(ye)==se(Pe)}function se(ye){return ye.y0-ye.y1>0?"up":"down"}function de(ye,Pe){return g(ye.source,Pe)==g(ye.target,Pe)}},30838:function(te,Y,e){"use strict";e.r(Y),e.d(Y,{sankey:function(){return v},sankeyCenter:function(){return y},sankeyJustify:function(){return h},sankeyLeft:function(){return P},sankeyLinkHorizontal:function(){return g},sankeyRight:function(){return C}});var T=e(33064),D=e(15140);function o(M){return M.target.depth}function P(M){return M.depth}function C(M,w){return w-1-M.height}function h(M,w){return M.sourceLinks.length?M.depth:w-1}function y(M){return M.targetLinks.length?M.depth:M.sourceLinks.length?(0,T.VV)(M.sourceLinks,o)-1:0}function t(M){return function(){return M}}function r(M,w){return i(M.source,w.source)||M.index-w.index}function l(M,w){return i(M.target,w.target)||M.index-w.index}function i(M,w){return M.y0-w.y0}function u(M){return M.value}function f(M){return(M.y0+M.y1)/2}function c(M){return f(M.source)*M.value}function m(M){return f(M.target)*M.value}function a(M){return M.index}function b(M){return M.nodes}function p(M){return M.links}function s(M,w){var n=M.get(w);if(!n)throw new Error("missing: "+w);return n}function v(){var M=0,w=0,n=1,S=1,d=24,I=8,L=a,B=h,k=b,z=p,O=32;function N(){var J={nodes:k.apply(null,arguments),links:z.apply(null,arguments)};return function H(J){J.nodes.forEach(function(W,V){W.index=V,W.sourceLinks=[],W.targetLinks=[]});var j=(0,D.UI)(J.nodes,L);J.links.forEach(function(W,V){W.index=V;var K=W.source,ae=W.target;"object"!=typeof K&&(K=W.source=s(j,K)),"object"!=typeof ae&&(ae=W.target=s(j,ae)),K.sourceLinks.push(W),ae.targetLinks.push(W)})}(J),function X(J){J.nodes.forEach(function(j){j.value=Math.max((0,T.Sm)(j.sourceLinks,u),(0,T.Sm)(j.targetLinks,u))})}(J),function ne(J){var j,W,V;for(j=J.nodes,W=[],V=0;j.length;++V,j=W,W=[])j.forEach(function(ae){ae.depth=V,ae.sourceLinks.forEach(function(Q){W.indexOf(Q.target)<0&&W.push(Q.target)})});for(j=J.nodes,W=[],V=0;j.length;++V,j=W,W=[])j.forEach(function(ae){ae.height=V,ae.targetLinks.forEach(function(Q){W.indexOf(Q.source)<0&&W.push(Q.source)})});var K=(n-M-d)/(V-1);J.nodes.forEach(function(ae){ae.x1=(ae.x0=M+Math.max(0,Math.min(V-1,Math.floor(B.call(null,ae,V))))*K)+d})}(J),function ie(J){var j=(0,D.b1)().key(function(re){return re.x0}).sortKeys(T.j2).entries(J.nodes).map(function(re){return re.values});(function K(){var re=(0,T.Fp)(j,function(de){return de.length}),q=.6666666666666666*(S-w)/(re-1);I>q&&(I=q);var se=(0,T.VV)(j,function(de){return(S-w-(de.length-1)*I)/(0,T.Sm)(de,u)});j.forEach(function(de){de.forEach(function(we,ye){we.y1=(we.y0=ye)+we.value*se})}),J.links.forEach(function(de){de.width=de.value*se})})(),Z();for(var W=1,V=O;V>0;--V)Q(W*=.99),Z(),ae(W),Z();function ae(re){j.forEach(function(q){q.forEach(function(se){if(se.targetLinks.length){var de=((0,T.Sm)(se.targetLinks,c)/(0,T.Sm)(se.targetLinks,u)-f(se))*re;se.y0+=de,se.y1+=de}})})}function Q(re){j.slice().reverse().forEach(function(q){q.forEach(function(se){if(se.sourceLinks.length){var de=((0,T.Sm)(se.sourceLinks,m)/(0,T.Sm)(se.sourceLinks,u)-f(se))*re;se.y0+=de,se.y1+=de}})})}function Z(){j.forEach(function(re){var q,se,ye,de=w,we=re.length;for(re.sort(i),ye=0;ye<we;++ye)(se=de-(q=re[ye]).y0)>0&&(q.y0+=se,q.y1+=se),de=q.y1+I;if((se=de-I-S)>0)for(de=q.y0-=se,q.y1-=se,ye=we-2;ye>=0;--ye)(se=(q=re[ye]).y1+I-de)>0&&(q.y0-=se,q.y1-=se),de=q.y0})}}(J),ue(J),J}function ue(J){J.nodes.forEach(function(j){j.sourceLinks.sort(l),j.targetLinks.sort(r)}),J.nodes.forEach(function(j){var W=j.y0,V=W;j.sourceLinks.forEach(function(K){K.y0=W+K.width/2,W+=K.width}),j.targetLinks.forEach(function(K){K.y1=V+K.width/2,V+=K.width})})}return N.update=function(J){return ue(J),J},N.nodeId=function(J){return arguments.length?(L="function"==typeof J?J:t(J),N):L},N.nodeAlign=function(J){return arguments.length?(B="function"==typeof J?J:t(J),N):B},N.nodeWidth=function(J){return arguments.length?(d=+J,N):d},N.nodePadding=function(J){return arguments.length?(I=+J,N):I},N.nodes=function(J){return arguments.length?(k="function"==typeof J?J:t(J),N):k},N.links=function(J){return arguments.length?(z="function"==typeof J?J:t(J),N):z},N.size=function(J){return arguments.length?(M=w=0,n=+J[0],S=+J[1],N):[n-M,S-w]},N.extent=function(J){return arguments.length?(M=+J[0][0],n=+J[1][0],w=+J[0][1],S=+J[1][1],N):[[M,w],[n,S]]},N.iterations=function(J){return arguments.length?(O=+J,N):O},N}var A=e(45879);function x(M){return[M.source.x1,M.y0]}function E(M){return[M.target.x0,M.y1]}function g(){return(0,A.h5)().source(x).target(E)}},39898:function(te,Y,e){var T,D;(function(){var o={version:"3.8.0"},P=[].slice,C=function(oe){return P.call(oe)},h=self.document;function y(oe){return oe&&(oe.ownerDocument||oe.document||oe).documentElement}function t(oe){return oe&&(oe.ownerDocument&&oe.ownerDocument.defaultView||oe.document&&oe||oe.defaultView)}if(h)try{C(h.documentElement.childNodes)}catch{C=function(me){for(var Oe=me.length,Qe=new Array(Oe);Oe--;)Qe[Oe]=me[Oe];return Qe}}if(Date.now||(Date.now=function(){return+new Date}),h)try{h.createElement("DIV").style.setProperty("opacity",0,"")}catch{var r=this.Element.prototype,l=r.setAttribute,i=r.setAttributeNS,u=this.CSSStyleDeclaration.prototype,f=u.setProperty;r.setAttribute=function(me,Oe){l.call(this,me,Oe+"")},r.setAttributeNS=function(me,Oe,Qe){i.call(this,me,Oe,Qe+"")},u.setProperty=function(me,Oe,Qe){f.call(this,me,Oe+"",Qe)}}function c(oe,me){return oe<me?-1:oe>me?1:oe>=me?0:NaN}function m(oe){return null===oe?NaN:+oe}function a(oe){return!isNaN(oe)}function b(oe){return{left:function(me,Oe,Qe,qe){for(arguments.length<3&&(Qe=0),arguments.length<4&&(qe=me.length);Qe<qe;){var ot=Qe+qe>>>1;oe(me[ot],Oe)<0?Qe=ot+1:qe=ot}return Qe},right:function(me,Oe,Qe,qe){for(arguments.length<3&&(Qe=0),arguments.length<4&&(qe=me.length);Qe<qe;){var ot=Qe+qe>>>1;oe(me[ot],Oe)>0?qe=ot:Qe=ot+1}return Qe}}}o.ascending=c,o.descending=function(oe,me){return me<oe?-1:me>oe?1:me>=oe?0:NaN},o.min=function(oe,me){var qe,ot,Oe=-1,Qe=oe.length;if(1===arguments.length){for(;++Oe<Qe;)if(null!=(ot=oe[Oe])&&ot>=ot){qe=ot;break}for(;++Oe<Qe;)null!=(ot=oe[Oe])&&qe>ot&&(qe=ot)}else{for(;++Oe<Qe;)if(null!=(ot=me.call(oe,oe[Oe],Oe))&&ot>=ot){qe=ot;break}for(;++Oe<Qe;)null!=(ot=me.call(oe,oe[Oe],Oe))&&qe>ot&&(qe=ot)}return qe},o.max=function(oe,me){var qe,ot,Oe=-1,Qe=oe.length;if(1===arguments.length){for(;++Oe<Qe;)if(null!=(ot=oe[Oe])&&ot>=ot){qe=ot;break}for(;++Oe<Qe;)null!=(ot=oe[Oe])&&ot>qe&&(qe=ot)}else{for(;++Oe<Qe;)if(null!=(ot=me.call(oe,oe[Oe],Oe))&&ot>=ot){qe=ot;break}for(;++Oe<Qe;)null!=(ot=me.call(oe,oe[Oe],Oe))&&ot>qe&&(qe=ot)}return qe},o.extent=function(oe,me){var qe,ot,It,Oe=-1,Qe=oe.length;if(1===arguments.length){for(;++Oe<Qe;)if(null!=(ot=oe[Oe])&&ot>=ot){qe=It=ot;break}for(;++Oe<Qe;)null!=(ot=oe[Oe])&&(qe>ot&&(qe=ot),It<ot&&(It=ot))}else{for(;++Oe<Qe;)if(null!=(ot=me.call(oe,oe[Oe],Oe))&&ot>=ot){qe=It=ot;break}for(;++Oe<Qe;)null!=(ot=me.call(oe,oe[Oe],Oe))&&(qe>ot&&(qe=ot),It<ot&&(It=ot))}return[qe,It]},o.sum=function(oe,me){var qe,Oe=0,Qe=oe.length,ot=-1;if(1===arguments.length)for(;++ot<Qe;)a(qe=+oe[ot])&&(Oe+=qe);else for(;++ot<Qe;)a(qe=+me.call(oe,oe[ot],ot))&&(Oe+=qe);return Oe},o.mean=function(oe,me){var qe,Oe=0,Qe=oe.length,ot=-1,It=Qe;if(1===arguments.length)for(;++ot<Qe;)a(qe=m(oe[ot]))?Oe+=qe:--It;else for(;++ot<Qe;)a(qe=m(me.call(oe,oe[ot],ot)))?Oe+=qe:--It;if(It)return Oe/It},o.quantile=function(oe,me){var Oe=(oe.length-1)*me+1,Qe=Math.floor(Oe),qe=+oe[Qe-1],ot=Oe-Qe;return ot?qe+ot*(oe[Qe]-qe):qe},o.median=function(oe,me){var qe,Oe=[],Qe=oe.length,ot=-1;if(1===arguments.length)for(;++ot<Qe;)a(qe=m(oe[ot]))&&Oe.push(qe);else for(;++ot<Qe;)a(qe=m(me.call(oe,oe[ot],ot)))&&Oe.push(qe);if(Oe.length)return o.quantile(Oe.sort(c),.5)},o.variance=function(oe,me){var qe,ot,Oe=oe.length,Qe=0,It=0,Mt=-1,Zt=0;if(1===arguments.length)for(;++Mt<Oe;)a(qe=m(oe[Mt]))&&(It+=(ot=qe-Qe)*(qe-(Qe+=ot/++Zt)));else for(;++Mt<Oe;)a(qe=m(me.call(oe,oe[Mt],Mt)))&&(It+=(ot=qe-Qe)*(qe-(Qe+=ot/++Zt)));if(Zt>1)return It/(Zt-1)},o.deviation=function(){var oe=o.variance.apply(this,arguments);return oe&&Math.sqrt(oe)};var p=b(c);function s(oe){return oe.length}o.bisectLeft=p.left,o.bisect=o.bisectRight=p.right,o.bisector=function(oe){return b(1===oe.length?function(me,Oe){return c(oe(me),Oe)}:oe)},o.shuffle=function(oe,me,Oe){(Qe=arguments.length)<3&&(Oe=oe.length,Qe<2&&(me=0));for(var qe,ot,Qe=Oe-me;Qe;)ot=Math.random()*Qe--|0,qe=oe[Qe+me],oe[Qe+me]=oe[ot+me],oe[ot+me]=qe;return oe},o.permute=function(oe,me){for(var Oe=me.length,Qe=new Array(Oe);Oe--;)Qe[Oe]=oe[me[Oe]];return Qe},o.pairs=function(oe){for(var me=0,Oe=oe.length-1,qe=oe[0],ot=new Array(Oe<0?0:Oe);me<Oe;)ot[me]=[qe,qe=oe[++me]];return ot},o.transpose=function(oe){if(!(ot=oe.length))return[];for(var me=-1,Oe=o.min(oe,s),Qe=new Array(Oe);++me<Oe;)for(var ot,qe=-1,It=Qe[me]=new Array(ot);++qe<ot;)It[qe]=oe[qe][me];return Qe},o.zip=function(){return o.transpose(arguments)},o.keys=function(oe){var me=[];for(var Oe in oe)me.push(Oe);return me},o.values=function(oe){var me=[];for(var Oe in oe)me.push(oe[Oe]);return me},o.entries=function(oe){var me=[];for(var Oe in oe)me.push({key:Oe,value:oe[Oe]});return me},o.merge=function(oe){for(var Oe,ot,It,me=oe.length,Qe=-1,qe=0;++Qe<me;)qe+=oe[Qe].length;for(ot=new Array(qe);--me>=0;)for(Oe=(It=oe[me]).length;--Oe>=0;)ot[--qe]=It[Oe];return ot};var v=Math.abs;function x(oe,me){for(var Oe in me)Object.defineProperty(oe.prototype,Oe,{value:me[Oe],enumerable:!1})}function E(){this._=Object.create(null)}o.range=function(oe,me,Oe){if(arguments.length<3&&(Oe=1,arguments.length<2&&(me=oe,oe=0)),(me-oe)/Oe==1/0)throw new Error("infinite range");var It,Qe=[],qe=function A(oe){for(var me=1;oe*me%1;)me*=10;return me}(v(Oe)),ot=-1;if(oe*=qe,me*=qe,(Oe*=qe)<0)for(;(It=oe+Oe*++ot)>me;)Qe.push(It/qe);else for(;(It=oe+Oe*++ot)<me;)Qe.push(It/qe);return Qe},o.map=function(oe,me){var Oe=new E;if(oe instanceof E)oe.forEach(function(Mt,Zt){Oe.set(Mt,Zt)});else if(Array.isArray(oe)){var ot,Qe=-1,qe=oe.length;if(1===arguments.length)for(;++Qe<qe;)Oe.set(Qe,oe[Qe]);else for(;++Qe<qe;)Oe.set(me.call(oe,ot=oe[Qe],Qe),ot)}else for(var It in oe)Oe.set(It,oe[It]);return Oe};var g="__proto__",M="\0";function w(oe){return(oe+="")===g||oe[0]===M?M+oe:oe}function n(oe){return(oe+="")[0]===M?oe.slice(1):oe}function S(oe){return w(oe)in this._}function d(oe){return(oe=w(oe))in this._&&delete this._[oe]}function I(){var oe=[];for(var me in this._)oe.push(n(me));return oe}function L(){var oe=0;for(var me in this._)++oe;return oe}function B(){for(var oe in this._)return!1;return!0}function k(){this._=Object.create(null)}function z(oe){return oe}function O(oe,me,Oe){return function(){var Qe=Oe.apply(me,arguments);return Qe===me?oe:Qe}}function F(oe,me){if(me in oe)return me;me=me.charAt(0).toUpperCase()+me.slice(1);for(var Oe=0,Qe=N.length;Oe<Qe;++Oe){var qe=N[Oe]+me;if(qe in oe)return qe}}x(E,{has:S,get:function(oe){return this._[w(oe)]},set:function(oe,me){return this._[w(oe)]=me},remove:d,keys:I,values:function(){var oe=[];for(var me in this._)oe.push(this._[me]);return oe},entries:function(){var oe=[];for(var me in this._)oe.push({key:n(me),value:this._[me]});return oe},size:L,empty:B,forEach:function(oe){for(var me in this._)oe.call(this,n(me),this._[me])}}),o.nest=function(){var Qe,qe,oe={},me=[],Oe=[];function ot(Mt,Zt,ar){if(ar>=me.length)return qe?qe.call(oe,Zt):Qe?Zt.sort(Qe):Zt;for(var an,dn,Or,Jr,ur=-1,Fr=Zt.length,Ir=me[ar++],Ur=new E;++ur<Fr;)(Jr=Ur.get(an=Ir(dn=Zt[ur])))?Jr.push(dn):Ur.set(an,[dn]);return Mt?(dn=Mt(),Or=function(pn,yn){dn.set(pn,ot(Mt,yn,ar))}):(dn={},Or=function(pn,yn){dn[pn]=ot(Mt,yn,ar)}),Ur.forEach(Or),dn}function It(Mt,Zt){if(Zt>=me.length)return Mt;var ar=[],ur=Oe[Zt++];return Mt.forEach(function(Fr,Ir){ar.push({key:Fr,values:It(Ir,Zt)})}),ur?ar.sort(function(Fr,Ir){return ur(Fr.key,Ir.key)}):ar}return oe.map=function(Mt,Zt){return ot(Zt,Mt,0)},oe.entries=function(Mt){return It(ot(o.map,Mt,0),0)},oe.key=function(Mt){return me.push(Mt),oe},oe.sortKeys=function(Mt){return Oe[me.length-1]=Mt,oe},oe.sortValues=function(Mt){return Qe=Mt,oe},oe.rollup=function(Mt){return qe=Mt,oe},oe},o.set=function(oe){var me=new k;if(oe)for(var Oe=0,Qe=oe.length;Oe<Qe;++Oe)me.add(oe[Oe]);return me},x(k,{has:S,add:function(oe){return this._[w(oe+="")]=!0,oe},remove:d,values:I,size:L,empty:B,forEach:function(oe){for(var me in this._)oe.call(this,n(me))}}),o.behavior={},o.rebind=function(oe,me){for(var qe,Oe=1,Qe=arguments.length;++Oe<Qe;)oe[qe=arguments[Oe]]=O(oe,me,me[qe]);return oe};var N=["webkit","ms","moz","Moz","o","O"];function H(){}function X(){}function ne(oe){var me=[],Oe=new E;function Qe(){for(var Mt,qe=me,ot=-1,It=qe.length;++ot<It;)(Mt=qe[ot].on)&&Mt.apply(this,arguments);return oe}return Qe.on=function(qe,ot){var Mt,It=Oe.get(qe);return arguments.length<2?It&&It.on:(It&&(It.on=null,me=me.slice(0,Mt=me.indexOf(It)).concat(me.slice(Mt+1)),Oe.remove(qe)),ot&&me.push(Oe.set(qe,{on:ot})),oe)},Qe}function ie(){o.event.preventDefault()}function ue(){for(var me,oe=o.event;me=oe.sourceEvent;)oe=me;return oe}function J(oe){for(var me=new X,Oe=0,Qe=arguments.length;++Oe<Qe;)me[arguments[Oe]]=ne(me);return me.of=function(qe,ot){return function(It){try{var Mt=It.sourceEvent=o.event;It.target=oe,o.event=It,me[It.type].apply(qe,ot)}finally{o.event=Mt}}},me}o.dispatch=function(){for(var oe=new X,me=-1,Oe=arguments.length;++me<Oe;)oe[arguments[me]]=ne(oe);return oe},X.prototype.on=function(oe,me){var Oe=oe.indexOf("."),Qe="";if(Oe>=0&&(Qe=oe.slice(Oe+1),oe=oe.slice(0,Oe)),oe)return arguments.length<2?this[oe].on(Qe):this[oe].on(Qe,me);if(2===arguments.length){if(null==me)for(oe in this)this.hasOwnProperty(oe)&&this[oe].on(Qe,null);return this}},o.event=null,o.requote=function(oe){return oe.replace(j,"\\$&")};var j=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,W={}.__proto__?function(oe,me){oe.__proto__=me}:function(oe,me){for(var Oe in me)oe[Oe]=me[Oe]};function V(oe){return W(oe,Z),oe}var K=function(oe,me){return me.querySelector(oe)},ae=function(oe,me){return me.querySelectorAll(oe)},Q=function(oe,me){var Oe=oe.matches||oe[F(oe,"matchesSelector")];return(Q=function(Qe,qe){return Oe.call(Qe,qe)})(oe,me)};"function"==typeof Sizzle&&(K=function(oe,me){return Sizzle(oe,me)[0]||null},ae=Sizzle,Q=Sizzle.matchesSelector),o.selection=function(){return o.select(h.documentElement)};var Z=o.selection.prototype=[];function re(oe){return"function"==typeof oe?oe:function(){return K(oe,this)}}function q(oe){return"function"==typeof oe?oe:function(){return ae(oe,this)}}Z.select=function(oe){var Oe,Qe,qe,ot,me=[];oe=re(oe);for(var It=-1,Mt=this.length;++It<Mt;){me.push(Oe=[]),Oe.parentNode=(qe=this[It]).parentNode;for(var Zt=-1,ar=qe.length;++Zt<ar;)(ot=qe[Zt])?(Oe.push(Qe=oe.call(ot,ot.__data__,Zt,It)),Qe&&"__data__"in ot&&(Qe.__data__=ot.__data__)):Oe.push(null)}return V(me)},Z.selectAll=function(oe){var Oe,Qe,me=[];oe=q(oe);for(var qe=-1,ot=this.length;++qe<ot;)for(var It=this[qe],Mt=-1,Zt=It.length;++Mt<Zt;)(Qe=It[Mt])&&(me.push(Oe=C(oe.call(Qe,Qe.__data__,Mt,qe))),Oe.parentNode=Qe);return V(me)};var se="http://www.w3.org/1999/xhtml",de={svg:"http://www.w3.org/2000/svg",xhtml:se,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function we(oe,me){return oe=o.ns.qualify(oe),null==me?oe.local?function Qe(){this.removeAttributeNS(oe.space,oe.local)}:function Oe(){this.removeAttribute(oe)}:"function"==typeof me?oe.local?function Mt(){var Zt=me.apply(this,arguments);null==Zt?this.removeAttributeNS(oe.space,oe.local):this.setAttributeNS(oe.space,oe.local,Zt)}:function It(){var Zt=me.apply(this,arguments);null==Zt?this.removeAttribute(oe):this.setAttribute(oe,Zt)}:oe.local?function ot(){this.setAttributeNS(oe.space,oe.local,me)}:function qe(){this.setAttribute(oe,me)}}function ye(oe){return oe.trim().replace(/\s+/g," ")}function Pe(oe){return new RegExp("(?:^|\\s+)"+o.requote(oe)+"(?:\\s+|$)","g")}function Ie(oe){return(oe+"").trim().split(/^|\s+/)}function Se(oe,me){var Oe=(oe=Ie(oe).map(xe)).length;return"function"==typeof me?function qe(){for(var ot=-1,It=me.apply(this,arguments);++ot<Oe;)oe[ot](this,It)}:function Qe(){for(var ot=-1;++ot<Oe;)oe[ot](this,me)}}function xe(oe){var me=Pe(oe);return function(Oe,Qe){if(qe=Oe.classList)return Qe?qe.add(oe):qe.remove(oe);var qe=Oe.getAttribute("class")||"";Qe?(me.lastIndex=0,me.test(qe)||Oe.setAttribute("class",ye(qe+" "+oe))):Oe.setAttribute("class",ye(qe.replace(me," ")))}}function Me(oe,me,Oe){return null==me?function Qe(){this.style.removeProperty(oe)}:"function"==typeof me?function ot(){var It=me.apply(this,arguments);null==It?this.style.removeProperty(oe):this.style.setProperty(oe,It,Oe)}:function qe(){this.style.setProperty(oe,me,Oe)}}function Ge(oe,me){return null==me?function Oe(){delete this[oe]}:"function"==typeof me?function qe(){var ot=me.apply(this,arguments);null==ot?delete this[oe]:this[oe]=ot}:function Qe(){this[oe]=me}}function Ye(oe){return"function"==typeof oe?oe:(oe=o.ns.qualify(oe)).local?function Oe(){return this.ownerDocument.createElementNS(oe.space,oe.local)}:function me(){var Qe=this.ownerDocument,qe=this.namespaceURI;return qe===se&&Qe.documentElement.namespaceURI===se?Qe.createElement(oe):Qe.createElementNS(qe,oe)}}function De(){var oe=this.parentNode;oe&&oe.removeChild(this)}function He(oe){return{__data__:oe}}function rt(oe){return function(){return Q(this,oe)}}function $e(oe){return arguments.length||(oe=c),function(me,Oe){return me&&Oe?oe(me.__data__,Oe.__data__):!me-!Oe}}function Be(oe,me){for(var Oe=0,Qe=oe.length;Oe<Qe;Oe++)for(var Mt,qe=oe[Oe],ot=0,It=qe.length;ot<It;ot++)(Mt=qe[ot])&&me(Mt,ot,Oe);return oe}function ze(oe){return W(oe,tt),oe}o.ns={prefix:de,qualify:function(oe){var me=oe.indexOf(":"),Oe=oe;return me>=0&&"xmlns"!==(Oe=oe.slice(0,me))&&(oe=oe.slice(me+1)),de.hasOwnProperty(Oe)?{space:de[Oe],local:oe}:oe}},Z.attr=function(oe,me){if(arguments.length<2){if("string"==typeof oe){var Oe=this.node();return(oe=o.ns.qualify(oe)).local?Oe.getAttributeNS(oe.space,oe.local):Oe.getAttribute(oe)}for(me in oe)this.each(we(me,oe[me]));return this}return this.each(we(oe,me))},Z.classed=function(oe,me){if(arguments.length<2){if("string"==typeof oe){var Oe=this.node(),Qe=(oe=Ie(oe)).length,qe=-1;if(me=Oe.classList){for(;++qe<Qe;)if(!me.contains(oe[qe]))return!1}else for(me=Oe.getAttribute("class");++qe<Qe;)if(!Pe(oe[qe]).test(me))return!1;return!0}for(me in oe)this.each(Se(me,oe[me]));return this}return this.each(Se(oe,me))},Z.style=function(oe,me,Oe){var Qe=arguments.length;if(Qe<3){if("string"!=typeof oe){for(Oe in Qe<2&&(me=""),oe)this.each(Me(Oe,oe[Oe],me));return this}if(Qe<2){var qe=this.node();return t(qe).getComputedStyle(qe,null).getPropertyValue(oe)}Oe=""}return this.each(Me(oe,me,Oe))},Z.property=function(oe,me){if(arguments.length<2){if("string"==typeof oe)return this.node()[oe];for(me in oe)this.each(Ge(me,oe[me]));return this}return this.each(Ge(oe,me))},Z.text=function(oe){return arguments.length?this.each("function"==typeof oe?function(){var me=oe.apply(this,arguments);this.textContent=me??""}:null==oe?function(){this.textContent=""}:function(){this.textContent=oe}):this.node().textContent},Z.html=function(oe){return arguments.length?this.each("function"==typeof oe?function(){var me=oe.apply(this,arguments);this.innerHTML=me??""}:null==oe?function(){this.innerHTML=""}:function(){this.innerHTML=oe}):this.node().innerHTML},Z.append=function(oe){return oe=Ye(oe),this.select(function(){return this.appendChild(oe.apply(this,arguments))})},Z.insert=function(oe,me){return oe=Ye(oe),me=re(me),this.select(function(){return this.insertBefore(oe.apply(this,arguments),me.apply(this,arguments)||null)})},Z.remove=function(){return this.each(De)},Z.data=function(oe,me){var qe,ot,Oe=-1,Qe=this.length;if(!arguments.length){for(oe=new Array(Qe=(qe=this[0]).length);++Oe<Qe;)(ot=qe[Oe])&&(oe[Oe]=ot.__data__);return oe}function It(ur,Fr){var Ir,yn,en,an=ur.length,dn=Fr.length,Or=Math.min(an,dn),Ur=new Array(dn),Jr=new Array(dn),pn=new Array(an);if(me){var ma,Gn=new E,ca=new Array(an);for(Ir=-1;++Ir<an;)(yn=ur[Ir])&&(Gn.has(ma=me.call(yn,yn.__data__,Ir))?pn[Ir]=yn:Gn.set(ma,yn),ca[Ir]=ma);for(Ir=-1;++Ir<dn;)(yn=Gn.get(ma=me.call(Fr,en=Fr[Ir],Ir)))?!0!==yn&&(Ur[Ir]=yn,yn.__data__=en):Jr[Ir]=He(en),Gn.set(ma,!0);for(Ir=-1;++Ir<an;)Ir in ca&&!0!==Gn.get(ca[Ir])&&(pn[Ir]=ur[Ir])}else{for(Ir=-1;++Ir<Or;)en=Fr[Ir],(yn=ur[Ir])?(yn.__data__=en,Ur[Ir]=yn):Jr[Ir]=He(en);for(;Ir<dn;++Ir)Jr[Ir]=He(Fr[Ir]);for(;Ir<an;++Ir)pn[Ir]=ur[Ir]}Jr.update=Ur,Jr.parentNode=Ur.parentNode=pn.parentNode=ur.parentNode,Mt.push(Jr),Zt.push(Ur),ar.push(pn)}var Mt=ze([]),Zt=V([]),ar=V([]);if("function"==typeof oe)for(;++Oe<Qe;)It(qe=this[Oe],oe.call(qe,qe.parentNode.__data__,Oe));else for(;++Oe<Qe;)It(qe=this[Oe],oe);return Zt.enter=function(){return Mt},Zt.exit=function(){return ar},Zt},Z.datum=function(oe){return arguments.length?this.property("__data__",oe):this.property("__data__")},Z.filter=function(oe){var Oe,Qe,qe,me=[];"function"!=typeof oe&&(oe=rt(oe));for(var ot=0,It=this.length;ot<It;ot++){me.push(Oe=[]),Oe.parentNode=(Qe=this[ot]).parentNode;for(var Mt=0,Zt=Qe.length;Mt<Zt;Mt++)(qe=Qe[Mt])&&oe.call(qe,qe.__data__,Mt,ot)&&Oe.push(qe)}return V(me)},Z.order=function(){for(var oe=-1,me=this.length;++oe<me;)for(var ot,Oe=this[oe],Qe=Oe.length-1,qe=Oe[Qe];--Qe>=0;)(ot=Oe[Qe])&&(qe&&qe!==ot.nextSibling&&qe.parentNode.insertBefore(ot,qe),qe=ot);return this},Z.sort=function(oe){oe=$e.apply(this,arguments);for(var me=-1,Oe=this.length;++me<Oe;)this[me].sort(oe);return this.order()},Z.each=function(oe){return Be(this,function(me,Oe,Qe){oe.call(me,me.__data__,Oe,Qe)})},Z.call=function(oe){var me=C(arguments);return oe.apply(me[0]=this,me),this},Z.empty=function(){return!this.node()},Z.node=function(){for(var oe=0,me=this.length;oe<me;oe++)for(var Oe=this[oe],Qe=0,qe=Oe.length;Qe<qe;Qe++){var ot=Oe[Qe];if(ot)return ot}return null},Z.size=function(){var oe=0;return Be(this,function(){++oe}),oe};var tt=[];function ut(oe,me,Oe){var Qe="__on"+oe,qe=oe.indexOf("."),ot=bt;qe>0&&(oe=oe.slice(0,qe));var It=xt.get(oe);function Mt(){var ur=this[Qe];ur&&(this.removeEventListener(oe,ur,ur.$),delete this[Qe])}return It&&(oe=It,ot=Ht),qe?me?function Zt(){var ur=ot(me,C(arguments));Mt.call(this),this.addEventListener(oe,this[Qe]=ur,ur.$=Oe),ur._=me}:Mt:me?H:function ar(){var Fr,ur=new RegExp("^__on([^.]+)"+o.requote(oe)+"$");for(var Ir in this)if(Fr=Ir.match(ur)){var an=this[Ir];this.removeEventListener(Fr[1],an,an.$),delete this[Ir]}}}o.selection.enter=ze,o.selection.enter.prototype=tt,tt.append=Z.append,tt.empty=Z.empty,tt.node=Z.node,tt.call=Z.call,tt.size=Z.size,tt.select=function(oe){for(var Oe,Qe,qe,ot,It,me=[],Mt=-1,Zt=this.length;++Mt<Zt;){qe=(ot=this[Mt]).update,me.push(Oe=[]),Oe.parentNode=ot.parentNode;for(var ar=-1,ur=ot.length;++ar<ur;)(It=ot[ar])?(Oe.push(qe[ar]=Qe=oe.call(ot.parentNode,It.__data__,ar,Mt)),Qe.__data__=It.__data__):Oe.push(null)}return V(me)},tt.insert=function(oe,me){return arguments.length<2&&(me=function lt(oe){var me,Oe;return function(Qe,qe,ot){var Zt,It=oe[ot].update,Mt=It.length;for(ot!=Oe&&(Oe=ot,me=0),qe>=me&&(me=qe+1);!(Zt=It[me])&&++me<Mt;);return Zt}}(this)),Z.insert.call(this,oe,me)},o.select=function(oe){var me;return"string"==typeof oe?(me=[K(oe,h)]).parentNode=h.documentElement:(me=[oe]).parentNode=y(oe),V([me])},o.selectAll=function(oe){var me;return"string"==typeof oe?(me=C(ae(oe,h))).parentNode=h.documentElement:(me=C(oe)).parentNode=null,V([me])},Z.on=function(oe,me,Oe){var Qe=arguments.length;if(Qe<3){if("string"!=typeof oe){for(Oe in Qe<2&&(me=!1),oe)this.each(ut(Oe,oe[Oe],me));return this}if(Qe<2)return(Qe=this.node()["__on"+oe])&&Qe._;Oe=!1}return this.each(ut(oe,me,Oe))};var xt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function bt(oe,me){return function(Oe){var Qe=o.event;o.event=Oe,me[0]=this.__data__;try{oe.apply(this,me)}finally{o.event=Qe}}}function Ht(oe,me){var Oe=bt(oe,me);return function(Qe){var ot=Qe.relatedTarget;(!ot||ot!==this&&!(8&ot.compareDocumentPosition(this)))&&Oe.call(this,Qe)}}h&&xt.forEach(function(oe){"on"+oe in h&&xt.remove(oe)});var Je,Ce=0;function Ee(oe){var me=".dragsuppress-"+ ++Ce,Oe="click"+me,Qe=o.select(t(oe)).on("touchmove"+me,ie).on("dragstart"+me,ie).on("selectstart"+me,ie);if(null==Je&&(Je=!("onselectstart"in oe)&&F(oe.style,"userSelect")),Je){var qe=y(oe).style,ot=qe[Je];qe[Je]="none"}return function(It){if(Qe.on(me,null),Je&&(qe[Je]=ot),It){var Mt=function(){Qe.on(Oe,null)};Qe.on(Oe,function(){ie(),Mt()},!0),setTimeout(Mt,0)}}}o.mouse=function(oe){return ke(oe,ue())};var Re=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ke(oe,me){me.changedTouches&&(me=me.changedTouches[0]);var Oe=oe.ownerSVGElement||oe;if(Oe.createSVGPoint){var Qe=Oe.createSVGPoint();if(Re<0){var qe=t(oe);if(qe.scrollX||qe.scrollY){var ot=(Oe=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Re=!(ot.f||ot.e),Oe.remove()}}return Re?(Qe.x=me.pageX,Qe.y=me.pageY):(Qe.x=me.clientX,Qe.y=me.clientY),[(Qe=Qe.matrixTransform(oe.getScreenCTM().inverse())).x,Qe.y]}var It=oe.getBoundingClientRect();return[me.clientX-It.left-oe.clientLeft,me.clientY-It.top-oe.clientTop]}function Ne(){return o.event.changedTouches[0].identifier}o.touch=function(oe,me,Oe){if(arguments.length<3&&(Oe=me,me=ue().changedTouches),me)for(var ot,Qe=0,qe=me.length;Qe<qe;++Qe)if((ot=me[Qe]).identifier===Oe)return ke(oe,ot)},o.behavior.drag=function(){var oe=J(qe,"drag","dragstart","dragend"),me=null,Oe=ot(H,o.mouse,t,"mousemove","mouseup"),Qe=ot(Ne,o.touch,z,"touchmove","touchend");function qe(){this.on("mousedown.drag",Oe).on("touchstart.drag",Qe)}function ot(It,Mt,Zt,ar,ur){return function(){var pn,Ir=o.event.target.correspondingElement||o.event.target,an=this.parentNode,dn=oe.of(this,arguments),Or=0,Ur=It(),Jr=".drag"+(null==Ur?"":"-"+Ur),yn=o.select(Zt(Ir)).on(ar+Jr,function ca(){var pa,_a,da=Mt(an,Ur);da&&(Or|=(pa=da[0]-Gn[0])|(_a=da[1]-Gn[1]),Gn=da,dn({type:"drag",x:da[0]+pn[0],y:da[1]+pn[1],dx:pa,dy:_a}))}).on(ur+Jr,function ma(){Mt(an,Ur)&&(yn.on(ar+Jr,null).on(ur+Jr,null),en(Or),dn({type:"dragend"}))}),en=Ee(Ir),Gn=Mt(an,Ur);pn=me?[(pn=me.apply(this,arguments)).x-Gn[0],pn.y-Gn[1]]:[0,0],dn({type:"dragstart"})}}return qe.origin=function(It){return arguments.length?(me=It,qe):me},o.rebind(qe,oe,"on")},o.touches=function(oe,me){return arguments.length<2&&(me=ue().touches),me?C(me).map(function(Oe){var Qe=ke(oe,Oe);return Qe.identifier=Oe.identifier,Qe}):[]};var _e=1e-6,Te=_e*_e,fe=Math.PI,pe=2*fe,Fe=pe-_e,Xe=fe/2,at=fe/180,ft=180/fe;function rr(oe,me,Oe){return(me[0]-oe[0])*(Oe[1]-oe[1])-(me[1]-oe[1])*(Oe[0]-oe[0])}function zt(oe){return oe>1?Xe:oe<-1?-Xe:Math.asin(oe)}function Rr(oe){return((oe=Math.exp(oe))+1/oe)/2}var tr=Math.SQRT2;o.interpolateZoom=function(oe,me){var Fr,Ir,Oe=oe[0],Qe=oe[1],qe=oe[2],Mt=me[2],Zt=me[0]-Oe,ar=me[1]-Qe,ur=Zt*Zt+ar*ar;if(ur<Te)Ir=Math.log(Mt/qe)/tr,Fr=function(pn){return[Oe+pn*Zt,Qe+pn*ar,qe*Math.exp(tr*pn*Ir)]};else{var an=Math.sqrt(ur),dn=(Mt*Mt-qe*qe+4*ur)/(2*qe*2*an),Or=(Mt*Mt-qe*qe-4*ur)/(2*Mt*2*an),Ur=Math.log(Math.sqrt(dn*dn+1)-dn),Jr=Math.log(Math.sqrt(Or*Or+1)-Or);Ir=(Jr-Ur)/tr,Fr=function(pn){var yn=pn*Ir,en=Rr(Ur),Gn=qe/(2*an)*(en*function pt(oe){return((oe=Math.exp(2*oe))-1)/(oe+1)}(tr*yn+Ur)-function Qt(oe){return((oe=Math.exp(oe))-1/oe)/2}(Ur));return[Oe+Gn*Zt,Qe+Gn*ar,qe*en/Rr(tr*yn+Ur)]}}return Fr.duration=1e3*Ir,Fr},o.behavior.zoom=function(){var me,Oe,Qe,Fr,an,Or,Ur,Jr,pn,oe={x:0,y:0,k:1},qe=[960,500],ot=dt,It=250,Mt=0,Zt="mousedown.zoom",ar="mousemove.zoom",ur="mouseup.zoom",Ir="touchstart.zoom",dn=J(yn,"zoomstart","zoom","zoomend");function yn(sa){sa.on(Zt,Va).on(mt+".zoom",po).on("dblclick.zoom",wi).on(Ir,fi)}function en(sa){return[(sa[0]-oe.x)/oe.k,(sa[1]-oe.y)/oe.k]}function ca(sa){oe.k=Math.max(ot[0],Math.min(ot[1],sa))}function ma(sa,Ya){Ya=function Gn(sa){return[sa[0]*oe.k+oe.x,sa[1]*oe.k+oe.y]}(Ya),oe.x+=sa[0]-Ya[0],oe.y+=sa[1]-Ya[1]}function da(sa,Ya,Ga,ia){sa.__chart__={x:oe.x,y:oe.y,k:oe.k},ca(Math.pow(2,ia)),ma(Oe=Ya,Ga),sa=o.select(sa),It>0&&(sa=sa.transition().duration(It)),sa.call(yn.event)}function pa(){Ur&&Ur.domain(Or.range().map(function(sa){return(sa-oe.x)/oe.k}).map(Or.invert)),pn&&pn.domain(Jr.range().map(function(sa){return(sa-oe.y)/oe.k}).map(Jr.invert))}function _a(sa){Mt++||sa({type:"zoomstart"})}function Ca(sa){pa(),sa({type:"zoom",scale:oe.k,translate:[oe.x,oe.y]})}function La(sa){--Mt||(sa({type:"zoomend"}),Oe=null)}function Va(){var sa=this,Ya=dn.of(sa,arguments),Ga=0,ia=o.select(t(sa)).on(ar,function lo(){Ga=1,ma(o.mouse(sa),wa),Ca(Ya)}).on(ur,function bo(){ia.on(ar,null).on(ur,null),Gi(Ga),La(Ya)}),wa=en(o.mouse(sa)),Gi=Ee(sa);Nr.call(sa),_a(Ya)}function fi(){var wa,sa=this,Ya=dn.of(sa,arguments),Ga={},ia=0,Gi=".zoom-"+o.event.changedTouches[0].identifier,lo="touchmove"+Gi,bo="touchend"+Gi,Bi=[],So=o.select(sa),Mo=Ee(sa);function zo(){var ci=o.touches(sa);return wa=oe.k,ci.forEach(function(gi){gi.identifier in Ga&&(Ga[gi.identifier]=en(gi))}),ci}function Ii(){var ci=o.event.target;o.select(ci).on(lo,au).on(bo,Cl),Bi.push(ci);for(var gi=o.event.changedTouches,ks=0,Ts=gi.length;ks<Ts;++ks)Ga[gi[ks].identifier]=null;var es=zo(),As=Date.now();if(1===es.length)As-an<500&&(da(sa,Fs=es[0],Ga[Fs.identifier],Math.floor(Math.log(oe.k)/Math.LN2)+1),ie()),an=As;else if(es.length>1){var Fs,Ks=es[1],Go=(Fs=es[0])[0]-Ks[0],Ll=Fs[1]-Ks[1];ia=Go*Go+Ll*Ll}}function au(){var gi,ks,Ts,es,ci=o.touches(sa);Nr.call(sa);for(var As=0,Fs=ci.length;As<Fs;++As,es=null)if(es=Ga[(Ts=ci[As]).identifier]){if(ks)break;gi=Ts,ks=es}if(es){var Ks=(Ks=Ts[0]-gi[0])*Ks+(Ks=Ts[1]-gi[1])*Ks,Go=ia&&Math.sqrt(Ks/ia);gi=[(gi[0]+Ts[0])/2,(gi[1]+Ts[1])/2],ks=[(ks[0]+es[0])/2,(ks[1]+es[1])/2],ca(Go*wa)}an=null,ma(gi,ks),Ca(Ya)}function Cl(){if(o.event.touches.length){for(var ci=o.event.changedTouches,gi=0,ks=ci.length;gi<ks;++gi)delete Ga[ci[gi].identifier];for(var Ts in Ga)return void zo()}o.selectAll(Bi).on(Gi,null),So.on(Zt,Va).on(Ir,fi),Mo(),La(Ya)}Ii(),_a(Ya),So.on(Zt,null).on(Ir,Ii)}function po(){var sa=dn.of(this,arguments);Fr?clearTimeout(Fr):(Nr.call(this),me=en(Oe=Qe||o.mouse(this)),_a(sa)),Fr=setTimeout(function(){Fr=null,La(sa)},50),ie(),ca(Math.pow(2,.002*it())*oe.k),ma(Oe,me),Ca(sa)}function wi(){var sa=o.mouse(this),Ya=Math.log(oe.k)/Math.LN2;da(this,sa,en(sa),o.event.shiftKey?Math.ceil(Ya)-1:Math.floor(Ya)+1)}return mt||(mt="onwheel"in h?(it=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in h?(it=function(){return o.event.wheelDelta},"mousewheel"):(it=function(){return-o.event.detail},"MozMousePixelScroll")),yn.event=function(sa){sa.each(function(){var Ya=dn.of(this,arguments),Ga=oe;Wn?o.select(this).transition().each("start.zoom",function(){oe=this.__chart__||{x:0,y:0,k:1},_a(Ya)}).tween("zoom:zoom",function(){var ia=qe[0],Gi=Oe?Oe[0]:ia/2,lo=Oe?Oe[1]:qe[1]/2,bo=o.interpolateZoom([(Gi-oe.x)/oe.k,(lo-oe.y)/oe.k,ia/oe.k],[(Gi-Ga.x)/Ga.k,(lo-Ga.y)/Ga.k,ia/Ga.k]);return function(Bi){var So=bo(Bi),Mo=ia/So[2];this.__chart__=oe={x:Gi-So[0]*Mo,y:lo-So[1]*Mo,k:Mo},Ca(Ya)}}).each("interrupt.zoom",function(){La(Ya)}).each("end.zoom",function(){La(Ya)}):(this.__chart__=oe,_a(Ya),Ca(Ya),La(Ya))})},yn.translate=function(sa){return arguments.length?(oe={x:+sa[0],y:+sa[1],k:oe.k},pa(),yn):[oe.x,oe.y]},yn.scale=function(sa){return arguments.length?(oe={x:oe.x,y:oe.y,k:null},ca(+sa),pa(),yn):oe.k},yn.scaleExtent=function(sa){return arguments.length?(ot=null==sa?dt:[+sa[0],+sa[1]],yn):ot},yn.center=function(sa){return arguments.length?(Qe=sa&&[+sa[0],+sa[1]],yn):Qe},yn.size=function(sa){return arguments.length?(qe=sa&&[+sa[0],+sa[1]],yn):qe},yn.duration=function(sa){return arguments.length?(It=+sa,yn):It},yn.x=function(sa){return arguments.length?(Ur=sa,Or=sa.copy(),oe={x:0,y:0,k:1},yn):Ur},yn.y=function(sa){return arguments.length?(pn=sa,Jr=sa.copy(),oe={x:0,y:0,k:1},yn):pn},o.rebind(yn,dn,"on")};var it,mt,dt=[0,1/0];function St(){}function Lt(oe,me,Oe){return this instanceof Lt?(this.h=+oe,this.s=+me,void(this.l=+Oe)):arguments.length<2?oe instanceof Lt?new Lt(oe.h,oe.s,oe.l):_r(""+oe,Kr,Lt):new Lt(oe,me,Oe)}o.color=St,St.prototype.toString=function(){return this.rgb()+""},o.hsl=Lt;var Ct=Lt.prototype=new St;function Ut(oe,me,Oe){var Qe,qe;function It(Mt){return Math.round(255*function ot(Mt){return Mt>360?Mt-=360:Mt<0&&(Mt+=360),Mt<60?Qe+(qe-Qe)*Mt/60:Mt<180?qe:Mt<240?Qe+(qe-Qe)*(240-Mt)/60:Qe}(Mt))}return oe=isNaN(oe)?0:(oe%=360)<0?oe+360:oe,me=isNaN(me)||me<0?0:me>1?1:me,Qe=2*(Oe=Oe<0?0:Oe>1?1:Oe)-(qe=Oe<=.5?Oe*(1+me):Oe+me-Oe*me),new dr(It(oe+120),It(oe),It(oe-120))}function Bt(oe,me,Oe){return this instanceof Bt?(this.h=+oe,this.c=+me,void(this.l=+Oe)):arguments.length<2?oe instanceof Bt?new Bt(oe.h,oe.c,oe.l):function sr(oe,me,Oe){return oe>0?new Bt(Math.atan2(Oe,me)*ft,Math.sqrt(me*me+Oe*Oe),oe):new Bt(NaN,NaN,oe)}(oe instanceof lr?oe.l:(oe=vn((oe=o.rgb(oe)).r,oe.g,oe.b)).l,oe.a,oe.b):new Bt(oe,me,Oe)}Ct.brighter=function(oe){return oe=Math.pow(.7,arguments.length?oe:1),new Lt(this.h,this.s,this.l/oe)},Ct.darker=function(oe){return oe=Math.pow(.7,arguments.length?oe:1),new Lt(this.h,this.s,oe*this.l)},Ct.rgb=function(){return Ut(this.h,this.s,this.l)},o.hcl=Bt;var qt=Bt.prototype=new St;function cr(oe,me,Oe){return isNaN(oe)&&(oe=0),isNaN(me)&&(me=0),new lr(Oe,Math.cos(oe*=at)*me,Math.sin(oe)*me)}function lr(oe,me,Oe){return this instanceof lr?(this.l=+oe,this.a=+me,void(this.b=+Oe)):arguments.length<2?oe instanceof lr?new lr(oe.l,oe.a,oe.b):oe instanceof Bt?cr(oe.h,oe.c,oe.l):vn((oe=dr(oe)).r,oe.g,oe.b):new lr(oe,me,Oe)}qt.brighter=function(oe){return new Bt(this.h,this.c,Math.min(100,this.l+br*(arguments.length?oe:1)))},qt.darker=function(oe){return new Bt(this.h,this.c,Math.max(0,this.l-br*(arguments.length?oe:1)))},qt.rgb=function(){return cr(this.h,this.c,this.l).rgb()},o.lab=lr;var br=18,We=.95047,Ve=1,Rt=1.08883,_t=lr.prototype=new St;function Kt(oe,me,Oe){var Qe=(oe+16)/116,qe=Qe+me/500,ot=Qe-Oe/200;return new dr(Nt(3.2404542*(qe=hr(qe)*We)-1.5371385*(Qe=hr(Qe)*Ve)-.4985314*(ot=hr(ot)*Rt)),Nt(-.969266*qe+1.8760108*Qe+.041556*ot),Nt(.0556434*qe-.2040259*Qe+1.0572252*ot))}function hr(oe){return oe>.206893034?oe*oe*oe:(oe-.13793103448275862)/7.787037}function or(oe){return oe>.008856?Math.pow(oe,.3333333333333333):7.787037*oe+.13793103448275862}function Nt(oe){return Math.round(255*(oe<=.00304?12.92*oe:1.055*Math.pow(oe,.4166666666666667)-.055))}function dr(oe,me,Oe){return this instanceof dr?(this.r=~~oe,this.g=~~me,void(this.b=~~Oe)):arguments.length<2?oe instanceof dr?new dr(oe.r,oe.g,oe.b):_r(""+oe,dr,Ut):new dr(oe,me,Oe)}function Mr(oe){return new dr(oe>>16,oe>>8&255,255&oe)}function wr(oe){return Mr(oe)+""}_t.brighter=function(oe){return new lr(Math.min(100,this.l+br*(arguments.length?oe:1)),this.a,this.b)},_t.darker=function(oe){return new lr(Math.max(0,this.l-br*(arguments.length?oe:1)),this.a,this.b)},_t.rgb=function(){return Kt(this.l,this.a,this.b)},o.rgb=dr;var kr=dr.prototype=new St;function tn(oe){return oe<16?"0"+Math.max(0,oe).toString(16):Math.min(255,oe).toString(16)}function _r(oe,me,Oe){var It,Mt,Zt,Qe=0,qe=0,ot=0;if(It=/([a-z]+)\((.*)\)/.exec(oe=oe.toLowerCase()))switch(Mt=It[2].split(","),It[1]){case"hsl":return Oe(parseFloat(Mt[0]),parseFloat(Mt[1])/100,parseFloat(Mt[2])/100);case"rgb":return me(On(Mt[0]),On(Mt[1]),On(Mt[2]))}return(Zt=mn.get(oe))?me(Zt.r,Zt.g,Zt.b):(null!=oe&&"#"===oe.charAt(0)&&!isNaN(Zt=parseInt(oe.slice(1),16))&&(4===oe.length?(Qe=(3840&Zt)>>4,Qe|=Qe>>4,qe=240&Zt,qe|=qe>>4,ot=15&Zt,ot|=ot<<4):7===oe.length&&(Qe=(16711680&Zt)>>16,qe=(65280&Zt)>>8,ot=255&Zt)),me(Qe,qe,ot))}function Kr(oe,me,Oe){var It,Mt,Qe=Math.min(oe/=255,me/=255,Oe/=255),qe=Math.max(oe,me,Oe),ot=qe-Qe,Zt=(qe+Qe)/2;return ot?(Mt=Zt<.5?ot/(qe+Qe):ot/(2-qe-Qe),It=oe==qe?(me-Oe)/ot+(me<Oe?6:0):me==qe?(Oe-oe)/ot+2:(oe-me)/ot+4,It*=60):(It=NaN,Mt=Zt>0&&Zt<1?0:It),new Lt(It,Mt,Zt)}function vn(oe,me,Oe){var Qe=or((.4124564*(oe=Xr(oe))+.3575761*(me=Xr(me))+.1804375*(Oe=Xr(Oe)))/We),qe=or((.2126729*oe+.7151522*me+.072175*Oe)/Ve);return lr(116*qe-16,500*(Qe-qe),200*(qe-or((.0193339*oe+.119192*me+.9503041*Oe)/Rt)))}function Xr(oe){return(oe/=255)<=.04045?oe/12.92:Math.pow((oe+.055)/1.055,2.4)}function On(oe){var me=parseFloat(oe);return"%"===oe.charAt(oe.length-1)?Math.round(2.55*me):me}kr.brighter=function(oe){oe=Math.pow(.7,arguments.length?oe:1);var me=this.r,Oe=this.g,Qe=this.b;return me||Oe||Qe?(me&&me<30&&(me=30),Oe&&Oe<30&&(Oe=30),Qe&&Qe<30&&(Qe=30),new dr(Math.min(255,me/oe),Math.min(255,Oe/oe),Math.min(255,Qe/oe))):new dr(30,30,30)},kr.darker=function(oe){return new dr((oe=Math.pow(.7,arguments.length?oe:1))*this.r,oe*this.g,oe*this.b)},kr.hsl=function(){return Kr(this.r,this.g,this.b)},kr.toString=function(){return"#"+tn(this.r)+tn(this.g)+tn(this.b)};var mn=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function xr(oe){return"function"==typeof oe?oe:function(){return oe}}function Pr(oe){return function(me,Oe,Qe){return 2===arguments.length&&"function"==typeof Oe&&(Qe=Oe,Oe=null),Zr(me,Oe,oe,Qe)}}function Zr(oe,me,Oe,Qe){var qe={},ot=o.dispatch("beforesend","progress","load","error"),It={},Mt=new XMLHttpRequest,Zt=null;function ar(){var Fr,ur=Mt.status;if(!ur&&function fn(oe){var me=oe.responseType;return me&&"text"!==me?oe.response:oe.responseText}(Mt)||ur>=200&&ur<300||304===ur){try{Fr=Oe.call(qe,Mt)}catch(Ir){return void ot.error.call(qe,Ir)}ot.load.call(qe,Fr)}else ot.error.call(qe,Mt)}return self.XDomainRequest&&!("withCredentials"in Mt)&&/^(http(s)?:)?\/\//.test(oe)&&(Mt=new XDomainRequest),"onload"in Mt?Mt.onload=Mt.onerror=ar:Mt.onreadystatechange=function(){Mt.readyState>3&&ar()},Mt.onprogress=function(ur){var Fr=o.event;o.event=ur;try{ot.progress.call(qe,Mt)}finally{o.event=Fr}},qe.header=function(ur,Fr){return ur=(ur+"").toLowerCase(),arguments.length<2?It[ur]:(null==Fr?delete It[ur]:It[ur]=Fr+"",qe)},qe.mimeType=function(ur){return arguments.length?(me=null==ur?null:ur+"",qe):me},qe.responseType=function(ur){return arguments.length?(Zt=ur,qe):Zt},qe.response=function(ur){return Oe=ur,qe},["get","post"].forEach(function(ur){qe[ur]=function(){return qe.send.apply(qe,[ur].concat(C(arguments)))}}),qe.send=function(ur,Fr,Ir){if(2===arguments.length&&"function"==typeof Fr&&(Ir=Fr,Fr=null),Mt.open(ur,oe,!0),null!=me&&!("accept"in It)&&(It.accept=me+",*/*"),Mt.setRequestHeader)for(var an in It)Mt.setRequestHeader(an,It[an]);return null!=me&&Mt.overrideMimeType&&Mt.overrideMimeType(me),null!=Zt&&(Mt.responseType=Zt),null!=Ir&&qe.on("error",Ir).on("load",function(dn){Ir(null,dn)}),ot.beforesend.call(qe,Mt),Mt.send(Fr??null),qe},qe.abort=function(){return Mt.abort(),qe},o.rebind(qe,ot,"on"),null==Qe?qe:qe.get(function Hr(oe){return 1===oe.length?function(me,Oe){oe(null==me?Oe:null)}:oe}(Qe))}mn.forEach(function(oe,me){mn.set(oe,Mr(me))}),o.functor=xr,o.xhr=Pr(z),o.dsv=function(oe,me){var Oe=new RegExp('["'+oe+"\n]"),Qe=oe.charCodeAt(0);function qe(ar,ur,Fr){arguments.length<3&&(Fr=ur,ur=null);var Ir=Zr(ar,me,null==ur?ot:It(ur),Fr);return Ir.row=function(an){return arguments.length?Ir.response(null==(ur=an)?ot:It(an)):ur},Ir}function ot(ar){return qe.parse(ar.responseText)}function It(ar){return function(ur){return qe.parse(ur.responseText,ar)}}function Mt(ar){return ar.map(Zt).join(oe)}function Zt(ar){return Oe.test(ar)?'"'+ar.replace(/\"/g,'""')+'"':ar}return qe.parse=function(ar,ur){var Fr;return qe.parseRows(ar,function(Ir,an){if(Fr)return Fr(Ir,an-1);var dn=function(Or){for(var Ur={},Jr=Ir.length,pn=0;pn<Jr;++pn)Ur[Ir[pn]]=Or[pn];return Ur};Fr=ur?function(Or,Ur){return ur(dn(Or),Ur)}:dn})},qe.parseRows=function(ar,ur){var Jr,pn,Fr={},Ir={},an=[],dn=ar.length,Or=0,Ur=0;function yn(){if(Or>=dn)return Ir;if(pn)return pn=!1,Fr;var Gn=Or;if(34===ar.charCodeAt(Gn)){for(var ca=Gn;ca++<dn;)if(34===ar.charCodeAt(ca)){if(34!==ar.charCodeAt(ca+1))break;++ca}return Or=ca+2,13===(ma=ar.charCodeAt(ca+1))?(pn=!0,10===ar.charCodeAt(ca+2)&&++Or):10===ma&&(pn=!0),ar.slice(Gn+1,ca).replace(/""/g,'"')}for(;Or<dn;){var ma,da=1;if(10===(ma=ar.charCodeAt(Or++)))pn=!0;else if(13===ma)pn=!0,10===ar.charCodeAt(Or)&&(++Or,++da);else if(ma!==Qe)continue;return ar.slice(Gn,Or-da)}return ar.slice(Gn)}for(;(Jr=yn())!==Ir;){for(var en=[];Jr!==Fr&&Jr!==Ir;)en.push(Jr),Jr=yn();ur&&null==(en=ur(en,Ur++))||an.push(en)}return an},qe.format=function(ar){if(Array.isArray(ar[0]))return qe.formatRows(ar);var ur=new k,Fr=[];return ar.forEach(function(Ir){for(var an in Ir)ur.has(an)||Fr.push(ur.add(an))}),[Fr.map(Zt).join(oe)].concat(ar.map(function(Ir){return Fr.map(function(an){return Zt(Ir[an])}).join(oe)})).join("\n")},qe.formatRows=function(ar){return ar.map(Mt).join("\n")},qe},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var Tn,Mn,Pn,Fn,la=this[F(this,"requestAnimationFrame")]||function(oe){setTimeout(oe,17)};function Xn(oe,me,Oe){var Qe=arguments.length;Qe<2&&(me=0),Qe<3&&(Oe=Date.now());var ot={c:oe,t:Oe+me,n:null};return Mn?Mn.n=ot:Tn=ot,Mn=ot,Pn||(Fn=clearTimeout(Fn),Pn=1,la(na)),ot}function na(){var oe=Yn(),me=ra()-oe;me>24?(isFinite(me)&&(clearTimeout(Fn),Fn=setTimeout(na,me)),Pn=0):(Pn=1,la(na))}function Yn(){for(var oe=Date.now(),me=Tn;me;)oe>=me.t&&me.c(oe-me.t)&&(me.c=null),me=me.n;return oe}function ra(){for(var oe,me=Tn,Oe=1/0;me;)me.c?(me.t<Oe&&(Oe=me.t),me=(oe=me).n):me=oe?oe.n=me.n:Tn=me.n;return Mn=oe,Oe}function Sr(oe){return oe[0]}function un(oe){return oe[1]}function ln(oe){for(var me=oe.length,Oe=[0,1],Qe=2,qe=2;qe<me;qe++){for(;Qe>1&&rr(oe[Oe[Qe-2]],oe[Oe[Qe-1]],oe[qe])<=0;)--Qe;Oe[Qe++]=qe}return Oe.slice(0,Qe)}function An(oe,me){return oe[0]-me[0]||oe[1]-me[1]}o.timer=function(){Xn.apply(this,arguments)},o.timer.flush=function(){Yn(),ra()},o.round=function(oe,me){return me?Math.round(oe*(me=Math.pow(10,me)))/me:Math.round(oe)},o.geom={},o.geom.hull=function(oe){var me=Sr,Oe=un;if(arguments.length)return Qe(oe);function Qe(qe){if(qe.length<3)return[];var Mt,ot=xr(me),It=xr(Oe),Zt=qe.length,ar=[],ur=[];for(Mt=0;Mt<Zt;Mt++)ar.push([+ot.call(this,qe[Mt],Mt),+It.call(this,qe[Mt],Mt),Mt]);for(ar.sort(An),Mt=0;Mt<Zt;Mt++)ur.push([ar[Mt][0],-ar[Mt][1]]);var Fr=ln(ar),Ir=ln(ur),an=Ir[0]===Fr[0],dn=Ir[Ir.length-1]===Fr[Fr.length-1],Or=[];for(Mt=Fr.length-1;Mt>=0;--Mt)Or.push(qe[ar[Fr[Mt]][2]]);for(Mt=+an;Mt<Ir.length-dn;++Mt)Or.push(qe[ar[Ir[Mt]][2]]);return Or}return Qe.x=function(qe){return arguments.length?(me=qe,Qe):me},Qe.y=function(qe){return arguments.length?(Oe=qe,Qe):Oe},Qe},o.geom.polygon=function(oe){return W(oe,Vn),oe};var Vn=o.geom.polygon.prototype=[];function En(oe,me,Oe){return(Oe[0]-me[0])*(oe[1]-me[1])<(Oe[1]-me[1])*(oe[0]-me[0])}function Ln(oe,me,Oe,Qe){var qe=oe[0],ot=Oe[0],It=me[0]-qe,Mt=Qe[0]-ot,Zt=oe[1],ar=Oe[1],ur=me[1]-Zt,Fr=Qe[1]-ar,Ir=(Mt*(Zt-ar)-Fr*(qe-ot))/(Fr*It-Mt*ur);return[qe+Ir*It,Zt+Ir*ur]}function Hn(oe){var me=oe[0],Oe=oe[oe.length-1];return!(me[0]-Oe[0]||me[1]-Oe[1])}Vn.area=function(){for(var Oe,oe=-1,me=this.length,Qe=this[me-1],qe=0;++oe<me;)qe+=(Oe=Qe)[1]*(Qe=this[oe])[0]-Oe[0]*Qe[1];return.5*qe},Vn.centroid=function(oe){var ot,Mt,me=-1,Oe=this.length,Qe=0,qe=0,It=this[Oe-1];for(arguments.length||(oe=-1/(6*this.area()));++me<Oe;)Qe+=((ot=It)[0]+(It=this[me])[0])*(Mt=ot[0]*It[1]-It[0]*ot[1]),qe+=(ot[1]+It[1])*Mt;return[Qe*oe,qe*oe]},Vn.clip=function(oe){for(var me,ot,It,Zt,ar,ur,Oe=Hn(oe),Qe=-1,qe=this.length-Hn(this),Mt=this[qe-1];++Qe<qe;){for(me=oe.slice(),oe.length=0,Zt=this[Qe],ar=me[(It=me.length-Oe)-1],ot=-1;++ot<It;)En(ur=me[ot],Mt,Zt)?(En(ar,Mt,Zt)||oe.push(Ln(ar,ur,Mt,Zt)),oe.push(ur)):En(ar,Mt,Zt)&&oe.push(Ln(ar,ur,Mt,Zt)),ar=ur;Oe&&oe.push(oe[0]),Mt=Zt}return oe};var Qn,ya,Ja,ge,Ue,er=[],nt=[];function ct(){co(this),this.edge=this.site=this.circle=null}function Pt(oe){var me=er.pop()||new ct;return me.site=oe,me}function Ft(oe){In(oe),Ja.remove(oe),er.push(oe),co(oe)}function Yt(oe){var me=oe.circle,Oe=me.x,Qe=me.cy,qe={x:Oe,y:Qe},ot=oe.P,It=oe.N,Mt=[oe];Ft(oe);for(var Zt=ot;Zt.circle&&v(Oe-Zt.circle.x)<_e&&v(Qe-Zt.circle.cy)<_e;)ot=Zt.P,Mt.unshift(Zt),Ft(Zt),Zt=ot;Mt.unshift(Zt),In(Zt);for(var ar=It;ar.circle&&v(Oe-ar.circle.x)<_e&&v(Qe-ar.circle.cy)<_e;)It=ar.N,Mt.push(ar),Ft(ar),ar=It;Mt.push(ar),In(ar);var Fr,ur=Mt.length;for(Fr=1;Fr<ur;++Fr)eo((ar=Mt[Fr]).edge,(Zt=Mt[Fr-1]).site,ar.site,qe);(ar=Mt[ur-1]).edge=Di((Zt=Mt[0]).site,ar.site,null,qe),bn(Zt),bn(ar)}function Vt(oe){for(var Qe,qe,ot,It,me=oe.x,Oe=oe.y,Mt=Ja._;Mt;)if((ot=Ot(Mt,Oe)-me)>_e)Mt=Mt.L;else{if(!((It=me-Jt(Mt,Oe))>_e)){ot>-_e?(Qe=Mt.P,qe=Mt):It>-_e?(Qe=Mt,qe=Mt.N):Qe=qe=Mt;break}if(!Mt.R){Qe=Mt;break}Mt=Mt.R}var Zt=Pt(oe);if(Ja.insert(Qe,Zt),Qe||qe){if(Qe===qe)return In(Qe),qe=Pt(Qe.site),Ja.insert(Zt,qe),Zt.edge=qe.edge=Di(Qe.site,Zt.site),bn(Qe),void bn(qe);if(!qe)return void(Zt.edge=Di(Qe.site,Zt.site));In(Qe),In(qe);var ar=Qe.site,ur=ar.x,Fr=ar.y,Ir=oe.x-ur,an=oe.y-Fr,dn=qe.site,Or=dn.x-ur,Ur=dn.y-Fr,Jr=2*(Ir*Ur-an*Or),pn=Ir*Ir+an*an,yn=Or*Or+Ur*Ur,en={x:(Ur*pn-an*yn)/Jr+ur,y:(Ir*yn-Or*pn)/Jr+Fr};eo(qe.edge,ar,dn,en),Zt.edge=Di(ar,oe,null,en),qe.edge=Di(oe,dn,null,en),bn(Qe),bn(qe)}}function Ot(oe,me){var Oe=oe.site,Qe=Oe.x,qe=Oe.y,ot=qe-me;if(!ot)return Qe;var It=oe.P;if(!It)return-1/0;var Mt=(Oe=It.site).x,Zt=Oe.y,ar=Zt-me;if(!ar)return Mt;var ur=Mt-Qe,Fr=1/ot-1/ar,Ir=ur/ar;return Fr?(-Ir+Math.sqrt(Ir*Ir-2*Fr*(ur*ur/(-2*ar)-Zt+ar/2+qe-ot/2)))/Fr+Qe:(Qe+Mt)/2}function Jt(oe,me){var Oe=oe.N;if(Oe)return Ot(Oe,me);var Qe=oe.site;return Qe.y===me?Qe.x:1/0}function Dr(oe){this.site=oe,this.edges=[]}function Yr(oe,me){return me.angle-oe.angle}function zr(){co(this),this.x=this.y=this.arc=this.site=this.cy=null}function bn(oe){var me=oe.P,Oe=oe.N;if(me&&Oe){var Qe=me.site,qe=oe.site,ot=Oe.site;if(Qe!==ot){var It=qe.x,Mt=qe.y,Zt=Qe.x-It,ar=Qe.y-Mt,ur=ot.x-It,Fr=2*(Zt*(Ur=ot.y-Mt)-ar*ur);if(!(Fr>=-Te)){var Ir=Zt*Zt+ar*ar,an=ur*ur+Ur*Ur,dn=(Ur*Ir-ar*an)/Fr,Or=(Zt*an-ur*Ir)/Fr,Ur=Or+Mt,Jr=nt.pop()||new zr;Jr.arc=oe,Jr.site=qe,Jr.x=dn+It,Jr.y=Ur+Math.sqrt(dn*dn+Or*Or),Jr.cy=Ur,oe.circle=Jr;for(var pn=null,yn=Ue._;yn;)if(Jr.y<yn.y||Jr.y===yn.y&&Jr.x<=yn.x){if(!yn.L){pn=yn.P;break}yn=yn.L}else{if(!yn.R){pn=yn;break}yn=yn.R}Ue.insert(pn,Jr),pn||(ge=Jr)}}}}function In(oe){var me=oe.circle;me&&(me.P||(ge=me.N),Ue.remove(me),nt.push(me),co(me),oe.circle=null)}function Kn(oe,me){var Oe=oe.b;if(Oe)return!0;var Ur,Jr,Qe=oe.a,qe=me[0][0],ot=me[1][0],It=me[0][1],Mt=me[1][1],Zt=oe.l,ar=oe.r,ur=Zt.x,Fr=Zt.y,Ir=ar.x,an=ar.y,dn=(ur+Ir)/2;if(an===Fr){if(dn<qe||dn>=ot)return;if(ur>Ir){if(Qe){if(Qe.y>=Mt)return}else Qe={x:dn,y:It};Oe={x:dn,y:Mt}}else{if(Qe){if(Qe.y<It)return}else Qe={x:dn,y:Mt};Oe={x:dn,y:It}}}else if(Jr=(Fr+an)/2-(Ur=(ur-Ir)/(an-Fr))*dn,Ur<-1||Ur>1)if(ur>Ir){if(Qe){if(Qe.y>=Mt)return}else Qe={x:(It-Jr)/Ur,y:It};Oe={x:(Mt-Jr)/Ur,y:Mt}}else{if(Qe){if(Qe.y<It)return}else Qe={x:(Mt-Jr)/Ur,y:Mt};Oe={x:(It-Jr)/Ur,y:It}}else if(Fr<an){if(Qe){if(Qe.x>=ot)return}else Qe={x:qe,y:Ur*qe+Jr};Oe={x:ot,y:Ur*ot+Jr}}else{if(Qe){if(Qe.x<qe)return}else Qe={x:ot,y:Ur*ot+Jr};Oe={x:qe,y:Ur*qe+Jr}}return oe.a=Qe,oe.b=Oe,!0}function ha(oe,me){this.l=oe,this.r=me,this.a=this.b=null}function Di(oe,me,Oe,Qe){var qe=new ha(oe,me);return Qn.push(qe),Oe&&eo(qe,oe,me,Oe),Qe&&eo(qe,me,oe,Qe),ya[oe.i].edges.push(new ti(qe,oe,me)),ya[me.i].edges.push(new ti(qe,me,oe)),qe}function $a(oe,me,Oe){var Qe=new ha(oe,null);return Qe.a=me,Qe.b=Oe,Qn.push(Qe),Qe}function eo(oe,me,Oe,Qe){oe.a||oe.b?oe.l===Oe?oe.b=Qe:oe.a=Qe:(oe.a=Qe,oe.l=me,oe.r=Oe)}function ti(oe,me,Oe){var Qe=oe.a,qe=oe.b;this.edge=oe,this.site=me,this.angle=Oe?Math.atan2(Oe.y-me.y,Oe.x-me.x):oe.l===me?Math.atan2(qe.x-Qe.x,Qe.y-qe.y):Math.atan2(Qe.x-qe.x,qe.y-Qe.y)}function Fi(){this._=null}function co(oe){oe.U=oe.C=oe.L=oe.R=oe.P=oe.N=null}function oi(oe,me){var Oe=me,Qe=me.R,qe=Oe.U;qe?qe.L===Oe?qe.L=Qe:qe.R=Qe:oe._=Qe,Qe.U=qe,Oe.U=Qe,Oe.R=Qe.L,Oe.R&&(Oe.R.U=Oe),Qe.L=Oe}function mo(oe,me){var Oe=me,Qe=me.L,qe=Oe.U;qe?qe.L===Oe?qe.L=Qe:qe.R=Qe:oe._=Qe,Qe.U=qe,Oe.U=Qe,Oe.L=Qe.R,Oe.L&&(Oe.L.U=Oe),Qe.R=Oe}function ss(oe){for(;oe.L;)oe=oe.L;return oe}function zi(oe,me){var Qe,qe,ot,Oe=oe.sort(Ui).pop();for(Qn=[],ya=new Array(oe.length),Ja=new Fi,Ue=new Fi;;)if(ot=ge,Oe&&(!ot||Oe.y<ot.y||Oe.y===ot.y&&Oe.x<ot.x))(Oe.x!==Qe||Oe.y!==qe)&&(ya[Oe.i]=new Dr(Oe),Vt(Oe),Qe=Oe.x,qe=Oe.y),Oe=oe.pop();else{if(!ot)break;Yt(ot.arc)}me&&(function ea(oe){for(var qe,me=Qn,Oe=function Bn(oe,me,Oe,Qe){return function(qe){var Or,ot=qe.a,It=qe.b,Mt=ot.x,Zt=ot.y,Fr=0,Ir=1,an=It.x-Mt,dn=It.y-Zt;if(Or=oe-Mt,an||!(Or>0)){if(Or/=an,an<0){if(Or<Fr)return;Or<Ir&&(Ir=Or)}else if(an>0){if(Or>Ir)return;Or>Fr&&(Fr=Or)}if(Or=Oe-Mt,an||!(Or<0)){if(Or/=an,an<0){if(Or>Ir)return;Or>Fr&&(Fr=Or)}else if(an>0){if(Or<Fr)return;Or<Ir&&(Ir=Or)}if(Or=me-Zt,dn||!(Or>0)){if(Or/=dn,dn<0){if(Or<Fr)return;Or<Ir&&(Ir=Or)}else if(dn>0){if(Or>Ir)return;Or>Fr&&(Fr=Or)}if(Or=Qe-Zt,dn||!(Or<0)){if(Or/=dn,dn<0){if(Or>Ir)return;Or>Fr&&(Fr=Or)}else if(dn>0){if(Or<Fr)return;Or<Ir&&(Ir=Or)}return Fr>0&&(qe.a={x:Mt+Fr*an,y:Zt+Fr*dn}),Ir<1&&(qe.b={x:Mt+Ir*an,y:Zt+Ir*dn}),qe}}}}}}(oe[0][0],oe[0][1],oe[1][0],oe[1][1]),Qe=me.length;Qe--;)(!Kn(qe=me[Qe],oe)||!Oe(qe)||v(qe.a.x-qe.b.x)<_e&&v(qe.a.y-qe.b.y)<_e)&&(qe.a=qe.b=null,me.splice(Qe,1))}(me),function Gr(oe){for(var ot,It,Mt,Zt,Fr,Ir,an,dn,Or,Ur,me=oe[0][0],Oe=oe[1][0],Qe=oe[0][1],qe=oe[1][1],ar=ya,ur=ar.length;ur--;)if((Fr=ar[ur])&&Fr.prepare())for(dn=(an=Fr.edges).length,Ir=0;Ir<dn;)Mt=(Ur=an[Ir].end()).x,Zt=Ur.y,It=(Or=an[++Ir%dn].start()).y,(v(Mt-(ot=Or.x))>_e||v(Zt-It)>_e)&&(an.splice(Ir,0,new ti($a(Fr.site,Ur,v(Mt-me)<_e&&qe-Zt>_e?{x:me,y:v(ot-me)<_e?It:qe}:v(Zt-qe)<_e&&Oe-Mt>_e?{x:v(It-qe)<_e?ot:Oe,y:qe}:v(Mt-Oe)<_e&&Zt-Qe>_e?{x:Oe,y:v(ot-Oe)<_e?It:Qe}:v(Zt-Qe)<_e&&Mt-me>_e?{x:v(It-Qe)<_e?ot:me,y:Qe}:null),Fr.site,null)),++dn)}(me));var It={cells:ya,edges:Qn};return Ja=Ue=Qn=ya=null,It}function Ui(oe,me){return me.y-oe.y||me.x-oe.x}Dr.prototype.prepare=function(){for(var Oe,oe=this.edges,me=oe.length;me--;)(!(Oe=oe[me].edge).b||!Oe.a)&&oe.splice(me,1);return oe.sort(Yr),oe.length},ti.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Fi.prototype={insert:function(oe,me){var Oe,Qe,qe;if(oe){if(me.P=oe,me.N=oe.N,oe.N&&(oe.N.P=me),oe.N=me,oe.R){for(oe=oe.R;oe.L;)oe=oe.L;oe.L=me}else oe.R=me;Oe=oe}else this._?(oe=ss(this._),me.P=null,me.N=oe,oe.P=oe.L=me,Oe=oe):(me.P=me.N=null,this._=me,Oe=null);for(me.L=me.R=null,me.U=Oe,me.C=!0,oe=me;Oe&&Oe.C;)Oe===(Qe=Oe.U).L?(qe=Qe.R)&&qe.C?(Oe.C=qe.C=!1,Qe.C=!0,oe=Qe):(oe===Oe.R&&(oi(this,Oe),Oe=(oe=Oe).U),Oe.C=!1,Qe.C=!0,mo(this,Qe)):(qe=Qe.L)&&qe.C?(Oe.C=qe.C=!1,Qe.C=!0,oe=Qe):(oe===Oe.L&&(mo(this,Oe),Oe=(oe=Oe).U),Oe.C=!1,Qe.C=!0,oi(this,Qe)),Oe=oe.U;this._.C=!1},remove:function(oe){oe.N&&(oe.N.P=oe.P),oe.P&&(oe.P.N=oe.N),oe.N=oe.P=null;var Oe,ot,It,me=oe.U,Qe=oe.L,qe=oe.R;if(ot=Qe?qe?ss(qe):Qe:qe,me?me.L===oe?me.L=ot:me.R=ot:this._=ot,Qe&&qe?(It=ot.C,ot.C=oe.C,ot.L=Qe,Qe.U=ot,ot!==qe?(me=ot.U,ot.U=oe.U,me.L=oe=ot.R,ot.R=qe,qe.U=ot):(ot.U=me,me=ot,oe=ot.R)):(It=oe.C,oe=ot),oe&&(oe.U=me),!It){if(oe&&oe.C)return void(oe.C=!1);do{if(oe===this._)break;if(oe===me.L){if((Oe=me.R).C&&(Oe.C=!1,me.C=!0,oi(this,me),Oe=me.R),Oe.L&&Oe.L.C||Oe.R&&Oe.R.C){(!Oe.R||!Oe.R.C)&&(Oe.L.C=!1,Oe.C=!0,mo(this,Oe),Oe=me.R),Oe.C=me.C,me.C=Oe.R.C=!1,oi(this,me),oe=this._;break}}else if((Oe=me.L).C&&(Oe.C=!1,me.C=!0,mo(this,me),Oe=me.L),Oe.L&&Oe.L.C||Oe.R&&Oe.R.C){(!Oe.L||!Oe.L.C)&&(Oe.R.C=!1,Oe.C=!0,oi(this,Oe),Oe=me.L),Oe.C=me.C,me.C=Oe.L.C=!1,mo(this,me),oe=this._;break}Oe.C=!0,oe=me,me=me.U}while(!oe.C);oe&&(oe.C=!1)}}},o.geom.voronoi=function(oe){var me=Sr,Oe=un,Qe=me,qe=Oe,ot=Jo;if(oe)return It(oe);function It(Zt){var ar=new Array(Zt.length),ur=ot[0][0],Fr=ot[0][1],Ir=ot[1][0],an=ot[1][1];return zi(Mt(Zt),ot).cells.forEach(function(dn,Or){var Ur=dn.edges,Jr=dn.site;(ar[Or]=Ur.length?Ur.map(function(yn){var en=yn.start();return[en.x,en.y]}):Jr.x>=ur&&Jr.x<=Ir&&Jr.y>=Fr&&Jr.y<=an?[[ur,an],[Ir,an],[Ir,Fr],[ur,Fr]]:[]).point=Zt[Or]}),ar}function Mt(Zt){return Zt.map(function(ar,ur){return{x:Math.round(Qe(ar,ur)/_e)*_e,y:Math.round(qe(ar,ur)/_e)*_e,i:ur}})}return It.links=function(Zt){return zi(Mt(Zt)).edges.filter(function(ar){return ar.l&&ar.r}).map(function(ar){return{source:Zt[ar.l.i],target:Zt[ar.r.i]}})},It.triangles=function(Zt){var ar=[];return zi(Mt(Zt)).cells.forEach(function(ur,Fr){for(var Jr,Ir=ur.site,an=ur.edges.sort(Yr),dn=-1,Or=an.length,pn=an[Or-1].edge,yn=pn.l===Ir?pn.r:pn.l;++dn<Or;)Jr=yn,yn=(pn=an[dn].edge).l===Ir?pn.r:pn.l,Fr<Jr.i&&Fr<yn.i&&Lo(Ir,Jr,yn)<0&&ar.push([Zt[Fr],Zt[Jr.i],Zt[yn.i]])}),ar},It.x=function(Zt){return arguments.length?(Qe=xr(me=Zt),It):me},It.y=function(Zt){return arguments.length?(qe=xr(Oe=Zt),It):Oe},It.clipExtent=function(Zt){return arguments.length?(ot=Zt??Jo,It):ot===Jo?null:ot},It.size=function(Zt){return arguments.length?It.clipExtent(Zt&&[[0,0],Zt]):ot===Jo?null:ot&&ot[1]},It};var Jo=[[-1e6,-1e6],[1e6,1e6]];function Lo(oe,me,Oe){return(oe.x-Oe.x)*(me.y-oe.y)-(oe.x-me.x)*(Oe.y-oe.y)}function ui(oe){return oe.x}function Wi(oe){return oe.y}function Si(oe,me,Oe,Qe,qe,ot){if(!oe(me,Oe,Qe,qe,ot)){var It=.5*(Oe+qe),Mt=.5*(Qe+ot),Zt=me.nodes;Zt[0]&&Si(oe,Zt[0],Oe,Qe,It,Mt),Zt[1]&&Si(oe,Zt[1],It,Qe,qe,Mt),Zt[2]&&Si(oe,Zt[2],Oe,Mt,It,ot),Zt[3]&&Si(oe,Zt[3],It,Mt,qe,ot)}}function Sa(oe,me){oe=o.rgb(oe),me=o.rgb(me);var Oe=oe.r,Qe=oe.g,qe=oe.b,ot=me.r-Oe,It=me.g-Qe,Mt=me.b-qe;return function(Zt){return"#"+tn(Math.round(Oe+ot*Zt))+tn(Math.round(Qe+It*Zt))+tn(Math.round(qe+Mt*Zt))}}function mi(oe,me){var qe,Oe={},Qe={};for(qe in oe)qe in me?Oe[qe]=io(oe[qe],me[qe]):Qe[qe]=oe[qe];for(qe in me)qe in oe||(Qe[qe]=me[qe]);return function(ot){for(qe in Oe)Qe[qe]=Oe[qe](ot);return Qe}}function hi(oe,me){return oe=+oe,me=+me,function(Oe){return oe*(1-Oe)+me*Oe}}function Zi(oe,me){var Qe,qe,ot,Oe=ji.lastIndex=Qo.lastIndex=0,It=-1,Mt=[],Zt=[];for(oe+="",me+="";(Qe=ji.exec(oe))&&(qe=Qo.exec(me));)(ot=qe.index)>Oe&&(ot=me.slice(Oe,ot),Mt[It]?Mt[It]+=ot:Mt[++It]=ot),(Qe=Qe[0])===(qe=qe[0])?Mt[It]?Mt[It]+=qe:Mt[++It]=qe:(Mt[++It]=null,Zt.push({i:It,x:hi(Qe,qe)})),Oe=Qo.lastIndex;return Oe<me.length&&(ot=me.slice(Oe),Mt[It]?Mt[It]+=ot:Mt[++It]=ot),Mt.length<2?Zt[0]?(me=Zt[0].x,function(ar){return me(ar)+""}):function(){return me}:(me=Zt.length,function(ar){for(var Fr,ur=0;ur<me;++ur)Mt[(Fr=Zt[ur]).i]=Fr.x(ar);return Mt.join("")})}o.geom.delaunay=function(oe){return o.geom.voronoi().triangles(oe)},o.geom.quadtree=function(oe,me,Oe,Qe,qe){var Mt,ot=Sr,It=un;if(Mt=arguments.length)return ot=ui,It=Wi,3===Mt&&(qe=Oe,Qe=me,Oe=me=0),Zt(oe);function Zt(ar){var ur,an,dn,Or,Ur,Jr,pn,yn,en,Fr=xr(ot),Ir=xr(It);if(null!=me)Jr=me,pn=Oe,yn=Qe,en=qe;else if(yn=en=-(Jr=pn=1/0),an=[],dn=[],Ur=ar.length,Mt)for(Or=0;Or<Ur;++Or)(ur=ar[Or]).x<Jr&&(Jr=ur.x),ur.y<pn&&(pn=ur.y),ur.x>yn&&(yn=ur.x),ur.y>en&&(en=ur.y),an.push(ur.x),dn.push(ur.y);else for(Or=0;Or<Ur;++Or){var Gn=+Fr(ur=ar[Or],Or),ca=+Ir(ur,Or);Gn<Jr&&(Jr=Gn),ca<pn&&(pn=ca),Gn>yn&&(yn=Gn),ca>en&&(en=ca),an.push(Gn),dn.push(ca)}var ma=yn-Jr,da=en-pn;function pa(La,Va,fi,po,wi,sa,Ya,Ga){if(!isNaN(fi)&&!isNaN(po))if(La.leaf){var ia=La.x,wa=La.y;if(null!=ia)if(v(ia-fi)+v(wa-po)<.01)_a(La,Va,fi,po,wi,sa,Ya,Ga);else{var Gi=La.point;La.x=La.y=La.point=null,_a(La,Gi,ia,wa,wi,sa,Ya,Ga),_a(La,Va,fi,po,wi,sa,Ya,Ga)}else La.x=fi,La.y=po,La.point=Va}else _a(La,Va,fi,po,wi,sa,Ya,Ga)}function _a(La,Va,fi,po,wi,sa,Ya,Ga){var ia=.5*(wi+Ya),wa=.5*(sa+Ga),Gi=fi>=ia,lo=po>=wa,bo=lo<<1|Gi;La.leaf=!1,Gi?wi=ia:Ya=ia,lo?sa=wa:Ga=wa,pa(La=La.nodes[bo]||(La.nodes[bo]={leaf:!0,nodes:[],point:null,x:null,y:null}),Va,fi,po,wi,sa,Ya,Ga)}ma>da?en=pn+ma:yn=Jr+da;var Ca={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(La){pa(Ca,La,+Fr(La,++Or),+Ir(La,Or),Jr,pn,yn,en)}};if(Ca.visit=function(La){Si(La,Ca,Jr,pn,yn,en)},Ca.find=function(La){return function wo(oe,me,Oe,Qe,qe,ot,It){var Zt,Mt=1/0;return function ar(ur,Fr,Ir,an,dn){if(!(Fr>ot||Ir>It||an<Qe||dn<qe)){if(Or=ur.point){var Or,Ur=me-ur.x,Jr=Oe-ur.y,pn=Ur*Ur+Jr*Jr;if(pn<Mt){var yn=Math.sqrt(Mt=pn);Qe=me-yn,qe=Oe-yn,ot=me+yn,It=Oe+yn,Zt=Or}}for(var en=ur.nodes,Gn=.5*(Fr+an),ca=.5*(Ir+dn),pa=(Oe>=ca)<<1|me>=Gn,_a=pa+4;pa<_a;++pa)if(ur=en[3&pa])switch(3&pa){case 0:ar(ur,Fr,Ir,Gn,ca);break;case 1:ar(ur,Gn,Ir,an,ca);break;case 2:ar(ur,Fr,ca,Gn,dn);break;case 3:ar(ur,Gn,ca,an,dn)}}}(oe,Qe,qe,ot,It),Zt}(Ca,La[0],La[1],Jr,pn,yn,en)},Or=-1,null==me){for(;++Or<Ur;)pa(Ca,ar[Or],an[Or],dn[Or],Jr,pn,yn,en);--Or}else ar.forEach(Ca.add);return an=dn=ar=ur=null,Ca}return Zt.x=function(ar){return arguments.length?(ot=ar,Zt):ot},Zt.y=function(ar){return arguments.length?(It=ar,Zt):It},Zt.extent=function(ar){return arguments.length?(null==ar?me=Oe=Qe=qe=null:(me=+ar[0][0],Oe=+ar[0][1],Qe=+ar[1][0],qe=+ar[1][1]),Zt):null==me?null:[[me,Oe],[Qe,qe]]},Zt.size=function(ar){return arguments.length?(null==ar?me=Oe=Qe=qe=null:(me=Oe=0,Qe=+ar[0],qe=+ar[1]),Zt):null==me?null:[Qe-me,qe-Oe]},Zt},o.interpolateRgb=Sa,o.interpolateObject=mi,o.interpolateNumber=hi,o.interpolateString=Zi;var ji=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qo=new RegExp(ji.source,"g");function io(oe,me){for(var Qe,Oe=o.interpolators.length;--Oe>=0&&!(Qe=o.interpolators[Oe](oe,me)););return Qe}function di(oe,me){var Mt,Oe=[],Qe=[],qe=oe.length,ot=me.length,It=Math.min(oe.length,me.length);for(Mt=0;Mt<It;++Mt)Oe.push(io(oe[Mt],me[Mt]));for(;Mt<qe;++Mt)Qe[Mt]=oe[Mt];for(;Mt<ot;++Mt)Qe[Mt]=me[Mt];return function(Zt){for(Mt=0;Mt<It;++Mt)Qe[Mt]=Oe[Mt](Zt);return Qe}}o.interpolate=io,o.interpolators=[function(oe,me){var Oe=typeof me;return("string"===Oe?mn.has(me.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(me)?Sa:Zi:me instanceof St?Sa:Array.isArray(me)?di:"object"===Oe&&isNaN(me)?mi:hi)(oe,me)}],o.interpolateArray=di;var qs=function(){return z},To=o.map({linear:qs,poly:function yl(oe){return function(me){return Math.pow(me,oe)}},quad:function(){return Ps},cubic:function(){return Vs},sin:function(){return Ds},exp:function(){return tl},circle:function(){return Vr},elastic:function xn(oe,me){var Oe;return arguments.length<2&&(me=.45),arguments.length?Oe=me/pe*Math.asin(1/oe):(oe=1,Oe=me/4),function(Qe){return 1+oe*Math.pow(2,-10*Qe)*Math.sin((Qe-Oe)*pe/me)}},back:function kn(oe){return oe||(oe=1.70158),function(me){return me*me*((oe+1)*me-oe)}},bounce:function(){return Nn}}),ns=o.map({in:z,out:Hs,"in-out":gs,"out-in":function(oe){return gs(Hs(oe))}});function Hs(oe){return function(me){return 1-oe(1-me)}}function gs(oe){return function(me){return.5*(me<.5?oe(2*me):2-oe(2-2*me))}}function Ps(oe){return oe*oe}function Vs(oe){return oe*oe*oe}function el(oe){if(oe<=0)return 0;if(oe>=1)return 1;var me=oe*oe,Oe=me*oe;return 4*(oe<.5?Oe:3*(oe-me)+Oe-.75)}function Ds(oe){return 1-Math.cos(oe*Xe)}function tl(oe){return Math.pow(2,10*(oe-1))}function Vr(oe){return 1-Math.sqrt(1-oe*oe)}function Nn(oe){return oe<.36363636363636365?7.5625*oe*oe:oe<.7272727272727273?7.5625*(oe-=.5454545454545454)*oe+.75:oe<.9090909090909091?7.5625*(oe-=.8181818181818182)*oe+.9375:7.5625*(oe-=.9545454545454546)*oe+.984375}function Ba(oe,me){return me-=oe,function(Oe){return Math.round(oe+me*Oe)}}function Ra(oe){var me=[oe.a,oe.b],Oe=[oe.c,oe.d],Qe=Xa(me),qe=si(me,Oe),ot=Xa(function ri(oe,me,Oe){return oe[0]+=Oe*me[0],oe[1]+=Oe*me[1],oe}(Oe,me,-qe))||0;me[0]*Oe[1]<Oe[0]*me[1]&&(me[0]*=-1,me[1]*=-1,Qe*=-1,qe*=-1),this.rotate=(Qe?Math.atan2(me[1],me[0]):Math.atan2(-Oe[0],Oe[1]))*ft,this.translate=[oe.e,oe.f],this.scale=[Qe,ot],this.skew=ot?Math.atan2(qe,ot)*ft:0}function si(oe,me){return oe[0]*me[0]+oe[1]*me[1]}function Xa(oe){var me=Math.sqrt(si(oe,oe));return me&&(oe[0]/=me,oe[1]/=me),me}o.ease=function(oe){var me=oe.indexOf("-"),Oe=me>=0?oe.slice(0,me):oe,Qe=me>=0?oe.slice(me+1):"in";return Oe=To.get(Oe)||qs,function ls(oe){return function(me){return me<=0?0:me>=1?1:oe(me)}}((Qe=ns.get(Qe)||z)(Oe.apply(null,P.call(arguments,1))))},o.interpolateHcl=function jn(oe,me){oe=o.hcl(oe),me=o.hcl(me);var Oe=oe.h,Qe=oe.c,qe=oe.l,ot=me.h-Oe,It=me.c-Qe,Mt=me.l-qe;return isNaN(It)&&(It=0,Qe=isNaN(Qe)?me.c:Qe),isNaN(ot)?(ot=0,Oe=isNaN(Oe)?me.h:Oe):ot>180?ot-=360:ot<-180&&(ot+=360),function(Zt){return cr(Oe+ot*Zt,Qe+It*Zt,qe+Mt*Zt)+""}},o.interpolateHsl=function za(oe,me){oe=o.hsl(oe),me=o.hsl(me);var Oe=oe.h,Qe=oe.s,qe=oe.l,ot=me.h-Oe,It=me.s-Qe,Mt=me.l-qe;return isNaN(It)&&(It=0,Qe=isNaN(Qe)?me.s:Qe),isNaN(ot)?(ot=0,Oe=isNaN(Oe)?me.h:Oe):ot>180?ot-=360:ot<-180&&(ot+=360),function(Zt){return Ut(Oe+ot*Zt,Qe+It*Zt,qe+Mt*Zt)+""}},o.interpolateLab=function Ea(oe,me){oe=o.lab(oe),me=o.lab(me);var Oe=oe.l,Qe=oe.a,qe=oe.b,ot=me.l-Oe,It=me.a-Qe,Mt=me.b-qe;return function(Zt){return Kt(Oe+ot*Zt,Qe+It*Zt,qe+Mt*Zt)+""}},o.interpolateRound=Ba,o.transform=function(oe){var me=h.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(Oe){if(null!=Oe){me.setAttribute("transform",Oe);var Qe=me.transform.baseVal.consolidate()}return new Ra(Qe?Qe.matrix:pi)})(oe)},Ra.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var pi={a:1,b:0,c:0,d:1,e:0,f:0};function Za(oe){return oe.length?oe.pop()+",":""}function Ki(oe,me){var Oe=[],Qe=[];return oe=o.transform(oe),me=o.transform(me),function Ri(oe,me,Oe,Qe){if(oe[0]!==me[0]||oe[1]!==me[1]){var qe=Oe.push("translate(",null,",",null,")");Qe.push({i:qe-4,x:hi(oe[0],me[0])},{i:qe-2,x:hi(oe[1],me[1])})}else(me[0]||me[1])&&Oe.push("translate("+me+")")}(oe.translate,me.translate,Oe,Qe),function ho(oe,me,Oe,Qe){oe!==me?(oe-me>180?me+=360:me-oe>180&&(oe+=360),Qe.push({i:Oe.push(Za(Oe)+"rotate(",null,")")-2,x:hi(oe,me)})):me&&Oe.push(Za(Oe)+"rotate("+me+")")}(oe.rotate,me.rotate,Oe,Qe),function Ji(oe,me,Oe,Qe){oe!==me?Qe.push({i:Oe.push(Za(Oe)+"skewX(",null,")")-2,x:hi(oe,me)}):me&&Oe.push(Za(Oe)+"skewX("+me+")")}(oe.skew,me.skew,Oe,Qe),function Ao(oe,me,Oe,Qe){if(oe[0]!==me[0]||oe[1]!==me[1]){var qe=Oe.push(Za(Oe)+"scale(",null,",",null,")");Qe.push({i:qe-4,x:hi(oe[0],me[0])},{i:qe-2,x:hi(oe[1],me[1])})}else(1!==me[0]||1!==me[1])&&Oe.push(Za(Oe)+"scale("+me+")")}(oe.scale,me.scale,Oe,Qe),oe=me=null,function(qe){for(var Mt,ot=-1,It=Qe.length;++ot<It;)Oe[(Mt=Qe[ot]).i]=Mt.x(qe);return Oe.join("")}}function go(oe,me){return me=(me-=oe=+oe)||1/me,function(Oe){return(Oe-oe)/me}}function Ei(oe,me){return me=(me-=oe=+oe)||1/me,function(Oe){return Math.max(0,Math.min(1,(Oe-oe)/me))}}function ko(oe){for(var me=oe.source,Oe=oe.target,Qe=function to(oe,me){if(oe===me)return oe;for(var Oe=oo(oe),Qe=oo(me),qe=Oe.pop(),ot=Qe.pop(),It=null;qe===ot;)It=qe,qe=Oe.pop(),ot=Qe.pop();return It}(me,Oe),qe=[me];me!==Qe;)qe.push(me=me.parent);for(var ot=qe.length;Oe!==Qe;)qe.splice(ot,0,Oe),Oe=Oe.parent;return qe}function oo(oe){for(var me=[],Oe=oe.parent;null!=Oe;)me.push(oe),oe=Oe,Oe=Oe.parent;return me.push(oe),me}function us(oe){oe.fixed|=2}function cn(oe){oe.fixed&=-7}function gt(oe){oe.fixed|=4,oe.px=oe.x,oe.py=oe.y}function vr(oe){oe.fixed&=-5}function hn(oe,me,Oe){var Qe=0,qe=0;if(oe.charge=0,!oe.leaf)for(var Zt,ot=oe.nodes,It=ot.length,Mt=-1;++Mt<It;)null!=(Zt=ot[Mt])&&(hn(Zt,me,Oe),oe.charge+=Zt.charge,Qe+=Zt.charge*Zt.cx,qe+=Zt.charge*Zt.cy);if(oe.point){oe.leaf||(oe.point.x+=Math.random()-.5,oe.point.y+=Math.random()-.5);var ar=me*Oe[oe.point.index];oe.charge+=oe.pointCharge=ar,Qe+=ar*oe.point.x,qe+=ar*oe.point.y}oe.cx=Qe/oe.charge,oe.cy=qe/oe.charge}o.interpolateTransform=Ki,o.layout={},o.layout.bundle=function(){return function(oe){for(var me=[],Oe=-1,Qe=oe.length;++Oe<Qe;)me.push(ko(oe[Oe]));return me}},o.layout.chord=function(){var me,Oe,Qe,qe,It,Mt,Zt,oe={},ot=0;function ar(){var Or,Ur,Jr,pn,yn,Fr={},Ir=[],an=o.range(qe),dn=[];for(me=[],Oe=[],Or=0,pn=-1;++pn<qe;){for(Ur=0,yn=-1;++yn<qe;)Ur+=Qe[pn][yn];Ir.push(Ur),dn.push(o.range(qe)),Or+=Ur}for(It&&an.sort(function(Ca,La){return It(Ir[Ca],Ir[La])}),Mt&&dn.forEach(function(Ca,La){Ca.sort(function(Va,fi){return Mt(Qe[La][Va],Qe[La][fi])})}),Or=(pe-ot*qe)/Or,Ur=0,pn=-1;++pn<qe;){for(Jr=Ur,yn=-1;++yn<qe;){var en=an[pn],Gn=dn[en][yn],ca=Qe[en][Gn],ma=Ur,da=Ur+=ca*Or;Fr[en+"-"+Gn]={index:en,subindex:Gn,startAngle:ma,endAngle:da,value:ca}}Oe[en]={index:en,startAngle:Jr,endAngle:Ur,value:Ir[en]},Ur+=ot}for(pn=-1;++pn<qe;)for(yn=pn-1;++yn<qe;){var pa=Fr[pn+"-"+yn],_a=Fr[yn+"-"+pn];(pa.value||_a.value)&&me.push(pa.value<_a.value?{source:_a,target:pa}:{source:pa,target:_a})}Zt&&ur()}function ur(){me.sort(function(Fr,Ir){return Zt((Fr.source.value+Fr.target.value)/2,(Ir.source.value+Ir.target.value)/2)})}return oe.matrix=function(Fr){return arguments.length?(qe=(Qe=Fr)&&Qe.length,me=Oe=null,oe):Qe},oe.padding=function(Fr){return arguments.length?(ot=Fr,me=Oe=null,oe):ot},oe.sortGroups=function(Fr){return arguments.length?(It=Fr,me=Oe=null,oe):It},oe.sortSubgroups=function(Fr){return arguments.length?(Mt=Fr,me=null,oe):Mt},oe.sortChords=function(Fr){return arguments.length?(Zt=Fr,me&&ur(),oe):Zt},oe.chords=function(){return me||ar(),me},oe.groups=function(){return Oe||ar(),Oe},oe},o.layout.force=function(){var Oe,qe,ot,Or,Ur,Jr,oe={},me=o.dispatch("start","tick","end"),Qe=[1,1],It=.9,Mt=Jn,Zt=Ma,ar=-30,ur=Na,Fr=.1,Ir=.64,an=[],dn=[];function pn(en){return function(Gn,ca,ma,da){if(Gn.point!==en){var Va,pa=Gn.cx-en.x,_a=Gn.cy-en.y,Ca=da-ca,La=pa*pa+_a*_a;if(Ca*Ca/Ir<La)return La<ur&&(en.px-=pa*(Va=Gn.charge/La),en.py-=_a*Va),!0;Gn.point&&La&&La<ur&&(en.px-=pa*(Va=Gn.pointCharge/La),en.py-=_a*Va)}return!Gn.charge}}function yn(en){en.px=o.event.x,en.py=o.event.y,oe.resume()}return oe.tick=function(){if((ot*=.99)<.005)return Oe=null,me.end({type:"end",alpha:ot=0}),!0;var ca,ma,da,pa,_a,Ca,La,Va,fi,en=an.length,Gn=dn.length;for(ma=0;ma<Gn;++ma)(Ca=(Va=(_a=(da=dn[ma]).target).x-(pa=da.source).x)*Va+(fi=_a.y-pa.y)*fi)&&(fi*=Ca=ot*Ur[ma]*((Ca=Math.sqrt(Ca))-Or[ma])/Ca,_a.x-=(Va*=Ca)*(La=pa.weight+_a.weight?pa.weight/(pa.weight+_a.weight):.5),_a.y-=fi*La,pa.x+=Va*(La=1-La),pa.y+=fi*La);if((La=ot*Fr)&&(Va=Qe[0]/2,fi=Qe[1]/2,ma=-1,La))for(;++ma<en;)(da=an[ma]).x+=(Va-da.x)*La,da.y+=(fi-da.y)*La;if(ar)for(hn(ca=o.geom.quadtree(an),ot,Jr),ma=-1;++ma<en;)(da=an[ma]).fixed||ca.visit(pn(da));for(ma=-1;++ma<en;)(da=an[ma]).fixed?(da.x=da.px,da.y=da.py):(da.x-=(da.px-(da.px=da.x))*It,da.y-=(da.py-(da.py=da.y))*It);me.tick({type:"tick",alpha:ot})},oe.nodes=function(en){return arguments.length?(an=en,oe):an},oe.links=function(en){return arguments.length?(dn=en,oe):dn},oe.size=function(en){return arguments.length?(Qe=en,oe):Qe},oe.linkDistance=function(en){return arguments.length?(Mt="function"==typeof en?en:+en,oe):Mt},oe.distance=oe.linkDistance,oe.linkStrength=function(en){return arguments.length?(Zt="function"==typeof en?en:+en,oe):Zt},oe.friction=function(en){return arguments.length?(It=+en,oe):It},oe.charge=function(en){return arguments.length?(ar="function"==typeof en?en:+en,oe):ar},oe.chargeDistance=function(en){return arguments.length?(ur=en*en,oe):Math.sqrt(ur)},oe.gravity=function(en){return arguments.length?(Fr=+en,oe):Fr},oe.theta=function(en){return arguments.length?(Ir=en*en,oe):Math.sqrt(Ir)},oe.alpha=function(en){return arguments.length?(en=+en,ot?en>0?ot=en:(Oe.c=null,Oe.t=NaN,Oe=null,me.end({type:"end",alpha:ot=0})):en>0&&(me.start({type:"start",alpha:ot=en}),Oe=Xn(oe.tick)),oe):ot},oe.start=function(){var en,pa,_a,Gn=an.length,ca=dn.length,ma=Qe[0],da=Qe[1];for(en=0;en<Gn;++en)(_a=an[en]).index=en,_a.weight=0;for(en=0;en<ca;++en)"number"==typeof(_a=dn[en]).source&&(_a.source=an[_a.source]),"number"==typeof _a.target&&(_a.target=an[_a.target]),++_a.source.weight,++_a.target.weight;for(en=0;en<Gn;++en)_a=an[en],isNaN(_a.x)&&(_a.x=Ca("x",ma)),isNaN(_a.y)&&(_a.y=Ca("y",da)),isNaN(_a.px)&&(_a.px=_a.x),isNaN(_a.py)&&(_a.py=_a.y);if(Or=[],"function"==typeof Mt)for(en=0;en<ca;++en)Or[en]=+Mt.call(this,dn[en],en);else for(en=0;en<ca;++en)Or[en]=Mt;if(Ur=[],"function"==typeof Zt)for(en=0;en<ca;++en)Ur[en]=+Zt.call(this,dn[en],en);else for(en=0;en<ca;++en)Ur[en]=Zt;if(Jr=[],"function"==typeof ar)for(en=0;en<Gn;++en)Jr[en]=+ar.call(this,an[en],en);else for(en=0;en<Gn;++en)Jr[en]=ar;function Ca(La,Va){if(!pa){for(pa=new Array(Gn),wi=0;wi<Gn;++wi)pa[wi]=[];for(wi=0;wi<ca;++wi){var fi=dn[wi];pa[fi.source.index].push(fi.target),pa[fi.target.index].push(fi.source)}}for(var Ya,po=pa[en],wi=-1,sa=po.length;++wi<sa;)if(!isNaN(Ya=po[wi][La]))return Ya;return Math.random()*Va}return oe.resume()},oe.resume=function(){return oe.alpha(.1)},oe.stop=function(){return oe.alpha(0)},oe.drag=function(){if(qe||(qe=o.behavior.drag().origin(z).on("dragstart.force",us).on("drag.force",yn).on("dragend.force",cn)),!arguments.length)return qe;this.on("mouseover.force",gt).on("mouseout.force",vr).call(qe)},o.rebind(oe,me,"on")};var Jn=20,Ma=1,Na=1/0;function li(oe,me){return o.rebind(oe,me,"sort","children","value"),oe.nodes=oe,oe.links=Zo,oe}function Hi(oe,me){for(var Oe=[oe];null!=(oe=Oe.pop());)if(me(oe),(qe=oe.children)&&(Qe=qe.length))for(var Qe,qe;--Qe>=0;)Oe.push(qe[Qe])}function so(oe,me){for(var Oe=[oe],Qe=[];null!=(oe=Oe.pop());)if(Qe.push(oe),(It=oe.children)&&(ot=It.length))for(var ot,It,qe=-1;++qe<ot;)Oe.push(It[qe]);for(;null!=(oe=Qe.pop());)me(oe)}function Fo(oe){return oe.children}function Yo(oe){return oe.value}function as(oe,me){return me.value-oe.value}function Zo(oe){return o.merge(oe.map(function(me){return(me.children||[]).map(function(Oe){return{source:me,target:Oe}})}))}o.layout.hierarchy=function(){var oe=as,me=Fo,Oe=Yo;function Qe(qe){var Mt,ot=[qe],It=[];for(qe.depth=0;null!=(Mt=ot.pop());)if(It.push(Mt),(ar=me.call(Qe,Mt,Mt.depth))&&(Zt=ar.length)){for(var Zt,ar,ur;--Zt>=0;)ot.push(ur=ar[Zt]),ur.parent=Mt,ur.depth=Mt.depth+1;Oe&&(Mt.value=0),Mt.children=ar}else Oe&&(Mt.value=+Oe.call(Qe,Mt,Mt.depth)||0),delete Mt.children;return so(qe,function(Fr){var Ir,an;oe&&(Ir=Fr.children)&&Ir.sort(oe),Oe&&(an=Fr.parent)&&(an.value+=Fr.value)}),It}return Qe.sort=function(qe){return arguments.length?(oe=qe,Qe):oe},Qe.children=function(qe){return arguments.length?(me=qe,Qe):me},Qe.value=function(qe){return arguments.length?(Oe=qe,Qe):Oe},Qe.revalue=function(qe){return Oe&&(Hi(qe,function(ot){ot.children&&(ot.value=0)}),so(qe,function(ot){var It;ot.children||(ot.value=+Oe.call(Qe,ot,ot.depth)||0),(It=ot.parent)&&(It.value+=ot.value)})),qe},Qe},o.layout.partition=function(){var oe=o.layout.hierarchy(),me=[1,1];function Oe(ot,It,Mt,Zt){var ar=ot.children;if(ot.x=It,ot.y=ot.depth*Zt,ot.dx=Mt,ot.dy=Zt,ar&&(Fr=ar.length)){var Fr,Ir,an,ur=-1;for(Mt=ot.value?Mt/ot.value:0;++ur<Fr;)Oe(Ir=ar[ur],It,an=Ir.value*Mt,Zt),It+=an}}function Qe(ot){var It=ot.children,Mt=0;if(It&&(ar=It.length))for(var ar,Zt=-1;++Zt<ar;)Mt=Math.max(Mt,Qe(It[Zt]));return 1+Mt}function qe(ot,It){var Mt=oe.call(this,ot,It);return Oe(Mt[0],0,me[0],me[1]/Qe(Mt[0])),Mt}return qe.size=function(ot){return arguments.length?(me=ot,qe):me},li(qe,oe)},o.layout.pie=function(){var oe=Number,me=fs,Oe=0,Qe=pe,qe=0;function ot(It){var Jr,Mt=It.length,Zt=It.map(function(pn,yn){return+oe.call(ot,pn,yn)}),ar=+("function"==typeof Oe?Oe.apply(this,arguments):Oe),ur=("function"==typeof Qe?Qe.apply(this,arguments):Qe)-ar,Fr=Math.min(Math.abs(ur)/Mt,+("function"==typeof qe?qe.apply(this,arguments):qe)),Ir=Fr*(ur<0?-1:1),an=o.sum(Zt),dn=an?(ur-Mt*Ir)/an:0,Or=o.range(Mt),Ur=[];return null!=me&&Or.sort(me===fs?function(pn,yn){return Zt[yn]-Zt[pn]}:function(pn,yn){return me(It[pn],It[yn])}),Or.forEach(function(pn){Ur[pn]={data:It[pn],value:Jr=Zt[pn],startAngle:ar,endAngle:ar+=Jr*dn+Ir,padAngle:Fr}}),Ur}return ot.value=function(It){return arguments.length?(oe=It,ot):oe},ot.sort=function(It){return arguments.length?(me=It,ot):me},ot.startAngle=function(It){return arguments.length?(Oe=It,ot):Oe},ot.endAngle=function(It){return arguments.length?(Qe=It,ot):Qe},ot.padAngle=function(It){return arguments.length?(qe=It,ot):qe},ot};var fs={};function $o(oe){return oe.x}function ys(oe){return oe.y}function ml(oe,me,Oe){oe.y0=me,oe.y=Oe}o.layout.stack=function(){var oe=z,me=rl,Oe=xl,Qe=ml,qe=$o,ot=ys;function It(Mt,Zt){if(!(dn=Mt.length))return Mt;var ar=Mt.map(function(pn,yn){return oe.call(It,pn,yn)}),ur=ar.map(function(pn){return pn.map(function(yn,en){return[qe.call(It,yn,en),ot.call(It,yn,en)]})}),Fr=me.call(It,ur,Zt);ar=o.permute(ar,Fr),ur=o.permute(ur,Fr);var dn,Or,Ur,Jr,Ir=Oe.call(It,ur,Zt),an=ar[0].length;for(Ur=0;Ur<an;++Ur)for(Qe.call(It,ar[0][Ur],Jr=Ir[Ur],ur[0][Ur][1]),Or=1;Or<dn;++Or)Qe.call(It,ar[Or][Ur],Jr+=ur[Or-1][Ur][1],ur[Or][Ur][1]);return Mt}return It.values=function(Mt){return arguments.length?(oe=Mt,It):oe},It.order=function(Mt){return arguments.length?(me="function"==typeof Mt?Mt:cu.get(Mt)||rl,It):me},It.offset=function(Mt){return arguments.length?(Oe="function"==typeof Mt?Mt:Ci.get(Mt)||xl,It):Oe},It.x=function(Mt){return arguments.length?(qe=Mt,It):qe},It.y=function(Mt){return arguments.length?(ot=Mt,It):ot},It.out=function(Mt){return arguments.length?(Qe=Mt,It):Qe},It};var cu=o.map({"inside-out":function(oe){var Oe,Qe,me=oe.length,qe=oe.map(is),ot=oe.map(_l),It=o.range(me).sort(function(Fr,Ir){return qe[Fr]-qe[Ir]}),Mt=0,Zt=0,ar=[],ur=[];for(Oe=0;Oe<me;++Oe)Qe=It[Oe],Mt<Zt?(Mt+=ot[Qe],ar.push(Qe)):(Zt+=ot[Qe],ur.push(Qe));return ur.reverse().concat(ar)},reverse:function(oe){return o.range(oe.length).reverse()},default:rl}),Ci=o.map({silhouette:function(oe){var ot,It,Mt,me=oe.length,Oe=oe[0].length,Qe=[],qe=0,Zt=[];for(It=0;It<Oe;++It){for(ot=0,Mt=0;ot<me;ot++)Mt+=oe[ot][It][1];Mt>qe&&(qe=Mt),Qe.push(Mt)}for(It=0;It<Oe;++It)Zt[It]=(qe-Qe[It])/2;return Zt},wiggle:function(oe){var qe,ot,It,Mt,Zt,ar,ur,Fr,Ir,me=oe.length,Oe=oe[0],Qe=Oe.length,an=[];for(an[0]=Fr=Ir=0,ot=1;ot<Qe;++ot){for(qe=0,Mt=0;qe<me;++qe)Mt+=oe[qe][ot][1];for(qe=0,Zt=0,ur=Oe[ot][0]-Oe[ot-1][0];qe<me;++qe){for(It=0,ar=(oe[qe][ot][1]-oe[qe][ot-1][1])/(2*ur);It<qe;++It)ar+=(oe[It][ot][1]-oe[It][ot-1][1])/ur;Zt+=ar*oe[qe][ot][1]}an[ot]=Fr-=Mt?Zt/Mt*ur:0,Fr<Ir&&(Ir=Fr)}for(ot=0;ot<Qe;++ot)an[ot]-=Ir;return an},expand:function(oe){var qe,ot,It,me=oe.length,Oe=oe[0].length,Qe=1/me,Mt=[];for(ot=0;ot<Oe;++ot){for(qe=0,It=0;qe<me;qe++)It+=oe[qe][ot][1];if(It)for(qe=0;qe<me;qe++)oe[qe][ot][1]/=It;else for(qe=0;qe<me;qe++)oe[qe][ot][1]=Qe}for(ot=0;ot<Oe;++ot)Mt[ot]=0;return Mt},zero:xl});function rl(oe){return o.range(oe.length)}function xl(oe){for(var me=-1,Oe=oe[0].length,Qe=[];++me<Oe;)Qe[me]=0;return Qe}function is(oe){for(var qe,me=1,Oe=0,Qe=oe[0][1],ot=oe.length;me<ot;++me)(qe=oe[me][1])>Qe&&(Oe=me,Qe=qe);return Oe}function _l(oe){return oe.reduce(Wu,0)}function Wu(oe,me){return oe+me[1]}function Po(oe,me){return bl(oe,Math.ceil(Math.log(me.length)/Math.LN2+1))}function bl(oe,me){for(var Oe=-1,Qe=+oe[0],qe=(oe[1]-Qe)/me,ot=[];++Oe<=me;)ot[Oe]=qe*Oe+Qe;return ot}function Rs(oe){return[o.min(oe),o.max(oe)]}function ms(oe,me){return oe.value-me.value}function Gs(oe,me){var Oe=oe._pack_next;oe._pack_next=me,me._pack_prev=oe,me._pack_next=Oe,Oe._pack_prev=me}function Ws(oe,me){oe._pack_next=me,me._pack_prev=oe}function _s(oe,me){var Oe=me.x-oe.x,Qe=me.y-oe.y,qe=oe.r+me.r;return.999*qe*qe>Oe*Oe+Qe*Qe}function nl(oe){if((me=oe.children)&&(Ir=me.length)){var me,It,Mt,Zt,ar,ur,Fr,Ir,Oe=1/0,Qe=-1/0,qe=1/0,ot=-1/0;if(me.forEach(al),(It=me[0]).x=-It.r,It.y=0,an(It),Ir>1&&((Mt=me[1]).x=Mt.r,Mt.y=0,an(Mt),Ir>2))for(Cu(It,Mt,Zt=me[2]),an(Zt),Gs(It,Zt),It._pack_prev=Zt,Gs(Zt,Mt),Mt=It._pack_next,ar=3;ar<Ir;ar++){Cu(It,Mt,Zt=me[ar]);var dn=0,Or=1,Ur=1;for(ur=Mt._pack_next;ur!==Mt;ur=ur._pack_next,Or++)if(_s(ur,Zt)){dn=1;break}if(1==dn)for(Fr=It._pack_prev;Fr!==ur._pack_prev&&!_s(Fr,Zt);Fr=Fr._pack_prev,Ur++);dn?(Or<Ur||Or==Ur&&Mt.r<It.r?Ws(It,Mt=ur):Ws(It=Fr,Mt),ar--):(Gs(It,Zt),Mt=Zt,an(Zt))}var Jr=(Oe+Qe)/2,pn=(qe+ot)/2,yn=0;for(ar=0;ar<Ir;ar++)(Zt=me[ar]).x-=Jr,Zt.y-=pn,yn=Math.max(yn,Zt.r+Math.sqrt(Zt.x*Zt.x+Zt.y*Zt.y));oe.r=yn,me.forEach(xs)}function an(en){Oe=Math.min(en.x-en.r,Oe),Qe=Math.max(en.x+en.r,Qe),qe=Math.min(en.y-en.r,qe),ot=Math.max(en.y+en.r,ot)}}function al(oe){oe._pack_next=oe._pack_prev=oe}function xs(oe){delete oe._pack_next,delete oe._pack_prev}function Eu(oe,me,Oe,Qe){var qe=oe.children;if(oe.x=me+=Qe*oe.x,oe.y=Oe+=Qe*oe.y,oe.r*=Qe,qe)for(var ot=-1,It=qe.length;++ot<It;)Eu(qe[ot],me,Oe,Qe)}function Cu(oe,me,Oe){var Qe=oe.r+Oe.r,qe=me.x-oe.x,ot=me.y-oe.y;if(Qe&&(qe||ot)){var It=me.r+Oe.r,Mt=qe*qe+ot*ot,Zt=.5+((Qe*=Qe)-(It*=It))/(2*Mt),ar=Math.sqrt(Math.max(0,2*It*(Qe+Mt)-(Qe-=Mt)*Qe-It*It))/(2*Mt);Oe.x=oe.x+Zt*qe+ar*ot,Oe.y=oe.y+Zt*ot-ar*qe}else Oe.x=oe.x+Qe,Oe.y=oe.y}function hu(oe,me){return oe.parent==me.parent?1:2}function Il(oe){var me=oe.children;return me.length?me[0]:oe.t}function Lu(oe){var Oe,me=oe.children;return(Oe=me.length)?me[Oe-1]:oe.t}function vf(oe,me,Oe){var Qe=Oe/(me.i-oe.i);me.c-=Qe,me.s+=Oe,oe.c+=Qe,me.z+=Oe,me.m+=Oe}function Yu(oe,me,Oe){return oe.a.parent===me.parent?oe.a:Oe}function vu(oe){var me=oe.children;return me&&me.length?vu(me[0]):oe}function Io(oe){var Oe,me=oe.children;return me&&(Oe=me.length)?Io(me[Oe-1]):oe}function cs(oe){return{x:oe.x,y:oe.y,dx:oe.dx,dy:oe.dy}}function il(oe,me){var Oe=oe.x+me[3],Qe=oe.y+me[0],qe=oe.dx-me[1]-me[3],ot=oe.dy-me[0]-me[2];return qe<0&&(Oe+=qe/2,qe=0),ot<0&&(Qe+=ot/2,ot=0),{x:Oe,y:Qe,dx:qe,dy:ot}}function Zl(oe){var me=oe[0],Oe=oe[oe.length-1];return me<Oe?[me,Oe]:[Oe,me]}function kl(oe){return oe.rangeExtent?oe.rangeExtent():Zl(oe.range())}function Pu(oe,me,Oe,Qe){var qe=Oe(oe[0],oe[1]),ot=Qe(me[0],me[1]);return function(It){return ot(qe(It))}}function Du(oe,me){var It,Oe=0,Qe=oe.length-1,qe=oe[Oe],ot=oe[Qe];return ot<qe&&(It=Oe,Oe=Qe,Qe=It,It=qe,qe=ot,ot=It),oe[Oe]=me.floor(qe),oe[Qe]=me.ceil(ot),oe}function Ru(oe){return oe?{floor:function(me){return Math.floor(me/oe)*oe},ceil:function(me){return Math.ceil(me/oe)*oe}}:pf}o.layout.histogram=function(){var oe=!0,me=Number,Oe=Rs,Qe=Po;function qe(ot,Ir){for(var Fr,Ur,Mt=[],Zt=ot.map(me,this),ar=Oe.call(this,Zt,Ir),ur=Qe.call(this,ar,Zt,Ir),an=(Ir=-1,Zt.length),dn=ur.length-1,Or=oe?1:1/an;++Ir<dn;)(Fr=Mt[Ir]=[]).dx=ur[Ir+1]-(Fr.x=ur[Ir]),Fr.y=0;if(dn>0)for(Ir=-1;++Ir<an;)(Ur=Zt[Ir])>=ar[0]&&Ur<=ar[1]&&((Fr=Mt[o.bisect(ur,Ur,1,dn)-1]).y+=Or,Fr.push(ot[Ir]));return Mt}return qe.value=function(ot){return arguments.length?(me=ot,qe):me},qe.range=function(ot){return arguments.length?(Oe=xr(ot),qe):Oe},qe.bins=function(ot){return arguments.length?(Qe="number"==typeof ot?function(It){return bl(It,ot)}:xr(ot),qe):Qe},qe.frequency=function(ot){return arguments.length?(oe=!!ot,qe):oe},qe},o.layout.pack=function(){var Qe,oe=o.layout.hierarchy().sort(ms),me=0,Oe=[1,1];function qe(ot,It){var Mt=oe.call(this,ot,It),Zt=Mt[0],ar=Oe[0],ur=Oe[1],Fr=null==Qe?Math.sqrt:"function"==typeof Qe?Qe:function(){return Qe};if(Zt.x=Zt.y=0,so(Zt,function(an){an.r=+Fr(an.value)}),so(Zt,nl),me){var Ir=me*(Qe?1:Math.max(2*Zt.r/ar,2*Zt.r/ur))/2;so(Zt,function(an){an.r+=Ir}),so(Zt,nl),so(Zt,function(an){an.r-=Ir})}return Eu(Zt,ar/2,ur/2,Qe?1:1/Math.max(2*Zt.r/ar,2*Zt.r/ur)),Mt}return qe.size=function(ot){return arguments.length?(Oe=ot,qe):Oe},qe.radius=function(ot){return arguments.length?(Qe=null==ot||"function"==typeof ot?ot:+ot,qe):Qe},qe.padding=function(ot){return arguments.length?(me=+ot,qe):me},li(qe,oe)},o.layout.tree=function(){var oe=o.layout.hierarchy().sort(null).value(null),me=hu,Oe=[1,1],Qe=null;function qe(ur,Fr){var Ir=oe.call(this,ur,Fr),an=Ir[0],dn=function ot(ur){for(var an,Fr={A:null,children:[ur]},Ir=[Fr];null!=(an=Ir.pop());)for(var Or,dn=an.children,Ur=0,Jr=dn.length;Ur<Jr;++Ur)Ir.push((dn[Ur]=Or={_:dn[Ur],parent:an,children:(Or=dn[Ur].children)&&Or.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ur}).a=Or);return Fr.children[0]}(an);if(so(dn,It),dn.parent.m=-dn.z,Hi(dn,Mt),Qe)Hi(an,ar);else{var Or=an,Ur=an,Jr=an;Hi(an,function(Gn){Gn.x<Or.x&&(Or=Gn),Gn.x>Ur.x&&(Ur=Gn),Gn.depth>Jr.depth&&(Jr=Gn)});var pn=me(Or,Ur)/2-Or.x,yn=Oe[0]/(Ur.x+me(Ur,Or)/2+pn),en=Oe[1]/(Jr.depth||1);Hi(an,function(Gn){Gn.x=(Gn.x+pn)*yn,Gn.y=Gn.depth*en})}return Ir}function It(ur){var Fr=ur.children,Ir=ur.parent.children,an=ur.i?Ir[ur.i-1]:null;if(Fr.length){!function df(oe){for(var ot,me=0,Oe=0,Qe=oe.children,qe=Qe.length;--qe>=0;)(ot=Qe[qe]).z+=me,ot.m+=me,me+=ot.s+(Oe+=ot.c)}(ur);var dn=(Fr[0].z+Fr[Fr.length-1].z)/2;an?(ur.z=an.z+me(ur._,an._),ur.m=ur.z-dn):ur.z=dn}else an&&(ur.z=an.z+me(ur._,an._));ur.parent.A=function Zt(ur,Fr,Ir){if(Fr){for(var Gn,an=ur,dn=ur,Or=Fr,Ur=an.parent.children[0],Jr=an.m,pn=dn.m,yn=Or.m,en=Ur.m;Or=Lu(Or),an=Il(an),Or&&an;)Ur=Il(Ur),(dn=Lu(dn)).a=ur,(Gn=Or.z+yn-an.z-Jr+me(Or._,an._))>0&&(vf(Yu(Or,ur,Ir),ur,Gn),Jr+=Gn,pn+=Gn),yn+=Or.m,Jr+=an.m,en+=Ur.m,pn+=dn.m;Or&&!Lu(dn)&&(dn.t=Or,dn.m+=yn-pn),an&&!Il(Ur)&&(Ur.t=an,Ur.m+=Jr-en,Ir=ur)}return Ir}(ur,an,ur.parent.A||Ir[0])}function Mt(ur){ur._.x=ur.z+ur.parent.m,ur.m+=ur.parent.m}function ar(ur){ur.x*=Oe[0],ur.y=ur.depth*Oe[1]}return qe.separation=function(ur){return arguments.length?(me=ur,qe):me},qe.size=function(ur){return arguments.length?(Qe=null==(Oe=ur)?ar:null,qe):Qe?null:Oe},qe.nodeSize=function(ur){return arguments.length?(Qe=null==(Oe=ur)?null:ar,qe):Qe?Oe:null},li(qe,oe)},o.layout.cluster=function(){var oe=o.layout.hierarchy().sort(null).value(null),me=hu,Oe=[1,1],Qe=!1;function qe(ot,It){var ar,Mt=oe.call(this,ot,It),Zt=Mt[0],ur=0;so(Zt,function(Or){var Ur=Or.children;Ur&&Ur.length?(Or.x=function Xu(oe){return oe.reduce(function(me,Oe){return me+Oe.x},0)/oe.length}(Ur),Or.y=function Zu(oe){return 1+o.max(oe,function(me){return me.y})}(Ur)):(Or.x=ar?ur+=me(Or,ar):0,Or.y=0,ar=Or)});var Fr=vu(Zt),Ir=Io(Zt),an=Fr.x-me(Fr,Ir)/2,dn=Ir.x+me(Ir,Fr)/2;return so(Zt,Qe?function(Or){Or.x=(Or.x-Zt.x)*Oe[0],Or.y=(Zt.y-Or.y)*Oe[1]}:function(Or){Or.x=(Or.x-an)/(dn-an)*Oe[0],Or.y=(1-(Zt.y?Or.y/Zt.y:1))*Oe[1]}),Mt}return qe.separation=function(ot){return arguments.length?(me=ot,qe):me},qe.size=function(ot){return arguments.length?(Qe=null==(Oe=ot),qe):Qe?null:Oe},qe.nodeSize=function(ot){return arguments.length?(Qe=null!=(Oe=ot),qe):Qe?Oe:null},li(qe,oe)},o.layout.treemap=function(){var It,oe=o.layout.hierarchy(),me=Math.round,Oe=[1,1],Qe=null,qe=cs,ot=!1,Mt="squarify",Zt=.5*(1+Math.sqrt(5));function ar(Or,Ur){for(var yn,en,Jr=-1,pn=Or.length;++Jr<pn;)en=(yn=Or[Jr]).value*(Ur<0?0:Ur),yn.area=isNaN(en)||en<=0?0:en}function ur(Or){var Ur=Or.children;if(Ur&&Ur.length){var en,ca,da,Jr=qe(Or),pn=[],yn=Ur.slice(),Gn=1/0,ma="slice"===Mt?Jr.dx:"dice"===Mt?Jr.dy:"slice-dice"===Mt?1&Or.depth?Jr.dy:Jr.dx:Math.min(Jr.dx,Jr.dy);for(ar(yn,Jr.dx*Jr.dy/Or.value),pn.area=0;(da=yn.length)>0;)pn.push(en=yn[da-1]),pn.area+=en.area,"squarify"!==Mt||(ca=Ir(pn,ma))<=Gn?(yn.pop(),Gn=ca):(pn.area-=pn.pop().area,an(pn,ma,Jr,!1),ma=Math.min(Jr.dx,Jr.dy),pn.length=pn.area=0,Gn=1/0);pn.length&&(an(pn,ma,Jr,!0),pn.length=pn.area=0),Ur.forEach(ur)}}function Fr(Or){var Ur=Or.children;if(Ur&&Ur.length){var yn,Jr=qe(Or),pn=Ur.slice(),en=[];for(ar(pn,Jr.dx*Jr.dy/Or.value),en.area=0;yn=pn.pop();)en.push(yn),en.area+=yn.area,null!=yn.z&&(an(en,yn.z?Jr.dx:Jr.dy,Jr,!pn.length),en.length=en.area=0);Ur.forEach(Fr)}}function Ir(Or,Ur){for(var pn,Jr=Or.area,yn=0,en=1/0,Gn=-1,ca=Or.length;++Gn<ca;)(pn=Or[Gn].area)&&(pn<en&&(en=pn),pn>yn&&(yn=pn));return Ur*=Ur,(Jr*=Jr)?Math.max(Ur*yn*Zt/Jr,Jr/(Ur*en*Zt)):1/0}function an(Or,Ur,Jr,pn){var da,yn=-1,en=Or.length,Gn=Jr.x,ca=Jr.y,ma=Ur?me(Or.area/Ur):0;if(Ur==Jr.dx){for((pn||ma>Jr.dy)&&(ma=Jr.dy);++yn<en;)(da=Or[yn]).x=Gn,da.y=ca,da.dy=ma,Gn+=da.dx=Math.min(Jr.x+Jr.dx-Gn,ma?me(da.area/ma):0);da.z=!0,da.dx+=Jr.x+Jr.dx-Gn,Jr.y+=ma,Jr.dy-=ma}else{for((pn||ma>Jr.dx)&&(ma=Jr.dx);++yn<en;)(da=Or[yn]).x=Gn,da.y=ca,da.dx=ma,ca+=da.dy=Math.min(Jr.y+Jr.dy-ca,ma?me(da.area/ma):0);da.z=!1,da.dy+=Jr.y+Jr.dy-ca,Jr.x+=ma,Jr.dx-=ma}}function dn(Or){var Ur=It||oe(Or),Jr=Ur[0];return Jr.x=Jr.y=0,Jr.value?(Jr.dx=Oe[0],Jr.dy=Oe[1]):Jr.dx=Jr.dy=0,It&&oe.revalue(Jr),ar([Jr],Jr.dx*Jr.dy/Jr.value),(It?Fr:ur)(Jr),ot&&(It=Ur),Ur}return dn.size=function(Or){return arguments.length?(Oe=Or,dn):Oe},dn.padding=function(Or){return arguments.length?(qe=null==(Qe=Or)?cs:"function"==(pn=typeof Or)?function Ur(yn){var en=Or.call(dn,yn,yn.depth);return null==en?cs(yn):il(yn,"number"==typeof en?[en,en,en,en]:en)}:("number"===pn&&(Or=[Or,Or,Or,Or]),function Jr(yn){return il(yn,Or)}),dn):Qe;var pn},dn.round=function(Or){return arguments.length?(me=Or?Math.round:Number,dn):me!=Number},dn.sticky=function(Or){return arguments.length?(ot=Or,It=null,dn):ot},dn.ratio=function(Or){return arguments.length?(Zt=Or,dn):Zt},dn.mode=function(Or){return arguments.length?(Mt=Or+"",dn):Mt},li(dn,oe)},o.random={normal:function(oe,me){var Oe=arguments.length;return Oe<2&&(me=1),Oe<1&&(oe=0),function(){var Qe,qe,ot;do{ot=(Qe=2*Math.random()-1)*Qe+(qe=2*Math.random()-1)*qe}while(!ot||ot>1);return oe+me*Qe*Math.sqrt(-2*Math.log(ot)/ot)}},logNormal:function(){var oe=o.random.normal.apply(o,arguments);return function(){return Math.exp(oe())}},bates:function(oe){var me=o.random.irwinHall(oe);return function(){return me()/oe}},irwinHall:function(oe){return function(){for(var me=0,Oe=0;Oe<oe;Oe++)me+=Math.random();return me}}},o.scale={};var pf={floor:z,ceil:z};function ol(oe,me,Oe,Qe){var qe=[],ot=[],It=0,Mt=Math.min(oe.length,me.length)-1;for(oe[Mt]<oe[0]&&(oe=oe.slice().reverse(),me=me.slice().reverse());++It<=Mt;)qe.push(Oe(oe[It-1],oe[It])),ot.push(Qe(me[It-1],me[It]));return function(Zt){var ar=o.bisect(oe,Zt,1,Mt)-1;return ot[ar](qe[ar](Zt))}}function sl(oe,me,Oe,Qe){var qe,ot;function It(){var Zt=Math.min(oe.length,me.length)>2?ol:Pu,ar=Qe?Ei:go;return qe=Zt(oe,me,ar,Oe),ot=Zt(me,oe,ar,io),Mt}function Mt(Zt){return qe(Zt)}return Mt.invert=function(Zt){return ot(Zt)},Mt.domain=function(Zt){return arguments.length?(oe=Zt.map(Number),It()):oe},Mt.range=function(Zt){return arguments.length?(me=Zt,It()):me},Mt.rangeRound=function(Zt){return Mt.range(Zt).interpolate(Ba)},Mt.clamp=function(Zt){return arguments.length?(Qe=Zt,It()):Qe},Mt.interpolate=function(Zt){return arguments.length?(Oe=Zt,It()):Oe},Mt.ticks=function(Zt){return wl(oe,Zt)},Mt.tickFormat=function(Zt,ar){return d3_scale_linearTickFormat(oe,Zt,ar)},Mt.nice=function(Zt){return Xl(oe,Zt),It()},Mt.copy=function(){return sl(oe,me,Oe,Qe)},It()}function Do(oe,me){return o.rebind(oe,me,"range","rangeRound","interpolate","clamp")}function Xl(oe,me){return Du(oe,Ru(du(oe,me)[2])),Du(oe,Ru(du(oe,me)[2])),oe}function du(oe,me){null==me&&(me=10);var Oe=Zl(oe),Qe=Oe[1]-Oe[0],qe=Math.pow(10,Math.floor(Math.log(Qe/me)/Math.LN10)),ot=me/Qe*qe;return ot<=.15?qe*=10:ot<=.35?qe*=5:ot<=.75&&(qe*=2),Oe[0]=Math.ceil(Oe[0]/qe)*qe,Oe[1]=Math.floor(Oe[1]/qe)*qe+.5*qe,Oe[2]=qe,Oe}function wl(oe,me){return o.range.apply(o,du(oe,me))}function Ys(oe,me,Oe,Qe){function qe(Mt){return(Oe?Math.log(Mt<0?0:Mt):-Math.log(Mt>0?0:-Mt))/Math.log(me)}function ot(Mt){return Oe?Math.pow(me,Mt):-Math.pow(me,-Mt)}function It(Mt){return oe(qe(Mt))}return It.invert=function(Mt){return ot(oe.invert(Mt))},It.domain=function(Mt){return arguments.length?(Oe=Mt[0]>=0,oe.domain((Qe=Mt.map(Number)).map(qe)),It):Qe},It.base=function(Mt){return arguments.length?(me=+Mt,oe.domain(Qe.map(qe)),It):me},It.nice=function(){var Mt=Du(Qe.map(qe),Oe?Math:Zs);return oe.domain(Mt),Qe=Mt.map(ot),It},It.ticks=function(){var Mt=Zl(Qe),Zt=[],ar=Mt[0],ur=Mt[1],Fr=Math.floor(qe(ar)),Ir=Math.ceil(qe(ur)),an=me%1?2:me;if(isFinite(Ir-Fr)){if(Oe){for(;Fr<Ir;Fr++)for(var dn=1;dn<an;dn++)Zt.push(ot(Fr)*dn);Zt.push(ot(Fr))}else for(Zt.push(ot(Fr));Fr++<Ir;)for(dn=an-1;dn>0;dn--)Zt.push(ot(Fr)*dn);for(Fr=0;Zt[Fr]<ar;Fr++);for(Ir=Zt.length;Zt[Ir-1]>ur;Ir--);Zt=Zt.slice(Fr,Ir)}return Zt},It.copy=function(){return Ys(oe.copy(),me,Oe,Qe)},Do(It,oe)}o.scale.linear=function(){return sl([0,1],[0,1],io,!1)},o.scale.log=function(){return Ys(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Zs={floor:function(oe){return-Math.ceil(-oe)},ceil:function(oe){return-Math.floor(-oe)}};function Kl(oe,me,Oe){var Qe=Tl(me),qe=Tl(1/me);function ot(It){return oe(Qe(It))}return ot.invert=function(It){return qe(oe.invert(It))},ot.domain=function(It){return arguments.length?(oe.domain((Oe=It.map(Number)).map(Qe)),ot):Oe},ot.ticks=function(It){return wl(Oe,It)},ot.tickFormat=function(It,Mt){return d3_scale_linearTickFormat(Oe,It,Mt)},ot.nice=function(It){return ot.domain(Xl(Oe,It))},ot.exponent=function(It){return arguments.length?(Qe=Tl(me=It),qe=Tl(1/me),oe.domain(Oe.map(Qe)),ot):me},ot.copy=function(){return Kl(oe.copy(),me,Oe)},Do(ot,oe)}function Tl(oe){return function(me){return me<0?-Math.pow(-me,oe):Math.pow(me,oe)}}function Oi(oe,me){var Oe,Qe,qe;function ot(Mt){return Qe[((Oe.get(Mt)||("range"===me.t?Oe.set(Mt,oe.push(Mt)):NaN))-1)%Qe.length]}function It(Mt,Zt){return o.range(oe.length).map(function(ar){return Mt+Zt*ar})}return ot.domain=function(Mt){if(!arguments.length)return oe;oe=[],Oe=new E;for(var ur,Zt=-1,ar=Mt.length;++Zt<ar;)Oe.has(ur=Mt[Zt])||Oe.set(ur,oe.push(ur));return ot[me.t].apply(ot,me.a)},ot.range=function(Mt){return arguments.length?(Qe=Mt,qe=0,me={t:"range",a:arguments},ot):Qe},ot.rangePoints=function(Mt,Zt){arguments.length<2&&(Zt=0);var ar=Mt[0],ur=Mt[1],Fr=oe.length<2?(ar=(ar+ur)/2,0):(ur-ar)/(oe.length-1+Zt);return Qe=It(ar+Fr*Zt/2,Fr),qe=0,me={t:"rangePoints",a:arguments},ot},ot.rangeRoundPoints=function(Mt,Zt){arguments.length<2&&(Zt=0);var ar=Mt[0],ur=Mt[1],Fr=oe.length<2?(ar=ur=Math.round((ar+ur)/2),0):(ur-ar)/(oe.length-1+Zt)|0;return Qe=It(ar+Math.round(Fr*Zt/2+(ur-ar-(oe.length-1+Zt)*Fr)/2),Fr),qe=0,me={t:"rangeRoundPoints",a:arguments},ot},ot.rangeBands=function(Mt,Zt,ar){arguments.length<2&&(Zt=0),arguments.length<3&&(ar=Zt);var ur=Mt[1]<Mt[0],Fr=Mt[ur-0],an=(Mt[1-ur]-Fr)/(oe.length-Zt+2*ar);return Qe=It(Fr+an*ar,an),ur&&Qe.reverse(),qe=an*(1-Zt),me={t:"rangeBands",a:arguments},ot},ot.rangeRoundBands=function(Mt,Zt,ar){arguments.length<2&&(Zt=0),arguments.length<3&&(ar=Zt);var ur=Mt[1]<Mt[0],Fr=Mt[ur-0],Ir=Mt[1-ur],an=Math.floor((Ir-Fr)/(oe.length-Zt+2*ar));return Qe=It(Fr+Math.round((Ir-Fr-(oe.length-Zt)*an)/2),an),ur&&Qe.reverse(),qe=Math.round(an*(1-Zt)),me={t:"rangeRoundBands",a:arguments},ot},ot.rangeBand=function(){return qe},ot.rangeExtent=function(){return Zl(me.a[0])},ot.copy=function(){return Oi(oe,me)},ot.domain(oe)}o.scale.pow=function(){return Kl(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return Oi([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Fl)},o.scale.category20=function(){return o.scale.ordinal().range(_u)},o.scale.category20b=function(){return o.scale.ordinal().range(pu)},o.scale.category20c=function(){return o.scale.ordinal().range(Al)};var Fl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(wr),_u=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(wr),pu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(wr),Al=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(wr);function Ku(oe,me){var Oe;function Qe(){var ot=0,It=me.length;for(Oe=[];++ot<It;)Oe[ot-1]=o.quantile(oe,ot/It);return qe}function qe(ot){if(!isNaN(ot=+ot))return me[o.bisect(Oe,ot)]}return qe.domain=function(ot){return arguments.length?(oe=ot.map(m).filter(a).sort(c),Qe()):oe},qe.range=function(ot){return arguments.length?(me=ot,Qe()):me},qe.quantiles=function(){return Oe},qe.invertExtent=function(ot){return(ot=me.indexOf(ot))<0?[NaN,NaN]:[ot>0?Oe[ot-1]:oe[0],ot<Oe.length?Oe[ot]:oe[oe.length-1]]},qe.copy=function(){return Ku(oe,me)},Qe()}function Iu(oe,me,Oe){var Qe,qe;function ot(Mt){return Oe[Math.max(0,Math.min(qe,Math.floor(Qe*(Mt-oe))))]}function It(){return Qe=Oe.length/(me-oe),qe=Oe.length-1,ot}return ot.domain=function(Mt){return arguments.length?(oe=+Mt[0],me=+Mt[Mt.length-1],It()):[oe,me]},ot.range=function(Mt){return arguments.length?(Oe=Mt,It()):Oe},ot.invertExtent=function(Mt){return[Mt=(Mt=Oe.indexOf(Mt))<0?NaN:Mt/Qe+oe,Mt+1/Qe]},ot.copy=function(){return Iu(oe,me,Oe)},It()}function Jl(oe,me){function Oe(Qe){if(Qe<=Qe)return me[o.bisect(oe,Qe)]}return Oe.domain=function(Qe){return arguments.length?(oe=Qe,Oe):oe},Oe.range=function(Qe){return arguments.length?(me=Qe,Oe):me},Oe.invertExtent=function(Qe){return Qe=me.indexOf(Qe),[oe[Qe-1],oe[Qe]]},Oe.copy=function(){return Jl(oe,me)},Oe}function gu(oe){function me(Oe){return+Oe}return me.invert=me,me.domain=me.range=function(Oe){return arguments.length?(oe=Oe.map(me),me):oe},me.ticks=function(Oe){return wl(oe,Oe)},me.tickFormat=function(Oe,Qe){return d3_scale_linearTickFormat(oe,Oe,Qe)},me.copy=function(){return gu(oe)},me}function Ju(){return 0}o.scale.quantile=function(){return Ku([],[])},o.scale.quantize=function(){return Iu(0,1,[0,1])},o.scale.threshold=function(){return Jl([.5],[0,1])},o.scale.identity=function(){return gu([0,1])},o.svg={},o.svg.arc=function(){var oe=Ql,me=$l,Oe=Ju,Qe=Xs,qe=js,ot=bs,It=ql;function Mt(){var ar=Math.max(0,+oe.apply(this,arguments)),ur=Math.max(0,+me.apply(this,arguments)),Fr=qe.apply(this,arguments)-Xe,Ir=ot.apply(this,arguments)-Xe,an=Math.abs(Ir-Fr),dn=Fr>Ir?0:1;if(ur<ar&&(Or=ur,ur=ar,ar=Or),an>=Fe)return Zt(ur,dn)+(ar?Zt(ar,1-dn):"")+"Z";var Or,Ur,Jr,pn,Gn,ca,ma,da,pa,_a,Ca,La,yn=0,en=0,Va=[];if((pn=(+It.apply(this,arguments)||0)/2)&&(Jr=Qe===Xs?Math.sqrt(ar*ar+ur*ur):+Qe.apply(this,arguments),dn||(en*=-1),ur&&(en=zt(Jr/ur*Math.sin(pn))),ar&&(yn=zt(Jr/ar*Math.sin(pn)))),ur){Gn=ur*Math.cos(Fr+en),ca=ur*Math.sin(Fr+en),ma=ur*Math.cos(Ir-en),da=ur*Math.sin(Ir-en);var fi=Math.abs(Ir-Fr-2*en)<=fe?0:1;if(en&&ul(Gn,ca,ma,da)===dn^fi){var po=(Fr+Ir)/2;Gn=ur*Math.cos(po),ca=ur*Math.sin(po),ma=da=null}}else Gn=ca=0;if(ar){pa=ar*Math.cos(Ir-yn),_a=ar*Math.sin(Ir-yn),Ca=ar*Math.cos(Fr+yn),La=ar*Math.sin(Fr+yn);var wi=Math.abs(Fr-Ir+2*yn)<=fe?0:1;if(yn&&ul(pa,_a,Ca,La)===1-dn^wi){var sa=(Fr+Ir)/2;pa=ar*Math.cos(sa),_a=ar*Math.sin(sa),Ca=La=null}}else pa=_a=0;if(an>_e&&(Or=Math.min(Math.abs(ur-ar)/2,+Oe.apply(this,arguments)))>.001){Ur=ar<ur^dn?0:1;var Ya=Or,Ga=Or;if(an<fe){var ia=null==Ca?[pa,_a]:null==ma?[Gn,ca]:Ln([Gn,ca],[Ca,La],[ma,da],[pa,_a]),wa=Gn-ia[0],Gi=ca-ia[1],lo=ma-ia[0],bo=da-ia[1],Bi=1/Math.sin(Math.acos((wa*lo+Gi*bo)/(Math.sqrt(wa*wa+Gi*Gi)*Math.sqrt(lo*lo+bo*bo)))/2),So=Math.sqrt(ia[0]*ia[0]+ia[1]*ia[1]);Ga=Math.min(Or,(ar-So)/(Bi-1)),Ya=Math.min(Or,(ur-So)/(Bi+1))}if(null!=ma){var Mo=eu(null==Ca?[pa,_a]:[Ca,La],[Gn,ca],ur,Ya,dn),zo=eu([ma,da],[pa,_a],ur,Ya,dn);Or===Ya?Va.push("M",Mo[0],"A",Ya,",",Ya," 0 0,",Ur," ",Mo[1],"A",ur,",",ur," 0 ",1-dn^ul(Mo[1][0],Mo[1][1],zo[1][0],zo[1][1]),",",dn," ",zo[1],"A",Ya,",",Ya," 0 0,",Ur," ",zo[0]):Va.push("M",Mo[0],"A",Ya,",",Ya," 0 1,",Ur," ",zo[0])}else Va.push("M",Gn,",",ca);if(null!=Ca){var Ii=eu([Gn,ca],[Ca,La],ar,-Ga,dn),au=eu([pa,_a],null==ma?[Gn,ca]:[ma,da],ar,-Ga,dn);Or===Ga?Va.push("L",au[0],"A",Ga,",",Ga," 0 0,",Ur," ",au[1],"A",ar,",",ar," 0 ",dn^ul(au[1][0],au[1][1],Ii[1][0],Ii[1][1]),",",1-dn," ",Ii[1],"A",Ga,",",Ga," 0 0,",Ur," ",Ii[0]):Va.push("L",au[0],"A",Ga,",",Ga," 0 0,",Ur," ",Ii[0])}else Va.push("L",pa,",",_a)}else Va.push("M",Gn,",",ca),null!=ma&&Va.push("A",ur,",",ur," 0 ",fi,",",dn," ",ma,",",da),Va.push("L",pa,",",_a),null!=Ca&&Va.push("A",ar,",",ar," 0 ",wi,",",1-dn," ",Ca,",",La);return Va.push("Z"),Va.join("")}function Zt(ar,ur){return"M0,"+ar+"A"+ar+","+ar+" 0 1,"+ur+" 0,"+-ar+"A"+ar+","+ar+" 0 1,"+ur+" 0,"+ar}return Mt.innerRadius=function(ar){return arguments.length?(oe=xr(ar),Mt):oe},Mt.outerRadius=function(ar){return arguments.length?(me=xr(ar),Mt):me},Mt.cornerRadius=function(ar){return arguments.length?(Oe=xr(ar),Mt):Oe},Mt.padRadius=function(ar){return arguments.length?(Qe=ar==Xs?Xs:xr(ar),Mt):Qe},Mt.startAngle=function(ar){return arguments.length?(qe=xr(ar),Mt):qe},Mt.endAngle=function(ar){return arguments.length?(ot=xr(ar),Mt):ot},Mt.padAngle=function(ar){return arguments.length?(It=xr(ar),Mt):It},Mt.centroid=function(){var ar=(+oe.apply(this,arguments)+ +me.apply(this,arguments))/2,ur=(+qe.apply(this,arguments)+ +ot.apply(this,arguments))/2-Xe;return[Math.cos(ur)*ar,Math.sin(ur)*ar]},Mt};var Xs="auto";function Ql(oe){return oe.innerRadius}function $l(oe){return oe.outerRadius}function js(oe){return oe.startAngle}function bs(oe){return oe.endAngle}function ql(oe){return oe&&oe.padAngle}function ul(oe,me,Oe,Qe){return(oe-Oe)*me-(me-Qe)*oe>0?0:1}function eu(oe,me,Oe,Qe,qe){var ot=oe[0]-me[0],It=oe[1]-me[1],Mt=(qe?Qe:-Qe)/Math.sqrt(ot*ot+It*It),Zt=Mt*It,ar=-Mt*ot,ur=oe[0]+Zt,Fr=oe[1]+ar,Ir=me[0]+Zt,an=me[1]+ar,dn=(ur+Ir)/2,Or=(Fr+an)/2,Ur=Ir-ur,Jr=an-Fr,pn=Ur*Ur+Jr*Jr,yn=Oe-Qe,en=ur*an-Ir*Fr,Gn=(Jr<0?-1:1)*Math.sqrt(Math.max(0,yn*yn*pn-en*en)),ca=(en*Jr-Ur*Gn)/pn,ma=(-en*Ur-Jr*Gn)/pn,da=(en*Jr+Ur*Gn)/pn,pa=(-en*Ur+Jr*Gn)/pn,_a=ca-dn,Ca=ma-Or,La=da-dn,Va=pa-Or;return _a*_a+Ca*Ca>La*La+Va*Va&&(ca=da,ma=pa),[[ca-Zt,ma-ar],[ca*Oe/yn,ma*Oe/yn]]}function zl(){return!0}function Qu(oe){var me=Sr,Oe=un,Qe=zl,qe=xo,ot=qe.key,It=.7;function Mt(Zt){var an,ar=[],ur=[],Fr=-1,Ir=Zt.length,dn=xr(me),Or=xr(Oe);function Ur(){ar.push("M",qe(oe(ur),It))}for(;++Fr<Ir;)Qe.call(this,an=Zt[Fr],Fr)?ur.push([+dn.call(this,an,Fr),+Or.call(this,an,Fr)]):ur.length&&(Ur(),ur=[]);return ur.length&&Ur(),ar.length?ar.join(""):null}return Mt.x=function(Zt){return arguments.length?(me=Zt,Mt):me},Mt.y=function(Zt){return arguments.length?(Oe=Zt,Mt):Oe},Mt.defined=function(Zt){return arguments.length?(Qe=Zt,Mt):Qe},Mt.interpolate=function(Zt){return arguments.length?(ot="function"==typeof Zt?qe=Zt:(qe=yu.get(Zt)||xo).key,Mt):ot},Mt.tension=function(Zt){return arguments.length?(It=Zt,Mt):It},Mt}o.svg.line=function(){return Qu(z)};var yu=o.map({linear:xo,"linear-closed":ku,step:function mu(oe){for(var me=0,Oe=oe.length,Qe=oe[0],qe=[Qe[0],",",Qe[1]];++me<Oe;)qe.push("H",(Qe[0]+(Qe=oe[me])[0])/2,"V",Qe[1]);return Oe>1&&qe.push("H",Qe[0]),qe.join("")},"step-before":Ml,"step-after":fl,basis:ru,"basis-open":function $u(oe){if(oe.length<4)return xo(oe);for(var qe,me=[],Oe=-1,Qe=oe.length,ot=[0],It=[0];++Oe<3;)ot.push((qe=oe[Oe])[0]),It.push(qe[1]);for(me.push(qo(Is,ot)+","+qo(Is,It)),--Oe;++Oe<Qe;)qe=oe[Oe],ot.shift(),ot.push(qe[0]),It.shift(),It.push(qe[1]),Nl(me,ot,It);return me.join("")},"basis-closed":function zu(oe){for(var me,ot,Oe=-1,Qe=oe.length,qe=Qe+4,It=[],Mt=[];++Oe<4;)It.push((ot=oe[Oe%Qe])[0]),Mt.push(ot[1]);for(me=[qo(Is,It),",",qo(Is,Mt)],--Oe;++Oe<qe;)ot=oe[Oe%Qe],It.shift(),It.push(ot[0]),Mt.shift(),Mt.push(ot[1]),Nl(me,It,Mt);return me.join("")},bundle:function Sl(oe,me){var Oe=oe.length-1;if(Oe)for(var Zt,ar,Qe=oe[0][0],qe=oe[0][1],ot=oe[Oe][0]-Qe,It=oe[Oe][1]-qe,Mt=-1;++Mt<=Oe;)(Zt=oe[Mt])[0]=me*Zt[0]+(1-me)*(Qe+(ar=Mt/Oe)*ot),Zt[1]=me*Zt[1]+(1-me)*(qe+ar*It);return ru(oe)},cardinal:function Ol(oe,me){return oe.length<3?xo(oe):oe[0]+Bl(oe,tu(oe,me))},"cardinal-open":function Fu(oe,me){return oe.length<4?xo(oe):oe[1]+Bl(oe.slice(1,-1),tu(oe,me))},"cardinal-closed":function gf(oe,me){return oe.length<3?ku(oe):oe[0]+Bl((oe.push(oe[0]),oe),tu([oe[oe.length-2]].concat(oe,[oe[1]]),me))},monotone:function ef(oe){return oe.length<3?xo(oe):oe[0]+Bl(oe,function bu(oe){for(var Oe,Qe,qe,ot,me=[],It=function qu(oe){for(var me=0,Oe=oe.length-1,Qe=[],qe=oe[0],ot=oe[1],It=Qe[0]=El(qe,ot);++me<Oe;)Qe[me]=(It+(It=El(qe=ot,ot=oe[me+1])))/2;return Qe[me]=It,Qe}(oe),Mt=-1,Zt=oe.length-1;++Mt<Zt;)Oe=El(oe[Mt],oe[Mt+1]),v(Oe)<_e?It[Mt]=It[Mt+1]=0:(ot=(Qe=It[Mt]/Oe)*Qe+(qe=It[Mt+1]/Oe)*qe)>9&&(ot=3*Oe/Math.sqrt(ot),It[Mt]=ot*Qe,It[Mt+1]=ot*qe);for(Mt=-1;++Mt<=Zt;)ot=(oe[Math.min(Zt,Mt+1)][0]-oe[Math.max(0,Mt-1)][0])/(6*(1+It[Mt]*It[Mt])),me.push([ot||0,It[Mt]*ot||0]);return me}(oe))}});function xo(oe){return oe.length>1?oe.join("L"):oe+"Z"}function ku(oe){return oe.join("L")+"Z"}function Ml(oe){for(var me=0,Oe=oe.length,Qe=oe[0],qe=[Qe[0],",",Qe[1]];++me<Oe;)qe.push("V",(Qe=oe[me])[1],"H",Qe[0]);return qe.join("")}function fl(oe){for(var me=0,Oe=oe.length,Qe=oe[0],qe=[Qe[0],",",Qe[1]];++me<Oe;)qe.push("H",(Qe=oe[me])[0],"V",Qe[1]);return qe.join("")}function Bl(oe,me){if(me.length<1||oe.length!=me.length&&oe.length!=me.length+2)return xo(oe);var Oe=oe.length!=me.length,Qe="",qe=oe[0],ot=oe[1],It=me[0],Mt=It,Zt=1;if(Oe&&(Qe+="Q"+(ot[0]-2*It[0]/3)+","+(ot[1]-2*It[1]/3)+","+ot[0]+","+ot[1],qe=oe[1],Zt=2),me.length>1){ot=oe[Zt],Zt++,Qe+="C"+(qe[0]+It[0])+","+(qe[1]+It[1])+","+(ot[0]-(Mt=me[1])[0])+","+(ot[1]-Mt[1])+","+ot[0]+","+ot[1];for(var ar=2;ar<me.length;ar++,Zt++)Qe+="S"+((ot=oe[Zt])[0]-(Mt=me[ar])[0])+","+(ot[1]-Mt[1])+","+ot[0]+","+ot[1]}if(Oe){var ur=oe[Zt];Qe+="Q"+(ot[0]+2*Mt[0]/3)+","+(ot[1]+2*Mt[1]/3)+","+ur[0]+","+ur[1]}return Qe}function tu(oe,me){for(var qe,Oe=[],Qe=(1-me)/2,ot=oe[0],It=oe[1],Mt=1,Zt=oe.length;++Mt<Zt;)qe=ot,ot=It,Oe.push([Qe*((It=oe[Mt])[0]-qe[0]),Qe*(It[1]-qe[1])]);return Oe}function ru(oe){if(oe.length<3)return xo(oe);var me=1,Oe=oe.length,Qe=oe[0],qe=Qe[0],ot=Qe[1],It=[qe,qe,qe,(Qe=oe[1])[0]],Mt=[ot,ot,ot,Qe[1]],Zt=[qe,",",ot,"L",qo(Is,It),",",qo(Is,Mt)];for(oe.push(oe[Oe-1]);++me<=Oe;)Qe=oe[me],It.shift(),It.push(Qe[0]),Mt.shift(),Mt.push(Qe[1]),Nl(Zt,It,Mt);return oe.pop(),Zt.push("L",Qe),Zt.join("")}function qo(oe,me){return oe[0]*me[0]+oe[1]*me[1]+oe[2]*me[2]+oe[3]*me[3]}yu.forEach(function(oe,me){me.key=oe,me.closed=/-closed$/.test(oe)});var Ou=[0,2/3,1/3,0],xu=[0,1/3,2/3,0],Is=[0,1/6,2/3,1/6];function Nl(oe,me,Oe){oe.push("C",qo(Ou,me),",",qo(Ou,Oe),",",qo(xu,me),",",qo(xu,Oe),",",qo(Is,me),",",qo(Is,Oe))}function El(oe,me){return(me[1]-oe[1])/(me[0]-oe[0])}function nu(oe){for(var me,qe,ot,Oe=-1,Qe=oe.length;++Oe<Qe;)ot=(me=oe[Oe])[1]-Xe,me[0]=(qe=me[0])*Math.cos(ot),me[1]=qe*Math.sin(ot);return oe}function Bu(oe){var me=Sr,Oe=Sr,Qe=0,qe=un,ot=zl,It=xo,Mt=It.key,Zt=It,ar="L",ur=.7;function Fr(Ir){var pn,ma,da,an=[],dn=[],Or=[],Ur=-1,Jr=Ir.length,yn=xr(me),en=xr(Qe),Gn=me===Oe?function(){return ma}:xr(Oe),ca=Qe===qe?function(){return da}:xr(qe);function pa(){an.push("M",It(oe(Or),ur),ar,Zt(oe(dn.reverse()),ur),"Z")}for(;++Ur<Jr;)ot.call(this,pn=Ir[Ur],Ur)?(dn.push([ma=+yn.call(this,pn,Ur),da=+en.call(this,pn,Ur)]),Or.push([+Gn.call(this,pn,Ur),+ca.call(this,pn,Ur)])):dn.length&&(pa(),dn=[],Or=[]);return dn.length&&pa(),an.length?an.join(""):null}return Fr.x=function(Ir){return arguments.length?(me=Oe=Ir,Fr):Oe},Fr.x0=function(Ir){return arguments.length?(me=Ir,Fr):me},Fr.x1=function(Ir){return arguments.length?(Oe=Ir,Fr):Oe},Fr.y=function(Ir){return arguments.length?(Qe=qe=Ir,Fr):qe},Fr.y0=function(Ir){return arguments.length?(Qe=Ir,Fr):Qe},Fr.y1=function(Ir){return arguments.length?(qe=Ir,Fr):qe},Fr.defined=function(Ir){return arguments.length?(ot=Ir,Fr):ot},Fr.interpolate=function(Ir){return arguments.length?(Mt="function"==typeof Ir?It=Ir:(It=yu.get(Ir)||xo).key,Zt=It.reverse||It,ar=It.closed?"M":"L",Fr):Mt},Fr.tension=function(Ir){return arguments.length?(ur=Ir,Fr):ur},Fr}function je(oe){return oe.source}function et(oe){return oe.target}function vt(oe){return oe.radius}function yt(oe){return[oe.x,oe.y]}function Dt(){return 64}function Gt(){return"circle"}function mr(oe){var me=Math.sqrt(oe/fe);return"M0,"+me+"A"+me+","+me+" 0 1,1 0,"+-me+"A"+me+","+me+" 0 1,1 0,"+me+"Z"}o.svg.line.radial=function(){var oe=Qu(nu);return oe.radius=oe.x,delete oe.x,oe.angle=oe.y,delete oe.y,oe},Ml.reverse=fl,fl.reverse=Ml,o.svg.area=function(){return Bu(z)},o.svg.area.radial=function(){var oe=Bu(nu);return oe.radius=oe.x,delete oe.x,oe.innerRadius=oe.x0,delete oe.x0,oe.outerRadius=oe.x1,delete oe.x1,oe.angle=oe.y,delete oe.y,oe.startAngle=oe.y0,delete oe.y0,oe.endAngle=oe.y1,delete oe.y1,oe},o.svg.chord=function(){var oe=je,me=et,Oe=vt,Qe=js,qe=bs;function ot(ur,Fr){var Ir=It(this,oe,ur,Fr),an=It(this,me,ur,Fr);return"M"+Ir.p0+Zt(Ir.r,Ir.p1,Ir.a1-Ir.a0)+(function Mt(ur,Fr){return ur.a0==Fr.a0&&ur.a1==Fr.a1}(Ir,an)?ar(0,0,0,Ir.p0):ar(0,0,0,an.p0)+Zt(an.r,an.p1,an.a1-an.a0)+ar(0,0,0,Ir.p0))+"Z"}function It(ur,Fr,Ir,an){var dn=Fr.call(ur,Ir,an),Or=Oe.call(ur,dn,an),Ur=Qe.call(ur,dn,an)-Xe,Jr=qe.call(ur,dn,an)-Xe;return{r:Or,a0:Ur,a1:Jr,p0:[Or*Math.cos(Ur),Or*Math.sin(Ur)],p1:[Or*Math.cos(Jr),Or*Math.sin(Jr)]}}function Zt(ur,Fr,Ir){return"A"+ur+","+ur+" 0 "+ +(Ir>fe)+",1 "+Fr}function ar(ur,Fr,Ir,an){return"Q 0,0 "+an}return ot.radius=function(ur){return arguments.length?(Oe=xr(ur),ot):Oe},ot.source=function(ur){return arguments.length?(oe=xr(ur),ot):oe},ot.target=function(ur){return arguments.length?(me=xr(ur),ot):me},ot.startAngle=function(ur){return arguments.length?(Qe=xr(ur),ot):Qe},ot.endAngle=function(ur){return arguments.length?(qe=xr(ur),ot):qe},ot},o.svg.diagonal=function(){var oe=je,me=et,Oe=yt;function Qe(qe,ot){var It=oe.call(this,qe,ot),Mt=me.call(this,qe,ot),Zt=(It.y+Mt.y)/2,ar=[It,{x:It.x,y:Zt},{x:Mt.x,y:Zt},Mt];return"M"+(ar=ar.map(Oe))[0]+"C"+ar[1]+" "+ar[2]+" "+ar[3]}return Qe.source=function(qe){return arguments.length?(oe=xr(qe),Qe):oe},Qe.target=function(qe){return arguments.length?(me=xr(qe),Qe):me},Qe.projection=function(qe){return arguments.length?(Oe=qe,Qe):Oe},Qe},o.svg.diagonal.radial=function(){var oe=o.svg.diagonal(),me=yt,Oe=oe.projection;return oe.projection=function(Qe){return arguments.length?Oe(function kt(oe){return function(){var me=oe.apply(this,arguments),Oe=me[0],Qe=me[1]-Xe;return[Oe*Math.cos(Qe),Oe*Math.sin(Qe)]}}(me=Qe)):me},oe},o.svg.symbol=function(){var oe=Gt,me=Dt;function Oe(Qe,qe){return(Ar.get(oe.call(this,Qe,qe))||mr)(me.call(this,Qe,qe))}return Oe.type=function(Qe){return arguments.length?(oe=xr(Qe),Oe):oe},Oe.size=function(Qe){return arguments.length?(me=xr(Qe),Oe):me},Oe};var Ar=o.map({circle:mr,cross:function(oe){var me=Math.sqrt(oe/5)/2;return"M"+-3*me+","+-me+"H"+-me+"V"+-3*me+"H"+me+"V"+-me+"H"+3*me+"V"+me+"H"+me+"V"+3*me+"H"+-me+"V"+me+"H"+-3*me+"Z"},diamond:function(oe){var me=Math.sqrt(oe/(2*Tr)),Oe=me*Tr;return"M0,"+-me+"L"+Oe+",0 0,"+me+" "+-Oe+",0Z"},square:function(oe){var me=Math.sqrt(oe)/2;return"M"+-me+","+-me+"L"+me+","+-me+" "+me+","+me+" "+-me+","+me+"Z"},"triangle-down":function(oe){var me=Math.sqrt(oe/gr),Oe=me*gr/2;return"M0,"+Oe+"L"+me+","+-Oe+" "+-me+","+-Oe+"Z"},"triangle-up":function(oe){var me=Math.sqrt(oe/gr),Oe=me*gr/2;return"M0,"+-Oe+"L"+me+","+Oe+" "+-me+","+Oe+"Z"}});o.svg.symbolTypes=Ar.keys();var gr=Math.sqrt(3),Tr=Math.tan(30*at);Z.transition=function(oe){for(var qe,ot,me=Wn||++Cn,Oe=Ua(oe),Qe=[],It=fa||{time:Date.now(),ease:el,delay:0,duration:250},Mt=-1,Zt=this.length;++Mt<Zt;){Qe.push(qe=[]);for(var ar=this[Mt],ur=-1,Fr=ar.length;++ur<Fr;)(ot=ar[ur])&&Ka(ot,ur,Oe,me,It),qe.push(ot)}return rn(Qe,Oe,me)},Z.interrupt=function(oe){return this.each(null==oe?Nr:Qr(Ua(oe)))};var Nr=Qr(Ua());function Qr(oe){return function(){var me,Oe,Qe;(me=this[oe])&&(Qe=me[Oe=me.active])&&(Qe.timer.c=null,Qe.timer.t=NaN,--me.count?delete me[Oe]:delete this[oe],me.active+=.5,Qe.event&&Qe.event.interrupt.call(this,this.__data__,Qe.index))}}function rn(oe,me,Oe){return W(oe,on),oe.namespace=me,oe.id=Oe,oe}var Wn,fa,on=[],Cn=0;function Ia(oe,me,Oe,Qe){var qe=oe.id,ot=oe.namespace;return Be(oe,"function"==typeof Oe?function(It,Mt,Zt){It[ot][qe].tween.set(me,Qe(Oe.call(It,It.__data__,Mt,Zt)))}:(Oe=Qe(Oe),function(It){It[ot][qe].tween.set(me,Oe)}))}function Ha(oe){return null==oe&&(oe=""),function(){this.textContent=oe}}function Ua(oe){return null==oe?"__transition__":"__transition_"+oe+"__"}function Ka(oe,me,Oe,Qe,qe){var Mt,Zt,ar,ur,Fr,ot=oe[Oe]||(oe[Oe]={active:0,count:0}),It=ot[Qe];function an(Or){var Ur=ot.active,Jr=ot[Ur];for(var pn in Jr&&(Jr.timer.c=null,Jr.timer.t=NaN,--ot.count,delete ot[Ur],Jr.event&&Jr.event.interrupt.call(oe,oe.__data__,Jr.index)),ot)if(+pn<Qe){var yn=ot[pn];yn.timer.c=null,yn.timer.t=NaN,--ot.count,delete ot[pn]}Zt.c=dn,Xn(function(){return Zt.c&&dn(Or||1)&&(Zt.c=null,Zt.t=NaN),1},0,Mt),ot.active=Qe,It.event&&It.event.start.call(oe,oe.__data__,me),Fr=[],It.tween.forEach(function(en,Gn){(Gn=Gn.call(oe,oe.__data__,me))&&Fr.push(Gn)}),ur=It.ease,ar=It.duration}function dn(Or){for(var Ur=Or/ar,Jr=ur(Ur),pn=Fr.length;pn>0;)Fr[--pn].call(oe,Jr);if(Ur>=1)return It.event&&It.event.end.call(oe,oe.__data__,me),--ot.count?delete ot[Qe]:delete oe[Oe],1}It||(Zt=Xn(function Ir(Or){var Ur=It.delay;if(Zt.t=Ur+Mt,Ur<=Or)return an(Or-Ur);Zt.c=an},0,Mt=qe.time),It=ot[Qe]={tween:new E,time:Mt,timer:Zt,delay:qe.delay,duration:qe.duration,ease:qe.ease,index:me},qe=null,++ot.count)}on.call=Z.call,on.empty=Z.empty,on.node=Z.node,on.size=Z.size,o.transition=function(oe,me){return oe&&oe.transition?Wn?oe.transition(me):oe:o.selection().transition(oe)},o.transition.prototype=on,on.select=function(oe){var qe,ot,It,me=this.id,Oe=this.namespace,Qe=[];oe=re(oe);for(var Mt=-1,Zt=this.length;++Mt<Zt;){Qe.push(qe=[]);for(var ar=this[Mt],ur=-1,Fr=ar.length;++ur<Fr;)(It=ar[ur])&&(ot=oe.call(It,It.__data__,ur,Mt))?("__data__"in It&&(ot.__data__=It.__data__),Ka(ot,ur,Oe,me,It[Oe][me]),qe.push(ot)):qe.push(null)}return rn(Qe,Oe,me)},on.selectAll=function(oe){var qe,ot,It,Mt,Zt,me=this.id,Oe=this.namespace,Qe=[];oe=q(oe);for(var ar=-1,ur=this.length;++ar<ur;)for(var Fr=this[ar],Ir=-1,an=Fr.length;++Ir<an;)if(It=Fr[Ir]){Zt=It[Oe][me],ot=oe.call(It,It.__data__,Ir,ar),Qe.push(qe=[]);for(var dn=-1,Or=ot.length;++dn<Or;)(Mt=ot[dn])&&Ka(Mt,dn,Oe,me,Zt),qe.push(Mt)}return rn(Qe,Oe,me)},on.filter=function(oe){var Oe,qe,me=[];"function"!=typeof oe&&(oe=rt(oe));for(var ot=0,It=this.length;ot<It;ot++){me.push(Oe=[]);for(var Qe,Mt=0,Zt=(Qe=this[ot]).length;Mt<Zt;Mt++)(qe=Qe[Mt])&&oe.call(qe,qe.__data__,Mt,ot)&&Oe.push(qe)}return rn(me,this.namespace,this.id)},on.tween=function(oe,me){var Oe=this.id,Qe=this.namespace;return arguments.length<2?this.node()[Qe][Oe].tween.get(oe):Be(this,null==me?function(qe){qe[Qe][Oe].tween.remove(oe)}:function(qe){qe[Qe][Oe].tween.set(oe,me)})},on.attr=function(oe,me){if(arguments.length<2){for(me in oe)this.attr(me,oe[me]);return this}var Oe="transform"==oe?Ki:io,Qe=o.ns.qualify(oe);function qe(){this.removeAttribute(Qe)}function ot(){this.removeAttributeNS(Qe.space,Qe.local)}return Ia(this,"attr."+oe,me,Qe.local?function Mt(Zt){return null==Zt?ot:(Zt+="",function(){var ur,ar=this.getAttributeNS(Qe.space,Qe.local);return ar!==Zt&&(ur=Oe(ar,Zt),function(Fr){this.setAttributeNS(Qe.space,Qe.local,ur(Fr))})})}:function It(Zt){return null==Zt?qe:(Zt+="",function(){var ur,ar=this.getAttribute(Qe);return ar!==Zt&&(ur=Oe(ar,Zt),function(Fr){this.setAttribute(Qe,ur(Fr))})})})},on.attrTween=function(oe,me){var Oe=o.ns.qualify(oe);return this.tween("attr."+oe,Oe.local?function qe(ot,It){var Mt=me.call(this,ot,It,this.getAttributeNS(Oe.space,Oe.local));return Mt&&function(Zt){this.setAttributeNS(Oe.space,Oe.local,Mt(Zt))}}:function Qe(ot,It){var Mt=me.call(this,ot,It,this.getAttribute(Oe));return Mt&&function(Zt){this.setAttribute(Oe,Mt(Zt))}})},on.style=function(oe,me,Oe){var Qe=arguments.length;if(Qe<3){if("string"!=typeof oe){for(Oe in Qe<2&&(me=""),oe)this.style(Oe,oe[Oe],me);return this}Oe=""}function qe(){this.style.removeProperty(oe)}return Ia(this,"style."+oe,me,function ot(It){return null==It?qe:(It+="",function(){var Zt,Mt=t(this).getComputedStyle(this,null).getPropertyValue(oe);return Mt!==It&&(Zt=io(Mt,It),function(ar){this.style.setProperty(oe,Zt(ar),Oe)})})})},on.styleTween=function(oe,me,Oe){return arguments.length<3&&(Oe=""),this.tween("style."+oe,function Qe(qe,ot){var It=me.call(this,qe,ot,t(this).getComputedStyle(this,null).getPropertyValue(oe));return It&&function(Mt){this.style.setProperty(oe,It(Mt),Oe)}})},on.text=function(oe){return Ia(this,"text",oe,Ha)},on.remove=function(){var oe=this.namespace;return this.each("end.transition",function(){var me;this[oe].count<2&&(me=this.parentNode)&&me.removeChild(this)})},on.ease=function(oe){var me=this.id,Oe=this.namespace;return arguments.length<1?this.node()[Oe][me].ease:("function"!=typeof oe&&(oe=o.ease.apply(o,arguments)),Be(this,function(Qe){Qe[Oe][me].ease=oe}))},on.delay=function(oe){var me=this.id,Oe=this.namespace;return arguments.length<1?this.node()[Oe][me].delay:Be(this,"function"==typeof oe?function(Qe,qe,ot){Qe[Oe][me].delay=+oe.call(Qe,Qe.__data__,qe,ot)}:(oe=+oe,function(Qe){Qe[Oe][me].delay=oe}))},on.duration=function(oe){var me=this.id,Oe=this.namespace;return arguments.length<1?this.node()[Oe][me].duration:Be(this,"function"==typeof oe?function(Qe,qe,ot){Qe[Oe][me].duration=Math.max(1,oe.call(Qe,Qe.__data__,qe,ot))}:(oe=Math.max(1,oe),function(Qe){Qe[Oe][me].duration=oe}))},on.each=function(oe,me){var Oe=this.id,Qe=this.namespace;if(arguments.length<2){var qe=fa,ot=Wn;try{Wn=Oe,Be(this,function(It,Mt,Zt){fa=It[Qe][Oe],oe.call(It,It.__data__,Mt,Zt)})}finally{fa=qe,Wn=ot}}else Be(this,function(It){var Mt=It[Qe][Oe];(Mt.event||(Mt.event=o.dispatch("start","end","interrupt"))).on(oe,me)});return this},on.transition=function(){for(var qe,It,Mt,oe=this.id,me=++Cn,Oe=this.namespace,Qe=[],Zt=0,ar=this.length;Zt<ar;Zt++){Qe.push(qe=[]);for(var ot,ur=0,Fr=(ot=this[Zt]).length;ur<Fr;ur++)(It=ot[ur])&&Ka(It,ur,Oe,me,{time:(Mt=It[Oe][oe]).time,ease:Mt.ease,delay:Mt.delay+Mt.duration,duration:Mt.duration}),qe.push(It)}return rn(Qe,Oe,me)},o.svg.axis=function(){var Mt,oe=o.scale.linear(),me=_i,Oe=6,Qe=6,qe=3,ot=[10],It=null;function Zt(ar){ar.each(function(){var en,ur=o.select(this),Fr=this.__chart__||oe,Ir=this.__chart__=oe.copy(),an=It??(Ir.ticks?Ir.ticks.apply(Ir,ot):Ir.domain()),dn=Mt??(Ir.tickFormat?Ir.tickFormat.apply(Ir,ot):z),Or=ur.selectAll(".tick").data(an,Ir),Ur=Or.enter().insert("g",".domain").attr("class","tick").style("opacity",_e),Jr=o.transition(Or.exit()).style("opacity",_e).remove(),pn=o.transition(Or.order()).style("opacity",1),yn=Math.max(Oe,0)+qe,Gn=kl(Ir),ca=ur.selectAll(".domain").data([0]),ma=(ca.enter().append("path").attr("class","domain"),o.transition(ca));Ur.append("line"),Ur.append("text");var fi,po,wi,sa,da=Ur.select("line"),pa=pn.select("line"),_a=Or.select("text").text(dn),Ca=Ur.select("text"),La=pn.select("text"),Va="top"===me||"left"===me?-1:1;if("bottom"===me||"top"===me?(en=va,fi="x",wi="y",po="x2",sa="y2",_a.attr("dy",Va<0?"0em":".71em").style("text-anchor","middle"),ma.attr("d","M"+Gn[0]+","+Va*Qe+"V0H"+Gn[1]+"V"+Va*Qe)):(en=ro,fi="y",wi="x",po="y2",sa="x2",_a.attr("dy",".32em").style("text-anchor",Va<0?"end":"start"),ma.attr("d","M"+Va*Qe+","+Gn[0]+"H0V"+Gn[1]+"H"+Va*Qe)),da.attr(sa,Va*Oe),Ca.attr(wi,Va*yn),pa.attr(po,0).attr(sa,Va*Oe),La.attr(fi,0).attr(wi,Va*yn),Ir.rangeBand){var Ya=Ir,Ga=Ya.rangeBand()/2;Fr=Ir=function(ia){return Ya(ia)+Ga}}else Fr.rangeBand?Fr=Ir:Jr.call(en,Ir,Fr);Ur.call(en,Fr,Ir),pn.call(en,Ir,Ir)})}return Zt.scale=function(ar){return arguments.length?(oe=ar,Zt):oe},Zt.orient=function(ar){return arguments.length?(me=ar in Vi?ar+"":_i,Zt):me},Zt.ticks=function(){return arguments.length?(ot=C(arguments),Zt):ot},Zt.tickValues=function(ar){return arguments.length?(It=ar,Zt):It},Zt.tickFormat=function(ar){return arguments.length?(Mt=ar,Zt):Mt},Zt.tickSize=function(ar){var ur=arguments.length;return ur?(Oe=+ar,Qe=+arguments[ur-1],Zt):Oe},Zt.innerTickSize=function(ar){return arguments.length?(Oe=+ar,Zt):Oe},Zt.outerTickSize=function(ar){return arguments.length?(Qe=+ar,Zt):Qe},Zt.tickPadding=function(ar){return arguments.length?(qe=+ar,Zt):qe},Zt.tickSubdivide=function(){return arguments.length&&Zt},Zt};var _i="bottom",Vi={top:1,right:1,bottom:1,left:1};function va(oe,me,Oe){oe.attr("transform",function(Qe){var qe=me(Qe);return"translate("+(isFinite(qe)?qe:Oe(Qe))+",0)"})}function ro(oe,me,Oe){oe.attr("transform",function(Qe){var qe=me(Qe);return"translate(0,"+(isFinite(qe)?qe:Oe(Qe))+")"})}o.svg.brush=function(){var ot,It,oe=J(ur,"brushstart","brush","brushend"),me=null,Oe=null,Qe=[0,0],qe=[0,0],Mt=!0,Zt=!0,ar=Vo[0];function ur(Or){Or.each(function(){var Ur=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",dn).on("touchstart.brush",dn),Jr=Ur.selectAll(".background").data([0]);Jr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ur.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var pn=Ur.selectAll(".resize").data(ar,z);pn.exit().remove(),pn.enter().append("g").attr("class",function(ca){return"resize "+ca}).style("cursor",function(ca){return vo[ca]}).append("rect").attr("x",function(ca){return/[ew]$/.test(ca)?-3:null}).attr("y",function(ca){return/^[ns]/.test(ca)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),pn.style("display",ur.empty()?"none":null);var Gn,yn=o.transition(Ur),en=o.transition(Jr);me&&(Gn=kl(me),en.attr("x",Gn[0]).attr("width",Gn[1]-Gn[0]),Ir(yn)),Oe&&(Gn=kl(Oe),en.attr("y",Gn[0]).attr("height",Gn[1]-Gn[0]),an(yn)),Fr(yn)})}function Fr(Or){Or.selectAll(".resize").attr("transform",function(Ur){return"translate("+Qe[+/e$/.test(Ur)]+","+qe[+/^s/.test(Ur)]+")"})}function Ir(Or){Or.select(".extent").attr("x",Qe[0]),Or.selectAll(".extent,.n>rect,.s>rect").attr("width",Qe[1]-Qe[0])}function an(Or){Or.select(".extent").attr("y",qe[0]),Or.selectAll(".extent,.e>rect,.w>rect").attr("height",qe[1]-qe[0])}function dn(){var da,_a,Or=this,Ur=o.select(o.event.target),Jr=oe.of(Or,arguments),pn=o.select(Or),yn=Ur.datum(),en=!/^(n|s)$/.test(yn)&&me,Gn=!/^(e|w)$/.test(yn)&&Oe,ca=Ur.classed("extent"),ma=Ee(Or),pa=o.mouse(Or),Ca=o.select(t(Or)).on("keydown.brush",function fi(){32==o.event.keyCode&&(ca||(da=null,pa[0]-=Qe[1],pa[1]-=qe[1],ca=2),ie())}).on("keyup.brush",function po(){32==o.event.keyCode&&2==ca&&(pa[0]+=Qe[1],pa[1]+=qe[1],ca=0,ie())});if(o.event.changedTouches?Ca.on("touchmove.brush",wi).on("touchend.brush",Ya):Ca.on("mousemove.brush",wi).on("mouseup.brush",Ya),pn.interrupt().selectAll("*").interrupt(),ca)pa[0]=Qe[0]-pa[0],pa[1]=qe[0]-pa[1];else if(yn){var La=+/w$/.test(yn),Va=+/^n/.test(yn);_a=[Qe[1-La]-pa[0],qe[1-Va]-pa[1]],pa[0]=Qe[La],pa[1]=qe[Va]}else o.event.altKey&&(da=pa.slice());function wi(){var Ga=o.mouse(Or),ia=!1;_a&&(Ga[0]+=_a[0],Ga[1]+=_a[1]),ca||(o.event.altKey?(da||(da=[(Qe[0]+Qe[1])/2,(qe[0]+qe[1])/2]),pa[0]=Qe[+(Ga[0]<da[0])],pa[1]=qe[+(Ga[1]<da[1])]):da=null),en&&sa(Ga,me,0)&&(Ir(pn),ia=!0),Gn&&sa(Ga,Oe,1)&&(an(pn),ia=!0),ia&&(Fr(pn),Jr({type:"brush",mode:ca?"move":"resize"}))}function sa(Ga,ia,wa){var zo,Ii,Gi=kl(ia),lo=Gi[0],bo=Gi[1],Bi=pa[wa],So=wa?qe:Qe,Mo=So[1]-So[0];if(ca&&(lo-=Bi,bo-=Mo+Bi),zo=(wa?Zt:Mt)?Math.max(lo,Math.min(bo,Ga[wa])):Ga[wa],ca?Ii=(zo+=Bi)+Mo:(da&&(Bi=Math.max(lo,Math.min(bo,2*da[wa]-zo))),Bi<zo?(Ii=zo,zo=Bi):Ii=Bi),So[0]!=zo||So[1]!=Ii)return wa?It=null:ot=null,So[0]=zo,So[1]=Ii,!0}function Ya(){wi(),pn.style("pointer-events","all").selectAll(".resize").style("display",ur.empty()?"none":null),o.select("body").style("cursor",null),Ca.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ma(),Jr({type:"brushend"})}pn.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",Ur.style("cursor")),Jr({type:"brushstart"}),wi()}return ur.event=function(Or){Or.each(function(){var Ur=oe.of(this,arguments),Jr={x:Qe,y:qe,i:ot,j:It},pn=this.__chart__||Jr;this.__chart__=Jr,Wn?o.select(this).transition().each("start.brush",function(){ot=pn.i,It=pn.j,Qe=pn.x,qe=pn.y,Ur({type:"brushstart"})}).tween("brush:brush",function(){var yn=di(Qe,Jr.x),en=di(qe,Jr.y);return ot=It=null,function(Gn){Qe=Jr.x=yn(Gn),qe=Jr.y=en(Gn),Ur({type:"brush",mode:"resize"})}}).each("end.brush",function(){ot=Jr.i,It=Jr.j,Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"})}):(Ur({type:"brushstart"}),Ur({type:"brush",mode:"resize"}),Ur({type:"brushend"}))})},ur.x=function(Or){return arguments.length?(ar=Vo[!(me=Or)<<1|!Oe],ur):me},ur.y=function(Or){return arguments.length?(ar=Vo[!me<<1|!(Oe=Or)],ur):Oe},ur.clamp=function(Or){return arguments.length?(me&&Oe?(Mt=!!Or[0],Zt=!!Or[1]):me?Mt=!!Or:Oe&&(Zt=!!Or),ur):me&&Oe?[Mt,Zt]:me?Mt:Oe?Zt:null},ur.extent=function(Or){var Ur,Jr,pn,yn,en;return arguments.length?(me&&(Ur=Or[0],Jr=Or[1],Oe&&(Ur=Ur[0],Jr=Jr[0]),ot=[Ur,Jr],me.invert&&(Ur=me(Ur),Jr=me(Jr)),Jr<Ur&&(en=Ur,Ur=Jr,Jr=en),(Ur!=Qe[0]||Jr!=Qe[1])&&(Qe=[Ur,Jr])),Oe&&(pn=Or[0],yn=Or[1],me&&(pn=pn[1],yn=yn[1]),It=[pn,yn],Oe.invert&&(pn=Oe(pn),yn=Oe(yn)),yn<pn&&(en=pn,pn=yn,yn=en),(pn!=qe[0]||yn!=qe[1])&&(qe=[pn,yn])),ur):(me&&(ot?(Ur=ot[0],Jr=ot[1]):(Ur=Qe[0],Jr=Qe[1],me.invert&&(Ur=me.invert(Ur),Jr=me.invert(Jr)),Jr<Ur&&(en=Ur,Ur=Jr,Jr=en))),Oe&&(It?(pn=It[0],yn=It[1]):(pn=qe[0],yn=qe[1],Oe.invert&&(pn=Oe.invert(pn),yn=Oe.invert(yn)),yn<pn&&(en=pn,pn=yn,yn=en))),me&&Oe?[[Ur,pn],[Jr,yn]]:me?[Ur,Jr]:Oe&&[pn,yn])},ur.clear=function(){return ur.empty()||(Qe=[0,0],qe=[0,0],ot=It=null),ur},ur.empty=function(){return!!me&&Qe[0]==Qe[1]||!!Oe&&qe[0]==qe[1]},o.rebind(ur,oe,"on")};var vo={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vo=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function ws(oe){return JSON.parse(oe.responseText)}function Qi(oe){var me=h.createRange();return me.selectNode(h.body),me.createContextualFragment(oe.responseText)}o.text=Pr(function(oe){return oe.responseText}),o.json=function(oe,me){return Zr(oe,"application/json",ws,me)},o.html=function(oe,me){return Zr(oe,"text/html",Qi,me)},o.xml=Pr(function(oe){return oe.responseXML}),void 0!==(D="function"==typeof(T=o)?T.call(Y,e,Y,te):T)&&(te.exports=D)}).apply(self)},88294:function(te,Y,e){"use strict";te.exports=e(62849)},62849:function(te,Y,e){"use strict";var T=e(91358),D=e(53435),o=e(18863),P=e(21527),C=e(71299),h=e(46775),y=e(30120),t=e(64941),r=e(90660),l=e(27084);function u(f,c){for(var m=c[0],a=c[1],s=1/(c[2]-m),v=1/(c[3]-a),A=new Array(f.length),x=0,E=f.length/2;x<E;x++)A[2*x]=D((f[2*x]-m)*s,0,1),A[2*x+1]=D((f[2*x+1]-a)*v,0,1);return A}te.exports=function(c,m){m||(m={}),c=y(c,"float64"),m=C(m,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var a=h(m.maxDepth,255),b=h(m.bounds,P(c,2));b[0]===b[2]&&b[2]++,b[1]===b[3]&&b[3]++;var v,p=u(c,b),s=c.length>>>1;m.dtype||(m.dtype="array"),"string"==typeof m.dtype?v=new(r(m.dtype))(s):m.dtype&&(v=m.dtype,Array.isArray(v)&&(v.length=s));for(var A=0;A<s;++A)v[A]=A;var x=[],E=[],g=[],M=[];!function B(F,N,H,X,ne,ie){if(!X.length)return null;var ue=x[ne]||(x[ne]=[]),J=g[ne]||(g[ne]=[]),j=E[ne]||(E[ne]=[]),W=ue.length;if(++ne>a||ie>1073741824){for(var V=0;V<X.length;V++)ue.push(X[V]),J.push(ie),j.push(null,null,null,null);return W}if(ue.push(X[0]),J.push(ie),X.length<=1)return j.push(null,null,null,null),W;for(var K=.5*H,ae=F+K,Q=N+K,Z=[],re=[],q=[],se=[],de=1,we=X.length;de<we;de++){var ye=X[de],Ie=p[2*ye+1];p[2*ye]<ae?Ie<Q?Z.push(ye):re.push(ye):Ie<Q?q.push(ye):se.push(ye)}return j.push(B(F,N,K,Z,ne,ie<<=2),B(F,Q,K,re,ne,ie+1),B(ae,N,K,q,ne,ie+2),B(ae,Q,K,se,ne,ie+3)),W}(0,0,1,v,0,1);for(var w=0,n=0;n<x.length;n++){var S=x[n];if(v.set)v.set(S,w);else for(var d=0,I=S.length;d<I;d++)v[d+w]=S[d];var L=w+x[n].length;M[n]=[w,L],w=L}return v.range=function k(){for(var F=[],N=arguments.length;N--;)F[N]=arguments[N];var H;if(t(F[F.length-1])){var X=F.pop();!F.length&&(null!=X.x||null!=X.l||null!=X.left)&&(F=[X],H={}),H=C(X,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else H={};F.length||(F=b);var q,ne=o.apply(void 0,F),ie=[Math.min(ne.x,ne.x+ne.width),Math.min(ne.y,ne.y+ne.height),Math.max(ne.x,ne.x+ne.width),Math.max(ne.y,ne.y+ne.height)],ue=ie[0],J=ie[1],j=ie[2],W=ie[3],V=u([ue,J,j,W],b),K=V[0],ae=V[1],Q=V[2],Z=V[3],re=h(H.level,x.length);if(null!=H.d&&("number"==typeof H.d?q=[H.d,H.d]:H.d.length&&(q=H.d),re=Math.min(Math.max(Math.ceil(-l(Math.abs(q[0])/(b[2]-b[0]))),Math.ceil(-l(Math.abs(q[1])/(b[3]-b[1])))),re)),re=Math.min(re,x.length),H.lod)return function z(F,N,H,X,ne){for(var ie=[],ue=0;ue<ne;ue++){var J=g[ue],j=M[ue][0],W=O(F,N,ue),V=O(H,X,ue),K=T.ge(J,W),ae=T.gt(J,V,K,J.length-1);ie[ue]=[K+j,ae+j]}return ie}(K,ae,Q,Z,re);var se=[];return function de(ye,Pe,Ie,Se,xe,Me){if(null!==xe&&null!==Me&&!(K>ye+Ie||ae>Pe+Ie||Q<ye||Z<Pe||Se>=re||xe===Me)){var De=x[Se];void 0===Me&&(Me=De.length);for(var He=xe;He<Me;He++){var rt=De[He],$e=c[2*rt],Be=c[2*rt+1];$e>=ue&&$e<=j&&Be>=J&&Be<=W&&se.push(rt)}var ze=E[Se],tt=ze[4*xe+0],lt=ze[4*xe+1],ut=ze[4*xe+2],xt=ze[4*xe+3],bt=function we(ye,Pe){for(var Ie=null,Se=0;null===Ie;)if(Ie=ye[4*Pe+Se],++Se>ye.length)return null;return Ie}(ze,xe+1),Ht=.5*Ie,Je=Se+1;de(ye,Pe,Ht,Je,tt,lt||ut||xt||bt),de(ye,Pe+Ht,Ht,Je,lt,ut||xt||bt),de(ye+Ht,Pe,Ht,Je,ut,xt||bt),de(ye+Ht,Pe+Ht,Ht,Je,xt,bt)}}(0,0,1,0,0,1),se},v;function O(F,N,H){for(var X=1,ne=.5,ie=.5,ue=.5,J=0;J<H;J++)X<<=2,X+=F<ne?N<ie?0:1:N<ie?2:3,ue*=.5,ne+=F<ne?-ue:ue,ie+=N<ie?-ue:ue;return X}}},30774:function(te,Y,e){"use strict";Object.defineProperty(Y,"__esModule",{value:!0});var T=e(60302),D=6378137;function C(t){var r=0;if(t&&t.length>0){r+=Math.abs(h(t[0]));for(var l=1;l<t.length;l++)r-=Math.abs(h(t[l]))}return r}function h(t){var r,l,u,f,c,m,a=0,b=t.length;if(b>2){for(m=0;m<b;m++)m===b-2?(u=b-2,f=b-1,c=0):m===b-1?(u=b-1,f=0,c=1):(u=m,f=m+1,c=m+2),r=t[u],l=t[f],a+=(y(t[c][0])-y(r[0]))*Math.sin(y(l[1]));a=a*D*D/2}return a}function y(t){return t*Math.PI/180}Y.default=function o(t){return T.geomReduce(t,function(r,l){return r+function P(t){var l,r=0;switch(t.type){case"Polygon":return C(t.coordinates);case"MultiPolygon":for(l=0;l<t.coordinates.length;l++)r+=C(t.coordinates[l]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(l)},0)}},23132:function(te,Y){"use strict";function e(w,n,S){void 0===S&&(S={});var d={type:"Feature"};return(0===S.id||S.id)&&(d.id=S.id),S.bbox&&(d.bbox=S.bbox),d.properties=n||{},d.geometry=w,d}function D(w,n,S){if(void 0===S&&(S={}),!w)throw new Error("coordinates is required");if(!Array.isArray(w))throw new Error("coordinates must be an Array");if(w.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!x(w[0])||!x(w[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:w},n,S)}function P(w,n,S){void 0===S&&(S={});for(var d=0,I=w;d<I.length;d++){var L=I[d];if(L.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<L[L.length-1].length;B++)if(L[L.length-1][B]!==L[0][B])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:w},n,S)}function h(w,n,S){if(void 0===S&&(S={}),w.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:w},n,S)}function t(w,n){void 0===n&&(n={});var S={type:"FeatureCollection"};return n.id&&(S.id=n.id),n.bbox&&(S.bbox=n.bbox),S.features=w,S}function r(w,n,S){return void 0===S&&(S={}),e({type:"MultiLineString",coordinates:w},n,S)}function l(w,n,S){return void 0===S&&(S={}),e({type:"MultiPoint",coordinates:w},n,S)}function i(w,n,S){return void 0===S&&(S={}),e({type:"MultiPolygon",coordinates:w},n,S)}function c(w,n){void 0===n&&(n="kilometers");var S=Y.factors[n];if(!S)throw new Error(n+" units is invalid");return w*S}function m(w,n){void 0===n&&(n="kilometers");var S=Y.factors[n];if(!S)throw new Error(n+" units is invalid");return w/S}function p(w){return w%(2*Math.PI)*180/Math.PI}function x(w){return!isNaN(w)&&null!==w&&!Array.isArray(w)}Object.defineProperty(Y,"__esModule",{value:!0}),Y.earthRadius=6371008.8,Y.factors={centimeters:100*Y.earthRadius,centimetres:100*Y.earthRadius,degrees:Y.earthRadius/111325,feet:3.28084*Y.earthRadius,inches:39.37*Y.earthRadius,kilometers:Y.earthRadius/1e3,kilometres:Y.earthRadius/1e3,meters:Y.earthRadius,metres:Y.earthRadius,miles:Y.earthRadius/1609.344,millimeters:1e3*Y.earthRadius,millimetres:1e3*Y.earthRadius,nauticalmiles:Y.earthRadius/1852,radians:1,yards:1.0936*Y.earthRadius},Y.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/Y.earthRadius,yards:1.0936133},Y.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},Y.feature=e,Y.geometry=function T(w,n,S){switch(void 0===S&&(S={}),w){case"Point":return D(n).geometry;case"LineString":return h(n).geometry;case"Polygon":return P(n).geometry;case"MultiPoint":return l(n).geometry;case"MultiLineString":return r(n).geometry;case"MultiPolygon":return i(n).geometry;default:throw new Error(w+" is invalid")}},Y.point=D,Y.points=function o(w,n,S){return void 0===S&&(S={}),t(w.map(function(d){return D(d,n)}),S)},Y.polygon=P,Y.polygons=function C(w,n,S){return void 0===S&&(S={}),t(w.map(function(d){return P(d,n)}),S)},Y.lineString=h,Y.lineStrings=function y(w,n,S){return void 0===S&&(S={}),t(w.map(function(d){return h(d,n)}),S)},Y.featureCollection=t,Y.multiLineString=r,Y.multiPoint=l,Y.multiPolygon=i,Y.geometryCollection=function u(w,n,S){return void 0===S&&(S={}),e({type:"GeometryCollection",geometries:w},n,S)},Y.round=function f(w,n){if(void 0===n&&(n=0),n&&!(n>=0))throw new Error("precision must be a positive number");var S=Math.pow(10,n||0);return Math.round(w*S)/S},Y.radiansToLength=c,Y.lengthToRadians=m,Y.lengthToDegrees=function a(w,n){return p(m(w,n))},Y.bearingToAzimuth=function b(w){var n=w%360;return n<0&&(n+=360),n},Y.radiansToDegrees=p,Y.degreesToRadians=function s(w){return w%360*Math.PI/180},Y.convertLength=function v(w,n,S){if(void 0===n&&(n="kilometers"),void 0===S&&(S="kilometers"),!(w>=0))throw new Error("length must be a positive number");return c(m(w,n),S)},Y.convertArea=function A(w,n,S){if(void 0===n&&(n="meters"),void 0===S&&(S="kilometers"),!(w>=0))throw new Error("area must be a positive number");var d=Y.areaFactors[n];if(!d)throw new Error("invalid original units");var I=Y.areaFactors[S];if(!I)throw new Error("invalid final units");return w/d*I},Y.isNumber=x,Y.isObject=function E(w){return!!w&&w.constructor===Object},Y.validateBBox=function g(w){if(!w)throw new Error("bbox is required");if(!Array.isArray(w))throw new Error("bbox must be an Array");if(4!==w.length&&6!==w.length)throw new Error("bbox must be an Array of 4 or 6 numbers");w.forEach(function(n){if(!x(n))throw new Error("bbox must only contain numbers")})},Y.validateId=function M(w){if(!w)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof w))throw new Error("id must be a number or a string")}},60302:function(te,Y,e){"use strict";Object.defineProperty(Y,"__esModule",{value:!0});var T=e(23132);function D(s,v,A){if(null!==s)for(var x,E,g,M,w,n,S,L,d=0,I=0,B=s.type,k="FeatureCollection"===B,z="Feature"===B,O=k?s.features.length:1,F=0;F<O;F++){w=(L=!!(S=k?s.features[F].geometry:z?s.geometry:s)&&"GeometryCollection"===S.type)?S.geometries.length:1;for(var N=0;N<w;N++){var H=0,X=0;if(null!==(M=L?S.geometries[N]:S)){n=M.coordinates;var ne=M.type;switch(d=!A||"Polygon"!==ne&&"MultiPolygon"!==ne?0:1,ne){case null:break;case"Point":if(!1===v(n,I,F,H,X))return!1;I++,H++;break;case"LineString":case"MultiPoint":for(x=0;x<n.length;x++){if(!1===v(n[x],I,F,H,X))return!1;I++,"MultiPoint"===ne&&H++}"LineString"===ne&&H++;break;case"Polygon":case"MultiLineString":for(x=0;x<n.length;x++){for(E=0;E<n[x].length-d;E++){if(!1===v(n[x][E],I,F,H,X))return!1;I++}"MultiLineString"===ne&&H++,"Polygon"===ne&&X++}"Polygon"===ne&&H++;break;case"MultiPolygon":for(x=0;x<n.length;x++){for(X=0,E=0;E<n[x].length;E++){for(g=0;g<n[x][E].length-d;g++){if(!1===v(n[x][E][g],I,F,H,X))return!1;I++}X++}H++}break;case"GeometryCollection":for(x=0;x<M.geometries.length;x++)if(!1===D(M.geometries[x],v,A))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function P(s,v){var A;switch(s.type){case"FeatureCollection":for(A=0;A<s.features.length&&!1!==v(s.features[A].properties,A);A++);break;case"Feature":v(s.properties,0)}}function h(s,v){if("Feature"===s.type)v(s,0);else if("FeatureCollection"===s.type)for(var A=0;A<s.features.length&&!1!==v(s.features[A],A);A++);}function r(s,v){var A,x,E,g,M,w,n,S,d,I,L=0,B="FeatureCollection"===s.type,k="Feature"===s.type,z=B?s.features.length:1;for(A=0;A<z;A++){for(S=B?s.features[A].properties:k?s.properties:{},d=B?s.features[A].bbox:k?s.bbox:void 0,I=B?s.features[A].id:k?s.id:void 0,M=(n=!!(w=B?s.features[A].geometry:k?s.geometry:s)&&"GeometryCollection"===w.type)?w.geometries.length:1,E=0;E<M;E++)if(null!==(g=n?w.geometries[E]:w))switch(g.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===v(g,L,S,d,I))return!1;break;case"GeometryCollection":for(x=0;x<g.geometries.length;x++)if(!1===v(g.geometries[x],L,S,d,I))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===v(null,L,S,d,I))return!1;L++}}function i(s,v){r(s,function(A,x,E,g,M){var n,w=null===A?null:A.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return!1!==v(T.feature(A,E,{bbox:g,id:M}),x,0)&&void 0}switch(w){case"MultiPoint":n="Point";break;case"MultiLineString":n="LineString";break;case"MultiPolygon":n="Polygon"}for(var S=0;S<A.coordinates.length;S++)if(!1===v(T.feature({type:n,coordinates:A.coordinates[S]},E),x,S))return!1})}function f(s,v){i(s,function(A,x,E){var g=0;if(A.geometry){var M=A.geometry.type;if("Point"!==M&&"MultiPoint"!==M){var w,n=0,S=0,d=0;if(!1===D(A,function(I,L,B,k,z){if(void 0===w||x>n||k>S||z>d)return w=I,n=x,S=k,d=z,void(g=0);var O=T.lineString([w,I],A.properties);if(!1===v(O,x,E,z,g))return!1;g++,w=I}))return!1}}})}function m(s,v){if(!s)throw new Error("geojson is required");i(s,function(A,x,E){if(null!==A.geometry){var M=A.geometry.coordinates;switch(A.geometry.type){case"LineString":if(!1===v(A,x,E,0,0))return!1;break;case"Polygon":for(var w=0;w<M.length;w++)if(!1===v(T.lineString(M[w],A.properties),x,E,w))return!1}}})}Y.coordEach=D,Y.coordReduce=function o(s,v,A,x){var E=A;return D(s,function(g,M,w,n,S){E=0===M&&void 0===A?g:v(E,g,M,w,n,S)},x),E},Y.propEach=P,Y.propReduce=function C(s,v,A){var x=A;return P(s,function(E,g){x=0===g&&void 0===A?E:v(x,E,g)}),x},Y.featureEach=h,Y.featureReduce=function y(s,v,A){var x=A;return h(s,function(E,g){x=0===g&&void 0===A?E:v(x,E,g)}),x},Y.coordAll=function t(s){var v=[];return D(s,function(A){v.push(A)}),v},Y.geomEach=r,Y.geomReduce=function l(s,v,A){var x=A;return r(s,function(E,g,M,w,n){x=0===g&&void 0===A?E:v(x,E,g,M,w,n)}),x},Y.flattenEach=i,Y.flattenReduce=function u(s,v,A){var x=A;return i(s,function(E,g,M){x=0===g&&0===M&&void 0===A?E:v(x,E,g,M)}),x},Y.segmentEach=f,Y.segmentReduce=function c(s,v,A){var x=A,E=!1;return f(s,function(g,M,w,n,S){x=!1===E&&void 0===A?g:v(x,g,M,w,n,S),E=!0}),x},Y.lineEach=m,Y.lineReduce=function a(s,v,A){var x=A;return m(s,function(E,g,M,w){x=0===g&&void 0===A?E:v(x,E,g,M,w)}),x},Y.findSegment=function b(s,v){if(!T.isObject(v=v||{}))throw new Error("options is invalid");var w,A=v.featureIndex||0,x=v.multiFeatureIndex||0,E=v.geometryIndex||0,g=v.segmentIndex||0,M=v.properties;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),M=M||s.features[A].properties,w=s.features[A].geometry;break;case"Feature":M=M||s.properties,w=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=s;break;default:throw new Error("geojson is invalid")}if(null===w)return null;var n=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=n.length+g-1),T.lineString([n[g],n[g+1]],M,v);case"Polygon":return E<0&&(E=n.length+E),g<0&&(g=n[E].length+g-1),T.lineString([n[E][g],n[E][g+1]],M,v);case"MultiLineString":return x<0&&(x=n.length+x),g<0&&(g=n[x].length+g-1),T.lineString([n[x][g],n[x][g+1]],M,v);case"MultiPolygon":return x<0&&(x=n.length+x),E<0&&(E=n[x].length+E),g<0&&(g=n[x][E].length-g-1),T.lineString([n[x][E][g],n[x][E][g+1]],M,v)}throw new Error("geojson is invalid")},Y.findPoint=function p(s,v){if(!T.isObject(v=v||{}))throw new Error("options is invalid");var w,A=v.featureIndex||0,x=v.multiFeatureIndex||0,E=v.geometryIndex||0,g=v.coordIndex||0,M=v.properties;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),M=M||s.features[A].properties,w=s.features[A].geometry;break;case"Feature":M=M||s.properties,w=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=s;break;default:throw new Error("geojson is invalid")}if(null===w)return null;var n=w.coordinates;switch(w.type){case"Point":return T.point(n,M,v);case"MultiPoint":return x<0&&(x=n.length+x),T.point(n[x],M,v);case"LineString":return g<0&&(g=n.length+g),T.point(n[g],M,v);case"Polygon":return E<0&&(E=n.length+E),g<0&&(g=n[E].length+g),T.point(n[E][g],M,v);case"MultiLineString":return x<0&&(x=n.length+x),g<0&&(g=n[x].length+g),T.point(n[x][g],M,v);case"MultiPolygon":return x<0&&(x=n.length+x),E<0&&(E=n[x].length+E),g<0&&(g=n[x][E].length-g),T.point(n[x][E][g],M,v)}throw new Error("geojson is invalid")}},85268:function(te,Y,e){"use strict";Object.defineProperty(Y,"__esModule",{value:!0});var T=e(27138);function D(o){var P=[1/0,1/0,-1/0,-1/0];return T.coordEach(o,function(C){P[0]>C[0]&&(P[0]=C[0]),P[1]>C[1]&&(P[1]=C[1]),P[2]<C[0]&&(P[2]=C[0]),P[3]<C[1]&&(P[3]=C[1])}),P}D.default=D,Y.default=D},94228:function(te,Y){"use strict";function e(w,n,S){void 0===S&&(S={});var d={type:"Feature"};return(0===S.id||S.id)&&(d.id=S.id),S.bbox&&(d.bbox=S.bbox),d.properties=n||{},d.geometry=w,d}function D(w,n,S){if(void 0===S&&(S={}),!w)throw new Error("coordinates is required");if(!Array.isArray(w))throw new Error("coordinates must be an Array");if(w.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!x(w[0])||!x(w[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:w},n,S)}function P(w,n,S){void 0===S&&(S={});for(var d=0,I=w;d<I.length;d++){var L=I[d];if(L.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<L[L.length-1].length;B++)if(L[L.length-1][B]!==L[0][B])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:w},n,S)}function h(w,n,S){if(void 0===S&&(S={}),w.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:w},n,S)}function t(w,n){void 0===n&&(n={});var S={type:"FeatureCollection"};return n.id&&(S.id=n.id),n.bbox&&(S.bbox=n.bbox),S.features=w,S}function r(w,n,S){return void 0===S&&(S={}),e({type:"MultiLineString",coordinates:w},n,S)}function l(w,n,S){return void 0===S&&(S={}),e({type:"MultiPoint",coordinates:w},n,S)}function i(w,n,S){return void 0===S&&(S={}),e({type:"MultiPolygon",coordinates:w},n,S)}function c(w,n){void 0===n&&(n="kilometers");var S=Y.factors[n];if(!S)throw new Error(n+" units is invalid");return w*S}function m(w,n){void 0===n&&(n="kilometers");var S=Y.factors[n];if(!S)throw new Error(n+" units is invalid");return w/S}function p(w){return w%(2*Math.PI)*180/Math.PI}function x(w){return!isNaN(w)&&null!==w&&!Array.isArray(w)}Object.defineProperty(Y,"__esModule",{value:!0}),Y.earthRadius=6371008.8,Y.factors={centimeters:100*Y.earthRadius,centimetres:100*Y.earthRadius,degrees:Y.earthRadius/111325,feet:3.28084*Y.earthRadius,inches:39.37*Y.earthRadius,kilometers:Y.earthRadius/1e3,kilometres:Y.earthRadius/1e3,meters:Y.earthRadius,metres:Y.earthRadius,miles:Y.earthRadius/1609.344,millimeters:1e3*Y.earthRadius,millimetres:1e3*Y.earthRadius,nauticalmiles:Y.earthRadius/1852,radians:1,yards:1.0936*Y.earthRadius},Y.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/Y.earthRadius,yards:1.0936133},Y.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},Y.feature=e,Y.geometry=function T(w,n,S){switch(void 0===S&&(S={}),w){case"Point":return D(n).geometry;case"LineString":return h(n).geometry;case"Polygon":return P(n).geometry;case"MultiPoint":return l(n).geometry;case"MultiLineString":return r(n).geometry;case"MultiPolygon":return i(n).geometry;default:throw new Error(w+" is invalid")}},Y.point=D,Y.points=function o(w,n,S){return void 0===S&&(S={}),t(w.map(function(d){return D(d,n)}),S)},Y.polygon=P,Y.polygons=function C(w,n,S){return void 0===S&&(S={}),t(w.map(function(d){return P(d,n)}),S)},Y.lineString=h,Y.lineStrings=function y(w,n,S){return void 0===S&&(S={}),t(w.map(function(d){return h(d,n)}),S)},Y.featureCollection=t,Y.multiLineString=r,Y.multiPoint=l,Y.multiPolygon=i,Y.geometryCollection=function u(w,n,S){return void 0===S&&(S={}),e({type:"GeometryCollection",geometries:w},n,S)},Y.round=function f(w,n){if(void 0===n&&(n=0),n&&!(n>=0))throw new Error("precision must be a positive number");var S=Math.pow(10,n||0);return Math.round(w*S)/S},Y.radiansToLength=c,Y.lengthToRadians=m,Y.lengthToDegrees=function a(w,n){return p(m(w,n))},Y.bearingToAzimuth=function b(w){var n=w%360;return n<0&&(n+=360),n},Y.radiansToDegrees=p,Y.degreesToRadians=function s(w){return w%360*Math.PI/180},Y.convertLength=function v(w,n,S){if(void 0===n&&(n="kilometers"),void 0===S&&(S="kilometers"),!(w>=0))throw new Error("length must be a positive number");return c(m(w,n),S)},Y.convertArea=function A(w,n,S){if(void 0===n&&(n="meters"),void 0===S&&(S="kilometers"),!(w>=0))throw new Error("area must be a positive number");var d=Y.areaFactors[n];if(!d)throw new Error("invalid original units");var I=Y.areaFactors[S];if(!I)throw new Error("invalid final units");return w/d*I},Y.isNumber=x,Y.isObject=function E(w){return!!w&&w.constructor===Object},Y.validateBBox=function g(w){if(!w)throw new Error("bbox is required");if(!Array.isArray(w))throw new Error("bbox must be an Array");if(4!==w.length&&6!==w.length)throw new Error("bbox must be an Array of 4 or 6 numbers");w.forEach(function(n){if(!x(n))throw new Error("bbox must only contain numbers")})},Y.validateId=function M(w){if(!w)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof w))throw new Error("id must be a number or a string")}},27138:function(te,Y,e){"use strict";Object.defineProperty(Y,"__esModule",{value:!0});var T=e(94228);function D(s,v,A){if(null!==s)for(var x,E,g,M,w,n,S,L,d=0,I=0,B=s.type,k="FeatureCollection"===B,z="Feature"===B,O=k?s.features.length:1,F=0;F<O;F++){w=(L=!!(S=k?s.features[F].geometry:z?s.geometry:s)&&"GeometryCollection"===S.type)?S.geometries.length:1;for(var N=0;N<w;N++){var H=0,X=0;if(null!==(M=L?S.geometries[N]:S)){n=M.coordinates;var ne=M.type;switch(d=!A||"Polygon"!==ne&&"MultiPolygon"!==ne?0:1,ne){case null:break;case"Point":if(!1===v(n,I,F,H,X))return!1;I++,H++;break;case"LineString":case"MultiPoint":for(x=0;x<n.length;x++){if(!1===v(n[x],I,F,H,X))return!1;I++,"MultiPoint"===ne&&H++}"LineString"===ne&&H++;break;case"Polygon":case"MultiLineString":for(x=0;x<n.length;x++){for(E=0;E<n[x].length-d;E++){if(!1===v(n[x][E],I,F,H,X))return!1;I++}"MultiLineString"===ne&&H++,"Polygon"===ne&&X++}"Polygon"===ne&&H++;break;case"MultiPolygon":for(x=0;x<n.length;x++){for(X=0,E=0;E<n[x].length;E++){for(g=0;g<n[x][E].length-d;g++){if(!1===v(n[x][E][g],I,F,H,X))return!1;I++}X++}H++}break;case"GeometryCollection":for(x=0;x<M.geometries.length;x++)if(!1===D(M.geometries[x],v,A))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function P(s,v){var A;switch(s.type){case"FeatureCollection":for(A=0;A<s.features.length&&!1!==v(s.features[A].properties,A);A++);break;case"Feature":v(s.properties,0)}}function h(s,v){if("Feature"===s.type)v(s,0);else if("FeatureCollection"===s.type)for(var A=0;A<s.features.length&&!1!==v(s.features[A],A);A++);}function r(s,v){var A,x,E,g,M,w,n,S,d,I,L=0,B="FeatureCollection"===s.type,k="Feature"===s.type,z=B?s.features.length:1;for(A=0;A<z;A++){for(S=B?s.features[A].properties:k?s.properties:{},d=B?s.features[A].bbox:k?s.bbox:void 0,I=B?s.features[A].id:k?s.id:void 0,M=(n=!!(w=B?s.features[A].geometry:k?s.geometry:s)&&"GeometryCollection"===w.type)?w.geometries.length:1,E=0;E<M;E++)if(null!==(g=n?w.geometries[E]:w))switch(g.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===v(g,L,S,d,I))return!1;break;case"GeometryCollection":for(x=0;x<g.geometries.length;x++)if(!1===v(g.geometries[x],L,S,d,I))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===v(null,L,S,d,I))return!1;L++}}function i(s,v){r(s,function(A,x,E,g,M){var n,w=null===A?null:A.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return!1!==v(T.feature(A,E,{bbox:g,id:M}),x,0)&&void 0}switch(w){case"MultiPoint":n="Point";break;case"MultiLineString":n="LineString";break;case"MultiPolygon":n="Polygon"}for(var S=0;S<A.coordinates.length;S++)if(!1===v(T.feature({type:n,coordinates:A.coordinates[S]},E),x,S))return!1})}function f(s,v){i(s,function(A,x,E){var g=0;if(A.geometry){var M=A.geometry.type;if("Point"!==M&&"MultiPoint"!==M){var w,n=0,S=0,d=0;if(!1===D(A,function(I,L,B,k,z){if(void 0===w||x>n||k>S||z>d)return w=I,n=x,S=k,d=z,void(g=0);var O=T.lineString([w,I],A.properties);if(!1===v(O,x,E,z,g))return!1;g++,w=I}))return!1}}})}function m(s,v){if(!s)throw new Error("geojson is required");i(s,function(A,x,E){if(null!==A.geometry){var M=A.geometry.coordinates;switch(A.geometry.type){case"LineString":if(!1===v(A,x,E,0,0))return!1;break;case"Polygon":for(var w=0;w<M.length;w++)if(!1===v(T.lineString(M[w],A.properties),x,E,w))return!1}}})}Y.coordEach=D,Y.coordReduce=function o(s,v,A,x){var E=A;return D(s,function(g,M,w,n,S){E=0===M&&void 0===A?g:v(E,g,M,w,n,S)},x),E},Y.propEach=P,Y.propReduce=function C(s,v,A){var x=A;return P(s,function(E,g){x=0===g&&void 0===A?E:v(x,E,g)}),x},Y.featureEach=h,Y.featureReduce=function y(s,v,A){var x=A;return h(s,function(E,g){x=0===g&&void 0===A?E:v(x,E,g)}),x},Y.coordAll=function t(s){var v=[];return D(s,function(A){v.push(A)}),v},Y.geomEach=r,Y.geomReduce=function l(s,v,A){var x=A;return r(s,function(E,g,M,w,n){x=0===g&&void 0===A?E:v(x,E,g,M,w,n)}),x},Y.flattenEach=i,Y.flattenReduce=function u(s,v,A){var x=A;return i(s,function(E,g,M){x=0===g&&0===M&&void 0===A?E:v(x,E,g,M)}),x},Y.segmentEach=f,Y.segmentReduce=function c(s,v,A){var x=A,E=!1;return f(s,function(g,M,w,n,S){x=!1===E&&void 0===A?g:v(x,g,M,w,n,S),E=!0}),x},Y.lineEach=m,Y.lineReduce=function a(s,v,A){var x=A;return m(s,function(E,g,M,w){x=0===g&&void 0===A?E:v(x,E,g,M,w)}),x},Y.findSegment=function b(s,v){if(!T.isObject(v=v||{}))throw new Error("options is invalid");var w,A=v.featureIndex||0,x=v.multiFeatureIndex||0,E=v.geometryIndex||0,g=v.segmentIndex||0,M=v.properties;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),M=M||s.features[A].properties,w=s.features[A].geometry;break;case"Feature":M=M||s.properties,w=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=s;break;default:throw new Error("geojson is invalid")}if(null===w)return null;var n=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=n.length+g-1),T.lineString([n[g],n[g+1]],M,v);case"Polygon":return E<0&&(E=n.length+E),g<0&&(g=n[E].length+g-1),T.lineString([n[E][g],n[E][g+1]],M,v);case"MultiLineString":return x<0&&(x=n.length+x),g<0&&(g=n[x].length+g-1),T.lineString([n[x][g],n[x][g+1]],M,v);case"MultiPolygon":return x<0&&(x=n.length+x),E<0&&(E=n[x].length+E),g<0&&(g=n[x][E].length-g-1),T.lineString([n[x][E][g],n[x][E][g+1]],M,v)}throw new Error("geojson is invalid")},Y.findPoint=function p(s,v){if(!T.isObject(v=v||{}))throw new Error("options is invalid");var w,A=v.featureIndex||0,x=v.multiFeatureIndex||0,E=v.geometryIndex||0,g=v.coordIndex||0,M=v.properties;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),M=M||s.features[A].properties,w=s.features[A].geometry;break;case"Feature":M=M||s.properties,w=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=s;break;default:throw new Error("geojson is invalid")}if(null===w)return null;var n=w.coordinates;switch(w.type){case"Point":return T.point(n,M,v);case"MultiPoint":return x<0&&(x=n.length+x),T.point(n[x],M,v);case"LineString":return g<0&&(g=n.length+g),T.point(n[g],M,v);case"Polygon":return E<0&&(E=n.length+E),g<0&&(g=n[E].length+g),T.point(n[E][g],M,v);case"MultiLineString":return x<0&&(x=n.length+x),g<0&&(g=n[x].length+g),T.point(n[x][g],M,v);case"MultiPolygon":return x<0&&(x=n.length+x),E<0&&(E=n[x].length+E),g<0&&(g=n[x][E].length-g),T.point(n[x][E][g],M,v)}throw new Error("geojson is invalid")}},29261:function(te,Y,e){"use strict";Object.defineProperty(Y,"__esModule",{value:!0});var T=e(88553),D=e(64182);Y.default=function o(P,C){void 0===C&&(C={});var h=0,y=0,t=0;return T.coordEach(P,function(r){h+=r[0],y+=r[1],t++}),D.point([h/t,y/t],C.properties)}},64182:function(te,Y){"use strict";function e(k,z,O){void 0===O&&(O={});var F={type:"Feature"};return(0===O.id||O.id)&&(F.id=O.id),O.bbox&&(F.bbox=O.bbox),F.properties=z||{},F.geometry=k,F}function D(k,z,O){return void 0===O&&(O={}),e({type:"Point",coordinates:k},z,O)}function P(k,z,O){void 0===O&&(O={});for(var F=0,N=k;F<N.length;F++){var H=N[F];if(H.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var X=0;X<H[H.length-1].length;X++)if(H[H.length-1][X]!==H[0][X])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:k},z,O)}function h(k,z,O){if(void 0===O&&(O={}),k.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:k},z,O)}function t(k,z){void 0===z&&(z={});var O={type:"FeatureCollection"};return z.id&&(O.id=z.id),z.bbox&&(O.bbox=z.bbox),O.features=k,O}function r(k,z,O){return void 0===O&&(O={}),e({type:"MultiLineString",coordinates:k},z,O)}function l(k,z,O){return void 0===O&&(O={}),e({type:"MultiPoint",coordinates:k},z,O)}function i(k,z,O){return void 0===O&&(O={}),e({type:"MultiPolygon",coordinates:k},z,O)}function c(k,z){void 0===z&&(z="kilometers");var O=Y.factors[z];if(!O)throw new Error(z+" units is invalid");return k*O}function m(k,z){void 0===z&&(z="kilometers");var O=Y.factors[z];if(!O)throw new Error(z+" units is invalid");return k/O}function p(k){return k%(2*Math.PI)*180/Math.PI}function x(k){return!isNaN(k)&&null!==k&&!Array.isArray(k)&&!/^\s*$/.test(k)}Object.defineProperty(Y,"__esModule",{value:!0}),Y.earthRadius=6371008.8,Y.factors={centimeters:100*Y.earthRadius,centimetres:100*Y.earthRadius,degrees:Y.earthRadius/111325,feet:3.28084*Y.earthRadius,inches:39.37*Y.earthRadius,kilometers:Y.earthRadius/1e3,kilometres:Y.earthRadius/1e3,meters:Y.earthRadius,metres:Y.earthRadius,miles:Y.earthRadius/1609.344,millimeters:1e3*Y.earthRadius,millimetres:1e3*Y.earthRadius,nauticalmiles:Y.earthRadius/1852,radians:1,yards:Y.earthRadius/1.0936},Y.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/Y.earthRadius,yards:.91441111923921},Y.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},Y.feature=e,Y.geometry=function T(k,z,O){switch(void 0===O&&(O={}),k){case"Point":return D(z).geometry;case"LineString":return h(z).geometry;case"Polygon":return P(z).geometry;case"MultiPoint":return l(z).geometry;case"MultiLineString":return r(z).geometry;case"MultiPolygon":return i(z).geometry;default:throw new Error(k+" is invalid")}},Y.point=D,Y.points=function o(k,z,O){return void 0===O&&(O={}),t(k.map(function(F){return D(F,z)}),O)},Y.polygon=P,Y.polygons=function C(k,z,O){return void 0===O&&(O={}),t(k.map(function(F){return P(F,z)}),O)},Y.lineString=h,Y.lineStrings=function y(k,z,O){return void 0===O&&(O={}),t(k.map(function(F){return h(F,z)}),O)},Y.featureCollection=t,Y.multiLineString=r,Y.multiPoint=l,Y.multiPolygon=i,Y.geometryCollection=function u(k,z,O){return void 0===O&&(O={}),e({type:"GeometryCollection",geometries:k},z,O)},Y.round=function f(k,z){if(void 0===z&&(z=0),z&&!(z>=0))throw new Error("precision must be a positive number");var O=Math.pow(10,z||0);return Math.round(k*O)/O},Y.radiansToLength=c,Y.lengthToRadians=m,Y.lengthToDegrees=function a(k,z){return p(m(k,z))},Y.bearingToAzimuth=function b(k){var z=k%360;return z<0&&(z+=360),z},Y.radiansToDegrees=p,Y.degreesToRadians=function s(k){return k%360*Math.PI/180},Y.convertLength=function v(k,z,O){if(void 0===z&&(z="kilometers"),void 0===O&&(O="kilometers"),!(k>=0))throw new Error("length must be a positive number");return c(m(k,z),O)},Y.convertArea=function A(k,z,O){if(void 0===z&&(z="meters"),void 0===O&&(O="kilometers"),!(k>=0))throw new Error("area must be a positive number");var F=Y.areaFactors[z];if(!F)throw new Error("invalid original units");var N=Y.areaFactors[O];if(!N)throw new Error("invalid final units");return k/F*N},Y.isNumber=x,Y.isObject=function E(k){return!!k&&k.constructor===Object},Y.validateBBox=function g(k){if(!k)throw new Error("bbox is required");if(!Array.isArray(k))throw new Error("bbox must be an Array");if(4!==k.length&&6!==k.length)throw new Error("bbox must be an Array of 4 or 6 numbers");k.forEach(function(z){if(!x(z))throw new Error("bbox must only contain numbers")})},Y.validateId=function M(k){if(!k)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof k))throw new Error("id must be a number or a string")},Y.radians2degrees=function w(){throw new Error("method has been renamed to `radiansToDegrees`")},Y.degrees2radians=function n(){throw new Error("method has been renamed to `degreesToRadians`")},Y.distanceToDegrees=function S(){throw new Error("method has been renamed to `lengthToDegrees`")},Y.distanceToRadians=function d(){throw new Error("method has been renamed to `lengthToRadians`")},Y.radiansToDistance=function I(){throw new Error("method has been renamed to `radiansToLength`")},Y.bearingToAngle=function L(){throw new Error("method has been renamed to `bearingToAzimuth`")},Y.convertDistance=function B(){throw new Error("method has been renamed to `convertLength`")}},88553:function(te,Y,e){"use strict";Object.defineProperty(Y,"__esModule",{value:!0});var T=e(64182);function D(s,v,A){if(null!==s)for(var x,E,g,M,w,n,S,L,d=0,I=0,B=s.type,k="FeatureCollection"===B,z="Feature"===B,O=k?s.features.length:1,F=0;F<O;F++){w=(L=!!(S=k?s.features[F].geometry:z?s.geometry:s)&&"GeometryCollection"===S.type)?S.geometries.length:1;for(var N=0;N<w;N++){var H=0,X=0;if(null!==(M=L?S.geometries[N]:S)){n=M.coordinates;var ne=M.type;switch(d=!A||"Polygon"!==ne&&"MultiPolygon"!==ne?0:1,ne){case null:break;case"Point":if(!1===v(n,I,F,H,X))return!1;I++,H++;break;case"LineString":case"MultiPoint":for(x=0;x<n.length;x++){if(!1===v(n[x],I,F,H,X))return!1;I++,"MultiPoint"===ne&&H++}"LineString"===ne&&H++;break;case"Polygon":case"MultiLineString":for(x=0;x<n.length;x++){for(E=0;E<n[x].length-d;E++){if(!1===v(n[x][E],I,F,H,X))return!1;I++}"MultiLineString"===ne&&H++,"Polygon"===ne&&X++}"Polygon"===ne&&H++;break;case"MultiPolygon":for(x=0;x<n.length;x++){for(X=0,E=0;E<n[x].length;E++){for(g=0;g<n[x][E].length-d;g++){if(!1===v(n[x][E][g],I,F,H,X))return!1;I++}X++}H++}break;case"GeometryCollection":for(x=0;x<M.geometries.length;x++)if(!1===D(M.geometries[x],v,A))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function P(s,v){var A;switch(s.type){case"FeatureCollection":for(A=0;A<s.features.length&&!1!==v(s.features[A].properties,A);A++);break;case"Feature":v(s.properties,0)}}function h(s,v){if("Feature"===s.type)v(s,0);else if("FeatureCollection"===s.type)for(var A=0;A<s.features.length&&!1!==v(s.features[A],A);A++);}function r(s,v){var A,x,E,g,M,w,n,S,d,I,L=0,B="FeatureCollection"===s.type,k="Feature"===s.type,z=B?s.features.length:1;for(A=0;A<z;A++){for(S=B?s.features[A].properties:k?s.properties:{},d=B?s.features[A].bbox:k?s.bbox:void 0,I=B?s.features[A].id:k?s.id:void 0,M=(n=!!(w=B?s.features[A].geometry:k?s.geometry:s)&&"GeometryCollection"===w.type)?w.geometries.length:1,E=0;E<M;E++)if(null!==(g=n?w.geometries[E]:w))switch(g.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===v(g,L,S,d,I))return!1;break;case"GeometryCollection":for(x=0;x<g.geometries.length;x++)if(!1===v(g.geometries[x],L,S,d,I))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===v(null,L,S,d,I))return!1;L++}}function i(s,v){r(s,function(A,x,E,g,M){var n,w=null===A?null:A.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return!1!==v(T.feature(A,E,{bbox:g,id:M}),x,0)&&void 0}switch(w){case"MultiPoint":n="Point";break;case"MultiLineString":n="LineString";break;case"MultiPolygon":n="Polygon"}for(var S=0;S<A.coordinates.length;S++)if(!1===v(T.feature({type:n,coordinates:A.coordinates[S]},E),x,S))return!1})}function f(s,v){i(s,function(A,x,E){var g=0;if(A.geometry){var M=A.geometry.type;if("Point"!==M&&"MultiPoint"!==M){var w,n=0,S=0,d=0;if(!1===D(A,function(I,L,B,k,z){if(void 0===w||x>n||k>S||z>d)return w=I,n=x,S=k,d=z,void(g=0);var O=T.lineString([w,I],A.properties);if(!1===v(O,x,E,z,g))return!1;g++,w=I}))return!1}}})}function m(s,v){if(!s)throw new Error("geojson is required");i(s,function(A,x,E){if(null!==A.geometry){var M=A.geometry.coordinates;switch(A.geometry.type){case"LineString":if(!1===v(A,x,E,0,0))return!1;break;case"Polygon":for(var w=0;w<M.length;w++)if(!1===v(T.lineString(M[w],A.properties),x,E,w))return!1}}})}Y.coordEach=D,Y.coordReduce=function o(s,v,A,x){var E=A;return D(s,function(g,M,w,n,S){E=0===M&&void 0===A?g:v(E,g,M,w,n,S)},x),E},Y.propEach=P,Y.propReduce=function C(s,v,A){var x=A;return P(s,function(E,g){x=0===g&&void 0===A?E:v(x,E,g)}),x},Y.featureEach=h,Y.featureReduce=function y(s,v,A){var x=A;return h(s,function(E,g){x=0===g&&void 0===A?E:v(x,E,g)}),x},Y.coordAll=function t(s){var v=[];return D(s,function(A){v.push(A)}),v},Y.geomEach=r,Y.geomReduce=function l(s,v,A){var x=A;return r(s,function(E,g,M,w,n){x=0===g&&void 0===A?E:v(x,E,g,M,w,n)}),x},Y.flattenEach=i,Y.flattenReduce=function u(s,v,A){var x=A;return i(s,function(E,g,M){x=0===g&&0===M&&void 0===A?E:v(x,E,g,M)}),x},Y.segmentEach=f,Y.segmentReduce=function c(s,v,A){var x=A,E=!1;return f(s,function(g,M,w,n,S){x=!1===E&&void 0===A?g:v(x,g,M,w,n,S),E=!0}),x},Y.lineEach=m,Y.lineReduce=function a(s,v,A){var x=A;return m(s,function(E,g,M,w){x=0===g&&void 0===A?E:v(x,E,g,M,w)}),x},Y.findSegment=function b(s,v){if(!T.isObject(v=v||{}))throw new Error("options is invalid");var w,A=v.featureIndex||0,x=v.multiFeatureIndex||0,E=v.geometryIndex||0,g=v.segmentIndex||0,M=v.properties;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),M=M||s.features[A].properties,w=s.features[A].geometry;break;case"Feature":M=M||s.properties,w=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=s;break;default:throw new Error("geojson is invalid")}if(null===w)return null;var n=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=n.length+g-1),T.lineString([n[g],n[g+1]],M,v);case"Polygon":return E<0&&(E=n.length+E),g<0&&(g=n[E].length+g-1),T.lineString([n[E][g],n[E][g+1]],M,v);case"MultiLineString":return x<0&&(x=n.length+x),g<0&&(g=n[x].length+g-1),T.lineString([n[x][g],n[x][g+1]],M,v);case"MultiPolygon":return x<0&&(x=n.length+x),E<0&&(E=n[x].length+E),g<0&&(g=n[x][E].length-g-1),T.lineString([n[x][E][g],n[x][E][g+1]],M,v)}throw new Error("geojson is invalid")},Y.findPoint=function p(s,v){if(!T.isObject(v=v||{}))throw new Error("options is invalid");var w,A=v.featureIndex||0,x=v.multiFeatureIndex||0,E=v.geometryIndex||0,g=v.coordIndex||0,M=v.properties;switch(s.type){case"FeatureCollection":A<0&&(A=s.features.length+A),M=M||s.features[A].properties,w=s.features[A].geometry;break;case"Feature":M=M||s.properties,w=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=s;break;default:throw new Error("geojson is invalid")}if(null===w)return null;var n=w.coordinates;switch(w.type){case"Point":return T.point(n,M,v);case"MultiPoint":return x<0&&(x=n.length+x),T.point(n[x],M,v);case"LineString":return g<0&&(g=n.length+g),T.point(n[g],M,v);case"Polygon":return E<0&&(E=n.length+E),g<0&&(g=n[E].length+g),T.point(n[E][g],M,v);case"MultiLineString":return x<0&&(x=n.length+x),g<0&&(g=n[x].length+g),T.point(n[x][g],M,v);case"MultiPolygon":return x<0&&(x=n.length+x),E<0&&(E=n[x].length+E),g<0&&(g=n[x][E].length-g),T.point(n[x][E][g],M,v)}throw new Error("geojson is invalid")}},65185:function(te){te.exports=function Y(e){var T=0,D=0,o=0,P=0;return e.map(function(C){var h=(C=C.slice())[0],y=h.toUpperCase();if(h!=y)switch(C[0]=y,h){case"a":C[6]+=o,C[7]+=P;break;case"v":C[1]+=P;break;case"h":C[1]+=o;break;default:for(var t=1;t<C.length;)C[t++]+=o,C[t++]+=P}switch(y){case"Z":o=T,P=D;break;case"H":o=C[1];break;case"V":P=C[1];break;case"M":o=T=C[1],P=D=C[2];break;default:o=C[C.length-2],P=C[C.length-1]}return C})}},21527:function(te){"use strict";te.exports=function Y(e,T){if(!e||null==e.length)throw Error("Argument should be an array");T=null==T?1:Math.floor(T);for(var D=Array(2*T),o=0;o<T;o++){for(var P=-1/0,C=1/0,h=o,y=e.length;h<y;h+=T)e[h]>P&&(P=e[h]),e[h]<C&&(C=e[h]);D[o]=C,D[T+o]=P}return D}},6851:function(te){"use strict";te.exports=function(Y,e,T){if("function"==typeof Array.prototype.findIndex)return Y.findIndex(e,T);if("function"!=typeof e)throw new TypeError("predicate must be a function");var D=Object(Y),o=D.length;if(0===o)return-1;for(var P=0;P<o;P++)if(e.call(T,D[P],P,D))return P;return-1}},54:function(te,Y,e){"use strict";var T=e(21527);te.exports=function D(o,P,C){if(!o||null==o.length)throw Error("Argument should be an array");null==P&&(P=1),null==C&&(C=T(o,P));for(var h=0;h<P;h++){var y=C[P+h],t=C[h],r=h,l=o.length;if(y===1/0&&t===-1/0)for(r=h;r<l;r+=P)o[r]=o[r]===y?1:o[r]===t?0:.5;else if(y===1/0)for(r=h;r<l;r+=P)o[r]=o[r]===y?1:0;else if(t===-1/0)for(r=h;r<l;r+=P)o[r]=o[r]===t?0:1;else{var i=y-t;for(r=h;r<l;r+=P)isNaN(o[r])||(o[r]=0===i?.5:(o[r]-t)/i)}}return o}},57471:function(te){te.exports=function(e,T){var D="number"==typeof e,o="number"==typeof T;D&&!o?(T=e,e=0):!D&&!o&&(e=0,T=0);var P=(T|=0)-(e|=0);if(P<0)throw new Error("array length must be positive");for(var C=new Array(P),h=0,y=e;h<P;h++,y++)C[h]=y;return C}},32791:function(te,Y,e){"use strict";var T=e(90386);function D(V){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ae){return typeof ae}:function(ae){return ae&&"function"==typeof Symbol&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae})(V)}var v,A,C=e(79616).codes,h=C.ERR_AMBIGUOUS_ARGUMENT,y=C.ERR_INVALID_ARG_TYPE,t=C.ERR_INVALID_ARG_VALUE,r=C.ERR_INVALID_RETURN_VALUE,l=C.ERR_MISSING_ARGS,i=e(73894),f=e(43827).inspect,c=e(43827).types,m=c.isPromise,a=c.isRegExp,b=Object.assign?Object.assign:e(73523).assign,p=Object.is?Object.is:e(64003);function M(){var V=e(74061);v=V.isDeepEqual,A=V.isDeepStrictEqual}var d=!1,I=te.exports=O,L={};function B(V){throw V.message instanceof Error?V.message:new i(V)}function z(V,K,ae,Q){if(!ae){var Z=!1;if(0===K)Z=!0,Q="No value argument passed to `assert.ok()`";else if(Q instanceof Error)throw Q;var re=new i({actual:ae,expected:!0,message:Q,operator:"==",stackStartFn:V});throw re.generatedMessage=Z,re}}function O(){for(var V=arguments.length,K=new Array(V),ae=0;ae<V;ae++)K[ae]=arguments[ae];z.apply(void 0,[O,K.length].concat(K))}I.fail=function k(V,K,ae,Q,Z){var q,re=arguments.length;if(0===re?q="Failed":1===re?(ae=V,V=void 0):(!1===d&&(d=!0,(T.emitWarning?T.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===re&&(Q="!=")),ae instanceof Error)throw ae;var de={actual:V,expected:K,operator:void 0===Q?"fail":Q,stackStartFn:Z||k};void 0!==ae&&(de.message=ae);var we=new i(de);throw q&&(we.message=q,we.generatedMessage=!0),we},I.AssertionError=i,I.ok=O,I.equal=function V(K,ae,Q){if(arguments.length<2)throw new l("actual","expected");K!=ae&&B({actual:K,expected:ae,message:Q,operator:"==",stackStartFn:V})},I.notEqual=function V(K,ae,Q){if(arguments.length<2)throw new l("actual","expected");K==ae&&B({actual:K,expected:ae,message:Q,operator:"!=",stackStartFn:V})},I.deepEqual=function V(K,ae,Q){if(arguments.length<2)throw new l("actual","expected");void 0===v&&M(),v(K,ae)||B({actual:K,expected:ae,message:Q,operator:"deepEqual",stackStartFn:V})},I.notDeepEqual=function V(K,ae,Q){if(arguments.length<2)throw new l("actual","expected");void 0===v&&M(),v(K,ae)&&B({actual:K,expected:ae,message:Q,operator:"notDeepEqual",stackStartFn:V})},I.deepStrictEqual=function V(K,ae,Q){if(arguments.length<2)throw new l("actual","expected");void 0===v&&M(),A(K,ae)||B({actual:K,expected:ae,message:Q,operator:"deepStrictEqual",stackStartFn:V})},I.notDeepStrictEqual=function F(V,K,ae){if(arguments.length<2)throw new l("actual","expected");void 0===v&&M(),A(V,K)&&B({actual:V,expected:K,message:ae,operator:"notDeepStrictEqual",stackStartFn:F})},I.strictEqual=function V(K,ae,Q){if(arguments.length<2)throw new l("actual","expected");p(K,ae)||B({actual:K,expected:ae,message:Q,operator:"strictEqual",stackStartFn:V})},I.notStrictEqual=function V(K,ae,Q){if(arguments.length<2)throw new l("actual","expected");p(K,ae)&&B({actual:K,expected:ae,message:Q,operator:"notStrictEqual",stackStartFn:V})};var N=function V(K,ae,Q){var Z=this;(function o(V,K){if(!(V instanceof K))throw new TypeError("Cannot call a class as a function")})(this,V),ae.forEach(function(re){re in K&&(Z[re]=void 0!==Q&&"string"==typeof Q[re]&&a(K[re])&&K[re].test(Q[re])?Q[re]:K[re])})};function X(V,K,ae,Q){if("function"!=typeof K){if(a(K))return K.test(V);if(2===arguments.length)throw new y("expected",["Function","RegExp"],K);if("object"!==D(V)||null===V){var Z=new i({actual:V,expected:K,message:ae,operator:"deepStrictEqual",stackStartFn:Q});throw Z.operator=Q.name,Z}var re=Object.keys(K);if(K instanceof Error)re.push("name","message");else if(0===re.length)throw new t("error",K,"may not be an empty object");return void 0===v&&M(),re.forEach(function(q){"string"==typeof V[q]&&a(K[q])&&K[q].test(V[q])||function H(V,K,ae,Q,Z,re){if(!(ae in V)||!A(V[ae],K[ae])){if(!Q){var q=new N(V,Z),se=new N(K,Z,V),de=new i({actual:q,expected:se,operator:"deepStrictEqual",stackStartFn:re});throw de.actual=V,de.expected=K,de.operator=re.name,de}B({actual:V,expected:K,message:Q,operator:re.name,stackStartFn:re})}}(V,K,q,ae,re,Q)}),!0}return void 0!==K.prototype&&V instanceof K||!Error.isPrototypeOf(K)&&!0===K.call({},V)}function ne(V){if("function"!=typeof V)throw new y("fn","Function",V);try{V()}catch(K){return K}return L}function ie(V){return m(V)||null!==V&&"object"===D(V)&&"function"==typeof V.then&&"function"==typeof V.catch}function ue(V){return Promise.resolve().then(function(){var K;if("function"==typeof V){if(!ie(K=V()))throw new r("instance of Promise","promiseFn",K)}else{if(!ie(V))throw new y("promiseFn",["Function","Promise"],V);K=V}return Promise.resolve().then(function(){return K}).then(function(){return L}).catch(function(ae){return ae})})}function J(V,K,ae,Q){if("string"==typeof ae){if(4===arguments.length)throw new y("error",["Object","Error","Function","RegExp"],ae);if("object"===D(K)&&null!==K){if(K.message===ae)throw new h("error/message",'The error message "'.concat(K.message,'" is identical to the message.'))}else if(K===ae)throw new h("error/message",'The error "'.concat(K,'" is identical to the message.'));Q=ae,ae=void 0}else if(null!=ae&&"object"!==D(ae)&&"function"!=typeof ae)throw new y("error",["Object","Error","Function","RegExp"],ae);if(K===L){var Z="";ae&&ae.name&&(Z+=" (".concat(ae.name,")")),Z+=Q?": ".concat(Q):".",B({actual:void 0,expected:ae,operator:V.name,message:"Missing expected ".concat("rejects"===V.name?"rejection":"exception").concat(Z),stackStartFn:V})}if(ae&&!X(K,ae,Q,V))throw K}function j(V,K,ae,Q){if(K!==L){if("string"==typeof ae&&(Q=ae,ae=void 0),!ae||X(K,ae)){var Z=Q?": ".concat(Q):".";B({actual:K,expected:ae,operator:V.name,message:"Got unwanted ".concat("doesNotReject"===V.name?"rejection":"exception").concat(Z,"\n")+'Actual message: "'.concat(K&&K.message,'"'),stackStartFn:V})}throw K}}function W(){for(var V=arguments.length,K=new Array(V),ae=0;ae<V;ae++)K[ae]=arguments[ae];z.apply(void 0,[W,K.length].concat(K))}I.throws=function V(K){for(var ae=arguments.length,Q=new Array(ae>1?ae-1:0),Z=1;Z<ae;Z++)Q[Z-1]=arguments[Z];J.apply(void 0,[V,ne(K)].concat(Q))},I.rejects=function V(K){for(var ae=arguments.length,Q=new Array(ae>1?ae-1:0),Z=1;Z<ae;Z++)Q[Z-1]=arguments[Z];return ue(K).then(function(re){return J.apply(void 0,[V,re].concat(Q))})},I.doesNotThrow=function V(K){for(var ae=arguments.length,Q=new Array(ae>1?ae-1:0),Z=1;Z<ae;Z++)Q[Z-1]=arguments[Z];j.apply(void 0,[V,ne(K)].concat(Q))},I.doesNotReject=function V(K){for(var ae=arguments.length,Q=new Array(ae>1?ae-1:0),Z=1;Z<ae;Z++)Q[Z-1]=arguments[Z];return ue(K).then(function(re){return j.apply(void 0,[V,re].concat(Q))})},I.ifError=function V(K){if(null!=K){var ae="ifError got unwanted exception: ";"object"===D(K)&&"string"==typeof K.message?ae+=0===K.message.length&&K.constructor?K.constructor.name:K.message:ae+=f(K);var Q=new i({actual:K,expected:null,operator:"ifError",message:ae,stackStartFn:V}),Z=K.stack;if("string"==typeof Z){var re=Z.split("\n");re.shift();for(var q=Q.stack.split("\n"),se=0;se<re.length;se++){var de=q.indexOf(re[se]);if(-1!==de){q=q.slice(0,de);break}}Q.stack="".concat(q.join("\n"),"\n").concat(re.join("\n"))}throw Q}},I.strict=b(W,I,{equal:I.strictEqual,deepEqual:I.deepStrictEqual,notEqual:I.notStrictEqual,notDeepEqual:I.notDeepStrictEqual}),I.strict.strict=I.strict},73894:function(te,Y,e){"use strict";var T=e(90386);function o(k,z,O){return z in k?Object.defineProperty(k,z,{value:O,enumerable:!0,configurable:!0,writable:!0}):k[z]=O,k}function C(k,z){for(var O=0;O<z.length;O++){var F=z[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(k,F.key,F)}}function y(k,z){return!z||"object"!==a(z)&&"function"!=typeof z?t(k):z}function t(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function l(k){var z="function"==typeof Map?new Map:void 0;return l=function(F){if(null===F||!function f(k){return-1!==Function.toString.call(k).indexOf("[native code]")}(F))return F;if("function"!=typeof F)throw new TypeError("Super expression must either be null or a function");if(typeof z<"u"){if(z.has(F))return z.get(F);z.set(F,N)}function N(){return u(F,arguments,m(this).constructor)}return N.prototype=Object.create(F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),c(N,F)},l(k)}function u(k,z,O){return(u=function i(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(N,H,X){var ne=[null];ne.push.apply(ne,H);var ue=new(Function.bind.apply(N,ne));return X&&c(ue,X.prototype),ue}).apply(null,arguments)}function c(k,z){return(c=Object.setPrototypeOf||function(F,N){return F.__proto__=N,F})(k,z)}function m(k){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)})(k)}function a(k){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(k)}var p=e(43827).inspect,v=e(79616).codes.ERR_INVALID_ARG_TYPE;function A(k,z,O){return(void 0===O||O>k.length)&&(O=k.length),k.substring(O-z.length,O)===z}var E="",g="",M="",w="",n={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function d(k){var z=Object.keys(k),O=Object.create(Object.getPrototypeOf(k));return z.forEach(function(F){O[F]=k[F]}),Object.defineProperty(O,"message",{value:k.message}),O}function I(k){return p(k,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var B=function(k){function z(O){var F;if(function P(k,z){if(!(k instanceof z))throw new TypeError("Cannot call a class as a function")}(this,z),"object"!==a(O)||null===O)throw new v("options","Object",O);var N=O.message,H=O.operator,X=O.stackStartFn,ne=O.actual,ie=O.expected,ue=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=N)F=y(this,m(z).call(this,String(N)));else if(T.stderr&&T.stderr.isTTY&&(T.stderr&&T.stderr.getColorDepth&&1!==T.stderr.getColorDepth()?(E="\x1b[34m",g="\x1b[32m",w="\x1b[39m",M="\x1b[31m"):(E="",g="",w="",M="")),"object"===a(ne)&&null!==ne&&"object"===a(ie)&&null!==ie&&"stack"in ne&&ne instanceof Error&&"stack"in ie&&ie instanceof Error&&(ne=d(ne),ie=d(ie)),"deepStrictEqual"===H||"strictEqual"===H)F=y(this,m(z).call(this,function L(k,z,O){var F="",N="",H=0,X="",ne=!1,ie=I(k),ue=ie.split("\n"),J=I(z).split("\n"),j=0,W="";if("strictEqual"===O&&"object"===a(k)&&"object"===a(z)&&null!==k&&null!==z&&(O="strictEqualObject"),1===ue.length&&1===J.length&&ue[0]!==J[0]){var V=ue[0].length+J[0].length;if(V<=10){if(!("object"===a(k)&&null!==k||"object"===a(z)&&null!==z||0===k&&0===z))return"".concat(n[O],"\n\n")+"".concat(ue[0]," !== ").concat(J[0],"\n")}else if("strictEqualObject"!==O&&V<(T.stderr&&T.stderr.isTTY?T.stderr.columns:80)){for(;ue[0][j]===J[0][j];)j++;j>2&&(W="\n  ".concat(function x(k,z){if(z=Math.floor(z),0==k.length||0==z)return"";var O=k.length*z;for(z=Math.floor(Math.log(z)/Math.log(2));z;)k+=k,z--;return k+k.substring(0,O-k.length)}(" ",j),"^"),j=0)}}for(var ae=ue[ue.length-1],Q=J[J.length-1];ae===Q&&(j++<2?X="\n  ".concat(ae).concat(X):F=ae,ue.pop(),J.pop(),0!==ue.length&&0!==J.length);)ae=ue[ue.length-1],Q=J[J.length-1];var Z=Math.max(ue.length,J.length);if(0===Z){var re=ie.split("\n");if(re.length>30)for(re[26]="".concat(E,"...").concat(w);re.length>27;)re.pop();return"".concat(n.notIdentical,"\n\n").concat(re.join("\n"),"\n")}j>3&&(X="\n".concat(E,"...").concat(w).concat(X),ne=!0),""!==F&&(X="\n  ".concat(F).concat(X),F="");var q=0,se=n[O]+"\n".concat(g,"+ actual").concat(w," ").concat(M,"- expected").concat(w),de=" ".concat(E,"...").concat(w," Lines skipped");for(j=0;j<Z;j++){var we=j-H;if(ue.length<j+1)we>1&&j>2&&(we>4?(N+="\n".concat(E,"...").concat(w),ne=!0):we>3&&(N+="\n  ".concat(J[j-2]),q++),N+="\n  ".concat(J[j-1]),q++),H=j,F+="\n".concat(M,"-").concat(w," ").concat(J[j]),q++;else if(J.length<j+1)we>1&&j>2&&(we>4?(N+="\n".concat(E,"...").concat(w),ne=!0):we>3&&(N+="\n  ".concat(ue[j-2]),q++),N+="\n  ".concat(ue[j-1]),q++),H=j,N+="\n".concat(g,"+").concat(w," ").concat(ue[j]),q++;else{var ye=J[j],Pe=ue[j],Ie=Pe!==ye&&(!A(Pe,",")||Pe.slice(0,-1)!==ye);Ie&&A(ye,",")&&ye.slice(0,-1)===Pe&&(Ie=!1,Pe+=","),Ie?(we>1&&j>2&&(we>4?(N+="\n".concat(E,"...").concat(w),ne=!0):we>3&&(N+="\n  ".concat(ue[j-2]),q++),N+="\n  ".concat(ue[j-1]),q++),H=j,N+="\n".concat(g,"+").concat(w," ").concat(Pe),F+="\n".concat(M,"-").concat(w," ").concat(ye),q+=2):(N+=F,F="",(1===we||0===j)&&(N+="\n  ".concat(Pe),q++))}if(q>20&&j<Z-2)return"".concat(se).concat(de,"\n").concat(N,"\n").concat(E,"...").concat(w).concat(F,"\n")+"".concat(E,"...").concat(w)}return"".concat(se).concat(ne?de:"","\n").concat(N).concat(F).concat(X).concat(W)}(ne,ie,H)));else if("notDeepStrictEqual"===H||"notStrictEqual"===H){var J=n[H],j=I(ne).split("\n");if("notStrictEqual"===H&&"object"===a(ne)&&null!==ne&&(J=n.notStrictEqualObject),j.length>30)for(j[26]="".concat(E,"...").concat(w);j.length>27;)j.pop();F=y(this,1===j.length?m(z).call(this,"".concat(J," ").concat(j[0])):m(z).call(this,"".concat(J,"\n\n").concat(j.join("\n"),"\n")))}else{var W=I(ne),V="",K=n[H];"notDeepEqual"===H||"notEqual"===H?(W="".concat(n[H],"\n\n").concat(W)).length>1024&&(W="".concat(W.slice(0,1021),"...")):(V="".concat(I(ie)),W.length>512&&(W="".concat(W.slice(0,509),"...")),V.length>512&&(V="".concat(V.slice(0,509),"...")),"deepEqual"===H||"equal"===H?W="".concat(K,"\n\n").concat(W,"\n\nshould equal\n\n"):V=" ".concat(H," ").concat(V)),F=y(this,m(z).call(this,"".concat(W).concat(V)))}return Error.stackTraceLimit=ue,F.generatedMessage=!N,Object.defineProperty(t(F),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),F.code="ERR_ASSERTION",F.actual=ne,F.expected=ie,F.operator=H,Error.captureStackTrace&&Error.captureStackTrace(t(F),X),F.name="AssertionError",y(F)}return function r(k,z){if("function"!=typeof z&&null!==z)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(z&&z.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),z&&c(k,z)}(z,k),function h(k,z,O){z&&C(k.prototype,z),O&&C(k,O)}(z,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:p.custom,value:function(F,N){return p(this,function D(k){for(var z=1;z<arguments.length;z++){var O=null!=arguments[z]?arguments[z]:{},F=Object.keys(O);"function"==typeof Object.getOwnPropertySymbols&&(F=F.concat(Object.getOwnPropertySymbols(O).filter(function(N){return Object.getOwnPropertyDescriptor(O,N).enumerable}))),F.forEach(function(N){o(k,N,O[N])})}return k}({},N,{customInspect:!1,depth:0}))}}]),z}(l(Error));te.exports=B},79616:function(te,Y,e){"use strict";function T(a){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(a)}function C(a){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(a)}function y(a,b){return(y=Object.setPrototypeOf||function(s,v){return s.__proto__=v,s})(a,b)}var r,l,t={};function i(a,b,p){p||(p=Error);var v=function(A){function x(E,g,M){var w;return function D(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,x),w=function o(a,b){return!b||"object"!==T(b)&&"function"!=typeof b?function P(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(a):b}(this,C(x).call(this,function s(A,x,E){return"string"==typeof b?b:b(A,x,E)}(E,g,M))),w.code=a,w}return function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&y(a,b)}(x,A),x}(p);t[a]=v}function u(a,b){if(Array.isArray(a)){var p=a.length;return a=a.map(function(s){return String(s)}),p>2?"one of ".concat(b," ").concat(a.slice(0,p-1).join(", "),", or ")+a[p-1]:2===p?"one of ".concat(b," ").concat(a[0]," or ").concat(a[1]):"of ".concat(b," ").concat(a[0])}return"of ".concat(b," ").concat(String(a))}i("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),i("ERR_INVALID_ARG_TYPE",function(a,b,p){var s,v;if(void 0===r&&(r=e(32791)),r("string"==typeof a,"'name' must be a string"),"string"==typeof b&&function f(a,b,p){return a.substr(!p||p<0?0:+p,b.length)===b}(b,"not ")?(s="must not be",b=b.replace(/^not /,"")):s="must be",function c(a,b,p){return(void 0===p||p>a.length)&&(p=a.length),a.substring(p-b.length,p)===b}(a," argument"))v="The ".concat(a," ").concat(s," ").concat(u(b,"type"));else{var A=function m(a,b,p){return"number"!=typeof p&&(p=0),!(p+b.length>a.length)&&-1!==a.indexOf(b,p)}(a,".")?"property":"argument";v='The "'.concat(a,'" ').concat(A," ").concat(s," ").concat(u(b,"type"))}return v+". Received type ".concat(T(p))},TypeError),i("ERR_INVALID_ARG_VALUE",function(a,b){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===l&&(l=e(43827));var s=l.inspect(b);return s.length>128&&(s="".concat(s.slice(0,128),"...")),"The argument '".concat(a,"' ").concat(p,". Received ").concat(s)},TypeError,RangeError),i("ERR_INVALID_RETURN_VALUE",function(a,b,p){var s;return s=p&&p.constructor&&p.constructor.name?"instance of ".concat(p.constructor.name):"type ".concat(T(p)),"Expected ".concat(a,' to be returned from the "').concat(b,'"')+" function but got ".concat(s,".")},TypeError),i("ERR_MISSING_ARGS",function(){for(var a=arguments.length,b=new Array(a),p=0;p<a;p++)b[p]=arguments[p];void 0===r&&(r=e(32791)),r(b.length>0,"At least one arg needs to be specified");var s="The ",v=b.length;switch(b=b.map(function(A){return'"'.concat(A,'"')}),v){case 1:s+="".concat(b[0]," argument");break;case 2:s+="".concat(b[0]," and ").concat(b[1]," arguments");break;default:s+=b.slice(0,v-1).join(", "),s+=", and ".concat(b[v-1]," arguments")}return"".concat(s," must be specified")},TypeError),te.exports.codes=t},74061:function(te,Y,e){"use strict";function T(xe,Me){return function P(xe){if(Array.isArray(xe))return xe}(xe)||function o(xe,Me){var Ge=[],Ye=!0,De=!1,He=void 0;try{for(var $e,rt=xe[Symbol.iterator]();!(Ye=($e=rt.next()).done)&&(Ge.push($e.value),!Me||Ge.length!==Me);Ye=!0);}catch(Be){De=!0,He=Be}finally{try{!Ye&&null!=rt.return&&rt.return()}finally{if(De)throw He}}return Ge}(xe,Me)||function D(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function C(xe){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ge){return typeof Ge}:function(Ge){return Ge&&"function"==typeof Symbol&&Ge.constructor===Symbol&&Ge!==Symbol.prototype?"symbol":typeof Ge})(xe)}var h=void 0!==/a/g.flags,y=function(Me){var Ge=[];return Me.forEach(function(Ye){return Ge.push(Ye)}),Ge},t=function(Me){var Ge=[];return Me.forEach(function(Ye,De){return Ge.push([De,Ye])}),Ge},r=Object.is?Object.is:e(64003),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},i=Number.isNaN?Number.isNaN:e(15567);function u(xe){return xe.call.bind(xe)}var f=u(Object.prototype.hasOwnProperty),c=u(Object.prototype.propertyIsEnumerable),m=u(Object.prototype.toString),a=e(43827).types,b=a.isAnyArrayBuffer,p=a.isArrayBufferView,s=a.isDate,v=a.isMap,A=a.isRegExp,x=a.isSet,E=a.isNativeError,g=a.isBoxedPrimitive,M=a.isNumberObject,w=a.isStringObject,n=a.isBooleanObject,S=a.isBigIntObject,d=a.isSymbolObject,I=a.isFloat32Array,L=a.isFloat64Array;function B(xe){if(0===xe.length||xe.length>10)return!0;for(var Me=0;Me<xe.length;Me++){var Ge=xe.charCodeAt(Me);if(Ge<48||Ge>57)return!0}return 10===xe.length&&xe>=Math.pow(2,32)}function k(xe){return Object.keys(xe).filter(B).concat(l(xe).filter(Object.prototype.propertyIsEnumerable.bind(xe)))}function z(xe,Me){if(xe===Me)return 0;for(var Ge=xe.length,Ye=Me.length,De=0,He=Math.min(Ge,Ye);De<He;++De)if(xe[De]!==Me[De]){Ge=xe[De],Ye=Me[De];break}return Ge<Ye?-1:Ye<Ge?1:0}var H=0,X=1,ne=2,ie=3;function K(xe,Me,Ge,Ye){if(xe===Me)return 0!==xe||!Ge||r(xe,Me);if(Ge){if("object"!==C(xe))return"number"==typeof xe&&i(xe)&&i(Me);if("object"!==C(Me)||null===xe||null===Me||Object.getPrototypeOf(xe)!==Object.getPrototypeOf(Me))return!1}else{if(null===xe||"object"!==C(xe))return(null===Me||"object"!==C(Me))&&xe==Me;if(null===Me||"object"!==C(Me))return!1}var De=m(xe);if(De!==m(Me))return!1;if(Array.isArray(xe)){if(xe.length!==Me.length)return!1;var rt=k(xe),$e=k(Me);return rt.length===$e.length&&Q(xe,Me,Ge,Ye,X,rt)}if("[object Object]"===De&&(!v(xe)&&v(Me)||!x(xe)&&x(Me)))return!1;if(s(xe)){if(!s(Me)||Date.prototype.getTime.call(xe)!==Date.prototype.getTime.call(Me))return!1}else if(A(xe)){if(!A(Me)||!function ue(xe,Me){return h?xe.source===Me.source&&xe.flags===Me.flags:RegExp.prototype.toString.call(xe)===RegExp.prototype.toString.call(Me)}(xe,Me))return!1}else if(E(xe)||xe instanceof Error){if(xe.message!==Me.message||xe.name!==Me.name)return!1}else{if(p(xe)){if(Ge||!I(xe)&&!L(xe)){if(!function j(xe,Me){return xe.byteLength===Me.byteLength&&0===z(new Uint8Array(xe.buffer,xe.byteOffset,xe.byteLength),new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength))}(xe,Me))return!1}else if(!function J(xe,Me){if(xe.byteLength!==Me.byteLength)return!1;for(var Ge=0;Ge<xe.byteLength;Ge++)if(xe[Ge]!==Me[Ge])return!1;return!0}(xe,Me))return!1;var Be=k(xe),ze=k(Me);return Be.length===ze.length&&Q(xe,Me,Ge,Ye,H,Be)}if(x(xe))return!(!x(Me)||xe.size!==Me.size)&&Q(xe,Me,Ge,Ye,ne);if(v(xe))return!(!v(Me)||xe.size!==Me.size)&&Q(xe,Me,Ge,Ye,ie);if(b(xe)){if(!function W(xe,Me){return xe.byteLength===Me.byteLength&&0===z(new Uint8Array(xe),new Uint8Array(Me))}(xe,Me))return!1}else if(g(xe)&&!function V(xe,Me){return M(xe)?M(Me)&&r(Number.prototype.valueOf.call(xe),Number.prototype.valueOf.call(Me)):w(xe)?w(Me)&&String.prototype.valueOf.call(xe)===String.prototype.valueOf.call(Me):n(xe)?n(Me)&&Boolean.prototype.valueOf.call(xe)===Boolean.prototype.valueOf.call(Me):S(xe)?S(Me)&&BigInt.prototype.valueOf.call(xe)===BigInt.prototype.valueOf.call(Me):d(Me)&&Symbol.prototype.valueOf.call(xe)===Symbol.prototype.valueOf.call(Me)}(xe,Me))return!1}return Q(xe,Me,Ge,Ye,H)}function ae(xe,Me){return Me.filter(function(Ge){return c(xe,Ge)})}function Q(xe,Me,Ge,Ye,De,He){if(5===arguments.length){He=Object.keys(xe);var rt=Object.keys(Me);if(He.length!==rt.length)return!1}for(var $e=0;$e<He.length;$e++)if(!f(Me,He[$e]))return!1;if(Ge&&5===arguments.length){var Be=l(xe);if(0!==Be.length){var ze=0;for($e=0;$e<Be.length;$e++){var tt=Be[$e];if(c(xe,tt)){if(!c(Me,tt))return!1;He.push(tt),ze++}else if(c(Me,tt))return!1}var lt=l(Me);if(Be.length!==lt.length&&ae(Me,lt).length!==ze)return!1}else{var ut=l(Me);if(0!==ut.length&&0!==ae(Me,ut).length)return!1}}if(0===He.length&&(De===H||De===X&&0===xe.length||0===xe.size))return!0;if(void 0===Ye)Ye={val1:new Map,val2:new Map,position:0};else{var xt=Ye.val1.get(xe);if(void 0!==xt){var bt=Ye.val2.get(Me);if(void 0!==bt)return xt===bt}Ye.position++}Ye.val1.set(xe,Ye.position),Ye.val2.set(Me,Ye.position);var Ht=function Pe(xe,Me,Ge,Ye,De,He){var rt=0;if(He===ne){if(!function de(xe,Me,Ge,Ye){for(var De=null,He=y(xe),rt=0;rt<He.length;rt++){var $e=He[rt];if("object"===C($e)&&null!==$e)null===De&&(De=new Set),De.add($e);else if(!Me.has($e)){if(Ge||!q(xe,Me,$e))return!1;null===De&&(De=new Set),De.add($e)}}if(null!==De){for(var Be=y(Me),ze=0;ze<Be.length;ze++){var tt=Be[ze];if("object"===C(tt)&&null!==tt){if(!Z(De,tt,Ge,Ye))return!1}else if(!Ge&&!xe.has(tt)&&!Z(De,tt,Ge,Ye))return!1}return 0===De.size}return!0}(xe,Me,Ge,De))return!1}else if(He===ie){if(!function ye(xe,Me,Ge,Ye){for(var De=null,He=t(xe),rt=0;rt<He.length;rt++){var $e=T(He[rt],2),ze=$e[1];if("object"===C(Be=$e[0])&&null!==Be)null===De&&(De=new Set),De.add(Be);else{var tt=Me.get(Be);if(void 0===tt&&!Me.has(Be)||!K(ze,tt,Ge,Ye)){if(Ge||!se(xe,Me,Be,ze,Ye))return!1;null===De&&(De=new Set),De.add(Be)}}}if(null!==De){for(var lt=t(Me),ut=0;ut<lt.length;ut++){var Be,xt=T(lt[ut],2),bt=xt[1];if("object"===C(Be=xt[0])&&null!==Be){if(!we(De,xe,Be,bt,Ge,Ye))return!1}else if(!(Ge||xe.has(Be)&&K(xe.get(Be),bt,!1,Ye)||we(De,xe,Be,bt,!1,Ye)))return!1}return 0===De.size}return!0}(xe,Me,Ge,De))return!1}else if(He===X)for(;rt<xe.length;rt++){if(!f(xe,rt)){if(f(Me,rt))return!1;for(var $e=Object.keys(xe);rt<$e.length;rt++){var Be=$e[rt];if(!f(Me,Be)||!K(xe[Be],Me[Be],Ge,De))return!1}return $e.length===Object.keys(Me).length}if(!f(Me,rt)||!K(xe[rt],Me[rt],Ge,De))return!1}for(rt=0;rt<Ye.length;rt++){var ze=Ye[rt];if(!K(xe[ze],Me[ze],Ge,De))return!1}return!0}(xe,Me,Ge,He,Ye,De);return Ye.val1.delete(xe),Ye.val2.delete(Me),Ht}function Z(xe,Me,Ge,Ye){for(var De=y(xe),He=0;He<De.length;He++){var rt=De[He];if(K(Me,rt,Ge,Ye))return xe.delete(rt),!0}return!1}function re(xe){switch(C(xe)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":xe=+xe;case"number":if(i(xe))return!1}return!0}function q(xe,Me,Ge){var Ye=re(Ge);return Ye??(Me.has(Ye)&&!xe.has(Ye))}function se(xe,Me,Ge,Ye,De){var He=re(Ge);if(null!=He)return He;var rt=Me.get(He);return!(void 0===rt&&!Me.has(He)||!K(Ye,rt,!1,De))&&!xe.has(He)&&K(Ye,rt,!1,De)}function we(xe,Me,Ge,Ye,De,He){for(var rt=y(xe),$e=0;$e<rt.length;$e++){var Be=rt[$e];if(K(Ge,Be,De,He)&&K(Ye,Me.get(Be),De,He))return xe.delete(Be),!0}return!1}te.exports={isDeepEqual:function Ie(xe,Me){return K(xe,Me,!1)},isDeepStrictEqual:function Se(xe,Me){return K(xe,Me,!0)}}},95341:function(te,Y){"use strict";Y.byteLength=function y(f){var c=h(f),a=c[1];return 3*(c[0]+a)/4-a},Y.toByteArray=function r(f){var c,A,m=h(f),a=m[0],b=m[1],p=new D(function t(f,c,m){return 3*(c+m)/4-m}(0,a,b)),s=0,v=b>0?a-4:a;for(A=0;A<v;A+=4)c=T[f.charCodeAt(A)]<<18|T[f.charCodeAt(A+1)]<<12|T[f.charCodeAt(A+2)]<<6|T[f.charCodeAt(A+3)],p[s++]=c>>16&255,p[s++]=c>>8&255,p[s++]=255&c;return 2===b&&(c=T[f.charCodeAt(A)]<<2|T[f.charCodeAt(A+1)]>>4,p[s++]=255&c),1===b&&(c=T[f.charCodeAt(A)]<<10|T[f.charCodeAt(A+1)]<<4|T[f.charCodeAt(A+2)]>>2,p[s++]=c>>8&255,p[s++]=255&c),p},Y.fromByteArray=function u(f){for(var c,m=f.length,a=m%3,b=[],p=16383,s=0,v=m-a;s<v;s+=p)b.push(i(f,s,s+p>v?v:s+p));return 1===a?b.push(e[(c=f[m-1])>>2]+e[c<<4&63]+"=="):2===a&&b.push(e[(c=(f[m-2]<<8)+f[m-1])>>10]+e[c>>4&63]+e[c<<2&63]+"="),b.join("")};for(var e=[],T=[],D=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0;P<64;++P)e[P]=o[P],T[o.charCodeAt(P)]=P;function h(f){var c=f.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=f.indexOf("=");return-1===m&&(m=c),[m,m===c?0:4-m%4]}function l(f){return e[f>>18&63]+e[f>>12&63]+e[f>>6&63]+e[63&f]}function i(f,c,m){for(var b=[],p=c;p<m;p+=3)b.push(l((f[p]<<16&16711680)+(f[p+1]<<8&65280)+(255&f[p+2])));return b.join("")}T["-".charCodeAt(0)]=62,T["_".charCodeAt(0)]=63},91358:function(te){"use strict";function Y(C,h,y,t,r){for(var l=r+1;t<=r;){var i=t+r>>>1,u=C[i];(void 0!==y?y(u,h):u-h)>=0?(l=i,r=i-1):t=i+1}return l}function e(C,h,y,t,r){for(var l=r+1;t<=r;){var i=t+r>>>1,u=C[i];(void 0!==y?y(u,h):u-h)>0?(l=i,r=i-1):t=i+1}return l}function T(C,h,y,t,r){for(var l=t-1;t<=r;){var i=t+r>>>1,u=C[i];(void 0!==y?y(u,h):u-h)<0?(l=i,t=i+1):r=i-1}return l}function D(C,h,y,t,r){for(var l=t-1;t<=r;){var i=t+r>>>1,u=C[i];(void 0!==y?y(u,h):u-h)<=0?(l=i,t=i+1):r=i-1}return l}function o(C,h,y,t,r){for(;t<=r;){var l=t+r>>>1,i=C[l],u=void 0!==y?y(i,h):i-h;if(0===u)return l;u<=0?t=l+1:r=l-1}return-1}function P(C,h,y,t,r,l){return"function"==typeof y?l(C,h,y,void 0===t?0:0|t,void 0===r?C.length-1:0|r):l(C,h,void 0,void 0===y?0:0|y,void 0===t?C.length-1:0|t)}te.exports={ge:function(C,h,y,t,r){return P(C,h,y,t,r,Y)},gt:function(C,h,y,t,r){return P(C,h,y,t,r,e)},lt:function(C,h,y,t,r){return P(C,h,y,t,r,T)},le:function(C,h,y,t,r){return P(C,h,y,t,r,D)},eq:function(C,h,y,t,r){return P(C,h,y,t,r,o)}}},13547:function(te,Y){"use strict";function T(o){var P=32;return(o&=-o)&&P--,65535&o&&(P-=16),16711935&o&&(P-=8),252645135&o&&(P-=4),858993459&o&&(P-=2),1431655765&o&&(P-=1),P}Y.INT_BITS=32,Y.INT_MAX=2147483647,Y.INT_MIN=-1<<31,Y.sign=function(o){return(o>0)-(o<0)},Y.abs=function(o){var P=o>>31;return(o^P)-P},Y.min=function(o,P){return P^(o^P)&-(o<P)},Y.max=function(o,P){return o^(o^P)&-(o<P)},Y.isPow2=function(o){return!(o&o-1||!o)},Y.log2=function(o){var P,C;return P=(o>65535)<<4,P|=C=((o>>>=P)>255)<<3,P|=C=((o>>>=C)>15)<<2,(P|=C=((o>>>=C)>3)<<1)|(o>>>=C)>>1},Y.log10=function(o){return o>=1e9?9:o>=1e8?8:o>=1e7?7:o>=1e6?6:o>=1e5?5:o>=1e4?4:o>=1e3?3:o>=100?2:o>=10?1:0},Y.popCount=function(o){return 16843009*((o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135)>>>24},Y.countTrailingZeros=T,Y.nextPow2=function(o){return o+=0===o,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,1+(o|=o>>>16)},Y.prevPow2=function(o){return o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,(o|=o>>>16)-(o>>>1)},Y.parity=function(o){return o^=o>>>16,o^=o>>>8,o^=o>>>4,27030>>>(o&=15)&1};var D=new Array(256);(function(o){for(var P=0;P<256;++P){var C=P,h=P,y=7;for(C>>>=1;C;C>>>=1)h<<=1,h|=1&C,--y;o[P]=h<<y&255}})(D),Y.reverse=function(o){return D[255&o]<<24|D[o>>>8&255]<<16|D[o>>>16&255]<<8|D[o>>>24&255]},Y.interleave2=function(o,P){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))|(P=1431655765&((P=858993459&((P=252645135&((P=16711935&((P&=65535)|P<<8))|P<<4))|P<<2))|P<<1))<<1},Y.deinterleave2=function(o,P){return(o=65535&((o=16711935&((o=252645135&((o=858993459&((o=o>>>P&1431655765)|o>>>1))|o>>>2))|o>>>4))|o>>>16))<<16>>16},Y.interleave3=function(o,P,C){return o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2),(o|=(P=1227133513&((P=3272356035&((P=251719695&((P=4278190335&((P&=1023)|P<<16))|P<<8))|P<<4))|P<<2))<<1)|(C=1227133513&((C=3272356035&((C=251719695&((C=4278190335&((C&=1023)|C<<16))|C<<8))|C<<4))|C<<2))<<2},Y.deinterleave3=function(o,P){return(o=1023&((o=4278190335&((o=251719695&((o=3272356035&((o=o>>>P&1227133513)|o>>>2))|o>>>4))|o>>>8))|o>>>16))<<22>>22},Y.nextCombination=function(o){var P=o|o-1;return P+1|(~P&-~P)-1>>>T(o)+1}},44781:function(te,Y,e){"use strict";var T=e(53435);te.exports=function o(h,y){y||(y={});var i,u,f,c,m,a,p,v,A,t=null==y.cutoff?.25:y.cutoff,r=null==y.radius?8:y.radius,l=y.channel||0;if(ArrayBuffer.isView(h)||Array.isArray(h)){if(!y.width||!y.height)throw Error("For raw data width and height should be provided by options");i=y.width,u=y.height,c=h,a=y.stride?y.stride:Math.floor(h.length/i/u)}else window.HTMLCanvasElement&&h instanceof window.HTMLCanvasElement?(c=(p=h).getContext("2d").getImageData(0,0,i=p.width,u=p.height).data,a=4):window.CanvasRenderingContext2D&&h instanceof window.CanvasRenderingContext2D?(c=h.getImageData(0,0,i=(p=h.canvas).width,u=p.height).data,a=4):window.ImageData&&h instanceof window.ImageData&&(i=h.width,u=h.height,c=h.data,a=4);if(f=Math.max(i,u),window.Uint8ClampedArray&&c instanceof window.Uint8ClampedArray||window.Uint8Array&&c instanceof window.Uint8Array)for(m=c,c=Array(i*u),v=0,A=m.length;v<A;v++)c[v]=m[v*a+l]/255;else if(1!==a)throw Error("Raw data can have only 1 value per pixel");var x=Array(i*u),E=Array(i*u),g=Array(f),M=Array(f),w=Array(f+1),n=Array(f);for(v=0,A=i*u;v<A;v++){var S=c[v];x[v]=1===S?0:0===S?D:Math.pow(Math.max(0,.5-S),2),E[v]=1===S?D:0===S?0:Math.pow(Math.max(0,S-.5),2)}P(x,i,u,g,M,n,w),P(E,i,u,g,M,n,w);var d=window.Float32Array?new Float32Array(i*u):new Array(i*u);for(v=0,A=i*u;v<A;v++)d[v]=T(1-((x[v]-E[v])/r+t),0,1);return d};var D=1e20;function P(h,y,t,r,l,i,u){for(var f=0;f<y;f++){for(var c=0;c<t;c++)r[c]=h[c*y+f];for(C(r,l,i,u,t),c=0;c<t;c++)h[c*y+f]=l[c]}for(c=0;c<t;c++){for(f=0;f<y;f++)r[f]=h[c*y+f];for(C(r,l,i,u,y),f=0;f<y;f++)h[c*y+f]=Math.sqrt(l[f])}}function C(h,y,t,r,l){t[0]=0,r[0]=-D,r[1]=+D;for(var i=1,u=0;i<l;i++){for(var f=(h[i]+i*i-(h[t[u]]+t[u]*t[u]))/(2*i-2*t[u]);f<=r[u];)u--,f=(h[i]+i*i-(h[t[u]]+t[u]*t[u]))/(2*i-2*t[u]);t[++u]=i,r[u]=f,r[u+1]=+D}for(i=0,u=0;i<l;i++){for(;r[u+1]<i;)u++;y[i]=(i-t[u])*(i-t[u])+h[t[u]]}}},6614:function(te,Y,e){"use strict";var T=e(68318),D=e(68222),o=D(T("String.prototype.indexOf"));te.exports=function(C,h){var y=T(C,!!h);return"function"==typeof y&&o(C,".prototype.")>-1?D(y):y}},68222:function(te,Y,e){"use strict";var T=e(77575),D=e(68318),o=D("%Function.prototype.apply%"),P=D("%Function.prototype.call%"),C=D("%Reflect.apply%",!0)||T.call(P,o),h=D("%Object.getOwnPropertyDescriptor%",!0),y=D("%Object.defineProperty%",!0),t=D("%Math.max%");if(y)try{y({},"a",{value:1})}catch{y=null}te.exports=function(i){var u=C(T,P,arguments);return h&&y&&h(u,"length").configurable&&y(u,"length",{value:1+t(0,i.length-(arguments.length-1))}),u};var r=function(){return C(T,o,arguments)};y?y(te.exports,"apply",{value:r}):te.exports.apply=r},53435:function(te){te.exports=function Y(e,T,D){return T<D?e<T?T:e>D?D:e:e<D?D:e>T?T:e}},6475:function(te,Y,e){"use strict";var T=e(53435);function D(P,C){null==C&&(C=!0);var h=P[0],y=P[1],t=P[2],r=P[3];return null==r&&(r=C?1:255),C&&(h*=255,y*=255,t*=255,r*=255),16777216*(h=255&T(h,0,255))+((y=255&T(y,0,255))<<16)+((t=255&T(t,0,255))<<8)+(255&T(r,0,255))}te.exports=D,te.exports.to=D,te.exports.from=function o(P,C){var h=(P=+P)>>>24,y=(16711680&P)>>>16,t=(65280&P)>>>8,r=255&P;return!1===C?[h,y,t,r]:[h/255,y/255,t/255,r/255]}},76857:function(te){"use strict";te.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(te,Y,e){"use strict";var T=e(36652),D=e(53435),o=e(90660);te.exports=function(h,y){("float"===y||!y)&&(y="array"),"uint"===y&&(y="uint8"),"uint_clamped"===y&&(y="uint8_clamped");var r=new(o(y))(4),l="uint8"!==y&&"uint8_clamped"!==y;return(!h.length||"string"==typeof h)&&((h=T(h))[0]/=255,h[1]/=255,h[2]/=255),function P(C){return!!(C instanceof Uint8Array||C instanceof Uint8ClampedArray||Array.isArray(C)&&(C[0]>1||0===C[0])&&(C[1]>1||0===C[1])&&(C[2]>1||0===C[2])&&(!C[3]||C[3]>1))}(h)?(r[0]=h[0],r[1]=h[1],r[2]=h[2],r[3]=null!=h[3]?h[3]:255,l&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(l?(r[0]=h[0],r[1]=h[1],r[2]=h[2],r[3]=null!=h[3]?h[3]:1):(r[0]=D(Math.floor(255*h[0]),0,255),r[1]=D(Math.floor(255*h[1]),0,255),r[2]=D(Math.floor(255*h[2]),0,255),r[3]=null==h[3]?255:D(Math.floor(255*h[3]),0,255)),r)}},90736:function(te,Y,e){"use strict";var T=e(76857),D=e(10973),o=e(46775);te.exports=function C(h){var y,l,t=[],r=1;if("string"==typeof h)if(T[h])t=T[h].slice(),l="rgb";else if("transparent"===h)r=0,l="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(h)){var i=h.slice(1);r=1,(u=i.length)<=4?(t=[parseInt(i[0]+i[0],16),parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16)],4===u&&(r=parseInt(i[3]+i[3],16)/255)):(t=[parseInt(i[0]+i[1],16),parseInt(i[2]+i[3],16),parseInt(i[4]+i[5],16)],8===u&&(r=parseInt(i[6]+i[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),l="rgb"}else if(y=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(h)){var c=y[1],m="rgb"===c;l=i=c.replace(/a$/,"");var u="cmyk"===i?4:"gray"===i?1:3;t=y[2].trim().split(/\s*,\s*/).map(function(s,v){if(/%$/.test(s))return v===u?parseFloat(s)/100:"rgb"===i?255*parseFloat(s)/100:parseFloat(s);if("h"===i[v]){if(/deg$/.test(s))return parseFloat(s);if(void 0!==P[s])return P[s]}return parseFloat(s)}),c===i&&t.push(1),r=m||void 0===t[u]?1:t[u],t=t.slice(0,u)}else h.length>10&&/[0-9](?:\s|\/)/.test(h)&&(t=h.match(/([0-9]+)/g).map(function(b){return parseFloat(b)}),l=h.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(h))if(D(h)){var a=o(h.r,h.red,h.R,null);null!==a?(l="rgb",t=[a,o(h.g,h.green,h.G),o(h.b,h.blue,h.B)]):(l="hsl",t=[o(h.h,h.hue,h.H),o(h.s,h.saturation,h.S),o(h.l,h.lightness,h.L,h.b,h.brightness)]),r=o(h.a,h.alpha,h.opacity,1),null!=h.opacity&&(r/=100)}else(Array.isArray(h)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(h))&&(t=[h[0],h[1],h[2]],l="rgb",r=4===h.length?h[3]:1);else l="rgb",t=[h>>>16,(65280&h)>>>8,255&h];return{space:l,values:t,alpha:r}};var P={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(te,Y,e){"use strict";var T=e(90736),D=e(80009),o=e(53435);te.exports=function(C){var h,r=T(C);return r.space?((h=Array(3))[0]=o(r.values[0],0,255),h[1]=o(r.values[1],0,255),h[2]=o(r.values[2],0,255),"h"===r.space[0]&&(h=D.rgb(h)),h.push(o(r.alpha,0,1)),h):[]}},80009:function(te,Y,e){"use strict";var T=e(6866);te.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(D){var h,y,t,r,l,o=D[0]/360,P=D[1]/100,C=D[2]/100;if(0===P)return[l=255*C,l,l];h=2*C-(y=C<.5?C*(1+P):C+P-C*P),r=[0,0,0];for(var i=0;i<3;i++)(t=o+.3333333333333333*-(i-1))<0?t++:t>1&&t--,r[i]=255*(l=6*t<1?h+6*(y-h)*t:2*t<1?y:3*t<2?h+(y-h)*(.6666666666666666-t)*6:h);return r}},T.hsl=function(D){var r,i,o=D[0]/255,P=D[1]/255,C=D[2]/255,h=Math.min(o,P,C),y=Math.max(o,P,C),t=y-h;return y===h?r=0:o===y?r=(P-C)/t:P===y?r=2+(C-o)/t:C===y&&(r=4+(o-P)/t),(r=Math.min(60*r,360))<0&&(r+=360),i=(h+y)/2,[r,100*(y===h?0:i<=.5?t/(y+h):t/(2-y-h)),100*i]}},6866:function(te){"use strict";te.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(te){te.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xe9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xe9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xe3)o.?tom(e|\xe9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(te,Y,e){"use strict";te.exports={parse:e(41004),stringify:e(53313)}},63625:function(te,Y,e){"use strict";var T=e(40402);te.exports={isSize:function(o){return/^[\d\.]/.test(o)||-1!==o.indexOf("/")||-1!==T.indexOf(o)}}},41004:function(te,Y,e){"use strict";var T=e(90448),D=e(38732),o=e(41901),P=e(15659),C=e(96209),h=e(83794),y=e(99011),t=e(63625).isSize;te.exports=l;var r=l.cache={};function l(u){if("string"!=typeof u)throw new Error("Font argument must be a string.");if(r[u])return r[u];if(""===u)throw new Error("Cannot parse an empty string.");if(-1!==o.indexOf(u))return r[u]={system:u};for(var m,f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},c=y(u,/\s+/);m=c.shift();){if(-1!==D.indexOf(m))return["style","variant","weight","stretch"].forEach(function(b){f[b]=m}),r[u]=f;if(-1===C.indexOf(m))if("normal"!==m&&"small-caps"!==m)if(-1===h.indexOf(m)){if(-1===P.indexOf(m)){if(t(m)){var a=y(m,"/");if(f.size=a[0],null!=a[1]?f.lineHeight=i(a[1]):"/"===c[0]&&(c.shift(),f.lineHeight=i(c.shift())),!c.length)throw new Error("Missing required font-family.");return f.family=y(c.join(" "),/\s*,\s*/).map(T),r[u]=f}throw new Error("Unknown or unsupported font token: "+m)}f.weight=m}else f.stretch=m;else f.variant=m;else f.style=m}throw new Error("Missing required font-size.")}function i(u){var f=parseFloat(u);return f.toString()===u?f:u}},53313:function(te,Y,e){"use strict";var T=e(71299),D=e(63625).isSize,o=u(e(38732)),P=u(e(41901)),C=u(e(15659)),h=u(e(96209)),y=u(e(83794)),t={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1};function i(f,c){if(f&&!c[f]&&!o[f])throw Error("Unknown keyword `"+f+"`");return f}function u(f){for(var c={},m=0;m<f.length;m++)c[f[m]]=1;return c}te.exports=function(c){if((c=T(c,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return c.system&&i(c.system,P),c.system;if(i(c.style,h),i(c.variant,t),i(c.weight,C),i(c.stretch,y),null==c.size&&(c.size="1rem"),"number"==typeof c.size&&(c.size+="px"),!D)throw Error("Bad size value `"+c.size+"`");c.family||(c.family="serif"),Array.isArray(c.family)&&(c.family.length||(c.family=["serif"]),c.family=c.family.map(function(a){return r[a]?a:'"'+a+'"'}).join(", "));var m=[];return m.push(c.style),c.variant!==c.style&&m.push(c.variant),c.weight!==c.variant&&c.weight!==c.style&&m.push(c.weight),c.stretch!==c.weight&&c.stretch!==c.variant&&c.stretch!==c.style&&m.push(c.stretch),m.push(c.size+(null==c.lineHeight||"normal"===c.lineHeight||c.lineHeight+""=="1"?"":"/"+c.lineHeight)),m.push(c.family),m.filter(Boolean).join(" ")}},55174:function(te,Y,e){"use strict";var l,T=e(24582),D=e(10424),o=e(82527),P=e(19012),C=e(21780),h=e(16906),y=Function.prototype.bind,t=Object.defineProperty,r=Object.prototype.hasOwnProperty;l=function(i,u,f){var m,c=D(u)&&o(u.value);return delete(m=P(u)).writable,delete m.value,m.get=function(){return!f.overwriteDefinition&&r.call(this,i)?c:(u.value=y.call(c,f.resolveContext?f.resolveContext(this):this),t(this,i,u),this[i])},m},te.exports=function(i){var u=C(arguments[1]);return T(u.resolveContext)&&o(u.resolveContext),h(i,function(f,c){return l(c,f,u)})}},62072:function(te,Y,e){"use strict";var T=e(24582),D=e(84985),o=e(95879),P=e(21780),C=e(66741),h=te.exports=function(y,t){var r,l,i,u,f;return arguments.length<2||"string"!=typeof y?(u=t,t=y,y=null):u=arguments[2],T(y)?(r=C.call(y,"c"),l=C.call(y,"e"),i=C.call(y,"w")):(r=i=!0,l=!1),f={value:t,configurable:r,enumerable:l,writable:i},u?o(P(u),f):f};h.gs=function(y,t,r){var l,i,u,f;return"string"!=typeof y?(u=r,r=t,t=y,y=null):u=arguments[3],T(t)?D(t)?T(r)?D(r)||(u=r,r=void 0):r=void 0:(u=t,t=r=void 0):t=void 0,T(y)?(l=C.call(y,"c"),i=C.call(y,"e")):(l=!0,i=!1),f={get:t,set:r,configurable:l,enumerable:i},u?o(P(u),f):f}},33064:function(te,Y,e){"use strict";function T(w,n){return w<n?-1:w>n?1:w>=n?0:NaN}function s(w,n){var I,L,S=w.length,d=-1;if(null==n){for(;++d<S;)if(null!=(I=w[d])&&I>=I)for(L=I;++d<S;)null!=(I=w[d])&&I>L&&(L=I)}else for(;++d<S;)if(null!=(I=n(w[d],d,w))&&I>=I)for(L=I;++d<S;)null!=(I=n(w[d],d,w))&&I>L&&(L=I);return L}function v(w){return null===w?NaN:+w}function A(w,n){var L,S=w.length,d=S,I=-1,B=0;if(null==n)for(;++I<S;)isNaN(L=v(w[I]))?--d:B+=L;else for(;++I<S;)isNaN(L=v(n(w[I],I,w)))?--d:B+=L;if(d)return B/d}function x(w){for(var S,L,B,n=w.length,d=-1,I=0;++d<n;)I+=w[d].length;for(L=new Array(I);--n>=0;)for(S=(B=w[n]).length;--S>=0;)L[--I]=B[S];return L}function E(w,n){var I,L,S=w.length,d=-1;if(null==n){for(;++d<S;)if(null!=(I=w[d])&&I>=I)for(L=I;++d<S;)null!=(I=w[d])&&L>I&&(L=I)}else for(;++d<S;)if(null!=(I=n(w[d],d,w))&&I>=I)for(L=I;++d<S;)null!=(I=n(w[d],d,w))&&L>I&&(L=I);return L}function g(w,n,S){w=+w,n=+n,S=(I=arguments.length)<2?(n=w,w=0,1):I<3?1:+S;for(var d=-1,I=0|Math.max(0,Math.ceil((n-w)/S)),L=new Array(I);++d<I;)L[d]=w+d*S;return L}function M(w,n){var I,S=w.length,d=-1,L=0;if(null==n)for(;++d<S;)(I=+w[d])&&(L+=I);else for(;++d<S;)(I=+n(w[d],d,w))&&(L+=I);return L}e.d(Y,{j2:function(){return T},Fp:function(){return s},J6:function(){return A},TS:function(){return x},VV:function(){return E},w6:function(){return g},Sm:function(){return M}}),function D(w){1===w.length&&(w=function o(w){return function(n,S){return T(w(n),S)}}(w))}(T),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},15140:function(te,Y,e){"use strict";e.d(Y,{UI:function(){return P},b1:function(){return C}});var T="$";function D(){}function o(c,m){var a=new D;if(c instanceof D)c.each(function(A,x){a.set(x,A)});else if(Array.isArray(c)){var s,b=-1,p=c.length;if(null==m)for(;++b<p;)a.set(b,c[b]);else for(;++b<p;)a.set(m(s=c[b],b,c),s)}else if(c)for(var v in c)a.set(v,c[v]);return a}D.prototype=o.prototype={constructor:D,has:function(c){return T+c in this},get:function(c){return this[T+c]},set:function(c,m){return this[T+c]=m,this},remove:function(c){var m=T+c;return m in this&&delete this[m]},clear:function(){for(var c in this)c[0]===T&&delete this[c]},keys:function(){var c=[];for(var m in this)m[0]===T&&c.push(m.slice(1));return c},values:function(){var c=[];for(var m in this)m[0]===T&&c.push(this[m]);return c},entries:function(){var c=[];for(var m in this)m[0]===T&&c.push({key:m.slice(1),value:this[m]});return c},size:function(){var c=0;for(var m in this)m[0]===T&&++c;return c},empty:function(){for(var c in this)if(c[0]===T)return!1;return!0},each:function(c){for(var m in this)m[0]===T&&c(this[m],m.slice(1),this)}};var P=o;function C(){var a,b,p,c=[],m=[];function s(A,x,E,g){if(x>=c.length)return null!=a&&A.sort(a),null!=b?b(A):A;for(var S,d,L,M=-1,w=A.length,n=c[x++],I=P(),B=E();++M<w;)(L=I.get(S=n(d=A[M])+""))?L.push(d):I.set(S,[d]);return I.each(function(k,z){g(B,z,s(k,x,E,g))}),B}function v(A,x){if(++x>c.length)return A;var E,g=m[x-1];return null!=b&&x>=c.length?E=A.entries():(E=[],A.each(function(M,w){E.push({key:w,values:v(M,x)})})),null!=g?E.sort(function(M,w){return g(M.key,w.key)}):E}return p={object:function(A){return s(A,0,h,y)},map:function(A){return s(A,0,t,r)},entries:function(A){return v(s(A,0,t,r),0)},key:function(A){return c.push(A),p},sortKeys:function(A){return m[c.length-1]=A,p},sortValues:function(A){return a=A,p},rollup:function(A){return b=A,p}}}function h(){return{}}function y(c,m,a){c[m]=a}function t(){return P()}function r(c,m,a){c.set(m,a)}function l(){}var i=P.prototype;l.prototype=function u(c,m){var a=new l;if(c instanceof l)c.each(function(s){a.add(s)});else if(c){var b=-1,p=c.length;if(null==m)for(;++b<p;)a.add(c[b]);else for(;++b<p;)a.add(m(c[b],b,c))}return a}.prototype={constructor:l,has:i.has,add:function(c){return this[T+(c+="")]=c,this},remove:i.remove,clear:i.clear,values:i.keys,size:i.size,empty:i.empty,each:i.each}},49887:function(te,Y,e){"use strict";function T(ze,tt){var lt;function ut(){var xt,Ht,bt=lt.length,Je=0,Ce=0;for(xt=0;xt<bt;++xt)Je+=(Ht=lt[xt]).x,Ce+=Ht.y;for(Je=Je/bt-ze,Ce=Ce/bt-tt,xt=0;xt<bt;++xt)(Ht=lt[xt]).x-=Je,Ht.y-=Ce}return null==ze&&(ze=0),null==tt&&(tt=0),ut.initialize=function(xt){lt=xt},ut.x=function(xt){return arguments.length?(ze=+xt,ut):ze},ut.y=function(xt){return arguments.length?(tt=+xt,ut):tt},ut}function D(ze){return function(){return ze}}function o(){return 1e-6*(Math.random()-.5)}function C(ze,tt,lt,ut){if(isNaN(tt)||isNaN(lt))return ze;var xt,ke,Ne,_e,Te,fe,pe,Fe,Xe,bt=ze._root,Ht={data:ut},Je=ze._x0,Ce=ze._y0,Ee=ze._x1,Re=ze._y1;if(!bt)return ze._root=Ht,ze;for(;bt.length;)if((fe=tt>=(ke=(Je+Ee)/2))?Je=ke:Ee=ke,(pe=lt>=(Ne=(Ce+Re)/2))?Ce=Ne:Re=Ne,xt=bt,!(bt=bt[Fe=pe<<1|fe]))return xt[Fe]=Ht,ze;if(_e=+ze._x.call(null,bt.data),Te=+ze._y.call(null,bt.data),tt===_e&&lt===Te)return Ht.next=bt,xt?xt[Fe]=Ht:ze._root=Ht,ze;do{xt=xt?xt[Fe]=new Array(4):ze._root=new Array(4),(fe=tt>=(ke=(Je+Ee)/2))?Je=ke:Ee=ke,(pe=lt>=(Ne=(Ce+Re)/2))?Ce=Ne:Re=Ne}while((Fe=pe<<1|fe)==(Xe=(Te>=Ne)<<1|_e>=ke));return xt[Xe]=bt,xt[Fe]=Ht,ze}function l(ze,tt,lt,ut,xt){this.node=ze,this.x0=tt,this.y0=lt,this.x1=ut,this.y1=xt}function p(ze){return ze[0]}function v(ze){return ze[1]}function x(ze,tt,lt){var ut=new E(tt??p,lt??v,NaN,NaN,NaN,NaN);return null==ze?ut:ut.addAll(ze)}function E(ze,tt,lt,ut,xt,bt){this._x=ze,this._y=tt,this._x0=lt,this._y0=ut,this._x1=xt,this._y1=bt,this._root=void 0}function g(ze){for(var tt={data:ze.data},lt=tt;ze=ze.next;)lt=lt.next={data:ze.data};return tt}e.r(Y),e.d(Y,{forceCenter:function(){return T},forceCollide:function(){return S},forceLink:function(){return B},forceManyBody:function(){return He},forceRadial:function(){return rt},forceSimulation:function(){return De},forceX:function(){return $e},forceY:function(){return Be}});var M=x.prototype=E.prototype;function w(ze){return ze.x+ze.vx}function n(ze){return ze.y+ze.vy}function S(ze){var tt,lt,ut=1,xt=1;function bt(){for(var Ce,Re,ke,Ne,_e,Te,fe,Ee=tt.length,pe=0;pe<xt;++pe)for(Re=x(tt,w,n).visitAfter(Ht),Ce=0;Ce<Ee;++Ce)fe=(Te=lt[(ke=tt[Ce]).index])*Te,Ne=ke.x+ke.vx,_e=ke.y+ke.vy,Re.visit(Fe);function Fe(Xe,at,ft,Xt,rr){var At=Xe.data,zt=Xe.r,Qt=Te+zt;if(!At)return at>Ne+Qt||Xt<Ne-Qt||ft>_e+Qt||rr<_e-Qt;if(At.index>ke.index){var Rr=Ne-At.x-At.vx,pt=_e-At.y-At.vy,$t=Rr*Rr+pt*pt;$t<Qt*Qt&&(0===Rr&&($t+=(Rr=o())*Rr),0===pt&&($t+=(pt=o())*pt),$t=(Qt-($t=Math.sqrt($t)))/$t*ut,ke.vx+=(Rr*=$t)*(Qt=(zt*=zt)/(fe+zt)),ke.vy+=(pt*=$t)*Qt,At.vx-=Rr*(Qt=1-Qt),At.vy-=pt*Qt)}}}function Ht(Ce){if(Ce.data)return Ce.r=lt[Ce.data.index];for(var Ee=Ce.r=0;Ee<4;++Ee)Ce[Ee]&&Ce[Ee].r>Ce.r&&(Ce.r=Ce[Ee].r)}function Je(){if(tt){var Ce,Re,Ee=tt.length;for(lt=new Array(Ee),Ce=0;Ce<Ee;++Ce)lt[(Re=tt[Ce]).index]=+ze(Re,Ce,tt)}}return"function"!=typeof ze&&(ze=D(null==ze?1:+ze)),bt.initialize=function(Ce){tt=Ce,Je()},bt.iterations=function(Ce){return arguments.length?(xt=+Ce,bt):xt},bt.strength=function(Ce){return arguments.length?(ut=+Ce,bt):ut},bt.radius=function(Ce){return arguments.length?(ze="function"==typeof Ce?Ce:D(+Ce),Je(),bt):ze},bt}M.copy=function(){var lt,ut,ze=new E(this._x,this._y,this._x0,this._y0,this._x1,this._y1),tt=this._root;if(!tt)return ze;if(!tt.length)return ze._root=g(tt),ze;for(lt=[{source:tt,target:ze._root=new Array(4)}];tt=lt.pop();)for(var xt=0;xt<4;++xt)(ut=tt.source[xt])&&(ut.length?lt.push({source:ut,target:tt.target[xt]=new Array(4)}):tt.target[xt]=g(ut));return ze},M.add=function P(ze){var tt=+this._x.call(null,ze),lt=+this._y.call(null,ze);return C(this.cover(tt,lt),tt,lt,ze)},M.addAll=function h(ze){var tt,lt,xt,bt,ut=ze.length,Ht=new Array(ut),Je=new Array(ut),Ce=1/0,Ee=1/0,Re=-1/0,ke=-1/0;for(lt=0;lt<ut;++lt)isNaN(xt=+this._x.call(null,tt=ze[lt]))||isNaN(bt=+this._y.call(null,tt))||(Ht[lt]=xt,Je[lt]=bt,xt<Ce&&(Ce=xt),xt>Re&&(Re=xt),bt<Ee&&(Ee=bt),bt>ke&&(ke=bt));if(Ce>Re||Ee>ke)return this;for(this.cover(Ce,Ee).cover(Re,ke),lt=0;lt<ut;++lt)C(this,Ht[lt],Je[lt],ze[lt]);return this},M.cover=function y(ze,tt){if(isNaN(ze=+ze)||isNaN(tt=+tt))return this;var lt=this._x0,ut=this._y0,xt=this._x1,bt=this._y1;if(isNaN(lt))xt=(lt=Math.floor(ze))+1,bt=(ut=Math.floor(tt))+1;else{for(var Ce,Ee,Ht=xt-lt,Je=this._root;lt>ze||ze>=xt||ut>tt||tt>=bt;)switch(Ee=(tt<ut)<<1|ze<lt,Ce=new Array(4),Ce[Ee]=Je,Je=Ce,Ht*=2,Ee){case 0:xt=lt+Ht,bt=ut+Ht;break;case 1:lt=xt-Ht,bt=ut+Ht;break;case 2:xt=lt+Ht,ut=bt-Ht;break;case 3:lt=xt-Ht,ut=bt-Ht}this._root&&this._root.length&&(this._root=Je)}return this._x0=lt,this._y0=ut,this._x1=xt,this._y1=bt,this},M.data=function t(){var ze=[];return this.visit(function(tt){if(!tt.length)do{ze.push(tt.data)}while(tt=tt.next)}),ze},M.extent=function r(ze){return arguments.length?this.cover(+ze[0][0],+ze[0][1]).cover(+ze[1][0],+ze[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},M.find=function i(ze,tt,lt){var ut,Ht,Je,Ce,Ee,Te,fe,xt=this._x0,bt=this._y0,Re=this._x1,ke=this._y1,Ne=[],_e=this._root;for(_e&&Ne.push(new l(_e,xt,bt,Re,ke)),null==lt?lt=1/0:(xt=ze-lt,bt=tt-lt,Re=ze+lt,ke=tt+lt,lt*=lt);Te=Ne.pop();)if(!(!(_e=Te.node)||(Ht=Te.x0)>Re||(Je=Te.y0)>ke||(Ce=Te.x1)<xt||(Ee=Te.y1)<bt))if(_e.length){var pe=(Ht+Ce)/2,Fe=(Je+Ee)/2;Ne.push(new l(_e[3],pe,Fe,Ce,Ee),new l(_e[2],Ht,Fe,pe,Ee),new l(_e[1],pe,Je,Ce,Fe),new l(_e[0],Ht,Je,pe,Fe)),(fe=(tt>=Fe)<<1|ze>=pe)&&(Te=Ne[Ne.length-1],Ne[Ne.length-1]=Ne[Ne.length-1-fe],Ne[Ne.length-1-fe]=Te)}else{var Xe=ze-+this._x.call(null,_e.data),at=tt-+this._y.call(null,_e.data),ft=Xe*Xe+at*at;if(ft<lt){var Xt=Math.sqrt(lt=ft);xt=ze-Xt,bt=tt-Xt,Re=ze+Xt,ke=tt+Xt,ut=_e.data}}return ut},M.remove=function u(ze){if(isNaN(Re=+this._x.call(null,ze))||isNaN(ke=+this._y.call(null,ze)))return this;var tt,ut,xt,bt,Re,ke,Ne,_e,Te,fe,pe,Fe,lt=this._root,Ht=this._x0,Je=this._y0,Ce=this._x1,Ee=this._y1;if(!lt)return this;if(lt.length)for(;;){if((Te=Re>=(Ne=(Ht+Ce)/2))?Ht=Ne:Ce=Ne,(fe=ke>=(_e=(Je+Ee)/2))?Je=_e:Ee=_e,tt=lt,!(lt=lt[pe=fe<<1|Te]))return this;if(!lt.length)break;(tt[pe+1&3]||tt[pe+2&3]||tt[pe+3&3])&&(ut=tt,Fe=pe)}for(;lt.data!==ze;)if(xt=lt,!(lt=lt.next))return this;return(bt=lt.next)&&delete lt.next,xt?(bt?xt.next=bt:delete xt.next,this):tt?(bt?tt[pe]=bt:delete tt[pe],(lt=tt[0]||tt[1]||tt[2]||tt[3])&&lt===(tt[3]||tt[2]||tt[1]||tt[0])&&!lt.length&&(ut?ut[Fe]=lt:this._root=lt),this):(this._root=bt,this)},M.removeAll=function f(ze){for(var tt=0,lt=ze.length;tt<lt;++tt)this.remove(ze[tt]);return this},M.root=function c(){return this._root},M.size=function m(){var ze=0;return this.visit(function(tt){if(!tt.length)do{++ze}while(tt=tt.next)}),ze},M.visit=function a(ze){var lt,xt,bt,Ht,Je,Ce,tt=[],ut=this._root;for(ut&&tt.push(new l(ut,this._x0,this._y0,this._x1,this._y1));lt=tt.pop();)if(!ze(ut=lt.node,bt=lt.x0,Ht=lt.y0,Je=lt.x1,Ce=lt.y1)&&ut.length){var Ee=(bt+Je)/2,Re=(Ht+Ce)/2;(xt=ut[3])&&tt.push(new l(xt,Ee,Re,Je,Ce)),(xt=ut[2])&&tt.push(new l(xt,bt,Re,Ee,Ce)),(xt=ut[1])&&tt.push(new l(xt,Ee,Ht,Je,Re)),(xt=ut[0])&&tt.push(new l(xt,bt,Ht,Ee,Re))}return this},M.visitAfter=function b(ze){var ut,tt=[],lt=[];for(this._root&&tt.push(new l(this._root,this._x0,this._y0,this._x1,this._y1));ut=tt.pop();){var xt=ut.node;if(xt.length){var bt,Ht=ut.x0,Je=ut.y0,Ce=ut.x1,Ee=ut.y1,Re=(Ht+Ce)/2,ke=(Je+Ee)/2;(bt=xt[0])&&tt.push(new l(bt,Ht,Je,Re,ke)),(bt=xt[1])&&tt.push(new l(bt,Re,Je,Ce,ke)),(bt=xt[2])&&tt.push(new l(bt,Ht,ke,Re,Ee)),(bt=xt[3])&&tt.push(new l(bt,Re,ke,Ce,Ee))}lt.push(ut)}for(;ut=lt.pop();)ze(ut.node,ut.x0,ut.y0,ut.x1,ut.y1);return this},M.x=function s(ze){return arguments.length?(this._x=ze,this):this._x},M.y=function A(ze){return arguments.length?(this._y=ze,this):this._y};var d=e(15140);function I(ze){return ze.index}function L(ze,tt){var lt=ze.get(tt);if(!lt)throw new Error("missing: "+tt);return lt}function B(ze){var ut,bt,Ht,Je,Ce,tt=I,lt=function Re(fe){return 1/Math.min(Je[fe.source.index],Je[fe.target.index])},xt=D(30),Ee=1;function ke(fe){for(var pe=0,Fe=ze.length;pe<Ee;++pe)for(var at,ft,Xt,rr,At,zt,Qt,Xe=0;Xe<Fe;++Xe)rr=(Xt=(at=ze[Xe]).target).x+Xt.vx-(ft=at.source).x-ft.vx||o(),At=Xt.y+Xt.vy-ft.y-ft.vy||o(),At*=zt=((zt=Math.sqrt(rr*rr+At*At))-bt[Xe])/zt*fe*ut[Xe],Xt.vx-=(rr*=zt)*(Qt=Ce[Xe]),Xt.vy-=At*Qt,ft.vx+=rr*(Qt=1-Qt),ft.vy+=At*Qt}function Ne(){if(Ht){var fe,at,pe=Ht.length,Fe=ze.length,Xe=(0,d.UI)(Ht,tt);for(fe=0,Je=new Array(pe);fe<Fe;++fe)(at=ze[fe]).index=fe,"object"!=typeof at.source&&(at.source=L(Xe,at.source)),"object"!=typeof at.target&&(at.target=L(Xe,at.target)),Je[at.source.index]=(Je[at.source.index]||0)+1,Je[at.target.index]=(Je[at.target.index]||0)+1;for(fe=0,Ce=new Array(Fe);fe<Fe;++fe)Ce[fe]=Je[(at=ze[fe]).source.index]/(Je[at.source.index]+Je[at.target.index]);ut=new Array(Fe),_e(),bt=new Array(Fe),Te()}}function _e(){if(Ht)for(var fe=0,pe=ze.length;fe<pe;++fe)ut[fe]=+lt(ze[fe],fe,ze)}function Te(){if(Ht)for(var fe=0,pe=ze.length;fe<pe;++fe)bt[fe]=+xt(ze[fe],fe,ze)}return null==ze&&(ze=[]),ke.initialize=function(fe){Ht=fe,Ne()},ke.links=function(fe){return arguments.length?(ze=fe,Ne(),ke):ze},ke.id=function(fe){return arguments.length?(tt=fe,ke):tt},ke.iterations=function(fe){return arguments.length?(Ee=+fe,ke):Ee},ke.strength=function(fe){return arguments.length?(lt="function"==typeof fe?fe:D(+fe),_e(),ke):lt},ke.distance=function(fe){return arguments.length?(xt="function"==typeof fe?fe:D(+fe),Te(),ke):xt},ke}var k={value:function(){}};function z(){for(var ut,ze=0,tt=arguments.length,lt={};ze<tt;++ze){if(!(ut=arguments[ze]+"")||ut in lt||/[\s.]/.test(ut))throw new Error("illegal type: "+ut);lt[ut]=[]}return new O(lt)}function O(ze){this._=ze}function N(ze,tt){for(var xt,lt=0,ut=ze.length;lt<ut;++lt)if((xt=ze[lt]).name===tt)return xt.value}function H(ze,tt,lt){for(var ut=0,xt=ze.length;ut<xt;++ut)if(ze[ut].name===tt){ze[ut]=k,ze=ze.slice(0,ut).concat(ze.slice(ut+1));break}return null!=lt&&ze.push({name:tt,value:lt}),ze}O.prototype=z.prototype={constructor:O,on:function(ze,tt){var xt,lt=this._,ut=function F(ze,tt){return ze.trim().split(/^|\s+/).map(function(lt){var ut="",xt=lt.indexOf(".");if(xt>=0&&(ut=lt.slice(xt+1),lt=lt.slice(0,xt)),lt&&!tt.hasOwnProperty(lt))throw new Error("unknown type: "+lt);return{type:lt,name:ut}})}(ze+"",lt),bt=-1,Ht=ut.length;if(!(arguments.length<2)){if(null!=tt&&"function"!=typeof tt)throw new Error("invalid callback: "+tt);for(;++bt<Ht;)if(xt=(ze=ut[bt]).type)lt[xt]=H(lt[xt],ze.name,tt);else if(null==tt)for(xt in lt)lt[xt]=H(lt[xt],ze.name,null);return this}for(;++bt<Ht;)if((xt=(ze=ut[bt]).type)&&(xt=N(lt[xt],ze.name)))return xt},copy:function(){var ze={},tt=this._;for(var lt in tt)ze[lt]=tt[lt].slice();return new O(ze)},call:function(ze,tt){if((xt=arguments.length-2)>0)for(var xt,bt,lt=new Array(xt),ut=0;ut<xt;++ut)lt[ut]=arguments[ut+2];if(!this._.hasOwnProperty(ze))throw new Error("unknown type: "+ze);for(ut=0,xt=(bt=this._[ze]).length;ut<xt;++ut)bt[ut].value.apply(tt,lt)},apply:function(ze,tt,lt){if(!this._.hasOwnProperty(ze))throw new Error("unknown type: "+ze);for(var ut=this._[ze],xt=0,bt=ut.length;xt<bt;++xt)ut[xt].value.apply(tt,lt)}};var j,W,X=z,ne=0,ie=0,ue=0,J=1e3,V=0,K=0,ae=0,Q="object"==typeof performance&&performance.now?performance:Date,Z="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ze){setTimeout(ze,17)};function re(){return K||(Z(q),K=Q.now()+ae)}function q(){K=0}function se(){this._call=this._time=this._next=null}function de(ze,tt,lt){var ut=new se;return ut.restart(ze,tt,lt),ut}function ye(){K=(V=Q.now())+ae,ne=ie=0;try{!function we(){re(),++ne;for(var tt,ze=j;ze;)(tt=K-ze._time)>=0&&ze._call.call(null,tt),ze=ze._next;--ne}()}finally{ne=0,function Ie(){for(var ze,lt,tt=j,ut=1/0;tt;)tt._call?(ut>tt._time&&(ut=tt._time),ze=tt,tt=tt._next):(lt=tt._next,tt._next=null,tt=ze?ze._next=lt:j=lt);W=ze,Se(ut)}(),K=0}}function Pe(){var ze=Q.now(),tt=ze-V;tt>J&&(ae-=tt,V=ze)}function Se(ze){ne||(ie&&(ie=clearTimeout(ie)),ze-K>24?(ze<1/0&&(ie=setTimeout(ye,ze-Q.now()-ae)),ue&&(ue=clearInterval(ue))):(ue||(V=Q.now(),ue=setInterval(Pe,J)),ne=1,Z(ye)))}function xe(ze){return ze.x}function Me(ze){return ze.y}se.prototype=de.prototype={constructor:se,restart:function(ze,tt,lt){if("function"!=typeof ze)throw new TypeError("callback is not a function");lt=(null==lt?re():+lt)+(null==tt?0:+tt),!this._next&&W!==this&&(W?W._next=this:j=this,W=this),this._call=ze,this._time=lt,Se()},stop:function(){this._call&&(this._call=null,this._time=1/0,Se())}};var Ge=10,Ye=Math.PI*(3-Math.sqrt(5));function De(ze){var tt,lt=1,ut=.001,xt=1-Math.pow(ut,1/300),bt=0,Ht=.6,Je=(0,d.UI)(),Ce=de(Re),Ee=X("tick","end");function Re(){ke(),Ee.call("tick",tt),lt<ut&&(Ce.stop(),Ee.call("end",tt))}function ke(Te){var fe,Fe,pe=ze.length;void 0===Te&&(Te=1);for(var Xe=0;Xe<Te;++Xe)for(lt+=(bt-lt)*xt,Je.each(function(at){at(lt)}),fe=0;fe<pe;++fe)null==(Fe=ze[fe]).fx?Fe.x+=Fe.vx*=Ht:(Fe.x=Fe.fx,Fe.vx=0),null==Fe.fy?Fe.y+=Fe.vy*=Ht:(Fe.y=Fe.fy,Fe.vy=0);return tt}function Ne(){for(var pe,Te=0,fe=ze.length;Te<fe;++Te){if((pe=ze[Te]).index=Te,null!=pe.fx&&(pe.x=pe.fx),null!=pe.fy&&(pe.y=pe.fy),isNaN(pe.x)||isNaN(pe.y)){var Fe=Ge*Math.sqrt(Te),Xe=Te*Ye;pe.x=Fe*Math.cos(Xe),pe.y=Fe*Math.sin(Xe)}(isNaN(pe.vx)||isNaN(pe.vy))&&(pe.vx=pe.vy=0)}}function _e(Te){return Te.initialize&&Te.initialize(ze),Te}return null==ze&&(ze=[]),Ne(),tt={tick:ke,restart:function(){return Ce.restart(Re),tt},stop:function(){return Ce.stop(),tt},nodes:function(Te){return arguments.length?(ze=Te,Ne(),Je.each(_e),tt):ze},alpha:function(Te){return arguments.length?(lt=+Te,tt):lt},alphaMin:function(Te){return arguments.length?(ut=+Te,tt):ut},alphaDecay:function(Te){return arguments.length?(xt=+Te,tt):+xt},alphaTarget:function(Te){return arguments.length?(bt=+Te,tt):bt},velocityDecay:function(Te){return arguments.length?(Ht=1-Te,tt):1-Ht},force:function(Te,fe){return arguments.length>1?(null==fe?Je.remove(Te):Je.set(Te,_e(fe)),tt):Je.get(Te)},find:function(Te,fe,pe){var at,ft,Xt,rr,At,Fe=0,Xe=ze.length;for(null==pe?pe=1/0:pe*=pe,Fe=0;Fe<Xe;++Fe)(Xt=(at=Te-(rr=ze[Fe]).x)*at+(ft=fe-rr.y)*ft)<pe&&(At=rr,pe=Xt);return At},on:function(Te,fe){return arguments.length>1?(Ee.on(Te,fe),tt):Ee.on(Te)}}}function He(){var ze,tt,lt,xt,ut=D(-30),bt=1,Ht=1/0,Je=.81;function Ce(Ne){var _e,Te=ze.length,fe=x(ze,xe,Me).visitAfter(Re);for(lt=Ne,_e=0;_e<Te;++_e)tt=ze[_e],fe.visit(ke)}function Ee(){if(ze){var Ne,Te,_e=ze.length;for(xt=new Array(_e),Ne=0;Ne<_e;++Ne)xt[(Te=ze[Ne]).index]=+ut(Te,Ne,ze)}}function Re(Ne){var Te,fe,Fe,Xe,at,_e=0,pe=0;if(Ne.length){for(Fe=Xe=at=0;at<4;++at)(Te=Ne[at])&&(fe=Math.abs(Te.value))&&(_e+=Te.value,pe+=fe,Fe+=fe*Te.x,Xe+=fe*Te.y);Ne.x=Fe/pe,Ne.y=Xe/pe}else{(Te=Ne).x=Te.data.x,Te.y=Te.data.y;do{_e+=xt[Te.data.index]}while(Te=Te.next)}Ne.value=_e}function ke(Ne,_e,Te,fe){if(!Ne.value)return!0;var pe=Ne.x-tt.x,Fe=Ne.y-tt.y,Xe=fe-_e,at=pe*pe+Fe*Fe;if(Xe*Xe/Je<at)return at<Ht&&(0===pe&&(at+=(pe=o())*pe),0===Fe&&(at+=(Fe=o())*Fe),at<bt&&(at=Math.sqrt(bt*at)),tt.vx+=pe*Ne.value*lt/at,tt.vy+=Fe*Ne.value*lt/at),!0;if(!(Ne.length||at>=Ht)){(Ne.data!==tt||Ne.next)&&(0===pe&&(at+=(pe=o())*pe),0===Fe&&(at+=(Fe=o())*Fe),at<bt&&(at=Math.sqrt(bt*at)));do{Ne.data!==tt&&(tt.vx+=pe*(Xe=xt[Ne.data.index]*lt/at),tt.vy+=Fe*Xe)}while(Ne=Ne.next)}}return Ce.initialize=function(Ne){ze=Ne,Ee()},Ce.strength=function(Ne){return arguments.length?(ut="function"==typeof Ne?Ne:D(+Ne),Ee(),Ce):ut},Ce.distanceMin=function(Ne){return arguments.length?(bt=Ne*Ne,Ce):Math.sqrt(bt)},Ce.distanceMax=function(Ne){return arguments.length?(Ht=Ne*Ne,Ce):Math.sqrt(Ht)},Ce.theta=function(Ne){return arguments.length?(Je=Ne*Ne,Ce):Math.sqrt(Je)},Ce}function rt(ze,tt,lt){var ut,bt,Ht,xt=D(.1);function Je(Ee){for(var Re=0,ke=ut.length;Re<ke;++Re){var Ne=ut[Re],_e=Ne.x-tt||1e-6,Te=Ne.y-lt||1e-6,fe=Math.sqrt(_e*_e+Te*Te),pe=(Ht[Re]-fe)*bt[Re]*Ee/fe;Ne.vx+=_e*pe,Ne.vy+=Te*pe}}function Ce(){if(ut){var Ee,Re=ut.length;for(bt=new Array(Re),Ht=new Array(Re),Ee=0;Ee<Re;++Ee)Ht[Ee]=+ze(ut[Ee],Ee,ut),bt[Ee]=isNaN(Ht[Ee])?0:+xt(ut[Ee],Ee,ut)}}return"function"!=typeof ze&&(ze=D(+ze)),null==tt&&(tt=0),null==lt&&(lt=0),Je.initialize=function(Ee){ut=Ee,Ce()},Je.strength=function(Ee){return arguments.length?(xt="function"==typeof Ee?Ee:D(+Ee),Ce(),Je):xt},Je.radius=function(Ee){return arguments.length?(ze="function"==typeof Ee?Ee:D(+Ee),Ce(),Je):ze},Je.x=function(Ee){return arguments.length?(tt=+Ee,Je):tt},Je.y=function(Ee){return arguments.length?(lt=+Ee,Je):lt},Je}function $e(ze){var lt,ut,xt,tt=D(.1);function bt(Je){for(var Re,Ce=0,Ee=lt.length;Ce<Ee;++Ce)(Re=lt[Ce]).vx+=(xt[Ce]-Re.x)*ut[Ce]*Je}function Ht(){if(lt){var Je,Ce=lt.length;for(ut=new Array(Ce),xt=new Array(Ce),Je=0;Je<Ce;++Je)ut[Je]=isNaN(xt[Je]=+ze(lt[Je],Je,lt))?0:+tt(lt[Je],Je,lt)}}return"function"!=typeof ze&&(ze=D(null==ze?0:+ze)),bt.initialize=function(Je){lt=Je,Ht()},bt.strength=function(Je){return arguments.length?(tt="function"==typeof Je?Je:D(+Je),Ht(),bt):tt},bt.x=function(Je){return arguments.length?(ze="function"==typeof Je?Je:D(+Je),Ht(),bt):ze},bt}function Be(ze){var lt,ut,xt,tt=D(.1);function bt(Je){for(var Re,Ce=0,Ee=lt.length;Ce<Ee;++Ce)(Re=lt[Ce]).vy+=(xt[Ce]-Re.y)*ut[Ce]*Je}function Ht(){if(lt){var Je,Ce=lt.length;for(ut=new Array(Ce),xt=new Array(Ce),Je=0;Je<Ce;++Je)ut[Je]=isNaN(xt[Je]=+ze(lt[Je],Je,lt))?0:+tt(lt[Je],Je,lt)}}return"function"!=typeof ze&&(ze=D(null==ze?0:+ze)),bt.initialize=function(Je){lt=Je,Ht()},bt.strength=function(Je){return arguments.length?(tt="function"==typeof Je?Je:D(+Je),Ht(),bt):tt},bt.y=function(Je){return arguments.length?(ze="function"==typeof Je?Je:D(+Je),Ht(),bt):ze},bt}},60721:function(te,Y,e){"use strict";function D(x,E){if((g=(x=E?x.toExponential(E-1):x.toExponential()).indexOf("e"))<0)return null;var g,M=x.slice(0,g);return[M.length>1?M[0]+M.slice(2):M,+x.slice(g+1)]}e.d(Y,{WU:function(){return s},FF:function(){return b}});var l,h=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function y(x){if(!(E=h.exec(x)))throw new Error("invalid format: "+x);var E;return new t({fill:E[1],align:E[2],sign:E[3],symbol:E[4],zero:E[5],width:E[6],comma:E[7],precision:E[8]&&E[8].slice(1),trim:E[9],type:E[10]})}function t(x){this.fill=void 0===x.fill?" ":x.fill+"",this.align=void 0===x.align?">":x.align+"",this.sign=void 0===x.sign?"-":x.sign+"",this.symbol=void 0===x.symbol?"":x.symbol+"",this.zero=!!x.zero,this.width=void 0===x.width?void 0:+x.width,this.comma=!!x.comma,this.precision=void 0===x.precision?void 0:+x.precision,this.trim=!!x.trim,this.type=void 0===x.type?"":x.type+""}function u(x,E){var g=D(x,E);if(!g)return x+"";var M=g[0],w=g[1];return w<0?"0."+new Array(-w).join("0")+M:M.length>w+1?M.slice(0,w+1)+"."+M.slice(w+1):M+new Array(w-M.length+2).join("0")}y.prototype=t.prototype,t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var f={"%":function(x,E){return(100*x).toFixed(E)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:function T(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)},e:function(x,E){return x.toExponential(E)},f:function(x,E){return x.toFixed(E)},g:function(x,E){return x.toPrecision(E)},o:function(x){return Math.round(x).toString(8)},p:function(x,E){return u(100*x,E)},r:u,s:function i(x,E){var g=D(x,E);if(!g)return x+"";var M=g[0],w=g[1],n=w-(l=3*Math.max(-8,Math.min(8,Math.floor(w/3))))+1,S=M.length;return n===S?M:n>S?M+new Array(n-S+1).join("0"):n>0?M.slice(0,n)+"."+M.slice(n):"0."+new Array(1-n).join("0")+D(x,Math.max(0,E+n-1))[0]},X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function c(x){return x}var p,s,m=Array.prototype.map,a=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function b(x){var E=void 0===x.grouping||void 0===x.thousands?c:function P(x,E){return function(g,M){for(var w=g.length,n=[],S=0,d=x[0],I=0;w>0&&d>0&&(I+d+1>M&&(d=Math.max(1,M-I)),n.push(g.substring(w-=d,w+d)),!((I+=d+1)>M));)d=x[S=(S+1)%x.length];return n.reverse().join(E)}}(m.call(x.grouping,Number),x.thousands+""),g=void 0===x.currency?"":x.currency[0]+"",M=void 0===x.currency?"":x.currency[1]+"",w=void 0===x.decimal?".":x.decimal+"",n=void 0===x.numerals?c:function C(x){return function(E){return E.replace(/[0-9]/g,function(g){return x[+g]})}}(m.call(x.numerals,String)),S=void 0===x.percent?"%":x.percent+"",d=void 0===x.minus?"-":x.minus+"",I=void 0===x.nan?"NaN":x.nan+"";function L(k){var z=(k=y(k)).fill,O=k.align,F=k.sign,N=k.symbol,H=k.zero,X=k.width,ne=k.comma,ie=k.precision,ue=k.trim,J=k.type;"n"===J?(ne=!0,J="g"):f[J]||(void 0===ie&&(ie=12),ue=!0,J="g"),(H||"0"===z&&"="===O)&&(H=!0,z="0",O="=");var j="$"===N?g:"#"===N&&/[boxX]/.test(J)?"0"+J.toLowerCase():"",W="$"===N?M:/[%p]/.test(J)?S:"",V=f[J],K=/[defgprs%]/.test(J);function ae(Q){var q,se,de,Z=j,re=W;if("c"===J)re=V(Q)+re,Q="";else{var we=(Q=+Q)<0||1/Q<0;if(Q=isNaN(Q)?I:V(Math.abs(Q),ie),ue&&(Q=function r(x){e:for(var w,E=x.length,g=1,M=-1;g<E;++g)switch(x[g]){case".":M=w=g;break;case"0":0===M&&(M=g),w=g;break;default:if(!+x[g])break e;M>0&&(M=0)}return M>0?x.slice(0,M)+x.slice(w+1):x}(Q)),we&&0==+Q&&"+"!==F&&(we=!1),Z=(we?"("===F?F:d:"-"===F||"("===F?"":F)+Z,re=("s"===J?a[8+l/3]:"")+re+(we&&"("===F?")":""),K)for(q=-1,se=Q.length;++q<se;)if(48>(de=Q.charCodeAt(q))||de>57){re=(46===de?w+Q.slice(q+1):Q.slice(q))+re,Q=Q.slice(0,q);break}}ne&&!H&&(Q=E(Q,1/0));var ye=Z.length+Q.length+re.length,Pe=ye<X?new Array(X-ye+1).join(z):"";switch(ne&&H&&(Q=E(Pe+Q,Pe.length?X-re.length:1/0),Pe=""),O){case"<":Q=Z+Q+re+Pe;break;case"=":Q=Z+Pe+Q+re;break;case"^":Q=Pe.slice(0,ye=Pe.length>>1)+Z+Q+re+Pe.slice(ye);break;default:Q=Pe+Z+Q+re}return n(Q)}return ie=void 0===ie?6:/[gprs]/.test(J)?Math.max(1,Math.min(21,ie)):Math.max(0,Math.min(20,ie)),ae.toString=function(){return k+""},ae}return{format:L,formatPrefix:function B(k,z){var O=L(((k=y(k)).type="f",k)),F=3*Math.max(-8,Math.min(8,Math.floor(function o(x){return(x=D(Math.abs(x)))?x[1]:NaN}(z)/3))),N=Math.pow(10,-F),H=a[8+F/3];return function(X){return O(N*X)+H}}}}!function A(x){p=b(x),s=p.format}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},65704:function(te,Y,e){"use strict";e.r(Y),e.d(Y,{geoAiry:function(){return H},geoAiryRaw:function(){return N},geoAitoff:function(){return ne},geoAitoffRaw:function(){return X},geoArmadillo:function(){return ue},geoArmadilloRaw:function(){return ie},geoAugust:function(){return j},geoAugustRaw:function(){return J},geoBaker:function(){return ae},geoBakerRaw:function(){return K},geoBerghaus:function(){return re},geoBerghausRaw:function(){return Z},geoBertin1953:function(){return Se},geoBertin1953Raw:function(){return Ie},geoBoggs:function(){return $e},geoBoggsRaw:function(){return rt},geoBonne:function(){return ut},geoBonneRaw:function(){return lt},geoBottomley:function(){return bt},geoBottomleyRaw:function(){return xt},geoBromley:function(){return Je},geoBromleyRaw:function(){return Ht},geoChamberlin:function(){return pe},geoChamberlinAfrica:function(){return fe},geoChamberlinRaw:function(){return _e},geoCollignon:function(){return Xe},geoCollignonRaw:function(){return Fe},geoCraig:function(){return ft},geoCraigRaw:function(){return at},geoCraster:function(){return At},geoCrasterRaw:function(){return rr},geoCylindricalEqualArea:function(){return Qt},geoCylindricalEqualAreaRaw:function(){return zt},geoCylindricalStereographic:function(){return pt},geoCylindricalStereographicRaw:function(){return Rr},geoEckert1:function(){return tr},geoEckert1Raw:function(){return $t},geoEckert2:function(){return pr},geoEckert2Raw:function(){return Er},geoEckert3:function(){return it},geoEckert3Raw:function(){return dt},geoEckert4:function(){return St},geoEckert4Raw:function(){return mt},geoEckert5:function(){return Ct},geoEckert5Raw:function(){return Lt},geoEckert6:function(){return Bt},geoEckert6Raw:function(){return Ut},geoEisenlohr:function(){return lr},geoEisenlohrRaw:function(){return cr},geoFahey:function(){return Ve},geoFaheyRaw:function(){return We},geoFoucaut:function(){return _t},geoFoucautRaw:function(){return Rt},geoFoucautSinusoidal:function(){return sr},geoFoucautSinusoidalRaw:function(){return Kt},geoGilbert:function(){return Mr},geoGingery:function(){return _r},geoGingeryRaw:function(){return wr},geoGinzburg4:function(){return Xr},geoGinzburg4Raw:function(){return vn},geoGinzburg5:function(){return mn},geoGinzburg5Raw:function(){return On},geoGinzburg6:function(){return Pr},geoGinzburg6Raw:function(){return xr},geoGinzburg8:function(){return Hr},geoGinzburg8Raw:function(){return Zr},geoGinzburg9:function(){return Tn},geoGinzburg9Raw:function(){return fn},geoGringorten:function(){return Xn},geoGringortenQuincuncial:function(){return Du},geoGringortenRaw:function(){return Pn},geoGuyou:function(){return Vn},geoGuyouRaw:function(){return un},geoHammer:function(){return we},geoHammerRaw:function(){return se},geoHammerRetroazimuthal:function(){return Qn},geoHammerRetroazimuthalRaw:function(){return Ln},geoHealpix:function(){return Vt},geoHealpixRaw:function(){return nt},geoHill:function(){return Jt},geoHillRaw:function(){return Ot},geoHomolosine:function(){return In},geoHomolosineRaw:function(){return bn},geoHufnagel:function(){return ea},geoHufnagelRaw:function(){return Bn},geoHyperelliptical:function(){return $a},geoHyperellipticalRaw:function(){return Di},geoInterrupt:function(){return co},geoInterruptedBoggs:function(){return mo},geoInterruptedHomolosine:function(){return zi},geoInterruptedMollweide:function(){return Jo},geoInterruptedMollweideHemispheres:function(){return ui},geoInterruptedQuarticAuthalic:function(){return ko},geoInterruptedSinuMollweide:function(){return Yi},geoInterruptedSinusoidal:function(){return wo},geoKavrayskiy7:function(){return mi},geoKavrayskiy7Raw:function(){return Sa},geoLagrange:function(){return Zi},geoLagrangeRaw:function(){return hi},geoLarrivee:function(){return io},geoLarriveeRaw:function(){return Qo},geoLaskowski:function(){return qs},geoLaskowskiRaw:function(){return di},geoLittrow:function(){return ns},geoLittrowRaw:function(){return To},geoLoximuthal:function(){return Hs},geoLoximuthalRaw:function(){return ls},geoMiller:function(){return Ps},geoMillerRaw:function(){return gs},geoModifiedStereographic:function(){return Ea},geoModifiedStereographicAlaska:function(){return xn},geoModifiedStereographicGs48:function(){return kn},geoModifiedStereographicGs50:function(){return Nn},geoModifiedStereographicLee:function(){return za},geoModifiedStereographicMiller:function(){return jn},geoModifiedStereographicRaw:function(){return Vs},geoMollweide:function(){return Ye},geoMollweideRaw:function(){return Ge},geoMtFlatPolarParabolic:function(){return Xa},geoMtFlatPolarParabolicRaw:function(){return si},geoMtFlatPolarQuartic:function(){return pi},geoMtFlatPolarQuarticRaw:function(){return ri},geoMtFlatPolarSinusoidal:function(){return Ri},geoMtFlatPolarSinusoidalRaw:function(){return Za},geoNaturalEarth:function(){return ho.Z},geoNaturalEarth2:function(){return Ao},geoNaturalEarth2Raw:function(){return Ji},geoNaturalEarthRaw:function(){return ho.K},geoNellHammer:function(){return go},geoNellHammerRaw:function(){return Ki},geoNicolosi:function(){return to},geoNicolosiRaw:function(){return oo},geoPatterson:function(){return so},geoPattersonRaw:function(){return Hi},geoPeirceQuincuncial:function(){return Ru},geoPierceQuincuncial:function(){return Ru},geoPolyconic:function(){return Yo},geoPolyconicRaw:function(){return Fo},geoPolyhedral:function(){return rl},geoPolyhedralButterfly:function(){return Gs},geoPolyhedralCollignon:function(){return nl},geoPolyhedralWaterman:function(){return al},geoProject:function(){return df},geoQuantize:function(){return pf},geoQuincuncial:function(){return Pu},geoRectangularPolyconic:function(){return sl},geoRectangularPolyconicRaw:function(){return ol},geoRobinson:function(){return du},geoRobinsonRaw:function(){return Xl},geoSatellite:function(){return ll},geoSatelliteRaw:function(){return ju},geoSinuMollweide:function(){return zr},geoSinuMollweideRaw:function(){return Yr},geoSinusoidal:function(){return tt},geoSinusoidalRaw:function(){return ze},geoStitch:function(){return bs},geoTimes:function(){return ul},geoTimesRaw:function(){return ql},geoTwoPointAzimuthal:function(){return yu},geoTwoPointAzimuthalRaw:function(){return zl},geoTwoPointAzimuthalUsa:function(){return Qu},geoTwoPointEquidistant:function(){return mu},geoTwoPointEquidistantRaw:function(){return xo},geoTwoPointEquidistantUsa:function(){return ku},geoVanDerGrinten:function(){return fl},geoVanDerGrinten2:function(){return gf},geoVanDerGrinten2Raw:function(){return Fu},geoVanDerGrinten3:function(){return Bl},geoVanDerGrinten3Raw:function(){return Ol},geoVanDerGrinten4:function(){return ru},geoVanDerGrinten4Raw:function(){return tu},geoVanDerGrintenRaw:function(){return Ml},geoWagner:function(){return Sl},geoWagner4:function(){return Nl},geoWagner4Raw:function(){return Is},geoWagner6:function(){return qu},geoWagner6Raw:function(){return El},geoWagner7:function(){return qo},geoWagnerRaw:function(){return zu},geoWiechel:function(){return ef},geoWiechelRaw:function(){return bu},geoWinkel3:function(){return Bu},geoWinkel3Raw:function(){return nu}});var T=e(15002),D=Math.abs,o=Math.atan,P=Math.atan2,h=(Math,Math.cos),y=Math.exp,t=Math.floor,r=Math.log,l=Math.max,i=Math.min,u=Math.pow,f=Math.round,c=Math.sign||function(je){return je>0?1:je<0?-1:0},m=Math.sin,a=Math.tan,b=1e-6,p=1e-12,s=Math.PI,v=s/2,A=s/4,x=Math.SQRT1_2,E=L(2),g=L(s),M=2*s,w=180/s,n=s/180;function d(je){return je>1?v:je<-1?-v:Math.asin(je)}function I(je){return je>1?0:je<-1?s:Math.acos(je)}function L(je){return je>0?Math.sqrt(je):0}function k(je){return(y(je)-y(-je))/2}function z(je){return(y(je)+y(-je))/2}function N(je){var et=a(je/2),vt=2*r(h(je/2))/(et*et);function yt(kt,Dt){var Gt=h(kt),mr=h(Dt),Ar=m(Dt),gr=mr*Gt,Tr=-((1-gr?r((1+gr)/2)/(1-gr):-.5)+vt/(1+gr));return[Tr*mr*m(kt),Tr*Ar]}return yt.invert=function(kt,Dt){var gr,Gt=L(kt*kt+Dt*Dt),mr=-je/2,Ar=50;if(!Gt)return[0,0];do{var Tr=mr/2,Nr=h(Tr),Qr=m(Tr),rn=Qr/Nr,on=-r(D(Nr));mr-=gr=(2/rn*on-vt*rn-Gt)/(-on/(Qr*Qr)+1-vt/(2*Nr*Nr))*(Nr<0?.7:1)}while(D(gr)>b&&--Ar>0);var Cn=m(mr);return[P(kt*Cn,Gt*h(mr)),d(Dt*Cn/Gt)]},yt}function H(){var je=v,et=(0,T.r)(N),vt=et(je);return vt.radius=function(yt){return arguments.length?et(je=yt*n):je*w},vt.scale(179.976).clipAngle(147)}function X(je,et){var vt=h(et),yt=function S(je){return je?je/Math.sin(je):1}(I(vt*h(je/=2)));return[2*vt*m(je)*yt,m(et)*yt]}function ne(){return(0,T.Z)(X).scale(152.63)}function ie(je){var et=m(je),vt=h(je),yt=je>=0?1:-1,kt=a(yt*je),Dt=(1+et-vt)/2;function Gt(mr,Ar){var gr=h(Ar),Tr=h(mr/=2);return[(1+gr)*m(mr),(yt*Ar>-P(Tr,kt)-.001?0:10*-yt)+Dt+m(Ar)*vt-(1+gr)*et*Tr]}return Gt.invert=function(mr,Ar){var gr=0,Tr=0,Nr=50;do{var Qr=h(gr),rn=m(gr),on=h(Tr),Cn=m(Tr),Wn=1+on,fa=Wn*rn-mr,Ia=Dt+Cn*vt-Wn*et*Qr-Ar,Ha=Wn*Qr/2,Ua=-rn*Cn,Ka=et*Wn*rn/2,_i=vt*on+et*Qr*Cn,Vi=Ua*Ka-_i*Ha,va=(Ia*Ua-fa*_i)/Vi/2,ro=(fa*Ka-Ia*Ha)/Vi;D(ro)>2&&(ro/=2),gr-=va,Tr-=ro}while((D(va)>b||D(ro)>b)&&--Nr>0);return yt*Tr>-P(h(gr),kt)-.001?[2*gr,Tr]:null},Gt}function ue(){var je=20*n,et=je>=0?1:-1,vt=a(et*je),yt=(0,T.r)(ie),kt=yt(je),Dt=kt.stream;return kt.parallel=function(Gt){return arguments.length?(vt=a((et=(je=Gt*n)>=0?1:-1)*je),yt(je)):je*w},kt.stream=function(Gt){var mr=kt.rotate(),Ar=Dt(Gt),gr=(kt.rotate([0,0]),Dt(Gt)),Tr=kt.precision();return kt.rotate(mr),Ar.sphere=function(){gr.polygonStart(),gr.lineStart();for(var Nr=-180*et;et*Nr<180;Nr+=90*et)gr.point(Nr,90*et);if(je)for(;et*(Nr-=3*et*Tr)>=-180;)gr.point(Nr,et*-P(h(Nr*n/2),vt)*w);gr.lineEnd(),gr.polygonEnd()},Ar},kt.scale(218.695).center([0,28.0974])}function J(je,et){var vt=a(et/2),yt=L(1-vt*vt),kt=1+yt*h(je/=2),Dt=m(je)*yt/kt,Gt=vt/kt,mr=Dt*Dt,Ar=Gt*Gt;return[1.3333333333333333*Dt*(3+mr-3*Ar),1.3333333333333333*Gt*(3+3*mr-Ar)]}function j(){return(0,T.Z)(J).scale(66.1603)}X.invert=function(je,et){if(!(je*je+4*et*et>s*s+b)){var vt=je,yt=et,kt=25;do{var Wn,Dt=m(vt),Gt=m(vt/2),mr=h(vt/2),Ar=m(yt),gr=h(yt),Tr=m(2*yt),Nr=Ar*Ar,Qr=gr*gr,rn=Gt*Gt,on=1-Qr*mr*mr,Cn=on?I(gr*mr)*L(Wn=1/on):Wn=0,fa=2*Cn*gr*Gt-je,Ia=Cn*Ar-et,Ha=Wn*(Qr*rn+Cn*gr*mr*Nr),Ua=Wn*(.5*Dt*Tr-2*Cn*Ar*Gt),Ka=.25*Wn*(Tr*Gt-Cn*Ar*Qr*Dt),_i=Wn*(Nr*mr+Cn*rn*gr),Vi=Ua*Ka-_i*Ha;if(!Vi)break;var va=(Ia*Ua-fa*_i)/Vi,ro=(fa*Ka-Ia*Ha)/Vi;vt-=va,yt-=ro}while((D(va)>b||D(ro)>b)&&--kt>0);return[vt,yt]}},J.invert=function(je,et){if(et*=.375,!(je*=.375)&&D(et)>1)return null;var kt=1+je*je+et*et,Dt=L((kt-L(kt*kt-4*et*et))/2),Gt=d(Dt)/3,mr=Dt?function F(je){return r(je+L(je*je-1))}(D(et/Dt))/3:function O(je){return r(je+L(je*je+1))}(D(je))/3,Ar=h(Gt),gr=z(mr),Tr=gr*gr-Ar*Ar;return[2*c(je)*P(k(mr)*Ar,.25-Tr),2*c(et)*P(gr*m(Gt),.25+Tr)]};var W=L(8),V=r(1+E);function K(je,et){var vt=D(et);return vt<A?[je,r(a(A+et/2))]:[je*h(vt)*(2*E-1/m(vt)),c(et)*(2*E*(vt-A)-r(a(vt/2)))]}function ae(){return(0,T.Z)(K).scale(112.314)}K.invert=function(je,et){if((Dt=D(et))<V)return[je,2*o(y(et))-v];var kt,Dt,vt=A,yt=25;do{var Gt=h(vt/2),mr=a(vt/2);vt-=kt=(W*(vt-A)-r(mr)-Dt)/(W-Gt*Gt/(2*mr))}while(D(kt)>p&&--yt>0);return[je/(h(vt)*(W-1/m(vt))),c(et)*vt]};var Q=e(17889);function Z(je){var et=2*s/je;function vt(yt,kt){var Dt=(0,Q.N)(yt,kt);if(D(yt)>v){var Gt=P(Dt[1],Dt[0]),mr=L(Dt[0]*Dt[0]+Dt[1]*Dt[1]),Ar=et*f((Gt-v)/et)+v,gr=P(m(Gt-=Ar),2-h(Gt));Gt=Ar+d(s/mr*m(gr))-gr,Dt[0]=mr*h(Gt),Dt[1]=mr*m(Gt)}return Dt}return vt.invert=function(yt,kt){var Dt=L(yt*yt+kt*kt);if(Dt>v){var Gt=P(kt,yt),mr=et*f((Gt-v)/et)+v,Ar=Gt>mr?-1:1,gr=Dt*h(mr-Gt),Tr=1/a(Ar*I((gr-s)/L(s*(s-2*gr)+Dt*Dt)));Gt=mr+2*o((Tr+Ar*L(Tr*Tr-3))/3),yt=Dt*h(Gt),kt=Dt*m(Gt)}return Q.N.invert(yt,kt)},vt}function re(){var je=5,et=(0,T.r)(Z),vt=et(je),yt=vt.stream,kt=.01,Dt=-h(kt*n),Gt=m(kt*n);return vt.lobes=function(mr){return arguments.length?et(je=+mr):je},vt.stream=function(mr){var Ar=vt.rotate(),gr=yt(mr),Tr=(vt.rotate([0,0]),yt(mr));return vt.rotate(Ar),gr.sphere=function(){Tr.polygonStart(),Tr.lineStart();for(var Nr=0,Qr=360/je,rn=2*s/je,on=90-180/je,Cn=v;Nr<je;++Nr,on-=Qr,Cn-=rn)Tr.point(P(Gt*h(Cn),Dt)*w,d(Gt*m(Cn))*w),on<-90?(Tr.point(-90,-180-on-kt),Tr.point(-90,-180-on+kt)):(Tr.point(90,on+kt),Tr.point(90,on-kt));Tr.lineEnd(),Tr.polygonEnd()},gr},vt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var q=e(12956);function se(je,et){if(arguments.length<2&&(et=je),1===et)return q.l;if(et===1/0)return de;function vt(yt,kt){var Dt=(0,q.l)(yt/et,kt);return Dt[0]*=je,Dt}return vt.invert=function(yt,kt){var Dt=q.l.invert(yt/je,kt);return Dt[0]*=et,Dt},vt}function de(je,et){return[je*h(et)/h(et/=2),2*m(et)]}function we(){var je=2,et=(0,T.r)(se),vt=et(je);return vt.coefficient=function(yt){return arguments.length?et(je=+yt):je},vt.scale(169.529)}function ye(je,et,vt){var kt,Dt,Gt,yt=100;vt=void 0===vt?0:+vt,et=+et;do{(Dt=je(vt))===(Gt=je(vt+b))&&(Gt=Dt+b),vt-=kt=-1*b*(Dt-et)/(Dt-Gt)}while(yt-- >0&&D(kt)>b);return yt<0?NaN:vt}function Pe(je,et,vt){return void 0===et&&(et=40),void 0===vt&&(vt=p),function(yt,kt,Dt,Gt){var mr,Ar,gr;Dt=void 0===Dt?0:+Dt,Gt=void 0===Gt?0:+Gt;for(var Tr=0;Tr<et;Tr++){var Nr=je(Dt,Gt),Qr=Nr[0]-yt,rn=Nr[1]-kt;if(D(Qr)<vt&&D(rn)<vt)break;var on=Qr*Qr+rn*rn;if(on>mr)Dt-=Ar/=2,Gt-=gr/=2;else{mr=on;var Cn=(Dt>0?-1:1)*vt,Wn=(Gt>0?-1:1)*vt,fa=je(Dt+Cn,Gt),Ia=je(Dt,Gt+Wn),Ha=(fa[0]-Nr[0])/Cn,Ua=(fa[1]-Nr[1])/Cn,Ka=(Ia[0]-Nr[0])/Wn,_i=(Ia[1]-Nr[1])/Wn,Vi=_i*Ha-Ua*Ka,va=(D(Vi)<.5?.5:1)/Vi;if(Dt+=Ar=(rn*Ka-Qr*_i)*va,Gt+=gr=(Qr*Ua-rn*Ha)*va,D(Ar)<vt&&D(gr)<vt)break}}return[Dt,Gt]}}function Ie(){var je=se(1.68,2);function yt(kt,Dt){if(kt+Dt<-1.4){var Gt=(kt-Dt+1.6)*(kt+Dt+1.4)/8;kt+=Gt,Dt-=.8*Gt*m(Dt+s/2)}var mr=je(kt,Dt),Ar=(1-h(kt*Dt))/12;return mr[1]<0&&(mr[0]*=1+Ar),mr[1]>0&&(mr[1]*=1+Ar/1.5*mr[0]*mr[0]),mr}return yt.invert=Pe(yt),yt}function Se(){return(0,T.Z)(Ie()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function xe(je,et){var kt,vt=je*m(et),yt=30;do{et-=kt=(et+m(et)-vt)/(1+h(et))}while(D(kt)>b&&--yt>0);return et/2}function Me(je,et,vt){function yt(kt,Dt){return[je*kt*h(Dt=xe(vt,Dt)),et*m(Dt)]}return yt.invert=function(kt,Dt){return Dt=d(Dt/et),[kt/(je*h(Dt)),d((2*Dt+m(2*Dt))/vt)]},yt}de.invert=function(je,et){var vt=2*d(et/2);return[je*h(vt/2)/h(vt),vt]};var Ge=Me(E/v,E,s);function Ye(){return(0,T.Z)(Ge).scale(169.529)}var De=2.00276,He=1.11072;function rt(je,et){var vt=xe(s,et);return[De*je/(1/h(et)+He/h(vt)),(et+E*m(vt))/De]}function $e(){return(0,T.Z)(rt).scale(160.857)}function Be(je){var et=0,vt=(0,T.r)(je),yt=vt(et);return yt.parallel=function(kt){return arguments.length?vt(et=kt*n):et*w},yt}function ze(je,et){return[je*h(et),et]}function tt(){return(0,T.Z)(ze).scale(152.63)}function lt(je){if(!je)return ze;var et=1/a(je);function vt(yt,kt){var Dt=et+je-kt,Gt=Dt&&yt*h(kt)/Dt;return[Dt*m(Gt),et-Dt*h(Gt)]}return vt.invert=function(yt,kt){var Dt=L(yt*yt+(kt=et-kt)*kt),Gt=et+je-Dt;return[Dt/h(Gt)*P(yt,kt),Gt]},vt}function ut(){return Be(lt).scale(123.082).center([0,26.1441]).parallel(45)}function xt(je){function et(vt,yt){var kt=v-yt,Dt=kt&&vt*je*m(kt)/kt;return[kt*m(Dt)/je,v-kt*h(Dt)]}return et.invert=function(vt,yt){var kt=vt*je,Dt=v-yt,Gt=L(kt*kt+Dt*Dt),mr=P(kt,Dt);return[(Gt?Gt/m(Gt):1)*mr/je,v-Gt]},et}function bt(){var je=.5,et=(0,T.r)(xt),vt=et(je);return vt.fraction=function(yt){return arguments.length?et(je=+yt):je},vt.scale(158.837)}rt.invert=function(je,et){var Dt,Gt,vt=De*et,yt=et<0?-A:A,kt=25;do{Gt=vt-E*m(yt),yt-=Dt=(m(2*yt)+2*yt-s*m(Gt))/(2*h(2*yt)+2+s*h(Gt)*E*h(yt))}while(D(Dt)>b&&--kt>0);return Gt=vt-E*m(yt),[je*(1/h(Gt)+He/h(yt))/De,Gt]},ze.invert=function(je,et){return[je/h(et),et]};var Ht=Me(1,4/s,s);function Je(){return(0,T.Z)(Ht).scale(152.63)}var Ce=e(66624),Ee=e(49386);function Re(je,et,vt,yt,kt,Dt){var mr,Gt=h(Dt);if(D(je)>1||D(Dt)>1)mr=I(vt*kt+et*yt*Gt);else{var Ar=m(je/2),gr=m(Dt/2);mr=2*d(L(Ar*Ar+et*yt*gr*gr))}return D(mr)>b?[mr,P(yt*m(Dt),et*kt-vt*yt*Gt)]:[0,0]}function ke(je,et,vt){return I((je*je+et*et-vt*vt)/(2*je*et))}function Ne(je){return je-2*s*t((je+s)/(2*s))}function _e(je,et,vt){for(var Dt,yt=[[je[0],je[1],m(je[1]),h(je[1])],[et[0],et[1],m(et[1]),h(et[1])],[vt[0],vt[1],m(vt[1]),h(vt[1])]],kt=yt[2],Gt=0;Gt<3;++Gt,kt=Dt)kt.v=Re((Dt=yt[Gt])[1]-kt[1],kt[3],kt[2],Dt[3],Dt[2],Dt[0]-kt[0]),kt.point=[0,0];var mr=ke(yt[0].v[0],yt[2].v[0],yt[1].v[0]),Ar=ke(yt[0].v[0],yt[1].v[0],yt[2].v[0]),gr=s-mr;yt[2].point[1]=0,yt[0].point[0]=-(yt[1].point[0]=yt[0].v[0]/2);var Tr=[yt[2].point[0]=yt[0].point[0]+yt[2].v[0]*h(mr),2*(yt[0].point[1]=yt[1].point[1]=yt[2].v[0]*m(mr))];return function Nr(Qr,rn){var fa,on=m(rn),Cn=h(rn),Wn=new Array(3);for(fa=0;fa<3;++fa){var Ia=yt[fa];if(Wn[fa]=Re(rn-Ia[1],Ia[3],Ia[2],Cn,on,Qr-Ia[0]),!Wn[fa][0])return Ia.point;Wn[fa][1]=Ne(Wn[fa][1]-Ia.v[1])}var Ha=Tr.slice();for(fa=0;fa<3;++fa){var Ka=ke(yt[fa].v[0],Wn[fa][0],Wn[2==fa?0:fa+1][0]);Wn[fa][1]<0&&(Ka=-Ka),fa?1==fa?(Ha[0]-=Wn[fa][0]*h(Ka=Ar-Ka),Ha[1]-=Wn[fa][0]*m(Ka)):(Ha[0]+=Wn[fa][0]*h(Ka=gr-Ka),Ha[1]+=Wn[fa][0]*m(Ka)):(Ha[0]+=Wn[fa][0]*h(Ka),Ha[1]-=Wn[fa][0]*m(Ka))}return Ha[0]/=3,Ha[1]/=3,Ha}}function Te(je){return je[0]*=n,je[1]*=n,je}function fe(){return pe([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function pe(je,et,vt){var yt=(0,Ce.Z)({type:"MultiPoint",coordinates:[je,et,vt]}),kt=[-yt[0],-yt[1]],Dt=(0,Ee.Z)(kt),Gt=_e(Te(Dt(je)),Te(Dt(et)),Te(Dt(vt)));Gt.invert=Pe(Gt);var mr=(0,T.Z)(Gt).rotate(kt),Ar=mr.center;return delete mr.rotate,mr.center=function(gr){return arguments.length?Ar(Dt(gr)):Dt.invert(Ar())},mr.clipAngle(90)}function Fe(je,et){var vt=L(1-m(et));return[2/g*je*vt,g*(1-vt)]}function Xe(){return(0,T.Z)(Fe).scale(95.6464).center([0,30])}function at(je){var et=a(je);function vt(yt,kt){return[yt,(yt?yt/m(yt):1)*(m(kt)*h(yt)-et*h(kt))]}return vt.invert=et?function(yt,kt){yt&&(kt*=m(yt)/yt);var Dt=h(yt);return[yt,2*P(L(Dt*Dt+et*et-kt*kt)-Dt,et-kt)]}:function(yt,kt){return[yt,d(yt?kt*a(yt)/yt:kt)]},vt}function ft(){return Be(at).scale(249.828).clipAngle(90)}Fe.invert=function(je,et){var vt=(vt=et/g-1)*vt;return[vt>0?je*L(s/vt)/2:0,d(1-vt)]};var Xt=L(3);function rr(je,et){return[Xt*je*(2*h(2*et/3)-1)/g,Xt*g*m(et/3)]}function At(){return(0,T.Z)(rr).scale(156.19)}function zt(je){var et=h(je);function vt(yt,kt){return[yt*et,m(kt)/et]}return vt.invert=function(yt,kt){return[yt/et,d(kt*et)]},vt}function Qt(){return Be(zt).parallel(38.58).scale(195.044)}function Rr(je){var et=h(je);function vt(yt,kt){return[yt*et,(1+et)*a(kt/2)]}return vt.invert=function(yt,kt){return[yt/et,2*o(kt/(1+et))]},vt}function pt(){return Be(Rr).scale(124.75)}function $t(je,et){var vt=L(8/(3*s));return[vt*je*(1-D(et)/s),vt*et]}function tr(){return(0,T.Z)($t).scale(165.664)}function Er(je,et){var vt=L(4-3*m(D(et)));return[2/L(6*s)*je*vt,c(et)*L(2*s/3)*(2-vt)]}function pr(){return(0,T.Z)(Er).scale(165.664)}function dt(je,et){var vt=L(s*(4+s));return[2/vt*je*(1+L(1-4*et*et/(s*s))),4/vt*et]}function it(){return(0,T.Z)(dt).scale(180.739)}function mt(je,et){var vt=(2+v)*m(et);et/=2;for(var yt=0,kt=1/0;yt<10&&D(kt)>b;yt++){var Dt=h(et);et-=kt=(et+m(et)*(Dt+2)-vt)/(2*Dt*(1+Dt))}return[2/L(s*(4+s))*je*(1+h(et)),2*L(s/(4+s))*m(et)]}function St(){return(0,T.Z)(mt).scale(180.739)}function Lt(je,et){return[je*(1+h(et))/L(2+s),2*et/L(2+s)]}function Ct(){return(0,T.Z)(Lt).scale(173.044)}function Ut(je,et){for(var vt=(1+v)*m(et),yt=0,kt=1/0;yt<10&&D(kt)>b;yt++)et-=kt=(et+m(et)-vt)/(1+h(et));return vt=L(2+s),[je*(1+h(et))/vt,2*et/vt]}function Bt(){return(0,T.Z)(Ut).scale(173.044)}rr.invert=function(je,et){var vt=3*d(et/(Xt*g));return[g*je/(Xt*(2*h(2*vt/3)-1)),vt]},$t.invert=function(je,et){var vt=L(8/(3*s)),yt=et/vt;return[je/(vt*(1-D(yt)/s)),yt]},Er.invert=function(je,et){var vt=2-D(et)/L(2*s/3);return[je*L(6*s)/(2*vt),c(et)*d((4-vt*vt)/3)]},dt.invert=function(je,et){var vt=L(s*(4+s))/2;return[je*vt/(1+L(1-et*et*(4+s)/(4*s))),et*vt/2]},mt.invert=function(je,et){var vt=et*L((4+s)/s)/2,yt=d(vt),kt=h(yt);return[je/(2/L(s*(4+s))*(1+kt)),d((yt+vt*(kt+2))/(2+v))]},Lt.invert=function(je,et){var vt=L(2+s),yt=et*vt/2;return[vt*je/(1+h(yt)),yt]},Ut.invert=function(je,et){var vt=1+v,yt=L(vt/2);return[2*je*yt/(1+h(et*=yt)),d((et+m(et))/vt)]};var qt=3+2*E;function cr(je,et){var vt=m(je/=2),yt=h(je),kt=L(h(et)),Dt=h(et/=2),Gt=m(et)/(Dt+E*yt*kt),mr=L(2/(1+Gt*Gt)),Ar=L((E*Dt+(yt+vt)*kt)/(E*Dt+(yt-vt)*kt));return[qt*(mr*(Ar-1/Ar)-2*r(Ar)),qt*(mr*Gt*(Ar+1/Ar)-2*o(Gt))]}function lr(){return(0,T.Z)(cr).scale(62.5271)}cr.invert=function(je,et){if(!(Dt=J.invert(je/1.2,1.065*et)))return null;var Dt,vt=Dt[0],yt=Dt[1],kt=20;je/=qt,et/=qt;do{var Gt=vt/2,mr=yt/2,Ar=m(Gt),gr=h(Gt),Tr=m(mr),Nr=h(mr),Qr=h(yt),rn=L(Qr),on=Tr/(Nr+E*gr*rn),Cn=on*on,Wn=L(2/(1+Cn)),Ha=(E*Nr+(gr+Ar)*rn)/(E*Nr+(gr-Ar)*rn),Ua=L(Ha),Ka=Ua-1/Ua,_i=Ua+1/Ua,Vi=Wn*Ka-2*r(Ua)-je,va=Wn*on*_i-2*o(on)-et,ro=Tr&&x*rn*Ar*Cn/Tr,vo=(E*gr*Nr+rn)/(2*(Nr+E*gr*rn)*(Nr+E*gr*rn)*rn),Vo=-.5*on*Wn*Wn*Wn,ws=Vo*ro,Qi=Vo*vo,oe=(oe=2*Nr+E*rn*(gr-Ar))*oe*Ua,me=(E*gr*Nr*rn+Qr)/oe,Oe=-E*Ar*Tr/(rn*oe),Qe=Ka*ws-2*me/Ua+Wn*(me+me/Ha),qe=Ka*Qi-2*Oe/Ua+Wn*(Oe+Oe/Ha),ot=on*_i*ws-2*ro/(1+Cn)+Wn*_i*ro+Wn*on*(me-me/Ha),It=on*_i*Qi-2*vo/(1+Cn)+Wn*_i*vo+Wn*on*(Oe-Oe/Ha),Mt=qe*ot-It*Qe;if(!Mt)break;var Zt=(va*qe-Vi*It)/Mt,ar=(Vi*ot-va*Qe)/Mt;vt-=Zt,yt=l(-v,i(v,yt-ar))}while((D(Zt)>b||D(ar)>b)&&--kt>0);return D(D(yt)-v)<b?[0,yt]:kt&&[vt,yt]};var br=h(35*n);function We(je,et){var vt=a(et/2);return[je*br*L(1-vt*vt),(1+br)*vt]}function Ve(){return(0,T.Z)(We).scale(137.152)}function Rt(je,et){var vt=et/2,yt=h(vt);return[2*je/g*h(et)*yt*yt,g*a(vt)]}function _t(){return(0,T.Z)(Rt).scale(135.264)}function Kt(je){var et=1-je,vt=Dt(s,0)[0]-Dt(-s,0)[0],kt=L(2*(Dt(0,v)[1]-Dt(0,-v)[1])/vt);function Dt(Ar,gr){var Tr=h(gr),Nr=m(gr);return[Tr/(et+je*Tr)*Ar,et*gr+je*Nr]}function Gt(Ar,gr){var Tr=Dt(Ar,gr);return[Tr[0]*kt,Tr[1]/kt]}function mr(Ar){return Gt(0,Ar)[1]}return Gt.invert=function(Ar,gr){var Tr=ye(mr,gr);return[Ar/kt*(je+et/h(Tr)),Tr]},Gt}function sr(){var je=.5,et=(0,T.r)(Kt),vt=et(je);return vt.alpha=function(yt){return arguments.length?et(je=+yt):je},vt.scale(168.725)}We.invert=function(je,et){var vt=et/(1+br);return[je&&je/(br*L(1-vt*vt)),2*o(vt)]},Rt.invert=function(je,et){var vt=o(et/g),yt=h(vt),kt=2*vt;return[je*g/2/(h(kt)*yt*yt),kt]};var hr=e(57962),or=e(97492);function Nt(je){return[je[0]/2,d(a(je[1]/2*n))*w]}function dr(je){return[2*je[0],2*o(m(je[1]*n))*w]}function Mr(je){null==je&&(je=hr.Z);var et=je(),vt=(0,or.Z)().scale(w).precision(0).clipAngle(null).translate([0,0]);function yt(Dt){return et(Nt(Dt))}function kt(Dt){yt[Dt]=function(){return arguments.length?(et[Dt].apply(et,arguments),yt):et[Dt]()}}return et.invert&&(yt.invert=function(Dt){return dr(et.invert(Dt))}),yt.stream=function(Dt){var Gt=et.stream(Dt),mr=vt.stream({point:function(Ar,gr){Gt.point(Ar/2,d(a(-gr/2*n))*w)},lineStart:function(){Gt.lineStart()},lineEnd:function(){Gt.lineEnd()},polygonStart:function(){Gt.polygonStart()},polygonEnd:function(){Gt.polygonEnd()}});return mr.sphere=Gt.sphere,mr},yt.rotate=function(Dt){return arguments.length?(vt.rotate(Dt),yt):vt.rotate()},yt.center=function(Dt){return arguments.length?(et.center(Nt(Dt)),yt):dr(et.center())},kt("angle"),kt("clipAngle"),kt("clipExtent"),kt("fitExtent"),kt("fitHeight"),kt("fitSize"),kt("fitWidth"),kt("scale"),kt("translate"),kt("precision"),yt.scale(249.5)}function wr(je,et){var vt=2*s/et,yt=je*je;function kt(Dt,Gt){var mr=(0,Q.N)(Dt,Gt),Ar=mr[0],gr=mr[1],Tr=Ar*Ar+gr*gr;if(Tr>yt){var Nr=L(Tr),Qr=P(gr,Ar),rn=vt*f(Qr/vt),on=Qr-rn,Cn=je*h(on),Wn=(je*m(on)-on*m(Cn))/(v-Cn),fa=kr(on,Wn),Ia=(s-je)/tn(fa,Cn,s);Ar=Nr;var Ua,Ha=50;do{Ar-=Ua=(je+tn(fa,Cn,Ar)*Ia-Nr)/(fa(Ar)*Ia)}while(D(Ua)>b&&--Ha>0);gr=on*m(Ar),Ar<v&&(gr-=Wn*(Ar-v));var Ka=m(rn),_i=h(rn);mr[0]=Ar*_i-gr*Ka,mr[1]=Ar*Ka+gr*_i}return mr}return kt.invert=function(Dt,Gt){var mr=Dt*Dt+Gt*Gt;if(mr>yt){var Ar=L(mr),gr=P(Gt,Dt),Tr=vt*f(gr/vt),Nr=gr-Tr;Dt=Ar*h(Nr),Gt=Ar*m(Nr);for(var Qr=Dt-v,rn=m(Dt),on=Gt/rn,Cn=Dt<v?1/0:0,Wn=10;;){var fa=je*m(on),Ia=je*h(on),Ha=m(Ia),Ua=v-Ia,Ka=(fa-on*Ha)/Ua,_i=kr(on,Ka);if(D(Cn)<p||! --Wn)break;on-=Cn=(on*rn-Ka*Qr-Gt)/(rn-2*Qr*(Ua*(Ia+on*fa*h(Ia)-Ha)-fa*(fa-on*Ha))/(Ua*Ua))}Dt=(Ar=je+tn(_i,Ia,Dt)*(s-je)/tn(_i,Ia,s))*h(gr=Tr+on),Gt=Ar*m(gr)}return Q.N.invert(Dt,Gt)},kt}function kr(je,et){return function(vt){var yt=je*h(vt);return vt<v&&(yt-=et),L(1+yt*yt)}}function tn(je,et,vt){for(var kt=(vt-et)/50,Dt=je(et)+je(vt),Gt=1,mr=et;Gt<50;++Gt)Dt+=2*je(mr+=kt);return.5*Dt*kt}function _r(){var je=6,et=30*n,vt=h(et),yt=m(et),kt=(0,T.r)(wr),Dt=kt(et,je),Gt=Dt.stream,Ar=-h(.01*n),gr=m(.01*n);return Dt.radius=function(Tr){return arguments.length?(vt=h(et=Tr*n),yt=m(et),kt(et,je)):et*w},Dt.lobes=function(Tr){return arguments.length?kt(et,je=+Tr):je},Dt.stream=function(Tr){var Nr=Dt.rotate(),Qr=Gt(Tr),rn=(Dt.rotate([0,0]),Gt(Tr));return Dt.rotate(Nr),Qr.sphere=function(){rn.polygonStart(),rn.lineStart();for(var on=0,Cn=2*s/je,Wn=0;on<je;++on,Wn-=Cn)rn.point(P(gr*h(Wn),Ar)*w,d(gr*m(Wn))*w),rn.point(P(yt*h(Wn-Cn/2),vt)*w,d(yt*m(Wn-Cn/2))*w);rn.lineEnd(),rn.polygonEnd()},Qr},Dt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Kr(je,et,vt,yt,kt,Dt,Gt,mr){function Ar(gr,Tr){if(!Tr)return[je*gr/s,0];var Nr=Tr*Tr,Qr=je+Nr*(et+Nr*(vt+Nr*yt)),rn=Tr*(kt-1+Nr*(Dt-mr+Nr*Gt)),on=(Qr*Qr+rn*rn)/(2*rn),Cn=gr*d(Qr/on)/s;return[on*m(Cn),Tr*(1+Nr*mr)+on*(1-h(Cn))]}return arguments.length<8&&(mr=0),Ar.invert=function(gr,Tr){var rn,on,Nr=s*gr/je,Qr=Tr,Cn=50;do{var Wn=Qr*Qr,fa=je+Wn*(et+Wn*(vt+Wn*yt)),Ia=Qr*(kt-1+Wn*(Dt-mr+Wn*Gt)),Ha=fa*fa+Ia*Ia,Ua=2*Ia,Ka=Ha/Ua,_i=Ka*Ka,Vi=d(fa/Ka)/s,va=Nr*Vi,ro=fa*fa,vo=(2*et+Wn*(4*vt+6*Wn*yt))*Qr,Vo=kt+Wn*(3*Dt+5*Wn*Gt),oe=(2*(fa*vo+Ia*(Vo-1))*Ua-Ha*(2*(Vo-1)))/(Ua*Ua),me=h(va),Oe=m(va),Qe=Ka*me,qe=Ka*Oe,ot=Nr/s*(1/L(1-ro/_i))*(vo*Ka-fa*oe)/_i,It=qe-gr,Mt=Qr*(1+Wn*mr)+Ka-Qe-Tr,Zt=oe*Oe+Qe*ot,ar=Qe*Vi,ur=1+oe-(oe*me-qe*ot),Fr=qe*Vi,Ir=Zt*Fr-ur*ar;if(!Ir)break;Nr-=rn=(Mt*Zt-It*ur)/Ir,Qr-=on=(It*Fr-Mt*ar)/Ir}while((D(rn)>b||D(on)>b)&&--Cn>0);return[Nr,Qr]},Ar}var vn=Kr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function Xr(){return(0,T.Z)(vn).scale(149.995)}var On=Kr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function mn(){return(0,T.Z)(On).scale(153.93)}var xr=Kr(5/6*s,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Pr(){return(0,T.Z)(xr).scale(130.945)}function Zr(je,et){var vt=je*je,yt=et*et;return[je*(1-.162388*yt)*(.87-952426e-9*vt*vt),et*(1+yt/12)]}function Hr(){return(0,T.Z)(Zr).scale(131.747)}Zr.invert=function(je,et){var Dt,vt=je,yt=et,kt=50;do{var Gt=yt*yt;yt-=Dt=(yt*(1+Gt/12)-et)/(1+Gt/4)}while(D(Dt)>b&&--kt>0);kt=50,je/=1-.162388*Gt;do{var mr=(mr=vt*vt)*mr;vt-=Dt=(vt*(.87-952426e-9*mr)-je)/(.87-.00476213*mr)}while(D(Dt)>b&&--kt>0);return[vt,yt]};var fn=Kr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Tn(){return(0,T.Z)(fn).scale(131.087)}function Mn(je){var et=je(v,0)[0]-je(-v,0)[0];function vt(yt,kt){var Dt=yt>0?-.5:.5,Gt=je(yt+Dt*s,kt);return Gt[0]-=Dt*et,Gt}return je.invert&&(vt.invert=function(yt,kt){var Dt=yt>0?-.5:.5,Gt=je.invert(yt+Dt*et,kt),mr=Gt[0]-Dt*s;return mr<-s?mr+=2*s:mr>s&&(mr-=2*s),Gt[0]=mr,Gt}),vt}function Pn(je,et){var vt=c(je),yt=c(et),kt=h(et),Dt=h(je)*kt,Gt=m(je)*kt,mr=m(yt*et);je=D(P(Gt,mr)),et=d(Dt),D(je-v)>b&&(je%=v);var Ar=function Fn(je,et){if(et===v)return[0,0];var Cn,Wn,vt=m(et),yt=vt*vt,kt=yt*yt,Dt=1+kt,Gt=1+3*kt,mr=1-kt,Ar=d(1/L(Dt)),gr=mr+yt*Dt*Ar,Tr=(1-vt)/gr,Nr=L(Tr),Qr=Tr*Dt,rn=L(Qr),on=Nr*mr;if(0===je)return[0,-(on+yt*rn)];var Qi,fa=h(et),Ia=1/fa,Ha=2*vt*fa,Ka=(-gr*fa-(1-vt)*((-3*yt+Ar*Gt)*Ha))/(gr*gr),ro=-Ia*Ha,vo=-Ia*(yt*Dt*Ka+Tr*Gt*Ha),Vo=-2*Ia*(mr*(.5*Ka/Nr)-2*yt*Nr*Ha),ws=4*je/s;if(je>.222*s||et<s/4&&je>.175*s){if(Cn=(on+yt*L(Qr*(1+kt)-on*on))/(1+kt),je>s/4)return[Cn,Cn];var oe=Cn,me=.5*Cn;Cn=.5*(me+oe),Wn=50;do{var Qe=Cn*(Vo+ro*L(Qr-Cn*Cn))+vo*d(Cn/rn)-ws;if(!Qe)break;Qe<0?me=Cn:oe=Cn,Cn=.5*(me+oe)}while(D(oe-me)>b&&--Wn>0)}else{Cn=b,Wn=25;do{var qe=Cn*Cn,ot=L(Qr-qe),It=Vo+ro*ot,Mt=Cn*It+vo*d(Cn/rn)-ws;Cn-=Qi=ot?Mt/(It+(vo-ro*qe)/ot):0}while(D(Qi)>b&&--Wn>0)}return[Cn,-on-yt*L(Qr-Cn*Cn)]}(je>s/4?v-je:je,et);return je>s/4&&(mr=Ar[0],Ar[0]=-Ar[1],Ar[1]=-mr),Ar[0]*=vt,Ar[1]*=-yt,Ar}function Xn(){return(0,T.Z)(Mn(Pn)).scale(239.75)}function Yn(je,et){var vt,yt,kt,Dt,Gt;if(et<b)return[(Dt=m(je))-(vt=et*(je-Dt*(yt=h(je)))/4)*yt,yt+vt*Dt,1-et*Dt*Dt/2,je-vt];if(et>=1-b)return vt=(1-et)/4,yt=z(je),Dt=function B(je){return((je=y(2*je))-1)/(je+1)}(je),kt=1/yt,[Dt+vt*((Gt=yt*k(je))-je)/(yt*yt),kt-vt*Dt*kt*(Gt-je),kt+vt*Dt*kt*(Gt+je),2*o(y(je))-v+vt*(Gt-je)/yt];var mr=[1,0,0,0,0,0,0,0,0],Ar=[L(et),0,0,0,0,0,0,0,0],gr=0;for(yt=L(1-et),Gt=1;D(Ar[gr]/mr[gr])>b&&gr<8;)vt=mr[gr++],Ar[gr]=(vt-yt)/2,mr[gr]=(vt+yt)/2,yt=L(vt*yt),Gt*=2;kt=Gt*mr[gr]*je;do{kt=(d(Dt=Ar[gr]*m(yt=kt)/mr[gr])+kt)/2}while(--gr);return[m(kt),Dt=h(kt),Dt/h(kt-yt),kt]}function Sr(je,et){if(!et)return je;if(1===et)return r(a(je/2+A));for(var vt=1,yt=L(1-et),kt=L(et),Dt=0;D(kt)>b;Dt++){if(je%s){var Gt=o(yt*a(je)/vt);Gt<0&&(Gt+=s),je+=Gt+~~(je/s)*s}else je+=je;kt=(vt+yt)/2,yt=L(vt*yt),kt=((vt=kt)-yt)/2}return je/(u(2,Dt)*vt)}function un(je,et){var vt=(E-1)/(E+1),yt=L(1-vt*vt),kt=Sr(v,yt*yt),Gt=r(a(s/4+D(et)/2)),mr=y(-1*Gt)/L(vt),Ar=function ln(je,et){var vt=je*je,yt=et+1,kt=1-vt-et*et;return[.5*((je>=0?v:-v)-P(kt,2*je)),-.25*r(kt*kt+4*vt)+.5*r(yt*yt+vt)]}(mr*h(-1*je),mr*m(-1*je)),gr=function ra(je,et,vt){var yt=D(je),Dt=k(D(et));if(yt){var Gt=1/m(yt),mr=1/(a(yt)*a(yt)),Ar=-(mr+vt*(Dt*Dt*Gt*Gt)-1+vt),Tr=(-Ar+L(Ar*Ar-(vt-1)*mr*4))/2;return[Sr(o(1/L(Tr)),vt)*c(je),Sr(o(L((Tr/mr-1)/vt)),1-vt)*c(et)]}return[0,Sr(o(Dt),1-vt)*c(et)]}(Ar[0],Ar[1],yt*yt);return[-gr[1],(et>=0?1:-1)*(.5*kt-gr[0])]}function Vn(){return(0,T.Z)(Mn(un)).scale(151.496)}Pn.invert=function(je,et){D(je)>1&&(je=2*c(je)-je),D(et)>1&&(et=2*c(et)-et);var vt=c(je),yt=c(et),kt=-vt*je,Dt=-yt*et,Gt=Dt/kt<1,mr=function la(je,et){for(var vt=0,yt=1,kt=.5,Dt=50;;){var Gt=kt*kt,mr=L(kt),Ar=d(1/L(1+Gt)),gr=1-Gt+kt*(1+Gt)*Ar,Tr=(1-mr)/gr,Nr=L(Tr),Qr=Tr*(1+Gt),rn=Nr*(1-Gt),Cn=L(Qr-je*je),Wn=et+rn+kt*Cn;if(D(yt-vt)<p||0==--Dt||0===Wn)break;Wn>0?vt=kt:yt=kt,kt=.5*(vt+yt)}if(!Dt)return null;var fa=d(mr),Ia=h(fa),Ha=1/Ia,Ua=2*mr*Ia,_i=(-gr*Ia-(1-mr)*((-3*kt+Ar*(1+3*Gt))*Ua))/(gr*gr);return[s/4*(je*(-2*Ha*(.5*_i/Nr*(1-Gt)-2*kt*Nr*Ua)+-Ha*Ua*Cn)+-Ha*(kt*(1+Gt)*_i+Tr*(1+3*Gt)*Ua)*d(je/L(Qr))),fa]}(Gt?Dt:kt,Gt?kt:Dt),Ar=mr[0],gr=mr[1],Tr=h(gr);return Gt&&(Ar=-v-Ar),[vt*(P(m(Ar)*Tr,-m(gr))+s),yt*d(h(Ar)*Tr)]},un.invert=function(je,et){var vt=(E-1)/(E+1),yt=L(1-vt*vt),Gt=function na(je,et,vt){var yt,kt,Dt;return je?(yt=Yn(je,vt),et?(kt=Yn(et,1-vt),[[yt[0]*kt[2]/(Dt=kt[1]*kt[1]+vt*yt[0]*yt[0]*kt[0]*kt[0]),yt[1]*yt[2]*kt[0]*kt[1]/Dt],[yt[1]*kt[1]/Dt,-yt[0]*yt[2]*kt[0]*kt[2]/Dt],[yt[2]*kt[1]*kt[2]/Dt,-vt*yt[0]*yt[1]*kt[0]/Dt]]):[[yt[0],0],[yt[1],0],[yt[2],0]]):[[0,(kt=Yn(et,1-vt))[0]/kt[1]],[1/kt[1],0],[kt[2]/kt[1],0]]}(.5*Sr(v,yt*yt)-et,-je,yt*yt),mr=function An(je,et){var vt=et[0]*et[0]+et[1]*et[1];return[(je[0]*et[0]+je[1]*et[1])/vt,(je[1]*et[0]-je[0]*et[1])/vt]}(Gt[0],Gt[1]);return[P(mr[1],mr[0])/-1,2*o(y(-.5*r(vt*mr[0]*mr[0]+vt*mr[1]*mr[1])))-v]};var En=e(7613);function Ln(je){var et=m(je),vt=h(je),yt=Hn(je);function kt(Dt,Gt){var mr=yt(Dt,Gt);Dt=mr[0];var Ar=m(Gt=mr[1]),gr=h(Gt),Tr=h(Dt),Nr=I(et*Ar+vt*gr*Tr),Qr=m(Nr),rn=D(Qr)>b?Nr/Qr:1;return[rn*vt*m(Dt),(D(Dt)>v?rn:-rn)*(et*gr-vt*Ar*Tr)]}return yt.invert=Hn(-je),kt.invert=function(Dt,Gt){var mr=L(Dt*Dt+Gt*Gt),Ar=-m(mr),gr=h(mr),Tr=mr*gr,Nr=-Gt*Ar,Qr=mr*et,rn=L(Tr*Tr+Nr*Nr-Qr*Qr),on=P(Tr*Qr+Nr*rn,Nr*Qr-Tr*rn),Cn=(mr>v?-1:1)*P(Dt*Ar,mr*h(on)*gr+Gt*m(on)*Ar);return yt.invert(Cn,on)},kt}function Hn(je){var et=m(je),vt=h(je);return function(yt,kt){var Dt=h(kt),Gt=h(yt)*Dt,mr=m(yt)*Dt,Ar=m(kt);return[P(mr,Gt*vt-Ar*et),d(Ar*vt+Gt*et)]}}function Qn(){var je=0,et=(0,T.r)(Ln),vt=et(je),yt=vt.rotate,kt=vt.stream,Dt=(0,En.Z)();return vt.parallel=function(Gt){if(!arguments.length)return je*w;var mr=vt.rotate();return et(je=Gt*n).rotate(mr)},vt.rotate=function(Gt){return arguments.length?(yt.call(vt,[Gt[0],Gt[1]-je*w]),Dt.center([-Gt[0],-Gt[1]]),vt):((Gt=yt.call(vt))[1]+=je*w,Gt)},vt.stream=function(Gt){return(Gt=kt(Gt)).sphere=function(){Gt.polygonStart();var Nr,Ar=Dt.radius(89.99)().coordinates[0],gr=Ar.length-1,Tr=-1;for(Gt.lineStart();++Tr<gr;)Gt.point((Nr=Ar[Tr])[0],Nr[1]);for(Gt.lineEnd(),gr=(Ar=Dt.radius(90.01)().coordinates[0]).length-1,Gt.lineStart();--Tr>=0;)Gt.point((Nr=Ar[Tr])[0],Nr[1]);Gt.lineEnd(),Gt.polygonEnd()},Gt},vt.scale(79.4187).parallel(45).clipAngle(179.999)}var ya=e(33064),Ja=e(72736),ge=d(1-1/3)*w,Ue=zt(0);function nt(je){var et=ge*n,vt=Fe(s,et)[0]-Fe(-s,et)[0],yt=Ue(0,et)[1],kt=Fe(0,et)[1],Dt=g-kt,Gt=M/je,mr=4/M,Ar=yt+Dt*Dt*4/M;function gr(Tr,Nr){var Qr,rn=D(Nr);if(rn>et){var on=i(je-1,l(0,t((Tr+s)/Gt)));(Qr=Fe(Tr+=s*(je-1)/je-on*Gt,rn))[0]=Qr[0]*M/vt-M*(je-1)/(2*je)+on*M/je,Qr[1]=yt+4*(Qr[1]-kt)*Dt/M,Nr<0&&(Qr[1]=-Qr[1])}else Qr=Ue(Tr,Nr);return Qr[0]*=mr,Qr[1]/=Ar,Qr}return gr.invert=function(Tr,Nr){Tr/=mr;var Qr=D(Nr*=Ar);if(Qr>yt){var rn=i(je-1,l(0,t((Tr+s)/Gt))),on=Fe.invert(Tr=(Tr+s*(je-1)/je-rn*Gt)*vt/M,.25*(Qr-yt)*M/Dt+kt);return on[0]-=s*(je-1)/je-rn*Gt,Nr<0&&(on[1]=-on[1]),on}return Ue.invert(Tr,Nr)},gr}function ct(je,et){return[je,1&et?90-b:ge]}function Pt(je,et){return[je,1&et?-90+b:-ge]}function Ft(je){return[je[0]*(1-b),je[1]]}function Vt(){var je=4,et=(0,T.r)(nt),vt=et(je),yt=vt.stream;return vt.lobes=function(kt){return arguments.length?et(je=+kt):je},vt.stream=function(kt){var Dt=vt.rotate(),Gt=yt(kt),mr=(vt.rotate([0,0]),yt(kt));return vt.rotate(Dt),Gt.sphere=function(){(0,Ja.Z)(function Yt(je){var et=[].concat((0,ya.w6)(-180,180+je/2,je).map(ct),(0,ya.w6)(180,-180-je/2,-je).map(Pt));return{type:"Polygon",coordinates:[180===je?et.map(Ft):et]}}(180/je),mr)},Gt},vt.scale(239.75)}function Ot(je){var Dt,et=1+je,yt=d(m(1/et)),kt=2*L(s/(Dt=s+4*yt*et)),Gt=.5*kt*(et+L(je*(2+je))),mr=je*je,Ar=et*et;function gr(Tr,Nr){var rn,on,Qr=1-m(Nr);if(Qr&&Qr<2){var fa,Cn=v-Nr,Wn=25;do{var Ia=m(Cn),Ha=h(Cn),Ua=yt+P(Ia,et-Ha),Ka=1+Ar-2*et*Ha;Cn-=fa=(Cn-mr*yt-et*Ia+Ka*Ua-.5*Qr*Dt)/(2*et*Ia*Ua)}while(D(fa)>p&&--Wn>0);rn=kt*L(Ka),on=Tr*Ua/s}else rn=kt*(je+Qr),on=Tr*yt/s;return[rn*m(on),Gt-rn*h(on)]}return gr.invert=function(Tr,Nr){var Qr=Tr*Tr+(Nr-=Gt)*Nr,rn=(1+Ar-Qr/(kt*kt))/(2*et),on=I(rn),Cn=m(on),Wn=yt+P(Cn,et-rn);return[d(Tr/L(Qr))*s/Wn,d(1-2*(on-mr*yt-et*Cn+(1+Ar-2*et*rn)*Wn)/Dt)]},gr}function Jt(){var je=1,et=(0,T.r)(Ot),vt=et(je);return vt.ratio=function(yt){return arguments.length?et(je=+yt):je},vt.scale(167.774).center([0,18.67])}var Dr=.7109889596207567,Gr=.0528035274542;function Yr(je,et){return et>-Dr?((je=Ge(je,et))[1]+=Gr,je):ze(je,et)}function zr(){return(0,T.Z)(Yr).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function bn(je,et){return D(et)>Dr?((je=Ge(je,et))[1]-=et>0?Gr:-Gr,je):ze(je,et)}function In(){return(0,T.Z)(bn).scale(152.63)}function Bn(je,et,vt,yt){var kt=L(4*s/(2*vt+(1+je-et/2)*m(2*vt)+(je+et)/2*m(4*vt)+et/2*m(6*vt))),Dt=L(yt*m(vt)*L((1+je*h(2*vt)+et*h(4*vt))/(1+je+et))),Gt=vt*Ar(1);function mr(Nr){return L(1+je*h(2*Nr)+et*h(4*Nr))}function Ar(Nr){var Qr=Nr*vt;return(2*Qr+(1+je-et/2)*m(2*Qr)+(je+et)/2*m(4*Qr)+et/2*m(6*Qr))/vt}function gr(Nr){return mr(Nr)*m(Nr)}var Tr=function(Nr,Qr){var rn=vt*ye(Ar,Gt*m(Qr)/vt,Qr/s);isNaN(rn)&&(rn=vt*c(Qr));var on=kt*mr(rn);return[on*Dt*Nr/s*h(rn),on/Dt*m(rn)]};return Tr.invert=function(Nr,Qr){var rn=ye(gr,Qr*Dt/kt);return[Nr*s/(h(rn)*kt*Dt*mr(rn)),d(vt*Ar(rn/vt)/Gt)]},0===vt&&(kt=L(yt/s),(Tr=function(Nr,Qr){return[Nr*kt,m(Qr)/kt]}).invert=function(Nr,Qr){return[Nr/kt,d(Qr*kt)]}),Tr}function ea(){var je=1,et=0,vt=45*n,yt=2,kt=(0,T.r)(Bn),Dt=kt(je,et,vt,yt);return Dt.a=function(Gt){return arguments.length?kt(je=+Gt,et,vt,yt):je},Dt.b=function(Gt){return arguments.length?kt(je,et=+Gt,vt,yt):et},Dt.psiMax=function(Gt){return arguments.length?kt(je,et,vt=+Gt*n,yt):vt*w},Dt.ratio=function(Gt){return arguments.length?kt(je,et,vt,yt=+Gt):yt},Dt.scale(180.739)}function Kn(je,et,vt,yt,kt,Dt,Gt,mr,Ar,gr,Tr){if(Tr.nanEncountered)return NaN;var Nr,Qr,rn,on,Cn,Wn,fa,Ia,Ha,Ua;if(Qr=je(et+.25*(Nr=vt-et)),rn=je(vt-.25*Nr),isNaN(Qr))Tr.nanEncountered=!0;else{if(!isNaN(rn))return Ua=((Wn=(on=Nr*(yt+4*Qr+kt)/12)+(Cn=Nr*(kt+4*rn+Dt)/12))-Gt)/15,gr>Ar?(Tr.maxDepthCount++,Wn+Ua):Math.abs(Ua)<mr?Wn+Ua:(Ia=Kn(je,et,fa=et+.5*Nr,yt,Qr,kt,on,.5*mr,Ar,gr+1,Tr),isNaN(Ia)?(Tr.nanEncountered=!0,NaN):(Ha=Kn(je,fa,vt,kt,rn,Dt,Cn,.5*mr,Ar,gr+1,Tr),isNaN(Ha)?(Tr.nanEncountered=!0,NaN):Ia+Ha));Tr.nanEncountered=!0}}function ha(je,et,vt,yt,kt){void 0===yt&&(yt=1e-8),void 0===kt&&(kt=20);var Gt=je(et),mr=je(.5*(et+vt)),Ar=je(vt);return Kn(je,et,vt,Gt,mr,Ar,(Gt+4*mr+Ar)*(vt-et)/6,yt,kt,1,{maxDepthCount:0,nanEncountered:!1})}function Di(je,et,vt){function yt(rn){return je+(1-je)*u(1-u(rn,et),1/et)}function kt(rn){return ha(yt,0,rn,1e-4)}for(var Dt=1/kt(1),mr=(1+1e-8)*Dt,Ar=[],gr=0;gr<=1e3;gr++)Ar.push(kt(gr/1e3)*mr);function Tr(rn){var on=0,Cn=1e3,Wn=500;do{Ar[Wn]>rn?Cn=Wn:on=Wn,Wn=on+Cn>>1}while(Wn>on);var fa=Ar[Wn+1]-Ar[Wn];return fa&&(fa=(rn-Ar[Wn+1])/fa),(Wn+1+fa)/1e3}var Nr=2*Tr(1)/s*Dt/vt,Qr=function(rn,on){var Cn=Tr(D(m(on))),Wn=yt(Cn)*rn;return Cn/=Nr,[Wn,on>=0?Cn:-Cn]};return Qr.invert=function(rn,on){var Cn;return D(on*=Nr)<1&&(Cn=c(on)*d(kt(D(on))*Dt)),[rn/yt(D(on)),Cn]},Qr}function $a(){var je=0,et=2.5,vt=1.183136,yt=(0,T.r)(Di),kt=yt(je,et,vt);return kt.alpha=function(Dt){return arguments.length?yt(je=+Dt,et,vt):je},kt.k=function(Dt){return arguments.length?yt(je,et=+Dt,vt):et},kt.gamma=function(Dt){return arguments.length?yt(je,et,vt=+Dt):vt},kt.scale(152.63)}function eo(je,et){return D(je[0]-et[0])<b&&D(je[1]-et[1])<b}function ti(je,et){for(var Dt,Gt,mr,vt=-1,yt=je.length,kt=je[0],Ar=[];++vt<yt;){Gt=((Dt=je[vt])[0]-kt[0])/et,mr=(Dt[1]-kt[1])/et;for(var gr=0;gr<et;++gr)Ar.push([kt[0]+gr*Gt,kt[1]+gr*mr]);kt=Dt}return Ar.push(Dt),Ar}function co(je,et,vt){var yt,kt;function Dt(Ar,gr){for(var Tr=gr<0?-1:1,Nr=et[+(gr<0)],Qr=0,rn=Nr.length-1;Qr<rn&&Ar>Nr[Qr][2][0];++Qr);var on=je(Ar-Nr[Qr][1][0],gr);return on[0]+=je(Nr[Qr][1][0],Tr*gr>Tr*Nr[Qr][0][1]?Nr[Qr][0][1]:gr)[0],on}vt?Dt.invert=vt(Dt):je.invert&&(Dt.invert=function(Ar,gr){for(var Tr=kt[+(gr<0)],Nr=et[+(gr<0)],Qr=0,rn=Tr.length;Qr<rn;++Qr){var on=Tr[Qr];if(on[0][0]<=Ar&&Ar<on[1][0]&&on[0][1]<=gr&&gr<on[1][1]){var Cn=je.invert(Ar-je(Nr[Qr][1][0],0)[0],gr);return Cn[0]+=Nr[Qr][1][0],eo(Dt(Cn[0],Cn[1]),[Ar,gr])?Cn:null}}});var Gt=(0,T.Z)(Dt),mr=Gt.stream;return Gt.stream=function(Ar){var gr=Gt.rotate(),Tr=mr(Ar),Nr=(Gt.rotate([0,0]),mr(Ar));return Gt.rotate(gr),Tr.sphere=function(){(0,Ja.Z)(yt,Nr)},Tr},Gt.lobes=function(Ar){return arguments.length?(yt=function Fi(je){var vt,yt,Dt,Gt,Ar,et=[],gr=je[0].length;for(Ar=0;Ar<gr;++Ar)et.push(ti([[(yt=(vt=je[0][Ar])[0][0])+b,vt[0][1]+b],[yt+b,(Dt=vt[1][1])-b],[(Gt=vt[2][0])-b,Dt-b],[Gt-b,vt[2][1]+b]],30));for(Ar=je[1].length-1;Ar>=0;--Ar)et.push(ti([[(Gt=(vt=je[1][Ar])[2][0])-b,vt[2][1]-b],[Gt-b,(Dt=vt[1][1])+b],[(yt=vt[0][0])+b,Dt+b],[yt+b,vt[0][1]-b]],30));return{type:"Polygon",coordinates:[(0,ya.TS)(et)]}}(Ar),et=Ar.map(function(gr){return gr.map(function(Tr){return[[Tr[0][0]*n,Tr[0][1]*n],[Tr[1][0]*n,Tr[1][1]*n],[Tr[2][0]*n,Tr[2][1]*n]]})}),kt=et.map(function(gr){return gr.map(function(Tr){var Cn,Nr=je(Tr[0][0],Tr[0][1])[0],Qr=je(Tr[2][0],Tr[2][1])[0],rn=je(Tr[1][0],Tr[0][1])[1],on=je(Tr[1][0],Tr[1][1])[1];return rn>on&&(Cn=rn,rn=on,on=Cn),[[Nr,rn],[Qr,on]]})}),Gt):et.map(function(gr){return gr.map(function(Tr){return[[Tr[0][0]*w,Tr[0][1]*w],[Tr[1][0]*w,Tr[1][1]*w],[Tr[2][0]*w,Tr[2][1]*w]]})})},null!=et&&Gt.lobes(et),Gt}Yr.invert=function(je,et){return et>-Dr?Ge.invert(je,et-Gr):ze.invert(je,et)},bn.invert=function(je,et){return D(et)>Dr?Ge.invert(je,et+(et>0?Gr:-Gr)):ze.invert(je,et)};var oi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function mo(){return co(rt,oi).scale(160.857)}var ss=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function zi(){return co(bn,ss).scale(152.63)}var Ui=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Jo(){return co(Ge,Ui).scale(169.529)}var Lo=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ui(){return co(Ge,Lo).scale(169.529).rotate([20,0])}var Wi=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Yi(){return co(Yr,Wi,Pe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Si=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function wo(){return co(ze,Si).scale(152.63).rotate([-20,0])}function Sa(je,et){return[3/M*je*L(s*s/3-et*et),et]}function mi(){return(0,T.Z)(Sa).scale(158.837)}function hi(je){function et(vt,yt){if(D(D(yt)-v)<b)return[0,yt<0?-2:2];var kt=m(yt),Dt=u((1+kt)/(1-kt),je/2),Gt=.5*(Dt+1/Dt)+h(vt*=je);return[2*m(vt)/Gt,(Dt-1/Dt)/Gt]}return et.invert=function(vt,yt){var kt=D(yt);if(D(kt-2)<b)return vt?null:[0,c(yt)*v];if(kt>2)return null;var Dt=(vt/=2)*vt,Gt=(yt/=2)*yt,mr=2*yt/(1+Dt+Gt);return mr=u((1+mr)/(1-mr),1/je),[P(2*vt,1-Dt-Gt)/je,d((mr-1)/(mr+1))]},et}function Zi(){var je=.5,et=(0,T.r)(hi),vt=et(je);return vt.spacing=function(yt){return arguments.length?et(je=+yt):je},vt.scale(124.75)}Sa.invert=function(je,et){return[M/3*je/L(s*s/3-et*et),et]};var ji=s/E;function Qo(je,et){return[je*(1+L(h(et)))/2,et/(h(et/2)*h(je/6))]}function io(){return(0,T.Z)(Qo).scale(97.2672)}function di(je,et){var vt=je*je,yt=et*et;return[je*(.975534+yt*(-.0143059*vt-.119161+-.0547009*yt)),et*(1.00384+vt*(.0802894+-.02855*yt+199025e-9*vt)+yt*(.0998909+-.0491032*yt))]}function qs(){return(0,T.Z)(di).scale(139.98)}function To(je,et){return[m(je)/h(et),a(et)*h(je)]}function ns(){return(0,T.Z)(To).scale(144.049).clipAngle(89.999)}function ls(je){var et=h(je),vt=a(A+je/2);function yt(kt,Dt){var Gt=Dt-je,mr=D(Gt)<b?kt*et:D(mr=A+Dt/2)<b||D(D(mr)-v)<b?0:kt*Gt/r(a(mr)/vt);return[mr,Gt]}return yt.invert=function(kt,Dt){var Gt,mr=Dt+je;return[D(Dt)<b?kt/et:D(Gt=A+mr/2)<b||D(D(Gt)-v)<b?0:kt*r(a(Gt)/vt)/Dt,mr]},yt}function Hs(){return Be(ls).parallel(40).scale(158.837)}function gs(je,et){return[je,1.25*r(a(A+.4*et))]}function Ps(){return(0,T.Z)(gs).scale(108.318)}function Vs(je){var et=je.length-1;function vt(yt,kt){for(var rn,Dt=h(kt),Gt=2/(1+Dt*h(yt)),mr=Gt*Dt*m(yt),Ar=Gt*m(kt),gr=et,Tr=je[gr],Nr=Tr[0],Qr=Tr[1];--gr>=0;)Nr=(Tr=je[gr])[0]+mr*(rn=Nr)-Ar*Qr,Qr=Tr[1]+mr*Qr+Ar*rn;return[Nr=mr*(rn=Nr)-Ar*Qr,Qr=mr*Qr+Ar*rn]}return vt.invert=function(yt,kt){var Dt=20,Gt=yt,mr=kt;do{for(var on,Ar=et,gr=je[Ar],Tr=gr[0],Nr=gr[1],Qr=0,rn=0;--Ar>=0;)Qr=Tr+Gt*(on=Qr)-mr*rn,rn=Nr+Gt*rn+mr*on,Tr=(gr=je[Ar])[0]+Gt*(on=Tr)-mr*Nr,Nr=gr[1]+Gt*Nr+mr*on;var Wn,fa,Cn=(Qr=Tr+Gt*(on=Qr)-mr*rn)*Qr+(rn=Nr+Gt*rn+mr*on)*rn;Gt-=Wn=((Tr=Gt*(on=Tr)-mr*Nr-yt)*Qr+(Nr=Gt*Nr+mr*on-kt)*rn)/Cn,mr-=fa=(Nr*Qr-Tr*rn)/Cn}while(D(Wn)+D(fa)>b*b&&--Dt>0);if(Dt){var Ia=L(Gt*Gt+mr*mr),Ha=2*o(.5*Ia),Ua=m(Ha);return[P(Gt*Ua,Ia*h(Ha)),Ia?d(mr*Ua/Ia):0]}},vt}Qo.invert=function(je,et){var vt=D(je),yt=D(et),kt=b,Dt=v;yt<ji?Dt*=yt/ji:kt+=6*I(ji/yt);for(var Gt=0;Gt<25;Gt++){var mr=m(Dt),Ar=L(h(Dt)),gr=m(Dt/2),Tr=h(Dt/2),Nr=m(kt/6),Qr=h(kt/6),rn=.5*kt*(1+Ar)-vt,on=Dt/(Tr*Qr)-yt,Cn=Ar?-.25*kt*mr/Ar:0,Wn=.5*(1+Ar),fa=(1+.5*Dt*gr/Tr)/(Tr*Qr),Ia=Dt/Tr*(Nr/6)/(Qr*Qr),Ha=Cn*Ia-fa*Wn,Ua=(rn*Ia-on*Wn)/Ha,Ka=(on*Cn-rn*fa)/Ha;if(Dt-=Ua,kt-=Ka,D(Ua)<b&&D(Ka)<b)break}return[je<0?-kt:kt,et<0?-Dt:Dt]},di.invert=function(je,et){var vt=c(je)*s,yt=et/2,kt=50;do{var Dt=vt*vt,Gt=yt*yt,mr=vt*yt,Ar=vt*(.975534+Gt*(-.0143059*Dt-.119161+-.0547009*Gt))-je,gr=yt*(1.00384+Dt*(.0802894+-.02855*Gt+199025e-9*Dt)+Gt*(.0998909+-.0491032*Gt))-et,Tr=.975534-Gt*(.119161+3*Dt*.0143059+.0547009*Gt),Nr=-mr*(.238322+.2188036*Gt+.0286118*Dt),Qr=mr*(.1605788+7961e-7*Dt+-.0571*Gt),rn=1.00384+Dt*(.0802894+199025e-9*Dt)+Gt*(3*(.0998909-.02855*Dt)-.245516*Gt),on=Nr*Qr-rn*Tr,Cn=(gr*Nr-Ar*rn)/on,Wn=(Ar*Qr-gr*Tr)/on;vt-=Cn,yt-=Wn}while((D(Cn)>b||D(Wn)>b)&&--kt>0);return kt&&[vt,yt]},To.invert=function(je,et){var vt=je*je,kt=et*et+1,Dt=vt+kt,Gt=je?x*L((Dt-L(Dt*Dt-4*vt))/vt):1/L(kt);return[d(je*Gt),c(et)*I(Gt)]},gs.invert=function(je,et){return[je,2.5*o(y(.8*et))-.625*s]};var el=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],yl=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Ds=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],tl=[[.9245,0],[0,0],[.01943,0]],Vr=[[.721316,0],[0,0],[-.00881625,-.00617325]];function xn(){return Ea(el,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function kn(){return Ea(yl,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Nn(){return Ea(Ds,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function jn(){return Ea(tl,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function za(){return Ea(Vr,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Ea(je,et){var vt=(0,T.Z)(Vs(je)).rotate(et).clipAngle(90),yt=(0,Ee.Z)(et),kt=vt.center;return delete vt.rotate,vt.center=function(Dt){return arguments.length?kt(yt(Dt)):yt.invert(kt())},vt}var Ba=L(6),Ra=L(7);function si(je,et){var vt=d(7*m(et)/(3*Ba));return[Ba*je*(2*h(2*vt/3)-1)/Ra,9*m(vt/3)/Ra]}function Xa(){return(0,T.Z)(si).scale(164.859)}function ri(je,et){for(var Dt,vt=(1+x)*m(et),yt=et,kt=0;kt<25&&(yt-=Dt=(m(yt/2)+m(yt)-vt)/(.5*h(yt/2)+h(yt)),!(D(Dt)<b));kt++);return[je*(1+2*h(yt)/h(yt/2))/(3*E),2*L(3)*m(yt/2)/L(2+E)]}function pi(){return(0,T.Z)(ri).scale(188.209)}function Za(je,et){for(var Gt,vt=L(6/(4+s)),yt=(1+s/4)*m(et),kt=et/2,Dt=0;Dt<25&&(kt-=Gt=(kt/2+m(kt)-yt)/(.5+h(kt)),!(D(Gt)<b));Dt++);return[vt*(.5+h(kt))*je/1.5,vt*kt]}function Ri(){return(0,T.Z)(Za).scale(166.518)}si.invert=function(je,et){var vt=3*d(et*Ra/9);return[je*Ra/(Ba*(2*h(2*vt/3)-1)),d(3*m(vt)*Ba/7)]},ri.invert=function(je,et){var vt=et*L(2+E)/(2*L(3)),yt=2*d(vt);return[3*E*je/(1+2*h(yt)/h(yt/2)),d((vt+m(yt))/(1+x))]},Za.invert=function(je,et){var vt=L(6/(4+s)),yt=et/vt;return D(D(yt)-v)<b&&(yt=yt<0?-v:v),[1.5*je/(vt*(.5+h(yt))),d((yt/2+m(yt))/(1+s/4))]};var ho=e(26867);function Ji(je,et){var vt=et*et,yt=vt*vt,kt=vt*yt;return[je*(.84719-.13063*vt+kt*kt*(.05494*vt-.04515-.02326*yt+.00331*kt)),et*(1.01183+yt*yt*(.01926*vt-.02625-.00396*yt))]}function Ao(){return(0,T.Z)(Ji).scale(175.295)}function Ki(je,et){return[je*(1+h(et))/2,2*(et-a(et/2))]}function go(){return(0,T.Z)(Ki).scale(152.63)}Ji.invert=function(je,et){var kt,Dt,Gt,mr,vt=et,yt=25;do{vt-=kt=(vt*(1.01183+(Gt=(Dt=vt*vt)*Dt)*Gt*(.01926*Dt-.02625-.00396*Gt))-et)/(1.01183+Gt*Gt*(.21186*Dt-.23625+-.05148*Gt))}while(D(kt)>p&&--yt>0);return[je/(.84719-.13063*(Dt=vt*vt)+(mr=Dt*(Gt=Dt*Dt))*mr*(.05494*Dt-.04515-.02326*Gt+.00331*mr)),vt]},Ki.invert=function(je,et){for(var vt=et/2,yt=0,kt=1/0;yt<10&&D(kt)>b;++yt){var Dt=h(et/2);et-=kt=(et-a(et/2)-vt)/(1-.5/(Dt*Dt))}return[2*je/(1+h(et)),et]};var Ei=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ko(){return co(se(1/0),Ei).rotate([20,0]).scale(152.63)}function oo(je,et){var vt=m(et),yt=h(et),kt=c(je);if(0===je||D(et)===v)return[0,et];if(0===et)return[je,0];if(D(je)===v)return[je*yt,v*vt];var Dt=s/(2*je)-2*je/s,Gt=2*et/s,mr=(1-Gt*Gt)/(vt-Gt),Ar=Dt*Dt,gr=mr*mr,Tr=1+Ar/gr,Nr=1+gr/Ar,Qr=(Dt*vt/mr-Dt/2)/Tr,rn=(gr*vt/Ar+mr/2)/Nr,Cn=rn*rn-(gr*vt*vt/Ar+mr*vt-1)/Nr;return[v*(Qr+L(Qr*Qr+yt*yt/Tr)*kt),v*(rn+L(Cn<0?0:Cn)*c(-et*Dt)*kt)]}function to(){return(0,T.Z)(oo).scale(127.267)}oo.invert=function(je,et){var vt=(je/=v)*je,kt=vt+(et/=v)*et,Dt=s*s;return[je?(kt-1+L((1-kt)*(1-kt)+4*vt))/(2*je)*v:0,ye(function(Gt){return kt*(s*m(Gt)-2*Gt)*s+4*Gt*Gt*(et-m(Gt))+2*s*Gt-Dt*et},0)]};var us=1.0148,cn=.23185,gt=-.14499,vr=.02406,hn=us,Jn=5*cn,Ma=7*gt,Na=9*vr,li=1.790857183;function Hi(je,et){var vt=et*et;return[je,et*(us+vt*vt*(cn+vt*(gt+vr*vt)))]}function so(){return(0,T.Z)(Hi).scale(139.319)}function Fo(je,et){if(D(et)<b)return[je,0];var vt=a(et),yt=je*m(et);return[m(yt)/vt,et+(1-h(yt))/vt]}function Yo(){return(0,T.Z)(Fo).scale(103.74)}Hi.invert=function(je,et){et>li?et=li:et<-li&&(et=-li);var yt,vt=et;do{var kt=vt*vt;vt-=yt=(vt*(us+kt*kt*(cn+kt*(gt+vr*kt)))-et)/(hn+kt*kt*(Jn+kt*(Ma+Na*kt)))}while(D(yt)>b);return[je,vt]},Fo.invert=function(je,et){if(D(et)<b)return[je,0];var Dt,vt=je*je+et*et,yt=.5*et,kt=10;do{var Gt=a(yt),mr=1/h(yt),Ar=vt-2*et*yt+yt*yt;yt-=Dt=(Gt*Ar+2*(yt-et))/(2+Ar*mr*mr+2*(yt-et)*Gt)}while(D(Dt)>b&&--kt>0);return Gt=a(yt),[(D(et)<D(yt+1/Gt)?d(je*Gt):c(et)*c(je)*(I(D(je*Gt))+v))/m(yt),yt]};var as=e(77338),Zo=e(83074);function ys(je,et){return[je[0]*et[0]+je[1]*et[3],je[0]*et[1]+je[1]*et[4],je[0]*et[2]+je[1]*et[5]+je[2],je[3]*et[0]+je[4]*et[3],je[3]*et[1]+je[4]*et[4],je[3]*et[2]+je[4]*et[5]+je[5]]}function ml(je,et){return[je[0]-et[0],je[1]-et[1]]}function cu(je){return L(je[0]*je[0]+je[1]*je[1])}function rl(je,et,vt){function kt(gr,Tr){var rn,Nr=et(gr,Tr),Qr=Nr.project([gr*w,Tr*w]);return(rn=Nr.transform)?[rn[0]*Qr[0]+rn[1]*Qr[1]+rn[2],-(rn[3]*Qr[0]+rn[4]*Qr[1]+rn[5])]:(Qr[1]=-Qr[1],Qr)}function Dt(gr,Tr){var Nr=gr.project.invert,Qr=gr.transform,rn=Tr;if(Qr&&(Qr=function $o(je){var et=1/(je[0]*je[4]-je[1]*je[3]);return[et*je[4],-et*je[1],et*(je[1]*je[5]-je[2]*je[4]),-et*je[3],et*je[0],et*(je[2]*je[3]-je[0]*je[5])]}(Qr),rn=[Qr[0]*rn[0]+Qr[1]*rn[1]+Qr[2],Qr[3]*rn[0]+Qr[4]*rn[1]+Qr[5]]),Nr&&gr===function Gt(gr){return et(gr[0]*n,gr[1]*n)}(on=Nr(rn)))return on;for(var on,Cn=gr.children,Wn=0,fa=Cn&&Cn.length;Wn<fa;++Wn)if(on=Dt(Cn[Wn],Tr))return on}!function yt(gr,Tr){if(gr.edges=function Wu(je){for(var et=je.length,vt=[],yt=je[et-1],kt=0;kt<et;++kt)vt.push([yt,yt=je[kt]]);return vt}(gr.face),Tr.face){var Nr=gr.shared=function _l(je,et){for(var vt,yt,kt=je.length,Dt=null,Gt=0;Gt<kt;++Gt){vt=je[Gt];for(var mr=et.length;--mr>=0;)if(vt[0]===(yt=et[mr])[0]&&vt[1]===yt[1]){if(Dt)return[Dt,vt];Dt=vt}}}(gr.face,Tr.face),Qr=function fs(je,et){var vt=ml(je[1],je[0]),yt=ml(et[1],et[0]),kt=function Ci(je,et){return P(je[0]*et[1]-je[1]*et[0],je[0]*et[0]+je[1]*et[1])}(vt,yt),Dt=cu(vt)/cu(yt);return ys([1,0,je[0][0],0,1,je[0][1]],ys([Dt,0,0,0,Dt,0],ys([h(kt),m(kt),0,-m(kt),h(kt),0],[1,0,-et[0][0],0,1,-et[0][1]])))}(Nr.map(Tr.project),Nr.map(gr.project));gr.transform=Tr.transform?ys(Tr.transform,Qr):Qr;for(var rn=Tr.edges,on=0,Cn=rn.length;on<Cn;++on)is(Nr[0],rn[on][1])&&is(Nr[1],rn[on][0])&&(rn[on]=gr),is(Nr[0],rn[on][0])&&is(Nr[1],rn[on][1])&&(rn[on]=gr);for(on=0,Cn=(rn=gr.edges).length;on<Cn;++on)is(Nr[0],rn[on][0])&&is(Nr[1],rn[on][1])&&(rn[on]=Tr),is(Nr[0],rn[on][1])&&is(Nr[1],rn[on][0])&&(rn[on]=Tr)}else gr.transform=Tr.transform;return gr.children&&gr.children.forEach(function(Wn){yt(Wn,gr)}),gr}(je,{transform:null}),Po(je)&&(kt.invert=function(gr,Tr){var Nr=Dt(je,[gr,-Tr]);return Nr&&(Nr[0]*=n,Nr[1]*=n,Nr)});var mr=(0,T.Z)(kt),Ar=mr.stream;return mr.stream=function(gr){var Tr=mr.rotate(),Nr=Ar(gr),Qr=(mr.rotate([0,0]),Ar(gr));return mr.rotate(Tr),Nr.sphere=function(){Qr.polygonStart(),Qr.lineStart(),xl(Qr,je),Qr.lineEnd(),Qr.polygonEnd()},Nr},mr.angle(null==vt?-30:vt*w)}function xl(je,et,vt){var yt,Gt,kt=et.edges,Dt=kt.length,mr={type:"MultiPoint",coordinates:et.face},Ar=et.face.filter(function(Cn){return 90!==D(Cn[1])}),gr=(0,as.Z)({type:"MultiPoint",coordinates:Ar}),Tr=!1,Nr=-1,Qr=gr[1][0]-gr[0][0],rn=180===Qr||360===Qr?[(gr[0][0]+gr[1][0])/2,(gr[0][1]+gr[1][1])/2]:(0,Ce.Z)(mr);if(vt)for(;++Nr<Dt&&kt[Nr]!==vt;);++Nr;for(var on=0;on<Dt;++on)Gt=kt[(on+Nr)%Dt],Array.isArray(Gt)?(Tr||(je.point((yt=(0,Zo.Z)(Gt[0],rn)(b))[0],yt[1]),Tr=!0),je.point((yt=(0,Zo.Z)(Gt[1],rn)(b))[0],yt[1])):(Tr=!1,Gt!==vt&&xl(je,Gt,et))}function is(je,et){return je&&et&&je[0]===et[0]&&je[1]===et[1]}function Po(je){return je.project.invert||je.children&&je.children.some(Po)}var bl=e(98936),Rs=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ms=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(je){return je.map(function(et){return Rs[et]})});function Gs(je){je=je||function(vt){var yt=(0,Ce.Z)({type:"MultiPoint",coordinates:vt});return(0,bl.Z)().scale(1).translate([0,0]).rotate([-yt[0],-yt[1]])};var et=ms.map(function(vt){return{face:vt,project:je(vt)}});return[-1,0,0,1,0,1,4,5].forEach(function(vt,yt){var kt=et[vt];kt&&(kt.children||(kt.children=[])).push(et[yt])}),rl(et[0],function(vt,yt){return et[vt<-s/2?yt<0?6:4:vt<0?yt<0?2:0:vt<s/2?yt<0?3:1:yt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Ws=2/L(3);function _s(je,et){var vt=Fe(je,et);return[vt[0]*Ws,vt[1]]}function nl(je){je=je||function(vt){var yt=(0,Ce.Z)({type:"MultiPoint",coordinates:vt});return(0,T.Z)(_s).translate([0,0]).scale(1).rotate(yt[1]>0?[-yt[0],0]:[180-yt[0],180])};var et=ms.map(function(vt){return{face:vt,project:je(vt)}});return[-1,0,0,1,0,1,4,5].forEach(function(vt,yt){var kt=et[vt];kt&&(kt.children||(kt.children=[])).push(et[yt])}),rl(et[0],function(vt,yt){return et[vt<-s/2?yt<0?6:4:vt<0?yt<0?2:0:vt<s/2?yt<0?3:1:yt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function al(je){je=je||function(Gt){var mr=6===Gt.length?(0,Ce.Z)({type:"MultiPoint",coordinates:Gt}):Gt[0];return(0,bl.Z)().scale(1).translate([0,0]).rotate([-mr[0],-mr[1]])};var et=ms.map(function(Gt){for(var Tr,mr=Gt.map(hu),Ar=mr.length,gr=mr[Ar-1],Nr=[],Qr=0;Qr<Ar;++Qr)Nr.push(Cu([.9486832980505138*gr[0]+.31622776601683794*(Tr=mr[Qr])[0],.9486832980505138*gr[1]+.31622776601683794*Tr[1],.9486832980505138*gr[2]+.31622776601683794*Tr[2]]),Cu([.9486832980505138*Tr[0]+.31622776601683794*gr[0],.9486832980505138*Tr[1]+.31622776601683794*gr[1],.9486832980505138*Tr[2]+.31622776601683794*gr[2]])),gr=Tr;return Nr}),vt=[],yt=[-1,0,0,1,0,1,4,5];et.forEach(function(Gt,mr){for(var Ar=ms[mr],gr=Ar.length,Tr=vt[mr]=[],Nr=0;Nr<gr;++Nr)et.push([Ar[Nr],Gt[(2*Nr+2)%(2*gr)],Gt[(2*Nr+1)%(2*gr)]]),yt.push(mr),Tr.push(Eu(hu(Gt[(2*Nr+2)%(2*gr)]),hu(Gt[(2*Nr+1)%(2*gr)])))});var kt=et.map(function(Gt){return{project:je(Gt),face:Gt}});return yt.forEach(function(Gt,mr){var Ar=kt[Gt];Ar&&(Ar.children||(Ar.children=[])).push(kt[mr])}),rl(kt[0],function Dt(Gt,mr){var Ar=h(mr),gr=[Ar*h(Gt),Ar*m(Gt),m(mr)],Tr=Gt<-s/2?mr<0?6:4:Gt<0?mr<0?2:0:Gt<s/2?mr<0?3:1:mr<0?7:5,Nr=vt[Tr];return kt[xs(Nr[0],gr)<0?8+3*Tr:xs(Nr[1],gr)<0?8+3*Tr+1:xs(Nr[2],gr)<0?8+3*Tr+2:Tr]}).angle(-30).scale(110.625).center([0,45])}function xs(je,et){for(var vt=0,yt=je.length,kt=0;vt<yt;++vt)kt+=je[vt]*et[vt];return kt}function Eu(je,et){return[je[1]*et[2]-je[2]*et[1],je[2]*et[0]-je[0]*et[2],je[0]*et[1]-je[1]*et[0]]}function Cu(je){return[P(je[1],je[0])*w,d(l(-1,i(1,je[2])))*w]}function hu(je){var et=je[0]*n,vt=je[1]*n,yt=h(vt);return[yt*h(et),yt*m(et),m(vt)]}function Il(){}function df(je,et){var yt,vt=et.stream;if(!vt)throw new Error("invalid projection");switch(je&&je.type){case"Feature":yt=Zu;break;case"FeatureCollection":yt=Yu;break;default:yt=vu}return yt(je,vt)}function Yu(je,et){return{type:"FeatureCollection",features:je.features.map(function(vt){return Zu(vt,et)})}}function Zu(je,et){return{type:"Feature",id:je.id,properties:je.properties,geometry:vu(je.geometry,et)}}function vu(je,et){if(!je)return null;if("GeometryCollection"===je.type)return function Xu(je,et){return{type:"GeometryCollection",geometries:je.geometries.map(function(vt){return vu(vt,et)})}}(je,et);var vt;switch(je.type){case"Point":case"MultiPoint":vt=il;break;case"LineString":case"MultiLineString":vt=Zl;break;case"Polygon":case"MultiPolygon":case"Sphere":vt=kl;break;default:return null}return(0,Ja.Z)(je,et(vt)),vt.result()}_s.invert=function(je,et){return Fe.invert(je/Ws,et)};var Io=[],cs=[],il={point:function(je,et){Io.push([je,et])},result:function(){var je=Io.length?Io.length<2?{type:"Point",coordinates:Io[0]}:{type:"MultiPoint",coordinates:Io}:null;return Io=[],je}},Zl={lineStart:Il,point:function(je,et){Io.push([je,et])},lineEnd:function(){Io.length&&(cs.push(Io),Io=[])},result:function(){var je=cs.length?cs.length<2?{type:"LineString",coordinates:cs[0]}:{type:"MultiLineString",coordinates:cs}:null;return cs=[],je}},kl={polygonStart:Il,lineStart:Il,point:function(je,et){Io.push([je,et])},lineEnd:function(){var je=Io.length;if(je){do{Io.push(Io[0].slice())}while(++je<4);cs.push(Io),Io=[]}},polygonEnd:Il,result:function(){if(!cs.length)return null;var je=[],et=[];return cs.forEach(function(vt){!function Lu(je){if((vt=je.length)<4)return!1;for(var vt,et=0,yt=je[vt-1][1]*je[0][0]-je[vt-1][0]*je[0][1];++et<vt;)yt+=je[et-1][1]*je[et][0]-je[et-1][0]*je[et][1];return yt<=0}(vt)?et.push(vt):je.push([vt])}),et.forEach(function(vt){var yt=vt[0];je.some(function(kt){if(function vf(je,et){for(var vt=et[0],yt=et[1],kt=!1,Dt=0,Gt=je.length,mr=Gt-1;Dt<Gt;mr=Dt++){var Ar=je[Dt],gr=Ar[0],Tr=Ar[1],Nr=je[mr],rn=Nr[1];Tr>yt^rn>yt&&vt<(Nr[0]-gr)*(yt-Tr)/(rn-Tr)+gr&&(kt=!kt)}return kt}(kt[0],yt))return kt.push(vt),!0})||je.push([vt])}),cs=[],je.length?je.length>1?{type:"MultiPolygon",coordinates:je}:{type:"Polygon",coordinates:je[0]}:null}};function Pu(je){var et=je(v,0)[0]-je(-v,0)[0];function vt(yt,kt){var Dt=D(yt)<v,Gt=je(Dt?yt:yt>0?yt-s:yt+s,kt),mr=(Gt[0]-Gt[1])*x,Ar=(Gt[0]+Gt[1])*x;if(Dt)return[mr,Ar];var gr=et*x,Tr=mr>0^Ar>0?-1:1;return[Tr*mr-c(Ar)*gr,Tr*Ar-c(mr)*gr]}return je.invert&&(vt.invert=function(yt,kt){var Dt=(yt+kt)*x,Gt=(kt-yt)*x,mr=D(Dt)<.5*et&&D(Gt)<.5*et;if(!mr){var Ar=et*x,gr=Dt>0^Gt>0?-1:1,Tr=-gr*yt+(Gt>0?1:-1)*Ar,Nr=-gr*kt+(Dt>0?1:-1)*Ar;Dt=(-Tr-Nr)*x,Gt=(Tr-Nr)*x}var Qr=je.invert(Dt,Gt);return mr||(Qr[0]+=Dt>0?s:-s),Qr}),(0,T.Z)(vt).rotate([-90,-90,45]).clipAngle(179.999)}function Du(){return Pu(Pn).scale(176.423)}function Ru(){return Pu(un).scale(111.48)}function pf(je,et){if(!(0<=(et=+et)&&et<=20))throw new Error("invalid digits");function vt(gr){var Tr=gr.length,Nr=2,Qr=new Array(Tr);for(Qr[0]=+gr[0].toFixed(et),Qr[1]=+gr[1].toFixed(et);Nr<Tr;)Qr[Nr]=gr[Nr],++Nr;return Qr}function yt(gr){return gr.map(vt)}function kt(gr){for(var Tr=vt(gr[0]),Nr=[Tr],Qr=1;Qr<gr.length;Qr++){var rn=vt(gr[Qr]);(rn.length>2||rn[0]!=Tr[0]||rn[1]!=Tr[1])&&(Nr.push(rn),Tr=rn)}return 1===Nr.length&&gr.length>1&&Nr.push(vt(gr[gr.length-1])),Nr}function Dt(gr){return gr.map(kt)}function Gt(gr){if(null==gr)return gr;var Tr;switch(gr.type){case"GeometryCollection":Tr={type:"GeometryCollection",geometries:gr.geometries.map(Gt)};break;case"Point":Tr={type:"Point",coordinates:vt(gr.coordinates)};break;case"MultiPoint":Tr={type:gr.type,coordinates:yt(gr.coordinates)};break;case"LineString":Tr={type:gr.type,coordinates:kt(gr.coordinates)};break;case"MultiLineString":case"Polygon":Tr={type:gr.type,coordinates:Dt(gr.coordinates)};break;case"MultiPolygon":Tr={type:"MultiPolygon",coordinates:gr.coordinates.map(Dt)};break;default:return gr}return null!=gr.bbox&&(Tr.bbox=gr.bbox),Tr}function mr(gr){var Tr={type:"Feature",properties:gr.properties,geometry:Gt(gr.geometry)};return null!=gr.id&&(Tr.id=gr.id),null!=gr.bbox&&(Tr.bbox=gr.bbox),Tr}if(null!=je)switch(je.type){case"Feature":return mr(je);case"FeatureCollection":var Ar={type:"FeatureCollection",features:je.features.map(mr)};return null!=je.bbox&&(Ar.bbox=je.bbox),Ar;default:return Gt(je)}return je}function ol(je){var et=m(je);function vt(yt,kt){var Dt=et?a(yt*et/2)/et:yt/2;if(!kt)return[2*Dt,-je];var Gt=2*o(Dt*m(kt)),mr=1/a(kt);return[m(Gt)*mr,kt+(1-h(Gt))*mr-je]}return vt.invert=function(yt,kt){if(D(kt+=je)<b)return[et?2*o(et*yt/2)/et:yt,0];var Ar,Dt=yt*yt+kt*kt,Gt=0,mr=10;do{var gr=a(Gt),Tr=1/h(Gt),Nr=Dt-2*kt*Gt+Gt*Gt;Gt-=Ar=(gr*Nr+2*(Gt-kt))/(2+Nr*Tr*Tr+2*(Gt-kt)*gr)}while(D(Ar)>b&&--mr>0);var Qr=yt*(gr=a(Gt)),rn=a(D(kt)<D(Gt+1/gr)?.5*d(Qr):.5*I(Qr)+s/4)/m(Gt);return[et?2*o(et*rn)/et:2*rn,Gt]},vt}function sl(){return Be(ol).scale(131.215)}var Do=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Xl(je,et){var Nr,vt=i(18,36*D(et)/s),yt=t(vt),kt=vt-yt,Dt=(Nr=Do[yt])[0],Gt=Nr[1],mr=(Nr=Do[++yt])[0],Ar=Nr[1],gr=(Nr=Do[i(19,++yt)])[0],Tr=Nr[1];return[je*(mr+kt*(gr-Dt)/2+kt*kt*(gr-2*mr+Dt)/2),(et>0?v:-v)*(Ar+kt*(Tr-Gt)/2+kt*kt*(Tr-2*Ar+Gt)/2)]}function du(){return(0,T.Z)(Xl).scale(152.63)}function ju(je,et){var vt=function wl(je){function et(vt,yt){var kt=h(yt),Dt=(je-1)/(je-kt*h(vt));return[Dt*kt*m(vt),Dt*m(yt)]}return et.invert=function(vt,yt){var kt=vt*vt+yt*yt,Dt=L(kt),Gt=(je-L(1-kt*(je+1)/(je-1)))/((je-1)/Dt+Dt/(je-1));return[P(vt*Gt,Dt*L(1-Gt*Gt)),Dt?d(yt*Gt/Dt):0]},et}(je);if(!et)return vt;var yt=h(et),kt=m(et);function Dt(Gt,mr){var Ar=vt(Gt,mr),gr=Ar[1],Tr=gr*kt/(je-1)+yt;return[Ar[0]*yt/Tr,gr/Tr]}return Dt.invert=function(Gt,mr){var Ar=(je-1)/(je-1-mr*kt);return vt.invert(Ar*Gt,Ar*mr*yt)},Dt}function ll(){var je=2,et=0,vt=(0,T.r)(ju),yt=vt(je,et);return yt.distance=function(kt){return arguments.length?vt(je=+kt,et):je},yt.tilt=function(kt){return arguments.length?vt(je,et=kt*n):et*w},yt.scale(432.147).clipAngle(I(1/je)*w-1e-6)}Do.forEach(function(je){je[1]*=1.0144}),Xl.invert=function(je,et){var vt=et/v,yt=90*vt,kt=i(18,D(yt/5)),Dt=l(0,t(kt));do{var Gt=Do[Dt][1],mr=Do[Dt+1][1],Ar=Do[i(19,Dt+2)][1],gr=Ar-Gt,Tr=Ar-2*mr+Gt,Nr=2*(D(vt)-mr)/gr,Qr=Tr/gr,rn=Nr*(1-Qr*Nr*(1-2*Qr*Nr));if(rn>=0||1===Dt){yt=(et>=0?5:-5)*(rn+kt);var Cn,on=50;do{rn=(kt=i(18,D(yt)/5))-(Dt=t(kt)),Gt=Do[Dt][1],mr=Do[Dt+1][1],Ar=Do[i(19,Dt+2)][1],yt-=(Cn=(et>=0?v:-v)*(mr+rn*(Ar-Gt)/2+rn*rn*(Ar-2*mr+Gt)/2)-et)*w}while(D(Cn)>p&&--on>0);break}}while(--Dt>=0);var Wn=Do[Dt][0],fa=Do[Dt+1][0],Ia=Do[i(19,Dt+2)][0];return[je/(fa+rn*(Ia-Wn)/2+rn*rn*(Ia-2*fa+Wn)/2),yt*n]};var jl=1e-4,Ys=1e4,Zs=-180,Kl=Zs+jl,Tl=180,Oi=Tl-jl,Fl=-90,_u=Fl+jl,pu=90,Al=pu-jl;function Ku(je){return je.length>0}function Iu(je){return Math.floor(je*Ys)/Ys}function Jl(je){return je===Fl||je===pu?[0,je]:[Zs,Iu(je)]}function gu(je){var et=je[0],vt=je[1],yt=!1;return et<=Kl?(et=Zs,yt=!0):et>=Oi&&(et=Tl,yt=!0),vt<=_u?(vt=Fl,yt=!0):vt>=Al&&(vt=pu,yt=!0),yt?[et,vt]:je}function Ju(je){return je.map(gu)}function Xs(je,et,vt){for(var yt=0,kt=je.length;yt<kt;++yt){var Dt=je[yt].slice();vt.push({index:-1,polygon:et,ring:Dt});for(var Gt=0,mr=Dt.length;Gt<mr;++Gt){var Ar=Dt[Gt],gr=Ar[0],Tr=Ar[1];if(gr<=Kl||gr>=Oi||Tr<=_u||Tr>=Al){Dt[Gt]=gu(Ar);for(var Nr=Gt+1;Nr<mr;++Nr){var Qr=Dt[Nr],rn=Qr[0],on=Qr[1];if(rn>Kl&&rn<Oi&&on>_u&&on<Al)break}if(Nr===Gt+1)continue;if(Gt){var Cn={index:-1,polygon:et,ring:Dt.slice(0,Gt+1)};Cn.ring[Cn.ring.length-1]=Jl(Tr),vt[vt.length-1]=Cn}else vt.pop();if(Nr>=mr)break;vt.push({index:-1,polygon:et,ring:Dt=Dt.slice(Nr-1)}),Dt[0]=Jl(Dt[0][1]),Gt=-1,mr=Dt.length}}}}function Ql(je){var et,Dt,Gt,mr,Ar,gr,vt=je.length,yt={},kt={};for(et=0;et<vt;++et)(Gt=(Dt=je[et]).ring[0])[0]!==(Ar=Dt.ring[Dt.ring.length-1])[0]||Gt[1]!==Ar[1]?(Dt.index=et,yt[Gt]=kt[Ar]=Dt):(Dt.polygon.push(Dt.ring),je[et]=null);for(et=0;et<vt;++et)if(Dt=je[et]){if(mr=kt[Gt=Dt.ring[0]],gr=yt[Ar=Dt.ring[Dt.ring.length-1]],delete yt[Gt],delete kt[Ar],Gt[0]===Ar[0]&&Gt[1]===Ar[1]){Dt.polygon.push(Dt.ring);continue}mr?(delete kt[Gt],delete yt[mr.ring[0]],mr.ring.pop(),je[mr.index]=null,Dt={index:-1,polygon:mr.polygon,ring:mr.ring.concat(Dt.ring)},mr===gr?Dt.polygon.push(Dt.ring):(Dt.index=vt++,je.push(yt[Dt.ring[0]]=kt[Dt.ring[Dt.ring.length-1]]=Dt))):gr?(delete yt[Ar],delete kt[gr.ring[gr.ring.length-1]],Dt.ring.pop(),Dt={index:vt++,polygon:gr.polygon,ring:Dt.ring.concat(gr.ring)},je[gr.index]=null,je.push(yt[Dt.ring[0]]=kt[Dt.ring[Dt.ring.length-1]]=Dt)):(Dt.ring.push(Dt.ring[0]),Dt.polygon.push(Dt.ring))}}function $l(je){var et={type:"Feature",geometry:js(je.geometry)};return null!=je.id&&(et.id=je.id),null!=je.bbox&&(et.bbox=je.bbox),null!=je.properties&&(et.properties=je.properties),et}function js(je){if(null==je)return je;var et,vt,yt,kt;switch(je.type){case"GeometryCollection":et={type:"GeometryCollection",geometries:je.geometries.map(js)};break;case"Point":et={type:"Point",coordinates:gu(je.coordinates)};break;case"MultiPoint":case"LineString":et={type:je.type,coordinates:Ju(je.coordinates)};break;case"MultiLineString":et={type:"MultiLineString",coordinates:je.coordinates.map(Ju)};break;case"Polygon":var Dt=[];Xs(je.coordinates,Dt,vt=[]),Ql(vt),et={type:"Polygon",coordinates:Dt};break;case"MultiPolygon":vt=[],yt=-1,kt=je.coordinates.length;for(var Gt=new Array(kt);++yt<kt;)Xs(je.coordinates[yt],Gt[yt]=[],vt);Ql(vt),et={type:"MultiPolygon",coordinates:Gt.filter(Ku)};break;default:return je}return null!=je.bbox&&(et.bbox=je.bbox),et}function bs(je){if(null==je)return je;switch(je.type){case"Feature":return $l(je);case"FeatureCollection":var et={type:"FeatureCollection",features:je.features.map($l)};return null!=je.bbox&&(et.bbox=je.bbox),et;default:return js(je)}}function ql(je,et){var vt=a(et/2),yt=m(A*vt);return[je*(.74482-.34588*yt*yt),1.70711*vt]}function ul(){return(0,T.Z)(ql).scale(146.153)}function eu(je,et,vt){var yt=(0,Zo.Z)(et,vt),kt=yt(.5),Dt=(0,Ee.Z)([-kt[0],-kt[1]])(et),Gt=yt.distance/2,mr=-d(m(Dt[1]*n)/m(Gt)),Ar=[-kt[0],-kt[1],-(Dt[0]>0?s-mr:mr)*w],gr=(0,T.Z)(je(Gt)).rotate(Ar),Tr=(0,Ee.Z)(Ar),Nr=gr.center;return delete gr.rotate,gr.center=function(Qr){return arguments.length?Nr(Tr(Qr)):Tr.invert(Nr())},gr.clipAngle(90)}function zl(je){var et=h(je);function vt(yt,kt){var Dt=(0,bl.M)(yt,kt);return Dt[0]*=et,Dt}return vt.invert=function(yt,kt){return bl.M.invert(yt/et,kt)},vt}function Qu(){return yu([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function yu(je,et){return eu(zl,je,et)}function xo(je){if(!(je*=2))return Q.N;var et=-je/2,vt=-et,yt=je*je,kt=a(vt),Dt=.5/m(vt);function Gt(mr,Ar){var gr=I(h(Ar)*h(mr-et)),Tr=I(h(Ar)*h(mr-vt));return[((gr*=gr)-(Tr*=Tr))/(2*je),(Ar<0?-1:1)*L(4*yt*Tr-(yt-gr+Tr)*(yt-gr+Tr))/(2*je)]}return Gt.invert=function(mr,Ar){var Qr,rn,gr=Ar*Ar,Tr=h(L(gr+(Qr=mr+et)*Qr)),Nr=h(L(gr+(Qr=mr+vt)*Qr));return[P(rn=Tr-Nr,Qr=(Tr+Nr)*kt),(Ar<0?-1:1)*I(L(Qr*Qr+rn*rn)*Dt)]},Gt}function ku(){return mu([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function mu(je,et){return eu(xo,je,et)}function Ml(je,et){if(D(et)<b)return[je,0];var vt=D(et/v),yt=d(vt);if(D(je)<b||D(D(et)-v)<b)return[0,c(et)*s*a(yt/2)];var kt=h(yt),Dt=D(s/je-je/s)/2,Gt=Dt*Dt,mr=kt/(vt+kt-1),Ar=mr*(2/vt-1),gr=Ar*Ar,Tr=gr+Gt,Nr=mr-gr,Qr=Gt+mr;return[c(je)*s*(Dt*Nr+L(Gt*Nr*Nr-Tr*(mr*mr-gr)))/Tr,c(et)*s*(Ar*Qr-Dt*L((Gt+1)*Tr-Qr*Qr))/Tr]}function fl(){return(0,T.Z)(Ml).scale(79.4183)}function Fu(je,et){if(D(et)<b)return[je,0];var vt=D(et/v),yt=d(vt);if(D(je)<b||D(D(et)-v)<b)return[0,c(et)*s*a(yt/2)];var kt=h(yt),Dt=D(s/je-je/s)/2,Gt=Dt*Dt,mr=kt*(L(1+Gt)-Dt*kt)/(1+Gt*vt*vt);return[c(je)*s*mr,c(et)*s*L(1-mr*(2*Dt+mr))]}function gf(){return(0,T.Z)(Fu).scale(79.4183)}function Ol(je,et){if(D(et)<b)return[je,0];var vt=et/v,yt=d(vt);if(D(je)<b||D(D(et)-v)<b)return[0,s*a(yt/2)];var kt=(s/je-je/s)/2,Dt=vt/(1+h(yt));return[s*(c(je)*L(kt*kt+1-Dt*Dt)-kt),s*Dt]}function Bl(){return(0,T.Z)(Ol).scale(79.4183)}function tu(je,et){if(!et)return[je,0];var vt=D(et);if(!je||vt===v)return[0,et];var yt=vt/v,kt=yt*yt,Dt=(8*yt-kt*(kt+2)-5)/(2*kt*(yt-1)),Gt=Dt*Dt,mr=yt*Dt,Ar=kt+Gt+2*mr,gr=yt+3*Dt,Tr=je/v,Nr=Tr+1/Tr,Qr=c(D(je)-v)*L(Nr*Nr-4),rn=Qr*Qr,Cn=(Qr*(Ar+Gt-1)+2*L(Ar*(kt+Gt*rn-1)+(1-kt)*(kt*(gr*gr+4*Gt)+12*mr*Gt+4*Gt*Gt)))/(4*Ar+rn);return[c(je)*v*Cn,c(et)*v*L(1+Qr*D(Cn)-Cn*Cn)]}function ru(){return(0,T.Z)(tu).scale(127.16)}function zu(je,et,vt,yt){var kt=s/3;je=l(je,b),et=l(et,b),je=i(je,v),et=i(et,s-b),vt=l(vt,0),vt=i(vt,100-b);var Gt=(yt=l(yt,b))/100,mr=I((vt/100+1)*h(kt))/kt,Ar=m(je)/m(mr*v),gr=et/s,Tr=L(Gt*m(je/2)/m(et/2));return function $u(je,et,vt,yt,kt){function Dt(Gt,mr){var Ar=vt*m(yt*mr),gr=L(1-Ar*Ar),Tr=L(2/(1+gr*h(Gt*=kt)));return[je*gr*Tr*m(Gt),et*Ar*Tr]}return Dt.invert=function(Gt,mr){var Ar=Gt/je,gr=mr/et,Tr=L(Ar*Ar+gr*gr),Nr=2*d(Tr/2);return[P(Gt*a(Nr),je*Tr)/kt,Tr&&d(mr*m(Nr)/(et*vt*Tr))/yt]},Dt}(Tr/L(gr*Ar*mr),1/(Tr*L(gr*Ar*mr)),Ar,mr,gr)}function Sl(){var je=65*n,et=60*n,vt=20,yt=200,kt=(0,T.r)(zu),Dt=kt(je,et,vt,yt);return Dt.poleline=function(Gt){return arguments.length?kt(je=+Gt*n,et,vt,yt):je*w},Dt.parallels=function(Gt){return arguments.length?kt(je,et=+Gt*n,vt,yt):et*w},Dt.inflation=function(Gt){return arguments.length?kt(je,et,vt=+Gt,yt):vt},Dt.ratio=function(Gt){return arguments.length?kt(je,et,vt,yt=+Gt):yt},Dt.scale(163.775)}function qo(){return Sl().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}ql.invert=function(je,et){var vt=et/1.70711,yt=m(A*vt);return[je/(.74482-.34588*yt*yt),2*o(vt)]},Ml.invert=function(je,et){if(D(et)<b)return[je,0];if(D(je)<b)return[0,v*m(2*o(et/s))];var vt=(je/=s)*je,yt=(et/=s)*et,kt=vt+yt,Dt=kt*kt,Gt=-D(et)*(1+kt),mr=Gt-2*yt+vt,Ar=-2*Gt+1+2*yt+Dt,gr=yt/Ar+(2*mr*mr*mr/(Ar*Ar*Ar)-9*Gt*mr/(Ar*Ar))/27,Tr=(Gt-mr*mr/(3*Ar))/Ar,Nr=2*L(-Tr/3),Qr=I(3*gr/(Tr*Nr))/3;return[s*(kt-1+L(1+2*(vt-yt)+Dt))/(2*je),c(et)*s*(-Nr*h(Qr+s/3)-mr/(3*Ar))]},Fu.invert=function(je,et){if(!je)return[0,v*m(2*o(et/s))];var vt=D(je/s),yt=(1-vt*vt-(et/=s)*et)/(2*vt),Dt=L(yt*yt+1);return[c(je)*s*(Dt-yt),c(et)*v*m(2*P(L((1-2*yt*vt)*(yt+Dt)-vt),L(Dt+yt+vt)))]},Ol.invert=function(je,et){if(!et)return[je,0];var vt=et/s,yt=(s*s*(1-vt*vt)-je*je)/(2*s*je);return[je?s*(c(je)*L(yt*yt+1)-yt):0,v*m(2*o(vt))]},tu.invert=function(je,et){var vt;if(!je||!et)return[je,et];et/=s;var yt=c(je)*je/v,kt=(yt*yt-1+4*et*et)/D(yt),Dt=kt*kt,Gt=2*et,mr=50;do{var Ar=Gt*Gt,gr=(8*Gt-Ar*(Ar+2)-5)/(2*Ar*(Gt-1)),Tr=(3*Gt-Ar*Gt-10)/(2*Ar*Gt),Nr=gr*gr,Qr=Gt*gr,rn=Gt+gr,on=rn*rn,Cn=Gt+3*gr,fa=-2*rn*(4*Qr*Nr+(1-4*Ar+3*Ar*Ar)*(1+Tr)+Nr*(14*Ar-6-Dt+(8*Ar-8-2*Dt)*Tr)+Qr*(12*Ar-8+(10*Ar-10-Dt)*Tr)),Ia=L(on*(Ar+Nr*Dt-1)+(1-Ar)*(Ar*(Cn*Cn+4*Nr)+Nr*(12*Qr+4*Nr)));Gt-=vt=(kt*(on+Nr-1)+2*Ia-yt*(4*on+Dt))/(kt*(2*gr*Tr+2*rn*(1+Tr))+fa/Ia-8*rn*(kt*(-1+Nr+on)+2*Ia)*(1+Tr)/(Dt+4*on))}while(vt>b&&--mr>0);return[c(je)*(L(kt*kt+4)+kt)*s/4,v*Gt]};var Ou=4*s+3*L(3),xu=2*L(2*s*L(3)/Ou),Is=Me(xu*L(3)/s,xu,Ou/6);function Nl(){return(0,T.Z)(Is).scale(176.84)}function El(je,et){return[je*L(1-3*et*et/(s*s)),et]}function qu(){return(0,T.Z)(El).scale(152.63)}function bu(je,et){var vt=h(et),yt=h(je)*vt,kt=1-yt,Dt=h(je=P(m(je)*vt,-m(et))),Gt=m(je);return[Gt*(vt=L(1-yt*yt))-Dt*kt,-Dt*vt-Gt*kt]}function ef(){return(0,T.Z)(bu).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function nu(je,et){var vt=X(je,et);return[(vt[0]+je/v)/2,(vt[1]+et)/2]}function Bu(){return(0,T.Z)(nu).scale(158.837)}El.invert=function(je,et){return[je/L(1-3*et*et/(s*s)),et]},bu.invert=function(je,et){var vt=(je*je+et*et)/-2,yt=L(-vt*(2+vt)),kt=et*vt+je*yt,Dt=je*vt-et*yt,Gt=L(Dt*Dt+kt*kt);return[P(yt*kt,Gt*(1+vt)),Gt?-d(yt*Dt/Gt):0]},nu.invert=function(je,et){var vt=je,yt=et,kt=25;do{var Wn,Dt=h(yt),Gt=m(yt),mr=m(2*yt),Ar=Gt*Gt,gr=Dt*Dt,Tr=m(vt),Nr=h(vt/2),Qr=m(vt/2),rn=Qr*Qr,on=1-gr*Nr*Nr,Cn=on?I(Dt*Nr)*L(Wn=1/on):Wn=0,fa=.5*(2*Cn*Dt*Qr+vt/v)-je,Ia=.5*(Cn*Gt+yt)-et,Ha=.5*Wn*(gr*rn+Cn*Dt*Nr*Ar)+.5/v,Ua=Wn*(Tr*mr/4-Cn*Gt*Qr),Ka=.125*Wn*(mr*Qr-Cn*Gt*gr*Tr),_i=.5*Wn*(Ar*Nr+Cn*rn*Dt)+.5,Vi=Ua*Ka-_i*Ha,va=(Ia*Ua-fa*_i)/Vi,ro=(fa*Ka-Ia*Ha)/Vi;vt-=va,yt-=ro}while((D(va)>b||D(ro)>b)&&--kt>0);return[vt,yt]}},33940:function(te,Y,e){"use strict";function T(){return new D}function D(){this.reset()}e.d(Y,{Z:function(){return T}}),D.prototype={constructor:D,reset:function(){this.s=this.t=0},add:function(C){P(o,C,this.t),P(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new D;function P(C,h,y){var t=C.s=h+y,r=t-h;C.t=h-(t-r)+(y-r)}},97860:function(te,Y,e){"use strict";e.d(Y,{L9:function(){return C},ZP:function(){return b},gL:function(){return u}});var y,t,r,l,i,T=e(33940),D=e(39695),o=e(73182),P=e(72736),C=(0,T.Z)(),h=(0,T.Z)(),u={point:o.Z,lineStart:o.Z,lineEnd:o.Z,polygonStart:function(){C.reset(),u.lineStart=f,u.lineEnd=c},polygonEnd:function(){var p=+C;h.add(p<0?D.BZ+p:p),this.lineStart=this.lineEnd=this.point=o.Z},sphere:function(){h.add(D.BZ)}};function f(){u.point=m}function c(){a(y,t)}function m(p,s){u.point=a,y=p,t=s,r=p*=D.uR,l=(0,D.mC)(s=(s*=D.uR)/2+D.pu),i=(0,D.O$)(s)}function a(p,s){var v=(p*=D.uR)-r,A=v>=0?1:-1,x=A*v,E=(0,D.mC)(s=(s*=D.uR)/2+D.pu),g=(0,D.O$)(s),M=i*g,w=l*E+M*(0,D.mC)(x),n=M*A*(0,D.O$)(x);C.add((0,D.fv)(n,w)),r=p,l=E,i=g}function b(p){return h.reset(),(0,P.Z)(p,u),2*h}},77338:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return S}});var h,y,t,r,l,i,u,f,m,a,T=e(33940),D=e(97860),o=e(7620),P=e(39695),C=e(72736),c=(0,T.Z)(),b={point:p,lineStart:v,lineEnd:A,polygonStart:function(){b.point=x,b.lineStart=E,b.lineEnd=g,c.reset(),D.gL.polygonStart()},polygonEnd:function(){D.gL.polygonEnd(),b.point=p,b.lineStart=v,b.lineEnd=A,D.L9<0?(h=-(t=180),y=-(r=90)):c>P.Ho?r=90:c<-P.Ho&&(y=-90),a[0]=h,a[1]=t},sphere:function(){h=-(t=180),y=-(r=90)}};function p(d,I){m.push(a=[h=d,t=d]),I<y&&(y=I),I>r&&(r=I)}function s(d,I){var L=(0,o.Og)([d*P.uR,I*P.uR]);if(f){var B=(0,o.T5)(f,L),z=(0,o.T5)([B[1],-B[0],0],B);(0,o.iJ)(z),z=(0,o.Y1)(z);var H,O=d-l,F=O>0?1:-1,N=z[0]*P.RW*F,X=(0,P.Wn)(O)>180;X^(F*l<N&&N<F*d)?(H=z[1]*P.RW)>r&&(r=H):X^(F*l<(N=(N+360)%360-180)&&N<F*d)?(H=-z[1]*P.RW)<y&&(y=H):(I<y&&(y=I),I>r&&(r=I)),X?d<l?M(h,d)>M(h,t)&&(t=d):M(d,t)>M(h,t)&&(h=d):t>=h?(d<h&&(h=d),d>t&&(t=d)):d>l?M(h,d)>M(h,t)&&(t=d):M(d,t)>M(h,t)&&(h=d)}else m.push(a=[h=d,t=d]);I<y&&(y=I),I>r&&(r=I),f=L,l=d}function v(){b.point=s}function A(){a[0]=h,a[1]=t,b.point=p,f=null}function x(d,I){if(f){var L=d-l;c.add((0,P.Wn)(L)>180?L+(L>0?360:-360):L)}else i=d,u=I;D.gL.point(d,I),s(d,I)}function E(){D.gL.lineStart()}function g(){x(i,u),D.gL.lineEnd(),(0,P.Wn)(c)>P.Ho&&(h=-(t=180)),a[0]=h,a[1]=t,f=null}function M(d,I){return(I-=d)<0?I+360:I}function w(d,I){return d[0]-I[0]}function n(d,I){return d[0]<=d[1]?d[0]<=I&&I<=d[1]:I<d[0]||d[1]<I}function S(d){var I,L,B,k,z,O,F;if(r=t=-(h=y=1/0),m=[],(0,C.Z)(d,b),L=m.length){for(m.sort(w),I=1,z=[B=m[0]];I<L;++I)n(B,(k=m[I])[0])||n(B,k[1])?(M(B[0],k[1])>M(B[0],B[1])&&(B[1]=k[1]),M(k[0],B[1])>M(B[0],B[1])&&(B[0]=k[0])):z.push(B=k);for(O=-1/0,I=0,B=z[L=z.length-1];I<=L;B=k,++I)(F=M(B[1],(k=z[I])[0]))>O&&(O=F,h=k[0],t=B[1])}return m=a=null,h===1/0||y===1/0?[[NaN,NaN],[NaN,NaN]]:[[h,y],[t,r]]}},7620:function(te,Y,e){"use strict";e.d(Y,{Og:function(){return o},T:function(){return y},T5:function(){return C},Y1:function(){return D},iJ:function(){return t},j9:function(){return P},s0:function(){return h}});var T=e(39695);function D(r){return[(0,T.fv)(r[1],r[0]),(0,T.ZR)(r[2])]}function o(r){var l=r[0],i=r[1],u=(0,T.mC)(i);return[u*(0,T.mC)(l),u*(0,T.O$)(l),(0,T.O$)(i)]}function P(r,l){return r[0]*l[0]+r[1]*l[1]+r[2]*l[2]}function C(r,l){return[r[1]*l[2]-r[2]*l[1],r[2]*l[0]-r[0]*l[2],r[0]*l[1]-r[1]*l[0]]}function h(r,l){r[0]+=l[0],r[1]+=l[1],r[2]+=l[2]}function y(r,l){return[r[0]*l,r[1]*l,r[2]*l]}function t(r){var l=(0,T._b)(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=l,r[1]/=l,r[2]/=l}},66624:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return L}});var P,C,h,y,t,r,l,i,u,f,c,m,a,b,p,s,T=e(39695),D=e(73182),o=e(72736),v={sphere:D.Z,point:A,lineStart:E,lineEnd:w,polygonStart:function(){v.lineStart=n,v.lineEnd=S},polygonEnd:function(){v.lineStart=E,v.lineEnd=w}};function A(B,k){B*=T.uR;var z=(0,T.mC)(k*=T.uR);x(z*(0,T.mC)(B),z*(0,T.O$)(B),(0,T.O$)(k))}function x(B,k,z){++P,h+=(B-h)/P,y+=(k-y)/P,t+=(z-t)/P}function E(){v.point=g}function g(B,k){B*=T.uR;var z=(0,T.mC)(k*=T.uR);b=z*(0,T.mC)(B),p=z*(0,T.O$)(B),s=(0,T.O$)(k),v.point=M,x(b,p,s)}function M(B,k){B*=T.uR;var z=(0,T.mC)(k*=T.uR),O=z*(0,T.mC)(B),F=z*(0,T.O$)(B),N=(0,T.O$)(k),H=(0,T.fv)((0,T._b)((H=p*N-s*F)*H+(H=s*O-b*N)*H+(H=b*F-p*O)*H),b*O+p*F+s*N);C+=H,r+=H*(b+(b=O)),l+=H*(p+(p=F)),i+=H*(s+(s=N)),x(b,p,s)}function w(){v.point=A}function n(){v.point=d}function S(){I(m,a),v.point=A}function d(B,k){m=B,a=k,B*=T.uR,k*=T.uR,v.point=I;var z=(0,T.mC)(k);b=z*(0,T.mC)(B),p=z*(0,T.O$)(B),s=(0,T.O$)(k),x(b,p,s)}function I(B,k){B*=T.uR;var z=(0,T.mC)(k*=T.uR),O=z*(0,T.mC)(B),F=z*(0,T.O$)(B),N=(0,T.O$)(k),H=p*N-s*F,X=s*O-b*N,ne=b*F-p*O,ie=(0,T._b)(H*H+X*X+ne*ne),ue=(0,T.ZR)(ie),J=ie&&-ue/ie;u+=J*H,f+=J*X,c+=J*ne,C+=ue,r+=ue*(b+(b=O)),l+=ue*(p+(p=F)),i+=ue*(s+(s=N)),x(b,p,s)}function L(B){P=C=h=y=t=r=l=i=u=f=c=0,(0,o.Z)(B,v);var k=u,z=f,O=c,F=k*k+z*z+O*O;return F<T.aW&&(k=r,z=l,O=i,C<T.Ho&&(k=h,z=y,O=t),(F=k*k+z*z+O*O)<T.aW)?[NaN,NaN]:[(0,T.fv)(z,k)*T.RW,(0,T.ZR)(O/(0,T._b)(F))*T.RW]}},7613:function(te,Y,e){"use strict";e.d(Y,{m:function(){return C},Z:function(){return y}});var T=e(7620);function D(t){return function(){return t}}var o=e(39695),P=e(49386);function C(t,r,l,i,u,f){if(l){var c=(0,o.mC)(r),m=(0,o.O$)(r),a=i*l;null==u?(u=r+i*o.BZ,f=r-a/2):(u=h(c,u),f=h(c,f),(i>0?u<f:u>f)&&(u+=i*o.BZ));for(var b,p=u;i>0?p>f:p<f;p-=a)b=(0,T.Y1)([c,-m*(0,o.mC)(p),-m*(0,o.O$)(p)]),t.point(b[0],b[1])}}function h(t,r){(r=(0,T.Og)(r))[0]-=t,(0,T.iJ)(r);var l=(0,o.Kh)(-r[1]);return((-r[2]<0?-l:l)+o.BZ-o.Ho)%o.BZ}function y(){var i,u,t=D([0,0]),r=D(90),l=D(6),f={point:function c(a,b){i.push(a=u(a,b)),a[0]*=o.RW,a[1]*=o.RW}};function m(){var a=t.apply(this,arguments),b=r.apply(this,arguments)*o.uR,p=l.apply(this,arguments)*o.uR;return i=[],u=(0,P.I)(-a[0]*o.uR,-a[1]*o.uR,0).invert,C(f,b,p,1),a={type:"Polygon",coordinates:[i]},i=u=null,a}return m.center=function(a){return arguments.length?(t="function"==typeof a?a:D([+a[0],+a[1]]),m):t},m.radius=function(a){return arguments.length?(r="function"==typeof a?a:D(+a),m):r},m.precision=function(a){return arguments.length?(l="function"==typeof a?a:D(+a),m):l},m}},87070:function(te,Y,e){"use strict";var T=e(97023),D=e(39695);Y.Z=(0,T.Z)(function(){return!0},function o(h){var l,y=NaN,t=NaN,r=NaN;return{lineStart:function(){h.lineStart(),l=1},point:function(i,u){var f=i>0?D.pi:-D.pi,c=(0,D.Wn)(i-y);(0,D.Wn)(c-D.pi)<D.Ho?(h.point(y,t=(t+u)/2>0?D.ou:-D.ou),h.point(r,t),h.lineEnd(),h.lineStart(),h.point(f,t),h.point(i,t),l=0):r!==f&&c>=D.pi&&((0,D.Wn)(y-r)<D.Ho&&(y-=r*D.Ho),(0,D.Wn)(i-f)<D.Ho&&(i-=f*D.Ho),t=function P(h,y,t,r){var l,i,u=(0,D.O$)(h-t);return(0,D.Wn)(u)>D.Ho?(0,D.z4)(((0,D.O$)(y)*(i=(0,D.mC)(r))*(0,D.O$)(t)-(0,D.O$)(r)*(l=(0,D.mC)(y))*(0,D.O$)(h))/(l*i*u)):(y+r)/2}(y,t,i,u),h.point(r,t),h.lineEnd(),h.lineStart(),h.point(f,t),l=0),h.point(y=i,t=u),r=f},lineEnd:function(){h.lineEnd(),y=t=NaN},clean:function(){return 2-l}}},function C(h,y,t,r){var l;if(null==h)r.point(-D.pi,l=t*D.ou),r.point(0,l),r.point(D.pi,l),r.point(D.pi,0),r.point(D.pi,-l),r.point(0,-l),r.point(-D.pi,-l),r.point(-D.pi,0),r.point(-D.pi,l);else if((0,D.Wn)(h[0]-y[0])>D.Ho){var i=h[0]<y[0]?D.pi:-D.pi;r.point(-i,l=t*i/2),r.point(0,l),r.point(i,l)}else r.point(y[0],y[1])},[-D.pi,-D.ou])},85272:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return D}});var T=e(73182);function D(){var P,o=[];return{point:function(C,h,y){P.push([C,h,y])},lineStart:function(){o.push(P=[])},lineEnd:T.Z,rejoin:function(){o.length>1&&o.push(o.pop().concat(o.shift()))},result:function(){var C=o;return o=[],P=null,C}}}},1457:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return h}});var T=e(7620),D=e(7613),o=e(39695),P=e(67108),C=e(97023);function h(y){var t=(0,o.mC)(y),r=6*o.uR,l=t>0,i=(0,o.Wn)(t)>o.Ho;function f(b,p){return(0,o.mC)(b)*(0,o.mC)(p)>t}function m(b,p,s){var v=(0,T.Og)(b),A=(0,T.Og)(p),x=[1,0,0],E=(0,T.T5)(v,A),g=(0,T.j9)(E,E),M=E[0],w=g-M*M;if(!w)return!s&&b;var n=t*g/w,S=-t*M/w,d=(0,T.T5)(x,E),I=(0,T.T)(x,n),L=(0,T.T)(E,S);(0,T.s0)(I,L);var B=d,k=(0,T.j9)(I,B),z=(0,T.j9)(B,B),O=k*k-z*((0,T.j9)(I,I)-1);if(!(O<0)){var F=(0,o._b)(O),N=(0,T.T)(B,(-k-F)/z);if((0,T.s0)(N,I),N=(0,T.Y1)(N),!s)return N;var ue,H=b[0],X=p[0],ne=b[1],ie=p[1];X<H&&(ue=H,H=X,X=ue);var J=X-H,j=(0,o.Wn)(J-o.pi)<o.Ho;if(!j&&ie<ne&&(ue=ne,ne=ie,ie=ue),j||J<o.Ho?j?ne+ie>0^N[1]<((0,o.Wn)(N[0]-H)<o.Ho?ne:ie):ne<=N[1]&&N[1]<=ie:J>o.pi^(H<=N[0]&&N[0]<=X)){var V=(0,T.T)(B,(-k+F)/z);return(0,T.s0)(V,I),[N,(0,T.Y1)(V)]}}}function a(b,p){var s=l?y:o.pi-y,v=0;return b<-s?v|=1:b>s&&(v|=2),p<-s?v|=4:p>s&&(v|=8),v}return(0,C.Z)(f,function c(b){var p,s,v,A,x;return{lineStart:function(){A=v=!1,x=1},point:function(E,g){var w,M=[E,g],n=f(E,g),S=l?n?0:a(E,g):n?a(E+(E<0?o.pi:-o.pi),g):0;if(!p&&(A=v=n)&&b.lineStart(),n!==v&&(!(w=m(p,M))||(0,P.Z)(p,w)||(0,P.Z)(M,w))&&(M[2]=1),n!==v)x=0,n?(b.lineStart(),w=m(M,p),b.point(w[0],w[1])):(w=m(p,M),b.point(w[0],w[1],2),b.lineEnd()),p=w;else if(i&&p&&l^n){var d;!(S&s)&&(d=m(M,p,!0))&&(x=0,l?(b.lineStart(),b.point(d[0][0],d[0][1]),b.point(d[1][0],d[1][1]),b.lineEnd()):(b.point(d[1][0],d[1][1]),b.lineEnd(),b.lineStart(),b.point(d[0][0],d[0][1],3)))}n&&(!p||!(0,P.Z)(p,M))&&b.point(M[0],M[1]),p=M,v=n,s=S},lineEnd:function(){v&&b.lineEnd(),p=null},clean:function(){return x|(A&&v)<<1}}},function u(b,p,s,v){(0,D.m)(v,y,r,s,b,p)},l?[0,-y]:[-o.pi,y-o.pi])}},97023:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return h}});var T=e(85272),D=e(46225),o=e(39695),P=e(23071),C=e(33064);function h(r,l,i,u){return function(f){var p,s,v,c=l(f),m=(0,T.Z)(),a=l(m),b=!1,A={point:x,lineStart:g,lineEnd:M,polygonStart:function(){A.point=w,A.lineStart=n,A.lineEnd=S,s=[],p=[]},polygonEnd:function(){A.point=x,A.lineStart=g,A.lineEnd=M,s=(0,C.TS)(s);var d=(0,P.Z)(p,u);s.length?(b||(f.polygonStart(),b=!0),(0,D.Z)(s,t,d,i,f)):d&&(b||(f.polygonStart(),b=!0),f.lineStart(),i(null,null,1,f),f.lineEnd()),b&&(f.polygonEnd(),b=!1),s=p=null},sphere:function(){f.polygonStart(),f.lineStart(),i(null,null,1,f),f.lineEnd(),f.polygonEnd()}};function x(d,I){r(d,I)&&f.point(d,I)}function E(d,I){c.point(d,I)}function g(){A.point=E,c.lineStart()}function M(){A.point=x,c.lineEnd()}function w(d,I){v.push([d,I]),a.point(d,I)}function n(){a.lineStart(),v=[]}function S(){w(v[0][0],v[0][1]),a.lineEnd();var L,k,z,O,d=a.clean(),I=m.result(),B=I.length;if(v.pop(),p.push(v),v=null,B){if(1&d){if((k=(z=I[0]).length-1)>0){for(b||(f.polygonStart(),b=!0),f.lineStart(),L=0;L<k;++L)f.point((O=z[L])[0],O[1]);f.lineEnd()}return}B>1&&2&d&&I.push(I.pop().concat(I.shift())),s.push(I.filter(y))}}return A}}function y(r){return r.length>1}function t(r,l){return((r=r.x)[0]<0?r[1]-o.ou-o.Ho:o.ou-r[1])-((l=l.x)[0]<0?l[1]-o.ou-o.Ho:o.ou-l[1])}},87605:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return t}});var T=e(39695),D=e(85272),P=e(46225),C=e(33064),h=1e9,y=-h;function t(r,l,i,u){function f(p,s){return r<=p&&p<=i&&l<=s&&s<=u}function c(p,s,v,A){var x=0,E=0;if(null==p||(x=m(p,v))!==(E=m(s,v))||b(p,s)<0^v>0)do{A.point(0===x||3===x?r:i,x>1?u:l)}while((x=(x+v+4)%4)!==E);else A.point(s[0],s[1])}function m(p,s){return(0,T.Wn)(p[0]-r)<T.Ho?s>0?0:3:(0,T.Wn)(p[0]-i)<T.Ho?s>0?2:1:(0,T.Wn)(p[1]-l)<T.Ho?s>0?1:0:s>0?3:2}function a(p,s){return b(p.x,s.x)}function b(p,s){var v=m(p,1),A=m(s,1);return v!==A?v-A:0===v?s[1]-p[1]:1===v?p[0]-s[0]:2===v?p[1]-s[1]:s[0]-p[0]}return function(p){var A,x,E,g,M,w,n,S,d,I,L,s=p,v=(0,D.Z)(),B={point:k,lineStart:function N(){B.point=X,x&&x.push(E=[]),I=!0,d=!1,n=S=NaN},lineEnd:function H(){A&&(X(g,M),w&&d&&v.rejoin(),A.push(v.result())),B.point=k,d&&s.lineEnd()},polygonStart:function O(){s=v,A=[],x=[],L=!0},polygonEnd:function F(){var ne=function z(){for(var ne=0,ie=0,ue=x.length;ie<ue;++ie)for(var K,ae,J=x[ie],j=1,W=J.length,V=J[0],Q=V[0],Z=V[1];j<W;++j)K=Q,ae=Z,Q=(V=J[j])[0],Z=V[1],ae<=u?Z>u&&(Q-K)*(u-ae)>(Z-ae)*(r-K)&&++ne:Z<=u&&(Q-K)*(u-ae)<(Z-ae)*(r-K)&&--ne;return ne}(),ie=L&&ne,ue=(A=(0,C.TS)(A)).length;(ie||ue)&&(p.polygonStart(),ie&&(p.lineStart(),c(null,null,1,p),p.lineEnd()),ue&&(0,P.Z)(A,a,ne,c,p),p.polygonEnd()),s=p,A=x=E=null}};function k(ne,ie){f(ne,ie)&&s.point(ne,ie)}function X(ne,ie){var ue=f(ne,ie);if(x&&E.push([ne,ie]),I)g=ne,M=ie,w=ue,I=!1,ue&&(s.lineStart(),s.point(ne,ie));else if(ue&&d)s.point(ne,ie);else{var J=[n=Math.max(y,Math.min(h,n)),S=Math.max(y,Math.min(h,S))],j=[ne=Math.max(y,Math.min(h,ne)),ie=Math.max(y,Math.min(h,ie))];!function o(r,l,i,u,f,c){var E,m=r[0],a=r[1],s=0,v=1,A=l[0]-m,x=l[1]-a;if(E=i-m,A||!(E>0)){if(E/=A,A<0){if(E<s)return;E<v&&(v=E)}else if(A>0){if(E>v)return;E>s&&(s=E)}if(E=f-m,A||!(E<0)){if(E/=A,A<0){if(E>v)return;E>s&&(s=E)}else if(A>0){if(E<s)return;E<v&&(v=E)}if(E=u-a,x||!(E>0)){if(E/=x,x<0){if(E<s)return;E<v&&(v=E)}else if(x>0){if(E>v)return;E>s&&(s=E)}if(E=c-a,x||!(E<0)){if(E/=x,x<0){if(E>v)return;E>s&&(s=E)}else if(x>0){if(E<s)return;E<v&&(v=E)}return s>0&&(r[0]=m+s*A,r[1]=a+s*x),v<1&&(l[0]=m+v*A,l[1]=a+v*x),!0}}}}}(J,j,r,l,i,u)?ue&&(s.lineStart(),s.point(ne,ie),L=!1):(d||(s.lineStart(),s.point(J[0],J[1])),s.point(j[0],j[1]),ue||s.lineEnd(),L=!1)}n=ne,S=ie,d=ue}return B}}},46225:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return P}});var T=e(67108),D=e(39695);function o(h,y,t,r){this.x=h,this.z=y,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function P(h,y,t,r,l){var f,c,i=[],u=[];if(h.forEach(function(v){if(!((A=v.length-1)<=0)){var A,g,x=v[0],E=v[A];if((0,T.Z)(x,E)){if(!x[2]&&!E[2]){for(l.lineStart(),f=0;f<A;++f)l.point((x=v[f])[0],x[1]);return void l.lineEnd()}E[0]+=2*D.Ho}i.push(g=new o(x,v,null,!0)),u.push(g.o=new o(x,null,g,!1)),i.push(g=new o(E,v,null,!1)),u.push(g.o=new o(E,null,g,!0))}}),i.length){for(u.sort(y),C(i),C(u),f=0,c=u.length;f<c;++f)u[f].e=t=!t;for(var a,b,m=i[0];;){for(var p=m,s=!0;p.v;)if((p=p.n)===m)return;a=p.z,l.lineStart();do{if(p.v=p.o.v=!0,p.e){if(s)for(f=0,c=a.length;f<c;++f)l.point((b=a[f])[0],b[1]);else r(p.x,p.n.x,1,l);p=p.n}else{if(s)for(f=(a=p.p.z).length-1;f>=0;--f)l.point((b=a[f])[0],b[1]);else r(p.x,p.p.x,-1,l);p=p.p}a=(p=p.o).z,s=!s}while(!p.v);l.lineEnd()}}}function C(h){if(y=h.length){for(var y,l,t=0,r=h[0];++t<y;)r.n=l=h[t],l.p=r,r=l;r.n=l=h[0],l.p=r}}},96059:function(te,Y,e){"use strict";function T(D,o){function P(C,h){return C=D(C,h),o(C[0],C[1])}return D.invert&&o.invert&&(P.invert=function(C,h){return(C=o.invert(C,h))&&D.invert(C[0],C[1])}),P}e.d(Y,{Z:function(){return T}})},8593:function(te,Y,e){"use strict";function T(D){return D}e.d(Y,{Z:function(){return T}})},27362:function(te,Y,e){"use strict";e.r(Y),e.d(Y,{geoAlbers:function(){return Er},geoAlbersUsa:function(){return it},geoArea:function(){return T.ZP},geoAzimuthalEqualArea:function(){return mt.Z},geoAzimuthalEqualAreaRaw:function(){return mt.l},geoAzimuthalEquidistant:function(){return St.Z},geoAzimuthalEquidistantRaw:function(){return St.N},geoBounds:function(){return D.Z},geoCentroid:function(){return o.Z},geoCircle:function(){return P.Z},geoClipAntimeridian:function(){return C.Z},geoClipCircle:function(){return h.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return y.Z},geoConicConformal:function(){return lr},geoConicConformalRaw:function(){return cr},geoConicEqualArea:function(){return tr},geoConicEqualAreaRaw:function(){return $t},geoConicEquidistant:function(){return Ve},geoConicEquidistantRaw:function(){return We},geoContains:function(){return O},geoDistance:function(){return w},geoEqualEarth:function(){return dr},geoEqualEarthRaw:function(){return Nt},geoEquirectangular:function(){return br.Z},geoEquirectangularRaw:function(){return br.k},geoGnomonic:function(){return Mr.Z},geoGnomonicRaw:function(){return Mr.M},geoGraticule:function(){return X},geoGraticule10:function(){return ne},geoIdentity:function(){return kr},geoInterpolate:function(){return ie.Z},geoLength:function(){return E},geoMercator:function(){return Ut},geoMercatorRaw:function(){return Ct},geoNaturalEarth1:function(){return tn.Z},geoNaturalEarth1Raw:function(){return tn.K},geoOrthographic:function(){return _r.Z},geoOrthographicRaw:function(){return _r.I},geoPath:function(){return zt},geoProjection:function(){return Qt.Z},geoProjectionMutator:function(){return Qt.r},geoRotation:function(){return Lt.Z},geoStereographic:function(){return Xr},geoStereographicRaw:function(){return vn},geoStream:function(){return f.Z},geoTransform:function(){return wr.Z},geoTransverseMercator:function(){return mn},geoTransverseMercatorRaw:function(){return On}});var T=e(97860),D=e(77338),o=e(66624),P=e(7613),C=e(87070),h=e(1457),y=e(87605);function t(){var fn,Tn,Mn,xr=0,Pr=0,Zr=960,Hr=500;return Mn={stream:function(Pn){return fn&&Tn===Pn?fn:fn=(0,y.Z)(xr,Pr,Zr,Hr)(Tn=Pn)},extent:function(Pn){return arguments.length?(xr=+Pn[0][0],Pr=+Pn[0][1],Zr=+Pn[1][0],Hr=+Pn[1][1],fn=Tn=null,Mn):[[xr,Pr],[Zr,Hr]]}}}var m,a,b,r=e(23071),l=e(33940),i=e(39695),u=e(73182),f=e(72736),c=(0,l.Z)(),p={sphere:u.Z,point:u.Z,lineStart:function s(){p.point=A,p.lineEnd=v},lineEnd:u.Z,polygonStart:u.Z,polygonEnd:u.Z};function v(){p.point=p.lineEnd=u.Z}function A(xr,Pr){m=xr*=i.uR,a=(0,i.O$)(Pr*=i.uR),b=(0,i.mC)(Pr),p.point=x}function x(xr,Pr){xr*=i.uR;var Zr=(0,i.O$)(Pr*=i.uR),Hr=(0,i.mC)(Pr),fn=(0,i.Wn)(xr-m),Tn=(0,i.mC)(fn),Pn=Hr*(0,i.O$)(fn),Fn=b*Zr-a*Hr*Tn,la=a*Zr+b*Hr*Tn;c.add((0,i.fv)((0,i._b)(Pn*Pn+Fn*Fn),la)),m=xr,a=Zr,b=Hr}function E(xr){return c.reset(),(0,f.Z)(xr,p),+c}var g=[null,null],M={type:"LineString",coordinates:g};function w(xr,Pr){return g[0]=xr,g[1]=Pr,E(M)}var n={Feature:function(xr,Pr){return d(xr.geometry,Pr)},FeatureCollection:function(xr,Pr){for(var Zr=xr.features,Hr=-1,fn=Zr.length;++Hr<fn;)if(d(Zr[Hr].geometry,Pr))return!0;return!1}},S={Sphere:function(){return!0},Point:function(xr,Pr){return I(xr.coordinates,Pr)},MultiPoint:function(xr,Pr){for(var Zr=xr.coordinates,Hr=-1,fn=Zr.length;++Hr<fn;)if(I(Zr[Hr],Pr))return!0;return!1},LineString:function(xr,Pr){return L(xr.coordinates,Pr)},MultiLineString:function(xr,Pr){for(var Zr=xr.coordinates,Hr=-1,fn=Zr.length;++Hr<fn;)if(L(Zr[Hr],Pr))return!0;return!1},Polygon:function(xr,Pr){return B(xr.coordinates,Pr)},MultiPolygon:function(xr,Pr){for(var Zr=xr.coordinates,Hr=-1,fn=Zr.length;++Hr<fn;)if(B(Zr[Hr],Pr))return!0;return!1},GeometryCollection:function(xr,Pr){for(var Zr=xr.geometries,Hr=-1,fn=Zr.length;++Hr<fn;)if(d(Zr[Hr],Pr))return!0;return!1}};function d(xr,Pr){return!(!xr||!S.hasOwnProperty(xr.type))&&S[xr.type](xr,Pr)}function I(xr,Pr){return 0===w(xr,Pr)}function L(xr,Pr){for(var Zr,Hr,fn,Tn=0,Mn=xr.length;Tn<Mn;Tn++){if(0===(Hr=w(xr[Tn],Pr))||Tn>0&&(fn=w(xr[Tn],xr[Tn-1]))>0&&Zr<=fn&&Hr<=fn&&(Zr+Hr-fn)*(1-Math.pow((Zr-Hr)/fn,2))<i.aW*fn)return!0;Zr=Hr}return!1}function B(xr,Pr){return!!(0,r.Z)(xr.map(k),z(Pr))}function k(xr){return(xr=xr.map(z)).pop(),xr}function z(xr){return[xr[0]*i.uR,xr[1]*i.uR]}function O(xr,Pr){return(xr&&n.hasOwnProperty(xr.type)?n[xr.type]:d)(xr,Pr)}var F=e(33064);function N(xr,Pr,Zr){var Hr=(0,F.w6)(xr,Pr-i.Ho,Zr).concat(Pr);return function(fn){return Hr.map(function(Tn){return[fn,Tn]})}}function H(xr,Pr,Zr){var Hr=(0,F.w6)(xr,Pr-i.Ho,Zr).concat(Pr);return function(fn){return Hr.map(function(Tn){return[Tn,fn]})}}function X(){var xr,Pr,Zr,Hr,fn,Tn,Mn,Pn,Yn,ra,Sr,un,Fn=10,la=Fn,Xn=90,na=360,ln=2.5;function An(){return{type:"MultiLineString",coordinates:Vn()}}function Vn(){return(0,F.w6)((0,i.mD)(Hr/Xn)*Xn,Zr,Xn).map(Sr).concat((0,F.w6)((0,i.mD)(Pn/na)*na,Mn,na).map(un)).concat((0,F.w6)((0,i.mD)(Pr/Fn)*Fn,xr,Fn).filter(function(En){return(0,i.Wn)(En%Xn)>i.Ho}).map(Yn)).concat((0,F.w6)((0,i.mD)(Tn/la)*la,fn,la).filter(function(En){return(0,i.Wn)(En%na)>i.Ho}).map(ra))}return An.lines=function(){return Vn().map(function(En){return{type:"LineString",coordinates:En}})},An.outline=function(){return{type:"Polygon",coordinates:[Sr(Hr).concat(un(Mn).slice(1),Sr(Zr).reverse().slice(1),un(Pn).reverse().slice(1))]}},An.extent=function(En){return arguments.length?An.extentMajor(En).extentMinor(En):An.extentMinor()},An.extentMajor=function(En){return arguments.length?(Pn=+En[0][1],Mn=+En[1][1],(Hr=+En[0][0])>(Zr=+En[1][0])&&(En=Hr,Hr=Zr,Zr=En),Pn>Mn&&(En=Pn,Pn=Mn,Mn=En),An.precision(ln)):[[Hr,Pn],[Zr,Mn]]},An.extentMinor=function(En){return arguments.length?(Tn=+En[0][1],fn=+En[1][1],(Pr=+En[0][0])>(xr=+En[1][0])&&(En=Pr,Pr=xr,xr=En),Tn>fn&&(En=Tn,Tn=fn,fn=En),An.precision(ln)):[[Pr,Tn],[xr,fn]]},An.step=function(En){return arguments.length?An.stepMajor(En).stepMinor(En):An.stepMinor()},An.stepMajor=function(En){return arguments.length?(Xn=+En[0],na=+En[1],An):[Xn,na]},An.stepMinor=function(En){return arguments.length?(Fn=+En[0],la=+En[1],An):[Fn,la]},An.precision=function(En){return arguments.length?(ln=+En,Yn=N(Tn,fn,90),ra=H(Pr,xr,ln),Sr=N(Pn,Mn,90),un=H(Hr,Zr,ln),An):ln},An.extentMajor([[-180,-90+i.Ho],[180,90-i.Ho]]).extentMinor([[-180,-80-i.Ho],[180,80+i.Ho]])}function ne(){return X()()}var W,V,K,ae,ie=e(83074),ue=e(8593),J=(0,l.Z)(),j=(0,l.Z)(),Q={point:u.Z,lineStart:u.Z,lineEnd:u.Z,polygonStart:function(){Q.lineStart=Z,Q.lineEnd=se},polygonEnd:function(){Q.lineStart=Q.lineEnd=Q.point=u.Z,J.add((0,i.Wn)(j)),j.reset()},result:function(){var xr=J/2;return J.reset(),xr}};function Z(){Q.point=re}function re(xr,Pr){Q.point=q,W=K=xr,V=ae=Pr}function q(xr,Pr){j.add(ae*xr-K*Pr),K=xr,ae=Pr}function se(){q(W,V)}var He,rt,$e,Be,de=Q,we=e(3559),ye=0,Pe=0,Ie=0,Se=0,xe=0,Me=0,Ge=0,Ye=0,De=0,ze={point:tt,lineStart:lt,lineEnd:bt,polygonStart:function(){ze.lineStart=Ht,ze.lineEnd=Je},polygonEnd:function(){ze.point=tt,ze.lineStart=lt,ze.lineEnd=bt},result:function(){var xr=De?[Ge/De,Ye/De]:Me?[Se/Me,xe/Me]:Ie?[ye/Ie,Pe/Ie]:[NaN,NaN];return ye=Pe=Ie=Se=xe=Me=Ge=Ye=De=0,xr}};function tt(xr,Pr){ye+=xr,Pe+=Pr,++Ie}function lt(){ze.point=ut}function ut(xr,Pr){ze.point=xt,tt($e=xr,Be=Pr)}function xt(xr,Pr){var Zr=xr-$e,Hr=Pr-Be,fn=(0,i._b)(Zr*Zr+Hr*Hr);Se+=fn*($e+xr)/2,xe+=fn*(Be+Pr)/2,Me+=fn,tt($e=xr,Be=Pr)}function bt(){ze.point=tt}function Ht(){ze.point=Ce}function Je(){Ee(He,rt)}function Ce(xr,Pr){ze.point=Ee,tt(He=$e=xr,rt=Be=Pr)}function Ee(xr,Pr){var Zr=xr-$e,Hr=Pr-Be,fn=(0,i._b)(Zr*Zr+Hr*Hr);Se+=fn*($e+xr)/2,xe+=fn*(Be+Pr)/2,Me+=fn,Ge+=(fn=Be*xr-$e*Pr)*($e+xr),Ye+=fn*(Be+Pr),De+=3*fn,tt($e=xr,Be=Pr)}var Re=ze;function ke(xr){this._context=xr}ke.prototype={_radius:4.5,pointRadius:function(xr){return this._radius=xr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(xr,Pr){switch(this._point){case 0:this._context.moveTo(xr,Pr),this._point=1;break;case 1:this._context.lineTo(xr,Pr);break;default:this._context.moveTo(xr+this._radius,Pr),this._context.arc(xr,Pr,this._radius,0,i.BZ)}},result:u.Z};var _e,Te,fe,pe,Fe,Ne=(0,l.Z)(),Xe={point:u.Z,lineStart:function(){Xe.point=at},lineEnd:function(){_e&&ft(Te,fe),Xe.point=u.Z},polygonStart:function(){_e=!0},polygonEnd:function(){_e=null},result:function(){var xr=+Ne;return Ne.reset(),xr}};function at(xr,Pr){Xe.point=ft,Te=pe=xr,fe=Fe=Pr}function ft(xr,Pr){Ne.add((0,i._b)((pe-=xr)*pe+(Fe-=Pr)*Fe)),pe=xr,Fe=Pr}var Xt=Xe;function rr(){this._string=[]}function At(xr){return"m0,"+xr+"a"+xr+","+xr+" 0 1,1 0,"+-2*xr+"a"+xr+","+xr+" 0 1,1 0,"+2*xr+"z"}function zt(xr,Pr){var Hr,fn,Zr=4.5;function Tn(Mn){return Mn&&("function"==typeof Zr&&fn.pointRadius(+Zr.apply(this,arguments)),(0,f.Z)(Mn,Hr(fn))),fn.result()}return Tn.area=function(Mn){return(0,f.Z)(Mn,Hr(de)),de.result()},Tn.measure=function(Mn){return(0,f.Z)(Mn,Hr(Xt)),Xt.result()},Tn.bounds=function(Mn){return(0,f.Z)(Mn,Hr(we.Z)),we.Z.result()},Tn.centroid=function(Mn){return(0,f.Z)(Mn,Hr(Re)),Re.result()},Tn.projection=function(Mn){return arguments.length?(Hr=null==Mn?(xr=null,ue.Z):(xr=Mn).stream,Tn):xr},Tn.context=function(Mn){return arguments.length?(fn=null==Mn?(Pr=null,new rr):new ke(Pr=Mn),"function"!=typeof Zr&&fn.pointRadius(Zr),Tn):Pr},Tn.pointRadius=function(Mn){return arguments.length?(Zr="function"==typeof Mn?Mn:(fn.pointRadius(+Mn),+Mn),Tn):Zr},Tn.projection(xr).context(Pr)}rr.prototype={_radius:4.5,_circle:At(4.5),pointRadius:function(xr){return(xr=+xr)!==this._radius&&(this._radius=xr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(xr,Pr){switch(this._point){case 0:this._string.push("M",xr,",",Pr),this._point=1;break;case 1:this._string.push("L",xr,",",Pr);break;default:null==this._circle&&(this._circle=At(this._radius)),this._string.push("M",xr,",",Pr,this._circle)}},result:function(){if(this._string.length){var xr=this._string.join("");return this._string=[],xr}return null}};var Qt=e(15002);function Rr(xr){var Pr=0,Zr=i.pi/3,Hr=(0,Qt.r)(xr),fn=Hr(Pr,Zr);return fn.parallels=function(Tn){return arguments.length?Hr(Pr=Tn[0]*i.uR,Zr=Tn[1]*i.uR):[Pr*i.RW,Zr*i.RW]},fn}function $t(xr,Pr){var Zr=(0,i.O$)(xr),Hr=(Zr+(0,i.O$)(Pr))/2;if((0,i.Wn)(Hr)<i.Ho)return function pt(xr){var Pr=(0,i.mC)(xr);function Zr(Hr,fn){return[Hr*Pr,(0,i.O$)(fn)/Pr]}return Zr.invert=function(Hr,fn){return[Hr/Pr,(0,i.ZR)(fn*Pr)]},Zr}(xr);var fn=1+Zr*(2*Hr-Zr),Tn=(0,i._b)(fn)/Hr;function Mn(Pn,Fn){var la=(0,i._b)(fn-2*Hr*(0,i.O$)(Fn))/Hr;return[la*(0,i.O$)(Pn*=Hr),Tn-la*(0,i.mC)(Pn)]}return Mn.invert=function(Pn,Fn){var la=Tn-Fn,Xn=(0,i.fv)(Pn,(0,i.Wn)(la))*(0,i.Xx)(la);return la*Hr<0&&(Xn-=i.pi*(0,i.Xx)(Pn)*(0,i.Xx)(la)),[Xn/Hr,(0,i.ZR)((fn-(Pn*Pn+la*la)*Hr*Hr)/(2*Hr))]},Mn}function tr(){return Rr($t).scale(155.424).center([0,33.6442])}function Er(){return tr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var pr=e(47589);function it(){var xr,Pr,Hr,Tn,Pn,Fn,Zr=Er(),fn=tr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Mn=tr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),la={point:function(Yn,ra){Fn=[Yn,ra]}};function Xn(Yn){var ra=Yn[0],Sr=Yn[1];return Fn=null,Hr.point(ra,Sr),Fn||(Tn.point(ra,Sr),Fn)||(Pn.point(ra,Sr),Fn)}function na(){return xr=Pr=null,Xn}return Xn.invert=function(Yn){var ra=Zr.scale(),Sr=Zr.translate(),un=(Yn[0]-Sr[0])/ra,ln=(Yn[1]-Sr[1])/ra;return(ln>=.12&&ln<.234&&un>=-.425&&un<-.214?fn:ln>=.166&&ln<.234&&un>=-.214&&un<-.115?Mn:Zr).invert(Yn)},Xn.stream=function(Yn){return xr&&Pr===Yn?xr:xr=function dt(xr){var Pr=xr.length;return{point:function(Zr,Hr){for(var fn=-1;++fn<Pr;)xr[fn].point(Zr,Hr)},sphere:function(){for(var Zr=-1;++Zr<Pr;)xr[Zr].sphere()},lineStart:function(){for(var Zr=-1;++Zr<Pr;)xr[Zr].lineStart()},lineEnd:function(){for(var Zr=-1;++Zr<Pr;)xr[Zr].lineEnd()},polygonStart:function(){for(var Zr=-1;++Zr<Pr;)xr[Zr].polygonStart()},polygonEnd:function(){for(var Zr=-1;++Zr<Pr;)xr[Zr].polygonEnd()}}}([Zr.stream(Pr=Yn),fn.stream(Yn),Mn.stream(Yn)])},Xn.precision=function(Yn){return arguments.length?(Zr.precision(Yn),fn.precision(Yn),Mn.precision(Yn),na()):Zr.precision()},Xn.scale=function(Yn){return arguments.length?(Zr.scale(Yn),fn.scale(.35*Yn),Mn.scale(Yn),Xn.translate(Zr.translate())):Zr.scale()},Xn.translate=function(Yn){if(!arguments.length)return Zr.translate();var ra=Zr.scale(),Sr=+Yn[0],un=+Yn[1];return Hr=Zr.translate(Yn).clipExtent([[Sr-.455*ra,un-.238*ra],[Sr+.455*ra,un+.238*ra]]).stream(la),Tn=fn.translate([Sr-.307*ra,un+.201*ra]).clipExtent([[Sr-.425*ra+i.Ho,un+.12*ra+i.Ho],[Sr-.214*ra-i.Ho,un+.234*ra-i.Ho]]).stream(la),Pn=Mn.translate([Sr-.205*ra,un+.212*ra]).clipExtent([[Sr-.214*ra+i.Ho,un+.166*ra+i.Ho],[Sr-.115*ra-i.Ho,un+.234*ra-i.Ho]]).stream(la),na()},Xn.fitExtent=function(Yn,ra){return(0,pr.qg)(Xn,Yn,ra)},Xn.fitSize=function(Yn,ra){return(0,pr.mF)(Xn,Yn,ra)},Xn.fitWidth=function(Yn,ra){return(0,pr.V6)(Xn,Yn,ra)},Xn.fitHeight=function(Yn,ra){return(0,pr.rf)(Xn,Yn,ra)},Xn.scale(1070)}var mt=e(12956),St=e(17889),Lt=e(49386);function Ct(xr,Pr){return[xr,(0,i.cM)((0,i.OR)((i.ou+Pr)/2))]}function Ut(){return Bt(Ct).scale(961/i.BZ)}function Bt(xr){var Pn,Fn,la,Pr=(0,Qt.Z)(xr),Zr=Pr.center,Hr=Pr.scale,fn=Pr.translate,Tn=Pr.clipExtent,Mn=null;function Xn(){var na=i.pi*Hr(),Yn=Pr((0,Lt.Z)(Pr.rotate()).invert([0,0]));return Tn(null==Mn?[[Yn[0]-na,Yn[1]-na],[Yn[0]+na,Yn[1]+na]]:xr===Ct?[[Math.max(Yn[0]-na,Mn),Pn],[Math.min(Yn[0]+na,Fn),la]]:[[Mn,Math.max(Yn[1]-na,Pn)],[Fn,Math.min(Yn[1]+na,la)]])}return Pr.scale=function(na){return arguments.length?(Hr(na),Xn()):Hr()},Pr.translate=function(na){return arguments.length?(fn(na),Xn()):fn()},Pr.center=function(na){return arguments.length?(Zr(na),Xn()):Zr()},Pr.clipExtent=function(na){return arguments.length?(null==na?Mn=Pn=Fn=la=null:(Mn=+na[0][0],Pn=+na[0][1],Fn=+na[1][0],la=+na[1][1]),Xn()):null==Mn?null:[[Mn,Pn],[Fn,la]]},Xn()}function qt(xr){return(0,i.OR)((i.ou+xr)/2)}function cr(xr,Pr){var Zr=(0,i.mC)(xr),Hr=xr===Pr?(0,i.O$)(xr):(0,i.cM)(Zr/(0,i.mC)(Pr))/(0,i.cM)(qt(Pr)/qt(xr)),fn=Zr*(0,i.sQ)(qt(xr),Hr)/Hr;if(!Hr)return Ct;function Tn(Mn,Pn){fn>0?Pn<-i.ou+i.Ho&&(Pn=-i.ou+i.Ho):Pn>i.ou-i.Ho&&(Pn=i.ou-i.Ho);var Fn=fn/(0,i.sQ)(qt(Pn),Hr);return[Fn*(0,i.O$)(Hr*Mn),fn-Fn*(0,i.mC)(Hr*Mn)]}return Tn.invert=function(Mn,Pn){var Fn=fn-Pn,la=(0,i.Xx)(Hr)*(0,i._b)(Mn*Mn+Fn*Fn),Xn=(0,i.fv)(Mn,(0,i.Wn)(Fn))*(0,i.Xx)(Fn);return Fn*Hr<0&&(Xn-=i.pi*(0,i.Xx)(Mn)*(0,i.Xx)(Fn)),[Xn/Hr,2*(0,i.z4)((0,i.sQ)(fn/la,1/Hr))-i.ou]},Tn}function lr(){return Rr(cr).scale(109.5).parallels([30,30])}Ct.invert=function(xr,Pr){return[xr,2*(0,i.z4)((0,i.Qq)(Pr))-i.ou]};var br=e(97492);function We(xr,Pr){var Zr=(0,i.mC)(xr),Hr=xr===Pr?(0,i.O$)(xr):(Zr-(0,i.mC)(Pr))/(Pr-xr),fn=Zr/Hr+xr;if((0,i.Wn)(Hr)<i.Ho)return br.k;function Tn(Mn,Pn){var Fn=fn-Pn,la=Hr*Mn;return[Fn*(0,i.O$)(la),fn-Fn*(0,i.mC)(la)]}return Tn.invert=function(Mn,Pn){var Fn=fn-Pn,la=(0,i.fv)(Mn,(0,i.Wn)(Fn))*(0,i.Xx)(Fn);return Fn*Hr<0&&(la-=i.pi*(0,i.Xx)(Mn)*(0,i.Xx)(Fn)),[la/Hr,fn-(0,i.Xx)(Hr)*(0,i._b)(Mn*Mn+Fn*Fn)]},Tn}function Ve(){return Rr(We).scale(131.154).center([0,13.9389])}var Rt=1.340264,_t=-.081106,Kt=893e-6,sr=.003796,hr=(0,i._b)(3)/2;function Nt(xr,Pr){var Zr=(0,i.ZR)(hr*(0,i.O$)(Pr)),Hr=Zr*Zr,fn=Hr*Hr*Hr;return[xr*(0,i.mC)(Zr)/(hr*(Rt+3*_t*Hr+fn*(7*Kt+9*sr*Hr))),Zr*(Rt+_t*Hr+fn*(Kt+sr*Hr))]}function dr(){return(0,Qt.Z)(Nt).scale(177.158)}Nt.invert=function(xr,Pr){for(var Mn,Zr=Pr,Hr=Zr*Zr,fn=Hr*Hr*Hr,Tn=0;Tn<12&&(fn=(Hr=(Zr-=Mn=(Zr*(Rt+_t*Hr+fn*(Kt+sr*Hr))-Pr)/(Rt+3*_t*Hr+fn*(7*Kt+9*sr*Hr)))*Zr)*Hr*Hr,!((0,i.Wn)(Mn)<i.aW));++Tn);return[hr*xr*(Rt+3*_t*Hr+fn*(7*Kt+9*sr*Hr))/(0,i.mC)(Zr),(0,i.ZR)((0,i.O$)(Zr)/hr)]};var Mr=e(98936),wr=e(64684);function kr(){var Mn,Pn,la,Xn,na,ln,An,xr=1,Pr=0,Zr=0,Hr=1,fn=1,Tn=0,Fn=null,Yn=1,ra=1,Sr=(0,wr.l)({point:function(Ln,Hn){var Qn=En([Ln,Hn]);this.stream.point(Qn[0],Qn[1])}}),un=ue.Z;function Vn(){return Yn=xr*Hr,ra=xr*fn,ln=An=null,En}function En(Ln){var Hn=Ln[0]*Yn,Qn=Ln[1]*ra;if(Tn){var ya=Qn*Mn-Hn*Pn;Hn=Hn*Mn+Qn*Pn,Qn=ya}return[Hn+Pr,Qn+Zr]}return En.invert=function(Ln){var Hn=Ln[0]-Pr,Qn=Ln[1]-Zr;if(Tn){var ya=Qn*Mn+Hn*Pn;Hn=Hn*Mn-Qn*Pn,Qn=ya}return[Hn/Yn,Qn/ra]},En.stream=function(Ln){return ln&&An===Ln?ln:ln=Sr(un(An=Ln))},En.postclip=function(Ln){return arguments.length?(un=Ln,Fn=la=Xn=na=null,Vn()):un},En.clipExtent=function(Ln){return arguments.length?(un=null==Ln?(Fn=la=Xn=na=null,ue.Z):(0,y.Z)(Fn=+Ln[0][0],la=+Ln[0][1],Xn=+Ln[1][0],na=+Ln[1][1]),Vn()):null==Fn?null:[[Fn,la],[Xn,na]]},En.scale=function(Ln){return arguments.length?(xr=+Ln,Vn()):xr},En.translate=function(Ln){return arguments.length?(Pr=+Ln[0],Zr=+Ln[1],Vn()):[Pr,Zr]},En.angle=function(Ln){return arguments.length?(Pn=(0,i.O$)(Tn=Ln%360*i.uR),Mn=(0,i.mC)(Tn),Vn()):Tn*i.RW},En.reflectX=function(Ln){return arguments.length?(Hr=Ln?-1:1,Vn()):Hr<0},En.reflectY=function(Ln){return arguments.length?(fn=Ln?-1:1,Vn()):fn<0},En.fitExtent=function(Ln,Hn){return(0,pr.qg)(En,Ln,Hn)},En.fitSize=function(Ln,Hn){return(0,pr.mF)(En,Ln,Hn)},En.fitWidth=function(Ln,Hn){return(0,pr.V6)(En,Ln,Hn)},En.fitHeight=function(Ln,Hn){return(0,pr.rf)(En,Ln,Hn)},En}var tn=e(26867),_r=e(57962),Kr=e(25382);function vn(xr,Pr){var Zr=(0,i.mC)(Pr),Hr=1+(0,i.mC)(xr)*Zr;return[Zr*(0,i.O$)(xr)/Hr,(0,i.O$)(Pr)/Hr]}function Xr(){return(0,Qt.Z)(vn).scale(250).clipAngle(142)}function On(xr,Pr){return[(0,i.cM)((0,i.OR)((i.ou+Pr)/2)),-xr]}function mn(){var xr=Bt(On),Pr=xr.center,Zr=xr.rotate;return xr.center=function(Hr){return arguments.length?Pr([-Hr[1],Hr[0]]):[(Hr=Pr())[1],-Hr[0]]},xr.rotate=function(Hr){return arguments.length?Zr([Hr[0],Hr[1],Hr.length>2?Hr[2]+90:90]):[(Hr=Zr())[0],Hr[1],Hr[2]-90]},Zr([0,0,90]).scale(159.155)}vn.invert=(0,Kr.O)(function(xr){return 2*(0,i.z4)(xr)}),On.invert=function(xr,Pr){return[-Pr,2*(0,i.z4)((0,i.Qq)(xr))-i.ou]}},83074:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return D}});var T=e(39695);function D(o,P){var C=o[0]*T.uR,h=o[1]*T.uR,y=P[0]*T.uR,t=P[1]*T.uR,r=(0,T.mC)(h),l=(0,T.O$)(h),i=(0,T.mC)(t),u=(0,T.O$)(t),f=r*(0,T.mC)(C),c=r*(0,T.O$)(C),m=i*(0,T.mC)(y),a=i*(0,T.O$)(y),b=2*(0,T.ZR)((0,T._b)((0,T.Jy)(t-h)+r*i*(0,T.Jy)(y-C))),p=(0,T.O$)(b),s=b?function(v){var A=(0,T.O$)(v*=b)/p,x=(0,T.O$)(b-v)/p,E=x*f+A*m,g=x*c+A*a,M=x*l+A*u;return[(0,T.fv)(g,E)*T.RW,(0,T.fv)(M,(0,T._b)(E*E+g*g))*T.RW]}:function(){return[C*T.RW,h*T.RW]};return s.distance=b,s}},39695:function(te,Y,e){"use strict";e.d(Y,{BZ:function(){return h},Ho:function(){return T},Jy:function(){return g},Kh:function(){return x},O$:function(){return p},OR:function(){return A},Qq:function(){return c},RW:function(){return y},Wn:function(){return r},Xx:function(){return s},ZR:function(){return E},_b:function(){return v},aW:function(){return D},cM:function(){return a},fv:function(){return i},mC:function(){return u},mD:function(){return f},ou:function(){return P},pi:function(){return o},pu:function(){return C},sQ:function(){return b},uR:function(){return t},z4:function(){return l}});var T=1e-6,D=1e-12,o=Math.PI,P=o/2,C=o/4,h=2*o,y=180/o,t=o/180,r=Math.abs,l=Math.atan,i=Math.atan2,u=Math.cos,f=Math.ceil,c=Math.exp,a=(Math,Math.log),b=Math.pow,p=Math.sin,s=Math.sign||function(M){return M>0?1:M<0?-1:0},v=Math.sqrt,A=Math.tan;function x(M){return M>1?0:M<-1?o:Math.acos(M)}function E(M){return M>1?P:M<-1?-P:Math.asin(M)}function g(M){return(M=p(M/2))*M}},73182:function(te,Y,e){"use strict";function T(){}e.d(Y,{Z:function(){return T}})},3559:function(te,Y,e){"use strict";var T=e(73182),D=1/0,o=D,P=-D,C=P;Y.Z={point:function y(t,r){t<D&&(D=t),t>P&&(P=t),r<o&&(o=r),r>C&&(C=r)},lineStart:T.Z,lineEnd:T.Z,polygonStart:T.Z,polygonEnd:T.Z,result:function(){var t=[[D,o],[P,C]];return P=C=-(o=D=1/0),t}}},67108:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return D}});var T=e(39695);function D(o,P){return(0,T.Wn)(o[0]-P[0])<T.Ho&&(0,T.Wn)(o[1]-P[1])<T.Ho}},23071:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return h}});var T=e(33940),D=e(7620),o=e(39695),P=(0,T.Z)();function C(y){return(0,o.Wn)(y[0])<=o.pi?y[0]:(0,o.Xx)(y[0])*(((0,o.Wn)(y[0])+o.pi)%o.BZ-o.pi)}function h(y,t){var r=C(t),l=t[1],i=(0,o.O$)(l),u=[(0,o.O$)(r),-(0,o.mC)(r),0],f=0,c=0;P.reset(),1===i?l=o.ou+o.Ho:-1===i&&(l=-o.ou-o.Ho);for(var m=0,a=y.length;m<a;++m)if(p=(b=y[m]).length)for(var b,p,s=b[p-1],v=C(s),A=s[1]/2+o.pu,x=(0,o.O$)(A),E=(0,o.mC)(A),g=0;g<p;++g,v=w,x=S,E=d,s=M){var M=b[g],w=C(M),n=M[1]/2+o.pu,S=(0,o.O$)(n),d=(0,o.mC)(n),I=w-v,L=I>=0?1:-1,B=L*I,k=B>o.pi,z=x*S;if(P.add((0,o.fv)(z*L*(0,o.O$)(B),E*d+z*(0,o.mC)(B))),f+=k?I+L*o.BZ:I,k^v>=r^w>=r){var O=(0,D.T5)((0,D.Og)(s),(0,D.Og)(M));(0,D.iJ)(O);var F=(0,D.T5)(u,O);(0,D.iJ)(F);var N=(k^I>=0?-1:1)*(0,o.ZR)(F[2]);(l>N||l===N&&(O[0]||O[1]))&&(c+=k^I>=0?1:-1)}}return(f<-o.Ho||f<o.Ho&&P<-o.Ho)^1&c}},25382:function(te,Y,e){"use strict";e.d(Y,{O:function(){return o},W:function(){return D}});var T=e(39695);function D(P){return function(C,h){var y=(0,T.mC)(C),t=(0,T.mC)(h),r=P(y*t);return[r*t*(0,T.O$)(C),r*(0,T.O$)(h)]}}function o(P){return function(C,h){var y=(0,T._b)(C*C+h*h),t=P(y),r=(0,T.O$)(t),l=(0,T.mC)(t);return[(0,T.fv)(C*r,y*l),(0,T.ZR)(y&&h*r/y)]}}},12956:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return C},l:function(){return P}});var T=e(39695),D=e(25382),o=e(15002),P=(0,D.W)(function(h){return(0,T._b)(2/(1+h))});function C(){return(0,o.Z)(P).scale(124.75).clipAngle(179.999)}P.invert=(0,D.O)(function(h){return 2*(0,T.ZR)(h/2)})},17889:function(te,Y,e){"use strict";e.d(Y,{N:function(){return P},Z:function(){return C}});var T=e(39695),D=e(25382),o=e(15002),P=(0,D.W)(function(h){return(h=(0,T.Kh)(h))&&h/(0,T.O$)(h)});function C(){return(0,o.Z)(P).scale(79.4188).clipAngle(179.999)}P.invert=(0,D.O)(function(h){return h})},97492:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return o},k:function(){return D}});var T=e(15002);function D(P,C){return[P,C]}function o(){return(0,T.Z)(D).scale(152.63)}D.invert=D},47589:function(te,Y,e){"use strict";e.d(Y,{V6:function(){return h},mF:function(){return C},qg:function(){return P},rf:function(){return y}});var T=e(72736),D=e(3559);function o(t,r,l){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),(0,T.Z)(l,t.stream(D.Z)),r(D.Z.result()),null!=i&&t.clipExtent(i),t}function P(t,r,l){return o(t,function(i){var u=r[1][0]-r[0][0],f=r[1][1]-r[0][1],c=Math.min(u/(i[1][0]-i[0][0]),f/(i[1][1]-i[0][1])),m=+r[0][0]+(u-c*(i[1][0]+i[0][0]))/2,a=+r[0][1]+(f-c*(i[1][1]+i[0][1]))/2;t.scale(150*c).translate([m,a])},l)}function C(t,r,l){return P(t,[[0,0],r],l)}function h(t,r,l){return o(t,function(i){var u=+r,f=u/(i[1][0]-i[0][0]),c=(u-f*(i[1][0]+i[0][0]))/2,m=-f*i[0][1];t.scale(150*f).translate([c,m])},l)}function y(t,r,l){return o(t,function(i){var u=+r,f=u/(i[1][1]-i[0][1]),c=-f*i[0][0],m=(u-f*(i[1][1]+i[0][1]))/2;t.scale(150*f).translate([c,m])},l)}},98936:function(te,Y,e){"use strict";e.d(Y,{M:function(){return P},Z:function(){return C}});var T=e(39695),D=e(25382),o=e(15002);function P(h,y){var t=(0,T.mC)(y),r=(0,T.mC)(h)*t;return[t*(0,T.O$)(h)/r,(0,T.O$)(y)/r]}function C(){return(0,o.Z)(P).scale(144.049).clipAngle(60)}P.invert=(0,D.O)(T.z4)},15002:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return v},r:function(){return A}});var T=e(87070),D=e(1457),o=e(87605),P=e(96059),C=e(8593),h=e(39695),y=e(49386),t=e(64684),r=e(47589),l=e(7620),i=16,u=(0,h.mC)(30*h.uR);function f(x,E){return+E?function m(x,E){function g(M,w,n,S,d,I,L,B,k,z,O,F,N,H){var X=L-M,ne=B-w,ie=X*X+ne*ne;if(ie>4*E&&N--){var ue=S+z,J=d+O,j=I+F,W=(0,h._b)(ue*ue+J*J+j*j),V=(0,h.ZR)(j/=W),K=(0,h.Wn)((0,h.Wn)(j)-1)<h.Ho||(0,h.Wn)(n-k)<h.Ho?(n+k)/2:(0,h.fv)(J,ue),ae=x(K,V),Q=ae[0],Z=ae[1],re=Q-M,q=Z-w,se=ne*re-X*q;(se*se/ie>E||(0,h.Wn)((X*re+ne*q)/ie-.5)>.3||S*z+d*O+I*F<u)&&(g(M,w,n,S,d,I,Q,Z,K,ue/=W,J/=W,j,N,H),H.point(Q,Z),g(Q,Z,K,ue,J,j,L,B,k,z,O,F,N,H))}}return function(M){var w,n,S,d,I,L,B,k,z,O,F,N,H={point:X,lineStart:ne,lineEnd:ue,polygonStart:function(){M.polygonStart(),H.lineStart=J},polygonEnd:function(){M.polygonEnd(),H.lineStart=ne}};function X(V,K){V=x(V,K),M.point(V[0],V[1])}function ne(){k=NaN,H.point=ie,M.lineStart()}function ie(V,K){var ae=(0,l.Og)([V,K]),Q=x(V,K);g(k,z,B,O,F,N,k=Q[0],z=Q[1],B=V,O=ae[0],F=ae[1],N=ae[2],i,M),M.point(k,z)}function ue(){H.point=X,M.lineEnd()}function J(){ne(),H.point=j,H.lineEnd=W}function j(V,K){ie(w=V,K),n=k,S=z,d=O,I=F,L=N,H.point=ie}function W(){g(k,z,B,O,F,N,n,S,w,d,I,L,i,M),H.lineEnd=ue,ue()}return H}}(x,E):function c(x){return(0,t.l)({point:function(E,g){E=x(E,g),this.stream.point(E[0],E[1])}})}(x)}var a=(0,t.l)({point:function(x,E){this.stream.point(x*h.uR,E*h.uR)}});function p(x,E,g,M,w){function n(S,d){return[E+x*(S*=M),g-x*(d*=w)]}return n.invert=function(S,d){return[(S-E)/x*M,(g-d)/x*w]},n}function s(x,E,g,M,w,n){var S=(0,h.mC)(n),d=(0,h.O$)(n),I=S*x,L=d*x,B=S/x,k=d/x,z=(d*g-S*E)/x,O=(d*E+S*g)/x;function F(N,H){return[I*(N*=M)-L*(H*=w)+E,g-L*N-I*H]}return F.invert=function(N,H){return[M*(B*N-k*H+z),w*(O-k*N-B*H)]},F}function v(x){return A(function(){return x})()}function A(x){var E,B,X,ne,ie,j,W,V,K,ae,g=150,M=480,w=250,n=0,S=0,d=0,I=0,L=0,k=0,z=1,O=1,F=null,N=T.Z,H=null,ue=C.Z,J=.5;function Q(se){return V(se[0]*h.uR,se[1]*h.uR)}function Z(se){return(se=V.invert(se[0],se[1]))&&[se[0]*h.RW,se[1]*h.RW]}function re(){var se=s(g,0,0,z,O,k).apply(null,E(n,S)),de=(k?s:p)(g,M-se[0],w-se[1],z,O,k);return B=(0,y.I)(d,I,L),W=(0,P.Z)(E,de),V=(0,P.Z)(B,W),j=f(W,J),q()}function q(){return K=ae=null,Q}return Q.stream=function(se){return K&&ae===se?K:K=a(function b(x){return(0,t.l)({point:function(E,g){var M=x(E,g);return this.stream.point(M[0],M[1])}})}(B)(N(j(ue(ae=se)))))},Q.preclip=function(se){return arguments.length?(N=se,F=void 0,q()):N},Q.postclip=function(se){return arguments.length?(ue=se,H=X=ne=ie=null,q()):ue},Q.clipAngle=function(se){return arguments.length?(N=+se?(0,D.Z)(F=se*h.uR):(F=null,T.Z),q()):F*h.RW},Q.clipExtent=function(se){return arguments.length?(ue=null==se?(H=X=ne=ie=null,C.Z):(0,o.Z)(H=+se[0][0],X=+se[0][1],ne=+se[1][0],ie=+se[1][1]),q()):null==H?null:[[H,X],[ne,ie]]},Q.scale=function(se){return arguments.length?(g=+se,re()):g},Q.translate=function(se){return arguments.length?(M=+se[0],w=+se[1],re()):[M,w]},Q.center=function(se){return arguments.length?(n=se[0]%360*h.uR,S=se[1]%360*h.uR,re()):[n*h.RW,S*h.RW]},Q.rotate=function(se){return arguments.length?(d=se[0]%360*h.uR,I=se[1]%360*h.uR,L=se.length>2?se[2]%360*h.uR:0,re()):[d*h.RW,I*h.RW,L*h.RW]},Q.angle=function(se){return arguments.length?(k=se%360*h.uR,re()):k*h.RW},Q.reflectX=function(se){return arguments.length?(z=se?-1:1,re()):z<0},Q.reflectY=function(se){return arguments.length?(O=se?-1:1,re()):O<0},Q.precision=function(se){return arguments.length?(j=f(W,J=se*se),q()):(0,h._b)(J)},Q.fitExtent=function(se,de){return(0,r.qg)(Q,se,de)},Q.fitSize=function(se,de){return(0,r.mF)(Q,se,de)},Q.fitWidth=function(se,de){return(0,r.V6)(Q,se,de)},Q.fitHeight=function(se,de){return(0,r.rf)(Q,se,de)},function(){return E=x.apply(this,arguments),Q.invert=E.invert&&Z,re()}}},26867:function(te,Y,e){"use strict";e.d(Y,{K:function(){return o},Z:function(){return P}});var T=e(15002),D=e(39695);function o(C,h){var y=h*h,t=y*y;return[C*(.8707-.131979*y+t*(t*(.003971*y-.001529*t)-.013791)),h*(1.007226+y*(.015085+t*(.028874*y-.044475-.005916*t)))]}function P(){return(0,T.Z)(o).scale(175.295)}o.invert=function(C,h){var r,y=h,t=25;do{var l=y*y,i=l*l;y-=r=(y*(1.007226+l*(.015085+i*(.028874*l-.044475-.005916*i)))-h)/(1.007226+l*(.045255+i*(.259866*l-.311325-.06507600000000001*i)))}while((0,D.Wn)(r)>D.Ho&&--t>0);return[C/(.8707+(l=y*y)*(l*(l*l*l*(.003971-.001529*l)-.013791)-.131979)),y]}},57962:function(te,Y,e){"use strict";e.d(Y,{I:function(){return P},Z:function(){return C}});var T=e(39695),D=e(25382),o=e(15002);function P(h,y){return[(0,T.mC)(y)*(0,T.O$)(h),(0,T.O$)(y)]}function C(){return(0,o.Z)(P).scale(249.5).clipAngle(90+T.Ho)}P.invert=(0,D.O)(T.ZR)},49386:function(te,Y,e){"use strict";e.d(Y,{I:function(){return P},Z:function(){return t}});var T=e(96059),D=e(39695);function o(r,l){return[(0,D.Wn)(r)>D.pi?r+Math.round(-r/D.BZ)*D.BZ:r,l]}function P(r,l,i){return(r%=D.BZ)?l||i?(0,T.Z)(h(r),y(l,i)):h(r):l||i?y(l,i):o}function C(r){return function(l,i){return[(l+=r)>D.pi?l-D.BZ:l<-D.pi?l+D.BZ:l,i]}}function h(r){var l=C(r);return l.invert=C(-r),l}function y(r,l){var i=(0,D.mC)(r),u=(0,D.O$)(r),f=(0,D.mC)(l),c=(0,D.O$)(l);function m(a,b){var p=(0,D.mC)(b),s=(0,D.mC)(a)*p,v=(0,D.O$)(a)*p,A=(0,D.O$)(b),x=A*i+s*u;return[(0,D.fv)(v*f-x*c,s*i-A*u),(0,D.ZR)(x*f+v*c)]}return m.invert=function(a,b){var p=(0,D.mC)(b),s=(0,D.mC)(a)*p,v=(0,D.O$)(a)*p,A=(0,D.O$)(b),x=A*f-v*c;return[(0,D.fv)(v*f+A*c,s*i+x*u),(0,D.ZR)(x*i-s*u)]},m}function t(r){function l(i){return(i=r(i[0]*D.uR,i[1]*D.uR))[0]*=D.RW,i[1]*=D.RW,i}return r=P(r[0]*D.uR,r[1]*D.uR,r.length>2?r[2]*D.uR:0),l.invert=function(i){return(i=r.invert(i[0]*D.uR,i[1]*D.uR))[0]*=D.RW,i[1]*=D.RW,i},l}o.invert=o},72736:function(te,Y,e){"use strict";function T(y,t){y&&o.hasOwnProperty(y.type)&&o[y.type](y,t)}e.d(Y,{Z:function(){return h}});var D={Feature:function(y,t){T(y.geometry,t)},FeatureCollection:function(y,t){for(var r=y.features,l=-1,i=r.length;++l<i;)T(r[l].geometry,t)}},o={Sphere:function(y,t){t.sphere()},Point:function(y,t){t.point((y=y.coordinates)[0],y[1],y[2])},MultiPoint:function(y,t){for(var r=y.coordinates,l=-1,i=r.length;++l<i;)t.point((y=r[l])[0],y[1],y[2])},LineString:function(y,t){P(y.coordinates,t,0)},MultiLineString:function(y,t){for(var r=y.coordinates,l=-1,i=r.length;++l<i;)P(r[l],t,0)},Polygon:function(y,t){C(y.coordinates,t)},MultiPolygon:function(y,t){for(var r=y.coordinates,l=-1,i=r.length;++l<i;)C(r[l],t)},GeometryCollection:function(y,t){for(var r=y.geometries,l=-1,i=r.length;++l<i;)T(r[l],t)}};function P(y,t,r){var u,l=-1,i=y.length-r;for(t.lineStart();++l<i;)t.point((u=y[l])[0],u[1],u[2]);t.lineEnd()}function C(y,t){var r=-1,l=y.length;for(t.polygonStart();++r<l;)P(y[r],t,1);t.polygonEnd()}function h(y,t){y&&D.hasOwnProperty(y.type)?D[y.type](y,t):T(y,t)}},64684:function(te,Y,e){"use strict";function T(P){return{stream:D(P)}}function D(P){return function(C){var h=new o;for(var y in P)h[y]=P[y];return h.stream=C,h}}function o(){}e.d(Y,{Z:function(){return T},l:function(){return D}}),o.prototype={constructor:o,point:function(P,C){this.stream.point(P,C)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(te,Y,e){"use strict";function T(ke,Ne){return ke.parent===Ne.parent?1:2}function o(ke,Ne){return ke+Ne.x}function C(ke,Ne){return Math.max(ke,Ne.y)}function t(){var ke=T,Ne=1,_e=1,Te=!1;function fe(pe){var Fe,Xe=0;pe.eachAfter(function(At){var zt=At.children;zt?(At.x=function D(ke){return ke.reduce(o,0)/ke.length}(zt),At.y=function P(ke){return 1+ke.reduce(C,0)}(zt)):(At.x=Fe?Xe+=ke(At,Fe):0,At.y=0,Fe=At)});var at=function h(ke){for(var Ne;Ne=ke.children;)ke=Ne[0];return ke}(pe),ft=function y(ke){for(var Ne;Ne=ke.children;)ke=Ne[Ne.length-1];return ke}(pe),Xt=at.x-ke(at,ft)/2,rr=ft.x+ke(ft,at)/2;return pe.eachAfter(Te?function(At){At.x=(At.x-pe.x)*Ne,At.y=(pe.y-At.y)*_e}:function(At){At.x=(At.x-Xt)/(rr-Xt)*Ne,At.y=(1-(pe.y?At.y/pe.y:1))*_e})}return fe.separation=function(pe){return arguments.length?(ke=pe,fe):ke},fe.size=function(pe){return arguments.length?(Te=!1,Ne=+pe[0],_e=+pe[1],fe):Te?null:[Ne,_e]},fe.nodeSize=function(pe){return arguments.length?(Te=!0,Ne=+pe[0],_e=+pe[1],fe):Te?[Ne,_e]:null},fe}function r(ke){var Ne=0,_e=ke.children,Te=_e&&_e.length;if(Te)for(;--Te>=0;)Ne+=_e[Te].value;else Ne=1;ke.value=Ne}function x(ke,Ne){var fe,Fe,Xe,at,ft,_e=new n(ke),Te=+ke.value&&(_e.value=ke.value),pe=[_e];for(null==Ne&&(Ne=g);fe=pe.pop();)if(Te&&(fe.value=+fe.data.value),(Xe=Ne(fe.data))&&(ft=Xe.length))for(fe.children=new Array(ft),at=ft-1;at>=0;--at)pe.push(Fe=fe.children[at]=new n(Xe[at])),Fe.parent=fe,Fe.depth=fe.depth+1;return _e.eachBefore(w)}function g(ke){return ke.children}function M(ke){ke.data=ke.data.data}function w(ke){var Ne=0;do{ke.height=Ne}while((ke=ke.parent)&&ke.height<++Ne)}function n(ke){this.data=ke,this.depth=this.height=0,this.parent=null}e.r(Y),e.d(Y,{cluster:function(){return t},hierarchy:function(){return x},pack:function(){return Z},packEnclose:function(){return I},packSiblings:function(){return j},partition:function(){return ye},stratify:function(){return Ge},tree:function(){return lt},treemap:function(){return Je},treemapBinary:function(){return Ce},treemapDice:function(){return we},treemapResquarify:function(){return Re},treemapSlice:function(){return ut},treemapSliceDice:function(){return Ee},treemapSquarify:function(){return Ht}}),n.prototype=x.prototype={constructor:n,count:function l(){return this.eachAfter(r)},each:function i(ke){var _e,fe,pe,Fe,Ne=this,Te=[Ne];do{for(_e=Te.reverse(),Te=[];Ne=_e.pop();)if(ke(Ne),fe=Ne.children)for(pe=0,Fe=fe.length;pe<Fe;++pe)Te.push(fe[pe])}while(Te.length);return this},eachAfter:function f(ke){for(var fe,pe,Fe,Ne=this,_e=[Ne],Te=[];Ne=_e.pop();)if(Te.push(Ne),fe=Ne.children)for(pe=0,Fe=fe.length;pe<Fe;++pe)_e.push(fe[pe]);for(;Ne=Te.pop();)ke(Ne);return this},eachBefore:function u(ke){for(var Te,fe,Ne=this,_e=[Ne];Ne=_e.pop();)if(ke(Ne),Te=Ne.children)for(fe=Te.length-1;fe>=0;--fe)_e.push(Te[fe]);return this},sum:function c(ke){return this.eachAfter(function(Ne){for(var _e=+ke(Ne.data)||0,Te=Ne.children,fe=Te&&Te.length;--fe>=0;)_e+=Te[fe].value;Ne.value=_e})},sort:function m(ke){return this.eachBefore(function(Ne){Ne.children&&Ne.children.sort(ke)})},path:function a(ke){for(var Ne=this,_e=function b(ke,Ne){if(ke===Ne)return ke;var _e=ke.ancestors(),Te=Ne.ancestors(),fe=null;for(ke=_e.pop(),Ne=Te.pop();ke===Ne;)fe=ke,ke=_e.pop(),Ne=Te.pop();return fe}(Ne,ke),Te=[Ne];Ne!==_e;)Te.push(Ne=Ne.parent);for(var fe=Te.length;ke!==_e;)Te.splice(fe,0,ke),ke=ke.parent;return Te},ancestors:function p(){for(var ke=this,Ne=[ke];ke=ke.parent;)Ne.push(ke);return Ne},descendants:function s(){var ke=[];return this.each(function(Ne){ke.push(Ne)}),ke},leaves:function v(){var ke=[];return this.eachBefore(function(Ne){Ne.children||ke.push(Ne)}),ke},links:function A(){var ke=this,Ne=[];return ke.each(function(_e){_e!==ke&&Ne.push({source:_e.parent,target:_e})}),Ne},copy:function E(){return x(this).eachBefore(M)}};var S=Array.prototype.slice;function I(ke){for(var fe,pe,Ne=0,_e=(ke=function d(ke){for(var _e,Te,Ne=ke.length;Ne;)Te=Math.random()*Ne--|0,_e=ke[Ne],ke[Ne]=ke[Te],ke[Te]=_e;return ke}(S.call(ke))).length,Te=[];Ne<_e;)fe=ke[Ne],pe&&k(pe,fe)?++Ne:(pe=O(Te=L(Te,fe)),Ne=0);return pe}function L(ke,Ne){var _e,Te;if(z(Ne,ke))return[Ne];for(_e=0;_e<ke.length;++_e)if(B(Ne,ke[_e])&&z(N(ke[_e],Ne),ke))return[ke[_e],Ne];for(_e=0;_e<ke.length-1;++_e)for(Te=_e+1;Te<ke.length;++Te)if(B(N(ke[_e],ke[Te]),Ne)&&B(N(ke[_e],Ne),ke[Te])&&B(N(ke[Te],Ne),ke[_e])&&z(H(ke[_e],ke[Te],Ne),ke))return[ke[_e],ke[Te],Ne];throw new Error}function B(ke,Ne){var _e=ke.r-Ne.r,Te=Ne.x-ke.x,fe=Ne.y-ke.y;return _e<0||_e*_e<Te*Te+fe*fe}function k(ke,Ne){var _e=ke.r-Ne.r+1e-6,Te=Ne.x-ke.x,fe=Ne.y-ke.y;return _e>0&&_e*_e>Te*Te+fe*fe}function z(ke,Ne){for(var _e=0;_e<Ne.length;++_e)if(!k(ke,Ne[_e]))return!1;return!0}function O(ke){switch(ke.length){case 1:return function F(ke){return{x:ke.x,y:ke.y,r:ke.r}}(ke[0]);case 2:return N(ke[0],ke[1]);case 3:return H(ke[0],ke[1],ke[2])}}function N(ke,Ne){var _e=ke.x,Te=ke.y,fe=ke.r,pe=Ne.x,Fe=Ne.y,Xe=Ne.r,at=pe-_e,ft=Fe-Te,Xt=Xe-fe,rr=Math.sqrt(at*at+ft*ft);return{x:(_e+pe+at/rr*Xt)/2,y:(Te+Fe+ft/rr*Xt)/2,r:(rr+fe+Xe)/2}}function H(ke,Ne,_e){var Te=ke.x,fe=ke.y,pe=ke.r,Fe=Ne.x,Xe=Ne.y,at=Ne.r,ft=_e.x,Xt=_e.y,rr=_e.r,At=Te-Fe,zt=Te-ft,Qt=fe-Xe,Rr=fe-Xt,pt=at-pe,$t=rr-pe,tr=Te*Te+fe*fe-pe*pe,Er=tr-Fe*Fe-Xe*Xe+at*at,pr=tr-ft*ft-Xt*Xt+rr*rr,dt=zt*Qt-At*Rr,it=(Qt*pr-Rr*Er)/(2*dt)-Te,mt=(Rr*pt-Qt*$t)/dt,St=(zt*Er-At*pr)/(2*dt)-fe,Lt=(At*$t-zt*pt)/dt,Ct=mt*mt+Lt*Lt-1,Ut=2*(pe+it*mt+St*Lt),Bt=it*it+St*St-pe*pe,qt=-(Ct?(Ut+Math.sqrt(Ut*Ut-4*Ct*Bt))/(2*Ct):Bt/Ut);return{x:Te+it+mt*qt,y:fe+St+Lt*qt,r:qt}}function X(ke,Ne,_e){var fe,pe,Xe,at,Te=ke.x-Ne.x,Fe=ke.y-Ne.y,ft=Te*Te+Fe*Fe;ft?(pe=Ne.r+_e.r,at=ke.r+_e.r,(pe*=pe)>(at*=at)?(fe=(ft+at-pe)/(2*ft),Xe=Math.sqrt(Math.max(0,at/ft-fe*fe)),_e.x=ke.x-fe*Te-Xe*Fe,_e.y=ke.y-fe*Fe+Xe*Te):(fe=(ft+pe-at)/(2*ft),Xe=Math.sqrt(Math.max(0,pe/ft-fe*fe)),_e.x=Ne.x+fe*Te-Xe*Fe,_e.y=Ne.y+fe*Fe+Xe*Te)):(_e.x=Ne.x+_e.r,_e.y=Ne.y)}function ne(ke,Ne){var _e=ke.r+Ne.r-1e-6,Te=Ne.x-ke.x,fe=Ne.y-ke.y;return _e>0&&_e*_e>Te*Te+fe*fe}function ie(ke){var Ne=ke._,_e=ke.next._,Te=Ne.r+_e.r,fe=(Ne.x*_e.r+_e.x*Ne.r)/Te,pe=(Ne.y*_e.r+_e.y*Ne.r)/Te;return fe*fe+pe*pe}function ue(ke){this._=ke,this.next=null,this.previous=null}function J(ke){if(!(fe=ke.length))return 0;var Ne,_e,Te,fe,pe,Fe,Xe,at,ft,Xt,rr;if((Ne=ke[0]).x=0,Ne.y=0,!(fe>1))return Ne.r;if(Ne.x=-(_e=ke[1]).r,_e.x=Ne.r,_e.y=0,!(fe>2))return Ne.r+_e.r;X(_e,Ne,Te=ke[2]),Ne=new ue(Ne),_e=new ue(_e),Te=new ue(Te),Ne.next=Te.previous=_e,_e.next=Ne.previous=Te,Te.next=_e.previous=Ne;e:for(Xe=3;Xe<fe;++Xe){X(Ne._,_e._,Te=ke[Xe]),Te=new ue(Te),at=_e.next,ft=Ne.previous,Xt=_e._.r,rr=Ne._.r;do{if(Xt<=rr){if(ne(at._,Te._)){Ne.next=_e=at,_e.previous=Ne,--Xe;continue e}Xt+=at._.r,at=at.next}else{if(ne(ft._,Te._)){(Ne=ft).next=_e,_e.previous=Ne,--Xe;continue e}rr+=ft._.r,ft=ft.previous}}while(at!==ft.next);for(Te.previous=Ne,Te.next=_e,Ne.next=_e.previous=_e=Te,pe=ie(Ne);(Te=Te.next)!==_e;)(Fe=ie(Te))<pe&&(Ne=Te,pe=Fe);_e=Ne.next}for(Ne=[_e._],Te=_e;(Te=Te.next)!==_e;)Ne.push(Te._);for(Te=I(Ne),Xe=0;Xe<fe;++Xe)(Ne=ke[Xe]).x-=Te.x,Ne.y-=Te.y;return Te.r}function j(ke){return J(ke),ke}function V(ke){if("function"!=typeof ke)throw new Error;return ke}function K(){return 0}function ae(ke){return function(){return ke}}function Q(ke){return Math.sqrt(ke.value)}function Z(){var ke=null,Ne=1,_e=1,Te=K;function fe(pe){return pe.x=Ne/2,pe.y=_e/2,ke?pe.eachBefore(re(ke)).eachAfter(q(Te,.5)).eachBefore(se(1)):pe.eachBefore(re(Q)).eachAfter(q(K,1)).eachAfter(q(Te,pe.r/Math.min(Ne,_e))).eachBefore(se(Math.min(Ne,_e)/(2*pe.r))),pe}return fe.radius=function(pe){return arguments.length?(ke=function W(ke){return null==ke?null:V(ke)}(pe),fe):ke},fe.size=function(pe){return arguments.length?(Ne=+pe[0],_e=+pe[1],fe):[Ne,_e]},fe.padding=function(pe){return arguments.length?(Te="function"==typeof pe?pe:ae(+pe),fe):Te},fe}function re(ke){return function(Ne){Ne.children||(Ne.r=Math.max(0,+ke(Ne)||0))}}function q(ke,Ne){return function(_e){if(Te=_e.children){var Te,fe,Xe,pe=Te.length,Fe=ke(_e)*Ne||0;if(Fe)for(fe=0;fe<pe;++fe)Te[fe].r+=Fe;if(Xe=J(Te),Fe)for(fe=0;fe<pe;++fe)Te[fe].r-=Fe;_e.r=Xe+Fe}}}function se(ke){return function(Ne){var _e=Ne.parent;Ne.r*=ke,_e&&(Ne.x=_e.x+ke*Ne.x,Ne.y=_e.y+ke*Ne.y)}}function de(ke){ke.x0=Math.round(ke.x0),ke.y0=Math.round(ke.y0),ke.x1=Math.round(ke.x1),ke.y1=Math.round(ke.y1)}function we(ke,Ne,_e,Te,fe){for(var Fe,pe=ke.children,Xe=-1,at=pe.length,ft=ke.value&&(Te-Ne)/ke.value;++Xe<at;)(Fe=pe[Xe]).y0=_e,Fe.y1=fe,Fe.x0=Ne,Fe.x1=Ne+=Fe.value*ft}function ye(){var ke=1,Ne=1,_e=0,Te=!1;function fe(Fe){var Xe=Fe.height+1;return Fe.x0=Fe.y0=_e,Fe.x1=ke,Fe.y1=Ne/Xe,Fe.eachBefore(function pe(Fe,Xe){return function(at){at.children&&we(at,at.x0,Fe*(at.depth+1)/Xe,at.x1,Fe*(at.depth+2)/Xe);var ft=at.x0,Xt=at.y0,rr=at.x1-_e,At=at.y1-_e;rr<ft&&(ft=rr=(ft+rr)/2),At<Xt&&(Xt=At=(Xt+At)/2),at.x0=ft,at.y0=Xt,at.x1=rr,at.y1=At}}(Ne,Xe)),Te&&Fe.eachBefore(de),Fe}return fe.round=function(Fe){return arguments.length?(Te=!!Fe,fe):Te},fe.size=function(Fe){return arguments.length?(ke=+Fe[0],Ne=+Fe[1],fe):[ke,Ne]},fe.padding=function(Fe){return arguments.length?(_e=+Fe,fe):_e},fe}var Pe="$",Ie={depth:-1},Se={};function xe(ke){return ke.id}function Me(ke){return ke.parentId}function Ge(){var ke=xe,Ne=Me;function _e(Te){var fe,pe,Xe,at,ft,rr,At,Fe=Te.length,Xt=new Array(Fe),zt={};for(pe=0;pe<Fe;++pe)ft=Xt[pe]=new n(fe=Te[pe]),null!=(rr=ke(fe,pe,Te))&&(rr+="")&&(zt[At=Pe+(ft.id=rr)]=At in zt?Se:ft);for(pe=0;pe<Fe;++pe)if(ft=Xt[pe],null!=(rr=Ne(Te[pe],pe,Te))&&(rr+="")){if(!(at=zt[Pe+rr]))throw new Error("missing: "+rr);if(at===Se)throw new Error("ambiguous: "+rr);at.children?at.children.push(ft):at.children=[ft],ft.parent=at}else{if(Xe)throw new Error("multiple roots");Xe=ft}if(!Xe)throw new Error("no root");if(Xe.parent=Ie,Xe.eachBefore(function(Qt){Qt.depth=Qt.parent.depth+1,--Fe}).eachBefore(w),Xe.parent=null,Fe>0)throw new Error("cycle");return Xe}return _e.id=function(Te){return arguments.length?(ke=V(Te),_e):ke},_e.parentId=function(Te){return arguments.length?(Ne=V(Te),_e):Ne},_e}function Ye(ke,Ne){return ke.parent===Ne.parent?1:2}function De(ke){var Ne=ke.children;return Ne?Ne[0]:ke.t}function He(ke){var Ne=ke.children;return Ne?Ne[Ne.length-1]:ke.t}function rt(ke,Ne,_e){var Te=_e/(Ne.i-ke.i);Ne.c-=Te,Ne.s+=_e,ke.c+=Te,Ne.z+=_e,Ne.m+=_e}function Be(ke,Ne,_e){return ke.a.parent===Ne.parent?ke.a:_e}function ze(ke,Ne){this._=ke,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Ne}function lt(){var ke=Ye,Ne=1,_e=1,Te=null;function fe(ft){var Xt=function tt(ke){for(var _e,fe,pe,Fe,Xe,Ne=new ze(ke,0),Te=[Ne];_e=Te.pop();)if(pe=_e._.children)for(_e.children=new Array(Xe=pe.length),Fe=Xe-1;Fe>=0;--Fe)Te.push(fe=_e.children[Fe]=new ze(pe[Fe],Fe)),fe.parent=_e;return(Ne.parent=new ze(null,0)).children=[Ne],Ne}(ft);if(Xt.eachAfter(pe),Xt.parent.m=-Xt.z,Xt.eachBefore(Fe),Te)ft.eachBefore(at);else{var rr=ft,At=ft,zt=ft;ft.eachBefore(function(tr){tr.x<rr.x&&(rr=tr),tr.x>At.x&&(At=tr),tr.depth>zt.depth&&(zt=tr)});var Qt=rr===At?1:ke(rr,At)/2,Rr=Qt-rr.x,pt=Ne/(At.x+Qt+Rr),$t=_e/(zt.depth||1);ft.eachBefore(function(tr){tr.x=(tr.x+Rr)*pt,tr.y=tr.depth*$t})}return ft}function pe(ft){var Xt=ft.children,rr=ft.parent.children,At=ft.i?rr[ft.i-1]:null;if(Xt){!function $e(ke){for(var pe,Ne=0,_e=0,Te=ke.children,fe=Te.length;--fe>=0;)(pe=Te[fe]).z+=Ne,pe.m+=Ne,Ne+=pe.s+(_e+=pe.c)}(ft);var zt=(Xt[0].z+Xt[Xt.length-1].z)/2;At?(ft.z=At.z+ke(ft._,At._),ft.m=ft.z-zt):ft.z=zt}else At&&(ft.z=At.z+ke(ft._,At._));ft.parent.A=function Xe(ft,Xt,rr){if(Xt){for(var pr,At=ft,zt=ft,Qt=Xt,Rr=At.parent.children[0],pt=At.m,$t=zt.m,tr=Qt.m,Er=Rr.m;Qt=He(Qt),At=De(At),Qt&&At;)Rr=De(Rr),(zt=He(zt)).a=ft,(pr=Qt.z+tr-At.z-pt+ke(Qt._,At._))>0&&(rt(Be(Qt,ft,rr),ft,pr),pt+=pr,$t+=pr),tr+=Qt.m,pt+=At.m,Er+=Rr.m,$t+=zt.m;Qt&&!He(zt)&&(zt.t=Qt,zt.m+=tr-$t),At&&!De(Rr)&&(Rr.t=At,Rr.m+=pt-Er,rr=ft)}return rr}(ft,At,ft.parent.A||rr[0])}function Fe(ft){ft._.x=ft.z+ft.parent.m,ft.m+=ft.parent.m}function at(ft){ft.x*=Ne,ft.y=ft.depth*_e}return fe.separation=function(ft){return arguments.length?(ke=ft,fe):ke},fe.size=function(ft){return arguments.length?(Te=!1,Ne=+ft[0],_e=+ft[1],fe):Te?null:[Ne,_e]},fe.nodeSize=function(ft){return arguments.length?(Te=!0,Ne=+ft[0],_e=+ft[1],fe):Te?[Ne,_e]:null},fe}function ut(ke,Ne,_e,Te,fe){for(var Fe,pe=ke.children,Xe=-1,at=pe.length,ft=ke.value&&(fe-_e)/ke.value;++Xe<at;)(Fe=pe[Xe]).x0=Ne,Fe.x1=Te,Fe.y0=_e,Fe.y1=_e+=Fe.value*ft}ze.prototype=Object.create(n.prototype);var xt=(1+Math.sqrt(5))/2;function bt(ke,Ne,_e,Te,fe,pe){for(var at,ft,zt,Qt,pt,$t,tr,Er,pr,dt,it,Fe=[],Xe=Ne.children,Xt=0,rr=0,At=Xe.length,Rr=Ne.value;Xt<At;){zt=fe-_e,Qt=pe-Te;do{pt=Xe[rr++].value}while(!pt&&rr<At);for($t=tr=pt,it=pt*pt*(dt=Math.max(Qt/zt,zt/Qt)/(Rr*ke)),pr=Math.max(tr/it,it/$t);rr<At;++rr){if(pt+=ft=Xe[rr].value,ft<$t&&($t=ft),ft>tr&&(tr=ft),it=pt*pt*dt,(Er=Math.max(tr/it,it/$t))>pr){pt-=ft;break}pr=Er}Fe.push(at={value:pt,dice:zt<Qt,children:Xe.slice(Xt,rr)}),at.dice?we(at,_e,Te,fe,Rr?Te+=Qt*pt/Rr:pe):ut(at,_e,Te,Rr?_e+=zt*pt/Rr:fe,pe),Rr-=pt,Xt=rr}return Fe}var Ht=function ke(Ne){function _e(Te,fe,pe,Fe,Xe){bt(Ne,Te,fe,pe,Fe,Xe)}return _e.ratio=function(Te){return ke((Te=+Te)>1?Te:1)},_e}(xt);function Je(){var ke=Ht,Ne=!1,_e=1,Te=1,fe=[0],pe=K,Fe=K,Xe=K,at=K,ft=K;function Xt(At){return At.x0=At.y0=0,At.x1=_e,At.y1=Te,At.eachBefore(rr),fe=[0],Ne&&At.eachBefore(de),At}function rr(At){var zt=fe[At.depth],Qt=At.x0+zt,Rr=At.y0+zt,pt=At.x1-zt,$t=At.y1-zt;pt<Qt&&(Qt=pt=(Qt+pt)/2),$t<Rr&&(Rr=$t=(Rr+$t)/2),At.x0=Qt,At.y0=Rr,At.x1=pt,At.y1=$t,At.children&&(zt=fe[At.depth+1]=pe(At)/2,Qt+=ft(At)-zt,Rr+=Fe(At)-zt,(pt-=Xe(At)-zt)<Qt&&(Qt=pt=(Qt+pt)/2),($t-=at(At)-zt)<Rr&&(Rr=$t=(Rr+$t)/2),ke(At,Qt,Rr,pt,$t))}return Xt.round=function(At){return arguments.length?(Ne=!!At,Xt):Ne},Xt.size=function(At){return arguments.length?(_e=+At[0],Te=+At[1],Xt):[_e,Te]},Xt.tile=function(At){return arguments.length?(ke=V(At),Xt):ke},Xt.padding=function(At){return arguments.length?Xt.paddingInner(At).paddingOuter(At):Xt.paddingInner()},Xt.paddingInner=function(At){return arguments.length?(pe="function"==typeof At?At:ae(+At),Xt):pe},Xt.paddingOuter=function(At){return arguments.length?Xt.paddingTop(At).paddingRight(At).paddingBottom(At).paddingLeft(At):Xt.paddingTop()},Xt.paddingTop=function(At){return arguments.length?(Fe="function"==typeof At?At:ae(+At),Xt):Fe},Xt.paddingRight=function(At){return arguments.length?(Xe="function"==typeof At?At:ae(+At),Xt):Xe},Xt.paddingBottom=function(At){return arguments.length?(at="function"==typeof At?At:ae(+At),Xt):at},Xt.paddingLeft=function(At){return arguments.length?(ft="function"==typeof At?At:ae(+At),Xt):ft},Xt}function Ce(ke,Ne,_e,Te,fe){var Fe,at,pe=ke.children,Xe=pe.length,ft=new Array(Xe+1);for(ft[0]=at=Fe=0;Fe<Xe;++Fe)ft[Fe+1]=at+=pe[Fe].value;!function Xt(rr,At,zt,Qt,Rr,pt,$t){if(rr>=At-1){var tr=pe[rr];return tr.x0=Qt,tr.y0=Rr,tr.x1=pt,void(tr.y1=$t)}for(var Er=ft[rr],pr=zt/2+Er,dt=rr+1,it=At-1;dt<it;){var mt=dt+it>>>1;ft[mt]<pr?dt=mt+1:it=mt}pr-ft[dt-1]<ft[dt]-pr&&rr+1<dt&&--dt;var St=ft[dt]-Er,Lt=zt-St;if(pt-Qt>$t-Rr){var Ct=(Qt*Lt+pt*St)/zt;Xt(rr,dt,St,Qt,Rr,Ct,$t),Xt(dt,At,Lt,Ct,Rr,pt,$t)}else{var Ut=(Rr*Lt+$t*St)/zt;Xt(rr,dt,St,Qt,Rr,pt,Ut),Xt(dt,At,Lt,Qt,Ut,pt,$t)}}(0,Xe,ke.value,Ne,_e,Te,fe)}function Ee(ke,Ne,_e,Te,fe){(1&ke.depth?ut:we)(ke,Ne,_e,Te,fe)}var Re=function ke(Ne){function _e(Te,fe,pe,Fe,Xe){if((at=Te._squarify)&&at.ratio===Ne)for(var at,ft,Xt,rr,zt,At=-1,Qt=at.length,Rr=Te.value;++At<Qt;){for(Xt=(ft=at[At]).children,rr=ft.value=0,zt=Xt.length;rr<zt;++rr)ft.value+=Xt[rr].value;ft.dice?we(ft,fe,pe,Fe,pe+=(Xe-pe)*ft.value/Rr):ut(ft,fe,pe,fe+=(Fe-fe)*ft.value/Rr,Xe),Rr-=ft.value}else Te._squarify=at=bt(Ne,Te,fe,pe,Fe,Xe),at.ratio=Ne}return _e.ratio=function(Te){return ke((Te=+Te)>1?Te:1)},_e}(xt)},45879:function(te,Y,e){"use strict";e.d(Y,{h5:function(){return p}});var T=Math.PI,D=2*T,o=1e-6,P=D-o;function C(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function h(){return new C}C.prototype=h.prototype={constructor:C,moveTo:function(A,x){this._+="M"+(this._x0=this._x1=+A)+","+(this._y0=this._y1=+x)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(A,x){this._+="L"+(this._x1=+A)+","+(this._y1=+x)},quadraticCurveTo:function(A,x,E,g){this._+="Q"+ +A+","+ +x+","+(this._x1=+E)+","+(this._y1=+g)},bezierCurveTo:function(A,x,E,g,M,w){this._+="C"+ +A+","+ +x+","+ +E+","+ +g+","+(this._x1=+M)+","+(this._y1=+w)},arcTo:function(A,x,E,g,M){var w=this._x1,n=this._y1,S=(E=+E)-(A=+A),d=(g=+g)-(x=+x),I=w-A,L=n-x,B=I*I+L*L;if((M=+M)<0)throw new Error("negative radius: "+M);if(null===this._x1)this._+="M"+(this._x1=A)+","+(this._y1=x);else if(B>o)if(Math.abs(L*S-d*I)>o&&M){var k=E-w,z=g-n,O=S*S+d*d,F=k*k+z*z,N=Math.sqrt(O),H=Math.sqrt(B),X=M*Math.tan((T-Math.acos((O+B-F)/(2*N*H)))/2),ne=X/H,ie=X/N;Math.abs(ne-1)>o&&(this._+="L"+(A+ne*I)+","+(x+ne*L)),this._+="A"+M+","+M+",0,0,"+ +(L*k>I*z)+","+(this._x1=A+ie*S)+","+(this._y1=x+ie*d)}else this._+="L"+(this._x1=A)+","+(this._y1=x)},arc:function(A,x,E,g,M,w){A=+A,x=+x,w=!!w;var n=(E=+E)*Math.cos(g),S=E*Math.sin(g),d=A+n,I=x+S,L=1^w,B=w?g-M:M-g;if(E<0)throw new Error("negative radius: "+E);null===this._x1?this._+="M"+d+","+I:(Math.abs(this._x1-d)>o||Math.abs(this._y1-I)>o)&&(this._+="L"+d+","+I),E&&(B<0&&(B=B%D+D),B>P?this._+="A"+E+","+E+",0,1,"+L+","+(A-n)+","+(x-S)+"A"+E+","+E+",0,1,"+L+","+(this._x1=d)+","+(this._y1=I):B>o&&(this._+="A"+E+","+E+",0,"+ +(B>=T)+","+L+","+(this._x1=A+E*Math.cos(M))+","+(this._y1=x+E*Math.sin(M))))},rect:function(A,x,E,g){this._+="M"+(this._x0=this._x1=+A)+","+(this._y0=this._y1=+x)+"h"+ +E+"v"+ +g+"h"+-E+"Z"},toString:function(){return this._}};var y=h,t=Array.prototype.slice;function r(A){return function(){return A}}function l(A){return A[0]}function i(A){return A[1]}function u(A){return A.source}function f(A){return A.target}function m(A,x,E,g,M){A.moveTo(x,E),A.bezierCurveTo(x=(x+g)/2,E,x,M,g,M)}function p(){return function c(A){var x=u,E=f,g=l,M=i,w=null;function n(){var S,d=t.call(arguments),I=x.apply(this,d),L=E.apply(this,d);if(w||(w=S=y()),A(w,+g.apply(this,(d[0]=I,d)),+M.apply(this,d),+g.apply(this,(d[0]=L,d)),+M.apply(this,d)),S)return w=null,S+""||null}return n.source=function(S){return arguments.length?(x=S,n):x},n.target=function(S){return arguments.length?(E=S,n):E},n.x=function(S){return arguments.length?(g="function"==typeof S?S:r(+S),n):g},n.y=function(S){return arguments.length?(M="function"==typeof S?S:r(+S),n):M},n.context=function(S){return arguments.length?(w=S??null,n):w},n}(m)}},84096:function(te,Y,e){"use strict";e.d(Y,{i$:function(){return Ce},Dq:function(){return l},g0:function(){return Re}});var T=e(58176),D=e(48480),o=e(59879),P=e(82301),C=e(34823),h=e(79791);function y(_e){if(0<=_e.y&&_e.y<100){var Te=new Date(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L);return Te.setFullYear(_e.y),Te}return new Date(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L)}function t(_e){if(0<=_e.y&&_e.y<100){var Te=new Date(Date.UTC(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L));return Te.setUTCFullYear(_e.y),Te}return new Date(Date.UTC(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L))}function r(_e,Te,fe){return{y:_e,m:Te,d:fe,H:0,M:0,S:0,L:0}}function l(_e){var Te=_e.dateTime,fe=_e.date,pe=_e.time,Fe=_e.periods,Xe=_e.days,at=_e.shortDays,ft=_e.months,Xt=_e.shortMonths,rr=b(Fe),At=p(Fe),zt=b(Xe),Qt=p(Xe),Rr=b(at),pt=p(at),$t=b(ft),tr=p(ft),Er=b(Xt),pr=p(Xt),dt={a:function Rt(_r){return at[_r.getDay()]},A:function _t(_r){return Xe[_r.getDay()]},b:function Kt(_r){return Xt[_r.getMonth()]},B:function sr(_r){return ft[_r.getMonth()]},c:null,d:X,e:X,f:j,H:ne,I:ie,j:ue,L:J,m:W,M:V,p:function hr(_r){return Fe[+(_r.getHours()>=12)]},q:function or(_r){return 1+~~(_r.getMonth()/3)},Q:bt,s:Ht,S:K,u:ae,U:Q,V:Z,w:re,W:q,x:null,X:null,y:se,Y:de,Z:we,"%":xt},it={a:function Nt(_r){return at[_r.getUTCDay()]},A:function dr(_r){return Xe[_r.getUTCDay()]},b:function Mr(_r){return Xt[_r.getUTCMonth()]},B:function wr(_r){return ft[_r.getUTCMonth()]},c:null,d:ye,e:ye,f:Me,H:Pe,I:Ie,j:Se,L:xe,m:Ge,M:Ye,p:function kr(_r){return Fe[+(_r.getUTCHours()>=12)]},q:function tn(_r){return 1+~~(_r.getUTCMonth()/3)},Q:bt,s:Ht,S:De,u:He,U:rt,V:$e,w:Be,W:ze,x:null,X:null,y:tt,Y:lt,Z:ut,"%":xt},mt={a:function Bt(_r,Kr,vn){var Xr=Rr.exec(Kr.slice(vn));return Xr?(_r.w=pt[Xr[0].toLowerCase()],vn+Xr[0].length):-1},A:function qt(_r,Kr,vn){var Xr=zt.exec(Kr.slice(vn));return Xr?(_r.w=Qt[Xr[0].toLowerCase()],vn+Xr[0].length):-1},b:function cr(_r,Kr,vn){var Xr=Er.exec(Kr.slice(vn));return Xr?(_r.m=pr[Xr[0].toLowerCase()],vn+Xr[0].length):-1},B:function lr(_r,Kr,vn){var Xr=$t.exec(Kr.slice(vn));return Xr?(_r.m=tr[Xr[0].toLowerCase()],vn+Xr[0].length):-1},c:function br(_r,Kr,vn){return Ct(_r,Te,Kr,vn)},d,e:d,f:O,H:L,I:L,j:I,L:z,m:S,M:B,p:function Ut(_r,Kr,vn){var Xr=rr.exec(Kr.slice(vn));return Xr?(_r.p=At[Xr[0].toLowerCase()],vn+Xr[0].length):-1},q:n,Q:N,s:H,S:k,u:v,U:A,V:x,w:s,W:E,x:function We(_r,Kr,vn){return Ct(_r,fe,Kr,vn)},X:function Ve(_r,Kr,vn){return Ct(_r,pe,Kr,vn)},y:M,Y:g,Z:w,"%":F};function St(_r,Kr){return function(vn){var Pr,Zr,Hr,Xr=[],On=-1,mn=0,xr=_r.length;for(vn instanceof Date||(vn=new Date(+vn));++On<xr;)37===_r.charCodeAt(On)&&(Xr.push(_r.slice(mn,On)),null!=(Zr=i[Pr=_r.charAt(++On)])?Pr=_r.charAt(++On):Zr="e"===Pr?" ":"0",(Hr=Kr[Pr])&&(Pr=Hr(vn,Zr)),Xr.push(Pr),mn=On+1);return Xr.push(_r.slice(mn,On)),Xr.join("")}}function Lt(_r,Kr){return function(vn){var mn,xr,Xr=r(1900,void 0,1);if(Ct(Xr,_r,vn+="",0)!=vn.length)return null;if("Q"in Xr)return new Date(Xr.Q);if("s"in Xr)return new Date(1e3*Xr.s+("L"in Xr?Xr.L:0));if(Kr&&!("Z"in Xr)&&(Xr.Z=0),"p"in Xr&&(Xr.H=Xr.H%12+12*Xr.p),void 0===Xr.m&&(Xr.m="q"in Xr?Xr.q:0),"V"in Xr){if(Xr.V<1||Xr.V>53)return null;"w"in Xr||(Xr.w=1),"Z"in Xr?(xr=(mn=t(r(Xr.y,0,1))).getUTCDay(),mn=xr>4||0===xr?T.l6.ceil(mn):(0,T.l6)(mn),mn=D.Z.offset(mn,7*(Xr.V-1)),Xr.y=mn.getUTCFullYear(),Xr.m=mn.getUTCMonth(),Xr.d=mn.getUTCDate()+(Xr.w+6)%7):(xr=(mn=y(r(Xr.y,0,1))).getDay(),mn=xr>4||0===xr?o.wA.ceil(mn):(0,o.wA)(mn),mn=P.Z.offset(mn,7*(Xr.V-1)),Xr.y=mn.getFullYear(),Xr.m=mn.getMonth(),Xr.d=mn.getDate()+(Xr.w+6)%7)}else("W"in Xr||"U"in Xr)&&("w"in Xr||(Xr.w="u"in Xr?Xr.u%7:"W"in Xr?1:0),xr="Z"in Xr?t(r(Xr.y,0,1)).getUTCDay():y(r(Xr.y,0,1)).getDay(),Xr.m=0,Xr.d="W"in Xr?(Xr.w+6)%7+7*Xr.W-(xr+5)%7:Xr.w+7*Xr.U-(xr+6)%7);return"Z"in Xr?(Xr.H+=Xr.Z/100|0,Xr.M+=Xr.Z%100,t(Xr)):y(Xr)}}function Ct(_r,Kr,vn,Xr){for(var Pr,Zr,On=0,mn=Kr.length,xr=vn.length;On<mn;){if(Xr>=xr)return-1;if(37===(Pr=Kr.charCodeAt(On++))){if(Pr=Kr.charAt(On++),!(Zr=mt[Pr in i?Kr.charAt(On++):Pr])||(Xr=Zr(_r,vn,Xr))<0)return-1}else if(Pr!=vn.charCodeAt(Xr++))return-1}return Xr}return dt.x=St(fe,dt),dt.X=St(pe,dt),dt.c=St(Te,dt),it.x=St(fe,it),it.X=St(pe,it),it.c=St(Te,it),{format:function(_r){var Kr=St(_r+="",dt);return Kr.toString=function(){return _r},Kr},parse:function(_r){var Kr=Lt(_r+="",!1);return Kr.toString=function(){return _r},Kr},utcFormat:function(_r){var Kr=St(_r+="",it);return Kr.toString=function(){return _r},Kr},utcParse:function(_r){var Kr=Lt(_r+="",!0);return Kr.toString=function(){return _r},Kr}}}var Je,Ce,Re,i={"-":"",_:" ",0:"0"},u=/^\s*\d+/,f=/^%/,c=/[\\^$*+?|[\]().{}]/g;function m(_e,Te,fe){var pe=_e<0?"-":"",Fe=(pe?-_e:_e)+"",Xe=Fe.length;return pe+(Xe<fe?new Array(fe-Xe+1).join(Te)+Fe:Fe)}function a(_e){return _e.replace(c,"\\$&")}function b(_e){return new RegExp("^(?:"+_e.map(a).join("|")+")","i")}function p(_e){for(var Te={},fe=-1,pe=_e.length;++fe<pe;)Te[_e[fe].toLowerCase()]=fe;return Te}function s(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+1));return pe?(_e.w=+pe[0],fe+pe[0].length):-1}function v(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+1));return pe?(_e.u=+pe[0],fe+pe[0].length):-1}function A(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+2));return pe?(_e.U=+pe[0],fe+pe[0].length):-1}function x(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+2));return pe?(_e.V=+pe[0],fe+pe[0].length):-1}function E(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+2));return pe?(_e.W=+pe[0],fe+pe[0].length):-1}function g(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+4));return pe?(_e.y=+pe[0],fe+pe[0].length):-1}function M(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+2));return pe?(_e.y=+pe[0]+(+pe[0]>68?1900:2e3),fe+pe[0].length):-1}function w(_e,Te,fe){var pe=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Te.slice(fe,fe+6));return pe?(_e.Z=pe[1]?0:-(pe[2]+(pe[3]||"00")),fe+pe[0].length):-1}function n(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+1));return pe?(_e.q=3*pe[0]-3,fe+pe[0].length):-1}function S(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+2));return pe?(_e.m=pe[0]-1,fe+pe[0].length):-1}function d(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+2));return pe?(_e.d=+pe[0],fe+pe[0].length):-1}function I(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+3));return pe?(_e.m=0,_e.d=+pe[0],fe+pe[0].length):-1}function L(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+2));return pe?(_e.H=+pe[0],fe+pe[0].length):-1}function B(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+2));return pe?(_e.M=+pe[0],fe+pe[0].length):-1}function k(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+2));return pe?(_e.S=+pe[0],fe+pe[0].length):-1}function z(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+3));return pe?(_e.L=+pe[0],fe+pe[0].length):-1}function O(_e,Te,fe){var pe=u.exec(Te.slice(fe,fe+6));return pe?(_e.L=Math.floor(pe[0]/1e3),fe+pe[0].length):-1}function F(_e,Te,fe){var pe=f.exec(Te.slice(fe,fe+1));return pe?fe+pe[0].length:-1}function N(_e,Te,fe){var pe=u.exec(Te.slice(fe));return pe?(_e.Q=+pe[0],fe+pe[0].length):-1}function H(_e,Te,fe){var pe=u.exec(Te.slice(fe));return pe?(_e.s=+pe[0],fe+pe[0].length):-1}function X(_e,Te){return m(_e.getDate(),Te,2)}function ne(_e,Te){return m(_e.getHours(),Te,2)}function ie(_e,Te){return m(_e.getHours()%12||12,Te,2)}function ue(_e,Te){return m(1+P.Z.count((0,C.Z)(_e),_e),Te,3)}function J(_e,Te){return m(_e.getMilliseconds(),Te,3)}function j(_e,Te){return J(_e,Te)+"000"}function W(_e,Te){return m(_e.getMonth()+1,Te,2)}function V(_e,Te){return m(_e.getMinutes(),Te,2)}function K(_e,Te){return m(_e.getSeconds(),Te,2)}function ae(_e){var Te=_e.getDay();return 0===Te?7:Te}function Q(_e,Te){return m(o.OM.count((0,C.Z)(_e)-1,_e),Te,2)}function Z(_e,Te){var fe=_e.getDay();return _e=fe>=4||0===fe?(0,o.bL)(_e):o.bL.ceil(_e),m(o.bL.count((0,C.Z)(_e),_e)+(4===(0,C.Z)(_e).getDay()),Te,2)}function re(_e){return _e.getDay()}function q(_e,Te){return m(o.wA.count((0,C.Z)(_e)-1,_e),Te,2)}function se(_e,Te){return m(_e.getFullYear()%100,Te,2)}function de(_e,Te){return m(_e.getFullYear()%1e4,Te,4)}function we(_e){var Te=_e.getTimezoneOffset();return(Te>0?"-":(Te*=-1,"+"))+m(Te/60|0,"0",2)+m(Te%60,"0",2)}function ye(_e,Te){return m(_e.getUTCDate(),Te,2)}function Pe(_e,Te){return m(_e.getUTCHours(),Te,2)}function Ie(_e,Te){return m(_e.getUTCHours()%12||12,Te,2)}function Se(_e,Te){return m(1+D.Z.count((0,h.Z)(_e),_e),Te,3)}function xe(_e,Te){return m(_e.getUTCMilliseconds(),Te,3)}function Me(_e,Te){return xe(_e,Te)+"000"}function Ge(_e,Te){return m(_e.getUTCMonth()+1,Te,2)}function Ye(_e,Te){return m(_e.getUTCMinutes(),Te,2)}function De(_e,Te){return m(_e.getUTCSeconds(),Te,2)}function He(_e){var Te=_e.getUTCDay();return 0===Te?7:Te}function rt(_e,Te){return m(T.Ox.count((0,h.Z)(_e)-1,_e),Te,2)}function $e(_e,Te){var fe=_e.getUTCDay();return _e=fe>=4||0===fe?(0,T.hB)(_e):T.hB.ceil(_e),m(T.hB.count((0,h.Z)(_e),_e)+(4===(0,h.Z)(_e).getUTCDay()),Te,2)}function Be(_e){return _e.getUTCDay()}function ze(_e,Te){return m(T.l6.count((0,h.Z)(_e)-1,_e),Te,2)}function tt(_e,Te){return m(_e.getUTCFullYear()%100,Te,2)}function lt(_e,Te){return m(_e.getUTCFullYear()%1e4,Te,4)}function ut(){return"+0000"}function xt(){return"%"}function bt(_e){return+_e}function Ht(_e){return Math.floor(+_e/1e3)}!function Ne(_e){Je=l(_e),Ce=Je.format,Re=Je.utcFormat}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},82301:function(te,Y,e){"use strict";e.d(Y,{a:function(){return P}});var T=e(30052),D=e(54263),o=(0,T.Z)(function(C){C.setHours(0,0,0,0)},function(C,h){C.setDate(C.getDate()+h)},function(C,h){return(h-C-(h.getTimezoneOffset()-C.getTimezoneOffset())*D.yB)/D.UD},function(C){return C.getDate()-1});Y.Z=o;var P=o.range},54263:function(te,Y,e){"use strict";e.d(Y,{UD:function(){return P},Y2:function(){return o},Ym:function(){return T},iM:function(){return C},yB:function(){return D}});var T=1e3,D=6e4,o=36e5,P=864e5,C=6048e5},81041:function(te,Y,e){"use strict";e.r(Y),e.d(Y,{timeDay:function(){return m.Z},timeDays:function(){return m.a},timeFriday:function(){return a.mC},timeFridays:function(){return a.b$},timeHour:function(){return f},timeHours:function(){return c},timeInterval:function(){return T.Z},timeMillisecond:function(){return o},timeMilliseconds:function(){return P},timeMinute:function(){return l},timeMinutes:function(){return i},timeMonday:function(){return a.wA},timeMondays:function(){return a.bJ},timeMonth:function(){return p},timeMonths:function(){return s},timeSaturday:function(){return a.EY},timeSaturdays:function(){return a.Ff},timeSecond:function(){return y},timeSeconds:function(){return t},timeSunday:function(){return a.OM},timeSundays:function(){return a.vm},timeThursday:function(){return a.bL},timeThursdays:function(){return a.$t},timeTuesday:function(){return a.sy},timeTuesdays:function(){return a.aU},timeWednesday:function(){return a.zg},timeWednesdays:function(){return a.Ld},timeWeek:function(){return a.OM},timeWeeks:function(){return a.vm},timeYear:function(){return v.Z},timeYears:function(){return v.g},utcDay:function(){return n.Z},utcDays:function(){return n.y},utcFriday:function(){return S.QQ},utcFridays:function(){return S.fz},utcHour:function(){return M},utcHours:function(){return w},utcMillisecond:function(){return o},utcMilliseconds:function(){return P},utcMinute:function(){return x},utcMinutes:function(){return E},utcMonday:function(){return S.l6},utcMondays:function(){return S.$3},utcMonth:function(){return I},utcMonths:function(){return L},utcSaturday:function(){return S.g4},utcSaturdays:function(){return S.Q_},utcSecond:function(){return y},utcSeconds:function(){return t},utcSunday:function(){return S.Ox},utcSundays:function(){return S.SU},utcThursday:function(){return S.hB},utcThursdays:function(){return S.xj},utcTuesday:function(){return S.J1},utcTuesdays:function(){return S.DK},utcWednesday:function(){return S.b3},utcWednesdays:function(){return S.uy},utcWeek:function(){return S.Ox},utcWeeks:function(){return S.SU},utcYear:function(){return B.Z},utcYears:function(){return B.D}});var T=e(30052),D=(0,T.Z)(function(){},function(k,z){k.setTime(+k+z)},function(k,z){return z-k});D.every=function(k){return k=Math.floor(k),isFinite(k)&&k>0?k>1?(0,T.Z)(function(z){z.setTime(Math.floor(z/k)*k)},function(z,O){z.setTime(+z+O*k)},function(z,O){return(O-z)/k}):D:null};var o=D,P=D.range,C=e(54263),h=(0,T.Z)(function(k){k.setTime(k-k.getMilliseconds())},function(k,z){k.setTime(+k+z*C.Ym)},function(k,z){return(z-k)/C.Ym},function(k){return k.getUTCSeconds()}),y=h,t=h.range,r=(0,T.Z)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*C.Ym)},function(k,z){k.setTime(+k+z*C.yB)},function(k,z){return(z-k)/C.yB},function(k){return k.getMinutes()}),l=r,i=r.range,u=(0,T.Z)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*C.Ym-k.getMinutes()*C.yB)},function(k,z){k.setTime(+k+z*C.Y2)},function(k,z){return(z-k)/C.Y2},function(k){return k.getHours()}),f=u,c=u.range,m=e(82301),a=e(59879),b=(0,T.Z)(function(k){k.setDate(1),k.setHours(0,0,0,0)},function(k,z){k.setMonth(k.getMonth()+z)},function(k,z){return z.getMonth()-k.getMonth()+12*(z.getFullYear()-k.getFullYear())},function(k){return k.getMonth()}),p=b,s=b.range,v=e(34823),A=(0,T.Z)(function(k){k.setUTCSeconds(0,0)},function(k,z){k.setTime(+k+z*C.yB)},function(k,z){return(z-k)/C.yB},function(k){return k.getUTCMinutes()}),x=A,E=A.range,g=(0,T.Z)(function(k){k.setUTCMinutes(0,0,0)},function(k,z){k.setTime(+k+z*C.Y2)},function(k,z){return(z-k)/C.Y2},function(k){return k.getUTCHours()}),M=g,w=g.range,n=e(48480),S=e(58176),d=(0,T.Z)(function(k){k.setUTCDate(1),k.setUTCHours(0,0,0,0)},function(k,z){k.setUTCMonth(k.getUTCMonth()+z)},function(k,z){return z.getUTCMonth()-k.getUTCMonth()+12*(z.getUTCFullYear()-k.getUTCFullYear())},function(k){return k.getUTCMonth()}),I=d,L=d.range,B=e(79791)},30052:function(te,Y,e){"use strict";e.d(Y,{Z:function(){return o}});var T=new Date,D=new Date;function o(P,C,h,y){function t(r){return P(r=0===arguments.length?new Date:new Date(+r)),r}return t.floor=function(r){return P(r=new Date(+r)),r},t.ceil=function(r){return P(r=new Date(r-1)),C(r,1),P(r),r},t.round=function(r){var l=t(r),i=t.ceil(r);return r-l<i-r?l:i},t.offset=function(r,l){return C(r=new Date(+r),null==l?1:Math.floor(l)),r},t.range=function(r,l,i){var f,u=[];if(r=t.ceil(r),i=null==i?1:Math.floor(i),!(r<l&&i>0))return u;do{u.push(f=new Date(+r)),C(r,i),P(r)}while(f<r&&r<l);return u},t.filter=function(r){return o(function(l){if(l>=l)for(;P(l),!r(l);)l.setTime(l-1)},function(l,i){if(l>=l)if(i<0)for(;++i<=0;)for(;C(l,-1),!r(l););else for(;--i>=0;)for(;C(l,1),!r(l););})},h&&(t.count=function(r,l){return T.setTime(+r),D.setTime(+l),P(T),P(D),Math.floor(h(T,D))},t.every=function(r){return r=Math.floor(r),isFinite(r)&&r>0?r>1?t.filter(y?function(l){return y(l)%r==0}:function(l){return t.count(0,l)%r==0}):t:null}),t}},48480:function(te,Y,e){"use strict";e.d(Y,{y:function(){return P}});var T=e(30052),D=e(54263),o=(0,T.Z)(function(C){C.setUTCHours(0,0,0,0)},function(C,h){C.setUTCDate(C.getUTCDate()+h)},function(C,h){return(h-C)/D.UD},function(C){return C.getUTCDate()-1});Y.Z=o;var P=o.range},58176:function(te,Y,e){"use strict";e.d(Y,{$3:function(){return u},DK:function(){return f},J1:function(){return h},Ox:function(){return P},QQ:function(){return r},Q_:function(){return b},SU:function(){return i},b3:function(){return y},fz:function(){return a},g4:function(){return l},hB:function(){return t},l6:function(){return C},uy:function(){return c},xj:function(){return m}});var T=e(30052),D=e(54263);function o(p){return(0,T.Z)(function(s){s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-p)%7),s.setUTCHours(0,0,0,0)},function(s,v){s.setUTCDate(s.getUTCDate()+7*v)},function(s,v){return(v-s)/D.iM})}var P=o(0),C=o(1),h=o(2),y=o(3),t=o(4),r=o(5),l=o(6),i=P.range,u=C.range,f=h.range,c=y.range,m=t.range,a=r.range,b=l.range},79791:function(te,Y,e){"use strict";e.d(Y,{D:function(){return o}});var T=e(30052),D=(0,T.Z)(function(P){P.setUTCMonth(0,1),P.setUTCHours(0,0,0,0)},function(P,C){P.setUTCFullYear(P.getUTCFullYear()+C)},function(P,C){return C.getUTCFullYear()-P.getUTCFullYear()},function(P){return P.getUTCFullYear()});D.every=function(P){return isFinite(P=Math.floor(P))&&P>0?(0,T.Z)(function(C){C.setUTCFullYear(Math.floor(C.getUTCFullYear()/P)*P),C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,h){C.setUTCFullYear(C.getUTCFullYear()+h*P)}):null},Y.Z=D;var o=D.range},59879:function(te,Y,e){"use strict";e.d(Y,{$t:function(){return m},EY:function(){return l},Ff:function(){return b},Ld:function(){return c},OM:function(){return P},aU:function(){return f},b$:function(){return a},bJ:function(){return u},bL:function(){return t},mC:function(){return r},sy:function(){return h},vm:function(){return i},wA:function(){return C},zg:function(){return y}});var T=e(30052),D=e(54263);function o(p){return(0,T.Z)(function(s){s.setDate(s.getDate()-(s.getDay()+7-p)%7),s.setHours(0,0,0,0)},function(s,v){s.setDate(s.getDate()+7*v)},function(s,v){return(v-s-(v.getTimezoneOffset()-s.getTimezoneOffset())*D.yB)/D.iM})}var P=o(0),C=o(1),h=o(2),y=o(3),t=o(4),r=o(5),l=o(6),i=P.range,u=C.range,f=h.range,c=y.range,m=t.range,a=r.range,b=l.range},34823:function(te,Y,e){"use strict";e.d(Y,{g:function(){return o}});var T=e(30052),D=(0,T.Z)(function(P){P.setMonth(0,1),P.setHours(0,0,0,0)},function(P,C){P.setFullYear(P.getFullYear()+C)},function(P,C){return C.getFullYear()-P.getFullYear()},function(P){return P.getFullYear()});D.every=function(P){return isFinite(P=Math.floor(P))&&P>0?(0,T.Z)(function(C){C.setFullYear(Math.floor(C.getFullYear()/P)*P),C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,h){C.setFullYear(C.getFullYear()+h*P)}):null},Y.Z=D;var o=D.range},17045:function(te,Y,e){"use strict";var T=e(8709),D="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,P=Array.prototype.concat,C=Object.defineProperty,y=e(55622)(),t=C&&y,r=function(i,u,f,c){if(u in i)if(!0===c){if(i[u]===f)return}else if(!function(i){return"function"==typeof i&&"[object Function]"===o.call(i)}(c)||!c())return;t?C(i,u,{configurable:!0,enumerable:!1,value:f,writable:!0}):i[u]=f},l=function(i,u){var f=arguments.length>2?arguments[2]:{},c=T(u);D&&(c=P.call(c,Object.getOwnPropertySymbols(u)));for(var m=0;m<c.length;m+=1)r(i,c[m],u[c[m]],f[c[m]])};l.supportsDescriptors=!!t,te.exports=l},46775:function(te){te.exports=function(){for(var Y=0;Y<arguments.length;Y++)if(void 0!==arguments[Y])return arguments[Y]}},53545:function(te){"use strict";te.exports=D;var e=(D.canvas=document.createElement("canvas")).getContext("2d"),T=o([32,126]);function D(P,C){Array.isArray(P)&&(P=P.join(", "));var y,h={},t=16,r=.05;C&&(2===C.length&&"number"==typeof C[0]?y=o(C):Array.isArray(C)?y=C:(C.o?y=o(C.o):C.pairs&&(y=C.pairs),C.fontSize&&(t=C.fontSize),null!=C.threshold&&(r=C.threshold))),y||(y=T),e.font=t+"px "+P;for(var l=0;l<y.length;l++){var i=y[l],u=e.measureText(i[0]).width+e.measureText(i[1]).width,f=e.measureText(i).width;Math.abs(u-f)>t*r&&(h[i]=(f-u)/t*1e3)}return h}function o(P){for(var C=[],h=P[0];h<=P[1];h++)for(var y=String.fromCharCode(h),t=P[0];t<P[1];t++){var r=String.fromCharCode(t);C.push(y+r)}return C}D.createPairs=o,D.ascii=T},31457:function(te,Y,e){var T=e(65185),D=e(18625),o={M:"moveTo",C:"bezierCurveTo"};te.exports=function(P,C){P.beginPath(),D(T(C)).forEach(function(h){var y=h[0],t=h.slice(1);P[o[y]].apply(P,t)}),P.closePath()}},90660:function(te){te.exports=function(Y){switch(Y){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(te){"use strict";function Y(D,o,P){var C=0|D[P];if(C<=0)return[];var y,h=new Array(C);if(P===D.length-1)for(y=0;y<C;++y)h[y]=o;else for(y=0;y<C;++y)h[y]=Y(D,o,P+1);return h}te.exports=function T(D,o){switch(typeof o>"u"&&(o=0),typeof D){case"number":if(D>0)return function e(D,o){var P,C;for(P=new Array(D),C=0;C<D;++C)P[C]=o;return P}(0|D,o);break;case"object":if("number"==typeof D.length)return Y(D,o,0)}return[]}},11474:function(te){"use strict";function Y(L,B,k){k=k||2;var H,X,ne,ie,ue,J,j,z=B&&B.length,O=z?B[0]*k:L.length,F=e(L,0,O,k,!0),N=[];if(!F||F.next===F.prev)return N;if(z&&(F=function y(L,B,k,z){var F,N,ne,O=[];for(F=0,N=B.length;F<N;F++)(ne=e(L,B[F]*z,F<N-1?B[F+1]*z:L.length,z,!1))===ne.next&&(ne.steiner=!0),O.push(m(ne));for(O.sort(t),F=0;F<O.length;F++)r(O[F],k),k=T(k,k.next);return k}(L,B,F,k)),L.length>80*k){H=ne=L[0],X=ie=L[1];for(var W=k;W<O;W+=k)(ue=L[W])<H&&(H=ue),(J=L[W+1])<X&&(X=J),ue>ne&&(ne=ue),J>ie&&(ie=J);j=0!==(j=Math.max(ne-H,ie-X))?1/j:0}return D(F,N,k,H,X,j),N}function e(L,B,k,z,O){var F,N;if(O===I(L,B,k,z)>0)for(F=B;F<k;F+=z)N=n(F,L[F],L[F+1],N);else for(F=k-z;F>=B;F-=z)N=n(F,L[F],L[F+1],N);return N&&s(N,N.next)&&(S(N),N=N.next),N}function T(L,B){if(!L)return L;B||(B=L);var z,k=L;do{if(z=!1,k.steiner||!s(k,k.next)&&0!==p(k.prev,k,k.next))k=k.next;else{if(S(k),(k=B=k.prev)===k.next)break;z=!0}}while(z||k!==B);return B}function D(L,B,k,z,O,F,N){if(L){!N&&F&&function u(L,B,k,z){var O=L;do{null===O.z&&(O.z=c(O.x,O.y,B,k,z)),O.prevZ=O.prev,O.nextZ=O.next,O=O.next}while(O!==L);O.prevZ.nextZ=null,O.prevZ=null,function f(L){var B,k,z,O,F,N,H,X,ne=1;do{for(k=L,L=null,F=null,N=0;k;){for(N++,z=k,H=0,B=0;B<ne&&(H++,z=z.nextZ);B++);for(X=ne;H>0||X>0&&z;)0!==H&&(0===X||!z||k.z<=z.z)?(O=k,k=k.nextZ,H--):(O=z,z=z.nextZ,X--),F?F.nextZ=O:L=O,O.prevZ=F,F=O;k=z}F.nextZ=null,ne*=2}while(N>1)}(O)}(L,z,O,F);for(var X,ne,H=L;L.prev!==L.next;)if(X=L.prev,ne=L.next,F?P(L,z,O,F):o(L))B.push(X.i/k),B.push(L.i/k),B.push(ne.i/k),S(L),L=ne.next,H=ne.next;else if((L=ne)===H){N?1===N?D(L=C(T(L),B,k),B,k,z,O,F,2):2===N&&h(L,B,k,z,O,F):D(T(L),B,k,z,O,F,1);break}}}function o(L){var B=L.prev,k=L,z=L.next;if(p(B,k,z)>=0)return!1;for(var O=L.next.next;O!==L.prev;){if(a(B.x,B.y,k.x,k.y,z.x,z.y,O.x,O.y)&&p(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function P(L,B,k,z){var O=L.prev,F=L,N=L.next;if(p(O,F,N)>=0)return!1;for(var ne=O.x>F.x?O.x>N.x?O.x:N.x:F.x>N.x?F.x:N.x,ie=O.y>F.y?O.y>N.y?O.y:N.y:F.y>N.y?F.y:N.y,ue=c(O.x<F.x?O.x<N.x?O.x:N.x:F.x<N.x?F.x:N.x,O.y<F.y?O.y<N.y?O.y:N.y:F.y<N.y?F.y:N.y,B,k,z),J=c(ne,ie,B,k,z),j=L.prevZ,W=L.nextZ;j&&j.z>=ue&&W&&W.z<=J;){if(j!==L.prev&&j!==L.next&&a(O.x,O.y,F.x,F.y,N.x,N.y,j.x,j.y)&&p(j.prev,j,j.next)>=0||(j=j.prevZ,W!==L.prev&&W!==L.next&&a(O.x,O.y,F.x,F.y,N.x,N.y,W.x,W.y)&&p(W.prev,W,W.next)>=0))return!1;W=W.nextZ}for(;j&&j.z>=ue;){if(j!==L.prev&&j!==L.next&&a(O.x,O.y,F.x,F.y,N.x,N.y,j.x,j.y)&&p(j.prev,j,j.next)>=0)return!1;j=j.prevZ}for(;W&&W.z<=J;){if(W!==L.prev&&W!==L.next&&a(O.x,O.y,F.x,F.y,N.x,N.y,W.x,W.y)&&p(W.prev,W,W.next)>=0)return!1;W=W.nextZ}return!0}function C(L,B,k){var z=L;do{var O=z.prev,F=z.next.next;!s(O,F)&&v(O,z,z.next,F)&&g(O,F)&&g(F,O)&&(B.push(O.i/k),B.push(z.i/k),B.push(F.i/k),S(z),S(z.next),z=L=F),z=z.next}while(z!==L);return T(z)}function h(L,B,k,z,O,F){var N=L;do{for(var H=N.next.next;H!==N.prev;){if(N.i!==H.i&&b(N,H)){var X=w(N,H);return N=T(N,N.next),X=T(X,X.next),D(N,B,k,z,O,F),void D(X,B,k,z,O,F)}H=H.next}N=N.next}while(N!==L)}function t(L,B){return L.x-B.x}function r(L,B){if(B=function l(L,B){var N,k=B,z=L.x,O=L.y,F=-1/0;do{if(O<=k.y&&O>=k.next.y&&k.next.y!==k.y){var H=k.x+(O-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(H<=z&&H>F){if(F=H,H===z){if(O===k.y)return k;if(O===k.next.y)return k.next}N=k.x<k.next.x?k:k.next}}k=k.next}while(k!==B);if(!N)return null;if(z===F)return N;var J,X=N,ne=N.x,ie=N.y,ue=1/0;k=N;do{z>=k.x&&k.x>=ne&&z!==k.x&&a(O<ie?z:F,O,ne,ie,O<ie?F:z,O,k.x,k.y)&&(J=Math.abs(O-k.y)/(z-k.x),g(k,L)&&(J<ue||J===ue&&(k.x>N.x||k.x===N.x&&i(N,k)))&&(N=k,ue=J)),k=k.next}while(k!==X);return N}(L,B),B){var k=w(B,L);T(B,B.next),T(k,k.next)}}function i(L,B){return p(L.prev,L,B.prev)<0&&p(B.next,L,L.next)<0}function c(L,B,k,z,O){return(L=1431655765&((L=858993459&((L=252645135&((L=16711935&((L=32767*(L-k)*O)|L<<8))|L<<4))|L<<2))|L<<1))|(B=1431655765&((B=858993459&((B=252645135&((B=16711935&((B=32767*(B-z)*O)|B<<8))|B<<4))|B<<2))|B<<1))<<1}function m(L){var B=L,k=L;do{(B.x<k.x||B.x===k.x&&B.y<k.y)&&(k=B),B=B.next}while(B!==L);return k}function a(L,B,k,z,O,F,N,H){return(O-N)*(B-H)-(L-N)*(F-H)>=0&&(L-N)*(z-H)-(k-N)*(B-H)>=0&&(k-N)*(F-H)-(O-N)*(z-H)>=0}function b(L,B){return L.next.i!==B.i&&L.prev.i!==B.i&&!function E(L,B){var k=L;do{if(k.i!==L.i&&k.next.i!==L.i&&k.i!==B.i&&k.next.i!==B.i&&v(k,k.next,L,B))return!0;k=k.next}while(k!==L);return!1}(L,B)&&(g(L,B)&&g(B,L)&&function M(L,B){var k=L,z=!1,O=(L.x+B.x)/2,F=(L.y+B.y)/2;do{k.y>F!=k.next.y>F&&k.next.y!==k.y&&O<(k.next.x-k.x)*(F-k.y)/(k.next.y-k.y)+k.x&&(z=!z),k=k.next}while(k!==L);return z}(L,B)&&(p(L.prev,L,B.prev)||p(L,B.prev,B))||s(L,B)&&p(L.prev,L,L.next)>0&&p(B.prev,B,B.next)>0)}function p(L,B,k){return(B.y-L.y)*(k.x-B.x)-(B.x-L.x)*(k.y-B.y)}function s(L,B){return L.x===B.x&&L.y===B.y}function v(L,B,k,z){var O=x(p(L,B,k)),F=x(p(L,B,z)),N=x(p(k,z,L)),H=x(p(k,z,B));return!!(O!==F&&N!==H||0===O&&A(L,k,B)||0===F&&A(L,z,B)||0===N&&A(k,L,z)||0===H&&A(k,B,z))}function A(L,B,k){return B.x<=Math.max(L.x,k.x)&&B.x>=Math.min(L.x,k.x)&&B.y<=Math.max(L.y,k.y)&&B.y>=Math.min(L.y,k.y)}function x(L){return L>0?1:L<0?-1:0}function g(L,B){return p(L.prev,L,L.next)<0?p(L,B,L.next)>=0&&p(L,L.prev,B)>=0:p(L,B,L.prev)<0||p(L,L.next,B)<0}function w(L,B){var k=new d(L.i,L.x,L.y),z=new d(B.i,B.x,B.y),O=L.next,F=B.prev;return L.next=B,B.prev=L,k.next=O,O.prev=k,z.next=k,k.prev=z,F.next=z,z.prev=F,z}function n(L,B,k,z){var O=new d(L,B,k);return z?(O.next=z.next,O.prev=z,z.next.prev=O,z.next=O):(O.prev=O,O.next=O),O}function S(L){L.next.prev=L.prev,L.prev.next=L.next,L.prevZ&&(L.prevZ.nextZ=L.nextZ),L.nextZ&&(L.nextZ.prevZ=L.prevZ)}function d(L,B,k){this.i=L,this.x=B,this.y=k,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I(L,B,k,z){for(var O=0,F=B,N=k-z;F<k;F+=z)O+=(L[N]-L[F])*(L[F+1]+L[N+1]),N=F;return O}te.exports=Y,te.exports.default=Y,Y.deviation=function(L,B,k,z){var O=B&&B.length,N=Math.abs(I(L,0,O?B[0]*k:L.length,k));if(O)for(var H=0,X=B.length;H<X;H++)N-=Math.abs(I(L,B[H]*k,H<X-1?B[H+1]*k:L.length,k));var ue=0;for(H=0;H<z.length;H+=3){var J=z[H]*k,j=z[H+1]*k,W=z[H+2]*k;ue+=Math.abs((L[J]-L[W])*(L[j+1]-L[J+1])-(L[J]-L[j])*(L[W+1]-L[J+1]))}return 0===N&&0===ue?0:Math.abs((ue-N)/N)},Y.flatten=function(L){for(var B=L[0][0].length,k={vertices:[],holes:[],dimensions:B},z=0,O=0;O<L.length;O++){for(var F=0;F<L[O].length;F++)for(var N=0;N<B;N++)k.vertices.push(L[O][F][N]);O>0&&k.holes.push(z+=L[O-1].length)}return k}},2502:function(te,Y,e){var T=e(68664);te.exports=function(o,P){var l,C=[],h=[],y=[],t={},r=[];function i(A){y[A]=!1,t.hasOwnProperty(A)&&Object.keys(t[A]).forEach(function(x){delete t[A][x],y[x]&&i(x)})}function u(A){var E,g,x=!1;for(h.push(A),y[A]=!0,E=0;E<r[A].length;E++)(g=r[A][E])===l?(f(l,h),x=!0):y[g]||(x=u(g));if(x)i(A);else for(E=0;E<r[A].length;E++){var M=t[g=r[A][E]];M||(t[g]=M={}),M[g]=!0}return h.pop(),x}function f(A,x){var E=[].concat(x).concat(A);P?P(u):C.push(E)}function m(A){!function c(A){for(var x=0;x<o.length;x++)x<A&&(o[x]=[]),o[x]=o[x].filter(function(E){return E>=A})}(A);for(var w,g=T(o).components.filter(function(L){return L.length>1}),M=1/0,n=0;n<g.length;n++)for(var S=0;S<g[n].length;S++)g[n][S]<M&&(M=g[n][S],w=n);var d=g[w];return!!d&&{leastVertex:M,adjList:o.map(function(L,B){return-1===d.indexOf(B)?[]:L.filter(function(k){return-1!==d.indexOf(k)})})}}l=0;for(var a=o.length;l<a;){var b=m(l);if(l=b.leastVertex,r=b.adjList){for(var p=0;p<r.length;p++)for(var s=0;s<r[p].length;s++){var v=r[p][s];y[+v]=!1,t[v]={}}u(l),l+=1}else l=a}if(!P)return C}},16134:function(te,Y,e){"use strict";var T=e(36672);te.exports=function(){return T(this).length=0,this}},4892:function(te,Y,e){"use strict";te.exports=e(64404)()?Array.from:e(49441)},64404:function(te){"use strict";te.exports=function(){var e,T,Y=Array.from;return"function"==typeof Y&&!(!(T=Y(e=["raz","dwa"]))||T===e||"dwa"!==T[1])}},49441:function(te,Y,e){"use strict";var T=e(8260).iterator,D=e(73051),o=e(33717),P=e(35976),C=e(78513),h=e(36672),y=e(95296),t=e(87963),r=Array.isArray,l=Function.prototype.call,i={configurable:!0,enumerable:!0,writable:!0,value:null},u=Object.defineProperty;te.exports=function(f){var a,b,p,s,v,A,x,E,g,M,c=arguments[1],m=arguments[2];if(f=Object(h(f)),y(c)&&C(c),this&&this!==Array&&o(this))a=this;else{if(!c){if(D(f))return 1!==(v=f.length)?Array.apply(null,f):((s=new Array(1))[0]=f[0],s);if(r(f)){for(s=new Array(v=f.length),b=0;b<v;++b)s[b]=f[b];return s}}s=[]}if(!r(f))if(void 0!==(g=f[T])){for(x=C(g).call(f),a&&(s=new a),E=x.next(),b=0;!E.done;)M=c?l.call(c,m,E.value,b):E.value,a?(i.value=M,u(s,b,i)):s[b]=M,E=x.next(),++b;v=b}else if(t(f)){for(v=f.length,a&&(s=new a),b=0,p=0;b<v;++b)M=f[b],b+1<v&&(A=M.charCodeAt(0))>=55296&&A<=56319&&(M+=f[++b]),M=c?l.call(c,m,M,p):M,a?(i.value=M,u(s,p,i)):s[p]=M,++p;v=p}if(void 0===v)for(v=P(f.length),a&&(s=new a(v)),b=0;b<v;++b)M=c?l.call(c,m,f[b],b):f[b],a?(i.value=M,u(s,b,i)):s[b]=M;return a&&(i.value=null,s.length=v),s}},73051:function(te){"use strict";var Y=Object.prototype.toString,e=Y.call(function(){return arguments}());te.exports=function(T){return Y.call(T)===e}},33717:function(te){"use strict";var Y=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);te.exports=function(T){return"function"==typeof T&&e(Y.call(T))}},52345:function(te){"use strict";te.exports=function(){}},9953:function(te,Y,e){"use strict";te.exports=e(90436)()?Math.sign:e(6069)},90436:function(te){"use strict";te.exports=function(){var Y=Math.sign;return"function"==typeof Y&&1===Y(10)&&-1===Y(-20)}},6069:function(te){"use strict";te.exports=function(Y){return Y=Number(Y),isNaN(Y)||0===Y?Y:Y>0?1:-1}},56247:function(te,Y,e){"use strict";var T=e(9953),D=Math.abs,o=Math.floor;te.exports=function(P){return isNaN(P)?0:0!==(P=Number(P))&&isFinite(P)?T(P)*o(D(P)):P}},35976:function(te,Y,e){"use strict";var T=e(56247),D=Math.max;te.exports=function(o){return D(0,T(o))}},67260:function(te,Y,e){"use strict";var T=e(78513),D=e(36672),o=Function.prototype.bind,P=Function.prototype.call,C=Object.keys,h=Object.prototype.propertyIsEnumerable;te.exports=function(y,t){return function(r,l){var i,u=arguments[2],f=arguments[3];return r=Object(D(r)),T(l),i=C(r),f&&i.sort("function"==typeof f?o.call(f,r):void 0),"function"!=typeof y&&(y=i[y]),P.call(y,i,function(c,m){return h.call(r,c)?P.call(l,u,r[c],c,r,m):t})}}},95879:function(te,Y,e){"use strict";te.exports=e(73583)()?Object.assign:e(34205)},73583:function(te){"use strict";te.exports=function(){var e,Y=Object.assign;return"function"==typeof Y&&(Y(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(te,Y,e){"use strict";var T=e(68700),D=e(36672),o=Math.max;te.exports=function(P,C){var h,y,r,t=o(arguments.length,2);for(P=Object(D(P)),r=function(l){try{P[l]=C[l]}catch(i){h||(h=i)}},y=1;y<t;++y)T(C=arguments[y]).forEach(r);if(void 0!==h)throw h;return P}},19012:function(te,Y,e){"use strict";var T=e(4892),D=e(95879),o=e(36672);te.exports=function(P){var C=Object(o(P)),h=arguments[1],y=Object(arguments[2]);if(C!==P&&!h)return C;var t={};return h?T(h,function(r){(y.ensure||r in P)&&(t[r]=P[r])}):D(t,P),t}},52818:function(te,Y,e){"use strict";var D,o,P,C,T=Object.create;e(33247)()||(D=e(51882)),te.exports=D&&1===D.level?(o={},P={},C={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(h){P[h]="__proto__"!==h?C:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(o,P),Object.defineProperty(D,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:o}),function(h,y){return T(null===h?o:h,y)}):T},96437:function(te,Y,e){"use strict";te.exports=e(67260)("forEach")},99611:function(te,Y,e){"use strict";var T=e(95296),D={function:!0,object:!0};te.exports=function(o){return T(o)&&D[typeof o]||!1}},95296:function(te,Y,e){"use strict";var T=e(52345)();te.exports=function(D){return D!==T&&null!==D}},68700:function(te,Y,e){"use strict";te.exports=e(13895)()?Object.keys:e(25217)},13895:function(te){"use strict";te.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(te,Y,e){"use strict";var T=e(95296),D=Object.keys;te.exports=function(o){return D(T(o)?Object(o):o)}},16906:function(te,Y,e){"use strict";var T=e(78513),D=e(96437),o=Function.prototype.call;te.exports=function(P,C){var h={},y=arguments[2];return T(C),D(P,function(t,r,l,i){h[r]=o.call(C,y,t,r,l,i)}),h}},21780:function(te,Y,e){"use strict";var T=e(95296),D=Array.prototype.forEach,o=Object.create;te.exports=function(C){var h=o(null);return D.call(arguments,function(y){T(y)&&function(C,h){var y;for(y in C)h[y]=C[y]}(Object(y),h)}),h}},1496:function(te,Y,e){"use strict";te.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(te){"use strict";var Y=Object.create,e=Object.getPrototypeOf,T={};te.exports=function(){var D=Object.setPrototypeOf;return"function"==typeof D&&e(D((arguments[0]||Y)(null),T))===T}},51882:function(te,Y,e){"use strict";var h,y,t,r,T=e(99611),D=e(36672),o=Object.prototype.isPrototypeOf,P=Object.defineProperty,C={configurable:!0,enumerable:!1,writable:!0,value:void 0};h=function(y,t){if(D(y),null===t||T(t))return y;throw new TypeError("Prototype must be null or an object")},te.exports=(y=function(){var r,y=Object.create(null),t={},l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{(r=l.set).call(y,t)}catch{}if(Object.getPrototypeOf(y)===t)return{set:r,level:2}}return y.__proto__=t,Object.getPrototypeOf(y)===t?{level:2}:((y={}).__proto__=t,Object.getPrototypeOf(y)===t&&{level:1})}(),y?(2===y.level?y.set?(r=y.set,t=function(l,i){return r.call(h(l,i),i),l}):t=function(l,i){return h(l,i).__proto__=i,l}:t=function l(i,u){var f;return h(i,u),(f=o.call(l.nullPolyfill,i))&&delete l.nullPolyfill.__proto__,null===u&&(u=l.nullPolyfill),i.__proto__=u,f&&P(l.nullPolyfill,"__proto__",C),i},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:y.level})):null),e(52818)},78513:function(te){"use strict";te.exports=function(Y){if("function"!=typeof Y)throw new TypeError(Y+" is not a function");return Y}},98976:function(te,Y,e){"use strict";var T=e(99611);te.exports=function(D){if(!T(D))throw new TypeError(D+" is not an Object");return D}},36672:function(te,Y,e){"use strict";var T=e(95296);te.exports=function(D){if(!T(D))throw new TypeError("Cannot use null or undefined");return D}},66741:function(te,Y,e){"use strict";te.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(te){"use strict";var Y="razdwatrzy";te.exports=function(){return"function"==typeof Y.contains&&!0===Y.contains("dwa")&&!1===Y.contains("foo")}},60381:function(te){"use strict";var Y=String.prototype.indexOf;te.exports=function(e){return Y.call(this,e,arguments[1])>-1}},87963:function(te){"use strict";var Y=Object.prototype.toString,e=Y.call("");te.exports=function(T){return"string"==typeof T||T&&"object"==typeof T&&(T instanceof String||Y.call(T)===e)||!1}},43043:function(te){"use strict";var Y=Object.create(null),e=Math.random;te.exports=function(){var T;do{T=e().toString(36).slice(2)}while(Y[T]);return T}},32411:function(te,Y,e){"use strict";var y,T=e(1496),D=e(66741),o=e(62072),P=e(8260),C=e(95426),h=Object.defineProperty;y=te.exports=function(t,r){if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");C.call(this,t),r=r?D.call(r,"key+value")?"key+value":D.call(r,"key")?"key":"value":"value",h(this,"__kind__",o("",r))},T&&T(y,C),delete y.prototype.constructor,y.prototype=Object.create(C.prototype,{_resolve:o(function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t})}),h(y.prototype,P.toStringTag,o("c","Array Iterator"))},27515:function(te,Y,e){"use strict";var T=e(73051),D=e(78513),o=e(87963),P=e(66661),C=Array.isArray,h=Function.prototype.call,y=Array.prototype.some;te.exports=function(t,r){var l,u,f,c,m,a,b,p,i=arguments[2];if(C(t)||T(t)?l="array":o(t)?l="string":t=P(t),D(r),f=function(){c=!0},"array"!==l)if("string"!==l)for(u=t.next();!u.done;){if(h.call(r,i,u.value,f),c)return;u=t.next()}else for(a=t.length,m=0;m<a&&(b=t[m],m+1<a&&(p=b.charCodeAt(0))>=55296&&p<=56319&&(b+=t[++m]),h.call(r,i,b,f),!c);++m);else y.call(t,function(s){return h.call(r,i,s,f),c})}},66661:function(te,Y,e){"use strict";var T=e(73051),D=e(87963),o=e(32411),P=e(259),C=e(58095),h=e(8260).iterator;te.exports=function(y){return"function"==typeof C(y)[h]?y[h]():T(y)?new o(y):D(y)?new P(y):new o(y)}},95426:function(te,Y,e){"use strict";var l,T=e(16134),D=e(95879),o=e(78513),P=e(36672),C=e(62072),h=e(55174),y=e(8260),t=Object.defineProperty,r=Object.defineProperties;te.exports=l=function(i,u){if(!(this instanceof l))throw new TypeError("Constructor requires 'new'");r(this,{__list__:C("w",P(i)),__context__:C("w",u),__nextIndex__:C("w",0)}),u&&(o(u.on),u.on("_add",this._onAdd),u.on("_delete",this._onDelete),u.on("_clear",this._onClear))},delete l.prototype.constructor,r(l.prototype,D({_next:C(function(){var i;if(this.__list__){if(this.__redo__&&void 0!==(i=this.__redo__.shift()))return i;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:C(function(){return this._createResult(this._next())}),_createResult:C(function(i){return void 0===i?{done:!0,value:void 0}:{done:!1,value:this._resolve(i)}}),_resolve:C(function(i){return this.__list__[i]}),_unBind:C(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:C(function(){return"[object "+(this[y.toStringTag]||"Object")+"]"})},h({_onAdd:C(function(i){if(!(i>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void t(this,"__redo__",C("c",[i]));this.__redo__.forEach(function(u,f){u>=i&&(this.__redo__[f]=++u)},this),this.__redo__.push(i)}}),_onDelete:C(function(i){var u;i>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(u=this.__redo__.indexOf(i))&&this.__redo__.splice(u,1),this.__redo__.forEach(function(f,c){f>i&&(this.__redo__[c]=--f)},this)))}),_onClear:C(function(){this.__redo__&&T.call(this.__redo__),this.__nextIndex__=0})}))),t(l.prototype,y.iterator,C(function(){return this}))},35940:function(te,Y,e){"use strict";var T=e(73051),D=e(95296),o=e(87963),P=e(8260).iterator,C=Array.isArray;te.exports=function(h){return!(!D(h)||!(C(h)||o(h)||T(h))&&"function"!=typeof h[P])}},259:function(te,Y,e){"use strict";var h,T=e(1496),D=e(62072),o=e(8260),P=e(95426),C=Object.defineProperty;h=te.exports=function(y){if(!(this instanceof h))throw new TypeError("Constructor requires 'new'");y=String(y),P.call(this,y),C(this,"__length__",D("",y.length))},T&&T(h,P),delete h.prototype.constructor,h.prototype=Object.create(P.prototype,{_next:D(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:D(function(y){var r,t=this.__list__[y];return this.__nextIndex__===this.__length__?t:(r=t.charCodeAt(0))>=55296&&r<=56319?t+this.__list__[this.__nextIndex__++]:t})}),C(h.prototype,o.toStringTag,D("c","String Iterator"))},58095:function(te,Y,e){"use strict";var T=e(35940);te.exports=function(D){if(!T(D))throw new TypeError(D+" is not iterable");return D}},73523:function(te){"use strict";function Y(T,D){if(null==T)throw new TypeError("Cannot convert first argument to object");for(var o=Object(T),P=1;P<arguments.length;P++){var C=arguments[P];if(null!=C)for(var h=Object.keys(Object(C)),y=0,t=h.length;y<t;y++){var r=h[y],l=Object.getOwnPropertyDescriptor(C,r);void 0!==l&&l.enumerable&&(o[r]=C[r])}}return o}te.exports={assign:Y,polyfill:function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:Y})}}},8260:function(te,Y,e){"use strict";te.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(te,Y,e){"use strict";var T=e(94908),D={object:!0,symbol:!0};te.exports=function(){var P,o=T.Symbol;if("function"!=typeof o)return!1;P=o("test symbol");try{String(P)}catch{return!1}return!(!D[typeof o.iterator]||!D[typeof o.toPrimitive]||!D[typeof o.toStringTag])}},82276:function(te){"use strict";te.exports=function(Y){return!(!Y||"symbol"!=typeof Y&&(!Y.constructor||"Symbol"!==Y.constructor.name||"Symbol"!==Y[Y.constructor.toStringTag]))}},29366:function(te,Y,e){"use strict";var T=e(62072),o=Object.defineProperty,P=Object.prototype,C=(0,Object.create)(null);te.exports=function(h){for(var t,r,y=0;C[h+(y||"")];)++y;return C[h+=y||""]=!0,o(P,t="@@"+h,T.gs(null,function(l){r||(r=!0,o(this,t,T(l)),r=!1)})),t}},92842:function(te,Y,e){"use strict";var T=e(62072),D=e(94908).Symbol;te.exports=function(o){return Object.defineProperties(o,{hasInstance:T("",D&&D.hasInstance||o("hasInstance")),isConcatSpreadable:T("",D&&D.isConcatSpreadable||o("isConcatSpreadable")),iterator:T("",D&&D.iterator||o("iterator")),match:T("",D&&D.match||o("match")),replace:T("",D&&D.replace||o("replace")),search:T("",D&&D.search||o("search")),species:T("",D&&D.species||o("species")),split:T("",D&&D.split||o("split")),toPrimitive:T("",D&&D.toPrimitive||o("toPrimitive")),toStringTag:T("",D&&D.toStringTag||o("toStringTag")),unscopables:T("",D&&D.unscopables||o("unscopables"))})}},13304:function(te,Y,e){"use strict";var T=e(62072),D=e(53308),o=Object.create(null);te.exports=function(P){return Object.defineProperties(P,{for:T(function(C){return o[C]?o[C]:o[C]=P(String(C))}),keyFor:T(function(C){var h;for(h in D(C),o)if(o[h]===C)return h})})}},18415:function(te,Y,e){"use strict";var l,i,u,T=e(62072),D=e(53308),o=e(94908).Symbol,P=e(29366),C=e(92842),h=e(13304),y=Object.create,t=Object.defineProperties,r=Object.defineProperty;if("function"==typeof o)try{String(o()),u=!0}catch{}else o=null;i=function(c){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return l(c)},te.exports=l=function f(c){var m;if(this instanceof f)throw new TypeError("Symbol is not a constructor");return u?o(c):(m=y(i.prototype),c=void 0===c?"":String(c),t(m,{__description__:T("",c),__name__:T("",P(c))}))},C(l),h(l),t(i.prototype,{constructor:T(l),toString:T("",function(){return this.__name__})}),t(l.prototype,{toString:T(function(){return"Symbol ("+D(this).__description__+")"}),valueOf:T(function(){return D(this)})}),r(l.prototype,l.toPrimitive,T("",function(){var f=D(this);return"symbol"==typeof f?f:f.toString()})),r(l.prototype,l.toStringTag,T("c","Symbol")),r(i.prototype,l.toStringTag,T("c",l.prototype[l.toStringTag])),r(i.prototype,l.toPrimitive,T("c",l.prototype[l.toPrimitive]))},53308:function(te,Y,e){"use strict";var T=e(82276);te.exports=function(D){if(!T(D))throw new TypeError(D+" is not a symbol");return D}},83522:function(te,Y,e){"use strict";te.exports=e(96402)()?WeakMap:e(329)},96402:function(te){"use strict";te.exports=function(){var Y,e;if("function"!=typeof WeakMap)return!1;try{Y=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!("[object WeakMap]"!==String(Y)||"function"!=typeof Y.set||Y.set({},1)!==Y||"function"!=typeof Y.delete||"function"!=typeof Y.has||"one"!==Y.get(e))}},96416:function(te){"use strict";te.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},329:function(te,Y,e){"use strict";var m,T=e(95296),D=e(1496),o=e(98976),P=e(36672),C=e(43043),h=e(62072),y=e(66661),t=e(27515),r=e(8260).toStringTag,l=e(96416),i=Array.isArray,u=Object.defineProperty,f=Object.prototype.hasOwnProperty,c=Object.getPrototypeOf;te.exports=m=function(){var b,a=arguments[0];if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");return b=l&&D&&WeakMap!==m?D(new WeakMap,c(this)):this,T(a)&&(i(a)||(a=y(a))),u(b,"__weakMapData__",h("c","$weakMap$"+C())),a&&t(a,function(p){P(p),b.set(p[0],p[1])}),b},l&&(D&&D(m,WeakMap),m.prototype=Object.create(WeakMap.prototype,{constructor:h(m)})),Object.defineProperties(m.prototype,{delete:h(function(a){return!!f.call(o(a),this.__weakMapData__)&&(delete a[this.__weakMapData__],!0)}),get:h(function(a){if(f.call(o(a),this.__weakMapData__))return a[this.__weakMapData__]}),has:h(function(a){return f.call(o(a),this.__weakMapData__)}),set:h(function(a,b){return u(o(a),this.__weakMapData__,h("c",b)),this}),toString:h(function(){return"[object WeakMap]"})}),u(m.prototype,r,h("c","WeakMap"))},15398:function(te){"use strict";var T,Y="object"==typeof Reflect?Reflect:null,e=Y&&"function"==typeof Y.apply?Y.apply:function(v,A,x){return Function.prototype.apply.call(v,A,x)};T=Y&&"function"==typeof Y.ownKeys?Y.ownKeys:Object.getOwnPropertySymbols?function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:function(v){return Object.getOwnPropertyNames(v)};var o=Number.isNaN||function(v){return v!=v};function P(){P.init.call(this)}te.exports=P,te.exports.once=function a(s,v){return new Promise(function(A,x){function E(M){s.removeListener(v,g),x(M)}function g(){"function"==typeof s.removeListener&&s.removeListener("error",E),A([].slice.call(arguments))}p(s,v,g,{once:!0}),"error"!==v&&function b(s,v,A){"function"==typeof s.on&&p(s,"error",v,A)}(s,E,{once:!0})})},P.EventEmitter=P,P.prototype._events=void 0,P.prototype._eventsCount=0,P.prototype._maxListeners=void 0;var C=10;function h(s){if("function"!=typeof s)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)}function y(s){return void 0===s._maxListeners?P.defaultMaxListeners:s._maxListeners}function t(s,v,A,x){var E,g,M;if(h(A),void 0===(g=s._events)?(g=s._events=Object.create(null),s._eventsCount=0):(void 0!==g.newListener&&(s.emit("newListener",v,A.listener?A.listener:A),g=s._events),M=g[v]),void 0===M)M=g[v]=A,++s._eventsCount;else if("function"==typeof M?M=g[v]=x?[A,M]:[M,A]:x?M.unshift(A):M.push(A),(E=y(s))>0&&M.length>E&&!M.warned){M.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=s,w.type=v,w.count=M.length,function D(s){console&&console.warn&&console.warn(s)}(w)}return s}function r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(s,v,A){var x={fired:!1,wrapFn:void 0,target:s,type:v,listener:A},E=r.bind(x);return E.listener=A,x.wrapFn=E,E}function i(s,v,A){var x=s._events;if(void 0===x)return[];var E=x[v];return void 0===E?[]:"function"==typeof E?A?[E.listener||E]:[E]:A?function m(s){for(var v=new Array(s.length),A=0;A<v.length;++A)v[A]=s[A].listener||s[A];return v}(E):f(E,E.length)}function u(s){var v=this._events;if(void 0!==v){var A=v[s];if("function"==typeof A)return 1;if(void 0!==A)return A.length}return 0}function f(s,v){for(var A=new Array(v),x=0;x<v;++x)A[x]=s[x];return A}function p(s,v,A,x){if("function"==typeof s.on)x.once?s.once(v,A):s.on(v,A);else{if("function"!=typeof s.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof s);s.addEventListener(v,function E(g){x.once&&s.removeEventListener(v,E),A(g)})}}Object.defineProperty(P,"defaultMaxListeners",{enumerable:!0,get:function(){return C},set:function(s){if("number"!=typeof s||s<0||o(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");C=s}}),P.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},P.prototype.setMaxListeners=function(v){if("number"!=typeof v||v<0||o(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this},P.prototype.getMaxListeners=function(){return y(this)},P.prototype.emit=function(v){for(var A=[],x=1;x<arguments.length;x++)A.push(arguments[x]);var E="error"===v,g=this._events;if(void 0!==g)E=E&&void 0===g.error;else if(!E)return!1;if(E){var M;if(A.length>0&&(M=A[0]),M instanceof Error)throw M;var w=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw w.context=M,w}var n=g[v];if(void 0===n)return!1;if("function"==typeof n)e(n,this,A);else{var S=n.length,d=f(n,S);for(x=0;x<S;++x)e(d[x],this,A)}return!0},P.prototype.on=P.prototype.addListener=function(v,A){return t(this,v,A,!1)},P.prototype.prependListener=function(v,A){return t(this,v,A,!0)},P.prototype.once=function(v,A){return h(A),this.on(v,l(this,v,A)),this},P.prototype.prependOnceListener=function(v,A){return h(A),this.prependListener(v,l(this,v,A)),this},P.prototype.off=P.prototype.removeListener=function(v,A){var x,E,g,M,w;if(h(A),void 0===(E=this._events))return this;if(void 0===(x=E[v]))return this;if(x===A||x.listener===A)0==--this._eventsCount?this._events=Object.create(null):(delete E[v],E.removeListener&&this.emit("removeListener",v,x.listener||A));else if("function"!=typeof x){for(g=-1,M=x.length-1;M>=0;M--)if(x[M]===A||x[M].listener===A){w=x[M].listener,g=M;break}if(g<0)return this;0===g?x.shift():function c(s,v){for(;v+1<s.length;v++)s[v]=s[v+1];s.pop()}(x,g),1===x.length&&(E[v]=x[0]),void 0!==E.removeListener&&this.emit("removeListener",v,w||A)}return this},P.prototype.removeAllListeners=function(v){var A,x,E;if(void 0===(x=this._events))return this;if(void 0===x.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==x[v]&&(0==--this._eventsCount?this._events=Object.create(null):delete x[v]),this;if(0===arguments.length){var M,g=Object.keys(x);for(E=0;E<g.length;++E)"removeListener"!==(M=g[E])&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(A=x[v]))this.removeListener(v,A);else if(void 0!==A)for(E=A.length-1;E>=0;E--)this.removeListener(v,A[E]);return this},P.prototype.listeners=function(v){return i(this,v,!0)},P.prototype.rawListeners=function(v){return i(this,v,!1)},P.listenerCount=function(s,v){return"function"==typeof s.listenerCount?s.listenerCount(v):u.call(s,v)},P.prototype.listenerCount=u,P.prototype.eventNames=function(){return this._eventsCount>0?T(this._events):[]}},60774:function(te){var Y=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};te.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return Y()}try{return __global__||Y()}finally{delete Object.prototype.__global__}}()},94908:function(te,Y,e){"use strict";te.exports=e(51152)()?globalThis:e(60774)},51152:function(te){"use strict";te.exports=function(){return!("object"!=typeof globalThis||!globalThis)&&globalThis.Array===Array}},92770:function(te,Y,e){"use strict";var T=e(18546);te.exports=function(D){var o=typeof D;if("string"===o){var P=D;if(0==(D=+D)&&T(P))return!1}else if("number"!==o)return!1;return D-D<1}},30120:function(te,Y,e){var T=e(90660);te.exports=function D(o,P,C){if(!o)throw new TypeError("must specify data as first parameter");if(C=0|+(C||0),Array.isArray(o)&&o[0]&&"number"==typeof o[0][0]){var t,r,l,i,h=o[0].length,y=o.length*h;(!P||"string"==typeof P)&&(P=new(T(P||"float32"))(y+C));var u=P.length-C;if(y!==u)throw new Error("source length "+y+" ("+h+"x"+o.length+") does not match destination length "+u);for(t=0,l=C;t<o.length;t++)for(r=0;r<h;r++)P[l++]=null===o[t][r]?NaN:o[t][r]}else if(P&&"string"!=typeof P)P.set(o,C);else{var f=T(P||"float32");if(Array.isArray(o)||"array"===P)for(t=0,l=C,i=(P=new f(o.length+C)).length;l<i;l++,t++)P[l]=null===o[t]?NaN:o[t];else 0===C?P=new f(o):(P=new f(o.length+C)).set(o,C)}return P}},68016:function(te,Y,e){"use strict";var T=e(53313),D=[32,126];te.exports=function o(P){var C=(P=P||{}).shape?P.shape:P.canvas?[P.canvas.width,P.canvas.height]:[512,512],h=P.canvas||document.createElement("canvas"),y=P.font,t="number"==typeof P.step?[P.step,P.step]:P.step||[32,32],r=P.chars||D;if(y&&"string"!=typeof y&&(y=T(y)),Array.isArray(r)){if(2===r.length&&"number"==typeof r[0]&&"number"==typeof r[1]){for(var l=[],i=r[0],u=0;i<=r[1];i++)l[u++]=String.fromCharCode(i);r=l}}else r=String(r).split("");C=C.slice(),h.width=C[0],h.height=C[1];var f=h.getContext("2d");f.fillStyle="#000",f.fillRect(0,0,h.width,h.height),f.font=y,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#fff";var c=t[0]/2,m=t[1]/2;for(i=0;i<r.length;i++)f.fillText(r[i],c,m),(c+=t[0])>C[0]-t[0]/2&&(c=t[0]/2,m+=t[1]);return h}},32879:function(te){"use strict";function Y(r,P){P||(P={}),("string"==typeof r||Array.isArray(r))&&(P.family=r);var C=Array.isArray(P.family)?P.family.join(", "):P.family;if(!C)throw Error("`family` must be defined");var h=P.size||P.fontSize||P.em||48,l=(r=[P.style||P.fontStyle||"",P.weight||P.fontWeight||"",h].join(" ")+"px "+C,P.origin||"top");if(Y.cache[C]&&h<=Y.cache[C].em)return e(Y.cache[C],l);var i=P.canvas||Y.canvas,u=i.getContext("2d"),f={upper:void 0!==P.upper?P.upper:"H",lower:void 0!==P.lower?P.lower:"x",descent:void 0!==P.descent?P.descent:"p",ascent:void 0!==P.ascent?P.ascent:"h",tittle:void 0!==P.tittle?P.tittle:"i",overshoot:void 0!==P.overshoot?P.overshoot:"O"},c=Math.ceil(1.5*h);i.height=c,i.width=.5*c,u.font=r;var m="H",a={top:0};u.clearRect(0,0,c,c),u.textBaseline="top",u.fillStyle="black",u.fillText(m,0,0);var b=T(u.getImageData(0,0,c,c));u.clearRect(0,0,c,c),u.textBaseline="bottom",u.fillText(m,0,c);var p=T(u.getImageData(0,0,c,c));a.lineHeight=a.bottom=c-p+b,u.clearRect(0,0,c,c),u.textBaseline="alphabetic",u.fillText(m,0,c);var v=c-T(u.getImageData(0,0,c,c))-1+b;a.baseline=a.alphabetic=v,u.clearRect(0,0,c,c),u.textBaseline="middle",u.fillText(m,0,.5*c);var A=T(u.getImageData(0,0,c,c));a.median=a.middle=c-A-1+b-.5*c,u.clearRect(0,0,c,c),u.textBaseline="hanging",u.fillText(m,0,.5*c);var x=T(u.getImageData(0,0,c,c));a.hanging=c-x-1+b-.5*c,u.clearRect(0,0,c,c),u.textBaseline="ideographic",u.fillText(m,0,c);var E=T(u.getImageData(0,0,c,c));if(a.ideographic=c-E-1+b,f.upper&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.upper,0,0),a.upper=T(u.getImageData(0,0,c,c)),a.capHeight=a.baseline-a.upper),f.lower&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.lower,0,0),a.lower=T(u.getImageData(0,0,c,c)),a.xHeight=a.baseline-a.lower),f.tittle&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.tittle,0,0),a.tittle=T(u.getImageData(0,0,c,c))),f.ascent&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.ascent,0,0),a.ascent=T(u.getImageData(0,0,c,c))),f.descent&&(u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.descent,0,0),a.descent=D(u.getImageData(0,0,c,c))),f.overshoot){u.clearRect(0,0,c,c),u.textBaseline="top",u.fillText(f.overshoot,0,0);var g=D(u.getImageData(0,0,c,c));a.overshoot=g-v}for(var M in a)a[M]/=h;return a.em=h,Y.cache[C]=a,e(a,l)}function e(o,P){var C={};for(var h in"string"==typeof P&&(P=o[P]),o)"em"!==h&&(C[h]=o[h]-P);return C}function T(o){for(var P=o.height,C=o.data,h=3;h<C.length;h+=4)if(0!==C[h])return Math.floor(.25*(h-3)/P)}function D(o){for(var P=o.height,C=o.data,h=C.length-1;h>0;h-=4)if(0!==C[h])return Math.floor(.25*(h-3)/P)}te.exports=Y,Y.canvas=document.createElement("canvas"),Y.cache={}},31353:function(te,Y,e){"use strict";var T=e(85395),D=Object.prototype.toString,o=Object.prototype.hasOwnProperty;te.exports=function(r,l,i){if(!T(l))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=i),"[object Array]"===D.call(r)?function(r,l,i){for(var u=0,f=r.length;u<f;u++)o.call(r,u)&&(null==i?l(r[u],u,r):l.call(i,r[u],u,r))}(r,l,u):"string"==typeof r?function(r,l,i){for(var u=0,f=r.length;u<f;u++)null==i?l(r.charAt(u),u,r):l.call(i,r.charAt(u),u,r)}(r,l,u):function(r,l,i){for(var u in r)o.call(r,u)&&(null==i?l(r[u],u,r):l.call(i,r[u],u,r))}(r,l,u)}},73047:function(te){"use strict";var e=Array.prototype.slice,T=Object.prototype.toString;te.exports=function(P){var C=this;if("function"!=typeof C||"[object Function]"!==T.call(C))throw new TypeError("Function.prototype.bind called on incompatible "+C);for(var y,h=e.call(arguments,1),r=Math.max(0,C.length-h.length),l=[],i=0;i<r;i++)l.push("$"+i);if(y=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof y){var f=C.apply(this,h.concat(e.call(arguments)));return Object(f)===f?f:this}return C.apply(P,h.concat(e.call(arguments)))}),C.prototype){var u=function(){};u.prototype=C.prototype,y.prototype=new u,u.prototype=null}return y}},77575:function(te,Y,e){"use strict";var T=e(73047);te.exports=Function.prototype.bind||T},86249:function(te){te.exports=function Y(e,T){if("string"!=typeof e)throw new TypeError("must specify type string");if(T=T||{},typeof document>"u"&&!T.canvas)return null;var D=T.canvas||document.createElement("canvas");"number"==typeof T.width&&(D.width=T.width),"number"==typeof T.height&&(D.height=T.height);var P,o=T;try{var C=[e];0===e.indexOf("webgl")&&C.push("experimental-"+e);for(var h=0;h<C.length;h++)if(P=D.getContext(C[h],o))return P}catch{P=null}return P||null}},68318:function(te,Y,e){"use strict";var T,D=SyntaxError,o=Function,P=TypeError,C=function(S){try{return o('"use strict"; return ('+S+").constructor;")()}catch{}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch{h=null}var y=function(){throw new P},t=h?function(){try{return y}catch{try{return h(arguments,"callee").get}catch{return y}}}():y,r=e(57877)(),l=Object.getPrototypeOf||function(S){return S.__proto__},i={},u=typeof Uint8Array>"u"?T:l(Uint8Array),f={"%AggregateError%":typeof AggregateError>"u"?T:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?T:ArrayBuffer,"%ArrayIteratorPrototype%":r?l([][Symbol.iterator]()):T,"%AsyncFromSyncIteratorPrototype%":T,"%AsyncFunction%":i,"%AsyncGenerator%":i,"%AsyncGeneratorFunction%":i,"%AsyncIteratorPrototype%":i,"%Atomics%":typeof Atomics>"u"?T:Atomics,"%BigInt%":typeof BigInt>"u"?T:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?T:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?T:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?T:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?T:Float32Array,"%Float64Array%":typeof Float64Array>"u"?T:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?T:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":i,"%Int8Array%":typeof Int8Array>"u"?T:Int8Array,"%Int16Array%":typeof Int16Array>"u"?T:Int16Array,"%Int32Array%":typeof Int32Array>"u"?T:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?l(l([][Symbol.iterator]())):T,"%JSON%":"object"==typeof JSON?JSON:T,"%Map%":typeof Map>"u"?T:Map,"%MapIteratorPrototype%":typeof Map>"u"||!r?T:l((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?T:Promise,"%Proxy%":typeof Proxy>"u"?T:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?T:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?T:Set,"%SetIteratorPrototype%":typeof Set>"u"||!r?T:l((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?T:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?l(""[Symbol.iterator]()):T,"%Symbol%":r?Symbol:T,"%SyntaxError%":D,"%ThrowTypeError%":t,"%TypedArray%":u,"%TypeError%":P,"%Uint8Array%":typeof Uint8Array>"u"?T:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?T:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?T:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?T:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?T:WeakMap,"%WeakRef%":typeof WeakRef>"u"?T:WeakRef,"%WeakSet%":typeof WeakSet>"u"?T:WeakSet};try{null.error}catch(S){var c=l(l(S));f["%Error.prototype%"]=c}var m=function S(d){var I;if("%AsyncFunction%"===d)I=C("async function () {}");else if("%GeneratorFunction%"===d)I=C("function* () {}");else if("%AsyncGeneratorFunction%"===d)I=C("async function* () {}");else if("%AsyncGenerator%"===d){var L=S("%AsyncGeneratorFunction%");L&&(I=L.prototype)}else if("%AsyncIteratorPrototype%"===d){var B=S("%AsyncGenerator%");B&&(I=l(B.prototype))}return f[d]=I,I},a={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=e(77575),p=e(35065),s=b.call(Function.call,Array.prototype.concat),v=b.call(Function.apply,Array.prototype.splice),A=b.call(Function.call,String.prototype.replace),x=b.call(Function.call,String.prototype.slice),E=b.call(Function.call,RegExp.prototype.exec),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,n=function(d,I){var B,L=d;if(p(a,L)&&(L="%"+(B=a[L])[0]+"%"),p(f,L)){var k=f[L];if(k===i&&(k=m(L)),typeof k>"u"&&!I)throw new P("intrinsic "+d+" exists, but is not available. Please file an issue!");return{alias:B,name:L,value:k}}throw new D("intrinsic "+d+" does not exist!")};te.exports=function(d,I){if("string"!=typeof d||0===d.length)throw new P("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof I)throw new P('"allowMissing" argument must be a boolean');if(null===E(/^%?[^%]*%?$/,d))throw new D("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var L=function(d){var I=x(d,0,1),L=x(d,-1);if("%"===I&&"%"!==L)throw new D("invalid intrinsic syntax, expected closing `%`");if("%"===L&&"%"!==I)throw new D("invalid intrinsic syntax, expected opening `%`");var B=[];return A(d,g,function(k,z,O,F){B[B.length]=O?A(F,M,"$1"):z||k}),B}(d),B=L.length>0?L[0]:"",k=n("%"+B+"%",I),z=k.name,O=k.value,F=!1,N=k.alias;N&&(B=N[0],v(L,s([0,1],N)));for(var H=1,X=!0;H<L.length;H+=1){var ne=L[H],ie=x(ne,0,1),ue=x(ne,-1);if(('"'===ie||"'"===ie||"`"===ie||'"'===ue||"'"===ue||"`"===ue)&&ie!==ue)throw new D("property names with quotes must have matching quotes");if(("constructor"===ne||!X)&&(F=!0),p(f,z="%"+(B+="."+ne)+"%"))O=f[z];else if(null!=O){if(!(ne in O)){if(!I)throw new P("base intrinsic for "+d+" exists, but the property is not available.");return}if(h&&H+1>=L.length){var J=h(O,ne);O=(X=!!J)&&"get"in J&&!("originalValue"in J.get)?J.get:O[ne]}else X=p(O,ne),O=O[ne];X&&!F&&(f[z]=O)}}return O}},85400:function(te){te.exports=function Y(e,T){var D=T[0],o=T[1],P=T[2],C=T[3],h=T[4],y=T[5],t=T[6],r=T[7],l=T[8],i=T[9],u=T[10],f=T[11],c=T[12],m=T[13],a=T[14],b=T[15];return e[0]=y*(u*b-f*a)-i*(t*b-r*a)+m*(t*f-r*u),e[1]=-(o*(u*b-f*a)-i*(P*b-C*a)+m*(P*f-C*u)),e[2]=o*(t*b-r*a)-y*(P*b-C*a)+m*(P*r-C*t),e[3]=-(o*(t*f-r*u)-y*(P*f-C*u)+i*(P*r-C*t)),e[4]=-(h*(u*b-f*a)-l*(t*b-r*a)+c*(t*f-r*u)),e[5]=D*(u*b-f*a)-l*(P*b-C*a)+c*(P*f-C*u),e[6]=-(D*(t*b-r*a)-h*(P*b-C*a)+c*(P*r-C*t)),e[7]=D*(t*f-r*u)-h*(P*f-C*u)+l*(P*r-C*t),e[8]=h*(i*b-f*m)-l*(y*b-r*m)+c*(y*f-r*i),e[9]=-(D*(i*b-f*m)-l*(o*b-C*m)+c*(o*f-C*i)),e[10]=D*(y*b-r*m)-h*(o*b-C*m)+c*(o*r-C*y),e[11]=-(D*(y*f-r*i)-h*(o*f-C*i)+l*(o*r-C*y)),e[12]=-(h*(i*a-u*m)-l*(y*a-t*m)+c*(y*u-t*i)),e[13]=D*(i*a-u*m)-l*(o*a-P*m)+c*(o*u-P*i),e[14]=-(D*(y*a-t*m)-h*(o*a-P*m)+c*(o*t-P*y)),e[15]=D*(y*u-t*i)-h*(o*u-P*i)+l*(o*t-P*y),e}},42331:function(te){te.exports=function Y(e){var T=new Float32Array(16);return T[0]=e[0],T[1]=e[1],T[2]=e[2],T[3]=e[3],T[4]=e[4],T[5]=e[5],T[6]=e[6],T[7]=e[7],T[8]=e[8],T[9]=e[9],T[10]=e[10],T[11]=e[11],T[12]=e[12],T[13]=e[13],T[14]=e[14],T[15]=e[15],T}},31042:function(te){te.exports=function Y(e,T){return e[0]=T[0],e[1]=T[1],e[2]=T[2],e[3]=T[3],e[4]=T[4],e[5]=T[5],e[6]=T[6],e[7]=T[7],e[8]=T[8],e[9]=T[9],e[10]=T[10],e[11]=T[11],e[12]=T[12],e[13]=T[13],e[14]=T[14],e[15]=T[15],e}},11902:function(te){te.exports=function Y(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(te){te.exports=function Y(e){var T=e[0],D=e[1],o=e[2],P=e[3],C=e[4],h=e[5],y=e[6],t=e[7],r=e[8],l=e[9],i=e[10],u=e[11],f=e[12],c=e[13],m=e[14],a=e[15];return(T*h-D*C)*(i*a-u*m)-(T*y-o*C)*(l*a-u*c)+(T*t-P*C)*(l*m-i*c)+(D*y-o*h)*(r*a-u*f)-(D*t-P*h)*(r*m-i*f)+(o*t-P*y)*(r*c-l*f)}},27812:function(te){te.exports=function Y(e,T){var D=T[0],o=T[1],P=T[2],C=T[3],h=D+D,y=o+o,t=P+P,r=D*h,l=o*h,i=o*y,u=P*h,f=P*y,c=P*t,m=C*h,a=C*y,b=C*t;return e[0]=1-i-c,e[1]=l+b,e[2]=u-a,e[3]=0,e[4]=l-b,e[5]=1-r-c,e[6]=f+m,e[7]=0,e[8]=u+a,e[9]=f-m,e[10]=1-r-i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(te){te.exports=function Y(e,T,D){var o,P,C,h=D[0],y=D[1],t=D[2],r=Math.sqrt(h*h+y*y+t*t);return Math.abs(r)<1e-6?null:(h*=r=1/r,y*=r,t*=r,o=Math.sin(T),P=Math.cos(T),e[0]=h*h*(C=1-P)+P,e[1]=y*h*C+t*o,e[2]=t*h*C-y*o,e[3]=0,e[4]=h*y*C-t*o,e[5]=y*y*C+P,e[6]=t*y*C+h*o,e[7]=0,e[8]=h*t*C+y*o,e[9]=y*t*C-h*o,e[10]=t*t*C+P,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(te){te.exports=function Y(e,T,D){var o=T[0],P=T[1],C=T[2],h=T[3],y=o+o,t=P+P,r=C+C,l=o*y,i=o*t,u=o*r,f=P*t,c=P*r,m=C*r,a=h*y,b=h*t,p=h*r;return e[0]=1-(f+m),e[1]=i+p,e[2]=u-b,e[3]=0,e[4]=i-p,e[5]=1-(l+m),e[6]=c+a,e[7]=0,e[8]=u+b,e[9]=c-a,e[10]=1-(l+f),e[11]=0,e[12]=D[0],e[13]=D[1],e[14]=D[2],e[15]=1,e}},81472:function(te){te.exports=function Y(e,T){return e[0]=T[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=T[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=T[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(te){te.exports=function Y(e,T){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=T[0],e[13]=T[1],e[14]=T[2],e[15]=1,e}},75262:function(te){te.exports=function Y(e,T){var D=Math.sin(T),o=Math.cos(T);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=D,e[7]=0,e[8]=0,e[9]=-D,e[10]=o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(te){te.exports=function Y(e,T){var D=Math.sin(T),o=Math.cos(T);return e[0]=o,e[1]=0,e[2]=-D,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=D,e[9]=0,e[10]=o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(te){te.exports=function Y(e,T){var D=Math.sin(T),o=Math.cos(T);return e[0]=o,e[1]=D,e[2]=0,e[3]=0,e[4]=-D,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(te){te.exports=function Y(e,T,D,o,P,C,h){var y=1/(D-T),t=1/(P-o),r=1/(C-h);return e[0]=2*C*y,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*C*t,e[6]=0,e[7]=0,e[8]=(D+T)*y,e[9]=(P+o)*t,e[10]=(h+C)*r,e[11]=-1,e[12]=0,e[13]=0,e[14]=h*C*2*r,e[15]=0,e}},71551:function(te){te.exports=function Y(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(te,Y,e){te.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(te){te.exports=function Y(e,T){var D=T[0],o=T[1],P=T[2],C=T[3],h=T[4],y=T[5],t=T[6],r=T[7],l=T[8],i=T[9],u=T[10],f=T[11],c=T[12],m=T[13],a=T[14],b=T[15],p=D*y-o*h,s=D*t-P*h,v=D*r-C*h,A=o*t-P*y,x=o*r-C*y,E=P*r-C*t,g=l*m-i*c,M=l*a-u*c,w=l*b-f*c,n=i*a-u*m,S=i*b-f*m,d=u*b-f*a,I=p*d-s*S+v*n+A*w-x*M+E*g;return I?(e[0]=(y*d-t*S+r*n)*(I=1/I),e[1]=(P*S-o*d-C*n)*I,e[2]=(m*E-a*x+b*A)*I,e[3]=(u*x-i*E-f*A)*I,e[4]=(t*w-h*d-r*M)*I,e[5]=(D*d-P*w+C*M)*I,e[6]=(a*v-c*E-b*s)*I,e[7]=(l*E-u*v+f*s)*I,e[8]=(h*S-y*w+r*g)*I,e[9]=(o*w-D*S-C*g)*I,e[10]=(c*x-m*v+b*p)*I,e[11]=(i*v-l*x-f*p)*I,e[12]=(y*M-h*n-t*g)*I,e[13]=(D*n-o*M+P*g)*I,e[14]=(m*s-c*A-a*p)*I,e[15]=(l*A-i*s+u*p)*I,e):null}},65551:function(te,Y,e){var T=e(71551);te.exports=function D(o,P,C,h){var y,t,r,l,i,u,f,c,m,a,b=P[0],p=P[1],s=P[2],v=h[0],A=h[1],x=h[2],E=C[0],g=C[1],M=C[2];return Math.abs(b-E)<1e-6&&Math.abs(p-g)<1e-6&&Math.abs(s-M)<1e-6?T(o):(f=b-E,c=p-g,m=s-M,y=A*(m*=a=1/Math.sqrt(f*f+c*c+m*m))-x*(c*=a),t=x*(f*=a)-v*m,r=v*c-A*f,(a=Math.sqrt(y*y+t*t+r*r))?(y*=a=1/a,t*=a,r*=a):(y=0,t=0,r=0),l=c*r-m*t,i=m*y-f*r,u=f*t-c*y,(a=Math.sqrt(l*l+i*i+u*u))?(l*=a=1/a,i*=a,u*=a):(l=0,i=0,u=0),o[0]=y,o[1]=l,o[2]=f,o[3]=0,o[4]=t,o[5]=i,o[6]=c,o[7]=0,o[8]=r,o[9]=u,o[10]=m,o[11]=0,o[12]=-(y*b+t*p+r*s),o[13]=-(l*b+i*p+u*s),o[14]=-(f*b+c*p+m*s),o[15]=1,o)}},91362:function(te){te.exports=function Y(e,T,D){var o=T[0],P=T[1],C=T[2],h=T[3],y=T[4],t=T[5],r=T[6],l=T[7],i=T[8],u=T[9],f=T[10],c=T[11],m=T[12],a=T[13],b=T[14],p=T[15],s=D[0],v=D[1],A=D[2],x=D[3];return e[0]=s*o+v*y+A*i+x*m,e[1]=s*P+v*t+A*u+x*a,e[2]=s*C+v*r+A*f+x*b,e[3]=s*h+v*l+A*c+x*p,e[4]=(s=D[4])*o+(v=D[5])*y+(A=D[6])*i+(x=D[7])*m,e[5]=s*P+v*t+A*u+x*a,e[6]=s*C+v*r+A*f+x*b,e[7]=s*h+v*l+A*c+x*p,e[8]=(s=D[8])*o+(v=D[9])*y+(A=D[10])*i+(x=D[11])*m,e[9]=s*P+v*t+A*u+x*a,e[10]=s*C+v*r+A*f+x*b,e[11]=s*h+v*l+A*c+x*p,e[12]=(s=D[12])*o+(v=D[13])*y+(A=D[14])*i+(x=D[15])*m,e[13]=s*P+v*t+A*u+x*a,e[14]=s*C+v*r+A*f+x*b,e[15]=s*h+v*l+A*c+x*p,e}},60378:function(te){te.exports=function Y(e,T,D,o,P,C,h){var y=1/(T-D),t=1/(o-P),r=1/(C-h);return e[0]=-2*y,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*r,e[11]=0,e[12]=(T+D)*y,e[13]=(P+o)*t,e[14]=(h+C)*r,e[15]=1,e}},7864:function(te){te.exports=function Y(e,T,D,o,P){var C=1/Math.tan(T/2),h=1/(o-P);return e[0]=C/D,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=C,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(P+o)*h,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*P*o*h,e[15]=0,e}},35279:function(te){te.exports=function Y(e,T,D,o){var P=Math.tan(T.upDegrees*Math.PI/180),C=Math.tan(T.downDegrees*Math.PI/180),h=Math.tan(T.leftDegrees*Math.PI/180),y=Math.tan(T.rightDegrees*Math.PI/180),t=2/(h+y),r=2/(P+C);return e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=-(h-y)*t*.5,e[9]=(P-C)*r*.5,e[10]=o/(D-o),e[11]=-1,e[12]=0,e[13]=0,e[14]=o*D/(D-o),e[15]=0,e}},65074:function(te){te.exports=function Y(e,T,D,o){var t,r,l,i,u,f,c,m,a,b,p,s,v,A,x,E,g,M,w,n,S,d,I,L,P=o[0],C=o[1],h=o[2],y=Math.sqrt(P*P+C*C+h*h);return Math.abs(y)<1e-6?null:(P*=y=1/y,C*=y,h*=y,t=Math.sin(D),r=Math.cos(D),u=T[1],f=T[2],c=T[3],a=T[5],b=T[6],p=T[7],v=T[9],A=T[10],x=T[11],w=P*C*(l=1-r)-h*t,n=C*C*l+r,S=h*C*l+P*t,d=P*h*l+C*t,I=C*h*l-P*t,L=h*h*l+r,e[0]=(i=T[0])*(E=P*P*l+r)+(m=T[4])*(g=C*P*l+h*t)+(s=T[8])*(M=h*P*l-C*t),e[1]=u*E+a*g+v*M,e[2]=f*E+b*g+A*M,e[3]=c*E+p*g+x*M,e[4]=i*w+m*n+s*S,e[5]=u*w+a*n+v*S,e[6]=f*w+b*n+A*S,e[7]=c*w+p*n+x*S,e[8]=i*d+m*I+s*L,e[9]=u*d+a*I+v*L,e[10]=f*d+b*I+A*L,e[11]=c*d+p*I+x*L,T!==e&&(e[12]=T[12],e[13]=T[13],e[14]=T[14],e[15]=T[15]),e)}},35545:function(te){te.exports=function Y(e,T,D){var o=Math.sin(D),P=Math.cos(D),C=T[4],h=T[5],y=T[6],t=T[7],r=T[8],l=T[9],i=T[10],u=T[11];return T!==e&&(e[0]=T[0],e[1]=T[1],e[2]=T[2],e[3]=T[3],e[12]=T[12],e[13]=T[13],e[14]=T[14],e[15]=T[15]),e[4]=C*P+r*o,e[5]=h*P+l*o,e[6]=y*P+i*o,e[7]=t*P+u*o,e[8]=r*P-C*o,e[9]=l*P-h*o,e[10]=i*P-y*o,e[11]=u*P-t*o,e}},94918:function(te){te.exports=function Y(e,T,D){var o=Math.sin(D),P=Math.cos(D),C=T[0],h=T[1],y=T[2],t=T[3],r=T[8],l=T[9],i=T[10],u=T[11];return T!==e&&(e[4]=T[4],e[5]=T[5],e[6]=T[6],e[7]=T[7],e[12]=T[12],e[13]=T[13],e[14]=T[14],e[15]=T[15]),e[0]=C*P-r*o,e[1]=h*P-l*o,e[2]=y*P-i*o,e[3]=t*P-u*o,e[8]=C*o+r*P,e[9]=h*o+l*P,e[10]=y*o+i*P,e[11]=t*o+u*P,e}},15692:function(te){te.exports=function Y(e,T,D){var o=Math.sin(D),P=Math.cos(D),C=T[0],h=T[1],y=T[2],t=T[3],r=T[4],l=T[5],i=T[6],u=T[7];return T!==e&&(e[8]=T[8],e[9]=T[9],e[10]=T[10],e[11]=T[11],e[12]=T[12],e[13]=T[13],e[14]=T[14],e[15]=T[15]),e[0]=C*P+r*o,e[1]=h*P+l*o,e[2]=y*P+i*o,e[3]=t*P+u*o,e[4]=r*P-C*o,e[5]=l*P-h*o,e[6]=i*P-y*o,e[7]=u*P-t*o,e}},10789:function(te){te.exports=function Y(e,T,D){var o=D[0],P=D[1],C=D[2];return e[0]=T[0]*o,e[1]=T[1]*o,e[2]=T[2]*o,e[3]=T[3]*o,e[4]=T[4]*P,e[5]=T[5]*P,e[6]=T[6]*P,e[7]=T[7]*P,e[8]=T[8]*C,e[9]=T[9]*C,e[10]=T[10]*C,e[11]=T[11]*C,e[12]=T[12],e[13]=T[13],e[14]=T[14],e[15]=T[15],e}},6726:function(te){te.exports=function Y(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(te){te.exports=function Y(e,T,D){var h,y,t,r,l,i,u,f,c,m,a,b,o=D[0],P=D[1],C=D[2];return T===e?(e[12]=T[0]*o+T[4]*P+T[8]*C+T[12],e[13]=T[1]*o+T[5]*P+T[9]*C+T[13],e[14]=T[2]*o+T[6]*P+T[10]*C+T[14],e[15]=T[3]*o+T[7]*P+T[11]*C+T[15]):(y=T[1],t=T[2],r=T[3],l=T[4],i=T[5],u=T[6],f=T[7],c=T[8],m=T[9],a=T[10],b=T[11],e[0]=h=T[0],e[1]=y,e[2]=t,e[3]=r,e[4]=l,e[5]=i,e[6]=u,e[7]=f,e[8]=c,e[9]=m,e[10]=a,e[11]=b,e[12]=h*o+l*P+c*C+T[12],e[13]=y*o+i*P+m*C+T[13],e[14]=t*o+u*P+a*C+T[14],e[15]=r*o+f*P+b*C+T[15]),e}},88654:function(te){te.exports=function Y(e,T){if(e===T){var D=T[1],o=T[2],P=T[3],C=T[6],h=T[7],y=T[11];e[1]=T[4],e[2]=T[8],e[3]=T[12],e[4]=D,e[6]=T[9],e[7]=T[13],e[8]=o,e[9]=C,e[11]=T[14],e[12]=P,e[13]=h,e[14]=y}else e[0]=T[0],e[1]=T[4],e[2]=T[8],e[3]=T[12],e[4]=T[1],e[5]=T[5],e[6]=T[9],e[7]=T[13],e[8]=T[2],e[9]=T[6],e[10]=T[10],e[11]=T[14],e[12]=T[3],e[13]=T[7],e[14]=T[11],e[15]=T[15];return e}},42505:function(te,Y,e){"use strict";var T=e(72791),D=e(71299),o=e(98580),P=e(12018),C=e(83522),h=e(25075),y=e(68016),t=e(58404),r=e(18863),l=e(10973),i=e(25677),u=e(75686),f=e(53545),c=e(56131),m=e(32879),a=e(30120),p=e(13547).nextPow2,s=new C,v=!1;if(document.body){var A=document.body.appendChild(document.createElement("div"));A.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(A).fontStretch&&(v=!0),document.body.removeChild(A)}var x=function(M){this.gl=function E(g){return"function"==typeof g&&g._gl&&g.prop&&g.texture&&g.buffer}(M)?(M={regl:M}).regl._gl:P(M),this.shader=s.get(this.gl),this.regl=this.shader?this.shader.regl:M.regl||o({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),s.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(l(M)?M:{})};x.prototype.createShader=function(){var M=this.regl,w=M({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:M.prop("count"),offset:M.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:M.this("sizeBuffer")},width:{offset:0,stride:8,buffer:M.this("sizeBuffer")},char:M.this("charBuffer"),position:M.this("position")},uniforms:{atlasSize:function(S,d){return[d.atlas.width,d.atlas.height]},atlasDim:function(S,d){return[d.atlas.cols,d.atlas.rows]},atlas:function(S,d){return d.atlas.texture},charStep:function(S,d){return d.atlas.step},em:function(S,d){return d.atlas.em},color:M.prop("color"),opacity:M.prop("opacity"),viewport:M.this("viewportArray"),scale:M.this("scale"),align:M.prop("align"),baseline:M.prop("baseline"),translate:M.this("translate"),positionOffset:M.prop("positionOffset")},primitive:"points",viewport:M.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:M,draw:w,atlas:{}}},x.prototype.update=function(M){var w=this;if("string"==typeof M)M={text:M};else if(!M)return;null!=(M=D(M,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(this.opacity=Array.isArray(M.opacity)?M.opacity.map(function(De){return parseFloat(De)}):parseFloat(M.opacity)),null!=M.viewport&&(this.viewport=r(M.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=M.kerning&&(this.kerning=M.kerning),null!=M.offset&&("number"==typeof M.offset&&(M.offset=[M.offset,0]),this.positionOffset=a(M.offset)),M.direction&&(this.direction=M.direction),M.range&&(this.range=M.range,this.scale=[1/(M.range[2]-M.range[0]),1/(M.range[3]-M.range[1])],this.translate=[-M.range[0],-M.range[1]]),M.scale&&(this.scale=M.scale),M.translate&&(this.translate=M.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!M.font&&(M.font=x.baseFontSize+"px sans-serif");var L,n=!1,S=!1;if(M.font&&(Array.isArray(M.font)?M.font:[M.font]).forEach(function(De,He){if("string"==typeof De)try{De=T.parse(De)}catch{De=T.parse(x.baseFontSize+"px "+De)}else De=T.parse(T.stringify(De));var rt=T.stringify({size:x.baseFontSize,family:De.family,stretch:v?De.stretch:void 0,variant:De.variant,weight:De.weight,style:De.style}),$e=i(De.size),Be=Math.round($e[0]*u($e[1]));if(Be!==w.fontSize[He]&&(S=!0,w.fontSize[He]=Be),!(w.font[He]&&rt==w.font[He].baseString||(n=!0,w.font[He]=x.fonts[rt],w.font[He]))){var ze=De.family.join(", "),tt=[De.style];De.style!=De.variant&&tt.push(De.variant),De.variant!=De.weight&&tt.push(De.weight),v&&De.weight!=De.stretch&&tt.push(De.stretch),w.font[He]={baseString:rt,family:ze,weight:De.weight,stretch:De.stretch,style:De.style,variant:De.variant,width:{},kerning:{},metrics:m(ze,{origin:"top",fontSize:x.baseFontSize,fontStyle:tt.join(" ")})},x.fonts[rt]=w.font[He]}}),(n||S)&&this.font.forEach(function(De,He){var rt=T.stringify({size:w.fontSize[He],family:De.family,stretch:v?De.stretch:void 0,variant:De.variant,weight:De.weight,style:De.style});w.fontAtlas[He]=w.shader.atlas[rt],w.fontAtlas[He]||(w.shader.atlas[rt]=w.fontAtlas[He]={fontString:rt,step:2*Math.ceil(w.fontSize[He]*De.metrics.bottom*.5),em:w.fontSize[He],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:w.regl.texture()}),null==M.text&&(M.text=w.text)}),"string"==typeof M.text&&M.position&&M.position.length>2){for(var d=Array(.5*M.position.length),I=0;I<d.length;I++)d[I]=M.text;M.text=d}if(null!=M.text||n){if(this.textOffsets=[0],Array.isArray(M.text)){this.count=M.text[0].length,this.counts=[this.count];for(var B=1;B<M.text.length;B++)this.textOffsets[B]=this.textOffsets[B-1]+M.text[B-1].length,this.count+=M.text[B].length,this.counts.push(M.text[B].length);this.text=M.text.join("")}else this.text=M.text,this.count=this.text.length,this.counts=[this.count];L=[],this.font.forEach(function(De,He){x.atlasContext.font=De.baseString;for(var rt=w.fontAtlas[He],$e=0;$e<w.text.length;$e++){var Be=w.text.charAt($e);if(null==rt.ids[Be]&&(rt.ids[Be]=rt.chars.length,rt.chars.push(Be),L.push(Be)),null==De.width[Be]&&(De.width[Be]=x.atlasContext.measureText(Be).width/x.baseFontSize,w.kerning)){var ze=[];for(var tt in De.width)ze.push(tt+Be,Be+tt);c(De.kerning,f(De.family,{pairs:ze}))}}})}if(M.position)if(M.position.length>2){for(var k=!M.position[0].length,z=t.mallocFloat(2*this.count),O=0,F=0;O<this.counts.length;O++){var N=this.counts[O];if(k)for(var H=0;H<N;H++)z[F++]=M.position[2*O],z[F++]=M.position[2*O+1];else for(var X=0;X<N;X++)z[F++]=M.position[O][0],z[F++]=M.position[O][1]}this.position.call?this.position({type:"float",data:z}):this.position=this.regl.buffer({type:"float",data:z}),t.freeFloat(z)}else this.position.destroy&&this.position.destroy(),this.position={constant:M.position};if(M.text||n){var ne=t.mallocUint8(this.count),ie=t.mallocFloat(2*this.count);this.textWidth=[];for(var ue=0,J=0;ue<this.counts.length;ue++){for(var j=this.counts[ue],W=this.font[ue]||this.font[0],V=this.fontAtlas[ue]||this.fontAtlas[0],K=0;K<j;K++){var ae=this.text.charAt(J),Q=this.text.charAt(J-1);if(ne[J]=V.ids[ae],ie[2*J]=W.width[ae],K){var se=ie[2*J-1]+.5*ie[2*J-2]+.5*ie[2*J];if(this.kerning){var de=W.kerning[Q+ae];de&&(se+=.001*de)}ie[2*J+1]=se}else ie[2*J+1]=.5*ie[2*J];J++}this.textWidth.push(ie.length?.5*ie[2*J-2]+ie[2*J-1]:0)}M.align||(M.align=this.align),this.charBuffer({data:ne,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ie,type:"float",usage:"stream"}),t.freeUint8(ne),t.freeFloat(ie),L.length&&this.font.forEach(function(De,He){var rt=w.fontAtlas[He],$e=rt.step,Be=Math.floor(x.maxAtlasSize/$e),ze=Math.min(Be,rt.chars.length),tt=Math.ceil(rt.chars.length/ze),lt=p(ze*$e),ut=p(tt*$e);rt.width=lt,rt.height=ut,rt.rows=tt,rt.cols=ze,rt.em&&rt.texture({data:y({canvas:x.atlasCanvas,font:rt.fontString,chars:rt.chars,shape:[lt,ut],step:[$e,$e]})})})}if(M.align&&(this.align=M.align,this.alignOffset=this.textWidth.map(function(De,He){var rt=Array.isArray(w.align)?w.align.length>1?w.align[He]:w.align[0]:w.align;if("number"==typeof rt)return rt;switch(rt){case"right":case"end":return-De;case"center":case"centre":case"middle":return.5*-De}return 0})),null==this.baseline&&null==M.baseline&&(M.baseline=0),null!=M.baseline&&(this.baseline=M.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(De,He){var rt=(w.font[He]||w.font[0]).metrics,$e=0;return $e+=.5*rt.bottom,-1*($e+="number"==typeof De?De-rt.baseline:-rt[De])})),null!=M.color)if(M.color||(M.color="transparent"),"string"!=typeof M.color&&isNaN(M.color)){var we;if("number"==typeof M.color[0]&&M.color.length>this.counts.length){var ye=M.color.length;we=t.mallocUint8(ye);for(var Pe=(M.color.subarray||M.color.slice).bind(M.color),Ie=0;Ie<ye;Ie+=4)we.set(h(Pe(Ie,Ie+4),"uint8"),Ie)}else{var Se=M.color.length;we=t.mallocUint8(4*Se);for(var xe=0;xe<Se;xe++)we.set(h(M.color[xe]||0,"uint8"),4*xe)}this.color=we}else this.color=h(M.color,"uint8");if(M.position||M.text||M.color||M.baseline||M.align||M.font||M.offset||M.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var Ge=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(Ge);for(var Ye=0;Ye<this.batch.length;Ye++)this.batch[Ye]={count:this.counts.length>1?this.counts[Ye]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ye]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*Ye,4*Ye+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ye]:this.opacity,baseline:null!=this.baselineOffset[Ye]?this.baselineOffset[Ye]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[Ye]?this.alignOffset[Ye]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ye]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*Ye,2*Ye+2):this.positionOffset}}else this.batch=this.count?[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:[]},x.prototype.destroy=function(){},x.prototype.kerning=!0,x.prototype.position={constant:new Float32Array(2)},x.prototype.translate=null,x.prototype.scale=null,x.prototype.font=null,x.prototype.text="",x.prototype.positionOffset=[0,0],x.prototype.opacity=1,x.prototype.color=new Uint8Array([0,0,0,255]),x.prototype.alignOffset=[0,0],x.maxAtlasSize=1024,x.atlasCanvas=document.createElement("canvas"),x.atlasContext=x.atlasCanvas.getContext("2d",{alpha:!1}),x.baseFontSize=64,x.fonts={},te.exports=x},12018:function(te,Y,e){"use strict";var T=e(71299);function D(y){if(y.container)if(y.container==document.body)document.body.style.width||(y.canvas.width=y.width||y.pixelRatio*e.g.innerWidth),document.body.style.height||(y.canvas.height=y.height||y.pixelRatio*e.g.innerHeight);else{var t=y.container.getBoundingClientRect();y.canvas.width=y.width||t.right-t.left,y.canvas.height=y.height||t.bottom-t.top}}function o(y){return"function"==typeof y.getContext&&"width"in y&&"height"in y}function h(){var y=document.createElement("canvas");return y.style.position="absolute",y.style.top=0,y.style.left=0,y}te.exports=function(t){if(t?"string"==typeof t&&(t={container:t}):t={},(t=o(t)||function P(y){return"string"==typeof y.nodeName&&"function"==typeof y.appendChild&&"function"==typeof y.getBoundingClientRect}(t)?{container:t}:function C(y){return"function"==typeof y.drawArrays||"function"==typeof y.drawElements}(t)?{gl:t}:T(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(t.pixelRatio=e.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if("string"==typeof t.container){var r=document.querySelector(t.container);if(!r)throw Error("Element "+t.container+" is not found");t.container=r}o(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=h(),t.container.appendChild(t.canvas),D(t))}else if(!t.canvas){if(!(typeof document<"u"))throw Error("Not DOM environment. Use headless-gl.");t.container=document.body||document.documentElement,t.canvas=h(),t.container.appendChild(t.canvas),D(t)}return t.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(l){try{t.gl=t.canvas.getContext(l,t.attrs)}catch{}return t.gl}),t.gl}},56068:function(te){te.exports=function(Y){"string"==typeof Y&&(Y=[Y]);for(var e=[].slice.call(arguments,1),T=[],D=0;D<Y.length-1;D++)T.push(Y[D],e[D]||"");return T.push(Y[D]),T.join("")}},40383:function(te,Y,e){"use strict";var D=e(68318)("%Object.getOwnPropertyDescriptor%",!0);if(D)try{D([],"length")}catch{D=null}te.exports=D},57035:function(te,Y,e){"use strict";var D,T=e(54404);D="function"==typeof e.g.matchMedia?!e.g.matchMedia("(hover: none)").matches:T,te.exports=D},38520:function(te,Y,e){"use strict";var T=e(54404);te.exports=T&&function D(){var o=!1;try{var P=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,P),window.removeEventListener("test",null,P)}catch{o=!1}return o}()},55622:function(te,Y,e){"use strict";var D=e(68318)("%Object.defineProperty%",!0),o=function(){if(D)try{return D({},"a",{value:1}),!0}catch{return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==D([],"length",{value:1}).length}catch{return!0}},te.exports=o},57877:function(te,Y,e){"use strict";var T=typeof Symbol<"u"&&Symbol,D=e(35638);te.exports=function(){return"function"==typeof T&&"function"==typeof Symbol&&"symbol"==typeof T("foo")&&"symbol"==typeof Symbol("bar")&&D()}},35638:function(te){"use strict";te.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},T=Symbol("test"),D=Object(T);if("string"==typeof T||"[object Symbol]"!==Object.prototype.toString.call(T)||"[object Symbol]"!==Object.prototype.toString.call(D))return!1;for(T in e[T]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var P=Object.getOwnPropertySymbols(e);if(1!==P.length||P[0]!==T||!Object.prototype.propertyIsEnumerable.call(e,T))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var C=Object.getOwnPropertyDescriptor(e,T);if(42!==C.value||!0!==C.enumerable)return!1}return!0}},84543:function(te,Y,e){"use strict";var T=e(35638);te.exports=function(){return T()&&!!Symbol.toStringTag}},35065:function(te,Y,e){"use strict";var T=e(77575);te.exports=T.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(te,Y){Y.read=function(e,T,D,o,P){var C,h,y=8*P-o-1,t=(1<<y)-1,r=t>>1,l=-7,i=D?P-1:0,u=D?-1:1,f=e[T+i];for(i+=u,C=f&(1<<-l)-1,f>>=-l,l+=y;l>0;C=256*C+e[T+i],i+=u,l-=8);for(h=C&(1<<-l)-1,C>>=-l,l+=o;l>0;h=256*h+e[T+i],i+=u,l-=8);if(0===C)C=1-r;else{if(C===t)return h?NaN:1/0*(f?-1:1);h+=Math.pow(2,o),C-=r}return(f?-1:1)*h*Math.pow(2,C-o)},Y.write=function(e,T,D,o,P,C){var h,y,t,r=8*C-P-1,l=(1<<r)-1,i=l>>1,u=23===P?Math.pow(2,-24)-Math.pow(2,-77):0,f=o?0:C-1,c=o?1:-1,m=T<0||0===T&&1/T<0?1:0;for(T=Math.abs(T),isNaN(T)||T===1/0?(y=isNaN(T)?1:0,h=l):(h=Math.floor(Math.log(T)/Math.LN2),T*(t=Math.pow(2,-h))<1&&(h--,t*=2),(T+=h+i>=1?u/t:u*Math.pow(2,1-i))*t>=2&&(h++,t/=2),h+i>=l?(y=0,h=l):h+i>=1?(y=(T*t-1)*Math.pow(2,P),h+=i):(y=T*Math.pow(2,i-1)*Math.pow(2,P),h=0));P>=8;e[D+f]=255&y,f+=c,y/=256,P-=8);for(h=h<<P|y,r+=P;r>0;e[D+f]=255&h,f+=c,h/=256,r-=8);e[D+f-c]|=128*m}},42018:function(te){te.exports="function"==typeof Object.create?function(e,T){T&&(e.super_=T,e.prototype=Object.create(T.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,T){if(T){e.super_=T;var D=function(){};D.prototype=T.prototype,e.prototype=new D,e.prototype.constructor=e}}},47216:function(te,Y,e){"use strict";var T=e(84543)(),o=e(6614)("Object.prototype.toString"),P=function(t){return!(T&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},C=function(t){return!!P(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},h=function(){return P(arguments)}();P.isLegacyArguments=C,te.exports=h?P:C},54404:function(te){te.exports=!0},85395:function(te){"use strict";var T,D,Y=Function.prototype.toString,e="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof e&&"function"==typeof Object.defineProperty)try{T=Object.defineProperty({},"length",{get:function(){throw D}}),D={},e(function(){throw 42},null,T)}catch(b){b!==D&&(e=null)}else e=null;var o=/^\s*class\b/,P=function(p){try{var s=Y.call(p);return o.test(s)}catch{return!1}},C=function(p){try{return!P(p)&&(Y.call(p),!0)}catch{return!1}},h=Object.prototype.toString,f="function"==typeof Symbol&&!!Symbol.toStringTag,c=!(0 in[,]),m=function(){return!1};if("object"==typeof document){var a=document.all;h.call(a)===h.call(document.all)&&(m=function(p){if((c||!p)&&(typeof p>"u"||"object"==typeof p))try{var s=h.call(p);return("[object HTMLAllCollection]"===s||"[object HTML document.all class]"===s||"[object HTMLCollection]"===s||"[object Object]"===s)&&null==p("")}catch{}return!1})}te.exports=e?function(p){if(m(p))return!0;if(!p||"function"!=typeof p&&"object"!=typeof p)return!1;try{e(p,null,T)}catch(s){if(s!==D)return!1}return!P(p)&&C(p)}:function(p){if(m(p))return!0;if(!p||"function"!=typeof p&&"object"!=typeof p)return!1;if(f)return C(p);if(P(p))return!1;var s=h.call(p);return!("[object Function]"!==s&&"[object GeneratorFunction]"!==s&&!/^\[object HTML/.test(s))&&C(p)}},65481:function(te,Y,e){"use strict";var y,T=Object.prototype.toString,D=Function.prototype.toString,o=/^\s*(?:function)?\*/,P=e(84543)(),C=Object.getPrototypeOf;te.exports=function(r){if("function"!=typeof r)return!1;if(o.test(D.call(r)))return!0;if(!P)return"[object GeneratorFunction]"===T.call(r);if(!C)return!1;if(typeof y>"u"){var i=function(){if(!P)return!1;try{return Function("return function*() {}")()}catch{}}();y=!!i&&C(i)}return C(r)===y}},62683:function(te){"use strict";te.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(te){"use strict";te.exports=function(e){return e!=e}},15567:function(te,Y,e){"use strict";var T=e(68222),D=e(17045),o=e(64274),P=e(14922),C=e(22442),h=T(P(),Number);D(h,{getPolyfill:P,implementation:o,shim:C}),te.exports=h},14922:function(te,Y,e){"use strict";var T=e(64274);te.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:T}},22442:function(te,Y,e){"use strict";var T=e(17045),D=e(14922);te.exports=function(){var P=D();return T(Number,{isNaN:P},{isNaN:function(){return Number.isNaN!==P}}),P}},64941:function(te){"use strict";te.exports=function(Y){var e=typeof Y;return null!==Y&&("object"===e||"function"===e)}},10973:function(te){"use strict";var Y=Object.prototype.toString;te.exports=function(e){var T;return"[object Object]"===Y.call(e)&&(null===(T=Object.getPrototypeOf(e))||T===Object.getPrototypeOf({}))}},18546:function(te){"use strict";te.exports=function(Y){for(var T,e=Y.length,D=0;D<e;D++)if(((T=Y.charCodeAt(D))<9||T>13)&&32!==T&&133!==T&&160!==T&&5760!==T&&6158!==T&&(T<8192||T>8205)&&8232!==T&&8233!==T&&8239!==T&&8287!==T&&8288!==T&&12288!==T&&65279!==T)return!1;return!0}},89546:function(te){"use strict";te.exports=function(e){return"string"==typeof e&&(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(te,Y,e){"use strict";var T=e(31353),D=e(72077),o=e(6614),P=o("Object.prototype.toString"),C=e(84543)(),h=e(40383),y=typeof globalThis>"u"?e.g:globalThis,t=D(),r=o("Array.prototype.indexOf",!0)||function(m,a){for(var b=0;b<m.length;b+=1)if(m[b]===a)return b;return-1},l=o("String.prototype.slice"),i={},u=Object.getPrototypeOf;C&&h&&u&&T(t,function(c){var m=new y[c];if(Symbol.toStringTag in m){var a=u(m),b=h(a,Symbol.toStringTag);if(!b){var p=u(a);b=h(p,Symbol.toStringTag)}i[c]=b.get}}),te.exports=function(m){if(!m||"object"!=typeof m)return!1;if(!C||!(Symbol.toStringTag in m)){var a=l(P(m),8,-1);return r(t,a)>-1}return!!h&&function(m){var a=!1;return T(i,function(b,p){if(!a)try{a=b.call(m)===p}catch{}}),a}(m)}},44517:function(te){te.exports=function(){"use strict";var Y,e,T;function D(o,P){if(Y)if(e){var C="var sharedChunk = {}; ("+Y+")(sharedChunk); ("+e+")(sharedChunk);",h={};Y(h),(T=P(h)).workerUrl=window.URL.createObjectURL(new Blob([C],{type:"text/javascript"}))}else e=P;else Y=P}return D(0,function(o){function P(R,_){return R(_={exports:{}},_.exports),_.exports}var C="1.10.1",h=y;function y(R,_,U,ee){this.cx=3*R,this.bx=3*(U-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*_,this.by=3*(ee-_)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=ee,this.p2x=U,this.p2y=ee}y.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},y.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},y.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},y.prototype.solveCurveX=function(R,_){var U,ee,ce,be,Ae;for(typeof _>"u"&&(_=1e-6),ce=R,Ae=0;Ae<8;Ae++){if(be=this.sampleCurveX(ce)-R,Math.abs(be)<_)return ce;var Ke=this.sampleCurveDerivativeX(ce);if(Math.abs(Ke)<1e-6)break;ce-=be/Ke}if((ce=R)<(U=0))return U;if(ce>(ee=1))return ee;for(;U<ee;){if(be=this.sampleCurveX(ce),Math.abs(be-R)<_)return ce;R>be?U=ce:ee=ce,ce=.5*(ee-U)+U}return ce},y.prototype.solve=function(R,_){return this.sampleCurveY(this.solveCurveX(R,_))};var t=r;function r(R,_){this.x=R,this.y=_}function u(R,_,U,ee){var ce=new h(R,_,U,ee);return function(be){return ce.solve(be)}}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,_){return this.clone()._rotateAround(R,_)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var _=R.x-this.x,U=R.y-this.y;return _*_+U*U},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,_){return Math.atan2(this.x*_-this.y*R,this.x*R+this.y*_)},_matMult:function(R){var U=R[2]*this.x+R[3]*this.y;return this.x=R[0]*this.x+R[1]*this.y,this.y=U,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var _=Math.cos(R),U=Math.sin(R),ce=U*this.x+_*this.y;return this.x=_*this.x-U*this.y,this.y=ce,this},_rotateAround:function(R,_){var U=Math.cos(R),ee=Math.sin(R),be=_.y+ee*(this.x-_.x)+U*(this.y-_.y);return this.x=_.x+U*(this.x-_.x)-ee*(this.y-_.y),this.y=be,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(R){return R instanceof r?R:Array.isArray(R)?new r(R[0],R[1]):R};var f=u(.25,.1,.25,1);function c(R,_,U){return Math.min(U,Math.max(_,R))}function m(R,_,U){var ee=U-_,ce=((R-_)%ee+ee)%ee+_;return ce===_?U:ce}function s(R){for(var _=[],U=arguments.length-1;U-- >0;)_[U]=arguments[U+1];for(var ee=0,ce=_;ee<ce.length;ee+=1){var be=ce[ee];for(var Ae in be)R[Ae]=be[Ae]}return R}var A=1;function x(){return A++}function E(){return function R(_){return _?(_^16*Math.random()>>_/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}()}function g(R){return!!R&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R)}function M(R,_){R.forEach(function(U){_[U]&&(_[U]=_[U].bind(_))})}function w(R,_){return-1!==R.indexOf(_,R.length-_.length)}function n(R,_,U){var ee={};for(var ce in R)ee[ce]=_.call(U||this,R[ce],ce,R);return ee}function S(R,_,U){var ee={};for(var ce in R)_.call(U||this,R[ce],ce,R)&&(ee[ce]=R[ce]);return ee}function d(R){return Array.isArray(R)?R.map(d):"object"==typeof R&&R?n(R,d):R}var L={};function B(R){L[R]||(typeof console<"u"&&console.warn(R),L[R]=!0)}function k(R,_,U){return(U.y-R.y)*(_.x-R.x)>(_.y-R.y)*(U.x-R.x)}function z(R){for(var _=0,U=0,ee=R.length,ce=ee-1,be=void 0,Ae=void 0;U<ee;ce=U++)_+=((Ae=R[ce]).x-(be=R[U]).x)*(be.y+Ae.y);return _}function F(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function N(R){var U={};if(R.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(ce,be,Ae,Ke){var ht=Ae||Ke;return U[be]=!ht||ht.toLowerCase(),""}),U["max-age"]){var ee=parseInt(U["max-age"],10);isNaN(ee)?delete U["max-age"]:U["max-age"]=ee}return U}var H=null;function X(R){if(null==H){var _=R.navigator?R.navigator.userAgent:null;H=!!R.safari||!(!_||!(/\b(iPad|iPhone|iPod)\b/.test(_)||_.match("Safari")&&!_.match("Chrome")))}return H}function ne(R){try{var _=self[R];return _.setItem("_mapbox_test_",1),_.removeItem("_mapbox_test_"),!0}catch{return!1}}var V,K,re,se,J=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),j=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,W=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,ae={now:J,frame:function(_){var U=j(_);return{cancel:function(){return W(U)}}},getImageData:function(_,U){void 0===U&&(U=0);var ee=self.document.createElement("canvas"),ce=ee.getContext("2d");if(!ce)throw new Error("failed to create canvas 2d context");return ee.width=_.width,ee.height=_.height,ce.drawImage(_,0,0,_.width,_.height),ce.getImageData(-U,-U,_.width+2*U,_.height+2*U)},resolveURL:function(_){return V||(V=self.document.createElement("a")),V.href=_,V.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==K&&(K=self.matchMedia("(prefers-reduced-motion: reduce)")),K.matches)}},Q={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Z={supported:!1,testSupport:function we(R){q||!se||(de?ye(R):re=R)}},q=!1,de=!1;function ye(R){var _=R.createTexture();R.bindTexture(R.TEXTURE_2D,_);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,se),R.isContextLost())return;Z.supported=!0}catch{}R.deleteTexture(_),q=!0}self.document&&((se=self.document.createElement("img")).onload=function(){re&&ye(re),re=null,de=!0},se.onerror=function(){q=!0,re=null},se.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Pe="01";var Se=function(_,U){this._transformRequestFn=_,this._customAccessToken=U,this._createSkuToken()};function xe(R){return 0===R.indexOf("mapbox:")}Se.prototype._createSkuToken=function(){var _=function Ie(){for(var U="",ee=0;ee<10;ee++)U+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Pe,U].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=_.token,this._skuTokenExpiresAt=_.tokenExpiresAt},Se.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Se.prototype.transformRequest=function(_,U){return this._transformRequestFn&&this._transformRequestFn(_,U)||{url:_}},Se.prototype.normalizeStyleURL=function(_,U){if(!xe(_))return _;var ee=rt(_);return ee.path="/styles/v1"+ee.path,this._makeAPIURL(ee,this._customAccessToken||U)},Se.prototype.normalizeGlyphsURL=function(_,U){if(!xe(_))return _;var ee=rt(_);return ee.path="/fonts/v1"+ee.path,this._makeAPIURL(ee,this._customAccessToken||U)},Se.prototype.normalizeSourceURL=function(_,U){if(!xe(_))return _;var ee=rt(_);return ee.path="/v4/"+ee.authority+".json",ee.params.push("secure"),this._makeAPIURL(ee,this._customAccessToken||U)},Se.prototype.normalizeSpriteURL=function(_,U,ee,ce){var be=rt(_);return xe(_)?(be.path="/styles/v1"+be.path+"/sprite"+U+ee,this._makeAPIURL(be,this._customAccessToken||ce)):(be.path+=""+U+ee,$e(be))},Se.prototype.normalizeTileURL=function(_,U){if(this._isSkuTokenExpired()&&this._createSkuToken(),_&&!xe(_))return _;var ee=rt(_);ee.path=ee.path.replace(/(\.(png|jpg)\d*)(?=$)/,(ae.devicePixelRatio>=2||512===U?"@2x":"")+(Z.supported?".webp":"$1")),ee.path=ee.path.replace(/^.+\/v4\//,"/"),ee.path="/v4"+ee.path;var ht=this._customAccessToken||function De(R){for(var _=0,U=R;_<U.length;_+=1){var ce=U[_].match(/^access_token=(.*)$/);if(ce)return ce[1]}return null}(ee.params)||Q.ACCESS_TOKEN;return Q.REQUIRE_ACCESS_TOKEN&&ht&&this._skuToken&&ee.params.push("sku="+this._skuToken),this._makeAPIURL(ee,ht)},Se.prototype.canonicalizeTileURL=function(_,U){var be=rt(_);if(!be.path.match(/(^\/v4\/)/)||!be.path.match(/\.[\w]+$/))return _;var Ae="mapbox://tiles/";Ae+=be.path.replace("/v4/","");var Ke=be.params;return U&&(Ke=Ke.filter(function(ht){return!ht.match(/^access_token=/)})),Ke.length&&(Ae+="?"+Ke.join("&")),Ae},Se.prototype.canonicalizeTileset=function(_,U){for(var ee=!!U&&xe(U),ce=[],be=0,Ae=_.tiles||[];be<Ae.length;be+=1){var Ke=Ae[be];Ge(Ke)?ce.push(this.canonicalizeTileURL(Ke,ee)):ce.push(Ke)}return ce},Se.prototype._makeAPIURL=function(_,U){var ee="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ce=rt(Q.API_URL);if(_.protocol=ce.protocol,_.authority=ce.authority,"/"!==ce.path&&(_.path=""+ce.path+_.path),!Q.REQUIRE_ACCESS_TOKEN)return $e(_);if(!(U=U||Q.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+ee);if("s"===U[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ee);return _.params=_.params.filter(function(be){return-1===be.indexOf("access_token")}),_.params.push("access_token="+U),$e(_)};var Me=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ge(R){return Me.test(R)}var He=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function rt(R){var _=R.match(He);if(!_)throw new Error("Unable to parse URL object");return{protocol:_[1],authority:_[2],path:_[3]||"/",params:_[4]?_[4].split("&"):[]}}function $e(R){var _=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+_}var Be="mapbox.eventData";function ze(R){if(!R)return null;var _=R.split(".");if(!_||3!==_.length)return null;try{return JSON.parse(function ue(R){return decodeURIComponent(self.atob(R).split("").map(function(_){return"%"+("00"+_.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(_[1]))}catch{return null}}var tt=function(_){this.type=_,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};tt.prototype.getStorageKey=function(_){var ee,U=ze(Q.ACCESS_TOKEN);return ee=U&&U.u?function ie(R){return self.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(_,U){return String.fromCharCode(+("0x"+U))}))}(U.u):Q.ACCESS_TOKEN||"",_?Be+"."+_+":"+ee:Be+":"+ee},tt.prototype.fetchEventData=function(){var _=ne("localStorage"),U=this.getStorageKey(),ee=this.getStorageKey("uuid");if(_)try{var ce=self.localStorage.getItem(U);ce&&(this.eventData=JSON.parse(ce));var be=self.localStorage.getItem(ee);be&&(this.anonId=be)}catch{B("Unable to read from LocalStorage")}},tt.prototype.saveEventData=function(){var _=ne("localStorage"),U=this.getStorageKey(),ee=this.getStorageKey("uuid");if(_)try{self.localStorage.setItem(ee,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(U,JSON.stringify(this.eventData))}catch{B("Unable to write to LocalStorage")}},tt.prototype.processRequests=function(_){},tt.prototype.postEvent=function(_,U,ee,ce){var be=this;if(Q.EVENTS_URL){var Ae=rt(Q.EVENTS_URL);Ae.params.push("access_token="+(ce||Q.ACCESS_TOKEN||""));var Ke={event:this.type,created:new Date(_).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:C,skuId:Pe,userId:this.anonId},ht=U?s(Ke,U):Ke,Tt={url:$e(Ae),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ht])};this.pendingRequest=Lt(Tt,function(Et){be.pendingRequest=null,ee(Et),be.saveEventData(),be.processRequests(ce)})}},tt.prototype.queueRequest=function(_,U){this.queue.push(_),this.processRequests(U)};var Ne,Te,lt=function(R){function _(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.postMapLoadEvent=function(ee,ce,be,Ae){this.skuToken=be,(Q.EVENTS_URL&&Ae||Q.ACCESS_TOKEN&&Array.isArray(ee)&&ee.some(function(Ke){return xe(Ke)||Ge(Ke)}))&&this.queueRequest({id:ce,timestamp:Date.now()},Ae)},_.prototype.processRequests=function(ee){var ce=this;if(!this.pendingRequest&&0!==this.queue.length){var be=this.queue.shift(),Ae=be.id,Ke=be.timestamp;Ae&&this.success[Ae]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=E()),this.postEvent(Ke,{skuToken:this.skuToken},function(ht){ht||Ae&&(ce.success[Ae]=!0)},ee))}},_}(tt),xt=new(function(R){function _(U){R.call(this,"appUserTurnstile"),this._customAccessToken=U}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.postTurnstileEvent=function(ee,ce){Q.EVENTS_URL&&Q.ACCESS_TOKEN&&Array.isArray(ee)&&ee.some(function(be){return xe(be)||Ge(be)})&&this.queueRequest(Date.now(),ce)},_.prototype.processRequests=function(ee){var ce=this;if(!this.pendingRequest&&0!==this.queue.length){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var be=ze(Q.ACCESS_TOKEN),Ae=be?be.u:Q.ACCESS_TOKEN,Ke=Ae!==this.eventData.tokenU;g(this.anonId)||(this.anonId=E(),Ke=!0);var ht=this.queue.shift();if(this.eventData.lastSuccess){var Tt=new Date(this.eventData.lastSuccess),Et=new Date(ht),jt=(ht-this.eventData.lastSuccess)/864e5;Ke=Ke||jt>=1||jt<-1||Tt.getDate()!==Et.getDate()}else Ke=!0;if(!Ke)return this.processRequests();this.postEvent(ht,{"enabled.telemetry":!1},function(fr){fr||(ce.eventData.lastSuccess=ht,ce.eventData.tokenU=Ae)},ee)}},_}(tt)),bt=xt.postTurnstileEvent.bind(xt),Ht=new lt,Je=Ht.postMapLoadEvent.bind(Ht),Ce="mapbox-tiles",Ee=500,Re=50,ke=42e4;function _e(){self.caches&&!Ne&&(Ne=self.caches.open(Ce))}function pe(R,_,U){if(_e(),Ne){var ee={status:_.status,statusText:_.statusText,headers:new self.Headers};_.headers.forEach(function(Ae,Ke){return ee.headers.set(Ke,Ae)});var ce=N(_.headers.get("Cache-Control")||"");ce["no-store"]||(ce["max-age"]&&ee.headers.set("Expires",new Date(U+1e3*ce["max-age"]).toUTCString()),new Date(ee.headers.get("Expires")).getTime()-U<ke||function fe(R,_){if(void 0===Te)try{new Response(new ReadableStream),Te=!0}catch{Te=!1}Te?_(R.body):R.blob().then(_)}(_,function(Ae){var Ke=new self.Response(Ae,ee);_e(),Ne&&Ne.then(function(ht){return ht.put(Fe(R.url),Ke)}).catch(function(ht){return B(ht.message)})}))}}function Fe(R){var _=R.indexOf("?");return _<0?R:R.slice(0,_)}function Xe(R,_){if(_e(),!Ne)return _(null);var U=Fe(R.url);Ne.then(function(ee){ee.match(U).then(function(ce){var be=function at(R){if(!R)return!1;var _=new Date(R.headers.get("Expires")||0),U=N(R.headers.get("Cache-Control")||"");return _>Date.now()&&!U["no-cache"]}(ce);ee.delete(U),be&&ee.put(U,ce.clone()),_(null,ce,be)}).catch(_)}).catch(_)}var Qt,ft=1/0;function Rr(){return null==Qt&&(Qt=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof self.createImageBitmap),Qt}var pt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(pt);var $t=function(R){function _(U,ee,ce){401===ee&&Ge(ce)&&(U+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,U),this.status=ee,this.url=ce,this.name=this.constructor.name,this.message=U}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},_}(Error),tr=F()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function pr(R,_){var U=new self.AbortController,ee=new self.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:tr(),signal:U.signal}),ce=!1,be=!1,Ae=function Ye(R){return R.indexOf("sku=")>0&&Ge(R)}(ee.url);"json"===R.type&&ee.headers.set("Accept","application/json");var Ke=function(Tt,Et,jt){if(!be){if(Tt&&"SecurityError"!==Tt.message&&B(Tt),Et&&jt)return ht(Et);var fr=Date.now();self.fetch(ee).then(function(ir){if(ir.ok){var Lr=Ae?ir.clone():null;return ht(ir,Lr,fr)}return _(new $t(ir.statusText,ir.status,R.url))}).catch(function(ir){20!==ir.code&&_(new Error(ir.message))})}},ht=function(Tt,Et,jt){("arrayBuffer"===R.type?Tt.arrayBuffer():"json"===R.type?Tt.json():Tt.text()).then(function(fr){be||(Et&&jt&&pe(ee,Et,jt),ce=!0,_(null,fr,Tt.headers.get("Cache-Control"),Tt.headers.get("Expires")))}).catch(function(fr){be||_(new Error(fr.message))})};return Ae?Xe(ee,Ke):Ke(null,null),{cancel:function(){be=!0,ce||U.abort()}}}var it=function(R,_){if(!function(R){return/^file:/.test(R)||/^file:/.test(tr())&&!/^\w+:/.test(R)}(R.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return pr(R,_);if(F()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",R,_,void 0,!0)}return function dt(R,_){var U=new self.XMLHttpRequest;for(var ee in U.open(R.method||"GET",R.url,!0),"arrayBuffer"===R.type&&(U.responseType="arraybuffer"),R.headers)U.setRequestHeader(ee,R.headers[ee]);return"json"===R.type&&(U.responseType="text",U.setRequestHeader("Accept","application/json")),U.withCredentials="include"===R.credentials,U.onerror=function(){_(new Error(U.statusText))},U.onload=function(){if((U.status>=200&&U.status<300||0===U.status)&&null!==U.response){var ce=U.response;if("json"===R.type)try{ce=JSON.parse(U.response)}catch(be){return _(be)}_(null,ce,U.getResponseHeader("Cache-Control"),U.getResponseHeader("Expires"))}else _(new $t(U.statusText,U.status,R.url))},U.send(R.body),{cancel:function(){return U.abort()}}}(R,_)},St=function(R,_){return it(s(R,{type:"arrayBuffer"}),_)},Lt=function(R,_){return it(s(R,{method:"POST"}),_)};function Ct(R){var _=self.document.createElement("a");return _.href=R,_.protocol===self.document.location.protocol&&_.host===self.document.location.host}var cr,lr;cr=[],lr=0;var We=function(R,_){if(Z.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),lr>=Q.MAX_PARALLEL_IMAGE_REQUESTS){var U={requestParameters:R,callback:_,cancelled:!1,cancel:function(){this.cancelled=!0}};return cr.push(U),U}lr++;var ee=!1,ce=function(){if(!ee)for(ee=!0,lr--;cr.length&&lr<Q.MAX_PARALLEL_IMAGE_REQUESTS;){var Ae=cr.shift();Ae.cancelled||(Ae.cancel=We(Ae.requestParameters,Ae.callback).cancel)}},be=St(R,function(Ae,Ke,ht,Tt){ce(),Ae?_(Ae):Ke&&(Rr()?function qt(R,_){var U=new self.Blob([new Uint8Array(R)],{type:"image/png"});self.createImageBitmap(U).then(function(ee){_(null,ee)}).catch(function(ee){_(new Error("Could not load image because of "+ee.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(Ke,_):function Bt(R,_,U,ee){var ce=new self.Image,be=self.URL;ce.onload=function(){_(null,ce),be.revokeObjectURL(ce.src)},ce.onerror=function(){return _(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ae=new self.Blob([new Uint8Array(R)],{type:"image/png"});ce.cacheControl=U,ce.expires=ee,ce.src=R.byteLength?be.createObjectURL(Ae):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(Ke,_,ht,Tt))});return{cancel:function(){be.cancel(),ce()}}};function Rt(R,_,U){U[R]&&-1!==U[R].indexOf(_)||(U[R]=U[R]||[],U[R].push(_))}function _t(R,_,U){if(U&&U[R]){var ee=U[R].indexOf(_);-1!==ee&&U[R].splice(ee,1)}}var Kt=function(_,U){void 0===U&&(U={}),s(this,U),this.type=_},sr=function(R){function _(U,ee){void 0===ee&&(ee={}),R.call(this,"error",s({error:U},ee))}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_}(Kt),hr=function(){};hr.prototype.on=function(_,U){return this._listeners=this._listeners||{},Rt(_,U,this._listeners),this},hr.prototype.off=function(_,U){return _t(_,U,this._listeners),_t(_,U,this._oneTimeListeners),this},hr.prototype.once=function(_,U){return this._oneTimeListeners=this._oneTimeListeners||{},Rt(_,U,this._oneTimeListeners),this},hr.prototype.fire=function(_,U){"string"==typeof _&&(_=new Kt(_,U||{}));var ee=_.type;if(this.listens(ee)){_.target=this;for(var be=0,Ae=this._listeners&&this._listeners[ee]?this._listeners[ee].slice():[];be<Ae.length;be+=1)Ae[be].call(this,_);for(var Tt=0,Et=this._oneTimeListeners&&this._oneTimeListeners[ee]?this._oneTimeListeners[ee].slice():[];Tt<Et.length;Tt+=1){var jt=Et[Tt];_t(ee,jt,this._oneTimeListeners),jt.call(this,_)}var fr=this._eventedParent;fr&&(s(_,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),fr.fire(_))}else _ instanceof sr&&console.error(_.error);return this},hr.prototype.listens=function(_){return this._listeners&&this._listeners[_]&&this._listeners[_].length>0||this._oneTimeListeners&&this._oneTimeListeners[_]&&this._oneTimeListeners[_].length>0||this._eventedParent&&this._eventedParent.listens(_)},hr.prototype.setEventedParent=function(_,U){return this._eventedParent=_,this._eventedParentData=U,this};var er={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},ge=function(_,U,ee,ce){this.message=(_?_+": ":"")+ee,ce&&(this.identifier=ce),null!=U&&U.__line__&&(this.line=U.__line__)};function Ue(R){var U=R.value;return U?[new ge(R.key,U,"constants have been deprecated as of v8")]:[]}function nt(R){for(var _=[],U=arguments.length-1;U-- >0;)_[U]=arguments[U+1];for(var ee=0,ce=_;ee<ce.length;ee+=1){var be=ce[ee];for(var Ae in be)R[Ae]=be[Ae]}return R}function ct(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function Pt(R){if(Array.isArray(R))return R.map(Pt);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var _={};for(var U in R)_[U]=Pt(R[U]);return _}return ct(R)}var Ft=function(R){function _(U,ee){R.call(this,ee),this.message=ee,this.key=U}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_}(Error),Yt=function(_,U){void 0===U&&(U=[]),this.parent=_,this.bindings={};for(var ee=0,ce=U;ee<ce.length;ee+=1){var be=ce[ee];this.bindings[be[0]]=be[1]}};Yt.prototype.concat=function(_){return new Yt(this,_)},Yt.prototype.get=function(_){if(this.bindings[_])return this.bindings[_];if(this.parent)return this.parent.get(_);throw new Error(_+" not found in scope.")},Yt.prototype.has=function(_){return!!this.bindings[_]||!!this.parent&&this.parent.has(_)};var Vt={kind:"null"},Ot={kind:"number"},Jt={kind:"string"},Dr={kind:"boolean"},Gr={kind:"color"},Yr={kind:"object"},zr={kind:"value"},In={kind:"collator"},Bn={kind:"formatted"},ea={kind:"resolvedImage"};function Kn(R,_){return{kind:"array",itemType:R,N:_}}function ha(R){if("array"===R.kind){var _=ha(R.itemType);return"number"==typeof R.N?"array<"+_+", "+R.N+">":"value"===R.itemType.kind?"array":"array<"+_+">"}return R.kind}var Di=[Vt,Ot,Jt,Dr,Gr,Bn,Yr,Kn(zr),ea];function $a(R,_){if("error"===_.kind)return null;if("array"===R.kind){if("array"===_.kind&&(0===_.N&&"value"===_.itemType.kind||!$a(R.itemType,_.itemType))&&("number"!=typeof R.N||R.N===_.N))return null}else{if(R.kind===_.kind)return null;if("value"===R.kind)for(var U=0,ee=Di;U<ee.length;U+=1)if(!$a(ee[U],_))return null}return"Expected "+ha(R)+" but found "+ha(_)+" instead."}function eo(R,_){return _.some(function(U){return U.kind===R.kind})}function ti(R,_){return _.some(function(U){return"null"===U?null===R:"array"===U?Array.isArray(R):"object"===U?R&&!Array.isArray(R)&&"object"==typeof R:U===typeof R})}var co=P(function(R,_){var U={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ee(Tt){return(Tt=Math.round(Tt))<0?0:Tt>255?255:Tt}function be(Tt){return ee("%"===Tt[Tt.length-1]?parseFloat(Tt)/100*255:parseInt(Tt))}function Ae(Tt){return function ce(Tt){return Tt<0?0:Tt>1?1:Tt}("%"===Tt[Tt.length-1]?parseFloat(Tt)/100:parseFloat(Tt))}function Ke(Tt,Et,jt){return jt<0?jt+=1:jt>1&&(jt-=1),6*jt<1?Tt+(Et-Tt)*jt*6:2*jt<1?Et:3*jt<2?Tt+(Et-Tt)*(2/3-jt)*6:Tt}try{_.parseCSSColor=function ht(Tt){var jt,Et=Tt.replace(/ /g,"").toLowerCase();if(Et in U)return U[Et].slice();if("#"===Et[0])return 4===Et.length?(jt=parseInt(Et.substr(1),16))>=0&&jt<=4095?[(3840&jt)>>4|(3840&jt)>>8,240&jt|(240&jt)>>4,15&jt|(15&jt)<<4,1]:null:7===Et.length&&(jt=parseInt(Et.substr(1),16))>=0&&jt<=16777215?[(16711680&jt)>>16,(65280&jt)>>8,255&jt,1]:null;var fr=Et.indexOf("("),ir=Et.indexOf(")");if(-1!==fr&&ir+1===Et.length){var Lr=Et.substr(0,fr),Wr=Et.substr(fr+1,ir-(fr+1)).split(","),gn=1;switch(Lr){case"rgba":if(4!==Wr.length)return null;gn=Ae(Wr.pop());case"rgb":return 3!==Wr.length?null:[be(Wr[0]),be(Wr[1]),be(Wr[2]),gn];case"hsla":if(4!==Wr.length)return null;gn=Ae(Wr.pop());case"hsl":if(3!==Wr.length)return null;var sn=(parseFloat(Wr[0])%360+360)%360/360,Rn=Ae(Wr[1]),Sn=Ae(Wr[2]),Dn=Sn<=.5?Sn*(Rn+1):Sn+Rn-Sn*Rn,zn=2*Sn-Dn;return[ee(255*Ke(zn,Dn,sn+1/3)),ee(255*Ke(zn,Dn,sn)),ee(255*Ke(zn,Dn,sn-1/3)),gn];default:return null}}return null}}catch{}}).parseCSSColor,oi=function(_,U,ee,ce){void 0===ce&&(ce=1),this.r=_,this.g=U,this.b=ee,this.a=ce};oi.parse=function(_){if(_){if(_ instanceof oi)return _;if("string"==typeof _){var U=co(_);if(U)return new oi(U[0]/255*U[3],U[1]/255*U[3],U[2]/255*U[3],U[3])}}},oi.prototype.toString=function(){var _=this.toArray(),ee=_[1],ce=_[2],be=_[3];return"rgba("+Math.round(_[0])+","+Math.round(ee)+","+Math.round(ce)+","+be+")"},oi.prototype.toArray=function(){var _=this,be=_.a;return 0===be?[0,0,0,0]:[255*_.r/be,255*_.g/be,255*_.b/be,be]},oi.black=new oi(0,0,0,1),oi.white=new oi(1,1,1,1),oi.transparent=new oi(0,0,0,0),oi.red=new oi(1,0,0,1);var mo=function(_,U,ee){this.sensitivity=_?U?"variant":"case":U?"accent":"base",this.locale=ee,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};mo.prototype.compare=function(_,U){return this.collator.compare(_,U)},mo.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ss=function(_,U,ee,ce,be){this.text=_,this.image=U,this.scale=ee,this.fontStack=ce,this.textColor=be},zi=function(_){this.sections=_};zi.fromString=function(_){return new zi([new ss(_,null,null,null,null)])},zi.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(_){return 0!==_.text.length||_.image&&0!==_.image.name.length})},zi.factory=function(_){return _ instanceof zi?_:zi.fromString(_)},zi.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(_){return _.text}).join("")},zi.prototype.serialize=function(){for(var _=["format"],U=0,ee=this.sections;U<ee.length;U+=1){var ce=ee[U];if(ce.image)_.push(["image",ce.image.name]);else{_.push(ce.text);var be={};ce.fontStack&&(be["text-font"]=["literal",ce.fontStack.split(",")]),ce.scale&&(be["font-scale"]=ce.scale),ce.textColor&&(be["text-color"]=["rgba"].concat(ce.textColor.toArray())),_.push(be)}}return _};var Ui=function(_){this.name=_.name,this.available=_.available};function Jo(R,_,U,ee){return"number"==typeof R&&R>=0&&R<=255&&"number"==typeof _&&_>=0&&_<=255&&"number"==typeof U&&U>=0&&U<=255?typeof ee>"u"||"number"==typeof ee&&ee>=0&&ee<=1?null:"Invalid rgba value ["+[R,_,U,ee].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof ee?[R,_,U,ee]:[R,_,U]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Lo(R){if(null===R)return!0;if("string"==typeof R)return!0;if("boolean"==typeof R)return!0;if("number"==typeof R)return!0;if(R instanceof oi)return!0;if(R instanceof mo)return!0;if(R instanceof zi)return!0;if(R instanceof Ui)return!0;if(Array.isArray(R)){for(var _=0,U=R;_<U.length;_+=1)if(!Lo(U[_]))return!1;return!0}if("object"==typeof R){for(var ce in R)if(!Lo(R[ce]))return!1;return!0}return!1}function ui(R){if(null===R)return Vt;if("string"==typeof R)return Jt;if("boolean"==typeof R)return Dr;if("number"==typeof R)return Ot;if(R instanceof oi)return Gr;if(R instanceof mo)return In;if(R instanceof zi)return Bn;if(R instanceof Ui)return ea;if(Array.isArray(R)){for(var U,_=R.length,ee=0,ce=R;ee<ce.length;ee+=1){var Ae=ui(ce[ee]);if(U){if(U===Ae)continue;U=zr;break}U=Ae}return Kn(U||zr,_)}return Yr}function Wi(R){var _=typeof R;return null===R?"":"string"===_||"number"===_||"boolean"===_?String(R):R instanceof oi||R instanceof zi||R instanceof Ui?R.toString():JSON.stringify(R)}Ui.prototype.toString=function(){return this.name},Ui.fromString=function(_){return _?new Ui({name:_,available:!1}):null},Ui.prototype.serialize=function(){return["image",this.name]};var Yi=function(_,U){this.type=_,this.value=U};Yi.parse=function(_,U){if(2!==_.length)return U.error("'literal' expression requires exactly one argument, but found "+(_.length-1)+" instead.");if(!Lo(_[1]))return U.error("invalid value");var ee=_[1],ce=ui(ee),be=U.expectedType;return"array"===ce.kind&&0===ce.N&&be&&"array"===be.kind&&("number"!=typeof be.N||0===be.N)&&(ce=be),new Yi(ce,ee)},Yi.prototype.evaluate=function(){return this.value},Yi.prototype.eachChild=function(){},Yi.prototype.outputDefined=function(){return!0},Yi.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof oi?["rgba"].concat(this.value.toArray()):this.value instanceof zi?this.value.serialize():this.value};var Si=function(_){this.name="ExpressionEvaluationError",this.message=_};Si.prototype.toJSON=function(){return this.message};var wo={string:Jt,number:Ot,boolean:Dr,object:Yr},Sa=function(_,U){this.type=_,this.args=U};Sa.parse=function(_,U){if(_.length<2)return U.error("Expected at least one argument.");var ce,ee=1,be=_[0];if("array"===be){var Ae,ht;if(_.length>2){var Ke=_[1];if("string"!=typeof Ke||!(Ke in wo)||"object"===Ke)return U.error('The item type argument of "array" must be one of string, number, boolean',1);Ae=wo[Ke],ee++}else Ae=zr;if(_.length>3){if(null!==_[2]&&("number"!=typeof _[2]||_[2]<0||_[2]!==Math.floor(_[2])))return U.error('The length argument to "array" must be a positive integer literal',2);ht=_[2],ee++}ce=Kn(Ae,ht)}else ce=wo[be];for(var Tt=[];ee<_.length;ee++){var Et=U.parse(_[ee],ee,zr);if(!Et)return null;Tt.push(Et)}return new Sa(ce,Tt)},Sa.prototype.evaluate=function(_){for(var U=0;U<this.args.length;U++){var ee=this.args[U].evaluate(_);if(!$a(this.type,ui(ee)))return ee;if(U===this.args.length-1)throw new Si("Expected value to be of type "+ha(this.type)+", but found "+ha(ui(ee))+" instead.")}return null},Sa.prototype.eachChild=function(_){this.args.forEach(_)},Sa.prototype.outputDefined=function(){return this.args.every(function(_){return _.outputDefined()})},Sa.prototype.serialize=function(){var _=this.type,U=[_.kind];if("array"===_.kind){var ee=_.itemType;if("string"===ee.kind||"number"===ee.kind||"boolean"===ee.kind){U.push(ee.kind);var ce=_.N;("number"==typeof ce||this.args.length>1)&&U.push(ce)}}return U.concat(this.args.map(function(be){return be.serialize()}))};var mi=function(_){this.type=Bn,this.sections=_};mi.parse=function(_,U){if(_.length<2)return U.error("Expected at least one argument.");var ee=_[1];if(!Array.isArray(ee)&&"object"==typeof ee)return U.error("First argument must be an image or text section.");for(var ce=[],be=!1,Ae=1;Ae<=_.length-1;++Ae){var Ke=_[Ae];if(be&&"object"==typeof Ke&&!Array.isArray(Ke)){be=!1;var ht=null;if(Ke["font-scale"]&&!(ht=U.parse(Ke["font-scale"],1,Ot)))return null;var Tt=null;if(Ke["text-font"]&&!(Tt=U.parse(Ke["text-font"],1,Kn(Jt))))return null;var Et=null;if(Ke["text-color"]&&!(Et=U.parse(Ke["text-color"],1,Gr)))return null;var jt=ce[ce.length-1];jt.scale=ht,jt.font=Tt,jt.textColor=Et}else{var fr=U.parse(_[Ae],1,zr);if(!fr)return null;var ir=fr.type.kind;if("string"!==ir&&"value"!==ir&&"null"!==ir&&"resolvedImage"!==ir)return U.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");be=!0,ce.push({content:fr,scale:null,font:null,textColor:null})}}return new mi(ce)},mi.prototype.evaluate=function(_){return new zi(this.sections.map(function(ee){var ce=ee.content.evaluate(_);return ui(ce)===ea?new ss("",ce,null,null,null):new ss(Wi(ce),null,ee.scale?ee.scale.evaluate(_):null,ee.font?ee.font.evaluate(_).join(","):null,ee.textColor?ee.textColor.evaluate(_):null)}))},mi.prototype.eachChild=function(_){for(var U=0,ee=this.sections;U<ee.length;U+=1){var ce=ee[U];_(ce.content),ce.scale&&_(ce.scale),ce.font&&_(ce.font),ce.textColor&&_(ce.textColor)}},mi.prototype.outputDefined=function(){return!1},mi.prototype.serialize=function(){for(var _=["format"],U=0,ee=this.sections;U<ee.length;U+=1){var ce=ee[U];_.push(ce.content.serialize());var be={};ce.scale&&(be["font-scale"]=ce.scale.serialize()),ce.font&&(be["text-font"]=ce.font.serialize()),ce.textColor&&(be["text-color"]=ce.textColor.serialize()),_.push(be)}return _};var hi=function(_){this.type=ea,this.input=_};hi.parse=function(_,U){if(2!==_.length)return U.error("Expected two arguments.");var ee=U.parse(_[1],1,Jt);return ee?new hi(ee):U.error("No image name provided.")},hi.prototype.evaluate=function(_){var U=this.input.evaluate(_),ee=Ui.fromString(U);return ee&&_.availableImages&&(ee.available=_.availableImages.indexOf(U)>-1),ee},hi.prototype.eachChild=function(_){_(this.input)},hi.prototype.outputDefined=function(){return!1},hi.prototype.serialize=function(){return["image",this.input.serialize()]};var Zi={"to-boolean":Dr,"to-color":Gr,"to-number":Ot,"to-string":Jt},ji=function(_,U){this.type=_,this.args=U};ji.parse=function(_,U){if(_.length<2)return U.error("Expected at least one argument.");var ee=_[0];if(("to-boolean"===ee||"to-string"===ee)&&2!==_.length)return U.error("Expected one argument.");for(var ce=Zi[ee],be=[],Ae=1;Ae<_.length;Ae++){var Ke=U.parse(_[Ae],Ae,zr);if(!Ke)return null;be.push(Ke)}return new ji(ce,be)},ji.prototype.evaluate=function(_){if("boolean"===this.type.kind)return!!this.args[0].evaluate(_);if("color"===this.type.kind){for(var U,ee,ce=0,be=this.args;ce<be.length;ce+=1){if(ee=null,(U=be[ce].evaluate(_))instanceof oi)return U;if("string"==typeof U){var Ke=_.parseColor(U);if(Ke)return Ke}else if(Array.isArray(U)&&!(ee=U.length<3||U.length>4?"Invalid rbga value "+JSON.stringify(U)+": expected an array containing either three or four numeric values.":Jo(U[0],U[1],U[2],U[3])))return new oi(U[0]/255,U[1]/255,U[2]/255,U[3])}throw new Si(ee||"Could not parse color from value '"+("string"==typeof U?U:String(JSON.stringify(U)))+"'")}if("number"===this.type.kind){for(var ht=null,Tt=0,Et=this.args;Tt<Et.length;Tt+=1){if(null===(ht=Et[Tt].evaluate(_)))return 0;var fr=Number(ht);if(!isNaN(fr))return fr}throw new Si("Could not convert "+JSON.stringify(ht)+" to number.")}return"formatted"===this.type.kind?zi.fromString(Wi(this.args[0].evaluate(_))):"resolvedImage"===this.type.kind?Ui.fromString(Wi(this.args[0].evaluate(_))):Wi(this.args[0].evaluate(_))},ji.prototype.eachChild=function(_){this.args.forEach(_)},ji.prototype.outputDefined=function(){return this.args.every(function(_){return _.outputDefined()})},ji.prototype.serialize=function(){if("formatted"===this.type.kind)return new mi([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new hi(this.args[0]).serialize();var _=["to-"+this.type.kind];return this.eachChild(function(U){_.push(U.serialize())}),_};var Qo=["Unknown","Point","LineString","Polygon"],io=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};io.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},io.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Qo[this.feature.type]:this.feature.type:null},io.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},io.prototype.canonicalID=function(){return this.canonical},io.prototype.properties=function(){return this.feature&&this.feature.properties||{}},io.prototype.parseColor=function(_){var U=this._parseColorCache[_];return U||(U=this._parseColorCache[_]=oi.parse(_)),U};var di=function(_,U,ee,ce){this.name=_,this.type=U,this._evaluate=ee,this.args=ce};di.prototype.evaluate=function(_){return this._evaluate(_,this.args)},di.prototype.eachChild=function(_){this.args.forEach(_)},di.prototype.outputDefined=function(){return!1},di.prototype.serialize=function(){return[this.name].concat(this.args.map(function(_){return _.serialize()}))},di.parse=function(_,U){var ee,ce=_[0],be=di.definitions[ce];if(!be)return U.error('Unknown expression "'+ce+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ae=Array.isArray(be)?be[0]:be.type,Ke=Array.isArray(be)?[[be[1],be[2]]]:be.overloads,ht=Ke.filter(function(Da){var ka=Da[0];return!Array.isArray(ka)||ka.length===_.length-1}),Tt=null,Et=0,jt=ht;Et<jt.length;Et+=1){var fr=jt[Et],ir=fr[0],Lr=fr[1];Tt=new go(U.registry,U.path,null,U.scope);for(var Wr=[],gn=!1,sn=1;sn<_.length;sn++){var Rn=_[sn],Sn=Array.isArray(ir)?ir[sn-1]:ir.type,Dn=Tt.parse(Rn,1+Wr.length,Sn);if(!Dn){gn=!0;break}Wr.push(Dn)}if(!gn){if(Array.isArray(ir)&&ir.length!==Wr.length){Tt.error("Expected "+ir.length+" arguments, but found "+Wr.length+" instead.");continue}for(var zn=0;zn<Wr.length;zn++){var Zn=Array.isArray(ir)?ir[zn]:ir.type,oa=Wr[zn];Tt.concat(zn+1).checkSubtype(Zn,oa.type)}if(0===Tt.errors.length)return new di(ce,Ae,Lr,Wr)}}if(1===ht.length)(ee=U.errors).push.apply(ee,Tt.errors);else{for(var Fa=(ht.length?ht:Ke).map(function(Da){return function qs(R){return Array.isArray(R)?"("+R.map(ha).join(", ")+")":"("+ha(R.type)+"...)"}(Da[0])}).join(" | "),ba=[],Aa=1;Aa<_.length;Aa++){var Qa=U.parse(_[Aa],1+ba.length);if(!Qa)return null;ba.push(ha(Qa.type))}U.error("Expected arguments of type "+Fa+", but found ("+ba.join(", ")+") instead.")}return null},di.register=function(_,U){for(var ee in di.definitions=U,U)_[ee]=di};var To=function(_,U,ee){this.type=In,this.locale=ee,this.caseSensitive=_,this.diacriticSensitive=U};To.parse=function(_,U){if(2!==_.length)return U.error("Expected one argument.");var ee=_[1];if("object"!=typeof ee||Array.isArray(ee))return U.error("Collator options argument must be an object.");var ce=U.parse(void 0!==ee["case-sensitive"]&&ee["case-sensitive"],1,Dr);if(!ce)return null;var be=U.parse(void 0!==ee["diacritic-sensitive"]&&ee["diacritic-sensitive"],1,Dr);if(!be)return null;var Ae=null;return ee.locale&&!(Ae=U.parse(ee.locale,1,Jt))?null:new To(ce,be,Ae)},To.prototype.evaluate=function(_){return new mo(this.caseSensitive.evaluate(_),this.diacriticSensitive.evaluate(_),this.locale?this.locale.evaluate(_):null)},To.prototype.eachChild=function(_){_(this.caseSensitive),_(this.diacriticSensitive),this.locale&&_(this.locale)},To.prototype.outputDefined=function(){return!1},To.prototype.serialize=function(){var _={};return _["case-sensitive"]=this.caseSensitive.serialize(),_["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(_.locale=this.locale.serialize()),["collator",_]};var ns=8192;function ls(R,_){R[0]=Math.min(R[0],_[0]),R[1]=Math.min(R[1],_[1]),R[2]=Math.max(R[2],_[0]),R[3]=Math.max(R[3],_[1])}function Ps(R,_){return!(R[0]<=_[0]||R[2]>=_[2]||R[1]<=_[1]||R[3]>=_[3])}function Vs(R,_){var U=function Hs(R){return(180+R)/360}(R[0]),ee=function gs(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}(R[1]),ce=Math.pow(2,_.z);return[Math.round(U*ce*ns),Math.round(ee*ce*ns)]}function el(R,_,U){var ee=R[0]-_[0],ce=R[1]-_[1],be=R[0]-U[0],Ae=R[1]-U[1];return ee*Ae-be*ce==0&&ee*be<=0&&ce*Ae<=0}function yl(R,_,U){return _[1]>R[1]!=U[1]>R[1]&&R[0]<(U[0]-_[0])*(R[1]-_[1])/(U[1]-_[1])+_[0]}function Ds(R,_){for(var U=!1,ee=0,ce=_.length;ee<ce;ee++)for(var be=_[ee],Ae=0,Ke=be.length;Ae<Ke-1;Ae++){if(el(R,be[Ae],be[Ae+1]))return!1;yl(R,be[Ae],be[Ae+1])&&(U=!U)}return U}function tl(R,_){for(var U=0;U<_.length;U++)if(Ds(R,_[U]))return!0;return!1}function xn(R,_,U,ee){var ht=ee[0]-U[0],Tt=ee[1]-U[1],Et=(R[0]-U[0])*Tt-ht*(R[1]-U[1]),jt=(_[0]-U[0])*Tt-ht*(_[1]-U[1]);return Et>0&&jt<0||Et<0&&jt>0}function kn(R,_,U,ee){return 0!==function Vr(R,_){return R[0]*_[1]-R[1]*_[0]}([ee[0]-U[0],ee[1]-U[1]],[_[0]-R[0],_[1]-R[1]])&&!(!xn(R,_,U,ee)||!xn(U,ee,R,_))}function Nn(R,_,U){for(var ee=0,ce=U;ee<ce.length;ee+=1)for(var be=ce[ee],Ae=0;Ae<be.length-1;++Ae)if(kn(R,_,be[Ae],be[Ae+1]))return!0;return!1}function jn(R,_){for(var U=0;U<R.length;++U)if(!Ds(R[U],_))return!1;for(var ee=0;ee<R.length-1;++ee)if(Nn(R[ee],R[ee+1],_))return!1;return!0}function za(R,_){for(var U=0;U<_.length;U++)if(jn(R,_[U]))return!0;return!1}function Ea(R,_,U){for(var ee=[],ce=0;ce<R.length;ce++){for(var be=[],Ae=0;Ae<R[ce].length;Ae++){var Ke=Vs(R[ce][Ae],U);ls(_,Ke),be.push(Ke)}ee.push(be)}return ee}function Ba(R,_,U){for(var ee=[],ce=0;ce<R.length;ce++){var be=Ea(R[ce],_,U);ee.push(be)}return ee}function Ra(R,_,U,ee){if(R[0]<U[0]||R[0]>U[2]){var ce=.5*ee,be=R[0]-U[0]>ce?-ee:U[0]-R[0]>ce?ee:0;0===be&&(be=R[0]-U[2]>ce?-ee:U[2]-R[0]>ce?ee:0),R[0]+=be}ls(_,R)}function Xa(R,_,U,ee){for(var ce=Math.pow(2,ee.z)*ns,be=[ee.x*ns,ee.y*ns],Ae=[],Ke=0,ht=R;Ke<ht.length;Ke+=1)for(var Et=0,jt=ht[Ke];Et<jt.length;Et+=1){var fr=jt[Et],ir=[fr.x+be[0],fr.y+be[1]];Ra(ir,_,U,ce),Ae.push(ir)}return Ae}function ri(R,_,U,ee){for(var ce=Math.pow(2,ee.z)*ns,be=[ee.x*ns,ee.y*ns],Ae=[],Ke=0,ht=R;Ke<ht.length;Ke+=1){for(var Et=[],jt=0,fr=ht[Ke];jt<fr.length;jt+=1){var ir=fr[jt],Lr=[ir.x+be[0],ir.y+be[1]];ls(_,Lr),Et.push(Lr)}Ae.push(Et)}if(_[2]-_[0]<=ce/2){!function si(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}(_);for(var Wr=0,gn=Ae;Wr<gn.length;Wr+=1)for(var Rn=0,Sn=gn[Wr];Rn<Sn.length;Rn+=1)Ra(Sn[Rn],_,U,ce)}return Ae}var Ri=function(_,U){this.type=Dr,this.geojson=_,this.geometries=U};function ho(R){if(R instanceof di){if("get"===R.name&&1===R.args.length)return!1;if("feature-state"===R.name)return!1;if("has"===R.name&&1===R.args.length)return!1;if("properties"===R.name||"geometry-type"===R.name||"id"===R.name)return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof Ri)return!1;var _=!0;return R.eachChild(function(U){_&&!ho(U)&&(_=!1)}),_}function Ji(R){if(R instanceof di&&"feature-state"===R.name)return!1;var _=!0;return R.eachChild(function(U){_&&!Ji(U)&&(_=!1)}),_}function Ao(R,_){if(R instanceof di&&_.indexOf(R.name)>=0)return!1;var U=!0;return R.eachChild(function(ee){U&&!Ao(ee,_)&&(U=!1)}),U}Ri.parse=function(_,U){if(2!==_.length)return U.error("'within' expression requires exactly one argument, but found "+(_.length-1)+" instead.");if(Lo(_[1])){var ee=_[1];if("FeatureCollection"===ee.type)for(var ce=0;ce<ee.features.length;++ce){var be=ee.features[ce].geometry.type;if("Polygon"===be||"MultiPolygon"===be)return new Ri(ee,ee.features[ce].geometry)}else if("Feature"===ee.type){var Ae=ee.geometry.type;if("Polygon"===Ae||"MultiPolygon"===Ae)return new Ri(ee,ee.geometry)}else if("Polygon"===ee.type||"MultiPolygon"===ee.type)return new Ri(ee,ee)}return U.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ri.prototype.evaluate=function(_){if(null!=_.geometry()&&null!=_.canonicalID()){if("Point"===_.geometryType())return function pi(R,_){var U=[1/0,1/0,-1/0,-1/0],ee=[1/0,1/0,-1/0,-1/0],ce=R.canonicalID();if("Polygon"===_.type){var be=Ea(_.coordinates,ee,ce),Ae=Xa(R.geometry(),U,ee,ce);if(!Ps(U,ee))return!1;for(var Ke=0,ht=Ae;Ke<ht.length;Ke+=1)if(!Ds(ht[Ke],be))return!1}if("MultiPolygon"===_.type){var Et=Ba(_.coordinates,ee,ce),jt=Xa(R.geometry(),U,ee,ce);if(!Ps(U,ee))return!1;for(var fr=0,ir=jt;fr<ir.length;fr+=1)if(!tl(ir[fr],Et))return!1}return!0}(_,this.geometries);if("LineString"===_.geometryType())return function Za(R,_){var U=[1/0,1/0,-1/0,-1/0],ee=[1/0,1/0,-1/0,-1/0],ce=R.canonicalID();if("Polygon"===_.type){var be=Ea(_.coordinates,ee,ce),Ae=ri(R.geometry(),U,ee,ce);if(!Ps(U,ee))return!1;for(var Ke=0,ht=Ae;Ke<ht.length;Ke+=1)if(!jn(ht[Ke],be))return!1}if("MultiPolygon"===_.type){var Et=Ba(_.coordinates,ee,ce),jt=ri(R.geometry(),U,ee,ce);if(!Ps(U,ee))return!1;for(var fr=0,ir=jt;fr<ir.length;fr+=1)if(!za(ir[fr],Et))return!1}return!0}(_,this.geometries)}return!1},Ri.prototype.eachChild=function(){},Ri.prototype.outputDefined=function(){return!0},Ri.prototype.serialize=function(){return["within",this.geojson]};var Ki=function(_,U){this.type=U.type,this.name=_,this.boundExpression=U};Ki.parse=function(_,U){if(2!==_.length||"string"!=typeof _[1])return U.error("'var' expression requires exactly one string literal argument.");var ee=_[1];return U.scope.has(ee)?new Ki(ee,U.scope.get(ee)):U.error('Unknown variable "'+ee+'". Make sure "'+ee+'" has been bound in an enclosing "let" expression before using it.',1)},Ki.prototype.evaluate=function(_){return this.boundExpression.evaluate(_)},Ki.prototype.eachChild=function(){},Ki.prototype.outputDefined=function(){return!1},Ki.prototype.serialize=function(){return["var",this.name]};var go=function(_,U,ee,ce,be){void 0===U&&(U=[]),void 0===ce&&(ce=new Yt),void 0===be&&(be=[]),this.registry=_,this.path=U,this.key=U.map(function(Ae){return"["+Ae+"]"}).join(""),this.scope=ce,this.errors=be,this.expectedType=ee};function Ei(R){if(R instanceof Ki)return Ei(R.boundExpression);if(R instanceof di&&"error"===R.name)return!1;if(R instanceof To)return!1;if(R instanceof Ri)return!1;var _=R instanceof ji||R instanceof Sa,U=!0;return R.eachChild(function(ee){U=_?U&&Ei(ee):U&&ee instanceof Yi}),!!U&&ho(R)&&Ao(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function ko(R,_){for(var Ae,U=R.length-1,ee=0,ce=U,be=0;ee<=ce;)if((Ae=R[be=Math.floor((ee+ce)/2)])<=_){if(be===U||_<R[be+1])return be;ee=be+1}else{if(!(Ae>_))throw new Si("Input is not a number.");ce=be-1}return 0}go.prototype.parse=function(_,U,ee,ce,be){return void 0===be&&(be={}),U?this.concat(U,ee,ce)._parse(_,be):this._parse(_,be)},go.prototype._parse=function(_,U){function ee(Et,jt,fr){return"assert"===fr?new Sa(jt,[Et]):"coerce"===fr?new ji(jt,[Et]):Et}if((null===_||"string"==typeof _||"boolean"==typeof _||"number"==typeof _)&&(_=["literal",_]),Array.isArray(_)){if(0===_.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ce=_[0];if("string"!=typeof ce)return this.error("Expression name must be a string, but found "+typeof ce+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var be=this.registry[ce];if(be){var Ae=be.parse(_,this);if(!Ae)return null;if(this.expectedType){var Ke=this.expectedType,ht=Ae.type;if("string"!==Ke.kind&&"number"!==Ke.kind&&"boolean"!==Ke.kind&&"object"!==Ke.kind&&"array"!==Ke.kind||"value"!==ht.kind)if("color"!==Ke.kind&&"formatted"!==Ke.kind&&"resolvedImage"!==Ke.kind||"value"!==ht.kind&&"string"!==ht.kind){if(this.checkSubtype(Ke,ht))return null}else Ae=ee(Ae,Ke,U.typeAnnotation||"coerce");else Ae=ee(Ae,Ke,U.typeAnnotation||"assert")}if(!(Ae instanceof Yi)&&"resolvedImage"!==Ae.type.kind&&Ei(Ae)){var Tt=new io;try{Ae=new Yi(Ae.type,Ae.evaluate(Tt))}catch(Et){return this.error(Et.message),null}}return Ae}return this.error('Unknown expression "'+ce+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(typeof _>"u"?"'undefined' value invalid. Use null instead.":"object"==typeof _?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof _+" instead.")},go.prototype.concat=function(_,U,ee){var ce="number"==typeof _?this.path.concat(_):this.path,be=ee?this.scope.concat(ee):this.scope;return new go(this.registry,ce,U||null,be,this.errors)},go.prototype.error=function(_){for(var U=[],ee=arguments.length-1;ee-- >0;)U[ee]=arguments[ee+1];var ce=""+this.key+U.map(function(be){return"["+be+"]"}).join("");this.errors.push(new Ft(ce,_))},go.prototype.checkSubtype=function(_,U){var ee=$a(_,U);return ee&&this.error(ee),ee};var oo=function(_,U,ee){this.type=_,this.input=U,this.labels=[],this.outputs=[];for(var ce=0,be=ee;ce<be.length;ce+=1){var Ae=be[ce],ht=Ae[1];this.labels.push(Ae[0]),this.outputs.push(ht)}};function to(R,_,U){return R*(1-U)+_*U}oo.parse=function(_,U){if(_.length-1<4)return U.error("Expected at least 4 arguments, but found only "+(_.length-1)+".");if((_.length-1)%2!=0)return U.error("Expected an even number of arguments.");var ee=U.parse(_[1],1,Ot);if(!ee)return null;var ce=[],be=null;U.expectedType&&"value"!==U.expectedType.kind&&(be=U.expectedType);for(var Ae=1;Ae<_.length;Ae+=2){var Ke=1===Ae?-1/0:_[Ae],ht=_[Ae+1],Tt=Ae,Et=Ae+1;if("number"!=typeof Ke)return U.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Tt);if(ce.length&&ce[ce.length-1][0]>=Ke)return U.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Tt);var jt=U.parse(ht,Et,be);if(!jt)return null;be=be||jt.type,ce.push([Ke,jt])}return new oo(be,ee,ce)},oo.prototype.evaluate=function(_){var U=this.labels,ee=this.outputs;if(1===U.length)return ee[0].evaluate(_);var ce=this.input.evaluate(_);if(ce<=U[0])return ee[0].evaluate(_);var be=U.length;return ce>=U[be-1]?ee[be-1].evaluate(_):ee[ko(U,ce)].evaluate(_)},oo.prototype.eachChild=function(_){_(this.input);for(var U=0,ee=this.outputs;U<ee.length;U+=1)_(ee[U])},oo.prototype.outputDefined=function(){return this.outputs.every(function(_){return _.outputDefined()})},oo.prototype.serialize=function(){for(var _=["step",this.input.serialize()],U=0;U<this.labels.length;U++)U>0&&_.push(this.labels[U]),_.push(this.outputs[U].serialize());return _};var gt=Object.freeze({__proto__:null,number:to,color:function us(R,_,U){return new oi(to(R.r,_.r,U),to(R.g,_.g,U),to(R.b,_.b,U),to(R.a,_.a,U))},array:function cn(R,_,U){return R.map(function(ee,ce){return to(ee,_[ce],U)})}}),vr=.95047,hn=1,Jn=1.08883,Ma=4/29,Na=6/29,li=3*Na*Na,Hi=Na*Na*Na,so=Math.PI/180,Fo=180/Math.PI;function Yo(R){return R>Hi?Math.pow(R,.3333333333333333):R/li+Ma}function as(R){return R>Na?R*R*R:li*(R-Ma)}function Zo(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function fs(R){return(R/=255)<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function $o(R){var _=fs(R.r),U=fs(R.g),ee=fs(R.b),ce=Yo((.4124564*_+.3575761*U+.1804375*ee)/vr),be=Yo((.2126729*_+.7151522*U+.072175*ee)/hn);return{l:116*be-16,a:500*(ce-be),b:200*(be-Yo((.0193339*_+.119192*U+.9503041*ee)/Jn)),alpha:R.a}}function ys(R){var _=(R.l+16)/116,U=isNaN(R.a)?_:_+R.a/500,ee=isNaN(R.b)?_:_-R.b/200;return _=hn*as(_),U=vr*as(U),ee=Jn*as(ee),new oi(Zo(3.2404542*U-1.5371385*_-.4985314*ee),Zo(-.969266*U+1.8760108*_+.041556*ee),Zo(.0556434*U-.2040259*_+1.0572252*ee),R.alpha)}function rl(R,_,U){var ee=_-R;return R+U*(ee>180||ee<-180?ee-360*Math.round(ee/360):ee)}var is={forward:$o,reverse:ys,interpolate:function ml(R,_,U){return{l:to(R.l,_.l,U),a:to(R.a,_.a,U),b:to(R.b,_.b,U),alpha:to(R.alpha,_.alpha,U)}}},_l={forward:function cu(R){var _=$o(R),U=_.l,ee=_.a,ce=_.b,be=Math.atan2(ce,ee)*Fo;return{h:be<0?be+360:be,c:Math.sqrt(ee*ee+ce*ce),l:U,alpha:R.a}},reverse:function Ci(R){var _=R.h*so,U=R.c;return ys({l:R.l,a:Math.cos(_)*U,b:Math.sin(_)*U,alpha:R.alpha})},interpolate:function xl(R,_,U){return{h:rl(R.h,_.h,U),c:to(R.c,_.c,U),l:to(R.l,_.l,U),alpha:to(R.alpha,_.alpha,U)}}},Wu=Object.freeze({__proto__:null,lab:is,hcl:_l}),Po=function(_,U,ee,ce,be){this.type=_,this.operator=U,this.interpolation=ee,this.input=ce,this.labels=[],this.outputs=[];for(var Ae=0,Ke=be;Ae<Ke.length;Ae+=1){var ht=Ke[Ae],Et=ht[1];this.labels.push(ht[0]),this.outputs.push(Et)}};function bl(R,_,U,ee){var ce=ee-U,be=R-U;return 0===ce?0:1===_?be/ce:(Math.pow(_,be)-1)/(Math.pow(_,ce)-1)}Po.interpolationFactor=function(_,U,ee,ce){var be=0;if("exponential"===_.name)be=bl(U,_.base,ee,ce);else if("linear"===_.name)be=bl(U,1,ee,ce);else if("cubic-bezier"===_.name){var Ae=_.controlPoints;be=new h(Ae[0],Ae[1],Ae[2],Ae[3]).solve(bl(U,1,ee,ce))}return be},Po.parse=function(_,U){var ee=_[0],ce=_[1],be=_[2],Ae=_.slice(3);if(!Array.isArray(ce)||0===ce.length)return U.error("Expected an interpolation type expression.",1);if("linear"===ce[0])ce={name:"linear"};else if("exponential"===ce[0]){var Ke=ce[1];if("number"!=typeof Ke)return U.error("Exponential interpolation requires a numeric base.",1,1);ce={name:"exponential",base:Ke}}else{if("cubic-bezier"!==ce[0])return U.error("Unknown interpolation type "+String(ce[0]),1,0);var ht=ce.slice(1);if(4!==ht.length||ht.some(function(sn){return"number"!=typeof sn||sn<0||sn>1}))return U.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ce={name:"cubic-bezier",controlPoints:ht}}if(_.length-1<4)return U.error("Expected at least 4 arguments, but found only "+(_.length-1)+".");if((_.length-1)%2!=0)return U.error("Expected an even number of arguments.");if(!(be=U.parse(be,2,Ot)))return null;var Tt=[],Et=null;"interpolate-hcl"===ee||"interpolate-lab"===ee?Et=Gr:U.expectedType&&"value"!==U.expectedType.kind&&(Et=U.expectedType);for(var jt=0;jt<Ae.length;jt+=2){var fr=Ae[jt],ir=Ae[jt+1],Lr=jt+3,Wr=jt+4;if("number"!=typeof fr)return U.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Lr);if(Tt.length&&Tt[Tt.length-1][0]>=fr)return U.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Lr);var gn=U.parse(ir,Wr,Et);if(!gn)return null;Et=Et||gn.type,Tt.push([fr,gn])}return"number"===Et.kind||"color"===Et.kind||"array"===Et.kind&&"number"===Et.itemType.kind&&"number"==typeof Et.N?new Po(Et,ee,ce,be,Tt):U.error("Type "+ha(Et)+" is not interpolatable.")},Po.prototype.evaluate=function(_){var U=this.labels,ee=this.outputs;if(1===U.length)return ee[0].evaluate(_);var ce=this.input.evaluate(_);if(ce<=U[0])return ee[0].evaluate(_);var be=U.length;if(ce>=U[be-1])return ee[be-1].evaluate(_);var Ae=ko(U,ce),Tt=Po.interpolationFactor(this.interpolation,ce,U[Ae],U[Ae+1]),Et=ee[Ae].evaluate(_),jt=ee[Ae+1].evaluate(_);return"interpolate"===this.operator?gt[this.type.kind.toLowerCase()](Et,jt,Tt):"interpolate-hcl"===this.operator?_l.reverse(_l.interpolate(_l.forward(Et),_l.forward(jt),Tt)):is.reverse(is.interpolate(is.forward(Et),is.forward(jt),Tt))},Po.prototype.eachChild=function(_){_(this.input);for(var U=0,ee=this.outputs;U<ee.length;U+=1)_(ee[U])},Po.prototype.outputDefined=function(){return this.outputs.every(function(_){return _.outputDefined()})},Po.prototype.serialize=function(){var _;_="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var U=[this.operator,_,this.input.serialize()],ee=0;ee<this.labels.length;ee++)U.push(this.labels[ee],this.outputs[ee].serialize());return U};var Rs=function(_,U){this.type=_,this.args=U};Rs.parse=function(_,U){if(_.length<2)return U.error("Expectected at least one argument.");var ee=null,ce=U.expectedType;ce&&"value"!==ce.kind&&(ee=ce);for(var be=[],Ae=0,Ke=_.slice(1);Ae<Ke.length;Ae+=1){var Tt=U.parse(Ke[Ae],1+be.length,ee,void 0,{typeAnnotation:"omit"});if(!Tt)return null;ee=ee||Tt.type,be.push(Tt)}var Et=ce&&be.some(function(jt){return $a(ce,jt.type)});return new Rs(Et?zr:ee,be)},Rs.prototype.evaluate=function(_){for(var ce,U=null,ee=0,be=0,Ae=this.args;be<Ae.length&&(ee++,(U=Ae[be].evaluate(_))&&U instanceof Ui&&!U.available&&(ce||(ce=U.name),U=null,ee===this.args.length&&(U=ce)),null===U);be+=1);return U},Rs.prototype.eachChild=function(_){this.args.forEach(_)},Rs.prototype.outputDefined=function(){return this.args.every(function(_){return _.outputDefined()})},Rs.prototype.serialize=function(){var _=["coalesce"];return this.eachChild(function(U){_.push(U.serialize())}),_};var ms=function(_,U){this.type=U.type,this.bindings=[].concat(_),this.result=U};ms.prototype.evaluate=function(_){return this.result.evaluate(_)},ms.prototype.eachChild=function(_){for(var U=0,ee=this.bindings;U<ee.length;U+=1)_(ee[U][1]);_(this.result)},ms.parse=function(_,U){if(_.length<4)return U.error("Expected at least 3 arguments, but found "+(_.length-1)+" instead.");for(var ee=[],ce=1;ce<_.length-1;ce+=2){var be=_[ce];if("string"!=typeof be)return U.error("Expected string, but found "+typeof be+" instead.",ce);if(/[^a-zA-Z0-9_]/.test(be))return U.error("Variable names must contain only alphanumeric characters or '_'.",ce);var Ae=U.parse(_[ce+1],ce+1);if(!Ae)return null;ee.push([be,Ae])}var Ke=U.parse(_[_.length-1],_.length-1,U.expectedType,ee);return Ke?new ms(ee,Ke):null},ms.prototype.outputDefined=function(){return this.result.outputDefined()},ms.prototype.serialize=function(){for(var _=["let"],U=0,ee=this.bindings;U<ee.length;U+=1){var ce=ee[U];_.push(ce[0],ce[1].serialize())}return _.push(this.result.serialize()),_};var Gs=function(_,U,ee){this.type=_,this.index=U,this.input=ee};Gs.parse=function(_,U){if(3!==_.length)return U.error("Expected 2 arguments, but found "+(_.length-1)+" instead.");var ee=U.parse(_[1],1,Ot),ce=U.parse(_[2],2,Kn(U.expectedType||zr));return ee&&ce?new Gs(ce.type.itemType,ee,ce):null},Gs.prototype.evaluate=function(_){var U=this.index.evaluate(_),ee=this.input.evaluate(_);if(U<0)throw new Si("Array index out of bounds: "+U+" < 0.");if(U>=ee.length)throw new Si("Array index out of bounds: "+U+" > "+(ee.length-1)+".");if(U!==Math.floor(U))throw new Si("Array index must be an integer, but found "+U+" instead.");return ee[U]},Gs.prototype.eachChild=function(_){_(this.index),_(this.input)},Gs.prototype.outputDefined=function(){return!1},Gs.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Ws=function(_,U){this.type=Dr,this.needle=_,this.haystack=U};Ws.parse=function(_,U){if(3!==_.length)return U.error("Expected 2 arguments, but found "+(_.length-1)+" instead.");var ee=U.parse(_[1],1,zr),ce=U.parse(_[2],2,zr);return ee&&ce?eo(ee.type,[Dr,Jt,Ot,Vt,zr])?new Ws(ee,ce):U.error("Expected first argument to be of type boolean, string, number or null, but found "+ha(ee.type)+" instead"):null},Ws.prototype.evaluate=function(_){var U=this.needle.evaluate(_),ee=this.haystack.evaluate(_);if(!ee)return!1;if(!ti(U,["boolean","string","number","null"]))throw new Si("Expected first argument to be of type boolean, string, number or null, but found "+ha(ui(U))+" instead.");if(!ti(ee,["string","array"]))throw new Si("Expected second argument to be of type array or string, but found "+ha(ui(ee))+" instead.");return ee.indexOf(U)>=0},Ws.prototype.eachChild=function(_){_(this.needle),_(this.haystack)},Ws.prototype.outputDefined=function(){return!0},Ws.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var _s=function(_,U,ee){this.type=Ot,this.needle=_,this.haystack=U,this.fromIndex=ee};_s.parse=function(_,U){if(_.length<=2||_.length>=5)return U.error("Expected 3 or 4 arguments, but found "+(_.length-1)+" instead.");var ee=U.parse(_[1],1,zr),ce=U.parse(_[2],2,zr);if(!ee||!ce)return null;if(!eo(ee.type,[Dr,Jt,Ot,Vt,zr]))return U.error("Expected first argument to be of type boolean, string, number or null, but found "+ha(ee.type)+" instead");if(4===_.length){var be=U.parse(_[3],3,Ot);return be?new _s(ee,ce,be):null}return new _s(ee,ce)},_s.prototype.evaluate=function(_){var U=this.needle.evaluate(_),ee=this.haystack.evaluate(_);if(!ti(U,["boolean","string","number","null"]))throw new Si("Expected first argument to be of type boolean, string, number or null, but found "+ha(ui(U))+" instead.");if(!ti(ee,["string","array"]))throw new Si("Expected second argument to be of type array or string, but found "+ha(ui(ee))+" instead.");if(this.fromIndex){var ce=this.fromIndex.evaluate(_);return ee.indexOf(U,ce)}return ee.indexOf(U)},_s.prototype.eachChild=function(_){_(this.needle),_(this.haystack),this.fromIndex&&_(this.fromIndex)},_s.prototype.outputDefined=function(){return!1},_s.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var _=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),_]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var nl=function(_,U,ee,ce,be,Ae){this.inputType=_,this.type=U,this.input=ee,this.cases=ce,this.outputs=be,this.otherwise=Ae};nl.parse=function(_,U){if(_.length<5)return U.error("Expected at least 4 arguments, but found only "+(_.length-1)+".");if(_.length%2!=1)return U.error("Expected an even number of arguments.");var ee,ce;U.expectedType&&"value"!==U.expectedType.kind&&(ce=U.expectedType);for(var be={},Ae=[],Ke=2;Ke<_.length-1;Ke+=2){var ht=_[Ke],Tt=_[Ke+1];Array.isArray(ht)||(ht=[ht]);var Et=U.concat(Ke);if(0===ht.length)return Et.error("Expected at least one branch label.");for(var jt=0,fr=ht;jt<fr.length;jt+=1){var ir=fr[jt];if("number"!=typeof ir&&"string"!=typeof ir)return Et.error("Branch labels must be numbers or strings.");if("number"==typeof ir&&Math.abs(ir)>Number.MAX_SAFE_INTEGER)return Et.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof ir&&Math.floor(ir)!==ir)return Et.error("Numeric branch labels must be integer values.");if(ee){if(Et.checkSubtype(ee,ui(ir)))return null}else ee=ui(ir);if(typeof be[String(ir)]<"u")return Et.error("Branch labels must be unique.");be[String(ir)]=Ae.length}var Lr=U.parse(Tt,Ke,ce);if(!Lr)return null;ce=ce||Lr.type,Ae.push(Lr)}var Wr=U.parse(_[1],1,zr);if(!Wr)return null;var gn=U.parse(_[_.length-1],_.length-1,ce);return!gn||"value"!==Wr.type.kind&&U.concat(1).checkSubtype(ee,Wr.type)?null:new nl(ee,ce,Wr,be,Ae,gn)},nl.prototype.evaluate=function(_){var U=this.input.evaluate(_);return(ui(U)===this.inputType&&this.outputs[this.cases[U]]||this.otherwise).evaluate(_)},nl.prototype.eachChild=function(_){_(this.input),this.outputs.forEach(_),_(this.otherwise)},nl.prototype.outputDefined=function(){return this.outputs.every(function(_){return _.outputDefined()})&&this.otherwise.outputDefined()},nl.prototype.serialize=function(){for(var _=this,U=["match",this.input.serialize()],ce=[],be={},Ae=0,Ke=Object.keys(this.cases).sort();Ae<Ke.length;Ae+=1){var ht=Ke[Ae];void 0===(Tt=be[this.cases[ht]])?(be[this.cases[ht]]=ce.length,ce.push([this.cases[ht],[ht]])):ce[Tt][1].push(ht)}for(var Et=function(Wr){return"number"===_.inputType.kind?Number(Wr):Wr},jt=0,fr=ce;jt<fr.length;jt+=1){var ir=fr[jt],Tt=ir[0],Lr=ir[1];U.push(1===Lr.length?Et(Lr[0]):Lr.map(Et)),U.push(this.outputs[outputIndex$1].serialize())}return U.push(this.otherwise.serialize()),U};var al=function(_,U,ee){this.type=_,this.branches=U,this.otherwise=ee};al.parse=function(_,U){if(_.length<4)return U.error("Expected at least 3 arguments, but found only "+(_.length-1)+".");if(_.length%2!=0)return U.error("Expected an odd number of arguments.");var ee;U.expectedType&&"value"!==U.expectedType.kind&&(ee=U.expectedType);for(var ce=[],be=1;be<_.length-1;be+=2){var Ae=U.parse(_[be],be,Dr);if(!Ae)return null;var Ke=U.parse(_[be+1],be+1,ee);if(!Ke)return null;ce.push([Ae,Ke]),ee=ee||Ke.type}var ht=U.parse(_[_.length-1],_.length-1,ee);return ht?new al(ee,ce,ht):null},al.prototype.evaluate=function(_){for(var U=0,ee=this.branches;U<ee.length;U+=1){var ce=ee[U],Ae=ce[1];if(ce[0].evaluate(_))return Ae.evaluate(_)}return this.otherwise.evaluate(_)},al.prototype.eachChild=function(_){for(var U=0,ee=this.branches;U<ee.length;U+=1){var ce=ee[U],Ae=ce[1];_(ce[0]),_(Ae)}_(this.otherwise)},al.prototype.outputDefined=function(){return this.branches.every(function(_){return _[1].outputDefined()})&&this.otherwise.outputDefined()},al.prototype.serialize=function(){var _=["case"];return this.eachChild(function(U){_.push(U.serialize())}),_};var xs=function(_,U,ee,ce){this.type=_,this.input=U,this.beginIndex=ee,this.endIndex=ce};function Eu(R,_){return"=="===R||"!="===R?"boolean"===_.kind||"string"===_.kind||"number"===_.kind||"null"===_.kind||"value"===_.kind:"string"===_.kind||"number"===_.kind||"value"===_.kind}function Yu(R,_,U,ee){return 0===ee.compare(_,U)}function il(R,_,U){var ee="=="!==R&&"!="!==R;return function(){function ce(be,Ae,Ke){this.type=Dr,this.lhs=be,this.rhs=Ae,this.collator=Ke,this.hasUntypedArgument="value"===be.type.kind||"value"===Ae.type.kind}return ce.parse=function(Ae,Ke){if(3!==Ae.length&&4!==Ae.length)return Ke.error("Expected two or three arguments.");var ht=Ae[0],Tt=Ke.parse(Ae[1],1,zr);if(!Tt)return null;if(!Eu(ht,Tt.type))return Ke.concat(1).error('"'+ht+"\" comparisons are not supported for type '"+ha(Tt.type)+"'.");var Et=Ke.parse(Ae[2],2,zr);if(!Et)return null;if(!Eu(ht,Et.type))return Ke.concat(2).error('"'+ht+"\" comparisons are not supported for type '"+ha(Et.type)+"'.");if(Tt.type.kind!==Et.type.kind&&"value"!==Tt.type.kind&&"value"!==Et.type.kind)return Ke.error("Cannot compare types '"+ha(Tt.type)+"' and '"+ha(Et.type)+"'.");ee&&("value"===Tt.type.kind&&"value"!==Et.type.kind?Tt=new Sa(Et.type,[Tt]):"value"!==Tt.type.kind&&"value"===Et.type.kind&&(Et=new Sa(Tt.type,[Et])));var jt=null;if(4===Ae.length){if("string"!==Tt.type.kind&&"string"!==Et.type.kind&&"value"!==Tt.type.kind&&"value"!==Et.type.kind)return Ke.error("Cannot use collator to compare non-string types.");if(!(jt=Ke.parse(Ae[3],3,In)))return null}return new ce(Tt,Et,jt)},ce.prototype.evaluate=function(Ae){var Ke=this.lhs.evaluate(Ae),ht=this.rhs.evaluate(Ae);if(ee&&this.hasUntypedArgument){var Tt=ui(Ke),Et=ui(ht);if(Tt.kind!==Et.kind||"string"!==Tt.kind&&"number"!==Tt.kind)throw new Si('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+Tt.kind+", "+Et.kind+") instead.")}if(this.collator&&!ee&&this.hasUntypedArgument){var jt=ui(Ke),fr=ui(ht);if("string"!==jt.kind||"string"!==fr.kind)return _(Ae,Ke,ht)}return this.collator?U(Ae,Ke,ht,this.collator.evaluate(Ae)):_(Ae,Ke,ht)},ce.prototype.eachChild=function(Ae){Ae(this.lhs),Ae(this.rhs),this.collator&&Ae(this.collator)},ce.prototype.outputDefined=function(){return!0},ce.prototype.serialize=function(){var Ae=[R];return this.eachChild(function(Ke){Ae.push(Ke.serialize())}),Ae},ce}()}xs.parse=function(_,U){if(_.length<=2||_.length>=5)return U.error("Expected 3 or 4 arguments, but found "+(_.length-1)+" instead.");var ee=U.parse(_[1],1,zr),ce=U.parse(_[2],2,Ot);if(!ee||!ce)return null;if(!eo(ee.type,[Kn(zr),Jt,zr]))return U.error("Expected first argument to be of type array or string, but found "+ha(ee.type)+" instead");if(4===_.length){var be=U.parse(_[3],3,Ot);return be?new xs(ee.type,ee,ce,be):null}return new xs(ee.type,ee,ce)},xs.prototype.evaluate=function(_){var U=this.input.evaluate(_),ee=this.beginIndex.evaluate(_);if(!ti(U,["string","array"]))throw new Si("Expected first argument to be of type array or string, but found "+ha(ui(U))+" instead.");if(this.endIndex){var ce=this.endIndex.evaluate(_);return U.slice(ee,ce)}return U.slice(ee)},xs.prototype.eachChild=function(_){_(this.input),_(this.beginIndex),this.endIndex&&_(this.endIndex)},xs.prototype.outputDefined=function(){return!1},xs.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var _=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),_]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Zl=il("==",function Cu(R,_,U){return _===U},Yu),kl=il("!=",function hu(R,_,U){return _!==U},function Zu(R,_,U,ee){return!Yu(0,_,U,ee)}),Pu=il("<",function Il(R,_,U){return _<U},function Xu(R,_,U,ee){return ee.compare(_,U)<0}),Du=il(">",function Lu(R,_,U){return _>U},function vu(R,_,U,ee){return ee.compare(_,U)>0}),Ru=il("<=",function vf(R,_,U){return _<=U},function Io(R,_,U,ee){return ee.compare(_,U)<=0}),pf=il(">=",function df(R,_,U){return _>=U},function cs(R,_,U,ee){return ee.compare(_,U)>=0}),ol=function(_,U,ee,ce,be){this.type=Jt,this.number=_,this.locale=U,this.currency=ee,this.minFractionDigits=ce,this.maxFractionDigits=be};ol.parse=function(_,U){if(3!==_.length)return U.error("Expected two arguments.");var ee=U.parse(_[1],1,Ot);if(!ee)return null;var ce=_[2];if("object"!=typeof ce||Array.isArray(ce))return U.error("NumberFormat options argument must be an object.");var be=null;if(ce.locale&&!(be=U.parse(ce.locale,1,Jt)))return null;var Ae=null;if(ce.currency&&!(Ae=U.parse(ce.currency,1,Jt)))return null;var Ke=null;if(ce["min-fraction-digits"]&&!(Ke=U.parse(ce["min-fraction-digits"],1,Ot)))return null;var ht=null;return ce["max-fraction-digits"]&&!(ht=U.parse(ce["max-fraction-digits"],1,Ot))?null:new ol(ee,be,Ae,Ke,ht)},ol.prototype.evaluate=function(_){return new Intl.NumberFormat(this.locale?this.locale.evaluate(_):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(_):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(_):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(_):void 0}).format(this.number.evaluate(_))},ol.prototype.eachChild=function(_){_(this.number),this.locale&&_(this.locale),this.currency&&_(this.currency),this.minFractionDigits&&_(this.minFractionDigits),this.maxFractionDigits&&_(this.maxFractionDigits)},ol.prototype.outputDefined=function(){return!1},ol.prototype.serialize=function(){var _={};return this.locale&&(_.locale=this.locale.serialize()),this.currency&&(_.currency=this.currency.serialize()),this.minFractionDigits&&(_["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(_["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),_]};var sl=function(_){this.type=Ot,this.input=_};sl.parse=function(_,U){if(2!==_.length)return U.error("Expected 1 argument, but found "+(_.length-1)+" instead.");var ee=U.parse(_[1],1);return ee?"array"!==ee.type.kind&&"string"!==ee.type.kind&&"value"!==ee.type.kind?U.error("Expected argument of type string or array, but found "+ha(ee.type)+" instead."):new sl(ee):null},sl.prototype.evaluate=function(_){var U=this.input.evaluate(_);if("string"==typeof U)return U.length;if(Array.isArray(U))return U.length;throw new Si("Expected value to be of type string or array, but found "+ha(ui(U))+" instead.")},sl.prototype.eachChild=function(_){_(this.input)},sl.prototype.outputDefined=function(){return!1},sl.prototype.serialize=function(){var _=["length"];return this.eachChild(function(U){_.push(U.serialize())}),_};var Do={"==":Zl,"!=":kl,">":Du,"<":Pu,">=":pf,"<=":Ru,array:Sa,at:Gs,boolean:Sa,case:al,coalesce:Rs,collator:To,format:mi,image:hi,in:Ws,"index-of":_s,interpolate:Po,"interpolate-hcl":Po,"interpolate-lab":Po,length:sl,let:ms,literal:Yi,match:nl,number:Sa,"number-format":ol,object:Sa,slice:xs,step:oo,string:Sa,"to-boolean":ji,"to-color":ji,"to-number":ji,"to-string":ji,var:Ki,within:Ri};function Xl(R,_){var U=_[0],ee=_[1],ce=_[2],be=_[3];U=U.evaluate(R),ee=ee.evaluate(R),ce=ce.evaluate(R);var Ae=be?be.evaluate(R):1,Ke=Jo(U,ee,ce,Ae);if(Ke)throw new Si(Ke);return new oi(U/255*Ae,ee/255*Ae,ce/255*Ae,Ae)}function du(R,_){return R in _}function wl(R,_){var U=_[R];return typeof U>"u"?null:U}function ll(R){return{type:R}}function jl(R){return{result:"success",value:R}}function Ys(R){return{result:"error",value:R}}function Zs(R){return"data-driven"===R["property-type"]||"cross-faded-data-driven"===R["property-type"]}function Kl(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function Tl(R){return!!R.expression&&R.expression.interpolated}function Oi(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":null===R?"null":typeof R}function Fl(R){return"object"==typeof R&&null!==R&&!Array.isArray(R)}function _u(R){return R}function pu(R,_){var Ke,ht,Tt,U="color"===_.type,ee=R.stops&&"object"==typeof R.stops[0][0],be=ee||!(ee||void 0!==R.property),Ae=R.type||(Tl(_)?"exponential":"interval");if(U&&((R=nt({},R)).stops&&(R.stops=R.stops.map(function(aa){return[aa[0],oi.parse(aa[1])]})),R.default=oi.parse(R.default?R.default:_.default)),R.colorSpace&&"rgb"!==R.colorSpace&&!Wu[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);if("exponential"===Ae)Ke=Jl;else if("interval"===Ae)Ke=Iu;else if("categorical"===Ae){Ke=Ku,ht=Object.create(null);for(var Et=0,jt=R.stops;Et<jt.length;Et+=1){var fr=jt[Et];ht[fr[0]]=fr[1]}Tt=typeof R.stops[0][0]}else{if("identity"!==Ae)throw new Error('Unknown function type "'+Ae+'"');Ke=gu}if(ee){for(var ir={},Lr=[],Wr=0;Wr<R.stops.length;Wr++){var gn=R.stops[Wr],sn=gn[0].zoom;void 0===ir[sn]&&(ir[sn]={zoom:sn,type:R.type,property:R.property,default:R.default,stops:[]},Lr.push(sn)),ir[sn].stops.push([gn[0].value,gn[1]])}for(var Rn=[],Sn=0,Dn=Lr;Sn<Dn.length;Sn+=1){var zn=Dn[Sn];Rn.push([ir[zn].zoom,pu(ir[zn],_)])}var Zn={name:"linear"};return{kind:"composite",interpolationType:Zn,interpolationFactor:Po.interpolationFactor.bind(void 0,Zn),zoomStops:Rn.map(function(aa){return aa[0]}),evaluate:function(Fa,ba){var Aa=Fa.zoom;return Jl({stops:Rn,base:R.base},_,Aa).evaluate(Aa,ba)}}}if(be){var oa="exponential"===Ae?{name:"exponential",base:void 0!==R.base?R.base:1}:null;return{kind:"camera",interpolationType:oa,interpolationFactor:Po.interpolationFactor.bind(void 0,oa),zoomStops:R.stops.map(function(aa){return aa[0]}),evaluate:function(aa){return Ke(R,_,aa.zoom,ht,Tt)}}}return{kind:"source",evaluate:function(Fa,ba){var Aa=ba&&ba.properties?ba.properties[R.property]:void 0;return void 0===Aa?Al(R.default,_.default):Ke(R,_,Aa,ht,Tt)}}}function Al(R,_,U){return void 0!==R?R:void 0!==_?_:void 0!==U?U:void 0}function Ku(R,_,U,ee,ce){return Al(typeof U===ce?ee[U]:void 0,R.default,_.default)}function Iu(R,_,U){if("number"!==Oi(U))return Al(R.default,_.default);var ee=R.stops.length;if(1===ee||U<=R.stops[0][0])return R.stops[0][1];if(U>=R.stops[ee-1][0])return R.stops[ee-1][1];var ce=ko(R.stops.map(function(be){return be[0]}),U);return R.stops[ce][1]}function Jl(R,_,U){var ee=void 0!==R.base?R.base:1;if("number"!==Oi(U))return Al(R.default,_.default);var ce=R.stops.length;if(1===ce||U<=R.stops[0][0])return R.stops[0][1];if(U>=R.stops[ce-1][0])return R.stops[ce-1][1];var be=ko(R.stops.map(function(jt){return jt[0]}),U),Ae=function Ju(R,_,U,ee){var ce=ee-U,be=R-U;return 0===ce?0:1===_?be/ce:(Math.pow(_,be)-1)/(Math.pow(_,ce)-1)}(U,ee,R.stops[be][0],R.stops[be+1][0]),Ke=R.stops[be][1],ht=R.stops[be+1][1],Tt=gt[_.type]||_u;if(R.colorSpace&&"rgb"!==R.colorSpace){var Et=Wu[R.colorSpace];Tt=function(jt,fr){return Et.reverse(Et.interpolate(Et.forward(jt),Et.forward(fr),Ae))}}return"function"==typeof Ke.evaluate?{evaluate:function(){for(var fr=[],ir=arguments.length;ir--;)fr[ir]=arguments[ir];var Lr=Ke.evaluate.apply(void 0,fr),Wr=ht.evaluate.apply(void 0,fr);if(void 0!==Lr&&void 0!==Wr)return Tt(Lr,Wr,Ae)}}:Tt(Ke,ht,Ae)}function gu(R,_,U){return"color"===_.type?U=oi.parse(U):"formatted"===_.type?U=zi.fromString(U.toString()):"resolvedImage"===_.type?U=Ui.fromString(U.toString()):Oi(U)!==_.type&&("enum"!==_.type||!_.values[U])&&(U=void 0),Al(U,R.default,_.default)}di.register(Do,{error:[{kind:"error"},[Jt],function(R,_){throw new Si(_[0].evaluate(R))}],typeof:[Jt,[zr],function(R,_){return ha(ui(_[0].evaluate(R)))}],"to-rgba":[Kn(Ot,4),[Gr],function(R,_){return _[0].evaluate(R).toArray()}],rgb:[Gr,[Ot,Ot,Ot],Xl],rgba:[Gr,[Ot,Ot,Ot,Ot],Xl],has:{type:Dr,overloads:[[[Jt],function(R,_){return du(_[0].evaluate(R),R.properties())}],[[Jt,Yr],function(R,_){var ee=_[1];return du(_[0].evaluate(R),ee.evaluate(R))}]]},get:{type:zr,overloads:[[[Jt],function(R,_){return wl(_[0].evaluate(R),R.properties())}],[[Jt,Yr],function(R,_){var ee=_[1];return wl(_[0].evaluate(R),ee.evaluate(R))}]]},"feature-state":[zr,[Jt],function(R,_){return wl(_[0].evaluate(R),R.featureState||{})}],properties:[Yr,[],function(R){return R.properties()}],"geometry-type":[Jt,[],function(R){return R.geometryType()}],id:[zr,[],function(R){return R.id()}],zoom:[Ot,[],function(R){return R.globals.zoom}],"heatmap-density":[Ot,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[Ot,[],function(R){return R.globals.lineProgress||0}],accumulated:[zr,[],function(R){return void 0===R.globals.accumulated?null:R.globals.accumulated}],"+":[Ot,ll(Ot),function(R,_){for(var U=0,ee=0,ce=_;ee<ce.length;ee+=1)U+=ce[ee].evaluate(R);return U}],"*":[Ot,ll(Ot),function(R,_){for(var U=1,ee=0,ce=_;ee<ce.length;ee+=1)U*=ce[ee].evaluate(R);return U}],"-":{type:Ot,overloads:[[[Ot,Ot],function(R,_){var ee=_[1];return _[0].evaluate(R)-ee.evaluate(R)}],[[Ot],function(R,_){return-_[0].evaluate(R)}]]},"/":[Ot,[Ot,Ot],function(R,_){var ee=_[1];return _[0].evaluate(R)/ee.evaluate(R)}],"%":[Ot,[Ot,Ot],function(R,_){var ee=_[1];return _[0].evaluate(R)%ee.evaluate(R)}],ln2:[Ot,[],function(){return Math.LN2}],pi:[Ot,[],function(){return Math.PI}],e:[Ot,[],function(){return Math.E}],"^":[Ot,[Ot,Ot],function(R,_){var ee=_[1];return Math.pow(_[0].evaluate(R),ee.evaluate(R))}],sqrt:[Ot,[Ot],function(R,_){return Math.sqrt(_[0].evaluate(R))}],log10:[Ot,[Ot],function(R,_){return Math.log(_[0].evaluate(R))/Math.LN10}],ln:[Ot,[Ot],function(R,_){return Math.log(_[0].evaluate(R))}],log2:[Ot,[Ot],function(R,_){return Math.log(_[0].evaluate(R))/Math.LN2}],sin:[Ot,[Ot],function(R,_){return Math.sin(_[0].evaluate(R))}],cos:[Ot,[Ot],function(R,_){return Math.cos(_[0].evaluate(R))}],tan:[Ot,[Ot],function(R,_){return Math.tan(_[0].evaluate(R))}],asin:[Ot,[Ot],function(R,_){return Math.asin(_[0].evaluate(R))}],acos:[Ot,[Ot],function(R,_){return Math.acos(_[0].evaluate(R))}],atan:[Ot,[Ot],function(R,_){return Math.atan(_[0].evaluate(R))}],min:[Ot,ll(Ot),function(R,_){return Math.min.apply(Math,_.map(function(U){return U.evaluate(R)}))}],max:[Ot,ll(Ot),function(R,_){return Math.max.apply(Math,_.map(function(U){return U.evaluate(R)}))}],abs:[Ot,[Ot],function(R,_){return Math.abs(_[0].evaluate(R))}],round:[Ot,[Ot],function(R,_){var ee=_[0].evaluate(R);return ee<0?-Math.round(-ee):Math.round(ee)}],floor:[Ot,[Ot],function(R,_){return Math.floor(_[0].evaluate(R))}],ceil:[Ot,[Ot],function(R,_){return Math.ceil(_[0].evaluate(R))}],"filter-==":[Dr,[Jt,zr],function(R,_){var U=_[0],ee=_[1];return R.properties()[U.value]===ee.value}],"filter-id-==":[Dr,[zr],function(R,_){var U=_[0];return R.id()===U.value}],"filter-type-==":[Dr,[Jt],function(R,_){var U=_[0];return R.geometryType()===U.value}],"filter-<":[Dr,[Jt,zr],function(R,_){var U=_[0],ee=_[1],ce=R.properties()[U.value],be=ee.value;return typeof ce==typeof be&&ce<be}],"filter-id-<":[Dr,[zr],function(R,_){var U=_[0],ee=R.id(),ce=U.value;return typeof ee==typeof ce&&ee<ce}],"filter->":[Dr,[Jt,zr],function(R,_){var U=_[0],ee=_[1],ce=R.properties()[U.value],be=ee.value;return typeof ce==typeof be&&ce>be}],"filter-id->":[Dr,[zr],function(R,_){var U=_[0],ee=R.id(),ce=U.value;return typeof ee==typeof ce&&ee>ce}],"filter-<=":[Dr,[Jt,zr],function(R,_){var U=_[0],ee=_[1],ce=R.properties()[U.value],be=ee.value;return typeof ce==typeof be&&ce<=be}],"filter-id-<=":[Dr,[zr],function(R,_){var U=_[0],ee=R.id(),ce=U.value;return typeof ee==typeof ce&&ee<=ce}],"filter->=":[Dr,[Jt,zr],function(R,_){var U=_[0],ee=_[1],ce=R.properties()[U.value],be=ee.value;return typeof ce==typeof be&&ce>=be}],"filter-id->=":[Dr,[zr],function(R,_){var U=_[0],ee=R.id(),ce=U.value;return typeof ee==typeof ce&&ee>=ce}],"filter-has":[Dr,[zr],function(R,_){return _[0].value in R.properties()}],"filter-has-id":[Dr,[],function(R){return null!==R.id()&&void 0!==R.id()}],"filter-type-in":[Dr,[Kn(Jt)],function(R,_){return _[0].value.indexOf(R.geometryType())>=0}],"filter-id-in":[Dr,[Kn(zr)],function(R,_){return _[0].value.indexOf(R.id())>=0}],"filter-in-small":[Dr,[Jt,Kn(zr)],function(R,_){var U=_[0];return _[1].value.indexOf(R.properties()[U.value])>=0}],"filter-in-large":[Dr,[Jt,Kn(zr)],function(R,_){var U=_[0],ee=_[1];return function ju(R,_,U,ee){for(;U<=ee;){var ce=U+ee>>1;if(_[ce]===R)return!0;_[ce]>R?ee=ce-1:U=ce+1}return!1}(R.properties()[U.value],ee.value,0,ee.value.length-1)}],all:{type:Dr,overloads:[[[Dr,Dr],function(R,_){var ee=_[1];return _[0].evaluate(R)&&ee.evaluate(R)}],[ll(Dr),function(R,_){for(var U=0,ee=_;U<ee.length;U+=1)if(!ee[U].evaluate(R))return!1;return!0}]]},any:{type:Dr,overloads:[[[Dr,Dr],function(R,_){var ee=_[1];return _[0].evaluate(R)||ee.evaluate(R)}],[ll(Dr),function(R,_){for(var U=0,ee=_;U<ee.length;U+=1)if(ee[U].evaluate(R))return!0;return!1}]]},"!":[Dr,[Dr],function(R,_){return!_[0].evaluate(R)}],"is-supported-script":[Dr,[Jt],function(R,_){var ee=R.globals&&R.globals.isSupportedScript;return!ee||ee(_[0].evaluate(R))}],upcase:[Jt,[Jt],function(R,_){return _[0].evaluate(R).toUpperCase()}],downcase:[Jt,[Jt],function(R,_){return _[0].evaluate(R).toLowerCase()}],concat:[Jt,ll(zr),function(R,_){return _.map(function(U){return Wi(U.evaluate(R))}).join("")}],"resolved-locale":[Jt,[In],function(R,_){return _[0].evaluate(R).resolvedLocale()}]});var Xs=function(_,U){this.expression=_,this._warningHistory={},this._evaluator=new io,this._defaultValue=U?function yu(R){return"color"===R.type&&Fl(R.default)?new oi(0,0,0,0):"color"===R.type?oi.parse(R.default)||null:void 0===R.default?null:R.default}(U):null,this._enumValues=U&&"enum"===U.type?U.values:null};function Ql(R){return Array.isArray(R)&&R.length>0&&"string"==typeof R[0]&&R[0]in Do}function $l(R,_){var U=new go(Do,[],_?function Qu(R){var _={color:Gr,string:Jt,number:Ot,enum:Jt,boolean:Dr,formatted:Bn,resolvedImage:ea};return"array"===R.type?Kn(_[R.value]||zr,R.length):_[R.type]}(_):void 0),ee=U.parse(R,void 0,void 0,void 0,_&&"string"===_.type?{typeAnnotation:"coerce"}:void 0);return ee?jl(new Xs(ee,_)):Ys(U.errors)}Xs.prototype.evaluateWithoutErrorHandling=function(_,U,ee,ce,be,Ae){return this._evaluator.globals=_,this._evaluator.feature=U,this._evaluator.featureState=ee,this._evaluator.canonical=ce,this._evaluator.availableImages=be||null,this._evaluator.formattedSection=Ae,this.expression.evaluate(this._evaluator)},Xs.prototype.evaluate=function(_,U,ee,ce,be,Ae){this._evaluator.globals=_,this._evaluator.feature=U||null,this._evaluator.featureState=ee||null,this._evaluator.canonical=ce,this._evaluator.availableImages=be||null,this._evaluator.formattedSection=Ae||null;try{var Ke=this.expression.evaluate(this._evaluator);if(null==Ke||"number"==typeof Ke&&Ke!=Ke)return this._defaultValue;if(this._enumValues&&!(Ke in this._enumValues))throw new Si("Expected value to be one of "+Object.keys(this._enumValues).map(function(ht){return JSON.stringify(ht)}).join(", ")+", but found "+JSON.stringify(Ke)+" instead.");return Ke}catch(ht){return this._warningHistory[ht.message]||(this._warningHistory[ht.message]=!0,typeof console<"u"&&console.warn(ht.message)),this._defaultValue}};var js=function(_,U){this.kind=_,this._styleExpression=U,this.isStateDependent="constant"!==_&&!Ji(U.expression)};js.prototype.evaluateWithoutErrorHandling=function(_,U,ee,ce,be,Ae){return this._styleExpression.evaluateWithoutErrorHandling(_,U,ee,ce,be,Ae)},js.prototype.evaluate=function(_,U,ee,ce,be,Ae){return this._styleExpression.evaluate(_,U,ee,ce,be,Ae)};var bs=function(_,U,ee,ce){this.kind=_,this.zoomStops=ee,this._styleExpression=U,this.isStateDependent="camera"!==_&&!Ji(U.expression),this.interpolationType=ce};function ql(R,_){if("error"===(R=$l(R,_)).result)return R;var U=R.value.expression,ee=ho(U);if(!ee&&!Zs(_))return Ys([new Ft("","data expressions not supported")]);var ce=Ao(U,["zoom"]);if(!ce&&!Kl(_))return Ys([new Ft("","zoom expressions not supported")]);var be=zl(U);return be||ce?be instanceof Ft?Ys([be]):be instanceof Po&&!Tl(_)?Ys([new Ft("",'"interpolate" expressions cannot be used with this property')]):jl(be?new bs(ee?"camera":"composite",R.value,be.labels,be instanceof Po?be.interpolation:void 0):new js(ee?"constant":"source",R.value)):Ys([new Ft("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}bs.prototype.evaluateWithoutErrorHandling=function(_,U,ee,ce,be,Ae){return this._styleExpression.evaluateWithoutErrorHandling(_,U,ee,ce,be,Ae)},bs.prototype.evaluate=function(_,U,ee,ce,be,Ae){return this._styleExpression.evaluate(_,U,ee,ce,be,Ae)},bs.prototype.interpolationFactor=function(_,U,ee){return this.interpolationType?Po.interpolationFactor(this.interpolationType,_,U,ee):0};var ul=function(_,U){this._parameters=_,this._specification=U,nt(this,pu(this._parameters,this._specification))};function zl(R){var _=null;if(R instanceof ms)_=zl(R.result);else if(R instanceof Rs)for(var U=0,ee=R.args;U<ee.length&&!(_=zl(ee[U]));U+=1);else(R instanceof oo||R instanceof Po)&&R.input instanceof di&&"zoom"===R.input.name&&(_=R);return _ instanceof Ft||R.eachChild(function(be){var Ae=zl(be);Ae instanceof Ft?_=Ae:!_&&Ae?_=new Ft("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):_&&Ae&&_!==Ae&&(_=new Ft("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),_}function xo(R){var _=R.key,U=R.value,ee=R.valueSpec||{},ce=R.objectElementValidators||{},be=R.style,Ae=R.styleSpec,Ke=[],ht=Oi(U);if("object"!==ht)return[new ge(_,U,"object expected, "+ht+" found")];for(var Tt in U){var Et=Tt.split(".")[0],jt=ee[Et]||ee["*"],fr=void 0;if(ce[Et])fr=ce[Et];else if(ee[Et])fr=Ar;else if(ce["*"])fr=ce["*"];else{if(!ee["*"]){Ke.push(new ge(_,U[Tt],'unknown property "'+Tt+'"'));continue}fr=Ar}Ke=Ke.concat(fr({key:(_&&_+".")+Tt,value:U[Tt],valueSpec:jt,style:be,styleSpec:Ae,object:U,objectKey:Tt},U))}for(var ir in ee)ce[ir]||ee[ir].required&&void 0===ee[ir].default&&void 0===U[ir]&&Ke.push(new ge(_,U,'missing required property "'+ir+'"'));return Ke}function ku(R){var _=R.value,U=R.valueSpec,ee=R.style,ce=R.styleSpec,be=R.key,Ae=R.arrayElementValidator||Ar;if("array"!==Oi(_))return[new ge(be,_,"array expected, "+Oi(_)+" found")];if(U.length&&_.length!==U.length)return[new ge(be,_,"array length "+U.length+" expected, length "+_.length+" found")];if(U["min-length"]&&_.length<U["min-length"])return[new ge(be,_,"array length at least "+U["min-length"]+" expected, length "+_.length+" found")];var Ke={type:U.value,values:U.values};ce.$version<7&&(Ke.function=U.function),"object"===Oi(U.value)&&(Ke=U.value);for(var ht=[],Tt=0;Tt<_.length;Tt++)ht=ht.concat(Ae({array:_,arrayIndex:Tt,value:_[Tt],valueSpec:Ke,style:ee,styleSpec:ce,key:be+"["+Tt+"]"}));return ht}function mu(R){var _=R.key,U=R.value,ee=R.valueSpec,ce=Oi(U);return"number"===ce&&U!=U&&(ce="NaN"),"number"!==ce?[new ge(_,U,"number expected, "+ce+" found")]:"minimum"in ee&&U<ee.minimum?[new ge(_,U,U+" is less than the minimum value "+ee.minimum)]:"maximum"in ee&&U>ee.maximum?[new ge(_,U,U+" is greater than the maximum value "+ee.maximum)]:[]}function Ml(R){var ee,be,Ae,_=R.valueSpec,U=ct(R.value.type),ce={},Ke="categorical"!==U&&void 0===R.value.property,ht=!Ke,Tt="array"===Oi(R.value.stops)&&"array"===Oi(R.value.stops[0])&&"object"===Oi(R.value.stops[0][0]),Et=xo({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:function jt(Wr){if("identity"===U)return[new ge(Wr.key,Wr.value,'identity function may not have a "stops" property')];var gn=[],sn=Wr.value;return gn=gn.concat(ku({key:Wr.key,value:sn,valueSpec:Wr.valueSpec,style:Wr.style,styleSpec:Wr.styleSpec,arrayElementValidator:fr})),"array"===Oi(sn)&&0===sn.length&&gn.push(new ge(Wr.key,sn,"array must have at least one stop")),gn},default:function Lr(Wr){return Ar({key:Wr.key,value:Wr.value,valueSpec:_,style:Wr.style,styleSpec:Wr.styleSpec})}}});return"identity"===U&&Ke&&Et.push(new ge(R.key,R.value,'missing required property "property"')),"identity"!==U&&!R.value.stops&&Et.push(new ge(R.key,R.value,'missing required property "stops"')),"exponential"===U&&R.valueSpec.expression&&!Tl(R.valueSpec)&&Et.push(new ge(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(ht&&!Zs(R.valueSpec)?Et.push(new ge(R.key,R.value,"property functions not supported")):Ke&&!Kl(R.valueSpec)&&Et.push(new ge(R.key,R.value,"zoom functions not supported"))),("categorical"===U||Tt)&&void 0===R.value.property&&Et.push(new ge(R.key,R.value,'"property" property is required')),Et;function fr(Wr){var gn=[],sn=Wr.value,Rn=Wr.key;if("array"!==Oi(sn))return[new ge(Rn,sn,"array expected, "+Oi(sn)+" found")];if(2!==sn.length)return[new ge(Rn,sn,"array length 2 expected, length "+sn.length+" found")];if(Tt){if("object"!==Oi(sn[0]))return[new ge(Rn,sn,"object expected, "+Oi(sn[0])+" found")];if(void 0===sn[0].zoom)return[new ge(Rn,sn,"object stop key must have zoom")];if(void 0===sn[0].value)return[new ge(Rn,sn,"object stop key must have value")];if(Ae&&Ae>ct(sn[0].zoom))return[new ge(Rn,sn[0].zoom,"stop zoom values must appear in ascending order")];ct(sn[0].zoom)!==Ae&&(Ae=ct(sn[0].zoom),be=void 0,ce={}),gn=gn.concat(xo({key:Rn+"[0]",value:sn[0],valueSpec:{zoom:{}},style:Wr.style,styleSpec:Wr.styleSpec,objectElementValidators:{zoom:mu,value:ir}}))}else gn=gn.concat(ir({key:Rn+"[0]",value:sn[0],valueSpec:{},style:Wr.style,styleSpec:Wr.styleSpec},sn));return Ql(Pt(sn[1]))?gn.concat([new ge(Rn+"[1]",sn[1],"expressions are not allowed in function stops.")]):gn.concat(Ar({key:Rn+"[1]",value:sn[1],valueSpec:_,style:Wr.style,styleSpec:Wr.styleSpec}))}function ir(Wr,gn){var sn=Oi(Wr.value),Rn=ct(Wr.value),Sn=null!==Wr.value?Wr.value:gn;if(ee){if(sn!==ee)return[new ge(Wr.key,Sn,sn+" stop domain type must match previous stop domain type "+ee)]}else ee=sn;if("number"!==sn&&"string"!==sn&&"boolean"!==sn)return[new ge(Wr.key,Sn,"stop domain value must be a number, string, or boolean")];if("number"!==sn&&"categorical"!==U){var Dn="number expected, "+sn+" found";return Zs(_)&&void 0===U&&(Dn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ge(Wr.key,Sn,Dn)]}return"categorical"!==U||"number"!==sn||isFinite(Rn)&&Math.floor(Rn)===Rn?"categorical"!==U&&"number"===sn&&void 0!==be&&Rn<be?[new ge(Wr.key,Sn,"stop domain values must appear in ascending order")]:(be=Rn,"categorical"===U&&Rn in ce?[new ge(Wr.key,Sn,"stop domain values must be unique")]:(ce[Rn]=!0,[])):[new ge(Wr.key,Sn,"integer expected, found "+Rn)]}}function fl(R){var _=("property"===R.expressionContext?ql:$l)(Pt(R.value),R.valueSpec);if("error"===_.result)return _.value.map(function(ee){return new ge(""+R.key+ee.key,R.value,ee.message)});var U=_.value.expression||_.value._styleExpression.expression;if("property"===R.expressionContext&&"text-font"===R.propertyKey&&!U.outputDefined())return[new ge(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===R.expressionContext&&"layout"===R.propertyType&&!Ji(U))return[new ge(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===R.expressionContext&&!Ji(U))return[new ge(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&0===R.expressionContext.indexOf("cluster")){if(!Ao(U,["zoom","feature-state"]))return[new ge(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===R.expressionContext&&!ho(U))return[new ge(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ol(R){var _=R.key,U=R.value,ee=R.valueSpec,ce=[];return Array.isArray(ee.values)?-1===ee.values.indexOf(ct(U))&&ce.push(new ge(_,U,"expected one of ["+ee.values.join(", ")+"], "+JSON.stringify(U)+" found")):-1===Object.keys(ee.values).indexOf(ct(U))&&ce.push(new ge(_,U,"expected one of ["+Object.keys(ee.values).join(", ")+"], "+JSON.stringify(U)+" found")),ce}function Bl(R){if(!0===R||!1===R)return!0;if(!Array.isArray(R)||0===R.length)return!1;switch(R[0]){case"has":return R.length>=2&&"$id"!==R[1]&&"$type"!==R[1];case"in":return R.length>=3&&("string"!=typeof R[1]||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==R.length||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var _=0,U=R.slice(1);_<U.length;_+=1){var ee=U[_];if(!Bl(ee)&&"boolean"!=typeof ee)return!1}return!0;default:return!0}}ul.deserialize=function(_){return new ul(_._parameters,_._specification)},ul.serialize=function(_){return{_parameters:_._parameters,_specification:_._specification}};var tu={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ru(R){if(null==R)return{filter:function(){return!0},needGeometry:!1};Bl(R)||(R=Sl(R));var _=$l(R,tu);if("error"===_.result)throw new Error(_.value.map(function(ee){return ee.key+": "+ee.message}).join(", "));return{filter:function(ee,ce,be){return _.value.evaluate(ee,ce,{},be)},needGeometry:zu(R)}}function $u(R,_){return R<_?-1:R>_?1:0}function zu(R){if(!Array.isArray(R))return!1;if("within"===R[0])return!0;for(var _=1;_<R.length;_++)if(zu(R[_]))return!0;return!1}function Sl(R){if(!R)return!0;var _=R[0];return R.length<=1?"any"!==_:"=="===_?qo(R[1],R[2],"=="):"!="===_?Nl(qo(R[1],R[2],"==")):"<"===_||">"===_||"<="===_||">="===_?qo(R[1],R[2],_):"any"===_?function Ou(R){return["any"].concat(R.map(Sl))}(R.slice(1)):"all"===_?["all"].concat(R.slice(1).map(Sl)):"none"===_?["all"].concat(R.slice(1).map(Sl).map(Nl)):"in"===_?xu(R[1],R.slice(2)):"!in"===_?Nl(xu(R[1],R.slice(2))):"has"===_?Is(R[1]):"!has"===_?Nl(Is(R[1])):"within"!==_||R}function qo(R,_,U){switch(R){case"$type":return["filter-type-"+U,_];case"$id":return["filter-id-"+U,_];default:return["filter-"+U,R,_]}}function xu(R,_){if(0===_.length)return!1;switch(R){case"$type":return["filter-type-in",["literal",_]];case"$id":return["filter-id-in",["literal",_]];default:return _.length>200&&!_.some(function(U){return typeof U!=typeof _[0]})?["filter-in-large",R,["literal",_.sort($u)]]:["filter-in-small",R,["literal",_]]}}function Is(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function Nl(R){return["!",R]}function El(R){return Bl(Pt(R.value))?fl(nt({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):qu(R)}function qu(R){var _=R.value,U=R.key;if("array"!==Oi(_))return[new ge(U,_,"array expected, "+Oi(_)+" found")];var ce,ee=R.styleSpec,be=[];if(_.length<1)return[new ge(U,_,"filter array must have at least 1 element")];switch(be=be.concat(Ol({key:U+"[0]",value:_[0],valueSpec:ee.filter_operator,style:R.style,styleSpec:R.styleSpec})),ct(_[0])){case"<":case"<=":case">":case">=":_.length>=2&&"$type"===ct(_[1])&&be.push(new ge(U,_,'"$type" cannot be use with operator "'+_[0]+'"'));case"==":case"!=":3!==_.length&&be.push(new ge(U,_,'filter array for operator "'+_[0]+'" must have 3 elements'));case"in":case"!in":_.length>=2&&"string"!==(ce=Oi(_[1]))&&be.push(new ge(U+"[1]",_[1],"string expected, "+ce+" found"));for(var Ae=2;Ae<_.length;Ae++)ce=Oi(_[Ae]),"$type"===ct(_[1])?be=be.concat(Ol({key:U+"["+Ae+"]",value:_[Ae],valueSpec:ee.geometry_type,style:R.style,styleSpec:R.styleSpec})):"string"!==ce&&"number"!==ce&&"boolean"!==ce&&be.push(new ge(U+"["+Ae+"]",_[Ae],"string, number, or boolean expected, "+ce+" found"));break;case"any":case"all":case"none":for(var Ke=1;Ke<_.length;Ke++)be=be.concat(qu({key:U+"["+Ke+"]",value:_[Ke],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":ce=Oi(_[1]),2!==_.length?be.push(new ge(U,_,'filter array for "'+_[0]+'" operator must have 2 elements')):"string"!==ce&&be.push(new ge(U+"[1]",_[1],"string expected, "+ce+" found"));break;case"within":ce=Oi(_[1]),2!==_.length?be.push(new ge(U,_,'filter array for "'+_[0]+'" operator must have 2 elements')):"object"!==ce&&be.push(new ge(U+"[1]",_[1],"object expected, "+ce+" found"))}return be}function bu(R,_){var U=R.key,ee=R.style,ce=R.styleSpec,be=R.value,Ae=R.objectKey,Ke=ce[_+"_"+R.layerType];if(!Ke)return[];var ht=Ae.match(/^(.*)-transition$/);if("paint"===_&&ht&&Ke[ht[1]]&&Ke[ht[1]].transition)return Ar({key:U,value:be,valueSpec:ce.transition,style:ee,styleSpec:ce});var Et,Tt=R.valueSpec||Ke[Ae];if(!Tt)return[new ge(U,be,'unknown property "'+Ae+'"')];if("string"===Oi(be)&&Zs(Tt)&&!Tt.tokens&&(Et=/^{([^}]+)}$/.exec(be)))return[new ge(U,be,'"'+Ae+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Et[1])+" }`.")];var jt=[];return"symbol"===R.layerType&&("text-field"===Ae&&ee&&!ee.glyphs&&jt.push(new ge(U,be,'use of "text-field" requires a style "glyphs" property')),"text-font"===Ae&&Fl(Pt(be))&&"identity"===ct(be.type)&&jt.push(new ge(U,be,'"text-font" does not support identity functions'))),jt.concat(Ar({key:R.key,value:be,valueSpec:Tt,style:ee,styleSpec:ce,expressionContext:"property",propertyType:_,propertyKey:Ae}))}function ef(R){return bu(R,"paint")}function nu(R){return bu(R,"layout")}function Bu(R){var _=[],U=R.value,ee=R.key,ce=R.style,be=R.styleSpec;!U.type&&!U.ref&&_.push(new ge(ee,U,'either "type" or "ref" is required'));var jt,Ae=ct(U.type),Ke=ct(U.ref);if(U.id)for(var ht=ct(U.id),Tt=0;Tt<R.arrayIndex;Tt++){var Et=ce.layers[Tt];ct(Et.id)===ht&&_.push(new ge(ee,U.id,'duplicate layer id "'+U.id+'", previously used at line '+Et.id.__line__))}if("ref"in U)["type","source","source-layer","filter","layout"].forEach(function(Lr){Lr in U&&_.push(new ge(ee,U[Lr],'"'+Lr+'" is prohibited for ref layers'))}),ce.layers.forEach(function(Lr){ct(Lr.id)===Ke&&(jt=Lr)}),jt?jt.ref?_.push(new ge(ee,U.ref,"ref cannot reference another ref layer")):Ae=ct(jt.type):_.push(new ge(ee,U.ref,'ref layer "'+Ke+'" not found'));else if("background"!==Ae)if(U.source){var fr=ce.sources&&ce.sources[U.source],ir=fr&&ct(fr.type);fr?"vector"===ir&&"raster"===Ae?_.push(new ge(ee,U.source,'layer "'+U.id+'" requires a raster source')):"raster"===ir&&"raster"!==Ae?_.push(new ge(ee,U.source,'layer "'+U.id+'" requires a vector source')):"vector"!==ir||U["source-layer"]?"raster-dem"===ir&&"hillshade"!==Ae?_.push(new ge(ee,U.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"===Ae&&U.paint&&U.paint["line-gradient"]&&("geojson"!==ir||!fr.lineMetrics)&&_.push(new ge(ee,U,'layer "'+U.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):_.push(new ge(ee,U,'layer "'+U.id+'" must specify a "source-layer"')):_.push(new ge(ee,U.source,'source "'+U.source+'" not found'))}else _.push(new ge(ee,U,'missing required property "source"'));return _=_.concat(xo({key:ee,value:U,valueSpec:be.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Ar({key:ee+".type",value:U.type,valueSpec:be.layer.type,style:R.style,styleSpec:R.styleSpec,object:U,objectKey:"type"})},filter:El,layout:function(Wr){return xo({layer:U,key:Wr.key,value:Wr.value,style:Wr.style,styleSpec:Wr.styleSpec,objectElementValidators:{"*":function(sn){return nu(nt({layerType:Ae},sn))}}})},paint:function(Wr){return xo({layer:U,key:Wr.key,value:Wr.value,style:Wr.style,styleSpec:Wr.styleSpec,objectElementValidators:{"*":function(sn){return ef(nt({layerType:Ae},sn))}}})}}}))}function je(R){var _=R.value,U=R.key,ee=Oi(_);return"string"!==ee?[new ge(U,_,"string expected, "+ee+" found")]:[]}var et={promoteId:function yt(R){var _=R.key,U=R.value;if("string"===Oi(U))return je({key:_,value:U});var ee=[];for(var ce in U)ee.push.apply(ee,je({key:_+"."+ce,value:U[ce]}));return ee}};function vt(R){var _=R.value,U=R.key,ee=R.styleSpec,ce=R.style;if(!_.type)return[new ge(U,_,'"type" is required')];var Ae,be=ct(_.type);switch(be){case"vector":case"raster":case"raster-dem":return xo({key:U,value:_,valueSpec:ee["source_"+be.replace("-","_")],style:R.style,styleSpec:ee,objectElementValidators:et});case"geojson":if(Ae=xo({key:U,value:_,valueSpec:ee.source_geojson,style:ce,styleSpec:ee,objectElementValidators:et}),_.cluster)for(var Ke in _.clusterProperties){var ht=_.clusterProperties[Ke],Tt=ht[0],jt="string"==typeof Tt?[Tt,["accumulated"],["get",Ke]]:Tt;Ae.push.apply(Ae,fl({key:U+"."+Ke+".map",value:ht[1],expressionContext:"cluster-map"})),Ae.push.apply(Ae,fl({key:U+"."+Ke+".reduce",value:jt,expressionContext:"cluster-reduce"}))}return Ae;case"video":return xo({key:U,value:_,valueSpec:ee.source_video,style:ce,styleSpec:ee});case"image":return xo({key:U,value:_,valueSpec:ee.source_image,style:ce,styleSpec:ee});case"canvas":return[new ge(U,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ol({key:U+".type",value:_.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ce,styleSpec:ee})}}function kt(R){var _=R.value,U=R.styleSpec,ee=U.light,ce=R.style,be=[],Ae=Oi(_);if(void 0===_)return be;if("object"!==Ae)return be.concat([new ge("light",_,"object expected, "+Ae+" found")]);for(var Ke in _){var ht=Ke.match(/^(.*)-transition$/);be=be.concat(ht&&ee[ht[1]]&&ee[ht[1]].transition?Ar({key:Ke,value:_[Ke],valueSpec:U.transition,style:ce,styleSpec:U}):ee[Ke]?Ar({key:Ke,value:_[Ke],valueSpec:ee[Ke],style:ce,styleSpec:U}):[new ge(Ke,_[Ke],'unknown property "'+Ke+'"')])}return be}var mr={"*":function(){return[]},array:ku,boolean:function Fu(R){var _=R.value,U=R.key,ee=Oi(_);return"boolean"!==ee?[new ge(U,_,"boolean expected, "+ee+" found")]:[]},number:mu,color:function gf(R){var _=R.key,U=R.value,ee=Oi(U);return"string"!==ee?[new ge(_,U,"color expected, "+ee+" found")]:null===co(U)?[new ge(_,U,'color expected, "'+U+'" found')]:[]},constants:Ue,enum:Ol,filter:El,function:Ml,layer:Bu,object:xo,source:vt,light:kt,string:je,formatted:function Dt(R){return 0===je(R).length?[]:fl(R)},resolvedImage:function Gt(R){return 0===je(R).length?[]:fl(R)}};function Ar(R){var _=R.value,U=R.valueSpec,ee=R.styleSpec;return U.expression&&Fl(ct(_))?Ml(R):U.expression&&Ql(Pt(_))?fl(R):U.type&&mr[U.type]?mr[U.type](R):xo(nt({},R,{valueSpec:U.type?ee[U.type]:U}))}function gr(R){var _=R.value,U=R.key,ee=je(R);return ee.length||(-1===_.indexOf("{fontstack}")&&ee.push(new ge(U,_,'"glyphs" url must include a "{fontstack}" token')),-1===_.indexOf("{range}")&&ee.push(new ge(U,_,'"glyphs" url must include a "{range}" token'))),ee}function Tr(R,_){void 0===_&&(_=er);var U=[];return U=U.concat(Ar({key:"",value:R,valueSpec:_.$root,styleSpec:_,style:R,objectElementValidators:{glyphs:gr,"*":function(){return[]}}})),R.constants&&(U=U.concat(Ue({key:"constants",value:R.constants,style:R,styleSpec:_}))),Nr(U)}function Nr(R){return[].concat(R).sort(function(_,U){return _.line-U.line})}function Qr(R){return function(){for(var _=[],U=arguments.length;U--;)_[U]=arguments[U];return Nr(R.apply(this,_))}}Tr.source=Qr(vt),Tr.light=Qr(kt),Tr.layer=Qr(Bu),Tr.filter=Qr(El),Tr.paintProperty=Qr(ef),Tr.layoutProperty=Qr(nu);var rn=Tr,on=rn.light,Cn=rn.paintProperty,Wn=rn.layoutProperty;function fa(R,_){var U=!1;if(_&&_.length)for(var ee=0,ce=_;ee<ce.length;ee+=1)R.fire(new sr(new Error(ce[ee].message))),U=!0;return U}var Ia=Ua,Ha=3;function Ua(R,_,U){var ee=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var ce=new Int32Array(this.arrayBuffer);R=ce[0],this.d=(_=ce[1])+2*(U=ce[2]);for(var be=0;be<this.d*this.d;be++){var Ae=ce[Ha+be],Ke=ce[Ha+be+1];ee.push(Ae===Ke?null:ce.subarray(Ae,Ke))}var Tt=ce[Ha+ee.length+1];this.keys=ce.subarray(ce[Ha+ee.length],Tt),this.bboxes=ce.subarray(Tt),this.insert=this._insertReadonly}else{this.d=_+2*U;for(var Et=0;Et<this.d*this.d;Et++)ee.push([]);this.keys=[],this.bboxes=[]}this.n=_,this.extent=R,this.padding=U,this.scale=_/R,this.uid=0;var jt=U/_*R;this.min=-jt,this.max=R+jt}Ua.prototype.insert=function(R,_,U,ee,ce){this._forEachCell(_,U,ee,ce,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(_),this.bboxes.push(U),this.bboxes.push(ee),this.bboxes.push(ce)},Ua.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ua.prototype._insertCell=function(R,_,U,ee,ce,be){this.cells[ce].push(be)},Ua.prototype.query=function(R,_,U,ee,ce){var be=this.min,Ae=this.max;if(R<=be&&_<=be&&Ae<=U&&Ae<=ee&&!ce)return Array.prototype.slice.call(this.keys);var Ke=[];return this._forEachCell(R,_,U,ee,this._queryCell,Ke,{},ce),Ke},Ua.prototype._queryCell=function(R,_,U,ee,ce,be,Ae,Ke){var ht=this.cells[ce];if(null!==ht)for(var Tt=this.keys,Et=this.bboxes,jt=0;jt<ht.length;jt++){var fr=ht[jt];if(void 0===Ae[fr]){var ir=4*fr;(Ke?Ke(Et[ir+0],Et[ir+1],Et[ir+2],Et[ir+3]):R<=Et[ir+2]&&_<=Et[ir+3]&&U>=Et[ir+0]&&ee>=Et[ir+1])?(Ae[fr]=!0,be.push(Tt[fr])):Ae[fr]=!1}}},Ua.prototype._forEachCell=function(R,_,U,ee,ce,be,Ae,Ke){for(var ht=this._convertToCellCoord(R),Tt=this._convertToCellCoord(_),Et=this._convertToCellCoord(U),jt=this._convertToCellCoord(ee),fr=ht;fr<=Et;fr++)for(var ir=Tt;ir<=jt;ir++){var Lr=this.d*ir+fr;if((!Ke||Ke(this._convertFromCellCoord(fr),this._convertFromCellCoord(ir),this._convertFromCellCoord(fr+1),this._convertFromCellCoord(ir+1)))&&ce.call(this,R,_,U,ee,Lr,be,Ae,Ke))return}},Ua.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},Ua.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},Ua.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,_=Ha+this.cells.length+1+1,U=0,ee=0;ee<this.cells.length;ee++)U+=this.cells[ee].length;var ce=new Int32Array(_+U+this.keys.length+this.bboxes.length);ce[0]=this.extent,ce[1]=this.n,ce[2]=this.padding;for(var be=_,Ae=0;Ae<R.length;Ae++){var Ke=R[Ae];ce[Ha+Ae]=be,ce.set(Ke,be),be+=Ke.length}return ce[Ha+R.length]=be,ce.set(this.keys,be),ce[Ha+R.length+1]=be+=this.keys.length,ce.set(this.bboxes,be),be+=this.bboxes.length,ce.buffer};var Ka=self.ImageData,_i=self.ImageBitmap,Vi={};function va(R,_,U){void 0===U&&(U={}),Object.defineProperty(_,"_classRegistryKey",{value:R,writeable:!1}),Vi[R]={klass:_,omit:U.omit||[],shallow:U.shallow||[]}}for(var ro in va("Object",Object),Ia.serialize=function(_,U){var ee=_.toArrayBuffer();return U&&U.push(ee),{buffer:ee}},Ia.deserialize=function(_){return new Ia(_.buffer)},va("Grid",Ia),va("Color",oi),va("Error",Error),va("ResolvedImage",Ui),va("StylePropertyFunction",ul),va("StyleExpression",Xs,{omit:["_evaluator"]}),va("ZoomDependentExpression",bs),va("ZoomConstantExpression",js),va("CompoundExpression",di,{omit:["_evaluate"]}),Do)Do[ro]._classRegistryKey||va("Expression_"+ro,Do[ro]);function vo(R){return R&&typeof ArrayBuffer<"u"&&(R instanceof ArrayBuffer||R.constructor&&"ArrayBuffer"===R.constructor.name)}function Vo(R){return _i&&R instanceof _i}function ws(R,_){if(null==R||"boolean"==typeof R||"number"==typeof R||"string"==typeof R||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(vo(R)||Vo(R))return _&&_.push(R),R;if(ArrayBuffer.isView(R)){var U=R;return _&&_.push(U.buffer),U}if(R instanceof Ka)return _&&_.push(R.data.buffer),R;if(Array.isArray(R)){for(var ee=[],ce=0,be=R;ce<be.length;ce+=1)ee.push(ws(be[ce],_));return ee}if("object"==typeof R){var Ke=R.constructor,ht=Ke._classRegistryKey;if(!ht)throw new Error("can't serialize object of unregistered class");var Tt=Ke.serialize?Ke.serialize(R,_):{};if(!Ke.serialize){for(var Et in R)if(R.hasOwnProperty(Et)&&!(Vi[ht].omit.indexOf(Et)>=0)){var jt=R[Et];Tt[Et]=Vi[ht].shallow.indexOf(Et)>=0?jt:ws(jt,_)}R instanceof Error&&(Tt.message=R.message)}if(Tt.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==ht&&(Tt.$name=ht),Tt}throw new Error("can't serialize object of type "+typeof R)}function Qi(R){if(null==R||"boolean"==typeof R||"number"==typeof R||"string"==typeof R||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||vo(R)||Vo(R)||ArrayBuffer.isView(R)||R instanceof Ka)return R;if(Array.isArray(R))return R.map(Qi);if("object"==typeof R){var _=R.$name||"Object",ee=Vi[_].klass;if(!ee)throw new Error("can't deserialize unregistered class "+_);if(ee.deserialize)return ee.deserialize(R);for(var ce=Object.create(ee.prototype),be=0,Ae=Object.keys(R);be<Ae.length;be+=1){var Ke=Ae[be];if("$name"!==Ke){var ht=R[Ke];ce[Ke]=Vi[_].shallow.indexOf(Ke)>=0?ht:Qi(ht)}}return ce}throw new Error("can't deserialize object of type "+typeof R)}var oe=function(){this.first=!0};oe.prototype.update=function(_,U){var ee=Math.floor(_);return this.first?(this.first=!1,this.lastIntegerZoom=ee,this.lastIntegerZoomTime=0,this.lastZoom=_,this.lastFloorZoom=ee,!0):(this.lastFloorZoom>ee?(this.lastIntegerZoom=ee+1,this.lastIntegerZoomTime=U):this.lastFloorZoom<ee&&(this.lastIntegerZoom=ee,this.lastIntegerZoomTime=U),_!==this.lastZoom&&(this.lastZoom=_,this.lastFloorZoom=ee,!0))};var me={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function Oe(R){for(var _=0,U=R;_<U.length;_+=1)if(It(U[_].charCodeAt(0)))return!0;return!1}function qe(R){return!(me.Arabic(R)||me["Arabic Supplement"](R)||me["Arabic Extended-A"](R)||me["Arabic Presentation Forms-A"](R)||me["Arabic Presentation Forms-B"](R))}function ot(R){return!(R<11904||!(me["Bopomofo Extended"](R)||me.Bopomofo(R)||me["CJK Compatibility Forms"](R)||me["CJK Compatibility Ideographs"](R)||me["CJK Compatibility"](R)||me["CJK Radicals Supplement"](R)||me["CJK Strokes"](R)||me["CJK Symbols and Punctuation"](R)||me["CJK Unified Ideographs Extension A"](R)||me["CJK Unified Ideographs"](R)||me["Enclosed CJK Letters and Months"](R)||me["Halfwidth and Fullwidth Forms"](R)||me.Hiragana(R)||me["Ideographic Description Characters"](R)||me["Kangxi Radicals"](R)||me["Katakana Phonetic Extensions"](R)||me.Katakana(R)||me["Vertical Forms"](R)||me["Yi Radicals"](R)||me["Yi Syllables"](R)))}function It(R){return 746===R||747===R||!(R<4352)&&!!(me["Bopomofo Extended"](R)||me.Bopomofo(R)||me["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||me["CJK Compatibility Ideographs"](R)||me["CJK Compatibility"](R)||me["CJK Radicals Supplement"](R)||me["CJK Strokes"](R)||me["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&12336!==R||me["CJK Unified Ideographs Extension A"](R)||me["CJK Unified Ideographs"](R)||me["Enclosed CJK Letters and Months"](R)||me["Hangul Compatibility Jamo"](R)||me["Hangul Jamo Extended-A"](R)||me["Hangul Jamo Extended-B"](R)||me["Hangul Jamo"](R)||me["Hangul Syllables"](R)||me.Hiragana(R)||me["Ideographic Description Characters"](R)||me.Kanbun(R)||me["Kangxi Radicals"](R)||me["Katakana Phonetic Extensions"](R)||me.Katakana(R)&&12540!==R||!(!me["Halfwidth and Fullwidth Forms"](R)||65288===R||65289===R||65293===R||R>=65306&&R<=65310||65339===R||65341===R||65343===R||R>=65371&&R<=65503||65507===R||R>=65512&&R<=65519)||!(!me["Small Form Variants"](R)||R>=65112&&R<=65118||R>=65123&&R<=65126)||me["Unified Canadian Aboriginal Syllabics"](R)||me["Unified Canadian Aboriginal Syllabics Extended"](R)||me["Vertical Forms"](R)||me["Yijing Hexagram Symbols"](R)||me["Yi Syllables"](R)||me["Yi Radicals"](R))}function Zt(R){return!(It(R)||function Mt(R){return!!(me["Latin-1 Supplement"](R)&&(167===R||169===R||174===R||177===R||188===R||189===R||190===R||215===R||247===R)||me["General Punctuation"](R)&&(8214===R||8224===R||8225===R||8240===R||8241===R||8251===R||8252===R||8258===R||8263===R||8264===R||8265===R||8273===R)||me["Letterlike Symbols"](R)||me["Number Forms"](R)||me["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||9003===R||R>=9085&&R<=9114||R>=9150&&R<=9165||9167===R||R>=9169&&R<=9179||R>=9186&&R<=9215)||me["Control Pictures"](R)&&9251!==R||me["Optical Character Recognition"](R)||me["Enclosed Alphanumerics"](R)||me["Geometric Shapes"](R)||me["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||me["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||me["CJK Symbols and Punctuation"](R)||me.Katakana(R)||me["Private Use Area"](R)||me["CJK Compatibility Forms"](R)||me["Small Form Variants"](R)||me["Halfwidth and Fullwidth Forms"](R)||8734===R||8756===R||8757===R||R>=9984&&R<=10087||R>=10102&&R<=10131||65532===R||65533===R)}(R))}function ar(R){return me.Arabic(R)||me["Arabic Supplement"](R)||me["Arabic Extended-A"](R)||me["Arabic Presentation Forms-A"](R)||me["Arabic Presentation Forms-B"](R)}function ur(R){return R>=1424&&R<=2303||me["Arabic Presentation Forms-A"](R)||me["Arabic Presentation Forms-B"](R)}function Fr(R,_){return!(!_&&ur(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||me.Khmer(R))}function Ir(R){for(var _=0,U=R;_<U.length;_+=1)if(ur(U[_].charCodeAt(0)))return!0;return!1}var dn_deferred="deferred",dn_loading="loading",dn_loaded="loaded",dn_error="error",Or=null,Ur="unavailable",Jr=null,pn=function(R){R&&"string"==typeof R&&R.indexOf("NetworkError")>-1&&(Ur=dn_error),Or&&Or(R)};function yn(){en.fire(new Kt("pluginStateChange",{pluginStatus:Ur,pluginURL:Jr}))}var en=new hr,Gn=function(){return Ur},da=function(){if(Ur!==dn_deferred||!Jr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ur=dn_loading,yn(),Jr&&St({url:Jr},function(R){R?pn(R):(Ur=dn_loaded,yn())})},pa={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Ur===dn_loaded||null!=pa.applyArabicShaping},isLoading:function(){return Ur===dn_loading},setState:function(_){Ur=_.pluginStatus,Jr=_.pluginURL},isParsed:function(){return null!=pa.applyArabicShaping&&null!=pa.processBidirectionalText&&null!=pa.processStyledBidirectionalText},getPluginURL:function(){return Jr}},Ca=function(_,U){this.zoom=_,U?(this.now=U.now,this.fadeDuration=U.fadeDuration,this.zoomHistory=U.zoomHistory,this.transition=U.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new oe,this.transition={})};Ca.prototype.isSupportedScript=function(_){return function an(R,_){for(var U=0,ee=R;U<ee.length;U+=1)if(!Fr(ee[U].charCodeAt(0),_))return!1;return!0}(_,pa.isLoaded())},Ca.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ca.prototype.getCrossfadeParameters=function(){var _=this.zoom,U=_-Math.floor(_),ee=this.crossFadingFactor();return _>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:U+(1-U)*ee}:{fromScale:.5,toScale:1,t:1-(1-ee)*U}};var La=function(_,U){this.property=_,this.value=U,this.expression=function eu(R,_){if(Fl(R))return new ul(R,_);if(Ql(R)){var U=ql(R,_);if("error"===U.result)throw new Error(U.value.map(function(ce){return ce.key+": "+ce.message}).join(", "));return U.value}var ee=R;return"string"==typeof R&&"color"===_.type&&(ee=oi.parse(R)),{kind:"constant",evaluate:function(){return ee}}}(void 0===U?_.specification.default:U,_.specification)};La.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},La.prototype.possiblyEvaluate=function(_,U,ee){return this.property.possiblyEvaluate(this,_,U,ee)};var Va=function(_){this.property=_,this.value=new La(_,void 0)};Va.prototype.transitioned=function(_,U){return new po(this.property,this.value,U,s({},_.transition,this.transition),_.now)},Va.prototype.untransitioned=function(){return new po(this.property,this.value,null,{},0)};var fi=function(_){this._properties=_,this._values=Object.create(_.defaultTransitionablePropertyValues)};fi.prototype.getValue=function(_){return d(this._values[_].value.value)},fi.prototype.setValue=function(_,U){this._values.hasOwnProperty(_)||(this._values[_]=new Va(this._values[_].property)),this._values[_].value=new La(this._values[_].property,null===U?void 0:d(U))},fi.prototype.getTransition=function(_){return d(this._values[_].transition)},fi.prototype.setTransition=function(_,U){this._values.hasOwnProperty(_)||(this._values[_]=new Va(this._values[_].property)),this._values[_].transition=d(U)||void 0},fi.prototype.serialize=function(){for(var _={},U=0,ee=Object.keys(this._values);U<ee.length;U+=1){var ce=ee[U],be=this.getValue(ce);void 0!==be&&(_[ce]=be);var Ae=this.getTransition(ce);void 0!==Ae&&(_[ce+"-transition"]=Ae)}return _},fi.prototype.transitioned=function(_,U){for(var ee=new wi(this._properties),ce=0,be=Object.keys(this._values);ce<be.length;ce+=1){var Ae=be[ce];ee._values[Ae]=this._values[Ae].transitioned(_,U._values[Ae])}return ee},fi.prototype.untransitioned=function(){for(var _=new wi(this._properties),U=0,ee=Object.keys(this._values);U<ee.length;U+=1){var ce=ee[U];_._values[ce]=this._values[ce].untransitioned()}return _};var po=function(_,U,ee,ce,be){this.property=_,this.value=U,this.begin=be+ce.delay||0,this.end=this.begin+ce.duration||0,_.specification.transition&&(ce.delay||ce.duration)&&(this.prior=ee)};po.prototype.possiblyEvaluate=function(_,U,ee){var ce=_.now||0,be=this.value.possiblyEvaluate(_,U,ee),Ae=this.prior;if(Ae){if(ce>this.end)return this.prior=null,be;if(this.value.isDataDriven())return this.prior=null,be;if(ce<this.begin)return Ae.possiblyEvaluate(_,U,ee);var Ke=(ce-this.begin)/(this.end-this.begin);return this.property.interpolate(Ae.possiblyEvaluate(_,U,ee),be,function i(R){if(R<=0)return 0;if(R>=1)return 1;var _=R*R,U=_*R;return 4*(R<.5?U:3*(R-_)+U-.75)}(Ke))}return be};var wi=function(_){this._properties=_,this._values=Object.create(_.defaultTransitioningPropertyValues)};wi.prototype.possiblyEvaluate=function(_,U,ee){for(var ce=new Ga(this._properties),be=0,Ae=Object.keys(this._values);be<Ae.length;be+=1){var Ke=Ae[be];ce._values[Ke]=this._values[Ke].possiblyEvaluate(_,U,ee)}return ce},wi.prototype.hasTransition=function(){for(var _=0,U=Object.keys(this._values);_<U.length;_+=1)if(this._values[U[_]].prior)return!0;return!1};var sa=function(_){this._properties=_,this._values=Object.create(_.defaultPropertyValues)};sa.prototype.getValue=function(_){return d(this._values[_].value)},sa.prototype.setValue=function(_,U){this._values[_]=new La(this._values[_].property,null===U?void 0:d(U))},sa.prototype.serialize=function(){for(var _={},U=0,ee=Object.keys(this._values);U<ee.length;U+=1){var ce=ee[U],be=this.getValue(ce);void 0!==be&&(_[ce]=be)}return _},sa.prototype.possiblyEvaluate=function(_,U,ee){for(var ce=new Ga(this._properties),be=0,Ae=Object.keys(this._values);be<Ae.length;be+=1){var Ke=Ae[be];ce._values[Ke]=this._values[Ke].possiblyEvaluate(_,U,ee)}return ce};var Ya=function(_,U,ee){this.property=_,this.value=U,this.parameters=ee};Ya.prototype.isConstant=function(){return"constant"===this.value.kind},Ya.prototype.constantOr=function(_){return"constant"===this.value.kind?this.value.value:_},Ya.prototype.evaluate=function(_,U,ee,ce){return this.property.evaluate(this.value,this.parameters,_,U,ee,ce)};var Ga=function(_){this._properties=_,this._values=Object.create(_.defaultPossiblyEvaluatedValues)};Ga.prototype.get=function(_){return this._values[_]};var ia=function(_){this.specification=_};ia.prototype.possiblyEvaluate=function(_,U){return _.expression.evaluate(U)},ia.prototype.interpolate=function(_,U,ee){var ce=gt[this.specification.type];return ce?ce(_,U,ee):_};var wa=function(_,U){this.specification=_,this.overrides=U};wa.prototype.possiblyEvaluate=function(_,U,ee,ce){return new Ya(this,"constant"===_.expression.kind||"camera"===_.expression.kind?{kind:"constant",value:_.expression.evaluate(U,null,{},ee,ce)}:_.expression,U)},wa.prototype.interpolate=function(_,U,ee){if("constant"!==_.value.kind||"constant"!==U.value.kind)return _;if(void 0===_.value.value||void 0===U.value.value)return new Ya(this,{kind:"constant",value:void 0},_.parameters);var ce=gt[this.specification.type];return ce?new Ya(this,{kind:"constant",value:ce(_.value.value,U.value.value,ee)},_.parameters):_},wa.prototype.evaluate=function(_,U,ee,ce,be,Ae){return"constant"===_.kind?_.value:_.evaluate(U,ee,ce,be,Ae)};var Gi=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.possiblyEvaluate=function(ee,ce,be,Ae){if(void 0===ee.value)return new Ya(this,{kind:"constant",value:void 0},ce);if("constant"===ee.expression.kind){var Ke=ee.expression.evaluate(ce,null,{},be,Ae),Tt="resolvedImage"===ee.property.specification.type&&"string"!=typeof Ke?Ke.name:Ke,Et=this._calculate(Tt,Tt,Tt,ce);return new Ya(this,{kind:"constant",value:Et},ce)}if("camera"===ee.expression.kind){var jt=this._calculate(ee.expression.evaluate({zoom:ce.zoom-1}),ee.expression.evaluate({zoom:ce.zoom}),ee.expression.evaluate({zoom:ce.zoom+1}),ce);return new Ya(this,{kind:"constant",value:jt},ce)}return new Ya(this,ee.expression,ce)},_.prototype.evaluate=function(ee,ce,be,Ae,Ke,ht){if("source"===ee.kind){var Tt=ee.evaluate(ce,be,Ae,Ke,ht);return this._calculate(Tt,Tt,Tt,ce)}return"composite"===ee.kind?this._calculate(ee.evaluate({zoom:Math.floor(ce.zoom)-1},be,Ae),ee.evaluate({zoom:Math.floor(ce.zoom)},be,Ae),ee.evaluate({zoom:Math.floor(ce.zoom)+1},be,Ae),ce):ee.value},_.prototype._calculate=function(ee,ce,be,Ae){return Ae.zoom>Ae.zoomHistory.lastIntegerZoom?{from:ee,to:ce}:{from:be,to:ce}},_.prototype.interpolate=function(ee){return ee},_}(wa),lo=function(_){this.specification=_};lo.prototype.possiblyEvaluate=function(_,U,ee,ce){if(void 0!==_.value){if("constant"===_.expression.kind){var be=_.expression.evaluate(U,null,{},ee,ce);return this._calculate(be,be,be,U)}return this._calculate(_.expression.evaluate(new Ca(Math.floor(U.zoom-1),U)),_.expression.evaluate(new Ca(Math.floor(U.zoom),U)),_.expression.evaluate(new Ca(Math.floor(U.zoom+1),U)),U)}},lo.prototype._calculate=function(_,U,ee,ce){return ce.zoom>ce.zoomHistory.lastIntegerZoom?{from:_,to:U}:{from:ee,to:U}},lo.prototype.interpolate=function(_){return _};var bo=function(_){this.specification=_};bo.prototype.possiblyEvaluate=function(_,U,ee,ce){return!!_.expression.evaluate(U,null,{},ee,ce)},bo.prototype.interpolate=function(){return!1};var Bi=function(_){for(var U in this.properties=_,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],_){var ee=_[U];ee.specification.overridable&&this.overridableProperties.push(U);var ce=this.defaultPropertyValues[U]=new La(ee,void 0),be=this.defaultTransitionablePropertyValues[U]=new Va(ee);this.defaultTransitioningPropertyValues[U]=be.untransitioned(),this.defaultPossiblyEvaluatedValues[U]=ce.possiblyEvaluate({})}};va("DataDrivenProperty",wa),va("DataConstantProperty",ia),va("CrossFadedDataDrivenProperty",Gi),va("CrossFadedProperty",lo),va("ColorRampProperty",bo);var So="-transition",Mo=function(R){function _(U,ee){if(R.call(this),this.id=U.id,this.type=U.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==U.type&&(this.metadata=U.metadata,this.minzoom=U.minzoom,this.maxzoom=U.maxzoom,"background"!==U.type&&(this.source=U.source,this.sourceLayer=U["source-layer"],this.filter=U.filter),ee.layout&&(this._unevaluatedLayout=new sa(ee.layout)),ee.paint)){for(var ce in this._transitionablePaint=new fi(ee.paint),U.paint)this.setPaintProperty(ce,U.paint[ce],{validate:!1});for(var be in U.layout)this.setLayoutProperty(be,U.layout[be],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ga(ee.paint)}}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},_.prototype.getLayoutProperty=function(ee){return"visibility"===ee?this.visibility:this._unevaluatedLayout.getValue(ee)},_.prototype.setLayoutProperty=function(ee,ce,be){void 0===be&&(be={}),null!=ce&&this._validate(Wn,"layers."+this.id+".layout."+ee,ee,ce,be)||("visibility"!==ee?this._unevaluatedLayout.setValue(ee,ce):this.visibility=ce)},_.prototype.getPaintProperty=function(ee){return w(ee,So)?this._transitionablePaint.getTransition(ee.slice(0,-11)):this._transitionablePaint.getValue(ee)},_.prototype.setPaintProperty=function(ee,ce,be){if(void 0===be&&(be={}),null!=ce&&this._validate(Cn,"layers."+this.id+".paint."+ee,ee,ce,be))return!1;if(w(ee,So))return this._transitionablePaint.setTransition(ee.slice(0,-11),ce||void 0),!1;var Ke=this._transitionablePaint._values[ee],ht="cross-faded-data-driven"===Ke.property.specification["property-type"],Tt=Ke.value.isDataDriven(),Et=Ke.value;this._transitionablePaint.setValue(ee,ce),this._handleSpecialPaintPropertyUpdate(ee);var jt=this._transitionablePaint._values[ee].value;return jt.isDataDriven()||Tt||ht||this._handleOverridablePaintPropertyUpdate(ee,Et,jt)},_.prototype._handleSpecialPaintPropertyUpdate=function(ee){},_.prototype._handleOverridablePaintPropertyUpdate=function(ee,ce,be){return!1},_.prototype.isHidden=function(ee){return!!(this.minzoom&&ee<this.minzoom||this.maxzoom&&ee>=this.maxzoom)||"none"===this.visibility},_.prototype.updateTransitions=function(ee){this._transitioningPaint=this._transitionablePaint.transitioned(ee,this._transitioningPaint)},_.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},_.prototype.recalculate=function(ee,ce){ee.getCrossfadeParameters&&(this._crossfadeParameters=ee.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ee,void 0,ce)),this.paint=this._transitioningPaint.possiblyEvaluate(ee,void 0,ce)},_.prototype.serialize=function(){var ee={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ee.layout=ee.layout||{},ee.layout.visibility=this.visibility),S(ee,function(ce,be){return!(void 0===ce||"layout"===be&&!Object.keys(ce).length||"paint"===be&&!Object.keys(ce).length)})},_.prototype._validate=function(ee,ce,be,Ae,Ke){return void 0===Ke&&(Ke={}),(!Ke||!1!==Ke.validate)&&fa(this,ee.call(rn,{key:ce,layerType:this.type,objectKey:be,value:Ae,styleSpec:er,style:{glyphs:!0,sprite:!0}}))},_.prototype.is3D=function(){return!1},_.prototype.isTileClipped=function(){return!1},_.prototype.hasOffscreenPass=function(){return!1},_.prototype.resize=function(){},_.prototype.isStateDependent=function(){for(var ee in this.paint._values){var ce=this.paint.get(ee);if(ce instanceof Ya&&Zs(ce.property.specification)&&("source"===ce.value.kind||"composite"===ce.value.kind)&&ce.value.isStateDependent)return!0}return!1},_}(hr),zo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ii=function(_,U){this._structArray=_,this._pos1=U*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ci=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function gi(R,_){void 0===_&&(_=1);var U=0,ee=0;return{members:R.map(function(Ae){var Ke=function ks(R){return zo[R].BYTES_PER_ELEMENT}(Ae.type),ht=U=Ts(U,Math.max(_,Ke)),Tt=Ae.components||1;return ee=Math.max(ee,Ke),U+=Ke*Tt,{name:Ae.name,type:Ae.type,components:Tt,offset:ht}}),size:Ts(U,Math.max(ee,_)),alignment:_}}function Ts(R,_){return Math.ceil(R/_)*_}ci.serialize=function(_,U){return _._trim(),U&&(_.isTransferred=!0,U.push(_.arrayBuffer)),{length:_.length,arrayBuffer:_.arrayBuffer}},ci.deserialize=function(_){var U=Object.create(this.prototype);return U.arrayBuffer=_.arrayBuffer,U.length=_.length,U.capacity=_.arrayBuffer.byteLength/U.bytesPerElement,U._refreshViews(),U},ci.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ci.prototype.clear=function(){this.length=0},ci.prototype.resize=function(_){this.reserve(_),this.length=_},ci.prototype.reserve=function(_){if(_>this.capacity){this.capacity=Math.max(_,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var U=this.uint8;this._refreshViews(),U&&this.uint8.set(U)}},ci.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var es=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce){var be=this.length;return this.resize(be+1),this.emplace(be,ee,ce)},_.prototype.emplace=function(ee,ce,be){var Ae=2*ee;return this.int16[Ae+0]=ce,this.int16[Ae+1]=be,ee},_}(ci);es.prototype.bytesPerElement=4,va("StructArrayLayout2i4",es);var As=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be,Ae){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ee,ce,be,Ae)},_.prototype.emplace=function(ee,ce,be,Ae,Ke){var ht=4*ee;return this.int16[ht+0]=ce,this.int16[ht+1]=be,this.int16[ht+2]=Ae,this.int16[ht+3]=Ke,ee},_}(ci);As.prototype.bytesPerElement=8,va("StructArrayLayout4i8",As);var Fs=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be,Ae,Ke,ht){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ee,ce,be,Ae,Ke,ht)},_.prototype.emplace=function(ee,ce,be,Ae,Ke,ht,Tt){var Et=6*ee;return this.int16[Et+0]=ce,this.int16[Et+1]=be,this.int16[Et+2]=Ae,this.int16[Et+3]=Ke,this.int16[Et+4]=ht,this.int16[Et+5]=Tt,ee},_}(ci);Fs.prototype.bytesPerElement=12,va("StructArrayLayout2i4i12",Fs);var Ks=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be,Ae,Ke,ht){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ee,ce,be,Ae,Ke,ht)},_.prototype.emplace=function(ee,ce,be,Ae,Ke,ht,Tt){var Et=4*ee,jt=8*ee;return this.int16[Et+0]=ce,this.int16[Et+1]=be,this.uint8[jt+4]=Ae,this.uint8[jt+5]=Ke,this.uint8[jt+6]=ht,this.uint8[jt+7]=Tt,ee},_}(ci);Ks.prototype.bytesPerElement=8,va("StructArrayLayout2i4ub8",Ks);var Go=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr){var ir=this.length;return this.resize(ir+1),this.emplace(ir,ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr)},_.prototype.emplace=function(ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr,ir){var Lr=9*ee,Wr=18*ee;return this.uint16[Lr+0]=ce,this.uint16[Lr+1]=be,this.uint16[Lr+2]=Ae,this.uint16[Lr+3]=Ke,this.uint16[Lr+4]=ht,this.uint16[Lr+5]=Tt,this.uint16[Lr+6]=Et,this.uint16[Lr+7]=jt,this.uint8[Wr+16]=fr,this.uint8[Wr+17]=ir,ee},_}(ci);Go.prototype.bytesPerElement=18,va("StructArrayLayout8ui2ub18",Go);var Ll=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr,ir,Lr){var Wr=this.length;return this.resize(Wr+1),this.emplace(Wr,ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr,ir,Lr)},_.prototype.emplace=function(ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr,ir,Lr,Wr){var gn=12*ee;return this.int16[gn+0]=ce,this.int16[gn+1]=be,this.int16[gn+2]=Ae,this.int16[gn+3]=Ke,this.uint16[gn+4]=ht,this.uint16[gn+5]=Tt,this.uint16[gn+6]=Et,this.uint16[gn+7]=jt,this.int16[gn+8]=fr,this.int16[gn+9]=ir,this.int16[gn+10]=Lr,this.int16[gn+11]=Wr,ee},_}(ci);Ll.prototype.bytesPerElement=24,va("StructArrayLayout4i4ui4i24",Ll);var $f=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,ee,ce,be)},_.prototype.emplace=function(ee,ce,be,Ae){var Ke=3*ee;return this.float32[Ke+0]=ce,this.float32[Ke+1]=be,this.float32[Ke+2]=Ae,ee},_}(ci);$f.prototype.bytesPerElement=12,va("StructArrayLayout3f12",$f);var qf=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee){var ce=this.length;return this.resize(ce+1),this.emplace(ce,ee)},_.prototype.emplace=function(ee,ce){return this.uint32[1*ee+0]=ce,ee},_}(ci);qf.prototype.bytesPerElement=4,va("StructArrayLayout1ul4",qf);var yf=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be,Ae,Ke,ht,Tt,Et,jt){var fr=this.length;return this.resize(fr+1),this.emplace(fr,ee,ce,be,Ae,Ke,ht,Tt,Et,jt)},_.prototype.emplace=function(ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr){var ir=10*ee,Lr=5*ee;return this.int16[ir+0]=ce,this.int16[ir+1]=be,this.int16[ir+2]=Ae,this.int16[ir+3]=Ke,this.int16[ir+4]=ht,this.int16[ir+5]=Tt,this.uint32[Lr+3]=Et,this.uint16[ir+8]=jt,this.uint16[ir+9]=fr,ee},_}(ci);yf.prototype.bytesPerElement=20,va("StructArrayLayout6i1ul2ui20",yf);var Cf=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be,Ae,Ke,ht){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ee,ce,be,Ae,Ke,ht)},_.prototype.emplace=function(ee,ce,be,Ae,Ke,ht,Tt){var Et=6*ee;return this.int16[Et+0]=ce,this.int16[Et+1]=be,this.int16[Et+2]=Ae,this.int16[Et+3]=Ke,this.int16[Et+4]=ht,this.int16[Et+5]=Tt,ee},_}(ci);Cf.prototype.bytesPerElement=12,va("StructArrayLayout2i2i2i12",Cf);var iu=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be,Ae,Ke){var ht=this.length;return this.resize(ht+1),this.emplace(ht,ee,ce,be,Ae,Ke)},_.prototype.emplace=function(ee,ce,be,Ae,Ke,ht){var Tt=4*ee,Et=8*ee;return this.float32[Tt+0]=ce,this.float32[Tt+1]=be,this.float32[Tt+2]=Ae,this.int16[Et+6]=Ke,this.int16[Et+7]=ht,ee},_}(ci);iu.prototype.bytesPerElement=16,va("StructArrayLayout2f1f2i16",iu);var zs=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be,Ae){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ee,ce,be,Ae)},_.prototype.emplace=function(ee,ce,be,Ae,Ke){var ht=12*ee,Tt=3*ee;return this.uint8[ht+0]=ce,this.uint8[ht+1]=be,this.float32[Tt+1]=Ae,this.float32[Tt+2]=Ke,ee},_}(ci);zs.prototype.bytesPerElement=12,va("StructArrayLayout2ub2f12",zs);var ou=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,ee,ce,be)},_.prototype.emplace=function(ee,ce,be,Ae){var Ke=3*ee;return this.uint16[Ke+0]=ce,this.uint16[Ke+1]=be,this.uint16[Ke+2]=Ae,ee},_}(ci);ou.prototype.bytesPerElement=6,va("StructArrayLayout3ui6",ou);var mf=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr,ir,Lr,Wr,gn,sn,Rn,Sn){var Dn=this.length;return this.resize(Dn+1),this.emplace(Dn,ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr,ir,Lr,Wr,gn,sn,Rn,Sn)},_.prototype.emplace=function(ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr,ir,Lr,Wr,gn,sn,Rn,Sn,Dn){var zn=24*ee,Zn=12*ee,oa=48*ee;return this.int16[zn+0]=ce,this.int16[zn+1]=be,this.uint16[zn+2]=Ae,this.uint16[zn+3]=Ke,this.uint32[Zn+2]=ht,this.uint32[Zn+3]=Tt,this.uint32[Zn+4]=Et,this.uint16[zn+10]=jt,this.uint16[zn+11]=fr,this.uint16[zn+12]=ir,this.float32[Zn+7]=Lr,this.float32[Zn+8]=Wr,this.uint8[oa+36]=gn,this.uint8[oa+37]=sn,this.uint8[oa+38]=Rn,this.uint32[Zn+10]=Sn,this.int16[zn+22]=Dn,ee},_}(ci);mf.prototype.bytesPerElement=48,va("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",mf);var Lf=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr,ir,Lr,Wr,gn,sn,Rn,Sn,Dn,zn,Zn,oa,aa,Fa,ba,Aa,Qa,Da,ka){var ai=this.length;return this.resize(ai+1),this.emplace(ai,ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr,ir,Lr,Wr,gn,sn,Rn,Sn,Dn,zn,Zn,oa,aa,Fa,ba,Aa,Qa,Da,ka)},_.prototype.emplace=function(ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr,ir,Lr,Wr,gn,sn,Rn,Sn,Dn,zn,Zn,oa,aa,Fa,ba,Aa,Qa,Da,ka,ai){var ja=34*ee,Ti=17*ee;return this.int16[ja+0]=ce,this.int16[ja+1]=be,this.int16[ja+2]=Ae,this.int16[ja+3]=Ke,this.int16[ja+4]=ht,this.int16[ja+5]=Tt,this.int16[ja+6]=Et,this.int16[ja+7]=jt,this.uint16[ja+8]=fr,this.uint16[ja+9]=ir,this.uint16[ja+10]=Lr,this.uint16[ja+11]=Wr,this.uint16[ja+12]=gn,this.uint16[ja+13]=sn,this.uint16[ja+14]=Rn,this.uint16[ja+15]=Sn,this.uint16[ja+16]=Dn,this.uint16[ja+17]=zn,this.uint16[ja+18]=Zn,this.uint16[ja+19]=oa,this.uint16[ja+20]=aa,this.uint16[ja+21]=Fa,this.uint16[ja+22]=ba,this.uint32[Ti+12]=Aa,this.float32[Ti+13]=Qa,this.float32[Ti+14]=Da,this.float32[Ti+15]=ka,this.float32[Ti+16]=ai,ee},_}(ci);Lf.prototype.bytesPerElement=68,va("StructArrayLayout8i15ui1ul4f68",Lf);var tf=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee){var ce=this.length;return this.resize(ce+1),this.emplace(ce,ee)},_.prototype.emplace=function(ee,ce){return this.float32[1*ee+0]=ce,ee},_}(ci);tf.prototype.bytesPerElement=4,va("StructArrayLayout1f4",tf);var ec=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,ee,ce,be)},_.prototype.emplace=function(ee,ce,be,Ae){var Ke=3*ee;return this.int16[Ke+0]=ce,this.int16[Ke+1]=be,this.int16[Ke+2]=Ae,ee},_}(ci);ec.prototype.bytesPerElement=6,va("StructArrayLayout3i6",ec);var wu=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,ee,ce,be)},_.prototype.emplace=function(ee,ce,be,Ae){var ht=4*ee;return this.uint32[2*ee+0]=ce,this.uint16[ht+2]=be,this.uint16[ht+3]=Ae,ee},_}(ci);wu.prototype.bytesPerElement=8,va("StructArrayLayout1ul2ui8",wu);var xf=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce){var be=this.length;return this.resize(be+1),this.emplace(be,ee,ce)},_.prototype.emplace=function(ee,ce,be){var Ae=2*ee;return this.uint16[Ae+0]=ce,this.uint16[Ae+1]=be,ee},_}(ci);xf.prototype.bytesPerElement=4,va("StructArrayLayout2ui4",xf);var rf=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee){var ce=this.length;return this.resize(ce+1),this.emplace(ce,ee)},_.prototype.emplace=function(ee,ce){return this.uint16[1*ee+0]=ce,ee},_}(ci);rf.prototype.bytesPerElement=2,va("StructArrayLayout1ui2",rf);var Tu=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce){var be=this.length;return this.resize(be+1),this.emplace(be,ee,ce)},_.prototype.emplace=function(ee,ce,be){var Ae=2*ee;return this.float32[Ae+0]=ce,this.float32[Ae+1]=be,ee},_}(ci);Tu.prototype.bytesPerElement=8,va("StructArrayLayout2f8",Tu);var tc=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},_.prototype.emplaceBack=function(ee,ce,be,Ae){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ee,ce,be,Ae)},_.prototype.emplace=function(ee,ce,be,Ae,Ke){var ht=4*ee;return this.float32[ht+0]=ce,this.float32[ht+1]=be,this.float32[ht+2]=Ae,this.float32[ht+3]=Ke,ee},_}(ci);tc.prototype.bytesPerElement=16,va("StructArrayLayout4f16",tc);var bc=function(R){function _(){R.apply(this,arguments)}R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_;var U={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return U.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},U.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},U.x1.get=function(){return this._structArray.int16[this._pos2+2]},U.y1.get=function(){return this._structArray.int16[this._pos2+3]},U.x2.get=function(){return this._structArray.int16[this._pos2+4]},U.y2.get=function(){return this._structArray.int16[this._pos2+5]},U.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},U.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},U.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},U.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(_.prototype,U),_}(Ii);bc.prototype.size=20;var Au=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.get=function(ee){return new bc(this,ee)},_}(yf);va("CollisionBoxArray",Au);var rc=function(R){function _(){R.apply(this,arguments)}R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_;var U={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return U.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},U.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},U.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},U.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},U.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},U.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},U.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},U.segment.get=function(){return this._structArray.uint16[this._pos2+10]},U.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},U.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},U.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},U.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},U.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},U.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},U.placedOrientation.set=function(ee){this._structArray.uint8[this._pos1+37]=ee},U.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},U.hidden.set=function(ee){this._structArray.uint8[this._pos1+38]=ee},U.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},U.crossTileID.set=function(ee){this._structArray.uint32[this._pos4+10]=ee},U.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(_.prototype,U),_}(Ii);rc.prototype.size=48;var nf=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.get=function(ee){return new rc(this,ee)},_}(mf);va("PlacedSymbolArray",nf);var wc=function(R){function _(){R.apply(this,arguments)}R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_;var U={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return U.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},U.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},U.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},U.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},U.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},U.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},U.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},U.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},U.key.get=function(){return this._structArray.uint16[this._pos2+8]},U.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},U.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},U.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},U.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},U.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},U.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},U.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},U.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},U.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},U.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},U.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},U.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},U.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},U.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},U.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},U.crossTileID.set=function(ee){this._structArray.uint32[this._pos4+12]=ee},U.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},U.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},U.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},U.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(_.prototype,U),_}(Ii);wc.prototype.size=68;var Tc=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.get=function(ee){return new wc(this,ee)},_}(Lf);va("SymbolInstanceArray",Tc);var Pl=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.getoffsetX=function(ee){return this.float32[1*ee+0]},_}(tf);va("GlyphOffsetArray",Pl);var Ac=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.getx=function(ee){return this.int16[3*ee+0]},_.prototype.gety=function(ee){return this.int16[3*ee+1]},_.prototype.gettileUnitDistanceFromAnchor=function(ee){return this.int16[3*ee+2]},_}(ec);va("SymbolLineVertexArray",Ac);var Mc=function(R){function _(){R.apply(this,arguments)}R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_;var U={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return U.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},U.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},U.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(_.prototype,U),_}(Ii);Mc.prototype.size=8;var nc=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.get=function(ee){return new Mc(this,ee)},_}(wu);va("FeatureIndexArray",nc);var le=gi([{name:"a_pos",components:2,type:"Int16"}],4).members,G=function(_){void 0===_&&(_=[]),this.segments=_};function he(R,_){return 256*(R=c(Math.floor(R),0,255))+c(Math.floor(_),0,255)}G.prototype.prepareSegment=function(_,U,ee,ce){var be=this.segments[this.segments.length-1];return _>G.MAX_VERTEX_ARRAY_LENGTH&&B("Max vertices per segment is "+G.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+_),(!be||be.vertexLength+_>G.MAX_VERTEX_ARRAY_LENGTH||be.sortKey!==ce)&&(be={vertexOffset:U.length,primitiveOffset:ee.length,vertexLength:0,primitiveLength:0},void 0!==ce&&(be.sortKey=ce),this.segments.push(be)),be},G.prototype.get=function(){return this.segments},G.prototype.destroy=function(){for(var _=0,U=this.segments;_<U.length;_+=1){var ee=U[_];for(var ce in ee.vaos)ee.vaos[ce].destroy()}},G.simpleSegment=function(_,U,ee,ce){return new G([{vertexOffset:_,primitiveOffset:U,vertexLength:ee,primitiveLength:ce,vaos:{},sortKey:0}])},G.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,va("SegmentVector",G);var $=gi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),ve=P(function(R){R.exports=function _(U,ee){var ce,be,Ae,Ke,ht,Tt,Et,jt;for(be=U.length-(ce=3&U.length),Ae=ee,ht=3432918353,Tt=461845907,jt=0;jt<be;)Et=255&U.charCodeAt(jt)|(255&U.charCodeAt(++jt))<<8|(255&U.charCodeAt(++jt))<<16|(255&U.charCodeAt(++jt))<<24,++jt,Ae=27492+(65535&(Ke=5*(65535&(Ae=(Ae^=Et=(65535&(Et=(Et=(65535&Et)*ht+(((Et>>>16)*ht&65535)<<16)&4294967295)<<15|Et>>>17))*Tt+(((Et>>>16)*Tt&65535)<<16)&4294967295)<<13|Ae>>>19))+((5*(Ae>>>16)&65535)<<16)&4294967295))+((58964+(Ke>>>16)&65535)<<16);switch(Et=0,ce){case 3:Et^=(255&U.charCodeAt(jt+2))<<16;case 2:Et^=(255&U.charCodeAt(jt+1))<<8;case 1:Ae^=Et=(65535&(Et=(Et=(65535&(Et^=255&U.charCodeAt(jt)))*ht+(((Et>>>16)*ht&65535)<<16)&4294967295)<<15|Et>>>17))*Tt+(((Et>>>16)*Tt&65535)<<16)&4294967295}return Ae^=U.length,Ae=2246822507*(65535&(Ae^=Ae>>>16))+((2246822507*(Ae>>>16)&65535)<<16)&4294967295,Ae=3266489909*(65535&(Ae^=Ae>>>13))+((3266489909*(Ae>>>16)&65535)<<16)&4294967295,(Ae^=Ae>>>16)>>>0}}),Le=P(function(R){R.exports=function _(U,ee){for(var Ke,ce=U.length,be=ee^ce,Ae=0;ce>=4;)Ke=1540483477*(65535&(Ke=255&U.charCodeAt(Ae)|(255&U.charCodeAt(++Ae))<<8|(255&U.charCodeAt(++Ae))<<16|(255&U.charCodeAt(++Ae))<<24))+((1540483477*(Ke>>>16)&65535)<<16),be=1540483477*(65535&be)+((1540483477*(be>>>16)&65535)<<16)^(Ke=1540483477*(65535&(Ke^=Ke>>>24))+((1540483477*(Ke>>>16)&65535)<<16)),ce-=4,++Ae;switch(ce){case 3:be^=(255&U.charCodeAt(Ae+2))<<16;case 2:be^=(255&U.charCodeAt(Ae+1))<<8;case 1:be=1540483477*(65535&(be^=255&U.charCodeAt(Ae)))+((1540483477*(be>>>16)&65535)<<16)}return be=1540483477*(65535&(be^=be>>>13))+((1540483477*(be>>>16)&65535)<<16),(be^=be>>>15)>>>0}}),Ze=ve,wt=Le;Ze.murmur3=ve,Ze.murmur2=wt;var Wt=function(){this.ids=[],this.positions=[],this.indexed=!1};Wt.prototype.add=function(_,U,ee,ce){this.ids.push(yr(_)),this.positions.push(U,ee,ce)},Wt.prototype.getPositions=function(_){for(var U=yr(_),ee=0,ce=this.ids.length-1;ee<ce;){var be=ee+ce>>1;this.ids[be]>=U?ce=be:ee=be+1}for(var Ae=[];this.ids[ee]===U;)Ae.push({index:this.positions[3*ee],start:this.positions[3*ee+1],end:this.positions[3*ee+2]}),ee++;return Ae},Wt.serialize=function(_,U){var ee=new Float64Array(_.ids),ce=new Uint32Array(_.positions);return Cr(ee,ce,0,ee.length-1),U&&U.push(ee.buffer,ce.buffer),{ids:ee,positions:ce}},Wt.deserialize=function(_){var U=new Wt;return U.ids=_.ids,U.positions=_.positions,U.indexed=!0,U};var nr=Math.pow(2,53)-1;function yr(R){var _=+R;return!isNaN(_)&&_<=nr?_:Ze(String(R))}function Cr(R,_,U,ee){for(;U<ee;){for(var ce=R[U+ee>>1],be=U-1,Ae=ee+1;;){do{be++}while(R[be]<ce);do{Ae--}while(R[Ae]>ce);if(be>=Ae)break;Br(R,be,Ae),Br(_,3*be,3*Ae),Br(_,3*be+1,3*Ae+1),Br(_,3*be+2,3*Ae+2)}Ae-U<ee-Ae?(Cr(R,_,U,Ae),U=Ae+1):(Cr(R,_,Ae+1,ee),ee=Ae)}}function Br(R,_,U){var ee=R[_];R[_]=R[U],R[U]=ee}va("FeaturePositionMap",Wt);var $r=function(_,U){this.gl=_.gl,this.location=U},qr=function(R){function _(U,ee){R.call(this,U,ee),this.current=0}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.set=function(ee){this.current!==ee&&(this.current=ee,this.gl.uniform1i(this.location,ee))},_}($r),jr=function(R){function _(U,ee){R.call(this,U,ee),this.current=0}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.set=function(ee){this.current!==ee&&(this.current=ee,this.gl.uniform1f(this.location,ee))},_}($r),nn=function(R){function _(U,ee){R.call(this,U,ee),this.current=[0,0]}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.set=function(ee){(ee[0]!==this.current[0]||ee[1]!==this.current[1])&&(this.current=ee,this.gl.uniform2f(this.location,ee[0],ee[1]))},_}($r),wn=function(R){function _(U,ee){R.call(this,U,ee),this.current=[0,0,0]}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.set=function(ee){(ee[0]!==this.current[0]||ee[1]!==this.current[1]||ee[2]!==this.current[2])&&(this.current=ee,this.gl.uniform3f(this.location,ee[0],ee[1],ee[2]))},_}($r),_n=function(R){function _(U,ee){R.call(this,U,ee),this.current=[0,0,0,0]}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.set=function(ee){(ee[0]!==this.current[0]||ee[1]!==this.current[1]||ee[2]!==this.current[2]||ee[3]!==this.current[3])&&(this.current=ee,this.gl.uniform4f(this.location,ee[0],ee[1],ee[2],ee[3]))},_}($r),Un=function(R){function _(U,ee){R.call(this,U,ee),this.current=oi.transparent}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.set=function(ee){(ee.r!==this.current.r||ee.g!==this.current.g||ee.b!==this.current.b||ee.a!==this.current.a)&&(this.current=ee,this.gl.uniform4f(this.location,ee.r,ee.g,ee.b,ee.a))},_}($r),$n=new Float32Array(16),ta=function(R){function _(U,ee){R.call(this,U,ee),this.current=$n}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.set=function(ee){if(ee[12]!==this.current[12]||ee[0]!==this.current[0])return this.current=ee,void this.gl.uniformMatrix4fv(this.location,!1,ee);for(var ce=1;ce<16;ce++)if(ee[ce]!==this.current[ce]){this.current=ee,this.gl.uniformMatrix4fv(this.location,!1,ee);break}},_}($r);function qn(R){return[he(255*R.r,255*R.g),he(255*R.b,255*R.a)]}var ua=function(_,U,ee){this.value=_,this.uniformNames=U.map(function(ce){return"u_"+ce}),this.type=ee};ua.prototype.setUniform=function(_,U,ee){_.set(ee.constantOr(this.value))},ua.prototype.getBinding=function(_,U,ee){return"color"===this.type?new Un(_,U):new jr(_,U)};var xa=function(_,U){this.uniformNames=U.map(function(ee){return"u_"+ee}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};xa.prototype.setConstantPatternPositions=function(_,U){this.pixelRatioFrom=U.pixelRatio,this.pixelRatioTo=_.pixelRatio,this.patternFrom=U.tlbr,this.patternTo=_.tlbr},xa.prototype.setUniform=function(_,U,ee,ce){var be="u_pattern_to"===ce?this.patternTo:"u_pattern_from"===ce?this.patternFrom:"u_pixel_ratio_to"===ce?this.pixelRatioTo:"u_pixel_ratio_from"===ce?this.pixelRatioFrom:null;be&&_.set(be)},xa.prototype.getBinding=function(_,U,ee){return"u_pattern"===ee.substr(0,9)?new _n(_,U):new jr(_,U)};var ga=function(_,U,ee,ce){this.expression=_,this.type=ee,this.maxValue=0,this.paintVertexAttributes=U.map(function(be){return{name:"a_"+be,type:"Float32",components:"color"===ee?2:1,offset:0}}),this.paintVertexArray=new ce};ga.prototype.populatePaintArray=function(_,U,ee,ce,be){var Ae=this.paintVertexArray.length,Ke=this.expression.evaluate(new Ca(0),U,{},ce,[],be);this.paintVertexArray.resize(_),this._setPaintValue(Ae,_,Ke)},ga.prototype.updatePaintArray=function(_,U,ee,ce){var be=this.expression.evaluate({zoom:0},ee,ce);this._setPaintValue(_,U,be)},ga.prototype._setPaintValue=function(_,U,ee){if("color"===this.type)for(var ce=qn(ee),be=_;be<U;be++)this.paintVertexArray.emplace(be,ce[0],ce[1]);else{for(var Ae=_;Ae<U;Ae++)this.paintVertexArray.emplace(Ae,ee);this.maxValue=Math.max(this.maxValue,Math.abs(ee))}},ga.prototype.upload=function(_){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=_.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ga.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ta=function(_,U,ee,ce,be,Ae){this.expression=_,this.uniformNames=U.map(function(Ke){return"u_"+Ke+"_t"}),this.type=ee,this.useIntegerZoom=ce,this.zoom=be,this.maxValue=0,this.paintVertexAttributes=U.map(function(Ke){return{name:"a_"+Ke,type:"Float32",components:"color"===ee?4:2,offset:0}}),this.paintVertexArray=new Ae};Ta.prototype.populatePaintArray=function(_,U,ee,ce,be){var Ae=this.expression.evaluate(new Ca(this.zoom),U,{},ce,[],be),Ke=this.expression.evaluate(new Ca(this.zoom+1),U,{},ce,[],be),ht=this.paintVertexArray.length;this.paintVertexArray.resize(_),this._setPaintValue(ht,_,Ae,Ke)},Ta.prototype.updatePaintArray=function(_,U,ee,ce){var be=this.expression.evaluate({zoom:this.zoom},ee,ce),Ae=this.expression.evaluate({zoom:this.zoom+1},ee,ce);this._setPaintValue(_,U,be,Ae)},Ta.prototype._setPaintValue=function(_,U,ee,ce){if("color"===this.type)for(var be=qn(ee),Ae=qn(ce),Ke=_;Ke<U;Ke++)this.paintVertexArray.emplace(Ke,be[0],be[1],Ae[0],Ae[1]);else{for(var ht=_;ht<U;ht++)this.paintVertexArray.emplace(ht,ee,ce);this.maxValue=Math.max(this.maxValue,Math.abs(ee),Math.abs(ce))}},Ta.prototype.upload=function(_){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=_.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ta.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ta.prototype.setUniform=function(_,U){var ee=this.useIntegerZoom?Math.floor(U.zoom):U.zoom,ce=c(this.expression.interpolationFactor(ee,this.zoom,this.zoom+1),0,1);_.set(ce)},Ta.prototype.getBinding=function(_,U,ee){return new jr(_,U)};var Pa=function(_,U,ee,ce,be,Ae){this.expression=_,this.type=U,this.useIntegerZoom=ee,this.zoom=ce,this.layerId=Ae,this.zoomInPaintVertexArray=new be,this.zoomOutPaintVertexArray=new be};Pa.prototype.populatePaintArray=function(_,U,ee){var ce=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(_),this.zoomOutPaintVertexArray.resize(_),this._setPaintValues(ce,_,U.patterns&&U.patterns[this.layerId],ee)},Pa.prototype.updatePaintArray=function(_,U,ee,ce,be){this._setPaintValues(_,U,ee.patterns&&ee.patterns[this.layerId],be)},Pa.prototype._setPaintValues=function(_,U,ee,ce){if(ce&&ee){var ht=ce[ee.min],Tt=ce[ee.mid],Et=ce[ee.max];if(ht&&Tt&&Et)for(var jt=_;jt<U;jt++)this.zoomInPaintVertexArray.emplace(jt,Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],ht.tl[0],ht.tl[1],ht.br[0],ht.br[1],Tt.pixelRatio,ht.pixelRatio),this.zoomOutPaintVertexArray.emplace(jt,Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],Tt.pixelRatio,Et.pixelRatio)}},Pa.prototype.upload=function(_){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=_.createVertexBuffer(this.zoomInPaintVertexArray,$.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=_.createVertexBuffer(this.zoomOutPaintVertexArray,$.members,this.expression.isStateDependent))},Pa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Wa=function(_,U,ee,ce){this.binders={},this.layoutAttributes=ce,this._buffers=[];var be=[];for(var Ae in _.paint._values)if(ee(Ae)){var Ke=_.paint.get(Ae);if(Ke instanceof Ya&&Zs(Ke.property.specification)){var ht=Li(Ae,_.type),Tt=Ke.value,Et=Ke.property.specification.type,jt=Ke.property.useIntegerZoom,fr=Ke.property.specification["property-type"],ir="cross-faded"===fr||"cross-faded-data-driven"===fr;if("constant"===Tt.kind)this.binders[Ae]=ir?new xa(Tt.value,ht):new ua(Tt.value,ht,Et),be.push("/u_"+Ae);else if("source"===Tt.kind||ir){var Lr=vi(Ae,Et,"source");this.binders[Ae]=ir?new Pa(Tt,Et,jt,U,Lr,_.id):new ga(Tt,ht,Et,Lr),be.push("/a_"+Ae)}else{var Wr=vi(Ae,Et,"composite");this.binders[Ae]=new Ta(Tt,ht,Et,jt,U,Wr),be.push("/z_"+Ae)}}}this.cacheKey=be.sort().join("")};Wa.prototype.getMaxValue=function(_){var U=this.binders[_];return U instanceof ga||U instanceof Ta?U.maxValue:0},Wa.prototype.populatePaintArrays=function(_,U,ee,ce,be){for(var Ae in this.binders){var Ke=this.binders[Ae];(Ke instanceof ga||Ke instanceof Ta||Ke instanceof Pa)&&Ke.populatePaintArray(_,U,ee,ce,be)}},Wa.prototype.setConstantPatternPositions=function(_,U){for(var ee in this.binders){var ce=this.binders[ee];ce instanceof xa&&ce.setConstantPatternPositions(_,U)}},Wa.prototype.updatePaintArrays=function(_,U,ee,ce,be){var Ae=!1;for(var Ke in _)for(var Tt=0,Et=U.getPositions(Ke);Tt<Et.length;Tt+=1){var jt=Et[Tt],fr=ee.feature(jt.index);for(var ir in this.binders){var Lr=this.binders[ir];if((Lr instanceof ga||Lr instanceof Ta||Lr instanceof Pa)&&!0===Lr.expression.isStateDependent){var Wr=ce.paint.get(ir);Lr.expression=Wr.value,Lr.updatePaintArray(jt.start,jt.end,fr,_[Ke],be),Ae=!0}}}return Ae},Wa.prototype.defines=function(){var _=[];for(var U in this.binders){var ee=this.binders[U];(ee instanceof ua||ee instanceof xa)&&_.push.apply(_,ee.uniformNames.map(function(ce){return"#define HAS_UNIFORM_"+ce}))}return _},Wa.prototype.getPaintVertexBuffers=function(){return this._buffers},Wa.prototype.getUniforms=function(_,U){var ee=[];for(var ce in this.binders){var be=this.binders[ce];if(be instanceof ua||be instanceof xa||be instanceof Ta)for(var Ae=0,Ke=be.uniformNames;Ae<Ke.length;Ae+=1){var ht=Ke[Ae];if(U[ht]){var Tt=be.getBinding(_,U[ht],ht);ee.push({name:ht,property:ce,binding:Tt})}}}return ee},Wa.prototype.setUniforms=function(_,U,ee,ce){for(var be=0,Ae=U;be<Ae.length;be+=1){var Ke=Ae[be],ht=Ke.name,Tt=Ke.property;this.binders[Tt].setUniform(Ke.binding,ce,ee.get(Tt),ht)}},Wa.prototype.updatePaintBuffers=function(_){for(var U in this._buffers=[],this.binders){var ee=this.binders[U];if(_&&ee instanceof Pa){var ce=2===_.fromScale?ee.zoomInPaintVertexBuffer:ee.zoomOutPaintVertexBuffer;ce&&this._buffers.push(ce)}else(ee instanceof ga||ee instanceof Ta)&&ee.paintVertexBuffer&&this._buffers.push(ee.paintVertexBuffer)}},Wa.prototype.upload=function(_){for(var U in this.binders){var ee=this.binders[U];(ee instanceof ga||ee instanceof Ta||ee instanceof Pa)&&ee.upload(_)}this.updatePaintBuffers()},Wa.prototype.destroy=function(){for(var _ in this.binders){var U=this.binders[_];(U instanceof ga||U instanceof Ta||U instanceof Pa)&&U.destroy()}};var qa=function(_,U,ee,ce){void 0===ce&&(ce=function(){return!0}),this.programConfigurations={};for(var be=0,Ae=U;be<Ae.length;be+=1){var Ke=Ae[be];this.programConfigurations[Ke.id]=new Wa(Ke,ee,ce,_)}this.needsUpload=!1,this._featureMap=new Wt,this._bufferOffset=0};function Li(R,_){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[R]||[R.replace(_+"-","").replace(/-/g,"_")]}function vi(R,_,U){var ee={color:{source:Tu,composite:tc},number:{source:tf,composite:Tu}},ce=function ni(R){return{"line-pattern":{source:Go,composite:Go},"fill-pattern":{source:Go,composite:Go},"fill-extrusion-pattern":{source:Go,composite:Go}}[R]}(R);return ce&&ce[U]||ee[_][U]}qa.prototype.populatePaintArrays=function(_,U,ee,ce,be,Ae){for(var Ke in this.programConfigurations)this.programConfigurations[Ke].populatePaintArrays(_,U,ce,be,Ae);void 0!==U.id&&this._featureMap.add(U.id,ee,this._bufferOffset,_),this._bufferOffset=_,this.needsUpload=!0},qa.prototype.updatePaintArrays=function(_,U,ee,ce){for(var be=0,Ae=ee;be<Ae.length;be+=1){var Ke=Ae[be];this.needsUpload=this.programConfigurations[Ke.id].updatePaintArrays(_,this._featureMap,U,Ke,ce)||this.needsUpload}},qa.prototype.get=function(_){return this.programConfigurations[_]},qa.prototype.upload=function(_){if(this.needsUpload){for(var U in this.programConfigurations)this.programConfigurations[U].upload(_);this.needsUpload=!1}},qa.prototype.destroy=function(){for(var _ in this.programConfigurations)this.programConfigurations[_].destroy()},va("ConstantBinder",ua),va("CrossFadedConstantBinder",xa),va("SourceExpressionBinder",ga),va("CrossFadedCompositeBinder",Pa),va("CompositeExpressionBinder",Ta),va("ProgramConfiguration",Wa,{omit:["_buffers"]}),va("ProgramConfigurationSet",qa);var Oa=8192;var Ni=function Pi(R){return{min:-1*Math.pow(2,R-1),max:Math.pow(2,R-1)-1}}(15);function Xi(R){for(var _=Oa/R.extent,U=R.loadGeometry(),ee=0;ee<U.length;ee++)for(var ce=U[ee],be=0;be<ce.length;be++){var Ae=ce[be];Ae.x=Math.round(Ae.x*_),Ae.y=Math.round(Ae.y*_),(Ae.x<Ni.min||Ae.x>Ni.max||Ae.y<Ni.min||Ae.y>Ni.max)&&(B("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ae.x=c(Ae.x,Ni.min,Ni.max),Ae.y=c(Ae.y,Ni.min,Ni.max))}return U}function yi(R,_,U,ee,ce){R.emplaceBack(2*_+(ee+1)/2,2*U+(ce+1)/2)}var no=function(_){this.zoom=_.zoom,this.overscaling=_.overscaling,this.layers=_.layers,this.layerIds=this.layers.map(function(U){return U.id}),this.index=_.index,this.hasPattern=!1,this.layoutVertexArray=new es,this.indexArray=new ou,this.segments=new G,this.programConfigurations=new qa(le,_.layers,_.zoom),this.stateDependentLayerIds=this.layers.filter(function(U){return U.isStateDependent()}).map(function(U){return U.id})};function ei(R,_){for(var U=0;U<R.length;U++)if(Ms(_,R[U]))return!0;for(var ee=0;ee<_.length;ee++)if(Ms(R,_[ee]))return!0;return!!hl(R,_)}function xi(R,_,U){return!(!Ms(R,_)&&!Hl(_,R,U))}function Eo(R,_){if(1===R.length)return Vl(_,R[0]);for(var U=0;U<_.length;U++)for(var ee=_[U],ce=0;ce<ee.length;ce++)if(Ms(R,ee[ce]))return!0;for(var be=0;be<R.length;be++)if(Vl(_,R[be]))return!0;for(var Ae=0;Ae<_.length;Ae++)if(hl(R,_[Ae]))return!0;return!1}function cl(R,_,U){if(R.length>1){if(hl(R,_))return!0;for(var ee=0;ee<_.length;ee++)if(Hl(_[ee],R,U))return!0}for(var ce=0;ce<R.length;ce++)if(Hl(R[ce],_,U))return!0;return!1}function hl(R,_){if(0===R.length||0===_.length)return!1;for(var U=0;U<R.length-1;U++)for(var ee=R[U],ce=R[U+1],be=0;be<_.length-1;be++)if(Ul(ee,ce,_[be],_[be+1]))return!0;return!1}function Ul(R,_,U,ee){return k(R,U,ee)!==k(_,U,ee)&&k(R,_,U)!==k(R,_,ee)}function Hl(R,_,U){var ee=U*U;if(1===_.length)return R.distSqr(_[0])<ee;for(var ce=1;ce<_.length;ce++)if(su(R,_[ce-1],_[ce])<ee)return!0;return!1}function su(R,_,U){var ee=_.distSqr(U);if(0===ee)return R.distSqr(_);var ce=((R.x-_.x)*(U.x-_.x)+(R.y-_.y)*(U.y-_.y))/ee;return R.distSqr(ce<0?_:ce>1?U:U.sub(_)._mult(ce)._add(_))}function Vl(R,_){for(var ee,ce,be,U=!1,Ae=0;Ae<R.length;Ae++)for(var Ke=0,ht=(ee=R[Ae]).length-1;Ke<ee.length;ht=Ke++)(ce=ee[Ke]).y>_.y!=(be=ee[ht]).y>_.y&&_.x<(be.x-ce.x)*(_.y-ce.y)/(be.y-ce.y)+ce.x&&(U=!U);return U}function Ms(R,_){for(var U=!1,ee=0,ce=R.length-1;ee<R.length;ce=ee++){var be=R[ee],Ae=R[ce];be.y>_.y!=Ae.y>_.y&&_.x<(Ae.x-be.x)*(_.y-be.y)/(Ae.y-be.y)+be.x&&(U=!U)}return U}function os(R,_,U){var ee=U[0],ce=U[2];if(R.x<ee.x&&_.x<ee.x||R.x>ce.x&&_.x>ce.x||R.y<ee.y&&_.y<ee.y||R.y>ce.y&&_.y>ce.y)return!1;var be=k(R,_,U[0]);return be!==k(R,_,U[1])||be!==k(R,_,U[2])||be!==k(R,_,U[3])}function Js(R,_,U){var ee=_.paint.get(R).value;return"constant"===ee.kind?ee.value:U.programConfigurations.get(_.id).getMaxValue(R)}function Gl(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function Dl(R,_,U,ee,ce){if(!_[0]&&!_[1])return R;var be=t.convert(_)._mult(ce);"viewport"===U&&be._rotate(-ee);for(var Ae=[],Ke=0;Ke<R.length;Ke++)Ae.push(R[Ke].sub(be));return Ae}no.prototype.populate=function(_,U,ee){var ce=this.layers[0],be=[],Ae=null;"circle"===ce.type&&(Ae=ce.layout.get("circle-sort-key"));for(var Ke=0,ht=_;Ke<ht.length;Ke+=1){var Tt=ht[Ke],Et=Tt.feature,jt=Tt.id,fr=Tt.index,ir=Tt.sourceLayerIndex,Lr=this.layers[0]._featureFilter.needGeometry,Wr={type:Et.type,id:jt,properties:Et.properties,geometry:Lr?Xi(Et):[]};if(this.layers[0]._featureFilter.filter(new Ca(this.zoom),Wr,ee)){Lr||(Wr.geometry=Xi(Et));var gn=Ae?Ae.evaluate(Wr,{},ee):void 0;be.push({id:jt,properties:Et.properties,type:Et.type,sourceLayerIndex:ir,index:fr,geometry:Wr.geometry,patterns:{},sortKey:gn})}}Ae&&be.sort(function(ba,Aa){return ba.sortKey-Aa.sortKey});for(var Rn=0,Sn=be;Rn<Sn.length;Rn+=1){var Dn=Sn[Rn],Zn=Dn.geometry,oa=Dn.index,aa=Dn.sourceLayerIndex,Fa=_[oa].feature;this.addFeature(Dn,Zn,oa,ee),U.featureIndex.insert(Fa,Zn,oa,aa,this.index)}},no.prototype.update=function(_,U,ee){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_,U,this.stateDependentLayers,ee)},no.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},no.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},no.prototype.upload=function(_){this.uploaded||(this.layoutVertexBuffer=_.createVertexBuffer(this.layoutVertexArray,le),this.indexBuffer=_.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(_),this.uploaded=!0},no.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},no.prototype.addFeature=function(_,U,ee,ce){for(var be=0,Ae=U;be<Ae.length;be+=1)for(var ht=0,Tt=Ae[be];ht<Tt.length;ht+=1){var Et=Tt[ht],jt=Et.x,fr=Et.y;if(!(jt<0||jt>=Oa||fr<0||fr>=Oa)){var ir=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,_.sortKey),Lr=ir.vertexLength;yi(this.layoutVertexArray,jt,fr,-1,-1),yi(this.layoutVertexArray,jt,fr,1,-1),yi(this.layoutVertexArray,jt,fr,1,1),yi(this.layoutVertexArray,jt,fr,-1,1),this.indexArray.emplaceBack(Lr,Lr+1,Lr+2),this.indexArray.emplaceBack(Lr,Lr+3,Lr+2),ir.vertexLength+=4,ir.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_,ee,{},ce)},va("CircleBucket",no,{omit:["layers"]});var Wl=new Bi({"circle-sort-key":new wa(er.layout_circle["circle-sort-key"])}),Nu={paint:new Bi({"circle-radius":new wa(er.paint_circle["circle-radius"]),"circle-color":new wa(er.paint_circle["circle-color"]),"circle-blur":new wa(er.paint_circle["circle-blur"]),"circle-opacity":new wa(er.paint_circle["circle-opacity"]),"circle-translate":new ia(er.paint_circle["circle-translate"]),"circle-translate-anchor":new ia(er.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ia(er.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ia(er.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new wa(er.paint_circle["circle-stroke-width"]),"circle-stroke-color":new wa(er.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new wa(er.paint_circle["circle-stroke-opacity"])}),layout:Wl},ts=typeof Float32Array<"u"?Float32Array:Array;function _f(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function of(R,_,U){var ee=_[0],ce=_[1],be=_[2],Ae=_[3],Ke=_[4],ht=_[5],Tt=_[6],Et=_[7],jt=_[8],fr=_[9],ir=_[10],Lr=_[11],Wr=_[12],gn=_[13],sn=_[14],Rn=_[15],Sn=U[0],Dn=U[1],zn=U[2],Zn=U[3];return R[0]=Sn*ee+Dn*Ke+zn*jt+Zn*Wr,R[1]=Sn*ce+Dn*ht+zn*fr+Zn*gn,R[2]=Sn*be+Dn*Tt+zn*ir+Zn*sn,R[3]=Sn*Ae+Dn*Et+zn*Lr+Zn*Rn,R[4]=(Sn=U[4])*ee+(Dn=U[5])*Ke+(zn=U[6])*jt+(Zn=U[7])*Wr,R[5]=Sn*ce+Dn*ht+zn*fr+Zn*gn,R[6]=Sn*be+Dn*Tt+zn*ir+Zn*sn,R[7]=Sn*Ae+Dn*Et+zn*Lr+Zn*Rn,R[8]=(Sn=U[8])*ee+(Dn=U[9])*Ke+(zn=U[10])*jt+(Zn=U[11])*Wr,R[9]=Sn*ce+Dn*ht+zn*fr+Zn*gn,R[10]=Sn*be+Dn*Tt+zn*ir+Zn*sn,R[11]=Sn*Ae+Dn*Et+zn*Lr+Zn*Rn,R[12]=(Sn=U[12])*ee+(Dn=U[13])*Ke+(zn=U[14])*jt+(Zn=U[15])*Wr,R[13]=Sn*ce+Dn*ht+zn*fr+Zn*gn,R[14]=Sn*be+Dn*Tt+zn*ir+Zn*sn,R[15]=Sn*Ae+Dn*Et+zn*Lr+Zn*Rn,R}Math.hypot||(Math.hypot=function(){for(var R=arguments,_=0,U=arguments.length;U--;)_+=R[U]*R[U];return Math.sqrt(_)});var Kc=of;var Bv=function Qc(R,_,U){return R[0]=_[0]-U[0],R[1]=_[1]-U[1],R[2]=_[2]-U[2],R};function Cc(R,_,U){var ee=_[0],ce=_[1],be=_[2],Ae=_[3];return R[0]=U[0]*ee+U[4]*ce+U[8]*be+U[12]*Ae,R[1]=U[1]*ee+U[5]*ce+U[9]*be+U[13]*Ae,R[2]=U[2]*ee+U[6]*ce+U[10]*be+U[14]*Ae,R[3]=U[3]*ee+U[7]*ce+U[11]*be+U[15]*Ae,R}(function Tf(){var R=new ts(3);return ts!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R})(),function Nv(){var R=new ts(4);return ts!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}();var Wv=function Gv(R){var _=R[0],U=R[1];return _*_+U*U},Yv=(function Vv(){var R=new ts(2);return ts!=Float32Array&&(R[0]=0,R[1]=0),R}(),function(R){function _(U){R.call(this,U,Nu)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.createBucket=function(ee){return new no(ee)},_.prototype.queryRadius=function(ee){var ce=ee;return Js("circle-radius",this,ce)+Js("circle-stroke-width",this,ce)+Gl(this.paint.get("circle-translate"))},_.prototype.queryIntersectsFeature=function(ee,ce,be,Ae,Ke,ht,Tt,Et){for(var jt=Dl(ee,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ht.angle,Tt),Lr=this.paint.get("circle-radius").evaluate(ce,be)+this.paint.get("circle-stroke-width").evaluate(ce,be),Wr="map"===this.paint.get("circle-pitch-alignment"),gn=Wr?jt:function Zv(R,_){return R.map(function(U){return Mh(U,_)})}(jt,Et),sn=Wr?Lr*Tt:Lr,Rn=0,Sn=Ae;Rn<Sn.length;Rn+=1)for(var zn=0,Zn=Sn[Rn];zn<Zn.length;zn+=1){var oa=Zn[zn],aa=Wr?oa:Mh(oa,Et),Fa=sn,ba=Cc([],[oa.x,oa.y,0,1],Et);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Fa*=ba[3]/ht.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Fa*=ht.cameraToCenterDistance/ba[3]),xi(gn,aa,Fa))return!0}return!1},_}(Mo));function Mh(R,_){var U=Cc([],[R.x,R.y,0,1],_);return new t(U[0]/U[3],U[1]/U[3])}var Sh=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_}(no);function qc(R,_,U,ee){var ce=_.width,be=_.height;if(ee){if(ee instanceof Uint8ClampedArray)ee=new Uint8Array(ee.buffer);else if(ee.length!==ce*be*U)throw new RangeError("mismatched image size")}else ee=new Uint8Array(ce*be*U);return R.width=ce,R.height=be,R.data=ee,R}function Eh(R,_,U){var ee=_.width,ce=_.height;if(ee!==R.width||ce!==R.height){var be=qc({},{width:ee,height:ce},U);eh(R,be,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,ee),height:Math.min(R.height,ce)},U),R.width=ee,R.height=ce,R.data=be.data}}function eh(R,_,U,ee,ce,be){if(0===ce.width||0===ce.height)return _;if(ce.width>R.width||ce.height>R.height||U.x>R.width-ce.width||U.y>R.height-ce.height)throw new RangeError("out of range source coordinates for image copy");if(ce.width>_.width||ce.height>_.height||ee.x>_.width-ce.width||ee.y>_.height-ce.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ae=R.data,Ke=_.data,ht=0;ht<ce.height;ht++)for(var Tt=((U.y+ht)*R.width+U.x)*be,Et=((ee.y+ht)*_.width+ee.x)*be,jt=0;jt<ce.width*be;jt++)Ke[Et+jt]=Ae[Tt+jt];return _}va("HeatmapBucket",Sh,{omit:["layers"]});var Af=function(_,U){qc(this,_,1,U)};Af.prototype.resize=function(_){Eh(this,_,1)},Af.prototype.clone=function(){return new Af({width:this.width,height:this.height},new Uint8Array(this.data))},Af.copy=function(_,U,ee,ce,be){eh(_,U,ee,ce,be,1)};var Ns=function(_,U){qc(this,_,4,U)};Ns.prototype.resize=function(_){Eh(this,_,4)},Ns.prototype.replace=function(_,U){U?this.data.set(_):this.data=_ instanceof Uint8ClampedArray?new Uint8Array(_.buffer):_},Ns.prototype.clone=function(){return new Ns({width:this.width,height:this.height},new Uint8Array(this.data))},Ns.copy=function(_,U,ee,ce,be){eh(_,U,ee,ce,be,4)},va("AlphaImage",Af),va("RGBAImage",Ns);var jv={paint:new Bi({"heatmap-radius":new wa(er.paint_heatmap["heatmap-radius"]),"heatmap-weight":new wa(er.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ia(er.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bo(er.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ia(er.paint_heatmap["heatmap-opacity"])})};function Ch(R,_){for(var U=new Uint8Array(1024),ee={},ce=0,be=0;ce<256;ce++,be+=4){ee[_]=ce/255;var Ae=R.evaluate(ee);U[be+0]=Math.floor(255*Ae.r/Ae.a),U[be+1]=Math.floor(255*Ae.g/Ae.a),U[be+2]=Math.floor(255*Ae.b/Ae.a),U[be+3]=Math.floor(255*Ae.a)}return new Ns({width:256,height:1},U)}var Kv=function(R){function _(U){R.call(this,U,jv),this._updateColorRamp()}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.createBucket=function(ee){return new Sh(ee)},_.prototype._handleSpecialPaintPropertyUpdate=function(ee){"heatmap-color"===ee&&this._updateColorRamp()},_.prototype._updateColorRamp=function(){this.colorRamp=Ch(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},_.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},_.prototype.queryRadius=function(){return 0},_.prototype.queryIntersectsFeature=function(){return!1},_.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},_}(Mo),Qv={paint:new Bi({"hillshade-illumination-direction":new ia(er.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ia(er.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ia(er.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ia(er.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ia(er.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ia(er.paint_hillshade["hillshade-accent-color"])})},$v=function(R){function _(U){R.call(this,U,Qv)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},_}(Mo),Lh=gi([{name:"a_pos",components:2,type:"Int16"}],4).members,th=Lc,ed=Lc;function Lc(R,_,U){U=U||2;var Ke,ht,Tt,Et,jt,fr,ir,ee=_&&_.length,ce=ee?_[0]*U:R.length,be=Ph(R,0,ce,U,!0),Ae=[];if(!be||be.next===be.prev)return Ae;if(ee&&(be=function id(R,_,U,ee){var be,Ae,Tt,ce=[];for(be=0,Ae=_.length;be<Ae;be++)(Tt=Ph(R,_[be]*ee,be<Ae-1?_[be+1]*ee:R.length,ee,!1))===Tt.next&&(Tt.steiner=!0),ce.push(hd(Tt));for(ce.sort(od),be=0;be<ce.length;be++)sd(ce[be],U),U=sf(U,U.next);return U}(R,_,be,U)),R.length>80*U){Ke=Tt=R[0],ht=Et=R[1];for(var Lr=U;Lr<ce;Lr+=U)(jt=R[Lr])<Ke&&(Ke=jt),(fr=R[Lr+1])<ht&&(ht=fr),jt>Tt&&(Tt=jt),fr>Et&&(Et=fr);ir=0!==(ir=Math.max(Tt-Ke,Et-ht))?1/ir:0}return oc(be,Ae,U,Ke,ht,ir),Ae}function Ph(R,_,U,ee,ce){var be,Ae;if(ce===ah(R,_,U,ee)>0)for(be=_;be<U;be+=ee)Ae=_h(be,R[be],R[be+1],Ae);else for(be=U-ee;be>=_;be-=ee)Ae=_h(be,R[be],R[be+1],Ae);return Ae&&Pc(Ae,Ae.next)&&(lc(Ae),Ae=Ae.next),Ae}function sf(R,_){if(!R)return R;_||(_=R);var ee,U=R;do{if(ee=!1,U.steiner||!Pc(U,U.next)&&0!==Bo(U.prev,U,U.next))U=U.next;else{if(lc(U),(U=_=U.prev)===U.next)break;ee=!0}}while(ee||U!==_);return _}function oc(R,_,U,ee,ce,be,Ae){if(R){!Ae&&be&&function fd(R,_,U,ee){var ce=R;do{null===ce.z&&(ce.z=rh(ce.x,ce.y,_,U,ee)),ce.prevZ=ce.prev,ce.nextZ=ce.next,ce=ce.next}while(ce!==R);ce.prevZ.nextZ=null,ce.prevZ=null,function cd(R){var _,U,ee,ce,be,Ae,Ke,ht,Tt=1;do{for(U=R,R=null,be=null,Ae=0;U;){for(Ae++,ee=U,Ke=0,_=0;_<Tt&&(Ke++,ee=ee.nextZ);_++);for(ht=Tt;Ke>0||ht>0&&ee;)0!==Ke&&(0===ht||!ee||U.z<=ee.z)?(ce=U,U=U.nextZ,Ke--):(ce=ee,ee=ee.nextZ,ht--),be?be.nextZ=ce:R=ce,ce.prevZ=be,be=ce;U=ee}be.nextZ=null,Tt*=2}while(Ae>1);return R}(ce)}(R,ee,ce,be);for(var ht,Tt,Ke=R;R.prev!==R.next;)if(ht=R.prev,Tt=R.next,be?rd(R,ee,ce,be):td(R))_.push(ht.i/U),_.push(R.i/U),_.push(Tt.i/U),lc(R),R=Tt.next,Ke=Tt.next;else if((R=Tt)===Ke){Ae?1===Ae?oc(R=nd(sf(R),_,U),_,U,ee,ce,be,2):2===Ae&&ad(R,_,U,ee,ce,be):oc(sf(R),_,U,ee,ce,be,1);break}}}function td(R){var _=R.prev,U=R,ee=R.next;if(Bo(_,U,ee)>=0)return!1;for(var ce=R.next.next;ce!==R.prev;){if(Ff(_.x,_.y,U.x,U.y,ee.x,ee.y,ce.x,ce.y)&&Bo(ce.prev,ce,ce.next)>=0)return!1;ce=ce.next}return!0}function rd(R,_,U,ee){var ce=R.prev,be=R,Ae=R.next;if(Bo(ce,be,Ae)>=0)return!1;for(var Tt=ce.x>be.x?ce.x>Ae.x?ce.x:Ae.x:be.x>Ae.x?be.x:Ae.x,Et=ce.y>be.y?ce.y>Ae.y?ce.y:Ae.y:be.y>Ae.y?be.y:Ae.y,jt=rh(ce.x<be.x?ce.x<Ae.x?ce.x:Ae.x:be.x<Ae.x?be.x:Ae.x,ce.y<be.y?ce.y<Ae.y?ce.y:Ae.y:be.y<Ae.y?be.y:Ae.y,_,U,ee),fr=rh(Tt,Et,_,U,ee),ir=R.prevZ,Lr=R.nextZ;ir&&ir.z>=jt&&Lr&&Lr.z<=fr;){if(ir!==R.prev&&ir!==R.next&&Ff(ce.x,ce.y,be.x,be.y,Ae.x,Ae.y,ir.x,ir.y)&&Bo(ir.prev,ir,ir.next)>=0||(ir=ir.prevZ,Lr!==R.prev&&Lr!==R.next&&Ff(ce.x,ce.y,be.x,be.y,Ae.x,Ae.y,Lr.x,Lr.y)&&Bo(Lr.prev,Lr,Lr.next)>=0))return!1;Lr=Lr.nextZ}for(;ir&&ir.z>=jt;){if(ir!==R.prev&&ir!==R.next&&Ff(ce.x,ce.y,be.x,be.y,Ae.x,Ae.y,ir.x,ir.y)&&Bo(ir.prev,ir,ir.next)>=0)return!1;ir=ir.prevZ}for(;Lr&&Lr.z<=fr;){if(Lr!==R.prev&&Lr!==R.next&&Ff(ce.x,ce.y,be.x,be.y,Ae.x,Ae.y,Lr.x,Lr.y)&&Bo(Lr.prev,Lr,Lr.next)>=0)return!1;Lr=Lr.nextZ}return!0}function nd(R,_,U){var ee=R;do{var ce=ee.prev,be=ee.next.next;!Pc(ce,be)&&Dh(ce,ee,ee.next,be)&&sc(ce,be)&&sc(be,ce)&&(_.push(ce.i/U),_.push(ee.i/U),_.push(be.i/U),lc(ee),lc(ee.next),ee=R=be),ee=ee.next}while(ee!==R);return sf(ee)}function ad(R,_,U,ee,ce,be){var Ae=R;do{for(var Ke=Ae.next.next;Ke!==Ae.prev;){if(Ae.i!==Ke.i&&vd(Ae,Ke)){var ht=Rh(Ae,Ke);return Ae=sf(Ae,Ae.next),ht=sf(ht,ht.next),oc(Ae,_,U,ee,ce,be),void oc(ht,_,U,ee,ce,be)}Ke=Ke.next}Ae=Ae.next}while(Ae!==R)}function od(R,_){return R.x-_.x}function sd(R,_){if(_=function ld(R,_){var Ae,U=_,ee=R.x,ce=R.y,be=-1/0;do{if(ce<=U.y&&ce>=U.next.y&&U.next.y!==U.y){var Ke=U.x+(ce-U.y)*(U.next.x-U.x)/(U.next.y-U.y);if(Ke<=ee&&Ke>be){if(be=Ke,Ke===ee){if(ce===U.y)return U;if(ce===U.next.y)return U.next}Ae=U.x<U.next.x?U:U.next}}U=U.next}while(U!==_);if(!Ae)return null;if(ee===be)return Ae;var fr,ht=Ae,Tt=Ae.x,Et=Ae.y,jt=1/0;U=Ae;do{ee>=U.x&&U.x>=Tt&&ee!==U.x&&Ff(ce<Et?ee:be,ce,Tt,Et,ce<Et?be:ee,ce,U.x,U.y)&&(fr=Math.abs(ce-U.y)/(ee-U.x),sc(U,R)&&(fr<jt||fr===jt&&(U.x>Ae.x||U.x===Ae.x&&ud(Ae,U)))&&(Ae=U,jt=fr)),U=U.next}while(U!==ht);return Ae}(R,_)){var U=Rh(_,R);sf(_,_.next),sf(U,U.next)}}function ud(R,_){return Bo(R.prev,R,_.prev)<0&&Bo(_.next,R,R.next)<0}function rh(R,_,U,ee,ce){return(R=1431655765&((R=858993459&((R=252645135&((R=16711935&((R=32767*(R-U)*ce)|R<<8))|R<<4))|R<<2))|R<<1))|(_=1431655765&((_=858993459&((_=252645135&((_=16711935&((_=32767*(_-ee)*ce)|_<<8))|_<<4))|_<<2))|_<<1))<<1}function hd(R){var _=R,U=R;do{(_.x<U.x||_.x===U.x&&_.y<U.y)&&(U=_),_=_.next}while(_!==R);return U}function Ff(R,_,U,ee,ce,be,Ae,Ke){return(ce-Ae)*(_-Ke)-(R-Ae)*(be-Ke)>=0&&(R-Ae)*(ee-Ke)-(U-Ae)*(_-Ke)>=0&&(U-Ae)*(be-Ke)-(ce-Ae)*(ee-Ke)>=0}function vd(R,_){return R.next.i!==_.i&&R.prev.i!==_.i&&!function dd(R,_){var U=R;do{if(U.i!==R.i&&U.next.i!==R.i&&U.i!==_.i&&U.next.i!==_.i&&Dh(U,U.next,R,_))return!0;U=U.next}while(U!==R);return!1}(R,_)&&(sc(R,_)&&sc(_,R)&&function pd(R,_){var U=R,ee=!1,ce=(R.x+_.x)/2,be=(R.y+_.y)/2;do{U.y>be!=U.next.y>be&&U.next.y!==U.y&&ce<(U.next.x-U.x)*(be-U.y)/(U.next.y-U.y)+U.x&&(ee=!ee),U=U.next}while(U!==R);return ee}(R,_)&&(Bo(R.prev,R,_.prev)||Bo(R,_.prev,_))||Pc(R,_)&&Bo(R.prev,R,R.next)>0&&Bo(_.prev,_,_.next)>0)}function Bo(R,_,U){return(_.y-R.y)*(U.x-_.x)-(_.x-R.x)*(U.y-_.y)}function Pc(R,_){return R.x===_.x&&R.y===_.y}function Dh(R,_,U,ee){var ce=Rc(Bo(R,_,U)),be=Rc(Bo(R,_,ee)),Ae=Rc(Bo(U,ee,R)),Ke=Rc(Bo(U,ee,_));return!!(ce!==be&&Ae!==Ke||0===ce&&Dc(R,U,_)||0===be&&Dc(R,ee,_)||0===Ae&&Dc(U,R,ee)||0===Ke&&Dc(U,_,ee))}function Dc(R,_,U){return _.x<=Math.max(R.x,U.x)&&_.x>=Math.min(R.x,U.x)&&_.y<=Math.max(R.y,U.y)&&_.y>=Math.min(R.y,U.y)}function Rc(R){return R>0?1:R<0?-1:0}function sc(R,_){return Bo(R.prev,R,R.next)<0?Bo(R,_,R.next)>=0&&Bo(R,R.prev,_)>=0:Bo(R,_,R.prev)<0||Bo(R,R.next,_)<0}function Rh(R,_){var U=new nh(R.i,R.x,R.y),ee=new nh(_.i,_.x,_.y),ce=R.next,be=_.prev;return R.next=_,_.prev=R,U.next=ce,ce.prev=U,ee.next=U,U.prev=ee,be.next=ee,ee.prev=be,ee}function _h(R,_,U,ee){var ce=new nh(R,_,U);return ee?(ce.next=ee.next,ce.prev=ee,ee.next.prev=ce,ee.next=ce):(ce.prev=ce,ce.next=ce),ce}function lc(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function nh(R,_,U){this.i=R,this.x=_,this.y=U,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ah(R,_,U,ee){for(var ce=0,be=_,Ae=U-ee;be<U;be+=ee)ce+=(R[Ae]-R[be])*(R[be+1]+R[Ae+1]),Ae=be;return ce}function gd(R,_,U,ee,ce){Ih(R,_,U||0,ee||R.length-1,ce||yd)}function Ih(R,_,U,ee,ce){for(;ee>U;){if(ee-U>600){var be=ee-U+1,Ae=_-U+1,Ke=Math.log(be),ht=.5*Math.exp(2*Ke/3),Tt=.5*Math.sqrt(Ke*ht*(be-ht)/be)*(Ae-be/2<0?-1:1);Ih(R,_,Math.max(U,Math.floor(_-Ae*ht/be+Tt)),Math.min(ee,Math.floor(_+(be-Ae)*ht/be+Tt)),ce)}var fr=R[_],ir=U,Lr=ee;for(uc(R,U,_),ce(R[ee],fr)>0&&uc(R,U,ee);ir<Lr;){for(uc(R,ir,Lr),ir++,Lr--;ce(R[ir],fr)<0;)ir++;for(;ce(R[Lr],fr)>0;)Lr--}0===ce(R[U],fr)?uc(R,U,Lr):uc(R,++Lr,ee),Lr<=_&&(U=Lr+1),_<=Lr&&(ee=Lr-1)}}function uc(R,_,U){var ee=R[_];R[_]=R[U],R[U]=ee}function yd(R,_){return R<_?-1:R>_?1:0}function ih(R,_){var U=R.length;if(U<=1)return[R];for(var ce,be,ee=[],Ae=0;Ae<U;Ae++){var Ke=z(R[Ae]);0!==Ke&&(R[Ae].area=Math.abs(Ke),void 0===be&&(be=Ke<0),be===Ke<0?(ce&&ee.push(ce),ce=[R[Ae]]):ce.push(R[Ae]))}if(ce&&ee.push(ce),_>1)for(var ht=0;ht<ee.length;ht++)ee[ht].length<=_||(gd(ee[ht],_,1,ee[ht].length-1,md),ee[ht]=ee[ht].slice(0,_));return ee}function md(R,_){return _.area-R.area}function oh(R,_,U){for(var ee=U.patternDependencies,ce=!1,be=0,Ae=_;be<Ae.length;be+=1){var ht=Ae[be].paint.get(R+"-pattern");ht.isConstant()||(ce=!0);var Tt=ht.constantOr(null);Tt&&(ce=!0,ee[Tt.to]=!0,ee[Tt.from]=!0)}return ce}function sh(R,_,U,ee,ce){for(var be=ce.patternDependencies,Ae=0,Ke=_;Ae<Ke.length;Ae+=1){var ht=Ke[Ae],Et=ht.paint.get(R+"-pattern").value;if("constant"!==Et.kind){var jt=Et.evaluate({zoom:ee-1},U,{},ce.availableImages),fr=Et.evaluate({zoom:ee},U,{},ce.availableImages),ir=Et.evaluate({zoom:ee+1},U,{},ce.availableImages);fr=fr&&fr.name?fr.name:fr,ir=ir&&ir.name?ir.name:ir,be[jt=jt&&jt.name?jt.name:jt]=!0,be[fr]=!0,be[ir]=!0,U.patterns[ht.id]={min:jt,mid:fr,max:ir}}}return U}Lc.deviation=function(R,_,U,ee){var ce=_&&_.length,Ae=Math.abs(ah(R,0,ce?_[0]*U:R.length,U));if(ce)for(var Ke=0,ht=_.length;Ke<ht;Ke++)Ae-=Math.abs(ah(R,_[Ke]*U,Ke<ht-1?_[Ke+1]*U:R.length,U));var jt=0;for(Ke=0;Ke<ee.length;Ke+=3){var fr=ee[Ke]*U,ir=ee[Ke+1]*U,Lr=ee[Ke+2]*U;jt+=Math.abs((R[fr]-R[Lr])*(R[ir+1]-R[fr+1])-(R[fr]-R[ir])*(R[Lr+1]-R[fr+1]))}return 0===Ae&&0===jt?0:Math.abs((jt-Ae)/Ae)},Lc.flatten=function(R){for(var _=R[0][0].length,U={vertices:[],holes:[],dimensions:_},ee=0,ce=0;ce<R.length;ce++){for(var be=0;be<R[ce].length;be++)for(var Ae=0;Ae<_;Ae++)U.vertices.push(R[ce][be][Ae]);ce>0&&U.holes.push(ee+=R[ce-1].length)}return U},th.default=ed;var lu=function(_){this.zoom=_.zoom,this.overscaling=_.overscaling,this.layers=_.layers,this.layerIds=this.layers.map(function(U){return U.id}),this.index=_.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new es,this.indexArray=new ou,this.indexArray2=new xf,this.programConfigurations=new qa(Lh,_.layers,_.zoom),this.segments=new G,this.segments2=new G,this.stateDependentLayerIds=this.layers.filter(function(U){return U.isStateDependent()}).map(function(U){return U.id})};lu.prototype.populate=function(_,U,ee){this.hasPattern=oh("fill",this.layers,U);for(var ce=this.layers[0].layout.get("fill-sort-key"),be=[],Ae=0,Ke=_;Ae<Ke.length;Ae+=1){var ht=Ke[Ae],Tt=ht.feature,Et=ht.id,jt=ht.index,fr=ht.sourceLayerIndex,ir=this.layers[0]._featureFilter.needGeometry,Lr={type:Tt.type,id:Et,properties:Tt.properties,geometry:ir?Xi(Tt):[]};if(this.layers[0]._featureFilter.filter(new Ca(this.zoom),Lr,ee)){ir||(Lr.geometry=Xi(Tt));var Wr=ce?ce.evaluate(Lr,{},ee,U.availableImages):void 0;be.push({id:Et,properties:Tt.properties,type:Tt.type,sourceLayerIndex:fr,index:jt,geometry:Lr.geometry,patterns:{},sortKey:Wr})}}ce&&be.sort(function(ba,Aa){return ba.sortKey-Aa.sortKey});for(var sn=0,Rn=be;sn<Rn.length;sn+=1){var Sn=Rn[sn],zn=Sn.geometry,Zn=Sn.index,oa=Sn.sourceLayerIndex;if(this.hasPattern){var aa=sh("fill",this.layers,Sn,this.zoom,U);this.patternFeatures.push(aa)}else this.addFeature(Sn,zn,Zn,ee,{});U.featureIndex.insert(_[Zn].feature,zn,Zn,oa,this.index)}},lu.prototype.update=function(_,U,ee){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_,U,this.stateDependentLayers,ee)},lu.prototype.addFeatures=function(_,U,ee){for(var ce=0,be=this.patternFeatures;ce<be.length;ce+=1){var Ae=be[ce];this.addFeature(Ae,Ae.geometry,Ae.index,U,ee)}},lu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},lu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},lu.prototype.upload=function(_){this.uploaded||(this.layoutVertexBuffer=_.createVertexBuffer(this.layoutVertexArray,Lh),this.indexBuffer=_.createIndexBuffer(this.indexArray),this.indexBuffer2=_.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(_),this.uploaded=!0},lu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},lu.prototype.addFeature=function(_,U,ee,ce,be){for(var Ae=0,Ke=ih(U,500);Ae<Ke.length;Ae+=1){for(var ht=Ke[Ae],Tt=0,Et=0,jt=ht;Et<jt.length;Et+=1)Tt+=jt[Et].length;for(var ir=this.segments.prepareSegment(Tt,this.layoutVertexArray,this.indexArray),Lr=ir.vertexLength,Wr=[],gn=[],sn=0,Rn=ht;sn<Rn.length;sn+=1){var Sn=Rn[sn];if(0!==Sn.length){Sn!==ht[0]&&gn.push(Wr.length/2);var Dn=this.segments2.prepareSegment(Sn.length,this.layoutVertexArray,this.indexArray2),zn=Dn.vertexLength;this.layoutVertexArray.emplaceBack(Sn[0].x,Sn[0].y),this.indexArray2.emplaceBack(zn+Sn.length-1,zn),Wr.push(Sn[0].x),Wr.push(Sn[0].y);for(var Zn=1;Zn<Sn.length;Zn++)this.layoutVertexArray.emplaceBack(Sn[Zn].x,Sn[Zn].y),this.indexArray2.emplaceBack(zn+Zn-1,zn+Zn),Wr.push(Sn[Zn].x),Wr.push(Sn[Zn].y);Dn.vertexLength+=Sn.length,Dn.primitiveLength+=Sn.length}}for(var oa=th(Wr,gn),aa=0;aa<oa.length;aa+=3)this.indexArray.emplaceBack(Lr+oa[aa],Lr+oa[aa+1],Lr+oa[aa+2]);ir.vertexLength+=Tt,ir.primitiveLength+=oa.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_,ee,be,ce)},va("FillBucket",lu,{omit:["layers","patternFeatures"]});var bd=new Bi({"fill-sort-key":new wa(er.layout_fill["fill-sort-key"])}),Td={paint:new Bi({"fill-antialias":new ia(er.paint_fill["fill-antialias"]),"fill-opacity":new wa(er.paint_fill["fill-opacity"]),"fill-color":new wa(er.paint_fill["fill-color"]),"fill-outline-color":new wa(er.paint_fill["fill-outline-color"]),"fill-translate":new ia(er.paint_fill["fill-translate"]),"fill-translate-anchor":new ia(er.paint_fill["fill-translate-anchor"]),"fill-pattern":new Gi(er.paint_fill["fill-pattern"])}),layout:bd},Ad=function(R){function _(U){R.call(this,U,Td)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.recalculate=function(ee,ce){R.prototype.recalculate.call(this,ee,ce);var be=this.paint._values["fill-outline-color"];"constant"===be.value.kind&&void 0===be.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},_.prototype.createBucket=function(ee){return new lu(ee)},_.prototype.queryRadius=function(){return Gl(this.paint.get("fill-translate"))},_.prototype.queryIntersectsFeature=function(ee,ce,be,Ae,Ke,ht,Tt){return Eo(Dl(ee,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ht.angle,Tt),Ae)},_.prototype.isTileClipped=function(){return!0},_}(Mo),kh=gi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Fh=zf;function zf(R,_,U,ee,ce){this.properties={},this.extent=U,this.type=0,this._pbf=R,this._geometry=-1,this._keys=ee,this._values=ce,R.readFields(Sd,this,_)}function Sd(R,_,U){1==R?_.id=U.readVarint():2==R?function Ed(R,_){for(var U=R.readVarint()+R.pos;R.pos<U;){var ee=_._keys[R.readVarint()],ce=_._values[R.readVarint()];_.properties[ee]=ce}}(U,_):3==R?_.type=U.readVarint():4==R&&(_._geometry=U.pos)}function Ld(R){for(var be,Ae,_=0,U=0,ee=R.length,ce=ee-1;U<ee;ce=U++)_+=((Ae=R[ce]).x-(be=R[U]).x)*(be.y+Ae.y);return _}zf.types=["Unknown","Point","LineString","Polygon"],zf.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var Ke,_=R.readVarint()+R.pos,U=1,ee=0,ce=0,be=0,Ae=[];R.pos<_;){if(ee<=0){var ht=R.readVarint();U=7&ht,ee=ht>>3}if(ee--,1===U||2===U)ce+=R.readSVarint(),be+=R.readSVarint(),1===U&&(Ke&&Ae.push(Ke),Ke=[]),Ke.push(new t(ce,be));else{if(7!==U)throw new Error("unknown command "+U);Ke&&Ke.push(Ke[0].clone())}}return Ke&&Ae.push(Ke),Ae},zf.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var _=R.readVarint()+R.pos,U=1,ee=0,ce=0,be=0,Ae=1/0,Ke=-1/0,ht=1/0,Tt=-1/0;R.pos<_;){if(ee<=0){var Et=R.readVarint();U=7&Et,ee=Et>>3}if(ee--,1===U||2===U)(ce+=R.readSVarint())<Ae&&(Ae=ce),ce>Ke&&(Ke=ce),(be+=R.readSVarint())<ht&&(ht=be),be>Tt&&(Tt=be);else if(7!==U)throw new Error("unknown command "+U)}return[Ae,ht,Ke,Tt]},zf.prototype.toGeoJSON=function(R,_,U){var ht,Tt,ee=this.extent*Math.pow(2,U),ce=this.extent*R,be=this.extent*_,Ae=this.loadGeometry(),Ke=zf.types[this.type];function Et(ir){for(var Lr=0;Lr<ir.length;Lr++){var Wr=ir[Lr];ir[Lr]=[360*(Wr.x+ce)/ee-180,360/Math.PI*Math.atan(Math.exp((180-360*(Wr.y+be)/ee)*Math.PI/180))-90]}}switch(this.type){case 1:var jt=[];for(ht=0;ht<Ae.length;ht++)jt[ht]=Ae[ht][0];Et(Ae=jt);break;case 2:for(ht=0;ht<Ae.length;ht++)Et(Ae[ht]);break;case 3:for(Ae=function Cd(R){var _=R.length;if(_<=1)return[R];for(var ee,ce,U=[],be=0;be<_;be++){var Ae=Ld(R[be]);0!==Ae&&(void 0===ce&&(ce=Ae<0),ce===Ae<0?(ee&&U.push(ee),ee=[R[be]]):ee.push(R[be]))}return ee&&U.push(ee),U}(Ae),ht=0;ht<Ae.length;ht++)for(Tt=0;Tt<Ae[ht].length;Tt++)Et(Ae[ht][Tt])}1===Ae.length?Ae=Ae[0]:Ke="Multi"+Ke;var fr={type:"Feature",geometry:{type:Ke,coordinates:Ae},properties:this.properties};return"id"in this&&(fr.id=this.id),fr};var zh=Oh;function Oh(R,_){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(Pd,this,_),this.length=this._features.length}function Pd(R,_,U){15===R?_.version=U.readVarint():1===R?_.name=U.readString():5===R?_.extent=U.readVarint():2===R?_._features.push(U.pos):3===R?_._keys.push(U.readString()):4===R&&_._values.push(function Dd(R){for(var _=null,U=R.readVarint()+R.pos;R.pos<U;){var ee=R.readVarint()>>3;_=1===ee?R.readString():2===ee?R.readFloat():3===ee?R.readDouble():4===ee?R.readVarint64():5===ee?R.readVarint():6===ee?R.readSVarint():7===ee?R.readBoolean():null}return _}(U))}function Id(R,_,U){if(3===R){var ee=new zh(U,U.readVarint()+U.pos);ee.length&&(_[ee.name]=ee)}}Oh.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var _=this._pbf.readVarint()+this._pbf.pos;return new Fh(this._pbf,_,this.extent,this._keys,this._values)};var Of={VectorTile:function _d(R,_){this.layers=R.readFields(Id,{},_)},VectorTileFeature:Fh,VectorTileLayer:zh},Od=Of.VectorTileFeature.types,lh=Math.pow(2,13);function fc(R,_,U,ee,ce,be,Ae,Ke){R.emplaceBack(_,U,2*Math.floor(ee*lh)+Ae,ce*lh*2,be*lh*2,Math.round(Ke))}var uu=function(_){this.zoom=_.zoom,this.overscaling=_.overscaling,this.layers=_.layers,this.layerIds=this.layers.map(function(U){return U.id}),this.index=_.index,this.hasPattern=!1,this.layoutVertexArray=new Fs,this.indexArray=new ou,this.programConfigurations=new qa(kh,_.layers,_.zoom),this.segments=new G,this.stateDependentLayerIds=this.layers.filter(function(U){return U.isStateDependent()}).map(function(U){return U.id})};function Nd(R,_){return R.x===_.x&&(R.x<0||R.x>Oa)||R.y===_.y&&(R.y<0||R.y>Oa)}uu.prototype.populate=function(_,U,ee){this.features=[],this.hasPattern=oh("fill-extrusion",this.layers,U);for(var ce=0,be=_;ce<be.length;ce+=1){var Ae=be[ce],Ke=Ae.feature,ht=Ae.id,Tt=Ae.index,Et=Ae.sourceLayerIndex,jt=this.layers[0]._featureFilter.needGeometry,fr={type:Ke.type,id:ht,properties:Ke.properties,geometry:jt?Xi(Ke):[]};if(this.layers[0]._featureFilter.filter(new Ca(this.zoom),fr,ee)){var ir={id:ht,sourceLayerIndex:Et,index:Tt,geometry:jt?fr.geometry:Xi(Ke),properties:Ke.properties,type:Ke.type,patterns:{}};typeof Ke.id<"u"&&(ir.id=Ke.id),this.hasPattern?this.features.push(sh("fill-extrusion",this.layers,ir,this.zoom,U)):this.addFeature(ir,ir.geometry,Tt,ee,{}),U.featureIndex.insert(Ke,ir.geometry,Tt,Et,this.index,!0)}}},uu.prototype.addFeatures=function(_,U,ee){for(var ce=0,be=this.features;ce<be.length;ce+=1){var Ae=be[ce];this.addFeature(Ae,Ae.geometry,Ae.index,U,ee)}},uu.prototype.update=function(_,U,ee){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_,U,this.stateDependentLayers,ee)},uu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},uu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},uu.prototype.upload=function(_){this.uploaded||(this.layoutVertexBuffer=_.createVertexBuffer(this.layoutVertexArray,kh),this.indexBuffer=_.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(_),this.uploaded=!0},uu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},uu.prototype.addFeature=function(_,U,ee,ce,be){for(var Ae=0,Ke=ih(U,500);Ae<Ke.length;Ae+=1){for(var ht=Ke[Ae],Tt=0,Et=0,jt=ht;Et<jt.length;Et+=1)Tt+=jt[Et].length;for(var ir=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Lr=0,Wr=ht;Lr<Wr.length;Lr+=1){var gn=Wr[Lr];if(0!==gn.length&&!((R=gn).every(function(_){return _.x<0})||R.every(function(_){return _.x>Oa})||R.every(function(_){return _.y<0})||R.every(function(_){return _.y>Oa})))for(var sn=0,Rn=0;Rn<gn.length;Rn++){var Sn=gn[Rn];if(Rn>=1){var Dn=gn[Rn-1];if(!Nd(Sn,Dn)){ir.vertexLength+4>G.MAX_VERTEX_ARRAY_LENGTH&&(ir=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var zn=Sn.sub(Dn)._perp()._unit(),Zn=Dn.dist(Sn);sn+Zn>32768&&(sn=0),fc(this.layoutVertexArray,Sn.x,Sn.y,zn.x,zn.y,0,0,sn),fc(this.layoutVertexArray,Sn.x,Sn.y,zn.x,zn.y,0,1,sn),fc(this.layoutVertexArray,Dn.x,Dn.y,zn.x,zn.y,0,0,sn+=Zn),fc(this.layoutVertexArray,Dn.x,Dn.y,zn.x,zn.y,0,1,sn);var oa=ir.vertexLength;this.indexArray.emplaceBack(oa,oa+2,oa+1),this.indexArray.emplaceBack(oa+1,oa+2,oa+3),ir.vertexLength+=4,ir.primitiveLength+=2}}}}if(ir.vertexLength+Tt>G.MAX_VERTEX_ARRAY_LENGTH&&(ir=this.segments.prepareSegment(Tt,this.layoutVertexArray,this.indexArray)),"Polygon"===Od[_.type]){for(var aa=[],Fa=[],ba=ir.vertexLength,Aa=0,Qa=ht;Aa<Qa.length;Aa+=1){var Da=Qa[Aa];if(0!==Da.length){Da!==ht[0]&&Fa.push(aa.length/2);for(var ka=0;ka<Da.length;ka++){var ai=Da[ka];fc(this.layoutVertexArray,ai.x,ai.y,0,0,1,1,0),aa.push(ai.x),aa.push(ai.y)}}}for(var ja=th(aa,Fa),Ti=0;Ti<ja.length;Ti+=3)this.indexArray.emplaceBack(ba+ja[Ti],ba+ja[Ti+2],ba+ja[Ti+1]);ir.primitiveLength+=ja.length/3,ir.vertexLength+=Tt}}var R;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_,ee,be,ce)},va("FillExtrusionBucket",uu,{omit:["layers","features"]});var Vd={paint:new Bi({"fill-extrusion-opacity":new ia(er["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new wa(er["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ia(er["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ia(er["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Gi(er["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new wa(er["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new wa(er["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ia(er["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Gd=function(R){function _(U){R.call(this,U,Vd)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.createBucket=function(ee){return new uu(ee)},_.prototype.queryRadius=function(){return Gl(this.paint.get("fill-extrusion-translate"))},_.prototype.is3D=function(){return!0},_.prototype.queryIntersectsFeature=function(ee,ce,be,Ae,Ke,ht,Tt,Et){var jt=Dl(ee,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ht.angle,Tt),fr=this.paint.get("fill-extrusion-height").evaluate(ce,be),ir=this.paint.get("fill-extrusion-base").evaluate(ce,be),Lr=function Zd(R,_,U,ee){for(var ce=[],be=0,Ae=R;be<Ae.length;be+=1){var Ke=Ae[be],ht=[Ke.x,Ke.y,ee,1];Cc(ht,ht,_),ce.push(new t(ht[0]/ht[3],ht[1]/ht[3]))}return ce}(jt,Et,0,0),Wr=function Yd(R,_,U,ee){for(var ce=[],be=[],Ae=ee[8]*_,Ke=ee[9]*_,ht=ee[10]*_,Tt=ee[11]*_,Et=ee[8]*U,jt=ee[9]*U,fr=ee[10]*U,ir=ee[11]*U,Lr=0,Wr=R;Lr<Wr.length;Lr+=1){for(var sn=[],Rn=[],Sn=0,Dn=Wr[Lr];Sn<Dn.length;Sn+=1){var zn=Dn[Sn],Zn=zn.x,oa=zn.y,aa=ee[0]*Zn+ee[4]*oa+ee[12],Fa=ee[1]*Zn+ee[5]*oa+ee[13],ba=ee[2]*Zn+ee[6]*oa+ee[14],Aa=ee[3]*Zn+ee[7]*oa+ee[15],ka=ba+ht,ai=Aa+Tt,ja=aa+Et,Ti=Fa+jt,qi=ba+fr,Ai=Aa+ir,Mi=new t((aa+Ae)/ai,(Fa+Ke)/ai);Mi.z=ka/ai,sn.push(Mi);var bi=new t(ja/Ai,Ti/Ai);bi.z=qi/Ai,Rn.push(bi)}ce.push(sn),be.push(Rn)}return[ce,be]}(Ae,ir,fr,Et);return function Wd(R,_,U){var ee=1/0;Eo(U,_)&&(ee=Bh(U,_[0]));for(var ce=0;ce<_.length;ce++)for(var be=_[ce],Ae=R[ce],Ke=0;Ke<be.length-1;Ke++){var ht=be[Ke],fr=[ht,be[Ke+1],Ae[Ke+1],Ae[Ke],ht];ei(U,fr)&&(ee=Math.min(ee,Bh(U,fr)))}return ee!==1/0&&ee}(Wr[0],Wr[1],Lr)},_}(Mo);function cc(R,_){return R.x*_.x+R.y*_.y}function Bh(R,_){if(1===R.length){for(var ce,U=0,ee=_[U++];!ce||ee.equals(ce);)if(!(ce=_[U++]))return 1/0;for(;U<_.length;U++){var be=_[U],Ae=R[0],Ke=ce.sub(ee),ht=be.sub(ee),Tt=Ae.sub(ee),Et=cc(Ke,Ke),jt=cc(Ke,ht),fr=cc(ht,ht),ir=cc(Tt,Ke),Lr=cc(Tt,ht),Wr=Et*fr-jt*jt,gn=(fr*ir-jt*Lr)/Wr,sn=(Et*Lr-jt*ir)/Wr,Sn=ee.z*(1-gn-sn)+ce.z*gn+be.z*sn;if(isFinite(Sn))return Sn}return 1/0}for(var Dn=1/0,zn=0,Zn=_;zn<Zn.length;zn+=1)Dn=Math.min(Dn,Zn[zn].z);return Dn}var Nh=gi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,jd=Of.VectorTileFeature.types,Kd=Math.cos(Math.PI/180*37.5),Vh=Math.pow(2,14)/.5,Us=function(_){this.zoom=_.zoom,this.overscaling=_.overscaling,this.layers=_.layers,this.layerIds=this.layers.map(function(U){return U.id}),this.index=_.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ks,this.indexArray=new ou,this.programConfigurations=new qa(Nh,_.layers,_.zoom),this.segments=new G,this.stateDependentLayerIds=this.layers.filter(function(U){return U.isStateDependent()}).map(function(U){return U.id})};Us.prototype.populate=function(_,U,ee){this.hasPattern=oh("line",this.layers,U);for(var ce=this.layers[0].layout.get("line-sort-key"),be=[],Ae=0,Ke=_;Ae<Ke.length;Ae+=1){var ht=Ke[Ae],Tt=ht.feature,Et=ht.id,jt=ht.index,fr=ht.sourceLayerIndex,ir=this.layers[0]._featureFilter.needGeometry,Lr={type:Tt.type,id:Et,properties:Tt.properties,geometry:ir?Xi(Tt):[]};if(this.layers[0]._featureFilter.filter(new Ca(this.zoom),Lr,ee)){ir||(Lr.geometry=Xi(Tt));var Wr=ce?ce.evaluate(Lr,{},ee):void 0;be.push({id:Et,properties:Tt.properties,type:Tt.type,sourceLayerIndex:fr,index:jt,geometry:Lr.geometry,patterns:{},sortKey:Wr})}}ce&&be.sort(function(ba,Aa){return ba.sortKey-Aa.sortKey});for(var sn=0,Rn=be;sn<Rn.length;sn+=1){var Sn=Rn[sn],zn=Sn.geometry,Zn=Sn.index,oa=Sn.sourceLayerIndex;if(this.hasPattern){var aa=sh("line",this.layers,Sn,this.zoom,U);this.patternFeatures.push(aa)}else this.addFeature(Sn,zn,Zn,ee,{});U.featureIndex.insert(_[Zn].feature,zn,Zn,oa,this.index)}},Us.prototype.update=function(_,U,ee){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(_,U,this.stateDependentLayers,ee)},Us.prototype.addFeatures=function(_,U,ee){for(var ce=0,be=this.patternFeatures;ce<be.length;ce+=1){var Ae=be[ce];this.addFeature(Ae,Ae.geometry,Ae.index,U,ee)}},Us.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Us.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Us.prototype.upload=function(_){this.uploaded||(this.layoutVertexBuffer=_.createVertexBuffer(this.layoutVertexArray,Nh),this.indexBuffer=_.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(_),this.uploaded=!0},Us.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Us.prototype.addFeature=function(_,U,ee,ce,be){for(var Ae=this.layers[0].layout,Ke=Ae.get("line-join").evaluate(_,{}),ht=Ae.get("line-cap"),Tt=Ae.get("line-miter-limit"),Et=Ae.get("line-round-limit"),jt=0,fr=U;jt<fr.length;jt+=1)this.addLine(fr[jt],_,Ke,ht,Tt,Et);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,_,ee,be,ce)},Us.prototype.addLine=function(_,U,ee,ce,be,Ae){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,U.properties&&U.properties.hasOwnProperty("mapbox_clip_start")&&U.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+U.properties.mapbox_clip_start,this.clipEnd=+U.properties.mapbox_clip_end;for(var Ke=0;Ke<_.length-1;Ke++)this.totalDistance+=_[Ke].dist(_[Ke+1]);this.updateScaledDistance()}for(var ht="Polygon"===jd[U.type],Tt=_.length;Tt>=2&&_[Tt-1].equals(_[Tt-2]);)Tt--;for(var Et=0;Et<Tt-1&&_[Et].equals(_[Et+1]);)Et++;if(!(Tt<(ht?3:2))){"bevel"===ee&&(be=1.05);var ir,jt=this.overscaling<=16?15*Oa/(512*this.overscaling):0,fr=this.segments.prepareSegment(10*Tt,this.layoutVertexArray,this.indexArray),Lr=void 0,Wr=void 0,gn=void 0,sn=void 0;this.e1=this.e2=-1,ht&&(sn=_[Et].sub(ir=_[Tt-2])._unit()._perp());for(var Rn=Et;Rn<Tt;Rn++)if(!(Wr=Rn===Tt-1?ht?_[Et+1]:void 0:_[Rn+1])||!_[Rn].equals(Wr)){sn&&(gn=sn),ir&&(Lr=ir),ir=_[Rn],sn=Wr?Wr.sub(ir)._unit()._perp():gn;var Sn=(gn=gn||sn).add(sn);(0!==Sn.x||0!==Sn.y)&&Sn._unit();var Dn=gn.x*sn.x+gn.y*sn.y,zn=Sn.x*sn.x+Sn.y*sn.y,Zn=0!==zn?1/zn:1/0,oa=2*Math.sqrt(2-2*zn),aa=zn<Kd&&Lr&&Wr,Fa=gn.x*sn.y-gn.y*sn.x>0;if(aa&&Rn>Et){var ba=ir.dist(Lr);if(ba>2*jt){var Aa=ir.sub(ir.sub(Lr)._mult(jt/ba)._round());this.updateDistance(Lr,Aa),this.addCurrentVertex(Aa,gn,0,0,fr),Lr=Aa}}var Qa=Lr&&Wr,Da=Qa?ee:ht?"butt":ce;if(Qa&&"round"===Da&&(Zn<Ae?Da="miter":Zn<=2&&(Da="fakeround")),"miter"===Da&&Zn>be&&(Da="bevel"),"bevel"===Da&&(Zn>2&&(Da="flipbevel"),Zn<be&&(Da="miter")),Lr&&this.updateDistance(Lr,ir),"miter"===Da)Sn._mult(Zn),this.addCurrentVertex(ir,Sn,0,0,fr);else if("flipbevel"===Da){if(Zn>100)Sn=sn.mult(-1);else{var ka=Zn*gn.add(sn).mag()/gn.sub(sn).mag();Sn._perp()._mult(ka*(Fa?-1:1))}this.addCurrentVertex(ir,Sn,0,0,fr),this.addCurrentVertex(ir,Sn.mult(-1),0,0,fr)}else if("bevel"===Da||"fakeround"===Da){var ai=-Math.sqrt(Zn*Zn-1),ja=Fa?ai:0,Ti=Fa?0:ai;if(Lr&&this.addCurrentVertex(ir,gn,ja,Ti,fr),"fakeround"===Da)for(var qi=Math.round(180*oa/Math.PI/20),Ai=1;Ai<qi;Ai++){var Mi=Ai/qi;if(.5!==Mi){var bi=Mi-.5;Mi+=Mi*bi*(Mi-1)*((1.0904+Dn*(Dn*(3.55645-1.43519*Dn)-3.2452))*bi*bi+(.848013+Dn*(.215638*Dn-1.06021)))}var Co=sn.sub(gn)._mult(Mi)._add(gn)._unit()._mult(Fa?-1:1);this.addHalfVertex(ir,Co.x,Co.y,!1,Fa,0,fr)}Wr&&this.addCurrentVertex(ir,sn,-ja,-Ti,fr)}else if("butt"===Da)this.addCurrentVertex(ir,Sn,0,0,fr);else if("square"===Da){var _o=Lr?1:-1;this.addCurrentVertex(ir,Sn,_o,_o,fr)}else"round"===Da&&(Lr&&(this.addCurrentVertex(ir,gn,0,0,fr),this.addCurrentVertex(ir,gn,1,1,fr,!0)),Wr&&(this.addCurrentVertex(ir,sn,-1,-1,fr,!0),this.addCurrentVertex(ir,sn,0,0,fr)));if(aa&&Rn<Tt-1){var jo=ir.dist(Wr);if(jo>2*jt){var Ho=ir.add(Wr.sub(ir)._mult(jt/jo)._round());this.updateDistance(ir,Ho),this.addCurrentVertex(Ho,sn,0,0,fr),ir=Ho}}}}},Us.prototype.addCurrentVertex=function(_,U,ee,ce,be,Ae){void 0===Ae&&(Ae=!1);var Tt=U.y*ce-U.x,Et=-U.y-U.x*ce;this.addHalfVertex(_,U.x+U.y*ee,U.y-U.x*ee,Ae,!1,ee,be),this.addHalfVertex(_,Tt,Et,Ae,!0,-ce,be),this.distance>Vh/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(_,U,ee,ce,be,Ae))},Us.prototype.addHalfVertex=function(_,U,ee,ce,be,Ae,Ke){var Et=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((_.x<<1)+(ce?1:0),(_.y<<1)+(be?1:0),Math.round(63*U)+128,Math.round(63*ee)+128,1+(0===Ae?0:Ae<0?-1:1)|(63&Et)<<2,Et>>6);var jt=Ke.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,jt),Ke.primitiveLength++),be?this.e2=jt:this.e1=jt},Us.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(Vh-1):this.distance},Us.prototype.updateDistance=function(_,U){this.distance+=_.dist(U),this.updateScaledDistance()},va("LineBucket",Us,{omit:["layers","patternFeatures"]});var qd=new Bi({"line-cap":new ia(er.layout_line["line-cap"]),"line-join":new wa(er.layout_line["line-join"]),"line-miter-limit":new ia(er.layout_line["line-miter-limit"]),"line-round-limit":new ia(er.layout_line["line-round-limit"]),"line-sort-key":new wa(er.layout_line["line-sort-key"])}),Gh={paint:new Bi({"line-opacity":new wa(er.paint_line["line-opacity"]),"line-color":new wa(er.paint_line["line-color"]),"line-translate":new ia(er.paint_line["line-translate"]),"line-translate-anchor":new ia(er.paint_line["line-translate-anchor"]),"line-width":new wa(er.paint_line["line-width"]),"line-gap-width":new wa(er.paint_line["line-gap-width"]),"line-offset":new wa(er.paint_line["line-offset"]),"line-blur":new wa(er.paint_line["line-blur"]),"line-dasharray":new lo(er.paint_line["line-dasharray"]),"line-pattern":new Gi(er.paint_line["line-pattern"]),"line-gradient":new bo(er.paint_line["line-gradient"])}),layout:qd},tp=function(R){function _(){R.apply(this,arguments)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.possiblyEvaluate=function(ee,ce){return ce=new Ca(Math.floor(ce.zoom),{now:ce.now,fadeDuration:ce.fadeDuration,zoomHistory:ce.zoomHistory,transition:ce.transition}),R.prototype.possiblyEvaluate.call(this,ee,ce)},_.prototype.evaluate=function(ee,ce,be,Ae){return ce=s({},ce,{zoom:Math.floor(ce.zoom)}),R.prototype.evaluate.call(this,ee,ce,be,Ae)},_}(wa),Wh=new tp(Gh.paint.properties["line-width"].specification);Wh.useIntegerZoom=!0;var rp=function(R){function _(U){R.call(this,U,Gh)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype._handleSpecialPaintPropertyUpdate=function(ee){"line-gradient"===ee&&this._updateGradient()},_.prototype._updateGradient=function(){this.gradient=Ch(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},_.prototype.recalculate=function(ee,ce){R.prototype.recalculate.call(this,ee,ce),this.paint._values["line-floorwidth"]=Wh.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ee)},_.prototype.createBucket=function(ee){return new Us(ee)},_.prototype.queryRadius=function(ee){var ce=ee,be=Yh(Js("line-width",this,ce),Js("line-gap-width",this,ce)),Ae=Js("line-offset",this,ce);return be/2+Math.abs(Ae)+Gl(this.paint.get("line-translate"))},_.prototype.queryIntersectsFeature=function(ee,ce,be,Ae,Ke,ht,Tt){var Et=Dl(ee,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ht.angle,Tt),jt=Tt/2*Yh(this.paint.get("line-width").evaluate(ce,be),this.paint.get("line-gap-width").evaluate(ce,be)),fr=this.paint.get("line-offset").evaluate(ce,be);return fr&&(Ae=function np(R,_){for(var U=[],ee=new t(0,0),ce=0;ce<R.length;ce++){for(var be=R[ce],Ae=[],Ke=0;Ke<be.length;Ke++){var Tt=be[Ke],Et=be[Ke+1],jt=0===Ke?ee:Tt.sub(be[Ke-1])._unit()._perp(),fr=Ke===be.length-1?ee:Et.sub(Tt)._unit()._perp(),ir=jt._add(fr)._unit();ir._mult(1/(ir.x*fr.x+ir.y*fr.y)),Ae.push(ir._mult(_)._add(Tt))}U.push(Ae)}return U}(Ae,fr*Tt)),function Oo(R,_,U){for(var ee=0;ee<_.length;ee++){var ce=_[ee];if(R.length>=3)for(var be=0;be<ce.length;be++)if(Ms(R,ce[be]))return!0;if(cl(R,ce,U))return!0}return!1}(Et,Ae,jt)},_.prototype.isTileClipped=function(){return!0},_}(Mo);function Yh(R,_){return _>0?_+2*R:R}var uh=gi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),ap=gi([{name:"a_projected_pos",components:3,type:"Float32"}],4),ip=(gi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),gi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Zh=(gi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),gi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),op=gi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function lp(R,_,U){return R.sections.forEach(function(ee){ee.text=function sp(R,_,U){var ee=_.layout.get("text-transform").evaluate(U,{});return"uppercase"===ee?R=R.toLocaleUpperCase():"lowercase"===ee&&(R=R.toLocaleLowerCase()),pa.applyArabicShaping&&(R=pa.applyArabicShaping(R)),R}(ee.text,_,U)}),R}gi([{name:"triangle",components:3,type:"Uint16"}]),gi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),gi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),gi([{type:"Float32",name:"offsetX"}]),gi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var hc={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var rs=24,_c_read=function(R,_,U,ee,ce){var be,Ae,Ke=8*ce-ee-1,ht=(1<<Ke)-1,Tt=ht>>1,Et=-7,jt=U?ce-1:0,fr=U?-1:1,ir=R[_+jt];for(jt+=fr,be=ir&(1<<-Et)-1,ir>>=-Et,Et+=Ke;Et>0;be=256*be+R[_+jt],jt+=fr,Et-=8);for(Ae=be&(1<<-Et)-1,be>>=-Et,Et+=ee;Et>0;Ae=256*Ae+R[_+jt],jt+=fr,Et-=8);if(0===be)be=1-Tt;else{if(be===ht)return Ae?NaN:1/0*(ir?-1:1);Ae+=Math.pow(2,ee),be-=Tt}return(ir?-1:1)*Ae*Math.pow(2,be-ee)},_c_write=function(R,_,U,ee,ce,be){var Ae,Ke,ht,Tt=8*be-ce-1,Et=(1<<Tt)-1,jt=Et>>1,fr=23===ce?Math.pow(2,-24)-Math.pow(2,-77):0,ir=ee?0:be-1,Lr=ee?1:-1,Wr=_<0||0===_&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(Ke=isNaN(_)?1:0,Ae=Et):(Ae=Math.floor(Math.log(_)/Math.LN2),_*(ht=Math.pow(2,-Ae))<1&&(Ae--,ht*=2),(_+=Ae+jt>=1?fr/ht:fr*Math.pow(2,1-jt))*ht>=2&&(Ae++,ht/=2),Ae+jt>=Et?(Ke=0,Ae=Et):Ae+jt>=1?(Ke=(_*ht-1)*Math.pow(2,ce),Ae+=jt):(Ke=_*Math.pow(2,jt-1)*Math.pow(2,ce),Ae=0));ce>=8;R[U+ir]=255&Ke,ir+=Lr,Ke/=256,ce-=8);for(Ae=Ae<<ce|Ke,Tt+=ce;Tt>0;R[U+ir]=255&Ae,ir+=Lr,Ae/=256,Tt-=8);R[U+ir-Lr]|=128*Wr},Ic=uo;function uo(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}uo.Varint=0,uo.Fixed64=1,uo.Bytes=2,uo.Fixed32=5;var fh=4294967296,Xh=1/fh,jh=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Uu(R){return R.type===uo.Bytes?R.readVarint()+R.pos:R.pos+1}function Kh(R,_,U){var ee=_<=16383?1:_<=2097151?2:_<=268435455?3:Math.floor(Math.log(_)/(7*Math.LN2));U.realloc(ee);for(var ce=U.pos-1;ce>=R;ce--)U.buf[ce+ee]=U.buf[ce]}function mp(R,_){for(var U=0;U<R.length;U++)_.writeVarint(R[U])}function xp(R,_){for(var U=0;U<R.length;U++)_.writeSVarint(R[U])}function bp(R,_){for(var U=0;U<R.length;U++)_.writeFloat(R[U])}function wp(R,_){for(var U=0;U<R.length;U++)_.writeDouble(R[U])}function Tp(R,_){for(var U=0;U<R.length;U++)_.writeBoolean(R[U])}function Ap(R,_){for(var U=0;U<R.length;U++)_.writeFixed32(R[U])}function Mp(R,_){for(var U=0;U<R.length;U++)_.writeSFixed32(R[U])}function Sp(R,_){for(var U=0;U<R.length;U++)_.writeFixed64(R[U])}function Ep(R,_){for(var U=0;U<R.length;U++)_.writeSFixed64(R[U])}function kc(R,_){return(R[_]|R[_+1]<<8|R[_+2]<<16)+16777216*R[_+3]}function Nf(R,_,U){R[U]=_,R[U+1]=_>>>8,R[U+2]=_>>>16,R[U+3]=_>>>24}function Jh(R,_){return(R[_]|R[_+1]<<8|R[_+2]<<16)+(R[_+3]<<24)}uo.prototype={destroy:function(){this.buf=null},readFields:function(R,_,U){for(U=U||this.length;this.pos<U;){var ee=this.readVarint(),ce=ee>>3,be=this.pos;this.type=7&ee,R(ce,_,this),this.pos===be&&this.skip(ee)}return _},readMessage:function(R,_){return this.readFields(R,_,this.readVarint()+this.pos)},readFixed32:function(){var R=kc(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=Jh(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=kc(this.buf,this.pos)+kc(this.buf,this.pos+4)*fh;return this.pos+=8,R},readSFixed64:function(){var R=kc(this.buf,this.pos)+Jh(this.buf,this.pos+4)*fh;return this.pos+=8,R},readFloat:function(){var R=_c_read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=_c_read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var U,ee,_=this.buf;return U=127&(ee=_[this.pos++]),ee<128||(U|=(127&(ee=_[this.pos++]))<<7,ee<128)||(U|=(127&(ee=_[this.pos++]))<<14,ee<128)||(U|=(127&(ee=_[this.pos++]))<<21,ee<128)?U:function dp(R,_,U){var ce,be,ee=U.buf;if(ce=(112&(be=ee[U.pos++]))>>4,be<128||(ce|=(127&(be=ee[U.pos++]))<<3,be<128)||(ce|=(127&(be=ee[U.pos++]))<<10,be<128)||(ce|=(127&(be=ee[U.pos++]))<<17,be<128)||(ce|=(127&(be=ee[U.pos++]))<<24,be<128)||(ce|=(1&(be=ee[U.pos++]))<<31,be<128))return function Bf(R,_,U){return U?4294967296*_+(R>>>0):4294967296*(_>>>0)+(R>>>0)}(R,ce,_);throw new Error("Expected varint not more than 10 bytes")}(U|=(15&(ee=_[this.pos]))<<28,R,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2==1?(R+1)/-2:R/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var R=this.readVarint()+this.pos,_=this.pos;return this.pos=R,R-_>=12&&jh?function Lp(R,_,U){return jh.decode(R.subarray(_,U))}(this.buf,_,R):function Cp(R,_,U){for(var ee="",ce=_;ce<U;){var ht,Tt,Et,be=R[ce],Ae=null,Ke=be>239?4:be>223?3:be>191?2:1;if(ce+Ke>U)break;1===Ke?be<128&&(Ae=be):2===Ke?128==(192&(ht=R[ce+1]))&&(Ae=(31&be)<<6|63&ht)<=127&&(Ae=null):3===Ke?(Tt=R[ce+2],128==(192&(ht=R[ce+1]))&&128==(192&Tt)&&((Ae=(15&be)<<12|(63&ht)<<6|63&Tt)<=2047||Ae>=55296&&Ae<=57343)&&(Ae=null)):4===Ke&&(Tt=R[ce+2],Et=R[ce+3],128==(192&(ht=R[ce+1]))&&128==(192&Tt)&&128==(192&Et)&&((Ae=(15&be)<<18|(63&ht)<<12|(63&Tt)<<6|63&Et)<=65535||Ae>=1114112)&&(Ae=null)),null===Ae?(Ae=65533,Ke=1):Ae>65535&&(Ae-=65536,ee+=String.fromCharCode(Ae>>>10&1023|55296),Ae=56320|1023&Ae),ee+=String.fromCharCode(Ae),ce+=Ke}return ee}(this.buf,_,R)},readBytes:function(){var R=this.readVarint()+this.pos,_=this.buf.subarray(this.pos,R);return this.pos=R,_},readPackedVarint:function(R,_){if(this.type!==uo.Bytes)return R.push(this.readVarint(_));var U=Uu(this);for(R=R||[];this.pos<U;)R.push(this.readVarint(_));return R},readPackedSVarint:function(R){if(this.type!==uo.Bytes)return R.push(this.readSVarint());var _=Uu(this);for(R=R||[];this.pos<_;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==uo.Bytes)return R.push(this.readBoolean());var _=Uu(this);for(R=R||[];this.pos<_;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==uo.Bytes)return R.push(this.readFloat());var _=Uu(this);for(R=R||[];this.pos<_;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==uo.Bytes)return R.push(this.readDouble());var _=Uu(this);for(R=R||[];this.pos<_;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==uo.Bytes)return R.push(this.readFixed32());var _=Uu(this);for(R=R||[];this.pos<_;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==uo.Bytes)return R.push(this.readSFixed32());var _=Uu(this);for(R=R||[];this.pos<_;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==uo.Bytes)return R.push(this.readFixed64());var _=Uu(this);for(R=R||[];this.pos<_;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==uo.Bytes)return R.push(this.readSFixed64());var _=Uu(this);for(R=R||[];this.pos<_;)R.push(this.readSFixed64());return R},skip:function(R){var _=7&R;if(_===uo.Varint)for(;this.buf[this.pos++]>127;);else if(_===uo.Bytes)this.pos=this.readVarint()+this.pos;else if(_===uo.Fixed32)this.pos+=4;else{if(_!==uo.Fixed64)throw new Error("Unimplemented type: "+_);this.pos+=8}},writeTag:function(R,_){this.writeVarint(R<<3|_)},realloc:function(R){for(var _=this.length||16;_<this.pos+R;)_*=2;if(_!==this.length){var U=new Uint8Array(_);U.set(this.buf),this.buf=U,this.length=_}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),Nf(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),Nf(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),Nf(this.buf,-1&R,this.pos),Nf(this.buf,Math.floor(R*Xh),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),Nf(this.buf,-1&R,this.pos),Nf(this.buf,Math.floor(R*Xh),this.pos+4),this.pos+=8},writeVarint:function(R){(R=+R||0)>268435455||R<0?function pp(R,_){var U,ee;if(R>=0?(U=R%4294967296|0,ee=R/4294967296|0):(ee=~(-R/4294967296),4294967295^(U=~(-R%4294967296))?U=U+1|0:(U=0,ee=ee+1|0)),R>=0x10000000000000000||R<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");_.realloc(10),function gp(R,_,U){U.buf[U.pos++]=127&R|128,R>>>=7,U.buf[U.pos++]=127&R|128,R>>>=7,U.buf[U.pos++]=127&R|128,R>>>=7,U.buf[U.pos++]=127&R|128,U.buf[U.pos]=127&(R>>>=7)}(U,0,_),function yp(R,_){var U=(7&R)<<4;_.buf[_.pos++]|=U|((R>>>=3)?128:0),R&&(_.buf[_.pos++]=127&R|((R>>>=7)?128:0),R&&(_.buf[_.pos++]=127&R|((R>>>=7)?128:0),R&&(_.buf[_.pos++]=127&R|((R>>>=7)?128:0),R&&(_.buf[_.pos++]=127&R|((R>>>=7)?128:0),R&&(_.buf[_.pos++]=127&R)))))}(ee,_)}(R,this):(this.realloc(4),this.buf[this.pos++]=127&R|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=127&(R>>>=7)|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=127&(R>>>=7)|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127))))},writeSVarint:function(R){this.writeVarint(R<0?2*-R-1:2*R)},writeBoolean:function(R){this.writeVarint(!!R)},writeString:function(R){R=String(R),this.realloc(4*R.length),this.pos++;var _=this.pos;this.pos=function Pp(R,_,U){for(var ce,be,ee=0;ee<_.length;ee++){if((ce=_.charCodeAt(ee))>55295&&ce<57344){if(!be){ce>56319||ee+1===_.length?(R[U++]=239,R[U++]=191,R[U++]=189):be=ce;continue}if(ce<56320){R[U++]=239,R[U++]=191,R[U++]=189,be=ce;continue}ce=be-55296<<10|ce-56320|65536,be=null}else be&&(R[U++]=239,R[U++]=191,R[U++]=189,be=null);ce<128?R[U++]=ce:(ce<2048?R[U++]=ce>>6|192:(ce<65536?R[U++]=ce>>12|224:(R[U++]=ce>>18|240,R[U++]=ce>>12&63|128),R[U++]=ce>>6&63|128),R[U++]=63&ce|128)}return U}(this.buf,R,this.pos);var U=this.pos-_;U>=128&&Kh(_,U,this),this.pos=_-1,this.writeVarint(U),this.pos+=U},writeFloat:function(R){this.realloc(4),_c_write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),_c_write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var _=R.length;this.writeVarint(_),this.realloc(_);for(var U=0;U<_;U++)this.buf[this.pos++]=R[U]},writeRawMessage:function(R,_){this.pos++;var U=this.pos;R(_,this);var ee=this.pos-U;ee>=128&&Kh(U,ee,this),this.pos=U-1,this.writeVarint(ee),this.pos+=ee},writeMessage:function(R,_,U){this.writeTag(R,uo.Bytes),this.writeRawMessage(_,U)},writePackedVarint:function(R,_){_.length&&this.writeMessage(R,mp,_)},writePackedSVarint:function(R,_){_.length&&this.writeMessage(R,xp,_)},writePackedBoolean:function(R,_){_.length&&this.writeMessage(R,Tp,_)},writePackedFloat:function(R,_){_.length&&this.writeMessage(R,bp,_)},writePackedDouble:function(R,_){_.length&&this.writeMessage(R,wp,_)},writePackedFixed32:function(R,_){_.length&&this.writeMessage(R,Ap,_)},writePackedSFixed32:function(R,_){_.length&&this.writeMessage(R,Mp,_)},writePackedFixed64:function(R,_){_.length&&this.writeMessage(R,Sp,_)},writePackedSFixed64:function(R,_){_.length&&this.writeMessage(R,Ep,_)},writeBytesField:function(R,_){this.writeTag(R,uo.Bytes),this.writeBytes(_)},writeFixed32Field:function(R,_){this.writeTag(R,uo.Fixed32),this.writeFixed32(_)},writeSFixed32Field:function(R,_){this.writeTag(R,uo.Fixed32),this.writeSFixed32(_)},writeFixed64Field:function(R,_){this.writeTag(R,uo.Fixed64),this.writeFixed64(_)},writeSFixed64Field:function(R,_){this.writeTag(R,uo.Fixed64),this.writeSFixed64(_)},writeVarintField:function(R,_){this.writeTag(R,uo.Varint),this.writeVarint(_)},writeSVarintField:function(R,_){this.writeTag(R,uo.Varint),this.writeSVarint(_)},writeStringField:function(R,_){this.writeTag(R,uo.Bytes),this.writeString(_)},writeFloatField:function(R,_){this.writeTag(R,uo.Fixed32),this.writeFloat(_)},writeDoubleField:function(R,_){this.writeTag(R,uo.Fixed64),this.writeDouble(_)},writeBooleanField:function(R,_){this.writeVarintField(R,!!_)}};var ch=3;function Dp(R,_,U){1===R&&U.readMessage(Rp,_)}function Rp(R,_,U){if(3===R){var ee=U.readMessage(_p,{}),Ae=ee.width,Ke=ee.height,ht=ee.left,Tt=ee.top,Et=ee.advance;_.push({id:ee.id,bitmap:new Af({width:Ae+2*ch,height:Ke+2*ch},ee.bitmap),metrics:{width:Ae,height:Ke,left:ht,top:Tt,advance:Et}})}}function _p(R,_,U){1===R?_.id=U.readVarint():2===R?_.bitmap=U.readBytes():3===R?_.width=U.readVarint():4===R?_.height=U.readVarint():5===R?_.left=U.readSVarint():6===R?_.top=U.readSVarint():7===R&&(_.advance=U.readVarint())}var Qh=ch;function $h(R){for(var _=0,U=0,ee=0,ce=R;ee<ce.length;ee+=1){var be=ce[ee];_+=be.w*be.h,U=Math.max(U,be.w)}R.sort(function(gn,sn){return sn.h-gn.h});for(var Ke=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(_/.95)),U),h:1/0}],ht=0,Tt=0,Et=0,jt=R;Et<jt.length;Et+=1)for(var fr=jt[Et],ir=Ke.length-1;ir>=0;ir--){var Lr=Ke[ir];if(!(fr.w>Lr.w||fr.h>Lr.h)){if(fr.x=Lr.x,fr.y=Lr.y,Tt=Math.max(Tt,fr.y+fr.h),ht=Math.max(ht,fr.x+fr.w),fr.w===Lr.w&&fr.h===Lr.h){var Wr=Ke.pop();ir<Ke.length&&(Ke[ir]=Wr)}else fr.h===Lr.h?(Lr.x+=fr.w,Lr.w-=fr.w):fr.w===Lr.w?(Lr.y+=fr.h,Lr.h-=fr.h):(Ke.push({x:Lr.x+fr.w,y:Lr.y,w:Lr.w-fr.w,h:fr.h}),Lr.y+=fr.h,Lr.h-=fr.h);break}}return{w:ht,h:Tt,fill:_/(ht*Tt)||0}}var Qs=1,Fc=function(_,U){var ee=U.pixelRatio,ce=U.version,be=U.stretchX,Ae=U.stretchY,Ke=U.content;this.paddedRect=_,this.pixelRatio=ee,this.stretchX=be,this.stretchY=Ae,this.content=Ke,this.version=ce},vc={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};vc.tl.get=function(){return[this.paddedRect.x+Qs,this.paddedRect.y+Qs]},vc.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Qs,this.paddedRect.y+this.paddedRect.h-Qs]},vc.tlbr.get=function(){return this.tl.concat(this.br)},vc.displaySize.get=function(){return[(this.paddedRect.w-2*Qs)/this.pixelRatio,(this.paddedRect.h-2*Qs)/this.pixelRatio]},Object.defineProperties(Fc.prototype,vc);var dc=function(_,U){var ee={},ce={};this.haveRenderCallbacks=[];var be=[];this.addImages(_,ee,be),this.addImages(U,ce,be);var Ae=$h(be),Tt=new Ns({width:Ae.w||1,height:Ae.h||1});for(var Et in _){var jt=_[Et],fr=ee[Et].paddedRect;Ns.copy(jt.data,Tt,{x:0,y:0},{x:fr.x+Qs,y:fr.y+Qs},jt.data)}for(var ir in U){var Lr=U[ir],Wr=ce[ir].paddedRect,gn=Wr.x+Qs,sn=Wr.y+Qs,Rn=Lr.data.width,Sn=Lr.data.height;Ns.copy(Lr.data,Tt,{x:0,y:0},{x:gn,y:sn},Lr.data),Ns.copy(Lr.data,Tt,{x:0,y:Sn-1},{x:gn,y:sn-1},{width:Rn,height:1}),Ns.copy(Lr.data,Tt,{x:0,y:0},{x:gn,y:sn+Sn},{width:Rn,height:1}),Ns.copy(Lr.data,Tt,{x:Rn-1,y:0},{x:gn-1,y:sn},{width:1,height:Sn}),Ns.copy(Lr.data,Tt,{x:0,y:0},{x:gn+Rn,y:sn},{width:1,height:Sn})}this.image=Tt,this.iconPositions=ee,this.patternPositions=ce};dc.prototype.addImages=function(_,U,ee){for(var ce in _){var be=_[ce],Ae={x:0,y:0,w:be.data.width+2*Qs,h:be.data.height+2*Qs};ee.push(Ae),U[ce]=new Fc(Ae,be),be.hasRenderCallback&&this.haveRenderCallbacks.push(ce)}},dc.prototype.patchUpdatedImages=function(_,U){for(var ee in _.dispatchRenderCallbacks(this.haveRenderCallbacks),_.updatedImages)this.patchUpdatedImage(this.iconPositions[ee],_.getImage(ee),U),this.patchUpdatedImage(this.patternPositions[ee],_.getImage(ee),U)},dc.prototype.patchUpdatedImage=function(_,U,ee){if(_&&U&&_.version!==U.version){_.version=U.version;var ce=_.tl;ee.update(U.data,void 0,{x:ce[0],y:ce[1]})}},va("ImagePosition",Fc),va("ImageAtlas",dc);var vl={horizontal:1,vertical:2,horizontalOnly:3},pc=-17;var Uf=function(){this.scale=1,this.fontStack="",this.imageName=null};Uf.forText=function(_,U){var ee=new Uf;return ee.scale=_||1,ee.fontStack=U,ee},Uf.forImage=function(_){var U=new Uf;return U.imageName=_,U};var vs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function zc(R,_,U,ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr,ir,Lr,Wr){var gn=vs.fromFeature(R,ce);jt===vl.vertical&&gn.verticalizePunctuation();var sn,Rn=pa.processBidirectionalText,Sn=pa.processStyledBidirectionalText;if(Rn&&1===gn.sections.length){sn=[];for(var zn=0,Zn=Rn(gn.toString(),hh(gn,Tt,be,_,ee,ir,Lr));zn<Zn.length;zn+=1){var oa=Zn[zn],aa=new vs;aa.text=oa,aa.sections=gn.sections;for(var Fa=0;Fa<oa.length;Fa++)aa.sectionIndex.push(0);sn.push(aa)}}else if(Sn){sn=[];for(var Aa=0,Qa=Sn(gn.text,gn.sectionIndex,hh(gn,Tt,be,_,ee,ir,Lr));Aa<Qa.length;Aa+=1){var Da=Qa[Aa],ka=new vs;ka.text=Da[0],ka.sectionIndex=Da[1],ka.sections=gn.sections,sn.push(ka)}}else sn=function Fp(R,_){for(var U=[],ee=R.text,ce=0,be=0,Ae=_;be<Ae.length;be+=1){var Ke=Ae[be];U.push(R.substring(ce,Ke)),ce=Ke}return ce<ee.length&&U.push(R.substring(ce,ee.length)),U}(gn,hh(gn,Tt,be,_,ee,ir,Lr));var ai=[],ja={positionedLines:ai,text:gn.toString(),top:Et[1],bottom:Et[1],left:Et[0],right:Et[0],writingMode:jt,iconsInText:!1,verticalizable:!1};return function Bp(R,_,U,ee,ce,be,Ae,Ke,ht,Tt,Et,jt){for(var fr=0,ir=pc,Lr=0,Wr=0,gn="right"===Ke?1:"left"===Ke?0:.5,sn=0,Rn=0,Sn=ce;Rn<Sn.length;Rn+=1){var Dn=Sn[Rn];Dn.trim();var zn=Dn.getMaxScale(),Zn=(zn-1)*rs,oa={positionedGlyphs:[],lineOffset:0};R.positionedLines[sn]=oa;var aa=oa.positionedGlyphs,Fa=0;if(Dn.length()){for(var ba=0;ba<Dn.length();ba++){var Aa=Dn.getSection(ba),Qa=Dn.getSectionIndex(ba),Da=Dn.getCharCode(ba),ka=0,ai=null,ja=null,Ti=null,qi=rs,Ai=!(ht===vl.horizontal||!Et&&!It(Da)||Et&&(Su[Da]||ar(Da)));if(Aa.imageName){var Co=ee[Aa.imageName];if(!Co)continue;Ti=Aa.imageName,R.iconsInText=R.iconsInText||!0,ja=Co.paddedRect;var _o=Co.displaySize;Aa.scale=Aa.scale*rs/jt,ka=Zn+(rs-_o[1]*Aa.scale),qi=(ai={width:_o[0],height:_o[1],left:Qs,top:-Qh,advance:Ai?_o[1]:_o[0]}).advance;var Ho=Ai?_o[0]*Aa.scale-rs*zn:_o[1]*Aa.scale-rs*zn;Ho>0&&Ho>Fa&&(Fa=Ho)}else{var Mi=U[Aa.fontStack],bi=Mi&&Mi[Da];if(bi&&bi.rect)ja=bi.rect,ai=bi.metrics;else{var ao=_[Aa.fontStack],fo=ao&&ao[Da];if(!fo)continue;ai=fo.metrics}ka=(zn-Aa.scale)*rs}Ai?(R.verticalizable=!0,aa.push({glyph:Da,imageName:Ti,x:fr,y:ir+ka,vertical:Ai,scale:Aa.scale,fontStack:Aa.fontStack,sectionIndex:Qa,metrics:ai,rect:ja}),fr+=qi*Aa.scale+Tt):(aa.push({glyph:Da,imageName:Ti,x:fr,y:ir+ka,vertical:Ai,scale:Aa.scale,fontStack:Aa.fontStack,sectionIndex:Qa,metrics:ai,rect:ja}),fr+=ai.advance*Aa.scale+Tt)}0!==aa.length&&(Lr=Math.max(fr-Tt,Lr),Np(aa,0,aa.length-1,gn,Fa)),fr=0;var ps=be*zn+Fa;oa.lineOffset=Math.max(Fa,Zn),ir+=ps,Wr=Math.max(ps,Wr),++sn}else ir+=be,++sn}var Ko=ir-pc,Ss=vh(Ae),Es=Ss.horizontalAlign,Wo=Ss.verticalAlign;(function Up(R,_,U,ee,ce,be,Ae,Ke,ht){var Tt=(_-U)*ce,Et=0;Et=be!==Ae?-Ke*ee-pc:(-ee*ht+.5)*Ae;for(var jt=0,fr=R;jt<fr.length;jt+=1)for(var Lr=0,Wr=fr[jt].positionedGlyphs;Lr<Wr.length;Lr+=1){var gn=Wr[Lr];gn.x+=Tt,gn.y+=Et}})(R.positionedLines,gn,Es,Wo,Lr,Wr,be,Ko,ce.length),R.top+=-Wo*Ko,R.bottom=R.top+Ko,R.left+=-Es*Lr,R.right=R.left+Lr}(ja,_,U,ee,sn,Ae,Ke,ht,jt,Tt,fr,Wr),!function kp(R){for(var _=0,U=R;_<U.length;_+=1)if(0!==U[_].positionedGlyphs.length)return!1;return!0}(ai)&&ja}vs.fromFeature=function(_,U){for(var ee=new vs,ce=0;ce<_.sections.length;ce++){var be=_.sections[ce];be.image?ee.addImageSection(be):ee.addTextSection(be,U)}return ee},vs.prototype.length=function(){return this.text.length},vs.prototype.getSection=function(_){return this.sections[this.sectionIndex[_]]},vs.prototype.getSectionIndex=function(_){return this.sectionIndex[_]},vs.prototype.getCharCode=function(_){return this.text.charCodeAt(_)},vs.prototype.verticalizePunctuation=function(){this.text=function fp(R){for(var _="",U=0;U<R.length;U++){var ee=R.charCodeAt(U+1)||null,ce=R.charCodeAt(U-1)||null;_+=ee&&Zt(ee)&&!hc[R[U+1]]||ce&&Zt(ce)&&!hc[R[U-1]]||!hc[R[U]]?R[U]:hc[R[U]]}return _}(this.text)},vs.prototype.trim=function(){for(var _=0,U=0;U<this.text.length&&Su[this.text.charCodeAt(U)];U++)_++;for(var ee=this.text.length,ce=this.text.length-1;ce>=0&&ce>=_&&Su[this.text.charCodeAt(ce)];ce--)ee--;this.text=this.text.substring(_,ee),this.sectionIndex=this.sectionIndex.slice(_,ee)},vs.prototype.substring=function(_,U){var ee=new vs;return ee.text=this.text.substring(_,U),ee.sectionIndex=this.sectionIndex.slice(_,U),ee.sections=this.sections,ee},vs.prototype.toString=function(){return this.text},vs.prototype.getMaxScale=function(){var _=this;return this.sectionIndex.reduce(function(U,ee){return Math.max(U,_.sections[ee].scale)},0)},vs.prototype.addTextSection=function(_,U){this.text+=_.text,this.sections.push(Uf.forText(_.scale,_.fontStack||U));for(var ee=this.sections.length-1,ce=0;ce<_.text.length;++ce)this.sectionIndex.push(ee)},vs.prototype.addImageSection=function(_){var U=_.image?_.image.name:"";if(0!==U.length){var ee=this.getNextImageSectionCharCode();ee?(this.text+=String.fromCharCode(ee),this.sections.push(Uf.forImage(U)),this.sectionIndex.push(this.sections.length-1)):B("Reached maximum number of images 6401")}else B("Can't add FormattedSection with an empty image.")},vs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Su={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},$s={};function tv(R,_,U,ee,ce,be){if(_.imageName){var ht=ee[_.imageName];return ht?ht.displaySize[0]*_.scale*rs/be+ce:0}var Ae=U[_.fontStack],Ke=Ae&&Ae[R];return Ke?Ke.metrics.advance*_.scale+ce:0}function rv(R,_,U,ee){var ce=Math.pow(R-_,2);return ee?R<_?ce/2:2*ce:ce+Math.abs(U)*U}function Op(R,_,U){var ee=0;return 10===R&&(ee-=1e4),U&&(ee+=150),(40===R||65288===R)&&(ee+=50),(41===_||65289===_)&&(ee+=50),ee}function nv(R,_,U,ee,ce,be){for(var Ae=null,Ke=rv(_,U,ce,be),ht=0,Tt=ee;ht<Tt.length;ht+=1){var Et=Tt[ht],fr=rv(_-Et.x,U,ce,be)+Et.badness;fr<=Ke&&(Ae=Et,Ke=fr)}return{index:R,x:_,priorBreak:Ae,badness:Ke}}function av(R){return R?av(R.priorBreak).concat(R.index):[]}function hh(R,_,U,ee,ce,be,Ae){if("point"!==be)return[];if(!R)return[];for(var Ke=[],ht=function zp(R,_,U,ee,ce,be){for(var Ae=0,Ke=0;Ke<R.length();Ke++){var ht=R.getSection(Ke);Ae+=tv(R.getCharCode(Ke),ht,ee,ce,_,be)}return Ae/Math.max(1,Math.ceil(Ae/U))}(R,_,U,ee,ce,Ae),Tt=R.text.indexOf("\u200b")>=0,Et=0,jt=0;jt<R.length();jt++){var fr=R.getSection(jt),ir=R.getCharCode(jt);if(Su[ir]||(Et+=tv(ir,fr,ee,ce,_,Ae)),jt<R.length()-1){var Lr=ot(ir);($s[ir]||Lr||fr.imageName)&&Ke.push(nv(jt+1,Et,ht,Ke,Op(ir,R.getCharCode(jt+1),Lr&&Tt),!1))}}return av(nv(R.length(),Et,ht,Ke,0,!0))}function vh(R){var _=.5,U=.5;switch(R){case"right":case"top-right":case"bottom-right":_=1;break;case"left":case"top-left":case"bottom-left":_=0}switch(R){case"bottom":case"bottom-right":case"bottom-left":U=1;break;case"top":case"top-right":case"top-left":U=0}return{horizontalAlign:_,verticalAlign:U}}function Np(R,_,U,ee,ce){if(ee||ce)for(var be=R[U],Ke=(R[U].x+be.metrics.advance*be.scale)*ee,ht=_;ht<=U;ht++)R[ht].x-=Ke,R[ht].y+=ce}function iv(R,_,U,ee,ce,be){var Ke,Ae=R.image;if(Ae.content){var ht=Ae.content,Tt=Ae.pixelRatio||1;Ke=[ht[0]/Tt,ht[1]/Tt,Ae.displaySize[0]-ht[2]/Tt,Ae.displaySize[1]-ht[3]/Tt]}var fr,ir,Lr,Wr,Et=_.left*be,jt=_.right*be;"width"===U||"both"===U?(Wr=ce[0]+Et-ee[3],ir=ce[0]+jt+ee[1]):ir=(Wr=ce[0]+(Et+jt-Ae.displaySize[0])/2)+Ae.displaySize[0];var gn=_.top*be,sn=_.bottom*be;return"height"===U||"both"===U?(fr=ce[1]+gn-ee[0],Lr=ce[1]+sn+ee[2]):Lr=(fr=ce[1]+(gn+sn-Ae.displaySize[1])/2)+Ae.displaySize[1],{image:Ae,top:fr,right:ir,bottom:Lr,left:Wr,collisionPadding:Ke}}$s[10]=!0,$s[32]=!0,$s[38]=!0,$s[40]=!0,$s[41]=!0,$s[43]=!0,$s[45]=!0,$s[47]=!0,$s[173]=!0,$s[183]=!0,$s[8203]=!0,$s[8208]=!0,$s[8211]=!0,$s[8231]=!0;var Hf=function(R){function _(U,ee,ce,be){R.call(this,U,ee),this.angle=ce,void 0!==be&&(this.segment=be)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.clone=function(){return new _(this.x,this.y,this.angle,this.segment)},_}(t);va("Anchor",Hf);var fu=128;function dh(R,_){var U=_.expression;if("constant"===U.kind)return{kind:"constant",layoutSize:U.evaluate(new Ca(R+1))};if("source"===U.kind)return{kind:"source"};for(var ce=U.zoomStops,be=U.interpolationType,Ae=0;Ae<ce.length&&ce[Ae]<=R;)Ae++;for(var Ke=Ae=Math.max(0,Ae-1);Ke<ce.length&&ce[Ke]<R+1;)Ke++;Ke=Math.min(ce.length-1,Ke);var ht=ce[Ae],Tt=ce[Ke];return"composite"===U.kind?{kind:"composite",minZoom:ht,maxZoom:Tt,interpolationType:be}:{kind:"camera",minZoom:ht,maxZoom:Tt,minSize:U.evaluate(new Ca(ht)),maxSize:U.evaluate(new Ca(Tt)),interpolationType:be}}function ov(R,_,U){var ee=_.uSize,be=U.lowerSize;return"source"===R.kind?be/fu:"composite"===R.kind?to(be/fu,U.upperSize/fu,_.uSizeT):ee}function sv(R,_){var U=0,ee=0;if("constant"===R.kind)ee=R.layoutSize;else if("source"!==R.kind){var ce=R.interpolationType,Ke=ce?c(Po.interpolationFactor(ce,_,R.minZoom,R.maxZoom),0,1):0;"camera"===R.kind?ee=to(R.minSize,R.maxSize,Ke):U=Ke}return{uSizeT:U,uSize:ee}}var Vp=Object.freeze({__proto__:null,getSizeData:dh,evaluateSizeForFeature:ov,evaluateSizeForZoom:sv,SIZE_PACK_FACTOR:fu});function lv(R,_,U,ee,ce){if(void 0===_.segment)return!0;for(var be=_,Ae=_.segment+1,Ke=0;Ke>-U/2;){if(--Ae<0)return!1;Ke-=R[Ae].dist(be),be=R[Ae]}Ke+=R[Ae].dist(R[Ae+1]),Ae++;for(var ht=[],Tt=0;Ke<U/2;){var jt=R[Ae],fr=R[Ae+1];if(!fr)return!1;var ir=R[Ae-1].angleTo(jt)-jt.angleTo(fr);for(ir=Math.abs((ir+3*Math.PI)%(2*Math.PI)-Math.PI),ht.push({distance:Ke,angleDelta:ir}),Tt+=ir;Ke-ht[0].distance>ee;)Tt-=ht.shift().angleDelta;if(Tt>ce)return!1;Ae++,Ke+=jt.dist(fr)}return!0}function uv(R){for(var _=0,U=0;U<R.length-1;U++)_+=R[U].dist(R[U+1]);return _}function fv(R,_,U){return R?.6*_*U:0}function cv(R,_){return Math.max(R?R.right-R.left:0,_?_.right-_.left:0)}function Gp(R,_,U,ee,ce,be){for(var Ae=fv(U,ce,be),Ke=cv(U,ee)*be,ht=0,Tt=uv(R)/2,Et=0;Et<R.length-1;Et++){var jt=R[Et],fr=R[Et+1],ir=jt.dist(fr);if(ht+ir>Tt){var Lr=(Tt-ht)/ir,Wr=to(jt.x,fr.x,Lr),gn=to(jt.y,fr.y,Lr),sn=new Hf(Wr,gn,fr.angleTo(jt),Et);return sn._round(),!Ae||lv(R,sn,Ke,Ae,_)?sn:void 0}ht+=ir}}function Wp(R,_,U,ee,ce,be,Ae,Ke,ht){var Tt=fv(ee,be,Ae),Et=cv(ee,ce),jt=Et*Ae,fr=0===R[0].x||R[0].x===ht||0===R[0].y||R[0].y===ht;return _-jt<_/4&&(_=jt+_/4),hv(R,fr?_/2*Ke%_:(Et/2+2*be)*Ae*Ke%_,_,Tt,U,jt,fr,!1,ht)}function hv(R,_,U,ee,ce,be,Ae,Ke,ht){for(var Tt=be/2,Et=uv(R),jt=0,fr=_-U,ir=[],Lr=0;Lr<R.length-1;Lr++){for(var Wr=R[Lr],gn=R[Lr+1],sn=Wr.dist(gn),Rn=gn.angleTo(Wr);fr+U<jt+sn;){var Sn=((fr+=U)-jt)/sn,Dn=to(Wr.x,gn.x,Sn),zn=to(Wr.y,gn.y,Sn);if(Dn>=0&&Dn<ht&&zn>=0&&zn<ht&&fr-Tt>=0&&fr+Tt<=Et){var Zn=new Hf(Dn,zn,Rn,Lr);Zn._round(),(!ee||lv(R,Zn,be,ee,ce))&&ir.push(Zn)}}jt+=sn}return!Ke&&!ir.length&&!Ae&&(ir=hv(R,jt/2,U,ee,ce,be,Ae,!0,ht)),ir}function vv(R,_,U,ee,ce){for(var be=[],Ae=0;Ae<R.length;Ae++)for(var Ke=R[Ae],ht=void 0,Tt=0;Tt<Ke.length-1;Tt++){var Et=Ke[Tt],jt=Ke[Tt+1];Et.x<_&&jt.x<_||(Et.x<_?Et=new t(_,Et.y+(_-Et.x)/(jt.x-Et.x)*(jt.y-Et.y))._round():jt.x<_&&(jt=new t(_,Et.y+(_-Et.x)/(jt.x-Et.x)*(jt.y-Et.y))._round()),!(Et.y<U&&jt.y<U)&&(Et.y<U?Et=new t(Et.x+(U-Et.y)/(jt.y-Et.y)*(jt.x-Et.x),U)._round():jt.y<U&&(jt=new t(Et.x+(U-Et.y)/(jt.y-Et.y)*(jt.x-Et.x),U)._round()),!(Et.x>=ee&&jt.x>=ee)&&(Et.x>=ee?Et=new t(ee,Et.y+(ee-Et.x)/(jt.x-Et.x)*(jt.y-Et.y))._round():jt.x>=ee&&(jt=new t(ee,Et.y+(ee-Et.x)/(jt.x-Et.x)*(jt.y-Et.y))._round()),!(Et.y>=ce&&jt.y>=ce)&&(Et.y>=ce?Et=new t(Et.x+(ce-Et.y)/(jt.y-Et.y)*(jt.x-Et.x),ce)._round():jt.y>=ce&&(jt=new t(Et.x+(ce-Et.y)/(jt.y-Et.y)*(jt.x-Et.x),ce)._round()),(!ht||!Et.equals(ht[ht.length-1]))&&be.push(ht=[Et]),ht.push(jt)))))}return be}var Vf=Qs;function dv(R,_,U,ee){var ce=[],be=R.image,Ae=be.pixelRatio,Ke=be.paddedRect.w-2*Vf,ht=be.paddedRect.h-2*Vf,Tt=R.right-R.left,Et=R.bottom-R.top,jt=be.stretchX||[[0,Ke]],fr=be.stretchY||[[0,ht]],ir=function(Mi,bi){return Mi+bi[1]-bi[0]},Lr=jt.reduce(ir,0),Wr=fr.reduce(ir,0),gn=Ke-Lr,sn=ht-Wr,Rn=0,Sn=Lr,Dn=0,zn=Wr,Zn=0,oa=gn,aa=0,Fa=sn;if(be.content&&ee){var ba=be.content;Rn=Oc(jt,0,ba[0]),Dn=Oc(fr,0,ba[1]),Sn=Oc(jt,ba[0],ba[2]),zn=Oc(fr,ba[1],ba[3]),Zn=ba[0]-Rn,aa=ba[1]-Dn,oa=ba[2]-ba[0]-Sn,Fa=ba[3]-ba[1]-zn}var Aa=function(Mi,bi,ao,fo){var Co=Bc(Mi.stretch-Rn,Sn,Tt,R.left),_o=Nc(Mi.fixed-Zn,oa,Mi.stretch,Lr),jo=Bc(bi.stretch-Dn,zn,Et,R.top),Ho=Nc(bi.fixed-aa,Fa,bi.stretch,Wr),ds=Bc(ao.stretch-Rn,Sn,Tt,R.left),ps=Nc(ao.fixed-Zn,oa,ao.stretch,Lr),Ko=Bc(fo.stretch-Dn,zn,Et,R.top),Ss=Nc(fo.fixed-aa,Fa,fo.stretch,Wr),Es=new t(Co,jo),Wo=new t(ds,jo),Cs=new t(ds,Ko),dl=new t(Co,Ko),Gu=new t(_o/Ae,Ho/Ae),ff=new t(ps/Ae,Ss/Ae),cf=_*Math.PI/180;if(cf){var hf=Math.sin(cf),Jf=Math.cos(cf),Yl=[Jf,-hf,hf,Jf];Es._matMult(Yl),Wo._matMult(Yl),dl._matMult(Yl),Cs._matMult(Yl)}var Yc=Mi.stretch+Mi.fixed,Zc=bi.stretch+bi.fixed;return{tl:Es,tr:Wo,bl:dl,br:Cs,tex:{x:be.paddedRect.x+Vf+Yc,y:be.paddedRect.y+Vf+Zc,w:ao.stretch+ao.fixed-Yc,h:fo.stretch+fo.fixed-Zc},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Gu,pixelOffsetBR:ff,minFontScaleX:oa/Ae/Tt,minFontScaleY:Fa/Ae/Et,isSDF:U}};if(ee&&(be.stretchX||be.stretchY))for(var Qa=pv(jt,gn,Lr),Da=pv(fr,sn,Wr),ka=0;ka<Qa.length-1;ka++)for(var ai=Qa[ka],ja=Qa[ka+1],Ti=0;Ti<Da.length-1;Ti++)ce.push(Aa(ai,Da[Ti],ja,Da[Ti+1]));else ce.push(Aa({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Ke+1},{fixed:0,stretch:ht+1}));return ce}function Oc(R,_,U){for(var ee=0,ce=0,be=R;ce<be.length;ce+=1){var Ae=be[ce];ee+=Math.max(_,Math.min(U,Ae[1]))-Math.max(_,Math.min(U,Ae[0]))}return ee}function pv(R,_,U){for(var ee=[{fixed:-Vf,stretch:0}],ce=0,be=R;ce<be.length;ce+=1){var Ae=be[ce],Ke=Ae[0],ht=Ae[1],Tt=ee[ee.length-1];ee.push({fixed:Ke-Tt.stretch,stretch:Tt.stretch}),ee.push({fixed:Ke-Tt.stretch,stretch:Tt.stretch+(ht-Ke)})}return ee.push({fixed:_+Vf,stretch:U}),ee}function Bc(R,_,U,ee){return R/_*U+ee}function Nc(R,_,U,ee){return R-_*U/ee}var Uc=function(_,U,ee,ce,be,Ae,Ke,ht,Tt,Et){if(this.boxStartIndex=_.length,Tt){var jt=Ae.top,fr=Ae.bottom,ir=Ae.collisionPadding;ir&&(jt-=ir[1],fr+=ir[3]);var Lr=fr-jt;Lr>0&&(Lr=Math.max(10,Lr),this.circleDiameter=Lr)}else{var Wr=Ae.top*Ke-ht,gn=Ae.bottom*Ke+ht,sn=Ae.left*Ke-ht,Rn=Ae.right*Ke+ht,Sn=Ae.collisionPadding;if(Sn&&(sn-=Sn[0]*Ke,Wr-=Sn[1]*Ke,Rn+=Sn[2]*Ke,gn+=Sn[3]*Ke),Et){var Dn=new t(sn,Wr),zn=new t(Rn,Wr),Zn=new t(sn,gn),oa=new t(Rn,gn),aa=Et*Math.PI/180;Dn._rotate(aa),zn._rotate(aa),Zn._rotate(aa),oa._rotate(aa),sn=Math.min(Dn.x,zn.x,Zn.x,oa.x),Rn=Math.max(Dn.x,zn.x,Zn.x,oa.x),Wr=Math.min(Dn.y,zn.y,Zn.y,oa.y),gn=Math.max(Dn.y,zn.y,Zn.y,oa.y)}_.emplaceBack(U.x,U.y,sn,Wr,Rn,gn,ee,ce,be)}this.boxEndIndex=_.length},Gf=function(_,U){if(void 0===_&&(_=[]),void 0===U&&(U=Zp),this.data=_,this.length=this.data.length,this.compare=U,this.length>0)for(var ee=(this.length>>1)-1;ee>=0;ee--)this._down(ee)};function Zp(R,_){return R<_?-1:R>_?1:0}function Xp(R,_,U){void 0===_&&(_=1),void 0===U&&(U=!1);for(var ee=1/0,ce=1/0,be=-1/0,Ae=-1/0,Ke=R[0],ht=0;ht<Ke.length;ht++){var Tt=Ke[ht];(!ht||Tt.x<ee)&&(ee=Tt.x),(!ht||Tt.y<ce)&&(ce=Tt.y),(!ht||Tt.x>be)&&(be=Tt.x),(!ht||Tt.y>Ae)&&(Ae=Tt.y)}var fr=Math.min(be-ee,Ae-ce),ir=fr/2,Lr=new Gf([],jp);if(0===fr)return new t(ee,ce);for(var Wr=ee;Wr<be;Wr+=fr)for(var gn=ce;gn<Ae;gn+=fr)Lr.push(new Wf(Wr+ir,gn+ir,ir,R));for(var sn=function Jp(R){for(var _=0,U=0,ee=0,ce=R[0],be=0,Ae=ce.length,Ke=Ae-1;be<Ae;Ke=be++){var ht=ce[be],Tt=ce[Ke],Et=ht.x*Tt.y-Tt.x*ht.y;U+=(ht.x+Tt.x)*Et,ee+=(ht.y+Tt.y)*Et,_+=3*Et}return new Wf(U/_,ee/_,0,R)}(R),Rn=Lr.length;Lr.length;){var Sn=Lr.pop();(Sn.d>sn.d||!sn.d)&&(sn=Sn,U&&console.log("found best %d after %d probes",Math.round(1e4*Sn.d)/1e4,Rn)),!(Sn.max-sn.d<=_)&&(Lr.push(new Wf(Sn.p.x-(ir=Sn.h/2),Sn.p.y-ir,ir,R)),Lr.push(new Wf(Sn.p.x+ir,Sn.p.y-ir,ir,R)),Lr.push(new Wf(Sn.p.x-ir,Sn.p.y+ir,ir,R)),Lr.push(new Wf(Sn.p.x+ir,Sn.p.y+ir,ir,R)),Rn+=4)}return U&&(console.log("num probes: "+Rn),console.log("best distance: "+sn.d)),sn.p}function jp(R,_){return _.max-R.max}function Wf(R,_,U,ee){this.p=new t(R,_),this.h=U,this.d=function Kp(R,_){for(var U=!1,ee=1/0,ce=0;ce<_.length;ce++)for(var be=_[ce],Ae=0,Ke=be.length,ht=Ke-1;Ae<Ke;ht=Ae++){var Tt=be[Ae],Et=be[ht];Tt.y>R.y!=Et.y>R.y&&R.x<(Et.x-Tt.x)*(R.y-Tt.y)/(Et.y-Tt.y)+Tt.x&&(U=!U),ee=Math.min(ee,su(R,Tt,Et))}return(U?1:-1)*Math.sqrt(ee)}(this.p,ee),this.max=this.d+this.h*Math.SQRT2}Gf.prototype.push=function(_){this.data.push(_),this.length++,this._up(this.length-1)},Gf.prototype.pop=function(){if(0!==this.length){var _=this.data[0],U=this.data.pop();return this.length--,this.length>0&&(this.data[0]=U,this._down(0)),_}},Gf.prototype.peek=function(){return this.data[0]},Gf.prototype._up=function(_){for(var ee=this.data,ce=this.compare,be=ee[_];_>0;){var Ae=_-1>>1,Ke=ee[Ae];if(ce(be,Ke)>=0)break;ee[_]=Ke,_=Ae}ee[_]=be},Gf.prototype._down=function(_){for(var ee=this.data,ce=this.compare,be=this.length>>1,Ae=ee[_];_<be;){var Ke=1+(_<<1),ht=ee[Ke],Tt=Ke+1;if(Tt<this.length&&ce(ee[Tt],ht)<0&&(Ke=Tt,ht=ee[Tt]),ce(ht,Ae)>=0)break;ee[_]=ht,_=Ke}ee[_]=Ae};var Yf=7,ph=Number.POSITIVE_INFINITY;function gv(R,_){return _[1]!==ph?function ee(ce,be,Ae){var Ke=0,ht=0;switch(be=Math.abs(be),Ae=Math.abs(Ae),ce){case"top-right":case"top-left":case"top":ht=Ae-Yf;break;case"bottom-right":case"bottom-left":case"bottom":ht=-Ae+Yf}switch(ce){case"top-right":case"bottom-right":case"right":Ke=-be;break;case"top-left":case"bottom-left":case"left":Ke=be}return[Ke,ht]}(R,_[0],_[1]):function U(ce,be){var Ae=0,Ke=0;be<0&&(be=0);var ht=be/Math.sqrt(2);switch(ce){case"top-right":case"top-left":Ke=ht-Yf;break;case"bottom-right":case"bottom-left":Ke=-ht+Yf;break;case"bottom":Ke=-be+Yf;break;case"top":Ke=be-Yf}switch(ce){case"top-right":case"bottom-right":Ae=-ht;break;case"top-left":case"bottom-left":Ae=ht;break;case"left":Ae=be;break;case"right":Ae=-be}return[Ae,Ke]}(R,_[0])}function gh(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var gc=255,lf=gc*fu;function yv(R,_,U,ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr,ir,Lr){var Wr=function Yp(R,_,U,ee,ce,be,Ae,Ke){for(var ht=ee.layout.get("text-rotate").evaluate(be,{})*Math.PI/180,Tt=[],Et=0,jt=_.positionedLines;Et<jt.length;Et+=1)for(var fr=jt[Et],ir=0,Lr=fr.positionedGlyphs;ir<Lr.length;ir+=1){var Wr=Lr[ir];if(Wr.rect){var gn=Wr.rect||{},Rn=Qh+1,Sn=!0,Dn=1,zn=0,Zn=(ce||Ke)&&Wr.vertical,oa=Wr.metrics.advance*Wr.scale/2;if(Ke&&_.verticalizable&&(zn=fr.lineOffset/2-(Wr.imageName?-(rs-Wr.metrics.width*Wr.scale)/2:(Wr.scale-1)*rs)),Wr.imageName){var ba=Ae[Wr.imageName];Sn=ba.sdf,Rn=Qs/(Dn=ba.pixelRatio)}var Aa=ce?[Wr.x+oa,Wr.y]:[0,0],Qa=ce?[0,0]:[Wr.x+oa+U[0],Wr.y+U[1]-zn],Da=[0,0];Zn&&(Da=Qa,Qa=[0,0]);var ka=(Wr.metrics.left-Rn)*Wr.scale-oa+Qa[0],ai=(-Wr.metrics.top-Rn)*Wr.scale+Qa[1],ja=ka+gn.w*Wr.scale/Dn,Ti=ai+gn.h*Wr.scale/Dn,qi=new t(ka,ai),Ai=new t(ja,ai),Mi=new t(ka,Ti),bi=new t(ja,Ti);if(Zn){var ao=new t(-oa,oa-pc),fo=-Math.PI/2,Co=rs/2-oa,jo=new t(5-pc-Co,-(Wr.imageName?Co:0)),Ho=new(Function.prototype.bind.apply(t,[null].concat(Da)));qi._rotateAround(fo,ao)._add(jo)._add(Ho),Ai._rotateAround(fo,ao)._add(jo)._add(Ho),Mi._rotateAround(fo,ao)._add(jo)._add(Ho),bi._rotateAround(fo,ao)._add(jo)._add(Ho)}if(ht){var ds=Math.sin(ht),ps=Math.cos(ht),Ko=[ps,-ds,ds,ps];qi._matMult(Ko),Ai._matMult(Ko),Mi._matMult(Ko),bi._matMult(Ko)}var Ss=new t(0,0),Es=new t(0,0);Tt.push({tl:qi,tr:Ai,bl:Mi,br:bi,tex:gn,writingMode:_.writingMode,glyphOffset:Aa,sectionIndex:Wr.sectionIndex,isSDF:Sn,pixelOffsetTL:Ss,pixelOffsetBR:Es,minFontScaleX:0,minFontScaleY:0})}}return Tt}(0,U,Ke,ce,be,Ae,ee,R.allowVerticalPlacement),gn=R.textSizeData,sn=null;"source"===gn.kind?(sn=[fu*ce.layout.get("text-size").evaluate(Ae,{})])[0]>lf&&B(R.layerIds[0]+': Value for "text-size" is >= '+gc+'. Reduce your "text-size".'):"composite"===gn.kind&&((sn=[fu*ir.compositeTextSizes[0].evaluate(Ae,{},Lr),fu*ir.compositeTextSizes[1].evaluate(Ae,{},Lr)])[0]>lf||sn[1]>lf)&&B(R.layerIds[0]+': Value for "text-size" is >= '+gc+'. Reduce your "text-size".'),R.addSymbols(R.text,Wr,sn,Ke,be,Ae,Tt,_,ht.lineStartIndex,ht.lineLength,fr,Lr);for(var Rn=0,Sn=Et;Rn<Sn.length;Rn+=1)jt[Sn[Rn]]=R.text.placedSymbolArray.length-1;return 4*Wr.length}function mv(R){for(var _ in R)return R[_];return null}function e0(R,_,U,ee){var ce=R.compareText;if(_ in ce){for(var be=ce[_],Ae=be.length-1;Ae>=0;Ae--)if(ee.dist(be[Ae])<U)return!0}else ce[_]=[];return ce[_].push(ee),!1}var t0=Of.VectorTileFeature.types,r0=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Hc(R,_,U,ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr){var ir=Ke?Math.min(lf,Math.round(Ke[0])):0,Lr=Ke?Math.min(lf,Math.round(Ke[1])):0;R.emplaceBack(_,U,Math.round(32*ee),Math.round(32*ce),be,Ae,(ir<<1)+(ht?1:0),Lr,16*Tt,16*Et,256*jt,256*fr)}function yh(R,_,U){R.emplaceBack(_.x,_.y,U),R.emplaceBack(_.x,_.y,U),R.emplaceBack(_.x,_.y,U),R.emplaceBack(_.x,_.y,U)}function n0(R){for(var _=0,U=R.sections;_<U.length;_+=1)if(Ir(U[_].text))return!0;return!1}var Zf=function(_){this.layoutVertexArray=new Ll,this.indexArray=new ou,this.programConfigurations=_,this.segments=new G,this.dynamicLayoutVertexArray=new $f,this.opacityVertexArray=new qf,this.placedSymbolArray=new nf};Zf.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},Zf.prototype.upload=function(_,U,ee,ce){this.isEmpty()||(ee&&(this.layoutVertexBuffer=_.createVertexBuffer(this.layoutVertexArray,uh.members),this.indexBuffer=_.createIndexBuffer(this.indexArray,U),this.dynamicLayoutVertexBuffer=_.createVertexBuffer(this.dynamicLayoutVertexArray,ap.members,!0),this.opacityVertexBuffer=_.createVertexBuffer(this.opacityVertexArray,r0,!0),this.opacityVertexBuffer.itemSize=1),(ee||ce)&&this.programConfigurations.upload(_))},Zf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},va("SymbolBuffers",Zf);var yc=function(_,U,ee){this.layoutVertexArray=new _,this.layoutAttributes=U,this.indexArray=new ee,this.segments=new G,this.collisionVertexArray=new zs};yc.prototype.upload=function(_){this.layoutVertexBuffer=_.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=_.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=_.createVertexBuffer(this.collisionVertexArray,ip.members,!0)},yc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},va("CollisionBuffers",yc);var $i=function(_){this.collisionBoxArray=_.collisionBoxArray,this.zoom=_.zoom,this.overscaling=_.overscaling,this.layers=_.layers,this.layerIds=this.layers.map(function(ht){return ht.id}),this.index=_.index,this.pixelRatio=_.pixelRatio,this.sourceLayerIndex=_.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=_f([]),this.placementViewportMatrix=_f([]);var ee=this.layers[0]._unevaluatedLayout._values;this.textSizeData=dh(this.zoom,ee["text-size"]),this.iconSizeData=dh(this.zoom,ee["icon-size"]);var ce=this.layers[0].layout,be=ce.get("symbol-sort-key"),Ae=ce.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==Ae&&void 0!==be.constantOr(1),this.sortFeaturesByY=("viewport-y"===Ae||"auto"===Ae&&!this.sortFeaturesByKey)&&(ce.get("text-allow-overlap")||ce.get("icon-allow-overlap")||ce.get("text-ignore-placement")||ce.get("icon-ignore-placement")),"point"===ce.get("symbol-placement")&&(this.writingModes=ce.get("text-writing-mode").map(function(ht){return vl[ht]})),this.stateDependentLayerIds=this.layers.filter(function(ht){return ht.isStateDependent()}).map(function(ht){return ht.id}),this.sourceID=_.sourceID};$i.prototype.createArrays=function(){this.text=new Zf(new qa(uh.members,this.layers,this.zoom,function(_){return/^text/.test(_)})),this.icon=new Zf(new qa(uh.members,this.layers,this.zoom,function(_){return/^icon/.test(_)})),this.glyphOffsetArray=new Pl,this.lineVertexArray=new Ac,this.symbolInstances=new Tc},$i.prototype.calculateGlyphDependencies=function(_,U,ee,ce,be){for(var Ae=0;Ae<_.length;Ae++)if(U[_.charCodeAt(Ae)]=!0,(ee||ce)&&be){var Ke=hc[_.charAt(Ae)];Ke&&(U[Ke.charCodeAt(0)]=!0)}},$i.prototype.populate=function(_,U,ee){var ce=this.layers[0],be=ce.layout,Ae=be.get("text-font"),Ke=be.get("text-field"),ht=be.get("icon-image"),Tt=("constant"!==Ke.value.kind||Ke.value.value instanceof zi&&!Ke.value.value.isEmpty()||Ke.value.value.toString().length>0)&&("constant"!==Ae.value.kind||Ae.value.value.length>0),Et="constant"!==ht.value.kind||!!ht.value.value||Object.keys(ht.parameters).length>0,jt=be.get("symbol-sort-key");if(this.features=[],Tt||Et){for(var fr=U.iconDependencies,ir=U.glyphDependencies,Lr=U.availableImages,Wr=new Ca(this.zoom),gn=0,sn=_;gn<sn.length;gn+=1){var Rn=sn[gn],Sn=Rn.feature,Dn=Rn.id,zn=Rn.index,Zn=Rn.sourceLayerIndex,oa=ce._featureFilter.needGeometry,aa={type:Sn.type,id:Dn,properties:Sn.properties,geometry:oa?Xi(Sn):[]};if(ce._featureFilter.filter(Wr,aa,ee)){oa||(aa.geometry=Xi(Sn));var Fa=void 0;if(Tt){var ba=ce.getValueAndResolveTokens("text-field",aa,ee,Lr),Aa=zi.factory(ba);n0(Aa)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Gn()||this.hasRTLText&&pa.isParsed())&&(Fa=lp(Aa,ce,aa))}var Qa=void 0;if(Et){var Da=ce.getValueAndResolveTokens("icon-image",aa,ee,Lr);Qa=Da instanceof Ui?Da:Ui.fromString(Da)}if(Fa||Qa){var ka=this.sortFeaturesByKey?jt.evaluate(aa,{},ee):void 0,ai={id:Dn,text:Fa,icon:Qa,index:zn,sourceLayerIndex:Zn,geometry:Xi(Sn),properties:Sn.properties,type:t0[Sn.type],sortKey:ka};if(this.features.push(ai),Qa&&(fr[Qa.name]=!0),Fa){var ja=Ae.evaluate(aa,{},ee).join(","),Ti="map"===be.get("text-rotation-alignment")&&"point"!==be.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(vl.vertical)>=0;for(var qi=0,Ai=Fa.sections;qi<Ai.length;qi+=1){var Mi=Ai[qi];if(Mi.image)fr[Mi.image.name]=!0;else{var bi=Oe(Fa.toString()),ao=Mi.fontStack||ja,fo=ir[ao]=ir[ao]||{};this.calculateGlyphDependencies(Mi.text,fo,Ti,this.allowVerticalPlacement,bi)}}}}}}"line"===be.get("symbol-placement")&&(this.features=function up(R){var _={},U={},ee=[],ce=0;function be(sn){ee.push(R[sn]),ce++}function Ae(sn,Rn,Sn){var Dn=U[sn];return delete U[sn],U[Rn]=Dn,ee[Dn].geometry[0].pop(),ee[Dn].geometry[0]=ee[Dn].geometry[0].concat(Sn[0]),Dn}function Ke(sn,Rn,Sn){var Dn=_[Rn];return delete _[Rn],_[sn]=Dn,ee[Dn].geometry[0].shift(),ee[Dn].geometry[0]=Sn[0].concat(ee[Dn].geometry[0]),Dn}function ht(sn,Rn,Sn){var Dn=Sn?Rn[0][Rn[0].length-1]:Rn[0][0];return sn+":"+Dn.x+":"+Dn.y}for(var Tt=0;Tt<R.length;Tt++){var Et=R[Tt],jt=Et.geometry,fr=Et.text?Et.text.toString():null;if(fr){var ir=ht(fr,jt),Lr=ht(fr,jt,!0);if(ir in U&&Lr in _&&U[ir]!==_[Lr]){var Wr=Ke(ir,Lr,jt),gn=Ae(ir,Lr,ee[Wr].geometry);delete _[ir],delete U[Lr],U[ht(fr,ee[gn].geometry,!0)]=gn,ee[Wr].geometry=null}else ir in U?Ae(ir,Lr,jt):Lr in _?Ke(ir,Lr,jt):(be(Tt),_[ir]=ce-1,U[Lr]=ce-1)}else be(Tt)}return ee.filter(function(sn){return sn.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Co,_o){return Co.sortKey-_o.sortKey})}},$i.prototype.update=function(_,U,ee){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(_,U,this.layers,ee),this.icon.programConfigurations.updatePaintArrays(_,U,this.layers,ee))},$i.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},$i.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},$i.prototype.upload=function(_){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(_),this.iconCollisionBox.upload(_)),this.text.upload(_,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(_,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},$i.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},$i.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},$i.prototype.addToLineVertexArray=function(_,U){var ee=this.lineVertexArray.length;if(void 0!==_.segment){for(var ce=_.dist(U[_.segment+1]),be=_.dist(U[_.segment]),Ae={},Ke=_.segment+1;Ke<U.length;Ke++)Ae[Ke]={x:U[Ke].x,y:U[Ke].y,tileUnitDistanceFromAnchor:ce},Ke<U.length-1&&(ce+=U[Ke+1].dist(U[Ke]));for(var ht=_.segment||0;ht>=0;ht--)Ae[ht]={x:U[ht].x,y:U[ht].y,tileUnitDistanceFromAnchor:be},ht>0&&(be+=U[ht-1].dist(U[ht]));for(var Tt=0;Tt<U.length;Tt++){var Et=Ae[Tt];this.lineVertexArray.emplaceBack(Et.x,Et.y,Et.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ee,lineLength:this.lineVertexArray.length-ee}},$i.prototype.addSymbols=function(_,U,ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr){for(var ir=_.indexArray,Lr=_.layoutVertexArray,Wr=_.segments.prepareSegment(4*U.length,Lr,ir,Ae.sortKey),gn=this.glyphOffsetArray.length,sn=Wr.vertexLength,Rn=this.allowVerticalPlacement&&Ke===vl.vertical?Math.PI/2:0,Sn=Ae.text&&Ae.text.sections,Dn=0;Dn<U.length;Dn++){var zn=U[Dn],Zn=zn.tl,oa=zn.tr,aa=zn.bl,Fa=zn.br,ba=zn.tex,Aa=zn.pixelOffsetTL,Qa=zn.pixelOffsetBR,Da=zn.minFontScaleX,ka=zn.minFontScaleY,ai=zn.glyphOffset,ja=zn.isSDF,Ti=zn.sectionIndex,qi=Wr.vertexLength,Ai=ai[1];Hc(Lr,ht.x,ht.y,Zn.x,Ai+Zn.y,ba.x,ba.y,ee,ja,Aa.x,Aa.y,Da,ka),Hc(Lr,ht.x,ht.y,oa.x,Ai+oa.y,ba.x+ba.w,ba.y,ee,ja,Qa.x,Aa.y,Da,ka),Hc(Lr,ht.x,ht.y,aa.x,Ai+aa.y,ba.x,ba.y+ba.h,ee,ja,Aa.x,Qa.y,Da,ka),Hc(Lr,ht.x,ht.y,Fa.x,Ai+Fa.y,ba.x+ba.w,ba.y+ba.h,ee,ja,Qa.x,Qa.y,Da,ka),yh(_.dynamicLayoutVertexArray,ht,Rn),ir.emplaceBack(qi,qi+1,qi+2),ir.emplaceBack(qi+1,qi+2,qi+3),Wr.vertexLength+=4,Wr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ai[0]),(Dn===U.length-1||Ti!==U[Dn+1].sectionIndex)&&_.programConfigurations.populatePaintArrays(Lr.length,Ae,Ae.index,{},fr,Sn&&Sn[Ti])}_.placedSymbolArray.emplaceBack(ht.x,ht.y,gn,this.glyphOffsetArray.length-gn,sn,Tt,Et,ht.segment,ee?ee[0]:0,ee?ee[1]:0,ce[0],ce[1],Ke,0,!1,0,jt)},$i.prototype._addCollisionDebugVertex=function(_,U,ee,ce,be,Ae){return U.emplaceBack(0,0),_.emplaceBack(ee.x,ee.y,ce,be,Math.round(Ae.x),Math.round(Ae.y))},$i.prototype.addCollisionDebugVertices=function(_,U,ee,ce,be,Ae,Ke){var ht=be.segments.prepareSegment(4,be.layoutVertexArray,be.indexArray),Tt=ht.vertexLength,Et=be.layoutVertexArray,jt=be.collisionVertexArray,fr=Ke.anchorX,ir=Ke.anchorY;this._addCollisionDebugVertex(Et,jt,Ae,fr,ir,new t(_,U)),this._addCollisionDebugVertex(Et,jt,Ae,fr,ir,new t(ee,U)),this._addCollisionDebugVertex(Et,jt,Ae,fr,ir,new t(ee,ce)),this._addCollisionDebugVertex(Et,jt,Ae,fr,ir,new t(_,ce)),ht.vertexLength+=4;var Lr=be.indexArray;Lr.emplaceBack(Tt,Tt+1),Lr.emplaceBack(Tt+1,Tt+2),Lr.emplaceBack(Tt+2,Tt+3),Lr.emplaceBack(Tt+3,Tt),ht.primitiveLength+=4},$i.prototype.addDebugCollisionBoxes=function(_,U,ee,ce){for(var be=_;be<U;be++){var Ae=this.collisionBoxArray.get(be);this.addCollisionDebugVertices(Ae.x1,Ae.y1,Ae.x2,Ae.y2,ce?this.textCollisionBox:this.iconCollisionBox,Ae.anchorPoint,ee)}},$i.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new yc(Cf,Zh.members,xf),this.iconCollisionBox=new yc(Cf,Zh.members,xf);for(var _=0;_<this.symbolInstances.length;_++){var U=this.symbolInstances.get(_);this.addDebugCollisionBoxes(U.textBoxStartIndex,U.textBoxEndIndex,U,!0),this.addDebugCollisionBoxes(U.verticalTextBoxStartIndex,U.verticalTextBoxEndIndex,U,!0),this.addDebugCollisionBoxes(U.iconBoxStartIndex,U.iconBoxEndIndex,U,!1),this.addDebugCollisionBoxes(U.verticalIconBoxStartIndex,U.verticalIconBoxEndIndex,U,!1)}},$i.prototype._deserializeCollisionBoxesForSymbol=function(_,U,ee,ce,be,Ae,Ke,ht,Tt){for(var Et={},jt=U;jt<ee;jt++){var fr=_.get(jt);Et.textBox={x1:fr.x1,y1:fr.y1,x2:fr.x2,y2:fr.y2,anchorPointX:fr.anchorPointX,anchorPointY:fr.anchorPointY},Et.textFeatureIndex=fr.featureIndex;break}for(var ir=ce;ir<be;ir++){var Lr=_.get(ir);Et.verticalTextBox={x1:Lr.x1,y1:Lr.y1,x2:Lr.x2,y2:Lr.y2,anchorPointX:Lr.anchorPointX,anchorPointY:Lr.anchorPointY},Et.verticalTextFeatureIndex=Lr.featureIndex;break}for(var Wr=Ae;Wr<Ke;Wr++){var gn=_.get(Wr);Et.iconBox={x1:gn.x1,y1:gn.y1,x2:gn.x2,y2:gn.y2,anchorPointX:gn.anchorPointX,anchorPointY:gn.anchorPointY},Et.iconFeatureIndex=gn.featureIndex;break}for(var sn=ht;sn<Tt;sn++){var Rn=_.get(sn);Et.verticalIconBox={x1:Rn.x1,y1:Rn.y1,x2:Rn.x2,y2:Rn.y2,anchorPointX:Rn.anchorPointX,anchorPointY:Rn.anchorPointY},Et.verticalIconFeatureIndex=Rn.featureIndex;break}return Et},$i.prototype.deserializeCollisionBoxes=function(_){this.collisionArrays=[];for(var U=0;U<this.symbolInstances.length;U++){var ee=this.symbolInstances.get(U);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(_,ee.textBoxStartIndex,ee.textBoxEndIndex,ee.verticalTextBoxStartIndex,ee.verticalTextBoxEndIndex,ee.iconBoxStartIndex,ee.iconBoxEndIndex,ee.verticalIconBoxStartIndex,ee.verticalIconBoxEndIndex))}},$i.prototype.hasTextData=function(){return this.text.segments.get().length>0},$i.prototype.hasIconData=function(){return this.icon.segments.get().length>0},$i.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},$i.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},$i.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},$i.prototype.addIndicesForPlacedSymbol=function(_,U){for(var ee=_.placedSymbolArray.get(U),ce=ee.vertexStartIndex+4*ee.numGlyphs,be=ee.vertexStartIndex;be<ce;be+=4)_.indexArray.emplaceBack(be,be+1,be+2),_.indexArray.emplaceBack(be+1,be+2,be+3)},$i.prototype.getSortedSymbolIndexes=function(_){if(this.sortedAngle===_&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var U=Math.sin(_),ee=Math.cos(_),ce=[],be=[],Ae=[],Ke=0;Ke<this.symbolInstances.length;++Ke){Ae.push(Ke);var ht=this.symbolInstances.get(Ke);ce.push(0|Math.round(U*ht.anchorX+ee*ht.anchorY)),be.push(ht.featureIndex)}return Ae.sort(function(Tt,Et){return ce[Tt]-ce[Et]||be[Et]-be[Tt]}),Ae},$i.prototype.addToSortKeyRanges=function(_,U){var ee=this.sortKeyRanges[this.sortKeyRanges.length-1];ee&&ee.sortKey===U?ee.symbolInstanceEnd=_+1:this.sortKeyRanges.push({sortKey:U,symbolInstanceStart:_,symbolInstanceEnd:_+1})},$i.prototype.sortFeatures=function(_){var U=this;if(this.sortFeaturesByY&&this.sortedAngle!==_&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(_),this.sortedAngle=_,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ee=0,ce=this.symbolInstanceIndexes;ee<ce.length;ee+=1){var Ae=this.symbolInstances.get(ce[ee]);this.featureSortOrder.push(Ae.featureIndex),[Ae.rightJustifiedTextSymbolIndex,Ae.centerJustifiedTextSymbolIndex,Ae.leftJustifiedTextSymbolIndex].forEach(function(Ke,ht,Tt){Ke>=0&&Tt.indexOf(Ke)===ht&&U.addIndicesForPlacedSymbol(U.text,Ke)}),Ae.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ae.verticalPlacedTextSymbolIndex),Ae.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ae.placedIconSymbolIndex),Ae.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ae.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},va("SymbolBucket",$i,{omit:["layers","collisionBoxArray","features","compareText"]}),$i.MAX_GLYPHS=65535,$i.addDynamicAttributes=yh;var i0=new Bi({"symbol-placement":new ia(er.layout_symbol["symbol-placement"]),"symbol-spacing":new ia(er.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ia(er.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new wa(er.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ia(er.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ia(er.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ia(er.layout_symbol["icon-ignore-placement"]),"icon-optional":new ia(er.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ia(er.layout_symbol["icon-rotation-alignment"]),"icon-size":new wa(er.layout_symbol["icon-size"]),"icon-text-fit":new ia(er.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ia(er.layout_symbol["icon-text-fit-padding"]),"icon-image":new wa(er.layout_symbol["icon-image"]),"icon-rotate":new wa(er.layout_symbol["icon-rotate"]),"icon-padding":new ia(er.layout_symbol["icon-padding"]),"icon-keep-upright":new ia(er.layout_symbol["icon-keep-upright"]),"icon-offset":new wa(er.layout_symbol["icon-offset"]),"icon-anchor":new wa(er.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ia(er.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ia(er.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ia(er.layout_symbol["text-rotation-alignment"]),"text-field":new wa(er.layout_symbol["text-field"]),"text-font":new wa(er.layout_symbol["text-font"]),"text-size":new wa(er.layout_symbol["text-size"]),"text-max-width":new wa(er.layout_symbol["text-max-width"]),"text-line-height":new ia(er.layout_symbol["text-line-height"]),"text-letter-spacing":new wa(er.layout_symbol["text-letter-spacing"]),"text-justify":new wa(er.layout_symbol["text-justify"]),"text-radial-offset":new wa(er.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ia(er.layout_symbol["text-variable-anchor"]),"text-anchor":new wa(er.layout_symbol["text-anchor"]),"text-max-angle":new ia(er.layout_symbol["text-max-angle"]),"text-writing-mode":new ia(er.layout_symbol["text-writing-mode"]),"text-rotate":new wa(er.layout_symbol["text-rotate"]),"text-padding":new ia(er.layout_symbol["text-padding"]),"text-keep-upright":new ia(er.layout_symbol["text-keep-upright"]),"text-transform":new wa(er.layout_symbol["text-transform"]),"text-offset":new wa(er.layout_symbol["text-offset"]),"text-allow-overlap":new ia(er.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ia(er.layout_symbol["text-ignore-placement"]),"text-optional":new ia(er.layout_symbol["text-optional"])}),mh={paint:new Bi({"icon-opacity":new wa(er.paint_symbol["icon-opacity"]),"icon-color":new wa(er.paint_symbol["icon-color"]),"icon-halo-color":new wa(er.paint_symbol["icon-halo-color"]),"icon-halo-width":new wa(er.paint_symbol["icon-halo-width"]),"icon-halo-blur":new wa(er.paint_symbol["icon-halo-blur"]),"icon-translate":new ia(er.paint_symbol["icon-translate"]),"icon-translate-anchor":new ia(er.paint_symbol["icon-translate-anchor"]),"text-opacity":new wa(er.paint_symbol["text-opacity"]),"text-color":new wa(er.paint_symbol["text-color"],{runtimeType:Gr,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new wa(er.paint_symbol["text-halo-color"]),"text-halo-width":new wa(er.paint_symbol["text-halo-width"]),"text-halo-blur":new wa(er.paint_symbol["text-halo-blur"]),"text-translate":new ia(er.paint_symbol["text-translate"]),"text-translate-anchor":new ia(er.paint_symbol["text-translate-anchor"])}),layout:i0},Xf=function(_){this.type=_.property.overrides?_.property.overrides.runtimeType:Vt,this.defaultValue=_};Xf.prototype.evaluate=function(_){if(_.formattedSection){var U=this.defaultValue.property.overrides;if(U&&U.hasOverride(_.formattedSection))return U.getOverride(_.formattedSection)}return _.feature&&_.featureState?this.defaultValue.evaluate(_.feature,_.featureState):this.defaultValue.property.specification.default},Xf.prototype.eachChild=function(_){this.defaultValue.isConstant()||_(this.defaultValue.value._styleExpression.expression)},Xf.prototype.outputDefined=function(){return!1},Xf.prototype.serialize=function(){return null},va("FormatSectionOverride",Xf,{omit:["defaultValue"]});var s0=function(R){function _(U){R.call(this,U,mh)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.recalculate=function(ee,ce){if(R.prototype.recalculate.call(this,ee,ce),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var be=this.layout.get("text-writing-mode");if(be){for(var Ae=[],Ke=0,ht=be;Ke<ht.length;Ke+=1){var Tt=ht[Ke];Ae.indexOf(Tt)<0&&Ae.push(Tt)}this.layout._values["text-writing-mode"]=Ae}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},_.prototype.getValueAndResolveTokens=function(ee,ce,be,Ae){var Ke=this.layout.get(ee).evaluate(ce,{},be,Ae),ht=this._unevaluatedLayout._values[ee];return ht.isDataDriven()||Ql(ht.value)||!Ke?Ke:function a0(R,_){return _.replace(/{([^{}]+)}/g,function(U,ee){return ee in R?String(R[ee]):""})}(ce.properties,Ke)},_.prototype.createBucket=function(ee){return new $i(ee)},_.prototype.queryRadius=function(){return 0},_.prototype.queryIntersectsFeature=function(){return!1},_.prototype._setPaintOverrides=function(){for(var ee=0,ce=mh.paint.overridableProperties;ee<ce.length;ee+=1){var be=ce[ee];if(_.hasPaintOverride(this.layout,be)){var Tt,Ae=this.paint.get(be),Ke=new Xf(Ae),ht=new Xs(Ke,Ae.property.specification);Tt="constant"===Ae.value.kind||"source"===Ae.value.kind?new js("source",ht):new bs("composite",ht,Ae.value.zoomStops,Ae.value._interpolationType),this.paint._values[be]=new Ya(Ae.property,Tt,Ae.parameters)}}},_.prototype._handleOverridablePaintPropertyUpdate=function(ee,ce,be){return!(!this.layout||ce.isDataDriven()||be.isDataDriven())&&_.hasPaintOverride(this.layout,ee)},_.hasPaintOverride=function(ee,ce){var be=ee.get("text-field"),Ae=mh.paint.properties[ce],Ke=!1,ht=function(jt){for(var fr=0,ir=jt;fr<ir.length;fr+=1)if(Ae.overrides&&Ae.overrides.hasOverride(ir[fr]))return void(Ke=!0)};if("constant"===be.value.kind&&be.value.value instanceof zi)ht(be.value.value.sections);else if("source"===be.value.kind){var Tt=function(jt){Ke||(jt instanceof Yi&&ui(jt.value)===Bn?ht(jt.value.sections):jt instanceof mi?ht(jt.sections):jt.eachChild(Tt))},Et=be.value;Et._styleExpression&&Tt(Et._styleExpression.expression)}return Ke},_}(Mo),u0={paint:new Bi({"background-color":new ia(er.paint_background["background-color"]),"background-pattern":new lo(er.paint_background["background-pattern"]),"background-opacity":new ia(er.paint_background["background-opacity"])})},f0=function(R){function _(U){R.call(this,U,u0)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_}(Mo),h0={paint:new Bi({"raster-opacity":new ia(er.paint_raster["raster-opacity"]),"raster-hue-rotate":new ia(er.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ia(er.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ia(er.paint_raster["raster-brightness-max"]),"raster-saturation":new ia(er.paint_raster["raster-saturation"]),"raster-contrast":new ia(er.paint_raster["raster-contrast"]),"raster-resampling":new ia(er.paint_raster["raster-resampling"]),"raster-fade-duration":new ia(er.paint_raster["raster-fade-duration"])})},v0=function(R){function _(U){R.call(this,U,h0)}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_}(Mo);var p0=function(R){function _(U){R.call(this,U,{}),this.implementation=U}return R&&(_.__proto__=R),(_.prototype=Object.create(R&&R.prototype)).constructor=_,_.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},_.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},_.prototype.recalculate=function(){},_.prototype.updateTransitions=function(){},_.prototype.hasTransition=function(){},_.prototype.serialize=function(){},_.prototype.onAdd=function(ee){this.implementation.onAdd&&this.implementation.onAdd(ee,ee.painter.context.gl)},_.prototype.onRemove=function(ee){this.implementation.onRemove&&this.implementation.onRemove(ee,ee.painter.context.gl)},_}(Mo),g0={circle:Yv,heatmap:Kv,hillshade:$v,fill:Ad,"fill-extrusion":Gd,line:rp,symbol:s0,background:f0,raster:v0};var xv=self.HTMLImageElement,bv=self.HTMLCanvasElement,wv=self.HTMLVideoElement,Tv=self.ImageData,Vc=self.ImageBitmap,Mf=function(_,U,ee,ce){this.context=_,this.format=ee,this.texture=_.gl.createTexture(),this.update(U,ce)};Mf.prototype.update=function(_,U,ee){var ce=_.width,be=_.height,Ae=!(this.size&&this.size[0]===ce&&this.size[1]===be||ee),ht=this.context,Tt=ht.gl;if(this.useMipmap=!(!U||!U.useMipmap),Tt.bindTexture(Tt.TEXTURE_2D,this.texture),ht.pixelStoreUnpackFlipY.set(!1),ht.pixelStoreUnpack.set(1),ht.pixelStoreUnpackPremultiplyAlpha.set(this.format===Tt.RGBA&&(!U||!1!==U.premultiply)),Ae)this.size=[ce,be],_ instanceof xv||_ instanceof bv||_ instanceof wv||_ instanceof Tv||Vc&&_ instanceof Vc?Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,this.format,Tt.UNSIGNED_BYTE,_):Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,ce,be,0,this.format,Tt.UNSIGNED_BYTE,_.data);else{var Et=ee||{x:0,y:0},jt=Et.x,fr=Et.y;_ instanceof xv||_ instanceof bv||_ instanceof wv||_ instanceof Tv||Vc&&_ instanceof Vc?Tt.texSubImage2D(Tt.TEXTURE_2D,0,jt,fr,Tt.RGBA,Tt.UNSIGNED_BYTE,_):Tt.texSubImage2D(Tt.TEXTURE_2D,0,jt,fr,ce,be,Tt.RGBA,Tt.UNSIGNED_BYTE,_.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Tt.generateMipmap(Tt.TEXTURE_2D)},Mf.prototype.bind=function(_,U,ee){var Ae=this.context.gl;Ae.bindTexture(Ae.TEXTURE_2D,this.texture),ee===Ae.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ee=Ae.LINEAR),_!==this.filter&&(Ae.texParameteri(Ae.TEXTURE_2D,Ae.TEXTURE_MAG_FILTER,_),Ae.texParameteri(Ae.TEXTURE_2D,Ae.TEXTURE_MIN_FILTER,ee||_),this.filter=_),U!==this.wrap&&(Ae.texParameteri(Ae.TEXTURE_2D,Ae.TEXTURE_WRAP_S,U),Ae.texParameteri(Ae.TEXTURE_2D,Ae.TEXTURE_WRAP_T,U),this.wrap=U)},Mf.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Mf.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var xh=function(_){var U=this;this._callback=_,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){U._triggered=!1,U._callback()})};xh.prototype.trigger=function(){var _=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){_._triggered=!1,_._callback()},0))},xh.prototype.remove=function(){delete this._channel,this._callback=function(){}};var jf=function(_,U,ee){this.target=_,this.parent=U,this.mapId=ee,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},M(["receive","process"],this),this.invoker=new xh(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=F()?_:self};function Av(R,_,U){var ee=2*Math.PI*6378137/256/Math.pow(2,U);return[R*ee-2*Math.PI*6378137/2,_*ee-2*Math.PI*6378137/2]}jf.prototype.send=function(_,U,ee,ce,be){var Ae=this;void 0===be&&(be=!1);var Ke=Math.round(1e18*Math.random()).toString(36).substring(0,10);ee&&(this.callbacks[Ke]=ee);var ht=X(this.globalScope)?void 0:[];return this.target.postMessage({id:Ke,type:_,hasCallback:!!ee,targetMapId:ce,mustQueue:be,sourceMapId:this.mapId,data:ws(U,ht)},ht),{cancel:function(){ee&&delete Ae.callbacks[Ke],Ae.target.postMessage({id:Ke,type:"<cancel>",targetMapId:ce,sourceMapId:Ae.mapId})}}},jf.prototype.receive=function(_){var U=_.data,ee=U.id;if(ee&&(!U.targetMapId||this.mapId===U.targetMapId))if("<cancel>"===U.type){delete this.tasks[ee];var ce=this.cancelCallbacks[ee];delete this.cancelCallbacks[ee],ce&&ce()}else F()||U.mustQueue?(this.tasks[ee]=U,this.taskQueue.push(ee),this.invoker.trigger()):this.processTask(ee,U)},jf.prototype.process=function(){if(this.taskQueue.length){var _=this.taskQueue.shift(),U=this.tasks[_];delete this.tasks[_],this.taskQueue.length&&this.invoker.trigger(),U&&this.processTask(_,U)}},jf.prototype.processTask=function(_,U){var ee=this;if("<response>"===U.type){var ce=this.callbacks[_];delete this.callbacks[_],ce&&(U.error?ce(Qi(U.error)):ce(null,Qi(U.data)))}else{var be=!1,Ae=X(this.globalScope)?void 0:[],Ke=U.hasCallback?function(fr,ir){be=!0,delete ee.cancelCallbacks[_],ee.target.postMessage({id:_,type:"<response>",sourceMapId:ee.mapId,error:fr?ws(fr):null,data:ws(ir,Ae)},Ae)}:function(fr){be=!0},ht=null,Tt=Qi(U.data);if(this.parent[U.type])ht=this.parent[U.type](U.sourceMapId,Tt,Ke);else if(this.parent.getWorkerSource){var Et=U.type.split(".");ht=this.parent.getWorkerSource(U.sourceMapId,Et[0],Tt.source)[Et[1]](Tt,Ke)}else Ke(new Error("Could not find function "+U.type));!be&&ht&&ht.cancel&&(this.cancelCallbacks[_]=ht.cancel)}},jf.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var No=function(_,U){_&&(U?this.setSouthWest(_).setNorthEast(U):4===_.length?this.setSouthWest([_[0],_[1]]).setNorthEast([_[2],_[3]]):this.setSouthWest(_[0]).setNorthEast(_[1]))};No.prototype.setNorthEast=function(_){return this._ne=_ instanceof yo?new yo(_.lng,_.lat):yo.convert(_),this},No.prototype.setSouthWest=function(_){return this._sw=_ instanceof yo?new yo(_.lng,_.lat):yo.convert(_),this},No.prototype.extend=function(_){var ce,be,U=this._sw,ee=this._ne;if(_ instanceof yo)ce=_,be=_;else{if(!(_ instanceof No))return Array.isArray(_)?4===_.length||_.every(Array.isArray)?this.extend(No.convert(_)):this.extend(yo.convert(_)):this;if(be=_._ne,!(ce=_._sw)||!be)return this}return U||ee?(U.lng=Math.min(ce.lng,U.lng),U.lat=Math.min(ce.lat,U.lat),ee.lng=Math.max(be.lng,ee.lng),ee.lat=Math.max(be.lat,ee.lat)):(this._sw=new yo(ce.lng,ce.lat),this._ne=new yo(be.lng,be.lat)),this},No.prototype.getCenter=function(){return new yo((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},No.prototype.getSouthWest=function(){return this._sw},No.prototype.getNorthEast=function(){return this._ne},No.prototype.getNorthWest=function(){return new yo(this.getWest(),this.getNorth())},No.prototype.getSouthEast=function(){return new yo(this.getEast(),this.getSouth())},No.prototype.getWest=function(){return this._sw.lng},No.prototype.getSouth=function(){return this._sw.lat},No.prototype.getEast=function(){return this._ne.lng},No.prototype.getNorth=function(){return this._ne.lat},No.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},No.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},No.prototype.isEmpty=function(){return!(this._sw&&this._ne)},No.prototype.contains=function(_){var U=yo.convert(_),ee=U.lng,ce=U.lat,Ae=this._sw.lng<=ee&&ee<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ae=this._sw.lng>=ee&&ee>=this._ne.lng),this._sw.lat<=ce&&ce<=this._ne.lat&&Ae},No.convert=function(_){return!_||_ instanceof No?_:new No(_)};var Mv=6371008.8,yo=function(_,U){if(isNaN(_)||isNaN(U))throw new Error("Invalid LngLat object: ("+_+", "+U+")");if(this.lng=+_,this.lat=+U,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};yo.prototype.wrap=function(){return new yo(m(this.lng,-180,180),this.lat)},yo.prototype.toArray=function(){return[this.lng,this.lat]},yo.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},yo.prototype.distanceTo=function(_){var U=Math.PI/180,ee=this.lat*U,ce=_.lat*U,be=Math.sin(ee)*Math.sin(ce)+Math.cos(ee)*Math.cos(ce)*Math.cos((_.lng-this.lng)*U);return Mv*Math.acos(Math.min(be,1))},yo.prototype.toBounds=function(_){void 0===_&&(_=0);var ee=360*_/40075017,ce=ee/Math.cos(Math.PI/180*this.lat);return new No(new yo(this.lng-ce,this.lat-ee),new yo(this.lng+ce,this.lat+ee))},yo.convert=function(_){if(_ instanceof yo)return _;if(Array.isArray(_)&&(2===_.length||3===_.length))return new yo(Number(_[0]),Number(_[1]));if(!Array.isArray(_)&&"object"==typeof _&&null!==_)return new yo(Number("lng"in _?_.lng:_.lon),Number(_.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Sv=2*Math.PI*Mv;function Ev(R){return Sv*Math.cos(R*Math.PI/180)}function Cv(R){return(180+R)/360}function Lv(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Pv(R,_){return R/Ev(_)}function bh(R){return 360/Math.PI*Math.atan(Math.exp((180-360*R)*Math.PI/180))-90}var Sf=function(_,U,ee){void 0===ee&&(ee=0),this.x=+_,this.y=+U,this.z=+ee};Sf.fromLngLat=function(_,U){void 0===U&&(U=0);var ee=yo.convert(_);return new Sf(Cv(ee.lng),Lv(ee.lat),Pv(U,ee.lat))},Sf.prototype.toLngLat=function(){return new yo(function x0(R){return 360*R-180}(this.x),bh(this.y))},Sf.prototype.toAltitude=function(){return function b0(R,_){return R*Ev(bh(_))}(this.z,this.y)},Sf.prototype.meterInMercatorCoordinateUnits=function(){return 1/Sv*function w0(R){return 1/Math.cos(R*Math.PI/180)}(bh(this.y))};var Ef=function(_,U,ee){this.z=_,this.x=U,this.y=ee,this.key=mc(0,_,_,U,ee)};Ef.prototype.equals=function(_){return this.z===_.z&&this.x===_.x&&this.y===_.y},Ef.prototype.url=function(_,U){var ee=function m0(R,_,U){var ee=Av(256*R,256*(_=Math.pow(2,U)-_-1),U),ce=Av(256*(R+1),256*(_+1),U);return ee[0]+","+ee[1]+","+ce[0]+","+ce[1]}(this.x,this.y,this.z),ce=function T0(R,_,U){for(var ce,ee="",be=R;be>0;be--)ee+=(_&(ce=1<<be-1)?1:0)+(U&ce?2:0);return ee}(this.z,this.x,this.y);return _[(this.x+this.y)%_.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===U?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ce).replace("{bbox-epsg-3857}",ee)},Ef.prototype.getTilePoint=function(_){var U=Math.pow(2,this.z);return new t((_.x*U-this.x)*Oa,(_.y*U-this.y)*Oa)},Ef.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Dv=function(_,U){this.wrap=_,this.canonical=U,this.key=mc(_,U.z,U.z,U.x,U.y)},Uo=function(_,U,ee,ce,be){this.overscaledZ=_,this.wrap=U,this.canonical=new Ef(ee,+ce,+be),this.key=mc(U,_,ee,ce,be)};function mc(R,_,U,ee,ce){(R*=2)<0&&(R=-1*R-1);var be=1<<U;return(be*be*R+be*ce+ee).toString(36)+U.toString(36)+_.toString(36)}Uo.prototype.equals=function(_){return this.overscaledZ===_.overscaledZ&&this.wrap===_.wrap&&this.canonical.equals(_.canonical)},Uo.prototype.scaledTo=function(_){var U=this.canonical.z-_;return _>this.canonical.z?new Uo(_,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Uo(_,this.wrap,_,this.canonical.x>>U,this.canonical.y>>U)},Uo.prototype.calculateScaledKey=function(_,U){var ee=this.canonical.z-_;return _>this.canonical.z?mc(this.wrap*+U,_,this.canonical.z,this.canonical.x,this.canonical.y):mc(this.wrap*+U,_,_,this.canonical.x>>ee,this.canonical.y>>ee)},Uo.prototype.isChildOf=function(_){if(_.wrap!==this.wrap)return!1;var U=this.canonical.z-_.canonical.z;return 0===_.overscaledZ||_.overscaledZ<this.overscaledZ&&_.canonical.x===this.canonical.x>>U&&_.canonical.y===this.canonical.y>>U},Uo.prototype.children=function(_){if(this.overscaledZ>=_)return[new Uo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var U=this.canonical.z+1,ee=2*this.canonical.x,ce=2*this.canonical.y;return[new Uo(U,this.wrap,U,ee,ce),new Uo(U,this.wrap,U,ee+1,ce),new Uo(U,this.wrap,U,ee,ce+1),new Uo(U,this.wrap,U,ee+1,ce+1)]},Uo.prototype.isLessThan=function(_){return this.wrap<_.wrap||!(this.wrap>_.wrap)&&(this.overscaledZ<_.overscaledZ||!(this.overscaledZ>_.overscaledZ)&&(this.canonical.x<_.canonical.x||!(this.canonical.x>_.canonical.x)&&this.canonical.y<_.canonical.y))},Uo.prototype.wrapped=function(){return new Uo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Uo.prototype.unwrapTo=function(_){return new Uo(this.overscaledZ,_,this.canonical.z,this.canonical.x,this.canonical.y)},Uo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Uo.prototype.toUnwrapped=function(){return new Dv(this.wrap,this.canonical)},Uo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Uo.prototype.getTilePoint=function(_){return this.canonical.getTilePoint(new Sf(_.x-this.wrap,_.y))},va("CanonicalTileID",Ef),va("OverscaledTileID",Uo,{omit:["posMatrix"]});var Hu=function(_,U,ee){if(this.uid=_,U.height!==U.width)throw new RangeError("DEM tiles must be square");if(ee&&"mapbox"!==ee&&"terrarium"!==ee)return B('"'+ee+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=U.height;var ce=this.dim=U.height-2;this.data=new Uint32Array(U.data.buffer),this.encoding=ee||"mapbox";for(var be=0;be<ce;be++)this.data[this._idx(-1,be)]=this.data[this._idx(0,be)],this.data[this._idx(ce,be)]=this.data[this._idx(ce-1,be)],this.data[this._idx(be,-1)]=this.data[this._idx(be,0)],this.data[this._idx(be,ce)]=this.data[this._idx(be,ce-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ce,-1)]=this.data[this._idx(ce-1,0)],this.data[this._idx(-1,ce)]=this.data[this._idx(0,ce-1)],this.data[this._idx(ce,ce)]=this.data[this._idx(ce-1,ce-1)]};Hu.prototype.get=function(_,U){var ee=new Uint8Array(this.data.buffer),ce=4*this._idx(_,U);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(ee[ce],ee[ce+1],ee[ce+2])},Hu.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Hu.prototype._idx=function(_,U){if(_<-1||_>=this.dim+1||U<-1||U>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(U+1)*this.stride+(_+1)},Hu.prototype._unpackMapbox=function(_,U,ee){return(256*_*256+256*U+ee)/10-1e4},Hu.prototype._unpackTerrarium=function(_,U,ee){return 256*_+U+ee/256-32768},Hu.prototype.getPixels=function(){return new Ns({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Hu.prototype.backfillBorder=function(_,U,ee){if(this.dim!==_.dim)throw new Error("dem dimension mismatch");var ce=U*this.dim,be=U*this.dim+this.dim,Ae=ee*this.dim,Ke=ee*this.dim+this.dim;switch(U){case-1:ce=be-1;break;case 1:be=ce+1}switch(ee){case-1:Ae=Ke-1;break;case 1:Ke=Ae+1}for(var ht=-U*this.dim,Tt=-ee*this.dim,Et=Ae;Et<Ke;Et++)for(var jt=ce;jt<be;jt++)this.data[this._idx(jt,Et)]=_.data[this._idx(jt+ht,Et+Tt)]},va("DEMData",Hu);var Gc=function(_){this._stringToNumber={},this._numberToString=[];for(var U=0;U<_.length;U++){var ee=_[U];this._stringToNumber[ee]=U,this._numberToString[U]=ee}};Gc.prototype.encode=function(_){return this._stringToNumber[_]},Gc.prototype.decode=function(_){return this._numberToString[_]};var Wc=function(_,U,ee,ce,be){this.type="Feature",this._vectorTileFeature=_,_._z=U,_._x=ee,_._y=ce,this.properties=_.properties,this.id=be},wh={geometry:{configurable:!0}};wh.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},wh.geometry.set=function(R){this._geometry=R},Wc.prototype.toJSON=function(){var _={geometry:this.geometry};for(var U in this)"_geometry"===U||"_vectorTileFeature"===U||(_[U]=this[U]);return _},Object.defineProperties(Wc.prototype,wh);var Kf=function(){this.state={},this.stateChanges={},this.deletedStates={}};Kf.prototype.updateState=function(_,U,ee){var ce=String(U);if(this.stateChanges[_]=this.stateChanges[_]||{},this.stateChanges[_][ce]=this.stateChanges[_][ce]||{},s(this.stateChanges[_][ce],ee),null===this.deletedStates[_])for(var be in this.deletedStates[_]={},this.state[_])be!==ce&&(this.deletedStates[_][be]=null);else if(this.deletedStates[_]&&null===this.deletedStates[_][ce])for(var Ke in this.deletedStates[_][ce]={},this.state[_][ce])ee[Ke]||(this.deletedStates[_][ce][Ke]=null);else for(var ht in ee)this.deletedStates[_]&&this.deletedStates[_][ce]&&null===this.deletedStates[_][ce][ht]&&delete this.deletedStates[_][ce][ht]},Kf.prototype.removeFeatureState=function(_,U,ee){if(null!==this.deletedStates[_]){var be=String(U);if(this.deletedStates[_]=this.deletedStates[_]||{},ee&&void 0!==U)null!==this.deletedStates[_][be]&&(this.deletedStates[_][be]=this.deletedStates[_][be]||{},this.deletedStates[_][be][ee]=null);else if(void 0!==U)if(this.stateChanges[_]&&this.stateChanges[_][be])for(ee in this.deletedStates[_][be]={},this.stateChanges[_][be])this.deletedStates[_][be][ee]=null;else this.deletedStates[_][be]=null;else this.deletedStates[_]=null}},Kf.prototype.getState=function(_,U){var ee=String(U),Ae=s({},(this.state[_]||{})[ee],(this.stateChanges[_]||{})[ee]);if(null===this.deletedStates[_])return{};if(this.deletedStates[_]){var Ke=this.deletedStates[_][U];if(null===Ke)return{};for(var ht in Ke)delete Ae[ht]}return Ae},Kf.prototype.initializeTileState=function(_,U){_.setFeatureState(this.state,U)},Kf.prototype.coalesceChanges=function(_,U){var ee={};for(var ce in this.stateChanges){this.state[ce]=this.state[ce]||{};var be={};for(var Ae in this.stateChanges[ce])this.state[ce][Ae]||(this.state[ce][Ae]={}),s(this.state[ce][Ae],this.stateChanges[ce][Ae]),be[Ae]=this.state[ce][Ae];ee[ce]=be}for(var Ke in this.deletedStates){this.state[Ke]=this.state[Ke]||{};var ht={};if(null===this.deletedStates[Ke])for(var Tt in this.state[Ke])ht[Tt]={},this.state[Ke][Tt]={};else for(var Et in this.deletedStates[Ke]){if(null===this.deletedStates[Ke][Et])this.state[Ke][Et]={};else for(var fr=0,ir=Object.keys(this.deletedStates[Ke][Et]);fr<ir.length;fr+=1)delete this.state[Ke][Et][ir[fr]];ht[Et]=this.state[Ke][Et]}ee[Ke]=ee[Ke]||{},s(ee[Ke],ht)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(ee).length)for(var Wr in _)_[Wr].setFeatureState(ee,U)};var Vu=function(_,U){this.tileID=_,this.x=_.canonical.x,this.y=_.canonical.y,this.z=_.canonical.z,this.grid=new Ia(Oa,16,0),this.grid3D=new Ia(Oa,16,0),this.featureIndexArray=new nc,this.promoteId=U};function Rv(R,_,U,ee,ce){return n(R,function(be,Ae){var Ke=_ instanceof Ga?_.get(Ae):null;return Ke&&Ke.evaluate?Ke.evaluate(U,ee,ce):Ke})}function _v(R){for(var _=1/0,U=1/0,ee=-1/0,ce=-1/0,be=0,Ae=R;be<Ae.length;be+=1){var Ke=Ae[be];_=Math.min(_,Ke.x),U=Math.min(U,Ke.y),ee=Math.max(ee,Ke.x),ce=Math.max(ce,Ke.y)}return{minX:_,minY:U,maxX:ee,maxY:ce}}function M0(R,_){return _-R}Vu.prototype.insert=function(_,U,ee,ce,be,Ae){var Ke=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ee,ce,be);for(var ht=Ae?this.grid3D:this.grid,Tt=0;Tt<U.length;Tt++){for(var Et=U[Tt],jt=[1/0,1/0,-1/0,-1/0],fr=0;fr<Et.length;fr++){var ir=Et[fr];jt[0]=Math.min(jt[0],ir.x),jt[1]=Math.min(jt[1],ir.y),jt[2]=Math.max(jt[2],ir.x),jt[3]=Math.max(jt[3],ir.y)}jt[0]<Oa&&jt[1]<Oa&&jt[2]>=0&&jt[3]>=0&&ht.insert(Ke,jt[0],jt[1],jt[2],jt[3])}},Vu.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Of.VectorTile(new Ic(this.rawTileData)).layers,this.sourceLayerCoder=new Gc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Vu.prototype.query=function(_,U,ee,ce){var be=this;this.loadVTLayers();for(var Ae=_.params||{},Ke=Oa/_.tileSize/_.scale,ht=ru(Ae.filter),Tt=_.queryGeometry,Et=_.queryPadding*Ke,jt=_v(Tt),fr=this.grid.query(jt.minX-Et,jt.minY-Et,jt.maxX+Et,jt.maxY+Et),ir=_v(_.cameraQueryGeometry),Wr=0,gn=this.grid3D.query(ir.minX-Et,ir.minY-Et,ir.maxX+Et,ir.maxY+Et,function(Zn,oa,aa,Fa){return function Mu(R,_,U,ee,ce){for(var be=0,Ae=R;be<Ae.length;be+=1){var Ke=Ae[be];if(_<=Ke.x&&U<=Ke.y&&ee>=Ke.x&&ce>=Ke.y)return!0}var ht=[new t(_,U),new t(_,ce),new t(ee,ce),new t(ee,U)];if(R.length>2)for(var Tt=0,Et=ht;Tt<Et.length;Tt+=1)if(Ms(R,Et[Tt]))return!0;for(var fr=0;fr<R.length-1;fr++)if(os(R[fr],R[fr+1],ht))return!0;return!1}(_.cameraQueryGeometry,Zn-Et,oa-Et,aa+Et,Fa+Et)});Wr<gn.length;Wr+=1)fr.push(gn[Wr]);fr.sort(M0);for(var Sn,Rn={},Dn=function(Zn){var oa=fr[Zn];if(oa!==Sn){Sn=oa;var aa=be.featureIndexArray.get(oa),Fa=null;be.loadMatchingFeature(Rn,aa.bucketIndex,aa.sourceLayerIndex,aa.featureIndex,ht,Ae.layers,Ae.availableImages,U,ee,ce,function(ba,Aa,Qa){return Fa||(Fa=Xi(ba)),Aa.queryIntersectsFeature(Tt,ba,Qa,Fa,be.z,_.transform,Ke,_.pixelPosMatrix)})}},zn=0;zn<fr.length;zn++)Dn(zn);return Rn},Vu.prototype.loadMatchingFeature=function(_,U,ee,ce,be,Ae,Ke,ht,Tt,Et,jt){var fr=this.bucketLayerIDs[U];if(!Ae||function I(R,_){for(var U=0;U<R.length;U++)if(_.indexOf(R[U])>=0)return!0;return!1}(Ae,fr)){var ir=this.sourceLayerCoder.decode(ee),Wr=this.vtLayers[ir].feature(ce);if(be.filter(new Ca(this.tileID.overscaledZ),Wr))for(var gn=this.getId(Wr,ir),sn=0;sn<fr.length;sn++){var Rn=fr[sn];if(!(Ae&&Ae.indexOf(Rn)<0)){var Sn=ht[Rn];if(Sn){var Dn={};void 0!==gn&&Et&&(Dn=Et.getState(Sn.sourceLayer||"_geojsonTileLayer",gn));var zn=Tt[Rn];zn.paint=Rv(zn.paint,Sn.paint,Wr,Dn,Ke),zn.layout=Rv(zn.layout,Sn.layout,Wr,Dn,Ke);var Zn=!jt||jt(Wr,Sn,Dn);if(Zn){var oa=new Wc(Wr,this.z,this.x,this.y,gn);oa.layer=zn;var aa=_[Rn];void 0===aa&&(aa=_[Rn]=[]),aa.push({featureIndex:ce,feature:oa,intersectionZ:Zn})}}}}}},Vu.prototype.lookupSymbolFeatures=function(_,U,ee,ce,be,Ae,Ke,ht){var Tt={};this.loadVTLayers();for(var Et=ru(be),jt=0,fr=_;jt<fr.length;jt+=1)this.loadMatchingFeature(Tt,ee,ce,fr[jt],Et,Ae,Ke,ht,U);return Tt},Vu.prototype.hasLayer=function(_){for(var U=0,ee=this.bucketLayerIDs;U<ee.length;U+=1)for(var be=0,Ae=ee[U];be<Ae.length;be+=1)if(_===Ae[be])return!0;return!1},Vu.prototype.getId=function(_,U){var ee=_.id;return this.promoteId&&"boolean"==typeof(ee=_.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[U]])&&(ee=Number(ee)),ee},va("FeatureIndex",Vu,{omit:["rawTileData","sourceLayerCoder"]});var Xo=function(_,U){this.tileID=_,this.uid=x(),this.uses=0,this.tileSize=U,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Xo.prototype.registerFadeDuration=function(_){var U=_+this.timeAdded;U<ae.now()||this.fadeEndTime&&U<this.fadeEndTime||(this.fadeEndTime=U)},Xo.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Xo.prototype.loadVectorData=function(_,U,ee){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",_){for(var ce in _.featureIndex&&(this.latestFeatureIndex=_.featureIndex,_.rawTileData?(this.latestRawTileData=_.rawTileData,this.latestFeatureIndex.rawTileData=_.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=_.collisionBoxArray,this.buckets=function A0(R,_){var U={};if(!_)return U;for(var ee=function(){var Ae=be[ce],Ke=Ae.layerIds.map(function(jt){return _.getLayer(jt)}).filter(Boolean);if(0!==Ke.length){Ae.layers=Ke,Ae.stateDependentLayerIds&&(Ae.stateDependentLayers=Ae.stateDependentLayerIds.map(function(jt){return Ke.filter(function(fr){return fr.id===jt})[0]}));for(var ht=0,Tt=Ke;ht<Tt.length;ht+=1)U[Tt[ht].id]=Ae}},ce=0,be=R;ce<be.length;ce+=1)ee();return U}(_.buckets,U.style),this.hasSymbolBuckets=!1,this.buckets){var be=this.buckets[ce];if(be instanceof $i){if(this.hasSymbolBuckets=!0,!ee)break;be.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ae in this.buckets){var Ke=this.buckets[Ae];if(Ke instanceof $i&&Ke.hasRTLText){this.hasRTLText=!0,!pa.isLoading()&&!pa.isLoaded()&&"deferred"===Gn()&&da();break}}for(var ht in this.queryPadding=0,this.buckets){var Tt=this.buckets[ht];this.queryPadding=Math.max(this.queryPadding,U.style.getLayer(ht).queryRadius(Tt))}_.imageAtlas&&(this.imageAtlas=_.imageAtlas),_.glyphAtlasImage&&(this.glyphAtlasImage=_.glyphAtlasImage)}else this.collisionBoxArray=new Au},Xo.prototype.unloadVectorData=function(){for(var _ in this.buckets)this.buckets[_].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Xo.prototype.getBucket=function(_){return this.buckets[_.id]},Xo.prototype.upload=function(_){for(var U in this.buckets){var ee=this.buckets[U];ee.uploadPending()&&ee.upload(_)}var ce=_.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Mf(_,this.imageAtlas.image,ce.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Mf(_,this.glyphAtlasImage,ce.ALPHA),this.glyphAtlasImage=null)},Xo.prototype.prepare=function(_){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(_,this.imageAtlasTexture)},Xo.prototype.queryRenderedFeatures=function(_,U,ee,ce,be,Ae,Ke,ht,Tt,Et){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:ce,cameraQueryGeometry:be,scale:Ae,tileSize:this.tileSize,pixelPosMatrix:Et,transform:ht,params:Ke,queryPadding:this.queryPadding*Tt},_,U,ee):{}},Xo.prototype.querySourceFeatures=function(_,U){var ee=this.latestFeatureIndex;if(ee&&ee.rawTileData){var ce=ee.loadVTLayers(),be=U?U.sourceLayer:"",Ae=ce._geojsonTileLayer||ce[be];if(Ae)for(var Ke=ru(U&&U.filter),ht=this.tileID.canonical,Tt=ht.z,Et=ht.x,jt=ht.y,fr={z:Tt,x:Et,y:jt},ir=0;ir<Ae.length;ir++){var Lr=Ae.feature(ir);if(Ke.filter(new Ca(this.tileID.overscaledZ),Lr)){var Wr=ee.getId(Lr,be),gn=new Wc(Lr,Tt,Et,jt,Wr);gn.tile=fr,_.push(gn)}}}},Xo.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Xo.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Xo.prototype.setExpiryData=function(_){var U=this.expirationTime;if(_.cacheControl){var ee=N(_.cacheControl);ee["max-age"]&&(this.expirationTime=Date.now()+1e3*ee["max-age"])}else _.expires&&(this.expirationTime=new Date(_.expires).getTime());if(this.expirationTime){var ce=Date.now(),be=!1;if(this.expirationTime>ce)be=!1;else if(U)if(this.expirationTime<U)be=!0;else{var Ae=this.expirationTime-U;Ae?this.expirationTime=ce+Math.max(Ae,3e4):be=!0}else be=!0;be?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Xo.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Xo.prototype.setFeatureState=function(_,U){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(_).length){var ee=this.latestFeatureIndex.loadVTLayers();for(var ce in this.buckets)if(U.style.hasLayer(ce)){var be=this.buckets[ce],Ae=be.layers[0].sourceLayer||"_geojsonTileLayer",Ke=ee[Ae],ht=_[Ae];if(Ke&&ht&&0!==Object.keys(ht).length){be.update(ht,Ke,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Tt=U&&U.style&&U.style.getLayer(ce);Tt&&(this.queryPadding=Math.max(this.queryPadding,Tt.queryRadius(be)))}}}},Xo.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Xo.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ae.now()},Xo.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Xo.prototype.setHoldDuration=function(_){this.symbolFadeHoldUntil=ae.now()+_},Xo.prototype.setDependencies=function(_,U){for(var ee={},ce=0,be=U;ce<be.length;ce+=1)ee[be[ce]]=!0;this.dependencies[_]=ee},Xo.prototype.hasDependency=function(_,U){for(var ee=0,ce=_;ee<ce.length;ee+=1){var Ae=this.dependencies[ce[ee]];if(Ae)for(var Ke=0,ht=U;Ke<ht.length;Ke+=1)if(Ae[ht[Ke]])return!0}return!1};var uf=self.performance,Iv=function(_){this._marks={start:[_.url,"start"].join("#"),end:[_.url,"end"].join("#"),measure:_.url.toString()},uf.mark(this._marks.start)};Iv.prototype.finish=function(){uf.mark(this._marks.end);var _=uf.getEntriesByName(this._marks.measure);return 0===_.length&&(uf.measure(this._marks.measure,this._marks.start,this._marks.end),_=uf.getEntriesByName(this._marks.measure),uf.clearMarks(this._marks.start),uf.clearMarks(this._marks.end),uf.clearMeasures(this._marks.measure)),_},o.Actor=jf,o.AlphaImage=Af,o.CanonicalTileID=Ef,o.CollisionBoxArray=Au,o.Color=oi,o.DEMData=Hu,o.DataConstantProperty=ia,o.DictionaryCoder=Gc,o.EXTENT=Oa,o.ErrorEvent=sr,o.EvaluationParameters=Ca,o.Event=Kt,o.Evented=hr,o.FeatureIndex=Vu,o.FillBucket=lu,o.FillExtrusionBucket=uu,o.ImageAtlas=dc,o.ImagePosition=Fc,o.LineBucket=Us,o.LngLat=yo,o.LngLatBounds=No,o.MercatorCoordinate=Sf,o.ONE_EM=rs,o.OverscaledTileID=Uo,o.Point=t,o.Point$1=t,o.Properties=Bi,o.Protobuf=Ic,o.RGBAImage=Ns,o.RequestManager=Se,o.RequestPerformance=Iv,o.ResourceType=pt,o.SegmentVector=G,o.SourceFeatureState=Kf,o.StructArrayLayout1ui2=rf,o.StructArrayLayout2f1f2i16=iu,o.StructArrayLayout2i4=es,o.StructArrayLayout3ui6=ou,o.StructArrayLayout4i8=As,o.SymbolBucket=$i,o.Texture=Mf,o.Tile=Xo,o.Transitionable=fi,o.Uniform1f=jr,o.Uniform1i=qr,o.Uniform2f=nn,o.Uniform3f=wn,o.Uniform4f=_n,o.UniformColor=Un,o.UniformMatrix4f=ta,o.UnwrappedTileID=Dv,o.ValidationError=ge,o.WritingMode=vl,o.ZoomHistory=oe,o.add=function kf(R,_,U){return R[0]=_[0]+U[0],R[1]=_[1]+U[1],R[2]=_[2]+U[2],R},o.addDynamicAttributes=yh,o.asyncAll=function a(R,_,U){if(!R.length)return U(null,[]);var ee=R.length,ce=new Array(R.length),be=null;R.forEach(function(Ae,Ke){_(Ae,function(ht,Tt){ht&&(be=ht),ce[Ke]=Tt,0==--ee&&U(be,ce)})})},o.bezier=u,o.bindAll=M,o.browser=ae,o.cacheEntryPossiblyAdded=function Xt(R){++ft>Re&&(R.getActor().send("enforceCacheSizeLimit",Ee),ft=0)},o.clamp=c,o.clearTileCache=function At(R){var _=self.caches.delete(Ce);R&&_.catch(R).then(function(){return R()})},o.clipLine=vv,o.clone=function Ec(R){var _=new ts(16);return _[0]=R[0],_[1]=R[1],_[2]=R[2],_[3]=R[3],_[4]=R[4],_[5]=R[5],_[6]=R[6],_[7]=R[7],_[8]=R[8],_[9]=R[9],_[10]=R[10],_[11]=R[11],_[12]=R[12],_[13]=R[13],_[14]=R[14],_[15]=R[15],_},o.clone$1=d,o.clone$2=function Jc(R){var _=new ts(3);return _[0]=R[0],_[1]=R[1],_[2]=R[2],_},o.collisionCircleLayout=op,o.config=Q,o.create=function Rf(){var R=new ts(16);return ts!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R},o.create$1=function wf(){var R=new ts(9);return ts!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R},o.create$2=function bf(){var R=new ts(4);return ts!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R},o.createCommonjsModule=P,o.createExpression=$l,o.createLayout=gi,o.createStyleLayer=function y0(R){return"custom"===R.type?new p0(R):new g0[R.type](R)},o.cross=function zv(R,_,U){var ee=_[0],ce=_[1],be=_[2],Ae=U[0],Ke=U[1],ht=U[2];return R[0]=ce*ht-be*Ke,R[1]=be*Ae-ee*ht,R[2]=ee*Ke-ce*Ae,R},o.deepEqual=function l(R,_){if(Array.isArray(R)){if(!Array.isArray(_)||R.length!==_.length)return!1;for(var U=0;U<R.length;U++)if(!l(R[U],_[U]))return!1;return!0}if("object"==typeof R&&null!==R&&null!==_){if("object"!=typeof _)return!1;if(Object.keys(R).length!==Object.keys(_).length)return!1;for(var ce in R)if(!l(R[ce],_[ce]))return!1;return!0}return R===_},o.dot=function Fv(R,_){return R[0]*_[0]+R[1]*_[1]+R[2]*_[2]},o.dot$1=function Hv(R,_){return R[0]*_[0]+R[1]*_[1]+R[2]*_[2]+R[3]*_[3]},o.ease=f,o.emitValidationErrors=fa,o.endsWith=w,o.enforceCacheSizeLimit=function rr(R){_e(),Ne&&Ne.then(function(_){_.keys().then(function(U){for(var ee=0;ee<U.length-R;ee++)_.delete(U[ee])})})},o.evaluateSizeForFeature=ov,o.evaluateSizeForZoom=sv,o.evaluateVariableOffset=gv,o.evented=en,o.extend=s,o.featureFilter=ru,o.filterObject=S,o.fromRotation=function Df(R,_){var U=Math.sin(_),ee=Math.cos(_);return R[0]=ee,R[1]=U,R[2]=0,R[3]=-U,R[4]=ee,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R},o.getAnchorAlignment=vh,o.getAnchorJustification=gh,o.getArrayBuffer=St,o.getImage=We,o.getJSON=function(R,_){return it(s(R,{type:"json"}),_)},o.getRTLTextPluginStatus=Gn,o.getReferrer=tr,o.getVideo=function(R,_){var U=self.document.createElement("video");U.muted=!0,U.onloadstart=function(){_(null,U)};for(var ee=0;ee<R.length;ee++){var ce=self.document.createElement("source");Ct(R[ee])||(U.crossOrigin="Anonymous"),ce.src=R[ee],U.appendChild(ce)}return{cancel:function(){}}},o.identity=_f,o.invert=function af(R,_){var U=_[0],ee=_[1],ce=_[2],be=_[3],Ae=_[4],Ke=_[5],ht=_[6],Tt=_[7],Et=_[8],jt=_[9],fr=_[10],ir=_[11],Lr=_[12],Wr=_[13],gn=_[14],sn=_[15],Rn=U*Ke-ee*Ae,Sn=U*ht-ce*Ae,Dn=U*Tt-be*Ae,zn=ee*ht-ce*Ke,Zn=ee*Tt-be*Ke,oa=ce*Tt-be*ht,aa=Et*Wr-jt*Lr,Fa=Et*gn-fr*Lr,ba=Et*sn-ir*Lr,Aa=jt*gn-fr*Wr,Qa=jt*sn-ir*Wr,Da=fr*sn-ir*gn,ka=Rn*Da-Sn*Qa+Dn*Aa+zn*ba-Zn*Fa+oa*aa;return ka?(R[0]=(Ke*Da-ht*Qa+Tt*Aa)*(ka=1/ka),R[1]=(ce*Qa-ee*Da-be*Aa)*ka,R[2]=(Wr*oa-gn*Zn+sn*zn)*ka,R[3]=(fr*Zn-jt*oa-ir*zn)*ka,R[4]=(ht*ba-Ae*Da-Tt*Fa)*ka,R[5]=(U*Da-ce*ba+be*Fa)*ka,R[6]=(gn*Dn-Lr*oa-sn*Sn)*ka,R[7]=(Et*oa-fr*Dn+ir*Sn)*ka,R[8]=(Ae*Qa-Ke*ba+Tt*aa)*ka,R[9]=(ee*ba-U*Qa-be*aa)*ka,R[10]=(Lr*Zn-Wr*Dn+sn*Rn)*ka,R[11]=(jt*Dn-Et*Zn-ir*Rn)*ka,R[12]=(Ke*Fa-Ae*Aa-ht*aa)*ka,R[13]=(U*Aa-ee*Fa+ce*aa)*ka,R[14]=(Wr*Sn-Lr*zn-gn*Rn)*ka,R[15]=(Et*zn-jt*Sn+fr*Rn)*ka,R):null},o.isChar=me,o.isMapboxURL=xe,o.keysDifference=function p(R,_){var U=[];for(var ee in R)ee in _||U.push(ee);return U},o.makeRequest=it,o.mapObject=n,o.mercatorXfromLng=Cv,o.mercatorYfromLat=Lv,o.mercatorZfromAltitude=Pv,o.mul=Kc,o.multiply=of,o.mvt=Of,o.normalize=function ic(R,_){var U=_[0],ee=_[1],ce=_[2],be=U*U+ee*ee+ce*ce;return be>0&&(be=1/Math.sqrt(be)),R[0]=_[0]*be,R[1]=_[1]*be,R[2]=_[2]*be,R},o.number=to,o.offscreenCanvasSupported=Rr,o.ortho=function jc(R,_,U,ee,ce,be,Ae){var Ke=1/(_-U),ht=1/(ee-ce),Tt=1/(be-Ae);return R[0]=-2*Ke,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*ht,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*Tt,R[11]=0,R[12]=(_+U)*Ke,R[13]=(ce+ee)*ht,R[14]=(Ae+be)*Tt,R[15]=1,R},o.parseGlyphPBF=function Ip(R){return new Ic(R).readFields(Dp,[])},o.pbf=Ic,o.performSymbolLayout=function Qp(R,_,U,ee,ce,be,Ae){R.createArrays(),R.tilePixelRatio=Oa/(512*R.overscaling),R.compareText={},R.iconsNeedLinear=!1;var ht=R.layers[0].layout,Tt=R.layers[0]._unevaluatedLayout._values,Et={};if("composite"===R.textSizeData.kind){var jt=R.textSizeData,ir=jt.maxZoom;Et.compositeTextSizes=[Tt["text-size"].possiblyEvaluate(new Ca(jt.minZoom),Ae),Tt["text-size"].possiblyEvaluate(new Ca(ir),Ae)]}if("composite"===R.iconSizeData.kind){var Lr=R.iconSizeData,gn=Lr.maxZoom;Et.compositeIconSizes=[Tt["icon-size"].possiblyEvaluate(new Ca(Lr.minZoom),Ae),Tt["icon-size"].possiblyEvaluate(new Ca(gn),Ae)]}Et.layoutTextSize=Tt["text-size"].possiblyEvaluate(new Ca(R.zoom+1),Ae),Et.layoutIconSize=Tt["icon-size"].possiblyEvaluate(new Ca(R.zoom+1),Ae),Et.textMaxSize=Tt["text-size"].possiblyEvaluate(new Ca(18));for(var sn=ht.get("text-line-height")*rs,Rn="map"===ht.get("text-rotation-alignment")&&"point"!==ht.get("symbol-placement"),Sn=ht.get("text-keep-upright"),Dn=ht.get("text-size"),zn=function(){var aa=oa[Zn],Fa=ht.get("text-font").evaluate(aa,{},Ae).join(","),ba=Dn.evaluate(aa,{},Ae),Aa=Et.layoutTextSize.evaluate(aa,{},Ae),Qa=Et.layoutIconSize.evaluate(aa,{},Ae),Da={horizontal:{},vertical:void 0},ka=aa.text,ai=[0,0];if(ka){var ja=ka.toString(),Ti=ht.get("text-letter-spacing").evaluate(aa,{},Ae)*rs,qi=function Qe(R){for(var _=0,U=R;_<U.length;_+=1)if(!qe(U[_].charCodeAt(0)))return!1;return!0}(ja)?Ti:0,Ai=ht.get("text-anchor").evaluate(aa,{},Ae),Mi=ht.get("text-variable-anchor");if(!Mi){var bi=ht.get("text-radial-offset").evaluate(aa,{},Ae);ai=bi?gv(Ai,[bi*rs,ph]):ht.get("text-offset").evaluate(aa,{},Ae).map(function(Gu){return Gu*rs})}var ao=Rn?"center":ht.get("text-justify").evaluate(aa,{},Ae),fo=ht.get("symbol-placement"),Co="point"===fo?ht.get("text-max-width").evaluate(aa,{},Ae)*rs:0,_o=function(){R.allowVerticalPlacement&&Oe(ja)&&(Da.vertical=zc(ka,_,U,ce,Fa,Co,sn,Ai,"left",qi,ai,vl.vertical,!0,fo,Aa,ba))};if(!Rn&&Mi){for(var jo="auto"===ao?Mi.map(function(Gu){return gh(Gu)}):[ao],Ho=!1,ds=0;ds<jo.length;ds++){var ps=jo[ds];if(!Da.horizontal[ps])if(Ho)Da.horizontal[ps]=Da.horizontal[0];else{var Ko=zc(ka,_,U,ce,Fa,Co,sn,"center",ps,qi,ai,vl.horizontal,!1,fo,Aa,ba);Ko&&(Da.horizontal[ps]=Ko,Ho=1===Ko.positionedLines.length)}}_o()}else{"auto"===ao&&(ao=gh(Ai));var Ss=zc(ka,_,U,ce,Fa,Co,sn,Ai,ao,qi,ai,vl.horizontal,!1,fo,Aa,ba);Ss&&(Da.horizontal[ao]=Ss),_o(),Oe(ja)&&Rn&&Sn&&(Da.vertical=zc(ka,_,U,ce,Fa,Co,sn,Ai,ao,qi,ai,vl.vertical,!1,fo,Aa,ba))}}var Es=void 0,Wo=!1;if(aa.icon&&aa.icon.name){var Cs=ee[aa.icon.name];Cs&&(Es=function Hp(R,_,U){var ee=vh(U),ht=_[0]-R.displaySize[0]*ee.horizontalAlign,Et=_[1]-R.displaySize[1]*ee.verticalAlign;return{image:R,top:Et,bottom:Et+R.displaySize[1],left:ht,right:ht+R.displaySize[0]}}(ce[aa.icon.name],ht.get("icon-offset").evaluate(aa,{},Ae),ht.get("icon-anchor").evaluate(aa,{},Ae)),Wo=Cs.sdf,void 0===R.sdfIcons?R.sdfIcons=Cs.sdf:R.sdfIcons!==Cs.sdf&&B("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Cs.pixelRatio!==R.pixelRatio||0!==ht.get("icon-rotate").constantOr(1))&&(R.iconsNeedLinear=!0))}var dl=mv(Da.horizontal)||Da.vertical;R.iconsInText=!!dl&&dl.iconsInText,(dl||Es)&&function $p(R,_,U,ee,ce,be,Ae,Ke,ht,Tt,Et){var jt=be.textMaxSize.evaluate(_,{});void 0===jt&&(jt=Ae);var Da,fr=R.layers[0].layout,ir=fr.get("icon-offset").evaluate(_,{},Et),Lr=mv(U.horizontal),Wr=24,gn=Ae/Wr,sn=R.tilePixelRatio*gn,Rn=R.tilePixelRatio*jt/Wr,Sn=R.tilePixelRatio*Ke,Dn=R.tilePixelRatio*fr.get("symbol-spacing"),zn=fr.get("text-padding")*R.tilePixelRatio,Zn=fr.get("icon-padding")*R.tilePixelRatio,oa=fr.get("text-max-angle")/180*Math.PI,aa="map"===fr.get("text-rotation-alignment")&&"point"!==fr.get("symbol-placement"),Fa="map"===fr.get("icon-rotation-alignment")&&"point"!==fr.get("symbol-placement"),ba=fr.get("symbol-placement"),Aa=Dn/2,Qa=fr.get("icon-text-fit");ee&&"none"!==Qa&&(R.allowVerticalPlacement&&U.vertical&&(Da=iv(ee,U.vertical,Qa,fr.get("icon-text-fit-padding"),ir,gn)),Lr&&(ee=iv(ee,Lr,Qa,fr.get("icon-text-fit-padding"),ir,gn)));var ka=function(Jf,Yl){Yl.x<0||Yl.x>=Oa||Yl.y<0||Yl.y>=Oa||function qp(R,_,U,ee,ce,be,Ae,Ke,ht,Tt,Et,jt,fr,ir,Lr,Wr,gn,sn,Rn,Sn,Dn,zn,Zn,oa,aa){var Fa,Aa,Qa,Da,ka,ba=R.addToLineVertexArray(_,U),ai=0,ja=0,Ti=0,qi=0,Ai=-1,Mi=-1,bi={},ao=Ze(""),fo=0,Co=0;if(void 0===Ke._unevaluatedLayout.getValue("text-radial-offset")?(fo=(Fa=Ke.layout.get("text-offset").evaluate(Dn,{},oa).map(function(xc){return xc*rs}))[0],Co=Fa[1]):(fo=Ke.layout.get("text-radial-offset").evaluate(Dn,{},oa)*rs,Co=ph),R.allowVerticalPlacement&&ee.vertical){var jo=Ke.layout.get("text-rotate").evaluate(Dn,{},oa)+90;Da=new Uc(ht,_,Tt,Et,jt,ee.vertical,fr,ir,Lr,jo),Ae&&(ka=new Uc(ht,_,Tt,Et,jt,Ae,gn,sn,Lr,jo))}if(ce){var ds=Ke.layout.get("icon-rotate").evaluate(Dn,{}),ps="none"!==Ke.layout.get("icon-text-fit"),Ko=dv(ce,ds,Zn,ps),Ss=Ae?dv(Ae,ds,Zn,ps):void 0;Qa=new Uc(ht,_,Tt,Et,jt,ce,gn,sn,!1,ds),ai=4*Ko.length;var Es=R.iconSizeData,Wo=null;"source"===Es.kind?(Wo=[fu*Ke.layout.get("icon-size").evaluate(Dn,{})])[0]>lf&&B(R.layerIds[0]+': Value for "icon-size" is >= '+gc+'. Reduce your "icon-size".'):"composite"===Es.kind&&((Wo=[fu*zn.compositeIconSizes[0].evaluate(Dn,{},oa),fu*zn.compositeIconSizes[1].evaluate(Dn,{},oa)])[0]>lf||Wo[1]>lf)&&B(R.layerIds[0]+': Value for "icon-size" is >= '+gc+'. Reduce your "icon-size".'),R.addSymbols(R.icon,Ko,Wo,Sn,Rn,Dn,!1,_,ba.lineStartIndex,ba.lineLength,-1,oa),Ai=R.icon.placedSymbolArray.length-1,Ss&&(ja=4*Ss.length,R.addSymbols(R.icon,Ss,Wo,Sn,Rn,Dn,vl.vertical,_,ba.lineStartIndex,ba.lineLength,-1,oa),Mi=R.icon.placedSymbolArray.length-1)}for(var Cs in ee.horizontal){var dl=ee.horizontal[Cs];if(!Aa){ao=Ze(dl.text);var Gu=Ke.layout.get("text-rotate").evaluate(Dn,{},oa);Aa=new Uc(ht,_,Tt,Et,jt,dl,fr,ir,Lr,Gu)}var ff=1===dl.positionedLines.length;if(Ti+=yv(R,_,dl,be,Ke,Lr,Dn,Wr,ba,ee.vertical?vl.horizontal:vl.horizontalOnly,ff?Object.keys(ee.horizontal):[Cs],bi,Ai,zn,oa),ff)break}ee.vertical&&(qi+=yv(R,_,ee.vertical,be,Ke,Lr,Dn,Wr,ba,vl.vertical,["vertical"],bi,Mi,zn,oa));var cf=Aa?Aa.boxStartIndex:R.collisionBoxArray.length,hf=Aa?Aa.boxEndIndex:R.collisionBoxArray.length,Jf=Da?Da.boxStartIndex:R.collisionBoxArray.length,Yl=Da?Da.boxEndIndex:R.collisionBoxArray.length,Yc=Qa?Qa.boxStartIndex:R.collisionBoxArray.length,Th=Qa?Qa.boxEndIndex:R.collisionBoxArray.length,Zc=ka?ka.boxStartIndex:R.collisionBoxArray.length,Ah=ka?ka.boxEndIndex:R.collisionBoxArray.length,Rl=-1,Qf=function(xc,kv){return xc&&xc.circleDiameter?Math.max(xc.circleDiameter,kv):kv};Rl=Qf(Aa,Rl),Rl=Qf(Da,Rl),Rl=Qf(Qa,Rl);var Xc=(Rl=Qf(ka,Rl))>-1?1:0;Xc&&(Rl*=aa/rs),R.glyphOffsetArray.length>=$i.MAX_GLYPHS&&B("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Dn.sortKey&&R.addToSortKeyRanges(R.symbolInstances.length,Dn.sortKey),R.symbolInstances.emplaceBack(_.x,_.y,bi.right>=0?bi.right:-1,bi.center>=0?bi.center:-1,bi.left>=0?bi.left:-1,bi.vertical||-1,Ai,Mi,ao,cf,hf,Jf,Yl,Yc,Th,Zc,Ah,Tt,Ti,qi,ai,ja,Xc,0,fr,fo,Co,Rl)}(R,Yl,Jf,U,ee,ce,Da,R.layers[0],R.collisionBoxArray,_.index,_.sourceLayerIndex,R.index,sn,zn,aa,ht,Sn,Zn,Fa,ir,_,be,Tt,Et,Ae)};if("line"===ba)for(var ai=0,ja=vv(_.geometry,0,0,Oa,Oa);ai<ja.length;ai+=1)for(var Ti=ja[ai],Ai=0,Mi=Wp(Ti,Dn,oa,U.vertical||Lr,ee,Wr,Rn,R.overscaling,Oa);Ai<Mi.length;Ai+=1){var bi=Mi[Ai];(!Lr||!e0(R,Lr.text,Aa,bi))&&ka(Ti,bi)}else if("line-center"===ba)for(var fo=0,Co=_.geometry;fo<Co.length;fo+=1){var _o=Co[fo];if(_o.length>1){var jo=Gp(_o,oa,U.vertical||Lr,ee,Wr,Rn);jo&&ka(_o,jo)}}else if("Polygon"===_.type)for(var Ho=0,ds=ih(_.geometry,0);Ho<ds.length;Ho+=1){var ps=ds[Ho],Ko=Xp(ps,16);ka(ps[0],new Hf(Ko.x,Ko.y,0))}else if("LineString"===_.type)for(var Ss=0,Es=_.geometry;Ss<Es.length;Ss+=1){var Wo=Es[Ss];ka(Wo,new Hf(Wo[0].x,Wo[0].y,0))}else if("Point"===_.type)for(var Cs=0,dl=_.geometry;Cs<dl.length;Cs+=1)for(var ff=0,cf=dl[Cs];ff<cf.length;ff+=1){var hf=cf[ff];ka([hf],new Hf(hf.x,hf.y,0))}}(R,aa,Da,Es,ee,Et,Aa,Qa,ai,Wo,Ae)},Zn=0,oa=R.features;Zn<oa.length;Zn+=1)zn();be&&R.generateCollisionDebugBuffers()},o.perspective=function ac(R,_,U,ee,ce){var Ae,be=1/Math.tan(_/2);return R[0]=be/U,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=be,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,null!=ce&&ce!==1/0?(R[10]=(ce+ee)*(Ae=1/(ee-ce)),R[14]=2*ce*ee*Ae):(R[10]=-1,R[14]=-2*ee),R},o.pick=function v(R,_){for(var U={},ee=0;ee<_.length;ee++){var ce=_[ee];ce in R&&(U[ce]=R[ce])}return U},o.plugin=pa,o.polygonIntersectsPolygon=ei,o.postMapLoadEvent=Je,o.postTurnstileEvent=bt,o.potpack=$h,o.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],o.register=va,o.registerForPluginStateChange=function(R){return R({pluginStatus:Ur,pluginURL:Jr}),en.on("pluginStateChange",R),R},o.rotate=function hs(R,_,U){var ee=_[0],ce=_[1],be=_[2],Ae=_[3],Ke=Math.sin(U),ht=Math.cos(U);return R[0]=ee*ht+be*Ke,R[1]=ce*ht+Ae*Ke,R[2]=ee*-Ke+be*ht,R[3]=ce*-Ke+Ae*ht,R},o.rotateX=function Bs(R,_,U){var ee=Math.sin(U),ce=Math.cos(U),be=_[4],Ae=_[5],Ke=_[6],ht=_[7],Tt=_[8],Et=_[9],jt=_[10],fr=_[11];return _!==R&&(R[0]=_[0],R[1]=_[1],R[2]=_[2],R[3]=_[3],R[12]=_[12],R[13]=_[13],R[14]=_[14],R[15]=_[15]),R[4]=be*ce+Tt*ee,R[5]=Ae*ce+Et*ee,R[6]=Ke*ce+jt*ee,R[7]=ht*ce+fr*ee,R[8]=Tt*ce-be*ee,R[9]=Et*ce-Ae*ee,R[10]=jt*ce-Ke*ee,R[11]=fr*ce-ht*ee,R},o.rotateZ=function If(R,_,U){var ee=Math.sin(U),ce=Math.cos(U),be=_[0],Ae=_[1],Ke=_[2],ht=_[3],Tt=_[4],Et=_[5],jt=_[6],fr=_[7];return _!==R&&(R[8]=_[8],R[9]=_[9],R[10]=_[10],R[11]=_[11],R[12]=_[12],R[13]=_[13],R[14]=_[14],R[15]=_[15]),R[0]=be*ce+Tt*ee,R[1]=Ae*ce+Et*ee,R[2]=Ke*ce+jt*ee,R[3]=ht*ce+fr*ee,R[4]=Tt*ce-be*ee,R[5]=Et*ce-Ae*ee,R[6]=jt*ce-Ke*ee,R[7]=fr*ce-ht*ee,R},o.scale=function Os(R,_,U){var ee=U[0],ce=U[1],be=U[2];return R[0]=_[0]*ee,R[1]=_[1]*ee,R[2]=_[2]*ee,R[3]=_[3]*ee,R[4]=_[4]*ce,R[5]=_[5]*ce,R[6]=_[6]*ce,R[7]=_[7]*ce,R[8]=_[8]*be,R[9]=_[9]*be,R[10]=_[10]*be,R[11]=_[11]*be,R[12]=_[12],R[13]=_[13],R[14]=_[14],R[15]=_[15],R},o.scale$1=function Uv(R,_,U){return R[0]=_[0]*U,R[1]=_[1]*U,R[2]=_[2]*U,R[3]=_[3]*U,R},o.scale$2=function $c(R,_,U){return R[0]=_[0]*U,R[1]=_[1]*U,R[2]=_[2]*U,R},o.setCacheLimits=function zt(R,_){Ee=R,Re=_},o.setRTLTextPlugin=function(R,_,U){if(void 0===U&&(U=!1),Ur===dn_deferred||Ur===dn_loading||Ur===dn_loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");Jr=ae.resolveURL(R),Ur=dn_deferred,Or=_,yn(),U||da()},o.sphericalToCartesian=function O(R){var _=R[0],U=R[1],ee=R[2];return U+=90,U*=Math.PI/180,ee*=Math.PI/180,{x:_*Math.cos(U)*Math.sin(ee),y:_*Math.sin(U)*Math.sin(ee),z:_*Math.cos(ee)}},o.sqrLen=Wv,o.styleSpec=er,o.sub=Bv,o.symbolSize=Vp,o.transformMat3=function Ov(R,_,U){var ee=_[0],ce=_[1],be=_[2];return R[0]=ee*U[0]+ce*U[3]+be*U[6],R[1]=ee*U[1]+ce*U[4]+be*U[7],R[2]=ee*U[2]+ce*U[5]+be*U[8],R},o.transformMat4=Cc,o.translate=function Ro(R,_,U){var Ae,Ke,ht,Tt,Et,jt,fr,ir,Lr,Wr,gn,sn,ee=U[0],ce=U[1],be=U[2];return _===R?(R[12]=_[0]*ee+_[4]*ce+_[8]*be+_[12],R[13]=_[1]*ee+_[5]*ce+_[9]*be+_[13],R[14]=_[2]*ee+_[6]*ce+_[10]*be+_[14],R[15]=_[3]*ee+_[7]*ce+_[11]*be+_[15]):(Ke=_[1],ht=_[2],Tt=_[3],Et=_[4],jt=_[5],fr=_[6],ir=_[7],Lr=_[8],Wr=_[9],gn=_[10],sn=_[11],R[0]=Ae=_[0],R[1]=Ke,R[2]=ht,R[3]=Tt,R[4]=Et,R[5]=jt,R[6]=fr,R[7]=ir,R[8]=Lr,R[9]=Wr,R[10]=gn,R[11]=sn,R[12]=Ae*ee+Et*ce+Lr*be+_[12],R[13]=Ke*ee+jt*ce+Wr*be+_[13],R[14]=ht*ee+fr*ce+gn*be+_[14],R[15]=Tt*ee+ir*ce+sn*be+_[15]),R},o.triggerPluginCompletionEvent=pn,o.uniqueId=x,o.validateCustomStyleLayer=function d0(R){var _=[],U=R.id;return void 0===U&&_.push({message:"layers."+U+': missing required property "id"'}),void 0===R.render&&_.push({message:"layers."+U+': missing required method "render"'}),R.renderingMode&&"2d"!==R.renderingMode&&"3d"!==R.renderingMode&&_.push({message:"layers."+U+': property "renderingMode" must be either "2d" or "3d"'}),_},o.validateLight=on,o.validateStyle=rn,o.values=function b(R){var _=[];for(var U in R)_.push(R[U]);return _},o.vectorTile=Of,o.version=C,o.warnOnce=B,o.webpSupported=Z,o.window=self,o.wrap=m}),D(0,function(o){function P(dt){var it=typeof dt;if("number"===it||"boolean"===it||"string"===it||null==dt)return JSON.stringify(dt);if(Array.isArray(dt)){for(var mt="[",St=0,Lt=dt;St<Lt.length;St+=1)mt+=P(Lt[St])+",";return mt+"]"}for(var Ut=Object.keys(dt).sort(),Bt="{",qt=0;qt<Ut.length;qt++)Bt+=JSON.stringify(Ut[qt])+":"+P(dt[Ut[qt]])+",";return Bt+"}"}function C(dt){for(var it="",mt=0,St=o.refProperties;mt<St.length;mt+=1)it+="/"+P(dt[St[mt]]);return it}var y=function(it){this.keyCache={},it&&this.replace(it)};y.prototype.replace=function(it){this._layerConfigs={},this._layers={},this.update(it,[])},y.prototype.update=function(it,mt){for(var St=this,Lt=0,Ct=it;Lt<Ct.length;Lt+=1){var Ut=Ct[Lt];this._layerConfigs[Ut.id]=Ut;var Bt=this._layers[Ut.id]=o.createStyleLayer(Ut);Bt._featureFilter=o.featureFilter(Bt.filter),this.keyCache[Ut.id]&&delete this.keyCache[Ut.id]}for(var qt=0,cr=mt;qt<cr.length;qt+=1){var lr=cr[qt];delete this.keyCache[lr],delete this._layerConfigs[lr],delete this._layers[lr]}this.familiesBySource={};for(var We=0,Ve=function h(dt,it){for(var mt={},St=0;St<dt.length;St++){var Lt=it&&it[dt[St].id]||C(dt[St]);it&&(it[dt[St].id]=Lt);var Ct=mt[Lt];Ct||(Ct=mt[Lt]=[]),Ct.push(dt[St])}var Ut=[];for(var Bt in mt)Ut.push(mt[Bt]);return Ut}(o.values(this._layerConfigs),this.keyCache);We<Ve.length;We+=1){var _t=Ve[We].map(function(dr){return St._layers[dr.id]}),Kt=_t[0];if("none"!==Kt.visibility){var sr=Kt.source||"",hr=this.familiesBySource[sr];hr||(hr=this.familiesBySource[sr]={});var or=Kt.sourceLayer||"_geojsonTileLayer",Nt=hr[or];Nt||(Nt=hr[or]=[]),Nt.push(_t)}}};var r=function(it){var mt={},St=[];for(var Lt in it){var Ct=it[Lt],Ut=mt[Lt]={};for(var Bt in Ct){var qt=Ct[+Bt];if(qt&&0!==qt.bitmap.width&&0!==qt.bitmap.height){var cr={x:0,y:0,w:qt.bitmap.width+2,h:qt.bitmap.height+2};St.push(cr),Ut[Bt]={rect:cr,metrics:qt.metrics}}}}var lr=o.potpack(St),Ve=new o.AlphaImage({width:lr.w||1,height:lr.h||1});for(var Rt in it){var _t=it[Rt];for(var Kt in _t){var sr=_t[+Kt];if(sr&&0!==sr.bitmap.width&&0!==sr.bitmap.height){var hr=mt[Rt][Kt].rect;o.AlphaImage.copy(sr.bitmap,Ve,{x:0,y:0},{x:hr.x+1,y:hr.y+1},sr.bitmap)}}}this.image=Ve,this.positions=mt};o.register("GlyphAtlas",r);var l=function(it){this.tileID=new o.OverscaledTileID(it.tileID.overscaledZ,it.tileID.wrap,it.tileID.canonical.z,it.tileID.canonical.x,it.tileID.canonical.y),this.uid=it.uid,this.zoom=it.zoom,this.pixelRatio=it.pixelRatio,this.tileSize=it.tileSize,this.source=it.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=it.showCollisionBoxes,this.collectResourceTiming=!!it.collectResourceTiming,this.returnDependencies=!!it.returnDependencies,this.promoteId=it.promoteId};function i(dt,it,mt){for(var St=new o.EvaluationParameters(it),Lt=0,Ct=dt;Lt<Ct.length;Lt+=1)Ct[Lt].recalculate(St,mt)}function u(dt,it){var mt=o.getArrayBuffer(dt.request,function(St,Lt,Ct,Ut){St?it(St):Lt&&it(null,{vectorTile:new o.vectorTile.VectorTile(new o.pbf(Lt)),rawData:Lt,cacheControl:Ct,expires:Ut})});return function(){mt.cancel(),it()}}l.prototype.parse=function(it,mt,St,Lt,Ct){var Ut=this;this.status="parsing",this.data=it,this.collisionBoxArray=new o.CollisionBoxArray;var Bt=new o.DictionaryCoder(Object.keys(it.layers).sort()),qt=new o.FeatureIndex(this.tileID,this.promoteId);qt.bucketLayerIDs=[];var cr={},lr={featureIndex:qt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:St},br=mt.familiesBySource[this.source];for(var We in br){var Ve=it.layers[We];if(Ve){1===Ve.version&&o.warnOnce('Vector tile source "'+this.source+'" layer "'+We+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Rt=Bt.encode(We),_t=[],Kt=0;Kt<Ve.length;Kt++){var sr=Ve.feature(Kt),hr=qt.getId(sr,We);_t.push({feature:sr,id:hr,index:Kt,sourceLayerIndex:Rt})}for(var or=0,Nt=br[We];or<Nt.length;or+=1){var dr=Nt[or],Mr=dr[0];Mr.minzoom&&this.zoom<Math.floor(Mr.minzoom)||Mr.maxzoom&&this.zoom>=Mr.maxzoom||"none"===Mr.visibility||(i(dr,this.zoom,St),(cr[Mr.id]=Mr.createBucket({index:qt.bucketLayerIDs.length,layers:dr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Rt,sourceID:this.source})).populate(_t,lr,this.tileID.canonical),qt.bucketLayerIDs.push(dr.map(function(xr){return xr.id})))}}}var kr,tn,_r,Kr,vn=o.mapObject(lr.glyphDependencies,function(xr){return Object.keys(xr).map(Number)});Object.keys(vn).length?Lt.send("getGlyphs",{uid:this.uid,stacks:vn},function(xr,Pr){kr||(kr=xr,tn=Pr,mn.call(Ut))}):tn={};var Xr=Object.keys(lr.iconDependencies);Xr.length?Lt.send("getImages",{icons:Xr,source:this.source,tileID:this.tileID,type:"icons"},function(xr,Pr){kr||(kr=xr,_r=Pr,mn.call(Ut))}):_r={};var On=Object.keys(lr.patternDependencies);function mn(){if(kr)return Ct(kr);if(tn&&_r&&Kr){var xr=new r(tn),Pr=new o.ImageAtlas(_r,Kr);for(var Zr in cr){var Hr=cr[Zr];Hr instanceof o.SymbolBucket?(i(Hr.layers,this.zoom,St),o.performSymbolLayout(Hr,tn,xr.positions,_r,Pr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Hr.hasPattern&&(Hr instanceof o.LineBucket||Hr instanceof o.FillBucket||Hr instanceof o.FillExtrusionBucket)&&(i(Hr.layers,this.zoom,St),Hr.addFeatures(lr,this.tileID.canonical,Pr.patternPositions))}this.status="done",Ct(null,{buckets:o.values(cr).filter(function(fn){return!fn.isEmpty()}),featureIndex:qt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:xr.image,imageAtlas:Pr,glyphMap:this.returnDependencies?tn:null,iconMap:this.returnDependencies?_r:null,glyphPositions:this.returnDependencies?xr.positions:null})}}On.length?Lt.send("getImages",{icons:On,source:this.source,tileID:this.tileID,type:"patterns"},function(xr,Pr){kr||(kr=xr,Kr=Pr,mn.call(Ut))}):Kr={},mn.call(this)};var f=function(it,mt,St,Lt){this.actor=it,this.layerIndex=mt,this.availableImages=St,this.loadVectorData=Lt||u,this.loading={},this.loaded={}};f.prototype.loadTile=function(it,mt){var St=this,Lt=it.uid;this.loading||(this.loading={});var Ct=!!(it&&it.request&&it.request.collectResourceTiming)&&new o.RequestPerformance(it.request),Ut=this.loading[Lt]=new l(it);Ut.abort=this.loadVectorData(it,function(Bt,qt){if(delete St.loading[Lt],Bt||!qt)return Ut.status="done",St.loaded[Lt]=Ut,mt(Bt);var cr=qt.rawData,lr={};qt.expires&&(lr.expires=qt.expires),qt.cacheControl&&(lr.cacheControl=qt.cacheControl);var br={};if(Ct){var We=Ct.finish();We&&(br.resourceTiming=JSON.parse(JSON.stringify(We)))}Ut.vectorTile=qt.vectorTile,Ut.parse(qt.vectorTile,St.layerIndex,St.availableImages,St.actor,function(Ve,Rt){if(Ve||!Rt)return mt(Ve);mt(null,o.extend({rawTileData:cr.slice(0)},Rt,lr,br))}),St.loaded=St.loaded||{},St.loaded[Lt]=Ut})},f.prototype.reloadTile=function(it,mt){var St=this,Lt=this.loaded,Ct=it.uid,Ut=this;if(Lt&&Lt[Ct]){var Bt=Lt[Ct];Bt.showCollisionBoxes=it.showCollisionBoxes;var qt=function(cr,lr){var br=Bt.reloadCallback;br&&(delete Bt.reloadCallback,Bt.parse(Bt.vectorTile,Ut.layerIndex,St.availableImages,Ut.actor,br)),mt(cr,lr)};"parsing"===Bt.status?Bt.reloadCallback=qt:"done"===Bt.status&&(Bt.vectorTile?Bt.parse(Bt.vectorTile,this.layerIndex,this.availableImages,this.actor,qt):qt())}},f.prototype.abortTile=function(it,mt){var St=this.loading,Lt=it.uid;St&&St[Lt]&&St[Lt].abort&&(St[Lt].abort(),delete St[Lt]),mt()},f.prototype.removeTile=function(it,mt){var St=this.loaded,Lt=it.uid;St&&St[Lt]&&delete St[Lt],mt()};var c=o.window.ImageBitmap,m=function(){this.loaded={}};m.prototype.loadTile=function(it,mt){var St=it.uid,Lt=it.encoding,Ct=it.rawImageData,Ut=c&&Ct instanceof c?this.getImageData(Ct):Ct,Bt=new o.DEMData(St,Ut,Lt);this.loaded=this.loaded||{},this.loaded[St]=Bt,mt(null,Bt)},m.prototype.getImageData=function(it){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(it.width,it.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=it.width,this.offscreenCanvas.height=it.height,this.offscreenCanvasContext.drawImage(it,0,0,it.width,it.height);var mt=this.offscreenCanvasContext.getImageData(-1,-1,it.width+2,it.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new o.RGBAImage({width:mt.width,height:mt.height},mt.data)},m.prototype.removeTile=function(it){var mt=this.loaded,St=it.uid;mt&&mt[St]&&delete mt[St]};var a=function b(dt,it){var St,mt=dt&&dt.type;if("FeatureCollection"===mt)for(St=0;St<dt.features.length;St++)b(dt.features[St],it);else if("GeometryCollection"===mt)for(St=0;St<dt.geometries.length;St++)b(dt.geometries[St],it);else if("Feature"===mt)b(dt.geometry,it);else if("Polygon"===mt)p(dt.coordinates,it);else if("MultiPolygon"===mt)for(St=0;St<dt.coordinates.length;St++)p(dt.coordinates[St],it);return dt};function p(dt,it){if(0!==dt.length){s(dt[0],it);for(var mt=1;mt<dt.length;mt++)s(dt[mt],!it)}}function s(dt,it){for(var mt=0,St=0,Lt=dt.length,Ct=Lt-1;St<Lt;Ct=St++)mt+=(dt[St][0]-dt[Ct][0])*(dt[Ct][1]+dt[St][1]);mt>=0!=!!it&&dt.reverse()}var v=o.vectorTile.VectorTileFeature.prototype.toGeoJSON,A=function(it){this._feature=it,this.extent=o.EXTENT,this.type=it.type,this.properties=it.tags,"id"in it&&!isNaN(it.id)&&(this.id=parseInt(it.id,10))};A.prototype.loadGeometry=function(){if(1===this._feature.type){for(var it=[],mt=0,St=this._feature.geometry;mt<St.length;mt+=1){var Lt=St[mt];it.push([new o.Point$1(Lt[0],Lt[1])])}return it}for(var Ct=[],Ut=0,Bt=this._feature.geometry;Ut<Bt.length;Ut+=1){for(var cr=[],lr=0,br=Bt[Ut];lr<br.length;lr+=1){var We=br[lr];cr.push(new o.Point$1(We[0],We[1]))}Ct.push(cr)}return Ct},A.prototype.toGeoJSON=function(it,mt,St){return v.call(this,it,mt,St)};var x=function(it){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.EXTENT,this.length=it.length,this._features=it};x.prototype.feature=function(it){return new A(this._features[it])};var E=o.vectorTile.VectorTileFeature,g=M;function M(dt,it){this.options=it||{},this.features=dt,this.length=dt.length}function w(dt,it){this.id="number"==typeof dt.id?dt.id:void 0,this.type=dt.type,this.rawGeometry=1===dt.type?[dt.geometry]:dt.geometry,this.properties=dt.tags,this.extent=it||4096}M.prototype.feature=function(dt){return new w(this.features[dt],this.options.extent)},w.prototype.loadGeometry=function(){var dt=this.rawGeometry;this.geometry=[];for(var it=0;it<dt.length;it++){for(var mt=dt[it],St=[],Lt=0;Lt<mt.length;Lt++)St.push(new o.Point$1(mt[Lt][0],mt[Lt][1]));this.geometry.push(St)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var dt=this.geometry,it=1/0,mt=-1/0,St=1/0,Lt=-1/0,Ct=0;Ct<dt.length;Ct++)for(var Ut=dt[Ct],Bt=0;Bt<Ut.length;Bt++){var qt=Ut[Bt];it=Math.min(it,qt.x),mt=Math.max(mt,qt.x),St=Math.min(St,qt.y),Lt=Math.max(Lt,qt.y)}return[it,St,mt,Lt]},w.prototype.toGeoJSON=E.prototype.toGeoJSON;var n=L,d=function B(dt,it){it=it||{};var mt={};for(var St in dt)mt[St]=new g(dt[St].features,it),mt[St].name=St,mt[St].version=it.version,mt[St].extent=it.extent;return L({layers:mt})},I=g;function L(dt){var it=new o.pbf;return function k(dt,it){for(var mt in dt.layers)it.writeMessage(3,z,dt.layers[mt])}(dt,it),it.finish()}function z(dt,it){it.writeVarintField(15,dt.version||1),it.writeStringField(1,dt.name||""),it.writeVarintField(5,dt.extent||4096);var mt,St={keys:[],values:[],keycache:{},valuecache:{}};for(mt=0;mt<dt.length;mt++)St.feature=dt.feature(mt),it.writeMessage(2,O,St);var Lt=St.keys;for(mt=0;mt<Lt.length;mt++)it.writeStringField(3,Lt[mt]);var Ct=St.values;for(mt=0;mt<Ct.length;mt++)it.writeMessage(4,ne,Ct[mt])}function O(dt,it){var mt=dt.feature;void 0!==mt.id&&it.writeVarintField(1,mt.id),it.writeMessage(2,F,dt),it.writeVarintField(3,mt.type),it.writeMessage(4,X,mt)}function F(dt,it){var mt=dt.feature,St=dt.keys,Lt=dt.values,Ct=dt.keycache,Ut=dt.valuecache;for(var Bt in mt.properties){var qt=Ct[Bt];typeof qt>"u"&&(St.push(Bt),Ct[Bt]=qt=St.length-1),it.writeVarint(qt);var cr=mt.properties[Bt],lr=typeof cr;"string"!==lr&&"boolean"!==lr&&"number"!==lr&&(cr=JSON.stringify(cr));var br=lr+":"+cr,We=Ut[br];typeof We>"u"&&(Lt.push(cr),Ut[br]=We=Lt.length-1),it.writeVarint(We)}}function N(dt,it){return(it<<3)+(7&dt)}function H(dt){return dt<<1^dt>>31}function X(dt,it){for(var mt=dt.loadGeometry(),St=dt.type,Lt=0,Ct=0,Ut=mt.length,Bt=0;Bt<Ut;Bt++){var qt=mt[Bt],cr=1;1===St&&(cr=qt.length),it.writeVarint(N(1,cr));for(var lr=3===St?qt.length-1:qt.length,br=0;br<lr;br++){1===br&&1!==St&&it.writeVarint(N(2,lr-1));var We=qt[br].x-Lt,Ve=qt[br].y-Ct;it.writeVarint(H(We)),it.writeVarint(H(Ve)),Lt+=We,Ct+=Ve}3===St&&it.writeVarint(N(7,1))}}function ne(dt,it){var mt=typeof dt;"string"===mt?it.writeStringField(1,dt):"boolean"===mt?it.writeBooleanField(7,dt):"number"===mt&&(dt%1!=0?it.writeDoubleField(3,dt):dt<0?it.writeSVarintField(6,dt):it.writeVarintField(5,dt))}function ie(dt,it,mt,St,Lt,Ct){if(!(Lt-St<=mt)){var Ut=St+Lt>>1;ue(dt,it,Ut,St,Lt,Ct%2),ie(dt,it,mt,St,Ut-1,Ct+1),ie(dt,it,mt,Ut+1,Lt,Ct+1)}}function ue(dt,it,mt,St,Lt,Ct){for(;Lt>St;){if(Lt-St>600){var Ut=Lt-St+1,Bt=mt-St+1,qt=Math.log(Ut),cr=.5*Math.exp(2*qt/3),lr=.5*Math.sqrt(qt*cr*(Ut-cr)/Ut)*(Bt-Ut/2<0?-1:1);ue(dt,it,mt,Math.max(St,Math.floor(mt-Bt*cr/Ut+lr)),Math.min(Lt,Math.floor(mt+(Ut-Bt)*cr/Ut+lr)),Ct)}var Ve=it[2*mt+Ct],Rt=St,_t=Lt;for(J(dt,it,St,mt),it[2*Lt+Ct]>Ve&&J(dt,it,St,Lt);Rt<_t;){for(J(dt,it,Rt,_t),Rt++,_t--;it[2*Rt+Ct]<Ve;)Rt++;for(;it[2*_t+Ct]>Ve;)_t--}it[2*St+Ct]===Ve?J(dt,it,St,_t):J(dt,it,++_t,Lt),_t<=mt&&(St=_t+1),mt<=_t&&(Lt=_t-1)}}function J(dt,it,mt,St){j(dt,mt,St),j(it,2*mt,2*St),j(it,2*mt+1,2*St+1)}function j(dt,it,mt){var St=dt[it];dt[it]=dt[mt],dt[mt]=St}function K(dt,it,mt,St){var Lt=dt-mt,Ct=it-St;return Lt*Lt+Ct*Ct}n.fromVectorTileJs=L,n.fromGeojsonVt=d,n.GeoJSONWrapper=I;var ae=function(dt){return dt[0]},Q=function(dt){return dt[1]},Z=function(it,mt,St,Lt,Ct){void 0===mt&&(mt=ae),void 0===St&&(St=Q),void 0===Lt&&(Lt=64),void 0===Ct&&(Ct=Float64Array),this.nodeSize=Lt,this.points=it;for(var Ut=it.length<65536?Uint16Array:Uint32Array,Bt=this.ids=new Ut(it.length),qt=this.coords=new Ct(2*it.length),cr=0;cr<it.length;cr++)Bt[cr]=cr,qt[2*cr]=mt(it[cr]),qt[2*cr+1]=St(it[cr]);ie(Bt,qt,Lt,0,Bt.length-1,0)};Z.prototype.range=function(it,mt,St,Lt){return function W(dt,it,mt,St,Lt,Ct,Ut){for(var cr,lr,Bt=[0,dt.length-1,0],qt=[];Bt.length;){var br=Bt.pop(),We=Bt.pop(),Ve=Bt.pop();if(We-Ve<=Ut)for(var Rt=Ve;Rt<=We;Rt++)lr=it[2*Rt+1],(cr=it[2*Rt])>=mt&&cr<=Lt&&lr>=St&&lr<=Ct&&qt.push(dt[Rt]);else{var _t=Math.floor((Ve+We)/2);lr=it[2*_t+1],(cr=it[2*_t])>=mt&&cr<=Lt&&lr>=St&&lr<=Ct&&qt.push(dt[_t]);var Kt=(br+1)%2;(0===br?mt<=cr:St<=lr)&&(Bt.push(Ve),Bt.push(_t-1),Bt.push(Kt)),(0===br?Lt>=cr:Ct>=lr)&&(Bt.push(_t+1),Bt.push(We),Bt.push(Kt))}}return qt}(this.ids,this.coords,it,mt,St,Lt,this.nodeSize)},Z.prototype.within=function(it,mt,St){return function V(dt,it,mt,St,Lt,Ct){for(var Ut=[0,dt.length-1,0],Bt=[],qt=Lt*Lt;Ut.length;){var cr=Ut.pop(),lr=Ut.pop(),br=Ut.pop();if(lr-br<=Ct)for(var We=br;We<=lr;We++)K(it[2*We],it[2*We+1],mt,St)<=qt&&Bt.push(dt[We]);else{var Ve=Math.floor((br+lr)/2),Rt=it[2*Ve],_t=it[2*Ve+1];K(Rt,_t,mt,St)<=qt&&Bt.push(dt[Ve]);var Kt=(cr+1)%2;(0===cr?mt-Lt<=Rt:St-Lt<=_t)&&(Ut.push(br),Ut.push(Ve-1),Ut.push(Kt)),(0===cr?mt+Lt>=Rt:St+Lt>=_t)&&(Ut.push(Ve+1),Ut.push(lr),Ut.push(Kt))}}return Bt}(this.ids,this.coords,it,mt,St,this.nodeSize)};var re={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(dt){return dt}},q=function(it){this.options=Me(Object.create(re),it),this.trees=new Array(this.options.maxZoom+1)};function se(dt,it,mt,St,Lt){return{x:dt,y:it,zoom:1/0,id:mt,parentId:-1,numPoints:St,properties:Lt}}function de(dt,it){var mt=dt.geometry.coordinates,Lt=mt[1];return{x:Pe(mt[0]),y:Ie(Lt),zoom:1/0,index:it,parentId:-1}}function we(dt){return{type:"Feature",id:dt.id,properties:ye(dt),geometry:{type:"Point",coordinates:[Se(dt.x),xe(dt.y)]}}}function ye(dt){var it=dt.numPoints,mt=it>=1e4?Math.round(it/1e3)+"k":it>=1e3?Math.round(it/100)/10+"k":it;return Me(Me({},dt.properties),{cluster:!0,cluster_id:dt.id,point_count:it,point_count_abbreviated:mt})}function Pe(dt){return dt/360+.5}function Ie(dt){var it=Math.sin(dt*Math.PI/180),mt=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return mt<0?0:mt>1?1:mt}function Se(dt){return 360*(dt-.5)}function xe(dt){var it=(180-360*dt)*Math.PI/180;return 360*Math.atan(Math.exp(it))/Math.PI-90}function Me(dt,it){for(var mt in it)dt[mt]=it[mt];return dt}function Ge(dt){return dt.x}function Ye(dt){return dt.y}function De(dt,it,mt,St){for(var Bt,Lt=St,Ct=mt-it>>1,Ut=mt-it,qt=dt[it],cr=dt[it+1],lr=dt[mt],br=dt[mt+1],We=it+3;We<mt;We+=3){var Ve=He(dt[We],dt[We+1],qt,cr,lr,br);if(Ve>Lt)Bt=We,Lt=Ve;else if(Ve===Lt){var Rt=Math.abs(We-Ct);Rt<Ut&&(Bt=We,Ut=Rt)}}Lt>St&&(Bt-it>3&&De(dt,it,Bt,St),dt[Bt+2]=Lt,mt-Bt>3&&De(dt,Bt,mt,St))}function He(dt,it,mt,St,Lt,Ct){var Ut=Lt-mt,Bt=Ct-St;if(0!==Ut||0!==Bt){var qt=((dt-mt)*Ut+(it-St)*Bt)/(Ut*Ut+Bt*Bt);qt>1?(mt=Lt,St=Ct):qt>0&&(mt+=Ut*qt,St+=Bt*qt)}return(Ut=dt-mt)*Ut+(Bt=it-St)*Bt}function rt(dt,it,mt,St){var Lt={id:typeof dt>"u"?null:dt,type:it,geometry:mt,tags:St,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function $e(dt){var it=dt.geometry,mt=dt.type;if("Point"===mt||"MultiPoint"===mt||"LineString"===mt)Be(dt,it);else if("Polygon"===mt||"MultiLineString"===mt)for(var St=0;St<it.length;St++)Be(dt,it[St]);else if("MultiPolygon"===mt)for(St=0;St<it.length;St++)for(var Lt=0;Lt<it[St].length;Lt++)Be(dt,it[St][Lt])}(Lt),Lt}function Be(dt,it){for(var mt=0;mt<it.length;mt+=3)dt.minX=Math.min(dt.minX,it[mt]),dt.minY=Math.min(dt.minY,it[mt+1]),dt.maxX=Math.max(dt.maxX,it[mt]),dt.maxY=Math.max(dt.maxY,it[mt+1])}function tt(dt,it,mt,St){if(it.geometry){var Lt=it.geometry.coordinates,Ct=it.geometry.type,Ut=Math.pow(mt.tolerance/((1<<mt.maxZoom)*mt.extent),2),Bt=[],qt=it.id;if(mt.promoteId?qt=it.properties[mt.promoteId]:mt.generateId&&(qt=St||0),"Point"===Ct)lt(Lt,Bt);else if("MultiPoint"===Ct)for(var cr=0;cr<Lt.length;cr++)lt(Lt[cr],Bt);else if("LineString"===Ct)ut(Lt,Bt,Ut,!1);else if("MultiLineString"===Ct){if(mt.lineMetrics){for(cr=0;cr<Lt.length;cr++)ut(Lt[cr],Bt=[],Ut,!1),dt.push(rt(qt,"LineString",Bt,it.properties));return}xt(Lt,Bt,Ut,!1)}else if("Polygon"===Ct)xt(Lt,Bt,Ut,!0);else{if("MultiPolygon"!==Ct){if("GeometryCollection"===Ct){for(cr=0;cr<it.geometry.geometries.length;cr++)tt(dt,{id:qt,geometry:it.geometry.geometries[cr],properties:it.properties},mt,St);return}throw new Error("Input data is not a valid GeoJSON object.")}for(cr=0;cr<Lt.length;cr++){var lr=[];xt(Lt[cr],lr,Ut,!0),Bt.push(lr)}}dt.push(rt(qt,Ct,Bt,it.properties))}}function lt(dt,it){it.push(bt(dt[0])),it.push(Ht(dt[1])),it.push(0)}function ut(dt,it,mt,St){for(var Lt,Ct,Ut=0,Bt=0;Bt<dt.length;Bt++){var qt=bt(dt[Bt][0]),cr=Ht(dt[Bt][1]);it.push(qt),it.push(cr),it.push(0),Bt>0&&(Ut+=St?(Lt*cr-qt*Ct)/2:Math.sqrt(Math.pow(qt-Lt,2)+Math.pow(cr-Ct,2))),Lt=qt,Ct=cr}var lr=it.length-3;it[2]=1,De(it,0,lr,mt),it[lr+2]=1,it.size=Math.abs(Ut),it.start=0,it.end=it.size}function xt(dt,it,mt,St){for(var Lt=0;Lt<dt.length;Lt++){var Ct=[];ut(dt[Lt],Ct,mt,St),it.push(Ct)}}function bt(dt){return dt/360+.5}function Ht(dt){var it=Math.sin(dt*Math.PI/180),mt=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return mt<0?0:mt>1?1:mt}function Je(dt,it,mt,St,Lt,Ct,Ut,Bt){if(St/=it,Ct>=(mt/=it)&&Ut<St)return dt;if(Ut<mt||Ct>=St)return null;for(var qt=[],cr=0;cr<dt.length;cr++){var lr=dt[cr],br=lr.geometry,We=lr.type,Ve=0===Lt?lr.minX:lr.minY,Rt=0===Lt?lr.maxX:lr.maxY;if(Ve>=mt&&Rt<St)qt.push(lr);else if(!(Rt<mt||Ve>=St)){var _t=[];if("Point"===We||"MultiPoint"===We)Ce(br,_t,mt,St,Lt);else if("LineString"===We)Ee(br,_t,mt,St,Lt,!1,Bt.lineMetrics);else if("MultiLineString"===We)ke(br,_t,mt,St,Lt,!1);else if("Polygon"===We)ke(br,_t,mt,St,Lt,!0);else if("MultiPolygon"===We)for(var Kt=0;Kt<br.length;Kt++){var sr=[];ke(br[Kt],sr,mt,St,Lt,!0),sr.length&&_t.push(sr)}if(_t.length){if(Bt.lineMetrics&&"LineString"===We){for(Kt=0;Kt<_t.length;Kt++)qt.push(rt(lr.id,We,_t[Kt],lr.tags));continue}("LineString"===We||"MultiLineString"===We)&&(1===_t.length?(We="LineString",_t=_t[0]):We="MultiLineString"),("Point"===We||"MultiPoint"===We)&&(We=3===_t.length?"Point":"MultiPoint"),qt.push(rt(lr.id,We,_t,lr.tags))}}}return qt.length?qt:null}function Ce(dt,it,mt,St,Lt){for(var Ct=0;Ct<dt.length;Ct+=3){var Ut=dt[Ct+Lt];Ut>=mt&&Ut<=St&&(it.push(dt[Ct]),it.push(dt[Ct+1]),it.push(dt[Ct+2]))}}function Ee(dt,it,mt,St,Lt,Ct,Ut){for(var lr,br,Bt=Re(dt),qt=0===Lt?_e:Te,cr=dt.start,We=0;We<dt.length-3;We+=3){var Ve=dt[We],Rt=dt[We+1],_t=dt[We+2],Kt=dt[We+3],sr=dt[We+4],hr=0===Lt?Ve:Rt,or=0===Lt?Kt:sr,Nt=!1;Ut&&(lr=Math.sqrt(Math.pow(Ve-Kt,2)+Math.pow(Rt-sr,2))),hr<mt?or>mt&&(br=qt(Bt,Ve,Rt,Kt,sr,mt),Ut&&(Bt.start=cr+lr*br)):hr>St?or<St&&(br=qt(Bt,Ve,Rt,Kt,sr,St),Ut&&(Bt.start=cr+lr*br)):Ne(Bt,Ve,Rt,_t),or<mt&&hr>=mt&&(br=qt(Bt,Ve,Rt,Kt,sr,mt),Nt=!0),or>St&&hr<=St&&(br=qt(Bt,Ve,Rt,Kt,sr,St),Nt=!0),!Ct&&Nt&&(Ut&&(Bt.end=cr+lr*br),it.push(Bt),Bt=Re(dt)),Ut&&(cr+=lr)}var dr=dt.length-3;Ve=dt[dr],Rt=dt[dr+1],_t=dt[dr+2],(hr=0===Lt?Ve:Rt)>=mt&&hr<=St&&Ne(Bt,Ve,Rt,_t),dr=Bt.length-3,Ct&&dr>=3&&(Bt[dr]!==Bt[0]||Bt[dr+1]!==Bt[1])&&Ne(Bt,Bt[0],Bt[1],Bt[2]),Bt.length&&it.push(Bt)}function Re(dt){var it=[];return it.size=dt.size,it.start=dt.start,it.end=dt.end,it}function ke(dt,it,mt,St,Lt,Ct){for(var Ut=0;Ut<dt.length;Ut++)Ee(dt[Ut],it,mt,St,Lt,Ct,!1)}function Ne(dt,it,mt,St){dt.push(it),dt.push(mt),dt.push(St)}function _e(dt,it,mt,St,Lt,Ct){var Ut=(Ct-it)/(St-it);return dt.push(Ct),dt.push(mt+(Lt-mt)*Ut),dt.push(1),Ut}function Te(dt,it,mt,St,Lt,Ct){var Ut=(Ct-mt)/(Lt-mt);return dt.push(it+(St-it)*Ut),dt.push(Ct),dt.push(1),Ut}function pe(dt,it){for(var mt=[],St=0;St<dt.length;St++){var Ut,Lt=dt[St],Ct=Lt.type;if("Point"===Ct||"MultiPoint"===Ct||"LineString"===Ct)Ut=Fe(Lt.geometry,it);else if("MultiLineString"===Ct||"Polygon"===Ct){Ut=[];for(var Bt=0;Bt<Lt.geometry.length;Bt++)Ut.push(Fe(Lt.geometry[Bt],it))}else if("MultiPolygon"===Ct)for(Ut=[],Bt=0;Bt<Lt.geometry.length;Bt++){for(var qt=[],cr=0;cr<Lt.geometry[Bt].length;cr++)qt.push(Fe(Lt.geometry[Bt][cr],it));Ut.push(qt)}mt.push(rt(Lt.id,Ct,Ut,Lt.tags))}return mt}function Fe(dt,it){var mt=[];mt.size=dt.size,void 0!==dt.start&&(mt.start=dt.start,mt.end=dt.end);for(var St=0;St<dt.length;St+=3)mt.push(dt[St]+it,dt[St+1],dt[St+2]);return mt}function Xe(dt,it){if(dt.transformed)return dt;var Ct,Ut,Bt,mt=1<<dt.z,St=dt.x,Lt=dt.y;for(Ct=0;Ct<dt.features.length;Ct++){var qt=dt.features[Ct],cr=qt.geometry,lr=qt.type;if(qt.geometry=[],1===lr)for(Ut=0;Ut<cr.length;Ut+=2)qt.geometry.push(at(cr[Ut],cr[Ut+1],it,mt,St,Lt));else for(Ut=0;Ut<cr.length;Ut++){var br=[];for(Bt=0;Bt<cr[Ut].length;Bt+=2)br.push(at(cr[Ut][Bt],cr[Ut][Bt+1],it,mt,St,Lt));qt.geometry.push(br)}}return dt.transformed=!0,dt}function at(dt,it,mt,St,Lt,Ct){return[Math.round(mt*(dt*St-Lt)),Math.round(mt*(it*St-Ct))]}function ft(dt,it,mt,St,Lt){for(var Ct=it===Lt.maxZoom?0:Lt.tolerance/((1<<it)*Lt.extent),Ut={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:mt,y:St,z:it,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Bt=0;Bt<dt.length;Bt++){Ut.numFeatures++,Xt(Ut,dt[Bt],Ct,Lt);var qt=dt[Bt].minX,cr=dt[Bt].minY,lr=dt[Bt].maxX,br=dt[Bt].maxY;qt<Ut.minX&&(Ut.minX=qt),cr<Ut.minY&&(Ut.minY=cr),lr>Ut.maxX&&(Ut.maxX=lr),br>Ut.maxY&&(Ut.maxY=br)}return Ut}function Xt(dt,it,mt,St){var Lt=it.geometry,Ct=it.type,Ut=[];if("Point"===Ct||"MultiPoint"===Ct)for(var Bt=0;Bt<Lt.length;Bt+=3)Ut.push(Lt[Bt]),Ut.push(Lt[Bt+1]),dt.numPoints++,dt.numSimplified++;else if("LineString"===Ct)rr(Ut,Lt,dt,mt,!1,!1);else if("MultiLineString"===Ct||"Polygon"===Ct)for(Bt=0;Bt<Lt.length;Bt++)rr(Ut,Lt[Bt],dt,mt,"Polygon"===Ct,0===Bt);else if("MultiPolygon"===Ct)for(var qt=0;qt<Lt.length;qt++){var cr=Lt[qt];for(Bt=0;Bt<cr.length;Bt++)rr(Ut,cr[Bt],dt,mt,!0,0===Bt)}if(Ut.length){var lr=it.tags||null;if("LineString"===Ct&&St.lineMetrics){for(var br in lr={},it.tags)lr[br]=it.tags[br];lr.mapbox_clip_start=Lt.start/Lt.size,lr.mapbox_clip_end=Lt.end/Lt.size}var We={geometry:Ut,type:"Polygon"===Ct||"MultiPolygon"===Ct?3:"LineString"===Ct||"MultiLineString"===Ct?2:1,tags:lr};null!==it.id&&(We.id=it.id),dt.features.push(We)}}function rr(dt,it,mt,St,Lt,Ct){var Ut=St*St;if(St>0&&it.size<(Lt?Ut:St))mt.numPoints+=it.length/3;else{for(var Bt=[],qt=0;qt<it.length;qt+=3)(0===St||it[qt+2]>Ut)&&(mt.numSimplified++,Bt.push(it[qt]),Bt.push(it[qt+1])),mt.numPoints++;Lt&&function At(dt,it){for(var mt=0,St=0,Lt=dt.length,Ct=Lt-2;St<Lt;Ct=St,St+=2)mt+=(dt[St]-dt[Ct])*(dt[St+1]+dt[Ct+1]);if(mt>0===it)for(St=0,Lt=dt.length;St<Lt/2;St+=2){var Ut=dt[St],Bt=dt[St+1];dt[St]=dt[Lt-2-St],dt[St+1]=dt[Lt-1-St],dt[Lt-2-St]=Ut,dt[Lt-1-St]=Bt}}(Bt,Ct),dt.push(Bt)}}function Qt(dt,it){var mt=(it=this.options=function pt(dt,it){for(var mt in it)dt[mt]=it[mt];return dt}(Object.create(this.options),it)).debug;if(mt&&console.time("preprocess data"),it.maxZoom<0||it.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(it.promoteId&&it.generateId)throw new Error("promoteId and generateId cannot be used together.");var St=function ze(dt,it){var mt=[];if("FeatureCollection"===dt.type)for(var St=0;St<dt.features.length;St++)tt(mt,dt.features[St],it,St);else tt(mt,"Feature"===dt.type?dt:{geometry:dt},it);return mt}(dt,it);this.tiles={},this.tileCoords=[],mt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",it.indexMaxZoom,it.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(St=function fe(dt,it){var mt=it.buffer/it.extent,St=dt,Lt=Je(dt,1,-1-mt,mt,0,-1,2,it),Ct=Je(dt,1,1-mt,2+mt,0,-1,2,it);return(Lt||Ct)&&(St=Je(dt,1,-mt,1+mt,0,-1,2,it)||[],Lt&&(St=pe(Lt,1).concat(St)),Ct&&(St=St.concat(pe(Ct,-1)))),St}(St,it)).length&&this.splitTile(St,0,0,0),mt&&(St.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Rr(dt,it,mt){return 32*((1<<dt)*mt+it)+dt}function $t(dt,it){var mt=dt.tileID.canonical;if(!this._geoJSONIndex)return it(null,null);var St=this._geoJSONIndex.getTile(mt.z,mt.x,mt.y);if(!St)return it(null,null);var Lt=new x(St.features),Ct=n(Lt);(0!==Ct.byteOffset||Ct.byteLength!==Ct.buffer.byteLength)&&(Ct=new Uint8Array(Ct)),it(null,{vectorTile:Lt,rawData:Ct.buffer})}q.prototype.load=function(it){var mt=this.options,St=mt.log,Lt=mt.minZoom,Ct=mt.maxZoom,Ut=mt.nodeSize;St&&console.time("total time");var Bt="prepare "+it.length+" points";St&&console.time(Bt),this.points=it;for(var qt=[],cr=0;cr<it.length;cr++)it[cr].geometry&&qt.push(de(it[cr],cr));this.trees[Ct+1]=new Z(qt,Ge,Ye,Ut,Float32Array),St&&console.timeEnd(Bt);for(var lr=Ct;lr>=Lt;lr--){var br=+Date.now();qt=this._cluster(qt,lr),this.trees[lr]=new Z(qt,Ge,Ye,Ut,Float32Array),St&&console.log("z%d: %d clusters in %dms",lr,qt.length,+Date.now()-br)}return St&&console.timeEnd("total time"),this},q.prototype.getClusters=function(it,mt){var St=((it[0]+180)%360+360)%360-180,Lt=Math.max(-90,Math.min(90,it[1])),Ct=180===it[2]?180:((it[2]+180)%360+360)%360-180,Ut=Math.max(-90,Math.min(90,it[3]));if(it[2]-it[0]>=360)St=-180,Ct=180;else if(St>Ct){var Bt=this.getClusters([St,Lt,180,Ut],mt),qt=this.getClusters([-180,Lt,Ct,Ut],mt);return Bt.concat(qt)}for(var cr=this.trees[this._limitZoom(mt)],br=[],We=0,Ve=cr.range(Pe(St),Ie(Ut),Pe(Ct),Ie(Lt));We<Ve.length;We+=1){var _t=cr.points[Ve[We]];br.push(_t.numPoints?we(_t):this.points[_t.index])}return br},q.prototype.getChildren=function(it){var mt=this._getOriginId(it),St=this._getOriginZoom(it),Lt="No cluster with the specified id.",Ct=this.trees[St];if(!Ct)throw new Error(Lt);var Ut=Ct.points[mt];if(!Ut)throw new Error(Lt);for(var Bt=this.options.radius/(this.options.extent*Math.pow(2,St-1)),cr=[],lr=0,br=Ct.within(Ut.x,Ut.y,Bt);lr<br.length;lr+=1){var Ve=Ct.points[br[lr]];Ve.parentId===it&&cr.push(Ve.numPoints?we(Ve):this.points[Ve.index])}if(0===cr.length)throw new Error(Lt);return cr},q.prototype.getLeaves=function(it,mt,St){var Lt=[];return this._appendLeaves(Lt,it,mt=mt||10,St=St||0,0),Lt},q.prototype.getTile=function(it,mt,St){var Lt=this.trees[this._limitZoom(it)],Ct=Math.pow(2,it),Ut=this.options,cr=Ut.radius/Ut.extent,lr=(St-cr)/Ct,br=(St+1+cr)/Ct,We={features:[]};return this._addTileFeatures(Lt.range((mt-cr)/Ct,lr,(mt+1+cr)/Ct,br),Lt.points,mt,St,Ct,We),0===mt&&this._addTileFeatures(Lt.range(1-cr/Ct,lr,1,br),Lt.points,Ct,St,Ct,We),mt===Ct-1&&this._addTileFeatures(Lt.range(0,lr,cr/Ct,br),Lt.points,-1,St,Ct,We),We.features.length?We:null},q.prototype.getClusterExpansionZoom=function(it){for(var mt=this._getOriginZoom(it)-1;mt<=this.options.maxZoom;){var St=this.getChildren(it);if(mt++,1!==St.length)break;it=St[0].properties.cluster_id}return mt},q.prototype._appendLeaves=function(it,mt,St,Lt,Ct){for(var Bt=0,qt=this.getChildren(mt);Bt<qt.length;Bt+=1){var cr=qt[Bt],lr=cr.properties;if(lr&&lr.cluster?Ct+lr.point_count<=Lt?Ct+=lr.point_count:Ct=this._appendLeaves(it,lr.cluster_id,St,Lt,Ct):Ct<Lt?Ct++:it.push(cr),it.length===St)break}return Ct},q.prototype._addTileFeatures=function(it,mt,St,Lt,Ct,Ut){for(var Bt=0,qt=it;Bt<qt.length;Bt+=1){var lr=mt[qt[Bt]],br=lr.numPoints,We={type:1,geometry:[[Math.round(this.options.extent*(lr.x*Ct-St)),Math.round(this.options.extent*(lr.y*Ct-Lt))]],tags:br?ye(lr):this.points[lr.index].properties},Ve=void 0;br?Ve=lr.id:this.options.generateId?Ve=lr.index:this.points[lr.index].id&&(Ve=this.points[lr.index].id),void 0!==Ve&&(We.id=Ve),Ut.features.push(We)}},q.prototype._limitZoom=function(it){return Math.max(this.options.minZoom,Math.min(it,this.options.maxZoom+1))},q.prototype._cluster=function(it,mt){for(var St=[],Lt=this.options,Bt=Lt.reduce,qt=Lt.radius/(Lt.extent*Math.pow(2,mt)),cr=0;cr<it.length;cr++){var lr=it[cr];if(!(lr.zoom<=mt)){lr.zoom=mt;for(var br=this.trees[mt+1],We=br.within(lr.x,lr.y,qt),Ve=lr.numPoints||1,Rt=lr.x*Ve,_t=lr.y*Ve,Kt=Bt&&Ve>1?this._map(lr,!0):null,sr=(cr<<5)+(mt+1)+this.points.length,hr=0,or=We;hr<or.length;hr+=1){var dr=br.points[or[hr]];if(!(dr.zoom<=mt)){dr.zoom=mt;var Mr=dr.numPoints||1;Rt+=dr.x*Mr,_t+=dr.y*Mr,Ve+=Mr,dr.parentId=sr,Bt&&(Kt||(Kt=this._map(lr,!0)),Bt(Kt,this._map(dr)))}}1===Ve?St.push(lr):(lr.parentId=sr,St.push(se(Rt/Ve,_t/Ve,sr,Ve,Kt)))}}return St},q.prototype._getOriginId=function(it){return it-this.points.length>>5},q.prototype._getOriginZoom=function(it){return(it-this.points.length)%32},q.prototype._map=function(it,mt){if(it.numPoints)return mt?Me({},it.properties):it.properties;var St=this.points[it.index].properties,Lt=this.options.map(St);return mt&&Lt===St?Me({},Lt):Lt},Qt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Qt.prototype.splitTile=function(dt,it,mt,St,Lt,Ct,Ut){for(var Bt=[dt,it,mt,St],qt=this.options,cr=qt.debug;Bt.length;){St=Bt.pop(),mt=Bt.pop(),it=Bt.pop(),dt=Bt.pop();var lr=1<<it,br=Rr(it,mt,St),We=this.tiles[br];if(!We&&(cr>1&&console.time("creation"),We=this.tiles[br]=ft(dt,it,mt,St,qt),this.tileCoords.push({z:it,x:mt,y:St}),cr)){cr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",it,mt,St,We.numFeatures,We.numPoints,We.numSimplified),console.timeEnd("creation"));var Ve="z"+it;this.stats[Ve]=(this.stats[Ve]||0)+1,this.total++}if(We.source=dt,Lt){if(it===qt.maxZoom||it===Lt)continue;var Rt=1<<Lt-it;if(mt!==Math.floor(Ct/Rt)||St!==Math.floor(Ut/Rt))continue}else if(it===qt.indexMaxZoom||We.numPoints<=qt.indexMaxPoints)continue;if(We.source=null,0!==dt.length){cr>1&&console.time("clipping");var or,Nt,dr,Mr,wr,kr,_t=.5*qt.buffer/qt.extent,Kt=.5-_t,sr=.5+_t,hr=1+_t;or=Nt=dr=Mr=null,wr=Je(dt,lr,mt-_t,mt+sr,0,We.minX,We.maxX,qt),kr=Je(dt,lr,mt+Kt,mt+hr,0,We.minX,We.maxX,qt),dt=null,wr&&(or=Je(wr,lr,St-_t,St+sr,1,We.minY,We.maxY,qt),Nt=Je(wr,lr,St+Kt,St+hr,1,We.minY,We.maxY,qt),wr=null),kr&&(dr=Je(kr,lr,St-_t,St+sr,1,We.minY,We.maxY,qt),Mr=Je(kr,lr,St+Kt,St+hr,1,We.minY,We.maxY,qt),kr=null),cr>1&&console.timeEnd("clipping"),Bt.push(or||[],it+1,2*mt,2*St),Bt.push(Nt||[],it+1,2*mt,2*St+1),Bt.push(dr||[],it+1,2*mt+1,2*St),Bt.push(Mr||[],it+1,2*mt+1,2*St+1)}}},Qt.prototype.getTile=function(dt,it,mt){var St=this.options,Lt=St.extent,Ct=St.debug;if(dt<0||dt>24)return null;var Ut=1<<dt,Bt=Rr(dt,it=(it%Ut+Ut)%Ut,mt);if(this.tiles[Bt])return Xe(this.tiles[Bt],Lt);Ct>1&&console.log("drilling down to z%d-%d-%d",dt,it,mt);for(var br,qt=dt,cr=it,lr=mt;!br&&qt>0;)qt--,cr=Math.floor(cr/2),lr=Math.floor(lr/2),br=this.tiles[Rr(qt,cr,lr)];return br&&br.source?(Ct>1&&console.log("found parent tile z%d-%d-%d",qt,cr,lr),Ct>1&&console.time("drilling down"),this.splitTile(br.source,qt,cr,lr,dt,it,mt),Ct>1&&console.timeEnd("drilling down"),this.tiles[Bt]?Xe(this.tiles[Bt],Lt):null):null};var tr=function(dt){function it(mt,St,Lt,Ct){dt.call(this,mt,St,Lt,$t),Ct&&(this.loadGeoJSON=Ct)}return dt&&(it.__proto__=dt),(it.prototype=Object.create(dt&&dt.prototype)).constructor=it,it.prototype.loadData=function(St,Lt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Lt,this._pendingLoadDataParams=St,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},it.prototype._loadData=function(){var St=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Lt=this._pendingCallback,Ct=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ut=!!(Ct&&Ct.request&&Ct.request.collectResourceTiming)&&new o.RequestPerformance(Ct.request);this.loadGeoJSON(Ct,function(Bt,qt){if(Bt||!qt)return Lt(Bt);if("object"!=typeof qt)return Lt(new Error("Input data given to '"+Ct.source+"' is not a valid GeoJSON object."));a(qt,!0);try{St._geoJSONIndex=Ct.cluster?new q(function Er(dt){var it=dt.superclusterOptions,mt=dt.clusterProperties;if(!mt||!it)return it;for(var St={},Lt={},Ct={accumulated:null,zoom:0},Ut={properties:null},Bt=Object.keys(mt),qt=0,cr=Bt;qt<cr.length;qt+=1){var lr=cr[qt],br=mt[lr],We=br[0],Rt=o.createExpression(br[1]),_t=o.createExpression("string"==typeof We?[We,["accumulated"],["get",lr]]:We);St[lr]=Rt.value,Lt[lr]=_t.value}return it.map=function(Kt){Ut.properties=Kt;for(var sr={},hr=0,or=Bt;hr<or.length;hr+=1){var Nt=or[hr];sr[Nt]=St[Nt].evaluate(Ct,Ut)}return sr},it.reduce=function(Kt,sr){Ut.properties=sr;for(var hr=0,or=Bt;hr<or.length;hr+=1){var Nt=or[hr];Ct.accumulated=Kt[Nt],Kt[Nt]=Lt[Nt].evaluate(Ct,Ut)}},it}(Ct)).load(qt.features):function zt(dt,it){return new Qt(dt,it)}(qt,Ct.geojsonVtOptions)}catch(br){return Lt(br)}St.loaded={};var cr={};if(Ut){var lr=Ut.finish();lr&&(cr.resourceTiming={},cr.resourceTiming[Ct.source]=JSON.parse(JSON.stringify(lr)))}Lt(null,cr)})}},it.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},it.prototype.reloadTile=function(St,Lt){var Ct=this.loaded;return Ct&&Ct[St.uid]?dt.prototype.reloadTile.call(this,St,Lt):this.loadTile(St,Lt)},it.prototype.loadGeoJSON=function(St,Lt){if(St.request)o.getJSON(St.request,Lt);else{if("string"!=typeof St.data)return Lt(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."));try{return Lt(null,JSON.parse(St.data))}catch{return Lt(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."))}}},it.prototype.removeSource=function(St,Lt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Lt()},it.prototype.getClusterExpansionZoom=function(St,Lt){try{Lt(null,this._geoJSONIndex.getClusterExpansionZoom(St.clusterId))}catch(Ct){Lt(Ct)}},it.prototype.getClusterChildren=function(St,Lt){try{Lt(null,this._geoJSONIndex.getChildren(St.clusterId))}catch(Ct){Lt(Ct)}},it.prototype.getClusterLeaves=function(St,Lt){try{Lt(null,this._geoJSONIndex.getLeaves(St.clusterId,St.limit,St.offset))}catch(Ct){Lt(Ct)}},it}(f);var pr=function(it){var mt=this;this.self=it,this.actor=new o.Actor(it,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:f,geojson:tr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(St,Lt){if(mt.workerSourceTypes[St])throw new Error('Worker source with name "'+St+'" already registered.');mt.workerSourceTypes[St]=Lt},this.self.registerRTLTextPlugin=function(St){if(o.plugin.isParsed())throw new Error("RTL text plugin already registered.");o.plugin.applyArabicShaping=St.applyArabicShaping,o.plugin.processBidirectionalText=St.processBidirectionalText,o.plugin.processStyledBidirectionalText=St.processStyledBidirectionalText}};return pr.prototype.setReferrer=function(it,mt){this.referrer=mt},pr.prototype.setImages=function(it,mt,St){for(var Lt in this.availableImages[it]=mt,this.workerSources[it]){var Ct=this.workerSources[it][Lt];for(var Ut in Ct)Ct[Ut].availableImages=mt}St()},pr.prototype.setLayers=function(it,mt,St){this.getLayerIndex(it).replace(mt),St()},pr.prototype.updateLayers=function(it,mt,St){this.getLayerIndex(it).update(mt.layers,mt.removedIds),St()},pr.prototype.loadTile=function(it,mt,St){this.getWorkerSource(it,mt.type,mt.source).loadTile(mt,St)},pr.prototype.loadDEMTile=function(it,mt,St){this.getDEMWorkerSource(it,mt.source).loadTile(mt,St)},pr.prototype.reloadTile=function(it,mt,St){this.getWorkerSource(it,mt.type,mt.source).reloadTile(mt,St)},pr.prototype.abortTile=function(it,mt,St){this.getWorkerSource(it,mt.type,mt.source).abortTile(mt,St)},pr.prototype.removeTile=function(it,mt,St){this.getWorkerSource(it,mt.type,mt.source).removeTile(mt,St)},pr.prototype.removeDEMTile=function(it,mt){this.getDEMWorkerSource(it,mt.source).removeTile(mt)},pr.prototype.removeSource=function(it,mt,St){if(this.workerSources[it]&&this.workerSources[it][mt.type]&&this.workerSources[it][mt.type][mt.source]){var Lt=this.workerSources[it][mt.type][mt.source];delete this.workerSources[it][mt.type][mt.source],void 0!==Lt.removeSource?Lt.removeSource(mt,St):St()}},pr.prototype.loadWorkerSource=function(it,mt,St){try{this.self.importScripts(mt.url),St()}catch(Lt){St(Lt.toString())}},pr.prototype.syncRTLPluginState=function(it,mt,St){try{o.plugin.setState(mt);var Lt=o.plugin.getPluginURL();if(o.plugin.isLoaded()&&!o.plugin.isParsed()&&null!=Lt){this.self.importScripts(Lt);var Ct=o.plugin.isParsed();St(Ct?void 0:new Error("RTL Text Plugin failed to import scripts from "+Lt),Ct)}}catch(Bt){St(Bt.toString())}},pr.prototype.getAvailableImages=function(it){var mt=this.availableImages[it];return mt||(mt=[]),mt},pr.prototype.getLayerIndex=function(it){var mt=this.layerIndexes[it];return mt||(mt=this.layerIndexes[it]=new y),mt},pr.prototype.getWorkerSource=function(it,mt,St){var Lt=this;return this.workerSources[it]||(this.workerSources[it]={}),this.workerSources[it][mt]||(this.workerSources[it][mt]={}),this.workerSources[it][mt][St]||(this.workerSources[it][mt][St]=new this.workerSourceTypes[mt]({send:function(Ut,Bt,qt){Lt.actor.send(Ut,Bt,qt,it)}},this.getLayerIndex(it),this.getAvailableImages(it))),this.workerSources[it][mt][St]},pr.prototype.getDEMWorkerSource=function(it,mt){return this.demWorkerSources[it]||(this.demWorkerSources[it]={}),this.demWorkerSources[it][mt]||(this.demWorkerSources[it][mt]=new m),this.demWorkerSources[it][mt]},pr.prototype.enforceCacheSizeLimit=function(it,mt){o.enforceCacheSizeLimit(mt)},typeof WorkerGlobalScope<"u"&&typeof o.window<"u"&&o.window instanceof WorkerGlobalScope&&(o.window.worker=new pr(o.window)),pr}),D(0,function(o){var P=o.createCommonjsModule(function(le){function G(jr){return!he(jr)}function he(jr){return function $(){return typeof window<"u"&&typeof document<"u"}()?function ve(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}()?function Le(){return Function.prototype&&Function.prototype.bind}()?function Ze(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}()?function st(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}()?function wt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var wn,_n,jr=new Blob([""],{type:"text/javascript"}),nn=URL.createObjectURL(jr);try{_n=new Worker(nn),wn=!0}catch{wn=!1}return _n&&_n.terminate(),URL.revokeObjectURL(nn),wn}()?function Wt(){return"Uint8ClampedArray"in window}()?function nr(){return ArrayBuffer.isView}()?function yr(){var jr=document.createElement("canvas");jr.width=jr.height=1;var nn=jr.getContext("2d");if(!nn)return!1;var wn=nn.getImageData(0,0,1,1);return wn&&wn.width===jr.width}()?function Br(jr){return void 0===Cr[jr]&&(Cr[jr]=function qr(jr){var nn=function $r(jr){var nn=document.createElement("canvas"),wn=Object.create(G.webGLContextAttributes);return wn.failIfMajorPerformanceCaveat=jr,nn.probablySupportsContext?nn.probablySupportsContext("webgl",wn)||nn.probablySupportsContext("experimental-webgl",wn):nn.supportsContext?nn.supportsContext("webgl",wn)||nn.supportsContext("experimental-webgl",wn):nn.getContext("webgl",wn)||nn.getContext("experimental-webgl",wn)}(jr);if(!nn)return!1;var wn=nn.createShader(nn.VERTEX_SHADER);return!(!wn||nn.isContextLost())&&(nn.shaderSource(wn,"void main() {}"),nn.compileShader(wn),!0===nn.getShaderParameter(wn,nn.COMPILE_STATUS))}(jr)),Cr[jr]}(jr&&jr.failIfMajorPerformanceCaveat)?void 0:"insufficient WebGL support":"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser"}le.exports?le.exports=G:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=G,window.mapboxgl.notSupportedReason=he);var Cr={};G.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),C={create:function(le,G,he){var $=o.window.document.createElement(le);return void 0!==G&&($.className=G),he&&he.appendChild($),$},createNS:function(le,G){return o.window.document.createElementNS(le,G)}},h=o.window.document.documentElement.style;function y(le){if(!h)return le[0];for(var G=0;G<le.length;G++)if(le[G]in h)return le[G];return le[0]}var r,t=y(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);C.disableDrag=function(){h&&t&&(r=h[t],h[t]="none")},C.enableDrag=function(){h&&t&&(h[t]=r)};var l=y(["transform","WebkitTransform"]);C.setTransform=function(le,G){le.style[l]=G};var i=!1;try{var u=Object.defineProperty({},"passive",{get:function(){i=!0}});o.window.addEventListener("test",u,u),o.window.removeEventListener("test",u,u)}catch{i=!1}C.addEventListener=function(le,G,he,$){void 0===$&&($={}),le.addEventListener(G,he,"passive"in $&&i?$:$.capture)},C.removeEventListener=function(le,G,he,$){void 0===$&&($={}),le.removeEventListener(G,he,"passive"in $&&i?$:$.capture)};var f=function(le){le.preventDefault(),le.stopPropagation(),o.window.removeEventListener("click",f,!0)};function m(le){var G=le.userImage;return!!(G&&G.render&&G.render())&&(le.data.replace(new Uint8Array(G.data.buffer)),!0)}C.suppressClick=function(){o.window.addEventListener("click",f,!0),o.window.setTimeout(function(){o.window.removeEventListener("click",f,!0)},0)},C.mousePos=function(le,G){var he=le.getBoundingClientRect();return new o.Point(G.clientX-he.left-le.clientLeft,G.clientY-he.top-le.clientTop)},C.touchPos=function(le,G){for(var he=le.getBoundingClientRect(),$=[],ve=0;ve<G.length;ve++)$.push(new o.Point(G[ve].clientX-he.left-le.clientLeft,G[ve].clientY-he.top-le.clientTop));return $},C.mouseButton=function(le){return typeof o.window.InstallTrigger<"u"&&2===le.button&&le.ctrlKey&&o.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:le.button},C.remove=function(le){le.parentNode&&le.parentNode.removeChild(le)};var b=function(le){function G(){le.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.RGBAImage({width:1,height:1}),this.dirty=!0}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.isLoaded=function(){return this.loaded},G.prototype.setLoaded=function($){if(this.loaded!==$&&(this.loaded=$,$)){for(var ve=0,Le=this.requestors;ve<Le.length;ve+=1){var Ze=Le[ve];this._notify(Ze.ids,Ze.callback)}this.requestors=[]}},G.prototype.getImage=function($){return this.images[$]},G.prototype.addImage=function($,ve){this._validate($,ve)&&(this.images[$]=ve)},G.prototype._validate=function($,ve){var Le=!0;return this._validateStretch(ve.stretchX,ve.data&&ve.data.width)||(this.fire(new o.ErrorEvent(new Error('Image "'+$+'" has invalid "stretchX" value'))),Le=!1),this._validateStretch(ve.stretchY,ve.data&&ve.data.height)||(this.fire(new o.ErrorEvent(new Error('Image "'+$+'" has invalid "stretchY" value'))),Le=!1),this._validateContent(ve.content,ve)||(this.fire(new o.ErrorEvent(new Error('Image "'+$+'" has invalid "content" value'))),Le=!1),Le},G.prototype._validateStretch=function($,ve){if(!$)return!0;for(var Le=0,Ze=0,st=$;Ze<st.length;Ze+=1){var wt=st[Ze];if(wt[0]<Le||wt[1]<wt[0]||ve<wt[1])return!1;Le=wt[1]}return!0},G.prototype._validateContent=function($,ve){return!$||!(4!==$.length||$[0]<0||ve.data.width<$[0]||$[1]<0||ve.data.height<$[1]||$[2]<0||ve.data.width<$[2]||$[3]<0||ve.data.height<$[3]||$[2]<$[0]||$[3]<$[1])},G.prototype.updateImage=function($,ve){ve.version=this.images[$].version+1,this.images[$]=ve,this.updatedImages[$]=!0},G.prototype.removeImage=function($){var ve=this.images[$];delete this.images[$],delete this.patterns[$],ve.userImage&&ve.userImage.onRemove&&ve.userImage.onRemove()},G.prototype.listImages=function(){return Object.keys(this.images)},G.prototype.getImages=function($,ve){var Le=!0;if(!this.isLoaded())for(var Ze=0,st=$;Ze<st.length;Ze+=1)this.images[st[Ze]]||(Le=!1);this.isLoaded()||Le?this._notify($,ve):this.requestors.push({ids:$,callback:ve})},G.prototype._notify=function($,ve){for(var Le={},Ze=0,st=$;Ze<st.length;Ze+=1){var wt=st[Ze];this.images[wt]||this.fire(new o.Event("styleimagemissing",{id:wt}));var Wt=this.images[wt];Wt?Le[wt]={data:Wt.data.clone(),pixelRatio:Wt.pixelRatio,sdf:Wt.sdf,version:Wt.version,stretchX:Wt.stretchX,stretchY:Wt.stretchY,content:Wt.content,hasRenderCallback:!(!Wt.userImage||!Wt.userImage.render)}:o.warnOnce('Image "'+wt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ve(null,Le)},G.prototype.getPixelSize=function(){var $=this.atlasImage;return{width:$.width,height:$.height}},G.prototype.getPattern=function($){var ve=this.patterns[$],Le=this.getImage($);if(!Le)return null;if(ve&&ve.position.version===Le.version)return ve.position;if(ve)ve.position.version=Le.version;else{var wt={w:Le.data.width+2,h:Le.data.height+2,x:0,y:0},Wt=new o.ImagePosition(wt,Le);this.patterns[$]={bin:wt,position:Wt}}return this._updatePatternAtlas(),this.patterns[$].position},G.prototype.bind=function($){var ve=$.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.Texture($,this.atlasImage,ve.RGBA),this.atlasTexture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE)},G.prototype._updatePatternAtlas=function(){var $=[];for(var ve in this.patterns)$.push(this.patterns[ve].bin);var Le=o.potpack($),Ze=Le.w,st=Le.h,wt=this.atlasImage;for(var Wt in wt.resize({width:Ze||1,height:st||1}),this.patterns){var yr=this.patterns[Wt].bin,Cr=yr.x+1,Br=yr.y+1,$r=this.images[Wt].data,qr=$r.width,jr=$r.height;o.RGBAImage.copy($r,wt,{x:0,y:0},{x:Cr,y:Br},{width:qr,height:jr}),o.RGBAImage.copy($r,wt,{x:0,y:jr-1},{x:Cr,y:Br-1},{width:qr,height:1}),o.RGBAImage.copy($r,wt,{x:0,y:0},{x:Cr,y:Br+jr},{width:qr,height:1}),o.RGBAImage.copy($r,wt,{x:qr-1,y:0},{x:Cr-1,y:Br},{width:1,height:jr}),o.RGBAImage.copy($r,wt,{x:0,y:0},{x:Cr+qr,y:Br},{width:1,height:jr})}this.dirty=!0},G.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},G.prototype.dispatchRenderCallbacks=function($){for(var ve=0,Le=$;ve<Le.length;ve+=1){var Ze=Le[ve];if(!this.callbackDispatchedThisFrame[Ze]){this.callbackDispatchedThisFrame[Ze]=!0;var st=this.images[Ze];m(st)&&this.updateImage(Ze,st)}}},G}(o.Evented);var s=x,v=x,A=1e20;function x(le,G,he,$,ve,Le){this.fontSize=le||24,this.buffer=void 0===G?3:G,this.cutoff=$||.25,this.fontFamily=ve||"sans-serif",this.fontWeight=Le||"normal",this.radius=he||8;var Ze=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ze,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ze*Ze),this.gridInner=new Float64Array(Ze*Ze),this.f=new Float64Array(Ze),this.d=new Float64Array(Ze),this.z=new Float64Array(Ze+1),this.v=new Int16Array(Ze),this.middle=Math.round(Ze/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function E(le,G,he,$,ve,Le,Ze){for(var st=0;st<G;st++){for(var wt=0;wt<he;wt++)$[wt]=le[wt*G+st];for(g($,ve,Le,Ze,he),wt=0;wt<he;wt++)le[wt*G+st]=ve[wt]}for(wt=0;wt<he;wt++){for(st=0;st<G;st++)$[st]=le[wt*G+st];for(g($,ve,Le,Ze,G),st=0;st<G;st++)le[wt*G+st]=Math.sqrt(ve[st])}}function g(le,G,he,$,ve){he[0]=0,$[0]=-A,$[1]=+A;for(var Le=1,Ze=0;Le<ve;Le++){for(var st=(le[Le]+Le*Le-(le[he[Ze]]+he[Ze]*he[Ze]))/(2*Le-2*he[Ze]);st<=$[Ze];)Ze--,st=(le[Le]+Le*Le-(le[he[Ze]]+he[Ze]*he[Ze]))/(2*Le-2*he[Ze]);he[++Ze]=Le,$[Ze]=st,$[Ze+1]=+A}for(Le=0,Ze=0;Le<ve;Le++){for(;$[Ze+1]<Le;)Ze++;G[Le]=(Le-he[Ze])*(Le-he[Ze])+le[he[Ze]]}}x.prototype.draw=function(le){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(le,this.buffer,this.middle);for(var G=this.ctx.getImageData(0,0,this.size,this.size),he=new Uint8ClampedArray(this.size*this.size),$=0;$<this.size*this.size;$++){var ve=G.data[4*$+3]/255;this.gridOuter[$]=1===ve?0:0===ve?A:Math.pow(Math.max(0,.5-ve),2),this.gridInner[$]=1===ve?A:0===ve?0:Math.pow(Math.max(0,ve-.5),2)}for(E(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),E(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),$=0;$<this.size*this.size;$++)he[$]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[$]-this.gridInner[$])/this.radius+this.cutoff))));return he},s.default=v;var M=function(G,he){this.requestManager=G,this.localIdeographFontFamily=he,this.entries={}};M.prototype.setURL=function(G){this.url=G},M.prototype.getGlyphs=function(G,he){var $=this,ve=[];for(var Le in G)for(var Ze=0,st=G[Le];Ze<st.length;Ze+=1)ve.push({stack:Le,id:st[Ze]});o.asyncAll(ve,function(Wt,nr){var yr=Wt.stack,Cr=Wt.id,Br=$.entries[yr];Br||(Br=$.entries[yr]={glyphs:{},requests:{},ranges:{}});var $r=Br.glyphs[Cr];if(void 0===$r){if($r=$._tinySDF(Br,yr,Cr))return Br.glyphs[Cr]=$r,void nr(null,{stack:yr,id:Cr,glyph:$r});var qr=Math.floor(Cr/256);if(256*qr>65535)nr(new Error("glyphs > 65535 not supported"));else if(Br.ranges[qr])nr(null,{stack:yr,id:Cr,glyph:$r});else{var jr=Br.requests[qr];jr||(jr=Br.requests[qr]=[],M.loadGlyphRange(yr,qr,$.url,$.requestManager,function(nn,wn){if(wn){for(var _n in wn)$._doesCharSupportLocalGlyph(+_n)||(Br.glyphs[+_n]=wn[+_n]);Br.ranges[qr]=!0}for(var Un=0,$n=jr;Un<$n.length;Un+=1)(0,$n[Un])(nn,wn);delete Br.requests[qr]})),jr.push(function(nn,wn){nn?nr(nn):wn&&nr(null,{stack:yr,id:Cr,glyph:wn[Cr]||null})})}}else nr(null,{stack:yr,id:Cr,glyph:$r})},function(Wt,nr){if(Wt)he(Wt);else if(nr){for(var yr={},Cr=0,Br=nr;Cr<Br.length;Cr+=1){var $r=Br[Cr],qr=$r.stack,jr=$r.id,nn=$r.glyph;(yr[qr]||(yr[qr]={}))[jr]=nn&&{id:nn.id,bitmap:nn.bitmap.clone(),metrics:nn.metrics}}he(null,yr)}})},M.prototype._doesCharSupportLocalGlyph=function(G){return!!this.localIdeographFontFamily&&(o.isChar["CJK Unified Ideographs"](G)||o.isChar["Hangul Syllables"](G)||o.isChar.Hiragana(G)||o.isChar.Katakana(G))},M.prototype._tinySDF=function(G,he,$){var ve=this.localIdeographFontFamily;if(ve&&this._doesCharSupportLocalGlyph($)){var Le=G.tinySDF;if(!Le){var Ze="400";/bold/i.test(he)?Ze="900":/medium/i.test(he)?Ze="500":/light/i.test(he)&&(Ze="200"),Le=G.tinySDF=new M.TinySDF(24,3,8,.25,ve,Ze)}return{id:$,bitmap:new o.AlphaImage({width:30,height:30},Le.draw(String.fromCharCode($))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},M.loadGlyphRange=function p(le,G,he,$,ve){var Le=256*G,Ze=Le+255,st=$.transformRequest($.normalizeGlyphsURL(he).replace("{fontstack}",le).replace("{range}",Le+"-"+Ze),o.ResourceType.Glyphs);o.getArrayBuffer(st,function(wt,Wt){if(wt)ve(wt);else if(Wt){for(var nr={},yr=0,Cr=o.parseGlyphPBF(Wt);yr<Cr.length;yr+=1){var Br=Cr[yr];nr[Br.id]=Br}ve(null,nr)}})},M.TinySDF=s;var w=function(){this.specification=o.styleSpec.light.position};w.prototype.possiblyEvaluate=function(G,he){return o.sphericalToCartesian(G.expression.evaluate(he))},w.prototype.interpolate=function(G,he,$){return{x:o.number(G.x,he.x,$),y:o.number(G.y,he.y,$),z:o.number(G.z,he.z,$)}};var n=new o.Properties({anchor:new o.DataConstantProperty(o.styleSpec.light.anchor),position:new w,color:new o.DataConstantProperty(o.styleSpec.light.color),intensity:new o.DataConstantProperty(o.styleSpec.light.intensity)}),S="-transition",d=function(le){function G(he){le.call(this),this._transitionable=new o.Transitionable(n),this.setLight(he),this._transitioning=this._transitionable.untransitioned()}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getLight=function(){return this._transitionable.serialize()},G.prototype.setLight=function($,ve){if(void 0===ve&&(ve={}),!this._validate(o.validateLight,$,ve))for(var Le in $){var Ze=$[Le];o.endsWith(Le,S)?this._transitionable.setTransition(Le.slice(0,-11),Ze):this._transitionable.setValue(Le,Ze)}},G.prototype.updateTransitions=function($){this._transitioning=this._transitionable.transitioned($,this._transitioning)},G.prototype.hasTransition=function(){return this._transitioning.hasTransition()},G.prototype.recalculate=function($){this.properties=this._transitioning.possiblyEvaluate($)},G.prototype._validate=function($,ve,Le){return(!Le||!1!==Le.validate)&&o.emitValidationErrors(this,$.call(o.validateStyle,o.extend({value:ve,style:{glyphs:!0,sprite:!0},styleSpec:o.styleSpec})))},G}(o.Evented),I=function(G,he){this.width=G,this.height=he,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};I.prototype.getDash=function(G,he){var $=G.join(",")+String(he);return this.dashEntry[$]||(this.dashEntry[$]=this.addDash(G,he)),this.dashEntry[$]},I.prototype.getDashRanges=function(G,he,$){var Le=[],Ze=G.length%2==1?-G[G.length-1]*$:0,st=G[0]*$,wt=!0;Le.push({left:Ze,right:st,isDash:wt,zeroLength:0===G[0]});for(var Wt=G[0],nr=1;nr<G.length;nr++){var yr=G[nr];Le.push({left:Ze=Wt*$,right:st=(Wt+=yr)*$,isDash:wt=!wt,zeroLength:0===yr})}return Le},I.prototype.addRoundDash=function(G,he,$){for(var ve=he/2,Le=-$;Le<=$;Le++)for(var st=this.width*(this.nextRow+$+Le),wt=0,Wt=G[wt],nr=0;nr<this.width;nr++){nr/Wt.right>1&&(Wt=G[++wt]);var yr=Math.abs(nr-Wt.left),Cr=Math.abs(nr-Wt.right),Br=Math.min(yr,Cr),$r=void 0,qr=Le/$*(ve+1);if(Wt.isDash){var jr=ve-Math.abs(qr);$r=Math.sqrt(Br*Br+jr*jr)}else $r=ve-Math.sqrt(Br*Br+qr*qr);this.data[st+nr]=Math.max(0,Math.min(255,$r+128))}},I.prototype.addRegularDash=function(G){for(var he=G.length-1;he>=0;--he){var $=G[he],ve=G[he+1];$.zeroLength?G.splice(he,1):ve&&ve.isDash===$.isDash&&(ve.left=$.left,G.splice(he,1))}var Le=G[0],Ze=G[G.length-1];Le.isDash===Ze.isDash&&(Le.left=Ze.left-this.width,Ze.right=Le.right+this.width);for(var st=this.width*this.nextRow,wt=0,Wt=G[wt],nr=0;nr<this.width;nr++){nr/Wt.right>1&&(Wt=G[++wt]);var yr=Math.abs(nr-Wt.left),Cr=Math.abs(nr-Wt.right),Br=Math.min(yr,Cr);this.data[st+nr]=Math.max(0,Math.min(255,(Wt.isDash?Br:-Br)+128))}},I.prototype.addDash=function(G,he){var $=he?7:0,ve=2*$+1;if(this.nextRow+ve>this.height)return o.warnOnce("LineAtlas out of space"),null;for(var Le=0,Ze=0;Ze<G.length;Ze++)Le+=G[Ze];if(0!==Le){var st=this.width/Le,wt=this.getDashRanges(G,this.width,st);he?this.addRoundDash(wt,st,$):this.addRegularDash(wt)}var Wt={y:(this.nextRow+$+.5)/this.height,height:2*$/this.height,width:Le};return this.nextRow+=ve,this.dirty=!0,Wt},I.prototype.bind=function(G){var he=G.gl;this.texture?(he.bindTexture(he.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,he.texSubImage2D(he.TEXTURE_2D,0,0,0,this.width,this.height,he.ALPHA,he.UNSIGNED_BYTE,this.data))):(this.texture=he.createTexture(),he.bindTexture(he.TEXTURE_2D,this.texture),he.texParameteri(he.TEXTURE_2D,he.TEXTURE_WRAP_S,he.REPEAT),he.texParameteri(he.TEXTURE_2D,he.TEXTURE_WRAP_T,he.REPEAT),he.texParameteri(he.TEXTURE_2D,he.TEXTURE_MIN_FILTER,he.LINEAR),he.texParameteri(he.TEXTURE_2D,he.TEXTURE_MAG_FILTER,he.LINEAR),he.texImage2D(he.TEXTURE_2D,0,he.ALPHA,this.width,this.height,0,he.ALPHA,he.UNSIGNED_BYTE,this.data))};var L=function le(G,he){this.workerPool=G,this.actors=[],this.currentActor=0,this.id=o.uniqueId();for(var $=this.workerPool.acquire(this.id),ve=0;ve<$.length;ve++){var Ze=new le.Actor($[ve],he,this.id);Ze.name="Worker "+ve,this.actors.push(Ze)}};function B(le,G,he){var $=function(ve,Le){if(ve)return he(ve);if(Le){var Ze=o.pick(o.extend(Le,le),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Le.vector_layers&&(Ze.vectorLayers=Le.vector_layers,Ze.vectorLayerIds=Ze.vectorLayers.map(function(st){return st.id})),Ze.tiles=G.canonicalizeTileset(Ze,le.url),he(null,Ze)}};return le.url?o.getJSON(G.transformRequest(G.normalizeSourceURL(le.url),o.ResourceType.Source),$):o.browser.frame(function(){return $(null,le)})}L.prototype.broadcast=function(G,he,$){o.asyncAll(this.actors,function(ve,Le){ve.send(G,he,Le)},$=$||function(){})},L.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},L.prototype.remove=function(){this.actors.forEach(function(G){G.remove()}),this.actors=[],this.workerPool.release(this.id)},L.Actor=o.Actor;var k=function(G,he,$){this.bounds=o.LngLatBounds.convert(this.validateBounds(G)),this.minzoom=he||0,this.maxzoom=$||24};k.prototype.validateBounds=function(G){return Array.isArray(G)&&4===G.length?[Math.max(-180,G[0]),Math.max(-90,G[1]),Math.min(180,G[2]),Math.min(90,G[3])]:[-180,-90,180,90]},k.prototype.contains=function(G){var he=Math.pow(2,G.z),$_minX=Math.floor(o.mercatorXfromLng(this.bounds.getWest())*he),$_minY=Math.floor(o.mercatorYfromLat(this.bounds.getNorth())*he),$_maxX=Math.ceil(o.mercatorXfromLng(this.bounds.getEast())*he),$_maxY=Math.ceil(o.mercatorYfromLat(this.bounds.getSouth())*he);return G.x>=$_minX&&G.x<$_maxX&&G.y>=$_minY&&G.y<$_maxY};var z=function(le){function G(he,$,ve,Le){if(le.call(this),this.id=he,this.dispatcher=ve,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.extend(this,o.pick($,["url","scheme","tileSize","promoteId"])),this._options=o.extend({type:"vector"},$),this._collectResourceTiming=$.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Le)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.load=function(){var $=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(ve,Le){$._tileJSONRequest=null,$._loaded=!0,ve?$.fire(new o.ErrorEvent(ve)):Le&&(o.extend($,Le),Le.bounds&&($.tileBounds=new k(Le.bounds,$.minzoom,$.maxzoom)),o.postTurnstileEvent(Le.tiles,$.map._requestManager._customAccessToken),o.postMapLoadEvent(Le.tiles,$.map._getMapId(),$.map._requestManager._skuToken,$.map._requestManager._customAccessToken),$.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),$.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},G.prototype.loaded=function(){return this._loaded},G.prototype.hasTile=function($){return!this.tileBounds||this.tileBounds.contains($.canonical)},G.prototype.onAdd=function($){this.map=$,this.load()},G.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},G.prototype.serialize=function(){return o.extend({},this._options)},G.prototype.loadTile=function($,ve){var Le=this.map._requestManager.normalizeTileURL($.tileID.canonical.url(this.tiles,this.scheme)),Ze={request:this.map._requestManager.transformRequest(Le,o.ResourceType.Tile),uid:$.uid,tileID:$.tileID,zoom:$.tileID.overscaledZ,tileSize:this.tileSize*$.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function st(wt,Wt){return delete $.request,$.aborted?ve(null):wt&&404!==wt.status?ve(wt):(Wt&&Wt.resourceTiming&&($.resourceTiming=Wt.resourceTiming),this.map._refreshExpiredTiles&&Wt&&$.setExpiryData(Wt),$.loadVectorData(Wt,this.map.painter),o.cacheEntryPossiblyAdded(this.dispatcher),ve(null),void($.reloadCallback&&(this.loadTile($,$.reloadCallback),$.reloadCallback=null)))}Ze.request.collectResourceTiming=this._collectResourceTiming,$.actor&&"expired"!==$.state?"loading"===$.state?$.reloadCallback=ve:$.request=$.actor.send("reloadTile",Ze,st.bind(this)):($.actor=this.dispatcher.getActor(),$.request=$.actor.send("loadTile",Ze,st.bind(this)))},G.prototype.abortTile=function($){$.request&&($.request.cancel(),delete $.request),$.actor&&$.actor.send("abortTile",{uid:$.uid,type:this.type,source:this.id},void 0)},G.prototype.unloadTile=function($){$.unloadVectorData(),$.actor&&$.actor.send("removeTile",{uid:$.uid,type:this.type,source:this.id},void 0)},G.prototype.hasTransition=function(){return!1},G}(o.Evented),O=function(le){function G(he,$,ve,Le){le.call(this),this.id=he,this.dispatcher=ve,this.setEventedParent(Le),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.extend({type:"raster"},$),o.extend(this,o.pick($,["url","scheme","tileSize"]))}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.load=function(){var $=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=B(this._options,this.map._requestManager,function(ve,Le){$._tileJSONRequest=null,$._loaded=!0,ve?$.fire(new o.ErrorEvent(ve)):Le&&(o.extend($,Le),Le.bounds&&($.tileBounds=new k(Le.bounds,$.minzoom,$.maxzoom)),o.postTurnstileEvent(Le.tiles),o.postMapLoadEvent(Le.tiles,$.map._getMapId(),$.map._requestManager._skuToken),$.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),$.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},G.prototype.loaded=function(){return this._loaded},G.prototype.onAdd=function($){this.map=$,this.load()},G.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},G.prototype.serialize=function(){return o.extend({},this._options)},G.prototype.hasTile=function($){return!this.tileBounds||this.tileBounds.contains($.canonical)},G.prototype.loadTile=function($,ve){var Le=this,Ze=this.map._requestManager.normalizeTileURL($.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);$.request=o.getImage(this.map._requestManager.transformRequest(Ze,o.ResourceType.Tile),function(st,wt){if(delete $.request,$.aborted)$.state="unloaded",ve(null);else if(st)$.state="errored",ve(st);else if(wt){Le.map._refreshExpiredTiles&&$.setExpiryData(wt),delete wt.cacheControl,delete wt.expires;var Wt=Le.map.painter.context,nr=Wt.gl;$.texture=Le.map.painter.getTileTexture(wt.width),$.texture?$.texture.update(wt,{useMipmap:!0}):($.texture=new o.Texture(Wt,wt,nr.RGBA,{useMipmap:!0}),$.texture.bind(nr.LINEAR,nr.CLAMP_TO_EDGE,nr.LINEAR_MIPMAP_NEAREST),Wt.extTextureFilterAnisotropic&&nr.texParameterf(nr.TEXTURE_2D,Wt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Wt.extTextureFilterAnisotropicMax)),$.state="loaded",o.cacheEntryPossiblyAdded(Le.dispatcher),ve(null)}})},G.prototype.abortTile=function($,ve){$.request&&($.request.cancel(),delete $.request),ve()},G.prototype.unloadTile=function($,ve){$.texture&&this.map.painter.saveTileTexture($.texture),ve()},G.prototype.hasTransition=function(){return!1},G}(o.Evented),F=function(le){function G(he,$,ve,Le){le.call(this,he,$,ve,Le),this.type="raster-dem",this.maxzoom=22,this._options=o.extend({type:"raster-dem"},$),this.encoding=$.encoding||"mapbox"}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},G.prototype.loadTile=function($,ve){var Le=this.map._requestManager.normalizeTileURL($.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function st(wt,Wt){wt&&($.state="errored",ve(wt)),Wt&&($.dem=Wt,$.needsHillshadePrepare=!0,$.state="loaded",ve(null))}$.request=o.getImage(this.map._requestManager.transformRequest(Le,o.ResourceType.Tile),function Ze(wt,Wt){if(delete $.request,$.aborted)$.state="unloaded",ve(null);else if(wt)$.state="errored",ve(wt);else if(Wt){this.map._refreshExpiredTiles&&$.setExpiryData(Wt),delete Wt.cacheControl,delete Wt.expires;var yr=o.window.ImageBitmap&&Wt instanceof o.window.ImageBitmap&&o.offscreenCanvasSupported()?Wt:o.browser.getImageData(Wt,1),Cr={uid:$.uid,coord:$.tileID,source:this.id,rawImageData:yr,encoding:this.encoding};(!$.actor||"expired"===$.state)&&($.actor=this.dispatcher.getActor(),$.actor.send("loadDEMTile",Cr,st.bind(this)))}}.bind(this)),$.neighboringTiles=this._getNeighboringTiles($.tileID)},G.prototype._getNeighboringTiles=function($){var ve=$.canonical,Le=Math.pow(2,ve.z),Ze=(ve.x-1+Le)%Le,st=0===ve.x?$.wrap-1:$.wrap,wt=(ve.x+1+Le)%Le,Wt=ve.x+1===Le?$.wrap+1:$.wrap,nr={};return nr[new o.OverscaledTileID($.overscaledZ,st,ve.z,Ze,ve.y).key]={backfilled:!1},nr[new o.OverscaledTileID($.overscaledZ,Wt,ve.z,wt,ve.y).key]={backfilled:!1},ve.y>0&&(nr[new o.OverscaledTileID($.overscaledZ,st,ve.z,Ze,ve.y-1).key]={backfilled:!1},nr[new o.OverscaledTileID($.overscaledZ,$.wrap,ve.z,ve.x,ve.y-1).key]={backfilled:!1},nr[new o.OverscaledTileID($.overscaledZ,Wt,ve.z,wt,ve.y-1).key]={backfilled:!1}),ve.y+1<Le&&(nr[new o.OverscaledTileID($.overscaledZ,st,ve.z,Ze,ve.y+1).key]={backfilled:!1},nr[new o.OverscaledTileID($.overscaledZ,$.wrap,ve.z,ve.x,ve.y+1).key]={backfilled:!1},nr[new o.OverscaledTileID($.overscaledZ,Wt,ve.z,wt,ve.y+1).key]={backfilled:!1}),nr},G.prototype.unloadTile=function($){$.demTexture&&this.map.painter.saveTileTexture($.demTexture),$.fbo&&($.fbo.destroy(),delete $.fbo),$.dem&&delete $.dem,delete $.neighboringTiles,$.state="unloaded",$.actor&&$.actor.send("removeDEMTile",{uid:$.uid,source:this.id})},G}(O),N=function(le){function G(he,$,ve,Le){le.call(this),this.id=he,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ve.getActor(),this.setEventedParent(Le),this._data=$.data,this._options=o.extend({},$),this._collectResourceTiming=$.collectResourceTiming,this._resourceTiming=[],void 0!==$.maxzoom&&(this.maxzoom=$.maxzoom),$.type&&(this.type=$.type),$.attribution&&(this.attribution=$.attribution),this.promoteId=$.promoteId;var Ze=o.EXTENT/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:$.cluster||!1,geojsonVtOptions:{buffer:(void 0!==$.buffer?$.buffer:128)*Ze,tolerance:(void 0!==$.tolerance?$.tolerance:.375)*Ze,extent:o.EXTENT,maxZoom:this.maxzoom,lineMetrics:$.lineMetrics||!1,generateId:$.generateId||!1},superclusterOptions:{maxZoom:void 0!==$.clusterMaxZoom?Math.min($.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:o.EXTENT,radius:($.clusterRadius||50)*Ze,log:!1,generateId:$.generateId||!1},clusterProperties:$.clusterProperties},$.workerOptions)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.load=function(){var $=this;this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ve){if(ve)$.fire(new o.ErrorEvent(ve));else{var Le={dataType:"source",sourceDataType:"metadata"};$._collectResourceTiming&&$._resourceTiming&&$._resourceTiming.length>0&&(Le.resourceTiming=$._resourceTiming,$._resourceTiming=[]),$.fire(new o.Event("data",Le))}})},G.prototype.onAdd=function($){this.map=$,this.load()},G.prototype.setData=function($){var ve=this;return this._data=$,this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Le){if(Le)ve.fire(new o.ErrorEvent(Le));else{var Ze={dataType:"source",sourceDataType:"content"};ve._collectResourceTiming&&ve._resourceTiming&&ve._resourceTiming.length>0&&(Ze.resourceTiming=ve._resourceTiming,ve._resourceTiming=[]),ve.fire(new o.Event("data",Ze))}}),this},G.prototype.getClusterExpansionZoom=function($,ve){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:$,source:this.id},ve),this},G.prototype.getClusterChildren=function($,ve){return this.actor.send("geojson.getClusterChildren",{clusterId:$,source:this.id},ve),this},G.prototype.getClusterLeaves=function($,ve,Le,Ze){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:$,limit:ve,offset:Le},Ze),this},G.prototype._updateWorkerData=function($){var ve=this;this._loaded=!1;var Le=o.extend({},this.workerOptions),Ze=this._data;"string"==typeof Ze?(Le.request=this.map._requestManager.transformRequest(o.browser.resolveURL(Ze),o.ResourceType.Source),Le.request.collectResourceTiming=this._collectResourceTiming):Le.data=JSON.stringify(Ze),this.actor.send(this.type+".loadData",Le,function(st,wt){ve._removed||wt&&wt.abandoned||(ve._loaded=!0,wt&&wt.resourceTiming&&wt.resourceTiming[ve.id]&&(ve._resourceTiming=wt.resourceTiming[ve.id].slice(0)),ve.actor.send(ve.type+".coalesce",{source:Le.source},null),$(st))})},G.prototype.loaded=function(){return this._loaded},G.prototype.loadTile=function($,ve){var Le=this,Ze=$.actor?"reloadTile":"loadTile";$.actor=this.actor,$.request=this.actor.send(Ze,{type:this.type,uid:$.uid,tileID:$.tileID,zoom:$.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(wt,Wt){return delete $.request,$.unloadVectorData(),$.aborted?ve(null):wt?ve(wt):($.loadVectorData(Wt,Le.map.painter,"reloadTile"===Ze),ve(null))})},G.prototype.abortTile=function($){$.request&&($.request.cancel(),delete $.request),$.aborted=!0},G.prototype.unloadTile=function($){$.unloadVectorData(),this.actor.send("removeTile",{uid:$.uid,type:this.type,source:this.id})},G.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},G.prototype.serialize=function(){return o.extend({},this._options,{type:this.type,data:this._data})},G.prototype.hasTransition=function(){return!1},G}(o.Evented),H=o.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),X=function(le){function G(he,$,ve,Le){le.call(this),this.id=he,this.dispatcher=ve,this.coordinates=$.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Le),this.options=$}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.load=function($,ve){var Le=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this.url=this.options.url,o.getImage(this.map._requestManager.transformRequest(this.url,o.ResourceType.Image),function(Ze,st){Le._loaded=!0,Ze?Le.fire(new o.ErrorEvent(Ze)):st&&(Le.image=st,$&&(Le.coordinates=$),ve&&ve(),Le._finishLoading())})},G.prototype.loaded=function(){return this._loaded},G.prototype.updateImage=function($){var ve=this;return this.image&&$.url?(this.options.url=$.url,this.load($.coordinates,function(){ve.texture=null}),this):this},G.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})))},G.prototype.onAdd=function($){this.map=$,this.load()},G.prototype.setCoordinates=function($){var ve=this;this.coordinates=$;var Le=$.map(o.MercatorCoordinate.fromLngLat);this.tileID=function ne(le){for(var G=1/0,he=1/0,$=-1/0,ve=-1/0,Le=0,Ze=le;Le<Ze.length;Le+=1){var st=Ze[Le];G=Math.min(G,st.x),he=Math.min(he,st.y),$=Math.max($,st.x),ve=Math.max(ve,st.y)}var nr=Math.max($-G,ve-he),yr=Math.max(0,Math.floor(-Math.log(nr)/Math.LN2)),Cr=Math.pow(2,yr);return new o.CanonicalTileID(yr,Math.floor((G+$)/2*Cr),Math.floor((he+ve)/2*Cr))}(Le),this.minzoom=this.maxzoom=this.tileID.z;var Ze=Le.map(function(st){return ve.tileID.getTilePoint(st)._round()});return this._boundsArray=new o.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ze[0].x,Ze[0].y,0,0),this._boundsArray.emplaceBack(Ze[1].x,Ze[1].y,o.EXTENT,0),this._boundsArray.emplaceBack(Ze[3].x,Ze[3].y,0,o.EXTENT),this._boundsArray.emplaceBack(Ze[2].x,Ze[2].y,o.EXTENT,o.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})),this},G.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var $=this.map.painter.context,ve=$.gl;for(var Le in this.boundsBuffer||(this.boundsBuffer=$.createVertexBuffer(this._boundsArray,H.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new o.Texture($,this.image,ve.RGBA),this.texture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE)),this.tiles){var Ze=this.tiles[Le];"loaded"!==Ze.state&&(Ze.state="loaded",Ze.texture=this.texture)}}},G.prototype.loadTile=function($,ve){this.tileID&&this.tileID.equals($.tileID.canonical)?(this.tiles[String($.tileID.wrap)]=$,$.buckets={},ve(null)):($.state="errored",ve(null))},G.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},G.prototype.hasTransition=function(){return!1},G}(o.Evented);var ie=function(le){function G(he,$,ve,Le){le.call(this,he,$,ve,Le),this.roundZoom=!0,this.type="video",this.options=$}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.load=function(){var $=this;this._loaded=!1;var ve=this.options;this.urls=[];for(var Le=0,Ze=ve.urls;Le<Ze.length;Le+=1)this.urls.push(this.map._requestManager.transformRequest(Ze[Le],o.ResourceType.Source).url);o.getVideo(this.urls,function(wt,Wt){$._loaded=!0,wt?$.fire(new o.ErrorEvent(wt)):Wt&&($.video=Wt,$.video.loop=!0,$.video.addEventListener("playing",function(){$.map.triggerRepaint()}),$.map&&$.video.play(),$._finishLoading())})},G.prototype.pause=function(){this.video&&this.video.pause()},G.prototype.play=function(){this.video&&this.video.play()},G.prototype.seek=function($){if(this.video){var ve=this.video.seekable;$<ve.start(0)||$>ve.end(0)?this.fire(new o.ErrorEvent(new o.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ve.start(0)+" and "+ve.end(0)+"-second mark."))):this.video.currentTime=$}},G.prototype.getVideo=function(){return this.video},G.prototype.onAdd=function($){this.map||(this.map=$,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},G.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var $=this.map.painter.context,ve=$.gl;for(var Le in this.boundsBuffer||(this.boundsBuffer=$.createVertexBuffer(this._boundsArray,H.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE),ve.texSubImage2D(ve.TEXTURE_2D,0,0,0,ve.RGBA,ve.UNSIGNED_BYTE,this.video)):(this.texture=new o.Texture($,this.video,ve.RGBA),this.texture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE)),this.tiles){var Ze=this.tiles[Le];"loaded"!==Ze.state&&(Ze.state="loaded",Ze.texture=this.texture)}}},G.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},G.prototype.hasTransition=function(){return this.video&&!this.video.paused},G}(X),ue=function(le){function G(he,$,ve,Le){le.call(this,he,$,ve,Le),$.coordinates?(!Array.isArray($.coordinates)||4!==$.coordinates.length||$.coordinates.some(function(Ze){return!Array.isArray(Ze)||2!==Ze.length||Ze.some(function(st){return"number"!=typeof st})}))&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+he,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+he,null,'missing required property "coordinates"'))),$.animate&&"boolean"!=typeof $.animate&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+he,null,'optional "animate" property must be a boolean value'))),$.canvas?"string"!=typeof $.canvas&&!($.canvas instanceof o.window.HTMLCanvasElement)&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+he,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+he,null,'missing required property "canvas"'))),this.options=$,this.animate=void 0===$.animate||$.animate}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof o.window.HTMLCanvasElement?this.options.canvas:o.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},G.prototype.getCanvas=function(){return this.canvas},G.prototype.onAdd=function($){this.map=$,this.load(),this.canvas&&this.animate&&this.play()},G.prototype.onRemove=function(){this.pause()},G.prototype.prepare=function(){var $=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,$=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,$=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var ve=this.map.painter.context,Le=ve.gl;for(var Ze in this.boundsBuffer||(this.boundsBuffer=ve.createVertexBuffer(this._boundsArray,H.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?($||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.Texture(ve,this.canvas,Le.RGBA,{premultiply:!0}),this.tiles){var st=this.tiles[Ze];"loaded"!==st.state&&(st.state="loaded",st.texture=this.texture)}}},G.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},G.prototype.hasTransition=function(){return this._playing},G.prototype._hasInvalidDimensions=function(){for(var $=0,ve=[this.canvas.width,this.canvas.height];$<ve.length;$+=1){var Le=ve[$];if(isNaN(Le)||Le<=0)return!0}return!1},G}(X),J={vector:z,raster:O,"raster-dem":F,geojson:N,video:ie,image:X,canvas:ue};function K(le,G){var he=o.identity([]);return o.translate(he,he,[1,1,0]),o.scale(he,he,[.5*le.width,.5*le.height,1]),o.multiply(he,he,le.calculatePosMatrix(G.toUnwrapped()))}function Q(le,G,he,$,ve,Le){var Ze=function ae(le,G,he){if(le)for(var $=0,ve=le;$<ve.length;$+=1){var Ze=G[ve[$]];if(Ze&&Ze.source===he&&"fill-extrusion"===Ze.type)return!0}else for(var st in G){var wt=G[st];if(wt.source===he&&"fill-extrusion"===wt.type)return!0}return!1}(ve&&ve.layers,G,le.id),st=Le.maxPitchScaleFactor(),wt=le.tilesIn($,st,Ze);wt.sort(q);for(var Wt=[],nr=0,yr=wt;nr<yr.length;nr+=1){var Cr=yr[nr];Wt.push({wrappedTileID:Cr.tileID.wrapped().key,queryResults:Cr.tile.queryRenderedFeatures(G,he,le._state,Cr.queryGeometry,Cr.cameraQueryGeometry,Cr.scale,ve,Le,st,K(le.transform,Cr.tileID))})}var Br=function se(le){for(var G={},he={},$=0,ve=le;$<ve.length;$+=1){var Le=ve[$],Ze=Le.queryResults,st=Le.wrappedTileID,wt=he[st]=he[st]||{};for(var Wt in Ze)for(var nr=Ze[Wt],yr=wt[Wt]=wt[Wt]||{},Cr=G[Wt]=G[Wt]||[],Br=0,$r=nr;Br<$r.length;Br+=1){var qr=$r[Br];yr[qr.featureIndex]||(yr[qr.featureIndex]=!0,Cr.push(qr))}}return G}(Wt);for(var $r in Br)Br[$r].forEach(function(qr){var jr=qr.feature,nn=le.getFeatureState(jr.layer["source-layer"],jr.id);jr.source=jr.layer.source,jr.layer["source-layer"]&&(jr.sourceLayer=jr.layer["source-layer"]),jr.state=nn});return Br}function q(le,G){var he=le.tileID,$=G.tileID;return he.overscaledZ-$.overscaledZ||he.canonical.y-$.canonical.y||he.wrap-$.wrap||he.canonical.x-$.canonical.x}var de=function(G,he){this.max=G,this.onRemove=he,this.reset()};de.prototype.reset=function(){for(var G in this.data)for(var he=0,$=this.data[G];he<$.length;he+=1){var ve=$[he];ve.timeout&&clearTimeout(ve.timeout),this.onRemove(ve.value)}return this.data={},this.order=[],this},de.prototype.add=function(G,he,$){var ve=this,Le=G.wrapped().key;void 0===this.data[Le]&&(this.data[Le]=[]);var Ze={value:he,timeout:void 0};if(void 0!==$&&(Ze.timeout=setTimeout(function(){ve.remove(G,Ze)},$)),this.data[Le].push(Ze),this.order.push(Le),this.order.length>this.max){var st=this._getAndRemoveByKey(this.order[0]);st&&this.onRemove(st)}return this},de.prototype.has=function(G){return G.wrapped().key in this.data},de.prototype.getAndRemove=function(G){return this.has(G)?this._getAndRemoveByKey(G.wrapped().key):null},de.prototype._getAndRemoveByKey=function(G){var he=this.data[G].shift();return he.timeout&&clearTimeout(he.timeout),0===this.data[G].length&&delete this.data[G],this.order.splice(this.order.indexOf(G),1),he.value},de.prototype.getByKey=function(G){var he=this.data[G];return he?he[0].value:null},de.prototype.get=function(G){return this.has(G)?this.data[G.wrapped().key][0].value:null},de.prototype.remove=function(G,he){if(!this.has(G))return this;var $=G.wrapped().key,ve=void 0===he?0:this.data[$].indexOf(he),Le=this.data[$][ve];return this.data[$].splice(ve,1),Le.timeout&&clearTimeout(Le.timeout),0===this.data[$].length&&delete this.data[$],this.onRemove(Le.value),this.order.splice(this.order.indexOf($),1),this},de.prototype.setMaxSize=function(G){for(this.max=G;this.order.length>this.max;){var he=this._getAndRemoveByKey(this.order[0]);he&&this.onRemove(he)}return this},de.prototype.filter=function(G){var he=[];for(var $ in this.data)for(var ve=0,Le=this.data[$];ve<Le.length;ve+=1){var Ze=Le[ve];G(Ze.value)||he.push(Ze)}for(var st=0,wt=he;st<wt.length;st+=1){var Wt=wt[st];this.remove(Wt.value.tileID,Wt)}};var we=function(G,he,$){this.context=G;var ve=G.gl;this.buffer=ve.createBuffer(),this.dynamicDraw=!!$,this.context.unbindVAO(),G.bindElementBuffer.set(this.buffer),ve.bufferData(ve.ELEMENT_ARRAY_BUFFER,he.arrayBuffer,this.dynamicDraw?ve.DYNAMIC_DRAW:ve.STATIC_DRAW),this.dynamicDraw||delete he.arrayBuffer};we.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},we.prototype.updateData=function(G){var he=this.context.gl;this.context.unbindVAO(),this.bind(),he.bufferSubData(he.ELEMENT_ARRAY_BUFFER,0,G.arrayBuffer)},we.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var ye={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Pe=function(G,he,$,ve){this.length=he.length,this.attributes=$,this.itemSize=he.bytesPerElement,this.dynamicDraw=ve,this.context=G;var Le=G.gl;this.buffer=Le.createBuffer(),G.bindVertexBuffer.set(this.buffer),Le.bufferData(Le.ARRAY_BUFFER,he.arrayBuffer,this.dynamicDraw?Le.DYNAMIC_DRAW:Le.STATIC_DRAW),this.dynamicDraw||delete he.arrayBuffer};Pe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Pe.prototype.updateData=function(G){var he=this.context.gl;this.bind(),he.bufferSubData(he.ARRAY_BUFFER,0,G.arrayBuffer)},Pe.prototype.enableAttributes=function(G,he){for(var $=0;$<this.attributes.length;$++){var Le=he.attributes[this.attributes[$].name];void 0!==Le&&G.enableVertexAttribArray(Le)}},Pe.prototype.setVertexAttribPointers=function(G,he,$){for(var ve=0;ve<this.attributes.length;ve++){var Le=this.attributes[ve],Ze=he.attributes[Le.name];void 0!==Ze&&G.vertexAttribPointer(Ze,Le.components,G[ye[Le.type]],!1,this.itemSize,Le.offset+this.itemSize*($||0))}},Pe.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Ie=function(G){this.gl=G.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ie.prototype.get=function(){return this.current},Ie.prototype.set=function(G){},Ie.prototype.getDefault=function(){return this.default},Ie.prototype.setDefault=function(){this.set(this.default)};var Se=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return o.Color.transparent},G.prototype.set=function($){var ve=this.current;$.r===ve.r&&$.g===ve.g&&$.b===ve.b&&$.a===ve.a&&!this.dirty||(this.gl.clearColor($.r,$.g,$.b,$.a),this.current=$,this.dirty=!1)},G}(Ie),xe=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return 1},G.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.clearDepth($),this.current=$,this.dirty=!1)},G}(Ie),Me=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return 0},G.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.clearStencil($),this.current=$,this.dirty=!1)},G}(Ie),Ge=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return[!0,!0,!0,!0]},G.prototype.set=function($){var ve=this.current;$[0]===ve[0]&&$[1]===ve[1]&&$[2]===ve[2]&&$[3]===ve[3]&&!this.dirty||(this.gl.colorMask($[0],$[1],$[2],$[3]),this.current=$,this.dirty=!1)},G}(Ie),Ye=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return!0},G.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.depthMask($),this.current=$,this.dirty=!1)},G}(Ie),De=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return 255},G.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.stencilMask($),this.current=$,this.dirty=!1)},G}(Ie),He=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},G.prototype.set=function($){var ve=this.current;$.func===ve.func&&$.ref===ve.ref&&$.mask===ve.mask&&!this.dirty||(this.gl.stencilFunc($.func,$.ref,$.mask),this.current=$,this.dirty=!1)},G}(Ie),rt=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){var $=this.gl;return[$.KEEP,$.KEEP,$.KEEP]},G.prototype.set=function($){var ve=this.current;$[0]===ve[0]&&$[1]===ve[1]&&$[2]===ve[2]&&!this.dirty||(this.gl.stencilOp($[0],$[1],$[2]),this.current=$,this.dirty=!1)},G}(Ie),$e=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function($){if($!==this.current||this.dirty){var ve=this.gl;$?ve.enable(ve.STENCIL_TEST):ve.disable(ve.STENCIL_TEST),this.current=$,this.dirty=!1}},G}(Ie),Be=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return[0,1]},G.prototype.set=function($){var ve=this.current;$[0]===ve[0]&&$[1]===ve[1]&&!this.dirty||(this.gl.depthRange($[0],$[1]),this.current=$,this.dirty=!1)},G}(Ie),ze=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function($){if($!==this.current||this.dirty){var ve=this.gl;$?ve.enable(ve.DEPTH_TEST):ve.disable(ve.DEPTH_TEST),this.current=$,this.dirty=!1}},G}(Ie),tt=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return this.gl.LESS},G.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.depthFunc($),this.current=$,this.dirty=!1)},G}(Ie),lt=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function($){if($!==this.current||this.dirty){var ve=this.gl;$?ve.enable(ve.BLEND):ve.disable(ve.BLEND),this.current=$,this.dirty=!1}},G}(Ie),ut=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){var $=this.gl;return[$.ONE,$.ZERO]},G.prototype.set=function($){var ve=this.current;$[0]===ve[0]&&$[1]===ve[1]&&!this.dirty||(this.gl.blendFunc($[0],$[1]),this.current=$,this.dirty=!1)},G}(Ie),xt=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return o.Color.transparent},G.prototype.set=function($){var ve=this.current;$.r===ve.r&&$.g===ve.g&&$.b===ve.b&&$.a===ve.a&&!this.dirty||(this.gl.blendColor($.r,$.g,$.b,$.a),this.current=$,this.dirty=!1)},G}(Ie),bt=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return this.gl.FUNC_ADD},G.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.blendEquation($),this.current=$,this.dirty=!1)},G}(Ie),Ht=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function($){if($!==this.current||this.dirty){var ve=this.gl;$?ve.enable(ve.CULL_FACE):ve.disable(ve.CULL_FACE),this.current=$,this.dirty=!1}},G}(Ie),Je=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return this.gl.BACK},G.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.cullFace($),this.current=$,this.dirty=!1)},G}(Ie),Ce=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return this.gl.CCW},G.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.frontFace($),this.current=$,this.dirty=!1)},G}(Ie),Ee=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.useProgram($),this.current=$,this.dirty=!1)},G}(Ie),Re=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return this.gl.TEXTURE0},G.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.activeTexture($),this.current=$,this.dirty=!1)},G}(Ie),ke=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){var $=this.gl;return[0,0,$.drawingBufferWidth,$.drawingBufferHeight]},G.prototype.set=function($){var ve=this.current;$[0]===ve[0]&&$[1]===ve[1]&&$[2]===ve[2]&&$[3]===ve[3]&&!this.dirty||(this.gl.viewport($[0],$[1],$[2],$[3]),this.current=$,this.dirty=!1)},G}(Ie),Ne=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function($){if($!==this.current||this.dirty){var ve=this.gl;ve.bindFramebuffer(ve.FRAMEBUFFER,$),this.current=$,this.dirty=!1}},G}(Ie),_e=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function($){if($!==this.current||this.dirty){var ve=this.gl;ve.bindRenderbuffer(ve.RENDERBUFFER,$),this.current=$,this.dirty=!1}},G}(Ie),Te=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function($){if($!==this.current||this.dirty){var ve=this.gl;ve.bindTexture(ve.TEXTURE_2D,$),this.current=$,this.dirty=!1}},G}(Ie),fe=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function($){if($!==this.current||this.dirty){var ve=this.gl;ve.bindBuffer(ve.ARRAY_BUFFER,$),this.current=$,this.dirty=!1}},G}(Ie),pe=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function($){var ve=this.gl;ve.bindBuffer(ve.ELEMENT_ARRAY_BUFFER,$),this.current=$,this.dirty=!1},G}(Ie),Fe=function(le){function G(he){le.call(this,he),this.vao=he.extVertexArrayObject}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return null},G.prototype.set=function($){!this.vao||$===this.current&&!this.dirty||(this.vao.bindVertexArrayOES($),this.current=$,this.dirty=!1)},G}(Ie),Xe=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return 4},G.prototype.set=function($){if($!==this.current||this.dirty){var ve=this.gl;ve.pixelStorei(ve.UNPACK_ALIGNMENT,$),this.current=$,this.dirty=!1}},G}(Ie),at=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function($){if($!==this.current||this.dirty){var ve=this.gl;ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$),this.current=$,this.dirty=!1}},G}(Ie),ft=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return!1},G.prototype.set=function($){if($!==this.current||this.dirty){var ve=this.gl;ve.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,$),this.current=$,this.dirty=!1}},G}(Ie),Xt=function(le){function G(he,$){le.call(this,he),this.context=he,this.parent=$}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getDefault=function(){return null},G}(Ie),rr=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.setDirty=function(){this.dirty=!0},G.prototype.set=function($){if($!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ve=this.gl;ve.framebufferTexture2D(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_2D,$,0),this.current=$,this.dirty=!1}},G}(Xt),At=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.set=function($){if($!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ve=this.gl;ve.framebufferRenderbuffer(ve.FRAMEBUFFER,ve.DEPTH_ATTACHMENT,ve.RENDERBUFFER,$),this.current=$,this.dirty=!1}},G}(Xt),zt=function(G,he,$,ve){this.context=G,this.width=he,this.height=$;var Ze=this.framebuffer=G.gl.createFramebuffer();this.colorAttachment=new rr(G,Ze),ve&&(this.depthAttachment=new At(G,Ze))};zt.prototype.destroy=function(){var G=this.context.gl,he=this.colorAttachment.get();if(he&&G.deleteTexture(he),this.depthAttachment){var $=this.depthAttachment.get();$&&G.deleteRenderbuffer($)}G.deleteFramebuffer(this.framebuffer)};var Rr=function(G,he,$){this.func=G,this.mask=he,this.range=$};Rr.ReadOnly=!1,Rr.ReadWrite=!0,Rr.disabled=new Rr(519,Rr.ReadOnly,[0,1]);var tr=function(G,he,$,ve,Le,Ze){this.test=G,this.ref=he,this.mask=$,this.fail=ve,this.depthFail=Le,this.pass=Ze};tr.disabled=new tr({func:519,mask:0},0,0,7680,7680,7680);var it=function(G,he,$){this.blendFunction=G,this.blendColor=he,this.mask=$};it.Replace=[1,0],it.disabled=new it(it.Replace,o.Color.transparent,[!1,!1,!1,!1]),it.unblended=new it(it.Replace,o.Color.transparent,[!0,!0,!0,!0]),it.alphaBlended=new it([1,771],o.Color.transparent,[!0,!0,!0,!0]);var Lt=function(G,he,$){this.enable=G,this.mode=he,this.frontFace=$};Lt.disabled=new Lt(!1,1029,2305),Lt.backCCW=new Lt(!0,1029,2305);var Ct=function(G){this.gl=G,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Se(this),this.clearDepth=new xe(this),this.clearStencil=new Me(this),this.colorMask=new Ge(this),this.depthMask=new Ye(this),this.stencilMask=new De(this),this.stencilFunc=new He(this),this.stencilOp=new rt(this),this.stencilTest=new $e(this),this.depthRange=new Be(this),this.depthTest=new ze(this),this.depthFunc=new tt(this),this.blend=new lt(this),this.blendFunc=new ut(this),this.blendColor=new xt(this),this.blendEquation=new bt(this),this.cullFace=new Ht(this),this.cullFaceSide=new Je(this),this.frontFace=new Ce(this),this.program=new Ee(this),this.activeTexture=new Re(this),this.viewport=new ke(this),this.bindFramebuffer=new Ne(this),this.bindRenderbuffer=new _e(this),this.bindTexture=new Te(this),this.bindVertexBuffer=new fe(this),this.bindElementBuffer=new pe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Fe(this),this.pixelStoreUnpack=new Xe(this),this.pixelStoreUnpackPremultiplyAlpha=new at(this),this.pixelStoreUnpackFlipY=new ft(this),this.extTextureFilterAnisotropic=G.getExtension("EXT_texture_filter_anisotropic")||G.getExtension("MOZ_EXT_texture_filter_anisotropic")||G.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=G.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=G.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(G.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=G.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=G.getExtension("EXT_disjoint_timer_query")};Ct.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ct.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ct.prototype.createIndexBuffer=function(G,he){return new we(this,G,he)},Ct.prototype.createVertexBuffer=function(G,he,$){return new Pe(this,G,he,$)},Ct.prototype.createRenderbuffer=function(G,he,$){var ve=this.gl,Le=ve.createRenderbuffer();return this.bindRenderbuffer.set(Le),ve.renderbufferStorage(ve.RENDERBUFFER,G,he,$),this.bindRenderbuffer.set(null),Le},Ct.prototype.createFramebuffer=function(G,he,$){return new zt(this,G,he,$)},Ct.prototype.clear=function(G){var he=G.color,$=G.depth,ve=this.gl,Le=0;he&&(Le|=ve.COLOR_BUFFER_BIT,this.clearColor.set(he),this.colorMask.set([!0,!0,!0,!0])),typeof $<"u"&&(Le|=ve.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set($),this.depthMask.set(!0)),ve.clear(Le)},Ct.prototype.setCullFace=function(G){!1===G.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(G.mode),this.frontFace.set(G.frontFace))},Ct.prototype.setDepthMode=function(G){G.func!==this.gl.ALWAYS||G.mask?(this.depthTest.set(!0),this.depthFunc.set(G.func),this.depthMask.set(G.mask),this.depthRange.set(G.range)):this.depthTest.set(!1)},Ct.prototype.setStencilMode=function(G){G.test.func!==this.gl.ALWAYS||G.mask?(this.stencilTest.set(!0),this.stencilMask.set(G.mask),this.stencilOp.set([G.fail,G.depthFail,G.pass]),this.stencilFunc.set({func:G.test.func,ref:G.ref,mask:G.test.mask})):this.stencilTest.set(!1)},Ct.prototype.setColorMode=function(G){o.deepEqual(G.blendFunction,it.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(G.blendFunction),this.blendColor.set(G.blendColor)),this.colorMask.set(G.mask)},Ct.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ut=function(le){function G(he,$,ve){var Le=this;le.call(this),this.id=he,this.dispatcher=ve,this.on("data",function(Ze){"source"===Ze.dataType&&"metadata"===Ze.sourceDataType&&(Le._sourceLoaded=!0),Le._sourceLoaded&&!Le._paused&&"source"===Ze.dataType&&"content"===Ze.sourceDataType&&(Le.reload(),Le.transform&&Le.update(Le.transform))}),this.on("error",function(){Le._sourceErrored=!0}),this._source=function(le,G,he,$){var ve=new J[G.type](le,G,he,$);if(ve.id!==le)throw new Error("Expected Source id to be "+le+" instead of "+ve.id);return o.bindAll(["load","abort","unload","serialize","prepare"],ve),ve}(he,$,ve,this),this._tiles={},this._cache=new de(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new o.SourceFeatureState}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.onAdd=function($){this.map=$,this._maxTileCacheSize=$?$._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd($)},G.prototype.onRemove=function($){this._source&&this._source.onRemove&&this._source.onRemove($)},G.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var $ in this._tiles){var ve=this._tiles[$];if("loaded"!==ve.state&&"errored"!==ve.state)return!1}return!0},G.prototype.getSource=function(){return this._source},G.prototype.pause=function(){this._paused=!0},G.prototype.resume=function(){if(this._paused){var $=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,$&&this.reload(),this.transform&&this.update(this.transform)}},G.prototype._loadTile=function($,ve){return this._source.loadTile($,ve)},G.prototype._unloadTile=function($){if(this._source.unloadTile)return this._source.unloadTile($,function(){})},G.prototype._abortTile=function($){if(this._source.abortTile)return this._source.abortTile($,function(){})},G.prototype.serialize=function(){return this._source.serialize()},G.prototype.prepare=function($){for(var ve in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var Le=this._tiles[ve];Le.upload($),Le.prepare(this.map.style.imageManager)}},G.prototype.getIds=function(){return o.values(this._tiles).map(function($){return $.tileID}).sort(Bt).map(function($){return $.key})},G.prototype.getRenderableIds=function($){var ve=this,Le=[];for(var Ze in this._tiles)this._isIdRenderable(Ze,$)&&Le.push(this._tiles[Ze]);return $?Le.sort(function(st,wt){var Wt=st.tileID,nr=wt.tileID,yr=new o.Point(Wt.canonical.x,Wt.canonical.y)._rotate(ve.transform.angle),Cr=new o.Point(nr.canonical.x,nr.canonical.y)._rotate(ve.transform.angle);return Wt.overscaledZ-nr.overscaledZ||Cr.y-yr.y||Cr.x-yr.x}).map(function(st){return st.tileID.key}):Le.map(function(st){return st.tileID}).sort(Bt).map(function(st){return st.key})},G.prototype.hasRenderableParent=function($){var ve=this.findLoadedParent($,0);return!!ve&&this._isIdRenderable(ve.tileID.key)},G.prototype._isIdRenderable=function($,ve){return this._tiles[$]&&this._tiles[$].hasData()&&!this._coveredTiles[$]&&(ve||!this._tiles[$].holdingForFade())},G.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var $ in this._cache.reset(),this._tiles)"errored"!==this._tiles[$].state&&this._reloadTile($,"reloading")},G.prototype._reloadTile=function($,ve){var Le=this._tiles[$];Le&&("loading"!==Le.state&&(Le.state=ve),this._loadTile(Le,this._tileLoaded.bind(this,Le,$,ve)))},G.prototype._tileLoaded=function($,ve,Le,Ze){if(Ze)return $.state="errored",void(404!==Ze.status?this._source.fire(new o.ErrorEvent(Ze,{tile:$})):this.update(this.transform));$.timeAdded=o.browser.now(),"expired"===Le&&($.refreshedUponExpiration=!0),this._setTileReloadTimer(ve,$),"raster-dem"===this.getSource().type&&$.dem&&this._backfillDEM($),this._state.initializeTileState($,this.map?this.map.painter:null),this._source.fire(new o.Event("data",{dataType:"source",tile:$,coord:$.tileID}))},G.prototype._backfillDEM=function($){for(var ve=this.getRenderableIds(),Le=0;Le<ve.length;Le++){var Ze=ve[Le];if($.neighboringTiles&&$.neighboringTiles[Ze]){var st=this.getTileByID(Ze);wt($,st),wt(st,$)}}function wt(Wt,nr){Wt.needsHillshadePrepare=!0;var yr=nr.tileID.canonical.x-Wt.tileID.canonical.x,Cr=nr.tileID.canonical.y-Wt.tileID.canonical.y,Br=Math.pow(2,Wt.tileID.canonical.z),$r=nr.tileID.key;0===yr&&0===Cr||Math.abs(Cr)>1||(Math.abs(yr)>1&&(1===Math.abs(yr+Br)?yr+=Br:1===Math.abs(yr-Br)&&(yr-=Br)),nr.dem&&Wt.dem&&(Wt.dem.backfillBorder(nr.dem,yr,Cr),Wt.neighboringTiles&&Wt.neighboringTiles[$r]&&(Wt.neighboringTiles[$r].backfilled=!0)))}},G.prototype.getTile=function($){return this.getTileByID($.key)},G.prototype.getTileByID=function($){return this._tiles[$]},G.prototype._retainLoadedChildren=function($,ve,Le,Ze){for(var st in this._tiles){var wt=this._tiles[st];if(!(Ze[st]||!wt.hasData()||wt.tileID.overscaledZ<=ve||wt.tileID.overscaledZ>Le)){for(var Wt=wt.tileID;wt&&wt.tileID.overscaledZ>ve+1;){var nr=wt.tileID.scaledTo(wt.tileID.overscaledZ-1);(wt=this._tiles[nr.key])&&wt.hasData()&&(Wt=nr)}for(var yr=Wt;yr.overscaledZ>ve;)if($[(yr=yr.scaledTo(yr.overscaledZ-1)).key]){Ze[Wt.key]=Wt;break}}}},G.prototype.findLoadedParent=function($,ve){if($.key in this._loadedParentTiles){var Le=this._loadedParentTiles[$.key];return Le&&Le.tileID.overscaledZ>=ve?Le:null}for(var Ze=$.overscaledZ-1;Ze>=ve;Ze--){var st=$.scaledTo(Ze),wt=this._getLoadedTile(st);if(wt)return wt}},G.prototype._getLoadedTile=function($){var ve=this._tiles[$.key];return ve&&ve.hasData()?ve:this._cache.getByKey($.wrapped().key)},G.prototype.updateCacheSize=function($){var ve=Math.ceil($.width/this._source.tileSize)+1,Le=Math.ceil($.height/this._source.tileSize)+1,wt=Math.floor(ve*Le*5),Wt="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,wt):wt;this._cache.setMaxSize(Wt)},G.prototype.handleWrapJump=function($){var st=Math.round(($-(void 0===this._prevLng?$:this._prevLng))/360);if(this._prevLng=$,st){var wt={};for(var Wt in this._tiles){var nr=this._tiles[Wt];nr.tileID=nr.tileID.unwrapTo(nr.tileID.wrap+st),wt[nr.tileID.key]=nr}for(var yr in this._tiles=wt,this._timers)clearTimeout(this._timers[yr]),delete this._timers[yr];for(var Cr in this._tiles)this._setTileReloadTimer(Cr,this._tiles[Cr])}},G.prototype.update=function($){var ve=this;if(this.transform=$,this._sourceLoaded&&!this._paused){var Le;this.updateCacheSize($),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?Le=$.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ga){return new o.OverscaledTileID(ga.canonical.z,ga.wrap,ga.canonical.z,ga.canonical.x,ga.canonical.y)}):(Le=$.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Le=Le.filter(function(ga){return ve._source.hasTile(ga)}))):Le=[];var Ze=$.coveringZoomLevel(this._source),st=Math.max(Ze-G.maxOverzooming,this._source.minzoom),wt=Math.max(Ze+G.maxUnderzooming,this._source.minzoom),Wt=this._updateRetainedTiles(Le,Ze);if(qt(this._source.type)){for(var nr={},yr={},Br=0,$r=Object.keys(Wt);Br<$r.length;Br+=1){var qr=$r[Br],jr=Wt[qr],nn=this._tiles[qr];if(nn&&!(nn.fadeEndTime&&nn.fadeEndTime<=o.browser.now())){var wn=this.findLoadedParent(jr,st);wn&&(this._addTile(wn.tileID),nr[wn.tileID.key]=wn.tileID),yr[qr]=jr}}for(var _n in this._retainLoadedChildren(yr,Ze,wt,Wt),nr)Wt[_n]||(this._coveredTiles[_n]=!0,Wt[_n]=nr[_n])}for(var Un in Wt)this._tiles[Un].clearFadeHold();for(var ta=0,qn=o.keysDifference(this._tiles,Wt);ta<qn.length;ta+=1){var ua=qn[ta],xa=this._tiles[ua];xa.hasSymbolBuckets&&!xa.holdingForFade()?xa.setHoldDuration(this.map._fadeDuration):(!xa.hasSymbolBuckets||xa.symbolFadeFinished())&&this._removeTile(ua)}this._updateLoadedParentTileCache()}},G.prototype.releaseSymbolFadeTiles=function(){for(var $ in this._tiles)this._tiles[$].holdingForFade()&&this._removeTile($)},G.prototype._updateRetainedTiles=function($,ve){for(var Le={},Ze={},st=Math.max(ve-G.maxOverzooming,this._source.minzoom),wt=Math.max(ve+G.maxUnderzooming,this._source.minzoom),Wt={},nr=0,yr=$;nr<yr.length;nr+=1){var Cr=yr[nr],Br=this._addTile(Cr);Le[Cr.key]=Cr,!Br.hasData()&&ve<this._source.maxzoom&&(Wt[Cr.key]=Cr)}this._retainLoadedChildren(Wt,ve,wt,Le);for(var $r=0,qr=$;$r<qr.length;$r+=1){var jr=qr[$r],nn=this._tiles[jr.key];if(!nn.hasData()){if(ve+1>this._source.maxzoom){var wn=jr.children(this._source.maxzoom)[0],_n=this.getTile(wn);if(_n&&_n.hasData()){Le[wn.key]=wn;continue}}else{var Un=jr.children(this._source.maxzoom);if(Le[Un[0].key]&&Le[Un[1].key]&&Le[Un[2].key]&&Le[Un[3].key])continue}for(var $n=nn.wasRequested(),ta=jr.overscaledZ-1;ta>=st;--ta){var qn=jr.scaledTo(ta);if(Ze[qn.key]||(Ze[qn.key]=!0,!(nn=this.getTile(qn))&&$n&&(nn=this._addTile(qn)),nn&&(Le[qn.key]=qn,$n=nn.wasRequested(),nn.hasData())))break}}}return Le},G.prototype._updateLoadedParentTileCache=function(){for(var $ in this._loadedParentTiles={},this._tiles){for(var ve=[],Le=void 0,Ze=this._tiles[$].tileID;Ze.overscaledZ>0;){if(Ze.key in this._loadedParentTiles){Le=this._loadedParentTiles[Ze.key];break}ve.push(Ze.key);var st=Ze.scaledTo(Ze.overscaledZ-1);if(Le=this._getLoadedTile(st))break;Ze=st}for(var wt=0,Wt=ve;wt<Wt.length;wt+=1)this._loadedParentTiles[Wt[wt]]=Le}},G.prototype._addTile=function($){var ve=this._tiles[$.key];if(ve)return ve;(ve=this._cache.getAndRemove($))&&(this._setTileReloadTimer($.key,ve),ve.tileID=$,this._state.initializeTileState(ve,this.map?this.map.painter:null),this._cacheTimers[$.key]&&(clearTimeout(this._cacheTimers[$.key]),delete this._cacheTimers[$.key],this._setTileReloadTimer($.key,ve)));var Le=!!ve;return Le||(ve=new o.Tile($,this._source.tileSize*$.overscaleFactor()),this._loadTile(ve,this._tileLoaded.bind(this,ve,$.key,ve.state))),ve?(ve.uses++,this._tiles[$.key]=ve,Le||this._source.fire(new o.Event("dataloading",{tile:ve,coord:ve.tileID,dataType:"source"})),ve):null},G.prototype._setTileReloadTimer=function($,ve){var Le=this;$ in this._timers&&(clearTimeout(this._timers[$]),delete this._timers[$]);var Ze=ve.getExpiryTimeout();Ze&&(this._timers[$]=setTimeout(function(){Le._reloadTile($,"expired"),delete Le._timers[$]},Ze))},G.prototype._removeTile=function($){var ve=this._tiles[$];ve&&(ve.uses--,delete this._tiles[$],this._timers[$]&&(clearTimeout(this._timers[$]),delete this._timers[$]),!(ve.uses>0)&&(ve.hasData()&&"reloading"!==ve.state?this._cache.add(ve.tileID,ve,ve.getExpiryTimeout()):(ve.aborted=!0,this._abortTile(ve),this._unloadTile(ve))))},G.prototype.clearTiles=function(){for(var $ in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile($);this._cache.reset()},G.prototype.tilesIn=function($,ve,Le){var Ze=this,st=[],wt=this.transform;if(!wt)return st;for(var Wt=Le?wt.getCameraQueryGeometry($):$,nr=$.map(function(ta){return wt.pointCoordinate(ta)}),yr=Wt.map(function(ta){return wt.pointCoordinate(ta)}),Cr=this.getIds(),Br=1/0,$r=1/0,qr=-1/0,jr=-1/0,nn=0,wn=yr;nn<wn.length;nn+=1){var _n=wn[nn];Br=Math.min(Br,_n.x),$r=Math.min($r,_n.y),qr=Math.max(qr,_n.x),jr=Math.max(jr,_n.y)}for(var Un=function(ta){var qn=Ze._tiles[Cr[ta]];if(!qn.holdingForFade()){var ua=qn.tileID,xa=Math.pow(2,wt.zoom-qn.tileID.overscaledZ),ga=ve*qn.queryPadding*o.EXTENT/qn.tileSize/xa,Ta=[ua.getTilePoint(new o.MercatorCoordinate(Br,$r)),ua.getTilePoint(new o.MercatorCoordinate(qr,jr))];if(Ta[0].x-ga<o.EXTENT&&Ta[0].y-ga<o.EXTENT&&Ta[1].x+ga>=0&&Ta[1].y+ga>=0){var Pa=nr.map(function(qa){return ua.getTilePoint(qa)}),Wa=yr.map(function(qa){return ua.getTilePoint(qa)});st.push({tile:qn,tileID:ua,queryGeometry:Pa,cameraQueryGeometry:Wa,scale:xa})}}},$n=0;$n<Cr.length;$n++)Un($n);return st},G.prototype.getVisibleCoordinates=function($){for(var ve=this,Le=this.getRenderableIds($).map(function(Wt){return ve._tiles[Wt].tileID}),Ze=0,st=Le;Ze<st.length;Ze+=1){var wt=st[Ze];wt.posMatrix=this.transform.calculatePosMatrix(wt.toUnwrapped())}return Le},G.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(qt(this._source.type))for(var $ in this._tiles){var ve=this._tiles[$];if(void 0!==ve.fadeEndTime&&ve.fadeEndTime>=o.browser.now())return!0}return!1},G.prototype.setFeatureState=function($,ve,Le){this._state.updateState($=$||"_geojsonTileLayer",ve,Le)},G.prototype.removeFeatureState=function($,ve,Le){this._state.removeFeatureState($=$||"_geojsonTileLayer",ve,Le)},G.prototype.getFeatureState=function($,ve){return this._state.getState($=$||"_geojsonTileLayer",ve)},G.prototype.setDependencies=function($,ve,Le){var Ze=this._tiles[$];Ze&&Ze.setDependencies(ve,Le)},G.prototype.reloadTilesForDependencies=function($,ve){for(var Le in this._tiles)this._tiles[Le].hasDependency($,ve)&&this._reloadTile(Le,"reloading");this._cache.filter(function(st){return!st.hasDependency($,ve)})},G}(o.Evented);function Bt(le,G){var he=Math.abs(2*le.wrap)-+(le.wrap<0),$=Math.abs(2*G.wrap)-+(G.wrap<0);return le.overscaledZ-G.overscaledZ||$-he||G.canonical.y-le.canonical.y||G.canonical.x-le.canonical.x}function qt(le){return"raster"===le||"image"===le||"video"===le}function cr(){return new o.window.Worker(Sc.workerUrl)}Ut.maxOverzooming=10,Ut.maxUnderzooming=3;var lr="mapboxgl_preloaded_worker_pool",br=function(){this.active={}};br.prototype.acquire=function(G){if(!this.workers)for(this.workers=[];this.workers.length<br.workerCount;)this.workers.push(new cr);return this.active[G]=!0,this.workers.slice()},br.prototype.release=function(G){delete this.active[G],0===this.numActive()&&(this.workers.forEach(function(he){he.terminate()}),this.workers=null)},br.prototype.isPreloaded=function(){return!!this.active[lr]},br.prototype.numActive=function(){return Object.keys(this.active).length};var Ve,We=Math.floor(o.browser.hardwareConcurrency/2);function Rt(){return Ve||(Ve=new br),Ve}function sr(le,G){var he={};for(var $ in le)"ref"!==$&&(he[$]=le[$]);return o.refProperties.forEach(function(ve){ve in G&&(he[ve]=G[ve])}),he}function hr(le){le=le.slice();for(var G=Object.create(null),he=0;he<le.length;he++)G[le[he].id]=le[he];for(var $=0;$<le.length;$++)"ref"in le[$]&&(le[$]=sr(le[$],G[le[$].ref]));return le}br.workerCount=Math.max(Math.min(We,6),1);var Nt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function dr(le,G,he){he.push({command:Nt.addSource,args:[le,G[le]]})}function Mr(le,G,he){G.push({command:Nt.removeSource,args:[le]}),he[le]=!0}function wr(le,G,he,$){Mr(le,he,$),dr(le,G,he)}function kr(le,G,he){var $;for($ in le[he])if(le[he].hasOwnProperty($)&&"data"!==$&&!o.deepEqual(le[he][$],G[he][$]))return!1;for($ in G[he])if(G[he].hasOwnProperty($)&&"data"!==$&&!o.deepEqual(le[he][$],G[he][$]))return!1;return!0}function _r(le,G,he,$,ve,Le){var Ze;for(Ze in G=G||{},le=le||{})le.hasOwnProperty(Ze)&&(o.deepEqual(le[Ze],G[Ze])||he.push({command:Le,args:[$,Ze,G[Ze],ve]}));for(Ze in G)!G.hasOwnProperty(Ze)||le.hasOwnProperty(Ze)||o.deepEqual(le[Ze],G[Ze])||he.push({command:Le,args:[$,Ze,G[Ze],ve]})}function Kr(le){return le.id}function vn(le,G){return le[G.id]=G,le}function On(le,G){if(!le)return[{command:Nt.setStyle,args:[G]}];var he=[];try{if(!o.deepEqual(le.version,G.version))return[{command:Nt.setStyle,args:[G]}];o.deepEqual(le.center,G.center)||he.push({command:Nt.setCenter,args:[G.center]}),o.deepEqual(le.zoom,G.zoom)||he.push({command:Nt.setZoom,args:[G.zoom]}),o.deepEqual(le.bearing,G.bearing)||he.push({command:Nt.setBearing,args:[G.bearing]}),o.deepEqual(le.pitch,G.pitch)||he.push({command:Nt.setPitch,args:[G.pitch]}),o.deepEqual(le.sprite,G.sprite)||he.push({command:Nt.setSprite,args:[G.sprite]}),o.deepEqual(le.glyphs,G.glyphs)||he.push({command:Nt.setGlyphs,args:[G.glyphs]}),o.deepEqual(le.transition,G.transition)||he.push({command:Nt.setTransition,args:[G.transition]}),o.deepEqual(le.light,G.light)||he.push({command:Nt.setLight,args:[G.light]});var $={},ve=[];!function tn(le,G,he,$){var ve;for(ve in G=G||{},le=le||{})le.hasOwnProperty(ve)&&(G.hasOwnProperty(ve)||Mr(ve,he,$));for(ve in G)G.hasOwnProperty(ve)&&(le.hasOwnProperty(ve)?o.deepEqual(le[ve],G[ve])||("geojson"===le[ve].type&&"geojson"===G[ve].type&&kr(le,G,ve)?he.push({command:Nt.setGeoJSONSourceData,args:[ve,G[ve].data]}):wr(ve,G,he,$)):dr(ve,G,he))}(le.sources,G.sources,ve,$);var Le=[];le.layers&&le.layers.forEach(function(Ze){$[Ze.source]?he.push({command:Nt.removeLayer,args:[Ze.id]}):Le.push(Ze)}),he=he.concat(ve),function Xr(le,G,he){G=G||[];var Wt,nr,yr,Cr,Br,$r,qr,$=(le=le||[]).map(Kr),ve=G.map(Kr),Le=le.reduce(vn,{}),Ze=G.reduce(vn,{}),st=$.slice(),wt=Object.create(null);for(Wt=0,nr=0;Wt<$.length;Wt++)Ze.hasOwnProperty(yr=$[Wt])?nr++:(he.push({command:Nt.removeLayer,args:[yr]}),st.splice(st.indexOf(yr,nr),1));for(Wt=0,nr=0;Wt<ve.length;Wt++)st[st.length-1-Wt]!==(yr=ve[ve.length-1-Wt])&&(Le.hasOwnProperty(yr)?(he.push({command:Nt.removeLayer,args:[yr]}),st.splice(st.lastIndexOf(yr,st.length-nr),1)):nr++,he.push({command:Nt.addLayer,args:[Ze[yr],$r=st[st.length-Wt]]}),st.splice(st.length-Wt,0,yr),wt[yr]=!0);for(Wt=0;Wt<ve.length;Wt++)if(Cr=Le[yr=ve[Wt]],Br=Ze[yr],!wt[yr]&&!o.deepEqual(Cr,Br)){if(!o.deepEqual(Cr.source,Br.source)||!o.deepEqual(Cr["source-layer"],Br["source-layer"])||!o.deepEqual(Cr.type,Br.type)){he.push({command:Nt.removeLayer,args:[yr]}),$r=st[st.lastIndexOf(yr)+1],he.push({command:Nt.addLayer,args:[Br,$r]});continue}for(qr in _r(Cr.layout,Br.layout,he,yr,null,Nt.setLayoutProperty),_r(Cr.paint,Br.paint,he,yr,null,Nt.setPaintProperty),o.deepEqual(Cr.filter,Br.filter)||he.push({command:Nt.setFilter,args:[yr,Br.filter]}),(!o.deepEqual(Cr.minzoom,Br.minzoom)||!o.deepEqual(Cr.maxzoom,Br.maxzoom))&&he.push({command:Nt.setLayerZoomRange,args:[yr,Br.minzoom,Br.maxzoom]}),Cr)Cr.hasOwnProperty(qr)&&("layout"===qr||"paint"===qr||"filter"===qr||"metadata"===qr||"minzoom"===qr||"maxzoom"===qr||(0===qr.indexOf("paint.")?_r(Cr[qr],Br[qr],he,yr,qr.slice(6),Nt.setPaintProperty):o.deepEqual(Cr[qr],Br[qr])||he.push({command:Nt.setLayerProperty,args:[yr,qr,Br[qr]]})));for(qr in Br)!Br.hasOwnProperty(qr)||Cr.hasOwnProperty(qr)||"layout"===qr||"paint"===qr||"filter"===qr||"metadata"===qr||"minzoom"===qr||"maxzoom"===qr||(0===qr.indexOf("paint.")?_r(Cr[qr],Br[qr],he,yr,qr.slice(6),Nt.setPaintProperty):o.deepEqual(Cr[qr],Br[qr])||he.push({command:Nt.setLayerProperty,args:[yr,qr,Br[qr]]}))}}(Le,G.layers,he)}catch(Ze){console.warn("Unable to compute style diff:",Ze),he=[{command:Nt.setStyle,args:[G]}]}return he}var mn=function(G,he){this.reset(G,he)};mn.prototype.reset=function(G,he){this.points=G||[],this._distances=[0];for(var $=1;$<this.points.length;$++)this._distances[$]=this._distances[$-1]+this.points[$].dist(this.points[$-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(he||0,.5*this.length),this.paddedLength=this.length-2*this.padding},mn.prototype.lerp=function(G){if(1===this.points.length)return this.points[0];G=o.clamp(G,0,1);for(var he=1,$=this._distances[he],ve=G*this.paddedLength+this.padding;$<ve&&he<this._distances.length;)$=this._distances[++he];var Le=he-1,Ze=this._distances[Le],st=$-Ze,wt=st>0?(ve-Ze)/st:0;return this.points[Le].mult(1-wt).add(this.points[he].mult(wt))};var xr=function(G,he,$){var ve=this.boxCells=[],Le=this.circleCells=[];this.xCellCount=Math.ceil(G/$),this.yCellCount=Math.ceil(he/$);for(var Ze=0;Ze<this.xCellCount*this.yCellCount;Ze++)ve.push([]),Le.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=G,this.height=he,this.xScale=this.xCellCount/G,this.yScale=this.yCellCount/he,this.boxUid=0,this.circleUid=0};function Pr(le,G,he,$,ve){var Le=o.create();return G?(o.scale(Le,Le,[1/ve,1/ve,1]),he||o.rotateZ(Le,Le,$.angle)):o.multiply(Le,$.labelPlaneMatrix,le),Le}function Zr(le,G,he,$,ve){if(G){var Le=o.clone(le);return o.scale(Le,Le,[ve,ve,1]),he||o.rotateZ(Le,Le,-$.angle),Le}return $.glCoordMatrix}function Hr(le,G){var he=[le.x,le.y,0,1];Sr(he,he,G);var $=he[3];return{point:new o.Point(he[0]/$,he[1]/$),signedDistanceFromCamera:$}}function fn(le,G){return.5+le/G*.5}function Tn(le,G){var he=le[0]/le[3],$=le[1]/le[3];return he>=-G[0]&&he<=G[0]&&$>=-G[1]&&$<=G[1]}function Mn(le,G,he,$,ve,Le,Ze,st){var wt=$?le.textSizeData:le.iconSizeData,Wt=o.evaluateSizeForZoom(wt,he.transform.zoom),nr=[256/he.width*2+1,256/he.height*2+1],yr=$?le.text.dynamicLayoutVertexArray:le.icon.dynamicLayoutVertexArray;yr.clear();for(var Cr=le.lineVertexArray,Br=$?le.text.placedSymbolArray:le.icon.placedSymbolArray,$r=he.transform.width/he.transform.height,qr=!1,jr=0;jr<Br.length;jr++){var nn=Br.get(jr);if(nn.hidden||nn.writingMode===o.WritingMode.vertical&&!qr)ra(nn.numGlyphs,yr);else{qr=!1;var wn=[nn.anchorX,nn.anchorY,0,1];if(o.transformMat4(wn,wn,G),Tn(wn,nr)){var Un=fn(he.transform.cameraToCenterDistance,wn[3]),$n=o.evaluateSizeForFeature(wt,Wt,nn),ta=Ze?$n/Un:$n*Un,qn=new o.Point(nn.anchorX,nn.anchorY),ua=Hr(qn,ve).point,xa={},ga=la(nn,ta,!1,st,G,ve,Le,le.glyphOffsetArray,Cr,yr,ua,qn,xa,$r);qr=ga.useVertical,(ga.notEnoughRoom||qr||ga.needsFlipping&&la(nn,ta,!0,st,G,ve,Le,le.glyphOffsetArray,Cr,yr,ua,qn,xa,$r).notEnoughRoom)&&ra(nn.numGlyphs,yr)}else ra(nn.numGlyphs,yr)}}$?le.text.dynamicLayoutVertexBuffer.updateData(yr):le.icon.dynamicLayoutVertexBuffer.updateData(yr)}function Pn(le,G,he,$,ve,Le,Ze,st,wt,Wt,nr){var yr=st.glyphStartIndex+st.numGlyphs,Cr=st.lineStartIndex,Br=st.lineStartIndex+st.lineLength,$r=G.getoffsetX(st.glyphStartIndex),qr=G.getoffsetX(yr-1),jr=na(le*$r,he,$,ve,Le,Ze,st.segment,Cr,Br,wt,Wt,nr);if(!jr)return null;var nn=na(le*qr,he,$,ve,Le,Ze,st.segment,Cr,Br,wt,Wt,nr);return nn?{first:jr,last:nn}:null}function Fn(le,G,he,$){return le===o.WritingMode.horizontal&&Math.abs(he.y-G.y)>Math.abs(he.x-G.x)*$?{useVertical:!0}:(le===o.WritingMode.vertical?G.y<he.y:G.x>he.x)?{needsFlipping:!0}:null}function la(le,G,he,$,ve,Le,Ze,st,wt,Wt,nr,yr,Cr,Br){var nn,$r=G/24,qr=le.lineOffsetX*$r,jr=le.lineOffsetY*$r;if(le.numGlyphs>1){var wn=le.glyphStartIndex+le.numGlyphs,_n=le.lineStartIndex,Un=le.lineStartIndex+le.lineLength,$n=Pn($r,st,qr,jr,he,nr,yr,le,wt,Le,Cr);if(!$n)return{notEnoughRoom:!0};var ta=Hr($n.first.point,Ze).point,qn=Hr($n.last.point,Ze).point;if($&&!he){var ua=Fn(le.writingMode,ta,qn,Br);if(ua)return ua}nn=[$n.first];for(var xa=le.glyphStartIndex+1;xa<wn-1;xa++)nn.push(na($r*st.getoffsetX(xa),qr,jr,he,nr,yr,le.segment,_n,Un,wt,Le,Cr));nn.push($n.last)}else{if($&&!he){var ga=Hr(yr,ve).point,Ta=le.lineStartIndex+le.segment+1,Pa=new o.Point(wt.getx(Ta),wt.gety(Ta)),Wa=Hr(Pa,ve),qa=Wa.signedDistanceFromCamera>0?Wa.point:Xn(yr,Pa,ga,1,ve),Li=Fn(le.writingMode,ga,qa,Br);if(Li)return Li}var ni=na($r*st.getoffsetX(le.glyphStartIndex),qr,jr,he,nr,yr,le.segment,le.lineStartIndex,le.lineStartIndex+le.lineLength,wt,Le,Cr);if(!ni)return{notEnoughRoom:!0};nn=[ni]}for(var vi=0,Oa=nn;vi<Oa.length;vi+=1){var Pi=Oa[vi];o.addDynamicAttributes(Wt,Pi.point,Pi.angle)}return{}}function Xn(le,G,he,$,ve){var Le=Hr(le.add(le.sub(G)._unit()),ve).point,Ze=he.sub(Le);return he.add(Ze._mult($/Ze.mag()))}function na(le,G,he,$,ve,Le,Ze,st,wt,Wt,nr,yr){var Cr=$?le-G:le+G,Br=Cr>0?1:-1,$r=0;$&&(Br*=-1,$r=Math.PI),Br<0&&($r+=Math.PI);for(var qr=Br>0?st+Ze:st+Ze+1,jr=ve,nn=ve,wn=0,_n=0,Un=Math.abs(Cr),$n=[];wn+_n<=Un;){if((qr+=Br)<st||qr>=wt)return null;if(nn=jr,$n.push(jr),void 0===(jr=yr[qr])){var ta=new o.Point(Wt.getx(qr),Wt.gety(qr)),qn=Hr(ta,nr);if(qn.signedDistanceFromCamera>0)jr=yr[qr]=qn.point;else{var ua=qr-Br;jr=Xn(0===wn?Le:new o.Point(Wt.getx(ua),Wt.gety(ua)),ta,nn,Un-wn+1,nr)}}wn+=_n,_n=nn.dist(jr)}var ga=(Un-wn)/_n,Ta=jr.sub(nn),Pa=Ta.mult(ga)._add(nn);Pa._add(Ta._unit()._perp()._mult(he*Br));var Wa=$r+Math.atan2(jr.y-nn.y,jr.x-nn.x);return $n.push(Pa),{point:Pa,angle:Wa,path:$n}}xr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},xr.prototype.insert=function(G,he,$,ve,Le){this._forEachCell(he,$,ve,Le,this._insertBoxCell,this.boxUid++),this.boxKeys.push(G),this.bboxes.push(he),this.bboxes.push($),this.bboxes.push(ve),this.bboxes.push(Le)},xr.prototype.insertCircle=function(G,he,$,ve){this._forEachCell(he-ve,$-ve,he+ve,$+ve,this._insertCircleCell,this.circleUid++),this.circleKeys.push(G),this.circles.push(he),this.circles.push($),this.circles.push(ve)},xr.prototype._insertBoxCell=function(G,he,$,ve,Le,Ze){this.boxCells[Le].push(Ze)},xr.prototype._insertCircleCell=function(G,he,$,ve,Le,Ze){this.circleCells[Le].push(Ze)},xr.prototype._query=function(G,he,$,ve,Le,Ze){if($<0||G>this.width||ve<0||he>this.height)return!Le&&[];var st=[];if(G<=0&&he<=0&&this.width<=$&&this.height<=ve){if(Le)return!0;for(var wt=0;wt<this.boxKeys.length;wt++)st.push({key:this.boxKeys[wt],x1:this.bboxes[4*wt],y1:this.bboxes[4*wt+1],x2:this.bboxes[4*wt+2],y2:this.bboxes[4*wt+3]});for(var Wt=0;Wt<this.circleKeys.length;Wt++){var nr=this.circles[3*Wt],yr=this.circles[3*Wt+1],Cr=this.circles[3*Wt+2];st.push({key:this.circleKeys[Wt],x1:nr-Cr,y1:yr-Cr,x2:nr+Cr,y2:yr+Cr})}return Ze?st.filter(Ze):st}return this._forEachCell(G,he,$,ve,this._queryCell,st,{hitTest:Le,seenUids:{box:{},circle:{}}},Ze),Le?st.length>0:st},xr.prototype._queryCircle=function(G,he,$,ve,Le){var Ze=G-$,st=G+$,wt=he-$,Wt=he+$;if(st<0||Ze>this.width||Wt<0||wt>this.height)return!ve&&[];var nr=[];return this._forEachCell(Ze,wt,st,Wt,this._queryCellCircle,nr,{hitTest:ve,circle:{x:G,y:he,radius:$},seenUids:{box:{},circle:{}}},Le),ve?nr.length>0:nr},xr.prototype.query=function(G,he,$,ve,Le){return this._query(G,he,$,ve,!1,Le)},xr.prototype.hitTest=function(G,he,$,ve,Le){return this._query(G,he,$,ve,!0,Le)},xr.prototype.hitTestCircle=function(G,he,$,ve){return this._queryCircle(G,he,$,!0,ve)},xr.prototype._queryCell=function(G,he,$,ve,Le,Ze,st,wt){var Wt=st.seenUids,nr=this.boxCells[Le];if(null!==nr)for(var yr=this.bboxes,Cr=0,Br=nr;Cr<Br.length;Cr+=1){var $r=Br[Cr];if(!Wt.box[$r]){Wt.box[$r]=!0;var qr=4*$r;if(G<=yr[qr+2]&&he<=yr[qr+3]&&$>=yr[qr+0]&&ve>=yr[qr+1]&&(!wt||wt(this.boxKeys[$r]))){if(st.hitTest)return Ze.push(!0),!0;Ze.push({key:this.boxKeys[$r],x1:yr[qr],y1:yr[qr+1],x2:yr[qr+2],y2:yr[qr+3]})}}}var jr=this.circleCells[Le];if(null!==jr)for(var nn=this.circles,wn=0,_n=jr;wn<_n.length;wn+=1){var Un=_n[wn];if(!Wt.circle[Un]){Wt.circle[Un]=!0;var $n=3*Un;if(this._circleAndRectCollide(nn[$n],nn[$n+1],nn[$n+2],G,he,$,ve)&&(!wt||wt(this.circleKeys[Un]))){if(st.hitTest)return Ze.push(!0),!0;var ta=nn[$n],qn=nn[$n+1],ua=nn[$n+2];Ze.push({key:this.circleKeys[Un],x1:ta-ua,y1:qn-ua,x2:ta+ua,y2:qn+ua})}}}},xr.prototype._queryCellCircle=function(G,he,$,ve,Le,Ze,st,wt){var Wt=st.circle,nr=st.seenUids,yr=this.boxCells[Le];if(null!==yr)for(var Cr=this.bboxes,Br=0,$r=yr;Br<$r.length;Br+=1){var qr=$r[Br];if(!nr.box[qr]){nr.box[qr]=!0;var jr=4*qr;if(this._circleAndRectCollide(Wt.x,Wt.y,Wt.radius,Cr[jr+0],Cr[jr+1],Cr[jr+2],Cr[jr+3])&&(!wt||wt(this.boxKeys[qr])))return Ze.push(!0),!0}}var nn=this.circleCells[Le];if(null!==nn)for(var wn=this.circles,_n=0,Un=nn;_n<Un.length;_n+=1){var $n=Un[_n];if(!nr.circle[$n]){nr.circle[$n]=!0;var ta=3*$n;if(this._circlesCollide(wn[ta],wn[ta+1],wn[ta+2],Wt.x,Wt.y,Wt.radius)&&(!wt||wt(this.circleKeys[$n])))return Ze.push(!0),!0}}},xr.prototype._forEachCell=function(G,he,$,ve,Le,Ze,st,wt){for(var Wt=this._convertToXCellCoord(G),nr=this._convertToYCellCoord(he),yr=this._convertToXCellCoord($),Cr=this._convertToYCellCoord(ve),Br=Wt;Br<=yr;Br++)for(var $r=nr;$r<=Cr;$r++)if(Le.call(this,G,he,$,ve,this.xCellCount*$r+Br,Ze,st,wt))return},xr.prototype._convertToXCellCoord=function(G){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(G*this.xScale)))},xr.prototype._convertToYCellCoord=function(G){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(G*this.yScale)))},xr.prototype._circlesCollide=function(G,he,$,ve,Le,Ze){var st=ve-G,wt=Le-he,Wt=$+Ze;return Wt*Wt>st*st+wt*wt},xr.prototype._circleAndRectCollide=function(G,he,$,ve,Le,Ze,st){var wt=(Ze-ve)/2,Wt=Math.abs(G-(ve+wt));if(Wt>wt+$)return!1;var nr=(st-Le)/2,yr=Math.abs(he-(Le+nr));if(yr>nr+$)return!1;if(Wt<=wt||yr<=nr)return!0;var Cr=Wt-wt,Br=yr-nr;return Cr*Cr+Br*Br<=$*$};var Yn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ra(le,G){for(var he=0;he<le;he++){var $=G.length;G.resize($+4),G.float32.set(Yn,3*$)}}function Sr(le,G,he){var $=G[0],ve=G[1];return le[0]=he[0]*$+he[4]*ve+he[12],le[1]=he[1]*$+he[5]*ve+he[13],le[3]=he[3]*$+he[7]*ve+he[15],le}var un=100,ln=function(G,he,$){void 0===he&&(he=new xr(G.width+200,G.height+200,25)),void 0===$&&($=new xr(G.width+200,G.height+200,25)),this.transform=G,this.grid=he,this.ignoredGrid=$,this.pitchfactor=Math.cos(G._pitch)*G.cameraToCenterDistance,this.screenRightBoundary=G.width+un,this.screenBottomBoundary=G.height+un,this.gridRightBoundary=G.width+200,this.gridBottomBoundary=G.height+200};function An(le,G,he){return G*(o.EXTENT/(le.tileSize*Math.pow(2,he-le.tileID.overscaledZ)))}ln.prototype.placeCollisionBox=function(G,he,$,ve,Le){var Ze=this.projectAndGetPerspectiveRatio(ve,G.anchorPointX,G.anchorPointY),st=$*Ze.perspectiveRatio,wt=G.x1*st+Ze.point.x,Wt=G.y1*st+Ze.point.y,nr=G.x2*st+Ze.point.x,yr=G.y2*st+Ze.point.y;return!this.isInsideGrid(wt,Wt,nr,yr)||!he&&this.grid.hitTest(wt,Wt,nr,yr,Le)?{box:[],offscreen:!1}:{box:[wt,Wt,nr,yr],offscreen:this.isOffscreen(wt,Wt,nr,yr)}},ln.prototype.placeCollisionCircles=function(G,he,$,ve,Le,Ze,st,wt,Wt,nr,yr,Cr,Br){var $r=[],qr=new o.Point(he.anchorX,he.anchorY),jr=Hr(qr,Ze),nn=fn(this.transform.cameraToCenterDistance,jr.signedDistanceFromCamera),_n=(nr?Le/nn:Le*nn)/o.ONE_EM,Un=Hr(qr,st).point,ua=Pn(_n,ve,he.lineOffsetX*_n,he.lineOffsetY*_n,!1,Un,qr,he,$,st,{}),xa=!1,ga=!1,Ta=!0;if(ua){for(var Pa=.5*Cr*nn+Br,Wa=new o.Point(-un,-un),qa=new o.Point(this.screenRightBoundary,this.screenBottomBoundary),Li=new mn,ni=ua.first,vi=ua.last,Oa=[],Pi=ni.path.length-1;Pi>=1;Pi--)Oa.push(ni.path[Pi]);for(var Ni=1;Ni<vi.path.length;Ni++)Oa.push(vi.path[Ni]);var Xi=2.5*Pa;if(wt){var yi=Oa.map(function(Wl){return Hr(Wl,wt)});Oa=yi.some(function(Wl){return Wl.signedDistanceFromCamera<=0})?[]:yi.map(function(Wl){return Wl.point})}var no=[];if(Oa.length>0){for(var ei=Oa[0].clone(),xi=Oa[0].clone(),Eo=1;Eo<Oa.length;Eo++)ei.x=Math.min(ei.x,Oa[Eo].x),ei.y=Math.min(ei.y,Oa[Eo].y),xi.x=Math.max(xi.x,Oa[Eo].x),xi.y=Math.max(xi.y,Oa[Eo].y);no=ei.x>=Wa.x&&xi.x<=qa.x&&ei.y>=Wa.y&&xi.y<=qa.y?[Oa]:xi.x<Wa.x||ei.x>qa.x||xi.y<Wa.y||ei.y>qa.y?[]:o.clipLine([Oa],Wa.x,Wa.y,qa.x,qa.y)}for(var Oo=0,cl=no;Oo<cl.length;Oo+=1){Li.reset(cl[Oo],.25*Pa);var Ul;Ul=Li.length<=.5*Pa?1:Math.ceil(Li.paddedLength/Xi)+1;for(var Hl=0;Hl<Ul;Hl++){var su=Hl/Math.max(Ul-1,1),Vl=Li.lerp(su),Ms=Vl.x+un,Mu=Vl.y+un;$r.push(Ms,Mu,Pa,0);var os=Ms-Pa,Js=Mu-Pa,Gl=Ms+Pa,Dl=Mu+Pa;if(Ta=Ta&&this.isOffscreen(os,Js,Gl,Dl),ga=ga||this.isInsideGrid(os,Js,Gl,Dl),!G&&this.grid.hitTestCircle(Ms,Mu,Pa,yr)&&(xa=!0,!Wt))return{circles:[],offscreen:!1,collisionDetected:xa}}}}return{circles:!Wt&&xa||!ga?[]:$r,offscreen:Ta,collisionDetected:xa}},ln.prototype.queryRenderedSymbols=function(G){if(0===G.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var he=[],$=1/0,ve=1/0,Le=-1/0,Ze=-1/0,st=0,wt=G;st<wt.length;st+=1){var Wt=wt[st],nr=new o.Point(Wt.x+un,Wt.y+un);$=Math.min($,nr.x),ve=Math.min(ve,nr.y),Le=Math.max(Le,nr.x),Ze=Math.max(Ze,nr.y),he.push(nr)}for(var Cr={},Br={},$r=0,qr=this.grid.query($,ve,Le,Ze).concat(this.ignoredGrid.query($,ve,Le,Ze));$r<qr.length;$r+=1){var jr=qr[$r],nn=jr.key;if(void 0===Cr[nn.bucketInstanceId]&&(Cr[nn.bucketInstanceId]={}),!Cr[nn.bucketInstanceId][nn.featureIndex]){var wn=[new o.Point(jr.x1,jr.y1),new o.Point(jr.x2,jr.y1),new o.Point(jr.x2,jr.y2),new o.Point(jr.x1,jr.y2)];o.polygonIntersectsPolygon(he,wn)&&(Cr[nn.bucketInstanceId][nn.featureIndex]=!0,void 0===Br[nn.bucketInstanceId]&&(Br[nn.bucketInstanceId]=[]),Br[nn.bucketInstanceId].push(nn.featureIndex))}}return Br},ln.prototype.insertCollisionBox=function(G,he,$,ve,Le){(he?this.ignoredGrid:this.grid).insert({bucketInstanceId:$,featureIndex:ve,collisionGroupID:Le},G[0],G[1],G[2],G[3])},ln.prototype.insertCollisionCircles=function(G,he,$,ve,Le){for(var Ze=he?this.ignoredGrid:this.grid,st={bucketInstanceId:$,featureIndex:ve,collisionGroupID:Le},wt=0;wt<G.length;wt+=4)Ze.insertCircle(st,G[wt],G[wt+1],G[wt+2])},ln.prototype.projectAndGetPerspectiveRatio=function(G,he,$){var ve=[he,$,0,1];return Sr(ve,ve,G),{point:new o.Point((ve[0]/ve[3]+1)/2*this.transform.width+un,(-ve[1]/ve[3]+1)/2*this.transform.height+un),perspectiveRatio:.5+this.transform.cameraToCenterDistance/ve[3]*.5}},ln.prototype.isOffscreen=function(G,he,$,ve){return $<un||G>=this.screenRightBoundary||ve<un||he>this.screenBottomBoundary},ln.prototype.isInsideGrid=function(G,he,$,ve){return $>=0&&G<this.gridRightBoundary&&ve>=0&&he<this.gridBottomBoundary},ln.prototype.getViewportMatrix=function(){var G=o.identity([]);return o.translate(G,G,[-un,-un,0]),G};var Vn=function(G,he,$,ve){this.opacity=G?Math.max(0,Math.min(1,G.opacity+(G.placed?he:-he))):ve&&$?1:0,this.placed=$};Vn.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var En=function(G,he,$,ve,Le){this.text=new Vn(G?G.text:null,he,$,Le),this.icon=new Vn(G?G.icon:null,he,ve,Le)};En.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Ln=function(G,he,$){this.text=G,this.icon=he,this.skipFade=$},Hn=function(){this.invProjMatrix=o.create(),this.viewportMatrix=o.create(),this.circles=[]},Qn=function(G,he,$,ve,Le){this.bucketInstanceId=G,this.featureIndex=he,this.sourceLayerIndex=$,this.bucketIndex=ve,this.tileID=Le},ya=function(G){this.crossSourceCollisions=G,this.maxGroupID=0,this.collisionGroups={}};function Ja(le,G,he,$,ve){var Le=o.getAnchorAlignment(le),wt=-(Le.horizontalAlign-.5)*G,Wt=-(Le.verticalAlign-.5)*he,nr=o.evaluateVariableOffset(le,$);return new o.Point(wt+nr[0]*ve,Wt+nr[1]*ve)}function er(le,G,he,$,ve,Le){var Ze=le.x1,st=le.x2,wt=le.y1,Wt=le.y2,nr=le.anchorPointX,yr=le.anchorPointY,Cr=new o.Point(G,he);return $&&Cr._rotate(ve?Le:-Le),{x1:Ze+Cr.x,y1:wt+Cr.y,x2:st+Cr.x,y2:Wt+Cr.y,anchorPointX:nr,anchorPointY:yr}}ya.prototype.get=function(G){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[G]){var he=++this.maxGroupID;this.collisionGroups[G]={ID:he,predicate:function($){return $.collisionGroupID===he}}}return this.collisionGroups[G]};var ge=function(G,he,$,ve){this.transform=G.clone(),this.collisionIndex=new ln(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=he,this.retainedQueryData={},this.collisionGroups=new ya($),this.collisionCircleArrays={},this.prevPlacement=ve,ve&&(ve.prevPlacement=void 0),this.placedOrientations={}};function Ue(le,G,he,$,ve){le.emplaceBack(G?1:0,he?1:0,$||0,ve||0),le.emplaceBack(G?1:0,he?1:0,$||0,ve||0),le.emplaceBack(G?1:0,he?1:0,$||0,ve||0),le.emplaceBack(G?1:0,he?1:0,$||0,ve||0)}ge.prototype.getBucketParts=function(G,he,$,ve){var Le=$.getBucket(he),Ze=$.latestFeatureIndex;if(Le&&Ze&&he.id===Le.layerIds[0]){var st=$.collisionBoxArray,wt=Le.layers[0].layout,Wt=Math.pow(2,this.transform.zoom-$.tileID.overscaledZ),nr=$.tileSize/o.EXTENT,yr=this.transform.calculatePosMatrix($.tileID.toUnwrapped()),Cr="map"===wt.get("text-pitch-alignment"),Br="map"===wt.get("text-rotation-alignment"),$r=An($,1,this.transform.zoom),qr=Pr(yr,Cr,Br,this.transform,$r),jr=null;if(Cr){var nn=Zr(yr,Cr,Br,this.transform,$r);jr=o.multiply([],this.transform.labelPlaneMatrix,nn)}this.retainedQueryData[Le.bucketInstanceId]=new Qn(Le.bucketInstanceId,Ze,Le.sourceLayerIndex,Le.index,$.tileID);var wn={bucket:Le,layout:wt,posMatrix:yr,textLabelPlaneMatrix:qr,labelToScreenMatrix:jr,scale:Wt,textPixelRatio:nr,holdingForFade:$.holdingForFade(),collisionBoxArray:st,partiallyEvaluatedTextSize:o.evaluateSizeForZoom(Le.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Le.sourceID)};if(ve)for(var _n=0,Un=Le.sortKeyRanges;_n<Un.length;_n+=1){var $n=Un[_n];G.push({sortKey:$n.sortKey,symbolInstanceStart:$n.symbolInstanceStart,symbolInstanceEnd:$n.symbolInstanceEnd,parameters:wn})}else G.push({symbolInstanceStart:0,symbolInstanceEnd:Le.symbolInstances.length,parameters:wn})}},ge.prototype.attemptAnchorPlacement=function(G,he,$,ve,Le,Ze,st,wt,Wt,nr,yr,Cr,Br,$r,qr){var Un,jr=[Cr.textOffset0,Cr.textOffset1],nn=Ja(G,$,ve,jr,Le),wn=this.collisionIndex.placeCollisionBox(er(he,nn.x,nn.y,Ze,st,this.transform.angle),yr,wt,Wt,nr.predicate);if(!qr||0!==this.collisionIndex.placeCollisionBox(er(qr,nn.x,nn.y,Ze,st,this.transform.angle),yr,wt,Wt,nr.predicate).box.length)return wn.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Cr.crossTileID]&&this.prevPlacement.placements[Cr.crossTileID]&&this.prevPlacement.placements[Cr.crossTileID].text&&(Un=this.prevPlacement.variableOffsets[Cr.crossTileID].anchor),this.variableOffsets[Cr.crossTileID]={textOffset:jr,width:$,height:ve,anchor:G,textBoxScale:Le,prevAnchor:Un},this.markUsedJustification(Br,G,Cr,$r),Br.allowVerticalPlacement&&(this.markUsedOrientation(Br,$r,Cr),this.placedOrientations[Cr.crossTileID]=$r),{shift:nn,placedGlyphBoxes:wn}):void 0},ge.prototype.placeLayerBucketPart=function(G,he,$){var ve=this,Le=G.parameters,Ze=Le.bucket,st=Le.layout,wt=Le.posMatrix,Wt=Le.textLabelPlaneMatrix,nr=Le.labelToScreenMatrix,yr=Le.textPixelRatio,Cr=Le.holdingForFade,Br=Le.collisionBoxArray,$r=Le.partiallyEvaluatedTextSize,qr=Le.collisionGroup,jr=st.get("text-optional"),nn=st.get("icon-optional"),wn=st.get("text-allow-overlap"),_n=st.get("icon-allow-overlap"),Un="map"===st.get("text-rotation-alignment"),$n="map"===st.get("text-pitch-alignment"),ta="none"!==st.get("icon-text-fit"),qn="viewport-y"===st.get("symbol-z-order"),ua=wn&&(_n||!Ze.hasIconData()||nn),xa=_n&&(wn||!Ze.hasTextData()||jr);!Ze.collisionArrays&&Br&&Ze.deserializeCollisionBoxes(Br);var ga=function(ni,vi){if(!he[ni.crossTileID]){if(Cr)return void(ve.placements[ni.crossTileID]=new Ln(!1,!1,!1));var ei,Oa=!1,Pi=!1,Ni=!0,Xi=null,yi={box:null,offscreen:null},no={box:null,offscreen:null},xi=null,Eo=null,Oo=0,cl=0,hl=0;vi.textFeatureIndex?Oo=vi.textFeatureIndex:ni.useRuntimeCollisionCircles&&(Oo=ni.featureIndex),vi.verticalTextFeatureIndex&&(cl=vi.verticalTextFeatureIndex);var Ul=vi.textBox;if(Ul){var Hl=function(Ro){var Os=o.WritingMode.horizontal;if(Ze.allowVerticalPlacement&&!Ro&&ve.prevPlacement){var Bs=ve.prevPlacement.placedOrientations[ni.crossTileID];Bs&&(ve.placedOrientations[ni.crossTileID]=Bs,ve.markUsedOrientation(Ze,Os=Bs,ni))}return Os},su=function(Ro,Os){if(Ze.allowVerticalPlacement&&ni.numVerticalGlyphVertices>0&&vi.verticalTextBox)for(var Bs=0,If=Ze.writingModes;Bs<If.length&&(If[Bs]===o.WritingMode.vertical?(yi=Os(),no=yi):yi=Ro(),!(yi&&yi.box&&yi.box.length));Bs+=1);else yi=Ro()};if(st.get("text-variable-anchor")){var os=st.get("text-variable-anchor");if(ve.prevPlacement&&ve.prevPlacement.variableOffsets[ni.crossTileID]){var Js=ve.prevPlacement.variableOffsets[ni.crossTileID];os.indexOf(Js.anchor)>0&&(os=os.filter(function(Ro){return Ro!==Js.anchor})).unshift(Js.anchor)}var Gl=function(Ro,Os,Bs){for(var If=Ro.x2-Ro.x1,ac=Ro.y2-Ro.y1,jc=ni.textBoxScale,Kc=ta&&!_n?Os:null,Tf={box:[],offscreen:!1},Jc=wn?2*os.length:os.length,kf=0;kf<Jc;++kf){var ic=ve.attemptAnchorPlacement(os[kf%os.length],Ro,If,ac,jc,Un,$n,yr,wt,qr,kf>=os.length,ni,Ze,Bs,Kc);if(ic&&(Tf=ic.placedGlyphBoxes)&&Tf.box&&Tf.box.length){Oa=!0,Xi=ic.shift;break}}return Tf};su(function(){return Gl(Ul,vi.iconBox,o.WritingMode.horizontal)},function(){var Ro=vi.verticalTextBox;return Ze.allowVerticalPlacement&&!(yi&&yi.box&&yi.box.length)&&ni.numVerticalGlyphVertices>0&&Ro?Gl(Ro,vi.verticalIconBox,o.WritingMode.vertical):{box:null,offscreen:null}}),yi&&(Oa=yi.box,Ni=yi.offscreen);var Pf=Hl(yi&&yi.box);if(!Oa&&ve.prevPlacement){var Nu=ve.prevPlacement.variableOffsets[ni.crossTileID];Nu&&(ve.variableOffsets[ni.crossTileID]=Nu,ve.markUsedJustification(Ze,Nu.anchor,ni,Pf))}}else{var Vl=function(Ro,Os){var Bs=ve.collisionIndex.placeCollisionBox(Ro,wn,yr,wt,qr.predicate);return Bs&&Bs.box&&Bs.box.length&&(ve.markUsedOrientation(Ze,Os,ni),ve.placedOrientations[ni.crossTileID]=Os),Bs};su(function(){return Vl(Ul,o.WritingMode.horizontal)},function(){var Ro=vi.verticalTextBox;return Ze.allowVerticalPlacement&&ni.numVerticalGlyphVertices>0&&Ro?Vl(Ro,o.WritingMode.vertical):{box:null,offscreen:null}}),Hl(yi&&yi.box&&yi.box.length)}}if(Oa=(ei=yi)&&ei.box&&ei.box.length>0,Ni=ei&&ei.offscreen,ni.useRuntimeCollisionCircles){var ts=Ze.text.placedSymbolArray.get(ni.centerJustifiedTextSymbolIndex),bf=o.evaluateSizeForFeature(Ze.textSizeData,$r,ts),hs=st.get("text-padding");xi=ve.collisionIndex.placeCollisionCircles(wn,ts,Ze.lineVertexArray,Ze.glyphOffsetArray,bf,wt,Wt,nr,$,$n,qr.predicate,ni.collisionCircleDiameter,hs),Oa=wn||xi.circles.length>0&&!xi.collisionDetected,Ni=Ni&&xi.offscreen}if(vi.iconFeatureIndex&&(hl=vi.iconFeatureIndex),vi.iconBox){var Df=function(Ro){var Os=ta&&Xi?er(Ro,Xi.x,Xi.y,Un,$n,ve.transform.angle):Ro;return ve.collisionIndex.placeCollisionBox(Os,_n,yr,wt,qr.predicate)};Pi=no&&no.box&&no.box.length&&vi.verticalIconBox?(Eo=Df(vi.verticalIconBox)).box.length>0:(Eo=Df(vi.iconBox)).box.length>0,Ni=Ni&&Eo.offscreen}var Rf=jr||0===ni.numHorizontalGlyphVertices&&0===ni.numVerticalGlyphVertices,Ec=nn||0===ni.numIconVertices;if(Rf||Ec?Ec?Rf||(Pi=Pi&&Oa):Oa=Pi&&Oa:Pi=Oa=Pi&&Oa,Oa&&ei&&ei.box&&ve.collisionIndex.insertCollisionBox(ei.box,st.get("text-ignore-placement"),Ze.bucketInstanceId,no&&no.box&&cl?cl:Oo,qr.ID),Pi&&Eo&&ve.collisionIndex.insertCollisionBox(Eo.box,st.get("icon-ignore-placement"),Ze.bucketInstanceId,hl,qr.ID),xi&&(Oa&&ve.collisionIndex.insertCollisionCircles(xi.circles,st.get("text-ignore-placement"),Ze.bucketInstanceId,Oo,qr.ID),$)){var _f=Ze.bucketInstanceId,af=ve.collisionCircleArrays[_f];void 0===af&&(af=ve.collisionCircleArrays[_f]=new Hn);for(var of=0;of<xi.circles.length;of+=4)af.circles.push(xi.circles[of+0]),af.circles.push(xi.circles[of+1]),af.circles.push(xi.circles[of+2]),af.circles.push(xi.collisionDetected?1:0)}ve.placements[ni.crossTileID]=new Ln(Oa||ua,Pi||xa,Ni||Ze.justReloaded),he[ni.crossTileID]=!0}};if(qn)for(var Ta=Ze.getSortedSymbolIndexes(this.transform.angle),Pa=Ta.length-1;Pa>=0;--Pa){var Wa=Ta[Pa];ga(Ze.symbolInstances.get(Wa),Ze.collisionArrays[Wa])}else for(var qa=G.symbolInstanceStart;qa<G.symbolInstanceEnd;qa++)ga(Ze.symbolInstances.get(qa),Ze.collisionArrays[qa]);if($&&Ze.bucketInstanceId in this.collisionCircleArrays){var Li=this.collisionCircleArrays[Ze.bucketInstanceId];o.invert(Li.invProjMatrix,wt),Li.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ze.justReloaded=!1},ge.prototype.markUsedJustification=function(G,he,$,ve){var Ze;Ze=ve===o.WritingMode.vertical?$.verticalPlacedTextSymbolIndex:{left:$.leftJustifiedTextSymbolIndex,center:$.centerJustifiedTextSymbolIndex,right:$.rightJustifiedTextSymbolIndex}[o.getAnchorJustification(he)];for(var wt=0,Wt=[$.leftJustifiedTextSymbolIndex,$.centerJustifiedTextSymbolIndex,$.rightJustifiedTextSymbolIndex,$.verticalPlacedTextSymbolIndex];wt<Wt.length;wt+=1){var nr=Wt[wt];nr>=0&&(G.text.placedSymbolArray.get(nr).crossTileID=Ze>=0&&nr!==Ze?0:$.crossTileID)}},ge.prototype.markUsedOrientation=function(G,he,$){for(var ve=he===o.WritingMode.horizontal||he===o.WritingMode.horizontalOnly?he:0,Le=he===o.WritingMode.vertical?he:0,st=0,wt=[$.leftJustifiedTextSymbolIndex,$.centerJustifiedTextSymbolIndex,$.rightJustifiedTextSymbolIndex];st<wt.length;st+=1)G.text.placedSymbolArray.get(wt[st]).placedOrientation=ve;$.verticalPlacedTextSymbolIndex&&(G.text.placedSymbolArray.get($.verticalPlacedTextSymbolIndex).placedOrientation=Le)},ge.prototype.commit=function(G){this.commitTime=G,this.zoomAtLastRecencyCheck=this.transform.zoom;var he=this.prevPlacement,$=!1;this.prevZoomAdjustment=he?he.zoomAdjustment(this.transform.zoom):0;var ve=he?he.symbolFadeChange(G):1,Le=he?he.opacities:{},Ze=he?he.variableOffsets:{},st=he?he.placedOrientations:{};for(var wt in this.placements){var Wt=this.placements[wt],nr=Le[wt];nr?(this.opacities[wt]=new En(nr,ve,Wt.text,Wt.icon),$=$||Wt.text!==nr.text.placed||Wt.icon!==nr.icon.placed):(this.opacities[wt]=new En(null,ve,Wt.text,Wt.icon,Wt.skipFade),$=$||Wt.text||Wt.icon)}for(var yr in Le){var Cr=Le[yr];if(!this.opacities[yr]){var Br=new En(Cr,ve,!1,!1);Br.isHidden()||(this.opacities[yr]=Br,$=$||Cr.text.placed||Cr.icon.placed)}}for(var $r in Ze)!this.variableOffsets[$r]&&this.opacities[$r]&&!this.opacities[$r].isHidden()&&(this.variableOffsets[$r]=Ze[$r]);for(var qr in st)!this.placedOrientations[qr]&&this.opacities[qr]&&!this.opacities[qr].isHidden()&&(this.placedOrientations[qr]=st[qr]);$?this.lastPlacementChangeTime=G:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=he?he.lastPlacementChangeTime:G)},ge.prototype.updateLayerOpacities=function(G,he){for(var $={},ve=0,Le=he;ve<Le.length;ve+=1){var Ze=Le[ve],st=Ze.getBucket(G);st&&Ze.latestFeatureIndex&&G.id===st.layerIds[0]&&this.updateBucketOpacities(st,$,Ze.collisionBoxArray)}},ge.prototype.updateBucketOpacities=function(G,he,$){var ve=this;G.hasTextData()&&G.text.opacityVertexArray.clear(),G.hasIconData()&&G.icon.opacityVertexArray.clear(),G.hasIconCollisionBoxData()&&G.iconCollisionBox.collisionVertexArray.clear(),G.hasTextCollisionBoxData()&&G.textCollisionBox.collisionVertexArray.clear();var Le=G.layers[0].layout,Ze=new En(null,0,!1,!1,!0),st=Le.get("text-allow-overlap"),wt=Le.get("icon-allow-overlap"),Wt=Le.get("text-variable-anchor"),nr="map"===Le.get("text-rotation-alignment"),yr="map"===Le.get("text-pitch-alignment"),Cr="none"!==Le.get("icon-text-fit"),Br=new En(null,0,st&&(wt||!G.hasIconData()||Le.get("icon-optional")),wt&&(st||!G.hasTextData()||Le.get("text-optional")),!0);!G.collisionArrays&&$&&(G.hasIconCollisionBoxData()||G.hasTextCollisionBoxData())&&G.deserializeCollisionBoxes($);for(var $r=function(wn,_n,Un){for(var $n=0;$n<_n/4;$n++)wn.opacityVertexArray.emplaceBack(Un)},qr=function(wn){var _n=G.symbolInstances.get(wn),Un=_n.numHorizontalGlyphVertices,$n=_n.numVerticalGlyphVertices,ta=_n.crossTileID,ua=ve.opacities[ta];he[ta]?ua=Ze:ua||(ve.opacities[ta]=ua=Br),he[ta]=!0;var ga=_n.numIconVertices>0,Ta=ve.placedOrientations[_n.crossTileID],Pa=Ta===o.WritingMode.vertical,Wa=Ta===o.WritingMode.horizontal||Ta===o.WritingMode.horizontalOnly;if(Un>0||$n>0){var qa=Jt(ua.text);$r(G.text,Un,Pa?Dr:qa),$r(G.text,$n,Wa?Dr:qa);var vi=ua.text.isHidden();[_n.rightJustifiedTextSymbolIndex,_n.centerJustifiedTextSymbolIndex,_n.leftJustifiedTextSymbolIndex].forEach(function(hl){hl>=0&&(G.text.placedSymbolArray.get(hl).hidden=vi||Pa?1:0)}),_n.verticalPlacedTextSymbolIndex>=0&&(G.text.placedSymbolArray.get(_n.verticalPlacedTextSymbolIndex).hidden=vi||Wa?1:0);var Oa=ve.variableOffsets[_n.crossTileID];Oa&&ve.markUsedJustification(G,Oa.anchor,_n,Ta);var Pi=ve.placedOrientations[_n.crossTileID];Pi&&(ve.markUsedJustification(G,"left",_n,Pi),ve.markUsedOrientation(G,Pi,_n))}if(ga){var Ni=Jt(ua.icon),Xi=!(Cr&&_n.verticalPlacedIconSymbolIndex&&Pa);_n.placedIconSymbolIndex>=0&&($r(G.icon,_n.numIconVertices,Xi?Ni:Dr),G.icon.placedSymbolArray.get(_n.placedIconSymbolIndex).hidden=ua.icon.isHidden()),_n.verticalPlacedIconSymbolIndex>=0&&($r(G.icon,_n.numVerticalIconVertices,Xi?Dr:Ni),G.icon.placedSymbolArray.get(_n.verticalPlacedIconSymbolIndex).hidden=ua.icon.isHidden())}if(G.hasIconCollisionBoxData()||G.hasTextCollisionBoxData()){var ei=G.collisionArrays[wn];if(ei){var xi=new o.Point(0,0);if(ei.textBox||ei.verticalTextBox){var Eo=!0;if(Wt){var Oo=ve.variableOffsets[ta];Oo?(xi=Ja(Oo.anchor,Oo.width,Oo.height,Oo.textOffset,Oo.textBoxScale),nr&&xi._rotate(yr?ve.transform.angle:-ve.transform.angle)):Eo=!1}ei.textBox&&Ue(G.textCollisionBox.collisionVertexArray,ua.text.placed,!Eo||Pa,xi.x,xi.y),ei.verticalTextBox&&Ue(G.textCollisionBox.collisionVertexArray,ua.text.placed,!Eo||Wa,xi.x,xi.y)}var cl=!(Wa||!ei.verticalIconBox);ei.iconBox&&Ue(G.iconCollisionBox.collisionVertexArray,ua.icon.placed,cl,Cr?xi.x:0,Cr?xi.y:0),ei.verticalIconBox&&Ue(G.iconCollisionBox.collisionVertexArray,ua.icon.placed,!cl,Cr?xi.x:0,Cr?xi.y:0)}}},jr=0;jr<G.symbolInstances.length;jr++)qr(jr);if(G.sortFeatures(this.transform.angle),this.retainedQueryData[G.bucketInstanceId]&&(this.retainedQueryData[G.bucketInstanceId].featureSortOrder=G.featureSortOrder),G.hasTextData()&&G.text.opacityVertexBuffer&&G.text.opacityVertexBuffer.updateData(G.text.opacityVertexArray),G.hasIconData()&&G.icon.opacityVertexBuffer&&G.icon.opacityVertexBuffer.updateData(G.icon.opacityVertexArray),G.hasIconCollisionBoxData()&&G.iconCollisionBox.collisionVertexBuffer&&G.iconCollisionBox.collisionVertexBuffer.updateData(G.iconCollisionBox.collisionVertexArray),G.hasTextCollisionBoxData()&&G.textCollisionBox.collisionVertexBuffer&&G.textCollisionBox.collisionVertexBuffer.updateData(G.textCollisionBox.collisionVertexArray),G.bucketInstanceId in this.collisionCircleArrays){var nn=this.collisionCircleArrays[G.bucketInstanceId];G.placementInvProjMatrix=nn.invProjMatrix,G.placementViewportMatrix=nn.viewportMatrix,G.collisionCircleArray=nn.circles,delete this.collisionCircleArrays[G.bucketInstanceId]}},ge.prototype.symbolFadeChange=function(G){return 0===this.fadeDuration?1:(G-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},ge.prototype.zoomAdjustment=function(G){return Math.max(0,(this.transform.zoom-G)/1.5)},ge.prototype.hasTransitions=function(G){return this.stale||G-this.lastPlacementChangeTime<this.fadeDuration},ge.prototype.stillRecent=function(G,he){var $=this.zoomAtLastRecencyCheck===he?1-this.zoomAdjustment(he):1;return this.zoomAtLastRecencyCheck=he,this.commitTime+this.fadeDuration*$>G},ge.prototype.setStale=function(){this.stale=!0};var nt=Math.pow(2,25),ct=Math.pow(2,24),Pt=Math.pow(2,17),Ft=Math.pow(2,16),Yt=Math.pow(2,9),Vt=Math.pow(2,8),Ot=Math.pow(2,1);function Jt(le){if(0===le.opacity&&!le.placed)return 0;if(1===le.opacity&&le.placed)return 4294967295;var G=le.placed?1:0,he=Math.floor(127*le.opacity);return he*nt+G*ct+he*Pt+G*Ft+he*Yt+G*Vt+he*Ot+G}var Dr=0,Gr=function(G){this._sortAcrossTiles="viewport-y"!==G.layout.get("symbol-z-order")&&void 0!==G.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Gr.prototype.continuePlacement=function(G,he,$,ve,Le){for(var Ze=this._bucketParts;this._currentTileIndex<G.length;)if(he.getBucketParts(Ze,ve,G[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,Le())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ze.sort(function(Wt,nr){return Wt.sortKey-nr.sortKey}));this._currentPartIndex<Ze.length;)if(he.placeLayerBucketPart(Ze[this._currentPartIndex],this._seenCrossTileIDs,$),this._currentPartIndex++,Le())return!0;return!1};var Yr=function(G,he,$,ve,Le,Ze,st){this.placement=new ge(G,Le,Ze,st),this._currentPlacementIndex=he.length-1,this._forceFullPlacement=$,this._showCollisionBoxes=ve,this._done=!1};Yr.prototype.isDone=function(){return this._done},Yr.prototype.continuePlacement=function(G,he,$){for(var ve=this,Le=o.browser.now(),Ze=function(){var yr=o.browser.now()-Le;return!ve._forceFullPlacement&&yr>2};this._currentPlacementIndex>=0;){var wt=he[G[this._currentPlacementIndex]],Wt=this.placement.collisionIndex.transform.zoom;if("symbol"===wt.type&&(!wt.minzoom||wt.minzoom<=Wt)&&(!wt.maxzoom||wt.maxzoom>Wt)){if(this._inProgressLayer||(this._inProgressLayer=new Gr(wt)),this._inProgressLayer.continuePlacement($[wt.source],this.placement,this._showCollisionBoxes,wt,Ze))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Yr.prototype.commit=function(G){return this.placement.commit(G),this.placement};var zr=512/o.EXTENT/2,bn=function(G,he,$){this.tileID=G,this.indexedSymbolInstances={},this.bucketInstanceId=$;for(var ve=0;ve<he.length;ve++){var Le=he.get(ve),Ze=Le.key;this.indexedSymbolInstances[Ze]||(this.indexedSymbolInstances[Ze]=[]),this.indexedSymbolInstances[Ze].push({crossTileID:Le.crossTileID,coord:this.getScaledCoordinates(Le,G)})}};bn.prototype.getScaledCoordinates=function(G,he){var ve=zr/Math.pow(2,he.canonical.z-this.tileID.canonical.z);return{x:Math.floor((he.canonical.x*o.EXTENT+G.anchorX)*ve),y:Math.floor((he.canonical.y*o.EXTENT+G.anchorY)*ve)}},bn.prototype.findMatches=function(G,he,$){for(var ve=this.tileID.canonical.z<he.canonical.z?1:Math.pow(2,this.tileID.canonical.z-he.canonical.z),Le=0;Le<G.length;Le++){var Ze=G.get(Le);if(!Ze.crossTileID){var st=this.indexedSymbolInstances[Ze.key];if(st)for(var wt=this.getScaledCoordinates(Ze,he),Wt=0,nr=st;Wt<nr.length;Wt+=1){var yr=nr[Wt];if(Math.abs(yr.coord.x-wt.x)<=ve&&Math.abs(yr.coord.y-wt.y)<=ve&&!$[yr.crossTileID]){$[yr.crossTileID]=!0,Ze.crossTileID=yr.crossTileID;break}}}}};var In=function(){this.maxCrossTileID=0};In.prototype.generate=function(){return++this.maxCrossTileID};var Bn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Bn.prototype.handleWrapJump=function(G){var he=Math.round((G-this.lng)/360);if(0!==he)for(var $ in this.indexes){var ve=this.indexes[$],Le={};for(var Ze in ve){var st=ve[Ze];st.tileID=st.tileID.unwrapTo(st.tileID.wrap+he),Le[st.tileID.key]=st}this.indexes[$]=Le}this.lng=G},Bn.prototype.addBucket=function(G,he,$){if(this.indexes[G.overscaledZ]&&this.indexes[G.overscaledZ][G.key]){if(this.indexes[G.overscaledZ][G.key].bucketInstanceId===he.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(G.overscaledZ,this.indexes[G.overscaledZ][G.key])}for(var ve=0;ve<he.symbolInstances.length;ve++)he.symbolInstances.get(ve).crossTileID=0;this.usedCrossTileIDs[G.overscaledZ]||(this.usedCrossTileIDs[G.overscaledZ]={});var Ze=this.usedCrossTileIDs[G.overscaledZ];for(var st in this.indexes){var wt=this.indexes[st];if(Number(st)>G.overscaledZ)for(var Wt in wt){var nr=wt[Wt];nr.tileID.isChildOf(G)&&nr.findMatches(he.symbolInstances,G,Ze)}else{var Cr=wt[G.scaledTo(Number(st)).key];Cr&&Cr.findMatches(he.symbolInstances,G,Ze)}}for(var Br=0;Br<he.symbolInstances.length;Br++){var $r=he.symbolInstances.get(Br);$r.crossTileID||($r.crossTileID=$.generate(),Ze[$r.crossTileID]=!0)}return void 0===this.indexes[G.overscaledZ]&&(this.indexes[G.overscaledZ]={}),this.indexes[G.overscaledZ][G.key]=new bn(G,he.symbolInstances,he.bucketInstanceId),!0},Bn.prototype.removeBucketCrossTileIDs=function(G,he){for(var $ in he.indexedSymbolInstances)for(var ve=0,Le=he.indexedSymbolInstances[$];ve<Le.length;ve+=1)delete this.usedCrossTileIDs[G][Le[ve].crossTileID]},Bn.prototype.removeStaleBuckets=function(G){var he=!1;for(var $ in this.indexes){var ve=this.indexes[$];for(var Le in ve)G[ve[Le].bucketInstanceId]||(this.removeBucketCrossTileIDs($,ve[Le]),delete ve[Le],he=!0)}return he};var ea=function(){this.layerIndexes={},this.crossTileIDs=new In,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ea.prototype.addLayer=function(G,he,$){var ve=this.layerIndexes[G.id];void 0===ve&&(ve=this.layerIndexes[G.id]=new Bn);var Le=!1,Ze={};ve.handleWrapJump($);for(var st=0,wt=he;st<wt.length;st+=1){var Wt=wt[st],nr=Wt.getBucket(G);!nr||G.id!==nr.layerIds[0]||(nr.bucketInstanceId||(nr.bucketInstanceId=++this.maxBucketInstanceId),ve.addBucket(Wt.tileID,nr,this.crossTileIDs)&&(Le=!0),Ze[nr.bucketInstanceId]=!0)}return ve.removeStaleBuckets(Ze)&&(Le=!0),Le},ea.prototype.pruneUnusedLayers=function(G){var he={};for(var $ in G.forEach(function(ve){he[ve]=!0}),this.layerIndexes)he[$]||delete this.layerIndexes[$]};var Kn=function(le,G){return o.emitValidationErrors(le,G&&G.filter(function(he){return"source.canvas"!==he.identifier}))},ha=o.pick(Nt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Di=o.pick(Nt,["setCenter","setZoom","setBearing","setPitch"]),$a=function or(){var le={},G=o.styleSpec.$version;for(var he in o.styleSpec.$root){var $=o.styleSpec.$root[he];if($.required){var ve;null!=(ve="version"===he?G:"array"===$.type?[]:{})&&(le[he]=ve)}}return le}(),eo=function(le){function G(he,$){var ve=this;void 0===$&&($={}),le.call(this),this.map=he,this.dispatcher=new L(Rt(),this),this.imageManager=new b,this.imageManager.setEventedParent(this),this.glyphManager=new M(he._requestManager,$.localIdeographFontFamily),this.lineAtlas=new I(256,512),this.crossTileSymbolIndex=new ea,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.getReferrer());var Le=this;this._rtlTextPluginCallback=G.registerForPluginStateChange(function(Ze){Le.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:Ze.pluginStatus,pluginURL:Ze.pluginURL},function(wt,Wt){if(o.triggerPluginCompletionEvent(wt),Wt&&Wt.every(function(Cr){return Cr}))for(var yr in Le.sourceCaches)Le.sourceCaches[yr].reload()})}),this.on("data",function(Ze){if("source"===Ze.dataType&&"metadata"===Ze.sourceDataType){var st=ve.sourceCaches[Ze.sourceId];if(st){var wt=st.getSource();if(wt&&wt.vectorLayerIds)for(var Wt in ve._layers){var nr=ve._layers[Wt];nr.source===wt.id&&ve._validateLayer(nr)}}}})}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.loadURL=function($,ve){var Le=this;void 0===ve&&(ve={}),this.fire(new o.Event("dataloading",{dataType:"style"}));var Ze="boolean"==typeof ve.validate?ve.validate:!o.isMapboxURL($);$=this.map._requestManager.normalizeStyleURL($,ve.accessToken);var st=this.map._requestManager.transformRequest($,o.ResourceType.Style);this._request=o.getJSON(st,function(wt,Wt){Le._request=null,wt?Le.fire(new o.ErrorEvent(wt)):Wt&&Le._load(Wt,Ze)})},G.prototype.loadJSON=function($,ve){var Le=this;void 0===ve&&(ve={}),this.fire(new o.Event("dataloading",{dataType:"style"})),this._request=o.browser.frame(function(){Le._request=null,Le._load($,!1!==ve.validate)})},G.prototype.loadEmpty=function(){this.fire(new o.Event("dataloading",{dataType:"style"})),this._load($a,!1)},G.prototype._load=function($,ve){if(!ve||!Kn(this,o.validateStyle($))){for(var Le in this._loaded=!0,this.stylesheet=$,$.sources)this.addSource(Le,$.sources[Le],{validate:!1});$.sprite?this._loadSprite($.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL($.glyphs);var Ze=hr(this.stylesheet.layers);this._order=Ze.map(function(nr){return nr.id}),this._layers={},this._serializedLayers={};for(var st=0,wt=Ze;st<wt.length;st+=1){var Wt=wt[st];(Wt=o.createStyleLayer(Wt)).setEventedParent(this,{layer:{id:Wt.id}}),this._layers[Wt.id]=Wt,this._serializedLayers[Wt.id]=Wt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new d(this.stylesheet.light),this.fire(new o.Event("data",{dataType:"style"})),this.fire(new o.Event("style.load"))}},G.prototype._loadSprite=function($){var ve=this;this._spriteRequest=function c(le,G,he){var $,ve,Le,Ze=o.browser.devicePixelRatio>1?"@2x":"",st=o.getJSON(G.transformRequest(G.normalizeSpriteURL(le,Ze,".json"),o.ResourceType.SpriteJSON),function(nr,yr){st=null,Le||(Le=nr,$=yr,Wt())}),wt=o.getImage(G.transformRequest(G.normalizeSpriteURL(le,Ze,".png"),o.ResourceType.SpriteImage),function(nr,yr){wt=null,Le||(Le=nr,ve=yr,Wt())});function Wt(){if(Le)he(Le);else if($&&ve){var nr=o.browser.getImageData(ve),yr={};for(var Cr in $){var Br=$[Cr],$r=Br.width,qr=Br.height,jr=Br.x,nn=Br.y,wn=Br.sdf,_n=Br.pixelRatio,Un=Br.stretchX,$n=Br.stretchY,ta=Br.content,qn=new o.RGBAImage({width:$r,height:qr});o.RGBAImage.copy(nr,qn,{x:jr,y:nn},{x:0,y:0},{width:$r,height:qr}),yr[Cr]={data:qn,pixelRatio:_n,sdf:wn,stretchX:Un,stretchY:$n,content:ta}}he(null,yr)}}return{cancel:function(){st&&(st.cancel(),st=null),wt&&(wt.cancel(),wt=null)}}}($,this.map._requestManager,function(Le,Ze){if(ve._spriteRequest=null,Le)ve.fire(new o.ErrorEvent(Le));else if(Ze)for(var st in Ze)ve.imageManager.addImage(st,Ze[st]);ve.imageManager.setLoaded(!0),ve._availableImages=ve.imageManager.listImages(),ve.dispatcher.broadcast("setImages",ve._availableImages),ve.fire(new o.Event("data",{dataType:"style"}))})},G.prototype._validateLayer=function($){var ve=this.sourceCaches[$.source];if(ve){var Le=$.sourceLayer;if(Le){var Ze=ve.getSource();("geojson"===Ze.type||Ze.vectorLayerIds&&-1===Ze.vectorLayerIds.indexOf(Le))&&this.fire(new o.ErrorEvent(new Error('Source layer "'+Le+'" does not exist on source "'+Ze.id+'" as specified by style layer "'+$.id+'"')))}}},G.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var $ in this.sourceCaches)if(!this.sourceCaches[$].loaded())return!1;return!!this.imageManager.isLoaded()},G.prototype._serializeLayers=function($){for(var ve=[],Le=0,Ze=$;Le<Ze.length;Le+=1){var wt=this._layers[Ze[Le]];"custom"!==wt.type&&ve.push(wt.serialize())}return ve},G.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var $ in this.sourceCaches)if(this.sourceCaches[$].hasTransition())return!0;for(var ve in this._layers)if(this._layers[ve].hasTransition())return!0;return!1},G.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},G.prototype.update=function($){if(this._loaded){var ve=this._changed;if(this._changed){var Le=Object.keys(this._updatedLayers),Ze=Object.keys(this._removedLayers);for(var st in(Le.length||Ze.length)&&this._updateWorkerLayers(Le,Ze),this._updatedSources){var wt=this._updatedSources[st];"reload"===wt?this._reloadSource(st):"clear"===wt&&this._clearSource(st)}for(var Wt in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[Wt].updateTransitions($);this.light.updateTransitions($),this._resetUpdates()}for(var nr in this.sourceCaches)this.sourceCaches[nr].used=!1;for(var yr=0,Cr=this._order;yr<Cr.length;yr+=1){var $r=this._layers[Cr[yr]];$r.recalculate($,this._availableImages),!$r.isHidden($.zoom)&&$r.source&&(this.sourceCaches[$r.source].used=!0)}this.light.recalculate($),this.z=$.zoom,ve&&this.fire(new o.Event("data",{dataType:"style"}))}},G.prototype._updateTilesForChangedImages=function(){var $=Object.keys(this._changedImages);if($.length){for(var ve in this.sourceCaches)this.sourceCaches[ve].reloadTilesForDependencies(["icons","patterns"],$);this._changedImages={}}},G.prototype._updateWorkerLayers=function($,ve){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers($),removedIds:ve})},G.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},G.prototype.setState=function($){var ve=this;if(this._checkLoaded(),Kn(this,o.validateStyle($)))return!1;($=o.clone$1($)).layers=hr($.layers);var Le=On(this.serialize(),$).filter(function(st){return!(st.command in Di)});if(0===Le.length)return!1;var Ze=Le.filter(function(st){return!(st.command in ha)});if(Ze.length>0)throw new Error("Unimplemented: "+Ze.map(function(st){return st.command}).join(", ")+".");return Le.forEach(function(st){"setTransition"!==st.command&&ve[st.command].apply(ve,st.args)}),this.stylesheet=$,!0},G.prototype.addImage=function($,ve){if(this.getImage($))return this.fire(new o.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage($,ve),this._availableImages=this.imageManager.listImages(),this._changedImages[$]=!0,this._changed=!0,this.fire(new o.Event("data",{dataType:"style"}))},G.prototype.updateImage=function($,ve){this.imageManager.updateImage($,ve)},G.prototype.getImage=function($){return this.imageManager.getImage($)},G.prototype.removeImage=function($){if(!this.getImage($))return this.fire(new o.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage($),this._availableImages=this.imageManager.listImages(),this._changedImages[$]=!0,this._changed=!0,this.fire(new o.Event("data",{dataType:"style"}))},G.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},G.prototype.addSource=function($,ve,Le){var Ze=this;if(void 0===Le&&(Le={}),this._checkLoaded(),void 0!==this.sourceCaches[$])throw new Error("There is already a source with this ID");if(!ve.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(ve).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(ve.type)>=0&&this._validate(o.validateStyle.source,"sources."+$,ve,null,Le))){this.map&&this.map._collectResourceTiming&&(ve.collectResourceTiming=!0);var Wt=this.sourceCaches[$]=new Ut($,ve,this.dispatcher);Wt.style=this,Wt.setEventedParent(this,function(){return{isSourceLoaded:Ze.loaded(),source:Wt.serialize(),sourceId:$}}),Wt.onAdd(this.map),this._changed=!0}},G.prototype.removeSource=function($){if(this._checkLoaded(),void 0===this.sourceCaches[$])throw new Error("There is no source with this ID");for(var ve in this._layers)if(this._layers[ve].source===$)return this.fire(new o.ErrorEvent(new Error('Source "'+$+'" cannot be removed while layer "'+ve+'" is using it.')));var Le=this.sourceCaches[$];delete this.sourceCaches[$],delete this._updatedSources[$],Le.fire(new o.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:$})),Le.setEventedParent(null),Le.clearTiles(),Le.onRemove&&Le.onRemove(this.map),this._changed=!0},G.prototype.setGeoJSONSourceData=function($,ve){this._checkLoaded(),this.sourceCaches[$].getSource().setData(ve),this._changed=!0},G.prototype.getSource=function($){return this.sourceCaches[$]&&this.sourceCaches[$].getSource()},G.prototype.addLayer=function($,ve,Le){void 0===Le&&(Le={}),this._checkLoaded();var Ze=$.id;if(this.getLayer(Ze))this.fire(new o.ErrorEvent(new Error('Layer with id "'+Ze+'" already exists on this map')));else{var st;if("custom"===$.type){if(Kn(this,o.validateCustomStyleLayer($)))return;st=o.createStyleLayer($)}else{if("object"==typeof $.source&&(this.addSource(Ze,$.source),$=o.clone$1($),$=o.extend($,{source:Ze})),this._validate(o.validateStyle.layer,"layers."+Ze,$,{arrayIndex:-1},Le))return;st=o.createStyleLayer($),this._validateLayer(st),st.setEventedParent(this,{layer:{id:Ze}}),this._serializedLayers[st.id]=st.serialize()}var wt=ve?this._order.indexOf(ve):this._order.length;if(ve&&-1===wt)this.fire(new o.ErrorEvent(new Error('Layer with id "'+ve+'" does not exist on this map.')));else{if(this._order.splice(wt,0,Ze),this._layerOrderChanged=!0,this._layers[Ze]=st,this._removedLayers[Ze]&&st.source&&"custom"!==st.type){var Wt=this._removedLayers[Ze];delete this._removedLayers[Ze],Wt.type!==st.type?this._updatedSources[st.source]="clear":(this._updatedSources[st.source]="reload",this.sourceCaches[st.source].pause())}this._updateLayer(st),st.onAdd&&st.onAdd(this.map)}}},G.prototype.moveLayer=function($,ve){if(this._checkLoaded(),this._changed=!0,this._layers[$]){if($!==ve){var Ze=this._order.indexOf($);this._order.splice(Ze,1);var st=ve?this._order.indexOf(ve):this._order.length;if(ve&&-1===st)return void this.fire(new o.ErrorEvent(new Error('Layer with id "'+ve+'" does not exist on this map.')));this._order.splice(st,0,$),this._layerOrderChanged=!0}}else this.fire(new o.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be moved.")))},G.prototype.removeLayer=function($){this._checkLoaded();var ve=this._layers[$];if(ve){ve.setEventedParent(null);var Le=this._order.indexOf($);this._order.splice(Le,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[$]=ve,delete this._layers[$],delete this._serializedLayers[$],delete this._updatedLayers[$],delete this._updatedPaintProps[$],ve.onRemove&&ve.onRemove(this.map)}else this.fire(new o.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be removed.")))},G.prototype.getLayer=function($){return this._layers[$]},G.prototype.hasLayer=function($){return $ in this._layers},G.prototype.setLayerZoomRange=function($,ve,Le){this._checkLoaded();var Ze=this.getLayer($);Ze?Ze.minzoom===ve&&Ze.maxzoom===Le||(null!=ve&&(Ze.minzoom=ve),null!=Le&&(Ze.maxzoom=Le),this._updateLayer(Ze)):this.fire(new o.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot have zoom extent.")))},G.prototype.setFilter=function($,ve,Le){void 0===Le&&(Le={}),this._checkLoaded();var Ze=this.getLayer($);if(Ze){if(!o.deepEqual(Ze.filter,ve)){if(null==ve)return Ze.filter=void 0,void this._updateLayer(Ze);this._validate(o.validateStyle.filter,"layers."+Ze.id+".filter",ve,null,Le)||(Ze.filter=o.clone$1(ve),this._updateLayer(Ze))}}else this.fire(new o.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be filtered.")))},G.prototype.getFilter=function($){return o.clone$1(this.getLayer($).filter)},G.prototype.setLayoutProperty=function($,ve,Le,Ze){void 0===Ze&&(Ze={}),this._checkLoaded();var st=this.getLayer($);st?o.deepEqual(st.getLayoutProperty(ve),Le)||(st.setLayoutProperty(ve,Le,Ze),this._updateLayer(st)):this.fire(new o.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be styled.")))},G.prototype.getLayoutProperty=function($,ve){var Le=this.getLayer($);if(Le)return Le.getLayoutProperty(ve);this.fire(new o.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style.")))},G.prototype.setPaintProperty=function($,ve,Le,Ze){void 0===Ze&&(Ze={}),this._checkLoaded();var st=this.getLayer($);st?o.deepEqual(st.getPaintProperty(ve),Le)||(st.setPaintProperty(ve,Le,Ze)&&this._updateLayer(st),this._changed=!0,this._updatedPaintProps[$]=!0):this.fire(new o.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be styled.")))},G.prototype.getPaintProperty=function($,ve){return this.getLayer($).getPaintProperty(ve)},G.prototype.setFeatureState=function($,ve){this._checkLoaded();var Le=$.source,Ze=$.sourceLayer,st=this.sourceCaches[Le];if(void 0!==st){var wt=st.getSource().type;"geojson"===wt&&Ze?this.fire(new o.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==wt||Ze?(void 0===$.id&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),st.setFeatureState(Ze,$.id,ve)):this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+Le+"' does not exist in the map's style.")))},G.prototype.removeFeatureState=function($,ve){this._checkLoaded();var Le=$.source,Ze=this.sourceCaches[Le];if(void 0!==Ze){var st=Ze.getSource().type,wt="vector"===st?$.sourceLayer:void 0;"vector"!==st||wt?ve&&"string"!=typeof $.id&&"number"!=typeof $.id?this.fire(new o.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):Ze.removeFeatureState(wt,$.id,ve):this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+Le+"' does not exist in the map's style.")))},G.prototype.getFeatureState=function($){this._checkLoaded();var ve=$.source,Le=$.sourceLayer,Ze=this.sourceCaches[ve];if(void 0!==Ze){if("vector"!==Ze.getSource().type||Le)return void 0===$.id&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),Ze.getFeatureState(Le,$.id);this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error("The source '"+ve+"' does not exist in the map's style.")))},G.prototype.getTransition=function(){return o.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},G.prototype.serialize=function(){return o.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:o.mapObject(this.sourceCaches,function($){return $.serialize()}),layers:this._serializeLayers(this._order)},function($){return void 0!==$})},G.prototype._updateLayer=function($){this._updatedLayers[$.id]=!0,$.source&&!this._updatedSources[$.source]&&"raster"!==this.sourceCaches[$.source].getSource().type&&(this._updatedSources[$.source]="reload",this.sourceCaches[$.source].pause()),this._changed=!0},G.prototype._flattenAndSortRenderedFeatures=function($){for(var ve=this,Le=function(Wa){return"fill-extrusion"===ve._layers[Wa].type},Ze={},st=[],wt=this._order.length-1;wt>=0;wt--){var Wt=this._order[wt];if(Le(Wt)){Ze[Wt]=wt;for(var nr=0,yr=$;nr<yr.length;nr+=1){var Br=yr[nr][Wt];if(Br)for(var $r=0,qr=Br;$r<qr.length;$r+=1)st.push(qr[$r])}}}st.sort(function(Wa,qa){return qa.intersectionZ-Wa.intersectionZ});for(var nn=[],wn=this._order.length-1;wn>=0;wn--){var _n=this._order[wn];if(Le(_n))for(var Un=st.length-1;Un>=0;Un--){var $n=st[Un].feature;if(Ze[$n.layer.id]<wn)break;nn.push($n),st.pop()}else for(var ta=0,qn=$;ta<qn.length;ta+=1){var xa=qn[ta][_n];if(xa)for(var ga=0,Ta=xa;ga<Ta.length;ga+=1)nn.push(Ta[ga].feature)}}return nn},G.prototype.queryRenderedFeatures=function($,ve,Le){ve&&ve.filter&&this._validate(o.validateStyle.filter,"queryRenderedFeatures.filter",ve.filter,null,ve);var Ze={};if(ve&&ve.layers){if(!Array.isArray(ve.layers))return this.fire(new o.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var st=0,wt=ve.layers;st<wt.length;st+=1){var Wt=wt[st],nr=this._layers[Wt];if(!nr)return this.fire(new o.ErrorEvent(new Error("The layer '"+Wt+"' does not exist in the map's style and cannot be queried for features."))),[];Ze[nr.source]=!0}}var yr=[];for(var Cr in ve.availableImages=this._availableImages,this.sourceCaches)ve.layers&&!Ze[Cr]||yr.push(Q(this.sourceCaches[Cr],this._layers,this._serializedLayers,$,ve,Le));return this.placement&&yr.push(function Z(le,G,he,$,ve,Le,Ze){for(var st={},wt=Le.queryRenderedSymbols($),Wt=[],nr=0,yr=Object.keys(wt).map(Number);nr<yr.length;nr+=1)Wt.push(Ze[yr[nr]]);Wt.sort(q);for(var Br=function(){var wn=qr[$r],_n=wn.featureIndex.lookupSymbolFeatures(wt[wn.bucketInstanceId],G,wn.bucketIndex,wn.sourceLayerIndex,ve.filter,ve.layers,ve.availableImages,le);for(var Un in _n){var $n=st[Un]=st[Un]||[],ta=_n[Un];ta.sort(function(ga,Ta){var Pa=wn.featureSortOrder;if(Pa){var Wa=Pa.indexOf(ga.featureIndex);return Pa.indexOf(Ta.featureIndex)-Wa}return Ta.featureIndex-ga.featureIndex});for(var qn=0,ua=ta;qn<ua.length;qn+=1)$n.push(ua[qn])}},$r=0,qr=Wt;$r<qr.length;$r+=1)Br();var jr=function(wn){st[wn].forEach(function(_n){var Un=_n.feature,qn=he[le[wn].source].getFeatureState(Un.layer["source-layer"],Un.id);Un.source=Un.layer.source,Un.layer["source-layer"]&&(Un.sourceLayer=Un.layer["source-layer"]),Un.state=qn})};for(var nn in st)jr(nn);return st}(this._layers,this._serializedLayers,this.sourceCaches,$,ve,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(yr)},G.prototype.querySourceFeatures=function($,ve){ve&&ve.filter&&this._validate(o.validateStyle.filter,"querySourceFeatures.filter",ve.filter,null,ve);var Le=this.sourceCaches[$];return Le?function re(le,G){for(var he=le.getRenderableIds().map(function(wt){return le.getTileByID(wt)}),$=[],ve={},Le=0;Le<he.length;Le++){var Ze=he[Le],st=Ze.tileID.canonical.key;ve[st]||(ve[st]=!0,Ze.querySourceFeatures($,G))}return $}(Le,ve):[]},G.prototype.addSourceType=function($,ve,Le){return G.getSourceType($)?Le(new Error('A source type called "'+$+'" already exists.')):(G.setSourceType($,ve),ve.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:$,url:ve.workerSourceURL},Le):Le(null,null))},G.prototype.getLight=function(){return this.light.getLight()},G.prototype.setLight=function($,ve){void 0===ve&&(ve={}),this._checkLoaded();var Le=this.light.getLight(),Ze=!1;for(var st in $)if(!o.deepEqual($[st],Le[st])){Ze=!0;break}if(Ze){var wt={now:o.browser.now(),transition:o.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight($,ve),this.light.updateTransitions(wt)}},G.prototype._validate=function($,ve,Le,Ze,st){return void 0===st&&(st={}),(!st||!1!==st.validate)&&Kn(this,$.call(o.validateStyle,o.extend({key:ve,style:this.serialize(),value:Le,styleSpec:o.styleSpec},Ze)))},G.prototype._remove=function(){for(var $ in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[$].setEventedParent(null);for(var Le in this.sourceCaches)this.sourceCaches[Le].clearTiles(),this.sourceCaches[Le].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},G.prototype._clearSource=function($){this.sourceCaches[$].clearTiles()},G.prototype._reloadSource=function($){this.sourceCaches[$].resume(),this.sourceCaches[$].reload()},G.prototype._updateSources=function($){for(var ve in this.sourceCaches)this.sourceCaches[ve].update($)},G.prototype._generateCollisionBoxes=function(){for(var $ in this.sourceCaches)this._reloadSource($)},G.prototype._updatePlacement=function($,ve,Le,Ze,st){void 0===st&&(st=!1);for(var wt=!1,Wt=!1,nr={},yr=0,Cr=this._order;yr<Cr.length;yr+=1){var $r=this._layers[Cr[yr]];if("symbol"===$r.type){if(!nr[$r.source]){var qr=this.sourceCaches[$r.source];nr[$r.source]=qr.getRenderableIds(!0).map(function(ta){return qr.getTileByID(ta)}).sort(function(ta,qn){return qn.tileID.overscaledZ-ta.tileID.overscaledZ||(ta.tileID.isLessThan(qn.tileID)?-1:1)})}var jr=this.crossTileSymbolIndex.addLayer($r,nr[$r.source],$.center.lng);wt=wt||jr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((st=st||this._layerOrderChanged||0===Le)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.browser.now(),$.zoom))&&(this.pauseablePlacement=new Yr($,this._order,st,ve,Le,Ze,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,nr),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.browser.now()),Wt=!0),wt&&this.pauseablePlacement.placement.setStale()),Wt||wt)for(var nn=0,wn=this._order;nn<wn.length;nn+=1){var Un=this._layers[wn[nn]];"symbol"===Un.type&&this.placement.updateLayerOpacities(Un,nr[Un.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.browser.now())},G.prototype._releaseSymbolFadeTiles=function(){for(var $ in this.sourceCaches)this.sourceCaches[$].releaseSymbolFadeTiles()},G.prototype.getImages=function($,ve,Le){this.imageManager.getImages(ve.icons,Le),this._updateTilesForChangedImages();var Ze=this.sourceCaches[ve.source];Ze&&Ze.setDependencies(ve.tileID.key,ve.type,ve.icons)},G.prototype.getGlyphs=function($,ve,Le){this.glyphManager.getGlyphs(ve.stacks,Le)},G.prototype.getResource=function($,ve,Le){return o.makeRequest(ve,Le)},G}(o.Evented);eo.getSourceType=function(le){return J[le]},eo.setSourceType=function(le,G){J[le]=G},eo.registerForPluginStateChange=o.registerForPluginStateChange;var ti=o.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ki=Ci("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),go=Ci("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ei=Ci("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),ko=Ci("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),oo=Ci("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),to=Ci("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),us=Ci("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),cn=Ci("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),gt=Ci("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),vr=Ci("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),hn=Ci("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Jn=Ci("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Ma=Ci("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Na=Ci("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),li=Ci("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Hi=Ci("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),so=Ci("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Fo=Ci("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Yo=Ci("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),as=Ci("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Zo=Ci("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),fs=Ci("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),$o=Ci("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),ys=Ci("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),ml=Ci("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),cu=Ci("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function Ci(le,G){var he=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,$={};return{fragmentSource:le=le.replace(he,function(ve,Le,Ze,st,wt){return $[wt]=!0,"define"===Le?"\n#ifndef HAS_UNIFORM_u_"+wt+"\nvarying "+Ze+" "+st+" "+wt+";\n#else\nuniform "+Ze+" "+st+" u_"+wt+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+wt+"\n    "+Ze+" "+st+" "+wt+" = u_"+wt+";\n#endif\n"}),vertexSource:G=G.replace(he,function(ve,Le,Ze,st,wt){var Wt="float"===st?"vec2":"vec4",nr=wt.match(/color/)?"color":Wt;return $[wt]?"define"===Le?"\n#ifndef HAS_UNIFORM_u_"+wt+"\nuniform lowp float u_"+wt+"_t;\nattribute "+Ze+" "+Wt+" a_"+wt+";\nvarying "+Ze+" "+st+" "+wt+";\n#else\nuniform "+Ze+" "+st+" u_"+wt+";\n#endif\n":"vec4"===nr?"\n#ifndef HAS_UNIFORM_u_"+wt+"\n    "+wt+" = a_"+wt+";\n#else\n    "+Ze+" "+st+" "+wt+" = u_"+wt+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+wt+"\n    "+wt+" = unpack_mix_"+nr+"(a_"+wt+", u_"+wt+"_t);\n#else\n    "+Ze+" "+st+" "+wt+" = u_"+wt+";\n#endif\n":"define"===Le?"\n#ifndef HAS_UNIFORM_u_"+wt+"\nuniform lowp float u_"+wt+"_t;\nattribute "+Ze+" "+Wt+" a_"+wt+";\n#else\nuniform "+Ze+" "+st+" u_"+wt+";\n#endif\n":"vec4"===nr?"\n#ifndef HAS_UNIFORM_u_"+wt+"\n    "+Ze+" "+st+" "+wt+" = a_"+wt+";\n#else\n    "+Ze+" "+st+" "+wt+" = u_"+wt+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+wt+"\n    "+Ze+" "+st+" "+wt+" = unpack_mix_"+nr+"(a_"+wt+", u_"+wt+"_t);\n#else\n    "+Ze+" "+st+" "+wt+" = u_"+wt+";\n#endif\n"})}}var rl=Object.freeze({__proto__:null,prelude:Ki,background:go,backgroundPattern:Ei,circle:ko,clippingMask:oo,heatmap:to,heatmapTexture:us,collisionBox:cn,collisionCircle:gt,debug:vr,fill:hn,fillOutline:Jn,fillOutlinePattern:Ma,fillPattern:Na,fillExtrusion:li,fillExtrusionPattern:Hi,hillshadePrepare:so,hillshade:Fo,line:Yo,lineGradient:as,linePattern:Zo,lineSDF:fs,raster:$o,symbolIcon:ys,symbolSDF:ml,symbolTextAndIcon:cu}),xl=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};xl.prototype.bind=function(G,he,$,ve,Le,Ze,st,wt){this.context=G;for(var Wt=this.boundPaintVertexBuffers.length!==ve.length,nr=0;!Wt&&nr<ve.length;nr++)this.boundPaintVertexBuffers[nr]!==ve[nr]&&(Wt=!0);G.extVertexArrayObject&&this.vao&&this.boundProgram===he&&this.boundLayoutVertexBuffer===$&&!Wt&&this.boundIndexBuffer===Le&&this.boundVertexOffset===Ze&&this.boundDynamicVertexBuffer===st&&this.boundDynamicVertexBuffer2===wt?(G.bindVertexArrayOES.set(this.vao),st&&st.bind(),Le&&Le.dynamicDraw&&Le.bind(),wt&&wt.bind()):this.freshBind(he,$,ve,Le,Ze,st,wt)},xl.prototype.freshBind=function(G,he,$,ve,Le,Ze,st){var wt,Wt=G.numAttributes,nr=this.context,yr=nr.gl;if(nr.extVertexArrayObject)this.vao&&this.destroy(),this.vao=nr.extVertexArrayObject.createVertexArrayOES(),nr.bindVertexArrayOES.set(this.vao),wt=0,this.boundProgram=G,this.boundLayoutVertexBuffer=he,this.boundPaintVertexBuffers=$,this.boundIndexBuffer=ve,this.boundVertexOffset=Le,this.boundDynamicVertexBuffer=Ze,this.boundDynamicVertexBuffer2=st;else{wt=nr.currentNumAttributes||0;for(var Cr=Wt;Cr<wt;Cr++)yr.disableVertexAttribArray(Cr)}he.enableAttributes(yr,G);for(var Br=0,$r=$;Br<$r.length;Br+=1)$r[Br].enableAttributes(yr,G);Ze&&Ze.enableAttributes(yr,G),st&&st.enableAttributes(yr,G),he.bind(),he.setVertexAttribPointers(yr,G,Le);for(var jr=0,nn=$;jr<nn.length;jr+=1){var wn=nn[jr];wn.bind(),wn.setVertexAttribPointers(yr,G,Le)}Ze&&(Ze.bind(),Ze.setVertexAttribPointers(yr,G,Le)),ve&&ve.bind(),st&&(st.bind(),st.setVertexAttribPointers(yr,G,Le)),nr.currentNumAttributes=Wt},xl.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var is=function(G,he,$,ve,Le){var Ze=G.gl;this.program=Ze.createProgram();var st=$?$.defines():[];Le&&st.push("#define OVERDRAW_INSPECTOR;");var wt=st.concat(Ki.fragmentSource,he.fragmentSource).join("\n"),Wt=st.concat(Ki.vertexSource,he.vertexSource).join("\n"),nr=Ze.createShader(Ze.FRAGMENT_SHADER);if(Ze.isContextLost())this.failedToCreate=!0;else{Ze.shaderSource(nr,wt),Ze.compileShader(nr),Ze.attachShader(this.program,nr);var yr=Ze.createShader(Ze.VERTEX_SHADER);if(Ze.isContextLost())this.failedToCreate=!0;else{Ze.shaderSource(yr,Wt),Ze.compileShader(yr),Ze.attachShader(this.program,yr);for(var Cr=$?$.layoutAttributes:[],Br=0;Br<Cr.length;Br++)Ze.bindAttribLocation(this.program,Br,Cr[Br].name);Ze.linkProgram(this.program),Ze.deleteShader(yr),Ze.deleteShader(nr),this.numAttributes=Ze.getProgramParameter(this.program,Ze.ACTIVE_ATTRIBUTES),this.attributes={};for(var $r={},qr=0;qr<this.numAttributes;qr++){var jr=Ze.getActiveAttrib(this.program,qr);jr&&(this.attributes[jr.name]=Ze.getAttribLocation(this.program,jr.name))}for(var nn=Ze.getProgramParameter(this.program,Ze.ACTIVE_UNIFORMS),wn=0;wn<nn;wn++){var _n=Ze.getActiveUniform(this.program,wn);_n&&($r[_n.name]=Ze.getUniformLocation(this.program,_n.name))}this.fixedUniforms=ve(G,$r),this.binderUniforms=$?$.getUniforms(G,$r):[]}}};function _l(le,G,he){var $=1/An(he,1,G.transform.tileZoom),ve=Math.pow(2,he.tileID.overscaledZ),Le=he.tileSize*Math.pow(2,G.transform.tileZoom)/ve,Ze=Le*(he.tileID.canonical.x+he.tileID.wrap*ve),st=Le*he.tileID.canonical.y;return{u_image:0,u_texsize:he.imageAtlasTexture.size,u_scale:[$,le.fromScale,le.toScale],u_fade:le.t,u_pixel_coord_upper:[Ze>>16,st>>16],u_pixel_coord_lower:[65535&Ze,65535&st]}}is.prototype.draw=function(G,he,$,ve,Le,Ze,st,wt,Wt,nr,yr,Cr,Br,$r,qr,jr){var nn,wn=G.gl;if(!this.failedToCreate){for(var _n in G.program.set(this.program),G.setDepthMode($),G.setStencilMode(ve),G.setColorMode(Le),G.setCullFace(Ze),this.fixedUniforms)this.fixedUniforms[_n].set(st[_n]);$r&&$r.setUniforms(G,this.binderUniforms,Cr,{zoom:Br});for(var Un=(nn={},nn[wn.LINES]=2,nn[wn.TRIANGLES]=3,nn[wn.LINE_STRIP]=1,nn)[he],$n=0,ta=yr.get();$n<ta.length;$n+=1){var qn=ta[$n],ua=qn.vaos||(qn.vaos={});(ua[wt]||(ua[wt]=new xl)).bind(G,this,Wt,$r?$r.getPaintVertexBuffers():[],nr,qn.vertexOffset,qr,jr),wn.drawElements(he,qn.primitiveLength*Un,wn.UNSIGNED_SHORT,qn.primitiveOffset*Un*2)}}};var Rs=function(le,G,he,$){var ve=G.style.light,Le=ve.properties.get("position"),Ze=[Le.x,Le.y,Le.z],st=o.create$1();"viewport"===ve.properties.get("anchor")&&o.fromRotation(st,-G.transform.angle),o.transformMat3(Ze,Ze,st);var wt=ve.properties.get("color");return{u_matrix:le,u_lightpos:Ze,u_lightintensity:ve.properties.get("intensity"),u_lightcolor:[wt.r,wt.g,wt.b],u_vertical_gradient:+he,u_opacity:$}},ms=function(le,G,he,$,ve,Le,Ze){return o.extend(Rs(le,G,he,$),_l(Le,G,Ze),{u_height_factor:-Math.pow(2,ve.overscaledZ)/Ze.tileSize/8})},al=function(le){return{u_matrix:le}},xs=function(le,G,he,$){return o.extend(al(le),_l(he,G,$))},Eu=function(le,G){return{u_matrix:le,u_world:G}},Cu=function(le,G,he,$,ve){return o.extend(xs(le,G,he,$),{u_world:ve})},Il=function(le,G,he,$){var Le,Ze,ve=le.transform;if("map"===$.paint.get("circle-pitch-alignment")){var st=An(he,1,ve.zoom);Le=!0,Ze=[st,st]}else Le=!1,Ze=ve.pixelsToGLUnits;return{u_camera_to_center_distance:ve.cameraToCenterDistance,u_scale_with_map:+("map"===$.paint.get("circle-pitch-scale")),u_matrix:le.translatePosMatrix(G.posMatrix,he,$.paint.get("circle-translate"),$.paint.get("circle-translate-anchor")),u_pitch_with_map:+Le,u_device_pixel_ratio:o.browser.devicePixelRatio,u_extrude_scale:Ze}},df=function(le,G,he){var $=An(he,1,G.zoom),ve=Math.pow(2,G.zoom-he.tileID.overscaledZ),Le=he.tileID.overscaleFactor();return{u_matrix:le,u_camera_to_center_distance:G.cameraToCenterDistance,u_pixels_to_tile_units:$,u_extrude_scale:[G.pixelsToGLUnits[0]/($*ve),G.pixelsToGLUnits[1]/($*ve)],u_overscale_factor:Le}},Yu=function(le,G,he){return{u_matrix:le,u_inv_matrix:G,u_camera_to_center_distance:he.cameraToCenterDistance,u_viewport_size:[he.width,he.height]}},Xu=function(le,G,he){return void 0===he&&(he=1),{u_matrix:le,u_color:G,u_overlay:0,u_overlay_scale:he}},Io=function(le){return{u_matrix:le}},Zl=function(le,G,he,$){return{u_matrix:le,u_extrude_scale:An(G,1,he),u_intensity:$}},kl=function(le,G,he,$){var ve=o.create();o.ortho(ve,0,le.width,le.height,0,0,1);var Le=le.context.gl;return{u_matrix:ve,u_world:[Le.drawingBufferWidth,Le.drawingBufferHeight],u_image:he,u_color_ramp:$,u_opacity:G.paint.get("heatmap-opacity")}},Ru=function(le,G,he){var $=he.paint.get("hillshade-shadow-color"),ve=he.paint.get("hillshade-highlight-color"),Le=he.paint.get("hillshade-accent-color"),Ze=he.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===he.paint.get("hillshade-illumination-anchor")&&(Ze-=le.transform.angle);var st=!le.options.moving;return{u_matrix:le.transform.calculatePosMatrix(G.tileID.toUnwrapped(),st),u_image:0,u_latrange:ol(0,G.tileID),u_light:[he.paint.get("hillshade-exaggeration"),Ze],u_shadow:$,u_highlight:ve,u_accent:Le}},pf=function(le,G,he){var $=G.stride,ve=o.create();return o.ortho(ve,0,o.EXTENT,-o.EXTENT,0,0,1),o.translate(ve,ve,[0,-o.EXTENT,0]),{u_matrix:ve,u_image:1,u_dimension:[$,$],u_zoom:le.overscaledZ,u_maxzoom:he,u_unpack:G.getUnpackVector()}};function ol(le,G){var he=Math.pow(2,G.canonical.z),$=G.canonical.y;return[new o.MercatorCoordinate(0,$/he).toLngLat().lat,new o.MercatorCoordinate(0,($+1)/he).toLngLat().lat]}var wl=function(le,G,he){var $=le.transform;return{u_matrix:Zs(le,G,he),u_ratio:1/An(G,1,$.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_units_to_pixels:[1/$.pixelsToGLUnits[0],1/$.pixelsToGLUnits[1]]}},ju=function(le,G,he){return o.extend(wl(le,G,he),{u_image:0})},ll=function(le,G,he,$){var ve=le.transform,Le=Ys(G,ve);return{u_matrix:Zs(le,G,he),u_texsize:G.imageAtlasTexture.size,u_ratio:1/An(G,1,ve.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_image:0,u_scale:[Le,$.fromScale,$.toScale],u_fade:$.t,u_units_to_pixels:[1/ve.pixelsToGLUnits[0],1/ve.pixelsToGLUnits[1]]}},jl=function(le,G,he,$,ve){var Ze=le.lineAtlas,st=Ys(G,le.transform),wt="round"===he.layout.get("line-cap"),Wt=Ze.getDash($.from,wt),nr=Ze.getDash($.to,wt),yr=Wt.width*ve.fromScale,Cr=nr.width*ve.toScale;return o.extend(wl(le,G,he),{u_patternscale_a:[st/yr,-Wt.height/2],u_patternscale_b:[st/Cr,-nr.height/2],u_sdfgamma:Ze.width/(256*Math.min(yr,Cr)*o.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Wt.y,u_tex_y_b:nr.y,u_mix:ve.t})};function Ys(le,G){return 1/An(le,1,G.tileZoom)}function Zs(le,G,he){return le.translatePosMatrix(G.tileID.posMatrix,G,he.paint.get("line-translate"),he.paint.get("line-translate-anchor"))}var Tl=function(le,G,he,$,ve){return{u_matrix:le,u_tl_parent:G,u_scale_parent:he,u_buffer_scale:1,u_fade_t:$.mix,u_opacity:$.opacity*ve.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ve.paint.get("raster-brightness-min"),u_brightness_high:ve.paint.get("raster-brightness-max"),u_saturation_factor:_u(ve.paint.get("raster-saturation")),u_contrast_factor:Fl(ve.paint.get("raster-contrast")),u_spin_weights:Oi(ve.paint.get("raster-hue-rotate"))}};function Oi(le){le*=Math.PI/180;var G=Math.sin(le),he=Math.cos(le);return[(2*he+1)/3,(-Math.sqrt(3)*G-he+1)/3,(Math.sqrt(3)*G-he+1)/3]}function Fl(le){return le>0?1/(1-le):1+le}function _u(le){return le>0?1-1/(1.001-le):-le}var bs,Iu=function(le,G,he,$,ve,Le,Ze,st,wt,Wt){var nr=ve.transform;return{u_is_size_zoom_constant:+("constant"===le||"source"===le),u_is_size_feature_constant:+("constant"===le||"camera"===le),u_size_t:G?G.uSizeT:0,u_size:G?G.uSize:0,u_camera_to_center_distance:nr.cameraToCenterDistance,u_pitch:nr.pitch/360*2*Math.PI,u_rotate_symbol:+he,u_aspect_ratio:nr.width/nr.height,u_fade_change:ve.options.fadeDuration?ve.symbolFadeChange:1,u_matrix:Le,u_label_plane_matrix:Ze,u_coord_matrix:st,u_is_text:+wt,u_pitch_with_map:+$,u_texsize:Wt,u_texture:0}},Jl=function(le,G,he,$,ve,Le,Ze,st,wt,Wt,nr){var yr=ve.transform;return o.extend(Iu(le,G,he,$,ve,Le,Ze,st,wt,Wt),{u_gamma_scale:$?Math.cos(yr._pitch)*yr.cameraToCenterDistance:1,u_device_pixel_ratio:o.browser.devicePixelRatio,u_is_halo:+nr})},gu=function(le,G,he,$,ve,Le,Ze,st,wt,Wt){return o.extend(Jl(le,G,he,$,ve,Le,Ze,st,!0,wt,!0),{u_texsize_icon:Wt,u_texture_icon:1})},Ql=function(le,G,he){return{u_matrix:le,u_opacity:G,u_color:he}},$l=function(le,G,he,$,ve,Le){return o.extend(function Wu(le,G,he,$){var ve=he.imageManager.getPattern(le.from.toString()),Le=he.imageManager.getPattern(le.to.toString()),Ze=he.imageManager.getPixelSize(),st=Ze.width,wt=Ze.height,Wt=Math.pow(2,$.tileID.overscaledZ),nr=$.tileSize*Math.pow(2,he.transform.tileZoom)/Wt,yr=nr*($.tileID.canonical.x+$.tileID.wrap*Wt),Cr=nr*$.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ve.tl,u_pattern_br_a:ve.br,u_pattern_tl_b:Le.tl,u_pattern_br_b:Le.br,u_texsize:[st,wt],u_mix:G.t,u_pattern_size_a:ve.displaySize,u_pattern_size_b:Le.displaySize,u_scale_a:G.fromScale,u_scale_b:G.toScale,u_tile_units_to_pixels:1/An($,1,he.transform.tileZoom),u_pixel_coord_upper:[yr>>16,Cr>>16],u_pixel_coord_lower:[65535&yr,65535&Cr]}}($,Le,he,ve),{u_matrix:le,u_opacity:G})},js={fillExtrusion:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_lightpos:new o.Uniform3f(le,G.u_lightpos),u_lightintensity:new o.Uniform1f(le,G.u_lightintensity),u_lightcolor:new o.Uniform3f(le,G.u_lightcolor),u_vertical_gradient:new o.Uniform1f(le,G.u_vertical_gradient),u_opacity:new o.Uniform1f(le,G.u_opacity)}},fillExtrusionPattern:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_lightpos:new o.Uniform3f(le,G.u_lightpos),u_lightintensity:new o.Uniform1f(le,G.u_lightintensity),u_lightcolor:new o.Uniform3f(le,G.u_lightcolor),u_vertical_gradient:new o.Uniform1f(le,G.u_vertical_gradient),u_height_factor:new o.Uniform1f(le,G.u_height_factor),u_image:new o.Uniform1i(le,G.u_image),u_texsize:new o.Uniform2f(le,G.u_texsize),u_pixel_coord_upper:new o.Uniform2f(le,G.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(le,G.u_pixel_coord_lower),u_scale:new o.Uniform3f(le,G.u_scale),u_fade:new o.Uniform1f(le,G.u_fade),u_opacity:new o.Uniform1f(le,G.u_opacity)}},fill:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix)}},fillPattern:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_image:new o.Uniform1i(le,G.u_image),u_texsize:new o.Uniform2f(le,G.u_texsize),u_pixel_coord_upper:new o.Uniform2f(le,G.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(le,G.u_pixel_coord_lower),u_scale:new o.Uniform3f(le,G.u_scale),u_fade:new o.Uniform1f(le,G.u_fade)}},fillOutline:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_world:new o.Uniform2f(le,G.u_world)}},fillOutlinePattern:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_world:new o.Uniform2f(le,G.u_world),u_image:new o.Uniform1i(le,G.u_image),u_texsize:new o.Uniform2f(le,G.u_texsize),u_pixel_coord_upper:new o.Uniform2f(le,G.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(le,G.u_pixel_coord_lower),u_scale:new o.Uniform3f(le,G.u_scale),u_fade:new o.Uniform1f(le,G.u_fade)}},circle:function(le,G){return{u_camera_to_center_distance:new o.Uniform1f(le,G.u_camera_to_center_distance),u_scale_with_map:new o.Uniform1i(le,G.u_scale_with_map),u_pitch_with_map:new o.Uniform1i(le,G.u_pitch_with_map),u_extrude_scale:new o.Uniform2f(le,G.u_extrude_scale),u_device_pixel_ratio:new o.Uniform1f(le,G.u_device_pixel_ratio),u_matrix:new o.UniformMatrix4f(le,G.u_matrix)}},collisionBox:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_camera_to_center_distance:new o.Uniform1f(le,G.u_camera_to_center_distance),u_pixels_to_tile_units:new o.Uniform1f(le,G.u_pixels_to_tile_units),u_extrude_scale:new o.Uniform2f(le,G.u_extrude_scale),u_overscale_factor:new o.Uniform1f(le,G.u_overscale_factor)}},collisionCircle:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_inv_matrix:new o.UniformMatrix4f(le,G.u_inv_matrix),u_camera_to_center_distance:new o.Uniform1f(le,G.u_camera_to_center_distance),u_viewport_size:new o.Uniform2f(le,G.u_viewport_size)}},debug:function(le,G){return{u_color:new o.UniformColor(le,G.u_color),u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_overlay:new o.Uniform1i(le,G.u_overlay),u_overlay_scale:new o.Uniform1f(le,G.u_overlay_scale)}},clippingMask:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix)}},heatmap:function(le,G){return{u_extrude_scale:new o.Uniform1f(le,G.u_extrude_scale),u_intensity:new o.Uniform1f(le,G.u_intensity),u_matrix:new o.UniformMatrix4f(le,G.u_matrix)}},heatmapTexture:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_world:new o.Uniform2f(le,G.u_world),u_image:new o.Uniform1i(le,G.u_image),u_color_ramp:new o.Uniform1i(le,G.u_color_ramp),u_opacity:new o.Uniform1f(le,G.u_opacity)}},hillshade:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_image:new o.Uniform1i(le,G.u_image),u_latrange:new o.Uniform2f(le,G.u_latrange),u_light:new o.Uniform2f(le,G.u_light),u_shadow:new o.UniformColor(le,G.u_shadow),u_highlight:new o.UniformColor(le,G.u_highlight),u_accent:new o.UniformColor(le,G.u_accent)}},hillshadePrepare:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_image:new o.Uniform1i(le,G.u_image),u_dimension:new o.Uniform2f(le,G.u_dimension),u_zoom:new o.Uniform1f(le,G.u_zoom),u_maxzoom:new o.Uniform1f(le,G.u_maxzoom),u_unpack:new o.Uniform4f(le,G.u_unpack)}},line:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_ratio:new o.Uniform1f(le,G.u_ratio),u_device_pixel_ratio:new o.Uniform1f(le,G.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(le,G.u_units_to_pixels)}},lineGradient:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_ratio:new o.Uniform1f(le,G.u_ratio),u_device_pixel_ratio:new o.Uniform1f(le,G.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(le,G.u_units_to_pixels),u_image:new o.Uniform1i(le,G.u_image)}},linePattern:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_texsize:new o.Uniform2f(le,G.u_texsize),u_ratio:new o.Uniform1f(le,G.u_ratio),u_device_pixel_ratio:new o.Uniform1f(le,G.u_device_pixel_ratio),u_image:new o.Uniform1i(le,G.u_image),u_units_to_pixels:new o.Uniform2f(le,G.u_units_to_pixels),u_scale:new o.Uniform3f(le,G.u_scale),u_fade:new o.Uniform1f(le,G.u_fade)}},lineSDF:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_ratio:new o.Uniform1f(le,G.u_ratio),u_device_pixel_ratio:new o.Uniform1f(le,G.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(le,G.u_units_to_pixels),u_patternscale_a:new o.Uniform2f(le,G.u_patternscale_a),u_patternscale_b:new o.Uniform2f(le,G.u_patternscale_b),u_sdfgamma:new o.Uniform1f(le,G.u_sdfgamma),u_image:new o.Uniform1i(le,G.u_image),u_tex_y_a:new o.Uniform1f(le,G.u_tex_y_a),u_tex_y_b:new o.Uniform1f(le,G.u_tex_y_b),u_mix:new o.Uniform1f(le,G.u_mix)}},raster:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_tl_parent:new o.Uniform2f(le,G.u_tl_parent),u_scale_parent:new o.Uniform1f(le,G.u_scale_parent),u_buffer_scale:new o.Uniform1f(le,G.u_buffer_scale),u_fade_t:new o.Uniform1f(le,G.u_fade_t),u_opacity:new o.Uniform1f(le,G.u_opacity),u_image0:new o.Uniform1i(le,G.u_image0),u_image1:new o.Uniform1i(le,G.u_image1),u_brightness_low:new o.Uniform1f(le,G.u_brightness_low),u_brightness_high:new o.Uniform1f(le,G.u_brightness_high),u_saturation_factor:new o.Uniform1f(le,G.u_saturation_factor),u_contrast_factor:new o.Uniform1f(le,G.u_contrast_factor),u_spin_weights:new o.Uniform3f(le,G.u_spin_weights)}},symbolIcon:function(le,G){return{u_is_size_zoom_constant:new o.Uniform1i(le,G.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(le,G.u_is_size_feature_constant),u_size_t:new o.Uniform1f(le,G.u_size_t),u_size:new o.Uniform1f(le,G.u_size),u_camera_to_center_distance:new o.Uniform1f(le,G.u_camera_to_center_distance),u_pitch:new o.Uniform1f(le,G.u_pitch),u_rotate_symbol:new o.Uniform1i(le,G.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(le,G.u_aspect_ratio),u_fade_change:new o.Uniform1f(le,G.u_fade_change),u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(le,G.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(le,G.u_coord_matrix),u_is_text:new o.Uniform1i(le,G.u_is_text),u_pitch_with_map:new o.Uniform1i(le,G.u_pitch_with_map),u_texsize:new o.Uniform2f(le,G.u_texsize),u_texture:new o.Uniform1i(le,G.u_texture)}},symbolSDF:function(le,G){return{u_is_size_zoom_constant:new o.Uniform1i(le,G.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(le,G.u_is_size_feature_constant),u_size_t:new o.Uniform1f(le,G.u_size_t),u_size:new o.Uniform1f(le,G.u_size),u_camera_to_center_distance:new o.Uniform1f(le,G.u_camera_to_center_distance),u_pitch:new o.Uniform1f(le,G.u_pitch),u_rotate_symbol:new o.Uniform1i(le,G.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(le,G.u_aspect_ratio),u_fade_change:new o.Uniform1f(le,G.u_fade_change),u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(le,G.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(le,G.u_coord_matrix),u_is_text:new o.Uniform1i(le,G.u_is_text),u_pitch_with_map:new o.Uniform1i(le,G.u_pitch_with_map),u_texsize:new o.Uniform2f(le,G.u_texsize),u_texture:new o.Uniform1i(le,G.u_texture),u_gamma_scale:new o.Uniform1f(le,G.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(le,G.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(le,G.u_is_halo)}},symbolTextAndIcon:function(le,G){return{u_is_size_zoom_constant:new o.Uniform1i(le,G.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(le,G.u_is_size_feature_constant),u_size_t:new o.Uniform1f(le,G.u_size_t),u_size:new o.Uniform1f(le,G.u_size),u_camera_to_center_distance:new o.Uniform1f(le,G.u_camera_to_center_distance),u_pitch:new o.Uniform1f(le,G.u_pitch),u_rotate_symbol:new o.Uniform1i(le,G.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(le,G.u_aspect_ratio),u_fade_change:new o.Uniform1f(le,G.u_fade_change),u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(le,G.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(le,G.u_coord_matrix),u_is_text:new o.Uniform1i(le,G.u_is_text),u_pitch_with_map:new o.Uniform1i(le,G.u_pitch_with_map),u_texsize:new o.Uniform2f(le,G.u_texsize),u_texsize_icon:new o.Uniform2f(le,G.u_texsize_icon),u_texture:new o.Uniform1i(le,G.u_texture),u_texture_icon:new o.Uniform1i(le,G.u_texture_icon),u_gamma_scale:new o.Uniform1f(le,G.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(le,G.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(le,G.u_is_halo)}},background:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_opacity:new o.Uniform1f(le,G.u_opacity),u_color:new o.UniformColor(le,G.u_color)}},backgroundPattern:function(le,G){return{u_matrix:new o.UniformMatrix4f(le,G.u_matrix),u_opacity:new o.Uniform1f(le,G.u_opacity),u_image:new o.Uniform1i(le,G.u_image),u_pattern_tl_a:new o.Uniform2f(le,G.u_pattern_tl_a),u_pattern_br_a:new o.Uniform2f(le,G.u_pattern_br_a),u_pattern_tl_b:new o.Uniform2f(le,G.u_pattern_tl_b),u_pattern_br_b:new o.Uniform2f(le,G.u_pattern_br_b),u_texsize:new o.Uniform2f(le,G.u_texsize),u_mix:new o.Uniform1f(le,G.u_mix),u_pattern_size_a:new o.Uniform2f(le,G.u_pattern_size_a),u_pattern_size_b:new o.Uniform2f(le,G.u_pattern_size_b),u_scale_a:new o.Uniform1f(le,G.u_scale_a),u_scale_b:new o.Uniform1f(le,G.u_scale_b),u_pixel_coord_upper:new o.Uniform2f(le,G.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(le,G.u_pixel_coord_lower),u_tile_units_to_pixels:new o.Uniform1f(le,G.u_tile_units_to_pixels)}}};function ql(le,G,he,$,ve,Le,Ze){for(var st=le.context,wt=st.gl,Wt=le.useProgram("collisionBox"),nr=[],yr=0,Cr=0,Br=0;Br<$.length;Br++){var $r=$[Br],qr=G.getTile($r),jr=qr.getBucket(he);if(jr){var nn=$r.posMatrix;(0!==ve[0]||0!==ve[1])&&(nn=le.translatePosMatrix($r.posMatrix,qr,ve,Le));var wn=Ze?jr.textCollisionBox:jr.iconCollisionBox,_n=jr.collisionCircleArray;if(_n.length>0){var Un=o.create(),$n=nn;o.mul(Un,jr.placementInvProjMatrix,le.transform.glCoordMatrix),o.mul(Un,Un,jr.placementViewportMatrix),nr.push({circleArray:_n,circleOffset:Cr,transform:$n,invTransform:Un}),Cr=yr+=_n.length/4}wn&&Wt.draw(st,wt.LINES,Rr.disabled,tr.disabled,le.colorModeForRenderPass(),Lt.disabled,df(nn,le.transform,qr),he.id,wn.layoutVertexBuffer,wn.indexBuffer,wn.segments,null,le.transform.zoom,null,null,wn.collisionVertexBuffer)}}if(Ze&&nr.length){var ta=le.useProgram("collisionCircle"),qn=new o.StructArrayLayout2f1f2i16;qn.resize(4*yr),qn._trim();for(var ua=0,xa=0,ga=nr;xa<ga.length;xa+=1)for(var Ta=ga[xa],Pa=0;Pa<Ta.circleArray.length/4;Pa++){var Wa=4*Pa,qa=Ta.circleArray[Wa+0],Li=Ta.circleArray[Wa+1],ni=Ta.circleArray[Wa+2],vi=Ta.circleArray[Wa+3];qn.emplace(ua++,qa,Li,ni,vi,0),qn.emplace(ua++,qa,Li,ni,vi,1),qn.emplace(ua++,qa,Li,ni,vi,2),qn.emplace(ua++,qa,Li,ni,vi,3)}(!bs||bs.length<2*yr)&&(bs=function ul(le){var G=2*le,he=new o.StructArrayLayout3ui6;he.resize(G),he._trim();for(var $=0;$<G;$++){var ve=6*$;he.uint16[ve+0]=4*$+0,he.uint16[ve+1]=4*$+1,he.uint16[ve+2]=4*$+2,he.uint16[ve+3]=4*$+2,he.uint16[ve+4]=4*$+3,he.uint16[ve+5]=4*$+0}return he}(yr));for(var Oa=st.createIndexBuffer(bs,!0),Pi=st.createVertexBuffer(qn,o.collisionCircleLayout.members,!0),Ni=0,Xi=nr;Ni<Xi.length;Ni+=1){var yi=Xi[Ni],no=Yu(yi.transform,yi.invTransform,le.transform);ta.draw(st,wt.TRIANGLES,Rr.disabled,tr.disabled,le.colorModeForRenderPass(),Lt.disabled,no,he.id,Pi,Oa,o.SegmentVector.simpleSegment(0,2*yi.circleOffset,yi.circleArray.length,yi.circleArray.length/2),null,le.transform.zoom,null,null,null)}Pi.destroy(),Oa.destroy()}}var eu=o.identity(new Float32Array(16));function Qu(le,G,he,$,ve,Le){var Ze=o.getAnchorAlignment(le),Wt=-(Ze.horizontalAlign-.5)*G,nr=-(Ze.verticalAlign-.5)*he,yr=o.evaluateVariableOffset(le,$);return new o.Point((Wt/ve+yr[0])*Le,(nr/ve+yr[1])*Le)}function xo(le,G,he,$,ve,Le,Ze,st,wt,Wt,nr){var yr=le.text.placedSymbolArray,Cr=le.text.dynamicLayoutVertexArray,Br=le.icon.dynamicLayoutVertexArray,$r={};Cr.clear();for(var qr=0;qr<yr.length;qr++){var jr=yr.get(qr),wn=jr.hidden||!jr.crossTileID||le.allowVerticalPlacement&&!jr.placedOrientation?null:$[jr.crossTileID];if(wn){var _n=new o.Point(jr.anchorX,jr.anchorY),Un=Hr(_n,he?st:Ze),$n=fn(Le.cameraToCenterDistance,Un.signedDistanceFromCamera),ta=ve.evaluateSizeForFeature(le.textSizeData,Wt,jr)*$n/o.ONE_EM;he&&(ta*=le.tilePixelRatio/wt);for(var Pa=Qu(wn.anchor,wn.width,wn.height,wn.textOffset,wn.textBoxScale,ta),Wa=he?Hr(_n.add(Pa),Ze).point:Un.point.add(G?Pa.rotate(-Le.angle):Pa),qa=le.allowVerticalPlacement&&jr.placedOrientation===o.WritingMode.vertical?Math.PI/2:0,Li=0;Li<jr.numGlyphs;Li++)o.addDynamicAttributes(Cr,Wa,qa);nr&&jr.associatedIconIndex>=0&&($r[jr.associatedIconIndex]={shiftedAnchor:Wa,angle:qa})}else ra(jr.numGlyphs,Cr)}if(nr){Br.clear();for(var ni=le.icon.placedSymbolArray,vi=0;vi<ni.length;vi++){var Oa=ni.get(vi);if(Oa.hidden)ra(Oa.numGlyphs,Br);else{var Pi=$r[vi];if(Pi)for(var Ni=0;Ni<Oa.numGlyphs;Ni++)o.addDynamicAttributes(Br,Pi.shiftedAnchor,Pi.angle);else ra(Oa.numGlyphs,Br)}}le.icon.dynamicLayoutVertexBuffer.updateData(Br)}le.text.dynamicLayoutVertexBuffer.updateData(Cr)}function ku(le,G,he){return he.iconsInText&&G?"symbolTextAndIcon":le?"symbolSDF":"symbolIcon"}function mu(le,G,he,$,ve,Le,Ze,st,wt,Wt,nr,yr){for(var Cr=le.context,Br=Cr.gl,$r=le.transform,qr="map"===st,jr="map"===wt,nn=qr&&"point"!==he.layout.get("symbol-placement"),wn=qr&&!jr&&!nn,_n=void 0!==he.layout.get("symbol-sort-key").constantOr(1),Un=le.depthModeForSublayer(0,Rr.ReadOnly),$n=he.layout.get("text-variable-anchor"),ta=[],qn=0,ua=$;qn<ua.length;qn+=1){var xa=ua[qn],ga=G.getTile(xa),Ta=ga.getBucket(he);if(Ta){var Pa=ve?Ta.text:Ta.icon;if(Pa&&Pa.segments.get().length){var Wa=Pa.programConfigurations.get(he.id),qa=ve||Ta.sdfIcons,Li=ve?Ta.textSizeData:Ta.iconSizeData,ni=jr||0!==$r.pitch,vi=le.useProgram(ku(qa,ve,Ta),Wa),Oa=o.evaluateSizeForZoom(Li,$r.zoom),Pi=void 0,Ni=[0,0],Xi=void 0,yi=void 0,no=null,ei=void 0;if(ve)Xi=ga.glyphAtlasTexture,yi=Br.LINEAR,Pi=ga.glyphAtlasTexture.size,Ta.iconsInText&&(Ni=ga.imageAtlasTexture.size,no=ga.imageAtlasTexture,ei=ni||le.options.rotating||le.options.zooming||"composite"===Li.kind||"camera"===Li.kind?Br.LINEAR:Br.NEAREST);else{var Eo=1!==he.layout.get("icon-size").constantOr(0)||Ta.iconsNeedLinear;Xi=ga.imageAtlasTexture,yi=qa||le.options.rotating||le.options.zooming||Eo||ni?Br.LINEAR:Br.NEAREST,Pi=ga.imageAtlasTexture.size}var Oo=An(ga,1,le.transform.zoom),cl=Pr(xa.posMatrix,jr,qr,le.transform,Oo),hl=Zr(xa.posMatrix,jr,qr,le.transform,Oo),Ul=$n&&Ta.hasTextData(),Hl="none"!==he.layout.get("icon-text-fit")&&Ul&&Ta.hasIconData();nn&&Mn(Ta,xa.posMatrix,le,ve,cl,hl,jr,Wt);var su=le.translatePosMatrix(xa.posMatrix,ga,Le,Ze),Vl=nn||ve&&$n||Hl?eu:cl,Ms=le.translatePosMatrix(hl,ga,Le,Ze,!0),Mu=qa&&0!==he.paint.get(ve?"text-halo-width":"icon-halo-width").constantOr(1),Js={program:vi,buffers:Pa,uniformValues:qa?Ta.iconsInText?gu(Li.kind,Oa,wn,jr,le,su,Vl,Ms,Pi,Ni):Jl(Li.kind,Oa,wn,jr,le,su,Vl,Ms,ve,Pi,!0):Iu(Li.kind,Oa,wn,jr,le,su,Vl,Ms,ve,Pi),atlasTexture:Xi,atlasTextureIcon:no,atlasInterpolation:yi,atlasInterpolationIcon:ei,isSDF:qa,hasHalo:Mu};if(_n)for(var Dl=0,Wl=Pa.segments.get();Dl<Wl.length;Dl+=1){var Pf=Wl[Dl];ta.push({segments:new o.SegmentVector([Pf]),sortKey:Pf.sortKey,state:Js})}else ta.push({segments:Pa.segments,sortKey:0,state:Js})}}}_n&&ta.sort(function(Df,Rf){return Df.sortKey-Rf.sortKey});for(var Nu=0,ts=ta;Nu<ts.length;Nu+=1){var bf=ts[Nu],hs=bf.state;if(Cr.activeTexture.set(Br.TEXTURE0),hs.atlasTexture.bind(hs.atlasInterpolation,Br.CLAMP_TO_EDGE),hs.atlasTextureIcon&&(Cr.activeTexture.set(Br.TEXTURE1),hs.atlasTextureIcon&&hs.atlasTextureIcon.bind(hs.atlasInterpolationIcon,Br.CLAMP_TO_EDGE)),hs.isSDF){var wf=hs.uniformValues;hs.hasHalo&&(wf.u_is_halo=1,Ml(hs.buffers,bf.segments,he,le,hs.program,Un,nr,yr,wf)),wf.u_is_halo=0}Ml(hs.buffers,bf.segments,he,le,hs.program,Un,nr,yr,hs.uniformValues)}}function Ml(le,G,he,$,ve,Le,Ze,st,wt){var Wt=$.context;ve.draw(Wt,Wt.gl.TRIANGLES,Le,Ze,st,Lt.disabled,wt,he.id,le.layoutVertexBuffer,le.indexBuffer,G,he.paint,$.transform.zoom,le.programConfigurations.get(he.id),le.dynamicLayoutVertexBuffer,le.opacityVertexBuffer)}function $u(le,G,he,$,ve,Le,Ze){var yr,Cr,Br,$r,qr,st=le.context.gl,wt=he.paint.get("fill-pattern"),Wt=wt&&wt.constantOr(1),nr=he.getCrossfadeParameters();Ze?(Cr=Wt&&!he.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",yr=st.LINES):(Cr=Wt?"fillPattern":"fill",yr=st.TRIANGLES);for(var jr=0,nn=$;jr<nn.length;jr+=1){var wn=nn[jr],_n=G.getTile(wn);if(!Wt||_n.patternsLoaded()){var Un=_n.getBucket(he);if(Un){var $n=Un.programConfigurations.get(he.id),ta=le.useProgram(Cr,$n);Wt&&(le.context.activeTexture.set(st.TEXTURE0),_n.imageAtlasTexture.bind(st.LINEAR,st.CLAMP_TO_EDGE),$n.updatePaintBuffers(nr));var qn=wt.constantOr(null);if(qn&&_n.imageAtlas){var ua=_n.imageAtlas,xa=ua.patternPositions[qn.to.toString()],ga=ua.patternPositions[qn.from.toString()];xa&&ga&&$n.setConstantPatternPositions(xa,ga)}var Ta=le.translatePosMatrix(wn.posMatrix,_n,he.paint.get("fill-translate"),he.paint.get("fill-translate-anchor"));if(Ze){$r=Un.indexBuffer2,qr=Un.segments2;var Pa=[st.drawingBufferWidth,st.drawingBufferHeight];Br="fillOutlinePattern"===Cr&&Wt?Cu(Ta,le,nr,_n,Pa):Eu(Ta,Pa)}else $r=Un.indexBuffer,qr=Un.segments,Br=Wt?xs(Ta,le,nr,_n):al(Ta);ta.draw(le.context,yr,ve,le.stencilModeForClipping(wn),Le,Lt.disabled,Br,he.id,Un.layoutVertexBuffer,$r,qr,he.paint,le.transform.zoom,$n)}}}}function Sl(le,G,he,$,ve,Le,Ze){for(var st=le.context,wt=st.gl,Wt=he.paint.get("fill-extrusion-pattern"),nr=Wt.constantOr(1),yr=he.getCrossfadeParameters(),Cr=he.paint.get("fill-extrusion-opacity"),Br=0,$r=$;Br<$r.length;Br+=1){var qr=$r[Br],jr=G.getTile(qr),nn=jr.getBucket(he);if(nn){var wn=nn.programConfigurations.get(he.id),_n=le.useProgram(nr?"fillExtrusionPattern":"fillExtrusion",wn);nr&&(le.context.activeTexture.set(wt.TEXTURE0),jr.imageAtlasTexture.bind(wt.LINEAR,wt.CLAMP_TO_EDGE),wn.updatePaintBuffers(yr));var Un=Wt.constantOr(null);if(Un&&jr.imageAtlas){var $n=jr.imageAtlas,ta=$n.patternPositions[Un.to.toString()],qn=$n.patternPositions[Un.from.toString()];ta&&qn&&wn.setConstantPatternPositions(ta,qn)}var ua=le.translatePosMatrix(qr.posMatrix,jr,he.paint.get("fill-extrusion-translate"),he.paint.get("fill-extrusion-translate-anchor")),xa=he.paint.get("fill-extrusion-vertical-gradient"),ga=nr?ms(ua,le,xa,Cr,qr,yr,jr):Rs(ua,le,xa,Cr);_n.draw(st,st.gl.TRIANGLES,ve,Le,Ze,Lt.backCCW,ga,he.id,nn.layoutVertexBuffer,nn.indexBuffer,nn.segments,he.paint,le.transform.zoom,wn)}}}function Ou(le,G,he,$,ve,Le){var Ze=le.context,st=Ze.gl,wt=G.fbo;if(wt){var Wt=le.useProgram("hillshade");Ze.activeTexture.set(st.TEXTURE0),st.bindTexture(st.TEXTURE_2D,wt.colorAttachment.get());var nr=Ru(le,G,he);Wt.draw(Ze,st.TRIANGLES,$,ve,Le,Lt.disabled,nr,he.id,le.rasterBoundsBuffer,le.quadTriangleIndexBuffer,le.rasterBoundsSegments)}}function xu(le,G,he,$,ve,Le,Ze){var st=le.context,wt=st.gl,Wt=G.dem;if(Wt&&Wt.data){var nr=Wt.dim,yr=Wt.stride,Cr=Wt.getPixels();if(st.activeTexture.set(wt.TEXTURE1),st.pixelStoreUnpackPremultiplyAlpha.set(!1),G.demTexture=G.demTexture||le.getTileTexture(yr),G.demTexture){var Br=G.demTexture;Br.update(Cr,{premultiply:!1}),Br.bind(wt.NEAREST,wt.CLAMP_TO_EDGE)}else G.demTexture=new o.Texture(st,Cr,wt.RGBA,{premultiply:!1}),G.demTexture.bind(wt.NEAREST,wt.CLAMP_TO_EDGE);st.activeTexture.set(wt.TEXTURE0);var $r=G.fbo;if(!$r){var qr=new o.Texture(st,{width:nr,height:nr,data:null},wt.RGBA);qr.bind(wt.LINEAR,wt.CLAMP_TO_EDGE),($r=G.fbo=st.createFramebuffer(nr,nr,!0)).colorAttachment.set(qr.texture)}st.bindFramebuffer.set($r.framebuffer),st.viewport.set([0,0,nr,nr]),le.useProgram("hillshadePrepare").draw(st,wt.TRIANGLES,ve,Le,Ze,Lt.disabled,pf(G.tileID,Wt,$),he.id,le.rasterBoundsBuffer,le.quadTriangleIndexBuffer,le.rasterBoundsSegments),G.needsHillshadePrepare=!1}}function Nl(le,G,he,$,ve){var Le=$.paint.get("raster-fade-duration");if(Le>0){var Ze=o.browser.now(),st=(Ze-le.timeAdded)/Le,wt=G?(Ze-G.timeAdded)/Le:-1,Wt=he.getSource(),nr=ve.coveringZoomLevel({tileSize:Wt.tileSize,roundZoom:Wt.roundZoom}),yr=!G||Math.abs(G.tileID.overscaledZ-nr)>Math.abs(le.tileID.overscaledZ-nr),Cr=yr&&le.refreshedUponExpiration?1:o.clamp(yr?st:1-wt,0,1);return le.refreshedUponExpiration&&st>=1&&(le.refreshedUponExpiration=!1),G?{opacity:1,mix:1-Cr}:{opacity:Cr,mix:0}}return{opacity:1,mix:0}}var qu=new o.Color(1,0,0,1),bu=new o.Color(0,1,0,1),ef=new o.Color(0,0,1,1),nu=new o.Color(1,0,1,1),Bu=new o.Color(0,1,1,1);function je(le){var G=le.transform.padding;vt(le,le.transform.height-(G.top||0),3,qu),vt(le,G.bottom||0,3,bu),yt(le,G.left||0,3,ef),yt(le,le.transform.width-(G.right||0),3,nu);var $=le.transform.centerPoint;!function et(le,G,he,$){var ve=20,Le=2;kt(le,G-Le/2,he-ve/2,Le,ve,$),kt(le,G-ve/2,he-Le/2,ve,Le,$)}(le,$.x,le.transform.height-$.y,Bu)}function vt(le,G,he,$){kt(le,0,G+he/2,le.transform.width,he,$)}function yt(le,G,he,$){kt(le,G-he/2,0,he,le.transform.height,$)}function kt(le,G,he,$,ve,Le){var Ze=le.context,st=Ze.gl;st.enable(st.SCISSOR_TEST),st.scissor(G*o.browser.devicePixelRatio,he*o.browser.devicePixelRatio,$*o.browser.devicePixelRatio,ve*o.browser.devicePixelRatio),Ze.clear({color:Le}),st.disable(st.SCISSOR_TEST)}function Gt(le,G,he){var $=le.context,ve=$.gl,Le=he.posMatrix,Ze=le.useProgram("debug"),st=Rr.disabled,wt=tr.disabled,Wt=le.colorModeForRenderPass();$.activeTexture.set(ve.TEXTURE0),le.emptyTexture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE),Ze.draw($,ve.LINE_STRIP,st,wt,Wt,Lt.disabled,Xu(Le,o.Color.red),"$debug",le.debugBuffer,le.tileBorderIndexBuffer,le.debugSegments);var yr=G.getTileByID(he.key).latestRawTileData,Br=Math.floor((yr&&yr.byteLength||0)/1024),$r=G.getTile(he).tileSize,qr=512/Math.min($r,512)*(he.overscaledZ/le.transform.zoom)*.5,jr=he.canonical.toString();he.overscaledZ!==he.canonical.z&&(jr+=" => "+he.overscaledZ),function mr(le,G){le.initDebugOverlayCanvas();var he=le.debugOverlayCanvas,$=le.context.gl,ve=le.debugOverlayCanvas.getContext("2d");ve.clearRect(0,0,he.width,he.height),ve.shadowColor="white",ve.shadowBlur=2,ve.lineWidth=1.5,ve.strokeStyle="white",ve.textBaseline="top",ve.font="bold 36px Open Sans, sans-serif",ve.fillText(G,5,5),ve.strokeText(G,5,5),le.debugOverlayTexture.update(he),le.debugOverlayTexture.bind($.LINEAR,$.CLAMP_TO_EDGE)}(le,jr+" "+Br+"kb"),Ze.draw($,ve.TRIANGLES,st,wt,it.alphaBlended,Lt.disabled,Xu(Le,o.Color.transparent,qr),"$debug",le.debugBuffer,le.quadTriangleIndexBuffer,le.debugSegments)}var gr={symbol:function zl(le,G,he,$,ve){if("translucent"===le.renderPass){var Le=tr.disabled,Ze=le.colorModeForRenderPass();he.layout.get("text-variable-anchor")&&function yu(le,G,he,$,ve,Le,Ze){for(var st=G.transform,wt="map"===ve,Wt="map"===Le,nr=0,yr=le;nr<yr.length;nr+=1){var Cr=yr[nr],Br=$.getTile(Cr),$r=Br.getBucket(he);if($r&&$r.text&&$r.text.segments.get().length){var jr=o.evaluateSizeForZoom($r.textSizeData,st.zoom),nn=An(Br,1,G.transform.zoom),wn=Pr(Cr.posMatrix,Wt,wt,G.transform,nn),_n="none"!==he.layout.get("icon-text-fit")&&$r.hasIconData();if(jr){var Un=Math.pow(2,st.zoom-Br.tileID.overscaledZ);xo($r,wt,Wt,Ze,o.symbolSize,st,wn,Cr.posMatrix,Un,jr,_n)}}}}($,le,he,G,he.layout.get("text-rotation-alignment"),he.layout.get("text-pitch-alignment"),ve),0!==he.paint.get("icon-opacity").constantOr(1)&&mu(le,G,he,$,!1,he.paint.get("icon-translate"),he.paint.get("icon-translate-anchor"),he.layout.get("icon-rotation-alignment"),he.layout.get("icon-pitch-alignment"),he.layout.get("icon-keep-upright"),Le,Ze),0!==he.paint.get("text-opacity").constantOr(1)&&mu(le,G,he,$,!0,he.paint.get("text-translate"),he.paint.get("text-translate-anchor"),he.layout.get("text-rotation-alignment"),he.layout.get("text-pitch-alignment"),he.layout.get("text-keep-upright"),Le,Ze),G.map.showCollisionBoxes&&(ql(le,G,he,$,he.paint.get("text-translate"),he.paint.get("text-translate-anchor"),!0),ql(le,G,he,$,he.paint.get("icon-translate"),he.paint.get("icon-translate-anchor"),!1))}},circle:function fl(le,G,he,$){if("translucent"===le.renderPass){var ve=he.paint.get("circle-opacity"),Le=he.paint.get("circle-stroke-width"),Ze=he.paint.get("circle-stroke-opacity"),st=void 0!==he.layout.get("circle-sort-key").constantOr(1);if(0!==ve.constantOr(1)||0!==Le.constantOr(1)&&0!==Ze.constantOr(1)){for(var wt=le.context,Wt=wt.gl,nr=le.depthModeForSublayer(0,Rr.ReadOnly),yr=tr.disabled,Cr=le.colorModeForRenderPass(),Br=[],$r=0;$r<$.length;$r++){var qr=$[$r],jr=G.getTile(qr),nn=jr.getBucket(he);if(nn){var wn=nn.programConfigurations.get(he.id),qn={programConfiguration:wn,program:le.useProgram("circle",wn),layoutVertexBuffer:nn.layoutVertexBuffer,indexBuffer:nn.indexBuffer,uniformValues:Il(le,qr,jr,he)};if(st)for(var xa=0,ga=nn.segments.get();xa<ga.length;xa+=1){var Ta=ga[xa];Br.push({segments:new o.SegmentVector([Ta]),sortKey:Ta.sortKey,state:qn})}else Br.push({segments:nn.segments,sortKey:0,state:qn})}}st&&Br.sort(function(yi,no){return yi.sortKey-no.sortKey});for(var Pa=0,Wa=Br;Pa<Wa.length;Pa+=1){var qa=Wa[Pa],Li=qa.state;Li.program.draw(wt,Wt.TRIANGLES,nr,yr,Cr,Lt.disabled,Li.uniformValues,he.id,Li.layoutVertexBuffer,Li.indexBuffer,qa.segments,he.paint,le.transform.zoom,Li.programConfiguration)}}}},heatmap:function Fu(le,G,he,$){if(0!==he.paint.get("heatmap-opacity"))if("offscreen"===le.renderPass){var ve=le.context,Le=ve.gl,Ze=tr.disabled,st=new it([Le.ONE,Le.ONE],o.Color.transparent,[!0,!0,!0,!0]);(function gf(le,G,he){var $=le.gl;le.activeTexture.set($.TEXTURE1),le.viewport.set([0,0,G.width/4,G.height/4]);var ve=he.heatmapFbo;if(ve)$.bindTexture($.TEXTURE_2D,ve.colorAttachment.get()),le.bindFramebuffer.set(ve.framebuffer);else{var Le=$.createTexture();$.bindTexture($.TEXTURE_2D,Le),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.LINEAR),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.LINEAR),ve=he.heatmapFbo=le.createFramebuffer(G.width/4,G.height/4,!1),function Ol(le,G,he,$){var ve=le.gl;ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,G.width/4,G.height/4,0,ve.RGBA,le.extRenderToTextureHalfFloat?le.extTextureHalfFloat.HALF_FLOAT_OES:ve.UNSIGNED_BYTE,null),$.colorAttachment.set(he)}(le,G,Le,ve)}})(ve,le,he),ve.clear({color:o.Color.transparent});for(var wt=0;wt<$.length;wt++){var Wt=$[wt];if(!G.hasRenderableParent(Wt)){var nr=G.getTile(Wt),yr=nr.getBucket(he);if(yr){var Cr=yr.programConfigurations.get(he.id);le.useProgram("heatmap",Cr).draw(ve,Le.TRIANGLES,Rr.disabled,Ze,st,Lt.disabled,Zl(Wt.posMatrix,nr,le.transform.zoom,he.paint.get("heatmap-intensity")),he.id,yr.layoutVertexBuffer,yr.indexBuffer,yr.segments,he.paint,le.transform.zoom,Cr)}}}ve.viewport.set([0,0,le.width,le.height])}else"translucent"===le.renderPass&&(le.context.setColorMode(le.colorModeForRenderPass()),function Bl(le,G){var he=le.context,$=he.gl,ve=G.heatmapFbo;if(ve){he.activeTexture.set($.TEXTURE0),$.bindTexture($.TEXTURE_2D,ve.colorAttachment.get()),he.activeTexture.set($.TEXTURE1);var Le=G.colorRampTexture;Le||(Le=G.colorRampTexture=new o.Texture(he,G.colorRamp,$.RGBA)),Le.bind($.LINEAR,$.CLAMP_TO_EDGE),le.useProgram("heatmapTexture").draw(he,$.TRIANGLES,Rr.disabled,tr.disabled,le.colorModeForRenderPass(),Lt.disabled,kl(le,G,0,1),G.id,le.viewportBuffer,le.quadTriangleIndexBuffer,le.viewportSegments,G.paint,le.transform.zoom)}}(le,he))},line:function tu(le,G,he,$){if("translucent"===le.renderPass){var ve=he.paint.get("line-opacity"),Le=he.paint.get("line-width");if(0!==ve.constantOr(1)&&0!==Le.constantOr(1)){var Ze=le.depthModeForSublayer(0,Rr.ReadOnly),st=le.colorModeForRenderPass(),wt=he.paint.get("line-dasharray"),Wt=he.paint.get("line-pattern"),nr=Wt.constantOr(1),yr=he.paint.get("line-gradient"),Cr=he.getCrossfadeParameters(),Br=nr?"linePattern":wt?"lineSDF":yr?"lineGradient":"line",$r=le.context,qr=$r.gl,jr=!0;if(yr){$r.activeTexture.set(qr.TEXTURE0);var nn=he.gradientTexture;if(!he.gradient)return;nn||(nn=he.gradientTexture=new o.Texture($r,he.gradient,qr.RGBA)),nn.bind(qr.LINEAR,qr.CLAMP_TO_EDGE)}for(var wn=0,_n=$;wn<_n.length;wn+=1){var Un=_n[wn],$n=G.getTile(Un);if(!nr||$n.patternsLoaded()){var ta=$n.getBucket(he);if(ta){var qn=ta.programConfigurations.get(he.id),ua=le.context.program.get(),xa=le.useProgram(Br,qn),ga=jr||xa.program!==ua,Ta=Wt.constantOr(null);if(Ta&&$n.imageAtlas){var Pa=$n.imageAtlas,Wa=Pa.patternPositions[Ta.to.toString()],qa=Pa.patternPositions[Ta.from.toString()];Wa&&qa&&qn.setConstantPatternPositions(Wa,qa)}var Li=nr?ll(le,$n,he,Cr):wt?jl(le,$n,he,wt,Cr):yr?ju(le,$n,he):wl(le,$n,he);nr?($r.activeTexture.set(qr.TEXTURE0),$n.imageAtlasTexture.bind(qr.LINEAR,qr.CLAMP_TO_EDGE),qn.updatePaintBuffers(Cr)):wt&&(ga||le.lineAtlas.dirty)&&($r.activeTexture.set(qr.TEXTURE0),le.lineAtlas.bind($r)),xa.draw($r,qr.TRIANGLES,Ze,le.stencilModeForClipping(Un),st,Lt.disabled,Li,he.id,ta.layoutVertexBuffer,ta.indexBuffer,ta.segments,he.paint,le.transform.zoom,qn),jr=!1}}}}}},fill:function ru(le,G,he,$){var ve=he.paint.get("fill-color"),Le=he.paint.get("fill-opacity");if(0!==Le.constantOr(1)){var Ze=le.colorModeForRenderPass(),st=he.paint.get("fill-pattern"),wt=le.opaquePassEnabledForLayer()&&!st.constantOr(1)&&1===ve.constantOr(o.Color.transparent).a&&1===Le.constantOr(0)?"opaque":"translucent";if(le.renderPass===wt){var Wt=le.depthModeForSublayer(1,"opaque"===le.renderPass?Rr.ReadWrite:Rr.ReadOnly);$u(le,G,he,$,Wt,Ze,!1)}if("translucent"===le.renderPass&&he.paint.get("fill-antialias")){var nr=le.depthModeForSublayer(he.getPaintProperty("fill-outline-color")?2:0,Rr.ReadOnly);$u(le,G,he,$,nr,Ze,!0)}}},"fill-extrusion":function zu(le,G,he,$){var ve=he.paint.get("fill-extrusion-opacity");if(0!==ve&&"translucent"===le.renderPass){var Le=new Rr(le.context.gl.LEQUAL,Rr.ReadWrite,le.depthRangeFor3D);if(1!==ve||he.paint.get("fill-extrusion-pattern").constantOr(1))Sl(le,G,he,$,Le,tr.disabled,it.disabled),Sl(le,G,he,$,Le,le.stencilModeFor3D(),le.colorModeForRenderPass());else{var Ze=le.colorModeForRenderPass();Sl(le,G,he,$,Le,tr.disabled,Ze)}}},hillshade:function qo(le,G,he,$){if("offscreen"===le.renderPass||"translucent"===le.renderPass){for(var ve=le.context,Le=G.getSource().maxzoom,Ze=le.depthModeForSublayer(0,Rr.ReadOnly),st=le.colorModeForRenderPass(),wt="translucent"===le.renderPass?le.stencilConfigForOverlap($):[{},$],Wt=wt[0],yr=0,Cr=wt[1];yr<Cr.length;yr+=1){var Br=Cr[yr],$r=G.getTile(Br);$r.needsHillshadePrepare&&"offscreen"===le.renderPass?xu(le,$r,he,Le,Ze,tr.disabled,st):"translucent"===le.renderPass&&Ou(le,$r,he,Ze,Wt[Br.overscaledZ],st)}ve.viewport.set([0,0,le.width,le.height])}},raster:function Is(le,G,he,$){if("translucent"===le.renderPass&&0!==he.paint.get("raster-opacity")&&$.length)for(var ve=le.context,Le=ve.gl,Ze=G.getSource(),st=le.useProgram("raster"),wt=le.colorModeForRenderPass(),Wt=Ze instanceof X?[{},$]:le.stencilConfigForOverlap($),nr=Wt[0],yr=Wt[1],Cr=yr[yr.length-1].overscaledZ,Br=!le.options.moving,$r=0,qr=yr;$r<qr.length;$r+=1){var jr=qr[$r],nn=le.depthModeForSublayer(jr.overscaledZ-Cr,1===he.paint.get("raster-opacity")?Rr.ReadWrite:Rr.ReadOnly,Le.LESS),wn=G.getTile(jr),_n=le.transform.calculatePosMatrix(jr.toUnwrapped(),Br);wn.registerFadeDuration(he.paint.get("raster-fade-duration"));var Un=G.findLoadedParent(jr,0),$n=Nl(wn,Un,G,he,le.transform),ta=void 0,qn=void 0,ua="nearest"===he.paint.get("raster-resampling")?Le.NEAREST:Le.LINEAR;ve.activeTexture.set(Le.TEXTURE0),wn.texture.bind(ua,Le.CLAMP_TO_EDGE,Le.LINEAR_MIPMAP_NEAREST),ve.activeTexture.set(Le.TEXTURE1),Un?(Un.texture.bind(ua,Le.CLAMP_TO_EDGE,Le.LINEAR_MIPMAP_NEAREST),ta=Math.pow(2,Un.tileID.overscaledZ-wn.tileID.overscaledZ),qn=[wn.tileID.canonical.x*ta%1,wn.tileID.canonical.y*ta%1]):wn.texture.bind(ua,Le.CLAMP_TO_EDGE,Le.LINEAR_MIPMAP_NEAREST);var xa=Tl(_n,qn||[0,0],ta||1,$n,he);Ze instanceof X?st.draw(ve,Le.TRIANGLES,nn,tr.disabled,wt,Lt.disabled,xa,he.id,Ze.boundsBuffer,le.quadTriangleIndexBuffer,Ze.boundsSegments):st.draw(ve,Le.TRIANGLES,nn,nr[jr.overscaledZ],wt,Lt.disabled,xa,he.id,le.rasterBoundsBuffer,le.quadTriangleIndexBuffer,le.rasterBoundsSegments)}},background:function El(le,G,he){var $=he.paint.get("background-color"),ve=he.paint.get("background-opacity");if(0!==ve){var Le=le.context,Ze=Le.gl,st=le.transform,wt=st.tileSize,Wt=he.paint.get("background-pattern");if(!le.isPatternMissing(Wt)){var nr=!Wt&&1===$.a&&1===ve&&le.opaquePassEnabledForLayer()?"opaque":"translucent";if(le.renderPass===nr){var yr=tr.disabled,Cr=le.depthModeForSublayer(0,"opaque"===nr?Rr.ReadWrite:Rr.ReadOnly),Br=le.colorModeForRenderPass(),$r=le.useProgram(Wt?"backgroundPattern":"background"),qr=st.coveringTiles({tileSize:wt});Wt&&(Le.activeTexture.set(Ze.TEXTURE0),le.imageManager.bind(le.context));for(var jr=he.getCrossfadeParameters(),nn=0,wn=qr;nn<wn.length;nn+=1){var _n=wn[nn],Un=le.transform.calculatePosMatrix(_n.toUnwrapped()),$n=Wt?$l(Un,ve,le,Wt,{tileID:_n,tileSize:wt},jr):Ql(Un,ve,$);$r.draw(Le,Ze.TRIANGLES,Cr,yr,Br,Lt.disabled,$n,he.id,le.tileExtentBuffer,le.quadTriangleIndexBuffer,le.tileExtentSegments)}}}}},debug:function Dt(le,G,he){for(var $=0;$<he.length;$++)Gt(le,G,he[$])},custom:function Ar(le,G,he){var $=le.context,ve=he.implementation;if("offscreen"===le.renderPass){var Le=ve.prerender;Le&&(le.setCustomLayerDefaults(),$.setColorMode(le.colorModeForRenderPass()),Le.call(ve,$.gl,le.transform.customLayerMatrix()),$.setDirty(),le.setBaseState())}else if("translucent"===le.renderPass){le.setCustomLayerDefaults(),$.setColorMode(le.colorModeForRenderPass()),$.setStencilMode(tr.disabled);var Ze="3d"===ve.renderingMode?new Rr(le.context.gl.LEQUAL,Rr.ReadWrite,le.depthRangeFor3D):le.depthModeForSublayer(0,Rr.ReadOnly);$.setDepthMode(Ze),ve.render($.gl,le.transform.customLayerMatrix()),$.setDirty(),le.setBaseState(),$.bindFramebuffer.set(null)}}},Tr=function(G,he){this.context=new Ct(G),this.transform=he,this._tileTextures={},this.setup(),this.numSublayers=Ut.maxUnderzooming+Ut.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ea,this.gpuTimers={}};Tr.prototype.resize=function(G,he){if(this.width=G*o.browser.devicePixelRatio,this.height=he*o.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var $=0,ve=this.style._order;$<ve.length;$+=1)this.style._layers[ve[$]].resize()},Tr.prototype.setup=function(){var G=this.context,he=new o.StructArrayLayout2i4;he.emplaceBack(0,0),he.emplaceBack(o.EXTENT,0),he.emplaceBack(0,o.EXTENT),he.emplaceBack(o.EXTENT,o.EXTENT),this.tileExtentBuffer=G.createVertexBuffer(he,ti.members),this.tileExtentSegments=o.SegmentVector.simpleSegment(0,0,4,2);var $=new o.StructArrayLayout2i4;$.emplaceBack(0,0),$.emplaceBack(o.EXTENT,0),$.emplaceBack(0,o.EXTENT),$.emplaceBack(o.EXTENT,o.EXTENT),this.debugBuffer=G.createVertexBuffer($,ti.members),this.debugSegments=o.SegmentVector.simpleSegment(0,0,4,5);var ve=new o.StructArrayLayout4i8;ve.emplaceBack(0,0,0,0),ve.emplaceBack(o.EXTENT,0,o.EXTENT,0),ve.emplaceBack(0,o.EXTENT,0,o.EXTENT),ve.emplaceBack(o.EXTENT,o.EXTENT,o.EXTENT,o.EXTENT),this.rasterBoundsBuffer=G.createVertexBuffer(ve,H.members),this.rasterBoundsSegments=o.SegmentVector.simpleSegment(0,0,4,2);var Le=new o.StructArrayLayout2i4;Le.emplaceBack(0,0),Le.emplaceBack(1,0),Le.emplaceBack(0,1),Le.emplaceBack(1,1),this.viewportBuffer=G.createVertexBuffer(Le,ti.members),this.viewportSegments=o.SegmentVector.simpleSegment(0,0,4,2);var Ze=new o.StructArrayLayout1ui2;Ze.emplaceBack(0),Ze.emplaceBack(1),Ze.emplaceBack(3),Ze.emplaceBack(2),Ze.emplaceBack(0),this.tileBorderIndexBuffer=G.createIndexBuffer(Ze);var st=new o.StructArrayLayout3ui6;st.emplaceBack(0,1,2),st.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=G.createIndexBuffer(st),this.emptyTexture=new o.Texture(G,{width:1,height:1,data:new Uint8Array([0,0,0,0])},G.gl.RGBA);var wt=this.context.gl;this.stencilClearMode=new tr({func:wt.ALWAYS,mask:0},0,255,wt.ZERO,wt.ZERO,wt.ZERO)},Tr.prototype.clearStencil=function(){var G=this.context,he=G.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var $=o.create();o.ortho($,0,this.width,this.height,0,0,1),o.scale($,$,[he.drawingBufferWidth,he.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(G,he.TRIANGLES,Rr.disabled,this.stencilClearMode,it.disabled,Lt.disabled,Io($),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Tr.prototype._renderTileClippingMasks=function(G,he){if(this.currentStencilSource!==G.source&&G.isTileClipped()&&he&&he.length){this.currentStencilSource=G.source;var $=this.context,ve=$.gl;this.nextStencilID+he.length>256&&this.clearStencil(),$.setColorMode(it.disabled),$.setDepthMode(Rr.disabled);var Le=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ze=0,st=he;Ze<st.length;Ze+=1){var wt=st[Ze],Wt=this._tileClippingMaskIDs[wt.key]=this.nextStencilID++;Le.draw($,ve.TRIANGLES,Rr.disabled,new tr({func:ve.ALWAYS,mask:0},Wt,255,ve.KEEP,ve.KEEP,ve.REPLACE),it.disabled,Lt.disabled,Io(wt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Tr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var G=this.nextStencilID++,he=this.context.gl;return new tr({func:he.NOTEQUAL,mask:255},G,255,he.KEEP,he.KEEP,he.REPLACE)},Tr.prototype.stencilModeForClipping=function(G){var he=this.context.gl;return new tr({func:he.EQUAL,mask:255},this._tileClippingMaskIDs[G.key],0,he.KEEP,he.KEEP,he.REPLACE)},Tr.prototype.stencilConfigForOverlap=function(G){var he,$=this.context.gl,ve=G.sort(function(Wt,nr){return nr.overscaledZ-Wt.overscaledZ}),Le=ve[ve.length-1].overscaledZ,Ze=ve[0].overscaledZ-Le+1;if(Ze>1){this.currentStencilSource=void 0,this.nextStencilID+Ze>256&&this.clearStencil();for(var st={},wt=0;wt<Ze;wt++)st[wt+Le]=new tr({func:$.GEQUAL,mask:255},wt+this.nextStencilID,255,$.KEEP,$.KEEP,$.REPLACE);return this.nextStencilID+=Ze,[st,ve]}return[(he={},he[Le]=tr.disabled,he),ve]},Tr.prototype.colorModeForRenderPass=function(){var G=this.context.gl;if(this._showOverdrawInspector){var $=1/8;return new it([G.CONSTANT_COLOR,G.ONE],new o.Color($,$,$,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?it.unblended:it.alphaBlended},Tr.prototype.depthModeForSublayer=function(G,he,$){if(!this.opaquePassEnabledForLayer())return Rr.disabled;var ve=1-((1+this.currentLayer)*this.numSublayers+G)*this.depthEpsilon;return new Rr($||this.context.gl.LEQUAL,he,[ve,ve])},Tr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Tr.prototype.render=function(G,he){var $=this;this.style=G,this.options=he,this.lineAtlas=G.lineAtlas,this.imageManager=G.imageManager,this.glyphManager=G.glyphManager,this.symbolFadeChange=G.placement.symbolFadeChange(o.browser.now()),this.imageManager.beginFrame();var ve=this.style._order,Le=this.style.sourceCaches;for(var Ze in Le){var st=Le[Ze];st.used&&st.prepare(this.context)}var ga,Ta,wt={},Wt={},nr={};for(var yr in Le){var Cr=Le[yr];wt[yr]=Cr.getVisibleCoordinates(),Wt[yr]=wt[yr].slice().reverse(),nr[yr]=Cr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Br=0;Br<ve.length;Br++)if(this.style._layers[ve[Br]].is3D()){this.opaquePassCutoff=Br;break}this.renderPass="offscreen";for(var qr=0,jr=ve;qr<jr.length;qr+=1){var wn=this.style._layers[jr[qr]];if(wn.hasOffscreenPass()&&!wn.isHidden(this.transform.zoom)){var _n=Wt[wn.source];"custom"!==wn.type&&!_n.length||this.renderLayer(this,Le[wn.source],wn,_n)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:he.showOverdrawInspector?o.Color.black:o.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=he.showOverdrawInspector,this.depthRangeFor3D=[0,1-(G._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ve.length-1;this.currentLayer>=0;this.currentLayer--){var Un=this.style._layers[ve[this.currentLayer]],$n=Le[Un.source],ta=wt[Un.source];this._renderTileClippingMasks(Un,ta),this.renderLayer(this,$n,Un,ta)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ve.length;this.currentLayer++){var qn=this.style._layers[ve[this.currentLayer]],ua=Le[qn.source],xa=("symbol"===qn.type?nr:Wt)[qn.source];this._renderTileClippingMasks(qn,wt[qn.source]),this.renderLayer(this,ua,qn,xa)}this.options.showTileBoundaries&&(o.values(this.style._layers).forEach(function(Wa){Wa.source&&!Wa.isHidden($.transform.zoom)&&(Wa.source!==(Ta&&Ta.id)&&(Ta=$.style.sourceCaches[Wa.source]),(!ga||ga.getSource().maxzoom<Ta.getSource().maxzoom)&&(ga=Ta))}),ga&&gr.debug(this,ga,ga.getVisibleCoordinates())),this.options.showPadding&&je(this),this.context.setDefault()},Tr.prototype.renderLayer=function(G,he,$,ve){$.isHidden(this.transform.zoom)||"background"!==$.type&&"custom"!==$.type&&!ve.length||(this.id=$.id,this.gpuTimingStart($),gr[$.type](G,he,$,ve,this.style.placement.variableOffsets),this.gpuTimingEnd())},Tr.prototype.gpuTimingStart=function(G){if(this.options.gpuTiming){var he=this.context.extTimerQuery,$=this.gpuTimers[G.id];$||($=this.gpuTimers[G.id]={calls:0,cpuTime:0,query:he.createQueryEXT()}),$.calls++,he.beginQueryEXT(he.TIME_ELAPSED_EXT,$.query)}},Tr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var G=this.context.extTimerQuery;G.endQueryEXT(G.TIME_ELAPSED_EXT)}},Tr.prototype.collectGpuTimers=function(){var G=this.gpuTimers;return this.gpuTimers={},G},Tr.prototype.queryGpuTimers=function(G){var he={};for(var $ in G){var ve=G[$],Le=this.context.extTimerQuery,Ze=Le.getQueryObjectEXT(ve.query,Le.QUERY_RESULT_EXT)/1e6;Le.deleteQueryEXT(ve.query),he[$]=Ze}return he},Tr.prototype.translatePosMatrix=function(G,he,$,ve,Le){if(!$[0]&&!$[1])return G;var Ze=Le?"map"===ve?this.transform.angle:0:"viewport"===ve?-this.transform.angle:0;if(Ze){var st=Math.sin(Ze),wt=Math.cos(Ze);$=[$[0]*wt-$[1]*st,$[0]*st+$[1]*wt]}var Wt=[Le?$[0]:An(he,$[0],this.transform.zoom),Le?$[1]:An(he,$[1],this.transform.zoom),0],nr=new Float32Array(16);return o.translate(nr,G,Wt),nr},Tr.prototype.saveTileTexture=function(G){var he=this._tileTextures[G.size[0]];he?he.push(G):this._tileTextures[G.size[0]]=[G]},Tr.prototype.getTileTexture=function(G){var he=this._tileTextures[G];return he&&he.length>0?he.pop():null},Tr.prototype.isPatternMissing=function(G){if(!G)return!1;if(!G.from||!G.to)return!0;var he=this.imageManager.getPattern(G.from.toString()),$=this.imageManager.getPattern(G.to.toString());return!he||!$},Tr.prototype.useProgram=function(G,he){this.cache=this.cache||{};var $=""+G+(he?he.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[$]||(this.cache[$]=new is(this.context,rl[G],he,js[G],this._showOverdrawInspector)),this.cache[$]},Tr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Tr.prototype.setBaseState=function(){var G=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(G.FUNC_ADD)},Tr.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=o.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new o.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Tr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Nr=function(G,he){this.points=G,this.planes=he};Nr.fromInvProjectionMatrix=function(G,he,$){var Le=Math.pow(2,$),Ze=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(Wt){return o.transformMat4([],Wt,G)}).map(function(Wt){return o.scale$1([],Wt,1/Wt[3]/he*Le)}),wt=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(Wt){var nr=o.sub([],Ze[Wt[0]],Ze[Wt[1]]),yr=o.sub([],Ze[Wt[2]],Ze[Wt[1]]),Cr=o.normalize([],o.cross([],nr,yr)),Br=-o.dot(Cr,Ze[Wt[1]]);return Cr.concat(Br)});return new Nr(Ze,wt)};var Qr=function(G,he){this.min=G,this.max=he,this.center=o.scale$2([],o.add([],this.min,this.max),.5)};Qr.prototype.quadrant=function(G){for(var he=[G%2==0,G<2],$=o.clone$2(this.min),ve=o.clone$2(this.max),Le=0;Le<he.length;Le++)$[Le]=he[Le]?this.min[Le]:this.center[Le],ve[Le]=he[Le]?this.center[Le]:this.max[Le];return ve[2]=this.max[2],new Qr($,ve)},Qr.prototype.distanceX=function(G){return Math.max(Math.min(this.max[0],G[0]),this.min[0])-G[0]},Qr.prototype.distanceY=function(G){return Math.max(Math.min(this.max[1],G[1]),this.min[1])-G[1]},Qr.prototype.intersects=function(G){for(var he=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],$=!0,ve=0;ve<G.planes.length;ve++){for(var Le=G.planes[ve],Ze=0,st=0;st<he.length;st++)Ze+=o.dot$1(Le,he[st])>=0;if(0===Ze)return 0;Ze!==he.length&&($=!1)}if($)return 2;for(var wt=0;wt<3;wt++){for(var Wt=Number.MAX_VALUE,nr=-Number.MAX_VALUE,yr=0;yr<G.points.length;yr++){var Cr=G.points[yr][wt]-this.min[wt];Wt=Math.min(Wt,Cr),nr=Math.max(nr,Cr)}if(nr<0||Wt>this.max[wt]-this.min[wt])return 0}return 1};var rn=function(G,he,$,ve){if(void 0===G&&(G=0),void 0===he&&(he=0),void 0===$&&($=0),void 0===ve&&(ve=0),isNaN(G)||G<0||isNaN(he)||he<0||isNaN($)||$<0||isNaN(ve)||ve<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=G,this.bottom=he,this.left=$,this.right=ve};rn.prototype.interpolate=function(G,he,$){return null!=he.top&&null!=G.top&&(this.top=o.number(G.top,he.top,$)),null!=he.bottom&&null!=G.bottom&&(this.bottom=o.number(G.bottom,he.bottom,$)),null!=he.left&&null!=G.left&&(this.left=o.number(G.left,he.left,$)),null!=he.right&&null!=G.right&&(this.right=o.number(G.right,he.right,$)),this},rn.prototype.getCenter=function(G,he){var $=o.clamp((this.left+G-this.right)/2,0,G),ve=o.clamp((this.top+he-this.bottom)/2,0,he);return new o.Point($,ve)},rn.prototype.equals=function(G){return this.top===G.top&&this.bottom===G.bottom&&this.left===G.left&&this.right===G.right},rn.prototype.clone=function(){return new rn(this.top,this.bottom,this.left,this.right)},rn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var on=function(G,he,$,ve,Le){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===Le||Le,this._minZoom=G||0,this._maxZoom=he||22,this._minPitch=$??0,this._maxPitch=ve??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new rn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Cn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};on.prototype.clone=function(){var G=new on(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return G.tileSize=this.tileSize,G.latRange=this.latRange,G.width=this.width,G.height=this.height,G._center=this._center,G.zoom=this.zoom,G.angle=this.angle,G._fov=this._fov,G._pitch=this._pitch,G._unmodified=this._unmodified,G._edgeInsets=this._edgeInsets.clone(),G._calcMatrices(),G},Cn.minZoom.get=function(){return this._minZoom},Cn.minZoom.set=function(le){this._minZoom!==le&&(this._minZoom=le,this.zoom=Math.max(this.zoom,le))},Cn.maxZoom.get=function(){return this._maxZoom},Cn.maxZoom.set=function(le){this._maxZoom!==le&&(this._maxZoom=le,this.zoom=Math.min(this.zoom,le))},Cn.minPitch.get=function(){return this._minPitch},Cn.minPitch.set=function(le){this._minPitch!==le&&(this._minPitch=le,this.pitch=Math.max(this.pitch,le))},Cn.maxPitch.get=function(){return this._maxPitch},Cn.maxPitch.set=function(le){this._maxPitch!==le&&(this._maxPitch=le,this.pitch=Math.min(this.pitch,le))},Cn.renderWorldCopies.get=function(){return this._renderWorldCopies},Cn.renderWorldCopies.set=function(le){void 0===le?le=!0:null===le&&(le=!1),this._renderWorldCopies=le},Cn.worldSize.get=function(){return this.tileSize*this.scale},Cn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Cn.size.get=function(){return new o.Point(this.width,this.height)},Cn.bearing.get=function(){return-this.angle/Math.PI*180},Cn.bearing.set=function(le){var G=-o.wrap(le,-180,180)*Math.PI/180;this.angle!==G&&(this._unmodified=!1,this.angle=G,this._calcMatrices(),this.rotationMatrix=o.create$2(),o.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Cn.pitch.get=function(){return this._pitch/Math.PI*180},Cn.pitch.set=function(le){var G=o.clamp(le,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==G&&(this._unmodified=!1,this._pitch=G,this._calcMatrices())},Cn.fov.get=function(){return this._fov/Math.PI*180},Cn.fov.set=function(le){le=Math.max(.01,Math.min(60,le)),this._fov!==le&&(this._unmodified=!1,this._fov=le/180*Math.PI,this._calcMatrices())},Cn.zoom.get=function(){return this._zoom},Cn.zoom.set=function(le){var G=Math.min(Math.max(le,this.minZoom),this.maxZoom);this._zoom!==G&&(this._unmodified=!1,this._zoom=G,this.scale=this.zoomScale(G),this.tileZoom=Math.floor(G),this.zoomFraction=G-this.tileZoom,this._constrain(),this._calcMatrices())},Cn.center.get=function(){return this._center},Cn.center.set=function(le){le.lat===this._center.lat&&le.lng===this._center.lng||(this._unmodified=!1,this._center=le,this._constrain(),this._calcMatrices())},Cn.padding.get=function(){return this._edgeInsets.toJSON()},Cn.padding.set=function(le){this._edgeInsets.equals(le)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,le,1),this._calcMatrices())},Cn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},on.prototype.isPaddingEqual=function(G){return this._edgeInsets.equals(G)},on.prototype.interpolatePadding=function(G,he,$){this._unmodified=!1,this._edgeInsets.interpolate(G,he,$),this._constrain(),this._calcMatrices()},on.prototype.coveringZoomLevel=function(G){var he=(G.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/G.tileSize));return Math.max(0,he)},on.prototype.getVisibleUnwrappedCoordinates=function(G){var he=[new o.UnwrappedTileID(0,G)];if(this._renderWorldCopies)for(var $=this.pointCoordinate(new o.Point(0,0)),ve=this.pointCoordinate(new o.Point(this.width,0)),Le=this.pointCoordinate(new o.Point(this.width,this.height)),Ze=this.pointCoordinate(new o.Point(0,this.height)),st=Math.floor(Math.min($.x,ve.x,Le.x,Ze.x)),wt=Math.floor(Math.max($.x,ve.x,Le.x,Ze.x)),nr=st-1;nr<=wt+1;nr++)0!==nr&&he.push(new o.UnwrappedTileID(nr,G));return he},on.prototype.coveringTiles=function(G){var he=this.coveringZoomLevel(G),$=he;if(void 0!==G.minzoom&&he<G.minzoom)return[];void 0!==G.maxzoom&&he>G.maxzoom&&(he=G.maxzoom);var ve=o.MercatorCoordinate.fromLngLat(this.center),Le=Math.pow(2,he),Ze=[Le*ve.x,Le*ve.y,0],st=Nr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,he),wt=G.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(wt=he);var nr=function(Pa){return{aabb:new Qr([Pa*Le,0,0],[(Pa+1)*Le,Le,0]),zoom:0,x:0,y:0,wrap:Pa,fullyVisible:!1}},yr=[],Cr=[],Br=he,$r=G.reparseOverscaled?$:he;if(this._renderWorldCopies)for(var qr=1;qr<=3;qr++)yr.push(nr(-qr)),yr.push(nr(qr));for(yr.push(nr(0));yr.length>0;){var jr=yr.pop(),nn=jr.x,wn=jr.y,_n=jr.fullyVisible;if(!_n){var Un=jr.aabb.intersects(st);if(0===Un)continue;_n=2===Un}var $n=jr.aabb.distanceX(Ze),ta=jr.aabb.distanceY(Ze),qn=Math.max(Math.abs($n),Math.abs(ta));if(jr.zoom===Br||qn>3+(1<<Br-jr.zoom)-2&&jr.zoom>=wt)Cr.push({tileID:new o.OverscaledTileID(jr.zoom===Br?$r:jr.zoom,jr.wrap,jr.zoom,nn,wn),distanceSq:o.sqrLen([Ze[0]-.5-nn,Ze[1]-.5-wn])});else for(var xa=0;xa<4;xa++){var ga=(nn<<1)+xa%2,Ta=(wn<<1)+(xa>>1);yr.push({aabb:jr.aabb.quadrant(xa),zoom:jr.zoom+1,x:ga,y:Ta,wrap:jr.wrap,fullyVisible:_n})}}return Cr.sort(function(Pa,Wa){return Pa.distanceSq-Wa.distanceSq}).map(function(Pa){return Pa.tileID})},on.prototype.resize=function(G,he){this.width=G,this.height=he,this.pixelsToGLUnits=[2/G,-2/he],this._constrain(),this._calcMatrices()},Cn.unmodified.get=function(){return this._unmodified},on.prototype.zoomScale=function(G){return Math.pow(2,G)},on.prototype.scaleZoom=function(G){return Math.log(G)/Math.LN2},on.prototype.project=function(G){var he=o.clamp(G.lat,-this.maxValidLatitude,this.maxValidLatitude);return new o.Point(o.mercatorXfromLng(G.lng)*this.worldSize,o.mercatorYfromLat(he)*this.worldSize)},on.prototype.unproject=function(G){return new o.MercatorCoordinate(G.x/this.worldSize,G.y/this.worldSize).toLngLat()},Cn.point.get=function(){return this.project(this.center)},on.prototype.setLocationAtPoint=function(G,he){var $=this.pointCoordinate(he),ve=this.pointCoordinate(this.centerPoint),Le=this.locationCoordinate(G),Ze=new o.MercatorCoordinate(Le.x-($.x-ve.x),Le.y-($.y-ve.y));this.center=this.coordinateLocation(Ze),this._renderWorldCopies&&(this.center=this.center.wrap())},on.prototype.locationPoint=function(G){return this.coordinatePoint(this.locationCoordinate(G))},on.prototype.pointLocation=function(G){return this.coordinateLocation(this.pointCoordinate(G))},on.prototype.locationCoordinate=function(G){return o.MercatorCoordinate.fromLngLat(G)},on.prototype.coordinateLocation=function(G){return G.toLngLat()},on.prototype.pointCoordinate=function(G){var $=[G.x,G.y,0,1],ve=[G.x,G.y,1,1];o.transformMat4($,$,this.pixelMatrixInverse),o.transformMat4(ve,ve,this.pixelMatrixInverse);var Le=$[3],Ze=ve[3],Wt=$[1]/Le,nr=ve[1]/Ze,yr=$[2]/Le,Cr=ve[2]/Ze,Br=yr===Cr?0:(0-yr)/(Cr-yr);return new o.MercatorCoordinate(o.number($[0]/Le,ve[0]/Ze,Br)/this.worldSize,o.number(Wt,nr,Br)/this.worldSize)},on.prototype.coordinatePoint=function(G){var he=[G.x*this.worldSize,G.y*this.worldSize,0,1];return o.transformMat4(he,he,this.pixelMatrix),new o.Point(he[0]/he[3],he[1]/he[3])},on.prototype.getBounds=function(){return(new o.LngLatBounds).extend(this.pointLocation(new o.Point(0,0))).extend(this.pointLocation(new o.Point(this.width,0))).extend(this.pointLocation(new o.Point(this.width,this.height))).extend(this.pointLocation(new o.Point(0,this.height)))},on.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new o.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},on.prototype.setMaxBounds=function(G){G?(this.lngRange=[G.getWest(),G.getEast()],this.latRange=[G.getSouth(),G.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},on.prototype.calculatePosMatrix=function(G,he){void 0===he&&(he=!1);var $=G.key,ve=he?this._alignedPosMatrixCache:this._posMatrixCache;if(ve[$])return ve[$];var Le=G.canonical,Ze=this.worldSize/this.zoomScale(Le.z),st=Le.x+Math.pow(2,Le.z)*G.wrap,wt=o.identity(new Float64Array(16));return o.translate(wt,wt,[st*Ze,Le.y*Ze,0]),o.scale(wt,wt,[Ze/o.EXTENT,Ze/o.EXTENT,1]),o.multiply(wt,he?this.alignedProjMatrix:this.projMatrix,wt),ve[$]=new Float32Array(wt),ve[$]},on.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},on.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var Le,Ze,st,wt,G=-90,he=90,$=-180,ve=180,Wt=this.size,nr=this._unmodified;if(this.latRange){var yr=this.latRange;G=o.mercatorYfromLat(yr[1])*this.worldSize,Le=(he=o.mercatorYfromLat(yr[0])*this.worldSize)-G<Wt.y?Wt.y/(he-G):0}if(this.lngRange){var Cr=this.lngRange;$=o.mercatorXfromLng(Cr[0])*this.worldSize,Ze=(ve=o.mercatorXfromLng(Cr[1])*this.worldSize)-$<Wt.x?Wt.x/(ve-$):0}var Br=this.point,$r=Math.max(Ze||0,Le||0);if($r)return this.center=this.unproject(new o.Point(Ze?(ve+$)/2:Br.x,Le?(he+G)/2:Br.y)),this.zoom+=this.scaleZoom($r),this._unmodified=nr,void(this._constraining=!1);if(this.latRange){var qr=Br.y,jr=Wt.y/2;qr-jr<G&&(wt=G+jr),qr+jr>he&&(wt=he-jr)}if(this.lngRange){var nn=Br.x,wn=Wt.x/2;nn-wn<$&&(st=$+wn),nn+wn>ve&&(st=ve-wn)}(void 0!==st||void 0!==wt)&&(this.center=this.unproject(new o.Point(void 0!==st?st:Br.x,void 0!==wt?wt:Br.y))),this._unmodified=nr,this._constraining=!1}},on.prototype._calcMatrices=function(){if(this.height){var he=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var $=Math.PI/2+this._pitch,ve=this._fov*(.5+he.y/this.height),Le=Math.sin(ve)*this.cameraToCenterDistance/Math.sin(o.clamp(Math.PI-$-ve,.01,Math.PI-.01)),Ze=this.point,st=Ze.x,wt=Ze.y,nr=1.01*(Math.cos(Math.PI/2-this._pitch)*Le+this.cameraToCenterDistance),yr=this.height/50,Cr=new Float64Array(16);o.perspective(Cr,this._fov,this.width/this.height,yr,nr),Cr[8]=2*-he.x/this.width,Cr[9]=2*he.y/this.height,o.scale(Cr,Cr,[1,-1,1]),o.translate(Cr,Cr,[0,0,-this.cameraToCenterDistance]),o.rotateX(Cr,Cr,this._pitch),o.rotateZ(Cr,Cr,this.angle),o.translate(Cr,Cr,[-st,-wt,0]),this.mercatorMatrix=o.scale([],Cr,[this.worldSize,this.worldSize,this.worldSize]),o.scale(Cr,Cr,[1,1,o.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Cr,this.invProjMatrix=o.invert([],this.projMatrix);var Br=this.width%2/2,$r=this.height%2/2,qr=Math.cos(this.angle),jr=Math.sin(this.angle),nn=st-Math.round(st)+qr*Br+jr*$r,wn=wt-Math.round(wt)+qr*$r+jr*Br,_n=new Float64Array(Cr);if(o.translate(_n,_n,[nn>.5?nn-1:nn,wn>.5?wn-1:wn,0]),this.alignedProjMatrix=_n,Cr=o.create(),o.scale(Cr,Cr,[this.width/2,-this.height/2,1]),o.translate(Cr,Cr,[1,-1,0]),this.labelPlaneMatrix=Cr,Cr=o.create(),o.scale(Cr,Cr,[1,-1,1]),o.translate(Cr,Cr,[-1,-1,0]),o.scale(Cr,Cr,[2/this.width,2/this.height,1]),this.glCoordMatrix=Cr,this.pixelMatrix=o.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Cr=o.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Cr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},on.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var G=this.pointCoordinate(new o.Point(0,0)),he=[G.x*this.worldSize,G.y*this.worldSize,0,1];return o.transformMat4(he,he,this.pixelMatrix)[3]/this.cameraToCenterDistance},on.prototype.getCameraPoint=function(){var he=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.Point(0,he))},on.prototype.getCameraQueryGeometry=function(G){var he=this.getCameraPoint();if(1===G.length)return[G[0],he];for(var $=he.x,ve=he.y,Le=he.x,Ze=he.y,st=0,wt=G;st<wt.length;st+=1){var Wt=wt[st];$=Math.min($,Wt.x),ve=Math.min(ve,Wt.y),Le=Math.max(Le,Wt.x),Ze=Math.max(Ze,Wt.y)}return[new o.Point($,ve),new o.Point(Le,ve),new o.Point(Le,Ze),new o.Point($,Ze),new o.Point($,ve)]},Object.defineProperties(on.prototype,Cn);var fa=function(G){this._hashName=G&&encodeURIComponent(G),o.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function Wn(le,G){var he=!1,$=null,ve=function(){$=null,he&&(le(),$=setTimeout(ve,G),he=!1)};return function(){return he=!0,$||ve(),$}}(this._updateHashUnthrottled.bind(this),300)};fa.prototype.addTo=function(G){return this._map=G,o.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},fa.prototype.remove=function(){return o.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},fa.prototype.getHashString=function(G){var he=this._map.getCenter(),$=Math.round(100*this._map.getZoom())/100,ve=Math.ceil(($*Math.LN2+Math.log(512/360/.5))/Math.LN10),Le=Math.pow(10,ve),Ze=Math.round(he.lng*Le)/Le,st=Math.round(he.lat*Le)/Le,wt=this._map.getBearing(),Wt=this._map.getPitch(),nr="";if(nr+=G?"/"+Ze+"/"+st+"/"+$:$+"/"+st+"/"+Ze,(wt||Wt)&&(nr+="/"+Math.round(10*wt)/10),Wt&&(nr+="/"+Math.round(Wt)),this._hashName){var yr=this._hashName,Cr=!1,Br=o.window.location.hash.slice(1).split("&").map(function($r){var qr=$r.split("=")[0];return qr===yr?(Cr=!0,qr+"="+nr):$r}).filter(function($r){return $r});return Cr||Br.push(yr+"="+nr),"#"+Br.join("&")}return"#"+nr},fa.prototype._getCurrentHash=function(){var $,G=this,he=o.window.location.hash.replace("#","");return this._hashName?(he.split("&").map(function(ve){return ve.split("=")}).forEach(function(ve){ve[0]===G._hashName&&($=ve)}),($&&$[1]||"").split("/")):he.split("/")},fa.prototype._onHashChange=function(){var G=this._getCurrentHash();if(G.length>=3&&!G.some(function($){return isNaN($)})){var he=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(G[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+G[2],+G[1]],zoom:+G[0],bearing:he,pitch:+(G[4]||0)}),!0}return!1},fa.prototype._updateHashUnthrottled=function(){var G=this.getHashString();try{o.window.history.replaceState(o.window.history.state,"",G)}catch{}};var Ia={linearity:.3,easing:o.bezier(0,0,.3,1)},Ha=o.extend({deceleration:2500,maxSpeed:1400},Ia),Ua=o.extend({deceleration:20,maxSpeed:1400},Ia),Ka=o.extend({deceleration:1e3,maxSpeed:360},Ia),_i=o.extend({deceleration:1e3,maxSpeed:90},Ia),Vi=function(G){this._map=G,this.clear()};function va(le,G){(!le.duration||le.duration<G.duration)&&(le.duration=G.duration,le.easing=G.easing)}function ro(le,G,he){var $=he.maxSpeed,ve=he.linearity,Le=he.deceleration,Ze=o.clamp(le*ve/(G/1e3),-$,$),st=Math.abs(Ze)/(Le*ve);return{easing:he.easing,duration:1e3*st,amount:Ze*(st/2)}}Vi.prototype.clear=function(){this._inertiaBuffer=[]},Vi.prototype.record=function(G){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.browser.now(),settings:G})},Vi.prototype._drainInertiaBuffer=function(){for(var G=this._inertiaBuffer,he=o.browser.now();G.length>0&&he-G[0].time>160;)G.shift()},Vi.prototype._onMoveEnd=function(G){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var he={zoom:0,bearing:0,pitch:0,pan:new o.Point(0,0),pinchAround:void 0,around:void 0},$=0,ve=this._inertiaBuffer;$<ve.length;$+=1){var Ze=ve[$].settings;he.zoom+=Ze.zoomDelta||0,he.bearing+=Ze.bearingDelta||0,he.pitch+=Ze.pitchDelta||0,Ze.panDelta&&he.pan._add(Ze.panDelta),Ze.around&&(he.around=Ze.around),Ze.pinchAround&&(he.pinchAround=Ze.pinchAround)}var wt=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,Wt={};if(he.pan.mag()){var nr=ro(he.pan.mag(),wt,o.extend({},Ha,G||{}));Wt.offset=he.pan.mult(nr.amount/he.pan.mag()),Wt.center=this._map.transform.center,va(Wt,nr)}if(he.zoom){var yr=ro(he.zoom,wt,Ua);Wt.zoom=this._map.transform.zoom+yr.amount,va(Wt,yr)}if(he.bearing){var Cr=ro(he.bearing,wt,Ka);Wt.bearing=this._map.transform.bearing+o.clamp(Cr.amount,-179,179),va(Wt,Cr)}if(he.pitch){var Br=ro(he.pitch,wt,_i);Wt.pitch=this._map.transform.pitch+Br.amount,va(Wt,Br)}if(Wt.zoom||Wt.bearing){var $r=void 0===he.pinchAround?he.around:he.pinchAround;Wt.around=$r?this._map.unproject($r):this._map.getCenter()}return this.clear(),o.extend(Wt,{noMoveStart:!0})}};var vo=function(le){function G($,ve,Le,Ze){void 0===Ze&&(Ze={});var st=C.mousePos(ve.getCanvasContainer(),Le),wt=ve.unproject(st);le.call(this,$,o.extend({point:st,lngLat:wt,originalEvent:Le},Ze)),this._defaultPrevented=!1,this.target=ve}le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G;var he={defaultPrevented:{configurable:!0}};return G.prototype.preventDefault=function(){this._defaultPrevented=!0},he.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(G.prototype,he),G}(o.Event),Vo=function(le){function G($,ve,Le){var Ze="touchend"===$?Le.changedTouches:Le.touches,st=C.touchPos(ve.getCanvasContainer(),Ze),wt=st.map(function(yr){return ve.unproject(yr)}),Wt=st.reduce(function(yr,Cr,Br,$r){return yr.add(Cr.div($r.length))},new o.Point(0,0)),nr=ve.unproject(Wt);le.call(this,$,{points:st,point:Wt,lngLats:wt,lngLat:nr,originalEvent:Le}),this._defaultPrevented=!1}le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G;var he={defaultPrevented:{configurable:!0}};return G.prototype.preventDefault=function(){this._defaultPrevented=!0},he.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(G.prototype,he),G}(o.Event),ws=function(le){function G($,ve,Le){le.call(this,$,{originalEvent:Le}),this._defaultPrevented=!1}le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G;var he={defaultPrevented:{configurable:!0}};return G.prototype.preventDefault=function(){this._defaultPrevented=!0},he.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(G.prototype,he),G}(o.Event),Qi=function(G,he){this._map=G,this._clickTolerance=he.clickTolerance};Qi.prototype.reset=function(){delete this._mousedownPos},Qi.prototype.wheel=function(G){return this._firePreventable(new ws(G.type,this._map,G))},Qi.prototype.mousedown=function(G,he){return this._mousedownPos=he,this._firePreventable(new vo(G.type,this._map,G))},Qi.prototype.mouseup=function(G){this._map.fire(new vo(G.type,this._map,G))},Qi.prototype.click=function(G,he){this._mousedownPos&&this._mousedownPos.dist(he)>=this._clickTolerance||this._map.fire(new vo(G.type,this._map,G))},Qi.prototype.dblclick=function(G){return this._firePreventable(new vo(G.type,this._map,G))},Qi.prototype.mouseover=function(G){this._map.fire(new vo(G.type,this._map,G))},Qi.prototype.mouseout=function(G){this._map.fire(new vo(G.type,this._map,G))},Qi.prototype.touchstart=function(G){return this._firePreventable(new Vo(G.type,this._map,G))},Qi.prototype.touchmove=function(G){this._map.fire(new Vo(G.type,this._map,G))},Qi.prototype.touchend=function(G){this._map.fire(new Vo(G.type,this._map,G))},Qi.prototype.touchcancel=function(G){this._map.fire(new Vo(G.type,this._map,G))},Qi.prototype._firePreventable=function(G){if(this._map.fire(G),G.defaultPrevented)return{}},Qi.prototype.isEnabled=function(){return!0},Qi.prototype.isActive=function(){return!1},Qi.prototype.enable=function(){},Qi.prototype.disable=function(){};var oe=function(G){this._map=G};oe.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},oe.prototype.mousemove=function(G){this._map.fire(new vo(G.type,this._map,G))},oe.prototype.mousedown=function(){this._delayContextMenu=!0},oe.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new vo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},oe.prototype.contextmenu=function(G){this._delayContextMenu?this._contextMenuEvent=G:this._map.fire(new vo(G.type,this._map,G)),this._map.listens("contextmenu")&&G.preventDefault()},oe.prototype.isEnabled=function(){return!0},oe.prototype.isActive=function(){return!1},oe.prototype.enable=function(){},oe.prototype.disable=function(){};var me=function(G,he){this._map=G,this._el=G.getCanvasContainer(),this._container=G.getContainer(),this._clickTolerance=he.clickTolerance||1};function Oe(le,G){for(var he={},$=0;$<le.length;$++)he[le[$].identifier]=G[$];return he}me.prototype.isEnabled=function(){return!!this._enabled},me.prototype.isActive=function(){return!!this._active},me.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},me.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},me.prototype.mousedown=function(G,he){this.isEnabled()&&G.shiftKey&&0===G.button&&(C.disableDrag(),this._startPos=this._lastPos=he,this._active=!0)},me.prototype.mousemoveWindow=function(G,he){if(this._active){var $=he;if(!(this._lastPos.equals($)||!this._box&&$.dist(this._startPos)<this._clickTolerance)){var ve=this._startPos;this._lastPos=$,this._box||(this._box=C.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",G));var Le=Math.min(ve.x,$.x),Ze=Math.max(ve.x,$.x),st=Math.min(ve.y,$.y),wt=Math.max(ve.y,$.y);C.setTransform(this._box,"translate("+Le+"px,"+st+"px)"),this._box.style.width=Ze-Le+"px",this._box.style.height=wt-st+"px"}}},me.prototype.mouseupWindow=function(G,he){var $=this;if(this._active&&0===G.button){var ve=this._startPos,Le=he;if(this.reset(),C.suppressClick(),ve.x!==Le.x||ve.y!==Le.y)return this._map.fire(new o.Event("boxzoomend",{originalEvent:G})),{cameraAnimation:function(Ze){return Ze.fitScreenCoordinates(ve,Le,$._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",G)}},me.prototype.keydown=function(G){this._active&&27===G.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",G))},me.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(C.remove(this._box),this._box=null),C.enableDrag(),delete this._startPos,delete this._lastPos},me.prototype._fireEvent=function(G,he){return this._map.fire(new o.Event(G,{originalEvent:he}))};var Mt=function(G){this.reset(),this.numTouches=G.numTouches};Mt.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Mt.prototype.touchstart=function(G,he,$){(this.centroid||$.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(void 0===this.startTime&&(this.startTime=G.timeStamp),$.length===this.numTouches&&(this.centroid=function Qe(le){for(var G=new o.Point(0,0),he=0,$=le;he<$.length;he+=1)G._add($[he]);return G.div(le.length)}(he),this.touches=Oe($,he)))},Mt.prototype.touchmove=function(G,he,$){if(!this.aborted&&this.centroid){var ve=Oe($,he);for(var Le in this.touches){var st=ve[Le];(!st||st.dist(this.touches[Le])>30)&&(this.aborted=!0)}}},Mt.prototype.touchend=function(G,he,$){if((!this.centroid||G.timeStamp-this.startTime>500)&&(this.aborted=!0),0===$.length){var ve=!this.aborted&&this.centroid;if(this.reset(),ve)return ve}};var Zt=function(G){this.singleTap=new Mt(G),this.numTaps=G.numTaps,this.reset()};Zt.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Zt.prototype.touchstart=function(G,he,$){this.singleTap.touchstart(G,he,$)},Zt.prototype.touchmove=function(G,he,$){this.singleTap.touchmove(G,he,$)},Zt.prototype.touchend=function(G,he,$){var ve=this.singleTap.touchend(G,he,$);if(ve){var Le=G.timeStamp-this.lastTime<500,Ze=!this.lastTap||this.lastTap.dist(ve)<30;if((!Le||!Ze)&&this.reset(),this.count++,this.lastTime=G.timeStamp,this.lastTap=ve,this.count===this.numTaps)return this.reset(),ve}};var ar=function(){this._zoomIn=new Zt({numTouches:1,numTaps:2}),this._zoomOut=new Zt({numTouches:2,numTaps:1}),this.reset()};ar.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},ar.prototype.touchstart=function(G,he,$){this._zoomIn.touchstart(G,he,$),this._zoomOut.touchstart(G,he,$)},ar.prototype.touchmove=function(G,he,$){this._zoomIn.touchmove(G,he,$),this._zoomOut.touchmove(G,he,$)},ar.prototype.touchend=function(G,he,$){var ve=this,Le=this._zoomIn.touchend(G,he,$),Ze=this._zoomOut.touchend(G,he,$);return Le?(this._active=!0,G.preventDefault(),setTimeout(function(){return ve.reset()},0),{cameraAnimation:function(st){return st.easeTo({duration:300,zoom:st.getZoom()+1,around:st.unproject(Le)},{originalEvent:G})}}):Ze?(this._active=!0,G.preventDefault(),setTimeout(function(){return ve.reset()},0),{cameraAnimation:function(st){return st.easeTo({duration:300,zoom:st.getZoom()-1,around:st.unproject(Ze)},{originalEvent:G})}}):void 0},ar.prototype.touchcancel=function(){this.reset()},ar.prototype.enable=function(){this._enabled=!0},ar.prototype.disable=function(){this._enabled=!1,this.reset()},ar.prototype.isEnabled=function(){return this._enabled},ar.prototype.isActive=function(){return this._active};var Ir=function(G){this.reset(),this._clickTolerance=G.clickTolerance||1};Ir.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Ir.prototype._correctButton=function(G,he){return!1},Ir.prototype._move=function(G,he){return{}},Ir.prototype.mousedown=function(G,he){if(!this._lastPoint){var $=C.mouseButton(G);this._correctButton(G,$)&&(this._lastPoint=he,this._eventButton=$)}},Ir.prototype.mousemoveWindow=function(G,he){var $=this._lastPoint;if($&&(G.preventDefault(),this._moved||!(he.dist($)<this._clickTolerance)))return this._moved=!0,this._lastPoint=he,this._move($,he)},Ir.prototype.mouseupWindow=function(G){C.mouseButton(G)===this._eventButton&&(this._moved&&C.suppressClick(),this.reset())},Ir.prototype.enable=function(){this._enabled=!0},Ir.prototype.disable=function(){this._enabled=!1,this.reset()},Ir.prototype.isEnabled=function(){return this._enabled},Ir.prototype.isActive=function(){return this._active};var an=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.mousedown=function($,ve){le.prototype.mousedown.call(this,$,ve),this._lastPoint&&(this._active=!0)},G.prototype._correctButton=function($,ve){return 0===ve&&!$.ctrlKey},G.prototype._move=function($,ve){return{around:ve,panDelta:ve.sub($)}},G}(Ir),dn=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype._correctButton=function($,ve){return 0===ve&&$.ctrlKey||2===ve},G.prototype._move=function($,ve){var Ze=.8*(ve.x-$.x);if(Ze)return this._active=!0,{bearingDelta:Ze}},G.prototype.contextmenu=function($){$.preventDefault()},G}(Ir),Or=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype._correctButton=function($,ve){return 0===ve&&$.ctrlKey||2===ve},G.prototype._move=function($,ve){var Ze=-.5*(ve.y-$.y);if(Ze)return this._active=!0,{pitchDelta:Ze}},G.prototype.contextmenu=function($){$.preventDefault()},G}(Ir),Ur=function(G){this._minTouches=1,this._clickTolerance=G.clickTolerance||1,this.reset()};Ur.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new o.Point(0,0)},Ur.prototype.touchstart=function(G,he,$){return this._calculateTransform(G,he,$)},Ur.prototype.touchmove=function(G,he,$){if(this._active)return G.preventDefault(),this._calculateTransform(G,he,$)},Ur.prototype.touchend=function(G,he,$){this._calculateTransform(G,he,$),this._active&&$.length<this._minTouches&&this.reset()},Ur.prototype.touchcancel=function(){this.reset()},Ur.prototype._calculateTransform=function(G,he,$){$.length>0&&(this._active=!0);var ve=Oe($,he),Le=new o.Point(0,0),Ze=new o.Point(0,0),st=0;for(var wt in ve){var Wt=ve[wt],nr=this._touches[wt];nr&&(Le._add(Wt),Ze._add(Wt.sub(nr)),st++,ve[wt]=Wt)}if(this._touches=ve,!(st<this._minTouches)&&Ze.mag()){var yr=Ze.div(st);if(this._sum._add(yr),!(this._sum.mag()<this._clickTolerance))return{around:Le.div(st),panDelta:yr}}},Ur.prototype.enable=function(){this._enabled=!0},Ur.prototype.disable=function(){this._enabled=!1,this.reset()},Ur.prototype.isEnabled=function(){return this._enabled},Ur.prototype.isActive=function(){return this._active};var Jr=function(){this.reset()};function pn(le,G,he){for(var $=0;$<le.length;$++)if(le[$].identifier===he)return G[$]}Jr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Jr.prototype._start=function(G){},Jr.prototype._move=function(G,he,$){return{}},Jr.prototype.touchstart=function(G,he,$){this._firstTwoTouches||$.length<2||(this._firstTwoTouches=[$[0].identifier,$[1].identifier],this._start([he[0],he[1]]))},Jr.prototype.touchmove=function(G,he,$){if(this._firstTwoTouches){G.preventDefault();var ve=this._firstTwoTouches,Ze=ve[1],st=pn($,he,ve[0]),wt=pn($,he,Ze);if(st&&wt){var Wt=this._aroundCenter?null:st.add(wt).div(2);return this._move([st,wt],Wt,G)}}},Jr.prototype.touchend=function(G,he,$){if(this._firstTwoTouches){var ve=this._firstTwoTouches,Ze=ve[1],st=pn($,he,ve[0]),wt=pn($,he,Ze);st&&wt||(this._active&&C.suppressClick(),this.reset())}},Jr.prototype.touchcancel=function(){this.reset()},Jr.prototype.enable=function(G){this._enabled=!0,this._aroundCenter=!!G&&"center"===G.around},Jr.prototype.disable=function(){this._enabled=!1,this.reset()},Jr.prototype.isEnabled=function(){return this._enabled},Jr.prototype.isActive=function(){return this._active};function en(le,G){return Math.log(le/G)/Math.LN2}var Gn=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.reset=function(){le.prototype.reset.call(this),delete this._distance,delete this._startDistance},G.prototype._start=function($){this._startDistance=this._distance=$[0].dist($[1])},G.prototype._move=function($,ve){var Le=this._distance;if(this._distance=$[0].dist($[1]),this._active||!(Math.abs(en(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:en(this._distance,Le),pinchAround:ve}},G}(Jr);function ma(le,G){return 180*le.angleWith(G)/Math.PI}var da=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.reset=function(){le.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},G.prototype._start=function($){this._startVector=this._vector=$[0].sub($[1]),this._minDiameter=$[0].dist($[1])},G.prototype._move=function($,ve){var Le=this._vector;if(this._vector=$[0].sub($[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ma(this._vector,Le),pinchAround:ve}},G.prototype._isBelowThreshold=function($){this._minDiameter=Math.min(this._minDiameter,$.mag());var Le=25/(Math.PI*this._minDiameter)*360,Ze=ma($,this._startVector);return Math.abs(Ze)<Le},G}(Jr);function pa(le){return Math.abs(le.y)>Math.abs(le.x)}var Ca=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.reset=function(){le.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},G.prototype._start=function($){this._lastPoints=$,pa($[0].sub($[1]))&&(this._valid=!1)},G.prototype._move=function($,ve,Le){var Ze=$[0].sub(this._lastPoints[0]),st=$[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ze,st,Le.timeStamp),this._valid)return this._lastPoints=$,this._active=!0,{pitchDelta:(Ze.y+st.y)/2*-.5}},G.prototype.gestureBeginsVertically=function($,ve,Le){if(void 0!==this._valid)return this._valid;var st=$.mag()>=2,wt=ve.mag()>=2;if(st||wt){if(!st||!wt)return void 0===this._firstMove&&(this._firstMove=Le),Le-this._firstMove<100&&void 0;var Wt=$.y>0==ve.y>0;return pa($)&&pa(ve)&&Wt}},G}(Jr),La={panStep:100,bearingStep:15,pitchStep:10},Va=function(){var G=La;this._panStep=G.panStep,this._bearingStep=G.bearingStep,this._pitchStep=G.pitchStep};function fi(le){return le*(2-le)}Va.prototype.reset=function(){this._active=!1},Va.prototype.keydown=function(G){var he=this;if(!(G.altKey||G.ctrlKey||G.metaKey)){var $=0,ve=0,Le=0,Ze=0,st=0;switch(G.keyCode){case 61:case 107:case 171:case 187:$=1;break;case 189:case 109:case 173:$=-1;break;case 37:G.shiftKey?ve=-1:(G.preventDefault(),Ze=-1);break;case 39:G.shiftKey?ve=1:(G.preventDefault(),Ze=1);break;case 38:G.shiftKey?Le=1:(G.preventDefault(),st=-1);break;case 40:G.shiftKey?Le=-1:(G.preventDefault(),st=1);break;default:return}return{cameraAnimation:function(wt){var Wt=wt.getZoom();wt.easeTo({duration:300,easeId:"keyboardHandler",easing:fi,zoom:$?Math.round(Wt)+$*(G.shiftKey?2:1):Wt,bearing:wt.getBearing()+ve*he._bearingStep,pitch:wt.getPitch()+Le*he._pitchStep,offset:[-Ze*he._panStep,-st*he._panStep],center:wt.getCenter()},{originalEvent:G})}}}},Va.prototype.enable=function(){this._enabled=!0},Va.prototype.disable=function(){this._enabled=!1,this.reset()},Va.prototype.isEnabled=function(){return this._enabled},Va.prototype.isActive=function(){return this._active};var po=4.000244140625,Ga=function(G,he){this._map=G,this._el=G.getCanvasContainer(),this._handler=he,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,o.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Ga.prototype.setZoomRate=function(G){this._defaultZoomRate=G},Ga.prototype.setWheelZoomRate=function(G){this._wheelZoomRate=G},Ga.prototype.isEnabled=function(){return!!this._enabled},Ga.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},Ga.prototype.isZooming=function(){return!!this._zooming},Ga.prototype.enable=function(G){this.isEnabled()||(this._enabled=!0,this._aroundCenter=G&&"center"===G.around)},Ga.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ga.prototype.wheel=function(G){if(this.isEnabled()){var he=G.deltaMode===o.window.WheelEvent.DOM_DELTA_LINE?40*G.deltaY:G.deltaY,$=o.browser.now(),ve=$-(this._lastWheelEventTime||0);this._lastWheelEventTime=$,0!==he&&he%po==0?this._type="wheel":0!==he&&Math.abs(he)<4?this._type="trackpad":ve>400?(this._type=null,this._lastValue=he,this._timeout=setTimeout(this._onTimeout,40,G)):this._type||(this._type=Math.abs(ve*he)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,he+=this._lastValue)),G.shiftKey&&he&&(he/=4),this._type&&(this._lastWheelEvent=G,this._delta-=he,this._active||this._start(G)),G.preventDefault()}},Ga.prototype._onTimeout=function(G){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(G)},Ga.prototype._start=function(G){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var he=C.mousePos(this._el,G);this._around=o.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(he)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Ga.prototype.renderFrame=function(){return this._onScrollFrame()},Ga.prototype._onScrollFrame=function(){var G=this;if(this._frameId&&(this._frameId=null,this.isActive())){var he=this._map.transform;if(0!==this._delta){var $="wheel"===this._type&&Math.abs(this._delta)>po?this._wheelZoomRate:this._defaultZoomRate,ve=2/(1+Math.exp(-Math.abs(this._delta*$)));this._delta<0&&0!==ve&&(ve=1/ve);var Le="number"==typeof this._targetZoom?he.zoomScale(this._targetZoom):he.scale;this._targetZoom=Math.min(he.maxZoom,Math.max(he.minZoom,he.scaleZoom(Le*ve))),"wheel"===this._type&&(this._startZoom=he.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var nr,Ze="number"==typeof this._targetZoom?this._targetZoom:he.zoom,st=this._startZoom,wt=this._easing,Wt=!1;if("wheel"===this._type&&st&&wt){var yr=Math.min((o.browser.now()-this._lastWheelEventTime)/200,1),Cr=wt(yr);nr=o.number(st,Ze,Cr),yr<1?this._frameId||(this._frameId=!0):Wt=!0}else nr=Ze,Wt=!0;return this._active=!0,Wt&&(this._active=!1,this._finishTimeout=setTimeout(function(){G._zooming=!1,G._handler._triggerRenderFrame(),delete G._targetZoom,delete G._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Wt,zoomDelta:nr-he.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Ga.prototype._smoothOutEasing=function(G){var he=o.ease;if(this._prevEase){var $=this._prevEase,ve=(o.browser.now()-$.start)/$.duration,Le=$.easing(ve+.01)-$.easing(ve),Ze=.27/Math.sqrt(Le*Le+1e-4)*.01,st=Math.sqrt(.0729-Ze*Ze);he=o.bezier(Ze,st,.25,1)}return this._prevEase={start:o.browser.now(),duration:G,easing:he},he},Ga.prototype.reset=function(){this._active=!1};var ia=function(G,he){this._clickZoom=G,this._tapZoom=he};ia.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ia.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ia.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ia.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var wa=function(){this.reset()};wa.prototype.reset=function(){this._active=!1},wa.prototype.dblclick=function(G,he){return G.preventDefault(),{cameraAnimation:function($){$.easeTo({duration:300,zoom:$.getZoom()+(G.shiftKey?-1:1),around:$.unproject(he)},{originalEvent:G})}}},wa.prototype.enable=function(){this._enabled=!0},wa.prototype.disable=function(){this._enabled=!1,this.reset()},wa.prototype.isEnabled=function(){return this._enabled},wa.prototype.isActive=function(){return this._active};var Gi=function(){this._tap=new Zt({numTouches:1,numTaps:1}),this.reset()};Gi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Gi.prototype.touchstart=function(G,he,$){this._swipePoint||(this._tapTime&&G.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?$.length>0&&(this._swipePoint=he[0],this._swipeTouch=$[0].identifier):this._tap.touchstart(G,he,$))},Gi.prototype.touchmove=function(G,he,$){if(this._tapTime){if(this._swipePoint){if($[0].identifier!==this._swipeTouch)return;var ve=he[0],Le=ve.y-this._swipePoint.y;return this._swipePoint=ve,G.preventDefault(),this._active=!0,{zoomDelta:Le/128}}}else this._tap.touchmove(G,he,$)},Gi.prototype.touchend=function(G,he,$){this._tapTime?this._swipePoint&&0===$.length&&this.reset():this._tap.touchend(G,he,$)&&(this._tapTime=G.timeStamp)},Gi.prototype.touchcancel=function(){this.reset()},Gi.prototype.enable=function(){this._enabled=!0},Gi.prototype.disable=function(){this._enabled=!1,this.reset()},Gi.prototype.isEnabled=function(){return this._enabled},Gi.prototype.isActive=function(){return this._active};var lo=function(G,he,$){this._el=G,this._mousePan=he,this._touchPan=$};lo.prototype.enable=function(G){this._inertiaOptions=G||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},lo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},lo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},lo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var bo=function(G,he,$){this._pitchWithRotate=G.pitchWithRotate,this._mouseRotate=he,this._mousePitch=$};bo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},bo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},bo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},bo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Bi=function(G,he,$,ve){this._el=G,this._touchZoom=he,this._touchRotate=$,this._tapDragZoom=ve,this._rotationDisabled=!1,this._enabled=!0};Bi.prototype.enable=function(G){this._touchZoom.enable(G),this._rotationDisabled||this._touchRotate.enable(G),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Bi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Bi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Bi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Bi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Bi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var So=function(le){return le.zoom||le.drag||le.pitch||le.rotate},Mo=function(le){function G(){le.apply(this,arguments)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G}(o.Event);function zo(le){return le.panDelta&&le.panDelta.mag()||le.zoomDelta||le.bearingDelta||le.pitchDelta}var Ii=function(G,he){this._map=G,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Vi(G),this._bearingSnap=he.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(he),o.bindAll(["handleEvent","handleWindowEvent"],this);var $=this._el;this._listeners=[[$,"touchstart",{passive:!1}],[$,"touchmove",{passive:!1}],[$,"touchend",void 0],[$,"touchcancel",void 0],[$,"mousedown",void 0],[$,"mousemove",void 0],[$,"mouseup",void 0],[o.window.document,"mousemove",{capture:!0}],[o.window.document,"mouseup",void 0],[$,"mouseover",void 0],[$,"mouseout",void 0],[$,"dblclick",void 0],[$,"click",void 0],[$,"keydown",{capture:!1}],[$,"keyup",void 0],[$,"wheel",{passive:!1}],[$,"contextmenu",void 0],[o.window,"blur",void 0]];for(var ve=0,Le=this._listeners;ve<Le.length;ve+=1){var Ze=Le[ve],st=Ze[0];C.addEventListener(st,Ze[1],st===o.window.document?this.handleWindowEvent:this.handleEvent,Ze[2])}};Ii.prototype.destroy=function(){for(var G=0,he=this._listeners;G<he.length;G+=1){var $=he[G],ve=$[0];C.removeEventListener(ve,$[1],ve===o.window.document?this.handleWindowEvent:this.handleEvent,$[2])}},Ii.prototype._addDefaultHandlers=function(G){var he=this._map,$=he.getCanvasContainer();this._add("mapEvent",new Qi(he,G));var ve=he.boxZoom=new me(he,G);this._add("boxZoom",ve);var Le=new ar,Ze=new wa;he.doubleClickZoom=new ia(Ze,Le),this._add("tapZoom",Le),this._add("clickZoom",Ze);var st=new Gi;this._add("tapDragZoom",st);var wt=he.touchPitch=new Ca;this._add("touchPitch",wt);var Wt=new dn(G),nr=new Or(G);he.dragRotate=new bo(G,Wt,nr),this._add("mouseRotate",Wt,["mousePitch"]),this._add("mousePitch",nr,["mouseRotate"]);var yr=new an(G),Cr=new Ur(G);he.dragPan=new lo($,yr,Cr),this._add("mousePan",yr),this._add("touchPan",Cr,["touchZoom","touchRotate"]);var Br=new da,$r=new Gn;he.touchZoomRotate=new Bi($,$r,Br,st),this._add("touchRotate",Br,["touchPan","touchZoom"]),this._add("touchZoom",$r,["touchPan","touchRotate"]);var qr=he.scrollZoom=new Ga(he,this);this._add("scrollZoom",qr,["mousePan"]);var jr=he.keyboard=new Va;this._add("keyboard",jr),this._add("blockableMapEvent",new oe(he));for(var nn=0,wn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];nn<wn.length;nn+=1){var _n=wn[nn];G.interactive&&G[_n]&&he[_n].enable(G[_n])}},Ii.prototype._add=function(G,he,$){this._handlers.push({handlerName:G,handler:he,allowed:$}),this._handlersById[G]=he},Ii.prototype.stop=function(){if(!this._updatingCamera){for(var G=0,he=this._handlers;G<he.length;G+=1)he[G].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},Ii.prototype.isActive=function(){for(var G=0,he=this._handlers;G<he.length;G+=1)if(he[G].handler.isActive())return!0;return!1},Ii.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Ii.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Ii.prototype.isMoving=function(){return!!So(this._eventsInProgress)||this.isZooming()},Ii.prototype._blockedByActive=function(G,he,$){for(var ve in G)if(ve!==$&&(!he||he.indexOf(ve)<0))return!0;return!1},Ii.prototype.handleWindowEvent=function(G){this.handleEvent(G,G.type+"Window")},Ii.prototype._getMapTouches=function(G){for(var he=[],$=0,ve=G;$<ve.length;$+=1){var Le=ve[$];this._el.contains(Le.target)&&he.push(Le)}return he},Ii.prototype.handleEvent=function(G,he){if("blur"!==G.type){this._updatingCamera=!0;for(var $="renderFrame"===G.type?void 0:G,ve={needsRenderFrame:!1},Le={},Ze={},st=G.touches?this._getMapTouches(G.touches):void 0,wt=st?C.touchPos(this._el,st):C.mousePos(this._el,G),Wt=0,nr=this._handlers;Wt<nr.length;Wt+=1){var yr=nr[Wt],Cr=yr.handlerName,Br=yr.handler,$r=yr.allowed;if(Br.isEnabled()){var qr=void 0;this._blockedByActive(Ze,$r,Cr)?Br.reset():Br[he||G.type]&&(qr=Br[he||G.type](G,wt,st),this.mergeHandlerResult(ve,Le,qr,Cr,$),qr&&qr.needsRenderFrame&&this._triggerRenderFrame()),(qr||Br.isActive())&&(Ze[Cr]=Br)}}var jr={};for(var nn in this._previousActiveHandlers)Ze[nn]||(jr[nn]=$);this._previousActiveHandlers=Ze,(Object.keys(jr).length||zo(ve))&&(this._changes.push([ve,Le,jr]),this._triggerRenderFrame()),(Object.keys(Ze).length||zo(ve))&&this._map._stop(!0),this._updatingCamera=!1;var wn=ve.cameraAnimation;wn&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],wn(this._map))}else this.stop()},Ii.prototype.mergeHandlerResult=function(G,he,$,ve,Le){if($){o.extend(G,$);var Ze={handlerName:ve,originalEvent:$.originalEvent||Le};void 0!==$.zoomDelta&&(he.zoom=Ze),void 0!==$.panDelta&&(he.drag=Ze),void 0!==$.pitchDelta&&(he.pitch=Ze),void 0!==$.bearingDelta&&(he.rotate=Ze)}},Ii.prototype._applyChanges=function(){for(var G={},he={},$={},ve=0,Le=this._changes;ve<Le.length;ve+=1){var Ze=Le[ve],st=Ze[0],wt=Ze[1],Wt=Ze[2];st.panDelta&&(G.panDelta=(G.panDelta||new o.Point(0,0))._add(st.panDelta)),st.zoomDelta&&(G.zoomDelta=(G.zoomDelta||0)+st.zoomDelta),st.bearingDelta&&(G.bearingDelta=(G.bearingDelta||0)+st.bearingDelta),st.pitchDelta&&(G.pitchDelta=(G.pitchDelta||0)+st.pitchDelta),void 0!==st.around&&(G.around=st.around),void 0!==st.pinchAround&&(G.pinchAround=st.pinchAround),st.noInertia&&(G.noInertia=st.noInertia),o.extend(he,wt),o.extend($,Wt)}this._updateMapTransform(G,he,$),this._changes=[]},Ii.prototype._updateMapTransform=function(G,he,$){var ve=this._map,Le=ve.transform;if(!zo(G))return this._fireEvents(he,$);var Ze=G.panDelta,st=G.zoomDelta,wt=G.bearingDelta,Wt=G.pitchDelta,nr=G.around,yr=G.pinchAround;void 0!==yr&&(nr=yr),ve._stop(!0),nr=nr||ve.transform.centerPoint;var Cr=Le.pointLocation(Ze?nr.sub(Ze):nr);wt&&(Le.bearing+=wt),Wt&&(Le.pitch+=Wt),st&&(Le.zoom+=st),Le.setLocationAtPoint(Cr,nr),this._map._update(),G.noInertia||this._inertia.record(G),this._fireEvents(he,$)},Ii.prototype._fireEvents=function(G,he){var $=this,ve=So(this._eventsInProgress),Le=So(G),Ze={};for(var st in G)this._eventsInProgress[st]||(Ze[st+"start"]=G[st].originalEvent),this._eventsInProgress[st]=G[st];for(var nr in!ve&&Le&&this._fireEvent("movestart",Le.originalEvent),Ze)this._fireEvent(nr,Ze[nr]);for(var yr in G.rotate&&(this._bearingChanged=!0),Le&&this._fireEvent("move",Le.originalEvent),G)this._fireEvent(yr,G[yr].originalEvent);var qr,$r={};for(var jr in this._eventsInProgress){var nn=this._eventsInProgress[jr],wn=nn.handlerName,_n=nn.originalEvent;this._handlersById[wn].isActive()||(delete this._eventsInProgress[jr],$r[jr+"end"]=qr=he[wn]||_n)}for(var Un in $r)this._fireEvent(Un,$r[Un]);var $n=So(this._eventsInProgress);if((ve||Le)&&!$n){this._updatingCamera=!0;var ta=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),qn=function(ua){return 0!==ua&&-$._bearingSnap<ua&&ua<$._bearingSnap};ta?(qn(ta.bearing||this._map.getBearing())&&(ta.bearing=0),this._map.easeTo(ta,{originalEvent:qr})):(this._map.fire(new o.Event("moveend",{originalEvent:qr})),qn(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},Ii.prototype._fireEvent=function(G,he){this._map.fire(new o.Event(G,he?{originalEvent:he}:{}))},Ii.prototype._triggerRenderFrame=function(){var G=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame(function(he){delete G._frameId,G.handleEvent(new Mo("renderFrame",{timeStamp:he})),G._applyChanges()}))};var au=function(le){function G(he,$){le.call(this),this._moving=!1,this._zooming=!1,this.transform=he,this._bearingSnap=$.bearingSnap,o.bindAll(["_renderFrameCallback"],this)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.getCenter=function(){return new o.LngLat(this.transform.center.lng,this.transform.center.lat)},G.prototype.setCenter=function($,ve){return this.jumpTo({center:$},ve)},G.prototype.panBy=function($,ve,Le){return $=o.Point.convert($).mult(-1),this.panTo(this.transform.center,o.extend({offset:$},ve),Le)},G.prototype.panTo=function($,ve,Le){return this.easeTo(o.extend({center:$},ve),Le)},G.prototype.getZoom=function(){return this.transform.zoom},G.prototype.setZoom=function($,ve){return this.jumpTo({zoom:$},ve),this},G.prototype.zoomTo=function($,ve,Le){return this.easeTo(o.extend({zoom:$},ve),Le)},G.prototype.zoomIn=function($,ve){return this.zoomTo(this.getZoom()+1,$,ve),this},G.prototype.zoomOut=function($,ve){return this.zoomTo(this.getZoom()-1,$,ve),this},G.prototype.getBearing=function(){return this.transform.bearing},G.prototype.setBearing=function($,ve){return this.jumpTo({bearing:$},ve),this},G.prototype.getPadding=function(){return this.transform.padding},G.prototype.setPadding=function($,ve){return this.jumpTo({padding:$},ve),this},G.prototype.rotateTo=function($,ve,Le){return this.easeTo(o.extend({bearing:$},ve),Le)},G.prototype.resetNorth=function($,ve){return this.rotateTo(0,o.extend({duration:1e3},$),ve),this},G.prototype.resetNorthPitch=function($,ve){return this.easeTo(o.extend({bearing:0,pitch:0,duration:1e3},$),ve),this},G.prototype.snapToNorth=function($,ve){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth($,ve):this},G.prototype.getPitch=function(){return this.transform.pitch},G.prototype.setPitch=function($,ve){return this.jumpTo({pitch:$},ve),this},G.prototype.cameraForBounds=function($,ve){return $=o.LngLatBounds.convert($),this._cameraForBoxAndBearing($.getNorthWest(),$.getSouthEast(),0,ve)},G.prototype._cameraForBoxAndBearing=function($,ve,Le,Ze){var st={top:0,bottom:0,right:0,left:0};if("number"==typeof(Ze=o.extend({padding:st,offset:[0,0],maxZoom:this.transform.maxZoom},Ze)).padding){var wt=Ze.padding;Ze.padding={top:wt,bottom:wt,right:wt,left:wt}}Ze.padding=o.extend(st,Ze.padding);var Wt=this.transform,nr=Wt.padding,yr=Wt.project(o.LngLat.convert($)),Cr=Wt.project(o.LngLat.convert(ve)),Br=yr.rotate(-Le*Math.PI/180),$r=Cr.rotate(-Le*Math.PI/180),qr=new o.Point(Math.max(Br.x,$r.x),Math.max(Br.y,$r.y)),jr=new o.Point(Math.min(Br.x,$r.x),Math.min(Br.y,$r.y)),nn=qr.sub(jr),wn=(Wt.width-(nr.left+nr.right+Ze.padding.left+Ze.padding.right))/nn.x,_n=(Wt.height-(nr.top+nr.bottom+Ze.padding.top+Ze.padding.bottom))/nn.y;if(!(_n<0||wn<0)){var Un=Math.min(Wt.scaleZoom(Wt.scale*Math.min(wn,_n)),Ze.maxZoom),$n=o.Point.convert(Ze.offset),xa=new o.Point($n.x+(Ze.padding.left-Ze.padding.right)/2,$n.y+(Ze.padding.top-Ze.padding.bottom)/2).mult(Wt.scale/Wt.zoomScale(Un));return{center:Wt.unproject(yr.add(Cr).div(2).sub(xa)),zoom:Un,bearing:Le}}o.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},G.prototype.fitBounds=function($,ve,Le){return this._fitInternal(this.cameraForBounds($,ve),ve,Le)},G.prototype.fitScreenCoordinates=function($,ve,Le,Ze,st){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.Point.convert($)),this.transform.pointLocation(o.Point.convert(ve)),Le,Ze),Ze,st)},G.prototype._fitInternal=function($,ve,Le){return $?(delete(ve=o.extend($,ve)).padding,ve.linear?this.easeTo(ve,Le):this.flyTo(ve,Le)):this},G.prototype.jumpTo=function($,ve){this.stop();var Le=this.transform,Ze=!1,st=!1,wt=!1;return"zoom"in $&&Le.zoom!==+$.zoom&&(Ze=!0,Le.zoom=+$.zoom),void 0!==$.center&&(Le.center=o.LngLat.convert($.center)),"bearing"in $&&Le.bearing!==+$.bearing&&(st=!0,Le.bearing=+$.bearing),"pitch"in $&&Le.pitch!==+$.pitch&&(wt=!0,Le.pitch=+$.pitch),null!=$.padding&&!Le.isPaddingEqual($.padding)&&(Le.padding=$.padding),this.fire(new o.Event("movestart",ve)).fire(new o.Event("move",ve)),Ze&&this.fire(new o.Event("zoomstart",ve)).fire(new o.Event("zoom",ve)).fire(new o.Event("zoomend",ve)),st&&this.fire(new o.Event("rotatestart",ve)).fire(new o.Event("rotate",ve)).fire(new o.Event("rotateend",ve)),wt&&this.fire(new o.Event("pitchstart",ve)).fire(new o.Event("pitch",ve)).fire(new o.Event("pitchend",ve)),this.fire(new o.Event("moveend",ve))},G.prototype.easeTo=function($,ve){var Le=this;this._stop(!1,$.easeId),(!1===($=o.extend({offset:[0,0],duration:500,easing:o.ease},$)).animate||!$.essential&&o.browser.prefersReducedMotion)&&($.duration=0);var Ze=this.transform,st=this.getZoom(),wt=this.getBearing(),Wt=this.getPitch(),nr=this.getPadding(),yr="zoom"in $?+$.zoom:st,Cr="bearing"in $?this._normalizeBearing($.bearing,wt):wt,Br="pitch"in $?+$.pitch:Wt,$r="padding"in $?$.padding:Ze.padding,qr=o.Point.convert($.offset),jr=Ze.centerPoint.add(qr),nn=Ze.pointLocation(jr),wn=o.LngLat.convert($.center||nn);this._normalizeCenter(wn);var ta,qn,_n=Ze.project(nn),Un=Ze.project(wn).sub(_n),$n=Ze.zoomScale(yr-st);$.around&&(ta=o.LngLat.convert($.around),qn=Ze.locationPoint(ta));var ua={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||yr!==st,this._rotating=this._rotating||wt!==Cr,this._pitching=this._pitching||Br!==Wt,this._padding=!Ze.isPaddingEqual($r),this._easeId=$.easeId,this._prepareEase(ve,$.noMoveStart,ua),clearTimeout(this._easeEndTimeoutID),this._ease(function(xa){if(Le._zooming&&(Ze.zoom=o.number(st,yr,xa)),Le._rotating&&(Ze.bearing=o.number(wt,Cr,xa)),Le._pitching&&(Ze.pitch=o.number(Wt,Br,xa)),Le._padding&&(Ze.interpolatePadding(nr,$r,xa),jr=Ze.centerPoint.add(qr)),ta)Ze.setLocationAtPoint(ta,qn);else{var ga=Ze.zoomScale(Ze.zoom-st),Ta=yr>st?Math.min(2,$n):Math.max(.5,$n),Pa=Math.pow(Ta,1-xa),Wa=Ze.unproject(_n.add(Un.mult(xa*Pa)).mult(ga));Ze.setLocationAtPoint(Ze.renderWorldCopies?Wa.wrap():Wa,jr)}Le._fireMoveEvents(ve)},function(xa){Le._afterEase(ve,xa)},$),this},G.prototype._prepareEase=function($,ve,Le){void 0===Le&&(Le={}),this._moving=!0,!ve&&!Le.moving&&this.fire(new o.Event("movestart",$)),this._zooming&&!Le.zooming&&this.fire(new o.Event("zoomstart",$)),this._rotating&&!Le.rotating&&this.fire(new o.Event("rotatestart",$)),this._pitching&&!Le.pitching&&this.fire(new o.Event("pitchstart",$))},G.prototype._fireMoveEvents=function($){this.fire(new o.Event("move",$)),this._zooming&&this.fire(new o.Event("zoom",$)),this._rotating&&this.fire(new o.Event("rotate",$)),this._pitching&&this.fire(new o.Event("pitch",$))},G.prototype._afterEase=function($,ve){if(!this._easeId||!ve||this._easeId!==ve){delete this._easeId;var Le=this._zooming,Ze=this._rotating,st=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Le&&this.fire(new o.Event("zoomend",$)),Ze&&this.fire(new o.Event("rotateend",$)),st&&this.fire(new o.Event("pitchend",$)),this.fire(new o.Event("moveend",$))}},G.prototype.flyTo=function($,ve){var Le=this;if(!$.essential&&o.browser.prefersReducedMotion){var Ze=o.pick($,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ze,ve)}this.stop(),$=o.extend({offset:[0,0],speed:1.2,curve:1.42,easing:o.ease},$);var st=this.transform,wt=this.getZoom(),Wt=this.getBearing(),nr=this.getPitch(),yr=this.getPadding(),Cr="zoom"in $?o.clamp(+$.zoom,st.minZoom,st.maxZoom):wt,Br="bearing"in $?this._normalizeBearing($.bearing,Wt):Wt,$r="pitch"in $?+$.pitch:nr,qr="padding"in $?$.padding:st.padding,jr=st.zoomScale(Cr-wt),nn=o.Point.convert($.offset),wn=st.centerPoint.add(nn),_n=st.pointLocation(wn),Un=o.LngLat.convert($.center||_n);this._normalizeCenter(Un);var $n=st.project(_n),ta=st.project(Un).sub($n),qn=$.curve,ua=Math.max(st.width,st.height),xa=ua/jr,ga=ta.mag();if("minZoom"in $){var Ta=o.clamp(Math.min($.minZoom,wt,Cr),st.minZoom,st.maxZoom),Pa=ua/st.zoomScale(Ta-wt);qn=Math.sqrt(Pa/ga*2)}var Wa=qn*qn;function qa(ei){var xi=(xa*xa-ua*ua+(ei?-1:1)*Wa*Wa*ga*ga)/(2*(ei?xa:ua)*Wa*ga);return Math.log(Math.sqrt(xi*xi+1)-xi)}function Li(ei){return(Math.exp(ei)-Math.exp(-ei))/2}function ni(ei){return(Math.exp(ei)+Math.exp(-ei))/2}var Oa=qa(0),Pi=function(ei){return ni(Oa)/ni(Oa+qn*ei)},Ni=function(ei){return ua*((ni(Oa)*function vi(ei){return Li(ei)/ni(ei)}(Oa+qn*ei)-Li(Oa))/Wa)/ga},Xi=(qa(1)-Oa)/qn;if(Math.abs(ga)<1e-6||!isFinite(Xi)){if(Math.abs(ua-xa)<1e-6)return this.easeTo($,ve);var yi=xa<ua?-1:1;Xi=Math.abs(Math.log(xa/ua))/qn,Ni=function(){return 0},Pi=function(ei){return Math.exp(yi*qn*ei)}}return $.duration="duration"in $?+$.duration:1e3*Xi/("screenSpeed"in $?+$.screenSpeed/qn:+$.speed),$.maxDuration&&$.duration>$.maxDuration&&($.duration=0),this._zooming=!0,this._rotating=Wt!==Br,this._pitching=$r!==nr,this._padding=!st.isPaddingEqual(qr),this._prepareEase(ve,!1),this._ease(function(ei){var xi=ei*Xi,Eo=1/Pi(xi);st.zoom=1===ei?Cr:wt+st.scaleZoom(Eo),Le._rotating&&(st.bearing=o.number(Wt,Br,ei)),Le._pitching&&(st.pitch=o.number(nr,$r,ei)),Le._padding&&(st.interpolatePadding(yr,qr,ei),wn=st.centerPoint.add(nn));var Oo=1===ei?Un:st.unproject($n.add(ta.mult(Ni(xi))).mult(Eo));st.setLocationAtPoint(st.renderWorldCopies?Oo.wrap():Oo,wn),Le._fireMoveEvents(ve)},function(){return Le._afterEase(ve)},$),this},G.prototype.isEasing=function(){return!!this._easeFrameId},G.prototype.stop=function(){return this._stop()},G.prototype._stop=function($,ve){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Le=this._onEaseEnd;delete this._onEaseEnd,Le.call(this,ve)}if(!$){var Ze=this.handlers;Ze&&Ze.stop()}return this},G.prototype._ease=function($,ve,Le){!1===Le.animate||0===Le.duration?($(1),ve()):(this._easeStart=o.browser.now(),this._easeOptions=Le,this._onEaseFrame=$,this._onEaseEnd=ve,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},G.prototype._renderFrameCallback=function(){var $=Math.min((o.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing($)),$<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},G.prototype._normalizeBearing=function($,ve){$=o.wrap($,-180,180);var Le=Math.abs($-ve);return Math.abs($-360-ve)<Le&&($-=360),Math.abs($+360-ve)<Le&&($+=360),$},G.prototype._normalizeCenter=function($){var ve=this.transform;if(ve.renderWorldCopies&&!ve.lngRange){var Le=$.lng-ve.center.lng;$.lng+=Le>180?-360:Le<-180?360:0}},G}(o.Evented),Cl=function(G){void 0===G&&(G={}),this.options=G,o.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Cl.prototype.getDefaultPosition=function(){return"bottom-right"},Cl.prototype.onAdd=function(G){var he=this.options&&this.options.compact;return this._map=G,this._container=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=C.create("div","mapboxgl-ctrl-attrib-inner",this._container),he&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===he&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Cl.prototype.onRemove=function(){C.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Cl.prototype._updateEditLink=function(){var G=this._editLink;G||(G=this._editLink=this._container.querySelector(".mapbox-improve-map"));var he=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||o.config.ACCESS_TOKEN}];if(G){var $=he.reduce(function(ve,Le,Ze){return Le.value&&(ve+=Le.key+"="+Le.value+(Ze<he.length-1?"&":"")),ve},"?");G.href=o.config.FEEDBACK_URL+"/"+$+(this._map._hash?this._map._hash.getHashString(!0):""),G.rel="noopener nofollow"}},Cl.prototype._updateData=function(G){G&&("metadata"===G.sourceDataType||"style"===G.dataType)&&(this._updateAttributions(),this._updateEditLink())},Cl.prototype._updateAttributions=function(){if(this._map.style){var G=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?G=G.concat(this.options.customAttribution.map(function(wt){return"string"!=typeof wt?"":wt})):"string"==typeof this.options.customAttribution&&G.push(this.options.customAttribution)),this._map.style.stylesheet){var he=this._map.style.stylesheet;this.styleOwner=he.owner,this.styleId=he.id}var $=this._map.style.sourceCaches;for(var ve in $){var Le=$[ve];if(Le.used){var Ze=Le.getSource();Ze.attribution&&G.indexOf(Ze.attribution)<0&&G.push(Ze.attribution)}}G.sort(function(wt,Wt){return wt.length-Wt.length});var st=(G=G.filter(function(wt,Wt){for(var nr=Wt+1;nr<G.length;nr++)if(G[nr].indexOf(wt)>=0)return!1;return!0})).join(" | ");st!==this._attribHTML&&(this._attribHTML=st,G.length?(this._innerContainer.innerHTML=st,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Cl.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var ci=function(){o.bindAll(["_updateLogo"],this),o.bindAll(["_updateCompact"],this)};ci.prototype.onAdd=function(G){this._map=G,this._container=C.create("div","mapboxgl-ctrl");var he=C.create("a","mapboxgl-ctrl-logo");return he.target="_blank",he.rel="noopener nofollow",he.href="https://www.mapbox.com/",he.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),he.setAttribute("rel","noopener nofollow"),this._container.appendChild(he),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ci.prototype.onRemove=function(){C.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ci.prototype.getDefaultPosition=function(){return"bottom-left"},ci.prototype._updateLogo=function(G){(!G||"metadata"===G.sourceDataType)&&(this._container.style.display=this._logoRequired()?"block":"none")},ci.prototype._logoRequired=function(){if(this._map.style){var G=this._map.style.sourceCaches;for(var he in G)if(G[he].getSource().mapbox_logo)return!0;return!1}},ci.prototype._updateCompact=function(){var G=this._container.children;if(G.length){var he=G[0];this._map.getCanvasContainer().offsetWidth<250?he.classList.add("mapboxgl-compact"):he.classList.remove("mapboxgl-compact")}};var gi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};gi.prototype.add=function(G){var he=++this._id;return this._queue.push({callback:G,id:he,cancelled:!1}),he},gi.prototype.remove=function(G){for(var he=this._currentlyRunning,ve=0,Le=he?this._queue.concat(he):this._queue;ve<Le.length;ve+=1){var Ze=Le[ve];if(Ze.id===G)return void(Ze.cancelled=!0)}},gi.prototype.run=function(G){void 0===G&&(G=0);var he=this._currentlyRunning=this._queue;this._queue=[];for(var $=0,ve=he;$<ve.length;$+=1){var Le=ve[$];if(!Le.cancelled&&(Le.callback(G),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},gi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var ks={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Ts=o.window.HTMLImageElement,es=o.window.HTMLElement,As=o.window.ImageBitmap,$f={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},qf=function(le){function G($){var ve=this;if(null!=($=o.extend({},$f,$)).minZoom&&null!=$.maxZoom&&$.minZoom>$.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=$.minPitch&&null!=$.maxPitch&&$.minPitch>$.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=$.minPitch&&$.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=$.maxPitch&&$.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var Le=new on($.minZoom,$.maxZoom,$.minPitch,$.maxPitch,$.renderWorldCopies);if(le.call(this,Le,$),this._interactive=$.interactive,this._maxTileCacheSize=$.maxTileCacheSize,this._failIfMajorPerformanceCaveat=$.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=$.preserveDrawingBuffer,this._antialias=$.antialias,this._trackResize=$.trackResize,this._bearingSnap=$.bearingSnap,this._refreshExpiredTiles=$.refreshExpiredTiles,this._fadeDuration=$.fadeDuration,this._crossSourceCollisions=$.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=$.collectResourceTiming,this._renderTaskQueue=new gi,this._controls=[],this._mapId=o.uniqueId(),this._locale=o.extend({},ks,$.locale),this._requestManager=new o.RequestManager($.transformRequest,$.accessToken),"string"==typeof $.container){if(this._container=o.window.document.getElementById($.container),!this._container)throw new Error("Container '"+$.container+"' not found.")}else{if(!($.container instanceof es))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=$.container}if($.maxBounds&&this.setMaxBounds($.maxBounds),o.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ve._update(!1)}),this.on("moveend",function(){return ve._update(!1)}),this.on("zoom",function(){return ve._update(!0)}),typeof o.window<"u"&&(o.window.addEventListener("online",this._onWindowOnline,!1),o.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new Ii(this,$),this._hash=$.hash&&new fa("string"==typeof $.hash&&$.hash||void 0).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:$.center,zoom:$.zoom,bearing:$.bearing,pitch:$.pitch}),$.bounds&&(this.resize(),this.fitBounds($.bounds,o.extend({},$.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=$.localIdeographFontFamily,$.style&&this.setStyle($.style,{localIdeographFontFamily:$.localIdeographFontFamily}),$.attributionControl&&this.addControl(new Cl({customAttribution:$.customAttribution})),this.addControl(new ci,$.logoPosition),this.on("style.load",function(){ve.transform.unmodified&&ve.jumpTo(ve.style.stylesheet)}),this.on("data",function(st){ve._update("style"===st.dataType),ve.fire(new o.Event(st.dataType+"data",st))}),this.on("dataloading",function(st){ve.fire(new o.Event(st.dataType+"dataloading",st))})}le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G;var he={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return G.prototype._getMapId=function(){return this._mapId},G.prototype.addControl=function(ve,Le){if(void 0===Le&&ve.getDefaultPosition&&(Le=ve.getDefaultPosition()),void 0===Le&&(Le="top-right"),!ve||!ve.onAdd)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ze=ve.onAdd(this);this._controls.push(ve);var st=this._controlPositions[Le];return-1!==Le.indexOf("bottom")?st.insertBefore(Ze,st.firstChild):st.appendChild(Ze),this},G.prototype.removeControl=function(ve){if(!ve||!ve.onRemove)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Le=this._controls.indexOf(ve);return Le>-1&&this._controls.splice(Le,1),ve.onRemove(this),this},G.prototype.resize=function(ve){var Le=this._containerDimensions(),Ze=Le[0],st=Le[1];this._resizeCanvas(Ze,st),this.transform.resize(Ze,st),this.painter.resize(Ze,st);var wt=!this._moving;return wt&&(this.stop(),this.fire(new o.Event("movestart",ve)).fire(new o.Event("move",ve))),this.fire(new o.Event("resize",ve)),wt&&this.fire(new o.Event("moveend",ve)),this},G.prototype.getBounds=function(){return this.transform.getBounds()},G.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},G.prototype.setMaxBounds=function(ve){return this.transform.setMaxBounds(o.LngLatBounds.convert(ve)),this._update()},G.prototype.setMinZoom=function(ve){if((ve=ve??-2)>=-2&&ve<=this.transform.maxZoom)return this.transform.minZoom=ve,this._update(),this.getZoom()<ve&&this.setZoom(ve),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},G.prototype.getMinZoom=function(){return this.transform.minZoom},G.prototype.setMaxZoom=function(ve){if((ve=ve??22)>=this.transform.minZoom)return this.transform.maxZoom=ve,this._update(),this.getZoom()>ve&&this.setZoom(ve),this;throw new Error("maxZoom must be greater than the current minZoom")},G.prototype.getMaxZoom=function(){return this.transform.maxZoom},G.prototype.setMinPitch=function(ve){if((ve=ve??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(ve>=0&&ve<=this.transform.maxPitch)return this.transform.minPitch=ve,this._update(),this.getPitch()<ve&&this.setPitch(ve),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},G.prototype.getMinPitch=function(){return this.transform.minPitch},G.prototype.setMaxPitch=function(ve){if((ve=ve??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(ve>=this.transform.minPitch)return this.transform.maxPitch=ve,this._update(),this.getPitch()>ve&&this.setPitch(ve),this;throw new Error("maxPitch must be greater than the current minPitch")},G.prototype.getMaxPitch=function(){return this.transform.maxPitch},G.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},G.prototype.setRenderWorldCopies=function(ve){return this.transform.renderWorldCopies=ve,this._update()},G.prototype.project=function(ve){return this.transform.locationPoint(o.LngLat.convert(ve))},G.prototype.unproject=function(ve){return this.transform.pointLocation(o.Point.convert(ve))},G.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},G.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},G.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},G.prototype._createDelegatedListener=function(ve,Le,Ze){var wt,st=this;if("mouseenter"===ve||"mouseover"===ve){var Wt=!1;return{layer:Le,listener:Ze,delegates:{mousemove:function(jr){var nn=st.getLayer(Le)?st.queryRenderedFeatures(jr.point,{layers:[Le]}):[];nn.length?Wt||(Wt=!0,Ze.call(st,new vo(ve,st,jr.originalEvent,{features:nn}))):Wt=!1},mouseout:function(){Wt=!1}}}}if("mouseleave"===ve||"mouseout"===ve){var Cr=!1;return{layer:Le,listener:Ze,delegates:{mousemove:function(jr){(st.getLayer(Le)?st.queryRenderedFeatures(jr.point,{layers:[Le]}):[]).length?Cr=!0:Cr&&(Cr=!1,Ze.call(st,new vo(ve,st,jr.originalEvent)))},mouseout:function(jr){Cr&&(Cr=!1,Ze.call(st,new vo(ve,st,jr.originalEvent)))}}}}return{layer:Le,listener:Ze,delegates:(wt={},wt[ve]=function(jr){var nn=st.getLayer(Le)?st.queryRenderedFeatures(jr.point,{layers:[Le]}):[];nn.length&&(jr.features=nn,Ze.call(st,jr),delete jr.features)},wt)}},G.prototype.on=function(ve,Le,Ze){if(void 0===Ze)return le.prototype.on.call(this,ve,Le);var st=this._createDelegatedListener(ve,Le,Ze);for(var wt in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ve]=this._delegatedListeners[ve]||[],this._delegatedListeners[ve].push(st),st.delegates)this.on(wt,st.delegates[wt]);return this},G.prototype.once=function(ve,Le,Ze){if(void 0===Ze)return le.prototype.once.call(this,ve,Le);var st=this._createDelegatedListener(ve,Le,Ze);for(var wt in st.delegates)this.once(wt,st.delegates[wt]);return this},G.prototype.off=function(ve,Le,Ze){var st=this;return void 0===Ze?le.prototype.off.call(this,ve,Le):(this._delegatedListeners&&this._delegatedListeners[ve]&&function(Wt){for(var nr=Wt[ve],yr=0;yr<nr.length;yr++){var Cr=nr[yr];if(Cr.layer===Le&&Cr.listener===Ze){for(var Br in Cr.delegates)st.off(Br,Cr.delegates[Br]);return nr.splice(yr,1),st}}}(this._delegatedListeners),this)},G.prototype.queryRenderedFeatures=function(ve,Le){if(!this.style)return[];var Ze;if(void 0===Le&&void 0!==ve&&!(ve instanceof o.Point)&&!Array.isArray(ve)&&(Le=ve,ve=void 0),Le=Le||{},(ve=ve||[[0,0],[this.transform.width,this.transform.height]])instanceof o.Point||"number"==typeof ve[0])Ze=[o.Point.convert(ve)];else{var st=o.Point.convert(ve[0]),wt=o.Point.convert(ve[1]);Ze=[st,new o.Point(wt.x,st.y),wt,new o.Point(st.x,wt.y),st]}return this.style.queryRenderedFeatures(Ze,Le,this.transform)},G.prototype.querySourceFeatures=function(ve,Le){return this.style.querySourceFeatures(ve,Le)},G.prototype.setStyle=function(ve,Le){return!1!==(Le=o.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Le)).diff&&Le.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ve?(this._diffStyle(ve,Le),this):(this._localIdeographFontFamily=Le.localIdeographFontFamily,this._updateStyle(ve,Le))},G.prototype._getUIString=function(ve){var Le=this._locale[ve];if(null==Le)throw new Error("Missing UI string '"+ve+"'");return Le},G.prototype._updateStyle=function(ve,Le){return this.style&&(this.style.setEventedParent(null),this.style._remove()),ve?(this.style=new eo(this,Le||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof ve?this.style.loadURL(ve):this.style.loadJSON(ve),this):(delete this.style,this)},G.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new eo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},G.prototype._diffStyle=function(ve,Le){var Ze=this;if("string"==typeof ve){var st=this._requestManager.normalizeStyleURL(ve),wt=this._requestManager.transformRequest(st,o.ResourceType.Style);o.getJSON(wt,function(Wt,nr){Wt?Ze.fire(new o.ErrorEvent(Wt)):nr&&Ze._updateDiff(nr,Le)})}else"object"==typeof ve&&this._updateDiff(ve,Le)},G.prototype._updateDiff=function(ve,Le){try{this.style.setState(ve)&&this._update(!0)}catch(Ze){o.warnOnce("Unable to perform style diff: "+(Ze.message||Ze.error||Ze)+".  Rebuilding the style from scratch."),this._updateStyle(ve,Le)}},G.prototype.getStyle=function(){if(this.style)return this.style.serialize()},G.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():o.warnOnce("There is no style added to the map.")},G.prototype.addSource=function(ve,Le){return this._lazyInitEmptyStyle(),this.style.addSource(ve,Le),this._update(!0)},G.prototype.isSourceLoaded=function(ve){var Le=this.style&&this.style.sourceCaches[ve];if(void 0!==Le)return Le.loaded();this.fire(new o.ErrorEvent(new Error("There is no source with ID '"+ve+"'")))},G.prototype.areTilesLoaded=function(){var ve=this.style&&this.style.sourceCaches;for(var Le in ve){var st=ve[Le]._tiles;for(var wt in st){var Wt=st[wt];if("loaded"!==Wt.state&&"errored"!==Wt.state)return!1}}return!0},G.prototype.addSourceType=function(ve,Le,Ze){return this._lazyInitEmptyStyle(),this.style.addSourceType(ve,Le,Ze)},G.prototype.removeSource=function(ve){return this.style.removeSource(ve),this._update(!0)},G.prototype.getSource=function(ve){return this.style.getSource(ve)},G.prototype.addImage=function(ve,Le,Ze){void 0===Ze&&(Ze={});var st=Ze.pixelRatio;void 0===st&&(st=1);var wt=Ze.sdf;void 0===wt&&(wt=!1);var Wt=Ze.stretchX,nr=Ze.stretchY,yr=Ze.content;this._lazyInitEmptyStyle();if(Le instanceof Ts||As&&Le instanceof As){var Br=o.browser.getImageData(Le);this.style.addImage(ve,{data:new o.RGBAImage({width:Br.width,height:Br.height},Br.data),pixelRatio:st,stretchX:Wt,stretchY:nr,content:yr,sdf:wt,version:0})}else{if(void 0===Le.width||void 0===Le.height)return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Un=Le;this.style.addImage(ve,{data:new o.RGBAImage({width:Le.width,height:Le.height},new Uint8Array(Le.data)),pixelRatio:st,stretchX:Wt,stretchY:nr,content:yr,sdf:wt,version:0,userImage:Un}),Un.onAdd&&Un.onAdd(this,ve)}},G.prototype.updateImage=function(ve,Le){var Ze=this.style.getImage(ve);if(!Ze)return this.fire(new o.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var st=Le instanceof Ts||As&&Le instanceof As?o.browser.getImageData(Le):Le,wt=st.width,Wt=st.height,nr=st.data;return void 0===wt||void 0===Wt?this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):wt!==Ze.data.width||Wt!==Ze.data.height?this.fire(new o.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(Ze.data.replace(nr,!(Le instanceof Ts||As&&Le instanceof As)),void this.style.updateImage(ve,Ze))},G.prototype.hasImage=function(ve){return ve?!!this.style.getImage(ve):(this.fire(new o.ErrorEvent(new Error("Missing required image id"))),!1)},G.prototype.removeImage=function(ve){this.style.removeImage(ve)},G.prototype.loadImage=function(ve,Le){o.getImage(this._requestManager.transformRequest(ve,o.ResourceType.Image),Le)},G.prototype.listImages=function(){return this.style.listImages()},G.prototype.addLayer=function(ve,Le){return this._lazyInitEmptyStyle(),this.style.addLayer(ve,Le),this._update(!0)},G.prototype.moveLayer=function(ve,Le){return this.style.moveLayer(ve,Le),this._update(!0)},G.prototype.removeLayer=function(ve){return this.style.removeLayer(ve),this._update(!0)},G.prototype.getLayer=function(ve){return this.style.getLayer(ve)},G.prototype.setLayerZoomRange=function(ve,Le,Ze){return this.style.setLayerZoomRange(ve,Le,Ze),this._update(!0)},G.prototype.setFilter=function(ve,Le,Ze){return void 0===Ze&&(Ze={}),this.style.setFilter(ve,Le,Ze),this._update(!0)},G.prototype.getFilter=function(ve){return this.style.getFilter(ve)},G.prototype.setPaintProperty=function(ve,Le,Ze,st){return void 0===st&&(st={}),this.style.setPaintProperty(ve,Le,Ze,st),this._update(!0)},G.prototype.getPaintProperty=function(ve,Le){return this.style.getPaintProperty(ve,Le)},G.prototype.setLayoutProperty=function(ve,Le,Ze,st){return void 0===st&&(st={}),this.style.setLayoutProperty(ve,Le,Ze,st),this._update(!0)},G.prototype.getLayoutProperty=function(ve,Le){return this.style.getLayoutProperty(ve,Le)},G.prototype.setLight=function(ve,Le){return void 0===Le&&(Le={}),this._lazyInitEmptyStyle(),this.style.setLight(ve,Le),this._update(!0)},G.prototype.getLight=function(){return this.style.getLight()},G.prototype.setFeatureState=function(ve,Le){return this.style.setFeatureState(ve,Le),this._update()},G.prototype.removeFeatureState=function(ve,Le){return this.style.removeFeatureState(ve,Le),this._update()},G.prototype.getFeatureState=function(ve){return this.style.getFeatureState(ve)},G.prototype.getContainer=function(){return this._container},G.prototype.getCanvasContainer=function(){return this._canvasContainer},G.prototype.getCanvas=function(){return this._canvas},G.prototype._containerDimensions=function(){var ve=0,Le=0;return this._container&&(ve=this._container.clientWidth||400,Le=this._container.clientHeight||300),[ve,Le]},G.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==o.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&o.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},G.prototype._setupContainer=function(){var ve=this._container;ve.classList.add("mapboxgl-map"),(this._missingCSSCanary=C.create("div","mapboxgl-canary",ve)).style.visibility="hidden",this._detectMissingCSS();var Ze=this._canvasContainer=C.create("div","mapboxgl-canvas-container",ve);this._interactive&&Ze.classList.add("mapboxgl-interactive"),this._canvas=C.create("canvas","mapboxgl-canvas",Ze),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var st=this._containerDimensions();this._resizeCanvas(st[0],st[1]);var wt=this._controlContainer=C.create("div","mapboxgl-control-container",ve),Wt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(nr){Wt[nr]=C.create("div","mapboxgl-ctrl-"+nr,wt)})},G.prototype._resizeCanvas=function(ve,Le){var Ze=o.browser.devicePixelRatio||1;this._canvas.width=Ze*ve,this._canvas.height=Ze*Le,this._canvas.style.width=ve+"px",this._canvas.style.height=Le+"px"},G.prototype._setupPainter=function(){var ve=o.extend({},P.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Le=this._canvas.getContext("webgl",ve)||this._canvas.getContext("experimental-webgl",ve);Le?(this.painter=new Tr(Le,this.transform),o.webpSupported.testSupport(Le)):this.fire(new o.ErrorEvent(new Error("Failed to initialize WebGL")))},G.prototype._contextLost=function(ve){ve.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.Event("webglcontextlost",{originalEvent:ve}))},G.prototype._contextRestored=function(ve){this._setupPainter(),this.resize(),this._update(),this.fire(new o.Event("webglcontextrestored",{originalEvent:ve}))},G.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},G.prototype._update=function(ve){return this.style?(this._styleDirty=this._styleDirty||ve,this._sourcesDirty=!0,this.triggerRepaint(),this):this},G.prototype._requestRenderFrame=function(ve){return this._update(),this._renderTaskQueue.add(ve)},G.prototype._cancelRenderFrame=function(ve){this._renderTaskQueue.remove(ve)},G.prototype._render=function(ve){var Ze,Le=this,st=0,wt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ze=wt.createQueryEXT(),wt.beginQueryEXT(wt.TIME_ELAPSED_EXT,Ze),st=o.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ve),!this._removed){var Wt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var nr=this.transform.zoom,yr=o.browser.now();this.style.zoomHistory.update(nr,yr);var Cr=new o.EvaluationParameters(nr,{now:yr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Br=Cr.crossFadingFactor();(1!==Br||Br!==this._crossFadingFactor)&&(Wt=!0,this._crossFadingFactor=Br),this.style.update(Cr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new o.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new o.Event("load"))),this.style&&(this.style.hasTransitions()||Wt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var $r=o.browser.now()-st;wt.endQueryEXT(wt.TIME_ELAPSED_EXT,Ze),setTimeout(function(){var nn=wt.getQueryObjectEXT(Ze,wt.QUERY_RESULT_EXT)/1e6;wt.deleteQueryEXT(Ze),Le.fire(new o.Event("gpu-timing-frame",{cpuTime:$r,gpuTime:nn}))},50)}if(this.listens("gpu-timing-layer")){var qr=this.painter.collectGpuTimers();setTimeout(function(){var nn=Le.painter.queryGpuTimers(qr);Le.fire(new o.Event("gpu-timing-layer",{layerTimes:nn}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new o.Event("idle"))),this}},G.prototype.remove=function(){this._hash&&this._hash.remove();for(var ve=0,Le=this._controls;ve<Le.length;ve+=1)Le[ve].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof o.window<"u"&&(o.window.removeEventListener("resize",this._onWindowResize,!1),o.window.removeEventListener("online",this._onWindowOnline,!1));var st=this.painter.context.gl.getExtension("WEBGL_lose_context");st&&st.loseContext(),yf(this._canvasContainer),yf(this._controlContainer),yf(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new o.Event("remove"))},G.prototype.triggerRepaint=function(){var ve=this;this.style&&!this._frame&&(this._frame=o.browser.frame(function(Le){ve._frame=null,ve._render(Le)}))},G.prototype._onWindowOnline=function(){this._update()},G.prototype._onWindowResize=function(ve){this._trackResize&&this.resize({originalEvent:ve})._update()},he.showTileBoundaries.get=function(){return!!this._showTileBoundaries},he.showTileBoundaries.set=function($){this._showTileBoundaries!==$&&(this._showTileBoundaries=$,this._update())},he.showPadding.get=function(){return!!this._showPadding},he.showPadding.set=function($){this._showPadding!==$&&(this._showPadding=$,this._update())},he.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},he.showCollisionBoxes.set=function($){this._showCollisionBoxes!==$&&(this._showCollisionBoxes=$,$?this.style._generateCollisionBoxes():this._update())},he.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},he.showOverdrawInspector.set=function($){this._showOverdrawInspector!==$&&(this._showOverdrawInspector=$,this._update())},he.repaint.get=function(){return!!this._repaint},he.repaint.set=function($){this._repaint!==$&&(this._repaint=$,this.triggerRepaint())},he.vertices.get=function(){return!!this._vertices},he.vertices.set=function($){this._vertices=$,this._update()},G.prototype._setCacheLimits=function(ve,Le){o.setCacheLimits(ve,Le)},he.version.get=function(){return o.version},Object.defineProperties(G.prototype,he),G}(au);function yf(le){le.parentNode&&le.parentNode.removeChild(le)}var Cf={showCompass:!0,showZoom:!0,visualizePitch:!1},iu=function(G){var he=this;this.options=o.extend({},Cf,G),this._container=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function($){return $.preventDefault()}),this.options.showZoom&&(o.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function($){return he._map.zoomIn({},{originalEvent:$})}),C.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function($){return he._map.zoomOut({},{originalEvent:$})}),C.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(o.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function($){he.options.visualizePitch?he._map.resetNorthPitch({},{originalEvent:$}):he._map.resetNorth({},{originalEvent:$})}),this._compassIcon=C.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};iu.prototype._updateZoomButtons=function(){var G=this._map.getZoom();this._zoomInButton.disabled=G===this._map.getMaxZoom(),this._zoomOutButton.disabled=G===this._map.getMinZoom()},iu.prototype._rotateCompassArrow=function(){var G=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=G},iu.prototype.onAdd=function(G){return this._map=G,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new zs(this._map,this._compass,this.options.visualizePitch)),this._container},iu.prototype.onRemove=function(){C.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},iu.prototype._createButton=function(G,he){var $=C.create("button",G,this._container);return $.type="button",$.addEventListener("click",he),$},iu.prototype._setButtonTitle=function(G,he){var $=this._map._getUIString("NavigationControl."+he);G.title=$,G.setAttribute("aria-label",$)};var zs=function(G,he,$){void 0===$&&($=!1),this._clickTolerance=10,this.element=he,this.mouseRotate=new dn({clickTolerance:G.dragRotate._mouseRotate._clickTolerance}),this.map=G,$&&(this.mousePitch=new Or({clickTolerance:G.dragRotate._mousePitch._clickTolerance})),o.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),C.addEventListener(he,"mousedown",this.mousedown),C.addEventListener(he,"touchstart",this.touchstart,{passive:!1}),C.addEventListener(he,"touchmove",this.touchmove),C.addEventListener(he,"touchend",this.touchend),C.addEventListener(he,"touchcancel",this.reset)};function ou(le,G,he){if(le=new o.LngLat(le.lng,le.lat),G){var $=new o.LngLat(le.lng-360,le.lat),ve=new o.LngLat(le.lng+360,le.lat),Le=he.locationPoint(le).distSqr(G);he.locationPoint($).distSqr(G)<Le?le=$:he.locationPoint(ve).distSqr(G)<Le&&(le=ve)}for(;Math.abs(le.lng-he.center.lng)>180;){var Ze=he.locationPoint(le);if(Ze.x>=0&&Ze.y>=0&&Ze.x<=he.width&&Ze.y<=he.height)break;le.lng>he.center.lng?le.lng-=360:le.lng+=360}return le}zs.prototype.down=function(G,he){this.mouseRotate.mousedown(G,he),this.mousePitch&&this.mousePitch.mousedown(G,he),C.disableDrag()},zs.prototype.move=function(G,he){var $=this.map,ve=this.mouseRotate.mousemoveWindow(G,he);if(ve&&ve.bearingDelta&&$.setBearing($.getBearing()+ve.bearingDelta),this.mousePitch){var Le=this.mousePitch.mousemoveWindow(G,he);Le&&Le.pitchDelta&&$.setPitch($.getPitch()+Le.pitchDelta)}},zs.prototype.off=function(){var G=this.element;C.removeEventListener(G,"mousedown",this.mousedown),C.removeEventListener(G,"touchstart",this.touchstart,{passive:!1}),C.removeEventListener(G,"touchmove",this.touchmove),C.removeEventListener(G,"touchend",this.touchend),C.removeEventListener(G,"touchcancel",this.reset),this.offTemp()},zs.prototype.offTemp=function(){C.enableDrag(),C.removeEventListener(o.window,"mousemove",this.mousemove),C.removeEventListener(o.window,"mouseup",this.mouseup)},zs.prototype.mousedown=function(G){this.down(o.extend({},G,{ctrlKey:!0,preventDefault:function(){return G.preventDefault()}}),C.mousePos(this.element,G)),C.addEventListener(o.window,"mousemove",this.mousemove),C.addEventListener(o.window,"mouseup",this.mouseup)},zs.prototype.mousemove=function(G){this.move(G,C.mousePos(this.element,G))},zs.prototype.mouseup=function(G){this.mouseRotate.mouseupWindow(G),this.mousePitch&&this.mousePitch.mouseupWindow(G),this.offTemp()},zs.prototype.touchstart=function(G){1!==G.targetTouches.length?this.reset():(this._startPos=this._lastPos=C.touchPos(this.element,G.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return G.preventDefault()}},this._startPos))},zs.prototype.touchmove=function(G){1!==G.targetTouches.length?this.reset():(this._lastPos=C.touchPos(this.element,G.targetTouches)[0],this.move({preventDefault:function(){return G.preventDefault()}},this._lastPos))},zs.prototype.touchend=function(G){0===G.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},zs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var mf={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Lf(le,G,he){var $=le.classList;for(var ve in mf)$.remove("mapboxgl-"+he+"-anchor-"+ve);$.add("mapboxgl-"+he+"-anchor-"+G)}var wu,tf=function(le){function G(he,$){var ve=this;if(le.call(this),(he instanceof o.window.HTMLElement||$)&&(he=o.extend({element:he},$)),o.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=he&&he.anchor||"center",this._color=he&&he.color||"#3FB1CE",this._draggable=he&&he.draggable||!1,this._state="inactive",this._rotation=he&&he.rotation||0,this._rotationAlignment=he&&he.rotationAlignment||"auto",this._pitchAlignment=he&&he.pitchAlignment&&"auto"!==he.pitchAlignment?he.pitchAlignment:this._rotationAlignment,he&&he.element)this._element=he.element,this._offset=o.Point.convert(he&&he.offset||[0,0]);else{this._defaultMarker=!0,this._element=C.create("div"),this._element.setAttribute("aria-label","Map marker");var Le=C.createNS("http://www.w3.org/2000/svg","svg");Le.setAttributeNS(null,"display","block"),Le.setAttributeNS(null,"height","41px"),Le.setAttributeNS(null,"width","27px"),Le.setAttributeNS(null,"viewBox","0 0 27 41");var Ze=C.createNS("http://www.w3.org/2000/svg","g");Ze.setAttributeNS(null,"stroke","none"),Ze.setAttributeNS(null,"stroke-width","1"),Ze.setAttributeNS(null,"fill","none"),Ze.setAttributeNS(null,"fill-rule","evenodd");var st=C.createNS("http://www.w3.org/2000/svg","g");st.setAttributeNS(null,"fill-rule","nonzero");var wt=C.createNS("http://www.w3.org/2000/svg","g");wt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),wt.setAttributeNS(null,"fill","#000000");for(var nr=0,yr=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];nr<yr.length;nr+=1){var Cr=yr[nr],Br=C.createNS("http://www.w3.org/2000/svg","ellipse");Br.setAttributeNS(null,"opacity","0.04"),Br.setAttributeNS(null,"cx","10.5"),Br.setAttributeNS(null,"cy","5.80029008"),Br.setAttributeNS(null,"rx",Cr.rx),Br.setAttributeNS(null,"ry",Cr.ry),wt.appendChild(Br)}var $r=C.createNS("http://www.w3.org/2000/svg","g");$r.setAttributeNS(null,"fill",this._color);var qr=C.createNS("http://www.w3.org/2000/svg","path");qr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),$r.appendChild(qr);var jr=C.createNS("http://www.w3.org/2000/svg","g");jr.setAttributeNS(null,"opacity","0.25"),jr.setAttributeNS(null,"fill","#000000");var nn=C.createNS("http://www.w3.org/2000/svg","path");nn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),jr.appendChild(nn);var wn=C.createNS("http://www.w3.org/2000/svg","g");wn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),wn.setAttributeNS(null,"fill","#FFFFFF");var _n=C.createNS("http://www.w3.org/2000/svg","g");_n.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Un=C.createNS("http://www.w3.org/2000/svg","circle");Un.setAttributeNS(null,"fill","#000000"),Un.setAttributeNS(null,"opacity","0.25"),Un.setAttributeNS(null,"cx","5.5"),Un.setAttributeNS(null,"cy","5.5"),Un.setAttributeNS(null,"r","5.4999962");var $n=C.createNS("http://www.w3.org/2000/svg","circle");$n.setAttributeNS(null,"fill","#FFFFFF"),$n.setAttributeNS(null,"cx","5.5"),$n.setAttributeNS(null,"cy","5.5"),$n.setAttributeNS(null,"r","5.4999962"),_n.appendChild(Un),_n.appendChild($n),st.appendChild(wt),st.appendChild($r),st.appendChild(jr),st.appendChild(wn),st.appendChild(_n),Le.appendChild(st),this._element.appendChild(Le),this._offset=o.Point.convert(he&&he.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(ta){ta.preventDefault()}),this._element.addEventListener("mousedown",function(ta){ta.preventDefault()}),this._element.addEventListener("focus",function(){var ta=ve._map.getContainer();ta.scrollTop=0,ta.scrollLeft=0}),Lf(this._element,this._anchor,"marker"),this._popup=null}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.addTo=function($){return this.remove(),this._map=$,$.getCanvasContainer().appendChild(this._element),$.on("move",this._update),$.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},G.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),C.remove(this._element),this._popup&&this._popup.remove(),this},G.prototype.getLngLat=function(){return this._lngLat},G.prototype.setLngLat=function($){return this._lngLat=o.LngLat.convert($),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},G.prototype.getElement=function(){return this._element},G.prototype.setPopup=function($){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),$){if(!("offset"in $.options)){var ve=38.1,Le=13.5,Ze=Math.sqrt(Math.pow(Le,2)/2);$.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ve],"bottom-left":[Ze,-1*(24.6+Ze)],"bottom-right":[-Ze,-1*(24.6+Ze)],left:[Le,-24.6],right:[-Le,-24.6]}:this._offset}this._popup=$,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},G.prototype._onKeyPress=function($){var ve=$.code,Le=$.charCode||$.keyCode;("Space"===ve||"Enter"===ve||32===Le||13===Le)&&this.togglePopup()},G.prototype._onMapClick=function($){var ve=$.originalEvent.target,Le=this._element;this._popup&&(ve===Le||Le.contains(ve))&&this.togglePopup()},G.prototype.getPopup=function(){return this._popup},G.prototype.togglePopup=function(){var $=this._popup;return $?($.isOpen()?$.remove():$.addTo(this._map),this):this},G.prototype._update=function($){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=ou(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ve="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?ve="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(ve="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Le="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?Le="rotateX(0deg)":"map"===this._pitchAlignment&&(Le="rotateX("+this._map.getPitch()+"deg)"),(!$||"moveend"===$.type)&&(this._pos=this._pos.round()),C.setTransform(this._element,mf[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Le+" "+ve)}},G.prototype.getOffset=function(){return this._offset},G.prototype.setOffset=function($){return this._offset=o.Point.convert($),this._update(),this},G.prototype._onMove=function($){this._pos=$.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new o.Event("dragstart"))),this.fire(new o.Event("drag"))},G.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new o.Event("dragend")),this._state="inactive"},G.prototype._addDragHandler=function($){this._element.contains($.originalEvent.target)&&($.preventDefault(),this._positionDelta=$.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},G.prototype.setDraggable=function($){return this._draggable=!!$,this._map&&($?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},G.prototype.isDraggable=function(){return this._draggable},G.prototype.setRotation=function($){return this._rotation=$||0,this._update(),this},G.prototype.getRotation=function(){return this._rotation},G.prototype.setRotationAlignment=function($){return this._rotationAlignment=$||"auto",this._update(),this},G.prototype.getRotationAlignment=function(){return this._rotationAlignment},G.prototype.setPitchAlignment=function($){return this._pitchAlignment=$&&"auto"!==$?$:this._rotationAlignment,this._update(),this},G.prototype.getPitchAlignment=function(){return this._pitchAlignment},G}(o.Evented),ec={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};var rf=0,Tu=!1,tc=function(le){function G(he){le.call(this),this.options=o.extend({},ec,he),o.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.onAdd=function($){return this._map=$,this._container=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),function xf(le){void 0!==wu?le(wu):void 0!==o.window.navigator.permissions?o.window.navigator.permissions.query({name:"geolocation"}).then(function(G){le(wu="denied"!==G.state)}):le(wu=!!o.window.navigator.geolocation)}(this._setupUI),this._container},G.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),C.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,rf=0,Tu=!1},G.prototype._isOutOfMapMaxBounds=function($){var ve=this._map.getMaxBounds(),Le=$.coords;return ve&&(Le.longitude<ve.getWest()||Le.longitude>ve.getEast()||Le.latitude<ve.getSouth()||Le.latitude>ve.getNorth())},G.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},G.prototype._onSuccess=function($){if(this._map){if(this._isOutOfMapMaxBounds($))return this._setErrorState(),this.fire(new o.Event("outofmaxbounds",$)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=$,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker($),(!this.options.trackUserLocation||"ACTIVE_LOCK"===this._watchState)&&this._updateCamera($),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("geolocate",$)),this._finish()}},G.prototype._updateCamera=function($){var ve=new o.LngLat($.coords.longitude,$.coords.latitude),Le=$.coords.accuracy,Ze=this._map.getBearing(),st=o.extend({bearing:Ze},this.options.fitBoundsOptions);this._map.fitBounds(ve.toBounds(Le),st,{geolocateSource:!0})},G.prototype._updateMarker=function($){if($){var ve=new o.LngLat($.coords.longitude,$.coords.latitude);this._accuracyCircleMarker.setLngLat(ve).addTo(this._map),this._userLocationDotMarker.setLngLat(ve).addTo(this._map),this._accuracy=$.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},G.prototype._updateCircleRadius=function(){var $=this._map._container.clientHeight/2,ve=this._map.unproject([0,$]),Le=this._map.unproject([1,$]),Ze=ve.distanceTo(Le),st=Math.ceil(2*this._accuracy/Ze);this._circleElement.style.width=st+"px",this._circleElement.style.height=st+"px"},G.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},G.prototype._onError=function($){if(this._map){if(this.options.trackUserLocation)if(1===$.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ve=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ve,this._geolocateButton.setAttribute("aria-label",ve),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===$.code&&Tu)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("error",$)),this._finish()}},G.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},G.prototype._setupUI=function($){var ve=this;if(this._container.addEventListener("contextmenu",function(st){return st.preventDefault()}),this._geolocateButton=C.create("button","mapboxgl-ctrl-geolocate",this._container),C.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===$){o.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Le=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Le,this._geolocateButton.setAttribute("aria-label",Le)}else{var Ze=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ze,this._geolocateButton.setAttribute("aria-label",Ze)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=C.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new tf(this._dotElement),this._circleElement=C.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new tf({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(st){!st.geolocateSource&&"ACTIVE_LOCK"===ve._watchState&&(!st.originalEvent||"resize"!==st.originalEvent.type)&&(ve._watchState="BACKGROUND",ve._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ve._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ve.fire(new o.Event("trackuserlocationend")))})},G.prototype.trigger=function(){if(!this._setup)return o.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":rf--,Tu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new o.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var $;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++rf>1?($={maximumAge:6e5,timeout:0},Tu=!0):($=this.options.positionOptions,Tu=!1),this._geolocationWatchID=o.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,$)}}else o.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},G.prototype._clearWatch=function(){o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},G}(o.Evented),bc={maxWidth:100,unit:"metric"},Au=function(G){this.options=o.extend({},bc,G),o.bindAll(["_onMove","setUnit"],this)};function rc(le,G,he){var $=he&&he.maxWidth||100,ve=le._container.clientHeight/2,Le=le.unproject([0,ve]),Ze=le.unproject([$,ve]),st=Le.distanceTo(Ze);if(he&&"imperial"===he.unit){var wt=3.2808*st;wt>5280?nf(G,$,wt/5280,le._getUIString("ScaleControl.Miles")):nf(G,$,wt,le._getUIString("ScaleControl.Feet"))}else he&&"nautical"===he.unit?nf(G,$,st/1852,le._getUIString("ScaleControl.NauticalMiles")):st>=1e3?nf(G,$,st/1e3,le._getUIString("ScaleControl.Kilometers")):nf(G,$,st,le._getUIString("ScaleControl.Meters"))}function nf(le,G,he,$){var ve=function Tc(le){var G=Math.pow(10,(""+Math.floor(le)).length-1),he=le/G;return G*(he>=10?10:he>=5?5:he>=3?3:he>=2?2:he>=1?1:function wc(le){var G=Math.pow(10,Math.ceil(-Math.log(le)/Math.LN10));return Math.round(le*G)/G}(he))}(he);le.style.width=G*(ve/he)+"px",le.innerHTML=ve+"&nbsp;"+$}Au.prototype.getDefaultPosition=function(){return"bottom-left"},Au.prototype._onMove=function(){rc(this._map,this._container,this.options)},Au.prototype.onAdd=function(G){return this._map=G,this._container=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",G.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Au.prototype.onRemove=function(){C.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Au.prototype.setUnit=function(G){this.options.unit=G,rc(this._map,this._container,this.options)};var Pl=function(G){this._fullscreen=!1,G&&G.container&&(G.container instanceof o.window.HTMLElement?this._container=G.container:o.warnOnce("Full screen control 'container' must be a DOM element.")),o.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.window.document&&(this._fullscreenchange="MSFullscreenChange")};Pl.prototype.onAdd=function(G){return this._map=G,this._container||(this._container=this._map.getContainer()),this._controlContainer=C.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",o.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Pl.prototype.onRemove=function(){C.remove(this._controlContainer),this._map=null,o.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Pl.prototype._checkFullscreenSupport=function(){return!!(o.window.document.fullscreenEnabled||o.window.document.mozFullScreenEnabled||o.window.document.msFullscreenEnabled||o.window.document.webkitFullscreenEnabled)},Pl.prototype._setupUI=function(){var G=this._fullscreenButton=C.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);C.create("span","mapboxgl-ctrl-icon",G).setAttribute("aria-hidden",!0),G.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Pl.prototype._updateTitle=function(){var G=this._getTitle();this._fullscreenButton.setAttribute("aria-label",G),this._fullscreenButton.title=G},Pl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Pl.prototype._isFullscreen=function(){return this._fullscreen},Pl.prototype._changeIcon=function(){(o.window.document.fullscreenElement||o.window.document.mozFullScreenElement||o.window.document.webkitFullscreenElement||o.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Pl.prototype._onClickFullscreen=function(){this._isFullscreen()?o.window.document.exitFullscreen?o.window.document.exitFullscreen():o.window.document.mozCancelFullScreen?o.window.document.mozCancelFullScreen():o.window.document.msExitFullscreen?o.window.document.msExitFullscreen():o.window.document.webkitCancelFullScreen&&o.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Ac={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Mc=function(le){function G(he){le.call(this),this.options=o.extend(Object.create(Ac),he),o.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return le&&(G.__proto__=le),(G.prototype=Object.create(le&&le.prototype)).constructor=G,G.prototype.addTo=function($){return this._map&&this.remove(),this._map=$,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new o.Event("open")),this},G.prototype.isOpen=function(){return!!this._map},G.prototype.remove=function(){return this._content&&C.remove(this._content),this._container&&(C.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new o.Event("close")),this},G.prototype.getLngLat=function(){return this._lngLat},G.prototype.setLngLat=function($){return this._lngLat=o.LngLat.convert($),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},G.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},G.prototype.getElement=function(){return this._container},G.prototype.setText=function($){return this.setDOMContent(o.window.document.createTextNode($))},G.prototype.setHTML=function($){var Ze,ve=o.window.document.createDocumentFragment(),Le=o.window.document.createElement("body");for(Le.innerHTML=$;Ze=Le.firstChild;)ve.appendChild(Ze);return this.setDOMContent(ve)},G.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},G.prototype.setMaxWidth=function($){return this.options.maxWidth=$,this._update(),this},G.prototype.setDOMContent=function($){return this._createContent(),this._content.appendChild($),this._update(),this},G.prototype.addClassName=function($){this._container&&this._container.classList.add($)},G.prototype.removeClassName=function($){this._container&&this._container.classList.remove($)},G.prototype.toggleClassName=function($){if(this._container)return this._container.classList.toggle($)},G.prototype._createContent=function(){this._content&&C.remove(this._content),this._content=C.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=C.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},G.prototype._onMouseUp=function($){this._update($.point)},G.prototype._onMouseMove=function($){this._update($.point)},G.prototype._onDrag=function($){this._update($.point)},G.prototype._update=function($){var ve=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=C.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=C.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Br){return ve._container.classList.add(Br)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ou(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||$)){var Ze=this._pos=this._trackPointer&&$?$:this._map.project(this._lngLat),st=this.options.anchor,wt=nc(this.options.offset);if(!st){var yr,Wt=this._container.offsetWidth,nr=this._container.offsetHeight;yr=Ze.y+wt.bottom.y<nr?["top"]:Ze.y>this._map.transform.height-nr?["bottom"]:[],Ze.x<Wt/2?yr.push("left"):Ze.x>this._map.transform.width-Wt/2&&yr.push("right"),st=0===yr.length?"bottom":yr.join("-")}var Cr=Ze.add(wt[st]).round();C.setTransform(this._container,mf[st]+" translate("+Cr.x+"px,"+Cr.y+"px)"),Lf(this._container,st,"popup")}},G.prototype._onClose=function(){this.remove()},G}(o.Evented);function nc(le){if(le){if("number"==typeof le){var G=Math.round(Math.sqrt(.5*Math.pow(le,2)));return{center:new o.Point(0,0),top:new o.Point(0,le),"top-left":new o.Point(G,G),"top-right":new o.Point(-G,G),bottom:new o.Point(0,-le),"bottom-left":new o.Point(G,-G),"bottom-right":new o.Point(-G,-G),left:new o.Point(le,0),right:new o.Point(-le,0)}}if(le instanceof o.Point||Array.isArray(le)){var he=o.Point.convert(le);return{center:he,top:he,"top-left":he,"top-right":he,bottom:he,"bottom-left":he,"bottom-right":he,left:he,right:he}}return{center:o.Point.convert(le.center||[0,0]),top:o.Point.convert(le.top||[0,0]),"top-left":o.Point.convert(le["top-left"]||[0,0]),"top-right":o.Point.convert(le["top-right"]||[0,0]),bottom:o.Point.convert(le.bottom||[0,0]),"bottom-left":o.Point.convert(le["bottom-left"]||[0,0]),"bottom-right":o.Point.convert(le["bottom-right"]||[0,0]),left:o.Point.convert(le.left||[0,0]),right:o.Point.convert(le.right||[0,0])}}return nc(new o.Point(0,0))}var Sc={version:o.version,supported:P,setRTLTextPlugin:o.setRTLTextPlugin,getRTLTextPluginStatus:o.getRTLTextPluginStatus,Map:qf,NavigationControl:iu,GeolocateControl:tc,AttributionControl:Cl,ScaleControl:Au,FullscreenControl:Pl,Popup:Mc,Marker:tf,Style:eo,LngLat:o.LngLat,LngLatBounds:o.LngLatBounds,Point:o.Point,MercatorCoordinate:o.MercatorCoordinate,Evented:o.Evented,config:o.config,prewarm:function _t(){Rt().acquire(lr)},clearPrewarmedResources:function Kt(){var le=Ve;le&&(le.isPreloaded()&&1===le.numActive()?(le.release(lr),Ve=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return o.config.ACCESS_TOKEN},set accessToken(le){o.config.ACCESS_TOKEN=le},get baseApiUrl(){return o.config.API_URL},set baseApiUrl(le){o.config.API_URL=le},get workerCount(){return br.workerCount},set workerCount(le){br.workerCount=le},get maxParallelImageRequests(){return o.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(le){o.config.MAX_PARALLEL_IMAGE_REQUESTS=le},clearStorage:function(G){o.clearTileCache(G)},workerUrl:""};return Sc}),T}()},27084:function(te){"use strict";te.exports=Math.log2||function(Y){return Math.log(Y)*Math.LOG2E}},16825:function(te,Y,e){"use strict";te.exports=function D(o,P){P||(P=o,o=window);var C=0,h=0,y=0,t={shift:!1,alt:!1,control:!1,meta:!1},r=!1;function l(A){var x=!1;return"altKey"in A&&(x=x||A.altKey!==t.alt,t.alt=!!A.altKey),"shiftKey"in A&&(x=x||A.shiftKey!==t.shift,t.shift=!!A.shiftKey),"ctrlKey"in A&&(x=x||A.ctrlKey!==t.control,t.control=!!A.ctrlKey),"metaKey"in A&&(x=x||A.metaKey!==t.meta,t.meta=!!A.metaKey),x}function i(A,x){var E=T.x(x),g=T.y(x);"buttons"in x&&(A=0|x.buttons),(A!==C||E!==h||g!==y||l(x))&&(C=0|A,h=E||0,y=g||0,P&&P(C,h,y,t))}function u(A){i(0,A)}function f(){(C||h||y||t.shift||t.alt||t.meta||t.control)&&(h=y=0,C=0,t.shift=t.alt=t.control=t.meta=!1,P&&P(0,0,0,t))}function c(A){l(A)&&P&&P(C,h,y,t)}function m(A){0===T.buttons(A)?i(0,A):i(C,A)}function a(A){i(C|T.buttons(A),A)}function b(A){i(C&~T.buttons(A),A)}function p(){r||(r=!0,o.addEventListener("mousemove",m),o.addEventListener("mousedown",a),o.addEventListener("mouseup",b),o.addEventListener("mouseleave",u),o.addEventListener("mouseenter",u),o.addEventListener("mouseout",u),o.addEventListener("mouseover",u),o.addEventListener("blur",f),o.addEventListener("keyup",c),o.addEventListener("keydown",c),o.addEventListener("keypress",c),o!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",c),window.addEventListener("keydown",c),window.addEventListener("keypress",c)))}p();var v={element:o};return Object.defineProperties(v,{enabled:{get:function(){return r},set:function(A){A?p():function s(){r&&(r=!1,o.removeEventListener("mousemove",m),o.removeEventListener("mousedown",a),o.removeEventListener("mouseup",b),o.removeEventListener("mouseleave",u),o.removeEventListener("mouseenter",u),o.removeEventListener("mouseout",u),o.removeEventListener("mouseover",u),o.removeEventListener("blur",f),o.removeEventListener("keyup",c),o.removeEventListener("keydown",c),o.removeEventListener("keypress",c),o!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",c),window.removeEventListener("keydown",c),window.removeEventListener("keypress",c)))}()},enumerable:!0},buttons:{get:function(){return C},enumerable:!0},x:{get:function(){return h},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return t},enumerable:!0}}),v};var T=e(74311)},48956:function(te){var Y={left:0,top:0};te.exports=function e(D,o,P){o=o||D.currentTarget||D.srcElement,Array.isArray(P)||(P=[0,0]);var C=D.clientX||0,h=D.clientY||0,y=function T(D){return D===window||D===document||D===document.body?Y:D.getBoundingClientRect()}(o);return P[0]=C-y.left,P[1]=h-y.top,P}},74311:function(te,Y){"use strict";function T(P){return P.target||P.srcElement||window}Y.buttons=function e(P){if("object"==typeof P){if("buttons"in P)return P.buttons;if("which"in P){if(2===(C=P.which))return 4;if(3===C)return 2;if(C>0)return 1<<C-1}else if("button"in P){var C;if(1===(C=P.button))return 4;if(2===C)return 2;if(C>=0)return 1<<C}}return 0},Y.element=T,Y.x=function D(P){if("object"==typeof P){if("offsetX"in P)return P.offsetX;var h=T(P).getBoundingClientRect();return P.clientX-h.left}return 0},Y.y=function o(P){if("object"==typeof P){if("offsetY"in P)return P.offsetY;var h=T(P).getBoundingClientRect();return P.clientY-h.top}return 0}},1195:function(te,Y,e){"use strict";var T=e(75686);te.exports=function D(o,P,C){"function"==typeof o&&(C=!!P,P=o,o=window);var h=T("ex",o),y=function(t){C&&t.preventDefault();var r=t.deltaX||0,l=t.deltaY||0,i=t.deltaZ||0,f=1;switch(t.deltaMode){case 1:f=h;break;case 2:f=window.innerHeight}if(l*=f,i*=f,(r*=f)||l||i)return P(r,l,i,t)};return o.addEventListener("wheel",y),y}},7417:function(te,Y,e){var T,o,P;(P=typeof e.g<"u"?e.g:this)[o="Promise"]=P[o]||function(){"use strict";var o,P,C,h=Object.prototype.toString,y=typeof setImmediate<"u"?function(v){return setImmediate(v)}:setTimeout;try{Object.defineProperty({},"x",{}),o=function(v,A,x,E){return Object.defineProperty(v,A,{value:x,writable:!0,configurable:!1!==E})}}catch{o=function(A,x,E){return A[x]=E,A}}function t(s,v){C.add(s,v),P||(P=y(C.drain))}function r(s){var v,A=typeof s;return null!=s&&("object"==A||"function"==A)&&(v=s.then),"function"==typeof v&&v}function l(){for(var s=0;s<this.chain.length;s++)i(this,1===this.state?this.chain[s].success:this.chain[s].failure,this.chain[s]);this.chain.length=0}function i(s,v,A){var x,E;try{!1===v?A.reject(s.msg):(x=!0===v?s.msg:v.call(void 0,s.msg))===A.promise?A.reject(TypeError("Promise-chain cycle")):(E=r(x))?E.call(x,A.resolve,A.reject):A.resolve(x)}catch(g){A.reject(g)}}function u(s){var v,A=this;if(!A.triggered){A.triggered=!0,A.def&&(A=A.def);try{(v=r(s))?t(function(){var x=new m(A);try{v.call(s,function(){u.apply(x,arguments)},function(){f.apply(x,arguments)})}catch(E){f.call(x,E)}}):(A.msg=s,A.state=1,A.chain.length>0&&t(l,A))}catch(x){f.call(new m(A),x)}}}function f(s){var v=this;v.triggered||(v.triggered=!0,v.def&&(v=v.def),v.msg=s,v.state=2,v.chain.length>0&&t(l,v))}function c(s,v,A,x){for(var E=0;E<v.length;E++)!function(M){s.resolve(v[M]).then(function(n){A(M,n)},x)}(E)}function m(s){this.def=s,this.triggered=!1}function a(s){this.promise=s,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function b(s){if("function"!=typeof s)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var v=new a(this);this.then=function(x,E){var g={success:"function"!=typeof x||x,failure:"function"==typeof E&&E};return g.promise=new this.constructor(function(w,n){if("function"!=typeof w||"function"!=typeof n)throw TypeError("Not a function");g.resolve=w,g.reject=n}),v.chain.push(g),0!==v.state&&t(l,v),g.promise},this.catch=function(x){return this.then(void 0,x)};try{s.call(void 0,function(x){u.call(v,x)},function(x){f.call(v,x)})}catch(A){f.call(v,A)}}C=function(){var v,A,x;function E(g,M){this.fn=g,this.self=M,this.next=void 0}return{add:function(M,w){x=new E(M,w),A?A.next=x:v=x,A=x,x=void 0},drain:function(){var M=v;for(v=A=P=void 0;M;)M.fn.call(M.self),M=M.next}}}();var p=o({},"constructor",b,!1);return b.prototype=p,o(p,"__NPO__",0,!1),o(b,"resolve",function(v){return v&&"object"==typeof v&&1===v.__NPO__?v:new this(function(E,g){if("function"!=typeof E||"function"!=typeof g)throw TypeError("Not a function");E(v)})}),o(b,"reject",function(v){return new this(function(x,E){if("function"!=typeof x||"function"!=typeof E)throw TypeError("Not a function");E(v)})}),o(b,"all",function(v){var A=this;return"[object Array]"!=h.call(v)?A.reject(TypeError("Not an array")):0===v.length?A.resolve([]):new A(function(E,g){if("function"!=typeof E||"function"!=typeof g)throw TypeError("Not a function");var M=v.length,w=Array(M),n=0;c(A,v,function(d,I){w[d]=I,++n===M&&E(w)},g)})}),o(b,"race",function(v){var A=this;return"[object Array]"!=h.call(v)?A.reject(TypeError("Not an array")):new A(function(E,g){if("function"!=typeof E||"function"!=typeof g)throw TypeError("Not a function");c(A,v,function(w,n){E(n)},g)})}),b}(),te.exports?te.exports=P[o]:void 0!==(T=function(){return P[o]}.call(Y,e,Y,te))&&(te.exports=T)},18625:function(te){var Y=Math.PI,e=h(120);function D(y,t,r,l){return["C",y,t,r,l,r,l]}function o(y,t,r,l,i,u){return["C",y/3+.6666666666666666*r,t/3+.6666666666666666*l,i/3+.6666666666666666*r,u/3+.6666666666666666*l,i,u]}function P(y,t,r,l,i,u,f,c,m,a){if(a)w=a[0],n=a[1],g=a[2],M=a[3];else{var b=C(y,t,-i);t=b.y;var p=((y=b.x)-(c=(b=C(c,m,-i)).x))/2,s=(t-(m=b.y))/2,v=p*p/(r*r)+s*s/(l*l);v>1&&(r*=v=Math.sqrt(v),l*=v);var A=r*r,x=l*l,E=(u==f?-1:1)*Math.sqrt(Math.abs((A*x-A*s*s-x*p*p)/(A*s*s+x*p*p)));E==1/0&&(E=1);var g=E*r*s/l+(y+c)/2,M=E*-l*p/r+(t+m)/2,w=Math.asin(((t-M)/l).toFixed(9)),n=Math.asin(((m-M)/l).toFixed(9));(w=y<g?Y-w:w)<0&&(w=2*Y+w),(n=c<g?Y-n:n)<0&&(n=2*Y+n),f&&w>n&&(w-=2*Y),!f&&n>w&&(n-=2*Y)}if(Math.abs(n-w)>e){var S=n,d=c,I=m;n=w+e*(f&&n>w?1:-1);var L=P(c=g+r*Math.cos(n),m=M+l*Math.sin(n),r,l,i,0,f,d,I,[n,S,g,M])}var B=Math.tan((n-w)/4),k=4/3*r*B,z=4/3*l*B,O=[2*y-(y+k*Math.sin(w)),2*t-(t-z*Math.cos(w)),c+k*Math.sin(n),m-z*Math.cos(n),c,m];if(a)return O;L&&(O=O.concat(L));for(var F=0;F<O.length;){var N=C(O[F],O[F+1],i);O[F++]=N.x,O[F++]=N.y}return O}function C(y,t,r){return{x:y*Math.cos(r)-t*Math.sin(r),y:y*Math.sin(r)+t*Math.cos(r)}}function h(y){return y*(Y/180)}te.exports=function T(y){for(var t,r=[],l=0,i=0,u=0,f=0,c=null,m=null,a=0,b=0,p=0,s=y.length;p<s;p++){var v=y[p],A=v[0];switch(A){case"M":u=v[1],f=v[2];break;case"A":(v=P(a,b,v[1],v[2],h(v[3]),v[4],v[5],v[6],v[7])).unshift("C"),v.length>7&&(r.push(v.splice(0,7)),v.unshift("C"));break;case"S":var x=a,E=b;("C"==t||"S"==t)&&(x+=x-l,E+=E-i),v=["C",x,E,v[1],v[2],v[3],v[4]];break;case"T":"Q"==t||"T"==t?(c=2*a-c,m=2*b-m):(c=a,m=b),v=o(a,b,c,m,v[1],v[2]);break;case"Q":c=v[1],m=v[2],v=o(a,b,v[1],v[2],v[3],v[4]);break;case"L":v=D(a,b,v[1],v[2]);break;case"H":v=D(a,b,v[1],b);break;case"V":v=D(a,b,a,v[1]);break;case"Z":v=D(a,b,u,f)}t=A,a=v[v.length-2],b=v[v.length-1],v.length>4?(l=v[v.length-4],i=v[v.length-3]):(l=a,i=b),r.push(v)}return r}},56131:function(te){"use strict";var Y=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;te.exports=function o(){try{if(!Object.assign)return!1;var P=new String("abc");if(P[5]="de","5"===Object.getOwnPropertyNames(P)[0])return!1;for(var C={},h=0;h<10;h++)C["_"+String.fromCharCode(h)]=h;if("0123456789"!==Object.getOwnPropertyNames(C).map(function(r){return C[r]}).join(""))return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},t)).join("")}catch{return!1}}()?Object.assign:function(P,C){for(var h,t,y=function D(P){if(null==P)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(P)}(P),r=1;r<arguments.length;r++){for(var l in h=Object(arguments[r]))e.call(h,l)&&(y[l]=h[l]);if(Y){t=Y(h);for(var i=0;i<t.length;i++)T.call(h,t[i])&&(y[t[i]]=h[t[i]])}}return y}},65848:function(te){"use strict";var Y=function(e){return e!=e};te.exports=function(T,D){return 0===T&&0===D?1/T==1/D:!!(T===D||Y(T)&&Y(D))}},64003:function(te,Y,e){"use strict";var T=e(17045),D=e(68222),o=e(65848),P=e(27015),C=e(55572),h=D(P(),Object);T(h,{getPolyfill:P,implementation:o,shim:C}),te.exports=h},27015:function(te,Y,e){"use strict";var T=e(65848);te.exports=function(){return"function"==typeof Object.is?Object.is:T}},55572:function(te,Y,e){"use strict";var T=e(27015),D=e(17045);te.exports=function(){var P=T();return D(Object,{is:P},{is:function(){return Object.is!==P}}),P}},99019:function(te,Y,e){"use strict";var T;if(!Object.keys){var D=Object.prototype.hasOwnProperty,o=Object.prototype.toString,P=e(64178),C=Object.prototype.propertyIsEnumerable,h=!C.call({toString:null},"toString"),y=C.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(f){var c=f.constructor;return c&&c.prototype===f},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},i=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!l["$"+f]&&D.call(window,f)&&null!==window[f]&&"object"==typeof window[f])try{r(window[f])}catch{return!0}}catch{return!0}return!1}();T=function(c){var m=null!==c&&"object"==typeof c,a="[object Function]"===o.call(c),b=P(c),p=m&&"[object String]"===o.call(c),s=[];if(!m&&!a&&!b)throw new TypeError("Object.keys called on a non-object");var v=y&&a;if(p&&c.length>0&&!D.call(c,0))for(var A=0;A<c.length;++A)s.push(String(A));if(b&&c.length>0)for(var x=0;x<c.length;++x)s.push(String(x));else for(var E in c)(!v||"prototype"!==E)&&D.call(c,E)&&s.push(String(E));if(h)for(var g=function(f){if(typeof window>"u"||!i)return r(f);try{return r(f)}catch{return!1}}(c),M=0;M<t.length;++M)(!g||"constructor"!==t[M])&&D.call(c,t[M])&&s.push(t[M]);return s}}te.exports=T},8709:function(te,Y,e){"use strict";var T=Array.prototype.slice,D=e(64178),o=Object.keys,P=o?function(y){return o(y)}:e(99019),C=Object.keys;P.shim=function(){if(Object.keys){var y=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);y||(Object.keys=function(r){return D(r)?C(T.call(r)):C(r)})}else Object.keys=P;return Object.keys||P},te.exports=P},64178:function(te){"use strict";var Y=Object.prototype.toString;te.exports=function(T){var D=Y.call(T),o="[object Arguments]"===D;return o||(o="[object Array]"!==D&&null!==T&&"object"==typeof T&&"number"==typeof T.length&&T.length>=0&&"[object Function]"===Y.call(T.callee)),o}},88641:function(te){"use strict";function Y(D,o){if("string"!=typeof D)return[D];var P=[D];"string"==typeof o||Array.isArray(o)?o={brackets:o}:o||(o={});var C=o.brackets?Array.isArray(o.brackets)?o.brackets:[o.brackets]:["{}","[]","()"],h=o.escape||"___",y=!!o.flat;C.forEach(function(l){var i=new RegExp(["\\",l[0],"[^\\",l[0],"\\",l[1],"]*\\",l[1]].join("")),u=[];function f(c,m,a){var b=P.push(c.slice(l[0].length,-l[1].length))-1;return u.push(b),h+b+h}P.forEach(function(c,m){for(var a,b=0;c!=a;)if(a=c,c=c.replace(i,f),b++>1e4)throw Error("References have circular dependency. Please, check them.");P[m]=c}),u=u.reverse(),P=P.map(function(c){return u.forEach(function(m){c=c.replace(new RegExp("(\\"+h+m+"\\"+h+")","g"),l[0]+"$1"+l[1])}),c})});var t=new RegExp("\\"+h+"([0-9]+)\\"+h);return y?P:function r(l,i,u){for(var c,f=[],m=0;c=t.exec(l);){if(m++>1e4)throw Error("Circular references in parenthesis");f.push(l.slice(0,c.index)),f.push(r(i[c[1]],i)),l=l.slice(c.index+c[0].length)}return f.push(l),f}(P[0],P)}function e(D,o){if(o&&o.flat){var h,P=o&&o.escape||"___",C=D[0];if(!C)return"";for(var y=new RegExp("\\"+P+"([0-9]+)\\"+P),t=0;C!=h;){if(t++>1e4)throw Error("Circular references in "+D);h=C,C=C.replace(y,r)}return C}return D.reduce(function l(i,u){return Array.isArray(u)&&(u=u.reduce(l,"")),i+u},"");function r(l,i){if(null==D[i])throw Error("Reference "+i+"is undefined");return D[i]}}function T(D,o){return Array.isArray(D)?e(D,o):Y(D,o)}T.parse=Y,T.stringify=e,te.exports=T},18863:function(te,Y,e){"use strict";var T=e(71299);te.exports=function D(o){var P;return arguments.length>1&&(o=arguments),"string"==typeof o?o=o.split(/\s/).map(parseFloat):"number"==typeof o&&(o=[o]),o.length&&"number"==typeof o[0]?P=1===o.length?{width:o[0],height:o[0],x:0,y:0}:2===o.length?{width:o[0],height:o[1],x:0,y:0}:{x:o[0],y:o[1],width:o[2]-o[0]||0,height:o[3]-o[1]||0}:o&&((P={x:(o=T(o,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:o.top||0}).width=null==o.width?o.right?o.right-P.x:0:o.width,P.height=null==o.height?o.bottom?o.bottom-P.y:0:o.height),P}},95616:function(te){te.exports=function T(P){var C=[];return P.replace(e,function(h,y,t){var r=y.toLowerCase();for(t=function o(P){var C=P.match(D);return C?C.map(Number):[]}(t),"m"==r&&t.length>2&&(C.push([y].concat(t.splice(0,2))),r="l",y="m"==y?"l":"L");;){if(t.length==Y[r])return t.unshift(y),C.push(t);if(t.length<Y[r])throw new Error("malformed path data");C.push([y].concat(t.splice(0,Y[r])))}}),C};var Y={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,D=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(te){te.exports=function(e,T){T||(T=[0,""]),e=String(e);var D=parseFloat(e,10);return T[0]=D,T[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",T}},9748:function(te,Y,e){var T=e(90386);(function(){var D,o,P,C,h,y;typeof performance<"u"&&null!==performance&&performance.now?te.exports=function(){return performance.now()}:typeof T<"u"&&null!==T&&T.hrtime?(te.exports=function(){return(D()-h)/1e6},o=T.hrtime,C=(D=function(){var t;return 1e9*(t=o())[0]+t[1]})(),y=1e9*T.uptime(),h=C-y):Date.now?(te.exports=function(){return Date.now()-P},P=Date.now()):(te.exports=function(){return(new Date).getTime()-P},P=(new Date).getTime())}).call(this)},71299:function(te){"use strict";te.exports=function(D,o,P){var h,y,C={};if("string"==typeof o&&(o=e(o)),Array.isArray(o)){var t={};for(y=0;y<o.length;y++)t[o[y]]=!0;o=t}for(h in o)o[h]=e(o[h]);var r={};for(h in o){var l=o[h];if(Array.isArray(l))for(y=0;y<l.length;y++){var i=l[y];if(P&&(r[i]=!0),i in D){if(C[h]=D[i],P)for(var u=y;u<l.length;u++)r[l[u]]=!0;break}}else h in D&&(o[h]&&(C[h]=D[h]),P&&(r[h]=!0))}if(P)for(h in D)r[h]||(C[h]=D[h]);return C};var Y={};function e(T){return Y[T]?Y[T]:("string"==typeof T&&(T=Y[T]=T.split(/\s*,\s*|\s+/)),T)}},38258:function(te){te.exports=function(e,T,D,o){var P=e[0],C=e[1],h=!1;void 0===D&&(D=0),void 0===o&&(o=T.length);for(var y=o-D,t=0,r=y-1;t<y;r=t++){var l=T[t+D][0],i=T[t+D][1],f=T[r+D][1];i>C!=f>C&&P<(T[r+D][0]-l)*(C-i)/(f-i)+l&&(h=!h)}return h}},52142:function(te,Y,e){var r,T=e(69444),D=e(29023),o=e(87263),P=e(11328),C=e(55968),h=e(10670),y=!1,t=D();function l(i,u,f){var c=r.segments(i),m=r.segments(u),b=f(r.combine(c,m));return r.polygon(b)}r={buildLog:function(i){return!0===i?y=T():!1===i&&(y=!1),!1!==y&&y.list},epsilon:function(i){return t.epsilon(i)},segments:function(i){var u=o(!0,t,y);return i.regions.forEach(u.addRegion),{segments:u.calculate(i.inverted),inverted:i.inverted}},combine:function(i,u){return{combined:o(!1,t,y).calculate(i.segments,i.inverted,u.segments,u.inverted),inverted1:i.inverted,inverted2:u.inverted}},selectUnion:function(i){return{segments:C.union(i.combined,y),inverted:i.inverted1||i.inverted2}},selectIntersect:function(i){return{segments:C.intersect(i.combined,y),inverted:i.inverted1&&i.inverted2}},selectDifference:function(i){return{segments:C.difference(i.combined,y),inverted:i.inverted1&&!i.inverted2}},selectDifferenceRev:function(i){return{segments:C.differenceRev(i.combined,y),inverted:!i.inverted1&&i.inverted2}},selectXor:function(i){return{segments:C.xor(i.combined,y),inverted:i.inverted1!==i.inverted2}},polygon:function(i){return{regions:P(i.segments,t,y),inverted:i.inverted}},polygonFromGeoJSON:function(i){return h.toPolygon(r,i)},polygonToGeoJSON:function(i){return h.fromPolygon(r,t,i)},union:function(i,u){return l(i,u,r.selectUnion)},intersect:function(i,u){return l(i,u,r.selectIntersect)},difference:function(i,u){return l(i,u,r.selectDifference)},differenceRev:function(i,u){return l(i,u,r.selectDifferenceRev)},xor:function(i,u){return l(i,u,r.selectXor)}},"object"==typeof window&&(window.PolyBool=r),te.exports=r},69444:function(te){te.exports=function Y(){var e,T=0,D=!1;function o(P,C){return e.list.push({type:P,data:C?JSON.parse(JSON.stringify(C)):void 0}),e}return e={list:[],segmentId:function(){return T++},checkIntersection:function(P,C){return o("check",{seg1:P,seg2:C})},segmentChop:function(P,C){return o("div_seg",{seg:P,pt:C}),o("chop",{seg:P,pt:C})},statusRemove:function(P){return o("pop_seg",{seg:P})},segmentUpdate:function(P){return o("seg_update",{seg:P})},segmentNew:function(P,C){return o("new_seg",{seg:P,primary:C})},segmentRemove:function(P){return o("rem_seg",{seg:P})},tempStatus:function(P,C,h){return o("temp_status",{seg:P,above:C,below:h})},rewind:function(P){return o("rewind",{seg:P})},status:function(P,C,h){return o("status",{seg:P,above:C,below:h})},vert:function(P){return P===D?e:(D=P,o("vert",{x:P}))},log:function(P){return"string"!=typeof P&&(P=JSON.stringify(P,!1,"  ")),o("log",{txt:P})},reset:function(){return o("reset")},selected:function(P){return o("selected",{segs:P})},chainStart:function(P){return o("chain_start",{seg:P})},chainRemoveHead:function(P,C){return o("chain_rem_head",{index:P,pt:C})},chainRemoveTail:function(P,C){return o("chain_rem_tail",{index:P,pt:C})},chainNew:function(P,C){return o("chain_new",{pt1:P,pt2:C})},chainMatch:function(P){return o("chain_match",{index:P})},chainClose:function(P){return o("chain_close",{index:P})},chainAddHead:function(P,C){return o("chain_add_head",{index:P,pt:C})},chainAddTail:function(P,C){return o("chain_add_tail",{index:P,pt:C})},chainConnect:function(P,C){return o("chain_con",{index1:P,index2:C})},chainReverse:function(P){return o("chain_rev",{index:P})},chainJoin:function(P,C){return o("chain_join",{index1:P,index2:C})},done:function(){return o("done")}}}},29023:function(te){te.exports=function Y(e){"number"!=typeof e&&(e=1e-10);var T={epsilon:function(D){return"number"==typeof D&&(e=D),e},pointAboveOrOnLine:function(D,o,P){var C=o[0],h=o[1];return(P[0]-C)*(D[1]-h)-(P[1]-h)*(D[0]-C)>=-e},pointBetween:function(D,o,P){var h=P[0]-o[0],t=P[1]-o[1],r=(D[0]-o[0])*h+(D[1]-o[1])*t;return!(r<e||r-(h*h+t*t)>-e)},pointsSameX:function(D,o){return Math.abs(D[0]-o[0])<e},pointsSameY:function(D,o){return Math.abs(D[1]-o[1])<e},pointsSame:function(D,o){return T.pointsSameX(D,o)&&T.pointsSameY(D,o)},pointsCompare:function(D,o){return T.pointsSameX(D,o)?T.pointsSameY(D,o)?0:D[1]<o[1]?-1:1:D[0]<o[0]?-1:1},pointsCollinear:function(D,o,P){return Math.abs((D[0]-o[0])*(o[1]-P[1])-(o[0]-P[0])*(D[1]-o[1]))<e},linesIntersect:function(D,o,P,C){var h=o[0]-D[0],y=o[1]-D[1],t=C[0]-P[0],r=C[1]-P[1],l=h*r-y*t;if(Math.abs(l)<e)return!1;var i=D[0]-P[0],u=D[1]-P[1],f=(t*u-r*i)/l,c=(h*u-y*i)/l,m={alongA:0,alongB:0,pt:[D[0]+f*h,D[1]+f*y]};return m.alongA=f<=-e?-2:f<e?-1:f-1<=-e?0:f-1<e?1:2,m.alongB=c<=-e?-2:c<e?-1:c-1<=-e?0:c-1<e?1:2,m},pointInsideRegion:function(D,o){for(var P=D[0],C=D[1],h=o[o.length-1][0],y=o[o.length-1][1],t=!1,r=0;r<o.length;r++){var l=o[r][0],i=o[r][1];i-C>e!=y-C>e&&(h-l)*(C-i)/(y-i)+l-P>e&&(t=!t),h=l,y=i}return t}};return T}},10670:function(te){te.exports={toPolygon:function(e,T){function D(C){if(C.length<=0)return e.segments({inverted:!1,regions:[]});function h(r){var l=r.slice(0,r.length-1);return e.segments({inverted:!1,regions:[l]})}for(var y=h(C[0]),t=1;t<C.length;t++)y=e.selectDifference(e.combine(y,h(C[t])));return y}if("Polygon"===T.type)return e.polygon(D(T.coordinates));if("MultiPolygon"===T.type){for(var o=e.segments({inverted:!1,regions:[]}),P=0;P<T.coordinates.length;P++)o=e.selectUnion(e.combine(o,D(T.coordinates[P])));return e.polygon(o)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,T,D){function o(f,c){return T.pointInsideRegion([.5*(f[0][0]+f[1][0]),.5*(f[0][1]+f[1][1])],c)}function P(f){return{region:f,children:[]}}D=e.polygon(e.segments(D));var C=P(null);function h(f,c){for(var m=0;m<f.children.length;m++)if(o(c,(a=f.children[m]).region))return void h(a,c);var b=P(c);for(m=0;m<f.children.length;m++){var a;o((a=f.children[m]).region,c)&&(b.children.push(a),f.children.splice(m,1),m--)}f.children.push(b)}for(var y=0;y<D.regions.length;y++){var t=D.regions[y];t.length<3||h(C,t)}function r(f,c){for(var m=0,a=f[f.length-1][0],b=f[f.length-1][1],p=[],s=0;s<f.length;s++){var v=f[s][0],A=f[s][1];p.push([v,A]),m+=A*a-v*b,a=v,b=A}return m<0!==c&&p.reverse(),p.push([p[0][0],p[0][1]]),p}var l=[];function i(f){var c=[r(f.region,!1)];l.push(c);for(var m=0;m<f.children.length;m++)c.push(u(f.children[m]))}function u(f){for(var c=0;c<f.children.length;c++)i(f.children[c]);return r(f.region,!0)}for(y=0;y<C.children.length;y++)i(C.children[y]);return l.length<=0?{type:"Polygon",coordinates:[]}:1==l.length?{type:"Polygon",coordinates:l[0]}:{type:"MultiPolygon",coordinates:l}}}},87263:function(te,Y,e){var T=e(26859);te.exports=function D(o,P,C){function h(b,p){return{id:C?C.segmentId():-1,start:b,end:p,myFill:{above:null,below:null},otherFill:null}}function y(b,p,s){return{id:C?C.segmentId():-1,start:b,end:p,myFill:{above:s.myFill.above,below:s.myFill.below},otherFill:null}}var t=T.create();function l(b,p){t.insertBefore(b,function(s){var v=function r(b,p,s,v,A,x){var E=P.pointsCompare(p,A);return 0!==E?E:P.pointsSame(s,x)?0:b!==v?b?1:-1:P.pointAboveOrOnLine(s,v?A:x,v?x:A)?1:-1}(b.isStart,b.pt,p,s.isStart,s.pt,s.other.pt);return v<0})}function f(b,p){var s=function i(b,p){var s=T.node({isStart:!0,pt:b.start,seg:b,primary:p,other:null,status:null});return l(s,b.end),s}(b,p);return function u(b,p,s){var v=T.node({isStart:!1,pt:p.end,seg:p,primary:s,other:b,status:null});b.other=v,l(v,b.pt)}(s,b,p),s}function m(b,p){var s=y(p,b.seg.end,b.seg);return function c(b,p){C&&C.segmentChop(b.seg,p),b.other.remove(),b.seg.end=p,b.other.pt=p,l(b.other,b.pt)}(b,p),f(s,b.primary)}function a(b,p){var s=T.create();function A(z){return s.findTransition(function(O){var F=function v(z,O){var F=z.seg.start,N=z.seg.end,H=O.seg.start,X=O.seg.end;return P.pointsCollinear(F,H,X)?P.pointsCollinear(N,H,X)||P.pointAboveOrOnLine(N,H,X)?1:-1:P.pointAboveOrOnLine(F,H,X)?1:-1}(z,O.ev);return F>0})}function x(z,O){var F=z.seg,N=O.seg,H=F.start,X=F.end,ne=N.start,ie=N.end;C&&C.checkIntersection(F,N);var ue=P.linesIntersect(H,X,ne,ie);if(!1===ue){if(!P.pointsCollinear(H,X,ne)||P.pointsSame(H,ie)||P.pointsSame(X,ne))return!1;var J=P.pointsSame(H,ne),j=P.pointsSame(X,ie);if(J&&j)return O;var W=!J&&P.pointBetween(H,ne,ie),V=!j&&P.pointBetween(X,ne,ie);if(J)return V?m(O,X):m(z,ie),O;W&&(j||(V?m(O,X):m(z,ie)),m(O,H))}else 0===ue.alongA&&(-1===ue.alongB?m(z,ne):0===ue.alongB?m(z,ue.pt):1===ue.alongB&&m(z,ie)),0===ue.alongB&&(-1===ue.alongA?m(O,H):0===ue.alongA?m(O,ue.pt):1===ue.alongA&&m(O,X));return!1}for(var E=[];!t.isEmpty();){var g=t.getHead();if(C&&C.vert(g.pt[0]),g.isStart){let z=function(){if(w){var O=x(g,w);if(O)return O}return!!n&&x(g,n)};C&&C.segmentNew(g.seg,g.primary);var M=A(g),w=M.before?M.before.ev:null,n=M.after?M.after.ev:null;C&&C.tempStatus(g.seg,!!w&&w.seg,!!n&&n.seg);var d,S=z();if(S)o?(d=null===g.seg.myFill.below||g.seg.myFill.above!==g.seg.myFill.below)&&(S.seg.myFill.above=!S.seg.myFill.above):S.seg.otherFill=g.seg.myFill,C&&C.segmentUpdate(S.seg),g.other.remove(),g.remove();if(t.getHead()!==g){C&&C.rewind(g.seg);continue}if(o)d=null===g.seg.myFill.below||g.seg.myFill.above!==g.seg.myFill.below,g.seg.myFill.below=n?n.seg.myFill.above:b,g.seg.myFill.above=d?!g.seg.myFill.below:g.seg.myFill.below;else if(null===g.seg.otherFill){var I;g.seg.otherFill={above:I=n?g.primary===n.primary?n.seg.otherFill.above:n.seg.myFill.above:g.primary?p:b,below:I}}C&&C.status(g.seg,!!w&&w.seg,!!n&&n.seg),g.other.status=M.insert(T.node({ev:g}))}else{var L=g.status;if(null===L)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(L.prev)&&s.exists(L.next)&&x(L.prev.ev,L.next.ev),C&&C.statusRemove(L.ev.seg),L.remove(),!g.primary){var B=g.seg.myFill;g.seg.myFill=g.seg.otherFill,g.seg.otherFill=B}E.push(g.seg)}t.getHead().remove()}return C&&C.done(),E}return o?{addRegion:function(b){for(var p,s=b[b.length-1],v=0;v<b.length;v++){var A=P.pointsCompare(p=s,s=b[v]);0!==A&&f(h(A<0?p:s,A<0?s:p),!0)}},calculate:function(b){return a(b,!1)}}:{calculate:function(b,p,s,v){return b.forEach(function(A){f(y(A.start,A.end,A),!0)}),s.forEach(function(A){f(y(A.start,A.end,A),!1)}),a(p,v)}}}},26859:function(te){te.exports={create:function(){var e={root:{root:!0,next:null},exists:function(T){return!(null===T||T===e.root)},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(T,D){for(var o=e.root,P=e.root.next;null!==P;){if(D(P))return T.prev=P.prev,T.next=P,P.prev.next=T,void(P.prev=T);o=P,P=P.next}o.next=T,T.prev=o,T.next=null},findTransition:function(T){for(var D=e.root,o=e.root.next;null!==o&&!T(o);)D=o,o=o.next;return{before:D===e.root?null:D,after:o,insert:function(P){return P.prev=D,P.next=o,D.next=P,null!==o&&(o.prev=P),P}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},11328:function(te){te.exports=function Y(e,T,D){var o=[],P=[];return e.forEach(function(C){var h=C.start,y=C.end;if(T.pointsSame(h,y))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{D&&D.chainStart(C);for(var t={index:0,matches_head:!1,matches_pt1:!1},r={index:0,matches_head:!1,matches_pt1:!1},l=t,u=0;u<o.length;u++){var c=(f=o[u])[0],a=f[f.length-1];if(T.pointsSame(c,h)){if(i(u,!0,!0))break}else if(T.pointsSame(c,y)){if(i(u,!0,!1))break}else if(T.pointsSame(a,h)){if(i(u,!1,!0))break}else if(T.pointsSame(a,y)&&i(u,!1,!1))break}if(l===t)return o.push([h,y]),void(D&&D.chainNew(h,y));if(l===r){D&&D.chainMatch(t.index);var p=t.index,s=t.matches_pt1?y:h,v=t.matches_head,f=o[p],A=v?f[0]:f[f.length-1],x=v?f[1]:f[f.length-2],E=v?f[f.length-1]:f[0],g=v?f[f.length-2]:f[1];return T.pointsCollinear(x,A,s)&&(v?(D&&D.chainRemoveHead(t.index,s),f.shift()):(D&&D.chainRemoveTail(t.index,s),f.pop()),A=x),T.pointsSame(E,s)?(o.splice(p,1),T.pointsCollinear(g,E,A)&&(v?(D&&D.chainRemoveTail(t.index,A),f.pop()):(D&&D.chainRemoveHead(t.index,A),f.shift())),D&&D.chainClose(t.index),void P.push(f)):void(v?(D&&D.chainAddHead(t.index,s),f.unshift(s)):(D&&D.chainAddTail(t.index,s),f.push(s)))}var n=t.index,S=r.index;D&&D.chainConnect(n,S);var d=o[n].length<o[S].length;t.matches_head?r.matches_head?d?(M(n),w(n,S)):(M(S),w(S,n)):w(S,n):r.matches_head?w(n,S):d?(M(n),w(S,n)):(M(S),w(n,S))}function i(I,L,B){return l.index=I,l.matches_head=L,l.matches_pt1=B,l===t?(l=r,!1):(l=null,!0)}function M(I){D&&D.chainReverse(I),o[I].reverse()}function w(I,L){var B=o[I],k=o[L],z=B[B.length-1],O=B[B.length-2],F=k[0],N=k[1];T.pointsCollinear(O,z,F)&&(D&&D.chainRemoveTail(I,z),B.pop(),z=O),T.pointsCollinear(z,F,N)&&(D&&D.chainRemoveHead(L,F),k.shift()),D&&D.chainJoin(I,L),o[I]=B.concat(k),o.splice(L,1)}}),P}},55968:function(te){function Y(T,D,o){var P=[];return T.forEach(function(C){var h=(C.myFill.above?8:0)+(C.myFill.below?4:0)+(C.otherFill&&C.otherFill.above?2:0)+(C.otherFill&&C.otherFill.below?1:0);0!==D[h]&&P.push({id:o?o.segmentId():-1,start:C.start,end:C.end,myFill:{above:1===D[h],below:2===D[h]},otherFill:null})}),o&&o.selected(P),P}te.exports={union:function(T,D){return Y(T,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],D)},intersect:function(T,D){return Y(T,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],D)},difference:function(T,D){return Y(T,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],D)},differenceRev:function(T,D){return Y(T,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],D)},xor:function(T,D){return Y(T,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],D)}}},14847:function(te,Y,e){"use strict";var D=e(21630).Transform,o=e(90715);function P(){D.call(this,{readableObjectMode:!0})}function C(h,y,t){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name=this.constructor.name,this.message=h,y&&(this.code=y),t&&(this.statusCode=t)}(P.prototype=Object.create(D.prototype)).constructor=P,o(P.prototype),Y.OF=function(h,y,t){for(var r=y,l=0;l<t.length;)if(h[r++]!==t[l++])return!1;return!0},Y.eG=function(h,y){var t=[],r=0;if(y&&"hex"===y)for(;r<h.length;)t.push(parseInt(h.slice(r,r+2),16)),r+=2;else for(;r<h.length;r++)t.push(255&h.charCodeAt(r));return t},Y.mP=function(h,y){return h[y]|h[y+1]<<8},Y.n8=function(h,y){return h[y+1]|h[y]<<8},Y.nm=function(h,y){return h[y]|h[y+1]<<8|h[y+2]<<16|16777216*h[y+3]},Y.Ag=function(h,y){return h[y+3]|h[y+2]<<8|h[y+1]<<16|16777216*h[y]},(C.prototype=Object.create(Error.prototype)).constructor=C},71371:function(te){"use strict";function Y(D,o){var P=new Error(D);return P.code=o,P}function e(D){try{return decodeURIComponent(escape(D))}catch{return D}}function T(D,o,P){this.input=D.subarray(o,P),this.start=o;var C=String.fromCharCode.apply(null,this.input.subarray(0,4));if("II*\0"!==C&&"MM\0*"!==C)throw Y("invalid TIFF signature","EBADDATA");this.big_endian="M"===C[0]}T.prototype.each=function(D){this.aborted=!1;var o=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:o}];this.ifds_to_read.length>0&&!this.aborted;){var P=this.ifds_to_read.shift();P.offset&&this.scan_ifd(P.id,P.offset,D)}},T.prototype.read_uint16=function(D){var o=this.input;if(D+2>o.length)throw Y("unexpected EOF","EBADDATA");return this.big_endian?256*o[D]+o[D+1]:o[D]+256*o[D+1]},T.prototype.read_uint32=function(D){var o=this.input;if(D+4>o.length)throw Y("unexpected EOF","EBADDATA");return this.big_endian?16777216*o[D]+65536*o[D+1]+256*o[D+2]+o[D+3]:o[D]+256*o[D+1]+65536*o[D+2]+16777216*o[D+3]},T.prototype.is_subifd_link=function(D,o){return 0===D&&34665===o||0===D&&34853===o||34665===D&&40965===o},T.prototype.exif_format_length=function(D){switch(D){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},T.prototype.exif_format_read=function(D,o){var P;switch(D){case 1:case 2:return this.input[o];case 6:return(P=this.input[o])|33554430*(128&P);case 3:return this.read_uint16(o);case 8:return(P=this.read_uint16(o))|131070*(32768&P);case 4:return this.read_uint32(o);case 9:return 0|this.read_uint32(o);default:return null}},T.prototype.scan_ifd=function(D,o,P){var C=this.read_uint16(o);o+=2;for(var h=0;h<C;h++){var y=this.read_uint16(o),t=this.read_uint16(o+2),r=this.read_uint32(o+4),l=this.exif_format_length(t),i=r*l,u=i<=4?o+8:this.read_uint32(o+8),f=!1;if(u+i>this.input.length)throw Y("unexpected EOF","EBADDATA");for(var c=[],m=u,a=0;a<r;a++,m+=l){var b=this.exif_format_read(t,m);if(null===b){c=null;break}c.push(b)}if(Array.isArray(c)&&2===t&&(c=e(String.fromCharCode.apply(null,c)))&&"\0"===c[c.length-1]&&(c=c.slice(0,-1)),this.is_subifd_link(D,y)&&Array.isArray(c)&&Number.isInteger(c[0])&&c[0]>0&&(this.ifds_to_read.push({id:y,offset:c[0]}),f=!0),!1===P({is_big_endian:this.big_endian,ifd:D,tag:y,format:t,count:r,entry_offset:o+this.start,data_length:i,data_offset:u+this.start,value:c,is_subifd_link:f}))return void(this.aborted=!0);o+=12}0===D&&this.ifds_to_read.push({id:1,offset:this.read_uint32(o)})},te.exports.ExifParser=T,te.exports.get_orientation=function(D){var o=0;try{return new T(D,0,D.length).each(function(P){if(0===P.ifd&&274===P.tag&&Array.isArray(P.value))return o=P.value[0],!1}),o}catch{return-1}}},76767:function(te,Y,e){"use strict";var T=e(14847).n8,D=e(14847).Ag;function o(i,u){if(i.length<4+u)return null;var f=D(i,u);return i.length<f+u||f<8?null:{boxtype:String.fromCharCode.apply(null,i.slice(u+4,u+8)),data:i.slice(u+8,u+f),end:u+f}}function P(i,u){for(var f=0;;){var c=o(i,f);if(!c)break;switch(c.boxtype){case"ispe":u.sizes.push({width:D(c.data,4),height:D(c.data,8)});break;case"irot":u.transforms.push({type:"irot",value:3&c.data[0]});break;case"imir":u.transforms.push({type:"imir",value:1&c.data[0]})}f=c.end}}function C(i,u,f){for(var c=0,m=0;m<f;m++)c=256*c+(i[u+m]||0);return c}function h(i,u){for(var f=i[4]>>4&15,c=15&i[4],m=i[5]>>4&15,a=T(i,6),b=8,p=0;p<a;p++){var s=T(i,b),v=T(i,b+=2),A=C(i,b+=2,m),x=T(i,b+=m);if(b+=2,0===v&&1===x){var E=C(i,b,f),g=C(i,b+f,c);u.item_loc[s]={length:g,offset:E+A}}b+=x*(f+c)}}function y(i,u){for(var f=T(i,4),c=6,m=0;m<f;m++){var a=o(i,c);if(!a)break;if("infe"===a.boxtype){for(var b=T(a.data,4),p="",s=8;s<a.data.length&&a.data[s];s++)p+=String.fromCharCode(a.data[s]);u.item_inf[p]=b}c=a.end}}function t(i,u){for(var f=0;;){var c=o(i,f);if(!c)break;"ipco"===c.boxtype&&P(c.data,u),f=c.end}}te.exports.unbox=o,te.exports.readSizeFromMeta=function(i){var u={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function r(i,u){for(var f=4;;){var c=o(i,f);if(!c)break;"iprp"===c.boxtype&&t(c.data,u),"iloc"===c.boxtype&&h(c.data,u),"iinf"===c.boxtype&&y(c.data,u),f=c.end}}(i,u),u.sizes.length){var f=function l(i){var u=i.reduce(function(m,a){return m.width>a.width||m.width===a.width&&m.height>a.height?m:a}),f=i.reduce(function(m,a){return m.height>a.height||m.height===a.height&&m.width>a.width?m:a});return u.width>f.height||u.width===f.height&&u.height>f.width?u:f}(u.sizes),c=1;u.transforms.forEach(function(a){var b={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},p={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if("imir"===a.type&&(c=0===a.value?p[c]:b[c=b[c=p[c]]]),"irot"===a.type)for(var s=0;s<a.value;s++)c=b[c]});var m=null;return u.item_inf.Exif&&(m=u.item_loc[u.item_inf.Exif]),{width:f.width,height:f.height,orientation:u.transforms.length?c:null,variants:u.sizes,exif_location:m}}},te.exports.getMimeType=function(i){var u=String.fromCharCode.apply(null,i.slice(0,4)),f={};f[u]=!0;for(var c=8;c<i.length;c+=4)f[String.fromCharCode.apply(null,i.slice(c,c+4))]=!0;if(f.mif1||f.msf1||f.miaf)return"avif"===u||"avis"===u||"avio"===u?{type:"avif",mime:"image/avif"}:"heic"===u||"heix"===u?{type:"heic",mime:"image/heic"}:"hevc"===u||"hevx"===u?{type:"heic",mime:"image/heic-sequence"}:f.avif||f.avis?{type:"avif",mime:"image/avif"}:f.heic||f.heix||f.hevc||f.hevx||f.heis?f.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(te,Y,e){"use strict";var T=e(14847).eG,D=e(14847).OF,o=e(14847).Ag,P=e(76767),C=e(71371),h=T("ftyp");te.exports=function(y){if(D(y,4,h)){var t=P.unbox(y,0);if(t){var r=P.getMimeType(t.data);if(r){for(var l,i=t.end;;){var u=P.unbox(y,i);if(!u)break;if(i=u.end,"mdat"===u.boxtype)return;if("meta"===u.boxtype){l=u.data;break}}if(l){var f=P.readSizeFromMeta(l);if(f){var c={width:f.width,height:f.height,type:r.type,mime:r.mime,wUnits:"px",hUnits:"px"};if(f.variants.length>1&&(c.variants=f.variants),f.orientation&&(c.orientation=f.orientation),f.exif_location&&f.exif_location.offset+f.exif_location.length<=y.length){var m=o(y,f.exif_location.offset),a=y.slice(f.exif_location.offset+m+4,f.exif_location.offset+f.exif_location.length),b=C.get_orientation(a);b>0&&(c.orientation=b)}return c}}}}}}},2504:function(te,Y,e){"use strict";var T=e(14847).eG,D=e(14847).OF,o=e(14847).mP,P=T("BM");te.exports=function(C){if(!(C.length<26)&&D(C,0,P))return{width:o(C,18),height:o(C,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(te,Y,e){"use strict";var T=e(14847).eG,D=e(14847).OF,o=e(14847).mP,P=T("GIF87a"),C=T("GIF89a");te.exports=function(h){if(!(h.length<10)&&(D(h,0,P)||D(h,0,C)))return{width:o(h,6),height:o(h,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(te,Y,e){"use strict";var T=e(14847).mP;te.exports=function(C){var h=T(C,0),y=T(C,2),t=T(C,4);if(0===h&&1===y&&t){for(var r=[],l={width:0,height:0},i=0;i<t;i++){var u=C[6+16*i]||256,f=C[6+16*i+1]||256,c={width:u,height:f};r.push(c),(u>l.width||f>l.height)&&(l=c)}return{width:l.width,height:l.height,variants:r,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(te,Y,e){"use strict";var T=e(14847).n8,D=e(14847).eG,o=e(14847).OF,P=e(71371),C=D("Exif\0\0");te.exports=function(h){if(!(h.length<2)&&255===h[0]&&216===h[1]&&255===h[2])for(var y=2;;){for(;;){if(h.length-y<2)return;if(255===h[y++])break}for(var r,t=h[y++];255===t;)t=h[y++];if(208<=t&&t<=217||1===t)r=0;else{if(!(192<=t&&t<=254))return;if(h.length-y<2)return;r=T(h,y)-2,y+=2}if(217===t||218===t)return;var l;if(225===t&&r>=10&&o(h,y,C)&&(l=P.get_orientation(h.slice(y+6,y+r))),r>=5&&192<=t&&t<=207&&196!==t&&200!==t&&204!==t){if(h.length-y<r)return;var i={width:T(h,y+3),height:T(h,y+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return l>0&&(i.orientation=l),i}y+=r}}},6303:function(te,Y,e){"use strict";var T=e(14847).eG,D=e(14847).OF,o=e(14847).Ag,P=T("\x89PNG\r\n\x1a\n"),C=T("IHDR");te.exports=function(h){if(!(h.length<24)&&D(h,0,P)&&D(h,12,C))return{width:o(h,16),height:o(h,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(te,Y,e){"use strict";var T=e(14847).eG,D=e(14847).OF,o=e(14847).Ag,P=T("8BPS\0\x01");te.exports=function(C){if(!(C.length<22)&&D(C,0,P))return{width:o(C,18),height:o(C,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(te){"use strict";function Y(l){return 32===l||9===l||13===l||10===l}function e(l){return"number"==typeof l&&isFinite(l)&&l>0}var D=/<[-_.:a-zA-Z0-9][^>]*>/,o=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,P=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,C=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,h=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,y=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(l){return y.test(l)?l.match(y)[0]:"px"}te.exports=function(l){if(function T(l){var i=0,u=l.length;for(239===l[0]&&187===l[1]&&191===l[2]&&(i=3);i<u&&Y(l[i]);)i++;return i!==u&&60===l[i]}(l)){for(var i="",u=0;u<l.length;u++)i+=String.fromCharCode(l[u]);var f=(i.match(D)||[""])[0];if(o.test(f)){var c=function t(l){var i=l.match(P),u=l.match(C),f=l.match(h);return{width:i&&(i[1]||i[2]),height:u&&(u[1]||u[2]),viewbox:f&&(f[1]||f[2])}}(f),m=parseFloat(c.width),a=parseFloat(c.height);if(c.width&&c.height)return e(m)&&e(a)?{width:m,height:a,type:"svg",mime:"image/svg+xml",wUnits:r(c.width),hUnits:r(c.height)}:void 0;var b=(c.viewbox||"").split(" "),p={width:b[2],height:b[3]},s=parseFloat(p.width),v=parseFloat(p.height);if(e(s)&&e(v)&&r(p.width)===r(p.height)){var A=s/v;return c.width?e(m)?{width:m,height:m/A,type:"svg",mime:"image/svg+xml",wUnits:r(c.width),hUnits:r(c.width)}:void 0:c.height?e(a)?{width:a*A,height:a,type:"svg",mime:"image/svg+xml",wUnits:r(c.height),hUnits:r(c.height)}:void 0:{width:s,height:v,type:"svg",mime:"image/svg+xml",wUnits:r(p.width),hUnits:r(p.height)}}}}}},66278:function(te,Y,e){"use strict";var T=e(14847).eG,D=e(14847).OF,o=e(14847).mP,P=e(14847).n8,C=e(14847).nm,h=e(14847).Ag,y=T("II*\0"),t=T("MM\0*");function r(u,f,c){return c?P(u,f):o(u,f)}function l(u,f,c){return c?h(u,f):C(u,f)}function i(u,f,c){var m=r(u,f+2,c);return 1!==l(u,f+4,c)||3!==m&&4!==m?null:3===m?r(u,f+8,c):l(u,f+8,c)}te.exports=function(u){if(!(u.length<8)&&(D(u,0,y)||D(u,0,t))){var f=77===u[0],c=l(u,4,f)-8;if(!(c<0)){var m=c+8;if(!(u.length-m<2)){var a=12*r(u,m+0,f);if(!(a<=0||(m+=2,u.length-m<a))){var b,p,s,v;for(b=0;b<a;b+=12)256===(v=r(u,m+b,f))?p=i(u,m+b,f):257===v&&(s=i(u,m+b,f));if(p&&s)return{width:p,height:s,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(te,Y,e){"use strict";var T=e(14847).eG,D=e(14847).OF,o=e(14847).mP,P=e(14847).nm,C=e(71371),h=T("RIFF"),y=T("WEBP");function t(i,u){if(157===i[u+3]&&1===i[u+4]&&42===i[u+5])return{width:16383&o(i,u+6),height:16383&o(i,u+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function r(i,u){if(47===i[u]){var f=P(i,u+1);return{width:1+(16383&f),height:1+(f>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function l(i,u){return{width:1+(i[u+6]<<16|i[u+5]<<8|i[u+4]),height:1+(i[u+9]<<u|i[u+8]<<8|i[u+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}te.exports=function(i){if(!(i.length<16)&&(D(i,0,h)||D(i,8,y))){var u=12,f=null,c=0,m=P(i,4)+8;if(!(m>i.length)){for(;u+8<m;)if(0!==i[u]){var a=String.fromCharCode.apply(null,i.slice(u,u+4)),b=P(i,u+4);"VP8 "===a&&b>=10?f=f||t(i,u+8):"VP8L"===a&&b>=9?f=f||r(i,u+8):"VP8X"===a&&b>=10?f=f||l(i,u+8):"EXIF"===a&&(c=C.get_orientation(i.slice(u+8,u+8+b)),u=1/0),u+=8+b}else u++;if(f)return c>0&&(f.orientation=c),f}}}},91497:function(te,Y,e){"use strict";te.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(te,Y,e){"use strict";var T=e(91497);te.exports=function(P){return function D(o){for(var P=Object.keys(T),C=0;C<P.length;C++){var h=T[P[C]](o);if(h)return h}return null}(P)},te.exports.parsers=T},90386:function(te){var e,T,Y=te.exports={};function D(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function P(c){if(e===setTimeout)return setTimeout(c,0);if((e===D||!e)&&setTimeout)return e=setTimeout,setTimeout(c,0);try{return e(c,0)}catch{try{return e.call(null,c,0)}catch{return e.call(this,c,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:D}catch{e=D}try{T="function"==typeof clearTimeout?clearTimeout:o}catch{T=o}}();var t,h=[],y=!1,r=-1;function l(){!y||!t||(y=!1,t.length?h=t.concat(h):r=-1,h.length&&i())}function i(){if(!y){var c=P(l);y=!0;for(var m=h.length;m;){for(t=h,h=[];++r<m;)t&&t[r].run();r=-1,m=h.length}t=null,y=!1,function C(c){if(T===clearTimeout)return clearTimeout(c);if((T===o||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(c);try{return T(c)}catch{try{return T.call(null,c)}catch{return T.call(this,c)}}}(c)}}function u(c,m){this.fun=c,this.array=m}function f(){}Y.nextTick=function(c){var m=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)m[a-1]=arguments[a];h.push(new u(c,m)),1===h.length&&!y&&P(i)},u.prototype.run=function(){this.fun.apply(null,this.array)},Y.title="browser",Y.browser=!0,Y.env={},Y.argv=[],Y.version="",Y.versions={},Y.on=f,Y.addListener=f,Y.once=f,Y.off=f,Y.removeListener=f,Y.removeAllListeners=f,Y.emit=f,Y.prependListener=f,Y.prependOnceListener=f,Y.listeners=function(c){return[]},Y.binding=function(c){throw new Error("process.binding is not supported")},Y.cwd=function(){return"/"},Y.chdir=function(c){throw new Error("process.chdir is not supported")},Y.umask=function(){return 0}},5877:function(te,Y,e){for(var T=e(9748),D=typeof window>"u"?e.g:window,o=["moz","webkit"],P="AnimationFrame",C=D["request"+P],h=D["cancel"+P]||D["cancelRequest"+P],y=0;!C&&y<o.length;y++)C=D[o[y]+"Request"+P],h=D[o[y]+"Cancel"+P]||D[o[y]+"CancelRequest"+P];if(!C||!h){var t=0,r=0,l=[];C=function(u){if(0===l.length){var f=T(),c=Math.max(0,16.666666666666668-(f-t));t=c+f,setTimeout(function(){var m=l.slice(0);l.length=0;for(var a=0;a<m.length;a++)if(!m[a].cancelled)try{m[a].callback(t)}catch(b){setTimeout(function(){throw b},0)}},Math.round(c))}return l.push({handle:++r,callback:u,cancelled:!1}),r},h=function(u){for(var f=0;f<l.length;f++)l[f].handle===u&&(l[f].cancelled=!0)}}te.exports=function(u){return C.call(D,u)},te.exports.cancel=function(){h.apply(D,arguments)},te.exports.polyfill=function(u){u||(u=D),u.requestAnimationFrame=C,u.cancelAnimationFrame=h}},3593:function(te,Y,e){"use strict";var T=e(21527),D=e(25075),o=e(93447),P=e(71299),C=e(56131),h=e(30120),y=e(57060),t=y.float32,r=y.fract32;te.exports=function i(u,f){if("function"==typeof u?(f||(f={}),f.regl=u):f=u,f.length&&(f.positions=f),!(u=f.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var m,a,b,p,s,v,c=u._gl,A={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},x=[];return p=u.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),a=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),b=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),s=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),v=u.buffer({usage:"static",type:"float",data:l}),w(f),m=u({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:u.prop("range"),lineWidth:u.prop("lineWidth"),capSize:u.prop("capSize"),opacity:u.prop("opacity"),scale:u.prop("scale"),translate:u.prop("translate"),scaleFract:u.prop("scaleFract"),translateFract:u.prop("translateFract"),viewport:function(S,d){return[d.viewport.x,d.viewport.y,S.viewportWidth,S.viewportHeight]}},attributes:{color:{buffer:p,offset:function(S,d){return 4*d.offset},divisor:1},position:{buffer:a,offset:function(S,d){return 8*d.offset},divisor:1},positionFract:{buffer:b,offset:function(S,d){return 8*d.offset},divisor:1},error:{buffer:s,offset:function(S,d){return 16*d.offset},divisor:1},direction:{buffer:v,stride:24,offset:0},lineOffset:{buffer:v,stride:24,offset:8},capOffset:{buffer:v,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:u.prop("viewport")},viewport:u.prop("viewport"),stencil:!1,instances:u.prop("count"),count:l.length}),C(E,{update:w,draw:g,destroy:n,regl:u,gl:c,canvas:c.canvas,groups:x}),E;function E(S){S?w(S):null===S&&n(),g()}function g(S){if("number"==typeof S)return M(S);S&&!Array.isArray(S)&&(S=[S]),u._refresh(),x.forEach(function(d,I){if(d){if(S&&(d.draw=!!S[I]),!d.draw)return void(d.draw=!0);M(I)}})}function M(S){"number"==typeof S&&(S=x[S]),null!=S&&S&&S.count&&S.color&&S.opacity&&S.positions&&S.positions.length>1&&(S.scaleRatio=[S.scale[0]*S.viewport.width,S.scale[1]*S.viewport.height],m(S),S.after&&S.after(S))}function w(S){if(S){null!=S.length?"number"==typeof S[0]&&(S=[{positions:S}]):Array.isArray(S)||(S=[S]);var d=0,I=0;if(E.groups=x=S.map(function(N,H){var X=x[H];return N?("function"==typeof N?N={after:N}:"number"==typeof N[0]&&(N={positions:N}),N=P(N,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),X||(x[H]=X={id:H,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},N=C({},A,N)),o(X,N,[{lineWidth:function(ne){return.5*+ne},capSize:function(ne){return.5*+ne},opacity:parseFloat,errors:function(ne){return ne=h(ne),I+=ne.length,ne},positions:function(ne,ie){return ne=h(ne,"float64"),ie.count=Math.floor(ne.length/2),ie.bounds=T(ne,2),ie.offset=d,d+=ie.count,ne}},{color:function(ne,ie){var ue=ie.count;if(ne||(ne="transparent"),!Array.isArray(ne)||"number"==typeof ne[0]){var J=ne;ne=Array(ue);for(var j=0;j<ue;j++)ne[j]=J}if(ne.length<ue)throw Error("Not enough colors");for(var W=new Uint8Array(4*ue),V=0;V<ue;V++){var K=D(ne[V],"uint8");W.set(K,4*V)}return W},range:function(ne,ie,ue){return ne||(ne=ie.bounds),ie.scale=[1/(ne[2]-ne[0]),1/(ne[3]-ne[1])],ie.translate=[-ne[0],-ne[1]],ie.scaleFract=r(ie.scale),ie.translateFract=r(ie.translate),ne},viewport:function(ne){var ie;return Array.isArray(ne)?ie={x:ne[0],y:ne[1],width:ne[2]-ne[0],height:ne[3]-ne[1]}:ne?((ie={x:ne.x||ne.left||0,y:ne.y||ne.top||0}).width=ne.right?ne.right-ie.x:ne.w||ne.width||0,ie.height=ne.bottom?ne.bottom-ie.y:ne.h||ne.height||0):ie={x:0,y:0,width:c.drawingBufferWidth,height:c.drawingBufferHeight},ie}}]),X):X}),d||I){var L=x.reduce(function(N,H,X){return N+(H?H.count:0)},0),B=new Float64Array(2*L),k=new Uint8Array(4*L),z=new Float32Array(4*L);x.forEach(function(N,H){if(N){var X=N.positions,ie=N.offset,J=N.errors;N.count&&(k.set(N.color,4*ie),z.set(J,4*ie),B.set(X,2*ie))}});var O=t(B);a(O);var F=r(B,O);b(F),p(k),s(z)}}}function n(){a.destroy(),b.destroy(),p.destroy(),s.destroy(),v.destroy()}};var l=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(te,Y,e){"use strict";var T=e(25075),D=e(21527),o=e(56131),P=e(56068),C=e(71299),h=e(30120),y=e(11474),t=e(54),r=e(57060),l=r.float32,i=r.fract32,u=e(83522),f=e(18863),c=e(6851);function m(a,b){if(!(this instanceof m))return new m(a,b);if("function"==typeof a?(b||(b={}),b.regl=a):b=a,b.length&&(b.positions=b),!(a=b.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=a._gl,this.regl=a,this.passes=[],this.shaders=m.shaders.has(a)?m.shaders.get(a):m.shaders.set(a,m.createShaders(a)).get(a),this.update(b)}te.exports=m,m.dashMult=2,m.maxPatternLength=256,m.precisionThreshold=3e6,m.maxPoints=1e4,m.maxLines=2048,m.shaders=new u,m.createShaders=function(a){var v,b=a.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),p={primitive:"triangle strip",instances:a.prop("count"),count:4,offset:0,uniforms:{miterMode:function(x,E){return"round"===E.join?2:1},miterLimit:a.prop("miterLimit"),scale:a.prop("scale"),scaleFract:a.prop("scaleFract"),translateFract:a.prop("translateFract"),translate:a.prop("translate"),thickness:a.prop("thickness"),dashTexture:a.prop("dashTexture"),opacity:a.prop("opacity"),pixelRatio:a.context("pixelRatio"),id:a.prop("id"),dashLength:a.prop("dashLength"),viewport:function(x,E){return[E.viewport.x,E.viewport.y,x.viewportWidth,x.viewportHeight]},depth:a.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(x,E){return!E.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:a.prop("viewport")},viewport:a.prop("viewport")},s=a(o({vert:P(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:P(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aCoord:{buffer:a.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:a.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:a.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:a.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:a.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},p));try{v=a(o({cull:{enable:!0,face:"back"},vert:P(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:P(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aColor:{buffer:a.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:a.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:a.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:a.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:a.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:a.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},p))}catch{v=s}return{fill:a({primitive:"triangle",elements:function(x,E){return E.triangles},offset:0,vert:P(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:P(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:a.prop("scale"),color:a.prop("fill"),scaleFract:a.prop("scaleFract"),translateFract:a.prop("translateFract"),translate:a.prop("translate"),opacity:a.prop("opacity"),pixelRatio:a.context("pixelRatio"),id:a.prop("id"),viewport:function(x,E){return[E.viewport.x,E.viewport.y,x.viewportWidth,x.viewportHeight]}},attributes:{position:{buffer:a.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:a.prop("positionFractBuffer"),stride:8,offset:8}},blend:p.blend,depth:{enable:!1},scissor:p.scissor,stencil:p.stencil,viewport:p.viewport}),rect:s,miter:v}},m.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},m.prototype.render=function(){for(var a,b=[],p=arguments.length;p--;)b[p]=arguments[p];b.length&&(a=this).update.apply(a,b),this.draw()},m.prototype.draw=function(){for(var a=this,b=[],p=arguments.length;p--;)b[p]=arguments[p];return(b.length?b:this.passes).forEach(function(s,v){var A;if(s&&Array.isArray(s))return(A=a).draw.apply(A,s);"number"==typeof s&&(s=a.passes[s]),s&&s.count>1&&s.opacity&&(a.regl._refresh(),s.fill&&s.triangles&&s.triangles.length>2&&a.shaders.fill(s),s.thickness&&(s.scale[0]*s.viewport.width>m.precisionThreshold||s.scale[1]*s.viewport.height>m.precisionThreshold||"rect"===s.join||!s.join&&(s.thickness<=2||s.count>=m.maxPoints)?a.shaders.rect(s):a.shaders.miter(s)))}),this},m.prototype.update=function(a){var b=this;if(a){null!=a.length?"number"==typeof a[0]&&(a=[{positions:a}]):Array.isArray(a)||(a=[a]);var s=this.regl,v=this.gl;if(a.forEach(function(M,w){var n=b.passes[w];if(void 0!==M){if(null===M)return void(b.passes[w]=null);if("number"==typeof M[0]&&(M={positions:M}),M=C(M,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),n||(b.passes[w]=n={id:w,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:s.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:s.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:s.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:s.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},M=o({},m.defaults,M)),null!=M.thickness&&(n.thickness=parseFloat(M.thickness)),null!=M.opacity&&(n.opacity=parseFloat(M.opacity)),null!=M.miterLimit&&(n.miterLimit=parseFloat(M.miterLimit)),null!=M.overlay&&(n.overlay=!!M.overlay,w<m.maxLines&&(n.depth=2*(m.maxLines-1-w%m.maxLines)/m.maxLines-1)),null!=M.join&&(n.join=M.join),null!=M.hole&&(n.hole=M.hole),null!=M.fill&&(n.fill=M.fill?T(M.fill,"uint8"):null),null!=M.viewport&&(n.viewport=f(M.viewport)),n.viewport||(n.viewport=f([v.drawingBufferWidth,v.drawingBufferHeight])),null!=M.close&&(n.close=M.close),null===M.positions&&(M.positions=[]),M.positions){var S,d;if(M.positions.x&&M.positions.y){var I=M.positions.x,L=M.positions.y;d=n.count=Math.max(I.length,L.length),S=new Float64Array(2*d);for(var B=0;B<d;B++)S[2*B]=I[B],S[2*B+1]=L[B]}else S=h(M.positions,"float64"),d=n.count=Math.floor(S.length/2);var k=n.bounds=D(S,2);if(n.fill){for(var z=[],O={},F=0,N=0,H=0,X=n.count;N<X;N++){var ne=S[2*N],ie=S[2*N+1];isNaN(ne)||isNaN(ie)||null==ne||null==ie?(ne=S[2*F],ie=S[2*F+1],O[N]=F):F=N,z[H++]=ne,z[H++]=ie}if(M.splitNull){n.count-1 in O||(O[n.count]=n.count-1);var ue=Object.keys(O).map(Number).sort(function(Re,ke){return Re-ke}),J=[],j=0,W=null!=n.hole?n.hole[0]:null;if(null!=W){var V=c(ue,function(Re){return Re>=W});(ue=ue.slice(0,V)).push(W)}for(var K=function(Re){var ke=z.slice(2*j,2*ue[Re]).concat(W?z.slice(2*W):[]),Ne=(n.hole||[]).map(function(Te){return Te-W+(ue[Re]-j)}),_e=y(ke,Ne);_e=_e.map(function(Te){return Te+j+(Te+j<ue[Re]?0:W-ue[Re])}),J.push.apply(J,_e),j=ue[Re]+1},ae=0;ae<ue.length;ae++)K(ae);for(var Q=0,Z=J.length;Q<Z;Q++)null!=O[J[Q]]&&(J[Q]=O[J[Q]]);n.triangles=J}else{for(var re=y(z,n.hole||[]),q=0,se=re.length;q<se;q++)null!=O[re[q]]&&(re[q]=O[re[q]]);n.triangles=re}}var de=new Float64Array(S);t(de,2,k);var we=new Float64Array(2*d+6);n.close?S[0]===S[2*d-2]&&S[1]===S[2*d-1]?(we[0]=de[2*d-4],we[1]=de[2*d-3]):(we[0]=de[2*d-2],we[1]=de[2*d-1]):(we[0]=de[0],we[1]=de[1]),we.set(de,2),n.close?S[0]===S[2*d-2]&&S[1]===S[2*d-1]?(we[2*d+2]=de[2],we[2*d+3]=de[3],n.count-=1):(we[2*d+2]=de[0],we[2*d+3]=de[1],we[2*d+4]=de[2],we[2*d+5]=de[3]):(we[2*d+2]=de[2*d-2],we[2*d+3]=de[2*d-1],we[2*d+4]=de[2*d-2],we[2*d+5]=de[2*d-1]);var ye=l(we);n.positionBuffer(ye);var Pe=i(we,ye);n.positionFractBuffer(Pe)}if(M.range?n.range=M.range:n.range||(n.range=n.bounds),(M.range||M.positions)&&n.count){var Ie=n.bounds,Me=n.range[2]-n.range[0],Ge=n.range[3]-n.range[1];n.scale=[(Ie[2]-Ie[0])/Me,(Ie[3]-Ie[1])/Ge],n.translate=[-n.range[0]/Me+Ie[0]/Me||0,-n.range[1]/Ge+Ie[1]/Ge||0],n.scaleFract=i(n.scale),n.translateFract=i(n.translate)}if(M.dashes){var De,Ye=0;if(!M.dashes||M.dashes.length<2)Ye=1,De=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ye=0;for(var He=0;He<M.dashes.length;++He)Ye+=M.dashes[He];De=new Uint8Array(Ye*m.dashMult);for(var rt=0,$e=255,Be=0;Be<2;Be++)for(var ze=0;ze<M.dashes.length;++ze){for(var tt=0,lt=M.dashes[ze]*m.dashMult*.5;tt<lt;++tt)De[rt++]=$e;$e^=255}}n.dashLength=Ye,n.dashTexture({channels:1,data:De,width:De.length,height:1,mag:"linear",min:"linear"},0,0)}if(M.color){var ut=n.count,xt=M.color;xt||(xt="transparent");var bt=new Uint8Array(4*ut+4);if(Array.isArray(xt)&&"number"!=typeof xt[0]){for(var Ce=0;Ce<ut;Ce++){var Ee=T(xt[Ce],"uint8");bt.set(Ee,4*Ce)}bt.set(T(xt[0],"uint8"),4*ut)}else for(var Ht=T(xt,"uint8"),Je=0;Je<ut+1;Je++)bt.set(Ht,4*Je);n.colorBuffer({usage:"dynamic",type:"uint8",data:bt})}}}),a.length<this.passes.length){for(var A=a.length;A<this.passes.length;A++){var x=this.passes[A];x&&(x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy())}this.passes.length=a.length}for(var E=[],g=0;g<this.passes.length;g++)null!==this.passes[g]&&E.push(this.passes[g]);return this.passes=E,this}},m.prototype.destroy=function(){return this.passes.forEach(function(a){a.colorBuffer.destroy(),a.positionBuffer.destroy(),a.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(te,Y,e){"use strict";function D(n,S){return function C(n){if(Array.isArray(n))return n}(n)||function T(n,S){var d=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=d){var I,L,B,k,z=[],O=!0,F=!1;try{if(B=(d=d.call(n)).next,0===S){if(Object(d)!==d)return;O=!1}else for(;!(O=(I=B.call(d)).done)&&(z.push(I.value),z.length!==S);O=!0);}catch(N){F=!0,L=N}finally{try{if(!O&&null!=d.return&&(k=d.return(),Object(k)!==k))return}finally{if(F)throw L}}return z}}(n,S)||y(n,S)||function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(n){return function P(n){if(Array.isArray(n))return t(n)}(n)||function h(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||y(n)||function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(n,S){if(n){if("string"==typeof n)return t(n,S);var d=Object.prototype.toString.call(n).slice(8,-1);if("Object"===d&&n.constructor&&(d=n.constructor.name),"Map"===d||"Set"===d)return Array.from(n);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return t(n,S)}}function t(n,S){(null==S||S>n.length)&&(S=n.length);for(var d=0,I=new Array(S);d<S;d++)I[d]=n[d];return I}var i=e(25075),u=e(21527),f=e(6475),c=e(88294),m=e(56131),a=e(56068),b=e(71299),p=e(93447),s=e(30120),v=e(62683),A=e(57060),x=e(18863),E=g;function g(n,S){var d=this;if(!(this instanceof g))return new g(n,S);"function"==typeof n?(S||(S={}),S.regl=n):(S=n,n=null),S&&S.length&&(S.positions=S);var L,I=(n=S.regl)._gl,B=[],N=255;this.tooManyColors=v,L=n.texture({data:new Uint8Array(4*N),width:N,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),m(this,{regl:n,gl:I,groups:[],markerCache:[null],markerTextures:[null],palette:B,paletteIds:{},paletteTexture:L,maxColors:N,maxSize:100,canvas:I.canvas}),this.update(S);var X={uniforms:{constPointSize:!!S.constPointSize,opacity:n.prop("opacity"),paletteSize:function(J,j){return[d.tooManyColors?0:N,L.height]},pixelRatio:n.context("pixelRatio"),scale:n.prop("scale"),scaleFract:n.prop("scaleFract"),translate:n.prop("translate"),translateFract:n.prop("translateFract"),markerTexture:n.prop("markerTexture"),paletteTexture:L},attributes:{x:function(J,j){return j.xAttr||{buffer:j.positionBuffer,stride:8,offset:0}},y:function(J,j){return j.yAttr||{buffer:j.positionBuffer,stride:8,offset:4}},xFract:function(J,j){return j.xAttr?{constant:[0,0]}:{buffer:j.positionFractBuffer,stride:8,offset:0}},yFract:function(J,j){return j.yAttr?{constant:[0,0]}:{buffer:j.positionFractBuffer,stride:8,offset:4}},size:function(J,j){return j.size.length?{buffer:j.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*j.size/d.maxSize)]}},borderSize:function(J,j){return j.borderSize.length?{buffer:j.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*j.borderSize/d.maxSize)]}},colorId:function(J,j){return j.color.length?{buffer:j.colorBuffer,stride:d.tooManyColors?8:4,offset:0}:{constant:d.tooManyColors?B.slice(4*j.color,4*j.color+4):[j.color]}},borderColorId:function(J,j){return j.borderColor.length?{buffer:j.colorBuffer,stride:d.tooManyColors?8:4,offset:d.tooManyColors?4:2}:{constant:d.tooManyColors?B.slice(4*j.borderColor,4*j.borderColor+4):[j.borderColor]}},isActive:function(J,j){return!0===j.activation?{constant:[1]}:j.activation?j.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:n.prop("viewport")},viewport:n.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:n.prop("elements"),count:n.prop("count"),offset:n.prop("offset"),primitive:"points"},ne=m({},X);ne.frag=a(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),ne.vert=a(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}"]),this.drawMarker=n(ne);var ie=m({},X);ie.frag=a(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),ie.vert=a(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),v&&(ie.frag=ie.frag.replace("smoothstep","smoothStep"),ne.frag=ne.frag.replace("smoothstep","smoothStep")),this.drawCircle=n(ie)}g.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},g.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},g.prototype.draw=function(){for(var n=this,S=arguments.length,d=new Array(S),I=0;I<S;I++)d[I]=arguments[I];var L=this.groups;if(1===d.length&&Array.isArray(d[0])&&(null===d[0][0]||Array.isArray(d[0][0]))&&(d=d[0]),this.regl._refresh(),d.length)for(var B=0;B<d.length;B++)this.drawItem(B,d[B]);else L.forEach(function(k,z){n.drawItem(z)});return this},g.prototype.drawItem=function(n,S){var d=this.groups,I=d[n];if("number"==typeof S&&(n=S,I=d[S],S=null),I&&I.count&&I.opacity){I.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,I,S));for(var L=[],B=1;B<I.activation.length;B++)!I.activation[B]||!0!==I.activation[B]&&!I.activation[B].data.length||L.push.apply(L,o(this.getMarkerDrawOptions(B,I,S)));L.length&&this.drawMarker(L)}},g.prototype.getMarkerDrawOptions=function(n,S,d){var I=S.range,L=S.tree,B=S.viewport,k=S.activation,z=S.selectionBuffer,O=S.count;if(!L)return d?[m({},S,{markerTexture:this.markerTextures[n],activation:k[n],count:d.length,elements:d,offset:0})]:[m({},S,{markerTexture:this.markerTextures[n],activation:k[n],offset:0})];var N=[],H=L.range(I,{lod:!0,px:[(I[2]-I[0])/B.width,(I[3]-I[1])/B.height]});if(d){for(var ne=k[n].data,ie=new Uint8Array(O),ue=0;ue<d.length;ue++){var J=d[ue];ie[J]=ne?ne[J]:1}z.subdata(ie)}for(var j=H.length;j--;){var W=D(H[j],2),V=W[0];N.push(m({},S,{markerTexture:this.markerTextures[n],activation:d?z:k[n],offset:V,count:W[1]-V}))}return N},g.prototype.update=function(){for(var n=this,S=arguments.length,d=new Array(S),I=0;I<S;I++)d[I]=arguments[I];if(d.length){1===d.length&&Array.isArray(d[0])&&(d=d[0]);var L=this.groups,B=this.gl,k=this.regl,z=this.maxSize,O=this.maxColors,F=this.palette;this.groups=L=d.map(function(N,H){var X=L[H];if(void 0===N)return X;null===N?N={positions:null}:"function"==typeof N?N={ondraw:N}:"number"==typeof N[0]&&(N={positions:N}),null===(N=b(N,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(N.positions=[]),null!=N.tooManyColors&&(n.tooManyColors=N.tooManyColors),X||(L[H]=X={id:H,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:k.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},N=m({},g.defaults,N)),N.positions&&!("marker"in N)&&(N.marker=X.marker,delete X.marker),N.marker&&!("positions"in N)&&(N.positions=X.positions,delete X.positions);var ne=0,ie=0;if(p(X,N,[{snap:!0,size:function(xe,Me){return null==xe&&(xe=g.defaults.size),ne+=xe&&xe.length?1:0,xe},borderSize:function(xe,Me){return null==xe&&(xe=g.defaults.borderSize),ne+=xe&&xe.length?1:0,xe},opacity:parseFloat,color:function(xe,Me){return null==xe&&(xe=g.defaults.color),xe=n.updateColor(xe),ie++,xe},borderColor:function(xe,Me){return null==xe&&(xe=g.defaults.borderColor),xe=n.updateColor(xe),ie++,xe},bounds:function(xe,Me,Ge){return"range"in Ge||(Ge.range=null),xe},positions:function(xe,Me,Ge){var Ye=Me.snap,De=Me.positionBuffer,He=Me.positionFractBuffer,rt=Me.selectionBuffer;if(xe.x||xe.y)return Me.xAttr=xe.x.length?{buffer:k.buffer(xe.x),offset:0,stride:4,count:xe.x.length}:{buffer:xe.x.buffer,offset:4*xe.x.offset||0,stride:4*(xe.x.stride||1),count:xe.x.count},Me.yAttr=xe.y.length?{buffer:k.buffer(xe.y),offset:0,stride:4,count:xe.y.length}:{buffer:xe.y.buffer,offset:4*xe.y.offset||0,stride:4*(xe.y.stride||1),count:xe.y.count},Me.count=Math.max(Me.xAttr.count,Me.yAttr.count),xe;xe=s(xe,"float64");var $e=Me.count=Math.floor(xe.length/2),Be=Me.bounds=$e?u(xe,2):null;if(!Ge.range&&!Me.range&&(delete Me.range,Ge.range=Be),!Ge.marker&&!Me.marker&&(delete Me.marker,Ge.marker=null),Ye&&(!0===Ye||$e>Ye)?Me.tree=c(xe,{bounds:Be}):Ye&&Ye.length&&(Me.tree=Ye),Me.tree){var ze={primitive:"points",usage:"static",data:Me.tree,type:"uint32"};Me.elements?Me.elements(ze):Me.elements=k.elements(ze)}var tt=A.float32(xe);return De({data:tt,usage:"dynamic"}),He({data:A.fract32(xe,tt),usage:"dynamic"}),rt({data:new Uint8Array($e),type:"uint8",usage:"stream"}),xe}},{marker:function(xe,Me,Ge){var Ye=Me.activation;if(Ye.forEach(function(lt){return lt&&lt.destroy&&lt.destroy()}),Ye.length=0,xe&&"number"!=typeof xe[0]){for(var He=[],rt=0,$e=Math.min(xe.length,Me.count);rt<$e;rt++){var Be=n.addMarker(xe[rt]);He[Be]||(He[Be]=new Uint8Array(Me.count)),He[Be][rt]=1}for(var ze=0;ze<He.length;ze++)if(He[ze]){var tt={data:He[ze],type:"uint8",usage:"static"};Ye[ze]?Ye[ze](tt):Ye[ze]=k.buffer(tt),Ye[ze].data=He[ze]}}else Ye[n.addMarker(xe)]=!0;return xe},range:function(xe,Me,Ge){var Ye=Me.bounds;if(Ye)return xe||(xe=Ye),Me.scale=[1/(xe[2]-xe[0]),1/(xe[3]-xe[1])],Me.translate=[-xe[0],-xe[1]],Me.scaleFract=A.fract(Me.scale),Me.translateFract=A.fract(Me.translate),xe},viewport:function(xe){return x(xe||[B.drawingBufferWidth,B.drawingBufferHeight])}}]),ne){var J=X.count,j=X.size,W=X.borderSize,V=X.sizeBuffer,K=new Uint8Array(2*J);if(j.length||W.length)for(var ae=0;ae<J;ae++)K[2*ae]=Math.round(255*(null==j[ae]?j:j[ae])/z),K[2*ae+1]=Math.round(255*(null==W[ae]?W:W[ae])/z);V({data:K,usage:"dynamic"})}if(ie){var de,Z=X.count,re=X.color,q=X.borderColor,se=X.colorBuffer;if(n.tooManyColors){if(re.length||q.length){de=new Uint8Array(8*Z);for(var we=0;we<Z;we++){var ye=re[we];de[8*we]=F[4*ye],de[8*we+1]=F[4*ye+1],de[8*we+2]=F[4*ye+2],de[8*we+3]=F[4*ye+3];var Pe=q[we];de[8*we+4]=F[4*Pe],de[8*we+5]=F[4*Pe+1],de[8*we+6]=F[4*Pe+2],de[8*we+7]=F[4*Pe+3]}}}else if(re.length||q.length){de=new Uint8Array(4*Z+2);for(var Ie=0;Ie<Z;Ie++)null!=re[Ie]&&(de[4*Ie]=re[Ie]%O,de[4*Ie+1]=Math.floor(re[Ie]/O)),null!=q[Ie]&&(de[4*Ie+2]=q[Ie]%O,de[4*Ie+3]=Math.floor(q[Ie]/O))}se({data:de||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return X})}},g.prototype.addMarker=function(n){var B,S=this.markerTextures,d=this.regl,I=this.markerCache,L=null==n?0:I.indexOf(n);if(L>=0)return L;if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)B=n;else{B=new Uint8Array(n.length);for(var k=0,z=n.length;k<z;k++)B[k]=255*n[k]}var O=Math.floor(Math.sqrt(B.length));return L=S.length,I.push(n),S.push(d.texture({channels:1,data:B,radius:O,mag:"linear",min:"linear"})),L},g.prototype.updateColor=function(n){var S=this.paletteIds,d=this.palette,I=this.maxColors;Array.isArray(n)||(n=[n]);var L=[];if("number"==typeof n[0]){var B=[];if(Array.isArray(n))for(var k=0;k<n.length;k+=4)B.push(n.slice(k,k+4));else for(var z=0;z<n.length;z+=4)B.push(n.subarray(z,z+4));n=B}for(var O=0;O<n.length;O++){var F=n[O];F=i(F,"uint8");var N=f(F,!1);if(null==S[N]){var H=d.length;S[N]=Math.floor(H/4),d[H]=F[0],d[H+1]=F[1],d[H+2]=F[2],d[H+3]=F[3]}L[O]=S[N]}return!this.tooManyColors&&d.length>4*I&&(this.tooManyColors=!0),this.updatePalette(d),1===L.length?L[0]:L},g.prototype.updatePalette=function(n){if(!this.tooManyColors){var S=this.maxColors,d=this.paletteTexture,I=Math.ceil(.25*n.length/S);if(I>1)for(var L=.25*(n=n.slice()).length%S;L<I*S;L++)n.push(0,0,0,0);d.height<I&&d.resize(S,I),d.subimage({width:Math.min(.25*n.length,S),height:I,data:n},0,0)}},g.prototype.destroy=function(){return this.groups.forEach(function(n){n.sizeBuffer.destroy(),n.positionBuffer.destroy(),n.positionFractBuffer.destroy(),n.colorBuffer.destroy(),n.activation.forEach(function(S){return S&&S.destroy&&S.destroy()}),n.selectionBuffer.destroy(),n.elements&&n.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(n){return n&&n.destroy&&n.destroy()}),this};var M=e(56131);te.exports=function(S,d){var I=new E(S,d),L=I.render.bind(I);return M(L,{render:L,update:I.update.bind(I),draw:I.draw.bind(I),destroy:I.destroy.bind(I),regl:I.regl,gl:I.gl,canvas:I.gl.canvas,groups:I.groups,markers:I.markerCache,palette:I.palette}),L}},60487:function(te,Y,e){"use strict";var T=e(11870),D=e(71299),o=e(21527),P=e(5877),C=e(57471),h=e(18863),y=e(30120);function t(u,f){if(!(this instanceof t))return new t(u,f);this.traces=[],this.passes={},this.regl=u,this.scatter=T(u),this.canvas=this.scatter.canvas}function r(u,f,c){return(null!=u.id?u.id:u)<<16|(255&f)<<8|255&c}function l(u,f,c){var a,p,s,A,E=u[f],g=u[c];return E.length>2?(a=E[1],p=E[3]):E.length?(a=E[0],p=E[1]):(a=E.y,p=E.y+E.height),g.length>2?(s=g[0],A=g[2]):g.length?(s=g[0],A=g[1]):(s=g.x,A=g.x+g.width),[s,a,A,p]}function i(u){if("number"==typeof u)return[u,u,u,u];if(2===u.length)return[u[0],u[1],u[0],u[1]];var f=h(u);return[f.x,f.y,f.x+f.width,f.y+f.height]}te.exports=t,t.prototype.render=function(){for(var f,u=this,c=[],m=arguments.length;m--;)c[m]=arguments[m];return c.length&&(f=this).update.apply(f,c),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=P(function(){u.draw(),u.dirty=!0,u.planned=null})):(this.draw(),this.dirty=!0,P(function(){u.dirty=!1})),this)},t.prototype.update=function(){for(var u,f=[],c=arguments.length;c--;)f[c]=arguments[c];if(f.length){for(var m=0;m<f.length;m++)this.updateItem(m,f[m]);this.traces=this.traces.filter(Boolean);for(var a=[],b=0,p=0;p<this.traces.length;p++){for(var s=this.traces[p],v=this.traces[p].passes,A=0;A<v.length;A++)a.push(this.passes[v[A]]);s.passOffset=b,b+=s.passes.length}return(u=this.scatter).update.apply(u,a),this}},t.prototype.updateItem=function(u,f){var m=this.regl;if(null===f)return this.traces[u]=null,this;if(!f)return this;var s,a=D(f,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),b=this.traces[u]||(this.traces[u]={id:u,buffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:h([m._gl.drawingBufferWidth,m._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=a.color&&(b.color=a.color),null!=a.size&&(b.size=a.size),null!=a.marker&&(b.marker=a.marker),null!=a.borderColor&&(b.borderColor=a.borderColor),null!=a.borderSize&&(b.borderSize=a.borderSize),null!=a.opacity&&(b.opacity=a.opacity),a.viewport&&(b.viewport=h(a.viewport)),null!=a.diagonal&&(b.diagonal=a.diagonal),null!=a.upper&&(b.upper=a.upper),null!=a.lower&&(b.lower=a.lower),a.data){b.buffer(y(a.data)),b.columns=a.data.length,b.count=a.data[0].length,b.bounds=[];for(var p=0;p<b.columns;p++)b.bounds[p]=o(a.data[p],1)}a.range&&(b.range=a.range,s=b.range&&"number"!=typeof b.range[0]),a.domain&&(b.domain=a.domain);var v=!1;null!=a.padding&&(Array.isArray(a.padding)&&a.padding.length===b.columns&&"number"==typeof a.padding[a.padding.length-1]?(b.padding=a.padding.map(i),v=!0):b.padding=i(a.padding));var A=b.columns,x=b.count,E=b.viewport.width,g=b.viewport.height,M=b.viewport.x,w=b.viewport.y,n=E/A,S=g/A;b.passes=[];for(var d=0;d<A;d++)for(var I=0;I<A;I++)if((b.diagonal||I!==d)&&(b.upper||!(d>I))&&(b.lower||!(d<I))){var L=r(b.id,d,I),B=this.passes[L]||(this.passes[L]={});if(a.data&&(B.positions=a.transpose?{x:{buffer:b.buffer,offset:I,count:x,stride:A},y:{buffer:b.buffer,offset:d,count:x,stride:A}}:{x:{buffer:b.buffer,offset:I*x,count:x},y:{buffer:b.buffer,offset:d*x,count:x}},B.bounds=l(b.bounds,d,I)),a.domain||a.viewport||a.data){var k=v?l(b.padding,d,I):b.padding;if(b.domain){var z=l(b.domain,d,I);B.viewport=[M+z[0]*E+k[0],w+z[1]*g+k[1],M+z[2]*E-k[2],w+z[3]*g-k[3]]}else B.viewport=[M+I*n+n*k[0],w+d*S+S*k[1],M+(I+1)*n-n*k[2],w+(d+1)*S-S*k[3]]}a.color&&(B.color=b.color),a.size&&(B.size=b.size),a.marker&&(B.marker=b.marker),a.borderSize&&(B.borderSize=b.borderSize),a.borderColor&&(B.borderColor=b.borderColor),a.opacity&&(B.opacity=b.opacity),a.range&&(B.range=s?l(b.range,d,I):b.range||B.bounds),b.passes.push(L)}return this},t.prototype.draw=function(){for(var u,f=[],c=arguments.length;c--;)f[c]=arguments[c];if(f.length){for(var m=[],a=0;a<f.length;a++)if("number"==typeof f[a]){var b=this.traces[f[a]],s=b.passOffset;m.push.apply(m,C(s,s+b.passes.length))}else if(f[a].length){var v=f[a],A=this.traces[a],x=A.passes,E=A.passOffset;x=x.map(function(g,M){m[E+M]=v})}(u=this.scatter).draw.apply(u,m)}else this.scatter.draw();return this},t.prototype.destroy=function(){return this.traces.forEach(function(u){u.buffer&&u.buffer.destroy&&u.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(te){te.exports=function(){function Y(pt,$t){this.id=se++,this.type=pt,this.data=$t}function e(pt){if(0===pt.length)return[];var $t=pt.charAt(0),tr=pt.charAt(pt.length-1);if(1<pt.length&&$t===tr&&('"'===$t||"'"===$t))return['"'+pt.substr(1,pt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if($t=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(pt))return e(pt.substr(0,$t.index)).concat(e($t[1])).concat(e(pt.substr($t.index+$t[0].length)));if(1===($t=pt.split(".")).length)return['"'+pt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(pt=[],tr=0;tr<$t.length;++tr)pt=pt.concat(e($t[tr]));return pt}function T(pt){return"["+e(pt).join("][")+"]"}function h(pt){return"string"==typeof pt?pt.split():pt}function y(pt){return"string"==typeof pt?document.querySelector(pt):pt}function t(pt){var tr,Er,pr,dt,$t=pt||{};pt={};var it=[],mt=[],St=typeof window>"u"?1:window.devicePixelRatio,Lt=!1,Ct={},Ut=function(qt){},Bt=function(){};if("string"==typeof $t?tr=document.querySelector($t):"object"==typeof $t&&("string"==typeof $t.nodeName&&"function"==typeof $t.appendChild&&"function"==typeof $t.getBoundingClientRect?tr=$t:"function"==typeof $t.drawArrays||"function"==typeof $t.drawElements?pr=(dt=$t).canvas:("gl"in $t?dt=$t.gl:"canvas"in $t?pr=y($t.canvas):"container"in $t&&(Er=y($t.container)),"attributes"in $t&&(pt=$t.attributes),"extensions"in $t&&(it=h($t.extensions)),"optionalExtensions"in $t&&(mt=h($t.optionalExtensions)),"onDone"in $t&&(Ut=$t.onDone),"profile"in $t&&(Lt=!!$t.profile),"pixelRatio"in $t&&(St=+$t.pixelRatio),"cachedCode"in $t&&(Ct=$t.cachedCode))),tr&&("canvas"===tr.nodeName.toLowerCase()?pr=tr:Er=tr),!dt){if(!pr){if(!(tr=function P(pt,$t,tr){function Er(){var it=window.innerWidth,mt=window.innerHeight;pt!==document.body&&(it=(mt=pr.getBoundingClientRect()).right-mt.left,mt=mt.bottom-mt.top),pr.width=tr*it,pr.height=tr*mt}var dt,pr=document.createElement("canvas");return q(pr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),pt.appendChild(pr),pt===document.body&&(pr.style.position="absolute",q(pt.style,{margin:0,padding:0})),pt!==document.body&&"function"==typeof ResizeObserver?(dt=new ResizeObserver(function(){setTimeout(Er)})).observe(pt):window.addEventListener("resize",Er,!1),Er(),{canvas:pr,onDestroy:function(){dt?dt.disconnect():window.removeEventListener("resize",Er),pt.removeChild(pr)}}}(Er||document.body,0,St)))return null;pr=tr.canvas,Bt=tr.onDestroy}void 0===pt.premultipliedAlpha&&(pt.premultipliedAlpha=!0),dt=function C(pt,$t){function tr(Er){try{return pt.getContext(Er,$t)}catch{return null}}return tr("webgl")||tr("experimental-webgl")||tr("webgl-experimental")}(pr,pt)}return dt?{gl:dt,canvas:pr,container:Er,extensions:it,optionalExtensions:mt,pixelRatio:St,profile:Lt,cachedCode:Ct,onDone:Ut,onDestroy:Bt}:(Bt(),Ut("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function l(pt,$t){for(var tr=Array(pt),Er=0;Er<pt;++Er)tr[Er]=$t(Er);return tr}function i(pt){var $t,tr;return $t=(65535<pt)<<4,$t|=tr=(255<(pt>>>=$t))<<3,($t|=tr=(15<(pt>>>=tr))<<2)|(tr=(3<(pt>>>=tr))<<1)|pt>>>tr>>1}function u(){function pt(Er){e:{for(var pr=16;268435456>=pr;pr*=16)if(Er<=pr){Er=pr;break e}Er=0}return 0<(pr=tr[i(Er)>>2]).length?pr.pop():new ArrayBuffer(Er)}function $t(Er){tr[i(Er.byteLength)>>2].push(Er)}var tr=l(8,function(){return[]});return{alloc:pt,free:$t,allocType:function(Er,pr){var dt=null;switch(Er){case 5120:dt=new Int8Array(pt(pr),0,pr);break;case 5121:dt=new Uint8Array(pt(pr),0,pr);break;case 5122:dt=new Int16Array(pt(2*pr),0,pr);break;case 5123:dt=new Uint16Array(pt(2*pr),0,pr);break;case 5124:dt=new Int32Array(pt(4*pr),0,pr);break;case 5125:dt=new Uint32Array(pt(4*pr),0,pr);break;case 5126:dt=new Float32Array(pt(4*pr),0,pr);break;default:return null}return dt.length!==pr?dt.subarray(0,pr):dt},freeType:function(Er){$t(Er.buffer)}}}function f(pt){return!!pt&&"object"==typeof pt&&Array.isArray(pt.shape)&&Array.isArray(pt.stride)&&"number"==typeof pt.offset&&pt.shape.length===pt.stride.length&&(Array.isArray(pt.data)||Se(pt.data))}function c(pt,$t,tr,Er,pr,dt){for(var it=0;it<$t;++it)for(var mt=pt[it],St=0;St<tr;++St)for(var Lt=mt[St],Ct=0;Ct<Er;++Ct)pr[dt++]=Lt[Ct]}function m(pt,$t,tr,Er,pr){for(var dt=1,it=tr+1;it<$t.length;++it)dt*=$t[it];var mt=$t[tr];if($t.length-tr==4){var St=$t[tr+1],Lt=$t[tr+2];for($t=$t[tr+3],it=0;it<mt;++it)c(pt[it],St,Lt,$t,Er,pr),pr+=dt}else for(it=0;it<mt;++it)m(pt[it],$t,tr+1,Er,pr),pr+=dt}function a(pt){return 0|Ge[Object.prototype.toString.call(pt)]}function b(pt,$t){for(var tr=0;tr<$t.length;++tr)pt[tr]=$t[tr]}function p(pt,$t,tr,Er,pr,dt,it){for(var mt=0,St=0;St<tr;++St)for(var Lt=0;Lt<Er;++Lt)pt[mt++]=$t[pr*St+dt*Lt+it]}function A(pt){for(var $t=Pe.allocType(5123,pt.length),tr=0;tr<pt.length;++tr)if(isNaN(pt[tr]))$t[tr]=65535;else if(pt[tr]===1/0)$t[tr]=31744;else if(pt[tr]===-1/0)$t[tr]=64512;else{ze[0]=pt[tr];var Er=(dt=tt[0])>>>31<<15,pr=(dt<<1>>>24)-127,dt=dt>>13&1023;$t[tr]=-24>pr?Er:-14>pr?Er+(dt+1024>>-14-pr):15<pr?Er+31744:Er+(pr+15<<10)+dt}return $t}function x(pt){return Array.isArray(pt)||Se(pt)}function E(pt){return"[object "+pt+"]"}function g(pt){return Array.isArray(pt)&&(0===pt.length||"number"==typeof pt[0])}function M(pt){return!(!Array.isArray(pt)||0===pt.length||!x(pt[0]))}function w(pt){return Object.prototype.toString.call(pt)}function n(pt){if(!pt)return!1;var $t=w(pt);return 0<=ke.indexOf($t)||g(pt)||M(pt)||f(pt)}function S(pt,$t){36193===pt.type?(pt.data=A($t),Pe.freeType($t)):pt.data=$t}function d(pt,$t,tr,Er,pr,dt){if(pt=typeof _e[pt]<"u"?_e[pt]:xt[pt]*Ne[$t],dt&&(pt*=6),pr){for(Er=0;1<=tr;)Er+=pt*tr*tr,tr/=2;return Er}return pt*tr*Er}function B(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function O(pt,$t,tr,Er,pr,dt,it){function mt(Lt){var Ct;Ct=null===$t.next?5121:$t.next.colorAttachments[0].texture._texture.type;var Ut=0,Bt=0,qt=Er.framebufferWidth,cr=Er.framebufferHeight,lr=null;return Se(Lt)?lr=Lt:Lt&&(Ut=0|Lt.x,Bt=0|Lt.y,qt=0|(Lt.width||Er.framebufferWidth-Ut),cr=0|(Lt.height||Er.framebufferHeight-Bt),lr=Lt.data||null),tr(),Lt=qt*cr*4,lr||(5121===Ct?lr=new Uint8Array(Lt):5126===Ct&&(lr=lr||new Float32Array(Lt))),pt.pixelStorei(3333,4),pt.readPixels(Ut,Bt,qt,cr,6408,Ct,lr),lr}return function(Lt){return Lt&&"framebuffer"in Lt?function St(Lt){var Ct;return $t.setFBO({framebuffer:Lt.framebuffer},function(){Ct=mt(Lt)}),Ct}(Lt):mt(Lt)}}function X(pt,$t){return pt>>>$t|pt<<32-$t}function ne(pt,$t){var tr=(65535&pt)+(65535&$t);return(pt>>16)+($t>>16)+(tr>>16)<<16|65535&tr}function ie(pt){return Array.prototype.slice.call(pt)}function ue(pt){return ie(pt).join("")}function J(pt){function $t(){var Ct=[],Ut=[];return q(function(){Ct.push.apply(Ct,ie(arguments))},{def:function(){var Bt="v"+pr++;return Ut.push(Bt),0<arguments.length&&(Ct.push(Bt,"="),Ct.push.apply(Ct,ie(arguments)),Ct.push(";")),Bt},toString:function(){return ue([0<Ut.length?"var "+Ut.join(",")+";":"",ue(Ct)])}})}function tr(){function Ct(lr,br){Bt(lr,br,"=",Ut.def(lr,br),";")}var Ut=$t(),Bt=$t(),qt=Ut.toString,cr=Bt.toString;return q(function(){Ut.apply(Ut,ie(arguments))},{def:Ut.def,entry:Ut,exit:Bt,save:Ct,set:function(lr,br,We){Ct(lr,br),Ut(lr,br,"=",We,";")},toString:function(){return qt()+cr()}})}var Er=pt&&pt.cache,pr=0,dt=[],it=[],mt=[],St=$t(),Lt={};return{global:St,link:function(Ct,Ut){var Bt=Ut&&Ut.stable;if(!Bt)for(var qt=0;qt<it.length;++qt)if(it[qt]===Ct&&!mt[qt])return dt[qt];return qt="g"+pr++,dt.push(qt),it.push(Ct),mt.push(Bt),qt},block:$t,proc:function(Ct,Ut){function Bt(){var br="a"+qt.length;return qt.push(br),br}var qt=[];Ut=Ut||0;for(var cr=0;cr<Ut;++cr)Bt();var lr=(cr=tr()).toString;return Lt[Ct]=q(cr,{arg:Bt,toString:function(){return ue(["function(",qt.join(),"){",lr(),"}"])}})},scope:tr,cond:function(){var Ct=ue(arguments),Ut=tr(),Bt=tr(),qt=Ut.toString,cr=Bt.toString;return q(Ut,{then:function(){return Ut.apply(Ut,ie(arguments)),this},else:function(){return Bt.apply(Bt,ie(arguments)),this},toString:function(){var lr=cr();return lr&&(lr="else{"+lr+"}"),ue(["if(",Ct,"){",qt(),"}",lr])}})},compile:function(){var Ct=['"use strict";',St,"return {"];Object.keys(Lt).forEach(function(qt){Ct.push('"',qt,'":',Lt[qt].toString(),",")}),Ct.push("}");var Bt,Ut=ue(Ct).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Er&&(Bt=function N(pt){for(var tr,$t="",Er=0;Er<pt.length;Er++)tr=pt.charCodeAt(Er),$t+="0123456789abcdef".charAt(tr>>>4&15)+"0123456789abcdef".charAt(15&tr);return $t}(function F(pt){for(var $t=Array(pt.length>>2),Er=0;Er<$t.length;Er++)$t[Er]=0;for(Er=0;Er<8*pt.length;Er+=8)$t[Er>>5]|=(255&pt.charCodeAt(Er/8))<<24-Er%32;var pr,dt,it,mt,St,Lt,Ct,Ut,Bt,qt,cr,tr=8*pt.length;for(pt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Er=Array(64),$t[tr>>5]|=128<<24-tr%32,$t[15+(tr+64>>9<<4)]=tr,Ut=0;Ut<$t.length;Ut+=16){for(tr=pt[0],pr=pt[1],dt=pt[2],it=pt[3],mt=pt[4],St=pt[5],Lt=pt[6],Ct=pt[7],Bt=0;64>Bt;Bt++){var lr;16>Bt?Er[Bt]=$t[Bt+Ut]:(qt=Bt,cr=ne(cr=X(cr=Er[Bt-2],17)^X(cr,19)^cr>>>10,Er[Bt-7]),lr=X(lr=Er[Bt-15],7)^X(lr,18)^lr>>>3,Er[qt]=ne(ne(cr,lr),Er[Bt-16])),qt=ne(ne(ne(ne(Ct,qt=X(qt=mt,6)^X(qt,11)^X(qt,25)),mt&St^~mt&Lt),Xe[Bt]),Er[Bt]),cr=ne(Ct=X(Ct=tr,2)^X(Ct,13)^X(Ct,22),tr&pr^tr&dt^pr&dt),Ct=Lt,Lt=St,St=mt,mt=ne(it,qt),it=dt,dt=pr,pr=tr,tr=ne(qt,cr)}pt[0]=ne(tr,pt[0]),pt[1]=ne(pr,pt[1]),pt[2]=ne(dt,pt[2]),pt[3]=ne(it,pt[3]),pt[4]=ne(mt,pt[4]),pt[5]=ne(St,pt[5]),pt[6]=ne(Lt,pt[6]),pt[7]=ne(Ct,pt[7])}for($t="",Er=0;Er<32*pt.length;Er+=8)$t+=String.fromCharCode(pt[Er>>5]>>>24-Er%32&255);return $t}(function H(pt){for(var Er,pr,$t="",tr=-1;++tr<pt.length;)Er=pt.charCodeAt(tr),pr=tr+1<pt.length?pt.charCodeAt(tr+1):0,55296<=Er&&56319>=Er&&56320<=pr&&57343>=pr&&(Er=65536+((1023&Er)<<10)+(1023&pr),tr++),127>=Er?$t+=String.fromCharCode(Er):2047>=Er?$t+=String.fromCharCode(192|Er>>>6&31,128|63&Er):65535>=Er?$t+=String.fromCharCode(224|Er>>>12&15,128|Er>>>6&63,128|63&Er):2097151>=Er&&($t+=String.fromCharCode(240|Er>>>18&7,128|Er>>>12&63,128|Er>>>6&63,128|63&Er));return $t}(Ut))),Er[Bt])?Er[Bt].apply(null,it):(Ut=Function.apply(null,dt.concat(Ut)),Er&&(Er[Bt]=Ut),Ut.apply(null,it))}}}function j(pt){return Array.isArray(pt)||Se(pt)||f(pt)}function W(pt){return pt.sort(function($t,tr){return"viewport"===$t?-1:"viewport"===tr?1:$t<tr?-1:1})}function V(pt,$t,tr,Er){this.thisDep=pt,this.contextDep=$t,this.propDep=tr,this.append=Er}function K(pt){return pt&&!(pt.thisDep||pt.contextDep||pt.propDep)}function ae(pt){return new V(!1,!1,!1,pt)}function Q(pt,$t){var tr=pt.type;if(0===tr)return new V(!0,1<=(tr=pt.data.length),2<=tr,$t);if(4===tr)return new V((tr=pt.data).thisDep,tr.contextDep,tr.propDep,$t);if(5===tr)return new V(!1,!1,!1,$t);if(6===tr){for(var Er=tr=!1,pr=!1,dt=0;dt<pt.data.length;++dt){var it=pt.data[dt];1===it.type?pr=!0:2===it.type?Er=!0:3===it.type?tr=!0:0===it.type?(tr=!0,1<=(it=it.data)&&(Er=!0),2<=it&&(pr=!0)):4===it.type&&(tr=tr||it.data.thisDep,Er=Er||it.data.contextDep,pr=pr||it.data.propDep)}return new V(tr,Er,pr,$t)}return new V(3===tr,2===tr,1===tr,$t)}function Z(pt,$t,tr,Er,pr,dt,it,mt,St,Lt,Ct,Ut,Bt,qt,cr,lr){function br(er){return er.replace(".","_")}function We(er,ge,Ue){var nt=br(er);En.push(er),Vn[nt]=An[nt]=!!Ue,Ln[nt]=ge}function Ve(er,ge,Ue){var nt=br(er);En.push(er),Array.isArray(Ue)?(An[nt]=Ue.slice(),Vn[nt]=Ue.slice()):An[nt]=Vn[nt]=Ue,Hn[nt]=ge}function Rt(){var er=J({cache:cr}),ge=er.link,Ue=er.global;er.id=Ja++,er.batchId="0";var nt=ge(Qn),ct=er.shared={props:"a0"};Object.keys(Qn).forEach(function(Ot){ct[Ot]=Ue.def(nt,".",Ot)});var Pt=er.next={},Ft=er.current={};Object.keys(Hn).forEach(function(Ot){Array.isArray(An[Ot])&&(Pt[Ot]=Ue.def(ct.next,".",Ot),Ft[Ot]=Ue.def(ct.current,".",Ot))});var Yt=er.constants={};Object.keys(ya).forEach(function(Ot){Yt[Ot]=Ue.def(JSON.stringify(ya[Ot]))}),er.invoke=function(Ot,Jt){switch(Jt.type){case 0:var Dr=["this",ct.context,ct.props,er.batchId];return Ot.def(ge(Jt.data),".call(",Dr.slice(0,Math.max(Jt.data.length+1,4)),")");case 1:return Ot.def(ct.props,Jt.data);case 2:return Ot.def(ct.context,Jt.data);case 3:return Ot.def("this",Jt.data);case 4:return Jt.data.append(er,Ot),Jt.data.ref;case 5:return Jt.data.toString();case 6:return Jt.data.map(function(Gr){return er.invoke(Ot,Gr)})}},er.attribCache={};var Vt={};return er.scopeAttrib=function(Ot){if((Ot=$t.id(Ot))in Vt)return Vt[Ot];var Jt=Lt.scope[Ot];return Jt||(Jt=Lt.scope[Ot]=new Yn),Vt[Ot]=ge(Jt)},er}function tn(er,ge,Ue,nt,ct){function Pt(bn){var In=Yt[bn];In&&(Ot[bn]=In)}var Ft=function hr(er,ge){if("string"==typeof(Ue=er.static).frag&&"string"==typeof Ue.vert){if(0<Object.keys(ge.dynamic).length)return null;var Ue=ge.static,nt=Object.keys(Ue);if(0<nt.length&&"number"==typeof Ue[nt[0]]){for(var ct=[],Pt=0;Pt<nt.length;++Pt)ct.push([0|Ue[nt[Pt]],nt[Pt]]);return ct}}return null}(er,ge),Yt=function sr(er,ge,Ue){function nt(Yt){if(Yt in ct){var Vt=ct[Yt];Yt=!0;var Dr,Gr,Ot=0|Vt.x,Jt=0|Vt.y;return"width"in Vt?Dr=0|Vt.width:Yt=!1,"height"in Vt?Gr=0|Vt.height:Yt=!1,new V(!Yt&&ge&&ge.thisDep,!Yt&&ge&&ge.contextDep,!Yt&&ge&&ge.propDep,function(zr,bn){var In=zr.shared.context,Bn=Dr;"width"in Vt||(Bn=bn.def(In,".","framebufferWidth","-",Ot));var ea=Gr;return"height"in Vt||(ea=bn.def(In,".","framebufferHeight","-",Jt)),[Ot,Jt,Bn,ea]})}if(Yt in Pt){var Yr=Pt[Yt];return Yt=Q(Yr,function(zr,bn){var ha=zr.invoke(bn,Yr),In=zr.shared.context,Bn=bn.def(ha,".x|0"),ea=bn.def(ha,".y|0");return[Bn,ea,bn.def('"width" in ',ha,"?",ha,".width|0:","(",In,".","framebufferWidth","-",Bn,")"),ha=bn.def('"height" in ',ha,"?",ha,".height|0:","(",In,".","framebufferHeight","-",ea,")")]}),ge&&(Yt.thisDep=Yt.thisDep||ge.thisDep,Yt.contextDep=Yt.contextDep||ge.contextDep,Yt.propDep=Yt.propDep||ge.propDep),Yt}return ge?new V(ge.thisDep,ge.contextDep,ge.propDep,function(zr,bn){var In=zr.shared.context;return[0,0,bn.def(In,".","framebufferWidth"),bn.def(In,".","framebufferHeight")]}):null}var ct=er.static,Pt=er.dynamic;if(er=nt("viewport")){var Ft=er;er=new V(er.thisDep,er.contextDep,er.propDep,function(Yt,Vt){var Ot=Ft.append(Yt,Vt),Jt=Yt.shared.context;return Vt.set(Jt,".viewportWidth",Ot[2]),Vt.set(Jt,".viewportHeight",Ot[3]),Ot})}return{viewport:er,scissor_box:nt("scissor.box")}}(er,Gr=function Kt(er,ge){var Ue=er.static,nt=er.dynamic;if("framebuffer"in Ue){var ct=Ue.framebuffer;return ct?(ct=mt.getFramebuffer(ct),ae(function(Ft,Yt){var Vt=Ft.link(ct),Ot=Ft.shared;return Yt.set(Ot.framebuffer,".next",Vt),Yt.set(Ot=Ot.context,".framebufferWidth",Vt+".width"),Yt.set(Ot,".framebufferHeight",Vt+".height"),Vt})):ae(function(Ft,Yt){var Vt=Ft.shared;return Yt.set(Vt.framebuffer,".next","null"),Yt.set(Vt=Vt.context,".framebufferWidth",Vt+".drawingBufferWidth"),Yt.set(Vt,".framebufferHeight",Vt+".drawingBufferHeight"),"null"})}if("framebuffer"in nt){var Pt=nt.framebuffer;return Q(Pt,function(Ft,Yt){var Jt=Ft.invoke(Yt,Pt),Vt=Ft.shared,Ot=Vt.framebuffer;return Jt=Yt.def(Ot,".getFramebuffer(",Jt,")"),Yt.set(Ot,".next",Jt),Yt.set(Vt=Vt.context,".framebufferWidth",Jt+"?"+Jt+".width:"+Vt+".drawingBufferWidth"),Yt.set(Vt,".framebufferHeight",Jt+"?"+Jt+".height:"+Vt+".drawingBufferHeight"),Jt})}return null}(er)),Vt=function Nt(er,ge){function Ue(zr,bn){if(zr in nt){var In=0|nt[zr];return bn?Pt.offset=In:Pt.instances=In,ae(function(ea,Kn){return bn&&(ea.OFFSET=In),In})}if(zr in ct){var Bn=ct[zr];return Q(Bn,function(ea,Kn){var ha=ea.invoke(Kn,Bn);return bn&&(ea.OFFSET=ha),ha})}if(bn){if(Vt)return ae(function(ea,Kn){return ea.OFFSET=0});if(Ft)return new V(Yt.thisDep,Yt.contextDep,Yt.propDep,function(ea,Kn){return Kn.def(ea.shared.vao+".currentVAO?"+ea.shared.vao+".currentVAO.offset:0")})}else if(Ft)return new V(Yt.thisDep,Yt.contextDep,Yt.propDep,function(ea,Kn){return Kn.def(ea.shared.vao+".currentVAO?"+ea.shared.vao+".currentVAO.instances:-1")});return null}var nt=er.static,ct=er.dynamic,Pt={},Ft=!1,Yt=function(){if("vao"in nt){var zr=nt.vao;return null!==zr&&null===Lt.getVAO(zr)&&(zr=Lt.createVAO(zr)),Ft=!0,Pt.vao=zr,ae(function(In){var Bn=Lt.getVAO(zr);return Bn?In.link(Bn):"null"})}if("vao"in ct){Ft=!0;var bn=ct.vao;return Q(bn,function(In,Bn){var ea=In.invoke(Bn,bn);return Bn.def(In.shared.vao+".getVAO("+ea+")")})}return null}(),Vt=!1,Ot=function(){if("elements"in nt){if(Pt.elements=zr=nt.elements,j(zr)){var bn=Pt.elements=dt.create(zr,!0),zr=dt.getElements(bn);Vt=!0}else zr&&(zr=dt.getElements(zr),Vt=!0);return(bn=ae(function(Bn,ea){if(zr){var Kn=Bn.link(zr);return Bn.ELEMENTS=Kn}return Bn.ELEMENTS=null})).value=zr,bn}if("elements"in ct){Vt=!0;var In=ct.elements;return Q(In,function(Bn,ea){var Di=(Kn=Bn.shared).isBufferArgs,Kn=Kn.elements,$a=Bn.invoke(ea,In),ha=ea.def("null");return Di=ea.def(Di,"(",$a,")"),$a=Bn.cond(Di).then(ha,"=",Kn,".createStream(",$a,");").else(ha,"=",Kn,".getElements(",$a,");"),ea.entry($a),ea.exit(Bn.cond(Di).then(Kn,".destroyStream(",ha,");")),Bn.ELEMENTS=ha})}return Ft?new V(Yt.thisDep,Yt.contextDep,Yt.propDep,function(Bn,ea){return ea.def(Bn.shared.vao+".currentVAO?"+Bn.shared.elements+".getElements("+Bn.shared.vao+".currentVAO.elements):null")}):null}(),Jt=Ue("offset",!0),Dr=function(){if("primitive"in nt){var zr=nt.primitive;return Pt.primitive=zr,ae(function(In,Bn){return Be[zr]})}if("primitive"in ct){var bn=ct.primitive;return Q(bn,function(In,Bn){var ea=In.constants.primTypes,Kn=In.invoke(Bn,bn);return Bn.def(ea,"[",Kn,"]")})}return Vt?K(Ot)?ae(Ot.value?function(In,Bn){return Bn.def(In.ELEMENTS,".primType")}:function(){return 4}):new V(Ot.thisDep,Ot.contextDep,Ot.propDep,function(In,Bn){var ea=In.ELEMENTS;return Bn.def(ea,"?",ea,".primType:",4)}):Ft?new V(Yt.thisDep,Yt.contextDep,Yt.propDep,function(In,Bn){return Bn.def(In.shared.vao+".currentVAO?"+In.shared.vao+".currentVAO.primitive:4")}):null}(),Gr=function(){if("count"in nt){var zr=0|nt.count;return Pt.count=zr,ae(function(){return zr})}if("count"in ct){var bn=ct.count;return Q(bn,function(In,Bn){return In.invoke(Bn,bn)})}return Vt?K(Ot)?Ot?Jt?new V(Jt.thisDep,Jt.contextDep,Jt.propDep,function(In,Bn){return Bn.def(In.ELEMENTS,".vertCount-",In.OFFSET)}):ae(function(In,Bn){return Bn.def(In.ELEMENTS,".vertCount")}):ae(function(){return-1}):new V(Ot.thisDep||Jt.thisDep,Ot.contextDep||Jt.contextDep,Ot.propDep||Jt.propDep,function(In,Bn){var ea=In.ELEMENTS;return In.OFFSET?Bn.def(ea,"?",ea,".vertCount-",In.OFFSET,":-1"):Bn.def(ea,"?",ea,".vertCount:-1")}):Ft?new V(Yt.thisDep,Yt.contextDep,Yt.propDep,function(In,Bn){return Bn.def(In.shared.vao,".currentVAO?",In.shared.vao,".currentVAO.count:-1")}):null}(),Yr=Ue("instances",!1);return{elements:Ot,primitive:Dr,count:Gr,instances:Yr,offset:Jt,vao:Yt,vaoActive:Ft,elementsActive:Vt,static:Pt}}(er),Ot=function dr(er,ge){var Ue=er.static,nt=er.dynamic,ct={};return En.forEach(function(Pt){function Ft(Vt,Ot){if(Pt in Ue){var Jt=Vt(Ue[Pt]);ct[Yt]=ae(function(){return Jt})}else if(Pt in nt){var Dr=nt[Pt];ct[Yt]=Q(Dr,function(Gr,Yr){return Ot(Gr,Yr,Gr.invoke(Yr,Dr))})}}var Yt=br(Pt);switch(Pt){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return Ft(function(Vt){return Vt},function(Vt,Ot,Jt){return Jt});case"depth.func":return Ft(function(Vt){return rr[Vt]},function(Vt,Ot,Jt){return Ot.def(Vt.constants.compareFuncs,"[",Jt,"]")});case"depth.range":return Ft(function(Vt){return Vt},function(Vt,Ot,Jt){return[Ot.def("+",Jt,"[0]"),Ot=Ot.def("+",Jt,"[1]")]});case"blend.func":return Ft(function(Vt){return[Xt["srcRGB"in Vt?Vt.srcRGB:Vt.src],Xt["dstRGB"in Vt?Vt.dstRGB:Vt.dst],Xt["srcAlpha"in Vt?Vt.srcAlpha:Vt.src],Xt["dstAlpha"in Vt?Vt.dstAlpha:Vt.dst]]},function(Vt,Ot,Jt){function Dr(bn,In){return Ot.def('"',bn,In,'" in ',Jt,"?",Jt,".",bn,In,":",Jt,".",bn)}Vt=Vt.constants.blendFuncs;var Gr=Dr("src","RGB"),zr=Dr("dst","RGB"),Yr=(Gr=Ot.def(Vt,"[",Gr,"]"),Ot.def(Vt,"[",Dr("src","Alpha"),"]"));return[Gr,zr=Ot.def(Vt,"[",zr,"]"),Yr,Vt=Ot.def(Vt,"[",Dr("dst","Alpha"),"]")]});case"blend.equation":return Ft(function(Vt){return"string"==typeof Vt?[ra[Vt],ra[Vt]]:"object"==typeof Vt?[ra[Vt.rgb],ra[Vt.alpha]]:void 0},function(Vt,Ot,Jt){var Dr=Vt.constants.blendEquations,Gr=Ot.def(),Yr=Ot.def();return(Vt=Vt.cond("typeof ",Jt,'==="string"')).then(Gr,"=",Yr,"=",Dr,"[",Jt,"];"),Vt.else(Gr,"=",Dr,"[",Jt,".rgb];",Yr,"=",Dr,"[",Jt,".alpha];"),Ot(Vt),[Gr,Yr]});case"blend.color":return Ft(function(Vt){return l(4,function(Ot){return+Vt[Ot]})},function(Vt,Ot,Jt){return l(4,function(Dr){return Ot.def("+",Jt,"[",Dr,"]")})});case"stencil.mask":return Ft(function(Vt){return 0|Vt},function(Vt,Ot,Jt){return Ot.def(Jt,"|0")});case"stencil.func":return Ft(function(Vt){return[rr[Vt.cmp||"keep"],Vt.ref||0,"mask"in Vt?Vt.mask:-1]},function(Vt,Ot,Jt){return[Vt=Ot.def('"cmp" in ',Jt,"?",Vt.constants.compareFuncs,"[",Jt,".cmp]",":",7680),Ot.def(Jt,".ref|0"),Ot=Ot.def('"mask" in ',Jt,"?",Jt,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return Ft(function(Vt){return["stencil.opBack"===Pt?1029:1028,At[Vt.fail||"keep"],At[Vt.zfail||"keep"],At[Vt.zpass||"keep"]]},function(Vt,Ot,Jt){function Dr(Yr){return Ot.def('"',Yr,'" in ',Jt,"?",Gr,"[",Jt,".",Yr,"]:",7680)}var Gr=Vt.constants.stencilOps;return["stencil.opBack"===Pt?1029:1028,Dr("fail"),Dr("zfail"),Dr("zpass")]});case"polygonOffset.offset":return Ft(function(Vt){return[0|Vt.factor,0|Vt.units]},function(Vt,Ot,Jt){return[Ot.def(Jt,".factor|0"),Ot=Ot.def(Jt,".units|0")]});case"cull.face":return Ft(function(Vt){var Ot=0;return"front"===Vt?Ot=1028:"back"===Vt&&(Ot=1029),Ot},function(Vt,Ot,Jt){return Ot.def(Jt,'==="front"?',1028,":",1029)});case"frontFace":return Ft(function(Vt){return zt[Vt]},function(Vt,Ot,Jt){return Ot.def(Jt+'==="cw"?2304:2305')});case"colorMask":return Ft(function(Vt){return Vt.map(function(Ot){return!!Ot})},function(Vt,Ot,Jt){return l(4,function(Dr){return"!!"+Jt+"["+Dr+"]"})});case"sample.coverage":return Ft(function(Vt){return["value"in Vt?Vt.value:1,!!Vt.invert]},function(Vt,Ot,Jt){return[Ot.def('"value" in ',Jt,"?+",Jt,".value:1"),Ot=Ot.def("!!",Jt,".invert")]})}}),ct}(er),Jt=function or(er,ge,Ue){function nt(Ot){if(Ot in ct){var Jt=$t.id(ct[Ot]);return(Ot=ae(function(){return Jt})).id=Jt,Ot}if(Ot in Pt){var Dr=Pt[Ot];return Q(Dr,function(Gr,Yr){var zr=Gr.invoke(Yr,Dr);return Yr.def(Gr.shared.strings,".id(",zr,")")})}return null}var ct=er.static,Pt=er.dynamic,Ft=nt("frag"),Yt=nt("vert"),Vt=null;return K(Ft)&&K(Yt)?(Vt=Ct.program(Yt.id,Ft.id,null,Ue),er=ae(function(Ot,Jt){return Ot.link(Vt)})):er=new V(Ft&&Ft.thisDep||Yt&&Yt.thisDep,Ft&&Ft.contextDep||Yt&&Yt.contextDep,Ft&&Ft.propDep||Yt&&Yt.propDep,function(Ot,Jt){var Gr,Yr,Dr=Ot.shared.shader;return Gr=Ft?Ft.append(Ot,Jt):Jt.def(Dr,".","frag"),Yr=Yt?Yt.append(Ot,Jt):Jt.def(Dr,".","vert"),Jt.def(Dr+".program("+Yr+","+Gr+")")}),{frag:Ft,vert:Yt,progVar:er,program:Vt}}(er,0,Ft);Pt("viewport"),Pt(br("scissor.box"));var Gr,Dr=0<Object.keys(Ot).length;if((Gr={framebuffer:Gr,draw:Vt,shader:Jt,state:Ot,dirty:Dr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function _t(er){var Ue,ge=er.static;if(er=er.dynamic,"profile"in ge){var nt=!!ge.profile;(Ue=ae(function(Pt,Ft){return nt})).enable=nt}else if("profile"in er){var ct=er.profile;Ue=Q(ct,function(Pt,Ft){return Pt.invoke(Ft,ct)})}return Ue}(er),Gr.uniforms=function Mr(er,ge){var Ue=er.static,nt=er.dynamic,ct={};return Object.keys(Ue).forEach(function(Pt){var Yt,Ft=Ue[Pt];if("number"==typeof Ft||"boolean"==typeof Ft)Yt=ae(function(){return Ft});else if("function"==typeof Ft){var Vt=Ft._reglType;"texture2d"===Vt||"textureCube"===Vt?Yt=ae(function(Ot){return Ot.link(Ft)}):("framebuffer"===Vt||"framebufferCube"===Vt)&&(Yt=ae(function(Ot){return Ot.link(Ft.color[0])}))}else x(Ft)&&(Yt=ae(function(Ot){return Ot.global.def("[",l(Ft.length,function(Jt){return Ft[Jt]}),"]")}));Yt.value=Ft,ct[Pt]=Yt}),Object.keys(nt).forEach(function(Pt){var Ft=nt[Pt];ct[Pt]=Q(Ft,function(Yt,Vt){return Yt.invoke(Vt,Ft)})}),ct}(Ue),Gr.drawVAO=Gr.scopeVAO=Vt.vao,!Gr.drawVAO&&Jt.program&&!Ft&&tr.angle_instanced_arrays&&Vt.static.elements){var Yr=!0;if(er=Jt.program.attributes.map(function(bn){return bn=ge.static[bn],Yr=Yr&&!!bn,bn}),Yr&&0<er.length){var zr=Lt.getVAO(Lt.createVAO({attributes:er,elements:Vt.static.elements}));Gr.drawVAO=new V(null,null,null,function(bn,In){return bn.link(zr)}),Gr.useVAO=!0}}return Ft?Gr.useVAO=!0:Gr.attributes=function wr(er,ge){var Ue=er.static,nt=er.dynamic,ct={};return Object.keys(Ue).forEach(function(Pt){var Ft=Ue[Pt],Yt=$t.id(Pt),Vt=new Yn;if(j(Ft))Vt.state=1,Vt.buffer=pr.getBuffer(pr.create(Ft,34962,!1,!0)),Vt.type=0;else if(Ot=pr.getBuffer(Ft))Vt.state=1,Vt.buffer=Ot,Vt.type=0;else if("constant"in Ft){var Jt=Ft.constant;Vt.buffer="null",Vt.state=2,"number"==typeof Jt?Vt.x=Jt:at.forEach(function(In,Bn){Bn<Jt.length&&(Vt[In]=Jt[Bn])})}else{var Ot=j(Ft.buffer)?pr.getBuffer(pr.create(Ft.buffer,34962,!1,!0)):pr.getBuffer(Ft.buffer),Dr=0|Ft.offset,Gr=0|Ft.stride,Yr=0|Ft.size,zr=!!Ft.normalized,bn=0;"type"in Ft&&(bn=Ye[Ft.type]),Ft=0|Ft.divisor,Vt.buffer=Ot,Vt.state=1,Vt.size=Yr,Vt.normalized=zr,Vt.type=bn||Ot.dtype,Vt.offset=Dr,Vt.stride=Gr,Vt.divisor=Ft}ct[Pt]=ae(function(In,Bn){var ea=In.attribCache;if(Yt in ea)return ea[Yt];var Kn={isStream:!1};return Object.keys(Vt).forEach(function(ha){Kn[ha]=Vt[ha]}),Vt.buffer&&(Kn.buffer=In.link(Vt.buffer),Kn.type=Kn.type||Kn.buffer+".dtype"),ea[Yt]=Kn})}),Object.keys(nt).forEach(function(Pt){var Ft=nt[Pt];ct[Pt]=Q(Ft,function(Yt,Vt){function Ot(ea){Vt(zr[ea],"=",Jt,".",ea,"|0;")}var Jt=Yt.invoke(Vt,Ft),Dr=Yt.constants,Gr=(Yr=Yt.shared).isBufferArgs,Yr=Yr.buffer,zr={isStream:Vt.def(!1)},bn=new Yn;bn.state=1,Object.keys(bn).forEach(function(ea){zr[ea]=Vt.def(""+bn[ea])});var In=zr.buffer,Bn=zr.type;return Vt("if(",Gr,"(",Jt,")){",zr.isStream,"=true;",In,"=",Yr,".createStream(",34962,",",Jt,");",Bn,"=",In,".dtype;","}else{",In,"=",Yr,".getBuffer(",Jt,");","if(",In,"){",Bn,"=",In,".dtype;",'}else if("constant" in ',Jt,"){",zr.state,"=",2,";","if(typeof "+Jt+'.constant === "number"){',zr[at[0]],"=",Jt,".constant;",at.slice(1).map(function(ea){return zr[ea]}).join("="),"=0;","}else{",at.map(function(ea,Kn){return zr[ea]+"="+Jt+".constant.length>"+Kn+"?"+Jt+".constant["+Kn+"]:0;"}).join(""),"}}else{","if(",Gr,"(",Jt,".buffer)){",In,"=",Yr,".createStream(",34962,",",Jt,".buffer);","}else{",In,"=",Yr,".getBuffer(",Jt,".buffer);","}",Bn,'="type" in ',Jt,"?",Dr.glTypes,"[",Jt,".type]:",In,".dtype;",zr.normalized,"=!!",Jt,".normalized;"),Ot("size"),Ot("offset"),Ot("stride"),Ot("divisor"),Vt("}}"),Vt.exit("if(",zr.isStream,"){",Yr,".destroyStream(",In,");","}"),zr})}),ct}(ge),Gr.context=function kr(er){var ge=er.static,Ue=er.dynamic,nt={};return Object.keys(ge).forEach(function(ct){var Pt=ge[ct];nt[ct]=ae(function(Ft,Yt){return"number"==typeof Pt||"boolean"==typeof Pt?""+Pt:Ft.link(Pt)})}),Object.keys(Ue).forEach(function(ct){var Pt=Ue[ct];nt[ct]=Q(Pt,function(Ft,Yt){return Ft.invoke(Yt,Pt)})}),nt}(nt),Gr}function _r(er,ge,Ue){var nt=er.shared.context,ct=er.scope();Object.keys(Ue).forEach(function(Pt){ge.save(nt,"."+Pt);var Ft=Ue[Pt].append(er,ge);Array.isArray(Ft)?ct(nt,".",Pt,"=[",Ft.join(),"];"):ct(nt,".",Pt,"=",Ft,";")}),ge(ct)}function Kr(er,ge,Ue,nt){var Ft,ct=(Yt=er.shared).gl,Pt=Yt.framebuffer;un&&(Ft=ge.def(Yt.extensions,".webgl_draw_buffers"));var Yt=(Vt=er.constants).drawBuffer,Vt=Vt.backBuffer;er=Ue?Ue.append(er,ge):ge.def(Pt,".next"),nt||ge("if(",er,"!==",Pt,".cur){"),ge("if(",er,"){",ct,".bindFramebuffer(",36160,",",er,".framebuffer);"),un&&ge(Ft,".drawBuffersWEBGL(",Yt,"[",er,".colorAttachments.length]);"),ge("}else{",ct,".bindFramebuffer(",36160,",null);"),un&&ge(Ft,".drawBuffersWEBGL(",Vt,");"),ge("}",Pt,".cur=",er,";"),nt||ge("}")}function vn(er,ge,Ue){var nt=er.shared,ct=nt.gl,Pt=er.current,Ft=er.next,Yt=nt.current,Vt=nt.next,Ot=er.cond(Yt,".dirty");En.forEach(function(Jt){var Dr,Gr;if(!((Jt=br(Jt))in Ue.state))if(Jt in Ft){Dr=Ft[Jt],Gr=Pt[Jt];var Yr=l(An[Jt].length,function(zr){return Ot.def(Dr,"[",zr,"]")});Ot(er.cond(Yr.map(function(zr,bn){return zr+"!=="+Gr+"["+bn+"]"}).join("||")).then(ct,".",Hn[Jt],"(",Yr,");",Yr.map(function(zr,bn){return Gr+"["+bn+"]="+zr}).join(";"),";"))}else Dr=Ot.def(Vt,".",Jt),Yr=er.cond(Dr,"!==",Yt,".",Jt),Ot(Yr),Jt in Ln?Yr(er.cond(Dr).then(ct,".enable(",Ln[Jt],");").else(ct,".disable(",Ln[Jt],");"),Yt,".",Jt,"=",Dr,";"):Yr(ct,".",Hn[Jt],"(",Dr,");",Yt,".",Jt,"=",Dr,";")}),0===Object.keys(Ue.state).length&&Ot(Yt,".dirty=false;"),ge(Ot)}function Xr(er,ge,Ue,nt){var Vt,ct=er.shared,Pt=er.current,Ft=ct.current,Yt=ct.gl;W(Object.keys(Ue)).forEach(function(Ot){var Jt=Ue[Ot];if(!nt||nt(Jt)){var Dr=Jt.append(er,ge);if(Ln[Ot]){var Gr=Ln[Ot];K(Jt)?(Vt=er.link(Dr,{stable:!0}),ge(er.cond(Vt).then(Yt,".enable(",Gr,");").else(Yt,".disable(",Gr,");")),ge(Ft,".",Ot,"=",Vt,";")):(ge(er.cond(Dr).then(Yt,".enable(",Gr,");").else(Yt,".disable(",Gr,");")),ge(Ft,".",Ot,"=",Dr,";"))}else if(x(Dr)){var Yr=Pt[Ot];ge(Yt,".",Hn[Ot],"(",Dr,");",Dr.map(function(zr,bn){return Yr+"["+bn+"]="+zr}).join(";"),";")}else K(Jt)?(Vt=er.link(Dr,{stable:!0}),ge(Yt,".",Hn[Ot],"(",Vt,");",Ft,".",Ot,"=",Vt,";")):ge(Yt,".",Hn[Ot],"(",Dr,");",Ft,".",Ot,"=",Dr,";")}})}function On(er,ge){Sr&&(er.instancing=ge.def(er.shared.extensions,".angle_instanced_arrays"))}function mn(er,ge,Ue,nt,ct){function Pt(){return typeof performance>"u"?"Date.now()":"performance.now()"}function Ft(bn){bn(Yr=ge.def(),"=",Pt(),";"),"string"==typeof ct?bn(Jt,".count+=",ct,";"):bn(Jt,".count++;"),qt&&(nt?bn(zr=ge.def(),"=",Gr,".getNumPendingQueries();"):bn(Gr,".beginQuery(",Jt,");"))}function Yt(bn){bn(Jt,".cpuTime+=",Pt(),"-",Yr,";"),qt&&(nt?bn(Gr,".pushScopeStats(",zr,",",Gr,".getNumPendingQueries(),",Jt,");"):bn(Gr,".endQuery();"))}function Vt(bn){var In=ge.def(Dr,".profile");ge(Dr,".profile=",bn,";"),ge.exit(Dr,".profile=",In,";")}var Yr,zr,Ot=er.shared,Jt=er.stats,Dr=Ot.current,Gr=Ot.timer;if(Ue=Ue.profile){if(K(Ue))return void(Ue.enable?(Ft(ge),Yt(ge.exit),Vt("true")):Vt("false"));Vt(Ue=Ue.append(er,ge))}else Ue=ge.def(Dr,".profile");Ft(Ot=er.block()),ge("if(",Ue,"){",Ot,"}"),Yt(er=er.block()),ge.exit("if(",Ue,"){",er,"}")}function xr(er,ge,Ue,nt,ct){var Yt=er.shared;nt.forEach(function(Vt){var Dr,Ot=Vt.name,Jt=Ue.attributes[Ot];if(Jt){if(!ct(Jt))return;Dr=Jt.append(er,ge)}else{if(!ct(Qt))return;var Gr=er.scopeAttrib(Ot);Dr={},Object.keys(new Yn).forEach(function(Yr){Dr[Yr]=ge.def(Gr,".",Yr)})}!function Ft(Vt,Ot,Jt){function Dr(){ge("if(!",bn,".buffer){",Yr,".enableVertexAttribArray(",zr,");}");var ha,Kn=Jt.type;ha=Jt.size?ge.def(Jt.size,"||",Ot):Ot,ge("if(",bn,".type!==",Kn,"||",bn,".size!==",ha,"||",ea.map(function(Di){return bn+"."+Di+"!=="+Jt[Di]}).join("||"),"){",Yr,".bindBuffer(",34962,",",In,".buffer);",Yr,".vertexAttribPointer(",[zr,ha,Kn,Jt.normalized,Jt.stride,Jt.offset],");",bn,".type=",Kn,";",bn,".size=",ha,";",ea.map(function(Di){return bn+"."+Di+"="+Jt[Di]+";"}).join(""),"}"),Sr&&ge("if(",bn,".divisor!==",Kn=Jt.divisor,"){",er.instancing,".vertexAttribDivisorANGLE(",[zr,Kn],");",bn,".divisor=",Kn,";}")}function Gr(){ge("if(",bn,".buffer){",Yr,".disableVertexAttribArray(",zr,");",bn,".buffer=null;","}if(",at.map(function(Kn,ha){return bn+"."+Kn+"!=="+Bn[ha]}).join("||"),"){",Yr,".vertexAttrib4f(",zr,",",Bn,");",at.map(function(Kn,ha){return bn+"."+Kn+"="+Bn[ha]+";"}).join(""),"}")}var Yr=Yt.gl,zr=ge.def(Vt,".location"),bn=ge.def(Yt.attributes,"[",zr,"]"),In=Jt.buffer,Bn=[Jt.x,Jt.y,Jt.z,Jt.w],ea=["buffer","normalized","offset","stride"];1===(Vt=Jt.state)?Dr():2===Vt?Gr():(ge("if(",Vt,"===",1,"){"),Dr(),ge("}else{"),Gr(),ge("}"))}(er.link(Vt),function Pt(Vt){switch(Vt){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Vt.info.type),Dr)})}function Pr(er,ge,Ue,nt,ct,Pt){for(var Vt,Ft=er.shared,Yt=Ft.gl,Ot=0;Ot<nt.length;++Ot){var zr,Jt=(Yr=nt[Ot]).name,Dr=Yr.info.type,Gr=Ue.uniforms[Jt],Yr=er.link(Yr)+".location";if(Gr){if(!ct(Gr))continue;if(K(Gr)){if(Jt=Gr.value,35678===Dr||35680===Dr)ge(Yt,".uniform1i(",Yr,",",(Dr=er.link(Jt._texture||Jt.color[0]._texture))+".bind());"),ge.exit(Dr,".unbind();");else if(35674===Dr||35675===Dr||35676===Dr)Gr=2,35675===Dr?Gr=3:35676===Dr&&(Gr=4),ge(Yt,".uniformMatrix",Gr,"fv(",Yr,",false,",Jt=er.global.def("new Float32Array(["+Array.prototype.slice.call(Jt)+"])"),");");else{switch(Dr){case 5126:Vt="1f";break;case 35664:Vt="2f";break;case 35665:Vt="3f";break;case 35666:Vt="4f";break;case 35670:case 5124:Vt="1i";break;case 35671:case 35667:Vt="2i";break;case 35672:case 35668:Vt="3i";break;case 35673:case 35669:Vt="4i"}ge(Yt,".uniform",Vt,"(",Yr,",",x(Jt)?Array.prototype.slice.call(Jt):Jt,");")}continue}zr=Gr.append(er,ge)}else{if(!ct(Qt))continue;zr=ge.def(Ft.uniforms,"[",$t.id(Jt),"]")}switch(35678===Dr?ge("if(",zr,"&&",zr,'._reglType==="framebuffer"){',zr,"=",zr,".color[0];","}"):35680===Dr&&ge("if(",zr,"&&",zr,'._reglType==="framebufferCube"){',zr,"=",zr,".color[0];","}"),Jt=1,Dr){case 35678:case 35680:Dr=ge.def(zr,"._texture"),ge(Yt,".uniform1i(",Yr,",",Dr,".bind());"),ge.exit(Dr,".unbind();");continue;case 5124:case 35670:Vt="1i";break;case 35667:case 35671:Vt="2i",Jt=2;break;case 35668:case 35672:Vt="3i",Jt=3;break;case 35669:case 35673:Vt="4i",Jt=4;break;case 5126:Vt="1f";break;case 35664:Vt="2f",Jt=2;break;case 35665:Vt="3f",Jt=3;break;case 35666:Vt="4f",Jt=4;break;case 35674:Vt="Matrix2fv";break;case 35675:Vt="Matrix3fv";break;case 35676:Vt="Matrix4fv"}if("M"===Vt.charAt(0)){ge(Yt,".uniform",Vt,"(",Yr,","),Yr=Math.pow(Dr-35674+2,2);var bn=er.global.def("new Float32Array(",Yr,")");Array.isArray(zr)?ge("false,(",l(Yr,function(ea){return bn+"["+ea+"]="+zr[ea]}),",",bn,")"):ge("false,(Array.isArray(",zr,")||",zr," instanceof Float32Array)?",zr,":(",l(Yr,function(ea){return bn+"["+ea+"]="+zr+"["+ea+"]"}),",",bn,")"),ge(");")}else{if(1<Jt){Dr=[];var In=[];for(Gr=0;Gr<Jt;++Gr)Array.isArray(zr)?In.push(zr[Gr]):In.push(ge.def(zr+"["+Gr+"]")),Pt&&Dr.push(ge.def());Pt&&ge("if(!",er.batchId,"||",Dr.map(function(Bn,ea){return Bn+"!=="+In[ea]}).join("||"),"){",Dr.map(function(Bn,ea){return Bn+"="+In[ea]+";"}).join("")),ge(Yt,".uniform",Vt,"(",Yr,",",In.join(","),");")}else Pt&&(Dr=ge.def(),ge("if(!",er.batchId,"||",Dr,"!==",zr,"){",Dr,"=",zr,";")),ge(Yt,".uniform",Vt,"(",Yr,",",zr,");");Pt&&ge("}")}}}function Zr(er,ge,Ue,nt){function ct(Kn){var ha=Jt[Kn];return ha?ha.append(er,ha.contextDep&&nt.contextDynamic||ha.propDep?Ue:ge):ge.def(Ot,".",Kn)}function Pt(){function Kn(){Ue(In,".drawElementsInstancedANGLE(",[Gr,zr,Bn,Yr+"<<(("+Bn+"-5121)>>1)",bn],");")}function ha(){Ue(In,".drawArraysInstancedANGLE(",[Gr,Yr,zr,bn],");")}Dr&&"null"!==Dr?ea?Kn():(Ue("if(",Dr,"){"),Kn(),Ue("}else{"),ha(),Ue("}")):ha()}function Ft(){function Kn(){Ue(Vt+".drawElements("+[Gr,zr,Bn,Yr+"<<(("+Bn+"-5121)>>1)"]+");")}function ha(){Ue(Vt+".drawArrays("+[Gr,Yr,zr]+");")}Dr&&"null"!==Dr?ea?Kn():(Ue("if(",Dr,"){"),Kn(),Ue("}else{"),ha(),Ue("}")):ha()}var Kn,ha,bn,In,Yt=er.shared,Vt=Yt.gl,Ot=Yt.draw,Jt=nt.draw,Dr=(ha=ge,(Kn=Jt.elements)?((Kn.contextDep&&nt.contextDynamic||Kn.propDep)&&(ha=Ue),Kn=Kn.append(er,ha),Jt.elementsActive&&ha("if("+Kn+")"+Vt+".bindBuffer(34963,"+Kn+".buffer.buffer);")):(Kn=ha.def(),ha(Kn,"=",Ot,".","elements",";","if(",Kn,"){",Vt,".bindBuffer(",34963,",",Kn,".buffer.buffer);}","else if(",Yt.vao,".currentVAO){",Kn,"=",er.shared.elements+".getElements("+Yt.vao,".currentVAO.elements);",ln?"":"if("+Kn+")"+Vt+".bindBuffer(34963,"+Kn+".buffer.buffer);","}")),Kn),Gr=ct("primitive"),Yr=ct("offset"),zr=function(){var Kn=Jt.count,ha=ge;return Kn?((Kn.contextDep&&nt.contextDynamic||Kn.propDep)&&(ha=Ue),Kn=Kn.append(er,ha)):Kn=ha.def(Ot,".","count"),Kn}();if("number"==typeof zr){if(0===zr)return}else Ue("if(",zr,"){"),Ue.exit("}");Sr&&(bn=ct("instances"),In=er.instancing);var Bn=Dr+".type",ea=Jt.elements&&K(Jt.elements)&&!Jt.vaoActive;Sr&&("number"!=typeof bn||0<=bn)?"string"==typeof bn?(Ue("if(",bn,">0){"),Pt(),Ue("}else if(",bn,"<0){"),Ft(),Ue("}")):Pt():Ft()}function Hr(er,ge,Ue,nt,ct){return ct=(ge=Rt()).proc("body",ct),Sr&&(ge.instancing=ct.def(ge.shared.extensions,".angle_instanced_arrays")),er(ge,ct,Ue,nt),ge.compile().body}function fn(er,ge,Ue,nt){On(er,ge),Ue.useVAO?Ue.drawVAO?ge(er.shared.vao,".setVAO(",Ue.drawVAO.append(er,ge),");"):ge(er.shared.vao,".setVAO(",er.shared.vao,".targetVAO);"):(ge(er.shared.vao,".setVAO(null);"),xr(er,ge,Ue,nt.attributes,function(){return!0})),Pr(er,ge,Ue,nt.uniforms,function(){return!0},!1),Zr(er,ge,ge,Ue)}function Mn(er,ge,Ue,nt){function ct(){return!0}er.batchId="a1",On(er,ge),xr(er,ge,Ue,nt.attributes,ct),Pr(er,ge,Ue,nt.uniforms,ct,!1),Zr(er,ge,ge,Ue)}function Pn(er,ge,Ue,nt){function ct(Dr){return Dr.contextDep&&Ft||Dr.propDep}function Pt(Dr){return!ct(Dr)}On(er,ge);var Ft=Ue.contextDep,Yt=ge.def(),Vt=ge.def();er.shared.props=Vt,er.batchId=Yt;var Ot=er.scope(),Jt=er.scope();ge(Ot.entry,"for(",Yt,"=0;",Yt,"<","a1",";++",Yt,"){",Vt,"=","a0","[",Yt,"];",Jt,"}",Ot.exit),Ue.needsContext&&_r(er,Jt,Ue.context),Ue.needsFramebuffer&&Kr(er,Jt,Ue.framebuffer),Xr(er,Jt,Ue.state,ct),Ue.profile&&ct(Ue.profile)&&mn(er,Jt,Ue,!1,!0),nt?(Ue.useVAO?Ue.drawVAO?ct(Ue.drawVAO)?Jt(er.shared.vao,".setVAO(",Ue.drawVAO.append(er,Jt),");"):Ot(er.shared.vao,".setVAO(",Ue.drawVAO.append(er,Ot),");"):Ot(er.shared.vao,".setVAO(",er.shared.vao,".targetVAO);"):(Ot(er.shared.vao,".setVAO(null);"),xr(er,Ot,Ue,nt.attributes,Pt),xr(er,Jt,Ue,nt.attributes,ct)),Pr(er,Ot,Ue,nt.uniforms,Pt,!1),Pr(er,Jt,Ue,nt.uniforms,ct,!0),Zr(er,Ot,Jt,Ue)):(ge=er.global.def("{}"),nt=Ue.shader.progVar.append(er,Jt),Vt=Jt.def(nt,".id"),Ot=Jt.def(ge,"[",Vt,"]"),Jt(er.shared.gl,".useProgram(",nt,".program);","if(!",Ot,"){",Ot,"=",ge,"[",Vt,"]=",er.link(function(Dr){return Hr(Mn,er,Ue,Dr,2)}),"(",nt,");}",Ot,".call(this,a0[",Yt,"],",Yt,");"))}function na(er,ge,Ue){var ct=ge.static[Ue];if(ct&&function Xn(er){if("object"==typeof er&&!x(er)){for(var ge=Object.keys(er),Ue=0;Ue<ge.length;++Ue)if(de.isDynamic(er[ge[Ue]]))return!0;return!1}}(ct)){var Pt=er.global,Ft=Object.keys(ct),Yt=!1,Vt=!1,Ot=!1,Jt=er.global.def("{}");Ft.forEach(function(Dr){var Gr=ct[Dr];if(de.isDynamic(Gr))"function"==typeof Gr&&(Gr=ct[Dr]=de.unbox(Gr)),Dr=Q(Gr,null),Yt=Yt||Dr.thisDep,Ot=Ot||Dr.propDep,Vt=Vt||Dr.contextDep;else{switch(Pt(Jt,".",Dr,"="),typeof Gr){case"number":Pt(Gr);break;case"string":Pt('"',Gr,'"');break;case"object":Array.isArray(Gr)&&Pt("[",Gr.join(),"]");break;default:Pt(er.link(Gr))}Pt(";")}}),ge.dynamic[Ue]=new de.DynamicVariable(4,{thisDep:Yt,contextDep:Vt,propDep:Ot,ref:Jt,append:function nt(Dr,Gr){Ft.forEach(function(Yr){var zr=ct[Yr];de.isDynamic(zr)&&(zr=Dr.invoke(Gr,zr),Gr(Jt,".",Yr,"=",zr,";"))})}}),delete ge.static[Ue]}}var Yn=Lt.Record,ra={add:32774,subtract:32778,"reverse subtract":32779};tr.ext_blend_minmax&&(ra.min=32775,ra.max=32776);var Sr=tr.angle_instanced_arrays,un=tr.webgl_draw_buffers,ln=tr.oes_vertex_array_object,An={dirty:!0,profile:lr.profile},Vn={},En=[],Ln={},Hn={};We("dither",3024),We("blend.enable",3042),Ve("blend.color","blendColor",[0,0,0,0]),Ve("blend.equation","blendEquationSeparate",[32774,32774]),Ve("blend.func","blendFuncSeparate",[1,0,1,0]),We("depth.enable",2929,!0),Ve("depth.func","depthFunc",513),Ve("depth.range","depthRange",[0,1]),Ve("depth.mask","depthMask",!0),Ve("colorMask","colorMask",[!0,!0,!0,!0]),We("cull.enable",2884),Ve("cull.face","cullFace",1029),Ve("frontFace","frontFace",2305),Ve("lineWidth","lineWidth",1),We("polygonOffset.enable",32823),Ve("polygonOffset.offset","polygonOffset",[0,0]),We("sample.alpha",32926),We("sample.enable",32928),Ve("sample.coverage","sampleCoverage",[1,!1]),We("stencil.enable",2960),Ve("stencil.mask","stencilMask",-1),Ve("stencil.func","stencilFunc",[519,0,-1]),Ve("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ve("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),We("scissor.enable",3089),Ve("scissor.box","scissor",[0,0,pt.drawingBufferWidth,pt.drawingBufferHeight]),Ve("viewport","viewport",[0,0,pt.drawingBufferWidth,pt.drawingBufferHeight]);var Qn={gl:pt,context:Bt,strings:$t,next:Vn,current:An,draw:Ut,elements:dt,buffer:pr,shader:Ct,attributes:Lt.state,vao:Lt,uniforms:St,framebuffer:mt,extensions:tr,timer:qt,isBufferArgs:j},ya={primTypes:Be,compareFuncs:rr,blendFuncs:Xt,blendEquations:ra,stencilOps:At,glTypes:Ye,orientationType:zt};un&&(ya.backBuffer=[1029],ya.drawBuffer=l(Er.maxDrawbuffers,function(er){return 0===er?[0]:l(er,function(ge){return 36064+ge})}));var Ja=0;return{next:Vn,current:An,procs:function(){var er=Rt(),ge=er.proc("poll"),Ue=er.proc("refresh"),nt=er.block();ge(nt),Ue(nt);var Yt,ct=(Vt=er.shared).gl,Pt=Vt.next,Ft=Vt.current;nt(Ft,".dirty=false;"),Kr(er,ge),Kr(er,Ue,null,!0),Sr&&(Yt=er.link(Sr)),tr.oes_vertex_array_object&&Ue(er.link(tr.oes_vertex_array_object),".bindVertexArrayOES(null);");var Vt=Ue.def(Vt.attributes),Ot=Ue.def(0),Jt=er.cond(Ot,".buffer");Jt.then(ct,".enableVertexAttribArray(i);",ct,".bindBuffer(",34962,",",Ot,".buffer.buffer);",ct,".vertexAttribPointer(i,",Ot,".size,",Ot,".type,",Ot,".normalized,",Ot,".stride,",Ot,".offset);").else(ct,".disableVertexAttribArray(i);",ct,".vertexAttrib4f(i,",Ot,".x,",Ot,".y,",Ot,".z,",Ot,".w);",Ot,".buffer=null;");var Dr=er.link(Er.maxAttributes,{stable:!0});return Ue("for(var i=0;i<",Dr,";++i){",Ot,"=",Vt,"[i];",Jt,"}"),Sr&&Ue("for(var i=0;i<",Dr,";++i){",Yt,".vertexAttribDivisorANGLE(i,",Vt,"[i].divisor);","}"),Ue(er.shared.vao,".currentVAO=null;",er.shared.vao,".setVAO(",er.shared.vao,".targetVAO);"),Object.keys(Ln).forEach(function(Gr){var Yr=Ln[Gr],zr=nt.def(Pt,".",Gr),bn=er.block();bn("if(",zr,"){",ct,".enable(",Yr,")}else{",ct,".disable(",Yr,")}",Ft,".",Gr,"=",zr,";"),Ue(bn),ge("if(",zr,"!==",Ft,".",Gr,"){",bn,"}")}),Object.keys(Hn).forEach(function(Gr){var bn,In,Yr=Hn[Gr],zr=An[Gr],Bn=er.block();Bn(ct,".",Yr,"("),x(zr)?(Yr=zr.length,bn=er.global.def(Pt,".",Gr),In=er.global.def(Ft,".",Gr),Bn(l(Yr,function(ea){return bn+"["+ea+"]"}),");",l(Yr,function(ea){return In+"["+ea+"]="+bn+"["+ea+"];"}).join("")),ge("if(",l(Yr,function(ea){return bn+"["+ea+"]!=="+In+"["+ea+"]"}).join("||"),"){",Bn,"}")):(bn=nt.def(Pt,".",Gr),In=nt.def(Ft,".",Gr),Bn(bn,");",Ft,".",Gr,"=",bn,";"),ge("if(",bn,"!==",In,"){",Bn,"}")),Ue(Bn)}),er.compile()}(),compile:function(er,ge,Ue,nt,ct){var Pt=Rt();Pt.stats=Pt.link(ct),Object.keys(ge.static).forEach(function(Yt){na(Pt,ge,Yt)}),ft.forEach(function(Yt){na(Pt,er,Yt)});var Ft=tn(er,ge,Ue,nt);return Ft.shader.program&&(Ft.shader.program.attributes.sort(function(Yt,Vt){return Yt.name<Vt.name?-1:1}),Ft.shader.program.uniforms.sort(function(Yt,Vt){return Yt.name<Vt.name?-1:1})),function Tn(er,ge){var Ue=er.proc("draw",1);On(er,Ue),_r(er,Ue,ge.context),Kr(er,Ue,ge.framebuffer),vn(er,Ue,ge),Xr(er,Ue,ge.state),mn(er,Ue,ge,!1,!0);var nt=ge.shader.progVar.append(er,Ue);if(Ue(er.shared.gl,".useProgram(",nt,".program);"),ge.shader.program)fn(er,Ue,ge,ge.shader.program);else{Ue(er.shared.vao,".setVAO(null);");var ct=er.global.def("{}"),Pt=Ue.def(nt,".id"),Ft=Ue.def(ct,"[",Pt,"]");Ue(er.cond(Ft).then(Ft,".call(this,a0);").else(Ft,"=",ct,"[",Pt,"]=",er.link(function(Yt){return Hr(fn,er,ge,Yt,1)}),"(",nt,");",Ft,".call(this,a0);"))}0<Object.keys(ge.state).length&&Ue(er.shared.current,".dirty=true;"),er.shared.vao&&Ue(er.shared.vao,".setVAO(null);")}(Pt,Ft),function la(er,ge){function Ue(Yt){var Vt=ge.shader[Yt];Vt&&(Vt=Vt.append(er,nt),isNaN(Vt)?nt.set(ct.shader,"."+Yt,Vt):nt.set(ct.shader,"."+Yt,er.link(Vt,{stable:!0})))}var nt=er.proc("scope",3);er.batchId="a2";var ct=er.shared,Pt=ct.current;if(_r(er,nt,ge.context),ge.framebuffer&&ge.framebuffer.append(er,nt),W(Object.keys(ge.state)).forEach(function(Yt){var Vt=ge.state[Yt],Ot=Vt.append(er,nt);x(Ot)?Ot.forEach(function(Jt,Dr){isNaN(Jt)?nt.set(er.next[Yt],"["+Dr+"]",Jt):nt.set(er.next[Yt],"["+Dr+"]",er.link(Jt,{stable:!0}))}):K(Vt)?nt.set(ct.next,"."+Yt,er.link(Ot,{stable:!0})):nt.set(ct.next,"."+Yt,Ot)}),mn(er,nt,ge,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(Yt){var Vt=ge.draw[Yt];Vt&&(Vt=Vt.append(er,nt),isNaN(Vt)?nt.set(ct.draw,"."+Yt,Vt):nt.set(ct.draw,"."+Yt,er.link(Vt),{stable:!0}))}),Object.keys(ge.uniforms).forEach(function(Yt){var Vt=ge.uniforms[Yt].append(er,nt);Array.isArray(Vt)&&(Vt="["+Vt.map(function(Ot){return isNaN(Ot)?Ot:er.link(Ot,{stable:!0})})+"]"),nt.set(ct.uniforms,"["+er.link($t.id(Yt),{stable:!0})+"]",Vt)}),Object.keys(ge.attributes).forEach(function(Yt){var Vt=ge.attributes[Yt].append(er,nt),Ot=er.scopeAttrib(Yt);Object.keys(new Yn).forEach(function(Jt){nt.set(Ot,"."+Jt,Vt[Jt])})}),ge.scopeVAO){var Ft=ge.scopeVAO.append(er,nt);isNaN(Ft)?nt.set(ct.vao,".targetVAO",Ft):nt.set(ct.vao,".targetVAO",er.link(Ft,{stable:!0}))}Ue("vert"),Ue("frag"),0<Object.keys(ge.state).length&&(nt(Pt,".dirty=true;"),nt.exit(Pt,".dirty=true;")),nt("a1(",er.shared.context,",a0,",er.batchId,");")}(Pt,Ft),function Fn(er,ge){function Ue(Ot){return Ot.contextDep&&ct||Ot.propDep}var nt=er.proc("batch",2);er.batchId="0",On(er,nt);var ct=!1,Pt=!0;Object.keys(ge.context).forEach(function(Ot){ct=ct||ge.context[Ot].propDep}),ct||(_r(er,nt,ge.context),Pt=!1);var Yt=!1;if((Ft=ge.framebuffer)?(Ft.propDep?ct=Yt=!0:Ft.contextDep&&ct&&(Yt=!0),Yt||Kr(er,nt,Ft)):Kr(er,nt,null),ge.state.viewport&&ge.state.viewport.propDep&&(ct=!0),vn(er,nt,ge),Xr(er,nt,ge.state,function(Ot){return!Ue(Ot)}),ge.profile&&Ue(ge.profile)||mn(er,nt,ge,!1,"a1"),ge.contextDep=ct,ge.needsContext=Pt,ge.needsFramebuffer=Yt,(Pt=ge.shader.progVar).contextDep&&ct||Pt.propDep)Pn(er,nt,ge,null);else if(Pt=Pt.append(er,nt),nt(er.shared.gl,".useProgram(",Pt,".program);"),ge.shader.program)Pn(er,nt,ge,ge.shader.program);else{nt(er.shared.vao,".setVAO(null);");var Ft=er.global.def("{}"),Vt=(Yt=nt.def(Pt,".id"),nt.def(Ft,"[",Yt,"]"));nt(er.cond(Vt).then(Vt,".call(this,a0,a1);").else(Vt,"=",Ft,"[",Yt,"]=",er.link(function(Dr){return Hr(Pn,er,ge,Dr,2)}),"(",Pt,");",Vt,".call(this,a0,a1);"))}0<Object.keys(ge.state).length&&nt(er.shared.current,".dirty=true;"),er.shared.vao&&nt(er.shared.vao,".setVAO(null);")}(Pt,Ft),q(Pt.compile(),{destroy:function(){Ft.shader.program.destroy()}})}}}function re(pt,$t){for(var tr=0;tr<pt.length;++tr)if(pt[tr]===$t)return tr;return-1}var q=function(pt,$t){for(var tr=Object.keys($t),Er=0;Er<tr.length;++Er)pt[tr[Er]]=$t[tr[Er]];return pt},se=0,de={DynamicVariable:Y,define:function(pt,$t){return new Y(pt,T($t+""))},isDynamic:function(pt){return"function"==typeof pt&&!pt._reglType||pt instanceof Y},unbox:function D(pt,$t){return"function"==typeof pt?new Y(0,pt):"number"==typeof pt||"boolean"==typeof pt?new Y(5,pt):Array.isArray(pt)?new Y(6,pt.map(function(tr,Er){return D(tr,$t+"["+Er+"]")})):pt instanceof Y?pt:void 0},accessor:T},we={next:"function"==typeof requestAnimationFrame?function(pt){return requestAnimationFrame(pt)}:function(pt){return setTimeout(pt,16)},cancel:"function"==typeof cancelAnimationFrame?function(pt){return cancelAnimationFrame(pt)}:clearTimeout},ye=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Pe=u();Pe.zero=u();var Se=function(pt){return pt instanceof Uint8Array||pt instanceof Uint16Array||pt instanceof Uint32Array||pt instanceof Int8Array||pt instanceof Int16Array||pt instanceof Int32Array||pt instanceof Float32Array||pt instanceof Float64Array||pt instanceof Uint8ClampedArray},xe=function(pt){return Object.keys(pt).map(function($t){return pt[$t]})},Me={shape:function(pt){for(var $t=[];pt.length;pt=pt[0])$t.push(pt.length);return $t},flatten:function(pt,$t,tr,Er){var pr=1;if($t.length)for(var dt=0;dt<$t.length;++dt)pr*=$t[dt];else pr=0;switch(tr=Er||Pe.allocType(tr,pr),$t.length){case 0:break;case 1:for(Er=$t[0],$t=0;$t<Er;++$t)tr[$t]=pt[$t];break;case 2:for(Er=$t[0],$t=$t[1],dt=pr=0;dt<Er;++dt)for(var it=pt[dt],mt=0;mt<$t;++mt)tr[pr++]=it[mt];break;case 3:c(pt,$t[0],$t[1],$t[2],tr,0);break;default:m(pt,$t,0,tr,0)}return tr}},Ge={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ye={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},De={dynamic:35048,stream:35040,static:35044},He=Me.flatten,rt=Me.shape,$e=[];$e[5120]=1,$e[5122]=2,$e[5124]=4,$e[5121]=1,$e[5123]=2,$e[5125]=4,$e[5126]=4;var Be={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ze=new Float32Array(1),tt=new Uint32Array(ze.buffer),lt=[9984,9986,9985,9987],ut=[0,6409,6410,6407,6408],xt={};xt[6409]=xt[6406]=xt[6402]=1,xt[34041]=xt[6410]=2,xt[6407]=xt[35904]=3,xt[6408]=xt[35906]=4;var bt=E("HTMLCanvasElement"),Ht=E("OffscreenCanvas"),Je=E("CanvasRenderingContext2D"),Ce=E("ImageBitmap"),Ee=E("HTMLImageElement"),Re=E("HTMLVideoElement"),ke=Object.keys(Ge).concat([bt,Ht,Je,Ce,Ee,Re]),Ne=[];Ne[5121]=1,Ne[5126]=4,Ne[36193]=2,Ne[5123]=2,Ne[5125]=4;var _e=[];_e[32854]=2,_e[32855]=2,_e[36194]=2,_e[34041]=4,_e[33776]=.5,_e[33777]=.5,_e[33778]=1,_e[33779]=1,_e[35986]=.5,_e[35987]=1,_e[34798]=1,_e[35840]=.5,_e[35841]=.25,_e[35842]=.5,_e[35843]=.25,_e[36196]=.5;var Te=[];Te[32854]=2,Te[32855]=2,Te[36194]=2,Te[33189]=2,Te[36168]=1,Te[34041]=4,Te[35907]=4,Te[34836]=16,Te[34842]=8,Te[34843]=6;var pe=[];pe[6408]=4,pe[6407]=3;var Fe=[];Fe[5121]=1,Fe[5126]=4,Fe[36193]=2;var Xe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],at=["x","y","z","w"],ft="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Xt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},rr={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},At={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},zt={cw:2304,ccw:2305},Qt=new V(!1,!1,!1,function(){});return function(pt){function $t(){if(0===mn.length)Rt&&Rt.update(),Hr=null;else{Hr=we.next($t),Ct();for(var Tn=mn.length-1;0<=Tn;--Tn){var Mn=mn[Tn];Mn&&Mn(sr,null,0)}qt.flush(),Rt&&Rt.update()}}function tr(){!Hr&&0<mn.length&&(Hr=we.next($t))}function Er(){Hr&&(we.cancel($t),Hr=null)}function pr(Tn){Tn.preventDefault(),Er(),xr.forEach(function(Mn){Mn()})}function dt(Tn){qt.getError(),lr.restore(),wr.restore(),Nt.restore(),kr.restore(),tn.restore(),_r.restore(),Mr.restore(),Rt&&Rt.restore(),Kr.procs.refresh(),tr(),Pr.forEach(function(Mn){Mn()})}function it(Tn){function Mn(An,Vn){var En={},Ln={};return Object.keys(An).forEach(function(Hn){var Qn=An[Hn];if(de.isDynamic(Qn))Ln[Hn]=de.unbox(Qn,Hn);else{if(Vn&&Array.isArray(Qn))for(var ya=0;ya<Qn.length;++ya)if(de.isDynamic(Qn[ya]))return void(Ln[Hn]=de.unbox(Qn,Hn));En[Hn]=Qn}}),{dynamic:Ln,static:En}}var Fn=Mn(Tn.context||{},!0),la=Mn(Tn.uniforms||{},!0),Xn=Mn(Tn.attributes||{},!1);Tn=Mn(function(An){function Vn(Ln){if(Ln in En){var Hn=En[Ln];delete En[Ln],Object.keys(Hn).forEach(function(Qn){En[Ln+"."+Qn]=Hn[Qn]})}}var En=q({},An);return delete En.uniforms,delete En.attributes,delete En.context,delete En.vao,"stencil"in En&&En.stencil.op&&(En.stencil.opBack=En.stencil.opFront=En.stencil.op,delete En.stencil.op),Vn("blend"),Vn("depth"),Vn("cull"),Vn("stencil"),Vn("polygonOffset"),Vn("scissor"),Vn("sample"),"vao"in An&&(En.vao=An.vao),En}(Tn),!1);var na={gpuTime:0,cpuTime:0,count:0},Yn=Kr.compile(Tn,Xn,la,Fn,na),ra=Yn.draw,Sr=Yn.batch,un=Yn.scope,ln=[];return q(function(An,Vn){var En;if("function"==typeof An)return un.call(this,null,An,0);if("function"==typeof Vn)if("number"==typeof An)for(En=0;En<An;++En)un.call(this,null,Vn,En);else{if(!Array.isArray(An))return un.call(this,An,Vn,0);for(En=0;En<An.length;++En)un.call(this,An[En],Vn,En)}else if("number"==typeof An){if(0<An)return Sr.call(this,function Pn(An){for(;ln.length<An;)ln.push(null);return ln}(0|An),0|An)}else{if(!Array.isArray(An))return ra.call(this,An);if(An.length)return Sr.call(this,An,An.length)}},{stats:na,destroy:function(){Yn.destroy()}})}function mt(Tn,Mn){var Pn=0;Kr.procs.poll();var Fn=Mn.color;Fn&&(qt.clearColor(+Fn[0]||0,+Fn[1]||0,+Fn[2]||0,+Fn[3]||0),Pn|=16384),"depth"in Mn&&(qt.clearDepth(+Mn.depth),Pn|=256),"stencil"in Mn&&(qt.clearStencil(0|Mn.stencil),Pn|=1024),qt.clear(Pn)}function St(Tn){return mn.push(Tn),tr(),{cancel:function(){var Pn=re(mn,Tn);mn[Pn]=function Mn(){var Fn=re(mn,Mn);mn[Fn]=mn[mn.length-1],--mn.length,0>=mn.length&&Er()}}}}function Lt(){var Tn=Xr.viewport,Mn=Xr.scissor_box;Tn[0]=Tn[1]=Mn[0]=Mn[1]=0,sr.viewportWidth=sr.framebufferWidth=sr.drawingBufferWidth=Tn[2]=Mn[2]=qt.drawingBufferWidth,sr.viewportHeight=sr.framebufferHeight=sr.drawingBufferHeight=Tn[3]=Mn[3]=qt.drawingBufferHeight}function Ct(){sr.tick+=1,sr.time=Bt(),Lt(),Kr.procs.poll()}function Ut(){kr.refresh(),Lt(),Kr.procs.refresh(),Rt&&Rt.update()}function Bt(){return(ye()-_t)/1e3}if(!(pt=t(pt)))return null;var qt=pt.gl,cr=qt.getContextAttributes();qt.isContextLost();var lr=function r(pt,$t){function tr(it){var mt;it=it.toLowerCase();try{mt=Er[it]=pt.getExtension(it)}catch{}return!!mt}for(var Er={},pr=0;pr<$t.extensions.length;++pr){var dt=$t.extensions[pr];if(!tr(dt))return $t.onDestroy(),$t.onDone('"'+dt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return $t.optionalExtensions.forEach(tr),{extensions:Er,restore:function(){Object.keys(Er).forEach(function(it){if(Er[it]&&!tr(it))throw Error("(regl): error restoring extension "+it)})}}}(qt,pt);if(!lr)return null;var vn=function o(){var pt={"":0},$t=[""];return{id:function(tr){var Er=pt[tr];return Er||(Er=pt[tr]=$t.length,$t.push(tr),Er)},str:function(tr){return $t[tr]}}}(),br={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},We=pt.cachedCode||{},Ve=lr.extensions,Rt=function(pt,$t){function tr(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function Er(Ct,Ut,Bt){var qt=it.pop()||new tr;qt.startQueryIndex=Ct,qt.endQueryIndex=Ut,qt.sum=0,qt.stats=Bt,mt.push(qt)}if(!$t.ext_disjoint_timer_query)return null;var pr=[],dt=[],it=[],mt=[],St=[],Lt=[];return{beginQuery:function(Ct){var Ut=pr.pop()||$t.ext_disjoint_timer_query.createQueryEXT();$t.ext_disjoint_timer_query.beginQueryEXT(35007,Ut),dt.push(Ut),Er(dt.length-1,dt.length,Ct)},endQuery:function(){$t.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Er,update:function(){var Ct,Ut;if(0!==(Ct=dt.length)){Lt.length=Math.max(Lt.length,Ct+1),St.length=Math.max(St.length,Ct+1),St[0]=0;var Bt=Lt[0]=0;for(Ut=Ct=0;Ut<dt.length;++Ut)$t.ext_disjoint_timer_query.getQueryObjectEXT(qt=dt[Ut],34919)?(Bt+=$t.ext_disjoint_timer_query.getQueryObjectEXT(qt,34918),pr.push(qt)):dt[Ct++]=qt,St[Ut+1]=Bt,Lt[Ut+1]=Ct;for(dt.length=Ct,Ut=Ct=0;Ut<mt.length;++Ut){var qt,cr=(Bt=mt[Ut]).startQueryIndex;Bt.sum+=St[qt=Bt.endQueryIndex]-St[cr],(qt=Lt[qt])===(cr=Lt[cr])?(Bt.stats.gpuTime+=Bt.sum/1e6,it.push(Bt)):(Bt.startQueryIndex=cr,Bt.endQueryIndex=qt,mt[Ct++]=Bt)}mt.length=Ct}},getNumPendingQueries:function(){return dt.length},clear:function(){pr.push.apply(pr,dt);for(var Ct=0;Ct<pr.length;Ct++)$t.ext_disjoint_timer_query.deleteQueryEXT(pr[Ct]);dt.length=0,pr.length=0},restore:function(){dt.length=0,pr.length=0}}}(0,Ve),_t=ye(),Kt=qt.drawingBufferHeight,sr={tick:0,time:0,viewportWidth:hr=qt.drawingBufferWidth,viewportHeight:Kt,framebufferWidth:hr,framebufferHeight:Kt,drawingBufferWidth:hr,drawingBufferHeight:Kt,pixelRatio:pt.pixelRatio},hr={elements:null,primitive:4,count:-1,offset:0,instances:-1},or=function(pt,$t){var tr=1;$t.ext_texture_filter_anisotropic&&(tr=pt.getParameter(34047));var Er=1,pr=1;$t.webgl_draw_buffers&&(Er=pt.getParameter(34852),pr=pt.getParameter(36063));var dt=!!$t.oes_texture_float;if(dt){dt=pt.createTexture(),pt.bindTexture(3553,dt),pt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var it=pt.createFramebuffer();if(pt.bindFramebuffer(36160,it),pt.framebufferTexture2D(36160,36064,3553,dt,0),pt.bindTexture(3553,null),36053!==pt.checkFramebufferStatus(36160))dt=!1;else{pt.viewport(0,0,1,1),pt.clearColor(1,0,0,1),pt.clear(16384);var mt=Pe.allocType(5126,4);pt.readPixels(0,0,1,1,6408,5126,mt),pt.getError()?dt=!1:(pt.deleteFramebuffer(it),pt.deleteTexture(dt),dt=1===mt[0]),Pe.freeType(mt)}}return mt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(mt=pt.createTexture(),it=Pe.allocType(5121,36),pt.activeTexture(33984),pt.bindTexture(34067,mt),pt.texImage2D(34069,0,6408,3,3,0,6408,5121,it),Pe.freeType(it),pt.bindTexture(34067,null),pt.deleteTexture(mt),mt=!pt.getError()),{colorBits:[pt.getParameter(3410),pt.getParameter(3411),pt.getParameter(3412),pt.getParameter(3413)],depthBits:pt.getParameter(3414),stencilBits:pt.getParameter(3415),subpixelBits:pt.getParameter(3408),extensions:Object.keys($t).filter(function(St){return!!$t[St]}),maxAnisotropic:tr,maxDrawbuffers:Er,maxColorAttachments:pr,pointSizeDims:pt.getParameter(33901),lineWidthDims:pt.getParameter(33902),maxViewportDims:pt.getParameter(3386),maxCombinedTextureUnits:pt.getParameter(35661),maxCubeMapSize:pt.getParameter(34076),maxRenderbufferSize:pt.getParameter(34024),maxTextureUnits:pt.getParameter(34930),maxTextureSize:pt.getParameter(3379),maxAttributes:pt.getParameter(34921),maxVertexUniforms:pt.getParameter(36347),maxVertexTextureUnits:pt.getParameter(35660),maxVaryingVectors:pt.getParameter(36348),maxFragmentUniforms:pt.getParameter(36349),glsl:pt.getParameter(35724),renderer:pt.getParameter(7937),vendor:pt.getParameter(7936),version:pt.getParameter(7938),readFloat:dt,npotTextureCube:mt}}(qt,Ve),Nt=function s(pt,$t,tr,Er){function pr(Ut){this.id=St++,this.buffer=pt.createBuffer(),this.type=Ut,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,tr.profile&&(this.stats={size:0})}function dt(Ut,Bt,qt){Ut.byteLength=Bt.byteLength,pt.bufferData(Ut.type,Bt,qt)}function it(Ut,Bt,qt,cr,lr,br){if(Ut.usage=qt,Array.isArray(Bt)){if(Ut.dtype=cr||5126,0<Bt.length)if(Array.isArray(Bt[0])){lr=rt(Bt);for(var We=cr=1;We<lr.length;++We)cr*=lr[We];Ut.dimension=cr,dt(Ut,Bt=He(Bt,lr,Ut.dtype),qt),br?Ut.persistentData=Bt:Pe.freeType(Bt)}else"number"==typeof Bt[0]?(Ut.dimension=lr,b(lr=Pe.allocType(Ut.dtype,Bt.length),Bt),dt(Ut,lr,qt),br?Ut.persistentData=lr:Pe.freeType(lr)):Se(Bt[0])&&(Ut.dimension=Bt[0].length,Ut.dtype=cr||a(Bt[0])||5126,dt(Ut,Bt=He(Bt,[Bt.length,Bt[0].length],Ut.dtype),qt),br?Ut.persistentData=Bt:Pe.freeType(Bt))}else if(Se(Bt))Ut.dtype=cr||a(Bt),Ut.dimension=lr,dt(Ut,Bt,qt),br&&(Ut.persistentData=new Uint8Array(new Uint8Array(Bt.buffer)));else if(f(Bt)){var Ve=Bt.stride,Rt=(We=Bt.offset,0),_t=0,Kt=0,sr=0;1===(lr=Bt.shape).length?(Rt=lr[0],_t=1,Kt=Ve[0],sr=0):2===lr.length&&(Rt=lr[0],_t=lr[1],Kt=Ve[0],sr=Ve[1]),Ut.dtype=cr||a(Bt.data)||5126,Ut.dimension=_t,p(lr=Pe.allocType(Ut.dtype,Rt*_t),Bt.data,Rt,_t,Kt,sr,We),dt(Ut,lr,qt),br?Ut.persistentData=lr:Pe.freeType(lr)}else Bt instanceof ArrayBuffer&&(Ut.dtype=5121,Ut.dimension=lr,dt(Ut,Bt,qt),br&&(Ut.persistentData=new Uint8Array(new Uint8Array(Bt))))}function mt(Ut){$t.bufferCount--,Er(Ut),pt.deleteBuffer(Ut.buffer),Ut.buffer=null,delete Lt[Ut.id]}var St=0,Lt={};pr.prototype.bind=function(){pt.bindBuffer(this.type,this.buffer)},pr.prototype.destroy=function(){mt(this)};var Ct=[];return tr.profile&&($t.getTotalBufferSize=function(){var Ut=0;return Object.keys(Lt).forEach(function(Bt){Ut+=Lt[Bt].stats.size}),Ut}),{create:function(Ut,Bt,qt,cr){function lr(We){var Ve=35044,Rt=null,_t=0,Kt=0,sr=1;return Array.isArray(We)||Se(We)||f(We)||We instanceof ArrayBuffer?Rt=We:"number"==typeof We?_t=0|We:We&&("data"in We&&(Rt=We.data),"usage"in We&&(Ve=De[We.usage]),"type"in We&&(Kt=Ye[We.type]),"dimension"in We&&(sr=0|We.dimension),"length"in We&&(_t=0|We.length)),br.bind(),Rt?it(br,Rt,Ve,Kt,sr,cr):(_t&&pt.bufferData(br.type,_t,Ve),br.dtype=Kt||5121,br.usage=Ve,br.dimension=sr,br.byteLength=_t),tr.profile&&(br.stats.size=br.byteLength*$e[br.dtype]),lr}$t.bufferCount++;var br=new pr(Bt);return Lt[br.id]=br,qt||lr(Ut),lr._reglType="buffer",lr._buffer=br,lr.subdata=function(We,Ve){var _t,Rt=0|(Ve||0);if(br.bind(),Se(We)||We instanceof ArrayBuffer)pt.bufferSubData(br.type,Rt,We);else if(Array.isArray(We)){if(0<We.length)if("number"==typeof We[0]){var Kt=Pe.allocType(br.dtype,We.length);b(Kt,We),pt.bufferSubData(br.type,Rt,Kt),Pe.freeType(Kt)}else(Array.isArray(We[0])||Se(We[0]))&&(_t=rt(We),Kt=He(We,_t,br.dtype),pt.bufferSubData(br.type,Rt,Kt),Pe.freeType(Kt))}else if(f(We)){var sr=We.stride,hr=Kt=0,or=0,Nt=0;1===(_t=We.shape).length?(Kt=_t[0],hr=1,or=sr[0],Nt=0):2===_t.length&&(Kt=_t[0],hr=_t[1],or=sr[0],Nt=sr[1]),_t=Array.isArray(We.data)?br.dtype:a(We.data),p(_t=Pe.allocType(_t,Kt*hr),We.data,Kt,hr,or,Nt,We.offset),pt.bufferSubData(br.type,Rt,_t),Pe.freeType(_t)}return lr},tr.profile&&(lr.stats=br.stats),lr.destroy=function(){mt(br)},lr},createStream:function(Ut,Bt){var qt=Ct.pop();return qt||(qt=new pr(Ut)),qt.bind(),it(qt,Bt,35040,0,1,!1),qt},destroyStream:function(Ut){Ct.push(Ut)},clear:function(){xe(Lt).forEach(mt),Ct.forEach(mt)},getBuffer:function(Ut){return Ut&&Ut._buffer instanceof pr?Ut._buffer:null},restore:function(){xe(Lt).forEach(function(Ut){Ut.buffer=pt.createBuffer(),pt.bindBuffer(Ut.type,Ut.buffer),pt.bufferData(Ut.type,Ut.persistentData||Ut.byteLength,Ut.usage)})},_initBuffer:it}}(qt,br,pt,function(Tn){return Mr.destroyBuffer(Tn)}),dr=function v(pt,$t,tr,Er){function pr(Ut){this.id=St++,mt[this.id]=this,this.buffer=Ut,this.primType=4,this.type=this.vertCount=0}function dt(Ut,Bt,qt,cr,lr,br,We){var Ve;if(Ut.buffer.bind(),Bt?((Ve=We)||Se(Bt)&&(!f(Bt)||Se(Bt.data))||(Ve=$t.oes_element_index_uint?5125:5123),tr._initBuffer(Ut.buffer,Bt,qt,Ve,3)):(pt.bufferData(34963,br,qt),Ut.buffer.dtype=Ve||5121,Ut.buffer.usage=qt,Ut.buffer.dimension=3,Ut.buffer.byteLength=br),Ve=We,!We){switch(Ut.buffer.dtype){case 5121:case 5120:Ve=5121;break;case 5123:case 5122:Ve=5123;break;case 5125:case 5124:Ve=5125}Ut.buffer.dtype=Ve}Ut.type=Ve,0>(Bt=lr)&&(Bt=Ut.buffer.byteLength,5123===Ve?Bt>>=1:5125===Ve&&(Bt>>=2)),Ut.vertCount=Bt,Bt=cr,0>cr&&(Bt=4,1===(cr=Ut.buffer.dimension)&&(Bt=0),2===cr&&(Bt=1),3===cr&&(Bt=4)),Ut.primType=Bt}function it(Ut){Er.elementsCount--,delete mt[Ut.id],Ut.buffer.destroy(),Ut.buffer=null}var mt={},St=0,Lt={uint8:5121,uint16:5123};$t.oes_element_index_uint&&(Lt.uint32=5125),pr.prototype.bind=function(){this.buffer.bind()};var Ct=[];return{create:function(Ut,Bt){function qt(br){if(br)if("number"==typeof br)cr(br),lr.primType=4,lr.vertCount=0|br,lr.type=5121;else{var We=null,Ve=35044,Rt=-1,_t=-1,Kt=0,sr=0;Array.isArray(br)||Se(br)||f(br)?We=br:("data"in br&&(We=br.data),"usage"in br&&(Ve=De[br.usage]),"primitive"in br&&(Rt=Be[br.primitive]),"count"in br&&(_t=0|br.count),"type"in br&&(sr=Lt[br.type]),"length"in br?Kt=0|br.length:(Kt=_t,5123===sr||5122===sr?Kt*=2:(5125===sr||5124===sr)&&(Kt*=4))),dt(lr,We,Ve,Rt,_t,Kt,sr)}else cr(),lr.primType=4,lr.vertCount=0,lr.type=5121;return qt}var cr=tr.create(null,34963,!0),lr=new pr(cr._buffer);return Er.elementsCount++,qt(Ut),qt._reglType="elements",qt._elements=lr,qt.subdata=function(br,We){return cr.subdata(br,We),qt},qt.destroy=function(){it(lr)},qt},createStream:function(Ut){var Bt=Ct.pop();return Bt||(Bt=new pr(tr.create(null,34963,!0,!1)._buffer)),dt(Bt,Ut,35040,-1,-1,0,0),Bt},destroyStream:function(Ut){Ct.push(Ut)},getElements:function(Ut){return"function"==typeof Ut&&Ut._elements instanceof pr?Ut._elements:null},clear:function(){xe(mt).forEach(it)}}}(qt,Ve,Nt,br),Mr=function k(pt,$t,tr,Er,pr,dt,it){function Ct(){this.id=++cr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var We=$t.oes_vertex_array_object;this.vao=We?We.createVertexArrayOES():null,lr[this.id]=this,this.buffers=[]}var Bt=tr.maxAttributes,qt=Array(Bt);for(tr=0;tr<Bt;++tr)qt[tr]=new B;var cr=0,lr={},br={Record:B,scope:{},state:qt,currentVAO:null,targetVAO:null,restore:$t.oes_vertex_array_object?function Ut(){$t.oes_vertex_array_object&&xe(lr).forEach(function(We){We.refresh()})}:function(){},createVAO:function(We){function Ve(_t){var Kt;Array.isArray(_t)?(Kt=_t,Rt.elements&&Rt.ownsElements&&Rt.elements.destroy(),Rt.elements=null,Rt.ownsElements=!1,Rt.offset=0,Rt.count=0,Rt.instances=-1,Rt.primitive=4):(_t.elements?(Kt=_t.elements,Rt.ownsElements?("function"==typeof Kt&&"elements"===Kt._reglType?Rt.elements.destroy():Rt.elements(Kt),Rt.ownsElements=!1):dt.getElements(_t.elements)?(Rt.elements=_t.elements,Rt.ownsElements=!1):(Rt.elements=dt.create(_t.elements),Rt.ownsElements=!0)):(Rt.elements=null,Rt.ownsElements=!1),Kt=_t.attributes,Rt.offset=0,Rt.count=-1,Rt.instances=-1,Rt.primitive=4,Rt.elements&&(Rt.count=Rt.elements._elements.vertCount,Rt.primitive=Rt.elements._elements.primType),"offset"in _t&&(Rt.offset=0|_t.offset),"count"in _t&&(Rt.count=0|_t.count),"instances"in _t&&(Rt.instances=0|_t.instances),"primitive"in _t&&(Rt.primitive=Be[_t.primitive])),_t={};var sr=Rt.attributes;sr.length=Kt.length;for(var hr=0;hr<Kt.length;++hr){var Mr,or=Kt[hr],Nt=sr[hr]=new B,dr=or.data||or;Array.isArray(dr)||Se(dr)||f(dr)?(Rt.buffers[hr]&&(Mr=Rt.buffers[hr],Se(dr)&&Mr._buffer.byteLength>=dr.byteLength?Mr.subdata(dr):(Mr.destroy(),Rt.buffers[hr]=null)),Rt.buffers[hr]||(Mr=Rt.buffers[hr]=pr.create(or,34962,!1,!0)),Nt.buffer=pr.getBuffer(Mr),Nt.size=0|Nt.buffer.dimension,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1,_t[hr]=1):pr.getBuffer(or)?(Nt.buffer=pr.getBuffer(or),Nt.size=0|Nt.buffer.dimension,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1):pr.getBuffer(or.buffer)?(Nt.buffer=pr.getBuffer(or.buffer),Nt.size=0|(+or.size||Nt.buffer.dimension),Nt.normalized=!!or.normalized||!1,Nt.type="type"in or?Ye[or.type]:Nt.buffer.dtype,Nt.offset=0|(or.offset||0),Nt.stride=0|(or.stride||0),Nt.divisor=0|(or.divisor||0),Nt.state=1):"x"in or&&(Nt.x=+or.x||0,Nt.y=+or.y||0,Nt.z=+or.z||0,Nt.w=+or.w||0,Nt.state=2)}for(Mr=0;Mr<Rt.buffers.length;++Mr)!_t[Mr]&&Rt.buffers[Mr]&&(Rt.buffers[Mr].destroy(),Rt.buffers[Mr]=null);return Rt.refresh(),Ve}var Rt=new Ct;return Er.vaoCount+=1,Ve.destroy=function(){for(var _t=0;_t<Rt.buffers.length;++_t)Rt.buffers[_t]&&Rt.buffers[_t].destroy();Rt.buffers.length=0,Rt.ownsElements&&(Rt.elements.destroy(),Rt.elements=null,Rt.ownsElements=!1),Rt.destroy()},Ve._vao=Rt,Ve._reglType="vao",Ve(We)},getVAO:function(We){return"function"==typeof We&&We._vao?We._vao:null},destroyBuffer:function(We){for(var Ve=0;Ve<qt.length;++Ve){var Rt=qt[Ve];Rt.buffer===We&&(pt.disableVertexAttribArray(Ve),Rt.buffer=null)}},setVAO:$t.oes_vertex_array_object?function mt(We){We!==br.currentVAO&&($t.oes_vertex_array_object.bindVertexArrayOES(We?We.vao:null),br.currentVAO=We)}:function St(We){if(We!==br.currentVAO){if(We)We.bindAttrs();else{for(var Ve=$t.angle_instanced_arrays,Rt=0;Rt<qt.length;++Rt){var _t=qt[Rt];_t.buffer?(pt.enableVertexAttribArray(Rt),_t.buffer.bind(),pt.vertexAttribPointer(Rt,_t.size,_t.type,_t.normalized,_t.stride,_t.offfset),Ve&&_t.divisor&&Ve.vertexAttribDivisorANGLE(Rt,_t.divisor)):(pt.disableVertexAttribArray(Rt),pt.vertexAttrib4f(Rt,_t.x,_t.y,_t.z,_t.w))}pt.bindBuffer(34963,it.elements?it.elements.buffer.buffer:null)}br.currentVAO=We}},clear:$t.oes_vertex_array_object?function Lt(){xe(lr).forEach(function(We){We.destroy()})}:function(){}};return Ct.prototype.bindAttrs=function(){for(var We=$t.angle_instanced_arrays,Ve=this.attributes,Rt=0;Rt<Ve.length;++Rt){var _t=Ve[Rt];_t.buffer?(pt.enableVertexAttribArray(Rt),pt.bindBuffer(34962,_t.buffer.buffer),pt.vertexAttribPointer(Rt,_t.size,_t.type,_t.normalized,_t.stride,_t.offset),We&&_t.divisor&&We.vertexAttribDivisorANGLE(Rt,_t.divisor)):(pt.disableVertexAttribArray(Rt),pt.vertexAttrib4f(Rt,_t.x,_t.y,_t.z,_t.w))}for(We=Ve.length;We<Bt;++We)pt.disableVertexAttribArray(We);(We=dt.getElements(this.elements))?pt.bindBuffer(34963,We.buffer.buffer):pt.bindBuffer(34963,null)},Ct.prototype.refresh=function(){var We=$t.oes_vertex_array_object;We&&(We.bindVertexArrayOES(this.vao),this.bindAttrs(),br.currentVAO=null,We.bindVertexArrayOES(null))},Ct.prototype.destroy=function(){if(this.vao){var We=$t.oes_vertex_array_object;this===br.currentVAO&&(br.currentVAO=null,We.bindVertexArrayOES(null)),We.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),lr[this.id]&&(delete lr[this.id],--Er.vaoCount)},br}(qt,Ve,or,br,Nt,dr,hr),wr=function z(pt,$t,tr,Er){function pr(cr,lr,br,We){this.name=cr,this.id=lr,this.location=br,this.info=We}function dt(cr,lr){for(var br=0;br<cr.length;++br)if(cr[br].id===lr.id)return void(cr[br].location=lr.location);cr.push(lr)}function it(cr,lr,br){if(!(We=(br=35632===cr?Lt:Ct)[lr])){var Ve=$t.str(lr),We=pt.createShader(cr);pt.shaderSource(We,Ve),pt.compileShader(We),br[lr]=We}return We}function mt(cr,lr){this.id=qt++,this.fragId=cr,this.vertId=lr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Er.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function St(cr,lr,br){var We;We=it(35632,cr.fragId);var Ve=it(35633,cr.vertId);if(lr=cr.program=pt.createProgram(),pt.attachShader(lr,We),pt.attachShader(lr,Ve),br)for(We=0;We<br.length;++We)pt.bindAttribLocation(lr,(Ve=br[We])[0],Ve[1]);pt.linkProgram(lr),Ve=pt.getProgramParameter(lr,35718),Er.profile&&(cr.stats.uniformsCount=Ve);var Rt=cr.uniforms;for(We=0;We<Ve;++We)if(br=pt.getActiveUniform(lr,We))if(1<br.size)for(var _t=0;_t<br.size;++_t){var Kt=br.name.replace("[0]","["+_t+"]");dt(Rt,new pr(Kt,$t.id(Kt),pt.getUniformLocation(lr,Kt),br))}else dt(Rt,new pr(br.name,$t.id(br.name),pt.getUniformLocation(lr,br.name),br));for(Ve=pt.getProgramParameter(lr,35721),Er.profile&&(cr.stats.attributesCount=Ve),cr=cr.attributes,We=0;We<Ve;++We)(br=pt.getActiveAttrib(lr,We))&&dt(cr,new pr(br.name,$t.id(br.name),pt.getAttribLocation(lr,br.name),br))}var Lt={},Ct={},Ut={},Bt=[],qt=0;return Er.profile&&(tr.getMaxUniformsCount=function(){var cr=0;return Bt.forEach(function(lr){lr.stats.uniformsCount>cr&&(cr=lr.stats.uniformsCount)}),cr},tr.getMaxAttributesCount=function(){var cr=0;return Bt.forEach(function(lr){lr.stats.attributesCount>cr&&(cr=lr.stats.attributesCount)}),cr}),{clear:function(){var cr=pt.deleteShader.bind(pt);xe(Lt).forEach(cr),Lt={},xe(Ct).forEach(cr),Ct={},Bt.forEach(function(lr){pt.deleteProgram(lr.program)}),Bt.length=0,Ut={},tr.shaderCount=0},program:function(cr,lr,br,We){var Ve=Ut[lr];Ve||(Ve=Ut[lr]={});var Rt=Ve[cr];if(Rt&&(Rt.refCount++,!We))return Rt;var _t=new mt(lr,cr);return tr.shaderCount++,St(_t,br,We),Rt||(Ve[cr]=_t),Bt.push(_t),q(_t,{destroy:function(){if(_t.refCount--,0>=_t.refCount){pt.deleteProgram(_t.program);var Kt=Bt.indexOf(_t);Bt.splice(Kt,1),tr.shaderCount--}0>=Ve[_t.vertId].refCount&&(pt.deleteShader(Ct[_t.vertId]),delete Ct[_t.vertId],delete Ut[_t.fragId][_t.vertId]),Object.keys(Ut[_t.fragId]).length||(pt.deleteShader(Lt[_t.fragId]),delete Lt[_t.fragId],delete Ut[_t.fragId])}})},restore:function(){Lt={},Ct={};for(var cr=0;cr<Bt.length;++cr)St(Bt[cr],null,Bt[cr].attributes.map(function(lr){return[lr.location,lr.name]}))},shader:it,frag:-1,vert:-1}}(qt,vn,br,pt),kr=function I(pt,$t,tr,Er,pr,dt,it){function mt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function St(Sr,un){Sr.internalformat=un.internalformat,Sr.format=un.format,Sr.type=un.type,Sr.compressed=un.compressed,Sr.premultiplyAlpha=un.premultiplyAlpha,Sr.flipY=un.flipY,Sr.unpackAlignment=un.unpackAlignment,Sr.colorSpace=un.colorSpace,Sr.width=un.width,Sr.height=un.height,Sr.channels=un.channels}function Lt(Sr,un){if("object"==typeof un&&un){"premultiplyAlpha"in un&&(Sr.premultiplyAlpha=un.premultiplyAlpha),"flipY"in un&&(Sr.flipY=un.flipY),"alignment"in un&&(Sr.unpackAlignment=un.alignment),"colorSpace"in un&&(Sr.colorSpace=vn[un.colorSpace]),"type"in un&&(Sr.type=Xr[un.type]);var ln=Sr.width,An=Sr.height,Vn=Sr.channels,En=!1;"shape"in un?(ln=un.shape[0],An=un.shape[1],3===un.shape.length&&(Vn=un.shape[2],En=!0)):("radius"in un&&(ln=An=un.radius),"width"in un&&(ln=un.width),"height"in un&&(An=un.height),"channels"in un&&(Vn=un.channels,En=!0)),Sr.width=0|ln,Sr.height=0|An,Sr.channels=0|Vn,ln=!1,"format"in un&&(An=Sr.internalformat=On[ln=un.format],Sr.format=Pn[An],ln in Xr&&!("type"in un)&&(Sr.type=Xr[ln]),ln in mn&&(Sr.compressed=!0),ln=!0),!En&&ln?Sr.channels=xt[Sr.format]:En&&!ln&&Sr.channels!==ut[Sr.format]&&(Sr.format=Sr.internalformat=ut[Sr.channels])}}function Ct(Sr){pt.pixelStorei(37440,Sr.flipY),pt.pixelStorei(37441,Sr.premultiplyAlpha),pt.pixelStorei(37443,Sr.colorSpace),pt.pixelStorei(3317,Sr.unpackAlignment)}function Ut(){mt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Bt(Sr,un){var ln=null;if(n(un)?ln=un:un&&(Lt(Sr,un),"x"in un&&(Sr.xOffset=0|un.x),"y"in un&&(Sr.yOffset=0|un.y),n(un.data)&&(ln=un.data)),un.copy){var An=pr.viewportWidth,Vn=pr.viewportHeight;Sr.width=Sr.width||An-Sr.xOffset,Sr.height=Sr.height||Vn-Sr.yOffset,Sr.needsCopy=!0}else if(ln){if(Se(ln))Sr.channels=Sr.channels||4,Sr.data=ln,"type"in un||5121!==Sr.type||(Sr.type=0|Ge[Object.prototype.toString.call(ln)]);else if(g(ln)){switch(Sr.channels=Sr.channels||4,Vn=(An=ln).length,Sr.type){case 5121:case 5123:case 5125:case 5126:(Vn=Pe.allocType(Sr.type,Vn)).set(An),Sr.data=Vn;break;case 36193:Sr.data=A(An)}Sr.alignment=1,Sr.needsFree=!0}else if(f(ln)){An=ln.data,Array.isArray(An)||5121!==Sr.type||(Sr.type=0|Ge[Object.prototype.toString.call(An)]);var Ln,Hn,Qn,ya,En=ln.stride;3===(Vn=ln.shape).length?(Qn=Vn[2],ya=En[2]):ya=Qn=1,Ln=Vn[0],Hn=Vn[1],Vn=En[0],En=En[1],Sr.alignment=1,Sr.width=Ln,Sr.height=Hn,Sr.channels=Qn,Sr.format=Sr.internalformat=ut[Qn],Sr.needsFree=!0,Ln=ya,ln=ln.offset;for(var Ja=Pe.allocType(36193===Sr.type?5126:Sr.type,(Qn=Sr.width)*(ya=Sr.height)*(Hn=Sr.channels)),er=0,ge=0;ge<ya;++ge)for(var Ue=0;Ue<Qn;++Ue)for(var nt=0;nt<Hn;++nt)Ja[er++]=An[Vn*Ue+En*ge+Ln*nt+ln];S(Sr,Ja)}else if(w(ln)===bt||w(ln)===Ht||w(ln)===Je)Sr.element=w(ln)===bt||w(ln)===Ht?ln:ln.canvas,Sr.width=Sr.element.width,Sr.height=Sr.element.height,Sr.channels=4;else if(w(ln)===Ce)Sr.element=ln,Sr.width=ln.width,Sr.height=ln.height,Sr.channels=4;else if(w(ln)===Ee)Sr.element=ln,Sr.width=ln.naturalWidth,Sr.height=ln.naturalHeight,Sr.channels=4;else if(w(ln)===Re)Sr.element=ln,Sr.width=ln.videoWidth,Sr.height=ln.videoHeight,Sr.channels=4;else if(M(ln)){for(An=Sr.width||ln[0].length,Vn=Sr.height||ln.length,En=Sr.channels,En=x(ln[0][0])?En||ln[0][0].length:En||1,Ln=Me.shape(ln),Qn=1,ya=0;ya<Ln.length;++ya)Qn*=Ln[ya];Qn=Pe.allocType(36193===Sr.type?5126:Sr.type,Qn),Me.flatten(ln,Ln,"",Qn),S(Sr,Qn),Sr.alignment=1,Sr.width=An,Sr.height=Vn,Sr.channels=En,Sr.format=Sr.internalformat=ut[En],Sr.needsFree=!0}}else Sr.width=Sr.width||1,Sr.height=Sr.height||1,Sr.channels=Sr.channels||4}function qt(Sr,un,ln,An,Vn){var En=Sr.element,Ln=Sr.data,Hn=Sr.internalformat,Qn=Sr.format,ya=Sr.type,Ja=Sr.width,er=Sr.height;Ct(Sr),En?pt.texSubImage2D(un,Vn,ln,An,Qn,ya,En):Sr.compressed?pt.compressedTexSubImage2D(un,Vn,ln,An,Hn,Ja,er,Ln):Sr.needsCopy?(Er(),pt.copyTexSubImage2D(un,Vn,ln,An,Sr.xOffset,Sr.yOffset,Ja,er)):pt.texSubImage2D(un,Vn,ln,An,Ja,er,Qn,ya,Ln)}function cr(){return Fn.pop()||new Ut}function lr(Sr){Sr.needsFree&&Pe.freeType(Sr.data),Ut.call(Sr),Fn.push(Sr)}function br(){mt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function We(Sr,un,ln){var An=Sr.images[0]=cr();Sr.mipmask=1,An.width=Sr.width=un,An.height=Sr.height=ln,An.channels=Sr.channels=4}function Ve(Sr,un){var ln=null;if(n(un))St(ln=Sr.images[0]=cr(),Sr),Bt(ln,un),Sr.mipmask=1;else if(Lt(Sr,un),Array.isArray(un.mipmap))for(var An=un.mipmap,Vn=0;Vn<An.length;++Vn)St(ln=Sr.images[Vn]=cr(),Sr),ln.width>>=Vn,ln.height>>=Vn,Bt(ln,An[Vn]),Sr.mipmask|=1<<Vn;else St(ln=Sr.images[0]=cr(),Sr),Bt(ln,un),Sr.mipmask=1;St(Sr,Sr.images[0])}function Rt(Sr,un){for(var ln=Sr.images,An=0;An<ln.length&&ln[An];++An){var Vn=ln[An],En=un,Ln=An,Hn=Vn.element,Qn=Vn.data,ya=Vn.internalformat,Ja=Vn.format,er=Vn.type,ge=Vn.width,Ue=Vn.height;Ct(Vn),Hn?pt.texImage2D(En,Ln,Ja,Ja,er,Hn):Vn.compressed?pt.compressedTexImage2D(En,Ln,ya,ge,Ue,0,Qn):Vn.needsCopy?(Er(),pt.copyTexImage2D(En,Ln,Ja,Vn.xOffset,Vn.yOffset,ge,Ue,0)):pt.texImage2D(En,Ln,Ja,ge,Ue,0,Ja,er,Qn||null)}}function _t(){var Sr=la.pop()||new br;mt.call(Sr);for(var un=Sr.mipmask=0;16>un;++un)Sr.images[un]=null;return Sr}function Kt(Sr){for(var un=Sr.images,ln=0;ln<un.length;++ln)un[ln]&&lr(un[ln]),un[ln]=null;la.push(Sr)}function sr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function hr(Sr,un){"min"in un&&(Sr.minFilter=Kr[un.min],0<=lt.indexOf(Sr.minFilter)&&!("faces"in un)&&(Sr.genMipmaps=!0)),"mag"in un&&(Sr.magFilter=_r[un.mag]);var ln=Sr.wrapS,An=Sr.wrapT;if("wrap"in un){var Vn=un.wrap;"string"==typeof Vn?ln=An=tn[Vn]:Array.isArray(Vn)&&(ln=tn[Vn[0]],An=tn[Vn[1]])}else"wrapS"in un&&(ln=tn[un.wrapS]),"wrapT"in un&&(An=tn[un.wrapT]);if(Sr.wrapS=ln,Sr.wrapT=An,"anisotropic"in un&&(Sr.anisotropic=un.anisotropic),"mipmap"in un){switch(ln=!1,typeof un.mipmap){case"string":Sr.mipmapHint=kr[un.mipmap],ln=Sr.genMipmaps=!0;break;case"boolean":ln=Sr.genMipmaps=un.mipmap;break;case"object":Sr.genMipmaps=!1,ln=!0}!ln||"min"in un||(Sr.minFilter=9984)}}function or(Sr,un){pt.texParameteri(un,10241,Sr.minFilter),pt.texParameteri(un,10240,Sr.magFilter),pt.texParameteri(un,10242,Sr.wrapS),pt.texParameteri(un,10243,Sr.wrapT),$t.ext_texture_filter_anisotropic&&pt.texParameteri(un,34046,Sr.anisotropic),Sr.genMipmaps&&(pt.hint(33170,Sr.mipmapHint),pt.generateMipmap(un))}function Nt(Sr){mt.call(this),this.mipmask=0,this.internalformat=6408,this.id=Xn++,this.refCount=1,this.target=Sr,this.texture=pt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new sr,it.profile&&(this.stats={size:0})}function dr(Sr){pt.activeTexture(33984),pt.bindTexture(Sr.target,Sr.texture)}function Mr(){var Sr=ra[0];Sr?pt.bindTexture(Sr.target,Sr.texture):pt.bindTexture(3553,null)}function wr(Sr){var un=Sr.texture,ln=Sr.unit,An=Sr.target;0<=ln&&(pt.activeTexture(33984+ln),pt.bindTexture(An,null),ra[ln]=null),pt.deleteTexture(un),Sr.texture=null,Sr.params=null,Sr.pixels=null,Sr.refCount=0,delete na[Sr.id],dt.textureCount--}var kr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},tn={repeat:10497,clamp:33071,mirror:33648},_r={nearest:9728,linear:9729},Kr=q({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},_r),vn={none:0,browser:37444},Xr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},On={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},mn={};$t.ext_srgb&&(On.srgb=35904,On.srgba=35906),$t.oes_texture_float&&(Xr.float32=Xr.float=5126),$t.oes_texture_half_float&&(Xr.float16=Xr["half float"]=36193),$t.webgl_depth_texture&&(q(On,{depth:6402,"depth stencil":34041}),q(Xr,{uint16:5123,uint32:5125,"depth stencil":34042})),$t.webgl_compressed_texture_s3tc&&q(mn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),$t.webgl_compressed_texture_atc&&q(mn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),$t.webgl_compressed_texture_pvrtc&&q(mn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),$t.webgl_compressed_texture_etc1&&(mn["rgb etc1"]=36196);var xr=Array.prototype.slice.call(pt.getParameter(34467));Object.keys(mn).forEach(function(Sr){var un=mn[Sr];0<=xr.indexOf(un)&&(On[Sr]=un)});var Pr=Object.keys(On);tr.textureFormats=Pr;var Zr=[];Object.keys(On).forEach(function(Sr){Zr[On[Sr]]=Sr});var Hr=[];Object.keys(Xr).forEach(function(Sr){Hr[Xr[Sr]]=Sr});var fn=[];Object.keys(_r).forEach(function(Sr){fn[_r[Sr]]=Sr});var Tn=[];Object.keys(Kr).forEach(function(Sr){Tn[Kr[Sr]]=Sr});var Mn=[];Object.keys(tn).forEach(function(Sr){Mn[tn[Sr]]=Sr});var Pn=Pr.reduce(function(Sr,un){var ln=On[un];return Sr[ln]=6409===ln||6406===ln||6409===ln||6410===ln||6402===ln||34041===ln||$t.ext_srgb&&(35904===ln||35906===ln)?ln:32855===ln||0<=un.indexOf("rgba")?6408:6407,Sr},{}),Fn=[],la=[],Xn=0,na={},Yn=tr.maxTextureUnits,ra=Array(Yn).map(function(){return null});return q(Nt.prototype,{bind:function(){this.bindCount+=1;var Sr=this.unit;if(0>Sr){for(var un=0;un<Yn;++un){var ln=ra[un];if(ln){if(0<ln.bindCount)continue;ln.unit=-1}ra[un]=this,Sr=un;break}it.profile&&dt.maxTextureUnits<Sr+1&&(dt.maxTextureUnits=Sr+1),this.unit=Sr,pt.activeTexture(33984+Sr),pt.bindTexture(this.target,this.texture)}return Sr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&wr(this)}}),it.profile&&(dt.getTotalTextureSize=function(){var Sr=0;return Object.keys(na).forEach(function(un){Sr+=na[un].stats.size}),Sr}),{create2D:function(Sr,un){function ln(Vn,En){var Ln=An.texInfo;sr.call(Ln);var Hn=_t();return"number"==typeof Vn?We(Hn,0|Vn,"number"==typeof En?0|En:0|Vn):Vn?(hr(Ln,Vn),Ve(Hn,Vn)):We(Hn,1,1),Ln.genMipmaps&&(Hn.mipmask=(Hn.width<<1)-1),An.mipmask=Hn.mipmask,St(An,Hn),An.internalformat=Hn.internalformat,ln.width=Hn.width,ln.height=Hn.height,dr(An),Rt(Hn,3553),or(Ln,3553),Mr(),Kt(Hn),it.profile&&(An.stats.size=d(An.internalformat,An.type,Hn.width,Hn.height,Ln.genMipmaps,!1)),ln.format=Zr[An.internalformat],ln.type=Hr[An.type],ln.mag=fn[Ln.magFilter],ln.min=Tn[Ln.minFilter],ln.wrapS=Mn[Ln.wrapS],ln.wrapT=Mn[Ln.wrapT],ln}var An=new Nt(3553);return na[An.id]=An,dt.textureCount++,ln(Sr,un),ln.subimage=function(Vn,En,Ln,Hn){En|=0,Ln|=0,Hn|=0;var Qn=cr();return St(Qn,An),Qn.width=0,Qn.height=0,Bt(Qn,Vn),Qn.width=Qn.width||(An.width>>Hn)-En,Qn.height=Qn.height||(An.height>>Hn)-Ln,dr(An),qt(Qn,3553,En,Ln,Hn),Mr(),lr(Qn),ln},ln.resize=function(Vn,En){var Ln=0|Vn,Hn=0|En||Ln;if(Ln===An.width&&Hn===An.height)return ln;ln.width=An.width=Ln,ln.height=An.height=Hn,dr(An);for(var Qn=0;An.mipmask>>Qn;++Qn){var ya=Ln>>Qn,Ja=Hn>>Qn;if(!ya||!Ja)break;pt.texImage2D(3553,Qn,An.format,ya,Ja,0,An.format,An.type,null)}return Mr(),it.profile&&(An.stats.size=d(An.internalformat,An.type,Ln,Hn,!1,!1)),ln},ln._reglType="texture2d",ln._texture=An,it.profile&&(ln.stats=An.stats),ln.destroy=function(){An.decRef()},ln},createCube:function(Sr,un,ln,An,Vn,En){function Ln(ya,Ja,er,ge,Ue,nt){var ct,Pt=Hn.texInfo;for(sr.call(Pt),ct=0;6>ct;++ct)Qn[ct]=_t();if("number"!=typeof ya&&ya){if("object"==typeof ya)if(Ja)Ve(Qn[0],ya),Ve(Qn[1],Ja),Ve(Qn[2],er),Ve(Qn[3],ge),Ve(Qn[4],Ue),Ve(Qn[5],nt);else if(hr(Pt,ya),Lt(Hn,ya),"faces"in ya)for(ya=ya.faces,ct=0;6>ct;++ct)St(Qn[ct],Hn),Ve(Qn[ct],ya[ct]);else for(ct=0;6>ct;++ct)Ve(Qn[ct],ya)}else for(ya=0|ya||1,ct=0;6>ct;++ct)We(Qn[ct],ya,ya);for(St(Hn,Qn[0]),Hn.mipmask=Pt.genMipmaps?(Qn[0].width<<1)-1:Qn[0].mipmask,Hn.internalformat=Qn[0].internalformat,Ln.width=Qn[0].width,Ln.height=Qn[0].height,dr(Hn),ct=0;6>ct;++ct)Rt(Qn[ct],34069+ct);for(or(Pt,34067),Mr(),it.profile&&(Hn.stats.size=d(Hn.internalformat,Hn.type,Ln.width,Ln.height,Pt.genMipmaps,!0)),Ln.format=Zr[Hn.internalformat],Ln.type=Hr[Hn.type],Ln.mag=fn[Pt.magFilter],Ln.min=Tn[Pt.minFilter],Ln.wrapS=Mn[Pt.wrapS],Ln.wrapT=Mn[Pt.wrapT],ct=0;6>ct;++ct)Kt(Qn[ct]);return Ln}var Hn=new Nt(34067);na[Hn.id]=Hn,dt.cubeCount++;var Qn=Array(6);return Ln(Sr,un,ln,An,Vn,En),Ln.subimage=function(ya,Ja,er,ge,Ue){er|=0,ge|=0,Ue|=0;var nt=cr();return St(nt,Hn),nt.width=0,nt.height=0,Bt(nt,Ja),nt.width=nt.width||(Hn.width>>Ue)-er,nt.height=nt.height||(Hn.height>>Ue)-ge,dr(Hn),qt(nt,34069+ya,er,ge,Ue),Mr(),lr(nt),Ln},Ln.resize=function(ya){if((ya|=0)!==Hn.width){Ln.width=Hn.width=ya,Ln.height=Hn.height=ya,dr(Hn);for(var Ja=0;6>Ja;++Ja)for(var er=0;Hn.mipmask>>er;++er)pt.texImage2D(34069+Ja,er,Hn.format,ya>>er,ya>>er,0,Hn.format,Hn.type,null);return Mr(),it.profile&&(Hn.stats.size=d(Hn.internalformat,Hn.type,Ln.width,Ln.height,!1,!0)),Ln}},Ln._reglType="textureCube",Ln._texture=Hn,it.profile&&(Ln.stats=Hn.stats),Ln.destroy=function(){Hn.decRef()},Ln},clear:function(){for(var Sr=0;Sr<Yn;++Sr)pt.activeTexture(33984+Sr),pt.bindTexture(3553,null),ra[Sr]=null;xe(na).forEach(wr),dt.cubeCount=0,dt.textureCount=0},getTexture:function(Sr){return null},restore:function(){for(var Sr=0;Sr<Yn;++Sr){var un=ra[Sr];un&&(un.bindCount=0,un.unit=-1,ra[Sr]=null)}xe(na).forEach(function(ln){ln.texture=pt.createTexture(),pt.bindTexture(ln.target,ln.texture);for(var An=0;32>An;++An)if(ln.mipmask&1<<An)if(3553===ln.target)pt.texImage2D(3553,An,ln.internalformat,ln.width>>An,ln.height>>An,0,ln.internalformat,ln.type,null);else for(var Vn=0;6>Vn;++Vn)pt.texImage2D(34069+Vn,An,ln.internalformat,ln.width>>An,ln.height>>An,0,ln.internalformat,ln.type,null);or(ln.texInfo,ln.target)})},refresh:function(){for(var Sr=0;Sr<Yn;++Sr){var un=ra[Sr];un&&(un.bindCount=0,un.unit=-1,ra[Sr]=null),pt.activeTexture(33984+Sr),pt.bindTexture(3553,null),pt.bindTexture(34067,null)}}}}(qt,Ve,or,function(){Kr.procs.poll()},sr,br,pt),tn=function(pt,$t,tr,Er,pr){function dt(Ut){this.id=Lt++,this.refCount=1,this.renderbuffer=Ut,this.format=32854,this.height=this.width=0,pr.profile&&(this.stats={size:0})}function it(Ut){var Bt=Ut.renderbuffer;pt.bindRenderbuffer(36161,null),pt.deleteRenderbuffer(Bt),Ut.renderbuffer=null,Ut.refCount=0,delete Ct[Ut.id],Er.renderbufferCount--}var mt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};$t.ext_srgb&&(mt.srgba=35907),$t.ext_color_buffer_half_float&&(mt.rgba16f=34842,mt.rgb16f=34843),$t.webgl_color_buffer_float&&(mt.rgba32f=34836);var St=[];Object.keys(mt).forEach(function(Ut){St[mt[Ut]]=Ut});var Lt=0,Ct={};return dt.prototype.decRef=function(){0>=--this.refCount&&it(this)},pr.profile&&(Er.getTotalRenderbufferSize=function(){var Ut=0;return Object.keys(Ct).forEach(function(Bt){Ut+=Ct[Bt].stats.size}),Ut}),{create:function(Ut,Bt){function qt(lr,br){var We=0,Ve=0,Rt=32854;if("object"==typeof lr&&lr?("shape"in lr?(We=0|(Ve=lr.shape)[0],Ve=0|Ve[1]):("radius"in lr&&(We=Ve=0|lr.radius),"width"in lr&&(We=0|lr.width),"height"in lr&&(Ve=0|lr.height)),"format"in lr&&(Rt=mt[lr.format])):"number"==typeof lr?(We=0|lr,Ve="number"==typeof br?0|br:We):lr||(We=Ve=1),We!==cr.width||Ve!==cr.height||Rt!==cr.format)return qt.width=cr.width=We,qt.height=cr.height=Ve,cr.format=Rt,pt.bindRenderbuffer(36161,cr.renderbuffer),pt.renderbufferStorage(36161,Rt,We,Ve),pr.profile&&(cr.stats.size=Te[cr.format]*cr.width*cr.height),qt.format=St[cr.format],qt}var cr=new dt(pt.createRenderbuffer());return Ct[cr.id]=cr,Er.renderbufferCount++,qt(Ut,Bt),qt.resize=function(lr,br){var We=0|lr,Ve=0|br||We;return We===cr.width&&Ve===cr.height||(qt.width=cr.width=We,qt.height=cr.height=Ve,pt.bindRenderbuffer(36161,cr.renderbuffer),pt.renderbufferStorage(36161,cr.format,We,Ve),pr.profile&&(cr.stats.size=Te[cr.format]*cr.width*cr.height)),qt},qt._reglType="renderbuffer",qt._renderbuffer=cr,pr.profile&&(qt.stats=cr.stats),qt.destroy=function(){cr.decRef()},qt},clear:function(){xe(Ct).forEach(it)},restore:function(){xe(Ct).forEach(function(Ut){Ut.renderbuffer=pt.createRenderbuffer(),pt.bindRenderbuffer(36161,Ut.renderbuffer),pt.renderbufferStorage(36161,Ut.format,Ut.width,Ut.height)}),pt.bindRenderbuffer(36161,null)}}}(qt,Ve,0,br,pt),_r=function L(pt,$t,tr,Er,pr,dt){function it(Nt,dr,Mr){this.target=Nt,this.texture=dr,this.renderbuffer=Mr;var wr=Nt=0;dr?(Nt=dr.width,wr=dr.height):Mr&&(Nt=Mr.width,wr=Mr.height),this.width=Nt,this.height=wr}function mt(Nt){Nt&&(Nt.texture&&Nt.texture._texture.decRef(),Nt.renderbuffer&&Nt.renderbuffer._renderbuffer.decRef())}function St(Nt,dr,Mr){Nt&&(Nt.texture?Nt.texture._texture.refCount+=1:Nt.renderbuffer._renderbuffer.refCount+=1)}function Lt(Nt,dr){dr&&(dr.texture?pt.framebufferTexture2D(36160,Nt,dr.target,dr.texture._texture.texture,0):pt.framebufferRenderbuffer(36160,Nt,36161,dr.renderbuffer._renderbuffer.renderbuffer))}function Ct(Nt){var dr=3553,Mr=null,wr=null,kr=Nt;return"object"==typeof Nt&&(kr=Nt.data,"target"in Nt&&(dr=0|Nt.target)),"texture2d"===(Nt=kr._reglType)||"textureCube"===Nt?Mr=kr:"renderbuffer"===Nt&&(wr=kr,dr=36161),new it(dr,Mr,wr)}function Ut(Nt,dr,Mr,wr,kr){return Mr?((Nt=Er.create2D({width:Nt,height:dr,format:wr,type:kr}))._texture.refCount=0,new it(3553,Nt,null)):((Nt=pr.create({width:Nt,height:dr,format:wr}))._renderbuffer.refCount=0,new it(36161,null,Nt))}function Bt(Nt){return Nt&&(Nt.texture||Nt.renderbuffer)}function qt(Nt,dr,Mr){Nt&&(Nt.texture?Nt.texture.resize(dr,Mr):Nt.renderbuffer&&Nt.renderbuffer.resize(dr,Mr),Nt.width=dr,Nt.height=Mr)}function cr(){this.id=hr++,or[this.id]=this,this.framebuffer=pt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function lr(Nt){Nt.colorAttachments.forEach(mt),mt(Nt.depthAttachment),mt(Nt.stencilAttachment),mt(Nt.depthStencilAttachment)}function br(Nt){pt.deleteFramebuffer(Nt.framebuffer),Nt.framebuffer=null,dt.framebufferCount--,delete or[Nt.id]}function We(Nt){var dr;pt.bindFramebuffer(36160,Nt.framebuffer);var Mr=Nt.colorAttachments;for(dr=0;dr<Mr.length;++dr)Lt(36064+dr,Mr[dr]);for(dr=Mr.length;dr<tr.maxColorAttachments;++dr)pt.framebufferTexture2D(36160,36064+dr,3553,null,0);pt.framebufferTexture2D(36160,33306,3553,null,0),pt.framebufferTexture2D(36160,36096,3553,null,0),pt.framebufferTexture2D(36160,36128,3553,null,0),Lt(36096,Nt.depthAttachment),Lt(36128,Nt.stencilAttachment),Lt(33306,Nt.depthStencilAttachment),pt.checkFramebufferStatus(36160),pt.isContextLost(),pt.bindFramebuffer(36160,Rt.next?Rt.next.framebuffer:null),Rt.cur=Rt.next,pt.getError()}function Ve(Nt,dr){function Mr(kr,tn){var _r,Kr=0,vn=0,Xr=!0,On=!0;_r=null;var mn=!0,xr="rgba",Pr="uint8",Zr=1,Hr=null,fn=null,Tn=null,Mn=!1;"number"==typeof kr?(Kr=0|kr,vn=0|tn||Kr):kr?("shape"in kr?(Kr=(vn=kr.shape)[0],vn=vn[1]):("radius"in kr&&(Kr=vn=kr.radius),"width"in kr&&(Kr=kr.width),"height"in kr&&(vn=kr.height)),("color"in kr||"colors"in kr)&&(_r=kr.color||kr.colors,Array.isArray(_r)),_r||("colorCount"in kr&&(Zr=0|kr.colorCount),"colorTexture"in kr&&(mn=!!kr.colorTexture,xr="rgba4"),"colorType"in kr&&(Pr=kr.colorType,!mn)&&("half float"===Pr||"float16"===Pr?xr="rgba16f":("float"===Pr||"float32"===Pr)&&(xr="rgba32f")),"colorFormat"in kr&&(0<=_t.indexOf(xr=kr.colorFormat)?mn=!0:0<=Kt.indexOf(xr)&&(mn=!1))),("depthTexture"in kr||"depthStencilTexture"in kr)&&(Mn=!(!kr.depthTexture&&!kr.depthStencilTexture)),"depth"in kr&&("boolean"==typeof kr.depth?Xr=kr.depth:(Hr=kr.depth,On=!1)),"stencil"in kr&&("boolean"==typeof kr.stencil?On=kr.stencil:(fn=kr.stencil,Xr=!1)),"depthStencil"in kr&&("boolean"==typeof kr.depthStencil?Xr=On=kr.depthStencil:(Tn=kr.depthStencil,On=Xr=!1))):Kr=vn=1;var Pn=null,Fn=null,la=null,Xn=null;if(Array.isArray(_r))Pn=_r.map(Ct);else if(_r)Pn=[Ct(_r)];else for(Pn=Array(Zr),_r=0;_r<Zr;++_r)Pn[_r]=Ut(Kr,vn,mn,xr,Pr);for(Kr=Kr||Pn[0].width,vn=vn||Pn[0].height,Hr?Fn=Ct(Hr):Xr&&!On&&(Fn=Ut(Kr,vn,Mn,"depth","uint32")),fn?la=Ct(fn):On&&!Xr&&(la=Ut(Kr,vn,!1,"stencil","uint8")),Tn?Xn=Ct(Tn):!Hr&&!fn&&On&&Xr&&(Xn=Ut(Kr,vn,Mn,"depth stencil","depth stencil")),Xr=null,_r=0;_r<Pn.length;++_r)St(Pn[_r]),Pn[_r]&&Pn[_r].texture&&(On=pe[Pn[_r].texture._texture.format]*Fe[Pn[_r].texture._texture.type],null===Xr&&(Xr=On));return St(Fn),St(la),St(Xn),lr(wr),wr.width=Kr,wr.height=vn,wr.colorAttachments=Pn,wr.depthAttachment=Fn,wr.stencilAttachment=la,wr.depthStencilAttachment=Xn,Mr.color=Pn.map(Bt),Mr.depth=Bt(Fn),Mr.stencil=Bt(la),Mr.depthStencil=Bt(Xn),Mr.width=wr.width,Mr.height=wr.height,We(wr),Mr}var wr=new cr;return dt.framebufferCount++,Mr(Nt,dr),q(Mr,{resize:function(kr,tn){var _r=Math.max(0|kr,1),Kr=Math.max(0|tn||_r,1);if(_r===wr.width&&Kr===wr.height)return Mr;for(var vn=wr.colorAttachments,Xr=0;Xr<vn.length;++Xr)qt(vn[Xr],_r,Kr);return qt(wr.depthAttachment,_r,Kr),qt(wr.stencilAttachment,_r,Kr),qt(wr.depthStencilAttachment,_r,Kr),wr.width=Mr.width=_r,wr.height=Mr.height=Kr,We(wr),Mr},_reglType:"framebuffer",_framebuffer:wr,destroy:function(){br(wr),lr(wr)},use:function(kr){Rt.setFBO({framebuffer:Mr},kr)}})}var Rt={cur:null,next:null,dirty:!1,setFBO:null},_t=["rgba"],Kt=["rgba4","rgb565","rgb5 a1"];$t.ext_srgb&&Kt.push("srgba"),$t.ext_color_buffer_half_float&&Kt.push("rgba16f","rgb16f"),$t.webgl_color_buffer_float&&Kt.push("rgba32f");var sr=["uint8"];$t.oes_texture_half_float&&sr.push("half float","float16"),$t.oes_texture_float&&sr.push("float","float32");var hr=0,or={};return q(Rt,{getFramebuffer:function(Nt){return"function"==typeof Nt&&"framebuffer"===Nt._reglType&&(Nt=Nt._framebuffer)instanceof cr?Nt:null},create:Ve,createCube:function(Nt){function dr(wr){var kr,tn={color:null},_r=0,Kr=null;kr="rgba";var vn="uint8",Xr=1;if("number"==typeof wr?_r=0|wr:wr?("shape"in wr?_r=wr.shape[0]:("radius"in wr&&(_r=0|wr.radius),"width"in wr?_r=0|wr.width:"height"in wr&&(_r=0|wr.height)),("color"in wr||"colors"in wr)&&(Kr=wr.color||wr.colors,Array.isArray(Kr)),Kr||("colorCount"in wr&&(Xr=0|wr.colorCount),"colorType"in wr&&(vn=wr.colorType),"colorFormat"in wr&&(kr=wr.colorFormat)),"depth"in wr&&(tn.depth=wr.depth),"stencil"in wr&&(tn.stencil=wr.stencil),"depthStencil"in wr&&(tn.depthStencil=wr.depthStencil)):_r=1,Kr)if(Array.isArray(Kr))for(wr=[],kr=0;kr<Kr.length;++kr)wr[kr]=Kr[kr];else wr=[Kr];else for(wr=Array(Xr),Kr={radius:_r,format:kr,type:vn},kr=0;kr<Xr;++kr)wr[kr]=Er.createCube(Kr);for(tn.color=Array(wr.length),kr=0;kr<wr.length;++kr)Xr=wr[kr],_r=_r||Xr.width,tn.color[kr]={target:34069,data:wr[kr]};for(kr=0;6>kr;++kr){for(Xr=0;Xr<wr.length;++Xr)tn.color[Xr].target=34069+kr;0<kr&&(tn.depth=Mr[0].depth,tn.stencil=Mr[0].stencil,tn.depthStencil=Mr[0].depthStencil),Mr[kr]?Mr[kr](tn):Mr[kr]=Ve(tn)}return q(dr,{width:_r,height:_r,color:wr})}var Mr=Array(6);return dr(Nt),q(dr,{faces:Mr,resize:function(wr){var kr=0|wr;if(kr===dr.width)return dr;var tn=dr.color;for(wr=0;wr<tn.length;++wr)tn[wr].resize(kr);for(wr=0;6>wr;++wr)Mr[wr].resize(kr);return dr.width=dr.height=kr,dr},_reglType:"framebufferCube",destroy:function(){Mr.forEach(function(wr){wr.destroy()})}})},clear:function(){xe(or).forEach(br)},restore:function(){Rt.cur=null,Rt.next=null,Rt.dirty=!0,xe(or).forEach(function(Nt){Nt.framebuffer=pt.createFramebuffer(),We(Nt)})}})}(qt,Ve,or,kr,tn,br),Kr=Z(qt,vn,Ve,or,Nt,dr,0,_r,{},Mr,wr,hr,sr,Rt,We,pt),Xr=(vn=O(qt,_r,Kr.procs.poll,sr),Kr.next),On=qt.canvas,mn=[],xr=[],Pr=[],Zr=[pt.onDestroy],Hr=null;On&&(On.addEventListener("webglcontextlost",pr,!1),On.addEventListener("webglcontextrestored",dt,!1));var fn=_r.setFBO=it({framebuffer:de.define.call(null,1,"framebuffer")});return Ut(),cr=q(it,{clear:function(Tn){if("framebuffer"in Tn)if(Tn.framebuffer&&"framebufferCube"===Tn.framebuffer_reglType)for(var Mn=0;6>Mn;++Mn)fn(q({framebuffer:Tn.framebuffer.faces[Mn]},Tn),mt);else fn(Tn,mt);else mt(0,Tn)},prop:de.define.bind(null,1),context:de.define.bind(null,2),this:de.define.bind(null,3),draw:it({}),buffer:function(Tn){return Nt.create(Tn,34962,!1,!1)},elements:function(Tn){return dr.create(Tn,!1)},texture:kr.create2D,cube:kr.createCube,renderbuffer:tn.create,framebuffer:_r.create,framebufferCube:_r.createCube,vao:Mr.createVAO,attributes:cr,frame:St,on:function(Tn,Mn){var Pn;switch(Tn){case"frame":return St(Mn);case"lost":Pn=xr;break;case"restore":Pn=Pr;break;case"destroy":Pn=Zr}return Pn.push(Mn),{cancel:function(){for(var Fn=0;Fn<Pn.length;++Fn)if(Pn[Fn]===Mn){Pn[Fn]=Pn[Pn.length-1],Pn.pop();break}}}},limits:or,hasExtension:function(Tn){return 0<=or.extensions.indexOf(Tn.toLowerCase())},read:vn,destroy:function(){mn.length=0,Er(),On&&(On.removeEventListener("webglcontextlost",pr),On.removeEventListener("webglcontextrestored",dt)),wr.clear(),_r.clear(),tn.clear(),Mr.clear(),kr.clear(),dr.clear(),Nt.clear(),Rt&&Rt.clear(),Zr.forEach(function(Tn){Tn()})},_gl:qt,_refresh:Ut,poll:function(){Ct(),Rt&&Rt.update()},now:Bt,stats:br,getCachedCode:function(){return We},preloadCachedCode:function(Tn){Object.entries(Tn).forEach(function(Mn){We[Mn[0]]=Mn[1]})}}),pt.onDone(null,cr),cr}}()},71665:function(te,Y,e){var T=e(12856),D=T.Buffer;function o(C,h){for(var y in C)h[y]=C[y]}function P(C,h,y){return D(C,h,y)}D.from&&D.alloc&&D.allocUnsafe&&D.allocUnsafeSlow?te.exports=T:(o(T,Y),Y.Buffer=P),P.prototype=Object.create(D.prototype),o(D,P),P.from=function(C,h,y){if("number"==typeof C)throw new TypeError("Argument must not be a number");return D(C,h,y)},P.alloc=function(C,h,y){if("number"!=typeof C)throw new TypeError("Argument must be a number");var t=D(C);return void 0!==h?"string"==typeof y?t.fill(h,y):t.fill(h):t.fill(0),t},P.allocUnsafe=function(C){if("number"!=typeof C)throw new TypeError("Argument must be a number");return D(C)},P.allocUnsafeSlow=function(C){if("number"!=typeof C)throw new TypeError("Argument must be a number");return T.SlowBuffer(C)}},21630:function(te,Y,e){te.exports=o;var T=e(15398).EventEmitter;function o(){T.call(this)}e(42018)(o,T),o.Readable=e(40410),o.Writable=e(37493),o.Duplex=e(37865),o.Transform=e(74308),o.PassThrough=e(66897),o.finished=e(12726),o.pipeline=e(10168),o.Stream=o,o.prototype.pipe=function(P,C){var h=this;function y(c){P.writable&&!1===P.write(c)&&h.pause&&h.pause()}function t(){h.readable&&h.resume&&h.resume()}h.on("data",y),P.on("drain",t),!P._isStdio&&(!C||!1!==C.end)&&(h.on("end",l),h.on("close",i));var r=!1;function l(){r||(r=!0,P.end())}function i(){r||(r=!0,"function"==typeof P.destroy&&P.destroy())}function u(c){if(f(),0===T.listenerCount(this,"error"))throw c}function f(){h.removeListener("data",y),P.removeListener("drain",t),h.removeListener("end",l),h.removeListener("close",i),h.removeListener("error",u),P.removeListener("error",u),h.removeListener("end",f),h.removeListener("close",f),P.removeListener("close",f)}return h.on("error",u),P.on("error",u),h.on("end",f),h.on("close",f),P.on("close",f),P.emit("pipe",h),P}},74322:function(te){"use strict";var e={};function T(h,y,t){t||(t=Error);var l=function(i){function u(f,c,m){return i.call(this,function r(i,u,f){return"string"==typeof y?y:y(i,u,f)}(f,c,m))||this}return function Y(h,y){h.prototype=Object.create(y.prototype),h.prototype.constructor=h,h.__proto__=y}(u,i),u}(t);l.prototype.name=t.name,l.prototype.code=h,e[h]=l}function D(h,y){if(Array.isArray(h)){var t=h.length;return h=h.map(function(r){return String(r)}),t>2?"one of ".concat(y," ").concat(h.slice(0,t-1).join(", "),", or ")+h[t-1]:2===t?"one of ".concat(y," ").concat(h[0]," or ").concat(h[1]):"of ".concat(y," ").concat(h[0])}return"of ".concat(y," ").concat(String(h))}T("ERR_INVALID_OPT_VALUE",function(h,y){return'The value "'+y+'" is invalid for option "'+h+'"'},TypeError),T("ERR_INVALID_ARG_TYPE",function(h,y,t){var r,l;if("string"==typeof y&&function o(h,y,t){return h.substr(!t||t<0?0:+t,y.length)===y}(y,"not ")?(r="must not be",y=y.replace(/^not /,"")):r="must be",function P(h,y,t){return(void 0===t||t>h.length)&&(t=h.length),h.substring(t-y.length,t)===y}(h," argument"))l="The ".concat(h," ").concat(r," ").concat(D(y,"type"));else{var i=function C(h,y,t){return"number"!=typeof t&&(t=0),!(t+y.length>h.length)&&-1!==h.indexOf(y,t)}(h,".")?"property":"argument";l='The "'.concat(h,'" ').concat(i," ").concat(r," ").concat(D(y,"type"))}return l+". Received type ".concat(typeof t)},TypeError),T("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),T("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),T("ERR_STREAM_PREMATURE_CLOSE","Premature close"),T("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),T("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),T("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),T("ERR_STREAM_WRITE_AFTER_END","write after end"),T("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),T("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),T("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),te.exports.q=e},37865:function(te,Y,e){"use strict";var T=e(90386),D=Object.keys||function(i){var u=[];for(var f in i)u.push(f);return u};te.exports=t;var o=e(40410),P=e(37493);e(42018)(t,o);for(var C=D(P.prototype),h=0;h<C.length;h++){var y=C[h];t.prototype[y]||(t.prototype[y]=P.prototype[y])}function t(i){if(!(this instanceof t))return new t(i);o.call(this,i),P.call(this,i),this.allowHalfOpen=!0,i&&(!1===i.readable&&(this.readable=!1),!1===i.writable&&(this.writable=!1),!1===i.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",r)))}function r(){this._writableState.ended||T.nextTick(l,this)}function l(i){i.end()}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(u){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=u,this._writableState.destroyed=u)}})},66897:function(te,Y,e){"use strict";te.exports=D;var T=e(74308);function D(o){if(!(this instanceof D))return new D(o);T.call(this,o)}e(42018)(D,T),D.prototype._transform=function(o,P,C){C(null,o)}},40410:function(te,Y,e){"use strict";var D,T=e(90386);te.exports=S,S.ReadableState=n,e(15398);var i,P=function(re,q){return re.listeners(q).length},C=e(71405),h=e(12856).Buffer,y=e.g.Uint8Array||function(){},l=e(40964);i=l&&l.debuglog?l.debuglog("stream"):function(){};var A,x,E,u=e(31125),f=e(65756),m=e(56306).getHighWaterMark,a=e(74322).q,b=a.ERR_INVALID_ARG_TYPE,p=a.ERR_STREAM_PUSH_AFTER_EOF,s=a.ERR_METHOD_NOT_IMPLEMENTED,v=a.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(42018)(S,C);var g=f.errorOrDestroy,M=["error","close","destroy","pause","resume"];function n(Z,re,q){D=D||e(37865),"boolean"!=typeof q&&(q=re instanceof D),this.objectMode=!!(Z=Z||{}).objectMode,q&&(this.objectMode=this.objectMode||!!Z.readableObjectMode),this.highWaterMark=m(this,Z,"readableHighWaterMark",q),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==Z.emitClose,this.autoDestroy=!!Z.autoDestroy,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(A||(A=e(68019).s),this.decoder=new A(Z.encoding),this.encoding=Z.encoding)}function S(Z){if(D=D||e(37865),!(this instanceof S))return new S(Z);this._readableState=new n(Z,this,this instanceof D),this.readable=!0,Z&&("function"==typeof Z.read&&(this._read=Z.read),"function"==typeof Z.destroy&&(this._destroy=Z.destroy)),C.call(this)}function d(Z,re,q,se,de){i("readableAddChunk",re);var ye,we=Z._readableState;if(null===re)we.reading=!1,function O(Z,re){if(i("onEofChunk"),!re.ended){if(re.decoder){var q=re.decoder.end();q&&q.length&&(re.buffer.push(q),re.length+=re.objectMode?1:q.length)}re.ended=!0,re.sync?F(Z):(re.needReadable=!1,re.emittedReadable||(re.emittedReadable=!0,N(Z)))}}(Z,we);else if(de||(ye=function L(Z,re){var q;return!function r(Z){return h.isBuffer(Z)||Z instanceof y}(re)&&"string"!=typeof re&&void 0!==re&&!Z.objectMode&&(q=new b("chunk",["string","Buffer","Uint8Array"],re)),q}(we,re)),ye)g(Z,ye);else if(we.objectMode||re&&re.length>0)if("string"!=typeof re&&!we.objectMode&&Object.getPrototypeOf(re)!==h.prototype&&(re=function t(Z){return h.from(Z)}(re)),se)we.endEmitted?g(Z,new v):I(Z,we,re,!0);else if(we.ended)g(Z,new p);else{if(we.destroyed)return!1;we.reading=!1,we.decoder&&!q?(re=we.decoder.write(re),we.objectMode||0!==re.length?I(Z,we,re,!1):H(Z,we)):I(Z,we,re,!1)}else se||(we.reading=!1,H(Z,we));return!we.ended&&(we.length<we.highWaterMark||0===we.length)}function I(Z,re,q,se){re.flowing&&0===re.length&&!re.sync?(re.awaitDrain=0,Z.emit("data",q)):(re.length+=re.objectMode?1:q.length,se?re.buffer.unshift(q):re.buffer.push(q),re.needReadable&&F(Z)),H(Z,re)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(re){this._readableState&&(this._readableState.destroyed=re)}}),S.prototype.destroy=f.destroy,S.prototype._undestroy=f.undestroy,S.prototype._destroy=function(Z,re){re(Z)},S.prototype.push=function(Z,re){var se,q=this._readableState;return q.objectMode?se=!0:"string"==typeof Z&&((re=re||q.defaultEncoding)!==q.encoding&&(Z=h.from(Z,re),re=""),se=!0),d(this,Z,re,!1,se)},S.prototype.unshift=function(Z){return d(this,Z,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(Z){A||(A=e(68019).s);var re=new A(Z);this._readableState.decoder=re,this._readableState.encoding=this._readableState.decoder.encoding;for(var q=this._readableState.buffer.head,se="";null!==q;)se+=re.write(q.data),q=q.next;return this._readableState.buffer.clear(),""!==se&&this._readableState.buffer.push(se),this._readableState.length=se.length,this};var B=1073741824;function z(Z,re){return Z<=0||0===re.length&&re.ended?0:re.objectMode?1:Z!=Z?re.flowing&&re.length?re.buffer.head.data.length:re.length:(Z>re.highWaterMark&&(re.highWaterMark=function k(Z){return Z>=B?Z=B:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}(Z)),Z<=re.length?Z:re.ended?re.length:(re.needReadable=!0,0))}function F(Z){var re=Z._readableState;i("emitReadable",re.needReadable,re.emittedReadable),re.needReadable=!1,re.emittedReadable||(i("emitReadable",re.flowing),re.emittedReadable=!0,T.nextTick(N,Z))}function N(Z){var re=Z._readableState;i("emitReadable_",re.destroyed,re.length,re.ended),!re.destroyed&&(re.length||re.ended)&&(Z.emit("readable"),re.emittedReadable=!1),re.needReadable=!re.flowing&&!re.ended&&re.length<=re.highWaterMark,W(Z)}function H(Z,re){re.readingMore||(re.readingMore=!0,T.nextTick(X,Z,re))}function X(Z,re){for(;!re.reading&&!re.ended&&(re.length<re.highWaterMark||re.flowing&&0===re.length);){var q=re.length;if(i("maybeReadMore read 0"),Z.read(0),q===re.length)break}re.readingMore=!1}function ie(Z){var re=Z._readableState;re.readableListening=Z.listenerCount("readable")>0,re.resumeScheduled&&!re.paused?re.flowing=!0:Z.listenerCount("data")>0&&Z.resume()}function ue(Z){i("readable nexttick read 0"),Z.read(0)}function j(Z,re){i("resume",re.reading),re.reading||Z.read(0),re.resumeScheduled=!1,Z.emit("resume"),W(Z),re.flowing&&!re.reading&&Z.read(0)}function W(Z){var re=Z._readableState;for(i("flow",re.flowing);re.flowing&&null!==Z.read(););}function V(Z,re){return 0===re.length?null:(re.objectMode?q=re.buffer.shift():!Z||Z>=re.length?(q=re.decoder?re.buffer.join(""):1===re.buffer.length?re.buffer.first():re.buffer.concat(re.length),re.buffer.clear()):q=re.buffer.consume(Z,re.decoder),q);var q}function K(Z){var re=Z._readableState;i("endReadable",re.endEmitted),re.endEmitted||(re.ended=!0,T.nextTick(ae,re,Z))}function ae(Z,re){if(i("endReadableNT",Z.endEmitted,Z.length),!Z.endEmitted&&0===Z.length&&(Z.endEmitted=!0,re.readable=!1,re.emit("end"),Z.autoDestroy)){var q=re._writableState;(!q||q.autoDestroy&&q.finished)&&re.destroy()}}function Q(Z,re){for(var q=0,se=Z.length;q<se;q++)if(Z[q]===re)return q;return-1}S.prototype.read=function(Z){i("read",Z),Z=parseInt(Z,10);var re=this._readableState,q=Z;if(0!==Z&&(re.emittedReadable=!1),0===Z&&re.needReadable&&((0!==re.highWaterMark?re.length>=re.highWaterMark:re.length>0)||re.ended))return i("read: emitReadable",re.length,re.ended),0===re.length&&re.ended?K(this):F(this),null;if(0===(Z=z(Z,re))&&re.ended)return 0===re.length&&K(this),null;var de,se=re.needReadable;return i("need readable",se),(0===re.length||re.length-Z<re.highWaterMark)&&i("length less than watermark",se=!0),re.ended||re.reading?i("reading or ended",se=!1):se&&(i("do read"),re.reading=!0,re.sync=!0,0===re.length&&(re.needReadable=!0),this._read(re.highWaterMark),re.sync=!1,re.reading||(Z=z(q,re))),null===(de=Z>0?V(Z,re):null)?(re.needReadable=re.length<=re.highWaterMark,Z=0):(re.length-=Z,re.awaitDrain=0),0===re.length&&(re.ended||(re.needReadable=!0),q!==Z&&re.ended&&K(this)),null!==de&&this.emit("data",de),de},S.prototype._read=function(Z){g(this,new s("_read()"))},S.prototype.pipe=function(Z,re){var q=this,se=this._readableState;switch(se.pipesCount){case 0:se.pipes=Z;break;case 1:se.pipes=[se.pipes,Z];break;default:se.pipes.push(Z)}se.pipesCount+=1,i("pipe count=%d opts=%j",se.pipesCount,re);var we=re&&!1===re.end||Z===T.stdout||Z===T.stderr?He:Pe;function Pe(){i("onend"),Z.end()}se.endEmitted?T.nextTick(we):q.once("end",we),Z.on("unpipe",function ye(rt,$e){i("onunpipe"),rt===q&&$e&&!1===$e.hasUnpiped&&($e.hasUnpiped=!0,function xe(){i("cleanup"),Z.removeListener("close",Ye),Z.removeListener("finish",De),Z.removeListener("drain",Ie),Z.removeListener("error",Ge),Z.removeListener("unpipe",ye),q.removeListener("end",Pe),q.removeListener("end",He),q.removeListener("data",Me),Se=!0,se.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&Ie()}())});var Ie=function ne(Z){return function(){var q=Z._readableState;i("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,0===q.awaitDrain&&P(Z,"data")&&(q.flowing=!0,W(Z))}}(q);Z.on("drain",Ie);var Se=!1;function Me(rt){i("ondata");var $e=Z.write(rt);i("dest.write",$e),!1===$e&&((1===se.pipesCount&&se.pipes===Z||se.pipesCount>1&&-1!==Q(se.pipes,Z))&&!Se&&(i("false write response, pause",se.awaitDrain),se.awaitDrain++),q.pause())}function Ge(rt){i("onerror",rt),He(),Z.removeListener("error",Ge),0===P(Z,"error")&&g(Z,rt)}function Ye(){Z.removeListener("finish",De),He()}function De(){i("onfinish"),Z.removeListener("close",Ye),He()}function He(){i("unpipe"),q.unpipe(Z)}return q.on("data",Me),function w(Z,re,q){if("function"==typeof Z.prependListener)return Z.prependListener(re,q);Z._events&&Z._events[re]?Array.isArray(Z._events[re])?Z._events[re].unshift(q):Z._events[re]=[q,Z._events[re]]:Z.on(re,q)}(Z,"error",Ge),Z.once("close",Ye),Z.once("finish",De),Z.emit("pipe",q),se.flowing||(i("pipe resume"),q.resume()),Z},S.prototype.unpipe=function(Z){var re=this._readableState,q={hasUnpiped:!1};if(0===re.pipesCount)return this;if(1===re.pipesCount)return Z&&Z!==re.pipes||(Z||(Z=re.pipes),re.pipes=null,re.pipesCount=0,re.flowing=!1,Z&&Z.emit("unpipe",this,q)),this;if(!Z){var se=re.pipes,de=re.pipesCount;re.pipes=null,re.pipesCount=0,re.flowing=!1;for(var we=0;we<de;we++)se[we].emit("unpipe",this,{hasUnpiped:!1});return this}var ye=Q(re.pipes,Z);return-1===ye||(re.pipes.splice(ye,1),re.pipesCount-=1,1===re.pipesCount&&(re.pipes=re.pipes[0]),Z.emit("unpipe",this,q)),this},S.prototype.addListener=S.prototype.on=function(Z,re){var q=C.prototype.on.call(this,Z,re),se=this._readableState;return"data"===Z?(se.readableListening=this.listenerCount("readable")>0,!1!==se.flowing&&this.resume()):"readable"===Z&&!se.endEmitted&&!se.readableListening&&(se.readableListening=se.needReadable=!0,se.flowing=!1,se.emittedReadable=!1,i("on readable",se.length,se.reading),se.length?F(this):se.reading||T.nextTick(ue,this)),q},S.prototype.removeListener=function(Z,re){var q=C.prototype.removeListener.call(this,Z,re);return"readable"===Z&&T.nextTick(ie,this),q},S.prototype.removeAllListeners=function(Z){var re=C.prototype.removeAllListeners.apply(this,arguments);return("readable"===Z||void 0===Z)&&T.nextTick(ie,this),re},S.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(i("resume"),Z.flowing=!Z.readableListening,function J(Z,re){re.resumeScheduled||(re.resumeScheduled=!0,T.nextTick(j,Z,re))}(this,Z)),Z.paused=!1,this},S.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(Z){var re=this,q=this._readableState,se=!1;for(var de in Z.on("end",function(){if(i("wrapped end"),q.decoder&&!q.ended){var ye=q.decoder.end();ye&&ye.length&&re.push(ye)}re.push(null)}),Z.on("data",function(ye){i("wrapped data"),q.decoder&&(ye=q.decoder.write(ye)),q.objectMode&&null==ye||!(q.objectMode||ye&&ye.length)||re.push(ye)||(se=!0,Z.pause())}),Z)void 0===this[de]&&"function"==typeof Z[de]&&(this[de]=function(Pe){return function(){return Z[Pe].apply(Z,arguments)}}(de));for(var we=0;we<M.length;we++)Z.on(M[we],this.emit.bind(this,M[we]));return this._read=function(ye){i("wrapped _read",ye),se&&(se=!1,Z.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===x&&(x=e(68221)),x(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}}),S._fromList=V,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(Z,re){return void 0===E&&(E=e(31748)),E(S,Z,re)})},74308:function(te,Y,e){"use strict";te.exports=t;var T=e(74322).q,D=T.ERR_METHOD_NOT_IMPLEMENTED,o=T.ERR_MULTIPLE_CALLBACK,P=T.ERR_TRANSFORM_ALREADY_TRANSFORMING,C=T.ERR_TRANSFORM_WITH_LENGTH_0,h=e(37865);function y(i,u){var f=this._transformState;f.transforming=!1;var c=f.writecb;if(null===c)return this.emit("error",new o);f.writechunk=null,f.writecb=null,null!=u&&this.push(u),c(i);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function t(i){if(!(this instanceof t))return new t(i);h.call(this,i),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,i&&("function"==typeof i.transform&&(this._transform=i.transform),"function"==typeof i.flush&&(this._flush=i.flush)),this.on("prefinish",r)}function r(){var i=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush(function(u,f){l(i,u,f)})}function l(i,u,f){if(u)return i.emit("error",u);if(null!=f&&i.push(f),i._writableState.length)throw new C;if(i._transformState.transforming)throw new P;return i.push(null)}e(42018)(t,h),t.prototype.push=function(i,u){return this._transformState.needTransform=!1,h.prototype.push.call(this,i,u)},t.prototype._transform=function(i,u,f){f(new D("_transform()"))},t.prototype._write=function(i,u,f){var c=this._transformState;if(c.writecb=f,c.writechunk=i,c.writeencoding=u,!c.transforming){var m=this._readableState;(c.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},t.prototype._read=function(i){var u=this._transformState;null===u.writechunk||u.transforming?u.needTransform=!0:(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform))},t.prototype._destroy=function(i,u){h.prototype._destroy.call(this,i,function(f){u(f)})}},37493:function(te,Y,e){"use strict";var P,T=e(90386);function o(W){var V=this;this.next=null,this.entry=null,this.finish=function(){!function j(W,V,K){var ae=W.entry;for(W.entry=null;ae;){var Q=ae.callback;V.pendingcb--,Q(K),ae=ae.next}V.corkedRequestsFree.next=W}(V,W)}}te.exports=n,n.WritableState=M;var w,C={deprecate:e(20588)},h=e(71405),y=e(12856).Buffer,t=e.g.Uint8Array||function(){},i=e(65756),f=e(56306).getHighWaterMark,c=e(74322).q,m=c.ERR_INVALID_ARG_TYPE,a=c.ERR_METHOD_NOT_IMPLEMENTED,b=c.ERR_MULTIPLE_CALLBACK,p=c.ERR_STREAM_CANNOT_PIPE,s=c.ERR_STREAM_DESTROYED,v=c.ERR_STREAM_NULL_VALUES,A=c.ERR_STREAM_WRITE_AFTER_END,x=c.ERR_UNKNOWN_ENCODING,E=i.errorOrDestroy;function g(){}function M(W,V,K){P=P||e(37865),"boolean"!=typeof K&&(K=V instanceof P),this.objectMode=!!(W=W||{}).objectMode,K&&(this.objectMode=this.objectMode||!!W.writableObjectMode),this.highWaterMark=f(this,W,"writableHighWaterMark",K),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===W.decodeStrings),this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){!function O(W,V){var K=W._writableState,ae=K.sync,Q=K.writecb;if("function"!=typeof Q)throw new b;if(function z(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}(K),V)!function k(W,V,K,ae,Q){--V.pendingcb,K?(T.nextTick(Q,ae),T.nextTick(ue,W,V),W._writableState.errorEmitted=!0,E(W,ae)):(Q(ae),W._writableState.errorEmitted=!0,E(W,ae),ue(W,V))}(W,K,ae,V,Q);else{var Z=X(K)||W.destroyed;!Z&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&H(W,K),ae?T.nextTick(F,W,K,Z,Q):F(W,K,Z,Q)}}(V,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==W.emitClose,this.autoDestroy=!!W.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function n(W){var V=this instanceof(P=P||e(37865));if(!V&&!w.call(n,this))return new n(W);this._writableState=new M(W,this,V),this.writable=!0,W&&("function"==typeof W.write&&(this._write=W.write),"function"==typeof W.writev&&(this._writev=W.writev),"function"==typeof W.destroy&&(this._destroy=W.destroy),"function"==typeof W.final&&(this._final=W.final)),h.call(this)}function B(W,V,K,ae,Q,Z,re){V.writelen=ae,V.writecb=re,V.writing=!0,V.sync=!0,V.destroyed?V.onwrite(new s("write")):K?W._writev(Q,V.onwrite):W._write(Q,Z,V.onwrite),V.sync=!1}function F(W,V,K,ae){K||function N(W,V){0===V.length&&V.needDrain&&(V.needDrain=!1,W.emit("drain"))}(W,V),V.pendingcb--,ae(),ue(W,V)}function H(W,V){V.bufferProcessing=!0;var K=V.bufferedRequest;if(W._writev&&K&&K.next){var Q=new Array(V.bufferedRequestCount),Z=V.corkedRequestsFree;Z.entry=K;for(var re=0,q=!0;K;)Q[re]=K,K.isBuf||(q=!1),K=K.next,re+=1;Q.allBuffers=q,B(W,V,!0,V.length,Q,"",Z.finish),V.pendingcb++,V.lastBufferedRequest=null,Z.next?(V.corkedRequestsFree=Z.next,Z.next=null):V.corkedRequestsFree=new o(V),V.bufferedRequestCount=0}else{for(;K;){var se=K.chunk;if(B(W,V,!1,V.objectMode?1:se.length,se,K.encoding,K.callback),K=K.next,V.bufferedRequestCount--,V.writing)break}null===K&&(V.lastBufferedRequest=null)}V.bufferedRequest=K,V.bufferProcessing=!1}function X(W){return W.ending&&0===W.length&&null===W.bufferedRequest&&!W.finished&&!W.writing}function ne(W,V){W._final(function(K){V.pendingcb--,K&&E(W,K),V.prefinished=!0,W.emit("prefinish"),ue(W,V)})}function ue(W,V){var K=X(V);if(K&&(function ie(W,V){!V.prefinished&&!V.finalCalled&&("function"!=typeof W._final||V.destroyed?(V.prefinished=!0,W.emit("prefinish")):(V.pendingcb++,V.finalCalled=!0,T.nextTick(ne,W,V)))}(W,V),0===V.pendingcb&&(V.finished=!0,W.emit("finish"),V.autoDestroy))){var ae=W._readableState;(!ae||ae.autoDestroy&&ae.endEmitted)&&W.destroy()}return K}e(42018)(n,h),M.prototype.getBuffer=function(){for(var V=this.bufferedRequest,K=[];V;)K.push(V),V=V.next;return K},function(){try{Object.defineProperty(M.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(n,Symbol.hasInstance,{value:function(V){return!!w.call(this,V)||this===n&&V&&V._writableState instanceof M}})):w=function(V){return V instanceof this},n.prototype.pipe=function(){E(this,new p)},n.prototype.write=function(W,V,K){var ae=this._writableState,Q=!1,Z=!ae.objectMode&&function l(W){return y.isBuffer(W)||W instanceof t}(W);return Z&&!y.isBuffer(W)&&(W=function r(W){return y.from(W)}(W)),"function"==typeof V&&(K=V,V=null),Z?V="buffer":V||(V=ae.defaultEncoding),"function"!=typeof K&&(K=g),ae.ending?function S(W,V){var K=new A;E(W,K),T.nextTick(V,K)}(this,K):(Z||function d(W,V,K,ae){var Q;return null===K?Q=new v:"string"!=typeof K&&!V.objectMode&&(Q=new m("chunk",["string","Buffer"],K)),!Q||(E(W,Q),T.nextTick(ae,Q),!1)}(this,ae,W,K))&&(ae.pendingcb++,Q=function L(W,V,K,ae,Q,Z){if(!K){var re=function I(W,V,K){return!W.objectMode&&!1!==W.decodeStrings&&"string"==typeof V&&(V=y.from(V,K)),V}(V,ae,Q);ae!==re&&(K=!0,Q="buffer",ae=re)}var q=V.objectMode?1:ae.length;V.length+=q;var se=V.length<V.highWaterMark;if(se||(V.needDrain=!0),V.writing||V.corked){var de=V.lastBufferedRequest;V.lastBufferedRequest={chunk:ae,encoding:Q,isBuf:K,callback:Z,next:null},de?de.next=V.lastBufferedRequest:V.bufferedRequest=V.lastBufferedRequest,V.bufferedRequestCount+=1}else B(W,V,!1,q,ae,Q,Z);return se}(this,ae,Z,W,V,K)),Q},n.prototype.cork=function(){this._writableState.corked++},n.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,!W.writing&&!W.corked&&!W.bufferProcessing&&W.bufferedRequest&&H(this,W))},n.prototype.setDefaultEncoding=function(V){if("string"==typeof V&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new x(V);return this._writableState.defaultEncoding=V,this},Object.defineProperty(n.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),n.prototype._write=function(W,V,K){K(new a("_write()"))},n.prototype._writev=null,n.prototype.end=function(W,V,K){var ae=this._writableState;return"function"==typeof W?(K=W,W=null,V=null):"function"==typeof V&&(K=V,V=null),null!=W&&this.write(W,V),ae.corked&&(ae.corked=1,this.uncork()),ae.ending||function J(W,V,K){V.ending=!0,ue(W,V),K&&(V.finished?T.nextTick(K):W.once("finish",K)),V.ended=!0,W.writable=!1}(this,ae,K),this},Object.defineProperty(n.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(n.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(V){this._writableState&&(this._writableState.destroyed=V)}}),n.prototype.destroy=i.destroy,n.prototype._undestroy=i.undestroy,n.prototype._destroy=function(W,V){V(W)}},68221:function(te,Y,e){"use strict";var D,T=e(90386);function o(s,v,A){return v in s?Object.defineProperty(s,v,{value:A,enumerable:!0,configurable:!0,writable:!0}):s[v]=A,s}var P=e(12726),C=Symbol("lastResolve"),h=Symbol("lastReject"),y=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),l=Symbol("handlePromise"),i=Symbol("stream");function u(s,v){return{value:s,done:v}}function f(s){var v=s[C];if(null!==v){var A=s[i].read();null!==A&&(s[r]=null,s[C]=null,s[h]=null,v(u(A,!1)))}}function c(s){T.nextTick(f,s)}var a=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((o(D={get stream(){return this[i]},next:function(){var v=this,A=this[y];if(null!==A)return Promise.reject(A);if(this[t])return Promise.resolve(u(void 0,!0));if(this[i].destroyed)return new Promise(function(M,w){T.nextTick(function(){v[y]?w(v[y]):M(u(void 0,!0))})});var E,x=this[r];if(x)E=new Promise(function m(s,v){return function(A,x){s.then(function(){v[t]?A(u(void 0,!0)):v[l](A,x)},x)}}(x,this));else{var g=this[i].read();if(null!==g)return Promise.resolve(u(g,!1));E=new Promise(this[l])}return this[r]=E,E}},Symbol.asyncIterator,function(){return this}),o(D,"return",function(){var v=this;return new Promise(function(A,x){v[i].destroy(null,function(E){E?x(E):A(u(void 0,!0))})})}),D),a);te.exports=function(v){var A,x=Object.create(b,(o(A={},i,{value:v,writable:!0}),o(A,C,{value:null,writable:!0}),o(A,h,{value:null,writable:!0}),o(A,y,{value:null,writable:!0}),o(A,t,{value:v._readableState.endEmitted,writable:!0}),o(A,l,{value:function(g,M){var w=x[i].read();w?(x[r]=null,x[C]=null,x[h]=null,g(u(w,!1))):(x[C]=g,x[h]=M)},writable:!0}),A));return x[r]=null,P(v,function(E){if(E&&"ERR_STREAM_PREMATURE_CLOSE"!==E.code){var g=x[h];return null!==g&&(x[r]=null,x[C]=null,x[h]=null,g(E)),void(x[y]=E)}var M=x[C];null!==M&&(x[r]=null,x[C]=null,x[h]=null,M(u(void 0,!0))),x[t]=!0}),v.on("readable",c.bind(null,x)),x}},31125:function(te,Y,e){"use strict";function T(f,c){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(f);c&&(a=a.filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable})),m.push.apply(m,a)}return m}function o(f,c,m){return c in f?Object.defineProperty(f,c,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[c]=m,f}function C(f,c){for(var m=0;m<c.length;m++){var a=c[m];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(f,a.key,a)}}var t=e(12856).Buffer,l=e(69862).inspect,i=l&&l.custom||"inspect";function u(f,c,m){t.prototype.copy.call(f,c,m)}te.exports=function(){function f(){(function P(f,c){if(!(f instanceof c))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}return function h(f,c,m){c&&C(f.prototype,c),m&&C(f,m)}(f,[{key:"push",value:function(m){var a={data:m,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}},{key:"unshift",value:function(m){var a={data:m,next:this.head};0===this.length&&(this.tail=a),this.head=a,++this.length}},{key:"shift",value:function(){if(0!==this.length){var m=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(0===this.length)return"";for(var a=this.head,b=""+a.data;a=a.next;)b+=m+a.data;return b}},{key:"concat",value:function(m){if(0===this.length)return t.alloc(0);for(var a=t.allocUnsafe(m>>>0),b=this.head,p=0;b;)u(b.data,a,p),p+=b.data.length,b=b.next;return a}},{key:"consume",value:function(m,a){var b;return m<this.head.data.length?(b=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):b=m===this.head.data.length?this.shift():a?this._getString(m):this._getBuffer(m),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var a=this.head,b=1,p=a.data;for(m-=p.length;a=a.next;){var s=a.data,v=m>s.length?s.length:m;if(p+=v===s.length?s:s.slice(0,m),0==(m-=v)){v===s.length?(++b,this.head=a.next?a.next:this.tail=null):(this.head=a,a.data=s.slice(v));break}++b}return this.length-=b,p}},{key:"_getBuffer",value:function(m){var a=t.allocUnsafe(m),b=this.head,p=1;for(b.data.copy(a),m-=b.data.length;b=b.next;){var s=b.data,v=m>s.length?s.length:m;if(s.copy(a,a.length-m,0,v),0==(m-=v)){v===s.length?(++p,this.head=b.next?b.next:this.tail=null):(this.head=b,b.data=s.slice(v));break}++p}return this.length-=p,a}},{key:i,value:function(m,a){return l(this,function D(f){for(var c=1;c<arguments.length;c++){var m=null!=arguments[c]?arguments[c]:{};c%2?T(Object(m),!0).forEach(function(a){o(f,a,m[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(m)):T(Object(m)).forEach(function(a){Object.defineProperty(f,a,Object.getOwnPropertyDescriptor(m,a))})}return f}({},a,{depth:0,customInspect:!1}))}}]),f}()},65756:function(te,Y,e){"use strict";var T=e(90386);function o(t,r){h(t,r),P(t)}function P(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function h(t,r){t.emit("error",r)}te.exports={destroy:function D(t,r){var l=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,T.nextTick(h,this,t)):T.nextTick(h,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(f){!r&&f?l._writableState?l._writableState.errorEmitted?T.nextTick(P,l):(l._writableState.errorEmitted=!0,T.nextTick(o,l,f)):T.nextTick(o,l,f):r?(T.nextTick(P,l),r(f)):T.nextTick(P,l)}),this)},undestroy:function C(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function y(t,r){var l=t._readableState,i=t._writableState;l&&l.autoDestroy||i&&i.autoDestroy?t.destroy(r):t.emit("error",r)}}},12726:function(te,Y,e){"use strict";var T=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function o(){}te.exports=function C(h,y,t){if("function"==typeof y)return C(h,null,y);y||(y={}),t=function D(h){var y=!1;return function(){if(!y){y=!0;for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];h.apply(this,r)}}}(t||o);var r=y.readable||!1!==y.readable&&h.readable,l=y.writable||!1!==y.writable&&h.writable,i=function(){h.writable||f()},u=h._writableState&&h._writableState.finished,f=function(){l=!1,u=!0,r||t.call(h)},c=h._readableState&&h._readableState.endEmitted,m=function(){r=!1,c=!0,l||t.call(h)},a=function(v){t.call(h,v)},b=function(){var v;return r&&!c?((!h._readableState||!h._readableState.ended)&&(v=new T),t.call(h,v)):l&&!u?((!h._writableState||!h._writableState.ended)&&(v=new T),t.call(h,v)):void 0},p=function(){h.req.on("finish",f)};return function P(h){return h.setHeader&&"function"==typeof h.abort}(h)?(h.on("complete",f),h.on("abort",b),h.req?p():h.on("request",p)):l&&!h._writableState&&(h.on("end",i),h.on("close",i)),h.on("end",m),h.on("finish",f),!1!==y.error&&h.on("error",a),h.on("close",b),function(){h.removeListener("complete",f),h.removeListener("abort",b),h.removeListener("request",p),h.req&&h.req.removeListener("finish",f),h.removeListener("end",i),h.removeListener("close",i),h.removeListener("finish",f),h.removeListener("end",m),h.removeListener("error",a),h.removeListener("close",b)}}},31748:function(te){te.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(te,Y,e){"use strict";var T,o=e(74322).q,P=o.ERR_MISSING_ARGS,C=o.ERR_STREAM_DESTROYED;function h(f){if(f)throw f}function r(f){f()}function l(f,c){return f.pipe(c)}te.exports=function u(){for(var f=arguments.length,c=new Array(f),m=0;m<f;m++)c[m]=arguments[m];var a=function i(f){return f.length&&"function"==typeof f[f.length-1]?f.pop():h}(c);if(Array.isArray(c[0])&&(c=c[0]),c.length<2)throw new P("streams");var b,p=c.map(function(s,v){var A=v<c.length-1;return function t(f,c,m,a){a=function D(f){var c=!1;return function(){c||(c=!0,f.apply(void 0,arguments))}}(a);var b=!1;f.on("close",function(){b=!0}),void 0===T&&(T=e(12726)),T(f,{readable:c,writable:m},function(s){if(s)return a(s);b=!0,a()});var p=!1;return function(s){if(!b&&!p){if(p=!0,function y(f){return f.setHeader&&"function"==typeof f.abort}(f))return f.abort();if("function"==typeof f.destroy)return f.destroy();a(s||new C("pipe"))}}}(s,A,v>0,function(E){b||(b=E),E&&p.forEach(r),!A&&(p.forEach(r),a(b))})});return c.reduce(l)}},56306:function(te,Y,e){"use strict";var T=e(74322).q.ERR_INVALID_OPT_VALUE;te.exports={getHighWaterMark:function o(P,C,h,y){var t=function D(P,C,h){return null!=P.highWaterMark?P.highWaterMark:C?P[h]:null}(C,y,h);if(null!=t){if(!isFinite(t)||Math.floor(t)!==t||t<0)throw new T(y?h:"highWaterMark",t);return Math.floor(t)}return P.objectMode?16:16384}}},71405:function(te,Y,e){te.exports=e(15398).EventEmitter},68019:function(te,Y,e){"use strict";var T=e(71665).Buffer,D=T.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function C(p){var s;switch(this.encoding=function P(p){var s=function o(p){if(!p)return"utf8";for(var s;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(s)return;p=(""+p).toLowerCase(),s=!0}}(p);if("string"!=typeof s&&(T.isEncoding===D||!D(p)))throw new Error("Unknown encoding: "+p);return s||p}(p),this.encoding){case"utf16le":this.text=u,this.end=f,s=4;break;case"utf8":this.fillLast=r,s=4;break;case"base64":this.text=c,this.end=m,s=3;break;default:return this.write=a,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=T.allocUnsafe(s)}function h(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function r(p){var s=this.lastTotal-this.lastNeed,v=function t(p,s,v){if(128!=(192&s[0]))return p.lastNeed=0,"\ufffd";if(p.lastNeed>1&&s.length>1){if(128!=(192&s[1]))return p.lastNeed=1,"\ufffd";if(p.lastNeed>2&&s.length>2&&128!=(192&s[2]))return p.lastNeed=2,"\ufffd"}}(this,p);return void 0!==v?v:this.lastNeed<=p.length?(p.copy(this.lastChar,s,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,s,0,p.length),void(this.lastNeed-=p.length))}function u(p,s){if((p.length-s)%2==0){var v=p.toString("utf16le",s);if(v){var A=v.charCodeAt(v.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",s,p.length-1)}function f(p){var s=p&&p.length?this.write(p):"";return this.lastNeed?s+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):s}function c(p,s){var v=(p.length-s)%3;return 0===v?p.toString("base64",s):(this.lastNeed=3-v,this.lastTotal=3,1===v?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",s,p.length-v))}function m(p){var s=p&&p.length?this.write(p):"";return this.lastNeed?s+this.lastChar.toString("base64",0,3-this.lastNeed):s}function a(p){return p.toString(this.encoding)}function b(p){return p&&p.length?this.write(p):""}Y.s=C,C.prototype.write=function(p){if(0===p.length)return"";var s,v;if(this.lastNeed){if(void 0===(s=this.fillLast(p)))return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<p.length?s?s+this.text(p,v):this.text(p,v):s||""},C.prototype.end=function i(p){var s=p&&p.length?this.write(p):"";return this.lastNeed?s+"\ufffd":s},C.prototype.text=function l(p,s){var v=function y(p,s,v){var A=s.length-1;if(A<v)return 0;var x=h(s[A]);return x>=0?(x>0&&(p.lastNeed=x-1),x):--A<v||-2===x?0:(x=h(s[A]))>=0?(x>0&&(p.lastNeed=x-2),x):--A<v||-2===x?0:(x=h(s[A]))>=0?(x>0&&(2===x?x=0:p.lastNeed=x-3),x):0}(this,p,s);if(!this.lastNeed)return p.toString("utf8",s);this.lastTotal=v;var A=p.length-(v-this.lastNeed);return p.copy(this.lastChar,0,A),p.toString("utf8",s,A)},C.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},90715:function(te,Y,e){var T=e(32791),D=e(41633)("stream-parser");te.exports=function y(p){var s=p&&"function"==typeof p._transform;if(!s&&!(p&&"function"==typeof p._write))throw new Error("must pass a Writable or Transform stream in");D("extending Parser into stream"),p._bytes=r,p._skipBytes=l,s&&(p._passthrough=i),s?p._transform=f:p._write=u};var o=-1,P=0,C=1,h=2;function t(p){D("initializing parser stream"),p._parserBytesLeft=0,p._parserBuffers=[],p._parserBuffered=0,p._parserState=o,p._parserCallback=null,"function"==typeof p.push&&(p._parserOutput=p.push.bind(p)),p._parserInit=!0}function r(p,s){T(!this._parserCallback,'there is already a "callback" set!'),T(isFinite(p)&&p>0,'can only buffer a finite number of bytes > 0, got "'+p+'"'),this._parserInit||t(this),D("buffering %o bytes",p),this._parserBytesLeft=p,this._parserCallback=s,this._parserState=P}function l(p,s){T(!this._parserCallback,'there is already a "callback" set!'),T(p>0,'can only skip > 0 bytes, got "'+p+'"'),this._parserInit||t(this),D("skipping %o bytes",p),this._parserBytesLeft=p,this._parserCallback=s,this._parserState=C}function i(p,s){T(!this._parserCallback,'There is already a "callback" set!'),T(p>0,'can only pass through > 0 bytes, got "'+p+'"'),this._parserInit||t(this),D("passing through %o bytes",p),this._parserBytesLeft=p,this._parserCallback=s,this._parserState=h}function u(p,s,v){this._parserInit||t(this),D("write(%o bytes)",p.length),"function"==typeof s&&(v=s),a(this,p,null,v)}function f(p,s,v){this._parserInit||t(this),D("transform(%o bytes)",p.length),"function"!=typeof s&&(s=this._parserOutput),a(this,p,s,v)}function m(p,s,v,A){if(p._parserBytesLeft-=s.length,D("%o bytes left for stream piece",p._parserBytesLeft),p._parserState===P?(p._parserBuffers.push(s),p._parserBuffered+=s.length):p._parserState===h&&v(s),0!==p._parserBytesLeft)return A;var x=p._parserCallback;if(x&&p._parserState===P&&p._parserBuffers.length>1&&(s=Buffer.concat(p._parserBuffers,p._parserBuffered)),p._parserState!==P&&(s=null),p._parserCallback=null,p._parserBuffered=0,p._parserState=o,p._parserBuffers.splice(0),x){var E=[];s&&E.push(s),v&&E.push(v);var g=x.length>E.length;g&&E.push(b(A));var M=x.apply(p,E);if(!g||A===M)return A}}var a=b(function c(p,s,v,A){return p._parserBytesLeft<=0?A(new Error("got data but not currently parsing anything")):s.length<=p._parserBytesLeft?function(){return m(p,s,v,A)}:function(){var x=s.slice(0,p._parserBytesLeft);return m(p,x,v,function(E){return E?A(E):s.length>x.length?function(){return c(p,s.slice(x.length),v,A)}:void 0})}});function b(p){return function(){for(var s=p.apply(this,arguments);"function"==typeof s;)s=s();return s}}},41633:function(te,Y,e){var T=e(90386);function h(){var t;try{t=Y.storage.debug}catch{}return!t&&typeof T<"u"&&"env"in T&&(t=T.env.DEBUG),t}(Y=te.exports=e(74469)).log=function P(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},Y.formatArgs=function o(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+Y.humanize(this.diff),r){var l="color: "+this.color;t.splice(1,0,l,"color: inherit");var i=0,u=0;t[0].replace(/%[a-zA-Z%]/g,function(f){"%%"!==f&&(i++,"%c"===f&&(u=i))}),t.splice(u,0,l)}},Y.save=function C(t){try{null==t?Y.storage.removeItem("debug"):Y.storage.debug=t}catch{}},Y.load=h,Y.useColors=function D(){return!!(typeof window<"u"&&window.process&&"renderer"===window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},Y.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:function y(){try{return window.localStorage}catch{}}(),Y.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],Y.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}},Y.enable(h())},74469:function(te,Y,e){var T;function o(t){function r(){if(r.enabled){var l=r,i=+new Date;l.diff=i-(T||i),l.prev=T,l.curr=i,T=i;for(var f=new Array(arguments.length),c=0;c<f.length;c++)f[c]=arguments[c];f[0]=Y.coerce(f[0]),"string"!=typeof f[0]&&f.unshift("%O");var m=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(b,p){if("%%"===b)return b;m++;var s=Y.formatters[p];return"function"==typeof s&&(b=s.call(l,f[m]),f.splice(m,1),m--),b}),Y.formatArgs.call(l,f),(r.log||Y.log||console.log.bind(console)).apply(l,f)}}return r.namespace=t,r.enabled=Y.enabled(t),r.useColors=Y.useColors(),r.color=function D(t){var l,r=0;for(l in t)r=(r<<5)-r+t.charCodeAt(l),r|=0;return Y.colors[Math.abs(r)%Y.colors.length]}(t),"function"==typeof Y.init&&Y.init(r),r}(Y=te.exports=o.debug=o.default=o).coerce=function y(t){return t instanceof Error?t.stack||t.message:t},Y.disable=function C(){Y.enable("")},Y.enable=function P(t){Y.save(t),Y.names=[],Y.skips=[];for(var r=("string"==typeof t?t:"").split(/[\s,]+/),l=r.length,i=0;i<l;i++)r[i]&&("-"===(t=r[i].replace(/\*/g,".*?"))[0]?Y.skips.push(new RegExp("^"+t.substr(1)+"$")):Y.names.push(new RegExp("^"+t+"$")))},Y.enabled=function h(t){var r,l;for(r=0,l=Y.skips.length;r<l;r++)if(Y.skips[r].test(t))return!1;for(r=0,l=Y.names.length;r<l;r++)if(Y.names[r].test(t))return!0;return!1},Y.humanize=e(11375),Y.names=[],Y.skips=[],Y.formatters={}},11375:function(te){var Y=1e3,e=60*Y,T=60*e,D=24*T;function y(t,r,l){if(!(t<r))return t<1.5*r?Math.floor(t/r)+" "+l:Math.ceil(t/r)+" "+l+"s"}te.exports=function(t,r){r=r||{};var l=typeof t;if("string"===l&&t.length>0)return function P(t){if(!((t=String(t)).length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(r){var l=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*l;case"days":case"day":case"d":return l*D;case"hours":case"hour":case"hrs":case"hr":case"h":return l*T;case"minutes":case"minute":case"mins":case"min":case"m":return l*e;case"seconds":case"second":case"secs":case"sec":case"s":return l*Y;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}(t);if("number"===l&&!1===isNaN(t))return r.long?function h(t){return y(t,D,"day")||y(t,T,"hour")||y(t,e,"minute")||y(t,Y,"second")||t+" ms"}(t):function C(t){return t>=D?Math.round(t/D)+"d":t>=T?Math.round(t/T)+"h":t>=e?Math.round(t/e)+"m":t>=Y?Math.round(t/Y)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},99011:function(te,Y,e){"use strict";var T=e(88641);te.exports=function(o,P,C){if(null==o)throw Error("First argument should be a string");if(null==P)throw Error("Separator should be a string or a RegExp");C?("string"==typeof C||Array.isArray(C))&&(C={ignore:C}):C={},null==C.escape&&(C.escape=!0),null==C.ignore?C.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof C.ignore&&(C.ignore=[C.ignore]),C.ignore=C.ignore.map(function(f){return 1===f.length&&(f+=f),f}));var h=T.parse(o,{flat:!0,brackets:C.ignore}),t=h[0].split(P);if(C.escape){for(var r=[],l=0;l<t.length;l++){var i=t[l];"\\"===i[i.length-1]&&"\\"!==i[i.length-2]?(r.push(i+P+t[l+1]),l++):r.push(i)}t=r}for(l=0;l<t.length;l++)h[0]=t[l],t[l]=T.stringify(h,{flat:!0});return t}},68664:function(te){"use strict";te.exports=function Y(e){for(var T=e.length,D=new Array(T),o=new Array(T),P=new Array(T),C=new Array(T),h=new Array(T),y=new Array(T),t=0;t<T;++t)D[t]=-1,o[t]=0,P[t]=!1,C[t]=0,h[t]=-1,y[t]=[];var f,r=0,l=[],i=[];function u(a){var b=[a],p=[a];for(D[a]=o[a]=r,P[a]=!0,r+=1;p.length>0;){var s=e[a=p[p.length-1]];if(C[a]<s.length){for(var v=C[a];v<s.length;++v){var A=s[v];if(D[A]<0){D[A]=o[A]=r,P[A]=!0,r+=1,b.push(A),p.push(A);break}P[A]&&(o[a]=0|Math.min(o[a],o[A])),h[A]>=0&&y[a].push(h[A])}C[a]=v}else{if(o[a]===D[a]){var x=[],E=[],g=0;for(v=b.length-1;v>=0;--v){var M=b[v];if(P[M]=!1,x.push(M),E.push(y[M]),g+=y[M].length,h[M]=l.length,M===a){b.length=v;break}}l.push(x);var w=new Array(g);for(v=0;v<E.length;v++)for(var n=0;n<E[v].length;n++)w[--g]=E[v][n];i.push(w)}p.pop()}}}for(t=0;t<T;++t)D[t]<0&&u(t);for(t=0;t<i.length;t++){var c=i[t];if(0!==c.length){c.sort(function(b,p){return b-p}),f=[c[0]];for(var m=1;m<c.length;m++)c[m]!==c[m-1]&&f.push(c[m]);i[t]=f}}return{components:l,adjacencyList:i}}},7095:function(te,Y,e){"use strict";e.r(Y);var D=2*Math.PI,o=function(r,l,i,u,f,c,m){var a=r.x,b=r.y;return{x:u*(a*=l)-f*(b*=i)+c,y:f*a+u*b+m}},P=function(r,l){var i=1.5707963267948966===l?.551915024494:-1.5707963267948966===l?-.551915024494:1.3333333333333333*Math.tan(l/4),u=Math.cos(r),f=Math.sin(r),c=Math.cos(r+l),m=Math.sin(r+l);return[{x:u-f*i,y:f+u*i},{x:c+m*i,y:m-c*i},{x:c,y:m}]},C=function(r,l,i,u){var c=r*i+l*u;return c>1&&(c=1),c<-1&&(c=-1),(r*u-l*i<0?-1:1)*Math.acos(c)};Y.default=function(r){var l=r.px,i=r.py,u=r.cx,f=r.cy,c=r.rx,m=r.ry,a=r.xAxisRotation,b=void 0===a?0:a,p=r.largeArcFlag,s=void 0===p?0:p,v=r.sweepFlag,A=void 0===v?0:v,x=[];if(0===c||0===m)return[];var E=Math.sin(b*D/360),g=Math.cos(b*D/360),M=g*(l-u)/2+E*(i-f)/2,w=-E*(l-u)/2+g*(i-f)/2;if(0===M&&0===w)return[];c=Math.abs(c),m=Math.abs(m);var n=Math.pow(M,2)/Math.pow(c,2)+Math.pow(w,2)/Math.pow(m,2);n>1&&(c*=Math.sqrt(n),m*=Math.sqrt(n));var S=function(r,l,i,u,f,c,m,a,b,p,s,v){var A=Math.pow(f,2),x=Math.pow(c,2),E=Math.pow(s,2),g=Math.pow(v,2),M=A*x-A*g-x*E;M<0&&(M=0),M/=A*g+x*E;var w=(M=Math.sqrt(M)*(m===a?-1:1))*f/c*v,n=M*-c/f*s,S=p*w-b*n+(r+i)/2,d=b*w+p*n+(l+u)/2,I=(s-w)/f,L=(v-n)/c,B=(-s-w)/f,k=(-v-n)/c,z=C(1,0,I,L),O=C(I,L,B,k);return 0===a&&O>0&&(O-=D),1===a&&O<0&&(O+=D),[S,d,z,O]}(l,i,u,f,c,m,s,A,E,g,M,w),d=function(r,l){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function t(r,l){var i=[],u=!0,f=!1,c=void 0;try{for(var a,m=r[Symbol.iterator]();!(u=(a=m.next()).done)&&(i.push(a.value),!l||i.length!==l);u=!0);}catch(b){f=!0,c=b}finally{try{!u&&m.return&&m.return()}finally{if(f)throw c}}return i}(r,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(S,4),I=d[0],L=d[1],B=d[2],k=d[3],z=Math.abs(k)/(D/4);Math.abs(1-z)<1e-7&&(z=1);var O=Math.max(Math.ceil(z),1);k/=O;for(var F=0;F<O;F++)x.push(P(B,k)),B+=k;return x.map(function(N){var H=o(N[0],c,m,g,E,I,L),X=H.x,ne=H.y,ie=o(N[1],c,m,g,E,I,L),ue=ie.x,J=ie.y,j=o(N[2],c,m,g,E,I,L);return{x1:X,y1:ne,x2:ue,y2:J,x:j.x,y:j.y}})}},1750:function(te,Y,e){"use strict";var T=e(95616),D=e(65185),o=e(29988),P=e(89546),C=e(32791);te.exports=function h(y){if(Array.isArray(y)&&1===y.length&&"string"==typeof y[0]&&(y=y[0]),"string"==typeof y&&(C(P(y),"String is not an SVG path."),y=T(y)),C(Array.isArray(y),"Argument should be a string or an array of path segments."),y=D(y),!(y=o(y)).length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],r=0,l=y.length;r<l;r++)for(var i=y[r].slice(1),u=0;u<i.length;u+=2)i[u+0]<t[0]&&(t[0]=i[u+0]),i[u+1]<t[1]&&(t[1]=i[u+1]),i[u+0]>t[2]&&(t[2]=i[u+0]),i[u+1]>t[3]&&(t[3]=i[u+1]);return t}},29988:function(te,Y,e){"use strict";te.exports=function D(C){for(var h,y=[],t=0,r=0,l=0,i=0,u=null,f=null,c=0,m=0,a=0,b=C.length;a<b;a++){var p=C[a],s=p[0];switch(s){case"M":l=p[1],i=p[2];break;case"A":var v=T({px:c,py:m,cx:p[6],cy:p[7],rx:p[1],ry:p[2],xAxisRotation:p[3],largeArcFlag:p[4],sweepFlag:p[5]});if(!v.length)continue;for(var x,A=0;A<v.length;A++)p=["C",(x=v[A]).x1,x.y1,x.x2,x.y2,x.x,x.y],A<v.length-1&&y.push(p);break;case"S":var E=c,g=m;("C"==h||"S"==h)&&(E+=E-t,g+=g-r),p=["C",E,g,p[1],p[2],p[3],p[4]];break;case"T":"Q"==h||"T"==h?(u=2*c-u,f=2*m-f):(u=c,f=m),p=P(c,m,u,f,p[1],p[2]);break;case"Q":u=p[1],f=p[2],p=P(c,m,p[1],p[2],p[3],p[4]);break;case"L":p=o(c,m,p[1],p[2]);break;case"H":p=o(c,m,p[1],m);break;case"V":p=o(c,m,c,p[1]);break;case"Z":p=o(c,m,l,i)}h=s,c=p[p.length-2],m=p[p.length-1],p.length>4?(t=p[p.length-4],r=p[p.length-3]):(t=c,r=m),y.push(p)}return y};var T=e(7095);function o(C,h,y,t){return["C",C,h,y,t,y,t]}function P(C,h,y,t,r,l){return["C",C/3+.6666666666666666*y,h/3+.6666666666666666*t,r/3+.6666666666666666*y,l/3+.6666666666666666*t,r,l]}},82019:function(te,Y,e){"use strict";var r,T=e(1750),D=e(95616),o=e(31457),P=e(89546),C=e(44781),h=document.createElement("canvas"),y=h.getContext("2d");te.exports=function t(i,u){if(!P(i))throw Error("Argument should be valid svg path string");var f,c;u||(u={}),u.shape?(f=u.shape[0],c=u.shape[1]):(f=h.width=u.w||u.width||200,c=h.height=u.h||u.height||200);var m=Math.min(f,c),a=u.stroke||0,b=u.viewbox||u.viewBox||T(i),p=[f/(b[2]-b[0]),c/(b[3]-b[1])],s=Math.min(p[0]||0,p[1]||0)/2;if(y.fillStyle="black",y.fillRect(0,0,f,c),y.fillStyle="white",a&&("number"!=typeof a&&(a=1),y.strokeStyle=a>0?"white":"black",y.lineWidth=Math.abs(a)),y.translate(.5*f,.5*c),y.scale(s,s),function l(){if(null!=r)return r;var i=document.createElement("canvas").getContext("2d");if(i.canvas.width=i.canvas.height=1,!window.Path2D)return r=!1;var u=new Path2D("M0,0h1v1h-1v-1Z");i.fillStyle="black",i.fill(u);var f=i.getImageData(0,0,1,1);return r=f&&f.data&&255===f.data[3]}()){var v=new Path2D(i);y.fill(v),a&&y.stroke(v)}else{var A=D(i);o(y,A),y.fill(),a&&y.stroke()}return y.setTransform(1,0,0,1,0,0),C(y,{cutoff:null!=u.cutoff?u.cutoff:.5,radius:null!=u.radius?u.radius:.5*m})}},84267:function(te,Y,e){var T;!function(D){var o=/^\s+/,P=/\s+$/,C=0,h=D.round,y=D.min,t=D.max,r=D.random;function l(Z,re){if(re=re||{},(Z=Z||"")instanceof l)return Z;if(!(this instanceof l))return new l(Z,re);var q=function i(Z){var re={r:0,g:0,b:0},q=1,se=null,de=null,we=null,ye=!1,Pe=!1;return"string"==typeof Z&&(Z=function ae(Z){Z=Z.replace(o,"").replace(P,"").toLowerCase();var q,re=!1;if(k[Z])Z=k[Z],re=!0;else if("transparent"==Z)return{r:0,g:0,b:0,a:0,format:"name"};return(q=V.rgb.exec(Z))?{r:q[1],g:q[2],b:q[3]}:(q=V.rgba.exec(Z))?{r:q[1],g:q[2],b:q[3],a:q[4]}:(q=V.hsl.exec(Z))?{h:q[1],s:q[2],l:q[3]}:(q=V.hsla.exec(Z))?{h:q[1],s:q[2],l:q[3],a:q[4]}:(q=V.hsv.exec(Z))?{h:q[1],s:q[2],v:q[3]}:(q=V.hsva.exec(Z))?{h:q[1],s:q[2],v:q[3],a:q[4]}:(q=V.hex8.exec(Z))?{r:X(q[1]),g:X(q[2]),b:X(q[3]),a:W(q[4]),format:re?"name":"hex8"}:(q=V.hex6.exec(Z))?{r:X(q[1]),g:X(q[2]),b:X(q[3]),format:re?"name":"hex"}:(q=V.hex4.exec(Z))?{r:X(q[1]+""+q[1]),g:X(q[2]+""+q[2]),b:X(q[3]+""+q[3]),a:W(q[4]+""+q[4]),format:re?"name":"hex8"}:!!(q=V.hex3.exec(Z))&&{r:X(q[1]+""+q[1]),g:X(q[2]+""+q[2]),b:X(q[3]+""+q[3]),format:re?"name":"hex"}}(Z)),"object"==typeof Z&&(K(Z.r)&&K(Z.g)&&K(Z.b)?(re=function u(Z,re,q){return{r:255*N(Z,255),g:255*N(re,255),b:255*N(q,255)}}(Z.r,Z.g,Z.b),ye=!0,Pe="%"===String(Z.r).substr(-1)?"prgb":"rgb"):K(Z.h)&&K(Z.s)&&K(Z.v)?(se=J(Z.s),de=J(Z.v),re=function a(Z,re,q){Z=6*N(Z,360),re=N(re,100),q=N(q,100);var se=D.floor(Z),de=Z-se,we=q*(1-re),ye=q*(1-de*re),Pe=q*(1-(1-de)*re),Ie=se%6;return{r:255*[q,ye,we,we,Pe,q][Ie],g:255*[Pe,q,q,ye,we,we][Ie],b:255*[we,we,Pe,q,q,ye][Ie]}}(Z.h,se,de),ye=!0,Pe="hsv"):K(Z.h)&&K(Z.s)&&K(Z.l)&&(se=J(Z.s),we=J(Z.l),re=function c(Z,re,q){var se,de,we;function ye(Se,xe,Me){return Me<0&&(Me+=1),Me>1&&(Me-=1),Me<.16666666666666666?Se+6*(xe-Se)*Me:Me<.5?xe:Me<.6666666666666666?Se+(xe-Se)*(.6666666666666666-Me)*6:Se}if(Z=N(Z,360),re=N(re,100),q=N(q,100),0===re)se=de=we=q;else{var Pe=q<.5?q*(1+re):q+re-q*re,Ie=2*q-Pe;se=ye(Ie,Pe,Z+.3333333333333333),de=ye(Ie,Pe,Z),we=ye(Ie,Pe,Z-.3333333333333333)}return{r:255*se,g:255*de,b:255*we}}(Z.h,se,we),ye=!0,Pe="hsl"),Z.hasOwnProperty("a")&&(q=Z.a)),q=F(q),{ok:ye,format:Z.format||Pe,r:y(255,t(re.r,0)),g:y(255,t(re.g,0)),b:y(255,t(re.b,0)),a:q}}(Z);this._originalInput=Z,this._r=q.r,this._g=q.g,this._b=q.b,this._a=q.a,this._roundA=h(100*this._a)/100,this._format=re.format||q.format,this._gradientType=re.gradientType,this._r<1&&(this._r=h(this._r)),this._g<1&&(this._g=h(this._g)),this._b<1&&(this._b=h(this._b)),this._ok=q.ok,this._tc_id=C++}function f(Z,re,q){Z=N(Z,255),re=N(re,255),q=N(q,255);var we,ye,se=t(Z,re,q),de=y(Z,re,q),Pe=(se+de)/2;if(se==de)we=ye=0;else{var Ie=se-de;switch(ye=Pe>.5?Ie/(2-se-de):Ie/(se+de),se){case Z:we=(re-q)/Ie+(re<q?6:0);break;case re:we=(q-Z)/Ie+2;break;case q:we=(Z-re)/Ie+4}we/=6}return{h:we,s:ye,l:Pe}}function m(Z,re,q){Z=N(Z,255),re=N(re,255),q=N(q,255);var we,ye,se=t(Z,re,q),de=y(Z,re,q),Pe=se,Ie=se-de;if(ye=0===se?0:Ie/se,se==de)we=0;else{switch(se){case Z:we=(re-q)/Ie+(re<q?6:0);break;case re:we=(q-Z)/Ie+2;break;case q:we=(Z-re)/Ie+4}we/=6}return{h:we,s:ye,v:Pe}}function b(Z,re,q,se){var de=[ue(h(Z).toString(16)),ue(h(re).toString(16)),ue(h(q).toString(16))];return se&&de[0].charAt(0)==de[0].charAt(1)&&de[1].charAt(0)==de[1].charAt(1)&&de[2].charAt(0)==de[2].charAt(1)?de[0].charAt(0)+de[1].charAt(0)+de[2].charAt(0):de.join("")}function s(Z,re,q,se){return[ue(j(se)),ue(h(Z).toString(16)),ue(h(re).toString(16)),ue(h(q).toString(16))].join("")}function v(Z,re){re=0===re?0:re||10;var q=l(Z).toHsl();return q.s-=re/100,q.s=H(q.s),l(q)}function A(Z,re){re=0===re?0:re||10;var q=l(Z).toHsl();return q.s+=re/100,q.s=H(q.s),l(q)}function x(Z){return l(Z).desaturate(100)}function E(Z,re){re=0===re?0:re||10;var q=l(Z).toHsl();return q.l+=re/100,q.l=H(q.l),l(q)}function g(Z,re){re=0===re?0:re||10;var q=l(Z).toRgb();return q.r=t(0,y(255,q.r-h(-re/100*255))),q.g=t(0,y(255,q.g-h(-re/100*255))),q.b=t(0,y(255,q.b-h(-re/100*255))),l(q)}function M(Z,re){re=0===re?0:re||10;var q=l(Z).toHsl();return q.l-=re/100,q.l=H(q.l),l(q)}function w(Z,re){var q=l(Z).toHsl(),se=(q.h+re)%360;return q.h=se<0?360+se:se,l(q)}function n(Z){var re=l(Z).toHsl();return re.h=(re.h+180)%360,l(re)}function S(Z){var re=l(Z).toHsl(),q=re.h;return[l(Z),l({h:(q+120)%360,s:re.s,l:re.l}),l({h:(q+240)%360,s:re.s,l:re.l})]}function d(Z){var re=l(Z).toHsl(),q=re.h;return[l(Z),l({h:(q+90)%360,s:re.s,l:re.l}),l({h:(q+180)%360,s:re.s,l:re.l}),l({h:(q+270)%360,s:re.s,l:re.l})]}function I(Z){var re=l(Z).toHsl(),q=re.h;return[l(Z),l({h:(q+72)%360,s:re.s,l:re.l}),l({h:(q+216)%360,s:re.s,l:re.l})]}function L(Z,re,q){re=re||6,q=q||30;var se=l(Z).toHsl(),de=360/q,we=[l(Z)];for(se.h=(se.h-(de*re>>1)+720)%360;--re;)se.h=(se.h+de)%360,we.push(l(se));return we}function B(Z,re){re=re||6;for(var q=l(Z).toHsv(),se=q.h,de=q.s,we=q.v,ye=[],Pe=1/re;re--;)ye.push(l({h:se,s:de,v:we})),we=(we+Pe)%1;return ye}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Z=this.toRgb();return(299*Z.r+587*Z.g+114*Z.b)/1e3},getLuminance:function(){var re,q,se,Z=this.toRgb();return q=Z.g/255,se=Z.b/255,.2126*((re=Z.r/255)<=.03928?re/12.92:D.pow((re+.055)/1.055,2.4))+.7152*(q<=.03928?q/12.92:D.pow((q+.055)/1.055,2.4))+.0722*(se<=.03928?se/12.92:D.pow((se+.055)/1.055,2.4))},setAlpha:function(Z){return this._a=F(Z),this._roundA=h(100*this._a)/100,this},toHsv:function(){var Z=m(this._r,this._g,this._b);return{h:360*Z.h,s:Z.s,v:Z.v,a:this._a}},toHsvString:function(){var Z=m(this._r,this._g,this._b),re=h(360*Z.h),q=h(100*Z.s),se=h(100*Z.v);return 1==this._a?"hsv("+re+", "+q+"%, "+se+"%)":"hsva("+re+", "+q+"%, "+se+"%, "+this._roundA+")"},toHsl:function(){var Z=f(this._r,this._g,this._b);return{h:360*Z.h,s:Z.s,l:Z.l,a:this._a}},toHslString:function(){var Z=f(this._r,this._g,this._b),re=h(360*Z.h),q=h(100*Z.s),se=h(100*Z.l);return 1==this._a?"hsl("+re+", "+q+"%, "+se+"%)":"hsla("+re+", "+q+"%, "+se+"%, "+this._roundA+")"},toHex:function(Z){return b(this._r,this._g,this._b,Z)},toHexString:function(Z){return"#"+this.toHex(Z)},toHex8:function(Z){return function p(Z,re,q,se,de){var we=[ue(h(Z).toString(16)),ue(h(re).toString(16)),ue(h(q).toString(16)),ue(j(se))];return de&&we[0].charAt(0)==we[0].charAt(1)&&we[1].charAt(0)==we[1].charAt(1)&&we[2].charAt(0)==we[2].charAt(1)&&we[3].charAt(0)==we[3].charAt(1)?we[0].charAt(0)+we[1].charAt(0)+we[2].charAt(0)+we[3].charAt(0):we.join("")}(this._r,this._g,this._b,this._a,Z)},toHex8String:function(Z){return"#"+this.toHex8(Z)},toRgb:function(){return{r:h(this._r),g:h(this._g),b:h(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+h(this._r)+", "+h(this._g)+", "+h(this._b)+")":"rgba("+h(this._r)+", "+h(this._g)+", "+h(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:h(100*N(this._r,255))+"%",g:h(100*N(this._g,255))+"%",b:h(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+h(100*N(this._r,255))+"%, "+h(100*N(this._g,255))+"%, "+h(100*N(this._b,255))+"%)":"rgba("+h(100*N(this._r,255))+"%, "+h(100*N(this._g,255))+"%, "+h(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(z[b(this._r,this._g,this._b,!0)]||!1)},toFilter:function(Z){var re="#"+s(this._r,this._g,this._b,this._a),q=re,se=this._gradientType?"GradientType = 1, ":"";if(Z){var de=l(Z);q="#"+s(de._r,de._g,de._b,de._a)}return"progid:DXImageTransform.Microsoft.gradient("+se+"startColorstr="+re+",endColorstr="+q+")"},toString:function(Z){var re=!!Z;Z=Z||this._format;var q=!1;return!re&&this._a<1&&this._a>=0&&("hex"===Z||"hex6"===Z||"hex3"===Z||"hex4"===Z||"hex8"===Z||"name"===Z)?"name"===Z&&0===this._a?this.toName():this.toRgbString():("rgb"===Z&&(q=this.toRgbString()),"prgb"===Z&&(q=this.toPercentageRgbString()),("hex"===Z||"hex6"===Z)&&(q=this.toHexString()),"hex3"===Z&&(q=this.toHexString(!0)),"hex4"===Z&&(q=this.toHex8String(!0)),"hex8"===Z&&(q=this.toHex8String()),"name"===Z&&(q=this.toName()),"hsl"===Z&&(q=this.toHslString()),"hsv"===Z&&(q=this.toHsvString()),q||this.toHexString())},clone:function(){return l(this.toString())},_applyModification:function(Z,re){var q=Z.apply(null,[this].concat([].slice.call(re)));return this._r=q._r,this._g=q._g,this._b=q._b,this.setAlpha(q._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(A,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(Z,re){return Z.apply(null,[this].concat([].slice.call(re)))},analogous:function(){return this._applyCombination(L,arguments)},complement:function(){return this._applyCombination(n,arguments)},monochromatic:function(){return this._applyCombination(B,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(d,arguments)}},l.fromRatio=function(Z,re){if("object"==typeof Z){var q={};for(var se in Z)Z.hasOwnProperty(se)&&(q[se]="a"===se?Z[se]:J(Z[se]));Z=q}return l(Z,re)},l.equals=function(Z,re){return!(!Z||!re)&&l(Z).toRgbString()==l(re).toRgbString()},l.random=function(){return l.fromRatio({r:r(),g:r(),b:r()})},l.mix=function(Z,re,q){q=0===q?0:q||50;var se=l(Z).toRgb(),de=l(re).toRgb(),we=q/100;return l({r:(de.r-se.r)*we+se.r,g:(de.g-se.g)*we+se.g,b:(de.b-se.b)*we+se.b,a:(de.a-se.a)*we+se.a})},l.readability=function(Z,re){var q=l(Z),se=l(re);return(D.max(q.getLuminance(),se.getLuminance())+.05)/(D.min(q.getLuminance(),se.getLuminance())+.05)},l.isReadable=function(Z,re,q){var de,we,se=l.readability(Z,re);switch(we=!1,de=function Q(Z){var re,q;return"AA"!==(re=((Z=Z||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==re&&(re="AA"),"small"!==(q=(Z.size||"small").toLowerCase())&&"large"!==q&&(q="small"),{level:re,size:q}}(q),de.level+de.size){case"AAsmall":case"AAAlarge":we=se>=4.5;break;case"AAlarge":we=se>=3;break;case"AAAsmall":we=se>=7}return we},l.mostReadable=function(Z,re,q){var we,ye,Pe,Ie,se=null,de=0;ye=(q=q||{}).includeFallbackColors,Pe=q.level,Ie=q.size;for(var Se=0;Se<re.length;Se++)(we=l.readability(Z,re[Se]))>de&&(de=we,se=l(re[Se]));return l.isReadable(Z,se,{level:Pe,size:Ie})||!ye?se:(q.includeFallbackColors=!1,l.mostReadable(Z,["#fff","#000"],q))};var k=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=l.hexNames=function O(Z){var re={};for(var q in Z)Z.hasOwnProperty(q)&&(re[Z[q]]=q);return re}(k);function F(Z){return Z=parseFloat(Z),(isNaN(Z)||Z<0||Z>1)&&(Z=1),Z}function N(Z,re){(function ne(Z){return"string"==typeof Z&&-1!=Z.indexOf(".")&&1===parseFloat(Z)})(Z)&&(Z="100%");var q=function ie(Z){return"string"==typeof Z&&-1!=Z.indexOf("%")}(Z);return Z=y(re,t(0,parseFloat(Z))),q&&(Z=parseInt(Z*re,10)/100),D.abs(Z-re)<1e-6?1:Z%re/parseFloat(re)}function H(Z){return y(1,t(0,Z))}function X(Z){return parseInt(Z,16)}function ue(Z){return 1==Z.length?"0"+Z:""+Z}function J(Z){return Z<=1&&(Z=100*Z+"%"),Z}function j(Z){return D.round(255*parseFloat(Z)).toString(16)}function W(Z){return X(Z)/255}var q,se,de,V=(se="[\\s|\\(]+("+(q="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",de="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",{CSS_UNIT:new RegExp(q),rgb:new RegExp("rgb"+se),rgba:new RegExp("rgba"+de),hsl:new RegExp("hsl"+se),hsla:new RegExp("hsla"+de),hsv:new RegExp("hsv"+se),hsva:new RegExp("hsva"+de),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function K(Z){return!!V.CSS_UNIT.exec(Z)}te.exports?te.exports=l:void 0!==(T=function(){return l}.call(Y,e,Y,te))&&(te.exports=T)}(Math)},57060:function(te){"use strict";te.exports=T,te.exports.float32=te.exports.float=T,te.exports.fract32=te.exports.fract=function e(D,o){if(D.length){if(D instanceof Float32Array)return new Float32Array(D.length);o instanceof Float32Array||(o=T(D));for(var P=0,C=o.length;P<C;P++)o[P]=D[P]-o[P];return o}return T(D-T(D))};var Y=new Float32Array(1);function T(D){return D.length?D instanceof Float32Array?D:new Float32Array(D):(Y[0]=D,Y[0])}},75686:function(te,Y,e){"use strict";var T=e(25677);te.exports=C;var D=96;function o(h,y){var t=T(getComputedStyle(h).getPropertyValue(y));return t[0]*C(t[1],h)}function C(h,y){switch(y=y||document.body,h=(h||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),h){case"%":return y.clientHeight/100;case"ch":case"ex":return function P(h,y){var t=document.createElement("div");t.style["font-size"]="128"+h,y.appendChild(t);var r=o(t,"font-size")/128;return y.removeChild(t),r}(h,y);case"em":return o(y,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return D;case"cm":return D/2.54;case"mm":return D/25.4;case"pt":return D/72;case"pc":return D/6}return 1}},96892:function(te,Y,e){"use strict";function D(y){return y}function P(y,t){return"string"==typeof t&&(t=y.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(r){return C(y,r)})}:C(y,t)}function C(y,t){var r=t.id,l=t.bbox,i=null==t.properties?{}:t.properties,u=function h(y,t){var r=function o(y){if(null==y)return D;var t,r,l=y.scale[0],i=y.scale[1],u=y.translate[0],f=y.translate[1];return function(c,m){m||(t=r=0);var a=2,b=c.length,p=new Array(b);for(p[0]=(t+=c[0])*l+u,p[1]=(r+=c[1])*i+f;a<b;)p[a]=c[a],++a;return p}}(y.transform),l=y.arcs;function i(b,p){p.length&&p.pop();for(var s=l[b<0?~b:b],v=0,A=s.length;v<A;++v)p.push(r(s[v],v));b<0&&function T(y,t){for(var r,l=y.length,i=l-t;i<--l;)r=y[i],y[i++]=y[l],y[l]=r}(p,A)}function u(b){return r(b)}function f(b){for(var p=[],s=0,v=b.length;s<v;++s)i(b[s],p);return p.length<2&&p.push(p[0]),p}function c(b){for(var p=f(b);p.length<4;)p.push(p[0]);return p}function m(b){return b.map(c)}return function a(b){var s,p=b.type;switch(p){case"GeometryCollection":return{type:p,geometries:b.geometries.map(a)};case"Point":s=u(b.coordinates);break;case"MultiPoint":s=b.coordinates.map(u);break;case"LineString":s=f(b.arcs);break;case"MultiLineString":s=b.arcs.map(f);break;case"Polygon":s=m(b.arcs);break;case"MultiPolygon":s=b.arcs.map(m);break;default:return null}return{type:p,coordinates:s}}(t)}(y,t);return null==r&&null==l?{type:"Feature",properties:i,geometry:u}:null==l?{type:"Feature",id:r,properties:i,geometry:u}:{type:"Feature",id:r,bbox:l,properties:i,geometry:u}}e.d(Y,{zL:function(){return P}})},73116:function(te,Y,e){"use strict";var T=e(24511);te.exports=function(D){if("function"!=typeof D||!hasOwnProperty.call(D,"length"))return!1;try{if("number"!=typeof D.length||"function"!=typeof D.call||"function"!=typeof D.apply)return!1}catch{return!1}return!T(D)}},69190:function(te,Y,e){"use strict";var T=e(24582),D=e(47403),o=e(9234),P=e(6048),C=function(h,y){return h.replace("%v",P(y))};te.exports=function(h,y,t){if(!D(t))throw new TypeError(C(y,h));if(!T(h)){if("default"in t)return t.default;if(t.isOptional)return null}var r=o(t.errorMessage);throw T(r)||(r=y),new TypeError(C(r,h))}},18497:function(te){"use strict";te.exports=function(Y){try{return Y.toString()}catch{try{return String(Y)}catch{return null}}}},6048:function(te,Y,e){"use strict";var T=e(18497),D=/[\n\r\u2028\u2029]/g;te.exports=function(o){var P=T(o);return null===P?"<Non-coercible to string value>":(P.length>100&&(P=P.slice(0,99)+"\u2026"),P=P.replace(D,function(C){switch(C){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(te,Y,e){"use strict";var T=e(24582),D={object:!0,function:!0,undefined:!0};te.exports=function(o){return!!T(o)&&hasOwnProperty.call(D,typeof o)}},82527:function(te,Y,e){"use strict";var T=e(69190),D=e(84985);te.exports=function(o){return D(o)?o:T(o,"%v is not a plain function",arguments[1])}},84985:function(te,Y,e){"use strict";var T=e(73116),D=/^\s*class[\s{/}]/,o=Function.prototype.toString;te.exports=function(P){return!(!T(P)||D.test(o.call(P)))}},24511:function(te,Y,e){"use strict";var T=e(47403);te.exports=function(D){if(!T(D))return!1;try{return!!D.constructor&&D.constructor.prototype===D}catch{return!1}}},9234:function(te,Y,e){"use strict";var T=e(24582),D=e(47403),o=Object.prototype.toString;te.exports=function(P){if(!T(P))return null;if(D(P)){var C=P.toString;if("function"!=typeof C||C===o)return null}try{return""+P}catch{return null}}},10424:function(te,Y,e){"use strict";var T=e(69190),D=e(24582);te.exports=function(o){return D(o)?o:T(o,"Cannot use %v",arguments[1])}},24582:function(te){"use strict";te.exports=function(e){return null!=e}},58404:function(te,Y,e){"use strict";var T=e(13547),D=e(12129),o=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:D([32,0]),UINT16:D([32,0]),UINT32:D([32,0]),BIGUINT64:D([32,0]),INT8:D([32,0]),INT16:D([32,0]),INT32:D([32,0]),BIGINT64:D([32,0]),FLOAT:D([32,0]),DOUBLE:D([32,0]),DATA:D([32,0]),UINT8C:D([32,0]),BUFFER:D([32,0])});var P=typeof Uint8ClampedArray<"u",C=typeof BigUint64Array<"u",h=typeof BigInt64Array<"u",y=e.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=D([32,0])),y.BIGUINT64||(y.BIGUINT64=D([32,0])),y.BIGINT64||(y.BIGINT64=D([32,0])),y.BUFFER||(y.BUFFER=D([32,0]));var t=y.DATA,r=y.BUFFER;function l(w){if(w){var S=T.log2(w.length||w.byteLength);t[S].push(w)}}function u(n){n=T.nextPow2(n);var S=T.log2(n),d=t[S];return d.length>0?d.pop():new ArrayBuffer(n)}function f(w){return new Uint8Array(u(w),0,w)}function c(w){return new Uint16Array(u(2*w),0,w)}function m(w){return new Uint32Array(u(4*w),0,w)}function a(w){return new Int8Array(u(w),0,w)}function b(w){return new Int16Array(u(2*w),0,w)}function p(w){return new Int32Array(u(4*w),0,w)}function s(w){return new Float32Array(u(4*w),0,w)}function v(w){return new Float64Array(u(8*w),0,w)}function A(w){return P?new Uint8ClampedArray(u(w),0,w):f(w)}function x(w){return C?new BigUint64Array(u(8*w),0,w):null}function E(w){return h?new BigInt64Array(u(8*w),0,w):null}function g(w){return new DataView(u(w),0,w)}function M(w){w=T.nextPow2(w);var n=T.log2(w),S=r[n];return S.length>0?S.pop():new o(w)}Y.free=function(n){if(o.isBuffer(n))r[T.log2(n.length)].push(n);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(n)&&(n=n.buffer),!n)return;var d=0|T.log2(n.length||n.byteLength);t[d].push(n)}},Y.freeUint8=Y.freeUint16=Y.freeUint32=Y.freeBigUint64=Y.freeInt8=Y.freeInt16=Y.freeInt32=Y.freeBigInt64=Y.freeFloat32=Y.freeFloat=Y.freeFloat64=Y.freeDouble=Y.freeUint8Clamped=Y.freeDataView=function i(w){l(w.buffer)},Y.freeArrayBuffer=l,Y.freeBuffer=function(n){r[T.log2(n.length)].push(n)},Y.malloc=function(n,S){if(void 0===S||"arraybuffer"===S)return u(n);switch(S){case"uint8":return f(n);case"uint16":return c(n);case"uint32":return m(n);case"int8":return a(n);case"int16":return b(n);case"int32":return p(n);case"float":case"float32":return s(n);case"double":case"float64":return v(n);case"uint8_clamped":return A(n);case"bigint64":return E(n);case"biguint64":return x(n);case"buffer":return M(n);case"data":case"dataview":return g(n);default:return null}return null},Y.mallocArrayBuffer=u,Y.mallocUint8=f,Y.mallocUint16=c,Y.mallocUint32=m,Y.mallocInt8=a,Y.mallocInt16=b,Y.mallocInt32=p,Y.mallocFloat32=Y.mallocFloat=s,Y.mallocFloat64=Y.mallocDouble=v,Y.mallocUint8Clamped=A,Y.mallocBigUint64=x,Y.mallocBigInt64=E,Y.mallocDataView=g,Y.mallocBuffer=M,Y.clearCache=function(){for(var n=0;n<32;++n)y.UINT8[n].length=0,y.UINT16[n].length=0,y.UINT32[n].length=0,y.INT8[n].length=0,y.INT16[n].length=0,y.INT32[n].length=0,y.FLOAT[n].length=0,y.DOUBLE[n].length=0,y.BIGUINT64[n].length=0,y.BIGINT64[n].length=0,y.UINT8C[n].length=0,t[n].length=0,r[n].length=0}},90448:function(te){var Y=/[\'\"]/;te.exports=function(T){return T?(Y.test(T.charAt(0))&&(T=T.substr(1)),Y.test(T.charAt(T.length-1))&&(T=T.substr(0,T.length-1)),T):""}},93447:function(te){"use strict";te.exports=function(e,T,D){Array.isArray(D)||(D=[].slice.call(arguments,2));for(var o=0,P=D.length;o<P;o++){var C=D[o];for(var h in C)if((void 0===T[h]||Array.isArray(T[h])||e[h]!==T[h])&&h in T){var y;if(!0===C[h])y=T[h];else{if(!1===C[h])continue;if("function"==typeof C[h]&&void 0===(y=C[h](T[h],e,T)))continue}e[h]=y}}return e}},20588:function(te,Y,e){function D(o){try{if(!e.g.localStorage)return!1}catch{return!1}var P=e.g.localStorage[o];return null!=P&&"true"===String(P).toLowerCase()}te.exports=function T(o,P){if(D("noDeprecation"))return o;var C=!1;return function h(){if(!C){if(D("throwDeprecation"))throw new Error(P);D("traceDeprecation")?console.trace(P):console.warn(P),C=!0}return o.apply(this,arguments)}}},45920:function(te){te.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},4936:function(te,Y,e){"use strict";var T=e(47216),D=e(65481),o=e(21099),P=e(9187);function C(we){return we.call.bind(we)}var h=typeof BigInt<"u",y=typeof Symbol<"u",t=C(Object.prototype.toString),r=C(Number.prototype.valueOf),l=C(String.prototype.valueOf),i=C(Boolean.prototype.valueOf);if(h)var u=C(BigInt.prototype.valueOf);if(y)var f=C(Symbol.prototype.valueOf);function c(we,ye){if("object"!=typeof we)return!1;try{return ye(we),!0}catch{return!1}}function S(we){return"[object Map]"===t(we)}function I(we){return"[object Set]"===t(we)}function B(we){return"[object WeakMap]"===t(we)}function z(we){return"[object WeakSet]"===t(we)}function F(we){return"[object ArrayBuffer]"===t(we)}function N(we){return!(typeof ArrayBuffer>"u")&&(F.working?F(we):we instanceof ArrayBuffer)}function H(we){return"[object DataView]"===t(we)}function X(we){return!(typeof DataView>"u")&&(H.working?H(we):we instanceof DataView)}Y.isArgumentsObject=T,Y.isGeneratorFunction=D,Y.isTypedArray=P,Y.isPromise=function m(we){return typeof Promise<"u"&&we instanceof Promise||null!==we&&"object"==typeof we&&"function"==typeof we.then&&"function"==typeof we.catch},Y.isArrayBufferView=function a(we){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(we):P(we)||X(we)},Y.isUint8Array=function b(we){return"Uint8Array"===o(we)},Y.isUint8ClampedArray=function p(we){return"Uint8ClampedArray"===o(we)},Y.isUint16Array=function s(we){return"Uint16Array"===o(we)},Y.isUint32Array=function v(we){return"Uint32Array"===o(we)},Y.isInt8Array=function A(we){return"Int8Array"===o(we)},Y.isInt16Array=function x(we){return"Int16Array"===o(we)},Y.isInt32Array=function E(we){return"Int32Array"===o(we)},Y.isFloat32Array=function g(we){return"Float32Array"===o(we)},Y.isFloat64Array=function M(we){return"Float64Array"===o(we)},Y.isBigInt64Array=function w(we){return"BigInt64Array"===o(we)},Y.isBigUint64Array=function n(we){return"BigUint64Array"===o(we)},S.working=typeof Map<"u"&&S(new Map),Y.isMap=function d(we){return!(typeof Map>"u")&&(S.working?S(we):we instanceof Map)},I.working=typeof Set<"u"&&I(new Set),Y.isSet=function L(we){return!(typeof Set>"u")&&(I.working?I(we):we instanceof Set)},B.working=typeof WeakMap<"u"&&B(new WeakMap),Y.isWeakMap=function k(we){return!(typeof WeakMap>"u")&&(B.working?B(we):we instanceof WeakMap)},z.working=typeof WeakSet<"u"&&z(new WeakSet),Y.isWeakSet=function O(we){return z(we)},F.working=typeof ArrayBuffer<"u"&&F(new ArrayBuffer),Y.isArrayBuffer=N,H.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&H(new DataView(new ArrayBuffer(1),0,1)),Y.isDataView=X;var ne=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ie(we){return"[object SharedArrayBuffer]"===t(we)}function ue(we){return!(typeof ne>"u")&&(typeof ie.working>"u"&&(ie.working=ie(new ne)),ie.working?ie(we):we instanceof ne)}function ae(we){return c(we,r)}function Q(we){return c(we,l)}function Z(we){return c(we,i)}function re(we){return h&&c(we,u)}function q(we){return y&&c(we,f)}Y.isSharedArrayBuffer=ue,Y.isAsyncFunction=function J(we){return"[object AsyncFunction]"===t(we)},Y.isMapIterator=function j(we){return"[object Map Iterator]"===t(we)},Y.isSetIterator=function W(we){return"[object Set Iterator]"===t(we)},Y.isGeneratorObject=function V(we){return"[object Generator]"===t(we)},Y.isWebAssemblyCompiledModule=function K(we){return"[object WebAssembly.Module]"===t(we)},Y.isNumberObject=ae,Y.isStringObject=Q,Y.isBooleanObject=Z,Y.isBigIntObject=re,Y.isSymbolObject=q,Y.isBoxedPrimitive=function se(we){return ae(we)||Q(we)||Z(we)||re(we)||q(we)},Y.isAnyArrayBuffer=function de(we){return typeof Uint8Array<"u"&&(N(we)||ue(we))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(we){Object.defineProperty(Y,we,{enumerable:!1,value:function(){throw new Error(we+" is not supported in userland")}})})},43827:function(te,Y,e){var T=e(90386),D=Object.getOwnPropertyDescriptors||function(ne){for(var ie=Object.keys(ne),ue={},J=0;J<ie.length;J++)ue[ie[J]]=Object.getOwnPropertyDescriptor(ne,ie[J]);return ue},o=/%[sdj%]/g;Y.format=function(X){if(!x(X)){for(var ne=[],ie=0;ie<arguments.length;ie++)ne.push(y(arguments[ie]));return ne.join(" ")}ie=1;for(var ue=arguments,J=ue.length,j=String(X).replace(o,function(V){if("%%"===V)return"%";if(ie>=J)return V;switch(V){case"%s":return String(ue[ie++]);case"%d":return Number(ue[ie++]);case"%j":try{return JSON.stringify(ue[ie++])}catch{return"[Circular]"}default:return V}}),W=ue[ie];ie<J;W=ue[++ie])s(W)||!w(W)?j+=" "+W:j+=" "+y(W);return j},Y.deprecate=function(X,ne){if(typeof T<"u"&&!0===T.noDeprecation)return X;if(typeof T>"u")return function(){return Y.deprecate(X,ne).apply(this,arguments)};var ie=!1;return function ue(){if(!ie){if(T.throwDeprecation)throw new Error(ne);T.traceDeprecation?console.trace(ne):console.error(ne),ie=!0}return X.apply(this,arguments)}};var P={},C=/^$/;if(T.env.NODE_DEBUG){var h=T.env.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),C=new RegExp("^"+h+"$","i")}function y(X,ne){var ie={seen:[],stylize:r};return arguments.length>=3&&(ie.depth=arguments[2]),arguments.length>=4&&(ie.colors=arguments[3]),p(ne)?ie.showHidden=ne:ne&&Y._extend(ie,ne),g(ie.showHidden)&&(ie.showHidden=!1),g(ie.depth)&&(ie.depth=2),g(ie.colors)&&(ie.colors=!1),g(ie.customInspect)&&(ie.customInspect=!0),ie.colors&&(ie.stylize=t),i(ie,X,ie.depth)}function t(X,ne){var ie=y.styles[ne];return ie?"\x1b["+y.colors[ie][0]+"m"+X+"\x1b["+y.colors[ie][1]+"m":X}function r(X,ne){return X}function i(X,ne,ie){if(X.customInspect&&ne&&d(ne.inspect)&&ne.inspect!==Y.inspect&&(!ne.constructor||ne.constructor.prototype!==ne)){var ue=ne.inspect(ie,X);return x(ue)||(ue=i(X,ue,ie)),ue}var J=function u(X,ne){if(g(ne))return X.stylize("undefined","undefined");if(x(ne)){var ie="'"+JSON.stringify(ne).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return X.stylize(ie,"string")}return A(ne)?X.stylize(""+ne,"number"):p(ne)?X.stylize(""+ne,"boolean"):s(ne)?X.stylize("null","null"):void 0}(X,ne);if(J)return J;var j=Object.keys(ne),W=function l(X){var ne={};return X.forEach(function(ie,ue){ne[ie]=!0}),ne}(j);if(X.showHidden&&(j=Object.getOwnPropertyNames(ne)),S(ne)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return f(ne);if(0===j.length){if(d(ne))return X.stylize("[Function"+(ne.name?": "+ne.name:"")+"]","special");if(M(ne))return X.stylize(RegExp.prototype.toString.call(ne),"regexp");if(n(ne))return X.stylize(Date.prototype.toString.call(ne),"date");if(S(ne))return f(ne)}var re,K="",ae=!1,Q=["{","}"];return b(ne)&&(ae=!0,Q=["[","]"]),d(ne)&&(K=" [Function"+(ne.name?": "+ne.name:"")+"]"),M(ne)&&(K=" "+RegExp.prototype.toString.call(ne)),n(ne)&&(K=" "+Date.prototype.toUTCString.call(ne)),S(ne)&&(K=" "+f(ne)),0!==j.length||ae&&0!=ne.length?ie<0?M(ne)?X.stylize(RegExp.prototype.toString.call(ne),"regexp"):X.stylize("[Object]","special"):(X.seen.push(ne),re=ae?function c(X,ne,ie,ue,J){for(var j=[],W=0,V=ne.length;W<V;++W)O(ne,String(W))?j.push(m(X,ne,ie,ue,String(W),!0)):j.push("");return J.forEach(function(K){K.match(/^\d+$/)||j.push(m(X,ne,ie,ue,K,!0))}),j}(X,ne,ie,W,j):j.map(function(q){return m(X,ne,ie,W,q,ae)}),X.seen.pop(),function a(X,ne,ie){var J=X.reduce(function(j,W){return W.indexOf("\n"),j+W.replace(/\u001b\[\d\d?m/g,"").length+1},0);return J>60?ie[0]+(""===ne?"":ne+"\n ")+" "+X.join(",\n  ")+" "+ie[1]:ie[0]+ne+" "+X.join(", ")+" "+ie[1]}(re,K,Q)):Q[0]+K+Q[1]}function f(X){return"["+Error.prototype.toString.call(X)+"]"}function m(X,ne,ie,ue,J,j){var W,V,K;if((K=Object.getOwnPropertyDescriptor(ne,J)||{value:ne[J]}).get?V=X.stylize(K.set?"[Getter/Setter]":"[Getter]","special"):K.set&&(V=X.stylize("[Setter]","special")),O(ue,J)||(W="["+J+"]"),V||(X.seen.indexOf(K.value)<0?(V=s(ie)?i(X,K.value,null):i(X,K.value,ie-1)).indexOf("\n")>-1&&(V=j?V.split("\n").map(function(ae){return"  "+ae}).join("\n").slice(2):"\n"+V.split("\n").map(function(ae){return"   "+ae}).join("\n")):V=X.stylize("[Circular]","special")),g(W)){if(j&&J.match(/^\d+$/))return V;(W=JSON.stringify(""+J)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(W=W.slice(1,-1),W=X.stylize(W,"name")):(W=W.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),W=X.stylize(W,"string"))}return W+": "+V}function b(X){return Array.isArray(X)}function p(X){return"boolean"==typeof X}function s(X){return null===X}function A(X){return"number"==typeof X}function x(X){return"string"==typeof X}function g(X){return void 0===X}function M(X){return w(X)&&"[object RegExp]"===L(X)}function w(X){return"object"==typeof X&&null!==X}function n(X){return w(X)&&"[object Date]"===L(X)}function S(X){return w(X)&&("[object Error]"===L(X)||X instanceof Error)}function d(X){return"function"==typeof X}function L(X){return Object.prototype.toString.call(X)}function B(X){return X<10?"0"+X.toString(10):X.toString(10)}Y.debuglog=function(X){if(X=X.toUpperCase(),!P[X])if(C.test(X)){var ne=T.pid;P[X]=function(){var ie=Y.format.apply(Y,arguments);console.error("%s %d: %s",X,ne,ie)}}else P[X]=function(){};return P[X]},Y.inspect=y,y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},Y.types=e(4936),Y.isArray=b,Y.isBoolean=p,Y.isNull=s,Y.isNullOrUndefined=function v(X){return null==X},Y.isNumber=A,Y.isString=x,Y.isSymbol=function E(X){return"symbol"==typeof X},Y.isUndefined=g,Y.isRegExp=M,Y.types.isRegExp=M,Y.isObject=w,Y.isDate=n,Y.types.isDate=n,Y.isError=S,Y.types.isNativeError=S,Y.isFunction=d,Y.isPrimitive=function I(X){return null===X||"boolean"==typeof X||"number"==typeof X||"string"==typeof X||"symbol"==typeof X||typeof X>"u"},Y.isBuffer=e(45920);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(X,ne){return Object.prototype.hasOwnProperty.call(X,ne)}Y.log=function(){console.log("%s - %s",function z(){var X=new Date,ne=[B(X.getHours()),B(X.getMinutes()),B(X.getSeconds())].join(":");return[X.getDate(),k[X.getMonth()],ne].join(" ")}(),Y.format.apply(Y,arguments))},Y.inherits=e(42018),Y._extend=function(X,ne){if(!ne||!w(ne))return X;for(var ie=Object.keys(ne),ue=ie.length;ue--;)X[ie[ue]]=ne[ie[ue]];return X};var F=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function N(X,ne){if(!X){var ie=new Error("Promise was rejected with a falsy value");ie.reason=X,X=ie}return ne(X)}Y.promisify=function(ne){if("function"!=typeof ne)throw new TypeError('The "original" argument must be of type Function');if(F&&ne[F]){var ie;if("function"!=typeof(ie=ne[F]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ie,F,{value:ie,enumerable:!1,writable:!1,configurable:!0}),ie}function ie(){for(var ue,J,j=new Promise(function(K,ae){ue=K,J=ae}),W=[],V=0;V<arguments.length;V++)W.push(arguments[V]);W.push(function(K,ae){K?J(K):ue(ae)});try{ne.apply(this,W)}catch(K){J(K)}return j}return Object.setPrototypeOf(ie,Object.getPrototypeOf(ne)),F&&Object.defineProperty(ie,F,{value:ie,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ie,D(ne))},Y.promisify.custom=F,Y.callbackify=function H(X){if("function"!=typeof X)throw new TypeError('The "original" argument must be of type Function');function ne(){for(var ie=[],ue=0;ue<arguments.length;ue++)ie.push(arguments[ue]);var J=ie.pop();if("function"!=typeof J)throw new TypeError("The last argument must be of type Function");var j=this,W=function(){return J.apply(j,arguments)};X.apply(this,ie).then(function(V){T.nextTick(W.bind(null,null,V))},function(V){T.nextTick(N.bind(null,V,W))})}return Object.setPrototypeOf(ne,Object.getPrototypeOf(X)),Object.defineProperties(ne,D(X)),ne}},40372:function(te,Y,e){var T=e(86249);te.exports=function(o){return T("webgl",o)}},21099:function(te,Y,e){"use strict";var T=e(31353),D=e(72077),o=e(6614),P=e(40383),C=o("Object.prototype.toString"),h=e(84543)(),y=typeof globalThis>"u"?e.g:globalThis,t=D(),r=o("String.prototype.slice"),l={},i=Object.getPrototypeOf;h&&P&&i&&T(t,function(c){if("function"==typeof y[c]){var m=new y[c];if(Symbol.toStringTag in m){var a=i(m),b=P(a,Symbol.toStringTag);if(!b){var p=i(a);b=P(p,Symbol.toStringTag)}l[c]=b.get}}});var f=e(9187);te.exports=function(m){return!!f(m)&&(h&&Symbol.toStringTag in m?function(m){var a=!1;return T(l,function(b,p){if(!a)try{var s=b.call(m);s===p&&(a=s)}catch{}}),a}(m):r(C(m),8,-1))}},3961:function(te,Y,e){var T=e(63489),D=e(56131),o=T.instance();function P(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}D(P.prototype=new T.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(f,c){if("string"==typeof f){var m=f.match(h);return m?m[0]:""}var a=this._validateYear(f),b=f.month(),p=""+this.toChineseMonth(a,b);return c&&p.length<2&&(p="0"+p),this.isIntercalaryMonth(a,b)&&(p+="i"),p},monthNames:function(f){if("string"==typeof f){var c=f.match(y);return c?c[0]:""}var m=this._validateYear(f),a=f.month(),p=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(m,a)-1];return this.isIntercalaryMonth(m,a)&&(p="\u95f0"+p),p},monthNamesShort:function(f){if("string"==typeof f){var c=f.match(t);return c?c[0]:""}var m=this._validateYear(f),a=f.month(),p=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(m,a)-1];return this.isIntercalaryMonth(m,a)&&(p="\u95f0"+p),p},parseMonth:function(f,c){f=this._validateYear(f);var a,m=parseInt(c);if(isNaN(m))"\u95f0"===c[0]&&(a=!0,c=c.substring(1)),"\u6708"===c[c.length-1]&&(c=c.substring(0,c.length-1)),m=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(c);else{var b=c[c.length-1];a="i"===b||"I"===b}return this.toMonthIndex(f,m,a)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(f,c){if(f.year&&(f=f.year()),"number"!=typeof f||f<1888||f>2111)throw c.replace(/\{0\}/,this.local.name);return f},toMonthIndex:function(f,c,m){var a=this.intercalaryMonth(f);if(m&&c!==a||c<1||c>12)throw T.local.invalidMonth.replace(/\{0\}/,this.local.name);return a?!m&&c<=a?c-1:c:c-1},toChineseMonth:function(f,c){f.year&&(c=(f=f.year()).month());var m=this.intercalaryMonth(f);if(c<0||c>(m?12:11))throw T.local.invalidMonth.replace(/\{0\}/,this.local.name);return m?c<m?c+1:c:c+1},intercalaryMonth:function(f){return f=this._validateYear(f),r[f-r[0]]>>13},isIntercalaryMonth:function(f,c){f.year&&(c=(f=f.year()).month());var m=this.intercalaryMonth(f);return!!m&&m===c},leapYear:function(f){return 0!==this.intercalaryMonth(f)},weekOfYear:function(f,c,m){var A,a=this._validateYear(f,T.local.invalidyear),b=l[a-l[0]];(A=o.newDate(b>>9&4095,b>>5&15,31&b)).add(4-(A.dayOfWeek()||7),"d");var x=this.toJD(f,c,m)-A.toJD();return 1+Math.floor(x/7)},monthsInYear:function(f){return this.leapYear(f)?13:12},daysInMonth:function(f,c){f.year&&(c=f.month(),f=f.year()),f=this._validateYear(f);var m=r[f-r[0]];if(c>(m>>13?12:11))throw T.local.invalidMonth.replace(/\{0\}/,this.local.name);return m&1<<12-c?30:29},weekDay:function(f,c,m){return(this.dayOfWeek(f,c,m)||7)<6},toJD:function(f,c,m){var a=this._validate(f,p,m,T.local.invalidDate);f=this._validateYear(a.year()),c=a.month(),m=a.day();var b=this.isIntercalaryMonth(f,c),p=this.toChineseMonth(f,c),s=function u(f,c,m,a,b){var p,s,g;if("object"==typeof f)s=f,p=c||{};else{var E;if(!("number"==typeof f&&f>=1888&&f<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof c&&c>=1&&c<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof m&&m>=1&&m<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof a?(E=!1,p=a):(E=!!a,p=b||{}),s={year:f,month:c,day:m,isIntercalary:E}}g=s.day-1;var n,M=r[s.year-r[0]],w=M>>13;n=w&&(s.month>w||s.isIntercalary)?s.month:s.month-1;for(var S=0;S<n;S++)g+=M&1<<12-S?30:29;var I=l[s.year-l[0]],z=new Date(I>>9&4095,(I>>5&15)-1,(31&I)+g);return p.year=z.getFullYear(),p.month=1+z.getMonth(),p.day=z.getDate(),p}(f,p,m,b);return o.toJD(s.year,s.month,s.day)},fromJD:function(f){var c=o.fromJD(f),m=function i(f,c,m,a){var b,p;if("object"==typeof f)b=f,p=c||{};else{if(!("number"==typeof f&&f>=1888&&f<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof c&&c>=1&&c<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof m&&m>=1&&m<=31))throw new Error("Solar day outside range 1 - 31");b={year:f,month:c,day:m},p=a||{}}var x=l[b.year-l[0]];p.year=(b.year<<9|b.month<<5|b.day)>=x?b.year:b.year-1,x=l[p.year-l[0]];var n,S=new Date(x>>9&4095,(x>>5&15)-1,31&x),d=new Date(b.year,b.month-1,b.day);n=Math.round((d-S)/864e5);var L,I=r[p.year-r[0]];for(L=0;L<13;L++){var B=I&1<<12-L?30:29;if(n<B)break;n-=B}var k=I>>13;return!k||L<k?(p.isIntercalary=!1,p.month=1+L):L===k?(p.isIntercalary=!0,p.month=L):(p.isIntercalary=!1,p.month=L),p.day=1+n,p}(c.year(),c.month(),c.day()),a=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,a,m.day)},fromString:function(f){var c=f.match(C),m=this._validateYear(+c[1]),p=this.toMonthIndex(m,+c[2],!!c[3]);return this.newDate(m,p,+c[4])},add:function(f,c,m){var a=f.year(),b=f.month(),p=this.isIntercalaryMonth(a,b),s=this.toChineseMonth(a,b),v=Object.getPrototypeOf(P.prototype).add.call(this,f,c,m);if("y"===m){var A=v.year(),x=v.month(),E=this.isIntercalaryMonth(A,s),g=this.toMonthIndex(A,s,!(!p||!E));g!==x&&v.month(g)}return v}});var C=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,h=/^\d?\d[iI]?/m,y=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,t=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;T.calendars.chinese=P;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],l=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(te,Y,e){var T=e(63489);function o(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}e(56131)(o.prototype=new T.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var C=this._validate(h,this.minMonth,this.minDay,T.local.invalidYear);return(h=C.year()+(C.year()<0?1:0))%4==3||h%4==-1},monthsInYear:function(P){return this._validate(P,this.minMonth,this.minDay,T.local.invalidYear||T.regionalOptions[""].invalidYear),13},weekOfYear:function(P,C,h){var y=this.newDate(P,C,h);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(P,C){var h=this._validate(P,C,this.minDay,T.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(13===h.month()&&this.leapYear(h.year())?1:0)},weekDay:function(P,C,h){return(this.dayOfWeek(P,C,h)||7)<6},toJD:function(P,C,h){var y=this._validate(P,C,h,T.local.invalidDate);return(P=y.year())<0&&P++,y.day()+30*(y.month()-1)+365*(P-1)+Math.floor(P/4)+this.jdEpoch-1},fromJD:function(P){var C=Math.floor(P)+.5-this.jdEpoch,h=Math.floor((C-Math.floor((C+366)/1461))/365)+1;h<=0&&h--,C=Math.floor(P)+.5-this.newDate(h,1,1).toJD();var y=Math.floor(C/30)+1;return this.newDate(h,y,C-30*(y-1)+1)}}),T.calendars.coptic=o},86825:function(te,Y,e){var T=e(63489);function o(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}e(56131)(o.prototype=new T.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(C){return this._validate(C,this.minMonth,this.minDay,T.local.invalidYear),!1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,T.local.invalidYear),13},daysInYear:function(C){return this._validate(C,this.minMonth,this.minDay,T.local.invalidYear),400},weekOfYear:function(C,h,y){var t=this.newDate(C,h,y);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(C,h){var y=this._validate(C,h,this.minDay,T.local.invalidMonth);return this.daysPerMonth[y.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(C,h,y){return(this._validate(C,h,y,T.local.invalidDate).day()+1)%8},weekDay:function(C,h,y){var t=this.dayOfWeek(C,h,y);return t>=2&&t<=6},extraInfo:function(C,h,y){var t=this._validate(C,h,y,T.local.invalidDate);return{century:P[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(C,h,y){var t=this._validate(C,h,y,T.local.invalidDate);return C=t.year()+(t.year()<0?1:0),h=t.month(),(y=t.day())+(h>1?16:0)+(h>2?32*(h-2):0)+400*(C-1)+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C+.5)-Math.floor(this.jdEpoch)-1;var h=Math.floor(C/400)+1;C-=400*(h-1),C+=C>15?16:0;var y=Math.floor(C/32)+1;return this.newDate(h<=0?h-1:h,y,C-32*(y-1)+1)}});var P={20:"Fruitbat",21:"Anchovy"};T.calendars.discworld=o},37715:function(te,Y,e){var T=e(63489);function o(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}e(56131)(o.prototype=new T.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var C=this._validate(h,this.minMonth,this.minDay,T.local.invalidYear);return(h=C.year()+(C.year()<0?1:0))%4==3||h%4==-1},monthsInYear:function(P){return this._validate(P,this.minMonth,this.minDay,T.local.invalidYear||T.regionalOptions[""].invalidYear),13},weekOfYear:function(P,C,h){var y=this.newDate(P,C,h);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(P,C){var h=this._validate(P,C,this.minDay,T.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(13===h.month()&&this.leapYear(h.year())?1:0)},weekDay:function(P,C,h){return(this.dayOfWeek(P,C,h)||7)<6},toJD:function(P,C,h){var y=this._validate(P,C,h,T.local.invalidDate);return(P=y.year())<0&&P++,y.day()+30*(y.month()-1)+365*(P-1)+Math.floor(P/4)+this.jdEpoch-1},fromJD:function(P){var C=Math.floor(P)+.5-this.jdEpoch,h=Math.floor((C-Math.floor((C+366)/1461))/365)+1;h<=0&&h--,C=Math.floor(P)+.5-this.newDate(h,1,1).toJD();var y=Math.floor(C/30)+1;return this.newDate(h,y,C-30*(y-1)+1)}}),T.calendars.ethiopian=o},99384:function(te,Y,e){var T=e(63489);function o(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}function P(C,h){return C-h*Math.floor(C/h)}e(56131)(o.prototype=new T.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(C){var h=this._validate(C,this.minMonth,this.minDay,T.local.invalidYear);return this._leapYear(h.year())},_leapYear:function(C){return P(7*(C=C<0?C+1:C)+1,19)<7},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,T.local.invalidYear),this._leapYear(C.year?C.year():C)?13:12},weekOfYear:function(C,h,y){var t=this.newDate(C,h,y);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(C){return C=this._validate(C,this.minMonth,this.minDay,T.local.invalidYear).year(),this.toJD(-1===C?1:C+1,7,1)-this.toJD(C,7,1)},daysInMonth:function(C,h){return C.year&&(h=C.month(),C=C.year()),this._validate(C,h,this.minDay,T.local.invalidMonth),12===h&&this.leapYear(C)||8===h&&5===P(this.daysInYear(C),10)?30:9===h&&3===P(this.daysInYear(C),10)?29:this.daysPerMonth[h-1]},weekDay:function(C,h,y){return 6!==this.dayOfWeek(C,h,y)},extraInfo:function(C,h,y){var t=this._validate(C,h,y,T.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(C,h,y){var t=this._validate(C,h,y,T.local.invalidDate);C=t.year(),h=t.month(),y=t.day();var r=C<=0?C+1:C,l=this.jdEpoch+this._delay1(r)+this._delay2(r)+y+1;if(h<7){for(var i=7;i<=this.monthsInYear(C);i++)l+=this.daysInMonth(C,i);for(i=1;i<h;i++)l+=this.daysInMonth(C,i)}else for(i=7;i<h;i++)l+=this.daysInMonth(C,i);return l},_delay1:function(C){var h=Math.floor((235*C-234)/19),t=29*h+Math.floor((12084+13753*h)/25920);return P(3*(t+1),7)<3&&t++,t},_delay2:function(C){var h=this._delay1(C-1),y=this._delay1(C);return this._delay1(C+1)-y==356?2:y-h==382?1:0},fromJD:function(C){C=Math.floor(C)+.5;for(var h=Math.floor(98496*(C-this.jdEpoch)/35975351)-1;C>=this.toJD(-1===h?1:h+1,7,1);)h++;for(var y=C<this.toJD(h,1,1)?7:1;C>this.toJD(h,y,this.daysInMonth(h,y));)y++;var t=C-this.toJD(h,y,1)+1;return this.newDate(h,y,t)}}),T.calendars.hebrew=o},43805:function(te,Y,e){var T=e(63489);function o(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}e(56131)(o.prototype=new T.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(P){return(11*this._validate(P,this.minMonth,this.minDay,T.local.invalidYear).year()+14)%30<11},weekOfYear:function(P,C,h){var y=this.newDate(P,C,h);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInYear:function(P){return this.leapYear(P)?355:354},daysInMonth:function(P,C){var h=this._validate(P,C,this.minDay,T.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(12===h.month()&&this.leapYear(h.year())?1:0)},weekDay:function(P,C,h){return 5!==this.dayOfWeek(P,C,h)},toJD:function(P,C,h){var y=this._validate(P,C,h,T.local.invalidDate);return P=y.year(),C=y.month(),P=P<=0?P+1:P,(h=y.day())+Math.ceil(29.5*(C-1))+354*(P-1)+Math.floor((3+11*P)/30)+this.jdEpoch-1},fromJD:function(P){P=Math.floor(P)+.5;var C=Math.floor((30*(P-this.jdEpoch)+10646)/10631);C=C<=0?C-1:C;var h=Math.min(12,Math.ceil((P-29-this.toJD(C,1,1))/29.5)+1),y=P-this.toJD(C,h,1)+1;return this.newDate(C,h,y)}}),T.calendars.islamic=o},88874:function(te,Y,e){var T=e(63489);function o(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}e(56131)(o.prototype=new T.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var C=this._validate(h,this.minMonth,this.minDay,T.local.invalidYear);return(h=C.year()<0?C.year()+1:C.year())%4==0},weekOfYear:function(P,C,h){var y=this.newDate(P,C,h);return y.add(4-(y.dayOfWeek()||7),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(P,C){var h=this._validate(P,C,this.minDay,T.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(2===h.month()&&this.leapYear(h.year())?1:0)},weekDay:function(P,C,h){return(this.dayOfWeek(P,C,h)||7)<6},toJD:function(P,C,h){var y=this._validate(P,C,h,T.local.invalidDate);return P=y.year(),C=y.month(),h=y.day(),P<0&&P++,C<=2&&(P--,C+=12),Math.floor(365.25*(P+4716))+Math.floor(30.6001*(C+1))+h-1524.5},fromJD:function(P){var h=Math.floor(P+.5)+1524,y=Math.floor((h-122.1)/365.25),t=Math.floor(365.25*y),r=Math.floor((h-t)/30.6001),l=r-Math.floor(r<14?1:13),i=y-Math.floor(l>2?4716:4715),u=h-t-Math.floor(30.6001*r);return i<=0&&i--,this.newDate(i,l,u)}}),T.calendars.julian=o},83290:function(te,Y,e){var T=e(63489);function o(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}function P(h,y){return h-y*Math.floor(h/y)}function C(h,y){return P(h-1,y)+1}e(56131)(o.prototype=new T.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(h){return this._validate(h,this.minMonth,this.minDay,T.local.invalidYear),!1},formatYear:function(h){h=this._validate(h,this.minMonth,this.minDay,T.local.invalidYear).year();var t=Math.floor(h/400);return h%=400,h+=h<0?400:0,t+"."+Math.floor(h/20)+"."+h%20},forYear:function(h){if((h=h.split(".")).length<3)throw"Invalid Mayan year";for(var y=0,t=0;t<h.length;t++){var r=parseInt(h[t],10);if(Math.abs(r)>19||t>0&&r<0)throw"Invalid Mayan year";y=20*y+r}return y},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,T.local.invalidYear),18},weekOfYear:function(h,y,t){return this._validate(h,y,t,T.local.invalidDate),0},daysInYear:function(h){return this._validate(h,this.minMonth,this.minDay,T.local.invalidYear),360},daysInMonth:function(h,y){return this._validate(h,y,this.minDay,T.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(h,y,t){return this._validate(h,y,t,T.local.invalidDate).day()},weekDay:function(h,y,t){return this._validate(h,y,t,T.local.invalidDate),!0},extraInfo:function(h,y,t){var l=this._validate(h,y,t,T.local.invalidDate).toJD(),i=this._toHaab(l),u=this._toTzolkin(l);return{haabMonthName:this.local.haabMonths[i[0]-1],haabMonth:i[0],haabDay:i[1],tzolkinDayName:this.local.tzolkinMonths[u[0]-1],tzolkinDay:u[0],tzolkinTrecena:u[1]}},_toHaab:function(h){var y=P(8+(h-=this.jdEpoch)+340,365);return[Math.floor(y/20)+1,P(y,20)]},_toTzolkin:function(h){return[C(20+(h-=this.jdEpoch),20),C(h+4,13)]},toJD:function(h,y,t){var r=this._validate(h,y,t,T.local.invalidDate);return r.day()+20*r.month()+360*r.year()+this.jdEpoch},fromJD:function(h){h=Math.floor(h)+.5-this.jdEpoch;var y=Math.floor(h/360);h%=360,h+=h<0?360:0;var t=Math.floor(h/20);return this.newDate(y,t,h%20)}}),T.calendars.mayan=o},29108:function(te,Y,e){var T=e(63489),D=e(56131);function o(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}o.prototype=new T.baseCalendar;var P=T.instance("gregorian");D(o.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(C){var h=this._validate(C,this.minMonth,this.minDay,T.local.invalidYear||T.regionalOptions[""].invalidYear);return P.leapYear(h.year()+(h.year()<1?1:0)+1469)},weekOfYear:function(C,h,y){var t=this.newDate(C,h,y);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(C,h){var y=this._validate(C,h,this.minDay,T.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(12===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(C,h,y){return(this.dayOfWeek(C,h,y)||7)<6},toJD:function(r,h,y){var t=this._validate(r,h,y,T.local.invalidMonth);(r=t.year())<0&&r++;for(var l=t.day(),i=1;i<t.month();i++)l+=this.daysPerMonth[i-1];return l+P.toJD(r+1468,3,13)},fromJD:function(C){C=Math.floor(C+.5);for(var h=Math.floor((C-(this.jdEpoch-1))/366);C>=this.toJD(h+1,1,1);)h++;for(var y=C-Math.floor(this.toJD(h,1,1)+.5)+1,t=1;y>this.daysInMonth(h,t);)y-=this.daysInMonth(h,t),t++;return this.newDate(h,t,y)}}),T.calendars.nanakshahi=o},55422:function(te,Y,e){var T=e(63489);function o(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}e(56131)(o.prototype=new T.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(P){return this.daysInYear(P)!==this.daysPerYear},weekOfYear:function(P,C,h){var y=this.newDate(P,C,h);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInYear:function(P){if(P=this._validate(P,this.minMonth,this.minDay,T.local.invalidYear).year(),typeof this.NEPALI_CALENDAR_DATA[P]>"u")return this.daysPerYear;for(var h=0,y=this.minMonth;y<=12;y++)h+=this.NEPALI_CALENDAR_DATA[P][y];return h},daysInMonth:function(P,C){return P.year&&(C=P.month(),P=P.year()),this._validate(P,C,this.minDay,T.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[P]>"u"?this.daysPerMonth[C-1]:this.NEPALI_CALENDAR_DATA[P][C]},weekDay:function(P,C,h){return 6!==this.dayOfWeek(P,C,h)},toJD:function(P,C,h){var y=this._validate(P,C,h,T.local.invalidDate);P=y.year(),C=y.month(),h=y.day();var t=T.instance(),r=0,l=C,i=P;this._createMissingCalendarData(P);var u=P-(l>9||9===l&&h>=this.NEPALI_CALENDAR_DATA[i][0]?56:57);for(9!==C&&(r=h,l--);9!==l;)l<=0&&(l=12,i--),r+=this.NEPALI_CALENDAR_DATA[i][l],l--;return 9===C?(r+=h-this.NEPALI_CALENDAR_DATA[i][0])<0&&(r+=t.daysInYear(u)):r+=this.NEPALI_CALENDAR_DATA[i][9]-this.NEPALI_CALENDAR_DATA[i][0],t.newDate(u,1,1).add(r,"d").toJD()},fromJD:function(P){var h=T.instance().fromJD(P),y=h.year(),t=h.dayOfYear(),r=y+56;this._createMissingCalendarData(r);for(var l=9,u=this.NEPALI_CALENDAR_DATA[r][l]-this.NEPALI_CALENDAR_DATA[r][0]+1;t>u;)++l>12&&(l=1,r++),u+=this.NEPALI_CALENDAR_DATA[r][l];return this.newDate(r,l,this.NEPALI_CALENDAR_DATA[r][l]-(u-t))},_createMissingCalendarData:function(P){var C=this.daysPerMonth.slice(0);C.unshift(17);for(var h=P-1;h<P+2;h++)typeof this.NEPALI_CALENDAR_DATA[h]>"u"&&(this.NEPALI_CALENDAR_DATA[h]=C)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),T.calendars.nepali=o},94320:function(te,Y,e){var T=e(63489);function o(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}function P(C,h){return C-h*Math.floor(C/h)}e(56131)(o.prototype=new T.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var h=this._validate(C,this.minMonth,this.minDay,T.local.invalidYear);return 682*((h.year()-(h.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(C,h,y){var t=this.newDate(C,h,y);return t.add(-(t.dayOfWeek()+1)%7,"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(C,h){var y=this._validate(C,h,this.minDay,T.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(12===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(C,h,y){return 5!==this.dayOfWeek(C,h,y)},toJD:function(C,h,y){var t=this._validate(C,h,y,T.local.invalidDate);C=t.year(),h=t.month(),y=t.day();var r=C-(C>=0?474:473),l=474+P(r,2820);return y+(h<=7?31*(h-1):30*(h-1)+6)+Math.floor((682*l-110)/2816)+365*(l-1)+1029983*Math.floor(r/2820)+this.jdEpoch-1},fromJD:function(C){var h=(C=Math.floor(C)+.5)-this.toJD(475,1,1),y=Math.floor(h/1029983),t=P(h,1029983),r=2820;if(1029982!==t){var l=Math.floor(t/366),i=P(t,366);r=Math.floor((2134*l+2816*i+2815)/1028522)+l+1}var u=r+2820*y+474,f=C-this.toJD(u=u<=0?u-1:u,1,1)+1,c=f<=186?Math.ceil(f/31):Math.ceil((f-6)/30),m=C-this.toJD(u,c,1)+1;return this.newDate(u,c,m)}}),T.calendars.persian=o,T.calendars.jalali=o},31320:function(te,Y,e){var T=e(63489),D=e(56131),o=T.instance();function P(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}D(P.prototype=new T.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(y){var h=this._validate(y,this.minMonth,this.minDay,T.local.invalidYear);return y=this._t2gYear(h.year()),o.leapYear(y)},weekOfYear:function(r,h,y){var t=this._validate(r,this.minMonth,this.minDay,T.local.invalidYear);return r=this._t2gYear(t.year()),o.weekOfYear(r,t.month(),t.day())},daysInMonth:function(C,h){var y=this._validate(C,h,this.minDay,T.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(2===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(C,h,y){return(this.dayOfWeek(C,h,y)||7)<6},toJD:function(r,h,y){var t=this._validate(r,h,y,T.local.invalidDate);return r=this._t2gYear(t.year()),o.toJD(r,t.month(),t.day())},fromJD:function(C){var h=o.fromJD(C),y=this._g2tYear(h.year());return this.newDate(y,h.month(),h.day())},_t2gYear:function(C){return C+this.yearsOffset+(C>=-this.yearsOffset&&C<=-1?1:0)},_g2tYear:function(C){return C-this.yearsOffset-(C>=1&&C<=this.yearsOffset?1:0)}}),T.calendars.taiwan=P},51367:function(te,Y,e){var T=e(63489),D=e(56131),o=T.instance();function P(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}D(P.prototype=new T.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var h=this._validate(y,this.minMonth,this.minDay,T.local.invalidYear);return y=this._t2gYear(h.year()),o.leapYear(y)},weekOfYear:function(r,h,y){var t=this._validate(r,this.minMonth,this.minDay,T.local.invalidYear);return r=this._t2gYear(t.year()),o.weekOfYear(r,t.month(),t.day())},daysInMonth:function(C,h){var y=this._validate(C,h,this.minDay,T.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(2===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(C,h,y){return(this.dayOfWeek(C,h,y)||7)<6},toJD:function(r,h,y){var t=this._validate(r,h,y,T.local.invalidDate);return r=this._t2gYear(t.year()),o.toJD(r,t.month(),t.day())},fromJD:function(C){var h=o.fromJD(C),y=this._g2tYear(h.year());return this.newDate(y,h.month(),h.day())},_t2gYear:function(C){return C-this.yearsOffset-(C>=1&&C<=this.yearsOffset?1:0)},_g2tYear:function(C){return C+this.yearsOffset+(C>=-this.yearsOffset&&C<=-1?1:0)}}),T.calendars.thai=P},21457:function(te,Y,e){var T=e(63489);function o(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}e(56131)(o.prototype=new T.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(C){var h=this._validate(C,this.minMonth,this.minDay,T.local.invalidYear);return 355===this.daysInYear(h.year())},weekOfYear:function(C,h,y){var t=this.newDate(C,h,y);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(C){for(var h=0,y=1;y<=12;y++)h+=this.daysInMonth(C,y);return h},daysInMonth:function(C,h){for(var t=this._validate(C,h,this.minDay,T.local.invalidMonth).toJD()-24e5+.5,r=0,l=0;l<P.length;l++){if(P[l]>t)return P[r]-P[r-1];r++}return 30},weekDay:function(C,h,y){return 5!==this.dayOfWeek(C,h,y)},toJD:function(C,h,y){var t=this._validate(C,h,y,T.local.invalidDate),r=12*(t.year()-1)+t.month()-15292;return t.day()+P[r-1]-1+24e5-.5},fromJD:function(C){for(var h=C-24e5+.5,y=0,t=0;t<P.length&&!(P[t]>h);t++)y++;var r=y+15292,l=Math.floor((r-1)/12);return this.newDate(l+1,r-12*l,h-P[y-1]+1)},isValid:function(C,h,y){var t=T.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(t=(C=null!=C.year?C.year:C)>=1276&&C<=1500),t},_validate:function(C,h,y,t){var r=T.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw t.replace(/\{0\}/,this.local.name);return r}}),T.calendars.ummalqura=o;var P=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(te,Y,e){var T=e(56131);function D(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function o(t,r,l,i){if(this._calendar=t,this._year=r,this._month=l,this._day=i,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(y.local.invalidDate||y.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function P(t,r){return"000000".substring(0,r-(t=""+t).length)+t}function C(){this.shortYearCutoff="+10"}function h(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}T(D.prototype,{instance:function(t,r){t=(t||"gregorian").toLowerCase();var l=this._localCals[t+"-"+(r=r||"")];if(!l&&this.calendars[t]&&(l=new this.calendars[t](r),this._localCals[t+"-"+r]=l),!l)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return l},newDate:function(t,r,l,i,u){return(i=(null!=t&&t.year?t.calendar():"string"==typeof i?this.instance(i,u):i)||this.instance()).newDate(t,r,l)},substituteDigits:function(t){return function(r){return(r+"").replace(/[0-9]/g,function(l){return t[l]})}},substituteChineseDigits:function(t,r){return function(l){for(var i="",u=0;l>0;){var f=l%10;i=(0===f?"":t[f]+r[u])+i,u++,l=Math.floor(l/10)}return 0===i.indexOf(t[1]+r[1])&&(i=i.substr(1)),i||t[0]}}}),T(o.prototype,{newDate:function(t,r,l){return this._calendar.newDate(t??this,r,l)},year:function(t){return 0===arguments.length?this._year:this.set(t,"y")},month:function(t){return 0===arguments.length?this._month:this.set(t,"m")},day:function(t){return 0===arguments.length?this._day:this.set(t,"d")},date:function(t,r,l){if(!this._calendar.isValid(t,r,l))throw(y.local.invalidDate||y.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=r,this._day=l,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,r){return this._calendar.add(this,t,r)},set:function(t,r){return this._calendar.set(this,t,r)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(y.local.differentCalendars||y.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var r=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return 0===r?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+P(Math.abs(this.year()),4)+"-"+P(this.month(),2)+"-"+P(this.day(),2)}}),T(C.prototype,{_validateLevel:0,newDate:function(t,r,l){return null==t?this.today():(t.year&&(this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate),l=t.day(),r=t.month(),t=t.year()),new o(this,t,r,l))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+P(Math.abs(r.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),12},monthOfYear:function(t,r){var l=this._validate(t,r,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth);return(l.month()+this.monthsInYear(l)-this.firstMonth)%this.monthsInYear(l)+this.minMonth},fromMonthOfYear:function(t,r){var l=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,l,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth),l},daysInYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(t,r,l){var i=this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate);return i.toJD()-this.newDate(i.year(),this.fromMonthOfYear(i.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,r,l){var i=this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(i))+2)%this.daysInWeek()},extraInfo:function(t,r,l){return this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate),{}},add:function(t,r,l){return this._validate(t,this.minMonth,this.minDay,y.local.invalidDate||y.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,r,l),r,l)},_add:function(t,r,l){if(this._validateLevel++,"d"===l||"w"===l){var i=t.toJD()+r*("w"===l?this.daysInWeek():1),u=t.calendar().fromJD(i);return this._validateLevel--,[u.year(),u.month(),u.day()]}try{var f=t.year()+("y"===l?r:0),c=t.monthOfYear()+("m"===l?r:0);u=t.day(),"y"===l?(t.month()!==this.fromMonthOfYear(f,c)&&(c=this.newDate(f,t.month(),this.minDay).monthOfYear()),c=Math.min(c,this.monthsInYear(f)),u=Math.min(u,this.daysInMonth(f,this.fromMonthOfYear(f,c)))):"m"===l&&(function(p){for(;c<p.minMonth;)f--,c+=p.monthsInYear(f);for(var s=p.monthsInYear(f);c>s-1+p.minMonth;)f++,c-=s,s=p.monthsInYear(f)}(this),u=Math.min(u,this.daysInMonth(f,this.fromMonthOfYear(f,c))));var a=[f,this.fromMonthOfYear(f,c),u];return this._validateLevel--,a}catch(b){throw this._validateLevel--,b}},_correctAdd:function(t,r,l,i){if(!(this.hasYearZero||"y"!==i&&"m"!==i||0!==r[0]&&t.year()>0==r[0]>0)){var u={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[i];r=this._add(t,l*u[0]+(l<0?-1:1)*u[1],u[2])}return t.date(r[0],r[1],r[2])},set:function(t,r,l){this._validate(t,this.minMonth,this.minDay,y.local.invalidDate||y.regionalOptions[""].invalidDate);var i="y"===l?r:t.year(),u="m"===l?r:t.month(),f="d"===l?r:t.day();return("y"===l||"m"===l)&&(f=Math.min(f,this.daysInMonth(i,u))),t.date(i,u,f)},isValid:function(t,r,l){this._validateLevel++;var i=this.hasYearZero||0!==t;if(i){var u=this.newDate(t,r,this.minDay);i=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(u)&&l>=this.minDay&&l-this.minDay<this.daysInMonth(u)}return this._validateLevel--,i},toJSDate:function(t,r,l){var i=this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate);return y.instance().fromJD(this.toJD(i)).toJSDate()},fromJSDate:function(t){return this.fromJD(y.instance().fromJSDate(t).toJD())},_validate:function(t,r,l,i){if(t.year){if(0===this._validateLevel&&this.name!==t.calendar().name)throw(y.local.differentCalendars||y.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(t,r,l))throw i.replace(/\{0\}/,this.local.name);var u=this.newDate(t,r,l);return this._validateLevel--,u}catch(f){throw this._validateLevel--,f}}}),T(h.prototype=new C,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var r=this._validate(l,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return(l=r.year()+(r.year()<0?1:0))%4==0&&(l%100!=0||l%400==0)},weekOfYear:function(t,r,l){var i=this.newDate(t,r,l);return i.add(4-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(t,r){var l=this._validate(t,r,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth);return this.daysPerMonth[l.month()-1]+(2===l.month()&&this.leapYear(l.year())?1:0)},weekDay:function(t,r,l){return(this.dayOfWeek(t,r,l)||7)<6},toJD:function(t,r,l){var i=this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate);t=i.year(),r=i.month(),l=i.day(),t<0&&t++,r<3&&(r+=12,t--);var u=Math.floor(t/100),f=2-u+Math.floor(u/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+l+f-1524.5},fromJD:function(t){var r=Math.floor(t+.5),l=Math.floor((r-1867216.25)/36524.25),i=1524+(l=r+1+l-Math.floor(l/4)),u=Math.floor((i-122.1)/365.25),f=Math.floor(365.25*u),c=Math.floor((i-f)/30.6001),m=i-f-Math.floor(30.6001*c),a=c-(c>13.5?13:1),b=u-(a>2.5?4716:4715);return b<=0&&b--,this.newDate(b,a,m)},toJSDate:function(t,r,l){var i=this._validate(t,r,l,y.local.invalidDate||y.regionalOptions[""].invalidDate),u=new Date(i.year(),i.month()-1,i.day());return u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0),u.setHours(u.getHours()>12?u.getHours()+2:0),u},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var y=te.exports=new D;y.cdate=o,y.baseCalendar=C,y.calendars.gregorian=h},94338:function(te,Y,e){var T=e(56131),D=e(63489);T(D.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),D.local=D.regionalOptions[""],T(D.cdate.prototype,{formatDate:function(o,P){return"string"!=typeof o&&(P=o,o=""),this._calendar.formatDate(o||"",this,P)}}),T(D.baseCalendar.prototype,{UNIX_EPOCH:D.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:D.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(o,P,C){if("string"!=typeof o&&(C=P,P=o,o=""),!P)return"";if(P.calendar()!==this)throw D.local.invalidFormat||D.regionalOptions[""].invalidFormat;o=o||this.local.dateFormat;for(var h=(C=C||{}).dayNamesShort||this.local.dayNamesShort,y=C.dayNames||this.local.dayNames,t=C.monthNumbers||this.local.monthNumbers,r=C.monthNamesShort||this.local.monthNamesShort,l=C.monthNames||this.local.monthNames,u=function(E,g){for(var M=1;x+M<o.length&&o.charAt(x+M)===E;)M++;return x+=M-1,Math.floor(M/(g||1))>1},f=function(E,g,M,w){var n=""+g;if(u(E,w))for(;n.length<M;)n="0"+n;return n},m=this,a=function(E){return"function"==typeof t?t.call(m,E,u("m")):s(f("m",E.month(),2))},b=function(E,g){return g?"function"==typeof l?l.call(m,E):l[E.month()-m.minMonth]:"function"==typeof r?r.call(m,E):r[E.month()-m.minMonth]},p=this.local.digits,s=function(E){return C.localNumbers&&p?p(E):E},v="",A=!1,x=0;x<o.length;x++)if(A)"'"!==o.charAt(x)||u("'")?v+=o.charAt(x):A=!1;else switch(o.charAt(x)){case"d":v+=s(f("d",P.day(),2));break;case"D":v+=("D",g=P.dayOfWeek(),M=h,w=y,u("D")?w[g]:M[g]);break;case"o":v+=f("o",P.dayOfYear(),3);break;case"w":v+=f("w",P.weekOfYear(),2);break;case"m":v+=a(P);break;case"M":v+=b(P,u("M"));break;case"y":v+=u("y",2)?P.year():(P.year()%100<10?"0":"")+P.year()%100;break;case"Y":u("Y",2),v+=P.formatYear();break;case"J":v+=P.toJD();break;case"@":v+=(P.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":v+=(P.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?v+="'":A=!0;break;default:v+=o.charAt(x)}var g,M,w;return v},parseDate:function(o,P,C){if(null==P)throw D.local.invalidArguments||D.regionalOptions[""].invalidArguments;if(""===(P="object"==typeof P?P.toString():P+""))return null;o=o||this.local.dateFormat;var h=(C=C||{}).shortYearCutoff||this.shortYearCutoff;h="string"!=typeof h?h:this.today().year()%100+parseInt(h,10);for(var y=C.dayNamesShort||this.local.dayNamesShort,t=C.dayNames||this.local.dayNames,r=C.parseMonth||this.local.parseMonth,l=C.monthNumbers||this.local.monthNumbers,i=C.monthNamesShort||this.local.monthNamesShort,u=C.monthNames||this.local.monthNames,f=-1,c=-1,m=-1,a=-1,b=-1,p=!1,s=!1,v=function(L,B){for(var k=1;S+k<o.length&&o.charAt(S+k)===L;)k++;return S+=k-1,Math.floor(k/(B||1))>1},A=function(L,B){var k=v(L,B),z=[2,3,k?4:2,k?4:2,10,11,20]["oyYJ@!".indexOf(L)+1],O=new RegExp("^-?\\d{1,"+z+"}"),F=P.substring(n).match(O);if(!F)throw(D.local.missingNumberAt||D.regionalOptions[""].missingNumberAt).replace(/\{0\}/,n);return n+=F[0].length,parseInt(F[0],10)},x=this,E=function(){if("function"==typeof l){v("m");var L=l.call(x,P.substring(n));return n+=L.length,L}return A("m")},g=function(L,B,k,z){for(var O=v(L,z)?k:B,F=0;F<O.length;F++)if(P.substr(n,O[F].length).toLowerCase()===O[F].toLowerCase())return n+=O[F].length,F+x.minMonth;throw(D.local.unknownNameAt||D.regionalOptions[""].unknownNameAt).replace(/\{0\}/,n)},M=function(){if("function"==typeof u){var L=v("M")?u.call(x,P.substring(n)):i.call(x,P.substring(n));return n+=L.length,L}return g("M",i,u)},w=function(){if(P.charAt(n)!==o.charAt(S))throw(D.local.unexpectedLiteralAt||D.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,n);n++},n=0,S=0;S<o.length;S++)if(s)"'"!==o.charAt(S)||v("'")?w():s=!1;else switch(o.charAt(S)){case"d":a=A("d");break;case"D":g("D",y,t);break;case"o":b=A("o");break;case"w":A("w");break;case"m":m=E();break;case"M":m=M();break;case"y":var d=S;p=!v("y",2),S=d,c=A("y",2);break;case"Y":c=A("Y",2);break;case"J":f=A("J")+.5,"."===P.charAt(n)&&(n++,A("J"));break;case"@":f=A("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=A("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":n=P.length;break;case"'":v("'")?w():s=!0;break;default:w()}if(n<P.length)throw D.local.unexpectedText||D.regionalOptions[""].unexpectedText;if(-1===c?c=this.today().year():c<100&&p&&(c+=-1===h?1900:this.today().year()-this.today().year()%100-(c<=h?0:100)),"string"==typeof m&&(m=r.call(this,c,m)),b>-1){a=b;for(var I=this.daysInMonth(c,m=1);a>I;I=this.daysInMonth(c,m))m++,a-=I}return f>-1?this.fromJD(f):this.newDate(c,m,a)},determineDate:function(o,P,C,h,y){C&&"object"!=typeof C&&(y=h,h=C,C=null),"string"!=typeof h&&(y=h,h="");var t=this;return P=P?P.newDate():null,null==o?P:"string"==typeof o?function(l){try{return t.parseDate(h,l,y)}catch{}for(var i=((l=l.toLowerCase()).match(/^c/)&&C?C.newDate():null)||t.today(),u=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=u.exec(l);f;)i.add(parseInt(f[1],10),f[2]||"d"),f=u.exec(l);return i}(o):"number"==typeof o?isNaN(o)||o===1/0||o===-1/0?P:t.today().add(o,"d"):t.newDate(o)}})},69862:function(){},40964:function(){},72077:function(te,Y,e){"use strict";var T=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],D=typeof globalThis>"u"?e.g:globalThis;te.exports=function(){for(var P=[],C=0;C<T.length;C++)"function"==typeof D[T[C]]&&(P[P.length]=T[C]);return P}},81684:function(te,Y,e){"use strict";function T(Be,ze,tt){Be.prototype=ze.prototype=tt,tt.constructor=Be}function D(Be,ze){var tt=Object.create(Be.prototype);for(var lt in ze)tt[lt]=ze[lt];return tt}function o(){}e.d(Y,{sX:function(){return $e},k4:function(){return ye}});var P=.7,C=1/P,h="\\s*([+-]?\\d+)\\s*",y="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,l=new RegExp("^rgb\\(".concat(h,",").concat(h,",").concat(h,"\\)$")),i=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),u=new RegExp("^rgba\\(".concat(h,",").concat(h,",").concat(h,",").concat(y,"\\)$")),f=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(y,"\\)$")),c=new RegExp("^hsl\\(".concat(y,",").concat(t,",").concat(t,"\\)$")),m=new RegExp("^hsla\\(".concat(y,",").concat(t,",").concat(t,",").concat(y,"\\)$")),a={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function v(){return this.rgb().formatRgb()}function A(Be){var ze,tt;return Be=(Be+"").trim().toLowerCase(),(ze=r.exec(Be))?(tt=ze[1].length,ze=parseInt(ze[1],16),6===tt?x(ze):3===tt?new w(ze>>8&15|ze>>4&240,ze>>4&15|240&ze,(15&ze)<<4|15&ze,1):8===tt?E(ze>>24&255,ze>>16&255,ze>>8&255,(255&ze)/255):4===tt?E(ze>>12&15|ze>>8&240,ze>>8&15|ze>>4&240,ze>>4&15|240&ze,((15&ze)<<4|15&ze)/255):null):(ze=l.exec(Be))?new w(ze[1],ze[2],ze[3],1):(ze=i.exec(Be))?new w(255*ze[1]/100,255*ze[2]/100,255*ze[3]/100,1):(ze=u.exec(Be))?E(ze[1],ze[2],ze[3],ze[4]):(ze=f.exec(Be))?E(255*ze[1]/100,255*ze[2]/100,255*ze[3]/100,ze[4]):(ze=c.exec(Be))?k(ze[1],ze[2]/100,ze[3]/100,1):(ze=m.exec(Be))?k(ze[1],ze[2]/100,ze[3]/100,ze[4]):a.hasOwnProperty(Be)?x(a[Be]):"transparent"===Be?new w(NaN,NaN,NaN,0):null}function x(Be){return new w(Be>>16&255,Be>>8&255,255&Be,1)}function E(Be,ze,tt,lt){return lt<=0&&(Be=ze=tt=NaN),new w(Be,ze,tt,lt)}function M(Be,ze,tt,lt){return 1===arguments.length?function g(Be){return Be instanceof o||(Be=A(Be)),Be?new w((Be=Be.rgb()).r,Be.g,Be.b,Be.opacity):new w}(Be):new w(Be,ze,tt,lt??1)}function w(Be,ze,tt,lt){this.r=+Be,this.g=+ze,this.b=+tt,this.opacity=+lt}function n(){return"#".concat(B(this.r)).concat(B(this.g)).concat(B(this.b))}function d(){var Be=I(this.opacity);return"".concat(1===Be?"rgb(":"rgba(").concat(L(this.r),", ").concat(L(this.g),", ").concat(L(this.b)).concat(1===Be?")":", ".concat(Be,")"))}function I(Be){return isNaN(Be)?1:Math.max(0,Math.min(1,Be))}function L(Be){return Math.max(0,Math.min(255,Math.round(Be)||0))}function B(Be){return((Be=L(Be))<16?"0":"")+Be.toString(16)}function k(Be,ze,tt,lt){return lt<=0?Be=ze=tt=NaN:tt<=0||tt>=1?Be=ze=NaN:ze<=0&&(Be=NaN),new F(Be,ze,tt,lt)}function z(Be){if(Be instanceof F)return new F(Be.h,Be.s,Be.l,Be.opacity);if(Be instanceof o||(Be=A(Be)),!Be)return new F;if(Be instanceof F)return Be;var ze=(Be=Be.rgb()).r/255,tt=Be.g/255,lt=Be.b/255,ut=Math.min(ze,tt,lt),xt=Math.max(ze,tt,lt),bt=NaN,Ht=xt-ut,Je=(xt+ut)/2;return Ht?(bt=ze===xt?(tt-lt)/Ht+6*(tt<lt):tt===xt?(lt-ze)/Ht+2:(ze-tt)/Ht+4,Ht/=Je<.5?xt+ut:2-xt-ut,bt*=60):Ht=Je>0&&Je<1?0:bt,new F(bt,Ht,Je,Be.opacity)}function F(Be,ze,tt,lt){this.h=+Be,this.s=+ze,this.l=+tt,this.opacity=+lt}function N(Be){return(Be=(Be||0)%360)<0?Be+360:Be}function H(Be){return Math.max(0,Math.min(1,Be||0))}function X(Be,ze,tt){return 255*(Be<60?ze+(tt-ze)*Be/60:Be<180?tt:Be<240?ze+(tt-ze)*(240-Be)/60:ze)}function ne(Be,ze,tt,lt,ut){var xt=Be*Be,bt=xt*Be;return((1-3*Be+3*xt-bt)*ze+(4-6*xt+3*bt)*tt+(1+3*Be+3*xt-3*bt)*lt+bt*ut)/6}T(o,A,{copy:function(ze){return Object.assign(new this.constructor,this,ze)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHex8:function p(){return this.rgb().formatHex8()},formatHsl:function s(){return z(this).formatHsl()},formatRgb:v,toString:v}),T(w,M,D(o,{brighter:function(ze){return ze=null==ze?C:Math.pow(C,ze),new w(this.r*ze,this.g*ze,this.b*ze,this.opacity)},darker:function(ze){return ze=null==ze?P:Math.pow(P,ze),new w(this.r*ze,this.g*ze,this.b*ze,this.opacity)},rgb:function(){return this},clamp:function(){return new w(L(this.r),L(this.g),L(this.b),I(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:n,formatHex:n,formatHex8:function S(){return"#".concat(B(this.r)).concat(B(this.g)).concat(B(this.b)).concat(B(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:d,toString:d})),T(F,function O(Be,ze,tt,lt){return 1===arguments.length?z(Be):new F(Be,ze,tt,lt??1)},D(o,{brighter:function(ze){return ze=null==ze?C:Math.pow(C,ze),new F(this.h,this.s,this.l*ze,this.opacity)},darker:function(ze){return ze=null==ze?P:Math.pow(P,ze),new F(this.h,this.s,this.l*ze,this.opacity)},rgb:function(){var ze=this.h%360+360*(this.h<0),tt=isNaN(ze)||isNaN(this.s)?0:this.s,lt=this.l,ut=lt+(lt<.5?lt:1-lt)*tt,xt=2*lt-ut;return new w(X(ze>=240?ze-240:ze+120,xt,ut),X(ze,xt,ut),X(ze<120?ze+240:ze-120,xt,ut),this.opacity)},clamp:function(){return new F(N(this.h),H(this.s),H(this.l),I(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ze=I(this.opacity);return"".concat(1===ze?"hsl(":"hsla(").concat(N(this.h),", ").concat(100*H(this.s),"%, ").concat(100*H(this.l),"%").concat(1===ze?")":", ".concat(ze,")"))}}));var J=function(Be){return function(){return Be}};function ae(Be,ze){var tt=ze-Be;return tt?function j(Be,ze){return function(tt){return Be+tt*ze}}(Be,tt):J(isNaN(Be)?ze:Be)}var Q=function Be(ze){var tt=function K(Be){return 1==(Be=+Be)?ae:function(ze,tt){return tt-ze?function W(Be,ze,tt){return Be=Math.pow(Be,tt),ze=Math.pow(ze,tt)-Be,tt=1/tt,function(lt){return Math.pow(Be+lt*ze,tt)}}(ze,tt,Be):J(isNaN(ze)?tt:ze)}}(ze);function lt(ut,xt){var bt=tt((ut=M(ut)).r,(xt=M(xt)).r),Ht=tt(ut.g,xt.g),Je=tt(ut.b,xt.b),Ce=ae(ut.opacity,xt.opacity);return function(Ee){return ut.r=bt(Ee),ut.g=Ht(Ee),ut.b=Je(Ee),ut.opacity=Ce(Ee),ut+""}}return lt.gamma=Be,lt}(1);function Z(Be){return function(ze){var bt,Ht,tt=ze.length,lt=new Array(tt),ut=new Array(tt),xt=new Array(tt);for(bt=0;bt<tt;++bt)Ht=M(ze[bt]),lt[bt]=Ht.r||0,ut[bt]=Ht.g||0,xt[bt]=Ht.b||0;return lt=Be(lt),ut=Be(ut),xt=Be(xt),Ht.opacity=1,function(Je){return Ht.r=lt(Je),Ht.g=ut(Je),Ht.b=xt(Je),Ht+""}}}function de(Be,ze){var bt,tt=ze?ze.length:0,lt=Be?Math.min(tt,Be.length):0,ut=new Array(lt),xt=new Array(tt);for(bt=0;bt<lt;++bt)ut[bt]=$e(Be[bt],ze[bt]);for(;bt<tt;++bt)xt[bt]=ze[bt];return function(Ht){for(bt=0;bt<lt;++bt)xt[bt]=ut[bt](Ht);return xt}}function we(Be,ze){var tt=new Date;return Be=+Be,ze=+ze,function(lt){return tt.setTime(Be*(1-lt)+ze*lt),tt}}function ye(Be,ze){return Be=+Be,ze=+ze,function(tt){return Be*(1-tt)+ze*tt}}function Pe(Be){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ze){return typeof ze}:function(ze){return ze&&"function"==typeof Symbol&&ze.constructor===Symbol&&ze!==Symbol.prototype?"symbol":typeof ze})(Be)}function Ie(Be,ze){var ut,tt={},lt={};for(ut in(null===Be||"object"!==Pe(Be))&&(Be={}),(null===ze||"object"!==Pe(ze))&&(ze={}),ze)ut in Be?tt[ut]=$e(Be[ut],ze[ut]):lt[ut]=ze[ut];return function(xt){for(ut in tt)lt[ut]=tt[ut](xt);return lt}}Z(function ie(Be){var ze=Be.length-1;return function(tt){var lt=tt<=0?tt=0:tt>=1?(tt=1,ze-1):Math.floor(tt*ze),ut=Be[lt],xt=Be[lt+1];return ne((tt-lt/ze)*ze,lt>0?Be[lt-1]:2*ut-xt,ut,xt,lt<ze-1?Be[lt+2]:2*xt-ut)}}),Z(function ue(Be){var ze=Be.length;return function(tt){var lt=Math.floor(((tt%=1)<0?++tt:tt)*ze);return ne((tt-lt/ze)*ze,Be[(lt+ze-1)%ze],Be[lt%ze],Be[(lt+1)%ze],Be[(lt+2)%ze])}});var Se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xe=new RegExp(Se.source,"g");function Ye(Be,ze){var lt,ut,xt,tt=Se.lastIndex=xe.lastIndex=0,bt=-1,Ht=[],Je=[];for(Be+="",ze+="";(lt=Se.exec(Be))&&(ut=xe.exec(ze));)(xt=ut.index)>tt&&(xt=ze.slice(tt,xt),Ht[bt]?Ht[bt]+=xt:Ht[++bt]=xt),(lt=lt[0])===(ut=ut[0])?Ht[bt]?Ht[bt]+=ut:Ht[++bt]=ut:(Ht[++bt]=null,Je.push({i:bt,x:ye(lt,ut)})),tt=xe.lastIndex;return tt<ze.length&&(xt=ze.slice(tt),Ht[bt]?Ht[bt]+=xt:Ht[++bt]=xt),Ht.length<2?Je[0]?function Ge(Be){return function(ze){return Be(ze)+""}}(Je[0].x):function Me(Be){return function(){return Be}}(ze):(ze=Je.length,function(Ce){for(var Re,Ee=0;Ee<ze;++Ee)Ht[(Re=Je[Ee]).i]=Re.x(Ce);return Ht.join("")})}function De(Be,ze){ze||(ze=[]);var ut,tt=Be?Math.min(ze.length,Be.length):0,lt=ze.slice();return function(xt){for(ut=0;ut<tt;++ut)lt[ut]=Be[ut]*(1-xt)+ze[ut]*xt;return lt}}function rt(Be){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ze){return typeof ze}:function(ze){return ze&&"function"==typeof Symbol&&ze.constructor===Symbol&&ze!==Symbol.prototype?"symbol":typeof ze})(Be)}function $e(Be,ze){var lt,tt=rt(ze);return null==ze||"boolean"===tt?J(ze):("number"===tt?ye:"string"===tt?(lt=A(ze))?(ze=lt,Q):Ye:ze instanceof A?Q:ze instanceof Date?we:function He(Be){return ArrayBuffer.isView(Be)&&!(Be instanceof DataView)}(ze)?De:Array.isArray(ze)?de:"function"!=typeof ze.valueOf&&"function"!=typeof ze.toString||isNaN(ze)?Ie:ye)(Be,ze)}},40402:function(te){"use strict";te.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(te){"use strict";te.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(te){"use strict";te.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(te){"use strict";te.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(te){"use strict";te.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(te){"use strict";te.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Ls={};function ki(te){var Y=Ls[te];if(void 0!==Y)return Y.exports;var e=Ls[te]={exports:{}};return ii[te].call(e.exports,e,e.exports,ki),e.exports}return ki.n=function(te){var Y=te&&te.__esModule?function(){return te.default}:function(){return te};return ki.d(Y,{a:Y}),Y},ki.d=function(te,Y){for(var e in Y)ki.o(Y,e)&&!ki.o(te,e)&&Object.defineProperty(te,e,{enumerable:!0,get:Y[e]})},ki.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),ki.o=function(te,Y){return Object.prototype.hasOwnProperty.call(te,Y)},ki.r=function(te){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(te,"__esModule",{value:!0})},ki(27909)}()});