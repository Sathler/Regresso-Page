(self.webpackChunkregresso_page=self.webpackChunkregresso_page||[]).push([[179],{14:(e0,t0,Ud)=>{"use strict";function Ga(e){return"function"==typeof e}function r0(e){const a=e(P=>{Error.call(P),P.stack=(new Error).stack});return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}const oe=r0(e=>function(a){e(this),this.message=a?`${a.length} errors occurred during unsubscription:\n${a.map((P,j)=>`${j+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=a});function J(e,s){if(e){const a=e.indexOf(s);0<=a&&e.splice(a,1)}}class t{constructor(s){this.initialTeardown=s,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let s;if(!this.closed){this.closed=!0;const{_parentage:a}=this;if(a)if(this._parentage=null,Array.isArray(a))for(const ie of a)ie.remove(this);else a.remove(this);const{initialTeardown:P}=this;if(Ga(P))try{P()}catch(ie){s=ie instanceof oe?ie.errors:[ie]}const{_finalizers:j}=this;if(j){this._finalizers=null;for(const ie of j)try{l(ie)}catch(ye){s=s??[],ye instanceof oe?s=[...s,...ye.errors]:s.push(ye)}}if(s)throw new oe(s)}}add(s){var a;if(s&&s!==this)if(this.closed)l(s);else{if(s instanceof t){if(s.closed||s._hasParent(this))return;s._addParent(this)}(this._finalizers=null!==(a=this._finalizers)&&void 0!==a?a:[]).push(s)}}_hasParent(s){const{_parentage:a}=this;return a===s||Array.isArray(a)&&a.includes(s)}_addParent(s){const{_parentage:a}=this;this._parentage=Array.isArray(a)?(a.push(s),a):a?[a,s]:s}_removeParent(s){const{_parentage:a}=this;a===s?this._parentage=null:Array.isArray(a)&&J(a,s)}remove(s){const{_finalizers:a}=this;a&&J(a,s),s instanceof t&&s._removeParent(this)}}t.EMPTY=(()=>{const e=new t;return e.closed=!0,e})();const S=t.EMPTY;function k(e){return e instanceof t||e&&"closed"in e&&Ga(e.remove)&&Ga(e.add)&&Ga(e.unsubscribe)}function l(e){Ga(e)?e():e.unsubscribe()}const R={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},I={setTimeout(e,s,...a){const{delegate:P}=I;return P?.setTimeout?P.setTimeout(e,s,...a):setTimeout(e,s,...a)},clearTimeout(e){const{delegate:s}=I;return(s?.clearTimeout||clearTimeout)(e)},delegate:void 0};function v(e){I.setTimeout(()=>{const{onUnhandledError:s}=R;if(!s)throw e;s(e)})}function w(){}const r=o("C",void 0,void 0);function o(e,s,a){return{kind:e,value:s,error:a}}let f=null;function h(e){if(R.useDeprecatedSynchronousErrorHandling){const s=!f;if(s&&(f={errorThrown:!1,error:null}),e(),s){const{errorThrown:a,error:P}=f;if(f=null,a)throw P}}else e()}class b extends t{constructor(s){super(),this.isStopped=!1,s?(this.destination=s,k(s)&&s.add(this)):this.destination=L}static create(s,a,P){return new u(s,a,P)}next(s){this.isStopped?T(function c(e){return o("N",e,void 0)}(s),this):this._next(s)}error(s){this.isStopped?T(function n(e){return o("E",void 0,e)}(s),this):(this.isStopped=!0,this._error(s))}complete(){this.isStopped?T(r,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(s){this.destination.next(s)}_error(s){try{this.destination.error(s)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const p=Function.prototype.bind;function A(e,s){return p.call(e,s)}class m{constructor(s){this.partialObserver=s}next(s){const{partialObserver:a}=this;if(a.next)try{a.next(s)}catch(P){g(P)}}error(s){const{partialObserver:a}=this;if(a.error)try{a.error(s)}catch(P){g(P)}else g(s)}complete(){const{partialObserver:s}=this;if(s.complete)try{s.complete()}catch(a){g(a)}}}class u extends b{constructor(s,a,P){let j;if(super(),Ga(s)||!s)j={next:s??void 0,error:a??void 0,complete:P??void 0};else{let ie;this&&R.useDeprecatedNextContext?(ie=Object.create(s),ie.unsubscribe=()=>this.unsubscribe(),j={next:s.next&&A(s.next,ie),error:s.error&&A(s.error,ie),complete:s.complete&&A(s.complete,ie)}):j=s}this.destination=new m(j)}}function g(e){R.useDeprecatedSynchronousErrorHandling?function d(e){R.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=e)}(e):v(e)}function T(e,s){const{onStoppedNotification:a}=R;a&&I.setTimeout(()=>a(e,s))}const L={closed:!0,next:w,error:function C(e){throw e},complete:w},x="function"==typeof Symbol&&Symbol.observable||"@@observable";function E(e){return e}function i(e){return 0===e.length?E:1===e.length?e[0]:function(a){return e.reduce((P,j)=>j(P),a)}}let D=(()=>{class e{constructor(a){a&&(this._subscribe=a)}lift(a){const P=new e;return P.source=this,P.operator=a,P}subscribe(a,P,j){const ie=function F(e){return e&&e instanceof b||function B(e){return e&&Ga(e.next)&&Ga(e.error)&&Ga(e.complete)}(e)&&k(e)}(a)?a:new u(a,P,j);return h(()=>{const{operator:ye,source:Fe}=this;ie.add(ye?ye.call(ie,Fe):Fe?this._subscribe(ie):this._trySubscribe(ie))}),ie}_trySubscribe(a){try{return this._subscribe(a)}catch(P){a.error(P)}}forEach(a,P){return new(P=y(P))((j,ie)=>{const ye=new u({next:Fe=>{try{a(Fe)}catch(Xe){ie(Xe),ye.unsubscribe()}},error:ie,complete:j});this.subscribe(ye)})}_subscribe(a){var P;return null===(P=this.source)||void 0===P?void 0:P.subscribe(a)}[x](){return this}pipe(...a){return i(a)(this)}toPromise(a){return new(a=y(a))((P,j)=>{let ie;this.subscribe(ye=>ie=ye,ye=>j(ye),()=>P(ie))})}}return e.create=s=>new e(s),e})();function y(e){var s;return null!==(s=e??R.Promise)&&void 0!==s?s:Promise}const _=r0(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let z=(()=>{class e extends D{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(a){const P=new V(this,this);return P.operator=a,P}_throwIfClosed(){if(this.closed)throw new _}next(a){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const P of this.currentObservers)P.next(a)}})}error(a){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=a;const{observers:P}=this;for(;P.length;)P.shift().error(a)}})}complete(){h(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:a}=this;for(;a.length;)a.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var a;return(null===(a=this.observers)||void 0===a?void 0:a.length)>0}_trySubscribe(a){return this._throwIfClosed(),super._trySubscribe(a)}_subscribe(a){return this._throwIfClosed(),this._checkFinalizedStatuses(a),this._innerSubscribe(a)}_innerSubscribe(a){const{hasError:P,isStopped:j,observers:ie}=this;return P||j?S:(this.currentObservers=null,ie.push(a),new t(()=>{this.currentObservers=null,J(ie,a)}))}_checkFinalizedStatuses(a){const{hasError:P,thrownError:j,isStopped:ie}=this;P?a.error(j):ie&&a.complete()}asObservable(){const a=new D;return a.source=this,a}}return e.create=(s,a)=>new V(s,a),e})();class V extends z{constructor(s,a){super(),this.destination=s,this.source=a}next(s){var a,P;null===(P=null===(a=this.destination)||void 0===a?void 0:a.next)||void 0===P||P.call(a,s)}error(s){var a,P;null===(P=null===(a=this.destination)||void 0===a?void 0:a.error)||void 0===P||P.call(a,s)}complete(){var s,a;null===(a=null===(s=this.destination)||void 0===s?void 0:s.complete)||void 0===a||a.call(s)}_subscribe(s){var a,P;return null!==(P=null===(a=this.source)||void 0===a?void 0:a.subscribe(s))&&void 0!==P?P:S}}function H(e){return Ga(e?.lift)}function U(e){return s=>{if(H(s))return s.lift(function(a){try{return e(a,this)}catch(P){this.error(P)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(e,s,a,P,j){return new Y(e,s,a,P,j)}class Y extends b{constructor(s,a,P,j,ie,ye){super(s),this.onFinalize=ie,this.shouldUnsubscribe=ye,this._next=a?function(Fe){try{a(Fe)}catch(Xe){s.error(Xe)}}:super._next,this._error=j?function(Fe){try{j(Fe)}catch(Xe){s.error(Xe)}finally{this.unsubscribe()}}:super._error,this._complete=P?function(){try{P()}catch(Fe){s.error(Fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var s;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:a}=this;super.unsubscribe(),!a&&(null===(s=this.onFinalize)||void 0===s||s.call(this))}}}function ee(e,s){return U((a,P)=>{let j=0;a.subscribe(G(P,ie=>{P.next(e.call(s,ie,j++))}))})}function Ce(e){return this instanceof Ce?(this.v=e,this):new Ce(e)}function Qe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,s=e[Symbol.asyncIterator];return s?s.call(e):(e=function Ee(e){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&e[s],P=0;if(a)return a.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&P>=e.length&&(e=void 0),{value:e&&e[P++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),a={},P("next"),P("throw"),P("return"),a[Symbol.asyncIterator]=function(){return this},a);function P(ie){a[ie]=e[ie]&&function(ye){return new Promise(function(Fe,Xe){!function j(ie,ye,Fe,Xe){Promise.resolve(Xe).then(function(yt){ie({value:yt,done:Fe})},ye)}(Fe,Xe,(ye=e[ie](ye)).done,ye.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const _t=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function nt(e){return Ga(e?.then)}function ke(e){return Ga(e[x])}function Re(e){return Symbol.asyncIterator&&Ga(e?.[Symbol.asyncIterator])}function Be(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ye=function He(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ue(e){return Ga(e?.[Ye])}function De(e){return function Ie(e,s,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j,P=a.apply(e,s||[]),ie=[];return j={},ye("next"),ye("throw"),ye("return"),j[Symbol.asyncIterator]=function(){return this},j;function ye(Rr){P[Rr]&&(j[Rr]=function(Kr){return new Promise(function(Sn,Rn){ie.push([Rr,Kr,Sn,Rn])>1||Fe(Rr,Kr)})})}function Fe(Rr,Kr){try{!function Xe(Rr){Rr.value instanceof Ce?Promise.resolve(Rr.value.v).then(yt,Vt):tr(ie[0][2],Rr)}(P[Rr](Kr))}catch(Sn){tr(ie[0][3],Sn)}}function yt(Rr){Fe("next",Rr)}function Vt(Rr){Fe("throw",Rr)}function tr(Rr,Kr){Rr(Kr),ie.shift(),ie.length&&Fe(ie[0][0],ie[0][1])}}(this,arguments,function*(){const a=e.getReader();try{for(;;){const{value:P,done:j}=yield Ce(a.read());if(j)return yield Ce(void 0);yield yield Ce(P)}}finally{a.releaseLock()}})}function ge(e){return Ga(e?.getReader)}function Te(e){if(e instanceof D)return e;if(null!=e){if(ke(e))return function _e(e){return new D(s=>{const a=e[x]();if(Ga(a.subscribe))return a.subscribe(s);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(_t(e))return function et(e){return new D(s=>{for(let a=0;a<e.length&&!s.closed;a++)s.next(e[a]);s.complete()})}(e);if(nt(e))return function ft(e){return new D(s=>{e.then(a=>{s.closed||(s.next(a),s.complete())},a=>s.error(a)).then(null,v)})}(e);if(Re(e))return Kt(e);if(Ue(e))return function gt(e){return new D(s=>{for(const a of e)if(s.next(a),s.closed)return;s.complete()})}(e);if(ge(e))return function ir(e){return Kt(De(e))}(e)}throw Be(e)}function Kt(e){return new D(s=>{(function Lt(e,s){var a,P,j,ie;return function le(e,s,a,P){return new(a||(a=Promise))(function(ie,ye){function Fe(Vt){try{yt(P.next(Vt))}catch(tr){ye(tr)}}function Xe(Vt){try{yt(P.throw(Vt))}catch(tr){ye(tr)}}function yt(Vt){Vt.done?ie(Vt.value):function j(ie){return ie instanceof a?ie:new a(function(ye){ye(ie)})}(Vt.value).then(Fe,Xe)}yt((P=P.apply(e,s||[])).next())})}(this,void 0,void 0,function*(){try{for(a=Qe(e);!(P=yield a.next()).done;)if(s.next(P.value),s.closed)return}catch(ye){j={error:ye}}finally{try{P&&!P.done&&(ie=a.return)&&(yield ie.call(a))}finally{if(j)throw j.error}}s.complete()})})(e,s).catch(a=>s.error(a))})}function Ut(e,s,a,P=0,j=!1){const ie=s.schedule(function(){a(),j?e.add(this.schedule(null,P)):this.unsubscribe()},P);if(e.add(ie),!j)return ie}function Cr(e,s,a=1/0){return Ga(s)?Cr((P,j)=>ee((ie,ye)=>s(P,ie,j,ye))(Te(e(P,j))),a):("number"==typeof s&&(a=s),U((P,j)=>function Qt(e,s,a,P,j,ie,ye,Fe){const Xe=[];let yt=0,Vt=0,tr=!1;const Rr=()=>{tr&&!Xe.length&&!yt&&s.complete()},Kr=Rn=>yt<P?Sn(Rn):Xe.push(Rn),Sn=Rn=>{ie&&s.next(Rn),yt++;let Yn=!1;Te(a(Rn,Vt++)).subscribe(G(s,Jn=>{j?.(Jn),ie?Kr(Jn):s.next(Jn)},()=>{Yn=!0},void 0,()=>{if(Yn)try{for(yt--;Xe.length&&yt<P;){const Jn=Xe.shift();ye?Ut(s,ye,()=>Sn(Jn)):Sn(Jn)}Rr()}catch(Jn){s.error(Jn)}}))};return e.subscribe(G(s,Kr,()=>{tr=!0,Rr()})),()=>{Fe?.()}}(P,j,e,a)))}function wt(e=1/0){return Cr(E,e)}const $t=new D(e=>e.complete());function bt(e){return e[e.length-1]}function ct(e){return Ga(bt(e))?e.pop():void 0}function At(e){return function mr(e){return e&&Ga(e.schedule)}(bt(e))?e.pop():void 0}function Ft(e,s=0){return U((a,P)=>{a.subscribe(G(P,j=>Ut(P,e,()=>P.next(j),s),()=>Ut(P,e,()=>P.complete(),s),j=>Ut(P,e,()=>P.error(j),s)))})}function Rt(e,s=0){return U((a,P)=>{P.add(e.schedule(()=>a.subscribe(P),s))})}function hr(e,s){if(!e)throw new Error("Iterable cannot be null");return new D(a=>{Ut(a,s,()=>{const P=e[Symbol.asyncIterator]();Ut(a,s,()=>{P.next().then(j=>{j.done?a.complete():a.next(j.value)})},0,!0)})})}function Ze(e,s){return s?function $e(e,s){if(null!=e){if(ke(e))return function Gt(e,s){return Te(e).pipe(Rt(s),Ft(s))}(e,s);if(_t(e))return function er(e,s){return new D(a=>{let P=0;return s.schedule(function(){P===e.length?a.complete():(a.next(e[P++]),a.closed||this.schedule())})})}(e,s);if(nt(e))return function jt(e,s){return Te(e).pipe(Rt(s),Ft(s))}(e,s);if(Re(e))return hr(e,s);if(Ue(e))return function dr(e,s){return new D(a=>{let P;return Ut(a,s,()=>{P=e[Ye](),Ut(a,s,()=>{let j,ie;try{({value:j,done:ie}=P.next())}catch(ye){return void a.error(ye)}ie?a.complete():a.next(j)},0,!0)}),()=>Ga(P?.return)&&P.return()})}(e,s);if(ge(e))return function wr(e,s){return hr(De(e),s)}(e,s)}throw Be(e)}(e,s):Te(e)}class kt extends z{constructor(s){super(),this._value=s}get value(){return this.getValue()}_subscribe(s){const a=super._subscribe(s);return!a.closed&&s.next(this._value),a}getValue(){const{hasError:s,thrownError:a,_value:P}=this;if(s)throw a;return this._throwIfClosed(),P}next(s){super.next(this._value=s)}}function Xt(...e){return Ze(e,At(e))}function ur(e={}){const{connector:s=(()=>new z),resetOnError:a=!0,resetOnComplete:P=!0,resetOnRefCountZero:j=!0}=e;return ie=>{let ye,Fe,Xe,yt=0,Vt=!1,tr=!1;const Rr=()=>{Fe?.unsubscribe(),Fe=void 0},Kr=()=>{Rr(),ye=Xe=void 0,Vt=tr=!1},Sn=()=>{const Rn=ye;Kr(),Rn?.unsubscribe()};return U((Rn,Yn)=>{yt++,!tr&&!Vt&&Rr();const Jn=Xe=Xe??s();Yn.add(()=>{yt--,0===yt&&!tr&&!Vt&&(Fe=vr(Sn,j))}),Jn.subscribe(Yn),!ye&&yt>0&&(ye=new u({next:Xn=>Jn.next(Xn),error:Xn=>{tr=!0,Rr(),Fe=vr(Kr,a,Xn),Jn.error(Xn)},complete:()=>{Vt=!0,Rr(),Fe=vr(Kr,P),Jn.complete()}}),Te(Rn).subscribe(ye))})(ie)}}function vr(e,s,...a){if(!0===s)return void e();if(!1===s)return;const P=new u({next:()=>{P.unsubscribe(),e()}});return Te(s(...a)).subscribe(P)}function or(e,s){return U((a,P)=>{let j=null,ie=0,ye=!1;const Fe=()=>ye&&!j&&P.complete();a.subscribe(G(P,Xe=>{j?.unsubscribe();let yt=0;const Vt=ie++;Te(e(Xe,Vt)).subscribe(j=G(P,tr=>P.next(s?s(Xe,tr,Vt,yt++):tr),()=>{j=null,Fe()}))},()=>{ye=!0,Fe()}))})}function pr(e,s){return e===s}function xr(e){for(let s in e)if(e[s]===xr)return s;throw Error("Could not find renamed property on target object.")}function Mr(e,s){for(const a in s)s.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(e[a]=s[a])}function kr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(kr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const s=e.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function un(e,s){return null==e||""===e?null===s?"":s:null==s||""===s?e:e+" "+s}const Nr=xr({__forward_ref__:xr});function Yr(e){return e.__forward_ref__=Yr,e.toString=function(){return kr(this())},e}function $r(e){return Qr(e)?e():e}function Qr(e){return"function"==typeof e&&e.hasOwnProperty(Nr)&&e.__forward_ref__===Yr}function Wn(e){return e&&!!e.\u0275providers}const Tr="https://g.co/ng/security#xss";class nr extends Error{constructor(s,a){super(function Xr(e,s){return`NG0${Math.abs(e)}${s?": "+s:""}`}(s,a)),this.code=s}}function Ur(e){return"string"==typeof e?e:null==e?"":String(e)}function Vn(e,s){throw new nr(-201,!1)}function ii(e,s){null==e&&function $n(e,s,a,P){throw new Error(`ASSERTION ERROR: ${e}`+(null==P?"":` [Expected=> ${a} ${P} ${s} <=Actual]`))}(s,e,null,"!=")}function jr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Bn(e){return Tn(e,Gr)||Tn(e,Zn)}function Tn(e,s){return e.hasOwnProperty(s)?e[s]:null}function Or(e){return e&&(e.hasOwnProperty(Mn)||e.hasOwnProperty(fi))?e[Mn]:null}const Gr=xr({\u0275prov:xr}),Mn=xr({\u0275inj:xr}),Zn=xr({ngInjectableDef:xr}),fi=xr({ngInjectorDef:xr});var dn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(dn||{});let _n;function wi(e){const s=_n;return _n=e,s}function Fi(e,s,a){const P=Bn(e);return P&&"root"==P.providedIn?void 0===P.value?P.value=P.factory():P.value:a&dn.Optional?null:void 0!==s?s:void Vn(kr(e))}const mi=globalThis,lo={},wu="__NG_DI_FLAG__",xs="ngTempTokenPath",hc=/\n/gm,nl="__source";let Ao;function po(e){const s=Ao;return Ao=e,s}function cf(e,s=dn.Default){if(void 0===Ao)throw new nr(-203,!1);return null===Ao?Fi(e,void 0,s):Ao.get(e,s&dn.Optional?null:void 0,s)}function Ji(e,s=dn.Default){return(function gi(){return _n}()||cf)($r(e),s)}function Ki(e,s=dn.Default){return Ji(e,zs(s))}function zs(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Tl(e){const s=[];for(let a=0;a<e.length;a++){const P=$r(e[a]);if(Array.isArray(P)){if(0===P.length)throw new nr(900,!1);let j,ie=dn.Default;for(let ye=0;ye<P.length;ye++){const Fe=P[ye],Xe=Gc(Fe);"number"==typeof Xe?-1===Xe?j=Fe.token:ie|=Xe:j=Fe}s.push(Ji(j,ie))}else s.push(Ji(P))}return s}function eu(e,s){return e[wu]=s,e.prototype[wu]=s,e}function Gc(e){return e[wu]}function Al(e){return{toString:e}.toString()}var Pf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Pf||{}),il=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(il||{});const Ys={},_a=[],Rf=xr({\u0275cmp:xr}),Ff=xr({\u0275dir:xr}),dc=xr({\u0275pipe:xr}),_c=xr({\u0275mod:xr}),Ml=xr({\u0275fac:xr}),hf=xr({__NG_ELEMENT_ID__:xr}),Vl=xr({__NG_ENV_ID__:xr});function Tu(e,s,a){let P=e.length;for(;;){const j=e.indexOf(s,a);if(-1===j)return j;if(0===j||e.charCodeAt(j-1)<=32){const ie=s.length;if(j+ie===P||e.charCodeAt(j+ie)<=32)return j}a=j+1}}function tu(e,s,a){let P=0;for(;P<a.length;){const j=a[P];if("number"==typeof j){if(0!==j)break;P++;const ie=a[P++],ye=a[P++],Fe=a[P++];e.setAttribute(s,ye,Fe,ie)}else{const ie=j,ye=a[++P];kf(ie)?e.setProperty(s,ie,ye):e.setAttribute(s,ie,ye),P++}}return P}function df(e){return 3===e||4===e||6===e}function kf(e){return 64===e.charCodeAt(0)}function ru(e,s){if(null!==s&&0!==s.length)if(null===e||0===e.length)e=s.slice();else{let a=-1;for(let P=0;P<s.length;P++){const j=s[P];"number"==typeof j?a=j:0===a||jc(e,a,j,null,-1===a||2===a?s[++P]:null)}}return e}function jc(e,s,a,P,j){let ie=0,ye=e.length;if(-1===s)ye=-1;else for(;ie<e.length;){const Fe=e[ie++];if("number"==typeof Fe){if(Fe===s){ye=-1;break}if(Fe>s){ye=ie-1;break}}}for(;ie<e.length;){const Fe=e[ie];if("number"==typeof Fe)break;if(Fe===a){if(null===P)return void(null!==j&&(e[ie+1]=j));if(P===e[ie+1])return void(e[ie+2]=j)}ie++,null!==P&&ie++,null!==j&&ie++}-1!==ye&&(e.splice(ye,0,s),ie=ye+1),e.splice(ie++,0,a),null!==P&&e.splice(ie++,0,P),null!==j&&e.splice(ie++,0,j)}const Hl="ng-template";function al(e,s,a){let P=0,j=!0;for(;P<e.length;){let ie=e[P++];if("string"==typeof ie&&j){const ye=e[P++];if(a&&"class"===ie&&-1!==Tu(ye.toLowerCase(),s,0))return!0}else{if(1===ie){for(;P<e.length&&"string"==typeof(ie=e[P++]);)if(ie.toLowerCase()===s)return!0;return!1}"number"==typeof ie&&(j=!1)}}return!1}function Gu(e){return 4===e.type&&e.value!==Hl}function Au(e,s,a){return s===(4!==e.type||a?e.value:Hl)}function Of(e,s,a){let P=4;const j=e.attrs||[],ie=function ol(e){for(let s=0;s<e.length;s++)if(df(e[s]))return s;return e.length}(j);let ye=!1;for(let Fe=0;Fe<s.length;Fe++){const Xe=s[Fe];if("number"!=typeof Xe){if(!ye)if(4&P){if(P=2|1&P,""!==Xe&&!Au(e,Xe,a)||""===Xe&&1===s.length){if(yo(P))return!1;ye=!0}}else{const yt=8&P?Xe:s[++Fe];if(8&P&&null!==e.attrs){if(!al(e.attrs,yt,a)){if(yo(P))return!1;ye=!0}continue}const tr=nu(8&P?"class":Xe,j,Gu(e),a);if(-1===tr){if(yo(P))return!1;ye=!0;continue}if(""!==yt){let Rr;Rr=tr>ie?"":j[tr+1].toLowerCase();const Kr=8&P?Rr:null;if(Kr&&-1!==Tu(Kr,yt,0)||2&P&&yt!==Rr){if(yo(P))return!1;ye=!0}}}}else{if(!ye&&!yo(P)&&!yo(Xe))return!1;if(ye&&yo(Xe))continue;ye=!1,P=Xe|1&P}}return yo(P)||ye}function yo(e){return 0==(1&e)}function nu(e,s,a,P){if(null===s)return-1;let j=0;if(P||!a){let ie=!1;for(;j<s.length;){const ye=s[j];if(ye===e)return j;if(3===ye||6===ye)ie=!0;else{if(1===ye||2===ye){let Fe=s[++j];for(;"string"==typeof Fe;)Fe=s[++j];continue}if(4===ye)break;if(0===ye){j+=4;continue}}j+=ie?1:2}return-1}return function Ro(e,s){let a=e.indexOf(4);if(a>-1)for(a++;a<e.length;){const P=e[a];if("number"==typeof P)return-1;if(P===s)return a;a++}return-1}(s,e)}function Nf(e,s,a=!1){for(let P=0;P<s.length;P++)if(Of(e,s[P],a))return!0;return!1}function Bf(e,s){return e?":not("+s.trim()+")":s}function _u(e){let s=e[0],a=1,P=2,j="",ie=!1;for(;a<e.length;){let ye=e[a];if("string"==typeof ye)if(2&P){const Fe=e[++a];j+="["+ye+(Fe.length>0?'="'+Fe+'"':"")+"]"}else 8&P?j+="."+ye:4&P&&(j+=" "+ye);else""!==j&&!yo(ye)&&(s+=Bf(ie,j),j=""),P=ye,ie=ie||!yo(P);a++}return""!==j&&(s+=Bf(ie,j)),s}function Bs(e){return Al(()=>{const s=gc(e),a={...s,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Pf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||il.Emulated,styles:e.styles||_a,_:null,schemas:e.schemas||null,tView:null,id:""};eo(a);const P=e.dependencies;return a.directiveDefs=_l(P,!1),a.pipeDefs=_l(P,!0),a.id=function Us(e){let s=0;const a=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const j of a)s=Math.imul(31,s)+j.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function ju(e){return Ma(e)||Fo(e)}function Gl(e){return null!==e}function Yo(e){return Al(()=>({type:e.type,bootstrap:e.bootstrap||_a,declarations:e.declarations||_a,imports:e.imports||_a,exports:e.exports||_a,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Vf(e,s){if(null==e)return Ys;const a={};for(const P in e)if(e.hasOwnProperty(P)){let j=e[P],ie=j;Array.isArray(j)&&(ie=j[1],j=j[0]),a[j]=P,s&&(s[j]=ie)}return a}function va(e){return Al(()=>{const s=gc(e);return eo(s),s})}function ls(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ma(e){return e[Rf]||null}function Fo(e){return e[Ff]||null}function us(e){return e[dc]||null}function Es(e,s){const a=e[_c]||null;if(!a&&!0===s)throw new Error(`Type ${kr(e)} does not have '\u0275mod' property.`);return a}function gc(e){const s={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:e.inputs||Ys,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||_a,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vf(e.inputs,s),outputs:Vf(e.outputs)}}function eo(e){e.features?.forEach(s=>s(e))}function _l(e,s){if(!e)return null;const a=s?us:ju;return()=>("function"==typeof e?e():e).map(P=>a(P)).filter(Gl)}const to=0,Zi=1,oa=2,Za=3,ko=4,bs=5,uo=6,Ds=7,Xa=8,ws=9,Vs=10,fa=11,Su=12,Hf=13,jl=14,no=15,Cu=16,Wu=17,El=18,Yu=19,yc=20,Wl=21,Zs=22,Mo=23,fs=24,wa=25,iu=1,_f=2,Xs=7,Xu=9,fo=11;function Xo(e){return Array.isArray(e)&&"object"==typeof e[iu]}function Ko(e){return Array.isArray(e)&&!0===e[iu]}function Yl(e){return 0!=(4&e.flags)}function au(e){return e.componentOffset>-1}function sl(e){return 1==(1&e.flags)}function Ts(e){return!!e.template}function ll(e){return 0!=(512&e[oa])}function lu(e,s){return e.hasOwnProperty(Ml)?e[Ml]:null}let Oo=null,Dl=!1;function _o(e){const s=Oo;return Oo=e,s}const Xf={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Du(e){if(!Ls(e)||e.dirty){if(!e.producerMustRecompute(e)&&!uu(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function qu(e){e.dirty=!0,function Lu(e){if(void 0===e.liveConsumerNode)return;const s=Dl;Dl=!0;try{for(const a of e.liveConsumerNode)a.dirty||qu(a)}finally{Dl=s}}(e),e.consumerMarkedDirty?.(e)}function Kf(e){return e&&(e.nextProducerIndex=0),_o(e)}function gf(e,s){if(_o(s),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ls(e))for(let a=e.nextProducerIndex;a<e.producerNode.length;a++)Pu(e.producerNode[a],e.producerIndexOfThis[a]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function uu(e){fl(e);for(let s=0;s<e.producerNode.length;s++){const a=e.producerNode[s],P=e.producerLastReadVersion[s];if(P!==a.version||(Du(a),P!==a.version))return!0}return!1}function As(e){if(fl(e),Ls(e))for(let s=0;s<e.producerNode.length;s++)Pu(e.producerNode[s],e.producerIndexOfThis[s]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Pu(e,s){if(function fu(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),fl(e),1===e.liveConsumerNode.length)for(let P=0;P<e.producerNode.length;P++)Pu(e.producerNode[P],e.producerIndexOfThis[P]);const a=e.liveConsumerNode.length-1;if(e.liveConsumerNode[s]=e.liveConsumerNode[a],e.liveConsumerIndexOfThis[s]=e.liveConsumerIndexOfThis[a],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,s<e.liveConsumerNode.length){const P=e.liveConsumerIndexOfThis[s],j=e.liveConsumerNode[s];fl(j),j.producerIndexOfThis[P]=s}}function Ls(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function fl(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let st=null;const Pn=()=>{},ti=(()=>({...Xf,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Pn}))();class Yi{constructor(s,a,P){this.previousValue=s,this.currentValue=a,this.firstChange=P}isFirstChange(){return this.firstChange}}function ji(){return $i}function $i(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ha),sa}function sa(){const e=Ci(this),s=e?.current;if(s){const a=e.previous;if(a===Ys)e.previous=s;else for(let P in s)a[P]=s[P];e.current=null,this.ngOnChanges(s)}}function Ha(e,s,a,P){const j=this.declaredInputs[a],ie=Ci(e)||function ro(e,s){return e[Wa]=s}(e,{previous:Ys,current:null}),ye=ie.current||(ie.current={}),Fe=ie.previous,Xe=Fe[j];ye[j]=new Yi(Xe&&Xe.currentValue,s,Fe===Ys),e[P]=s}ji.ngInherit=!0;const Wa="__ngSimpleChanges__";function Ci(e){return e[Wa]||null}const No=function(e,s,a){},Ja="svg";function Ae(e){for(;Array.isArray(e);)e=e[to];return e}function it(e,s){return Ae(s[e])}function at(e,s){return Ae(s[e.index])}function Nt(e,s){return e.data[s]}function Yt(e,s){const a=s[e];return Xo(a)?a:a[to]}function Fr(e,s){return null==s?null:e[s]}function fn(e){e[Wu]=0}function yn(e){1024&e[oa]||(e[oa]|=1024,Wr(e,1))}function Hr(e){1024&e[oa]&&(e[oa]&=-1025,Wr(e,-1))}function Wr(e,s){let a=e[Za];if(null===a)return;a[bs]+=s;let P=a;for(a=a[Za];null!==a&&(1===s&&1===P[bs]||-1===s&&0===P[bs]);)a[bs]+=s,P=a,a=a[Za]}const rn={lFrame:ef(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ii(){return rn.bindingsEnabled}function Gn(){return rn.lFrame.lView}function Kn(){return rn.lFrame.tView}function ai(){let e=Ni();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ni(){return rn.lFrame.currentTNode}function za(e,s){const a=rn.lFrame;a.currentTNode=e,a.isParent=s}function ho(){return rn.lFrame.isParent}function ya(){const e=rn.lFrame;let s=e.bindingRootIndex;return-1===s&&(s=e.bindingRootIndex=e.tView.bindingStartIndex),s}function ga(){return rn.lFrame.bindingIndex++}function Is(e,s){const a=rn.lFrame;a.bindingIndex=a.bindingRootIndex=e,Qs(s)}function Qs(e){rn.lFrame.currentDirectiveIndex=e}function Xl(e){rn.lFrame.currentQueryIndex=e}function Vd(e){const s=e[Zi];return 2===s.type?s.declTNode:1===s.type?e[uo]:null}function ed(e,s,a){if(a&dn.SkipSelf){let j=s,ie=e;for(;!(j=j.parent,null!==j||a&dn.Host||(j=Vd(ie),null===j||(ie=ie[jl],10&j.type))););if(null===j)return!1;s=j,e=ie}const P=rn.lFrame=Dh();return P.currentTNode=s,P.lView=e,!0}function Tc(e){const s=Dh(),a=e[Zi];rn.lFrame=s,s.currentTNode=a.firstChild,s.lView=e,s.tView=a,s.contextLView=e,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Dh(){const e=rn.lFrame,s=null===e?null:e.child;return null===s?ef(e):s}function ef(e){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=s),s}function dl(){const e=rn.lFrame;return rn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const tf=dl;function Ac(){const e=dl();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Gs(){return rn.lFrame.selectedIndex}function Il(e){rn.lFrame.selectedIndex=e}function mo(){const e=rn.lFrame;return Nt(e.tView,e.selectedIndex)}function $f(){rn.lFrame.currentNamespace=Ja}let nd=!0;function xf(){return nd}function bf(e){nd=e}function Pl(e,s){for(let a=s.directiveStart,P=s.directiveEnd;a<P;a++){const ie=e.data[a].type.prototype,{ngAfterContentInit:ye,ngAfterContentChecked:Fe,ngAfterViewInit:Xe,ngAfterViewChecked:yt,ngOnDestroy:Vt}=ie;ye&&(e.contentHooks??=[]).push(-a,ye),Fe&&((e.contentHooks??=[]).push(a,Fe),(e.contentCheckHooks??=[]).push(a,Fe)),Xe&&(e.viewHooks??=[]).push(-a,Xe),yt&&((e.viewHooks??=[]).push(a,yt),(e.viewCheckHooks??=[]).push(a,yt)),null!=Vt&&(e.destroyHooks??=[]).push(a,Vt)}}function Lh(e,s,a){Hd(e,s,3,a)}function Ih(e,s,a,P){(3&e[oa])===a&&Hd(e,s,a,P)}function Ph(e,s){let a=e[oa];(3&a)===s&&(a&=8191,a+=1,e[oa]=a)}function Hd(e,s,a,P){const ie=P??-1,ye=s.length-1;let Fe=0;for(let Xe=void 0!==P?65535&e[Wu]:0;Xe<ye;Xe++)if("number"==typeof s[Xe+1]){if(Fe=s[Xe],null!=P&&Fe>=P)break}else s[Xe]<0&&(e[Wu]+=65536),(Fe<ie||-1==ie)&&(X(e,a,s,Xe),e[Wu]=(4294901760&e[Wu])+Xe+2),Xe++}function ve(e,s){No(4,e,s);const a=_o(null);try{s.call(e)}finally{_o(a),No(5,e,s)}}function X(e,s,a,P){const j=a[P]<0,ie=a[P+1],Fe=e[j?-a[P]:a[P]];j?e[oa]>>13<e[Wu]>>16&&(3&e[oa])===s&&(e[oa]+=8192,ve(Fe,ie)):ve(Fe,ie)}const xe=-1;class ne{constructor(s,a,P){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=P}}function Er(e){return e!==xe}function Vr(e){return 32767&e}function tn(e,s){let a=function nn(e){return e>>16}(e),P=s;for(;a>0;)P=P[jl],a--;return P}let Jr=!0;function ln(e){const s=Jr;return Jr=e,s}const Un=255,jn=5;let ui=0;const ni={};function Ai(e,s){const a=Ri(e,s);if(-1!==a)return a;const P=s[Zi];P.firstCreatePass&&(e.injectorIndex=s.length,Pi(P.data,e),Pi(s,null),Pi(P.blueprint,null));const j=Oi(e,s),ie=e.injectorIndex;if(Er(j)){const ye=Vr(j),Fe=tn(j,s),Xe=Fe[Zi].data;for(let yt=0;yt<8;yt++)s[ie+yt]=Fe[ye+yt]|Xe[ye+yt]}return s[ie+8]=j,ie}function Pi(e,s){e.push(0,0,0,0,0,0,0,0,s)}function Ri(e,s){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===s[e.injectorIndex+8]?-1:e.injectorIndex}function Oi(e,s){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let a=0,P=null,j=s;for(;null!==j;){if(P=Ru(j),null===P)return xe;if(a++,j=j[jl],-1!==P.injectorIndex)return P.injectorIndex|a<<16}return xe}function Vi(e,s,a){!function ci(e,s,a){let P;"string"==typeof a?P=a.charCodeAt(0)||0:a.hasOwnProperty(hf)&&(P=a[hf]),null==P&&(P=a[hf]=ui++);const j=P&Un;s.data[e+(j>>jn)]|=1<<j}(e,s,a)}function ca(e,s,a){if(a&dn.Optional||void 0!==e)return e;Vn()}function Oa(e,s,a,P){if(a&dn.Optional&&void 0===P&&(P=null),!(a&(dn.Self|dn.Host))){const j=e[ws],ie=wi(void 0);try{return j?j.get(s,P,a&dn.Optional):Fi(s,P,a&dn.Optional)}finally{wi(ie)}}return ca(P,0,a)}function da(e,s,a,P=dn.Default,j){if(null!==e){if(2048&s[oa]&&!(P&dn.Self)){const ye=function rf(e,s,a,P,j){let ie=e,ye=s;for(;null!==ie&&null!==ye&&2048&ye[oa]&&!(512&ye[oa]);){const Fe=Aa(ie,ye,a,P|dn.Self,ni);if(Fe!==ni)return Fe;let Xe=ie.parent;if(!Xe){const yt=ye[yc];if(yt){const Vt=yt.get(a,ni,P);if(Vt!==ni)return Vt}Xe=Ru(ye),ye=ye[jl]}ie=Xe}return j}(e,s,a,P,ni);if(ye!==ni)return ye}const ie=Aa(e,s,a,P,ni);if(ie!==ni)return ie}return Oa(s,a,P,j)}function Aa(e,s,a,P,j){const ie=function Ka(e){if("string"==typeof e)return e.charCodeAt(0)||0;const s=e.hasOwnProperty(hf)?e[hf]:void 0;return"number"==typeof s?s>=0?s&Un:is:s}(a);if("function"==typeof ie){if(!ed(s,e,P))return P&dn.Host?ca(j,0,P):Oa(s,a,P,j);try{let ye;if(ye=ie(P),null!=ye||P&dn.Optional)return ye;Vn()}finally{tf()}}else if("number"==typeof ie){let ye=null,Fe=Ri(e,s),Xe=xe,yt=P&dn.Host?s[no][uo]:null;for((-1===Fe||P&dn.SkipSelf)&&(Xe=-1===Fe?Oi(e,s):s[Fe+8],Xe!==xe&&Qa(P,!1)?(ye=s[Zi],Fe=Vr(Xe),s=tn(Xe,s)):Fe=-1);-1!==Fe;){const Vt=s[Zi];if(Ca(ie,Fe,Vt.data)){const tr=Xi(Fe,s,a,ye,P,yt);if(tr!==ni)return tr}Xe=s[Fe+8],Xe!==xe&&Qa(P,s[Zi].data[Fe+8]===yt)&&Ca(ie,Fe,s)?(ye=Vt,Fe=Vr(Xe),s=tn(Xe,s)):Fe=-1}}return j}function Xi(e,s,a,P,j,ie){const ye=s[Zi],Fe=ye.data[e+8],Vt=function Ia(e,s,a,P,j){const ie=e.providerIndexes,ye=s.data,Fe=1048575&ie,Xe=e.directiveStart,Vt=ie>>20,Rr=j?Fe+Vt:e.directiveEnd;for(let Kr=P?Fe:Fe+Vt;Kr<Rr;Kr++){const Sn=ye[Kr];if(Kr<Xe&&a===Sn||Kr>=Xe&&Sn.type===a)return Kr}if(j){const Kr=ye[Xe];if(Kr&&Ts(Kr)&&Kr.type===a)return Xe}return null}(Fe,ye,a,null==P?au(Fe)&&Jr:P!=ye&&0!=(3&Fe.type),j&dn.Host&&ie===Fe);return null!==Vt?Sa(s,ye,Vt,Fe):ni}function Sa(e,s,a,P){let j=e[a];const ie=s.data;if(function be(e){return e instanceof ne}(j)){const ye=j;ye.resolving&&function Cn(e,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${e}`:"";throw new nr(-200,`Circular dependency in DI detected for ${e}${a}`)}(function an(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ur(e)}(ie[a]));const Fe=ln(ye.canSeeViewProviders);ye.resolving=!0;const yt=ye.injectImpl?wi(ye.injectImpl):null;ed(e,P,dn.Default);try{j=e[a]=ye.factory(void 0,ie,e,P),s.firstCreatePass&&a>=P.directiveStart&&function Uv(e,s,a){const{ngOnChanges:P,ngOnInit:j,ngDoCheck:ie}=s.type.prototype;if(P){const ye=$i(s);(a.preOrderHooks??=[]).push(e,ye),(a.preOrderCheckHooks??=[]).push(e,ye)}j&&(a.preOrderHooks??=[]).push(0-e,j),ie&&((a.preOrderHooks??=[]).push(e,ie),(a.preOrderCheckHooks??=[]).push(e,ie))}(a,ie[a],s)}finally{null!==yt&&wi(yt),ln(Fe),ye.resolving=!1,tf()}}return j}function Ca(e,s,a){return!!(a[s+(e>>jn)]&1<<e)}function Qa(e,s){return!(e&dn.Self||e&dn.Host&&s)}class Ua{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,P){return da(this._tNode,this._lView,s,zs(P),a)}}function is(){return new Ua(ai(),Gn())}function vo(e){return Al(()=>{const s=e.prototype.constructor,a=s[Ml]||Rl(s),P=Object.prototype;let j=Object.getPrototypeOf(e.prototype).constructor;for(;j&&j!==P;){const ie=j[Ml]||Rl(j);if(ie&&ie!==a)return ie;j=Object.getPrototypeOf(j)}return ie=>new ie})}function Rl(e){return Qr(e)?()=>{const s=Rl($r(e));return s&&s()}:lu(e)}function Ru(e){const s=e[Zi],a=s.type;return 2===a?s.declTNode:1===a?e[uo]:null}const hs="__parameters__";function yl(e,s,a){return Al(()=>{const P=function pl(e){return function(...a){if(e){const P=e(...a);for(const j in P)this[j]=P[j]}}}(s);function j(...ie){if(this instanceof j)return P.apply(this,ie),this;const ye=new j(...ie);return Fe.annotation=ye,Fe;function Fe(Xe,yt,Vt){const tr=Xe.hasOwnProperty(hs)?Xe[hs]:Object.defineProperty(Xe,hs,{value:[]})[hs];for(;tr.length<=Vt;)tr.push(null);return(tr[Vt]=tr[Vt]||[]).push(ye),Xe}}return a&&(j.prototype=Object.create(a.prototype)),j.prototype.ngMetadataName=e,j.annotationCls=j,j})}function Ms(e,s){e.forEach(a=>Array.isArray(a)?Ms(a,s):s(a))}function Rh(e,s,a){s>=e.length?e.push(a):e.splice(s,0,a)}function qc(e,s){return s>=e.length-1?e.pop():e.splice(s,1)[0]}function Jl(e,s,a){let P=qf(e,s);return P>=0?e[1|P]=a:(P=~P,function a0(e,s,a,P){let j=e.length;if(j==s)e.push(a,P);else if(1===j)e.push(P,e[0]),e[0]=a;else{for(j--,e.push(e[j-1],e[j]);j>s;)e[j]=e[j-2],j--;e[s]=a,e[s+1]=P}}(e,P,s,a)),P}function jd(e,s){const a=qf(e,s);if(a>=0)return e[1|a]}function qf(e,s){return function Gg(e,s,a){let P=0,j=e.length>>a;for(;j!==P;){const ie=P+(j-P>>1),ye=e[ie<<a];if(s===ye)return ie<<a;ye>s?j=ie:P=ie+1}return~(j<<a)}(e,s,1)}const Hv=eu(yl("Optional"),8),s0=eu(yl("SkipSelf"),4);function Yv(e){return 128==(128&e.flags)}var th=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(th||{});const Qd=new Map;let F1=0;const Fu="__ngContext__";function kl(e,s){Xo(s)?(e[Fu]=s[Yu],function qd(e){Qd.set(e[Yu],e)}(s)):e[Fu]=s}let Xv;function Kv(e,s){return Xv(e,s)}function rv(e){const s=e[Za];return Ko(s)?s[Za]:s}function ey(e){return ry(e[Su])}function ty(e){return ry(e[ko])}function ry(e){for(;null!==e&&!Ko(e);)e=e[ko];return e}function ud(e,s,a,P,j){if(null!=P){let ie,ye=!1;Ko(P)?ie=P:Xo(P)&&(ye=!0,P=P[to]);const Fe=Ae(P);0===e&&null!==a?null==j?w0(s,a,Fe):Nh(s,a,Fe,j||null,!0):1===e&&null!==a?Nh(s,a,Fe,j||null,!0):2===e?function ep(e,s,a){const P=$v(e,s);P&&function X1(e,s,a,P){e.removeChild(s,a,P)}(e,P,s,a)}(s,Fe,ye):3===e&&s.destroyNode(Fe),null!=ie&&function uy(e,s,a,P,j){const ie=a[Xs];ie!==Ae(a)&&ud(s,e,P,ie,j);for(let Fe=fo;Fe<a.length;Fe++){const Xe=a[Fe];rp(Xe[Zi],Xe,e,s,P,ie)}}(s,e,ie,a,j)}}function fd(e,s,a){return e.createElement(s,a)}function iy(e,s){const a=e[Xu],P=a.indexOf(s);Hr(s),a.splice(P,1)}function rh(e,s){if(e.length<=fo)return;const a=fo+s,P=e[a];if(P){const j=P[Cu];null!==j&&j!==e&&iy(j,P),s>0&&(e[a-1][ko]=P[ko]);const ie=qc(e,fo+s);!function nv(e,s){rp(e,s,s[fa],2,null,null),s[to]=null,s[uo]=null}(P[Zi],P);const ye=ie[El];null!==ye&&ye.detachView(ie[Zi]),P[Za]=null,P[ko]=null,P[oa]&=-129}return P}function Jv(e,s){if(!(256&s[oa])){const a=s[fa];s[Mo]&&As(s[Mo]),s[fs]&&As(s[fs]),a.destroyNode&&rp(e,s,a,3,null,null),function _1(e){let s=e[Su];if(!s)return m0(e[Zi],e);for(;s;){let a=null;if(Xo(s))a=s[Su];else{const P=s[fo];P&&(a=P)}if(!a){for(;s&&!s[ko]&&s!==e;)Xo(s)&&m0(s[Zi],s),s=s[Za];null===s&&(s=e),Xo(s)&&m0(s[Zi],s),a=s&&s[ko]}s=a}}(s)}}function m0(e,s){if(!(256&s[oa])){s[oa]&=-129,s[oa]|=256,function Z1(e,s){let a;if(null!=e&&null!=(a=e.destroyHooks))for(let P=0;P<a.length;P+=2){const j=s[a[P]];if(!(j instanceof ne)){const ie=a[P+1];if(Array.isArray(ie))for(let ye=0;ye<ie.length;ye+=2){const Fe=j[ie[ye]],Xe=ie[ye+1];No(4,Fe,Xe);try{Xe.call(Fe)}finally{No(5,Fe,Xe)}}else{No(4,j,ie);try{ie.call(j)}finally{No(5,j,ie)}}}}}(e,s),function Y1(e,s){const a=e.cleanup,P=s[Ds];if(null!==a)for(let ie=0;ie<a.length-1;ie+=2)if("string"==typeof a[ie]){const ye=a[ie+3];ye>=0?P[ye]():P[-ye].unsubscribe(),ie+=2}else a[ie].call(P[a[ie+1]]);null!==P&&(s[Ds]=null);const j=s[Wl];if(null!==j){s[Wl]=null;for(let ie=0;ie<j.length;ie++)(0,j[ie])()}}(e,s),1===s[Zi].type&&s[fa].destroy();const a=s[Cu];if(null!==a&&Ko(s[Za])){a!==s[Za]&&iy(a,s);const P=s[El];null!==P&&P.detachView(e)}!function p0(e){Qd.delete(e[Yu])}(s)}}function x0(e,s,a){return function b0(e,s,a){let P=s;for(;null!==P&&40&P.type;)P=(s=P).parent;if(null===P)return a[to];{const{componentOffset:j}=P;if(j>-1){const{encapsulation:ie}=e.data[P.directiveStart+j];if(ie===il.None||ie===il.Emulated)return null}return at(P,a)}}(e,s.parent,a)}function Nh(e,s,a,P,j){e.insertBefore(s,a,P,j)}function w0(e,s,a){e.appendChild(s,a)}function ay(e,s,a,P,j){null!==P?Nh(e,s,a,P,j):w0(e,s,a)}function $v(e,s){return e.parentNode(s)}let A0,ds,zh,sy=function xl(e,s,a){return 40&e.type?at(e,a):null};function Qv(e,s,a,P){const j=x0(e,P,s),ie=s[fa],Fe=function T0(e,s,a){return sy(e,s,a)}(P.parent||s[uo],P,s);if(null!=j)if(Array.isArray(a))for(let Xe=0;Xe<a.length;Xe++)ay(ie,j,a[Xe],Fe,!1);else ay(ie,j,a,Fe,!1);void 0!==A0&&A0(ie,P,s,a,j)}function cd(e,s){if(null!==s){const a=s.type;if(3&a)return at(s,e);if(4&a)return qv(-1,e[s.index]);if(8&a){const P=s.child;if(null!==P)return cd(e,P);{const j=e[s.index];return Ko(j)?qv(-1,j):Ae(j)}}if(32&a)return Kv(s,e)()||Ae(e[s.index]);{const P=ly(e,s);return null!==P?Array.isArray(P)?P[0]:cd(rv(e[no]),P):cd(e,s.next)}}return null}function ly(e,s){return null!==s?e[no][uo].projection[s.projection]:null}function qv(e,s){const a=fo+e+1;if(a<s.length){const P=s[a],j=P[Zi].firstChild;if(null!==j)return cd(P,j)}return s[Xs]}function S0(e,s,a,P,j,ie,ye){for(;null!=a;){const Fe=P[a.index],Xe=a.type;if(ye&&0===s&&(Fe&&kl(Ae(Fe),P),a.flags|=2),32!=(32&a.flags))if(8&Xe)S0(e,s,a.child,P,j,ie,!1),ud(s,e,j,Fe,ie);else if(32&Xe){const yt=Kv(a,P);let Vt;for(;Vt=yt();)ud(s,e,j,Vt,ie);ud(s,e,j,Fe,ie)}else 16&Xe?J1(e,s,P,a,j,ie):ud(s,e,j,Fe,ie);a=ye?a.projectionNext:a.next}}function rp(e,s,a,P,j,ie){S0(a,P,e.firstChild,s,j,ie,!1)}function J1(e,s,a,P,j,ie){const ye=a[no],Xe=ye[uo].projection[P.projection];if(Array.isArray(Xe))for(let yt=0;yt<Xe.length;yt++)ud(s,e,j,Xe[yt],ie);else{let yt=Xe;const Vt=ye[Za];Yv(P)&&(yt.flags|=128),S0(e,s,yt,Vt,j,ie,!0)}}function Q1(e,s,a){""===a?e.removeAttribute(s,"class"):e.setAttribute(s,"class",a)}function q1(e,s,a){const{mergedAttrs:P,classes:j,styles:ie}=a;null!==P&&tu(e,s,P),null!==j&&Q1(e,s,j),null!==ie&&function ww(e,s,a){e.setAttribute(s,"style",a)}(e,s,ie)}function E0(e){return function vd(){if(void 0===zh&&(zh=null,mi.trustedTypes))try{zh=mi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return zh}()?.createScriptURL(e)||e}class cy{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tr})`}}function nh(e){return e instanceof cy?e.changingThisBreaksApplicationSecurity:e}function iv(e,s){const a=function dy(e){return e instanceof cy&&e.getTypeName()||null}(e);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Tr})`)}return a===s}const ap=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var gd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(gd||{});function Ol(e){const s=cv();return s?s.sanitize(gd.URL,e)||"":iv(e,"URL")?nh(e):function ih(e){return(e=String(e)).match(ap)?e:"unsafe:"+e}(Ur(e))}function L0(e){const s=cv();if(s)return E0(s.sanitize(gd.RESOURCE_URL,e)||"");if(iv(e,"ResourceURL"))return E0(nh(e));throw new nr(904,!1)}function cv(){const e=Gn();return e&&e[Vs].sanitizer}class ia{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=jr({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const hv=new ia("ENVIRONMENT_INITIALIZER"),Ay=new ia("INJECTOR",-1),P0=new ia("INJECTOR_DEF_TYPES");class oh{get(s,a=lo){if(a===lo){const P=new Error(`NullInjectorError: No provider for ${kr(s)}!`);throw P.name="NullInjectorError",P}return a}}function R0(...e){return{\u0275providers:F0(0,e),\u0275fromNgModule:!0}}function F0(e,...s){const a=[],P=new Set;let j;const ie=ye=>{a.push(ye)};return Ms(s,ye=>{const Fe=ye;up(Fe,ie,[],P)&&(j||=[],j.push(Fe))}),void 0!==j&&k0(j,ie),a}function k0(e,s){for(let a=0;a<e.length;a++){const{ngModule:P,providers:j}=e[a];fp(j,ie=>{s(ie,P)})}}function up(e,s,a,P){if(!(e=$r(e)))return!1;let j=null,ie=Or(e);const ye=!ie&&Ma(e);if(ie||ye){if(ye&&!ye.standalone)return!1;j=e}else{const Xe=e.ngModule;if(ie=Or(Xe),!ie)return!1;j=Xe}const Fe=P.has(j);if(ye){if(Fe)return!1;if(P.add(j),ye.dependencies){const Xe="function"==typeof ye.dependencies?ye.dependencies():ye.dependencies;for(const yt of Xe)up(yt,s,a,P)}}else{if(!ie)return!1;{if(null!=ie.imports&&!Fe){let yt;P.add(j);try{Ms(ie.imports,Vt=>{up(Vt,s,a,P)&&(yt||=[],yt.push(Vt))})}finally{}void 0!==yt&&k0(yt,s)}if(!Fe){const yt=lu(j)||(()=>new j);s({provide:j,useFactory:yt,deps:_a},j),s({provide:P0,useValue:j,multi:!0},j),s({provide:hv,useValue:()=>Ji(j),multi:!0},j)}const Xe=ie.providers;if(null!=Xe&&!Fe){const yt=e;fp(Xe,Vt=>{s(Vt,yt)})}}}return j!==e&&void 0!==e.providers}function fp(e,s){for(let a of e)Wn(a)&&(a=a.\u0275providers),Array.isArray(a)?fp(a,s):s(a)}const My=xr({provide:String,useValue:xr});function cp(e){return null!==e&&"object"==typeof e&&My in e}function sh(e){return"function"==typeof e}const lh=new ia("Set Injector scope."),dv={},hp={};let dp;function Bh(){return void 0===dp&&(dp=new oh),dp}class Nl{}class vp extends Nl{get destroyed(){return this._destroyed}constructor(s,a,P,j){super(),this.parent=a,this.source=P,this.scopes=j,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uh(s,ye=>this.processProvider(ye)),this.records.set(Ay,xd(void 0,this)),j.has("environment")&&this.records.set(Nl,xd(void 0,this));const ie=this.records.get(lh);null!=ie&&"string"==typeof ie.value&&this.scopes.add(ie.value),this.injectorDefTypes=new Set(this.get(P0.multi,_a,dn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=po(this),P=wi(void 0);try{return s()}finally{po(a),wi(P)}}get(s,a=lo,P=dn.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Vl))return s[Vl](this);P=zs(P);const ie=po(this),ye=wi(void 0);try{if(!(P&dn.SkipSelf)){let Xe=this.records.get(s);if(void 0===Xe){const yt=function px(e){return"function"==typeof e||"object"==typeof e&&e instanceof ia}(s)&&Bn(s);Xe=yt&&this.injectableDefInScope(yt)?xd(yd(s),dv):null,this.records.set(s,Xe)}if(null!=Xe)return this.hydrate(s,Xe)}return(P&dn.Self?Bh():this.parent).get(s,a=P&dn.Optional&&a===lo?null:a)}catch(Fe){if("NullInjectorError"===Fe.name){if((Fe[xs]=Fe[xs]||[]).unshift(kr(s)),ie)throw Fe;return function Lf(e,s,a,P){const j=e[xs];throw s[nl]&&j.unshift(s[nl]),e.message=function If(e,s,a,P=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let j=kr(s);if(Array.isArray(s))j=s.map(kr).join(" -> ");else if("object"==typeof s){let ie=[];for(let ye in s)if(s.hasOwnProperty(ye)){let Fe=s[ye];ie.push(ye+":"+("string"==typeof Fe?JSON.stringify(Fe):kr(Fe)))}j=`{${ie.join(", ")}}`}return`${a}${P?"("+P+")":""}[${j}]: ${e.replace(hc,"\n  ")}`}("\n"+e.message,j,a,P),e.ngTokenPath=j,e[xs]=null,e}(Fe,s,"R3InjectorError",this.source)}throw Fe}finally{wi(ye),po(ie)}}resolveInjectorInitializers(){const s=po(this),a=wi(void 0);try{const j=this.get(hv.multi,_a,dn.Self);for(const ie of j)ie()}finally{po(s),wi(a)}}toString(){const s=[],a=this.records;for(const P of a.keys())s.push(kr(P));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nr(205,!1)}processProvider(s){let a=sh(s=$r(s))?s:$r(s&&s.provide);const P=function dx(e){return cp(e)?xd(void 0,e.useValue):xd(Dy(e),dv)}(s);if(sh(s)||!0!==s.multi)this.records.get(a);else{let j=this.records.get(a);j||(j=xd(void 0,dv,!0),j.factory=()=>Tl(j.multi),this.records.set(a,j)),a=s,j.multi.push(s)}this.records.set(a,P)}hydrate(s,a){return a.value===dv&&(a.value=hp,a.value=a.factory()),"object"==typeof a.value&&a.value&&function vx(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=$r(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function yd(e){const s=Bn(e),a=null!==s?s.factory:lu(e);if(null!==a)return a;if(e instanceof ia)throw new nr(204,!1);if(e instanceof Function)return function md(e){const s=e.length;if(s>0)throw function Fh(e,s){const a=[];for(let P=0;P<e;P++)a.push(s);return a}(s,"?"),new nr(204,!1);const a=function Br(e){return e&&(e[Gr]||e[Zn])||null}(e);return null!==a?()=>a.factory(e):()=>new e}(e);throw new nr(204,!1)}function Dy(e,s,a){let P;if(sh(e)){const j=$r(e);return lu(j)||yd(j)}if(cp(e))P=()=>$r(e.useValue);else if(function Cy(e){return!(!e||!e.useFactory)}(e))P=()=>e.useFactory(...Tl(e.deps||[]));else if(function Sy(e){return!(!e||!e.useExisting)}(e))P=()=>Ji($r(e.useExisting));else{const j=$r(e&&(e.useClass||e.provide));if(!function bd(e){return!!e.deps}(e))return lu(j)||yd(j);P=()=>new j(...Tl(e.deps))}return P}function xd(e,s,a=!1){return{factory:e,value:s,multi:a?[]:void 0}}function uh(e,s){for(const a of e)Array.isArray(a)?uh(a,s):a&&Wn(a)?uh(a.\u0275providers,s):s(a)}const wd=new ia("AppId",{providedIn:"root",factory:()=>Ly}),Ly="ng",Iy=new ia("Platform Initializer"),Dc=new ia("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Lc=new ia("CSP nonce",{providedIn:"root",factory:()=>function dd(){if(void 0!==ds)return ds;if(typeof document<"u")return document;throw new nr(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ry=(e,s,a)=>null;function V0(e,s,a=!1){return Ry(e,s,a)}class Cd{}class Ny{}class xo{resolveComponentFactory(s){throw function zy(e){const s=Error(`No component factory found for ${kr(e)}.`);return s.ngComponent=e,s}(s)}}let mv=(()=>{class e{static#e=this.NULL=new xo}return e})();function By(){return Uh(ai(),Gn())}function Uh(e,s){return new pu(at(e,s))}let pu=(()=>{class e{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=By}return e})();class Vy{}let Af=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Mx(){const e=Gn(),a=Yt(ai().index,e);return(Xo(a)?a:e)[fa]}()}return e})(),Sx=(()=>{class e{static#e=this.\u0275prov=jr({token:e,providedIn:"root",factory:()=>null})}return e})();class Mf{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Vh=new Mf("16.2.10"),mp={};function H0(e,s=null,a=null,P){const j=Gy(e,s,a,P);return j.resolveInjectorInitializers(),j}function Gy(e,s=null,a=null,P,j=new Set){const ie=[a||_a,R0(e)];return P=P||("object"==typeof e?void 0:kr(e)),new vp(ie,s||Bh(),P||null,j)}let Ou=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=lo;static#t=this.NULL=new oh;static create(a,P){if(Array.isArray(a))return H0({name:""},P,a,"");{const j=a.name??"";return H0({name:j},a.parent,a.providers,j)}}static#r=this.\u0275prov=jr({token:e,providedIn:"any",factory:()=>Ji(Ay)});static#n=this.__NG_ELEMENT_ID__=-1}return e})();function rc(e){return e.ngOriginalError}class nc{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&rc(s);for(;a&&rc(a);)a=rc(a);return a||null}}function me(e){return s=>{setTimeout(e,void 0,s)}}const Se=class ae extends z{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,P){let j=s,ie=a||(()=>null),ye=P;if(s&&"object"==typeof s){const Xe=s;j=Xe.next?.bind(Xe),ie=Xe.error?.bind(Xe),ye=Xe.complete?.bind(Xe)}this.__isAsync&&(ie=me(ie),j&&(j=me(j)),ye&&(ye=me(ye)));const Fe=super.subscribe({next:j,error:ie,complete:ye});return s instanceof t&&s.add(Fe),Fe}};function Le(...e){}class Mt{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:P=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1),typeof Zone>"u")throw new nr(908,!1);Zone.assertZonePatched();const j=this;j._nesting=0,j._outer=j._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(j._inner=j._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(j._inner=j._inner.fork(Zone.longStackTraceZoneSpec)),j.shouldCoalesceEventChangeDetection=!P&&a,j.shouldCoalesceRunChangeDetection=P,j.lastRequestAnimationFrameId=-1,j.nativeRequestAnimationFrame=function rt(){const e="function"==typeof mi.requestAnimationFrame;let s=mi[e?"requestAnimationFrame":"setTimeout"],a=mi[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const P=s[Zone.__symbol__("OriginalDelegate")];P&&(s=P);const j=a[Zone.__symbol__("OriginalDelegate")];j&&(a=j)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function lr(e){const s=()=>{!function cr(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(mi,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Dr(e),e.isCheckStableRunning=!0,Jt(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Dr(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,P,j,ie,ye,Fe)=>{if(function kn(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(Fe))return a.invokeTask(j,ie,ye,Fe);try{return Zr(e),a.invokeTask(j,ie,ye,Fe)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===ie.type||e.shouldCoalesceRunChangeDetection)&&s(),xn(e)}},onInvoke:(a,P,j,ie,ye,Fe,Xe)=>{try{return Zr(e),a.invoke(j,ie,ye,Fe,Xe)}finally{e.shouldCoalesceRunChangeDetection&&s(),xn(e)}},onHasTask:(a,P,j,ie)=>{a.hasTask(j,ie),P===j&&("microTask"==ie.change?(e._hasPendingMicrotasks=ie.microTask,Dr(e),Jt(e)):"macroTask"==ie.change&&(e.hasPendingMacrotasks=ie.macroTask))},onHandleError:(a,P,j,ie)=>(a.handleError(j,ie),e.runOutsideAngular(()=>e.onError.emit(ie)),!1)})}(j)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mt.isInAngularZone())throw new nr(909,!1)}static assertNotInAngularZone(){if(Mt.isInAngularZone())throw new nr(909,!1)}run(s,a,P){return this._inner.run(s,a,P)}runTask(s,a,P,j){const ie=this._inner,ye=ie.scheduleEventTask("NgZoneEvent: "+j,s,Pt,Le,Le);try{return ie.runTask(ye,a,P)}finally{ie.cancelTask(ye)}}runGuarded(s,a,P){return this._inner.runGuarded(s,a,P)}runOutsideAngular(s){return this._outer.run(s)}}const Pt={};function Jt(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Dr(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Zr(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function xn(e){e._nesting--,Jt(e)}class hn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}run(s,a,P){return s.apply(a,P)}runGuarded(s,a,P){return s.apply(a,P)}runOutsideAngular(s){return s()}runTask(s,a,P,j){return s.apply(a,P)}}const On=new ia("",{providedIn:"root",factory:Ln});function Ln(){const e=Ki(Mt);let s=!0;return function zt(...e){const s=At(e),a=function It(e,s){return"number"==typeof bt(e)?e.pop():s}(e,1/0),P=e;return P.length?1===P.length?Te(P[0]):wt(a)(Ze(P,s)):$t}(new D(j=>{s=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{j.next(s),j.complete()})}),new D(j=>{let ie;e.runOutsideAngular(()=>{ie=e.onStable.subscribe(()=>{Mt.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(s=!0,j.next(!0))})})});const ye=e.onUnstable.subscribe(()=>{Mt.assertInAngularZone(),s&&(s=!1,e.runOutsideAngular(()=>{j.next(!1)}))});return()=>{ie.unsubscribe(),ye.unsubscribe()}}).pipe(ur()))}function Bi(e){return e instanceof Function?e():e}let pa=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=jr({token:e,providedIn:"root",factory:()=>new e})}return e})();function aa(e){for(;e;){e[oa]|=64;const s=rv(e);if(ll(e)&&!s)return e;e=s}return null}const Ra=new ia("",{providedIn:"root",factory:()=>!1});let Fs=null;function as(e,s){return e[s]??kc()}function el(e,s){const a=kc();a.producerNode?.length&&(e[s]=Fs,a.lView=e,Fs=ic())}const gu={...Xf,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{aa(e.lView)},lView:null};function ic(){return Object.create(gu)}function kc(){return Fs??=ic(),Fs}const ba={};function na(e){Gh(Kn(),Gn(),Gs()+e,!1)}function Gh(e,s,a,P){if(!P)if(3==(3&s[oa])){const ie=e.preOrderCheckHooks;null!==ie&&Lh(s,ie,a)}else{const ie=e.preOrderHooks;null!==ie&&Ih(s,ie,0,a)}Il(a)}function oi(e,s=dn.Default){const a=Gn();return null===a?Ji(e,s):da(ai(),a,$r(e),s)}function _h(e,s,a,P,j,ie,ye,Fe,Xe,yt,Vt){const tr=s.blueprint.slice();return tr[to]=j,tr[oa]=140|P,(null!==yt||e&&2048&e[oa])&&(tr[oa]|=2048),fn(tr),tr[Za]=tr[jl]=e,tr[Xa]=a,tr[Vs]=ye||e&&e[Vs],tr[fa]=Fe||e&&e[fa],tr[ws]=Xe||e&&e[ws]||null,tr[uo]=ie,tr[Yu]=function Zg(){return F1++}(),tr[Zs]=Vt,tr[yc]=yt,tr[no]=2==s.type?e[no]:tr,tr}function hh(e,s,a,P,j){let ie=e.data[s];if(null===ie)ie=function $l(e,s,a,P,j){const ie=Ni(),ye=ho(),Xe=e.data[s]=function ZE(e,s,a,P,j,ie){let ye=s?s.injectorIndex:-1,Fe=0;return function zi(){return null!==rn.skipHydrationRootTNode}()&&(Fe|=128),{type:a,index:P,insertBeforeIndex:null,injectorIndex:ye,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Fe,providerIndexes:0,value:j,attrs:ie,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ye?ie:ie&&ie.parent,a,s,P,j);return null===e.firstChild&&(e.firstChild=Xe),null!==ie&&(ye?null==ie.child&&null!==Xe.parent&&(ie.child=Xe):null===ie.next&&(ie.next=Xe,Xe.prev=ie)),Xe}(e,s,a,P,j),function Ll(){return rn.lFrame.inI18n}()&&(ie.flags|=32);else if(64&ie.type){ie.type=a,ie.value=P,ie.attrs=j;const ye=function ka(){const e=rn.lFrame,s=e.currentTNode;return e.isParent?s:s.parent}();ie.injectorIndex=null===ye?-1:ye.injectorIndex}return za(ie,!0),ie}function ac(e,s,a,P){if(0===a)return-1;const j=s.length;for(let ie=0;ie<a;ie++)s.push(P),e.blueprint.push(P),e.data.push(null);return j}function wv(e,s,a,P,j){const ie=as(s,Mo),ye=Gs(),Fe=2&P;try{Il(-1),Fe&&s.length>wa&&Gh(e,s,wa,!1),No(Fe?2:0,j);const yt=Fe?ie:null,Vt=Kf(yt);try{null!==yt&&(yt.dirty=!1),a(P,j)}finally{gf(yt,Vt)}}finally{Fe&&null===s[Mo]&&el(s,Mo),Il(ye),No(Fe?3:1,j)}}function jh(e,s,a){if(Yl(s)){const P=_o(null);try{const ie=s.directiveEnd;for(let ye=s.directiveStart;ye<ie;ye++){const Fe=e.data[ye];Fe.contentQueries&&Fe.contentQueries(1,a[ye],ye)}}finally{_o(P)}}}function wp(e,s,a){Ii()&&(function eD(e,s,a,P){const j=a.directiveStart,ie=a.directiveEnd;au(a)&&function sD(e,s,a){const P=at(s,e),j=kw(a);let ye=16;a.signals?ye=4096:a.onPush&&(ye=64);const Fe=_y(e,_h(e,j,null,ye,P,s,null,e[Vs].rendererFactory.createRenderer(P,a),null,null,null));e[s.index]=Fe}(s,a,e.data[j+a.componentOffset]),e.firstCreatePass||Ai(a,s),kl(P,s);const ye=a.initialInputs;for(let Fe=j;Fe<ie;Fe++){const Xe=e.data[Fe],yt=Sa(s,e,Fe,a);kl(yt,s),null!==ye&&lD(0,Fe-j,yt,Xe,0,ye),Ts(Xe)&&(Yt(a.index,s)[Xa]=Sa(s,e,Fe,a))}}(e,s,a,at(a,s)),64==(64&a.flags)&&Uw(e,s,a))}function Dx(e,s,a=at){const P=s.localNames;if(null!==P){let j=s.index+1;for(let ie=0;ie<P.length;ie+=2){const ye=P[ie+1],Fe=-1===ye?a(s,e):e[ye];e[j++]=Fe}}}function kw(e){const s=e.tView;return null===s||s.incompleteFirstPass?e.tView=Lx(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):s}function Lx(e,s,a,P,j,ie,ye,Fe,Xe,yt,Vt){const tr=wa+P,Rr=tr+j,Kr=function HE(e,s){const a=[];for(let P=0;P<s;P++)a.push(P<e?null:ba);return a}(tr,Rr),Sn="function"==typeof yt?yt():yt;return Kr[Zi]={type:e,blueprint:Kr,template:a,queries:null,viewQuery:Fe,declTNode:s,data:Kr.slice().fill(null,tr),bindingStartIndex:tr,expandoStartIndex:Rr,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof ie?ie():ie,pipeRegistry:"function"==typeof ye?ye():ye,firstChild:null,schemas:Xe,consts:Sn,incompleteFirstPass:!1,ssrId:Vt}}let Ow=e=>null;function Nw(e,s,a,P){for(let j in e)if(e.hasOwnProperty(j)){a=null===a?{}:a;const ie=e[j];null===P?zw(a,s,j,ie):P.hasOwnProperty(j)&&zw(a,s,P[j],ie)}return a}function zw(e,s,a,P){e.hasOwnProperty(a)?e[a].push(s,P):e[a]=[s,P]}function Sf(e,s,a,P,j,ie,ye,Fe){const Xe=at(s,a);let Vt,yt=s.inputs;!Fe&&null!=yt&&(Vt=yt[P])?(kx(e,a,Vt,P,j),au(s)&&function JE(e,s){const a=Yt(s,e);16&a[oa]||(a[oa]|=64)}(a,s.index)):3&s.type&&(P=function KE(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(P),j=null!=ye?ye(j,s.value||"",P):j,ie.setProperty(Xe,P,j))}function Ix(e,s,a,P){if(Ii()){const j=null===P?null:{"":-1},ie=function rD(e,s){const a=e.directiveRegistry;let P=null,j=null;if(a)for(let ie=0;ie<a.length;ie++){const ye=a[ie];if(Nf(s,ye.selectors,!1))if(P||(P=[]),Ts(ye))if(null!==ye.findHostDirectiveDefs){const Fe=[];j=j||new Map,ye.findHostDirectiveDefs(ye,Fe,j),P.unshift(...Fe,ye),Px(e,s,Fe.length)}else P.unshift(ye),Px(e,s,0);else j=j||new Map,ye.findHostDirectiveDefs?.(ye,P,j),P.push(ye)}return null===P?null:[P,j]}(e,a);let ye,Fe;null===ie?ye=Fe=null:[ye,Fe]=ie,null!==ye&&Bw(e,s,a,ye,j,Fe),j&&function nD(e,s,a){if(s){const P=e.localNames=[];for(let j=0;j<s.length;j+=2){const ie=a[s[j+1]];if(null==ie)throw new nr(-301,!1);P.push(s[j],ie)}}}(a,P,j)}a.mergedAttrs=ru(a.mergedAttrs,a.attrs)}function Bw(e,s,a,P,j,ie){for(let yt=0;yt<P.length;yt++)Vi(Ai(a,s),e,P[yt].type);!function aD(e,s,a){e.flags|=1,e.directiveStart=s,e.directiveEnd=s+a,e.providerIndexes=s}(a,e.data.length,P.length);for(let yt=0;yt<P.length;yt++){const Vt=P[yt];Vt.providersResolver&&Vt.providersResolver(Vt)}let ye=!1,Fe=!1,Xe=ac(e,s,P.length,null);for(let yt=0;yt<P.length;yt++){const Vt=P[yt];a.mergedAttrs=ru(a.mergedAttrs,Vt.hostAttrs),oD(e,a,s,Xe,Vt),iD(Xe,Vt,j),null!==Vt.contentQueries&&(a.flags|=4),(null!==Vt.hostBindings||null!==Vt.hostAttrs||0!==Vt.hostVars)&&(a.flags|=64);const tr=Vt.type.prototype;!ye&&(tr.ngOnChanges||tr.ngOnInit||tr.ngDoCheck)&&((e.preOrderHooks??=[]).push(a.index),ye=!0),!Fe&&(tr.ngOnChanges||tr.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(a.index),Fe=!0),Xe++}!function XE(e,s,a){const j=s.directiveEnd,ie=e.data,ye=s.attrs,Fe=[];let Xe=null,yt=null;for(let Vt=s.directiveStart;Vt<j;Vt++){const tr=ie[Vt],Rr=a?a.get(tr):null,Sn=Rr?Rr.outputs:null;Xe=Nw(tr.inputs,Vt,Xe,Rr?Rr.inputs:null),yt=Nw(tr.outputs,Vt,yt,Sn);const Rn=null===Xe||null===ye||Gu(s)?null:uD(Xe,Vt,ye);Fe.push(Rn)}null!==Xe&&(Xe.hasOwnProperty("class")&&(s.flags|=8),Xe.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=Fe,s.inputs=Xe,s.outputs=yt}(e,a,ie)}function Uw(e,s,a){const P=a.directiveStart,j=a.directiveEnd,ie=a.index,ye=function cl(){return rn.lFrame.currentDirectiveIndex}();try{Il(ie);for(let Fe=P;Fe<j;Fe++){const Xe=e.data[Fe],yt=s[Fe];Qs(Fe),(null!==Xe.hostBindings||0!==Xe.hostVars||null!==Xe.hostAttrs)&&tD(Xe,yt)}}finally{Il(-1),Qs(ye)}}function tD(e,s){null!==e.hostBindings&&e.hostBindings(1,s)}function Px(e,s,a){s.componentOffset=a,(e.components??=[]).push(s.index)}function iD(e,s,a){if(a){if(s.exportAs)for(let P=0;P<s.exportAs.length;P++)a[s.exportAs[P]]=e;Ts(s)&&(a[""]=e)}}function oD(e,s,a,P,j){e.data[P]=j;const ie=j.factory||(j.factory=lu(j.type)),ye=new ne(ie,Ts(j),oi);e.blueprint[P]=ye,a[P]=ye,function QE(e,s,a,P,j){const ie=j.hostBindings;if(ie){let ye=e.hostBindingOpCodes;null===ye&&(ye=e.hostBindingOpCodes=[]);const Fe=~s.index;(function qE(e){let s=e.length;for(;s>0;){const a=e[--s];if("number"==typeof a&&a<0)return a}return 0})(ye)!=Fe&&ye.push(Fe),ye.push(a,P,ie)}}(e,s,P,ac(e,a,j.hostVars,ba),j)}function dh(e,s,a,P,j,ie){const ye=at(e,s);!function Rx(e,s,a,P,j,ie,ye){if(null==ie)e.removeAttribute(s,j,a);else{const Fe=null==ye?Ur(ie):ye(ie,P||"",j);e.setAttribute(s,j,Fe,a)}}(s[fa],ye,ie,e.value,a,P,j)}function lD(e,s,a,P,j,ie){const ye=ie[s];if(null!==ye)for(let Fe=0;Fe<ye.length;)Vw(P,a,ye[Fe++],ye[Fe++],ye[Fe++])}function Vw(e,s,a,P,j){const ie=_o(null);try{const ye=e.inputTransforms;null!==ye&&ye.hasOwnProperty(P)&&(j=ye[P].call(s,j)),null!==e.setInput?e.setInput(s,j,a,P):s[P]=j}finally{_o(ie)}}function uD(e,s,a){let P=null,j=0;for(;j<a.length;){const ie=a[j];if(0!==ie)if(5!==ie){if("number"==typeof ie)break;if(e.hasOwnProperty(ie)){null===P&&(P=[]);const ye=e[ie];for(let Fe=0;Fe<ye.length;Fe+=2)if(ye[Fe]===s){P.push(ie,ye[Fe+1],a[j+1]);break}}j+=2}else j+=2;else j+=4}return P}function Hw(e,s,a,P){return[e,!0,!1,s,null,0,P,a,null,null,null]}function Gw(e,s){const a=e.contentQueries;if(null!==a)for(let P=0;P<a.length;P+=2){const ie=a[P+1];if(-1!==ie){const ye=e.data[ie];Xl(a[P]),ye.contentQueries(2,s[ie],ie)}}}function _y(e,s){return e[Su]?e[Hf][ko]=s:e[Su]=s,e[Hf]=s,s}function Fx(e,s,a){Xl(0);const P=_o(null);try{s(e,a)}finally{_o(P)}}function Yw(e,s){const a=e[ws],P=a?a.get(nc,null):null;P&&P.handleError(s)}function kx(e,s,a,P,j){for(let ie=0;ie<a.length;){const ye=a[ie++],Fe=a[ie++];Vw(e.data[ye],s[ye],P,Fe,j)}}function fD(e,s){const a=Yt(s,e),P=a[Zi];!function cD(e,s){for(let a=s.length;a<e.blueprint.length;a++)s.push(e.blueprint[a])}(P,a);const j=a[to];null!==j&&null===a[Zs]&&(a[Zs]=V0(j,a[ws])),Ox(P,a,a[Xa])}function Ox(e,s,a){Tc(s);try{const P=e.viewQuery;null!==P&&Fx(1,P,a);const j=e.template;null!==j&&wv(e,s,j,1,a),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Gw(e,s),e.staticViewQueries&&Fx(2,e.viewQuery,a);const ie=e.components;null!==ie&&function hD(e,s){for(let a=0;a<s.length;a++)fD(e,s[a])}(s,ie)}catch(P){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),P}finally{s[oa]&=-5,Ac()}}let Zw=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(a,P,j){const ie=typeof Zone>"u"?null:Zone.current,ye=function cn(e,s,a){const P=Object.create(ti);a&&(P.consumerAllowSignalWrites=!0),P.fn=e,P.schedule=s;const j=ye=>{P.cleanupFn=ye};return P.ref={notify:()=>qu(P),run:()=>{if(P.dirty=!1,P.hasRun&&!uu(P))return;P.hasRun=!0;const ye=Kf(P);try{P.cleanupFn(),P.cleanupFn=Pn,P.fn(j)}finally{gf(P,ye)}},cleanup:()=>P.cleanupFn()},P.ref}(a,yt=>{this.all.has(yt)&&this.queue.set(yt,ie)},j);let Fe;this.all.add(ye),ye.notify();const Xe=()=>{ye.cleanup(),Fe?.(),this.all.delete(ye),this.queue.delete(ye)};return Fe=P?.onDestroy(Xe),{destroy:Xe}}flush(){if(0!==this.queue.size)for(const[a,P]of this.queue)this.queue.delete(a),P?P.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=jr({token:e,providedIn:"root",factory:()=>new e})}return e})();function jy(e,s,a){let P=a?e.styles:null,j=a?e.classes:null,ie=0;if(null!==s)for(let ye=0;ye<s.length;ye++){const Fe=s[ye];"number"==typeof Fe?ie=Fe:1==ie?j=un(j,Fe):2==ie&&(P=un(P,Fe+": "+s[++ye]+";"))}a?e.styles=P:e.stylesWithoutHost=P,a?e.classes=j:e.classesWithoutHost=j}function _0(e,s,a,P,j=!1){for(;null!==a;){const ie=s[a.index];null!==ie&&P.push(Ae(ie)),Ko(ie)&&Xw(ie,P);const ye=a.type;if(8&ye)_0(e,s,a.child,P);else if(32&ye){const Fe=Kv(a,s);let Xe;for(;Xe=Fe();)P.push(Xe)}else if(16&ye){const Fe=ly(s,a);if(Array.isArray(Fe))P.push(...Fe);else{const Xe=rv(s[no]);_0(Xe[Zi],Xe,Fe,P,!0)}}a=j?a.projectionNext:a.next}return P}function Xw(e,s){for(let a=fo;a<e.length;a++){const P=e[a],j=P[Zi].firstChild;null!==j&&_0(P[Zi],P,j,s)}e[Xs]!==e[to]&&s.push(e[Xs])}function Wy(e,s,a,P=!0){const j=s[Vs],ie=j.rendererFactory,ye=j.afterRenderEventManager;ie.begin?.(),ye?.begin();try{Kw(e,s,e.template,a)}catch(Xe){throw P&&Yw(s,Xe),Xe}finally{ie.end?.(),j.effectManager?.flush(),ye?.end()}}function Kw(e,s,a,P){const j=s[oa];if(256!=(256&j)){s[Vs].effectManager?.flush(),Tc(s);try{fn(s),function cu(e){return rn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==a&&wv(e,s,a,2,P);const ye=3==(3&j);if(ye){const yt=e.preOrderCheckHooks;null!==yt&&Lh(s,yt,null)}else{const yt=e.preOrderHooks;null!==yt&&Ih(s,yt,0,null),Ph(s,0)}if(function pD(e){for(let s=ey(e);null!==s;s=ty(s)){if(!s[_f])continue;const a=s[Xu];for(let P=0;P<a.length;P++){yn(a[P])}}}(s),Jw(s,2),null!==e.contentQueries&&Gw(e,s),ye){const yt=e.contentCheckHooks;null!==yt&&Lh(s,yt)}else{const yt=e.contentHooks;null!==yt&&Ih(s,yt,1),Ph(s,1)}!function G0(e,s){const a=e.hostBindingOpCodes;if(null===a)return;const P=as(s,fs);try{for(let j=0;j<a.length;j++){const ie=a[j];if(ie<0)Il(~ie);else{const ye=ie,Fe=a[++j],Xe=a[++j];Is(Fe,ye),P.dirty=!1;const yt=Kf(P);try{Xe(2,s[ye])}finally{gf(P,yt)}}}}finally{null===s[fs]&&el(s,fs),Il(-1)}}(e,s);const Fe=e.components;null!==Fe&&Qw(s,Fe,0);const Xe=e.viewQuery;if(null!==Xe&&Fx(2,Xe,P),ye){const yt=e.viewCheckHooks;null!==yt&&Lh(s,yt)}else{const yt=e.viewHooks;null!==yt&&Ih(s,yt,2),Ph(s,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s[oa]&=-73,Hr(s)}finally{Ac()}}}function Jw(e,s){for(let a=ey(e);null!==a;a=ty(a))for(let P=fo;P<a.length;P++)$w(a[P],s)}function gD(e,s,a){$w(Yt(s,e),a)}function $w(e,s){if(!function fr(e){return 128==(128&e[oa])}(e))return;const a=e[Zi],P=e[oa];if(80&P&&0===s||1024&P||2===s)Kw(a,e,a.template,e[Xa]);else if(e[bs]>0){Jw(e,1);const j=a.components;null!==j&&Qw(e,j,1)}}function Qw(e,s,a){for(let P=0;P<s.length;P++)gD(e,s[P],a)}class j0{get rootNodes(){const s=this._lView,a=s[Zi];return _0(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xa]}set context(s){this._lView[Xa]=s}get destroyed(){return 256==(256&this._lView[oa])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Za];if(Ko(s)){const a=s[8],P=a?a.indexOf(this):-1;P>-1&&(rh(s,P),qc(a,P))}this._attachedToViewContainer=!1}Jv(this._lView[Zi],this._lView)}onDestroy(s){!function qr(e,s){if(256==(256&e[oa]))throw new nr(911,!1);null===e[Wl]&&(e[Wl]=[]),e[Wl].push(s)}(this._lView,s)}markForCheck(){aa(this._cdRefInjectingView||this._lView)}detach(){this._lView[oa]&=-129}reattach(){this._lView[oa]|=128}detectChanges(){Wy(this._lView[Zi],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nr(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function G1(e,s){rp(e,s,s[fa],2,null,null)}(this._lView[Zi],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new nr(902,!1);this._appRef=s}}class yD extends j0{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Wy(s[Zi],s,s[Xa],!1)}checkNoChanges(){}get context(){return null}}class qw extends mv{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Ma(s);return new W0(a,this.ngModule)}}function eT(e){const s=[];for(let a in e)e.hasOwnProperty(a)&&s.push({propName:e[a],templateName:a});return s}class xD{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,P){P=zs(P);const j=this.injector.get(s,mp,P);return j!==mp||a===mp?j:this.parentInjector.get(s,a,P)}}class W0 extends Ny{get inputs(){const s=this.componentDef,a=s.inputTransforms,P=eT(s.inputs);if(null!==a)for(const j of P)a.hasOwnProperty(j.propName)&&(j.transform=a[j.propName]);return P}get outputs(){return eT(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Uf(e){return e.map(_u).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,P,j){let ie=(j=j||this.ngModule)instanceof Nl?j:j?.injector;ie&&null!==this.componentDef.getStandaloneInjector&&(ie=this.componentDef.getStandaloneInjector(ie)||ie);const ye=ie?new xD(s,ie):s,Fe=ye.get(Vy,null);if(null===Fe)throw new nr(407,!1);const tr={rendererFactory:Fe,sanitizer:ye.get(Sx,null),effectManager:ye.get(Zw,null),afterRenderEventManager:ye.get(pa,null)},Rr=Fe.createRenderer(null,this.componentDef),Kr=this.componentDef.selectors[0][0]||"div",Sn=P?function GE(e,s,a,P){const ie=P.get(Ra,!1)||a===il.ShadowDom,ye=e.selectRootElement(s,ie);return function _E(e){Ow(e)}(ye),ye}(Rr,P,this.componentDef.encapsulation,ye):fd(Rr,Kr,function mD(e){const s=e.toLowerCase();return"svg"===s?Ja:"math"===s?"math":null}(Kr)),Jn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Xn=null;null!==Sn&&(Xn=V0(Sn,ye,!0));const Qi=Lx(0,null,null,1,0,null,null,null,null,null,null),ma=_h(null,Qi,null,Jn,null,null,tr,Rr,ye,null,Xn);let Da,Ul;Tc(ma);try{const Ah=this.componentDef;let zv,lw=null;Ah.findHostDirectiveDefs?(zv=[],lw=new Map,Ah.findHostDirectiveDefs(Ah,zv,lw),zv.push(Ah)):zv=[Ah];const CN=function wD(e,s){const a=e[Zi],P=wa;return e[P]=s,hh(a,P,2,"#host",null)}(ma,Sn),EN=function TD(e,s,a,P,j,ie,ye){const Fe=j[Zi];!function AD(e,s,a,P){for(const j of e)s.mergedAttrs=ru(s.mergedAttrs,j.hostAttrs);null!==s.mergedAttrs&&(jy(s,s.mergedAttrs,!0),null!==a&&q1(P,a,s))}(P,e,s,ye);let Xe=null;null!==s&&(Xe=V0(s,j[ws]));const yt=ie.rendererFactory.createRenderer(s,a);let Vt=16;a.signals?Vt=4096:a.onPush&&(Vt=64);const tr=_h(j,kw(a),null,Vt,j[e.index],e,ie,yt,null,null,Xe);return Fe.firstCreatePass&&Px(Fe,e,P.length-1),_y(j,tr),j[e.index]=tr}(CN,Sn,Ah,zv,ma,tr,Rr);Ul=Nt(Qi,wa),Sn&&function SD(e,s,a,P){if(P)tu(e,a,["ng-version",Vh.full]);else{const{attrs:j,classes:ie}=function pc(e){const s=[],a=[];let P=1,j=2;for(;P<e.length;){let ie=e[P];if("string"==typeof ie)2===j?""!==ie&&s.push(ie,e[++P]):8===j&&a.push(ie);else{if(!yo(j))break;j=ie}P++}return{attrs:s,classes:a}}(s.selectors[0]);j&&tu(e,a,j),ie&&ie.length>0&&Q1(e,a,ie.join(" "))}}(Rr,Ah,Sn,P),void 0!==a&&function CD(e,s,a){const P=e.projection=[];for(let j=0;j<s.length;j++){const ie=a[j];P.push(null!=ie?Array.from(ie):null)}}(Ul,this.ngContentSelectors,a),Da=function MD(e,s,a,P,j,ie){const ye=ai(),Fe=j[Zi],Xe=at(ye,j);Bw(Fe,j,ye,a,null,P);for(let Vt=0;Vt<a.length;Vt++)kl(Sa(j,Fe,ye.directiveStart+Vt,ye),j);Uw(Fe,j,ye),Xe&&kl(Xe,j);const yt=Sa(j,Fe,ye.directiveStart+ye.componentOffset,ye);if(e[Xa]=j[Xa]=yt,null!==ie)for(const Vt of ie)Vt(yt,s);return jh(Fe,ye,e),yt}(EN,Ah,zv,lw,ma,[ED]),Ox(Qi,ma,null)}finally{Ac()}return new bD(this.componentType,Da,Uh(Ul,ma),ma,Ul)}}class bD extends Cd{constructor(s,a,P,j,ie){super(),this.location=P,this._rootLView=j,this._tNode=ie,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new yD(j),this.componentType=s}setInput(s,a){const P=this._tNode.inputs;let j;if(null!==P&&(j=P[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const ie=this._rootLView;kx(ie[Zi],ie,j,s,a),this.previousInputValues.set(s,a),aa(Yt(this._tNode.index,ie))}}get injector(){return new Ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function ED(){const e=ai();Pl(Gn()[Zi],e)}function Io(e){let s=function tT(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),a=!0;const P=[e];for(;s;){let j;if(Ts(e))j=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new nr(903,!1);j=s.\u0275dir}if(j){if(a){P.push(j);const ye=e;ye.inputs=Yy(e.inputs),ye.inputTransforms=Yy(e.inputTransforms),ye.declaredInputs=Yy(e.declaredInputs),ye.outputs=Yy(e.outputs);const Fe=j.hostBindings;Fe&&PD(e,Fe);const Xe=j.viewQuery,yt=j.contentQueries;if(Xe&&LD(e,Xe),yt&&ID(e,yt),Mr(e.inputs,j.inputs),Mr(e.declaredInputs,j.declaredInputs),Mr(e.outputs,j.outputs),null!==j.inputTransforms&&(null===ye.inputTransforms&&(ye.inputTransforms={}),Mr(ye.inputTransforms,j.inputTransforms)),Ts(j)&&j.data.animation){const Vt=e.data;Vt.animation=(Vt.animation||[]).concat(j.data.animation)}}const ie=j.features;if(ie)for(let ye=0;ye<ie.length;ye++){const Fe=ie[ye];Fe&&Fe.ngInherit&&Fe(e),Fe===Io&&(a=!1)}}s=Object.getPrototypeOf(s)}!function DD(e){let s=0,a=null;for(let P=e.length-1;P>=0;P--){const j=e[P];j.hostVars=s+=j.hostVars,j.hostAttrs=ru(j.hostAttrs,a=ru(a,j.hostAttrs))}}(P)}function Yy(e){return e===Ys?{}:e===_a?[]:e}function LD(e,s){const a=e.viewQuery;e.viewQuery=a?(P,j)=>{s(P,j),a(P,j)}:s}function ID(e,s){const a=e.contentQueries;e.contentQueries=a?(P,j,ie)=>{s(P,j,ie),a(P,j,ie)}:s}function PD(e,s){const a=e.hostBindings;e.hostBindings=a?(P,j)=>{s(P,j),a(P,j)}:s}function aT(e){const s=e.inputConfig,a={};for(const P in s)if(s.hasOwnProperty(P)){const j=s[P];Array.isArray(j)&&j[2]&&(a[P]=j[2])}e.inputTransforms=a}function Zy(e){return!!Nx(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Nx(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function vh(e,s,a){return e[s]=a}function yu(e,s,a){return!Object.is(e[s],a)&&(e[s]=a,!0)}function ph(e,s,a,P){const j=Gn();return yu(j,ga(),s)&&(Kn(),dh(mo(),j,e,s,a,P)),ph}function Ap(e,s,a,P){return yu(e,ga(),a)?s+Ur(a)+P:ba}function Ql(e,s,a,P,j,ie,ye,Fe){const Xe=Gn(),yt=Kn(),Vt=e+wa,tr=yt.firstCreatePass?function r5(e,s,a,P,j,ie,ye,Fe,Xe){const yt=s.consts,Vt=hh(s,e,4,ye||null,Fr(yt,Fe));Ix(s,a,Vt,Fr(yt,Xe)),Pl(s,Vt);const tr=Vt.tView=Lx(2,Vt,P,j,ie,s.directiveRegistry,s.pipeRegistry,null,s.schemas,yt,null);return null!==s.queries&&(s.queries.template(s,Vt),tr.queries=s.queries.embeddedTView(Vt)),Vt}(Vt,yt,Xe,s,a,P,j,ie,ye):yt.data[Vt];za(tr,!1);const Rr=mT(yt,Xe,tr,e);xf()&&Qv(yt,Xe,Rr,tr),kl(Rr,Xe),_y(Xe,Xe[Vt]=Hw(Rr,Xe,Rr,tr)),sl(tr)&&wp(yt,Xe,tr),null!=ye&&Dx(Xe,tr,Fe)}let mT=function xT(e,s,a,P){return bf(!0),s[fa].createComment("")};function qa(e,s,a){const P=Gn();return yu(P,ga(),s)&&Sf(Kn(),mo(),P,e,s,P[fa],a,!1),qa}function Gx(e,s,a,P,j){const ye=j?"class":"style";kx(e,a,s.inputs[ye],ye,P)}function pi(e,s,a,P){const j=Gn(),ie=Kn(),ye=wa+e,Fe=j[fa],Xe=ie.firstCreatePass?function s5(e,s,a,P,j,ie){const ye=s.consts,Xe=hh(s,e,2,P,Fr(ye,j));return Ix(s,a,Xe,Fr(ye,ie)),null!==Xe.attrs&&jy(Xe,Xe.attrs,!1),null!==Xe.mergedAttrs&&jy(Xe,Xe.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,Xe),Xe}(ye,ie,j,s,a,P):ie.data[ye],yt=bT(ie,j,Xe,Fe,s,e);j[ye]=yt;const Vt=sl(Xe);return za(Xe,!0),q1(Fe,yt,Xe),32!=(32&Xe.flags)&&xf()&&Qv(ie,j,yt,Xe),0===function Ei(){return rn.lFrame.elementDepthCount}()&&kl(yt,j),function ki(){rn.lFrame.elementDepthCount++}(),Vt&&(wp(ie,j,Xe),jh(ie,Xe,j)),null!==P&&Dx(j,Xe),pi}function yi(){let e=ai();ho()?function Ba(){rn.lFrame.isParent=!1}():(e=e.parent,za(e,!1));const s=e;(function Gi(e){return rn.skipHydrationRootTNode===e})(s)&&function co(){rn.skipHydrationRootTNode=null}(),function Di(){rn.lFrame.elementDepthCount--}();const a=Kn();return a.firstCreatePass&&(Pl(a,e),Yl(e)&&a.queries.elementEnd(e)),null!=s.classesWithoutHost&&function Et(e){return 0!=(8&e.flags)}(s)&&Gx(a,s,Gn(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Zt(e){return 0!=(16&e.flags)}(s)&&Gx(a,s,Gn(),s.stylesWithoutHost,!1),yi}function ql(e,s,a,P){return pi(e,s,a,P),yi(),ql}let bT=(e,s,a,P,j,ie)=>(bf(!0),fd(P,j,function mf(){return rn.lFrame.currentNamespace}()));function J0(e){return!!e&&"function"==typeof e.then}function MT(e){return!!e&&"function"==typeof e.subscribe}function Bl(e,s,a,P){const j=Gn(),ie=Kn(),ye=ai();return function CT(e,s,a,P,j,ie,ye){const Fe=sl(P),yt=e.firstCreatePass&&function jw(e){return e.cleanup||(e.cleanup=[])}(e),Vt=s[Xa],tr=function _w(e){return e[Ds]||(e[Ds]=[])}(s);let Rr=!0;if(3&P.type||ye){const Rn=at(P,s),Yn=ye?ye(Rn):Rn,Jn=tr.length,Xn=ye?ma=>ye(Ae(ma[P.index])):P.index;let Qi=null;if(!ye&&Fe&&(Qi=function d5(e,s,a,P){const j=e.cleanup;if(null!=j)for(let ie=0;ie<j.length-1;ie+=2){const ye=j[ie];if(ye===a&&j[ie+1]===P){const Fe=s[Ds],Xe=j[ie+2];return Fe.length>Xe?Fe[Xe]:null}"string"==typeof ye&&(ie+=2)}return null}(e,s,j,P.index)),null!==Qi)(Qi.__ngLastListenerFn__||Qi).__ngNextListenerFn__=ie,Qi.__ngLastListenerFn__=ie,Rr=!1;else{ie=DT(P,s,Vt,ie,!1);const ma=a.listen(Yn,j,ie);tr.push(ie,ma),yt&&yt.push(j,Xn,Jn,Jn+1)}}else ie=DT(P,s,Vt,ie,!1);const Kr=P.outputs;let Sn;if(Rr&&null!==Kr&&(Sn=Kr[j])){const Rn=Sn.length;if(Rn)for(let Yn=0;Yn<Rn;Yn+=2){const Da=s[Sn[Yn]][Sn[Yn+1]].subscribe(ie),Ul=tr.length;tr.push(ie,Da),yt&&yt.push(j,P.index,Ul,-(Ul+1))}}}(ie,j,j[fa],ye,e,s,P),Bl}function ET(e,s,a,P){try{return No(6,s,a),!1!==a(P)}catch(j){return Yw(e,j),!1}finally{No(7,s,a)}}function DT(e,s,a,P,j){return function ie(ye){if(ye===Function)return P;aa(e.componentOffset>-1?Yt(e.index,s):s);let Xe=ET(s,a,P,ye),yt=ie.__ngNextListenerFn__;for(;yt;)Xe=ET(s,a,yt,ye)&&Xe,yt=yt.__ngNextListenerFn__;return j&&!1===Xe&&ye.preventDefault(),Xe}}function Nu(e=1){return function td(e){return(rn.lFrame.contextLView=function Jc(e,s){for(;e>0;)s=s[jl],e--;return s}(e,rn.lFrame.contextLView))[Xa]}(e)}function $0(e,s,a,P,j){const ie=Gn(),ye=Ap(ie,s,a,P);return ye!==ba&&Sf(Kn(),mo(),ie,e,ye,ie[fa],j,!1),$0}function Qy(e,s){return e<<17|s<<2}function Dd(e){return e>>17&32767}function Wx(e){return 2|e}function Av(e){return(131068&e)>>2}function Yx(e,s){return-131069&e|s<<2}function Zx(e){return 1|e}function BT(e,s,a,P,j){const ie=e[a+1],ye=null===s;let Fe=P?Dd(ie):Av(ie),Xe=!1;for(;0!==Fe&&(!1===Xe||ye);){const Vt=e[Fe+1];T5(e[Fe],s)&&(Xe=!0,e[Fe+1]=P?Zx(Vt):Wx(Vt)),Fe=P?Dd(Vt):Av(Vt)}Xe&&(e[a+1]=P?Wx(ie):Zx(ie))}function T5(e,s){return null===e||null==s||(Array.isArray(e)?e[1]:e)===s||!(!Array.isArray(e)||"string"!=typeof s)&&qf(e,s)>=0}function qy(e,s){return function Oc(e,s,a,P){const j=Gn(),ie=Kn(),ye=function xa(e){const s=rn.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+e,a}(2);ie.firstUpdatePass&&function ZT(e,s,a,P){const j=e.data;if(null===j[a+1]){const ie=j[Gs()],ye=function YT(e,s){return s>=e.expandoStartIndex}(e,a);(function $T(e,s){return 0!=(e.flags&(s?8:16))})(ie,P)&&null===s&&!ye&&(s=!1),s=function P5(e,s,a,P){const j=function hl(e){const s=rn.lFrame.currentDirectiveIndex;return-1===s?null:e[s]}(e);let ie=P?s.residualClasses:s.residualStyles;if(null===j)0===(P?s.classBindings:s.styleBindings)&&(a=Q0(a=Xx(null,e,s,a,P),s.attrs,P),ie=null);else{const ye=s.directiveStylingLast;if(-1===ye||e[ye]!==j)if(a=Xx(j,e,s,a,P),null===ie){let Xe=function R5(e,s,a){const P=a?s.classBindings:s.styleBindings;if(0!==Av(P))return e[Dd(P)]}(e,s,P);void 0!==Xe&&Array.isArray(Xe)&&(Xe=Xx(null,e,s,Xe[1],P),Xe=Q0(Xe,s.attrs,P),function F5(e,s,a,P){e[Dd(a?s.classBindings:s.styleBindings)]=P}(e,s,P,Xe))}else ie=function k5(e,s,a){let P;const j=s.directiveEnd;for(let ie=1+s.directiveStylingLast;ie<j;ie++)P=Q0(P,e[ie].hostAttrs,a);return Q0(P,s.attrs,a)}(e,s,P)}return void 0!==ie&&(P?s.residualClasses=ie:s.residualStyles=ie),a}(j,ie,s,P),function b5(e,s,a,P,j,ie){let ye=ie?s.classBindings:s.styleBindings,Fe=Dd(ye),Xe=Av(ye);e[P]=a;let Vt,yt=!1;if(Array.isArray(a)?(Vt=a[1],(null===Vt||qf(a,Vt)>0)&&(yt=!0)):Vt=a,j)if(0!==Xe){const Rr=Dd(e[Fe+1]);e[P+1]=Qy(Rr,Fe),0!==Rr&&(e[Rr+1]=Yx(e[Rr+1],P)),e[Fe+1]=function m5(e,s){return 131071&e|s<<17}(e[Fe+1],P)}else e[P+1]=Qy(Fe,0),0!==Fe&&(e[Fe+1]=Yx(e[Fe+1],P)),Fe=P;else e[P+1]=Qy(Xe,0),0===Fe?Fe=P:e[Xe+1]=Yx(e[Xe+1],P),Xe=P;yt&&(e[P+1]=Wx(e[P+1])),BT(e,Vt,P,!0),BT(e,Vt,P,!1),function w5(e,s,a,P,j){const ie=j?e.residualClasses:e.residualStyles;null!=ie&&"string"==typeof s&&qf(ie,s)>=0&&(a[P+1]=Zx(a[P+1]))}(s,Vt,e,P,ie),ye=Qy(Fe,Xe),ie?s.classBindings=ye:s.styleBindings=ye}(j,ie,s,a,ye,P)}}(ie,e,ye,P),s!==ba&&yu(j,ye,s)&&function KT(e,s,a,P,j,ie,ye,Fe){if(!(3&s.type))return;const Xe=e.data,yt=Xe[Fe+1],Vt=function x5(e){return 1==(1&e)}(yt)?JT(Xe,s,a,j,Av(yt),ye):void 0;em(Vt)||(em(ie)||function y5(e){return 2==(2&e)}(yt)&&(ie=JT(Xe,null,a,j,Fe,ye)),function $1(e,s,a,P,j){if(s)j?e.addClass(a,P):e.removeClass(a,P);else{let ie=-1===P.indexOf("-")?void 0:th.DashCase;null==j?e.removeStyle(a,P,ie):("string"==typeof j&&j.endsWith("!important")&&(j=j.slice(0,-10),ie|=th.Important),e.setStyle(a,P,j,ie))}}(P,ye,it(Gs(),a),j,ie))}(ie,ie.data[Gs()],j,j[fa],e,j[ye+1]=function B5(e,s){return null==e||""===e||("string"==typeof s?e+=s:"object"==typeof e&&(e=kr(nh(e)))),e}(s,a),P,ye)}(e,s,null,!0),qy}function Xx(e,s,a,P,j){let ie=null;const ye=a.directiveEnd;let Fe=a.directiveStylingLast;for(-1===Fe?Fe=a.directiveStart:Fe++;Fe<ye&&(ie=s[Fe],P=Q0(P,ie.hostAttrs,j),ie!==e);)Fe++;return null!==e&&(a.directiveStylingLast=Fe),P}function Q0(e,s,a){const P=a?1:2;let j=-1;if(null!==s)for(let ie=0;ie<s.length;ie++){const ye=s[ie];"number"==typeof ye?j=ye:j===P&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Jl(e,ye,!!a||s[++ie]))}return void 0===e?null:e}function JT(e,s,a,P,j,ie){const ye=null===s;let Fe;for(;j>0;){const Xe=e[j],yt=Array.isArray(Xe),Vt=yt?Xe[1]:Xe,tr=null===Vt;let Rr=a[j+1];Rr===ba&&(Rr=tr?_a:void 0);let Kr=tr?jd(Rr,P):Vt===P?Rr:void 0;if(yt&&!em(Kr)&&(Kr=jd(Xe,P)),em(Kr)&&(Fe=Kr,ye))return Fe;const Sn=e[j+1];j=ye?Dd(Sn):Av(Sn)}if(null!==s){let Xe=ie?s.residualClasses:s.residualStyles;null!=Xe&&(Fe=jd(Xe,P))}return Fe}function em(e){return void 0!==e}function Ti(e,s=""){const a=Gn(),P=Kn(),j=e+wa,ie=P.firstCreatePass?hh(P,j,1,s,null):P.data[j],ye=QT(P,a,ie,s,e);a[j]=ye,xf()&&Qv(P,a,ye,ie),za(ie,!1)}let QT=(e,s,a,P,j)=>(bf(!0),function Cc(e,s){return e.createText(s)}(s[fa],P));function mh(e){return Uo("",e,""),mh}function Uo(e,s,a){const P=Gn(),j=Ap(P,e,s,a);return j!==ba&&function Wh(e,s,a){const P=it(s,e);!function ny(e,s,a){e.setValue(s,a)}(e[fa],P,a)}(P,Gs(),j),Uo}const Mv=void 0;var oL=["en",[["a","p"],["AM","PM"],Mv],[["AM","PM"],Mv,Mv],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mv,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mv,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mv,"{1} 'at' {0}",Mv],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aL(e){const a=Math.floor(Math.abs(e)),P=e.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===P?1:5}];let Rp={};function zu(e){const s=function sL(e){return e.toLowerCase().replace(/_/g,"-")}(e);let a=xA(s);if(a)return a;const P=s.split("-")[0];if(a=xA(P),a)return a;if("en"===P)return oL;throw new nr(701,!1)}function xA(e){return e in Rp||(Rp[e]=mi.ng&&mi.ng.common&&mi.ng.common.locales&&mi.ng.common.locales[e]),Rp[e]}var ts=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ts||{});const Fp="en-US";let bA=Fp;function $x(e,s,a,P,j){if(e=$r(e),Array.isArray(e))for(let ie=0;ie<e.length;ie++)$x(e[ie],s,a,P,j);else{const ie=Kn(),ye=Gn(),Fe=ai();let Xe=sh(e)?e:$r(e.provide);const yt=Dy(e),Vt=1048575&Fe.providerIndexes,tr=Fe.directiveStart,Rr=Fe.providerIndexes>>20;if(sh(e)||!e.multi){const Kr=new ne(yt,j,oi),Sn=qx(Xe,s,j?Vt:Vt+Rr,tr);-1===Sn?(Vi(Ai(Fe,ye),ie,Xe),Qx(ie,e,s.length),s.push(Xe),Fe.directiveStart++,Fe.directiveEnd++,j&&(Fe.providerIndexes+=1048576),a.push(Kr),ye.push(Kr)):(a[Sn]=Kr,ye[Sn]=Kr)}else{const Kr=qx(Xe,s,Vt+Rr,tr),Sn=qx(Xe,s,Vt,Vt+Rr),Yn=Sn>=0&&a[Sn];if(j&&!Yn||!j&&!(Kr>=0&&a[Kr])){Vi(Ai(Fe,ye),ie,Xe);const Jn=function aI(e,s,a,P,j){const ie=new ne(e,a,oi);return ie.multi=[],ie.index=s,ie.componentProviders=0,WA(ie,j,P&&!a),ie}(j?iI:nI,a.length,j,P,yt);!j&&Yn&&(a[Sn].providerFactory=Jn),Qx(ie,e,s.length,0),s.push(Xe),Fe.directiveStart++,Fe.directiveEnd++,j&&(Fe.providerIndexes+=1048576),a.push(Jn),ye.push(Jn)}else Qx(ie,e,Kr>-1?Kr:Sn,WA(a[j?Sn:Kr],yt,!j&&P));!j&&P&&Yn&&a[Sn].componentProviders++}}}function Qx(e,s,a,P){const j=sh(s),ie=function Ey(e){return!!e.useClass}(s);if(j||ie){const Xe=(ie?$r(s.useClass):s).prototype.ngOnDestroy;if(Xe){const yt=e.destroyHooks||(e.destroyHooks=[]);if(!j&&s.multi){const Vt=yt.indexOf(a);-1===Vt?yt.push(a,[P,Xe]):yt[Vt+1].push(P,Xe)}else yt.push(a,Xe)}}}function WA(e,s,a){return a&&e.componentProviders++,e.multi.push(s)-1}function qx(e,s,a,P){for(let j=a;j<P;j++)if(s[j]===e)return j;return-1}function nI(e,s,a,P){return e2(this.multi,[])}function iI(e,s,a,P){const j=this.multi;let ie;if(this.providerFactory){const ye=this.providerFactory.componentProviders,Fe=Sa(a,a[Zi],this.providerFactory.index,P);ie=Fe.slice(0,ye),e2(j,ie);for(let Xe=ye;Xe<Fe.length;Xe++)ie.push(Fe[Xe])}else ie=[],e2(j,ie);return ie}function e2(e,s){for(let a=0;a<e.length;a++)s.push((0,e[a])());return s}function ms(e,s=[]){return a=>{a.providersResolver=(P,j)=>function rI(e,s,a){const P=Kn();if(P.firstCreatePass){const j=Ts(e);$x(a,P.data,P.blueprint,j,!0),$x(s,P.data,P.blueprint,j,!1)}}(P,j?j(e):e,s)}}class Sv{}class YA{}class t2 extends Sv{constructor(s,a,P){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qw(this);const j=Es(s);this._bootstrapComponents=Bi(j.bootstrap),this._r3Injector=Gy(s,a,[{provide:Sv,useValue:this},{provide:mv,useValue:this.componentFactoryResolver},...P],kr(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class r2 extends YA{constructor(s){super(),this.moduleType=s}create(s){return new t2(this.moduleType,s,[])}}class ZA extends Sv{constructor(s){super(),this.componentFactoryResolver=new qw(this),this.instance=null;const a=new vp([...s.providers,{provide:Sv,useValue:this},{provide:mv,useValue:this.componentFactoryResolver}],s.parent||Bh(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function n2(e,s,a=null){return new ZA({providers:e,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let lI=(()=>{class e{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const P=F0(0,a.type),j=P.length>0?n2([P],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,j)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=jr({token:e,providedIn:"environment",factory:()=>new e(Ji(Nl))})}return e})();function XA(e){e.getStandaloneInjector=s=>s.get(lI).getOrCreateStandaloneInjector(e)}function am(e,s,a,P){return function tM(e,s,a,P,j,ie){const ye=s+a;return yu(e,ye,j)?vh(e,ye+1,ie?P.call(ie,j):P(j)):ig(e,ye+1)}(Gn(),ya(),e,s,a,P)}function ig(e,s){const a=e[s];return a===ba?void 0:a}function rM(e,s,a,P,j,ie,ye){const Fe=s+a;return function Tv(e,s,a,P){const j=yu(e,s,a);return yu(e,s+1,P)||j}(e,Fe,j,ie)?vh(e,Fe+2,ye?P.call(ye,j,ie):P(j,ie)):ig(e,Fe+2)}function So(e,s){const a=Kn();let P;const j=e+wa;a.firstCreatePass?(P=function CI(e,s){if(s)for(let a=s.length-1;a>=0;a--){const P=s[a];if(e===P.name)return P}}(s,a.pipeRegistry),a.data[j]=P,P.onDestroy&&(a.destroyHooks??=[]).push(j,P.onDestroy)):P=a.data[j];const ie=P.factory||(P.factory=lu(P.type)),Fe=wi(oi);try{const Xe=ln(!1),yt=ie();return ln(Xe),function a5(e,s,a,P){a>=e.data.length&&(e.data[a]=null,e.blueprint[a]=null),s[a]=P}(a,Gn(),j,yt),yt}finally{wi(Fe)}}function Co(e,s,a,P){const j=e+wa,ie=Gn(),ye=function Dt(e,s){return e[s]}(ie,j);return function ag(e,s){return e[Zi].data[s].pure}(ie,j)?rM(ie,ya(),s,ye.transform,a,P,ye):ye.transform(a,P)}function FI(e,s,a,P=!0){const j=s[Zi];if(function j1(e,s,a,P){const j=fo+P,ie=a.length;P>0&&(a[j-1][ko]=s),P<ie-fo?(s[ko]=a[j],Rh(a,fo+P,s)):(a.push(s),s[ko]=null),s[Za]=a;const ye=s[Cu];null!==ye&&a!==ye&&function W1(e,s){const a=e[Xu];s[no]!==s[Za][Za][no]&&(e[_f]=!0),null===a?e[Xu]=[s]:a.push(s)}(ye,s);const Fe=s[El];null!==Fe&&Fe.insertView(e),s[oa]|=128}(j,s,e,a),P){const ie=qv(a,e),ye=s[fa],Fe=$v(ye,e[Xs]);null!==Fe&&function Tf(e,s,a,P,j,ie){P[to]=j,P[uo]=s,rp(e,P,a,1,j,ie)}(j,e[uo],ye,s,Fe,ie)}}Symbol;let Yh=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=NI}return e})();const kI=Yh,OI=class extends kI{constructor(s,a,P){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=P}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,P){const j=function RI(e,s,a,P){const j=s.tView,Fe=_h(e,j,a,4096&e[oa]?4096:16,null,s,null,null,null,P?.injector??null,P?.hydrationInfo??null);Fe[Cu]=e[s.index];const yt=e[El];return null!==yt&&(Fe[El]=yt.createEmbeddedView(j)),Ox(j,Fe,a),Fe}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:P});return new j0(j)}};function NI(){return function om(e,s){return 4&e.type?new OI(s,e,Uh(e,s)):null}(ai(),Gn())}let zc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=GI}return e})();function GI(){return function hM(e,s){let a;const P=s[e.index];return Ko(P)?a=P:(a=Hw(P,s,null,e),s[e.index]=a,_y(s,a)),dM(a,s,e,P),new fM(a,e,s)}(ai(),Gn())}const _I=zc,fM=class extends _I{constructor(s,a,P){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=P}get element(){return Uh(this._hostTNode,this._hostLView)}get injector(){return new Ua(this._hostTNode,this._hostLView)}get parentInjector(){const s=Oi(this._hostTNode,this._hostLView);if(Er(s)){const a=tn(s,this._hostLView),P=Vr(s);return new Ua(a[Zi].data[P+8],a)}return new Ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=cM(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-fo}createEmbeddedView(s,a,P){let j,ie;"number"==typeof P?j=P:null!=P&&(j=P.index,ie=P.injector);const Fe=s.createEmbeddedViewImpl(a||{},ie,null);return this.insertImpl(Fe,j,false),Fe}createComponent(s,a,P,j,ie){const ye=s&&!function sf(e){return"function"==typeof e}(s);let Fe;if(ye)Fe=a;else{const Rn=a||{};Fe=Rn.index,P=Rn.injector,j=Rn.projectableNodes,ie=Rn.environmentInjector||Rn.ngModuleRef}const Xe=ye?s:new W0(Ma(s)),yt=P||this.parentInjector;if(!ie&&null==Xe.ngModule){const Yn=(ye?yt:this.parentInjector).get(Nl,null);Yn&&(ie=Yn)}Ma(Xe.componentType??{});const Kr=Xe.create(yt,j,null,ie);return this.insertImpl(Kr.hostView,Fe,false),Kr}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,P){const j=s._lView;if(function zr(e){return Ko(e[Za])}(j)){const Xe=this.indexOf(s);if(-1!==Xe)this.detach(Xe);else{const yt=j[Za],Vt=new fM(yt,yt[uo],yt[Za]);Vt.detach(Vt.indexOf(s))}}const ye=this._adjustIndex(a),Fe=this._lContainer;return FI(Fe,j,ye,!P),s.attachToViewContainerRef(),Rh(o2(Fe),ye,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=cM(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),P=rh(this._lContainer,a);P&&(qc(o2(this._lContainer),a),Jv(P[Zi],P))}detach(s){const a=this._adjustIndex(s,-1),P=rh(this._lContainer,a);return P&&null!=qc(o2(this._lContainer),a)?new j0(P):null}_adjustIndex(s,a=0){return s??this.length+a}};function cM(e){return e[8]}function o2(e){return e[8]||(e[8]=[])}let dM=function vM(e,s,a,P){if(e[Xs])return;let j;j=8&a.type?Ae(P):function jI(e,s){const a=e[fa],P=a.createComment(""),j=at(s,e);return Nh(a,$v(a,j),P,function oy(e,s){return e.nextSibling(s)}(a,j),!1),P}(s,a),e[Xs]=j};const y2=new ia("Application Initializer");let m2=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,P)=>{this.resolve=a,this.reject=P}),this.appInits=Ki(y2,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const j of this.appInits){const ie=j();if(J0(ie))a.push(ie);else if(MT(ie)){const ye=new Promise((Fe,Xe)=>{ie.subscribe({complete:Fe,error:Xe})});a.push(ye)}}const P=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{P()}).catch(j=>{this.reject(j)}),0===a.length&&P(),this.initialized=!0}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),UM=(()=>{class e{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Zh=new ia("LocaleId",{providedIn:"root",factory:()=>Ki(Zh,dn.Optional|dn.SkipSelf)||function wP(){return typeof $localize<"u"&&$localize.locale||Fp}()});let um=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kt(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class MP{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let VM=(()=>{class e{compileModuleSync(a){return new r2(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const P=this.compileModuleSync(a),ie=Bi(Es(a).declarations).reduce((ye,Fe)=>{const Xe=Ma(Fe);return Xe&&ye.push(new W0(Xe)),ye},[]);return new MP(P,ie)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const jM=new ia(""),cm=new ia("");let A2,w2=(()=>{class e{constructor(a,P,j){this._ngZone=a,this.registry=P,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,A2||(function jP(e){A2=e}(j),j.addToWindow(P)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(P=>!P.updateCb||!P.updateCb(a)||(clearTimeout(P.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,P,j){let ie=-1;P&&P>0&&(ie=setTimeout(()=>{this._callbacks=this._callbacks.filter(ye=>ye.timeoutId!==ie),a(this._didWork,this.getPendingTasks())},P)),this._callbacks.push({doneCb:a,timeoutId:ie,updateCb:j})}whenStable(a,P,j){if(j&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,P,j),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,P,j){return[]}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(Mt),Ji(T2),Ji(cm))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})(),T2=(()=>{class e{constructor(){this._applications=new Map}registerApplication(a,P){this._applications.set(a,P)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,P=!0){return A2?.findTestabilityInTree(this,a,P)??null}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ld=null;const WM=new ia("AllowMultipleToken"),M2=new ia("PlatformDestroyListeners"),S2=new ia("appBootstrapListener");class ZM{constructor(s,a){this.name=s,this.token=a}}function KM(e,s,a=[]){const P=`Platform: ${s}`,j=new ia(P);return(ie=[])=>{let ye=C2();if(!ye||ye.injector.get(WM,!1)){const Fe=[...a,...ie,{provide:j,useValue:!0}];e?e(Fe):function ZP(e){if(Ld&&!Ld.get(WM,!1))throw new nr(400,!1);(function YM(){!function Tt(e){st=e}(()=>{throw new nr(600,!1)})})(),Ld=e;const s=e.get($M);(function XM(e){e.get(Iy,null)?.forEach(a=>a())})(e)}(function JM(e=[],s){return Ou.create({name:s,providers:[{provide:lh,useValue:"platform"},{provide:M2,useValue:new Set([()=>Ld=null])},...e]})}(Fe,P))}return function KP(e){const s=C2();if(!s)throw new nr(401,!1);return s}()}}function C2(){return Ld?.get($M)??null}let $M=(()=>{class e{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,P){const j=function JP(e="zone.js",s){return"noop"===e?new hn:"zone.js"===e?new Mt(s):e}(P?.ngZone,function QM(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:P?.ngZoneEventCoalescing,runCoalescing:P?.ngZoneRunCoalescing}));return j.run(()=>{const ie=function sI(e,s,a){return new t2(e,s,a)}(a.moduleType,this.injector,function n3(e){return[{provide:Mt,useFactory:e},{provide:hv,multi:!0,useFactory:()=>{const s=Ki(QP,{optional:!0});return()=>s.initialize()}},{provide:r3,useFactory:$P},{provide:On,useFactory:Ln}]}(()=>j)),ye=ie.injector.get(nc,null);return j.runOutsideAngular(()=>{const Fe=j.onError.subscribe({next:Xe=>{ye.handleError(Xe)}});ie.onDestroy(()=>{hm(this._modules,ie),Fe.unsubscribe()})}),function qM(e,s,a){try{const P=a();return J0(P)?P.catch(j=>{throw s.runOutsideAngular(()=>e.handleError(j)),j}):P}catch(P){throw s.runOutsideAngular(()=>e.handleError(P)),P}}(ye,j,()=>{const Fe=ie.injector.get(m2);return Fe.runInitializers(),Fe.donePromise.then(()=>(function wA(e){ii(e,"Expected localeId to be defined"),"string"==typeof e&&(bA=e.toLowerCase().replace(/_/g,"-"))}(ie.injector.get(Zh,Fp)||Fp),this._moduleDoBootstrap(ie),ie))})})}bootstrapModule(a,P=[]){const j=e3({},P);return function WP(e,s,a){const P=new r2(a);return Promise.resolve(P)}(0,0,a).then(ie=>this.bootstrapModuleFactory(ie,j))}_moduleDoBootstrap(a){const P=a.injector.get(Np);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(j=>P.bootstrap(j));else{if(!a.instance.ngDoBootstrap)throw new nr(-403,!1);a.instance.ngDoBootstrap(P)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nr(404,!1);this._modules.slice().forEach(P=>P.destroy()),this._destroyListeners.forEach(P=>P());const a=this._injector.get(M2,null);a&&(a.forEach(P=>P()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(Ou))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function e3(e,s){return Array.isArray(s)?s.reduce(e3,e):{...e,...s}}let Np=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ki(r3),this.zoneIsStable=Ki(On),this.componentTypes=[],this.components=[],this.isStable=Ki(um).hasPendingTasks.pipe(or(a=>a?Xt(!1):this.zoneIsStable),function Ht(e,s=E){return e=e??pr,U((a,P)=>{let j,ie=!0;a.subscribe(G(P,ye=>{const Fe=s(ye);(ie||!e(j,Fe))&&(ie=!1,j=Fe,P.next(ye))}))})}(),ur()),this._injector=Ki(Nl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,P){const j=a instanceof Ny;if(!this._injector.get(m2).done)throw!j&&function Cl(e){const s=Ma(e)||Fo(e)||us(e);return null!==s&&s.standalone}(a),new nr(405,!1);let ye;ye=j?a:this._injector.get(mv).resolveComponentFactory(a),this.componentTypes.push(ye.componentType);const Fe=function YP(e){return e.isBoundToModule}(ye)?void 0:this._injector.get(Sv),yt=ye.create(Ou.NULL,[],P||ye.selector,Fe),Vt=yt.location.nativeElement,tr=yt.injector.get(jM,null);return tr?.registerApplication(Vt),yt.onDestroy(()=>{this.detachView(yt.hostView),hm(this.components,yt),tr?.unregisterApplication(Vt)}),this._loadComponent(yt),yt}tick(){if(this._runningTick)throw new nr(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const P=a;this._views.push(P),P.attachToAppRef(this)}detachView(a){const P=a;hm(this._views,P),P.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const P=this._injector.get(S2,[]);P.push(...this._bootstrapListeners),P.forEach(j=>j(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>hm(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new nr(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hm(e,s){const a=e.indexOf(s);a>-1&&e.splice(a,1)}const r3=new ia("",{providedIn:"root",factory:()=>Ki(nc).handleError.bind(void 0)});function $P(){const e=Ki(Mt),s=Ki(nc);return a=>e.runOutsideAngular(()=>s.handleError(a))}let QP=(()=>{class e{constructor(){this.zone=Ki(Mt),this.applicationRef=Ki(Np)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let lg=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=eR}return e})();function eR(e){return function tR(e,s,a){if(au(e)&&!a){const P=Yt(e.index,s);return new j0(P,P)}return 47&e.type?new j0(s[no],s):null}(ai(),Gn(),16==(16&e))}class s3{constructor(){}supports(s){return Zy(s)}create(s){return new sR(s)}}const oR=(e,s)=>s;class sR{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||oR}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,P=this._removalsHead,j=0,ie=null;for(;a||P;){const ye=!P||a&&a.currentIndex<u3(P,j,ie)?a:P,Fe=u3(ye,j,ie),Xe=ye.currentIndex;if(ye===P)j--,P=P._nextRemoved;else if(a=a._next,null==ye.previousIndex)j++;else{ie||(ie=[]);const yt=Fe-j,Vt=Xe-j;if(yt!=Vt){for(let Rr=0;Rr<yt;Rr++){const Kr=Rr<ie.length?ie[Rr]:ie[Rr]=0,Sn=Kr+Rr;Vt<=Sn&&Sn<yt&&(ie[Rr]=Kr+1)}ie[ye.previousIndex]=Vt-yt}}Fe!==Xe&&s(ye,Fe,Xe)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Zy(s))throw new nr(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let j,ie,ye,a=this._itHead,P=!1;if(Array.isArray(s)){this.length=s.length;for(let Fe=0;Fe<this.length;Fe++)ie=s[Fe],ye=this._trackByFn(Fe,ie),null!==a&&Object.is(a.trackById,ye)?(P&&(a=this._verifyReinsertion(a,ie,ye,Fe)),Object.is(a.item,ie)||this._addIdentityChange(a,ie)):(a=this._mismatch(a,ie,ye,Fe),P=!0),a=a._next}else j=0,function BD(e,s){if(Array.isArray(e))for(let a=0;a<e.length;a++)s(e[a]);else{const a=e[Symbol.iterator]();let P;for(;!(P=a.next()).done;)s(P.value)}}(s,Fe=>{ye=this._trackByFn(j,Fe),null!==a&&Object.is(a.trackById,ye)?(P&&(a=this._verifyReinsertion(a,Fe,ye,j)),Object.is(a.item,Fe)||this._addIdentityChange(a,Fe)):(a=this._mismatch(a,Fe,ye,j),P=!0),a=a._next,j++}),this.length=j;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,P,j){let ie;return null===s?ie=this._itTail:(ie=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(P,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,ie,j)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(P,j))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,ie,j)):s=this._addAfter(new lR(a,P),ie,j),s}_verifyReinsertion(s,a,P,j){let ie=null===this._unlinkedRecords?null:this._unlinkedRecords.get(P,null);return null!==ie?s=this._reinsertAfter(ie,s._prev,j):s.currentIndex!=j&&(s.currentIndex=j,this._addToMoves(s,j)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,P){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const j=s._prevRemoved,ie=s._nextRemoved;return null===j?this._removalsHead=ie:j._nextRemoved=ie,null===ie?this._removalsTail=j:ie._prevRemoved=j,this._insertAfter(s,a,P),this._addToMoves(s,P),s}_moveAfter(s,a,P){return this._unlink(s),this._insertAfter(s,a,P),this._addToMoves(s,P),s}_addAfter(s,a,P){return this._insertAfter(s,a,P),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,P){const j=null===a?this._itHead:a._next;return s._next=j,s._prev=a,null===j?this._itTail=s:j._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new l3),this._linkedRecords.put(s),s.currentIndex=P,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,P=s._next;return null===a?this._itHead=P:a._next=P,null===P?this._itTail=a:P._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new l3),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class lR{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uR{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let P;for(P=this._head;null!==P;P=P._nextDup)if((null===a||a<=P.currentIndex)&&Object.is(P.trackById,s))return P;return null}remove(s){const a=s._prevDup,P=s._nextDup;return null===a?this._head=P:a._nextDup=P,null===P?this._tail=a:P._prevDup=a,null===this._head}}class l3{constructor(){this.map=new Map}put(s){const a=s.trackById;let P=this.map.get(a);P||(P=new uR,this.map.set(a,P)),P.add(s)}get(s,a){const j=this.map.get(s);return j?j.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function u3(e,s,a){const P=e.previousIndex;if(null===P)return P;let j=0;return a&&P<a.length&&(j=a[P]),P+s+j}class f3{constructor(){}supports(s){return s instanceof Map||Nx(s)}create(){return new fR}}class fR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Nx(s)))throw new nr(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(P,j)=>{if(a&&a.key===j)this._maybeAddToChanges(a,P),this._appendAfter=a,a=a._next;else{const ie=this._getOrCreateRecordForKey(j,P);a=this._insertBeforeOrAppend(a,ie)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let P=a;null!==P;P=P._nextRemoved)P===this._mapHead&&(this._mapHead=null),this._records.delete(P.key),P._nextRemoved=P._next,P.previousValue=P.currentValue,P.currentValue=null,P._prev=null,P._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const P=s._prev;return a._next=s,a._prev=P,s._prev=a,P&&(P._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const j=this._records.get(s);this._maybeAddToChanges(j,a);const ie=j._prev,ye=j._next;return ie&&(ie._next=ye),ye&&(ye._prev=ie),j._next=null,j._prev=null,j}const P=new cR(s);return this._records.set(s,P),P.currentValue=a,this._addToAdditions(P),P}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(P=>a(s[P],P))}}class cR{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function c3(){return new pm([new s3])}let pm=(()=>{class e{static#e=this.\u0275prov=jr({token:e,providedIn:"root",factory:c3});constructor(a){this.factories=a}static create(a,P){if(null!=P){const j=P.factories.slice();a=a.concat(j)}return new e(a)}static extend(a){return{provide:e,useFactory:P=>e.create(a,P||c3()),deps:[[e,new s0,new Hv]]}}find(a){const P=this.factories.find(j=>j.supports(a));if(null!=P)return P;throw new nr(901,!1)}}return e})();function h3(){return new ug([new f3])}let ug=(()=>{class e{static#e=this.\u0275prov=jr({token:e,providedIn:"root",factory:h3});constructor(a){this.factories=a}static create(a,P){if(P){const j=P.factories.slice();a=a.concat(j)}return new e(a)}static extend(a){return{provide:e,useFactory:P=>e.create(a,P||h3()),deps:[[e,new s0,new Hv]]}}find(a){const P=this.factories.find(j=>j.supports(a));if(P)return P;throw new nr(901,!1)}}return e})();const vR=KM(null,"core",[]);let pR=(()=>{class e{constructor(a){}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(Np))};static#t=this.\u0275mod=Yo({type:e});static#r=this.\u0275inj=vn({})}return e})();function zp(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let R2=null;function Id(){return R2}class LR{}const Cf=new ia("DocumentToken");let F2=(()=>{class e{historyGo(a){throw new Error("Not implemented")}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:function(){return Ki(PR)},providedIn:"platform"})}return e})();const IR=new ia("Location Initialized");let PR=(()=>{class e extends F2{constructor(){super(),this._doc=Ki(Cf),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Id().getBaseHref(this._doc)}onPopState(a){const P=Id().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",a,!1),()=>P.removeEventListener("popstate",a)}onHashChange(a){const P=Id().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",a,!1),()=>P.removeEventListener("hashchange",a)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(a){this._location.pathname=a}pushState(a,P,j){this._history.pushState(a,P,j)}replaceState(a,P,j){this._history.replaceState(a,P,j)}forward(){this._history.forward()}back(){this._history.back()}historyGo(a=0){this._history.go(a)}getState(){return this._history.state}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function k2(e,s){if(0==e.length)return s;if(0==s.length)return e;let a=0;return e.endsWith("/")&&a++,s.startsWith("/")&&a++,2==a?e+s.substring(1):1==a?e+s:e+"/"+s}function w3(e){const s=e.match(/#|\?|$/),a=s&&s.index||e.length;return e.slice(0,a-("/"===e[a-1]?1:0))+e.slice(a)}function Xh(e){return e&&"?"!==e[0]?"?"+e:e}let Ev=(()=>{class e{historyGo(a){throw new Error("Not implemented")}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:function(){return Ki(A3)},providedIn:"root"})}return e})();const T3=new ia("appBaseHref");let A3=(()=>{class e extends Ev{constructor(a,P){super(),this._platformLocation=a,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??Ki(Cf).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}getBaseHref(){return this._baseHref}prepareExternalUrl(a){return k2(this._baseHref,a)}path(a=!1){const P=this._platformLocation.pathname+Xh(this._platformLocation.search),j=this._platformLocation.hash;return j&&a?`${P}${j}`:P}pushState(a,P,j,ie){const ye=this.prepareExternalUrl(j+Xh(ie));this._platformLocation.pushState(a,P,ye)}replaceState(a,P,j,ie){const ye=this.prepareExternalUrl(j+Xh(ie));this._platformLocation.replaceState(a,P,ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(a=0){this._platformLocation.historyGo?.(a)}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(F2),Ji(T3,8))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),RR=(()=>{class e extends Ev{constructor(a,P){super(),this._platformLocation=a,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}getBaseHref(){return this._baseHref}path(a=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(a){const P=k2(this._baseHref,a);return P.length>0?"#"+P:P}pushState(a,P,j,ie){let ye=this.prepareExternalUrl(j+Xh(ie));0==ye.length&&(ye=this._platformLocation.pathname),this._platformLocation.pushState(a,P,ye)}replaceState(a,P,j,ie){let ye=this.prepareExternalUrl(j+Xh(ie));0==ye.length&&(ye=this._platformLocation.pathname),this._platformLocation.replaceState(a,P,ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(a=0){this._platformLocation.historyGo?.(a)}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(F2),Ji(T3,8))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})(),O2=(()=>{class e{constructor(a){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=a;const P=this._locationStrategy.getBaseHref();this._basePath=function OR(e){if(new RegExp("^(https?:)?//").test(e)){const[,a]=e.split(/\/\/[^\/]+/);return a}return e}(w3(M3(P))),this._locationStrategy.onPopState(j=>{this._subject.emit({url:this.path(!0),pop:!0,state:j.state,type:j.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(a=!1){return this.normalize(this._locationStrategy.path(a))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(a,P=""){return this.path()==this.normalize(a+Xh(P))}normalize(a){return e.stripTrailingSlash(function kR(e,s){if(!e||!s.startsWith(e))return s;const a=s.substring(e.length);return""===a||["/",";","?","#"].includes(a[0])?a:s}(this._basePath,M3(a)))}prepareExternalUrl(a){return a&&"/"!==a[0]&&(a="/"+a),this._locationStrategy.prepareExternalUrl(a)}go(a,P="",j=null){this._locationStrategy.pushState(j,"",a,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(a+Xh(P)),j)}replaceState(a,P="",j=null){this._locationStrategy.replaceState(j,"",a,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(a+Xh(P)),j)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(a=0){this._locationStrategy.historyGo?.(a)}onUrlChange(a){return this._urlChangeListeners.push(a),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)})),()=>{const P=this._urlChangeListeners.indexOf(a);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(a="",P){this._urlChangeListeners.forEach(j=>j(a,P))}subscribe(a,P,j){return this._subject.subscribe({next:a,error:P,complete:j})}static#e=this.normalizeQueryParams=Xh;static#t=this.joinWithSlash=k2;static#r=this.stripTrailingSlash=w3;static#n=this.\u0275fac=function(P){return new(P||e)(Ji(Ev))};static#i=this.\u0275prov=jr({token:e,factory:function(){return function FR(){return new O2(Ji(Ev))}()},providedIn:"root"})}return e})();function M3(e){return e.replace(/\/index.html$/,"")}var ym=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(ym||{}),Ws=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(Ws||{});function sc(e,s){const a=zu(e),P=a[ts.NumberSymbols][s];if(typeof P>"u"){if(s===Ws.CurrencyDecimal)return a[ts.NumberSymbols][Ws.Decimal];if(s===Ws.CurrencyGroup)return a[ts.NumberSymbols][Ws.Group]}return P}const l4=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function _2(e){const s=parseInt(e);if(isNaN(s))throw new Error("Invalid integer literal when parsing "+e);return s}function F3(e,s){s=encodeURIComponent(s);for(const a of e.split(";")){const P=a.indexOf("="),[j,ie]=-1==P?[a,""]:[a.slice(0,P),a.slice(P+1)];if(j.trim()===s)return decodeURIComponent(ie)}return null}const W2=/\s+/,k3=[];let Y2=(()=>{class e{constructor(a,P,j,ie){this._iterableDiffers=a,this._keyValueDiffers=P,this._ngEl=j,this._renderer=ie,this.initialClasses=k3,this.stateMap=new Map}set klass(a){this.initialClasses=null!=a?a.trim().split(W2):k3}set ngClass(a){this.rawClass="string"==typeof a?a.trim().split(W2):a}ngDoCheck(){for(const P of this.initialClasses)this._updateState(P,!0);const a=this.rawClass;if(Array.isArray(a)||a instanceof Set)for(const P of a)this._updateState(P,!0);else if(null!=a)for(const P of Object.keys(a))this._updateState(P,!!a[P]);this._applyStateDiff()}_updateState(a,P){const j=this.stateMap.get(a);void 0!==j?(j.enabled!==P&&(j.changed=!0,j.enabled=P),j.touched=!0):this.stateMap.set(a,{enabled:P,changed:!0,touched:!0})}_applyStateDiff(){for(const a of this.stateMap){const P=a[0],j=a[1];j.changed?(this._toggleClass(P,j.enabled),j.changed=!1):j.touched||(j.enabled&&this._toggleClass(P,!1),this.stateMap.delete(P)),j.touched=!1}}_toggleClass(a,P){(a=a.trim()).length>0&&a.split(W2).forEach(j=>{P?this._renderer.addClass(this._ngEl.nativeElement,j):this._renderer.removeClass(this._ngEl.nativeElement,j)})}static#e=this.\u0275fac=function(P){return new(P||e)(oi(pm),oi(ug),oi(pu),oi(Af))};static#t=this.\u0275dir=va({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class b4{constructor(s,a,P,j){this.$implicit=s,this.ngForOf=a,this.index=P,this.count=j}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let N3=(()=>{class e{set ngForOf(a){this._ngForOf=a,this._ngForOfDirty=!0}set ngForTrackBy(a){this._trackByFn=a}get ngForTrackBy(){return this._trackByFn}constructor(a,P,j){this._viewContainer=a,this._template=P,this._differs=j,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(a){a&&(this._template=a)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const a=this._ngForOf;!this._differ&&a&&(this._differ=this._differs.find(a).create(this.ngForTrackBy))}if(this._differ){const a=this._differ.diff(this._ngForOf);a&&this._applyChanges(a)}}_applyChanges(a){const P=this._viewContainer;a.forEachOperation((j,ie,ye)=>{if(null==j.previousIndex)P.createEmbeddedView(this._template,new b4(j.item,this._ngForOf,-1,-1),null===ye?void 0:ye);else if(null==ye)P.remove(null===ie?void 0:ie);else if(null!==ie){const Fe=P.get(ie);P.move(Fe,ye),z3(Fe,j)}});for(let j=0,ie=P.length;j<ie;j++){const Fe=P.get(j).context;Fe.index=j,Fe.count=ie,Fe.ngForOf=this._ngForOf}a.forEachIdentityChange(j=>{z3(P.get(j.currentIndex),j)})}static ngTemplateContextGuard(a,P){return!0}static#e=this.\u0275fac=function(P){return new(P||e)(oi(zc),oi(Yh),oi(pm))};static#t=this.\u0275dir=va({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function z3(e,s){e.context.$implicit=s.item}let Em=(()=>{class e{constructor(a,P){this._viewContainer=a,this._context=new w4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(a){this._context.$implicit=this._context.ngIf=a,this._updateView()}set ngIfThen(a){B3("ngIfThen",a),this._thenTemplateRef=a,this._thenViewRef=null,this._updateView()}set ngIfElse(a){B3("ngIfElse",a),this._elseTemplateRef=a,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(a,P){return!0}static#e=this.\u0275fac=function(P){return new(P||e)(oi(zc),oi(Yh))};static#t=this.\u0275dir=va({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class w4{constructor(){this.$implicit=null,this.ngIf=null}}function B3(e,s){if(s&&!s.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${kr(s)}'.`)}class Z2{constructor(s,a){this._viewContainerRef=s,this._templateRef=a,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(s){s&&!this._created?this.create():!s&&this._created&&this.destroy()}}let Dm=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(a){this._ngSwitch=a,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(a){this._defaultViews.push(a)}_matchCase(a){const P=a==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||P,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),P}_updateDefaultCases(a){if(this._defaultViews.length>0&&a!==this._defaultUsed){this._defaultUsed=a;for(const P of this._defaultViews)P.enforceState(a)}}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275dir=va({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return e})(),U3=(()=>{class e{constructor(a,P,j){this.ngSwitch=j,j._addCase(),this._view=new Z2(a,P)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(P){return new(P||e)(oi(zc),oi(Yh),oi(Dm,9))};static#t=this.\u0275dir=va({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return e})();let X2=(()=>{class e{constructor(a){this._locale=a}transform(a,P,j){if(!function K2(e){return!(null==e||""===e||e!=e)}(a))return null;j=j||this._locale;try{return function v4(e,s,a){return function H2(e,s,a,P,j,ie,ye=!1){let Fe="",Xe=!1;if(isFinite(e)){let yt=function g4(e){let P,j,ie,ye,Fe,s=Math.abs(e)+"",a=0;for((j=s.indexOf("."))>-1&&(s=s.replace(".","")),(ie=s.search(/e/i))>0?(j<0&&(j=ie),j+=+s.slice(ie+1),s=s.substring(0,ie)):j<0&&(j=s.length),ie=0;"0"===s.charAt(ie);ie++);if(ie===(Fe=s.length))P=[0],j=1;else{for(Fe--;"0"===s.charAt(Fe);)Fe--;for(j-=ie,P=[],ye=0;ie<=Fe;ie++,ye++)P[ye]=Number(s.charAt(ie))}return j>22&&(P=P.splice(0,21),a=j-1,j=1),{digits:P,exponent:a,integerLen:j}}(e);ye&&(yt=function p4(e){if(0===e.digits[0])return e;const s=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===s?e.digits.push(0,0):1===s&&e.digits.push(0),e.integerLen+=2),e}(yt));let Vt=s.minInt,tr=s.minFrac,Rr=s.maxFrac;if(ie){const Xn=ie.match(l4);if(null===Xn)throw new Error(`${ie} is not a valid digit info`);const Qi=Xn[1],ma=Xn[3],Da=Xn[5];null!=Qi&&(Vt=_2(Qi)),null!=ma&&(tr=_2(ma)),null!=Da?Rr=_2(Da):null!=ma&&tr>Rr&&(Rr=tr)}!function y4(e,s,a){if(s>a)throw new Error(`The minimum number of digits after fraction (${s}) is higher than the maximum (${a}).`);let P=e.digits,j=P.length-e.integerLen;const ie=Math.min(Math.max(s,j),a);let ye=ie+e.integerLen,Fe=P[ye];if(ye>0){P.splice(Math.max(e.integerLen,ye));for(let tr=ye;tr<P.length;tr++)P[tr]=0}else{j=Math.max(0,j),e.integerLen=1,P.length=Math.max(1,ye=ie+1),P[0]=0;for(let tr=1;tr<ye;tr++)P[tr]=0}if(Fe>=5)if(ye-1<0){for(let tr=0;tr>ye;tr--)P.unshift(0),e.integerLen++;P.unshift(1),e.integerLen++}else P[ye-1]++;for(;j<Math.max(0,ie);j++)P.push(0);let Xe=0!==ie;const yt=s+e.integerLen,Vt=P.reduceRight(function(tr,Rr,Kr,Sn){return Sn[Kr]=(Rr+=tr)<10?Rr:Rr-10,Xe&&(0===Sn[Kr]&&Kr>=yt?Sn.pop():Xe=!1),Rr>=10?1:0},0);Vt&&(P.unshift(Vt),e.integerLen++)}(yt,tr,Rr);let Kr=yt.digits,Sn=yt.integerLen;const Rn=yt.exponent;let Yn=[];for(Xe=Kr.every(Xn=>!Xn);Sn<Vt;Sn++)Kr.unshift(0);for(;Sn<0;Sn++)Kr.unshift(0);Sn>0?Yn=Kr.splice(Sn,Kr.length):(Yn=Kr,Kr=[0]);const Jn=[];for(Kr.length>=s.lgSize&&Jn.unshift(Kr.splice(-s.lgSize,Kr.length).join(""));Kr.length>s.gSize;)Jn.unshift(Kr.splice(-s.gSize,Kr.length).join(""));Kr.length&&Jn.unshift(Kr.join("")),Fe=Jn.join(sc(a,P)),Yn.length&&(Fe+=sc(a,j)+Yn.join("")),Rn&&(Fe+=sc(a,Ws.Exponential)+"+"+Rn)}else Fe=sc(a,Ws.Infinity);return Fe=e<0&&!Xe?s.negPre+Fe+s.negSuf:s.posPre+Fe+s.posSuf,Fe}(e,function G2(e,s="-"){const a={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},P=e.split(";"),j=P[0],ie=P[1],ye=-1!==j.indexOf(".")?j.split("."):[j.substring(0,j.lastIndexOf("0")+1),j.substring(j.lastIndexOf("0")+1)],Fe=ye[0],Xe=ye[1]||"";a.posPre=Fe.substring(0,Fe.indexOf("#"));for(let Vt=0;Vt<Xe.length;Vt++){const tr=Xe.charAt(Vt);"0"===tr?a.minFrac=a.maxFrac=Vt+1:"#"===tr?a.maxFrac=Vt+1:a.posSuf+=tr}const yt=Fe.split(",");if(a.gSize=yt[1]?yt[1].length:0,a.lgSize=yt[2]||yt[1]?(yt[2]||yt[1]).length:0,ie){const Vt=j.length-a.posPre.length-a.posSuf.length,tr=ie.indexOf("#");a.negPre=ie.substring(0,tr).replace(/'/g,""),a.negSuf=ie.slice(tr+Vt).replace(/'/g,"")}else a.negPre=s+a.posPre,a.negSuf=a.posSuf;return a}(function N2(e,s){return zu(e)[ts.NumberFormats][s]}(s,ym.Decimal),sc(s,Ws.MinusSign)),s,Ws.Group,Ws.Decimal,a)}(function J2(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(a),j,P)}catch(ie){throw function Uc(e,s){return new nr(2100,!1)}()}}static#e=this.\u0275fac=function(P){return new(P||e)(oi(Zh,16))};static#t=this.\u0275pipe=ls({name:"number",type:e,pure:!0,standalone:!0})}return e})();let G3=(()=>{class e{static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275mod=Yo({type:e});static#r=this.\u0275inj=vn({})}return e})();function j3(e){return"server"===e}let Z4=(()=>{class e{static#e=this.\u0275prov=jr({token:e,providedIn:"root",factory:()=>new X4(Ji(Cf),window)})}return e})();class X4{constructor(s,a){this.document=s,this.window=a,this.offset=()=>[0,0]}setOffset(s){this.offset=Array.isArray(s)?()=>s:s}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(s){this.supportsScrolling()&&this.window.scrollTo(s[0],s[1])}scrollToAnchor(s){if(!this.supportsScrolling())return;const a=function K4(e,s){const a=e.getElementById(s)||e.getElementsByName(s)[0];if(a)return a;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const P=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let j=P.currentNode;for(;j;){const ie=j.shadowRoot;if(ie){const ye=ie.getElementById(s)||ie.querySelector(`[name="${s}"]`);if(ye)return ye}j=P.nextNode()}}return null}(this.document,s);a&&(this.scrollToElement(a),a.focus())}setHistoryScrollRestoration(s){this.supportsScrolling()&&(this.window.history.scrollRestoration=s)}scrollToElement(s){const a=s.getBoundingClientRect(),P=a.left+this.window.pageXOffset,j=a.top+this.window.pageYOffset,ie=this.offset();this.window.scrollTo(P-ie[0],j-ie[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class W3{}class m8 extends LR{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class q2 extends m8{static makeCurrent(){!function DR(e){R2||(R2=e)}(new q2)}onAndCancel(s,a,P){return s.addEventListener(a,P),()=>{s.removeEventListener(a,P)}}dispatchEvent(s,a){s.dispatchEvent(a)}remove(s){s.parentNode&&s.parentNode.removeChild(s)}createElement(s,a){return(a=a||this.getDefaultDocument()).createElement(s)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(s){return s.nodeType===Node.ELEMENT_NODE}isShadowRoot(s){return s instanceof DocumentFragment}getGlobalEventTarget(s,a){return"window"===a?window:"document"===a?s:"body"===a?s.body:null}getBaseHref(s){const a=function x8(){return dg=dg||document.querySelector("base"),dg?dg.getAttribute("href"):null}();return null==a?null:function b8(e){Pm=Pm||document.createElement("a"),Pm.setAttribute("href",e);const s=Pm.pathname;return"/"===s.charAt(0)?s:`/${s}`}(a)}resetBaseElement(){dg=null}getUserAgent(){return window.navigator.userAgent}getCookie(s){return F3(document.cookie,s)}}let Pm,dg=null,T8=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})();const eb=new ia("EventManagerPlugins");let J3=(()=>{class e{constructor(a,P){this._zone=P,this._eventNameToPlugin=new Map,a.forEach(j=>{j.manager=this}),this._plugins=a.slice().reverse()}addEventListener(a,P,j){return this._findPluginFor(P).addEventListener(a,P,j)}getZone(){return this._zone}_findPluginFor(a){let P=this._eventNameToPlugin.get(a);if(P)return P;if(P=this._plugins.find(ie=>ie.supports(a)),!P)throw new nr(5101,!1);return this._eventNameToPlugin.set(a,P),P}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(eb),Ji(Mt))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})();class $3{constructor(s){this._doc=s}}const tb="ng-app-id";let Q3=(()=>{class e{constructor(a,P,j,ie={}){this.doc=a,this.appId=P,this.nonce=j,this.platformId=ie,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=j3(ie),this.resetHostNodes()}addStyles(a){for(const P of a)1===this.changeUsageCount(P,1)&&this.onStyleAdded(P)}removeStyles(a){for(const P of a)this.changeUsageCount(P,-1)<=0&&this.onStyleRemoved(P)}ngOnDestroy(){const a=this.styleNodesInDOM;a&&(a.forEach(P=>P.remove()),a.clear());for(const P of this.getAllStyles())this.onStyleRemoved(P);this.resetHostNodes()}addHost(a){this.hostNodes.add(a);for(const P of this.getAllStyles())this.addStyleToHost(a,P)}removeHost(a){this.hostNodes.delete(a)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(a){for(const P of this.hostNodes)this.addStyleToHost(P,a)}onStyleRemoved(a){const P=this.styleRef;P.get(a)?.elements?.forEach(j=>j.remove()),P.delete(a)}collectServerRenderedStyles(){const a=this.doc.head?.querySelectorAll(`style[${tb}="${this.appId}"]`);if(a?.length){const P=new Map;return a.forEach(j=>{null!=j.textContent&&P.set(j.textContent,j)}),P}return null}changeUsageCount(a,P){const j=this.styleRef;if(j.has(a)){const ie=j.get(a);return ie.usage+=P,ie.usage}return j.set(a,{usage:P,elements:[]}),P}getStyleElement(a,P){const j=this.styleNodesInDOM,ie=j?.get(P);if(ie?.parentNode===a)return j.delete(P),ie.removeAttribute(tb),ie;{const ye=this.doc.createElement("style");return this.nonce&&ye.setAttribute("nonce",this.nonce),ye.textContent=P,this.platformIsServer&&ye.setAttribute(tb,this.appId),ye}}addStyleToHost(a,P){const j=this.getStyleElement(a,P);a.appendChild(j);const ie=this.styleRef,ye=ie.get(P)?.elements;ye?ye.push(j):ie.set(P,{elements:[j],usage:1})}resetHostNodes(){const a=this.hostNodes;a.clear(),a.add(this.doc.head)}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(Cf),Ji(wd),Ji(Lc,8),Ji(Dc))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})();const rb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nb=/%COMP%/g,C8=new ia("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function eS(e,s){return s.map(a=>a.replace(nb,e))}let tS=(()=>{class e{constructor(a,P,j,ie,ye,Fe,Xe,yt=null){this.eventManager=a,this.sharedStylesHost=P,this.appId=j,this.removeStylesOnCompDestroy=ie,this.doc=ye,this.platformId=Fe,this.ngZone=Xe,this.nonce=yt,this.rendererByCompId=new Map,this.platformIsServer=j3(Fe),this.defaultRenderer=new ib(a,ye,Xe,this.platformIsServer)}createRenderer(a,P){if(!a||!P)return this.defaultRenderer;this.platformIsServer&&P.encapsulation===il.ShadowDom&&(P={...P,encapsulation:il.Emulated});const j=this.getOrCreateRenderer(a,P);return j instanceof nS?j.applyToHost(a):j instanceof ab&&j.applyStyles(),j}getOrCreateRenderer(a,P){const j=this.rendererByCompId;let ie=j.get(P.id);if(!ie){const ye=this.doc,Fe=this.ngZone,Xe=this.eventManager,yt=this.sharedStylesHost,Vt=this.removeStylesOnCompDestroy,tr=this.platformIsServer;switch(P.encapsulation){case il.Emulated:ie=new nS(Xe,yt,P,this.appId,Vt,ye,Fe,tr);break;case il.ShadowDom:return new I8(Xe,yt,a,P,ye,Fe,this.nonce,tr);default:ie=new ab(Xe,yt,P,Vt,ye,Fe,tr)}j.set(P.id,ie)}return ie}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(J3),Ji(Q3),Ji(wd),Ji(C8),Ji(Cf),Ji(Dc),Ji(Mt),Ji(Lc))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})();class ib{constructor(s,a,P,j){this.eventManager=s,this.doc=a,this.ngZone=P,this.platformIsServer=j,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(s,a){return a?this.doc.createElementNS(rb[a]||a,s):this.doc.createElement(s)}createComment(s){return this.doc.createComment(s)}createText(s){return this.doc.createTextNode(s)}appendChild(s,a){(rS(s)?s.content:s).appendChild(a)}insertBefore(s,a,P){s&&(rS(s)?s.content:s).insertBefore(a,P)}removeChild(s,a){s&&s.removeChild(a)}selectRootElement(s,a){let P="string"==typeof s?this.doc.querySelector(s):s;if(!P)throw new nr(-5104,!1);return a||(P.textContent=""),P}parentNode(s){return s.parentNode}nextSibling(s){return s.nextSibling}setAttribute(s,a,P,j){if(j){a=j+":"+a;const ie=rb[j];ie?s.setAttributeNS(ie,a,P):s.setAttribute(a,P)}else s.setAttribute(a,P)}removeAttribute(s,a,P){if(P){const j=rb[P];j?s.removeAttributeNS(j,a):s.removeAttribute(`${P}:${a}`)}else s.removeAttribute(a)}addClass(s,a){s.classList.add(a)}removeClass(s,a){s.classList.remove(a)}setStyle(s,a,P,j){j&(th.DashCase|th.Important)?s.style.setProperty(a,P,j&th.Important?"important":""):s.style[a]=P}removeStyle(s,a,P){P&th.DashCase?s.style.removeProperty(a):s.style[a]=""}setProperty(s,a,P){s[a]=P}setValue(s,a){s.nodeValue=a}listen(s,a,P){if("string"==typeof s&&!(s=Id().getGlobalEventTarget(this.doc,s)))throw new Error(`Unsupported event target ${s} for event ${a}`);return this.eventManager.addEventListener(s,a,this.decoratePreventDefault(P))}decoratePreventDefault(s){return a=>{if("__ngUnwrap__"===a)return s;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>s(a)):s(a))&&a.preventDefault()}}}function rS(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class I8 extends ib{constructor(s,a,P,j,ie,ye,Fe,Xe){super(s,ie,ye,Xe),this.sharedStylesHost=a,this.hostEl=P,this.shadowRoot=P.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const yt=eS(j.id,j.styles);for(const Vt of yt){const tr=document.createElement("style");Fe&&tr.setAttribute("nonce",Fe),tr.textContent=Vt,this.shadowRoot.appendChild(tr)}}nodeOrShadowRoot(s){return s===this.hostEl?this.shadowRoot:s}appendChild(s,a){return super.appendChild(this.nodeOrShadowRoot(s),a)}insertBefore(s,a,P){return super.insertBefore(this.nodeOrShadowRoot(s),a,P)}removeChild(s,a){return super.removeChild(this.nodeOrShadowRoot(s),a)}parentNode(s){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(s)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ab extends ib{constructor(s,a,P,j,ie,ye,Fe,Xe){super(s,ie,ye,Fe),this.sharedStylesHost=a,this.removeStylesOnCompDestroy=j,this.styles=Xe?eS(Xe,P.styles):P.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class nS extends ab{constructor(s,a,P,j,ie,ye,Fe,Xe){const yt=j+"-"+P.id;super(s,a,P,ie,ye,Fe,Xe,yt),this.contentAttr=function E8(e){return"_ngcontent-%COMP%".replace(nb,e)}(yt),this.hostAttr=function D8(e){return"_nghost-%COMP%".replace(nb,e)}(yt)}applyToHost(s){this.applyStyles(),this.setAttribute(s,this.hostAttr,"")}createElement(s,a){const P=super.createElement(s,a);return super.setAttribute(P,this.contentAttr,""),P}}let P8=(()=>{class e extends $3{constructor(a){super(a)}supports(a){return!0}addEventListener(a,P,j){return a.addEventListener(P,j,!1),()=>this.removeEventListener(a,P,j)}removeEventListener(a,P,j){return a.removeEventListener(P,j)}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(Cf))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})();const iS=["alt","control","meta","shift"],R8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F8={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let k8=(()=>{class e extends $3{constructor(a){super(a)}supports(a){return null!=e.parseEventName(a)}addEventListener(a,P,j){const ie=e.parseEventName(P),ye=e.eventCallback(ie.fullKey,j,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Id().onAndCancel(a,ie.domEventName,ye))}static parseEventName(a){const P=a.toLowerCase().split("."),j=P.shift();if(0===P.length||"keydown"!==j&&"keyup"!==j)return null;const ie=e._normalizeKey(P.pop());let ye="",Fe=P.indexOf("code");if(Fe>-1&&(P.splice(Fe,1),ye="code."),iS.forEach(yt=>{const Vt=P.indexOf(yt);Vt>-1&&(P.splice(Vt,1),ye+=yt+".")}),ye+=ie,0!=P.length||0===ie.length)return null;const Xe={};return Xe.domEventName=j,Xe.fullKey=ye,Xe}static matchEventFullKeyCode(a,P){let j=R8[a.key]||a.key,ie="";return P.indexOf("code.")>-1&&(j=a.code,ie="code."),!(null==j||!j)&&(j=j.toLowerCase()," "===j?j="space":"."===j&&(j="dot"),iS.forEach(ye=>{ye!==j&&(0,F8[ye])(a)&&(ie+=ye+".")}),ie+=j,ie===P)}static eventCallback(a,P,j){return ie=>{e.matchEventFullKeyCode(ie,a)&&j.runGuarded(()=>P(ie))}}static _normalizeKey(a){return"esc"===a?"escape":a}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(Cf))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})();const B8=KM(vR,"browser",[{provide:Dc,useValue:"browser"},{provide:Iy,useValue:function O8(){q2.makeCurrent()},multi:!0},{provide:Cf,useFactory:function z8(){return function nx(e){ds=e}(document),document},deps:[]}]),U8=new ia(""),sS=[{provide:cm,useClass:class w8{addToWindow(s){mi.getAngularTestability=(P,j=!0)=>{const ie=s.findTestabilityInTree(P,j);if(null==ie)throw new nr(5103,!1);return ie},mi.getAllAngularTestabilities=()=>s.getAllTestabilities(),mi.getAllAngularRootElements=()=>s.getAllRootElements(),mi.frameworkStabilizers||(mi.frameworkStabilizers=[]),mi.frameworkStabilizers.push(P=>{const j=mi.getAllAngularTestabilities();let ie=j.length,ye=!1;const Fe=function(Xe){ye=ye||Xe,ie--,0==ie&&P(ye)};j.forEach(Xe=>{Xe.whenStable(Fe)})})}findTestabilityInTree(s,a,P){return null==a?null:s.getTestability(a)??(P?Id().isShadowRoot(a)?this.findTestabilityInTree(s,a.host,!0):this.findTestabilityInTree(s,a.parentElement,!0):null)}},deps:[]},{provide:jM,useClass:w2,deps:[Mt,T2,cm]},{provide:w2,useClass:w2,deps:[Mt,T2,cm]}],lS=[{provide:lh,useValue:"root"},{provide:nc,useFactory:function N8(){return new nc},deps:[]},{provide:eb,useClass:P8,multi:!0,deps:[Cf,Mt,Dc]},{provide:eb,useClass:k8,multi:!0,deps:[Cf]},tS,Q3,J3,{provide:Vy,useExisting:tS},{provide:W3,useClass:T8,deps:[]},[]];let V8=(()=>{class e{constructor(a){}static withServerTransition(a){return{ngModule:e,providers:[{provide:wd,useValue:a.appId}]}}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(U8,12))};static#t=this.\u0275mod=Yo({type:e});static#r=this.\u0275inj=vn({providers:[...lS,...sS],imports:[G3,pR]})}return e})(),uS=(()=>{class e{constructor(a){this._doc=a}getTitle(){return this._doc.title}setTitle(a){this._doc.title=a||""}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(Cf))};static#t=this.\u0275prov=jr({token:e,factory:function(P){let j=null;return j=P?new P:function G8(){return new uS(Ji(Cf))}(),j},providedIn:"root"})}return e})();function Up(e,s){return Ga(s)?Cr(e,s,1):Cr(e,1)}function $h(e,s){return U((a,P)=>{let j=0;a.subscribe(G(P,ie=>e.call(s,ie,j++)&&P.next(ie)))})}function vg(e){return U((s,a)=>{try{s.subscribe(a)}finally{a.add(e)}})}typeof window<"u"&&window;class Rm{}class Fm{}class xh{constructor(s){this.normalizedNames=new Map,this.lazyUpdate=null,s?"string"==typeof s?this.lazyInit=()=>{this.headers=new Map,s.split("\n").forEach(a=>{const P=a.indexOf(":");if(P>0){const j=a.slice(0,P),ie=j.toLowerCase(),ye=a.slice(P+1).trim();this.maybeSetNormalizedName(j,ie),this.headers.has(ie)?this.headers.get(ie).push(ye):this.headers.set(ie,[ye])}})}:typeof Headers<"u"&&s instanceof Headers?(this.headers=new Map,s.forEach((a,P)=>{this.setHeaderEntries(P,a)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(s).forEach(([a,P])=>{this.setHeaderEntries(a,P)})}:this.headers=new Map}has(s){return this.init(),this.headers.has(s.toLowerCase())}get(s){this.init();const a=this.headers.get(s.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(s){return this.init(),this.headers.get(s.toLowerCase())||null}append(s,a){return this.clone({name:s,value:a,op:"a"})}set(s,a){return this.clone({name:s,value:a,op:"s"})}delete(s,a){return this.clone({name:s,value:a,op:"d"})}maybeSetNormalizedName(s,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,s)}init(){this.lazyInit&&(this.lazyInit instanceof xh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(s=>this.applyUpdate(s)),this.lazyUpdate=null))}copyFrom(s){s.init(),Array.from(s.headers.keys()).forEach(a=>{this.headers.set(a,s.headers.get(a)),this.normalizedNames.set(a,s.normalizedNames.get(a))})}clone(s){const a=new xh;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof xh?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([s]),a}applyUpdate(s){const a=s.name.toLowerCase();switch(s.op){case"a":case"s":let P=s.value;if("string"==typeof P&&(P=[P]),0===P.length)return;this.maybeSetNormalizedName(s.name,a);const j=("a"===s.op?this.headers.get(a):void 0)||[];j.push(...P),this.headers.set(a,j);break;case"d":const ie=s.value;if(ie){let ye=this.headers.get(a);if(!ye)return;ye=ye.filter(Fe=>-1===ie.indexOf(Fe)),0===ye.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,ye)}else this.headers.delete(a),this.normalizedNames.delete(a)}}setHeaderEntries(s,a){const P=(Array.isArray(a)?a:[a]).map(ie=>ie.toString()),j=s.toLowerCase();this.headers.set(j,P),this.maybeSetNormalizedName(s,j)}forEach(s){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>s(this.normalizedNames.get(a),this.headers.get(a)))}}class Z8{encodeKey(s){return dS(s)}encodeValue(s){return dS(s)}decodeKey(s){return decodeURIComponent(s)}decodeValue(s){return decodeURIComponent(s)}}const K8=/%(\d[a-f0-9])/gi,J8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dS(e){return encodeURIComponent(e).replace(K8,(s,a)=>J8[a]??s)}function km(e){return`${e}`}class Rd{constructor(s={}){if(this.updates=null,this.cloneFrom=null,this.encoder=s.encoder||new Z8,s.fromString){if(s.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function X8(e,s){const a=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(j=>{const ie=j.indexOf("="),[ye,Fe]=-1==ie?[s.decodeKey(j),""]:[s.decodeKey(j.slice(0,ie)),s.decodeValue(j.slice(ie+1))],Xe=a.get(ye)||[];Xe.push(Fe),a.set(ye,Xe)}),a}(s.fromString,this.encoder)}else s.fromObject?(this.map=new Map,Object.keys(s.fromObject).forEach(a=>{const P=s.fromObject[a],j=Array.isArray(P)?P.map(km):[km(P)];this.map.set(a,j)})):this.map=null}has(s){return this.init(),this.map.has(s)}get(s){this.init();const a=this.map.get(s);return a?a[0]:null}getAll(s){return this.init(),this.map.get(s)||null}keys(){return this.init(),Array.from(this.map.keys())}append(s,a){return this.clone({param:s,value:a,op:"a"})}appendAll(s){const a=[];return Object.keys(s).forEach(P=>{const j=s[P];Array.isArray(j)?j.forEach(ie=>{a.push({param:P,value:ie,op:"a"})}):a.push({param:P,value:j,op:"a"})}),this.clone(a)}set(s,a){return this.clone({param:s,value:a,op:"s"})}delete(s,a){return this.clone({param:s,value:a,op:"d"})}toString(){return this.init(),this.keys().map(s=>{const a=this.encoder.encodeKey(s);return this.map.get(s).map(P=>a+"="+this.encoder.encodeValue(P)).join("&")}).filter(s=>""!==s).join("&")}clone(s){const a=new Rd({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(s),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(s=>this.map.set(s,this.cloneFrom.map.get(s))),this.updates.forEach(s=>{switch(s.op){case"a":case"s":const a=("a"===s.op?this.map.get(s.param):void 0)||[];a.push(km(s.value)),this.map.set(s.param,a);break;case"d":if(void 0===s.value){this.map.delete(s.param);break}{let P=this.map.get(s.param)||[];const j=P.indexOf(km(s.value));-1!==j&&P.splice(j,1),P.length>0?this.map.set(s.param,P):this.map.delete(s.param)}}}),this.cloneFrom=this.updates=null)}}class $8{constructor(){this.map=new Map}set(s,a){return this.map.set(s,a),this}get(s){return this.map.has(s)||this.map.set(s,s.defaultValue()),this.map.get(s)}delete(s){return this.map.delete(s),this}has(s){return this.map.has(s)}keys(){return this.map.keys()}}function vS(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function pS(e){return typeof Blob<"u"&&e instanceof Blob}function gS(e){return typeof FormData<"u"&&e instanceof FormData}class pg{constructor(s,a,P,j){let ie;if(this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=s.toUpperCase(),function Q8(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||j?(this.body=void 0!==P?P:null,ie=j):ie=P,ie&&(this.reportProgress=!!ie.reportProgress,this.withCredentials=!!ie.withCredentials,ie.responseType&&(this.responseType=ie.responseType),ie.headers&&(this.headers=ie.headers),ie.context&&(this.context=ie.context),ie.params&&(this.params=ie.params)),this.headers||(this.headers=new xh),this.context||(this.context=new $8),this.params){const ye=this.params.toString();if(0===ye.length)this.urlWithParams=a;else{const Fe=a.indexOf("?");this.urlWithParams=a+(-1===Fe?"?":Fe<a.length-1?"&":"")+ye}}else this.params=new Rd,this.urlWithParams=a}serializeBody(){return null===this.body?null:vS(this.body)||pS(this.body)||gS(this.body)||function q8(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gS(this.body)?null:pS(this.body)?this.body.type||null:vS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(s={}){const a=s.method||this.method,P=s.url||this.url,j=s.responseType||this.responseType,ie=void 0!==s.body?s.body:this.body,ye=void 0!==s.withCredentials?s.withCredentials:this.withCredentials,Fe=void 0!==s.reportProgress?s.reportProgress:this.reportProgress;let Xe=s.headers||this.headers,yt=s.params||this.params;const Vt=s.context??this.context;return void 0!==s.setHeaders&&(Xe=Object.keys(s.setHeaders).reduce((tr,Rr)=>tr.set(Rr,s.setHeaders[Rr]),Xe)),s.setParams&&(yt=Object.keys(s.setParams).reduce((tr,Rr)=>tr.set(Rr,s.setParams[Rr]),yt)),new pg(a,P,ie,{params:yt,headers:Xe,context:Vt,reportProgress:Fe,responseType:j,withCredentials:ye})}}var Vp=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Vp||{});class sb{constructor(s,a=200,P="OK"){this.headers=s.headers||new xh,this.status=void 0!==s.status?s.status:a,this.statusText=s.statusText||P,this.url=s.url||null,this.ok=this.status>=200&&this.status<300}}class lb extends sb{constructor(s={}){super(s),this.type=Vp.ResponseHeader}clone(s={}){return new lb({headers:s.headers||this.headers,status:void 0!==s.status?s.status:this.status,statusText:s.statusText||this.statusText,url:s.url||this.url||void 0})}}class Hp extends sb{constructor(s={}){super(s),this.type=Vp.Response,this.body=void 0!==s.body?s.body:null}clone(s={}){return new Hp({body:void 0!==s.body?s.body:this.body,headers:s.headers||this.headers,status:void 0!==s.status?s.status:this.status,statusText:s.statusText||this.statusText,url:s.url||this.url||void 0})}}class yS extends sb{constructor(s){super(s,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${s.url||"(unknown url)"}`:`Http failure response for ${s.url||"(unknown url)"}: ${s.status} ${s.statusText}`,this.error=s.error||null}}function ub(e,s){return{body:s,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let mS=(()=>{class e{constructor(a){this.handler=a}request(a,P,j={}){let ie;if(a instanceof pg)ie=a;else{let Xe,yt;Xe=j.headers instanceof xh?j.headers:new xh(j.headers),j.params&&(yt=j.params instanceof Rd?j.params:new Rd({fromObject:j.params})),ie=new pg(a,P,void 0!==j.body?j.body:null,{headers:Xe,context:j.context,params:yt,reportProgress:j.reportProgress,responseType:j.responseType||"json",withCredentials:j.withCredentials})}const ye=Xt(ie).pipe(Up(Xe=>this.handler.handle(Xe)));if(a instanceof pg||"events"===j.observe)return ye;const Fe=ye.pipe($h(Xe=>Xe instanceof Hp));switch(j.observe||"body"){case"body":switch(ie.responseType){case"arraybuffer":return Fe.pipe(ee(Xe=>{if(null!==Xe.body&&!(Xe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Xe.body}));case"blob":return Fe.pipe(ee(Xe=>{if(null!==Xe.body&&!(Xe.body instanceof Blob))throw new Error("Response is not a Blob.");return Xe.body}));case"text":return Fe.pipe(ee(Xe=>{if(null!==Xe.body&&"string"!=typeof Xe.body)throw new Error("Response is not a string.");return Xe.body}));default:return Fe.pipe(ee(Xe=>Xe.body))}case"response":return Fe;default:throw new Error(`Unreachable: unhandled observe type ${j.observe}}`)}}delete(a,P={}){return this.request("DELETE",a,P)}get(a,P={}){return this.request("GET",a,P)}head(a,P={}){return this.request("HEAD",a,P)}jsonp(a,P){return this.request("JSONP",a,{params:(new Rd).append(P,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,P={}){return this.request("OPTIONS",a,P)}patch(a,P,j={}){return this.request("PATCH",a,ub(j,P))}post(a,P,j={}){return this.request("POST",a,ub(j,P))}put(a,P,j={}){return this.request("PUT",a,ub(j,P))}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(Rm))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})();function wS(e,s){return s(e)}function t6(e,s){return(a,P)=>s.intercept(a,{handle:j=>e(j,P)})}const n6=new ia(""),gg=new ia(""),TS=new ia("");function i6(){let e=null;return(s,a)=>{null===e&&(e=(Ki(n6,{optional:!0})??[]).reduceRight(t6,wS));const P=Ki(um),j=P.add();return e(s,a).pipe(vg(()=>P.remove(j)))}}let AS=(()=>{class e extends Rm{constructor(a,P){super(),this.backend=a,this.injector=P,this.chain=null,this.pendingTasks=Ki(um)}handle(a){if(null===this.chain){const j=Array.from(new Set([...this.injector.get(gg),...this.injector.get(TS,[])]));this.chain=j.reduceRight((ie,ye)=>function r6(e,s,a){return(P,j)=>a.runInContext(()=>s(P,ie=>e(ie,j)))}(ie,ye,this.injector),wS)}const P=this.pendingTasks.add();return this.chain(a,j=>this.backend.handle(j)).pipe(vg(()=>this.pendingTasks.remove(P)))}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(Fm),Ji(Nl))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})();const l6=/^\)\]\}',?\n/;let SS=(()=>{class e{constructor(a){this.xhrFactory=a}handle(a){if("JSONP"===a.method)throw new nr(-2800,!1);const P=this.xhrFactory;return(P.\u0275loadImpl?Ze(P.\u0275loadImpl()):Xt(null)).pipe(or(()=>new D(ie=>{const ye=P.build();if(ye.open(a.method,a.urlWithParams),a.withCredentials&&(ye.withCredentials=!0),a.headers.forEach((Rn,Yn)=>ye.setRequestHeader(Rn,Yn.join(","))),a.headers.has("Accept")||ye.setRequestHeader("Accept","application/json, text/plain, */*"),!a.headers.has("Content-Type")){const Rn=a.detectContentTypeHeader();null!==Rn&&ye.setRequestHeader("Content-Type",Rn)}if(a.responseType){const Rn=a.responseType.toLowerCase();ye.responseType="json"!==Rn?Rn:"text"}const Fe=a.serializeBody();let Xe=null;const yt=()=>{if(null!==Xe)return Xe;const Rn=ye.statusText||"OK",Yn=new xh(ye.getAllResponseHeaders()),Jn=function u6(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(ye)||a.url;return Xe=new lb({headers:Yn,status:ye.status,statusText:Rn,url:Jn}),Xe},Vt=()=>{let{headers:Rn,status:Yn,statusText:Jn,url:Xn}=yt(),Qi=null;204!==Yn&&(Qi=typeof ye.response>"u"?ye.responseText:ye.response),0===Yn&&(Yn=Qi?200:0);let ma=Yn>=200&&Yn<300;if("json"===a.responseType&&"string"==typeof Qi){const Da=Qi;Qi=Qi.replace(l6,"");try{Qi=""!==Qi?JSON.parse(Qi):null}catch(Ul){Qi=Da,ma&&(ma=!1,Qi={error:Ul,text:Qi})}}ma?(ie.next(new Hp({body:Qi,headers:Rn,status:Yn,statusText:Jn,url:Xn||void 0})),ie.complete()):ie.error(new yS({error:Qi,headers:Rn,status:Yn,statusText:Jn,url:Xn||void 0}))},tr=Rn=>{const{url:Yn}=yt(),Jn=new yS({error:Rn,status:ye.status||0,statusText:ye.statusText||"Unknown Error",url:Yn||void 0});ie.error(Jn)};let Rr=!1;const Kr=Rn=>{Rr||(ie.next(yt()),Rr=!0);let Yn={type:Vp.DownloadProgress,loaded:Rn.loaded};Rn.lengthComputable&&(Yn.total=Rn.total),"text"===a.responseType&&ye.responseText&&(Yn.partialText=ye.responseText),ie.next(Yn)},Sn=Rn=>{let Yn={type:Vp.UploadProgress,loaded:Rn.loaded};Rn.lengthComputable&&(Yn.total=Rn.total),ie.next(Yn)};return ye.addEventListener("load",Vt),ye.addEventListener("error",tr),ye.addEventListener("timeout",tr),ye.addEventListener("abort",tr),a.reportProgress&&(ye.addEventListener("progress",Kr),null!==Fe&&ye.upload&&ye.upload.addEventListener("progress",Sn)),ye.send(Fe),ie.next({type:Vp.Sent}),()=>{ye.removeEventListener("error",tr),ye.removeEventListener("abort",tr),ye.removeEventListener("load",Vt),ye.removeEventListener("timeout",tr),a.reportProgress&&(ye.removeEventListener("progress",Kr),null!==Fe&&ye.upload&&ye.upload.removeEventListener("progress",Sn)),ye.readyState!==ye.DONE&&ye.abort()}})))}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(W3))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})();const fb=new ia("XSRF_ENABLED"),CS=new ia("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ES=new ia("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class DS{}let h6=(()=>{class e{constructor(a,P,j){this.doc=a,this.platform=P,this.cookieName=j,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const a=this.doc.cookie||"";return a!==this.lastCookieString&&(this.parseCount++,this.lastToken=F3(a,this.cookieName),this.lastCookieString=a),this.lastToken}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(Cf),Ji(Dc),Ji(CS))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})();function d6(e,s){const a=e.url.toLowerCase();if(!Ki(fb)||"GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return s(e);const P=Ki(DS).getToken(),j=Ki(ES);return null!=P&&!e.headers.has(j)&&(e=e.clone({headers:e.headers.set(j,P)})),s(e)}var Fd=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Fd||{});function v6(...e){const s=[mS,SS,AS,{provide:Rm,useExisting:AS},{provide:Fm,useExisting:SS},{provide:gg,useValue:d6,multi:!0},{provide:fb,useValue:!0},{provide:DS,useClass:h6}];for(const a of e)s.push(...a.\u0275providers);return function ku(e){return{\u0275providers:e}}(s)}const LS=new ia("LEGACY_INTERCEPTOR_FN");function p6(){return function Dv(e,s){return{\u0275kind:e,\u0275providers:s}}(Fd.LegacyInterceptors,[{provide:LS,useFactory:i6},{provide:gg,useExisting:LS,multi:!0}])}let g6=(()=>{class e{static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275mod=Yo({type:e});static#r=this.\u0275inj=vn({providers:[v6(p6())]})}return e})();const{isArray:T6}=Array,{getPrototypeOf:A6,prototype:M6,keys:S6}=Object;function IS(e){if(1===e.length){const s=e[0];if(T6(s))return{args:s,keys:null};if(function C6(e){return e&&"object"==typeof e&&A6(e)===M6}(s)){const a=S6(s);return{args:a.map(P=>s[P]),keys:a}}}return{args:e,keys:null}}const{isArray:E6}=Array;function PS(e){return ee(s=>function D6(e,s){return E6(s)?e(...s):e(s)}(e,s))}function RS(e,s){return e.reduce((a,P,j)=>(a[P]=s[j],a),{})}let FS=(()=>{class e{constructor(a,P){this._renderer=a,this._elementRef=P,this.onChange=j=>{},this.onTouched=()=>{}}setProperty(a,P){this._renderer.setProperty(this._elementRef.nativeElement,a,P)}registerOnTouched(a){this.onTouched=a}registerOnChange(a){this.onChange=a}setDisabledState(a){this.setProperty("disabled",a)}static#e=this.\u0275fac=function(P){return new(P||e)(oi(Af),oi(pu))};static#t=this.\u0275dir=va({type:e})}return e})(),Lv=(()=>{class e extends FS{static#e=this.\u0275fac=function(){let a;return function(j){return(a||(a=vo(e)))(j||e)}}();static#t=this.\u0275dir=va({type:e,features:[Io]})}return e})();const bh=new ia("NgValueAccessor"),P6={provide:bh,useExisting:Yr(()=>Gp),multi:!0},F6=new ia("CompositionEventMode");let Gp=(()=>{class e extends FS{constructor(a,P,j){super(a,P),this._compositionMode=j,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function R6(){const e=Id()?Id().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(a){this.setProperty("value",a??"")}_handleInput(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}_compositionStart(){this._composing=!0}_compositionEnd(a){this._composing=!1,this._compositionMode&&this.onChange(a)}static#e=this.\u0275fac=function(P){return new(P||e)(oi(Af),oi(pu),oi(F6,8))};static#t=this.\u0275dir=va({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(P,j){1&P&&Bl("input",function(ye){return j._handleInput(ye.target.value)})("blur",function(){return j.onTouched()})("compositionstart",function(){return j._compositionStart()})("compositionend",function(ye){return j._compositionEnd(ye.target.value)})},features:[ms([P6]),Io]})}return e})();function kd(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}const mu=new ia("NgValidators"),Od=new ia("NgAsyncValidators");function Nm(e){return null}function jS(e){return null!=e}function WS(e){return J0(e)?Ze(e):e}function YS(e){let s={};return e.forEach(a=>{s=null!=a?{...s,...a}:s}),0===Object.keys(s).length?null:s}function ZS(e,s){return s.map(a=>a(e))}function XS(e){return e.map(s=>function O6(e){return!e.validate}(s)?s:a=>s.validate(a))}function cb(e){return null!=e?function KS(e){if(!e)return null;const s=e.filter(jS);return 0==s.length?null:function(a){return YS(ZS(a,s))}}(XS(e)):null}function hb(e){return null!=e?function JS(e){if(!e)return null;const s=e.filter(jS);return 0==s.length?null:function(a){return function L6(...e){const s=ct(e),{args:a,keys:P}=IS(e),j=new D(ie=>{const{length:ye}=a;if(!ye)return void ie.complete();const Fe=new Array(ye);let Xe=ye,yt=ye;for(let Vt=0;Vt<ye;Vt++){let tr=!1;Te(a[Vt]).subscribe(G(ie,Rr=>{tr||(tr=!0,yt--),Fe[Vt]=Rr},()=>Xe--,void 0,()=>{(!Xe||!tr)&&(yt||ie.next(P?RS(P,Fe):Fe),ie.complete())}))}});return s?j.pipe(PS(s)):j}(ZS(a,s).map(WS)).pipe(ee(YS))}}(XS(e)):null}function $S(e,s){return null===e?[s]:Array.isArray(e)?[...e,s]:[e,s]}function QS(e){return e._rawValidators}function qS(e){return e._rawAsyncValidators}function db(e){return e?Array.isArray(e)?e:[e]:[]}function zm(e,s){return Array.isArray(e)?e.includes(s):e===s}function eC(e,s){const a=db(s);return db(e).forEach(j=>{zm(a,j)||a.push(j)}),a}function tC(e,s){return db(s).filter(a=>!zm(e,a))}class rC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(s){this._rawValidators=s||[],this._composedValidatorFn=cb(this._rawValidators)}_setAsyncValidators(s){this._rawAsyncValidators=s||[],this._composedAsyncValidatorFn=hb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(s){this._onDestroyCallbacks.push(s)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(s=>s()),this._onDestroyCallbacks=[]}reset(s=void 0){this.control&&this.control.reset(s)}hasError(s,a){return!!this.control&&this.control.hasError(s,a)}getError(s,a){return this.control?this.control.getError(s,a):null}}class Vu extends rC{get formDirective(){return null}get path(){return null}}class Nd extends rC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nC{constructor(s){this._cd=s}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Bm=(()=>{class e extends nC{constructor(a){super(a)}static#e=this.\u0275fac=function(P){return new(P||e)(oi(Nd,2))};static#t=this.\u0275dir=va({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(P,j){2&P&&qy("ng-untouched",j.isUntouched)("ng-touched",j.isTouched)("ng-pristine",j.isPristine)("ng-dirty",j.isDirty)("ng-valid",j.isValid)("ng-invalid",j.isInvalid)("ng-pending",j.isPending)},features:[Io]})}return e})(),vb=(()=>{class e extends nC{constructor(a){super(a)}static#e=this.\u0275fac=function(P){return new(P||e)(oi(Vu,10))};static#t=this.\u0275dir=va({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(P,j){2&P&&qy("ng-untouched",j.isUntouched)("ng-touched",j.isTouched)("ng-pristine",j.isPristine)("ng-dirty",j.isDirty)("ng-valid",j.isValid)("ng-invalid",j.isInvalid)("ng-pending",j.isPending)("ng-submitted",j.isSubmitted)},features:[Io]})}return e})();const yg="VALID",Vm="INVALID",_p="PENDING",mg="DISABLED";function yb(e){return(Hm(e)?e.validators:e)||null}function mb(e,s){return(Hm(s)?s.asyncValidators:e)||null}function Hm(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function aC(e,s,a){const P=e.controls;if(!(s?Object.keys(P):P).length)throw new nr(1e3,"");if(!P[a])throw new nr(1001,"")}function oC(e,s,a){e._forEachChild((P,j)=>{if(void 0===a[j])throw new nr(1002,"")})}class Gm{constructor(s,a){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(s),this._assignAsyncValidators(a)}get validator(){return this._composedValidatorFn}set validator(s){this._rawValidators=this._composedValidatorFn=s}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(s){this._rawAsyncValidators=this._composedAsyncValidatorFn=s}get parent(){return this._parent}get valid(){return this.status===yg}get invalid(){return this.status===Vm}get pending(){return this.status==_p}get disabled(){return this.status===mg}get enabled(){return this.status!==mg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(s){this._assignValidators(s)}setAsyncValidators(s){this._assignAsyncValidators(s)}addValidators(s){this.setValidators(eC(s,this._rawValidators))}addAsyncValidators(s){this.setAsyncValidators(eC(s,this._rawAsyncValidators))}removeValidators(s){this.setValidators(tC(s,this._rawValidators))}removeAsyncValidators(s){this.setAsyncValidators(tC(s,this._rawAsyncValidators))}hasValidator(s){return zm(this._rawValidators,s)}hasAsyncValidator(s){return zm(this._rawAsyncValidators,s)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(s={}){this.touched=!0,this._parent&&!s.onlySelf&&this._parent.markAsTouched(s)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(s=>s.markAllAsTouched())}markAsUntouched(s={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0})}),this._parent&&!s.onlySelf&&this._parent._updateTouched(s)}markAsDirty(s={}){this.pristine=!1,this._parent&&!s.onlySelf&&this._parent.markAsDirty(s)}markAsPristine(s={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(a=>{a.markAsPristine({onlySelf:!0})}),this._parent&&!s.onlySelf&&this._parent._updatePristine(s)}markAsPending(s={}){this.status=_p,!1!==s.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!s.onlySelf&&this._parent.markAsPending(s)}disable(s={}){const a=this._parentMarkedDirty(s.onlySelf);this.status=mg,this.errors=null,this._forEachChild(P=>{P.disable({...s,onlySelf:!0})}),this._updateValue(),!1!==s.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...s,skipPristineCheck:a}),this._onDisabledChange.forEach(P=>P(!0))}enable(s={}){const a=this._parentMarkedDirty(s.onlySelf);this.status=yg,this._forEachChild(P=>{P.enable({...s,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:s.emitEvent}),this._updateAncestors({...s,skipPristineCheck:a}),this._onDisabledChange.forEach(P=>P(!1))}_updateAncestors(s){this._parent&&!s.onlySelf&&(this._parent.updateValueAndValidity(s),s.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(s){this._parent=s}getRawValue(){return this.value}updateValueAndValidity(s={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yg||this.status===_p)&&this._runAsyncValidator(s.emitEvent)),!1!==s.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!s.onlySelf&&this._parent.updateValueAndValidity(s)}_updateTreeValidity(s={emitEvent:!0}){this._forEachChild(a=>a._updateTreeValidity(s)),this.updateValueAndValidity({onlySelf:!0,emitEvent:s.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mg:yg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(s){if(this.asyncValidator){this.status=_p,this._hasOwnPendingAsyncValidator=!0;const a=WS(this.asyncValidator(this));this._asyncValidationSubscription=a.subscribe(P=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(P,{emitEvent:s})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(s,a={}){this.errors=s,this._updateControlsErrors(!1!==a.emitEvent)}get(s){let a=s;return null==a||(Array.isArray(a)||(a=a.split(".")),0===a.length)?null:a.reduce((P,j)=>P&&P._find(j),this)}getError(s,a){const P=a?this.get(a):this;return P&&P.errors?P.errors[s]:null}hasError(s,a){return!!this.getError(s,a)}get root(){let s=this;for(;s._parent;)s=s._parent;return s}_updateControlsErrors(s){this.status=this._calculateStatus(),s&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(s)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?mg:this.errors?Vm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_p)?_p:this._anyControlsHaveStatus(Vm)?Vm:yg}_anyControlsHaveStatus(s){return this._anyControls(a=>a.status===s)}_anyControlsDirty(){return this._anyControls(s=>s.dirty)}_anyControlsTouched(){return this._anyControls(s=>s.touched)}_updatePristine(s={}){this.pristine=!this._anyControlsDirty(),this._parent&&!s.onlySelf&&this._parent._updatePristine(s)}_updateTouched(s={}){this.touched=this._anyControlsTouched(),this._parent&&!s.onlySelf&&this._parent._updateTouched(s)}_registerOnCollectionChange(s){this._onCollectionChange=s}_setUpdateStrategy(s){Hm(s)&&null!=s.updateOn&&(this._updateOn=s.updateOn)}_parentMarkedDirty(s){return!s&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(s){return null}_assignValidators(s){this._rawValidators=Array.isArray(s)?s.slice():s,this._composedValidatorFn=function U6(e){return Array.isArray(e)?cb(e):e||null}(this._rawValidators)}_assignAsyncValidators(s){this._rawAsyncValidators=Array.isArray(s)?s.slice():s,this._composedAsyncValidatorFn=function V6(e){return Array.isArray(e)?hb(e):e||null}(this._rawAsyncValidators)}}class xg extends Gm{constructor(s,a,P){super(yb(a),mb(P,a)),this.controls=s,this._initObservables(),this._setUpdateStrategy(a),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(s,a){return this.controls[s]?this.controls[s]:(this.controls[s]=a,a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange),a)}addControl(s,a,P={}){this.registerControl(s,a),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}removeControl(s,a={}){this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),delete this.controls[s],this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}setControl(s,a,P={}){this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),delete this.controls[s],a&&this.registerControl(s,a),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}contains(s){return this.controls.hasOwnProperty(s)&&this.controls[s].enabled}setValue(s,a={}){oC(this,0,s),Object.keys(s).forEach(P=>{aC(this,!0,P),this.controls[P].setValue(s[P],{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a)}patchValue(s,a={}){null!=s&&(Object.keys(s).forEach(P=>{const j=this.controls[P];j&&j.patchValue(s[P],{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a))}reset(s={},a={}){this._forEachChild((P,j)=>{P.reset(s?s[j]:null,{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}getRawValue(){return this._reduceChildren({},(s,a,P)=>(s[P]=a.getRawValue(),s))}_syncPendingControls(){let s=this._reduceChildren(!1,(a,P)=>!!P._syncPendingControls()||a);return s&&this.updateValueAndValidity({onlySelf:!0}),s}_forEachChild(s){Object.keys(this.controls).forEach(a=>{const P=this.controls[a];P&&s(P,a)})}_setUpControls(){this._forEachChild(s=>{s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(s){for(const[a,P]of Object.entries(this.controls))if(this.contains(a)&&s(P))return!0;return!1}_reduceValue(){return this._reduceChildren({},(a,P,j)=>((P.enabled||this.disabled)&&(a[j]=P.value),a))}_reduceChildren(s,a){let P=s;return this._forEachChild((j,ie)=>{P=a(P,j,ie)}),P}_allControlsDisabled(){for(const s of Object.keys(this.controls))if(this.controls[s].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(s){return this.controls.hasOwnProperty(s)?this.controls[s]:null}}class sC extends xg{}const Iv=new ia("CallSetDisabledState",{providedIn:"root",factory:()=>bg}),bg="always";function _m(e,s){return[...s.path,e]}function wg(e,s,a=bg){xb(e,s),s.valueAccessor.writeValue(e.value),(e.disabled||"always"===a)&&s.valueAccessor.setDisabledState?.(e.disabled),function G6(e,s){s.valueAccessor.registerOnChange(a=>{e._pendingValue=a,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&lC(e,s)})}(e,s),function j6(e,s){const a=(P,j)=>{s.valueAccessor.writeValue(P),j&&s.viewToModelUpdate(P)};e.registerOnChange(a),s._registerOnDestroy(()=>{e._unregisterOnChange(a)})}(e,s),function _6(e,s){s.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&lC(e,s),"submit"!==e.updateOn&&e.markAsTouched()})}(e,s),function H6(e,s){if(s.valueAccessor.setDisabledState){const a=P=>{s.valueAccessor.setDisabledState(P)};e.registerOnDisabledChange(a),s._registerOnDestroy(()=>{e._unregisterOnDisabledChange(a)})}}(e,s)}function jm(e,s,a=!0){const P=()=>{};s.valueAccessor&&(s.valueAccessor.registerOnChange(P),s.valueAccessor.registerOnTouched(P)),Ym(e,s),e&&(s._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Wm(e,s){e.forEach(a=>{a.registerOnValidatorChange&&a.registerOnValidatorChange(s)})}function xb(e,s){const a=QS(e);null!==s.validator?e.setValidators($S(a,s.validator)):"function"==typeof a&&e.setValidators([a]);const P=qS(e);null!==s.asyncValidator?e.setAsyncValidators($S(P,s.asyncValidator)):"function"==typeof P&&e.setAsyncValidators([P]);const j=()=>e.updateValueAndValidity();Wm(s._rawValidators,j),Wm(s._rawAsyncValidators,j)}function Ym(e,s){let a=!1;if(null!==e){if(null!==s.validator){const j=QS(e);if(Array.isArray(j)&&j.length>0){const ie=j.filter(ye=>ye!==s.validator);ie.length!==j.length&&(a=!0,e.setValidators(ie))}}if(null!==s.asyncValidator){const j=qS(e);if(Array.isArray(j)&&j.length>0){const ie=j.filter(ye=>ye!==s.asyncValidator);ie.length!==j.length&&(a=!0,e.setAsyncValidators(ie))}}}const P=()=>{};return Wm(s._rawValidators,P),Wm(s._rawAsyncValidators,P),a}function lC(e,s){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),s.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function wb(e,s){if(!e.hasOwnProperty("model"))return!1;const a=e.model;return!!a.isFirstChange()||!Object.is(s,a.currentValue)}function Tb(e,s){if(!s)return null;let a,P,j;return Array.isArray(s),s.forEach(ie=>{ie.constructor===Gp?a=ie:function Z6(e){return Object.getPrototypeOf(e.constructor)===Lv}(ie)?P=ie:j=ie}),j||P||a||null}function cC(e,s){const a=e.indexOf(s);a>-1&&e.splice(a,1)}function hC(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Ag=class extends Gm{constructor(s=null,a,P){super(yb(a),mb(P,a)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(s),this._setUpdateStrategy(a),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hm(a)&&(a.nonNullable||a.initialValueIsDefault)&&(this.defaultValue=hC(s)?s.value:s)}setValue(s,a={}){this.value=this._pendingValue=s,this._onChange.length&&!1!==a.emitModelToViewChange&&this._onChange.forEach(P=>P(this.value,!1!==a.emitViewToModelChange)),this.updateValueAndValidity(a)}patchValue(s,a={}){this.setValue(s,a)}reset(s=this.defaultValue,a={}){this._applyFormState(s),this.markAsPristine(a),this.markAsUntouched(a),this.setValue(this.value,a),this._pendingChange=!1}_updateValue(){}_anyControls(s){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(s){this._onChange.push(s)}_unregisterOnChange(s){cC(this._onChange,s)}registerOnDisabledChange(s){this._onDisabledChange.push(s)}_unregisterOnDisabledChange(s){cC(this._onDisabledChange,s)}_forEachChild(s){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(s){hC(s)?(this.value=this._pendingValue=s.value,s.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=s}},Q6={provide:Nd,useExisting:Yr(()=>Mb)},pC=(()=>Promise.resolve())();let Mb=(()=>{class e extends Nd{constructor(a,P,j,ie,ye,Fe){super(),this._changeDetectorRef=ye,this.callSetDisabledState=Fe,this.control=new Ag,this._registered=!1,this.name="",this.update=new Se,this._parent=a,this._setValidators(P),this._setAsyncValidators(j),this.valueAccessor=Tb(0,ie)}ngOnChanges(a){if(this._checkForErrors(),!this._registered||"name"in a){if(this._registered&&(this._checkName(),this.formDirective)){const P=a.name.previousValue;this.formDirective.removeControl({name:P,path:this._getPath(P)})}this._setUpControl()}"isDisabled"in a&&this._updateDisabled(a),wb(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(a){this.viewModel=a,this.update.emit(a)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(a){pC.then(()=>{this.control.setValue(a,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(a){const P=a.isDisabled.currentValue,j=0!==P&&zp(P);pC.then(()=>{j&&!this.control.disabled?this.control.disable():!j&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(a){return this._parent?_m(a,this._parent):[a]}static#e=this.\u0275fac=function(P){return new(P||e)(oi(Vu,9),oi(mu,10),oi(Od,10),oi(bh,10),oi(lg,8),oi(Iv,8))};static#t=this.\u0275dir=va({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ms([Q6]),Io,ji]})}return e})(),Sb=(()=>{class e{static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275dir=va({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const q6={provide:bh,useExisting:Yr(()=>Zm),multi:!0};let Zm=(()=>{class e extends Lv{writeValue(a){this.setProperty("value",a??"")}registerOnChange(a){this.onChange=P=>{a(""==P?null:parseFloat(P))}}static#e=this.\u0275fac=function(){let a;return function(j){return(a||(a=vo(e)))(j||e)}}();static#t=this.\u0275dir=va({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(P,j){1&P&&Bl("input",function(ye){return j.onChange(ye.target.value)})("blur",function(){return j.onTouched()})},features:[ms([q6]),Io]})}return e})();const eF={provide:bh,useExisting:Yr(()=>Cb),multi:!0};let gC=(()=>{class e{static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275mod=Yo({type:e});static#r=this.\u0275inj=vn({})}return e})(),tF=(()=>{class e{constructor(){this._accessors=[]}add(a,P){this._accessors.push([a,P])}remove(a){for(let P=this._accessors.length-1;P>=0;--P)if(this._accessors[P][1]===a)return void this._accessors.splice(P,1)}select(a){this._accessors.forEach(P=>{this._isSameGroup(P,a)&&P[1]!==a&&P[1].fireUncheck(a.value)})}_isSameGroup(a,P){return!!a[0].control&&a[0]._parent===P._control._parent&&a[1].name===P.name}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:gC})}return e})(),Cb=(()=>{class e extends Lv{constructor(a,P,j,ie){super(a,P),this._registry=j,this._injector=ie,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Ki(Iv,{optional:!0})??bg}ngOnInit(){this._control=this._injector.get(Nd),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(a){this._state=a===this.value,this.setProperty("checked",this._state)}registerOnChange(a){this._fn=a,this.onChange=()=>{a(this.value),this._registry.select(this)}}setDisabledState(a){(this.setDisabledStateFired||a||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",a),this.setDisabledStateFired=!0}fireUncheck(a){this.writeValue(a)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(P){return new(P||e)(oi(Af),oi(pu),oi(tF),oi(Ou))};static#t=this.\u0275dir=va({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(P,j){1&P&&Bl("change",function(){return j.onChange()})("blur",function(){return j.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ms([eF]),Io]})}return e})();const Eb=new ia("NgModelWithFormControlWarning"),iF={provide:Vu,useExisting:Yr(()=>Mg)};let Mg=(()=>{class e extends Vu{constructor(a,P,j){super(),this.callSetDisabledState=j,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Se,this._setValidators(a),this._setAsyncValidators(P)}ngOnChanges(a){this._checkFormPresent(),a.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ym(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(a){const P=this.form.get(a.path);return wg(P,a,this.callSetDisabledState),P.updateValueAndValidity({emitEvent:!1}),this.directives.push(a),P}getControl(a){return this.form.get(a.path)}removeControl(a){jm(a.control||null,a,!1),function X6(e,s){const a=e.indexOf(s);a>-1&&e.splice(a,1)}(this.directives,a)}addFormGroup(a){this._setUpFormContainer(a)}removeFormGroup(a){this._cleanUpFormContainer(a)}getFormGroup(a){return this.form.get(a.path)}addFormArray(a){this._setUpFormContainer(a)}removeFormArray(a){this._cleanUpFormContainer(a)}getFormArray(a){return this.form.get(a.path)}updateModel(a,P){this.form.get(a.path).setValue(P)}onSubmit(a){return this.submitted=!0,function fC(e,s){e._syncPendingControls(),s.forEach(a=>{const P=a.control;"submit"===P.updateOn&&P._pendingChange&&(a.viewToModelUpdate(P._pendingValue),P._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(a),"dialog"===a?.target?.method}onReset(){this.resetForm()}resetForm(a=void 0){this.form.reset(a),this.submitted=!1}_updateDomValue(){this.directives.forEach(a=>{const P=a.control,j=this.form.get(a.path);P!==j&&(jm(P||null,a),(e=>e instanceof Ag)(j)&&(wg(j,a,this.callSetDisabledState),a.control=j))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(a){const P=this.form.get(a.path);(function uC(e,s){xb(e,s)})(P,a),P.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(a){if(this.form){const P=this.form.get(a.path);P&&function W6(e,s){return Ym(e,s)}(P,a)&&P.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xb(this.form,this),this._oldForm&&Ym(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(P){return new(P||e)(oi(mu,10),oi(Od,10),oi(Iv,8))};static#t=this.\u0275dir=va({type:e,selectors:[["","formGroup",""]],hostBindings:function(P,j){1&P&&Bl("submit",function(ye){return j.onSubmit(ye)})("reset",function(){return j.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ms([iF]),Io,ji]})}return e})();const sF={provide:Nd,useExisting:Yr(()=>Xm)};let Xm=(()=>{class e extends Nd{set isDisabled(a){}static#e=this._ngModelWarningSentOnce=!1;constructor(a,P,j,ie,ye){super(),this._ngModelWarningConfig=ye,this._added=!1,this.name=null,this.update=new Se,this._ngModelWarningSent=!1,this._parent=a,this._setValidators(P),this._setAsyncValidators(j),this.valueAccessor=Tb(0,ie)}ngOnChanges(a){this._added||this._setUpControl(),wb(a,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(a){this.viewModel=a,this.update.emit(a)}get path(){return _m(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(P){return new(P||e)(oi(Vu,13),oi(mu,10),oi(Od,10),oi(bh,10),oi(Eb,8))};static#r=this.\u0275dir=va({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ms([sF]),Io,ji]})}return e})();function AC(e){return"number"==typeof e?e:parseFloat(e)}let Pv=(()=>{class e{constructor(){this._validator=Nm}ngOnChanges(a){if(this.inputName in a){const P=this.normalizeInput(a[this.inputName].currentValue);this._enabled=this.enabled(P),this._validator=this._enabled?this.createValidator(P):Nm,this._onChange&&this._onChange()}}validate(a){return this._validator(a)}registerOnValidatorChange(a){this._onChange=a}enabled(a){return null!=a}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275dir=va({type:e,features:[ji]})}return e})();const vF={provide:mu,useExisting:Yr(()=>Km),multi:!0};let Km=(()=>{class e extends Pv{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=a=>AC(a),this.createValidator=a=>function zS(e){return s=>{if(kd(s.value)||kd(e))return null;const a=parseFloat(s.value);return!isNaN(a)&&a>e?{max:{max:e,actual:s.value}}:null}}(a)}static#e=this.\u0275fac=function(){let a;return function(j){return(a||(a=vo(e)))(j||e)}}();static#t=this.\u0275dir=va({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(P,j){2&P&&ph("max",j._enabled?j.max:null)},inputs:{max:"max"},features:[ms([vF]),Io]})}return e})();const pF={provide:mu,useExisting:Yr(()=>Jm),multi:!0};let Jm=(()=>{class e extends Pv{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=a=>AC(a),this.createValidator=a=>function NS(e){return s=>{if(kd(s.value)||kd(e))return null;const a=parseFloat(s.value);return!isNaN(a)&&a<e?{min:{min:e,actual:s.value}}:null}}(a)}static#e=this.\u0275fac=function(){let a;return function(j){return(a||(a=vo(e)))(j||e)}}();static#t=this.\u0275dir=va({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(P,j){2&P&&ph("min",j._enabled?j.min:null)},inputs:{min:"min"},features:[ms([pF]),Io]})}return e})(),LC=(()=>{class e{static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275mod=Yo({type:e});static#r=this.\u0275inj=vn({imports:[gC]})}return e})();class IC extends Gm{constructor(s,a,P){super(yb(a),mb(P,a)),this.controls=s,this._initObservables(),this._setUpdateStrategy(a),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(s){return this.controls[this._adjustIndex(s)]}push(s,a={}){this.controls.push(s),this._registerControl(s),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}insert(s,a,P={}){this.controls.splice(s,0,a),this._registerControl(a),this.updateValueAndValidity({emitEvent:P.emitEvent})}removeAt(s,a={}){let P=this._adjustIndex(s);P<0&&(P=0),this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),this.controls.splice(P,1),this.updateValueAndValidity({emitEvent:a.emitEvent})}setControl(s,a,P={}){let j=this._adjustIndex(s);j<0&&(j=0),this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),a&&(this.controls.splice(j,0,a),this._registerControl(a)),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(s,a={}){oC(this,0,s),s.forEach((P,j)=>{aC(this,!1,j),this.at(j).setValue(P,{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a)}patchValue(s,a={}){null!=s&&(s.forEach((P,j)=>{this.at(j)&&this.at(j).patchValue(P,{onlySelf:!0,emitEvent:a.emitEvent})}),this.updateValueAndValidity(a))}reset(s=[],a={}){this._forEachChild((P,j)=>{P.reset(s[j],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}getRawValue(){return this.controls.map(s=>s.getRawValue())}clear(s={}){this.controls.length<1||(this._forEachChild(a=>a._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:s.emitEvent}))}_adjustIndex(s){return s<0?s+this.length:s}_syncPendingControls(){let s=this.controls.reduce((a,P)=>!!P._syncPendingControls()||a,!1);return s&&this.updateValueAndValidity({onlySelf:!0}),s}_forEachChild(s){this.controls.forEach((a,P)=>{s(a,P)})}_updateValue(){this.value=this.controls.filter(s=>s.enabled||this.disabled).map(s=>s.value)}_anyControls(s){return this.controls.some(a=>a.enabled&&s(a))}_setUpControls(){this._forEachChild(s=>this._registerControl(s))}_allControlsDisabled(){for(const s of this.controls)if(s.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(s){s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange)}_find(s){return this.at(s)??null}}function PC(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let Fb=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const a=new e;return a.useNonNullable=!0,a}group(a,P=null){const j=this._reduceControls(a);let ie={};return PC(P)?ie=P:null!==P&&(ie.validators=P.validator,ie.asyncValidators=P.asyncValidator),new xg(j,ie)}record(a,P=null){const j=this._reduceControls(a);return new sC(j,P)}control(a,P,j){let ie={};return this.useNonNullable?(PC(P)?ie=P:(ie.validators=P,ie.asyncValidators=j),new Ag(a,{...ie,nonNullable:!0})):new Ag(a,P,j)}array(a,P,j){const ie=a.map(ye=>this._createControl(ye));return new IC(ie,P,j)}_reduceControls(a){const P={};return Object.keys(a).forEach(j=>{P[j]=this._createControl(a[j])}),P}_createControl(a){return a instanceof Ag||a instanceof Gm?a:Array.isArray(a)?this.control(a[0],a.length>1?a[1]:null,a.length>2?a[2]:null):this.control(a)}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),TF=(()=>{class e{static withConfig(a){return{ngModule:e,providers:[{provide:Iv,useValue:a.callSetDisabledState??bg}]}}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275mod=Yo({type:e});static#r=this.\u0275inj=vn({imports:[LC]})}return e})(),AF=(()=>{class e{static withConfig(a){return{ngModule:e,providers:[{provide:Eb,useValue:a.warnOnNgModelWithFormControl??"always"},{provide:Iv,useValue:a.callSetDisabledState??bg}]}}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275mod=Yo({type:e});static#r=this.\u0275inj=vn({imports:[LC]})}return e})();function RC(e,s,a,P,j,ie,ye){try{var Fe=e[ie](ye),Xe=Fe.value}catch(yt){return void a(yt)}Fe.done?s(Xe):Promise.resolve(Xe).then(P,j)}function Hu(e){return function(){var s=this,a=arguments;return new Promise(function(P,j){var ie=e.apply(s,a);function ye(Xe){RC(ie,P,j,ye,Fe,"next",Xe)}function Fe(Xe){RC(ie,P,j,ye,Fe,"throw",Xe)}ye(void 0)})}}const Sg=r0(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});let $m=(()=>{class e{constructor(a){this._httpClient=a,this.apiEnv="hospedada"}getDataRegression(a,P,j,ie,ye){var Fe=this;return Hu(function*(){let Vt="hospedada"==Fe.apiEnv?"https://z05chc2hyc.execute-api.sa-east-1.amazonaws.com/api/":"http://127.0.0.1:8000/";try{return yield function MF(e,s){const a="object"==typeof s;return new Promise((P,j)=>{const ie=new u({next:ye=>{P(ye),ie.unsubscribe()},error:j,complete:()=>{a?P(s.defaultValue):j(new Sg)}});e.subscribe(ie)})}(Fe._httpClient.post(Vt,{type:a,params:P,results:j,aprox:ie,expr:ye}))}catch(tr){throw console.log(tr),new Error("Falha de conex\xe3o com a API")}})()}setEnv(a){this.apiEnv=a}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(mS))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kb(...e){const s=At(e),a=ct(e),{args:P,keys:j}=IS(e);if(0===P.length)return Ze([],s);const ie=new D(function CF(e,s,a=E){return P=>{kC(s,()=>{const{length:j}=e,ie=new Array(j);let ye=j,Fe=j;for(let Xe=0;Xe<j;Xe++)kC(s,()=>{const yt=Ze(e[Xe],s);let Vt=!1;yt.subscribe(G(P,tr=>{ie[Xe]=tr,Vt||(Vt=!0,Fe--),Fe||P.next(a(ie.slice()))},()=>{--ye||P.complete()}))},P)},P)}}(P,s,j?ye=>RS(j,ye):E));return a?ie.pipe(PS(a)):ie}function kC(e,s,a){e?Ut(a,e,s):s()}function Ob(...e){return function EF(){return wt(1)}()(Ze(e,At(e)))}function OC(e){return new D(s=>{Te(e()).subscribe(s)})}function Cg(e,s){const a=Ga(e)?e:()=>e,P=j=>j.error(a());return new D(s?j=>s.schedule(P,0,j):P)}function Nb(){return U((e,s)=>{let a=null;e._refCount++;const P=G(s,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(a=null);const j=e._connection,ie=a;a=null,j&&(!ie||j===ie)&&j.unsubscribe(),s.unsubscribe()});e.subscribe(P),P.closed||(a=e.connect())})}class NC extends D{constructor(s,a){super(),this.source=s,this.subjectFactory=a,this._subject=null,this._refCount=0,this._connection=null,H(s)&&(this.lift=s.lift)}_subscribe(s){return this.getSubject().subscribe(s)}getSubject(){const s=this._subject;return(!s||s.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:s}=this;this._subject=this._connection=null,s?.unsubscribe()}connect(){let s=this._connection;if(!s){s=this._connection=new t;const a=this.getSubject();s.add(this.source.subscribe(G(a,void 0,()=>{this._teardown(),a.complete()},P=>{this._teardown(),a.error(P)},()=>this._teardown()))),s.closed&&(this._connection=null,s=t.EMPTY)}return s}refCount(){return Nb()(this)}}function jp(e){return e<=0?()=>$t:U((s,a)=>{let P=0;s.subscribe(G(a,j=>{++P<=e&&(a.next(j),e<=P&&a.complete())}))})}function Qm(e){return U((s,a)=>{let P=!1;s.subscribe(G(a,j=>{P=!0,a.next(j)},()=>{P||a.next(e),a.complete()}))})}function zC(e=LF){return U((s,a)=>{let P=!1;s.subscribe(G(a,j=>{P=!0,a.next(j)},()=>P?a.complete():a.error(e())))})}function LF(){return new Sg}function Rv(e,s){const a=arguments.length>=2;return P=>P.pipe(e?$h((j,ie)=>e(j,ie,P)):E,jp(1),a?Qm(s):zC(()=>new Sg))}function xu(e,s,a){const P=Ga(e)||s||a?{next:e,error:s,complete:a}:e;return P?U((j,ie)=>{var ye;null===(ye=P.subscribe)||void 0===ye||ye.call(P);let Fe=!0;j.subscribe(G(ie,Xe=>{var yt;null===(yt=P.next)||void 0===yt||yt.call(P,Xe),ie.next(Xe)},()=>{var Xe;Fe=!1,null===(Xe=P.complete)||void 0===Xe||Xe.call(P),ie.complete()},Xe=>{var yt;Fe=!1,null===(yt=P.error)||void 0===yt||yt.call(P,Xe),ie.error(Xe)},()=>{var Xe,yt;Fe&&(null===(Xe=P.unsubscribe)||void 0===Xe||Xe.call(P)),null===(yt=P.finalize)||void 0===yt||yt.call(P)}))}):E}function Fv(e){return U((s,a)=>{let ie,P=null,j=!1;P=s.subscribe(G(a,void 0,void 0,ye=>{ie=Te(e(ye,Fv(e)(s))),P?(P.unsubscribe(),P=null,ie.subscribe(a)):j=!0})),j&&(P.unsubscribe(),P=null,ie.subscribe(a))})}function zb(e){return e<=0?()=>$t:U((s,a)=>{let P=[];s.subscribe(G(a,j=>{P.push(j),e<P.length&&P.shift()},()=>{for(const j of P)a.next(j);a.complete()},void 0,()=>{P=null}))})}const Va="primary",Eg=Symbol("RouteTitle");class OF{constructor(s){this.params=s||{}}has(s){return Object.prototype.hasOwnProperty.call(this.params,s)}get(s){if(this.has(s)){const a=this.params[s];return Array.isArray(a)?a[0]:a}return null}getAll(s){if(this.has(s)){const a=this.params[s];return Array.isArray(a)?a:[a]}return[]}get keys(){return Object.keys(this.params)}}function Wp(e){return new OF(e)}function NF(e,s,a){const P=a.path.split("/");if(P.length>e.length||"full"===a.pathMatch&&(s.hasChildren()||P.length<e.length))return null;const j={};for(let ie=0;ie<P.length;ie++){const ye=P[ie],Fe=e[ie];if(ye.startsWith(":"))j[ye.substring(1)]=Fe;else if(ye!==Fe.path)return null}return{consumed:e.slice(0,P.length),posParams:j}}function wh(e,s){const a=e?Object.keys(e):void 0,P=s?Object.keys(s):void 0;if(!a||!P||a.length!=P.length)return!1;let j;for(let ie=0;ie<a.length;ie++)if(j=a[ie],!BC(e[j],s[j]))return!1;return!0}function BC(e,s){if(Array.isArray(e)&&Array.isArray(s)){if(e.length!==s.length)return!1;const a=[...e].sort(),P=[...s].sort();return a.every((j,ie)=>P[ie]===j)}return e===s}function UC(e){return e.length>0?e[e.length-1]:null}function zd(e){return function SF(e){return!!e&&(e instanceof D||Ga(e.lift)&&Ga(e.subscribe))}(e)?e:J0(e)?Ze(Promise.resolve(e)):Xt(e)}const BF={exact:function GC(e,s,a){if(!kv(e.segments,s.segments)||!qm(e.segments,s.segments,a)||e.numberOfChildren!==s.numberOfChildren)return!1;for(const P in s.children)if(!e.children[P]||!GC(e.children[P],s.children[P],a))return!1;return!0},subset:_C},VC={exact:function UF(e,s){return wh(e,s)},subset:function VF(e,s){return Object.keys(s).length<=Object.keys(e).length&&Object.keys(s).every(a=>BC(e[a],s[a]))},ignored:()=>!0};function HC(e,s,a){return BF[a.paths](e.root,s.root,a.matrixParams)&&VC[a.queryParams](e.queryParams,s.queryParams)&&!("exact"===a.fragment&&e.fragment!==s.fragment)}function _C(e,s,a){return jC(e,s,s.segments,a)}function jC(e,s,a,P){if(e.segments.length>a.length){const j=e.segments.slice(0,a.length);return!(!kv(j,a)||s.hasChildren()||!qm(j,a,P))}if(e.segments.length===a.length){if(!kv(e.segments,a)||!qm(e.segments,a,P))return!1;for(const j in s.children)if(!e.children[j]||!_C(e.children[j],s.children[j],P))return!1;return!0}{const j=a.slice(0,e.segments.length),ie=a.slice(e.segments.length);return!!(kv(e.segments,j)&&qm(e.segments,j,P)&&e.children[Va])&&jC(e.children[Va],s,ie,P)}}function qm(e,s,a){return s.every((P,j)=>VC[a](e[j].parameters,P.parameters))}class Yp{constructor(s=new Po([],{}),a={},P=null){this.root=s,this.queryParams=a,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wp(this.queryParams)),this._queryParamMap}toString(){return _F.serialize(this)}}class Po{constructor(s,a){this.segments=s,this.children=a,this.parent=null,Object.values(a).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return e1(this)}}class Dg{constructor(s,a){this.path=s,this.parameters=a}get parameterMap(){return this._parameterMap||(this._parameterMap=Wp(this.parameters)),this._parameterMap}toString(){return ZC(this)}}function kv(e,s){return e.length===s.length&&e.every((a,P)=>a.path===s[P].path)}let Lg=(()=>{class e{static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:function(){return new Bb},providedIn:"root"})}return e})();class Bb{parse(s){const a=new ek(s);return new Yp(a.parseRootSegment(),a.parseQueryParams(),a.parseFragment())}serialize(s){const a=`/${Ig(s.root,!0)}`,P=function YF(e){const s=Object.keys(e).map(a=>{const P=e[a];return Array.isArray(P)?P.map(j=>`${t1(a)}=${t1(j)}`).join("&"):`${t1(a)}=${t1(P)}`}).filter(a=>!!a);return s.length?`?${s.join("&")}`:""}(s.queryParams);return`${a}${P}${"string"==typeof s.fragment?`#${function jF(e){return encodeURI(e)}(s.fragment)}`:""}`}}const _F=new Bb;function e1(e){return e.segments.map(s=>ZC(s)).join("/")}function Ig(e,s){if(!e.hasChildren())return e1(e);if(s){const a=e.children[Va]?Ig(e.children[Va],!1):"",P=[];return Object.entries(e.children).forEach(([j,ie])=>{j!==Va&&P.push(`${j}:${Ig(ie,!1)}`)}),P.length>0?`${a}(${P.join("//")})`:a}{const a=function GF(e,s){let a=[];return Object.entries(e.children).forEach(([P,j])=>{P===Va&&(a=a.concat(s(j,P)))}),Object.entries(e.children).forEach(([P,j])=>{P!==Va&&(a=a.concat(s(j,P)))}),a}(e,(P,j)=>j===Va?[Ig(e.children[Va],!1)]:[`${j}:${Ig(P,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Va]?`${e1(e)}/${a[0]}`:`${e1(e)}/(${a.join("//")})`}}function WC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function t1(e){return WC(e).replace(/%3B/gi,";")}function Ub(e){return WC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function r1(e){return decodeURIComponent(e)}function YC(e){return r1(e.replace(/\+/g,"%20"))}function ZC(e){return`${Ub(e.path)}${function WF(e){return Object.keys(e).map(s=>`;${Ub(s)}=${Ub(e[s])}`).join("")}(e.parameters)}`}const ZF=/^[^\/()?;#]+/;function Vb(e){const s=e.match(ZF);return s?s[0]:""}const XF=/^[^\/()?;=#]+/,JF=/^[^=?&#]+/,QF=/^[^&#]+/;class ek{constructor(s){this.url=s,this.remaining=s}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Po([],{}):new Po([],this.parseChildren())}parseQueryParams(){const s={};if(this.consumeOptional("?"))do{this.parseQueryParam(s)}while(this.consumeOptional("&"));return s}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const s=[];for(this.peekStartsWith("(")||s.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),s.push(this.parseSegment());let a={};this.peekStartsWith("/(")&&(this.capture("/"),a=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(s.length>0||Object.keys(a).length>0)&&(P[Va]=new Po(s,a)),P}parseSegment(){const s=Vb(this.remaining);if(""===s&&this.peekStartsWith(";"))throw new nr(4009,!1);return this.capture(s),new Dg(r1(s),this.parseMatrixParams())}parseMatrixParams(){const s={};for(;this.consumeOptional(";");)this.parseParam(s);return s}parseParam(s){const a=function KF(e){const s=e.match(XF);return s?s[0]:""}(this.remaining);if(!a)return;this.capture(a);let P="";if(this.consumeOptional("=")){const j=Vb(this.remaining);j&&(P=j,this.capture(P))}s[r1(a)]=r1(P)}parseQueryParam(s){const a=function $F(e){const s=e.match(JF);return s?s[0]:""}(this.remaining);if(!a)return;this.capture(a);let P="";if(this.consumeOptional("=")){const ye=function qF(e){const s=e.match(QF);return s?s[0]:""}(this.remaining);ye&&(P=ye,this.capture(P))}const j=YC(a),ie=YC(P);if(s.hasOwnProperty(j)){let ye=s[j];Array.isArray(ye)||(ye=[ye],s[j]=ye),ye.push(ie)}else s[j]=ie}parseParens(s){const a={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Vb(this.remaining),j=this.remaining[P.length];if("/"!==j&&")"!==j&&";"!==j)throw new nr(4010,!1);let ie;P.indexOf(":")>-1?(ie=P.slice(0,P.indexOf(":")),this.capture(ie),this.capture(":")):s&&(ie=Va);const ye=this.parseChildren();a[ie]=1===Object.keys(ye).length?ye[Va]:new Po([],ye),this.consumeOptional("//")}return a}peekStartsWith(s){return this.remaining.startsWith(s)}consumeOptional(s){return!!this.peekStartsWith(s)&&(this.remaining=this.remaining.substring(s.length),!0)}capture(s){if(!this.consumeOptional(s))throw new nr(4011,!1)}}function XC(e){return e.segments.length>0?new Po([],{[Va]:e}):e}function KC(e){const s={};for(const P of Object.keys(e.children)){const ie=KC(e.children[P]);if(P===Va&&0===ie.segments.length&&ie.hasChildren())for(const[ye,Fe]of Object.entries(ie.children))s[ye]=Fe;else(ie.segments.length>0||ie.hasChildren())&&(s[P]=ie)}return function tk(e){if(1===e.numberOfChildren&&e.children[Va]){const s=e.children[Va];return new Po(e.segments.concat(s.segments),s.children)}return e}(new Po(e.segments,s))}function Ov(e){return e instanceof Yp}function JC(e){let s;const j=XC(function a(ie){const ye={};for(const Xe of ie.children){const yt=a(Xe);ye[Xe.outlet]=yt}const Fe=new Po(ie.url,ye);return ie===e&&(s=Fe),Fe}(e.root));return s??j}function $C(e,s,a,P){let j=e;for(;j.parent;)j=j.parent;if(0===s.length)return Hb(j,j,j,a,P);const ie=function nk(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new qC(!0,0,e);let s=0,a=!1;const P=e.reduce((j,ie,ye)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const Fe={};return Object.entries(ie.outlets).forEach(([Xe,yt])=>{Fe[Xe]="string"==typeof yt?yt.split("/"):yt}),[...j,{outlets:Fe}]}if(ie.segmentPath)return[...j,ie.segmentPath]}return"string"!=typeof ie?[...j,ie]:0===ye?(ie.split("/").forEach((Fe,Xe)=>{0==Xe&&"."===Fe||(0==Xe&&""===Fe?a=!0:".."===Fe?s++:""!=Fe&&j.push(Fe))}),j):[...j,ie]},[]);return new qC(a,s,P)}(s);if(ie.toRoot())return Hb(j,j,new Po([],{}),a,P);const ye=function ik(e,s,a){if(e.isAbsolute)return new i1(s,!0,0);if(!a)return new i1(s,!1,NaN);if(null===a.parent)return new i1(a,!0,0);const P=n1(e.commands[0])?0:1;return function ak(e,s,a){let P=e,j=s,ie=a;for(;ie>j;){if(ie-=j,P=P.parent,!P)throw new nr(4005,!1);j=P.segments.length}return new i1(P,!1,j-ie)}(a,a.segments.length-1+P,e.numberOfDoubleDots)}(ie,j,e),Fe=ye.processChildren?Rg(ye.segmentGroup,ye.index,ie.commands):eE(ye.segmentGroup,ye.index,ie.commands);return Hb(j,ye.segmentGroup,Fe,a,P)}function n1(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Pg(e){return"object"==typeof e&&null!=e&&e.outlets}function Hb(e,s,a,P,j){let ye,ie={};P&&Object.entries(P).forEach(([Xe,yt])=>{ie[Xe]=Array.isArray(yt)?yt.map(Vt=>`${Vt}`):`${yt}`}),ye=e===s?a:QC(e,s,a);const Fe=XC(KC(ye));return new Yp(Fe,ie,j)}function QC(e,s,a){const P={};return Object.entries(e.children).forEach(([j,ie])=>{P[j]=ie===s?a:QC(ie,s,a)}),new Po(e.segments,P)}class qC{constructor(s,a,P){if(this.isAbsolute=s,this.numberOfDoubleDots=a,this.commands=P,s&&P.length>0&&n1(P[0]))throw new nr(4003,!1);const j=P.find(Pg);if(j&&j!==UC(P))throw new nr(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class i1{constructor(s,a,P){this.segmentGroup=s,this.processChildren=a,this.index=P}}function eE(e,s,a){if(e||(e=new Po([],{})),0===e.segments.length&&e.hasChildren())return Rg(e,s,a);const P=function sk(e,s,a){let P=0,j=s;const ie={match:!1,pathIndex:0,commandIndex:0};for(;j<e.segments.length;){if(P>=a.length)return ie;const ye=e.segments[j],Fe=a[P];if(Pg(Fe))break;const Xe=`${Fe}`,yt=P<a.length-1?a[P+1]:null;if(j>0&&void 0===Xe)break;if(Xe&&yt&&"object"==typeof yt&&void 0===yt.outlets){if(!rE(Xe,yt,ye))return ie;P+=2}else{if(!rE(Xe,{},ye))return ie;P++}j++}return{match:!0,pathIndex:j,commandIndex:P}}(e,s,a),j=a.slice(P.commandIndex);if(P.match&&P.pathIndex<e.segments.length){const ie=new Po(e.segments.slice(0,P.pathIndex),{});return ie.children[Va]=new Po(e.segments.slice(P.pathIndex),e.children),Rg(ie,0,j)}return P.match&&0===j.length?new Po(e.segments,{}):P.match&&!e.hasChildren()?Gb(e,s,a):P.match?Rg(e,0,j):Gb(e,s,a)}function Rg(e,s,a){if(0===a.length)return new Po(e.segments,{});{const P=function ok(e){return Pg(e[0])?e[0].outlets:{[Va]:e}}(a),j={};if(Object.keys(P).some(ie=>ie!==Va)&&e.children[Va]&&1===e.numberOfChildren&&0===e.children[Va].segments.length){const ie=Rg(e.children[Va],s,a);return new Po(e.segments,ie.children)}return Object.entries(P).forEach(([ie,ye])=>{"string"==typeof ye&&(ye=[ye]),null!==ye&&(j[ie]=eE(e.children[ie],s,ye))}),Object.entries(e.children).forEach(([ie,ye])=>{void 0===P[ie]&&(j[ie]=ye)}),new Po(e.segments,j)}}function Gb(e,s,a){const P=e.segments.slice(0,s);let j=0;for(;j<a.length;){const ie=a[j];if(Pg(ie)){const Xe=lk(ie.outlets);return new Po(P,Xe)}if(0===j&&n1(a[0])){P.push(new Dg(e.segments[s].path,tE(a[0]))),j++;continue}const ye=Pg(ie)?ie.outlets[Va]:`${ie}`,Fe=j<a.length-1?a[j+1]:null;ye&&Fe&&n1(Fe)?(P.push(new Dg(ye,tE(Fe))),j+=2):(P.push(new Dg(ye,{})),j++)}return new Po(P,{})}function lk(e){const s={};return Object.entries(e).forEach(([a,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(s[a]=Gb(new Po([],{}),0,P))}),s}function tE(e){const s={};return Object.entries(e).forEach(([a,P])=>s[a]=`${P}`),s}function rE(e,s,a){return e==a.path&&wh(s,a.parameters)}const Fg="imperative";class Th{constructor(s,a){this.id=s,this.url=a}}class a1 extends Th{constructor(s,a,P="imperative",j=null){super(s,a),this.type=0,this.navigationTrigger=P,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bd extends Th{constructor(s,a,P){super(s,a),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kg extends Th{constructor(s,a,P,j){super(s,a),this.reason=P,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zp extends Th{constructor(s,a,P,j){super(s,a),this.reason=P,this.code=j,this.type=16}}class o1 extends Th{constructor(s,a,P,j){super(s,a),this.error=P,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nE extends Th{constructor(s,a,P,j){super(s,a),this.urlAfterRedirects=P,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uk extends Th{constructor(s,a,P,j){super(s,a),this.urlAfterRedirects=P,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fk extends Th{constructor(s,a,P,j,ie){super(s,a),this.urlAfterRedirects=P,this.state=j,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ck extends Th{constructor(s,a,P,j){super(s,a),this.urlAfterRedirects=P,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hk extends Th{constructor(s,a,P,j){super(s,a),this.urlAfterRedirects=P,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dk{constructor(s){this.route=s,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vk{constructor(s){this.route=s,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pk{constructor(s){this.snapshot=s,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gk{constructor(s){this.snapshot=s,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yk{constructor(s){this.snapshot=s,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mk{constructor(s){this.snapshot=s,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iE{constructor(s,a,P){this.routerEvent=s,this.position=a,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _b{}class jb{constructor(s){this.url=s}}class xk{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Og,this.attachRef=null}}let Og=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(a,P){const j=this.getOrCreateContext(a);j.outlet=P,this.contexts.set(a,j)}onChildOutletDestroyed(a){const P=this.getContext(a);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const a=this.contexts;return this.contexts=new Map,a}onOutletReAttached(a){this.contexts=a}getOrCreateContext(a){let P=this.getContext(a);return P||(P=new xk,this.contexts.set(a,P)),P}getContext(a){return this.contexts.get(a)||null}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class aE{constructor(s){this._root=s}get root(){return this._root.value}parent(s){const a=this.pathFromRoot(s);return a.length>1?a[a.length-2]:null}children(s){const a=Wb(s,this._root);return a?a.children.map(P=>P.value):[]}firstChild(s){const a=Wb(s,this._root);return a&&a.children.length>0?a.children[0].value:null}siblings(s){const a=Yb(s,this._root);return a.length<2?[]:a[a.length-2].children.map(j=>j.value).filter(j=>j!==s)}pathFromRoot(s){return Yb(s,this._root).map(a=>a.value)}}function Wb(e,s){if(e===s.value)return s;for(const a of s.children){const P=Wb(e,a);if(P)return P}return null}function Yb(e,s){if(e===s.value)return[s];for(const a of s.children){const P=Yb(e,a);if(P.length)return P.unshift(s),P}return[]}class Qh{constructor(s,a){this.value=s,this.children=a}toString(){return`TreeNode(${this.value})`}}function Xp(e){const s={};return e&&e.children.forEach(a=>s[a.value.outlet]=a),s}class oE extends aE{constructor(s,a){super(s),this.snapshot=a,Zb(this,s)}toString(){return this.snapshot.toString()}}function sE(e,s){const a=function bk(e,s){const ye=new s1([],{},{},"",{},Va,s,null,{});return new uE("",new Qh(ye,[]))}(0,s),P=new kt([new Dg("",{})]),j=new kt({}),ie=new kt({}),ye=new kt({}),Fe=new kt(""),Xe=new Kp(P,j,ye,Fe,ie,Va,s,a.root);return Xe.snapshot=a.root,new oE(new Qh(Xe,[]),a)}class Kp{constructor(s,a,P,j,ie,ye,Fe,Xe){this.urlSubject=s,this.paramsSubject=a,this.queryParamsSubject=P,this.fragmentSubject=j,this.dataSubject=ie,this.outlet=ye,this.component=Fe,this._futureSnapshot=Xe,this.title=this.dataSubject?.pipe(ee(yt=>yt[Eg]))??Xt(void 0),this.url=s,this.params=a,this.queryParams=P,this.fragment=j,this.data=ie}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ee(s=>Wp(s)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ee(s=>Wp(s)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lE(e,s="emptyOnly"){const a=e.pathFromRoot;let P=0;if("always"!==s)for(P=a.length-1;P>=1;){const j=a[P],ie=a[P-1];if(j.routeConfig&&""===j.routeConfig.path)P--;else{if(ie.component)break;P--}}return function wk(e){return e.reduce((s,a)=>({params:{...s.params,...a.params},data:{...s.data,...a.data},resolve:{...a.data,...s.resolve,...a.routeConfig?.data,...a._resolvedData}}),{params:{},data:{},resolve:{}})}(a.slice(P))}class s1{get title(){return this.data?.[Eg]}constructor(s,a,P,j,ie,ye,Fe,Xe,yt){this.url=s,this.params=a,this.queryParams=P,this.fragment=j,this.data=ie,this.outlet=ye,this.component=Fe,this.routeConfig=Xe,this._resolve=yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uE extends aE{constructor(s,a){super(a),this.url=s,Zb(this,a)}toString(){return fE(this._root)}}function Zb(e,s){s.value._routerState=e,s.children.forEach(a=>Zb(e,a))}function fE(e){const s=e.children.length>0?` { ${e.children.map(fE).join(", ")} } `:"";return`${e.value}${s}`}function Xb(e){if(e.snapshot){const s=e.snapshot,a=e._futureSnapshot;e.snapshot=a,wh(s.queryParams,a.queryParams)||e.queryParamsSubject.next(a.queryParams),s.fragment!==a.fragment&&e.fragmentSubject.next(a.fragment),wh(s.params,a.params)||e.paramsSubject.next(a.params),function zF(e,s){if(e.length!==s.length)return!1;for(let a=0;a<e.length;++a)if(!wh(e[a],s[a]))return!1;return!0}(s.url,a.url)||e.urlSubject.next(a.url),wh(s.data,a.data)||e.dataSubject.next(a.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Kb(e,s){const a=wh(e.params,s.params)&&function HF(e,s){return kv(e,s)&&e.every((a,P)=>wh(a.parameters,s[P].parameters))}(e.url,s.url);return a&&!(!e.parent!=!s.parent)&&(!e.parent||Kb(e.parent,s.parent))}let Jb=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Va,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.parentContexts=Ki(Og),this.location=Ki(zc),this.changeDetector=Ki(lg),this.environmentInjector=Ki(Nl),this.inputBinder=Ki(l1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(a){if(a.name){const{firstChange:P,previousValue:j}=a.name;if(P)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(a){return this.parentContexts.getContext(a)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const a=this.parentContexts.getContext(this.name);a?.route&&(a.attachRef?this.attach(a.attachRef,a.route):this.activateWith(a.route,a.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new nr(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new nr(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new nr(4012,!1);this.location.detach();const a=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(a.instance),a}attach(a,P){this.activated=a,this._activatedRoute=P,this.location.insert(a.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(a.instance)}deactivate(){if(this.activated){const a=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(a)}}activateWith(a,P){if(this.isActivated)throw new nr(4013,!1);this._activatedRoute=a;const j=this.location,ye=a.snapshot.component,Fe=this.parentContexts.getOrCreateContext(this.name).children,Xe=new Tk(a,Fe,j.injector);this.activated=j.createComponent(ye,{index:j.length,injector:Xe,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275dir=va({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ji]})}return e})();class Tk{constructor(s,a,P){this.route=s,this.childContexts=a,this.parent=P}get(s,a){return s===Kp?this.route:s===Og?this.childContexts:this.parent.get(s,a)}}const l1=new ia("");let cE=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(a){this.unsubscribeFromRouteData(a),this.subscribeToRouteData(a)}unsubscribeFromRouteData(a){this.outletDataSubscriptions.get(a)?.unsubscribe(),this.outletDataSubscriptions.delete(a)}subscribeToRouteData(a){const{activatedRoute:P}=a,j=kb([P.queryParams,P.params,P.data]).pipe(or(([ie,ye,Fe],Xe)=>(Fe={...ie,...ye,...Fe},0===Xe?Xt(Fe):Promise.resolve(Fe)))).subscribe(ie=>{if(!a.isActivated||!a.activatedComponentRef||a.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(a);const ye=function ER(e){const s=Ma(e);if(!s)return null;const a=new W0(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}(P.component);if(ye)for(const{templateName:Fe}of ye.inputs)a.activatedComponentRef.setInput(Fe,ie[Fe]);else this.unsubscribeFromRouteData(a)});this.outletDataSubscriptions.set(a,j)}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})();function Ng(e,s,a){if(a&&e.shouldReuseRoute(s.value,a.value.snapshot)){const P=a.value;P._futureSnapshot=s.value;const j=function Mk(e,s,a){return s.children.map(P=>{for(const j of a.children)if(e.shouldReuseRoute(P.value,j.value.snapshot))return Ng(e,P,j);return Ng(e,P)})}(e,s,a);return new Qh(P,j)}{if(e.shouldAttach(s.value)){const ie=e.retrieve(s.value);if(null!==ie){const ye=ie.route;return ye.value._futureSnapshot=s.value,ye.children=s.children.map(Fe=>Ng(e,Fe)),ye}}const P=function Sk(e){return new Kp(new kt(e.url),new kt(e.params),new kt(e.queryParams),new kt(e.fragment),new kt(e.data),e.outlet,e.component,e)}(s.value),j=s.children.map(ie=>Ng(e,ie));return new Qh(P,j)}}const $b="ngNavigationCancelingError";function hE(e,s){const{redirectTo:a,navigationBehaviorOptions:P}=Ov(s)?{redirectTo:s,navigationBehaviorOptions:void 0}:s,j=dE(!1,0,s);return j.url=a,j.navigationBehaviorOptions=P,j}function dE(e,s,a){const P=new Error("NavigationCancelingError: "+(e||""));return P[$b]=!0,P.cancellationCode=s,a&&(P.url=a),P}function vE(e){return e&&e[$b]}let pE=(()=>{class e{static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275cmp=Bs({type:e,selectors:[["ng-component"]],standalone:!0,features:[XA],decls:1,vars:0,template:function(P,j){1&P&&ql(0,"router-outlet")},dependencies:[Jb],encapsulation:2})}return e})();function Qb(e){const s=e.children&&e.children.map(Qb),a=s?{...e,children:s}:{...e};return!a.component&&!a.loadComponent&&(s||a.loadChildren)&&a.outlet&&a.outlet!==Va&&(a.component=pE),a}function Vc(e){return e.outlet||Va}function zg(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let s=e.parent;s;s=s.parent){const a=s.routeConfig;if(a?._loadedInjector)return a._loadedInjector;if(a?._injector)return a._injector}return null}class Fk{constructor(s,a,P,j,ie){this.routeReuseStrategy=s,this.futureState=a,this.currState=P,this.forwardEvent=j,this.inputBindingEnabled=ie}activate(s){const a=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(a,P,s),Xb(this.futureState.root),this.activateChildRoutes(a,P,s)}deactivateChildRoutes(s,a,P){const j=Xp(a);s.children.forEach(ie=>{const ye=ie.value.outlet;this.deactivateRoutes(ie,j[ye],P),delete j[ye]}),Object.values(j).forEach(ie=>{this.deactivateRouteAndItsChildren(ie,P)})}deactivateRoutes(s,a,P){const j=s.value,ie=a?a.value:null;if(j===ie)if(j.component){const ye=P.getContext(j.outlet);ye&&this.deactivateChildRoutes(s,a,ye.children)}else this.deactivateChildRoutes(s,a,P);else ie&&this.deactivateRouteAndItsChildren(a,P)}deactivateRouteAndItsChildren(s,a){s.value.component&&this.routeReuseStrategy.shouldDetach(s.value.snapshot)?this.detachAndStoreRouteSubtree(s,a):this.deactivateRouteAndOutlet(s,a)}detachAndStoreRouteSubtree(s,a){const P=a.getContext(s.value.outlet),j=P&&s.value.component?P.children:a,ie=Xp(s);for(const ye of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[ye],j);if(P&&P.outlet){const ye=P.outlet.detach(),Fe=P.children.onOutletDeactivated();this.routeReuseStrategy.store(s.value.snapshot,{componentRef:ye,route:s,contexts:Fe})}}deactivateRouteAndOutlet(s,a){const P=a.getContext(s.value.outlet),j=P&&s.value.component?P.children:a,ie=Xp(s);for(const ye of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[ye],j);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(s,a,P){const j=Xp(a);s.children.forEach(ie=>{this.activateRoutes(ie,j[ie.value.outlet],P),this.forwardEvent(new mk(ie.value.snapshot))}),s.children.length&&this.forwardEvent(new gk(s.value.snapshot))}activateRoutes(s,a,P){const j=s.value,ie=a?a.value:null;if(Xb(j),j===ie)if(j.component){const ye=P.getOrCreateContext(j.outlet);this.activateChildRoutes(s,a,ye.children)}else this.activateChildRoutes(s,a,P);else if(j.component){const ye=P.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Fe=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),ye.children.onOutletReAttached(Fe.contexts),ye.attachRef=Fe.componentRef,ye.route=Fe.route.value,ye.outlet&&ye.outlet.attach(Fe.componentRef,Fe.route.value),Xb(Fe.route.value),this.activateChildRoutes(s,null,ye.children)}else{const Fe=zg(j.snapshot);ye.attachRef=null,ye.route=j,ye.injector=Fe,ye.outlet&&ye.outlet.activateWith(j,ye.injector),this.activateChildRoutes(s,null,ye.children)}}else this.activateChildRoutes(s,null,P)}}class gE{constructor(s){this.path=s,this.route=this.path[this.path.length-1]}}class u1{constructor(s,a){this.component=s,this.route=a}}function kk(e,s,a){const P=e._root;return Bg(P,s?s._root:null,a,[P.value])}function Jp(e,s){const a=Symbol(),P=s.get(e,a);return P===a?"function"!=typeof e||function In(e){return null!==Bn(e)}(e)?s.get(e):e:P}function Bg(e,s,a,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const ie=Xp(s);return e.children.forEach(ye=>{(function Nk(e,s,a,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const ie=e.value,ye=s?s.value:null,Fe=a?a.getContext(e.value.outlet):null;if(ye&&ie.routeConfig===ye.routeConfig){const Xe=function zk(e,s,a){if("function"==typeof a)return a(e,s);switch(a){case"pathParamsChange":return!kv(e.url,s.url);case"pathParamsOrQueryParamsChange":return!kv(e.url,s.url)||!wh(e.queryParams,s.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kb(e,s)||!wh(e.queryParams,s.queryParams);default:return!Kb(e,s)}}(ye,ie,ie.routeConfig.runGuardsAndResolvers);Xe?j.canActivateChecks.push(new gE(P)):(ie.data=ye.data,ie._resolvedData=ye._resolvedData),Bg(e,s,ie.component?Fe?Fe.children:null:a,P,j),Xe&&Fe&&Fe.outlet&&Fe.outlet.isActivated&&j.canDeactivateChecks.push(new u1(Fe.outlet.component,ye))}else ye&&Ug(s,Fe,j),j.canActivateChecks.push(new gE(P)),Bg(e,null,ie.component?Fe?Fe.children:null:a,P,j)})(ye,ie[ye.value.outlet],a,P.concat([ye.value]),j),delete ie[ye.value.outlet]}),Object.entries(ie).forEach(([ye,Fe])=>Ug(Fe,a.getContext(ye),j)),j}function Ug(e,s,a){const P=Xp(e),j=e.value;Object.entries(P).forEach(([ie,ye])=>{Ug(ye,j.component?s?s.children.getContext(ie):null:s,a)}),a.canDeactivateChecks.push(new u1(j.component&&s&&s.outlet&&s.outlet.isActivated?s.outlet.component:null,j))}function Vg(e){return"function"==typeof e}function yE(e){return e instanceof Sg||"EmptyError"===e?.name}const f1=Symbol("INITIAL_VALUE");function $p(){return or(e=>kb(e.map(s=>s.pipe(jp(1),function DF(...e){const s=At(e);return U((a,P)=>{(s?Ob(e,a,s):Ob(e,a)).subscribe(P)})}(f1)))).pipe(ee(s=>{for(const a of s)if(!0!==a){if(a===f1)return f1;if(!1===a||a instanceof Yp)return a}return!0}),$h(s=>s!==f1),jp(1)))}function mE(e){return function M(...e){return i(e)}(xu(s=>{if(Ov(s))throw hE(0,s)}),ee(s=>!0===s))}class c1{constructor(s){this.segmentGroup=s||null}}class xE{constructor(s){this.urlTree=s}}function Qp(e){return Cg(new c1(e))}function bE(e){return Cg(new xE(e))}class nO{constructor(s,a){this.urlSerializer=s,this.urlTree=a}noMatchError(s){return new nr(4002,!1)}lineralizeSegments(s,a){let P=[],j=a.root;for(;;){if(P=P.concat(j.segments),0===j.numberOfChildren)return Xt(P);if(j.numberOfChildren>1||!j.children[Va])return Cg(new nr(4e3,!1));j=j.children[Va]}}applyRedirectCommands(s,a,P){return this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),s,P)}applyRedirectCreateUrlTree(s,a,P,j){const ie=this.createSegmentGroup(s,a.root,P,j);return new Yp(ie,this.createQueryParams(a.queryParams,this.urlTree.queryParams),a.fragment)}createQueryParams(s,a){const P={};return Object.entries(s).forEach(([j,ie])=>{if("string"==typeof ie&&ie.startsWith(":")){const Fe=ie.substring(1);P[j]=a[Fe]}else P[j]=ie}),P}createSegmentGroup(s,a,P,j){const ie=this.createSegments(s,a.segments,P,j);let ye={};return Object.entries(a.children).forEach(([Fe,Xe])=>{ye[Fe]=this.createSegmentGroup(s,Xe,P,j)}),new Po(ie,ye)}createSegments(s,a,P,j){return a.map(ie=>ie.path.startsWith(":")?this.findPosParam(s,ie,j):this.findOrReturn(ie,P))}findPosParam(s,a,P){const j=P[a.path.substring(1)];if(!j)throw new nr(4001,!1);return j}findOrReturn(s,a){let P=0;for(const j of a){if(j.path===s.path)return a.splice(P),j;P++}return s}}const qb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iO(e,s,a,P,j){const ie=ew(e,s,a);return ie.matched?(P=function Ek(e,s){return e.providers&&!e._injector&&(e._injector=n2(e.providers,s,`Route: ${e.path}`)),e._injector??s}(s,P),function eO(e,s,a,P){const j=s.canMatch;return j&&0!==j.length?Xt(j.map(ye=>{const Fe=Jp(ye,e);return zd(function _k(e){return e&&Vg(e.canMatch)}(Fe)?Fe.canMatch(s,a):e.runInContext(()=>Fe(s,a)))})).pipe($p(),mE()):Xt(!0)}(P,s,a).pipe(ee(ye=>!0===ye?ie:{...qb}))):Xt(ie)}function ew(e,s,a){if(""===s.path)return"full"===s.pathMatch&&(e.hasChildren()||a.length>0)?{...qb}:{matched:!0,consumedSegments:[],remainingSegments:a,parameters:{},positionalParamSegments:{}};const j=(s.matcher||NF)(a,e,s);if(!j)return{...qb};const ie={};Object.entries(j.posParams??{}).forEach(([Fe,Xe])=>{ie[Fe]=Xe.path});const ye=j.consumed.length>0?{...ie,...j.consumed[j.consumed.length-1].parameters}:ie;return{matched:!0,consumedSegments:j.consumed,remainingSegments:a.slice(j.consumed.length),parameters:ye,positionalParamSegments:j.posParams??{}}}function wE(e,s,a,P){return a.length>0&&function sO(e,s,a){return a.some(P=>h1(e,s,P)&&Vc(P)!==Va)}(e,a,P)?{segmentGroup:new Po(s,oO(P,new Po(a,e.children))),slicedSegments:[]}:0===a.length&&function lO(e,s,a){return a.some(P=>h1(e,s,P))}(e,a,P)?{segmentGroup:new Po(e.segments,aO(e,0,a,P,e.children)),slicedSegments:a}:{segmentGroup:new Po(e.segments,e.children),slicedSegments:a}}function aO(e,s,a,P,j){const ie={};for(const ye of P)if(h1(e,a,ye)&&!j[Vc(ye)]){const Fe=new Po([],{});ie[Vc(ye)]=Fe}return{...j,...ie}}function oO(e,s){const a={};a[Va]=s;for(const P of e)if(""===P.path&&Vc(P)!==Va){const j=new Po([],{});a[Vc(P)]=j}return a}function h1(e,s,a){return(!(e.hasChildren()||s.length>0)||"full"!==a.pathMatch)&&""===a.path}class hO{constructor(s,a,P,j,ie,ye,Fe){this.injector=s,this.configLoader=a,this.rootComponentType=P,this.config=j,this.urlTree=ie,this.paramsInheritanceStrategy=ye,this.urlSerializer=Fe,this.allowRedirects=!0,this.applyRedirects=new nO(this.urlSerializer,this.urlTree)}noMatchError(s){return new nr(4002,!1)}recognize(){const s=wE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,s,Va).pipe(Fv(a=>{if(a instanceof xE)return this.allowRedirects=!1,this.urlTree=a.urlTree,this.match(a.urlTree);throw a instanceof c1?this.noMatchError(a):a}),ee(a=>{const P=new s1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Va,this.rootComponentType,null,{}),j=new Qh(P,a),ie=new uE("",j),ye=function rk(e,s,a=null,P=null){return $C(JC(e),s,a,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return ye.queryParams=this.urlTree.queryParams,ie.url=this.urlSerializer.serialize(ye),this.inheritParamsAndData(ie._root),{state:ie,tree:ye}}))}match(s){return this.processSegmentGroup(this.injector,this.config,s.root,Va).pipe(Fv(P=>{throw P instanceof c1?this.noMatchError(P):P}))}inheritParamsAndData(s){const a=s.value,P=lE(a,this.paramsInheritanceStrategy);a.params=Object.freeze(P.params),a.data=Object.freeze(P.data),s.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(s,a,P,j){return 0===P.segments.length&&P.hasChildren()?this.processChildren(s,a,P):this.processSegment(s,a,P,P.segments,j,!0)}processChildren(s,a,P){const j=[];for(const ie of Object.keys(P.children))"primary"===ie?j.unshift(ie):j.push(ie);return Ze(j).pipe(Up(ie=>{const ye=P.children[ie],Fe=function Pk(e,s){const a=e.filter(P=>Vc(P)===s);return a.push(...e.filter(P=>Vc(P)!==s)),a}(a,ie);return this.processSegmentGroup(s,Fe,ye,ie)}),function PF(e,s){return U(function IF(e,s,a,P,j){return(ie,ye)=>{let Fe=a,Xe=s,yt=0;ie.subscribe(G(ye,Vt=>{const tr=yt++;Xe=Fe?e(Xe,Vt,tr):(Fe=!0,Vt),P&&ye.next(Xe)},j&&(()=>{Fe&&ye.next(Xe),ye.complete()})))}}(e,s,arguments.length>=2,!0))}((ie,ye)=>(ie.push(...ye),ie)),Qm(null),function RF(e,s){const a=arguments.length>=2;return P=>P.pipe(e?$h((j,ie)=>e(j,ie,P)):E,zb(1),a?Qm(s):zC(()=>new Sg))}(),Cr(ie=>{if(null===ie)return Qp(P);const ye=TE(ie);return function dO(e){e.sort((s,a)=>s.value.outlet===Va?-1:a.value.outlet===Va?1:s.value.outlet.localeCompare(a.value.outlet))}(ye),Xt(ye)}))}processSegment(s,a,P,j,ie,ye){return Ze(a).pipe(Up(Fe=>this.processSegmentAgainstRoute(Fe._injector??s,a,Fe,P,j,ie,ye).pipe(Fv(Xe=>{if(Xe instanceof c1)return Xt(null);throw Xe}))),Rv(Fe=>!!Fe),Fv(Fe=>{if(yE(Fe))return function fO(e,s,a){return 0===s.length&&!e.children[a]}(P,j,ie)?Xt([]):Qp(P);throw Fe}))}processSegmentAgainstRoute(s,a,P,j,ie,ye,Fe){return function uO(e,s,a,P){return!!(Vc(e)===P||P!==Va&&h1(s,a,e))&&("**"===e.path||ew(s,e,a).matched)}(P,j,ie,ye)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(s,j,P,ie,ye,Fe):Fe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(s,j,a,P,ie,ye):Qp(j):Qp(j)}expandSegmentAgainstRouteUsingRedirect(s,a,P,j,ie,ye){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(s,P,j,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(s,a,P,j,ie,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(s,a,P,j){const ie=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?bE(ie):this.applyRedirects.lineralizeSegments(P,ie).pipe(Cr(ye=>{const Fe=new Po(ye,{});return this.processSegment(s,a,Fe,ye,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(s,a,P,j,ie,ye){const{matched:Fe,consumedSegments:Xe,remainingSegments:yt,positionalParamSegments:Vt}=ew(a,j,ie);if(!Fe)return Qp(a);const tr=this.applyRedirects.applyRedirectCommands(Xe,j.redirectTo,Vt);return j.redirectTo.startsWith("/")?bE(tr):this.applyRedirects.lineralizeSegments(j,tr).pipe(Cr(Rr=>this.processSegment(s,P,a,Rr.concat(yt),ye,!1)))}matchSegmentAgainstRoute(s,a,P,j,ie,ye){let Fe;if("**"===P.path){const Xe=j.length>0?UC(j).parameters:{};Fe=Xt({snapshot:new s1(j,Xe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AE(P),Vc(P),P.component??P._loadedComponent??null,P,ME(P)),consumedSegments:[],remainingSegments:[]}),a.children={}}else Fe=iO(a,P,j,s).pipe(ee(({matched:Xe,consumedSegments:yt,remainingSegments:Vt,parameters:tr})=>Xe?{snapshot:new s1(yt,tr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AE(P),Vc(P),P.component??P._loadedComponent??null,P,ME(P)),consumedSegments:yt,remainingSegments:Vt}:null));return Fe.pipe(or(Xe=>null===Xe?Qp(a):this.getChildConfig(s=P._injector??s,P,j).pipe(or(({routes:yt})=>{const Vt=P._loadedInjector??s,{snapshot:tr,consumedSegments:Rr,remainingSegments:Kr}=Xe,{segmentGroup:Sn,slicedSegments:Rn}=wE(a,Rr,Kr,yt);if(0===Rn.length&&Sn.hasChildren())return this.processChildren(Vt,yt,Sn).pipe(ee(Jn=>null===Jn?null:[new Qh(tr,Jn)]));if(0===yt.length&&0===Rn.length)return Xt([new Qh(tr,[])]);const Yn=Vc(P)===ie;return this.processSegment(Vt,yt,Sn,Rn,Yn?Va:ie,!0).pipe(ee(Jn=>[new Qh(tr,Jn)]))}))))}getChildConfig(s,a,P){return a.children?Xt({routes:a.children,injector:s}):a.loadChildren?void 0!==a._loadedRoutes?Xt({routes:a._loadedRoutes,injector:a._loadedInjector}):function qk(e,s,a,P){const j=s.canLoad;return void 0===j||0===j.length?Xt(!0):Xt(j.map(ye=>{const Fe=Jp(ye,e);return zd(function Uk(e){return e&&Vg(e.canLoad)}(Fe)?Fe.canLoad(s,a):e.runInContext(()=>Fe(s,a)))})).pipe($p(),mE())}(s,a,P).pipe(Cr(j=>j?this.configLoader.loadChildren(s,a).pipe(xu(ie=>{a._loadedRoutes=ie.routes,a._loadedInjector=ie.injector})):function rO(e){return Cg(dE(!1,3))}())):Xt({routes:[],injector:s})}}function vO(e){const s=e.value.routeConfig;return s&&""===s.path}function TE(e){const s=[],a=new Set;for(const P of e){if(!vO(P)){s.push(P);continue}const j=s.find(ie=>P.value.routeConfig===ie.value.routeConfig);void 0!==j?(j.children.push(...P.children),a.add(j)):s.push(P)}for(const P of a){const j=TE(P.children);s.push(new Qh(P.value,j))}return s.filter(P=>!a.has(P))}function AE(e){return e.data||{}}function ME(e){return e.resolve||{}}function SE(e){return"string"==typeof e.title||null===e.title}function tw(e){return or(s=>{const a=e(s);return a?Ze(a).pipe(ee(()=>s)):Xt(s)})}const qp=new ia("ROUTES");let rw=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ki(VM)}loadComponent(a){if(this.componentLoaders.get(a))return this.componentLoaders.get(a);if(a._loadedComponent)return Xt(a._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(a);const P=zd(a.loadComponent()).pipe(ee(CE),xu(ie=>{this.onLoadEndListener&&this.onLoadEndListener(a),a._loadedComponent=ie}),vg(()=>{this.componentLoaders.delete(a)})),j=new NC(P,()=>new z).pipe(Nb());return this.componentLoaders.set(a,j),j}loadChildren(a,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return Xt({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const ie=function wO(e,s,a,P){return zd(e.loadChildren()).pipe(ee(CE),Cr(j=>j instanceof YA||Array.isArray(j)?Xt(j):Ze(s.compileModuleAsync(j))),ee(j=>{P&&P(e);let ie,ye,Fe=!1;return Array.isArray(j)?(ye=j,!0):(ie=j.create(a).injector,ye=ie.get(qp,[],{optional:!0,self:!0}).flat()),{routes:ye.map(Qb),injector:ie}}))}(P,this.compiler,a,this.onLoadEndListener).pipe(vg(()=>{this.childrenLoaders.delete(P)})),ye=new NC(ie,()=>new z).pipe(Nb());return this.childrenLoaders.set(P,ye),ye}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function CE(e){return function TO(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let d1=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new z,this.transitionAbortSubject=new z,this.configLoader=Ki(rw),this.environmentInjector=Ki(Nl),this.urlSerializer=Ki(Lg),this.rootContexts=Ki(Og),this.inputBindingEnabled=null!==Ki(l1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Xt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new vk(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new dk(j))}complete(){this.transitions?.complete()}handleNavigationRequest(a){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...a,id:P})}setupNavigations(a,P,j){return this.transitions=new kt({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:a.urlHandlingStrategy.extract(P),urlAfterRedirects:a.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fg,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($h(ie=>0!==ie.id),ee(ie=>({...ie,extractedUrl:a.urlHandlingStrategy.extract(ie.rawUrl)})),or(ie=>{this.currentTransition=ie;let ye=!1,Fe=!1;return Xt(ie).pipe(xu(Xe=>{this.currentNavigation={id:Xe.id,initialUrl:Xe.rawUrl,extractedUrl:Xe.extractedUrl,trigger:Xe.source,extras:Xe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),or(Xe=>{const yt=Xe.currentBrowserUrl.toString(),Vt=!a.navigated||Xe.extractedUrl.toString()!==yt||yt!==Xe.currentUrlTree.toString();if(!Vt&&"reload"!==(Xe.extras.onSameUrlNavigation??a.onSameUrlNavigation)){const Rr="";return this.events.next(new Zp(Xe.id,this.urlSerializer.serialize(Xe.rawUrl),Rr,0)),Xe.resolve(null),$t}if(a.urlHandlingStrategy.shouldProcessUrl(Xe.rawUrl))return Xt(Xe).pipe(or(Rr=>{const Kr=this.transitions?.getValue();return this.events.next(new a1(Rr.id,this.urlSerializer.serialize(Rr.extractedUrl),Rr.source,Rr.restoredState)),Kr!==this.transitions?.getValue()?$t:Promise.resolve(Rr)}),function pO(e,s,a,P,j,ie){return Cr(ye=>function cO(e,s,a,P,j,ie,ye="emptyOnly"){return new hO(e,s,a,P,j,ye,ie).recognize()}(e,s,a,P,ye.extractedUrl,j,ie).pipe(ee(({state:Fe,tree:Xe})=>({...ye,targetSnapshot:Fe,urlAfterRedirects:Xe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,a.config,this.urlSerializer,a.paramsInheritanceStrategy),xu(Rr=>{ie.targetSnapshot=Rr.targetSnapshot,ie.urlAfterRedirects=Rr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Rr.urlAfterRedirects};const Kr=new nE(Rr.id,this.urlSerializer.serialize(Rr.extractedUrl),this.urlSerializer.serialize(Rr.urlAfterRedirects),Rr.targetSnapshot);this.events.next(Kr)}));if(Vt&&a.urlHandlingStrategy.shouldProcessUrl(Xe.currentRawUrl)){const{id:Rr,extractedUrl:Kr,source:Sn,restoredState:Rn,extras:Yn}=Xe,Jn=new a1(Rr,this.urlSerializer.serialize(Kr),Sn,Rn);this.events.next(Jn);const Xn=sE(0,this.rootComponentType).snapshot;return this.currentTransition=ie={...Xe,targetSnapshot:Xn,urlAfterRedirects:Kr,extras:{...Yn,skipLocationChange:!1,replaceUrl:!1}},Xt(ie)}{const Rr="";return this.events.next(new Zp(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),Rr,1)),Xe.resolve(null),$t}}),xu(Xe=>{const yt=new uk(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects),Xe.targetSnapshot);this.events.next(yt)}),ee(Xe=>(this.currentTransition=ie={...Xe,guards:kk(Xe.targetSnapshot,Xe.currentSnapshot,this.rootContexts)},ie)),function Wk(e,s){return Cr(a=>{const{targetSnapshot:P,currentSnapshot:j,guards:{canActivateChecks:ie,canDeactivateChecks:ye}}=a;return 0===ye.length&&0===ie.length?Xt({...a,guardsResult:!0}):function Yk(e,s,a,P){return Ze(e).pipe(Cr(j=>function Qk(e,s,a,P,j){const ie=s&&s.routeConfig?s.routeConfig.canDeactivate:null;return ie&&0!==ie.length?Xt(ie.map(Fe=>{const Xe=zg(s)??j,yt=Jp(Fe,Xe);return zd(function Gk(e){return e&&Vg(e.canDeactivate)}(yt)?yt.canDeactivate(e,s,a,P):Xe.runInContext(()=>yt(e,s,a,P))).pipe(Rv())})).pipe($p()):Xt(!0)}(j.component,j.route,a,s,P)),Rv(j=>!0!==j,!0))}(ye,P,j,e).pipe(Cr(Fe=>Fe&&function Bk(e){return"boolean"==typeof e}(Fe)?function Zk(e,s,a,P){return Ze(s).pipe(Up(j=>Ob(function Kk(e,s){return null!==e&&s&&s(new pk(e)),Xt(!0)}(j.route.parent,P),function Xk(e,s){return null!==e&&s&&s(new yk(e)),Xt(!0)}(j.route,P),function $k(e,s,a){const P=s[s.length-1],ie=s.slice(0,s.length-1).reverse().map(ye=>function Ok(e){const s=e.routeConfig?e.routeConfig.canActivateChild:null;return s&&0!==s.length?{node:e,guards:s}:null}(ye)).filter(ye=>null!==ye).map(ye=>OC(()=>Xt(ye.guards.map(Xe=>{const yt=zg(ye.node)??a,Vt=Jp(Xe,yt);return zd(function Hk(e){return e&&Vg(e.canActivateChild)}(Vt)?Vt.canActivateChild(P,e):yt.runInContext(()=>Vt(P,e))).pipe(Rv())})).pipe($p())));return Xt(ie).pipe($p())}(e,j.path,a),function Jk(e,s,a){const P=s.routeConfig?s.routeConfig.canActivate:null;if(!P||0===P.length)return Xt(!0);const j=P.map(ie=>OC(()=>{const ye=zg(s)??a,Fe=Jp(ie,ye);return zd(function Vk(e){return e&&Vg(e.canActivate)}(Fe)?Fe.canActivate(s,e):ye.runInContext(()=>Fe(s,e))).pipe(Rv())}));return Xt(j).pipe($p())}(e,j.route,a))),Rv(j=>!0!==j,!0))}(P,ie,e,s):Xt(Fe)),ee(Fe=>({...a,guardsResult:Fe})))})}(this.environmentInjector,Xe=>this.events.next(Xe)),xu(Xe=>{if(ie.guardsResult=Xe.guardsResult,Ov(Xe.guardsResult))throw hE(0,Xe.guardsResult);const yt=new fk(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects),Xe.targetSnapshot,!!Xe.guardsResult);this.events.next(yt)}),$h(Xe=>!!Xe.guardsResult||(this.cancelNavigationTransition(Xe,"",3),!1)),tw(Xe=>{if(Xe.guards.canActivateChecks.length)return Xt(Xe).pipe(xu(yt=>{const Vt=new ck(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(Vt)}),or(yt=>{let Vt=!1;return Xt(yt).pipe(function gO(e,s){return Cr(a=>{const{targetSnapshot:P,guards:{canActivateChecks:j}}=a;if(!j.length)return Xt(a);let ie=0;return Ze(j).pipe(Up(ye=>function yO(e,s,a,P){const j=e.routeConfig,ie=e._resolve;return void 0!==j?.title&&!SE(j)&&(ie[Eg]=j.title),function mO(e,s,a,P){const j=function xO(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===j.length)return Xt({});const ie={};return Ze(j).pipe(Cr(ye=>function bO(e,s,a,P){const j=zg(s)??P,ie=Jp(e,j);return zd(ie.resolve?ie.resolve(s,a):j.runInContext(()=>ie(s,a)))}(e[ye],s,a,P).pipe(Rv(),xu(Fe=>{ie[ye]=Fe}))),zb(1),function FF(e){return ee(()=>e)}(ie),Fv(ye=>yE(ye)?$t:Cg(ye)))}(ie,e,s,P).pipe(ee(ye=>(e._resolvedData=ye,e.data=lE(e,a).resolve,j&&SE(j)&&(e.data[Eg]=j.title),null)))}(ye.route,P,e,s)),xu(()=>ie++),zb(1),Cr(ye=>ie===j.length?Xt(a):$t))})}(a.paramsInheritanceStrategy,this.environmentInjector),xu({next:()=>Vt=!0,complete:()=>{Vt||this.cancelNavigationTransition(yt,"",2)}}))}),xu(yt=>{const Vt=new hk(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(Vt)}))}),tw(Xe=>{const yt=Vt=>{const tr=[];Vt.routeConfig?.loadComponent&&!Vt.routeConfig._loadedComponent&&tr.push(this.configLoader.loadComponent(Vt.routeConfig).pipe(xu(Rr=>{Vt.component=Rr}),ee(()=>{})));for(const Rr of Vt.children)tr.push(...yt(Rr));return tr};return kb(yt(Xe.targetSnapshot.root)).pipe(Qm(),jp(1))}),tw(()=>this.afterPreactivation()),ee(Xe=>{const yt=function Ak(e,s,a){const P=Ng(e,s._root,a?a._root:void 0);return new oE(P,s)}(a.routeReuseStrategy,Xe.targetSnapshot,Xe.currentRouterState);return this.currentTransition=ie={...Xe,targetRouterState:yt},ie}),xu(()=>{this.events.next(new _b)}),((e,s,a,P)=>ee(j=>(new Fk(s,j.targetRouterState,j.currentRouterState,a,P).activate(e),j)))(this.rootContexts,a.routeReuseStrategy,Xe=>this.events.next(Xe),this.inputBindingEnabled),jp(1),xu({next:Xe=>{ye=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bd(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects))),a.titleStrategy?.updateTitle(Xe.targetRouterState.snapshot),Xe.resolve(!0)},complete:()=>{ye=!0}}),function kF(e){return U((s,a)=>{Te(e).subscribe(G(a,()=>a.complete(),w)),!a.closed&&s.subscribe(a)})}(this.transitionAbortSubject.pipe(xu(Xe=>{throw Xe}))),vg(()=>{ye||Fe||this.cancelNavigationTransition(ie,"",1),this.currentNavigation?.id===ie.id&&(this.currentNavigation=null)}),Fv(Xe=>{if(Fe=!0,vE(Xe))this.events.next(new kg(ie.id,this.urlSerializer.serialize(ie.extractedUrl),Xe.message,Xe.cancellationCode)),function Ck(e){return vE(e)&&Ov(e.url)}(Xe)?this.events.next(new jb(Xe.url)):ie.resolve(!1);else{this.events.next(new o1(ie.id,this.urlSerializer.serialize(ie.extractedUrl),Xe,ie.targetSnapshot??void 0));try{ie.resolve(a.errorHandler(Xe))}catch(yt){ie.reject(yt)}}return $t}))}))}cancelNavigationTransition(a,P,j){const ie=new kg(a.id,this.urlSerializer.serialize(a.extractedUrl),P,j);this.events.next(ie),a.resolve(!1)}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function EE(e){return e!==Fg}let DE=(()=>{class e{buildTitle(a){let P,j=a.root;for(;void 0!==j;)P=this.getResolvedTitleForRoute(j)??P,j=j.children.find(ie=>ie.outlet===Va);return P}getResolvedTitleForRoute(a){return a.data[Eg]}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:function(){return Ki(AO)},providedIn:"root"})}return e})(),AO=(()=>{class e extends DE{constructor(a){super(),this.title=a}updateTitle(a){const P=this.buildTitle(a);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(uS))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),MO=(()=>{class e{static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:function(){return Ki(CO)},providedIn:"root"})}return e})();class SO{shouldDetach(s){return!1}store(s,a){}shouldAttach(s){return!1}retrieve(s){return null}shouldReuseRoute(s,a){return s.routeConfig===a.routeConfig}}let CO=(()=>{class e extends SO{static#e=this.\u0275fac=function(){let a;return function(j){return(a||(a=vo(e)))(j||e)}}();static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const v1=new ia("",{providedIn:"root",factory:()=>({})});let EO=(()=>{class e{static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:function(){return Ki(DO)},providedIn:"root"})}return e})(),DO=(()=>{class e{shouldProcessUrl(a){return!0}extract(a){return a}merge(a,P){return a}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Hg=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Hg||{});function LE(e,s){e.events.pipe($h(a=>a instanceof Bd||a instanceof kg||a instanceof o1||a instanceof Zp),ee(a=>a instanceof Bd||a instanceof Zp?Hg.COMPLETE:a instanceof kg&&(0===a.code||1===a.code)?Hg.REDIRECTING:Hg.FAILED),$h(a=>a!==Hg.REDIRECTING),jp(1)).subscribe(()=>{s()})}function LO(e){throw e}function IO(e,s,a){return s.parse("/")}const PO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let uc=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ki(UM),this.isNgZoneEnabled=!1,this._events=new z,this.options=Ki(v1,{optional:!0})||{},this.pendingTasks=Ki(um),this.errorHandler=this.options.errorHandler||LO,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||IO,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ki(EO),this.routeReuseStrategy=Ki(MO),this.titleStrategy=Ki(DE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ki(qp,{optional:!0})?.flat()??[],this.navigationTransitions=Ki(d1),this.urlSerializer=Ki(Lg),this.location=Ki(O2),this.componentInputBindingEnabled=!!Ki(l1,{optional:!0}),this.eventsSubscription=new t,this.isNgZoneEnabled=Ki(Mt)instanceof Mt&&Mt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yp,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sE(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(a=>{this.lastSuccessfulId=a.id,this.currentPageId=this.browserPageId},a=>{this.console.warn(`Unhandled Navigation Error: ${a}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const a=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:j}=this.navigationTransitions;if(null===j)return void(IE(P)&&this._events.next(P));if(P instanceof a1)EE(j.source)&&(this.browserUrlTree=j.extractedUrl);else if(P instanceof Zp)this.rawUrlTree=j.rawUrl;else if(P instanceof nE){if("eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const ie=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(ie,j)}this.browserUrlTree=j.urlAfterRedirects}}else if(P instanceof _b)this.currentUrlTree=j.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl),this.routerState=j.targetRouterState,"deferred"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,j),this.browserUrlTree=j.urlAfterRedirects);else if(P instanceof kg)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(j);else if(P instanceof jb){const ie=this.urlHandlingStrategy.merge(P.url,j.currentRawUrl),ye={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||EE(j.source)};this.scheduleNavigation(ie,Fg,null,ye,{resolve:j.resolve,reject:j.reject,promise:j.promise})}P instanceof o1&&this.restoreHistory(j,!0),P instanceof Bd&&(this.navigated=!0),IE(P)&&this._events.next(P)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(a)}resetRootComponentType(a){this.routerState.root.component=a,this.navigationTransitions.rootComponentType=a}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const a=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fg,a)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(a=>{const P="popstate"===a.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(a.url,P,a.state)},0)}))}navigateToSyncWithBrowser(a,P,j){const ie={replaceUrl:!0},ye=j?.navigationId?j:null;if(j){const Xe={...j};delete Xe.navigationId,delete Xe.\u0275routerPageId,0!==Object.keys(Xe).length&&(ie.state=Xe)}const Fe=this.parseUrl(a);this.scheduleNavigation(Fe,P,ye,ie)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(a){this.config=a.map(Qb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(a,P={}){const{relativeTo:j,queryParams:ie,fragment:ye,queryParamsHandling:Fe,preserveFragment:Xe}=P,yt=Xe?this.currentUrlTree.fragment:ye;let tr,Vt=null;switch(Fe){case"merge":Vt={...this.currentUrlTree.queryParams,...ie};break;case"preserve":Vt=this.currentUrlTree.queryParams;break;default:Vt=ie||null}null!==Vt&&(Vt=this.removeEmptyProps(Vt));try{tr=JC(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof a[0]||!a[0].startsWith("/"))&&(a=[]),tr=this.currentUrlTree.root}return $C(tr,a,Vt,yt??null)}navigateByUrl(a,P={skipLocationChange:!1}){const j=Ov(a)?a:this.parseUrl(a),ie=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ie,Fg,null,P)}navigate(a,P={skipLocationChange:!1}){return function FO(e){for(let s=0;s<e.length;s++)if(null==e[s])throw new nr(4008,!1)}(a),this.navigateByUrl(this.createUrlTree(a,P),P)}serializeUrl(a){return this.urlSerializer.serialize(a)}parseUrl(a){let P;try{P=this.urlSerializer.parse(a)}catch(j){P=this.malformedUriErrorHandler(j,this.urlSerializer,a)}return P}isActive(a,P){let j;if(j=!0===P?{...PO}:!1===P?{...RO}:P,Ov(a))return HC(this.currentUrlTree,a,j);const ie=this.parseUrl(a);return HC(this.currentUrlTree,ie,j)}removeEmptyProps(a){return Object.keys(a).reduce((P,j)=>{const ie=a[j];return null!=ie&&(P[j]=ie),P},{})}scheduleNavigation(a,P,j,ie,ye){if(this.disposed)return Promise.resolve(!1);let Fe,Xe,yt;ye?(Fe=ye.resolve,Xe=ye.reject,yt=ye.promise):yt=new Promise((tr,Rr)=>{Fe=tr,Xe=Rr});const Vt=this.pendingTasks.add();return LE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Vt))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:a,extras:ie,resolve:Fe,reject:Xe,promise:yt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yt.catch(tr=>Promise.reject(tr))}setBrowserUrl(a,P){const j=this.urlSerializer.serialize(a);if(this.location.isCurrentPathEqualTo(j)||P.extras.replaceUrl){const ye={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(j,"",ye)}else{const ie={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(j,"",ie)}}restoreHistory(a,P=!1){if("computed"===this.canceledNavigationResolution){const ie=this.currentPageId-this.browserPageId;0!==ie?this.location.historyGo(ie):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ie&&(this.resetState(a),this.browserUrlTree=a.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(a),this.resetUrlToCurrentUrlTree())}resetState(a){this.routerState=a.currentRouterState,this.currentUrlTree=a.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,a.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(a,P){return"computed"===this.canceledNavigationResolution?{navigationId:a,\u0275routerPageId:P}:{navigationId:a}}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function IE(e){return!(e instanceof _b||e instanceof jb)}let p1=(()=>{class e{constructor(a,P,j,ie,ye,Fe){this.router=a,this.route=P,this.tabIndexAttribute=j,this.renderer=ie,this.el=ye,this.locationStrategy=Fe,this.href=null,this.commands=null,this.onChanges=new z,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Xe=ye.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Xe||"area"===Xe,this.isAnchorElement?this.subscription=a.events.subscribe(yt=>{yt instanceof Bd&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(a){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",a)}ngOnChanges(a){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(a){null!=a?(this.commands=Array.isArray(a)?a:[a],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(a,P,j,ie,ye){return!!(null===this.urlTree||this.isAnchorElement&&(0!==a||P||j||ie||ye||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const a=null===this.href?null:function I0(e,s,a){return function by(e,s){return"src"===s&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===s&&("base"===e||"link"===e)?L0:Ol}(s,a)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",a)}applyAttributeValue(a,P){const j=this.renderer,ie=this.el.nativeElement;null!==P?j.setAttribute(ie,a,P):j.removeAttribute(ie,a)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(P){return new(P||e)(oi(uc),oi(Kp),function hu(e){return function ra(e,s){if("class"===s)return e.classes;if("style"===s)return e.styles;const a=e.attrs;if(a){const P=a.length;let j=0;for(;j<P;){const ie=a[j];if(df(ie))break;if(0===ie)j+=2;else if("number"==typeof ie)for(j++;j<P&&"string"==typeof a[j];)j++;else{if(ie===s)return a[j+1];j+=2}}}return null}(ai(),e)}("tabindex"),oi(Af),oi(pu),oi(Ev))};static#t=this.\u0275dir=va({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,j){1&P&&Bl("click",function(ye){return j.onClick(ye.button,ye.ctrlKey,ye.shiftKey,ye.altKey,ye.metaKey)}),2&P&&ph("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",zp],skipLocationChange:["skipLocationChange","skipLocationChange",zp],replaceUrl:["replaceUrl","replaceUrl",zp],routerLink:"routerLink"},standalone:!0,features:[aT,ji]})}return e})();class PE{}let NO=(()=>{class e{constructor(a,P,j,ie,ye){this.router=a,this.injector=j,this.preloadingStrategy=ie,this.loader=ye}setUpPreloading(){this.subscription=this.router.events.pipe($h(a=>a instanceof Bd),Up(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(a,P){const j=[];for(const ie of P){ie.providers&&!ie._injector&&(ie._injector=n2(ie.providers,a,`Route: ${ie.path}`));const ye=ie._injector??a,Fe=ie._loadedInjector??ye;(ie.loadChildren&&!ie._loadedRoutes&&void 0===ie.canLoad||ie.loadComponent&&!ie._loadedComponent)&&j.push(this.preloadConfig(ye,ie)),(ie.children||ie._loadedRoutes)&&j.push(this.processRoutes(Fe,ie.children??ie._loadedRoutes))}return Ze(j).pipe(wt())}preloadConfig(a,P){return this.preloadingStrategy.preload(P,()=>{let j;j=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(a,P):Xt(null);const ie=j.pipe(Cr(ye=>null===ye?Xt(void 0):(P._loadedRoutes=ye.routes,P._loadedInjector=ye.injector,this.processRoutes(ye.injector??a,ye.routes))));return P.loadComponent&&!P._loadedComponent?Ze([ie,this.loader.loadComponent(P)]).pipe(wt()):ie})}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(uc),Ji(VM),Ji(Nl),Ji(PE),Ji(rw))};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const nw=new ia("");let RE=(()=>{class e{constructor(a,P,j,ie,ye={}){this.urlSerializer=a,this.transitions=P,this.viewportScroller=j,this.zone=ie,this.options=ye,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ye.scrollPositionRestoration=ye.scrollPositionRestoration||"disabled",ye.anchorScrolling=ye.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(a=>{a instanceof a1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=a.navigationTrigger,this.restoredId=a.restoredState?a.restoredState.navigationId:0):a instanceof Bd?(this.lastId=a.id,this.scheduleScrollEvent(a,this.urlSerializer.parse(a.urlAfterRedirects).fragment)):a instanceof Zp&&0===a.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(a,this.urlSerializer.parse(a.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(a=>{a instanceof iE&&(a.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(a.position):a.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(a.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(a,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new iE(a,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){!function bv(){throw new Error("invalid")}()};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac})}return e})();function qh(e,s){return{\u0275kind:e,\u0275providers:s}}function kE(){const e=Ki(Ou);return s=>{const a=e.get(Np);if(s!==a.components[0])return;const P=e.get(uc),j=e.get(OE);1===e.get(iw)&&P.initialNavigation(),e.get(NE,null,dn.Optional)?.setUpPreloading(),e.get(nw,null,dn.Optional)?.init(),P.resetRootComponentType(a.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const OE=new ia("",{factory:()=>new z}),iw=new ia("",{providedIn:"root",factory:()=>1}),NE=new ia("");function VO(e){return qh(0,[{provide:NE,useExisting:NO},{provide:PE,useExisting:e}])}const zE=new ia("ROUTER_FORROOT_GUARD"),GO=[O2,{provide:Lg,useClass:Bb},uc,Og,{provide:Kp,useFactory:function FE(e){return e.routerState.root},deps:[uc]},rw,[]];function _O(){return new ZM("Router",uc)}let BE=(()=>{class e{constructor(a){}static forRoot(a,P){return{ngModule:e,providers:[GO,[],{provide:qp,multi:!0,useValue:a},{provide:zE,useFactory:ZO,deps:[[uc,new Hv,new s0]]},{provide:v1,useValue:P||{}},P?.useHash?{provide:Ev,useClass:RR}:{provide:Ev,useClass:A3},{provide:nw,useFactory:()=>{const e=Ki(Z4),s=Ki(Mt),a=Ki(v1),P=Ki(d1),j=Ki(Lg);return a.scrollOffset&&e.setOffset(a.scrollOffset),new RE(j,P,e,s,a)}},P?.preloadingStrategy?VO(P.preloadingStrategy).\u0275providers:[],{provide:ZM,multi:!0,useFactory:_O},P?.initialNavigation?XO(P):[],P?.bindToComponentInputs?qh(8,[cE,{provide:l1,useExisting:cE}]).\u0275providers:[],[{provide:UE,useFactory:kE},{provide:S2,multi:!0,useExisting:UE}]]}}static forChild(a){return{ngModule:e,providers:[{provide:qp,multi:!0,useValue:a}]}}static#e=this.\u0275fac=function(P){return new(P||e)(Ji(zE,8))};static#t=this.\u0275mod=Yo({type:e});static#r=this.\u0275inj=vn({})}return e})();function ZO(e){return"guarded"}function XO(e){return["disabled"===e.initialNavigation?qh(3,[{provide:y2,multi:!0,useFactory:()=>{const s=Ki(uc);return()=>{s.setUpLocationChangeListener()}}},{provide:iw,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?qh(2,[{provide:iw,useValue:0},{provide:y2,multi:!0,deps:[Ou],useFactory:s=>{const a=s.get(IR,Promise.resolve());return()=>a.then(()=>new Promise(P=>{const j=s.get(uc),ie=s.get(OE);LE(j,()=>{P(!0)}),s.get(d1).afterPreactivation=()=>(P(!0),ie.closed?Xt(void 0):ie),j.initialNavigation()}))}}]).\u0275providers:[]]}const UE=new ia("");let JO=(()=>{class e{constructor(a){this.apiService=a,this.title="Header",this.selectedOption="hospedada"}onSelectionChange(){this.apiService.setEnv(this.selectedOption)}static#e=this.\u0275fac=function(P){return new(P||e)(oi($m))};static#t=this.\u0275cmp=Bs({type:e,selectors:[["app-header"]],decls:24,vars:2,consts:[[1,"main-header","text-white","p-3","d-flex","justify-content-between","align-items-start"],[1,"flex-column"],[1,"form-check"],["type","radio","name","opcao","id","hospedada","value","hospedada",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","opcao1",1,"form-check-label"],["type","radio","name","opcao","id","local","value","local",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","opcao2",1,"form-check-label"],[1,"navbar","navbar-expand-lg","navbar-light","sub-header"],[1,"collapse","navbar-collapse","justify-content-center"],[1,"navbar-nav"],[1,"nav-item","mx-2","nav-item-hover"],["href","/about",1,"nav-link","text-white"],["routerLink","/",1,"nav-link","text-white"],["routerLink","/custom-chart",1,"nav-link","text-white"]],template:function(P,j){1&P&&(pi(0,"header",0)(1,"h1"),Ti(2,"Regresso"),yi(),pi(3,"div",1)(4,"div",2)(5,"input",3),Bl("ngModelChange",function(ye){return j.selectedOption=ye})("change",function(){return j.onSelectionChange()}),yi(),pi(6,"label",4),Ti(7,"API Hospedada"),yi()(),pi(8,"div",2)(9,"input",5),Bl("ngModelChange",function(ye){return j.selectedOption=ye})("change",function(){return j.onSelectionChange()}),yi(),pi(10,"label",6),Ti(11,"API Local"),yi()()()(),pi(12,"nav",7)(13,"div",8)(14,"ul",9)(15,"li",10)(16,"a",11),Ti(17,"Sobre"),yi()(),pi(18,"li",10)(19,"a",12),Ti(20,"Regress\xf5es"),yi()(),pi(21,"li",10)(22,"a",13),Ti(23,"Regress\xe3o customizada"),yi()()()()()),2&P&&(na(5),qa("ngModel",j.selectedOption),na(4),qa("ngModel",j.selectedOption))},dependencies:[Gp,Cb,Bm,Mb,p1],styles:[".main-header[_ngcontent-%COMP%]{background-color:#1465bb}.sub-header[_ngcontent-%COMP%]{background-color:#2196f3}p[_ngcontent-%COMP%]{margin-bottom:0}.nav-item-hover[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transition:background-color .3s ease}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#000}"]})}return e})(),aw=(()=>{class e{constructor(){this.toastSubject=new z,this.toastState=this.toastSubject.asObservable()}showToast(a,P){this.toastSubject.next({title:a,message:P})}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $O(e,s){if(1&e){const a=function AT(){return Gn()}();pi(0,"div",1)(1,"div",2),$f(),pi(2,"svg",3),ql(3,"path",4),yi(),function rd(){!function Bv(){rn.lFrame.currentNamespace=null}()}(),pi(4,"p",5),Ti(5),yi(),pi(6,"button",6),Bl("click",function(){return function ta(e){return rn.lFrame.contextLView=e,e[Xa]}(a),function qi(e){return rn.lFrame.contextLView=null,e}(Nu().hideToast())}),$f(),pi(7,"svg",7),ql(8,"path",8),yi()()()()}if(2&e){const a=Nu();na(5),mh(a.toastMessage)}}let QO=(()=>{class e{constructor(a){this.toastService=a,this.toastVisible=!1,this.toastTitle="",this.toastMessage=""}ngOnInit(){this.toastService.toastState.subscribe(({title:a,message:P})=>{this.showToast(a,P)})}showToast(a,P,j=5e4,ie="error"){this.toastVisible=!0,this.toastMessage=P,setTimeout(()=>{this.hideToast()},j)}hideToast(){this.toastVisible=!1}static#e=this.\u0275fac=function(P){return new(P||e)(oi(aw))};static#t=this.\u0275cmp=Bs({type:e,selectors:[["app-generic-toast"]],decls:1,vars:1,consts:[["class","toast","role","alert","aria-live","assertive","aria-atomic","true","data-autohide","false",4,"ngIf"],["role","alert","aria-live","assertive","aria-atomic","true","data-autohide","false",1,"toast"],[1,"toast-body","d-flex","justify-content-between","align-items-center","bg-danger","rounded","border","border-dark"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-exclamation-diamond-fill"],["d","M9.05.435c-.58-.58-1.52-.58-2.1 0L.436 6.95c-.58.58-.58 1.519 0 2.098l6.516 6.516c.58.58 1.519.58 2.098 0l6.516-6.516c.58-.58.58-1.519 0-2.098L9.05.435zM8 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"],[1,"mb-0","me-3","p-2"],["type","button","data-dismiss","toast","aria-label","Close",1,"close","btn","btn-danger","border","border-dark","d-flex","align-items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","black","viewBox","0 0 16 16",1,"bi","bi-x-lg"],["d","M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"]],template:function(P,j){1&P&&Ql(0,$O,9,1,"div",0),2&P&&qa("ngIf",j.toastVisible)},dependencies:[Em],styles:[".toast[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;width:300px;display:block;z-index:10!important}"]})}return e})(),qO=(()=>{class e{constructor(a){this.apiService=a,this.title="regresso-page"}static#e=this.\u0275fac=function(P){return new(P||e)(oi($m))};static#t=this.\u0275cmp=Bs({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"]],template:function(P,j){1&P&&(ql(0,"app-generic-toast")(1,"app-header"),pi(2,"div",0),ql(3,"router-outlet"),yi())},dependencies:[Jb,JO,QO],styles:[".container[_ngcontent-%COMP%]{height:auto;min-height:100vh}"]})}return e})();var eN=Ud(34),Nv=Ud.n(eN);let ow=(()=>{class e{constructor(){this.dadosCompartilhados$=new kt(null)}atualizarDados(a){this.dadosCompartilhados$.next(a)}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sw=(()=>{class e{constructor(){this.results=[],this.resultsSubject=new kt(this.results)}addResult(a){this.results.push(a),this.results.sort(this.sortResults),this.resultsSubject.next([...this.results]),this.setBetterCurve()}recoverResults(){return this.resultsSubject.asObservable()}clearResults(){this.results=[],this.resultsSubject.next([...this.results])}sortResults(a,P){return a.determination!=P.determination?P.determination-a.determination:a.rmse-P.rmse}setBetterCurve(){if(this.results.length>0){let a=Math.max(...this.results.map(P=>P.determination));this.results.forEach(P=>{P.betterCurve=P.determination===a})}}static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275prov=jr({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tN(e,s){1&e&&(pi(0,"span",11),Ti(1,"\u25bc"),yi())}function rN(e,s){1&e&&(pi(0,"span",12),Ti(1,"\u25b2"),yi())}function nN(e,s){if(1&e&&(pi(0,"div")(1,"span",20),Ti(2),So(3,"number"),yi(),pi(4,"span",21),Ti(5,"x"),yi(),pi(6,"span",22),Ti(7," + "),yi(),pi(8,"span",20),Ti(9),So(10,"number"),yi()()),2&e){const a=Nu(2);na(2),Uo(" ",void 0!==a.coeffs[0]?Co(3,2,a.coeffs[0],a.aprox_format):0,""),na(7),Uo(" ",void 0!==a.coeffs[1]?Co(10,5,a.coeffs[1],a.aprox_format):0,"")}}function iN(e,s){if(1&e&&(pi(0,"div")(1,"span",20),Ti(2),So(3,"number"),yi(),pi(4,"span",21),Ti(5,"x"),pi(6,"sup"),Ti(7,"2"),yi()(),pi(8,"span",22),Ti(9," + "),yi(),pi(10,"span",20),Ti(11),So(12,"number"),yi(),pi(13,"span",21),Ti(14,"x"),yi(),pi(15,"span",22),Ti(16," + "),yi(),pi(17,"span",20),Ti(18),So(19,"number"),yi()()),2&e){const a=Nu(2);na(2),Uo(" ",void 0!==a.coeffs[0]?Co(3,3,a.coeffs[0],a.aprox_format):0,""),na(9),Uo(" ",void 0!==a.coeffs[1]?Co(12,6,a.coeffs[1],a.aprox_format):0,""),na(7),Uo(" ",void 0!==a.coeffs[2]?Co(19,9,a.coeffs[2],a.aprox_format):0,"")}}function aN(e,s){if(1&e&&(pi(0,"div")(1,"span",20),Ti(2),So(3,"number"),yi(),pi(4,"span",21),Ti(5,"x"),pi(6,"sup"),Ti(7,"3"),yi()(),pi(8,"span",22),Ti(9," + "),yi(),pi(10,"span",20),Ti(11),So(12,"number"),yi(),pi(13,"span",21),Ti(14,"x"),pi(15,"sup"),Ti(16,"2"),yi()(),pi(17,"span",22),Ti(18," + "),yi(),pi(19,"span",20),Ti(20),So(21,"number"),yi(),pi(22,"span",21),Ti(23,"x"),yi(),pi(24,"span",22),Ti(25," + "),yi(),pi(26,"span",20),Ti(27),So(28,"number"),yi()()),2&e){const a=Nu(2);na(2),Uo(" ",void 0!==a.coeffs[0]?Co(3,4,a.coeffs[0],a.aprox_format):0,""),na(9),Uo(" ",void 0!==a.coeffs[1]?Co(12,7,a.coeffs[1],a.aprox_format):0,""),na(9),Uo(" ",void 0!==a.coeffs[2]?Co(21,10,a.coeffs[2],a.aprox_format):0,""),na(7),Uo(" ",void 0!==a.coeffs[3]?Co(28,13,a.coeffs[3],a.aprox_format):0,"")}}function oN(e,s){if(1&e&&(pi(0,"div")(1,"span",20),Ti(2),So(3,"number"),yi(),pi(4,"span",23),Ti(5," *"),yi(),pi(6,"span",20),Ti(7),So(8,"number"),yi(),pi(9,"span",21)(10,"sup"),Ti(11,"x"),yi()()()),2&e){const a=Nu(2);na(2),Uo(" ",void 0!==a.coeffs[0]?Co(3,2,a.coeffs[0],a.aprox_format):0,""),na(5),Uo(" ",void 0!==a.coeffs[1]?Co(8,5,a.coeffs[1],a.aprox_format):0,"")}}function sN(e,s){if(1&e&&(pi(0,"div")(1,"span",20),Ti(2),So(3,"number"),yi(),pi(4,"span"),Ti(5,"log"),pi(6,"sub"),Ti(7,"2"),yi(),Ti(8,"("),pi(9,"span",21),Ti(10,"x"),yi(),Ti(11,")"),yi(),pi(12,"span",22),Ti(13," + "),yi(),pi(14,"span",20),Ti(15),So(16,"number"),yi()()),2&e){const a=Nu(2);na(2),Uo(" ",void 0!==a.coeffs[0]?Co(3,2,a.coeffs[0],a.aprox_format):0,""),na(13),Uo(" ",void 0!==a.coeffs[1]?Co(16,5,a.coeffs[1],a.aprox_format):0,"")}}function lN(e,s){if(1&e&&(pi(0,"div")(1,"span",20),Ti(2),So(3,"number"),yi(),pi(4,"span",21),Ti(5,"x"),yi(),pi(6,"span"),Ti(7,"log"),pi(8,"sub"),Ti(9,"2"),yi(),Ti(10,"("),pi(11,"span",21),Ti(12,"x"),yi(),Ti(13,")"),yi(),pi(14,"span",22),Ti(15," + "),yi(),pi(16,"span",20),Ti(17),So(18,"number"),yi()()),2&e){const a=Nu(2);na(2),Uo(" ",void 0!==a.coeffs[0]?Co(3,2,a.coeffs[0],a.aprox_format):0,""),na(15),Uo(" ",void 0!==a.coeffs[1]?Co(18,5,a.coeffs[1],a.aprox_format):0,"")}}function uN(e,s){if(1&e&&(pi(0,"div")(1,"span",20),Ti(2),So(3,"number"),yi(),pi(4,"span",21),Ti(5,"x"),pi(6,"sup"),Ti(7,"2"),yi()(),pi(8,"span"),Ti(9,"log"),pi(10,"sub"),Ti(11,"2"),yi(),Ti(12,"("),pi(13,"span",21),Ti(14,"x"),yi(),Ti(15,")"),yi(),pi(16,"span",22),Ti(17," + "),yi(),pi(18,"span",20),Ti(19),So(20,"number"),yi()()),2&e){const a=Nu(2);na(2),Uo(" ",void 0!==a.coeffs[0]?Co(3,2,a.coeffs[0],a.aprox_format):0,""),na(17),Uo(" ",void 0!==a.coeffs[1]?Co(20,5,a.coeffs[1],a.aprox_format):0,"")}}function fN(e,s){if(1&e&&(pi(0,"div")(1,"span",20),Ti(2),So(3,"number"),yi(),pi(4,"span",21),Ti(5,"x"),yi(),pi(6,"span"),Ti(7,"log"),pi(8,"sub"),Ti(9,"2"),yi(),Ti(10,"("),pi(11,"span",21),Ti(12,"x"),yi(),Ti(13,")"),pi(14,"sup"),Ti(15,"2"),yi()(),pi(16,"span",22),Ti(17," + "),yi(),pi(18,"span",20),Ti(19),So(20,"number"),yi()()),2&e){const a=Nu(2);na(2),Uo(" ",void 0!==a.coeffs[0]?Co(3,2,a.coeffs[0],a.aprox_format):0,""),na(17),Uo(" ",void 0!==a.coeffs[1]?Co(20,5,a.coeffs[1],a.aprox_format):0,"")}}function cN(e,s){if(1&e&&(pi(0,"div")(1,"span",20),Ti(2),So(3,"number"),yi(),pi(4,"span",21),Ti(5,"x"),pi(6,"sup"),Ti(7),So(8,"number"),yi()()()),2&e){const a=Nu(2);na(2),Uo(" ",void 0!==a.coeffs[0]?Co(3,2,a.coeffs[0],a.aprox_format):0,""),na(5),mh(void 0!==a.coeffs[1]?Co(8,5,a.coeffs[1],a.aprox_format):0)}}function hN(e,s){if(1&e&&(pi(0,"div")(1,"p"),Ti(2),yi()()),2&e){const a=Nu(2);na(2),mh(a.equationValue)}}function dN(e,s){if(1&e&&(pi(0,"div",13)(1,"div",9)(2,"table",14)(3,"tbody")(4,"tr")(5,"th",15),Ti(6,"Equa\xe7\xe3o da curva"),yi(),pi(7,"td",16)(8,"div",17),Ql(9,nN,11,8,"div",18),Ql(10,iN,20,12,"div",18),Ql(11,aN,29,16,"div",18),Ql(12,oN,12,8,"div",18),Ql(13,sN,17,8,"div",18),Ql(14,lN,19,8,"div",18),Ql(15,uN,21,8,"div",18),Ql(16,fN,21,8,"div",18),Ql(17,cN,9,8,"div",18),Ql(18,hN,3,1,"div",18),yi()()(),pi(19,"tr")(20,"th",15),Ti(21,"Coeficiente de Determina\xe7\xe3o"),yi(),pi(22,"td",19),Ti(23),So(24,"number"),yi()(),pi(25,"tr")(26,"th",15),Ti(27,"Coeficiente de Correla\xe7\xe3o"),yi(),pi(28,"td",19),Ti(29),So(30,"number"),yi()(),pi(31,"tr")(32,"th",15),Ti(33,"Erro Quadr\xe1tico M\xe9dio"),yi(),pi(34,"td",19),Ti(35),So(36,"number"),yi()(),pi(37,"tr")(38,"th",15),Ti(39,"Erro Relativo M\xe9dio"),yi(),pi(40,"td",19),Ti(41),So(42,"number"),yi()()()()()()),2&e){const a=Nu();na(1),$0("id","data-",a.type,""),na(7),qa("ngSwitch",a.type),na(1),qa("ngSwitchCase","linear"),na(1),qa("ngSwitchCase","quadratic"),na(1),qa("ngSwitchCase","cubic"),na(1),qa("ngSwitchCase","exp"),na(1),qa("ngSwitchCase","logaritmic"),na(1),qa("ngSwitchCase","n_logaritmic"),na(1),qa("ngSwitchCase","n2_logaritmic"),na(1),qa("ngSwitchCase","n_logaritmic2"),na(1),qa("ngSwitchCase","power"),na(1),qa("ngSwitchCase","custom"),na(5),mh(Co(24,16,a.determinationCoef,a.aprox_format)),na(6),mh(Co(30,19,a.correlationCoef,a.aprox_format)),na(6),mh(Co(36,22,a.rmse,a.aprox_format)),na(6),mh(Co(42,25,a.relativeError,a.aprox_format))}}const vN=function(e){return{blocked:e}},pN=function(e){return{collapse:e}};let VE=(()=>{class e{constructor(a,P,j,ie){this.formdataService=a,this.apiService=P,this.toastService=j,this.overviewServerService=ie,this.isCollapsed=!0,this.showResult=!0,this.coeffs=[],this.equationValue="",this.determinationCoef=0,this.correlationCoef=0,this.relativeError=0,this.rmse=0,this.blocked=!0,this.type="",this.title="",this.chart_types={linear:{chart_element:"chart-linear",min_size:2,func:this.calculateLinearChart.bind(this),title:"Regress\xe3o Linear"},quadratic:{chart_element:"chart-quadratic",min_size:3,func:this.calculateQuadraticChart.bind(this),title:"Regress\xe3o Quadr\xe1tica"},cubic:{chart_element:"chart-cubic",min_size:4,func:this.calculateCubicChart.bind(this),title:"Regress\xe3o C\xfabica"},exp:{chart_element:"chart-exp",min_size:2,func:this.calculateExponentialChart.bind(this),title:"Regress\xe3o Exponencial"},logaritmic:{chart_element:"chart-logaritmic",min_size:2,func:this.calculateLogaritmicChart.bind(this),title:"Regress\xe3o Logaritmica"},n_logaritmic:{chart_element:"chart-n_logaritmic",min_size:2,func:this.calculateNLogaritmicChart.bind(this),title:"Regress\xe3o N Log(N)"},n2_logaritmic:{chart_element:"chart-n2_logaritmic",min_size:2,func:this.calculateN2LogaritmicChart.bind(this),title:"Regress\xe3o N2 Log(N)"},power:{chart_element:"chart-power",min_size:2,func:this.calculatePowerChart.bind(this),title:"Regress\xe3o Pot\xeancia"},n_logaritmic2:{chart_element:"chart-n_logaritmic2",min_size:2,func:this.calculateNLogaritmic2Chart.bind(this),title:"Regress\xe3o N Log(N)2"},ema:{chart_element:"chart-ema",min_size:6,func:this.calculateEMAChart.bind(this),title:"Regress\xe3o EMA"},custom:{chart_element:"chart-custom",min_size:1,func:this.calculateCustomChart.bind(this),title:"Regress\xe3o de Fun\xe7\xe3o Personalizada."}},this.config={responsive:!0},this.layout={xaxis:{rangemode:"tozero",title:"N"},yaxis:{rangemode:"tozero",title:"Tempo"}},this.dados={params:"",results:"",aprox:4,function:""},this.params=[],this.results=[],this.aprox=4,this.aprox_format=`1.0-${this.aprox}`,this.function="",this.aproxCoef=2}ngOnInit(){this.sub=this.formdataService.dadosCompartilhados$.subscribe(a=>{this.dados=a,this.validate_params(this.dados.params)&&this.validate_params(this.dados.results)?(this.params=this.dados.params.trim().split(/\s+/).map(P=>parseFloat(P)),this.results=this.dados.results.trim().split(/\s+/).map(P=>parseFloat(P)),this.title=this.chart_types[this.type].title,this.aprox=this.dados.aprox,this.aprox_format=`1.0-${this.aprox}`,this.aproxCoef=this.aprox,this.function="function"in this.dados?this.dados.function:"",!isNaN(this.params[0])&&!isNaN(this.results[0])&&this.renderChart(this.params,this.results,this.aprox,this.function)):this.toastService.showToast("Error","Existem caracteres inv\xe1lidos na entrada.")})}ngOnDestroy(){this.sub?.unsubscribe()}ngAfterViewInit(){this.renderChart()}toggleCollapse(){this.isCollapsed=!this.isCollapsed||this.blocked}disableCard(){this.blocked=!0}activateCard(){this.blocked=!1}validate_params(a){return/^[0-9.\s]*$/.test(a)}renderChart(a,P,j,ie){var ye=this;return Hu(function*(){const Fe=ye.chart_types[ye.type].min_size,Xe=ye.chart_types[ye.type].chart_element,yt=ye.chart_types[ye.type].func,Vt=ye.chart_types[ye.type].title;if(void 0!==a&&void 0!==P&&void 0!==j)if(j>10)ye.toastService.showToast("Error","O m\xe1ximo de casas decimais permitidas \xe9 10"),ye.isCollapsed=!0,ye.disableCard();else if(j<0)ye.toastService.showToast("Error","O n\xfamero de casas decimais deve ser positivo"),ye.isCollapsed=!0,ye.disableCard();else if(a.length!=P.length)ye.toastService.showToast("Error","A quantidade de valores de X e Y devem ser iguais"),ye.isCollapsed=!0,ye.disableCard();else if(a.length<Fe)console.log(`${Vt} deve receber pelo menos ${Fe} resultados.`),Nv().newPlot(Xe,[]),ye.isCollapsed=!0,ye.disableCard();else try{let tr=yield yt(a,P,j,ie??"");Nv().newPlot(Xe,tr,ye.layout,ye.config),ye.activateCard(),ye.isCollapsed=!1,ye.overviewServerService.addResult({type:ye.title,determination:ye.determinationCoef,correlation:ye.correlationCoef,error:ye.relativeError,rmse:ye.rmse,aprox:`1.0-${ye.aprox}`,betterCurve:!1})}catch(tr){console.error(tr),ye.toastService.showToast("Error",tr)}else Nv().newPlot(Xe,[])})()}calculateLinearChart(a,P,j){var ie=this;return Hu(function*(){let ye=yield ie.apiService.getDataRegression(ie.type,a,P,20);if(ye.success){let Fe={x:a,y:P,mode:"markers",type:"scatter",name:"Amostra",marker:{color:"black"}},Xe=ye.response.coef_0,yt=ye.response.coef_1;ie.coeffs=[Xe,yt];let Vt=Math.min(...a,0),tr=Math.max(...a),Rn=[Fe,{x:[Vt,tr],y:[Xe*Vt+yt,Xe*tr+yt],mode:"lines",type:"scatter",name:"Curva calculada",line:{color:"#72ceff"}}];return ie.determinationCoef=ye.response.r_squared,ie.correlationCoef=ye.response.correlation_coefficient,ie.relativeError=100*ye.response.relative_error,ie.rmse=ye.response.rmse,Rn}throw new Error(ye.message)})()}calculateQuadraticChart(a,P,j){var ie=this;return Hu(function*(){let ye=yield ie.apiService.getDataRegression(ie.type,a,P,20);if(ye.success){let Fe={x:a,y:P,mode:"markers",type:"scatter",name:"Amostra",marker:{color:"black"}},Xe=ye.response.coef_0,yt=ye.response.coef_1,Vt=ye.response.coef_2;ie.coeffs=[Xe,yt,Vt];let tr=Math.min(...a,0),Rr=Math.max(...a),Kr=[],Sn=[],Rn=(Rr-tr)/100;for(let Xn=tr;Xn<=Rr;Xn+=Rn)Kr.push(Xn),Sn.push(Xe*Xn**2+yt*Xn+Vt);let Jn=[Fe,{x:Kr,y:Sn,mode:"lines",type:"scatter",line:{shape:"spline",color:"#72ceff"},name:"Curva calculada"}];return ie.equationValue=`${Xe.toFixed(ie.aproxCoef)} * (x ** 2) + ${yt.toFixed(ie.aproxCoef)} * x + ${Vt.toFixed(ie.aproxCoef)}`,ie.determinationCoef=ye.response.r_squared,ie.correlationCoef=ye.response.correlation_coefficient,ie.relativeError=100*ye.response.relative_error,ie.rmse=ye.response.rmse,Jn}throw new Error(ye.message)})()}calculateCubicChart(a,P,j){var ie=this;return Hu(function*(){let ye=yield ie.apiService.getDataRegression(ie.type,a,P,20);if(ye.success){let Fe={x:a,y:P,mode:"markers",type:"scatter",name:"Amostra",marker:{color:"black"}},Xe=ye.response.coef_0,yt=ye.response.coef_1,Vt=ye.response.coef_2,tr=ye.response.coef_3;ie.coeffs=[Xe,yt,Vt,tr];let Rr=Math.min(...a,0),Kr=Math.max(...a),Sn=[],Rn=[],Yn=(Kr-Rr)/100;for(let Qi=Rr;Qi<=Kr;Qi+=Yn)Sn.push(Qi),Rn.push(Xe*Qi**3+yt*Qi**2+Vt*Qi+tr);let Xn=[Fe,{x:Sn,y:Rn,mode:"lines",type:"scatter",line:{shape:"spline",color:"#72ceff"},name:"Curva calculada"}];return ie.equationValue=`${Xe.toFixed(ie.aproxCoef)} * (x ** 3) + ${yt.toFixed(ie.aproxCoef)} * (x**2) + ${Vt.toFixed(ie.aproxCoef)} * x + ${tr.toFixed(ie.aproxCoef)}`,ie.determinationCoef=ye.response.r_squared,ie.correlationCoef=ye.response.correlation_coefficient,ie.relativeError=100*ye.response.relative_error,ie.rmse=ye.response.rmse,Xn}throw new Error(ye.message)})()}calculateExponentialChart(a,P,j){var ie=this;return Hu(function*(){let ye=yield ie.apiService.getDataRegression(ie.type,a,P,20);if(ye.success){let Fe={x:a,y:P,mode:"markers",type:"scatter",name:"Amostra",marker:{color:"black"}},Xe=ye.response.coef_0,yt=ye.response.coef_1;ie.coeffs=[Xe,yt];let Vt=Math.min(...a,0),tr=Math.max(...a),Rr=[],Kr=[],Sn=(tr-Vt)/100;for(let Jn=Vt;Jn<=tr;Jn+=Sn)Rr.push(Jn),Kr.push(Xe*yt**Jn);let Yn=[Fe,{x:Rr,y:Kr,mode:"lines",type:"scatter",line:{shape:"spline",color:"#72ceff"},name:"Curva calculada"}];return ie.equationValue=`${Xe.toFixed(ie.aproxCoef)} * (${yt.toFixed(ie.aproxCoef)} ** x)`,ie.determinationCoef=ye.response.r_squared,ie.correlationCoef=ye.response.correlation_coefficient,ie.relativeError=100*ye.response.relative_error,ie.rmse=ye.response.rmse,Yn}throw new Error(ye.message)})()}calculateLogaritmicChart(a,P,j){var ie=this;return Hu(function*(){let ye=yield ie.apiService.getDataRegression(ie.type,a,P,20);if(ye.success){let Fe={x:a,y:P,mode:"markers",type:"scatter",name:"Amostra",marker:{color:"black"}},Xe=ye.response.coef_0,yt=ye.response.coef_1;ie.coeffs=[Xe,yt];let Vt=Math.min(...a,0),tr=Math.max(...a),Rr=[],Kr=[],Sn=(tr-Vt)/100;for(let Jn=Vt;Jn<=tr;Jn+=Sn)Rr.push(Jn),Kr.push(Xe*Math.log2(Jn)+yt);let Yn=[Fe,{x:Rr,y:Kr,mode:"lines",type:"scatter",line:{shape:"spline",color:"#72ceff"},name:"Curva calculada"}];return ie.equationValue=`${Xe.toFixed(ie.aproxCoef)} * log2(x) + ${yt.toFixed(ie.aproxCoef)}`,ie.determinationCoef=ye.response.r_squared,ie.correlationCoef=ye.response.correlation_coefficient,ie.relativeError=100*ye.response.relative_error,ie.rmse=ye.response.rmse,Yn}throw new Error(ye.message)})()}calculateNLogaritmicChart(a,P,j){var ie=this;return Hu(function*(){let ye=yield ie.apiService.getDataRegression(ie.type,a,P,20);if(ye.success){let Fe={x:a,y:P,mode:"markers",type:"scatter",name:"Amostra",marker:{color:"black"}},Xe=ye.response.coef_0,yt=ye.response.coef_1;ie.coeffs=[Xe,yt];let Vt=Math.min(...a,0),tr=Math.max(...a),Rr=[],Kr=[],Sn=(tr-Vt)/100;for(let Jn=Vt;Jn<=tr;Jn+=Sn)Rr.push(Jn),Kr.push(Xe*Jn*Math.log2(Jn)+yt);let Yn=[Fe,{x:Rr,y:Kr,mode:"lines",type:"scatter",line:{shape:"spline",color:"#72ceff"},name:"Curva calculada"}];return ie.equationValue=`${Xe.toFixed(ie.aproxCoef)} * x * log2(x) + ${yt.toFixed(ie.aproxCoef)}`,ie.determinationCoef=ye.response.r_squared,ie.correlationCoef=ye.response.correlation_coefficient,ie.relativeError=100*ye.response.relative_error,ie.rmse=ye.response.rmse,Yn}throw new Error(ye.message)})()}calculateN2LogaritmicChart(a,P,j){var ie=this;return Hu(function*(){let ye=yield ie.apiService.getDataRegression(ie.type,a,P,20);if(ye.success){let Fe={x:a,y:P,mode:"markers",type:"scatter",name:"Amostra",marker:{color:"black"}},Xe=ye.response.coef_0,yt=ye.response.coef_1;ie.coeffs=[Xe,yt];let Vt=Math.min(...a,0),tr=Math.max(...a),Rr=[],Kr=[],Sn=(tr-Vt)/100;for(let Jn=Vt;Jn<=tr;Jn+=Sn)Rr.push(Jn),Kr.push(Xe*Jn**2*Math.log2(Jn)+yt);let Yn=[Fe,{x:Rr,y:Kr,mode:"lines",type:"scatter",line:{shape:"spline",color:"#72ceff"},name:"Curva calculada"}];return ie.equationValue=`${Xe.toFixed(ie.aproxCoef)} * (x ** 2) * log2(x) + ${yt.toFixed(ie.aproxCoef)}`,ie.determinationCoef=ye.response.r_squared,ie.correlationCoef=ye.response.correlation_coefficient,ie.relativeError=100*ye.response.relative_error,ie.rmse=ye.response.rmse,Yn}throw new Error(ye.message)})()}calculateNLogaritmic2Chart(a,P,j){var ie=this;return Hu(function*(){let ye=yield ie.apiService.getDataRegression(ie.type,a,P,20);if(ye.success){let Fe={x:a,y:P,mode:"markers",type:"scatter",name:"Amostra",marker:{color:"black"}},Xe=ye.response.coef_0,yt=ye.response.coef_1;ie.coeffs=[Xe,yt];let Vt=Math.min(...a,0),tr=Math.max(...a),Rr=[],Kr=[],Sn=(tr-Vt)/100;for(let Jn=Vt;Jn<=tr;Jn+=Sn)Rr.push(Jn),Kr.push(Xe*Jn*Math.log2(Jn)**2+yt);let Yn=[Fe,{x:Rr,y:Kr,mode:"lines",type:"scatter",line:{shape:"spline",color:"#72ceff"},name:"Curva calculada"}];return ie.equationValue=`${Xe.toFixed(ie.aproxCoef)} * x * (log2(x) ** 2) + ${yt.toFixed(ie.aproxCoef)}`,ie.determinationCoef=ye.response.r_squared,ie.correlationCoef=ye.response.correlation_coefficient,ie.relativeError=100*ye.response.relative_error,ie.rmse=ye.response.rmse,Yn}throw new Error(ye.message)})()}calculatePowerChart(a,P,j){var ie=this;return Hu(function*(){let ye=yield ie.apiService.getDataRegression(ie.type,a,P,20);if(ye.success){let Fe={x:a,y:P,mode:"markers",type:"scatter",name:"Amostra",marker:{color:"black"}},Xe=ye.response.coef_0,yt=ye.response.coef_1;ie.coeffs=[Xe,yt];let Vt=Math.min(...a,0),tr=Math.max(...a),Rr=[],Kr=[],Sn=(tr-Vt)/100;for(let Jn=Vt;Jn<=tr;Jn+=Sn)Rr.push(Jn),Kr.push(Xe*Jn**yt);let Yn=[Fe,{x:Rr,y:Kr,mode:"lines",type:"scatter",line:{shape:"spline",color:"#72ceff"},name:"Curva calculada"}];return ie.equationValue=`${Xe.toFixed(ie.aproxCoef)} * (x ** ${yt.toFixed(ie.aproxCoef)})`,ie.determinationCoef=ye.response.r_squared,ie.correlationCoef=ye.response.correlation_coefficient,ie.relativeError=100*ye.response.relative_error,ie.rmse=ye.response.rmse,Yn}throw new Error(ye.message)})()}calculateEMAChart(a,P,j){var ie=this;return Hu(function*(){let ye=yield ie.apiService.getDataRegression(ie.type,a,P,20);if(ye.success){let Fe={x:a,y:P,mode:"markers",type:"scatter",name:"Amostra",marker:{color:"black"}},Xe=ye.response.coef_0,yt=ye.response.coef_1,Vt=ye.response.coef_2,tr=ye.response.coef_3,Rr=ye.response.coef_4,Kr=ye.response.coef_5,Sn=Math.min(...a,0),Rn=Math.max(...a),Yn=[],Jn=[],Xn=(Rn-Sn)/100;for(let Da=Sn;Da<=Rn;Da+=Xn)Yn.push(Da),Jn.push(Xe*yt**(Da**Vt)*Da**tr*Math.log2(Da)**Rr+Kr);let ma=[Fe,{x:Yn,y:Jn,mode:"lines",type:"scatter",line:{shape:"spline",color:"#72ceff"},name:"Curva calculada"}];return ie.equationValue=`${Xe.toFixed(ie.aproxCoef)} * (${yt.toFixed(ie.aproxCoef)} ** (x ** ${Vt.toFixed(ie.aproxCoef)})) * (x ** ${tr.toFixed(ie.aproxCoef)}) * (log2(x) ** ${Rr.toFixed(ie.aproxCoef)}) + ${Kr.toFixed(ie.aproxCoef)}`,ie.determinationCoef=ye.response.r_squared,ie.correlationCoef=ye.response.correlation_coefficient,ie.relativeError=100*ye.response.relative_error,ie.rmse=ye.response.rmse,ma}throw new Error(ye.message)})()}calculateCustomChart(a,P,j,ie){var ye=this;return Hu(function*(){let Fe=yield ye.apiService.getDataRegression(ye.type,a,P,20,ie);if(Fe.success){let Rr=[{x:a,y:P,mode:"markers",type:"scatter",name:"Amostra",marker:{color:"black"}},{x:Fe.response.x_points,y:Fe.response.y_points,mode:"lines",type:"scatter",line:{shape:"spline",color:"#72ceff"},name:"Curva calculada"}];return ye.equationValue="expression"in Fe.response&&void 0!==Fe.response.expression?Fe.response.expression:"",ye.determinationCoef=Fe.response.r_squared,ye.correlationCoef=Fe.response.correlation_coefficient,ye.relativeError=100*Fe.response.relative_error,ye.rmse=Fe.response.rmse,Rr}throw new Error(Fe.message)})()}static#e=this.\u0275fac=function(P){return new(P||e)(oi(ow),oi($m),oi(aw),oi(sw))};static#t=this.\u0275cmp=Bs({type:e,selectors:[["app-generic-retractable-card"]],inputs:{type:"type"},decls:12,vars:11,consts:[[1,"card","border","border-dark"],[1,"card-header","d-flex","justify-content-between","align-items-center",3,"ngClass"],[1,"mb-0"],[1,"card-title"],["aria-expanded","true",1,"btn","btn-link",3,"click"],["class","arrow-icon-down",4,"ngIf"],["class","arrow-icon-up",4,"ngIf"],[3,"ngClass"],[1,"card-body"],[3,"id"],["class","equation_results p-2",4,"ngIf"],[1,"arrow-icon-down"],[1,"arrow-icon-up"],[1,"equation_results","p-2"],[1,"table"],["scope","row"],[1,"text-center"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"text-center","coefficient"],[1,"coefficient"],[1,"variable"],[1,"plus"],[1,"multiply"]],template:function(P,j){1&P&&(pi(0,"div",0)(1,"div",1)(2,"h5",2)(3,"p",3),Ti(4),yi()(),pi(5,"button",4),Bl("click",function(){return j.toggleCollapse()}),Ql(6,tN,2,0,"span",5),Ql(7,rN,2,0,"span",6),yi()(),pi(8,"div",7)(9,"div",8),ql(10,"div",9),yi(),Ql(11,dN,43,28,"div",10),yi()()),2&P&&(na(1),qa("ngClass",am(7,vN,j.blocked)),na(3),mh(j.title),na(2),qa("ngIf",j.isCollapsed),na(1),qa("ngIf",!j.isCollapsed),na(1),qa("ngClass",am(9,pN,j.isCollapsed)),na(2),$0("id","chart-",j.type,""),na(1),qa("ngIf",!j.blocked))},dependencies:[Y2,Em,Dm,U3,X2],styles:[".card-title[_ngcontent-%COMP%]{margin-bottom:0}.card-header[_ngcontent-%COMP%]{background-color:#72ceff}.card-header.blocked[_ngcontent-%COMP%]{background-color:#ffa372}.arrow-icon-down[_ngcontent-%COMP%], .arrow-icon-up[_ngcontent-%COMP%]{color:#000}.coefficient[_ngcontent-%COMP%], .constant[_ngcontent-%COMP%]{font-style:italic}.variable[_ngcontent-%COMP%]{font-weight:700}.plus[_ngcontent-%COMP%]{margin:0 5px}"]})}return e})(),gN=(()=>{class e{constructor(a,P,j){this.formBuilder=a,this.FormdataService=P,this.overviewServerService=j,this.paramsForm=this.formBuilder.group({params:"",results:"",aprox:4})}ngOnInit(){this.overviewServerService.clearResults(),this.FormdataService.atualizarDados(this.paramsForm.value)}onSubmit(){this.overviewServerService.clearResults(),this.FormdataService.atualizarDados(this.paramsForm.value)}static#e=this.\u0275fac=function(P){return new(P||e)(oi(Fb),oi(ow),oi(sw))};static#t=this.\u0275cmp=Bs({type:e,selectors:[["app-form-data"]],decls:15,vars:1,consts:[[1,"pt-4","mb-4",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","params",1,"form-label"],["id","params","type","text","formControlName","params","rows","4",1,"form-control"],["for","results",1,"form-label"],["id","results","type","text","formControlName","results","rows","4",1,"form-control"],["for","aprox",1,"form-label"],["id","aprox","type","number","formControlName","aprox","min","0","max","10",1,"form-control"],["type","submit",1,"button","btn","text-white"]],template:function(P,j){1&P&&(pi(0,"form",0),Bl("ngSubmit",function(){return j.onSubmit()}),pi(1,"div",1)(2,"label",2),Ti(3," Valores de X "),yi(),ql(4,"textarea",3),yi(),pi(5,"div",1)(6,"label",4),Ti(7," Valores de Y "),yi(),ql(8,"textarea",5),yi(),pi(9,"div",1)(10,"label",6),Ti(11," Aproxima\xe7\xe3o Decimal "),yi(),ql(12,"input",7),yi(),pi(13,"button",8),Ti(14,"Calcular!"),yi()()),2&P&&qa("formGroup",j.paramsForm)},dependencies:[Sb,Gp,Zm,Bm,vb,Jm,Km,Mg,Xm],styles:["button[_ngcontent-%COMP%]{background-color:#2196f3}button[_ngcontent-%COMP%]:hover{background-color:#1b20f9}"]})}return e})();const yN=function(e){return{"table-success":e}};function mN(e,s){if(1&e&&(pi(0,"tr",5)(1,"th"),Ti(2),yi(),pi(3,"th"),Ti(4),So(5,"number"),yi(),pi(6,"th"),Ti(7),So(8,"number"),yi(),pi(9,"th"),Ti(10),So(11,"number"),yi(),pi(12,"th"),Ti(13),So(14,"number"),yi()()),2&e){const a=s.$implicit;qa("ngClass",am(18,yN,a.betterCurve)),na(2),Uo(" ",a.type,""),na(2),Uo(" ",Co(5,6,a.determination,a.aprox)," "),na(3),Uo(" ",Co(8,9,a.correlation,a.aprox)," "),na(3),Uo(" ",Co(11,12,a.rmse,a.aprox)," "),na(3),Uo(" ",Co(14,15,a.error,a.aprox)," ")}}function xN(e,s){if(1&e&&(pi(0,"div",1)(1,"table",2)(2,"thead")(3,"tr")(4,"th",3),Ti(5,"Tipo"),yi(),pi(6,"th",3),Ti(7,"Coeficiente de Determina\xe7\xe3o"),yi(),pi(8,"th",3),Ti(9,"Coeficiente de Correla\xe7\xe3o"),yi(),pi(10,"th",3),Ti(11,"Erro Quadr\xe1tico M\xe9dio"),yi(),pi(12,"th",3),Ti(13,"Erro Relativo M\xe9dio"),yi()()(),pi(14,"tbody"),Ql(15,mN,15,20,"tr",4),yi()()()),2&e){const a=Nu();na(15),qa("ngForOf",a.results)}}let bN=(()=>{class e{constructor(a,P){this.overviewServerService=a,this.cdr=P,this.showComponent=!1,this.results=[],this.aprox=4,this.formato=`1.${this.aprox}-${this.aprox}`,console.log(this.formato)}ngOnInit(){this.overviewServerService.recoverResults().subscribe(a=>{this.results=a,this.cdr.detectChanges(),this.showComponent=0!=this.results.length})}static#e=this.\u0275fac=function(P){return new(P||e)(oi(sw),oi(lg))};static#t=this.\u0275cmp=Bs({type:e,selectors:[["app-overview-card"]],decls:1,vars:1,consts:[["class","card border border-dark p-2 mb-2 mt-2",4,"ngIf"],[1,"card","border","border-dark","p-2","mb-2","mt-2"],[1,"table"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(P,j){1&P&&Ql(0,xN,16,1,"div",0),2&P&&qa("ngIf",j.showComponent)},dependencies:[Y2,N3,Em,X2]})}return e})(),wN=(()=>{class e{constructor(a,P,j){this.apiService=a,this.formBuilder=P,this.toastService=j,this.inputForm=this.formBuilder.group({params:"",results:""}),this.config={responsive:!0}}ngOnInit(){}onSubmit(){const a=this.inputForm.value,P=a.params.split(" ").map(ie=>parseInt(ie,10)),j=a.results.split(" ").map(ie=>parseInt(ie,10));this.renderLinearChart(P,j),this.renderQuadraticChart(P,j)}renderLinearChart(a,P){var j=this;return Hu(function*(){if(void 0!==a&&void 0!==P){var ie=yield j.apiService.getDataRegression("linear",a,P);if(ie.success){var ye={x:a,y:P,mode:"markers",type:"scatter",name:"Amostra"},Fe=ie.response.coef_0,Xe=ie.response.coef_1,yt=Math.min(...a,0),Vt=Math.max(...a);const Sn={xaxis:{rangemode:"tozero",title:"N"},yaxis:{rangemode:"tozero",title:"Tempo"}},Rn=[ye,{x:[yt,Vt],y:[Fe*yt+Xe,Fe*Vt+Xe],mode:"lines",type:"scatter",name:"Curva calculada"}];Nv().newPlot("chart_linear",Rn,Sn,j.config)}else console.log(ie.message),j.toastService.showToast("Error",ie.message)}else Nv().newPlot("chart_linear",[])})()}renderQuadraticChart(a,P){var j=this;return Hu(function*(){if(void 0!==a&&void 0!==P){var ie=yield j.apiService.getDataRegression("quadratic",a,P);if(ie.success){for(var ye={x:a,y:P,mode:"markers",type:"scatter",name:"Amostra"},Fe=ie.response.coef_0,Xe=ie.response.coef_1,yt=ie.response.coef_2,Vt=Math.min(...a,0),tr=Math.max(...a),Rr=[],Kr=[],Sn=(tr-Vt)/100,Rn=Vt;Rn<=tr;Rn+=Sn)Rr.push(Rn),Kr.push(Fe*Rn**2+Xe*Rn+yt);const Jn={xaxis:{rangemode:"tozero",title:"N"},yaxis:{rangemode:"tozero",title:"Tempo"}},Xn=[ye,{x:Rr,y:Kr,mode:"lines",type:"scatter",line:{shape:"spline"},name:"Curva calculada"}];Nv().newPlot("chart_quadratic",Xn,Jn)}else console.log(ie.message),j.toastService.showToast("Error",ie.message)}else Nv().newPlot("chart_quadratic",[])})()}static#e=this.\u0275fac=function(P){return new(P||e)(oi($m),oi(Fb),oi(aw))};static#t=this.\u0275cmp=Bs({type:e,selectors:[["app-chart"]],decls:11,vars:9,consts:[[3,"type"]],template:function(P,j){1&P&&ql(0,"app-form-data")(1,"app-overview-card")(2,"app-generic-retractable-card",0)(3,"app-generic-retractable-card",0)(4,"app-generic-retractable-card",0)(5,"app-generic-retractable-card",0)(6,"app-generic-retractable-card",0)(7,"app-generic-retractable-card",0)(8,"app-generic-retractable-card",0)(9,"app-generic-retractable-card",0)(10,"app-generic-retractable-card",0),2&P&&(na(2),qa("type","linear"),na(1),qa("type","quadratic"),na(1),qa("type","cubic"),na(1),qa("type","exp"),na(1),qa("type","logaritmic"),na(1),qa("type","n_logaritmic"),na(1),qa("type","n2_logaritmic"),na(1),qa("type","n_logaritmic2"),na(1),qa("type","power"))},dependencies:[VE,gN,bN]})}return e})(),TN=(()=>{class e{constructor(a,P){this.formBuilder=a,this.FormdataService=P,this.paramsForm=this.formBuilder.group({params:"1 2 3 4 5 6",results:"1 2 3 4 5 6",aprox:4,function:"a*(b**(x))*(x**d)*(log2(x)**e)+f"})}ngOnInit(){this.FormdataService.atualizarDados(this.paramsForm.value)}onSubmit(){this.FormdataService.atualizarDados(this.paramsForm.value)}static#e=this.\u0275fac=function(P){return new(P||e)(oi(Fb),oi(ow))};static#t=this.\u0275cmp=Bs({type:e,selectors:[["app-custom-chart-form"]],decls:19,vars:1,consts:[[1,"pt-4","mb-4",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","params",1,"form-label"],["id","params","type","text","formControlName","params","rows","4",1,"form-control"],["for","results",1,"form-label"],["id","results","type","text","formControlName","results","rows","4",1,"form-control"],["for","aprox",1,"form-label"],["id","aprox","type","number","formControlName","aprox","min","0","max","10",1,"form-control"],["for","function",1,"form-label"],["id","function","type","text","formControlName","function","rows","1",1,"form-control"],["type","submit",1,"button","btn","text-white"]],template:function(P,j){1&P&&(pi(0,"form",0),Bl("ngSubmit",function(){return j.onSubmit()}),pi(1,"div",1)(2,"label",2),Ti(3," Valores de X "),yi(),ql(4,"textarea",3),yi(),pi(5,"div",1)(6,"label",4),Ti(7," Valores de Y "),yi(),ql(8,"textarea",5),yi(),pi(9,"div",1)(10,"label",6),Ti(11," Aproxima\xe7\xe3o Decimal "),yi(),ql(12,"input",7),yi(),pi(13,"div",1)(14,"label",8),Ti(15," Fun\xe7\xe3o "),yi(),ql(16,"textarea",9),yi(),pi(17,"button",10),Ti(18,"Calcular!"),yi()()),2&P&&qa("formGroup",j.paramsForm)},dependencies:[Sb,Gp,Zm,Bm,vb,Jm,Km,Mg,Xm],styles:["button[_ngcontent-%COMP%]{background-color:#2196f3}button[_ngcontent-%COMP%]:hover{background-color:#1b20f9}"]})}return e})();const AN=[{path:"",pathMatch:"full",component:wN},{path:"custom-chart",component:(()=>{class e{static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275cmp=Bs({type:e,selectors:[["app-custom-chart-page"]],decls:2,vars:1,consts:[[3,"type"]],template:function(P,j){1&P&&ql(0,"app-custom-chart-form")(1,"app-generic-retractable-card",0),2&P&&(na(1),qa("type","custom"))},dependencies:[VE,TN]})}return e})()},{path:"about",component:(()=>{class e{static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275cmp=Bs({type:e,selectors:[["app-about"]],decls:7,vars:0,consts:[[1,"text-center","pt-3"]],template:function(P,j){1&P&&(pi(0,"div")(1,"h3",0),Ti(2," Sobre o projeto"),yi(),pi(3,"p")(4,"b"),Ti(5,"Regresso"),yi(),Ti(6," \xe9 uma aplica\xe7\xe3o web desenvolvida pelo aluno Vinicius Sathler sob orienta\xe7\xe3o dos Professores Paulo Eust\xe1quio e Bruno M\xe1squio da Universidade do Estado do Rio de Janeiro (UERJ) e tem como objetivo disponibilizar uma ferramenta simples e gratuita para aux\xedlio na an\xe1lise de complexidade de algoritmos.\n"),yi()())}})}return e})()}];let MN=(()=>{class e{static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275mod=Yo({type:e});static#r=this.\u0275inj=vn({imports:[G3,BE.forRoot(AN,{onSameUrlNavigation:"reload"}),BE]})}return e})(),SN=(()=>{class e{static#e=this.\u0275fac=function(P){return new(P||e)};static#t=this.\u0275mod=Yo({type:e,bootstrap:[qO]});static#r=this.\u0275inj=vn({imports:[V8,g6,TF,AF,MN]})}return e})();B8().bootstrapModule(SN).catch(e=>console.error(e))},34:e0=>{self,e0.exports=function(){var t0={98847:function(oe,J,t){"use strict";var S=t(71828),k={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var l in k){var R=l.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");S.addStyleRule(R,k[l])}},98222:function(oe,J,t){"use strict";oe.exports=t(82887)},27206:function(oe,J,t){"use strict";oe.exports=t(60822)},59893:function(oe,J,t){"use strict";oe.exports=t(23381)},5224:function(oe,J,t){"use strict";oe.exports=t(83832)},59509:function(oe,J,t){"use strict";oe.exports=t(72201)},75557:function(oe,J,t){"use strict";oe.exports=t(91815)},40338:function(oe,J,t){"use strict";oe.exports=t(21462)},35080:function(oe,J,t){"use strict";oe.exports=t(51319)},61396:function(oe,J,t){"use strict";oe.exports=t(57516)},40549:function(oe,J,t){"use strict";oe.exports=t(98128)},49866:function(oe,J,t){"use strict";oe.exports=t(99442)},36089:function(oe,J,t){"use strict";oe.exports=t(93740)},19548:function(oe,J,t){"use strict";oe.exports=t(8729)},35831:function(oe,J,t){"use strict";oe.exports=t(93814)},61039:function(oe,J,t){"use strict";oe.exports=t(14382)},97040:function(oe,J,t){"use strict";oe.exports=t(51759)},77986:function(oe,J,t){"use strict";oe.exports=t(10421)},24296:function(oe,J,t){"use strict";oe.exports=t(43102)},58872:function(oe,J,t){"use strict";oe.exports=t(92165)},29626:function(oe,J,t){"use strict";oe.exports=t(3325)},65591:function(oe,J,t){"use strict";oe.exports=t(36071)},69738:function(oe,J,t){"use strict";oe.exports=t(43905)},92650:function(oe,J,t){"use strict";oe.exports=t(35902)},35630:function(oe,J,t){"use strict";oe.exports=t(69816)},73434:function(oe,J,t){"use strict";oe.exports=t(94507)},27909:function(oe,J,t){"use strict";var S=t(19548);S.register([t(27206),t(5224),t(58872),t(65591),t(69738),t(92650),t(49866),t(25743),t(6197),t(97040),t(85461),t(73434),t(54201),t(81299),t(47645),t(35630),t(77986),t(83043),t(93005),t(96881),t(4534),t(50581),t(40549),t(77900),t(47582),t(35080),t(21641),t(17280),t(5861),t(29626),t(10021),t(65317),t(96268),t(61396),t(35831),t(16122),t(46163),t(40344),t(40338),t(48131),t(36089),t(55334),t(75557),t(19440),t(99488),t(59893),t(97393),t(98222),t(61039),t(24296),t(66398),t(59509)]),oe.exports=S},46163:function(oe,J,t){"use strict";oe.exports=t(15154)},96881:function(oe,J,t){"use strict";oe.exports=t(64943)},50581:function(oe,J,t){"use strict";oe.exports=t(21164)},55334:function(oe,J,t){"use strict";oe.exports=t(54186)},65317:function(oe,J,t){"use strict";oe.exports=t(94873)},10021:function(oe,J,t){"use strict";oe.exports=t(67618)},54201:function(oe,J,t){"use strict";oe.exports=t(58810)},5861:function(oe,J,t){"use strict";oe.exports=t(20593)},16122:function(oe,J,t){"use strict";oe.exports=t(29396)},83043:function(oe,J,t){"use strict";oe.exports=t(13551)},48131:function(oe,J,t){"use strict";oe.exports=t(46858)},47582:function(oe,J,t){"use strict";oe.exports=t(17988)},21641:function(oe,J,t){"use strict";oe.exports=t(68868)},96268:function(oe,J,t){"use strict";oe.exports=t(20467)},19440:function(oe,J,t){"use strict";oe.exports=t(91271)},99488:function(oe,J,t){"use strict";oe.exports=t(21461)},97393:function(oe,J,t){"use strict";oe.exports=t(85956)},25743:function(oe,J,t){"use strict";oe.exports=t(52979)},66398:function(oe,J,t){"use strict";oe.exports=t(32275)},17280:function(oe,J,t){"use strict";oe.exports=t(6419)},77900:function(oe,J,t){"use strict";oe.exports=t(61510)},81299:function(oe,J,t){"use strict";oe.exports=t(87619)},93005:function(oe,J,t){"use strict";oe.exports=t(93601)},40344:function(oe,J,t){"use strict";oe.exports=t(96595)},47645:function(oe,J,t){"use strict";oe.exports=t(70954)},6197:function(oe,J,t){"use strict";oe.exports=t(47462)},4534:function(oe,J,t){"use strict";oe.exports=t(17659)},85461:function(oe,J,t){"use strict";oe.exports=t(19990)},82884:function(oe){"use strict";oe.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(oe,J,t){"use strict";var S=t(82884),k=t(41940),l=t(85555),R=t(44467).templatedArray;t(24695),oe.exports=R("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:S.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:S.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",l.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",l.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",l.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",l.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:k({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(oe,J,t){"use strict";var S=t(71828),k=t(89298),l=t(92605).draw;function R(v){S.filterVisible(v._fullLayout.annotations).forEach(function(r){var n=k.getFromId(v,r.xref),c=k.getFromId(v,r.yref),o=k.getRefType(r.xref),f=k.getRefType(r.yref);r._extremes={},"range"===o&&I(r,n),"range"===f&&I(r,c)})}function I(v,w){var L,r=w._id,n=r.charAt(0),c=v[n],o=v["a"+n],d=v["_"+n+"padplus"],b=v["_"+n+"padminus"],p={x:1,y:-1}[n]*v[n+"shift"],A=3*v.arrowsize*v.arrowwidth||0,m=A+p,u=A-p,g=3*v.startarrowsize*v.arrowwidth||0,C=g+p,T=g-p;if(v["a"+n+"ref"]===v[n+"ref"]){var x=k.findExtremes(w,[w.r2c(c)],{ppadplus:m,ppadminus:u}),E=k.findExtremes(w,[w.r2c(o)],{ppadplus:Math.max(d,C),ppadminus:Math.max(b,T)});L={min:[x.min[0],E.min[0]],max:[x.max[0],E.max[0]]}}else C=o?C+o:C,T=o?T-o:T,L=k.findExtremes(w,[w.r2c(c)],{ppadplus:Math.max(d,m,C),ppadminus:Math.max(b,u,T)});v._extremes[r]=L}oe.exports=function(w){if(S.filterVisible(w._fullLayout.annotations).length&&w._fullData.length)return S.syncOrAsync([l,R],w)}},44317:function(oe,J,t){"use strict";var S=t(71828),k=t(73972),l=t(44467).arrayEditor;function v(r,n){var b,p,A,m,u,g,C,c=r._fullLayout.annotations,o=[],f=[],h=[],d=(n||[]).length;for(b=0;b<c.length;b++)if(m=(A=c[b]).clicktoshow){for(p=0;p<d;p++)if(C=(u=n[p]).yaxis,(g=u.xaxis)._id===A.xref&&C._id===A.yref&&g.d2r(u.x)===w(A._xclick,g)&&C.d2r(u.y)===w(A._yclick,C)){(A.visible?"onout"===m?f:h:o).push(b);break}p===d&&A.visible&&"onout"===m&&f.push(b)}return{on:o,off:f,explicitOff:h}}function w(r,n){return"log"===n.type?n.l2r(r):n.d2r(r)}oe.exports={hasClickToShow:function R(r,n){var c=v(r,n);return c.on.length>0||c.explicitOff.length>0},onClick:function I(r,n){var b,p,c=v(r,n),o=c.on,f=c.off.concat(c.explicitOff),h={},d=r._fullLayout.annotations;if(o.length||f.length){for(b=0;b<o.length;b++)(p=l(r.layout,"annotations",d[o[b]])).modifyItem("visible",!0),S.extendFlat(h,p.getUpdateObj());for(b=0;b<f.length;b++)(p=l(r.layout,"annotations",d[f[b]])).modifyItem("visible",!1),S.extendFlat(h,p.getUpdateObj());return k.call("update",r,{},h)}}}},25625:function(oe,J,t){"use strict";var S=t(71828),k=t(7901);oe.exports=function(R,I,v,w){w("opacity");var r=w("bgcolor"),n=w("bordercolor"),c=k.opacity(n);w("borderpad");var o=w("borderwidth"),f=w("showarrow");if(w("text",f?" ":v._dfltTitle.annotation),w("textangle"),S.coerceFont(w,"font",v.font),w("width"),w("align"),w("height")&&w("valign"),f){var b,p,d=w("arrowside");-1!==d.indexOf("end")&&(b=w("arrowhead"),p=w("arrowsize")),-1!==d.indexOf("start")&&(w("startarrowhead",b),w("startarrowsize",p)),w("arrowcolor",c?I.bordercolor:k.defaultLine),w("arrowwidth",2*(c&&o||1)),w("standoff"),w("startstandoff")}var A=w("hovertext"),m=v.hoverlabel||{};if(A){var u=w("hoverlabel.bgcolor",m.bgcolor||(k.opacity(r)?k.rgb(r):k.defaultLine)),g=w("hoverlabel.bordercolor",m.bordercolor||k.contrast(u));S.coerceFont(w,"hoverlabel.font",{family:m.font.family,size:m.font.size,color:m.font.color||g})}w("captureevents",!!A)}},94128:function(oe,J,t){"use strict";var S=t(92770),k=t(58163);oe.exports=function(R,I,v,w){I=I||{};var r="log"===v&&"linear"===I.type;if(r||"linear"===v&&"log"===I.type)for(var f,h,c=R._fullLayout.annotations,o=I._id.charAt(0),b=0;b<c.length;b++)h="annotations["+b+"].",(f=c[b])[o+"ref"]===I._id&&d(o),f["a"+o+"ref"]===I._id&&d("a"+o);function d(p){var A=f[p],m=null;m=r?k(A,I.range):Math.pow(10,A),S(m)||(m=null),w(h+p,m)}}},84046:function(oe,J,t){"use strict";var S=t(71828),k=t(89298),l=t(85501),R=t(25625),I=t(50215);function v(w,r,n){function c(M,i){return S.coerce(w,r,I,M,i)}var o=c("visible"),f=c("clicktoshow");if(o||f){R(w,r,n,c);for(var h=r.showarrow,d=["x","y"],b=[-10,-30],p={_fullLayout:n},A=0;A<2;A++){var m=d[A],u=k.coerceRef(w,r,p,m,"","paper");if("paper"!==u&&k.getFromId(p,u)._annIndices.push(r._index),k.coercePosition(r,p,c,u,m,.5),h){var C="a"+m,T=k.coerceRef(w,r,p,C,"pixel",["pixel","paper"]);"pixel"!==T&&T!==u&&(T=r[C]="pixel"),k.coercePosition(r,p,c,T,C,"pixel"===T?b[A]:.4)}c(m+"anchor"),c(m+"shift")}if(S.noneOrAll(w,r,["x","y"]),h&&S.noneOrAll(w,r,["ax","ay"]),f){var x=c("xclick"),E=c("yclick");r._xclick=void 0===x?r.x:k.cleanPosition(x,p,r.xref),r._yclick=void 0===E?r.y:k.cleanPosition(E,p,r.yref)}}}oe.exports=function(r,n){l(r,n,{name:"annotations",handleItemDefaults:v})}},92605:function(oe,J,t){"use strict";var S=t(39898),k=t(73972),l=t(74875),R=t(71828),I=R.strTranslate,v=t(89298),w=t(7901),r=t(91424),n=t(30211),c=t(63893),o=t(6964),f=t(28569),h=t(44467).arrayEditor,d=t(13011);function p(u,g){var T=u._fullLayout.annotations[g]||{},L=v.getFromId(u,T.xref),x=v.getFromId(u,T.yref);L&&L.setScale(),x&&x.setScale(),m(u,T,g,!1,L,x)}function A(u,g,C,T,L){var x=L[C],E=L[C+"ref"],M=-1!==C.indexOf("y"),i="domain"===v.getRefType(E),D=M?T.h:T.w;return u?i?x+(M?-g:g)/u._length:u.p2r(u.r2p(x)+g):x+(M?-g:g)/D}function m(u,g,C,T,L,x){var D,y,E=u._fullLayout,M=u._fullLayout._size,i=u._context.edits;T?(D="annotation-"+T,y=T+".annotations"):(D="annotation",y="annotations");var B=h(u.layout,y,g),F=B.modifyBase,_=B.modifyItem,z=B.getUpdateObj;E._infolayer.selectAll("."+D+'[data-index="'+C+'"]').remove();var V="clip"+E._uid+"_ann"+C;if(g._input&&!1!==g.visible){var H={x:{},y:{}},U=+g.textangle||0,G=E._infolayer.append("g").classed(D,!0).attr("data-index",String(C)).style("opacity",g.opacity),Y=G.append("g").classed("annotation-text-g",!0),ee=i[g.showarrow?"annotationTail":"annotationPosition"],ue=g.captureevents||i.annotationText||ee,pe=Y.append("g").style("pointer-events",ue?"all":null).call(o,"pointer").on("click",function(){u._dragging=!1,u.emit("plotly_clickannotation",ce(S.event))});g.hovertext&&pe.on("mouseover",function(){var we=g.hoverlabel,Ee=we.font,Me=this.getBoundingClientRect(),Ne=u.getBoundingClientRect();n.loneHover({x0:Me.left-Ne.left,x1:Me.right-Ne.left,y:(Me.top+Me.bottom)/2-Ne.top,text:g.hovertext,color:we.bgcolor,borderColor:we.bordercolor,fontFamily:Ee.family,fontSize:Ee.size,fontColor:Ee.color},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:u})}).on("mouseout",function(){n.loneUnhover(E._hoverlayer.node())});var te=g.borderwidth,K=te+g.borderpad,Z=pe.append("rect").attr("class","bg").style("stroke-width",te+"px").call(w.stroke,g.bordercolor).call(w.fill,g.bgcolor),q=g.width||g.height,fe=E._topclips.selectAll("#"+V).data(q?[0]:[]);fe.enter().append("clipPath").classed("annclip",!0).attr("id",V).append("rect"),fe.exit().remove();var re=g.font,$=E._meta?R.templateString(g.text,E._meta):g.text,le=pe.append("text").classed("annotation-text",!0).text($);i.annotationText?le.call(c.makeEditable,{delegate:pe,gd:u}).call(se).on("edit",function(we){g.text=we,this.call(se),_("text",we),L&&L.autorange&&F(L._name+".autorange",!0),x&&x.autorange&&F(x._name+".autorange",!0),k.call("_guiRelayout",u,z())}):le.call(se)}else S.selectAll("#"+V).remove();function ce(we){var Ee={index:C,annotation:g._input,fullAnnotation:g,event:we};return T&&(Ee.subplotId=T),Ee}function se(we){return we.call(r.font,re).attr({"text-anchor":{left:"start",right:"end"}[g.align]||"middle"}),c.convertToTspans(we,u,de),we}function de(){var we=le.selectAll("a");1===we.size()&&we.text()===le.text()&&pe.insert("a",":first-child").attr({"xlink:xlink:href":we.attr("xlink:href"),"xlink:xlink:show":we.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(Z.node());var Me=pe.select(".annotation-text-math-group"),Ne=!Me.empty(),Ve=r.bBox((Ne?Me:le).node()),Pe=Ve.width,Ce=Ve.height,Ie=g.width||Pe,Je=g.height||Ce,Qe=Math.round(Ie+2*K),ze=Math.round(Je+2*K);function Ke(Lr,mr){return"auto"===mr&&(mr=Lr<.3333333333333333?"left":Lr>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[mr]}for(var ut=!1,ot=["x","y"],We=0;We<ot.length;We++){var He,Ye,Ue,De,ge,je=ot[We],lt=g[je+"ref"]||je,vt=g["a"+je+"ref"],pt={x:L,y:x}[je],St=(U+("x"===je?0:-90))*Math.PI/180,Ct=Qe*Math.cos(St),_t=ze*Math.sin(St),nt=Math.abs(Ct)+Math.abs(_t),ke=g[je+"anchor"],Re=g[je+"shift"]*("x"===je?1:-1),Be=H[je],Te=v.getRefType(lt);if(pt&&"domain"!==Te){var _e=pt.r2fraction(g[je]);(_e<0||_e>1)&&(vt===lt?((_e=pt.r2fraction(g["a"+je]))<0||_e>1)&&(ut=!0):ut=!0),He=pt._offset+pt.r2p(g[je]),De=.5}else{var et="domain"===Te;"x"===je?(Ue=g[je],He=et?pt._offset+pt._length*Ue:He=M.l+M.w*Ue):(Ue=1-g[je],He=et?pt._offset+pt._length*Ue:He=M.t+M.h*Ue),De=g.showarrow?.5:Ue}if(g.showarrow){Be.head=He;var ft=g["a"+je];if(ge=Ct*Ke(.5,g.xanchor)-_t*Ke(.5,g.yanchor),vt===lt){var gt=v.getRefType(vt);"domain"===gt?("y"===je&&(ft=1-ft),Be.tail=pt._offset+pt._length*ft):Be.tail="paper"===gt?"y"===je?M.t+M.h*(ft=1-ft):M.l+M.w*ft:pt._offset+pt.r2p(ft),Ye=ge}else Be.tail=He+ft,Ye=ge+ft;Be.text=Be.tail+ge;var Kt=E["x"===je?"width":"height"];if("paper"===lt&&(Be.head=R.constrain(Be.head,1,Kt-1)),"pixel"===vt){var ir=-Math.max(Be.tail-3,Be.text),Lt=Math.min(Be.tail+3,Be.text)-Kt;ir>0?(Be.tail+=ir,Be.text+=ir):Lt>0&&(Be.tail-=Lt,Be.text-=Lt)}Be.tail+=Re,Be.head+=Re}else Ye=ge=nt*Ke(De,ke),Be.text=He+ge;Be.text+=Re,ge+=Re,g["_"+je+"padplus"]=nt/2+(Ye+=Re),g["_"+je+"padminus"]=nt/2-Ye,g["_"+je+"size"]=nt,g["_"+je+"shift"]=ge}if(ut)pe.remove();else{var Ut=0,Qt=0;"left"!==g.align&&(Ut=(Ie-Pe)*("center"===g.align?.5:1)),"top"!==g.valign&&(Qt=(Je-Ce)*("middle"===g.valign?.5:1)),Ne?Me.select("svg").attr({x:K+Ut-1,y:K+Qt}).call(r.setClipUrl,q?V:null,u):le.call(c.positionText,K+Ut-Ve.left,K+Qt-Ve.top).call(r.setClipUrl,q?V:null,u),fe.select("rect").call(r.setRect,K,K,Ie,Je),Z.call(r.setRect,te/2,te/2,Qe-te,ze-te),pe.call(r.setTranslate,Math.round(H.x.text-Qe/2),Math.round(H.y.text-ze/2)),Y.attr({transform:"rotate("+U+","+H.x.text+","+H.y.text+")"});var rr,$t=function(Lr,mr){G.selectAll(".annotation-arrow-g").remove();var bt=H.x.head,ct=H.y.head,At=H.x.tail+Lr,It=H.y.tail+mr,Ft=H.x.text+Lr,Rt=H.y.text+mr,Gt=R.rotationXYMatrix(U,Ft,Rt),jt=R.apply2DTransform(Gt),er=R.apply2DTransform2(Gt),dr=+Z.attr("width"),hr=+Z.attr("height"),wr=Ft-.5*dr,$e=wr+dr,Ze=Rt-.5*hr,zt=Ze+hr,kt=[[wr,Ze,wr,zt],[wr,zt,$e,zt],[$e,zt,$e,Ze],[$e,Ze,wr,Ze]].map(er);if(!kt.reduce(function(Yr,$r){return Yr^!!R.segmentsIntersect(bt,ct,bt+1e6,ct+1e6,$r[0],$r[1],$r[2],$r[3])},!1)){kt.forEach(function(Yr){var $r=R.segmentsIntersect(At,It,bt,ct,Yr[0],Yr[1],Yr[2],Yr[3]);$r&&(At=$r.x,It=$r.y)});var Xt=g.arrowwidth,ur=g.arrowcolor,vr=g.arrowside,or=G.append("g").style({opacity:w.opacity(ur)}).classed("annotation-arrow-g",!0),Ht=or.append("path").attr("d","M"+At+","+It+"L"+bt+","+ct).style("stroke-width",Xt+"px").call(w.stroke,w.rgb(ur));if(d(Ht,vr,g),i.annotationPosition&&Ht.node().parentNode&&!T){var pr=bt,xr=ct;if(g.standoff){var Mr=Math.sqrt(Math.pow(bt-At,2)+Math.pow(ct-It,2));pr+=g.standoff*(At-bt)/Mr,xr+=g.standoff*(It-ct)/Mr}var un,Nr,kr=or.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(At-pr)+","+(It-xr),transform:I(pr,xr)}).style("stroke-width",Xt+6+"px").call(w.stroke,"rgba(0,0,0,0)").call(w.fill,"rgba(0,0,0,0)");f.init({element:kr.node(),gd:u,prepFn:function(){var Yr=r.getTranslate(pe);un=Yr.x,Nr=Yr.y,L&&L.autorange&&F(L._name+".autorange",!0),x&&x.autorange&&F(x._name+".autorange",!0)},moveFn:function(Yr,$r){var Qr=jt(un,Nr),Wn=Qr[0]+Yr,An=Qr[1]+$r;pe.call(r.setTranslate,Wn,An),_("x",A(L,Yr,"x",M,g)),_("y",A(x,$r,"y",M,g)),g.axref===g.xref&&_("ax",A(L,Yr,"ax",M,g)),g.ayref===g.yref&&_("ay",A(x,$r,"ay",M,g)),or.attr("transform",I(Yr,$r)),Y.attr({transform:"rotate("+U+","+Wn+","+An+")"})},doneFn:function(){k.call("_guiRelayout",u,z());var Yr=document.querySelector(".js-notes-box-panel");Yr&&Yr.redraw(Yr.selectedObj)}})}}};g.showarrow&&$t(0,0),ee&&f.init({element:pe.node(),gd:u,prepFn:function(){rr=Y.attr("transform")},moveFn:function(Lr,mr){var bt="pointer";if(g.showarrow)_("ax",g.axref===g.xref?A(L,Lr,"ax",M,g):g.ax+Lr),_("ay",g.ayref===g.yref?A(x,mr,"ay",M.w,g):g.ay+mr),$t(Lr,mr);else{if(T)return;var ct,At;if(L)ct=A(L,Lr,"x",M,g);else{var It=g._xsize/M.w;ct=f.align(g.x+(g._xshift-g.xshift)/M.w-It/2+Lr/M.w,It,0,1,g.xanchor)}if(x)At=A(x,mr,"y",M,g);else{var Rt=g._ysize/M.h;At=f.align(g.y-(g._yshift+g.yshift)/M.h-Rt/2-mr/M.h,Rt,0,1,g.yanchor)}_("x",ct),_("y",At),(!L||!x)&&(bt=f.getCursor(L?.5:ct,x?.5:At,g.xanchor,g.yanchor))}Y.attr({transform:I(Lr,mr)+rr}),o(pe,bt)},clickFn:function(Lr,mr){g.captureevents&&u.emit("plotly_clickannotation",ce(mr))},doneFn:function(){o(pe),k.call("_guiRelayout",u,z());var Lr=document.querySelector(".js-notes-box-panel");Lr&&Lr.redraw(Lr.selectedObj)}})}}}oe.exports={draw:function b(u){var g=u._fullLayout;g._infolayer.selectAll(".annotation").remove();for(var C=0;C<g.annotations.length;C++)g.annotations[C].visible&&p(u,C);return l.previousPromises(u)},drawOne:p,drawRaw:m}},13011:function(oe,J,t){"use strict";var S=t(39898),k=t(7901),l=t(82884),R=t(71828),I=R.strScale,v=R.strRotate,w=R.strTranslate;oe.exports=function(n,c,o){var C,T,L,x,f=n.node(),h=l[o.arrowhead||0],d=l[o.startarrowhead||0],b=(o.arrowwidth||1)*(o.arrowsize||1),p=(o.arrowwidth||1)*(o.startarrowsize||1),A=c.indexOf("start")>=0,m=c.indexOf("end")>=0,u=h.backoff*b+o.standoff,g=d.backoff*p+o.startstandoff;if("line"===f.nodeName){C={x:+n.attr("x1"),y:+n.attr("y1")},T={x:+n.attr("x2"),y:+n.attr("y2")};var E=C.x-T.x,M=C.y-T.y;if(x=(L=Math.atan2(M,E))+Math.PI,u&&g&&u+g>Math.sqrt(E*E+M*M))return void Y();if(u){if(u*u>E*E+M*M)return void Y();var i=u*Math.cos(L),D=u*Math.sin(L);T.x+=i,T.y+=D,n.attr({x2:T.x,y2:T.y})}if(g){if(g*g>E*E+M*M)return void Y();var y=g*Math.cos(L),B=g*Math.sin(L);C.x-=y,C.y-=B,n.attr({x1:C.x,y1:C.y})}}else if("path"===f.nodeName){var F=f.getTotalLength(),_="";if(F<u+g)return void Y();var z=f.getPointAtLength(0),V=f.getPointAtLength(.1);L=Math.atan2(z.y-V.y,z.x-V.x),C=f.getPointAtLength(Math.min(g,F)),_="0px,"+g+"px,";var H=f.getPointAtLength(F),U=f.getPointAtLength(F-.1);x=Math.atan2(H.y-U.y,H.x-U.x),T=f.getPointAtLength(Math.max(0,F-u)),n.style("stroke-dasharray",_+=F-(_?g+u:u)+"px,"+F+"px")}function Y(){n.style("stroke-dasharray","0px,100px")}function ee(ue,ce,pe,te){ue.path&&(ue.noRotate&&(pe=0),S.select(f.parentNode).append("path").attr({class:n.attr("class"),d:ue.path,transform:w(ce.x,ce.y)+v(180*pe/Math.PI)+I(te)}).style({fill:k.rgb(o.arrowcolor),"stroke-width":0}))}A&&ee(d,C,L,p),m&&ee(h,T,x,b)}},32745:function(oe,J,t){"use strict";var S=t(92605),k=t(44317);oe.exports={moduleType:"component",name:"annotations",layoutAttributes:t(50215),supplyLayoutDefaults:t(84046),includeBasePlot:t(76325)("annotations"),calcAutorange:t(3749),draw:S.draw,drawOne:S.drawOne,drawRaw:S.drawRaw,hasClickToShow:k.hasClickToShow,onClick:k.onClick,convertCoords:t(94128)}},26997:function(oe,J,t){"use strict";var S=t(50215),k=t(30962).overrideAll,l=t(44467).templatedArray;oe.exports=k(l("annotation",{visible:S.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:S.xanchor,xshift:S.xshift,yanchor:S.yanchor,yshift:S.yshift,text:S.text,textangle:S.textangle,font:S.font,width:S.width,height:S.height,opacity:S.opacity,align:S.align,valign:S.valign,bgcolor:S.bgcolor,bordercolor:S.bordercolor,borderpad:S.borderpad,borderwidth:S.borderwidth,showarrow:S.showarrow,arrowcolor:S.arrowcolor,arrowhead:S.arrowhead,startarrowhead:S.startarrowhead,arrowside:S.arrowside,arrowsize:S.arrowsize,startarrowsize:S.startarrowsize,arrowwidth:S.arrowwidth,standoff:S.standoff,startstandoff:S.startstandoff,hovertext:S.hovertext,hoverlabel:S.hoverlabel,captureevents:S.captureevents}),"calc","from-root")},5485:function(oe,J,t){"use strict";var S=t(71828),k=t(89298);function l(R,I){var w=I.fullSceneLayout.domain,r=I.fullLayout._size,n={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};R._xa={},S.extendFlat(R._xa,n),k.setConvert(R._xa),R._xa._offset=r.l+w.x[0]*r.w,R._xa.l2p=function(){return.5*(1+R._pdata[0]/R._pdata[3])*r.w*(w.x[1]-w.x[0])},R._ya={},S.extendFlat(R._ya,n),k.setConvert(R._ya),R._ya._offset=r.t+(1-w.y[1])*r.h,R._ya.l2p=function(){return.5*(1-R._pdata[1]/R._pdata[3])*r.h*(w.y[1]-w.y[0])}}oe.exports=function(I){for(var w=I.fullSceneLayout.annotations,r=0;r<w.length;r++)l(w[r],I);I.fullLayout._infolayer.selectAll(".annotation-"+I.id).remove()}},20226:function(oe,J,t){"use strict";var S=t(71828),k=t(89298),l=t(85501),R=t(25625),I=t(26997);function v(w,r,n,c){function o(d,b){return S.coerce(w,r,I,d,b)}function f(d){var b=d+"axis",p={_fullLayout:{}};return p._fullLayout[b]=n[b],k.coercePosition(r,p,o,d,d,.5)}o("visible")&&(R(w,r,c.fullLayout,o),f("x"),f("y"),f("z"),S.noneOrAll(w,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",o("xanchor"),o("yanchor"),o("xshift"),o("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",o("ax",-10),o("ay",-30),S.noneOrAll(w,r,["ax","ay"])))}oe.exports=function(r,n,c){l(r,n,{name:"annotations",handleItemDefaults:v,fullLayout:c.fullLayout})}},82188:function(oe,J,t){"use strict";var S=t(92605).drawRaw,k=t(63538),l=["x","y","z"];oe.exports=function(I){for(var v=I.fullSceneLayout,w=I.dataScale,r=v.annotations,n=0;n<r.length;n++){for(var c=r[n],o=!1,f=0;f<3;f++){var h=l[f],p=v[h+"axis"].r2fraction(c[h]);if(p<0||p>1){o=!0;break}}o?I.fullLayout._infolayer.select(".annotation-"+I.id+'[data-index="'+n+'"]').remove():(c._pdata=k(I.glplot.cameraParams,[v.xaxis.r2l(c.x)*w[0],v.yaxis.r2l(c.y)*w[1],v.zaxis.r2l(c.z)*w[2]]),S(I.graphDiv,c,n,I.id,c._xa,c._ya))}}},2468:function(oe,J,t){"use strict";var S=t(73972),k=t(71828);oe.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t(26997)}}},layoutAttributes:t(26997),handleDefaults:t(20226),includeBasePlot:function l(R,I){var v=S.subplotsRegistry.gl3d;if(v)for(var w=v.attrRegex,r=Object.keys(R),n=0;n<r.length;n++){var c=r[n];w.test(c)&&(R[c].annotations||[]).length&&(k.pushUnique(I._basePlotModules,v),k.pushUnique(I._subplots.gl3d,c))}},convert:t(5485),draw:t(82188)}},7561:function(oe,J,t){"use strict";oe.exports=t(63489),t(94338),t(3961),t(38751),t(86825),t(37715),t(99384),t(43805),t(88874),t(83290),t(29108),t(55422),t(94320),t(31320),t(51367),t(21457)},72201:function(oe,J,t){"use strict";var S=t(7561),k=t(71828),l=t(50606),R=l.EPOCHJD,I=l.ONEDAY,v={valType:"enumerated",values:k.sortObjectKeys(S.calendars),editType:"calc",dflt:"gregorian"},w=function(L,x,E,M){var i={};return i[E]=v,k.coerce(L,x,i,E,M)},f="##",h={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:f,w:f,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};var b={};function p(L){var x=b[L];return x||(b[L]=S.instance(L))}function A(L){return k.extendFlat({},v,{description:L})}function m(L){return"Sets the calendar system to use with `"+L+"` date data."}var u={xcalendar:A(m("x"))},g=k.extendFlat({},u,{ycalendar:A(m("y"))}),C=k.extendFlat({},g,{zcalendar:A(m("z"))}),T=A(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));oe.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:g,bar:g,box:g,heatmap:g,contour:g,histogram:g,histogram2d:g,histogram2dcontour:g,scatter3d:C,surface:C,mesh3d:C,scattergl:g,ohlc:u,candlestick:u},layout:{calendar:A(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:A(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:A(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:w,handleTraceDefaults:function(L,x,E,M){for(var i=0;i<E.length;i++)w(L,x,E[i]+"calendar",M.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:p,worldCalFmt:function d(L,x,E){for(var y,B,F,_,z,M=Math.floor((x+.05)/I)+R,i=p(E).fromJD(M),D=0;-1!==(D=L.indexOf("%",D));)"0"===(y=L.charAt(D+1))||"-"===y||"_"===y?(F=3,B=L.charAt(D+2),"_"===y&&(y="-")):(B=y,y="0",F=2),(_=h[B])?(z=_===f?f:i.formatDate(_[y]),L=L.substr(0,D)+z+L.substr(D+F),D+=z.length):D+=F;return L}}},22399:function(oe,J){"use strict";J.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],J.defaultLine="#444",J.lightLine="#eee",J.background="#fff",J.borderLine="#BEC8D9",J.lightFraction=90.9090909090909},7901:function(oe,J,t){"use strict";var S=t(84267),k=t(92770),l=t(73627).isTypedArray,R=oe.exports={},I=t(22399);R.defaults=I.defaults;var v=R.defaultLine=I.defaultLine;R.lightLine=I.lightLine;var w=R.background=I.background;function r(n){if(k(n)||"string"!=typeof n)return n;var c=n.trim();if("rgb"!==c.substr(0,3))return n;var o=c.match(/^rgba?\s*\(([^()]*)\)$/);if(!o)return n;var f=o[1].trim().split(/\s*[\s,]\s*/),h="a"===c.charAt(3)&&4===f.length;if(!h&&3!==f.length)return n;for(var d=0;d<f.length;d++){if(!(f[d].length&&(f[d]=Number(f[d]),f[d]>=0)))return n;if(3===d)f[d]>1&&(f[d]=1);else if(f[d]>=1)return n}var b=Math.round(255*f[0])+", "+Math.round(255*f[1])+", "+Math.round(255*f[2]);return h?"rgba("+b+", "+f[3]+")":"rgb("+b+")"}R.tinyRGB=function(n){var c=n.toRgb();return"rgb("+Math.round(c.r)+", "+Math.round(c.g)+", "+Math.round(c.b)+")"},R.rgb=function(n){return R.tinyRGB(S(n))},R.opacity=function(n){return n?S(n).getAlpha():0},R.addOpacity=function(n,c){var o=S(n).toRgb();return"rgba("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+", "+c+")"},R.combine=function(n,c){var o=S(n).toRgb();if(1===o.a)return S(n).toRgbString();var f=S(c||w).toRgb(),h=1===f.a?f:{r:255*(1-f.a)+f.r*f.a,g:255*(1-f.a)+f.g*f.a,b:255*(1-f.a)+f.b*f.a};return S({r:h.r*(1-o.a)+o.r*o.a,g:h.g*(1-o.a)+o.g*o.a,b:h.b*(1-o.a)+o.b*o.a}).toRgbString()},R.contrast=function(n,c,o){var f=S(n);return 1!==f.getAlpha()&&(f=S(R.combine(n,w))),(f.isDark()?c?f.lighten(c):w:o?f.darken(o):v).toString()},R.stroke=function(n,c){var o=S(c);n.style({stroke:R.tinyRGB(o),"stroke-opacity":o.getAlpha()})},R.fill=function(n,c){var o=S(c);n.style({fill:R.tinyRGB(o),"fill-opacity":o.getAlpha()})},R.clean=function(n){if(n&&"object"==typeof n){var o,f,h,d,c=Object.keys(n);for(o=0;o<c.length;o++)if(d=n[h=c[o]],"color"===h.substr(h.length-5))if(Array.isArray(d))for(f=0;f<d.length;f++)d[f]=r(d[f]);else n[h]=r(d);else if("colorscale"===h.substr(h.length-10)&&Array.isArray(d))for(f=0;f<d.length;f++)Array.isArray(d[f])&&(d[f][1]=r(d[f][1]));else if(Array.isArray(d)){var b=d[0];if(!Array.isArray(b)&&b&&"object"==typeof b)for(f=0;f<d.length;f++)R.clean(d[f])}else d&&"object"==typeof d&&!l(d)&&R.clean(d)}}},63583:function(oe,J,t){"use strict";var S=t(13838),k=t(41940),l=t(1426).extendFlat,R=t(30962).overrideAll;oe.exports=R({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:S.linecolor,outlinewidth:S.linewidth,bordercolor:S.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:S.minor.tickmode,nticks:S.nticks,tick0:S.tick0,dtick:S.dtick,tickvals:S.tickvals,ticktext:S.ticktext,ticks:l({},S.ticks,{dflt:""}),ticklabeloverflow:l({},S.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:S.ticklen,tickwidth:S.tickwidth,tickcolor:S.tickcolor,ticklabelstep:S.ticklabelstep,showticklabels:S.showticklabels,labelalias:S.labelalias,tickfont:k({}),tickangle:S.tickangle,tickformat:S.tickformat,tickformatstops:S.tickformatstops,tickprefix:S.tickprefix,showtickprefix:S.showtickprefix,ticksuffix:S.ticksuffix,showticksuffix:S.showticksuffix,separatethousands:S.separatethousands,exponentformat:S.exponentformat,minexponent:S.minexponent,showexponent:S.showexponent,title:{text:{valType:"string"},font:k({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:k({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(oe){"use strict";oe.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(oe,J,t){"use strict";var S=t(71828),k=t(44467),l=t(26218),R=t(38701),I=t(96115),v=t(89426),w=t(63583);oe.exports=function(n,c,o){var f=k.newContainer(c,"colorbar"),h=n.colorbar||{};function d(H,U){return S.coerce(h,f,w,H,U)}var b=o.margin||{t:0,b:0,l:0,r:0},p=o.width-b.l-b.r,A=o.height-b.t-b.b,u="v"===d("orientation"),g=d("thicknessmode");d("thickness","fraction"===g?30/(u?p:A):30);var C=d("lenmode");d("len","fraction"===C?1:u?A:p);var M,i,D,x="paper"===d("yref"),E="paper"===d("xref"),y="left";u?(D="middle",y=E?"left":"right",M=E?1.02:1,i=.5):(D=x?"bottom":"top",y="center",M=.5,i=x?1.02:1),S.coerce(h,f,{x:{valType:"number",min:E?-2:0,max:E?3:1,dflt:M}},"x"),S.coerce(h,f,{y:{valType:"number",min:x?-2:0,max:x?3:1,dflt:i}},"y"),d("xanchor",y),d("xpad"),d("yanchor",D),d("ypad"),S.noneOrAll(h,f,["x","y"]),d("outlinecolor"),d("outlinewidth"),d("bordercolor"),d("borderwidth"),d("bgcolor");var B=S.coerce(h,f,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:u?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");d("ticklabeloverflow",-1!==B.indexOf("inside")?"hide past domain":"hide past div"),l(h,f,d,"linear");var F=o.font,_={outerTicks:!1,font:F};-1!==B.indexOf("inside")&&(_.bgColor="black"),v(h,f,d,"linear",_),I(h,f,d,"linear",_),R(h,f,d,"linear",_),d("title.text",o._dfltTitle.colorbar);var z=f.showticklabels?f.tickfont:F,V=S.extendFlat({},z,{color:F.color,size:S.bigFont(z.size)});S.coerceFont(d,"title.font",V),d("title.side",u?"top":"right")}},98981:function(oe,J,t){"use strict";var S=t(39898),k=t(84267),l=t(74875),R=t(73972),I=t(89298),v=t(28569),w=t(71828),r=w.strTranslate,n=t(1426).extendFlat,c=t(6964),o=t(91424),f=t(7901),h=t(92998),d=t(63893),b=t(52075).flipScale,p=t(71453),A=t(52830),m=t(13838),u=t(18783),g=u.LINE_SPACING,C=u.FROM_TL,T=u.FROM_BR,L=t(30939).cn;oe.exports={draw:function x(B){var _=B._fullLayout._infolayer.selectAll("g."+L.colorbar).data(function E(B){var V,H,U,G,F=B._fullLayout,_=B.calcdata,z=[];function Y(re){return n(re,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ee(){"function"==typeof G.calc?G.calc(B,U,V):(V._fillgradient=H.reversescale?b(H.colorscale):H.colorscale,V._zrange=[H[G.min],H[G.max]])}for(var ue=0;ue<_.length;ue++)if((U=_[ue][0].trace)._module){var pe=U._module.colorbar;if(!0===U.visible&&pe)for(var te=Array.isArray(pe),Q=te?pe:[pe],K=0;K<Q.length;K++){var Z=(G=Q[K]).container;(H=Z?U[Z]:U)&&H.showscale&&((V=Y(H.colorbar))._id="cb"+U.uid+(te&&Z?"-"+Z:""),V._traceIndex=U.index,V._propPrefix=(Z?Z+".":"")+"colorbar.",V._meta=U._meta,ee(),z.push(V))}}for(var q in F._colorAxes)if((H=F[q]).showscale){var fe=F._colorAxes[q];(V=Y(H.colorbar))._id="cb"+q,V._propPrefix=q+".colorbar.",V._meta=F._meta,G={min:"cmin",max:"cmax"},"heatmap"!==fe[0]&&(G.calc=(U=fe[1])._module.colorbar.calc),ee(),z.push(V)}return z}(B),function(z){return z._id});_.enter().append("g").attr("class",function(z){return z._id}).classed(L.colorbar,!0),_.each(function(z){var V=S.select(this);w.ensureSingle(V,"rect",L.cbbg),w.ensureSingle(V,"g",L.cbfills),w.ensureSingle(V,"g",L.cblines),w.ensureSingle(V,"g",L.cbaxis,function(U){U.classed(L.crisp,!0)}),w.ensureSingle(V,"g",L.cbtitleunshift,function(U){U.append("g").classed(L.cbtitle,!0)}),w.ensureSingle(V,"rect",L.cboutline);var H=function M(B,F,_){var z="v"===F.orientation,V=F.len,H=F.lenmode,U=F.thickness,G=F.thicknessmode,Y=F.outlinewidth,ee=F.borderwidth,ue=F.bgcolor,ce=F.xanchor,pe=F.yanchor,te=F.xpad,Q=F.ypad,K=F.x,Z=z?F.y:1-F.y,q="paper"===F.yref,fe="paper"===F.xref,re=_._fullLayout,$=re._size,le=F._fillcolor,se=F._line,de=F.title,we=de.side,Ee=F._zrange||S.extent(("function"==typeof le?le:se.color).domain()),Me="function"==typeof se.color?se.color:function(){return se.color},Ne="function"==typeof le?le:function(){return le},Ve=F._levels,Pe=function D(B,F,_){var U,G,z=F._levels,V=[],H=[],Y=z.end+z.size/100,ee=z.size,ue=1.001*_[0]-.001*_[1],ce=1.001*_[1]-.001*_[0];for(G=0;G<1e5&&(U=z.start+G*ee,!(ee>0?U>=Y:U<=Y));G++)U>ue&&U<ce&&V.push(U);if(F._fillgradient)H=[0];else if("function"==typeof F._fillcolor){var pe=F._filllevels;if(pe)for(Y=pe.end+pe.size/100,ee=pe.size,G=0;G<1e5&&(U=pe.start+G*ee,!(ee>0?U>=Y:U<=Y));G++)U>_[0]&&U<_[1]&&H.push(U);else(H=V.map(function(te){return te-z.size/2})).push(H[H.length-1]+z.size)}else F._fillcolor&&"string"==typeof F._fillcolor&&(H=[0]);return z.size<0&&(V.reverse(),H.reverse()),{line:V,fill:H}}(0,F,Ee),Ce=Pe.fill,Ie=Pe.line,Je=Math.round(U*("fraction"===G?z?$.w:$.h:1)),Qe=Je/(z?$.w:$.h),ze=Math.round(V*("fraction"===H?z?$.h:$.w:1)),Ke=ze/(z?$.h:$.w),ut=fe?$.w:_._fullLayout.width,ot=q?$.h:_._fullLayout.height,We=Math.round(z?K*ut+te:Z*ot+Q),je={center:.5,right:1}[ce]||0,lt={top:1,middle:.5}[pe]||0,vt=z?K-je*Qe:Z-lt*Qe,pt=z?Z-lt*Ke:K-je*Ke,St=Math.round(z?ot*(1-pt):ut*pt);F._lenFrac=Ke,F._thickFrac=Qe,F._uFrac=vt,F._vFrac=pt;var Ct=F._axis=function y(B,F,_){var z=B._fullLayout,V="v"===F.orientation,H={type:"linear",range:_,tickmode:F.tickmode,nticks:F.nticks,tick0:F.tick0,dtick:F.dtick,tickvals:F.tickvals,ticktext:F.ticktext,ticks:F.ticks,ticklen:F.ticklen,tickwidth:F.tickwidth,tickcolor:F.tickcolor,showticklabels:F.showticklabels,labelalias:F.labelalias,ticklabelposition:F.ticklabelposition,ticklabeloverflow:F.ticklabeloverflow,ticklabelstep:F.ticklabelstep,tickfont:F.tickfont,tickangle:F.tickangle,tickformat:F.tickformat,exponentformat:F.exponentformat,minexponent:F.minexponent,separatethousands:F.separatethousands,showexponent:F.showexponent,showtickprefix:F.showtickprefix,tickprefix:F.tickprefix,showticksuffix:F.showticksuffix,ticksuffix:F.ticksuffix,title:F.title,showline:!0,anchor:"free",side:V?"right":"bottom",position:1},U=V?"y":"x",G={type:"linear",_id:U+F._id},Y={letter:U,font:z.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:z.calendar};function ee(ue,ce){return w.coerce(H,G,m,ue,ce)}return p(H,G,ee,Y,z),A(H,G,ee,Y),G}(_,F,Ee);Ct.position=Qe+(z?K+te/$.w:Z+Q/$.h);var _t=-1!==["top","bottom"].indexOf(we);if(z&&_t&&(Ct.title.side=we,Ct.titlex=K+te/$.w,Ct.titley=pt+("top"===de.side?Ke-Q/$.h:Q/$.h)),!z&&!_t&&(Ct.title.side=we,Ct.titley=Z+Q/$.h,Ct.titlex=pt+te/$.w),se.color&&"auto"===F.tickmode){Ct.tickmode="linear",Ct.tick0=Ve.start;var nt=Ve.size,ke=w.constrain(ze/50,4,15)+1,Re=(Ee[1]-Ee[0])/((F.nticks||ke)*nt);if(Re>1){var Be=Math.pow(10,Math.floor(Math.log(Re)/Math.LN10));nt*=Be*w.roundUp(Re/Be,[2,5,10]),(Math.abs(Ve.start)/Ve.size+1e-6)%1<2e-6&&(Ct.tick0=0)}Ct.dtick=nt}Ct.domain=z?[pt+Q/$.h,pt+Ke-Q/$.h]:[pt+te/$.w,pt+Ke-te/$.w],Ct.setScale(),B.attr("transform",r(Math.round($.l),Math.round($.t)));var ge,He=B.select("."+L.cbtitleunshift).attr("transform",r(-Math.round($.l),-Math.round($.t))),Ye=Ct.ticklabelposition,Ue=Ct.title.font.size,De=B.select("."+L.cbaxis),Te=0,_e=0;function et(Lt,Ut){var Qt={propContainer:Ct,propName:F._propPrefix+"title",traceIndex:F._traceIndex,_meta:F._meta,placeholder:re._dfltTitle.colorbar,containerGroup:B.select("."+L.cbtitle)},Cr="h"===Lt.charAt(0)?Lt.substr(1):"h"+Lt;B.selectAll("."+Cr+",."+Cr+"-math-group").remove(),h.draw(_,Lt,n(Qt,Ut||{}))}function ft(){var Lt,Ut;(z&&_t||!z&&!_t)&&("top"===we&&(Lt=te+$.l+ut*K,Ut=Q+$.t+ot*(1-pt-Ke)+3+.75*Ue),"bottom"===we&&(Lt=te+$.l+ut*K,Ut=Q+$.t+ot*(1-pt)-3-.25*Ue),"right"===we&&(Ut=Q+$.t+ot*Z+3+.75*Ue,Lt=te+$.l+ut*pt),et(Ct._id+"title",{attributes:{x:Lt,y:Ut,"text-anchor":z?"start":"middle"}}))}function gt(){if(z&&!_t||!z&&_t){var Qt,Cr,Lt=Ct.position||0,Ut=Ct._offset+Ct._length/2;if("right"===we)Cr=Ut,Qt=$.l+ut*Lt+10+Ue*(Ct.showticklabels?1:.5);else if(Qt=Ut,"bottom"===we&&(Cr=$.t+ot*Lt+10+(-1===Ye.indexOf("inside")?Ct.tickfont.size:0)+("intside"!==Ct.ticks&&F.ticklen||0)),"top"===we){var wt=de.text.split("<br>").length;Cr=$.t+ot*Lt+10-Je-g*Ue*wt}et((z?"h":"v")+Ct._id+"title",{avoid:{selection:S.select(_).selectAll("g."+Ct._id+"tick"),side:we,offsetTop:z?0:$.t,offsetLeft:z?$.l:0,maxShift:z?re.width:re.height},attributes:{x:Qt,y:Cr,"text-anchor":"middle"},transform:{rotate:z?-90:0,offset:0}})}}function Kt(){if(!z&&!_t||z&&_t){var $t,Lt=B.select("."+L.cbtitle),Ut=Lt.select("text"),Qt=[-Y/2,Y/2],Cr=Lt.select(".h"+Ct._id+"title-math-group").node(),wt=15.6;if(Ut.node()&&(wt=parseInt(Ut.node().style.fontSize,10)*g),Cr?($t=o.bBox(Cr),_e=$t.width,(Te=$t.height)>wt&&(Qt[1]-=(Te-wt)/2)):Ut.node()&&!Ut.classed(L.jsPlaceholder)&&($t=o.bBox(Ut.node()),_e=$t.width,Te=$t.height),z){if(Te){if(Te+=5,"top"===we)Ct.domain[1]-=Te/$.h,Qt[1]*=-1;else{Ct.domain[0]+=Te/$.h;var rr=d.lineCount(Ut);Qt[1]+=(1-rr)*wt}Lt.attr("transform",r(Qt[0],Qt[1])),Ct.setScale()}}else _e&&("right"===we&&(Ct.domain[0]+=(_e+Ue/2)/$.w),Lt.attr("transform",r(Qt[0],Qt[1])),Ct.setScale())}B.selectAll("."+L.cbfills+",."+L.cblines).attr("transform",z?r(0,Math.round($.h*(1-Ct.domain[1]))):r(Math.round($.w*Ct.domain[0]),0)),De.attr("transform",z?r(0,Math.round(-$.t)):r(Math.round(-$.l),0));var Lr=B.select("."+L.cbfills).selectAll("rect."+L.cbfill).attr("style","").data(Ce);Lr.enter().append("rect").classed(L.cbfill,!0).attr("style",""),Lr.exit().remove();var mr=Ee.map(Ct.c2p).map(Math.round).sort(function(Ft,Rt){return Ft-Rt});Lr.each(function(Ft,Rt){var Gt=[0===Rt?Ee[0]:(Ce[Rt]+Ce[Rt-1])/2,Rt===Ce.length-1?Ee[1]:(Ce[Rt]+Ce[Rt+1])/2].map(Ct.c2p).map(Math.round);z&&(Gt[1]=w.constrain(Gt[1]+(Gt[1]>Gt[0])?1:-1,mr[0],mr[1]));var jt=S.select(this).attr(z?"x":"y",We).attr(z?"y":"x",S.min(Gt)).attr(z?"width":"height",Math.max(Je,2)).attr(z?"height":"width",Math.max(S.max(Gt)-S.min(Gt),2));if(F._fillgradient)o.gradient(jt,_,F._id,z?"vertical":"horizontalreversed",F._fillgradient,"fill");else{var er=Ne(Ft).replace("e-","");jt.attr("fill",k(er).toHexString())}});var bt=B.select("."+L.cblines).selectAll("path."+L.cbline).data(se.color&&se.width?Ie:[]);bt.enter().append("path").classed(L.cbline,!0),bt.exit().remove(),bt.each(function(Ft){var Rt=We,Gt=Math.round(Ct.c2p(Ft))+se.width/2%1;S.select(this).attr("d","M"+(z?Rt+","+Gt:Gt+","+Rt)+(z?"h":"v")+Je).call(o.lineGroupStyle,se.width,Me(Ft),se.dash)}),De.selectAll("g."+Ct._id+"tick,path").remove();var ct=We+Je+(Y||0)/2-("outside"===F.ticks?1:0),At=I.calcTicks(Ct),It=I.getTickSigns(Ct)[2];return I.drawTicks(_,Ct,{vals:"inside"===Ct.ticks?I.clipEnds(Ct,At):At,layer:De,path:I.makeTickPath(Ct,ct,It),transFn:I.makeTransTickFn(Ct)}),I.drawLabels(_,Ct,{vals:At,layer:De,transFn:I.makeTransTickLabelFn(Ct),labelFns:I.makeLabelFns(Ct,ct)})}function ir(){var Lt,Ut=Je+Y/2;-1===Ye.indexOf("inside")&&(Lt=o.bBox(De.node()),Ut+=z?Lt.width:Lt.height),ge=He.select("text");var Qt=0,Cr=z&&"top"===we,wt=!z&&"right"===we,$t=0;if(ge.node()&&!ge.classed(L.jsPlaceholder)){var rr,Lr=He.select(".h"+Ct._id+"title-math-group").node();Lr&&(z&&_t||!z&&!_t)?(Qt=(Lt=o.bBox(Lr)).width,rr=Lt.height):(Qt=(Lt=o.bBox(He.node())).right-$.l-(z?We:St),rr=Lt.bottom-$.t-(z?St:We),!z&&"top"===we&&(Ut+=Lt.height,$t=Lt.height)),wt&&(ge.attr("transform",r(Qt/2+Ue/2,0)),Qt*=2),Ut=Math.max(Ut,z?Qt:rr)}var mr=2*(z?te:Q)+Ut+ee+Y/2,bt=0;!z&&de.text&&"bottom"===pe&&Z<=0&&(mr+=bt=mr/2,$t+=bt),re._hColorbarMoveTitle=bt,re._hColorbarMoveCBTitle=$t;var ct=ee+Y,At=(z?We:St)-ct/2-(z?te:0),It=(z?St:We)-(z?ze:Q+$t-bt);B.select("."+L.cbbg).attr("x",At).attr("y",It).attr(z?"width":"height",Math.max(mr-bt,2)).attr(z?"height":"width",Math.max(ze+ct,2)).call(f.fill,ue).call(f.stroke,F.bordercolor).style("stroke-width",ee);var Ft=wt?Math.max(Qt-10,0):0;B.selectAll("."+L.cboutline).attr("x",(z?We:St+te)+Ft).attr("y",(z?St+Q-ze:We)+(Cr?Te:0)).attr(z?"width":"height",Math.max(Je,2)).attr(z?"height":"width",Math.max(ze-(z?2*Q+Te:2*te+Ft),2)).call(f.stroke,F.outlinecolor).style({fill:"none","stroke-width":Y});var Rt=z?je*mr:0,Gt=z?0:(1-lt)*mr-$t;if(B.attr("transform",r(Rt=fe?$.l-Rt:-Rt,Gt=q?$.t-Gt:-Gt)),!z&&(ee||k(ue).getAlpha()&&!k.equals(re.paper_bgcolor,ue))){var jt=De.selectAll("text"),er=jt[0].length,dr=B.select("."+L.cbbg).node(),hr=o.bBox(dr),wr=o.getTranslate(B),$e=2;jt.each(function(xr,Mr){var kr=0,un=er-1;if(Mr===kr||Mr===un){var $r,Nr=o.bBox(this),Yr=o.getTranslate(this);Mr===un?($r=hr.right+wr.x+St-ee-$e+K-(Nr.right+Yr.x))>0&&($r=0):Mr===kr&&($r=hr.left+wr.x+St+ee+$e-(Nr.left+Yr.x))<0&&($r=0),$r&&(er<3?this.setAttribute("transform","translate("+$r+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ze={},zt=C[ce],kt=T[ce],Xt=C[pe],ur=T[pe],vr=mr-Je;z?("pixels"===H?(Ze.y=Z,Ze.t=ze*Xt,Ze.b=ze*ur):(Ze.t=Ze.b=0,Ze.yt=Z+V*Xt,Ze.yb=Z-V*ur),"pixels"===G?(Ze.x=K,Ze.l=mr*zt,Ze.r=mr*kt):(Ze.l=vr*zt,Ze.r=vr*kt,Ze.xl=K-U*zt,Ze.xr=K+U*kt)):("pixels"===H?(Ze.x=K,Ze.l=ze*zt,Ze.r=ze*kt):(Ze.l=Ze.r=0,Ze.xl=K+V*zt,Ze.xr=K-V*kt),"pixels"===G?(Ze.y=1-Z,Ze.t=mr*Xt,Ze.b=mr*ur):(Ze.t=vr*Xt,Ze.b=vr*ur,Ze.yt=Z-U*Xt,Ze.yb=Z+U*ur));var or=F.y<.5?"b":"t",Ht=F.x<.5?"l":"r";_._fullLayout._reservedMargin[F._id]={};var pr={r:re.width-At-Rt,l:At+Ze.r,b:re.height-It-Gt,t:It+Ze.b};fe&&q?l.autoMargin(_,F._id,Ze):fe?_._fullLayout._reservedMargin[F._id][or]=pr[or]:q||z?_._fullLayout._reservedMargin[F._id][Ht]=pr[Ht]:_._fullLayout._reservedMargin[F._id][or]=pr[or]}return w.syncOrAsync([l.previousPromises,ft,Kt,gt,l.previousPromises,ir],_)}(V,z,B);H&&H.then&&(B._promises||[]).push(H),B._context.edits.colorbarPosition&&function i(B,F,_){var U,G,Y,z="v"===F.orientation,H=_._fullLayout._size;v.init({element:B.node(),gd:_,prepFn:function(){U=B.attr("transform"),c(B)},moveFn:function(ee,ue){B.attr("transform",U+r(ee,ue)),G=v.align((z?F._uFrac:F._vFrac)+ee/H.w,z?F._thickFrac:F._lenFrac,0,1,F.xanchor),Y=v.align((z?F._vFrac:1-F._uFrac)-ue/H.h,z?F._lenFrac:F._thickFrac,0,1,F.yanchor);var ce=v.getCursor(G,Y,F.xanchor,F.yanchor);c(B,ce)},doneFn:function(){if(c(B),void 0!==G&&void 0!==Y){var ee={};ee[F._propPrefix+"x"]=G,ee[F._propPrefix+"y"]=Y,void 0!==F._traceIndex?R.call("_guiRestyle",_,ee,F._traceIndex):R.call("_guiRelayout",_,ee)}}})}(V,z,B)}),_.exit().each(function(z){l.autoMargin(B,z._id)}).remove(),_.order()}}},76228:function(oe,J,t){"use strict";var S=t(71828);oe.exports=function(l){return S.isPlainObject(l.colorbar)}},12311:function(oe,J,t){"use strict";oe.exports={moduleType:"component",name:"colorbar",attributes:t(63583),supplyDefaults:t(62499),draw:t(98981).draw,hasColorbar:t(76228)}},50693:function(oe,J,t){"use strict";var S=t(63583),k=t(30587).counter,l=t(78607),R=t(63282).scales;function v(w){return"`"+w+"`"}l(R),oe.exports=function(r,n){r=r||"";var A,c=(n=n||{}).cLetter||"c",f="noScale"in n?n.noScale:"marker.line"===r,h="showScaleDflt"in n?n.showScaleDflt:"z"===c,d="string"==typeof n.colorscaleDflt?R[n.colorscaleDflt]:null,b=n.editTypeOverride||"",p=r?r+".":"";"colorAttr"in n?A=n.colorAttr:v(p+(A={z:"z",c:"color"}[c]));var g=c+"auto",C=c+"min",T=c+"max",L=c+"mid",D=(v(p+g),v(p+C),v(p+T),{});D[C]=D[T]=void 0;var y={};y[g]=!1;var B={};return"color"===A&&(B.color={valType:"color",arrayOk:!0,editType:b||"style"},n.anim&&(B.color.anim=!0)),B[g]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:D},B[C]={valType:"number",dflt:null,editType:b||"plot",impliedEdits:y},B[T]={valType:"number",dflt:null,editType:b||"plot",impliedEdits:y},B[L]={valType:"number",dflt:null,editType:"calc",impliedEdits:D},B.colorscale={valType:"colorscale",editType:"calc",dflt:d,impliedEdits:{autocolorscale:!1}},B.autocolorscale={valType:"boolean",dflt:!1!==n.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},B.reversescale={valType:"boolean",dflt:!1,editType:"plot"},f||(B.showscale={valType:"boolean",dflt:h,editType:"calc"},B.colorbar=S),n.noColorAxis||(B.coloraxis={valType:"subplotid",regex:k("coloraxis"),dflt:null,editType:"calc"}),B}},78803:function(oe,J,t){"use strict";var S=t(92770),k=t(71828),l=t(52075).extractOpts;oe.exports=function(I,v,w){var r=I._fullLayout,n=w.vals,c=w.containerStr,o=c?k.nestedProperty(v,c).get():v,f=l(o),h=!1!==f.auto,d=f.min,b=f.max,p=f.mid,A=function(){return k.aggNums(Math.min,null,n)},m=function(){return k.aggNums(Math.max,null,n)};void 0===d?d=A():h&&(d=o._colorAx&&S(d)?Math.min(d,A()):A()),void 0===b?b=m():h&&(b=o._colorAx&&S(b)?Math.max(b,m()):m()),h&&void 0!==p&&(b-p>p-d?d=p-(b-p):b-p<p-d&&(b=p+(p-d))),d===b&&(d-=.5,b+=.5),f._sync("min",d),f._sync("max",b),f.autocolorscale&&f._sync("colorscale",d*b<0?r.colorscale.diverging:d>=0?r.colorscale.sequential:r.colorscale.sequentialminus)}},33046:function(oe,J,t){"use strict";var S=t(71828),k=t(52075).hasColorscale,l=t(52075).extractOpts;oe.exports=function(I,v){function w(d,b){var p=d["_"+b];void 0!==p&&(d[b]=p)}function r(d,b){var p=b.container?S.nestedProperty(d,b.container).get():d;if(p)if(p.coloraxis)p._colorAx=v[p.coloraxis];else{var A=l(p),m=A.auto;(m||void 0===A.min)&&w(p,b.min),(m||void 0===A.max)&&w(p,b.max),A.autocolorscale&&w(p,"colorscale")}}for(var n=0;n<I.length;n++){var c=I[n],o=c._module.colorbar;if(o)if(Array.isArray(o))for(var f=0;f<o.length;f++)r(c,o[f]);else r(c,o);k(c,"marker.line")&&r(c,{container:"marker.line",min:"cmin",max:"cmax"})}for(var h in v._colorAxes)r(v[h],{min:"cmin",max:"cmax"})}},1586:function(oe,J,t){"use strict";var S=t(92770),k=t(71828),l=t(76228),R=t(62499),I=t(63282).isValid,v=t(73972).traceIs;function w(r,n){var c=n.slice(0,n.length-1);return n?k.nestedProperty(r,c).get()||{}:r}oe.exports=function r(n,c,o,f,h){var d=h.prefix,b=h.cLetter,p="_module"in c,A=w(n,d),m=w(c,d),u=w(c._template||{},d)||{},g=function(){return delete n.coloraxis,delete c.coloraxis,r(n,c,o,f,h)};if(p){var C=o._colorAxes||{},T=f(d+"coloraxis");if(T){var L=v(c,"contour")&&k.nestedProperty(c,"contours.coloring").get()||"heatmap",x=C[T];return void(x?(x[2].push(g),x[0]!==L&&(x[0]=!1,k.warn(["Ignoring coloraxis:",T,"setting","as it is linked to incompatible colorscales."].join(" ")))):C[T]=[L,c,[g]])}}var E=A[b+"min"],M=A[b+"max"],i=S(E)&&S(M)&&E<M;f(d+b+"auto",!i)?f(d+b+"mid"):(f(d+b+"min"),f(d+b+"max"));var F,_,y=A.colorscale,B=u.colorscale;void 0!==y&&(F=!I(y)),void 0!==B&&(F=!I(B)),f(d+"autocolorscale",F),f(d+"colorscale"),f(d+"reversescale"),"marker.line."!==d&&(d&&p&&(_=l(A)),f(d+"showscale",_)&&(d&&u&&(m._template=u),R(A,m,o)))}},52075:function(oe,J,t){"use strict";var S=t(39898),k=t(84267),l=t(92770),R=t(71828),I=t(7901),v=t(63282).isValid;var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],n=["min","max","mid","auto"];function c(p){var g,C,T,A=p._colorAx,m=A||p,u={};for(C=0;C<r.length;C++)u[T=r[C]]=m[T];if(A)for(g="c",C=0;C<n.length;C++)u[T=n[C]]=m["c"+T];else{var L;for(C=0;C<n.length;C++)((L="c"+(T=n[C]))in m||(L="z"+T)in m)&&(u[T]=m[L]);g=L.charAt(0)}return u._sync=function(x,E){var M=-1!==n.indexOf(x)?g+x:x;m[M]=m["_"+M]=E},u}function o(p){for(var A=c(p),m=A.min,u=A.max,g=A.reversescale?f(A.colorscale):A.colorscale,C=g.length,T=new Array(C),L=new Array(C),x=0;x<C;x++){var E=g[x];T[x]=m+E[0]*(u-m),L[x]=E[1]}return{domain:T,range:L}}function f(p){for(var A=p.length,m=new Array(A),u=A-1,g=0;u>=0;u--,g++){var C=p[u];m[g]=[1-C[0],C[1]]}return m}function h(p,A){A=A||{};for(var m=p.domain,u=p.range,g=u.length,C=new Array(g),T=0;T<g;T++){var L=k(u[T]).toRgb();C[T]=[L.r,L.g,L.b,L.a]}var i,x=S.scale.linear().domain(m).range(C).clamp(!0),E=A.noNumericCheck,M=A.returnArray;return(i=E&&M?x:E?function(D){return b(x(D))}:M?function(D){return l(D)?x(D):k(D).isValid()?D:I.defaultLine}:function(D){return l(D)?b(x(D)):k(D).isValid()?D:I.defaultLine}).domain=x.domain,i.range=function(){return u},i}function b(p){return k({r:p[0],g:p[1],b:p[2],a:p[3]}).toRgbString()}oe.exports={hasColorscale:function w(p,A,m){var u=A?R.nestedProperty(p,A).get()||{}:p,g=u[m||"color"],C=!1;if(R.isArrayOrTypedArray(g))for(var T=0;T<g.length;T++)if(l(g[T])){C=!0;break}return R.isPlainObject(u)&&(C||!0===u.showscale||l(u.cmin)&&l(u.cmax)||v(u.colorscale)||R.isPlainObject(u.colorbar))},extractOpts:c,extractScale:o,flipScale:f,makeColorScaleFunc:h,makeColorScaleFuncFromTrace:function d(p,A){return h(o(p),A)}}},21081:function(oe,J,t){"use strict";var S=t(63282),k=t(52075);oe.exports={moduleType:"component",name:"colorscale",attributes:t(50693),layoutAttributes:t(72673),supplyLayoutDefaults:t(30959),handleDefaults:t(1586),crossTraceDefaults:t(33046),calc:t(78803),scales:S.scales,defaultScale:S.defaultScale,getScale:S.get,isValidScale:S.isValid,hasColorscale:k.hasColorscale,extractOpts:k.extractOpts,extractScale:k.extractScale,flipScale:k.flipScale,makeColorScaleFunc:k.makeColorScaleFunc,makeColorScaleFuncFromTrace:k.makeColorScaleFuncFromTrace}},72673:function(oe,J,t){"use strict";var S=t(1426).extendFlat,k=t(50693),l=t(63282).scales;oe.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:l.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:l.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:l.RdBu,editType:"calc"}},coloraxis:S({_isSubplotObj:!0,editType:"calc"},k("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(oe,J,t){"use strict";var S=t(71828),k=t(44467),l=t(72673),R=t(1586);oe.exports=function(v,w){function r(p,A){return S.coerce(v,w,l,p,A)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var c,o,n=w._colorAxes;function f(p,A){return S.coerce(c,o,l.coloraxis,p,A)}for(var h in n){var d=n[h];if(d[0])c=v[h]||{},(o=k.newContainer(w,h,"coloraxis"))._name=h,R(c,o,w,f,{prefix:"",cLetter:"c"});else{for(var b=0;b<d[2].length;b++)d[2][b]();delete w._colorAxes[h]}}}},63282:function(oe,J,t){"use strict";var S=t(84267),k={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},l=k.RdBu;function I(w){var r=0;if(!Array.isArray(w)||w.length<2||!w[0]||!w[w.length-1]||0!=+w[0][0]||1!=+w[w.length-1][0])return!1;for(var n=0;n<w.length;n++){var c=w[n];if(2!==c.length||+c[0]<r||!S(c[1]).isValid())return!1;r=+c[0]}return!0}oe.exports={scales:k,defaultScale:l,get:function R(w,r){if(r||(r=l),!w)return r;function n(){try{w=k[w]||JSON.parse(w)}catch{w=r}}return"string"==typeof w&&(n(),"string"==typeof w&&n()),I(w)?w:r},isValid:function v(w){return void 0!==k[w]||I(w)}}},92807:function(oe){"use strict";oe.exports=function(t,S,k,l,R){var I=(t-k)/(l-k),v=I+S/(l-k),w=(I+v)/2;return"left"===R||"bottom"===R?I:"center"===R||"middle"===R?w:"right"===R||"top"===R?v:I<.6666666666666666-w?I:v>1.3333333333333333-w?v:w}},70461:function(oe,J,t){"use strict";var S=t(71828),k=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];oe.exports=function(R,I,v,w){return R="left"===v?0:"center"===v?1:"right"===v?2:S.constrain(Math.floor(3*R),0,2),I="bottom"===w?0:"middle"===w?1:"top"===w?2:S.constrain(Math.floor(3*I),0,2),k[I][R]}},64505:function(oe,J){"use strict";J.selectMode=function(t){return"lasso"===t||"select"===t},J.drawMode=function(t){return"drawclosedpath"===t||"drawopenpath"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},J.openMode=function(t){return"drawline"===t||"drawopenpath"===t},J.rectMode=function(t){return"select"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},J.freeMode=function(t){return"lasso"===t||"drawclosedpath"===t||"drawopenpath"===t},J.selectingOrDrawing=function(t){return J.freeMode(t)||J.rectMode(t)}},28569:function(oe,J,t){"use strict";var S=t(48956),k=t(57035),l=t(38520),R=t(71828).removeElement,I=t(85555),v=oe.exports={};v.align=t(92807),v.getCursor=t(70461);var w=t(26041);function r(){var c=document.createElement("div");c.className="dragcover";var o=c.style;return o.position="fixed",o.left=0,o.right=0,o.top=0,o.bottom=0,o.zIndex=999999999,o.background="none",document.body.appendChild(c),c}function n(c){return S(c.changedTouches?c.changedTouches[0]:c,document.body)}v.unhover=w.wrapped,v.unhoverRaw=w.raw,v.init=function(o){var p,A,m,u,g,C,T,L,f=o.gd,h=1,d=f._context.doubleClickDelay,b=o.element;f._mouseDownTime||(f._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=M,l?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=M,b.addEventListener("touchstart",M,{passive:!1})):b.ontouchstart=M;var E=o.clampFn||function x(y,B,F){return Math.abs(y)<F&&(y=0),Math.abs(B)<F&&(B=0),[y,B]};function M(y){f._dragged=!1,f._dragging=!0;var B=n(y);p=B[0],A=B[1],T=y.target,C=y,L=2===y.buttons||y.ctrlKey,typeof y.clientX>"u"&&typeof y.clientY>"u"&&(y.clientX=p,y.clientY=A),(m=(new Date).getTime())-f._mouseDownTime<d?h+=1:(h=1,f._mouseDownTime=m),o.prepFn&&o.prepFn(y,p,A),k&&!L?(g=r()).style.cursor=window.getComputedStyle(b).cursor:k||(g=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",D),document.addEventListener("touchend",D),!1!==o.dragmode&&(y.preventDefault(),document.addEventListener("mousemove",i),document.addEventListener("touchmove",i,{passive:!1}))}function i(y){y.preventDefault();var B=n(y),_=E(B[0]-p,B[1]-A,o.minDrag||I.MINDRAG),z=_[0],V=_[1];(z||V)&&(f._dragged=!0,v.unhover(f,y)),f._dragged&&o.moveFn&&!L&&(f._dragdata={element:b,dx:z,dy:V},o.moveFn(z,V))}function D(y){if(delete f._dragdata,!1!==o.dragmode&&(y.preventDefault(),document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i)),document.removeEventListener("mouseup",D),document.removeEventListener("touchend",D),k?R(g):u&&(g.documentElement.style.cursor=u,u=null),f._dragging){if(f._dragging=!1,(new Date).getTime()-f._mouseDownTime>d&&(h=Math.max(h-1,1)),f._dragged)o.doneFn&&o.doneFn();else if(o.clickFn&&o.clickFn(h,C),!L){var B;try{B=new MouseEvent("click",y)}catch{var F=n(y);(B=document.createEvent("MouseEvents")).initMouseEvent("click",y.bubbles,y.cancelable,y.view,y.detail,y.screenX,y.screenY,F[0],F[1],y.ctrlKey,y.altKey,y.shiftKey,y.metaKey,y.button,y.relatedTarget)}T.dispatchEvent(B)}f._dragging=!1,f._dragged=!1}else f._dragged=!1}},v.coverSlip=r},26041:function(oe,J,t){"use strict";var S=t(11086),k=t(79990),l=t(24401).getGraphDiv,R=t(26675),I=oe.exports={};I.wrapped=function(v,w,r){(v=l(v))._fullLayout&&k.clear(v._fullLayout._uid+R.HOVERID),I.raw(v,w,r)},I.raw=function(w,r){var n=w._fullLayout,c=w._hoverdata;r||(r={}),(!r.target||w._dragged||!1!==S.triggerHandler(w,"plotly_beforehover",r))&&(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),w._hoverdata=void 0,r.target&&c&&w.emit("plotly_unhover",{event:r,points:c}))}},79952:function(oe,J){"use strict";J.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},J.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=k.numberFormat,R=t(92770),I=t(84267),v=t(73972),w=t(7901),r=t(21081),n=k.strTranslate,c=t(63893),o=t(77922),h=t(18783).LINE_SPACING,d=t(37822).DESELECTDIM,b=t(34098),p=t(39984),A=t(23469).appendArrayPointValue,m=oe.exports={};function u(Pe,Ce,Ie){var Je=Ce.fillpattern,Qe=Je&&m.getPatternAttr(Je.shape,0,"");if(Qe){var ze=m.getPatternAttr(Je.bgcolor,0,null),Ke=m.getPatternAttr(Je.fgcolor,0,null),ut=Je.fgopacity,ot=m.getPatternAttr(Je.size,0,8),We=m.getPatternAttr(Je.solidity,0,.3);m.pattern(Pe,"point",Ie,Ce.uid,Qe,ot,We,void 0,Je.fillmode,ze,Ke,ut)}else Ce.fillcolor&&Pe.call(w.fill,Ce.fillcolor)}m.font=function(Pe,Ce,Ie,Je){k.isPlainObject(Ce)&&(Je=Ce.color,Ie=Ce.size,Ce=Ce.family),Ce&&Pe.style("font-family",Ce),Ie+1&&Pe.style("font-size",Ie+"px"),Je&&Pe.call(w.fill,Je)},m.setPosition=function(Pe,Ce,Ie){Pe.attr("x",Ce).attr("y",Ie)},m.setSize=function(Pe,Ce,Ie){Pe.attr("width",Ce).attr("height",Ie)},m.setRect=function(Pe,Ce,Ie,Je,Qe){Pe.call(m.setPosition,Ce,Ie).call(m.setSize,Je,Qe)},m.translatePoint=function(Pe,Ce,Ie,Je){var Qe=Ie.c2p(Pe.x),ze=Je.c2p(Pe.y);return!!(R(Qe)&&R(ze)&&Ce.node())&&("text"===Ce.node().nodeName?Ce.attr("x",Qe).attr("y",ze):Ce.attr("transform",n(Qe,ze)),!0)},m.translatePoints=function(Pe,Ce,Ie){Pe.each(function(Je){var Qe=S.select(this);m.translatePoint(Je,Qe,Ce,Ie)})},m.hideOutsideRangePoint=function(Pe,Ce,Ie,Je,Qe,ze){Ce.attr("display",Ie.isPtWithinRange(Pe,Qe)&&Je.isPtWithinRange(Pe,ze)?null:"none")},m.hideOutsideRangePoints=function(Pe,Ce){if(Ce._hasClipOnAxisFalse){var Ie=Ce.xaxis,Je=Ce.yaxis;Pe.each(function(Qe){var ze=Qe[0].trace,Ke=ze.xcalendar,ut=ze.ycalendar,ot=v.traceIs(ze,"bar-like")?".bartext":".point,.textpoint";Pe.selectAll(ot).each(function(We){m.hideOutsideRangePoint(We,S.select(this),Ie,Je,Ke,ut)})})}},m.crispRound=function(Pe,Ce,Ie){return Ce&&R(Ce)?Pe._context.staticPlot?Ce:Ce<1?1:Math.round(Ce):Ie||0},m.singleLineStyle=function(Pe,Ce,Ie,Je,Qe){Ce.style("fill","none");var ze=(((Pe||[])[0]||{}).trace||{}).line||{},Ke=Ie||ze.width||0,ut=Qe||ze.dash||"";w.stroke(Ce,Je||ze.color),m.dashLine(Ce,ut,Ke)},m.lineGroupStyle=function(Pe,Ce,Ie,Je){Pe.style("fill","none").each(function(Qe){var ze=(((Qe||[])[0]||{}).trace||{}).line||{},Ke=Ce||ze.width||0,ut=Je||ze.dash||"";S.select(this).call(w.stroke,Ie||ze.color).call(m.dashLine,ut,Ke)})},m.dashLine=function(Pe,Ce,Ie){Ce=m.dashStyle(Ce,Ie=+Ie||0),Pe.style({"stroke-dasharray":Ce,"stroke-width":Ie+"px"})},m.dashStyle=function(Pe,Ce){Ce=+Ce||1;var Ie=Math.max(Ce,3);return"solid"===Pe?Pe="":"dot"===Pe?Pe=Ie+"px,"+Ie+"px":"dash"===Pe?Pe=3*Ie+"px,"+3*Ie+"px":"longdash"===Pe?Pe=5*Ie+"px,"+5*Ie+"px":"dashdot"===Pe?Pe=3*Ie+"px,"+Ie+"px,"+Ie+"px,"+Ie+"px":"longdashdot"===Pe&&(Pe=5*Ie+"px,"+2*Ie+"px,"+Ie+"px,"+2*Ie+"px"),Pe},m.singleFillStyle=function(Pe,Ce){var Ie=S.select(Pe.node());u(Pe,((Ie.data()[0]||[])[0]||{}).trace||{},Ce)},m.fillGroupStyle=function(Pe,Ce){Pe.style("stroke-width",0).each(function(Ie){var Je=S.select(this);Ie[0].trace&&u(Je,Ie[0].trace,Ce)})};var g=t(90998);m.symbolNames=[],m.symbolFuncs=[],m.symbolBackOffs=[],m.symbolNeedLines={},m.symbolNoDot={},m.symbolNoFill={},m.symbolList=[],Object.keys(g).forEach(function(Pe){var Ce=g[Pe],Ie=Ce.n;m.symbolList.push(Ie,String(Ie),Pe,Ie+100,String(Ie+100),Pe+"-open"),m.symbolNames[Ie]=Pe,m.symbolFuncs[Ie]=Ce.f,m.symbolBackOffs[Ie]=Ce.backoff||0,Ce.needLine&&(m.symbolNeedLines[Ie]=!0),Ce.noDot?m.symbolNoDot[Ie]=!0:m.symbolList.push(Ie+200,String(Ie+200),Pe+"-dot",Ie+300,String(Ie+300),Pe+"-open-dot"),Ce.noFill&&(m.symbolNoFill[Ie]=!0)});var C=m.symbolNames.length;function L(Pe,Ce,Ie,Je){return m.symbolFuncs[Pe%100](Ce,Ie,Je)+(Pe>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}m.symbolNumber=function(Pe){if(R(Pe))Pe=+Pe;else if("string"==typeof Pe){var Ce=0;Pe.indexOf("-open")>0&&(Ce=100,Pe=Pe.replace("-open","")),Pe.indexOf("-dot")>0&&(Ce+=200,Pe=Pe.replace("-dot","")),(Pe=m.symbolNames.indexOf(Pe))>=0&&(Pe+=Ce)}return Pe%100>=C||Pe>=400?0:Math.floor(Math.max(Pe,0))};var x={x1:1,x2:0,y1:0,y2:0},E={x1:0,x2:0,y1:1,y2:0},M=l("~f"),i={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:x},horizontalreversed:{node:"linearGradient",attrs:x,reversed:!0},vertical:{node:"linearGradient",attrs:E},verticalreversed:{node:"linearGradient",attrs:E,reversed:!0}};m.gradient=function(Pe,Ce,Ie,Je,Qe,ze){for(var Ke=Qe.length,ut=i[Je],ot=new Array(Ke),We=0;We<Ke;We++)ut.reversed?ot[Ke-1-We]=[M(100*(1-Qe[We][0])),Qe[We][1]]:ot[We]=[M(100*Qe[We][0]),Qe[We][1]];var je=Ce._fullLayout,lt="g"+je._uid+"-"+Ie,vt=je._defs.select(".gradients").selectAll("#"+lt).data([Je+ot.join(";")],k.identity);vt.exit().remove(),vt.enter().append(ut.node).each(function(){var pt=S.select(this);ut.attrs&&pt.attr(ut.attrs),pt.attr("id",lt);var St=pt.selectAll("stop").data(ot);St.exit().remove(),St.enter().append("stop"),St.each(function(Ct){var _t=I(Ct[1]);S.select(this).attr({offset:Ct[0]+"%","stop-color":w.tinyRGB(_t),"stop-opacity":_t.getAlpha()})})}),Pe.style(ze,Q(lt,Ce)).style(ze+"-opacity",null),Pe.classed("gradient_filled",!0)},m.pattern=function(Pe,Ce,Ie,Je,Qe,ze,Ke,ut,ot,We,je,lt){var vt="legend"===Ce;ut&&("overlay"===ot?je=w.contrast(We=ut):(We=void 0,je=ut));var Ct,_t,ke,Re,Be,He,ft,gt,Kt,ir,Lt,pt=Ie._fullLayout,St="p"+pt._uid+"-"+Je,Ye={},Ue=I(je),De=w.tinyRGB(Ue),Te=lt*Ue.getAlpha();switch(Qe){case"/":Ct=ze*Math.sqrt(2),_t=ze*Math.sqrt(2),He="path",Ye={d:ke="M-"+Ct/4+","+_t/4+"l"+Ct/2+",-"+_t/2+"M0,"+_t+"L"+Ct+",0M"+Ct/4*3+","+_t/4*5+"l"+Ct/2+",-"+_t/2,opacity:Te,stroke:De,"stroke-width":(Re=Ke*ze)+"px"};break;case"\\":Ct=ze*Math.sqrt(2),_t=ze*Math.sqrt(2),He="path",Ye={d:ke="M"+Ct/4*3+",-"+_t/4+"l"+Ct/2+","+_t/2+"M0,0L"+Ct+","+_t+"M-"+Ct/4+","+_t/4*3+"l"+Ct/2+","+_t/2,opacity:Te,stroke:De,"stroke-width":(Re=Ke*ze)+"px"};break;case"x":Ct=ze*Math.sqrt(2),_t=ze*Math.sqrt(2),ke="M-"+Ct/4+","+_t/4+"l"+Ct/2+",-"+_t/2+"M0,"+_t+"L"+Ct+",0M"+Ct/4*3+","+_t/4*5+"l"+Ct/2+",-"+_t/2+"M"+Ct/4*3+",-"+_t/4+"l"+Ct/2+","+_t/2+"M0,0L"+Ct+","+_t+"M-"+Ct/4+","+_t/4*3+"l"+Ct/2+","+_t/2,Re=ze-ze*Math.sqrt(1-Ke),He="path",Ye={d:ke,opacity:Te,stroke:De,"stroke-width":Re+"px"};break;case"|":He="path",He="path",Ye={d:ke="M"+(Ct=ze)/2+",0L"+Ct/2+","+(_t=ze),opacity:Te,stroke:De,"stroke-width":(Re=Ke*ze)+"px"};break;case"-":He="path",He="path",Ye={d:ke="M0,"+(_t=ze)/2+"L"+(Ct=ze)+","+_t/2,opacity:Te,stroke:De,"stroke-width":(Re=Ke*ze)+"px"};break;case"+":He="path",ke="M"+(Ct=ze)/2+",0L"+Ct/2+","+(_t=ze)+"M0,"+_t/2+"L"+Ct+","+_t/2,Re=ze-ze*Math.sqrt(1-Ke),He="path",Ye={d:ke,opacity:Te,stroke:De,"stroke-width":Re+"px"};break;case".":Ct=ze,_t=ze,Be=Ke<Math.PI/4?Math.sqrt(Ke*ze*ze/Math.PI):(ft=Ke,gt=Math.PI/4,Kt=1,ir=ze/2,Lt=ze/Math.sqrt(2),ir+(Lt-ir)*(ft-gt)/(Kt-gt)),He="circle",Ye={cx:Ct/2,cy:_t/2,r:Be,opacity:Te,fill:De}}var _e=[Qe||"noSh",We||"noBg",je||"noFg",ze,Ke].join(";"),et=pt._defs.select(".patterns").selectAll("#"+St).data([_e],k.identity);et.exit().remove(),et.enter().append("pattern").each(function(){var ft=S.select(this);if(ft.attr({id:St,width:Ct+"px",height:_t+"px",patternUnits:"userSpaceOnUse",patternTransform:vt?"scale(0.8)":""}),We){var gt=I(We),Kt=w.tinyRGB(gt),ir=gt.getAlpha(),Lt=ft.selectAll("rect").data([0]);Lt.exit().remove(),Lt.enter().append("rect").attr({width:Ct+"px",height:_t+"px",fill:Kt,"fill-opacity":ir})}var Ut=ft.selectAll(He).data([0]);Ut.exit().remove(),Ut.enter().append(He).attr(Ye)}),Pe.style("fill",Q(St,Ie)).style("fill-opacity",null),Pe.classed("pattern_filled",!0)},m.initGradients=function(Pe){k.ensureSingle(Pe._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),S.select(Pe).selectAll(".gradient_filled").classed("gradient_filled",!1)},m.initPatterns=function(Pe){k.ensureSingle(Pe._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),S.select(Pe).selectAll(".pattern_filled").classed("pattern_filled",!1)},m.getPatternAttr=function(Pe,Ce,Ie){return Pe&&k.isArrayOrTypedArray(Pe)?Ce<Pe.length?Pe[Ce]:Ie:Pe},m.pointStyle=function(Pe,Ce,Ie,Je){if(Pe.size()){var Qe=m.makePointStyleFns(Ce);Pe.each(function(ze){m.singlePointStyle(ze,S.select(this),Ce,Qe,Ie,Je)})}},m.singlePointStyle=function(Pe,Ce,Ie,Je,Qe,ze){var Ke=Ie.marker,ut=Ke.line;if(ze&&ze.i>=0&&void 0===Pe.i&&(Pe.i=ze.i),Ce.style("opacity",Je.selectedOpacityFn?Je.selectedOpacityFn(Pe):void 0===Pe.mo?Ke.opacity:Pe.mo),Je.ms2mrc){var ot;ot="various"===Pe.ms||"various"===Ke.size?3:Je.ms2mrc(Pe.ms),Pe.mrc=ot,Je.selectedSizeFn&&(ot=Pe.mrc=Je.selectedSizeFn(Pe));var We=m.symbolNumber(Pe.mx||Ke.symbol)||0;Pe.om=We%200>=100;var je=Ve(Pe,Ie),lt=q(Pe,Ie);Ce.attr("d",L(We,ot,je,lt))}var pt,St,Ct,vt=!1;if(Pe.so?(Ct=ut.outlierwidth,St=ut.outliercolor,pt=Ke.outliercolor):(Ct=(Pe.mlw+1||(ut||{}).width+1||(Pe.trace?(Pe.trace.marker.line||{}).width:0)+1)-1||0,St="mlc"in Pe?Pe.mlcc=Je.lineScale(Pe.mlc):k.isArrayOrTypedArray(ut.color)?w.defaultLine:ut.color,k.isArrayOrTypedArray(Ke.color)&&(pt=w.defaultLine,vt=!0),pt="mc"in Pe?Pe.mcc=Je.markerScale(Pe.mc):Ke.color||Ke.colors||"rgba(0,0,0,0)",Je.selectedColorFn&&(pt=Je.selectedColorFn(Pe))),Pe.om)Ce.call(w.stroke,pt).style({"stroke-width":(Ct||1)+"px",fill:"none"});else{Ce.style("stroke-width",(Pe.isBlank?0:Ct)+"px");var nt=Ke.gradient,ke=Pe.mgt;ke?vt=!0:ke=nt&&nt.type,k.isArrayOrTypedArray(ke)&&(i[ke=ke[0]]||(ke=0));var Re=Ke.pattern,Be=Re&&m.getPatternAttr(Re.shape,Pe.i,"");if(ke&&"none"!==ke){var He=Pe.mgc;He?vt=!0:He=nt.color;var Ye=Ie.uid;vt&&(Ye+="-"+Pe.i),m.gradient(Ce,Qe,Ye,ke,[[0,He],[1,pt]],"fill")}else if(Be){var Ue=!1,De=Re.fgcolor;!De&&ze&&ze.color&&(De=ze.color,Ue=!0);var ge=m.getPatternAttr(De,Pe.i,ze&&ze.color||null),Te=m.getPatternAttr(Re.bgcolor,Pe.i,null),_e=Re.fgopacity,et=m.getPatternAttr(Re.size,Pe.i,8),ft=m.getPatternAttr(Re.solidity,Pe.i,.3);Ue=Ue||Pe.mcc||k.isArrayOrTypedArray(Re.shape)||k.isArrayOrTypedArray(Re.bgcolor)||k.isArrayOrTypedArray(Re.fgcolor)||k.isArrayOrTypedArray(Re.size)||k.isArrayOrTypedArray(Re.solidity);var gt=Ie.uid;Ue&&(gt+="-"+Pe.i),m.pattern(Ce,"point",Qe,gt,Be,et,ft,Pe.mcc,Re.fillmode,Te,ge,_e)}else k.isArrayOrTypedArray(pt)?w.fill(Ce,pt[Pe.i]):w.fill(Ce,pt);Ct&&w.stroke(Ce,St)}},m.makePointStyleFns=function(Pe){var Ce={},Ie=Pe.marker;return Ce.markerScale=m.tryColorscale(Ie,""),Ce.lineScale=m.tryColorscale(Ie,"line"),v.traceIs(Pe,"symbols")&&(Ce.ms2mrc=b.isBubble(Pe)?p(Pe):function(){return(Ie.size||6)/2}),Pe.selectedpoints&&k.extendFlat(Ce,m.makeSelectedPointStyleFns(Pe)),Ce},m.makeSelectedPointStyleFns=function(Pe){var Ce={},Qe=Pe.marker||{},ze=(Pe.selected||{}).marker||{},Ke=(Pe.unselected||{}).marker||{},ot=ze.opacity,We=Ke.opacity,je=void 0!==ot,lt=void 0!==We;(k.isArrayOrTypedArray(Qe.opacity)||je||lt)&&(Ce.selectedOpacityFn=function(Be){var He=void 0===Be.mo?Qe.opacity:Be.mo;return Be.selected?je?ot:He:lt?We:d*He});var vt=Qe.color,pt=ze.color,St=Ke.color;(pt||St)&&(Ce.selectedColorFn=function(Be){var He=Be.mcc||vt;return Be.selected?pt||He:St||He});var Ct=Qe.size,_t=ze.size,nt=Ke.size,ke=void 0!==_t,Re=void 0!==nt;return v.traceIs(Pe,"symbols")&&(ke||Re)&&(Ce.selectedSizeFn=function(Be){var He=Be.mrc||Ct/2;return Be.selected?ke?_t/2:He:Re?nt/2:He}),Ce},m.makeSelectedTextStyleFns=function(Pe){var Ce={},ut=(Pe.textfont||{}).color,ot=((Pe.selected||{}).textfont||{}).color,We=((Pe.unselected||{}).textfont||{}).color;return Ce.selectedTextColorFn=function(je){var lt=je.tc||ut;return je.selected?ot||lt:We||(ot?lt:w.addOpacity(lt,d))},Ce},m.selectedPointStyle=function(Pe,Ce){if(Pe.size()&&Ce.selectedpoints){var Ie=m.makeSelectedPointStyleFns(Ce),Je=Ce.marker||{},Qe=[];Ie.selectedOpacityFn&&Qe.push(function(ze,Ke){ze.style("opacity",Ie.selectedOpacityFn(Ke))}),Ie.selectedColorFn&&Qe.push(function(ze,Ke){w.fill(ze,Ie.selectedColorFn(Ke))}),Ie.selectedSizeFn&&Qe.push(function(ze,Ke){var ut=Ke.mx||Je.symbol||0,ot=Ie.selectedSizeFn(Ke);ze.attr("d",L(m.symbolNumber(ut),ot,Ve(Ke,Ce),q(Ke,Ce))),Ke.mrc2=ot}),Qe.length&&Pe.each(function(ze){for(var Ke=S.select(this),ut=0;ut<Qe.length;ut++)Qe[ut](Ke,ze)})}},m.tryColorscale=function(Pe,Ce){var Ie=Ce?k.nestedProperty(Pe,Ce).get():Pe;return Ie&&(Ie.colorscale||Ie._colorAx)&&k.isArrayOrTypedArray(Ie.color)?r.makeColorScaleFuncFromTrace(Ie):k.identity};var D={start:1,end:-1,middle:0,bottom:1,top:-1};function y(Pe,Ce,Ie,Je,Qe){var ze=S.select(Pe.node().parentNode),Ke=-1!==Ce.indexOf("top")?"top":-1!==Ce.indexOf("bottom")?"bottom":"middle",ut=-1!==Ce.indexOf("left")?"end":-1!==Ce.indexOf("right")?"start":"middle",ot=Je?Je/.8+1:0,We=(c.lineCount(Pe)-1)*h+1,je=D[ut]*ot,lt=.75*Ie+D[Ke]*ot+(D[Ke]-1)*We*Ie/2;Pe.attr("text-anchor",ut),Qe||ze.attr("transform",n(je,lt))}function B(Pe,Ce){var Ie=Pe.ts||Ce.textfont.size;return R(Ie)&&Ie>0?Ie:0}m.textPointStyle=function(Pe,Ce,Ie){if(Pe.size()){var Je;if(Ce.selectedpoints){var Qe=m.makeSelectedTextStyleFns(Ce);Je=Qe.selectedTextColorFn}var ze=Ce.texttemplate,Ke=Ie._fullLayout;Pe.each(function(ut){var ot=S.select(this),We=ze?k.extractOption(ut,Ce,"txt","texttemplate"):k.extractOption(ut,Ce,"tx","text");if(We||0===We){if(ze){var je=Ce._module.formatLabels,lt=je?je(ut,Ce,Ke):{},vt={};A(vt,Ce,ut.i),We=k.texttemplateString(We,lt,Ke._d3locale,vt,ut,Ce._meta||{})}var St=ut.tp||Ce.textposition,Ct=B(ut,Ce),_t=Je?Je(ut):ut.tc||Ce.textfont.color;ot.call(m.font,ut.tf||Ce.textfont.family,Ct,_t).text(We).call(c.convertToTspans,Ie).call(y,St,Ct,ut.mrc)}else ot.remove()})}},m.selectedTextStyle=function(Pe,Ce){if(Pe.size()&&Ce.selectedpoints){var Ie=m.makeSelectedTextStyleFns(Ce);Pe.each(function(Je){var Qe=S.select(this),ze=Ie.selectedTextColorFn(Je),Ke=Je.tp||Ce.textposition,ut=B(Je,Ce);w.fill(Qe,ze);var ot=v.traceIs(Ce,"bar-like");y(Qe,Ke,ut,Je.mrc2||Je.mrc,ot)})}};var _,z;function V(Pe,Ce,Ie){return Ie&&(Pe=ue(Pe)),Ce?U(Pe[1]):H(Pe[0])}function H(Pe){var Ce=S.round(Pe,2);return _=Ce,Ce}function U(Pe){var Ce=S.round(Pe,2);return z=Ce,Ce}function G(Pe,Ce,Ie,Je){var Qe=Pe[0]-Ce[0],ze=Pe[1]-Ce[1],Ke=Ie[0]-Ce[0],ut=Ie[1]-Ce[1],ot=Math.pow(Qe*Qe+ze*ze,.25),We=Math.pow(Ke*Ke+ut*ut,.25),je=(We*We*Qe-ot*ot*Ke)*Je,lt=(We*We*ze-ot*ot*ut)*Je,vt=3*We*(ot+We),pt=3*ot*(ot+We);return[[H(Ce[0]+(vt&&je/vt)),U(Ce[1]+(vt&&lt/vt))],[H(Ce[0]-(pt&&je/pt)),U(Ce[1]-(pt&&lt/pt))]]}m.smoothopen=function(Pe,Ce){if(Pe.length<3)return"M"+Pe.join("L");var Qe,Ie="M"+Pe[0],Je=[];for(Qe=1;Qe<Pe.length-1;Qe++)Je.push(G(Pe[Qe-1],Pe[Qe],Pe[Qe+1],Ce));for(Ie+="Q"+Je[0][0]+" "+Pe[1],Qe=2;Qe<Pe.length-1;Qe++)Ie+="C"+Je[Qe-2][1]+" "+Je[Qe-1][0]+" "+Pe[Qe];return Ie+"Q"+Je[Pe.length-3][1]+" "+Pe[Pe.length-1]},m.smoothclosed=function(Pe,Ce){if(Pe.length<3)return"M"+Pe.join("L")+"Z";var ze,Ie="M"+Pe[0],Je=Pe.length-1,Qe=[G(Pe[Je],Pe[0],Pe[1],Ce)];for(ze=1;ze<Je;ze++)Qe.push(G(Pe[ze-1],Pe[ze],Pe[ze+1],Ce));for(Qe.push(G(Pe[Je-1],Pe[Je],Pe[0],Ce)),ze=1;ze<=Je;ze++)Ie+="C"+Qe[ze-1][1]+" "+Qe[ze][0]+" "+Pe[ze];return Ie+"C"+Qe[Je][1]+" "+Qe[0][0]+" "+Pe[0]+"Z"};var Y={hv:function(Pe,Ce,Ie){return"H"+H(Ce[0])+"V"+V(Ce,1,Ie)},vh:function(Pe,Ce,Ie){return"V"+U(Ce[1])+"H"+V(Ce,0,Ie)},hvh:function(Pe,Ce,Ie){return"H"+H((Pe[0]+Ce[0])/2)+"V"+U(Ce[1])+"H"+V(Ce,0,Ie)},vhv:function(Pe,Ce,Ie){return"V"+U((Pe[1]+Ce[1])/2)+"H"+H(Ce[0])+"V"+V(Ce,1,Ie)}},ee=function(Pe,Ce,Ie){return"L"+V(Ce,0,Ie)+","+V(Ce,1,Ie)};function ue(Pe,Ce){var Ie=Pe.backoff,Je=Pe.trace,Qe=Pe.d,ze=Pe.i;if(Ie&&Je&&Je.marker&&Je.marker.angle%360==0&&Je.line&&"spline"!==Je.line.shape){var Ke=k.isArrayOrTypedArray(Ie),ut=Pe,ot=Ce?Ce[0]:_||0,We=Ce?Ce[1]:z||0,je=ut[0],lt=ut[1],St=Math.atan2(lt-We,je-ot),Ct=Ke?Ie[ze]:Ie;if("auto"===Ct){var _t=ut.i;"scatter"===Je.type&&_t--;var nt=ut.marker,ke=nt.symbol;k.isArrayOrTypedArray(ke)&&(ke=ke[_t]);var Re=nt.size;k.isArrayOrTypedArray(Re)&&(Re=Re[_t]),Ct=nt?m.symbolBackOffs[m.symbolNumber(ke)]*Re:0,Ct+=m.getMarkerStandoff(Qe[_t],Je)||0}var Be=je-Ct*Math.cos(St),He=lt-Ct*Math.sin(St);(Be<=je&&Be>=ot||Be>=je&&Be<=ot)&&(He<=lt&&He>=We||He>=lt&&He<=We)&&(Pe=[Be,He])}return Pe}m.steps=function(Pe){var Ce=Y[Pe]||ee;return function(Ie){for(var Je="M"+H(Ie[0][0])+","+U(Ie[0][1]),Qe=Ie.length,ze=1;ze<Qe;ze++)Je+=Ce(Ie[ze-1],Ie[ze],ze===Qe-1);return Je}},m.applyBackoff=ue,m.makeTester=function(){var Pe=k.ensureSingleById(S.select("body"),"svg","js-plotly-tester",function(Ie){Ie.attr(o.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ce=k.ensureSingle(Pe,"path","js-reference-point",function(Ie){Ie.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});m.tester=Pe,m.testref=Ce},m.savedBBoxes={};var ce=0;function te(Pe){var Ce=Pe.getAttribute("data-unformatted");if(null!==Ce)return Ce+Pe.getAttribute("data-math")+Pe.getAttribute("text-anchor")+Pe.getAttribute("style")}function Q(Pe,Ce){if(!Pe)return null;var Ie=Ce._context,Je=Ie._exportedPlot?"":Ie._baseUrl||"";return Je?"url('"+Je+"#"+Pe+"')":"url(#"+Pe+")"}m.bBox=function(Pe,Ce,Ie){var Je,We,je;if(Ie||(Ie=te(Pe)),Ie){if(Je=m.savedBBoxes[Ie])return k.extendFlat({},Je)}else if(1===Pe.childNodes.length){var Qe=Pe.childNodes[0];if(Ie=te(Qe)){var ze=+Qe.getAttribute("x")||0,Ke=+Qe.getAttribute("y")||0,ut=Qe.getAttribute("transform");if(!ut){var ot=m.bBox(Qe,!1,Ie);return ze&&(ot.left+=ze,ot.right+=ze),Ke&&(ot.top+=Ke,ot.bottom+=Ke),ot}if(Je=m.savedBBoxes[Ie+="~"+ze+"~"+Ke+"~"+ut])return k.extendFlat({},Je)}}Ce?We=Pe:(je=m.tester.node(),We=Pe.cloneNode(!0),je.appendChild(We)),S.select(We).attr("transform",null).call(c.positionText,0,0);var lt=We.getBoundingClientRect(),vt=m.testref.node().getBoundingClientRect();Ce||je.removeChild(We);var pt={height:lt.height,width:lt.width,left:lt.left-vt.left,top:lt.top-vt.top,right:lt.right-vt.left,bottom:lt.bottom-vt.top};return ce>=1e4&&(m.savedBBoxes={},ce=0),Ie&&(m.savedBBoxes[Ie]=pt),ce++,k.extendFlat({},pt)},m.setClipUrl=function(Pe,Ce,Ie){Pe.attr("clip-path",Q(Ce,Ie))},m.getTranslate=function(Pe){var Qe=(Pe[Pe.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(ze,Ke,ut){return[Ke,ut].join(" ")}).split(" ");return{x:+Qe[0]||0,y:+Qe[1]||0}},m.setTranslate=function(Pe,Ce,Ie){var ze=Pe.attr?"attr":"setAttribute",Ke=Pe[Pe.attr?"attr":"getAttribute"]("transform")||"";return Ce=Ce||0,Ie=Ie||0,Ke=Ke.replace(/(\btranslate\(.*?\);?)/,"").trim(),Ke=(Ke+=n(Ce,Ie)).trim(),Pe[ze]("transform",Ke),Ke},m.getScale=function(Pe){var Qe=(Pe[Pe.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(ze,Ke,ut){return[Ke,ut].join(" ")}).split(" ");return{x:+Qe[0]||1,y:+Qe[1]||1}},m.setScale=function(Pe,Ce,Ie){var ze=Pe.attr?"attr":"setAttribute",Ke=Pe[Pe.attr?"attr":"getAttribute"]("transform")||"";return Ce=Ce||1,Ie=Ie||1,Ke=Ke.replace(/(\bscale\(.*?\);?)/,"").trim(),Ke=(Ke+="scale("+Ce+","+Ie+")").trim(),Pe[ze]("transform",Ke),Ke};var K=/\s*sc.*/;m.setPointGroupScale=function(Pe,Ce,Ie){if(Ce=Ce||1,Ie=Ie||1,Pe){var Je=1===Ce&&1===Ie?"":"scale("+Ce+","+Ie+")";Pe.each(function(){var Qe=(this.getAttribute("transform")||"").replace(K,"");Qe=(Qe+=Je).trim(),this.setAttribute("transform",Qe)})}};var Z=/translate\([^)]*\)\s*$/;function q(Pe,Ce){var Ie;return Pe&&(Ie=Pe.mf),void 0===Ie&&(Ie=Ce.marker&&Ce.marker.standoff||0),Ce._geo||Ce._xA?Ie:-Ie}m.setTextPointsScale=function(Pe,Ce,Ie){Pe&&Pe.each(function(){var Je,Qe=S.select(this),ze=Qe.select("text");if(ze.node()){var Ke=parseFloat(ze.attr("x")||0),ut=parseFloat(ze.attr("y")||0),ot=(Qe.attr("transform")||"").match(Z);Je=1===Ce&&1===Ie?[]:[n(Ke,ut),"scale("+Ce+","+Ie+")",n(-Ke,-ut)],ot&&Je.push(ot),Qe.attr("transform",Je.join(""))}})},m.getMarkerStandoff=q;var se,de,we,Ee,Me,Ne,fe=Math.atan2,re=Math.cos,$=Math.sin;function le(Pe,Ce){var Ie=Ce[0],Je=Ce[1];return[Ie*re(Pe)-Je*$(Pe),Ie*$(Pe)+Je*re(Pe)]}function Ve(Pe,Ce){var Ie=Pe.ma;void 0===Ie&&(Ie=Ce.marker.angle||0);var Je,Qe,ze=Ce.marker.angleref;if("previous"===ze||"north"===ze){if(Ce._geo){var Ke=Ce._geo.project(Pe.lonlat);Je=Ke[0],Qe=Ke[1]}else{var ut=Ce._xA,ot=Ce._yA;if(!ut||!ot)return 90;Je=ut.c2p(Pe.x),Qe=ot.c2p(Pe.y)}if(Ce._geo){var Ct,We=Pe.lonlat[0],je=Pe.lonlat[1],lt=Ce._geo.project([We,je+1e-5]),vt=Ce._geo.project([We+1e-5,je]),pt=fe(vt[1]-Qe,vt[0]-Je),St=fe(lt[1]-Qe,lt[0]-Je);if("north"===ze)Ct=Ie/180*Math.PI;else if("previous"===ze){var _t=We/180*Math.PI,nt=je/180*Math.PI,ke=se/180*Math.PI,Re=de/180*Math.PI,Be=ke-_t,He=re(Re)*$(Be),Ye=$(Re)*re(nt)-re(Re)*$(nt)*re(Be);Ct=-fe(He,Ye)-Math.PI,se=We,de=je}var Ue=le(pt,[re(Ct),0]),De=le(St,[$(Ct),0]);Ie=fe(Ue[1]+De[1],Ue[0]+De[0])/Math.PI*180,"previous"===ze&&(Ne!==Ce.uid||Pe.i!==Me+1)&&(Ie=null)}if("previous"===ze&&!Ce._geo)if(Ne===Ce.uid&&Pe.i===Me+1&&R(Je)&&R(Qe)){var ge=Je-we,Te=Qe-Ee,_e=Ce.line&&Ce.line.shape||"",et=_e.slice(_e.length-1);"h"===et&&(Te=0),"v"===et&&(ge=0),Ie+=fe(Te,ge)/Math.PI*180+90}else Ie=null}return we=Je,Ee=Qe,Me=Pe.i,Ne=Ce.uid,Ie}m.getMarkerAngle=Ve},90998:function(oe,J,t){"use strict";var c,o,f,h,S=t(95616),k=t(39898).round,l="M0,0Z",R=Math.sqrt(2),I=Math.sqrt(3),v=Math.PI,w=Math.cos,r=Math.sin;function n(b){return null===b}function d(b,p,A){if(!(b&&b%360!=0||p))return A;if(f===b&&h===p&&c===A)return o;function m(F,_){var z=w(F),V=r(F),H=_[0],U=_[1]+(p||0);return[H*z-U*V,H*V+U*z]}f=b,h=p,c=A;for(var u=b/180*v,g=0,C=0,T=S(A),L="",x=0;x<T.length;x++){var E=T[x],M=E[0],i=g,D=C;if("M"===M||"L"===M)g=+E[1],C=+E[2];else if("m"===M||"l"===M)g+=+E[1],C+=+E[2];else if("H"===M)g=+E[1];else if("h"===M)g+=+E[1];else if("V"===M)C=+E[1];else if("v"===M)C+=+E[1];else if("A"===M){g=+E[1],C=+E[2];var y=m(u,[+E[6],+E[7]]);E[6]=y[0],E[7]=y[1],E[3]=+E[3]+b}("H"===M||"V"===M)&&(M="L"),("h"===M||"v"===M)&&(M="l"),("m"===M||"l"===M)&&(g-=i,C-=D);var B=m(u,[g,C]);("H"===M||"V"===M)&&(M="L"),("M"===M||"L"===M||"m"===M||"l"===M)&&(E[1]=B[0],E[2]=B[1]),E[0]=M,L+=E[0]+E.slice(1).join(",")}return o=L,L}oe.exports={circle:{n:0,f:function(b,p,A){if(n(p))return l;var m=k(b,2),u="M"+m+",0A"+m+","+m+" 0 1,1 0,-"+m+"A"+m+","+m+" 0 0,1 "+m+",0Z";return A?d(p,A,u):u}},square:{n:1,f:function(b,p,A){if(n(p))return l;var m=k(b,2);return d(p,A,"M"+m+","+m+"H-"+m+"V-"+m+"H"+m+"Z")}},diamond:{n:2,f:function(b,p,A){if(n(p))return l;var m=k(1.3*b,2);return d(p,A,"M"+m+",0L0,"+m+"L-"+m+",0L0,-"+m+"Z")}},cross:{n:3,f:function(b,p,A){if(n(p))return l;var m=k(.4*b,2),u=k(1.2*b,2);return d(p,A,"M"+u+","+m+"H"+m+"V"+u+"H-"+m+"V"+m+"H-"+u+"V-"+m+"H-"+m+"V-"+u+"H"+m+"V-"+m+"H"+u+"Z")}},x:{n:4,f:function(b,p,A){if(n(p))return l;var m=k(.8*b/R,2),u="l"+m+","+m,g="l"+m+",-"+m,C="l-"+m+",-"+m,T="l-"+m+","+m;return d(p,A,"M0,"+m+u+g+C+g+C+T+C+T+u+T+u+"Z")}},"triangle-up":{n:5,f:function(b,p,A){if(n(p))return l;var m=k(2*b/I,2);return d(p,A,"M-"+m+","+k(b/2,2)+"H"+m+"L0,-"+k(b,2)+"Z")}},"triangle-down":{n:6,f:function(b,p,A){if(n(p))return l;var m=k(2*b/I,2);return d(p,A,"M-"+m+",-"+k(b/2,2)+"H"+m+"L0,"+k(b,2)+"Z")}},"triangle-left":{n:7,f:function(b,p,A){if(n(p))return l;var m=k(2*b/I,2);return d(p,A,"M"+k(b/2,2)+",-"+m+"V"+m+"L-"+k(b,2)+",0Z")}},"triangle-right":{n:8,f:function(b,p,A){if(n(p))return l;var m=k(2*b/I,2);return d(p,A,"M-"+k(b/2,2)+",-"+m+"V"+m+"L"+k(b,2)+",0Z")}},"triangle-ne":{n:9,f:function(b,p,A){if(n(p))return l;var m=k(.6*b,2),u=k(1.2*b,2);return d(p,A,"M-"+u+",-"+m+"H"+m+"V"+u+"Z")}},"triangle-se":{n:10,f:function(b,p,A){if(n(p))return l;var m=k(.6*b,2),u=k(1.2*b,2);return d(p,A,"M"+m+",-"+u+"V"+m+"H-"+u+"Z")}},"triangle-sw":{n:11,f:function(b,p,A){if(n(p))return l;var m=k(.6*b,2),u=k(1.2*b,2);return d(p,A,"M"+u+","+m+"H-"+m+"V-"+u+"Z")}},"triangle-nw":{n:12,f:function(b,p,A){if(n(p))return l;var m=k(.6*b,2),u=k(1.2*b,2);return d(p,A,"M-"+m+","+u+"V-"+m+"H"+u+"Z")}},pentagon:{n:13,f:function(b,p,A){if(n(p))return l;var m=k(.951*b,2),u=k(.588*b,2),g=k(-b,2),C=k(-.309*b,2);return d(p,A,"M"+m+","+C+"L"+u+","+k(.809*b,2)+"H-"+u+"L-"+m+","+C+"L0,"+g+"Z")}},hexagon:{n:14,f:function(b,p,A){if(n(p))return l;var m=k(b,2),u=k(b/2,2),g=k(b*I/2,2);return d(p,A,"M"+g+",-"+u+"V"+u+"L0,"+m+"L-"+g+","+u+"V-"+u+"L0,-"+m+"Z")}},hexagon2:{n:15,f:function(b,p,A){if(n(p))return l;var m=k(b,2),u=k(b/2,2),g=k(b*I/2,2);return d(p,A,"M-"+u+","+g+"H"+u+"L"+m+",0L"+u+",-"+g+"H-"+u+"L-"+m+",0Z")}},octagon:{n:16,f:function(b,p,A){if(n(p))return l;var m=k(.924*b,2),u=k(.383*b,2);return d(p,A,"M-"+u+",-"+m+"H"+u+"L"+m+",-"+u+"V"+u+"L"+u+","+m+"H-"+u+"L-"+m+","+u+"V-"+u+"Z")}},star:{n:17,f:function(b,p,A){if(n(p))return l;var m=1.4*b,u=k(.225*m,2),g=k(.951*m,2),C=k(.363*m,2),T=k(.588*m,2),L=k(-m,2),x=k(-.309*m,2),E=k(.118*m,2),M=k(.809*m,2);return d(p,A,"M"+u+","+x+"H"+g+"L"+C+","+E+"L"+T+","+M+"L0,"+k(.382*m,2)+"L-"+T+","+M+"L-"+C+","+E+"L-"+g+","+x+"H-"+u+"L0,"+L+"Z")}},hexagram:{n:18,f:function(b,p,A){if(n(p))return l;var m=k(.66*b,2),u=k(.38*b,2),g=k(.76*b,2);return d(p,A,"M-"+g+",0l-"+u+",-"+m+"h"+g+"l"+u+",-"+m+"l"+u+","+m+"h"+g+"l-"+u+","+m+"l"+u+","+m+"h-"+g+"l-"+u+","+m+"l-"+u+",-"+m+"h-"+g+"Z")}},"star-triangle-up":{n:19,f:function(b,p,A){if(n(p))return l;var m=k(b*I*.8,2),u=k(.8*b,2),g=k(1.6*b,2),C=k(4*b,2),T="A "+C+","+C+" 0 0 1 ";return d(p,A,"M-"+m+","+u+T+m+","+u+T+"0,-"+g+T+"-"+m+","+u+"Z")}},"star-triangle-down":{n:20,f:function(b,p,A){if(n(p))return l;var m=k(b*I*.8,2),u=k(.8*b,2),g=k(1.6*b,2),C=k(4*b,2),T="A "+C+","+C+" 0 0 1 ";return d(p,A,"M"+m+",-"+u+T+"-"+m+",-"+u+T+"0,"+g+T+m+",-"+u+"Z")}},"star-square":{n:21,f:function(b,p,A){if(n(p))return l;var m=k(1.1*b,2),u=k(2*b,2),g="A "+u+","+u+" 0 0 1 ";return d(p,A,"M-"+m+",-"+m+g+"-"+m+","+m+g+m+","+m+g+m+",-"+m+g+"-"+m+",-"+m+"Z")}},"star-diamond":{n:22,f:function(b,p,A){if(n(p))return l;var m=k(1.4*b,2),u=k(1.9*b,2),g="A "+u+","+u+" 0 0 1 ";return d(p,A,"M-"+m+",0"+g+"0,"+m+g+m+",0"+g+"0,-"+m+g+"-"+m+",0Z")}},"diamond-tall":{n:23,f:function(b,p,A){if(n(p))return l;var m=k(.7*b,2),u=k(1.4*b,2);return d(p,A,"M0,"+u+"L"+m+",0L0,-"+u+"L-"+m+",0Z")}},"diamond-wide":{n:24,f:function(b,p,A){if(n(p))return l;var m=k(1.4*b,2),u=k(.7*b,2);return d(p,A,"M0,"+u+"L"+m+",0L0,-"+u+"L-"+m+",0Z")}},hourglass:{n:25,f:function(b,p,A){if(n(p))return l;var m=k(b,2);return d(p,A,"M"+m+","+m+"H-"+m+"L"+m+",-"+m+"H-"+m+"Z")},noDot:!0},bowtie:{n:26,f:function(b,p,A){if(n(p))return l;var m=k(b,2);return d(p,A,"M"+m+","+m+"V-"+m+"L-"+m+","+m+"V-"+m+"Z")},noDot:!0},"circle-cross":{n:27,f:function(b,p,A){if(n(p))return l;var m=k(b,2);return d(p,A,"M0,"+m+"V-"+m+"M"+m+",0H-"+m+"M"+m+",0A"+m+","+m+" 0 1,1 0,-"+m+"A"+m+","+m+" 0 0,1 "+m+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(b,p,A){if(n(p))return l;var m=k(b,2),u=k(b/R,2);return d(p,A,"M"+u+","+u+"L-"+u+",-"+u+"M"+u+",-"+u+"L-"+u+","+u+"M"+m+",0A"+m+","+m+" 0 1,1 0,-"+m+"A"+m+","+m+" 0 0,1 "+m+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(b,p,A){if(n(p))return l;var m=k(b,2);return d(p,A,"M0,"+m+"V-"+m+"M"+m+",0H-"+m+"M"+m+","+m+"H-"+m+"V-"+m+"H"+m+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(b,p,A){if(n(p))return l;var m=k(b,2);return d(p,A,"M"+m+","+m+"L-"+m+",-"+m+"M"+m+",-"+m+"L-"+m+","+m+"M"+m+","+m+"H-"+m+"V-"+m+"H"+m+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(b,p,A){if(n(p))return l;var m=k(1.3*b,2);return d(p,A,"M"+m+",0L0,"+m+"L-"+m+",0L0,-"+m+"ZM0,-"+m+"V"+m+"M-"+m+",0H"+m)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(b,p,A){if(n(p))return l;var m=k(1.3*b,2),u=k(.65*b,2);return d(p,A,"M"+m+",0L0,"+m+"L-"+m+",0L0,-"+m+"ZM-"+u+",-"+u+"L"+u+","+u+"M-"+u+","+u+"L"+u+",-"+u)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(b,p,A){if(n(p))return l;var m=k(1.4*b,2);return d(p,A,"M0,"+m+"V-"+m+"M"+m+",0H-"+m)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(b,p,A){if(n(p))return l;var m=k(b,2);return d(p,A,"M"+m+","+m+"L-"+m+",-"+m+"M"+m+",-"+m+"L-"+m+","+m)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(b,p,A){if(n(p))return l;var m=k(1.2*b,2),u=k(.85*b,2);return d(p,A,"M0,"+m+"V-"+m+"M"+m+",0H-"+m+"M"+u+","+u+"L-"+u+",-"+u+"M"+u+",-"+u+"L-"+u+","+u)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(b,p,A){if(n(p))return l;var m=k(b/2,2),u=k(b,2);return d(p,A,"M"+m+","+u+"V-"+u+"M"+(m-u)+",-"+u+"V"+u+"M"+u+","+m+"H-"+u+"M-"+u+","+(m-u)+"H"+u)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(b,p,A){if(n(p))return l;var m=k(1.2*b,2),u=k(1.6*b,2),g=k(.8*b,2);return d(p,A,"M-"+m+","+g+"L0,0M"+m+","+g+"L0,0M0,-"+u+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(b,p,A){if(n(p))return l;var m=k(1.2*b,2),u=k(1.6*b,2),g=k(.8*b,2);return d(p,A,"M-"+m+",-"+g+"L0,0M"+m+",-"+g+"L0,0M0,"+u+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(b,p,A){if(n(p))return l;var m=k(1.2*b,2),u=k(1.6*b,2),g=k(.8*b,2);return d(p,A,"M"+g+","+m+"L0,0M"+g+",-"+m+"L0,0M-"+u+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(b,p,A){if(n(p))return l;var m=k(1.2*b,2),u=k(1.6*b,2),g=k(.8*b,2);return d(p,A,"M-"+g+","+m+"L0,0M-"+g+",-"+m+"L0,0M"+u+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(b,p,A){if(n(p))return l;var m=k(1.4*b,2);return d(p,A,"M"+m+",0H-"+m)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(b,p,A){if(n(p))return l;var m=k(1.4*b,2);return d(p,A,"M0,"+m+"V-"+m)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(b,p,A){if(n(p))return l;var m=k(b,2);return d(p,A,"M"+m+",-"+m+"L-"+m+","+m)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(b,p,A){if(n(p))return l;var m=k(b,2);return d(p,A,"M"+m+","+m+"L-"+m+",-"+m)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(b,p,A){if(n(p))return l;var m=k(b,2);return d(p,A,"M0,0L-"+m+","+k(2*b,2)+"H"+m+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(b,p,A){if(n(p))return l;var m=k(b,2);return d(p,A,"M0,0L-"+m+",-"+k(2*b,2)+"H"+m+"Z")},noDot:!0},"arrow-left":{n:47,f:function(b,p,A){if(n(p))return l;var m=k(2*b,2),u=k(b,2);return d(p,A,"M0,0L"+m+",-"+u+"V"+u+"Z")},noDot:!0},"arrow-right":{n:48,f:function(b,p,A){if(n(p))return l;var m=k(2*b,2),u=k(b,2);return d(p,A,"M0,0L-"+m+",-"+u+"V"+u+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(b,p,A){if(n(p))return l;var m=k(b,2);return d(p,A,"M-"+m+",0H"+m+"M0,0L-"+m+","+k(2*b,2)+"H"+m+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(b,p,A){if(n(p))return l;var m=k(b,2);return d(p,A,"M-"+m+",0H"+m+"M0,0L-"+m+",-"+k(2*b,2)+"H"+m+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(b,p,A){if(n(p))return l;var m=k(2*b,2),u=k(b,2);return d(p,A,"M0,-"+u+"V"+u+"M0,0L"+m+",-"+u+"V"+u+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(b,p,A){if(n(p))return l;var m=k(2*b,2),u=k(b,2);return d(p,A,"M0,-"+u+"V"+u+"M0,0L-"+m+",-"+u+"V"+u+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(b,p,A){if(n(p))return l;var m=v/2.5,u=2*b*w(m),g=2*b*r(m);return d(p,A,"M0,0L"+-u+","+g+"L"+u+","+g+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(b,p,A){if(n(p))return l;var m=v/4,u=2*b*w(m),g=2*b*r(m);return d(p,A,"M0,0L"+-u+","+g+"A "+2*b+","+2*b+" 0 0 1 "+u+","+g+"Z")},backoff:.4,noDot:!0}}},25673:function(oe){"use strict";oe.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(oe,J,t){"use strict";var S=t(92770),k=t(73972),l=t(89298),R=t(71828),I=t(45827);function v(w,r,n,c){var o=r["error_"+c]||{},h=[];if(o.visible&&-1!==["linear","log"].indexOf(n.type)){for(var d=I(o),b=0;b<w.length;b++){var p=w[b],A=p.i;if(void 0===A)A=b;else if(null===A)continue;var m=p[c];if(S(n.c2l(m))){var u=d(m,A);if(S(u[0])&&S(u[1])){var g=p[c+"s"]=m-u[0],C=p[c+"h"]=m+u[1];h.push(g,C)}}}var L=r._extremes[n._id],x=l.findExtremes(n,h,R.extendFlat({tozero:L.opts.tozero},{padded:!0}));L.min=L.min.concat(x.min),L.max=L.max.concat(x.max)}}oe.exports=function(r){for(var n=r.calcdata,c=0;c<n.length;c++){var o=n[c],f=o[0].trace;if(!0===f.visible&&k.traceIs(f,"errorBarsOK")){var h=l.getFromId(r,f.xaxis),d=l.getFromId(r,f.yaxis);v(o,f,h,"x"),v(o,f,d,"y")}}}},45827:function(oe){"use strict";function J(t,S){return"percent"===t?function(k){return Math.abs(k*S/100)}:"constant"===t?function(){return Math.abs(S)}:"sqrt"===t?function(k){return Math.sqrt(Math.abs(k))}:void 0}oe.exports=function(S){var k=S.type,l=S.symmetric;if("data"===k){var R=S.array||[];if(l)return function(n,c){var o=+R[c];return[o,o]};var I=S.arrayminus||[];return function(n,c){var o=+R[c],f=+I[c];return isNaN(o)&&isNaN(f)?[NaN,NaN]:[f||0,o||0]}}var v=J(k,S.value),w=J(k,S.valueminus);return l||void 0===S.valueminus?function(n){var c=v(n);return[c,c]}:function(n){return[w(n),v(n)]}}},97587:function(oe,J,t){"use strict";var S=t(92770),k=t(73972),l=t(71828),R=t(44467),I=t(25673);oe.exports=function(v,w,r,n){var c="error_"+n.axis,o=R.newContainer(w,c),f=v[c]||{};function h(g,C){return l.coerce(f,o,I,g,C)}if(!1!==h("visible",void 0!==f.array||void 0!==f.value||"sqrt"===f.type)){var p=h("type","array"in f?"data":"percent"),A=!0;"sqrt"!==p&&(A=h("symmetric",!(("data"===p?"arrayminus":"valueminus")in f))),"data"===p?(h("array"),h("traceref"),A||(h("arrayminus"),h("tracerefminus"))):("percent"===p||"constant"===p)&&(h("value"),A||h("valueminus"));var m="copy_"+n.inherit+"style";n.inherit&&(w["error_"+n.inherit]||{}).visible&&h(m,!(f.color||S(f.thickness)||S(f.width))),(!n.inherit||!o[m])&&(h("color",r),h("thickness"),h("width",k.traceIs(w,"gl3d")?0:4))}}},37369:function(oe,J,t){"use strict";var S=t(71828),k=t(30962).overrideAll,l=t(25673),R={error_x:S.extendFlat({},l),error_y:S.extendFlat({},l)};delete R.error_x.copy_zstyle,delete R.error_y.copy_zstyle,delete R.error_y.copy_ystyle;var I={error_x:S.extendFlat({},l),error_y:S.extendFlat({},l),error_z:S.extendFlat({},l)};delete I.error_x.copy_ystyle,delete I.error_y.copy_ystyle,delete I.error_z.copy_ystyle,delete I.error_z.copy_zstyle,oe.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:R,bar:R,histogram:R,scatter3d:k(I,"calc","nested"),scattergl:k(R,"calc","nested")}},supplyDefaults:t(97587),calc:t(84532),makeComputeError:t(45827),plot:t(19398),style:t(62662),hoverInfo:function v(w,r,n){(r.error_y||{}).visible&&(n.yerr=w.yh-w.y,r.error_y.symmetric||(n.yerrneg=w.y-w.ys)),(r.error_x||{}).visible&&(n.xerr=w.xh-w.x,r.error_x.symmetric||(n.xerrneg=w.x-w.xs))}}},19398:function(oe,J,t){"use strict";var S=t(39898),k=t(92770),l=t(91424),R=t(34098);oe.exports=function(w,r,n,c){var f=n.xaxis,h=n.yaxis,d=c&&c.duration>0,b=w._context.staticPlot;r.each(function(p){var g,A=p[0].trace,m=A.error_x||{},u=A.error_y||{};A.ids&&(g=function(x){return x.id});var C=R.hasMarkers(A)&&A.marker.maxdisplayed>0;!u.visible&&!m.visible&&(p=[]);var T=S.select(this).selectAll("g.errorbar").data(p,g);if(T.exit().remove(),p.length){m.visible||T.selectAll("path.xerror").remove(),u.visible||T.selectAll("path.yerror").remove(),T.style("opacity",1);var L=T.enter().append("g").classed("errorbar",!0);d&&L.style("opacity",0).transition().duration(c.duration).style("opacity",1),l.setClipUrl(T,n.layerClipId,w),T.each(function(x){var E=S.select(this),M=function I(v,w,r){var n={x:w.c2p(v.x),y:r.c2p(v.y)};return void 0!==v.yh&&(n.yh=r.c2p(v.yh),n.ys=r.c2p(v.ys),k(n.ys)||(n.noYS=!0,n.ys=r.c2p(v.ys,!0))),void 0!==v.xh&&(n.xh=w.c2p(v.xh),n.xs=w.c2p(v.xs),k(n.xs)||(n.noXS=!0,n.xs=w.c2p(v.xs,!0))),n}(x,f,h);if(!C||x.vis){var i,D=E.select("path.yerror");if(u.visible&&k(M.x)&&k(M.yh)&&k(M.ys)){var y=u.width;i="M"+(M.x-y)+","+M.yh+"h"+2*y+"m-"+y+",0V"+M.ys,M.noYS||(i+="m-"+y+",0h"+2*y),D.size()?d&&(D=D.transition().duration(c.duration).ease(c.easing)):D=E.append("path").style("vector-effect",b?"none":"non-scaling-stroke").classed("yerror",!0),D.attr("d",i)}else D.remove();var B=E.select("path.xerror");if(m.visible&&k(M.y)&&k(M.xh)&&k(M.xs)){var F=(m.copy_ystyle?u:m).width;i="M"+M.xh+","+(M.y-F)+"v"+2*F+"m0,-"+F+"H"+M.xs,M.noXS||(i+="m0,-"+F+"v"+2*F),B.size()?d&&(B=B.transition().duration(c.duration).ease(c.easing)):B=E.append("path").style("vector-effect",b?"none":"non-scaling-stroke").classed("xerror",!0),B.attr("d",i)}else B.remove()}})}})}},62662:function(oe,J,t){"use strict";var S=t(39898),k=t(7901);oe.exports=function(R){R.each(function(I){var v=I[0].trace,w=v.error_y||{},r=v.error_x||{},n=S.select(this);n.selectAll("path.yerror").style("stroke-width",w.thickness+"px").call(k.stroke,w.color),r.copy_ystyle&&(r=w),n.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(k.stroke,r.color)})}},77914:function(oe,J,t){"use strict";var S=t(41940),k=t(528).hoverlabel,l=t(1426).extendFlat;oe.exports={hoverlabel:{bgcolor:l({},k.bgcolor,{arrayOk:!0}),bordercolor:l({},k.bordercolor,{arrayOk:!0}),font:S({arrayOk:!0,editType:"none"}),align:l({},k.align,{arrayOk:!0}),namelength:l({},k.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(oe,J,t){"use strict";var S=t(71828),k=t(73972);function l(R,I,v,w){w=w||S.identity,Array.isArray(R)&&(I[0][v]=w(R))}oe.exports=function(I){var v=I.calcdata,w=I._fullLayout;function r(h){return function(d){return S.coerceHoverinfo({hoverinfo:d},{_module:h._module},w)}}for(var n=0;n<v.length;n++){var c=v[n],o=c[0].trace;if(!k.traceIs(o,"pie-like")){var f=k.traceIs(o,"2dMap")?l:S.fillArray;f(o.hoverinfo,c,"hi",r(o)),o.hovertemplate&&f(o.hovertemplate,c,"ht"),o.hoverlabel&&(f(o.hoverlabel.bgcolor,c,"hbg"),f(o.hoverlabel.bordercolor,c,"hbc"),f(o.hoverlabel.font.size,c,"hts"),f(o.hoverlabel.font.color,c,"htc"),f(o.hoverlabel.font.family,c,"htf"),f(o.hoverlabel.namelength,c,"hnl"),f(o.hoverlabel.align,c,"hta"))}}}},75914:function(oe,J,t){"use strict";var S=t(73972),k=t(88335).hover;oe.exports=function(R,I,v){var w=S.getComponentMethod("annotations","onClick")(R,R._hoverdata);function r(){R.emit("plotly_click",{points:R._hoverdata,event:I})}void 0!==v&&k(R,I,v,!0),R._hoverdata&&I&&I.target&&(w&&w.then?w.then(r):r(),I.stopImmediatePropagation&&I.stopImmediatePropagation())}},26675:function(oe){"use strict";oe.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(oe,J,t){"use strict";var S=t(71828),k=t(77914),l=t(38048);oe.exports=function(I,v,w,r){var c=S.extendFlat({},r.hoverlabel);v.hovertemplate&&(c.namelength=-1),l(I,v,function n(o,f){return S.coerce(I,v,k,o,f)},c)}},23469:function(oe,J,t){"use strict";var S=t(71828);J.getSubplot=function(w){return w.subplot||w.xaxis+w.yaxis||w.geo},J.isTraceInSubplots=function(w,r){if("splom"===w.type){for(var n=w.xaxes||[],c=w.yaxes||[],o=0;o<n.length;o++)for(var f=0;f<c.length;f++)if(-1!==r.indexOf(n[o]+c[f]))return!0;return!1}return-1!==r.indexOf(J.getSubplot(w))},J.flat=function(w,r){for(var n=new Array(w.length),c=0;c<w.length;c++)n[c]=r;return n},J.p2c=function(w,r){for(var n=new Array(w.length),c=0;c<w.length;c++)n[c]=w[c].p2c(r);return n},J.getDistanceFunction=function(w,r,n,c){return"closest"===w?c||J.quadrature(r,n):"x"===w.charAt(0)?r:n},J.getClosest=function(w,r,n){if(!1!==n.index)n.index>=0&&n.index<w.length?n.distance=0:n.index=!1;else for(var c=0;c<w.length;c++){var o=r(w[c]);o<=n.distance&&(n.index=c,n.distance=o)}return n},J.inbox=function(w,r,n){return w*r<0||0===w?n:1/0},J.quadrature=function(w,r){return function(n){var c=w(n),o=r(n);return Math.sqrt(c*c+o*o)}},J.makeEventData=function(w,r,n){var c="index"in w?w.index:w.pointNumber,o={data:r._input,fullData:r,curveNumber:r.index,pointNumber:c};if(r._indexToPoints){var f=r._indexToPoints[c];1===f.length?o.pointIndex=f[0]:o.pointIndices=f}else o.pointIndex=c;return r._module.eventData?o=r._module.eventData(o,w,r,n,c):("xVal"in w?o.x=w.xVal:"x"in w&&(o.x=w.x),"yVal"in w?o.y=w.yVal:"y"in w&&(o.y=w.y),w.xa&&(o.xaxis=w.xa),w.ya&&(o.yaxis=w.ya),void 0!==w.zLabelVal&&(o.z=w.zLabelVal)),J.appendArrayPointValue(o,r,c),o},J.appendArrayPointValue=function(w,r,n){var c=r._arrayAttrs;if(c)for(var o=0;o<c.length;o++){var f=c[o],h=l(f);if(void 0===w[h]){var b=R(S.nestedProperty(r,f).get(),n);void 0!==b&&(w[h]=b)}}},J.appendArrayMultiPointValues=function(w,r,n){var c=r._arrayAttrs;if(c)for(var o=0;o<c.length;o++){var f=c[o],h=l(f);if(void 0===w[h]){for(var d=S.nestedProperty(r,f).get(),b=new Array(n.length),p=0;p<n.length;p++)b[p]=R(d,n[p]);w[h]=b}}};var k={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function l(w){return k[w]||w}function R(w,r){return Array.isArray(r)?Array.isArray(w)&&Array.isArray(w[r[0]])?w[r[0]][r[1]]:void 0:w[r]}var I={x:!0,y:!0},v={"x unified":!0,"y unified":!0};J.isUnifiedHover=function(w){return"string"==typeof w&&!!v[w]},J.isXYhover=function(w){return"string"==typeof w&&!!I[w]}},88335:function(oe,J,t){"use strict";var S=t(39898),k=t(92770),l=t(84267),R=t(71828),I=R.strTranslate,v=R.strRotate,w=t(11086),r=t(63893),n=t(39918),c=t(91424),o=t(7901),f=t(28569),h=t(89298),d=t(73972),b=t(23469),p=t(26675),A=t(99017),m=t(43969),u=p.YANGLE,g=Math.PI*u/180,C=1/Math.sin(g),T=Math.cos(g),L=Math.sin(g),x=p.HOVERARROWSIZE,E=p.HOVERTEXTPAD,M={box:!0,ohlc:!0,violin:!0,candlestick:!0},i={scatter:!0,scattergl:!0,splom:!0};function D(q,fe,re,$,le){re||(re="xy");var se=Array.isArray(re)?re:[re],de=q._fullLayout,we=de._plots||[],Ee=we[re],Me=de._has("cartesian");if(Ee){var Ne=Ee.overlays.map(function(nr){return nr.id});se=se.concat(Ne)}for(var Ve=se.length,Pe=new Array(Ve),Ce=new Array(Ve),Ie=!1,Je=0;Je<Ve;Je++){var Qe=se[Je];if(we[Qe])Ie=!0,Pe[Je]=we[Qe].xaxis,Ce[Je]=we[Qe].yaxis;else{if(!de[Qe]||!de[Qe]._subplot)return void R.warn("Unrecognized subplot: "+Qe);var ze=de[Qe]._subplot;Pe[Je]=ze.xaxis,Ce[Je]=ze.yaxis}}var Ke=fe.hovermode||de.hovermode;if(Ke&&!Ie&&(Ke="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(Ke)||!q.calcdata||q.querySelector(".zoombox")||q._dragging)return f.unhoverRaw(q,fe);var ut=de.hoverdistance;-1===ut&&(ut=1/0);var ot=de.spikedistance;-1===ot&&(ot=1/0);var lt,vt,pt,St,Ct,_t,nt,ke,Re,Be,He,Ye,Ue,We=[],je=[],De={hLinePoint:null,vLinePoint:null},ge=!1;if(Array.isArray(fe))for(Ke="array",pt=0;pt<fe.length;pt++)(Ct=q.calcdata[fe[pt].curveNumber||0])&&(_t=Ct[0].trace,"skip"!==Ct[0].trace.hoverinfo&&(je.push(Ct),"h"===_t.orientation&&(ge=!0)));else{for(St=0;St<q.calcdata.length;St++)"skip"!==(_t=(Ct=q.calcdata[St])[0].trace).hoverinfo&&b.isTraceInSubplots(_t,se)&&(je.push(Ct),"h"===_t.orientation&&(ge=!0));var _e,et;if(le){if(!1===w.triggerHandler(q,"plotly_beforehover",fe))return;var ft=le.getBoundingClientRect();_e=fe.clientX-ft.left,et=fe.clientY-ft.top,de._calcInverseTransform(q);var gt=R.apply3DTransform(de._invTransform)(_e,et);if(et=gt[1],(_e=gt[0])<0||_e>Pe[0]._length||et<0||et>Ce[0]._length)return f.unhoverRaw(q,fe)}else _e="xpx"in fe?fe.xpx:Pe[0]._length/2,et="ypx"in fe?fe.ypx:Ce[0]._length/2;if(fe.pointerX=_e+Pe[0]._offset,fe.pointerY=et+Ce[0]._offset,lt="xval"in fe?b.flat(se,fe.xval):b.p2c(Pe,_e),vt="yval"in fe?b.flat(se,fe.yval):b.p2c(Ce,et),!k(lt[0])||!k(vt[0]))return R.warn("Fx.hover failed",fe,q),f.unhoverRaw(q,fe)}var Kt=1/0;function ir(nr,Xr){for(St=0;St<je.length;St++)if((Ct=je[St])&&Ct[0]&&Ct[0].trace&&!0===(_t=Ct[0].trace).visible&&0!==_t._length&&-1===["carpet","contourcarpet"].indexOf(_t._module.name)){if("splom"===_t.type?nt=se[ke=0]:(nt=b.getSubplot(_t),ke=se.indexOf(nt)),b.isUnifiedHover(Re=Ke)&&(Re=Re.charAt(0)),Ye={cd:Ct,trace:_t,xa:Pe[ke],ya:Ce[ke],maxHoverDistance:ut,maxSpikeDistance:ot,index:!1,distance:Math.min(Kt,ut),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:o.defaultLine,name:_t.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},de[nt]&&(Ye.subplot=de[nt]._subplot),de._splomScenes&&de._splomScenes[_t.uid]&&(Ye.scene=de._splomScenes[_t.uid]),Ue=We.length,"array"===Re){var Ur=fe[St];"pointNumber"in Ur?(Ye.index=Ur.pointNumber,Re="closest"):(Re="","xval"in Ur&&(Be=Ur.xval,Re="x"),"yval"in Ur&&(He=Ur.yval,Re=Re?"closest":"y"))}else void 0!==nr&&void 0!==Xr?(Be=nr,He=Xr):(Be=lt[ke],He=vt[ke]);if(0!==ut)if(_t._module&&_t._module.hoverPoints){var an=_t._module.hoverPoints(Ye,Be,He,Re,{finiteRange:!0,hoverLayer:de._hoverlayer});if(an)for(var Cn,En=0;En<an.length;En++)k((Cn=an[En]).x0)&&k(Cn.y0)&&We.push(G(Cn,Ke))}else R.log("Unrecognized trace type in hover:",_t);if("closest"===Ke&&We.length>Ue&&(We.splice(0,Ue),Kt=We[0].distance),Me&&0!==ot&&0===We.length){Ye.distance=ot,Ye.index=!1;var Fn=_t._module.hoverPoints(Ye,Be,He,"closest",{hoverLayer:de._hoverlayer});if(Fn&&(Fn=Fn.filter(function(hi){return hi.spikeDistance<=ot})),Fn&&Fn.length){var Vn,vi=Fn.filter(function(hi){return hi.xa.showspikes&&"hovered data"!==hi.xa.spikesnap});if(vi.length){var li=vi[0];k(li.x0)&&k(li.y0)&&(Vn=Ut(li),(!De.vLinePoint||De.vLinePoint.spikeDistance>Vn.spikeDistance)&&(De.vLinePoint=Vn))}var bi=Fn.filter(function(hi){return hi.ya.showspikes&&"hovered data"!==hi.ya.spikesnap});if(bi.length){var si=bi[0];k(si.x0)&&k(si.y0)&&(Vn=Ut(si),(!De.hLinePoint||De.hLinePoint.spikeDistance>Vn.spikeDistance)&&(De.hLinePoint=Vn))}}}}}function Lt(nr,Xr,Ur){for(var En,an=null,Cn=1/0,Fn=0;Fn<nr.length;Fn++)En=nr[Fn].spikeDistance,Ur&&0===Fn&&(En=-1/0),En<=Cn&&En<=Xr&&(an=nr[Fn],Cn=En);return an}function Ut(nr){return nr?{xa:nr.xa,ya:nr.ya,x:void 0!==nr.xSpike?nr.xSpike:(nr.x0+nr.x1)/2,y:void 0!==nr.ySpike?nr.ySpike:(nr.y0+nr.y1)/2,distance:nr.distance,spikeDistance:nr.spikeDistance,curveNumber:nr.trace.index,color:nr.color,pointNumber:nr.index}:null}ir();var Qt={fullLayout:de,container:de._hoverlayer,event:fe},Cr=q._spikepoints;q._spikepoints={vLinePoint:De.vLinePoint,hLinePoint:De.hLinePoint};var $t=function(){We.sort(function(nr,Xr){return nr.distance-Xr.distance}),We=function pe(q,fe){for(var re=fe.charAt(0),$=[],le=[],se=[],de=0;de<q.length;de++){var we=q[de];d.traceIs(we.trace,"bar-like")||d.traceIs(we.trace,"box-violin")?se.push(we):we.trace[re+"period"]?le.push(we):$.push(we)}return $.concat(le).concat(se)}(We,Ke)};$t();var rr=Ke.charAt(0),Lr=("x"===rr||"y"===rr)&&We[0]&&i[We[0].trace.type];if(Me&&0!==ot&&0!==We.length){var bt=Lt(We.filter(function(nr){return nr.ya.showspikes}),ot,Lr);De.hLinePoint=Ut(bt);var At=Lt(We.filter(function(nr){return nr.xa.showspikes}),ot,Lr);De.vLinePoint=Ut(At)}if(0===We.length){var It=f.unhoverRaw(q,fe);return Me&&(null!==De.hLinePoint||null!==De.vLinePoint)&&ue(Cr)&&Y(q,De,Qt),It}if(Me&&ue(Cr)&&Y(q,De,Qt),b.isXYhover(Re)&&0!==We[0].length&&"splom"!==We[0].trace.type){var Ft=We[0],Rt=(We=M[Ft.trace.type]?We.filter(function(nr){return nr.trace.index===Ft.trace.index}):[Ft]).length;ir(te("x",Ft,de),te("y",Ft,de));var $e,er=[],dr={},hr=0,wr=function(nr){var Xr=M[nr.trace.type]?y(nr):nr.trace.index;if(dr[Xr]){var Ur=dr[Xr]-1,an=er[Ur];Ur>0&&Math.abs(nr.distance)<Math.abs(an.distance)&&(er[Ur]=nr)}else hr++,dr[Xr]=hr,er.push(nr)};for($e=0;$e<Rt;$e++)wr(We[$e]);for($e=We.length-1;$e>Rt-1;$e--)wr(We[$e]);We=er,$t()}var Ze=q._hoverdata,zt=[],kt=Q(q),Xt=K(q);for(pt=0;pt<We.length;pt++){var ur=We[pt],vr=b.makeEventData(ur,ur.trace,ur.cd);if(!1!==ur.hovertemplate){var or=!1;ur.cd[ur.index]&&ur.cd[ur.index].ht&&(or=ur.cd[ur.index].ht),ur.hovertemplate=or||ur.trace.hovertemplate||!1}if(ur.xa&&ur.ya){var Ht=ur.x0+ur.xa._offset,pr=ur.x1+ur.xa._offset,xr=ur.y0+ur.ya._offset,Mr=ur.y1+ur.ya._offset,kr=Math.min(Ht,pr),un=Math.max(Ht,pr),Nr=Math.min(xr,Mr),Yr=Math.max(xr,Mr);vr.bbox={x0:kr+Xt,x1:un+Xt,y0:Nr+kt,y1:Yr+kt}}ur.eventData=[vr],zt.push(vr)}q._hoverdata=zt;var $r="y"===Ke&&(je.length>1||We.length>1)||"closest"===Ke&&ge&&We.length>1,Qr=o.combine(de.plot_bgcolor||o.background,de.paper_bgcolor),Wn=F(We,{gd:q,hovermode:Ke,rotateLabels:$r,bgColor:Qr,container:de._hoverlayer,outerContainer:de._paper.node(),commonLabelOpts:de.hoverlabel,hoverdistance:de.hoverdistance}),An=Wn.hoverLabels;if(b.isUnifiedHover(Ke)||(function z(q,fe,re,$){var ze,Ke,ut,ot,We,je,lt,le=fe?"xa":"ya",se=fe?"ya":"xa",de=0,we=1,Ee=q.size(),Me=new Array(Ee),Ne=0,Ve=$.minX,Pe=$.maxX,Ce=$.minY,Ie=$.maxY,Je=function(Be){return Be*re._invScaleX},Qe=function(Be){return Be*re._invScaleY};function vt(Be){var He=Be[0],Ye=Be[Be.length-1];if(ut=Ye.pos+Ye.dp+Ye.size-He.pmax,(Ke=He.pmin-He.pos-He.dp+He.size)>.01){for(We=Be.length-1;We>=0;We--)Be[We].dp+=Ke;ze=!1}if(!(ut<.01)){if(Ke<-.01){for(We=Be.length-1;We>=0;We--)Be[We].dp-=ut;ze=!1}if(ze){var Ue=0;for(ot=0;ot<Be.length;ot++)(je=Be[ot]).pos+je.dp+je.size>He.pmax&&Ue++;for(ot=Be.length-1;ot>=0&&!(Ue<=0);ot--)(je=Be[ot]).pos>He.pmax-1&&(je.del=!0,Ue--);for(ot=0;ot<Be.length&&!(Ue<=0);ot++)if((je=Be[ot]).pos<He.pmin+1)for(je.del=!0,Ue--,ut=2*je.size,We=Be.length-1;We>=0;We--)Be[We].dp-=ut;for(ot=Be.length-1;ot>=0&&!(Ue<=0);ot--)(je=Be[ot]).pos+je.dp+je.size>He.pmax&&(je.del=!0,Ue--)}}}for(q.each(function(Be){var He=Be[le],Ye=Be[se],Ue="x"===He._id.charAt(0),De=He.range;0===Ne&&De&&De[0]>De[1]!==Ue&&(we=-1);var ge=0,Te=Ue?re.width:re.height;if("x"===re.hovermode||"y"===re.hovermode){var gt,Kt,_e=V(Be,fe),et=Be.anchor,ft="end"===et?-1:1;if("middle"===et)Kt=(gt=Be.crossPos+(Ue?Qe(_e.y-Be.by/2):Je(Be.bx/2+Be.tx2width/2)))+(Ue?Qe(Be.by):Je(Be.bx));else if(Ue)Kt=(gt=Be.crossPos+Qe(x+_e.y)-Qe(Be.by/2-x))+Qe(Be.by);else{var ir=Je(ft*x+_e.x),Lt=ir+Je(ft*Be.bx);gt=Be.crossPos+Math.min(ir,Lt),Kt=Be.crossPos+Math.max(ir,Lt)}Ue?void 0!==Ce&&void 0!==Ie&&Math.min(Kt,Ie)-Math.max(gt,Ce)>1&&("left"===Ye.side?(ge=Ye._mainLinePosition,Te=re.width):Te=Ye._mainLinePosition):void 0!==Ve&&void 0!==Pe&&Math.min(Kt,Pe)-Math.max(gt,Ve)>1&&("top"===Ye.side?(ge=Ye._mainLinePosition,Te=re.height):Te=Ye._mainLinePosition)}Me[Ne++]=[{datum:Be,traceIndex:Be.trace.index,dp:0,pos:Be.pos,posref:Be.posref,size:Be.by*(Ue?C:1)/2,pmin:ge,pmax:Te}]}),Me.sort(function(Be,He){return Be[0].posref-He[0].posref||we*(He[0].traceIndex-Be[0].traceIndex)});!ze&&de<=Ee;){for(de++,ze=!0,ot=0;ot<Me.length-1;){var pt=Me[ot],St=Me[ot+1],Ct=pt[pt.length-1],_t=St[0];if((Ke=Ct.pos+Ct.dp+Ct.size-_t.pos-_t.dp+_t.size)>.01&&Ct.pmin===_t.pmin&&Ct.pmax===_t.pmax){for(We=St.length-1;We>=0;We--)St[We].dp+=Ke;for(pt.push.apply(pt,St),Me.splice(ot+1,1),lt=0,We=pt.length-1;We>=0;We--)lt+=pt[We].dp;for(ut=lt/pt.length,We=pt.length-1;We>=0;We--)pt[We].dp-=ut;ze=!1}else ot++}Me.forEach(vt)}for(ot=Me.length-1;ot>=0;ot--){var nt=Me[ot];for(We=nt.length-1;We>=0;We--){var ke=nt[We],Re=ke.datum;Re.offset=ke.dp,Re.del=ke.del}}}(An,$r,de,Wn.commonLabelBoundingBox),U(An,$r,de._invScaleX,de._invScaleY)),le&&le.tagName){var Tr=d.getComponentMethod("annotations","hasClickToShow")(q,zt);n(S.select(le),Tr?"pointer":"")}!le||$||!function ee(q,fe,re){if(!re||re.length!==q._hoverdata.length)return!0;for(var $=re.length-1;$>=0;$--){var le=re[$],se=q._hoverdata[$];if(le.curveNumber!==se.curveNumber||String(le.pointNumber)!==String(se.pointNumber)||String(le.pointNumbers)!==String(se.pointNumbers))return!0}return!1}(q,0,Ze)||(Ze&&q.emit("plotly_unhover",{event:fe,points:Ze}),q.emit("plotly_hover",{event:fe,points:q._hoverdata,xaxes:Pe,yaxes:Ce,xvals:lt,yvals:vt}))}function y(q){return[q.trace.index,q.index,q.x0,q.y0,q.name,q.attr,q.xa?q.xa._id:"",q.ya?q.ya._id:""].join(",")}J.hover=function(fe,re,$,le){fe=R.getGraphDiv(fe);var se=re.target;R.throttle(fe._fullLayout._uid+p.HOVERID,p.HOVERMINTIME,function(){D(fe,re,$,le,se)})},J.loneHover=function(fe,re){var $=!0;Array.isArray(fe)||($=!1,fe=[fe]);var le=re.gd,se=Q(le),de=K(le),Ne=F(fe.map(function(Qe){var ze=Qe._x0||Qe.x0||Qe.x||0,Ke=Qe._x1||Qe.x1||Qe.x||0,ut=Qe._y0||Qe.y0||Qe.y||0,ot=Qe._y1||Qe.y1||Qe.y||0,We=Qe.eventData;if(We){var je=Math.min(ze,Ke),lt=Math.max(ze,Ke),vt=Math.min(ut,ot),pt=Math.max(ut,ot),St=Qe.trace;if(d.traceIs(St,"gl3d")){var Ct=le._fullLayout[St.scene]._scene.container,_t=Ct.offsetLeft,nt=Ct.offsetTop;je+=_t,lt+=_t,vt+=nt,pt+=nt}We.bbox={x0:je+de,x1:lt+de,y0:vt+se,y1:pt+se},re.inOut_bbox&&re.inOut_bbox.push(We.bbox)}else We=!1;return{color:Qe.color||o.defaultLine,x0:Qe.x0||Qe.x||0,x1:Qe.x1||Qe.x||0,y0:Qe.y0||Qe.y||0,y1:Qe.y1||Qe.y||0,xLabel:Qe.xLabel,yLabel:Qe.yLabel,zLabel:Qe.zLabel,text:Qe.text,name:Qe.name,idealAlign:Qe.idealAlign,borderColor:Qe.borderColor,fontFamily:Qe.fontFamily,fontSize:Qe.fontSize,fontColor:Qe.fontColor,nameLength:Qe.nameLength,textAlign:Qe.textAlign,trace:Qe.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Qe.hovertemplate||!1,hovertemplateLabels:Qe.hovertemplateLabels||!1,eventData:We}}),{gd:le,hovermode:"closest",rotateLabels:false,bgColor:re.bgColor||o.background,container:S.select(re.container),outerContainer:re.outerContainer||re.container}).hoverLabels,Pe=0,Ce=0;return Ne.sort(function(Qe,ze){return Qe.y0-ze.y0}).each(function(Qe,ze){var Ke=Qe.y0-Qe.by/2;Qe.offset=Ke-5<Pe?Pe-Ke+5:0,Pe=Ke+Qe.by+Qe.offset,ze===re.anchorIndex&&(Ce=Qe.offset)}).each(function(Qe){Qe.offset-=Ce}),U(Ne,false,le._fullLayout._invScaleX,le._fullLayout._invScaleY),$?Ne:Ne.node()};var B=/<extra>([\s\S]*)<\/extra>/;function F(q,fe){var re=fe.gd,$=re._fullLayout,le=fe.hovermode,se=fe.rotateLabels,de=fe.bgColor,we=fe.container,Ee=fe.outerContainer,Me=fe.commonLabelOpts||{};if(0===q.length)return[[]];var Ne=fe.fontFamily||p.HOVERFONT,Ve=fe.fontSize||p.HOVERFONTSIZE,Pe=q[0],Ce=Pe.xa,Ie=Pe.ya,Je=le.charAt(0),Qe=Je+"Label",ze=Pe[Qe];if(void 0===ze&&"multicategory"===Ce.type)for(var Ke=0;Ke<q.length&&void 0===(ze=q[Ke][Qe]);Ke++);var ut=Z(re,Ee),ot=ut.top,We=ut.width,je=ut.height,lt=void 0!==ze&&Pe.distance<=fe.hoverdistance&&("x"===le||"y"===le);if(lt){var pt,St,vt=!0;for(pt=0;pt<q.length;pt++)if(vt&&void 0===q[pt].zLabel&&(vt=!1),St=q[pt].hoverinfo||q[pt].trace.hoverinfo){var Ct=Array.isArray(St)?St:St.split("+");if(-1===Ct.indexOf("all")&&-1===Ct.indexOf(le)){lt=!1;break}}vt&&(lt=!1)}var _t=we.selectAll("g.axistext").data(lt?[0]:[]);_t.enter().append("g").classed("axistext",!0),_t.exit().remove();var nt={minX:0,maxX:0,minY:0,maxY:0};if(_t.each(function(){var Rt=S.select(this),Gt=R.ensureSingle(Rt,"path","",function(Nr){Nr.style({"stroke-width":"1px"})}),jt=R.ensureSingle(Rt,"text","",function(Nr){Nr.attr("data-notex",1)}),er=Me.bgcolor||o.defaultLine,dr=Me.bordercolor||o.contrast(er),hr=o.contrast(er),wr={family:Me.font.family||Ne,size:Me.font.size||Ve,color:Me.font.color||hr};Gt.style({fill:er,stroke:dr}),jt.text(ze).call(c.font,wr).call(r.positionText,0,0).call(r.convertToTspans,re),Rt.attr("transform","");var Ze,zt,$e=Z(re,jt.node());if("x"===le){var kt="top"===Ce.side?"-":"";jt.attr("text-anchor","middle").call(r.positionText,0,"top"===Ce.side?ot-$e.bottom-x-E:ot-$e.top+x+E),zt=Ie._offset+("top"===Ce.side?0:Ie._length);var Xt=$e.width/2+E;(Ze=Ce._offset+(Pe.x0+Pe.x1)/2)<Xt?(Ze=Xt,Gt.attr("d","M-"+(Xt-x)+",0L-"+(Xt-2*x)+","+kt+x+"H"+Xt+"v"+kt+(2*E+$e.height)+"H-"+Xt+"V"+kt+x+"Z")):Ze>$.width-Xt?(Ze=$.width-Xt,Gt.attr("d","M"+(Xt-x)+",0L"+Xt+","+kt+x+"v"+kt+(2*E+$e.height)+"H-"+Xt+"V"+kt+x+"H"+(Xt-2*x)+"Z")):Gt.attr("d","M0,0L"+x+","+kt+x+"H"+Xt+"v"+kt+(2*E+$e.height)+"H-"+Xt+"V"+kt+x+"H-"+x+"Z"),nt.minX=Ze-Xt,nt.maxX=Ze+Xt,"top"===Ce.side?(nt.minY=zt-(2*E+$e.height),nt.maxY=zt-E):(nt.minY=zt+E,nt.maxY=zt+(2*E+$e.height))}else{var ur,vr,or;"right"===Ie.side?(ur="start",vr=1,or="",Ze=Ce._offset+Ce._length):(ur="end",vr=-1,or="-",Ze=Ce._offset),zt=Ie._offset+(Pe.y0+Pe.y1)/2,jt.attr("text-anchor",ur),Gt.attr("d","M0,0L"+or+x+","+x+"V"+(E+$e.height/2)+"h"+or+(2*E+$e.width)+"V-"+(E+$e.height/2)+"H"+or+x+"V-"+x+"Z"),nt.minY=zt-(E+$e.height/2),nt.maxY=zt+(E+$e.height/2),"right"===Ie.side?(nt.minX=Ze+x,nt.maxX=Ze+x+(2*E+$e.width)):(nt.minX=Ze-x-(2*E+$e.width),nt.maxX=Ze-x);var Mr,Ht=$e.height/2,pr=ot-$e.top-Ht,xr="clip"+$._uid+"commonlabel"+Ie._id;if(Ze<$e.width+2*E+x){Mr="M-"+(x+E)+"-"+Ht+"h-"+($e.width-E)+"V"+Ht+"h"+($e.width-E)+"Z";var kr=$e.width-Ze+E;r.positionText(jt,kr,pr),"end"===ur&&jt.selectAll("tspan").each(function(){var Nr=S.select(this),Yr=c.tester.append("text").text(Nr.text()).call(c.font,wr),$r=Z(re,Yr.node());Math.round($r.width)<Math.round($e.width)&&Nr.attr("x",kr-$r.width),Yr.remove()})}else r.positionText(jt,vr*(E+x),pr),Mr=null;var un=$._topclips.selectAll("#"+xr).data(Mr?[0]:[]);un.enter().append("clipPath").attr("id",xr).append("path"),un.exit().remove(),un.select("path").attr("d",Mr),c.setClipUrl(jt,Mr?xr:null,re)}Rt.attr("transform",I(Ze,zt))}),b.isUnifiedHover(le)){we.selectAll("g.hovertext").remove();var ke=q.filter(function(Rt){return"none"!==Rt.hoverinfo});if(0===ke.length)return[];var Re=$.hoverlabel,Be=Re.font,Ye={font:Be};A({showlegend:!0,legend:{title:{text:ze,font:Be},font:Be,bgcolor:Re.bgcolor,bordercolor:Re.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:$.legend?$.legend.traceorder:void 0,orientation:"v"}},Ye,re._fullData);var Ue=Ye.legend;Ue.entries=[];for(var De=0;De<ke.length;De++){var ge=ke[De];if("none"!==ge.hoverinfo){var Te=_(ge,!0,le,$,ze),_e=Te[0],et=Te[1];ge.name=et,ge.text=""!==et?et+" : "+_e:_e;var ft=ge.cd[ge.index];ft&&(ft.mc&&(ge.mc=ft.mc),ft.mcc&&(ge.mc=ft.mcc),ft.mlc&&(ge.mlc=ft.mlc),ft.mlcc&&(ge.mlc=ft.mlcc),ft.mlw&&(ge.mlw=ft.mlw),ft.mrc&&(ge.mrc=ft.mrc),ft.dir&&(ge.dir=ft.dir)),ge._distinct=!0,Ue.entries.push([ge])}}Ue.entries.sort(function(Rt,Gt){return Rt[0].trace.index-Gt[0].trace.index}),Ue.layer=we,Ue._inHover=!0,Ue._groupTitleFont=Re.grouptitlefont,m(re,Ue);var $t,rr,Lr,mr,gt=we.select("g.legend"),Kt=Z(re,gt.node()),ir=Kt.width+2*E,Lt=Kt.height+2*E,Ut=ke[0],Qt=(Ut.x0+Ut.x1)/2,Cr=(Ut.y0+Ut.y1)/2,wt=!(d.traceIs(Ut.trace,"bar-like")||d.traceIs(Ut.trace,"box-violin"));"y"===Je?wt?(rr=Cr-E,$t=Cr+E):(rr=Math.min.apply(null,ke.map(function(Rt){return Math.min(Rt.y0,Rt.y1)})),$t=Math.max.apply(null,ke.map(function(Rt){return Math.max(Rt.y0,Rt.y1)}))):rr=$t=R.mean(ke.map(function(Rt){return(Rt.y0+Rt.y1)/2}))-Lt/2,"x"===Je?wt?(Lr=Qt+E,mr=Qt-E):(Lr=Math.max.apply(null,ke.map(function(Rt){return Math.max(Rt.x0,Rt.x1)})),mr=Math.min.apply(null,ke.map(function(Rt){return Math.min(Rt.x0,Rt.x1)}))):Lr=mr=R.mean(ke.map(function(Rt){return(Rt.x0+Rt.x1)/2}))-ir/2;var At,It,bt=Ce._offset,ct=Ie._offset;return mr+=bt-ir,rr+=ct-Lt,At=(Lr+=bt)+ir<We&&Lr>=0?Lr:mr+ir<We&&mr>=0?mr:bt+ir<We?bt:Lr-Qt<Qt-mr+ir?We-ir:0,It=($t+=ct)+Lt<je&&$t>=0?$t:rr+Lt<je&&rr>=0?rr:ct+Lt<je?ct:$t-Cr<Cr-rr+Lt?je-Lt:0,gt.attr("transform",I((At+=E)-1,(It+=E)-1)),gt}var Ft=we.selectAll("g.hovertext").data(q,function(Rt){return y(Rt)});return Ft.enter().append("g").classed("hovertext",!0).each(function(){var Rt=S.select(this);Rt.append("rect").call(o.fill,o.addOpacity(de,.8)),Rt.append("text").classed("name",!0),Rt.append("path").style("stroke-width","1px"),Rt.append("text").classed("nums",!0).call(c.font,Ne,Ve)}),Ft.exit().remove(),Ft.each(function(Rt){var Gt=S.select(this).attr("transform",""),jt=Rt.color;Array.isArray(jt)&&(jt=jt[Rt.eventData[0].pointNumber]);var er=Rt.bgcolor||jt,dr=o.combine(o.opacity(er)?er:o.defaultLine,de),hr=o.combine(o.opacity(jt)?jt:o.defaultLine,de),wr=Rt.borderColor||o.contrast(dr),$e=_(Rt,lt,le,$,ze,Gt),Ze=$e[0],zt=$e[1],kt=Gt.select("text.nums").call(c.font,Rt.fontFamily||Ne,Rt.fontSize||Ve,Rt.fontColor||wr).text(Ze).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,re),Xt=Gt.select("text.name"),ur=0,vr=0;if(zt&&zt!==Ze){Xt.call(c.font,Rt.fontFamily||Ne,Rt.fontSize||Ve,hr).text(zt).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,re);var or=Z(re,Xt.node());ur=or.width+2*E,vr=or.height+2*E}else Xt.remove(),Gt.select("rect").remove();Gt.select("path").style({fill:dr,stroke:wr});var Ht=Rt.xa._offset+(Rt.x0+Rt.x1)/2,pr=Rt.ya._offset+(Rt.y0+Rt.y1)/2,xr=Math.abs(Rt.x1-Rt.x0),Mr=Math.abs(Rt.y1-Rt.y0),kr=Z(re,kt.node()),un=kr.width/$._invScaleX,Nr=kr.height/$._invScaleY;Rt.ty0=(ot-kr.top)/$._invScaleY,Rt.bx=un+2*E,Rt.by=Math.max(Nr+2*E,vr),Rt.anchor="start",Rt.txwidth=un,Rt.tx2width=ur,Rt.offset=0;var $r,Qr,Yr=(un+x+E+ur)*$._invScaleX;if(se)Rt.pos=Ht,$r=pr+Mr/2+Yr<=je,Qr=pr-Mr/2-Yr>=0,"top"!==Rt.idealAlign&&$r||!Qr?$r?(pr+=Mr/2,Rt.anchor="start"):Rt.anchor="middle":(pr-=Mr/2,Rt.anchor="end"),Rt.crossPos=pr;else{if(Rt.pos=pr,$r=Ht+xr/2+Yr<=We,Qr=Ht-xr/2-Yr>=0,"left"!==Rt.idealAlign&&$r||!Qr)if($r)Ht+=xr/2,Rt.anchor="start";else{Rt.anchor="middle";var Wn=Yr/2,An=Ht+Wn-We,Tr=Ht-Wn;An>0&&(Ht-=An),Tr<0&&(Ht+=-Tr)}else Ht-=xr/2,Rt.anchor="end";Rt.crossPos=Ht}kt.attr("text-anchor",Rt.anchor),ur&&Xt.attr("text-anchor",Rt.anchor),Gt.attr("transform",I(Ht,pr)+(se?v(u):""))}),{hoverLabels:Ft,commonLabelBoundingBox:nt}}function _(q,fe,re,$,le,se){var de="",we="";void 0!==q.nameOverride&&(q.name=q.nameOverride),q.name&&(q.trace._meta&&(q.name=R.templateString(q.name,q.trace._meta)),de=ce(q.name,q.nameLength));var Ee=re.charAt(0);void 0!==q.zLabel?(void 0!==q.xLabel&&(we+="x: "+q.xLabel+"<br>"),void 0!==q.yLabel&&(we+="y: "+q.yLabel+"<br>"),"choropleth"!==q.trace.type&&"choroplethmapbox"!==q.trace.type&&(we+=(we?"z: ":"")+q.zLabel)):fe&&q[Ee+"Label"]===le?we=q[("x"===Ee?"y":"x")+"Label"]||"":void 0===q.xLabel?void 0!==q.yLabel&&"scattercarpet"!==q.trace.type&&(we=q.yLabel):we=void 0===q.yLabel?q.xLabel:"("+q.xLabel+", "+q.yLabel+")",(q.text||0===q.text)&&!Array.isArray(q.text)&&(we+=(we?"<br>":"")+q.text),void 0!==q.extraText&&(we+=(we?"<br>":"")+q.extraText),se&&""===we&&!q.hovertemplate&&(""===de&&se.remove(),we=de);var Ne=q.hovertemplate||!1;if(Ne){var Ve=q.hovertemplateLabels||q;q[Ee+"Label"]!==le&&(Ve[Ee+"other"]=Ve[Ee+"Val"],Ve[Ee+"otherLabel"]=Ve[Ee+"Label"]),we=(we=R.hovertemplateString(Ne,Ve,$._d3locale,q.eventData[0]||{},q.trace._meta)).replace(B,function(Pe,Ce){return de=ce(Ce,q.nameLength),""})}return[we,de]}function V(q,fe){var re=0,$=q.offset;return fe&&($*=-L,re=q.offset*T),{x:re,y:$}}function U(q,fe,re,$){var le=function(de){return de*re},se=function(de){return de*$};q.each(function(de){var we=S.select(this);if(de.del)return we.remove();var Ee=we.select("text.nums"),Me=de.anchor,Ne="end"===Me?-1:1,Ve=function H(q){var fe={start:1,end:-1,middle:0}[q.anchor],re=fe*(x+E),$=re+fe*(q.txwidth+E);return"middle"===q.anchor&&(re-=q.tx2width/2,$+=q.txwidth/2+E),{alignShift:fe,textShiftX:re,text2ShiftX:$}}(de),Pe=V(de,fe),Ce=Pe.x,Ie=Pe.y,Je="middle"===Me;we.select("path").attr("d",Je?"M-"+le(de.bx/2+de.tx2width/2)+","+se(Ie-de.by/2)+"h"+le(de.bx)+"v"+se(de.by)+"h-"+le(de.bx)+"Z":"M0,0L"+le(Ne*x+Ce)+","+se(x+Ie)+"v"+se(de.by/2-x)+"h"+le(Ne*de.bx)+"v-"+se(de.by)+"H"+le(Ne*x+Ce)+"V"+se(Ie-x)+"Z");var Qe=Ce+Ve.textShiftX,ze=Ie+de.ty0-de.by/2+E,Ke=de.textAlign||"auto";"auto"!==Ke&&("left"===Ke&&"start"!==Me?(Ee.attr("text-anchor","start"),Qe=Je?-de.bx/2-de.tx2width/2+E:-de.bx-E):"right"===Ke&&"end"!==Me&&(Ee.attr("text-anchor","end"),Qe=Je?de.bx/2-de.tx2width/2-E:de.bx+E)),Ee.call(r.positionText,le(Qe),se(ze)),de.tx2width&&(we.select("text.name").call(r.positionText,le(Ve.text2ShiftX+Ve.alignShift*E+Ce),se(Ie+de.ty0-de.by/2+E)),we.select("rect").call(c.setRect,le(Ve.text2ShiftX+(Ve.alignShift-1)*de.tx2width/2+Ce),se(Ie-de.by/2-1),le(de.tx2width),se(de.by+2)))})}function G(q,fe){var re=q.index,$=q.trace||{},le=q.cd[0],se=q.cd[re]||{};function de(Pe){return Pe||k(Pe)&&0===Pe}var we=Array.isArray(re)?function(Pe,Ce){var Ie=R.castOption(le,re,Pe);return de(Ie)?Ie:R.extractOption({},$,"",Ce)}:function(Pe,Ce){return R.extractOption(se,$,Pe,Ce)};function Ee(Pe,Ce,Ie){var Je=we(Ce,Ie);de(Je)&&(q[Pe]=Je)}if(Ee("hoverinfo","hi","hoverinfo"),Ee("bgcolor","hbg","hoverlabel.bgcolor"),Ee("borderColor","hbc","hoverlabel.bordercolor"),Ee("fontFamily","htf","hoverlabel.font.family"),Ee("fontSize","hts","hoverlabel.font.size"),Ee("fontColor","htc","hoverlabel.font.color"),Ee("nameLength","hnl","hoverlabel.namelength"),Ee("textAlign","hta","hoverlabel.align"),q.posref="y"===fe||"closest"===fe&&"h"===$.orientation?q.xa._offset+(q.x0+q.x1)/2:q.ya._offset+(q.y0+q.y1)/2,q.x0=R.constrain(q.x0,0,q.xa._length),q.x1=R.constrain(q.x1,0,q.xa._length),q.y0=R.constrain(q.y0,0,q.ya._length),q.y1=R.constrain(q.y1,0,q.ya._length),void 0!==q.xLabelVal&&(q.xLabel="xLabel"in q?q.xLabel:h.hoverLabelText(q.xa,q.xLabelVal,$.xhoverformat),q.xVal=q.xa.c2d(q.xLabelVal)),void 0!==q.yLabelVal&&(q.yLabel="yLabel"in q?q.yLabel:h.hoverLabelText(q.ya,q.yLabelVal,$.yhoverformat),q.yVal=q.ya.c2d(q.yLabelVal)),void 0!==q.zLabelVal&&void 0===q.zLabel&&(q.zLabel=String(q.zLabelVal)),!(isNaN(q.xerr)||"log"===q.xa.type&&q.xerr<=0)){var Me=h.tickText(q.xa,q.xa.c2l(q.xerr),"hover").text;q.xLabel+=void 0!==q.xerrneg?" +"+Me+" / -"+h.tickText(q.xa,q.xa.c2l(q.xerrneg),"hover").text:" \xb1 "+Me,"x"===fe&&(q.distance+=1)}if(!(isNaN(q.yerr)||"log"===q.ya.type&&q.yerr<=0)){var Ne=h.tickText(q.ya,q.ya.c2l(q.yerr),"hover").text;q.yLabel+=void 0!==q.yerrneg?" +"+Ne+" / -"+h.tickText(q.ya,q.ya.c2l(q.yerrneg),"hover").text:" \xb1 "+Ne,"y"===fe&&(q.distance+=1)}var Ve=q.hoverinfo||q.trace.hoverinfo;return Ve&&"all"!==Ve&&(-1===(Ve=Array.isArray(Ve)?Ve:Ve.split("+")).indexOf("x")&&(q.xLabel=void 0),-1===Ve.indexOf("y")&&(q.yLabel=void 0),-1===Ve.indexOf("z")&&(q.zLabel=void 0),-1===Ve.indexOf("text")&&(q.text=void 0),-1===Ve.indexOf("name")&&(q.name=void 0)),q}function Y(q,fe,re){var Me,Ne,$=re.container,le=re.fullLayout,se=le._size,de=re.event,we=!!fe.hLinePoint,Ee=!!fe.vLinePoint;if($.selectAll(".spikeline").remove(),Ee||we){var Ve=o.combine(le.plot_bgcolor,le.paper_bgcolor);if(we){var Ce,Ie,Pe=fe.hLinePoint;Me=Pe&&Pe.xa,"cursor"===(Ne=Pe&&Pe.ya).spikesnap?(Ce=de.pointerX,Ie=de.pointerY):(Ce=Me._offset+Pe.x,Ie=Ne._offset+Pe.y);var We,je,Qe=l.readability(Pe.color,Ve)<1.5?o.contrast(Ve):Pe.color,ze=Ne.spikemode,Ke=Ne.spikethickness,ut=Ne.spikecolor||Qe,ot=h.getPxPosition(q,Ne);if(-1!==ze.indexOf("toaxis")||-1!==ze.indexOf("across")){if(-1!==ze.indexOf("toaxis")&&(We=ot,je=Ce),-1!==ze.indexOf("across")){var lt=Ne._counterDomainMin,vt=Ne._counterDomainMax;"free"===Ne.anchor&&(lt=Math.min(lt,Ne.position),vt=Math.max(vt,Ne.position)),We=se.l+lt*se.w,je=se.l+vt*se.w}$.insert("line",":first-child").attr({x1:We,x2:je,y1:Ie,y2:Ie,"stroke-width":Ke,stroke:ut,"stroke-dasharray":c.dashStyle(Ne.spikedash,Ke)}).classed("spikeline",!0).classed("crisp",!0),$.insert("line",":first-child").attr({x1:We,x2:je,y1:Ie,y2:Ie,"stroke-width":Ke+2,stroke:Ve}).classed("spikeline",!0).classed("crisp",!0)}-1!==ze.indexOf("marker")&&$.insert("circle",":first-child").attr({cx:ot+("right"!==Ne.side?Ke:-Ke),cy:Ie,r:Ke,fill:ut}).classed("spikeline",!0)}if(Ee){var St,Ct,pt=fe.vLinePoint;Ne=pt&&pt.ya,"cursor"===(Me=pt&&pt.xa).spikesnap?(St=de.pointerX,Ct=de.pointerY):(St=Me._offset+pt.x,Ct=Ne._offset+pt.y);var Ye,Ue,nt=l.readability(pt.color,Ve)<1.5?o.contrast(Ve):pt.color,ke=Me.spikemode,Re=Me.spikethickness,Be=Me.spikecolor||nt,He=h.getPxPosition(q,Me);if(-1!==ke.indexOf("toaxis")||-1!==ke.indexOf("across")){if(-1!==ke.indexOf("toaxis")&&(Ye=He,Ue=Ct),-1!==ke.indexOf("across")){var De=Me._counterDomainMin,ge=Me._counterDomainMax;"free"===Me.anchor&&(De=Math.min(De,Me.position),ge=Math.max(ge,Me.position)),Ye=se.t+(1-ge)*se.h,Ue=se.t+(1-De)*se.h}$.insert("line",":first-child").attr({x1:St,x2:St,y1:Ye,y2:Ue,"stroke-width":Re,stroke:Be,"stroke-dasharray":c.dashStyle(Me.spikedash,Re)}).classed("spikeline",!0).classed("crisp",!0),$.insert("line",":first-child").attr({x1:St,x2:St,y1:Ye,y2:Ue,"stroke-width":Re+2,stroke:Ve}).classed("spikeline",!0).classed("crisp",!0)}-1!==ke.indexOf("marker")&&$.insert("circle",":first-child").attr({cx:St,cy:He-("top"!==Me.side?Re:-Re),r:Re,fill:Be}).classed("spikeline",!0)}}}function ue(q,fe){return!fe||fe.vLinePoint!==q._spikepoints.vLinePoint||fe.hLinePoint!==q._spikepoints.hLinePoint}function ce(q,fe){return r.plainText(q||"",{len:fe,allowedTags:["br","sub","sup","b","i","em"]})}function te(q,fe,re){var $=fe[q+"a"],le=fe[q+"Val"],se=fe.cd[0];if("category"===$.type||"multicategory"===$.type)le=$._categoriesMap[le];else if("date"===$.type){var de=fe.trace[q+"periodalignment"];if(de){var we=fe.cd[fe.index],Ee=we[q+"Start"];void 0===Ee&&(Ee=we[q]);var Me=we[q+"End"];void 0===Me&&(Me=we[q]);var Ne=Me-Ee;"end"===de?le+=Ne:"middle"===de&&(le+=Ne/2)}le=$.d2c(le)}return se&&se.t&&se.t.posLetter===$._id&&("group"===re.boxmode||"group"===re.violinmode)&&(le+=se.t.dPos),le}function Q(q){return q.offsetTop+q.clientTop}function K(q){return q.offsetLeft+q.clientLeft}function Z(q,fe){var re=q._fullLayout,$=fe.getBoundingClientRect(),le=$.left,se=$.top,de=le+$.width,we=se+$.height,Ee=R.apply3DTransform(re._invTransform)(le,se),Me=R.apply3DTransform(re._invTransform)(de,we),Ne=Ee[0],Ve=Ee[1],Pe=Me[0],Ce=Me[1];return{x:Ne,y:Ve,width:Pe-Ne,height:Ce-Ve,top:Math.min(Ve,Ce),left:Math.min(Ne,Pe),right:Math.max(Ne,Pe),bottom:Math.max(Ve,Ce)}}},38048:function(oe,J,t){"use strict";var S=t(71828),k=t(7901),l=t(23469).isUnifiedHover;oe.exports=function(I,v,w,r){r=r||{};var n=v.legend;function c(o){r.font[o]||(r.font[o]=n?v.legend.font[o]:v.font[o])}v&&l(v.hovermode)&&(r.font||(r.font={}),c("size"),c("family"),c("color"),n?(r.bgcolor||(r.bgcolor=k.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),w("hoverlabel.bgcolor",r.bgcolor),w("hoverlabel.bordercolor",r.bordercolor),w("hoverlabel.namelength",r.namelength),S.coerceFont(w,"hoverlabel.font",r.font),w("hoverlabel.align",r.align)}},98212:function(oe,J,t){"use strict";var S=t(71828),k=t(528);oe.exports=function(R,I){function v(w,r){return void 0!==I[w]?I[w]:S.coerce(R,I,k,w,r)}return v("clickmode"),v("hovermode")}},30211:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(28569),R=t(23469),I=t(528),v=t(88335);oe.exports={moduleType:"component",name:"fx",constants:t(26675),schema:{layout:I},attributes:t(77914),layoutAttributes:I,supplyLayoutGlobalDefaults:t(22774),supplyDefaults:t(54268),supplyLayoutDefaults:t(34938),calc:t(30732),getDistanceFunction:R.getDistanceFunction,getClosest:R.getClosest,inbox:R.inbox,quadrature:R.quadrature,appendArrayPointValue:R.appendArrayPointValue,castHoverOption:function r(c,o,f){return k.castOption(c,o,"hoverlabel."+f)},castHoverinfo:function n(c,o,f){return k.castOption(c,f,"hoverinfo",function h(d){return k.coerceHoverinfo({hoverinfo:d},{_module:c._module},o)})},hover:v.hover,unhover:l.unhover,loneHover:v.loneHover,loneUnhover:function w(c){var o=k.isD3Selection(c)?c:S.select(c);o.selectAll("g.hovertext").remove(),o.selectAll(".spikeline").remove()},click:t(75914)}},528:function(oe,J,t){"use strict";var S=t(26675),k=t(41940),l=k({editType:"none"});l.family.dflt=S.HOVERFONT,l.size.dflt=S.HOVERFONTSIZE,oe.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:l,grouptitlefont:k({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(oe,J,t){"use strict";var S=t(71828),k=t(528),l=t(98212),R=t(38048);oe.exports=function(v,w){function r(d,b){return S.coerce(v,w,k,d,b)}l(v,w)&&(r("hoverdistance"),r("spikedistance")),"select"===r("dragmode")&&r("selectdirection");var o=w._has("mapbox"),f=w._has("geo"),h=w._basePlotModules.length;"zoom"===w.dragmode&&((o||f)&&1===h||o&&f&&2===h)&&(w.dragmode="pan"),R(v,w,r),S.coerceFont(r,"hoverlabel.grouptitlefont",w.hoverlabel.font)}},22774:function(oe,J,t){"use strict";var S=t(71828),k=t(38048),l=t(528);oe.exports=function(I,v){k(I,v,function w(r,n){return S.coerce(I,v,l,r,n)})}},83312:function(oe,J,t){"use strict";var S=t(71828),k=t(30587).counter,l=t(27670).Y,R=t(85555).idRegex,I=t(44467),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[k("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[R.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[R.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:l({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function w(f,h,d){var b=h[d+"axes"],p=Object.keys((f._splomAxes||{})[d]||{});return Array.isArray(b)?b:p.length?p:void 0}function n(f,h,d,b,p,A){var m=h(f+"gap",d),u=h("domain."+f);h(f+"side",b);for(var g=new Array(p),C=u[0],T=(u[1]-C)/(p-m),L=T*(1-m),x=0;x<p;x++){var E=C+T*x;g[A?p-1-x:x]=[E,E+L]}return g}function o(f,h,d,b,p){var m,A=new Array(d);function u(g,C){-1!==h.indexOf(C)&&void 0===b[C]?(A[g]=C,b[C]=g):A[g]=""}if(Array.isArray(f))for(m=0;m<d;m++)u(m,f[m]);else for(u(0,p),m=1;m<d;m++)u(m,p+(m+1));return A}oe.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:function r(f,h){var d=f.grid||{},b=w(h,d,"x"),p=w(h,d,"y");if(f.grid||b||p){var C,T,A=Array.isArray(d.subplots)&&Array.isArray(d.subplots[0]),m=Array.isArray(b),u=Array.isArray(p),g=m&&b!==d.xaxes&&u&&p!==d.yaxes;A?(C=d.subplots.length,T=d.subplots[0].length):(u&&(C=p.length),m&&(T=b.length));var L=I.newContainer(h,"grid"),E=x("rows",C),M=x("columns",T);if(E*M>1){A||m||u||"independent"===x("pattern")&&(A=!0),L._hasSubplotGrid=A;var _,z,y="top to bottom"===x("roworder"),F=A?.3:.1;g&&h._splomGridDflt&&(_=h._splomGridDflt.xside,z=h._splomGridDflt.yside),L._domains={x:n("x",x,A?.2:.1,_,M),y:n("y",x,F,z,E,y)}}else delete h.grid}function x(V,H){return S.coerce(d,L,v,V,H)}},contentDefaults:function c(f,h){var d=h.grid;if(d&&d._domains){var C,T,L,x,E,M,i,b=f.grid||{},p=h._subplots,A=d._hasSubplotGrid,m=d.rows,u=d.columns,g="independent"===d.pattern,D=d._axisMap={};if(A){var y=b.subplots||[];M=d.subplots=new Array(m);var B=1;for(C=0;C<m;C++){var F=M[C]=new Array(u),_=y[C]||[];for(T=0;T<u;T++)if(g?(E=1===B?"xy":"x"+B+"y"+B,B++):E=_[T],F[T]="",-1!==p.cartesian.indexOf(E)){if(i=E.indexOf("y"),L=E.slice(0,i),x=E.slice(i),void 0!==D[L]&&D[L]!==T||void 0!==D[x]&&D[x]!==C)continue;F[T]=E,D[L]=T,D[x]=C}}}else{var z=w(h,b,"x"),V=w(h,b,"y");d.xaxes=o(z,p.xaxis,u,D,"x"),d.yaxes=o(V,p.yaxis,m,D,"y")}var H=d._anchors={},U="top to bottom"===d.roworder;for(var G in D){var ue,ce,pe,Y=G.charAt(0),ee=d[Y+"side"];if(ee.length<8)H[G]="free";else if("x"===Y){if("t"===ee.charAt(0)===U?(ue=0,ce=1,pe=m):(ue=m-1,ce=-1,pe=-1),A){var te=D[G];for(C=ue;C!==pe;C+=ce)if((E=M[C][te])&&(i=E.indexOf("y"),E.slice(0,i)===G)){H[G]=E.slice(i);break}}else for(C=ue;C!==pe;C+=ce)if(-1!==p.cartesian.indexOf(G+(x=d.yaxes[C]))){H[G]=x;break}}else if("l"===ee.charAt(0)?(ue=0,ce=1,pe=u):(ue=u-1,ce=-1,pe=-1),A){var Q=D[G];for(C=ue;C!==pe;C+=ce)if((E=M[Q][C])&&(i=E.indexOf("y"),E.slice(i)===G)){H[G]=E.slice(0,i);break}}else for(C=ue;C!==pe;C+=ce)if(-1!==p.cartesian.indexOf((L=d.xaxes[C])+G)){H[G]=L;break}}}}}},69819:function(oe,J,t){"use strict";var S=t(85555),k=t(44467).templatedArray;t(24695),oe.exports=k("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",S.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",S.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(oe,J,t){"use strict";var S=t(92770),k=t(58163);oe.exports=function(R,I,v,w){I=I||{};var r="log"===v&&"linear"===I.type;if(r||"linear"===v&&"log"===I.type)for(var f,h,c=R._fullLayout.images,o=I._id.charAt(0),d=0;d<c.length;d++)if(h="images["+d+"].",(f=c[d])[o+"ref"]===I._id){var b=f[o],p=f["size"+o],A=null,m=null;if(r){A=k(b,I.range);var u=p/Math.pow(10,A)/2;m=2*Math.log(u+Math.sqrt(1+u*u))/Math.LN10}else m=(A=Math.pow(10,b))*(Math.pow(10,p/2)-Math.pow(10,-p/2));S(A)?S(m)||(m=null):(A=null,m=null),w(h+o,A),w(h+"size"+o,m)}}},81603:function(oe,J,t){"use strict";var S=t(71828),k=t(89298),l=t(85501),R=t(69819);function v(w,r,n){function c(u,g){return S.coerce(w,r,R,u,g)}var o=c("source");if(!c("visible",!!o))return r;c("layer"),c("xanchor"),c("yanchor"),c("sizex"),c("sizey"),c("sizing"),c("opacity");for(var h={_fullLayout:n},d=["x","y"],b=0;b<2;b++){var p=d[b],A=k.coerceRef(w,r,h,p,"paper",void 0);"paper"!==A&&k.getFromId(h,A)._imgIndices.push(r._index),k.coercePosition(r,h,c,A,p,0)}return r}oe.exports=function(r,n){l(r,n,{name:"images",handleItemDefaults:v})}},80750:function(oe,J,t){"use strict";var S=t(39898),k=t(91424),l=t(89298),R=t(41675),I=t(77922);oe.exports=function(w){var f,h,r=w._fullLayout,n=[],c={},o=[];for(h=0;h<r.images.length;h++){var d=r.images[h];if(d.visible)if("below"===d.layer&&"paper"!==d.xref&&"paper"!==d.yref){f=R.ref2id(d.xref)+R.ref2id(d.yref);var b=r._plots[f];if(!b){o.push(d);continue}b.mainplot&&(f=b.mainplot.id),c[f]||(c[f]=[]),c[f].push(d)}else"above"===d.layer?n.push(d):o.push(d)}var p_x={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},p_y={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function A(x){var E=S.select(this);if(this._imgSrc!==x.source)if(E.attr("xmlns",I.svg),x.source&&"data:"===x.source.slice(0,5))E.attr("xlink:href",x.source),this._imgSrc=x.source;else{var M=new Promise(function(i){var D=new Image;function y(){E.remove(),i()}this.img=D,D.setAttribute("crossOrigin","anonymous"),D.onerror=y,D.onload=function(){var B=document.createElement("canvas");B.width=this.width,B.height=this.height,B.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var _=B.toDataURL("image/png");E.attr("xlink:href",_),i()},E.on("error",y),D.src=x.source,this._imgSrc=x.source}.bind(this));w._promises.push(M)}}function m(x){var F,_,E=S.select(this),M=l.getFromId(w,x.xref),i=l.getFromId(w,x.yref),D="domain"===l.getRefType(x.xref),y="domain"===l.getRefType(x.yref),B=r._size;F=void 0!==M?"string"==typeof x.xref&&D?M._length*x.sizex:Math.abs(M.l2p(x.sizex)-M.l2p(0)):x.sizex*B.w,_=void 0!==i?"string"==typeof x.yref&&y?i._length*x.sizey:Math.abs(i.l2p(x.sizey)-i.l2p(0)):x.sizey*B.h;var U,G,z=F*p_x[x.xanchor].offset,V=_*p_y[x.yanchor].offset,H=p_x[x.xanchor].sizing+p_y[x.yanchor].sizing;switch(U=void 0!==M?"string"==typeof x.xref&&D?M._length*x.x+M._offset:M.r2p(x.x)+M._offset:x.x*B.w+B.l,U+=z,G=void 0!==i?"string"==typeof x.yref&&y?i._length*(1-x.y)+i._offset:i.r2p(x.y)+i._offset:B.h-x.y*B.h+B.t,G+=V,x.sizing){case"fill":H+=" slice";break;case"stretch":H="none"}E.attr({x:U,y:G,width:F,height:_,preserveAspectRatio:H,opacity:x.opacity});var ue=(M&&"domain"!==l.getRefType(x.xref)?M._id:"")+(i&&"domain"!==l.getRefType(x.yref)?i._id:"");k.setClipUrl(E,ue?"clip"+r._uid+ue:null,w)}var u=r._imageLowerLayer.selectAll("image").data(o),g=r._imageUpperLayer.selectAll("image").data(n);u.enter().append("image"),g.enter().append("image"),u.exit().remove(),g.exit().remove(),u.each(function(x){A.bind(this)(x),m.bind(this)(x)}),g.each(function(x){A.bind(this)(x),m.bind(this)(x)});var C=Object.keys(r._plots);for(h=0;h<C.length;h++){var T=r._plots[f=C[h]];if(T.imagelayer){var L=T.imagelayer.selectAll("image").data(c[f]||[]);L.enter().append("image"),L.exit().remove(),L.each(function(x){A.bind(this)(x),m.bind(this)(x)})}}}},68804:function(oe,J,t){"use strict";oe.exports={moduleType:"component",name:"images",layoutAttributes:t(69819),supplyLayoutDefaults:t(81603),includeBasePlot:t(76325)("images"),draw:t(80750),convertCoords:t(75378)}},33030:function(oe,J,t){"use strict";var S=t(41940),k=t(22399);oe.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:S({editType:"legend"}),grouptitlefont:S({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:S({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(oe){"use strict";oe.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(oe,J,t){"use strict";var S=t(73972),k=t(71828),l=t(44467),R=t(9012),I=t(33030),v=t(10820),w=t(10130);function r(n,c,o,f){var h=c[n]||{},d=l.newContainer(o,n);function b(pe,te){return k.coerce(h,d,I,pe,te)}var p=k.coerceFont(b,"font",o.font);if(b("bgcolor",o.paper_bgcolor),b("bordercolor"),b("visible")){for(var m,u=function(pe,te){return k.coerce(m._input,m,R,pe,te)},g=o.font||{},C=k.coerceFont(b,"grouptitlefont",k.extendFlat({},g,{size:Math.round(1.1*g.size)})),T=0,L=!1,x="normal",E=(o.shapes||[]).filter(function(pe){return pe.showlegend}),M=f.concat(E).filter(function(pe){return n===(pe.legend||"legend")}),i=0;i<M.length;i++)if((m=M[i]).visible){var D=m._isShape;(m.showlegend||m._dfltShowLegend&&!(m._module&&m._module.attributes&&m._module.attributes.showlegend&&!1===m._module.attributes.showlegend.dflt))&&(T++,m.showlegend&&(L=!0,(!D&&S.traceIs(m,"pie-like")||!0===m._input.showlegend)&&T++),k.coerceFont(u,"legendgrouptitle.font",C)),(!D&&S.traceIs(m,"bar")&&"stack"===o.barmode||-1!==["tonextx","tonexty"].indexOf(m.fill))&&(x=w.isGrouped({traceorder:x})?"grouped+reversed":"reversed"),void 0!==m.legendgroup&&""!==m.legendgroup&&(x=w.isReversed({traceorder:x})?"reversed+grouped":"grouped")}var y=k.coerce(c,o,v,"showlegend",L&&T>("legend"===n?1:0));if(!1===y&&(o[n]=void 0),(!1!==y||h.uirevision)&&(b("uirevision",o.uirevision),!1!==y)){b("borderwidth");var U,G,Y,z="h"===b("orientation"),V="paper"===b("yref"),H="paper"===b("xref"),ee="left";if(z?(U=0,S.getComponentMethod("rangeslider","isVisible")(c.xaxis)?V?(G=1.1,Y="bottom"):(G=1,Y="top"):V?(G=-.1,Y="top"):(G=0,Y="bottom")):(G=1,Y="auto",H?U=1.02:(U=1,ee="right")),k.coerce(h,d,{x:{valType:"number",editType:"legend",min:H?-2:0,max:H?3:1,dflt:U}},"x"),k.coerce(h,d,{y:{valType:"number",editType:"legend",min:V?-2:0,max:V?3:1,dflt:G}},"y"),b("traceorder",x),w.isGrouped(o[n])&&b("tracegroupgap"),b("entrywidth"),b("entrywidthmode"),b("itemsizing"),b("itemwidth"),b("itemclick"),b("itemdoubleclick"),b("groupclick"),b("xanchor",ee),b("yanchor",Y),b("valign"),k.noneOrAll(h,d,["x","y"]),b("title.text")){b("title.side",z?"left":"top");var ce=k.extendFlat({},p,{size:k.bigFont(p.size)});k.coerceFont(b,"title.font",ce)}}}}oe.exports=function(c,o,f){var h,d=f.slice(),b=o.shapes;if(b)for(h=0;h<b.length;h++){var p=b[h];p.showlegend&&d.push({_input:p._input,visible:p.visible,showlegend:p.showlegend,legend:p.legend})}var m=["legend"];for(h=0;h<d.length;h++)k.pushUnique(m,d[h].legend);for(o._legends=[],h=0;h<m.length;h++){var u=m[h];r(u,c,o,d),o[u]&&o[u].visible&&(o[u]._id=u),o._legends.push(u)}}},43969:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(74875),R=t(73972),I=t(11086),v=t(28569),w=t(91424),r=t(7901),n=t(63893),c=t(85167),o=t(14928),f=t(18783),h=f.LINE_SPACING,d=f.FROM_TL,b=f.FROM_BR,p=t(82424),A=t(53630),m=t(10130),u=1,g=/^legend[0-9]*$/;function T(U,G){var ce,pe,Y=G||{},ee=U._fullLayout,ue=H(Y),te=Y._inHover;if(te?(pe=Y.layer,ce="hover"):(pe=ee._infolayer,ce=ue),pe){var Q;if(ce+=ee._uid,U._legendMouseDownTime||(U._legendMouseDownTime=0),te){if(!Y.entries)return;Q=p(Y.entries,Y)}else{for(var K=(U.calcdata||[]).slice(),Z=ee.shapes,q=0;q<Z.length;q++){var fe=Z[q];fe.showlegend&&K.push([{trace:{_isShape:!0,_fullInput:fe,index:fe._index,name:fe.name||fe.label.text||"shape "+fe._index,legend:fe.legend,legendgroup:fe.legendgroup,legendgrouptitle:fe.legendgrouptitle,legendrank:fe.legendrank,legendwidth:fe.legendwidth,showlegend:fe.showlegend,visible:fe.visible,opacity:fe.opacity,mode:"line"===fe.type?"lines":"markers",line:fe.line,marker:{line:fe.line,color:fe.fillcolor,size:12,symbol:"rect"===fe.type?"square":"circle"===fe.type?"circle":"hexagon2"}}}])}Q=ee.showlegend&&p(K,Y,ee._legends.length>1)}var $=ee.hiddenlabels||[];if(!(te||ee.showlegend&&Q.length))return pe.selectAll("."+ue).remove(),ee._topdefs.select("#"+ce).remove(),l.autoMargin(U,ue);var le=k.ensureSingle(pe,"g",ue,function(Ce){te||Ce.attr("pointer-events","all")}),se=k.ensureSingleById(ee._topdefs,"clipPath",ce,function(Ce){Ce.append("rect")}),de=k.ensureSingle(le,"rect","bg",function(Ce){Ce.attr("shape-rendering","crispEdges")});de.call(r.stroke,Y.bordercolor).call(r.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px");var Me,we=k.ensureSingle(le,"g","scrollbox"),Ee=Y.title;Y._titleWidth=0,Y._titleHeight=0,Ee.text?((Me=k.ensureSingle(we,"text",ue+"titletext")).attr("text-anchor","start").call(w.font,Ee.font).text(Ee.text),D(Me,we,U,Y,u)):we.selectAll("."+ue+"titletext").remove();var Ne=k.ensureSingle(le,"rect","scrollbar",function(Ce){Ce.attr(o.scrollBarEnterAttrs).call(r.fill,o.scrollBarColor)}),Ve=we.selectAll("g.groups").data(Q);Ve.enter().append("g").attr("class","groups"),Ve.exit().remove();var Pe=Ve.selectAll("g.traces").data(k.identity);Pe.enter().append("g").attr("class","traces"),Pe.exit().remove(),Pe.style("opacity",function(Ce){var Ie=Ce[0].trace;return R.traceIs(Ie,"pie-like")?-1!==$.indexOf(Ce[0].label)?.5:1:"legendonly"===Ie.visible?.5:1}).each(function(){S.select(this).call(E,U,Y)}).call(A,U,Y).each(function(){te||S.select(this).call(i,U,ue)}),k.syncOrAsync([l.previousPromises,function(){return function F(U,G,Y,ee){var ue=U._fullLayout,ce=H(ee);ee||(ee=ue[ce]);var pe=ue._size,te=m.isVertical(ee),Q=m.isGrouped(ee),K="fraction"===ee.entrywidthmode,Z=ee.borderwidth,q=2*Z,fe=o.itemGap,re=ee.itemwidth+2*fe,$=2*(Z+fe),le=V(ee),se=ee.y<0||0===ee.y&&"top"===le,de=ee.y>1||1===ee.y&&"bottom"===le,we=ee.tracegroupgap,Ee={};ee._maxHeight=Math.max(se||de?ue.height/2:pe.h,30);var Me=0;ee._width=0,ee._height=0;var Ne=function B(U){var G=0,Y=0,ee=U.title.side;return ee&&(-1!==ee.indexOf("left")&&(G=U._titleWidth),-1!==ee.indexOf("top")&&(Y=U._titleHeight)),[G,Y]}(ee);if(te)Y.each(function(ke){var Re=ke[0].height;w.setTranslate(this,Z+Ne[0],Z+Ne[1]+ee._height+Re/2+fe),ee._height+=Re,ee._width=Math.max(ee._width,ke[0].width)}),Me=re+ee._width,ee._width+=fe+re+q,ee._height+=$,Q&&(G.each(function(ke,Re){w.setTranslate(this,0,Re*ee.tracegroupgap)}),ee._height+=(ee._lgroupsLength-1)*ee.tracegroupgap);else{var Ve=z(ee),Ie=de||se,Je=ue.width/2;ee._maxWidth=Math.max(ee.x<0||0===ee.x&&"right"===Ve?Ie&&"left"===Ve?pe.l+pe.w:Je:ee.x>1||1===ee.x&&"left"===Ve?Ie&&"right"===Ve?pe.r+pe.w:Je:pe.w,2*re);var Qe=0,ze=0;Y.each(function(ke){var Re=L(ke,ee,re);Qe=Math.max(Qe,Re),ze+=Re}),Me=null;var Ke=0;if(Q){var ut=0,ot=0,We=0;G.each(function(){var ke=0,Re=0;S.select(this).selectAll("g.traces").each(function(He){var Ye=L(He,ee,re),Ue=He[0].height;w.setTranslate(this,Ne[0],Ne[1]+Z+fe+Ue/2+Re),Re+=Ue,ke=Math.max(ke,Ye),Ee[He[0].trace.legendgroup]=ke});var Be=ke+fe;ot>0&&Be+Z+ot>ee._maxWidth?(Ke=Math.max(Ke,ot),ot=0,We+=ut+we,ut=Re):ut=Math.max(ut,Re),w.setTranslate(this,ot,We),ot+=Be}),ee._width=Math.max(Ke,ot)+Z,ee._height=We+ut+$}else{var je=Y.size(),lt=ze+q+(je-1)*fe<ee._maxWidth,vt=0,pt=0,St=0,Ct=0;Y.each(function(ke){var Re=ke[0].height,Be=L(ke,ee,re),He=lt?Be:Qe;K||(He+=fe),He+Z+pt-fe>=ee._maxWidth&&(Ke=Math.max(Ke,Ct),pt=0,St+=vt,ee._height+=vt,vt=0),w.setTranslate(this,Ne[0]+Z+pt,Ne[1]+Z+St+Re/2+fe),Ct=pt+Be+fe,pt+=He,vt=Math.max(vt,Re)}),lt?(ee._width=pt+q,ee._height=vt+$):(ee._width=Math.max(Ke,Ct)+q,ee._height+=vt+$)}}ee._width=Math.ceil(Math.max(ee._width+Ne[0],ee._titleWidth+2*(Z+o.titlePad))),ee._height=Math.ceil(Math.max(ee._height+Ne[1],ee._titleHeight+2*(Z+o.itemGap))),ee._effHeight=Math.min(ee._height,ee._maxHeight);var _t=U._context.edits,nt=_t.legendText||_t.legendPosition;Y.each(function(ke){var Re=S.select(this).select("."+ce+"toggle"),Be=ke[0].height,He=ke[0].trace.legendgroup,Ye=L(ke,ee,re);Q&&""!==He&&(Ye=Ee[He]);var Ue=nt?re:Me||Ye;!te&&!K&&(Ue+=fe/2),w.setRect(Re,0,-Be/2,Ue,Be)})}(U,Ve,Pe,Y)},function(){var De,ge,Te,_e,Ce=ee._size,Ie=Y.borderwidth,Je="paper"===Y.xref,Qe="paper"===Y.yref;if(Ee.text&&function C(U,G,Y){if("top center"===G.title.side||"top right"===G.title.side){var ue=G.title.font.size*h,ce=0,pe=U.node(),te=w.bBox(pe).width;"top center"===G.title.side?ce=.5*(G._width-2*Y-2*o.titlePad-te):"top right"===G.title.side&&(ce=G._width-2*Y-2*o.titlePad-te),n.positionText(U,Y+o.titlePad+ce,Y+ue)}}(Me,Y,Ie),!te){var ze,Ke;if(ze=Je?Ce.l+Ce.w*Y.x-d[z(Y)]*Y._width:ee.width*Y.x-d[z(Y)]*Y._width,Ke=Qe?Ce.t+Ce.h*(1-Y.y)-d[V(Y)]*Y._effHeight:ee.height*(1-Y.y)-d[V(Y)]*Y._effHeight,function _(U,G,Y,ee){var ue=U._fullLayout,ce=ue[G],pe=z(ce),te=V(ce),Q="paper"===ce.xref,K="paper"===ce.yref;U._fullLayout._reservedMargin[G]={};var Z=ce.y<.5?"b":"t",q=ce.x<.5?"l":"r",fe={r:ue.width-Y,l:Y+ce._width,b:ue.height-ee,t:ee+ce._effHeight};if(Q&&K)return l.autoMargin(U,G,{x:ce.x,y:ce.y,l:ce._width*d[pe],r:ce._width*b[pe],b:ce._effHeight*b[te],t:ce._effHeight*d[te]});Q?U._fullLayout._reservedMargin[G][Z]=fe[Z]:K||"v"===ce.orientation?U._fullLayout._reservedMargin[G][q]=fe[q]:U._fullLayout._reservedMargin[G][Z]=fe[Z]}(U,ue,ze,Ke))return;if(ee.margin.autoexpand){var ot=ze,We=Ke;ze=Je?k.constrain(ze,0,ee.width-Y._width):ot,Ke=Qe?k.constrain(Ke,0,ee.height-Y._effHeight):We,ze!==ot&&k.log("Constrain "+ue+".x to make legend fit inside graph"),Ke!==We&&k.log("Constrain "+ue+".y to make legend fit inside graph")}w.setTranslate(le,ze,Ke)}if(Ne.on(".drag",null),le.on("wheel",null),te||Y._height<=Y._maxHeight||U._context.staticPlot){var je=Y._effHeight;te&&(je=Y._height),de.attr({width:Y._width-Ie,height:je-Ie,x:Ie/2,y:Ie/2}),w.setTranslate(we,0,0),se.select("rect").attr({width:Y._width-2*Ie,height:je-2*Ie,x:Ie,y:Ie}),w.setClipUrl(we,ce,U),w.setRect(Ne,0,0,0,0),delete Y._scrollY}else{var lt=Math.max(o.scrollBarMinHeight,Y._effHeight*Y._effHeight/Y._height),vt=Y._effHeight-lt-2*o.scrollBarMargin,pt=Y._height-Y._effHeight,St=vt/pt,Ct=Math.min(Y._scrollY||0,pt);de.attr({width:Y._width-2*Ie+o.scrollBarWidth+o.scrollBarMargin,height:Y._effHeight-Ie,x:Ie/2,y:Ie/2}),se.select("rect").attr({width:Y._width-2*Ie+o.scrollBarWidth+o.scrollBarMargin,height:Y._effHeight-2*Ie,x:Ie,y:Ie+Ct}),w.setClipUrl(we,ce,U),Ue(Ct,lt,St),le.on("wheel",function(){Ue(Ct=k.constrain(Y._scrollY+S.event.deltaY/vt*pt,0,pt),lt,St),0!==Ct&&Ct!==pt&&S.event.preventDefault()});var _t,ke,He=S.behavior.drag().on("dragstart",function(){var et=S.event.sourceEvent;_t="touchstart"===et.type?et.changedTouches[0].clientY:et.clientY,ke=Ct}).on("drag",function(){var et=S.event.sourceEvent;2===et.buttons||et.ctrlKey||Ue(Ct=function(et,ft,gt){return k.constrain((gt-ft)/St+et,0,pt)}(ke,_t,"touchmove"===et.type?et.changedTouches[0].clientY:et.clientY),lt,St)});Ne.call(He);var Ye=S.behavior.drag().on("dragstart",function(){var et=S.event.sourceEvent;"touchstart"===et.type&&(_t=et.changedTouches[0].clientY,ke=Ct)}).on("drag",function(){var et=S.event.sourceEvent;"touchmove"===et.type&&Ue(Ct=function(et,ft,gt){return k.constrain((ft-gt)/St+et,0,pt)}(ke,_t,et.changedTouches[0].clientY),lt,St)});we.call(Ye)}function Ue(et,ft,gt){Y._scrollY=U._fullLayout[ue]._scrollY=et,w.setTranslate(we,0,-et),w.setRect(Ne,Y._width,o.scrollBarMargin+et*gt,o.scrollBarWidth,ft),se.select("rect").attr("y",Ie+et)}U._context.edits.legendPosition&&(le.classed("cursor-move",!0),v.init({element:le.node(),gd:U,prepFn:function(){var et=w.getTranslate(le);Te=et.x,_e=et.y},moveFn:function(et,ft){var gt=Te+et,Kt=_e+ft;w.setTranslate(le,gt,Kt),De=v.align(gt,Y._width,Ce.l,Ce.l+Ce.w,Y.xanchor),ge=v.align(Kt+Y._height,-Y._height,Ce.t+Ce.h,Ce.t,Y.yanchor)},doneFn:function(){if(void 0!==De&&void 0!==ge){var et={};et[ue+".x"]=De,et[ue+".y"]=ge,R.call("_guiRelayout",U,et)}},clickFn:function(et,ft){var gt=pe.selectAll("g.traces").filter(function(){var Kt=this.getBoundingClientRect();return ft.clientX>=Kt.left&&ft.clientX<=Kt.right&&ft.clientY>=Kt.top&&ft.clientY<=Kt.bottom});gt.size()>0&&x(U,le,gt,et,ft)}}))}],U)}}function L(U,G,Y){var ee=U[0],pe=ee.trace.legendwidth||G.entrywidth;return"fraction"===G.entrywidthmode?G._maxWidth*pe:Y+(pe||ee.width)}function x(U,G,Y,ee,ue){var ce=Y.data()[0][0].trace,pe={event:ue,node:Y.node(),curveNumber:ce.index,expandedIndex:ce._expandedIndex,data:U.data,layout:U.layout,frames:U._transitionData._frames,config:U._context,fullData:U._fullData,fullLayout:U._fullLayout};ce._group&&(pe.group=ce._group),R.traceIs(ce,"pie-like")&&(pe.label=Y.datum()[0].label);var te=I.triggerHandler(U,"plotly_legendclick",pe);if(1===ee){if(!1===te)return;G._clickTimeout=setTimeout(function(){U._fullLayout&&c(Y,U,ee)},U._context.doubleClickDelay)}else 2===ee&&(G._clickTimeout&&clearTimeout(G._clickTimeout),U._legendMouseDownTime=0,!1!==I.triggerHandler(U,"plotly_legenddoubleclick",pe)&&!1!==te&&c(Y,U,ee))}function E(U,G,Y){var K,Z,ee=H(Y),ue=U.data()[0][0],ce=ue.trace,pe=R.traceIs(ce,"pie-like"),te=!Y._inHover&&G._context.edits.legendText&&!pe,Q=Y._maxNameLength;ue.groupTitle?(K=ue.groupTitle.text,Z=ue.groupTitle.font):(Z=Y.font,Y.entries?K=ue.text:(K=pe?ue.label:ce.name,ce._meta&&(K=k.templateString(K,ce._meta))));var q=k.ensureSingle(U,"text",ee+"text");q.attr("text-anchor","start").call(w.font,Z).text(te?M(K,Q):K),n.positionText(q,Y.itemwidth+2*o.itemGap,0),te?q.call(n.makeEditable,{gd:G,text:K}).call(D,U,G,Y).on("edit",function(re){this.text(M(re,Q)).call(D,U,G,Y);var $=ue.trace._fullInput||{},le={};if(R.hasTransform($,"groupby")){var se=R.getTransformIndices($,"groupby"),we=k.keyedContainer($,"transforms["+se[se.length-1]+"].styles","target","value.name");we.set(ue.trace._group,re),le=we.constructUpdate()}else le.name=re;return $._isShape?R.call("_guiRelayout",G,"shapes["+ce.index+"].name",le.name):R.call("_guiRestyle",G,le,ce.index)}):D(q,U,G,Y)}function M(U,G){var Y=Math.max(4,G);if(U&&U.trim().length>=Y/2)return U;for(var ee=Y-(U=U||"").length;ee>0;ee--)U+=" ";return U}function i(U,G,Y){var ue,ee=G._context.doubleClickDelay,ce=1,pe=k.ensureSingle(U,"rect",Y+"toggle",function(te){G._context.staticPlot||te.style("cursor","pointer").attr("pointer-events","all"),te.call(r.fill,"rgba(0,0,0,0)")});G._context.staticPlot||(pe.on("mousedown",function(){(ue=(new Date).getTime())-G._legendMouseDownTime<ee?ce+=1:(ce=1,G._legendMouseDownTime=ue)}),pe.on("mouseup",function(){if(!G._dragged&&!G._editing){var te=G._fullLayout[Y];(new Date).getTime()-G._legendMouseDownTime>ee&&(ce=Math.max(ce-1,1)),x(G,te,U,ce,S.event)}}))}function D(U,G,Y,ee,ue){ee._inHover&&U.attr("data-notex",!0),n.convertToTspans(U,Y,function(){!function y(U,G,Y,ee){var ue=U.data()[0][0];if(Y._inHover||!ue||ue.trace.showlegend){var ce=U.select("g[class*=math-group]"),pe=ce.node(),te=H(Y);Y||(Y=G._fullLayout[te]);var q,fe,Q=Y.borderwidth,Z=(ee===u?Y.title.font:ue.groupTitle?ue.groupTitle.font:Y.font).size*h;if(pe){var re=w.bBox(pe);q=re.height,fe=re.width,ee===u?w.setTranslate(ce,Q,Q+.75*q):w.setTranslate(ce,0,.25*q)}else{var le=U.select("."+te+(ee===u?"title":"")+"text"),se=n.lineCount(le),de=le.node();if(q=Z*se,fe=de?w.bBox(de).width:0,ee===u)"left"===Y.title.side&&(fe+=2*o.itemGap),n.positionText(le,Q+o.titlePad,Q+Z);else{var we=2*o.itemGap+Y.itemwidth;ue.groupTitle&&(we=o.itemGap,fe-=Y.itemwidth),n.positionText(le,we,-Z*((se-1)/2-.3))}}ee===u?(Y._titleWidth=fe,Y._titleHeight=q):(ue.lineHeight=Z,ue.height=Math.max(q,16)+3,ue.width=fe)}else U.remove()}(G,Y,ee,ue)})}function z(U){return k.isRightAnchor(U)?"right":k.isCenterAnchor(U)?"center":"left"}function V(U){return k.isBottomAnchor(U)?"bottom":k.isMiddleAnchor(U)?"middle":"top"}function H(U){return U._id||"legend"}oe.exports=function(G,Y){if(Y)T(G,Y);else{var ee=G._fullLayout,ue=ee._legends;ee._infolayer.selectAll('[class^="legend"]').each(function(){var K=S.select(this),q=K.attr("class").split(" ")[0];q.match(g)&&-1===ue.indexOf(q)&&K.remove()});for(var pe=0;pe<ue.length;pe++)T(G,G._fullLayout[ue[pe]])}}},82424:function(oe,J,t){"use strict";var S=t(73972),k=t(10130);oe.exports=function(R,I,v){var p,A,w=I._inHover,r=k.isGrouped(I),n=k.isReversed(I),c={},o=[],f=!1,h={},d=0,b=0;function m(U,G,Y){if(!1!==I.visible&&(!v||U===I._id))if(""!==G&&k.isGrouped(I))-1===o.indexOf(G)?(o.push(G),f=!0,c[G]=[Y]):c[G].push(Y);else{var ee="~~i"+d;o.push(ee),c[ee]=[Y],d++}}for(p=0;p<R.length;p++){var u=R[p],g=u[0],C=g.trace,T=C.legend,L=C.legendgroup;if(w||C.visible&&C.showlegend)if(S.traceIs(C,"pie-like"))for(h[L]||(h[L]={}),A=0;A<u.length;A++){var x=u[A].label;h[L][x]||(m(T,L,{label:x,color:u[A].color,i:u[A].i,trace:C,pts:u[A].pts}),h[L][x]=!0,b=Math.max(b,(x||"").length))}else m(T,L,g),b=Math.max(b,(C.name||"").length)}if(!o.length)return[];var E=!f||!r,M=[];for(p=0;p<o.length;p++){var i=c[o[p]];M.push(E?i[0]:i)}for(E&&(M=[M]),p=0;p<M.length;p++){var D=1/0;for(A=0;A<M[p].length;A++){var y=M[p][A].trace.legendrank;D>y&&(D=y)}M[p][0]._groupMinRank=D,M[p][0]._preGroupSort=p}var F=function(U,G){return U.trace.legendrank-G.trace.legendrank||U._preSort-G._preSort};for(M.forEach(function(U,G){U[0]._preGroupSort=G}),M.sort(function(U,G){return U[0]._groupMinRank-G[0]._groupMinRank||U[0]._preGroupSort-G[0]._preGroupSort}),p=0;p<M.length;p++){M[p].forEach(function(U,G){U._preSort=G}),M[p].sort(F);var _=M[p][0].trace,z=null;for(A=0;A<M[p].length;A++){var V=M[p][A].trace.legendgrouptitle;if(V&&V.text){z=V,w&&(V.font=I._groupTitleFont);break}}if(n&&M[p].reverse(),z){var H=!1;for(A=0;A<M[p].length;A++)if(S.traceIs(M[p][A].trace,"pie-like")){H=!0;break}M[p].unshift({i:-1,groupTitle:z,noClick:H,trace:{showlegend:_.showlegend,legendgroup:_.legendgroup,visible:"toggleitem"===I.groupclick||_.visible}})}for(A=0;A<M[p].length;A++)M[p][A]=[M[p][A]]}return I._lgroupsLength=M.length,I._maxNameLength=b,M}},85167:function(oe,J,t){"use strict";var S=t(73972),k=t(71828),l=k.pushUnique,R=!0;oe.exports=function(v,w,r){var n=w._fullLayout;if(!w._dragged&&!w._editing){var h,c=n.legend.itemclick,o=n.legend.itemdoubleclick,f=n.legend.groupclick;if(1===r&&"toggle"===c&&"toggleothers"===o&&R&&w.data&&w._context.showTips&&k.notifier(k._(w,"Double-click on legend to isolate one trace"),"long"),R=!1,1===r?h=c:2===r&&(h=o),h){var d="togglegroup"===f,b=n.hiddenlabels?n.hiddenlabels.slice():[],p=v.data()[0][0];if(!p.groupTitle||!p.noClick){var A=w._fullData,m=(n.shapes||[]).filter(function(Je){return Je.showlegend}),u=A.concat(m),g=p.trace;g._isShape&&(g=g._fullInput);var T,L,x,E,M,C=g.legendgroup,D={},y=[],B=[],F=[],z=(n.shapes||[]).map(function(Je){return Je._input}),V=!1,G=g.legend,Y=g._fullInput;if(Y&&Y._isShape||!S.traceIs(g,"pie-like")){var le,re=C&&C.length,$=[];if(re)for(T=0;T<u.length;T++)(le=u[T]).visible&&le.legendgroup===C&&$.push(T);if("toggle"===h){var se;switch(g.visible){case!0:se="legendonly";break;case!1:se=!1;break;case"legendonly":se=!0}if(re)if(d)for(T=0;T<u.length;T++){var de=u[T];!1!==de.visible&&de.legendgroup===C&&U(de,se)}else U(g,se);else U(g,se)}else if("toggleothers"===h){var Ee,Me,Ve,Pe=!0;for(T=0;T<u.length;T++)if(Me=!0!==(Ve=u[T]).showlegend,!(Ve===g||Me||(Ee=re&&Ve.legendgroup===C,Ee||Ve.legend!==G||!0!==Ve.visible||S.traceIs(Ve,"notLegendIsolatable")))){Pe=!1;break}for(T=0;T<u.length;T++)if(!1!==(Ve=u[T]).visible&&Ve.legend===G&&!S.traceIs(Ve,"notLegendIsolatable"))switch(g.visible){case"legendonly":U(Ve,!0);break;case!0:Me=!0!==Ve.showlegend&&!Ve.legendgroup,U(Ve,!(!(Ee=Ve===g||re&&Ve.legendgroup===C)&&!Me)||!!Pe||"legendonly")}}for(T=0;T<B.length;T++)if(x=B[T]){var Ce=x.constructUpdate(),Ie=Object.keys(Ce);for(L=0;L<Ie.length;L++)(D[E=Ie[L]]=D[E]||[])[F[T]]=Ce[E]}for(M=Object.keys(D),T=0;T<M.length;T++)for(E=M[T],L=0;L<y.length;L++)D[E].hasOwnProperty(L)||(D[E][L]=void 0);V?S.call("_guiUpdate",w,D,{shapes:z},y):S.call("_guiRestyle",w,D,y)}else{var ue=p.label,ce=b.indexOf(ue);if("toggle"===h)-1===ce?b.push(ue):b.splice(ce,1);else if("toggleothers"===h){var pe=-1!==ce,te=[];for(T=0;T<w.calcdata.length;T++){var Q=w.calcdata[T];for(L=0;L<Q.length;L++){var Z=Q[L].label;G===Q[0].trace.legend&&ue!==Z&&(-1===b.indexOf(Z)&&(pe=!0),l(b,Z),te.push(Z))}}if(!pe)for(var q=0;q<te.length;q++){var fe=b.indexOf(te[q]);-1!==fe&&b.splice(fe,1)}}S.call("_guiRelayout",w,"hiddenlabels",b)}}}}function _(Je,Qe){var ze=y.indexOf(Je),Ke=D.visible;return Ke||(Ke=D.visible=[]),-1===y.indexOf(Je)&&(y.push(Je),ze=y.length-1),Ke[ze]=Qe,ze}function U(Je,Qe){if(!p.groupTitle||d){var ze=Je._fullInput||Je,Ke=ze._isShape,ut=ze.index;if(void 0===ut&&(ut=ze._index),S.hasTransform(ze,"groupby")){var ot=B[ut];if(!ot){var We=S.getTransformIndices(ze,"groupby");ot=k.keyedContainer(ze,"transforms["+We[We.length-1]+"].styles","target","value.visible"),B[ut]=ot}var lt=ot.get(Je._group);void 0===lt&&(lt=!0),!1!==lt&&ot.set(Je._group,Qe),F[ut]=_(ut,!1!==ze.visible)}else{var vt=!1!==ze.visible&&Qe;Ke?function H(Je,Qe){z[Je].visible=Qe,V=!0}(ut,vt):_(ut,vt)}}}}},10130:function(oe,J){"use strict";J.isGrouped=function(S){return-1!==(S.traceorder||"").indexOf("grouped")},J.isVertical=function(S){return"h"!==S.orientation},J.isReversed=function(S){return-1!==(S.traceorder||"").indexOf("reversed")}},2199:function(oe,J,t){"use strict";oe.exports={moduleType:"component",name:"legend",layoutAttributes:t(33030),supplyLayoutDefaults:t(99017),draw:t(43969),style:t(53630)}},53630:function(oe,J,t){"use strict";var S=t(39898),k=t(73972),l=t(71828),R=l.strTranslate,I=t(91424),v=t(7901),w=t(52075).extractOpts,r=t(34098),n=t(63463),c=t(53581).castOption,o=t(14928);function A(g,C){return(C?"radial":"horizontal")+(g?"":"reversed")}function m(g){var C=g[0].trace,T=C.contours,L=r.hasLines(C),x=r.hasMarkers(C),E=C.visible&&C.fill&&"none"!==C.fill,M=!1,i=!1;if(T){var D=T.coloring;"lines"===D?M=!0:L="none"===D||"heatmap"===D||T.showlines,"constraint"===T.type?E="="!==T._operation:("fill"===D||"heatmap"===D)&&(i=!0)}return{showMarker:x,showLine:L,showFill:E,showGradientLine:M,showGradientFill:i,anyLine:L||M,anyFill:E||i}}function u(g,C,T){return g&&l.isArrayOrTypedArray(g)?C:g>T?T:g}oe.exports=function(C,T,L){L||(L=T._fullLayout.legend);var E="constant"===L.itemsizing,M=L.itemwidth,D=R((M+2*o.itemGap)/2,0),y=function(te,Q,K,Z){var q;if(te+1)q=te;else{if(!(Q&&Q.width>0))return 0;q=Q.width}return E?Z:Math.min(q,K)};function H(te,Q,K){var Z=te[0].trace,q=Z.marker||{},fe=q.line||{},re=K?Z.visible&&Z.type===K:k.traceIs(Z,"bar"),$=S.select(Q).select("g.legendpoints").selectAll("path.legend"+K).data(re?[te]:[]);$.enter().append("path").classed("legend"+K,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",D),$.exit().remove(),$.each(function(le){var se=S.select(this),de=le[0],we=y(de.mlw,q.line,5,2);se.style("stroke-width",we+"px");var Ee=de.mcc;if(!L._inHover&&"mc"in de){var Me=w(q),Ne=Me.mid;void 0===Ne&&(Ne=(Me.max+Me.min)/2),Ee=I.tryColorscale(q,"")(Ne)}var Ve=Ee||de.mc||q.color,Pe=q.pattern,Ce=Pe&&I.getPatternAttr(Pe.shape,0,"");if(Ce){var Ie=I.getPatternAttr(Pe.bgcolor,0,null),Je=I.getPatternAttr(Pe.fgcolor,0,null),Qe=Pe.fgopacity,ze=u(Pe.size,8,10),Ke=u(Pe.solidity,.5,1);se.call(I.pattern,"legend",T,"legend-"+Z.uid,Ce,ze,Ke,Ee,Pe.fillmode,Ie,Je,Qe)}else se.call(v.fill,Ve);we&&v.stroke(se,de.mlc||fe.color)})}function ce(te,Q,K){var Z=te[0],q=Z.trace,fe=K?q.visible&&q.type===K:k.traceIs(q,K),re=S.select(Q).select("g.legendpoints").selectAll("path.legend"+K).data(fe?[te]:[]);if(re.enter().append("path").classed("legend"+K,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",D),re.exit().remove(),re.size()){var $=q.marker||{},le=y(c($.line.width,Z.pts),$.line,5,2),se="pieLike",de=l.minExtend(q,{marker:{line:{width:le}}},se),we=l.minExtend(Z,{trace:de},se);n(re,we,de,T)}}C.each(function(te){var Q=S.select(this),K=l.ensureSingle(Q,"g","layers");K.style("opacity",te[0].trace.opacity);var Z=L.valign,q=te[0].lineHeight,fe=te[0].height;K.attr("transform","middle"!==Z&&q&&fe?R(0,{top:1,bottom:-1}[Z]*(.5*(q-fe+3))):null),K.selectAll("g.legendfill").data([te]).enter().append("g").classed("legendfill",!0),K.selectAll("g.legendlines").data([te]).enter().append("g").classed("legendlines",!0);var de=K.selectAll("g.legendsymbols").data([te]);de.enter().append("g").classed("legendsymbols",!0),de.selectAll("g.legendpoints").data([te]).enter().append("g").classed("legendpoints",!0)}).each(function pe(te){var K,Q=te[0].trace,Z=[];if(Q.visible)switch(Q.type){case"histogram2d":case"heatmap":Z=[["M-15,-2V4H15V-2Z"]],K=!0;break;case"choropleth":case"choroplethmapbox":Z=[["M-6,-6V6H6V-6Z"]],K=!0;break;case"densitymapbox":Z=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],K="radial";break;case"cone":Z=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],K=!1;break;case"streamtube":Z=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],K=!1;break;case"surface":Z=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],K=!0;break;case"mesh3d":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],K=!1;break;case"volume":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],K=!0;break;case"isosurface":Z=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],K=!1}var q=S.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Z);q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",D).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(fe,re){var Ee,$=S.select(this),le=w(Q),se=le.colorscale,de=le.reversescale;if(se){if(!K){var Ne=se.length;Ee=0===re?se[de?Ne-1:0][1]:1===re?se[de?0:Ne-1][1]:se[Math.floor((Ne-1)/2)][1]}}else{var Me=Q.vertexcolor||Q.facecolor||Q.color;Ee=l.isArrayOrTypedArray(Me)?Me[re]||Me[0]:Me}$.attr("d",fe[0]),Ee?$.call(v.fill,Ee):$.call(function(Ve){Ve.size()&&I.gradient(Ve,T,"legendfill-"+Q.uid,A(de,"radial"===K),se,"fill")})})}).each(function _(te){var Q=te[0].trace,K="waterfall"===Q.type;if(te[0]._distinct&&K){var Z=te[0].trace[te[0].dir].marker;return te[0].mc=Z.color,te[0].mlw=Z.line.width,te[0].mlc=Z.line.color,H(te,this,"waterfall")}var q=[];Q.visible&&K&&(q=te[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var fe=S.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(q);fe.enter().append("path").classed("legendwaterfall",!0).attr("transform",D).style("stroke-miterlimit",1),fe.exit().remove(),fe.each(function(re){var $=S.select(this),le=Q[re[0]].marker,se=y(void 0,le.line,5,2);$.attr("d",re[1]).style("stroke-width",se+"px").call(v.fill,le.color),se&&$.call(v.stroke,le.line.color)})}).each(function V(te){H(te,this,"funnel")}).each(function z(te){H(te,this)}).each(function U(te){var Q=te[0].trace,K=S.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Q.visible&&k.traceIs(Q,"box-violin")?[te]:[]);K.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",D),K.exit().remove(),K.each(function(){var Z=S.select(this);if("all"!==Q.boxpoints&&"all"!==Q.points||0!==v.opacity(Q.fillcolor)||0!==v.opacity((Q.line||{}).color)){var fe=y(void 0,Q.line,5,2);Z.style("stroke-width",fe+"px").call(v.fill,Q.fillcolor),fe&&v.stroke(Z,Q.line.color)}else{var q=l.minExtend(Q,{marker:{size:E?12:l.constrain(Q.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});K.call(I.pointStyle,q,T)}})}).each(function ue(te){ce(te,this,"funnelarea")}).each(function ee(te){ce(te,this,"pie")}).each(function B(te){var de,we,Q=m(te),K=Q.showFill,Z=Q.showLine,q=Q.showGradientLine,fe=Q.showGradientFill,re=Q.anyFill,$=Q.anyLine,le=te[0],se=le.trace,Ee=w(se),Me=Ee.colorscale,Ne=Ee.reversescale,Ce=r.hasMarkers(se)||!re?"M5,0":$?"M5,-2":"M5,-3",Ie=S.select(this),Je=Ie.select(".legendfill").selectAll("path").data(K||fe?[te]:[]);if(Je.enter().append("path").classed("js-fill",!0),Je.exit().remove(),Je.attr("d",Ce+"h"+M+"v6h-"+M+"z").call(function(Ke){Ke.size()&&(K?I.fillGroupStyle(Ke,T):I.gradient(Ke,T,"legendfill-"+se.uid,A(Ne),Me,"fill"))}),Z||q){var Qe=y(void 0,se.line,10,5);we=l.minExtend(se,{line:{width:Qe}}),de=[l.minExtend(le,{trace:we})]}var ze=Ie.select(".legendlines").selectAll("path").data(Z||q?[de]:[]);ze.enter().append("path").classed("js-line",!0),ze.exit().remove(),ze.attr("d",Ce+(q?"l"+M+",0.0001":"h"+M)).call(Z?I.lineGroupStyle:function(Ke){if(Ke.size()){var ut="legendline-"+se.uid;I.lineGroupStyle(Ke),I.gradient(Ke,T,ut,A(Ne),Me,"stroke")}})}).each(function F(te){var se,de,Q=m(te),q=Q.showLine,fe=Q.showMarker,re=te[0],$=re.trace,le=!fe&&!Q.anyLine&&!Q.anyFill&&r.hasText($);function we(Je,Qe,ze,Ke){var ut=l.nestedProperty($,Je).get(),ot=l.isArrayOrTypedArray(ut)&&Qe?Qe(ut):ut;if(E&&ot&&void 0!==Ke&&(ot=Ke),ze){if(ot<ze[0])return ze[0];if(ot>ze[1])return ze[1]}return ot}function Ee(Je){return re._distinct&&re.index&&Je[re.index]?Je[re.index]:Je[0]}if(fe||le||q){var Me={},Ne={};if(fe){Me.mc=we("marker.color",Ee),Me.mx=we("marker.symbol",Ee),Me.mo=we("marker.opacity",l.mean,[.2,1]),Me.mlc=we("marker.line.color",Ee),Me.mlw=we("marker.line.width",l.mean,[0,5],2),Ne.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ve=we("marker.size",l.mean,[2,16],12);Me.ms=Ve,Ne.marker.size=Ve}q&&(Ne.line={width:we("line.width",Ee,[0,10],5)}),le&&(Me.tx="Aa",Me.tp=we("textposition",Ee),Me.ts=10,Me.tc=we("textfont.color",Ee),Me.tf=we("textfont.family",Ee)),se=[l.minExtend(re,Me)],(de=l.minExtend($,Ne)).selectedpoints=null,de.texttemplate=null}var Pe=S.select(this).select("g.legendpoints"),Ce=Pe.selectAll("path.scatterpts").data(fe?se:[]);Ce.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",D),Ce.exit().remove(),Ce.call(I.pointStyle,de,T),fe&&(se[0].mrc=3);var Ie=Pe.selectAll("g.pointtext").data(le?se:[]);Ie.enter().append("g").classed("pointtext",!0).append("text").attr("transform",D),Ie.exit().remove(),Ie.selectAll("text").call(I.textPointStyle,de,T)}).each(function G(te){var Q=te[0].trace,K=S.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Q.visible&&"candlestick"===Q.type?[te,te]:[]);K.enter().append("path").classed("legendcandle",!0).attr("d",function(Z,q){return q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",D).style("stroke-miterlimit",1),K.exit().remove(),K.each(function(Z,q){var fe=S.select(this),re=Q[q?"increasing":"decreasing"],$=y(void 0,re.line,5,2);fe.style("stroke-width",$+"px").call(v.fill,re.fillcolor),$&&v.stroke(fe,re.line.color)})}).each(function Y(te){var Q=te[0].trace,K=S.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Q.visible&&"ohlc"===Q.type?[te,te]:[]);K.enter().append("path").classed("legendohlc",!0).attr("d",function(Z,q){return q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",D).style("stroke-miterlimit",1),K.exit().remove(),K.each(function(Z,q){var fe=S.select(this),re=Q[q?"increasing":"decreasing"],$=y(void 0,re.line,5,2);fe.style("fill","none").call(I.dashLine,re.line.dash,$),$&&v.stroke(fe,re.line.color)})})}},42068:function(oe,J,t){"use strict";t(93348),oe.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(oe,J,t){"use strict";var S=t(73972),k=t(74875),l=t(41675),R=t(24255),I=t(34031).eraseActiveShape,v=t(71828),w=v._,r=oe.exports={};function n(g,C){var y,B,T=C.currentTarget,L=T.getAttribute("data-attr"),x=T.getAttribute("data-val")||!0,E=g._fullLayout,M={},i=l.list(g,null,!0),D=E._cartesianSpikesEnabled;if("zoom"===L){var V,F="in"===x?.5:2,_=(1+F)/2,z=(1-F)/2;for(B=0;B<i.length;B++)if(!(y=i[B]).fixedrange)if(V=y._name,"auto"===x)M[V+".autorange"]=!0;else if("reset"===x)void 0===y._rangeInitial0&&void 0===y._rangeInitial1?M[V+".autorange"]=!0:void 0===y._rangeInitial0?(M[V+".autorange"]=y._autorangeInitial,M[V+".range"]=[null,y._rangeInitial1]):void 0===y._rangeInitial1?(M[V+".range"]=[y._rangeInitial0,null],M[V+".autorange"]=y._autorangeInitial):M[V+".range"]=[y._rangeInitial0,y._rangeInitial1],void 0!==y._showSpikeInitial&&(M[V+".showspikes"]=y._showSpikeInitial,"on"===D&&!y._showSpikeInitial&&(D="off"));else{var H=[y.r2l(y.range[0]),y.r2l(y.range[1])],U=[_*H[0]+z*H[1],_*H[1]+z*H[0]];M[V+".range[0]"]=y.l2r(U[0]),M[V+".range[1]"]=y.l2r(U[1])}}else"hovermode"===L&&("x"===x||"y"===x)&&T.setAttribute("data-val",x=E._isHoriz?"y":"x"),M[L]=x;E._cartesianSpikesEnabled=D,S.call("_guiRelayout",g,M)}function c(g,C){for(var T=C.currentTarget,L=T.getAttribute("data-attr"),x=T.getAttribute("data-val")||!0,E=g._fullLayout._subplots.gl3d||[],M={},i=L.split("."),D=0;D<E.length;D++)M[E[D]+"."+i[1]]=x;M.dragmode="pan"===x?x:"zoom",S.call("_guiRelayout",g,M)}function o(g,C){for(var L=C.currentTarget.getAttribute("data-attr"),x="resetLastSave"===L,E="resetDefault"===L,M=g._fullLayout,i=M._subplots.gl3d||[],D={},y=0;y<i.length;y++){var H,B=i[y],F=B+".camera",_=B+".aspectratio",z=B+".aspectmode",V=M[B]._scene;x?(D[F+".up"]=V.viewInitial.up,D[F+".eye"]=V.viewInitial.eye,D[F+".center"]=V.viewInitial.center,H=!0):E&&(D[F+".up"]=null,D[F+".eye"]=null,D[F+".center"]=null,H=!0),H&&(D[_+".x"]=V.viewInitial.aspectratio.x,D[_+".y"]=V.viewInitial.aspectratio.y,D[_+".z"]=V.viewInitial.aspectratio.z,D[z]=V.viewInitial.aspectmode)}S.call("_guiRelayout",g,D)}function f(g,C){var T=C.currentTarget,L=T._previousVal,x=g._fullLayout,E=x._subplots.gl3d||[],M=["xaxis","yaxis","zaxis"],i={},D={};if(L)D=L,T._previousVal=null;else{for(var y=0;y<E.length;y++){var B=E[y],F=x[B],_=B+".hovermode";i[_]=F.hovermode,D[_]=!1;for(var z=0;z<3;z++){var V=M[z],H=B+"."+V+".showspikes";D[H]=!1,i[H]=F[V].showspikes}}T._previousVal=i}return D}function d(g,C){for(var T=C.currentTarget,L=T.getAttribute("data-attr"),x=T.getAttribute("data-val")||!0,E=g._fullLayout,M=E._subplots.geo||[],i=0;i<M.length;i++){var D=M[i];if("zoom"===L){var B=E[D].projection.scale;S.call("_guiRelayout",g,D+".projection.scale","in"===x?2*B:.5*B)}}"reset"===L&&u(g,"geo")}function b(g){var C=g._fullLayout;return!C.hovermode&&(C._has("cartesian")?C._isHoriz?"y":"x":"closest")}function p(g){var C=b(g);S.call("_guiRelayout",g,"hovermode",C)}function m(g,C){for(var L=C.currentTarget.getAttribute("data-val"),x=g._fullLayout,E=x._subplots.mapbox||[],i={},D=0;D<E.length;D++){var y=E[D],B=x[y].zoom;i[y+".zoom"]="in"===L?1.05*B:B/1.05}S.call("_guiRelayout",g,i)}function u(g,C){for(var T=g._fullLayout,L=T._subplots[C]||[],x={},E=0;E<L.length;E++)for(var M=L[E],D=T[M]._subplot.viewInitial,y=Object.keys(D),B=0;B<y.length;B++){var F=y[B];x[M+"."+F]=D[F]}S.call("_guiRelayout",g,x)}r.toImage={name:"toImage",title:function(g){return w(g,"png"===((g._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:R.camera,click:function(g){var C=g._context.toImageButtonOptions,T={format:C.format||"png"};v.notifier(w(g,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==T.format&&v.isIE()&&(v.notifier(w(g,"IE only supports svg.  Changing format to svg."),"long"),T.format="svg"),["filename","width","height","scale"].forEach(function(L){L in C&&(T[L]=C[L])}),S.call("downloadImage",g,T).then(function(L){v.notifier(w(g,"Snapshot succeeded")+" - "+L,"long")}).catch(function(){v.notifier(w(g,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(g){return w(g,"Edit in Chart Studio")},icon:R.disk,click:function(g){k.sendDataToCloud(g)}},r.editInChartStudio={name:"editInChartStudio",title:function(g){return w(g,"Edit in Chart Studio")},icon:R.pencil,click:function(g){k.sendDataToCloud(g)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(g){return w(g,"Zoom")},attr:"dragmode",val:"zoom",icon:R.zoombox,click:n},r.pan2d={name:"pan2d",_cat:"pan",title:function(g){return w(g,"Pan")},attr:"dragmode",val:"pan",icon:R.pan,click:n},r.select2d={name:"select2d",_cat:"select",title:function(g){return w(g,"Box Select")},attr:"dragmode",val:"select",icon:R.selectbox,click:n},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(g){return w(g,"Lasso Select")},attr:"dragmode",val:"lasso",icon:R.lasso,click:n},r.drawclosedpath={name:"drawclosedpath",title:function(g){return w(g,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:R.drawclosedpath,click:n},r.drawopenpath={name:"drawopenpath",title:function(g){return w(g,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:R.drawopenpath,click:n},r.drawline={name:"drawline",title:function(g){return w(g,"Draw line")},attr:"dragmode",val:"drawline",icon:R.drawline,click:n},r.drawrect={name:"drawrect",title:function(g){return w(g,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:R.drawrect,click:n},r.drawcircle={name:"drawcircle",title:function(g){return w(g,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:R.drawcircle,click:n},r.eraseshape={name:"eraseshape",title:function(g){return w(g,"Erase active shape")},icon:R.eraseshape,click:I},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(g){return w(g,"Zoom in")},attr:"zoom",val:"in",icon:R.zoom_plus,click:n},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(g){return w(g,"Zoom out")},attr:"zoom",val:"out",icon:R.zoom_minus,click:n},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(g){return w(g,"Autoscale")},attr:"zoom",val:"auto",icon:R.autoscale,click:n},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(g){return w(g,"Reset axes")},attr:"zoom",val:"reset",icon:R.home,click:n},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(g){return w(g,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:R.tooltip_basic,gravity:"ne",click:n},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(g){return w(g,"Compare data on hover")},attr:"hovermode",val:function(g){return g._fullLayout._isHoriz?"y":"x"},icon:R.tooltip_compare,gravity:"ne",click:n},r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(g){return w(g,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:R.zoombox,click:c},r.pan3d={name:"pan3d",_cat:"pan",title:function(g){return w(g,"Pan")},attr:"scene.dragmode",val:"pan",icon:R.pan,click:c},r.orbitRotation={name:"orbitRotation",title:function(g){return w(g,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:R["3d_rotate"],click:c},r.tableRotation={name:"tableRotation",title:function(g){return w(g,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:R["z-axis"],click:c},r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(g){return w(g,"Reset camera to default")},attr:"resetDefault",icon:R.home,click:o},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(g){return w(g,"Reset camera to last save")},attr:"resetLastSave",icon:R.movie,click:o},r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(g){return w(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:R.tooltip_basic,gravity:"ne",click:function h(g,C){var T=f(g,C);S.call("_guiRelayout",g,T)}},r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(g){return w(g,"Zoom in")},attr:"zoom",val:"in",icon:R.zoom_plus,click:d},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(g){return w(g,"Zoom out")},attr:"zoom",val:"out",icon:R.zoom_minus,click:d},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(g){return w(g,"Reset")},attr:"reset",val:null,icon:R.autoscale,click:d},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(g){return w(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:R.tooltip_basic,gravity:"ne",click:p},r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(g){return w(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:R.tooltip_basic,gravity:"ne",click:p},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(g){return w(g,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:R.tooltip_basic,gravity:"ne",click:p},r.resetViewSankey={name:"resetSankeyGroup",title:function(g){return w(g,"Reset view")},icon:R.home,click:function(g){for(var C={"node.groups":[],"node.x":[],"node.y":[]},T=0;T<g._fullData.length;T++){var L=g._fullData[T]._viewInitial;C["node.groups"].push(L.node.groups.slice()),C["node.x"].push(L.node.x.slice()),C["node.y"].push(L.node.y.slice())}S.call("restyle",g,C)}},r.toggleHover={name:"toggleHover",title:function(g){return w(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:R.tooltip_basic,gravity:"ne",click:function(g,C){var T=f(g,C);T.hovermode=b(g),S.call("_guiRelayout",g,T)}},r.resetViews={name:"resetViews",title:function(g){return w(g,"Reset views")},icon:R.home,click:function(g,C){var T=C.currentTarget;T.setAttribute("data-attr","zoom"),T.setAttribute("data-val","reset"),n(g,C),T.setAttribute("data-attr","resetLastSave"),o(g,C),u(g,"geo"),u(g,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(g){return w(g,"Toggle Spike Lines")},icon:R.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(g){var C=g._fullLayout;C._cartesianSpikesEnabled="on"===C._cartesianSpikesEnabled?"off":"on",S.call("_guiRelayout",g,function A(g){for(var T="on"===g._fullLayout._cartesianSpikesEnabled,L=l.list(g,null,!0),x={},E=0;E<L.length;E++){var M=L[E];x[M._name+".showspikes"]=!!T||M._showSpikeInitial}return x}(g))}},r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(g){return w(g,"Reset view")},attr:"reset",icon:R.home,click:function(g){u(g,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(g){return w(g,"Zoom in")},attr:"zoom",val:"in",icon:R.zoom_plus,click:m},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(g){return w(g,"Zoom out")},attr:"zoom",val:"out",icon:R.zoom_minus,click:m}},93348:function(oe,J,t){"use strict";var S=t(26023),k=Object.keys(S),l=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],R=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(l),I=[];k.forEach(function(w){!function(w){if(-1===R.indexOf(w._cat||w.name)){var r=w.name,n=(w._cat||w.name).toLowerCase();-1===I.indexOf(r)&&I.push(r),-1===I.indexOf(n)&&I.push(n)}}(S[w])}),I.sort(),oe.exports={DRAW_MODES:l,backButtons:R,foreButtons:I}},35750:function(oe,J,t){"use strict";var S=t(71828),k=t(7901),l=t(44467),R=t(42068);oe.exports=function(v,w){var r=v.modebar||{},n=l.newContainer(w,"modebar");function c(f,h){return S.coerce(r,n,R,f,h)}c("orientation"),c("bgcolor",k.addOpacity(w.paper_bgcolor,.5));var o=k.contrast(k.rgb(w.modebar.bgcolor));c("color",k.addOpacity(o,.3)),c("activecolor",k.addOpacity(o,.7)),c("uirevision",w.uirevision),c("add"),c("remove")}},64168:function(oe,J,t){"use strict";oe.exports={moduleType:"component",name:"modebar",layoutAttributes:t(42068),supplyLayoutDefaults:t(35750),manage:t(14192)}},14192:function(oe,J,t){"use strict";var S=t(41675),k=t(34098),l=t(73972),R=t(23469).isUnifiedHover,I=t(37676),v=t(26023),w=t(93348).DRAW_MODES,r=t(71828).extendDeep;function n(b){var p=b._fullLayout,A=b._fullData,m=b._context;function u(re,$){if("string"==typeof $){if($.toLowerCase()===re.toLowerCase())return!0}else if($.name===re||($._cat||$.name)===re.toLowerCase())return!0;return!1}var g=p.modebar.add;"string"==typeof g&&(g=[g]);var C=p.modebar.remove;"string"==typeof C&&(C=[C]);var T=m.modeBarButtonsToAdd.concat(g.filter(function(re){for(var $=0;$<m.modeBarButtonsToRemove.length;$++)if(u(re,m.modeBarButtonsToRemove[$]))return!1;return!0})),L=m.modeBarButtonsToRemove.concat(C.filter(function(re){for(var $=0;$<m.modeBarButtonsToAdd.length;$++)if(u(re,m.modeBarButtonsToAdd[$]))return!1;return!0})),x=p._has("cartesian"),E=p._has("gl3d"),M=p._has("geo"),i=p._has("pie"),D=p._has("funnelarea"),y=p._has("gl2d"),B=p._has("ternary"),F=p._has("mapbox"),_=p._has("polar"),z=p._has("smith"),V=p._has("sankey"),H=function c(b){for(var p=S.list({_fullLayout:b},null,!0),A=0;A<p.length;A++)if(!p[A].fixedrange)return!1;return!0}(p),U=R(p.hovermode),G=[];function Y(re){if(re.length){for(var $=[],le=0;le<re.length;le++){for(var se=re[le],de=v[se],we=de.name.toLowerCase(),Ee=(de._cat||de.name).toLowerCase(),Me=!1,Ne=0;Ne<L.length;Ne++){var Ve=L[Ne].toLowerCase();if(Ve===we||Ve===Ee){Me=!0;break}}Me||$.push(v[se])}G.push($)}}var ee=["toImage"];m.showEditInChartStudio?ee.push("editInChartStudio"):m.showSendToCloud&&ee.push("sendDataToCloud"),Y(ee);var ue=[],ce=[],pe=[],te=[];(x||y||i||D||B)+M+E+F+_+z>1?(ce=["toggleHover"],pe=["resetViews"]):M?(ue=["zoomInGeo","zoomOutGeo"],ce=["hoverClosestGeo"],pe=["resetGeo"]):E?(ce=["hoverClosest3d"],pe=["resetCameraDefault3d","resetCameraLastSave3d"]):F?(ue=["zoomInMapbox","zoomOutMapbox"],ce=["toggleHover"],pe=["resetViewMapbox"]):y?ce=["hoverClosestGl2d"]:i?ce=["hoverClosestPie"]:V?(ce=["hoverClosestCartesian","hoverCompareCartesian"],pe=["resetViewSankey"]):ce=["toggleHover"],x&&(ce=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function f(b){for(var p=0;p<b.length;p++)if(!l.traceIs(b[p],"noHover"))return!1;return!0}(A)||U)&&(ce=[]),(x||y)&&!H&&(ue=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==pe[0]&&(pe=["resetScale2d"])),E?te=["zoom3d","pan3d","orbitRotation","tableRotation"]:(x||y)&&!H||B?te=["zoom2d","pan2d"]:F||M?te=["pan2d"]:_&&(te=["zoom2d"]),function o(b){for(var p=!1,A=0;A<b.length&&!p;A++){var m=b[A];!m._module||!m._module.selectPoints||(l.traceIs(m,"scatter-like")?(k.hasMarkers(m)||k.hasText(m))&&(p=!0):l.traceIs(m,"box-violin")?("all"===m.boxpoints||"all"===m.points)&&(p=!0):p=!0)}return p}(A)&&te.push("select2d","lasso2d");var Q=[],K=function(re){-1===Q.indexOf(re)&&-1!==ce.indexOf(re)&&Q.push(re)};if(Array.isArray(T)){for(var Z=[],q=0;q<T.length;q++){var fe=T[q];"string"==typeof fe?(fe=fe.toLowerCase(),-1!==w.indexOf(fe)?(p._has("mapbox")||p._has("cartesian"))&&te.push(fe):"togglespikelines"===fe?K("toggleSpikelines"):"togglehover"===fe?K("toggleHover"):"hovercompare"===fe?K("hoverCompareCartesian"):"hoverclosest"===fe?(K("hoverClosestCartesian"),K("hoverClosestGeo"),K("hoverClosest3d"),K("hoverClosestGl2d"),K("hoverClosestPie")):"v1hovermode"===fe&&(K("toggleHover"),K("hoverClosestCartesian"),K("hoverCompareCartesian"),K("hoverClosestGeo"),K("hoverClosest3d"),K("hoverClosestGl2d"),K("hoverClosestPie"))):Z.push(fe)}T=Z}return Y(te),Y(ue.concat(pe)),Y(Q),function h(b,p){if(p.length)if(Array.isArray(p[0]))for(var A=0;A<p.length;A++)b.push(p[A]);else b.push(p);return b}(G,T)}oe.exports=function(p){var A=p._fullLayout,m=p._context,u=A._modeBar;if(m.displayModeBar||m.watermark){if(!Array.isArray(m.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(m.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var C,g=m.modeBarButtons;C=Array.isArray(g)&&g.length?function d(b){for(var p=r([],b),A=0;A<p.length;A++)for(var m=p[A],u=0;u<m.length;u++){var g=m[u];if("string"==typeof g){if(void 0===v[g])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));p[A][u]=v[g]}}return p}(g):!m.displayModeBar&&m.watermark?[]:n(p),u?u.update(p,C):A._modeBar=I(p,C)}else u&&(u.destroy(),delete A._modeBar)}},37676:function(oe,J,t){"use strict";var S=t(39898),k=t(92770),l=t(71828),R=t(24255),I=t(11506).version,v=new DOMParser;function w(o){this.container=o.container,this.element=document.createElement("div"),this.update(o.graphInfo,o.buttons),this.container.appendChild(this.element)}var r=w.prototype;r.update=function(o,f){this.graphInfo=o;var h=this.graphInfo._context,d=this.graphInfo._fullLayout,b="modebar-"+d._uid;this.element.setAttribute("id",b),this._uid=b,this.element.className="modebar","hover"===h.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===d.modebar.orientation&&(this.element.className+=" vertical",f=f.reverse());var p=d.modebar,A="hover"===h.displayModeBar?".js-plotly-plot .plotly:hover ":"";l.deleteRelatedStyleRule(b),l.addRelatedStyleRule(b,A+"#"+b+" .modebar-group","background-color: "+p.bgcolor),l.addRelatedStyleRule(b,"#"+b+" .modebar-btn .icon path","fill: "+p.color),l.addRelatedStyleRule(b,"#"+b+" .modebar-btn:hover .icon path","fill: "+p.activecolor),l.addRelatedStyleRule(b,"#"+b+" .modebar-btn.active .icon path","fill: "+p.activecolor);var m=!this.hasButtons(f),u=this.hasLogo!==h.displaylogo,g=this.locale!==h.locale;if(this.locale=h.locale,(m||u||g)&&(this.removeAllButtons(),this.updateButtons(f),h.watermark||h.displaylogo)){var C=this.getLogo();h.watermark&&(C.className=C.className+" watermark"),"v"===d.modebar.orientation?this.element.insertBefore(C,this.element.childNodes[0]):this.element.appendChild(C),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(o){var f=this;this.buttons=o,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(h){var d=f.createGroup();h.forEach(function(b){var p=b.name;if(!p)throw new Error("must provide button 'name' in button config");if(-1!==f.buttonsNames.indexOf(p))throw new Error("button name '"+p+"' is taken");f.buttonsNames.push(p);var A=f.createButton(b);f.buttonElements.push(A),d.appendChild(A)}),f.element.appendChild(d)})},r.createGroup=function(){var o=document.createElement("div");return o.className="modebar-group",o},r.createButton=function(o){var f=this,h=document.createElement("a");h.setAttribute("rel","tooltip"),h.className="modebar-btn";var d=o.title;void 0===d?d=o.name:"function"==typeof d&&(d=d(this.graphInfo)),(d||0===d)&&h.setAttribute("data-title",d),void 0!==o.attr&&h.setAttribute("data-attr",o.attr);var b=o.val;if(void 0!==b&&("function"==typeof b&&(b=b(this.graphInfo)),h.setAttribute("data-val",b)),"function"!=typeof o.click)throw new Error("must provide button 'click' function in button config");h.addEventListener("click",function(m){o.click(f.graphInfo,m),f.updateActiveButton(m.currentTarget)}),h.setAttribute("data-toggle",o.toggle||!1),o.toggle&&S.select(h).classed("active",!0);var A=o.icon;return h.appendChild("function"==typeof A?A():this.createIcon(A||R.question)),h.setAttribute("data-gravity",o.gravity||"n"),h},r.createIcon=function(o){var d,f=k(o.height)?Number(o.height):o.ascent-o.descent,h="http://www.w3.org/2000/svg";if(o.path){(d=document.createElementNS(h,"svg")).setAttribute("viewBox",[0,0,o.width,f].join(" ")),d.setAttribute("class","icon");var b=document.createElementNS(h,"path");b.setAttribute("d",o.path),o.transform?b.setAttribute("transform",o.transform):void 0!==o.ascent&&b.setAttribute("transform","matrix(1 0 0 -1 0 "+o.ascent+")"),d.appendChild(b)}return o.svg&&(d=v.parseFromString(o.svg,"application/xml").childNodes[0]),d.setAttribute("height","1em"),d.setAttribute("width","1em"),d},r.updateActiveButton=function(o){var f=this.graphInfo._fullLayout,h=void 0!==o?o.getAttribute("data-attr"):null;this.buttonElements.forEach(function(d){var b=d.getAttribute("data-val")||!0,p=d.getAttribute("data-attr"),A="true"===d.getAttribute("data-toggle"),m=S.select(d);if(A)p===h&&m.classed("active",!m.classed("active"));else{var u=null===p?p:l.nestedProperty(f,p).get();m.classed("active",u===b)}})},r.hasButtons=function(o){var f=this.buttons;if(!f||o.length!==f.length)return!1;for(var h=0;h<o.length;++h){if(o[h].length!==f[h].length)return!1;for(var d=0;d<o[h].length;d++)if(o[h][d].name!==f[h][d].name)return!1}return!0},r.getLogo=function(){var o=this.createGroup(),f=document.createElement("a");return f.href="https://plotly.com/",f.target="_blank",f.setAttribute("data-title",function n(o){return o+" (v"+I+")"}(l._(this.graphInfo,"Produced with Plotly.js"))),f.className="modebar-btn plotlyjsicon modebar-btn--logo",f.appendChild(this.createIcon(R.newplotlylogo)),o.appendChild(f),o},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){l.removeElement(this.container.querySelector(".modebar")),l.deleteRelatedStyleRule(this._uid)},oe.exports=function c(o,f){var h=o._fullLayout,d=new w({graphInfo:o,container:h._modebardiv.node(),buttons:f});return h._privateplot&&S.select(d.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),d}},37113:function(oe,J,t){"use strict";var S=t(41940),k=t(22399),R=(0,t(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});oe.exports={visible:{valType:"boolean",editType:"plot"},buttons:R,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:S({editType:"plot"}),bgcolor:{valType:"color",dflt:k.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(oe){"use strict";oe.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(oe,J,t){"use strict";var S=t(71828),k=t(7901),l=t(44467),R=t(85501),I=t(37113),v=t(89573);function w(n,c,o,f){var h=f.calendar;function d(A,m){return S.coerce(n,c,I.buttons,A,m)}if(d("visible")){var p=d("step");"all"!==p&&(!h||"gregorian"===h||"month"!==p&&"year"!==p?d("stepmode"):c.stepmode="backward",d("count")),d("label")}}oe.exports=function(c,o,f,h,d){var b=c.rangeselector||{},p=l.newContainer(o,"rangeselector");function A(T,L){return S.coerce(b,p,I,T,L)}if(A("visible",R(b,p,{name:"buttons",handleItemDefaults:w,calendar:d}).length>0)){var g=function r(n,c,o){for(var f=o.filter(function(p){return c[p].anchor===n._id}),h=0,d=0;d<f.length;d++){var b=c[f[d]].domain;b&&(h=Math.max(b[1],h))}return[n.domain[0],h+v.yPad]}(o,f,h);A("x",g[0]),A("y",g[1]),S.noneOrAll(c,o,["x","y"]),A("xanchor"),A("yanchor"),S.coerceFont(A,"font",f.font);var C=A("bgcolor");A("activecolor",k.contrast(C,v.lightAmount,v.darkAmount)),A("bordercolor"),A("borderwidth")}}},21598:function(oe,J,t){"use strict";var S=t(39898),k=t(73972),l=t(74875),R=t(7901),I=t(91424),v=t(71828),w=v.strTranslate,r=t(63893),n=t(41675),c=t(18783),o=c.LINE_SPACING,f=c.FROM_TL,h=c.FROM_BR,d=t(89573),b=t(70565);function A(x){return x._id}function u(x,E,M){var i=v.ensureSingle(x,"rect","selector-rect",function(D){D.attr("shape-rendering","crispEdges")});i.attr({rx:d.rx,ry:d.ry}),i.call(R.stroke,E.bordercolor).call(R.fill,function g(x,E){return E._isActive||E._isHovered?x.activecolor:x.bgcolor}(E,M)).style("stroke-width",E.borderwidth+"px")}function C(x,E,M,i){v.ensureSingle(x,"text","selector-text",function(B){B.attr("text-anchor","middle")}).call(I.font,E.font).text(function T(x,E){return x.label?E?v.templateString(x.label,E):x.label:"all"===x.step?"all":x.count+x.step.charAt(0)}(M,i._fullLayout._meta)).call(function D(B){r.convertToTspans(B,i)})}oe.exports=function(E){var i=E._fullLayout._infolayer.selectAll(".rangeselector").data(function p(x){for(var E=n.list(x,"x",!0),M=[],i=0;i<E.length;i++){var D=E[i];D.rangeselector&&D.rangeselector.visible&&M.push(D)}return M}(E),A);i.enter().append("g").classed("rangeselector",!0),i.exit().remove(),i.style({cursor:"pointer","pointer-events":"all"}),i.each(function(D){var y=S.select(this),B=D,F=B.rangeselector,_=y.selectAll("g.button").data(v.filterVisible(F.buttons));_.enter().append("g").classed("button",!0),_.exit().remove(),_.each(function(z){var V=S.select(this),H=b(B,z);z._isActive=function m(x,E,M){if("all"===E.step)return!0===x.autorange;var i=Object.keys(M);return x.range[0]===M[i[0]]&&x.range[1]===M[i[1]]}(B,z,H),V.call(u,F,z),V.call(C,F,z,E),V.on("click",function(){E._dragged||k.call("_guiRelayout",E,H)}),V.on("mouseover",function(){z._isHovered=!0,V.call(u,F,z)}),V.on("mouseout",function(){z._isHovered=!1,V.call(u,F,z)})}),function L(x,E,M,i,D){var y=0,B=0,F=M.borderwidth;E.each(function(){var Y=S.select(this).select(".selector-text"),ue=Math.max(M.font.size*o*r.lineCount(Y),16)+3;B=Math.max(B,ue)}),E.each(function(){var G=S.select(this),Y=G.select(".selector-rect"),ee=G.select(".selector-text"),ue=ee.node()&&I.bBox(ee.node()).width,ce=M.font.size*o,pe=r.lineCount(ee),te=Math.max(ue+10,d.minButtonWidth);G.attr("transform",w(F+y,F)),Y.attr({x:0,y:0,width:te,height:B}),r.positionText(ee,te/2,B/2-(pe-1)*ce/2+3),y+=te+5});var _=x._fullLayout._size,z=_.l+_.w*M.x,V=_.t+_.h*(1-M.y),H="left";v.isRightAnchor(M)&&(z-=y,H="right"),v.isCenterAnchor(M)&&(z-=y/2,H="center");var U="top";v.isBottomAnchor(M)&&(V-=B,U="bottom"),v.isMiddleAnchor(M)&&(V-=B/2,U="middle"),y=Math.ceil(y),B=Math.ceil(B),z=Math.round(z),V=Math.round(V),l.autoMargin(x,i+"-range-selector",{x:M.x,y:M.y,l:y*f[H],r:y*h[H],b:B*h[U],t:B*f[U]}),D.attr("transform",w(z,V))}(E,_,F,B._name,y)})}},70565:function(oe,J,t){"use strict";var S=t(81041),k=t(71828).titleCase;oe.exports=function(I,v){var w=I._name,r={};if("all"===v.step)r[w+".autorange"]=!0;else{var n=function l(R,I){var o,v=R.range,w=new Date(R.r2l(v[1])),n=S["utc"+k(I.step)],c=I.count;switch(I.stepmode){case"backward":o=R.l2r(+n.offset(w,-c));break;case"todate":var f=n.offset(w,-c);o=R.l2r(+n.ceil(f))}return[o,v[1]]}(I,v);r[w+".range[0]"]=n[0],r[w+".range[1]"]=n[1]}return r}},97218:function(oe,J,t){"use strict";oe.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t(37113)}}},layoutAttributes:t(37113),handleDefaults:t(28674),draw:t(21598)}},75148:function(oe,J,t){"use strict";var S=t(22399);oe.exports={bgcolor:{valType:"color",dflt:S.background,editType:"plot"},bordercolor:{valType:"color",dflt:S.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(oe,J,t){"use strict";var S=t(41675).list,k=t(71739).getAutoRange,l=t(73251);oe.exports=function(I){for(var v=S(I,"x",!0),w=0;w<v.length;w++){var r=v[w],n=r[l.name];n&&n.visible&&n.autorange&&(n._input.autorange=!0,n._input.range=n.range=k(I,r))}}},73251:function(oe){"use strict";oe.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(oe,J,t){"use strict";var S=t(71828),k=t(44467),l=t(41675),R=t(75148),I=t(47850);oe.exports=function(w,r,n){var c=w[n],o=r[n];if(c.rangeslider||r._requestRangeslider[o._id]){S.isPlainObject(c.rangeslider)||(c.rangeslider={});var b,p,f=c.rangeslider,h=k.newContainer(o,"rangeslider");if(d("visible")){d("bgcolor",r.plot_bgcolor),d("bordercolor"),d("borderwidth"),d("thickness"),d("autorange",!o.isValidRange(f.range)),d("range");var u=r._subplots;if(u)for(var g=u.cartesian.filter(function(i){return i.substr(0,i.indexOf("y"))===l.name2id(n)}).map(function(i){return i.substr(i.indexOf("y"),i.length)}),C=S.simpleMap(g,l.id2name),T=0;T<C.length;T++){var L=C[T];b=f[L]||{},p=k.newContainer(h,L,"yaxis");var E,x=r[L];b.range&&x.isValidRange(b.range)&&(E="fixed"),"match"!==A("rangemode",E)&&A("range",x.range.slice())}h._input=f}}function d(i,D){return S.coerce(f,h,R,i,D)}function A(i,D){return S.coerce(b,p,I,i,D)}}},72413:function(oe,J,t){"use strict";var S=t(39898),k=t(73972),l=t(74875),R=t(71828),I=R.strTranslate,v=t(91424),w=t(7901),r=t(92998),n=t(93612),c=t(41675),o=t(28569),f=t(6964),h=t(73251);function d(x,E,M,i){if(!E._context.staticPlot){var D=x.select("rect."+h.slideBoxClassName).node(),y=x.select("rect."+h.grabAreaMinClassName).node(),B=x.select("rect."+h.grabAreaMaxClassName).node();x.on("mousedown",F),x.on("touchstart",F)}function F(){var _=S.event,z=_.target,V=_.clientX||_.touches[0].clientX,H=V-x.node().getBoundingClientRect().left,U=i.d2p(M._rl[0]),G=i.d2p(M._rl[1]),Y=o.coverSlip();function ee(ce){var Q,K,Z,te=+(ce.clientX||ce.touches[0].clientX)-V;switch(z){case D:if(Z="ew-resize",U+te>M._length||G+te<0)return;Q=U+te,K=G+te;break;case y:if(Z="col-resize",U+te>M._length)return;Q=U+te,K=G;break;case B:if(Z="col-resize",G+te<0)return;Q=U,K=G+te;break;default:Z="ew-resize",Q=H,K=H+te}if(K<Q){var q=K;K=Q,Q=q}i._pixelMin=Q,i._pixelMax=K,f(S.select(Y),Z),function b(x,E,M,i){function D(F){return M.l2r(R.constrain(F,i._rl[0],i._rl[1]))}var y=D(i.p2d(i._pixelMin)),B=D(i.p2d(i._pixelMax));window.requestAnimationFrame(function(){k.call("_guiRelayout",E,M._name+".range",[y,B])})}(0,E,M,i)}function ue(){Y.removeEventListener("mousemove",ee),Y.removeEventListener("mouseup",ue),this.removeEventListener("touchmove",ee),this.removeEventListener("touchend",ue),R.removeElement(Y)}this.addEventListener("touchmove",ee),this.addEventListener("touchend",ue),Y.addEventListener("mousemove",ee),Y.addEventListener("mouseup",ue)}}function A(x,E,M,i){var D=R.ensureSingle(x,"rect",h.bgClassName,function(_){_.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),y=i.borderwidth%2==0?i.borderwidth:i.borderwidth-1,B=-i._offsetShift,F=v.crispRound(E,i.borderwidth);D.attr({width:i._width+y,height:i._height+y,transform:I(B,B),"stroke-width":F}).call(w.stroke,i.bordercolor).call(w.fill,i.bgcolor)}function m(x,E,M,i){R.ensureSingleById(E._fullLayout._topdefs,"clipPath",i._clipId,function(B){B.append("rect").attr({x:0,y:0})}).select("rect").attr({width:i._width,height:i._height})}function u(x,E,M,i){var B,D=E.calcdata,y=x.selectAll("g."+h.rangePlotClassName).data(M._subplotsWith,R.identity);y.enter().append("g").attr("class",function(F){return h.rangePlotClassName+" "+F}).call(v.setClipUrl,i._clipId,E),y.order(),y.exit().remove(),y.each(function(F,_){var z=S.select(this),V=0===_,H=c.getFromId(E,F,"y"),U=H._name,G=i[U],Y={data:[],layout:{xaxis:{type:M.type,domain:[0,1],range:i.range.slice(),calendar:M.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:E._context};M.rangebreaks&&(Y.layout.xaxis.rangebreaks=M.rangebreaks),Y.layout[U]={type:H.type,domain:[0,1],range:"match"!==G.rangemode?G.range.slice():H.range.slice(),calendar:H.calendar},H.rangebreaks&&(Y.layout[U].rangebreaks=H.rangebreaks),l.supplyDefaults(Y);var ee=Y._fullLayout.xaxis,ue=Y._fullLayout[U];ee.clearCalc(),ee.setScale(),ue.clearCalc(),ue.setScale();var ce={id:F,plotgroup:z,xaxis:ee,yaxis:ue,isRangePlot:!0};V?B=ce:(ce.mainplot="xy",ce.mainplotinfo=B),n.rangePlot(E,ce,function g(x,E){for(var M=[],i=0;i<x.length;i++){var D=x[i],y=D[0].trace;y.xaxis+y.yaxis===E&&M.push(D)}return M}(D,F))})}function C(x,E,M,i,D){R.ensureSingle(x,"rect",h.maskMinClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",i._height).call(w.fill,h.maskColor),R.ensureSingle(x,"rect",h.maskMaxClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",i._height).call(w.fill,h.maskColor),"match"!==D.rangemode&&(R.ensureSingle(x,"rect",h.maskMinOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",i._width).call(w.fill,h.maskOppAxisColor),R.ensureSingle(x,"rect",h.maskMaxOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",i._width).style("border-top",h.maskOppBorder).call(w.fill,h.maskOppAxisColor))}function T(x,E,M,i){E._context.staticPlot||R.ensureSingle(x,"rect",h.slideBoxClassName,function(y){y.attr({y:0,cursor:h.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:i._height,fill:h.slideBoxFill})}function L(x,E,M,i){var D=R.ensureSingle(x,"g",h.grabberMinClassName),y=R.ensureSingle(x,"g",h.grabberMaxClassName),B={x:0,width:h.handleWidth,rx:h.handleRadius,fill:w.background,stroke:w.defaultLine,"stroke-width":h.handleStrokeWidth,"shape-rendering":"crispEdges"},F={y:Math.round(i._height/4),height:Math.round(i._height/2)};R.ensureSingle(D,"rect",h.handleMinClassName,function(G){G.attr(B)}).attr(F),R.ensureSingle(y,"rect",h.handleMaxClassName,function(G){G.attr(B)}).attr(F);var V={width:h.grabAreaWidth,x:0,y:0,fill:h.grabAreaFill,cursor:E._context.staticPlot?void 0:h.grabAreaCursor};R.ensureSingle(D,"rect",h.grabAreaMinClassName,function(G){G.attr(V)}).attr("height",i._height),R.ensureSingle(y,"rect",h.grabAreaMaxClassName,function(G){G.attr(V)}).attr("height",i._height)}oe.exports=function(x){for(var E=x._fullLayout,M=E._rangeSliderData,i=0;i<M.length;i++){var D=M[i][h.name];D._clipId=D._id+"-"+E._uid}var B=E._infolayer.selectAll("g."+h.containerClassName).data(M,function y(F){return F._name});B.exit().each(function(F){E._topdefs.select("#"+F[h.name]._clipId).remove()}).remove(),0!==M.length&&(B.enter().append("g").classed(h.containerClassName,!0).attr("pointer-events","all"),B.each(function(F){var _=S.select(this),z=F[h.name],V=E[c.id2name(F.anchor)],H=z[c.id2name(F.anchor)];if(z.range){var Y,U=R.simpleMap(z.range,F.r2l),G=R.simpleMap(F.range,F.r2l);Y=G[0]<G[1]?[Math.min(U[0],G[0]),Math.max(U[1],G[1])]:[Math.max(U[0],G[0]),Math.min(U[1],G[1])],z.range=z._input.range=R.simpleMap(Y,F.l2r)}F.cleanRange("rangeslider.range");var ee=E._size,ue=F.domain;z._width=ee.w*(ue[1]-ue[0]);var ce=Math.round(ee.l+ee.w*ue[0]),pe=Math.round(ee.t+ee.h*(1-F._counterDomainMin)+("bottom"===F.side?F._depth:0)+z._offsetShift+h.extraPad);_.attr("transform",I(ce,pe)),z._rl=R.simpleMap(z.range,F.r2l);var te=z._rl[0],Q=z._rl[1],K=Q-te;if(z.p2d=function(Ee){return Ee/z._width*K+te},z.d2p=function(Ee){return(Ee-te)/K*z._width},F.rangebreaks){var Z=F.locateBreaks(te,Q);if(Z.length){var q,fe,re=0;for(q=0;q<Z.length;q++)re+=(fe=Z[q]).max-fe.min;var $=z._width/(Q-te-re),le=[-$*te];for(q=0;q<Z.length;q++)le.push(le[le.length-1]-$*((fe=Z[q]).max-fe.min));for(z.d2p=function(Ee){for(var Me=le[0],Ne=0;Ne<Z.length;Ne++){var Ve=Z[Ne];if(Ee>=Ve.max)Me=le[Ne+1];else if(Ee<Ve.min)break}return Me+$*Ee},q=0;q<Z.length;q++)(fe=Z[q]).pmin=z.d2p(fe.min),fe.pmax=z.d2p(fe.max);z.p2d=function(Ee){for(var Me=le[0],Ne=0;Ne<Z.length;Ne++){var Ve=Z[Ne];if(Ee>=Ve.pmax)Me=le[Ne+1];else if(Ee<Ve.pmin)break}return(Ee-Me)/$}}}if("match"!==H.rangemode){var se=V.r2l(H.range[0]),we=V.r2l(H.range[1])-se;z.d2pOppAxis=function(Ee){return(Ee-se)/we*z._height}}_.call(A,x,F,z).call(m,x,F,z).call(u,x,F,z).call(C,x,F,z,H).call(T,x,F,z).call(L,x,F,z),d(_,x,F,z),function p(x,E,M,i,D,y){var B=h.handleWidth/2;function F(ce){return R.constrain(ce,0,i._width)}function _(ce){return R.constrain(ce,0,i._height)}function z(ce){return R.constrain(ce,-B,i._width+B)}var V=F(i.d2p(M._rl[0])),H=F(i.d2p(M._rl[1]));if(x.select("rect."+h.slideBoxClassName).attr("x",V).attr("width",H-V),x.select("rect."+h.maskMinClassName).attr("width",V),x.select("rect."+h.maskMaxClassName).attr("x",H).attr("width",i._width-H),"match"!==y.rangemode){var U=i._height-_(i.d2pOppAxis(D._rl[1])),G=i._height-_(i.d2pOppAxis(D._rl[0]));x.select("rect."+h.maskMinOppAxisClassName).attr("x",V).attr("height",U).attr("width",H-V),x.select("rect."+h.maskMaxOppAxisClassName).attr("x",V).attr("y",G).attr("height",i._height-G).attr("width",H-V),x.select("rect."+h.slideBoxClassName).attr("y",U).attr("height",G-U)}var Y=.5,ee=Math.round(z(V-B))-Y,ue=Math.round(z(H-B))+Y;x.select("g."+h.grabberMinClassName).attr("transform",I(ee,Y)),x.select("g."+h.grabberMaxClassName).attr("transform",I(ue,Y))}(_,0,F,z,V,H),"bottom"===F.side&&r.draw(x,F._id+"title",{propContainer:F,propName:F._name+".title",placeholder:E._dfltTitle.x,attributes:{x:F._offset+F._length/2,y:pe+z._height+z._offsetShift+10+1.5*F.title.font.size,"text-anchor":"middle"}})}))}},549:function(oe,J,t){"use strict";var S=t(41675),k=t(63893),l=t(73251),R=t(18783).LINE_SPACING,I=l.name;function v(w){var r=w&&w[I];return r&&r.visible}J.isVisible=v,J.makeData=function(w){var r=S.list({_fullLayout:w},"x",!0),n=w.margin,c=[];if(!w._has("gl2d"))for(var o=0;o<r.length;o++){var f=r[o];if(v(f)){c.push(f);var h=f[I];h._id=I+f._id,h._height=(w.height-n.b-n.t)*h.thickness,h._offsetShift=Math.floor(h.borderwidth/2)}}w._rangeSliderData=c},J.autoMarginOpts=function(w,r){var n=w._fullLayout,c=r[I],o=r._id.charAt(0),f=0,h=0;return"bottom"===r.side&&(f=r._depth,r.title.text!==n._dfltTitle[o])&&(h=1.5*r.title.font.size+10+c._offsetShift,h+=(r.title.text.match(k.BR_TAG_ALL)||[]).length*r.title.font.size*R),{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:c._height+f+Math.max(n.margin.b,h),pad:l.extraPad+2*c._offsetShift}}},13137:function(oe,J,t){"use strict";var S=t(71828),k=t(75148),l=t(47850),R=t(549);oe.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:S.extendFlat({},k,{yaxis:l})}}},layoutAttributes:t(75148),handleDefaults:t(26377),calcAutorange:t(88443),draw:t(72413),isVisible:R.isVisible,makeData:R.makeData,autoMarginOpts:R.autoMarginOpts}},47850:function(oe){"use strict";oe.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(oe,J,t){"use strict";var S=t(50215),k=t(82196).line,l=t(79952).P,R=t(1426).extendFlat,I=t(30962).overrideAll,v=t(44467).templatedArray;t(24695),oe.exports=I(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:R({},S.xref,{}),yref:R({},S.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:k.color,width:R({},k.width,{min:1,dflt:1}),dash:R({},l,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(oe){"use strict";oe.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(oe,J,t){"use strict";var S=t(71828),k=t(89298),l=t(85501),R=t(8389),I=t(30477);function v(w,r,n){function c(y,B){return S.coerce(w,r,R,y,B)}var o=c("path"),d="path"!==c("type",o?"path":"rect");d&&delete r.path,c("opacity"),c("line.color"),c("line.width"),c("line.dash");for(var b=["x","y"],p=0;p<2;p++){var u,g,C,A=b[p],m={_fullLayout:n},T=k.coerceRef(w,r,m,A);if((u=k.getFromId(m,T))._selectionIndices.push(r._index),C=I.rangeToShapePosition(u),g=I.shapePositionToRange(u),d){var L=A+"0",x=A+"1",E=w[L],M=w[x];w[L]=g(w[L],!0),w[x]=g(w[x],!0),k.coercePosition(r,m,c,T,L),k.coercePosition(r,m,c,T,x);var i=r[L],D=r[x];void 0!==i&&void 0!==D&&(r[L]=C(i),r[x]=C(D),w[L]=E,w[x]=M)}}d&&S.noneOrAll(w,r,["x0","x1","y0","y1"])}oe.exports=function(r,n){l(r,n,{name:"selections",handleItemDefaults:v});for(var c=n.selections,o=0;o<c.length;o++){var f=c[o];f&&void 0===f.path&&(void 0===f.x0||void 0===f.x1||void 0===f.y0||void 0===f.y1)&&(n.selections[o]=null)}}},32485:function(oe,J,t){"use strict";var S=t(60165).readPaths,k=t(42359),l=t(51873).clearOutlineControllers,R=t(7901),I=t(91424),v=t(44467).arrayEditor,w=t(30477),r=w.getPathString;function n(p){var A=p._fullLayout;for(var m in l(p),A._selectionLayer.selectAll("path").remove(),A._plots){var u=A._plots[m].selectionLayer;u&&u.selectAll("path").remove()}for(var g=0;g<A.selections.length;g++)o(p,g)}function c(p){return p._context.editSelection}function o(p,A){p._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+A+'"]').remove();var m=w.makeSelectionsOptionsAndPlotinfo(p,A),u=m.options,g=m.plotinfo;u._input&&function C(T){var L=r(p,u),x={"data-index":A,"fill-rule":"evenodd",d:L},E=u.opacity,M="rgba(0,0,0,0)",i=u.line.color||R.contrast(p._fullLayout.plot_bgcolor),D=u.line.width,y=u.line.dash;D||(D=5,y="solid");var B=c(p)&&p._fullLayout._activeSelectionIndex===A;B&&(M=p._fullLayout.activeselection.fillcolor,E=p._fullLayout.activeselection.opacity);for(var F=[],_=1;_>=0;_--){var z=T.append("path").attr(x).style("opacity",_?.1:E).call(R.stroke,i).call(R.fill,M).call(I.dashLine,_?"solid":y,_?4+D:D);if(f(z,p,u),B){var V=v(p.layout,"selections",u);z.style({cursor:"move"});var H={element:z.node(),plotinfo:g,gd:p,editHelpers:V,isActiveSelection:!0},U=S(L,p);k(U,z,H)}else z.style("pointer-events",_?"all":"none");F[_]=z}var G=F[0];F[1].node().addEventListener("click",function(){return function h(p,A){if(c(p)){var u=+A.node().getAttribute("data-index");if(u>=0){if(u===p._fullLayout._activeSelectionIndex)return void b(p);p._fullLayout._activeSelectionIndex=u,p._fullLayout._deactivateSelection=b,n(p)}}}(p,G)})}(p._fullLayout._selectionLayer)}function f(p,A,m){I.setClipUrl(p,"clip"+A._fullLayout._uid+(m.xref+m.yref),A)}function b(p){c(p)&&p._fullLayout._activeSelectionIndex>=0&&(l(p),delete p._fullLayout._activeSelectionIndex,n(p))}oe.exports={draw:n,drawOne:o,activateLastSelection:function d(p){c(p)&&(p._fullLayout._activeSelectionIndex=p._fullLayout.selections.length-1,p._fullLayout._deactivateSelection=b,n(p))}}},53777:function(oe,J,t){"use strict";var S=t(79952).P,k=t(1426).extendFlat;oe.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:k({},S,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(oe){"use strict";oe.exports=function(t,S,k){k("newselection.mode"),k("newselection.line.width")&&(k("newselection.line.color"),k("newselection.line.dash")),k("activeselection.fillcolor"),k("activeselection.opacity")}},35855:function(oe,J,t){"use strict";var k=t(64505).selectMode,R=t(51873).clearOutline,I=t(60165),v=I.readPaths,w=I.writePaths,r=I.fixDatesForPaths;oe.exports=function(c,o){if(c.length){var f=c[0][0];if(f){var h=f.getAttribute("d"),d=o.gd,b=d._fullLayout.newselection,p=o.plotinfo,A=p.xaxis,m=p.yaxis,u=o.isActiveSelection,g=o.dragmode,C=(d.layout||{}).selections||[];if(!k(g)&&void 0!==u){var T=d._fullLayout._activeSelectionIndex;if(T<C.length)switch(d._fullLayout.selections[T].type){case"rect":g="select";break;case"path":g="lasso"}}var E,L=v(h,d,p,u),x={xref:A._id,yref:m._id,opacity:b.opacity,line:{color:b.line.color,width:b.line.width,dash:b.line.dash}};1===L.length&&(E=L[0]),E&&5===E.length&&"select"===g?(x.type="rect",x.x0=E[0][1],x.y0=E[0][2],x.x1=E[2][1],x.y1=E[2][2]):(x.type="path",A&&m&&r(L,A,m),x.path=w(L),E=null),R(d);for(var M=o.editHelpers,i=(M||{}).modifyItem,D=[],y=0;y<C.length;y++){var B=d._fullLayout.selections[y];if(B){if(D[y]=B._input,void 0!==u&&y===d._fullLayout._activeSelectionIndex){var F=x;switch(B.type){case"rect":i("x0",F.x0),i("x1",F.x1),i("y0",F.y0),i("y1",F.y1);break;case"path":i("path",F.path)}}}else D[y]=B}return void 0===u?(D.push(x),D):M?M.getUpdateObj():{}}}}},75549:function(oe,J,t){"use strict";var S=t(71828).strTranslate;function k(v,w){switch(v.type){case"log":return v.p2d(w);case"date":return v.p2r(w,0,v.calendar);default:return v.p2r(w)}}oe.exports={p2r:k,r2p:function l(v,w){switch(v.type){case"log":return v.d2p(w);case"date":return v.r2p(w,0,v.calendar);default:return v.r2p(w)}},axValue:function R(v){var w="y"===v._id.charAt(0)?1:0;return function(r){return k(v,r[w])}},getTransform:function I(v){return S(v.xaxis._offset,v.yaxis._offset)}}},47322:function(oe,J,t){"use strict";var S=t(32485),k=t(3937);oe.exports={moduleType:"component",name:"selections",layoutAttributes:t(8389),supplyLayoutDefaults:t(59402),supplyDrawNewSelectionDefaults:t(90849),includeBasePlot:t(76325)("selections"),draw:S.draw,drawOne:S.drawOne,reselect:k.reselect,prepSelect:k.prepSelect,clearOutline:k.clearOutline,clearSelectionsCache:k.clearSelectionsCache,selectOnClick:k.selectOnClick}},3937:function(oe,J,t){"use strict";var S=t(52142),k=t(38258),l=t(73972),R=t(91424).dashStyle,I=t(7901),v=t(30211),w=t(23469).makeEventData,r=t(64505),n=r.freeMode,c=r.rectMode,o=r.drawMode,f=r.openMode,h=r.selectMode,d=t(30477),b=t(21459),p=t(42359),A=t(51873).clearOutline,m=t(60165),u=m.handleEllipse,g=m.readPaths,C=t(90551).newShapes,T=t(35855),L=t(32485).activateLastSelection,x=t(71828),E=x.sorterAsc,M=t(61082),i=t(79990),D=t(41675).getFromId,y=t(33306),B=t(61549).redrawReglTraces,F=t(34122),_=F.MINSELECT,z=M.filter,V=M.tester,H=t(75549),U=H.p2r,G=H.axValue,Y=H.getTransform;function ee(Be){return void 0!==Be.subplot}function ce(Be,He,Ye,Ue,De,ge,Te){var ir,Lt,Ut,Qt,wt,$t,rr,Lr,mr,_e=He._hoverdata,gt=He._fullLayout.clickmode.indexOf("event")>-1,Kt=[];if(function de(Be){return Be&&Array.isArray(Be)&&!0!==Be[0].hoverOnBox}(_e)){Z(Be,He,ge);var bt=function we(Be,He){var ge,Te,Ye=Be[0],Ue=-1,De=[];for(Te=0;Te<He.length;Te++)if(Ye.fullData._expandedIndex===(ge=He[Te]).cd[0].trace._expandedIndex){if(!0===Ye.hoverOnBox)break;void 0!==Ye.pointNumber?Ue=Ye.pointNumber:void 0!==Ye.binNumber&&(Ue=Ye.binNumber,De=Ye.pointNumbers);break}return{pointNumber:Ue,pointNumbers:De,searchInfo:ge}}(_e,ir=le(He,Ye,Ue,De));if(bt.pointNumbers.length>0?function Me(Be,He){var Ue,De,Te,Ye=[];for(Te=0;Te<Be.length;Te++)(Ue=Be[Te]).cd[0].trace.selectedpoints&&Ue.cd[0].trace.selectedpoints.length>0&&Ye.push(Ue);if(1===Ye.length&&Ye[0]===He.searchInfo&&(De=He.searchInfo.cd[0].trace).selectedpoints.length===He.pointNumbers.length){for(Te=0;Te<He.pointNumbers.length;Te++)if(De.selectedpoints.indexOf(He.pointNumbers[Te])<0)return!1;return!0}return!1}(ir,bt):function Ne(Be){var Ue,De,He=0;for(De=0;De<Be.length;De++)if((Ue=Be[De].cd[0].trace).selectedpoints&&(Ue.selectedpoints.length>1||(He+=Ue.selectedpoints.length)>1))return!1;return 1===He}(ir)&&($t=Ee(bt))){for(Te&&Te.remove(),mr=0;mr<ir.length;mr++)(Lt=ir[mr])._module.selectPoints(Lt,!1);Ve(He,ir),re(ge),gt&&Re(He)}else{for(rr=Be.shiftKey&&(void 0!==$t?$t:Ee(bt)),Ut=function pe(Be,He,Ye){return{pointNumber:Be,searchInfo:He,subtract:!!Ye}}(bt.pointNumber,bt.searchInfo,rr),Qt=K(ge.selectionDefs.concat([Ut])),mr=0;mr<ir.length;mr++)if(wt=Ie(ir[mr]._module.selectPoints(ir[mr],Qt),ir[mr]),Kt.length)for(var It=0;It<wt.length;It++)Kt.push(wt[It]);else Kt=wt;if(Ve(He,ir,Lr={points:Kt}),Ut&&ge&&ge.selectionDefs.push(Ut),Te){var Ft=ge.mergedPolygons,Rt=f(ge.dragmode);p(Je(Ft,Rt),Te,ge)}gt&&ke(He,Lr)}}}function te(Be){return"pointNumber"in Be&&"searchInfo"in Be}function Q(Be){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(He,Ye,Ue,De){return De.cd[0].trace._expandedIndex===Be.searchInfo.cd[0].trace._expandedIndex&&Ue===Be.pointNumber},isRect:!1,degenerate:!1,subtract:!!Be.subtract}}function K(Be){if(Be.length){for(var He=[],Ye=te(Be[0])?0:Be[0][0][0],Ue=Ye,De=te(Be[0])?0:Be[0][0][1],ge=De,Te=0;Te<Be.length;Te++)if(te(Be[Te]))He.push(Q(Be[Te]));else{var _e=V(Be[Te]);_e.subtract=!!Be[Te].subtract,He.push(_e),Ye=Math.min(Ye,_e.xmin),Ue=Math.max(Ue,_e.xmax),De=Math.min(De,_e.ymin),ge=Math.max(ge,_e.ymax)}return{xmin:Ye,xmax:Ue,ymin:De,ymax:ge,pts:[],contains:function et(ft,gt,Kt,ir){for(var Lt=!1,Ut=0;Ut<He.length;Ut++)He[Ut].contains(ft,gt,Kt,ir)&&(Lt=!He[Ut].subtract);return Lt},isRect:!1,degenerate:!1}}}function Z(Be,He,Ye){var Ue=He._fullLayout,De=Ye.plotinfo,ge=Ye.dragmode,Te=Ue._lastSelectedSubplot&&Ue._lastSelectedSubplot===De.id,_e=(Be.shiftKey||Be.altKey)&&!(o(ge)&&f(ge));Te&&_e&&De.selection&&De.selection.selectionDefs&&!Ye.selectionDefs?(Ye.selectionDefs=De.selection.selectionDefs,Ye.mergedPolygons=De.selection.mergedPolygons):(!_e||!De.selection)&&re(Ye),Te||(A(He),Ue._lastSelectedSubplot=De.id)}function re(Be,He){var Ye=Be.dragmode,Ue=Be.plotinfo,De=Be.gd;(function q(Be){return Be._fullLayout._activeShapeIndex>=0})(De)&&De._fullLayout._deactivateShape(De),function fe(Be){return Be._fullLayout._activeSelectionIndex>=0}(De)&&De._fullLayout._deactivateSelection(De);var Te=De._fullLayout._zoomlayer,_e=o(Ye),et=h(Ye);if(_e||et){var gt,Kt,ft=Te.selectAll(".select-outline-"+Ue.id);ft&&De._fullLayout._outlining&&(_e&&(gt=C(ft,Be)),gt&&l.call("_guiRelayout",De,{shapes:gt}),et&&!ee(Be)&&(Kt=T(ft,Be)),Kt&&(De._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",De,{selections:Kt}).then(function(){He&&L(De)})),De._fullLayout._outlining=!1)}Ue.selection={},Ue.selection.selectionDefs=Be.selectionDefs=[],Ue.selection.mergedPolygons=Be.mergedPolygons=[]}function $(Be){return Be._id}function le(Be,He,Ye,Ue){if(!Be.calcdata)return[];var _e,et,ft,De=[],ge=He.map($),Te=Ye.map($);for(ft=0;ft<Be.calcdata.length;ft++)if(!0===(et=(_e=Be.calcdata[ft])[0].trace).visible&&et._module&&et._module.selectPoints)if(!ee({subplot:Ue})||et.subplot!==Ue&&et.geo!==Ue)if("splom"===et.type){if(et._xaxes[ge[0]]&&et._yaxes[Te[0]]){var gt=se(et._module,_e,He[0],Ye[0]);gt.scene=Be._fullLayout._splomScenes[et.uid],De.push(gt)}}else if("sankey"===et.type){var Kt=se(et._module,_e,He[0],Ye[0]);De.push(Kt)}else{if(-1===ge.indexOf(et.xaxis)||-1===Te.indexOf(et.yaxis))continue;De.push(se(et._module,_e,D(Be,et.xaxis),D(Be,et.yaxis)))}else De.push(se(et._module,_e,He[0],Ye[0]));return De}function se(Be,He,Ye,Ue){return{_module:Be,cd:He,xaxis:Ye,yaxis:Ue}}function Ee(Be){var He=Be.searchInfo.cd[0].trace,Ue=Be.pointNumbers;return!!He.selectedpoints&&He.selectedpoints.indexOf(Ue.length>0?Ue[0]:Be.pointNumber)>-1}function Ve(Be,He,Ye){var Ue,Te;for(Ue=0;Ue<He.length;Ue++){var De=He[Ue].cd[0].trace._fullInput,ge=Be._fullLayout._tracePreGUI[De.uid]||{};void 0===ge.selectedpoints&&(ge.selectedpoints=De._input.selectedpoints||null)}if(Ye){var _e=Ye.points||[];for(Ue=0;Ue<He.length;Ue++)(Te=He[Ue].cd[0].trace)._input.selectedpoints=Te._fullInput.selectedpoints=[],Te._fullInput!==Te&&(Te.selectedpoints=[]);for(var et=0;et<_e.length;et++){var ft=_e[et],gt=ft.data,Kt=ft.fullData,ir=ft.pointIndex,Lt=ft.pointIndices;Lt?([].push.apply(gt.selectedpoints,Lt),Te._fullInput!==Te&&[].push.apply(Kt.selectedpoints,Lt)):(gt.selectedpoints.push(ir),Te._fullInput!==Te&&Kt.selectedpoints.push(ir))}}else for(Ue=0;Ue<He.length;Ue++)delete(Te=He[Ue].cd[0].trace).selectedpoints,delete Te._input.selectedpoints,Te._fullInput!==Te&&delete Te._fullInput.selectedpoints;!function Pe(Be,He){for(var Ye=!1,Ue=0;Ue<He.length;Ue++){var De=He[Ue],ge=De.cd;l.traceIs(ge[0].trace,"regl")&&(Ye=!0);var Te=De._module,_e=Te.styleOnSelect||Te.style;_e&&(_e(Be,ge,ge[0].node3),ge[0].nodeRangePlot3&&_e(Be,ge,ge[0].nodeRangePlot3))}Ye&&(y(Be),B(Be))}(Be,He)}function Ce(Be,He,Ye){for(var ge=(Ye?S.difference:S.union)({regions:Be},{regions:[He]}).regions.reverse(),Te=0;Te<ge.length;Te++){var _e=ge[Te];_e.subtract=lt(_e,ge.slice(0,Te))}return ge}function Ie(Be,He){if(Array.isArray(Be))for(var Ye=He.cd,Ue=He.cd[0].trace,De=0;De<Be.length;De++)Be[De]=w(Be[De],Ue,Ye);return Be}function Je(Be,He){for(var Ye=[],Ue=0;Ue<Be.length;Ue++){Ye[Ue]=[];for(var De=0;De<Be[Ue].length;De++){Ye[Ue][De]=[],Ye[Ue][De][0]=De?"L":"M";for(var ge=0;ge<Be[Ue][De].length;ge++)Ye[Ue][De].push(Be[Ue][De][ge])}He||Ye[Ue].push(["Z",Ye[Ue][0][1],Ye[Ue][0][2]])}return Ye}function Qe(Be,He){for(var Ue,ge,Ye=[],De=[],Te=0;Te<He.length;Te++){var _e=He[Te];ge=_e._module.selectPoints(_e,Be),De.push(ge),Ue=Ie(ge,_e),Ye=Ye.concat(Ue)}return Ye}function ze(Be,He,Ye,Ue,De){var Te,_e,et,ge=!!Ue;De&&(Te=De.plotinfo,_e=De.xaxes[0]._id,et=De.yaxes[0]._id);var ft=[],gt=[],Kt=je(Be),ir=Be._fullLayout;if(Te){var Lt=ir._zoomlayer,Ut=ir.dragmode,Qt=o(Ut),Cr=h(Ut);if(Qt||Cr){var wt=D(Be,_e,"x"),$t=D(Be,et,"y");if(wt&&$t){var rr=Lt.selectAll(".select-outline-"+Te.id);if(rr&&Be._fullLayout._outlining&&rr.length){for(var mr=rr[0][0].getAttribute("d"),bt=g(mr,Be,Te),ct=[],At=0;At<bt.length;At++){for(var It=bt[At],Ft=[],Rt=0;Rt<It.length;Rt++)Ft.push([vt(wt,It[Rt][1]),vt($t,It[Rt][2])]);Ft.xref=_e,Ft.yref=et,Ft.subtract=lt(Ft,ct),ct.push(Ft)}Kt=Kt.concat(ct)}}}}var Gt=_e&&et?[_e+et]:ir._subplots.cartesian;!function Ke(Be){var He=Be.calcdata;if(He)for(var Ye=0;Ye<He.length;Ye++){var ge=Be._fullLayout._splomScenes;if(ge){var Te=ge[He[Ye][0].trace.uid];Te&&(Te.selectBatch=[])}}}(Be);for(var jt={},er=0;er<Gt.length;er++){var dr=Gt[er],hr=dr.indexOf("y"),wr=dr.slice(0,hr),$e=dr.slice(hr),Ze=_e&&et?Ye:void 0;if(Ze=We(Kt,wr,$e,Ze)){var zt=Ue;if(!ge){var kt=D(Be,wr,"x"),Xt=D(Be,$e,"y");zt=le(Be,[kt],[Xt],dr);for(var ur=0;ur<zt.length;ur++){var vr=zt[ur],or=vr.cd[0],Ht=or.trace;if("scattergl"===vr._module.name&&!or.t.xpx){var pr=Ht.x,xr=Ht.y,Mr=Ht._length;or.t.xpx=[],or.t.ypx=[];for(var kr=0;kr<Mr;kr++)or.t.xpx[kr]=kt.c2p(pr[kr]),or.t.ypx[kr]=Xt.c2p(xr[kr])}"splom"===vr._module.name&&(jt[Ht.uid]||(jt[Ht.uid]=!0))}}var un=Qe(Ze,zt);ft=ft.concat(un),gt=gt.concat(zt)}}var Nr={points:ft};Ve(Be,gt,Nr);var $r=ir.clickmode.indexOf("event")>-1&&He;if(!Te&&He){var Qr=je(Be,!0);if(Qr.length){var Wn=Qr[0].xref,An=Qr[0].yref;if(Wn&&An){var Tr=pt(Qr);Ct([D(Be,Wn,"x"),D(Be,An,"y")])(Nr,Tr)}}Be._fullLayout._noEmitSelectedAtStart?Be._fullLayout._noEmitSelectedAtStart=!1:$r&&ke(Be,Nr),ir._reselect=!1}if(!Te&&ir._deselect){var Xr=ir._deselect;(function ut(Be,He,Ye){for(var Ue=0;Ue<Ye.length;Ue++){var De=Ye[Ue];if(De.xaxis&&De.xaxis._id===Be&&De.yaxis&&De.yaxis._id===He)return!0}return!1})(_e=Xr.xref,et=Xr.yref,gt)||ot(Be,_e,et,Ue),$r&&(Nr.points.length?ke(Be,Nr):Re(Be)),ir._deselect=!1}return{eventData:Nr,selectionTesters:Ye}}function ot(Be,He,Ye,Ue){Ue=le(Be,[D(Be,He,"x")],[D(Be,Ye,"y")],He+Ye);for(var De=0;De<Ue.length;De++){var ge=Ue[De];ge._module.selectPoints(ge,!1)}Ve(Be,Ue)}function We(Be,He,Ye,Ue){for(var De,ge=0;ge<Be.length;ge++){var Te=Be[ge];He===Te.xref&&Ye===Te.yref&&(De?Ue=K(De=Ce(De,Te,!!Te.subtract)):(De=[Te],Ue=V(Te)))}return Ue}function je(Be,He){for(var Ye=[],Ue=Be._fullLayout,De=Ue.selections,ge=De.length,Te=0;Te<ge;Te++)if(!He||Te===Ue._activeSelectionIndex){var _e=De[Te];if(_e){var ir,Lt,Ut,Qt,Cr,et=_e.xref,ft=_e.yref,gt=D(Be,et,"x"),Kt=D(Be,ft,"y");if("rect"===_e.type){Cr=[];var wt=vt(gt,_e.x0),$t=vt(gt,_e.x1),rr=vt(Kt,_e.y0),Lr=vt(Kt,_e.y1);Cr=[[wt,rr],[wt,Lr],[$t,Lr],[$t,rr]],ir=Math.min(wt,$t),Lt=Math.max(wt,$t),Ut=Math.min(rr,Lr),Qt=Math.max(rr,Lr),Cr.xmin=ir,Cr.xmax=Lt,Cr.ymin=Ut,Cr.ymax=Qt,Cr.xref=et,Cr.yref=ft,Cr.subtract=!1,Cr.isRect=!0,Ye.push(Cr)}else if("path"===_e.type)for(var mr=_e.path.split("Z"),bt=[],ct=0;ct<mr.length;ct++){var At=mr[ct];if(At){var It=d.extractPathCoords(At+="Z",b.paramIsX,"raw"),Ft=d.extractPathCoords(At,b.paramIsY,"raw");ir=1/0,Lt=-1/0,Ut=1/0,Qt=-1/0,Cr=[];for(var Rt=0;Rt<It.length;Rt++){var Gt=vt(gt,It[Rt]),jt=vt(Kt,Ft[Rt]);Cr.push([Gt,jt]),ir=Math.min(Gt,ir),Lt=Math.max(Gt,Lt),Ut=Math.min(jt,Ut),Qt=Math.max(jt,Qt)}Cr.xmin=ir,Cr.xmax=Lt,Cr.ymin=Ut,Cr.ymax=Qt,Cr.xref=et,Cr.yref=ft,Cr.subtract=lt(Cr,bt),bt.push(Cr),Ye.push(Cr)}}}}return Ye}function lt(Be,He){for(var Ye=!1,Ue=0;Ue<He.length;Ue++)for(var De=He[Ue],ge=0;ge<Be.length;ge++)if(k(Be[ge],De)){Ye=!Ye;break}return Ye}function vt(Be,He){return"date"===Be.type&&(He=He.replace("_"," ")),"log"===Be.type?Be.c2p(He):Be.r2p(He,null,Be.calendar)}function pt(Be){for(var He=Be.length,Ye=[],Ue=0;Ue<He;Ue++){var De=Be[Ue];Ye=(Ye=Ye.concat(De)).concat([De[0]])}return function St(Be){return Be.isRect=5===Be.length&&Be[0][0]===Be[4][0]&&Be[0][1]===Be[4][1]&&Be[0][0]===Be[1][0]&&Be[2][0]===Be[3][0]&&Be[0][1]===Be[3][1]&&Be[1][1]===Be[2][1]||Be[0][1]===Be[1][1]&&Be[2][1]===Be[3][1]&&Be[0][0]===Be[3][0]&&Be[1][0]===Be[2][0],Be.isRect&&(Be.xmin=Math.min(Be[0][0],Be[2][0]),Be.xmax=Math.max(Be[0][0],Be[2][0]),Be.ymin=Math.min(Be[0][1],Be[2][1]),Be.ymax=Math.max(Be[0][1],Be[2][1])),Be}(Ye)}function Ct(Be){return function(He,Ye){for(var Ue,De,ge=0;ge<Be.length;ge++){var Te=Be[ge],_e=Te._id,et=_e.charAt(0);if(Ye.isRect){Ue||(Ue={});var ft=Ye[et+"min"],gt=Ye[et+"max"];void 0!==ft&&void 0!==gt&&(Ue[_e]=[U(Te,ft),U(Te,gt)].sort(E))}else De||(De={}),De[_e]=Ye.map(G(Te))}Ue&&(He.range=Ue),De&&(He.lassoPoints=De)}}function ke(Be,He){He&&(He.selections=(Be.layout||{}).selections||[]),Be.emit("plotly_selected",He)}function Re(Be){Be.emit("plotly_deselect",null)}oe.exports={reselect:ze,prepSelect:function ue(Be,He,Ye,Ue,De){var ge=!ee(Ue),Te=n(De),_e=c(De),et=f(De),ft=o(De),gt=h(De),ir="drawcircle"===De,Lt="drawline"===De||ir,Ut=Ue.gd,Qt=Ut._fullLayout,Cr=gt&&"immediate"===Qt.newselection.mode&&ge,wt=Qt._zoomlayer,$t=Ue.element.getBoundingClientRect(),rr=Ue.plotinfo,Lr=Y(rr),mr=He-$t.left,bt=Ye-$t.top;Qt._calcInverseTransform(Ut);var $e,Ze,zt,kt,Xt,ur,vr,ct=x.apply3DTransform(Qt._invTransform)(mr,bt),At=Qt._invScaleX,It=Qt._invScaleY,Ft=mr=ct[0],Rt=bt=ct[1],Gt="M"+mr+","+bt,jt=Ue.xaxes[0],er=Ue.yaxes[0],dr=jt._length,hr=er._length,wr=Be.altKey&&!(o(De)&&et);Z(Be,Ut,Ue),Te&&($e=z([[mr,bt]],F.BENDPX));var or=wt.selectAll("path.select-outline-"+rr.id).data([1]),Ht=ft?Qt.newshape:Qt.newselection;ft&&(Ue.hasText=Ht.label.text||Ht.label.texttemplate);var pr=ft&&!et?Ht.fillcolor:"rgba(0,0,0,0)",xr=Ht.line.color||(ge?I.contrast(Ut._fullLayout.plot_bgcolor):"#7f7f7f");or.enter().append("path").attr("class","select-outline select-outline-"+rr.id).style({opacity:ft?Ht.opacity/2:1,"stroke-dasharray":R(Ht.line.dash,Ht.line.width),"stroke-width":Ht.line.width+"px","shape-rendering":"crispEdges"}).call(I.stroke,xr).call(I.fill,pr).attr("fill-rule","evenodd").classed("cursor-move",!!ft).attr("transform",Lr).attr("d",Gt+"Z");var Mr=wt.append("path").attr("class","zoombox-corners").style({fill:I.background,stroke:I.defaultLine,"stroke-width":1}).attr("transform",Lr).attr("d","M0,0Z");if(ft&&Ue.hasText){var kr=wt.select(".label-temp");kr.empty()&&(kr=wt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var un=Qt._uid+F.SELECTID,Nr=[],Yr=le(Ut,Ue.xaxes,Ue.yaxes,Ue.subplot);Cr&&!Be.shiftKey&&(Ue._clearSubplotSelections=function(){if(ge){var Qr=jt._id,Wn=er._id;ot(Ut,Qr,Wn,Yr);for(var An=(Ut.layout||{}).selections||[],Tr=[],nr=!1,Xr=0;Xr<An.length;Xr++){var Ur=Qt.selections[Xr];Ur.xref!==Qr||Ur.yref!==Wn?Tr.push(An[Xr]):nr=!0}nr&&(Ut._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",Ut,{selections:Tr}))}});var $r=function _t(Be){return Be.plotinfo.fillRangeItems||Ct(Be.xaxes.concat(Be.yaxes))}(Ue);Ue.moveFn=function(Qr,Wn){Ue._clearSubplotSelections&&(Ue._clearSubplotSelections(),Ue._clearSubplotSelections=void 0),Ft=Math.max(0,Math.min(dr,At*Qr+mr)),Rt=Math.max(0,Math.min(hr,It*Wn+bt));var An=Math.abs(Ft-mr),Tr=Math.abs(Rt-bt);if(_e){var nr,Xr,Ur;if(gt){var an=Qt.selectdirection;switch(nr="any"===an?Tr<Math.min(.6*An,_)?"h":An<Math.min(.6*Tr,_)?"v":"d":an){case"h":Xr=ir?hr/2:0,Ur=hr;break;case"v":Xr=ir?dr/2:0,Ur=dr}}if(ft)switch(Qt.newshape.drawdirection){case"vertical":nr="h",Xr=ir?hr/2:0,Ur=hr;break;case"horizontal":nr="v",Xr=ir?dr/2:0,Ur=dr;break;case"ortho":An<Tr?(nr="h",Xr=bt,Ur=Rt):(nr="v",Xr=mr,Ur=Ft);break;default:nr="d"}"h"===nr?((kt=Lt?u(ir,[Ft,Xr],[Ft,Ur]):[[mr,Xr],[mr,Ur],[Ft,Ur],[Ft,Xr]]).xmin=Lt?Ft:Math.min(mr,Ft),kt.xmax=Lt?Ft:Math.max(mr,Ft),kt.ymin=Math.min(Xr,Ur),kt.ymax=Math.max(Xr,Ur),Mr.attr("d","M"+kt.xmin+","+(bt-_)+"h-4v"+2*_+"h4ZM"+(kt.xmax-1)+","+(bt-_)+"h4v"+2*_+"h-4Z")):"v"===nr?((kt=Lt?u(ir,[Xr,Rt],[Ur,Rt]):[[Xr,bt],[Xr,Rt],[Ur,Rt],[Ur,bt]]).xmin=Math.min(Xr,Ur),kt.xmax=Math.max(Xr,Ur),kt.ymin=Lt?Rt:Math.min(bt,Rt),kt.ymax=Lt?Rt:Math.max(bt,Rt),Mr.attr("d","M"+(mr-_)+","+kt.ymin+"v-4h"+2*_+"v4ZM"+(mr-_)+","+(kt.ymax-1)+"v4h"+2*_+"v-4Z")):"d"===nr&&((kt=Lt?u(ir,[mr,bt],[Ft,Rt]):[[mr,bt],[mr,Rt],[Ft,Rt],[Ft,bt]]).xmin=Math.min(mr,Ft),kt.xmax=Math.max(mr,Ft),kt.ymin=Math.min(bt,Rt),kt.ymax=Math.max(bt,Rt),Mr.attr("d","M0,0Z"))}else Te&&($e.addPt([Ft,Rt]),kt=$e.filtered);if(Ue.selectionDefs&&Ue.selectionDefs.length?(zt=Ce(Ue.mergedPolygons,kt,wr),kt.subtract=wr,Ze=K(Ue.selectionDefs.concat([kt]))):(zt=[kt],Ze=V(kt)),p(Je(zt,et),or,Ue),gt){var Fn,Cn=ze(Ut,!1),En=Cn.eventData?Cn.eventData.points.slice():[];Cn=ze(Ut,!1,Ze,Yr,Ue),Ze=Cn.selectionTesters,vr=Cn.eventData,Fn=$e?$e.filtered:pt(zt),i.throttle(un,F.SELECTDELAY,function(){for(var Vn=(Nr=Qe(Ze,Yr)).slice(),vi=0;vi<En.length;vi++){for(var li=En[vi],bi=!1,si=0;si<Vn.length;si++)if(Vn[si].curveNumber===li.curveNumber&&Vn[si].pointNumber===li.pointNumber){bi=!0;break}bi||Vn.push(li)}Vn.length&&(vr||(vr={}),vr.points=Vn),$r(vr,Fn),function nt(Be,He){Be.emit("plotly_selecting",He)}(Ut,vr)})}},Ue.clickFn=function(Qr,Wn){if(Mr.remove(),Ut._fullLayout._activeShapeIndex>=0)Ut._fullLayout._deactivateShape(Ut);else if(!ft){var An=Qt.clickmode;i.done(un).then(function(){if(i.clear(un),2===Qr){for(or.remove(),Xt=0;Xt<Yr.length;Xt++)(ur=Yr[Xt])._module.selectPoints(ur,!1);if(Ve(Ut,Yr),re(Ue),Re(Ut),Yr.length){var Tr=Yr[0].xaxis,nr=Yr[0].yaxis;if(Tr&&nr){for(var Xr=[],Ur=Ut._fullLayout.selections,an=0;an<Ur.length;an++){var Cn=Ur[an];Cn&&(Cn.xref!==Tr._id||Cn.yref!==nr._id)&&Xr.push(Cn)}Xr.length<Ur.length&&(Ut._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",Ut,{selections:Xr}))}}}else An.indexOf("select")>-1&&ce(Wn,Ut,Ue.xaxes,Ue.yaxes,Ue.subplot,Ue,or),"event"===An&&ke(Ut,void 0);v.click(Ut,Wn,rr.id)}).catch(x.error)}},Ue.doneFn=function(){Mr.remove(),i.done(un).then(function(){i.clear(un),!Cr&&kt&&Ue.selectionDefs&&(kt.subtract=wr,Ue.selectionDefs.push(kt),Ue.mergedPolygons.length=0,[].push.apply(Ue.mergedPolygons,zt)),(Cr||ft)&&re(Ue,Cr),Ue.doneFnCompleted&&Ue.doneFnCompleted(Nr),gt&&ke(Ut,vr)}).catch(x.error)}},clearOutline:A,clearSelectionsCache:re,selectOnClick:ce}},89827:function(oe,J,t){"use strict";var S=t(50215),k=t(41940),l=t(82196).line,R=t(79952).P,I=t(1426).extendFlat,v=t(44467).templatedArray,r=(t(24695),t(9012)),n=t(5386).R,c=t(37281);oe.exports=v("shape",{visible:I({},r.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:I({},r.legend,{editType:"calc+arraydraw"}),legendgroup:I({},r.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:I({},r.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:k({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:I({},r.legendrank,{editType:"calc+arraydraw"}),legendwidth:I({},r.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:I({},S.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:I({},S.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:I({},l.color,{editType:"arraydraw"}),width:I({},l.width,{editType:"calc+arraydraw"}),dash:I({},R,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:n({},{keys:Object.keys(c)}),font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(oe,J,t){"use strict";var S=t(71828),k=t(89298),l=t(21459),R=t(30477);function v(n){return w(n.line.width,n.ysizemode,n.y0,n.y1,n.path,!0)}function w(n,c,o,f,h,d){var b=n/2,p=d;if("pixel"===c){var A=h?R.extractPathCoords(h,d?l.paramIsY:l.paramIsX):[o,f],m=S.aggNums(Math.max,null,A),u=S.aggNums(Math.min,null,A),g=u<0?Math.abs(u)+b:b,C=m>0?m+b:b;return{ppad:b,ppadplus:p?g:C,ppadminus:p?C:g}}return{ppad:b}}function r(n,c,o,f,h){var d="category"===n.type||"multicategory"===n.type?n.r2c:n.d2c;if(void 0!==c)return[d(c),d(o)];if(f){var m,g,C,T,b=1/0,p=-1/0,A=f.match(l.segmentRE);for("date"===n.type&&(d=R.decodeDate(d)),m=0;m<A.length;m++)void 0!==(g=h[A[m].charAt(0)].drawn)&&(C=A[m].substr(1).match(l.paramRE))&&!(C.length<g)&&((T=d(C[g]))<b&&(b=T),T>p&&(p=T));if(p>=b)return[b,p]}}oe.exports=function(c){var n,f=S.filterVisible(c._fullLayout.shapes);if(f.length&&c._fullData.length)for(var h=0;h<f.length;h++){var d=f[h];d._extremes={};var b,p,A=k.getRefType(d.xref),m=k.getRefType(d.yref);if("paper"!==d.xref&&"domain"!==A){var u="pixel"===d.xsizemode?d.xanchor:d.x0,g="pixel"===d.xsizemode?d.xanchor:d.x1;(p=r(b=k.getFromId(c,d.xref),u,g,d.path,l.paramIsX))&&(d._extremes[b._id]=k.findExtremes(b,p,w((n=d).line.width,n.xsizemode,n.x0,n.x1,n.path,!1)))}if("paper"!==d.yref&&"domain"!==m){var C="pixel"===d.ysizemode?d.yanchor:d.y0,T="pixel"===d.ysizemode?d.yanchor:d.y1;(p=r(b=k.getFromId(c,d.yref),C,T,d.path,l.paramIsY))&&(d._extremes[b._id]=k.findExtremes(b,p,v(d)))}}}},21459:function(oe){"use strict";oe.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(oe,J,t){"use strict";var S=t(71828),k=t(89298),l=t(85501),R=t(89827),I=t(30477);function w(r,n,c){function o(te,Q){return S.coerce(r,n,R,te,Q)}if(n._isShape=!0,o("visible")){o("showlegend")&&(o("legend"),o("legendwidth"),o("legendgroup"),o("legendgrouptitle.text"),S.coerceFont(o,"legendgrouptitle.font"),o("legendrank"));var d=o("path"),p=o("type",d?"path":"rect"),A="path"!==p;A&&delete n.path,o("editable"),o("layer"),o("opacity"),o("fillcolor"),o("fillrule"),o("line.width")&&(o("line.color"),o("line.dash"));for(var u=o("xsizemode"),g=o("ysizemode"),C=["x","y"],T=0;T<2;T++){var i,D,y,L=C[T],x=L+"anchor",E="x"===L?u:g,M={_fullLayout:c},B=k.coerceRef(r,n,M,L,void 0,"paper");if("range"===k.getRefType(B)?((i=k.getFromId(M,B))._shapeIndices.push(n._index),y=I.rangeToShapePosition(i),D=I.shapePositionToRange(i)):D=y=S.identity,A){var V=L+"0",H=L+"1",U=r[V],G=r[H];r[V]=D(r[V],!0),r[H]=D(r[H],!0),"pixel"===E?(o(V,0),o(H,10)):(k.coercePosition(n,M,o,B,V,.25),k.coercePosition(n,M,o,B,H,.75)),n[V]=y(n[V]),n[H]=y(n[H]),r[V]=U,r[H]=G}if("pixel"===E){var Y=r[x];r[x]=D(r[x],!0),k.coercePosition(n,M,o,B,x,.25),n[x]=y(n[x]),r[x]=Y}}A&&S.noneOrAll(r,n,["x0","x1","y0","y1"]);var ue,ce,ee="line"===p;if(A&&(ue=o("label.texttemplate")),ue||(ce=o("label.text")),ce||ue){o("label.textangle");var pe=o("label.textposition",ee?"middle":"middle center");o("label.xanchor"),o("label.yanchor",function v(r,n){return r?"bottom":-1!==n.indexOf("top")?"top":-1!==n.indexOf("bottom")?"bottom":"middle"}(ee,pe)),o("label.padding"),S.coerceFont(o,"label.font",c.font)}}}oe.exports=function(n,c){l(n,c,{name:"shapes",handleItemDefaults:w})}},48100:function(oe,J,t){"use strict";var S=t(71828),k=t(89298),l=t(63893),R=t(91424),I=t(60165).readPaths,v=t(30477),w=v.getPathString,r=t(37281),n=t(18783).FROM_TL;oe.exports=function(h,d,b,p){if(p.selectAll(".shape-label").remove(),b.label.text||b.label.texttemplate){var A;if(b.label.texttemplate){var m={};if("path"!==b.type){var u=k.getFromId(h,b.xref),g=k.getFromId(h,b.yref);for(var C in r){var T=r[C](b,u,g);void 0!==T&&(m[C]=T)}}A=S.texttemplateStringForShapes(b.label.texttemplate,{},h._fullLayout._d3locale,m)}else A=b.label.text;var D,y,B,F,L={"data-index":d},x=b.label.font,i=p.append("g").attr(L).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(A);if(b.path){var _=w(h,b),z=I(_,h);D=1/0,B=1/0,y=-1/0,F=-1/0;for(var V=0;V<z.length;V++)for(var H=0;H<z[V].length;H++)for(var U=z[V][H],G=1;G<U.length;G+=2){var Y=U[G],ee=U[G+1];D=Math.min(D,Y),y=Math.max(y,Y),B=Math.min(B,ee),F=Math.max(F,ee)}}else{var ue=k.getFromId(h,b.xref),ce=k.getRefType(b.xref),pe=k.getFromId(h,b.yref),te=k.getRefType(b.yref),Q=v.getDataToPixel(h,ue,!1,ce),K=v.getDataToPixel(h,pe,!0,te);D=Q(b.x0),y=Q(b.x1),B=K(b.y0),F=K(b.y1)}var Z=b.label.textangle;"auto"===Z&&(Z="line"===b.type?function c(f,h,d,b){var A;return A=Math.abs(d-f),-180/Math.PI*Math.atan2(d>=f?h-b:b-h,A)}(D,B,y,F):0),i.call(function(se){return se.call(R.font,x).attr({}),l.convertToTspans(se,h),se});var fe=function o(f,h,d,b,p,A,m){var D,y,B,F,u=p.label.textposition,g=p.label.textangle,C=p.label.padding,T=p.type,L=Math.PI/180*A,x=Math.sin(L),E=Math.cos(L),M=p.label.xanchor,i=p.label.yanchor;if("line"===T){"start"===u?(D=f,y=h):"end"===u?(D=d,y=b):(D=(f+d)/2,y=(h+b)/2),"auto"===M&&(M="start"===u?"auto"===g?d>f?"left":d<f?"right":"center":d>f?"right":d<f?"left":"center":"end"===u?"auto"===g?d>f?"right":d<f?"left":"center":d>f?"left":d<f?"right":"center":"center");var z={bottom:-1,middle:0,top:1};if("auto"===g){var V=z[i];B=-C*x*V,F=C*E*V}else B=C*{left:1,center:0,right:-1}[M],F=C*z[i];D+=B,y+=F}else B=C+3,-1!==u.indexOf("right")?(D=Math.max(f,d)-B,"auto"===M&&(M="right")):-1!==u.indexOf("left")?(D=Math.min(f,d)+B,"auto"===M&&(M="left")):(D=(f+d)/2,"auto"===M&&(M="center")),y=-1!==u.indexOf("top")?Math.min(h,b):-1!==u.indexOf("bottom")?Math.max(h,b):(h+b)/2,F=C,"bottom"===i?y-=F:"top"===i&&(y+=F);var G=n[i],Y=p.label.font.size,ee=m.height;return{textx:D+(ee*G-Y)*x,texty:y+-(ee*G-Y)*E,xanchor:M}}(D,B,y,F,b,Z,R.bBox(i.node())),re=fe.textx,$=fe.texty;i.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[fe.xanchor],y:$,x:re,transform:"rotate("+Z+","+re+","+$+")"}).call(l.positionText,re,$)}}},42359:function(oe,J,t){"use strict";var k=t(71828).strTranslate,l=t(28569),R=t(64505),I=R.drawMode,v=R.selectMode,w=t(73972),r=t(7901),n=t(89995),c=n.i000,o=n.i090,f=n.i180,h=n.i270,b=t(51873).clearOutlineControllers,p=t(60165),A=p.pointsOnRectangle,m=p.pointsOnEllipse,u=p.writePaths,g=t(90551).newShapes,C=t(90551).createShapeObj,T=t(35855),L=t(48100);function E(i,D){var _,z,V,F=i.length;return V=i[_=(D+1)%F][2],(z=i[_][1])===i[D][1]&&V===i[D][2]&&(z=i[_=(D+2)%F][1],V=i[_][2]),[_,z,V]}oe.exports=function i(D,y,B,F){F||(F=0);var _=B.gd;function z(){i(D,y,B,F++),(m(D[0])||B.hasText)&&V({redrawing:!0})}function V(Ce){var Ie={};void 0!==B.isActiveShape&&(B.isActiveShape=!1,Ie=g(y,B)),void 0!==B.isActiveSelection&&(B.isActiveSelection=!1,Ie=T(y,B),_._fullLayout._reselect=!0),Object.keys(Ie).length&&w.call((Ce||{}).redrawing?"relayout":"_guiRelayout",_,Ie)}var ue,ce,pe,te,Q,U=_._fullLayout._zoomlayer,G=B.dragmode,Y=I(G),ee=v(G);if((Y||ee)&&(_._fullLayout._outlining=!0),b(_),y.attr("d",u(D)),F||!B.isActiveShape&&!B.isActiveSelection||(Q=function x(i,D){for(var y=0;y<D.length;y++){var B=D[y];i[y]=[];for(var F=0;F<B.length;F++){i[y][F]=[];for(var _=0;_<B[F].length;_++)i[y][F][_]=B[F][_]}}return i}([],D),function de(Ce){ue=[];for(var Ie=0;Ie<D.length;Ie++){var Je=D[Ie],Qe=A(Je),ze=!Qe&&m(Je);ue[Ie]=[];for(var Ke=Je.length,ut=0;ut<Ke;ut++)if("Z"!==Je[ut][0]&&(!ze||ut===c||ut===o||ut===f||ut===h)){var We,ot=Qe&&B.isActiveSelection;ot&&(We=E(Je,ut));var je=Je[ut][1],lt=Je[ut][2],vt=Ce.append(ot?"rect":"circle").attr("data-i",Ie).attr("data-j",ut).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(ot){var pt=We[1]-je,St=We[2]-lt,Ct=St?5:Math.max(Math.min(25,Math.abs(pt)-5),5),_t=pt?5:Math.max(Math.min(25,Math.abs(St)-5),5);vt.classed(St?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Ct).attr("height",_t).attr("x",je-Ct/2).attr("y",lt-_t/2).attr("transform",k(pt/2,St/2))}else vt.classed("cursor-grab",!0).attr("r",5).attr("cx",je).attr("cy",lt);ue[Ie][ut]={element:vt.node(),gd:_,prepFn:fe,doneFn:$,clickFn:se},l.init(ue[Ie][ut])}}}(U.append("g").attr("class","outline-controllers")),function Pe(){if(ce=[],D.length){ce[0]={element:y[0][0],gd:_,prepFn:Me,doneFn:Ne,clickFn:Ve},l.init(ce[0])}}()),Y&&B.hasText){var Z=U.select(".label-temp"),q=C(y,B,B.dragmode);L(_,"label-temp",q,Z)}function fe(Ce){pe=+Ce.srcElement.getAttribute("data-i"),te=+Ce.srcElement.getAttribute("data-j"),ue[pe][te].moveFn=re}function re(Ce,Ie){if(D.length){var Je=Q[pe][te][1],Qe=Q[pe][te][2],ze=D[pe],Ke=ze.length;if(A(ze)){var ut=Ce,ot=Ie;B.isActiveSelection&&(E(ze,te)[1]===ze[te][1]?ot=0:ut=0);for(var je=0;je<Ke;je++)if(je!==te){var lt=ze[je];lt[1]===ze[te][1]&&(lt[1]=Je+ut),lt[2]===ze[te][2]&&(lt[2]=Qe+ot)}if(ze[te][1]=Je+ut,ze[te][2]=Qe+ot,!A(ze))for(var vt=0;vt<Ke;vt++)for(var pt=0;pt<ze[vt].length;pt++)ze[vt][pt]=Q[pe][vt][pt]}else ze[te][1]=Je+Ce,ze[te][2]=Qe+Ie;z()}}function $(){V()}function se(Ce,Ie){if(2===Ce){pe=+Ie.srcElement.getAttribute("data-i"),te=+Ie.srcElement.getAttribute("data-j");var Je=D[pe];!A(Je)&&!m(Je)&&function le(){if(D.length&&D[pe]&&D[pe].length){for(var Ce=[],Ie=0;Ie<D[pe].length;Ie++)Ie!==te&&Ce.push(D[pe][Ie]);Ce.length>1&&(2!==Ce.length||"Z"!==Ce[1][0])&&(0===te&&(Ce[0][0]="M"),D[pe]=Ce,z(),V())}}()}}function Ee(Ce,Ie){(function we(Ce,Ie){if(D.length)for(var Je=0;Je<D.length;Je++)for(var Qe=0;Qe<D[Je].length;Qe++)for(var ze=0;ze+2<D[Je][Qe].length;ze+=2)D[Je][Qe][ze+1]=Q[Je][Qe][ze+1]+Ce,D[Je][Qe][ze+2]=Q[Je][Qe][ze+2]+Ie})(Ce,Ie),z()}function Me(Ce){(pe=+Ce.srcElement.getAttribute("data-i"))||(pe=0),ce[pe].moveFn=Ee}function Ne(){V()}function Ve(Ce){2===Ce&&function M(i){if(v(i._fullLayout.dragmode)){b(i);var D=i._fullLayout._activeSelectionIndex,y=(i.layout||{}).selections||[];if(D<y.length){for(var B=[],F=0;F<y.length;F++)F!==D&&B.push(y[F]);delete i._fullLayout._activeSelectionIndex;var _=i._fullLayout.selections[D];i._fullLayout._deselect={xref:_.xref,yref:_.yref},w.call("_guiRelayout",i,{selections:B})}}}(_)}}},34031:function(oe,J,t){"use strict";var S=t(39898),k=t(73972),l=t(71828),R=t(89298),I=t(60165).readPaths,v=t(42359),w=t(48100),r=t(51873).clearOutlineControllers,n=t(7901),c=t(91424),o=t(44467).arrayEditor,f=t(28569),h=t(6964),d=t(21459),b=t(30477),p=b.getPathString;function A(i){var D=i._fullLayout;for(var y in D._shapeUpperLayer.selectAll("path").remove(),D._shapeLowerLayer.selectAll("path").remove(),D._shapeUpperLayer.selectAll("text").remove(),D._shapeLowerLayer.selectAll("text").remove(),D._plots){var B=D._plots[y].shapelayer;B&&(B.selectAll("path").remove(),B.selectAll("text").remove())}for(var F=0;F<D.shapes.length;F++)!0===D.shapes[F].visible&&g(i,F)}function m(i){return!!i._fullLayout._outlining}function u(i){return!i._context.edits.shapePosition}function g(i,D){i._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+D+'"]').remove();var y=b.makeShapesOptionsAndPlotinfo(i,D),B=y.options,F=y.plotinfo;B._input&&!0===B.visible&&function z(V){var H=p(i,B),U={"data-index":D,"fill-rule":B.fillrule,d:H},G=B.opacity,Y=B.fillcolor,ee=B.line.width?B.line.color:"rgba(0,0,0,0)",ue=B.line.width,ce=B.line.dash;!ue&&!0===B.editable&&(ue=5,ce="solid");var pe="Z"!==H[H.length-1],te=u(i)&&B.editable&&i._fullLayout._activeShapeIndex===D;te&&(Y=pe?"rgba(0,0,0,0)":i._fullLayout.activeshape.fillcolor,G=i._fullLayout.activeshape.opacity);var Z,Q=V.append("g").classed("shape-group",!0).attr({"data-index":D}),K=Q.append("path").attr(U).style("opacity",G).call(n.stroke,ee).call(n.fill,Y).call(c.dashLine,ce,ue);if(C(Q,i,B),w(i,D,B,Q),(te||i._context.edits.shapePosition)&&(Z=o(i.layout,"shapes",B)),te){K.style({cursor:"move"});var q={element:K.node(),plotinfo:F,gd:i,editHelpers:Z,hasText:B.label.text||B.label.texttemplate,isActiveShape:!0},fe=I(H,i);v(fe,K,q)}else i._context.edits.shapePosition?function T(i,D,y,B,F,_){var ue,ce,pe,te,Q,K,Z,q,fe,re,$,le,se,de,we,ut,z=10,V=10,H="pixel"===y.xsizemode,U="pixel"===y.ysizemode,G="line"===y.type,Y="path"===y.type,ee=_.modifyItem,Ee=S.select(D.node().parentNode),Me=R.getFromId(i,y.xref),Ne=R.getRefType(y.xref),Ve=R.getFromId(i,y.yref),Pe=R.getRefType(y.yref),Ce=b.getDataToPixel(i,Me,!1,Ne),Ie=b.getDataToPixel(i,Ve,!0,Pe),Je=b.getPixelToData(i,Me,!1,Ne),Qe=b.getPixelToData(i,Ve,!0,Pe),ze=ot(),Ke={element:ze.node(),gd:i,prepFn:lt,doneFn:vt,clickFn:pt};function ot(){return G?We():D}function We(){var Re=10,Be=Math.max(y.line.width,Re),He=F.append("g").attr("data-index",B).attr("drag-helper",!0);He.append("path").attr("d",D.attr("d")).style({cursor:"move","stroke-width":Be,"stroke-opacity":"0"});var Ye={"fill-opacity":"0"},Ue=Math.max(Be/2,Re);return He.append("circle").attr({"data-line-point":"start-point",cx:H?Ce(y.xanchor)+y.x0:Ce(y.x0),cy:U?Ie(y.yanchor)-y.y0:Ie(y.y0),r:Ue}).style(Ye).classed("cursor-grab",!0),He.append("circle").attr({"data-line-point":"end-point",cx:H?Ce(y.xanchor)+y.x1:Ce(y.x1),cy:U?Ie(y.yanchor)-y.y1:Ie(y.y1),r:Ue}).style(Ye).classed("cursor-grab",!0),He}function je(Re){if(m(i))ut=null;else if(G)ut="path"===Re.target.tagName?"move":"start-point"===Re.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var Be=Ke.element.getBoundingClientRect(),He=Be.right-Be.left,Ye=Be.bottom-Be.top,ge=!Y&&He>z&&Ye>V&&!Re.shiftKey?f.getCursor((Re.clientX-Be.left)/He,1-(Re.clientY-Be.top)/Ye):"move";h(D,ge),ut=ge.split("-")[0]}}function lt(Re){m(i)||(H&&(Q=Ce(y.xanchor)),U&&(K=Ie(y.yanchor)),"path"===y.type?we=y.path:(ue=H?y.x0:Ce(y.x0),ce=U?y.y0:Ie(y.y0),pe=H?y.x1:Ce(y.x1),te=U?y.y1:Ie(y.y1)),ue<pe?(fe=ue,se="x0",re=pe,de="x1"):(fe=pe,se="x1",re=ue,de="x0"),!U&&ce<te||U&&ce>te?(Z=ce,$="y0",q=te,le="y1"):(Z=te,$="y1",q=ce,le="y0"),je(Re),_t(F,y),ke(D,y,i),Ke.moveFn="move"===ut?St:Ct,Ke.altKey=Re.altKey)}function vt(){m(i)||(h(D),nt(F),C(D,i,y),k.call("_guiRelayout",i,_.getUpdateObj()))}function pt(){m(i)||nt(F)}function St(Re,Be){if("path"===y.type){var He=function(De){return De},Ye=He,Ue=He;H?ee("xanchor",y.xanchor=Je(Q+Re)):(Ye=function(ge){return Je(Ce(ge)+Re)},Me&&"date"===Me.type&&(Ye=b.encodeDate(Ye))),U?ee("yanchor",y.yanchor=Qe(K+Be)):(Ue=function(ge){return Qe(Ie(ge)+Be)},Ve&&"date"===Ve.type&&(Ue=b.encodeDate(Ue))),ee("path",y.path=L(we,Ye,Ue))}else H?ee("xanchor",y.xanchor=Je(Q+Re)):(ee("x0",y.x0=Je(ue+Re)),ee("x1",y.x1=Je(pe+Re))),U?ee("yanchor",y.yanchor=Qe(K+Be)):(ee("y0",y.y0=Qe(ce+Be)),ee("y1",y.y1=Qe(te+Be)));D.attr("d",p(i,y)),_t(F,y),w(i,B,y,Ee)}function Ct(Re,Be){if(Y){var He=function(wt){return wt},Ye=He,Ue=He;H?ee("xanchor",y.xanchor=Je(Q+Re)):(Ye=function($t){return Je(Ce($t)+Re)},Me&&"date"===Me.type&&(Ye=b.encodeDate(Ye))),U?ee("yanchor",y.yanchor=Qe(K+Be)):(Ue=function($t){return Qe(Ie($t)+Be)},Ve&&"date"===Ve.type&&(Ue=b.encodeDate(Ue))),ee("path",y.path=L(we,Ye,Ue))}else if(G){if("resize-over-start-point"===ut){var De=ue+Re,ge=U?ce-Be:ce+Be;ee("x0",y.x0=H?De:Je(De)),ee("y0",y.y0=U?ge:Qe(ge))}else if("resize-over-end-point"===ut){var Te=pe+Re,_e=U?te-Be:te+Be;ee("x1",y.x1=H?Te:Je(Te)),ee("y1",y.y1=U?_e:Qe(_e))}}else{var et=function(wt){return-1!==ut.indexOf(wt)},ft=et("n"),gt=et("s"),Kt=et("w"),ir=et("e"),Lt=ft?Z+Be:Z,Ut=gt?q+Be:q,Qt=Kt?fe+Re:fe,Cr=ir?re+Re:re;U&&(ft&&(Lt=Z-Be),gt&&(Ut=q-Be)),(!U&&Ut-Lt>V||U&&Lt-Ut>V)&&(ee($,y[$]=U?Lt:Qe(Lt)),ee(le,y[le]=U?Ut:Qe(Ut))),Cr-Qt>z&&(ee(se,y[se]=H?Qt:Je(Qt)),ee(de,y[de]=H?Cr:Je(Cr)))}D.attr("d",p(i,y)),_t(F,y),w(i,B,y,Ee)}function _t(Re,Be){function He(){var Ye="path"!==Be.type,Ue=Re.selectAll(".visual-cue").data([0]),De=1;Ue.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":De}).classed("visual-cue",!0);var ge=Ce(H?Be.xanchor:l.midRange(Ye?[Be.x0,Be.x1]:b.extractPathCoords(Be.path,d.paramIsX))),Te=Ie(U?Be.yanchor:l.midRange(Ye?[Be.y0,Be.y1]:b.extractPathCoords(Be.path,d.paramIsY)));ge=b.roundPositionForSharpStrokeRendering(ge,De),Te=b.roundPositionForSharpStrokeRendering(Te,De),Ue.attr("d",H&&U?"M"+(ge-1-De)+","+(Te-1-De)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":H?"M"+(ge-1-De)+","+(Te-9-De)+"v18 h2 v-18 Z":"M"+(ge-9-De)+","+(Te-1-De)+"h18 v2 h-18 Z")}(H||U)&&He()}function nt(Re){Re.selectAll(".visual-cue").remove()}function ke(Re,Be,He){var Ye=Be.xref,Ue=Be.yref,De=R.getFromId(He,Ye),ge=R.getFromId(He,Ue),Te="";"paper"!==Ye&&!De.autorange&&(Te+=Ye),"paper"!==Ue&&!ge.autorange&&(Te+=Ue),c.setClipUrl(Re,Te?"clip"+He._fullLayout._uid+Te:null,He)}f.init(Ke),ze.node().onmousemove=je}(i,K,B,D,V,Z):!0===B.editable&&K.style("pointer-events",pe||n.opacity(Y)*G<=.5?"stroke":"all");K.node().addEventListener("click",function(){return function x(i,D){if(u(i)){var B=+D.node().getAttribute("data-index");if(B>=0){if(B===i._fullLayout._activeShapeIndex)return void E(i);i._fullLayout._activeShapeIndex=B,i._fullLayout._deactivateShape=E,A(i)}}}(i,K)})}("below"!==B.layer?i._fullLayout._shapeUpperLayer:"paper"===B.xref||"paper"===B.yref?i._fullLayout._shapeLowerLayer:F._hadPlotinfo?(F.mainplotinfo||F).shapelayer:i._fullLayout._shapeLowerLayer)}function C(i,D,y){var B=(y.xref+y.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");c.setClipUrl(i,B?"clip"+D._fullLayout._uid+B:null,D)}function L(i,D,y){return i.replace(d.segmentRE,function(B){var F=0,_=B.charAt(0),z=d.paramIsX[_],V=d.paramIsY[_],H=d.numParams[_];return _+B.substr(1).replace(d.paramRE,function(G){return F>=H||(z[F]?G=D(G):V[F]&&(G=y(G)),F++),G})})}function E(i){u(i)&&i._fullLayout._activeShapeIndex>=0&&(r(i),delete i._fullLayout._activeShapeIndex,A(i))}oe.exports={draw:A,drawOne:g,eraseActiveShape:function M(i){if(u(i)){r(i);var D=i._fullLayout._activeShapeIndex,y=(i.layout||{}).shapes||[];if(D<y.length){for(var B=[],F=0;F<y.length;F++)F!==D&&B.push(y[F]);return delete i._fullLayout._activeShapeIndex,k.call("_guiRelayout",i,{shapes:B})}}},drawLabel:w}},29241:function(oe,J,t){"use strict";var S=t(30962).overrideAll,k=t(9012),l=t(41940),R=t(79952).P,I=t(1426).extendFlat,v=t(5386).R,w=t(37281);oe.exports=S({newshape:{visible:I({},k.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:I({},k.legend,{}),legendgroup:I({},k.legendgroup,{}),legendgrouptitle:{text:I({},k.legendgrouptitle.text,{}),font:l({})},legendrank:I({},k.legendrank,{}),legendwidth:I({},k.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:I({},R,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:I({},k.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(w)}),font:l({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(oe){"use strict";oe.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(oe,J,t){"use strict";var S=t(7901),k=t(71828);oe.exports=function(I,v,w){w("newshape.visible"),w("newshape.name"),w("newshape.showlegend"),w("newshape.legend"),w("newshape.legendwidth"),w("newshape.legendgroup"),w("newshape.legendgrouptitle.text"),k.coerceFont(w,"newshape.legendgrouptitle.font"),w("newshape.legendrank"),w("newshape.drawdirection"),w("newshape.layer"),w("newshape.fillcolor"),w("newshape.fillrule"),w("newshape.opacity"),w("newshape.line.width")&&(w("newshape.line.color",S.contrast((I||{}).plot_bgcolor||"#FFF")),w("newshape.line.dash"));var c="drawline"===I.dragmode,o=w("newshape.label.text"),f=w("newshape.label.texttemplate");if(o||f){w("newshape.label.textangle");var h=w("newshape.label.textposition",c?"middle":"middle center");w("newshape.label.xanchor"),w("newshape.label.yanchor",function l(R,I){return R?"bottom":-1!==I.indexOf("top")?"top":-1!==I.indexOf("bottom")?"bottom":"middle"}(c,h)),w("newshape.label.padding"),k.coerceFont(w,"newshape.label.font",v.font)}w("activeshape.fillcolor"),w("activeshape.opacity")}},60165:function(oe,J,t){"use strict";var S=t(95616),k=t(89995),l=k.CIRCLE_SIDES,R=k.SQRT2,I=t(75549),v=I.p2r,w=I.r2p,r=[0,3,4,5,6,1,2],n=[0,3,4,1,2];function c(f,h){return Math.abs(f-h)<=1e-6}function o(f,h){var d=h[1]-f[1],b=h[2]-f[2];return Math.sqrt(d*d+b*b)}J.writePaths=function(f){var h=f.length;if(!h)return"M0,0Z";for(var d="",b=0;b<h;b++)for(var p=f[b].length,A=0;A<p;A++){var m=f[b][A][0];if("Z"===m)d+="Z";else for(var u=f[b][A].length,g=0;g<u;g++){var C=g;"Q"===m||"S"===m?C=n[g]:"C"===m&&(C=r[g]),d+=f[b][A][C],g>0&&g<u-1&&(d+=",")}}return d},J.readPaths=function(f,h,d,b){var g,L,x,p=S(f),A=[],m=-1,C=0,T=0,E=function(){L=C,x=T};E();for(var M=0;M<p.length;M++){var i=[],_=p[M][0],z=_;switch(_){case"M":m++,A[m]=[],i.push([z,C=+p[M][1],T=+p[M][2]]),E();break;case"Q":case"S":i.push([z,C=+p[M][3],T=+p[M][4],+p[M][1],+p[M][2]]);break;case"C":i.push([z,C=+p[M][5],T=+p[M][6],+p[M][1],+p[M][2],+p[M][3],+p[M][4]]);break;case"T":case"L":i.push([z,C=+p[M][1],T=+p[M][2]]);break;case"H":i.push([z="L",C=+p[M][1],T]);break;case"V":i.push([z="L",C,T=+p[M][1]]);break;case"A":z="L";var V=+p[M][1],H=+p[M][2];+p[M][4]||(V=-V,H=-H);var U=C-V,G=T;for(g=1;g<=l/2;g++){var Y=2*Math.PI*g/l;i.push([z,U+V*Math.cos(Y),G+H*Math.sin(Y)])}break;case"Z":(C!==L||T!==x)&&i.push([z,C=L,T=x])}for(var ee=(d||{}).domain,ue=h._fullLayout._size,ce=d&&"pixel"===d.xsizemode,pe=d&&"pixel"===d.ysizemode,te=!1===b,Q=0;Q<i.length;Q++){for(g=0;g+2<7;g+=2){var K=i[Q][g+1],Z=i[Q][g+2];void 0===K||void 0===Z||(C=K,T=Z,d&&(d.xaxis&&d.xaxis.p2r?(te&&(K-=d.xaxis._offset),K=ce?w(d.xaxis,d.xanchor)+K:v(d.xaxis,K)):(te&&(K-=ue.l),ee?K=ee.x[0]+K/ue.w:K/=ue.w),d.yaxis&&d.yaxis.p2r?(te&&(Z-=d.yaxis._offset),Z=pe?w(d.yaxis,d.yanchor)-Z:v(d.yaxis,Z)):(te&&(Z-=ue.t),Z=ee?ee.y[1]-Z/ue.h:1-Z/ue.h)),i[Q][g+1]=K,i[Q][g+2]=Z)}A[m].push(i[Q].slice())}}return A},J.pointsOnRectangle=function(f){if(5!==f.length)return!1;for(var d=1;d<3;d++){if(!c(f[0][d]-f[1][d],f[3][d]-f[2][d]))return!1;if(!c(f[0][d]-f[3][d],f[1][d]-f[2][d]))return!1}return!(!c(f[0][1],f[1][1])&&!c(f[0][1],f[3][1])||!(o(f[0],f[1])*o(f[0],f[3])))},J.pointsOnEllipse=function(f){var h=f.length;if(h!==l+1)return!1;h=l;for(var d=0;d<h;d++){var b=(2*h-d)%h,p=(h/2+b)%h;if(!c(o(f[d],f[(h/2+d)%h]),o(f[b],f[p])))return!1}return!0},J.handleEllipse=function(f,h,d){if(!f)return[h,d];var b=J.ellipseOver({x0:h[0],y0:h[1],x1:d[0],y1:d[1]}),p=(b.x1+b.x0)/2,A=(b.y1+b.y0)/2,m=(b.x1-b.x0)/2,u=(b.y1-b.y0)/2;m||(m=u/=R),u||(u=m/=R);for(var g=[],C=0;C<l;C++){var T=2*C*Math.PI/l;g.push([p+m*Math.cos(T),A+u*Math.sin(T)])}return g},J.ellipseOver=function(f){var h=f.x0,d=f.y0,b=f.x1,p=f.y1,A=b-h,m=p-d,u=((h-=A)+b)/2,g=((d-=m)+p)/2;return{x0:u-(A*=R),y0:g-(m*=R),x1:u+A,y1:g+m}},J.fixDatesForPaths=function(f,h,d){var b="date"===h.type,p="date"===d.type;if(!b&&!p)return f;for(var A=0;A<f.length;A++)for(var m=0;m<f[A].length;m++)for(var u=0;u+2<f[A][m].length;u+=2)b&&(f[A][m][u+1]=f[A][m][u+1].replace(" ","_")),p&&(f[A][m][u+2]=f[A][m][u+2].replace(" ","_"));return f}},90551:function(oe,J,t){"use strict";var S=t(64505),k=S.drawMode,l=S.openMode,R=t(89995),I=R.i000,v=R.i090,w=R.i180,r=R.i270,n=R.cos45,c=R.sin45,o=t(75549),f=o.p2r,h=o.r2p,b=t(51873).clearOutline,p=t(60165),A=p.readPaths,m=p.writePaths,u=p.ellipseOver,g=p.fixDatesForPaths;function T(L,x,E){var ee,i=x.gd,D=L[0][0].getAttribute("d"),y=i._fullLayout.newshape,B=x.plotinfo,F=x.isActiveShape,_=B.xaxis,z=B.yaxis,V=!!B.domain||!B.xaxis,H=!!B.domain||!B.yaxis,U=l(E),G=A(D,i,B,F),Y={editable:!0,visible:y.visible,name:y.name,showlegend:y.showlegend,legend:y.legend,legendwidth:y.legendwidth,legendgroup:y.legendgroup,legendgrouptitle:{text:y.legendgrouptitle.text,font:y.legendgrouptitle.font},legendrank:y.legendrank,label:y.label,xref:V?"paper":_._id,yref:H?"paper":z._id,layer:y.layer,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}};if(U||(Y.fillcolor=y.fillcolor,Y.fillrule=y.fillrule),1===G.length&&(ee=G[0]),ee&&5===ee.length&&"drawrect"===E)Y.type="rect",Y.x0=ee[0][1],Y.y0=ee[0][2],Y.x1=ee[2][1],Y.y1=ee[2][2];else if(ee&&"drawline"===E)Y.type="line",Y.x0=ee[0][1],Y.y0=ee[0][2],Y.x1=ee[1][1],Y.y1=ee[1][2];else if(ee&&"drawcircle"===E){Y.type="circle";var ue=ee[I][1],ce=ee[v][1],pe=ee[w][1],te=ee[r][1],Q=ee[I][2],K=ee[v][2],Z=ee[w][2],q=ee[r][2],fe=B.xaxis&&("date"===B.xaxis.type||"log"===B.xaxis.type),re=B.yaxis&&("date"===B.yaxis.type||"log"===B.yaxis.type);fe&&(ue=h(B.xaxis,ue),ce=h(B.xaxis,ce),pe=h(B.xaxis,pe),te=h(B.xaxis,te)),re&&(Q=h(B.yaxis,Q),K=h(B.yaxis,K),Z=h(B.yaxis,Z),q=h(B.yaxis,q));var $=(ce+te)/2,le=(Q+Z)/2,we=u({x0:$,y0:le,x1:$+(te-ce+pe-ue)/2*n,y1:le+(q-K+Z-Q)/2*c});fe&&(we.x0=f(B.xaxis,we.x0),we.x1=f(B.xaxis,we.x1)),re&&(we.y0=f(B.yaxis,we.y0),we.y1=f(B.yaxis,we.y1)),Y.x0=we.x0,Y.y0=we.y0,Y.x1=we.x1,Y.y1=we.y1}else Y.type="path",_&&z&&g(G,_,z),Y.path=m(G),ee=null;return Y}oe.exports={newShapes:function C(L,x){if(L.length&&L[0][0]){var M=x.gd,i=x.isActiveShape,D=x.dragmode,y=(M.layout||{}).shapes||[];if(!k(D)&&void 0!==i){var B=M._fullLayout._activeShapeIndex;if(B<y.length)switch(M._fullLayout.shapes[B].type){case"rect":D="drawrect";break;case"circle":D="drawcircle";break;case"line":D="drawline";break;case"path":var F=y[B].path||"";D="Z"===F[F.length-1]?"drawclosedpath":"drawopenpath"}}var _=T(L,x,D);b(M);for(var z=x.editHelpers,V=(z||{}).modifyItem,H=[],U=0;U<y.length;U++){var G=M._fullLayout.shapes[U];if(H[U]=G._input,void 0!==i&&U===M._fullLayout._activeShapeIndex){var Y=_;switch(G.type){case"line":case"rect":case"circle":V("x0",Y.x0),V("x1",Y.x1),V("y0",Y.y0),V("y1",Y.y1);break;case"path":V("path",Y.path)}}}return void 0===i?(H.push(_),H):z?z.getUpdateObj():{}}},createShapeObj:T}},51873:function(oe){"use strict";oe.exports={clearOutlineControllers:function J(S){var k=S._fullLayout._zoomlayer;k&&k.selectAll(".outline-controllers").remove()},clearOutline:function t(S){var k=S._fullLayout._zoomlayer;k&&k.selectAll(".select-outline").remove(),S._fullLayout._outlining=!1}}},30477:function(oe,J,t){"use strict";var S=t(21459),k=t(71828),l=t(89298);J.rangeToShapePosition=function(I){return"log"===I.type?I.r2d:function(v){return v}},J.shapePositionToRange=function(I){return"log"===I.type?I.d2r:function(v){return v}},J.decodeDate=function(I){return function(v){return v.replace&&(v=v.replace("_"," ")),I(v)}},J.encodeDate=function(I){return function(v){return I(v).replace(" ","_")}},J.extractPathCoords=function(I,v,w){var r=[];return I.match(S.segmentRE).forEach(function(c){var o=v[c.charAt(0)].drawn;if(void 0!==o){var f=c.substr(1).match(S.paramRE);if(f&&!(f.length<o)){var h=f[o],d=w?h:k.cleanNumber(h);r.push(d)}}}),r},J.getDataToPixel=function(I,v,w,r){var c,n=I._fullLayout._size;if(v)if("domain"===r)c=function(f){return v._length*(w?1-f:f)+v._offset};else{var o=J.shapePositionToRange(v);c=function(f){return v._offset+v.r2p(o(f,!0))},"date"===v.type&&(c=J.decodeDate(c))}else c=w?function(f){return n.t+n.h*(1-f)}:function(f){return n.l+n.w*f};return c},J.getPixelToData=function(I,v,w,r){var c,n=I._fullLayout._size;if(v)if("domain"===r)c=function(f){var h=(f-v._offset)/v._length;return w?1-h:h};else{var o=J.rangeToShapePosition(v);c=function(f){return o(v.p2r(f-v._offset))}}else c=w?function(f){return 1-(f-n.t)/n.h}:function(f){return(f-n.l)/n.w};return c},J.roundPositionForSharpStrokeRendering=function(I,v){var w=1===Math.round(v%2),r=Math.round(I);return w?r+.5:r},J.makeShapesOptionsAndPlotinfo=function(I,v){var w=I._fullLayout.shapes[v]||{},r=I._fullLayout._plots[w.xref+w.yref];return r?r._hadPlotinfo=!0:(r={},w.xref&&"paper"!==w.xref&&(r.xaxis=I._fullLayout[w.xref+"axis"]),w.yref&&"paper"!==w.yref&&(r.yaxis=I._fullLayout[w.yref+"axis"])),r.xsizemode=w.xsizemode,r.ysizemode=w.ysizemode,r.xanchor=w.xanchor,r.yanchor=w.yanchor,{options:w,plotinfo:r}},J.makeSelectionsOptionsAndPlotinfo=function(I,v){var w=I._fullLayout.selections[v]||{},r=I._fullLayout._plots[w.xref+w.yref];return r?r._hadPlotinfo=!0:(r={},w.xref&&(r.xaxis=I._fullLayout[w.xref+"axis"]),w.yref&&(r.yaxis=I._fullLayout[w.yref+"axis"])),{options:w,plotinfo:r}},J.getPathString=function(I,v){var h,d,b,p,A,m,u,g,w=v.type,r=l.getRefType(v.xref),n=l.getRefType(v.yref),c=l.getFromId(I,v.xref),o=l.getFromId(I,v.yref),f=I._fullLayout._size;if(c?"domain"===r?d=function(B){return c._offset+c._length*B}:(h=J.shapePositionToRange(c),d=function(B){return c._offset+c.r2p(h(B,!0))}):d=function(B){return f.l+f.w*B},o?"domain"===n?p=function(B){return o._offset+o._length*(1-B)}:(b=J.shapePositionToRange(o),p=function(B){return o._offset+o.r2p(b(B,!0))}):p=function(B){return f.t+f.h*(1-B)},"path"===w)return c&&"date"===c.type&&(d=J.decodeDate(d)),o&&"date"===o.type&&(p=J.decodeDate(p)),function R(I,v,w){var n=I.xsizemode,c=I.ysizemode,o=I.xanchor,f=I.yanchor;return I.path.replace(S.segmentRE,function(h){var d=0,b=h.charAt(0),p=S.paramIsX[b],A=S.paramIsY[b],m=S.numParams[b],u=h.substr(1).replace(S.paramRE,function(g){return p[d]?g="pixel"===n?v(o)+Number(g):v(g):A[d]&&(g="pixel"===c?w(f)-Number(g):w(g)),++d>m&&(g="X"),g});return d>m&&(u=u.replace(/[\s,]*X.*/,""),k.log("Ignoring extra params in segment "+h)),b+u})}(v,d,p);if("pixel"===v.xsizemode){var C=d(v.xanchor);A=C+v.x0,m=C+v.x1}else A=d(v.x0),m=d(v.x1);if("pixel"===v.ysizemode){var T=p(v.yanchor);u=T-v.y0,g=T-v.y1}else u=p(v.y0),g=p(v.y1);if("line"===w)return"M"+A+","+u+"L"+m+","+g;if("rect"===w)return"M"+A+","+u+"H"+m+"V"+g+"H"+A+"Z";var L=(A+m)/2,x=(u+g)/2,E=Math.abs(L-A),M=Math.abs(x-u),i="A"+E+","+M,D=L+E+","+x;return"M"+D+i+" 0 1,1 "+L+","+(x-M)+i+" 0 0,1 "+D+"Z"}},89853:function(oe,J,t){"use strict";var S=t(34031);oe.exports={moduleType:"component",name:"shapes",layoutAttributes:t(89827),supplyLayoutDefaults:t(84726),supplyDrawNewShapeDefaults:t(45547),includeBasePlot:t(76325)("shapes"),calcAutorange:t(5627),draw:S.draw,drawOne:S.drawOne}},37281:function(oe){"use strict";function J(h,d){return d?d.d2l(h):h}function t(h,d){return d?d.l2d(h):h}function I(h,d){return J(h.x1,d)-J(h.x0,d)}function v(h,d,b){return J(h.y1,b)-J(h.y0,b)}oe.exports={x0:function S(h){return h.x0},x1:function k(h){return h.x1},y0:function l(h){return h.y0},y1:function R(h){return h.y1},slope:function f(h,d,b){return"line"!==h.type?void 0:v(h,0,b)/I(h,d)},dx:I,dy:v,width:function w(h,d){return Math.abs(I(h,d))},height:function r(h,d,b){return Math.abs(v(h,0,b))},length:function n(h,d,b){return"line"!==h.type?void 0:Math.sqrt(Math.pow(I(h,d),2)+Math.pow(v(h,0,b),2))},xcenter:function c(h,d){return t((J(h.x1,d)+J(h.x0,d))/2,d)},ycenter:function o(h,d,b){return t((J(h.y1,b)+J(h.y0,b))/2,b)}}},75067:function(oe,J,t){"use strict";var S=t(41940),k=t(35025),l=t(1426).extendDeepAll,R=t(30962).overrideAll,I=t(85594),v=t(44467).templatedArray,w=t(98292),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});oe.exports=R(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:l(k({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:I.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:S({})},font:S({}),activebgcolor:{valType:"color",dflt:w.gripBgActiveColor},bgcolor:{valType:"color",dflt:w.railBgColor},bordercolor:{valType:"color",dflt:w.railBorderColor},borderwidth:{valType:"number",min:0,dflt:w.railBorderWidth},ticklen:{valType:"number",min:0,dflt:w.tickLength},tickcolor:{valType:"color",dflt:w.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:w.minorTickLength}}),"arraydraw","from-root")},98292:function(oe){"use strict";oe.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(oe,J,t){"use strict";var S=t(71828),k=t(85501),l=t(75067),I=t(98292).name,v=l.steps;function w(n,c,o){function f(g,C){return S.coerce(n,c,l,g,C)}for(var h=k(n,c,{name:"steps",handleItemDefaults:r}),d=0,b=0;b<h.length;b++)h[b].visible&&d++;if(d<2?c.visible=!1:f("visible")){c._stepCount=d;var A=c._visibleSteps=S.filterVisible(h);(h[f("active")]||{}).visible||(c.active=A[0]._index),f("x"),f("y"),S.noneOrAll(n,c,["x","y"]),f("xanchor"),f("yanchor"),f("len"),f("lenmode"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),S.coerceFont(f,"font",o.font),f("currentvalue.visible")&&(f("currentvalue.xanchor"),f("currentvalue.prefix"),f("currentvalue.suffix"),f("currentvalue.offset"),S.coerceFont(f,"currentvalue.font",c.font)),f("transition.duration"),f("transition.easing"),f("bgcolor"),f("activebgcolor"),f("bordercolor"),f("borderwidth"),f("ticklen"),f("tickwidth"),f("tickcolor"),f("minorticklen")}}function r(n,c){function o(d,b){return S.coerce(n,c,v,d,b)}if("skip"===n.method||Array.isArray(n.args)?o("visible"):c.visible=!1){o("method"),o("args");var h=o("label","step-"+c._index);o("value",h),o("execute")}}oe.exports=function(c,o){k(c,o,{name:I,handleItemDefaults:w})}},44504:function(oe,J,t){"use strict";var S=t(39898),k=t(74875),l=t(7901),R=t(91424),I=t(71828),v=I.strTranslate,w=t(63893),r=t(44467).arrayEditor,n=t(98292),c=t(18783),o=c.LINE_SPACING,f=c.FROM_TL,h=c.FROM_BR;function d(z){return n.autoMarginIdRoot+z._index}function p(z){return z._index}function A(z,V){var H=R.tester.selectAll("g."+n.labelGroupClass).data(V._visibleSteps);H.enter().append("g").classed(n.labelGroupClass,!0);var U=0,G=0;H.each(function(q){var $=C(S.select(this),{step:q},V).node();if($){var le=R.bBox($);G=Math.max(G,le.height),U=Math.max(U,le.width)}}),H.remove();var Y=V._dims={};Y.inputAreaWidth=Math.max(n.railWidth,n.gripHeight);var ee=z._fullLayout._size;if(Y.lx=ee.l+ee.w*V.x,Y.ly=ee.t+ee.h*(1-V.y),Y.outerLength="fraction"===V.lenmode?Math.round(ee.w*V.len):V.len,Y.inputAreaStart=0,Y.inputAreaLength=Math.round(Y.outerLength-V.pad.l-V.pad.r),Y.labelStride=Math.max(1,Math.ceil((U+n.labelPadding)/((Y.inputAreaLength-2*n.stepInset)/(V._stepCount-1)))),Y.labelHeight=G,Y.currentValueMaxWidth=0,Y.currentValueHeight=0,Y.currentValueTotalHeight=0,Y.currentValueMaxLines=1,V.currentvalue.visible){var te=R.tester.append("g");H.each(function(q){var fe=u(te,V,q.label),re=fe.node()&&R.bBox(fe.node())||{width:0,height:0},$=w.lineCount(fe);Y.currentValueMaxWidth=Math.max(Y.currentValueMaxWidth,Math.ceil(re.width)),Y.currentValueHeight=Math.max(Y.currentValueHeight,Math.ceil(re.height)),Y.currentValueMaxLines=Math.max(Y.currentValueMaxLines,$)}),Y.currentValueTotalHeight=Y.currentValueHeight+V.currentvalue.offset,te.remove()}Y.height=Y.currentValueTotalHeight+n.tickOffset+V.ticklen+n.labelOffset+Y.labelHeight+V.pad.t+V.pad.b;var Q="left";I.isRightAnchor(V)&&(Y.lx-=Y.outerLength,Q="right"),I.isCenterAnchor(V)&&(Y.lx-=Y.outerLength/2,Q="center");var K="top";I.isBottomAnchor(V)&&(Y.ly-=Y.height,K="bottom"),I.isMiddleAnchor(V)&&(Y.ly-=Y.height/2,K="middle"),Y.outerLength=Math.ceil(Y.outerLength),Y.height=Math.ceil(Y.height),Y.lx=Math.round(Y.lx),Y.ly=Math.round(Y.ly);var Z={y:V.y,b:Y.height*h[K],t:Y.height*f[K]};"fraction"===V.lenmode?(Z.l=0,Z.xl=V.x-V.len*f[Q],Z.r=0,Z.xr=V.x+V.len*h[Q]):(Z.x=V.x,Z.l=Y.outerLength*f[Q],Z.r=Y.outerLength*h[Q]),k.autoMargin(z,d(V),Z)}function u(z,V,H){if(V.currentvalue.visible){var G,Y,U=V._dims;switch(V.currentvalue.xanchor){case"right":G=U.inputAreaLength-n.currentValueInset-U.currentValueMaxWidth,Y="left";break;case"center":G=.5*U.inputAreaLength,Y="middle";break;default:G=n.currentValueInset,Y="left"}var ee=I.ensureSingle(z,"text",n.labelClass,function(K){K.attr({"text-anchor":Y,"data-notex":1})}),ue=V.currentvalue.prefix?V.currentvalue.prefix:"";if("string"==typeof H)ue+=H;else{var ce=V.steps[V.active].label,pe=V._gd._fullLayout._meta;pe&&(ce=I.templateString(ce,pe)),ue+=ce}V.currentvalue.suffix&&(ue+=V.currentvalue.suffix),ee.call(R.font,V.currentvalue.font).text(ue).call(w.convertToTspans,V._gd);var te=w.lineCount(ee);return w.positionText(ee,G,(U.currentValueMaxLines+1-te)*V.currentvalue.font.size*o),ee}}function g(z,V,H){I.ensureSingle(z,"rect",n.gripRectClass,function(G){G.call(E,V,z,H).style("pointer-events","all")}).attr({width:n.gripWidth,height:n.gripHeight,rx:n.gripRadius,ry:n.gripRadius}).call(l.stroke,H.bordercolor).call(l.fill,H.bgcolor).style("stroke-width",H.borderwidth+"px")}function C(z,V,H){var U=I.ensureSingle(z,"text",n.labelClass,function(ee){ee.attr({"text-anchor":"middle","data-notex":1})}),G=V.step.label,Y=H._gd._fullLayout._meta;return Y&&(G=I.templateString(G,Y)),U.call(R.font,H.font).text(G).call(w.convertToTspans,H._gd),U}function T(z,V){var H=I.ensureSingle(z,"g",n.labelsClass),U=V._dims,G=H.selectAll("g."+n.labelGroupClass).data(U.labelSteps);G.enter().append("g").classed(n.labelGroupClass,!0),G.exit().remove(),G.each(function(Y){var ee=S.select(this);ee.call(C,Y,V),R.setTranslate(ee,y(V,Y.fraction),n.tickOffset+V.ticklen+V.font.size*o+n.labelOffset+U.currentValueTotalHeight)})}function L(z,V,H,U,G){var Y=Math.round(U*(H._stepCount-1)),ee=H._visibleSteps[Y]._index;ee!==H.active&&x(z,V,H,ee,!0,G)}function x(z,V,H,U,G,Y){var ee=H.active;H.active=U,r(z.layout,n.name,H).applyUpdate("active",U);var ue=H.steps[H.active];V.call(D,H,Y),V.call(u,H),z.emit("plotly_sliderchange",{slider:H,step:H.steps[H.active],interaction:G,previousActive:ee}),ue&&ue.method&&G&&(V._nextMethod?(V._nextMethod.step=ue,V._nextMethod.doCallback=G,V._nextMethod.doTransition=Y):(V._nextMethod={step:ue,doCallback:G,doTransition:Y},V._nextMethodRaf=window.requestAnimationFrame(function(){var ce=V._nextMethod.step;ce.method&&(ce.execute&&k.executeAPICommand(z,ce.method,ce.args),V._nextMethod=null,V._nextMethodRaf=null)})))}function E(z,V,H){if(!V._context.staticPlot){var U=H.node(),G=S.select(V);z.on("mousedown",ee),z.on("touchstart",ee)}function Y(){return H.data()[0]}function ee(){var ue=Y();V.emit("plotly_sliderstart",{slider:ue});var ce=H.select("."+n.gripRectClass);S.event.stopPropagation(),S.event.preventDefault(),ce.call(l.fill,ue.activebgcolor);var pe=B(ue,S.mouse(U)[0]);function te(){var K=Y(),Z=B(K,S.mouse(U)[0]);L(V,H,K,Z,!1)}function Q(){var K=Y();K._dragging=!1,ce.call(l.fill,K.bgcolor),G.on("mouseup",null),G.on("mousemove",null),G.on("touchend",null),G.on("touchmove",null),V.emit("plotly_sliderend",{slider:K,step:K.steps[K.active]})}L(V,H,ue,pe,!0),ue._dragging=!0,G.on("mousemove",te),G.on("touchmove",te),G.on("mouseup",Q),G.on("touchend",Q)}}function M(z,V){var H=z.selectAll("rect."+n.tickRectClass).data(V._visibleSteps),U=V._dims;H.enter().append("rect").classed(n.tickRectClass,!0),H.exit().remove(),H.attr({width:V.tickwidth+"px","shape-rendering":"crispEdges"}),H.each(function(G,Y){var ee=Y%U.labelStride==0,ue=S.select(this);ue.attr({height:ee?V.ticklen:V.minorticklen}).call(l.fill,V.tickcolor),R.setTranslate(ue,y(V,Y/(V._stepCount-1))-.5*V.tickwidth,(ee?n.tickOffset:n.minorTickOffset)+U.currentValueTotalHeight)})}function D(z,V,H){for(var U=z.select("rect."+n.gripRectClass),G=0,Y=0;Y<V._stepCount;Y++)if(V._visibleSteps[Y]._index===V.active){G=Y;break}var ee=y(V,G/(V._stepCount-1));if(!V._invokingCommand){var ue=U;H&&V.transition.duration>0&&(ue=ue.transition().duration(V.transition.duration).ease(V.transition.easing)),ue.attr("transform",v(ee-.5*n.gripWidth,V._dims.currentValueTotalHeight))}}function y(z,V){var H=z._dims;return H.inputAreaStart+n.stepInset+(H.inputAreaLength-2*n.stepInset)*Math.min(1,Math.max(0,V))}function B(z,V){var H=z._dims;return Math.min(1,Math.max(0,(V-n.stepInset-H.inputAreaStart)/(H.inputAreaLength-2*n.stepInset-2*H.inputAreaStart)))}function F(z,V,H){var U=H._dims,G=I.ensureSingle(z,"rect",n.railTouchRectClass,function(Y){Y.call(E,V,z,H).style("pointer-events","all")});G.attr({width:U.inputAreaLength,height:Math.max(U.inputAreaWidth,n.tickOffset+H.ticklen+U.labelHeight)}).call(l.fill,H.bgcolor).attr("opacity",0),R.setTranslate(G,0,U.currentValueTotalHeight)}function _(z,V){var H=V._dims,U=H.inputAreaLength-2*n.railInset,G=I.ensureSingle(z,"rect",n.railRectClass);G.attr({width:U,height:n.railWidth,rx:n.railRadius,ry:n.railRadius,"shape-rendering":"crispEdges"}).call(l.stroke,V.bordercolor).call(l.fill,V.bgcolor).style("stroke-width",V.borderwidth+"px"),R.setTranslate(G,n.railInset,.5*(H.inputAreaWidth-n.railWidth)+H.currentValueTotalHeight)}oe.exports=function(V){var H=V._context.staticPlot,U=V._fullLayout,G=function b(z,V){for(var H=z[n.name],U=[],G=0;G<H.length;G++){var Y=H[G];Y.visible&&(Y._gd=V,U.push(Y))}return U}(U,V),Y=U._infolayer.selectAll("g."+n.containerClassName).data(G.length>0?[0]:[]);function ee(te){te._commandObserver&&(te._commandObserver.remove(),delete te._commandObserver),k.autoMargin(V,d(te))}if(Y.enter().append("g").classed(n.containerClassName,!0).style("cursor",H?null:"ew-resize"),Y.exit().each(function(){S.select(this).selectAll("g."+n.groupClassName).each(ee)}).remove(),0!==G.length){var ue=Y.selectAll("g."+n.groupClassName).data(G,p);ue.enter().append("g").classed(n.groupClassName,!0),ue.exit().each(ee).remove();for(var ce=0;ce<G.length;ce++)A(V,G[ce]);ue.each(function(te){var Q=S.select(this);(function i(z){var V=z._dims;V.labelSteps=[];for(var H=z._stepCount,U=0;U<H;U+=V.labelStride)V.labelSteps.push({fraction:U/(H-1),step:z._visibleSteps[U]})})(te),k.manageCommandObserver(V,te,te._visibleSteps,function(K){var Z=Q.data()[0];Z.active!==K.index&&(Z._dragging||x(V,Q,Z,K.index,!1,!0))}),function m(z,V,H){(H.steps[H.active]||{}).visible||(H.active=H._visibleSteps[0]._index),V.call(u,H).call(_,H).call(T,H).call(M,H).call(F,z,H).call(g,z,H);var U=H._dims;R.setTranslate(V,U.lx+H.pad.l,U.ly+H.pad.t),V.call(D,H,!1),V.call(u,H)}(V,S.select(this),te)})}}},23243:function(oe,J,t){"use strict";var S=t(98292);oe.exports={moduleType:"component",name:S.name,layoutAttributes:t(75067),supplyLayoutDefaults:t(12343),draw:t(44504)}},92998:function(oe,J,t){"use strict";var S=t(39898),k=t(92770),l=t(74875),R=t(73972),I=t(71828),v=I.strTranslate,w=t(91424),r=t(7901),n=t(63893),c=t(37822),o=t(18783).OPPOSITE_SIDE,f=/ [XY][0-9]* /;oe.exports={draw:function h(d,b,p){var V,A=p.propContainer,m=p.propName,u=p.placeholder,g=p.traceIndex,C=p.avoid||{},T=p.attributes,L=p.transform,x=p.containerGroup,E=d._fullLayout,M=1,i=!1,D=A.title,y=(D&&D.text?D.text:"").trim(),B=D&&D.font?D.font:{},F=B.family,_=B.size,z=B.color;"title.text"===m?V="titleText":-1!==m.indexOf("axis")?V="axisTitleText":m.indexOf(!0)&&(V="colorbarTitleText");var H=d._context.edits[V];""===y?M=0:y.replace(f," % ")===u.replace(f," % ")&&(M=.2,i=!0,H||(y="")),p._meta?y=I.templateString(y,p._meta):E._meta&&(y=I.templateString(y,E._meta));var G,U=y||H;x||(x=I.ensureSingle(E._infolayer,"g","g-"+b),G=E._hColorbarMoveTitle);var Y=x.selectAll("text").data(U?[0]:[]);if(Y.enter().append("text"),Y.text(y).attr("class",b),Y.exit().remove(),!U)return x;function ee(te){I.syncOrAsync([ue,ce],te)}function ue(te){var Q;return!L&&G&&(L={}),L?(Q="",L.rotate&&(Q+="rotate("+[L.rotate,T.x,T.y]+")"),(L.offset||G)&&(Q+=v(0,(L.offset||0)-(G||0)))):Q=null,te.attr("transform",Q),te.style({"font-family":F,"font-size":S.round(_,2)+"px",fill:r.rgb(z),opacity:M*r.opacity(z),"font-weight":l.fontWeight}).attr(T).call(n.convertToTspans,d),l.previousPromises(d)}function ce(te){var Q=S.select(te.node().parentNode);if(C&&C.selection&&C.side&&y){Q.attr("transform",null);var K=o[C.side],Z="left"===C.side||"top"===C.side?-1:1,q=k(C.pad)?C.pad:2,fe=w.bBox(Q.node()),re={t:0,b:0,l:0,r:0},$=d._fullLayout._reservedMargin;for(var le in $)for(var se in $[le])re[se]=Math.max(re[se],$[le][se]);var Ee=C.maxShift||Z*({left:re.l,top:re.t,right:E.width-re.r,bottom:E.height-re.b}[C.side]-fe[C.side]),Me=0;if(Ee<0)Me=Ee;else{var Ne=C.offsetLeft||0,Ve=C.offsetTop||0;fe.left-=Ne,fe.right-=Ne,fe.top-=Ve,fe.bottom-=Ve,C.selection.each(function(){var Ce=w.bBox(this);I.bBoxIntersect(fe,Ce,q)&&(Me=Math.max(Me,Z*(Ce[C.side]-fe[K])+q))}),Me=Math.min(Ee,Me),A._titleScoot=Math.abs(Me)}if(Me>0||Ee<0){var Pe={left:[-Me,0],right:[Me,0],top:[0,-Me],bottom:[0,Me]}[C.side];Q.attr("transform",v(Pe[0],Pe[1]))}}}return Y.call(ee),H&&(y?Y.on(".opacity",null):function pe(){M=0,i=!0,Y.text(u).on("mouseover.opacity",function(){S.select(this).transition().duration(c.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){S.select(this).transition().duration(c.HIDE_PLACEHOLDER).style("opacity",0)})}(),Y.call(n.makeEditable,{gd:d}).on("edit",function(te){void 0!==g?R.call("_guiRestyle",d,m,te,g):R.call("_guiRelayout",d,m,te)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ee)}).on("input",function(te){this.text(te||" ").call(n.positionText,T.x,T.y)})),Y.classed("js-placeholder",i),x}}},7163:function(oe,J,t){"use strict";var S=t(41940),k=t(22399),l=t(1426).extendFlat,R=t(30962).overrideAll,I=t(35025),v=t(44467).templatedArray,w=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});oe.exports=R(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:w,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:l(I({editType:"arraydraw"}),{}),font:S({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:k.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(oe){"use strict";oe.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},64897:function(oe,J,t){"use strict";var S=t(71828),k=t(85501),l=t(7163),I=t(75909).name,v=l.buttons;function w(n,c,o){function f(b,p){return S.coerce(n,c,l,b,p)}f("visible",k(n,c,{name:"buttons",handleItemDefaults:r}).length>0)&&(f("active"),f("direction"),f("type"),f("showactive"),f("x"),f("y"),S.noneOrAll(n,c,["x","y"]),f("xanchor"),f("yanchor"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),S.coerceFont(f,"font",o.font),f("bgcolor",o.paper_bgcolor),f("bordercolor"),f("borderwidth"))}function r(n,c){function o(h,d){return S.coerce(n,c,v,h,d)}o("visible","skip"===n.method||Array.isArray(n.args))&&(o("method"),o("args"),o("args2"),o("label"),o("execute"))}oe.exports=function(c,o){k(c,o,{name:I,handleItemDefaults:w})}},13689:function(oe,J,t){"use strict";var S=t(39898),k=t(74875),l=t(7901),R=t(91424),I=t(71828),v=t(63893),w=t(44467).arrayEditor,r=t(18783).LINE_SPACING,n=t(75909),c=t(25849);function o(y){return y._index}function h(y,B){return+y.attr(n.menuIndexAttrName)===B._index}function d(y,B,F,_,z,V,H,U){B.active=H,w(y.layout,n.name,B).applyUpdate("active",H),"buttons"===B.type?p(y,_,null,null,B):"dropdown"===B.type&&(z.attr(n.menuIndexAttrName,"-1"),b(y,_,z,V,B),U||p(y,_,z,V,B))}function b(y,B,F,_,z){var V=I.ensureSingle(B,"g",n.headerClassName,function(ce){ce.style("pointer-events","all")}),H=z._dims,Y={y:z.pad.t,yPad:0,x:z.pad.l,xPad:0,index:0},ee={width:H.headerWidth,height:H.headerHeight};V.call(u,z,z.buttons[z.active]||n.blankHeaderOpts,y).call(i,z,Y,ee),I.ensureSingle(B,"text",n.headerArrowClassName,function(ce){ce.attr("text-anchor","end").call(R.font,z.font).text(n.arrowSymbol[z.direction])}).attr({x:H.headerWidth-n.arrowOffsetX+z.pad.l,y:H.headerHeight/2+n.textOffsetY+z.pad.t}),V.on("click",function(){F.call(D,String(h(F,z)?-1:z._index)),p(y,B,F,_,z)}),V.on("mouseover",function(){V.call(L)}),V.on("mouseout",function(){V.call(x,z)}),R.setTranslate(B,H.lx,H.ly)}function p(y,B,F,_,z){F||(F=B).attr("pointer-events","all");var V=function f(y){return-1==+y.attr(n.menuIndexAttrName)}(F)&&"buttons"!==z.type?[]:z.buttons,H="dropdown"===z.type?n.dropdownButtonClassName:n.buttonClassName,U=F.selectAll("g."+H).data(I.filterVisible(V)),G=U.enter().append("g").classed(H,!0),Y=U.exit();"dropdown"===z.type?(G.attr("opacity","0").transition().attr("opacity","1"),Y.transition().attr("opacity","0").remove()):Y.remove();var ee=0,ue=0,ce=z._dims,pe=-1!==["up","down"].indexOf(z.direction);"dropdown"===z.type&&(pe?ue=ce.headerHeight+n.gapButtonHeader:ee=ce.headerWidth+n.gapButtonHeader),"dropdown"===z.type&&"up"===z.direction&&(ue=-n.gapButtonHeader+n.gapButton-ce.openHeight),"dropdown"===z.type&&"left"===z.direction&&(ee=-n.gapButtonHeader+n.gapButton-ce.openWidth);var te={x:ce.lx+ee+z.pad.l,y:ce.ly+ue+z.pad.t,yPad:n.gapButton,xPad:n.gapButton,index:0},Q={l:te.x+z.borderwidth,t:te.y+z.borderwidth};U.each(function(K,Z){var q=S.select(this);q.call(u,z,K,y).call(i,z,te),q.on("click",function(){S.event.defaultPrevented||(K.execute&&(K.args2&&z.active===Z?(d(y,z,0,B,F,_,-1),k.executeAPICommand(y,K.method,K.args2)):(d(y,z,0,B,F,_,Z),k.executeAPICommand(y,K.method,K.args))),y.emit("plotly_buttonclicked",{menu:z,button:K,active:z.active}))}),q.on("mouseover",function(){q.call(L)}),q.on("mouseout",function(){q.call(x,z),U.call(T,z)})}),U.call(T,z),pe?(Q.w=Math.max(ce.openWidth,ce.headerWidth),Q.h=te.y-Q.t):(Q.w=te.x-Q.l,Q.h=Math.max(ce.openHeight,ce.headerHeight)),Q.direction=z.direction,_&&(U.size()?function A(y,B,F,_,z,V){var ee,ue,ce,H=z.direction,G=z._dims,Y=z.active;if("up"===H||"down"===H)for(ue=0,ce=0;ce<Y;ce++)ue+=G.heights[ce]+n.gapButton;else for(ee=0,ce=0;ce<Y;ce++)ee+=G.widths[ce]+n.gapButton;_.enable(V,ee,ue),_.hbar&&_.hbar.attr("opacity","0").transition().attr("opacity","1"),_.vbar&&_.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,_,z,Q):function m(y){var B=!!y.hbar,F=!!y.vbar;B&&y.hbar.transition().attr("opacity","0").each("end",function(){B=!1,F||y.disable()}),F&&y.vbar.transition().attr("opacity","0").each("end",function(){F=!1,B||y.disable()})}(_))}function u(y,B,F,_){y.call(g,B).call(C,B,F,_)}function g(y,B){I.ensureSingle(y,"rect",n.itemRectClassName,function(_){_.attr({rx:n.rx,ry:n.ry,"shape-rendering":"crispEdges"})}).call(l.stroke,B.bordercolor).call(l.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px")}function C(y,B,F,_){var z=I.ensureSingle(y,"text",n.itemTextClassName,function(U){U.attr({"text-anchor":"start","data-notex":1})}),V=F.label,H=_._fullLayout._meta;H&&(V=I.templateString(V,H)),z.call(R.font,B.font).text(V).call(v.convertToTspans,_)}function T(y,B){var F=B.active;y.each(function(_,z){var V=S.select(this);z===F&&B.showactive&&V.select("rect."+n.itemRectClassName).call(l.fill,n.activeColor)})}function L(y){y.select("rect."+n.itemRectClassName).call(l.fill,n.hoverColor)}function x(y,B){y.select("rect."+n.itemRectClassName).call(l.fill,B.bgcolor)}function E(y,B){var F=B._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},_=R.tester.selectAll("g."+n.dropdownButtonClassName).data(I.filterVisible(B.buttons));_.enter().append("g").classed(n.dropdownButtonClassName,!0);var z=-1!==["up","down"].indexOf(B.direction);_.each(function(ee,ue){var ce=S.select(this);ce.call(u,B,ee,y);var pe=ce.select("."+n.itemTextClassName),te=pe.node()&&R.bBox(pe.node()).width,Q=Math.max(te+n.textPadX,n.minWidth),K=B.font.size*r,Z=v.lineCount(pe),q=Math.max(K*Z,n.minHeight)+n.textOffsetY;q=Math.ceil(q),Q=Math.ceil(Q),F.widths[ue]=Q,F.heights[ue]=q,F.height1=Math.max(F.height1,q),F.width1=Math.max(F.width1,Q),z?(F.totalWidth=Math.max(F.totalWidth,Q),F.openWidth=F.totalWidth,F.totalHeight+=q+n.gapButton,F.openHeight+=q+n.gapButton):(F.totalWidth+=Q+n.gapButton,F.openWidth+=Q+n.gapButton,F.totalHeight=Math.max(F.totalHeight,q),F.openHeight=F.totalHeight)}),z?F.totalHeight-=n.gapButton:F.totalWidth-=n.gapButton,F.headerWidth=F.width1+n.arrowPadX,F.headerHeight=F.height1,"dropdown"===B.type&&(z?(F.width1+=n.arrowPadX,F.totalHeight=F.height1):F.totalWidth=F.width1,F.totalWidth+=n.arrowPadX),_.remove();var V=F.totalWidth+B.pad.l+B.pad.r,H=F.totalHeight+B.pad.t+B.pad.b,U=y._fullLayout._size;F.lx=U.l+U.w*B.x,F.ly=U.t+U.h*(1-B.y);var G="left";I.isRightAnchor(B)&&(F.lx-=V,G="right"),I.isCenterAnchor(B)&&(F.lx-=V/2,G="center");var Y="top";I.isBottomAnchor(B)&&(F.ly-=H,Y="bottom"),I.isMiddleAnchor(B)&&(F.ly-=H/2,Y="middle"),F.totalWidth=Math.ceil(F.totalWidth),F.totalHeight=Math.ceil(F.totalHeight),F.lx=Math.round(F.lx),F.ly=Math.round(F.ly),k.autoMargin(y,M(B),{x:B.x,y:B.y,l:V*({right:1,center:.5}[G]||0),r:V*({left:1,center:.5}[G]||0),b:H*({top:1,middle:.5}[Y]||0),t:H*({bottom:1,middle:.5}[Y]||0)})}function M(y){return n.autoMarginIdRoot+y._index}function i(y,B,F,_){_=_||{};var z=y.select("."+n.itemRectClassName),V=y.select("."+n.itemTextClassName),H=B.borderwidth,U=F.index,G=B._dims;R.setTranslate(y,H+F.x,H+F.y);var Y=-1!==["up","down"].indexOf(B.direction),ee=_.height||(Y?G.heights[U]:G.height1);z.attr({x:0,y:0,width:_.width||(Y?G.width1:G.widths[U]),height:ee});var ue=B.font.size*r,ce=v.lineCount(V);v.positionText(V,n.textOffsetX,ee/2-(ce-1)*ue/2+n.textOffsetY),Y?F.y+=G.heights[U]+F.yPad:F.x+=G.widths[U]+F.xPad,F.index++}function D(y,B){y.attr(n.menuIndexAttrName,B||"-1").selectAll("g."+n.dropdownButtonClassName).remove()}oe.exports=function(B){var F=B._fullLayout,_=I.filterVisible(F[n.name]);function z(ce){k.autoMargin(B,M(ce))}var V=F._menulayer.selectAll("g."+n.containerClassName).data(_.length>0?[0]:[]);if(V.enter().append("g").classed(n.containerClassName,!0).style("cursor","pointer"),V.exit().each(function(){S.select(this).selectAll("g."+n.headerGroupClassName).each(z)}).remove(),0!==_.length){var H=V.selectAll("g."+n.headerGroupClassName).data(_,o);H.enter().append("g").classed(n.headerGroupClassName,!0);for(var U=I.ensureSingle(V,"g",n.dropdownButtonGroupClassName,function(ce){ce.style("pointer-events","all")}),G=0;G<_.length;G++)E(B,_[G]);var ue=new c(B,U,"updatemenus"+F._uid);H.enter().size()&&(U.node().parentNode.appendChild(U.node()),U.call(D)),H.exit().each(function(ce){U.call(D),z(ce)}).remove(),H.each(function(ce){var pe=S.select(this),te="dropdown"===ce.type?U:null;k.manageCommandObserver(B,ce,ce.buttons,function(Q){d(B,ce,0,pe,te,ue,Q.index,!0)}),"dropdown"===ce.type?(b(B,pe,U,ue,ce),h(U,ce)&&p(B,pe,U,ue,ce)):p(B,pe,null,null,ce)})}}},20763:function(oe,J,t){"use strict";var S=t(75909);oe.exports={moduleType:"component",name:S.name,layoutAttributes:t(7163),supplyLayoutDefaults:t(64897),draw:t(13689)}},25849:function(oe,J,t){"use strict";oe.exports=I;var S=t(39898),k=t(7901),l=t(91424),R=t(71828);function I(v,w,r){this.gd=v,this.container=w,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}I.barWidth=2,I.barLength=20,I.barRadius=2,I.barPad=1,I.barColor="#808BA4",I.prototype.enable=function(w,r,n){var c=this.gd._fullLayout,o=c.width,f=c.height;this.position=w;var x,E,M,i,h=this.position.l,d=this.position.w,b=this.position.t,p=this.position.h,A=this.position.direction,m="down"===A,u="left"===A,C="up"===A,T=d,L=p;!m&&!u&&!("right"===A)&&!C&&(this.position.direction="down",m=!0),m||C?(E=(x=h)+T,m?(M=b,L=(i=Math.min(M+L,f))-M):L=(i=b+L)-(M=Math.max(i-L,0))):(i=(M=b)+L,u?T=(E=h+T)-(x=Math.max(E-T,0)):(x=h,T=(E=Math.min(x+T,o))-x)),this._box={l:x,t:M,w:T,h:L};var y=d>T,B=I.barLength+2*I.barPad,F=I.barWidth+2*I.barPad,_=h,z=b+p;z+F>f&&(z=f-F);var V=this.container.selectAll("rect.scrollbar-horizontal").data(y?[0]:[]);V.exit().on(".drag",null).remove(),V.enter().append("rect").classed("scrollbar-horizontal",!0).call(k.fill,I.barColor),y?(this.hbar=V.attr({rx:I.barRadius,ry:I.barRadius,x:_,y:z,width:B,height:F}),this._hbarXMin=_+B/2,this._hbarTranslateMax=T-B):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var H=p>L,U=I.barWidth+2*I.barPad,G=I.barLength+2*I.barPad,Y=h+d,ee=b;Y+U>o&&(Y=o-U);var ue=this.container.selectAll("rect.scrollbar-vertical").data(H?[0]:[]);ue.exit().on(".drag",null).remove(),ue.enter().append("rect").classed("scrollbar-vertical",!0).call(k.fill,I.barColor),H?(this.vbar=ue.attr({rx:I.barRadius,ry:I.barRadius,x:Y,y:ee,width:U,height:G}),this._vbarYMin=ee+G/2,this._vbarTranslateMax=L-G):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ce=this.id,pe=x-.5,te=H?E+U+.5:E+.5,Q=M-.5,K=y?i+F+.5:i+.5,Z=c._topdefs.selectAll("#"+ce).data(y||H?[0]:[]);if(Z.exit().remove(),Z.enter().append("clipPath").attr("id",ce).append("rect"),y||H?(this._clipRect=Z.select("rect").attr({x:Math.floor(pe),y:Math.floor(Q),width:Math.ceil(te)-Math.floor(pe),height:Math.ceil(K)-Math.floor(Q)}),this.container.call(l.setClipUrl,ce,this.gd),this.bg.attr({x:h,y:b,width:d,height:p})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(l.setClipUrl,null),delete this._clipRect),y||H){var q=S.behavior.drag().on("dragstart",function(){S.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(q);var fe=S.behavior.drag().on("dragstart",function(){S.event.sourceEvent.preventDefault(),S.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));y&&this.hbar.on(".drag",null).call(fe),H&&this.vbar.on(".drag",null).call(fe)}this.setTranslate(r,n)},I.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(l.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},I.prototype._onBoxDrag=function(){var w=this.translateX,r=this.translateY;this.hbar&&(w-=S.event.dx),this.vbar&&(r-=S.event.dy),this.setTranslate(w,r)},I.prototype._onBoxWheel=function(){var w=this.translateX,r=this.translateY;this.hbar&&(w+=S.event.deltaY),this.vbar&&(r+=S.event.deltaY),this.setTranslate(w,r)},I.prototype._onBarDrag=function(){var w=this.translateX,r=this.translateY;if(this.hbar){var n=w+this._hbarXMin,c=n+this._hbarTranslateMax;w=(R.constrain(S.event.x,n,c)-n)/(c-n)*(this.position.w-this._box.w)}if(this.vbar){var d=r+this._vbarYMin,b=d+this._vbarTranslateMax;r=(R.constrain(S.event.y,d,b)-d)/(b-d)*(this.position.h-this._box.h)}this.setTranslate(w,r)},I.prototype.setTranslate=function(w,r){var n=this.position.w-this._box.w,c=this.position.h-this._box.h;w=R.constrain(w||0,0,n),r=R.constrain(r||0,0,c),this.translateX=w,this.translateY=r,this.container.call(l.setTranslate,this._box.l-this.position.l-w,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+w-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar&&this.hbar.call(l.setTranslate,w+w/n*this._hbarTranslateMax,r),this.vbar&&this.vbar.call(l.setTranslate,w,r+r/c*this._vbarTranslateMax)}},18783:function(oe){"use strict";oe.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(oe){"use strict";oe.exports={axisRefDescription:function(J,t,S){return["If set to a",J,"axis id (e.g. *"+J+"* or","*"+J+"2*), the `"+J+"` position refers to a",J,"coordinate. If set to *paper*, the `"+J+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+S+"). If set to a",J,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+J+"2 domain* refers to the domain of the second",J," axis and a",J,"position of 0.5 refers to the","point between the",t,"and the",S,"of the domain of the","second",J,"axis."].join(" ")}}},22372:function(oe){"use strict";oe.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25b2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25bc"}}},31562:function(oe){"use strict";oe.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(oe){"use strict";oe.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(oe){"use strict";oe.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(oe){"use strict";oe.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},37822:function(oe){"use strict";oe.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(oe){"use strict";oe.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},32396:function(oe,J){"use strict";J.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],J.STYLE=J.CSS_DECLARATIONS.map(function(t){return t.join(": ")+"; "}).join("")},77922:function(oe,J){"use strict";J.xmlns="http://www.w3.org/2000/xmlns/",J.svg="http://www.w3.org/2000/svg",J.xlink="http://www.w3.org/1999/xlink",J.svgAttrs={xmlns:J.svg,"xmlns:xlink":J.xlink}},8729:function(oe,J,t){"use strict";J.version=t(11506).version,t(7417),t(98847);for(var S=t(73972),k=J.register=S.register,l=t(10641),R=Object.keys(l),I=0;I<R.length;I++){var v=R[I];"_"!==v.charAt(0)&&(J[v]=l[v]),k({moduleType:"apiMethod",name:v,fn:l[v]})}k(t(67368)),k([t(32745),t(2468),t(47322),t(89853),t(68804),t(20763),t(23243),t(13137),t(97218),t(83312),t(37369),t(21081),t(12311),t(2199),t(30211),t(64168)]),k([t(92177),t(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(k(window.PlotlyLocales),delete window.PlotlyLocales),J.Icons=t(24255);var w=t(30211),r=t(74875);J.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},J.Fx={hover:w.hover,unhover:w.unhover,loneHover:w.loneHover,loneUnhover:w.loneUnhover},J.Snapshot=t(44511),J.PlotSchema=t(86281)},24255:function(oe){"use strict";oe.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(oe,J){"use strict";J.isLeftAnchor=function(S){return"left"===S.xanchor||"auto"===S.xanchor&&S.x<=.3333333333333333},J.isCenterAnchor=function(S){return"center"===S.xanchor||"auto"===S.xanchor&&S.x>.3333333333333333&&S.x<.6666666666666666},J.isRightAnchor=function(S){return"right"===S.xanchor||"auto"===S.xanchor&&S.x>=.6666666666666666},J.isTopAnchor=function(S){return"top"===S.yanchor||"auto"===S.yanchor&&S.y>=.6666666666666666},J.isMiddleAnchor=function(S){return"middle"===S.yanchor||"auto"===S.yanchor&&S.y>.3333333333333333&&S.y<.6666666666666666},J.isBottomAnchor=function(S){return"bottom"===S.yanchor||"auto"===S.yanchor&&S.y<=.3333333333333333}},26348:function(oe,J,t){"use strict";var S=t(64872),k=S.mod,l=S.modHalf,R=Math.PI,I=2*R;function r(A){return Math.abs(A[1]-A[0])>I-1e-14}function n(A,m){return l(m-A,I)}function o(A,m){if(r(m))return!0;var u,g;m[0]<m[1]?(u=m[0],g=m[1]):(u=m[1],g=m[0]),(u=k(u,I))>(g=k(g,I))&&(g+=I);var C=k(A,I),T=C+I;return C>=u&&C<=g||T>=u&&T<=g}function h(A,m,u,g,C,T,L){C=C||0,T=T||0;var E,M,i,D,y,x=r([u,g]);function B(V,H){return[V*Math.cos(H)+C,T-V*Math.sin(H)]}x?(E=0,M=R,i=I):u<g?(E=u,i=g):(E=g,i=u),A<m?(D=A,y=m):(D=m,y=A);var z,F=Math.abs(i-E)<=R?0:1;function _(V,H,U){return"A"+[V,V]+" "+[0,F,U]+" "+B(V,H)}return x?z=null===D?"M"+B(y,E)+_(y,M,0)+_(y,i,0)+"Z":"M"+B(D,E)+_(D,M,0)+_(D,i,0)+"ZM"+B(y,E)+_(y,M,1)+_(y,i,1)+"Z":null===D?(z="M"+B(y,E)+_(y,i,0),L&&(z+="L0,0Z")):z="M"+B(D,E)+"L"+B(y,E)+_(y,i,0)+"L"+B(D,i)+_(D,E,1)+"Z",z}oe.exports={deg2rad:function v(A){return A/180*R},rad2deg:function w(A){return A/R*180},angleDelta:n,angleDist:function c(A,m){return Math.abs(n(A,m))},isFullCircle:r,isAngleInsideSector:o,isPtInsideSector:function f(A,m,u,g){return!!o(m,g)&&(u[0]<u[1]?(C=u[0],T=u[1]):(C=u[1],T=u[0]),A>=C&&A<=T);var C,T},pathArc:function d(A,m,u,g,C){return h(null,A,m,u,g,C,0)},pathSector:function b(A,m,u,g,C){return h(null,A,m,u,g,C,1)},pathAnnulus:function p(A,m,u,g,C,T){return h(A,m,u,g,C,T,1)}}},73627:function(oe,J){"use strict";var t=Array.isArray,S=ArrayBuffer,k=DataView;function l(w){return S.isView(w)&&!(w instanceof k)}function R(w){return t(w)||l(w)}function v(w,r,n){if(R(w)){if(R(w[0])){for(var c=n,o=0;o<w.length;o++)c=r(c,w[o].length);return c}return w.length}return 0}J.isTypedArray=l,J.isArrayOrTypedArray=R,J.isArray1D=function I(w){return!R(w[0])},J.ensureArray=function(w,r){return t(w)||(w=[]),w.length=r,w},J.concat=function(){var c,o,f,h,d,b,p,A,w=[],r=!0,n=0;for(f=0;f<arguments.length;f++)(b=(h=arguments[f]).length)&&(o?w.push(h):(o=h,d=b),t(h)?c=!1:(r=!1,n?c!==h.constructor&&(c=!1):c=h.constructor),n+=b);if(!n)return[];if(!w.length)return o;if(r)return o.concat.apply(o,w);if(c){for((p=new c(n)).set(o),f=0;f<w.length;f++)p.set(h=w[f],d),d+=h.length;return p}for(p=new Array(n),A=0;A<o.length;A++)p[A]=o[A];for(f=0;f<w.length;f++){for(h=w[f],A=0;A<h.length;A++)p[d+A]=h[A];d+=A}return p},J.maxRowLength=function(w){return v(w,Math.max,0)},J.minRowLength=function(w){return v(w,Math.min,1/0)}},95218:function(oe,J,t){"use strict";var S=t(92770),k=t(50606).BADNUM,l=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;oe.exports=function(I){return"string"==typeof I&&(I=I.replace(l,"")),S(I)?Number(I):k}},33306:function(oe){"use strict";oe.exports=function(t){var S=t._fullLayout;S._glcanvas&&S._glcanvas.size()&&S._glcanvas.each(function(k){k.regl&&k.regl.clear({color:!0,depth:!0})})}},86367:function(oe){"use strict";oe.exports=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)}},96554:function(oe,J,t){"use strict";var S=t(92770),k=t(84267),l=t(9012),R=t(63282),I=t(7901),v=t(37822).DESELECTDIM,w=t(65487),r=t(30587).counter,n=t(64872).modHalf,c=t(73627).isArrayOrTypedArray;function o(f,h){var d=J.valObjectMeta[h.valType];if(h.arrayOk&&c(f))return!0;if(d.validateFunction)return d.validateFunction(f,h);var b={},p=b;return d.coerceFunction(f,{set:function(m){p=m}},b,h),p!==b}J.valObjectMeta={data_array:{coerceFunction:function(f,h,d){c(f)?h.set(f):void 0!==d&&h.set(d)}},enumerated:{coerceFunction:function(f,h,d,b){b.coerceNumber&&(f=+f),-1===b.values.indexOf(f)?h.set(d):h.set(f)},validateFunction:function(f,h){h.coerceNumber&&(f=+f);for(var d=h.values,b=0;b<d.length;b++){var p=String(d[b]);if("/"===p.charAt(0)&&"/"===p.charAt(p.length-1)){if(new RegExp(p.substr(1,p.length-2)).test(f))return!0}else if(f===d[b])return!0}return!1}},boolean:{coerceFunction:function(f,h,d){h.set(!0===f||!1===f?f:d)}},number:{coerceFunction:function(f,h,d,b){!S(f)||void 0!==b.min&&f<b.min||void 0!==b.max&&f>b.max?h.set(d):h.set(+f)}},integer:{coerceFunction:function(f,h,d,b){f%1||!S(f)||void 0!==b.min&&f<b.min||void 0!==b.max&&f>b.max?h.set(d):h.set(+f)}},string:{coerceFunction:function(f,h,d,b){h.set("string"!=typeof f?!0!==b.strict&&"number"==typeof f?String(f):d:b.noBlank&&!f?d:f)}},color:{coerceFunction:function(f,h,d){k(f).isValid()?h.set(f):h.set(d)}},colorlist:{coerceFunction:function(f,h,d){Array.isArray(f)&&f.length&&f.every(function b(p){return k(p).isValid()})?h.set(f):h.set(d)}},colorscale:{coerceFunction:function(f,h,d){h.set(R.get(f,d))}},angle:{coerceFunction:function(f,h,d){"auto"===f?h.set("auto"):S(f)?h.set(n(+f,360)):h.set(d)}},subplotid:{coerceFunction:function(f,h,d,b){var p=b.regex||r(d);"string"==typeof f&&p.test(f)?h.set(f):h.set(d)},validateFunction:function(f,h){var d=h.dflt;return f===d||"string"==typeof f&&!!r(d).test(f)}},flaglist:{coerceFunction:function(f,h,d,b){if(-1===(b.extras||[]).indexOf(f))if("string"==typeof f){for(var p=f.split("+"),A=0;A<p.length;){var m=p[A];-1===b.flags.indexOf(m)||p.indexOf(m)<A?p.splice(A,1):A++}h.set(p.length?p.join("+"):d)}else h.set(d);else h.set(f)}},any:{coerceFunction:function(f,h,d){h.set(void 0===f?d:f)}},info_array:{coerceFunction:function(f,h,d,b){function p(B,F,_){var z;return void 0===_&&(_=F.dflt),J.valObjectMeta[F.valType].coerceFunction(B,{set:function(H){z=H}},_,F),z}var A=2===b.dimensions||"1-2"===b.dimensions&&Array.isArray(f)&&Array.isArray(f[0]);if(Array.isArray(f)){var x,E,M,D,y,m=b.items,u=[],g=Array.isArray(m),C=g&&A&&Array.isArray(m[0]),T=A&&g&&!C,L=g&&!T?m.length:f.length;if(d=Array.isArray(d)?d:[],A)for(x=0;x<L;x++)for(u[x]=[],M=Array.isArray(f[x])?f[x]:[],D=T?m.length:g?m[x].length:M.length,E=0;E<D;E++)void 0!==(y=p(M[E],T?m[E]:g?m[x][E]:m,(d[x]||[])[E]))&&(u[x][E]=y);else for(x=0;x<L;x++)void 0!==(y=p(f[x],g?m[x]:m,d[x]))&&(u[x]=y);h.set(u)}else h.set(d)},validateFunction:function(f,h){if(!Array.isArray(f))return!1;var d=h.items,b=Array.isArray(d),p=2===h.dimensions;if(!h.freeLength&&f.length!==d.length)return!1;for(var A=0;A<f.length;A++)if(p){if(!Array.isArray(f[A])||!h.freeLength&&f[A].length!==d[A].length)return!1;for(var m=0;m<f[A].length;m++)if(!o(f[A][m],b?d[A][m]:d))return!1}else if(!o(f[A],b?d[A]:d))return!1;return!0}}},J.coerce=function(f,h,d,b,p){var A=w(d,b).get(),m=w(f,b),u=w(h,b),g=m.get(),C=h._template;if(void 0===g&&C&&(g=w(C,b).get(),C=0),void 0===p&&(p=A.dflt),A.arrayOk&&c(g))return u.set(g),g;var T=J.valObjectMeta[A.valType].coerceFunction;T(g,u,p,A);var L=u.get();return C&&L===p&&!o(g,A)&&(T(g=w(C,b).get(),u,p,A),L=u.get()),L},J.coerce2=function(f,h,d,b,p){var A=w(f,b),m=J.coerce(f,h,d,b,p);return null!=A.get()&&m},J.coerceFont=function(f,h,d){var b={};return b.family=f(h+".family",(d=d||{}).family),b.size=f(h+".size",d.size),b.color=f(h+".color",d.color),b},J.coercePattern=function(f,h,d,b){if(f(h+".shape")){f(h+".solidity"),f(h+".size");var m="overlay"===f(h+".fillmode");if(!b){var u=f(h+".bgcolor",m?d:void 0);f(h+".fgcolor",m?I.contrast(u):d)}f(h+".fgopacity",m?.5:1)}},J.coerceHoverinfo=function(f,h,d){var m,b=h._module.attributes,p=b.hoverinfo?b:l,A=p.hoverinfo;if(1===d._dataLength){var u="all"===A.dflt?A.flags.slice():A.dflt.split("+");u.splice(u.indexOf("name"),1),m=u.join("+")}return J.coerce(f,h,p,"hoverinfo",m)},J.coerceSelectionMarkerOpacity=function(f,h){if(f.marker){var b,p,d=f.marker.opacity;void 0!==d&&(!c(d)&&!f.selected&&!f.unselected&&(b=d,p=v*d),h("selected.marker.opacity",b),h("unselected.marker.opacity",p))}},J.validate=o},41631:function(oe,J,t){"use strict";var u,g,S=t(84096).i$,k=t(92770),l=t(47769),R=t(64872).mod,I=t(50606),v=I.BADNUM,w=I.ONEDAY,r=I.ONEHOUR,n=I.ONEMIN,c=I.ONESEC,o=I.EPOCHJD,f=t(73972),h=t(84096).g0,d=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,p=(new Date).getFullYear()-70;function A(z){return z&&f.componentsRegistry.calendars&&"string"==typeof z&&"gregorian"!==z}function C(z,V){return String(z+Math.pow(10,V)).substr(1)}J.dateTick0=function(z,V){var H=function m(z,V){return A(z)?V?f.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:f.getComponentMethod("calendars","CANONICAL_TICK")[z]:V?"2000-01-02":"2000-01-01"}(z,!!V);if(V<2)return H;var U=J.dateTime2ms(H,z);return J.ms2DateTime(U+=w*(V-1),0,z)},J.dfltRange=function(z){return A(z)?f.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},J.isJSDate=function(z){return"object"==typeof z&&null!==z&&"function"==typeof z.getTime},J.dateTime2ms=function(z,V){if(J.isJSDate(z)){var H=z.getTimezoneOffset()*n,U=(z.getUTCMinutes()-z.getMinutes())*n+(z.getUTCSeconds()-z.getSeconds())*c+(z.getUTCMilliseconds()-z.getMilliseconds());if(U){var G=3*n;H=H-G/2+R(U-H+G/2,G)}return(z=Number(z)-H)>=u&&z<=g?z:v}if("string"!=typeof z&&"number"!=typeof z)return v;z=String(z);var Y=A(V),ee=z.charAt(0);Y&&("G"===ee||"g"===ee)&&(z=z.substr(1),V="");var ue=Y&&"chinese"===V.substr(0,7),ce=z.match(ue?b:d);if(!ce)return v;var pe=ce[1],te=ce[3]||"1",Q=Number(ce[5]||1),K=Number(ce[7]||0),Z=Number(ce[9]||0),q=Number(ce[11]||0);if(Y){if(2===pe.length)return v;var fe;pe=Number(pe);try{var re=f.getComponentMethod("calendars","getCal")(V);if(ue){var $="i"===te.charAt(te.length-1);te=parseInt(te,10),fe=re.newDate(pe,re.toMonthIndex(pe,te,$),Q)}else fe=re.newDate(pe,Number(te),Q)}catch{return v}return fe?(fe.toJD()-o)*w+K*r+Z*n+q*c:v}pe=2===pe.length?(Number(pe)+2e3-p)%100+p:Number(pe),te-=1;var le=new Date(Date.UTC(2e3,te,Q,K,Z));return le.setUTCFullYear(pe),le.getUTCMonth()!==te||le.getUTCDate()!==Q?v:le.getTime()+q*c},u=J.MIN_MS=J.dateTime2ms("-9999"),g=J.MAX_MS=J.dateTime2ms("9999-12-31 23:59:59.9999"),J.isDateTime=function(z,V){return J.dateTime2ms(z,V)!==v};var T=90*w,L=3*r,x=5*n;function E(z,V,H,U,G){if((V||H||U||G)&&(z+=" "+C(V,2)+":"+C(H,2),(U||G)&&(z+=":"+C(U,2),G))){for(var Y=4;G%10==0;)Y-=1,G/=10;z+="."+C(G,Y)}return z}J.ms2DateTime=function(z,V,H){if("number"!=typeof z||!(z>=u&&z<=g))return v;V||(V=0);var Y,ee,ue,ce,pe,te,U=Math.floor(10*R(z+.05,1)),G=Math.round(z-U/10);if(A(H)){var Q=Math.floor(G/w)+o,K=Math.floor(R(z,w));try{Y=f.getComponentMethod("calendars","getCal")(H).fromJD(Q).formatDate("yyyy-mm-dd")}catch{Y=h("G%Y-%m-%d")(new Date(G))}if("-"===Y.charAt(0))for(;Y.length<11;)Y="-0"+Y.substr(1);else for(;Y.length<10;)Y="0"+Y;ee=V<T?Math.floor(K/r):0,ue=V<T?Math.floor(K%r/n):0,ce=V<L?Math.floor(K%n/c):0,pe=V<x?K%c*10+U:0}else te=new Date(G),Y=h("%Y-%m-%d")(te),ee=V<T?te.getUTCHours():0,ue=V<T?te.getUTCMinutes():0,ce=V<L?te.getUTCSeconds():0,pe=V<x?10*te.getUTCMilliseconds()+U:0;return E(Y,ee,ue,ce,pe)},J.ms2DateTimeLocal=function(z){if(!(z>=u+w&&z<=g-w))return v;var V=Math.floor(10*R(z+.05,1)),H=new Date(Math.round(z-V/10));return E(S("%Y-%m-%d")(H),H.getHours(),H.getMinutes(),H.getSeconds(),10*H.getUTCMilliseconds()+V)},J.cleanDate=function(z,V,H){if(z===v)return V;if(J.isJSDate(z)||"number"==typeof z&&isFinite(z)){if(A(H))return l.error("JS Dates and milliseconds are incompatible with world calendars",z),V;if(!(z=J.ms2DateTimeLocal(+z))&&void 0!==V)return V}else if(!J.isDateTime(z,H))return l.error("unrecognized date",z),V;return z};var M=/%\d?f/g,i=/%h/g,D={1:"1",2:"1",3:"2",4:"2"};function y(z,V,H,U){z=z.replace(M,function(Y){var ee=Math.min(+Y.charAt(1)||6,6);return(V/1e3%1+2).toFixed(ee).substr(2).replace(/0+$/,"")||"0"});var G=new Date(Math.floor(V+.05));if(z=z.replace(i,function(){return D[H("%q")(G)]}),A(U))try{z=f.getComponentMethod("calendars","worldCalFmt")(z,V,U)}catch{return"Invalid"}return H(z)(G)}var B=[59,59.9,59.99,59.999,59.9999];J.formatDate=function(z,V,H,U,G,Y){if(G=A(G)&&G,!V)if("y"===H)V=Y.year;else if("m"===H)V=Y.month;else{if("d"!==H)return function F(z,V){var H=R(z+.05,w),U=C(Math.floor(H/r),2)+":"+C(R(Math.floor(H/n),60),2);if("M"!==V){k(V)||(V=0);var Y=(100+Math.min(R(z/c,60),B[V])).toFixed(V).substr(1);V>0&&(Y=Y.replace(/0+$/,"").replace(/[\.]$/,"")),U+=":"+Y}return U}(z,H)+"\n"+y(Y.dayMonthYear,z,U,G);V=Y.dayMonth+"\n"+Y.year}return y(V,z,U,G)};var _=3*w;J.incrementMonth=function(z,V,H){H=A(H)&&H;var U=R(z,w);if(z=Math.round(z-U),H)try{var G=Math.round(z/w)+o,Y=f.getComponentMethod("calendars","getCal")(H),ee=Y.fromJD(G);return V%12?Y.add(ee,V,"m"):Y.add(ee,V/12,"y"),(ee.toJD()-o)*w+U}catch{l.error("invalid ms "+z+" in calendar "+H)}var ue=new Date(z+_);return ue.setUTCMonth(ue.getUTCMonth()+V)+U-_},J.findExactDates=function(z,V){for(var ee,ue,H=0,U=0,G=0,Y=0,ce=A(V)&&f.getComponentMethod("calendars","getCal")(V),pe=0;pe<z.length;pe++)if(k(ue=z[pe])){if(!(ue%w))if(ce)try{1===(ee=ce.fromJD(ue/w+o)).day()?1===ee.month()?H++:U++:G++}catch{}else 1===(ee=new Date(ue)).getUTCDate()?0===ee.getUTCMonth()?H++:U++:G++}else Y++;var te=z.length-Y;return{exactYears:H/te,exactMonths:(U+=H)/te,exactDays:(G+=U)/te}}},24401:function(oe,J,t){"use strict";var S=t(39898),k=t(47769),l=t(35657),R=t(79576);function w(p){var A=p&&p.parentNode;A&&A.removeChild(p)}function n(p,A,m){var u="plotly.js-style-"+p,g=document.getElementById(u);g||((g=document.createElement("style")).setAttribute("id",u),g.appendChild(document.createTextNode("")),document.head.appendChild(g));var C=g.sheet;C.insertRule?C.insertRule(A+"{"+m+"}",0):C.addRule?C.addRule(A,m,0):k.warn("addStyleRule failed")}function f(p){var A=window.getComputedStyle(p,null),m=A.getPropertyValue("-webkit-transform")||A.getPropertyValue("-moz-transform")||A.getPropertyValue("-ms-transform")||A.getPropertyValue("-o-transform")||A.getPropertyValue("transform");return"none"===m?null:m.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(u){return+u})}function h(p){for(var A=[];d(p);)A.push(p),p=p.parentNode;return A}function d(p){return p&&(p instanceof Element||p instanceof HTMLElement)}oe.exports={getGraphDiv:function I(p){var A;if("string"==typeof p){if(null===(A=document.getElementById(p)))throw new Error("No DOM element with id '"+p+"' exists on the page.");return A}if(null==p)throw new Error("DOM element provided is null or undefined");return p},isPlotDiv:function v(p){var A=S.select(p);return A.node()instanceof HTMLElement&&A.size()&&A.classed("js-plotly-plot")},removeElement:w,addStyleRule:function r(p,A){n("global",p,A)},addRelatedStyleRule:n,deleteRelatedStyleRule:function c(p){var m=document.getElementById("plotly.js-style-"+p);m&&w(m)},getFullTransformMatrix:function o(p){var A=h(p),m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return A.forEach(function(u){var g=f(u);if(g){var C=l.convertCssMatrix(g);m=R.multiply(m,m,C)}}),m},getElementTransformMatrix:f,getElementAndAncestors:h,equalDomRects:function b(p,A){return p&&A&&p.top===A.top&&p.left===A.left&&p.right===A.right&&p.bottom===A.bottom}}},11086:function(oe,J,t){"use strict";var S=t(15398).EventEmitter;oe.exports={init:function(l){if(l._ev instanceof S)return l;var R=new S,I=new S;return l._ev=R,l._internalEv=I,l.on=R.on.bind(R),l.once=R.once.bind(R),l.removeListener=R.removeListener.bind(R),l.removeAllListeners=R.removeAllListeners.bind(R),l._internalOn=I.on.bind(I),l._internalOnce=I.once.bind(I),l._removeInternalListener=I.removeListener.bind(I),l._removeAllInternalListeners=I.removeAllListeners.bind(I),l.emit=function(v,w){typeof jQuery<"u"&&jQuery(l).trigger(v,w),R.emit(v,w),I.emit(v,w)},l},triggerHandler:function(l,R,I){var v,w;typeof jQuery<"u"&&(v=jQuery(l).triggerHandler(R,I));var r=l._ev;if(!r)return v;var o,n=r._events[R];if(!n)return v;function c(f){return f.listener?(r.removeListener(R,f.listener),f.fired?void 0:(f.fired=!0,f.listener.apply(r,[I]))):f.apply(r,[I])}for(n=Array.isArray(n)?n:[n],o=0;o<n.length-1;o++)c(n[o]);return w=c(n[o]),void 0!==v?v:w},purge:function(l){return delete l._ev,delete l.on,delete l.once,delete l.removeListener,delete l.removeAllListeners,delete l.emit,delete l._ev,delete l._internalEv,delete l._internalOn,delete l._internalOnce,delete l._removeInternalListener,delete l._removeAllInternalListeners,l}}},1426:function(oe,J,t){"use strict";var S=t(41965),k=Array.isArray;function R(I,v,w,r){var o,f,h,d,b,p,n=I[0],c=I.length;if(2===c&&k(n)&&k(I[1])&&0===n.length){if(function l(I,v){var w,r;for(w=0;w<I.length;w++){if(null!==(r=I[w])&&"object"==typeof r)return!1;void 0!==r&&(v[w]=r)}return!0}(I[1],n))return n;n.splice(0,n.length)}for(var m=1;m<c;m++)for(f in o=I[m])h=n[f],d=o[f],r&&k(d)?n[f]=d:v&&d&&(S(d)||(b=k(d)))?(b?(b=!1,p=h&&k(h)?h:[]):p=h&&S(h)?h:{},n[f]=R([p,d],v,w,r)):(typeof d<"u"||w)&&(n[f]=d);return n}J.extendFlat=function(){return R(arguments,!1,!1,!1)},J.extendDeep=function(){return R(arguments,!0,!1,!1)},J.extendDeepAll=function(){return R(arguments,!0,!0,!1)},J.extendDeepNoArrays=function(){return R(arguments,!0,!1,!0)}},75744:function(oe){"use strict";oe.exports=function(t){for(var S={},k=[],l=0,R=0;R<t.length;R++){var I=t[R];1!==S[I]&&(S[I]=1,k[l++]=I)}return k}},76756:function(oe){"use strict";function J(k){return!0===k.visible}function t(k){var l=k[0].trace;return!0===l.visible&&0!==l._length}oe.exports=function(l){for(var R=function S(k){return Array.isArray(k)&&Array.isArray(k[0])&&k[0][0]&&k[0][0].trace}(l)?t:J,I=[],v=0;v<l.length;v++){var w=l[v];R(w)&&I.push(w)}return I}},41327:function(oe,J,t){"use strict";var S=t(39898),k=t(24138),l=t(30774),R=t(29261),I=t(85268),v=t(23389),w=t(47769),r=t(41965),n=t(65487),c=t(61082),o=Object.keys(k),f={"ISO-3":v,"USA-states":v,"country names":function h(C){for(var T=0;T<o.length;T++){var L=o[T];if(new RegExp(k[L]).test(C.trim().toLowerCase()))return L}return w.log("Unrecognized country name: "+C+"."),!1}};function p(C){var T=C.geojson,L=window.PlotlyGeoAssets||{},x="string"==typeof T?L[T]:T;return r(x)?x:(w.error("Oops ... something went wrong when fetching "+T),!1)}oe.exports={locationToFeature:function d(C,T,L){if(!T||"string"!=typeof T)return!1;var E,M,i,x=f[C](T);if(x){if("USA-states"===C)for(E=[],i=0;i<L.length;i++)(M=L[i]).properties&&M.properties.gu&&"USA"===M.properties.gu&&E.push(M);else E=L;for(i=0;i<E.length;i++)if((M=E[i]).id===x)return M;w.log(["Location with id",x,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function b(C){var M,i,D,y,T=C.geometry,L=T.coordinates,x=C.id,E=[];function B(F){for(var _=0;_<F.length-1;_++)if(F[_][0]>0&&F[_+1][0]<0)return _;return null}switch(M="RUS"===x||"FJI"===x?function(F){var _;if(null===B(F))_=F;else for(_=new Array(F.length),y=0;y<F.length;y++)_[y]=[F[y][0]<0?F[y][0]+360:F[y][0],F[y][1]];E.push(c.tester(_))}:"ATA"===x?function(F){var _=B(F);if(null===_)return E.push(c.tester(F));var z=new Array(F.length+1),V=0;for(y=0;y<F.length;y++)y>_?z[V++]=[F[y][0]+360,F[y][1]]:y===_?(z[V++]=F[y],z[V++]=[F[y][0],-90]):z[V++]=F[y];var H=c.tester(z);H.pts.pop(),E.push(H)}:function(F){E.push(c.tester(F))},T.type){case"MultiPolygon":for(i=0;i<L.length;i++)for(D=0;D<L[i].length;D++)M(L[i][D]);break;case"Polygon":for(i=0;i<L.length;i++)M(L[i])}return E},getTraceGeojson:p,extractTraceFeature:function A(C){var T=C[0].trace,L=p(T);if(!L)return!1;var M,x={},E=[];for(M=0;M<T._length;M++){var i=C[M];(i.loc||0===i.loc)&&(x[i.loc]=i)}function D(F){var _=n(F,T.featureidkey||"id").get(),z=x[_];if(z){var V=F.geometry;if("Polygon"===V.type||"MultiPolygon"===V.type){var H={type:"Feature",id:_,geometry:V,properties:{}};H.properties.ct=function m(C){var L,T=C.geometry;if("MultiPolygon"===T.type)for(var x=T.coordinates,E=0,M=0;M<x.length;M++){var i={type:"Polygon",coordinates:x[M]},D=l.default(i);D>E&&(E=D,L=i)}else L=T;return R.default(L).geometry.coordinates}(H),z.fIn=F,z.fOut=H,E.push(H)}else w.log(["Location",z.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete x[_]}switch(L.type){case"FeatureCollection":var y=L.features;for(M=0;M<y.length;M++)D(y[M]);break;case"Feature":D(L);break;default:return w.warn(["Invalid GeoJSON type",(L.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var B in x)w.log(["Location *"+B+"*","does not have a matching feature with id-key","*"+T.featureidkey+"*."].join(" "));return E},fetchTraceGeoData:function u(C){var T=window.PlotlyGeoAssets||{},L=[];function x(y){return new Promise(function(B,F){S.json(y,function(_,z){return _?(delete T[y],F(new Error(404===_.status?'GeoJSON at URL "'+y+'" does not exist.':"Unexpected error while fetching from "+y))):(T[y]=z,B(z))})})}function E(y){return new Promise(function(B,F){var _=0,z=setInterval(function(){return T[y]&&"pending"!==T[y]?(clearInterval(z),B(T[y])):_>100?(clearInterval(z),F("Unexpected error while fetching from "+y)):void _++},50)})}for(var M=0;M<C.length;M++){var D=C[M][0].trace.geojson;"string"==typeof D&&(T[D]?"pending"===T[D]&&L.push(E(D)):(T[D]="pending",L.push(x(D))))}return L},computeBbox:function g(C){return I.default(C)}}},18214:function(oe,J,t){"use strict";var S=t(50606).BADNUM;J.calcTraceToLineCoords=function(k){for(var R=k[0].trace.connectgaps,I=[],v=[],w=0;w<k.length;w++){var n=k[w].lonlat;n[0]!==S?v.push(n):!R&&v.length>0&&(I.push(v),v=[])}return v.length>0&&I.push(v),I},J.makeLine=function(k){return 1===k.length?{type:"LineString",coordinates:k[0]}:{type:"MultiLineString",coordinates:k}},J.makePolygon=function(k){if(1===k.length)return{type:"Polygon",coordinates:k};for(var l=new Array(k.length),R=0;R<k.length;R++)l[R]=[k[R]];return{type:"MultiPolygon",coordinates:l}},J.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(oe,J,t){"use strict";var R,I,v,S=t(64872).mod;function k(w,r,n,c,o,f,h,d){var b=n-w,p=o-w,A=h-o,m=c-r,u=f-r,g=d-f,C=b*g-A*m;if(0===C)return null;var T=(p*g-A*u)/C,L=(p*m-b*u)/C;return L<0||L>1||T<0||T>1?null:{x:w+b*T,y:r+m*T}}function l(w,r,n,c,o){var f=c*w+o*r;if(f<0)return c*c+o*o;if(f>n){var h=c-w,d=o-r;return h*h+d*d}var b=c*r-o*w;return b*b/n}J.segmentsIntersect=k,J.segmentDistance=function(r,n,c,o,f,h,d,b){if(k(r,n,c,o,f,h,d,b))return 0;var p=c-r,A=o-n,m=d-f,u=b-h,g=p*p+A*A,C=m*m+u*u,T=Math.min(l(p,A,g,f-r,h-n),l(p,A,g,d-r,b-n),l(m,u,C,r-f,n-h),l(m,u,C,c-f,o-h));return Math.sqrt(T)},J.getTextLocation=function(r,n,c,o){if((r!==I||o!==v)&&(R={},I=r,v=o),R[c])return R[c];var f=r.getPointAtLength(S(c-o/2,n)),h=r.getPointAtLength(S(c+o/2,n)),d=Math.atan((h.y-f.y)/(h.x-f.x)),b=r.getPointAtLength(S(c,n)),m={x:(4*b.x+f.x+h.x)/6,y:(4*b.y+f.y+h.y)/6,theta:d};return R[c]=m,m},J.clearLocationCache=function(){I=null},J.getVisibleSegment=function(r,n,c){var m,u,o=n.left,f=n.right,h=n.top,d=n.bottom,b=0,p=r.getTotalLength(),A=p;function g(T){var L=r.getPointAtLength(T);0===T?m=L:T===p&&(u=L);var x=L.x<o?o-L.x:L.x>f?L.x-f:0,E=L.y<h?h-L.y:L.y>d?L.y-d:0;return Math.sqrt(x*x+E*E)}for(var C=g(b);C;){if((b+=C+c)>A)return;C=g(b)}for(C=g(A);C;){if(b>(A-=C+c))return;C=g(A)}return{min:b,max:A,len:A-b,total:p,isClosed:0===b&&A===p&&Math.abs(m.x-u.x)<.1&&Math.abs(m.y-u.y)<.1}},J.findPointOnPath=function(r,n,c,o){for(var u,g,C,f=(o=o||{}).pathLength||r.getTotalLength(),h=o.tolerance||.001,d=o.iterationLimit||30,b=r.getPointAtLength(0)[c]>r.getPointAtLength(f)[c]?-1:1,p=0,A=0,m=f;p<d;){if(C=(g=r.getPointAtLength(u=(A+m)/2))[c]-n,Math.abs(C)<h)return g;b*C>0?m=u:A=u,p++}return g}},81697:function(oe,J,t){"use strict";var S=t(92770),k=t(84267),l=t(25075),R=t(21081),I=t(22399).defaultLine,v=t(73627).isArrayOrTypedArray,w=l(I),r=1;function n(d,b){var p=d;return p[3]*=b,p}function c(d){if(S(d))return w;var b=l(d);return b.length?b:w}function o(d){return S(d)?d:r}oe.exports={formatColor:function f(d,b,p){var T,L,x,E,M,A=d.color,m=v(A),u=v(b),g=R.extractOpts(d),C=[];if(T=void 0!==g.colorscale?R.makeColorScaleFuncFromTrace(d):c,L=m?function(D,y){return void 0===D[y]?w:l(T(D[y]))}:c,x=u?function(D,y){return void 0===D[y]?r:o(D[y])}:o,m||u)for(var i=0;i<p;i++)E=L(A,i),M=x(b,i),C[i]=n(E,M);else C=n(l(A),b);return C},parseColorScale:function h(d){var b=R.extractOpts(d),p=b.colorscale;return b.reversescale&&(p=R.flipScale(b.colorscale)),p.map(function(A){var m=A[0],g=k(A[1]).toRgb();return{index:m,rgb:[g.r,g.g,g.b,g.a]}})}}},28984:function(oe,J,t){"use strict";var S=t(23389);function k(l){return[l]}oe.exports={keyFun:function(l){return l.key},repeat:k,descend:S,wrap:k,unwrap:function(l){return l[0]}}},23389:function(oe){"use strict";oe.exports=function(t){return t}},39240:function(oe){"use strict";oe.exports=function(t,S){if(!S)return t;var k=1/Math.abs(S),l=k>1?(k*t+k*S)/k:t+S,R=String(l).length;if(R>16){var I=String(S).length;if(R>=String(t).length+I){var w=parseFloat(l).toPrecision(12);-1===w.indexOf("e+")&&(l=+w)}}return l}},71828:function(oe,J,t){"use strict";var S=t(39898),k=t(84096).g0,l=t(60721).WU,R=t(92770),I=t(50606),v=I.FP_SAFE,w=-v,r=I.BADNUM,n=oe.exports={};n.adjustFormat=function(fe){return!fe||/^\d[.]\df/.test(fe)||/[.]\d%/.test(fe)?fe:"0.f"===fe?"~f":/^\d%/.test(fe)?"~%":/^\ds/.test(fe)?"~s":!/^[~,.0$]/.test(fe)&&/[&fps]/.test(fe)?"~"+fe:fe};var c={};n.warnBadFormat=function(q){var fe=String(q);c[fe]||(c[fe]=1,n.warn('encountered bad format: "'+fe+'"'))},n.noFormat=function(q){return String(q)},n.numberFormat=function(q){var fe;try{fe=l(n.adjustFormat(q))}catch{return n.warnBadFormat(q),n.noFormat}return fe},n.nestedProperty=t(65487),n.keyedContainer=t(66636),n.relativeAttr=t(6962),n.isPlainObject=t(41965),n.toLogRange=t(58163),n.relinkPrivateKeys=t(51332);var o=t(73627);n.isTypedArray=o.isTypedArray,n.isArrayOrTypedArray=o.isArrayOrTypedArray,n.isArray1D=o.isArray1D,n.ensureArray=o.ensureArray,n.concat=o.concat,n.maxRowLength=o.maxRowLength,n.minRowLength=o.minRowLength;var f=t(64872);n.mod=f.mod,n.modHalf=f.modHalf;var h=t(96554);n.valObjectMeta=h.valObjectMeta,n.coerce=h.coerce,n.coerce2=h.coerce2,n.coerceFont=h.coerceFont,n.coercePattern=h.coercePattern,n.coerceHoverinfo=h.coerceHoverinfo,n.coerceSelectionMarkerOpacity=h.coerceSelectionMarkerOpacity,n.validate=h.validate;var d=t(41631);n.dateTime2ms=d.dateTime2ms,n.isDateTime=d.isDateTime,n.ms2DateTime=d.ms2DateTime,n.ms2DateTimeLocal=d.ms2DateTimeLocal,n.cleanDate=d.cleanDate,n.isJSDate=d.isJSDate,n.formatDate=d.formatDate,n.incrementMonth=d.incrementMonth,n.dateTick0=d.dateTick0,n.dfltRange=d.dfltRange,n.findExactDates=d.findExactDates,n.MIN_MS=d.MIN_MS,n.MAX_MS=d.MAX_MS;var b=t(65888);n.findBin=b.findBin,n.sorterAsc=b.sorterAsc,n.sorterDes=b.sorterDes,n.distinctVals=b.distinctVals,n.roundUp=b.roundUp,n.sort=b.sort,n.findIndexOfMin=b.findIndexOfMin,n.sortObjectKeys=t(78607);var p=t(80038);n.aggNums=p.aggNums,n.len=p.len,n.mean=p.mean,n.median=p.median,n.midRange=p.midRange,n.variance=p.variance,n.stdev=p.stdev,n.interp=p.interp;var A=t(35657);n.init2dArray=A.init2dArray,n.transposeRagged=A.transposeRagged,n.dot=A.dot,n.translationMatrix=A.translationMatrix,n.rotationMatrix=A.rotationMatrix,n.rotationXYMatrix=A.rotationXYMatrix,n.apply3DTransform=A.apply3DTransform,n.apply2DTransform=A.apply2DTransform,n.apply2DTransform2=A.apply2DTransform2,n.convertCssMatrix=A.convertCssMatrix,n.inverseTransformMatrix=A.inverseTransformMatrix;var m=t(26348);n.deg2rad=m.deg2rad,n.rad2deg=m.rad2deg,n.angleDelta=m.angleDelta,n.angleDist=m.angleDist,n.isFullCircle=m.isFullCircle,n.isAngleInsideSector=m.isAngleInsideSector,n.isPtInsideSector=m.isPtInsideSector,n.pathArc=m.pathArc,n.pathSector=m.pathSector,n.pathAnnulus=m.pathAnnulus;var u=t(99863);n.isLeftAnchor=u.isLeftAnchor,n.isCenterAnchor=u.isCenterAnchor,n.isRightAnchor=u.isRightAnchor,n.isTopAnchor=u.isTopAnchor,n.isMiddleAnchor=u.isMiddleAnchor,n.isBottomAnchor=u.isBottomAnchor;var g=t(87642);n.segmentsIntersect=g.segmentsIntersect,n.segmentDistance=g.segmentDistance,n.getTextLocation=g.getTextLocation,n.clearLocationCache=g.clearLocationCache,n.getVisibleSegment=g.getVisibleSegment,n.findPointOnPath=g.findPointOnPath;var C=t(1426);n.extendFlat=C.extendFlat,n.extendDeep=C.extendDeep,n.extendDeepAll=C.extendDeepAll,n.extendDeepNoArrays=C.extendDeepNoArrays;var T=t(47769);n.log=T.log,n.warn=T.warn,n.error=T.error;var L=t(30587);n.counterRegex=L.counter;var x=t(79990);n.throttle=x.throttle,n.throttleDone=x.done,n.clearThrottle=x.clear;var E=t(24401);function M(q){var fe={};for(var re in q)for(var $=q[re],le=0;le<$.length;le++)fe[$[le]]=+re;return fe}n.getGraphDiv=E.getGraphDiv,n.isPlotDiv=E.isPlotDiv,n.removeElement=E.removeElement,n.addStyleRule=E.addStyleRule,n.addRelatedStyleRule=E.addRelatedStyleRule,n.deleteRelatedStyleRule=E.deleteRelatedStyleRule,n.getFullTransformMatrix=E.getFullTransformMatrix,n.getElementTransformMatrix=E.getElementTransformMatrix,n.getElementAndAncestors=E.getElementAndAncestors,n.equalDomRects=E.equalDomRects,n.clearResponsive=t(86367),n.preserveDrawingBuffer=t(45142),n.makeTraceGroups=t(77310),n._=t(15867),n.notifier=t(75046),n.filterUnique=t(75744),n.filterVisible=t(76756),n.pushUnique=t(75138),n.increment=t(39240),n.cleanNumber=t(95218),n.ensureNumber=function(fe){return R(fe)?(fe=Number(fe))>v||fe<w?r:fe:r},n.isIndex=function(q,fe){return!(void 0!==fe&&q>=fe)&&R(q)&&q>=0&&q%1==0},n.noop=t(64213),n.identity=t(23389),n.repeat=function(q,fe){for(var re=new Array(fe),$=0;$<fe;$++)re[$]=q;return re},n.swapAttrs=function(q,fe,re,$){re||(re="x"),$||($="y");for(var le=0;le<fe.length;le++){var se=fe[le],de=n.nestedProperty(q,se.replace("?",re)),we=n.nestedProperty(q,se.replace("?",$)),Ee=de.get();de.set(we.get()),we.set(Ee)}},n.raiseToTop=function(fe){fe.parentNode.appendChild(fe)},n.cancelTransition=function(q){return q.transition().duration(0)},n.constrain=function(q,fe,re){return fe>re?Math.max(re,Math.min(fe,q)):Math.max(fe,Math.min(re,q))},n.bBoxIntersect=function(q,fe,re){return q.left<=fe.right+(re=re||0)&&fe.left<=q.right+re&&q.top<=fe.bottom+re&&fe.top<=q.bottom+re},n.simpleMap=function(q,fe,re,$,le){for(var se=q.length,de=new Array(se),we=0;we<se;we++)de[we]=fe(q[we],re,$,le);return de},n.randstr=function q(fe,re,$,le){if($||($=16),void 0===re&&(re=24),re<=0)return"0";var we,Ee,se=Math.log(Math.pow(2,re))/Math.log($),de="";for(we=2;se===1/0;we*=2)se=Math.log(Math.pow(2,re/we))/Math.log($)*we;var Ne=se-Math.floor(se);for(we=0;we<Math.floor(se);we++)de=Math.floor(Math.random()*$).toString($)+de;Ne&&(Ee=Math.pow($,Ne),de=Math.floor(Math.random()*Ee).toString($)+de);var Ve=parseInt(de,$);return fe&&fe[de]||Ve!==1/0&&Ve>=Math.pow(2,re)?le>10?(n.warn("randstr failed uniqueness"),de):q(fe,re,$,(le||0)+1):de},n.OptionControl=function(q,fe){q||(q={}),fe||(fe="opt");var re={optionList:[],_newoption:function($){$[fe]=q,re[$.name]=$,re.optionList.push($)}};return re["_"+fe]=q,re},n.smooth=function(q,fe){if((fe=Math.round(fe)||0)<2)return q;var we,Ee,Me,Ne,re=q.length,$=2*re,le=2*fe-1,se=new Array(le),de=new Array(re);for(we=0;we<le;we++)se[we]=(1-Math.cos(Math.PI*(we+1)/fe))/(2*fe);for(we=0;we<re;we++){for(Ne=0,Ee=0;Ee<le;Ee++)(Me=we+Ee+1-fe)<-re?Me-=$*Math.round(Me/$):Me>=$&&(Me-=$*Math.floor(Me/$)),Me<0?Me=-1-Me:Me>=re&&(Me=$-1-Me),Ne+=q[Me]*se[Ee];de[we]=Ne}return de},n.syncOrAsync=function(q,fe,re){var $;function se(){return n.syncOrAsync(q,fe,re)}for(;q.length;)if(($=(0,q.splice(0,1)[0])(fe))&&$.then)return $.then(se);return re&&re(fe)},n.stripTrailingSlash=function(q){return"/"===q.substr(-1)?q.substr(0,q.length-1):q},n.noneOrAll=function(q,fe,re){if(q){var se,$=!1,le=!0;for(se=0;se<re.length;se++)null!=q[re[se]]?$=!0:le=!1;if($&&!le)for(se=0;se<re.length;se++)q[re[se]]=fe[re[se]]}},n.mergeArray=function(q,fe,re,$){var le="function"==typeof $;if(n.isArrayOrTypedArray(q))for(var se=Math.min(q.length,fe.length),de=0;de<se;de++){var we=q[de];fe[de][re]=le?$(we):we}},n.mergeArrayCastPositive=function(q,fe,re){return n.mergeArray(q,fe,re,function($){var le=+$;return isFinite(le)&&le>0?le:0})},n.fillArray=function(q,fe,re,$){if($=$||n.identity,n.isArrayOrTypedArray(q))for(var le=0;le<fe.length;le++)fe[le][re]=$(q[le])},n.castOption=function(q,fe,re,$){$=$||n.identity;var le=n.nestedProperty(q,re).get();return n.isArrayOrTypedArray(le)?Array.isArray(fe)&&n.isArrayOrTypedArray(le[fe[0]])?$(le[fe[0]][fe[1]]):$(le[fe]):le},n.extractOption=function(q,fe,re,$){if(re in q)return q[re];var le=n.nestedProperty(fe,$).get();return Array.isArray(le)?void 0:le},n.tagSelected=function(q,fe,re){var se,Ve,$=fe.selectedpoints,le=fe._indexToPoints;le&&(se=M(le));for(var we=0;we<$.length;we++){var Ee=$[we];if(n.isIndex(Ee)||n.isArrayOrTypedArray(Ee)&&n.isIndex(Ee[0])&&n.isIndex(Ee[1])){var Me=se?se[Ee]:Ee,Ne=re?re[Me]:Me;void 0!==(Ve=Ne)&&Ve<q.length&&(q[Ne].selected=1)}}},n.selIndices2selPoints=function(q){var fe=q.selectedpoints,re=q._indexToPoints;if(re){for(var $=M(re),le=[],se=0;se<fe.length;se++){var de=fe[se];if(n.isIndex(de)){var we=$[de];n.isIndex(we)&&le.push(we)}}return le}return fe},n.getTargetArray=function(q,fe){var re=fe.target;if("string"==typeof re&&re){var $=n.nestedProperty(q,re).get();return!!Array.isArray($)&&$}return!!Array.isArray(re)&&re},n.minExtend=function i(q,fe,re){var $={};"object"!=typeof fe&&(fe={});var de,we,Ee,le="pieLike"===re?-1:3,se=Object.keys(q);for(de=0;de<se.length;de++)Ee=q[we=se[de]],"_"!==we.charAt(0)&&"function"!=typeof Ee&&($[we]="module"===we?Ee:Array.isArray(Ee)?"colorscale"===we||-1===le?Ee.slice():Ee.slice(0,le):n.isTypedArray(Ee)?-1===le?Ee.subarray():Ee.subarray(0,le):Ee&&"object"==typeof Ee?i(q[we],fe[we],re):Ee);for(se=Object.keys(fe),de=0;de<se.length;de++)("object"!=typeof(Ee=fe[we=se[de]])||!(we in $)||"object"!=typeof $[we])&&($[we]=Ee);return $},n.titleCase=function(q){return q.charAt(0).toUpperCase()+q.substr(1)},n.containsAny=function(q,fe){for(var re=0;re<fe.length;re++)if(-1!==q.indexOf(fe[re]))return!0;return!1},n.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var D=/Version\/[\d\.]+.*Safari/;n.isSafari=function(){return D.test(window.navigator.userAgent)};var y=/iPad|iPhone|iPod/;n.isIOS=function(){return y.test(window.navigator.userAgent)};var B=/Firefox\/(\d+)\.\d+/;n.getFirefoxVersion=function(){var q=B.exec(window.navigator.userAgent);if(q&&2===q.length){var fe=parseInt(q[1]);if(!isNaN(fe))return fe}return null},n.isD3Selection=function(q){return q instanceof S.selection},n.ensureSingle=function(q,fe,re,$){var le=q.select(fe+(re?"."+re:""));if(le.size())return le;var se=q.append(fe);return re&&se.classed(re,!0),$&&se.call($),se},n.ensureSingleById=function(q,fe,re,$){var le=q.select(fe+"#"+re);if(le.size())return le;var se=q.append(fe).attr("id",re);return $&&se.call($),se},n.objectFromPath=function(q,fe){for(var $,re=q.split("."),le=$={},se=0;se<re.length;se++){var de=re[se],we=null,Ee=re[se].match(/(.*)\[([0-9]+)\]/);Ee?(we=Ee[2],($=$[de=Ee[1]]=[])[we]=se===re.length-1?fe:{},$=$[we]):($[de]=se===re.length-1?fe:{},$=$[de])}return le};var F=/^([^\[\.]+)\.(.+)?/,_=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function z(q){return"__"===q.slice(0,2)}n.expandObjectPaths=function(q){var fe,re,$,le,se,de,we;if("object"==typeof q&&!Array.isArray(q))for(re in q)if(q.hasOwnProperty(re))if(fe=re.match(F)){if(le=q[re],z($=fe[1]))continue;delete q[re],q[$]=n.extendDeepNoArrays(q[$]||{},n.objectFromPath(re,n.expandObjectPaths(le))[$])}else if(fe=re.match(_)){if(le=q[re],z($=fe[1]))continue;if(se=parseInt(fe[2]),delete q[re],q[$]=q[$]||[],"."===fe[3])we=fe[4],de=q[$][se]=q[$][se]||{},n.extendDeepNoArrays(de,n.objectFromPath(we,n.expandObjectPaths(le)));else{if(z($))continue;q[$][se]=n.expandObjectPaths(le)}}else{if(z(re))continue;q[re]=n.expandObjectPaths(q[re])}return q},n.numSeparate=function(q,fe,re){if(re||(re=!1),"string"!=typeof fe||0===fe.length)throw new Error("Separator string required for formatting!");"number"==typeof q&&(q=String(q));var $=/(\d+)(\d{3})/,le=fe.charAt(0),se=fe.charAt(1),de=q.split("."),we=de[0],Ee=de.length>1?le+de[1]:"";if(se&&(de.length>1||we.length>4||re))for(;$.test(we);)we=we.replace($,"$1"+se+"$2");return we+Ee},n.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var V=/^\w*$/;n.templateString=function(q,fe){var re={};return q.replace(n.TEMPLATE_STRING_REGEX,function($,le){var se;return V.test(le)?se=fe[le]:(re[le]=re[le]||n.nestedProperty(fe,le).get,se=re[le]()),n.isValidTextValue(se)?se:""})};var H={max:10,count:0,name:"hovertemplate"};n.hovertemplateString=function(){return ce.apply(H,arguments)};var U={max:10,count:0,name:"texttemplate"};n.texttemplateString=function(){return ce.apply(U,arguments)};var G=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;var ee={max:10,count:0,name:"texttemplate",parseMultDiv:!0};n.texttemplateStringForShapes=function(){return ce.apply(ee,arguments)};var ue=/^[:|\|]/;function ce(q,fe,re){var $=this,le=arguments;fe||(fe={});var se={};return q.replace(n.TEMPLATE_STRING_REGEX,function(de,we,Ee){var Ne="_xother"===we||"_yother"===we,Ve="_xother_"===we||"_yother_"===we,Pe="xother_"===we||"yother_"===we,Ce="xother"===we||"yother"===we||Ne||Pe||Ve,Ie=we;(Ne||Ve)&&(Ie=Ie.substring(1)),(Pe||Ve)&&(Ie=Ie.substring(0,Ie.length-1));var Ke,ut,ot,Je=null,Qe=null;if($.parseMultDiv){var ze=function Y(q){var fe=q.match(G);return fe?{key:fe[1],op:fe[2],number:Number(fe[3])}:{key:q,op:null,number:null}}(Ie);Ie=ze.key,Je=ze.op,Qe=ze.number}if(Ce){if(void 0===(Ke=fe[Ie]))return""}else for(ot=3;ot<le.length;ot++)if(ut=le[ot]){if(ut.hasOwnProperty(Ie)){Ke=ut[Ie];break}if(V.test(Ie)||(Ke=n.nestedProperty(ut,Ie).get(),(Ke=se[Ie]||n.nestedProperty(ut,Ie).get())&&(se[Ie]=Ke)),void 0!==Ke)break}if(void 0!==Ke&&("*"===Je&&(Ke*=Qe),"/"===Je&&(Ke/=Qe)),void 0===Ke&&$)return $.count<$.max&&(n.warn("Variable '"+Ie+"' in "+$.name+" could not be found!"),Ke=de),$.count===$.max&&n.warn("Too many "+$.name+" warnings - additional warnings will be suppressed"),$.count++,de;if(Ee){var We;if(":"===Ee[0]&&(Ke=(We=re?re.numberFormat:n.numberFormat)(Ee.replace(ue,""))(Ke)),"|"===Ee[0]){We=re?re.timeFormat:k;var je=n.dateTime2ms(Ke);Ke=n.formatDate(je,Ee.replace(ue,""),!1,We)}}else{var lt=Ie+"Label";fe.hasOwnProperty(lt)&&(Ke=fe[lt])}return Ce&&(Ke="("+Ke+")",(Ne||Ve)&&(Ke=" "+Ke),(Pe||Ve)&&(Ke+=" ")),Ke})}n.subplotSort=function(q,fe){for(var re=Math.min(q.length,fe.length)+1,$=0,le=0,se=0;se<re;se++){var de=q.charCodeAt(se)||0,we=fe.charCodeAt(se)||0,Ee=de>=48&&de<=57,Me=we>=48&&we<=57;if(Ee&&($=10*$+de-48),Me&&(le=10*le+we-48),!Ee||!Me){if($!==le)return $-le;if(de!==we)return de-we}}return le-$};var Q=2e9;n.seedPseudoRandom=function(){Q=2e9},n.pseudoRandom=function(){var q=Q;return Q=(69069*Q+1)%4294967296,Math.abs(Q-q)<429496729?n.pseudoRandom():Q/4294967296},n.fillText=function(q,fe,re){var $=Array.isArray(re)?function(de){re.push(de)}:function(de){re.text=de},le=n.extractOption(q,fe,"htx","hovertext");if(n.isValidTextValue(le))return $(le);var se=n.extractOption(q,fe,"tx","text");return n.isValidTextValue(se)?$(se):void 0},n.isValidTextValue=function(q){return q||0===q},n.formatPercent=function(q,fe){fe=fe||0;for(var re=(Math.round(100*q*Math.pow(10,fe))*Math.pow(.1,fe)).toFixed(fe)+"%",$=0;$<fe;$++)-1!==re.indexOf(".")&&(re=(re=re.replace("0%","%")).replace(".%","%"));return re},n.isHidden=function(q){var fe=window.getComputedStyle(q).display;return!fe||"none"===fe},n.strTranslate=function(q,fe){return q||fe?"translate("+q+","+fe+")":""},n.strRotate=function(q){return q?"rotate("+q+")":""},n.strScale=function(q){return 1!==q?"scale("+q+")":""},n.getTextTransform=function(q){var fe=q.noCenter,re=q.textX,$=q.textY,Ee=q.rotate,Me=q.scale;return Me?Me>1&&(Me=1):Me=0,n.strTranslate(q.targetX-Me*(re+(q.anchorX||0)),q.targetY-Me*($+(q.anchorY||0)))+n.strScale(Me)+(Ee?"rotate("+Ee+(fe?"":" "+re+" "+$)+")":"")},n.setTransormAndDisplay=function(q,fe){q.attr("transform",n.getTextTransform(fe)),q.style("display",fe.scale?null:"none")},n.ensureUniformFontSize=function(q,fe){var re=n.extendFlat({},fe);return re.size=Math.max(fe.size,q._fullLayout.uniformtext.minsize||0),re},n.join2=function(q,fe,re){var $=q.length;return $>1?q.slice(0,-1).join(fe)+re+q[$-1]:q.join(fe)},n.bigFont=function(q){return Math.round(1.2*q)};var K=n.getFirefoxVersion(),Z=null!==K&&K<86;n.getPositionFromD3Event=function(){return Z?[S.event.layerX,S.event.layerY]:[S.event.offsetX,S.event.offsetY]}},41965:function(oe){"use strict";oe.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t).hasOwnProperty("hasOwnProperty")}},66636:function(oe,J,t){"use strict";var S=t(65487),k=/^\w*$/;oe.exports=function(n,c,o,f){o=o||"name",f=f||"value";var h,d,b,p={};c&&c.length?(b=S(n,c),d=b.get()):d=n,c=c||"";var A={};if(d)for(h=0;h<d.length;h++)A[d[h][o]]=h;var m=k.test(f),u={set:function(g,C){var T=null===C?4:0;if(!d){if(!b||4===T)return;b.set(d=[])}var L=A[g];if(void 0===L){if(4===T)return;T|=3,A[g]=L=d.length}else C!==(m?d[L][f]:S(d[L],f).get())&&(T|=2);var x=d[L]=d[L]||{};return x[o]=g,m?x[f]=C:S(x,f).set(C),null!==C&&(T&=-5),p[L]=p[L]|T,u},get:function(g){if(d){var C=A[g];if(void 0!==C)return m?d[C][f]:S(d[C],f).get()}},rename:function(g,C){var T=A[g];return void 0===T||(p[T]=1|p[T],A[C]=T,delete A[g],d[T][o]=C),u},remove:function(g){var C=A[g];if(void 0===C)return u;var T=d[C];if(Object.keys(T).length>2)return p[C]=2|p[C],u.set(g,null);if(m){for(h=C;h<d.length;h++)p[h]=3|p[h];for(h=C;h<d.length;h++)A[d[h][o]]--;d.splice(C,1),delete A[g]}else S(T,f).set(null),p[C]=6|p[C];return u},constructUpdate:function(){for(var g,C,T={},L=Object.keys(p),x=0;x<L.length;x++)g=c+"["+(C=L[x])+"]",d[C]?(1&p[C]&&(T[g+"."+o]=d[C][o]),2&p[C]&&(T[g+"."+f]=m?4&p[C]?null:d[C][f]:4&p[C]?null:S(d[C],f).get())):T[g]=null;return T}};return u}},15867:function(oe,J,t){"use strict";var S=t(73972);oe.exports=function(l,R){for(var I=l._context.locale,v=0;v<2;v++){for(var w=l._context.locales,r=0;r<2;r++){var n=(w[I]||{}).dictionary;if(n){var c=n[R];if(c)return c}w=S.localeRegistry}var o=I.split("-")[0];if(o===I)break;I=o}return R}},47769:function(oe,J,t){"use strict";var S=t(72075).dfltConfig,k=t(75046),l=oe.exports={};l.log=function(){var R;if(S.logging>1){var I=["LOG:"];for(R=0;R<arguments.length;R++)I.push(arguments[R]);console.trace.apply(console,I)}if(S.notifyOnLogging>1){var v=[];for(R=0;R<arguments.length;R++)v.push(arguments[R]);k(v.join("<br>"),"long")}},l.warn=function(){var R;if(S.logging>0){var I=["WARN:"];for(R=0;R<arguments.length;R++)I.push(arguments[R]);console.trace.apply(console,I)}if(S.notifyOnLogging>0){var v=[];for(R=0;R<arguments.length;R++)v.push(arguments[R]);k(v.join("<br>"),"stick")}},l.error=function(){var R;if(S.logging>0){var I=["ERROR:"];for(R=0;R<arguments.length;R++)I.push(arguments[R]);console.error.apply(console,I)}if(S.notifyOnLogging>0){var v=[];for(R=0;R<arguments.length;R++)v.push(arguments[R]);k(v.join("<br>"),"stick")}}},77310:function(oe,J,t){"use strict";var S=t(39898);oe.exports=function(l,R,I){var v=l.selectAll("g."+I.replace(/\s/g,".")).data(R,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",I),v.order();var w=l.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][w]=S.select(this)}),v}},35657:function(oe,J,t){"use strict";var S=t(79576);J.init2dArray=function(k,l){for(var R=new Array(k),I=0;I<k;I++)R[I]=new Array(l);return R},J.transposeRagged=function(k){var I,v,l=0,R=k.length;for(I=0;I<R;I++)l=Math.max(l,k[I].length);var w=new Array(l);for(I=0;I<l;I++)for(w[I]=new Array(R),v=0;v<R;v++)w[I][v]=k[v][I];return w},J.dot=function(k,l){if(!k.length||!l.length||k.length!==l.length)return null;var I,v,R=k.length;if(k[0].length)for(I=new Array(R),v=0;v<R;v++)I[v]=J.dot(k[v],l);else if(l[0].length){var w=J.transposeRagged(l);for(I=new Array(w.length),v=0;v<w.length;v++)I[v]=J.dot(k,w[v])}else for(I=0,v=0;v<R;v++)I+=k[v]*l[v];return I},J.translationMatrix=function(k,l){return[[1,0,k],[0,1,l],[0,0,1]]},J.rotationMatrix=function(k){var l=k*Math.PI/180;return[[Math.cos(l),-Math.sin(l),0],[Math.sin(l),Math.cos(l),0],[0,0,1]]},J.rotationXYMatrix=function(k,l,R){return J.dot(J.dot(J.translationMatrix(l,R),J.rotationMatrix(k)),J.translationMatrix(-l,-R))},J.apply3DTransform=function(k){return function(){var l=arguments,R=1===arguments.length?l[0]:[l[0],l[1],l[2]||0];return J.dot(k,[R[0],R[1],R[2],1]).slice(0,3)}},J.apply2DTransform=function(k){return function(){var l=arguments;3===l.length&&(l=l[0]);var R=1===arguments.length?l[0]:[l[0],l[1]];return J.dot(k,[R[0],R[1],1]).slice(0,2)}},J.apply2DTransform2=function(k){var l=J.apply2DTransform(k);return function(R){return l(R.slice(0,2)).concat(l(R.slice(2,4)))}},J.convertCssMatrix=function(k){if(k){var l=k.length;if(16===l)return k;if(6===l)return[k[0],k[1],0,0,k[2],k[3],0,0,0,0,1,0,k[4],k[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},J.inverseTransformMatrix=function(k){var l=[];return S.invert(l,k),[[l[0],l[1],l[2],l[3]],[l[4],l[5],l[6],l[7]],[l[8],l[9],l[10],l[11]],[l[12],l[13],l[14],l[15]]]}},64872:function(oe){"use strict";oe.exports={mod:function J(S,k){var l=S%k;return l<0?l+k:l},modHalf:function t(S,k){return Math.abs(S)>k/2?S-Math.round(S/k)*k:S}}},65487:function(oe,J,t){"use strict";var S=t(92770),k=t(73627).isArrayOrTypedArray;function l(o,f){return function(){var d,b,p,A,m,h=o;for(A=0;A<f.length-1;A++){if(-1===(d=f[A])){for(b=!0,p=[],m=0;m<h.length;m++)p[m]=l(h[m],f.slice(A+1))(),p[m]!==p[0]&&(b=!1);return b?p[0]:p}if("number"==typeof d&&!k(h)||"object"!=typeof(h=h[d])||null===h)return}if("object"==typeof h&&null!==h&&null!==(p=h[f[A]]))return p}}oe.exports=function(f,h){if(S(h))h=String(h);else if("string"!=typeof h||"[-1]"===h.substr(h.length-4))throw"bad property string";var b,p,A,m,d=h.split(".");for(m=0;m<d.length;m++)if("__"===String(d[m]).slice(0,2))throw"bad property string";for(m=0;m<d.length;){if(b=String(d[m]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(b[1])d[m]=b[1];else{if(0!==m)throw"bad property string";d.splice(0,1)}for(p=b[2].substr(1,b[2].length-2).split("]["),A=0;A<p.length;A++)m++,d.splice(m,0,Number(p[A]))}m++}return"object"!=typeof f?function c(o,f,h){return{set:function(){throw"bad container"},get:function(){},astr:f,parts:h,obj:o}}(f,h,d):{set:v(f,d,h),get:l(f,d),astr:h,parts:d,obj:f}};var R=/(^|\.)args\[/;function I(o,f){return void 0===o||null===o&&!f.match(R)}function v(o,f,h){return function(d){var u,g,b=o,p="",A=[[o,p]],m=I(d,h);for(g=0;g<f.length-1;g++){if("number"==typeof(u=f[g])&&!k(b))throw"array index but container is not an array";if(-1===u){if(m=!r(b,f.slice(g+1),d,h))break;return}if(!n(b,u,f[g+1],m))break;if("object"!=typeof(b=b[u])||null===b)throw"container is not an object";p=w(p,u),A.push([b,p])}if(m){if(g===f.length-1&&(delete b[f[g]],Array.isArray(b)&&+f[g]==b.length-1))for(;b.length&&void 0===b[b.length-1];)b.pop()}else b[f[g]]=d}}function w(o,f){var h=f;return S(f)?h="["+f+"]":o&&(h="."+f),o+h}function r(o,f,h,d){var C,b=k(h),p=!0,A=h,m=d.replace("-1",0),u=!b&&I(h,m),g=f[0];for(C=0;C<o.length;C++)m=d.replace("-1",C),b&&(u=I(A=h[C%h.length],m)),u&&(p=!1),n(o,C,g,u)&&v(o[C],f,d.replace("-1",C))(A);return p}function n(o,f,h,d){if(void 0===o[f]){if(d)return!1;o[f]="number"==typeof h?[]:{}}return!0}},64213:function(oe){"use strict";oe.exports=function(){}},75046:function(oe,J,t){"use strict";var S=t(39898),k=t(92770),l=[];oe.exports=function(R,I){if(-1===l.indexOf(R)){l.push(R);var v=1e3;k(I)?v=I:"long"===I&&(v=3e3);var w=S.select("body").selectAll(".plotly-notifier").data([0]);w.enter().append("div").classed("plotly-notifier",!0),w.selectAll(".notifier-note").data(l).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(c){var o=S.select(this);o.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){o.transition().call(n)});for(var f=o.append("p"),h=c.split(/<br\s*\/?>/g),d=0;d<h.length;d++)d&&f.append("br"),f.append("span").text(h[d]);"stick"===I?o.transition().duration(350).style("opacity",1):o.transition().duration(700).style("opacity",1).transition().delay(v).call(n)})}function n(c){c.duration(700).style("opacity",0).each("end",function(o){var f=l.indexOf(o);-1!==f&&l.splice(f,1),S.select(this).remove()})}}},39918:function(oe,J,t){"use strict";var S=t(6964),k="data-savedcursor";oe.exports=function(I,v){var w=I.attr(k);if(v){if(!w){for(var r=(I.attr("class")||"").split(" "),n=0;n<r.length;n++){var c=r[n];0===c.indexOf("cursor-")&&I.attr(k,c.substr(7)).classed(c,!1)}I.attr(k)||I.attr(k,"!!")}S(I,v)}else w&&(I.attr(k,null),"!!"===w?S(I):S(I,w))}},61082:function(oe,J,t){"use strict";var S=t(35657).dot,k=t(50606).BADNUM,l=oe.exports={};l.tester=function(I){var o,v=I.slice(),w=v[0][0],r=w,n=v[0][1],c=n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),o=1;o<v.length;o++)w=Math.min(w,v[o][0]),r=Math.max(r,v[o][0]),n=Math.min(n,v[o][1]),c=Math.max(c,v[o][1]);var h,f=!1;5===v.length&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(f=!0,h=function(m){return m[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(f=!0,h=function(m){return m[1]===v[0][1]}));var p=!0,A=v[0];for(o=1;o<v.length;o++)if(A[0]!==v[o][0]||A[1]!==v[o][1]){p=!1;break}return{xmin:w,xmax:r,ymin:n,ymax:c,pts:v,contains:f?function d(m,u){var g=m[0],C=m[1];return!(g===k||g<w||g>r||C===k||C<n||C>c||u&&h(m))}:function b(m,u){var g=m[0],C=m[1];if(g===k||g<w||g>r||C===k||C<n||C>c)return!1;var M,i,D,y,B,T=v.length,L=v[0][0],x=v[0][1],E=0;for(M=1;M<T;M++)if(i=L,D=x,L=v[M][0],x=v[M][1],!(g<(y=Math.min(i,L))||g>Math.max(i,L)||C>Math.max(D,x)))if(C<Math.min(D,x))g!==y&&E++;else{if(C===(B=L===i?C:D+(g-i)*(x-D)/(L-i)))return!(1===M&&u);C<=B&&g!==y&&E++}return E%2==1},isRect:f,degenerate:p}},l.isSegmentBent=function(I,v,w,r){var d,b,p,n=I[v],c=[I[w][0]-n[0],I[w][1]-n[1]],o=S(c,c),f=Math.sqrt(o),h=[-c[1]/f,c[0]/f];for(d=v+1;d<w;d++)if((p=S(b=[I[d][0]-n[0],I[d][1]-n[1]],c))<0||p>o||Math.abs(S(b,h))>r)return!0;return!1},l.filter=function(I,v){var w=[I[0]],r=0,n=0;function c(f){I.push(f);var h=w.length,d=r;w.splice(n+1);for(var b=d+1;b<I.length;b++)(b===I.length-1||l.isSegmentBent(I,d,b+1,v))&&(w.push(I[b]),w.length<h-2&&(r=b,n=w.length-1),d=b)}return I.length>1&&c(I.pop()),{addPt:c,raw:I,filtered:w}}},79749:function(oe,J,t){"use strict";var S=t(58617),k=t(98580);oe.exports=function(R,I,v){var w=R._fullLayout,r=!0;return w._glcanvas.each(function(n){if(n.regl)n.regl.preloadCachedCode(v);else if(!n.pick||w._has("parcoords")){try{n.regl=k({canvas:this,attributes:{antialias:!n.pick,preserveDrawingBuffer:!0},pixelRatio:R._context.plotGlPixelRatio||t.g.devicePixelRatio,extensions:I||[],cachedCode:v||{}})}catch{r=!1}n.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(c){R&&R.emit&&R.emit("plotly_webglcontextlost",{event:c,layer:n.key})},!1)}}),r||S({container:w._glcontainer.node()}),r}},45142:function(oe,J,t){"use strict";var S=t(92770),k=t(35791);oe.exports=function(I){var v;if("string"!=typeof(v=I&&I.hasOwnProperty("userAgent")?I.userAgent:function l(){var R;return typeof navigator<"u"&&(R=navigator.userAgent),R&&R.headers&&"string"==typeof R.headers["user-agent"]&&(R=R.headers["user-agent"]),R}()))return!0;var w=k({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!w)for(var r=v.split(" "),n=1;n<r.length;n++)if(-1!==r[n].indexOf("Safari"))for(var o=n-1;o>-1;o--){var f=r[o];if("Version/"===f.substr(0,8)){var h=f.substr(8).split(".")[0];if(S(h)&&(h=+h),h>=13)return!0}}return w}},75138:function(oe){"use strict";oe.exports=function(t,S){if(S instanceof RegExp){for(var k=S.toString(),l=0;l<t.length;l++)if(t[l]instanceof RegExp&&t[l].toString()===k)return t;t.push(S)}else(S||0===S)&&-1===t.indexOf(S)&&t.push(S);return t}},10847:function(oe,J,t){"use strict";var S=t(71828),k=t(72075).dfltConfig;var R={add:function(I,v,w,r,n){var c,o;I.undoQueue=I.undoQueue||{index:0,queue:[],sequence:!1},o=I.undoQueue.index,I.autoplay?I.undoQueue.inSequence||(I.autoplay=!1):(!I.undoQueue.sequence||I.undoQueue.beginSequence?(I.undoQueue.queue.splice(o,I.undoQueue.queue.length-o,c={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),I.undoQueue.index+=1):c=I.undoQueue.queue[o-1],I.undoQueue.beginSequence=!1,c&&(c.undo.calls.unshift(v),c.undo.args.unshift(w),c.redo.calls.push(r),c.redo.args.push(n)),I.undoQueue.queue.length>k.queueLength&&(I.undoQueue.queue.shift(),I.undoQueue.index--))},startSequence:function(I){I.undoQueue=I.undoQueue||{index:0,queue:[],sequence:!1},I.undoQueue.sequence=!0,I.undoQueue.beginSequence=!0},stopSequence:function(I){I.undoQueue=I.undoQueue||{index:0,queue:[],sequence:!1},I.undoQueue.sequence=!1,I.undoQueue.beginSequence=!1},undo:function(v){var w,r;if(!(void 0===v.undoQueue||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,w=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<w.undo.calls.length;r++)R.plotDo(v,w.undo.calls[r],w.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},redo:function(v){var w,r;if(!(void 0===v.undoQueue||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(w=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<w.redo.calls.length;r++)R.plotDo(v,w.redo.calls[r],w.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},plotDo:function(I,v,w){I.autoplay=!0,w=function l(I,v){for(var r,w=[],n=0;n<v.length;n++)w[n]=(r=v[n])===I?r:"object"==typeof r?Array.isArray(r)?S.extendDeep([],r):S.extendDeepAll({},r):r;return w}(I,w),v.apply(null,w)}};oe.exports=R},30587:function(oe,J){"use strict";J.counter=function(t,S,k,l){var R=(S||"")+(k?"":"$"),I=!1===l?"":"^";return"xy"===t?new RegExp(I+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+R):new RegExp(I+t+"([2-9]|[1-9][0-9]+)?"+R)}},6962:function(oe){"use strict";var J=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,t=/^[^\.\[\]]+$/;oe.exports=function(S,k){for(;k;){var l=S.match(J);if(l)S=l[1];else{if(!S.match(t))throw new Error("bad relativeAttr call:"+[S,k]);S=""}if("^"!==k.charAt(0))break;k=k.slice(1)}return S&&"["!==k.charAt(0)?S+"."+k:S+k}},51332:function(oe,J,t){"use strict";var S=t(73627).isArrayOrTypedArray,k=t(41965);oe.exports=function l(R,I){for(var v in I){var w=I[v],r=R[v];if(r!==w)if("_"===v.charAt(0)||"function"==typeof w){if(v in R)continue;R[v]=w}else if(S(w)&&S(r)&&k(w[0])){if("customdata"===v||"ids"===v)continue;for(var n=Math.min(w.length,r.length),c=0;c<n;c++)r[c]!==w[c]&&k(w[c])&&k(r[c])&&l(r[c],w[c])}else k(w)&&k(r)&&(l(r,w),Object.keys(r).length||delete R[v])}}},65888:function(oe,J,t){"use strict";var S=t(92770),k=t(47769),l=t(23389),R=t(50606).BADNUM,I=1e-9;function v(c,o){return c<o}function w(c,o){return c<=o}function r(c,o){return c>o}function n(c,o){return c>=o}J.findBin=function(c,o,f){if(S(o.start))return f?Math.ceil((c-o.start)/o.size-I)-1:Math.floor((c-o.start)/o.size+I);var A,m,h=0,d=o.length,b=0,p=d>1?(o[d-1]-o[0])/(d-1):1;for(m=p>=0?f?v:w:f?n:r,c+=p*I*(f?-1:1)*(p>=0?1:-1);h<d&&b++<100;)m(o[A=Math.floor((h+d)/2)],c)?h=A+1:d=A;return b>90&&k.log("Long binary search..."),h-1},J.sorterAsc=function(c,o){return c-o},J.sorterDes=function(c,o){return o-c},J.distinctVals=function(c){var f,o=c.slice();for(o.sort(J.sorterAsc),f=o.length-1;f>-1&&o[f]===R;f--);for(var p,h=o[f]-o[0]||1,d=h/(f||1)/1e4,b=[],A=0;A<=f;A++){var m=o[A],u=m-p;void 0===p?(b.push(m),p=m):u>d&&(h=Math.min(h,u),b.push(m),p=m)}return{vals:b,minDiff:h}},J.roundUp=function(c,o,f){for(var b,h=0,d=o.length-1,p=0,A=f?0:1,m=f?1:0,u=f?Math.ceil:Math.floor;h<d&&p++<100;)o[b=u((h+d)/2)]<=c?h=b+A:d=b-m;return o[h]},J.sort=function(c,o){for(var f=0,h=0,d=1;d<c.length;d++){var b=o(c[d],c[d-1]);if(b<0?f=1:b>0&&(h=1),f&&h)return c.sort(o)}return h?c:c.reverse()},J.findIndexOfMin=function(c,o){o=o||l;for(var h,f=1/0,d=0;d<c.length;d++){var b=o(c[d]);b<f&&(f=b,h=d)}return h}},6964:function(oe){"use strict";oe.exports=function(t,S){(t.attr("class")||"").split(" ").forEach(function(k){0===k.indexOf("cursor-")&&t.classed(k,!1)}),S&&t.classed("cursor-"+S,!0)}},58617:function(oe,J,t){"use strict";var S=t(7901),k=function(){};oe.exports=function(R){for(var I in R)"function"==typeof R[I]&&(R[I]=k);R.destroy=function(){R.container.parentNode.removeChild(R.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=S.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=S.lightLine,v.style["z-index"]=30;var w=document.createElement("p");return w.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",w.style.position="relative",w.style.top="50%",w.style.left="50%",w.style.height="30%",w.style.width="50%",w.style.margin="-15% 0 0 -25%",v.appendChild(w),R.container.appendChild(v),R.container.style.background="#FFFFFF",R.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(oe){"use strict";oe.exports=function(t){return Object.keys(t).sort()}},80038:function(oe,J,t){"use strict";var S=t(92770),k=t(73627).isArrayOrTypedArray;J.aggNums=function(l,R,I,v){var w,r;if((!v||v>I.length)&&(v=I.length),S(R)||(R=!1),k(I[0])){for(r=new Array(v),w=0;w<v;w++)r[w]=J.aggNums(l,R,I[w]);I=r}for(w=0;w<v;w++)S(R)?S(I[w])&&(R=l(+R,+I[w])):R=I[w];return R},J.len=function(l){return J.aggNums(function(R){return R+1},0,l)},J.mean=function(l,R){return R||(R=J.len(l)),J.aggNums(function(I,v){return I+v},0,l)/R},J.midRange=function(l){if(void 0!==l&&0!==l.length)return(J.aggNums(Math.max,null,l)+J.aggNums(Math.min,null,l))/2},J.variance=function(l,R,I){return R||(R=J.len(l)),S(I)||(I=J.mean(l,R)),J.aggNums(function(v,w){return v+Math.pow(w-I,2)},0,l)/R},J.stdev=function(l,R,I){return Math.sqrt(J.variance(l,R,I))},J.median=function(l){var R=l.slice().sort();return J.interp(R,.5)},J.interp=function(l,R){if(!S(R))throw"n should be a finite number";if((R=R*l.length-.5)<0)return l[0];if(R>l.length-1)return l[l.length-1];var I=R%1;return I*l[Math.ceil(R)]+(1-I)*l[Math.floor(R)]}},78614:function(oe,J,t){"use strict";var S=t(25075);oe.exports=function k(l){return l?S(l):[0,0,0,1]}},3883:function(oe,J,t){"use strict";var S=t(32396),k=t(91424),l=t(71828),R=null;oe.exports=function I(){if(null!==R)return R;R=!1;var v=l.isIE()||l.isSafari()||l.isIOS();if(window.navigator.userAgent&&!v){var w=Array.from(S.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if("function"==typeof r)R=w.some(function(f){return r.apply(null,f)});else{var n=k.tester.append("image").attr("style",S.STYLE),o=window.getComputedStyle(n.node()).imageRendering;R=w.some(function(f){var h=f[1];return o===h||o===h.toLowerCase()}),n.remove()}}return R}},63893:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=k.strTranslate,R=t(77922),I=t(18783).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;J.convertToTspans=function(H,U,G){var Y=H.text(),ee=!H.attr("data-notex")&&U&&U._context.typesetMath&&typeof MathJax<"u"&&Y.match(v),ue=S.select(H.node().parentNode);if(!ue.empty()){var ce=H.attr("class")?H.attr("class").split(" ")[0]:"text";return ue.selectAll("svg."+(ce+="-math")).remove(),ue.selectAll("g."+ce+"-group").remove(),H.style("display",null).attr({"data-unformatted":Y,"data-math":"N"}),ee?(U&&U._promises||[]).push(new Promise(function(te){H.style("display","none");var Q=parseInt(H.node().style.fontSize,10);!function o(H,U,G){var Y=parseInt((MathJax.version||"").split(".")[0]);if(2===Y||3===Y){var ee,ue,ce,pe,te=function(){return ue=k.extendDeepAll({},MathJax.Hub.config),ce=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:c},displayAlign:"left"})},Q=function(){ue=k.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=c},K=function(){if("SVG"!==(ee=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},Z=function(){"svg"!==(ee=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg")},q=function(){var de="math-output-"+k.randstr({},64),we=(pe=S.select("body").append("div").attr({id:de}).style({visibility:"hidden",position:"absolute","font-size":U.fontSize+"px"}).text(function n(H){return H.replace(w,"\\lt ").replace(r,"\\gt ")}(H))).node();return 2===Y?MathJax.Hub.Typeset(we):MathJax.typeset([we])},fe=function(){var de=pe.select(2===Y?".MathJax_SVG":".MathJax"),we=!de.empty()&&pe.select("svg").node();if(we){var Me,Ee=we.getBoundingClientRect();Me=2===Y?S.select("body").select("#MathJax_SVG_glyphs"):de.select("defs"),G(de,Me,Ee)}else k.log("There was an error in the tex syntax.",H),G();pe.remove()},re=function(){if("SVG"!==ee)return MathJax.Hub.setRenderer(ee)},$=function(){"svg"!==ee&&(MathJax.config.startup.output=ee)},le=function(){return void 0!==ce&&(MathJax.Hub.processSectionDelay=ce),MathJax.Hub.Config(ue)},se=function(){MathJax.config=ue};2===Y?MathJax.Hub.Queue(te,K,q,fe,re,le):3===Y&&(Q(),Z(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){q(),fe(),$(),se()}))}else k.warn("No MathJax version:",MathJax.version)}(ee[2],{fontSize:Q},function(Z,q,fe){ue.selectAll("svg."+ce).remove(),ue.selectAll("g."+ce+"-group").remove();var re=Z&&Z.select("svg");if(!re||!re.node())return pe(),void te();var $=ue.append("g").classed(ce+"-group",!0).attr({"pointer-events":"none","data-unformatted":Y,"data-math":"Y"});$.node().appendChild(re.node()),q&&q.node()&&re.node().insertBefore(q.node().cloneNode(!0),re.node().firstChild);var le=fe.width,se=fe.height;re.attr({class:ce,height:se,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var de=H.node().style.fill||"black",we=re.select("g");we.attr({fill:de,stroke:de});var Ee=we.node().getBoundingClientRect(),Me=Ee.width,Ne=Ee.height;(Me>le||Ne>se)&&(re.style("overflow","hidden"),Me=(Ee=re.node().getBoundingClientRect()).width,Ne=Ee.height);var Ve=+H.attr("x"),Pe=+H.attr("y"),Ie=-(Q||H.node().getBoundingClientRect().height)/4;if("y"===ce[0])$.attr({transform:"rotate("+[-90,Ve,Pe]+")"+l(-Me/2,Ie-Ne/2)});else if("l"===ce[0])Pe=Ie-Ne/2;else if("a"===ce[0]&&0!==ce.indexOf("atitle"))Ve=0,Pe=Ie;else{var Je=H.attr("text-anchor");Ve-=Me*("middle"===Je?.5:"end"===Je?1:0),Pe=Pe+Ie-Ne/2}re.attr({x:Ve,y:Pe}),G&&G.call(H,$),te($)})})):pe(),H}function pe(){ue.empty()||(ce=H.attr("class")+"-math",ue.select("svg."+ce).remove()),H.text("").style("white-space","pre"),function F(H,U){U=U.replace(A," ");var ee,G=!1,Y=[],ue=-1;function ce(){ue++;var Ne=document.createElementNS(R.svg,"tspan");S.select(Ne).attr({class:"line",dy:ue*I+"em"}),H.appendChild(Ne),ee=Ne;var Ve=Y;if(Y=[{node:Ne}],Ve.length>1)for(var Pe=1;Pe<Ve.length;Pe++)pe(Ve[Pe])}function pe(Ne){var Ce,Ve=Ne.type,Pe={};if("a"===Ve){Ce="a";var Ie=Ne.target,Je=Ne.href,Qe=Ne.popup;Je&&(Pe={"xlink:xlink:show":"_blank"===Ie||"_"!==Ie.charAt(0)?"new":"replace",target:Ie,"xlink:xlink:href":Je},Qe&&(Pe.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Qe+'");return false;'))}else Ce="tspan";Ne.style&&(Pe.style=Ne.style);var ze=document.createElementNS(R.svg,Ce);if("sup"===Ve||"sub"===Ve){te(ee,b),ee.appendChild(ze);var Ke=document.createElementNS(R.svg,"tspan");te(Ke,b),S.select(Ke).attr("dy",d[Ve]),Pe.dy=h[Ve],ee.appendChild(ze),ee.appendChild(Ke)}else ee.appendChild(ze);S.select(ze).attr(Pe),ee=Ne.node=ze,Y.push(Ne)}function te(Ne,Ve){Ne.appendChild(document.createTextNode(Ve))}function Q(Ne){if(1!==Y.length){var Ve=Y.pop();Ne!==Ve.type&&k.log("Start tag <"+Ve.type+"> doesnt match end tag <"+Ne+">. Pretending it did match.",U),ee=Y[Y.length-1].node}else k.log("Ignoring unexpected end tag </"+Ne+">.",U)}g.test(U)?ce():(ee=H,Y=[{node:H}]);for(var Z=U.split(m),q=0;q<Z.length;q++){var fe=Z[q],re=fe.match(u),$=re&&re[2].toLowerCase(),le=f[$];if("br"===$)ce();else if(void 0===le)te(ee,y(fe));else if(re[1])Q($);else{var se=re[4],de={type:$},we=E(se,C);if(we?(we=we.replace(M,"$1 fill:"),le&&(we+=";"+le)):le&&(we=le),we&&(de.style=we),"a"===$){G=!0;var Ee=E(se,T);if(Ee){var Me=_(Ee);Me&&(de.href=Me,de.target=E(se,L)||"_blank",de.popup=E(se,x))}}pe(de)}}return G}(H.node(),Y)&&H.style("pointer-events","all"),J.positionText(H),G&&G.call(H)}};var w=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;var c=[["$","$"],["\\(","\\)"]];var f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},h={sub:"0.3em",sup:"-0.6em"},d={sub:"-0.21em",sup:"0.42em"},b="\u200b",p=["http:","https:","mailto:","",void 0,":"],A=J.NEWLINES=/(\r\n?|\n)/g,m=/(<[^<>]*>)/,u=/<(\/?)([^ >]*)(\s+(.*))?>/i,g=/<br(\s+.*)?>/i;J.BR_TAG_ALL=/<br(\s+.*)?>/gi;var C=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,T=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,L=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,x=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(H,U){if(!H)return null;var G=H.match(U),Y=G&&(G[3]||G[4]);return Y&&y(Y)}var M=/(^|;)\s*color:/;J.plainText=function(H,U){for(var G=void 0!==(U=U||{}).len&&-1!==U.len?U.len:1/0,Y=void 0!==U.allowedTags?U.allowedTags:["br"],ce=H.split(m),pe=[],te="",Q=0,K=0;K<ce.length;K++){var Z=ce[K],q=Z.match(u),fe=q&&q[2].toLowerCase();if(fe)-1!==Y.indexOf(fe)&&(pe.push(Z),te=fe);else{var re=Z.length;if(Q+re<G)pe.push(Z),Q+=re;else if(Q<G){var $=G-Q;te&&("br"!==te||$<=3||re<=3)&&pe.pop(),pe.push(G>3?Z.substr(0,$-3)+"...":Z.substr(0,$));break}te=""}}return pe.join("")};var i={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},D=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function y(H){return H.replace(D,function(U,G){return("#"===G.charAt(0)?function B(H){if(!(H>1114111)){var U=String.fromCodePoint;if(U)return U(H);var G=String.fromCharCode;return H<=65535?G(H):G(55232+(H>>10),H%1024+56320)}}("x"===G.charAt(1)?parseInt(G.substr(2),16):parseInt(G.substr(1),10)):i[G])||U})}function _(H){var U=encodeURI(decodeURI(H)),G=document.createElement("a"),Y=document.createElement("a");G.href=H,Y.href=U;var ue=Y.protocol;return-1!==p.indexOf(G.protocol)&&-1!==p.indexOf(ue)?U:""}function z(H,U,G){var pe,te,Q,Y=G.horizontalAlign,ee=G.verticalAlign||"top",ue=H.node().getBoundingClientRect(),ce=U.node().getBoundingClientRect();return te="bottom"===ee?function(){return ue.bottom-pe.height}:"middle"===ee?function(){return ue.top+(ue.height-pe.height)/2}:function(){return ue.top},Q="right"===Y?function(){return ue.right-pe.width}:"center"===Y?function(){return ue.left+(ue.width-pe.width)/2}:function(){return ue.left},function(){pe=this.node().getBoundingClientRect();var K=Q()-ce.left,Z=te()-ce.top,q=G.gd||{};if(G.gd){q._fullLayout._calcInverseTransform(q);var fe=k.apply3DTransform(q._fullLayout._invTransform)(K,Z);K=fe[0],Z=fe[1]}return this.style({top:Z+"px",left:K+"px","z-index":1e3}),this}}J.convertEntities=y,J.sanitizeHTML=function(U){U=U.replace(A," ");for(var G=document.createElement("p"),Y=G,ee=[],ue=U.split(m),ce=0;ce<ue.length;ce++){var pe=ue[ce],te=pe.match(u),Q=te&&te[2].toLowerCase();if(Q in f)if(te[1])ee.length&&(Y=ee.pop());else{var K=te[4],Z=E(K,C),q=Z?{style:Z}:{};if("a"===Q){var fe=E(K,T);if(fe){var re=_(fe);if(re){q.href=re;var $=E(K,L);$&&(q.target=$)}}}var le=document.createElement(Q);Y.appendChild(le),S.select(le).attr(q),Y=le,ee.push(le)}else Y.appendChild(document.createTextNode(y(pe)))}return G.innerHTML},J.lineCount=function(U){return U.selectAll("tspan.line").size()||1},J.positionText=function(U,G,Y){return U.each(function(){var ee=S.select(this);function ue(te,Q){return void 0===Q?null===(Q=ee.attr(te))&&(ee.attr(te,0),Q=0):ee.attr(te,Q),Q}var ce=ue("x",G),pe=ue("y",Y);"text"===this.nodeName&&ee.selectAll("tspan.line").attr({x:ce,y:pe})})};var V="1px ";J.makeTextShadow=function(H){return V+V+V+H+", -"+V+"-"+V+V+H+", "+V+"-"+V+V+H+", -"+V+V+V+H},J.makeEditable=function(H,U){var G=U.gd,Y=U.delegate,ee=S.dispatch("edit","input","cancel"),ue=Y||H;if(H.style({"pointer-events":Y?"none":"all"}),1!==H.size())throw new Error("boo");function ce(){(function te(){var K=S.select(G).select(".svg-container"),Z=K.append("div"),q=H.node().style,fe=parseFloat(q.fontSize||12),re=U.text;void 0===re&&(re=H.attr("data-unformatted")),Z.classed("plugin-editable editable",!0).style({position:"absolute","font-family":q.fontFamily||"Arial","font-size":fe,color:U.fill||q.fill||"black",opacity:1,"background-color":U.background||"transparent",outline:"#ffffff33 1px solid",margin:[-fe/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(re).call(z(H,K,U)).on("blur",function(){G._editing=!1,H.text(this.textContent).style({opacity:1});var le,$=S.select(this).attr("class");(le=$?"."+$.split(" ")[0]+"-math-group":"[class*=-math-group]")&&S.select(H.node().parentNode).select(le).style({opacity:0});var se=this.textContent;S.select(this).transition().duration(0).remove(),S.select(document).on("mouseup",null),ee.edit.call(H,se)}).on("focus",function(){var $=this;G._editing=!0,S.select(document).on("mouseup",function(){if(S.event.target===$)return!1;document.activeElement===Z.node()&&Z.node().blur()})}).on("keyup",function(){27===S.event.which?(G._editing=!1,H.style({opacity:1}),S.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),ee.cancel.call(H,this.textContent)):(ee.input.call(H,this.textContent),S.select(this).call(z(H,K,U)))}).on("keydown",function(){13===S.event.which&&this.blur()}).call(pe)})(),H.style({opacity:0});var K,Q=ue.attr("class");(K=Q?"."+Q.split(" ")[0]+"-math-group":"[class*=-math-group]")&&S.select(H.node().parentNode).select(K).style({opacity:0})}function pe(Q){var K=Q.node(),Z=document.createRange();Z.selectNodeContents(K);var q=window.getSelection();q.removeAllRanges(),q.addRange(Z),K.focus()}return U.immediate?ce():ue.on("click",ce),S.rebind(H,ee,"on")}},79990:function(oe,J){"use strict";var t={};function S(k){k&&null!==k.timer&&(clearTimeout(k.timer),k.timer=null)}J.throttle=function(l,R,I){var v=t[l],w=Date.now();if(!v){for(var r in t)t[r].ts<w-6e4&&delete t[r];v=t[l]={ts:0,timer:null}}function n(){I(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}S(v),w>v.ts+R?n():v.timer=setTimeout(function(){n(),v.timer=null},R)},J.done=function(k){var l=t[k];return l&&l.timer?new Promise(function(R){var I=l.onDone;l.onDone=function(){I&&I(),R(),l.onDone=null}}):Promise.resolve()},J.clear=function(k){if(k)S(t[k]),delete t[k];else for(var l in t)J.clear(l)}},58163:function(oe,J,t){"use strict";var S=t(92770);oe.exports=function(l,R){if(l>0)return Math.log(l)/Math.LN10;var I=Math.log(Math.min(R[0],R[1]))/Math.LN10;return S(I)||(I=Math.log(Math.max(R[0],R[1]))/Math.LN10-6),I}},90973:function(oe,J,t){"use strict";var S=oe.exports={},k=t(78776).locationmodeToLayer,l=t(96892).zL;S.getTopojsonName=function(R){return[R.scope.replace(/ /g,"-"),"_",R.resolution.toString(),"m"].join("")},S.getTopojsonPath=function(R,I){return R+I+".json"},S.getTopojsonFeatures=function(R,I){return l(I,I.objects[k[R.locationmode]]).features}},37815:function(oe){"use strict";oe.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(oe){"use strict";oe.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(oe,J,t){"use strict";var S=t(73972);oe.exports=function(l){for(var w,r,R=S.layoutArrayContainers,I=S.layoutArrayRegexes,v=l.split("[")[0],n=0;n<I.length;n++)if((r=l.match(I[n]))&&0===r.index){w=r[0];break}if(w||(w=R[R.indexOf(v)]),!w)return!1;var c=l.substr(w.length);return c?!!(r=c.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:w,index:Number(r[1]),property:r[3]||""}:{array:w,index:"",property:""}}},30962:function(oe,J,t){"use strict";var S=t(1426).extendFlat,k=t(41965),l={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},R={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},I=l.flags.slice().concat(["fullReplot"]),v=R.flags.slice().concat("layoutReplot");function w(c){for(var o={},f=0;f<c.length;f++)o[c[f]]=!1;return o}function r(c,o,f){var h=S({},c);for(var d in h){var b=h[d];k(b)&&(h[d]=n(b,o,0,d))}return"from-root"===f&&(h.editType=o),h}function n(c,o,f,h){if(c.valType){var d=S({},c);if(d.editType=o,Array.isArray(c.items)){d.items=new Array(c.items.length);for(var b=0;b<c.items.length;b++)d.items[b]=n(c.items[b],o)}return d}return r(c,o,"_"===h.charAt(0)?"nested":"from-root")}oe.exports={traces:l,layout:R,traceFlags:function(){return w(I)},layoutFlags:function(){return w(v)},update:function(c,o){var f=o.editType;if(f&&"none"!==f)for(var h=f.split("+"),d=0;d<h.length;d++)c[h[d]]=!0},overrideAll:r}},58377:function(oe,J,t){"use strict";var S=t(92770),k=t(27812),l=t(73972),R=t(71828),I=t(74875),v=t(41675),w=t(7901),r=v.cleanId,n=v.getFromTrace,c=l.traceIs;function o(g,C){var T=g[C],L=C.charAt(0);T&&"paper"!==T&&(g[C]=r(T,L,!0))}function f(g){function C(T,L){g[T]&&(!g.title||!g.title[L])&&(g.title||(g.title={}),g.title[L]=g[T],delete g[T])}g&&(("string"==typeof g.title||"number"==typeof g.title)&&(g.title={text:g.title}),C("titlefont","font"),C("titleposition","position"),C("titleside","side"),C("titleoffset","offset"))}function h(g){if(!R.isPlainObject(g))return!1;var C=g.name;return delete g.name,delete g.showlegend,("string"==typeof C||"number"==typeof C)&&String(C)}function d(g,C,T,L){if(T&&!L)return g;if(L&&!T||!g.trim())return C;if(!C.trim())return g;var E,x=Math.min(g.length,C.length);for(E=0;E<x&&g.charAt(E)===C.charAt(E);E++);return g.substr(0,E).trim()}function b(g){var C="middle",T="center";return"string"==typeof g&&(-1!==g.indexOf("top")?C="top":-1!==g.indexOf("bottom")&&(C="bottom"),-1!==g.indexOf("left")?T="left":-1!==g.indexOf("right")&&(T="right")),C+" "+T}function p(g,C){return C in g&&"object"==typeof g[C]&&0===Object.keys(g[C]).length}J.clearPromiseQueue=function(g){Array.isArray(g._promises)&&g._promises.length>0&&R.log("Clearing previous rejected promises from queue."),g._promises=[]},J.cleanLayout=function(g){var C,T;g||(g={}),g.xaxis1&&(g.xaxis||(g.xaxis=g.xaxis1),delete g.xaxis1),g.yaxis1&&(g.yaxis||(g.yaxis=g.yaxis1),delete g.yaxis1),g.scene1&&(g.scene||(g.scene=g.scene1),delete g.scene1);var L=(I.subplotsRegistry.cartesian||{}).attrRegex,x=(I.subplotsRegistry.polar||{}).attrRegex,E=(I.subplotsRegistry.ternary||{}).attrRegex,M=(I.subplotsRegistry.gl3d||{}).attrRegex,i=Object.keys(g);for(C=0;C<i.length;C++){var D=i[C];if(L&&L.test(D)){var y=g[D];y.anchor&&"free"!==y.anchor&&(y.anchor=r(y.anchor)),y.overlaying&&(y.overlaying=r(y.overlaying)),y.type||(y.isdate?y.type="date":y.islog?y.type="log":!1===y.isdate&&!1===y.islog&&(y.type="linear")),("withzero"===y.autorange||"tozero"===y.autorange)&&(y.autorange=!0,y.rangemode="tozero"),y.insiderange&&delete y.range,delete y.islog,delete y.isdate,delete y.categories,p(y,"domain")&&delete y.domain,void 0!==y.autotick&&(void 0===y.tickmode&&(y.tickmode=y.autotick?"auto":"linear"),delete y.autotick),f(y)}else if(x&&x.test(D))f(g[D].radialaxis);else if(E&&E.test(D)){var F=g[D];f(F.aaxis),f(F.baxis),f(F.caxis)}else if(M&&M.test(D)){var _=g[D],z=_.cameraposition;if(Array.isArray(z)&&4===z[0].length){var H=z[1],U=z[2],G=k([],z[0]),Y=[];for(T=0;T<3;++T)Y[T]=H[T]+U*G[2+4*T];_.camera={eye:{x:Y[0],y:Y[1],z:Y[2]},center:{x:H[0],y:H[1],z:H[2]},up:{x:0,y:0,z:1}},delete _.cameraposition}f(_.xaxis),f(_.yaxis),f(_.zaxis)}}var ee=Array.isArray(g.annotations)?g.annotations.length:0;for(C=0;C<ee;C++){var ue=g.annotations[C];R.isPlainObject(ue)&&(ue.ref&&("paper"===ue.ref?(ue.xref="paper",ue.yref="paper"):"data"===ue.ref&&(ue.xref="x",ue.yref="y"),delete ue.ref),o(ue,"xref"),o(ue,"yref"))}var ce=Array.isArray(g.shapes)?g.shapes.length:0;for(C=0;C<ce;C++){var pe=g.shapes[C];R.isPlainObject(pe)&&(o(pe,"xref"),o(pe,"yref"))}var te=Array.isArray(g.images)?g.images.length:0;for(C=0;C<te;C++){var Q=g.images[C];R.isPlainObject(Q)&&(o(Q,"xref"),o(Q,"yref"))}var K=g.legend;return K&&(K.x>3?(K.x=1.02,K.xanchor="left"):K.x<-2&&(K.x=-.02,K.xanchor="right"),K.y>3?(K.y=1.02,K.yanchor="bottom"):K.y<-2&&(K.y=-.02,K.yanchor="top")),f(g),"rotate"===g.dragmode&&(g.dragmode="orbit"),w.clean(g),g.template&&g.template.layout&&J.cleanLayout(g.template.layout),g},J.cleanData=function(g){for(var C=0;C<g.length;C++){var L,T=g[C];if("histogramy"===T.type&&"xbins"in T&&!("ybins"in T)&&(T.ybins=T.xbins,delete T.xbins),T.error_y&&"opacity"in T.error_y){var x=w.defaults,E=T.error_y.color||(c(T,"bar")?w.defaultLine:x[C%x.length]);T.error_y.color=w.addOpacity(w.rgb(E),w.opacity(E)*T.error_y.opacity),delete T.error_y.opacity}if("bardir"in T&&("h"===T.bardir&&(c(T,"bar")||"histogram"===T.type.substr(0,9))&&(T.orientation="h",J.swapXYData(T)),delete T.bardir),"histogramy"===T.type&&J.swapXYData(T),("histogramx"===T.type||"histogramy"===T.type)&&(T.type="histogram"),"scl"in T&&!("colorscale"in T)&&(T.colorscale=T.scl,delete T.scl),"reversescl"in T&&!("reversescale"in T)&&(T.reversescale=T.reversescl,delete T.reversescl),T.xaxis&&(T.xaxis=r(T.xaxis,"x")),T.yaxis&&(T.yaxis=r(T.yaxis,"y")),c(T,"gl3d")&&T.scene&&(T.scene=I.subplotsRegistry.gl3d.cleanId(T.scene)),!c(T,"pie-like")&&!c(T,"bar-like"))if(Array.isArray(T.textposition))for(L=0;L<T.textposition.length;L++)T.textposition[L]=b(T.textposition[L]);else T.textposition&&(T.textposition=b(T.textposition));var M=l.getModule(T);if(M&&M.colorbar){var i=M.colorbar.container,D=i?T[i]:T;D&&D.colorscale&&("YIGnBu"===D.colorscale&&(D.colorscale="YlGnBu"),"YIOrRd"===D.colorscale&&(D.colorscale="YlOrRd"))}if("surface"===T.type&&R.isPlainObject(T.contours)){var y=["x","y","z"];for(L=0;L<y.length;L++){var B=T.contours[y[L]];R.isPlainObject(B)&&(B.highlightColor&&(B.highlightcolor=B.highlightColor,delete B.highlightColor),B.highlightWidth&&(B.highlightwidth=B.highlightWidth,delete B.highlightWidth))}}if("candlestick"===T.type||"ohlc"===T.type){var F=!1!==(T.increasing||{}).showlegend,_=!1!==(T.decreasing||{}).showlegend,z=h(T.increasing),V=h(T.decreasing);if(!1!==z&&!1!==V){var H=d(z,V,F,_);H&&(T.name=H)}else(z||V)&&!T.name&&(T.name=z||V)}if(Array.isArray(T.transforms)){var U=T.transforms;for(L=0;L<U.length;L++){var G=U[L];if(R.isPlainObject(G))switch(G.type){case"filter":G.filtersrc&&(G.target=G.filtersrc,delete G.filtersrc),G.calendar&&(G.valuecalendar||(G.valuecalendar=G.calendar),delete G.calendar);break;case"groupby":if(G.styles=G.styles||G.style,G.styles&&!Array.isArray(G.styles)){var Y=G.styles,ee=Object.keys(Y);G.styles=[];for(var ue=0;ue<ee.length;ue++)G.styles.push({target:ee[ue],value:Y[ee[ue]]})}}}}p(T,"line")&&delete T.line,"marker"in T&&(p(T.marker,"line")&&delete T.marker.line,p(T,"marker")&&delete T.marker),w.clean(T),T.autobinx&&(delete T.autobinx,delete T.xbins),T.autobiny&&(delete T.autobiny,delete T.ybins),f(T),T.colorbar&&f(T.colorbar),T.marker&&T.marker.colorbar&&f(T.marker.colorbar),T.line&&T.line.colorbar&&f(T.line.colorbar),T.aaxis&&f(T.aaxis),T.baxis&&f(T.baxis)}},J.swapXYData=function(g){var C;if(R.swapAttrs(g,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(g.z)&&Array.isArray(g.z[0])&&(g.transpose?delete g.transpose:g.transpose=!0),g.error_x&&g.error_y){var T=g.error_y,L="copy_ystyle"in T?T.copy_ystyle:!(T.color||T.thickness||T.width);R.swapAttrs(g,["error_?.copy_ystyle"]),L&&R.swapAttrs(g,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof g.hoverinfo){var x=g.hoverinfo.split("+");for(C=0;C<x.length;C++)"x"===x[C]?x[C]="y":"y"===x[C]&&(x[C]="x");g.hoverinfo=x.join("+")}},J.coerceTraceIndices=function(g,C){if(S(C))return[C];if(!Array.isArray(C)||!C.length)return g.data.map(function(x,E){return E});if(Array.isArray(C)){for(var T=[],L=0;L<C.length;L++)R.isIndex(C[L],g.data.length)?T.push(C[L]):R.warn("trace index (",C[L],") is not a number or is out of bounds");return T}return C},J.manageArrayContainers=function(g,C,T){var L=g.obj,x=g.parts,E=x.length,M=x[E-1],i=S(M);if(i&&null===C){var D=x.slice(0,E-1).join(".");R.nestedProperty(L,D).get().splice(M,1)}else i&&void 0===g.get()&&void 0===g.get()&&(T[g.astr]=null),g.set(C)};var A=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function m(g){var C=g.search(A);if(C>0)return g.substr(0,C)}J.hasParent=function(g,C){for(var T=m(C);T;){if(T in g)return!0;T=m(T)}return!1};var u=["x","y","z"];J.clearAxisTypes=function(g,C,T){for(var L=0;L<C.length;L++)for(var x=g._fullData[L],E=0;E<3;E++){var M=n(g,x,u[E]);if(M&&"log"!==M.type){var i=M._name,D=M._id.substr(1);if("scene"===D.substr(0,5)){if(void 0!==T[D])continue;i=D+"."+i}var y=i+".type";void 0===T[i]&&void 0===T[y]&&R.nestedProperty(g.layout,y).set(null)}}}},10641:function(oe,J,t){"use strict";var S=t(72391);J._doPlot=S._doPlot,J.newPlot=S.newPlot,J.restyle=S.restyle,J.relayout=S.relayout,J.redraw=S.redraw,J.update=S.update,J._guiRestyle=S._guiRestyle,J._guiRelayout=S._guiRelayout,J._guiUpdate=S._guiUpdate,J._storeDirectGUIEdit=S._storeDirectGUIEdit,J.react=S.react,J.extendTraces=S.extendTraces,J.prependTraces=S.prependTraces,J.addTraces=S.addTraces,J.deleteTraces=S.deleteTraces,J.moveTraces=S.moveTraces,J.purge=S.purge,J.addFrames=S.addFrames,J.deleteFrames=S.deleteFrames,J.animate=S.animate,J.setPlotConfig=S.setPlotConfig;var k=t(24401).getGraphDiv,l=t(34031).eraseActiveShape;J.deleteActiveShape=function(I){return l(k(I))},J.toImage=t(403),J.validate=t(84936),J.downloadImage=t(7239);var R=t(96318);J.makeTemplate=R.makeTemplate,J.validateTemplate=R.validateTemplate},6611:function(oe,J,t){"use strict";var S=t(41965),k=t(64213),l=t(47769),R=t(65888).sorterAsc,I=t(73972);J.containerArrayMatch=t(14458);var v=J.isAddVal=function(n){return"add"===n||S(n)},w=J.isRemoveVal=function(n){return null===n||"remove"===n};J.applyContainerArrayChanges=function(n,c,o,f,h){var d=c.astr,b=I.getComponentMethod(d,"supplyLayoutDefaults"),p=I.getComponentMethod(d,"draw"),A=I.getComponentMethod(d,"drawOne"),m=f.replot||f.recalc||b===k||p===k,u=n.layout,g=n._fullLayout;if(o[""]){Object.keys(o).length>1&&l.warn("Full array edits are incompatible with other edits",d);var C=o[""][""];if(w(C))c.set(null);else{if(!Array.isArray(C))return l.warn("Unrecognized full array edit value",d,C),!0;c.set(C)}return!m&&(b(u,g),p(n),!0)}var y,B,F,_,z,V,H,T=Object.keys(o).map(Number).sort(R),L=c.get(),x=L||[],E=h(g,d).get(),M=[],i=-1,D=x.length;for(y=0;y<T.length;y++)if(_=o[F=T[y]],z=Object.keys(_),H=v(V=_[""]),F<0||F>x.length-(H?0:1))l.warn("index out of range",d,F);else if(void 0!==V)z.length>1&&l.warn("Insertion & removal are incompatible with edits to the same index.",d,F),w(V)?M.push(F):H?("add"===V&&(V={}),x.splice(F,0,V),E&&E.splice(F,0,{})):l.warn("Unrecognized full object edit value",d,F,V),-1===i&&(i=F);else for(B=0;B<z.length;B++)h(x[F],z[B],d+"["+F+"].").set(_[z[B]]);for(y=M.length-1;y>=0;y--)x.splice(M[y],1),E&&E.splice(M[y],1);if(x.length?L||c.set(x):c.set(null),m)return!1;if(b(u,g),A!==k){var G;if(-1===i)G=T;else{for(D=Math.max(x.length,D),G=[],y=0;y<T.length&&!((F=T[y])>=i);y++)G.push(F);for(y=i;y<D;y++)G.push(y)}for(y=0;y<G.length;y++)A(n,G[y])}else p(n);return!0}},72391:function(oe,J,t){"use strict";var S=t(39898),k=t(92770),l=t(57035),R=t(71828),I=R.nestedProperty,v=t(11086),w=t(10847),r=t(73972),n=t(86281),c=t(74875),o=t(89298),f=t(23608),h=t(13838),d=t(91424),b=t(7901),p=t(4305).initInteractions,A=t(77922),m=t(47322).clearOutline,u=t(72075).dfltConfig,g=t(6611),C=t(58377),T=t(61549),L=t(30962),x=t(85555).AX_NAME_PATTERN,E=0;function D(ge){var Te=ge._fullLayout;Te._redrawFromAutoMarginCount?Te._redrawFromAutoMarginCount--:ge.emit("plotly_afterplot")}function B(ge,Te){try{ge._fullLayout._paper.style("background",Te)}catch(_e){R.error(_e)}}function F(ge,Te){B(ge,b.combine(Te,"white"))}function _(ge,Te){if(!ge._context){ge._context=R.extendDeep({},u);var _e=S.select("base");ge._context._baseUrl=_e.size()&&_e.attr("href")?window.location.href.split("#")[0]:""}var ft,gt,Kt,et=ge._context;if(Te){for(gt=Object.keys(Te),ft=0;ft<gt.length;ft++)"editable"!==(Kt=gt[ft])&&"edits"!==Kt&&Kt in et&&(et[Kt]="setBackground"===Kt&&"opaque"===Te[Kt]?F:Te[Kt]);Te.plot3dPixelRatio&&!et.plotGlPixelRatio&&(et.plotGlPixelRatio=et.plot3dPixelRatio);var ir=Te.editable;if(void 0!==ir)for(et.editable=ir,gt=Object.keys(et.edits),ft=0;ft<gt.length;ft++)et.edits[gt[ft]]=ir;if(Te.edits)for(gt=Object.keys(Te.edits),ft=0;ft<gt.length;ft++)(Kt=gt[ft])in et.edits&&(et.edits[Kt]=Te.edits[Kt]);et._exportedPlot=Te._exportedPlot}et.staticPlot&&(et.editable=!1,et.edits={},et.autosizable=!1,et.scrollZoom=!1,et.doubleClick=!1,et.showTips=!1,et.showLink=!1,et.displayModeBar=!1),"hover"===et.displayModeBar&&!l&&(et.displayModeBar=!0),("transparent"===et.setBackground||"function"!=typeof et.setBackground)&&(et.setBackground=B),et._hasZeroHeight=et._hasZeroHeight||0===ge.clientHeight,et._hasZeroWidth=et._hasZeroWidth||0===ge.clientWidth;var Lt=et.scrollZoom,Ut=et._scrollZoom={};if(!0===Lt)Ut.cartesian=1,Ut.gl3d=1,Ut.geo=1,Ut.mapbox=1;else if("string"==typeof Lt){var Qt=Lt.split("+");for(ft=0;ft<Qt.length;ft++)Ut[Qt[ft]]=1}else!1!==Lt&&(Ut.gl3d=1,Ut.geo=1,Ut.mapbox=1)}function H(ge,Te){var ft,gt,_e=Te+1,et=[];for(ft=0;ft<ge.length;ft++)et.push((gt=ge[ft])<0?_e+gt:gt);return et}function U(ge,Te,_e){var et,ft;for(et=0;et<Te.length;et++){if((ft=Te[et])!==parseInt(ft,10))throw new Error("all values in "+_e+" must be integers");if(ft>=ge.data.length||ft<-ge.data.length)throw new Error(_e+" must be valid indices for gd.data.");if(Te.indexOf(ft,et+1)>-1||ft>=0&&Te.indexOf(-ge.data.length+ft)>-1||ft<0&&Te.indexOf(ge.data.length+ft)>-1)throw new Error("each index in "+_e+" must be unique.")}}function G(ge,Te,_e){if(!Array.isArray(ge.data))throw new Error("gd.data must be an array.");if(typeof Te>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Te)||(Te=[Te]),U(ge,Te,"currentIndices"),typeof _e<"u"&&!Array.isArray(_e)&&(_e=[_e]),typeof _e<"u"&&U(ge,_e,"newIndices"),typeof _e<"u"&&Te.length!==_e.length)throw new Error("current and new indices must be of equal length.")}function ce(ge,Te,_e,et,ft){!function ee(ge,Te,_e,et){var ft=R.isPlainObject(et);if(!Array.isArray(ge.data))throw new Error("gd.data must be an array");if(!R.isPlainObject(Te))throw new Error("update must be a key:value object");if(typeof _e>"u")throw new Error("indices must be an integer or array of integers");for(var gt in U(ge,_e,"indices"),Te){if(!Array.isArray(Te[gt])||Te[gt].length!==_e.length)throw new Error("attribute "+gt+" must be an array of length equal to indices array length");if(ft&&(!(gt in et)||!Array.isArray(et[gt])||et[gt].length!==Te[gt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(ge,Te,_e,et);for(var gt=function ue(ge,Te,_e,et){var ir,Lt,Ut,Qt,ft=R.isPlainObject(et),gt=[];for(var Cr in Array.isArray(_e)||(_e=[_e]),_e=H(_e,ge.data.length-1),Te)for(var wt=0;wt<_e.length;wt++){if(ir=(Lt=I(ge.data[_e[wt]],Cr)).get(),!R.isArrayOrTypedArray(Ut=Te[Cr][wt]))throw new Error("attribute: "+Cr+" index: "+wt+" must be an array");if(!R.isArrayOrTypedArray(ir))throw new Error("cannot extend missing or non-array attribute: "+Cr);if(ir.constructor!==Ut.constructor)throw new Error("cannot extend array with an array of a different type: "+Cr);k(Qt=ft?et[Cr][wt]:et)||(Qt=-1),gt.push({prop:Lt,target:ir,insert:Ut,maxp:Math.floor(Qt)})}return gt}(ge,Te,_e,et),Kt={},ir={},Lt=0;Lt<gt.length;Lt++){var Ut=gt[Lt].prop,Cr=ft(gt[Lt].target,gt[Lt].insert,gt[Lt].maxp);Ut.set(Cr[0]),Array.isArray(Kt[Ut.astr])||(Kt[Ut.astr]=[]),Kt[Ut.astr].push(Cr[1]),Array.isArray(ir[Ut.astr])||(ir[Ut.astr]=[]),ir[Ut.astr].push(gt[Lt].target.length)}return{update:Kt,maxPoints:ir}}function pe(ge,Te){var _e=new ge.constructor(ge.length+Te.length);return _e.set(ge),_e.set(Te,ge.length),_e}function fe(ge,Te,_e,et){ge=R.getGraphDiv(ge),C.clearPromiseQueue(ge);var ft={};if("string"==typeof Te)ft[Te]=_e;else{if(!R.isPlainObject(Te))return R.warn("Restyle fail.",Te,_e,et),Promise.reject();ft=R.extendFlat({},Te),void 0===et&&(et=_e)}Object.keys(ft).length&&(ge.changed=!0);var gt=C.coerceTraceIndices(ge,et),Kt=de(ge,ft,gt),ir=Kt.flags;ir.calc&&(ge.calcdata=void 0),ir.clearAxisTypes&&C.clearAxisTypes(ge,gt,{});var Lt=[];ir.fullReplot?Lt.push(J._doPlot):(Lt.push(c.previousPromises),c.supplyDefaults(ge),ir.markerSize&&(c.doCalcdata(ge),Ne(Lt)),ir.style&&Lt.push(T.doTraceStyle),ir.colorbars&&Lt.push(T.doColorBars),Lt.push(D)),Lt.push(c.rehover,c.redrag,c.reselect),w.add(ge,fe,[ge,Kt.undoit,Kt.traces],fe,[ge,Kt.redoit,Kt.traces]);var Ut=R.syncOrAsync(Lt,ge);return(!Ut||!Ut.then)&&(Ut=Promise.resolve()),Ut.then(function(){return ge.emit("plotly_restyle",Kt.eventData),ge})}function re(ge){return void 0===ge?null:ge}function $(ge,Te){return Te?function(_e,et,ft){var gt=I(_e,et),Kt=gt.set;return gt.set=function(ir){le((ft||"")+et,gt.get(),ir,ge),Kt(ir)},gt}:I}function le(ge,Te,_e,et){if(Array.isArray(Te)||Array.isArray(_e))for(var ft=Array.isArray(Te)?Te:[],gt=Array.isArray(_e)?_e:[],Kt=Math.max(ft.length,gt.length),ir=0;ir<Kt;ir++)le(ge+"["+ir+"]",ft[ir],gt[ir],et);else if(R.isPlainObject(Te)||R.isPlainObject(_e)){var Lt=R.isPlainObject(Te)?Te:{},Ut=R.isPlainObject(_e)?_e:{},Qt=R.extendFlat({},Lt,Ut);for(var Cr in Qt)le(ge+"."+Cr,Lt[Cr],Ut[Cr],et)}else void 0===et[ge]&&(et[ge]=re(Te))}function de(ge,Te,_e){var Ut,et=ge._fullLayout,ft=ge._fullData,gt=ge.data,Kt=et._guiEditing,ir=$(et._preGUI,Kt),Lt=R.extendDeepAll({},Te);we(Te);var $t,Qt=L.traceFlags(),Cr={},wt={};function rr(){return _e.map(function(){})}function Lr(An){var Tr=o.id2name(An);-1===$t.indexOf(Tr)&&$t.push(Tr)}function mr(An){return"LAYOUT"+An+".autorange"}function bt(An){return"LAYOUT"+An+".range"}function ct(An){for(var Tr=An;Tr<ft.length;Tr++)if(ft[Tr]._input===gt[An])return ft[Tr]}function At(An,Tr,nr){if(Array.isArray(An))An.forEach(function(Cn){At(Cn,Tr,nr)});else if(!(An in Te)&&!C.hasParent(Te,An)){var Xr;if("LAYOUT"===An.substr(0,6))Xr=ir(ge.layout,An.replace("LAYOUT",""));else{var Ur=_e[nr];Xr=$(et._tracePreGUI[ct(Ur)._fullInput.uid],Kt)(gt[Ur],An)}An in wt||(wt[An]=rr()),void 0===wt[An][nr]&&(wt[An][nr]=re(Xr.get())),void 0!==Tr&&Xr.set(Tr)}}function It(An){return function(Tr){return ft[Tr][An]}}function Ft(An){return function(Tr,nr){return!1===Tr?ft[_e[nr]][An]:null}}for(var Rt in Te){if(C.hasParent(Te,Rt))throw new Error("cannot set "+Rt+" and a parent attribute simultaneously");var jt,er,dr,hr,wr,$e,Gt=Te[Rt];if(("autobinx"===Rt||"autobiny"===Rt)&&(Rt=Rt.charAt(Rt.length-1)+"bins",Gt=Array.isArray(Gt)?Gt.map(Ft(Rt)):!1===Gt?_e.map(It(Rt)):null),Cr[Rt]=Gt,"LAYOUT"!==Rt.substr(0,6)){for(wt[Rt]=rr(),Ut=0;Ut<_e.length;Ut++)if(jt=gt[_e[Ut]],er=ct(_e[Ut]),hr=(dr=$(et._tracePreGUI[er._fullInput.uid],Kt)(jt,Rt)).get(),void 0!==(wr=Array.isArray(Gt)?Gt[Ut%Gt.length]:Gt)){var zt=dr.parts[dr.parts.length-1],kt=Rt.substr(0,Rt.length-zt.length-1),Xt=kt?kt+".":"",ur=kt?I(er,kt).get():er;if(($e=n.getTraceValObject(er,dr.parts))&&$e.impliedEdits&&null!==wr)for(var vr in $e.impliedEdits)At(R.relativeAttr(Rt,vr),$e.impliedEdits[vr],Ut);else if("thicknessmode"!==zt&&"lenmode"!==zt||hr===wr||"fraction"!==wr&&"pixels"!==wr||!ur){if("type"===Rt&&("pie"===wr!=("pie"===hr)||"funnelarea"===wr!=("funnelarea"===hr))){var kr="x",un="y";("bar"===wr||"bar"===hr)&&"h"===jt.orientation&&(kr="y",un="x"),R.swapAttrs(jt,["?","?src"],"labels",kr),R.swapAttrs(jt,["d?","?0"],"label",kr),R.swapAttrs(jt,["?","?src"],"values",un),"pie"===hr||"funnelarea"===hr?(I(jt,"marker.color").set(I(jt,"marker.colors").get()),et._pielayer.selectAll("g.trace").remove()):r.traceIs(jt,"cartesian")&&I(jt,"marker.colors").set(I(jt,"marker.color").get())}}else{var or=et._size,Ht=ur.orient,pr="top"===Ht||"bottom"===Ht;if("thicknessmode"===zt){var xr=pr?or.h:or.w;At(Xt+"thickness",ur.thickness*("fraction"===wr?1/xr:xr),Ut)}else{var Mr=pr?or.w:or.h;At(Xt+"len",ur.len*("fraction"===wr?1/Mr:Mr),Ut)}}if(wt[Rt][Ut]=re(hr),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Rt)){if("orientation"===Rt){dr.set(wr);var Yr=jt.x&&!jt.y?"h":"v";if((dr.get()||Yr)===er.orientation)continue}else"orientationaxes"===Rt&&(jt.orientation={v:"h",h:"v"}[er.orientation]);C.swapXYData(jt),Qt.calc=Qt.clearAxisTypes=!0}else-1!==c.dataArrayContainers.indexOf(dr.parts[0])?(C.manageArrayContainers(dr,wr,wt),Qt.calc=!0):($e?$e.arrayOk&&!r.traceIs(er,"regl")&&(R.isArrayOrTypedArray(wr)||R.isArrayOrTypedArray(hr))?Qt.calc=!0:L.update(Qt,$e):Qt.calc=!0,dr.set(wr))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Rt)&&o.swap(ge,_e),"orientationaxes"===Rt){var $r=I(ge.layout,"hovermode"),Qr=$r.get();"x"===Qr?$r.set("y"):"y"===Qr?$r.set("x"):"x unified"===Qr?$r.set("y unified"):"y unified"===Qr&&$r.set("x unified")}if(-1!==["orientation","type"].indexOf(Rt)){for($t=[],Ut=0;Ut<_e.length;Ut++){var Wn=gt[_e[Ut]];r.traceIs(Wn,"cartesian")&&(Lr(Wn.xaxis||"x"),Lr(Wn.yaxis||"y"))}At($t.map(mr),!0,0),At($t.map(bt),[0,1],0)}}else dr=ir(ge.layout,Rt.replace("LAYOUT","")),wt[Rt]=[re(dr.get())],dr.set(Array.isArray(Gt)?Gt[0]:Gt),Qt.calc=!0}return(Qt.calc||Qt.plot)&&(Qt.fullReplot=!0),{flags:Qt,undoit:wt,redoit:Cr,traces:_e,eventData:R.extendDeepNoArrays([],[Lt,_e])}}function we(ge){var ft,gt,Kt,Te=R.counterRegex("axis",".title",!1,!1),_e=/colorbar\.title$/,et=Object.keys(ge);for(ft=0;ft<et.length;ft++)Kt=ge[gt=et[ft]],"title"!==gt&&!Te.test(gt)&&!_e.test(gt)||"string"!=typeof Kt&&"number"!=typeof Kt?gt.indexOf("titlefont")>-1&&-1===gt.indexOf("grouptitlefont")?ir(gt,gt.replace("titlefont","title.font")):gt.indexOf("titleposition")>-1?ir(gt,gt.replace("titleposition","title.position")):gt.indexOf("titleside")>-1?ir(gt,gt.replace("titleside","title.side")):gt.indexOf("titleoffset")>-1&&ir(gt,gt.replace("titleoffset","title.offset")):ir(gt,gt.replace("title","title.text"));function ir(Lt,Ut){ge[Ut]=ge[Lt],delete ge[Lt]}}function Ee(ge,Te,_e){ge=R.getGraphDiv(ge),C.clearPromiseQueue(ge);var et={};if("string"==typeof Te)et[Te]=_e;else{if(!R.isPlainObject(Te))return R.warn("Relayout fail.",Te,_e),Promise.reject();et=R.extendFlat({},Te)}Object.keys(et).length&&(ge.changed=!0);var ft=Ie(ge,et),gt=ft.flags;gt.calc&&(ge.calcdata=void 0);var Kt=[c.previousPromises];gt.layoutReplot?Kt.push(T.layoutReplot):Object.keys(et).length&&(Me(ge,gt,ft)||c.supplyDefaults(ge),gt.legend&&Kt.push(T.doLegend),gt.layoutstyle&&Kt.push(T.layoutStyles),gt.axrange&&Ne(Kt,ft.rangesAltered),gt.ticks&&Kt.push(T.doTicksRelayout),gt.modebar&&Kt.push(T.doModeBar),gt.camera&&Kt.push(T.doCamera),gt.colorbars&&Kt.push(T.doColorBars),Kt.push(D)),Kt.push(c.rehover,c.redrag,c.reselect),w.add(ge,Ee,[ge,ft.undoit],Ee,[ge,ft.redoit]);var ir=R.syncOrAsync(Kt,ge);return(!ir||!ir.then)&&(ir=Promise.resolve(ge)),ir.then(function(){return ge.emit("plotly_relayout",ft.eventData),ge})}function Me(ge,Te,_e){var et=ge._fullLayout;if(!Te.axrange)return!1;for(var ft in Te)if("axrange"!==ft&&Te[ft])return!1;var gt,Kt,ir=function($t,rr){return R.coerce(gt,Kt,h,$t,rr)},Lt={};for(var Ut in _e.rangesAltered){var Qt=o.id2name(Ut);if(f(gt=ge.layout[Qt],Kt=et[Qt],ir,Lt),Kt._matchGroup)for(var Cr in Kt._matchGroup)if(Cr!==Ut){var wt=et[o.id2name(Cr)];wt.autorange=Kt.autorange,wt.range=Kt.range.slice(),wt._input.range=Kt.range.slice()}}return!0}function Ne(ge,Te){ge.push(m,T.doAutoRangeAndConstraints,Te?function(et){var ft=[];for(var Kt in Te){var ir=o.getFromId(et,Kt);if(ft.push(Kt),-1!==(ir.ticklabelposition||"").indexOf("inside")&&ir._anchorAxis&&ft.push(ir._anchorAxis._id),ir._matchGroup)for(var Lt in ir._matchGroup)Te[Lt]||ft.push(Lt)}return o.draw(et,ft,{skipTitle:!0})}:function(et){return o.draw(et,"redraw")},T.drawData,T.finalDraw)}var Ve=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Pe=/^[xyz]axis[0-9]*\.autorange$/,Ce=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ie(ge,Te){var Qt,Cr,wt,_e=ge.layout,et=ge._fullLayout,gt=$(et._preGUI,et._guiEditing),Kt=Object.keys(Te),ir=o.list(ge),Lt=R.extendDeepAll({},Te),Ut={};for(we(Te),Kt=Object.keys(Te),Cr=0;Cr<Kt.length;Cr++)if(0===Kt[Cr].indexOf("allaxes")){for(wt=0;wt<ir.length;wt++){var $t=ir[wt]._id.substr(1),rr=-1!==$t.indexOf("scene")?$t+".":"",Lr=Kt[Cr].replace("allaxes",rr+ir[wt]._name);Te[Lr]||(Te[Lr]=Te[Kt[Cr]])}delete Te[Kt[Cr]]}var mr=L.layoutFlags(),bt={},ct={};function At(an,Cn){if(Array.isArray(an))an.forEach(function(Fn){At(Fn,Cn)});else if(!(an in Te)&&!C.hasParent(Te,an)){var En=gt(_e,an);an in ct||(ct[an]=re(En.get())),void 0!==Cn&&En.set(Cn)}}var Ft,It={};function Rt(an){var Cn=o.name2id(an.split(".")[0]);return It[Cn]=1,Cn}for(var Gt in Te){if(C.hasParent(Te,Gt))throw new Error("cannot set "+Gt+" and a parent attribute simultaneously");for(var jt=gt(_e,Gt),er=Te[Gt],hr=jt.parts.length-1;hr>0&&"string"!=typeof jt.parts[hr];)hr--;var wr=jt.parts[hr],$e=jt.parts[hr-1]+"."+wr,Ze=jt.parts.slice(0,hr).join("."),zt=I(ge.layout,Ze).get(),kt=I(et,Ze).get(),Xt=jt.get();if(void 0!==er){bt[Gt]=er,ct[Gt]="reverse"===wr?er:re(Xt);var ur=n.getLayoutValObject(et,jt.parts);if(ur&&ur.impliedEdits&&null!==er)for(var vr in ur.impliedEdits)At(R.relativeAttr(Gt,vr),ur.impliedEdits[vr]);if(-1!==["width","height"].indexOf(Gt))if(er){At("autosize",null);var or="height"===Gt?"width":"height";At(or,et[or])}else et[Gt]=ge._initialAutoSize[Gt];else if("autosize"===Gt)At("width",er?null:et.width),At("height",er?null:et.height);else if($e.match(Ve))Rt($e),I(et,Ze+"._inputRange").set(null);else if($e.match(Pe)){Rt($e),I(et,Ze+"._inputRange").set(null);var Ht=I(et,Ze).get();Ht._inputDomain&&(Ht._input.domain=Ht._inputDomain.slice())}else $e.match(Ce)&&I(et,Ze+"._inputDomain").set(null);if("type"===wr){Ft=zt;var pr="linear"===kt.type&&"log"===er;if(pr||"log"===kt.type&&"linear"===er){if(Ft&&Ft.range)if(kt.autorange)pr&&(Ft.range=Ft.range[1]>Ft.range[0]?[1,2]:[2,1]);else{var Mr=Ft.range[0],kr=Ft.range[1];pr?(Mr<=0&&kr<=0&&At(Ze+".autorange",!0),Mr<=0?Mr=kr/1e6:kr<=0&&(kr=Mr/1e6),At(Ze+".range[0]",Math.log(Mr)/Math.LN10),At(Ze+".range[1]",Math.log(kr)/Math.LN10)):(At(Ze+".range[0]",Math.pow(10,Mr)),At(Ze+".range[1]",Math.pow(10,kr)))}else At(Ze+".autorange",!0);Array.isArray(et._subplots.polar)&&et._subplots.polar.length&&et[jt.parts[0]]&&"radialaxis"===jt.parts[1]&&delete et[jt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(ge,kt,er,At),r.getComponentMethod("images","convertCoords")(ge,kt,er,At)}else At(Ze+".autorange",!0),At(Ze+".range",null);I(et,Ze+"._inputRange").set(null)}else if(wr.match(x)){var un=I(et,Gt).get(),Nr=(er||{}).type;(!Nr||"-"===Nr)&&(Nr="linear"),r.getComponentMethod("annotations","convertCoords")(ge,un,Nr,At),r.getComponentMethod("images","convertCoords")(ge,un,Nr,At)}var Yr=g.containerArrayMatch(Gt);if(Yr){Qt=Yr.array;var $r=Yr.property,Qr=ur||{editType:"calc"};""!==(Cr=Yr.index)&&""===$r&&(g.isAddVal(er)?ct[Gt]=null:g.isRemoveVal(er)?ct[Gt]=(I(_e,Qt).get()||[])[Cr]:R.warn("unrecognized full object value",Te)),L.update(mr,Qr),Ut[Qt]||(Ut[Qt]={});var Wn=Ut[Qt][Cr];Wn||(Wn=Ut[Qt][Cr]={}),Wn[$r]=er,delete Te[Gt]}else"reverse"===wr?(zt.range?zt.range.reverse():(At(Ze+".autorange",!0),zt.range=[1,0]),kt.autorange?mr.calc=!0:mr.plot=!0):("dragmode"===Gt&&(!1===er&&!1!==Xt||!1!==er&&!1===Xt)||et._has("scatter-like")&&et._has("regl")&&"dragmode"===Gt&&("lasso"===er||"select"===er)&&"lasso"!==Xt&&"select"!==Xt||et._has("gl2d")?mr.plot=!0:ur?L.update(mr,ur):mr.calc=!0,jt.set(er))}}for(Qt in Ut)g.applyContainerArrayChanges(ge,gt(_e,Qt),Ut[Qt],mr,gt)||(mr.plot=!0);for(var Tr in It){var nr=(Ft=o.getFromId(ge,Tr))&&Ft._constraintGroup;if(nr)for(var Xr in mr.calc=!0,nr)It[Xr]||(o.getFromId(ge,Xr)._constraintShrinkable=!0)}(Je(ge)||Te.height||Te.width)&&(mr.plot=!0);var Ur=et.shapes;for(Cr=0;Cr<Ur.length;Cr++)if(Ur[Cr].showlegend){mr.calc=!0;break}return(mr.plot||mr.calc)&&(mr.layoutReplot=!0),{flags:mr,rangesAltered:It,undoit:ct,redoit:bt,eventData:Lt}}function Je(ge){var Te=ge._fullLayout,_e=Te.width,et=Te.height;return ge.layout.autosize&&c.plotAutoSize(ge,ge.layout,Te),Te.width!==_e||Te.height!==et}function Qe(ge,Te,_e,et){ge=R.getGraphDiv(ge),C.clearPromiseQueue(ge),R.isPlainObject(Te)||(Te={}),R.isPlainObject(_e)||(_e={}),Object.keys(Te).length&&(ge.changed=!0),Object.keys(_e).length&&(ge.changed=!0);var ft=C.coerceTraceIndices(ge,et),gt=de(ge,R.extendFlat({},Te),ft),Kt=gt.flags,ir=Ie(ge,R.extendFlat({},_e)),Lt=ir.flags;(Kt.calc||Lt.calc)&&(ge.calcdata=void 0),Kt.clearAxisTypes&&C.clearAxisTypes(ge,ft,_e);var Ut=[];Lt.layoutReplot?Ut.push(T.layoutReplot):Kt.fullReplot?Ut.push(J._doPlot):(Ut.push(c.previousPromises),Me(ge,Lt,ir)||c.supplyDefaults(ge),Kt.style&&Ut.push(T.doTraceStyle),(Kt.colorbars||Lt.colorbars)&&Ut.push(T.doColorBars),Lt.legend&&Ut.push(T.doLegend),Lt.layoutstyle&&Ut.push(T.layoutStyles),Lt.axrange&&Ne(Ut,ir.rangesAltered),Lt.ticks&&Ut.push(T.doTicksRelayout),Lt.modebar&&Ut.push(T.doModeBar),Lt.camera&&Ut.push(T.doCamera),Ut.push(D)),Ut.push(c.rehover,c.redrag,c.reselect),w.add(ge,Qe,[ge,gt.undoit,ir.undoit,gt.traces],Qe,[ge,gt.redoit,ir.redoit,gt.traces]);var Qt=R.syncOrAsync(Ut,ge);return(!Qt||!Qt.then)&&(Qt=Promise.resolve(ge)),Qt.then(function(){return ge.emit("plotly_update",{data:gt.eventData,layout:ir.eventData}),ge})}function ze(ge){return function(_e){_e._fullLayout._guiEditing=!0;var et=ge.apply(null,arguments);return _e._fullLayout._guiEditing=!1,et}}var Ke=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ut=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ot(ge,Te){for(var _e=0;_e<Te.length;_e++){var et=Te[_e],ft=ge.match(et.pattern);if(ft){var gt=ft[1]||"";return{head:gt,tail:ge.substr(gt.length+1),attr:et.attr}}}}function We(ge,Te){var _e=I(Te,ge).get();if(void 0!==_e)return _e;var et=ge.split(".");for(et.pop();et.length>1;)if(et.pop(),void 0!==(_e=I(Te,et.join(".")+".uirevision").get()))return _e;return Te.uirevision}function je(ge,Te){for(var _e=0;_e<Te.length;_e++)if(Te[_e]._fullInput.uid===ge)return _e;return-1}function lt(ge,Te,_e){for(var et=0;et<Te.length;et++)if(Te[et].uid===ge)return et;return!Te[_e]||Te[_e].uid?-1:_e}function vt(ge,Te){var _e=R.isPlainObject(ge),et=Array.isArray(ge);return _e||et?(_e&&R.isPlainObject(Te)||et&&Array.isArray(Te))&&JSON.stringify(ge)===JSON.stringify(Te):ge===Te}function nt(ge,Te,_e,et){var ft,gt,Kt,ir=et.getValObject,Lt=et.flags,Ut=et.immutable,Qt=et.inArray,Cr=et.arrayIndex;function wt(){var Ze=ft.editType;Qt&&-1!==Ze.indexOf("arraydraw")?R.pushUnique(Lt.arrays[Qt],Cr):(L.update(Lt,ft),"none"!==Ze&&Lt.nChanges++,et.transition&&ft.anim&&Lt.nChangesAnim++,(Ve.test(Kt)||Pe.test(Kt))&&(Lt.rangesAltered[_e[0]]=1),Ce.test(Kt)&&I(Te,"_inputDomain").set(null),"datarevision"===gt&&(Lt.newDataRevision=1))}function $t(Ze){return"data_array"===Ze.valType||Ze.arrayOk}for(gt in ge){if(Lt.calc&&!et.transition)return;var rr=ge[gt],Lr=Te[gt],mr=_e.concat(gt);if(Kt=mr.join("."),"_"!==gt.charAt(0)&&"function"!=typeof rr&&rr!==Lr){if(("tick0"===gt||"dtick"===gt)&&"geo"!==_e[0]){var bt=Te.tickmode;if("auto"===bt||"array"===bt||!bt)continue}if(("range"!==gt||!Te.autorange)&&("zmin"!==gt&&"zmax"!==gt||"contourcarpet"!==Te.type)&&(ft=ir(mr))&&(!ft._compareAsJSON||JSON.stringify(rr)!==JSON.stringify(Lr))){var At,ct=ft.valType,It=$t(ft),Ft=Array.isArray(rr),Rt=Array.isArray(Lr);if(Ft&&Rt){var Gt="_input_"+gt,jt=ge[Gt],er=Te[Gt];if(Array.isArray(jt)&&jt===er)continue}if(void 0===Lr)It&&Ft?Lt.calc=!0:wt();else if(ft._isLinkedToArray){var dr=[],hr=!1;Qt||(Lt.arrays[gt]=dr);var wr=Math.min(rr.length,Lr.length),$e=Math.max(rr.length,Lr.length);if(wr!==$e){if("arraydraw"!==ft.editType){wt();continue}hr=!0}for(At=0;At<wr;At++)nt(rr[At],Lr[At],mr.concat(At),R.extendFlat({inArray:gt,arrayIndex:At},et));if(hr)for(At=wr;At<$e;At++)dr.push(At)}else!ct&&R.isPlainObject(rr)?nt(rr,Lr,mr,et):It?Ft&&Rt?(Ut&&(Lt.calc=!0),(Ut||et.newDataRevision)&&wt()):Ft!==Rt?Lt.calc=!0:wt():Ft&&Rt?(rr.length!==Lr.length||String(rr)!==String(Lr))&&wt():wt()}}}for(gt in Te)if(!(gt in ge)&&"_"!==gt.charAt(0)&&"function"!=typeof Te[gt]){if($t(ft=ir(_e.concat(gt)))&&Array.isArray(Te[gt]))return void(Lt.calc=!0);wt()}}function ke(ge,Te){var _e;for(_e in ge)if("_"!==_e.charAt(0)){var et=ge[_e],ft=Te[_e];if(et!==ft)if(R.isPlainObject(et)&&R.isPlainObject(ft)){if(ke(et,ft))return!0}else{if(!Array.isArray(et)||!Array.isArray(ft))return!0;if(et.length!==ft.length)return!0;for(var gt=0;gt<et.length;gt++)if(et[gt]!==ft[gt]){if(!R.isPlainObject(et[gt])||!R.isPlainObject(ft[gt]))return!0;if(ke(et[gt],ft[gt]))return!0}}}}function Ue(ge){var Te=ge._fullLayout,_e=ge.getBoundingClientRect();if(!R.equalDomRects(_e,Te._lastBBox)){var et=Te._invTransform=R.inverseTransformMatrix(R.getFullTransformMatrix(ge));Te._invScaleX=Math.sqrt(et[0][0]*et[0][0]+et[0][1]*et[0][1]+et[0][2]*et[0][2]),Te._invScaleY=Math.sqrt(et[1][0]*et[1][0]+et[1][1]*et[1][1]+et[1][2]*et[1][2]),Te._lastBBox=_e}}J.animate=function Re(ge,Te,_e){if(ge=R.getGraphDiv(ge),!R.isPlotDiv(ge))throw new Error("This element is not a Plotly plot: "+ge+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var et=ge._transitionData;et._frameQueue||(et._frameQueue=[]);var ft=(_e=c.supplyAnimationDefaults(_e)).transition,gt=_e.frame;function Kt(Ut){return Array.isArray(ft)?Ut>=ft.length?ft[0]:ft[Ut]:ft}function ir(Ut){return Array.isArray(gt)?Ut>=gt.length?gt[0]:gt[Ut]:gt}function Lt(Ut,Qt){var Cr=0;return function(){if(Ut&&++Cr===Qt)return Ut()}}return void 0===et._frameWaitingCnt&&(et._frameWaitingCnt=0),new Promise(function(Ut,Qt){var mr=0;function bt(wr){return wr.transitionOpts=Array.isArray(ft)?mr>=ft.length?ft[mr]:ft[0]:ft,mr++,wr}var ct,At,It=[],Ft=null==Te,Rt=Array.isArray(Te);if(Ft||Rt||!R.isPlainObject(Te)){if(Ft||-1!==["string","number"].indexOf(typeof Te))for(ct=0;ct<et._frames.length;ct++)(At=et._frames[ct])&&(Ft||String(At.group)===String(Te))&&It.push({type:"byname",name:String(At.name),data:bt({name:At.name})});else if(Rt)for(ct=0;ct<Te.length;ct++){var jt=Te[ct];-1!==["number","string"].indexOf(typeof jt)?(jt=String(jt),It.push({type:"byname",name:jt,data:bt({name:jt})})):R.isPlainObject(jt)&&It.push({type:"object",data:bt(R.extendFlat({},jt))})}}else It.push({type:"object",data:bt(R.extendFlat({},Te))});for(ct=0;ct<It.length;ct++)if("byname"===(At=It[ct]).type&&!et._frameHash[At.data.name])return R.warn('animate failure: frame not found: "'+At.data.name+'"'),void Qt();-1!==["next","immediate"].indexOf(_e.mode)&&function Cr(){if(0!==et._frameQueue.length){for(;et._frameQueue.length;){var wr=et._frameQueue.pop();wr.onInterrupt&&wr.onInterrupt()}ge.emit("plotly_animationinterrupted",[])}}(),"reverse"===_e.direction&&It.reverse();var er=ge._fullLayout._currentFrame;if(er&&_e.fromcurrent){var dr=-1;for(ct=0;ct<It.length;ct++)if("byname"===(At=It[ct]).type&&At.name===er){dr=ct;break}if(dr>0&&dr<It.length-1){var hr=[];for(ct=0;ct<It.length;ct++)At=It[ct],("byname"!==It[ct].type||ct>dr)&&hr.push(At);It=hr}}It.length>0?function wt(wr){if(0!==wr.length){for(var $e=0;$e<wr.length;$e++){var Ze;Ze="byname"===wr[$e].type?c.computeFrame(ge,wr[$e].name):wr[$e].data;var zt=ir($e),kt=Kt($e);kt.duration=Math.min(kt.duration,zt.duration);var Xt={frame:Ze,name:wr[$e].name,frameOpts:zt,transitionOpts:kt};$e===wr.length-1&&(Xt.onComplete=Lt(Ut,2),Xt.onInterrupt=Qt),et._frameQueue.push(Xt)}"immediate"===_e.mode&&(et._lastFrameAt=-1/0),et._animationRaf||function Lr(){ge.emit("plotly_animating"),et._lastFrameAt=-1/0,et._timeToNext=0,et._runningTransitions=0,et._currentFrame=null;var wr=function(){et._animationRaf=window.requestAnimationFrame(wr),Date.now()-et._lastFrameAt>et._timeToNext&&function rr(){et._currentFrame&&et._currentFrame.onComplete&&et._currentFrame.onComplete();var wr=et._currentFrame=et._frameQueue.shift();if(wr){var $e=wr.name?wr.name.toString():null;ge._fullLayout._currentFrame=$e,et._lastFrameAt=Date.now(),et._timeToNext=wr.frameOpts.duration,c.transition(ge,wr.frame.data,wr.frame.layout,C.coerceTraceIndices(ge,wr.frame.traces),wr.frameOpts,wr.transitionOpts).then(function(){wr.onComplete&&wr.onComplete()}),ge.emit("plotly_animatingframe",{name:$e,frame:wr.frame,animation:{frame:wr.frameOpts,transition:wr.transitionOpts}})}else!function $t(){ge.emit("plotly_animated"),window.cancelAnimationFrame(et._animationRaf),et._animationRaf=null}()}()};wr()}()}}(It):(ge.emit("plotly_animated"),Ut())})},J.addFrames=function Be(ge,Te,_e){if(ge=R.getGraphDiv(ge),null==Te)return Promise.resolve();if(!R.isPlotDiv(ge))throw new Error("This element is not a Plotly plot: "+ge+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var et,ft,gt,Kt,ir=ge._transitionData._frames,Lt=ge._transitionData._frameHash;if(!Array.isArray(Te))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Te);var Ut=ir.length+2*Te.length,Qt=[],Cr={};for(et=Te.length-1;et>=0;et--)if(R.isPlainObject(Te[et])){var wt=Te[et].name,$t=(Lt[wt]||Cr[wt]||{}).name,rr=Te[et].name;$t&&rr&&"number"==typeof rr&&(Lt[$t]||Cr[$t])&&E<5&&(E++,R.warn('addFrames: overwriting frame "'+(Lt[$t]||Cr[$t]).name+'" with a frame whose name of type "number" also equates to "'+$t+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===E&&R.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Cr[wt]={name:wt},Qt.push({frame:c.supplyFrameDefaults(Te[et]),index:_e&&null!=_e[et]?_e[et]:Ut+et})}Qt.sort(function(Gt,jt){return Gt.index>jt.index?-1:Gt.index<jt.index?1:0});var mr=[],bt=[],ct=ir.length;for(et=Qt.length-1;et>=0;et--){if("number"==typeof(ft=Qt[et].frame).name&&R.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ft.name)for(;Lt[ft.name="frame "+ge._transitionData._counter++];);if(Lt[ft.name]){for(gt=0;gt<ir.length&&(ir[gt]||{}).name!==ft.name;gt++);mr.push({type:"replace",index:gt,value:ft}),bt.unshift({type:"replace",index:gt,value:ir[gt]})}else Kt=Math.max(0,Math.min(Qt[et].index,ct)),mr.push({type:"insert",index:Kt,value:ft}),bt.unshift({type:"delete",index:Kt}),ct++}return w&&w.add(ge,c.modifyFrames,[ge,bt],c.modifyFrames,[ge,mr]),c.modifyFrames(ge,mr)},J.deleteFrames=function He(ge,Te){if(ge=R.getGraphDiv(ge),!R.isPlotDiv(ge))throw new Error("This element is not a Plotly plot: "+ge);var _e,et,ft=ge._transitionData._frames,gt=[],Kt=[];if(!Te)for(Te=[],_e=0;_e<ft.length;_e++)Te.push(_e);for((Te=Te.slice()).sort(),_e=Te.length-1;_e>=0;_e--)gt.push({type:"delete",index:et=Te[_e]}),Kt.unshift({type:"insert",index:et,value:ft[et]});return w&&w.add(ge,c.modifyFrames,[ge,Kt],c.modifyFrames,[ge,gt]),c.modifyFrames(ge,gt)},J.addTraces=function K(ge,Te,_e){ge=R.getGraphDiv(ge);var Lt,Ut,et=[],ft=J.deleteTraces,gt=K,Kt=[ge,et],ir=[ge,Te];for(function Y(ge,Te,_e){var et,ft;if(!Array.isArray(ge.data))throw new Error("gd.data must be an array.");if(typeof Te>"u")throw new Error("traces must be defined.");for(Array.isArray(Te)||(Te=[Te]),et=0;et<Te.length;et++)if("object"!=typeof(ft=Te[et])||Array.isArray(ft)||null===ft)throw new Error("all values in traces array must be non-array objects");if(typeof _e<"u"&&!Array.isArray(_e)&&(_e=[_e]),typeof _e<"u"&&_e.length!==Te.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(ge,Te,_e),Array.isArray(Te)||(Te=[Te]),Te=Te.map(function(Qt){return R.extendFlat({},Qt)}),C.cleanData(Te),Lt=0;Lt<Te.length;Lt++)ge.data.push(Te[Lt]);for(Lt=0;Lt<Te.length;Lt++)et.push(-Te.length+Lt);if(typeof _e>"u")return Ut=J.redraw(ge),w.add(ge,ft,Kt,gt,ir),Ut;Array.isArray(_e)||(_e=[_e]);try{G(ge,et,_e)}catch(Qt){throw ge.data.splice(ge.data.length-Te.length,Te.length),Qt}return w.startSequence(ge),w.add(ge,ft,Kt,gt,ir),Ut=J.moveTraces(ge,et,_e),w.stopSequence(ge),Ut},J.deleteTraces=function Z(ge,Te){ge=R.getGraphDiv(ge);var ir,Lt,_e=[],et=J.addTraces,ft=Z,gt=[ge,_e,Te],Kt=[ge,Te];if(typeof Te>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Te)||(Te=[Te]),U(ge,Te,"indices"),(Te=H(Te,ge.data.length-1)).sort(R.sorterDes),ir=0;ir<Te.length;ir+=1)Lt=ge.data.splice(Te[ir],1)[0],_e.push(Lt);var Ut=J.redraw(ge);return w.add(ge,et,gt,ft,Kt),Ut},J.extendTraces=function te(ge,Te,_e,et){var gt=ce(ge=R.getGraphDiv(ge),Te,_e,et,function ft(Lt,Ut,Qt){var Cr,wt;if(R.isTypedArray(Lt))if(Qt<0){var $t=new Lt.constructor(0),rr=pe(Lt,Ut);Qt<0?(Cr=rr,wt=$t):(Cr=$t,wt=rr)}else if(Cr=new Lt.constructor(Qt),wt=new Lt.constructor(Lt.length+Ut.length-Qt),Qt===Ut.length)Cr.set(Ut),wt.set(Lt);else if(Qt<Ut.length){var Lr=Ut.length-Qt;Cr.set(Ut.subarray(Lr)),wt.set(Lt),wt.set(Ut.subarray(0,Lr),Lt.length)}else{var mr=Qt-Ut.length,bt=Lt.length-mr;Cr.set(Lt.subarray(bt)),Cr.set(Ut,mr),wt.set(Lt.subarray(0,bt))}else Cr=Lt.concat(Ut),wt=Qt>=0&&Qt<Cr.length?Cr.splice(0,Cr.length-Qt):[];return[Cr,wt]}),Kt=J.redraw(ge);return w.add(ge,J.prependTraces,[ge,gt.update,_e,gt.maxPoints],te,arguments),Kt},J.moveTraces=function q(ge,Te,_e){var Ut,et=[],ft=[],gt=q,Kt=q,ir=[ge=R.getGraphDiv(ge),_e,Te],Lt=[ge,Te,_e];if(G(ge,Te,_e),Te=Array.isArray(Te)?Te:[Te],typeof _e>"u")for(_e=[],Ut=0;Ut<Te.length;Ut++)_e.push(-Te.length+Ut);for(_e=Array.isArray(_e)?_e:[_e],Te=H(Te,ge.data.length-1),_e=H(_e,ge.data.length-1),Ut=0;Ut<ge.data.length;Ut++)-1===Te.indexOf(Ut)&&et.push(ge.data[Ut]);for(Ut=0;Ut<Te.length;Ut++)ft.push({newIndex:_e[Ut],trace:ge.data[Te[Ut]]});for(ft.sort(function(Cr,wt){return Cr.newIndex-wt.newIndex}),Ut=0;Ut<ft.length;Ut+=1)et.splice(ft[Ut].newIndex,0,ft[Ut].trace);ge.data=et;var Qt=J.redraw(ge);return w.add(ge,gt,ir,Kt,Lt),Qt},J.prependTraces=function Q(ge,Te,_e,et){var gt=ce(ge=R.getGraphDiv(ge),Te,_e,et,function ft(Lt,Ut,Qt){var Cr,wt;if(R.isTypedArray(Lt))if(Qt<=0){var $t=new Lt.constructor(0),rr=pe(Ut,Lt);Qt<0?(Cr=rr,wt=$t):(Cr=$t,wt=rr)}else if(Cr=new Lt.constructor(Qt),wt=new Lt.constructor(Lt.length+Ut.length-Qt),Qt===Ut.length)Cr.set(Ut),wt.set(Lt);else if(Qt<Ut.length){var Lr=Ut.length-Qt;Cr.set(Ut.subarray(0,Lr)),wt.set(Ut.subarray(Lr)),wt.set(Lt,Lr)}else{var mr=Qt-Ut.length;Cr.set(Ut),Cr.set(Lt.subarray(0,mr),Ut.length),wt.set(Lt.subarray(mr))}else Cr=Ut.concat(Lt),wt=Qt>=0&&Qt<Cr.length?Cr.splice(Qt,Cr.length):[];return[Cr,wt]}),Kt=J.redraw(ge);return w.add(ge,J.extendTraces,[ge,gt.update,_e,gt.maxPoints],Q,arguments),Kt},J.newPlot=function V(ge,Te,_e,et){return ge=R.getGraphDiv(ge),c.cleanPlot([],{},ge._fullData||[],ge._fullLayout||{}),c.purge(ge),J._doPlot(ge,Te,_e,et)},J._doPlot=function i(ge,Te,_e,et){var ft;if(ge=R.getGraphDiv(ge),v.init(ge),R.isPlainObject(Te)){var gt=Te;Te=gt.data,_e=gt.layout,et=gt.config,ft=gt.frames}if(!1===v.triggerHandler(ge,"plotly_beforeplot",[Te,_e,et]))return Promise.reject();!Te&&!_e&&!R.isPlotDiv(ge)&&R.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ge),_(ge,et),_e||(_e={}),S.select(ge).classed("js-plotly-plot",!0),d.makeTester(),Array.isArray(ge._promises)||(ge._promises=[]);var Lt=0===(ge.data||[]).length&&Array.isArray(Te);Array.isArray(Te)&&(C.cleanData(Te),Lt?ge.data=Te:ge.data.push.apply(ge.data,Te),ge.empty=!1),(!ge.layout||Lt)&&(ge.layout=C.cleanLayout(_e)),c.supplyDefaults(ge);var Ut=ge._fullLayout,Qt=Ut._has("cartesian");Ut._replotting=!0,(Lt||Ut._shouldCreateBgLayer)&&(function De(ge){var Te=S.select(ge),_e=ge._fullLayout;if(_e._calcInverseTransform=Ue,_e._calcInverseTransform(ge),_e._container=Te.selectAll(".plot-container").data([0]),_e._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),_e._paperdiv=_e._container.selectAll(".svg-container").data([0]),_e._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),_e._glcontainer=_e._paperdiv.selectAll(".gl-container").data([{}]),_e._glcontainer.enter().append("div").classed("gl-container",!0),_e._paperdiv.selectAll(".main-svg").remove(),_e._paperdiv.select(".modebar-container").remove(),_e._paper=_e._paperdiv.insert("svg",":first-child").classed("main-svg",!0),_e._toppaper=_e._paperdiv.append("svg").classed("main-svg",!0),_e._modebardiv=_e._paperdiv.append("div"),delete _e._modeBar,_e._hoverpaper=_e._paperdiv.append("svg").classed("main-svg",!0),!_e._uid){var et={};S.selectAll("defs").each(function(){this.id&&(et[this.id.split("-")[1]]=1)}),_e._uid=R.randstr(et)}_e._paperdiv.selectAll(".main-svg").attr(A.svgAttrs),_e._defs=_e._paper.append("defs").attr("id","defs-"+_e._uid),_e._clips=_e._defs.append("g").classed("clips",!0),_e._topdefs=_e._toppaper.append("defs").attr("id","topdefs-"+_e._uid),_e._topclips=_e._topdefs.append("g").classed("clips",!0),_e._bgLayer=_e._paper.append("g").classed("bglayer",!0),_e._draggers=_e._paper.append("g").classed("draglayer",!0);var ft=_e._paper.append("g").classed("layer-below",!0);_e._imageLowerLayer=ft.append("g").classed("imagelayer",!0),_e._shapeLowerLayer=ft.append("g").classed("shapelayer",!0),_e._cartesianlayer=_e._paper.append("g").classed("cartesianlayer",!0),_e._polarlayer=_e._paper.append("g").classed("polarlayer",!0),_e._smithlayer=_e._paper.append("g").classed("smithlayer",!0),_e._ternarylayer=_e._paper.append("g").classed("ternarylayer",!0),_e._geolayer=_e._paper.append("g").classed("geolayer",!0),_e._funnelarealayer=_e._paper.append("g").classed("funnelarealayer",!0),_e._pielayer=_e._paper.append("g").classed("pielayer",!0),_e._iciclelayer=_e._paper.append("g").classed("iciclelayer",!0),_e._treemaplayer=_e._paper.append("g").classed("treemaplayer",!0),_e._sunburstlayer=_e._paper.append("g").classed("sunburstlayer",!0),_e._indicatorlayer=_e._toppaper.append("g").classed("indicatorlayer",!0),_e._glimages=_e._paper.append("g").classed("glimages",!0);var gt=_e._toppaper.append("g").classed("layer-above",!0);_e._imageUpperLayer=gt.append("g").classed("imagelayer",!0),_e._shapeUpperLayer=gt.append("g").classed("shapelayer",!0),_e._selectionLayer=_e._toppaper.append("g").classed("selectionlayer",!0),_e._infolayer=_e._toppaper.append("g").classed("infolayer",!0),_e._menulayer=_e._toppaper.append("g").classed("menulayer",!0),_e._zoomlayer=_e._toppaper.append("g").classed("zoomlayer",!0),_e._hoverlayer=_e._hoverpaper.append("g").classed("hoverlayer",!0),_e._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ge.emit("plotly_framework")}(ge),Ut._shouldCreateBgLayer&&delete Ut._shouldCreateBgLayer),d.initGradients(ge),d.initPatterns(ge),Lt&&o.saveShowSpikeInitial(ge);var Cr=!ge.calcdata||ge.calcdata.length!==(ge._fullData||[]).length;Cr&&c.doCalcdata(ge);for(var wt=0;wt<ge.calcdata.length;wt++)ge.calcdata[wt][0].trace=ge._fullData[wt];ge._context.responsive?ge._responsiveChartHandler||(ge._responsiveChartHandler=function(){R.isHidden(ge)||c.resize(ge)},window.addEventListener("resize",ge._responsiveChartHandler)):R.clearResponsive(ge);var $t=R.extendFlat({},Ut._size),rr=0;function mr(){if(c.clearAutoMarginIds(ge),T.drawMarginPushers(ge),o.allowAutoMargin(ge),ge._fullLayout.title.text&&ge._fullLayout.title.automargin&&c.allowAutoMargin(ge,"title.automargin"),Ut._has("pie"))for(var Gt=ge._fullData,jt=0;jt<Gt.length;jt++){var er=Gt[jt];"pie"===er.type&&er.automargin&&c.allowAutoMargin(ge,"pie."+er.uid+".automargin")}return c.doAutoMargin(ge),c.previousPromises(ge)}function At(){ge._transitioning||(T.doAutoRangeAndConstraints(ge),Lt&&o.saveRangeInitial(ge),r.getComponentMethod("rangeslider","calcAutorange")(ge))}var Ft=[c.previousPromises,function ir(){if(ft)return J.addFrames(ge,ft)},function Lr(){for(var Gt=Ut._basePlotModules,jt=0;jt<Gt.length;jt++)Gt[jt].drawFramework&&Gt[jt].drawFramework(ge);!Ut._glcanvas&&Ut._has("gl")&&(Ut._glcanvas=Ut._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(wr){return wr.key}),Ut._glcanvas.enter().append("canvas").attr("class",function(wr){return"gl-canvas gl-canvas-"+wr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var er=ge._context.plotGlPixelRatio;if(Ut._glcanvas){Ut._glcanvas.attr("width",Ut.width*er).attr("height",Ut.height*er).style("width",Ut.width+"px").style("height",Ut.height+"px");var dr=Ut._glcanvas.data()[0].regl;if(dr&&(Math.floor(Ut.width*er)!==dr._gl.drawingBufferWidth||Math.floor(Ut.height*er)!==dr._gl.drawingBufferHeight)){var hr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!rr)return R.log(hr+" Clearing graph and plotting again."),c.cleanPlot([],{},ge._fullData,Ut),c.supplyDefaults(ge),Ut=ge._fullLayout,c.doCalcdata(ge),rr++,Lr();R.error(hr)}}return"h"===Ut.modebar.orientation?Ut._modebardiv.style("height",null).style("width","100%"):Ut._modebardiv.style("width",null).style("height",Ut.height+"px"),c.previousPromises(ge)},mr,function bt(){if(c.didMarginChange($t,Ut._size))return R.syncOrAsync([mr,T.layoutStyles],ge)}];Qt&&Ft.push(function ct(){if(Cr)return R.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),At],ge);At()}),Ft.push(T.layoutStyles),Qt&&Ft.push(function It(){return o.draw(ge,Lt?"":"redraw")},function(jt){var er=jt._fullLayout._insideTickLabelsUpdaterange;if(er)return jt._fullLayout._insideTickLabelsUpdaterange=void 0,Ee(jt,er).then(function(){o.saveRangeInitial(jt,!0)})}),Ft.push(T.drawData,T.finalDraw,p,c.addLinks,c.rehover,c.redrag,c.reselect,c.doAutoMargin,c.previousPromises);var Rt=R.syncOrAsync(Ft,ge);return(!Rt||!Rt.then)&&(Rt=Promise.resolve()),Rt.then(function(){return D(ge),ge})},J.purge=function Ye(ge){var Te=(ge=R.getGraphDiv(ge))._fullLayout||{};return c.cleanPlot([],{},ge._fullData||[],Te),c.purge(ge),v.purge(ge),Te._container&&Te._container.remove(),delete ge._context,ge},J.react=function St(ge,Te,_e,et){var ft,gt;ge=R.getGraphDiv(ge),C.clearPromiseQueue(ge);var ir=ge._fullData,Lt=ge._fullLayout;if(R.isPlotDiv(ge)&&ir&&Lt){if(R.isPlainObject(Te)){var Ut=Te;Te=Ut.data,_e=Ut.layout,et=Ut.config,ft=Ut.frames}var Qt=!1;if(et){var Cr=R.extendDeep({},ge._context);ge._context=void 0,_(ge,et),Qt=ke(Cr,ge._context)}ge.data=Te||[],C.cleanData(ge.data),ge.layout=_e||{},C.cleanLayout(ge.layout),function pt(ge,Te,_e,et){var gt,Kt,ir,Lt,Ut,Qt,Cr,wt,$t,rr,ft=et._preGUI,Lr=[],mr={},bt={};for(gt in ft){if(Ut=ot(gt,Ke)){if($t=Ut.head,rr=Ut.tail,(Lt=(ir=I(et,Kt=Ut.attr||$t+".uirevision").get())&&We(Kt,Te))&&Lt===ir){if(null===(Qt=ft[gt])&&(Qt=void 0),vt(wt=(Cr=I(Te,gt)).get(),Qt)){void 0===wt&&"autorange"===rr&&Lr.push($t),Cr.set(re(I(et,gt).get()));continue}if("autorange"===rr||"range["===rr.substr(0,6)){var It=ft[$t+".autorange"];if(It||null===It&&null===ft[$t+".range[0]"]&&null===ft[$t+".range[1]"]){if(!($t in mr)){var Ft=I(Te,$t).get();mr[$t]=Ft&&(Ft.autorange||!1!==Ft.autorange&&(!Ft.range||2!==Ft.range.length))}if(mr[$t]){Cr.set(re(I(et,gt).get()));continue}}}}}else R.warn("unrecognized GUI edit: "+gt);delete ft[gt],Ut&&"range["===Ut.tail.substr(0,6)&&(bt[Ut.head]=1)}for(var Rt=0;Rt<Lr.length;Rt++){var Gt=Lr[Rt];if(bt[Gt]){var jt=I(Te,Gt).get();jt&&delete jt.autorange}}var er=et._tracePreGUI;for(var dr in er){var $e,hr=er[dr],wr=null;for(gt in hr){if(!wr){var Ze=je(dr,_e);if(Ze<0){delete er[dr];break}var kt=lt(dr,ge,($e=_e[Ze]._fullInput).index);if(kt<0){delete er[dr];break}wr=ge[kt]}if(Ut=ot(gt,ut)){if(Ut.attr?Lt=(ir=I(et,Ut.attr).get())&&We(Ut.attr,Te):(ir=$e.uirevision,void 0===(Lt=wr.uirevision)&&(Lt=Te.uirevision)),Lt&&Lt===ir&&(null===(Qt=hr[gt])&&(Qt=void 0),vt(wt=(Cr=I(wr,gt)).get(),Qt))){Cr.set(re(I($e,gt).get()));continue}}else R.warn("unrecognized GUI edit: "+gt+" in trace uid "+dr);delete hr[gt]}}}(ge.data,ge.layout,ir,Lt),c.supplyDefaults(ge,{skipUpdateCalc:!0});var wt=ge._fullData,$t=ge._fullLayout,rr=void 0===$t.datarevision,Lr=$t.transition,mr=function _t(ge,Te,_e,et,ft){var gt=L.layoutFlags();function Kt(Lt){return n.getLayoutValObject(_e,Lt)}return gt.arrays={},gt.rangesAltered={},gt.nChanges=0,gt.nChangesAnim=0,nt(Te,_e,[],{getValObject:Kt,flags:gt,immutable:et,transition:ft,gd:ge}),(gt.plot||gt.calc)&&(gt.layoutReplot=!0),ft&&gt.nChanges&&gt.nChangesAnim&&(gt.anim=gt.nChanges===gt.nChangesAnim?"all":"some"),gt}(ge,Lt,$t,rr,Lr),ct=function Ct(ge,Te,_e,et,ft,gt){var Kt=Te.length===_e.length;if(!ft&&!Kt)return{fullReplot:!0,calc:!0};var Lt,Ut,ir=L.traceFlags();function Qt($t){var rr=n.getTraceValObject(Ut,$t);return!Ut._module.animatable&&rr.anim&&(rr.anim=!1),rr}ir.arrays={},ir.nChanges=0,ir.nChangesAnim=0;var Cr={getValObject:Qt,flags:ir,immutable:et,transition:ft,newDataRevision:gt,gd:ge},wt={};for(Lt=0;Lt<Te.length;Lt++)if(_e[Lt]){if(c.hasMakesDataTransform(Ut=_e[Lt]._fullInput)&&(Ut=_e[Lt]),wt[Ut.uid])continue;wt[Ut.uid]=1,nt(Te[Lt]._fullInput,Ut,[],Cr)}return(ir.calc||ir.plot)&&(ir.fullReplot=!0),ft&&ir.nChanges&&ir.nChangesAnim&&(ir.anim=ir.nChanges===ir.nChangesAnim&&Kt?"all":"some"),ir}(ge,ir,wt,rr,Lr,mr.newDataRevision);if(Je(ge)&&(mr.layoutReplot=!0),ct.calc||mr.calc){ge.calcdata=void 0;for(var At=Object.getOwnPropertyNames($t),It=0;It<At.length;It++){var Ft=At[It],Rt=Ft.substring(0,5);if("xaxis"===Rt||"yaxis"===Rt){var Gt=$t[Ft]._emptyCategories;Gt&&Gt()}}}else c.supplyDefaultsUpdateCalc(ge.calcdata,wt);var jt=[];if(ft&&(ge._transitionData={},c.createTransitionData(ge),jt.push(function Kt(){return J.addFrames(ge,ft)})),$t.transition&&!Qt&&(ct.anim||mr.anim))mr.ticks&&jt.push(T.doTicksRelayout),c.doCalcdata(ge),T.doAutoRangeAndConstraints(ge),jt.push(function(){return c.transitionFromReact(ge,ct,mr,Lt)});else if(ct.fullReplot||mr.layoutReplot||Qt)ge._fullLayout._skipDefaults=!0,jt.push(J._doPlot);else{for(var er in mr.arrays){var dr=mr.arrays[er];if(dr.length){var hr=r.getComponentMethod(er,"drawOne");if(hr!==R.noop)for(var wr=0;wr<dr.length;wr++)hr(ge,dr[wr]);else{var $e=r.getComponentMethod(er,"draw");if($e===R.noop)throw new Error("cannot draw components: "+er);$e(ge)}}}jt.push(c.previousPromises),ct.style&&jt.push(T.doTraceStyle),(ct.colorbars||mr.colorbars)&&jt.push(T.doColorBars),mr.legend&&jt.push(T.doLegend),mr.layoutstyle&&jt.push(T.layoutStyles),mr.axrange&&Ne(jt),mr.ticks&&jt.push(T.doTicksRelayout),mr.modebar&&jt.push(T.doModeBar),mr.camera&&jt.push(T.doCamera),jt.push(D)}jt.push(c.rehover,c.redrag,c.reselect),(!(gt=R.syncOrAsync(jt,ge))||!gt.then)&&(gt=Promise.resolve(ge))}else gt=J.newPlot(ge,Te,_e,et);return gt.then(function(){return ge.emit("plotly_react",{data:Te,layout:_e}),ge})},J.redraw=function z(ge){if(ge=R.getGraphDiv(ge),!R.isPlotDiv(ge))throw new Error("This element is not a Plotly plot: "+ge);return C.cleanData(ge.data),C.cleanLayout(ge.layout),ge.calcdata=void 0,J._doPlot(ge).then(function(){return ge.emit("plotly_redraw"),ge})},J.relayout=Ee,J.restyle=fe,J.setPlotConfig=function y(ge){return R.extendFlat(u,ge)},J.update=Qe,J._guiRelayout=ze(Ee),J._guiRestyle=ze(fe),J._guiUpdate=ze(Qe),J._storeDirectGUIEdit=function se(ge,Te,_e){for(var et in _e)le(et,I(ge,et).get(),_e[et],Te)}},72075:function(oe){"use strict";var J={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},t={};(function S(k,l){for(var R in k){var I=k[R];I.valType?l[R]=I.dflt:(l[R]||(l[R]={}),S(I,l[R]))}})(J,t),oe.exports={configAttributes:J,dfltConfig:t}},86281:function(oe,J,t){"use strict";var S=t(73972),k=t(71828),l=t(9012),R=t(10820),I=t(31391),v=t(85594),w=t(72075).configAttributes,r=t(30962),n=k.extendDeepAll,c=k.isPlainObject,o=k.isArrayOrTypedArray,f=k.nestedProperty,h=k.valObjectMeta,d="_isSubplotObj",b="_isLinkedToArray",A="_deprecated",m=[d,b,"_arrayAttrRegexps",A];function g(_,z,V){if(!_)return!1;if(_._isLinkedToArray)if(C(z[V]))V++;else if(V<z.length)return!1;for(;V<z.length;V++){var H=_[z[V]];if(!c(H))break;if(_=H,V===z.length-1)break;if(_._isLinkedToArray){if(!C(z[++V]))return!1}else if("info_array"===_.valType){var U=z[++V];if(!C(U))return!1;var G=_.items;if(Array.isArray(G)){if(U>=G.length)return!1;if(2===_.dimensions){if(V++,z.length===V)return _;var Y=z[V];if(!C(Y))return!1;_=G[U][Y]}else _=G[U]}else _=G}}return _}function C(_){return _===Math.round(_)&&_>=0}function L(){var z,V,_={};for(z in n(_,R),S.subplotsRegistry)if((V=S.subplotsRegistry[z]).layoutAttributes)if(Array.isArray(V.attr))for(var H=0;H<V.attr.length;H++)B(_,V,V.attr[H]);else B(_,V,"subplot"===V.attr?V.name:V.attr);for(z in S.componentsRegistry){var G=(V=S.componentsRegistry[z]).schema;if(G&&(G.subplots||G.layout)){var Y=G.subplots;if(Y&&Y.xaxis&&!Y.yaxis)for(var ee in Y.xaxis)delete _.yaxis[ee];delete _.xaxis.shift,delete _.xaxis.autoshift}else"colorscale"===V.name?n(_,V.layoutAttributes):V.layoutAttributes&&F(_,V.layoutAttributes,V.name)}return{layoutAttributes:M(_)}}function E(){var _={frames:n({},I)};return M(_),_.frames}function M(_){return function i(_){function z(H){return{valType:"string",editType:"none"}}function V(H,U,G){J.isValObject(H)?(!0===H.arrayOk||"data_array"===H.valType)&&(G[U+"src"]=z(U)):c(H)&&(H.role="object")}J.crawl(_,V)}(_),function D(_){function z(V,H,U){if(V){var G=V[b];G&&(delete V[b],U[H]={items:{}},U[H].items[G]=V,U[H].role="object")}}J.crawl(_,z)}(_),function y(_){function z(V){for(var H in V)if(c(V[H]))z(V[H]);else if(Array.isArray(V[H]))for(var U=0;U<V[H].length;U++)z(V[H][U]);else V[H]instanceof RegExp&&(V[H]=V[H].toString())}z(_)}(_),_}function B(_,z,V){var H=f(_,V),U=n({},z.layoutAttributes);U[d]=!0,H.set(U)}function F(_,z,V){var H=f(_,V);H.set(n(H.get()||{},z))}J.IS_SUBPLOT_OBJ=d,J.IS_LINKED_TO_ARRAY=b,J.DEPRECATED=A,J.UNDERSCORE_ATTRS=m,J.get=function(){var _={};S.allTypes.forEach(function(V){_[V]=function T(_){var z,V;V=(z=S.modules[_]._module).basePlotModule;var H={type:null},U=n({},l),G=n({},z.attributes);J.crawl(G,function(ue,ce,pe,te,Q){f(U,Q).set(void 0),void 0===ue&&f(G,Q).set(void 0)}),n(H,U),S.traceIs(_,"noOpacity")&&delete H.opacity,S.traceIs(_,"showLegend")||(delete H.showlegend,delete H.legendgroup),S.traceIs(_,"noHover")&&(delete H.hoverinfo,delete H.hoverlabel),z.selectPoints||delete H.selectedpoints,n(H,G),V.attributes&&n(H,V.attributes),H.type=_;var Y={meta:z.meta||{},categories:z.categories||{},animatable:!!z.animatable,type:_,attributes:M(H)};if(z.layoutAttributes){var ee={};n(ee,z.layoutAttributes),Y.layoutAttributes=M(ee)}return z.animatable||J.crawl(Y,function(ue){J.isValObject(ue)&&"anim"in ue&&delete ue.anim}),Y}(V)});var z={};return Object.keys(S.transformsRegistry).forEach(function(V){z[V]=function x(_){var V=n({},S.transformsRegistry[_].attributes);return Object.keys(S.componentsRegistry).forEach(function(H){var U=S.componentsRegistry[H];U.schema&&U.schema.transforms&&U.schema.transforms[_]&&Object.keys(U.schema.transforms[_]).forEach(function(G){F(V,U.schema.transforms[_][G],G)})}),{attributes:M(V)}}(V)}),{defs:{valObjects:h,metaKeys:m.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:_,layout:L(),transforms:z,frames:E(),animation:M(v),config:M(w)}},J.crawl=function(_,z,V,H){var U=V||0;H=H||"",Object.keys(_).forEach(function(G){var Y=_[G];if(-1===m.indexOf(G)){var ee=(H?H+".":"")+G;z(Y,G,_,U,ee),!J.isValObject(Y)&&c(Y)&&"impliedEdits"!==G&&J.crawl(Y,z,U+1,ee)}})},J.isValObject=function(_){return _&&void 0!==_.valType},J.findArrayAttributes=function(_){var U,G,z=[],V=[],H=[];function Y(Q,K,Z,q){V=V.slice(0,q).concat([K]),H=H.slice(0,q).concat([Q&&Q._isLinkedToArray]),Q&&("data_array"===Q.valType||!0===Q.arrayOk)&&("colorbar"!==V[q-1]||"ticktext"!==K&&"tickvals"!==K)&&ee(U,0,"")}function ee(Q,K,Z){var q=Q[V[K]],fe=Z+V[K];if(K===V.length-1)o(q)&&z.push(G+fe);else if(H[K]){if(Array.isArray(q))for(var re=0;re<q.length;re++)c(q[re])&&ee(q[re],K+1,fe+"["+re+"].")}else c(q)&&ee(q,K+1,fe+".")}U=_,G="",J.crawl(l,Y),_._module&&_._module.attributes&&J.crawl(_._module.attributes,Y);var ue=_.transforms;if(ue)for(var ce=0;ce<ue.length;ce++){var pe=ue[ce],te=pe._module;te&&(G="transforms["+ce+"].",U=pe,J.crawl(te.attributes,Y))}return z},J.getTraceValObject=function(_,z){var U,G,V=z[0],H=1;if("transforms"===V){if(1===z.length)return l.transforms;var Y=_.transforms;if(!Array.isArray(Y)||!Y.length)return!1;var ee=z[1];if(!C(ee)||ee>=Y.length)return!1;G=(U=(S.transformsRegistry[Y[ee].type]||{}).attributes)&&U[z[2]],H=3}else{var ue=_._module;if(ue||(ue=(S.modules[_.type||l.type.dflt]||{})._module),!ue)return!1;if(!(G=(U=ue.attributes)&&U[V])){var ce=ue.basePlotModule;ce&&ce.attributes&&(G=ce.attributes[V])}G||(G=l[V])}return g(G,z,H)},J.getLayoutValObject=function(_,z){return g(function u(_,z){var V,H,U,G,Y=_._basePlotModules;if(Y){var ee;for(V=0;V<Y.length;V++){if((U=Y[V]).attrRegex&&U.attrRegex.test(z)){if(U.layoutAttrOverrides)return U.layoutAttrOverrides;!ee&&U.layoutAttributes&&(ee=U.layoutAttributes)}var ue=U.baseLayoutAttrOverrides;if(ue&&z in ue)return ue[z]}if(ee)return ee}var ce=_._modules;if(ce)for(V=0;V<ce.length;V++)if((G=ce[V].layoutAttributes)&&z in G)return G[z];for(H in S.componentsRegistry){if("colorscale"===(U=S.componentsRegistry[H]).name&&0===z.indexOf("coloraxis"))return U.layoutAttributes[z];if(!U.schema&&z===U.name)return U.layoutAttributes}return z in R&&R[z]}(_,z[0]),z,1)}},44467:function(oe,J,t){"use strict";var S=t(71828),k=t(9012),l="templateitemname",R={name:{valType:"string",editType:"none"}};function I(w){return w&&"string"==typeof w}function v(w){return"s"!==w.charAt(w.length-1)&&S.warn("bad argument to arrayDefaultKey: "+w),w.substr(0,w.length-1)+"defaults"}R[l]={valType:"string",editType:"calc"},J.templatedArray=function(w,r){return r._isLinkedToArray=w,r.name=R.name,r[l]=R[l],r},J.traceTemplater=function(w){var n,c,r={};for(n in w)c=w[n],Array.isArray(c)&&c.length&&(r[n]=0);return{newTrace:function o(f){var h={type:n=S.coerce(f,{},k,"type"),_template:null};if(n in r){var d=r[n]%(c=w[n]).length;r[n]++,h._template=c[d]}return h}}},J.newContainer=function(w,r,n){var c=w._template,o=c&&(c[r]||n&&c[n]);return S.isPlainObject(o)||(o=null),w[r]={_template:o}},J.arrayTemplater=function(w,r,n){var c=w._template,o=c&&c[v(r)],f=c&&c[r];(!Array.isArray(f)||!f.length)&&(f=[]);var h={};return{newItem:function d(p){var A={name:p.name,_input:p},m=A[l]=p[l];if(!I(m))return A._template=o,A;for(var u=0;u<f.length;u++){var g=f[u];if(g.name===m)return h[m]=1,A._template=g,A}return A[n]=p[n]||!1,A._template=!1,A},defaultItems:function b(){for(var p=[],A=0;A<f.length;A++){var m=f[A],u=m.name;if(I(u)&&!h[u]){var g={_template:m,name:u,_input:{_templateitemname:u}};g[l]=m[l],p.push(g),h[u]=1}}return p}}},J.arrayDefaultKey=v,J.arrayEditor=function(w,r,n){var c=(S.nestedProperty(w,r).get()||[]).length,o=n._index,f=o>=c&&(n._input||{})._templateitemname;f&&(o=c);var d,h=r+"["+o+"]";function b(){d={},f&&(d[h]={},d[h][l]=f)}function A(g,C){f?S.nestedProperty(d[h],g).set(C):d[h+"."+g]=C}function m(){var g=d;return b(),g}return b(),{modifyBase:function p(g,C){d[g]=C},modifyItem:A,getUpdateObj:m,applyUpdate:function u(g,C){g&&A(g,C);var T=m();for(var L in T)S.nestedProperty(w,L).set(T[L])}}}},61549:function(oe,J,t){"use strict";var S=t(39898),k=t(73972),l=t(74875),R=t(71828),I=t(63893),v=t(33306),w=t(7901),r=t(91424),n=t(92998),c=t(64168),o=t(89298),f=t(18783),h=t(99082),d=h.enforce,b=h.clean,p=t(71739).doAutoRange,A="start";function g(V,H,U){for(var G=0;G<U.length;G++){var Y=U[G][0],ee=U[G][1];if(!(Y[0]>=V[1]||Y[1]<=V[0])&&ee[0]<H[1]&&ee[1]>H[0])return!0}return!1}function C(V){var ee,ue,ce,pe,te,Q,H=V._fullLayout,U=H._size,G=U.p,Y=o.list(V,"",!0);if(H._paperdiv.style({width:V._context.responsive&&H.autosize&&!V._context._hasZeroWidth&&!V.layout.width?"100%":H.width+"px",height:V._context.responsive&&H.autosize&&!V._context._hasZeroHeight&&!V.layout.height?"100%":H.height+"px"}).selectAll(".main-svg").call(r.setSize,H.width,H.height),V._context.setBackground(V,H.paper_bgcolor),J.drawMainTitle(V),c.manage(V),!H._has("cartesian"))return l.previousPromises(V);function K(Ye,Ue,De){var ge=Ye._lw/2;return"x"===Ye._id.charAt(0)?Ue?"top"===De?Ue._offset-G-ge:Ue._offset+Ue._length+G+ge:U.t+U.h*(1-(Ye.position||0))+ge%1:Ue?"right"===De?Ue._offset+Ue._length+G+ge:Ue._offset-G-ge:U.l+U.w*(Ye.position||0)+ge%1}for(ee=0;ee<Y.length;ee++){var Z=(pe=Y[ee])._anchorAxis;pe._linepositions={},pe._lw=r.crispRound(V,pe.linewidth,1),pe._mainLinePosition=K(pe,Z,pe.side),pe._mainMirrorPosition=pe.mirror&&Z?K(pe,Z,f.OPPOSITE_SIDE[pe.side]):null}var q=[],fe=[],re=[],$=1===w.opacity(H.paper_bgcolor)&&1===w.opacity(H.plot_bgcolor)&&H.paper_bgcolor===H.plot_bgcolor;for(ue in H._plots)if((ce=H._plots[ue]).mainplot)ce.bg&&ce.bg.remove(),ce.bg=void 0;else{var le=ce.xaxis.domain,se=ce.yaxis.domain,de=ce.plotgroup;if(g(le,se,re)){var we=de.node(),Ee=ce.bg=R.ensureSingle(de,"rect","bg");we.insertBefore(Ee.node(),we.childNodes[0]),fe.push(ue)}else de.select("rect.bg").remove(),re.push([le,se]),$||(q.push(ue),fe.push(ue))}var Ie,Je,Qe,ze,Ke,ut,ot,We,je,lt,vt,pt,St,Me=H._bgLayer.selectAll(".bg").data(q);for(Me.enter().append("rect").classed("bg",!0),Me.exit().remove(),Me.each(function(Ye){H._plots[Ye].bg=S.select(this)}),ee=0;ee<fe.length;ee++)te=(ce=H._plots[fe[ee]]).xaxis,Q=ce.yaxis,ce.bg&&void 0!==te._offset&&void 0!==Q._offset&&ce.bg.call(r.setRect,te._offset-G,Q._offset-G,te._length+2*G,Q._length+2*G).call(w.fill,H.plot_bgcolor).style("stroke-width",0);if(!H._hasOnlyLargeSploms)for(ue in H._plots){te=(ce=H._plots[ue]).xaxis,Q=ce.yaxis;var Pe,Ce,Ne=ce.clipId="clip"+H._uid+ue+"plot",Ve=R.ensureSingleById(H._clips,"clipPath",Ne,function(Ye){Ye.classed("plotclip",!0).append("rect")});ce.clipRect=Ve.select("rect").attr({width:te._length,height:Q._length}),r.setTranslate(ce.plot,te._offset,Q._offset),ce._hasClipOnAxisFalse?(Pe=null,Ce=Ne):(Pe=Ne,Ce=null),r.setClipUrl(ce.plot,Pe,V),ce.layerClipId=Ce}function Ct(Ye){return"M"+Ie+","+Ye+"H"+Je}function _t(Ye){return"M"+te._offset+","+Ye+"h"+te._length}function nt(Ye){return"M"+Ye+","+We+"V"+ot}function ke(Ye){return void 0!==Q._shift&&(Ye+=Q._shift),"M"+Ye+","+Q._offset+"v"+Q._length}function Re(Ye,Ue,De){if(!Ye.showline||ue!==Ye._mainSubplot)return"";if(!Ye._anchorAxis)return De(Ye._mainLinePosition);var ge=Ue(Ye._mainLinePosition);return Ye.mirror&&(ge+=Ue(Ye._mainMirrorPosition)),ge}for(ue in H._plots){Q=(ce=H._plots[ue]).yaxis;var Be="M0,0";T(te=ce.xaxis,ue)&&(Ke=x(te,"left",Q,Y),Ie=te._offset-(Ke?G+Ke:0),ut=x(te,"right",Q,Y),Je=te._offset+te._length+(ut?G+ut:0),Qe=K(te,Q,"bottom"),ze=K(te,Q,"top"),(St=!te._anchorAxis||ue!==te._mainSubplot)&&("allticks"===te.mirror||"all"===te.mirror)&&(te._linepositions[ue]=[Qe,ze]),Be=Re(te,Ct,_t),St&&te.showline&&("all"===te.mirror||"allticks"===te.mirror)&&(Be+=Ct(Qe)+Ct(ze)),ce.xlines.style("stroke-width",te._lw+"px").call(w.stroke,te.showline?te.linecolor:"rgba(0,0,0,0)")),ce.xlines.attr("d",Be);var He="M0,0";T(Q,ue)&&(vt=x(Q,"bottom",te,Y),ot=Q._offset+Q._length+(vt?G:0),pt=x(Q,"top",te,Y),We=Q._offset-(pt?G:0),je=K(Q,te,"left"),lt=K(Q,te,"right"),(St=!Q._anchorAxis||ue!==Q._mainSubplot)&&("allticks"===Q.mirror||"all"===Q.mirror)&&(Q._linepositions[ue]=[je,lt]),He=Re(Q,nt,ke),St&&Q.showline&&("all"===Q.mirror||"allticks"===Q.mirror)&&(He+=nt(je)+nt(lt)),ce.ylines.style("stroke-width",Q._lw+"px").call(w.stroke,Q.showline?Q.linecolor:"rgba(0,0,0,0)")),ce.ylines.attr("d",He)}return o.makeClipPaths(V),l.previousPromises(V)}function T(V,H){return(V.ticks||V.showline)&&(H===V._mainSubplot||"all"===V.mirror||"allticks"===V.mirror)}function L(V,H,U){if(!U.showline||!U._lw)return!1;if("all"===U.mirror||"allticks"===U.mirror)return!0;var G=U._anchorAxis;if(!G)return!1;var Y=f.FROM_BL[H];return U.side===H?G.domain[Y]===V.domain[Y]:U.mirror&&G.domain[1-Y]===V.domain[1-Y]}function x(V,H,U,G){if(L(V,H,U))return U._lw;for(var Y=0;Y<G.length;Y++){var ee=G[Y];if(ee._mainAxis===U._mainAxis&&L(V,H,ee))return ee._lw}return 0}function D(V,H,U,G){var Y="title.automargin",ee=V._fullLayout.title,ue=ee.y>.5?"t":"b",ce={x:ee.x,y:ee.y,t:0,b:0},pe={};"paper"===ee.yref&&function E(V,H,U,G,Y){var ee="paper"===H.yref?V._fullLayout._size.h:V._fullLayout.height,ue=R.isTopAnchor(H)?G:G-Y,ce="b"===U?ee-ue:ue;return!(R.isTopAnchor(H)&&"t"===U||R.isBottomAnchor(H)&&"b"===U)&&ce<Y}(V,ee,ue,H,G)?ce[ue]=U:"container"===ee.yref&&(pe[ue]=U,V._fullLayout._reservedMargin[Y]=pe),l.allowAutoMargin(V,Y),l.autoMargin(V,Y,ce)}function F(V){return"top"===V?f.CAP_SHIFT+.3+"em":"bottom"===V?"-0.3em":f.MID_SHIFT+"em"}J.layoutStyles=function(V){return R.syncOrAsync([l.doAutoMargin,C],V)},J.drawMainTitle=function(V){var H=V._fullLayout.title,U=V._fullLayout,G=function _(V){var H=V.title,U="middle";return R.isRightAnchor(H)?U="end":R.isLeftAnchor(H)&&(U=A),U}(U),Y=function z(V){var H=V.title,U="0em";return R.isTopAnchor(H)?U=f.CAP_SHIFT+"em":R.isMiddleAnchor(H)&&(U=f.MID_SHIFT+"em"),U}(U),ee=function B(V,H){var U=V.title,G=V._size,Y=0;return"0em"!==H&&H?H===f.CAP_SHIFT+"em"&&(Y=U.pad.t):Y=-U.pad.b,"auto"===U.y?G.t/2:"paper"===U.yref?G.t+G.h-G.h*U.y+Y:V.height-V.height*U.y+Y}(U,Y),ue=function y(V,H){var U=V.title,G=V._size,Y=0;return"paper"===(H===A?Y=U.pad.l:"end"===H&&(Y=-U.pad.r),U.xref)?G.l+G.w*U.x+Y:V.width*U.x+Y}(U,G);if(n.draw(V,"gtitle",{propContainer:U,propName:"title.text",placeholder:U._dfltTitle.plot,attributes:{x:ue,y:ee,"text-anchor":G,dy:Y}}),H.text&&H.automargin){var ce=S.selectAll(".gtitle"),pe=r.bBox(ce.node()).height,te=function i(V,H,U){var G=H.y,ee=G>.5?"t":"b",ue=V._fullLayout.margin[ee],ce=0;return"paper"===H.yref?ce=U+H.pad.t+H.pad.b:"container"===H.yref&&(ce=function M(V,H,U,G,Y){var ee=0;return"middle"===U&&(ee+=Y/2),"t"===V?("top"===U&&(ee+=Y),ee+=G-H*G):("bottom"===U&&(ee+=Y),ee+=H*G),ee}(ee,G,H.yanchor,V._fullLayout.height,U)+H.pad.t+H.pad.b),ce>ue?ce:0}(V,H,pe);te>0&&(D(V,ee,te,pe),ce.attr({x:ue,y:ee,"text-anchor":G,dy:F(H.yanchor)}).call(I.positionText,ue,ee))}},J.doTraceStyle=function(V){var G,H=V.calcdata,U=[];for(G=0;G<H.length;G++){var Y=H[G],ee=Y[0]||{},ue=ee.trace||{},ce=ue._module||{},pe=ce.arraysToCalcdata;pe&&pe(Y,ue);var te=ce.editStyle;te&&U.push({fn:te,cd0:ee})}if(U.length){for(G=0;G<U.length;G++){var Q=U[G];Q.fn(V,Q.cd0)}v(V),J.redrawReglTraces(V)}return l.style(V),k.getComponentMethod("legend","draw")(V),l.previousPromises(V)},J.doColorBars=function(V){return k.getComponentMethod("colorbar","draw")(V),l.previousPromises(V)},J.layoutReplot=function(V){var H=V.layout;return V.layout=void 0,k.call("_doPlot",V,"",H)},J.doLegend=function(V){return k.getComponentMethod("legend","draw")(V),l.previousPromises(V)},J.doTicksRelayout=function(V){return o.draw(V,"redraw"),V._fullLayout._hasOnlyLargeSploms&&(k.subplotsRegistry.splom.updateGrid(V),v(V),J.redrawReglTraces(V)),J.drawMainTitle(V),l.previousPromises(V)},J.doModeBar=function(V){var H=V._fullLayout;c.manage(V);for(var U=0;U<H._basePlotModules.length;U++){var G=H._basePlotModules[U].updateFx;G&&G(V)}return l.previousPromises(V)},J.doCamera=function(V){for(var H=V._fullLayout,U=H._subplots.gl3d,G=0;G<U.length;G++){var Y=H[U[G]];Y._scene.setViewport(Y)}},J.drawData=function(V){var H=V._fullLayout;v(V);for(var U=H._basePlotModules,G=0;G<U.length;G++)U[G].plot(V);return J.redrawReglTraces(V),l.style(V),k.getComponentMethod("selections","draw")(V),k.getComponentMethod("shapes","draw")(V),k.getComponentMethod("annotations","draw")(V),k.getComponentMethod("images","draw")(V),H._replotting=!1,l.previousPromises(V)},J.redrawReglTraces=function(V){var H=V._fullLayout;if(H._has("regl")){var ee,ue,U=V._fullData,G=[],Y=[];for(H._hasOnlyLargeSploms&&H._splomGrid.draw(),ee=0;ee<U.length;ee++){var ce=U[ee];!0===ce.visible&&0!==ce._length&&("splom"===ce.type?H._splomScenes[ce.uid].draw():"scattergl"===ce.type?R.pushUnique(G,ce.xaxis+ce.yaxis):"scatterpolargl"===ce.type&&R.pushUnique(Y,ce.subplot))}for(ee=0;ee<G.length;ee++)(ue=H._plots[G[ee]])._scene&&ue._scene.draw();for(ee=0;ee<Y.length;ee++)(ue=H[Y[ee]]._subplot)._scene&&ue._scene.draw()}},J.doAutoRangeAndConstraints=function(V){for(var U,H=o.list(V,"",!0),G={},Y=0;Y<H.length;Y++)if(!G[(U=H[Y])._id]){G[U._id]=1,b(V,U),p(V,U);var ee=U._matchGroup;if(ee)for(var ue in ee){var ce=o.getFromId(V,ue);p(V,ce,U.range),G[ue]=1}}d(V)},J.finalDraw=function(V){k.getComponentMethod("rangeslider","draw")(V),k.getComponentMethod("rangeselector","draw")(V)},J.drawMarginPushers=function(V){k.getComponentMethod("legend","draw")(V),k.getComponentMethod("rangeselector","draw")(V),k.getComponentMethod("sliders","draw")(V),k.getComponentMethod("updatemenus","draw")(V),k.getComponentMethod("colorbar","draw")(V)}},96318:function(oe,J,t){"use strict";var S=t(71828),k=S.isPlainObject,l=t(86281),R=t(74875),I=t(9012),v=t(44467),w=t(72075).dfltConfig;function r(p,A){p=S.extendDeep({},p);var u,g,m=Object.keys(p).sort();function C(M,i,D){if(k(i)&&k(M))r(M,i);else if(Array.isArray(i)&&Array.isArray(M)){var y=v.arrayTemplater({_template:p},D);for(g=0;g<i.length;g++){var B=i[g],F=y.newItem(B)._template;F&&r(F,B)}var _=y.defaultItems();for(g=0;g<_.length;g++)i.push(_[g]._template);for(g=0;g<i.length;g++)delete i[g].templateitemname}}for(u=0;u<m.length;u++){var T=m[u],L=p[T];if(T in A?C(L,A[T],T):A[T]=L,n(T)===T)for(var x in A){var E=n(x);x!==E&&E===T&&!(x in p)&&C(L,A[x],T)}}}function n(p){return p.replace(/[0-9]+$/,"")}function c(p,A,m,u,g){var C=g&&m(g);for(var T in p){var L=p[T],x=h(p,T,u),E=h(p,T,g),M=m(E);if(!M){var i=n(T);i!==T&&(M=m(E=h(p,i,g)))}if(!(C&&C===M||!M||M._noTemplating||"data_array"===M.valType||M.arrayOk&&Array.isArray(L)))if(!M.valType&&k(L))c(L,A,m,x,E);else if(M._isLinkedToArray&&Array.isArray(L))for(var D=!1,y=0,B={},F=0;F<L.length;F++){var _=L[F];if(k(_)){var z=_.name;if(z)B[z]||(c(_,A,m,h(L,y,x),h(L,y,E)),y++,B[z]=1);else if(!D){var H=h(p,v.arrayDefaultKey(T),u),U=h(L,y,x);c(_,A,m,U,h(L,y,E));var G=S.nestedProperty(A,U);S.nestedProperty(A,H).set(G.get()),G.set(null),D=!0}}}else S.nestedProperty(A,x).set(L)}}function o(p,A){return l.getLayoutValObject(p,S.nestedProperty({},A).parts)}function f(p,A){return l.getTraceValObject(p,S.nestedProperty({},A).parts)}function h(p,A,m){return m?Array.isArray(p)?m+"["+A+"]":m+"."+A:A}function d(p){for(var A=0;A<p.length;A++)if(k(p[A]))return!0}function b(p){var A;switch(p.code){case"data":A="The template has no key data.";break;case"layout":A="The template has no key layout.";break;case"missing":A=p.path?"There are no templates for item "+p.path+" with name "+p.templateitemname:"There are no templates for trace "+p.index+", of type "+p.traceType+".";break;case"unused":A=p.path?"The template item at "+p.path+" was not used in constructing the plot.":p.dataCount?"Some of the templates of type "+p.traceType+" were not used. The template has "+p.templateCount+" traces, the data only has "+p.dataCount+" of this type.":"The template has "+p.templateCount+" traces of type "+p.traceType+" but there are none in the data.";break;case"reused":A="Some of the templates of type "+p.traceType+" were used more than once. The template has "+p.templateCount+" traces, the data has "+p.dataCount+" of this type."}return p.msg=A,p}J.makeTemplate=function(p){p=S.isPlainObject(p)?p:S.getGraphDiv(p),p=S.extendDeep({_context:w},{data:p.data,layout:p.layout}),R.supplyDefaults(p);var A=p.data||[],m=p.layout||{};m._basePlotModules=p._fullLayout._basePlotModules,m._modules=p._fullLayout._modules;var u={data:{},layout:{}};A.forEach(function(y){var B={};c(y,B,f.bind(null,y));var F=S.coerce(y,{},I,"type"),_=u.data[F];_||(_=u.data[F]=[]),_.push(B)}),c(m,u.layout,o.bind(null,m)),delete u.layout.template;var g=m.template;if(k(g)){var T,L,x,E,M,i,C=g.layout;k(C)&&r(C,u.layout);var D=g.data;if(k(D)){for(L in u.data)if(x=D[L],Array.isArray(x)){for(i=(M=u.data[L]).length,E=x.length,T=0;T<i;T++)r(x[T%E],M[T]);for(T=i;T<E;T++)M.push(S.extendDeep({},x[T]))}for(L in D)L in u.data||(u.data[L]=S.extendDeep([],D[L]))}}return u},J.validateTemplate=function(p,A){var m=S.extendDeep({},{_context:w,data:p.data,layout:p.layout}),u=m.layout||{};k(A)||(A=u.template||{});var g=A.layout,C=A.data,T=[];m.layout=u,m.layout.template=A,R.supplyDefaults(m);var L=m._fullLayout,x=m._fullData,E={};if(k(g)?(function M(H,U){for(var G in H)if("_"!==G.charAt(0)&&k(H[G])){var ue,Y=n(G),ee=[];for(ue=0;ue<U.length;ue++)ee.push(h(H,G,U[ue])),Y!==G&&ee.push(h(H,Y,U[ue]));for(ue=0;ue<ee.length;ue++)E[ee[ue]]=1;M(H[G],ee)}}(L,["layout"]),function i(H,U){for(var G in H)if(-1===G.indexOf("defaults")&&k(H[G])){var Y=h(H,G,U);E[Y]?i(H[G],Y):T.push({code:"unused",path:Y})}}(g,"layout")):T.push({code:"layout"}),k(C)){for(var y,D={},B=0;B<x.length;B++){var F=x[B];D[y=F.type]=(D[y]||0)+1,F._fullInput._template||T.push({code:"missing",index:F._fullInput.index,traceType:y})}for(y in C){var _=C[y].length,z=D[y]||0;_>z?T.push({code:"unused",traceType:y,templateCount:_,dataCount:z}):z>_&&T.push({code:"reused",traceType:y,templateCount:_,dataCount:z})}}else T.push({code:"data"});if(function V(H,U){for(var G in H)if("_"!==G.charAt(0)){var Y=H[G],ee=h(H,G,U);k(Y)?(Array.isArray(H)&&!1===Y._template&&Y.templateitemname&&T.push({code:"missing",path:ee,templateitemname:Y.templateitemname}),V(Y,ee)):Array.isArray(Y)&&d(Y)&&V(Y,ee)}}({data:x,layout:L},""),T.length)return T.map(b)}},403:function(oe,J,t){"use strict";var S=t(92770),k=t(72391),l=t(74875),R=t(71828),I=t(25095),v=t(5900),w=t(70942),r=t(11506).version,n={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};oe.exports=function c(o,f){var h,d,b,p;function A(z){return!(z in f)||R.validate(f[z],n[z])}if(f=f||{},R.isPlainObject(o)?(h=o.data||[],d=o.layout||{},b=o.config||{},p={}):(o=R.getGraphDiv(o),h=R.extendDeep([],o.data),d=R.extendDeep({},o.layout),b=o._context,p=o._fullLayout||{}),!A("width")&&null!==f.width||!A("height")&&null!==f.height)throw new Error("Height and width should be pixel values.");if(!A("format"))throw new Error("Export format is not "+R.join2(n.format.values,", "," or ")+".");var m={};function u(z,V){return R.coerce(f,m,n,z,V)}var g=u("format"),C=u("width"),T=u("height"),L=u("scale"),x=u("setBackground"),E=u("imageDataOnly"),M=document.createElement("div");M.style.position="absolute",M.style.left="-5000px",document.body.appendChild(M);var i=R.extendFlat({},d);C?i.width=C:null===f.width&&S(p.width)&&(i.width=p.width),T?i.height=T:null===f.height&&S(p.height)&&(i.height=p.height);var D=R.extendFlat({},b,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),y=I.getRedrawFunc(M);function B(){return new Promise(function(z){setTimeout(z,I.getDelay(M._fullLayout))})}function F(){return new Promise(function(z,V){var H=v(M,g,L),U=M._fullLayout.width,G=M._fullLayout.height;function Y(){k.purge(M),document.body.removeChild(M)}if("full-json"===g){var ee=l.graphJson(M,!1,"keepdata","object",!0,!0);return ee.version=r,ee=JSON.stringify(ee),Y(),z(E?ee:I.encodeJSON(ee))}if(Y(),"svg"===g)return z(E?H:I.encodeSVG(H));var ue=document.createElement("canvas");ue.id=R.randstr(),w({format:g,width:U,height:G,scale:L,canvas:ue,svg:H,promise:!0}).then(z).catch(V)})}return new Promise(function(z,V){k.newPlot(M,h,i,D).then(y).then(B).then(F).then(function(H){z(function _(z){return E?z.replace(I.IMAGE_URL_PREFIX,""):z}(H))}).catch(function(H){V(H)})})}},84936:function(oe,J,t){"use strict";var S=t(71828),k=t(74875),l=t(86281),R=t(72075).dfltConfig,I=S.isPlainObject,v=Array.isArray,w=S.isArrayOrTypedArray;function r(m,u,g,C,T,L){L=L||[];for(var x=Object.keys(m),E=0;E<x.length;E++){var M=x[E];if("transforms"!==M){var i=L.slice();i.push(M);var D=m[M],y=u[M],B=d(g,M),F=(B||{}).valType,_="info_array"===F,z="colorscale"===F,V=(B||{}).items;if(h(g,M))if(I(D)&&I(y)&&"any"!==F)r(D,y,B,C,T,i);else if(_&&v(D)){D.length>y.length&&C.push(f("unused",T,i.concat(y.length)));var G,Y,ue,ce,H=y.length,U=Array.isArray(V);if(U&&(H=Math.min(H,V.length)),2===B.dimensions)for(Y=0;Y<H;Y++)if(v(D[Y])){D[Y].length>y[Y].length&&C.push(f("unused",T,i.concat(Y,y[Y].length)));var pe=y[Y].length;for(G=0;G<(U?Math.min(pe,V[Y].length):pe);G++)ce=y[Y][G],S.validate(ue=D[Y][G],U?V[Y][G]:V)?ce!==ue&&ce!==+ue&&C.push(f("dynamic",T,i.concat(Y,G),ue,ce)):C.push(f("value",T,i.concat(Y,G),ue))}else C.push(f("array",T,i.concat(Y),D[Y]));else for(Y=0;Y<H;Y++)ce=y[Y],S.validate(ue=D[Y],U?V[Y]:V)?ce!==ue&&ce!==+ue&&C.push(f("dynamic",T,i.concat(Y),ue,ce)):C.push(f("value",T,i.concat(Y),ue))}else if(B.items&&!_&&v(D)){var K,Z,te=V[Object.keys(V)[0]],Q=[];for(K=0;K<y.length;K++){var q=y[K]._index||K;if((Z=i.slice()).push(q),I(D[q])&&I(y[K])){Q.push(q);var fe=D[q],re=y[K];I(fe)&&!1!==fe.visible&&!1===re.visible?C.push(f("invisible",T,Z)):r(fe,re,te,C,T,Z)}}for(K=0;K<D.length;K++)(Z=i.slice()).push(K),I(D[K])?-1===Q.indexOf(K)&&C.push(f("unused",T,Z)):C.push(f("object",T,Z,D[K]))}else!I(D)&&I(y)?C.push(f("object",T,i,D)):w(D)||!w(y)||_||z?M in u?S.validate(D,B)?"enumerated"===B.valType&&(B.coerceNumber&&D!==+y||D!==y)&&C.push(f("dynamic",T,i,D,y)):C.push(f("value",T,i,D)):C.push(f("unused",T,i,D)):C.push(f("array",T,i,D));else C.push(f("schema",T,i))}}return C}oe.exports=function(u,g){void 0===u&&(u=[]),void 0===g&&(g={});var x,E,C=l.get(),T=[],L={_context:S.extendFlat({},R)};v(u)?(L.data=S.extendDeep([],u),x=u):(L.data=[],x=[],T.push(f("array","data"))),I(g)?(L.layout=S.extendDeep({},g),E=g):(L.layout={},E={},arguments.length>1&&T.push(f("object","layout"))),k.supplyDefaults(L);for(var M=L._fullData,i=x.length,D=0;D<i;D++){var y=x[D],B=["data",D];if(I(y)){var F=M[D],_=F.type,z=C.traces[_].attributes;z.type={valType:"enumerated",values:[_]},!1===F.visible&&!1!==y.visible&&T.push(f("invisible",B)),r(y,F,z,T,B);var V=y.transforms,H=F.transforms;if(V){v(V)||T.push(f("array",B,["transforms"])),B.push("transforms");for(var U=0;U<V.length;U++){var G=["transforms",U],Y=V[U].type;if(I(V[U])){var ee=C.transforms[Y]?C.transforms[Y].attributes:{};ee.type={valType:"enumerated",values:Object.keys(C.transforms)},r(V[U],H[U],ee,T,B,G)}else T.push(f("object",B,G))}}}else T.push(f("object",B))}return r(E,L._fullLayout,function n(m,u){for(var g=m.layout.layoutAttributes,C=0;C<u.length;C++){var T=u[C],L=m.traces[T.type],x=L.layoutAttributes;x&&S.extendFlat(T.subplot?g[L.attributes.subplot.dflt]:g,x)}return g}(C,M),T,"layout"),0===T.length?void 0:T};var c={object:function(m,u){return("layout"===m&&""===u?"The layout argument":"data"===m[0]&&""===u?"Trace "+m[1]+" in the data argument":o(m)+"key "+u)+" must be linked to an object container"},array:function(m,u){return("data"===m?"The data argument":o(m)+"key "+u)+" must be linked to an array container"},schema:function(m,u){return o(m)+"key "+u+" is not part of the schema"},unused:function(m,u,g){var C=I(g)?"container":"key";return o(m)+C+" "+u+" did not get coerced"},dynamic:function(m,u,g,C){return[o(m)+"key",u,"(set to '"+g+"')","got reset to","'"+C+"'","during defaults."].join(" ")},invisible:function(m,u){return(u?o(m)+"item "+u:"Trace "+m[1])+" got defaulted to be not visible"},value:function(m,u,g){return[o(m)+"key "+u,"is set to an invalid value ("+g+")"].join(" ")}};function o(m){return v(m)?"In data trace "+m[1]+", ":"In "+m+", "}function f(m,u,g,C,T){var L,x;g=g||"",v(u)?(L=u[0],x=u[1]):(L=u,x=null);var E=function A(m){if(!v(m))return String(m);for(var u="",g=0;g<m.length;g++){var C=m[g];"number"==typeof C?u=u.substr(0,u.length-1)+"["+C+"]":u+=C,g<m.length-1&&(u+=".")}return u}(g),M=c[m](u,E,C,T);return S.log(M),{code:m,container:L,trace:x,path:g,astr:E,msg:M}}function h(m,u){var g=p(u),C=g.keyMinusId;return!!(C in m&&m[C]._isSubplotObj&&g.id)||u in m}function d(m,u){return u in m?m[u]:m[p(u).keyMinusId]}var b=S.counterRegex("([a-z]+)");function p(m){var u=m.match(b);return{keyMinusId:u&&u[1],id:u&&u[2]}}},85594:function(oe){"use strict";oe.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(oe,J,t){"use strict";var S=t(71828),k=t(44467);oe.exports=function(R,I,v){var h,d,w=v.name,r=v.inclusionAttr||"visible",n=I[w],c=S.isArrayOrTypedArray(R[w])?R[w]:[],o=I[w]=[],f=k.arrayTemplater(I,w,r);for(h=0;h<c.length;h++){var b=c[h];S.isPlainObject(b)?d=f.newItem(b):(d=f.newItem({}))[r]=!1,d._index=h,!1!==d[r]&&v.handleItemDefaults(b,d,I,v),o.push(d)}var p=f.defaultItems();for(h=0;h<p.length;h++)(d=p[h])._index=o.length,v.handleItemDefaults({},d,I,v,{}),o.push(d);if(S.isArrayOrTypedArray(n)){var A=Math.min(n.length,o.length);for(h=0;h<A;h++)S.relinkPrivateKeys(o[h],n[h])}return o}},9012:function(oe,J,t){"use strict";var S=t(41940),k=t(77914);oe.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:S({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:k.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(oe,J,t){"use strict";var S=t(92770),k=t(71828),l=k.dateTime2ms,R=k.incrementMonth,v=t(50606).ONEAVGMONTH;oe.exports=function(r,n,c,o){if("date"!==n.type)return{vals:o};var f=r[c+"periodalignment"];if(!f)return{vals:o};var d,h=r[c+"period"];if(S(h)){if((h=+h)<=0)return{vals:o}}else if("string"==typeof h&&"M"===h.charAt(0)){var b=+h.substring(1);if(!(b>0&&Math.round(b)===b))return{vals:o};d=b}for(var p=n.calendar,A="start"===f,m="end"===f,g=l(r[c+"period0"],p)||0,C=[],T=[],L=[],x=o.length,E=0;E<x;E++){var i,D,y,M=o[E];if(d){for(i=Math.round((M-g)/(d*v)),y=R(g,d*i,p);y>M;)y=R(y,-d,p);for(;y<=M;)y=R(y,d,p);D=R(y,-d,p)}else{for(y=g+(i=Math.round((M-g)/h))*h;y>M;)y-=h;for(;y<=M;)y+=h;D=y-h}C[E]=A?D:m?y:(D+y)/2,T[E]=D,L[E]=y}return{vals:C,starts:T,ends:L}}},89502:function(oe){"use strict";oe.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(oe,J,t){"use strict";var S=t(39898),k=t(92770),l=t(71828),R=t(50606).FP_SAFE,I=t(73972),v=t(91424),w=t(41675),r=w.getFromId,n=w.isLinked;function c(D,y){var B,F,_=[],z=D._fullLayout,V=f(z,y,0),H=f(z,y,1),U=b(D,y),G=U.min,Y=U.max;if(0===G.length||0===Y.length)return l.simpleMap(y.range,y.r2l);var ee=G[0].val,ue=Y[0].val;for(B=1;B<G.length&&ee===ue;B++)ee=Math.min(ee,G[B].val);for(B=1;B<Y.length&&ee===ue;B++)ue=Math.max(ue,Y[B].val);var ce=y.autorange,pe="reversed"===ce||"min reversed"===ce||"max reversed"===ce;if(!pe&&y.range){var te=l.simpleMap(y.range,y.r2l);pe=te[1]<te[0]}"reversed"===y.autorange&&(y.autorange=!0);var $,le,se,de,we,Ee,Q=y.rangemode,K="tozero"===Q,Z="nonnegative"===Q,q=y._length,fe=q/10,re=0;for(B=0;B<G.length;B++)for($=G[B],F=0;F<Y.length;F++)(Ee=(le=Y[F]).val-$.val-o(y,$.val,le.val))>0&&((we=q-V($)-H(le))>fe?Ee/we>re&&(se=$,de=le,re=Ee/we):Ee/q>re&&(se={val:$.val,nopad:1},de={val:le.val,nopad:1},re=Ee/q));if(ee===ue){var Ne=ee-1,Ve=ee+1;if(K)if(0===ee)_=[0,1];else{var Pe=(ee>0?Y:G).reduce(function Me(Ie,Je){return Math.max(Ie,H(Je))},0),Ce=ee/(1-Math.min(.5,Pe/q));_=ee>0?[0,Ce]:[Ce,0]}else _=Z?[Math.max(0,Ne),Math.max(1,Ve)]:[Ne,Ve]}else K?(se.val>=0&&(se={val:0,nopad:1}),de.val<=0&&(de={val:0,nopad:1})):Z&&(se.val-re*V(se)<0&&(se={val:0,nopad:1}),de.val<=0&&(de={val:1,nopad:1})),re=(de.val-se.val-o(y,$.val,le.val))/(q-V(se)-H(de)),_=[se.val-re*V(se),de.val+re*H(de)];return _=i(_,y),y.limitRange&&y.limitRange(),pe&&_.reverse(),l.simpleMap(_,y.l2r||Number)}function o(D,y,B){var F=0;if(D.rangebreaks)for(var _=D.locateBreaks(y,B),z=0;z<_.length;z++){var V=_[z];F+=V.max-V.min}return F}function f(D,y,B){var F=.05*y._length,_=y._anchorAxis||{};if(-1!==(y.ticklabelposition||"").indexOf("inside")||-1!==(_.ticklabelposition||"").indexOf("inside")){var z=y.isReversed();if(!z){var V=l.simpleMap(y.range,y.r2l);z=V[1]<V[0]}z&&(B=!B)}var H=0;return n(D,y._id)||(H=function d(D,y,B){var F=0,_="x"===y._id.charAt(0);for(var z in D._plots){var V=D._plots[z];if(y._id===V.xaxis._id||y._id===V.yaxis._id){var H=(_?V.yaxis:V.xaxis)||{};if(-1!==(H.ticklabelposition||"").indexOf("inside")&&(!B&&("left"===H.side||"bottom"===H.side)||B&&("top"===H.side||"right"===H.side))){if(H._vals){var U=l.deg2rad(H._tickAngles[H._id+"tick"]||0),G=Math.abs(Math.cos(U)),Y=Math.abs(Math.sin(U));H._vals[0].bb||H._selections[H._id+"tick"].each(function(Z){var q=S.select(this);q.select(".text-math-group").empty()&&(Z.bb=v.bBox(q.node()))});for(var ce=0;ce<H._vals.length;ce++){var te=H._vals[ce].bb;if(te){var Q=2*h+te.width,K=2*h+te.height;F=Math.max(F,_?Math.max(Q*G,K*Y):Math.max(K*G,Q*Y))}}}"inside"===H.ticks&&"inside"===H.ticklabelposition&&(F+=H.ticklen||0)}}}return F}(D,y,B)),F=Math.max(H,F),"domain"===y.constrain&&y._inputDomain&&(F*=(y._inputDomain[1]-y._inputDomain[0])/(y.domain[1]-y.domain[0])),function(G){return G.nopad?0:G.pad+(G.extrapad?F:H)}}oe.exports={applyAutorangeOptions:i,getAutoRange:c,makePadFn:f,doAutoRange:function p(D,y,B){if(y.setScale(),y.autorange){y.range=B?B.slice():c(D,y),y._r=y.range.slice(),y._rl=l.simpleMap(y._r,y.r2l);var F=y._input,_={};_[y._attr+".range"]=y.range,_[y._attr+".autorange"]=y.autorange,I.call("_storeDirectGUIEdit",D.layout,D._fullLayout._preGUI,_),F.range=y.range.slice(),F.autorange=y.autorange}var z=y._anchorAxis;if(z&&z.rangeslider){var V=z.rangeslider[y._name];V&&"auto"===V.rangemode&&(V.range=c(D,y)),z._input.rangeslider[y._name]=l.extendFlat({},V)}},findExtremes:function A(D,y,B){B||(B={}),D._m||D.setScale();var ee,ue,ce,pe,te,Q,K,Z,q,F=[],_=[],z=y.length,V=B.padded||!1,H=B.tozero&&("linear"===D.type||"-"===D.type),U="log"===D.type,G=!1,Y=B.vpadLinearized||!1;function fe(Me){if(Array.isArray(Me))return G=!0,function(Ve){return Math.max(Number(Me[Ve]||0),0)};var Ne=Math.max(Number(Me||0),0);return function(){return Ne}}var re=fe((D._m>0?B.ppadplus:B.ppadminus)||B.ppad||0),$=fe((D._m>0?B.ppadminus:B.ppadplus)||B.ppad||0),le=fe(B.vpadplus||B.vpad),se=fe(B.vpadminus||B.vpad);if(!G){if(Z=1/0,q=-1/0,U)for(ee=0;ee<z;ee++)(ue=y[ee])<Z&&ue>0&&(Z=ue),ue>q&&ue<R&&(q=ue);else for(ee=0;ee<z;ee++)(ue=y[ee])<Z&&ue>-R&&(Z=ue),ue>q&&ue<R&&(q=ue);y=[Z,q],z=2}var de={tozero:H,extrapad:V};function we(Me){k(ce=y[Me])&&(Q=re(Me),K=$(Me),Y?(pe=D.c2l(ce)-se(Me),te=D.c2l(ce)+le(Me)):(Z=ce-se(Me),q=ce+le(Me),U&&Z<q/10&&(Z=q/10),pe=D.c2l(Z),te=D.c2l(q)),H&&(pe=Math.min(0,pe),te=Math.max(0,te)),C(pe)&&m(F,pe,K,de),C(te)&&u(_,te,Q,de))}var Ee=Math.min(6,z);for(ee=0;ee<Ee;ee++)we(ee);for(ee=z-1;ee>=Ee;ee--)we(ee);return{min:F,max:_,opts:B}},concatExtremes:b};var h=3;function b(D,y,B){var U,G,Y,F=y._id,z=D._fullLayout,V=[],H=[];function ee(Q,K){for(U=0;U<K.length;U++){var Z=Q[K[U]],q=(Z._extremes||{})[F];if(!0===Z.visible&&q){for(G=0;G<q.min.length;G++)m(V,(Y=q.min[G]).val,Y.pad,{extrapad:Y.extrapad});for(G=0;G<q.max.length;G++)u(H,(Y=q.max[G]).val,Y.pad,{extrapad:Y.extrapad})}}}if(ee(D._fullData,y._traceIndices),ee(z.annotations||[],y._annIndices||[]),ee(z.shapes||[],y._shapeIndices||[]),y._matchGroup&&!B)for(var ue in y._matchGroup)if(ue!==y._id){var ce=r(D,ue),pe=b(D,ce,!0),te=y._length/ce._length;for(G=0;G<pe.min.length;G++)m(V,(Y=pe.min[G]).val,Y.pad*te,{extrapad:Y.extrapad});for(G=0;G<pe.max.length;G++)u(H,(Y=pe.max[G]).val,Y.pad*te,{extrapad:Y.extrapad})}return{min:V,max:H}}function m(D,y,B,F){g(D,y,B,F,T)}function u(D,y,B,F){g(D,y,B,F,L)}function g(D,y,B,F,_){for(var z=F.tozero,V=F.extrapad,H=!0,U=0;U<D.length&&H;U++){var G=D[U];if(_(G.val,y)&&G.pad>=B&&(G.extrapad||!V)){H=!1;break}_(y,G.val)&&G.pad<=B&&(V||!G.extrapad)&&(D.splice(U,1),U--)}if(H){var Y=z&&0===y;D.push({val:y,pad:Y?0:B,extrapad:!Y&&V})}}function C(D){return k(D)&&Math.abs(D)<R}function T(D,y){return D<=y}function L(D,y){return D>=y}function x(D,y){var B=y.autorangeoptions;return B&&void 0!==B.minallowed&&M(y,B.minallowed,B.maxallowed)?B.minallowed:B&&void 0!==B.clipmin&&M(y,B.clipmin,B.clipmax)?Math.max(D,y.d2l(B.clipmin)):D}function E(D,y){var B=y.autorangeoptions;return B&&void 0!==B.maxallowed&&M(y,B.minallowed,B.maxallowed)?B.maxallowed:B&&void 0!==B.clipmax&&M(y,B.clipmin,B.clipmax)?Math.min(D,y.d2l(B.clipmax)):D}function M(D,y,B){return void 0===y||void 0===B||(y=D.d2l(y))<D.d2l(B)}function i(D,y){if(!y||!y.autorangeoptions)return D;var B=D[0],F=D[1],_=y.autorangeoptions.include;if(void 0!==_){var z=y.d2l(B),V=y.d2l(F);l.isArrayOrTypedArray(_)||(_=[_]);for(var H=0;H<_.length;H++){var U=y.d2l(_[H]);z>=U&&(z=U,B=U),V<=U&&(V=U,F=U)}}return[B=x(B,y),F=E(F,y)]}},23074:function(oe){"use strict";oe.exports=function(t,S,k){var l,R;if(k){var I="reversed"===S||"min reversed"===S||"max reversed"===S;l=k[I?1:0],R=k[I?0:1]}var v=t("autorangeoptions.minallowed",null===R?l:void 0),w=t("autorangeoptions.maxallowed",null===l?R:void 0);void 0===v&&t("autorangeoptions.clipmin"),void 0===w&&t("autorangeoptions.clipmax"),t("autorangeoptions.include")}},89298:function(oe,J,t){"use strict";var S=t(39898),k=t(92770),l=t(74875),R=t(73972),I=t(71828),v=I.strTranslate,w=t(63893),r=t(92998),n=t(7901),c=t(91424),o=t(13838),f=t(66287),h=t(50606),d=h.ONEMAXYEAR,b=h.ONEAVGYEAR,p=h.ONEMINYEAR,A=h.ONEMAXQUARTER,m=h.ONEAVGQUARTER,u=h.ONEMINQUARTER,g=h.ONEMAXMONTH,C=h.ONEAVGMONTH,T=h.ONEMINMONTH,L=h.ONEWEEK,x=h.ONEDAY,E=x/2,M=h.ONEHOUR,i=h.ONEMIN,D=h.ONESEC,y=h.MINUS_SIGN,B=h.BADNUM,F={K:"zeroline"},_={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},V={K:"tick",L:"path"},H={K:"tick",L:"text"},U={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},G=t(18783),Y=G.MID_SHIFT,ee=G.CAP_SHIFT,ue=G.LINE_SPACING,ce=G.OPPOSITE_SIDE,te=oe.exports={};te.setConvert=t(21994);var Q=t(4322),K=t(41675),Z=K.idSort,q=K.isLinked;te.id2name=K.id2name,te.name2id=K.name2id,te.cleanId=K.cleanId,te.list=K.list,te.listIds=K.listIds,te.getFromId=K.getFromId,te.getFromTrace=K.getFromTrace;var fe=t(71739);te.getAutoRange=fe.getAutoRange,te.findExtremes=fe.findExtremes;var re=1e-4;function $($e){var Ze=($e[1]-$e[0])*re;return[$e[0]-Ze,$e[1]+Ze]}te.coerceRef=function($e,Ze,zt,kt,Xt,ur){var vr=kt.charAt(kt.length-1),or=zt._fullLayout._subplots[vr+"axis"],Ht=kt+"ref",pr={};return Xt||(Xt=or[0]||("string"==typeof ur?ur:ur[0])),ur||(ur=Xt),or=or.concat(or.map(function(xr){return xr+" domain"})),pr[Ht]={valType:"enumerated",values:or.concat(ur?"string"==typeof ur?[ur]:ur:[]),dflt:Xt},I.coerce($e,Ze,pr,Ht)},te.getRefType=function($e){return void 0===$e?$e:"paper"===$e?"paper":"pixel"===$e?"pixel":/( domain)$/.test($e)?"domain":"range"},te.coercePosition=function($e,Ze,zt,kt,Xt,ur){var vr,or;if("range"!==te.getRefType(kt))vr=I.ensureNumber,or=zt(Xt,ur);else{var pr=te.getFromId(Ze,kt);or=zt(Xt,ur=pr.fraction2r(ur)),vr=pr.cleanPos}$e[Xt]=vr(or)},te.cleanPosition=function($e,Ze,zt){return("paper"===zt||"pixel"===zt?I.ensureNumber:te.getFromId(Ze,zt).cleanPos)($e)},te.redrawComponents=function($e,Ze){Ze=Ze||te.listIds($e);var zt=$e._fullLayout;function kt(Xt,ur,vr,or){for(var Ht=R.getComponentMethod(Xt,ur),pr={},xr=0;xr<Ze.length;xr++)for(var kr=zt[te.id2name(Ze[xr])][vr],un=0;un<kr.length;un++){var Nr=kr[un];if(!pr[Nr]&&(Ht($e,Nr),pr[Nr]=1,or))return}}kt("annotations","drawOne","_annIndices"),kt("shapes","drawOne","_shapeIndices"),kt("images","draw","_imgIndices",!0),kt("selections","drawOne","_selectionIndices")};var le=te.getDataConversions=function($e,Ze,zt,kt){var Xt,ur="x"===zt||"y"===zt||"z"===zt?zt:kt;if(Array.isArray(ur)){if(Xt={type:Q(kt,void 0,{autotypenumbers:$e._fullLayout.autotypenumbers}),_categories:[]},te.setConvert(Xt),"category"===Xt.type)for(var vr=0;vr<kt.length;vr++)Xt.d2c(kt[vr])}else Xt=te.getFromTrace($e,Ze,ur);return Xt?{d2c:Xt.d2c,c2d:Xt.c2d}:"ids"===ur?{d2c:de,c2d:de}:{d2c:se,c2d:se}};function se($e){return+$e}function de($e){return String($e)}function Me($e,Ze){return Math.abs(($e/Ze+.5)%1-.5)<.001}function Ne($e,Ze){return Math.abs($e/Ze-1)<.001}function Ve($e){return+$e.substring(1)}function Ie($e,Ze){return $e.rangebreaks&&(Ze=Ze.filter(function(zt){return $e.maskBreaks(zt.x)!==B})),Ze}function Je($e){var Ze=$e._mainAxis,zt=[];if(Ze._vals)for(var kt=0;kt<Ze._vals.length;kt++)if(!Ze._vals[kt].noTick){var Xt=Ze.l2p(Ze._vals[kt].x),ur=$e.p2l(Xt),vr=te.tickText($e,ur);Ze._vals[kt].minor&&(vr.minor=!0,vr.text=""),zt.push(vr)}return Ie($e,zt)}function Qe($e){var zt=$(I.simpleMap($e.range,$e.r2l)),kt=Math.min(zt[0],zt[1]),Xt=Math.max(zt[0],zt[1]),ur="category"===$e.type?$e.d2l_noadd:$e.d2l;"log"===$e.type&&"L"!==String($e.dtick).charAt(0)&&($e.dtick="L"+Math.pow(10,Math.floor(Math.min($e.range[0],$e.range[1]))-1));for(var vr=[],or=0;or<=1;or++)if(!or||$e.minor){var Ht=or?$e.minor.tickvals:$e.tickvals,pr=or?[]:$e.ticktext;if(Ht){Array.isArray(pr)||(pr=[]);for(var xr=0;xr<Ht.length;xr++){var Mr=ur(Ht[xr]);if(Mr>kt&&Mr<Xt){var kr=void 0===pr[xr]?te.tickText($e,Mr):St($e,Mr,String(pr[xr]));or&&(kr.minor=!0,kr.text=""),vr.push(kr)}}}}return Ie($e,vr)}te.getDataToCoordFunc=function($e,Ze,zt,kt){return le($e,Ze,zt,kt).d2c},te.counterLetter=function($e){var Ze=$e.charAt(0);return"x"===Ze?"y":"y"===Ze?"x":void 0},te.minDtick=function($e,Ze,zt,kt){-1===["log","category","multicategory"].indexOf($e.type)&&kt?void 0===$e._minDtick?($e._minDtick=Ze,$e._forceTick0=zt):$e._minDtick&&(($e._minDtick/Ze+1e-6)%1<2e-6&&((zt-$e._forceTick0)/Ze%1+1.000001)%1<2e-6?($e._minDtick=Ze,$e._forceTick0=zt):((Ze/$e._minDtick+1e-6)%1>2e-6||((zt-$e._forceTick0)/$e._minDtick%1+1.000001)%1>2e-6)&&($e._minDtick=0)):$e._minDtick=0},te.saveRangeInitial=function($e,Ze){for(var zt=te.list($e,"",!0),kt=!1,Xt=0;Xt<zt.length;Xt++){var ur=zt[Xt],vr=void 0===ur._rangeInitial0&&void 0===ur._rangeInitial1,Ht=ur.autorange;(vr&&!0!==Ht||Ze&&(vr||ur.range[0]!==ur._rangeInitial0||ur.range[1]!==ur._rangeInitial1))&&(ur._rangeInitial0="min"===Ht||"max reversed"===Ht?void 0:ur.range[0],ur._rangeInitial1="max"===Ht||"min reversed"===Ht?void 0:ur.range[1],ur._autorangeInitial=Ht,kt=!0)}return kt},te.saveShowSpikeInitial=function($e,Ze){for(var zt=te.list($e,"",!0),kt=!1,Xt="on",ur=0;ur<zt.length;ur++){var vr=zt[ur],or=void 0===vr._showSpikeInitial;(or||Ze&&(or||vr.showspikes!==vr._showspikes))&&(vr._showSpikeInitial=vr.showspikes,kt=!0),"on"===Xt&&!vr.showspikes&&(Xt="off")}return $e._fullLayout._cartesianSpikesEnabled=Xt,kt},te.autoBin=function($e,Ze,zt,kt,Xt,ur){var Ht,vr=I.aggNums(Math.min,null,$e),or=I.aggNums(Math.max,null,$e);if("category"===Ze.type||"multicategory"===Ze.type)return{start:vr-.5,end:or+.5,size:Math.max(1,Math.round(ur)||1),_dataSpan:or-vr};if(Xt||(Xt=Ze.calendar),Ht="log"===Ze.type?{type:"linear",range:[vr,or]}:{type:Ze.type,range:I.simpleMap([vr,or],Ze.c2r,0,Xt),calendar:Xt},te.setConvert(Ht),ur=ur&&f.dtick(ur,Ht.type))Ht.dtick=ur,Ht.tick0=f.tick0(void 0,Ht.type,Xt);else{var pr;if(zt)pr=(or-vr)/zt;else{var xr=I.distinctVals($e),Mr=Math.pow(10,Math.floor(Math.log(xr.minDiff)/Math.LN10)),kr=Mr*I.roundUp(xr.minDiff/Mr,[.9,1.9,4.9,9.9],!0);pr=Math.max(kr,2*I.stdev($e)/Math.pow($e.length,kt?.25:.4)),k(pr)||(pr=1)}te.autoTicks(Ht,pr)}var Yr,un=Ht.dtick,Nr=te.tickIncrement(te.tickFirst(Ht),un,"reverse",Xt);if("number"==typeof un)Yr=(Nr=function we($e,Ze,zt,kt,Xt){var ur=0,vr=0,or=0,Ht=0;function pr(un){return(1+100*(un-$e)/zt.dtick)%100<2}for(var xr=0;xr<Ze.length;xr++)Ze[xr]%1==0?or++:k(Ze[xr])||Ht++,pr(Ze[xr])&&ur++,pr(Ze[xr]+zt.dtick/2)&&vr++;var Mr=Ze.length-Ht;if(or===Mr&&"date"!==zt.type)zt.dtick<1?$e=kt-.5*zt.dtick:($e-=.5)+zt.dtick<kt&&($e+=zt.dtick);else if(vr<.1*Mr&&(ur>.3*Mr||pr(kt)||pr(Xt))){var kr=zt.dtick/2;$e+=$e+kr<kt?kr:-kr}return $e}(Nr,$e,Ht,vr,or))+(1+Math.floor((or-Nr)/un))*un;else for("M"===Ht.dtick.charAt(0)&&(Nr=function Ee($e,Ze,zt,kt,Xt){var ur=I.findExactDates(Ze,Xt);if(ur.exactDays>.8){var or=Number(zt.substr(1));ur.exactYears>.8&&or%12==0?$e=te.tickIncrement($e,"M6","reverse")+1.5*x:ur.exactMonths>.8?$e=te.tickIncrement($e,"M1","reverse")+15.5*x:$e-=E;var Ht=te.tickIncrement($e,zt);if(Ht<=kt)return Ht}return $e}(Nr,$e,un,vr,Xt)),Yr=Nr;Yr<=or;)Yr=te.tickIncrement(Yr,un,!1,Xt);return{start:Ze.c2r(Nr,0,Xt),end:Ze.c2r(Yr,0,Xt),size:un,_dataSpan:or-vr}},te.prepMinorTicks=function($e,Ze,zt){if(!Ze.minor.dtick){delete $e.dtick;var Xt,kt=Ze.dtick&&k(Ze._tmin);if(kt){var ur=te.tickIncrement(Ze._tmin,Ze.dtick,!0);Xt=[Ze._tmin,.99*ur+.01*Ze._tmin]}else{var vr=I.simpleMap(Ze.range,Ze.r2l);Xt=[vr[0],.8*vr[0]+.2*vr[1]]}if($e.range=I.simpleMap(Xt,Ze.l2r),$e._isMinor=!0,te.prepTicks($e,zt),kt){var or=k(Ze.dtick),Ht=k($e.dtick),pr=or?Ze.dtick:+Ze.dtick.substring(1),xr=Ht?$e.dtick:+$e.dtick.substring(1);or&&Ht?Me(pr,xr)?pr===2*L&&xr===2*x&&($e.dtick=L):$e.dtick=pr===2*L&&xr===3*x?L:pr!==L||(Ze._input.minor||{}).nticks?Ne(pr/xr,2.5)?pr/2:pr:x:"M"===String(Ze.dtick).charAt(0)?Ht?$e.dtick="M1":Me(pr,xr)?pr>=12&&2===xr&&($e.dtick="M3"):$e.dtick=Ze.dtick:"L"===String($e.dtick).charAt(0)?"L"===String(Ze.dtick).charAt(0)?Me(pr,xr)||($e.dtick=Ne(pr/xr,2.5)?Ze.dtick/2:Ze.dtick):$e.dtick="D1":"D2"===$e.dtick&&+Ze.dtick>1&&($e.dtick=1)}$e.range=Ze.range}void 0===Ze.minor._tick0Init&&($e.tick0=Ze.tick0)},te.prepTicks=function($e,Ze){var zt=I.simpleMap($e.range,$e.r2l,void 0,void 0,Ze);if("auto"===$e.tickmode||!$e.dtick){var Xt,kt=$e.nticks;kt||("category"===$e.type||"multicategory"===$e.type?(Xt=$e.tickfont?I.bigFont($e.tickfont.size||12):15,kt=$e._length/Xt):(Xt="y"===$e._id.charAt(0)?40:80,kt=I.constrain($e._length/Xt,4,9)+1),"radialaxis"===$e._name&&(kt*=2)),$e.minor&&"array"!==$e.minor.tickmode||"array"===$e.tickmode&&(kt*=100),$e._roughDTick=Math.abs(zt[1]-zt[0])/kt,te.autoTicks($e,$e._roughDTick),$e._minDtick>0&&$e.dtick<2*$e._minDtick&&($e.dtick=$e._minDtick,$e.tick0=$e.l2r($e._forceTick0))}"period"===$e.ticklabelmode&&function Pe($e){var Ze;function zt(){return!(k($e.dtick)||"M"!==$e.dtick.charAt(0))}var kt=zt(),Xt=te.getTickFormat($e);if(Xt){var ur=$e._dtickInit!==$e.dtick;/%[fLQsSMX]/.test(Xt)||(/%[HI]/.test(Xt)?(Ze=M,ur&&!kt&&$e.dtick<M&&($e.dtick=M)):/%p/.test(Xt)?(Ze=E,ur&&!kt&&$e.dtick<E&&($e.dtick=E)):/%[Aadejuwx]/.test(Xt)?(Ze=x,ur&&!kt&&$e.dtick<x&&($e.dtick=x)):/%[UVW]/.test(Xt)?(Ze=L,ur&&!kt&&$e.dtick<L&&($e.dtick=L)):/%[Bbm]/.test(Xt)?(Ze=C,ur&&(kt?Ve($e.dtick)<1:$e.dtick<T)&&($e.dtick="M1")):/%[q]/.test(Xt)?(Ze=m,ur&&(kt?Ve($e.dtick)<3:$e.dtick<u)&&($e.dtick="M3")):/%[Yy]/.test(Xt)&&(Ze=b,ur&&(kt?Ve($e.dtick)<12:$e.dtick<p)&&($e.dtick="M12")))}(kt=zt())&&$e.tick0===$e._dowTick0&&($e.tick0=$e._rawTick0),$e._definedDelta=Ze}($e),$e.tick0||($e.tick0="date"===$e.type?"2000-01-01":0),"date"===$e.type&&$e.dtick<.1&&($e.dtick=.1),pt($e)},te.calcTicks=function(Ze,zt){for(var kt=Ze.type,Xt=Ze.calendar,ur=Ze.ticklabelstep,vr="period"===Ze.ticklabelmode,or=I.simpleMap(Ze.range,Ze.r2l,void 0,void 0,zt),Ht=or[1]<or[0],pr=Math.min(or[0],or[1]),xr=Math.max(or[0],or[1]),Mr=Math.max(1e3,Ze._length||0),kr=[],un=[],Nr=[],Yr=[],$r=Ze.minor&&(Ze.minor.ticks||Ze.minor.showgrid),Qr=1;Qr>=($r?0:1);Qr--){var Wn=!Qr;Qr?(Ze._dtickInit=Ze.dtick,Ze._tick0Init=Ze.tick0):(Ze.minor._dtickInit=Ze.minor.dtick,Ze.minor._tick0Init=Ze.minor.tick0);var An=Qr?Ze:I.extendFlat({},Ze,Ze.minor);if(Wn?te.prepMinorTicks(An,Ze,zt):te.prepTicks(An,zt),"array"!==An.tickmode)if("sync"!==An.tickmode){var Tr=$(or),nr=Tr[0],Xr=Tr[1],Ur=k(An.dtick),an="log"===kt&&!(Ur||"L"===An.dtick.charAt(0)),Cn=te.tickFirst(An,zt);if(Qr){if(Ze._tmin=Cn,Cn<nr!==Ht)break;("category"===kt||"multicategory"===kt)&&(Xr=Ht?Math.max(-.5,Xr):Math.min(Ze._categories.length-.5,Xr))}var Vn,vi,En=null,Fn=Cn;Qr&&(Ur?vi=Ze.dtick:"date"===kt?"string"==typeof Ze.dtick&&"M"===Ze.dtick.charAt(0)&&(vi=C*Ze.dtick.substring(1)):vi=Ze._roughDTick,Vn=Math.round((Ze.r2l(Fn)-Ze.r2l(Ze.tick0))/vi)-1);var li=An.dtick;for(An.rangebreaks&&An._tick0Init!==An.tick0&&(Fn=jt(Fn,Ze),Ht||(Fn=te.tickIncrement(Fn,li,!Ht,Xt))),Qr&&vr&&(Fn=te.tickIncrement(Fn,li,!Ht,Xt),Vn--);Ht?Fn>=Xr:Fn<=Xr;Fn=te.tickIncrement(Fn,li,Ht,Xt)){if(Qr&&Vn++,An.rangebreaks&&!Ht){if(Fn<nr)continue;if(An.maskBreaks(Fn)===B&&jt(Fn,An)>=xr)break}if(Nr.length>Mr||Fn===En)break;En=Fn;var bi={value:Fn};Qr?(an&&Fn!==(0|Fn)&&(bi.simpleLabel=!0),ur>1&&Vn%ur&&(bi.skipLabel=!0),Nr.push(bi)):(bi.minor=!0,Yr.push(bi))}}else Nr=[],kr=Je(Ze);else Qr?(Nr=[],kr=Qe(Ze)):(Yr=[],un=Qe(Ze))}var zn;if($r&&!("inside"===Ze.minor.ticks&&"outside"===Ze.ticks||"outside"===Ze.minor.ticks&&"inside"===Ze.ticks)){for(var hi=Nr.map(function(In){return In.value}),Ir=[],gn=0;gn<Yr.length;gn++){var pn=Yr[gn],Dn=pn.value;if(-1===hi.indexOf(Dn)){for(var qn=!1,Nn=0;!qn&&Nn<Nr.length;Nn++)1e7+Nr[Nn].value===1e7+Dn&&(qn=!0);qn||Ir.push(pn)}}Yr=Ir}if(vr&&function Ce($e,Ze,zt){for(var kt=0;kt<$e.length;kt++){var Xt=$e[kt].value,ur=kt,vr=kt+1;kt<$e.length-1?(ur=kt,vr=kt+1):kt>0?(ur=kt-1,vr=kt):(ur=kt,vr=kt);var kr,pr=Math.abs($e[vr].value-$e[ur].value),xr=zt||pr,Mr=0;xr>=p?Mr=pr>=p&&pr<=d?pr:b:zt===m&&xr>=u?Mr=pr>=u&&pr<=A?pr:m:xr>=T?Mr=pr>=T&&pr<=g?pr:C:zt===L&&xr>=L?Mr=L:xr>=x?Mr=x:zt===E&&xr>=E?Mr=E:zt===M&&xr>=M&&(Mr=M),Mr>=pr&&(Mr=pr,kr=!0);var un=Xt+Mr;if(Ze.rangebreaks&&Mr>0){for(var Yr=0,$r=0;$r<84;$r++){var Qr=($r+.5)/84;Ze.maskBreaks(Xt*(1-Qr)+Qr*un)!==B&&Yr++}(Mr*=Yr/84)||($e[kt].drop=!0),kr&&pr>L&&(Mr=pr)}(Mr>0||0===kt)&&($e[kt].periodX=Xt+Mr/2)}}(Nr,Ze,Ze._definedDelta),Ze.rangebreaks){var Qn="y"===Ze._id.charAt(0),ii=1;"auto"===Ze.tickmode&&(ii=Ze.tickfont?Ze.tickfont.size:12);var $n=NaN;for(zn=Nr.length-1;zn>-1;zn--)if(Nr[zn].drop)Nr.splice(zn,1);else{Nr[zn].value=jt(Nr[zn].value,Ze);var ha=Ze.c2p(Nr[zn].value);(Qn?$n>ha-ii:$n<ha+ii)?Nr.splice(Ht?zn+1:zn,1):$n=ha}}Gt(Ze)&&360===Math.abs(or[1]-or[0])&&Nr.pop(),Ze._tmax=(Nr[Nr.length-1]||{}).value,Ze._prevDateHead="",Ze._inCalcTicks=!0;var qt,jr,bn,Pr=function(In){In.text="",Ze._prevDateHead=qt};for(Nr=Nr.concat(Yr),zn=0;zn<Nr.length;zn++){var Bn=Nr[zn].value;Nr[zn].minor?un.push({x:Bn,minor:!0}):(qt=Ze._prevDateHead,jr=te.tickText(Ze,Bn,!1,Nr[zn].simpleLabel),void 0!==(bn=Nr[zn].periodX)&&(jr.periodX=bn,(bn>xr||bn<pr)&&(bn>xr&&(jr.periodX=xr),bn<pr&&(jr.periodX=pr),Pr(jr))),Nr[zn].skipLabel&&Pr(jr),kr.push(jr))}return kr=kr.concat(un),Ze._inCalcTicks=!1,vr&&kr.length&&(kr[0].noTick=!0),kr};var ze=[2,5,10],Ke=[1,2,3,6,12],ut=[1,2,5,10,15,30],ot=[1,2,3,7,14],We=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],je=[-.301,0,.301,.699,1],lt=[15,30,45,90,180];function vt($e,Ze,zt){return Ze*I.roundUp($e/Ze,zt)}function pt($e){var Ze=$e.dtick;if($e._tickexponent=0,!k(Ze)&&"string"!=typeof Ze&&(Ze=1),("category"===$e.type||"multicategory"===$e.type)&&($e._tickround=null),"date"===$e.type){var zt=$e.r2l($e.tick0),kt=$e.l2r(zt).replace(/(^-|i)/g,""),Xt=kt.length;if("M"===String(Ze).charAt(0))$e._tickround=Xt>10||"01-01"!==kt.substr(5)?"d":+Ze.substr(1)%12==0?"y":"m";else if(Ze>=x&&Xt<=10||Ze>=15*x)$e._tickround="d";else if(Ze>=i&&Xt<=16||Ze>=M)$e._tickround="M";else if(Ze>=D&&Xt<=19||Ze>=i)$e._tickround="S";else{var ur=$e.l2r(zt+Ze).replace(/^-/,"").length;$e._tickround=Math.max(Xt,ur)-20,$e._tickround<0&&($e._tickround=4)}}else if(k(Ze)||"L"===Ze.charAt(0)){var vr=$e.range.map($e.r2d||Number);k(Ze)||(Ze=Number(Ze.substr(1))),$e._tickround=2-Math.floor(Math.log(Ze)/Math.LN10+.01);var or=Math.max(Math.abs(vr[0]),Math.abs(vr[1])),Ht=Math.floor(Math.log(or)/Math.LN10+.01),pr=void 0===$e.minexponent?3:$e.minexponent;Math.abs(Ht)>pr&&($e._tickexponent=Ue($e.exponentformat)&&!De(Ht)?3*Math.round((Ht-1)/3):Ht)}else $e._tickround=null}function St($e,Ze,zt){var kt=$e.tickfont||{};return{x:Ze,dx:0,dy:0,text:zt||"",fontSize:kt.size,font:kt.family,fontColor:kt.color}}function Be($e,Ze,zt,kt,Xt){if("radians"!==$e.thetaunit||zt)Ze.text=ge(Ze.x,$e,Xt,kt);else{var ur=Ze.x/180;if(0===ur)Ze.text="0";else{var vr=function He($e){function Ze(or,Ht){return Math.abs(or-Ht)<=1e-6}function zt(or,Ht){return Ze(Ht,0)?or:zt(Ht,or%Ht)}function kt(or){for(var Ht=1;!Ze(Math.round(or*Ht)/Ht,or);)Ht*=10;return Ht}var Xt=kt($e),ur=$e*Xt,vr=Math.abs(zt(ur,Xt));return[Math.round(ur/vr),Math.round(Xt/vr)]}(ur);if(vr[1]>=100)Ze.text=ge(I.deg2rad(Ze.x),$e,Xt,kt);else{var or=Ze.x<0;Ze.text=1===vr[1]?1===vr[0]?"\u03c0":vr[0]+"\u03c0":["<sup>",vr[0],"</sup>","\u2044","<sub>",vr[1],"</sub>","\u03c0"].join(""),or&&(Ze.text=y+Ze.text)}}}}te.autoTicks=function($e,Ze,zt){var kt;function Xt(Mr){return Math.pow(Mr,Math.floor(Math.log(Ze)/Math.LN10))}if("date"===$e.type){$e.tick0=I.dateTick0($e.calendar,0);var ur=2*Ze;if(ur>b)Ze/=b,kt=Xt(10),$e.dtick="M"+12*vt(Ze,kt,ze);else if(ur>C)$e.dtick="M"+vt(Ze/=C,1,Ke);else if(ur>x){if($e.dtick=vt(Ze,x,$e._hasDayOfWeekBreaks?[1,2,7,14]:ot),!zt){var vr=te.getTickFormat($e),or="period"===$e.ticklabelmode;or&&($e._rawTick0=$e.tick0),$e.tick0=/%[uVW]/.test(vr)?I.dateTick0($e.calendar,2):I.dateTick0($e.calendar,1),or&&($e._dowTick0=$e.tick0)}}else ur>M?$e.dtick=vt(Ze,M,Ke):ur>i?$e.dtick=vt(Ze,i,ut):ur>D?$e.dtick=vt(Ze,D,ut):(kt=Xt(10),$e.dtick=vt(Ze,kt,ze))}else if("log"===$e.type){$e.tick0=0;var Ht=I.simpleMap($e.range,$e.r2l);if($e._isMinor&&(Ze*=1.5),Ze>.7)$e.dtick=Math.ceil(Ze);else if(Math.abs(Ht[1]-Ht[0])<1){var pr=1.5*Math.abs((Ht[1]-Ht[0])/Ze);Ze=Math.abs(Math.pow(10,Ht[1])-Math.pow(10,Ht[0]))/pr,kt=Xt(10),$e.dtick="L"+vt(Ze,kt,ze)}else $e.dtick=Ze>.3?"D2":"D1"}else"category"===$e.type||"multicategory"===$e.type?($e.tick0=0,$e.dtick=Math.ceil(Math.max(Ze,1))):Gt($e)?($e.tick0=0,$e.dtick=vt(Ze,kt=1,lt)):($e.tick0=0,kt=Xt(10),$e.dtick=vt(Ze,kt,ze));if(0===$e.dtick&&($e.dtick=1),!k($e.dtick)&&"string"!=typeof $e.dtick){var xr=$e.dtick;throw $e.dtick=1,"ax.dtick error: "+String(xr)}},te.tickIncrement=function($e,Ze,zt,kt){var Xt=zt?-1:1;if(k(Ze))return I.increment($e,Xt*Ze);var ur=Ze.charAt(0),vr=Xt*Number(Ze.substr(1));if("M"===ur)return I.incrementMonth($e,vr,kt);if("L"===ur)return Math.log(Math.pow(10,$e)+vr)/Math.LN10;if("D"===ur){var or="D2"===Ze?je:We,Ht=$e+.01*Xt,pr=I.roundUp(I.mod(Ht,1),or,zt);return Math.floor(Ht)+Math.log(S.round(Math.pow(10,pr),1))/Math.LN10}throw"unrecognized dtick "+String(Ze)},te.tickFirst=function($e,Ze){var zt=$e.r2l||Number,kt=I.simpleMap($e.range,zt,void 0,void 0,Ze),Xt=kt[1]<kt[0],ur=Xt?Math.floor:Math.ceil,vr=$(kt)[0],or=$e.dtick,Ht=zt($e.tick0);if(k(or)){var pr=ur((vr-Ht)/or)*or+Ht;return("category"===$e.type||"multicategory"===$e.type)&&(pr=I.constrain(pr,0,$e._categories.length-1)),pr}var xr=or.charAt(0),Mr=Number(or.substr(1));if("M"===xr){for(var Nr,Yr,$r,kr=0,un=Ht;kr<10;){if(((Nr=te.tickIncrement(un,or,Xt,$e.calendar))-vr)*(un-vr)<=0)return Xt?Math.min(un,Nr):Math.max(un,Nr);Yr=(vr-(un+Nr)/2)/(Nr-un),$r=xr+(Math.abs(Math.round(Yr))||1)*Mr,un=te.tickIncrement(un,$r,Yr<0?!Xt:Xt,$e.calendar),kr++}return I.error("tickFirst did not converge",$e),un}if("L"===xr)return Math.log(ur((Math.pow(10,vr)-Ht)/Mr)*Mr+Ht)/Math.LN10;if("D"===xr){var Qr="D2"===or?je:We,Wn=I.roundUp(I.mod(vr,1),Qr,Xt);return Math.floor(vr)+Math.log(S.round(Math.pow(10,Wn),1))/Math.LN10}throw"unrecognized dtick "+String(or)},te.tickText=function($e,Ze,zt,kt){var pr,Xt=St($e,Ze),ur="array"===$e.tickmode,vr=zt||ur,or=$e.type,Ht="category"===or?$e.d2l_noadd:$e.d2l;if(ur&&Array.isArray($e.ticktext)){var xr=I.simpleMap($e.range,$e.r2l),Mr=(Math.abs(xr[1]-xr[0])-($e._lBreaks||0))/1e4;for(pr=0;pr<$e.ticktext.length&&!(Math.abs(Ze-Ht($e.tickvals[pr]))<Mr);pr++);if(pr<$e.ticktext.length)return Xt.text=String($e.ticktext[pr]),Xt}function kr($r){return void 0===$r||(zt?"none"===$r:"all"!==$r&&Ze!=={first:$e._tmin,last:$e._tmax}[$r])}var un=zt?"never":"none"!==$e.exponentformat&&kr($e.showexponent)?"hide":"";if("date"===or?function Ct($e,Ze,zt,kt){var Xt=$e._tickround,ur=zt&&$e.hoverformat||te.getTickFormat($e);(kt=!ur&&kt)&&(Xt=k(Xt)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Xt]);var or,vr=I.formatDate(Ze.x,ur,Xt,$e._dateFormat,$e.calendar,$e._extraFormat),Ht=vr.indexOf("\n");if(-1!==Ht&&(or=vr.substr(Ht+1),vr=vr.substr(0,Ht)),kt&&(void 0===or||"00:00:00"!==vr&&"00:00"!==vr?8===vr.length&&(vr=vr.replace(/:00$/,"")):(vr=or,or="")),or)if(zt)"d"===Xt?vr+=", "+or:vr=or+(vr?", "+vr:"");else if($e._inCalcTicks&&$e._prevDateHead===or){var pr=er($e),xr=$e._trueSide||$e.side;(!pr&&"top"===xr||pr&&"bottom"===xr)&&(vr+="<br> ")}else $e._prevDateHead=or,vr+="<br>"+or;Ze.text=vr}($e,Xt,zt,vr):"log"===or?function _t($e,Ze,zt,kt,Xt){var ur=$e.dtick,vr=Ze.x,or=$e.tickformat,Ht="string"==typeof ur&&ur.charAt(0);if("never"===Xt&&(Xt=""),kt&&"L"!==Ht&&(ur="L3",Ht="L"),or||"L"===Ht)Ze.text=ge(Math.pow(10,vr),$e,Xt,kt);else if(k(ur)||"D"===Ht&&I.mod(vr+.01,1)<.1){var pr=Math.round(vr),xr=Math.abs(pr),Mr=$e.exponentformat;"power"===Mr||Ue(Mr)&&De(pr)?(Ze.text=0===pr?1:1===pr?"10":"10<sup>"+(pr>1?"":y)+xr+"</sup>",Ze.fontSize*=1.25):("e"===Mr||"E"===Mr)&&xr>2?Ze.text="1"+Mr+(pr>0?"+":y)+xr:(Ze.text=ge(Math.pow(10,vr),$e,"","fakehover"),"D1"===ur&&"y"===$e._id.charAt(0)&&(Ze.dy-=Ze.fontSize/6))}else{if("D"!==Ht)throw"unrecognized dtick "+String(ur);Ze.text=String(Math.round(Math.pow(10,I.mod(vr,1)))),Ze.fontSize*=.75}if("D1"===$e.dtick){var kr=String(Ze.text).charAt(0);("0"===kr||"1"===kr)&&("y"===$e._id.charAt(0)?Ze.dx-=Ze.fontSize/4:(Ze.dy+=Ze.fontSize/2,Ze.dx+=($e.range[1]>$e.range[0]?1:-1)*Ze.fontSize*(vr<0?.5:.25)))}}($e,Xt,0,vr,un):"category"===or?function nt($e,Ze){var zt=$e._categories[Math.round(Ze.x)];void 0===zt&&(zt=""),Ze.text=String(zt)}($e,Xt):"multicategory"===or?function ke($e,Ze,zt){var kt=Math.round(Ze.x),Xt=$e._categories[kt]||[],ur=void 0===Xt[1]?"":String(Xt[1]),vr=void 0===Xt[0]?"":String(Xt[0]);zt?Ze.text=vr+" - "+ur:(Ze.text=ur,Ze.text2=vr)}($e,Xt,zt):Gt($e)?Be($e,Xt,zt,vr,un):function Re($e,Ze,zt,kt,Xt){"never"===Xt?Xt="":"all"===$e.showexponent&&Math.abs(Ze.x/$e.dtick)<1e-6&&(Xt="hide"),Ze.text=ge(Ze.x,$e,Xt,kt)}($e,Xt,0,vr,un),kt||($e.tickprefix&&!kr($e.showtickprefix)&&(Xt.text=$e.tickprefix+Xt.text),$e.ticksuffix&&!kr($e.showticksuffix)&&(Xt.text+=$e.ticksuffix)),$e.labelalias&&$e.labelalias.hasOwnProperty(Xt.text)){var Nr=$e.labelalias[Xt.text];"string"==typeof Nr&&(Xt.text=Nr)}if("boundaries"===$e.tickson||$e.showdividers){var Yr=function($r){var Qr=$e.l2p($r);return Qr>=0&&Qr<=$e._length?$r:null};Xt.xbnd=[Yr(Xt.x-.5),Yr(Xt.x+$e.dtick-.5)]}return Xt},te.hoverLabelText=function($e,Ze,zt){zt&&($e=I.extendFlat({},$e,{hoverformat:zt}));var kt=Array.isArray(Ze)?Ze[0]:Ze,Xt=Array.isArray(Ze)?Ze[1]:void 0;if(void 0!==Xt&&Xt!==kt)return te.hoverLabelText($e,kt,zt)+" - "+te.hoverLabelText($e,Xt,zt);var ur="log"===$e.type&&kt<=0,vr=te.tickText($e,$e.c2l(ur?-kt:kt),"hover").text;return ur?0===kt?"0":y+vr:vr};var Ye=["f","p","n","\u03bc","m","","k","M","G","T"];function Ue($e){return"SI"===$e||"B"===$e}function De($e){return $e>14||$e<-15}function ge($e,Ze,zt,kt){var Xt=$e<0,ur=Ze._tickround,vr=zt||Ze.exponentformat||"B",or=Ze._tickexponent,Ht=te.getTickFormat(Ze),pr=Ze.separatethousands;if(kt){var xr={exponentformat:vr,minexponent:Ze.minexponent,dtick:"none"===Ze.showexponent?Ze.dtick:k($e)&&Math.abs($e)||1,range:"none"===Ze.showexponent?Ze.range.map(Ze.r2d):[0,$e||1]};pt(xr),ur=(Number(xr._tickround)||0)+4,or=xr._tickexponent,Ze.hoverformat&&(Ht=Ze.hoverformat)}if(Ht)return Ze._numFormat(Ht)($e).replace(/-/g,y);var Nr,Mr=Math.pow(10,-ur)/2;if("none"===vr&&(or=0),($e=Math.abs($e))<Mr)$e="0",Xt=!1;else{if($e+=Mr,or&&($e*=Math.pow(10,-or),ur+=or),0===ur)$e=String(Math.floor($e));else if(ur<0){$e=($e=String(Math.round($e))).substr(0,$e.length+ur);for(var kr=ur;kr<0;kr++)$e+="0"}else{var un=($e=String($e)).indexOf(".")+1;un&&($e=$e.substr(0,un+ur).replace(/\.?0+$/,""))}$e=I.numSeparate($e,Ze._separators,pr)}return or&&"hide"!==vr&&(Ue(vr)&&De(or)&&(vr="power"),Nr=or<0?y+-or:"power"!==vr?"+"+or:String(or),"e"===vr||"E"===vr?$e+=vr+Nr:"power"===vr?$e+="\xd710<sup>"+Nr+"</sup>":"B"===vr&&9===or?$e+="B":Ue(vr)&&($e+=Ye[or/3+5])),Xt?y+$e:$e}function Te($e,Ze){if($e){var zt=Object.keys(U).reduce(function(kt,Xt){return-1!==Ze.indexOf(Xt)&&U[Xt].forEach(function(ur){kt[ur]=1}),kt},{});Object.keys($e).forEach(function(kt){zt[kt]||(1===kt.length?$e[kt]=0:delete $e[kt])})}}function et($e,Ze){for(var zt=[],kt={},Xt=0;Xt<Ze.length;Xt++){var ur=Ze[Xt];kt[ur.text2]?kt[ur.text2].push(ur.x):kt[ur.text2]=[ur.x]}for(var vr in kt)zt.push(St($e,I.interp(kt[vr],.5),vr));return zt}function Kt($e){return void 0!==$e.periodX?$e.periodX:$e.x}function Lt($e){return[$e.text,$e.x,$e.axInfo,$e.font,$e.fontSize,$e.fontColor].join("_")}function Qt($e){var Ze=$e.title.font.size,zt=($e.title.text.match(w.BR_TAG_ALL)||[]).length;return $e.title.hasOwnProperty("standoff")?zt?Ze*(ee+zt*ue):Ze*ee:zt?Ze*(zt+1)*ue:Ze}function wt($e,Ze){var zt=$e.l2p(Ze);return zt>1&&zt<$e._length-1}function Lr($e){var Ze=S.select($e),zt=Ze.select(".text-math-group");return zt.empty()?Ze.select("text"):zt}function mr($e){return $e._id+".automargin"}function bt($e){return mr($e)+".mirror"}function ct($e){return $e._id+".rangeslider"}function It($e,Ze){for(var zt=0;zt<Ze.length;zt++)-1===$e.indexOf(Ze[zt])&&$e.push(Ze[zt])}function Ft($e,Ze,zt){var vr,or,kt=[],Xt=[],ur=$e.layout;for(vr=0;vr<Ze.length;vr++)kt.push(te.getFromId($e,Ze[vr]));for(vr=0;vr<zt.length;vr++)Xt.push(te.getFromId($e,zt[vr]));var Ht=Object.keys(o),pr=["anchor","domain","overlaying","position","side","tickangle","editType"],xr=["linear","log"];for(vr=0;vr<Ht.length;vr++){var Mr=Ht[vr],kr=kt[0][Mr],un=Xt[0][Mr],Nr=!0,Yr=!1,$r=!1;if("_"!==Mr.charAt(0)&&"function"!=typeof kr&&-1===pr.indexOf(Mr)){for(or=1;or<kt.length&&Nr;or++){var Qr=kt[or][Mr];"type"===Mr&&-1!==xr.indexOf(kr)&&-1!==xr.indexOf(Qr)&&kr!==Qr?Yr=!0:Qr!==kr&&(Nr=!1)}for(or=1;or<Xt.length&&Nr;or++){var Wn=Xt[or][Mr];"type"===Mr&&-1!==xr.indexOf(un)&&-1!==xr.indexOf(Wn)&&un!==Wn?$r=!0:Xt[or][Mr]!==un&&(Nr=!1)}Nr&&(Yr&&(ur[kt[0]._name].type="linear"),$r&&(ur[Xt[0]._name].type="linear"),Rt(ur,Mr,kt,Xt,$e._fullLayout._dfltTitle))}}for(vr=0;vr<$e._fullLayout.annotations.length;vr++){var An=$e._fullLayout.annotations[vr];-1!==Ze.indexOf(An.xref)&&-1!==zt.indexOf(An.yref)&&I.swapAttrs(ur.annotations[vr],["?"])}}function Rt($e,Ze,zt,kt,Xt){var Ht,ur=I.nestedProperty,vr=ur($e[zt[0]._name],Ze).get(),or=ur($e[kt[0]._name],Ze).get();for("title"===Ze&&(vr&&vr.text===Xt.x&&(vr.text=Xt.y),or&&or.text===Xt.y&&(or.text=Xt.x)),Ht=0;Ht<zt.length;Ht++)ur($e,zt[Ht]._name+"."+Ze).set(or);for(Ht=0;Ht<kt.length;Ht++)ur($e,kt[Ht]._name+"."+Ze).set(vr)}function Gt($e){return"angularaxis"===$e._id}function jt($e,Ze){for(var zt=Ze._rangebreaks.length,kt=0;kt<zt;kt++){var Xt=Ze._rangebreaks[kt];if($e>=Xt.min&&$e<Xt.max)return Xt.max}return $e}function er($e){return-1!==($e.ticklabelposition||"").indexOf("inside")}function dr($e,Ze){er($e._anchorAxis||{})&&$e._hideCounterAxisInsideTickLabels&&$e._hideCounterAxisInsideTickLabels(Ze)}function hr($e,Ze,zt,kt){var ur,Xt="free"===$e.anchor||void 0!==$e.overlaying&&!1!==$e.overlaying?$e.overlaying:$e._id;ur=kt?"right"===$e.side?Ze:-Ze:Ze,Xt in zt||(zt[Xt]={}),$e.side in zt[Xt]||(zt[Xt][$e.side]=0),zt[Xt][$e.side]+=ur}te.getTickFormat=function($e){var Ze,vr,or,Ht,pr,Mr,kr,un;function zt(Ht){return"string"!=typeof Ht?Ht:Number(Ht.replace("M",""))*C}function kt(Ht,pr){var xr=["L","D"];if(typeof Ht==typeof pr){if("number"==typeof Ht)return Ht-pr;var Mr=xr.indexOf(Ht.charAt(0)),kr=xr.indexOf(pr.charAt(0));return Mr===kr?Number(Ht.replace(/(L|D)/g,""))-Number(pr.replace(/(L|D)/g,"")):Mr-kr}return"number"==typeof Ht?1:-1}function ur(Ht,pr){var xr=null===pr[0],Mr=null===pr[1],kr=kt(Ht,pr[0])>=0,un=kt(Ht,pr[1])<=0;return(xr||kr)&&(Mr||un)}if($e.tickformatstops&&$e.tickformatstops.length>0)switch($e.type){case"date":case"linear":for(Ze=0;Ze<$e.tickformatstops.length;Ze++)if((or=$e.tickformatstops[Ze]).enabled&&(Ht=$e.dtick,Mr=void 0,kr=void 0,un=void 0,Mr=zt||function(Nr){return Nr},un=(pr=or.dtickrange)[1],(!(kr=pr[0])&&"number"!=typeof kr||Mr(kr)<=Mr(Ht))&&(!un&&"number"!=typeof un||Mr(un)>=Mr(Ht)))){vr=or;break}break;case"log":for(Ze=0;Ze<$e.tickformatstops.length;Ze++)if((or=$e.tickformatstops[Ze]).enabled&&ur($e.dtick,or.dtickrange)){vr=or;break}}return vr?vr.value:$e.tickformat},te.getSubplots=function($e,Ze){var zt=$e._fullLayout._subplots,kt=zt.cartesian.concat(zt.gl2d||[]),Xt=Ze?te.findSubplotsWithAxis(kt,Ze):kt;return Xt.sort(function(ur,vr){var or=ur.substr(1).split("y"),Ht=vr.substr(1).split("y");return or[0]===Ht[0]?+or[1]-+Ht[1]:+or[0]-+Ht[0]}),Xt},te.findSubplotsWithAxis=function($e,Ze){for(var zt=new RegExp("x"===Ze._id.charAt(0)?"^"+Ze._id+"y":Ze._id+"$"),kt=[],Xt=0;Xt<$e.length;Xt++){var ur=$e[Xt];zt.test(ur)&&kt.push(ur)}return kt},te.makeClipPaths=function($e){var Ze=$e._fullLayout;if(!Ze._hasOnlyLargeSploms){var or,Ht,zt={_offset:0,_length:Ze.width,_id:""},kt={_offset:0,_length:Ze.height,_id:""},Xt=te.list($e,"x",!0),ur=te.list($e,"y",!0),vr=[];for(or=0;or<Xt.length;or++)for(vr.push({x:Xt[or],y:kt}),Ht=0;Ht<ur.length;Ht++)0===or&&vr.push({x:zt,y:ur[Ht]}),vr.push({x:Xt[or],y:ur[Ht]});var pr=Ze._clips.selectAll(".axesclip").data(vr,function(xr){return xr.x._id+xr.y._id});pr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(xr){return"clip"+Ze._uid+xr.x._id+xr.y._id}).append("rect"),pr.exit().remove(),pr.each(function(xr){S.select(this).select("rect").attr({x:xr.x._offset||0,y:xr.y._offset||0,width:xr.x._length||1,height:xr.y._length||1})})}},te.draw=function($e,Ze,zt){var kt=$e._fullLayout;"redraw"===Ze&&kt._paper.selectAll("g.subplot").each(function(Ht){var xr=kt._plots[Ht[0]];if(xr){var Mr=xr.xaxis,kr=xr.yaxis;xr.xaxislayer.selectAll("."+Mr._id+"tick").remove(),xr.yaxislayer.selectAll("."+kr._id+"tick").remove(),xr.xaxislayer.selectAll("."+Mr._id+"tick2").remove(),xr.yaxislayer.selectAll("."+kr._id+"tick2").remove(),xr.xaxislayer.selectAll("."+Mr._id+"divider").remove(),xr.yaxislayer.selectAll("."+kr._id+"divider").remove(),xr.minorGridlayer&&xr.minorGridlayer.selectAll("path").remove(),xr.gridlayer&&xr.gridlayer.selectAll("path").remove(),xr.zerolinelayer&&xr.zerolinelayer.selectAll("path").remove(),kt._infolayer.select(".g-"+Mr._id+"title").remove(),kt._infolayer.select(".g-"+kr._id+"title").remove()}});var Xt=Ze&&"redraw"!==Ze?Ze:te.listIds($e),vr=te.list($e).filter(function(Ht){return Ht.autoshift}).map(function(Ht){return Ht.overlaying});Xt.map(function(Ht){var pr=te.getFromId($e,Ht);if("sync"===pr.tickmode&&pr.overlaying){var xr=Xt.findIndex(function(Mr){return Mr===pr.overlaying});xr>=0&&Xt.unshift(Xt.splice(xr,1).shift())}});var or={false:{left:0,right:0}};return I.syncOrAsync(Xt.map(function(Ht){return function(){if(Ht){var pr=te.getFromId($e,Ht);zt||(zt={}),zt.axShifts=or,zt.overlayingShiftedAx=vr;var xr=te.drawOne($e,pr,zt);return pr._shiftPusher&&hr(pr,pr._fullDepth||0,or,!0),pr._r=pr.range.slice(),pr._rl=I.simpleMap(pr._r,pr.r2l),xr}}}))},te.drawOne=function($e,Ze,zt){var ur,vr,or,kt=(zt=zt||{}).axShifts||{},Xt=zt.overlayingShiftedAx||[];Ze.setScale();var Ht=$e._fullLayout,pr=Ze._id,xr=pr.charAt(0),Mr=te.counterLetter(pr),kr=Ht._plots[Ze._mainSubplot];if(kr){if(Ze._shiftPusher=Ze.autoshift||-1!==Xt.indexOf(Ze._id)||-1!==Xt.indexOf(Ze.overlaying),Ze._shiftPusher&"free"===Ze.anchor){var un=Ze.linewidth/2||0;"inside"===Ze.ticks&&(un+=Ze.ticklen),hr(Ze,un,kt,!0),hr(Ze,Ze.shift||0,kt,!1)}(!0!==zt.skipTitle||void 0===Ze._shift)&&(Ze._shift=function wr($e,Ze){return $e.autoshift?Ze[$e.overlaying][$e.side]:$e.shift||0}(Ze,kt));var Nr=kr[xr+"axislayer"],Yr=Ze._mainLinePosition,$r=Yr+=Ze._shift,Qr=Ze._mainMirrorPosition,Wn=Ze._vals=te.calcTicks(Ze),An=[Ze.mirror,$r,Qr].join("_");for(ur=0;ur<Wn.length;ur++)Wn[ur].axInfo=An;Ze._selections={},Ze._tickAngles&&(Ze._prevTickAngles=Ze._tickAngles),Ze._tickAngles={},Ze._depth=null;var Tr={};if(Ze.visible){var an,Cn,Xr=te.makeTransTickFn(Ze),Ur=te.makeTransTickLabelFn(Ze),En="inside"===Ze.ticks,Fn="outside"===Ze.ticks;if("boundaries"===Ze.tickson){var Vn=function _e($e,Ze){var kt,zt=[],Xt=function(ur,vr){var or=ur.xbnd[vr];null!==or&&zt.push(I.extendFlat({},ur,{x:or}))};if(Ze.length){for(kt=0;kt<Ze.length;kt++)Xt(Ze[kt],0);Xt(Ze[kt-1],1)}return zt}(0,Wn);Cn=te.clipEnds(Ze,Vn),an=En?Cn:Vn}else Cn=te.clipEnds(Ze,Wn),an=En&&"period"!==Ze.ticklabelmode?Cn:Wn;var vi=Ze._gridVals=Cn,li=function ft($e,Ze){var kt,Xt,zt=[],ur=Ze.length&&Ze[Ze.length-1].x<Ze[0].x,vr=function(Ht,pr){var xr=Ht.xbnd[pr];null!==xr&&zt.push(I.extendFlat({},Ht,{x:xr}))};if($e.showdividers&&Ze.length){for(kt=0;kt<Ze.length;kt++){var or=Ze[kt];or.text2!==Xt&&vr(or,ur?1:0),Xt=or.text2}vr(Ze[kt-1],ur?0:1)}return zt}(Ze,Wn);if(!Ht._hasOnlyLargeSploms){var bi=Ze._subplotsWith,si={};for(ur=0;ur<bi.length;ur++){var hi=(or=Ht._plots[vr=bi[ur]])[Mr+"axis"],Ir=hi._mainAxis._id;if(!si[Ir]){si[Ir]=1;var gn="x"===xr?"M0,"+hi._offset+"v"+hi._length:"M"+hi._offset+",0h"+hi._length;te.drawGrid($e,Ze,{vals:vi,counterAxis:hi,layer:or.gridlayer.select("."+pr),minorLayer:or.minorGridlayer.select("."+pr),path:gn,transFn:Xr}),te.drawZeroLine($e,Ze,{counterAxis:hi,layer:or.zerolinelayer,path:gn,transFn:Xr})}}}var pn,Dn=te.getTickSigns(Ze),qn=te.getTickSigns(Ze,"minor");if(Ze.ticks||Ze.minor&&Ze.minor.ticks){var Qn,ii,$n,ha,Nn=te.makeTickPath(Ze,$r,Dn[2]),zn=te.makeTickPath(Ze,$r,qn[2],{minor:!0});if(Ze._anchorAxis&&Ze.mirror&&!0!==Ze.mirror?(Qn=te.makeTickPath(Ze,Qr,Dn[3]),ii=te.makeTickPath(Ze,Qr,qn[3],{minor:!0}),$n=Nn+Qn,ha=zn+ii):(Qn="",ii="",$n=Nn,ha=zn),Ze.showdividers&&Fn&&"boundaries"===Ze.tickson){var qt={};for(ur=0;ur<li.length;ur++)qt[li[ur].x]=1;pn=function(Gr){return qt[Gr.x]?Qn:$n}}else pn=function(Gr){return Gr.minor?ha:$n}}if(te.drawTicks($e,Ze,{vals:an,layer:Nr,path:pn,transFn:Xr}),"allticks"===Ze.mirror){var Pr=Object.keys(Ze._linepositions||{});for(ur=0;ur<Pr.length;ur++){or=Ht._plots[vr=Pr[ur]];var jr=Ze._linepositions[vr]||[],vn=jr[1],Bn=jr[2],In=te.makeTickPath(Ze,jr[0],Bn?Dn[0]:qn[0],{minor:Bn})+te.makeTickPath(Ze,vn,Bn?Dn[1]:qn[1],{minor:Bn});te.drawTicks($e,Ze,{vals:an,layer:or[xr+"axislayer"],path:In,transFn:Xr})}}var Tn=[];if(Tn.push(function(){return te.drawLabels($e,Ze,{vals:Wn,layer:Nr,plotinfo:or,transFn:Ur,labelFns:te.makeLabelFns(Ze,$r)})}),"multicategory"===Ze.type){var Br={x:2,y:10}[xr];Tn.push(function(){var Gr={x:"height",y:"width"}[xr],Mn=nr()[Gr]+Br+(Ze._tickAngles[pr+"tick"]?Ze.tickfont.size*ue:0);return te.drawLabels($e,Ze,{vals:et(Ze,Wn),layer:Nr,cls:pr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Xr,labelFns:te.makeLabelFns(Ze,$r+Mn*Dn[4])})}),Tn.push(function(){return Ze._depth=Dn[4]*(nr("tick2")[Ze.side]-$r),function Ut($e,Ze,zt){var kt=Ze._id+"divider",Xt=zt.vals,ur=zt.layer.selectAll("path."+kt).data(Xt,Lt);ur.exit().remove(),ur.enter().insert("path",":first-child").classed(kt,1).classed("crisp",1).call(n.stroke,Ze.dividercolor).style("stroke-width",c.crispRound($e,Ze.dividerwidth,1)+"px"),ur.attr("transform",zt.transFn).attr("d",zt.path)}($e,Ze,{vals:li,layer:Nr,path:te.makeTickPath(Ze,$r,Dn[4],{len:Ze._depth}),transFn:Xr})})}else Ze.title.hasOwnProperty("standoff")&&Tn.push(function(){Ze._depth=Dn[4]*(nr()[Ze.side]-$r)});var Or=R.getComponentMethod("rangeslider","isVisible")(Ze);return!zt.skipTitle&&!(Or&&"bottom"===Ze.side)&&Tn.push(function(){return function Cr($e,Ze){var vr,zt=$e._fullLayout,kt=Ze._id,Xt=kt.charAt(0),ur=Ze.title.font.size;if(Ze.title.hasOwnProperty("standoff"))vr=Ze._depth+Ze.title.standoff+Qt(Ze);else{var or=er(Ze);if("multicategory"===Ze.type)vr=Ze._depth;else{var Ht=1.5*ur;or&&(Ht=.5*ur,"outside"===Ze.ticks&&(Ht+=Ze.ticklen)),vr=10+Ht+(Ze.linewidth?Ze.linewidth-1:0)}or||(vr+="x"===Xt?"top"===Ze.side?ur*(Ze.showticklabels?1:0):ur*(Ze.showticklabels?1.5:.5):"right"===Ze.side?ur*(Ze.showticklabels?1:.5):ur*(Ze.showticklabels?.5:0))}var xr,Mr,kr,un,pr=te.getPxPosition($e,Ze);if("x"===Xt?(Mr=Ze._offset+Ze._length/2,kr="top"===Ze.side?pr-vr:pr+vr):(kr=Ze._offset+Ze._length/2,Mr="right"===Ze.side?pr+vr:pr-vr,xr={rotate:"-90",offset:0}),"multicategory"!==Ze.type){var Nr=Ze._selections[Ze._id+"tick"];if(un={selection:Nr,side:Ze.side},Nr&&Nr.node()&&Nr.node().parentNode){var Yr=c.getTranslate(Nr.node().parentNode);un.offsetLeft=Yr.x,un.offsetTop=Yr.y}Ze.title.hasOwnProperty("standoff")&&(un.pad=0)}return Ze._titleStandoff=vr,r.draw($e,kt+"title",{propContainer:Ze,propName:Ze._name+".title.text",placeholder:zt._dfltTitle[Xt],avoid:un,transform:xr,attributes:{x:Mr,y:kr,"text-anchor":"middle"}})}($e,Ze)}),Tn.push(function(){var dn,_n,gi,wi,Gr=Ze.side.charAt(0),Mn=ce[Ze.side].charAt(0),Zn=te.getPxPosition($e,Ze),fi=Fn?Ze.ticklen:0;(Ze.automargin||Or||Ze._shiftPusher)&&("multicategory"===Ze.type?dn=nr("tick2"):(dn=nr(),"x"===xr&&"b"===Gr&&(Ze._depth=Math.max(dn.width>0?dn.bottom-Zn:0,fi))));var Fi=0,Mi=0;if(Ze._shiftPusher&&(Fi=Math.max(fi,dn.height>0?"l"===Gr?Zn-dn.left:dn.right-Zn:0),Ze.title.text!==Ht._dfltTitle[xr]&&(Mi=(Ze._titleStandoff||0)+(Ze._titleScoot||0),"l"===Gr&&(Mi+=Qt(Ze))),Ze._fullDepth=Math.max(Fi,Mi)),Ze.automargin){_n={x:0,y:0,r:0,l:0,t:0,b:0};var mi=[0,1],Vo="number"==typeof Ze._shift?Ze._shift:0;if("x"===xr){if("b"===Gr?_n[Gr]=Ze._depth:(_n[Gr]=Ze._depth=Math.max(dn.width>0?Zn-dn.top:0,fi),mi.reverse()),dn.width>0){var Os=dn.right-(Ze._offset+Ze._length);Os>0&&(_n.xr=1,_n.r=Os);var os=Ze._offset-dn.left;os>0&&(_n.xl=0,_n.l=os)}}else if("l"===Gr?(Ze._depth=Math.max(dn.height>0?Zn-dn.left:0,fi),_n[Gr]=Ze._depth-Vo):(Ze._depth=Math.max(dn.height>0?dn.right-Zn:0,fi),_n[Gr]=Ze._depth+Vo,mi.reverse()),dn.height>0){var ss=dn.bottom-(Ze._offset+Ze._length);ss>0&&(_n.yb=0,_n.b=ss);var bu=Ze._offset-dn.top;bu>0&&(_n.yt=1,_n.t=bu)}_n[Mr]="free"===Ze.anchor?Ze.position:Ze._anchorAxis.domain[mi[0]],Ze.title.text!==Ht._dfltTitle[xr]&&(_n[Gr]+=Qt(Ze)+(Ze.title.standoff||0)),Ze.mirror&&"free"!==Ze.anchor&&((gi={x:0,y:0,r:0,l:0,t:0,b:0})[Mn]=Ze.linewidth,Ze.mirror&&!0!==Ze.mirror&&(gi[Mn]+=fi),!0===Ze.mirror||"ticks"===Ze.mirror?gi[Mr]=Ze._anchorAxis.domain[mi[1]]:("all"===Ze.mirror||"allticks"===Ze.mirror)&&(gi[Mr]=[Ze._counterDomainMin,Ze._counterDomainMax][mi[1]]))}Or&&(wi=R.getComponentMethod("rangeslider","autoMarginOpts")($e,Ze)),"string"==typeof Ze.automargin&&(Te(_n,Ze.automargin),Te(gi,Ze.automargin)),l.autoMargin($e,mr(Ze),_n),l.autoMargin($e,bt(Ze),gi),l.autoMargin($e,ct(Ze),wi)}),I.syncOrAsync(Tn)}}function nr(Gr){var Mn=pr+(Gr||"tick");return Tr[Mn]||(Tr[Mn]=function gt($e,Ze){var zt,kt,Xt,ur;return $e._selections[Ze].size()?(zt=1/0,kt=-1/0,Xt=1/0,ur=-1/0,$e._selections[Ze].each(function(){var vr=Lr(this),or=c.bBox(vr.node().parentNode);zt=Math.min(zt,or.top),kt=Math.max(kt,or.bottom),Xt=Math.min(Xt,or.left),ur=Math.max(ur,or.right)})):(zt=0,kt=0,Xt=0,ur=0),{top:zt,bottom:kt,left:Xt,right:ur,height:kt-zt,width:ur-Xt}}(Ze,Mn)),Tr[Mn]}},te.getTickSigns=function($e,Ze){var zt=$e._id.charAt(0),Xt=$e.side==={x:"top",y:"right"}[zt]?1:-1,ur=[-1,1,Xt,-Xt];return"inside"!==(Ze?($e.minor||{}).ticks:$e.ticks)==("x"===zt)&&(ur=ur.map(function(or){return-or})),$e.side&&ur.push({l:-1,t:-1,r:1,b:1}[$e.side.charAt(0)]),ur},te.makeTransTickFn=function($e){return"x"===$e._id.charAt(0)?function(Ze){return v($e._offset+$e.l2p(Ze.x),0)}:function(Ze){return v(0,$e._offset+$e.l2p(Ze.x))}},te.makeTransTickLabelFn=function($e){var Ze=function ir($e){var Ze=$e.ticklabelposition||"",zt=function(un){return-1!==Ze.indexOf(un)},kt=zt("top"),Xt=zt("left"),ur=zt("right"),vr=zt("bottom"),or=zt("inside"),Ht=vr||Xt||kt||ur;if(!Ht&&!or)return[0,0];var pr=$e.side,xr=Ht?($e.tickwidth||0)/2:0,Mr=3,kr=$e.tickfont?$e.tickfont.size:12;return(vr||kt)&&(xr+=kr*ee,Mr+=($e.linewidth||0)/2),(Xt||ur)&&(xr+=($e.linewidth||0)/2,Mr+=3),or&&"top"===pr&&(Mr-=kr*(1-ee)),(Xt||kt)&&(xr=-xr),("bottom"===pr||"right"===pr)&&(Mr=-Mr),[Ht?xr:0,or?Mr:0]}($e),zt=Ze[0],kt=Ze[1];return"x"===$e._id.charAt(0)?function(Xt){return v(zt+$e._offset+$e.l2p(Kt(Xt)),kt)}:function(Xt){return v(kt,zt+$e._offset+$e.l2p(Kt(Xt)))}},te.makeTickPath=function($e,Ze,zt,kt){kt||(kt={});var Xt=kt.minor;if(Xt&&!$e.minor)return"";var ur=void 0!==kt.len?kt.len:Xt?$e.minor.ticklen:$e.ticklen,vr=$e._id.charAt(0),or=($e.linewidth||1)/2;return"x"===vr?"M0,"+(Ze+or*zt)+"v"+ur*zt:"M"+(Ze+or*zt)+",0h"+ur*zt},te.makeLabelFns=function($e,Ze,zt){var kt=$e.ticklabelposition||"",Xt=function(Vn){return-1!==kt.indexOf(Vn)},ur=Xt("top"),vr=Xt("left"),or=Xt("right"),pr=Xt("bottom")||vr||ur||or,xr=Xt("inside"),Mr="inside"===kt&&"inside"===$e.ticks||!xr&&"outside"===$e.ticks&&"boundaries"!==$e.tickson,kr=0,un=0,Nr=Mr?$e.ticklen:0;if(xr?Nr*=-1:pr&&(Nr=0),Mr&&(kr+=Nr,zt)){var Yr=I.deg2rad(zt);kr=Nr*Math.cos(Yr)+1,un=Nr*Math.sin(Yr)}$e.showticklabels&&(Mr||$e.showline)&&(kr+=.2*$e.tickfont.size);var Qr,Wn,An,Tr,Cn,$r={labelStandoff:kr+=($e.linewidth||1)/2*(xr?-1:1),labelShift:un},nr=0,Xr=$e.side,Ur=$e._id.charAt(0),an=$e.tickangle;if("x"===Ur)Tr=(Cn=!xr&&"bottom"===Xr||xr&&"top"===Xr)?1:-1,xr&&(Tr*=-1),Qr=un*Tr,Wn=Ze+kr*Tr,An=Cn?1:-.2,90===Math.abs(an)&&(xr?An+=Y:An=-90===an&&"bottom"===Xr?ee:90===an&&"top"===Xr?Y:.5,nr=Y/2*(an/90)),$r.xFn=function(Vn){return Vn.dx+Qr+nr*Vn.fontSize},$r.yFn=function(Vn){return Vn.dy+Wn+Vn.fontSize*An},$r.anchorFn=function(Vn,vi){if(pr){if(vr)return"end";if(or)return"start"}return k(vi)&&0!==vi&&180!==vi?vi*Tr<0!==xr?"end":"start":"middle"},$r.heightFn=function(Vn,vi,li){return vi<-60||vi>60?-.5*li:"top"===$e.side!==xr?-li:0};else if("y"===Ur){if(Tr=(Cn=!xr&&"left"===Xr||xr&&"right"===Xr)?1:-1,xr&&(Tr*=-1),Qr=kr,Wn=un*Tr,An=0,!xr&&90===Math.abs(an)&&(An=-90===an&&"left"===Xr||90===an&&"right"===Xr?ee:.5),xr){var En=k(an)?+an:0;if(0!==En){var Fn=I.deg2rad(En);nr=Math.abs(Math.sin(Fn))*ee*Tr,An=0}}$r.xFn=function(Vn){return Vn.dx+Ze-(Qr+Vn.fontSize*An)*Tr+nr*Vn.fontSize},$r.yFn=function(Vn){return Vn.dy+Wn+Vn.fontSize*Y},$r.anchorFn=function(Vn,vi){return k(vi)&&90===Math.abs(vi)?"middle":Cn?"end":"start"},$r.heightFn=function(Vn,vi,li){return"right"===$e.side&&(vi*=-1),vi<-30?-li:vi<30?-.5*li:0}}return $r},te.drawTicks=function($e,Ze,zt){zt=zt||{};var kt=Ze._id+"tick",Xt=[].concat(Ze.minor&&Ze.minor.ticks?zt.vals.filter(function(vr){return vr.minor&&!vr.noTick}):[]).concat(Ze.ticks?zt.vals.filter(function(vr){return!vr.minor&&!vr.noTick}):[]),ur=zt.layer.selectAll("path."+kt).data(Xt,Lt);ur.exit().remove(),ur.enter().append("path").classed(kt,1).classed("ticks",1).classed("crisp",!1!==zt.crisp).each(function(vr){return n.stroke(S.select(this),vr.minor?Ze.minor.tickcolor:Ze.tickcolor)}).style("stroke-width",function(vr){return c.crispRound($e,vr.minor?Ze.minor.tickwidth:Ze.tickwidth,1)+"px"}).attr("d",zt.path).style("display",null),dr(Ze,[V]),ur.attr("transform",zt.transFn)},te.drawGrid=function($e,Ze,zt){if(zt=zt||{},"sync"!==Ze.tickmode){var kt=Ze._id+"grid",Xt=Ze.minor&&Ze.minor.showgrid,ur=Xt?zt.vals.filter(function(Qr){return Qr.minor}):[],vr=Ze.showgrid?zt.vals.filter(function(Qr){return!Qr.minor}):[],or=zt.counterAxis;if(or&&te.shouldShowZeroLine($e,Ze,or))for(var Ht="array"===Ze.tickmode,pr=0;pr<vr.length;pr++){var xr=vr[pr].x;if(Ht?!xr:Math.abs(xr)<Ze.dtick/100){if(vr=vr.slice(0,pr).concat(vr.slice(pr+1)),!Ht)break;pr--}}Ze._gw=c.crispRound($e,Ze.gridwidth,1);for(var Mr=Xt?c.crispRound($e,Ze.minor.gridwidth,1):0,kr=zt.layer,un=zt.minorLayer,Nr=1;Nr>=0;Nr--){var Yr=Nr?kr:un;if(Yr){var $r=Yr.selectAll("path."+kt).data(Nr?vr:ur,Lt);$r.exit().remove(),$r.enter().append("path").classed(kt,1).classed("crisp",!1!==zt.crisp),$r.attr("transform",zt.transFn).attr("d",zt.path).each(function(Qr){return n.stroke(S.select(this),Qr.minor?Ze.minor.gridcolor:Ze.gridcolor||"#ddd")}).style("stroke-dasharray",function(Qr){return c.dashStyle(Qr.minor?Ze.minor.griddash:Ze.griddash,Qr.minor?Ze.minor.gridwidth:Ze.gridwidth)}).style("stroke-width",function(Qr){return(Qr.minor?Mr:Ze._gw)+"px"}).style("display",null),"function"==typeof zt.path&&$r.attr("d",zt.path)}}dr(Ze,[_,z])}},te.drawZeroLine=function($e,Ze,zt){var kt=Ze._id+"zl",Xt=te.shouldShowZeroLine($e,Ze,(zt=zt||zt).counterAxis),ur=zt.layer.selectAll("path."+kt).data(Xt?[{x:0,id:Ze._id}]:[]);ur.exit().remove(),ur.enter().append("path").classed(kt,1).classed("zl",1).classed("crisp",!1!==zt.crisp).each(function(){zt.layer.selectAll("path").sort(function(vr,or){return Z(vr.id,or.id)})}),ur.attr("transform",zt.transFn).attr("d",zt.path).call(n.stroke,Ze.zerolinecolor||n.defaultLine).style("stroke-width",c.crispRound($e,Ze.zerolinewidth,Ze._gw||1)+"px").style("display",null),dr(Ze,[F])},te.drawLabels=function($e,Ze,zt){zt=zt||{};var kt=$e._fullLayout,Xt=Ze._id,ur=Xt.charAt(0),vr=zt.cls||Xt+"tick",or=zt.vals.filter(function(li){return li.text}),Ht=zt.labelFns,pr=zt.secondary?0:Ze.tickangle,xr=(Ze._prevTickAngles||{})[vr],Mr=zt.layer.selectAll("g."+vr).data(Ze.showticklabels?or:[],Lt),kr=[];function un(li,bi){li.each(function(si){var hi=S.select(this),Ir=hi.select(".text-math-group"),gn=Ht.anchorFn(si,bi),pn=zt.transFn.call(hi.node(),si)+(k(bi)&&0!=+bi?" rotate("+bi+","+Ht.xFn(si)+","+(Ht.yFn(si)-si.fontSize/2)+")":""),Dn=w.lineCount(hi),qn=ue*si.fontSize,Nn=Ht.heightFn(si,k(bi)?+bi:0,(Dn-1)*qn);if(Nn&&(pn+=v(0,Nn)),Ir.empty()){var zn=hi.select("text");zn.attr({transform:pn,"text-anchor":gn}),zn.style("opacity",1),Ze._adjustTickLabelsOverflow&&Ze._adjustTickLabelsOverflow()}else{var Qn=c.bBox(Ir.node()).width;Ir.attr("transform",pn+v(Qn*{end:-.5,start:.5}[gn],0))}})}Mr.enter().append("g").classed(vr,1).append("text").attr("text-anchor","middle").each(function(li){var bi=S.select(this),si=$e._promises.length;bi.call(w.positionText,Ht.xFn(li),Ht.yFn(li)).call(c.font,li.font,li.fontSize,li.fontColor).text(li.text).call(w.convertToTspans,$e),$e._promises[si]?kr.push($e._promises.pop().then(function(){un(bi,pr)})):un(bi,pr)}),dr(Ze,[H]),Mr.exit().remove(),zt.repositionOnUpdate&&Mr.each(function(li){S.select(this).select("text").call(w.positionText,Ht.xFn(li),Ht.yFn(li))}),Ze._adjustTickLabelsOverflow=function(){var li=Ze.ticklabeloverflow;if(li&&"allow"!==li){var bi=-1!==li.indexOf("hide"),si="x"===Ze._id.charAt(0),hi=0,Ir=si?$e._fullLayout.width:$e._fullLayout.height;if(-1!==li.indexOf("domain")){var gn=I.simpleMap(Ze.range,Ze.r2l);hi=Ze.l2p(gn[0])+Ze._offset,Ir=Ze.l2p(gn[1])+Ze._offset}var pn=Math.min(hi,Ir),Dn=Math.max(hi,Ir),qn=Ze.side,Nn=1/0,zn=-1/0;for(var Qn in Mr.each(function(ha){var qt=S.select(this);if(qt.select(".text-math-group").empty()){var jr=c.bBox(qt.node()),bn=0;si?(jr.right>Dn||jr.left<pn)&&(bn=1):(jr.bottom>Dn||jr.top+(Ze.tickangle?0:ha.fontSize/4)<pn)&&(bn=1);var vn=qt.select("text");bn?bi&&vn.style("opacity",0):(vn.style("opacity",1),Nn="bottom"===qn||"right"===qn?Math.min(Nn,si?jr.top:jr.left):-1/0,zn="top"===qn||"left"===qn?Math.max(zn,si?jr.bottom:jr.right):1/0)}}),kt._plots){var ii=kt._plots[Qn];if(Ze._id===ii.xaxis._id||Ze._id===ii.yaxis._id){var $n=si?ii.yaxis:ii.xaxis;$n&&($n["_visibleLabelMin_"+Ze._id]=Nn,$n["_visibleLabelMax_"+Ze._id]=zn)}}}},Ze._hideCounterAxisInsideTickLabels=function(li){var bi="x"===Ze._id.charAt(0),si=[];for(var hi in kt._plots){var Ir=kt._plots[hi];Ze._id!==Ir.xaxis._id&&Ze._id!==Ir.yaxis._id||si.push(bi?Ir.yaxis:Ir.xaxis)}si.forEach(function(gn,pn){gn&&er(gn)&&(li||[F,z,_,V,H]).forEach(function(Dn){var qn="tick"===Dn.K&&"text"===Dn.L&&"period"===Ze.ticklabelmode,Nn=kt._plots[Ze._mainSubplot];(Dn.K===F.K?Nn.zerolinelayer.selectAll("."+Ze._id+"zl"):Dn.K===z.K?Nn.minorGridlayer.selectAll("."+Ze._id):Dn.K===_.K?Nn.gridlayer.selectAll("."+Ze._id):Nn[Ze._id.charAt(0)+"axislayer"]).each(function(){var Qn=S.select(this);Dn.L&&(Qn=Qn.selectAll(Dn.L)),Qn.each(function(ii){var $n=Ze.l2p(qn?Kt(ii):ii.x)+Ze._offset,ha=S.select(this);$n<Ze["_visibleLabelMax_"+gn._id]&&$n>Ze["_visibleLabelMin_"+gn._id]?ha.style("display","none"):"tick"===Dn.K&&!pn&&ha.style("display",null)})})})})},un(Mr,xr+1?xr:pr);var Yr=null;Ze._selections&&(Ze._selections[vr]=Mr);var Qr=[function Nr(){return kr.length&&Promise.all(kr)}];Ze.automargin&&kt._redrawFromAutoMarginCount&&90===xr?(Yr=90,Qr.push(function(){un(Mr,xr)})):Qr.push(function $r(){if(un(Mr,pr),or.length&&"x"===ur&&!k(pr)&&("log"!==Ze.type||"D"!==String(Ze.dtick).charAt(0))){Yr=0;var si,li=0,bi=[];if(Mr.each(function(jr){li=Math.max(li,jr.fontSize);var bn=Ze.l2p(jr.x),vn=Lr(this),Bn=c.bBox(vn.node());bi.push({top:0,bottom:10,height:10,left:bn-Bn.width/2,right:bn+Bn.width/2+2,width:Bn.width+2})}),"boundaries"!==Ze.tickson&&!Ze.showdividers||zt.secondary){var pn=or.length,Dn=Math.abs((or[pn-1].x-or[0].x)*Ze._m)/(pn-1),qn=Ze.ticklabelposition||"",Nn=function(jr){return-1!==qn.indexOf(jr)},zn=Nn("top"),Qn=Nn("left"),ii=Nn("right"),qt=Nn("bottom")||Qn||zn||ii?(Ze.tickwidth||0)+6:0,Pr=Dn<2.5*li||"multicategory"===Ze.type||"realaxis"===Ze._name;for(si=0;si<bi.length-1;si++)if(I.bBoxIntersect(bi[si],bi[si+1],qt)){Yr=Pr?90:30;break}}else{var hi=2;for(Ze.ticks&&(hi+=Ze.tickwidth/2),si=0;si<bi.length;si++){var Ir=or[si].xbnd,gn=bi[si];if(null!==Ir[0]&&gn.left-Ze.l2p(Ir[0])<hi||null!==Ir[1]&&Ze.l2p(Ir[1])-gn.right<hi){Yr=90;break}}}Yr&&un(Mr,Yr)}}),Ze._tickAngles&&Qr.push(function(){Ze._tickAngles[vr]=null===Yr?k(pr)?pr:0:Yr});var Wn=function(){var li=0,bi=0;return Mr.each(function(si,hi){var pn,Ir=Lr(this);Ir.select(".text-math-group").empty()&&(Ze._vals[hi]&&(pn=Ze._vals[hi].bb||c.bBox(Ir.node()),Ze._vals[hi].bb=pn),li=Math.max(li,pn.width),bi=Math.max(bi,pn.height))}),{labelsMaxW:li,labelsMaxH:bi}},An=Ze._anchorAxis;if(An&&(An.autorange||An.insiderange)&&er(Ze)&&!q(kt,Ze._id)&&(kt._insideTickLabelsUpdaterange||(kt._insideTickLabelsUpdaterange={}),An.autorange&&(kt._insideTickLabelsUpdaterange[An._name+".autorange"]=An.autorange,Qr.push(Wn)),An.insiderange)){var Tr=Wn(),nr="y"===Ze._id.charAt(0)?Tr.labelsMaxW:Tr.labelsMaxH;nr+=6,"inside"===Ze.ticklabelposition&&(nr+=Ze.ticklen||0);var Xr="right"===Ze.side||"top"===Ze.side?1:-1,Ur=1===Xr?1:0,an=1===Xr?0:1,Cn=[];Cn[an]=An.range[an];var En=An.d2p(An.range[Ur]),Fn=An.d2p(An.range[an]),Vn=Math.abs(Fn-En);Vn-nr>0?nr*=1+nr/(Vn-=nr):nr=0,"y"!==Ze._id.charAt(0)&&(nr=-nr),Cn[Ur]=An.p2d(An.d2p(An.range[Ur])+Xr*nr),"min"===An.autorange||"max reversed"===An.autorange?(Cn[0]=null,An._rangeInitial0=void 0,An._rangeInitial1=void 0):("max"===An.autorange||"min reversed"===An.autorange)&&(Cn[1]=null,An._rangeInitial0=void 0,An._rangeInitial1=void 0),kt._insideTickLabelsUpdaterange[An._name+".range"]=Cn}var vi=I.syncOrAsync(Qr);return vi&&vi.then&&$e._promises.push(vi),vi},te.getPxPosition=function($e,Ze){var ur,zt=$e._fullLayout._size,kt=Ze._id.charAt(0),Xt=Ze.side;return"free"!==Ze.anchor?ur=Ze._anchorAxis:"x"===kt?ur={_offset:zt.t+(1-(Ze.position||0))*zt.h,_length:0}:"y"===kt&&(ur={_offset:zt.l+(Ze.position||0)*zt.w+Ze._shift,_length:0}),"top"===Xt||"left"===Xt?ur._offset:"bottom"===Xt||"right"===Xt?ur._offset+ur._length:void 0},te.shouldShowZeroLine=function($e,Ze,zt){var kt=I.simpleMap(Ze.range,Ze.r2l);return kt[0]*kt[1]<=0&&Ze.zeroline&&("linear"===Ze.type||"-"===Ze.type)&&!(Ze.rangebreaks&&Ze.maskBreaks(0)===B)&&(wt(Ze,0)||!function $t($e,Ze,zt,kt){var Xt=zt._mainAxis;if(Xt){var ur=$e._fullLayout,vr=Ze._id.charAt(0),or=te.counterLetter(Ze._id),Ht=Ze._offset+(Math.abs(kt[0])<Math.abs(kt[1])==("x"===vr)?0:Ze._length),xr=ur._plots[zt._mainSubplot];if(!(xr.mainplotinfo||xr).overlays.length)return pr(zt);for(var Mr=te.list($e,or),kr=0;kr<Mr.length;kr++){var un=Mr[kr];if(un._mainAxis===Xt&&pr(un))return!0}}function pr(Nr){if(!Nr.showline||!Nr.linewidth)return!1;var Yr=Math.max((Nr.linewidth+Ze.zerolinewidth)/2,1);function $r(An){return"number"==typeof An&&Math.abs(An-Ht)<Yr}if($r(Nr._mainLinePosition)||$r(Nr._mainMirrorPosition))return!0;var Qr=Nr._linepositions||{};for(var Wn in Qr)if($r(Qr[Wn][0])||$r(Qr[Wn][1]))return!0}}($e,Ze,zt,kt)||function rr($e,Ze){for(var zt=$e._fullData,kt=Ze._mainSubplot,Xt=Ze._id.charAt(0),ur=0;ur<zt.length;ur++){var vr=zt[ur];if(!0===vr.visible&&vr.xaxis+vr.yaxis===kt&&(R.traceIs(vr,"bar-like")&&vr.orientation==={x:"h",y:"v"}[Xt]||vr.fill&&vr.fill.charAt(vr.fill.length-1)===Xt))return!0}return!1}($e,Ze))},te.clipEnds=function($e,Ze){return Ze.filter(function(zt){return wt($e,zt.x)})},te.allowAutoMargin=function($e){for(var Ze=te.list($e,"",!0),zt=0;zt<Ze.length;zt++){var kt=Ze[zt];kt.automargin&&(l.allowAutoMargin($e,mr(kt)),kt.mirror&&l.allowAutoMargin($e,bt(kt))),R.getComponentMethod("rangeslider","isVisible")(kt)&&l.allowAutoMargin($e,ct(kt))}},te.swap=function($e,Ze){for(var zt=function At($e,Ze){var kt,Xt,zt=[];for(kt=0;kt<Ze.length;kt++){var ur=[],vr=$e._fullData[Ze[kt]].xaxis,or=$e._fullData[Ze[kt]].yaxis;if(vr&&or){for(Xt=0;Xt<zt.length;Xt++)(-1!==zt[Xt].x.indexOf(vr)||-1!==zt[Xt].y.indexOf(or))&&ur.push(Xt);if(!ur.length){zt.push({x:[vr],y:[or]});continue}var pr,Ht=zt[ur[0]];if(ur.length>1)for(Xt=1;Xt<ur.length;Xt++)It(Ht.x,(pr=zt[ur[Xt]]).x),It(Ht.y,pr.y);It(Ht.x,[vr]),It(Ht.y,[or])}}return zt}($e,Ze),kt=0;kt<zt.length;kt++)Ft($e,zt[kt].x,zt[kt].y)}},4322:function(oe,J,t){"use strict";var S=t(92770),k=t(71828),l=t(50606).BADNUM,R=k.isArrayOrTypedArray,I=k.isDateTime,v=k.cleanNumber,w=Math.round;function r(d,b){return b?S(d):"number"==typeof d}function o(d){return Math.max(1,(d-1)/1e3)}oe.exports=function(b,p,A){var m=b,u=A.noMultiCategory;if(R(m)&&!m.length)return"-";if(!u&&function h(d){return R(d[0])&&R(d[1])}(m))return"multicategory";if(u&&Array.isArray(m[0])){for(var g=[],C=0;C<m.length;C++)if(R(m[C]))for(var T=0;T<m[C].length;T++)g.push(m[C][T]);m=g}if(function c(d,b){for(var p=d.length,A=o(p),m=0,u=0,g={},C=0;C<p;C+=A){var L=d[w(C)],x=String(L);g[x]||(g[x]=1,I(L,b)&&m++,S(L)&&u++)}return m>2*u}(m,p))return"date";var L="strict"!==A.autotypenumbers;return function f(d,b){for(var p=d.length,A=o(p),m=0,u=0,g={},C=0;C<p;C+=A){var L=d[w(C)],x=String(L);if(!g[x]){g[x]=1;var E=typeof L;"boolean"===E?u++:(b?v(L)!==l:"number"===E)?m++:"string"===E&&u++}}return u>2*m}(m,L)?"category":function n(d,b){for(var p=d.length,A=0;A<p;A++)if(r(d[A],b))return!0;return!1}(m,L)?"linear":"-"}},71453:function(oe,J,t){"use strict";var S=t(92770),k=t(73972),l=t(71828),R=t(44467),I=t(85501),v=t(13838),w=t(26218),r=t(38701),n=t(96115),c=t(89426),o=t(15258),f=t(92128),h=t(23608),d=t(21994),b=t(85555).WEEKDAY_PATTERN,p=t(85555).HOUR_PATTERN;function A(g,C,T){function L(_,z){return l.coerce(g,C,v.rangebreaks,_,z)}if(L("enabled")){var E=L("bounds");if(E&&E.length>=2){var i,D,M="";if(2===E.length)for(i=0;i<2;i++)if(D=u(E[i])){M=b;break}var y=L("pattern",M);if(y===b)for(i=0;i<2;i++)(D=u(E[i]))&&(C.bounds[i]=E[i]=D-1);if(y)for(i=0;i<2;i++)switch(D=E[i],y){case b:if(!S(D))return void(C.enabled=!1);if((D=+D)!==Math.floor(D)||D<0||D>=7)return void(C.enabled=!1);C.bounds[i]=E[i]=D;break;case p:if(!S(D))return void(C.enabled=!1);if((D=+D)<0||D>24)return void(C.enabled=!1);C.bounds[i]=E[i]=D}if(!1===T.autorange){var B=T.range;if(B[0]<B[1]){if(E[0]<B[0]&&E[1]>B[1])return void(C.enabled=!1)}else if(E[0]>B[0]&&E[1]<B[1])return void(C.enabled=!1)}}else{var F=L("values");if(!F||!F.length)return void(C.enabled=!1);L("dvalue")}}}oe.exports=function(C,T,L,x,E){var _,M=x.letter,i=x.font||{},D=x.splomStash||{},y=L("visible",!x.visibleDflt),F=T.type||(T._template||{}).type||"-";"date"===F&&(k.getComponentMethod("calendars","handleDefaults")(C,T,"calendar",x.calendar),x.noTicklabelmode||(_=L("ticklabelmode")));var V="";(!x.noTicklabelposition||"multicategory"===F)&&(V=l.coerce(C,T,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===_?["outside","inside"]:"x"===M?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),x.noTicklabeloverflow||L("ticklabeloverflow",-1!==V.indexOf("inside")?"hide past domain":"category"===F||"multicategory"===F?"allow":"hide past div"),d(T,E),h(C,T,L,x),o(C,T,L,x),"category"!==F&&!x.noHover&&L("hoverformat");var H=L("color"),U=H!==v.color.dflt?H:i.color,G=D.label||E._dfltTitle[M];if(c(C,T,L,F,x),!y)return T;L("title.text",G),l.coerceFont(L,"title.font",{family:i.family,size:l.bigFont(i.size),color:U}),w(C,T,L,F);var Y=x.hasMinor;if(Y&&(R.newContainer(T,"minor"),w(C,T,L,F,{isMinor:!0})),n(C,T,L,F,x),r(C,T,L,x),Y){var ee=x.isMinor;x.isMinor=!0,r(C,T,L,x),x.isMinor=ee}f(C,T,L,{dfltColor:H,bgColor:x.bgColor,showGrid:x.showGrid,hasMinor:Y,attributes:v}),Y&&!T.minor.ticks&&!T.minor.showgrid&&delete T.minor,(T.showline||T.ticks)&&L("mirror");var ce,ue="multicategory"===F;if(x.noTickson||"category"!==F&&!ue||!T.ticks&&!T.showgrid||(ue&&(ce="boundaries"),"boundaries"===L("tickson",ce)&&delete T.ticklabelposition),ue&&L("showdividers")&&(L("dividercolor"),L("dividerwidth")),"date"===F)if(I(C,T,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:A}),T.rangebreaks.length){for(var Q=0;Q<T.rangebreaks.length;Q++)if(T.rangebreaks[Q].pattern===b){T._hasDayOfWeekBreaks=!0;break}if(d(T,E),E._has("scattergl")||E._has("splom"))for(var K=0;K<x.data.length;K++){var Z=x.data[K];("scattergl"===Z.type||"splom"===Z.type)&&(Z.visible=!1,l.warn(Z.type+" traces do not work on axes with rangebreaks. Setting trace "+Z.index+" to `visible: false`."))}}else delete T.rangebreaks;return T};var m={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function u(g){if("string"==typeof g)return m[g.substr(0,3).toLowerCase()]}},12663:function(oe,J,t){"use strict";var S=t(31562),k=S.FORMAT_LINK,l=S.DATE_FORMAT_LINK;function I(w,r){return["Sets the "+w+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+k+"."].join(" ")}function v(w,r){return I(w,r)+[" And for dates see: "+l+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}oe.exports={axisHoverFormat:function R(w,r){return{valType:"string",dflt:"",editType:"none",description:(r?I:v)("hover text",w)+["By default the values are formatted using "+(r?"generic number format":"`"+w+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:I,descriptionWithDates:v}},41675:function(oe,J,t){"use strict";var S=t(73972),k=t(85555);function l(R,I){if(I&&I.length)for(var v=0;v<I.length;v++)if(I[v][R])return!0;return!1}J.id2name=function(I){if("string"==typeof I&&I.match(k.AX_ID_PATTERN)){var v=I.split(" ")[0].substr(1);return"1"===v&&(v=""),I.charAt(0)+"axis"+v}},J.name2id=function(I){if(I.match(k.AX_NAME_PATTERN)){var v=I.substr(5);return"1"===v&&(v=""),I.charAt(0)+v}},J.cleanId=function(I,v,w){var r=/( domain)$/.test(I);if("string"==typeof I&&I.match(k.AX_ID_PATTERN)&&(!v||I.charAt(0)===v)&&(!r||w)){var n=I.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===n&&(n=""),I.charAt(0)+n+(r&&w?" domain":"")}},J.list=function(R,I,v){var w=R._fullLayout;if(!w)return[];var c,r=J.listIds(R,I),n=new Array(r.length);for(c=0;c<r.length;c++){var o=r[c];n[c]=w[o.charAt(0)+"axis"+o.substr(1)]}if(!v){var f=w._subplots.gl3d||[];for(c=0;c<f.length;c++){var h=w[f[c]];I?n.push(h[I+"axis"]):n.push(h.xaxis,h.yaxis,h.zaxis)}}return n},J.listIds=function(R,I){var v=R._fullLayout;if(!v)return[];var w=v._subplots;return I?w[I+"axis"]:w.xaxis.concat(w.yaxis)},J.getFromId=function(R,I,v){var w=R._fullLayout;return I=void 0===I||"string"!=typeof I?I:I.replace(" domain",""),"x"===v?I=I.replace(/y[0-9]*/,""):"y"===v&&(I=I.replace(/x[0-9]*/,"")),w[J.id2name(I)]},J.getFromTrace=function(R,I,v){var w=R._fullLayout,r=null;if(S.traceIs(I,"gl3d")){var n=I.scene;"scene"===n.substr(0,5)&&(r=w[n][v+"axis"])}else r=J.getFromId(R,I[v+"axis"]||v);return r},J.idSort=function(R,I){var v=R.charAt(0),w=I.charAt(0);return v!==w?v>w?1:-1:+(R.substr(1)||1)-+(I.substr(1)||1)},J.ref2id=function(R){return!!/^[xyz]/.test(R)&&R.split(" ")[0]},J.isLinked=function(R,I){return l(I,R._axisMatchGroups)||l(I,R._axisConstraintGroups)}},15258:function(oe){"use strict";oe.exports=function(S,k,l,R){if("category"===k.type){var w,I=S.categoryarray,v=Array.isArray(I)&&I.length>0;v&&(w="array");var n,r=l("categoryorder",w);"array"===r&&(n=l("categoryarray")),!v&&"array"===r&&(r=k.categoryorder="trace"),"trace"===r?k._initialCategories=[]:"array"===r?k._initialCategories=n.slice():(n=function J(t,S){var R,I,v,k=S.dataAttr||t._id.charAt(0),l={};if(S.axData)R=S.axData;else for(R=[],I=0;I<S.data.length;I++){var w=S.data[I];w[k+"axis"]===t._id&&R.push(w)}for(I=0;I<R.length;I++){var r=R[I][k];for(v=0;v<r.length;v++){var n=r[v];null!=n&&(l[n]=1)}}return Object.keys(l)}(k,R).sort(),"category ascending"===r?k._initialCategories=n:"category descending"===r&&(k._initialCategories=n.reverse()))}}},66287:function(oe,J,t){"use strict";var S=t(92770),k=t(71828),l=t(50606),R=l.ONEDAY,I=l.ONEWEEK;J.dtick=function(v,w){var r="log"===w,n="date"===w,c="category"===w,o=n?R:1;if(!v)return o;if(S(v))return(v=Number(v))<=0?o:c?Math.max(1,Math.round(v)):n?Math.max(.1,v):v;if("string"!=typeof v||!n&&!r)return o;var f=v.charAt(0),h=v.substr(1);return(h=S(h)?Number(h):0)<=0||!(n&&"M"===f&&h===Math.round(h)||r&&"L"===f||r&&"D"===f&&(1===h||2===h))?o:v},J.tick0=function(v,w,r,n){return"date"===w?k.cleanDate(v,k.dateTick0(r,n%I==0?1:0)):"D1"!==n&&"D2"!==n?S(v)?Number(v):0:void 0}},85555:function(oe,J,t){"use strict";var S=t(30587).counter;oe.exports={idRegex:{x:S("x","( domain)?"),y:S("y","( domain)?")},attrRegex:S("[xy]axis"),xAxisMatch:S("xaxis"),yAxisMatch:S("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(oe,J,t){"use strict";var S=t(71828),k=t(71739),l=t(41675).id2name,R=t(13838),I=t(42449),v=t(21994),w=t(50606).ALMOST_EQUAL,r=t(18783).FROM_BL;function n(p,A,m){var u=m.axIds,g=m.layoutOut,C=m.hasImage,T=g._axisConstraintGroups,L=g._axisMatchGroups,x=A._id,E=x.charAt(0),M=((g._splomAxes||{})[E]||{})[x]||{},i=A._id,D="x"===i.charAt(0);function y(Q,K){return S.coerce(p,A,R,Q,K)}A._matchGroup=null,A._constraintGroup=null,y("constrain",C?"domain":"range"),S.coerce(p,A,{constraintoward:{valType:"enumerated",values:D?["left","center","right"]:["bottom","middle","top"],dflt:D?"center":"middle"}},"constraintoward");var F,_,B=A.type,z=[];for(F=0;F<u.length;F++)(_=u[F])!==i&&g[l(_)].type===B&&z.push(_);var H=o(T,i);if(H){var U=[];for(F=0;F<z.length;F++)H[_=z[F]]||U.push(_);z=U}var Y,ee,G=z.length;G&&(p.matches||M.matches)&&(Y=S.coerce(p,A,{matches:{valType:"enumerated",values:z,dflt:-1!==z.indexOf(M.matches)?M.matches:void 0}},"matches"));var ue=C&&!D?A.anchor:void 0;if(G&&!Y&&(p.scaleanchor||ue)&&(ee=S.coerce(p,A,{scaleanchor:{valType:"enumerated",values:z.concat([!1])}},"scaleanchor",ue)),Y){A._matchGroup=f(L,i,Y,1);var ce=g[l(Y)],pe=c(g,A)/c(g,ce);D!==("x"===Y.charAt(0))&&(pe=(D?"x":"y")+pe),f(T,i,Y,pe)}else p.matches&&-1!==u.indexOf(p.matches)&&S.warn("ignored "+A._name+'.matches: "'+p.matches+'" to avoid an infinite loop');if(ee){var te=y("scaleratio");te||(te=A.scaleratio=1),f(T,i,ee,te)}else p.scaleanchor&&-1!==u.indexOf(p.scaleanchor)&&S.warn("ignored "+A._name+'.scaleanchor: "'+p.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function c(p,A){var m=A.domain;return m||(m=p[l(A.overlaying)].domain),m[1]-m[0]}function o(p,A){for(var m=0;m<p.length;m++)if(p[m][A])return p[m];return null}function f(p,A,m,u){var g,C,T,L,x,E=o(p,A);null===E?((E={})[A]=1,x=p.length,p.push(E)):x=p.indexOf(E);var M=Object.keys(E);for(g=0;g<p.length;g++)if(T=p[g],g!==x&&T[m]){var i=T[m];for(C=0;C<M.length;C++)T[L=M[C]]=h(i,h(u,E[L]));return void p.splice(x,1)}if(1!==u)for(C=0;C<M.length;C++){var D=M[C];E[D]=h(u,E[D])}E[m]=1}function h(p,A){var g,C,m="",u="";"string"==typeof p&&(m=p.match(/^[xy]*/)[0],p=+p.substr(g=m.length)),"string"==typeof A&&(u=A.match(/^[xy]*/)[0],A=+A.substr(C=u.length));var T=p*A;return g||C?g&&C&&m.charAt(0)!==u.charAt(0)?g===C?T:(g>C?m.substr(C):u.substr(g))+T:m+u+p*A:T}function d(p,A){for(var m=A._size,u=m.h/m.w,g={},C=Object.keys(p),T=0;T<C.length;T++){var L=C[T],x=p[L];if("string"==typeof x){var E=x.match(/^[xy]*/)[0],M=E.length;x=+x.substr(M);for(var i="y"===E.charAt(0)?u:1/u,D=0;D<M;D++)x*=i}g[L]=x}return g}function b(p,A){var m=p._inputDomain,g=m[0]+(m[1]-m[0])*r[p.constraintoward];p.domain=p._input.domain=[g+(m[0]-g)/A,g+(m[1]-g)/A],p.setScale()}J.handleDefaults=function(p,A,m){var L,x,E,M,i,D,y,B,u=m.axIds,g=m.axHasImage,C=A._axisConstraintGroups=[],T=A._axisMatchGroups=[];for(L=0;L<u.length;L++)n(i=p[M=l(u[L])],D=A[M],{axIds:u,layoutOut:A,hasImage:g[M]});function F(ue,ce){for(L=0;L<ue.length;L++)for(E in x=ue[L])A[l(E)][ce]=x}for(F(T,"_matchGroup"),L=0;L<C.length;L++)for(E in x=C[L])if((D=A[l(E)]).fixedrange){for(var _ in x){var z=l(_);!1===(p[z]||{}).fixedrange&&S.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),A[z].fixedrange=!0}break}for(L=0;L<C.length;){for(E in x=C[L]){(D=A[l(E)])._matchGroup&&Object.keys(D._matchGroup).length===Object.keys(x).length&&(C.splice(L,1),L--);break}L++}F(C,"_constraintGroup");var V=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],H=!1,U=!1;function G(){B=D[y],"rangebreaks"===y&&(U=D._hasDayOfWeekBreaks)}for(L=0;L<T.length;L++){x=T[L];for(var Y=0;Y<V.length;Y++){var ee;for(E in y=V[Y],B=null,x)if(i=p[M=l(E)],y in(D=A[M])){if(!D.matches&&(ee=D,y in i)){G();break}null===B&&y in i&&G()}if("range"===y&&B&&i.range&&2===i.range.length&&null!==i.range[0]&&null!==i.range[1]&&(H=!0),"autorange"===y&&null===B&&H&&(B=!1),null===B&&y in ee&&(B=ee[y]),null!==B)for(E in x)(D=A[l(E)])[y]="range"===y?B.slice():B,"rangebreaks"===y&&(D._hasDayOfWeekBreaks=U,v(D,A))}}},J.enforce=function(A){var g,C,T,L,x,E,M,i,m=A._fullLayout,u=m._axisConstraintGroups||[];for(g=0;g<u.length;g++){T=d(u[g],m);var D=Object.keys(T),y=1/0,B=0,F=1/0,_={},z={},V=!1;for(C=0;C<D.length;C++)z[L=D[C]]=x=m[l(L)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),_[L]=E=Math.abs(x._m)/T[L],y=Math.min(y,E),("domain"===x.constrain||!x._constraintShrinkable)&&(F=Math.min(F,E)),delete x._constraintShrinkable,B=Math.max(B,E),"domain"===x.constrain&&(V=!0);if(!(y>w*B)||V)for(C=0;C<D.length;C++)if(M=(x=z[L=D[C]]).constrain,(E=_[L])!==F||"domain"===M)if(i=E/F,"range"===M)I(x,i);else{var H=x._inputDomain,U=(x.domain[1]-x.domain[0])/(H[1]-H[0]),G=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if((i/=U)*G<1){x.domain=x._input.domain=H.slice(),I(x,i);continue}if(G<1&&(x.range=x._input.range=x._inputRange.slice(),i*=G),x.autorange){var Y=x.r2l(x.range[0]),ee=x.r2l(x.range[1]),ue=(Y+ee)/2,ce=ue,pe=ue,te=Math.abs(ee-ue),Q=ue-te*i*1.0001,K=ue+te*i*1.0001,Z=k.makePadFn(m,x,0),q=k.makePadFn(m,x,1);b(x,i);var se,de,fe=Math.abs(x._m),re=k.concatExtremes(A,x),$=re.min,le=re.max;for(de=0;de<$.length;de++)(se=$[de].val-Z($[de])/fe)>Q&&se<ce&&(ce=se);for(de=0;de<le.length;de++)(se=le[de].val+q(le[de])/fe)<K&&se>pe&&(pe=se);i/=(pe-ce)/(2*te),ce=x.l2r(ce),pe=x.l2r(pe),x.range=x._input.range=Y<ee?[ce,pe]:[pe,ce]}b(x,i)}}},J.getAxisGroup=function(A,m){for(var u=A._axisMatchGroups,g=0;g<u.length;g++)if(u[g][m])return"g"+g;return m},J.clean=function(A,m){if(m._inputDomain){for(var u=!1,g=m._id,C=A._fullLayout._axisConstraintGroups,T=0;T<C.length;T++)if(C[T][g]){u=!0;break}(!u||"domain"!==m.constrain)&&(m._input.domain=m.domain=m._inputDomain,delete m._inputDomain)}}},29323:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=k.numberFormat,R=t(84267),I=t(38520),v=t(73972),w=k.strTranslate,r=t(63893),n=t(7901),c=t(91424),o=t(30211),f=t(89298),h=t(6964),d=t(28569),b=t(64505),p=b.selectingOrDrawing,A=b.freeMode,m=t(18783).FROM_TL,u=t(33306),g=t(61549).redrawReglTraces,C=t(74875),T=t(41675).getFromId,L=t(47322).prepSelect,x=t(47322).clearOutline,E=t(47322).selectOnClick,M=t(42449),i=t(85555),D=i.MINDRAG,y=i.MINZOOM,B=!0;function _(se,de,we,Ee){var Me=k.ensureSingle(se.draglayer,de,we,function(Ne){Ne.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",se.id)});return Me.call(h,Ee),Me.node()}function z(se,de,we,Ee,Me,Ne,Ve){var Pe=_(se,"rect",de,we);return S.select(Pe).call(c.setRect,Ee,Me,Ne,Ve),Pe}function V(se,de){for(var we=0;we<se.length;we++)if(!se[we].fixedrange)return de;return""}function U(se,de,we,Ee,Me){for(var Ne=0;Ne<se.length;Ne++){var Ve=se[Ne];if(!Ve.fixedrange)if(Ve.rangebreaks){var Pe="y"===Ve._id.charAt(0),Ie=Pe?1-we:we;Ee[Ve._name+".range[0]"]=Ve.l2r(Ve.p2l((Pe?1-de:de)*Ve._length)),Ee[Ve._name+".range[1]"]=Ve.l2r(Ve.p2l(Ie*Ve._length))}else{var Je=Ve._rl[0],Qe=Ve._rl[1]-Je;Ee[Ve._name+".range[0]"]=Ve.l2r(Je+Qe*de),Ee[Ve._name+".range[1]"]=Ve.l2r(Je+Qe*we)}}if(Me&&Me.length){var ze=(de+(1-we))/2;U(Me,ze,1-ze,Ee,[])}}function G(se,de){for(var we=0;we<se.length;we++){var Ee=se[we];if(!Ee.fixedrange){if(Ee.rangebreaks){var Ne=Ee._length,Ce=(Ee.p2l(0+de)-Ee.p2l(0)+(Ee.p2l(Ne+de)-Ee.p2l(Ne)))/2;Ee.range=[Ee.l2r(Ee._rl[0]-Ce),Ee.l2r(Ee._rl[1]-Ce)]}else Ee.range=[Ee.l2r(Ee._rl[0]-de/Ee._m),Ee.l2r(Ee._rl[1]-de/Ee._m)];Ee.limitRange&&Ee.limitRange()}}}function Y(se){return 1-(se>=0?Math.min(se,.9):1/(1/Math.max(se,-.3)+3.222))}function ue(se,de,we,Ee,Me){return se.append("path").attr("class","zoombox").style({fill:de>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",w(we,Ee)).attr("d",Me+"Z")}function ce(se,de,we){return se.append("path").attr("class","zoombox-corners").style({fill:n.background,stroke:n.defaultLine,"stroke-width":1,opacity:0}).attr("transform",w(de,we)).attr("d","M0,0Z")}function pe(se,de,we,Ee,Me,Ne){se.attr("d",Ee+"M"+we.l+","+we.t+"v"+we.h+"h"+we.w+"v-"+we.h+"h-"+we.w+"Z"),te(se,de,Me,Ne)}function te(se,de,we,Ee){we||(se.transition().style("fill",Ee>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),de.transition().style("opacity",1).duration(200))}function Q(se){S.select(se).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function K(se){B&&se.data&&se._context.showTips&&(k.notifier(k._(se,"Double-click to zoom back out"),"long"),B=!1)}function fe(se){var de=Math.floor(Math.min(se.b-se.t,se.r-se.l,y)/2);return"M"+(se.l-3.5)+","+(se.t-.5+de)+"h3v"+-de+"h"+de+"v-3h-"+(de+3)+"ZM"+(se.r+3.5)+","+(se.t-.5+de)+"h-3v"+-de+"h"+-de+"v-3h"+(de+3)+"ZM"+(se.r+3.5)+","+(se.b+.5-de)+"h-3v"+de+"h"+-de+"v3h"+(de+3)+"ZM"+(se.l-3.5)+","+(se.b+.5-de)+"h3v"+de+"h"+de+"v3h-"+(de+3)+"Z"}function re(se,de,we,Ee,Me){for(var Ce,Ie,Je,Qe,Ne=!1,Ve={},Pe={},ze=(Me||{}).xaHash,Ke=(Me||{}).yaHash,ut=0;ut<de.length;ut++){var ot=de[ut];for(Ce in we)if(ot[Ce]){for(Je in ot)(!Me||!ze[Je]&&!Ke[Je])&&!("x"===Je.charAt(0)?we:Ee)[Je]&&(Ve[Je]=Ce);for(Ie in Ee)(!Me||!ze[Ie]&&!Ke[Ie])&&ot[Ie]&&(Ne=!0)}for(Ie in Ee)if(ot[Ie])for(Qe in ot)(!Me||!ze[Qe]&&!Ke[Qe])&&!("x"===Qe.charAt(0)?we:Ee)[Qe]&&(Pe[Qe]=Ie)}Ne&&(k.extendFlat(Ve,Pe),Pe={});var We={},je=[];for(Je in Ve){var lt=T(se,Je);je.push(lt),We[lt._id]=lt}var vt={},pt=[];for(Qe in Pe){var St=T(se,Qe);pt.push(St),vt[St._id]=St}return{xaHash:We,yaHash:vt,xaxes:je,yaxes:pt,xLinks:Ve,yLinks:Pe,isSubplotConstrained:Ne}}function $(se,de){if(I){var we=void 0!==se.onwheel?"wheel":"mousewheel";se._onwheel&&se.removeEventListener(we,se._onwheel),se._onwheel=de,se.addEventListener(we,de,{passive:!1})}else void 0!==se.onwheel?se.onwheel=de:void 0!==se.onmousewheel?se.onmousewheel=de:se.isAddedWheelEvent||(se.isAddedWheelEvent=!0,se.addEventListener("wheel",de,{passive:!1}))}function le(se){var de=[];for(var we in se)de.push(se[we]);return de}oe.exports={makeDragBox:function F(se,de,we,Ee,Me,Ne,Ve,Pe){var Qe,ze,Ke,ut,ot,We,je,lt,vt,pt,St,Ct,_t,nt,ke,Re,Be,He,Ye,Ue,De,ge,Te,Ce=se._fullLayout._zoomlayer,Ie=Ve+Pe==="nsew",Je=1===(Ve+Pe).length;function _e(){if(vt=(Qe=de.xaxis)._length,pt=(ze=de.yaxis)._length,je=Qe._offset,lt=ze._offset,(Ke={})[Qe._id]=Qe,(ut={})[ze._id]=ze,Ve&&Pe)for(var or=de.overlays,Ht=0;Ht<or.length;Ht++){var pr=or[Ht].xaxis;Ke[pr._id]=pr;var xr=or[Ht].yaxis;ut[xr._id]=xr}ot=le(Ke),We=le(ut),_t=V(ot,Pe),nt=V(We,Ve),ke=!nt&&!_t,Ct=re(se,se._fullLayout._axisMatchGroups,Ke,ut);var Mr=(St=re(se,se._fullLayout._axisConstraintGroups,Ke,ut,Ct)).isSubplotConstrained||Ct.isSubplotConstrained;Re=Pe||Mr,Be=Ve||Mr;var kr=se._fullLayout;He=kr._has("scattergl"),Ye=kr._has("splom"),Ue=kr._has("svg")}we+=de.yaxis._shift,_e();var et=function ee(se,de,we){return se?"nsew"===se?we?"":"pan"===de?"move":"crosshair":se.toLowerCase()+"-resize":"pointer"}(nt+_t,se._fullLayout.dragmode,Ie),ft=z(de,Ve+Pe+"drag",et,we,Ee,Me,Ne);if(ke&&!Ie)return ft.onmousedown=null,ft.style.pointerEvents="none",ft;var Lt,Ut,Qt,Cr,wt,$t,rr,Lr,mr,bt,gt={element:ft,gd:se,plotinfo:de};function Kt(){gt.plotinfo.selection=!1,x(se)}function ir(or,Ht){var pr=gt.gd;if(pr._fullLayout._activeShapeIndex>=0)pr._fullLayout._deactivateShape(pr);else{var xr=pr._fullLayout.clickmode;if(Q(pr),2===or&&!Je&&function Ze(){if(!se._transitioningWithDuration){var or=se._context.doubleClick,Ht=[];_t&&(Ht=Ht.concat(ot)),nt&&(Ht=Ht.concat(We)),Ct.xaxes&&(Ht=Ht.concat(Ct.xaxes)),Ct.yaxes&&(Ht=Ht.concat(Ct.yaxes));var xr,Mr,pr={};if("reset+autosize"===or)for(or="autosize",Mr=0;Mr<Ht.length;Mr++){var kr=(xr=Ht[Mr])._rangeInitial0,un=xr._rangeInitial1,Nr=void 0!==kr||void 0!==un;if(Nr&&(void 0!==kr&&kr!==xr.range[0]||void 0!==un&&un!==xr.range[1])||!Nr&&!0!==xr.autorange){or="reset";break}}if("autosize"===or)for(Mr=0;Mr<Ht.length;Mr++)(xr=Ht[Mr]).fixedrange||(pr[xr._name+".autorange"]=!0);else if("reset"===or)for((_t||St.isSubplotConstrained)&&(Ht=Ht.concat(St.xaxes)),nt&&!St.isSubplotConstrained&&(Ht=Ht.concat(St.yaxes)),St.isSubplotConstrained&&(_t?nt||(Ht=Ht.concat(We)):Ht=Ht.concat(ot)),Mr=0;Mr<Ht.length;Mr++)if(!(xr=Ht[Mr]).fixedrange){var Yr=xr._name,$r=xr._autorangeInitial;void 0===xr._rangeInitial0&&void 0===xr._rangeInitial1?pr[Yr+".autorange"]=!0:void 0===xr._rangeInitial0?(pr[Yr+".autorange"]=$r,pr[Yr+".range"]=[null,xr._rangeInitial1]):void 0===xr._rangeInitial1?(pr[Yr+".range"]=[xr._rangeInitial0,null],pr[Yr+".autorange"]=$r):pr[Yr+".range"]=[xr._rangeInitial0,xr._rangeInitial1]}se.emit("plotly_doubleclick",null),v.call("_guiRelayout",se,pr)}}(),Ie)xr.indexOf("select")>-1&&E(Ht,pr,ot,We,de.id,gt),xr.indexOf("event")>-1&&o.click(pr,Ht,de.id);else if(1===or&&Je){var Mr=Ve?ze:Qe,kr="s"===Ve||"w"===Pe?0:1,un=Mr._name+".range["+kr+"]",Nr=function H(se,de){var Me,we=se.range[de],Ee=Math.abs(we-se.range[1-de]);return"date"===se.type?we:"log"===se.type?(Me=Math.ceil(Math.max(0,-Math.log(Ee)/Math.LN10))+3,l("."+Me+"g")(Math.pow(10,we))):(Me=Math.floor(Math.log(Math.abs(we))/Math.LN10)-Math.floor(Math.log(Ee)/Math.LN10)+4,l("."+String(Me)+"g")(we))}(Mr,kr),Yr="left",$r="middle";if(Mr.fixedrange)return;Ve?($r="n"===Ve?"top":"bottom","right"===Mr.side&&(Yr="right")):"e"===Pe&&(Yr="right"),pr._context.showAxisRangeEntryBoxes&&S.select(ft).call(r.makeEditable,{gd:pr,immediate:!0,background:pr._fullLayout.paper_bgcolor,text:String(Nr),fill:Mr.tickfont?Mr.tickfont.color:"#444",horizontalAlign:Yr,verticalAlign:$r}).on("edit",function(Qr){var Wn=Mr.d2r(Qr);void 0!==Wn&&v.call("_guiRelayout",pr,un,Wn)})}}}function At(or,Ht){if(se._transitioningWithDuration)return!1;var pr=Math.max(0,Math.min(vt,ge*or+Lt)),xr=Math.max(0,Math.min(pt,Te*Ht+Ut)),Mr=Math.abs(pr-Lt),kr=Math.abs(xr-Ut);function un(){rr="",Qt.r=Qt.l,Qt.t=Qt.b,mr.attr("d","M0,0Z")}if(Qt.l=Math.min(Lt,pr),Qt.r=Math.max(Lt,pr),Qt.t=Math.min(Ut,xr),Qt.b=Math.max(Ut,xr),St.isSubplotConstrained)Mr>y||kr>y?(rr="xy",Mr/vt>kr/pt?(kr=Mr*pt/vt,Ut>xr?Qt.t=Ut-kr:Qt.b=Ut+kr):(Mr=kr*vt/pt,Lt>pr?Qt.l=Lt-Mr:Qt.r=Lt+Mr),mr.attr("d",fe(Qt))):un();else if(Ct.isSubplotConstrained)if(Mr>y||kr>y){rr="xy";var Nr=Math.min(Qt.l/vt,(pt-Qt.b)/pt),Yr=Math.max(Qt.r/vt,(pt-Qt.t)/pt);Qt.l=Nr*vt,Qt.r=Yr*vt,Qt.b=(1-Nr)*pt,Qt.t=(1-Yr)*pt,mr.attr("d",fe(Qt))}else un();else!nt||kr<Math.min(Math.max(.6*Mr,D),y)?Mr<D||!_t?un():(Qt.t=0,Qt.b=pt,rr="x",mr.attr("d",function Z(se,de){return"M"+(se.l-.5)+","+(de-y-.5)+"h-3v"+(2*y+1)+"h3ZM"+(se.r+.5)+","+(de-y-.5)+"h3v"+(2*y+1)+"h-3Z"}(Qt,Ut))):!_t||Mr<Math.min(.6*kr,y)?(Qt.l=0,Qt.r=vt,rr="y",mr.attr("d",function q(se,de){return"M"+(de-y-.5)+","+(se.t-.5)+"v-3h"+(2*y+1)+"v3ZM"+(de-y-.5)+","+(se.b+.5)+"v3h"+(2*y+1)+"v-3Z"}(Qt,Lt))):(rr="xy",mr.attr("d",fe(Qt)));Qt.w=Qt.r-Qt.l,Qt.h=Qt.b-Qt.t,rr&&(bt=!0),se._dragged=bt,pe(Lr,mr,Qt,wt,$t,Cr),It(),se.emit("plotly_relayouting",De),$t=!0}function It(){De={},("xy"===rr||"x"===rr)&&(U(ot,Qt.l/vt,Qt.r/vt,De,St.xaxes),wr("x",De)),("xy"===rr||"y"===rr)&&(U(We,(pt-Qt.b)/pt,(pt-Qt.t)/pt,De,St.yaxes),wr("y",De))}function Ft(){It(),Q(se),zt(),K(se)}gt.prepFn=function(or,Ht,pr){var xr=gt.dragmode,Mr=se._fullLayout.dragmode;Mr!==xr&&(gt.dragmode=Mr),_e(),ge=se._fullLayout._invScaleX,Te=se._fullLayout._invScaleY,ke||(Ie?or.shiftKey?"pan"===Mr?Mr="zoom":p(Mr)||(Mr="pan"):or.ctrlKey&&(Mr="pan"):Mr="pan"),gt.minDrag=A(Mr)?1:void 0,p(Mr)?(gt.xaxes=ot,gt.yaxes=We,L(or,Ht,pr,gt,Mr)):(gt.clickFn=ir,p(xr)&&Kt(),ke||("zoom"===Mr?(gt.moveFn=At,gt.doneFn=Ft,gt.minDrag=1,function ct(or,Ht,pr){var xr=ft.getBoundingClientRect();Lt=Ht-xr.left,Ut=pr-xr.top,se._fullLayout._calcInverseTransform(se);var Mr=k.apply3DTransform(se._fullLayout._invTransform)(Lt,Ut);Qt={l:Lt=Mr[0],r:Lt,w:0,t:Ut=Mr[1],b:Ut,h:0},Cr=se._hmpixcount?se._hmlumcount/se._hmpixcount:R(se._fullLayout.plot_bgcolor).getLuminance(),$t=!1,rr="xy",bt=!1,Lr=ue(Ce,Cr,je,lt,wt="M0,0H"+vt+"V"+pt+"H0V0"),mr=ce(Ce,je,lt)}(0,Ht,pr)):"pan"===Mr&&(gt.moveFn=hr,gt.doneFn=zt))),se._fullLayout._redrag=function(){var kr=se._dragdata;kr&&kr.element===ft&&(p(se._fullLayout.dragmode)||(_e(),kt([0,0,vt,pt]),gt.moveFn(kr.dx,kr.dy)))}},d.init(gt);var Rt=[0,0,vt,pt],Gt=null,jt=i.REDRAWDELAY,er=de.mainplot?se._fullLayout._plots[de.mainplot]:de;function hr(or,Ht){if(or*=ge,Ht*=Te,!se._transitioningWithDuration){if(se._fullLayout._replotting=!0,"ew"===_t||"ns"===nt){var pr=_t?-or:0,xr=nt?-Ht:0;if(Ct.isSubplotConstrained){if(_t&&nt){var Mr=(or/vt-Ht/pt)/2;pr=-(or=Mr*vt),xr=-(Ht=-Mr*pt)}nt?pr=-xr*vt/pt:xr=-pr*pt/vt}return _t&&(G(ot,or),wr("x")),nt&&(G(We,Ht),wr("y")),kt([pr,xr,vt,pt]),$e(),void se.emit("plotly_relayouting",De)}var Yr,$r,un="w"===_t==("n"===nt)?1:-1;if(_t&&nt&&(St.isSubplotConstrained||Ct.isSubplotConstrained)){var Nr=(or/vt+un*Ht/pt)/2;or=Nr*vt,Ht=un*Nr*pt}if("w"===_t?or=kr(ot,0,or):"e"===_t?or=kr(ot,1,-or):_t||(or=0),"n"===nt?Ht=kr(We,1,Ht):"s"===nt?Ht=kr(We,0,-Ht):nt||(Ht=0),Yr="w"===_t?or:0,$r="n"===nt?Ht:0,St.isSubplotConstrained&&!Ct.isSubplotConstrained||Ct.isSubplotConstrained&&_t&&nt&&un>0){var Qr;if(Ct.isSubplotConstrained||!_t&&1===nt.length){for(Qr=0;Qr<ot.length;Qr++)ot[Qr].range=ot[Qr]._r.slice(),M(ot[Qr],1-Ht/pt);Yr=(or=Ht*vt/pt)/2}if(Ct.isSubplotConstrained||!nt&&1===_t.length){for(Qr=0;Qr<We.length;Qr++)We[Qr].range=We[Qr]._r.slice(),M(We[Qr],1-or/vt);$r=(Ht=or*pt/vt)/2}}(!Ct.isSubplotConstrained||!nt)&&wr("x"),(!Ct.isSubplotConstrained||!_t)&&wr("y");var Wn=vt-or,An=pt-Ht;Ct.isSubplotConstrained&&!(_t&&nt)&&(_t?($r=Yr?0:or*pt/vt,An=Wn*pt/vt):(Yr=$r?0:Ht*vt/pt,Wn=An*vt/pt)),kt([Yr,$r,Wn,An]),$e(),se.emit("plotly_relayouting",De)}function kr(Tr,nr,Xr){for(var an,Cn,Ur=1-nr,En=0;En<Tr.length;En++){var Fn=Tr[En];if(!Fn.fixedrange){an=Fn,Cn=Fn._rl[Ur]+(Fn._rl[nr]-Fn._rl[Ur])/Y(Xr/Fn._length);var Vn=Fn.l2r(Cn);!1!==Vn&&void 0!==Vn&&(Fn.range[nr]=Vn)}}return an._length*(an._rl[nr]-Cn)/(an._rl[nr]-an._rl[Ur])}}function wr(or,Ht){for(var pr=Ct.isSubplotConstrained?{x:We,y:ot}[or]:Ct[or+"axes"],xr=Ct.isSubplotConstrained?{x:ot,y:We}[or]:[],Mr=0;Mr<pr.length;Mr++){var kr=pr[Mr],un=kr._id,Nr=Ct.xLinks[un]||Ct.yLinks[un],Yr=xr[0]||Ke[Nr]||ut[Nr];Yr&&(Ht?(Ht[kr._name+".range[0]"]=Ht[Yr._name+".range[0]"],Ht[kr._name+".range[1]"]=Ht[Yr._name+".range[1]"]):kr.range=Yr.range.slice())}}function $e(){var Ht,or=[];function pr(un){for(Ht=0;Ht<un.length;Ht++)un[Ht].fixedrange||or.push(un[Ht]._id)}function xr(un,Nr){for(Ht=0;Ht<un.length;Ht++){var Yr=un[Ht],$r=Yr[Nr];!Yr.fixedrange&&"sync"===$r.tickmode&&or.push($r._id)}}for(Re&&(pr(ot),pr(St.xaxes),pr(Ct.xaxes),xr(de.overlays,"xaxis")),Be&&(pr(We),pr(St.yaxes),pr(Ct.yaxes),xr(de.overlays,"yaxis")),De={},Ht=0;Ht<or.length;Ht++){var kr=T(se,or[Ht]);f.drawOne(se,kr,{skipTitle:!0}),De[kr._name+".range[0]"]=kr.range[0],De[kr._name+".range[1]"]=kr.range[1]}f.redrawComponents(se,or)}function zt(){kt([0,0,vt,pt]),k.syncOrAsync([C.previousPromises,function(){se._fullLayout._replotting=!1,v.call("_guiRelayout",se,De)}],se)}function kt(or){var Mr,kr,un,Nr,Ht=se._fullLayout,pr=Ht._plots,xr=Ht._subplots.cartesian;if(Ye&&v.subplotsRegistry.splom.drag(se),He)for(Mr=0;Mr<xr.length;Mr++)if(un=(kr=pr[xr[Mr]]).xaxis,Nr=kr.yaxis,kr._scene){var Yr=k.simpleMap(un.range,un.r2l),$r=k.simpleMap(Nr.range,Nr.r2l);un.limitRange&&un.limitRange(),Nr.limitRange&&Nr.limitRange(),kr._scene.update({range:[(Yr=un.range)[0],($r=Nr.range)[0],Yr[1],$r[1]]})}if((Ye||He)&&(u(se),g(se)),Ue){var Qr=or[2]/Qe._length,Wn=or[3]/ze._length;for(Mr=0;Mr<xr.length;Mr++){un=(kr=pr[xr[Mr]]).xaxis,Nr=kr.yaxis;var nr,Xr,Ur,an,Tr=(Be||Ct.isSubplotConstrained)&&!Nr.fixedrange&&ut[Nr._id];if((Re||Ct.isSubplotConstrained)&&!un.fixedrange&&Ke[un._id]?(nr=Qr,Ur=Pe||Ct.isSubplotConstrained?or[0]:vr(un,nr)):Ct.xaHash[un._id]?(nr=Qr,Ur=or[0]*un._length/Qe._length):Ct.yaHash[un._id]?(nr=Wn,Ur="ns"===nt?-or[1]*un._length/ze._length:vr(un,nr,{n:"top",s:"bottom"}[nt])):Ur=ur(un,nr=Xt(un,Qr,Wn)),nr>1&&(void 0!==un.maxallowed&&Re===(un.range[0]<un.range[1]?"e":"w")||void 0!==un.minallowed&&Re===(un.range[0]<un.range[1]?"w":"e"))&&(nr=1,Ur=0),Tr?(Xr=Wn,an=Ve||Ct.isSubplotConstrained?or[1]:vr(Nr,Xr)):Ct.yaHash[Nr._id]?(Xr=Wn,an=or[1]*Nr._length/ze._length):Ct.xaHash[Nr._id]?(Xr=Qr,an="ew"===_t?-or[0]*Nr._length/Qe._length:vr(Nr,Xr,{e:"right",w:"left"}[_t])):an=ur(Nr,Xr=Xt(Nr,Qr,Wn)),Xr>1&&(void 0!==Nr.maxallowed&&Be===(Nr.range[0]<Nr.range[1]?"n":"s")||void 0!==Nr.minallowed&&Be===(Nr.range[0]<Nr.range[1]?"s":"n"))&&(Xr=1,an=0),nr||Xr){nr||(nr=1),Xr||(Xr=1);var Cn=un._offset-Ur/nr,En=Nr._offset-an/Xr;kr.clipRect.call(c.setTranslate,Ur,an).call(c.setScale,nr,Xr),kr.plot.call(c.setTranslate,Cn,En).call(c.setScale,1/nr,1/Xr),(nr!==kr.xScaleFactor||Xr!==kr.yScaleFactor)&&(c.setPointGroupScale(kr.zoomScalePts,nr,Xr),c.setTextPointsScale(kr.zoomScaleTxt,nr,Xr)),c.hideOutsideRangePoints(kr.clipOnAxisFalseTraces,kr),kr.xScaleFactor=nr,kr.yScaleFactor=Xr}}}}function Xt(or,Ht,pr){return or.fixedrange?0:Re&&St.xaHash[or._id]?Ht:Be&&(St.isSubplotConstrained?St.xaHash:St.yaHash)[or._id]?pr:0}function ur(or,Ht){return Ht?(or.range=or._r.slice(),M(or,Ht),vr(or,Ht)):0}function vr(or,Ht,pr){return or._length*(1-Ht)*m[pr||or.constraintoward||"middle"]}return Ve.length*Pe.length!=1&&$(ft,function dr(or){if(se._context._scrollZoom.cartesian||se._fullLayout._enablescrollzoom){if(Kt(),se._transitioningWithDuration)return or.preventDefault(),void or.stopPropagation();_e(),clearTimeout(Gt);var Ht=-or.deltaY;if(isFinite(Ht)||(Ht=or.wheelDelta/10),isFinite(Ht)){var un,pr=Math.exp(-Math.min(Math.max(Ht,-20),20)/200),xr=er.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Mr=(or.clientX-xr.left)/xr.width,kr=(xr.bottom-or.clientY)/xr.height;if(Re){for(Pe||(Mr=.5),un=0;un<ot.length;un++)Nr(ot[un],Mr,pr);wr("x"),Rt[2]*=pr,Rt[0]+=Rt[2]*Mr*(1/pr-1)}if(Be){for(Ve||(kr=.5),un=0;un<We.length;un++)Nr(We[un],kr,pr);wr("y"),Rt[3]*=pr,Rt[1]+=Rt[3]*(1-kr)*(1/pr-1)}kt(Rt),$e(),se.emit("plotly_relayouting",De),Gt=setTimeout(function(){se._fullLayout&&(Rt=[0,0,vt,pt],zt())},jt),or.preventDefault()}else k.log("Did not find wheel motion attributes: ",or)}function Nr(Yr,$r,Qr){if(!Yr.fixedrange){var Wn=k.simpleMap(Yr.range,Yr.r2l),An=Wn[0]+(Wn[1]-Wn[0])*$r;Yr.range=Wn.map(function Tr(nr){return Yr.l2r(An+(nr-An)*Qr)})}}}),ft},makeDragger:_,makeRectDragger:z,makeZoombox:ue,makeCorners:ce,updateZoombox:pe,xyCorners:fe,transitionZoombox:te,removeZoombox:Q,showDoubleClickNotifier:K,attachWheelEventHandler:$}},4305:function(oe,J,t){"use strict";var S=t(39898),k=t(30211),l=t(28569),R=t(6964),I=t(29323).makeDragBox,v=t(85555).DRAGGERSIZE;J.initInteractions=function(r){var n=r._fullLayout;if(r._context.staticPlot)S.select(r).selectAll(".drag").remove();else if(n._has("cartesian")||n._has("splom")){Object.keys(n._plots||{}).sort(function(f,h){if((n._plots[f].mainplot&&!0)===(n._plots[h].mainplot&&!0)){var d=f.split("y"),b=h.split("y");return d[0]===b[0]?Number(d[1]||1)-Number(b[1]||1):Number(d[0]||1)-Number(b[0]||1)}return n._plots[f].mainplot?1:-1}).forEach(function(f){var h=n._plots[f],d=h.xaxis,b=h.yaxis;if(!h.mainplot){var p=I(r,h,d._offset,b._offset,d._length,b._length,"ns","ew");p.onmousemove=function(u){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===f&&r._fullLayout._plots[f]&&k.hover(r,u,f)},k.hover(r,u,f),r._fullLayout._lasthover=p,r._fullLayout._hoversubplot=f},p.onmouseout=function(u){r._dragging||(r._fullLayout._hoversubplot=null,l.unhover(r,u))},r._context.showAxisDragHandles&&(I(r,h,d._offset-v,b._offset-v,v,v,"n","w"),I(r,h,d._offset+d._length,b._offset-v,v,v,"n","e"),I(r,h,d._offset-v,b._offset+b._length,v,v,"s","w"),I(r,h,d._offset+d._length,b._offset+b._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(f===d._mainSubplot){var A=d._mainLinePosition;"top"===d.side&&(A-=v),I(r,h,d._offset+.1*d._length,A,.8*d._length,v,"","ew"),I(r,h,d._offset,A,.1*d._length,v,"","w"),I(r,h,d._offset+.9*d._length,A,.1*d._length,v,"","e")}if(f===b._mainSubplot){var m=b._mainLinePosition;"right"!==b.side&&(m-=v),I(r,h,m,b._offset+.1*b._length,v,.8*b._length,"ns",""),I(r,h,m,b._offset+.9*b._length,v,.1*b._length,"s",""),I(r,h,m,b._offset,v,.1*b._length,"n","")}}});var o=n._hoverlayer.node();o.onmousemove=function(f){f.target=r._fullLayout._lasthover,k.hover(r,f,n._hoversubplot)},o.onclick=function(f){f.target=r._fullLayout._lasthover,k.click(r,f)},o.onmousedown=function(f){r._fullLayout._lasthover.onmousedown(f)},J.updateFx(r)}},J.updateFx=function(w){var r=w._fullLayout;R(r._draggers,"pan"===r.dragmode?"move":"crosshair")}},76325:function(oe,J,t){"use strict";var S=t(73972),k=t(71828),l=t(41675);oe.exports=function(I){return function(w,r){var n=w[I];if(Array.isArray(n))for(var c=S.subplotsRegistry.cartesian,o=c.idRegex,f=r._subplots,h=f.xaxis,d=f.yaxis,b=f.cartesian,p=r._has("cartesian")||r._has("gl2d"),A=0;A<n.length;A++){var m=n[A];if(k.isPlainObject(m)){var u=l.cleanId(m.xref,"x",!1),g=l.cleanId(m.yref,"y",!1),C=o.x.test(u),T=o.y.test(g);if(C||T){p||k.pushUnique(r._basePlotModules,c);var L=!1;C&&-1===h.indexOf(u)&&(h.push(u),L=!0),T&&-1===d.indexOf(g)&&(d.push(g),L=!0),L&&C&&T&&b.push(u+g)}}}}}},93612:function(oe,J,t){"use strict";var S=t(39898),k=t(73972),l=t(71828),R=t(74875),I=t(91424),v=t(27659).a0,w=t(41675),r=t(85555),n=t(77922),c=l.ensureSingle;function o(A,m,u){return l.ensureSingle(A,m,u,function(g){g.datum(u)})}function f(A,m,u,g,C){for(var E,M,i,T=r.traceLayerClasses,L=A._fullLayout,x=L._modules,D=[],y=[],B=0;B<x.length;B++){var F=(E=x[B]).name,_=k.modules[F].categories;if(_.svg){var z=E.layerName||F+"layer",V=E.plot;u=(M=v(u,V))[1],(i=M[0]).length&&D.push({i:T.indexOf(z),className:z,plotMethod:V,cdModule:i}),_.zoomScale&&y.push("."+z)}}D.sort(function(G,Y){return G.i-Y.i});var H=m.plot.selectAll("g.mlayer").data(D,function(G){return G.className});if(H.enter().append("g").attr("class",function(G){return G.className}).classed("mlayer",!0).classed("rangeplot",m.isRangePlot),H.exit().remove(),H.order(),H.each(function(G){var Y=S.select(this),ee=G.className;G.plotMethod(A,m,G.cdModule,Y,g,C),-1===r.clipOnAxisFalseQuery.indexOf("."+ee)&&I.setClipUrl(Y,m.layerClipId,A)}),L._has("scattergl")&&(E=k.getModule("scattergl"),i=v(u,E)[0],E.plot(A,m,i)),!A._context.staticPlot&&(m._hasClipOnAxisFalse&&(m.clipOnAxisFalseTraces=m.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),y.length)){var U=m.plot.selectAll(y.join(",")).selectAll(".trace");m.zoomScalePts=U.selectAll("path.point"),m.zoomScaleTxt=U.selectAll(".textpoint")}}function d(A,m){var u=m.plotgroup,g=m.id,C=r.layerValue2layerClass[m.xaxis.layer],T=r.layerValue2layerClass[m.yaxis.layer],L=A._fullLayout._hasOnlyLargeSploms;if(m.mainplot){var E=m.mainplotinfo,M=E.plotgroup,i=g+"-x",D=g+"-y";m.minorGridlayer=E.minorGridlayer,m.gridlayer=E.gridlayer,m.zerolinelayer=E.zerolinelayer,c(E.overlinesBelow,"path",i),c(E.overlinesBelow,"path",D),c(E.overaxesBelow,"g",i),c(E.overaxesBelow,"g",D),m.plot=c(E.overplot,"g",g),c(E.overlinesAbove,"path",i),c(E.overlinesAbove,"path",D),c(E.overaxesAbove,"g",i),c(E.overaxesAbove,"g",D),m.xlines=M.select(".overlines-"+C).select("."+i),m.ylines=M.select(".overlines-"+T).select("."+D),m.xaxislayer=M.select(".overaxes-"+C).select("."+i),m.yaxislayer=M.select(".overaxes-"+T).select("."+D)}else if(L)m.xlines=c(u,"path","xlines-above"),m.ylines=c(u,"path","ylines-above"),m.xaxislayer=c(u,"g","xaxislayer-above"),m.yaxislayer=c(u,"g","yaxislayer-above");else{var x=c(u,"g","layer-subplot");m.shapelayer=c(x,"g","shapelayer"),m.imagelayer=c(x,"g","imagelayer"),m.minorGridlayer=c(u,"g","minor-gridlayer"),m.gridlayer=c(u,"g","gridlayer"),m.zerolinelayer=c(u,"g","zerolinelayer"),c(u,"path","xlines-below"),c(u,"path","ylines-below"),m.overlinesBelow=c(u,"g","overlines-below"),c(u,"g","xaxislayer-below"),c(u,"g","yaxislayer-below"),m.overaxesBelow=c(u,"g","overaxes-below"),m.plot=c(u,"g","plot"),m.overplot=c(u,"g","overplot"),m.xlines=c(u,"path","xlines-above"),m.ylines=c(u,"path","ylines-above"),m.overlinesAbove=c(u,"g","overlines-above"),c(u,"g","xaxislayer-above"),c(u,"g","yaxislayer-above"),m.overaxesAbove=c(u,"g","overaxes-above"),m.xlines=u.select(".xlines-"+C),m.ylines=u.select(".ylines-"+T),m.xaxislayer=u.select(".xaxislayer-"+C),m.yaxislayer=u.select(".yaxislayer-"+T)}L||(o(m.minorGridlayer,"g",m.xaxis._id),o(m.minorGridlayer,"g",m.yaxis._id),m.minorGridlayer.selectAll("g").map(function(y){return y[0]}).sort(w.idSort),o(m.gridlayer,"g",m.xaxis._id),o(m.gridlayer,"g",m.yaxis._id),m.gridlayer.selectAll("g").map(function(y){return y[0]}).sort(w.idSort)),m.xlines.style("fill","none").classed("crisp",!0),m.ylines.style("fill","none").classed("crisp",!0)}function b(A,m){if(A){var u={};for(var g in A.each(function(E){var M=E[0];S.select(this).remove(),p(M,m),u[M]=!0}),m._plots)for(var T=m._plots[g].overlays||[],L=0;L<T.length;L++){var x=T[L];u[x.id]&&x.plot.selectAll(".trace").remove()}}}function p(A,m){m._draggers.selectAll("g."+A).remove(),m._defs.select("#clip"+m._uid+A+"plot").remove()}J.name="cartesian",J.attr=["xaxis","yaxis"],J.idRoot=["x","y"],J.idRegex=r.idRegex,J.attrRegex=r.attrRegex,J.attributes=t(89502),J.layoutAttributes=t(13838),J.supplyLayoutDefaults=t(86763),J.transitionAxes=t(66847),J.finalizeSubplots=function(A,m){var M,i,D,u=m._subplots,g=u.xaxis,C=u.yaxis,T=u.cartesian,L=T.concat(u.gl2d||[]),x={},E={};for(M=0;M<L.length;M++){var y=L[M].split("y");x[y[0]]=1,E["y"+y[1]]=1}for(M=0;M<g.length;M++)x[i=g[M]]||(D=(A[w.id2name(i)]||{}).anchor,r.idRegex.y.test(D)||(D="y"),T.push(i+D),L.push(i+D),E[D]||(E[D]=1,l.pushUnique(C,D)));for(M=0;M<C.length;M++)E[D=C[M]]||(i=(A[w.id2name(D)]||{}).anchor,r.idRegex.x.test(i)||(i="x"),T.push(i+D),L.push(i+D),x[i]||(x[i]=1,l.pushUnique(g,i)));if(!L.length){for(var B in i="",D="",A)r.attrRegex.test(B)&&("x"===B.charAt(0)?(!i||+B.substr(5)<+i.substr(5))&&(i=B):(!D||+B.substr(5)<+D.substr(5))&&(D=B));i=i?w.name2id(i):"x",D=D?w.name2id(D):"y",g.push(i),C.push(D),T.push(i+D)}},J.plot=function(A,m,u,g){var x,C=A._fullLayout,T=C._subplots.cartesian,L=A.calcdata;if(!Array.isArray(m))for(m=[],x=0;x<L.length;x++)m.push(x);for(x=0;x<T.length;x++){for(var D,E=T[x],M=C._plots[E],i=[],y=0;y<L.length;y++){var B=L[y],F=B[0].trace;F.xaxis+F.yaxis===E&&((-1!==m.indexOf(F.index)||F.carpet)&&(D&&D[0].trace.xaxis+D[0].trace.yaxis===E&&-1!==["tonextx","tonexty","tonext"].indexOf(F.fill)&&-1===i.indexOf(D)&&i.push(D),i.push(B)),D=B)}f(A,M,i,u,g)}},J.clean=function(A,m,u,g){var x,E,M,C=g._plots||{},T=m._plots||{},L=g._subplots||{};if(g._hasOnlyLargeSploms&&!m._hasOnlyLargeSploms)for(M in C)(x=C[M]).plotgroup&&x.plotgroup.remove();var i=g._has&&g._has("gl"),D=m._has&&m._has("gl");if(i&&!D)for(M in C)(x=C[M])._scene&&x._scene.destroy();if(L.xaxis&&L.yaxis){var y=w.listIds({_fullLayout:g});for(E=0;E<y.length;E++){var B=y[E];m[w.id2name(B)]||g._infolayer.selectAll(".g-"+B+"title").remove()}}var F=g._has&&g._has("cartesian"),_=m._has&&m._has("cartesian");if(F&&!_)b(g._cartesianlayer.selectAll(".subplot"),g),g._defs.selectAll(".axesclip").remove(),delete g._axisConstraintGroups,delete g._axisMatchGroups;else if(L.cartesian)for(E=0;E<L.cartesian.length;E++){var z=L.cartesian[E];T[z]||(g._cartesianlayer.selectAll("."+z+",."+z+"-x,."+z+"-y").remove(),p(z,g))}},J.drawFramework=function(A){var m=A._fullLayout,u=function h(A){var C,T,L,x,E,M,m=A._fullLayout,u=m._subplots.cartesian,g=u.length,i=[],D=[];for(C=0;C<g;C++){var F=(E=(x=m._plots[L=u[C]]).xaxis)._mainAxis._id+(M=x.yaxis)._mainAxis._id,_=m._plots[F];x.overlays=[],F!==L&&_?(x.mainplot=F,x.mainplotinfo=_,D.push(L)):(x.mainplot=void 0,x.mainplotinfo=void 0,i.push(L))}for(C=0;C<D.length;C++)(x=m._plots[L=D[C]]).mainplotinfo.overlays.push(x);var z=i.concat(D),V=new Array(g);for(C=0;C<g;C++){var H=[L=z[C],(E=(x=m._plots[L]).xaxis).layer,(M=x.yaxis).layer,E.overlaying||"",M.overlaying||""];for(T=0;T<x.overlays.length;T++)H.push(x.overlays[T].id);V[C]=H}return V}(A),g=m._cartesianlayer.selectAll(".subplot").data(u,String);g.enter().append("g").attr("class",function(C){return"subplot "+C[0]}),g.order(),g.exit().call(b,m),g.each(function(C){var T=C[0],L=m._plots[T];L.plotgroup=S.select(this),d(A,L),L.draglayer=c(m._draggers,"g",T)})},J.rangePlot=function(A,m,u){d(A,m),f(A,m,u),R.style(A)},J.toSVG=function(A){var m=A._fullLayout._glimages,u=S.select(A).selectAll(".svg-container");u.filter(function(T,L){return L===u.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function C(){var T=this,L=T.toDataURL("image/png");m.append("svg:image").attr({xmlns:n.svg,"xlink:href":L,preserveAspectRatio:"none",x:0,y:0,width:T.style.width,height:T.style.height})})},J.updateFx=t(4305).updateFx},13838:function(oe,J,t){"use strict";var S=t(41940),k=t(22399),l=t(79952).P,R=t(1426).extendFlat,I=t(44467).templatedArray,v=t(12663).descriptionWithDates,w=t(50606).ONEDAY,r=t(85555),n=r.HOUR_PATTERN,c=r.WEEKDAY_PATTERN,o={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},f=R({},o,{values:o.values.slice().concat(["sync"])});function h(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var d={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},b={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},p={valType:"data_array",editType:"ticks"},A={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function m(E){var M={valType:"number",min:0,editType:"ticks"};return E||(M.dflt=5),M}function u(E){var M={valType:"number",min:0,editType:"ticks"};return E||(M.dflt=1),M}var g={valType:"color",dflt:k.defaultLine,editType:"ticks"},C={valType:"color",dflt:k.lightLine,editType:"ticks"};function T(E){var M={valType:"number",min:0,editType:"ticks"};return E||(M.dflt=1),M}var L=R({},l,{editType:"ticks"}),x={valType:"boolean",editType:"ticks"};oe.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:k.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:S({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:I("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[c,n,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:w},editType:"calc"}),tickmode:f,nticks:h(),tick0:d,dtick:b,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:p,ticktext:{valType:"data_array",editType:"ticks"},ticks:A,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:m(),tickwidth:u(),tickcolor:g,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:R({},l,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:S({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:I("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:x,gridcolor:C,gridwidth:T(),griddash:L,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:o,nticks:h("minor"),tick0:d,dtick:b,tickvals:p,ticks:A,ticklen:m("minor"),tickwidth:u("minor"),tickcolor:g,gridcolor:C,gridwidth:T("minor"),griddash:L,showgrid:x,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:S({editType:"ticks"})}}},86763:function(oe,J,t){"use strict";var S=t(71828),k=t(7901),l=t(23469).isUnifiedHover,R=t(98212),I=t(44467),v=t(10820),w=t(13838),r=t(951),n=t(71453),c=t(99082),o=t(52830),f=t(41675),h=f.id2name,d=f.name2id,b=t(85555).AX_ID_PATTERN,p=t(73972),A=p.traceIs,m=p.getComponentMethod;function u(g,C,T){Array.isArray(g[C])?g[C].push(T):g[C]=[T]}oe.exports=function(C,T,L){var H,U,x=T.autotypenumbers,E={},M={},i={},D={},y={},B={},F={},_={},z={},V={};for(H=0;H<L.length;H++){var G=L[H];if(A(G,"cartesian")||A(G,"gl2d")){var Y,ee;if(G.xaxis)Y=h(G.xaxis),u(E,Y,G);else if(G.xaxes)for(U=0;U<G.xaxes.length;U++)u(E,h(G.xaxes[U]),G);if(G.yaxis)ee=h(G.yaxis),u(E,ee,G);else if(G.yaxes)for(U=0;U<G.yaxes.length;U++)u(E,h(G.yaxes[U]),G);"funnel"===G.type?"h"===G.orientation?(Y&&(M[Y]=!0),ee&&(F[ee]=!0)):ee&&(i[ee]=!0):"image"===G.type?(ee&&(_[ee]=!0),Y&&(_[Y]=!0)):(ee&&(y[ee]=!0,B[ee]=!0),(!A(G,"carpet")||"carpet"===G.type&&!G._cheater)&&Y&&(D[Y]=!0)),"carpet"===G.type&&G._cheater&&Y&&(M[Y]=!0),A(G,"2dMap")&&(z[Y]=!0,z[ee]=!0),A(G,"oriented")&&(V["h"===G.orientation?ee:Y]=!0)}}var ce=T._subplots,pe=ce.xaxis,te=ce.yaxis,Q=S.simpleMap(pe,h),K=S.simpleMap(te,h),Z=Q.concat(K),q=k.background;pe.length&&te.length&&(q=S.coerce(C,T,v,"plot_bgcolor"));var re,$,le,se,de,fe=k.combine(q,T.paper_bgcolor);function we(){de._traceIndices=(E[re]||[]).map(function(Te){return Te._expandedIndex}),de._annIndices=[],de._shapeIndices=[],de._selectionIndices=[],de._imgIndices=[],de._subplotsWith=[],de._counterAxes=[],de._name=de._attr=re,de._id=$}function Ee(ge,Te){return S.coerce(se,de,w,ge,Te)}function Me(ge,Te){return S.coerce2(se,de,w,ge,Te)}function Ne(ge){return"x"===ge?te:pe}function Ve(ge,Te){for(var _e="x"===ge?Q:K,et=[],ft=0;ft<_e.length;ft++){var gt=_e[ft];gt!==Te&&!(C[gt]||{}).overlaying&&et.push(d(gt))}return et}var Pe={x:Ne("x"),y:Ne("y")},Ce=Pe.x.concat(Pe.y),Ie={},Je=[];function Qe(){var ge=se.matches;b.test(ge)&&-1===Ce.indexOf(ge)&&(Ie[ge]=se.type,Je=Object.keys(Ie))}var ze=R(C,T),Ke=l(ze);for(H=0;H<Z.length;H++){$=d(re=Z[H]),le=re.charAt(0),S.isPlainObject(C[re])||(C[re]={}),se=C[re],de=I.newContainer(T,re,le+"axis"),we();var We={hasMinor:!0,letter:le,font:T.font,outerTicks:z[re],showGrid:!V[re],data:E[re]||[],bgColor:fe,calendar:T.calendar,automargin:!0,visibleDflt:"x"===le&&!D[re]&&M[re]||"y"===le&&!y[re]&&i[re],reverseDflt:"y"===le&&(!B[re]&&F[re]||_[re]),autotypenumbersDflt:x,splomStash:((T._splomAxes||{})[le]||{})[$]};Ee("uirevision",T.uirevision),r(se,de,Ee,We),n(se,de,Ee,We,T);var je=Ke&&le===ze.charAt(0),lt=Me("spikecolor",Ke?de.color:void 0),vt=Me("spikethickness",Ke?1.5:void 0),pt=Me("spikedash",Ke?"dot":void 0),St=Me("spikemode",Ke?"across":void 0),Ct=Me("spikesnap");Ee("showspikes",!!(je||lt||vt||pt||St||Ct))||(delete de.spikecolor,delete de.spikethickness,delete de.spikedash,delete de.spikemode,delete de.spikesnap);var nt=h(se.overlaying),ke=[0,1];if(void 0!==T[nt]){var Re=h(T[nt].anchor);void 0!==T[Re]&&(ke=T[Re].domain)}o(se,de,Ee,{letter:le,counterAxes:Pe[le],overlayableAxes:Ve(le,re),grid:T.grid,overlayingDomain:ke}),Ee("title.standoff"),Qe(),de._input=se}for(H=0;H<Je.length;){$=Je[H++],le=(re=h($)).charAt(0),S.isPlainObject(C[re])||(C[re]={}),se=C[re],de=I.newContainer(T,re,le+"axis"),we();var Be={letter:le,font:T.font,outerTicks:z[re],showGrid:!V[re],data:[],bgColor:fe,calendar:T.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:x,splomStash:((T._splomAxes||{})[le]||{})[$]};Ee("uirevision",T.uirevision),de.type=Ie[$]||"linear",n(se,de,Ee,Be,T),o(se,de,Ee,{letter:le,counterAxes:Pe[le],overlayableAxes:Ve(le,re),grid:T.grid}),Ee("fixedrange"),Qe(),de._input=se}var He=m("rangeslider","handleDefaults"),Ye=m("rangeselector","handleDefaults");for(H=0;H<Q.length;H++)se=C[re=Q[H]],de=T[re],He(C,T,re),"date"===de.type&&Ye(se,de,T,K,de.calendar),Ee("fixedrange");for(H=0;H<K.length;H++){se=C[re=K[H]];var Ue=T[h((de=T[re]).anchor)];Ee("fixedrange",m("rangeslider","isVisible")(Ue))}c.handleDefaults(C,T,{axIds:Ce.concat(Je).sort(f.idSort),axHasImage:_})}},92128:function(oe,J,t){"use strict";var S=t(84267).mix,k=t(22399),l=t(71828);oe.exports=function(I,v,w,r){var n=(r=r||{}).dfltColor;function c(i,D){return l.coerce2(I,v,r.attributes,i,D)}var o=c("linecolor",n),f=c("linewidth");w("showline",r.showLine||!!o||!!f)||(delete v.linecolor,delete v.linewidth);var b=c("gridcolor",S(n,r.bgColor,r.blend||k.lightFraction).toRgbString()),p=c("gridwidth"),A=c("griddash");if(w("showgrid",r.showGrid||!!b||!!p||!!A)||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var g=c("minor.gridcolor",S(v.gridcolor,r.bgColor,67).toRgbString()),C=c("minor.gridwidth",v.gridwidth||1),T=c("minor.griddash",v.griddash||"solid");w("minor.showgrid",!!g||!!C||!!T)||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var x=c("zerolinecolor",n),E=c("zerolinewidth");w("zeroline",r.showGrid||!!x||!!E)||(delete v.zerolinecolor,delete v.zerolinewidth)}}},52830:function(oe,J,t){"use strict";var S=t(92770),k=t(71828);oe.exports=function(R,I,v,w){var h,d,b,p,A,m,r=w.counterAxes||[],n=w.overlayableAxes||[],c=w.letter,o=w.grid,f=w.overlayingDomain;o&&(h=o._anchors[I._id],(d=o._domains[c][o._axisMap[I._id]])&&(b=o[c+"side"].split(" ")[0],p=o.domain[c]["right"===b||"top"===b?1:0])),d=d||[0,1],h=h||(S(R.position)?"free":r[0]||"free"),b=b||("x"===c?"bottom":"left"),p=p||0,A=0,m=!1;var u=k.coerce(R,I,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:h}},"anchor"),g=k.coerce(R,I,{side:{valType:"enumerated",values:"x"===c?["bottom","top"]:["left","right"],dflt:b}},"side");"free"===u&&("y"===c&&(v("autoshift")&&(p="left"===g?f[0]:f[1],m=!I.automargin||I.automargin,A="left"===g?-3:3),v("shift",A)),v("position",p)),v("automargin",m);var T=!1;if(n.length&&(T=k.coerce(R,I,{overlaying:{valType:"enumerated",values:[!1].concat(n),dflt:!1}},"overlaying")),!T){var L=v("domain",d);L[0]>L[1]-.000244140625&&(I.domain=d),k.noneOrAll(R.domain,I.domain,d),"sync"===I.tickmode&&(I.tickmode="auto")}return v("layer"),I}},89426:function(oe,J,t){"use strict";var S=t(59652);oe.exports=function(l,R,I,v,w){w||(w={});var r=w.tickSuffixDflt,n=S(l);I("tickprefix")&&I("showtickprefix",n),I("ticksuffix",r)&&I("showticksuffix",n)}},23608:function(oe,J,t){"use strict";var S=t(23074);oe.exports=function(l,R,I,v){var r=R.type||(R._template||{}).type||"-";I("minallowed"),I("maxallowed");var c,n=I("range");n||!v.noInsiderange&&"log"!==r&&((c=I("insiderange"))&&(null===c[0]||null===c[1])&&(R.insiderange=!1,c=void 0),c&&(n=I("range",c)));var h,o=R.getAutorangeDflt(n,v),f=I("autorange",o);n&&(null===n[0]&&null===n[1]||(null===n[0]||null===n[1])&&("reversed"===f||!0===f)||null!==n[0]&&("min"===f||"max reversed"===f)||null!==n[1]&&("max"===f||"min reversed"===f))&&(n=void 0,delete R.range,R.autorange=!0,h=!0),h||(f=I("autorange",o=R.getAutorangeDflt(n,v))),f&&(S(I,f,n),("linear"===r||"-"===r)&&I("rangemode")),R.cleanRange()}},42449:function(oe,J,t){"use strict";var S=t(18783).FROM_BL;oe.exports=function(l,R,I){void 0===I&&(I=S[l.constraintoward||"center"]);var v=[l.r2l(l.range[0]),l.r2l(l.range[1])],w=v[0]+(v[1]-v[0])*I;l.range=l._input.range=[l.l2r(w+(v[0]-w)*R),l.l2r(w+(v[1]-w)*R)],l.setScale()}},21994:function(oe,J,t){"use strict";var S=t(39898),k=t(84096).g0,l=t(71828),R=l.numberFormat,I=t(92770),v=l.cleanNumber,w=l.ms2DateTime,r=l.dateTime2ms,n=l.ensureNumber,c=l.isArrayOrTypedArray,o=t(50606),f=o.FP_SAFE,h=o.BADNUM,d=o.LOG_CLIP,b=o.ONEWEEK,p=o.ONEDAY,A=o.ONEHOUR,m=o.ONEMIN,u=o.ONESEC,g=t(41675),C=t(85555),T=C.HOUR_PATTERN,L=C.WEEKDAY_PATTERN;function x(M){return Math.pow(10,M)}function E(M){return null!=M}oe.exports=function(i,D){D=D||{};var y=i._id||"x",B=y.charAt(0);function F(Z,q){if(Z>0)return Math.log(Z)/Math.LN10;if(Z<=0&&q&&i.range&&2===i.range.length){var fe=i.range[0],re=i.range[1];return.5*(fe+re-2*d*Math.abs(fe-re))}return h}function _(Z,q,fe,re){if((re||{}).msUTC&&I(Z))return+Z;var $=r(Z,fe||i.calendar);if($===h){if(!I(Z))return h;Z=+Z;var le=Math.floor(10*l.mod(Z+.05,1)),se=Math.round(Z-le/10);$=r(new Date(se))+le/10}return $}function z(Z,q,fe){return w(Z,q,fe||i.calendar)}function V(Z){return i._categories[Math.round(Z)]}function H(Z){if(E(Z)){if(void 0===i._categoriesMap&&(i._categoriesMap={}),void 0!==i._categoriesMap[Z])return i._categoriesMap[Z];i._categories.push("number"==typeof Z?String(Z):Z);var q=i._categories.length-1;return i._categoriesMap[Z]=q,q}return h}function G(Z){if(i._categoriesMap)return i._categoriesMap[Z]}function Y(Z){var q=G(Z);return void 0!==q?q:I(Z)?+Z:void 0}function ee(Z){return I(Z)?+Z:G(Z)}function ue(Z,q,fe){return S.round(fe+q*Z,2)}function ce(Z,q,fe){return(Z-fe)/q}var pe=function(q){return I(q)?ue(q,i._m,i._b):h},te=function(Z){return ce(Z,i._m,i._b)};if(i.rangebreaks){var Q="y"===B;pe=function(Z){if(!I(Z))return h;var q=i._rangebreaks.length;if(!q)return ue(Z,i._m,i._b);var fe=Q;i.range[0]>i.range[1]&&(fe=!fe);for(var re=fe?-1:1,$=re*Z,le=0,se=0;se<q;se++){var de=re*i._rangebreaks[se].min,we=re*i._rangebreaks[se].max;if($<de)break;if(!($>we)){le=$<(de+we)/2?se:se+1;break}le=se+1}var Ee=i._B[le]||0;return isFinite(Ee)?ue(Z,i._m2,Ee):0},te=function(Z){var q=i._rangebreaks.length;if(!q)return ce(Z,i._m,i._b);for(var fe=0,re=0;re<q&&!(Z<i._rangebreaks[re].pmin);re++)Z>i._rangebreaks[re].pmax&&(fe=re+1);return ce(Z,i._m2,i._B[fe])}}i.c2l="log"===i.type?F:n,i.l2c="log"===i.type?x:n,i.l2p=pe,i.p2l=te,i.c2p="log"===i.type?function(Z,q){return pe(F(Z,q))}:pe,i.p2c="log"===i.type?function(Z){return x(te(Z))}:te,-1!==["linear","-"].indexOf(i.type)?(i.d2r=i.r2d=i.d2c=i.r2c=i.d2l=i.r2l=v,i.c2d=i.c2r=i.l2d=i.l2r=n,i.d2p=i.r2p=function(Z){return i.l2p(v(Z))},i.p2d=i.p2r=te,i.cleanPos=n):"log"===i.type?(i.d2r=i.d2l=function(Z,q){return F(v(Z),q)},i.r2d=i.r2c=function(Z){return x(v(Z))},i.d2c=i.r2l=v,i.c2d=i.l2r=n,i.c2r=F,i.l2d=x,i.d2p=function(Z,q){return i.l2p(i.d2r(Z,q))},i.p2d=function(Z){return x(te(Z))},i.r2p=function(Z){return i.l2p(v(Z))},i.p2r=te,i.cleanPos=n):"date"===i.type?(i.d2r=i.r2d=l.identity,i.d2c=i.r2c=i.d2l=i.r2l=_,i.c2d=i.c2r=i.l2d=i.l2r=z,i.d2p=i.r2p=function(Z,q,fe){return i.l2p(_(Z,0,fe))},i.p2d=i.p2r=function(Z,q,fe){return z(te(Z),q,fe)},i.cleanPos=function(Z){return l.cleanDate(Z,h,i.calendar)}):"category"===i.type?(i.d2c=i.d2l=H,i.r2d=i.c2d=i.l2d=V,i.d2r=i.d2l_noadd=Y,i.r2c=function(Z){var q=ee(Z);return void 0!==q?q:i.fraction2r(.5)},i.l2r=i.c2r=n,i.r2l=ee,i.d2p=function(Z){return i.l2p(i.r2c(Z))},i.p2d=function(Z){return V(te(Z))},i.r2p=i.d2p,i.p2r=te,i.cleanPos=function(Z){return"string"==typeof Z&&""!==Z?Z:n(Z)}):"multicategory"===i.type&&(i.r2d=i.c2d=i.l2d=V,i.d2r=i.d2l_noadd=Y,i.r2c=function(Z){var q=Y(Z);return void 0!==q?q:i.fraction2r(.5)},i.r2c_just_indices=G,i.l2r=i.c2r=n,i.r2l=Y,i.d2p=function(Z){return i.l2p(i.r2c(Z))},i.p2d=function(Z){return V(te(Z))},i.r2p=i.d2p,i.p2r=te,i.cleanPos=function(Z){return Array.isArray(Z)||"string"==typeof Z&&""!==Z?Z:n(Z)},i.setupMultiCategory=function(Z){var fe,re,q=i._traceIndices,$=i._matchGroup;if($&&0===i._categories.length)for(var le in $)if(le!==y){var se=D[g.id2name(le)];q=q.concat(se._traceIndices)}var de=[[0,{}],[0,{}]],we=[];for(fe=0;fe<q.length;fe++){var Ee=Z[q[fe]];if(B in Ee){var Me=Ee[B],Ne=Ee._length||l.minRowLength(Me);if(c(Me[0])&&c(Me[1]))for(re=0;re<Ne;re++){var Ve=Me[0][re],Pe=Me[1][re];E(Ve)&&E(Pe)&&(we.push([Ve,Pe]),Ve in de[0][1]||(de[0][1][Ve]=de[0][0]++),Pe in de[1][1]||(de[1][1][Pe]=de[1][0]++))}}}for(we.sort(function(Ce,Ie){var Je=de[0][1],Qe=Je[Ce[0]]-Je[Ie[0]];if(Qe)return Qe;var ze=de[1][1];return ze[Ce[1]]-ze[Ie[1]]}),fe=0;fe<we.length;fe++)H(we[fe])}),i.fraction2r=function(Z){var q=i.r2l(i.range[0]),fe=i.r2l(i.range[1]);return i.l2r(q+Z*(fe-q))},i.r2fraction=function(Z){var q=i.r2l(i.range[0]),fe=i.r2l(i.range[1]);return(i.r2l(Z)-q)/(fe-q)},i.limitRange=function(Z){var q=i.minallowed,fe=i.maxallowed;if(void 0!==q||void 0!==fe){Z||(Z="range");var re=l.nestedProperty(i,Z).get(),$=l.simpleMap(re,i.r2l),le=$[1]<$[0];le&&$.reverse();var se=l.simpleMap([q,fe],i.r2l);void 0!==q&&$[0]<se[0]&&(re[le?1:0]=q),void 0!==fe&&$[1]>se[1]&&(re[le?0:1]=fe)}},i.cleanRange=function(Z,q){i._cleanRange(Z,q),i.limitRange(Z)},i._cleanRange=function(Z,q){q||(q={}),Z||(Z="range");var re,$,fe=l.nestedProperty(i,Z).get();if($=($="date"===i.type?l.dfltRange(i.calendar):"y"===B?C.DFLTRANGEY:"realaxis"===i._name?[0,1]:q.dfltRange||C.DFLTRANGEX).slice(),("tozero"===i.rangemode||"nonnegative"===i.rangemode)&&($[0]=0),fe&&2===fe.length){var le=null===fe[0],se=null===fe[1];for("date"===i.type&&!i.autorange&&(fe[0]=l.cleanDate(fe[0],h,i.calendar),fe[1]=l.cleanDate(fe[1],h,i.calendar)),re=0;re<2;re++)if("date"===i.type){if(!l.isDateTime(fe[re],i.calendar)){i[Z]=$;break}if(i.r2l(fe[0])===i.r2l(fe[1])){var de=l.constrain(i.r2l(fe[0]),l.MIN_MS+1e3,l.MAX_MS-1e3);fe[0]=i.l2r(de-1e3),fe[1]=i.l2r(de+1e3);break}}else{if(!I(fe[re])){if(le||se||!I(fe[1-re])){i[Z]=$;break}fe[re]=fe[1-re]*(re?10:.1)}if(fe[re]<-f?fe[re]=-f:fe[re]>f&&(fe[re]=f),fe[0]===fe[1]){var we=Math.max(1,Math.abs(1e-6*fe[0]));fe[0]-=we,fe[1]+=we}}}else l.nestedProperty(i,Z).set($)},i.setScale=function(Z){var q=D._size;if(i.overlaying){var fe=g.getFromId({_fullLayout:D},i.overlaying);i.domain=fe.domain}var re=Z&&i._r?"_r":"range",$=i.calendar;i.cleanRange(re);var we,Ee,le=i.r2l(i[re][0],$),se=i.r2l(i[re][1],$),de="y"===B;if(de?(i._offset=q.t+(1-i.domain[1])*q.h,i._length=q.h*(i.domain[1]-i.domain[0]),i._m=i._length/(le-se),i._b=-i._m*se):(i._offset=q.l+i.domain[0]*q.w,i._length=q.w*(i.domain[1]-i.domain[0]),i._m=i._length/(se-le),i._b=-i._m*le),i._rangebreaks=[],i._lBreaks=0,i._m2=0,i._B=[],i.rangebreaks&&(i._rangebreaks=i.locateBreaks(Math.min(le,se),Math.max(le,se)),i._rangebreaks.length)){for(we=0;we<i._rangebreaks.length;we++)Ee=i._rangebreaks[we],i._lBreaks+=Math.abs(Ee.max-Ee.min);var Me=de;le>se&&(Me=!Me),Me&&i._rangebreaks.reverse();var Ne=Me?-1:1;for(i._m2=Ne*i._length/(Math.abs(se-le)-i._lBreaks),i._B.push(-i._m2*(de?se:le)),we=0;we<i._rangebreaks.length;we++)i._B.push(i._B[i._B.length-1]-Ne*i._m2*((Ee=i._rangebreaks[we]).max-Ee.min));for(we=0;we<i._rangebreaks.length;we++)(Ee=i._rangebreaks[we]).pmin=pe(Ee.min),Ee.pmax=pe(Ee.max)}if(!isFinite(i._m)||!isFinite(i._b)||i._length<0)throw D._replotting=!1,new Error("Something went wrong with axis scaling")},i.maskBreaks=function(Z){var fe,re,$,le,se,q=i.rangebreaks||[];q._cachedPatterns||(q._cachedPatterns=q.map(function(Je){return Je.enabled&&Je.bounds?l.simpleMap(Je.bounds,Je.pattern?v:i.d2c):null})),q._cachedValues||(q._cachedValues=q.map(function(Je){return Je.enabled&&Je.values?l.simpleMap(Je.values,i.d2c).sort(l.sorterAsc):null}));for(var de=0;de<q.length;de++){var we=q[de];if(we.enabled)if(we.bounds){switch(re=(fe=q._cachedPatterns[de])[0],$=fe[1],we.pattern){case L:le=(se=new Date(Z)).getUTCDay(),re>$&&($+=7,le<re&&(le+=7));break;case T:le=(se=new Date(Z)).getUTCHours()+(se.getUTCMinutes()/60+se.getUTCSeconds()/3600+se.getUTCMilliseconds()/36e5),re>$&&($+=24,le<re&&(le+=24));break;case"":le=Z}if(le>=re&&le<$)return h}else for(var Ce=q._cachedValues[de],Ie=0;Ie<Ce.length;Ie++)if($=(re=Ce[Ie])+we.dvalue,Z>=re&&Z<$)return h}return Z},i.locateBreaks=function(Z,q){var fe,re,$,le,se=[];if(!i.rangebreaks)return se;var de=i.rangebreaks.slice().sort(function(ze,Ke){return ze.pattern===L&&Ke.pattern===T?-1:Ke.pattern===L&&ze.pattern===T?1:0}),we=function(ze,Ke){if((ze=l.constrain(ze,Z,q))!==(Ke=l.constrain(Ke,Z,q))){for(var ut=!0,ot=0;ot<se.length;ot++){var We=se[ot];ze<We.max&&Ke>=We.min&&(ze<We.min&&(We.min=ze),Ke>We.max&&(We.max=Ke),ut=!1)}ut&&se.push({min:ze,max:Ke})}};for(fe=0;fe<de.length;fe++){var Ee=de[fe];if(Ee.enabled)if(Ee.bounds){var Me=Z,Ne=q;Ee.pattern&&(Me=Math.floor(Me)),$=(re=l.simpleMap(Ee.bounds,Ee.pattern?v:i.r2l))[0],le=re[1];var Pe,Ce,Ve=new Date(Me);switch(Ee.pattern){case L:Ce=b,Pe=(le-$+(le<$?7:0))*p,Me+=$*p-(Ve.getUTCDay()*p+Ve.getUTCHours()*A+Ve.getUTCMinutes()*m+Ve.getUTCSeconds()*u+Ve.getUTCMilliseconds());break;case T:Ce=p,Pe=(le-$+(le<$?24:0))*A,Me+=$*A-(Ve.getUTCHours()*A+Ve.getUTCMinutes()*m+Ve.getUTCSeconds()*u+Ve.getUTCMilliseconds());break;default:Me=Math.min(re[0],re[1]),Pe=Ce=(Ne=Math.max(re[0],re[1]))-Me}for(var Ie=Me;Ie<Ne;Ie+=Ce)we(Ie,Ie+Pe)}else for(var Je=l.simpleMap(Ee.values,i.d2c),Qe=0;Qe<Je.length;Qe++)we($=Je[Qe],le=$+Ee.dvalue)}return se.sort(function(ze,Ke){return ze.min-Ke.min}),se},i.makeCalcdata=function(Z,q,fe){var re,$,le,se,de=i.type,we="date"===de&&Z[q+"calendar"];if(q in Z){if(re=Z[q],se=Z._length||l.minRowLength(re),l.isTypedArray(re)&&("linear"===de||"log"===de)){if(se===re.length)return re;if(re.subarray)return re.subarray(0,se)}if("multicategory"===de)return function U(Z,q){for(var fe=new Array(q),re=0;re<q;re++)fe[re]=G([(Z[0]||[])[re],(Z[1]||[])[re]]);return fe}(re,se);for($=new Array(se),le=0;le<se;le++)$[le]=i.d2c(re[le],0,we,fe)}else{var Ee=q+"0"in Z?i.d2c(Z[q+"0"],0,we):0,Me=Z["d"+q]?Number(Z["d"+q]):1;for(re=Z[{x:"y",y:"x"}[q]],se=Z._length||re.length,$=new Array(se),le=0;le<se;le++)$[le]=Ee+le*Me}if(i.rangebreaks)for(le=0;le<se;le++)$[le]=i.maskBreaks($[le]);return $},i.isValidRange=function(Z,q){return Array.isArray(Z)&&2===Z.length&&(q&&null===Z[0]||I(i.r2l(Z[0])))&&(q&&null===Z[1]||I(i.r2l(Z[1])))},i.getAutorangeDflt=function(Z,q){var fe=!i.isValidRange(Z,"nullOk");return fe&&q&&q.reverseDflt?fe="reversed":Z&&(null===Z[0]&&null===Z[1]?fe=!0:null===Z[0]&&null!==Z[1]?fe="min":null!==Z[0]&&null===Z[1]&&(fe="max")),fe},i.isReversed=function(){var Z=i.autorange;return"reversed"===Z||"min reversed"===Z||"max reversed"===Z},i.isPtWithinRange=function(Z,q){var fe=i.c2l(Z[B],null,q),re=i.r2l(i.range[0]),$=i.r2l(i.range[1]);return re<$?re<=fe&&fe<=$:$<=fe&&fe<=re},i._emptyCategories=function(){i._categories=[],i._categoriesMap={}},i.clearCalc=function(){var Z=i._matchGroup;if(Z){var q=null,fe=null;for(var re in Z){var $=D[g.id2name(re)];if($._categories){q=$._categories,fe=$._categoriesMap;break}}q&&fe?(i._categories=q,i._categoriesMap=fe):i._emptyCategories()}else i._emptyCategories();if(i._initialCategories)for(var le=0;le<i._initialCategories.length;le++)H(i._initialCategories[le])},i.sortByInitialCategories=function(){var Z=[];if(i._emptyCategories(),i._initialCategories)for(var q=0;q<i._initialCategories.length;q++)H(i._initialCategories[q]);Z=Z.concat(i._traceIndices);var fe=i._matchGroup;for(var re in fe)if(y!==re){var $=D[g.id2name(re)];$._categories=i._categories,$._categoriesMap=i._categoriesMap,Z=Z.concat($._traceIndices)}return Z};var K=D._d3locale;"date"===i.type&&(i._dateFormat=K?K.timeFormat:k,i._extraFormat=D._extraFormat),i._separators=D.separators,i._numFormat=K?K.numberFormat:R,delete i._minDtick,delete i._forceTick0}},59652:function(oe){"use strict";oe.exports=function(t){var k=["showexponent","showtickprefix","showticksuffix"].filter(function(R){return void 0!==t[R]});if(k.every(function(R){return t[R]===t[k[0]]})||1===k.length)return t[k[0]]}},96115:function(oe,J,t){"use strict";var S=t(71828),k=t(7901).contrast,l=t(13838),R=t(59652),I=t(85501);function v(w,r){function n(o,f){return S.coerce(w,r,l.tickformatstops,o,f)}n("enabled")&&(n("dtickrange"),n("value"))}oe.exports=function(r,n,c,o,f){f||(f={});var h=c("labelalias");S.isPlainObject(h)||delete n.labelalias;var d=R(r);if(c("showticklabels")){var p=f.font||{},A=n.color,u=-1!==(n.ticklabelposition||"").indexOf("inside")?k(f.bgColor):A&&A!==l.color.dflt?A:p.color;if(S.coerceFont(c,"tickfont",{family:p.family,size:p.size,color:u}),!f.noTicklabelstep&&"multicategory"!==o&&"log"!==o&&c("ticklabelstep"),f.noAng||c("tickangle"),"category"!==o){var g=c("tickformat");I(r,n,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),n.tickformatstops.length||delete n.tickformatstops,!f.noExp&&!g&&"date"!==o&&(c("showexponent",d),c("exponentformat"),c("minexponent"),c("separatethousands"))}}}},38701:function(oe,J,t){"use strict";var S=t(71828),k=t(13838);oe.exports=function(R,I,v,w){var r=w.isMinor,n=r?R.minor||{}:R,c=r?I.minor:I,o=r?k.minor:k,f=r?"minor.":"",h=S.coerce2(n,c,o,"ticklen",r?.6*(I.ticklen||5):void 0),d=S.coerce2(n,c,o,"tickwidth",r?I.tickwidth||1:void 0),b=S.coerce2(n,c,o,"tickcolor",(r?I.tickcolor:void 0)||c.color);v(f+"ticks",!r&&w.outerTicks||h||d||b?"outside":"")||(delete c.ticklen,delete c.tickwidth,delete c.tickcolor)}},26218:function(oe,J,t){"use strict";var S=t(66287),k=t(71828).isArrayOrTypedArray;oe.exports=function(R,I,v,w,r){r||(r={});var n=r.isMinor,c=n?R.minor||{}:R,o=n?I.minor:I,f=n?"minor.":"";function h(C){var T=c[C];return void 0!==T?T:(o._template||{})[C]}var d=h("tick0"),b=h("dtick"),p=h("tickvals"),m=v(f+"tickmode",k(p)?"array":b?"linear":"auto");if("auto"===m||"sync"===m)v(f+"nticks");else if("linear"===m){var u=o.dtick=S.dtick(b,w);o.tick0=S.tick0(d,w,I.calendar,u)}else"multicategory"!==w&&(void 0===v(f+"tickvals")?o.tickmode="auto":n||v("ticktext"))}},66847:function(oe,J,t){"use strict";var S=t(39898),k=t(73972),l=t(71828),R=t(91424),I=t(89298);oe.exports=function(w,r,n,c){var o=w._fullLayout;if(0!==r.length){var d;c&&(d=c());var A,m,u,g=S.ease(n.easing);return w._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function p(){for(var T={},L=0;L<r.length;L++){var x=r[L],M=x.plotinfo.yaxis;x.xr0&&(T[x.plotinfo.xaxis._name+".range"]=x.xr0.slice()),x.yr0&&(T[M._name+".range"]=x.yr0.slice())}return k.call("relayout",w,T).then(function(){for(var i=0;i<r.length;i++)f(r[i].plotinfo)})}()}),A=Date.now(),u=window.requestAnimationFrame(function C(){m=Date.now();for(var T=Math.min(1,(m-A)/n.duration),L=g(T),x=0;x<r.length;x++)h(r[x],L);m-A>n.duration?(function b(){for(var T={},L=0;L<r.length;L++){var x=r[L],M=x.plotinfo.yaxis;x.xr1&&(T[x.plotinfo.xaxis._name+".range"]=x.xr1.slice()),x.yr1&&(T[M._name+".range"]=x.yr1.slice())}return d&&d(),k.call("relayout",w,T).then(function(){for(var i=0;i<r.length;i++)f(r[i].plotinfo)})}(),u=window.cancelAnimationFrame(C)):u=window.requestAnimationFrame(C)}),Promise.resolve()}function f(T){var L=T.xaxis,x=T.yaxis;o._defs.select("#"+T.clipId+"> rect").call(R.setTranslate,0,0).call(R.setScale,1,1),T.plot.call(R.setTranslate,L._offset,x._offset).call(R.setScale,1,1);var E=T.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(R.setPointGroupScale,1,1),E.selectAll(".textpoint").call(R.setTextPointsScale,1,1),E.call(R.hideOutsideRangePoints,T)}function h(T,L){var x=T.plotinfo,E=x.xaxis,M=x.yaxis,i=E._length,D=M._length,y=!!T.xr1,B=!!T.yr1,F=[];if(y){var _=l.simpleMap(T.xr0,E.r2l),z=l.simpleMap(T.xr1,E.r2l),V=_[1]-_[0],H=z[1]-z[0];F[0]=(_[0]*(1-L)+L*z[0]-_[0])/(_[1]-_[0])*i,F[2]=i*(1-L+L*H/V),E.range[0]=E.l2r(_[0]*(1-L)+L*z[0]),E.range[1]=E.l2r(_[1]*(1-L)+L*z[1])}else F[0]=0,F[2]=i;if(B){var U=l.simpleMap(T.yr0,M.r2l),G=l.simpleMap(T.yr1,M.r2l),Y=U[1]-U[0],ee=G[1]-G[0];F[1]=(U[1]*(1-L)+L*G[1]-U[1])/(U[0]-U[1])*D,F[3]=D*(1-L+L*ee/Y),M.range[0]=E.l2r(U[0]*(1-L)+L*G[0]),M.range[1]=M.l2r(U[1]*(1-L)+L*G[1])}else F[1]=0,F[3]=D;I.drawOne(w,E,{skipTitle:!0}),I.drawOne(w,M,{skipTitle:!0}),I.redrawComponents(w,[E._id,M._id]);var ue=y?i/F[2]:1,ce=B?D/F[3]:1,Z=E._offset-(y?F[0]/F[2]*i:0),q=M._offset-(B?F[1]/F[3]*D:0);x.clipRect.call(R.setTranslate,y?F[0]:0,B?F[1]:0).call(R.setScale,1/ue,1/ce),x.plot.call(R.setTranslate,Z,q).call(R.setScale,ue,ce),R.setPointGroupScale(x.zoomScalePts,1/ue,1/ce),R.setTextPointsScale(x.zoomScaleTxt,1/ue,1/ce)}I.redrawComponents(w)}},951:function(oe,J,t){"use strict";var S=t(73972).traceIs,k=t(4322);function l(w,r){if("-"===w.type){var o,n=w._id,c=n.charAt(0);-1!==n.indexOf("scene")&&(n=c);var f=function R(w,r,n){for(var c=0;c<w.length;c++){var o=w[c];if("splom"===o.type&&o._length>0&&(o["_"+n+"axes"]||{})[r])return o;if((o[n+"axis"]||n)===r){if(v(o,n))return o;if((o[n]||[]).length||o[n+"0"])return o}}}(r,n,c);if(f){if("histogram"===f.type&&c==={v:"y",h:"x"}[f.orientation||"v"])return void(w.type="linear");var h=c+"calendar",d=f[h],b={noMultiCategory:!S(f,"cartesian")||S(f,"noMultiCategory")};if("box"===f.type&&f._hasPreCompStats&&c==={h:"x",v:"y"}[f.orientation||"v"]&&(b.noMultiCategory=!0),b.autotypenumbers=w.autotypenumbers,v(f,c)){var p=I(f),A=[];for(o=0;o<r.length;o++){var m=r[o];!S(m,"box-violin")||(m[c+"axis"]||c)!==n||(A.push(void 0!==m[p]?m[p][0]:void 0!==m.name?m.name:"text"),m[h]!==d&&(d=void 0))}w.type=k(A,d,b)}else if("splom"===f.type){var g=f.dimensions[f._axesDim[n]];g.visible&&(w.type=k(g.values,d,b))}else w.type=k(f[c]||[f[c+"0"]],d,b)}}}function I(w){return{v:"x",h:"y"}[w.orientation||"v"]}function v(w,r){var n=I(w),c=S(w,"box-violin"),o=S(w._fullInput||{},"candlestick");return c&&!o&&r===n&&void 0===w[n]&&void 0===w[n+"0"]}oe.exports=function(r,n,c,o){c("autotypenumbers",o.autotypenumbersDflt),"-"===c("type",(o.splomStash||{}).type)&&(l(n,o.data),"-"===n.type?n.type="linear":r.type=n.type)}},31137:function(oe,J,t){"use strict";var S=t(73972),k=t(71828);function l(r,n,c){var o,f,h,d=!1;if("data"===n.type)o=r._fullData[null!==n.traces?n.traces[0]:0];else{if("layout"!==n.type)return!1;o=r._fullLayout}return f=k.nestedProperty(o,n.prop).get(),(h=c[n.type]=c[n.type]||{}).hasOwnProperty(n.prop)&&h[n.prop]!==f&&(d=!0),h[n.prop]=f,{changed:d,value:f}}function I(r,n){var c=[],o=n[0],f={};if("string"==typeof o)f[o]=n[1];else{if(!k.isPlainObject(o))return c;f=o}return w(f,function(h,d,b){c.push({type:"layout",prop:h,value:b})},"",0),c}function v(r,n){var c,o,f,h,d=[];if(f=n[1],c=n[2],h={},"string"==typeof(o=n[0]))h[o]=f;else{if(!k.isPlainObject(o))return d;h=o,void 0===c&&(c=f)}return void 0===c&&(c=null),w(h,function(b,p,A){var m,u;if(Array.isArray(A)){u=A.slice();var g=Math.min(u.length,r.data.length);c&&(g=Math.min(g,c.length)),m=[];for(var C=0;C<g;C++)m[C]=c?c[C]:C}else u=A,m=c?c.slice():null;if(null===m)Array.isArray(u)&&(u=u[0]);else if(Array.isArray(m)){if(!Array.isArray(u)){var T=u;u=[];for(var L=0;L<m.length;L++)u[L]=T}u.length=Math.min(m.length,u.length)}d.push({type:"data",prop:b,traces:m,value:u})},"",0),d}function w(r,n,c,o){Object.keys(r).forEach(function(f){var h=r[f];if("_"!==f[0]){var d=c+(o>0?".":"")+f;k.isPlainObject(h)?w(h,n,d,o+1):n(d,f,h)}})}J.manageCommandObserver=function(r,n,c,o){var f={},h=!0;n&&n._commandObserver&&(f=n._commandObserver),f.cache||(f.cache={}),f.lookupTable={};var d=J.hasSimpleAPICommandBindings(r,c,f.lookupTable);if(n&&n._commandObserver){if(d)return f;if(n._commandObserver.remove)return n._commandObserver.remove(),n._commandObserver=null,f}if(d){l(r,d,f.cache),f.check=function(){if(h){var m=l(r,d,f.cache);return m.changed&&o&&void 0!==f.lookupTable[m.value]&&(f.disable(),Promise.resolve(o({value:m.value,type:d.type,prop:d.prop,traces:d.traces,index:f.lookupTable[m.value]})).then(f.enable,f.enable)),m.changed}};for(var b=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],p=0;p<b.length;p++)r._internalOn(b[p],f.check);f.remove=function(){for(var A=0;A<b.length;A++)r._removeInternalListener(b[A],f.check)}}else k.log("Unable to automatically bind plot updates to API command"),f.lookupTable={},f.remove=function(){};return f.disable=function(){h=!1},f.enable=function(){h=!0},n&&(n._commandObserver=f),f},J.hasSimpleAPICommandBindings=function(r,n,c){var o,h,f=n.length;for(o=0;o<f;o++){var d,b=n[o],p=b.method,A=b.args;if(Array.isArray(A)||(A=[]),!p)return!1;var m=J.computeAPICommandBindings(r,p,A);if(1!==m.length)return!1;if(h){if((d=m[0]).type!==h.type||d.prop!==h.prop)return!1;if(Array.isArray(h.traces)){if(!Array.isArray(d.traces))return!1;d.traces.sort();for(var u=0;u<h.traces.length;u++)if(h.traces[u]!==d.traces[u])return!1}else if(d.prop!==h.prop)return!1}else h=m[0],Array.isArray(h.traces)&&h.traces.sort();var g=(d=m[0]).value;if(Array.isArray(g)){if(1!==g.length)return!1;g=g[0]}c&&(c[g]=o)}return h},J.executeAPICommand=function(r,n,c){if("skip"===n)return Promise.resolve();var o=S.apiMethodRegistry[n],f=[r];Array.isArray(c)||(c=[]);for(var h=0;h<c.length;h++)f.push(c[h]);return o.apply(null,f).catch(function(d){return k.warn("API call to Plotly."+n+" rejected.",d),Promise.reject(d)})},J.computeAPICommandBindings=function(r,n,c){var o;switch(Array.isArray(c)||(c=[]),n){case"restyle":o=v(r,c);break;case"relayout":o=I(0,c);break;case"update":o=v(r,[c[0],c[2]]).concat(I(0,[c[1]]));break;case"animate":o=function R(r,n){return Array.isArray(n[0])&&1===n[0].length&&-1!==["string","number"].indexOf(typeof n[0][0])?[{type:"layout",prop:"_currentFrame",value:n[0][0].toString()}]:[]}(0,c);break;default:o=[]}return o}},27670:function(oe,J,t){"use strict";var S=t(1426).extendFlat;J.Y=function(k,l){var R={valType:"info_array",editType:(k=k||{}).editType,items:[{valType:"number",min:0,max:1,editType:k.editType},{valType:"number",min:0,max:1,editType:k.editType}],dflt:[0,1]},r=(l=l||{},{x:S({},R,{}),y:S({},R,{}),editType:k.editType});return k.noGridCell||(r.row={valType:"integer",min:0,dflt:0,editType:k.editType},r.column={valType:"integer",min:0,dflt:0,editType:k.editType}),r},J.c=function(k,l,R,I){var v=I&&I.x||[0,1],w=I&&I.y||[0,1],r=l.grid;if(r){var n=R("domain.column");void 0!==n&&(n<r.columns?v=r._domains.x[n]:delete k.domain.column);var c=R("domain.row");void 0!==c&&(c<r.rows?w=r._domains.y[c]:delete k.domain.row)}var o=R("domain.x",v),f=R("domain.y",w);o[0]<o[1]||(k.domain.x=v.slice()),f[0]<f[1]||(k.domain.y=w.slice())}},41940:function(oe){"use strict";oe.exports=function(J){var t=J.editType,S=J.colorEditType;void 0===S&&(S=t);var k={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:S},editType:t};return J.autoSize&&(k.size.dflt="auto"),J.autoColor&&(k.color.dflt="auto"),J.arrayOk&&(k.family.arrayOk=!0,k.size.arrayOk=!0,k.color.arrayOk=!0),k}},31391:function(oe){"use strict";oe.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(oe,J){"use strict";J.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},J.axesNames=["lonaxis","lataxis"],J.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},J.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},J.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},J.clipPad=.001,J.precision=.1,J.landColor="#F0DC82",J.waterColor="#3399FF",J.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},J.sphereSVG={type:"Sphere"},J.fillLayers={ocean:1,land:1,lakes:1},J.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},J.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],J.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],J.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(oe,J,t){"use strict";var S=t(39898),k=t(27362),l=k.geoPath,R=k.geoDistance,I=t(65704),v=t(73972),w=t(71828),r=w.strTranslate,n=t(7901),c=t(91424),o=t(30211),f=t(74875),h=t(89298),d=t(71739).getAutoRange,b=t(28569),p=t(47322).prepSelect,A=t(47322).clearOutline,m=t(47322).selectOnClick,u=t(74455),g=t(78776),C=t(41327),T=t(90973),L=t(96892).zL;function x(y){this.id=y.id,this.graphDiv=y.graphDiv,this.container=y.container,this.topojsonURL=y.topojsonURL,this.isStatic=y.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=x.prototype;function D(y,B){var F=g.clipPad,_=y[0]+F,z=y[1]-F,V=B[0]+F,H=B[1]-F;_>0&&z<0&&(z+=360);var U=(z-_)/4;return{type:"Polygon",coordinates:[[[_,V],[_,H],[_+U,H],[_+2*U,H],[_+3*U,H],[z,H],[z,V],[z-U,V],[z-2*U,V],[z-3*U,V],[_,V]]]}}oe.exports=function(B){return new x(B)},E.plot=function(y,B,F,_){var z=this;if(_)return z.update(y,B,!0);z._geoCalcData=y,z._fullLayout=B;var V=B[this.id],H=[],U=!1;for(var G in g.layerNameToAdjective)if("frame"!==G&&V["show"+G]){U=!0;break}for(var Y=!1,ee=0;ee<y.length;ee++){var ue=y[0][0].trace;ue._geo=z,ue.locationmode&&(U=!0);var ce=ue.marker;if(ce){var te=ce.angleref;(ce.angle||"north"===te||"previous"===te)&&(Y=!0)}}if(this._hasMarkerAngles=Y,U){var Q=T.getTopojsonName(V);(null===z.topojson||Q!==z.topojsonName)&&(z.topojsonName=Q,void 0===PlotlyGeoAssets.topojson[z.topojsonName]&&H.push(z.fetchTopojson()))}H=H.concat(C.fetchTraceGeoData(y)),F.push(new Promise(function(K,Z){Promise.all(H).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(y,B),K()}).catch(Z)}))},E.fetchTopojson=function(){var y=this,B=T.getTopojsonPath(y.topojsonURL,y.topojsonName);return new Promise(function(F,_){S.json(B,function(z,V){if(z)return _(404===z.status?new Error(["plotly.js could not find topojson file at",B+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",B].join(" ")));PlotlyGeoAssets.topojson[y.topojsonName]=V,F()})})},E.update=function(y,B,F){var _=B[this.id];this.hasChoropleth=!1;for(var z=0;z<y.length;z++){var V=y[z],H=V[0].trace;"choropleth"===H.type&&(this.hasChoropleth=!0),!0===H.visible&&H._length>0&&H._module.calcGeoJSON(V,B)}if(!F){if(this.updateProjection(y,B))return;(!this.viewInitial||this.scope!==_.scope)&&this.saveViewInitial(_)}this.scope=_.scope,this.updateBaseLayers(B,_),this.updateDims(B,_),this.updateFx(B,_),f.generalUpdatePerTraceModule(this.graphDiv,this,y,_);var G=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=G.selectAll(".point"),this.dataPoints.text=G.selectAll("text"),this.dataPaths.line=G.selectAll(".js-line");var Y=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Y.selectAll("path"),this._render()},E.updateProjection=function(y,B){var F=this.graphDiv,_=B[this.id],z=B._size,V=_.domain,H=_.projection,U=_.lonaxis,G=_.lataxis,Y=U._ax,ee=G._ax,ue=this.projection=function M(y){var B=y.projection,F=B.type,_=g.projNames[F];_="geo"+w.titleCase(_);for(var V=(k[_]||I[_])(),H=y._isSatellite?180*Math.acos(1/B.distance)/Math.PI:y._isClipped?g.lonaxisSpan[F]/2:null,U=["center","rotate","parallels","clipExtent"],G=function(ue){return ue?V:[]},Y=0;Y<U.length;Y++){var ee=U[Y];"function"!=typeof V[ee]&&(V[ee]=G)}return V.isLonLatOverEdges=function(ue){if(null===V(ue))return!0;if(H){var ce=V.rotate();return R(ue,[-ce[0],-ce[1]])>H*Math.PI/180}return!1},V.getPath=function(){return l().projection(V)},V.getBounds=function(ue){return V.getPath().bounds(ue)},V.precision(g.precision),y._isSatellite&&V.tilt(B.tilt).distance(B.distance),H&&V.clipAngle(H-g.clipPad),V}(_),ce=[[z.l+z.w*V.x[0],z.t+z.h*(1-V.y[1])],[z.l+z.w*V.x[1],z.t+z.h*(1-V.y[0])]],pe=_.center||{},te=H.rotation||{},Q=U.range||[],K=G.range||[];if(_.fitbounds){Y._length=ce[1][0]-ce[0][0],ee._length=ce[1][1]-ce[0][1],Y.range=d(F,Y),ee.range=d(F,ee);var Z=(Y.range[0]+Y.range[1])/2,q=(ee.range[0]+ee.range[1])/2;if(_._isScoped)pe={lon:Z,lat:q};else if(_._isClipped){pe={lon:Z,lat:q},te={lon:Z,lat:q,roll:te.roll};var fe=H.type,re=g.lonaxisSpan[fe]/2||180,$=g.lataxisSpan[fe]/2||90;Q=[Z-re,Z+re],K=[q-$,q+$]}else pe={lon:Z,lat:q},te={lon:Z,lat:te.lat,roll:te.roll}}ue.center([pe.lon-te.lon,pe.lat-te.lat]).rotate([-te.lon,-te.lat,te.roll]).parallels(H.parallels);var le=D(Q,K);ue.fitExtent(ce,le);var se=this.bounds=ue.getBounds(le),de=this.fitScale=ue.scale(),we=ue.translate();if(_.fitbounds){var Ee=ue.getBounds(D(Y.range,ee.range)),Me=Math.min((se[1][0]-se[0][0])/(Ee[1][0]-Ee[0][0]),(se[1][1]-se[0][1])/(Ee[1][1]-Ee[0][1]));isFinite(Me)?ue.scale(Me*de):w.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ue.scale(H.scale*de);var Ne=this.midPt=[(se[0][0]+se[1][0])/2,(se[0][1]+se[1][1])/2];if(ue.translate([we[0]+(Ne[0]-we[0]),we[1]+(Ne[1]-we[1])]).clipExtent(se),_._isAlbersUsa){var Ve=ue([pe.lon,pe.lat]),Pe=ue.translate();ue.translate([Pe[0]-(Ve[0]-Pe[0]),Pe[1]-(Ve[1]-Pe[1])])}},E.updateBaseLayers=function(y,B){var F=this,_=F.topojson,z=F.layers,V=F.basePaths;function H(ce){return"lonaxis"===ce||"lataxis"===ce}function U(ce){return!!g.lineLayers[ce]}function G(ce){return!!g.fillLayers[ce]}var ee=(this.hasChoropleth?g.layersForChoropleth:g.layers).filter(function(ce){return U(ce)||G(ce)?B["show"+ce]:!H(ce)||B[ce].showgrid}),ue=F.framework.selectAll(".layer").data(ee,String);ue.exit().each(function(ce){delete z[ce],delete V[ce],S.select(this).remove()}),ue.enter().append("g").attr("class",function(ce){return"layer "+ce}).each(function(ce){var pe=z[ce]=S.select(this);"bg"===ce?F.bgRect=pe.append("rect").style("pointer-events","all"):H(ce)?V[ce]=pe.append("path").style("fill","none"):"backplot"===ce?pe.append("g").classed("choroplethlayer",!0):"frontplot"===ce?pe.append("g").classed("scatterlayer",!0):U(ce)?V[ce]=pe.append("path").style("fill","none").style("stroke-miterlimit",2):G(ce)&&(V[ce]=pe.append("path").style("stroke","none"))}),ue.order(),ue.each(function(ce){var pe=V[ce],te=g.layerNameToAdjective[ce];"frame"===ce?pe.datum(g.sphereSVG):U(ce)||G(ce)?pe.datum(L(_,_.objects[ce])):H(ce)&&pe.datum(function i(y,B,F){var U,G,Y,V=B[y],H=g.scopeDefaults[B.scope];"lonaxis"===y?(U=H.lonaxisRange,G=H.lataxisRange,Y=function(q,fe){return[q,fe]}):"lataxis"===y&&(U=H.lataxisRange,G=H.lonaxisRange,Y=function(q,fe){return[fe,q]});var ee={type:"linear",range:[U[0],U[1]-1e-6],tick0:V.tick0,dtick:V.dtick};h.setConvert(ee,F);var ue=h.calcTicks(ee);!B.isScoped&&"lonaxis"===y&&ue.pop();for(var ce=ue.length,pe=new Array(ce),te=0;te<ce;te++)for(var Q=ue[te].x,K=pe[te]=[],Z=G[0];Z<G[1]+2.5;Z+=2.5)K.push(Y(Q,Z));return{type:"MultiLineString",coordinates:pe}}(ce,B,y)).call(n.stroke,B[ce].gridcolor).call(c.dashLine,B[ce].griddash,B[ce].gridwidth),U(ce)?pe.call(n.stroke,B[te+"color"]).call(c.dashLine,"",B[te+"width"]):G(ce)&&pe.call(n.fill,B[te+"color"])})},E.updateDims=function(y,B){var F=this.bounds,_=(B.framewidth||0)/2,z=F[0][0]-_,V=F[0][1]-_,H=F[1][0]-z+_,U=F[1][1]-V+_;c.setRect(this.clipRect,z,V,H,U),this.bgRect.call(c.setRect,z,V,H,U).call(n.fill,B.bgcolor),this.xaxis._offset=z,this.xaxis._length=H,this.yaxis._offset=V,this.yaxis._length=U},E.updateFx=function(y,B){var F=this,_=F.graphDiv,z=F.bgRect,V=y.dragmode,H=y.clickmode;if(!F.isStatic){var ee={element:F.bgRect.node(),gd:_,plotinfo:{id:F.id,xaxis:F.xaxis,yaxis:F.yaxis,fillRangeItems:function(ue,ce){ce.isRect?(ue.range={})[F.id]=[G([ce.xmin,ce.ymin]),G([ce.xmax,ce.ymax])]:(ue.lassoPoints={})[F.id]=ce.map(G)}},xaxes:[F.xaxis],yaxes:[F.yaxis],subplot:F.id,clickFn:function(ue){2===ue&&A(_)}};"pan"===V?(z.node().onmousedown=null,z.call(u(F,B)),z.on("dblclick.zoom",function U(){var ue=F.viewInitial,ce={};for(var pe in ue)ce[F.id+"."+pe]=ue[pe];v.call("_guiRelayout",_,ce),_.emit("plotly_doubleclick",null)}),_._context._scrollZoom.geo||z.on("wheel.zoom",null)):("select"===V||"lasso"===V)&&(z.on(".zoom",null),ee.prepFn=function(ue,ce,pe){p(ue,ce,pe,ee,V)},b.init(ee)),z.on("mousemove",function(){var ue=F.projection.invert(w.getPositionFromD3Event());if(!ue)return b.unhover(_,S.event);F.xaxis.p2c=function(){return ue[0]},F.yaxis.p2c=function(){return ue[1]},o.hover(_,S.event,F.id)}),z.on("mouseout",function(){_._dragging||b.unhover(_,S.event)}),z.on("click",function(){"select"!==V&&"lasso"!==V&&(H.indexOf("select")>-1&&m(S.event,_,[F.xaxis],[F.yaxis],F.id,ee),H.indexOf("event")>-1&&o.click(_,S.event))})}function G(ue){return F.projection.invert([ue[0]+F.xaxis._offset,ue[1]+F.yaxis._offset])}},E.makeFramework=function(){var y=this,B=y.graphDiv,F=B._fullLayout,_="clip"+F._uid+y.id;y.clipDef=F._clips.append("clipPath").attr("id",_),y.clipRect=y.clipDef.append("rect"),y.framework=S.select(y.container).append("g").attr("class","geo "+y.id).call(c.setClipUrl,_,B),y.project=function(z){var V=y.projection(z);return V?[V[0]-y.xaxis._offset,V[1]-y.yaxis._offset]:[null,null]},y.xaxis={_id:"x",c2p:function(z){return y.project(z)[0]}},y.yaxis={_id:"y",c2p:function(z){return y.project(z)[1]}},y.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},h.setConvert(y.mockAxis,F)},E.saveViewInitial=function(y){var B=y.center||{},F=y.projection,_=F.rotation||{};this.viewInitial={fitbounds:y.fitbounds,"projection.scale":F.scale},w.extendFlat(this.viewInitial,y._isScoped?{"center.lon":B.lon,"center.lat":B.lat}:y._isClipped?{"projection.rotation.lon":_.lon,"projection.rotation.lat":_.lat}:{"center.lon":B.lon,"center.lat":B.lat,"projection.rotation.lon":_.lon})},E.render=function(y){this._hasMarkerAngles&&y?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var F,y=this.projection,B=y.getPath();function _(V){var H=y(V.lonlat);return H?r(H[0],H[1]):null}function z(V){return y.isLonLatOverEdges(V.lonlat)?"none":null}for(F in this.basePaths)this.basePaths[F].attr("d",B);for(F in this.dataPaths)this.dataPaths[F].attr("d",function(V){return B(V.geojson)});for(F in this.dataPoints)this.dataPoints[F].attr("display",z).attr("transform",_)}},44622:function(oe,J,t){"use strict";var S=t(27659).AU,k=t(71828).counterRegex,l=t(69082),R="geo",I=k(R),v={};v[R]={valType:"subplotid",dflt:R,editType:"calc"},oe.exports={attr:R,name:R,idRoot:R,idRegex:I,attrRegex:I,attributes:v,layoutAttributes:t(77519),supplyLayoutDefaults:t(82161),plot:function w(c){for(var o=c._fullLayout,f=c.calcdata,h=o._subplots[R],d=0;d<h.length;d++){var b=h[d],p=S(f,R,b),m=o[b]._subplot;m||(m=l({id:b,graphDiv:c,container:o._geolayer.node(),topojsonURL:c._context.topojsonURL,staticPlot:c._context.staticPlot}),o[b]._subplot=m),m.plot(p,o,c._promises)}},updateFx:function n(c){for(var o=c._fullLayout,f=o._subplots[R],h=0;h<f.length;h++){var d=o[f[h]];d._subplot.updateFx(o,d)}},clean:function r(c,o,f,h){for(var d=h._subplots[R]||[],b=0;b<d.length;b++){var p=d[b],A=h[p]._subplot;!o[p]&&A&&(A.framework.remove(),A.clipDef.remove())}}}},77519:function(oe,J,t){"use strict";var S=t(22399),k=t(27670).Y,l=t(79952).P,R=t(78776),I=t(30962).overrideAll,v=t(78607),w={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:S.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:l};(oe.exports=I({domain:k({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(R.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(R.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:S.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:R.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:R.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:R.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:R.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:S.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:S.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:S.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:S.background},lonaxis:w,lataxis:w},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(oe,J,t){"use strict";var S=t(71828),k=t(49119),l=t(27659).NG,R=t(78776),I=t(77519),v=R.axesNames;function w(r,n,c,o){var h=l(o.fullData,"geo",o.id).map(function(K){return K._expandedIndex}),d=c("resolution"),b=c("scope"),p=R.scopeDefaults[b],A=c("projection.type",p.projType),m=n._isAlbersUsa="albers usa"===A;m&&(b=n.scope="usa");var u=n._isScoped="world"!==b,g=n._isSatellite="satellite"===A,C=n._isConic=-1!==A.indexOf("conic")||"albers"===A,T=n._isClipped=!!R.lonaxisSpan[A];if(!1===r.visible){var L=S.extendDeep({},n._template);L.showcoastlines=!1,L.showcountries=!1,L.showframe=!1,L.showlakes=!1,L.showland=!1,L.showocean=!1,L.showrivers=!1,L.showsubunits=!1,L.lonaxis&&(L.lonaxis.showgrid=!1),L.lataxis&&(L.lataxis.showgrid=!1),n._template=L}for(var x=c("visible"),M=0;M<v.length;M++){var y,i=v[M],D=[30,10][M];if(u)y=p[i+"Range"];else{var B=R[i+"Span"],F=(B[A]||B["*"])/2,_=c("projection.rotation."+i.substr(0,3),p.projRotate[M]);y=[_-F,_+F]}var z=c(i+".range",y);c(i+".tick0"),c(i+".dtick",D),c(i+".showgrid",!!x&&void 0)&&(c(i+".gridcolor"),c(i+".gridwidth"),c(i+".griddash")),n[i]._ax={type:"linear",_id:i.slice(0,3),_traceIndices:h,setScale:S.identity,c2l:S.identity,r2l:S.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var V=n.lonaxis.range,H=n.lataxis.range,U=V[0],G=V[1];U>0&&G<0&&(G+=360);var ee,ce,pe,Y=(U+G)/2;if(!m){var ue=u?p.projRotate:[Y,0,0];ee=c("projection.rotation.lon",ue[0]),c("projection.rotation.lat",ue[1]),c("projection.rotation.roll",ue[2]),c("showcoastlines",!u&&x)&&(c("coastlinecolor"),c("coastlinewidth")),c("showocean",!!x&&void 0)&&c("oceancolor")}m?(ce=-96.6,pe=38.7):(ce=u?Y:ee,pe=(H[0]+H[1])/2),c("center.lon",ce),c("center.lat",pe),g&&(c("projection.tilt"),c("projection.distance")),C&&c("projection.parallels",p.projParallels||[0,60]),c("projection.scale"),c("showland",!!x&&void 0)&&c("landcolor"),c("showlakes",!!x&&void 0)&&c("lakecolor"),c("showrivers",!!x&&void 0)&&(c("rivercolor"),c("riverwidth")),c("showcountries",u&&"usa"!==b&&x)&&(c("countrycolor"),c("countrywidth")),("usa"===b||"north america"===b&&50===d)&&(c("showsubunits",x),c("subunitcolor"),c("subunitwidth")),u||c("showframe",x)&&(c("framecolor"),c("framewidth")),c("bgcolor"),c("fitbounds")&&(delete n.projection.scale,u?(delete n.center.lon,delete n.center.lat):T?(delete n.center.lon,delete n.center.lat,delete n.projection.rotation.lon,delete n.projection.rotation.lat,delete n.lonaxis.range,delete n.lataxis.range):(delete n.center.lon,delete n.center.lat,delete n.projection.rotation.lon))}oe.exports=function(n,c,o){k(n,c,o,{type:"geo",attributes:I,handleDefaults:w,fullData:o,partition:"y"})}},74455:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(73972),R=Math.PI/180,I=180/Math.PI,v={cursor:"pointer"},w={cursor:"auto"};function n(i,D){return S.behavior.zoom().translate(D.translate()).scale(D.scale())}function c(i,D,y){var B=i.id,F=i.graphDiv,_=F.layout,z=_[B],V=F._fullLayout,H=V[B],U={},G={};function Y(ee,ue){U[B+"."+ee]=k.nestedProperty(z,ee).get(),l.call("_storeDirectGUIEdit",_,V._preGUI,U);var ce=k.nestedProperty(H,ee);ce.get()!==ue&&(ce.set(ue),k.nestedProperty(z,ee).set(ue),G[B+"."+ee]=ue)}y(Y),Y("projection.scale",D.scale()/i.fitScale),Y("fitbounds",!1),F.emit("plotly_relayout",G)}function o(i,D){var y=n(0,D);function _(V){var H=D.invert(i.midPt);V("center.lon",H[0]),V("center.lat",H[1])}return y.on("zoomstart",function B(){S.select(this).style(v)}).on("zoom",function F(){D.scale(S.event.scale).translate(S.event.translate),i.render(!0);var V=D.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":D.scale()/i.fitScale,"geo.center.lon":V[0],"geo.center.lat":V[1]})}).on("zoomend",function z(){S.select(this).style(w),c(i,D,_)}),y}function f(i,D){var F,_,z,V,H,U,G,Y,ee,y=n(0,D),B=2;function ue(Z){return D.invert(Z)}function K(Z){var q=D.rotate(),fe=D.invert(i.midPt);Z("projection.rotation.lon",-q[0]),Z("center.lon",fe[0]),Z("center.lat",fe[1])}return y.on("zoomstart",function pe(){S.select(this).style(v),F=S.mouse(this),_=D.rotate(),z=D.translate(),V=_,H=ue(F)}).on("zoom",function te(){if(U=S.mouse(this),function ce(Z){var q=ue(Z);if(!q)return!0;var fe=D(q);return Math.abs(fe[0]-Z[0])>B||Math.abs(fe[1]-Z[1])>B}(F))return y.scale(D.scale()),void y.translate(D.translate());D.scale(S.event.scale),D.translate([z[0],S.event.translate[1]]),H?ue(U)&&(Y=ue(U),D.rotate(G=[V[0]+(Y[0]-H[0]),_[1],_[2]]),V=G):H=ue(F=U),ee=!0,i.render(!0);var Z=D.rotate(),q=D.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":D.scale()/i.fitScale,"geo.center.lon":q[0],"geo.center.lat":q[1],"geo.projection.rotation.lon":-Z[0]})}).on("zoomend",function Q(){S.select(this).style(w),ee&&c(i,D,K)}),y}function h(i,D){var V,y={r:D.rotate(),k:D.scale()},B=n(0,D),F=function M(i){for(var D=0,y=arguments.length,B=[];++D<y;)B.push(arguments[D]);var F=S.dispatch.apply(null,B);return F.of=function(_,z){return function(V){var H;try{H=V.sourceEvent=S.event,V.target=i,S.event=V,F[V.type].apply(_,z)}finally{S.event=H}}},F}(B,"zoomstart","zoom","zoomend"),_=0,z=B.on;function Y(ee){var ue=D.rotate();ee("projection.rotation.lon",-ue[0]),ee("projection.rotation.lat",-ue[1])}return B.on("zoomstart",function(){S.select(this).style(v);var ee=S.mouse(this),ue=D.rotate(),ce=ue,pe=D.translate(),te=function b(i){var D=.5*i[0]*R,y=.5*i[1]*R,B=.5*i[2]*R,F=Math.sin(D),_=Math.cos(D),z=Math.sin(y),V=Math.cos(y),H=Math.sin(B),U=Math.cos(B);return[_*V*U+F*z*H,F*V*U-_*z*H,_*z*U+F*V*H,_*V*H-F*z*U]}(ue);V=d(D,ee),z.call(B,"zoom",function(){var Q=S.mouse(this);if(D.scale(y.k=S.event.scale),V){if(d(D,Q)){D.rotate(ue).translate(pe);var K=d(D,Q),Z=function A(i,D){if(i&&D){var y=function E(i,D){return[i[1]*D[2]-i[2]*D[1],i[2]*D[0]-i[0]*D[2],i[0]*D[1]-i[1]*D[0]]}(i,D),B=Math.sqrt(x(y,y)),F=.5*Math.acos(Math.max(-1,Math.min(1,x(i,D)))),_=Math.sin(F)/B;return B&&[Math.cos(F),y[2]*_,-y[1]*_,y[0]*_]}}(V,K),q=function T(i){return[Math.atan2(2*(i[0]*i[1]+i[2]*i[3]),1-2*(i[1]*i[1]+i[2]*i[2]))*I,Math.asin(Math.max(-1,Math.min(1,2*(i[0]*i[2]-i[3]*i[1]))))*I,Math.atan2(2*(i[0]*i[3]+i[1]*i[2]),1-2*(i[2]*i[2]+i[3]*i[3]))*I]}(function p(i,D){var y=i[0],B=i[1],F=i[2],_=i[3],z=D[0],V=D[1],H=D[2],U=D[3];return[y*z-B*V-F*H-_*U,y*V+B*z+F*U-_*H,y*H-B*U+F*z+_*V,y*U+B*H-F*V+_*z]}(te,Z)),fe=y.r=function m(i,D,y){var B=C(D,2,i[0]);B=C(B,1,i[1]),B=C(B,0,i[2]-y[2]);var ee,ue,F=D[0],_=D[1],z=D[2],V=B[0],H=B[1],U=B[2],G=Math.atan2(_,F)*I,Y=Math.sqrt(F*F+_*_);Math.abs(H)>Y?(ue=(H>0?90:-90)-G,ee=0):(ue=Math.asin(H/Y)*I-G,ee=Math.sqrt(Y*Y-H*H));var ce=180-ue-2*G,pe=(Math.atan2(U,V)-Math.atan2(z,ee))*I,te=(Math.atan2(U,V)-Math.atan2(z,-ee))*I;return u(y[0],y[1],ue,pe)<=u(y[0],y[1],ce,te)?[ue,pe,y[2]]:[ce,te,y[2]]}(q,V,ce);(!isFinite(fe[0])||!isFinite(fe[1])||!isFinite(fe[2]))&&(fe=ce),D.rotate(fe),ce=fe}}else V=d(D,ee=Q);!function U(ee){ee({type:"zoom"})}(F.of(this,arguments))}),function H(ee){_++||ee({type:"zoomstart"})}(F.of(this,arguments))}).on("zoomend",function(){S.select(this).style(w),z.call(B,"zoom",null),function G(ee){--_||ee({type:"zoomend"})}(F.of(this,arguments)),c(i,D,Y)}).on("zoom.redraw",function(){i.render(!0);var ee=D.rotate();i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":D.scale()/i.fitScale,"geo.projection.rotation.lon":-ee[0],"geo.projection.rotation.lat":-ee[1]})}),S.rebind(B,F,"on")}function d(i,D){var y=i.invert(D);return y&&isFinite(y[0])&&isFinite(y[1])&&function L(i){var D=i[0]*R,y=i[1]*R,B=Math.cos(y);return[B*Math.cos(D),B*Math.sin(D),Math.sin(y)]}(y)}function u(i,D,y,B){var F=g(y-i),_=g(B-D);return Math.sqrt(F*F+_*_)}function g(i){return(i%360+540)%360-180}function C(i,D,y){var B=y*R,F=i.slice(),_=0===D?1:0,z=2===D?1:2,V=Math.cos(B),H=Math.sin(B);return F[_]=i[_]*V-i[z]*H,F[z]=i[z]*V+i[_]*H,F}function x(i,D){for(var y=0,B=0,F=i.length;B<F;++B)y+=i[B]*D[B];return y}oe.exports=function r(i,D){return(D._isScoped?o:D._isClipped?h:f)(i,i.projection)}},27659:function(oe,J,t){"use strict";var S=t(73972),k=t(85555).SUBPLOT_PATTERN;J.AU=function(l,R,I){var v=S.subplotsRegistry[R];if(!v)return[];for(var w=v.attr,r=[],n=0;n<l.length;n++){var c=l[n];c[0].trace[w]===I&&r.push(c)}return r},J.a0=function(l,R){var w,I=[],v=[];if(!(w="string"==typeof R?S.getModule(R).plot:"function"==typeof R?R:R.plot))return[I,l];for(var r=0;r<l.length;r++){var n=l[r],c=n[0].trace;!0!==c.visible||0===c._length||(c._module&&c._module.plot===w?I.push(n):v.push(n))}return[I,v]},J.NG=function(R,I,v){if(!S.subplotsRegistry[I])return[];var n,c,o,w=S.subplotsRegistry[I].attr,r=[];if("gl2d"===I){var f=v.match(k);c="x"+f[1],o="y"+f[2]}for(var h=0;h<R.length;h++)n=R[h],"gl2d"===I&&S.traceIs(n,"gl2d")?n[w[0]]===c&&n[w[1]]===o&&r.push(n):n[w]===v&&r.push(n);return r}},75071:function(oe,J,t){"use strict";var S=t(16825),k=t(1195),l=t(48956),R=t(85555),I=t(38520);function v(r,n){this.element=r,this.plot=n,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}oe.exports=function w(r){var n=r.mouseContainer,c=r.glplot,o=new v(n,c);function f(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function d(b,p,A){var x,E,m=r.calcDataBox(),u=c.viewBox,g=o.lastPos[0],C=o.lastPos[1],T=R.MINDRAG*c.pixelRatio,L=R.MINZOOM*c.pixelRatio;function M(_,z,V){var H=Math.min(z,V),U=Math.max(z,V);H!==U?(m[_]=H,m[_+2]=U,o.dataBox=m,r.setRanges(m)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(p*=c.pixelRatio,A=u[3]-u[1]-(A*=c.pixelRatio),r.fullLayout.dragmode){case"zoom":if(b){var i=p/(u[2]-u[0])*(m[2]-m[0])+m[0],D=A/(u[3]-u[1])*(m[3]-m[1])+m[1];o.boxInited||(o.boxStart[0]=i,o.boxStart[1]=D,o.dragStart[0]=p,o.dragStart[1]=A),o.boxEnd[0]=i,o.boxEnd[1]=D,o.boxInited=!0,!o.boxEnabled&&(o.boxStart[0]!==o.boxEnd[0]||o.boxStart[1]!==o.boxEnd[1])&&(o.boxEnabled=!0);var y=Math.abs(o.dragStart[0]-p)<L,B=Math.abs(o.dragStart[1]-A)<L;if(!function h(){for(var b=r.graphDiv._fullLayout._axisConstraintGroups,p=r.xaxis._id,A=r.yaxis._id,m=0;m<b.length;m++)if(-1!==b[m][p]){if(-1!==b[m][A])return!0;break}return!1}()||y&&B)y&&(o.boxEnd[0]=o.boxStart[0]),B&&(o.boxEnd[1]=o.boxStart[1]);else{x=o.boxEnd[0]-o.boxStart[0],E=o.boxEnd[1]-o.boxStart[1];var F=(m[3]-m[1])/(m[2]-m[0]);Math.abs(x*F)>Math.abs(E)?(o.boxEnd[1]=o.boxStart[1]+Math.abs(x)*F*(E>=0?1:-1),o.boxEnd[1]<m[1]?(o.boxEnd[1]=m[1],o.boxEnd[0]=o.boxStart[0]+(m[1]-o.boxStart[1])/Math.abs(F)):o.boxEnd[1]>m[3]&&(o.boxEnd[1]=m[3],o.boxEnd[0]=o.boxStart[0]+(m[3]-o.boxStart[1])/Math.abs(F))):(o.boxEnd[0]=o.boxStart[0]+Math.abs(E)/F*(x>=0?1:-1),o.boxEnd[0]<m[0]?(o.boxEnd[0]=m[0],o.boxEnd[1]=o.boxStart[1]+(m[0]-o.boxStart[0])*Math.abs(F)):o.boxEnd[0]>m[2]&&(o.boxEnd[0]=m[2],o.boxEnd[1]=o.boxStart[1]+(m[2]-o.boxStart[0])*Math.abs(F)))}}else o.boxEnabled?(E=o.boxStart[1]!==o.boxEnd[1],(x=o.boxStart[0]!==o.boxEnd[0])||E?(x&&(M(0,o.boxStart[0],o.boxEnd[0]),r.xaxis.autorange=!1),E&&(M(1,o.boxStart[1],o.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),o.boxEnabled=!1,o.boxInited=!1):o.boxInited&&(o.boxInited=!1);break;case"pan":o.boxEnabled=!1,o.boxInited=!1,b?(o.panning||(o.dragStart[0]=p,o.dragStart[1]=A),Math.abs(o.dragStart[0]-p)<T&&(p=o.dragStart[0]),Math.abs(o.dragStart[1]-A)<T&&(A=o.dragStart[1]),E=(C-A)*(m[3]-m[1])/(c.viewBox[3]-c.viewBox[1]),m[0]+=x=(g-p)*(m[2]-m[0])/(c.viewBox[2]-c.viewBox[0]),m[2]+=x,m[1]+=E,m[3]+=E,r.setRanges(m),o.panning=!0,o.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations()):o.panning&&(o.panning=!1,r.relayoutCallback())}o.lastPos[0]=p,o.lastPos[1]=A}return o.mouseListener=S(n,d),n.addEventListener("touchstart",function(b){var p=l(b.changedTouches[0],n);d(0,p[0],p[1]),d(1,p[0],p[1]),b.preventDefault()},!!I&&{passive:!1}),n.addEventListener("touchmove",function(b){b.preventDefault();var p=l(b.changedTouches[0],n);d(1,p[0],p[1]),b.preventDefault()},!!I&&{passive:!1}),n.addEventListener("touchend",function(b){d(0,o.lastPos[0],o.lastPos[1]),b.preventDefault()},!!I&&{passive:!1}),o.wheelListener=k(n,function(b,p){if(!r.scrollZoom)return!1;var A=r.calcDataBox(),m=c.viewBox,u=o.lastPos[0],g=o.lastPos[1],C=Math.exp(5*p/(m[3]-m[1])),T=u/(m[2]-m[0])*(A[2]-A[0])+A[0],L=g/(m[3]-m[1])*(A[3]-A[1])+A[1];return A[0]=(A[0]-T)*C+T,A[2]=(A[2]-T)*C+T,A[1]=(A[1]-L)*C+L,A[3]=(A[3]-L)*C+L,r.setRanges(A),o.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),o}},82961:function(oe,J,t){"use strict";var S=t(89298),k=t(78614);function l(w){this.scene=w,this.gl=w.gl,this.pixelRatio=w.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var R=l.prototype,I=["xaxis","yaxis"];R.merge=function(w){var r,n,c,o,f,h,d,b,p,A,m;for(this.titleEnable=!1,this.backgroundColor=k(w.plot_bgcolor),A=0;A<2;++A){var u=(r=I[A]).charAt(0);for(c=(n=w[this.scene[r]._name]).title.text===this.scene.fullLayout._dfltTitle[u]?"":n.title.text,m=0;m<=2;m+=2)this.labelEnable[A+m]=!1,this.labels[A+m]=c,this.labelColor[A+m]=k(n.title.font.color),this.labelFont[A+m]=n.title.font.family,this.labelSize[A+m]=n.title.font.size,this.labelPad[A+m]=this.getLabelPad(r,n),this.tickEnable[A+m]=!1,this.tickColor[A+m]=k((n.tickfont||{}).color),this.tickAngle[A+m]="auto"===n.tickangle?0:Math.PI*-n.tickangle/180,this.tickPad[A+m]=this.getTickPad(n),this.tickMarkLength[A+m]=0,this.tickMarkWidth[A+m]=n.tickwidth||0,this.tickMarkColor[A+m]=k(n.tickcolor),this.borderLineEnable[A+m]=!1,this.borderLineColor[A+m]=k(n.linecolor),this.borderLineWidth[A+m]=n.linewidth||0;d=this.hasSharedAxis(n),f=this.hasAxisInDfltPos(r,n)&&!d,h=this.hasAxisInAltrPos(r,n)&&!d,o=n.mirror||!1,b=d?-1!==String(o).indexOf("all"):!!o,p=d?"allticks"===o:-1!==String(o).indexOf("ticks"),f?this.labelEnable[A]=!0:h&&(this.labelEnable[A+2]=!0),f?this.tickEnable[A]=n.showticklabels:h&&(this.tickEnable[A+2]=n.showticklabels),(f||b)&&(this.borderLineEnable[A]=n.showline),(h||b)&&(this.borderLineEnable[A+2]=n.showline),(f||p)&&(this.tickMarkLength[A]=this.getTickMarkLength(n)),(h||p)&&(this.tickMarkLength[A+2]=this.getTickMarkLength(n)),this.gridLineEnable[A]=n.showgrid,this.gridLineColor[A]=k(n.gridcolor),this.gridLineWidth[A]=n.gridwidth,this.zeroLineEnable[A]=n.zeroline,this.zeroLineColor[A]=k(n.zerolinecolor),this.zeroLineWidth[A]=n.zerolinewidth}},R.hasSharedAxis=function(w){var r=this.scene;return 0!==S.findSubplotsWithAxis(r.fullLayout._subplots.gl2d,w).indexOf(r.id)},R.hasAxisInDfltPos=function(w,r){var n=r.side;return"xaxis"===w?"bottom"===n:"yaxis"===w?"left"===n:void 0},R.hasAxisInAltrPos=function(w,r){var n=r.side;return"xaxis"===w?"top"===n:"yaxis"===w?"right"===n:void 0},R.getLabelPad=function(w,r){var n=1.5,c=r.title.font.size,o=r.showticklabels;return"xaxis"===w?"top"===r.side?c*(n+(o?1:0))-10:c*(n+(o?.5:0))-10:"yaxis"===w?"right"===r.side?10+c*(n+(o?1:.5)):10+c*(n+(o?.5:0)):void 0},R.getTickPad=function(w){return"outside"===w.ticks?10+w.ticklen:15},R.getTickMarkLength=function(w){if(!w.ticks)return 0;var r=w.ticklen;return"inside"===w.ticks?-r:r},oe.exports=function v(w){return new l(w)}},4796:function(oe,J,t){"use strict";var S=t(30962).overrideAll,k=t(92918),l=t(10820),R=t(77922),I=t(85555),v=t(93612),w=t(528),r=t(27659).NG;J.name="gl2d",J.attr=["xaxis","yaxis"],J.idRoot=["x","y"],J.idRegex=I.idRegex,J.attrRegex=I.attrRegex,J.attributes=t(89502),J.supplyLayoutDefaults=function(n,c,o){c._has("cartesian")||v.supplyLayoutDefaults(n,c,o)},J.layoutAttrOverrides=S(v.layoutAttributes,"plot","from-root"),J.baseLayoutAttrOverrides=S({plot_bgcolor:l.plot_bgcolor,hoverlabel:w.hoverlabel},"plot","nested"),J.plot=function(c){for(var o=c._fullLayout,f=c._fullData,h=o._subplots.gl2d,d=0;d<h.length;d++){var b=h[d],p=o._plots[b],A=r(f,"gl2d",b),m=p._scene2d;void 0===m&&(m=new k({id:b,graphDiv:c,container:c.querySelector(".gl-container"),staticPlot:c._context.staticPlot,plotGlPixelRatio:c._context.plotGlPixelRatio},o),p._scene2d=m),m.plot(A,c.calcdata,o,c.layout)}},J.clean=function(n,c,o,f){for(var h=f._subplots.gl2d||[],d=0;d<h.length;d++){var b=h[d],p=f._plots[b];p._scene2d&&0===r(n,"gl2d",b).length&&(p._scene2d.destroy(),delete f._plots[b])}v.clean.apply(this,arguments)},J.drawFramework=function(n){n._context.staticPlot||v.drawFramework(n)},J.toSVG=function(n){for(var c=n._fullLayout,o=c._subplots.gl2d,f=0;f<o.length;f++){var d=c._plots[o[f]]._scene2d,b=d.toImage("png");c._glimages.append("svg:image").attr({xmlns:R.svg,"xlink:href":b,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),d.destroy()}},J.updateFx=function(n){for(var c=n._fullLayout,o=c._subplots.gl2d,f=0;f<o.length;f++)c._plots[o[f]]._scene2d.updateFx(c.dragmode)}},92918:function(oe,J,t){"use strict";var u,g,S=t(73972),k=t(89298),l=t(30211),R=t(9330).gl_plot2d,I=t(9330).gl_spikes2d,v=t(9330).gl_select_box,w=t(40372),r=t(82961),n=t(75071),c=t(58617),o=t(99082),f=o.enforce,h=o.clean,d=t(71739).doAutoRange,b=t(64505),p=b.drawMode,A=b.selectMode,m=["xaxis","yaxis"],C=t(85555).SUBPLOT_PATTERN;function T(E,M){this.container=E.container,this.graphDiv=E.graphDiv,this.pixelRatio=E.plotGlPixelRatio||window.devicePixelRatio,this.id=E.id,this.staticPlot=!!E.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(M),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(M),this.glplot=R(this.glplotOptions),this.camera=n(this),this.traces={},this.spikes=I(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}oe.exports=T;var L=T.prototype;L.makeFramework=function(){if(this.staticPlot){if(!(g||(u=document.createElement("canvas"),g=w({canvas:u,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=u,this.gl=g}else{var E=this.container.querySelector(".gl-canvas-focus"),M=w({canvas:E,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!M)return c(this),void(this.stopped=!0);this.canvas=E,this.gl=M}var i=this.canvas;i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style["pointer-events"]="none",this.updateSize(i);var D=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");D.style.position="absolute",D.style.top=D.style.left="0px",D.style.width=D.style.height="100%",D.style["z-index"]=20,D.style["pointer-events"]="none";var y=this.mouseContainer=document.createElement("div");y.style.position="absolute",y.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var B=this.container;B.appendChild(D),B.appendChild(y);var F=this;y.addEventListener("mouseout",function(){F.isMouseOver=!1,F.unhover()}),y.addEventListener("mouseover",function(){F.isMouseOver=!0})},L.toImage=function(E){E||(E="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(u),this.updateSize(this.canvas);var M=this.glplot.gl,i=M.drawingBufferWidth,D=M.drawingBufferHeight;M.clearColor(1,1,1,0),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),M.bindFramebuffer(M.FRAMEBUFFER,null);var y=new Uint8Array(i*D*4);M.readPixels(0,0,i,D,M.RGBA,M.UNSIGNED_BYTE,y);for(var B=0,F=D-1;B<F;++B,--F)for(var _=0;_<i;++_)for(var z=0;z<4;++z){var V=y[4*(i*B+_)+z];y[4*(i*B+_)+z]=y[4*(i*F+_)+z],y[4*(i*F+_)+z]=V}var H=document.createElement("canvas");H.width=i,H.height=D;var Y,U=H.getContext("2d",{willReadFrequently:!0}),G=U.createImageData(i,D);switch(G.data.set(y),U.putImageData(G,0,0),E){case"jpeg":Y=H.toDataURL("image/jpeg");break;case"webp":Y=H.toDataURL("image/webp");break;default:Y=H.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(u),Y},L.updateSize=function(E){E||(E=this.canvas);var M=this.pixelRatio,i=this.fullLayout,y=i.height,B=0|Math.ceil(M*i.width),F=0|Math.ceil(M*y);return(E.width!==B||E.height!==F)&&(E.width=B,E.height=F),E},L.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var E=[k.calcTicks(this.xaxis),k.calcTicks(this.yaxis)],M=0;M<2;++M)for(var i=0;i<E[M].length;++i)E[M][i].text=E[M][i].text+"";return E},L.updateRefs=function(E){this.fullLayout=E;var M=this.id.match(C),D="yaxis"+M[2];this.xaxis=this.fullLayout["xaxis"+M[1]],this.yaxis=this.fullLayout[D]},L.relayoutCallback=function(){var E=this.graphDiv,M=this.xaxis,i=this.yaxis,D=E.layout,y={},B=y[M._name+".range"]=M.range.slice(),F=y[i._name+".range"]=i.range.slice();y[M._name+".autorange"]=M.autorange,y[i._name+".autorange"]=i.autorange,S.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,y);var _=D[M._name];_.range=B,_.autorange=M.autorange;var z=D[i._name];z.range=F,z.autorange=i.autorange,y.lastInputTime=this.camera.lastInputTime,E.emit("plotly_relayout",y)},L.cameraChanged=function(){var E=this.camera;this.glplot.setDataBox(this.calcDataBox());var M=this.computeTickMarks();(function x(E,M){for(var i=0;i<2;++i){var D=E[i],y=M[i];if(D.length!==y.length)return!0;for(var B=0;B<D.length;++B)if(D[B].x!==y[B].x)return!0}return!1})(M,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=M,this.glplotOptions.dataBox=E.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},L.handleAnnotations=function(){for(var E=this.graphDiv,M=this.fullLayout.annotations,i=0;i<M.length;i++){var D=M[i];D.xref===this.xaxis._id&&D.yref===this.yaxis._id&&S.getComponentMethod("annotations","drawOne")(E,i)}},L.destroy=function(){if(this.glplot){var E=this.traces;E&&Object.keys(E).map(function(M){E[M].dispose(),delete E[M]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},L.plot=function(E,M,i){var D=this.glplot;this.updateRefs(i),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(E,M),this.updateFx(i.dragmode);var y=i.width,B=i.height;this.updateSize(this.canvas);var F=this.glplotOptions;F.merge(i),F.screenBox=[0,0,y,B];var _={_fullLayout:{_axisConstraintGroups:i._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:i._size}};h(_,this.xaxis),h(_,this.yaxis);var U,G,z=i._size,V=this.xaxis.domain,H=this.yaxis.domain;for(F.viewBox=[z.l+V[0]*z.w,z.b+H[0]*z.h,y-z.r-(1-V[1])*z.w,B-z.t-(1-H[1])*z.h],this.mouseContainer.style.width=z.w*(V[1]-V[0])+"px",this.mouseContainer.style.height=z.h*(H[1]-H[0])+"px",this.mouseContainer.height=z.h*(H[1]-H[0]),this.mouseContainer.style.left=z.l+V[0]*z.w+"px",this.mouseContainer.style.top=z.t+(1-H[1])*z.h+"px",G=0;G<2;++G)(U=this[m[G]])._length=F.viewBox[G+2]-F.viewBox[G],d(this.graphDiv,U),U.setScale();f(_),F.ticks=this.computeTickMarks(),F.dataBox=this.calcDataBox(),F.merge(i),D.update(F),this.glplot.draw()},L.calcDataBox=function(){var E=this.xaxis,M=this.yaxis,i=E.range,D=M.range,y=E.r2l,B=M.r2l;return[y(i[0]),B(D[0]),y(i[1]),B(D[1])]},L.setRanges=function(E){var M=this.xaxis,i=this.yaxis,D=M.l2r,y=i.l2r;M.range=[D(E[0]),D(E[2])],i.range=[y(E[1]),y(E[3])]},L.updateTraces=function(E,M){var D,y,B,i=Object.keys(this.traces);this.fullData=E;e:for(D=0;D<i.length;D++){var F=i[D],_=this.traces[F];for(y=0;y<E.length;y++)if((B=E[y]).uid===F&&B.type===_.type)continue e;_.dispose(),delete this.traces[F]}for(D=0;D<E.length;D++){var z=M[D],V=this.traces[(B=E[D]).uid];V?V.update(B,z):(V=B._module.plot(this,B,z),this.traces[B.uid]=V)}this.glplot.objects.sort(function(H,U){return H._trace.index-U._trace.index})},L.updateFx=function(E){A(E)||p(E)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===E?"move":"zoom"===E?"crosshair":null},L.emitPointAction=function(E,M){for(var y,i=E.trace.uid,D=E.pointIndex,B=0;B<this.fullData.length;B++)this.fullData[B].uid===i&&(y=this.fullData[B]);var F={x:E.traceCoord[0],y:E.traceCoord[1],curveNumber:y.index,pointNumber:D,data:y._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};l.appendArrayPointValue(F,y,D),this.graphDiv.emit(M,{points:[F]})},L.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var E=this.glplot,M=this.camera,i=M.mouseListener,D=1===this.lastButtonState&&0===i.buttons,y=this.fullLayout;this.lastButtonState=i.buttons,this.cameraChanged();var _,B=i.x*E.pixelRatio,F=this.canvas.height-E.pixelRatio*i.y;if(M.boxEnabled&&"zoom"===y.dragmode){this.selectBox.enabled=!0;for(var z=this.selectBox.selectBox=[Math.min(M.boxStart[0],M.boxEnd[0]),Math.min(M.boxStart[1],M.boxEnd[1]),Math.max(M.boxStart[0],M.boxEnd[0]),Math.max(M.boxStart[1],M.boxEnd[1])],V=0;V<2;V++)M.boxStart[V]===M.boxEnd[V]&&(z[V]=E.dataBox[V],z[V+2]=E.dataBox[V+2]);E.setDirty()}else if(!M.panning&&this.isMouseOver){this.selectBox.enabled=!1;var H=y._size,Y=(_=E.pick(B/E.pixelRatio+H.l+this.xaxis.domain[0]*H.w,F/E.pixelRatio-(H.t+(1-this.yaxis.domain[1])*H.h)))&&_.object._trace.handlePick(_);if(Y&&D&&this.emitPointAction(Y,"plotly_click"),_&&"skip"!==_.object._trace.hoverinfo&&y.hovermode&&Y&&(!this.lastPickResult||this.lastPickResult.traceUid!==Y.trace.uid||this.lastPickResult.dataCoord[0]!==Y.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Y.dataCoord[1])){var ee=Y;this.lastPickResult={traceUid:Y.trace?Y.trace.uid:null,dataCoord:Y.dataCoord.slice()},this.spikes.update({center:_.dataCoord}),ee.screenCoord=[((E.viewBox[2]-E.viewBox[0])*(_.dataCoord[0]-E.dataBox[0])/(E.dataBox[2]-E.dataBox[0])+E.viewBox[0])/E.pixelRatio,(this.canvas.height-(E.viewBox[3]-E.viewBox[1])*(_.dataCoord[1]-E.dataBox[1])/(E.dataBox[3]-E.dataBox[1])-E.viewBox[1])/E.pixelRatio],this.emitPointAction(Y,"plotly_hover");var ue=this.fullData[ee.trace.index]||{},ce=ee.pointIndex,pe=l.castHoverinfo(ue,y,ce);if(pe&&"all"!==pe){var te=pe.split("+");-1===te.indexOf("x")&&(ee.traceCoord[0]=void 0),-1===te.indexOf("y")&&(ee.traceCoord[1]=void 0),-1===te.indexOf("z")&&(ee.traceCoord[2]=void 0),-1===te.indexOf("text")&&(ee.textLabel=void 0),-1===te.indexOf("name")&&(ee.name=void 0)}l.loneHover({x:ee.screenCoord[0],y:ee.screenCoord[1],xLabel:this.hoverFormatter("xaxis",ee.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",ee.traceCoord[1]),zLabel:ee.traceCoord[2],text:ee.textLabel,name:ee.name,color:l.castHoverOption(ue,ce,"bgcolor")||ee.color,borderColor:l.castHoverOption(ue,ce,"bordercolor"),fontFamily:l.castHoverOption(ue,ce,"font.family"),fontSize:l.castHoverOption(ue,ce,"font.size"),fontColor:l.castHoverOption(ue,ce,"font.color"),nameLength:l.castHoverOption(ue,ce,"namelength"),textAlign:l.castHoverOption(ue,ce,"align")},{container:this.svgContainer,gd:this.graphDiv})}}_||this.unhover(),E.draw()}},L.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),l.loneUnhover(this.svgContainer))},L.hoverFormatter=function(E,M){if(void 0!==M){var i=this[E];return k.tickText(i,i.c2l(M),"hover").text}}},58547:function(oe,J,t){"use strict";var S=t(30962).overrideAll,k=t(528),l=t(33539),R=t(27659).NG,I=t(71828),v=t(77922),w="gl3d",r="scene";J.name=w,J.attr=r,J.idRoot=r,J.idRegex=J.attrRegex=I.counterRegex("scene"),J.attributes=t(59084),J.layoutAttributes=t(65500),J.baseLayoutAttrOverrides=S({hoverlabel:k.hoverlabel},"plot","nested"),J.supplyLayoutDefaults=t(24682),J.plot=function(c){for(var o=c._fullLayout,f=c._fullData,h=o._subplots[w],d=0;d<h.length;d++){var b=h[d],p=R(f,w,b),A=o[b],m=A.camera,u=A._scene;u||(u=new l({id:b,graphDiv:c,container:c.querySelector(".gl-container"),staticPlot:c._context.staticPlot,plotGlPixelRatio:c._context.plotGlPixelRatio,camera:m},o),A._scene=u),u.viewInitial||(u.viewInitial={up:{x:m.up.x,y:m.up.y,z:m.up.z},eye:{x:m.eye.x,y:m.eye.y,z:m.eye.z},center:{x:m.center.x,y:m.center.y,z:m.center.z}}),u.plot(p,o,c.layout)}},J.clean=function(n,c,o,f){for(var h=f._subplots[w]||[],d=0;d<h.length;d++){var b=h[d];!c[b]&&f[b]._scene&&(f[b]._scene.destroy(),f._infolayer&&f._infolayer.selectAll(".annotation-"+b).remove())}},J.toSVG=function(n){for(var c=n._fullLayout,o=c._subplots[w],f=c._size,h=0;h<o.length;h++){var d=c[o[h]],b=d.domain,p=d._scene,A=p.toImage("png");c._glimages.append("svg:image").attr({xmlns:v.svg,"xlink:href":A,x:f.l+f.w*b.x[0],y:f.t+f.h*(1-b.y[1]),width:f.w*(b.x[1]-b.x[0]),height:f.h*(b.y[1]-b.y[0]),preserveAspectRatio:"none"}),p.destroy()}},J.cleanId=function(c){if(c.match(/^scene[0-9]*$/)){var o=c.substr(5);return"1"===o&&(o=""),r+o}},J.updateFx=function(n){for(var c=n._fullLayout,o=c._subplots[w],f=0;f<o.length;f++)c[o[f]]._scene.updateFx(c.dragmode,c.hovermode)}},59084:function(oe){"use strict";oe.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(oe,J,t){"use strict";var S=t(7901),k=t(13838),l=t(1426).extendFlat,R=t(30962).overrideAll;oe.exports=R({visible:k.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:S.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:k.color,categoryorder:k.categoryorder,categoryarray:k.categoryarray,title:{text:k.title.text,font:k.title.font},type:l({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorange:k.autorange,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},rangemode:k.rangemode,minallowed:k.minallowed,maxallowed:k.maxallowed,range:l({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,mirror:k.mirror,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,tickfont:k.tickfont,tickangle:k.tickangle,tickprefix:k.tickprefix,showtickprefix:k.showtickprefix,ticksuffix:k.ticksuffix,showticksuffix:k.showticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickformat:k.tickformat,tickformatstops:k.tickformatstops,hoverformat:k.hoverformat,showline:k.showline,linecolor:k.linecolor,linewidth:k.linewidth,showgrid:k.showgrid,gridcolor:l({},k.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:k.gridwidth,zeroline:k.zeroline,zerolinecolor:k.zerolinecolor,zerolinewidth:k.zerolinewidth,_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}},"plot","from-root")},3277:function(oe,J,t){"use strict";var S=t(84267).mix,k=t(71828),l=t(44467),R=t(77894),I=t(951),v=t(71453),w=["xaxis","yaxis","zaxis"];oe.exports=function(c,o,f){var h,d;function b(m,u){return k.coerce(h,d,R,m,u)}for(var p=0;p<w.length;p++){var A=w[p];h=c[A]||{},(d=l.newContainer(o,A))._id=A[0]+f.scene,d._name=A,I(h,d,b,f),v(h,d,b,{font:f.font,letter:A[0],data:f.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:f.bgColor,calendar:f.calendar},f.fullLayout),b("gridcolor",S(d.color,f.bgColor,72.72727272727273).toRgbString()),b("title.text",A[0]),d.setScale=k.noop,b("showspikes")&&(b("spikesides"),b("spikethickness"),b("spikecolor",d.color)),b("showaxeslabels"),b("showbackground")&&b("backgroundcolor")}}},30422:function(oe,J,t){"use strict";var S=t(78614),k=t(71828),l=["xaxis","yaxis","zaxis"];function R(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}R.prototype.merge=function(w,r){for(var n=this,c=0;c<3;++c){var o=r[l[c]];o.visible?(n.labels[c]=w._meta?k.templateString(o.title.text,w._meta):o.title.text,"font"in o.title&&(o.title.font.color&&(n.labelColor[c]=S(o.title.font.color)),o.title.font.family&&(n.labelFont[c]=o.title.font.family),o.title.font.size&&(n.labelSize[c]=o.title.font.size)),"showline"in o&&(n.lineEnable[c]=o.showline),"linecolor"in o&&(n.lineColor[c]=S(o.linecolor)),"linewidth"in o&&(n.lineWidth[c]=o.linewidth),"showgrid"in o&&(n.gridEnable[c]=o.showgrid),"gridcolor"in o&&(n.gridColor[c]=S(o.gridcolor)),"gridwidth"in o&&(n.gridWidth[c]=o.gridwidth),"log"===o.type?n.zeroEnable[c]=!1:"zeroline"in o&&(n.zeroEnable[c]=o.zeroline),"zerolinecolor"in o&&(n.zeroLineColor[c]=S(o.zerolinecolor)),"zerolinewidth"in o&&(n.zeroLineWidth[c]=o.zerolinewidth),n.lineTickEnable[c]=!(!("ticks"in o)||!o.ticks),"ticklen"in o&&(n.lineTickLength[c]=n._defaultLineTickLength[c]=o.ticklen),"tickcolor"in o&&(n.lineTickColor[c]=S(o.tickcolor)),"tickwidth"in o&&(n.lineTickWidth[c]=o.tickwidth),"tickangle"in o&&(n.tickAngle[c]="auto"===o.tickangle?-3600:Math.PI*-o.tickangle/180),"showticklabels"in o&&(n.tickEnable[c]=o.showticklabels),"tickfont"in o&&(o.tickfont.color&&(n.tickColor[c]=S(o.tickfont.color)),o.tickfont.family&&(n.tickFont[c]=o.tickfont.family),o.tickfont.size&&(n.tickSize[c]=o.tickfont.size)),"mirror"in o?-1!==["ticks","all","allticks"].indexOf(o.mirror)?(n.lineTickMirror[c]=!0,n.lineMirror[c]=!0):!0===o.mirror?(n.lineTickMirror[c]=!1,n.lineMirror[c]=!0):(n.lineTickMirror[c]=!1,n.lineMirror[c]=!1):n.lineMirror[c]=!1,"showbackground"in o&&!1!==o.showbackground?(n.backgroundEnable[c]=!0,n.backgroundColor[c]=S(o.backgroundcolor)):n.backgroundEnable[c]=!1):(n.tickEnable[c]=!1,n.labelEnable[c]=!1,n.lineEnable[c]=!1,n.lineTickEnable[c]=!1,n.gridEnable[c]=!1,n.zeroEnable[c]=!1,n.backgroundEnable[c]=!1)}},oe.exports=function v(w,r){var n=new R;return n.merge(w,r),n}},24682:function(oe,J,t){"use strict";var S=t(71828),k=t(7901),l=t(73972),R=t(49119),I=t(3277),v=t(65500),w=t(27659).NG,r="gl3d";function n(c,o,f,h){for(var d=f("bgcolor"),b=k.combine(d,h.paper_bgcolor),p=["up","center","eye"],A=0;A<p.length;A++)f("camera."+p[A]+".x"),f("camera."+p[A]+".y"),f("camera."+p[A]+".z");f("camera.projection.type");var m=!!f("aspectratio.x")&&!!f("aspectratio.y")&&!!f("aspectratio.z"),g=f("aspectmode",m?"manual":"auto");m||(c.aspectratio=o.aspectratio={x:1,y:1,z:1},"manual"===g&&(o.aspectmode="auto"),c.aspectmode=o.aspectmode);var C=w(h.fullData,r,h.id);I(c,o,{font:h.font,scene:h.id,data:C,bgColor:b,calendar:h.calendar,autotypenumbersDflt:h.autotypenumbersDflt,fullLayout:h.fullLayout}),l.getComponentMethod("annotations3d","handleDefaults")(c,o,h);var T=h.getDfltFromLayout("dragmode");if(!1!==T&&!T)if(T="orbit",c.camera&&c.camera.up){var L=c.camera.up.x,x=c.camera.up.y,E=c.camera.up.z;0!==E&&(!L||!x||!E||E/Math.sqrt(L*L+x*x+E*E)>.999)&&(T="turntable")}else T="turntable";f("dragmode",T),f("hovermode",h.getDfltFromLayout("hovermode"))}oe.exports=function(o,f,h){var d=f._basePlotModules.length>1;R(o,f,h,{type:r,attributes:v,handleDefaults:n,fullLayout:f,font:f.font,fullData:h,getDfltFromLayout:function b(p){if(!d&&S.validate(o[p],v[p]))return o[p]},autotypenumbersDflt:f.autotypenumbers,paper_bgcolor:f.paper_bgcolor,calendar:f.calendar})}},65500:function(oe,J,t){"use strict";var S=t(77894),k=t(27670).Y,l=t(1426).extendFlat,R=t(71828).counterRegex;function I(v,w,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:w,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}oe.exports={_arrayAttrRegexps:[R("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:l(I(0,0,1),{}),center:l(I(0,0,0),{}),eye:l(I(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:k({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:S,yaxis:S,zaxis:S,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(oe,J,t){"use strict";var S=t(78614),k=["xaxis","yaxis","zaxis"];function l(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}l.prototype.merge=function(v){for(var w=0;w<3;++w){var r=v[k[w]];r.visible?(this.enabled[w]=r.showspikes,this.colors[w]=S(r.spikecolor),this.drawSides[w]=r.spikesides,this.lineWidth[w]=r.spikethickness):(this.enabled[w]=!1,this.drawSides[w]=!1)}},oe.exports=function I(v){var w=new l;return w.merge(v),w}},96085:function(oe,J,t){"use strict";oe.exports=function v(w){for(var r=w.axesOptions,n=w.glplot.axesPixels,c=w.fullSceneLayout,o=[[],[],[]],f=0;f<3;++f){var h=c[l[f]];if(h._length=(n[f].hi-n[f].lo)*n[f].pixelsPerDataUnit/w.dataScale[f],Math.abs(h._length)===1/0||isNaN(h._length))o[f]=[];else{h._input_range=h.range.slice(),h.range[0]=n[f].lo/w.dataScale[f],h.range[1]=n[f].hi/w.dataScale[f],h._m=1/(w.dataScale[f]*n[f].pixelsPerDataUnit),h.range[0]===h.range[1]&&(h.range[0]-=1,h.range[1]+=1);var d=h.tickmode;if("auto"===h.tickmode){h.tickmode="linear";var b=h.nticks||k.constrain(h._length/40,4,9);S.autoTicks(h,Math.abs(h.range[1]-h.range[0])/b)}for(var p=S.calcTicks(h,{msUTC:!0}),A=0;A<p.length;++A)p[A].x=p[A].x*w.dataScale[f],"date"===h.type&&(p[A].text=p[A].text.replace(/\<br\>/g," "));o[f]=p,h.tickmode=d}}for(r.ticks=o,f=0;f<3;++f)for(R[f]=.5*(w.glplot.bounds[0][f]+w.glplot.bounds[1][f]),A=0;A<2;++A)r.bounds[A][f]=w.glplot.bounds[A][f];w.contourLevels=function I(w){for(var r=new Array(3),n=0;n<3;++n){for(var c=w[n],o=new Array(c.length),f=0;f<c.length;++f)o[f]=c[f].x;r[n]=o}return r}(o)};var S=t(89298),k=t(71828),l=["xaxis","yaxis","zaxis"],R=[0,0,0]},63538:function(oe){"use strict";function J(S,k){var R,I,l=[0,0,0,0];for(R=0;R<4;++R)for(I=0;I<4;++I)l[I]+=S[4*R+I]*k[R];return l}oe.exports=function t(S,k){return J(S.projection,J(S.view,J(S.model,[k[0],k[1],k[2],1])))}},33539:function(oe,J,t){"use strict";var m,u,S=t(9330).gl_plot3d,k=S.createCamera,l=S.createScene,R=t(40372),I=t(38520),v=t(73972),w=t(71828),r=w.preserveDrawingBuffer(),n=t(89298),c=t(30211),o=t(78614),f=t(58617),h=t(63538),d=t(30422),b=t(13133),p=t(96085),A=t(71739).applyAutorangeOptions,g=!1;function C(F,_){var z=document.createElement("div"),V=F.container;this.graphDiv=F.graphDiv;var H=document.createElementNS("http://www.w3.org/2000/svg","svg");H.style.position="absolute",H.style.top=H.style.left="0px",H.style.width=H.style.height="100%",H.style["z-index"]=20,H.style["pointer-events"]="none",z.appendChild(H),this.svgContainer=H,z.id=F.id,z.style.position="absolute",z.style.top=z.style.left="0px",z.style.width=z.style.height="100%",V.appendChild(z),this.fullLayout=_,this.id=F.id||"scene",this.fullSceneLayout=_[this.id],this.plotArgs=[[],{},{}],this.axesOptions=d(_,_[this.id]),this.spikeOptions=b(_[this.id]),this.container=z,this.staticMode=!!F.staticPlot,this.pixelRatio=this.pixelRatio||F.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var T=C.prototype;T.prepareOptions=function(){var F=this,_={canvas:F.canvas,gl:F.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:F.container,axes:F.axesOptions,spikes:F.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:F.camera,pixelRatio:F.pixelRatio};if(F.staticMode){if(!(u||(m=document.createElement("canvas"),u=R({canvas:m,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");_.gl=u,_.canvas=m}return _};var L=!0;T.tryCreatePlot=function(){var F=this,_=F.prepareOptions(),z=!0;try{F.glplot=l(_)}catch{if(F.staticMode||!L||r)z=!1;else{w.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=_.glOptions.preserveDrawingBuffer=!0,F.glplot=l(_)}catch{r=_.glOptions.preserveDrawingBuffer=!1,z=!1}}}return L=!1,z},T.initializeGLCamera=function(){var F=this,_=F.fullSceneLayout.camera;F.camera=k(F.container,{center:[_.center.x,_.center.y,_.center.z],eye:[_.eye.x,_.eye.y,_.eye.z],up:[_.up.x,_.up.y,_.up.z],_ortho:"orthographic"===_.projection.type,zoomMin:.01,zoomMax:100,mode:"orbit"})},T.initializeGLPlot=function(){var F=this;if(F.initializeGLCamera(),!F.tryCreatePlot())return f(F);F.traces={},F.make4thDimension();var z=F.graphDiv,V=z.layout,H=function(){var G={};return F.isCameraChanged(V)&&(G[F.id+".camera"]=F.getCamera()),F.isAspectChanged(V)&&(G[F.id+".aspectratio"]=F.glplot.getAspectratio(),"manual"!==V[F.id].aspectmode&&(F.fullSceneLayout.aspectmode=V[F.id].aspectmode=G[F.id+".aspectmode"]="manual")),G},U=function(G){if(!1!==G.fullSceneLayout.dragmode){var Y=H();G.saveLayout(V),G.graphDiv.emit("plotly_relayout",Y)}};return F.glplot.canvas&&(F.glplot.canvas.addEventListener("mouseup",function(){U(F)}),F.glplot.canvas.addEventListener("touchstart",function(){g=!0}),F.glplot.canvas.addEventListener("wheel",function(G){if(z._context._scrollZoom.gl3d){if(F.camera._ortho){var Y=G.deltaX>G.deltaY?1.1:.9090909090909091,ee=F.glplot.getAspectratio();F.glplot.setAspectratio({x:Y*ee.x,y:Y*ee.y,z:Y*ee.z})}U(F)}},!!I&&{passive:!1}),F.glplot.canvas.addEventListener("mousemove",function(){if(!1!==F.fullSceneLayout.dragmode&&0!==F.camera.mouseListener.buttons){var G=H();F.graphDiv.emit("plotly_relayouting",G)}}),F.staticMode||F.glplot.canvas.addEventListener("webglcontextlost",function(G){z&&z.emit&&z.emit("plotly_webglcontextlost",{event:G,layer:F.id})},!1)),F.glplot.oncontextloss=function(){F.recoverContext()},F.glplot.onrender=function(){F.render()},!0},T.render=function(){var z,F=this,_=F.graphDiv,V=F.svgContainer,H=F.container.getBoundingClientRect();_._fullLayout._calcInverseTransform(_);var Y=H.width*_._fullLayout._invScaleX,ee=H.height*_._fullLayout._invScaleY;V.setAttributeNS(null,"viewBox","0 0 "+Y+" "+ee),V.setAttributeNS(null,"width",Y),V.setAttributeNS(null,"height",ee),p(F),F.glplot.axes.update(F.axesOptions);for(var ue=Object.keys(F.traces),ce=null,pe=F.glplot.selection,te=0;te<ue.length;++te)"skip"!==(z=F.traces[ue[te]]).data.hoverinfo&&z.handlePick(pe)&&(ce=z),z.setContourLevels&&z.setContourLevels();function Q(Ne,Ve,Pe){var Ce=F.fullSceneLayout[Ne+"axis"];return"log"!==Ce.type&&(Ve=Ce.d2l(Ve)),n.hoverLabelText(Ce,Ve,Pe)}if(null!==ce){var K=h(F.glplot.cameraParams,pe.dataCoordinate),Z=_._fullData[(z=ce.data).index],q=pe.index,fe={xLabel:Q("x",pe.traceCoordinate[0],z.xhoverformat),yLabel:Q("y",pe.traceCoordinate[1],z.yhoverformat),zLabel:Q("z",pe.traceCoordinate[2],z.zhoverformat)},re=c.castHoverinfo(Z,F.fullLayout,q),$=(re||"").split("+"),le=re&&"all"===re;!Z.hovertemplate&&!le&&(-1===$.indexOf("x")&&(fe.xLabel=void 0),-1===$.indexOf("y")&&(fe.yLabel=void 0),-1===$.indexOf("z")&&(fe.zLabel=void 0),-1===$.indexOf("text")&&(pe.textLabel=void 0),-1===$.indexOf("name")&&(ce.name=void 0));var se,de=[];"cone"===z.type||"streamtube"===z.type?(fe.uLabel=Q("x",pe.traceCoordinate[3],z.uhoverformat),(le||-1!==$.indexOf("u"))&&de.push("u: "+fe.uLabel),fe.vLabel=Q("y",pe.traceCoordinate[4],z.vhoverformat),(le||-1!==$.indexOf("v"))&&de.push("v: "+fe.vLabel),fe.wLabel=Q("z",pe.traceCoordinate[5],z.whoverformat),(le||-1!==$.indexOf("w"))&&de.push("w: "+fe.wLabel),fe.normLabel=pe.traceCoordinate[6].toPrecision(3),(le||-1!==$.indexOf("norm"))&&de.push("norm: "+fe.normLabel),"streamtube"===z.type&&(fe.divergenceLabel=pe.traceCoordinate[7].toPrecision(3),(le||-1!==$.indexOf("divergence"))&&de.push("divergence: "+fe.divergenceLabel)),pe.textLabel&&de.push(pe.textLabel),se=de.join("<br>")):"isosurface"===z.type||"volume"===z.type?(fe.valueLabel=n.hoverLabelText(F._mockAxis,F._mockAxis.d2l(pe.traceCoordinate[3]),z.valuehoverformat),de.push("value: "+fe.valueLabel),pe.textLabel&&de.push(pe.textLabel),se=de.join("<br>")):se=pe.textLabel;var we={x:pe.traceCoordinate[0],y:pe.traceCoordinate[1],z:pe.traceCoordinate[2],data:Z._input,fullData:Z,curveNumber:Z.index,pointNumber:q};c.appendArrayPointValue(we,Z,q),z._module.eventData&&(we=Z._module.eventData(we,pe,Z,{},q));var Ee={points:[we]};if(F.fullSceneLayout.hovermode){var Me=[];c.loneHover({trace:Z,x:(.5+.5*K[0]/K[3])*Y,y:(.5-.5*K[1]/K[3])*ee,xLabel:fe.xLabel,yLabel:fe.yLabel,zLabel:fe.zLabel,text:se,name:ce.name,color:c.castHoverOption(Z,q,"bgcolor")||ce.color,borderColor:c.castHoverOption(Z,q,"bordercolor"),fontFamily:c.castHoverOption(Z,q,"font.family"),fontSize:c.castHoverOption(Z,q,"font.size"),fontColor:c.castHoverOption(Z,q,"font.color"),nameLength:c.castHoverOption(Z,q,"namelength"),textAlign:c.castHoverOption(Z,q,"align"),hovertemplate:w.castOption(Z,q,"hovertemplate"),hovertemplateLabels:w.extendFlat({},we,fe),eventData:[we]},{container:V,gd:_,inOut_bbox:Me}),we.bbox=Me[0]}_.emit(pe.distance<5&&(pe.buttons||g)?"plotly_click":"plotly_hover",Ee),this.oldEventData=Ee}else c.loneUnhover(V),this.oldEventData&&_.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;F.drawAnnotations(F)},T.recoverContext=function(){var F=this;F.glplot.dispose();var _=function(){F.glplot.gl.isContextLost()?requestAnimationFrame(_):F.initializeGLPlot()?F.plot.apply(F,F.plotArgs):w.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(_)};var x=["xaxis","yaxis","zaxis"];function E(F,_,z){for(var V=F.fullSceneLayout,H=0;H<3;H++){var U=x[H],G=U.charAt(0),Y=V[U],ee=_[G],ue=_[G+"calendar"],ce=_["_"+G+"length"];if(w.isArrayOrTypedArray(ee))for(var pe,te=0;te<(ce||ee.length);te++)if(w.isArrayOrTypedArray(ee[te]))for(var Q=0;Q<ee[te].length;++Q)pe=Y.d2l(ee[te][Q],0,ue),!isNaN(pe)&&isFinite(pe)&&(z[0][H]=Math.min(z[0][H],pe),z[1][H]=Math.max(z[1][H],pe));else pe=Y.d2l(ee[te],0,ue),!isNaN(pe)&&isFinite(pe)&&(z[0][H]=Math.min(z[0][H],pe),z[1][H]=Math.max(z[1][H],pe));else z[0][H]=Math.min(z[0][H],0),z[1][H]=Math.max(z[1][H],ce-1)}}T.plot=function(F,_,z){var V=this;if(V.plotArgs=[F,_,z],!V.glplot.contextLost){var H,U,G,Y,ee,ue,ce=_[V.id],pe=z[V.id];V.fullLayout=_,V.fullSceneLayout=ce,V.axesOptions.merge(_,ce),V.spikeOptions.merge(ce),V.setViewport(ce),V.updateFx(ce.dragmode,ce.hovermode),V.camera.enableWheel=V.graphDiv._context._scrollZoom.gl3d,V.glplot.setClearColor(o(ce.bgcolor)),V.setConvert(ee),F?Array.isArray(F)||(F=[F]):F=[];var te=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(G=0;G<F.length;++G)!0===(H=F[G]).visible&&0!==H._length&&E(this,H,te);!function M(F,_){for(var z=F.fullSceneLayout,V=z.annotations||[],H=0;H<3;H++)for(var U=x[H],G=U.charAt(0),Y=z[U],ee=0;ee<V.length;ee++){var ue=V[ee];if(ue.visible){var ce=Y.r2l(ue[G]);!isNaN(ce)&&isFinite(ce)&&(_[0][H]=Math.min(_[0][H],ce),_[1][H]=Math.max(_[1][H],ce))}}}(this,te);var Q=[1,1,1];for(Y=0;Y<3;++Y)Q[Y]=te[1][Y]===te[0][Y]?1:1/(te[1][Y]-te[0][Y]);for(V.dataScale=Q,V.convertAnnotations(this),G=0;G<F.length;++G)!0===(H=F[G]).visible&&0!==H._length&&((U=V.traces[H.uid])?U.data.type===H.type?U.update(H):(U.dispose(),U=H._module.plot(this,H),V.traces[H.uid]=U):(U=H._module.plot(this,H),V.traces[H.uid]=U),U.name=H.name);var K=Object.keys(V.traces);e:for(G=0;G<K.length;++G){for(Y=0;Y<F.length;++Y)if(F[Y].uid===K[G]&&!0===F[Y].visible&&0!==F[Y]._length)continue e;(U=V.traces[K[G]]).dispose(),delete V.traces[K[G]]}V.glplot.objects.sort(function(We,je){return We._trace.data.index-je._trace.data.index});var Z=[[0,0,0],[0,0,0]],q=[],fe={};for(G=0;G<3;++G){var re;if((ue=(ee=ce[x[G]]).type)in fe?(fe[ue].acc*=Q[G],fe[ue].count+=1):fe[ue]={acc:Q[G],count:1},ee.autorange){Z[0][G]=1/0,Z[1][G]=-1/0;var $=V.glplot.objects,le=V.fullSceneLayout.annotations||[],se=ee._name.charAt(0);for(Y=0;Y<$.length;Y++){var de=$[Y],we=de.bounds,Ee=de._trace.data._pad||0;Z[0][G]="ErrorBars"===de.constructor.name&&ee._lowerLogErrorBound?Math.min(Z[0][G],ee._lowerLogErrorBound):Math.min(Z[0][G],we[0][G]/Q[G]-Ee),Z[1][G]=Math.max(Z[1][G],we[1][G]/Q[G]+Ee)}for(Y=0;Y<le.length;Y++){var Me=le[Y];if(Me.visible){var Ne=ee.r2l(Me[se]);Z[0][G]=Math.min(Z[0][G],Ne),Z[1][G]=Math.max(Z[1][G],Ne)}}if("rangemode"in ee&&"tozero"===ee.rangemode&&(Z[0][G]=Math.min(Z[0][G],0),Z[1][G]=Math.max(Z[1][G],0)),Z[0][G]>Z[1][G])Z[0][G]=-1,Z[1][G]=1;else{var Ve=Z[1][G]-Z[0][G];Z[0][G]-=Ve/32,Z[1][G]+=Ve/32}if(re=A(re=[Z[0][G],Z[1][G]],ee),Z[0][G]=re[0],Z[1][G]=re[1],ee.isReversed()){var Pe=Z[0][G];Z[0][G]=Z[1][G],Z[1][G]=Pe}}else Z[0][G]=ee.r2l((re=ee.range)[0]),Z[1][G]=ee.r2l(re[1]);Z[0][G]===Z[1][G]&&(Z[0][G]-=1,Z[1][G]+=1),q[G]=Z[1][G]-Z[0][G],ee.range=[Z[0][G],Z[1][G]],ee.limitRange(),V.glplot.setBounds(G,{min:ee.range[0]*Q[G],max:ee.range[1]*Q[G]})}var Ce,Ie=ce.aspectmode;if("cube"===Ie)Ce=[1,1,1];else if("manual"===Ie){var Je=ce.aspectratio;Ce=[Je.x,Je.y,Je.z]}else{if("auto"!==Ie&&"data"!==Ie)throw new Error("scene.js aspectRatio was not one of the enumerated types");var Qe=[1,1,1];for(G=0;G<3;++G){var ze=fe[ue=(ee=ce[x[G]]).type];Qe[G]=Math.pow(ze.acc,1/ze.count)/Q[G]}Ce="data"===Ie||Math.max.apply(null,Qe)/Math.min.apply(null,Qe)<=4?Qe:[1,1,1]}ce.aspectratio.x=pe.aspectratio.x=Ce[0],ce.aspectratio.y=pe.aspectratio.y=Ce[1],ce.aspectratio.z=pe.aspectratio.z=Ce[2],V.glplot.setAspectratio(ce.aspectratio),V.viewInitial.aspectratio||(V.viewInitial.aspectratio={x:ce.aspectratio.x,y:ce.aspectratio.y,z:ce.aspectratio.z}),V.viewInitial.aspectmode||(V.viewInitial.aspectmode=ce.aspectmode);var Ke=ce.domain||null,ut=_._size||null;if(Ke&&ut){var ot=V.container.style;ot.position="absolute",ot.left=ut.l+Ke.x[0]*ut.w+"px",ot.top=ut.t+(1-Ke.y[1])*ut.h+"px",ot.width=ut.w*(Ke.x[1]-Ke.x[0])+"px",ot.height=ut.h*(Ke.y[1]-Ke.y[0])+"px"}V.glplot.redraw()}},T.destroy=function(){var F=this;F.glplot&&(F.camera.mouseListener.enabled=!1,F.container.removeEventListener("wheel",F.camera.wheelListener),F.camera=null,F.glplot.dispose(),F.container.parentNode.removeChild(F.container),F.glplot=null)},T.getCamera=function(){var F=this;return F.camera.view.recalcMatrix(F.camera.view.lastT()),function D(F){return{up:{x:F.up[0],y:F.up[1],z:F.up[2]},center:{x:F.center[0],y:F.center[1],z:F.center[2]},eye:{x:F.eye[0],y:F.eye[1],z:F.eye[2]},projection:{type:!0===F._ortho?"orthographic":"perspective"}}}(F.camera)},T.setViewport=function(F){var _=this,z=F.camera;_.camera.lookAt.apply(this,function i(F){return[[F.eye.x,F.eye.y,F.eye.z],[F.center.x,F.center.y,F.center.z],[F.up.x,F.up.y,F.up.z]]}(z)),_.glplot.setAspectratio(F.aspectratio),"orthographic"===z.projection.type!==_.camera._ortho&&(_.glplot.redraw(),_.glplot.clearRGBA(),_.glplot.dispose(),_.initializeGLPlot())},T.isCameraChanged=function(F){var z=this.getCamera(),H=w.nestedProperty(F,this.id+".camera").get();var ue,ce,pe,te,Q,K,G=!1;if(void 0===H)G=!0;else{for(var Y=0;Y<3;Y++)for(var ee=0;ee<3;ee++)if(ue=z,te=ee,Q=void 0,K=void 0,K=["x","y","z"],!(ce=H)[(Q=["up","center","eye"])[pe=Y]]||ue[Q[pe]][K[te]]!==ce[Q[pe]][K[te]]){G=!0;break}(!H.projection||z.projection&&z.projection.type!==H.projection.type)&&(G=!0)}return G},T.isAspectChanged=function(F){var z=this.glplot.getAspectratio(),H=w.nestedProperty(F,this.id+".aspectratio").get();return void 0===H||H.x!==z.x||H.y!==z.y||H.z!==z.z},T.saveLayout=function(F){var V,H,U,G,Y,ee,_=this,z=_.fullLayout,ue=_.isCameraChanged(F),ce=_.isAspectChanged(F),pe=ue||ce;if(pe){var te={};ue&&(V=_.getCamera(),U=(H=w.nestedProperty(F,_.id+".camera")).get(),te[_.id+".camera"]=U),ce&&(G=_.glplot.getAspectratio(),ee=(Y=w.nestedProperty(F,_.id+".aspectratio")).get(),te[_.id+".aspectratio"]=ee),v.call("_storeDirectGUIEdit",F,z._preGUI,te),ue&&(H.set(V),w.nestedProperty(z,_.id+".camera").set(V)),ce&&(Y.set(G),w.nestedProperty(z,_.id+".aspectratio").set(G),_.glplot.redraw())}return pe},T.updateFx=function(F,_){var z=this,V=z.camera;if(V)if("orbit"===F)V.mode="orbit",V.keyBindingMode="rotate";else if("turntable"===F){V.up=[0,0,1],V.mode="turntable",V.keyBindingMode="rotate";var H=z.graphDiv,U=H._fullLayout,G=z.fullSceneLayout.camera,Y=G.up.x,ee=G.up.y,ue=G.up.z;if(ue/Math.sqrt(Y*Y+ee*ee+ue*ue)<.999){var ce=z.id+".camera.up",pe={x:0,y:0,z:1},te={};te[ce]=pe;var Q=H.layout;v.call("_storeDirectGUIEdit",Q,U._preGUI,te),G.up=pe,w.nestedProperty(Q,ce).set(pe)}}else V.keyBindingMode=F;z.fullSceneLayout.hovermode=_},T.toImage=function(F){var _=this;F||(F="png"),_.staticMode&&_.container.appendChild(m),_.glplot.redraw();var z=_.glplot.gl,V=z.drawingBufferWidth,H=z.drawingBufferHeight;z.bindFramebuffer(z.FRAMEBUFFER,null);var U=new Uint8Array(V*H*4);z.readPixels(0,0,V,H,z.RGBA,z.UNSIGNED_BYTE,U),function y(F,_,z){for(var V=0,H=z-1;V<H;++V,--H)for(var U=0;U<_;++U)for(var G=0;G<4;++G){var Y=4*(_*V+U)+G,ee=4*(_*H+U)+G,ue=F[Y];F[Y]=F[ee],F[ee]=ue}}(U,V,H),function B(F,_,z){for(var V=0;V<z;++V)for(var H=0;H<_;++H){var U=4*(_*V+H),G=F[U+3];if(G>0)for(var Y=255/G,ee=0;ee<3;++ee)F[U+ee]=Math.min(Y*F[U+ee],255)}}(U,V,H);var G=document.createElement("canvas");G.width=V,G.height=H;var ue,Y=G.getContext("2d",{willReadFrequently:!0}),ee=Y.createImageData(V,H);switch(ee.data.set(U),Y.putImageData(ee,0,0),F){case"jpeg":ue=G.toDataURL("image/jpeg");break;case"webp":ue=G.toDataURL("image/webp");break;default:ue=G.toDataURL("image/png")}return _.staticMode&&_.container.removeChild(m),ue},T.setConvert=function(){for(var _=0;_<3;_++){var z=this.fullSceneLayout[x[_]];n.setConvert(z,this.fullLayout),z.setScale=w.noop}},T.make4thDimension=function(){var F=this,z=F.graphDiv._fullLayout;F._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},n.setConvert(F._mockAxis,z)},oe.exports=C},90060:function(oe){"use strict";oe.exports=function(t,S,k,l){l=l||t.length;for(var R=new Array(l),I=0;I<l;I++)R[I]=[t[I],S[I],k[I]];return R}},10820:function(oe,J,t){"use strict";var S=t(41940),k=t(85594),l=t(22399),R=t(29241),I=t(53777),v=t(35025),w=t(1426).extendFlat,r=S({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=l.defaultLine,oe.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:S({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:w(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:l.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:l.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:l.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:R.newshape,activeshape:R.activeshape,newselection:I.newselection,activeselection:I.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:w({},k.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:S({editType:"layoutstyle"})}}},77734:function(oe,J,t){"use strict";var S=t(78607),k="1.10.1",l='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',R=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',l].join(" "),I=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),w={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:l,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:R,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:R,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:I,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:I,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=S(w);oe.exports={requiredVersion:k,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:w,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+k+"."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},13056:function(oe,J,t){"use strict";var S=t(71828);oe.exports=function(l,R){var I=l.split(" "),v=I[0],w=I[1],r=S.isArrayOrTypedArray(R)?S.mean(R):R,n=.5+r/100,c=1.5+r/100,o=["",""],f=[0,0];switch(v){case"top":o[0]="top",f[1]=-c;break;case"bottom":o[0]="bottom",f[1]=c}switch(w){case"left":o[1]="right",f[0]=-n;break;case"right":o[1]="left",f[0]=n}return{anchor:o[0]&&o[1]?o.join("-"):o[0]?o[0]:o[1]?o[1]:"center",offset:f}}},50101:function(oe,J,t){"use strict";var S=t(44517),k=t(71828),l=k.strTranslate,R=k.strScale,I=t(27659).AU,v=t(77922),w=t(39898),r=t(91424),n=t(63893),c=t(10481),o="mapbox",f=J.constants=t(77734);function d(b){return"string"==typeof b&&(-1!==f.styleValuesMapbox.indexOf(b)||0===b.indexOf("mapbox://"))}J.name=o,J.attr="subplot",J.idRoot=o,J.idRegex=J.attrRegex=k.counterRegex(o),J.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},J.layoutAttributes=t(23585),J.supplyLayoutDefaults=t(77882),J.plot=function(p){var A=p._fullLayout,m=p.calcdata,u=A._subplots[o];if(S.version!==f.requiredVersion)throw new Error(f.wrongVersionErrorMsg);var g=function h(b,p){var A=b._fullLayout;if(""===b._context.mapboxAccessToken)return"";for(var u=[],g=[],C=!1,T=!1,L=0;L<p.length;L++){var x=A[p[L]],E=x.accesstoken;d(x.style)&&(E?k.pushUnique(u,E):(d(x._input.style)&&(k.error("Uses Mapbox map style, but did not set an access token."),C=!0),T=!0)),E&&k.pushUnique(g,E)}if(T){var M=C?f.noAccessTokenErrorMsg:f.missingStyleErrorMsg;throw k.error(M),new Error(M)}return u.length?(u.length>1&&k.warn(f.multipleTokensErrorMsg),u[0]):(g.length&&k.log(["Listed mapbox access token(s)",g.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(p,u);S.accessToken=g;for(var C=0;C<u.length;C++){var T=u[C],L=I(m,o,T),x=A[T],E=x._subplot;E||(E=new c(p,T),A[T]._subplot=E),E.viewInitial||(E.viewInitial={center:k.extendFlat({},x.center),zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),E.plot(L,A,p._promises)}},J.clean=function(b,p,A,m){for(var u=m._subplots[o]||[],g=0;g<u.length;g++){var C=u[g];!p[C]&&m[C]._subplot&&m[C]._subplot.destroy()}},J.toSVG=function(b){for(var p=b._fullLayout,A=p._subplots[o],m=p._size,u=0;u<A.length;u++){var g=p[A[u]],C=g.domain,L=g._subplot.toImage("png");p._glimages.append("svg:image").attr({xmlns:v.svg,"xlink:href":L,x:m.l+m.w*C.x[0],y:m.t+m.h*(1-C.y[1]),width:m.w*(C.x[1]-C.x[0]),height:m.h*(C.y[1]-C.y[0]),preserveAspectRatio:"none"});var E=w.select(g._subplot.div);if(null!==E.select(".mapboxgl-ctrl-logo").node().offsetParent){var i=p._glimages.append("g");i.attr("transform",l(m.l+m.w*C.x[0]+10,m.t+m.h*(1-C.y[0])-31)),i.append("path").attr("d",f.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),i.append("path").attr("d",f.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),i.append("path").attr("d",f.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),i.append("polygon").attr("points",f.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var D=E.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),y=p._glimages.append("g"),B=y.append("text");B.text(D).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":D});var F=r.bBox(B.node()),_=m.w*(C.x[1]-C.x[0]);if(F.width>_/2){var z=D.split("|").join("<br>");B.text(z).attr("data-unformatted",z).call(n.convertToTspans,b),F=r.bBox(B.node())}B.attr("transform",l(-3,8-F.height)),y.insert("rect",".static-attribution").attr({x:-F.width-6,y:-F.height-3,width:F.width+6,height:F.height+3,fill:"rgba(255, 255, 255, 0.75)"});var V=1;F.width+6>_&&(V=_/(F.width+6));var H=[m.l+m.w*C.x[1],m.t+m.h*(1-C.y[0])];y.attr("transform",l(H[0],H[1])+R(V))}},J.updateFx=function(b){for(var p=b._fullLayout,A=p._subplots[o],m=0;m<A.length;m++)p[A[m]]._subplot.updateFx(p)}},67911:function(oe,J,t){"use strict";var S=t(71828),k=t(63893).sanitizeHTML,l=t(13056),R=t(77734);function I(c,o){this.subplot=c,this.uid=c.uid+"-"+o,this.index=o,this.idSource="source-"+this.uid,this.idLayer=R.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=I.prototype;function w(c){if(!c.visible)return!1;var o=c.source;if(Array.isArray(o)&&o.length>0){for(var f=0;f<o.length;f++)if("string"!=typeof o[f]||0===o[f].length)return!1;return!0}return S.isPlainObject(o)||"string"==typeof o&&o.length>0}function r(c){var o={},f={};switch(c.type){case"circle":S.extendFlat(f,{"circle-radius":c.circle.radius,"circle-color":c.color,"circle-opacity":c.opacity});break;case"line":S.extendFlat(f,{"line-width":c.line.width,"line-color":c.color,"line-opacity":c.opacity,"line-dasharray":c.line.dash});break;case"fill":S.extendFlat(f,{"fill-color":c.color,"fill-outline-color":c.fill.outlinecolor,"fill-opacity":c.opacity});break;case"symbol":var h=c.symbol,d=l(h.textposition,h.iconsize);S.extendFlat(o,{"icon-image":h.icon+"-15","icon-size":h.iconsize/10,"text-field":h.text,"text-size":h.textfont.size,"text-anchor":d.anchor,"text-offset":d.offset,"symbol-placement":h.placement}),S.extendFlat(f,{"icon-color":c.color,"text-color":h.textfont.color,"text-opacity":c.opacity});break;case"raster":S.extendFlat(f,{"raster-fade-duration":0,"raster-opacity":c.opacity})}return{layout:o,paint:f}}v.update=function(o){this.visible?this.needsNewImage(o)?this.updateImage(o):this.needsNewSource(o)?(this.removeLayer(),this.updateSource(o),this.updateLayer(o)):this.needsNewLayer(o)?this.updateLayer(o):this.updateStyle(o):(this.updateSource(o),this.updateLayer(o)),this.visible=w(o)},v.needsNewImage=function(c){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===c.sourcetype&&(this.source!==c.source||JSON.stringify(this.coordinates)!==JSON.stringify(c.coordinates))},v.needsNewSource=function(c){return this.sourceType!==c.sourcetype||JSON.stringify(this.source)!==JSON.stringify(c.source)||this.layerType!==c.type},v.needsNewLayer=function(c){return this.layerType!==c.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(c){this.subplot.map.getSource(this.idSource).updateImage({url:c.source,coordinates:c.coordinates});var f=this.findFollowingMapboxLayerId(this.lookupBelow());null!==f&&this.subplot.map.moveLayer(this.idLayer,f)},v.updateSource=function(c){var o=this.subplot.map;if(o.getSource(this.idSource)&&o.removeSource(this.idSource),this.sourceType=c.sourcetype,this.source=c.source,w(c)){var f=function n(c){var d,o=c.sourcetype,f=c.source,h={type:o};return"geojson"===o?d="data":"vector"===o?d="string"==typeof f?"url":"tiles":"raster"===o?(d="tiles",h.tileSize=256):"image"===o&&(d="url",h.coordinates=c.coordinates),h[d]=f,c.sourceattribution&&(h.attribution=k(c.sourceattribution)),h}(c);o.addSource(this.idSource,f)}},v.findFollowingMapboxLayerId=function(c){if("traces"===c)for(var o=this.subplot.getMapLayers(),f=0;f<o.length;f++){var h=o[f].id;if("string"==typeof h&&0===h.indexOf(R.traceLayerPrefix)){c=h;break}}return c},v.updateLayer=function(c){var o=this.subplot,f=r(c),h=this.lookupBelow(),d=this.findFollowingMapboxLayerId(h);this.removeLayer(),w(c)&&o.addLayer({id:this.idLayer,source:this.idSource,"source-layer":c.sourcelayer||"",type:c.type,minzoom:c.minzoom,maxzoom:c.maxzoom,layout:f.layout,paint:f.paint},d),this.layerType=c.type,this.below=h},v.updateStyle=function(c){if(w(c)){var o=r(c);this.subplot.setOptions(this.idLayer,"setLayoutProperty",o.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",o.paint)}},v.removeLayer=function(){var c=this.subplot.map;c.getLayer(this.idLayer)&&c.removeLayer(this.idLayer)},v.dispose=function(){var c=this.subplot.map;c.getLayer(this.idLayer)&&c.removeLayer(this.idLayer),c.getSource(this.idSource)&&c.removeSource(this.idSource)},oe.exports=function(o,f,h){var d=new I(o,f);return d.update(h),d}},23585:function(oe,J,t){"use strict";var S=t(71828),k=t(7901).defaultLine,l=t(27670).Y,R=t(41940),I=t(82196).textposition,v=t(30962).overrideAll,w=t(44467).templatedArray,r=t(77734),n=R({});n.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(oe.exports=v({_arrayAttrRegexps:[S.counterRegex("mapbox",".layers",!0)],domain:l({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:w("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:k},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:k}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:n,textposition:S.extendFlat({},I,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(oe,J,t){"use strict";var S=t(71828),k=t(49119),l=t(85501),R=t(23585);function I(w,r,n,c){n("accesstoken",c.accessToken),n("style"),n("center.lon"),n("center.lat"),n("zoom"),n("bearing"),n("pitch");var o=n("bounds.west"),f=n("bounds.east"),h=n("bounds.south"),d=n("bounds.north");(void 0===o||void 0===f||void 0===h||void 0===d)&&delete r.bounds,l(w,r,{name:"layers",handleItemDefaults:v}),r._input=w}function v(w,r){function n(b,p){return S.coerce(w,r,R.layers,b,p)}if(n("visible")){var h,o=n("sourcetype"),f="raster"===o||"image"===o;n("source"),n("sourceattribution"),"vector"===o&&n("sourcelayer"),"image"===o&&n("coordinates"),f&&(h="raster");var d=n("type",h);f&&"raster"!==d&&(d=r.type="raster",S.log("Source types *raster* and *image* must drawn *raster* layer type.")),n("below"),n("color"),n("opacity"),n("minzoom"),n("maxzoom"),"circle"===d&&n("circle.radius"),"line"===d&&(n("line.width"),n("line.dash")),"fill"===d&&n("fill.outlinecolor"),"symbol"===d&&(n("symbol.icon"),n("symbol.iconsize"),n("symbol.text"),S.coerceFont(n,"symbol.textfont"),n("symbol.textposition"),n("symbol.placement"))}}oe.exports=function(r,n,c){k(r,n,c,{type:"mapbox",attributes:R,handleDefaults:I,partition:"y",accessToken:n._mapboxAccessToken})}},10481:function(oe,J,t){"use strict";var S=t(44517),k=t(71828),l=t(41327),R=t(73972),I=t(89298),v=t(28569),w=t(30211),r=t(64505),n=r.drawMode,c=r.selectMode,o=t(47322).prepSelect,f=t(47322).clearOutline,h=t(47322).clearSelectionsCache,d=t(47322).selectOnClick,b=t(77734),p=t(67911);function A(L,x){this.id=x,this.gd=L;var E=L._fullLayout,M=L._context;this.container=E._glcontainer.node(),this.isStatic=M.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var m=A.prototype;m.plot=function(L,x,E){var D,M=this;M.map&&x[M.id].accesstoken!==M.accessToken&&(M.map.remove(),M.map=null,M.styleObj=null,M.traceHash={},M.layerList=[]),D=new Promise(M.map?function(y,B){M.updateMap(L,x,y,B)}:function(y,B){M.createMap(L,x,y,B)}),E.push(D)},m.createMap=function(L,x,E,M){var i=this,D=x[i.id],y=i.styleObj=g(D.style);i.accessToken=D.accesstoken;var B=D.bounds,F=B?[[B.west,B.south],[B.east,B.north]]:null,_=i.map=new S.Map({container:i.div,style:y.style,center:T(D.center),zoom:D.zoom,bearing:D.bearing,pitch:D.pitch,maxBounds:F,interactive:!i.isStatic,preserveDrawingBuffer:i.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new S.AttributionControl({compact:!0}));_._canvas.style.left="0px",_._canvas.style.top="0px",i.rejectOnError(M),i.isStatic||i.initFx(L,x);var z=[];z.push(new Promise(function(V){_.once("load",V)})),z=z.concat(l.fetchTraceGeoData(L)),Promise.all(z).then(function(){i.fillBelowLookup(L,x),i.updateData(L),i.updateLayout(x),i.resolveOnRender(E)}).catch(M)},m.updateMap=function(L,x,E,M){var i=this,D=i.map,y=x[this.id];i.rejectOnError(M);var B=[],F=g(y.style);JSON.stringify(i.styleObj)!==JSON.stringify(F)&&(i.styleObj=F,D.setStyle(F.style),i.traceHash={},B.push(new Promise(function(_){D.once("styledata",_)}))),B=B.concat(l.fetchTraceGeoData(L)),Promise.all(B).then(function(){i.fillBelowLookup(L,x),i.updateData(L),i.updateLayout(x),i.resolveOnRender(E)}).catch(M)},m.fillBelowLookup=function(L,x){var i,D,M=x[this.id].layers,y=this.belowLookup={},B=!1;for(i=0;i<L.length;i++){var F=L[i][0].trace,_=F._module;"string"==typeof F.below?D=F.below:_.getBelow&&(D=_.getBelow(F,this)),""===D&&(B=!0),y["trace-"+F.uid]=D||""}for(i=0;i<M.length;i++){var z=M[i];y["layout-"+i]=D="string"==typeof z.below?z.below:B?"traces":""}var H,U,V={};for(H in y)V[D=y[H]]?V[D].push(H):V[D]=[H];for(D in V){var G=V[D];if(G.length>1)for(i=0;i<G.length;i++)0===(H=G[i]).indexOf("trace-")?(U=H.split("trace-")[1],this.traceHash[U]&&(this.traceHash[U].below=null)):0===H.indexOf("layout-")&&(U=H.split("layout-")[1],this.layerList[U]&&(this.layerList[U].below=null))}};var u={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function g(L){var x={};return k.isPlainObject(L)?(x.id=L.id,x.style=L):"string"==typeof L?(x.id=L,x.style=-1!==b.styleValuesMapbox.indexOf(L)?C(L):b.stylesNonMapbox[L]?b.stylesNonMapbox[L]:L):(x.id=b.styleValueDflt,x.style=C(b.styleValueDflt)),x.transition={duration:0,delay:0},x}function C(L){return b.styleUrlPrefix+L+"-"+b.styleUrlSuffix}function T(L){return[L.lon,L.lat]}m.updateData=function(L){var E,M,i,D,x=this.traceHash,y=L.slice().sort(function(V,H){return u[V[0].trace.type]-u[H[0].trace.type]});for(i=0;i<y.length;i++){var B=y[i],F=!1;(E=x[(M=B[0].trace).uid])&&(E.type===M.type?(E.update(B),F=!0):E.dispose()),!F&&M._module&&(x[M.uid]=M._module.plot(this,B))}var _=Object.keys(x);e:for(i=0;i<_.length;i++){var z=_[i];for(D=0;D<L.length;D++)if(z===(M=L[D][0].trace).uid)continue e;(E=x[z]).dispose(),delete x[z]}},m.updateLayout=function(L){var x=this.map,E=L[this.id];!this.dragging&&!this.wheeling&&(x.setCenter(T(E.center)),x.setZoom(E.zoom),x.setBearing(E.bearing),x.setPitch(E.pitch)),this.updateLayers(L),this.updateFramework(L),this.updateFx(L),this.map.resize(),this.gd._context._scrollZoom.mapbox?x.scrollZoom.enable():x.scrollZoom.disable()},m.resolveOnRender=function(L){var x=this.map;x.on("render",function E(){x.loaded()&&(x.off("render",E),setTimeout(L,10))})},m.rejectOnError=function(L){var x=this.map;function E(){L(new Error(b.mapOnErrorMsg))}x.once("error",E),x.once("style.error",E),x.once("source.error",E),x.once("tile.error",E),x.once("layer.error",E)},m.createFramework=function(L){var x=this,E=x.div=document.createElement("div");E.id=x.uid,E.style.position="absolute",x.container.appendChild(E),x.xaxis={_id:"x",c2p:function(M){return x.project(M).x}},x.yaxis={_id:"y",c2p:function(M){return x.project(M).y}},x.updateFramework(L),x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},I.setConvert(x.mockAxis,L)},m.initFx=function(L,x){var E=this,M=E.gd,i=E.map;function D(){w.loneUnhover(x._hoverlayer)}function y(){var B=E.getView();M.emit("plotly_relayouting",E.getViewEditsWithDerived(B))}i.on("moveend",function(B){if(E.map){var F=M._fullLayout;if(B.originalEvent||E.wheeling){var _=F[E.id];R.call("_storeDirectGUIEdit",M.layout,F._preGUI,E.getViewEdits(_));var z=E.getView();_._input.center=_.center=z.center,_._input.zoom=_.zoom=z.zoom,_._input.bearing=_.bearing=z.bearing,_._input.pitch=_.pitch=z.pitch,M.emit("plotly_relayout",E.getViewEditsWithDerived(z))}B.originalEvent&&"mouseup"===B.originalEvent.type?E.dragging=!1:E.wheeling&&(E.wheeling=!1),F._rehover&&F._rehover()}}),i.on("wheel",function(){E.wheeling=!0}),i.on("mousemove",function(B){var F=E.div.getBoundingClientRect(),_=[B.originalEvent.offsetX,B.originalEvent.offsetY];B.target.getBoundingClientRect=function(){return F},E.xaxis.p2c=function(){return i.unproject(_).lng},E.yaxis.p2c=function(){return i.unproject(_).lat},M._fullLayout._rehover=function(){M._fullLayout._hoversubplot===E.id&&M._fullLayout[E.id]&&w.hover(M,B,E.id)},w.hover(M,B,E.id),M._fullLayout._hoversubplot=E.id}),i.on("dragstart",function(){E.dragging=!0,D()}),i.on("zoomstart",D),i.on("mouseout",function(){M._fullLayout._hoversubplot=null}),i.on("drag",y),i.on("zoom",y),i.on("dblclick",function(){var B=M._fullLayout[E.id];R.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,E.getViewEdits(B));var F=E.viewInitial;i.setCenter(T(F.center)),i.setZoom(F.zoom),i.setBearing(F.bearing),i.setPitch(F.pitch);var _=E.getView();B._input.center=B.center=_.center,B._input.zoom=B.zoom=_.zoom,B._input.bearing=B.bearing=_.bearing,B._input.pitch=B.pitch=_.pitch,M.emit("plotly_doubleclick",null),M.emit("plotly_relayout",E.getViewEditsWithDerived(_))}),E.clearOutline=function(){h(E.dragOptions),f(E.dragOptions.gd)},E.onClickInPanFn=function(B){return function(F){var _=M._fullLayout.clickmode;_.indexOf("select")>-1&&d(F.originalEvent,M,[E.xaxis],[E.yaxis],E.id,B),_.indexOf("event")>-1&&w.click(M,F.originalEvent)}}},m.updateFx=function(L){var x=this,E=x.map;if(!x.isStatic){var D=L.dragmode;x.dragOptions=k.extendDeep(x.dragOptions||{},{dragmode:L.dragmode,element:x.div,gd:x.gd,plotinfo:{id:x.id,domain:L[x.id].domain,xaxis:x.xaxis,yaxis:x.yaxis,fillRangeItems:function(F,_){_.isRect?(F.range={})[x.id]=[i([_.xmin,_.ymin]),i([_.xmax,_.ymax])]:(F.lassoPoints={})[x.id]=_.map(i)}},xaxes:[x.xaxis],yaxes:[x.yaxis],subplot:x.id}),E.off("click",x.onClickInPanHandler),c(D)||n(D)?(E.dragPan.disable(),E.on("zoomstart",x.clearOutline),x.dragOptions.prepFn=function(F,_,z){o(F,_,z,x.dragOptions,D)},v.init(x.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",x.clearOutline),x.div.onmousedown=null,x.div.ontouchstart=null,x.div.removeEventListener("touchstart",x.div._ontouchstart),x.onClickInPanHandler=x.onClickInPanFn(x.dragOptions),E.on("click",x.onClickInPanHandler))}function i(F){var _=x.map.unproject(F);return[_.lng,_.lat]}},m.updateFramework=function(L){var x=L[this.id].domain,E=L._size,M=this.div.style;M.width=E.w*(x.x[1]-x.x[0])+"px",M.height=E.h*(x.y[1]-x.y[0])+"px",M.left=E.l+x.x[0]*E.w+"px",M.top=E.t+(1-x.y[1])*E.h+"px",this.xaxis._offset=E.l+x.x[0]*E.w,this.xaxis._length=E.w*(x.x[1]-x.x[0]),this.yaxis._offset=E.t+(1-x.y[1])*E.h,this.yaxis._length=E.h*(x.y[1]-x.y[0])},m.updateLayers=function(L){var i,E=L[this.id].layers,M=this.layerList;if(E.length!==M.length){for(i=0;i<M.length;i++)M[i].dispose();for(M=this.layerList=[],i=0;i<E.length;i++)M.push(p(this,i,E[i]))}else for(i=0;i<E.length;i++)M[i].update(E[i])},m.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},m.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},m.setOptions=function(L,x,E){for(var M in E)this.map[x](L,M,E[M])},m.getMapLayers=function(){return this.map.getStyle().layers},m.addLayer=function(L,x){var E=this.map;if("string"==typeof x){if(""===x)return void E.addLayer(L,x);for(var M=this.getMapLayers(),i=0;i<M.length;i++)if(x===M[i].id)return void E.addLayer(L,x);k.warn(["Trying to add layer with *below* value",x,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(L)},m.project=function(L){return this.map.project(new S.LngLat(L[0],L[1]))},m.getView=function(){var L=this.map,x=L.getCenter(),i={lon:x.lng,lat:x.lat},D=L.getCanvas(),y=parseInt(D.style.width),B=parseInt(D.style.height);return{center:i,zoom:L.getZoom(),bearing:L.getBearing(),pitch:L.getPitch(),_derived:{coordinates:[L.unproject([0,0]).toArray(),L.unproject([y,0]).toArray(),L.unproject([y,B]).toArray(),L.unproject([0,B]).toArray()]}}},m.getViewEdits=function(L){for(var x=this.id,E=["center","zoom","bearing","pitch"],M={},i=0;i<E.length;i++){var D=E[i];M[x+"."+D]=L[D]}return M},m.getViewEditsWithDerived=function(L){var x=this.id,E=this.getViewEdits(L);return E[x+"._derived"]=L._derived,E},oe.exports=A},35025:function(oe){"use strict";oe.exports=function(J){var t=J.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},74875:function(oe,J,t){"use strict";var S=t(39898),k=t(84096).Dq,l=t(60721).FF,R=t(92770),I=t(73972),v=t(86281),w=t(44467),r=t(71828),n=t(7901),c=t(50606).BADNUM,o=t(41675),f=t(51873).clearOutline,h=t(21479),d=t(85594),b=t(31391),p=t(27659).a0,A=r.relinkPrivateKeys,m=r._,u=oe.exports={};r.extendFlat(u,I),u.attributes=t(9012),u.attributes.type.values=u.allTypes,u.fontAttrs=t(41940),u.layoutAttributes=t(10820),u.fontWeight="normal";var g=u.transformsRegistry,C=t(31137);u.executeAPICommand=C.executeAPICommand,u.computeAPICommandBindings=C.computeAPICommandBindings,u.manageCommandObserver=C.manageCommandObserver,u.hasSimpleAPICommandBindings=C.hasSimpleAPICommandBindings,u.redrawText=function(K){return K=r.getGraphDiv(K),new Promise(function(Z){setTimeout(function(){K._fullLayout&&(I.getComponentMethod("annotations","draw")(K),I.getComponentMethod("legend","draw")(K),I.getComponentMethod("colorbar","draw")(K),Z(u.previousPromises(K)))},300)})},u.resize=function(K){K=r.getGraphDiv(K);var Z,q=new Promise(function(fe,re){(!K||r.isHidden(K))&&re(new Error("Resize must be passed a displayed plot div element.")),K._redrawTimer&&clearTimeout(K._redrawTimer),K._resolveResize&&(Z=K._resolveResize),K._resolveResize=fe,K._redrawTimer=setTimeout(function(){if(!K.layout||K.layout.width&&K.layout.height||r.isHidden(K))fe(K);else{delete K.layout.width,delete K.layout.height;var $=K.changed;K.autoplay=!0,I.call("relayout",K,{autosize:!0}).then(function(){K.changed=$,K._resolveResize===fe&&(delete K._resolveResize,fe(K))})}},100)});return Z&&Z(q),q},u.previousPromises=function(K){if((K._promises||[]).length)return Promise.all(K._promises).then(function(){K._promises=[]})},u.addLinks=function(K){if(K._context.showLink||K._context.showSources){var Z=K._fullLayout,q=r.ensureSingle(Z._paper,"text","js-plot-link-container",function(de){de.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:n.defaultLine,"pointer-events":"all"}).each(function(){var we=S.select(this);we.append("tspan").classed("js-link-to-tool",!0),we.append("tspan").classed("js-link-spacer",!0),we.append("tspan").classed("js-sourcelinks",!0)})}),fe=q.node(),re={y:Z._paper.attr("height")-9};document.body.contains(fe)&&fe.getComputedTextLength()>=Z.width-20?(re["text-anchor"]="start",re.x=5):(re["text-anchor"]="end",re.x=Z._paper.attr("width")-7),q.attr(re);var $=q.select(".js-link-to-tool"),le=q.select(".js-link-spacer"),se=q.select(".js-sourcelinks");K._context.showSources&&K._context.showSources(K),K._context.showLink&&function T(K,Z){Z.text("");var q=Z.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(K._context.linkText+" "+String.fromCharCode(187));if(K._context.sendData)q.on("click",function(){u.sendDataToCloud(K)});else{var fe=window.location.pathname.split("/"),re=window.location.search;q.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+fe[2].split(".")[0]+"/"+fe[1]+re})}}(K,$),le.text($.text()&&se.text()?" - ":"")}},u.sendDataToCloud=function(K){var Z=(window.PLOTLYENV||{}).BASE_URL||K._context.plotlyServerURL;if(Z){K.emit("plotly_beforeexport");var q=S.select(K).append("div").attr("id","hiddenform").style("display","none"),fe=q.append("form").attr({action:Z+"/external",method:"post",target:"_blank"});return fe.append("input").attr({type:"text",name:"data"}).node().value=u.graphJson(K,!1,"keepdata"),fe.node().submit(),q.remove(),K.emit("plotly_afterexport"),!1}};var L=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],x=["year","month","dayMonth","dayMonthYear"];function i(K,Z){var q=K._context.locale;q||(q="en-US");var fe=!1,re={};function $(Me){for(var Ne=!0,Ve=0;Ve<Z.length;Ve++){var Pe=Z[Ve];re[Pe]||(Me[Pe]?re[Pe]=Me[Pe]:Ne=!1)}Ne&&(fe=!0)}for(var le=0;le<2;le++){for(var se=K._context.locales,de=0;de<2;de++){var we=(se[q]||{}).format;if(we&&($(we),fe))break;se=I.localeRegistry}var Ee=q.split("-")[0];if(fe||Ee===q)break;q=Ee}return fe||$(I.localeRegistry.en.format),re}function B(K,Z){var q={_fullLayout:Z},fe="x"===K._id.charAt(0),re=K._mainAxis._anchorAxis,$="",le="",se="";if(re&&(se=re._mainAxis._id,$=fe?K._id+se:se+K._id),!$||!Z._plots[$]){$="";for(var de=K._counterAxes,we=0;we<de.length;we++){var Ee=de[we],Me=fe?K._id+Ee:Ee+K._id;le||(le=Me);var Ne=o.getFromId(q,Ee);if(se&&Ne.overlaying===se){$=Me;break}}}return $||le}function F(K){var Z=K.transforms;if(Array.isArray(Z)&&Z.length)for(var q=0;q<Z.length;q++){var fe=Z[q],re=fe._module||g[fe.type];if(re&&re.makesData)return!0}return!1}function _(K,Z,q,fe){for(var re=K.transforms,$=[K],le=0;le<re.length;le++){var se=re[le],de=g[se.type];de&&de.transform&&($=de.transform($,{transform:se,fullTrace:K,fullData:Z,layout:q,fullLayout:fe,transformIndex:le}))}return $}function z(K){return"string"==typeof K&&"px"===K.substr(K.length-2)&&parseFloat(K)}function V(K){var Z=K.margin;if(!K._size){var q=K._size={l:Math.round(Z.l),r:Math.round(Z.r),t:Math.round(Z.t),b:Math.round(Z.b),p:Math.round(Z.pad)};q.w=Math.round(K.width)-q.l-q.r,q.h=Math.round(K.height)-q.t-q.b}K._pushmargin||(K._pushmargin={}),K._pushmarginIds||(K._pushmarginIds={}),K._reservedMargin||(K._reservedMargin={})}u.supplyDefaults=function(K,Z){var q=Z&&Z.skipUpdateCalc,fe=K._fullLayout||{};if(fe._skipDefaults)delete fe._skipDefaults;else{var Me,re=K._fullLayout={},$=K.layout||{},le=K._fullData||[],se=K._fullData=[],de=K.data||[],we=K.calcdata||[],Ee=K._context||{};K._transitionData||u.createTransitionData(K),re._dfltTitle={plot:m(K,"Click to enter Plot title"),x:m(K,"Click to enter X axis title"),y:m(K,"Click to enter Y axis title"),colorbar:m(K,"Click to enter Colorscale title"),annotation:m(K,"new text")},re._traceWord=m(K,"trace");var Ne=i(K,L);if(re._mapboxAccessToken=Ee.mapboxAccessToken,fe._initialAutoSizeIsDone){var Ve=fe.width,Pe=fe.height;u.supplyLayoutGlobalDefaults($,re,Ne),$.width||(re.width=Ve),$.height||(re.height=Pe),u.sanitizeMargins(re)}else{u.supplyLayoutGlobalDefaults($,re,Ne);var Ce=!$.width||!$.height,Ie=re.autosize;Ce&&(Ie||Ee.autosizable)?u.plotAutoSize(K,$,re):Ce&&u.sanitizeMargins(re),!Ie&&Ce&&($.width=re.width,$.height=re.height)}re._d3locale=function D(K,Z){return K.decimal=Z.charAt(0),K.thousands=Z.charAt(1),{numberFormat:function(q){try{q=l(K).format(r.adjustFormat(q))}catch{return r.warnBadFormat(q),r.noFormat}return q},timeFormat:k(K).utcFormat}}(Ne,re.separators),re._extraFormat=i(K,x),re._initialAutoSizeIsDone=!0,re._dataLength=de.length,re._modules=[],re._visibleModules=[],re._basePlotModules=[];var ze=re._subplots=function M(){var q,fe,K=I.collectableSubplotTypes,Z={};if(!K){K=[];var re=I.subplotsRegistry;for(var $ in re){var se=re[$].attr;if(se&&(K.push($),Array.isArray(se)))for(fe=0;fe<se.length;fe++)r.pushUnique(K,se[fe])}}for(q=0;q<K.length;q++)Z[K[q]]=[];return Z}(),Ke=re._splomAxes={x:{},y:{}},ut=re._splomSubplots={};re._splomGridDflt={},re._scatterStackOpts={},re._firstScatter={},re._alignmentOpts={},re._colorAxes={},re._requestRangeslider={},re._traceUids=function E(K,Z){var re,$,q=Z.length,fe=[];for(re=0;re<K.length;re++){var le=K[re]._fullInput;le!==$&&fe.push(le),$=le}var se=fe.length,de=new Array(q),we={};function Ee(Ve,Pe){de[Pe]=Ve,we[Ve]=1}function Me(Ve,Pe){if(Ve&&"string"==typeof Ve&&!we[Ve])return Ee(Ve,Pe),!0}for(re=0;re<q;re++){var Ne=Z[re].uid;"number"==typeof Ne&&(Ne=String(Ne)),!Me(Ne,re)&&(re<se&&Me(fe[re].uid,re)||Ee(r.randstr(we),re))}return de}(le,de),re._globalTransforms=(K._context||{}).globalTransforms,u.supplyDataDefaults(de,se,$,re);var ot=Object.keys(Ke.x),We=Object.keys(Ke.y);if(ot.length>1&&We.length>1){for(I.getComponentMethod("grid","sizeDefaults")($,re),Me=0;Me<ot.length;Me++)r.pushUnique(ze.xaxis,ot[Me]);for(Me=0;Me<We.length;Me++)r.pushUnique(ze.yaxis,We[Me]);for(var je in ut)r.pushUnique(ze.cartesian,je)}if(re._has=u._hasPlotType.bind(re),le.length===se.length)for(Me=0;Me<se.length;Me++)A(se[Me],le[Me]);u.supplyLayoutModuleDefaults($,re,se,K._transitionData);var lt=re._visibleModules,vt=[];for(Me=0;Me<lt.length;Me++){var pt=lt[Me].crossTraceDefaults;pt&&r.pushUnique(vt,pt)}for(Me=0;Me<vt.length;Me++)vt[Me](se,re);re._hasOnlyLargeSploms=1===re._basePlotModules.length&&"splom"===re._basePlotModules[0].name&&ot.length>15&&We.length>15&&0===re.shapes.length&&0===re.images.length,u.linkSubplots(se,re,le,fe),u.cleanPlot(se,re,le,fe);var St=!(!fe._has||!fe._has("gl2d")),Ct=!(!re._has||!re._has("gl2d")),ke=!(!fe._has||!fe._has("cartesian"))||St,Re=!(!re._has||!re._has("cartesian"))||Ct;ke&&!Re?fe._bgLayer.remove():Re&&!ke&&(re._shouldCreateBgLayer=!0),fe._zoomlayer&&!K._dragging&&f({_fullLayout:fe}),function y(K,Z){var q,fe=[];Z.meta&&(q=Z._meta={meta:Z.meta,layout:{meta:Z.meta}});for(var re=0;re<K.length;re++){var $=K[re];$.meta?fe[$.index]=$._meta={meta:$.meta}:Z.meta&&($._meta={meta:Z.meta}),Z.meta&&($._meta.layout={meta:Z.meta})}fe.length&&(q||(q=Z._meta={}),q.data=fe)}(se,re),A(re,fe),I.getComponentMethod("colorscale","crossTraceDefaults")(se,re),re._preGUI||(re._preGUI={}),re._tracePreGUI||(re._tracePreGUI={});var Ye,Be=re._tracePreGUI,He={};for(Ye in Be)He[Ye]="old";for(Me=0;Me<se.length;Me++)He[Ye=se[Me]._fullInput.uid]||(Be[Ye]={}),He[Ye]="new";for(Ye in He)"old"===He[Ye]&&delete Be[Ye];V(re),I.getComponentMethod("rangeslider","makeData")(re),!q&&we.length===se.length&&u.supplyDefaultsUpdateCalc(we,se)}},u.supplyDefaultsUpdateCalc=function(K,Z){for(var q=0;q<Z.length;q++){var fe=Z[q],re=(K[q]||[])[0];if(re&&re.trace){var $=re.trace;if($._hasCalcTransform){var se,de,we,le=$._arrayAttrs;for(se=0;se<le.length;se++)we=r.nestedProperty($,de=le[se]).get().slice(),r.nestedProperty(fe,de).set(we)}re.trace=fe}}},u.createTransitionData=function(K){K._transitionData||(K._transitionData={}),K._transitionData._frames||(K._transitionData._frames=[]),K._transitionData._frameHash||(K._transitionData._frameHash={}),K._transitionData._counter||(K._transitionData._counter=0),K._transitionData._interruptCallbacks||(K._transitionData._interruptCallbacks=[])},u._hasPlotType=function(K){var Z,q=this._basePlotModules||[];for(Z=0;Z<q.length;Z++)if(q[Z].name===K)return!0;var fe=this._modules||[];for(Z=0;Z<fe.length;Z++){var re=fe[Z].name;if(re===K)return!0;var $=I.modules[re];if($&&$.categories[K])return!0}return!1},u.cleanPlot=function(K,Z,q,fe){var re,$,le=fe._basePlotModules||[];for(re=0;re<le.length;re++){var se=le[re];se.clean&&se.clean(K,Z,q,fe)}var de=fe._has&&fe._has("gl"),we=Z._has&&Z._has("gl");de&&!we&&void 0!==fe._glcontainer&&(fe._glcontainer.selectAll(".gl-canvas").remove(),fe._glcontainer.selectAll(".no-webgl").remove(),fe._glcanvas=null);var Ee=!!fe._infolayer;e:for(re=0;re<q.length;re++){var Ne=q[re].uid;for($=0;$<K.length;$++)if(Ne===K[$].uid)continue e;Ee&&fe._infolayer.select(".cb"+Ne).remove()}},u.linkSubplots=function(K,Z,q,fe){var re,$,le=fe._plots||{},se=Z._plots={},de=Z._subplots,we={_fullData:K,_fullLayout:Z},Ee=de.cartesian.concat(de.gl2d||[]);for(re=0;re<Ee.length;re++){var Ce,Me=Ee[re],Ne=le[Me],Ve=o.getFromId(we,Me,"x"),Pe=o.getFromId(we,Me,"y");for(Ne?Ce=se[Me]=Ne:(Ce=se[Me]={}).id=Me,Ve._counterAxes.push(Pe._id),Pe._counterAxes.push(Ve._id),Ve._subplotsWith.push(Me),Pe._subplotsWith.push(Me),Ce.xaxis=Ve,Ce.yaxis=Pe,Ce._hasClipOnAxisFalse=!1,$=0;$<K.length;$++){var Ie=K[$];if(Ie.xaxis===Ce.xaxis._id&&Ie.yaxis===Ce.yaxis._id&&!1===Ie.cliponaxis){Ce._hasClipOnAxisFalse=!0;break}}}var Qe,Je=o.list(we,null,!0);for(re=0;re<Je.length;re++){var ze=null;(Qe=Je[re]).overlaying&&(ze=o.getFromId(we,Qe.overlaying))&&ze.overlaying&&(Qe.overlaying=!1,ze=null),Qe._mainAxis=ze||Qe,ze&&(Qe.domain=ze.domain.slice()),Qe._anchorAxis="free"===Qe.anchor?null:o.getFromId(we,Qe.anchor)}for(re=0;re<Je.length;re++)if((Qe=Je[re])._counterAxes.sort(o.idSort),Qe._subplotsWith.sort(r.subplotSort),Qe._mainSubplot=B(Qe,Z),Qe._counterAxes.length&&(Qe.spikemode&&-1!==Qe.spikemode.indexOf("across")||Qe.automargin&&Qe.mirror&&"free"!==Qe.anchor||I.getComponentMethod("rangeslider","isVisible")(Qe))){var Ke=1,ut=0;for($=0;$<Qe._counterAxes.length;$++){var ot=o.getFromId(we,Qe._counterAxes[$]);Ke=Math.min(Ke,ot.domain[0]),ut=Math.max(ut,ot.domain[1])}Ke<ut&&(Qe._counterDomainMin=Ke,Qe._counterDomainMax=ut)}},u.clearExpandedTraceDefaultColors=function(K){var Z,q,fe;for(q=[],(Z=K._module._colorAttrs)||(K._module._colorAttrs=Z=[],v.crawl(K._module.attributes,function re(le,se,de,we){q[we]=se,q.length=we+1,"color"===le.valType&&void 0===le.dflt&&Z.push(q.join("."))})),fe=0;fe<Z.length;fe++)r.nestedProperty(K,"_input."+Z[fe]).get()||r.nestedProperty(K,Z[fe]).set(null)},u.supplyDataDefaults=function(K,Z,q,fe){var we,Ee,Me,re=fe._modules,$=fe._visibleModules,le=fe._basePlotModules,se=0,de=0;function Ne(We){Z.push(We);var je=We._module;je&&(r.pushUnique(re,je),!0===We.visible&&r.pushUnique($,je),r.pushUnique(le,We._module.basePlotModule),se++,!1!==We._input.visible&&de++)}fe._transformModules=[];var Ve={},Pe=[],Ie=w.traceTemplater((q.template||{}).data||{});for(we=0;we<K.length;we++){if((Ee=Ie.newTrace(Me=K[we])).uid=fe._traceUids[we],u.supplyTraceDefaults(Me,Ee,de,fe,we),Ee.index=we,Ee._input=Me,Ee._expandedIndex=se,Ee.transforms&&Ee.transforms.length)for(var Je=!1!==Me.visible&&!1===Ee.visible,Qe=_(Ee,Z,q,fe),ze=0;ze<Qe.length;ze++){var Ke=Qe[ze],ut={_template:Ee._template,type:Ee.type,uid:Ee.uid+ze};Je&&!1===Ke.visible&&delete Ke.visible,u.supplyTraceDefaults(Ke,ut,se,fe,we),A(ut,Ke),ut.index=we,ut._input=Me,ut._fullInput=Ee,ut._expandedIndex=se,ut._expandedInput=Ke,Ne(ut)}else Ee._fullInput=Ee,Ee._expandedInput=Ee,Ne(Ee);I.traceIs(Ee,"carpetAxis")&&(Ve[Ee.carpet]=Ee),I.traceIs(Ee,"carpetDependent")&&Pe.push(we)}for(we=0;we<Pe.length;we++)if((Ee=Z[Pe[we]]).visible){var ot=Ve[Ee.carpet];if(Ee._carpet=ot,!ot||!ot.visible){Ee.visible=!1;continue}Ee.xaxis=ot.xaxis,Ee.yaxis=ot.yaxis}},u.supplyAnimationDefaults=function(K){K=K||{};var Z,q={};function fe(re,$){return r.coerce(K||{},q,d,re,$)}if(fe("mode"),fe("direction"),fe("fromcurrent"),Array.isArray(K.frame))for(q.frame=[],Z=0;Z<K.frame.length;Z++)q.frame[Z]=u.supplyAnimationFrameDefaults(K.frame[Z]||{});else q.frame=u.supplyAnimationFrameDefaults(K.frame||{});if(Array.isArray(K.transition))for(q.transition=[],Z=0;Z<K.transition.length;Z++)q.transition[Z]=u.supplyAnimationTransitionDefaults(K.transition[Z]||{});else q.transition=u.supplyAnimationTransitionDefaults(K.transition||{});return q},u.supplyAnimationFrameDefaults=function(K){var Z={};function q(fe,re){return r.coerce(K||{},Z,d.frame,fe,re)}return q("duration"),q("redraw"),Z},u.supplyAnimationTransitionDefaults=function(K){var Z={};function q(fe,re){return r.coerce(K||{},Z,d.transition,fe,re)}return q("duration"),q("easing"),Z},u.supplyFrameDefaults=function(K){var Z={};function q(fe,re){return r.coerce(K,Z,b,fe,re)}return q("group"),q("name"),q("traces"),q("baseframe"),q("data"),q("layout"),Z},u.supplyTraceDefaults=function(K,Z,q,fe,re){var se,$=fe.colorway||n.defaults,le=$[q%$.length];function de(Qe,ze){return r.coerce(K,Z,u.attributes,Qe,ze)}var we=de("visible");de("type"),de("name",fe._traceWord+" "+re),de("uirevision",fe.uirevision);var Ee=u.getModule(Z);if(Z._module=Ee,Ee){var Me=Ee.basePlotModule,Ne=Me.attr,Ve=Me.attributes;if(Ne&&Ve){var Pe=fe._subplots,Ce="";if(we||"gl2d"!==Me.name){if(Array.isArray(Ne))for(se=0;se<Ne.length;se++){var Ie=Ne[se],Je=r.coerce(K,Z,Ve,Ie);Pe[Ie]&&r.pushUnique(Pe[Ie],Je),Ce+=Je}else Ce=r.coerce(K,Z,Ve,Ne);Pe[Me.name]&&r.pushUnique(Pe[Me.name],Ce)}}}return we&&(de("customdata"),de("ids"),de("meta"),I.traceIs(Z,"showLegend")?(r.coerce(K,Z,Ee.attributes.showlegend?Ee.attributes:u.attributes,"showlegend"),de("legend"),de("legendwidth"),de("legendgroup"),de("legendgrouptitle.text"),de("legendrank"),Z._dfltShowLegend=!0):Z._dfltShowLegend=!1,Ee&&Ee.supplyDefaults(K,Z,le,fe),I.traceIs(Z,"noOpacity")||de("opacity"),I.traceIs(Z,"notLegendIsolatable")&&(Z.visible=!!Z.visible),I.traceIs(Z,"noHover")||(Z.hovertemplate||r.coerceHoverinfo(K,Z,fe),"parcats"!==Z.type&&I.getComponentMethod("fx","supplyDefaults")(K,Z,le,fe)),Ee&&Ee.selectPoints&&de("selectedpoints"),u.supplyTransformDefaults(K,Z,fe)),Z},u.hasMakesDataTransform=F,u.supplyTransformDefaults=function(K,Z,q){if(Z._length||F(K)){var fe=q._globalTransforms||[],re=q._transformModules||[];if(Array.isArray(K.transforms)||0!==fe.length)for(var le=fe.concat(K.transforms||[]),se=Z.transforms=[],de=0;de<le.length;de++){var Ne,we=le[de],Ee=we.type,Me=g[Ee],Ve=!(we._module&&we._module===Me),Pe=Me&&"function"==typeof Me.transform;Me||r.warn("Unrecognized transform type "+Ee+"."),Me&&Me.supplyDefaults&&(Ve||Pe)?((Ne=Me.supplyDefaults(we,Z,q,K)).type=Ee,Ne._module=Me,r.pushUnique(re,Me)):Ne=r.extendFlat({},we),se.push(Ne)}}},u.supplyLayoutGlobalDefaults=function(K,Z,q){function fe(Me,Ne){return r.coerce(K,Z,u.layoutAttributes,Me,Ne)}var re=K.template;r.isPlainObject(re)&&(Z.template=re,Z._template=re.layout,Z._dataTemplate=re.data),fe("autotypenumbers");var $=r.coerceFont(fe,"font");r.coerceFont(fe,"title.font",r.extendFlat({},$,{size:Math.round(1.4*$.size)})),fe("title.text",Z._dfltTitle.plot),fe("title.xref");var se=fe("title.yref");fe("title.pad.t"),fe("title.pad.r"),fe("title.pad.b"),fe("title.pad.l");var de=fe("title.automargin");fe("title.x"),fe("title.xanchor"),fe("title.y"),fe("title.yanchor"),de&&("paper"===se&&(0!==Z.title.y&&(Z.title.y=1),"auto"===Z.title.yanchor&&(Z.title.yanchor=0===Z.title.y?"top":"bottom")),"container"===se&&("auto"===Z.title.y&&(Z.title.y=1),"auto"===Z.title.yanchor&&(Z.title.yanchor=Z.title.y<.5?"bottom":"top"))),fe("uniformtext.mode")&&fe("uniformtext.minsize"),fe("autosize",!(K.width&&K.height)),fe("width"),fe("height"),fe("minreducedwidth"),fe("minreducedheight"),fe("margin.l"),fe("margin.r"),fe("margin.t"),fe("margin.b"),fe("margin.pad"),fe("margin.autoexpand"),K.width&&K.height&&u.sanitizeMargins(Z),I.getComponentMethod("grid","sizeDefaults")(K,Z),fe("paper_bgcolor"),fe("separators",q.decimal+q.thousands),fe("hidesources"),fe("colorway"),fe("datarevision");var Ee=fe("uirevision");fe("editrevision",Ee),fe("selectionrevision",Ee),I.getComponentMethod("modebar","supplyLayoutDefaults")(K,Z),I.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(K,Z,fe),I.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(K,Z,fe),fe("meta"),r.isPlainObject(K.transition)&&(fe("transition.duration"),fe("transition.easing"),fe("transition.ordering")),I.getComponentMethod("calendars","handleDefaults")(K,Z,"calendar"),I.getComponentMethod("fx","supplyLayoutGlobalDefaults")(K,Z,fe),r.coerce(K,Z,h,"scattermode")},u.plotAutoSize=function(Z,q,fe){var le,se,re=Z._context||{},$=re.frameMargins,de=r.isPlotDiv(Z);if(de&&Z.emit("plotly_autosize"),re.fillFrame)le=window.innerWidth,se=window.innerHeight,document.body.style.overflow="hidden";else{var we=de?window.getComputedStyle(Z):{};if(le=z(we.width)||z(we.maxWidth)||fe.width,se=z(we.height)||z(we.maxHeight)||fe.height,R($)&&$>0){var Ee=1-2*$;le=Math.round(Ee*le),se=Math.round(Ee*se)}}var Me=u.layoutAttributes.width.min,Ne=u.layoutAttributes.height.min;le<Me&&(le=Me),se<Ne&&(se=Ne);var Ve=!q.width&&Math.abs(fe.width-le)>1,Pe=!q.height&&Math.abs(fe.height-se)>1;(Pe||Ve)&&(Ve&&(fe.width=le),Pe&&(fe.height=se)),Z._initialAutoSize||(Z._initialAutoSize={width:le,height:se}),u.sanitizeMargins(fe)},u.supplyLayoutModuleDefaults=function(K,Z,q,fe){var le,se,de,re=I.componentsRegistry,$=Z._basePlotModules,we=I.subplotsRegistry.cartesian;for(le in re)(de=re[le]).includeBasePlot&&de.includeBasePlot(K,Z);for(var Ee in $.length||$.push(we),Z._has("cartesian")&&(I.getComponentMethod("grid","contentDefaults")(K,Z),we.finalizeSubplots(K,Z)),Z._subplots)Z._subplots[Ee].sort(r.subplotSort);for(se=0;se<$.length;se++)(de=$[se]).supplyLayoutDefaults&&de.supplyLayoutDefaults(K,Z,q);var Me=Z._modules;for(se=0;se<Me.length;se++)(de=Me[se]).supplyLayoutDefaults&&de.supplyLayoutDefaults(K,Z,q);var Ne=Z._transformModules;for(se=0;se<Ne.length;se++)(de=Ne[se]).supplyLayoutDefaults&&de.supplyLayoutDefaults(K,Z,q,fe);for(le in re)(de=re[le]).supplyLayoutDefaults&&de.supplyLayoutDefaults(K,Z,q)},u.purge=function(K){var Z=K._fullLayout||{};void 0!==Z._glcontainer&&(Z._glcontainer.selectAll(".gl-canvas").remove(),Z._glcontainer.remove(),Z._glcanvas=null),Z._modeBar&&Z._modeBar.destroy(),K._transitionData&&(K._transitionData._interruptCallbacks&&(K._transitionData._interruptCallbacks.length=0),K._transitionData._animationRaf&&window.cancelAnimationFrame(K._transitionData._animationRaf)),r.clearThrottle(),r.clearResponsive(K),delete K.data,delete K.layout,delete K._fullData,delete K._fullLayout,delete K.calcdata,delete K.empty,delete K.fid,delete K.undoqueue,delete K.undonum,delete K.autoplay,delete K.changed,delete K._promises,delete K._redrawTimer,delete K._hmlumcount,delete K._hmpixcount,delete K._transitionData,delete K._transitioning,delete K._initialAutoSize,delete K._transitioningWithDuration,delete K._dragging,delete K._dragged,delete K._dragdata,delete K._hoverdata,delete K._snapshotInProgress,delete K._editing,delete K._mouseDownTime,delete K._legendMouseDownTime,K.removeAllListeners&&K.removeAllListeners()},u.style=function(K){var fe,Z=K._fullLayout._visibleModules,q=[];for(fe=0;fe<Z.length;fe++){var re=Z[fe];re.style&&r.pushUnique(q,re.style)}for(fe=0;fe<q.length;fe++)q[fe](K)},u.sanitizeMargins=function(K){if(K&&K.margin){var le,Z=K.width,q=K.height,fe=K.margin,$=q-(fe.t+fe.b);Z-(fe.l+fe.r)<0&&(le=(Z-1)/(fe.l+fe.r),fe.l=Math.floor(le*fe.l),fe.r=Math.floor(le*fe.r)),$<0&&(le=(q-1)/(fe.t+fe.b),fe.t=Math.floor(le*fe.t),fe.b=Math.floor(le*fe.b))}},u.clearAutoMarginIds=function(K){K._fullLayout._pushmarginIds={}},u.allowAutoMargin=function(K,Z){K._fullLayout._pushmarginIds[Z]=1};u.autoMargin=function(K,Z,q){var fe=K._fullLayout,re=fe.width,$=fe.height,le=fe.margin,de=fe.minreducedheight,we=r.constrain(re-le.l-le.r,2,fe.minreducedwidth),Ee=r.constrain($-le.t-le.b,2,de),Me=Math.max(0,re-we),Ne=Math.max(0,$-Ee),Ve=fe._pushmargin,Pe=fe._pushmarginIds;if(!1!==le.autoexpand){if(q){var Ce=q.pad;if(void 0===Ce&&(Ce=Math.min(12,le.l,le.r,le.t,le.b)),Me){var Ie=(q.l+q.r)/Me;Ie>1&&(q.l/=Ie,q.r/=Ie)}if(Ne){var Je=(q.t+q.b)/Ne;Je>1&&(q.t/=Je,q.b/=Je)}Ve[Z]={l:{val:void 0!==q.xl?q.xl:q.x,size:q.l+Ce},r:{val:void 0!==q.xr?q.xr:q.x,size:q.r+Ce},b:{val:void 0!==q.yb?q.yb:q.y,size:q.b+Ce},t:{val:void 0!==q.yt?q.yt:q.y,size:q.t+Ce}},Pe[Z]=1}else delete Ve[Z],delete Pe[Z];if(!fe._replotting)return u.doAutoMargin(K)}},u.doAutoMargin=function(K){var Z=K._fullLayout,q=Z.width,fe=Z.height;Z._size||(Z._size={}),V(Z);var re=Z._size,$=Z.margin,le={t:0,b:0,l:0,r:0},se=r.extendFlat({},re),de=$.l,we=$.r,Ee=$.t,Me=$.b,Ne=Z._pushmargin,Ve=Z._pushmarginIds,Pe=Z.minreducedwidth,Ce=Z.minreducedheight;if(!1!==$.autoexpand){for(var Ie in Ne)Ve[Ie]||delete Ne[Ie];var Je=K._fullLayout._reservedMargin;for(var Qe in Je)for(var ze in Je[Qe])le[ze]=Math.max(le[ze],Je[Qe][ze]);for(var ut in Ne.base={l:{val:0,size:de},r:{val:1,size:we},t:{val:1,size:Ee},b:{val:0,size:Me}},le){var ot=0;for(var We in Ne)"base"!==We&&R(Ne[We][ut].size)&&(ot=Ne[We][ut].size>ot?Ne[We][ut].size:ot);var je=Math.max(0,$[ut]-ot);le[ut]=Math.max(0,le[ut]-je)}for(var lt in Ne){var vt=Ne[lt].l||{},pt=Ne[lt].b||{},St=vt.val,Ct=vt.size,_t=pt.val,nt=pt.size,ke=q-le.r-le.l,Re=fe-le.t-le.b;for(var Be in Ne){if(R(Ct)&&Ne[Be].r){var He=Ne[Be].r.val,Ye=Ne[Be].r.size;if(He>St){var Ue=(Ct*He+(Ye-ke)*St)/(He-St),De=(Ye*(1-St)+(Ct-ke)*(1-He))/(He-St);Ue+De>de+we&&(de=Ue,we=De)}}if(R(nt)&&Ne[Be].t){var ge=Ne[Be].t.val,Te=Ne[Be].t.size;if(ge>_t){var _e=(nt*ge+(Te-Re)*_t)/(ge-_t),et=(Te*(1-_t)+(nt-Re)*(1-ge))/(ge-_t);_e+et>Me+Ee&&(Me=_e,Ee=et)}}}}}var ft=r.constrain(q-$.l-$.r,2,Pe),gt=r.constrain(fe-$.t-$.b,2,Ce),Kt=Math.max(0,q-ft),ir=Math.max(0,fe-gt);if(Kt){var Lt=(de+we)/Kt;Lt>1&&(de/=Lt,we/=Lt)}if(ir){var Ut=(Me+Ee)/ir;Ut>1&&(Me/=Ut,Ee/=Ut)}if(re.l=Math.round(de)+le.l,re.r=Math.round(we)+le.r,re.t=Math.round(Ee)+le.t,re.b=Math.round(Me)+le.b,re.p=Math.round($.pad),re.w=Math.round(q)-re.l-re.r,re.h=Math.round(fe)-re.t-re.b,!Z._replotting&&(u.didMarginChange(se,re)||function G(K){if("_redrawFromAutoMarginCount"in K._fullLayout)return!1;var Z=o.list(K,"",!0);for(var q in Z)if(Z[q].autoshift||Z[q].shift)return!0;return!1}(K))){"_redrawFromAutoMarginCount"in Z?Z._redrawFromAutoMarginCount++:Z._redrawFromAutoMarginCount=1;var Qt=3*(1+Object.keys(Ve).length);if(Z._redrawFromAutoMarginCount<Qt)return I.call("_doPlot",K);Z._size=se,r.warn("Too many auto-margin redraws.")}!function Y(K){var Z=o.list(K,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(q){for(var fe=0;fe<Z.length;fe++){var re=Z[fe][q];re&&re()}})}(K)};var ee=["l","r","t","b","p","w","h"];function ue(K,Z,q){var fe=!1;var Ee=r.syncOrAsync([u.previousPromises,function de(){if(K._transitionData)return K._transitioning=!1,function re(Me){var Ne=Promise.resolve();if(!Me)return Ne;for(;Me.length;)Ne=Ne.then(Me.shift());return Ne}(K._transitionData._interruptCallbacks)},q.prepareFn,u.rehover,u.reselect,function le(){return K.emit("plotly_transitioning",[]),new Promise(function(Me){K._transitioning=!0,Z.duration>0&&(K._transitioningWithDuration=!0),K._transitionData._interruptCallbacks.push(function(){fe=!0}),q.redraw&&K._transitionData._interruptCallbacks.push(function(){return I.call("redraw",K)}),K._transitionData._interruptCallbacks.push(function(){K.emit("plotly_transitioninterrupted",[])});var Ne=0,Ve=0;function Pe(){return Ne++,function(){Ve++,!fe&&Ve===Ne&&function se(Me){if(K._transitionData)return function $(Me){if(Me)for(;Me.length;)Me.shift()}(K._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(q.redraw)return I.call("redraw",K)}).then(function(){K._transitioning=!1,K._transitioningWithDuration=!1,K.emit("plotly_transitioned",[])}).then(Me)}(Me)}}q.runFn(Pe),setTimeout(Pe())})}],K);return(!Ee||!Ee.then)&&(Ee=Promise.resolve()),Ee.then(function(){return K})}u.didMarginChange=function(K,Z){for(var q=0;q<ee.length;q++){var fe=ee[q],re=K[fe],$=Z[fe];if(!R(re)||Math.abs($-re)>1)return!0}return!1},u.graphJson=function(K,Z,q,fe,re,$){(re&&Z&&!K._fullData||re&&!Z&&!K._fullLayout)&&u.supplyDefaults(K);var se=re?K._fullLayout:K.layout,de=(K._transitionData||{})._frames;function we(Ne,Ve){if("function"==typeof Ne)return Ve?"_function_":null;if(r.isPlainObject(Ne)){var Ce,Pe={};return Object.keys(Ne).sort().forEach(function(Ie){if(-1===["_","["].indexOf(Ie.charAt(0))){if("function"==typeof Ne[Ie])return void(Ve&&(Pe[Ie]="_function"));if("keepdata"===q){if("src"===Ie.substr(Ie.length-3))return}else if("keepstream"===q){if("string"==typeof(Ce=Ne[Ie+"src"])&&Ce.indexOf(":")>0&&!r.isPlainObject(Ne.stream))return}else if("keepall"!==q&&"string"==typeof(Ce=Ne[Ie+"src"])&&Ce.indexOf(":")>0)return;Pe[Ie]=we(Ne[Ie],Ve)}}),Pe}return Array.isArray(Ne)?Ne.map(function(Ie){return we(Ie,Ve)}):r.isTypedArray(Ne)?r.simpleMap(Ne,r.identity):r.isJSDate(Ne)?r.ms2DateTimeLocal(+Ne):Ne}var Ee={data:((re?K._fullData:K.data)||[]).map(function(Ne){var Ve=we(Ne);return Z&&delete Ve.fit,Ve})};if(!Z&&(Ee.layout=we(se),re)){var Me=se._size;Ee.layout.computed={margin:{b:Me.b,l:Me.l,r:Me.r,t:Me.t}}}return de&&(Ee.frames=we(de)),$&&(Ee.config=we(K._context,!0)),"object"===fe?Ee:JSON.stringify(Ee)},u.modifyFrames=function(K,Z){var q,fe,re,$=K._transitionData._frames,le=K._transitionData._frameHash;for(q=0;q<Z.length;q++)switch(fe=Z[q],fe.type){case"replace":var se=($[fe.index]||{}).name,de=(re=fe.value).name;$[fe.index]=le[de]=re,de!==se&&(delete le[se],le[de]=re);break;case"insert":le[(re=fe.value).name]=re,$.splice(fe.index,0,re);break;case"delete":delete le[(re=$[fe.index]).name],$.splice(fe.index,1)}return Promise.resolve()},u.computeFrame=function(K,Z){var fe,re,$,le,q=K._transitionData._frameHash;if(!Z)throw new Error("computeFrame must be given a string frame name");var se=q[Z.toString()];if(!se)return!1;for(var de=[se],we=[se.name];se.baseframe&&(se=q[se.baseframe.toString()])&&-1===we.indexOf(se.name);)de.push(se),we.push(se.name);for(var Ee={};se=de.pop();)if(se.layout&&(Ee.layout=u.extendLayout(Ee.layout,se.layout)),se.data){if(Ee.data||(Ee.data=[]),!(re=se.traces))for(re=[],fe=0;fe<se.data.length;fe++)re[fe]=fe;for(Ee.traces||(Ee.traces=[]),fe=0;fe<se.data.length;fe++)null!=($=re[fe])&&(-1===(le=Ee.traces.indexOf($))&&(Ee.traces[le=Ee.data.length]=$),Ee.data[le]=u.extendTrace(Ee.data[le],se.data[fe]))}return Ee},u.recomputeFrameHash=function(K){for(var Z=K._transitionData._frameHash={},q=K._transitionData._frames,fe=0;fe<q.length;fe++){var re=q[fe];re&&re.name&&(Z[re.name]=re)}},u.extendObjectWithContainers=function(K,Z,q){var fe,re,$,le,de,we,Ee,Me=r.extendDeepNoArrays({},Z||{}),Ne=r.expandObjectPaths(Me),Ve={};if(q&&q.length)for($=0;$<q.length;$++)void 0===(re=(fe=r.nestedProperty(Ne,q[$])).get())?r.nestedProperty(Ve,q[$]).set(null):(fe.set(null),r.nestedProperty(Ve,q[$]).set(re));if(K=r.extendDeepNoArrays(K||{},Ne),q&&q.length)for($=0;$<q.length;$++)if(we=r.nestedProperty(Ve,q[$]).get()){for(Ee=(de=r.nestedProperty(K,q[$])).get(),Array.isArray(Ee)||de.set(Ee=[]),le=0;le<we.length;le++){var Pe=we[le];Ee[le]=null===Pe?null:u.extendObjectWithContainers(Ee[le],Pe)}de.set(Ee)}return K},u.dataArrayContainers=["transforms","dimensions"],u.layoutArrayContainers=I.layoutArrayContainers,u.extendTrace=function(K,Z){return u.extendObjectWithContainers(K,Z,u.dataArrayContainers)},u.extendLayout=function(K,Z){return u.extendObjectWithContainers(K,Z,u.layoutArrayContainers)},u.transition=function(K,Z,q,fe,re,$){var le={redraw:re.redraw},se={},de=[];return le.prepareFn=function(){for(var we=Array.isArray(Z)?Z.length:0,Ee=fe.slice(0,we),Me=0;Me<Ee.length;Me++){var Ne=Ee[Me],Pe=K._fullData[Ne]._module;if(Pe){if(Pe.animatable){var Ce=Pe.basePlotModule.name;se[Ce]||(se[Ce]=[]),se[Ce].push(Ne)}K.data[Ee[Me]]=u.extendTrace(K.data[Ee[Me]],Z[Me])}}var Ie=r.expandObjectPaths(r.extendDeepNoArrays({},q)),Je=/^[xy]axis[0-9]*$/;for(var Qe in Ie)Je.test(Qe)&&delete Ie[Qe].range;u.extendLayout(K.layout,Ie),delete K.calcdata,u.supplyDefaults(K),u.doCalcdata(K);var ze=r.expandObjectPaths(q);if(ze){var Ke=K._fullLayout._plots;for(var ut in Ke){var ot=Ke[ut],We=ot.xaxis,je=ot.yaxis,lt=We.range.slice(),vt=je.range.slice(),pt=null,St=null,Ct=null,_t=null;Array.isArray(ze[We._name+".range"])?pt=ze[We._name+".range"].slice():Array.isArray((ze[We._name]||{}).range)&&(pt=ze[We._name].range.slice()),Array.isArray(ze[je._name+".range"])?St=ze[je._name+".range"].slice():Array.isArray((ze[je._name]||{}).range)&&(St=ze[je._name].range.slice()),lt&&pt&&(We.r2l(lt[0])!==We.r2l(pt[0])||We.r2l(lt[1])!==We.r2l(pt[1]))&&(Ct={xr0:lt,xr1:pt}),vt&&St&&(je.r2l(vt[0])!==je.r2l(St[0])||je.r2l(vt[1])!==je.r2l(St[1]))&&(_t={yr0:vt,yr1:St}),(Ct||_t)&&de.push(r.extendFlat({plotinfo:ot},Ct,_t))}}return Promise.resolve()},le.runFn=function(we){var Ee,Ve,Me=K._fullLayout._basePlotModules,Ne=de.length;if(q)for(Ve=0;Ve<Me.length;Ve++)Me[Ve].transitionAxes&&Me[Ve].transitionAxes(K,de,$,we);for(var Pe in Ne?((Ee=r.extendFlat({},$)).duration=0,delete se.cartesian):Ee=$,se){var Ce=se[Pe];K._fullData[Ce[0]]._module.basePlotModule.plot(K,Ce,Ee,we)}},ue(K,$,le)},u.transitionFromReact=function(K,Z,q,fe){var re=K._fullLayout,$=re.transition,le={},se=[];return le.prepareFn=function(){var de=re._plots;for(var we in le.redraw=!1,"some"===Z.anim&&(le.redraw=!0),"some"===q.anim&&(le.redraw=!0),de){var Ee=de[we],Me=Ee.xaxis,Ne=Ee.yaxis,Ve=fe[Me._name].range.slice(),Pe=fe[Ne._name].range.slice(),Ce=Me.range.slice(),Ie=Ne.range.slice();Me.setScale(),Ne.setScale();var Je=null,Qe=null;(Me.r2l(Ve[0])!==Me.r2l(Ce[0])||Me.r2l(Ve[1])!==Me.r2l(Ce[1]))&&(Je={xr0:Ve,xr1:Ce}),(Ne.r2l(Pe[0])!==Ne.r2l(Ie[0])||Ne.r2l(Pe[1])!==Ne.r2l(Ie[1]))&&(Qe={yr0:Pe,yr1:Ie}),(Je||Qe)&&se.push(r.extendFlat({plotinfo:Ee},Je,Qe))}return Promise.resolve()},le.runFn=function(de){for(var Ne,Ve,Pe,we=K._fullData,Me=K._fullLayout._basePlotModules,Ce=[],Ie=0;Ie<we.length;Ie++)Ce.push(Ie);function Je(){if(K._fullLayout)for(var ze=0;ze<Me.length;ze++)Me[ze].transitionAxes&&Me[ze].transitionAxes(K,se,Ne,de)}function Qe(){if(K._fullLayout)for(var ze=0;ze<Me.length;ze++)Me[ze].plot(K,Pe,Ve,de)}se.length&&Z.anim?"traces first"===$.ordering?(Ne=r.extendFlat({},$,{duration:0}),Pe=Ce,Ve=$,setTimeout(Je,$.duration),Qe()):(Ne=$,Pe=null,Ve=r.extendFlat({},$,{duration:0}),setTimeout(Qe,Ne.duration),Je()):se.length?(Ne=$,Je()):Z.anim&&(Pe=Ce,Ve=$,Qe())},ue(K,$,le)},u.doCalcdata=function(K,Z){var $,le,se,de,q=o.list(K),fe=K._fullData,re=K._fullLayout,we=new Array(fe.length),Ee=(K.calcdata||[]).slice();for(K.calcdata=we,re._numBoxes=0,re._numViolins=0,re._violinScaleGroupStats={},K._hmpixcount=0,K._hmlumcount=0,re._piecolormap={},re._sunburstcolormap={},re._treemapcolormap={},re._iciclecolormap={},re._funnelareacolormap={},se=0;se<fe.length;se++)if(Array.isArray(Z)&&-1===Z.indexOf(se)){we[se]=Ee[se];continue}for(se=0;se<fe.length;se++)($=fe[se])._arrayAttrs=v.findArrayAttributes($),$._extremes={};var Me=re._subplots.polar||[];for(se=0;se<Me.length;se++)q.push(re[Me[se]].radialaxis,re[Me[se]].angularaxis);for(var Ne in re._colorAxes){var Ve=re[Ne];!1!==Ve.cauto&&(delete Ve.cmin,delete Ve.cmax)}var Pe=!1;function Ce(Qe){if(le=($=fe[Qe])._module,!0===$.visible&&$.transforms){if(le&&le.calc){var ze=le.calc(K,$);ze[0]&&ze[0].t&&ze[0].t._scene&&delete ze[0].t._scene.dirty}for(de=0;de<$.transforms.length;de++){var Ke=$.transforms[de];(le=g[Ke.type])&&le.calcTransform&&($._hasCalcTransform=!0,Pe=!0,le.calcTransform(K,$,Ke))}}}function Ie(Qe,ze){if(!!(le=($=fe[Qe])._module).isContainer===ze){var Ke=[];if(!0===$.visible&&0!==$._length){delete $._indexToPoints;var ut=$.transforms||[];for(de=ut.length-1;de>=0;de--)if(ut[de].enabled){$._indexToPoints=ut[de]._indexToPoints;break}le&&le.calc&&(Ke=le.calc(K,$))}(!Array.isArray(Ke)||!Ke[0])&&(Ke=[{x:c,y:c}]),Ke[0].t||(Ke[0].t={}),Ke[0].trace=$,we[Qe]=Ke}}for(te(q,fe,re),se=0;se<fe.length;se++)Ie(se,!0);for(se=0;se<fe.length;se++)Ce(se);for(Pe&&te(q,fe,re),se=0;se<fe.length;se++)Ie(se,!0);for(se=0;se<fe.length;se++)Ie(se,!1);Q(K);var Je=function pe(K,Z){var fe,re,$,le,se,q=[];function de(Be,He,Ye){var Ue=He._id.charAt(0);if("histogram2dcontour"===Be){var De=He._counterAxes[0],ge=o.getFromId(Z,De),Te="x"===Ue||"x"===De&&"category"===ge.type,_e="y"===Ue||"y"===De&&"category"===ge.type;return function(et,ft){return 0===et||0===ft||Te&&et===Ye[ft].length-1||_e&&ft===Ye.length-1?-1:("y"===Ue?ft:et)-1}}return function(et,ft){return"y"===Ue?ft:et}}var we={min:function(Be){return r.aggNums(Math.min,null,Be)},max:function(Be){return r.aggNums(Math.max,null,Be)},sum:function(Be){return r.aggNums(function(He,Ye){return He+Ye},null,Be)},total:function(Be){return r.aggNums(function(He,Ye){return He+Ye},null,Be)},mean:function(Be){return r.mean(Be)},median:function(Be){return r.median(Be)}};function Ee(Be,He){return Be[1]-He[1]}function Me(Be,He){return He[1]-Be[1]}for(fe=0;fe<K.length;fe++){var Ne=K[fe];if("category"===Ne.type){var Ve=Ne.categoryorder.match(ce);if(Ve){var Pe=Ve[1],Ce=Ve[2],Ie=Ne._id.charAt(0),Je="x"===Ie,Qe=[];for(re=0;re<Ne._categories.length;re++)Qe.push([Ne._categories[re],[]]);for(re=0;re<Ne._traceIndices.length;re++){var ze=Ne._traceIndices[re],Ke=Z._fullData[ze];if(!0===Ke.visible){var ut=Ke.type;I.traceIs(Ke,"histogram")&&(delete Ke._xautoBinFinished,delete Ke._yautoBinFinished);var ot="splom"===ut,We="scattergl"===ut,je=Z.calcdata[ze];for($=0;$<je.length;$++){var vt,pt,lt=je[$];if(ot){var St=Ke._axesDim[Ne._id];if(!Je){var Ct=Ke._diag[St][0];Ct&&(Ne=Z._fullLayout[o.id2name(Ct)])}var _t=lt.trace.dimensions[St].values;for(le=0;le<_t.length;le++)for(vt=Ne._categoriesMap[_t[le]],se=0;se<lt.trace.dimensions.length;se++)se!==St&&Qe[vt][1].push(lt.trace.dimensions[se].values[le])}else if(We){for(le=0;le<lt.t.x.length;le++)Je?(vt=lt.t.x[le],pt=lt.t.y[le]):(vt=lt.t.y[le],pt=lt.t.x[le]),Qe[vt][1].push(pt);lt.t&&lt.t._scene&&delete lt.t._scene.dirty}else if(lt.hasOwnProperty("z")){var ke=de(Ke.type,Ne,pt=lt.z);for(le=0;le<pt.length;le++)for(se=0;se<pt[le].length;se++)(vt=ke(se,le))+1&&Qe[vt][1].push(pt[le][se])}else for(void 0===(vt=lt.p)&&(vt=lt[Ie]),void 0===(pt=lt.s)&&(pt=lt.v),void 0===pt&&(pt=Je?lt.y:lt.x),Array.isArray(pt)||(pt=void 0===pt?[]:[pt]),le=0;le<pt.length;le++)Qe[vt][1].push(pt[le])}}}Ne._categoriesValue=Qe;var Re=[];for(re=0;re<Qe.length;re++)Re.push([Qe[re][0],we[Pe](Qe[re][1])]);Re.sort("descending"===Ce?Me:Ee),Ne._categoriesAggregatedValue=Re,Ne._initialCategories=Re.map(function(Be){return Be[0]}),q=q.concat(Ne.sortByInitialCategories())}}}return q}(q,K);if(Je.length){for(re._numBoxes=0,re._numViolins=0,se=0;se<Je.length;se++)Ie(Je[se],!0);for(se=0;se<Je.length;se++)Ie(Je[se],!1);Q(K)}I.getComponentMethod("fx","calc")(K),I.getComponentMethod("errorbars","calc")(K)};var ce=/(total|sum|min|max|mean|median) (ascending|descending)/;function te(K,Z,q){var fe={};function re(de){de.clearCalc(),"multicategory"===de.type&&de.setupMultiCategory(Z),fe[de._id]=1}r.simpleMap(K,re);for(var $=q._axisMatchGroups||[],le=0;le<$.length;le++)for(var se in $[le])fe[se]||re(q[o.id2name(se)])}function Q(K){var re,$,le,Z=K._fullLayout,q=Z._visibleModules,fe={};for($=0;$<q.length;$++){var se=q[$],de=se.crossTraceCalc;if(de){var we=se.basePlotModule.name;fe[we]?r.pushUnique(fe[we],de):fe[we]=[de]}}for(le in fe){var Ee=fe[le],Me=Z._subplots[le];if(Array.isArray(Me))for(re=0;re<Me.length;re++){var Ne=Me[re],Ve="cartesian"===le?Z._plots[Ne]:Z[Ne];for($=0;$<Ee.length;$++)Ee[$](K,Ve,Ne)}else for($=0;$<Ee.length;$++)Ee[$](K)}}u.rehover=function(K){K._fullLayout._rehover&&K._fullLayout._rehover()},u.redrag=function(K){K._fullLayout._redrag&&K._fullLayout._redrag()},u.reselect=function(K){var Z=K._fullLayout,q=(K.layout||{}).selections,fe=Z._previousSelections;Z._previousSelections=q;var re=Z._reselect||JSON.stringify(q)!==JSON.stringify(fe);I.getComponentMethod("selections","reselect")(K,re)},u.generalUpdatePerTraceModule=function(K,Z,q,fe){var le,re=Z.traceHash,$={};for(le=0;le<q.length;le++){var se=q[le],de=se[0].trace;de.visible&&($[de.type]=$[de.type]||[],$[de.type].push(se))}for(var we in re)if(!$[we]){var Ee=re[we][0];Ee[0].trace.visible=!1,$[we]=[Ee]}for(var Ne in $){var Ve=$[Ne];Ve[0][0].trace._module.plot(K,Z,r.filterVisible(Ve),fe)}Z.traceHash=$},u.plotBasePlot=function(K,Z,q,fe,re){var $=I.getModule(K),le=p(Z.calcdata,$)[0];$.plot(Z,le,fe,re)},u.cleanBasePlot=function(K,Z,q,fe,re){var $=re._has&&re._has(K),le=q._has&&q._has(K);$&&!le&&re["_"+K+"layer"].selectAll("g.trace").remove()}},9813:function(oe){"use strict";oe.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(oe,J,t){"use strict";var S=t(71828),k=t(61082).tester,l=S.findIndexOfMin,R=S.isAngleInsideSector,I=S.angleDelta,v=S.angleDist;function r(u,g,C,T){var L,x,E=T[0],M=T[1],i=b(Math.sin(g)-Math.sin(u)),D=b(Math.cos(g)-Math.cos(u)),y=Math.tan(C),B=b(1/y),F=i/D,_=M-F*E;return B?i&&D?x=y*(L=_/(y-F)):D?(L=M*B,x=M):(L=E,x=E*y):i&&D?(L=0,x=_):D?(L=0,x=M):L=x=NaN,[L,x]}function f(u,g,C,T){return S.isFullCircle([g,C])?function c(u,g){var L,C=g.length,T=new Array(C+1);for(L=0;L<C;L++){var x=g[L];T[L]=[u*Math.cos(x),u*Math.sin(x)]}return T[L]=T[0].slice(),T}(u,T):function o(u,g,C,T){var E,M,L=T.length,x=[];function i(U){return[u*Math.cos(U),u*Math.sin(U)]}function D(U,G,Y){return r(U,G,Y,i(U))}function y(U){return S.mod(U,L)}function B(U){return R(U,[g,C])}var F=l(T,function(U){return B(U)?v(U,g):1/0}),_=D(T[F],T[y(F-1)],g);for(x.push(_),E=F,M=0;M<L;E++,M++){var z=T[y(E)];if(!B(z))break;x.push(i(z))}var V=l(T,function(U){return B(U)?v(U,C):1/0}),H=D(T[V],T[y(V+1)],C);return x.push(H),x.push([0,0]),x.push(x[0].slice()),x}(u,g,C,T)}function b(u){return Math.abs(u)>1e-10?u:0}function p(u,g,C){g=g||0,C=C||0;for(var T=u.length,L=new Array(T),x=0;x<T;x++){var E=u[x];L[x]=[g+E[0],C-E[1]]}return L}oe.exports={isPtInsidePolygon:function w(u,g,C,T,L){if(!R(g,T))return!1;var x,E;C[0]<C[1]?(x=C[0],E=C[1]):(x=C[1],E=C[0]);var M=k(f(x,T[0],T[1],L)),i=k(f(E,T[0],T[1],L)),D=[u*Math.cos(g),u*Math.sin(g)];return i.contains(D)&&!M.contains(D)},findPolygonOffset:function h(u,g,C,T){for(var L=1/0,x=1/0,E=f(u,g,C,T),M=0;M<E.length;M++){var i=E[M];L=Math.min(L,i[0]),x=Math.min(x,-i[1])}return[L,x]},findEnclosingVertexAngles:function d(u,g){var T=l(g,function(x){var E=I(x,u);return E>0?E:1/0}),L=S.mod(T+1,g.length);return[g[T],g[L]]},findIntersectionXY:r,findXYatLength:function n(u,g,C,T){var L=-g*C,x=g*g+1,E=2*(g*L-C),i=Math.sqrt(E*E-4*x*(L*L+C*C-u*u)),D=(-E+i)/(2*x),y=(-E-i)/(2*x);return[[D,g*D+L+T],[y,g*y+L+T]]},clampTiny:b,pathPolygon:function A(u,g,C,T,L,x){return"M"+p(f(u,g,C,T),L,x).join("L")},pathPolygonAnnulus:function m(u,g,C,T,L,x,E){var M,i;u<g?(M=u,i=g):(M=g,i=u);var D=p(f(M,C,T,L),x,E);return"M"+p(f(i,C,T,L),x,E).reverse().join("L")+"M"+D.join("L")}}},23580:function(oe,J,t){"use strict";var S=t(27659).AU,k=t(71828).counterRegex,l=t(77997),R=t(9813),I=R.attr,v=R.name,w=k(v),r={};r[I]={valType:"subplotid",dflt:v,editType:"calc"},oe.exports={attr:I,name:v,idRoot:v,idRegex:w,attrRegex:w,attributes:r,layoutAttributes:t(73812),supplyLayoutDefaults:t(68993),plot:function n(o){for(var f=o._fullLayout,h=o.calcdata,d=f._subplots[v],b=0;b<d.length;b++){var p=d[b],A=S(h,v,p),m=f[p]._subplot;m||(m=l(o,p),f[p]._subplot=m),m.plot(A,f,o._promises)}},clean:function c(o,f,h,d){for(var b=d._subplots[v]||[],p=d._has&&d._has("gl"),A=f._has&&f._has("gl"),m=p&&!A,u=0;u<b.length;u++){var g=b[u],C=d[g]._subplot;if(!f[g]&&C)for(var T in C.framework.remove(),C.layers["radial-axis-title"].remove(),C.clipPaths)C.clipPaths[T].remove();m&&C._scene&&(C._scene.destroy(),C._scene=null)}},toSVG:t(93612).toSVG}},73812:function(oe,J,t){"use strict";var S=t(22399),k=t(13838),l=t(27670).Y,R=t(71828).extendFlat,I=t(30962).overrideAll,v=I({color:k.color,showline:R({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:R({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),w=I({tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,ticklabelstep:k.ticklabelstep,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickfont:k.tickfont,tickangle:k.tickangle,tickformat:k.tickformat,tickformatstops:k.tickformatstops,layer:k.layer},"plot","from-root"),r={visible:R({},k.visible,{dflt:!0}),type:R({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},autorange:R({},k.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:R({},k.minallowed,{editType:"plot"}),maxallowed:R({},k.maxallowed,{editType:"plot"}),range:R({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:k.categoryorder,categoryarray:k.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:R({},k.title.text,{editType:"plot",dflt:""}),font:R({},k.title.font,{editType:"plot"}),editType:"plot"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}};R(r,v,w);var n={visible:R({},k.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:k.autotypenumbers,categoryorder:k.categoryorder,categoryarray:k.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};R(n,v,w),oe.exports={domain:l({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:S.background},radialaxis:r,angularaxis:n,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(oe,J,t){"use strict";var S=t(71828),k=t(7901),l=t(44467),R=t(49119),I=t(27659).NG,v=t(26218),w=t(38701),r=t(96115),n=t(89426),c=t(15258),o=t(92128),f=t(23074),h=t(4322),d=t(73812),b=t(12101),p=t(9813),A=p.axisNames;function m(g,C,T,L){var x=T("bgcolor");L.bgColor=k.combine(x,L.paper_bgcolor);var E=T("sector");T("hole");var D,M=I(L.fullData,p.name,L.id),i=L.layoutOut;function y(q,fe){return T(D+"."+q,fe)}for(var B=0;B<A.length;B++){S.isPlainObject(g[D=A[B]])||(g[D]={});var F=g[D],_=l.newContainer(C,D);_._id=_._name=D,_._attr=L.id+"."+D,_._traceIndices=M.map(function(q){return q._expandedIndex});var z=p.axisName2dataArray[D],V=u(F,_,y,M,z,L);c(F,_,y,{axData:M,dataAttr:z});var H=y("visible");switch(b(_,C,i),y("uirevision",C.uirevision),_._m=1,D){case"radialaxis":y("minallowed"),y("maxallowed");var ee,U=y("range"),G=_.getAutorangeDflt(U),Y=y("autorange",G);U&&(null===U[0]&&null===U[1]||(null===U[0]||null===U[1])&&("reversed"===Y||!0===Y)||null!==U[0]&&("min"===Y||"max reversed"===Y)||null!==U[1]&&("max"===Y||"min reversed"===Y))&&(U=void 0,delete _.range,_.autorange=!0,ee=!0),ee||(Y=y("autorange",G=_.getAutorangeDflt(U))),F.autorange=Y,Y&&(f(y,Y,U),("linear"===V||"-"===V)&&y("rangemode"),_.isReversed()&&(_._m=-1)),_.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===V){S.log("Polar plots do not support date angular axes yet.");for(var ue=0;ue<M.length;ue++)M[ue].visible=!1;V=F.type=_.type="linear"}y("linear"===V?"thetaunit":"period");var ce=y("direction");y("rotation",{counterclockwise:0,clockwise:90}[ce])}if(n(F,_,y,_.type,{tickSuffixDflt:"degrees"===_.thetaunit?"\xb0":void 0}),H){var pe,te,Q,K,Z=L.font||{};te=(pe=y("color"))===F.color?pe:Z.color,Q=Z.size,K=Z.family,v(F,_,y,_.type),r(F,_,y,_.type,{font:{color:te,size:Q,family:K}}),w(F,_,y,{outerTicks:!0}),o(F,_,y,{dfltColor:pe,bgColor:L.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:d[D]}),y("layer"),"radialaxis"===D&&(y("side"),y("angle",E[0]),y("title.text"),S.coerceFont(y,"title.font",{color:te,size:S.bigFont(Q),family:K}))}"category"!==V&&y("hoverformat"),_._input=F}"category"===C.angularaxis.type&&T("gridshape")}function u(g,C,T,L,x,E){var M=T("autotypenumbers",E.autotypenumbersDflt);if("-"===T("type")){for(var D,y=0;y<L.length;y++)if(L[y].visible){D=L[y];break}D&&D[x]&&(C.type=h(D[x],"gregorian",{noMultiCategory:!0,autotypenumbers:M})),"-"===C.type?C.type="linear":g.type=C.type}return C.type}oe.exports=function(C,T,L){R(C,T,L,{type:p.name,attributes:d,handleDefaults:m,font:T.font,autotypenumbersDflt:T.autotypenumbers,paper_bgcolor:T.paper_bgcolor,fullData:L,layoutOut:T})}},77997:function(oe,J,t){"use strict";var S=t(39898),k=t(84267),l=t(73972),R=t(71828),I=R.strRotate,v=R.strTranslate,w=t(7901),r=t(91424),n=t(74875),c=t(89298),o=t(21994),f=t(12101),h=t(71739).doAutoRange,d=t(29323),b=t(28569),p=t(30211),A=t(92998),m=t(47322).prepSelect,u=t(47322).selectOnClick,g=t(47322).clearOutline,C=t(6964),T=t(33306),L=t(61549).redrawReglTraces,x=t(18783).MID_SHIFT,E=t(9813),M=t(10869),i=t(23893),D=i.smith,y=i.reactanceArc,B=i.resistanceArc,F=i.smithTransform,_=R._,z=R.mod,V=R.deg2rad,H=R.rad2deg;function U(pe,te,Q){this.isSmith=Q||!1,this.id=te,this.gd=pe,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var K=pe._fullLayout;this.clipIds.forTraces="clip"+K._uid+te+"-for-traces",this.clipPaths.forTraces=K._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=K["_"+(Q?"smith":"polar")+"layer"].append("g").attr("class",te),this.getHole=function(q){return this.isSmith?0:q.hole},this.getSector=function(q){return this.isSmith?[0,360]:q.sector},this.getRadial=function(q){return this.isSmith?q.realaxis:q.radialaxis},this.getAngular=function(q){return this.isSmith?q.imaginaryaxis:q.angularaxis},Q||(this.radialTickLayout=null,this.angularTickLayout=null)}var G=U.prototype;function Y(pe){var te=pe.ticks+String(pe.ticklen)+String(pe.showticklabels);return"side"in pe&&(te+=pe.side),te}function ue(pe,te){return te[R.findIndexOfMin(te,function(Z){return R.angleDist(pe,Z)})]}function ce(pe,te,Q){return te?(pe.attr("display",null),pe.attr(Q)):pe&&pe.attr("display","none"),pe}oe.exports=function(te,Q,K){return new U(te,Q,K)},G.plot=function(pe,te){for(var Q=this,K=te[Q.id],Z=!1,q=0;q<pe.length;q++)if(!1===pe[q][0].trace.cliponaxis){Z=!0;break}Q._hasClipOnAxisFalse=Z,Q.updateLayers(te,K),Q.updateLayout(te,K),n.generalUpdatePerTraceModule(Q.gd,Q,pe,K),Q.updateFx(te,K),Q.isSmith&&(delete K.realaxis.range,delete K.imaginaryaxis.range)},G.updateLayers=function(pe,te){var Q=this,K=Q.isSmith,Z=Q.layers,q=Q.getRadial(te),fe=Q.getAngular(te),re=E.layerNames,$=re.indexOf("frontplot"),le=re.slice(0,$),se="below traces"===fe.layer,de="below traces"===q.layer;se&&le.push("angular-line"),de&&le.push("radial-line"),se&&le.push("angular-axis"),de&&le.push("radial-axis"),le.push("frontplot"),se||le.push("angular-line"),de||le.push("radial-line"),se||le.push("angular-axis"),de||le.push("radial-axis");var we=(K?"smith":"polar")+"sublayer",Ee=Q.framework.selectAll("."+we).data(le,String);Ee.enter().append("g").attr("class",function(Me){return we+" "+Me}).each(function(Me){var Ne=Z[Me]=S.select(this);switch(Me){case"frontplot":K||Ne.append("g").classed("barlayer",!0),Ne.append("g").classed("scatterlayer",!0);break;case"backplot":Ne.append("g").classed("maplayer",!0);break;case"plotbg":Z.bg=Ne.append("path");break;case"radial-grid":case"angular-grid":Ne.style("fill","none");break;case"radial-line":Ne.append("line").style("fill","none");break;case"angular-line":Ne.append("path").style("fill","none")}}),Ee.order()},G.updateLayout=function(pe,te){var Q=this,K=Q.layers,Z=pe._size,q=Q.getRadial(te),fe=Q.getAngular(te),re=te.domain.x,$=te.domain.y;Q.xOffset=Z.l+Z.w*re[0],Q.yOffset=Z.t+Z.h*(1-$[1]);var le=Q.xLength=Z.w*(re[1]-re[0]),se=Q.yLength=Z.h*($[1]-$[0]),de=Q.getSector(te);Q.sectorInRad=de.map(V);var Pe,Ce,Ie,Je,Qe,we=Q.sectorBBox=function ee(pe){var Ee,te=pe[0],K=pe[1]-te,Z=z(te,360),q=Z+K,fe=Math.cos(V(Z)),re=Math.sin(V(Z)),$=Math.cos(V(q)),le=Math.sin(V(q));return Ee=Z<=90&&q>=90||Z>90&&q>=450?1:re<=0&&le<=0?0:Math.max(re,le),[Z<=180&&q>=180||Z>180&&q>=540?-1:fe>=0&&$>=0?0:Math.min(fe,$),Z<=270&&q>=270||Z>270&&q>=630?-1:re>=0&&le>=0?0:Math.min(re,le),q>=360?1:fe<=0&&$<=0?0:Math.max(fe,$),Ee]}(de),Ee=we[2]-we[0],Ne=se/le,Ve=Math.abs((we[3]-we[1])/Ee);Ne>Ve?(Pe=le,Ie=[re[0],re[1]],Je=[$[0]+(Qe=(se-(Ce=le*Ve))/Z.h/2),$[1]-Qe]):(Ce=se,Ie=[re[0]+(Qe=(le-(Pe=se/Ve))/Z.w/2),re[1]-Qe],Je=[$[0],$[1]]),Q.xLength2=Pe,Q.yLength2=Ce,Q.xDomain2=Ie,Q.yDomain2=Je;var St,ze=Q.xOffset2=Z.l+Z.w*Ie[0],Ke=Q.yOffset2=Z.t+Z.h*(1-Je[1]),ut=Q.radius=Pe/Ee,ot=Q.innerRadius=Q.getHole(te)*ut,We=Q.cx=ze-ut*we[0],je=Q.cy=Ke+ut*we[3],lt=Q.cxx=We-ze,vt=Q.cyy=je-Ke,pt=q.side;"counterclockwise"===pt?(St=pt,pt="top"):"clockwise"===pt&&(St=pt,pt="bottom"),Q.radialAxis=Q.mockAxis(pe,te,q,{_id:"x",side:pt,_trueSide:St,domain:[ot/Z.w,ut/Z.w]}),Q.angularAxis=Q.mockAxis(pe,te,fe,{side:"right",domain:[0,Math.PI],autorange:!1}),Q.doAutoRange(pe,te),Q.updateAngularAxis(pe,te),Q.updateRadialAxis(pe,te),Q.updateRadialAxisTitle(pe,te),Q.xaxis=Q.mockCartesianAxis(pe,te,{_id:"x",domain:Ie}),Q.yaxis=Q.mockCartesianAxis(pe,te,{_id:"y",domain:Je});var Ct=Q.pathSubplot();Q.clipPaths.forTraces.select("path").attr("d",Ct).attr("transform",v(lt,vt)),K.frontplot.attr("transform",v(ze,Ke)).call(r.setClipUrl,Q._hasClipOnAxisFalse?null:Q.clipIds.forTraces,Q.gd),K.bg.attr("d",Ct).attr("transform",v(We,je)).call(w.fill,te.bgcolor)},G.mockAxis=function(pe,te,Q,K){var Z=R.extendFlat({},Q,K);return f(Z,te,pe),Z},G.mockCartesianAxis=function(pe,te,Q){var K=this,Z=K.isSmith,q=Q._id,fe=R.extendFlat({type:"linear"},Q);o(fe,pe);var re={x:[0,2],y:[1,3]};return fe.setRange=function(){var $=K.sectorBBox,le=re[q],se=K.radialAxis._rl,de=(se[1]-se[0])/(1-K.getHole(te));fe.range=[$[le[0]]*de,$[le[1]]*de]},fe.isPtWithinRange="x"!==q||Z?function(){return!0}:function($){return K.isPtInside($)},fe.setRange(),fe.setScale(),fe},G.doAutoRange=function(pe,te){var Q=this,K=Q.gd,Z=Q.radialAxis,q=Q.getRadial(te);h(K,Z);var fe=Z.range;q.range=fe.slice(),q._input.range=fe.slice(),Z._rl=[Z.r2l(fe[0],null,"gregorian"),Z.r2l(fe[1],null,"gregorian")]},G.updateRadialAxis=function(pe,te){var Q=this,K=Q.gd,Z=Q.layers,q=Q.radius,fe=Q.innerRadius,re=Q.cx,$=Q.cy,le=Q.getRadial(te),se=z(Q.getSector(te)[0],360),de=Q.radialAxis,we=fe<q,Ee=Q.isSmith;Ee||(Q.fillViewInitialKey("radialaxis.angle",le.angle),Q.fillViewInitialKey("radialaxis.range",de.range.slice()),de.setGeometry()),"auto"===de.tickangle&&se>90&&se<=270&&(de.tickangle=180);var Me=Ee?function(ut){var ot=F(Q,D([ut.x,0]));return v(ot[0]-re,ot[1]-$)}:function(ut){return v(de.l2p(ut.x)+fe,0)},Ne=Ee?function(ut){return B(Q,ut.x,-1/0,1/0)}:function(ut){return Q.pathArc(de.r2p(ut.x)+fe)},Ve=Y(le);if(Q.radialTickLayout!==Ve&&(Z["radial-axis"].selectAll(".xtick").remove(),Q.radialTickLayout=Ve),we){de.setScale();var Pe=0,Ce=Ee?(de.tickvals||[]).filter(function(ut){return ut>=0}).map(function(ut){return c.tickText(de,ut,!0,!1)}):c.calcTicks(de),Ie=Ee?Ce:c.clipEnds(de,Ce),Je=c.getTickSigns(de)[2];Ee&&(("top"===de.ticks&&"bottom"===de.side||"bottom"===de.ticks&&"top"===de.side)&&(Je=-Je),"top"===de.ticks&&"top"===de.side&&(Pe=-de.ticklen),"bottom"===de.ticks&&"bottom"===de.side&&(Pe=de.ticklen)),c.drawTicks(K,de,{vals:Ce,layer:Z["radial-axis"],path:c.makeTickPath(de,0,Je),transFn:Me,crisp:!1}),c.drawGrid(K,de,{vals:Ie,layer:Z["radial-grid"],path:Ne,transFn:R.noop,crisp:!1}),c.drawLabels(K,de,{vals:Ce,layer:Z["radial-axis"],transFn:Me,labelFns:c.makeLabelFns(de,Pe)})}var Qe=Q.radialAxisAngle=Q.vangles?H(ue(V(le.angle),Q.vangles)):le.angle,ze=v(re,$),Ke=ze+I(-Qe);ce(Z["radial-axis"],we&&(le.showticklabels||le.ticks),{transform:Ke}),ce(Z["radial-grid"],we&&le.showgrid,{transform:Ee?"":ze}),ce(Z["radial-line"].select("line"),we&&le.showline,{x1:Ee?-q:fe,y1:0,x2:q,y2:0,transform:Ke}).attr("stroke-width",le.linewidth).call(w.stroke,le.linecolor)},G.updateRadialAxisTitle=function(pe,te,Q){if(!this.isSmith){var K=this,Z=K.gd,q=K.radius,fe=K.cx,re=K.cy,$=K.getRadial(te),le=K.id+"title",se=0;if($.title){var de=r.bBox(K.layers["radial-axis"].node()).height,we=$.title.font.size,Ee=$.side;se="top"===Ee?we:"counterclockwise"===Ee?-(de+.4*we):de+.8*we}var Me=void 0!==Q?Q:K.radialAxisAngle,Ne=V(Me),Ve=Math.cos(Ne),Pe=Math.sin(Ne),Ce=fe+q/2*Ve+se*Pe,Ie=re-q/2*Pe+se*Ve;K.layers["radial-axis-title"]=A.draw(Z,le,{propContainer:$,propName:K.id+".radialaxis.title",placeholder:_(Z,"Click to enter radial axis title"),attributes:{x:Ce,y:Ie,"text-anchor":"middle"},transform:{rotate:-Me}})}},G.updateAngularAxis=function(pe,te){var Q=this,K=Q.gd,Z=Q.layers,q=Q.radius,fe=Q.innerRadius,re=Q.cx,$=Q.cy,le=Q.getAngular(te),se=Q.angularAxis,de=Q.isSmith;de||(Q.fillViewInitialKey("angularaxis.rotation",le.rotation),se.setGeometry(),se.setScale());var we=de?function(ot){var We=F(Q,D([0,ot.x]));return Math.atan2(We[0]-re,We[1]-$)-Math.PI/2}:function(ot){return se.t2g(ot.x)};"linear"===se.type&&"radians"===se.thetaunit&&(se.tick0=H(se.tick0),se.dtick=H(se.dtick));var Ee=function(ot){return v(re+q*Math.cos(ot),$-q*Math.sin(ot))},Me=de?function(ot){var We=F(Q,D([0,ot.x]));return v(We[0],We[1])}:function(ot){return Ee(we(ot))},Ne=de?function(ot){var We=F(Q,D([0,ot.x])),je=Math.atan2(We[0]-re,We[1]-$)-Math.PI/2;return v(We[0],We[1])+I(-H(je))}:function(ot){var We=we(ot);return Ee(We)+I(-H(We))},Ve=de?function(ot){return y(Q,ot.x,0,1/0)}:function(ot){var We=we(ot),je=Math.cos(We),lt=Math.sin(We);return"M"+[re+fe*je,$-fe*lt]+"L"+[re+q*je,$-q*lt]},Ce=c.makeLabelFns(se,0).labelStandoff,Ie={xFn:function(ot){var We=we(ot);return Math.cos(We)*Ce},yFn:function(ot){var We=we(ot),je=Math.sin(We)>0?.2:1;return-Math.sin(We)*(Ce+ot.fontSize*je)+Math.abs(Math.cos(We))*(ot.fontSize*x)},anchorFn:function(ot){var We=we(ot),je=Math.cos(We);return Math.abs(je)<.1?"middle":je>0?"start":"end"},heightFn:function(ot,We,je){var lt=we(ot);return-.5*(1+Math.sin(lt))*je}},Je=Y(le);Q.angularTickLayout!==Je&&(Z["angular-axis"].selectAll("."+se._id+"tick").remove(),Q.angularTickLayout=Je);var ze,Qe=de?[1/0].concat(se.tickvals||[]).map(function(ot){return c.tickText(se,ot,!0,!1)}):c.calcTicks(se);if(de&&(Qe[0].text="\u221e",Qe[0].fontSize*=1.75),"linear"===te.gridshape?(ze=Qe.map(we),R.angleDelta(ze[0],ze[1])<0&&(ze=ze.slice().reverse())):ze=null,Q.vangles=ze,"category"===se.type&&(Qe=Qe.filter(function(ot){return R.isAngleInsideSector(we(ot),Q.sectorInRad)})),se.visible){var Ke="inside"===se.ticks?-1:1;c.drawTicks(K,se,{vals:Qe,layer:Z["angular-axis"],path:"M"+Ke*((se.linewidth||1)/2)+",0h"+Ke*se.ticklen,transFn:Ne,crisp:!1}),c.drawGrid(K,se,{vals:Qe,layer:Z["angular-grid"],path:Ve,transFn:R.noop,crisp:!1}),c.drawLabels(K,se,{vals:Qe,layer:Z["angular-axis"],repositionOnUpdate:!0,transFn:Me,labelFns:Ie})}ce(Z["angular-line"].select("path"),le.showline,{d:Q.pathSubplot(),transform:v(re,$)}).attr("stroke-width",le.linewidth).call(w.stroke,le.linecolor)},G.updateFx=function(pe,te){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(pe),this.updateRadialDrag(pe,te,0),this.updateRadialDrag(pe,te,1)),this.updateHoverAndMainDrag(pe))},G.updateHoverAndMainDrag=function(pe){var ze,Ke,te=this,Q=te.isSmith,K=te.gd,q=pe._zoomlayer,fe=E.MINZOOM,re=E.OFFEDGE,$=te.radius,le=te.innerRadius,se=te.cx,de=te.cy,we=te.cxx,Ee=te.cyy,Me=te.sectorInRad,Ne=te.vangles,Ve=te.radialAxis,Pe=M.clampTiny,Ce=M.findXYatLength,Ie=M.findEnclosingVertexAngles,Je=E.cornerHalfWidth,Qe=E.cornerLen/2,ut=d.makeDragger(te.layers,"path","maindrag",!1===pe.dragmode?"none":"crosshair");S.select(ut).attr("d",te.pathSubplot()).attr("transform",v(se,de)),ut.onmousemove=function(Lt){p.hover(K,Lt,te.id),K._fullLayout._lasthover=ut,K._fullLayout._hoversubplot=te.id},ut.onmouseout=function(Lt){K._dragging||b.unhover(K,Lt)};var We,je,lt,vt,pt,St,Ct,_t,nt,ot={element:ut,gd:K,subplot:te.id,plotinfo:{id:te.id,xaxis:te.xaxis,yaxis:te.yaxis},xaxes:[te.xaxis],yaxes:[te.yaxis]};function ke(Lt,Ut){return Math.sqrt(Lt*Lt+Ut*Ut)}function Re(Lt,Ut){return ke(Lt-we,Ut-Ee)}function Be(Lt,Ut){return Math.atan2(Ee-Ut,Lt-we)}function He(Lt,Ut){return[Lt*Math.cos(Ut),Lt*Math.sin(-Ut)]}function Ye(Lt,Ut){if(0===Lt)return te.pathSector(2*Je);var Qt=Qe/Lt,Cr=Ut-Qt,wt=Ut+Qt,$t=Math.max(0,Math.min(Lt,$)),rr=$t-Je,Lr=$t+Je;return"M"+He(rr,Cr)+"A"+[rr,rr]+" 0,0,0 "+He(rr,wt)+"L"+He(Lr,wt)+"A"+[Lr,Lr]+" 0,0,1 "+He(Lr,Cr)+"Z"}function Ue(Lt,Ut,Qt){if(0===Lt)return te.pathSector(2*Je);var Lr,mr,Cr=He(Lt,Ut),wt=He(Lt,Qt),$t=Pe((Cr[0]+wt[0])/2),rr=Pe((Cr[1]+wt[1])/2);if($t&&rr){var bt=rr/$t,ct=-1/bt,At=Ce(Je,bt,$t,rr);Lr=Ce(Qe,ct,At[0][0],At[0][1]),mr=Ce(Qe,ct,At[1][0],At[1][1])}else{var It,Ft;rr?(It=Qe,Ft=Je):(It=Je,Ft=Qe),Lr=[[$t-It,rr-Ft],[$t+It,rr-Ft]],mr=[[$t-It,rr+Ft],[$t+It,rr+Ft]]}return"M"+Lr.join("L")+"L"+mr.reverse().join("L")+"Z"}function ge(Lt,Ut){return Ut=Math.max(Math.min(Ut,$),le),Lt<re?Lt=0:$-Lt<re?Lt=$:Ut<re?Ut=0:$-Ut<re&&(Ut=$),Math.abs(Ut-Lt)>fe?(Lt<Ut?(lt=Lt,vt=Ut):(lt=Ut,vt=Lt),!0):(lt=null,vt=null,!1)}function Te(Lt,Ut){Ut=Ut||"M0,0Z",_t.attr("d",Lt=Lt||pt),nt.attr("d",Ut),d.transitionZoombox(_t,nt,St,Ct),St=!0;var Qt={};Kt(Qt),K.emit("plotly_relayouting",Qt)}function _e(Lt,Ut){var Lr,mr,Qt=We+(Lt*=ze),Cr=je+(Ut*=Ke),wt=Re(We,je),$t=Math.min(Re(Qt,Cr),$),rr=Be(We,je);ge(wt,$t)&&(Lr=pt+te.pathSector(vt),lt&&(Lr+=te.pathSector(lt)),mr=Ye(lt,rr)+Ye(vt,rr)),Te(Lr,mr)}function et(Lt,Ut,Qt,Cr){var wt=M.findIntersectionXY(Qt,Cr,Qt,[Lt-we,Ee-Ut]);return ke(wt[0],wt[1])}function ft(Lt,Ut){var ct,At,Qt=We+Lt,Cr=je+Ut,wt=Be(We,je),$t=Be(Qt,Cr),rr=Ie(wt,Ne),Lr=Ie($t,Ne);ge(et(We,je,rr[0],rr[1]),Math.min(et(Qt,Cr,Lr[0],Lr[1]),$))&&(ct=pt+te.pathSector(vt),lt&&(ct+=te.pathSector(lt)),At=[Ue(lt,rr[0],rr[1]),Ue(vt,rr[0],rr[1])].join(" ")),Te(ct,At)}function gt(){if(d.removeZoombox(K),null!==lt&&null!==vt){var Lt={};Kt(Lt),d.showDoubleClickNotifier(K),l.call("_guiRelayout",K,Lt)}}function Kt(Lt){var Ut=Ve._rl,Qt=(Ut[1]-Ut[0])/(1-le/$)/$;Lt[te.id+".radialaxis.range"]=[Ut[0]+(lt-le)*Qt,Ut[0]+(vt-le)*Qt]}function ir(Lt,Ut){var Qt=K._fullLayout.clickmode;if(d.removeZoombox(K),2===Lt){var Cr={};for(var wt in te.viewInitial)Cr[te.id+"."+wt]=te.viewInitial[wt];K.emit("plotly_doubleclick",null),l.call("_guiRelayout",K,Cr)}Qt.indexOf("select")>-1&&1===Lt&&u(Ut,K,[te.xaxis],[te.yaxis],te.id,ot),Qt.indexOf("event")>-1&&p.click(K,Ut,te.id)}ot.prepFn=function(Lt,Ut,Qt){var Cr=K._fullLayout.dragmode,wt=ut.getBoundingClientRect();K._fullLayout._calcInverseTransform(K),ze=K._fullLayout._invScaleX,Ke=K._fullLayout._invScaleY;var rr=R.apply3DTransform(K._fullLayout._invTransform)(Ut-wt.left,Qt-wt.top);if(We=rr[0],je=rr[1],Ne){var Lr=M.findPolygonOffset($,Me[0],Me[1],Ne);We+=we+Lr[0],je+=Ee+Lr[1]}switch(Cr){case"zoom":ot.clickFn=ir,Q||(ot.moveFn=Ne?ft:_e,ot.doneFn=gt,function De(){lt=null,vt=null,pt=te.pathSubplot(),St=!1,Ct=k(K._fullLayout[te.id].bgcolor).getLuminance(),(_t=d.makeZoombox(q,Ct,se,de,pt)).attr("fill-rule","evenodd"),nt=d.makeCorners(q,se,de),g(K)}());break;case"select":case"lasso":m(Lt,Ut,Qt,ot,Cr)}},b.init(ot)},G.updateRadialDrag=function(pe,te,Q){var K=this,Z=K.gd,q=K.layers,fe=K.radius,re=K.innerRadius,$=K.cx,le=K.cy,se=K.radialAxis,de=E.radialDragBoxSize,we=de/2;if(se.visible){var Ie,Je,Qe,Ee=V(K.radialAxisAngle),Me=se._rl,Ne=Me[0],Ve=Me[1],Pe=Me[Q],Ce=.75*(Me[1]-Me[0])/(1-K.getHole(te))/fe;Q?(Ie=$+(fe+we)*Math.cos(Ee),Je=le-(fe+we)*Math.sin(Ee),Qe="radialdrag"):(Ie=$+(re-we)*Math.cos(Ee),Je=le-(re-we)*Math.sin(Ee),Qe="radialdrag-inner");var ut,ot,We,ze=d.makeRectDragger(q,Qe,"crosshair",-we,-we,de,de),Ke={element:ze,gd:Z};!1===pe.dragmode&&(Ke.dragmode=!1),ce(S.select(ze),se.visible&&re<fe,{transform:v(Ie,Je)}),Ke.prepFn=function(){ut=null,ot=null,We=null,Ke.moveFn=je,Ke.doneFn=vt,g(Z)},Ke.clampFn=function(Ct,_t){return Math.sqrt(Ct*Ct+_t*_t)<E.MINDRAG&&(Ct=0,_t=0),[Ct,_t]},b.init(Ke)}function je(Ct,_t){if(ut)ut(Ct,_t);else{var nt=[Ct,-_t],ke=[Math.cos(Ee),Math.sin(Ee)],Re=Math.abs(R.dot(nt,ke)/Math.sqrt(R.dot(nt,nt)));isNaN(Re)||(ut=Re<.5?pt:St)}var Be={};(function lt(Ct){null!==ot?Ct[K.id+".radialaxis.angle"]=ot:null!==We&&(Ct[K.id+".radialaxis.range["+Q+"]"]=We)})(Be),Z.emit("plotly_relayouting",Be)}function vt(){null!==ot?l.call("_guiRelayout",Z,K.id+".radialaxis.angle",ot):null!==We&&l.call("_guiRelayout",Z,K.id+".radialaxis.range["+Q+"]",We)}function pt(Ct,_t){if(0!==Q){ot=Math.atan2(le-(Je+_t),Ie+Ct-$),K.vangles&&(ot=ue(ot,K.vangles)),ot=H(ot);var Re=v($,le)+I(-ot);q["radial-axis"].attr("transform",Re),q["radial-line"].select("line").attr("transform",Re);var Be=K.gd._fullLayout;K.updateRadialAxisTitle(Be,Be[K.id],ot)}}function St(Ct,_t){var nt=R.dot([Ct,-_t],[Math.cos(Ee),Math.sin(Ee)]);if(We=Pe-Ce*nt,Ce>0==(Q?We>Ne:We<Ve)){var ke=Z._fullLayout,Re=ke[K.id];se.range[Q]=We,se._rl[Q]=We,K.updateRadialAxis(ke,Re),K.xaxis.setRange(),K.xaxis.setScale(),K.yaxis.setRange(),K.yaxis.setScale();var Be=!1;for(var He in K.traceHash){var Ye=K.traceHash[He],Ue=R.filterVisible(Ye);Ye[0][0].trace._module.plot(Z,K,Ue,Re),l.traceIs(He,"gl")&&Ue.length&&(Be=!0)}Be&&(T(Z),L(Z))}else We=null}},G.updateAngularDrag=function(pe){var te=this,Q=te.gd,K=te.layers,Z=te.radius,q=te.angularAxis,fe=te.cx,re=te.cy,$=te.cxx,le=te.cyy,se=E.angularDragBoxSize,de=d.makeDragger(K,"path","angulardrag",!1===pe.dragmode?"none":"move"),we={element:de,gd:Q};function Ee(We,je){return Math.atan2(le+se-je,We-$-se)}!1===pe.dragmode?we.dragmode=!1:S.select(de).attr("d",te.pathAnnulus(Z,Z+se)).attr("transform",v(fe,re)).call(C,"move");var Pe,Ce,Ie,Je,Qe,ze,Me=K.frontplot.select(".scatterlayer").selectAll(".trace"),Ne=Me.selectAll(".point"),Ve=Me.selectAll(".textpoint");function Ke(We,je){var lt=te.gd._fullLayout,vt=lt[te.id],Ct=Ee(Pe+We*pe._invScaleX,Ce+je*pe._invScaleY),_t=H(Ct-ze);if(Je=Ie+_t,K.frontplot.attr("transform",v(te.xOffset2,te.yOffset2)+I([-_t,$,le])),te.vangles){Qe=te.radialAxisAngle+_t;var nt=v(fe,re)+I(-_t),ke=v(fe,re)+I(-Qe);K.bg.attr("transform",nt),K["radial-grid"].attr("transform",nt),K["radial-axis"].attr("transform",ke),K["radial-line"].select("line").attr("transform",ke),te.updateRadialAxisTitle(lt,vt,Qe)}else te.clipPaths.forTraces.select("path").attr("transform",v($,le)+I(_t));Ne.each(function(){var ge=S.select(this),Te=r.getTranslate(ge);ge.attr("transform",v(Te.x,Te.y)+I([_t]))}),Ve.each(function(){var ge=S.select(this),Te=ge.select("text"),_e=r.getTranslate(ge);ge.attr("transform",I([_t,Te.attr("x"),Te.attr("y")])+v(_e.x,_e.y))}),q.rotation=R.modHalf(Je,360),te.updateAngularAxis(lt,vt),te._hasClipOnAxisFalse&&!R.isFullCircle(te.sectorInRad)&&Me.call(r.hideOutsideRangePoints,te);var Re=!1;for(var Be in te.traceHash)if(l.traceIs(Be,"gl")){var He=te.traceHash[Be],Ye=R.filterVisible(He);He[0][0].trace._module.plot(Q,te,Ye,vt),Ye.length&&(Re=!0)}Re&&(T(Q),L(Q));var De={};ut(De),Q.emit("plotly_relayouting",De)}function ut(We){We[te.id+".angularaxis.rotation"]=Je,te.vangles&&(We[te.id+".radialaxis.angle"]=Qe)}function ot(){Ve.select("text").attr("transform",null);var We={};ut(We),l.call("_guiRelayout",Q,We)}we.prepFn=function(We,je,lt){Ie=pe[te.id].angularaxis.rotation;var pt=de.getBoundingClientRect();Pe=je-pt.left,Ce=lt-pt.top,Q._fullLayout._calcInverseTransform(Q);var St=R.apply3DTransform(pe._invTransform)(Pe,Ce);ze=Ee(Pe=St[0],Ce=St[1]),we.moveFn=Ke,we.doneFn=ot,g(Q)},te.vangles&&!R.isFullCircle(te.sectorInRad)&&(we.prepFn=R.noop,C(S.select(de),null)),b.init(we)},G.isPtInside=function(pe){if(this.isSmith)return!0;var te=this.sectorInRad,Q=this.vangles,K=this.angularAxis.c2g(pe.theta),Z=this.radialAxis,q=Z.c2l(pe.r);return(Q?M.isPtInsidePolygon:R.isPtInsideSector)(q,K,Z._rl,te,Q)},G.pathArc=function(pe){var te=this.sectorInRad,Q=this.vangles;return(Q?M.pathPolygon:R.pathArc)(pe,te[0],te[1],Q)},G.pathSector=function(pe){var te=this.sectorInRad,Q=this.vangles;return(Q?M.pathPolygon:R.pathSector)(pe,te[0],te[1],Q)},G.pathAnnulus=function(pe,te){var Q=this.sectorInRad,K=this.vangles;return(K?M.pathPolygonAnnulus:R.pathAnnulus)(pe,te,Q[0],Q[1],K)},G.pathSubplot=function(){var pe=this.innerRadius,te=this.radius;return pe?this.pathAnnulus(pe,te):this.pathSector(te)},G.fillViewInitialKey=function(pe,te){pe in this.viewInitial||(this.viewInitial[pe]=te)}},12101:function(oe,J,t){"use strict";var S=t(71828),k=t(21994),l=S.deg2rad,R=S.rad2deg;function r(n,c){var o=n.type;if("linear"===o){var f=n.d2c,h=n.c2d;n.d2c=function(d,b){return function v(n,c){return"degrees"===c?l(n):n}(f(d),b)},n.c2d=function(d,b){return h(function w(n,c){return"degrees"===c?R(n):n}(d,b))}}n.makeCalcdata=function(d,b){var m,u,p=d[b],A=d._length,g=function(E){return n.d2c(E,d.thetaunit)};if(p){if(S.isTypedArray(p)&&"linear"===o){if(A===p.length)return p;if(p.subarray)return p.subarray(0,A)}for(m=new Array(A),u=0;u<A;u++)m[u]=g(p[u])}else{var C=b+"0",T="d"+b,L=C in d?g(d[C]):0,x=d[T]?g(d[T]):(n.period||2*Math.PI)/A;for(m=new Array(A),u=0;u<A;u++)m[u]=L+u*x}return m},n.setGeometry=function(){var g,C,T,L,d=c.sector,b=d.map(l),p={clockwise:-1,counterclockwise:1}[n.direction],A=l(n.rotation),m=function(M){return p*M+A},u=function(M){return(M-A)/p};switch(o){case"linear":C=g=S.identity,L=l,T=R,n.range=S.isFullCircle(b)?[d[0],d[0]+360]:b.map(u).map(R);break;case"category":var x=n._categories.length,E=n.period?Math.max(n.period,x):x;0===E&&(E=1),C=L=function(M){return 2*M*Math.PI/E},g=T=function(M){return M*E/Math.PI/2},n.range=[0,E]}n.c2g=function(M){return m(C(M))},n.g2c=function(M){return g(u(M))},n.t2g=function(M){return m(L(M))},n.g2t=function(M){return T(u(M))}}}oe.exports=function(c,o,f){switch(k(c,f),c._id){case"x":case"radialaxis":!function I(n,c){var o=c._subplot;n.setGeometry=function(){var f=n._rl[0],h=n._rl[1],d=o.innerRadius,b=(o.radius-d)/(h-f),p=d/b,A=f>h?function(m){return m<=0}:function(m){return m>=0};n.c2g=function(m){var u=n.c2l(m)-f;return(A(u)?u:0)+p},n.g2c=function(m){return n.l2c(m+f-p)},n.g2p=function(m){return m*b},n.c2p=function(m){return n.g2p(n.c2g(m))}}}(c,o);break;case"angularaxis":r(c,o)}}},39779:function(oe){"use strict";oe.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(oe){"use strict";function J(I){return I<0?-1:I>0?1:0}function t(I){var v=I[0],w=I[1];if(!isFinite(v)||!isFinite(w))return[1,0];var r=(v+1)*(v+1)+w*w;return[(v*v+w*w-1)/r,2*w/r]}function S(I,v){return[v[0]*I.radius+I.cx,-v[1]*I.radius+I.cy]}function k(I,v){return v*I.radius}oe.exports={smith:t,reactanceArc:function l(I,v,w,r){var n=S(I,t([w,v])),c=n[0],o=n[1],f=S(I,t([r,v])),h=f[0],d=f[1];if(0===v)return["M"+c+","+o,"L"+h+","+d].join(" ");var b=k(I,1/Math.abs(v));return["M"+c+","+o,"A"+b+","+b+" 0 0,"+(v<0?1:0)+" "+h+","+d].join(" ")},resistanceArc:function R(I,v,w,r){var n=k(I,1/(v+1)),c=S(I,t([v,w])),o=c[0],f=c[1],h=S(I,t([v,r])),d=h[0],b=h[1];if(J(w)!==J(r)){var p=S(I,t([v,0]));return["M"+o+","+f,"A"+n+","+n+" 0 0,"+(0<w?0:1)+" "+p[0]+","+p[1],"A"+n+","+n+" 0 0,"+(r<0?0:1)+d+","+b].join(" ")}return["M"+o+","+f,"A"+n+","+n+" 0 0,"+(r<w?0:1)+" "+d+","+b].join(" ")},smithTransform:S}},7504:function(oe,J,t){"use strict";var S=t(27659).AU,k=t(71828).counterRegex,l=t(77997),R=t(39779),I=R.attr,v=R.name,w=k(v),r={};r[I]={valType:"subplotid",dflt:v,editType:"calc"},oe.exports={attr:I,name:v,idRoot:v,idRegex:w,attrRegex:w,attributes:r,layoutAttributes:t(33419),supplyLayoutDefaults:t(9558),plot:function n(o){for(var f=o._fullLayout,h=o.calcdata,d=f._subplots[v],b=0;b<d.length;b++){var p=d[b],A=S(h,v,p),m=f[p]._subplot;m||(m=l(o,p,!0),f[p]._subplot=m),m.plot(A,f,o._promises)}},clean:function c(o,f,h,d){for(var b=d._subplots[v]||[],p=0;p<b.length;p++){var A=b[p],m=d[A]._subplot;if(!f[A]&&m)for(var u in m.framework.remove(),m.clipPaths)m.clipPaths[u].remove()}},toSVG:t(93612).toSVG}},33419:function(oe,J,t){"use strict";var S=t(22399),k=t(13838),l=t(27670).Y,R=t(71828).extendFlat,I=t(30962).overrideAll,v=I({color:k.color,showline:R({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:R({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),w=I({ticklen:k.ticklen,tickwidth:R({},k.tickwidth,{dflt:2}),tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,tickfont:k.tickfont,tickformat:k.tickformat,hoverformat:k.hoverformat,layer:k.layer},"plot","from-root"),r=R({visible:R({},k.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:R({},k.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,w),n=R({visible:R({},k.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:k.ticks,editType:"calc"},v,w);oe.exports={domain:l({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:S.background},realaxis:r,imaginaryaxis:n,editType:"calc"}},9558:function(oe,J,t){"use strict";var S=t(71828),k=t(7901),l=t(44467),R=t(49119),I=t(27659).NG,v=t(89426),w=t(96115),r=t(92128),n=t(21994),c=t(33419),o=t(39779),f=o.axisNames,h=function b(p,A){var m={};return function(u){var g=A?A(u):u;if(g in m)return m[g];var C=p(u);return m[g]=C,C}}(function(p){return p.slice().reverse().map(function(A){return-A}).concat([0]).concat(p)},String);function d(p,A,m,u){var g=m("bgcolor");u.bgColor=k.combine(g,u.paper_bgcolor);var L,C=I(u.fullData,o.name,u.id),T=u.layoutOut;function x(G,Y){return m(L+"."+G,Y)}for(var E=0;E<f.length;E++){S.isPlainObject(p[L=f[E]])||(p[L]={});var M=p[L],i=l.newContainer(A,L);i._id=i._name=L,i._attr=u.id+"."+L,i._traceIndices=C.map(function(G){return G._expandedIndex});var D=x("visible");if(i.type="linear",n(i,T),v(M,i,x,i.type),D){var y="realaxis"===L;y&&x("side"),y?x("tickvals"):x("tickvals",h(A.realaxis.tickvals||c.realaxis.tickvals.dflt));var F,_,z,V,H=u.font||{};D&&(_=(F=x("color"))===M.color?F:H.color,z=H.size,V=H.family),w(M,i,x,i.type,{noTicklabelstep:!0,noAng:!y,noExp:!0,font:{color:_,size:z,family:V}}),S.coerce2(p,A,c,L+".ticklen"),S.coerce2(p,A,c,L+".tickwidth"),S.coerce2(p,A,c,L+".tickcolor",A.color),x("ticks")||(delete A[L].ticklen,delete A[L].tickwidth,delete A[L].tickcolor),r(M,i,x,{dfltColor:F,bgColor:u.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c[L]}),x("layer")}x("hoverformat"),delete i.type,i._input=M}}oe.exports=function(A,m,u){R(A,m,u,{noUirevision:!0,type:o.name,attributes:c,handleDefaults:d,font:m.font,paper_bgcolor:m.paper_bgcolor,fullData:u,layoutOut:m})}},49119:function(oe,J,t){"use strict";var S=t(71828),k=t(44467),l=t(27670).c;oe.exports=function(I,v,w,r){var p,A,c=r.attributes,o=r.handleDefaults,f=r.partition||"x",h=v._subplots[r.type],d=h.length,b=d&&h[0].replace(/\d+$/,"");function m(T,L){return S.coerce(p,A,c,T,L)}for(var u=0;u<d;u++){var g=h[u];p=I[g]?I[g]:I[g]={},A=k.newContainer(v,g,b),r.noUirevision||m("uirevision",v.uirevision);var C={};C[f]=[u/d,(u+1)/d],l(A,v,m,C),r.id=g,o(p,A,m,r)}}},5386:function(oe,J,t){"use strict";function v(w){var r=w.description?" "+w.description:"",n=w.keys||[];if(n.length>0){for(var c=[],o=0;o<n.length;o++)c[o]="`"+n[o]+"`";r+="Finally, the template string has access to ",r=1===n.length?r+"variable "+c[0]:r+"variables "+c.slice(0,-1).join(", ")+" and "+c.slice(-1)+"."}return r}t(31562),J.fF=function(w,r){w=w||{},v(r=r||{});var c={valType:"string",dflt:"",editType:w.editType||"none"};return!1!==w.arrayOk&&(c.arrayOk=!0),c},J.si=function(w,r){w=w||{},v(r=r||{});var c={valType:"string",dflt:"",editType:w.editType||"calc"};return!1!==w.arrayOk&&(c.arrayOk=!0),c},J.R=function(w,r){return w=w||{},v(r=r||{}),{valType:"string",dflt:"",editType:w.editType||"arraydraw"}}},61639:function(oe,J,t){"use strict";var S=t(64380),k=t(27659).AU,l=t(71828).counterRegex,R="ternary";J.name=R;var I=J.attr="subplot";J.idRoot=R,J.idRegex=J.attrRegex=l(R),(J.attributes={})[I]={valType:"subplotid",dflt:"ternary",editType:"calc"},J.layoutAttributes=t(81367),J.supplyLayoutDefaults=t(25369),J.plot=function(r){for(var n=r._fullLayout,c=r.calcdata,o=n._subplots[R],f=0;f<o.length;f++){var h=o[f],d=k(c,R,h),b=n[h]._subplot;b||(b=new S({id:h,graphDiv:r,container:n._ternarylayer.node()},n),n[h]._subplot=b),b.plot(d,n,r._promises)}},J.clean=function(w,r,n,c){for(var o=c._subplots[R]||[],f=0;f<o.length;f++){var h=o[f],d=c[h]._subplot;!r[h]&&d&&(d.plotContainer.remove(),d.clipDef.remove(),d.clipDefRelative.remove(),d.layers["a-title"].remove(),d.layers["b-title"].remove(),d.layers["c-title"].remove())}}},81367:function(oe,J,t){"use strict";var S=t(22399),k=t(27670).Y,l=t(13838),R=t(30962).overrideAll,I=t(1426).extendFlat,v={title:{text:l.title.text,font:l.title.font},color:l.color,tickmode:l.minor.tickmode,nticks:I({},l.nticks,{dflt:6,min:1}),tick0:l.tick0,dtick:l.dtick,tickvals:l.tickvals,ticktext:l.ticktext,ticks:l.ticks,ticklen:l.ticklen,tickwidth:l.tickwidth,tickcolor:l.tickcolor,ticklabelstep:l.ticklabelstep,showticklabels:l.showticklabels,labelalias:l.labelalias,showtickprefix:l.showtickprefix,tickprefix:l.tickprefix,showticksuffix:l.showticksuffix,ticksuffix:l.ticksuffix,showexponent:l.showexponent,exponentformat:l.exponentformat,minexponent:l.minexponent,separatethousands:l.separatethousands,tickfont:l.tickfont,tickangle:l.tickangle,tickformat:l.tickformat,tickformatstops:l.tickformatstops,hoverformat:l.hoverformat,showline:I({},l.showline,{dflt:!0}),linecolor:l.linecolor,linewidth:l.linewidth,showgrid:I({},l.showgrid,{dflt:!0}),gridcolor:l.gridcolor,gridwidth:l.gridwidth,griddash:l.griddash,layer:l.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:l._deprecated.title,titlefont:l._deprecated.titlefont}},w=oe.exports=R({domain:k({name:"ternary"}),bgcolor:{valType:"color",dflt:S.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");w.uirevision={valType:"any",editType:"none"},w.aaxis.uirevision=w.baxis.uirevision=w.caxis.uirevision={valType:"any",editType:"none"}},25369:function(oe,J,t){"use strict";var S=t(7901),k=t(44467),l=t(71828),R=t(49119),I=t(96115),v=t(89426),w=t(38701),r=t(26218),n=t(92128),c=t(81367),o=["aaxis","baxis","caxis"];function f(d,b,p,A){var m=p("bgcolor"),u=p("sum");A.bgColor=S.combine(m,A.paper_bgcolor);for(var g,C,T,L=0;L<o.length;L++)C=d[g=o[L]]||{},(T=k.newContainer(b,g))._name=g,h(C,T,A,b);var x=b.aaxis,E=b.baxis,M=b.caxis;x.min+E.min+M.min>=u&&(x.min=0,E.min=0,M.min=0,d.aaxis&&delete d.aaxis.min,d.baxis&&delete d.baxis.min,d.caxis&&delete d.caxis.min)}function h(d,b,p,A){var m=c[b._name];function u(i,D){return l.coerce(d,b,m,i,D)}u("uirevision",A.uirevision),b.type="linear";var g=u("color"),C=g!==m.color.dflt?g:p.font.color,L=b._name.charAt(0).toUpperCase(),x="Component "+L,E=u("title.text",x);b._hovertitle=E===x?E:L,l.coerceFont(u,"title.font",{family:p.font.family,size:l.bigFont(p.font.size),color:C}),u("min"),r(d,b,u,"linear"),v(d,b,u,"linear"),I(d,b,u,"linear"),w(d,b,u,{outerTicks:!0}),u("showticklabels")&&(l.coerceFont(u,"tickfont",{family:p.font.family,size:p.font.size,color:C}),u("tickangle"),u("tickformat")),n(d,b,u,{dfltColor:g,bgColor:p.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:m}),u("hoverformat"),u("layer")}oe.exports=function(b,p,A){R(b,p,A,{type:"ternary",attributes:c,handleDefaults:f,font:p.font,paper_bgcolor:p.paper_bgcolor})}},64380:function(oe,J,t){"use strict";var S=t(39898),k=t(84267),l=t(73972),R=t(71828),I=R.strTranslate,v=R._,w=t(7901),r=t(91424),n=t(21994),c=t(1426).extendFlat,o=t(74875),f=t(89298),h=t(28569),d=t(30211),b=t(64505),p=b.freeMode,A=b.rectMode,m=t(92998),u=t(47322).prepSelect,g=t(47322).selectOnClick,C=t(47322).clearOutline,T=t(47322).clearSelectionsCache,L=t(85555);function x(H,U){this.id=H.id,this.graphDiv=H.graphDiv,this.init(U),this.makeFramework(U),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}oe.exports=x;var E=x.prototype;E.init=function(H){this.container=H._ternarylayer,this.defs=H._defs,this.layoutId=H._uid,this.traceHash={},this.layers={}},E.plot=function(H,U){var G=this,Y=U[G.id],ee=U._size;G._hasClipOnAxisFalse=!1;for(var ue=0;ue<H.length;ue++)if(!1===H[ue][0].trace.cliponaxis){G._hasClipOnAxisFalse=!0;break}G.updateLayers(Y),G.adjustLayout(Y,ee),o.generalUpdatePerTraceModule(G.graphDiv,G,H,Y),G.layers.plotbg.select("path").call(w.fill,Y.bgcolor)},E.makeFramework=function(H){var U=this,G=U.graphDiv,Y=H[U.id],ee=U.clipId="clip"+U.layoutId+U.id,ue=U.clipIdRelative="clip-relative"+U.layoutId+U.id;U.clipDef=R.ensureSingleById(H._clips,"clipPath",ee,function(ce){ce.append("path").attr("d","M0,0Z")}),U.clipDefRelative=R.ensureSingleById(H._clips,"clipPath",ue,function(ce){ce.append("path").attr("d","M0,0Z")}),U.plotContainer=R.ensureSingle(U.container,"g",U.id),U.updateLayers(Y),r.setClipUrl(U.layers.backplot,ee,G),r.setClipUrl(U.layers.grids,ee,G)},E.updateLayers=function(H){var G=this.layers,Y=["draglayer","plotbg","backplot","grids"];"below traces"===H.aaxis.layer&&Y.push("aaxis","aline"),"below traces"===H.baxis.layer&&Y.push("baxis","bline"),"below traces"===H.caxis.layer&&Y.push("caxis","cline"),Y.push("frontplot"),"above traces"===H.aaxis.layer&&Y.push("aaxis","aline"),"above traces"===H.baxis.layer&&Y.push("baxis","bline"),"above traces"===H.caxis.layer&&Y.push("caxis","cline");var ee=this.plotContainer.selectAll("g.toplevel").data(Y,String),ue=["agrid","bgrid","cgrid"];ee.enter().append("g").attr("class",function(ce){return"toplevel "+ce}).each(function(ce){var pe=S.select(this);G[ce]=pe,"frontplot"===ce?pe.append("g").classed("scatterlayer",!0):"backplot"===ce?pe.append("g").classed("maplayer",!0):"plotbg"===ce?pe.append("path").attr("d","M0,0Z"):"aline"===ce||"bline"===ce||"cline"===ce?pe.append("path"):"grids"===ce&&ue.forEach(function(te){G[te]=pe.append("g").classed("grid "+te,!0)})}),ee.order()};var M=Math.sqrt(4/3);E.adjustLayout=function(H,U){var re,$,le,se,de,we,G=this,Y=H.domain,ee=(Y.x[0]+Y.x[1])/2,ue=(Y.y[0]+Y.y[1])/2,ce=Y.x[1]-Y.x[0],pe=Y.y[1]-Y.y[0],te=ce*U.w,Q=pe*U.h,K=H.sum,Z=H.aaxis.min,q=H.baxis.min,fe=H.caxis.min;te>M*Q?le=(se=Q)*M:se=(le=te)/M,de=ce*le/te,we=pe*se/Q,$=U.t+U.h*(1-ue)-se/2,G.x0=re=U.l+U.w*ee-le/2,G.y0=$,G.w=le,G.h=se,G.sum=K,G.xaxis={type:"linear",range:[Z+2*fe-K,K-Z-2*q],domain:[ee-de/2,ee+de/2],_id:"x"},n(G.xaxis,G.graphDiv._fullLayout),G.xaxis.setScale(),G.xaxis.isPtWithinRange=function(Ke){return Ke.a>=G.aaxis.range[0]&&Ke.a<=G.aaxis.range[1]&&Ke.b>=G.baxis.range[1]&&Ke.b<=G.baxis.range[0]&&Ke.c>=G.caxis.range[1]&&Ke.c<=G.caxis.range[0]},G.yaxis={type:"linear",range:[Z,K-q-fe],domain:[ue-we/2,ue+we/2],_id:"y"},n(G.yaxis,G.graphDiv._fullLayout),G.yaxis.setScale(),G.yaxis.isPtWithinRange=function(){return!0};var Ee=G.yaxis.domain[0],Me=G.aaxis=c({},H.aaxis,{range:[Z,K-q-fe],side:"left",tickangle:(+H.aaxis.tickangle||0)-30,domain:[Ee,Ee+we*M],anchor:"free",position:0,_id:"y",_length:le});n(Me,G.graphDiv._fullLayout),Me.setScale();var Ne=G.baxis=c({},H.baxis,{range:[K-Z-fe,q],side:"bottom",domain:G.xaxis.domain,anchor:"free",position:0,_id:"x",_length:le});n(Ne,G.graphDiv._fullLayout),Ne.setScale();var Ve=G.caxis=c({},H.caxis,{range:[K-Z-q,fe],side:"right",tickangle:(+H.caxis.tickangle||0)+30,domain:[Ee,Ee+we*M],anchor:"free",position:0,_id:"y",_length:le});n(Ve,G.graphDiv._fullLayout),Ve.setScale();var Pe="M"+re+","+($+se)+"h"+le+"l-"+le/2+",-"+se+"Z";G.clipDef.select("path").attr("d",Pe),G.layers.plotbg.select("path").attr("d",Pe);var Ce="M0,"+se+"h"+le+"l-"+le/2+",-"+se+"Z";G.clipDefRelative.select("path").attr("d",Ce);var Ie=I(re,$);G.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ie),G.clipDefRelative.select("path").attr("transform",null);var Je=I(re-Ne._offset,$+se);G.layers.baxis.attr("transform",Je),G.layers.bgrid.attr("transform",Je);var Qe=I(re+le/2,$)+"rotate(30)"+I(0,-Me._offset);G.layers.aaxis.attr("transform",Qe),G.layers.agrid.attr("transform",Qe);var ze=I(re+le/2,$)+"rotate(-30)"+I(0,-Ve._offset);G.layers.caxis.attr("transform",ze),G.layers.cgrid.attr("transform",ze),G.drawAxes(!0),G.layers.aline.select("path").attr("d",Me.showline?"M"+re+","+($+se)+"l"+le/2+",-"+se:"M0,0").call(w.stroke,Me.linecolor||"#000").style("stroke-width",(Me.linewidth||0)+"px"),G.layers.bline.select("path").attr("d",Ne.showline?"M"+re+","+($+se)+"h"+le:"M0,0").call(w.stroke,Ne.linecolor||"#000").style("stroke-width",(Ne.linewidth||0)+"px"),G.layers.cline.select("path").attr("d",Ve.showline?"M"+(re+le/2)+","+$+"l"+le/2+","+se:"M0,0").call(w.stroke,Ve.linecolor||"#000").style("stroke-width",(Ve.linewidth||0)+"px"),G.graphDiv._context.staticPlot||G.initInteractions(),r.setClipUrl(G.layers.frontplot,G._hasClipOnAxisFalse?null:G.clipId,G.graphDiv)},E.drawAxes=function(H){var U=this,G=U.graphDiv,Y=U.id.substr(7)+"title",ee=U.layers,ue=U.aaxis,ce=U.baxis,pe=U.caxis;if(U.drawAx(ue),U.drawAx(ce),U.drawAx(pe),H){var te=Math.max(ue.showticklabels?ue.tickfont.size/2:0,(pe.showticklabels?.75*pe.tickfont.size:0)+("outside"===pe.ticks?.87*pe.ticklen:0)),Q=(ce.showticklabels?ce.tickfont.size:0)+("outside"===ce.ticks?ce.ticklen:0)+3;ee["a-title"]=m.draw(G,"a"+Y,{propContainer:ue,propName:U.id+".aaxis.title",placeholder:v(G,"Click to enter Component A title"),attributes:{x:U.x0+U.w/2,y:U.y0-ue.title.font.size/3-te,"text-anchor":"middle"}}),ee["b-title"]=m.draw(G,"b"+Y,{propContainer:ce,propName:U.id+".baxis.title",placeholder:v(G,"Click to enter Component B title"),attributes:{x:U.x0-Q,y:U.y0+U.h+.83*ce.title.font.size+Q,"text-anchor":"middle"}}),ee["c-title"]=m.draw(G,"c"+Y,{propContainer:pe,propName:U.id+".caxis.title",placeholder:v(G,"Click to enter Component C title"),attributes:{x:U.x0+U.w+Q,y:U.y0+U.h+.83*pe.title.font.size+Q,"text-anchor":"middle"}})}},E.drawAx=function(H){var U=this,G=U.graphDiv,Y=H._name,ee=Y.charAt(0),ue=H._id,ce=U.layers[Y],te=ee+"tickLayout",Q=function i(H){return H.ticks+String(H.ticklen)+String(H.showticklabels)}(H);U[te]!==Q&&(ce.selectAll("."+ue+"tick").remove(),U[te]=Q),H.setScale();var K=f.calcTicks(H),Z=f.clipEnds(H,K),q=f.makeTransTickFn(H),fe=f.getTickSigns(H)[2],re=R.deg2rad(30),$=fe*(H.linewidth||1)/2,le=fe*H.ticklen,se=U.w,de=U.h,we="b"===ee?"M0,"+$+"l"+Math.sin(re)*le+","+Math.cos(re)*le:"M"+$+",0l"+Math.cos(re)*le+","+-Math.sin(re)*le,Ee={a:"M0,0l"+de+",-"+se/2,b:"M0,0l-"+se/2+",-"+de,c:"M0,0l-"+de+","+se/2}[ee];f.drawTicks(G,H,{vals:"inside"===H.ticks?Z:K,layer:ce,path:we,transFn:q,crisp:!1}),f.drawGrid(G,H,{vals:Z,layer:U.layers[ee+"grid"],path:Ee,transFn:q,crisp:!1}),f.drawLabels(G,H,{vals:K,layer:ce,transFn:q,labelFns:f.makeLabelFns(H,0,30)})};var D=L.MINZOOM/2+.87,y="m-0.87,.5h"+D+"v3h-"+(D+5.2)+"l"+(D/2+2.6)+",-"+(.87*D+4.5)+"l2.6,1.5l-"+D/2+","+.87*D+"Z",B="m0.87,.5h-"+D+"v3h"+(D+5.2)+"l-"+(D/2+2.6)+",-"+(.87*D+4.5)+"l-2.6,1.5l"+D/2+","+.87*D+"Z",F="m0,1l"+D/2+","+.87*D+"l2.6,-1.5l-"+(D/2+2.6)+",-"+(.87*D+4.5)+"l-"+(D/2+2.6)+","+(.87*D+4.5)+"l2.6,1.5l"+D/2+",-"+.87*D+"Z",z=!0;function V(H){S.select(H).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}E.clearOutline=function(){T(this.dragOptions),C(this.dragOptions.gd)},E.initInteractions=function(){var ee,ue,ce,pe,te,Q,K,Z,q,fe,re,$,H=this,U=H.layers.plotbg.select("path").node(),G=H.graphDiv,Y=G._fullLayout._zoomlayer;function le(Je){var Qe={};return Qe[H.id+".aaxis.min"]=Je.a,Qe[H.id+".baxis.min"]=Je.b,Qe[H.id+".caxis.min"]=Je.c,Qe}function se(Je,Qe){var ze=G._fullLayout.clickmode;V(G),2===Je&&(G.emit("plotly_doubleclick",null),l.call("_guiRelayout",G,le({a:0,b:0,c:0}))),ze.indexOf("select")>-1&&1===Je&&g(Qe,G,[H.xaxis],[H.yaxis],H.id,H.dragOptions),ze.indexOf("event")>-1&&d.click(G,Qe,H.id)}function we(Je,Qe){return 1-Qe/H.h}function Ee(Je,Qe){return 1-(Je+(H.h-Qe)/Math.sqrt(3))/H.w}function Me(Je,Qe){return(Je-(H.h-Qe)/Math.sqrt(3))/H.w}function Ne(Je,Qe){var ze=ce+Je*ee,Ke=pe+Qe*ue,ut=Math.max(0,Math.min(1,we(0,pe),we(0,Ke))),ot=Math.max(0,Math.min(1,Ee(ce,pe),Ee(ze,Ke))),We=Math.max(0,Math.min(1,Me(ce,pe),Me(ze,Ke))),je=(ut/2+We)*H.w,lt=(1-ut/2-ot)*H.w,vt=(je+lt)/2,pt=lt-je,St=(1-ut)*H.h,Ct=St-pt/M;pt<L.MINZOOM?(K=te,re.attr("d",q),$.attr("d","M0,0Z")):(K={a:te.a+ut*Q,b:te.b+ot*Q,c:te.c+We*Q},re.attr("d",q+"M"+je+","+St+"H"+lt+"L"+vt+","+Ct+"L"+je+","+St+"Z"),$.attr("d","M"+ce+","+pe+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+je+","+St+y+"M"+lt+","+St+B+"M"+vt+","+Ct+F)),fe||(re.transition().style("fill",Z>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),$.transition().style("opacity",1).duration(200),fe=!0),G.emit("plotly_relayouting",le(K))}function Ve(){V(G),K!==te&&(l.call("_guiRelayout",G,le(K)),z&&G.data&&G._context.showTips&&(R.notifier(v(G,"Double-click to zoom back out"),"long"),z=!1))}function Ce(Je,Qe){var ze=Je/H.xaxis._m,Ke=Qe/H.yaxis._m,ut=[(K={a:te.a-Ke,b:te.b+(ze+Ke)/2,c:te.c-(ze-Ke)/2}).a,K.b,K.c].sort(R.sorterAsc),ot_a=ut.indexOf(K.a),ot_b=ut.indexOf(K.b),ot_c=ut.indexOf(K.c);ut[0]<0&&(ut[1]+ut[0]/2<0?(ut[2]+=ut[0]+ut[1],ut[0]=ut[1]=0):(ut[2]+=ut[0]/2,ut[1]+=ut[0]/2,ut[0]=0),Qe=(te.a-(K={a:ut[ot_a],b:ut[ot_b],c:ut[ot_c]}).a)*H.yaxis._m,Je=(te.c-K.c-te.b+K.b)*H.xaxis._m);var We=I(H.x0+Je,H.y0+Qe);H.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",We);var je=I(-Je,-Qe);H.clipDefRelative.select("path").attr("transform",je),H.aaxis.range=[K.a,H.sum-K.b-K.c],H.baxis.range=[H.sum-K.a-K.c,K.b],H.caxis.range=[H.sum-K.a-K.b,K.c],H.drawAxes(!1),H._hasClipOnAxisFalse&&H.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,H),G.emit("plotly_relayouting",le(K))}function Ie(){l.call("_guiRelayout",G,le(K))}this.dragOptions={element:U,gd:G,plotinfo:{id:H.id,domain:G._fullLayout[H.id].domain,xaxis:H.xaxis,yaxis:H.yaxis},subplot:H.id,prepFn:function(Je,Qe,ze){H.dragOptions.xaxes=[H.xaxis],H.dragOptions.yaxes=[H.yaxis],ee=G._fullLayout._invScaleX,ue=G._fullLayout._invScaleY;var Ke=H.dragOptions.dragmode=G._fullLayout.dragmode;H.dragOptions.minDrag=p(Ke)?1:void 0,"zoom"===Ke?(H.dragOptions.moveFn=Ne,H.dragOptions.clickFn=se,H.dragOptions.doneFn=Ve,function de(Je,Qe,ze){var Ke=U.getBoundingClientRect();ce=Qe-Ke.left,pe=ze-Ke.top,G._fullLayout._calcInverseTransform(G);var ot=R.apply3DTransform(G._fullLayout._invTransform)(ce,pe);ce=ot[0],pe=ot[1],K=te={a:H.aaxis.range[0],b:H.baxis.range[1],c:H.caxis.range[1]},Q=H.aaxis.range[1]-te.a,Z=k(H.graphDiv._fullLayout[H.id].bgcolor).getLuminance(),q="M0,"+H.h+"L"+H.w/2+", 0L"+H.w+","+H.h+"Z",fe=!1,re=Y.append("path").attr("class","zoombox").attr("transform",I(H.x0,H.y0)).style({fill:Z>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",q),$=Y.append("path").attr("class","zoombox-corners").attr("transform",I(H.x0,H.y0)).style({fill:w.background,stroke:w.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),H.clearOutline(G)}(0,Qe,ze)):"pan"===Ke?(H.dragOptions.moveFn=Ce,H.dragOptions.clickFn=se,H.dragOptions.doneFn=Ie,function Pe(){K=te={a:H.aaxis.range[0],b:H.baxis.range[1],c:H.caxis.range[1]}}(),H.clearOutline(G)):(A(Ke)||p(Ke))&&u(Je,Qe,ze,H.dragOptions,Ke)}},U.onmousemove=function(Je){d.hover(G,Je,H.id),G._fullLayout._lasthover=U,G._fullLayout._hoversubplot=H.id},U.onmouseout=function(Je){G._dragging||h.unhover(G,Je)},h.init(this.dragOptions)}},73972:function(oe,J,t){"use strict";var S=t(47769),k=t(64213),l=t(75138),R=t(41965),I=t(24401).addStyleRule,v=t(1426),w=t(9012),r=t(10820),n=v.extendFlat,c=v.extendDeepAll;function o(C){var T=C.name,L=C.categories,x=C.meta;if(J.modules[T])S.log("Type "+T+" already registered");else{J.subplotsRegistry[C.basePlotModule.name]||function f(C){var T=C.name;if(J.subplotsRegistry[T])S.log("Plot type "+T+" already registered.");else for(var L in p(C),J.subplotsRegistry[T]=C,J.componentsRegistry)u(L,C.name)}(C.basePlotModule);for(var E={},M=0;M<L.length;M++)E[L[M]]=!0,J.allCategories[L[M]]=!0;for(var i in J.modules[T]={_module:C,categories:E},x&&Object.keys(x).length&&(J.modules[T].meta=x),J.allTypes.push(T),J.componentsRegistry)A(i,T);C.layoutAttributes&&n(J.traceLayoutAttributes,C.layoutAttributes);var D=C.basePlotModule,y=D.name;if("mapbox"===y){var B=D.constants.styleRules;for(var F in B)I(".js-plotly-plot .plotly .mapboxgl-"+F,B[F])}("geo"===y||"mapbox"===y)&&void 0===window.PlotlyGeoAssets&&(window.PlotlyGeoAssets={topojson:{}})}}function h(C){if("string"!=typeof C.name)throw new Error("Component module *name* must be a string.");var T=C.name;for(var L in J.componentsRegistry[T]=C,C.layoutAttributes&&(C.layoutAttributes._isLinkedToArray&&l(J.layoutArrayContainers,T),p(C)),J.modules)A(T,L);for(var x in J.subplotsRegistry)u(T,x);for(var E in J.transformsRegistry)m(T,E);C.schema&&C.schema.layout&&c(r,C.schema.layout)}function d(C){if("string"!=typeof C.name)throw new Error("Transform module *name* must be a string.");var T="Transform module "+C.name,L="function"==typeof C.transform,x="function"==typeof C.calcTransform;if(!L&&!x)throw new Error(T+" is missing a *transform* or *calcTransform* method.");for(var E in L&&x&&S.log([T+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),R(C.attributes)||S.log(T+" registered without an *attributes* object."),"function"!=typeof C.supplyDefaults&&S.log(T+" registered without a *supplyDefaults* method."),J.transformsRegistry[C.name]=C,J.componentsRegistry)m(E,C.name)}function b(C){var T=C.name,L=T.split("-")[0],x=C.dictionary,E=C.format,M=x&&Object.keys(x).length,i=E&&Object.keys(E).length,D=J.localeRegistry,y=D[T];if(y||(D[T]=y={}),L!==T){var B=D[L];B||(D[L]=B={}),M&&B.dictionary===y.dictionary&&(B.dictionary=x),i&&B.format===y.format&&(B.format=E)}M&&(y.dictionary=x),i&&(y.format=E)}function p(C){if(C.layoutAttributes){var T=C.layoutAttributes._arrayAttrRegexps;if(T)for(var L=0;L<T.length;L++)l(J.layoutArrayRegexes,T[L])}}function A(C,T){var L=J.componentsRegistry[C].schema;if(L&&L.traces){var x=L.traces[T];x&&c(J.modules[T]._module.attributes,x)}}function m(C,T){var L=J.componentsRegistry[C].schema;if(L&&L.transforms){var x=L.transforms[T];x&&c(J.transformsRegistry[T].attributes,x)}}function u(C,T){var L=J.componentsRegistry[C].schema;if(L&&L.subplots){var x=J.subplotsRegistry[T],E=x.layoutAttributes,M="subplot"===x.attr?x.name:x.attr;Array.isArray(M)&&(M=M[0]);var i=L.subplots[M];E&&i&&c(E,i)}}function g(C){return"object"==typeof C&&(C=C.type),C}J.modules={},J.allCategories={},J.allTypes=[],J.subplotsRegistry={},J.transformsRegistry={},J.componentsRegistry={},J.layoutArrayContainers=[],J.layoutArrayRegexes=[],J.traceLayoutAttributes={},J.localeRegistry={},J.apiMethodRegistry={},J.collectableSubplotTypes=null,J.register=function(T){if(J.collectableSubplotTypes=null,!T)throw new Error("No argument passed to Plotly.register.");T&&!Array.isArray(T)&&(T=[T]);for(var L=0;L<T.length;L++){var x=T[L];if(!x)throw new Error("Invalid module was attempted to be registered!");switch(x.moduleType){case"trace":o(x);break;case"transform":d(x);break;case"component":h(x);break;case"locale":b(x);break;case"apiMethod":J.apiMethodRegistry[x.name]=x.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},J.getModule=function(C){var T=J.modules[g(C)];return!!T&&T._module},J.traceIs=function(C,T){if("various"===(C=g(C)))return!1;var L=J.modules[C];return L||(C&&S.log("Unrecognized trace type "+C+"."),L=J.modules[w.type.dflt]),!!L.categories[T]},J.getTransformIndices=function(C,T){for(var L=[],x=C.transforms||[],E=0;E<x.length;E++)x[E].type===T&&L.push(E);return L},J.hasTransform=function(C,T){for(var L=C.transforms||[],x=0;x<L.length;x++)if(L[x].type===T)return!0;return!1},J.getComponentMethod=function(C,T){var L=J.componentsRegistry[C];return L&&L[T]||k},J.call=function(){var C=arguments[0],T=[].slice.call(arguments,1);return J.apiMethodRegistry[C].apply(null,T)}},61914:function(oe,J,t){"use strict";var S=t(73972),k=t(71828),l=k.extendFlat,R=k.extendDeep;function I(w){var r;switch(w){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}oe.exports=function(r,n){var c,f=r.layout,h=R([],r.data),d=R({},f,I(n.tileClass)),b=r._context||{};if(n.width&&(d.width=n.width),n.height&&(d.height=n.height),"thumbnail"===n.tileClass||"themes__thumb"===n.tileClass){d.annotations=[];var p=Object.keys(d);for(c=0;c<p.length;c++)["xaxis","yaxis","zaxis"].indexOf(p[c].slice(0,5))>-1&&(d[p[c]].title={text:""});for(c=0;c<h.length;c++){var A=h[c];A.showscale=!1,A.marker&&(A.marker.showscale=!1),S.traceIs(A,"pie-like")&&(A.textposition="none")}}if(Array.isArray(n.annotations))for(c=0;c<n.annotations.length;c++)d.annotations.push(n.annotations[c]);var m=Object.keys(d).filter(function(L){return L.match(/^scene\d*$/)});if(m.length){var u={};for("thumbnail"===n.tileClass&&(u={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),c=0;c<m.length;c++){var g=d[m[c]];g.xaxis||(g.xaxis={}),g.yaxis||(g.yaxis={}),g.zaxis||(g.zaxis={}),l(g.xaxis,u),l(g.yaxis,u),l(g.zaxis,u),g._scene=null}}var C=document.createElement("div");n.tileClass&&(C.className=n.tileClass);var T={gd:C,td:C,layout:d,data:h,config:{staticPlot:void 0===n.staticPlot||n.staticPlot,plotGlPixelRatio:void 0===n.plotGlPixelRatio?2:n.plotGlPixelRatio,displaylogo:n.displaylogo||!1,showLink:n.showLink||!1,showTips:n.showTips||!1,mapboxAccessToken:b.mapboxAccessToken}};return"transparent"!==n.setBackground&&(T.config.setBackground=n.setBackground||"opaque"),T.gd.defaultLayout=I(n.tileClass),T}},7239:function(oe,J,t){"use strict";var S=t(71828),k=t(403),l=t(22435),R=t(25095);oe.exports=function I(v,w){var r;return S.isPlainObject(v)||(r=S.getGraphDiv(v)),(w=w||{}).format=w.format||"png",w.width=w.width||null,w.height=w.height||null,w.imageDataOnly=!0,new Promise(function(n,c){r&&r._snapshotInProgress&&c(new Error("Snapshotting already in progress.")),S.isIE()&&"svg"!==w.format&&c(new Error(R.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var o=k(v,w),f=w.filename||v.fn||"newplot";f+="."+w.format.replace("-","."),o.then(function(h){return r&&(r._snapshotInProgress=!1),l(h,f,w.format)}).then(function(h){n(h)}).catch(function(h){r&&(r._snapshotInProgress=!1),c(h)})})}},22435:function(oe,J,t){"use strict";var S=t(71828),k=t(25095);oe.exports=function l(R,I,v){var w=document.createElement("a"),r="download"in w;return new Promise(function(c,o){var f,h;return S.isIE()?(f=k.createBlob(R,"svg"),window.navigator.msSaveBlob(f,I),f=null,c(I)):r?(f=k.createBlob(R,v),h=k.createObjectURL(f),w.href=h,w.download=I,document.body.appendChild(w),w.click(),document.body.removeChild(w),k.revokeObjectURL(h),f=null,c(I)):S.isSafari()?(k.octetStream(("svg"===v?",":";base64,")+encodeURIComponent(R)),c(I)):void o(new Error("download error"))})}},25095:function(oe,J,t){"use strict";var S=t(73972);J.getDelay=function(R){return R._has&&(R._has("gl3d")||R._has("gl2d")||R._has("mapbox"))?500:0},J.getRedrawFunc=function(R){return function(){S.getComponentMethod("colorbar","draw")(R)}},J.encodeSVG=function(R){return"data:image/svg+xml,"+encodeURIComponent(R)},J.encodeJSON=function(R){return"data:application/json,"+encodeURIComponent(R)};var k=window.URL||window.webkitURL;J.createObjectURL=function(R){return k.createObjectURL(R)},J.revokeObjectURL=function(R){return k.revokeObjectURL(R)},J.createBlob=function(R,I){if("svg"===I)return new window.Blob([R],{type:"image/svg+xml;charset=utf-8"});if("full-json"===I)return new window.Blob([R],{type:"application/json;charset=utf-8"});var v=function l(R){for(var I=R.length,v=new ArrayBuffer(I),w=new Uint8Array(v),r=0;r<I;r++)w[r]=R.charCodeAt(r);return v}(window.atob(R));return new window.Blob([v],{type:"image/"+I})},J.octetStream=function(R){document.location.href="data:application/octet-stream"+R},J.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,J.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(oe,J,t){"use strict";var S=t(25095),k={getDelay:S.getDelay,getRedrawFunc:S.getRedrawFunc,clone:t(61914),toSVG:t(5900),svgToImg:t(70942),toImage:t(56395),downloadImage:t(7239)};oe.exports=k},70942:function(oe,J,t){"use strict";var S=t(71828),k=t(15398).EventEmitter,l=t(25095);oe.exports=function R(I){var v=I.emitter||new k,w=new Promise(function(r,n){var c=window.Image,o=I.svg,f=I.format||"png";if(S.isIE()&&"svg"!==f){var h=new Error(l.MSG_IE_BAD_FORMAT);return n(h),I.promise?w:v.emit("error",h)}var T,L,d=I.canvas,b=I.scale||1,m=b*(I.width||300),u=b*(I.height||150),g=d.getContext("2d",{willReadFrequently:!0}),C=new c;"svg"===f||S.isSafari()?L=l.encodeSVG(o):(T=l.createBlob(o,"svg"),L=l.createObjectURL(T)),d.width=m,d.height=u,C.onload=function(){var x;switch(T=null,l.revokeObjectURL(L),"svg"!==f&&g.drawImage(C,0,0,m,u),f){case"jpeg":x=d.toDataURL("image/jpeg");break;case"png":x=d.toDataURL("image/png");break;case"webp":x=d.toDataURL("image/webp");break;case"svg":x=L;break;default:var E="Image format is not jpeg, png, svg or webp.";if(n(new Error(E)),!I.promise)return v.emit("error",E)}r(x),I.promise||v.emit("success",x)},C.onerror=function(x){if(T=null,l.revokeObjectURL(L),n(x),!I.promise)return v.emit("error",x)},C.src=L});return I.promise?w:v}},56395:function(oe,J,t){"use strict";var S=t(15398).EventEmitter,k=t(73972),l=t(71828),R=t(25095),I=t(61914),v=t(5900),w=t(70942);oe.exports=function r(n,c){var o=new S,f=I(n,{format:"png"}),h=f.gd;h.style.position="absolute",h.style.left="-5000px",document.body.appendChild(h);var b=R.getRedrawFunc(h);return k.call("_doPlot",h,f.data,f.layout,f.config).then(b).then(function d(){var p=R.getDelay(h._fullLayout);setTimeout(function(){var A=v(h),m=document.createElement("canvas");m.id=l.randstr(),(o=w({format:c.format,width:h._fullLayout.width,height:h._fullLayout.height,canvas:m,emitter:o,svg:A})).clean=function(){h&&document.body.removeChild(h)}},p)}).catch(function(p){o.emit("error",p)}),o}},5900:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(91424),R=t(7901),I=t(77922),v=/"/g,w="TOBESTRIPPED",r=new RegExp('("'+w+")|("+w+'")',"g");oe.exports=function(f,h,d){var g,b=f._fullLayout,p=b._paper,A=b._toppaper,m=b.width,u=b.height;p.insert("rect",":first-child").call(l.setRect,0,0,m,u).call(R.fill,b.paper_bgcolor);var C=b._basePlotModules||[];for(g=0;g<C.length;g++){var T=C[g];T.toSVG&&T.toSVG(f)}if(A){var L=A.node().childNodes,x=Array.prototype.slice.call(L);for(g=0;g<x.length;g++){var E=x[g];E.childNodes.length&&p.node().appendChild(E)}}b._draggers&&b._draggers.remove(),p.node().style.background="",p.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var i=S.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){i.style({visibility:null,display:null});var D=this.style.fontFamily;D&&-1!==D.indexOf('"')&&i.style("font-family",D.replace(v,w))}else i.remove()}),p.selectAll(".gradient_filled,.pattern_filled").each(function(){var i=S.select(this),D=this.style.fill;D&&-1!==D.indexOf("url(")&&i.style("fill",D.replace(v,w));var y=this.style.stroke;y&&-1!==y.indexOf("url(")&&i.style("stroke",y.replace(v,w))}),("pdf"===h||"eps"===h)&&p.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),p.node().setAttributeNS(I.xmlns,"xmlns",I.svg),p.node().setAttributeNS(I.xmlns,"xmlns:xlink",I.xlink),"svg"===h&&d&&(p.attr("width",d*m),p.attr("height",d*u),p.attr("viewBox","0 0 "+m+" "+u));var M=(new window.XMLSerializer).serializeToString(p.node());return M=(M=function c(o){return o.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}(M=function n(o){var f=S.select("body").append("div").style({display:"none"}).html(""),h=o.replace(/(&[^;]*;)/gi,function(d){return"&lt;"===d?"&#60;":"&rt;"===d?"&#62;":-1!==d.indexOf("<")||-1!==d.indexOf(">")?"":f.html(d).text()});return f.remove(),h}(M))).replace(r,"'"),k.isIE()&&(M=(M=(M=M.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),M}},75341:function(oe,J,t){"use strict";var S=t(71828);oe.exports=function(l,R){for(var I=0;I<l.length;I++)l[I].i=I;S.mergeArray(R.text,l,"tx"),S.mergeArray(R.hovertext,l,"htx");var v=R.marker;if(v){S.mergeArray(v.opacity,l,"mo",!0),S.mergeArray(v.color,l,"mc");var w=v.line;w&&(S.mergeArray(w.color,l,"mlc"),S.mergeArrayCastPositive(w.width,l,"mlw"))}}},1486:function(oe,J,t){"use strict";var S=t(82196),k=t(12663).axisHoverFormat,l=t(5386).fF,R=t(5386).si,I=t(50693),v=t(41940),w=t(97313),r=t(79952).u,n=t(1426).extendFlat,c=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),h=n({},S.marker.line.width,{dflt:0}),d=n({width:h,editType:"calc"},I("marker.line")),b=n({line:d,editType:"calc"},I("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r});oe.exports={x:S.x,x0:S.x0,dx:S.dx,y:S.y,y0:S.y0,dy:S.dy,xperiod:S.xperiod,yperiod:S.yperiod,xperiod0:S.xperiod0,yperiod0:S.yperiod0,xperiodalignment:S.xperiodalignment,yperiodalignment:S.yperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),text:S.text,texttemplate:R({editType:"plot"},{keys:w.eventDataKeys}),hovertext:S.hovertext,hovertemplate:l({},{keys:w.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:n({},c,{}),insidetextfont:n({},c,{}),outsidetextfont:n({},c,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:n({},S.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:b,offsetgroup:S.offsetgroup,alignmentgroup:S.alignmentgroup,selected:{marker:{opacity:S.selected.marker.opacity,color:S.selected.marker.color,editType:"style"},textfont:S.selected.textfont,editType:"style"},unselected:{marker:{opacity:S.unselected.marker.opacity,color:S.unselected.marker.color,editType:"style"},textfont:S.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(oe,J,t){"use strict";var S=t(89298),k=t(42973),l=t(52075).hasColorscale,R=t(78803),I=t(75341),v=t(66279);oe.exports=function(r,n){var f,h,d,b,p,A,c=S.getFromId(r,n.xaxis||"x"),o=S.getFromId(r,n.yaxis||"y"),m={msUTC:!(!n.base&&0!==n.base)};"h"===n.orientation?(f=c.makeCalcdata(n,"x",m),d=o.makeCalcdata(n,"y"),b=k(n,o,"y",d),p=!!n.yperiodalignment,A="y"):(f=o.makeCalcdata(n,"y",m),d=c.makeCalcdata(n,"x"),b=k(n,c,"x",d),p=!!n.xperiodalignment,A="x"),h=b.vals;for(var u=Math.min(h.length,f.length),g=new Array(u),C=0;C<u;C++)g[C]={p:h[C],s:f[C]},p&&(g[C].orig_p=d[C],g[C][A+"End"]=b.ends[C],g[C][A+"Start"]=b.starts[C]),n.ids&&(g[C].id=String(n.ids[C]));return l(n,"marker")&&R(r,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),l(n,"marker.line")&&R(r,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),I(g,n),v(g,n),g}},97313:function(oe){"use strict";oe.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(oe,J,t){"use strict";var S=t(92770),k=t(71828).isArrayOrTypedArray,l=t(50606).BADNUM,R=t(73972),I=t(89298),v=t(99082).getAxisGroup,w=t(61546);function n(M,i,D,y,B){if(y.length){var F,_,z,V;switch(function c(M,i){var D,y;for(D=0;D<i.length;D++){var z,B=i[D],F=B[0].trace,_="funnel"===F.type?F._base:F.base,V="h"===F.orientation?F.xcalendar:F.ycalendar,H="category"===M.type||"multicategory"===M.type?function(){return null}:M.d2c;if(k(_)){for(y=0;y<Math.min(_.length,B.length);y++)z=H(_[y],0,V),S(z)?(B[y].b=+z,B[y].hasB=1):B[y].b=0;for(;y<B.length;y++)B[y].b=0}else{z=H(_,0,V);var U=S(z);for(z=U?z:0,y=0;y<B.length;y++)B[y].b=z,U&&(B[y].hasB=1)}}}(D,y),B.mode){case"overlay":o(i,D,y,B);break;case"group":for(F=[],_=[],z=0;z<y.length;z++)void 0===(V=y[z])[0].trace.offset?_.push(V):F.push(V);_.length&&function f(M,i,D,y,B){var F=new w(y,{posAxis:i,sepNegVal:!1,overlapNoMerge:!B.norm});(function b(M,i,D,y){for(var B=M._fullLayout,z=D.minDiff,V=D.traces,H=V.length,U=D.positions.length!==D.distinctPositions.length,G=z*(1-y.gap),Y=v(B,i._id)+V[0][0].trace.orientation,ee=B._alignmentOpts[Y]||{},ue=0;ue<H;ue++){var K,q,ce=V[ue],pe=ce[0].trace,Q=Object.keys((ee[pe.alignmentgroup]||{}).offsetGroups||{}).length,Z=(K=Q?G/Q:U?G/H:G)*(1-(y.groupgap||0));q=Q?((2*pe._offsetIndex+1-Q)*K-Z)/2:U?((2*ue+1-H)*K-Z)/2:-Z/2;var fe=ce[0].t;fe.barwidth=Z,fe.poffset=q,fe.bargroupwidth=G,fe.bardelta=z}D.binWidth=V[0][0].t.barwidth/100,p(D),A(i,D),m(i,D,U)})(M,i,F,B),function T(M,i){for(var D=M.traces,y=0;y<D.length;y++){var B=D[y];if(void 0===B[0].trace.base)for(var _=new w([B],{posAxis:i,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<B.length;z++){var V=B[z];if(V.p!==l){var H=_.put(V.p,V.b+V.s);H&&(V.b=H)}}}}(F,i),B.norm?(C(F),L(D,F,B)):u(D,F)}(M,i,D,_,B),F.length&&o(i,D,F,B);break;case"stack":case"relative":for(F=[],_=[],z=0;z<y.length;z++)void 0===(V=y[z])[0].trace.base?_.push(V):F.push(V);_.length&&function h(M,i,D,y,B){var F=new w(y,{posAxis:i,sepNegVal:"relative"===B.mode,overlapNoMerge:!(B.norm||"stack"===B.mode||"relative"===B.mode)});d(i,F,B),function g(M,i,D){var F,_,z,V,H,U,y=E(M),B=i.traces;for(V=0;V<B.length;V++)if("funnel"===(_=(F=B[V])[0].trace).type)for(H=0;H<F.length;H++)(U=F[H]).s!==l&&i.put(U.p,-.5*U.s);for(V=0;V<B.length;V++){z="funnel"===(_=(F=B[V])[0].trace).type;var G=[];for(H=0;H<F.length;H++)if((U=F[H]).s!==l){var Y,ee=i.put(U.p,Y=z?U.s:U.s+U.b),ue=ee+Y;U.b=ee,U[y]=ue,D.norm||(G.push(ue),U.hasB&&G.push(ee))}D.norm||(_._extremes[M._id]=I.findExtremes(M,G,{tozero:!0,padded:!0}))}}(D,F,B);for(var _=0;_<y.length;_++)for(var z=y[_],V=0;V<z.length;V++){var H=z[V];H.s!==l&&H.b+H.s===F.get(H.p,H.s)&&(H._outmost=!0)}B.norm&&L(D,F,B)}(0,i,D,_,B),F.length&&o(i,D,F,B)}!function x(M,i){var B,F,_,D=E(i),y={},z=1/0,V=-1/0;for(B=0;B<M.length;B++)for(_=M[B],F=0;F<_.length;F++){var H=_[F].p;S(H)&&(z=Math.min(z,H),V=Math.max(V,H))}var U=1e4/(V-z),G=y.round=function(Q){return String(Math.round(U*(Q-z)))};for(B=0;B<M.length;B++){(_=M[B])[0].t.extents=y;var Y=_[0].t.poffset,ee=Array.isArray(Y);for(F=0;F<_.length;F++){var ue=_[F],ce=ue[D]-ue.w/2;if(S(ce)){var pe=ue[D]+ue.w/2,te=G(ue.p);y[te]=y[te]?[Math.min(ce,y[te][0]),Math.max(pe,y[te][1])]:[ce,pe]}ue.p0=ue.p+(ee?Y[F]:Y),ue.p1=ue.p0+ue.w,ue.s0=ue.b,ue.s1=ue.s0+ue.s}}}(y,i)}}function o(M,i,D,y){for(var B=0;B<D.length;B++){var _=new w([D[B]],{posAxis:M,sepNegVal:!1,overlapNoMerge:!y.norm});d(M,_,y),y.norm?(C(_),L(i,_,y)):u(i,_)}}function d(M,i,D){for(var y=i.minDiff,B=i.traces,F=y*(1-D.gap),z=F*(1-(D.groupgap||0)),V=-z/2,H=0;H<B.length;H++){var G=B[H][0].t;G.barwidth=z,G.poffset=V,G.bargroupwidth=F,G.bardelta=y}i.binWidth=B[0][0].t.barwidth/100,p(i),A(M,i),m(M,i)}function p(M){var D,y,i=M.traces;for(D=0;D<i.length;D++){var U,B=i[D],F=B[0],_=F.trace,z=F.t,V=_._offset||_.offset,H=z.poffset;if(k(V)){for(U=Array.prototype.slice.call(V,0,B.length),y=0;y<U.length;y++)S(U[y])||(U[y]=H);for(y=U.length;y<B.length;y++)U.push(H);z.poffset=U}else void 0!==V&&(z.poffset=V);var G=_._width||_.width,Y=z.barwidth;if(k(G)){var ee=Array.prototype.slice.call(G,0,B.length);for(y=0;y<ee.length;y++)S(ee[y])||(ee[y]=Y);for(y=ee.length;y<B.length;y++)ee.push(Y);if(z.barwidth=ee,void 0===V){for(U=[],y=0;y<B.length;y++)U.push(H+(Y-ee[y])/2);z.poffset=U}}else void 0!==G&&(z.barwidth=G,void 0===V&&(z.poffset=H+(Y-G)/2))}}function A(M,i){for(var D=i.traces,y=E(M),B=0;B<D.length;B++)for(var F=D[B],_=F[0].t,z=_.poffset,V=Array.isArray(z),H=_.barwidth,U=Array.isArray(H),G=0;G<F.length;G++){var Y=F[G],ee=Y.w=U?H[G]:H;void 0===Y.p&&(Y.p=Y[y],Y["orig_"+y]=Y[y]),Y[y]=Y.p+((V?z[G]:z)+ee/2)}}function m(M,i,D){var y=i.traces,F=i.minDiff/2;I.minDtick(M,i.minDiff,i.distinctPositions[0],D);for(var _=0;_<y.length;_++){var G,Y,ue,z=y[_],V=z[0],H=V.trace,U=[];for(ue=0;ue<z.length;ue++)U.push(Y=(G=z[ue]).p-F,G.p+F);if(H.width||H.offset){var ce=V.t,pe=ce.poffset,te=ce.barwidth,Q=Array.isArray(pe),K=Array.isArray(te);for(ue=0;ue<z.length;ue++)U.push(Y=(G=z[ue]).p+(Q?pe[ue]:pe),Y+(K?te[ue]:te))}H._extremes[M._id]=I.findExtremes(M,U,{padded:!1})}}function u(M,i){for(var D=i.traces,y=E(M),B=0;B<D.length;B++){for(var F=D[B],_=F[0].trace,z="scatter"===_.type,V="v"===_.orientation,H=[],U=!1,G=0;G<F.length;G++){var Y=F[G],ee=z?0:Y.b,ue=z?V?Y.y:Y.x:ee+Y.s;Y[y]=ue,H.push(ue),Y.hasB&&H.push(ee),(!Y.hasB||!Y.b)&&(U=!0)}_._extremes[M._id]=I.findExtremes(M,H,{tozero:U,padded:!0})}}function C(M){for(var i=M.traces,D=0;D<i.length;D++)for(var y=i[D],B=0;B<y.length;B++){var F=y[B];F.s!==l&&M.put(F.p,F.b+F.s)}}function L(M,i,D){var y=i.traces,B=E(M),F="fraction"===D.norm?1:100,_=F/1e9,z=M.l2c(M.c2l(0)),V="stack"===D.mode?F:z;function H(q){return S(M.c2l(q))&&(q<z-_||q>V+_||!S(z))}for(var U=0;U<y.length;U++){for(var G=y[U],Y=G[0].trace,ee=[],ue=!1,ce=!1,pe=0;pe<G.length;pe++){var te=G[pe];if(te.s!==l){var Q=Math.abs(F/i.get(te.p,te.s));te.b*=Q,te.s*=Q;var K=te.b,Z=K+te.s;te[B]=Z,ee.push(Z),ce=ce||H(Z),te.hasB&&(ee.push(K),ce=ce||H(K)),(!te.hasB||!te.b)&&(ue=!0)}}Y._extremes[M._id]=I.findExtremes(M,ee,{tozero:ue,padded:ce})}}function E(M){return M._id.charAt(0)}oe.exports={crossTraceCalc:function r(M,i){for(var D=i.xaxis,y=i.yaxis,B=M._fullLayout,F=M._fullData,_=M.calcdata,z=[],V=[],H=0;H<F.length;H++){var U=F[H];if(!0===U.visible&&R.traceIs(U,"bar")&&U.xaxis===D._id&&U.yaxis===y._id&&("h"===U.orientation?z.push(_[H]):V.push(_[H]),U._computePh))for(var G=M.calcdata[H],Y=0;Y<G.length;Y++)"function"==typeof G[Y].ph0&&(G[Y].ph0=G[Y].ph0()),"function"==typeof G[Y].ph1&&(G[Y].ph1=G[Y].ph1())}var ee={xCat:"category"===D.type||"multicategory"===D.type,yCat:"category"===y.type||"multicategory"===y.type,mode:B.barmode,norm:B.barnorm,gap:B.bargap,groupgap:B.bargroupgap};n(M,D,y,V,ee),n(M,y,D,z,ee)},setGroupPositions:n}},90769:function(oe,J,t){"use strict";var S=t(71828),k=t(7901),l=t(73972),R=t(67513),I=t(73927),v=t(98340),w=t(26125),r=t(1486),n=S.coerceFont;function f(h,d,b,p,A,m){var u=!1!==(m=m||{}).moduleHasSelected,g=!1!==m.moduleHasUnselected,C=!1!==m.moduleHasConstrain,T=!1!==m.moduleHasCliponaxis,L=!1!==m.moduleHasTextangle,x=!1!==m.moduleHasInsideanchor,E=!!m.hasPathbar,M=Array.isArray(A)||"auto"===A,i=M||"inside"===A,D=M||"outside"===A;if(i||D){var y=n(p,"textfont",b.font),B=S.extendFlat({},y),_=!(h.textfont&&h.textfont.color);if(_&&delete B.color,n(p,"insidetextfont",B),E){var z=S.extendFlat({},y);_&&delete z.color,n(p,"pathbar.textfont",z)}D&&n(p,"outsidetextfont",y),u&&p("selected.textfont.color"),g&&p("unselected.textfont.color"),C&&p("constraintext"),T&&p("cliponaxis"),L&&p("textangle"),p("texttemplate")}i&&x&&p("insidetextanchor")}oe.exports={supplyDefaults:function c(h,d,b,p){function A(T,L){return S.coerce(h,d,r,T,L)}if(R(h,d,p,A)){I(h,d,p,A),A("xhoverformat"),A("yhoverformat"),A("orientation",d.x&&!d.y?"h":"v"),A("base"),A("offset"),A("width"),A("text"),A("hovertext"),A("hovertemplate");var u=A("textposition");f(h,0,p,A,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(h,d,A,b,p);var g=(d.marker.line||{}).color,C=l.getComponentMethod("errorbars","supplyDefaults");C(h,d,g||k.defaultLine,{axis:"y"}),C(h,d,g||k.defaultLine,{axis:"x",inherit:"y"}),S.coerceSelectionMarkerOpacity(d,A)}else d.visible=!1},crossTraceDefaults:function o(h,d){var p;function A(u){return S.coerce(p._input,p,r,u)}if("group"===d.barmode)for(var m=0;m<h.length;m++)"bar"===(p=h[m]).type&&w(p._input,p,d,A)},handleText:f}},58065:function(oe){"use strict";oe.exports=function(t,S,k){return t.x="xVal"in S?S.xVal:S.x,t.y="yVal"in S?S.yVal:S.y,S.xa&&(t.xaxis=S.xa),S.ya&&(t.yaxis=S.ya),"h"===k.orientation?(t.label=t.y,t.value=t.x):(t.label=t.x,t.value=t.y),t}},69383:function(oe,J,t){"use strict";var S=t(92770),k=t(84267),l=t(71828).isArrayOrTypedArray;J.coerceString=function(R,I,v){if("string"==typeof I){if(I||!R.noBlank)return I}else if(("number"==typeof I||!0===I)&&!R.strict)return String(I);return void 0!==v?v:R.dflt},J.coerceNumber=function(R,I,v){if(S(I)){I=+I;var w=R.min,r=R.max;if(!(void 0!==w&&I<w||void 0!==r&&I>r))return I}return void 0!==v?v:R.dflt},J.coerceColor=function(R,I,v){return k(I).isValid()?I:void 0!==v?v:R.dflt},J.coerceEnumerated=function(R,I,v){return R.coerceNumber&&(I=+I),-1!==R.values.indexOf(I)?I:void 0!==v?v:R.dflt},J.getValue=function(R,I){var v;return Array.isArray(R)?I<R.length&&(v=R[I]):v=R,v},J.getLineWidth=function(R,I){return 0<I.mlw?I.mlw:l(R.marker.line.width)?0:R.marker.line.width}},95423:function(oe,J,t){"use strict";var S=t(30211),k=t(73972),l=t(7901),R=t(71828).fillText,I=t(69383).getLineWidth,v=t(89298).hoverLabelText,w=t(50606).BADNUM;function n(o,f,h,d,b){var L,x,E,M,i,D,y,p=o.cd,A=p[0].trace,m=p[0].t,u="closest"===d,g="waterfall"===A.type,C=o.maxHoverDistance,T=o.maxSpikeDistance;"h"===A.orientation?(L=h,x=f,E="y",M="x",i=pe,D=ee):(L=f,x=h,E="x",M="y",D=pe,i=ee);var B=A[E+"period"],F=u||B;function _(de){return V(de,-1)}function z(de){return V(de,1)}function V(de,we){return de[E]+we*de.w/2}function H(de){return de[E+"End"]-de[E+"Start"]}var U=u?_:B?function(de){return de.p-H(de)/2}:function(de){return Math.min(_(de),de.p-m.bardelta/2)},G=u?z:B?function(de){return de.p+H(de)/2}:function(de){return Math.max(z(de),de.p+m.bardelta/2)};function Y(de,we,Ee){return b.finiteRange&&(Ee=0),S.inbox(de-L,we-L,Ee+Math.min(1,Math.abs(we-de)/y)-1)}function ee(de){return Y(U(de),G(de),C)}function ce(de){var we=de[M];if(g){var Ee=Math.abs(de.rawS)||0;x>0?we+=Ee:x<0&&(we-=Ee)}return we}function pe(de){var we=x,Ee=de.b,Me=ce(de);return S.inbox(Ee-we,Me-we,C+(Me-we)/(Me-Ee)-1)}var Q=o[E+"a"],K=o[M+"a"];y=Math.abs(Q.r2c(Q.range[1])-Q.r2c(Q.range[0]));var q=S.getDistanceFunction(d,i,D,function Z(de){return(i(de)+D(de))/2});if(S.getClosest(p,q,o),!1!==o.index&&p[o.index].p!==w){F||(U=function(de){return Math.min(_(de),de.p-m.bargroupwidth/2)},G=function(de){return Math.max(z(de),de.p+m.bargroupwidth/2)});var re=p[o.index],$=A.base?re.b+re.s:re.s;o[M+"0"]=o[M+"1"]=K.c2p(re[M],!0),o[M+"LabelVal"]=$;var le=m.extents[m.extents.round(re.p)];return o[E+"0"]=Q.c2p(u?U(re):le[0],!0),o[E+"1"]=Q.c2p(u?G(re):le[1],!0),o[E+"LabelVal"]=void 0!==re.orig_p?re.orig_p:re.p,o.labelLabel=v(Q,o[E+"LabelVal"],A[E+"hoverformat"]),o.valueLabel=v(K,o[M+"LabelVal"],A[M+"hoverformat"]),o.baseLabel=v(K,re.b,A[M+"hoverformat"]),o.spikeDistance=(function te(de){var we=x,Ee=de.b,Me=ce(de);return S.inbox(Ee-we,Me-we,T+(Me-we)/(Me-Ee)-1)}(re)+function ue(de){return Y(_(de),z(de),T)}(re))/2,o[E+"Spike"]=Q.c2p(re.p,!0),R(re,A,o),o.hovertemplate=A.hovertemplate,o}}function c(o,f){var h=f.mcc||o.marker.color,d=f.mlcc||o.marker.line.color,b=I(o,f);return l.opacity(h)?h:l.opacity(d)&&b?d:void 0}oe.exports={hoverPoints:function r(o,f,h,d,b){var p=n(o,f,h,d,b);if(p){var A=p.cd,m=A[0].trace,u=A[p.index];return p.color=c(m,u),k.getComponentMethod("errorbars","hoverInfo")(u,m,p),[p]}},hoverOnBars:n,getTraceColor:c}},60822:function(oe,J,t){"use strict";oe.exports={attributes:t(1486),layoutAttributes:t(43641),supplyDefaults:t(90769).supplyDefaults,crossTraceDefaults:t(90769).crossTraceDefaults,supplyLayoutDefaults:t(13957),calc:t(92290),crossTraceCalc:t(11661).crossTraceCalc,colorbar:t(4898),arraysToCalcdata:t(75341),plot:t(17295).plot,style:t(16688).style,styleOnSelect:t(16688).styleOnSelect,hoverPoints:t(95423).hoverPoints,eventData:t(58065),selectPoints:t(81974),moduleType:"trace",name:"bar",basePlotModule:t(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(oe){"use strict";oe.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(oe,J,t){"use strict";var S=t(73972),k=t(89298),l=t(71828),R=t(43641);oe.exports=function(I,v,w){function r(m,u){return l.coerce(I,v,R,m,u)}for(var n=!1,c=!1,o=!1,f={},h=r("barmode"),d=0;d<w.length;d++){var b=w[d];if(S.traceIs(b,"bar")&&b.visible){if(n=!0,"group"===h){var p=b.xaxis+b.yaxis;f[p]&&(o=!0),f[p]=!0}b.visible&&"histogram"===b.type&&"category"!==k.getFromId({_fullLayout:v},b["v"===b.orientation?"xaxis":"yaxis"]).type&&(c=!0)}}n?("overlay"!==h&&r("barnorm"),r("bargap",c&&!o?0:.2),r("bargroupgap")):delete v.barmode}},17295:function(oe,J,t){"use strict";var S=t(39898),k=t(92770),l=t(71828),R=t(63893),I=t(7901),v=t(91424),w=t(73972),r=t(89298).tickText,n=t(72597),c=n.recordMinTextSize,o=n.clearMinTextSize,f=t(16688),h=t(69383),d=t(97313),b=t(1486),p=b.text,A=b.textposition,m=t(23469).appendArrayPointValue,u=d.TEXTPAD;function g(U){return U.id}function T(U,G){return U<G?1:-1}function x(U,G,Y,ee){var ue;return!G.uniformtext.mode&&E(Y)?(ee&&(ue=ee()),U.transition().duration(Y.duration).ease(Y.easing).each("end",function(){ue&&ue()}).each("interrupt",function(){ue&&ue()})):U}function E(U){return U&&U.duration>0}function D(U){return"auto"===U?0:U}function y(U,G){var Y=Math.PI/180*G,ee=Math.abs(Math.sin(Y)),ue=Math.abs(Math.cos(Y));return{x:U.width*ue+U.height*ee,y:U.width*ee+U.height*ue}}function B(U,G,Y,ee,ue,ce){var pe=!!ce.isHorizontal,te=!!ce.constrained,Q=ce.angle||0,K=ce.anchor||"end",Z="end"===K,q="start"===K,re=((ce.leftToRight||0)+1)/2,$=1-re,le=ue.width,se=ue.height,de=Math.abs(G-U),we=Math.abs(ee-Y),Ee=de>2*u&&we>2*u?u:0;de-=2*Ee,we-=2*Ee;var Me=D(Q);"auto"===Q&&!(le<=de&&se<=we)&&(le>de||se>we)&&(!(le>we||se>de)||le<se!=de<we)&&(Me+=90);var Ne=y(ue,Me),Ve=1;te&&(Ve=Math.min(1,de/Ne.x,we/Ne.y));var Pe=ue.left*$+ue.right*re,Ce=(ue.top+ue.bottom)/2,Ie=(U+u)*$+(G-u)*re,Je=(Y+ee)/2,Qe=0,ze=0;if(q||Z){var Ke=(pe?Ne.x:Ne.y)/2,ut=pe?T(U,G):T(Y,ee);pe?q?(Ie=U+ut*Ee,Qe=-ut*Ke):(Ie=G-ut*Ee,Qe=ut*Ke):q?(Je=Y+ut*Ee,ze=-ut*Ke):(Je=ee-ut*Ee,ze=ut*Ke)}return{textX:Pe,textY:Ce,targetX:Ie,targetY:Je,anchorX:Qe,anchorY:ze,scale:Ve,rotate:Me}}oe.exports={plot:function M(U,G,Y,ee,ue,ce){var pe=G.xaxis,te=G.yaxis,Q=U._fullLayout,K=U._context.staticPlot;ue||(ue={mode:Q.barmode,norm:Q.barmode,gap:Q.bargap,groupgap:Q.bargroupgap},o("bar",Q));var Z=l.makeTraceGroups(ee,Y,"trace bars").each(function(q){var fe=S.select(this),re=q[0].trace,de="bar"===re.type||"funnel"===re.type,we=0;"waterfall"===re.type&&re.connector.visible&&"between"===re.connector.mode&&(we=re.connector.line.width/2);var Ee="h"===re.orientation,Me=E(ue),Ne=l.ensureSingle(fe,"g","points"),Ve=function C(U){if(U.ids)return g}(re),Pe=Ne.selectAll("g.point").data(l.identity,Ve);Pe.enter().append("g").classed("point",!0),Pe.exit().remove(),Pe.each(function(Ie,Je){var lt,vt,Qe=S.select(this),ze=function L(U,G,Y,ee){var ue=[],ce=[],pe=ee?G:Y,te=ee?Y:G;return ue[0]=pe.c2p(U.s0,!0),ce[0]=te.c2p(U.p0,!0),ue[1]=pe.c2p(U.s1,!0),ce[1]=te.c2p(U.p1,!0),ee?[ue,ce]:[ce,ue]}(Ie,pe,te,Ee),Ke=ze[0][0],ut=ze[0][1],ot=ze[1][0],We=ze[1][1],je=0==(Ee?ut-Ke:We-ot);if(je&&de&&h.getLineWidth(re,Ie)&&(je=!1),je||(je=!(k(Ke)&&k(ut)&&k(ot)&&k(We))),Ie.isBlank=je,je&&(Ee?ut=Ke:We=ot),we&&!je&&(Ee?(Ke-=T(Ke,ut)*we,ut+=T(Ke,ut)*we):(ot-=T(ot,We)*we,We+=T(ot,We)*we)),"waterfall"===re.type){if(!je){var pt=re[Ie.dir].marker;lt=pt.line.width,vt=pt.color}}else lt=h.getLineWidth(re,Ie),vt=Ie.mc||re.marker.color;function St(Be){var He=S.round(lt/2%1,2);return 0===ue.gap&&0===ue.groupgap?S.round(Math.round(Be)-He,2):Be}if(!U._context.staticPlot){var nt=I.opacity(vt)<1||lt>.01?St:function Ct(Be,He,Ye){return Ye&&Be===He?Be:Math.abs(Be-He)>=2?St(Be):Be>He?Math.ceil(Be):Math.floor(Be)};Ke=nt(Ke,ut,Ee),ut=nt(ut,Ke,Ee),ot=nt(ot,We,!Ee),We=nt(We,ot,!Ee)}var ke=x(l.ensureSingle(Qe,"path"),Q,ue,ce);if(ke.style("vector-effect",K?"none":"non-scaling-stroke").attr("d",isNaN((ut-Ke)*(We-ot))||je&&U._context.staticPlot?"M0,0Z":"M"+Ke+","+ot+"V"+We+"H"+ut+"V"+ot+"Z").call(v.setClipUrl,G.layerClipId,U),!Q.uniformtext.mode&&Me){var Re=v.makePointStyleFns(re);v.singlePointStyle(Ie,ke,re,Re,U)}(function i(U,G,Y,ee,ue,ce,pe,te,Q,K,Z){var $,q=G.xaxis,fe=G.yaxis,re=U._fullLayout;function le(Be,He,Ye){return l.ensureSingle(Be,"text").text(He).attr({class:"bartext bartext-"+$,"text-anchor":"middle","data-notex":1}).call(v.font,Ye).call(R.convertToTspans,U)}var se=ee[0].trace,de="h"===se.orientation,we=function _(U,G,Y,ee,ue){var te,ce=G[0].trace;return te=ce.texttemplate?function V(U,G,Y,ee,ue){var ce=G[0].trace,pe=l.castOption(ce,Y,"texttemplate");if(!pe)return"";var q,fe,re,$,te="histogram"===ce.type,Q="waterfall"===ce.type,K="funnel"===ce.type,Z="h"===ce.orientation;function le(Ve){return r(fe,fe.c2l(Ve),!0).text}function se(Ve){return r($,$.c2l(Ve),!0).text}Z?(q="y",fe=ue,re="x",$=ee):(q="x",fe=ee,re="y",$=ue);var de=G[Y],we={};we.label=de.p,we.labelLabel=we[q+"Label"]=le(de.p);var Ee=l.castOption(ce,de.i,"text");(0===Ee||Ee)&&(we.text=Ee),we.value=de.s,we.valueLabel=we[re+"Label"]=se(de.s);var Me={};m(Me,ce,de.i),(te||void 0===Me.x)&&(Me.x=Z?we.value:we.label),(te||void 0===Me.y)&&(Me.y=Z?we.label:we.value),(te||void 0===Me.xLabel)&&(Me.xLabel=Z?we.valueLabel:we.labelLabel),(te||void 0===Me.yLabel)&&(Me.yLabel=Z?we.labelLabel:we.valueLabel),Q&&(we.delta=+de.rawS||de.s,we.deltaLabel=se(we.delta),we.final=de.v,we.finalLabel=se(we.final),we.initial=we.final-we.delta,we.initialLabel=se(we.initial)),K&&(we.value=de.s,we.valueLabel=se(we.value),we.percentInitial=de.begR,we.percentInitialLabel=l.formatPercent(de.begR),we.percentPrevious=de.difR,we.percentPreviousLabel=l.formatPercent(de.difR),we.percentTotal=de.sumR,we.percenTotalLabel=l.formatPercent(de.sumR));var Ne=l.castOption(ce,de.i,"customdata");return Ne&&(we.customdata=Ne),l.texttemplateString(pe,we,U._d3locale,Me,we,ce._meta||{})}(U,G,Y,ee,ue):ce.textinfo?function H(U,G,Y,ee){var ue=U[0].trace,ce="h"===ue.orientation,pe="waterfall"===ue.type,te="funnel"===ue.type;function Q(Ne){return r(ce?ee:Y,Ne,!0).text}function K(Ne){return r(ce?Y:ee,+Ne,!0).text}var $,q=U[G],fe=ue.textinfo.split("+"),re=[],le=function(Ne){return-1!==fe.indexOf(Ne)};if(le("label")&&re.push(Q(U[G].p)),le("text")&&(0===($=l.castOption(ue,q.i,"text"))||$)&&re.push($),pe){var se=+q.rawS||q.s,de=q.v,we=de-se;le("initial")&&re.push(K(we)),le("delta")&&re.push(K(se)),le("final")&&re.push(K(de))}if(te){le("value")&&re.push(K(q.s));var Ee=0;le("percent initial")&&Ee++,le("percent previous")&&Ee++,le("percent total")&&Ee++;var Me=Ee>1;le("percent initial")&&($=l.formatPercent(q.begR),Me&&($+=" of initial"),re.push($)),le("percent previous")&&($=l.formatPercent(q.difR),Me&&($+=" of previous"),re.push($)),le("percent total")&&($=l.formatPercent(q.sumR),Me&&($+=" of total"),re.push($))}return re.join("<br>")}(G,Y,ee,ue):h.getValue(ce.text,Y),h.coerceString(p,te)}(re,ee,ue,q,fe);$=function z(U,G){var Y=h.getValue(U.textposition,G);return h.coerceEnumerated(A,Y)}(se,ue);var Me=ee[ue],Ne=!("stack"===K.mode||"relative"===K.mode)||Me._outmost;if(we&&"none"!==$&&(!Me.isBlank&&ce!==pe&&te!==Q||"auto"!==$&&"inside"!==$)){var Ve=re.font,Pe=f.getBarColor(ee[ue],se),Ce=f.getInsideTextFont(se,ue,Ve,Pe),Ie=f.getOutsideTextFont(se,ue,Ve),Je=Y.datum();de?"log"===q.type&&Je.s0<=0&&(ce=q.range[0]<q.range[1]?0:q._length):"log"===fe.type&&Je.s0<=0&&(te=fe.range[0]<fe.range[1]?fe._length:0);var Ke,ut,ot,We,je,Qe=Math.abs(pe-ce)-2*u,ze=Math.abs(Q-te)-2*u;if("outside"===$&&!Ne&&!Me.hasB&&($="inside"),"auto"===$&&(Ne?($="inside",Ke=le(Y,we,je=l.ensureUniformFontSize(U,Ce)),We=(ut=v.bBox(Ke.node())).height,(ot=ut.width)>0&&We>0&&(ot<=Qe&&We<=ze||ot<=ze&&We<=Qe||(de?Qe>=ot*(ze/We):ze>=We*(Qe/ot)))?$="inside":($="outside",Ke.remove(),Ke=null)):$="inside"),!Ke){var Ct=(Ke=le(Y,we,je=l.ensureUniformFontSize(U,"outside"===$?Ie:Ce))).attr("transform");if(Ke.attr("transform",""),ot=(ut=v.bBox(Ke.node())).width,We=ut.height,Ke.attr("transform",Ct),ot<=0||We<=0)return void Ke.remove()}var nt,_t=se.textangle;(nt="outside"===$?function F(U,G,Y,ee,ue,ce){var re,pe=!!ce.isHorizontal,te=!!ce.constrained,Q=ce.angle||0,K=ue.width,Z=ue.height,q=Math.abs(G-U),fe=Math.abs(ee-Y);re=pe?fe>2*u?u:0:q>2*u?u:0;var $=1;te&&($=pe?Math.min(1,fe/Z):Math.min(1,q/K));var le=D(Q),se=y(ue,le),de=(pe?se.x:se.y)/2,we=(ue.left+ue.right)/2,Ee=(ue.top+ue.bottom)/2,Me=(U+G)/2,Ne=(Y+ee)/2,Ve=0,Pe=0,Ce=pe?T(G,U):T(Y,ee);return pe?(Me=G-Ce*re,Ve=Ce*de):(Ne=ee+Ce*re,Pe=-Ce*de),{textX:we,textY:Ee,targetX:Me,targetY:Ne,anchorX:Ve,anchorY:Pe,scale:$,rotate:le}}(ce,pe,te,Q,ut,{isHorizontal:de,constrained:"both"===se.constraintext||"outside"===se.constraintext,angle:_t}):B(ce,pe,te,Q,ut,{isHorizontal:de,constrained:"both"===se.constraintext||"inside"===se.constraintext,angle:_t,anchor:se.insidetextanchor})).fontSize=je.size,c("histogram"===se.type?"bar":se.type,nt,re),Me.transform=nt;var Re=x(Ke,re,K,Z);l.setTransormAndDisplay(Re,nt)}else Y.select("text").remove()})(U,G,Qe,q,Je,Ke,ut,ot,We,ue,ce),G.layerClipId&&v.hideOutsideRangePoint(Ie,Qe.select("text"),pe,te,re.xcalendar,re.ycalendar)}),v.setClipUrl(fe,!1===re.cliponaxis?null:G.layerClipId,U)});w.getComponentMethod("errorbars","plot")(U,Z,G,ue)},toMoveInsideBar:B}},81974:function(oe){"use strict";function J(t,S,k,l,R){var I=S.c2p(l?t.s0:t.p0,!0),v=S.c2p(l?t.s1:t.p1,!0),w=k.c2p(l?t.p0:t.s0,!0),r=k.c2p(l?t.p1:t.s1,!0);return R?[(I+v)/2,(w+r)/2]:l?[v,(w+r)/2]:[(I+v)/2,r]}oe.exports=function(S,k){var c,l=S.cd,R=S.xaxis,I=S.yaxis,v=l[0].trace,w="funnel"===v.type,r="h"===v.orientation,n=[];if(!1===k)for(c=0;c<l.length;c++)l[c].selected=0;else for(c=0;c<l.length;c++){var o=l[c],f="ct"in o?o.ct:J(o,R,I,r,w);k.contains(f,!1,c,S)?(n.push({pointNumber:c,x:R.c2d(o.x),y:I.c2d(o.y)}),o.selected=1):o.selected=0}return n}},61546:function(oe,J,t){"use strict";oe.exports=k;var S=t(71828).distinctVals;function k(l,R){this.traces=l,this.sepNegVal=R.sepNegVal,this.overlapNoMerge=R.overlapNoMerge;for(var I=1/0,v=R.posAxis._id.charAt(0),w=[],r=0;r<l.length;r++){for(var n=l[r],c=0;c<n.length;c++){var o=n[c],f=o.p;void 0===f&&(f=o[v]),void 0!==f&&w.push(f)}n[0]&&n[0].width1&&(I=Math.min(n[0].width1,I))}this.positions=w;var h=S(w);this.distinctPositions=h.vals,this.minDiff=1===h.vals.length&&I!==1/0?I:Math.min(h.minDiff,I);var d=(R.posAxis||{}).type;("category"===d||"multicategory"===d)&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}k.prototype.put=function(R,I){var v=this.getLabel(R,I),w=this.bins[v]||0;return this.bins[v]=w+I,w},k.prototype.get=function(R,I){var v=this.getLabel(R,I);return this.bins[v]||0},k.prototype.getLabel=function(R,I){return(I<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?R:Math.round(R/this.binWidth))}},16688:function(oe,J,t){"use strict";var S=t(39898),k=t(7901),l=t(91424),R=t(71828),I=t(73972),v=t(72597).resizeText,w=t(1486),r=w.textfont,n=w.insidetextfont,c=w.outsidetextfont,o=t(69383);function h(x,E,M){l.pointStyle(x.selectAll("path"),E,M),d(x,E,M)}function d(x,E,M){x.selectAll("text").each(function(i){var D=S.select(this),y=R.ensureUniformFontSize(M,m(D,i,E,M));l.font(D,y)})}function m(x,E,M,i){var D=i._fullLayout.font,y=M.textfont;if(x.classed("bartext-inside")){var B=L(E,M);y=g(M,E.i,D,B)}else x.classed("bartext-outside")&&(y=C(M,E.i,D));return y}function u(x,E,M){return T(r,x.textfont,E,M)}function g(x,E,M,i){var D=u(x,E,M);return(void 0===x._input.textfont||void 0===x._input.textfont.color||Array.isArray(x.textfont.color)&&void 0===x.textfont.color[E])&&(D={color:k.contrast(i),family:D.family,size:D.size}),T(n,x.insidetextfont,E,D)}function C(x,E,M){var i=u(x,E,M);return T(c,x.outsidetextfont,E,i)}function T(x,E,M,i){var D=o.getValue((E=E||{}).family,M),y=o.getValue(E.size,M),B=o.getValue(E.color,M);return{family:o.coerceString(x.family,D,i.family),size:o.coerceNumber(x.size,y,i.size),color:o.coerceColor(x.color,B,i.color)}}function L(x,E){return"waterfall"===E.type?E[x.dir].marker.color:x.mcc||x.mc||E.marker.color}oe.exports={style:function f(x){var E=S.select(x).selectAll("g.barlayer").selectAll("g.trace");v(x,E,"bar");var M=E.size(),i=x._fullLayout;E.style("opacity",function(D){return D[0].trace.opacity}).each(function(D){("stack"===i.barmode&&M>1||0===i.bargap&&0===i.bargroupgap&&!D[0].trace.marker.line.width)&&S.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(D){h(S.select(this),D[0].trace,x)}),I.getComponentMethod("errorbars","style")(E)},styleTextPoints:d,styleOnSelect:function b(x,E,M){var i=E[0].trace;i.selectedpoints?function p(x,E,M){l.selectedPointStyle(x.selectAll("path"),E),function A(x,E,M){x.each(function(i){var y,D=S.select(this);if(i.selected){y=R.ensureUniformFontSize(M,m(D,i,E,M));var B=E.selected.textfont&&E.selected.textfont.color;B&&(y.color=B),l.font(D,y)}else l.selectedTextStyle(D,E)})}(x.selectAll("text"),E,M)}(M,i,x):(h(M,i,x),I.getComponentMethod("errorbars","style")(M))},getInsideTextFont:g,getOutsideTextFont:C,getBarColor:L,resizeText:v}},98340:function(oe,J,t){"use strict";var S=t(7901),k=t(52075).hasColorscale,l=t(1586),R=t(71828).coercePattern;oe.exports=function(v,w,r,n,c){var o=r("marker.color",n),f=k(v,"marker");f&&l(v,w,c,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",S.defaultLine),k(v,"marker.line")&&l(v,w,c,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),R(r,"marker.pattern",o,f),r("selected.marker.color"),r("unselected.marker.color")}},72597:function(oe,J,t){"use strict";var S=t(39898),k=t(71828);function v(w){return"_"+w+"Text_minsize"}oe.exports={recordMinTextSize:function R(w,r,n){if(n.uniformtext.mode){var c=v(w),o=n.uniformtext.minsize,f=r.scale*r.fontSize;r.hide=f<o,n[c]=n[c]||1/0,r.hide||(n[c]=Math.min(n[c],Math.max(f,o)))}},clearMinTextSize:function I(w,r){r[v(w)]=void 0},resizeText:function l(w,r,n){var c=w._fullLayout,o=c["_"+n+"Text_minsize"];if(o){var h,f="hide"===c.uniformtext.mode;switch(n){case"funnelarea":case"pie":case"sunburst":h="g.slice";break;case"treemap":case"icicle":h="g.slice, g.pathbar";break;default:h="g.points > g.point"}r.selectAll(h).each(function(d){var b=d.transform;if(b){b.scale=f&&b.hide?0:o/b.fontSize;var p=S.select(this).select("text");k.setTransormAndDisplay(p,b)}})}}}},55023:function(oe,J,t){"use strict";var S=t(5386).fF,k=t(1426).extendFlat,l=t(81245),R=t(1486);oe.exports={r:l.r,theta:l.theta,r0:l.r0,dr:l.dr,theta0:l.theta0,dtheta:l.dtheta,thetaunit:l.thetaunit,base:k({},R.base,{}),offset:k({},R.offset,{}),width:k({},R.width,{}),text:k({},R.text,{}),hovertext:k({},R.hovertext,{}),marker:R.marker,hoverinfo:l.hoverinfo,hovertemplate:S(),selected:R.selected,unselected:R.unselected}},74692:function(oe,J,t){"use strict";var S=t(52075).hasColorscale,k=t(78803),l=t(75341),R=t(11661).setGroupPositions,I=t(66279),v=t(73972).traceIs,w=t(71828).extendFlat;oe.exports={calc:function r(c,o){for(var f=c._fullLayout,h=o.subplot,b=f[h].angularaxis,p=f[h].radialaxis.makeCalcdata(o,"r"),A=b.makeCalcdata(o,"theta"),m=o._length,u=new Array(m),g=p,C=A,T=0;T<m;T++)u[T]={p:C[T],s:g[T]};function L(x){var E=o[x];void 0!==E&&(o["_"+x]=Array.isArray(E)?b.makeCalcdata(o,x):b.d2c(E,o.thetaunit))}return"linear"===b.type&&(L("width"),L("offset")),S(o,"marker")&&k(c,o,{vals:o.marker.color,containerStr:"marker",cLetter:"c"}),S(o,"marker.line")&&k(c,o,{vals:o.marker.line.color,containerStr:"marker.line",cLetter:"c"}),l(u,o),I(u,o),u},crossTraceCalc:function n(c,o,f){for(var h=c.calcdata,d=[],b=0;b<h.length;b++){var p=h[b],A=p[0].trace;!0===A.visible&&v(A,"bar")&&A.subplot===f&&d.push(p)}var m=w({},o.radialaxis,{_id:"x"});R(c,o.angularaxis,m,d,{mode:o.barmode,norm:o.barnorm,gap:o.bargap,groupgap:o.bargroupgap})}}},6135:function(oe,J,t){"use strict";var S=t(71828),k=t(22184).handleRThetaDefaults,l=t(98340),R=t(55023);oe.exports=function(v,w,r,n){function c(f,h){return S.coerce(v,w,R,f,h)}k(v,w,n,c)?(c("thetaunit"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate"),l(v,w,c,r,n),S.coerceSelectionMarkerOpacity(w,c)):w.visible=!1}},27379:function(oe,J,t){"use strict";var S=t(30211),k=t(71828),l=t(95423).getTraceColor,R=k.fillText,I=t(59150).makeHoverPointText,v=t(10869).isPtInsidePolygon;oe.exports=function(r,n,c){var o=r.cd,f=o[0].trace,h=r.subplot,d=h.radialAxis,p=h.vangles,A=p?v:k.isPtInsideSector,m=r.maxHoverDistance,u=h.angularAxis._period||2*Math.PI,g=Math.abs(d.g2p(Math.sqrt(n*n+c*c))),C=Math.atan2(c,n);if(d.range[0]>d.range[1]&&(C+=Math.PI),S.getClosest(o,function(M){return A(g,C,[M.rp0,M.rp1],[M.thetag0,M.thetag1],p)?m+Math.min(1,Math.abs(M.thetag1-M.thetag0)/u)-1+(M.rp1-g)/(M.rp1-M.rp0)-1:1/0},r),!1!==r.index){var x=o[r.index];r.x0=r.x1=x.ct[0],r.y0=r.y1=x.ct[1];var E=k.extendFlat({},x,{r:x.s,theta:x.p});return R(x,f,r),I(E,f,h,r),r.hovertemplate=f.hovertemplate,r.color=l(f,x),r.xLabelVal=r.yLabelVal=void 0,x.s<0&&(r.idealAlign="left"),[r]}}},23381:function(oe,J,t){"use strict";oe.exports={moduleType:"trace",name:"barpolar",basePlotModule:t(23580),categories:["polar","bar","showLegend"],attributes:t(55023),layoutAttributes:t(40151),supplyDefaults:t(6135),supplyLayoutDefaults:t(19860),calc:t(74692).calc,crossTraceCalc:t(74692).crossTraceCalc,plot:t(60173),colorbar:t(4898),formatLabels:t(98608),style:t(16688).style,styleOnSelect:t(16688).styleOnSelect,hoverPoints:t(27379),selectPoints:t(81974),meta:{}}},40151:function(oe){"use strict";oe.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(oe,J,t){"use strict";var S=t(71828),k=t(40151);oe.exports=function(l,R,I){var w,v={};function r(o,f){return S.coerce(l[w]||{},R[w],k,o,f)}for(var n=0;n<I.length;n++){var c=I[n];"barpolar"===c.type&&!0===c.visible&&(v[w=c.subplot]||(r("barmode"),r("bargap"),v[w]=1))}}},60173:function(oe,J,t){"use strict";var S=t(39898),k=t(92770),l=t(71828),R=t(91424),I=t(10869);oe.exports=function(r,n,c){var o=r._context.staticPlot,f=n.xaxis,h=n.yaxis,d=n.radialAxis,b=n.angularAxis,p=function v(w){var r=w.cxx,n=w.cyy;return w.vangles?function(c,o,f,h){var d,b;l.angleDelta(f,h)>0?(d=f,b=h):(d=h,b=f);var p=I.findEnclosingVertexAngles(d,w.vangles)[0],A=I.findEnclosingVertexAngles(b,w.vangles)[1];return I.pathPolygonAnnulus(c,o,d,b,[p,(d+b)/2,A],r,n)}:function(c,o,f,h){return l.pathAnnulus(c,o,f,h,r,n)}}(n),A=n.layers.frontplot.select("g.barlayer");l.makeTraceGroups(A,c,"trace bars").each(function(){var m=S.select(this),g=l.ensureSingle(m,"g","points").selectAll("g.point").data(l.identity);g.enter().append("g").style("vector-effect",o?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),g.exit().remove(),g.each(function(C){var i,T=S.select(this),L=C.rp0=d.c2p(C.s0),x=C.rp1=d.c2p(C.s1),E=C.thetag0=b.c2g(C.p0),M=C.thetag1=b.c2g(C.p1);if(k(L)&&k(x)&&k(E)&&k(M)&&L!==x&&E!==M){var D=d.c2g(C.s1),y=(E+M)/2;C.ct=[f.c2p(D*Math.cos(y)),h.c2p(D*Math.sin(y))],i=p(L,x,E,M)}else i="M0,0Z";l.ensureSingle(T,"path").attr("d",i)}),R.setClipUrl(m,n._hasClipOnAxisFalse?n.clipIds.forTraces:null,r)})}},53522:function(oe,J,t){"use strict";var S=t(82196),k=t(1486),l=t(22399),R=t(12663).axisHoverFormat,I=t(5386).fF,v=t(1426).extendFlat,w=S.marker,r=w.line;oe.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:S.xperiod,yperiod:S.yperiod,xperiod0:S.xperiod0,yperiod0:S.yperiod0,xperiodalignment:S.xperiodalignment,yperiodalignment:S.yperiodalignment,xhoverformat:R("x"),yhoverformat:R("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},w.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},w.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},w.angle,{arrayOk:!1,editType:"calc"}),size:v({},w.size,{arrayOk:!1,editType:"calc"}),color:v({},w.color,{arrayOk:!1,editType:"style"}),line:{color:v({},r.color,{arrayOk:!1,dflt:l.defaultLine,editType:"style"}),width:v({},r.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:S.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,selected:{marker:S.selected.marker,editType:"style"},unselected:{marker:S.unselected.marker,editType:"style"},text:v({},S.text,{}),hovertext:v({},S.hovertext,{}),hovertemplate:I({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(oe,J,t){"use strict";var S=t(92770),k=t(89298),l=t(42973),R=t(71828),I=t(50606).BADNUM,v=R._;oe.exports=function(C,T){var D,y,B,F,_,z,V,L=C._fullLayout,x=k.getFromId(C,T.xaxis||"x"),E=k.getFromId(C,T.yaxis||"y"),M=[],i="violin"===T.type?"_numViolins":"_numBoxes";"h"===T.orientation?(B=x,F="x",_=E,z="y",V=!!T.yperiodalignment):(B=E,F="y",_=x,z="x",V=!!T.xperiodalignment);var ce,pe,te,Q,K,Z,H=function w(g,C,T,L){var y,E=C+"0"in g;if(C in g||E&&"d"+C in g){var i=T.makeCalcdata(g,C);return[l(g,T,C,i).vals,i]}y=E?g[C+"0"]:"name"in g&&("category"===T.type||S(g.name)&&-1!==["linear","log"].indexOf(T.type)||R.isDateTime(g.name)&&"date"===T.type)?g.name:L;for(var B="multicategory"===T.type?T.r2c_just_indices(y):T.d2c(y,0,g[C+"calendar"]),F=g._length,_=new Array(F),z=0;z<F;z++)_[z]=B;return[_]}(T,z,_,L[i]),U=H[0],G=H[1],Y=R.distinctVals(U,_),ee=Y.vals,ue=Y.minDiff/2,q="all"===(T.boxpoints||T.points)?R.identity:function(Ct){return Ct.v<ce.lf||Ct.v>ce.uf};if(T._hasPreCompStats){var fe=T[F],re=function(Ct){return B.d2c((T[Ct]||[])[D])},$=1/0,le=-1/0;for(D=0;D<T._length;D++){var se=U[D];if(S(se)){if((ce={}).pos=ce[z]=se,V&&G&&(ce.orig_p=G[D]),ce.q1=re("q1"),ce.med=re("median"),ce.q3=re("q3"),pe=[],fe&&R.isArrayOrTypedArray(fe[D]))for(y=0;y<fe[D].length;y++)(Z=B.d2c(fe[D][y]))!==I&&(o(K={v:Z,i:[D,y]},T,[D,y]),pe.push(K));if(ce.pts=pe.sort(h),Q=(te=ce[F]=pe.map(d)).length,ce.med!==I&&ce.q1!==I&&ce.q3!==I&&ce.med>=ce.q1&&ce.q3>=ce.med){var de=re("lowerfence");ce.lf=de!==I&&de<=ce.q1?de:b(ce,te,Q);var we=re("upperfence");ce.uf=we!==I&&we>=ce.q3?we:p(ce,te,Q);var Ee=re("mean");ce.mean=Ee!==I?Ee:Q?R.mean(te,Q):(ce.q1+ce.q3)/2;var Me=re("sd");ce.sd=Ee!==I&&Me>=0?Me:Q?R.stdev(te,Q,ce.mean):ce.q3-ce.q1,ce.lo=A(ce),ce.uo=m(ce);var Ne=re("notchspan");Ne=Ne!==I&&Ne>0?Ne:u(ce,Q),ce.ln=ce.med-Ne,ce.un=ce.med+Ne;var Ve=ce.lf,Pe=ce.uf;T.boxpoints&&te.length&&(Ve=Math.min(Ve,te[0]),Pe=Math.max(Pe,te[Q-1])),T.notched&&(Ve=Math.min(Ve,ce.ln),Pe=Math.max(Pe,ce.un)),ce.min=Ve,ce.max=Pe}else{var Ce;R.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ce.q1,"median = "+ce.med,"q3 = "+ce.q3].join("\n")),ce.med=Ce=ce.med!==I?ce.med:ce.q1!==I?ce.q3!==I?(ce.q1+ce.q3)/2:ce.q1:ce.q3!==I?ce.q3:0,ce.q1=ce.q3=Ce,ce.lf=ce.uf=Ce,ce.mean=ce.sd=Ce,ce.ln=ce.un=Ce,ce.min=ce.max=Ce}$=Math.min($,ce.min),le=Math.max(le,ce.max),ce.pts2=pe.filter(q),M.push(ce)}}T._extremes[B._id]=k.findExtremes(B,[$,le],{padded:!0})}else{var Ie=B.makeCalcdata(T,F),Je=function r(g,C){for(var T=g.length,L=new Array(T+1),x=0;x<T;x++)L[x]=g[x]-C;return L[T]=g[T-1]+C,L}(ee,ue),Qe=ee.length,ze=function n(g){for(var C=new Array(g),T=0;T<g;T++)C[T]=[];return C}(Qe);for(D=0;D<T._length;D++)if(S(Z=Ie[D])){var Ke=R.findBin(U[D],Je);Ke>=0&&Ke<Qe&&(o(K={v:Z,i:D},T,D),ze[Ke].push(K))}var ut=1/0,ot=-1/0,We=T.quartilemethod,je="exclusive"===We,lt="inclusive"===We;for(D=0;D<Qe;D++)if(ze[D].length>0){var vt,pt;(ce={}).pos=ce[z]=ee[D],pe=ce.pts=ze[D].sort(h),Q=(te=ce[F]=pe.map(d)).length,ce.min=te[0],ce.max=te[Q-1],ce.mean=R.mean(te,Q),ce.sd=R.stdev(te,Q,ce.mean)*T.sdmultiple,ce.med=R.interp(te,.5),Q%2&&(je||lt)?(je?(vt=te.slice(0,Q/2),pt=te.slice(Q/2+1)):lt&&(vt=te.slice(0,Q/2+1),pt=te.slice(Q/2)),ce.q1=R.interp(vt,.5),ce.q3=R.interp(pt,.5)):(ce.q1=R.interp(te,.25),ce.q3=R.interp(te,.75)),ce.lf=b(ce,te,Q),ce.uf=p(ce,te,Q),ce.lo=A(ce),ce.uo=m(ce);var St=u(ce,Q);ce.ln=ce.med-St,ce.un=ce.med+St,ut=Math.min(ut,ce.ln),ot=Math.max(ot,ce.un),ce.pts2=pe.filter(q),M.push(ce)}T._extremes[B._id]=k.findExtremes(B,T.notched?Ie.concat([ut,ot]):Ie,{padded:!0})}return function f(g,C){if(R.isArrayOrTypedArray(C.selectedpoints))for(var T=0;T<g.length;T++){for(var L=g[T].pts||[],x={},E=0;E<L.length;E++)x[L[E].i]=E;R.tagSelected(L,C,x)}}(M,T),M.length>0?(M[0].t={num:L[i],dPos:ue,posLetter:z,valLetter:F,labels:{med:v(C,"median:"),min:v(C,"min:"),q1:v(C,"q1:"),q3:v(C,"q3:"),max:v(C,"max:"),mean:"sd"===T.boxmean||"sd"===T.sizemode?v(C,"mean \xb1 \u03c3:").replace("\u03c3",1===T.sdmultiple?"\u03c3":T.sdmultiple+"\u03c3"):v(C,"mean:"),lf:v(C,"lower fence:"),uf:v(C,"upper fence:")}},L[i]++,M):[{t:{empty:!0}}]};var c={text:"tx",hovertext:"htx"};function o(g,C,T){for(var L in c)R.isArrayOrTypedArray(C[L])&&(Array.isArray(T)?R.isArrayOrTypedArray(C[L][T[0]])&&(g[c[L]]=C[L][T[0]][T[1]]):g[c[L]]=C[L][T])}function h(g,C){return g.v-C.v}function d(g){return g.v}function b(g,C,T){return 0===T?g.q1:Math.min(g.q1,C[Math.min(R.findBin(2.5*g.q1-1.5*g.q3,C,!0)+1,T-1)])}function p(g,C,T){return 0===T?g.q3:Math.max(g.q3,C[Math.max(R.findBin(2.5*g.q3-1.5*g.q1,C),0)])}function A(g){return 4*g.q1-3*g.q3}function m(g){return 4*g.q3-3*g.q1}function u(g,C){return 0===C?0:1.57*(g.q3-g.q1)/Math.sqrt(C)}},37188:function(oe,J,t){"use strict";var S=t(89298),k=t(71828),l=t(99082).getAxisGroup,R=["v","h"];function v(w,r,n,c){var b,p,A,o=r.calcdata,f=r._fullLayout,h=c._id,d=h.charAt(0),m=[],u=0;for(b=0;b<n.length;b++)for(A=o[n[b]],p=0;p<A.length;p++)m.push(c.c2l(A[p].pos,!0)),u+=(A[p].pts2||[]).length;if(m.length){var g=k.distinctVals(m);("category"===c.type||"multicategory"===c.type)&&(g.minDiff=1);var C=g.minDiff/2;S.minDtick(c,g.minDiff,g.vals[0],!0);var L=f["violin"===w?"_numViolins":"_numBoxes"],x="group"===f[w+"mode"]&&L>1,E=1-f[w+"gap"],M=1-f[w+"groupgap"];for(b=0;b<n.length;b++){var F,_,z,V,i=(A=o[n[b]])[0].trace,D=A[0].t,y=i.width,B=i.side;if(y)F=_=V=y/2,z=0;else if(F=C,x){var H=l(f,c._id)+i.orientation,Y=Object.keys(((f._alignmentOpts[H]||{})[i.alignmentgroup]||{}).offsetGroups||{}).length,ee=Y||L;_=F*E*M/ee,z=2*F*(((Y?i._offsetIndex:D.num)+.5)/ee-.5)*E,V=F*E/ee}else _=F*E*M,z=0,V=F;D.dPos=F,D.bPos=z,D.bdPos=_,D.wHover=V;var ce,pe,Q,K,Z,q,fe,re,te=z+_,$=!!y;if("positive"===B?(ce=F*(y?1:.5),Q=te,pe=Q=z):"negative"===B?(ce=Q=z,pe=F*(y?1:.5),K=te):(ce=pe=F,Q=K=te),(i.boxpoints||i.points)&&u>0){var se=i.pointpos,de=i.jitter,we=i.marker.size/2,Ee=0;se+de>=0&&((Ee=te*(se+de))>ce?($=!0,fe=we,Z=Ee):Ee>Q&&(fe=we,Z=ce)),Ee<=ce&&(Z=ce);var Me=0;se-de<=0&&((Me=-te*(se-de))>pe?($=!0,re=we,q=Me):Me>K&&(re=we,q=pe)),Me<=pe&&(q=pe)}else Z=ce,q=pe;var Ne=new Array(A.length);for(p=0;p<A.length;p++)Ne[p]=A[p].pos;i._extremes[h]=S.findExtremes(c,Ne,{padded:$,vpadminus:q,vpadplus:Z,vpadLinearized:!0,ppadminus:{x:re,y:fe}[d],ppadplus:{x:fe,y:re}[d]})}}}oe.exports={crossTraceCalc:function I(w,r){for(var n=w.calcdata,c=r.xaxis,o=r.yaxis,f=0;f<R.length;f++){for(var h=R[f],d="h"===h?o:c,b=[],p=0;p<n.length;p++){var A=n[p],u=A[0].trace;!0===u.visible&&("box"===u.type||"candlestick"===u.type)&&!A[0].t.empty&&(u.orientation||"v")===h&&u.xaxis===c._id&&u.yaxis===o._id&&b.push(p)}v("box",w,b,d)}},setPositionOffset:v}},36411:function(oe,J,t){"use strict";var S=t(71828),k=t(73972),l=t(7901),R=t(73927),I=t(26125),v=t(4322),w=t(53522);function n(f,h,d,b){function p(Y){var ee=0;return Y&&Y.length&&(ee+=1,S.isArrayOrTypedArray(Y[0])&&Y[0].length&&(ee+=1)),ee}function A(Y){return S.validate(f[Y],w[Y])}var g,m=d("y"),u=d("x");if("box"===h.type){var C=d("q1"),T=d("median"),L=d("q3");h._hasPreCompStats=C&&C.length&&T&&T.length&&L&&L.length,g=Math.min(S.minRowLength(C),S.minRowLength(T),S.minRowLength(L))}var B,F,x=p(m),E=p(u),M=x&&S.minRowLength(m),i=E&&S.minRowLength(u),D=b.calendar,y={autotypenumbers:b.autotypenumbers};if(h._hasPreCompStats)switch(String(E)+String(x)){case"00":var _=A("x0")||A("dx");B=!A("y0")&&!A("dy")||_?"v":"h",F=g;break;case"10":B="v",F=Math.min(g,i);break;case"20":B="h",F=Math.min(g,u.length);break;case"01":B="h",F=Math.min(g,M);break;case"02":B="v",F=Math.min(g,m.length);break;case"12":B="v",F=Math.min(g,i,m.length);break;case"21":B="h",F=Math.min(g,u.length,M);break;case"11":F=0;break;case"22":var H,V=!1;for(H=0;H<u.length;H++)if("category"===v(u[H],D,y)){V=!0;break}if(V)B="v",F=Math.min(g,i,m.length);else{for(H=0;H<m.length;H++)if("category"===v(m[H],D,y)){V=!0;break}V?(B="h",F=Math.min(g,u.length,M)):(B="v",F=Math.min(g,i,m.length))}}else x>0?(B="v",F=E>0?Math.min(i,M):Math.min(M)):E>0?(B="h",F=Math.min(i)):F=0;if(F){h._length=F;var U=d("orientation",B);h._hasPreCompStats?"v"===U&&0===E?(d("x0",0),d("dx",1)):"h"===U&&0===x&&(d("y0",0),d("dy",1)):"v"===U&&0===E?d("x0"):"h"===U&&0===x&&d("y0"),k.getComponentMethod("calendars","handleTraceDefaults")(f,h,["x","y"],b)}else h.visible=!1}function c(f,h,d,b){var p=b.prefix,A=S.coerce2(f,h,w,"marker.outliercolor"),m=d("marker.line.outliercolor"),u="outliers";h._hasPreCompStats?u="all":(A||m)&&(u="suspectedoutliers");var g=d(p+"points",u);g?(d("jitter","all"===g?.3:0),d("pointpos","all"===g?-1.5:0),d("marker.symbol"),d("marker.opacity"),d("marker.size"),d("marker.angle"),d("marker.color",h.line.color),d("marker.line.color"),d("marker.line.width"),"suspectedoutliers"===g&&(d("marker.line.outliercolor",h.marker.color),d("marker.line.outlierwidth")),d("selected.marker.color"),d("unselected.marker.color"),d("selected.marker.size"),d("unselected.marker.size"),d("text"),d("hovertext")):delete h.marker;var C=d("hoveron");("all"===C||-1!==C.indexOf("points"))&&d("hovertemplate"),S.coerceSelectionMarkerOpacity(h,d)}oe.exports={supplyDefaults:function r(f,h,d,b){function p(M,i){return S.coerce(f,h,w,M,i)}if(n(f,h,p,b),!1!==h.visible){R(f,h,b,p),p("xhoverformat"),p("yhoverformat");var A=h._hasPreCompStats;A&&(p("lowerfence"),p("upperfence")),p("line.color",(f.marker||{}).color||d),p("line.width"),p("fillcolor",l.addOpacity(h.line.color,.5));var m=!1;if(A){var u=p("mean"),g=p("sd");u&&u.length&&(m=!0,g&&g.length&&(m="sd"))}p("whiskerwidth");var T,C=p("sizemode");"quartiles"===C&&(T=p("boxmean",m)),p("showwhiskers","quartiles"===C),("sd"===C||"sd"===T)&&p("sdmultiple"),p("width"),p("quartilemethod");var L=!1;if(A){var x=p("notchspan");x&&x.length&&(L=!0)}else S.validate(f.notchwidth,w.notchwidth)&&(L=!0);p("notched",L)&&p("notchwidth"),c(f,h,p,{prefix:"box"})}},crossTraceDefaults:function o(f,h){var b;function p(u){return S.coerce(b._input,b,w,u)}for(var A=0;A<f.length;A++){var m=(b=f[A]).type;("box"===m||"violin"===m)&&"group"===h[m+"mode"]&&I(b._input,b,h,p)}},handleSampleDefaults:n,handlePointsDefaults:c}},74907:function(oe){"use strict";oe.exports=function(t,S){return S.hoverOnBox&&(t.hoverOnBox=S.hoverOnBox),"xVal"in S&&(t.x=S.xVal),"yVal"in S&&(t.y=S.yVal),S.xa&&(t.xaxis=S.xa),S.ya&&(t.yaxis=S.ya),t}},41868:function(oe,J,t){"use strict";var S=t(89298),k=t(71828),l=t(30211),R=t(7901),I=k.fillText;function w(n,c,o,f){var u,g,C,T,L,x,E,M,i,D,y,F,_,H,h=n.cd,d=n.xa,b=n.ya,p=h[0].trace,A=h[0].t,m="violin"===p.type,B=A.bdPos,z=A.wHover,V=function(Me){return C.c2l(Me.pos)+A.bPos-C.c2l(x)};m&&"both"!==p.side?("positive"===p.side&&(i=function(Me){var Ne=V(Me);return l.inbox(Ne,Ne+z,D)},F=B,_=0),"negative"===p.side&&(i=function(Me){var Ne=V(Me);return l.inbox(Ne-z,Ne,D)},F=0,_=B)):(i=function(Me){var Ne=V(Me);return l.inbox(Ne-z,Ne+z,D)},F=_=B),H=m?function(Me){return l.inbox(Me.span[0]-L,Me.span[1]-L,D)}:function(Me){return l.inbox(Me.min-L,Me.max-L,D)},"h"===p.orientation?(L=c,x=o,E=H,M=i,u="y",C=b,g="x",T=d):(L=o,x=c,E=i,M=H,u="x",C=d,g="y",T=b);var U=Math.min(1,B/Math.abs(C.r2c(C.range[1])-C.r2c(C.range[0])));function G(Me){return(E(Me)+M(Me))/2}D=n.maxHoverDistance-U,y=n.maxSpikeDistance-U;var Y=l.getDistanceFunction(f,E,M,G);if(l.getClosest(h,Y,n),!1===n.index)return[];var ee=h[n.index],ue=p.line.color,ce=(p.marker||{}).color;n.color=R.opacity(ue)&&p.line.width?ue:R.opacity(ce)&&p.boxpoints?ce:p.fillcolor,n[u+"0"]=C.c2p(ee.pos+A.bPos-_,!0),n[u+"1"]=C.c2p(ee.pos+A.bPos+F,!0),n[u+"LabelVal"]=void 0!==ee.orig_p?ee.orig_p:ee.pos;var pe=u+"Spike";n.spikeDistance=G(ee)*y/D,n[pe]=C.c2p(ee.pos,!0);var te=p.boxmean||"sd"===p.sizemode||(p.meanline||{}).visible,Q=p.boxpoints||p.points,K=Q&&te?["max","uf","q3","med","mean","q1","lf","min"]:Q&&!te?["max","uf","q3","med","q1","lf","min"]:!Q&&te?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"];p.orientation===(T.range[1]<T.range[0]?"v":"h")&&K.reverse();for(var q=n.spikeDistance,fe=n[pe],re=[],$=0;$<K.length;$++){var le=K[$];if(le in ee){var se=ee[le],de=T.c2p(se,!0),we=k.extendFlat({},n);we.attr=le,we[g+"0"]=we[g+"1"]=de,we[g+"LabelVal"]=se,we[g+"Label"]=(A.labels?A.labels[le]+" ":"")+S.hoverLabelText(T,se,p[g+"hoverformat"]),we.hoverOnBox=!0,"mean"===le&&"sd"in ee&&("sd"===p.boxmean||"sd"===p.sizemode)&&(we[g+"err"]=ee.sd),we.hovertemplate=!1,re.push(we)}}n.name="",n.spikeDistance=void 0,n[pe]=void 0;for(var Ee=0;Ee<re.length;Ee++)"med"!==re[Ee].attr?(re[Ee].name="",re[Ee].spikeDistance=void 0,re[Ee][pe]=void 0):(re[Ee].spikeDistance=q,re[Ee][pe]=fe);return re}function r(n,c,o){for(var m,L,x,f=n.cd,h=n.xa,d=n.ya,b=f[0].trace,p=h.c2p(c),A=d.c2p(o),C=l.quadrature(function(H){var U=Math.max(3,H.mrc||0);return Math.max(Math.abs(h.c2p(H.x)-p)-U,1-3/U)},function(H){var U=Math.max(3,H.mrc||0);return Math.max(Math.abs(d.c2p(H.y)-A)-U,1-3/U)}),T=!1,E=0;E<f.length;E++){L=f[E];for(var M=0;M<(L.pts||[]).length;M++){var i=C(x=L.pts[M]);i<=n.distance&&(n.distance=i,T=[E,M])}}if(!T)return!1;var D=h.c2p((x=(L=f[T[0]]).pts[T[1]]).x,!0),y=d.c2p(x.y,!0),B=x.mrc||1;m=k.extendFlat({},n,{index:x.i,color:(b.marker||{}).color,name:b.name,x0:D-B,x1:D+B,y0:y-B,y1:y+B,spikeDistance:n.distance,hovertemplate:b.hovertemplate});var z,F=L.orig_p,_=void 0!==F?F:L.pos;return"h"===b.orientation?(z=d,m.xLabelVal=x.x,m.yLabelVal=_):(z=h,m.xLabelVal=_,m.yLabelVal=x.y),m[z._id.charAt(0)+"Spike"]=z.c2p(L.pos,!0),I(x,b,m),m}oe.exports={hoverPoints:function v(n,c,o,f){var A,b=n.cd[0].trace.hoveron,p=[];return-1!==b.indexOf("boxes")&&(p=p.concat(w(n,c,o,f))),-1!==b.indexOf("points")&&(A=r(n,c,o)),"closest"===f?A?[A]:p:(A&&p.push(A),p)},hoverOnBoxes:w,hoverOnPoints:r}},83832:function(oe,J,t){"use strict";oe.exports={attributes:t(53522),layoutAttributes:t(40094),supplyDefaults:t(36411).supplyDefaults,crossTraceDefaults:t(36411).crossTraceDefaults,supplyLayoutDefaults:t(4199).supplyLayoutDefaults,calc:t(48518),crossTraceCalc:t(37188).crossTraceCalc,plot:t(86047).plot,style:t(58063).style,styleOnSelect:t(58063).styleOnSelect,hoverPoints:t(41868).hoverPoints,eventData:t(74907),selectPoints:t(24626),moduleType:"trace",name:"box",basePlotModule:t(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(oe){"use strict";oe.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(oe,J,t){"use strict";var S=t(73972),k=t(71828),l=t(40094);function R(v,w,r,n,c){for(var o=c+"Layout",f=!1,h=0;h<r.length;h++)if(S.traceIs(r[h],o)){f=!0;break}f&&(n(c+"mode"),n(c+"gap"),n(c+"groupgap"))}oe.exports={supplyLayoutDefaults:function I(v,w,r){R(0,0,r,function n(c,o){return k.coerce(v,w,l,c,o)},"box")},_supply:R}},86047:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(91424),R=5,I=.01;function w(c,o,f,h,d){var M,i,b="h"===f.orientation,p=o.val,A=o.pos,m=!!A.rangebreaks,u=h.bPos,g=h.wdPos||0,C=h.bPosPxOffset||0,T=f.whiskerwidth||0,L=!1!==f.showwhiskers,x=f.notched||!1,E=x?1-2*f.notchwidth:1;Array.isArray(h.bdPos)?(M=h.bdPos[0],i=h.bdPos[1]):(M=h.bdPos,i=h.bdPos);var D=c.selectAll("path.box").data("violin"!==f.type||f.box.visible?k.identity:[]);D.enter().append("path").style("vector-effect",d?"none":"non-scaling-stroke").attr("class","box"),D.exit().remove(),D.each(function(y){if(y.empty)return S.select(this).attr("d","M0,0Z");var B=A.c2l(y.pos+u,!0),F=A.l2p(B-M)+C,_=A.l2p(B+i)+C,z=m?(F+_)/2:A.l2p(B)+C,V=f.whiskerwidth,H=m?F*V+(1-V)*z:A.l2p(B-g)+C,U=m?_*V+(1-V)*z:A.l2p(B+g)+C,G=A.l2p(B-M*E)+C,Y=A.l2p(B+i*E)+C,ee="sd"===f.sizemode,ue=p.c2p(ee?y.mean-y.sd:y.q1,!0),ce=p.c2p(ee?y.mean+y.sd:y.q3,!0),pe=k.constrain(p.c2p(ee?y.mean:y.med,!0),Math.min(ue,ce)+1,Math.max(ue,ce)-1),te=void 0===y.lf||!1===f.boxpoints||ee,Q=p.c2p(te?y.min:y.lf,!0),K=p.c2p(te?y.max:y.uf,!0),Z=p.c2p(y.ln,!0),q=p.c2p(y.un,!0);b?S.select(this).attr("d","M"+pe+","+G+"V"+Y+"M"+ue+","+F+"V"+_+(x?"H"+Z+"L"+pe+","+Y+"L"+q+","+_:"")+"H"+ce+"V"+F+(x?"H"+q+"L"+pe+","+G+"L"+Z+","+F:"")+"Z"+(L?"M"+ue+","+z+"H"+Q+"M"+ce+","+z+"H"+K+(0===T?"":"M"+Q+","+H+"V"+U+"M"+K+","+H+"V"+U):"")):S.select(this).attr("d","M"+G+","+pe+"H"+Y+"M"+F+","+ue+"H"+_+(x?"V"+Z+"L"+Y+","+pe+"L"+_+","+q:"")+"V"+ce+"H"+F+(x?"V"+q+"L"+G+","+pe+"L"+F+","+Z:"")+"Z"+(L?"M"+z+","+ue+"V"+Q+"M"+z+","+ce+"V"+K+(0===T?"":"M"+H+","+Q+"H"+U+"M"+H+","+K+"H"+U):""))})}function r(c,o,f,h){var d=o.x,b=o.y,p=h.bdPos,A=h.bPos,m=f.boxpoints||f.points;k.seedPseudoRandom();var g=c.selectAll("g.points").data(m?function(T){return T.forEach(function(L){L.t=h,L.trace=f}),T}:[]);g.enter().append("g").attr("class","points"),g.exit().remove();var C=g.selectAll("path").data(function(T){var L,B,x=T.pts2,E=Math.max((T.max-T.min)/10,T.q3-T.q1),M=1e-9*E,i=E*I,D=[],y=0;if(f.jitter){if(0===E)for(y=1,D=new Array(x.length),L=0;L<x.length;L++)D[L]=1;else for(L=0;L<x.length;L++){var F=Math.max(0,L-R),_=x[F].v,z=Math.min(x.length-1,L+R),V=x[z].v;"all"!==m&&(x[L].v<T.lf?V=Math.min(V,T.lf):_=Math.max(_,T.uf));var H=Math.sqrt(i*(z-F)/(V-_+M))||0;H=k.constrain(Math.abs(H),0,1),D.push(H),y=Math.max(H,y)}B=2*f.jitter/(y||1)}for(L=0;L<x.length;L++){var U=x[L],G=U.v,Y=f.jitter?B*D[L]*(k.pseudoRandom()-.5):0,ee=T.pos+A+p*(f.pointpos+Y);"h"===f.orientation?(U.y=ee,U.x=G):(U.x=ee,U.y=G),"suspectedoutliers"===m&&G<T.uo&&G>T.lo&&(U.so=!0)}return x});C.enter().append("path").classed("point",!0),C.exit().remove(),C.call(l.translatePoints,d,b)}function n(c,o,f,h){var g,C,d=o.val,b=o.pos,p=!!b.rangebreaks,A=h.bPos,m=h.bPosPxOffset||0,u=f.boxmean||(f.meanline||{}).visible;Array.isArray(h.bdPos)?(g=h.bdPos[0],C=h.bdPos[1]):(g=h.bdPos,C=h.bdPos);var T=c.selectAll("path.mean").data("box"===f.type&&f.boxmean||"violin"===f.type&&f.box.visible&&f.meanline.visible?k.identity:[]);T.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),T.exit().remove(),T.each(function(L){var x=b.c2l(L.pos+A,!0),E=b.l2p(x-g)+m,M=b.l2p(x+C)+m,i=p?(E+M)/2:b.l2p(x)+m,D=d.c2p(L.mean,!0),y=d.c2p(L.mean-L.sd,!0),B=d.c2p(L.mean+L.sd,!0);"h"===f.orientation?S.select(this).attr("d","M"+D+","+E+"V"+M+("sd"===u?"m0,0L"+y+","+i+"L"+D+","+E+"L"+B+","+i+"Z":"")):S.select(this).attr("d","M"+E+","+D+"H"+M+("sd"===u?"m0,0L"+i+","+y+"L"+E+","+D+"L"+i+","+B+"Z":""))})}oe.exports={plot:function v(c,o,f,h){var d=c._context.staticPlot,b=o.xaxis,p=o.yaxis;k.makeTraceGroups(h,f,"trace boxes").each(function(A){var T,L,m=S.select(this),u=A[0],g=u.t,C=u.trace;g.wdPos=g.bdPos*C.whiskerwidth,!0!==C.visible||g.empty?m.remove():("h"===C.orientation?(T=p,L=b):(T=b,L=p),w(m,{pos:T,val:L},C,g,d),r(m,{x:b,y:p},C,g),n(m,{pos:T,val:L},C,g))})},plotBoxAndWhiskers:w,plotPoints:r,plotBoxMean:n}},24626:function(oe){"use strict";oe.exports=function(t,S){var v,w,k=t.cd,l=t.xaxis,R=t.yaxis,I=[];if(!1===S)for(v=0;v<k.length;v++)for(w=0;w<(k[v].pts||[]).length;w++)k[v].pts[w].selected=0;else for(v=0;v<k.length;v++)for(w=0;w<(k[v].pts||[]).length;w++){var r=k[v].pts[w],n=l.c2p(r.x),c=R.c2p(r.y);S.contains([n,c],null,r.i,t)?(I.push({pointNumber:r.i,x:l.c2d(r.x),y:R.c2d(r.y)}),r.selected=1):r.selected=0}return I}},58063:function(oe,J,t){"use strict";var S=t(39898),k=t(7901),l=t(91424);oe.exports={style:function R(v,w,r){var n=r||S.select(v).selectAll("g.trace.boxes");n.style("opacity",function(c){return c[0].trace.opacity}),n.each(function(c){var o=S.select(this),f=c[0].trace,h=f.line.width;function d(A,m,u,g){A.style("stroke-width",m+"px").call(k.stroke,u).call(k.fill,g)}var b=o.selectAll("path.box");if("candlestick"===f.type)b.each(function(A){if(!A.empty){var m=S.select(this),u=f[A.dir];d(m,u.line.width,u.line.color,u.fillcolor),m.style("opacity",f.selectedpoints&&!A.selected?.3:1)}});else{d(b,h,f.line.color,f.fillcolor),o.selectAll("path.mean").style({"stroke-width":h,"stroke-dasharray":2*h+"px,"+h+"px"}).call(k.stroke,f.line.color);var p=o.selectAll("path.point");l.pointStyle(p,f,v)}})},styleOnSelect:function I(v,w,r){var n=w[0].trace,c=r.selectAll("path.point");n.selectedpoints?l.selectedPointStyle(c,n):l.pointStyle(c,n,v)}}},75343:function(oe,J,t){"use strict";var S=t(71828).extendFlat,k=t(12663).axisHoverFormat,l=t(2522),R=t(53522);function I(v){return{line:{color:S({},R.line.color,{dflt:v}),width:R.line.width,editType:"style"},fillcolor:R.fillcolor,editType:"style"}}oe.exports={xperiod:l.xperiod,xperiod0:l.xperiod0,xperiodalignment:l.xperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),x:l.x,open:l.open,high:l.high,low:l.low,close:l.close,line:{width:S({},R.line.width,{}),editType:"style"},increasing:I(l.increasing.line.color.dflt),decreasing:I(l.decreasing.line.color.dflt),text:l.text,hovertext:l.hovertext,whiskerwidth:S({},R.whiskerwidth,{dflt:0}),hoverlabel:l.hoverlabel}},41197:function(oe,J,t){"use strict";var S=t(71828),k=t(89298),l=t(42973),R=t(3485).calcCommon;function I(v,w,r,n){return{min:r,q1:Math.min(v,n),med:n,q3:Math.max(v,n),max:w}}oe.exports=function(v,w){var r=v._fullLayout,n=k.getFromId(v,w.xaxis),c=k.getFromId(v,w.yaxis),o=n.makeCalcdata(w,"x"),f=l(w,n,"x",o).vals,h=R(v,w,o,f,c,I);return h.length?(S.extendFlat(h[0].t,{num:r._numBoxes,dPos:S.distinctVals(f).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,h):[{t:{empty:!0}}]}},1026:function(oe,J,t){"use strict";var S=t(71828),k=t(7901),l=t(14555),R=t(73927),I=t(75343);function v(w,r,n,c){var o=n(c+".line.color");n(c+".line.width",r.line.width),n(c+".fillcolor",k.addOpacity(o,.5))}oe.exports=function(r,n,c,o){function f(d,b){return S.coerce(r,n,I,d,b)}l(r,n,f,o)?(R(r,n,o,f,{x:!0}),f("xhoverformat"),f("yhoverformat"),f("line.width"),v(0,n,f,"increasing"),v(0,n,f,"decreasing"),f("text"),f("hovertext"),f("whiskerwidth"),o._requestRangeslider[n.xaxis]=!0):n.visible=!1}},91815:function(oe,J,t){"use strict";oe.exports={moduleType:"trace",name:"candlestick",basePlotModule:t(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:t(75343),layoutAttributes:t(40094),supplyLayoutDefaults:t(4199).supplyLayoutDefaults,crossTraceCalc:t(37188).crossTraceCalc,supplyDefaults:t(1026),calc:t(41197),plot:t(86047).plot,layerName:"boxlayer",style:t(58063).style,hoverPoints:t(66449).hoverPoints,selectPoints:t(67324)}},13145:function(oe,J,t){"use strict";var S=t(11500),k=t(44467);oe.exports=function(I,v,w,r,n){r("a")||(r("da"),r("a0")),r("b")||(r("db"),r("b0")),function l(R,I,v,w){["aaxis","baxis"].forEach(function(n){var c=n.charAt(0),o=R[n]||{},f=k.newContainer(I,n);S(o,f,{noTicklabelstep:!0,tickfont:"x",id:c+"axis",letter:c,font:I.font,name:n,data:R[c],calendar:I.calendar,dfltColor:w,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v}),f._categories=f._categories||[],!R[n]&&"-"!==o.type&&(R[n]={type:o.type})})}(I,v,w,n)}},402:function(oe,J,t){"use strict";var S=t(71828).isArrayOrTypedArray;function k(l,R){if(!S(l)||R>=10)return null;for(var I=1/0,v=-1/0,w=l.length,r=0;r<w;r++){var n=l[r];if(S(n)){var c=k(n,R+1);c&&(I=Math.min(c[0],I),v=Math.max(c[1],v))}else I=Math.min(n,I),v=Math.max(n,v)}return[I,v]}oe.exports=function(l){return k(l,0)}},99798:function(oe,J,t){"use strict";var S=t(41940),k=t(1928),l=t(22399),R=S({editType:"calc"});R.family.dflt='"Open Sans", verdana, arial, sans-serif',R.size.dflt=12,R.color.dflt=l.defaultLine,oe.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:k,baxis:k,font:R,color:{valType:"color",dflt:l.defaultLine,editType:"plot"},transforms:void 0}},4536:function(oe,J,t){"use strict";var S=t(71828).isArrayOrTypedArray;oe.exports=function(k,l,R,I){var v,w,r,n,c,o,f,h,d,b,p,A,m,u=S(R)?"a":"b",C=("a"===u?k.aaxis:k.baxis).smoothing,T="a"===u?k.a2i:k.b2j,L="a"===u?R:I,x="a"===u?I:R,E="a"===u?l.a.length:l.b.length,M="a"===u?l.b.length:l.a.length,i=Math.floor("a"===u?k.b2j(x):k.a2i(x)),D="a"===u?function(ue){return k.evalxy([],ue,i)}:function(ue){return k.evalxy([],i,ue)};C&&(r=Math.max(0,Math.min(M-2,i)),n=i-r,w="a"===u?function(ue,ce){return k.dxydi([],ue,r,ce,n)}:function(ue,ce){return k.dxydj([],r,ue,n,ce)});var y=T(L[0]),B=T(L[1]),F=y<B?1:-1,_=1e-8*(B-y),z=F>0?Math.floor:Math.ceil,V=F>0?Math.ceil:Math.floor,H=F>0?Math.min:Math.max,U=F>0?Math.max:Math.min,G=z(y+_),Y=V(B-_),ee=[[f=D(y)]];for(v=G;v*F<Y*F;v+=F)c=[],p=U(y,v),m=(A=H(B,v+F))-p,o=Math.max(0,Math.min(E-2,Math.floor(.5*(p+A)))),h=D(A),C&&(d=w(o,p-o),b=w(o,A-o),c.push([f[0]+d[0]/3*m,f[1]+d[1]/3*m]),c.push([h[0]-b[0]/3*m,h[1]-b[1]/3*m])),c.push(h),ee.push(c),f=h;return ee}},1928:function(oe,J,t){"use strict";var S=t(41940),k=t(22399),l=t(13838),R=t(12663).descriptionWithDates,I=t(30962).overrideAll,v=t(79952).P,w=t(1426).extendFlat;oe.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:S({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:l.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:w({},l.labelalias,{editType:"calc"}),tickfont:S({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:R("tick label")},tickformatstops:I(l.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:w({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:w({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:k.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:S({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(oe,J,t){"use strict";var S=t(99798),k=t(7901).addOpacity,l=t(73972),R=t(71828),I=t(26218),v=t(96115),w=t(89426),r=t(15258),n=t(21994),c=t(4322);oe.exports=function(h,d,b){var p=b.letter,A=b.font||{},m=S[p+"axis"];function u(G,Y){return R.coerce(h,d,m,G,Y)}function g(G,Y){return R.coerce2(h,d,m,G,Y)}b.name&&(d._name=b.name,d._id=b.name),u("autotypenumbers",b.autotypenumbersDflt);var C=u("type");"-"===C&&(b.data&&function o(f,h){if("-"===f.type){var b=f._id.charAt(0);f.type=c(h,f[b+"calendar"],{autotypenumbers:f.autotypenumbers})}}(d,b.data),"-"===d.type?d.type="linear":C=h.type=d.type),u("smoothing"),u("cheatertype"),u("showticklabels"),u("labelprefix",p+" = "),u("labelsuffix"),u("showtickprefix"),u("showticksuffix"),u("separatethousands"),u("tickformat"),u("exponentformat"),u("minexponent"),u("showexponent"),u("categoryorder"),u("tickmode"),u("tickvals"),u("ticktext"),u("tick0"),u("dtick"),"array"===d.tickmode&&(u("arraytick0"),u("arraydtick")),u("labelpadding"),d._hovertitle=p,"date"===C&&l.getComponentMethod("calendars","handleDefaults")(h,d,"calendar",b.calendar),n(d,b.fullLayout),d.c2p=R.identity;var L=u("color",b.dfltColor),x=L===h.color?L:A.color;u("title.text")&&(R.coerceFont(u,"title.font",{family:A.family,size:R.bigFont(A.size),color:x}),u("title.offset")),u("tickangle"),u("autorange",!d.isValidRange(h.range))&&u("rangemode"),u("range"),d.cleanRange(),u("fixedrange"),I(h,d,u,C),w(h,d,u,C,b),v(h,d,u,C,b),r(h,d,u,{data:b.data,dataAttr:p});var i=g("gridcolor",k(L,.3)),D=g("gridwidth"),y=g("griddash"),B=u("showgrid");B||(delete d.gridcolor,delete d.gridwidth,delete d.griddash);var F=g("startlinecolor",L),_=g("startlinewidth",D);u("startline",d.showgrid||!!F||!!_)||(delete d.startlinecolor,delete d.startlinewidth);var V=g("endlinecolor",L),H=g("endlinewidth",D);return u("endline",d.showgrid||!!V||!!H)||(delete d.endlinecolor,delete d.endlinewidth),B?(u("minorgridcount"),u("minorgridwidth",D),u("minorgriddash",y),u("minorgridcolor",k(i,.06)),d.minorgridcount||(delete d.minorgridwidth,delete d.minorgriddash,delete d.minorgridcolor)):(delete d.gridcolor,delete d.gridwidth,delete d.griddash),"none"===d.showticklabels&&(delete d.tickfont,delete d.tickangle,delete d.showexponent,delete d.exponentformat,delete d.minexponent,delete d.tickformat,delete d.showticksuffix,delete d.showtickprefix),d.showticksuffix||delete d.ticksuffix,d.showtickprefix||delete d.tickprefix,u("tickmode"),d}},25281:function(oe,J,t){"use strict";var S=t(89298),k=t(71828).isArray1D,l=t(53824),R=t(402),I=t(20347),v=t(83311),w=t(44807),r=t(4742),n=t(72505),c=t(68296),o=t(11435);oe.exports=function(h,d){var b=S.getFromId(h,d.xaxis),p=S.getFromId(h,d.yaxis),A=d.aaxis,m=d.baxis,u=d.x,g=d.y,C=[];u&&k(u)&&C.push("x"),g&&k(g)&&C.push("y"),C.length&&c(d,A,m,"a","b",C);var T=d._a=d._a||d.a,L=d._b=d._b||d.b;u=d._x||d.x,g=d._y||d.y;var x={};d._cheater&&(u=l("index"===A.cheatertype?T.length:T,"index"===m.cheatertype?L.length:L,d.cheaterslope)),d._x=u=r(u),d._y=g=r(g),n(u,T,L),n(g,T,L),o(d),d.setScale();var i=R(u),D=R(g),y=.5*(i[1]-i[0]),B=.5*(i[1]+i[0]),F=.5*(D[1]-D[0]),_=.5*(D[1]+D[0]),z=1.3;return D=[_-F*z,_+F*z],d._extremes[b._id]=S.findExtremes(b,i=[B-y*z,B+y*z],{padded:!0}),d._extremes[p._id]=S.findExtremes(p,D,{padded:!0}),I(d,"a","b"),I(d,"b","a"),v(d,A),v(d,m),x.clipsegments=w(d._xctrl,d._yctrl,A,m),x.x=u,x.y=g,x.a=T,x.b=L,[x]}},44807:function(oe){"use strict";oe.exports=function(t,S,k,l){var R,I,v,w=[],r=!!k.smoothing,n=!!l.smoothing,c=t[0].length-1,o=t.length-1;for(R=0,I=[],v=[];R<=c;R++)I[R]=t[0][R],v[R]=S[0][R];for(w.push({x:I,y:v,bicubic:r}),R=0,I=[],v=[];R<=o;R++)I[R]=t[R][c],v[R]=S[R][c];for(w.push({x:I,y:v,bicubic:n}),R=c,I=[],v=[];R>=0;R--)I[c-R]=t[o][R],v[c-R]=S[o][R];for(w.push({x:I,y:v,bicubic:r}),R=o,I=[],v=[];R>=0;R--)I[o-R]=t[R][0],v[o-R]=S[R][0];return w.push({x:I,y:v,bicubic:n}),w}},20347:function(oe,J,t){"use strict";var S=t(89298),k=t(1426).extendFlat;oe.exports=function(R,I,v){var w,r,n,c,o,f,h,d,b,p,A,m,u,g,C=R["_"+I],T=R[I+"axis"],L=T._gridlines=[],x=T._minorgridlines=[],E=T._boundarylines=[],M=R["_"+v],i=R[v+"axis"];"array"===T.tickmode&&(T.tickvals=C.slice());var D=R._xctrl,y=R._yctrl,B=D[0].length,F=D.length,_=R._a.length,z=R._b.length;S.prepTicks(T),"array"===T.tickmode&&delete T.tickvals;var V=T.smoothing?3:1;function H(G){var Y,ee,ue,ce,pe,te,Q,K,Z,q,fe,re,$=[],le=[],se={};if("b"===I)for(ee=R.b2j(G),ue=Math.floor(Math.max(0,Math.min(z-2,ee))),ce=ee-ue,se.length=z,se.crossLength=_,se.xy=function(de){return R.evalxy([],de,ee)},se.dxy=function(de,we){return R.dxydi([],de,ue,we,ce)},Y=0;Y<_;Y++)te=Math.min(_-2,Y),Q=Y-te,K=R.evalxy([],Y,ee),i.smoothing&&Y>0&&(Z=R.dxydi([],Y-1,ue,0,ce),$.push(pe[0]+Z[0]/3),le.push(pe[1]+Z[1]/3),q=R.dxydi([],Y-1,ue,1,ce),$.push(K[0]-q[0]/3),le.push(K[1]-q[1]/3)),$.push(K[0]),le.push(K[1]),pe=K;else for(Y=R.a2i(G),te=Math.floor(Math.max(0,Math.min(_-2,Y))),Q=Y-te,se.length=_,se.crossLength=z,se.xy=function(de){return R.evalxy([],Y,de)},se.dxy=function(de,we){return R.dxydj([],te,de,Q,we)},ee=0;ee<z;ee++)ue=Math.min(z-2,ee),ce=ee-ue,K=R.evalxy([],Y,ee),i.smoothing&&ee>0&&(fe=R.dxydj([],te,ee-1,Q,0),$.push(pe[0]+fe[0]/3),le.push(pe[1]+fe[1]/3),re=R.dxydj([],te,ee-1,Q,1),$.push(K[0]-re[0]/3),le.push(K[1]-re[1]/3)),$.push(K[0]),le.push(K[1]),pe=K;return se.axisLetter=I,se.axis=T,se.crossAxis=i,se.value=G,se.constvar=v,se.index=d,se.x=$,se.y=le,se.smoothing=i.smoothing,se}function U(G){var Y,ee,ue,ce,pe,te=[],Q=[],K={};if(K.length=C.length,K.crossLength=M.length,"b"===I)for(ue=Math.max(0,Math.min(z-2,G)),pe=Math.min(1,Math.max(0,G-ue)),K.xy=function(Z){return R.evalxy([],Z,G)},K.dxy=function(Z,q){return R.dxydi([],Z,ue,q,pe)},Y=0;Y<B;Y++)te[Y]=D[G*V][Y],Q[Y]=y[G*V][Y];else for(ee=Math.max(0,Math.min(_-2,G)),ce=Math.min(1,Math.max(0,G-ee)),K.xy=function(Z){return R.evalxy([],G,Z)},K.dxy=function(Z,q){return R.dxydj([],ee,Z,ce,q)},Y=0;Y<F;Y++)te[Y]=D[Y][G*V],Q[Y]=y[Y][G*V];return K.axisLetter=I,K.axis=T,K.crossAxis=i,K.value=C[G],K.constvar=v,K.index=G,K.x=te,K.y=Q,K.smoothing=i.smoothing,K}if("array"===T.tickmode){for(c=5e-15,h=(o=[Math.floor((C.length-1-T.arraytick0)/T.arraydtick*(1+c)),Math.ceil(-T.arraytick0/T.arraydtick/(1+c))].sort(function(G,Y){return G-Y}))[1]+1,d=f=o[0]-1;d<h;d++)!((r=T.arraytick0+T.arraydtick*d)<0||r>C.length-1)&&L.push(k(U(r),{color:T.gridcolor,width:T.gridwidth,dash:T.griddash}));for(d=f;d<h;d++)if(n=T.arraytick0+T.arraydtick*d,A=Math.min(n+T.arraydtick,C.length-1),!(n<0||n>C.length-1||A<0||A>C.length-1))for(m=C[n],u=C[A],w=0;w<T.minorgridcount;w++)!((g=A-n)<=0)&&!((p=m+(u-m)*(w+1)/(T.minorgridcount+1)*(T.arraydtick/g))<C[0]||p>C[C.length-1])&&x.push(k(H(p),{color:T.minorgridcolor,width:T.minorgridwidth,dash:T.minorgriddash}));T.startline&&E.push(k(U(0),{color:T.startlinecolor,width:T.startlinewidth})),T.endline&&E.push(k(U(C.length-1),{color:T.endlinecolor,width:T.endlinewidth}))}else{for(c=5e-15,h=(o=[Math.floor((C[C.length-1]-T.tick0)/T.dtick*(1+c)),Math.ceil((C[0]-T.tick0)/T.dtick/(1+c))].sort(function(G,Y){return G-Y}))[1],d=f=o[0];d<=h;d++)L.push(k(H(b=T.tick0+T.dtick*d),{color:T.gridcolor,width:T.gridwidth,dash:T.griddash}));for(d=f-1;d<h+1;d++)for(b=T.tick0+T.dtick*d,w=0;w<T.minorgridcount;w++)!((p=b+T.dtick*(w+1)/(T.minorgridcount+1))<C[0]||p>C[C.length-1])&&x.push(k(H(p),{color:T.minorgridcolor,width:T.minorgridwidth,dash:T.minorgriddash}));T.startline&&E.push(k(H(C[0]),{color:T.startlinecolor,width:T.startlinewidth})),T.endline&&E.push(k(H(C[C.length-1]),{color:T.endlinecolor,width:T.endlinewidth}))}}},83311:function(oe,J,t){"use strict";var S=t(89298),k=t(1426).extendFlat;oe.exports=function(R,I){var v,w,c,o=I._labels=[],f=I._gridlines;for(v=0;v<f.length;v++)c=f[v],-1!==["start","both"].indexOf(I.showticklabels)&&(w=S.tickText(I,c.value),k(w,{prefix:undefined,suffix:undefined,endAnchor:!0,xy:c.xy(0),dxy:c.dxy(0,0),axis:c.axis,length:c.crossAxis.length,font:c.axis.tickfont,isFirst:0===v,isLast:v===f.length-1}),o.push(w)),-1!==["end","both"].indexOf(I.showticklabels)&&(w=S.tickText(I,c.value),k(w,{endAnchor:!1,xy:c.xy(c.crossLength-1),dxy:c.dxy(c.crossLength-2,1),axis:c.axis,length:c.crossAxis.length,font:c.axis.tickfont,isFirst:0===v,isLast:v===f.length-1}),o.push(w))}},42048:function(oe){"use strict";oe.exports=function(S,k,l,R){var I=S[0]-k[0],v=S[1]-k[1],w=l[0]-k[0],r=l[1]-k[1],n=Math.pow(I*I+v*v,.25),c=Math.pow(w*w+r*r,.25),o=(c*c*I-n*n*w)*R,f=(c*c*v-n*n*r)*R,h=c*(n+c)*3,d=n*(n+c)*3;return[[k[0]+(h&&o/h),k[1]+(h&&f/h)],[k[0]-(d&&o/d),k[1]-(d&&f/d)]]}},53824:function(oe,J,t){"use strict";var S=t(71828).isArrayOrTypedArray;oe.exports=function(k,l,R){var I,v,w,r,c,o=[],f=S(k)?k.length:k,h=S(l)?l.length:l,d=S(k)?k:null,b=S(l)?l:null;d&&(w=(d.length-1)/(d[d.length-1]-d[0])/(f-1)),b&&(r=(b.length-1)/(b[b.length-1]-b[0])/(h-1));var p,A=1/0,m=-1/0;for(v=0;v<h;v++)for(o[v]=[],c=b?(b[v]-b[0])*r:v/(h-1),I=0;I<f;I++)p=(d?(d[I]-d[0])*w:I/(f-1))-c*R,A=Math.min(p,A),m=Math.max(p,m),o[v][I]=p;var u=1/(m-A),g=-A*u;for(v=0;v<h;v++)for(I=0;I<f;I++)o[v][I]=u*o[v][I]+g;return o}},45664:function(oe,J,t){"use strict";var S=t(42048),k=t(71828).ensureArray;function l(R,I,v){return[(2*(-.5*v[0]+1.5*I[0])+R[0])/3,(2*(-.5*v[1]+1.5*I[1])+R[1])/3]}oe.exports=function(I,v,w,r,n,c){var o,f,h,d,b,p,A,m,u,g,C=w[0].length,T=w.length,L=n?3*C-2:C,x=c?3*T-2:T;for(I=k(I,x),v=k(v,x),h=0;h<x;h++)I[h]=k(I[h],L),v[h]=k(v[h],L);for(f=0,d=0;f<T;f++,d+=c?3:1)for(b=I[d],p=v[d],A=w[f],m=r[f],o=0,h=0;o<C;o++,h+=n?3:1)b[h]=A[o],p[h]=m[o];if(n)for(f=0,d=0;f<T;f++,d+=c?3:1){for(o=1,h=3;o<C-1;o++,h+=3)u=S([w[f][o-1],r[f][o-1]],[w[f][o],r[f][o]],[w[f][o+1],r[f][o+1]],n),I[d][h-1]=u[0][0],v[d][h-1]=u[0][1],I[d][h+1]=u[1][0],v[d][h+1]=u[1][1];g=l([I[d][0],v[d][0]],[I[d][2],v[d][2]],[I[d][3],v[d][3]]),I[d][1]=g[0],v[d][1]=g[1],g=l([I[d][L-1],v[d][L-1]],[I[d][L-3],v[d][L-3]],[I[d][L-4],v[d][L-4]]),I[d][L-2]=g[0],v[d][L-2]=g[1]}if(c)for(h=0;h<L;h++){for(d=3;d<x-3;d+=3)u=S([I[d-3][h],v[d-3][h]],[I[d][h],v[d][h]],[I[d+3][h],v[d+3][h]],c),I[d-1][h]=u[0][0],v[d-1][h]=u[0][1],I[d+1][h]=u[1][0],v[d+1][h]=u[1][1];g=l([I[0][h],v[0][h]],[I[2][h],v[2][h]],[I[3][h],v[3][h]]),I[1][h]=g[0],v[1][h]=g[1],g=l([I[x-1][h],v[x-1][h]],[I[x-3][h],v[x-3][h]],[I[x-4][h],v[x-4][h]]),I[x-2][h]=g[0],v[x-2][h]=g[1]}if(n&&c)for(d=1;d<x;d+=(d+1)%3==0?2:1){for(h=3;h<L-3;h+=3)u=S([I[d][h-3],v[d][h-3]],[I[d][h],v[d][h]],[I[d][h+3],v[d][h+3]],n),I[d][h-1]=.5*(I[d][h-1]+u[0][0]),v[d][h-1]=.5*(v[d][h-1]+u[0][1]),I[d][h+1]=.5*(I[d][h+1]+u[1][0]),v[d][h+1]=.5*(v[d][h+1]+u[1][1]);g=l([I[d][0],v[d][0]],[I[d][2],v[d][2]],[I[d][3],v[d][3]]),I[d][1]=.5*(I[d][1]+g[0]),v[d][1]=.5*(v[d][1]+g[1]),g=l([I[d][L-1],v[d][L-1]],[I[d][L-3],v[d][L-3]],[I[d][L-4],v[d][L-4]]),I[d][L-2]=.5*(I[d][L-2]+g[0]),v[d][L-2]=.5*(v[d][L-2]+g[1])}return[I,v]}},35509:function(oe){"use strict";oe.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(oe){"use strict";oe.exports=function(J,t,S){return t&&S?function(k,l,R,I,v){var o,f;k||(k=[]),l*=3,R*=3;var h=I*I,d=1-I,b=d*d,p=d*I*2,A=-3*b,m=3*(b-p),u=3*(p-h),g=3*h,C=v*v,T=C*v,L=1-v,x=L*L,E=x*L;for(f=0;f<J.length;f++)k[f]=E*(A*(o=J[f])[R][l]+m*o[R][l+1]+u*o[R][l+2]+g*o[R][l+3])+3*(x*v*(A*o[R+1][l]+m*o[R+1][l+1]+u*o[R+1][l+2]+g*o[R+1][l+3])+L*C*(A*o[R+2][l]+m*o[R+2][l+1]+u*o[R+2][l+2]+g*o[R+2][l+3]))+T*(A*o[R+3][l]+m*o[R+3][l+1]+u*o[R+3][l+2]+g*o[R+3][l+3]);return k}:t?function(k,l,R,I,v){var n,c;k||(k=[]),l*=3;var o=I*I,f=1-I,h=f*f,d=f*I*2,b=-3*h,p=3*(h-d),A=3*(d-o),m=3*o,u=1-v;for(n=0;n<J.length;n++)k[n]=u*(b*(c=J[n])[R][l]+p*c[R][l+1]+A*c[R][l+2]+m*c[R][l+3])+v*(b*c[R+1][l]+p*c[R+1][l+1]+A*c[R+1][l+2]+m*c[R+1][l+3]);return k}:S?function(k,l,R,I,v){var o,f;k||(k=[]),R*=3;var h=v*v,d=h*v,b=1-v,p=b*b,A=p*b;for(o=0;o<J.length;o++)k[o]=A*((f=J[o])[R][l+1]-f[R][l])+3*(p*v*(f[R+1][l+1]-f[R+1][l])+b*h*(f[R+2][l+1]-f[R+2][l]))+d*(f[R+3][l+1]-f[R+3][l]);return k}:function(k,l,R,I,v){k||(k=[]);var n,c,o=1-v;for(n=0;n<J.length;n++)k[n]=o*((c=J[n])[R][l+1]-c[R][l])+v*(c[R+1][l+1]-c[R+1][l]);return k}}},73057:function(oe){"use strict";oe.exports=function(J,t,S){return t&&S?function(k,l,R,I,v){var o,f;k||(k=[]),l*=3,R*=3;var h=I*I,d=h*I,b=1-I,p=b*b,A=p*b,m=v*v,u=1-v,g=u*u,C=u*v*2,T=-3*g,L=3*(g-C),x=3*(C-m),E=3*m;for(f=0;f<J.length;f++)k[f]=A*(T*(o=J[f])[R][l]+L*o[R+1][l]+x*o[R+2][l]+E*o[R+3][l])+3*(p*I*(T*o[R][l+1]+L*o[R+1][l+1]+x*o[R+2][l+1]+E*o[R+3][l+1])+b*h*(T*o[R][l+2]+L*o[R+1][l+2]+x*o[R+2][l+2]+E*o[R+3][l+2]))+d*(T*o[R][l+3]+L*o[R+1][l+3]+x*o[R+2][l+3]+E*o[R+3][l+3]);return k}:t?function(k,l,R,I,v){var o,f;k||(k=[]),l*=3;var h=v*v,d=h*v,b=1-v,p=b*b,A=p*b;for(o=0;o<J.length;o++)k[o]=A*((f=J[o])[R+1][l]-f[R][l])+3*(p*v*(f[R+1][l+1]-f[R][l+1])+b*h*(f[R+1][l+2]-f[R][l+2]))+d*(f[R+1][l+3]-f[R][l+3]);return k}:S?function(k,l,R,I,v){var n,c;k||(k=[]),R*=3;var o=1-I,f=v*v,h=1-v,d=h*h,b=h*v*2,p=-3*d,A=3*(d-b),m=3*(b-f),u=3*f;for(n=0;n<J.length;n++)k[n]=o*(p*(c=J[n])[R][l]+A*c[R+1][l]+m*c[R+2][l]+u*c[R+3][l])+I*(p*c[R][l+1]+A*c[R+1][l+1]+m*c[R+2][l+1]+u*c[R+3][l+1]);return k}:function(k,l,R,I,v){k||(k=[]);var n,c,o=1-I;for(n=0;n<J.length;n++)k[n]=o*((c=J[n])[R+1][l]-c[R][l])+I*(c[R+1][l+1]-c[R][l+1]);return k}}},20349:function(oe){"use strict";oe.exports=function(J,t,S,k,l){var R=t-2,I=S-2;return k&&l?function(v,w,r){v||(v=[]);var h,d,b=Math.max(0,Math.min(Math.floor(w),R)),p=Math.max(0,Math.min(Math.floor(r),I)),A=Math.max(0,Math.min(1,w-b)),m=Math.max(0,Math.min(1,r-p));b*=3,p*=3;var u=A*A,g=u*A,C=1-A,T=C*C,L=T*C,x=m*m,E=x*m,M=1-m,i=M*M,D=i*M;for(d=0;d<J.length;d++)v[d]=D*(L*(h=J[d])[p][b]+3*(T*A*h[p][b+1]+C*u*h[p][b+2])+g*h[p][b+3])+3*(i*m*(L*h[p+1][b]+3*(T*A*h[p+1][b+1]+C*u*h[p+1][b+2])+g*h[p+1][b+3])+M*x*(L*h[p+2][b]+3*(T*A*h[p+2][b+1]+C*u*h[p+2][b+2])+g*h[p+2][b+3]))+E*(L*h[p+3][b]+3*(T*A*h[p+3][b+1]+C*u*h[p+3][b+2])+g*h[p+3][b+3]);return v}:k?function(v,w,r){v||(v=[]);var A,m,n=Math.max(0,Math.min(Math.floor(w),R)),c=Math.max(0,Math.min(Math.floor(r),I)),o=Math.max(0,Math.min(1,w-n)),f=Math.max(0,Math.min(1,r-c));n*=3;var u=o*o,g=u*o,C=1-o,T=C*C,L=T*C,x=1-f;for(A=0;A<J.length;A++)v[A]=L*(x*(m=J[A])[c][n]+f*m[c+1][n])+3*(T*o*(x*m[c][n+1]+f*m[c+1][n+1])+C*u*(x*m[c][n+2]+f*m[c+1][n+1]))+g*(x*m[c][n+3]+f*m[c+1][n+1]);return v}:l?function(v,w,r){v||(v=[]);var A,m,n=Math.max(0,Math.min(Math.floor(w),R)),c=Math.max(0,Math.min(Math.floor(r),I)),o=Math.max(0,Math.min(1,w-n)),f=Math.max(0,Math.min(1,r-c));c*=3;var u=f*f,g=u*f,C=1-f,T=C*C,L=T*C,x=1-o;for(A=0;A<J.length;A++)v[A]=L*(x*(m=J[A])[c][n]+o*m[c][n+1])+3*(T*f*(x*m[c+1][n]+o*m[c+1][n+1])+C*u*(x*m[c+2][n]+o*m[c+2][n+1]))+g*(x*m[c+3][n]+o*m[c+3][n+1]);return v}:function(v,w,r){v||(v=[]);var b,p,n=Math.max(0,Math.min(Math.floor(w),R)),c=Math.max(0,Math.min(Math.floor(r),I)),o=Math.max(0,Math.min(1,w-n)),f=Math.max(0,Math.min(1,r-c)),A=1-f,m=1-o;for(b=0;b<J.length;b++)v[b]=A*(m*(p=J[b])[c][n]+o*p[c][n+1])+f*(m*p[c+1][n]+o*p[c+1][n+1]);return v}}},92087:function(oe,J,t){"use strict";var S=t(71828),k=t(19237),l=t(13145),R=t(99798),I=t(22399);oe.exports=function(w,r,n,c){function o(d,b){return S.coerce(w,r,R,d,b)}r._clipPathId="clip"+r.uid+"carpet";var f=o("color",I.defaultLine);S.coerceFont(o,"font"),o("carpet"),l(w,r,c,o,f),r.a&&r.b?(r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0),k(w,r,o)||(r.visible=!1),r._cheater&&o("cheaterslope")):r.visible=!1}},21462:function(oe,J,t){"use strict";oe.exports={attributes:t(99798),supplyDefaults:t(92087),plot:t(89740),calc:t(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:t(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(oe){"use strict";oe.exports=function(J,t){for(var k,S=J._fullData.length,l=0;l<S;l++){var R=J._fullData[l];if(R.index!==t.index&&"carpet"===R.type&&(k||(k=R),R.carpet===t.carpet))return R}return k}},67961:function(oe){"use strict";oe.exports=function(t,S,k){if(0===t.length)return"";var l,R=[],I=k?3:1;for(l=0;l<t.length;l+=I)R.push(t[l]+","+S[l]),k&&l<t.length-I&&(R.push("C"),R.push([t[l+1]+","+S[l+1],t[l+2]+","+S[l+2]+" "].join(" ")));return R.join(k?"":"L")}},27669:function(oe,J,t){"use strict";var S=t(71828).isArrayOrTypedArray;oe.exports=function(l,R,I){var v;for(S(l)?l.length>R.length&&(l=l.slice(0,R.length)):l=[],v=0;v<R.length;v++)l[v]=I(R[v]);return l}},11651:function(oe){"use strict";oe.exports=function(t,S,k,l,R,I){var v=R[0]*t.dpdx(S),w=R[1]*t.dpdy(k),r=1,n=1;if(I){var c=Math.sqrt(R[0]*R[0]+R[1]*R[1]),o=Math.sqrt(I[0]*I[0]+I[1]*I[1]);n=Math.max(0,(R[0]*I[0]+R[1]*I[1])/c/o)}var h=180*Math.atan2(w,v)/Math.PI;return h<-90?(h+=180,r=-r):h>90&&(h-=180,r=-r),{angle:h,flip:r,p:t.c2p(l,S,k),offsetMultplier:n}}},89740:function(oe,J,t){"use strict";var S=t(39898),k=t(91424),l=t(27669),R=t(67961),I=t(11651),v=t(63893),w=t(71828),r=w.strRotate,n=w.strTranslate,c=t(18783);function f(m,u,g,C,T,L,x){var E="const-"+T+"-lines",M=g.selectAll("."+E).data(L);M.enter().append("path").classed(E,!0).style("vector-effect",x?"none":"non-scaling-stroke"),M.each(function(i){var D=i,B=D.y,F=l([],D.x,m.c2p),_=l([],B,u.c2p),z="M"+R(F,_,D.smoothing);S.select(this).attr("d",z).style("stroke-width",D.width).style("stroke",D.color).style("stroke-dasharray",k.dashStyle(D.dash,D.width)).style("fill","none")}),M.exit().remove()}function h(m,u,g,C,T,L,x,E){var M=L.selectAll("text."+E).data(x);M.enter().append("text").classed(E,!0);var i=0,D={};return M.each(function(y,B){var F;if("auto"===y.axis.tickangle)F=I(C,u,g,y.xy,y.dxy);else{var _=(y.axis.tickangle+180)*Math.PI/180;F=I(C,u,g,y.xy,[Math.cos(_),Math.sin(_)])}B||(D={angle:F.angle,flip:F.flip});var z=(y.endAnchor?-1:1)*F.flip,V=S.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(k.font,y.font).text(y.text).call(v.convertToTspans,m),H=k.bBox(this);V.attr("transform",n(F.p[0],F.p[1])+r(F.angle)+n(y.axis.labelpadding*z,.3*H.height)),i=Math.max(i,H.width+y.axis.labelpadding)}),M.exit().remove(),D.maxExtent=i,D}oe.exports=function(u,g,C,T){var L=u._context.staticPlot,x=g.xaxis,E=g.yaxis,i=u._fullLayout._clips;w.makeTraceGroups(T,C,"trace").each(function(D){var y=S.select(this),B=D[0],F=B.trace,_=F.aaxis,z=F.baxis,V=w.ensureSingle(y,"g","minorlayer"),H=w.ensureSingle(y,"g","majorlayer"),U=w.ensureSingle(y,"g","boundarylayer"),G=w.ensureSingle(y,"g","labellayer");y.style("opacity",F.opacity),f(x,E,H,0,"a",_._gridlines,!0),f(x,E,H,0,"b",z._gridlines,!0),f(x,E,V,0,"a",_._minorgridlines,!0),f(x,E,V,0,"b",z._minorgridlines,!0),f(x,E,U,0,"a-boundary",_._boundarylines,L),f(x,E,U,0,"b-boundary",z._boundarylines,L);var Y=h(u,x,E,F,0,G,_._labels,"a-label"),ee=h(u,x,E,F,0,G,z._labels,"b-label");(function d(m,u,g,C,T,L,x,E){var M,i,D,y,B=w.aggNums(Math.min,null,g.a),F=w.aggNums(Math.max,null,g.a),_=w.aggNums(Math.min,null,g.b),z=w.aggNums(Math.max,null,g.b);D=g.ab2xy(M=.5*(B+F),i=_,!0),y=g.dxyda_rough(M,i),void 0===x.angle&&w.extendFlat(x,I(g,T,L,D,g.dxydb_rough(M,i))),A(m,u,g,0,D,y,g.aaxis,T,L,x,"a-title"),D=g.ab2xy(M=B,i=.5*(_+z),!0),y=g.dxydb_rough(M,i),void 0===E.angle&&w.extendFlat(E,I(g,T,L,D,g.dxyda_rough(M,i))),A(m,u,g,0,D,y,g.baxis,T,L,E,"b-title")})(u,G,F,0,x,E,Y,ee),function o(m,u,g,C,T){var L,x,E,M,i=g.select("#"+m._clipPathId);i.size()||(i=g.append("clipPath").classed("carpetclip",!0));var D=w.ensureSingle(i,"path","carpetboundary"),y=u.clipsegments,B=[];for(M=0;M<y.length;M++)x=l([],(L=y[M]).x,C.c2p),E=l([],L.y,T.c2p),B.push(R(x,E,L.bicubic));var F="M"+B.join("L")+"Z";i.attr("id",m._clipPathId),D.attr("d",F)}(F,B,i,x,E)})};var b=c.LINE_SPACING,p=(1-c.MID_SHIFT)/b+1;function A(m,u,g,C,T,L,x,E,M,i,D){var y=[];x.title.text&&y.push(x.title.text);var B=u.selectAll("text."+D).data(y),F=i.maxExtent;B.enter().append("text").classed(D,!0),B.each(function(){var _=I(g,E,M,T,L);-1===["start","both"].indexOf(x.showticklabels)&&(F=0);var z=x.title.font.size;F+=z+x.title.offset;var H=(i.angle+(i.flip<0?180:0)-_.angle+450)%360,U=H>90&&H<270,G=S.select(this);G.text(x.title.text).call(v.convertToTspans,m),U&&(F=(-v.lineCount(G)+p)*b*z-F),G.attr("transform",n(_.p[0],_.p[1])+r(_.angle)+n(0,F)).attr("text-anchor","middle").call(k.font,x.title.font)}),B.exit().remove()}},11435:function(oe,J,t){"use strict";var S=t(35509),k=t(65888).findBin,l=t(45664),R=t(20349),I=t(54495),v=t(73057);oe.exports=function(r){var n=r._a,c=r._b,o=n.length,f=c.length,h=r.aaxis,d=r.baxis,b=n[0],p=n[o-1],A=c[0],m=c[f-1],u=n[n.length-1]-n[0],g=c[c.length-1]-c[0],C=u*S.RELATIVE_CULL_TOLERANCE,T=g*S.RELATIVE_CULL_TOLERANCE;b-=C,p+=C,A-=T,m+=T,r.isVisible=function(L,x){return L>b&&L<p&&x>A&&x<m},r.isOccluded=function(L,x){return L<b||L>p||x<A||x>m},r.setScale=function(){var E=l(r._xctrl,r._yctrl,r._x,r._y,h.smoothing,d.smoothing);r._xctrl=E[0],r._yctrl=E[1],r.evalxy=R([r._xctrl,r._yctrl],o,f,h.smoothing,d.smoothing),r.dxydi=I([r._xctrl,r._yctrl],h.smoothing,d.smoothing),r.dxydj=v([r._xctrl,r._yctrl],h.smoothing,d.smoothing)},r.i2a=function(L){var x=Math.max(0,Math.floor(L[0]),o-2),E=L[0]-x;return(1-E)*n[x]+E*n[x+1]},r.j2b=function(L){var x=Math.max(0,Math.floor(L[1]),o-2),E=L[1]-x;return(1-E)*c[x]+E*c[x+1]},r.ij2ab=function(L){return[r.i2a(L[0]),r.j2b(L[1])]},r.a2i=function(L){var x=Math.max(0,Math.min(k(L,n),o-2)),E=n[x];return Math.max(0,Math.min(o-1,x+(L-E)/(n[x+1]-E)))},r.b2j=function(L){var x=Math.max(0,Math.min(k(L,c),f-2)),E=c[x];return Math.max(0,Math.min(f-1,x+(L-E)/(c[x+1]-E)))},r.ab2ij=function(L){return[r.a2i(L[0]),r.b2j(L[1])]},r.i2c=function(L,x){return r.evalxy([],L,x)},r.ab2xy=function(L,x,E){if(!E&&(L<n[0]||L>n[o-1]|x<c[0]||x>c[f-1]))return[!1,!1];var M=r.a2i(L),i=r.b2j(x),D=r.evalxy([],M,i);if(E){var _,z,V,H,y=0,B=0,F=[];L<n[0]?(_=0,z=0,y=(L-n[0])/(n[1]-n[0])):L>n[o-1]?(_=o-2,z=1,y=(L-n[o-1])/(n[o-1]-n[o-2])):z=M-(_=Math.max(0,Math.min(o-2,Math.floor(M)))),x<c[0]?(V=0,H=0,B=(x-c[0])/(c[1]-c[0])):x>c[f-1]?(V=f-2,H=1,B=(x-c[f-1])/(c[f-1]-c[f-2])):H=i-(V=Math.max(0,Math.min(f-2,Math.floor(i)))),y&&(r.dxydi(F,_,V,z,H),D[0]+=F[0]*y,D[1]+=F[1]*y),B&&(r.dxydj(F,_,V,z,H),D[0]+=F[0]*B,D[1]+=F[1]*B)}return D},r.c2p=function(L,x,E){return[x.c2p(L[0]),E.c2p(L[1])]},r.p2x=function(L,x,E){return[x.p2c(L[0]),E.p2c(L[1])]},r.dadi=function(L){var x=Math.max(0,Math.min(n.length-2,L));return n[x+1]-n[x]},r.dbdj=function(L){var x=Math.max(0,Math.min(c.length-2,L));return c[x+1]-c[x]},r.dxyda=function(L,x,E,M){var i=r.dxydi(null,L,x,E,M),D=r.dadi(L,E);return[i[0]/D,i[1]/D]},r.dxydb=function(L,x,E,M){var i=r.dxydj(null,L,x,E,M),D=r.dbdj(x,M);return[i[0]/D,i[1]/D]},r.dxyda_rough=function(L,x,E){var M=u*(E||.1),i=r.ab2xy(L+M,x,!0),D=r.ab2xy(L-M,x,!0);return[.5*(i[0]-D[0])/M,.5*(i[1]-D[1])/M]},r.dxydb_rough=function(L,x,E){var M=g*(E||.1),i=r.ab2xy(L,x+M,!0),D=r.ab2xy(L,x-M,!0);return[.5*(i[0]-D[0])/M,.5*(i[1]-D[1])/M]},r.dpdx=function(L){return L._m},r.dpdy=function(L){return L._m}}},72505:function(oe,J,t){"use strict";var S=t(71828);oe.exports=function(l,R,I){var v,w,r,n=[],c=[],o=l[0].length,f=l.length;var ee,ue,pe,ce,te,d=0;for(v=0;v<o;v++)for(w=0;w<f;w++)void 0===l[w][v]&&(n.push(v),c.push(w),l[w][v]=(ue=w,pe=void 0,ce=void 0,te=void 0,ce=0,te=0,(ee=v)>0&&void 0!==(pe=l[ue][ee-1])&&(te++,ce+=pe),ee<o-1&&void 0!==(pe=l[ue][ee+1])&&(te++,ce+=pe),ue>0&&void 0!==(pe=l[ue-1][ee])&&(te++,ce+=pe),ue<f-1&&void 0!==(pe=l[ue+1][ee])&&(te++,ce+=pe),ce/Math.max(1,te))),d=Math.max(d,Math.abs(l[w][v]));if(!n.length)return l;var b,p,A,m,u,g,C,T,L,x,i=0,y=0,B=n.length;do{for(i=0,r=0;r<B;r++){w=c[r];var V,U,G,Y,F=0,_=0;0===(v=n[r])?(G=Math.min(o-1,2),_+=(V=l[w][1])+(V-l[w][G])*(R[0]-(U=R[1]))/(U-R[G]),F++):v===o-1&&(G=Math.max(0,o-3),_+=(V=l[w][o-2])+(V-l[w][G])*(R[o-1]-(U=R[o-2]))/(U-R[G]),F++),(0===v||v===o-1)&&w>0&&w<f-1&&(_+=((p=I[w]-I[w-1])*l[w+1][v]+(b=I[w+1]-I[w])*l[w-1][v])/(p+b),F++),0===w?(Y=Math.min(f-1,2),_+=(V=l[1][v])+(V-l[Y][v])*(I[0]-(U=I[1]))/(U-I[Y]),F++):w===f-1&&(Y=Math.max(0,f-3),_+=(V=l[f-2][v])+(V-l[Y][v])*(I[f-1]-(U=I[f-2]))/(U-I[Y]),F++),(0===w||w===f-1)&&v>0&&v<o-1&&(_+=((p=R[v]-R[v-1])*l[w][v+1]+(b=R[v+1]-R[v])*l[w][v-1])/(p+b),F++),F?_/=F:_=((C=(A=R[v+1]-R[v])*(m=R[v]-R[v-1])*(A+m))*((g=I[w]-I[w-1])*l[w+1][v]+(u=I[w+1]-I[w])*l[w-1][v])+(T=u*g*(u+g))*(m*l[w][v+1]+A*l[w][v-1]))/(T*(m+A)+C*(g+u)),i+=(x=(L=_-l[w][v])/d)*x,l[w][v]+=L*(1+(F?0:.85))}i=Math.sqrt(i)}while(y++<100&&i>1e-5);return S.log("Smoother converged to",i,"after",y,"iterations"),l}},19237:function(oe,J,t){"use strict";var S=t(71828).isArray1D;oe.exports=function(l,R,I){var v=I("x"),w=v&&v.length,r=I("y"),n=r&&r.length;if(!w&&!n)return!1;if(R._cheater=!v,w&&!S(v)||n&&!S(r))R._length=null;else{var c=w?v.length:1/0;n&&(c=Math.min(c,r.length)),R.a&&R.a.length&&(c=Math.min(c,R.a.length)),R.b&&R.b.length&&(c=Math.min(c,R.b.length)),R._length=c}return!0}},69568:function(oe,J,t){"use strict";var S=t(5386).fF,k=t(19316),l=t(50693),R=t(9012),I=t(22399).defaultLine,v=t(1426).extendFlat,w=k.marker.line;oe.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:k.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},k.geojson,{}),featureidkey:k.featureidkey,text:v({},k.text,{}),hovertext:v({},k.hovertext,{}),marker:{line:{color:v({},w.color,{dflt:I}),width:v({},w.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:k.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:k.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},R.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:S(),showlegend:v({},R.showlegend,{dflt:!1})},l("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(oe,J,t){"use strict";var S=t(92770),k=t(50606).BADNUM,l=t(78803),R=t(75225),I=t(66279);function v(w){return w&&"string"==typeof w}oe.exports=function(r,n){var f,c=n._length,o=new Array(c);f=n.geojson?function(A){return v(A)||S(A)}:v;for(var h=0;h<c;h++){var d=o[h]={},b=n.locations[h],p=n.z[h];f(b)&&S(p)?(d.loc=b,d.z=p):(d.loc=null,d.z=k),d.index=h}return R(o,n),l(r,n,{vals:n.z,containerStr:"",cLetter:"z"}),I(o,n),o}},61869:function(oe,J,t){"use strict";var S=t(71828),k=t(1586),l=t(69568);oe.exports=function(I,v,w,r){function n(p,A){return S.coerce(I,v,l,p,A)}var c=n("locations"),o=n("z");if(c&&c.length&&S.isArrayOrTypedArray(o)&&o.length){v._length=Math.min(c.length,o.length);var h,f=n("geojson");("string"==typeof f&&""!==f||S.isPlainObject(f))&&(h="geojson-id"),"geojson-id"===n("locationmode",h)&&n("featureidkey"),n("text"),n("hovertext"),n("hovertemplate"),n("marker.line.width")&&n("marker.line.color"),n("marker.opacity"),k(I,v,r,n,{prefix:"",cLetter:"z"}),S.coerceSelectionMarkerOpacity(v,n)}else v.visible=!1}},92069:function(oe){"use strict";oe.exports=function(t,S,k,l,R){t.location=S.location,t.z=S.z;var I=l[R];return I.fIn&&I.fIn.properties&&(t.properties=I.fIn.properties),t.ct=I.ct,t}},42300:function(oe,J,t){"use strict";var S=t(89298),k=t(69568),l=t(71828).fillText;oe.exports=function(v,w,r){var f,h,d,b,n=v.cd,c=n[0].trace,o=v.subplot,p=[w,r],A=[w+360,r];for(h=0;h<n.length;h++)if(b=!1,(f=n[h])._polygons){for(d=0;d<f._polygons.length;d++)f._polygons[d].contains(p)&&(b=!b),f._polygons[d].contains(A)&&(b=!b);if(b)break}if(b&&f)return v.x0=v.x1=v.xa.c2p(f.ct),v.y0=v.y1=v.ya.c2p(f.ct),v.index=f.index,v.location=f.loc,v.z=f.z,v.zLabel=S.tickText(o.mockAxis,o.mockAxis.c2l(f.z),"hover").text,v.hovertemplate=f.hovertemplate,function R(I,v,w){if(!v.hovertemplate){var r=w.hi||v.hoverinfo,n=String(w.loc),c="all"===r?k.hoverinfo.flags:r.split("+"),o=-1!==c.indexOf("name"),f=-1!==c.indexOf("location"),h=-1!==c.indexOf("z"),d=-1!==c.indexOf("text"),p=[];!o&&f?I.nameOverride=n:(o&&(I.nameOverride=v.name),f&&p.push(n)),h&&p.push(I.zLabel),d&&l(w,v,p),I.extraText=p.join("<br>")}}(v,c,f),[v]}},51319:function(oe,J,t){"use strict";oe.exports={attributes:t(69568),supplyDefaults:t(61869),colorbar:t(61243),calc:t(38675),calcGeoJSON:t(99841).calcGeoJSON,plot:t(99841).plot,style:t(99636).style,styleOnSelect:t(99636).styleOnSelect,hoverPoints:t(42300),eventData:t(92069),selectPoints:t(81253),moduleType:"trace",name:"choropleth",basePlotModule:t(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(41327),R=t(90973).getTopojsonFeatures,I=t(71739).findExtremes,v=t(99636).style;oe.exports={calcGeoJSON:function r(n,c){for(var o=n[0].trace,f=c[o.geo],h=f._subplot,d=o.locationmode,b=o._length,p="geojson-id"===d?l.extractTraceFeature(n):R(o,h.topojson),A=[],m=[],u=0;u<b;u++){var g=n[u],C="geojson-id"===d?g.fOut:l.locationToFeature(d,g.loc,p);if(C){g.geojson=C,g.ct=C.properties.ct,g._polygons=l.feature2polygons(C);var T=l.computeBbox(C);A.push(T[0],T[2]),m.push(T[1],T[3])}else g.geojson=null}if("geojson"===f.fitbounds&&"geojson-id"===d){var L=l.computeBbox(l.getTraceGeojson(o));A=[L[0],L[2]],m=[L[1],L[3]]}var x={padded:!0};o._extremes.lon=I(f.lonaxis._ax,A,x),o._extremes.lat=I(f.lataxis._ax,m,x)},plot:function w(n,c,o){var f=c.layers.backplot.select(".choroplethlayer");k.makeTraceGroups(f,o,"trace choropleth").each(function(h){var b=S.select(this).selectAll("path.choroplethlocation").data(k.identity);b.enter().append("path").classed("choroplethlocation",!0),b.exit().remove(),v(n,h)})}}},81253:function(oe){"use strict";oe.exports=function(t,S){var v,w,r,n,c,k=t.cd,l=t.xaxis,R=t.yaxis,I=[];if(!1===S)for(v=0;v<k.length;v++)k[v].selected=0;else for(v=0;v<k.length;v++)(r=(w=k[v]).ct)&&(n=l.c2p(r),c=R.c2p(r),S.contains([n,c],null,v,t)?(I.push({pointNumber:v,lon:r[0],lat:r[1]}),w.selected=1):w.selected=0);return I}},99636:function(oe,J,t){"use strict";var S=t(39898),k=t(7901),l=t(91424),R=t(21081);function v(r,n){var c=n[0].trace,f=n[0].node3.selectAll(".choroplethlocation"),h=c.marker||{},d=h.line||{},b=R.makeColorScaleFuncFromTrace(c);f.each(function(p){S.select(this).attr("fill",b(p.z)).call(k.stroke,p.mlc||d.color).call(l.dashLine,"",p.mlw||d.width||0).style("opacity",h.opacity)}),l.selectedPointStyle(f,c)}oe.exports={style:function I(r,n){n&&v(0,n)},styleOnSelect:function w(r,n){var o=n[0].trace;o.selectedpoints?l.selectedPointStyle(n[0].node3.selectAll(".choroplethlocation"),o):v(0,n)}}},64496:function(oe,J,t){"use strict";var S=t(69568),k=t(50693),l=t(5386).fF,R=t(9012),I=t(1426).extendFlat;oe.exports=I({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:I({},S.featureidkey,{}),below:{valType:"string",editType:"plot"},text:S.text,hovertext:S.hovertext,marker:{line:{color:I({},S.marker.line.color,{editType:"plot"}),width:I({},S.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:I({},S.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:I({},S.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:I({},S.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:S.hoverinfo,hovertemplate:l({},{keys:["properties"]}),showlegend:I({},R.showlegend,{dflt:!1})},k("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(oe,J,t){"use strict";var S=t(92770),k=t(71828),l=t(21081),R=t(91424),I=t(18214).makeBlank,v=t(41327);function r(n){var f,c=n[0].trace,o=c._opts;if(c.selectedpoints){for(var h=R.makeSelectedPointStyleFns(c),d=0;d<n.length;d++){var b=n[d];b.fOut&&(b.fOut.properties.mo2=h.selectedOpacityFn(b))}f={type:"identity",property:"mo2"}}else f=k.isArrayOrTypedArray(c.marker.opacity)?{type:"identity",property:"mo"}:c.marker.opacity;return k.extendFlat(o.fill.paint,{"fill-opacity":f}),k.extendFlat(o.line.paint,{"line-opacity":f}),o}oe.exports={convert:function w(n){var c=n[0].trace,o=!0===c.visible&&0!==c._length,f={layout:{visibility:"none"},paint:{}},h={layout:{visibility:"none"},paint:{}},d=c._opts={fill:f,line:h,geojson:I()};if(!o)return d;var b=v.extractTraceFeature(n);if(!b)return d;var u,g,C,p=l.makeColorScaleFuncFromTrace(c),A=c.marker,m=A.line||{};k.isArrayOrTypedArray(A.opacity)&&(u=function(i){var D=i.mo;return S(D)?+k.constrain(D,0,1):0}),k.isArrayOrTypedArray(m.color)&&(g=function(i){return i.mlc}),k.isArrayOrTypedArray(m.width)&&(C=function(i){return i.mlw});for(var T=0;T<n.length;T++){var L=n[T],x=L.fOut;if(x){var E=x.properties;E.fc=p(L.z),u&&(E.mo=u(L)),g&&(E.mlc=g(L)),C&&(E.mlw=C(L)),L.ct=E.ct,L._polygons=v.feature2polygons(x)}}var M=u?{type:"identity",property:"mo"}:A.opacity;return k.extendFlat(f.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":M}),k.extendFlat(h.paint,{"line-color":g?{type:"identity",property:"mlc"}:m.color,"line-width":C?{type:"identity",property:"mlw"}:m.width,"line-opacity":M}),f.layout.visibility="visible",h.layout.visibility="visible",d.geojson={type:"FeatureCollection",features:b},r(n),d},convertOnSelect:r}},22654:function(oe,J,t){"use strict";var S=t(71828),k=t(1586),l=t(64496);oe.exports=function(I,v,w,r){function n(d,b){return S.coerce(I,v,l,d,b)}var c=n("locations"),o=n("z"),f=n("geojson");S.isArrayOrTypedArray(c)&&c.length&&S.isArrayOrTypedArray(o)&&o.length&&("string"==typeof f&&""!==f||S.isPlainObject(f))?(n("featureidkey"),v._length=Math.min(c.length,o.length),n("below"),n("text"),n("hovertext"),n("hovertemplate"),n("marker.line.width")&&n("marker.line.color"),n("marker.opacity"),k(I,v,r,n,{prefix:"",cLetter:"z"}),S.coerceSelectionMarkerOpacity(v,n)):v.visible=!1}},57516:function(oe,J,t){"use strict";oe.exports={attributes:t(64496),supplyDefaults:t(22654),colorbar:t(61243),calc:t(38675),plot:t(7852),hoverPoints:t(42300),eventData:t(92069),selectPoints:t(81253),styleOnSelect:function(S,k){k&&k[0].trace._glTrace.updateOnSelect(k)},getBelow:function(S,k){for(var l=k.getMapLayers(),R=l.length-2;R>=0;R--){var I=l[R].id;if("string"==typeof I&&0===I.indexOf("water"))for(var v=R+1;v<l.length;v++)if("string"==typeof(I=l[v].id)&&-1===I.indexOf("plotly-"))return I}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:t(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(oe,J,t){"use strict";var S=t(82004).convert,k=t(82004).convertOnSelect,l=t(77734).traceLayerPrefix;function R(v,w){this.type="choroplethmapbox",this.subplot=v,this.uid=w,this.sourceId="source-"+w,this.layerList=[["fill",l+w+"-fill"],["line",l+w+"-line"]],this.below=null}var I=R.prototype;I.update=function(v){this._update(S(v)),v[0].trace._glTrace=this},I.updateOnSelect=function(v){this._update(k(v))},I._update=function(v){var w=this.subplot,r=this.layerList,n=w.belowLookup["trace-"+this.uid];w.map.getSource(this.sourceId).setData(v.geojson),n!==this.below&&(this._removeLayers(),this._addLayers(v,n),this.below=n);for(var c=0;c<r.length;c++){var o=r[c],h=o[1],d=v[o[0]];w.setOptions(h,"setLayoutProperty",d.layout),"visible"===d.layout.visibility&&w.setOptions(h,"setPaintProperty",d.paint)}},I._addLayers=function(v,w){for(var r=this.subplot,n=this.layerList,c=this.sourceId,o=0;o<n.length;o++){var f=n[o],h=f[0],d=v[h];r.addLayer({type:h,id:f[1],source:c,layout:d.layout,paint:d.paint},w)}},I._removeLayers=function(){for(var v=this.subplot.map,w=this.layerList,r=w.length-1;r>=0;r--)v.removeLayer(w[r][1])},I.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},oe.exports=function(w,r){var n=r[0].trace,c=new R(w,n.uid),o=c.sourceId,f=S(r),h=c.below=w.belowLookup["trace-"+n.uid];return w.map.addSource(o,{type:"geojson",data:f.geojson}),c._addLayers(f,h),r[0].trace._glTrace=c,c}},12674:function(oe,J,t){"use strict";var S=t(50693),k=t(12663).axisHoverFormat,l=t(5386).fF,R=t(2418),I=t(9012),v=t(1426).extendFlat,w={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:l({editType:"calc"},{keys:["norm"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:v({},I.showlegend,{dflt:!1})};v(w,S("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(n){w[n]=R[n]}),w.hoverinfo=v({},I.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),w.transforms=void 0,oe.exports=w},31371:function(oe,J,t){"use strict";var S=t(78803);oe.exports=function(l,R){for(var I=R.u,v=R.v,w=R.w,r=Math.min(R.x.length,R.y.length,R.z.length,I.length,v.length,w.length),n=-1/0,c=1/0,o=0;o<r;o++){var f=I[o],h=v[o],d=w[o],b=Math.sqrt(f*f+h*h+d*d);n=Math.max(n,b),c=Math.min(c,b)}R._len=r,R._normMax=n,S(l,R,{vals:[c,n],containerStr:"",cLetter:"c"})}},5453:function(oe,J,t){"use strict";var S=t(9330).gl_cone3d,k=t(9330).gl_cone3d.createConeMesh,l=t(71828).simpleMap,R=t(81697).parseColorScale,I=t(21081).extractOpts,v=t(90060);function w(d,b){this.scene=d,this.uid=b,this.mesh=null,this.data=null}var r=w.prototype;r.handlePick=function(d){if(d.object===this.mesh){var b=d.index=d.data.index,u=this.data.u[b],g=this.data.v[b],C=this.data.w[b];d.traceCoordinate=[this.data.x[b],this.data.y[b],this.data.z[b],u,g,C,Math.sqrt(u*u+g*g+C*C)];var T=this.data.hovertext||this.data.text;return Array.isArray(T)&&void 0!==T[b]?d.textLabel=T[b]:T&&(d.textLabel=T),!0}};var n={xaxis:0,yaxis:1,zaxis:2},c={tip:1,tail:0,cm:.25,center:.5},o={tip:1,tail:1,cm:.75,center:.5};function f(d,b){var p=d.fullSceneLayout,A=d.dataScale,m={};function u(L,x){var E=p[x],M=A[n[x]];return l(L,function(i){return E.d2l(i)*M})}m.vectors=v(u(b.u,"xaxis"),u(b.v,"yaxis"),u(b.w,"zaxis"),b._len),m.positions=v(u(b.x,"xaxis"),u(b.y,"yaxis"),u(b.z,"zaxis"),b._len);var g=I(b);m.colormap=R(b),m.vertexIntensityBounds=[g.min/b._normMax,g.max/b._normMax],m.coneOffset=c[b.anchor],m.coneSize="scaled"===b.sizemode?b.sizeref||.5:b.sizeref&&b._normMax?b.sizeref/b._normMax:.5;var C=S(m),T=b.lightposition;return C.lightPosition=[T.x,T.y,T.z],C.ambient=b.lighting.ambient,C.diffuse=b.lighting.diffuse,C.specular=b.lighting.specular,C.roughness=b.lighting.roughness,C.fresnel=b.lighting.fresnel,C.opacity=b.opacity,b._pad=o[b.anchor]*C.vectorScale*C.coneScale*b._normMax,C}r.update=function(d){this.data=d;var b=f(this.scene,d);this.mesh.update(b)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},oe.exports=function h(d,b){var p=d.glplot.gl,A=f(d,b),m=k(p,A),u=new w(d,b.uid);return u.mesh=m,u.data=b,m._trace=u,d.glplot.add(m),u}},91750:function(oe,J,t){"use strict";var S=t(71828),k=t(1586),l=t(12674);oe.exports=function(I,v,w,r){function n(p,A){return S.coerce(I,v,l,p,A)}var c=n("u"),o=n("v"),f=n("w"),h=n("x"),d=n("y"),b=n("z");c&&c.length&&o&&o.length&&f&&f.length&&h&&h.length&&d&&d.length&&b&&b.length?(n("sizeref"),n("sizemode"),n("anchor"),n("lighting.ambient"),n("lighting.diffuse"),n("lighting.specular"),n("lighting.roughness"),n("lighting.fresnel"),n("lightposition.x"),n("lightposition.y"),n("lightposition.z"),k(I,v,r,n,{prefix:"",cLetter:"c"}),n("text"),n("hovertext"),n("hovertemplate"),n("uhoverformat"),n("vhoverformat"),n("whoverformat"),n("xhoverformat"),n("yhoverformat"),n("zhoverformat"),v._length=null):v.visible=!1}},98128:function(oe,J,t){"use strict";oe.exports={moduleType:"trace",name:"cone",basePlotModule:t(58547),categories:["gl3d","showLegend"],attributes:t(12674),supplyDefaults:t(91750),colorbar:{min:"cmin",max:"cmax"},calc:t(31371),plot:t(5453),eventData:function(S,k){return S.norm=k.traceCoordinate[6],S},meta:{}}},70600:function(oe,J,t){"use strict";var S=t(21606),k=t(82196),l=t(12663),R=l.axisHoverFormat,I=l.descriptionOnlyNumbers,v=t(50693),w=t(79952).P,r=t(41940),n=t(1426).extendFlat,c=t(74808),o=c.COMPARISON_OPS2,f=c.INTERVAL_OPS,h=k.line;oe.exports=n({z:S.z,x:S.x,x0:S.x0,dx:S.dx,y:S.y,y0:S.y0,dy:S.dy,xperiod:S.xperiod,yperiod:S.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:S.xperiodalignment,yperiodalignment:S.yperiodalignment,text:S.text,hovertext:S.hovertext,transpose:S.transpose,xtype:S.xtype,ytype:S.ytype,xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z",1),hovertemplate:S.hovertemplate,texttemplate:n({},S.texttemplate,{}),textfont:n({},S.textfont,{}),hoverongaps:S.hoverongaps,connectgaps:n({},S.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:I("contour label")},operation:{valType:"enumerated",values:[].concat(o).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:n({},h.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:w,smoothing:n({},h.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(oe,J,t){"use strict";var S=t(21081),k=t(90757),l=t(18670),R=t(53572);oe.exports=function(v,w){var r=k(v,w),n=r[0].z;l(w,n);var f,c=w.contours,o=S.extractOpts(w);if("heatmap"===c.coloring&&o.auto&&!1===w.autocontour){var h=c.start,d=R(c),b=c.size||1,p=Math.floor((d-h)/b)+1;isFinite(b)||(b=1,p=1);var A=h-b/2;f=[A,A+p*b]}else f=n;return S.calc(v,w,{vals:f,cLetter:"z"}),r}},20083:function(oe){"use strict";oe.exports=function(J,t){var l,S=J[0],k=S.z;switch(t.type){case"levels":var R=Math.min(k[0][0],k[0][1]);for(l=0;l<J.length;l++){var I=J[l];I.prefixBoundary=!I.edgepaths.length&&(R>I.level||I.starts.length&&R===I.level)}break;case"constraint":if(S.prefixBoundary=!1,S.edgepaths.length)return;var v=S.x.length,w=S.y.length,r=-1/0,n=1/0;for(l=0;l<w;l++)n=Math.min(n,k[l][0]),n=Math.min(n,k[l][v-1]),r=Math.max(r,k[l][0]),r=Math.max(r,k[l][v-1]);for(l=1;l<v-1;l++)n=Math.min(n,k[0][l]),n=Math.min(n,k[w-1][l]),r=Math.max(r,k[0][l]),r=Math.max(r,k[w-1][l]);var o,f,c=t.value;switch(t._operation){case">":c>r&&(S.prefixBoundary=!0);break;case"<":(c<n||S.starts.length&&c===n)&&(S.prefixBoundary=!0);break;case"[]":o=Math.min(c[0],c[1]),((f=Math.max(c[0],c[1]))<n||o>r||S.starts.length&&f===n)&&(S.prefixBoundary=!0);break;case"][":o=Math.min(c[0],c[1]),f=Math.max(c[0],c[1]),o<n&&f>r&&(S.prefixBoundary=!0)}}}},90654:function(oe,J,t){"use strict";var S=t(21081),k=t(86068),l=t(53572);oe.exports={min:"zmin",max:"zmax",calc:function R(I,v,w){var r=v.contours,n=v.line,c=r.size||1,o=r.coloring,f=k(v,{isColorbar:!0});if("heatmap"===o){var h=S.extractOpts(v);w._fillgradient=h.reversescale?S.flipScale(h.colorscale):h.colorscale,w._zrange=[h.min,h.max]}else"fill"===o&&(w._fillcolor=f);w._line={color:"lines"===o?f:n.color,width:!1!==r.showlines?n.width:0,dash:n.dash},w._levels={start:r.start,end:l(r),size:c}}}},36914:function(oe){"use strict";oe.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(oe,J,t){"use strict";var S=t(92770),k=t(14523),l=t(7901),R=l.addOpacity,I=l.opacity,v=t(74808),w=v.CONSTRAINT_REDUCTION,r=v.COMPARISON_OPS2;oe.exports=function(o,f,h,d,b,p){var m,u,g,A=f.contours,C=h("contours.operation");A._operation=w[C],function n(c,o){var f;-1===r.indexOf(o.operation)?(c("contours.value",[0,1]),Array.isArray(o.value)?o.value.length>2?o.value=o.value.slice(2):0===o.length?o.value=[0,1]:o.length<2?(f=parseFloat(o.value[0]),o.value=[f,f+1]):o.value=[parseFloat(o.value[0]),parseFloat(o.value[1])]:S(o.value)&&(f=parseFloat(o.value),o.value=[f,f+1])):(c("contours.value",0),S(o.value)||(o.value=Array.isArray(o.value)?parseFloat(o.value[0]):0))}(h,A),"="===C?m=A.showlines=!0:(m=h("contours.showlines"),g=h("fillcolor",R((o.line||{}).color||b,.5))),m&&(u=h("line.color",g&&I(g)?R(f.fillcolor,1):b),h("line.width",2),h("line.dash")),h("line.smoothing"),k(h,d,u,p)}},64237:function(oe,J,t){"use strict";var S=t(74808),k=t(92770);function l(v,w){var n,r=Array.isArray(w);function c(o){return k(o)?+o:null}return-1!==S.COMPARISON_OPS2.indexOf(v)?n=c(r?w[0]:w):-1!==S.INTERVAL_OPS.indexOf(v)?n=r?[c(w[0]),c(w[1])]:[c(w),c(w)]:-1!==S.SET_OPS.indexOf(v)&&(n=r?w.map(c):[c(w)]),n}function R(v){return function(w){w=l(v,w);var r=Math.min(w[0],w[1]),n=Math.max(w[0],w[1]);return{start:r,end:n,size:n-r}}}function I(v){return function(w){return{start:w=l(v,w),end:1/0,size:1/0}}}oe.exports={"[]":R("[]"),"][":R("]["),">":I(">"),"<":I("<"),"=":I("=")}},67217:function(oe){"use strict";oe.exports=function(t,S,k,l){var R=l("contours.start"),I=l("contours.end"),v=!1===R||!1===I,w=k("contours.size");((v?S.autocontour=!0:k("autocontour",!1))||!w)&&k("ncontours")}},84857:function(oe,J,t){"use strict";var S=t(71828);function k(l){return S.extendFlat({},l,{edgepaths:S.extendDeep([],l.edgepaths),paths:S.extendDeep([],l.paths),starts:S.extendDeep([],l.starts)})}oe.exports=function(l,R){var I,v,w,r=function(o){return o.reverse()},n=function(o){return o};switch(R){case"=":case"<":return l;case">":for(1!==l.length&&S.warn("Contour data invalid for the specified inequality operation."),v=l[0],I=0;I<v.edgepaths.length;I++)v.edgepaths[I]=r(v.edgepaths[I]);for(I=0;I<v.paths.length;I++)v.paths[I]=r(v.paths[I]);for(I=0;I<v.starts.length;I++)v.starts[I]=r(v.starts[I]);return l;case"][":var c=r;r=n,n=c;case"[]":for(2!==l.length&&S.warn("Contour data invalid for the specified inequality range operation."),v=k(l[0]),w=k(l[1]),I=0;I<v.edgepaths.length;I++)v.edgepaths[I]=r(v.edgepaths[I]);for(I=0;I<v.paths.length;I++)v.paths[I]=r(v.paths[I]);for(I=0;I<v.starts.length;I++)v.starts[I]=r(v.starts[I]);for(;w.edgepaths.length;)v.edgepaths.push(n(w.edgepaths.shift()));for(;w.paths.length;)v.paths.push(n(w.paths.shift()));for(;w.starts.length;)v.starts.push(n(w.starts.shift()));return[v]}}},13031:function(oe,J,t){"use strict";var S=t(71828),k=t(67684),l=t(73927),R=t(83179),I=t(67217),v=t(8724),w=t(58623),r=t(70600);oe.exports=function(c,o,f,h){function d(m,u){return S.coerce(c,o,r,m,u)}if(k(c,o,d,h)){l(c,o,h,d),d("xhoverformat"),d("yhoverformat"),d("text"),d("hovertext"),d("hoverongaps"),d("hovertemplate");var A="constraint"===d("contours.type");d("connectgaps",S.isArray1D(o.z)),A?R(c,o,d,h,f):(I(c,o,d,function b(m){return S.coerce2(c,o,r,m)}),v(c,o,d,h)),o.contours&&"heatmap"===o.contours.coloring&&w(d,h)}else o.visible=!1}},87558:function(oe,J,t){"use strict";var S=t(71828),k=t(64237),l=t(53572);oe.exports=function(I,v,w){for(var r="constraint"===I.type?k[I._operation](I.value):I,n=r.size,c=[],o=l(r),f=w.trace._carpetTrace,h=f?{xaxis:f.aaxis,yaxis:f.baxis,x:w.a,y:w.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:w.x,y:w.y},d=r.start;d<o;d+=n)if(c.push(S.extendFlat({level:d,crossings:{},starts:[],edgepaths:[],paths:[],z:w.z,smoothing:w.trace.line.smoothing},h)),c.length>1e3){S.warn("Too many contours, clipping at 1000",I);break}return c}},53572:function(oe){"use strict";oe.exports=function(t){return t.end+t.size/1e6}},81696:function(oe,J,t){"use strict";var S=t(71828),k=t(36914);function l(r,n,c,o){return Math.abs(r[0]-n[0])<c&&Math.abs(r[1]-n[1])<o}function R(r,n){var c=r[2]-n[2],o=r[3]-n[3];return Math.sqrt(c*c+o*o)}function I(r,n,c,o,f){var C,h=n.join(","),d=r.crossings[h],b=function v(r,n,c){var o=0,f=0;return r>20&&n?208===r||1114===r?o=0===c[0]?1:-1:f=0===c[1]?1:-1:-1!==k.BOTTOMSTART.indexOf(r)?f=1:-1!==k.LEFTSTART.indexOf(r)?o=1:-1!==k.TOPSTART.indexOf(r)?f=-1:o=-1,[o,f]}(d,c,n),p=[w(r,n,[-b[0],-b[1]])],A=r.z.length,m=r.z[0].length,u=n.slice(),g=b.slice();for(C=0;C<1e4;C++){if(d>20?r.crossings[h]=k.SADDLEREMAINDER[d=k.CHOOSESADDLE[d][(b[0]||b[1])<0?0:1]]:delete r.crossings[h],!(b=k.NEWDELTA[d])){S.log("Found bad marching index:",d,n,r.level);break}if(p.push(w(r,n,b)),n[0]+=b[0],n[1]+=b[1],h=n.join(","),l(p[p.length-1],p[p.length-2],o,f)&&p.pop(),n[0]===u[0]&&n[1]===u[1]&&b[0]===g[0]&&b[1]===g[1]||c&&(b[0]&&(n[0]<0||n[0]>m-2)||b[1]&&(n[1]<0||n[1]>A-2)))break;d=r.crossings[h]}1e4===C&&S.log("Infinite loop in contour?");var y,B,F,_,z,V,H,U,G,Y,ee,x=l(p[0],p[p.length-1],o,f),E=0,M=.2*r.smoothing,i=[],D=0;for(C=1;C<p.length;C++)E+=H=R(p[C],p[C-1]),i.push(H);var ue=E/i.length*M;function ce(Q){return p[Q%p.length]}for(C=p.length-2;C>=D;C--)if((y=i[C])<ue){for(F=0,B=C-1;B>=D&&y+i[B]<ue;B--)y+=i[B];if(x&&C===p.length-2)for(F=0;F<B&&y+i[F]<ue;F++)y+=i[F];z=C-B+F+1,V=Math.floor((C+B+F+2)/2),_=x||C!==p.length-2?x||-1!==B?z%2?ce(V):[(ce(V)[0]+ce(V+1)[0])/2,(ce(V)[1]+ce(V+1)[1])/2]:p[0]:p[p.length-1],p.splice(B+1,C-B+1,_),C=B+1,F&&(D=F),x&&(C===p.length-2?p[F]=p[p.length-1]:0===C&&(p[p.length-1]=p[0]))}for(p.splice(0,D),C=0;C<p.length;C++)p[C].length=2;if(!(p.length<2))if(x)p.pop(),r.paths.push(p);else{c||S.log("Unclosed interior contour?",r.level,u.join(","),p.join("L"));var pe=!1;for(U=0;U<r.edgepaths.length;U++)if(Y=r.edgepaths[U],!pe&&l(Y[0],p[p.length-1],o,f)){p.pop(),pe=!0;var te=!1;for(G=0;G<r.edgepaths.length;G++)if(l((ee=r.edgepaths[G])[ee.length-1],p[0],o,f)){te=!0,p.shift(),r.edgepaths.splice(U,1),G===U?r.paths.push(p.concat(ee)):(G>U&&G--,r.edgepaths[G]=ee.concat(p,Y));break}te||(r.edgepaths[U]=p.concat(Y))}for(U=0;U<r.edgepaths.length&&!pe;U++)l((Y=r.edgepaths[U])[Y.length-1],p[0],o,f)&&(p.shift(),r.edgepaths[U]=Y.concat(p),pe=!0);pe||r.edgepaths.push(p)}}function w(r,n,c){var o=n[0]+Math.max(c[0],0),f=n[1]+Math.max(c[1],0),h=r.z[f][o],d=r.xaxis,b=r.yaxis;if(c[1]){var p=(r.level-h)/(r.z[f][o+1]-h),A=(1!==p?(1-p)*d.c2l(r.x[o]):0)+(0!==p?p*d.c2l(r.x[o+1]):0);return[d.c2p(d.l2c(A),!0),b.c2p(r.y[f],!0),o+p,f]}var m=(r.level-h)/(r.z[f+1][o]-h),u=(1!==m?(1-m)*b.c2l(r.y[f]):0)+(0!==m?m*b.c2l(r.y[f+1]):0);return[d.c2p(r.x[o],!0),b.c2p(b.l2c(u),!0),o,f+m]}oe.exports=function(n,c,o){var f,d,b,p;for(c=c||.01,o=o||.01,d=0;d<n.length;d++){for(b=n[d],p=0;p<b.starts.length;p++)I(b,b.starts[p],"edge",c,o);for(f=0;Object.keys(b.crossings).length&&f<1e4;)f++,I(b,Object.keys(b.crossings)[0].split(",").map(Number),void 0,c,o);1e4===f&&S.log("Infinite loop in contour?")}}},52421:function(oe,J,t){"use strict";var S=t(7901),k=t(46248);oe.exports=function(R,I,v,w,r){r||(r={}),r.isContour=!0;var n=k(R,I,v,w,r);return n&&n.forEach(function(c){var o=c.trace;"constraint"===o.contours.type&&(o.fillcolor&&S.opacity(o.fillcolor)?c.color=S.addOpacity(o.fillcolor,1):o.contours.showlines&&S.opacity(o.line.color)&&(c.color=S.addOpacity(o.line.color,1)))}),n}},99442:function(oe,J,t){"use strict";oe.exports={attributes:t(70600),supplyDefaults:t(13031),calc:t(27529),plot:t(29854).plot,style:t(84426),colorbar:t(90654),hoverPoints:t(52421),moduleType:"trace",name:"contour",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(oe,J,t){"use strict";var S=t(71828);oe.exports=function(l,R,I,v){if(v||(v={}),l("contours.showlabels")){var r=R.font;S.coerceFont(l,"contours.labelfont",{family:r.family,size:r.size,color:I}),l("contours.labelformat")}!1!==v.hasHover&&l("zhoverformat")}},86068:function(oe,J,t){"use strict";var S=t(39898),k=t(21081),l=t(53572);oe.exports=function(I){var v=I.contours,w=v.start,r=l(v),n=v.size||1,c=Math.floor((r-w)/n)+1,o="lines"===v.coloring?0:1,f=k.extractOpts(I);isFinite(n)||(n=1,c=1);var A,m,h=f.reversescale?k.flipScale(f.colorscale):f.colorscale,d=h.length,b=new Array(d),p=new Array(d),u=f.min,g=f.max;if("heatmap"===v.coloring){for(m=0;m<d;m++)b[m]=(A=h[m])[0]*(g-u)+u,p[m]=A[1];var C=S.extent([u,g,v.start,v.start+n*(c-1)]),T=C[u<g?0:1],L=C[u<g?1:0];T!==u&&(b.splice(0,0,T),p.splice(0,0,p[0])),L!==g&&(b.push(L),p.push(p[p.length-1]))}else{var x=I._input&&"number"==typeof I._input.zmin&&"number"==typeof I._input.zmax;for(x&&(w<=u||r>=g)&&(w<=u&&(w=u),r>=g&&(r=g),c=Math.floor((r-w)/n)+1,o=0),m=0;m<d;m++)b[m]=((A=h[m])[0]*(c+o-1)-o/2)*n+w,p[m]=A[1];(x||I.autocontour)&&(b[0]>u&&(b.unshift(u),p.unshift(p[0])),b[b.length-1]<g&&(b.push(g),p.push(p[p.length-1])))}return k.makeColorScaleFunc({domain:b,range:p},{noNumericCheck:!0})}},87678:function(oe,J,t){"use strict";var S=t(36914);function k(l,R){var I=(R[0][0]>l?0:1)+(R[0][1]>l?0:2)+(R[1][1]>l?0:4)+(R[1][0]>l?0:8);return 5===I||10===I?l>(R[0][0]+R[0][1]+R[1][0]+R[1][1])/4?5===I?713:1114:5===I?104:208:15===I?0:I}oe.exports=function(R){var n,c,o,f,h,d,b,p,A,I=R[0].z,v=I.length,w=I[0].length,r=2===v||2===w;for(c=0;c<v-1;c++)for(f=[],0===c&&(f=f.concat(S.BOTTOMSTART)),c===v-2&&(f=f.concat(S.TOPSTART)),n=0;n<w-1;n++)for(o=f.slice(),0===n&&(o=o.concat(S.LEFTSTART)),n===w-2&&(o=o.concat(S.RIGHTSTART)),h=n+","+c,d=[[I[c][n],I[c][n+1]],[I[c+1][n],I[c+1][n+1]]],A=0;A<R.length;A++)(b=k((p=R[A]).level,d))&&(p.crossings[h]=b,-1!==o.indexOf(b)&&(p.starts.push([n,c]),r&&-1!==o.indexOf(b,o.indexOf(b)+1)&&p.starts.push([n,c])))}},29854:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(91424),R=t(21081),I=t(63893),v=t(89298),w=t(21994),r=t(50347),n=t(87678),c=t(81696),o=t(87558),f=t(84857),h=t(20083),d=t(36914),b=d.LABELOPTIMIZER;function m(L,x){var y,B,F,_,z,V,E="",M=0,i=L.edgepaths.map(function(ue,ce){return ce}),D=!0;function U(ue){return Math.abs(ue[1]-x[2][1])<.01}function G(ue){return Math.abs(ue[0]-x[0][0])<.01}function Y(ue){return Math.abs(ue[0]-x[2][0])<.01}for(;i.length;){for(V=l.smoothopen(L.edgepaths[M],L.smoothing),E+=D?V:V.replace(/^M/,"L"),i.splice(i.indexOf(M),1),y=L.edgepaths[M][L.edgepaths[M].length-1],_=-1,F=0;F<4;F++){if(!y){k.log("Missing end?",M,L);break}for(Math.abs(y[1]-x[0][1])<.01&&!Y(y)?B=x[1]:G(y)?B=x[0]:U(y)?B=x[3]:Y(y)&&(B=x[2]),z=0;z<L.edgepaths.length;z++){var ee=L.edgepaths[z][0];Math.abs(y[0]-B[0])<.01?Math.abs(y[0]-ee[0])<.01&&(ee[1]-y[1])*(B[1]-ee[1])>=0&&(B=ee,_=z):Math.abs(y[1]-B[1])<.01?Math.abs(y[1]-ee[1])<.01&&(ee[0]-y[0])*(B[0]-ee[0])>=0&&(B=ee,_=z):k.log("endpt to newendpt is not vert. or horz.",y,B,ee)}if(y=B,_>=0)break;E+="L"+B}if(_===L.edgepaths.length){k.log("unclosed perimeter path");break}(D=-1===i.indexOf(M=_))&&(M=i[0],E+="Z")}for(M=0;M<L.paths.length;M++)E+=l.smoothclosed(L.paths[M],L.smoothing);return E}function g(L,x,E,M){var i=x.width/2,D=x.height/2,y=L.x,B=L.y,F=L.theta,_=Math.cos(F)*i,z=Math.sin(F)*i,V=(y>M.center?M.right-y:y-M.left)/(_+Math.abs(Math.sin(F)*D)),H=(B>M.middle?M.bottom-B:B-M.top)/(Math.abs(z)+Math.cos(F)*D);if(V<1||H<1)return 1/0;var U=b.EDGECOST*(1/(V-1)+1/(H-1));U+=b.ANGLECOST*F*F;for(var G=y-_,Y=B-z,ee=y+_,ue=B+z,ce=0;ce<E.length;ce++){var pe=E[ce],te=Math.cos(pe.theta)*pe.width/2,Q=Math.sin(pe.theta)*pe.width/2,K=2*k.segmentDistance(G,Y,ee,ue,pe.x-te,pe.y-Q,pe.x+te,pe.y+Q)/(x.height+pe.height),Z=pe.level===x.level,q=Z?b.SAMELEVELDISTANCE:1;if(K<=q)return 1/0;U+=b.NEIGHBORCOST*(Z?b.SAMELEVELFACTOR:1)/(K-q)}return U}function T(L){var D,B,x=L.trace._emptypoints,E=[],M=L.z.length,i=L.z[0].length,y=[];for(D=0;D<i;D++)y.push(1);for(D=0;D<M;D++)E.push(y.slice());for(D=0;D<x.length;D++)E[(B=x[D])[0]][B[1]]=0;return L.zmask=E,E}J.plot=function(x,E,M,i){var D=E.xaxis,y=E.yaxis;k.makeTraceGroups(i,M,"contour").each(function(B){var F=S.select(this),_=B[0],V=_.x,H=_.y,U=_.trace.contours,G=o(U,E,_),Y=k.ensureSingle(F,"g","heatmapcoloring"),ee=[];"heatmap"===U.coloring&&(ee=[B]),r(x,E,ee,Y),n(G),c(G);var ue=D.c2p(V[0],!0),ce=D.c2p(V[V.length-1],!0),pe=y.c2p(H[0],!0),te=y.c2p(H[H.length-1],!0),Q=[[ue,te],[ce,te],[ce,pe],[ue,pe]],K=G;"constraint"===U.type&&(K=f(G,U._operation)),function p(L,x,E){var i=k.ensureSingle(L,"g","contourbg").selectAll("path").data("fill"===E.coloring?[0]:[]);i.enter().append("path"),i.exit().remove(),i.attr("d","M"+x.join("L")+"Z").style("stroke","none")}(F,Q,U),function A(L,x,E,M){var i="fill"===M.coloring||"constraint"===M.type&&"="!==M._operation,D="M"+E.join("L")+"Z";i&&h(x,M);var B=k.ensureSingle(L,"g","contourfill").selectAll("path").data(i?x:[]);B.enter().append("path"),B.exit().remove(),B.each(function(F){var _=(F.prefixBoundary?D:"")+m(F,E);_?S.select(this).attr("d",_).style("stroke","none"):S.select(this).remove()})}(F,K,Q,U),function u(L,x,E,M,i){var D=E._context.staticPlot,y=k.ensureSingle(L,"g","contourlines"),B=!1!==i.showlines,F=i.showlabels,_=B&&F,z=J.createLines(y,B||F,x,D),V=J.createLineClip(y,_,E,M.trace.uid),H=L.selectAll("g.contourlabels").data(F?[0]:[]);if(H.exit().remove(),H.enter().append("g").classed("contourlabels",!0),F){var U=[],G=[];k.clearLocationCache();var Y=J.labelFormatter(E,M),ee=l.tester.append("text").attr("data-notex",1).call(l.font,i.labelfont),ue=x[0].xaxis,ce=x[0].yaxis,pe=ue._length,te=ce._length,Q=ue.range,K=ce.range,Z=k.aggNums(Math.min,null,M.x),q=k.aggNums(Math.max,null,M.x),fe=k.aggNums(Math.min,null,M.y),re=k.aggNums(Math.max,null,M.y),$=Math.max(ue.c2p(Z,!0),0),le=Math.min(ue.c2p(q,!0),pe),se=Math.max(ce.c2p(re,!0),0),de=Math.min(ce.c2p(fe,!0),te),we={};Q[0]<Q[1]?(we.left=$,we.right=le):(we.left=le,we.right=$),K[0]<K[1]?(we.top=se,we.bottom=de):(we.top=de,we.bottom=se),we.middle=(we.top+we.bottom)/2,we.center=(we.left+we.right)/2,U.push([[we.left,we.top],[we.right,we.top],[we.right,we.bottom],[we.left,we.bottom]]);var Ee=Math.sqrt(pe*pe+te*te),Me=d.LABELDISTANCE*Ee/Math.max(1,x.length/d.LABELINCREASE);z.each(function(Ne){var Ve=J.calcTextOpts(Ne.level,Y,ee,E);S.select(this).selectAll("path").each(function(){var Ce=k.getVisibleSegment(this,we,Ve.height/2);if(Ce&&!(Ce.len<(Ve.width+Ve.height)*d.LABELMIN))for(var Ie=Math.min(Math.ceil(Ce.len/Me),d.LABELMAX),Je=0;Je<Ie;Je++){var Qe=J.findBestTextLocation(this,Ce,Ve,G,we);if(!Qe)break;J.addLabelData(Qe,Ve,G,U)}})}),ee.remove(),J.drawLabels(H,G,E,V,_?U:null)}F&&!B&&z.remove()}(F,G,x,_,U),function C(L,x,E,M,i){var D=M.trace,B="clip"+D.uid,F=E._fullLayout._clips.selectAll("#"+B).data(D.connectgaps?[]:[0]);if(F.enter().append("clipPath").classed("contourclip",!0).attr("id",B),F.exit().remove(),!1===D.connectgaps){var _={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:x.xaxis,yaxis:x.yaxis,x:M.x,y:M.y,z:T(M),smoothing:0};n([_]),c([_]),h([_],{type:"levels"}),k.ensureSingle(F,"path","").attr("d",(_.prefixBoundary?"M"+i.join("L")+"Z":"")+m(_,i))}else B=null;l.setClipUrl(L,B,E)}(F,E,x,_,Q)})},J.createLines=function(L,x,E,M){var i=E[0].smoothing,D=L.selectAll("g.contourlevel").data(x?E:[]);if(D.exit().remove(),D.enter().append("g").classed("contourlevel",!0),x){var y=D.selectAll("path.openline").data(function(F){return F.pedgepaths||F.edgepaths});y.exit().remove(),y.enter().append("path").classed("openline",!0),y.attr("d",function(F){return l.smoothopen(F,i)}).style("stroke-miterlimit",1).style("vector-effect",M?"none":"non-scaling-stroke");var B=D.selectAll("path.closedline").data(function(F){return F.ppaths||F.paths});B.exit().remove(),B.enter().append("path").classed("closedline",!0),B.attr("d",function(F){return l.smoothclosed(F,i)}).style("stroke-miterlimit",1).style("vector-effect",M?"none":"non-scaling-stroke")}return D},J.createLineClip=function(L,x,E,M){var D=x?"clipline"+M:null,y=E._fullLayout._clips.selectAll("#"+D).data(x?[0]:[]);return y.exit().remove(),y.enter().append("clipPath").classed("contourlineclip",!0).attr("id",D),l.setClipUrl(L,D,E),y},J.labelFormatter=function(L,x){var E=L._fullLayout,M=x.trace,i=M.contours,D={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(i.labelformat)D.tickformat=i.labelformat,w(D,E);else{var y=R.extractOpts(M);if(y&&y.colorbar&&y.colorbar._axis)D=y.colorbar._axis;else{if("constraint"===i.type){var B=i.value;D.range=Array.isArray(B)?[B[0],B[B.length-1]]:[B,B]}else D.range=[i.start,i.end],D.nticks=(i.end-i.start)/i.size;D.range[0]===D.range[1]&&(D.range[1]+=D.range[0]||1),D.nticks||(D.nticks=1e3),w(D,E),v.prepTicks(D),D._tmin=null,D._tmax=null}}return function(F){return v.tickText(D,F).text}},J.calcTextOpts=function(L,x,E,M){var i=x(L);E.text(i).call(I.convertToTspans,M);var D=E.node(),y=l.bBox(D,!0);return{text:i,width:y.width,height:y.height,fontSize:+D.style["font-size"].replace("px",""),level:L,dy:(y.top+y.bottom)/2}},J.findBestTextLocation=function(L,x,E,M,i){var y,B,F,_,z,D=E.width;x.isClosed?(y=x.min+(B=x.len/b.INITIALSEARCHPOINTS)/2,F=x.max):(y=x.min+(B=(x.len-D)/(b.INITIALSEARCHPOINTS+1))+D/2,F=x.max-(B+D)/2);for(var V=1/0,H=0;H<b.ITERATIONS;H++){for(var U=y;U<F;U+=B){var G=k.getTextLocation(L,x.total,U,D),Y=g(G,E,M,i);Y<V&&(V=Y,z=G,_=U)}if(V>2*b.MAXCOST)break;H&&(B/=2),F=(y=_-B/2)+1.5*B}if(V<=b.MAXCOST)return z},J.addLabelData=function(L,x,E,M){var i=x.fontSize,D=x.width+i/3,y=Math.max(0,x.height-i/3),B=L.x,F=L.y,_=L.theta,z=Math.sin(_),V=Math.cos(_),H=function(G,Y){return[B+G*V-Y*z,F+G*z+Y*V]},U=[H(-D/2,-y/2),H(-D/2,y/2),H(D/2,y/2),H(D/2,-y/2)];E.push({text:x.text,x:B,y:F,dy:x.dy,theta:_,level:x.level,width:D,height:y}),M.push(U)},J.drawLabels=function(L,x,E,M,i){var D=L.selectAll("text").data(x,function(_){return _.text+","+_.x+","+_.y+","+_.theta});if(D.exit().remove(),D.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(_){var z=_.x+Math.sin(_.theta)*_.dy,V=_.y-Math.cos(_.theta)*_.dy;S.select(this).text(_.text).attr({x:z,y:V,transform:"rotate("+180*_.theta/Math.PI+" "+z+" "+V+")"}).call(I.convertToTspans,E)}),i){for(var y="",B=0;B<i.length;B++)y+="M"+i[B].join("L")+"Z";k.ensureSingle(M,"path","").attr("d",y)}}},18670:function(oe,J,t){"use strict";var S=t(89298),k=t(71828);function l(R,I,v){var w={type:"linear",range:[R,I]};return S.autoTicks(w,(I-R)/(v||15)),w}oe.exports=function(I,v){var w=I.contours;if(I.autocontour){var r=I.zmin,n=I.zmax;(I.zauto||void 0===r)&&(r=k.aggNums(Math.min,null,v)),(I.zauto||void 0===n)&&(n=k.aggNums(Math.max,null,v));var c=l(r,n,I.ncontours);w.size=c.dtick,w.start=S.tickFirst(c),c.range.reverse(),w.end=S.tickFirst(c),w.start===r&&(w.start+=w.size),w.end===n&&(w.end-=w.size),w.start>w.end&&(w.start=w.end=(w.start+w.end)/2),I._input.contours||(I._input.contours={}),k.extendFlat(I._input.contours,{start:w.start,end:w.end,size:w.size}),I._input.autocontour=!0}else if("constraint"!==w.type){var d,o=w.start,f=w.end,h=I._input.contours;o>f&&(w.start=h.start=f,f=w.end=h.end=o,o=w.start),w.size>0||(d=o===f?1:l(o,f,I.ncontours).dtick,h.size=w.size=d)}}},84426:function(oe,J,t){"use strict";var S=t(39898),k=t(91424),l=t(70035),R=t(86068);oe.exports=function(v){var w=S.select(v).selectAll("g.contour");w.style("opacity",function(r){return r[0].trace.opacity}),w.each(function(r){var n=S.select(this),c=r[0].trace,o=c.contours,f=c.line,h=o.size||1,d=o.start,b="constraint"===o.type,p=!b&&"lines"===o.coloring,A=!b&&"fill"===o.coloring,m=p||A?R(c):null;n.selectAll("g.contourlevel").each(function(C){S.select(this).selectAll("path").call(k.lineGroupStyle,f.width,p?m(C.level):f.color,f.dash)});var u=o.labelfont;if(n.selectAll("g.contourlabels text").each(function(C){k.font(S.select(this),{family:u.family,size:u.size,color:u.color||(p?m(C.level):f.color)})}),b)n.selectAll("g.contourfill path").style("fill",c.fillcolor);else if(A){var g;n.selectAll("g.contourfill path").style("fill",function(C){return void 0===g&&(g=C.level),m(C.level+.5*h)}),void 0===g&&(g=d),n.selectAll("g.contourbg path").style("fill",m(g-.5*h))}}),l(v)}},8724:function(oe,J,t){"use strict";var S=t(1586),k=t(14523);oe.exports=function(R,I,v,w,r){var c,n=v("contours.coloring"),o="";"fill"===n&&(c=v("contours.showlines")),!1!==c&&("lines"!==n&&(o=v("line.color","#000")),v("line.width",.5),v("line.dash")),"none"!==n&&(!0!==R.showlegend&&(I.showlegend=!1),I._dfltShowLegend=!1,S(R,I,w,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),k(v,w,o,r)}},88085:function(oe,J,t){"use strict";var S=t(21606),k=t(70600),l=t(50693),R=t(1426).extendFlat,I=k.contours;oe.exports=R({carpet:{valType:"string",editType:"calc"},z:S.z,a:S.x,a0:S.x0,da:S.dx,b:S.y,b0:S.y0,db:S.dy,text:S.text,hovertext:S.hovertext,transpose:S.transpose,atype:S.xtype,btype:S.ytype,fillcolor:k.fillcolor,autocontour:k.autocontour,ncontours:k.ncontours,contours:{type:I.type,start:I.start,end:I.end,size:I.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:I.showlines,showlabels:I.showlabels,labelfont:I.labelfont,labelformat:I.labelformat,operation:I.operation,value:I.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:k.line.color,width:k.line.width,dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},transforms:void 0},l("",{cLetter:"z",autoColorDflt:!1}))},59885:function(oe,J,t){"use strict";var S=t(78803),k=t(71828),l=t(68296),R=t(4742),I=t(824),v=t(43907),w=t(70769),r=t(75005),n=t(22882),c=t(18670);oe.exports=function(h,d){var b=d._carpetTrace=n(h,d);if(b&&b.visible&&"legendonly"!==b.visible){if(!d.a||!d.b){var p=h.data[b.index],A=h.data[d.index];A.a||(A.a=p.a),A.b||(A.b=p.b),r(A,d,d._defaultColor,h._fullLayout)}var m=function o(f,h){var A,m,u,g,C,T,L,d=h._carpetTrace,b=d.aaxis,p=d.baxis;b._minDtick=0,p._minDtick=0,k.isArray1D(h.z)&&l(h,b,p,"a","b",["z"]),A=h._a=h._a||h.a,g=h._b=h._b||h.b,A=A?b.makeCalcdata(h,"_a"):[],g=g?p.makeCalcdata(h,"_b"):[],m=h.a0||0,u=h.da||1,C=h.b0||0,T=h.db||1,L=h._z=R(h._z||h.z,h.transpose),h._emptypoints=v(L),I(L,h._emptypoints);var x=k.maxRowLength(L),y={a:w(h,"scaled"===h.xtype?"":A,m,u,x,b),b:w(h,"scaled"===h.ytype?"":g,C,T,L.length,p),z:L};return"levels"===h.contours.type&&"none"!==h.contours.coloring&&S(f,h,{vals:L,containerStr:"",cLetter:"z"}),[y]}(h,d);return c(d,d._z),m}}},75005:function(oe,J,t){"use strict";var S=t(71828),k=t(67684),l=t(88085),R=t(83179),I=t(67217),v=t(8724);oe.exports=function(r,n,c,o){function f(p,A){return S.coerce(r,n,l,p,A)}if(f("carpet"),r.a&&r.b){if(!k(r,n,f,o,"a","b"))return void(n.visible=!1);f("text"),"constraint"===f("contours.type")?R(r,n,f,o,c,{hasHover:!1}):(I(r,n,f,function h(p){return S.coerce2(r,n,l,p)}),v(r,n,f,o,{hasHover:!1}))}else n._defaultColor=c,n._length=null}},93740:function(oe,J,t){"use strict";oe.exports={attributes:t(88085),supplyDefaults:t(75005),colorbar:t(90654),calc:t(59885),plot:t(51048),style:t(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:t(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(oe,J,t){"use strict";var S=t(39898),k=t(27669),l=t(67961),R=t(91424),I=t(71828),v=t(87678),w=t(81696),r=t(29854),n=t(36914),c=t(84857),o=t(87558),f=t(20083),h=t(22882),d=t(4536);function p(x,E,M,i,D,y,B){var F=M._context.staticPlot,_=I.ensureSingle(x,"g","contourlines"),z=!1!==D.showlines,V=D.showlabels,H=z&&V,U=r.createLines(_,z||V,E,F),G=r.createLineClip(_,H,M,i.trace.uid),Y=x.selectAll("g.contourlabels").data(V?[0]:[]);if(Y.exit().remove(),Y.enter().append("g").classed("contourlabels",!0),V){var ce=y.xaxis._length,pe=y.yaxis._length,te=[[[0,0],[ce,0],[ce,pe],[0,pe]]],Q=[];I.clearLocationCache();var K=r.labelFormatter(M,i),Z=R.tester.append("text").attr("data-notex",1).call(R.font,D.labelfont),q={left:0,right:ce,center:ce/2,top:0,bottom:pe,middle:pe/2},fe=Math.sqrt(ce*ce+pe*pe),re=n.LABELDISTANCE*fe/Math.max(1,E.length/n.LABELINCREASE);U.each(function($){var le=r.calcTextOpts($.level,K,Z,M);S.select(this).selectAll("path").each(function(se){var we=I.getVisibleSegment(this,q,le.height/2);if(we&&(function A(x,E,M,i,D,y){for(var B,F=0;F<M.pedgepaths.length;F++)E===M.pedgepaths[F]&&(B=M.edgepaths[F]);if(B){var _=D.a[0],z=D.a[D.a.length-1],V=D.b[0],H=D.b[D.b.length-1],G=m(x,0,1),Y=m(x,i.total,i.total-1),ee=U(B[0],G),ue=i.total-U(B[B.length-1],Y);i.min<ee&&(i.min=ee),i.max>ue&&(i.max=ue),i.len=i.max-i.min}function U(ce,pe){var Q,te=0,K=.1;return(Math.abs(ce[0]-_)<K||Math.abs(ce[0]-z)<K)&&(Q=u(D.dxydb_rough(ce[0],ce[1],K)),te=Math.max(te,y*g(pe,Q)/2)),(Math.abs(ce[1]-V)<K||Math.abs(ce[1]-H)<K)&&(Q=u(D.dxyda_rough(ce[0],ce[1],K)),te=Math.max(te,y*g(pe,Q)/2)),te}}(this,se,$,we,B,le.height),!(we.len<(le.width+le.height)*n.LABELMIN)))for(var Ee=Math.min(Math.ceil(we.len/re),n.LABELMAX),Me=0;Me<Ee;Me++){var Ne=r.findBestTextLocation(this,we,le,Q,q);if(!Ne)break;r.addLabelData(Ne,le,Q,te)}})}),Z.remove(),r.drawLabels(Y,Q,M,G,H?te:null)}V&&!z&&U.remove()}function m(x,E,M){var i=x.getPointAtLength(E),D=x.getPointAtLength(M),y=D.x-i.x,B=D.y-i.y,F=Math.sqrt(y*y+B*B);return[y/F,B/F]}function u(x){var E=Math.sqrt(x[0]*x[0]+x[1]*x[1]);return[x[0]/E,x[1]/E]}function g(x,E){var M=Math.abs(x[0]*E[0]+x[1]*E[1]);return Math.sqrt(1-M*M)/M}function T(x,E,M,i,D,y,B,F,_,z,V){var H="fill"===z;H&&f(D,x.contours);var G=I.ensureSingle(E,"g","contourfill").selectAll("path").data(H?D:[]);G.enter().append("path"),G.exit().remove(),G.each(function(Y){var ee=(Y.prefixBoundary?V:"")+function L(x,E,M,i,D,y,B,F){var _,U,G,Y,ee,ue,ce,z="",V=E.edgepaths.map(function(le,se){return se}),H=!0,pe=1e-4*Math.abs(M[0][0]-M[2][0]),te=1e-4*Math.abs(M[0][1]-M[2][1]);function Q(le){return Math.abs(le[1]-M[0][1])<te}function K(le){return Math.abs(le[1]-M[2][1])<te}function Z(le){return Math.abs(le[0]-M[0][0])<pe}function q(le){return Math.abs(le[0]-M[2][0])<pe}function fe(le,se){var de,we,Ee,Me,Ne="";for(Q(le)&&!q(le)||K(le)&&!Z(le)?(Me=D.aaxis,Ee=d(D,y,[le[0],se[0]],.5*(le[1]+se[1]))):(Me=D.baxis,Ee=d(D,y,.5*(le[0]+se[0]),[le[1],se[1]])),de=1;de<Ee.length;de++)for(Ne+=Me.smoothing?"C":"L",we=0;we<Ee[de].length;we++){var Ve=Ee[de][we];Ne+=[B.c2p(Ve[0]),F.c2p(Ve[1])]+" "}return Ne}for(_=0,U=null;V.length;){for(U&&(z+=fe(U,E.edgepaths[_][0])),ce=R.smoothopen(E.edgepaths[_].map(i),E.smoothing),z+=H?ce:ce.replace(/^M/,"L"),V.splice(V.indexOf(_),1),U=E.edgepaths[_][E.edgepaths[_].length-1],ee=-1,Y=0;Y<4;Y++){if(!U){I.log("Missing end?",_,E);break}for(Q(U)&&!q(U)?G=M[1]:Z(U)?G=M[0]:K(U)?G=M[3]:q(U)&&(G=M[2]),ue=0;ue<E.edgepaths.length;ue++){var $=E.edgepaths[ue][0];Math.abs(U[0]-G[0])<pe?Math.abs(U[0]-$[0])<pe&&($[1]-U[1])*(G[1]-$[1])>=0&&(G=$,ee=ue):Math.abs(U[1]-G[1])<te?Math.abs(U[1]-$[1])<te&&($[0]-U[0])*(G[0]-$[0])>=0&&(G=$,ee=ue):I.log("endpt to newendpt is not vert. or horz.",U,G,$)}if(ee>=0)break;z+=fe(U,G),U=G}if(ee===E.edgepaths.length){I.log("unclosed perimeter path");break}(H=-1===V.indexOf(_=ee))&&(_=V[0],z+=fe(U,G)+"Z",U=null)}for(_=0;_<E.paths.length;_++)z+=R.smoothclosed(E.paths[_].map(i),E.smoothing);return z}(0,Y,y,B,F,_,M,i);ee?S.select(this).attr("d",ee).style("stroke","none"):S.select(this).remove()})}oe.exports=function(E,M,i,D){var y=M.xaxis,B=M.yaxis;I.makeTraceGroups(D,i,"contour").each(function(F){var _=S.select(this),z=F[0],V=z.trace,H=V._carpetTrace=h(E,V),U=E.calcdata[H.index][0];if(H.visible&&"legendonly"!==H.visible){var G=z.a,Y=z.b,ee=V.contours,ue=o(ee,M,z),ce="constraint"===ee.type,pe=ee._operation,te=ce?"="===pe?"lines":"fill":ee.coloring,K=[[G[0],Y[Y.length-1]],[G[G.length-1],Y[Y.length-1]],[G[G.length-1],Y[0]],[G[0],Y[0]]];v(ue),w(ue,1e-8*(G[G.length-1]-G[0]),1e-8*(Y[Y.length-1]-Y[0]));var fe=ue;"constraint"===ee.type&&(fe=c(ue,pe)),function b(x,E){var M,i,D,y,B,F,_,z,V;for(M=0;M<x.length;M++){for(B=(y=x[M]).pedgepaths=[],F=y.ppaths=[],i=0;i<y.edgepaths.length;i++){for(V=y.edgepaths[i],_=[],D=0;D<V.length;D++)_[D]=E(V[D]);B.push(_)}for(i=0;i<y.paths.length;i++){for(V=y.paths[i],z=[],D=0;D<V.length;D++)z[D]=E(V[D]);F.push(z)}}}(ue,Q);var re,$,le,se,de=[];for(se=U.clipsegments.length-1;se>=0;se--)$=k([],(re=U.clipsegments[se]).x,y.c2p),le=k([],re.y,B.c2p),$.reverse(),le.reverse(),de.push(l($,le,re.bicubic));var we="M"+de.join("L")+"Z";(function C(x,E,M,i,D,y){var B,F,_,z,H=I.ensureSingle(x,"g","contourbg").selectAll("path").data("fill"!==y||D?[]:[0]);H.enter().append("path"),H.exit().remove();var U=[];for(z=0;z<E.length;z++)F=k([],(B=E[z]).x,M.c2p),_=k([],B.y,i.c2p),U.push(l(F,_,B.bicubic));H.attr("d","M"+U.join("L")+"Z").style("stroke","none")})(_,U.clipsegments,y,B,ce,te),T(V,_,y,B,fe,K,Q,H,U,te,we),p(_,ue,E,z,ee,M,H),R.setClipUrl(_,H._clipPathId,E)}function Q(Ee){var Me=H.ab2xy(Ee[0],Ee[1],!0);return[y.c2p(Me[0]),B.c2p(Me[1])]}})}},64096:function(oe,J,t){"use strict";var S=t(50693),k=t(5386).fF,l=t(9012),R=t(99181),I=t(1426).extendFlat;oe.exports=I({lon:R.lon,lat:R.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:R.text,hovertext:R.hovertext,hoverinfo:I({},l.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:k(),showlegend:I({},l.showlegend,{dflt:!1})},S("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(oe,J,t){"use strict";var S=t(92770),k=t(71828).isArrayOrTypedArray,l=t(50606).BADNUM,R=t(78803),I=t(71828)._;oe.exports=function(w,r){for(var n=r._length,c=new Array(n),o=r.z,f=k(o)&&o.length,h=0;h<n;h++){var d=c[h]={},b=r.lon[h],p=r.lat[h];if(d.lonlat=S(b)&&S(p)?[+b,+p]:[l,l],f){var A=o[h];d.z=S(A)?A:l}}return R(w,r,{vals:f?o:[0,1],containerStr:"",cLetter:"z"}),n&&(c[0].t={labels:{lat:I(w,"lat:")+" ",lon:I(w,"lon:")+" "}}),c}},52414:function(oe,J,t){"use strict";var S=t(92770),k=t(71828),l=t(7901),R=t(21081),I=t(50606).BADNUM,v=t(18214).makeBlank;oe.exports=function(r){var n=r[0].trace,c=!0===n.visible&&0!==n._length,f=n._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:v()};if(!c)return f;var d,h=[],b=n.z,p=n.radius,A=k.isArrayOrTypedArray(b)&&b.length,m=k.isArrayOrTypedArray(p);for(d=0;d<r.length;d++){var u=r[d],g=u.lonlat;if(g[0]!==I){var C={};if(A){var T=u.z;C.z=T!==I?T:0}m&&(C.r=S(p[d])&&p[d]>0?+p[d]:0),h.push({type:"Feature",geometry:{type:"Point",coordinates:g},properties:C})}}var L=R.extractOpts(n),x=L.reversescale?R.flipScale(L.colorscale):L.colorscale,E=x[0][1],i=["interpolate",["linear"],["heatmap-density"],0,l.opacity(E)<1?E:l.addOpacity(E,0)];for(d=1;d<x.length;d++)i.push(x[d][0],x[d][1]);return k.extendFlat(f.heatmap.paint,{"heatmap-weight":A?["interpolate",["linear"],["get","z"],L.min,0,L.max,1]:1/(L.max-L.min),"heatmap-color":i,"heatmap-radius":m?{type:"identity",property:"r"}:n.radius,"heatmap-opacity":n.opacity}),f.geojson={type:"FeatureCollection",features:h},f.heatmap.layout.visibility="visible",f}},79429:function(oe,J,t){"use strict";var S=t(71828),k=t(1586),l=t(64096);oe.exports=function(I,v,w,r){function n(h,d){return S.coerce(I,v,l,h,d)}var c=n("lon")||[],o=n("lat")||[],f=Math.min(c.length,o.length);f?(v._length=f,n("z"),n("radius"),n("below"),n("text"),n("hovertext"),n("hovertemplate"),k(I,v,r,n,{prefix:"",cLetter:"z"})):v.visible=!1}},62474:function(oe){"use strict";oe.exports=function(t,S){return t.lon=S.lon,t.lat=S.lat,t.z=S.z,t}},84684:function(oe,J,t){"use strict";var S=t(89298),k=t(28178).hoverPoints,l=t(28178).getExtraText;oe.exports=function(I,v,w){var r=k(I,v,w);if(r){var n=r[0],c=n.cd,o=c[0].trace,f=c[n.index];if(delete n.color,"z"in f){var h=n.subplot.mockAxis;n.z=f.z,n.zLabel=S.tickText(h,h.c2l(f.z),"hover").text}return n.extraText=l(o,f,c[0].t.labels),[n]}}},93814:function(oe,J,t){"use strict";oe.exports={attributes:t(64096),supplyDefaults:t(79429),colorbar:t(61243),formatLabels:t(15636),calc:t(85070),plot:t(7336),hoverPoints:t(84684),eventData:t(62474),getBelow:function(S,k){for(var l=k.getMapLayers(),R=0;R<l.length;R++){var I=l[R],v=I.id;if("symbol"===I.type&&"string"==typeof v&&-1===v.indexOf("plotly-"))return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:t(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(oe,J,t){"use strict";var S=t(52414),k=t(77734).traceLayerPrefix;function l(I,v){this.type="densitymapbox",this.subplot=I,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",k+v+"-heatmap"]],this.below=null}var R=l.prototype;R.update=function(I){var v=this.subplot,w=this.layerList,r=S(I),n=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),n!==this.below&&(this._removeLayers(),this._addLayers(r,n),this.below=n);for(var c=0;c<w.length;c++){var o=w[c],h=o[1],d=r[o[0]];v.setOptions(h,"setLayoutProperty",d.layout),"visible"===d.layout.visibility&&v.setOptions(h,"setPaintProperty",d.paint)}},R._addLayers=function(I,v){for(var w=this.subplot,r=this.layerList,n=this.sourceId,c=0;c<r.length;c++){var o=r[c],f=o[0],h=I[f];w.addLayer({type:f,id:o[1],source:n,layout:h.layout,paint:h.paint},v)}},R._removeLayers=function(){for(var I=this.subplot.map,v=this.layerList,w=v.length-1;w>=0;w--)I.removeLayer(v[w][1])},R.dispose=function(){var I=this.subplot.map;this._removeLayers(),I.removeSource(this.sourceId)},oe.exports=function(v,w){var r=w[0].trace,n=new l(v,r.uid),c=n.sourceId,o=S(w),f=n.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(c,{type:"geojson",data:o.geojson}),n._addLayers(o,f),n}},49789:function(oe,J,t){"use strict";var S=t(71828);oe.exports=function(l,R){for(var I=0;I<l.length;I++)l[I].i=I;S.mergeArray(R.text,l,"tx"),S.mergeArray(R.hovertext,l,"htx");var v=R.marker;if(v){S.mergeArray(v.opacity,l,"mo"),S.mergeArray(v.color,l,"mc");var w=v.line;w&&(S.mergeArray(w.color,l,"mlc"),S.mergeArrayCastPositive(w.width,l,"mlw"))}}},1285:function(oe,J,t){"use strict";var S=t(1486),k=t(82196).line,l=t(9012),R=t(12663).axisHoverFormat,I=t(5386).fF,v=t(5386).si,w=t(18517),r=t(1426).extendFlat,n=t(7901);oe.exports={x:S.x,x0:S.x0,dx:S.dx,y:S.y,y0:S.y0,dy:S.dy,xperiod:S.xperiod,yperiod:S.yperiod,xperiod0:S.xperiod0,yperiod0:S.yperiod0,xperiodalignment:S.xperiodalignment,yperiodalignment:S.yperiodalignment,xhoverformat:R("x"),yhoverformat:R("y"),hovertext:S.hovertext,hovertemplate:I({},{keys:w.eventDataKeys}),hoverinfo:r({},l.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:w.eventDataKeys.concat(["label","value"])}),text:S.text,textposition:S.textposition,insidetextanchor:r({},S.insidetextanchor,{dflt:"middle"}),textangle:r({},S.textangle,{dflt:0}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:S.outsidetextfont,constraintext:S.constraintext,cliponaxis:S.cliponaxis,orientation:r({},S.orientation,{}),offset:r({},S.offset,{arrayOk:!1}),width:r({},S.width,{arrayOk:!1}),marker:function c(){var o=r({},S.marker);return delete o.pattern,o}(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},k.color,{dflt:n.defaultLine}),width:r({},k.width,{dflt:0,editType:"plot"}),dash:k.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:S.offsetgroup,alignmentgroup:S.alignmentgroup}},9532:function(oe,J,t){"use strict";var S=t(89298),k=t(42973),l=t(49789),R=t(66279),I=t(50606).BADNUM;function v(w){return w===I?0:w}oe.exports=function(r,n){var f,h,d,b,p,A,m,u,c=S.getFromId(r,n.xaxis||"x"),o=S.getFromId(r,n.yaxis||"y");"h"===n.orientation?(f=c.makeCalcdata(n,"x"),d=o.makeCalcdata(n,"y"),b=k(n,o,"y",d),p=!!n.yperiodalignment,A="y"):(f=o.makeCalcdata(n,"y"),d=c.makeCalcdata(n,"x"),b=k(n,c,"x",d),p=!!n.xperiodalignment,A="x"),h=b.vals;var L,g=Math.min(h.length,f.length),C=new Array(g);for(n._base=[],m=0;m<g;m++){f[m]<0&&(f[m]=I);var T=!1;f[m]!==I&&m+1<g&&f[m+1]!==I&&(T=!0),u=C[m]={p:h[m],s:f[m],cNext:T},n._base[m]=-.5*u.s,p&&(C[m].orig_p=d[m],C[m][A+"End"]=b.ends[m],C[m][A+"Start"]=b.starts[m]),n.ids&&(u.id=String(n.ids[m])),0===m&&(C[0].vTotal=0),C[0].vTotal+=v(u.s),u.begR=v(u.s)/v(C[0].s)}for(m=0;m<g;m++)(u=C[m]).s!==I&&(u.sumR=u.s/C[0].vTotal,u.difR=void 0!==L?u.s/L:1,L=u.s);return l(C,n),R(C,n),C}},18517:function(oe){"use strict";oe.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(oe,J,t){"use strict";var S=t(11661).setGroupPositions;oe.exports=function(l,R){var h,d,I=l._fullLayout,v=l._fullData,w=l.calcdata,r=R.xaxis,n=R.yaxis,c=[],o=[],f=[];for(d=0;d<v.length;d++){var b=v[d];!0===b.visible&&b.xaxis===r._id&&b.yaxis===n._id&&"funnel"===b.type&&(h=w[d],"h"===b.orientation?f.push(h):o.push(h),c.push(h))}var A={mode:I.funnelmode,norm:I.funnelnorm,gap:I.funnelgap,groupgap:I.funnelgroupgap};for(S(l,r,n,o,A),S(l,n,r,f,A),d=0;d<c.length;d++){h=c[d];for(var m=0;m<h.length;m++)m+1<h.length&&(h[m].nextP0=h[m+1].p0,h[m].nextS0=h[m+1].s0,h[m].nextP1=h[m+1].p1,h[m].nextS1=h[m+1].s1)}}},26199:function(oe,J,t){"use strict";var S=t(71828),k=t(26125),l=t(90769).handleText,R=t(67513),I=t(73927),v=t(1285),w=t(7901);oe.exports={supplyDefaults:function r(o,f,h,d){function b(T,L){return S.coerce(o,f,v,T,L)}if(R(o,f,d,b)){I(o,f,d,b),b("xhoverformat"),b("yhoverformat"),b("orientation",f.y&&!f.x?"v":"h"),b("offset"),b("width");var A=b("text");b("hovertext"),b("hovertemplate");var m=b("textposition");l(o,f,d,b,m,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==f.textposition&&!f.texttemplate&&b("textinfo",Array.isArray(A)?"text+value":"value");var u=b("marker.color",h);b("marker.line.color",w.defaultLine),b("marker.line.width"),b("connector.visible")&&(b("connector.fillcolor",function n(o){var f=S.isArrayOrTypedArray(o)?"#000":o;return w.addOpacity(f,.5*w.opacity(f))}(u)),b("connector.line.width")&&(b("connector.line.color"),b("connector.line.dash")))}else f.visible=!1},crossTraceDefaults:function c(o,f){var d;function b(A){return S.coerce(d._input,d,v,A)}if("group"===f.funnelmode)for(var p=0;p<o.length;p++)k((d=o[p])._input,d,f,b)}}},34598:function(oe){"use strict";oe.exports=function(t,S){return t.x="xVal"in S?S.xVal:S.x,t.y="yVal"in S?S.yVal:S.y,"percentInitial"in S&&(t.percentInitial=S.percentInitial),"percentPrevious"in S&&(t.percentPrevious=S.percentPrevious),"percentTotal"in S&&(t.percentTotal=S.percentTotal),S.xa&&(t.xaxis=S.xa),S.ya&&(t.yaxis=S.ya),t}},63341:function(oe,J,t){"use strict";var S=t(7901).opacity,k=t(95423).hoverOnBars,l=t(71828).formatPercent;oe.exports=function(v,w,r,n,c){var o=k(v,w,r,n,c);if(o){var f=o.cd,h=f[0].trace,p=f[o.index];o[("h"===h.orientation?"x":"y")+"LabelVal"]=p.s,o.percentInitial=p.begR,o.percentInitialLabel=l(p.begR,1),o.percentPrevious=p.difR,o.percentPreviousLabel=l(p.difR,1),o.percentTotal=p.sumR,o.percentTotalLabel=l(p.sumR,1);var m=p.hi||h.hoverinfo,u=[];if(m&&"none"!==m&&"skip"!==m){var g="all"===m,C=m.split("+"),T=function(L){return g||-1!==C.indexOf(L)};T("percent initial")&&u.push(o.percentInitialLabel+" of initial"),T("percent previous")&&u.push(o.percentPreviousLabel+" of previous"),T("percent total")&&u.push(o.percentTotalLabel+" of total")}return o.extraText=u.join("<br>"),o.color=function R(I,v){var w=I.marker,r=v.mc||w.color,n=v.mlc||w.line.color,c=v.mlw||w.line.width;return S(r)?r:S(n)&&c?n:void 0}(h,p),[o]}}},51759:function(oe,J,t){"use strict";oe.exports={attributes:t(1285),layoutAttributes:t(10440),supplyDefaults:t(26199).supplyDefaults,crossTraceDefaults:t(26199).crossTraceDefaults,supplyLayoutDefaults:t(93138),calc:t(9532),crossTraceCalc:t(8984),plot:t(80461),style:t(68266).style,hoverPoints:t(63341),eventData:t(34598),selectPoints:t(81974),moduleType:"trace",name:"funnel",basePlotModule:t(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(oe){"use strict";oe.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(oe,J,t){"use strict";var S=t(71828),k=t(10440);oe.exports=function(l,R,I){var v=!1;function w(c,o){return S.coerce(l,R,k,c,o)}for(var r=0;r<I.length;r++){var n=I[r];if(n.visible&&"funnel"===n.type){v=!0;break}}v&&(w("funnelmode"),w("funnelgap",.2),w("funnelgroupgap"))}},80461:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(91424),R=t(50606).BADNUM,I=t(17295),v=t(72597).clearMinTextSize;function n(c,o,f,h){var d=[],b=[],p=h?o:f,A=h?f:o;return d[0]=p.c2p(c.s0,!0),b[0]=A.c2p(c.p0,!0),d[1]=p.c2p(c.s1,!0),b[1]=A.c2p(c.p1,!0),d[2]=p.c2p(c.nextS0,!0),b[2]=A.c2p(c.nextP0,!0),d[3]=p.c2p(c.nextS1,!0),b[3]=A.c2p(c.nextP1,!0),h?[d,b]:[b,d]}oe.exports=function(o,f,h,d){var b=o._fullLayout;v("funnel",b),function w(c,o,f,h){var d=o.xaxis,b=o.yaxis;k.makeTraceGroups(h,f,"trace bars").each(function(p){var A=S.select(this),m=p[0].trace,u=k.ensureSingle(A,"g","regions");if(m.connector&&m.connector.visible){var g="h"===m.orientation,C=u.selectAll("g.region").data(k.identity);C.enter().append("g").classed("region",!0),C.exit().remove();var T=C.size();C.each(function(L,x){if(x===T-1||L.cNext){var E=n(L,d,b,g),M=E[0],i=E[1],D="";M[0]!==R&&i[0]!==R&&M[1]!==R&&i[1]!==R&&M[2]!==R&&i[2]!==R&&M[3]!==R&&i[3]!==R&&(D+=g?"M"+M[0]+","+i[1]+"L"+M[2]+","+i[2]+"H"+M[3]+"L"+M[1]+","+i[1]+"Z":"M"+M[1]+","+i[1]+"L"+M[2]+","+i[3]+"V"+i[2]+"L"+M[1]+","+i[0]+"Z"),""===D&&(D="M0,0Z"),k.ensureSingle(S.select(this),"path").attr("d",D).call(l.setClipUrl,o.layerClipId,c)}})}else u.remove()})}(o,f,h,d),function r(c,o,f,h){var d=o.xaxis,b=o.yaxis;k.makeTraceGroups(h,f,"trace bars").each(function(p){var A=S.select(this),m=p[0].trace,u=k.ensureSingle(A,"g","lines");if(m.connector&&m.connector.visible&&m.connector.line.width){var g="h"===m.orientation,C=u.selectAll("g.line").data(k.identity);C.enter().append("g").classed("line",!0),C.exit().remove();var T=C.size();C.each(function(L,x){if(x===T-1||L.cNext){var E=n(L,d,b,g),M=E[0],i=E[1],D="";void 0!==M[3]&&void 0!==i[3]&&(g?(D+="M"+M[0]+","+i[1]+"L"+M[2]+","+i[2],D+="M"+M[1]+","+i[1]+"L"+M[3]+","+i[2]):(D+="M"+M[1]+","+i[1]+"L"+M[2]+","+i[3],D+="M"+M[1]+","+i[0]+"L"+M[2]+","+i[2])),""===D&&(D="M0,0Z"),k.ensureSingle(S.select(this),"path").attr("d",D).call(l.setClipUrl,o.layerClipId,c)}})}else u.remove()})}(o,f,h,d),I.plot(o,f,h,d,{mode:b.funnelmode,norm:b.funnelmode,gap:b.funnelgap,groupgap:b.funnelgroupgap})}},68266:function(oe,J,t){"use strict";var S=t(39898),k=t(91424),l=t(7901),R=t(37822).DESELECTDIM,I=t(16688),v=t(72597).resizeText,w=I.styleTextPoints;oe.exports={style:function r(n,c,o){var f=o||S.select(n).selectAll("g.funnellayer").selectAll("g.trace");v(n,f,"funnel"),f.style("opacity",function(h){return h[0].trace.opacity}),f.each(function(h){var d=S.select(this),b=h[0].trace;d.selectAll(".point > path").each(function(p){if(!p.isBlank){var A=b.marker;S.select(this).call(l.fill,p.mc||A.color).call(l.stroke,p.mlc||A.line.color).call(k.dashLine,A.line.dash,p.mlw||A.line.width).style("opacity",b.selectedpoints&&!p.selected?R:1)}}),w(d,b,n),d.selectAll(".regions").each(function(){S.select(this).selectAll("path").style("stroke-width",0).call(l.fill,b.connector.fillcolor)}),d.selectAll(".lines").each(function(){var p=b.connector.line;k.lineGroupStyle(S.select(this).selectAll("path"),p.width,p.color,p.dash)})})}}},86807:function(oe,J,t){"use strict";var S=t(34e3),k=t(9012),l=t(27670).Y,R=t(5386).fF,I=t(5386).si,v=t(1426).extendFlat;oe.exports={labels:S.labels,label0:S.label0,dlabel:S.dlabel,values:S.values,marker:{colors:S.marker.colors,line:{color:v({},S.marker.line.color,{dflt:null}),width:v({},S.marker.line.width,{dflt:1}),editType:"calc"},pattern:S.marker.pattern,editType:"calc"},text:S.text,hovertext:S.hovertext,scalegroup:v({},S.scalegroup,{}),textinfo:v({},S.textinfo,{flags:["label","text","value","percent"]}),texttemplate:I({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},k.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:R({},{keys:["label","color","value","text","percent"]}),textposition:v({},S.textposition,{values:["inside","none"],dflt:"inside"}),textfont:S.textfont,insidetextfont:S.insidetextfont,title:{text:S.title.text,font:S.title.font,position:v({},S.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:l({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(oe,J,t){"use strict";var S=t(74875);J.name="funnelarea",J.plot=function(k,l,R,I){S.plotBasePlot(J.name,k,l,R,I)},J.clean=function(k,l,R,I){S.cleanBasePlot(J.name,k,l,R,I)}},89574:function(oe,J,t){"use strict";var S=t(32354);oe.exports={calc:function k(R,I){return S.calc(R,I)},crossTraceCalc:function l(R){S.crossTraceCalc(R,{type:"funnelarea"})}}},86282:function(oe,J,t){"use strict";var S=t(71828),k=t(86807),l=t(27670).c,R=t(90769).handleText,I=t(37434).handleLabelsAndValues,v=t(37434).handleMarkerDefaults;oe.exports=function(r,n,c,o){function f(T,L){return S.coerce(r,n,k,T,L)}var h=f("labels"),d=f("values"),b=I(h,d),p=b.len;if(n._hasLabels=b.hasLabels,n._hasValues=b.hasValues,!n._hasLabels&&n._hasValues&&(f("label0"),f("dlabel")),p){n._length=p,v(r,n,o,f),f("scalegroup");var u,A=f("text"),m=f("texttemplate");if(m||(u=f("textinfo",Array.isArray(A)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),m||u&&"none"!==u){var g=f("textposition");R(r,n,o,f,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}l(n,o,f),f("title.text")&&(f("title.position"),S.coerceFont(f,"title.font",o.font)),f("aspectratio"),f("baseratio")}else n.visible=!1}},10421:function(oe,J,t){"use strict";oe.exports={moduleType:"trace",name:"funnelarea",basePlotModule:t(6452),categories:["pie-like","funnelarea","showLegend"],attributes:t(86807),layoutAttributes:t(80097),supplyDefaults:t(86282),supplyLayoutDefaults:t(57402),calc:t(89574).calc,crossTraceCalc:t(89574).crossTraceCalc,plot:t(79187),style:t(71858),styleOne:t(63463),meta:{}}},80097:function(oe,J,t){"use strict";var S=t(92774).hiddenlabels;oe.exports={hiddenlabels:S,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(oe,J,t){"use strict";var S=t(71828),k=t(80097);oe.exports=function(R,I){function v(w,r){return S.coerce(R,I,k,w,r)}v("hiddenlabels"),v("funnelareacolorway",I.colorway),v("extendfunnelareacolors")}},79187:function(oe,J,t){"use strict";var S=t(39898),k=t(91424),l=t(71828),R=l.strScale,I=l.strTranslate,v=t(63893),r=t(17295).toMoveInsideBar,n=t(72597),c=n.recordMinTextSize,o=n.clearMinTextSize,f=t(53581),h=t(14575),d=h.attachFxHandlers,b=h.determineInsideTextFont,p=h.layoutAreas,A=h.prerenderTitles,m=h.positionTitleOutside,u=h.formatSliceLabel;function g(L,x){return"l"+(x[0]-L[0])+","+(x[1]-L[1])}function C(L,x){return[.5*(L[0]+x[0]),.5*(L[1]+x[1])]}function T(L){if(L.length){var x=L[0],E=x.trace,M=E.aspectratio,i=E.baseratio;i>.999&&(i=.999);var H,G,Y,D=Math.pow(i,2),y=x.vTotal,F=y,_=y*D/(1-D)/y,U=[];for(U.push(V()),G=L.length-1;G>-1;G--)(Y=L[G]).hidden||(_+=Y.v/F,U.push(V()));var ue=1/0,ce=-1/0;for(G=0;G<U.length;G++)H=U[G],ue=Math.min(ue,H[1]),ce=Math.max(ce,H[1]);for(G=0;G<U.length;G++)U[G][1]-=(ce+ue)/2;var te=x.r,Q=(ce-ue)/2,K=te/U[U.length-1][0],Z=te/Q*M;for(x.r=Z*Q,G=0;G<U.length;G++)U[G][0]*=K,U[G][1]*=Z;var q=[-(H=U[0])[0],H[1]],fe=[H[0],H[1]],re=0;for(G=L.length-1;G>-1;G--)if(!(Y=L[G]).hidden){var $=U[re+=1][0],le=U[re][1];Y.TL=[-$,le],Y.TR=[$,le],Y.BL=q,Y.BR=fe,Y.pxmid=C(Y.TR,Y.BR),q=Y.TL,fe=Y.TR}}function V(){var se=function z(){var se=Math.sqrt(_);return{x:se,y:-se}}();return[se.x,se.y]}}oe.exports=function(x,E){var M=x._context.staticPlot,i=x._fullLayout;o("funnelarea",i),A(E,x),p(E,i._size),l.makeTraceGroups(i._funnelarealayer,E,"trace").each(function(D){var y=S.select(this),B=D[0],F=B.trace;T(D),y.each(function(){var _=S.select(this).selectAll("g.slice").data(D);_.enter().append("g").classed("slice",!0),_.exit().remove(),_.each(function(V,H){if(V.hidden)S.select(this).selectAll("path,g").remove();else{V.pointNumber=V.i,V.curveNumber=F.index;var U=B.cx,G=B.cy,Y=S.select(this),ee=Y.selectAll("path.surface").data([V]);ee.enter().append("path").classed("surface",!0).style({"pointer-events":M?"none":"all"}),Y.call(d,x,D);var ue="M"+(U+V.TR[0])+","+(G+V.TR[1])+g(V.TR,V.BR)+g(V.BR,V.BL)+g(V.BL,V.TL)+"Z";ee.attr("d",ue),u(x,V,B);var ce=f.castOption(F.textposition,V.pts),pe=Y.selectAll("g.slicetext").data(V.text&&"none"!==ce?[0]:[]);pe.enter().append("g").classed("slicetext",!0),pe.exit().remove(),pe.each(function(){var te=l.ensureSingle(S.select(this),"text","",function(le){le.attr("data-notex",1)}),Q=l.ensureUniformFontSize(x,b(F,V,i.font));te.text(V.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(k.font,Q).call(v.convertToTspans,x);var Z,q,fe,K=k.bBox(te.node()),re=Math.min(V.BL[1],V.BR[1])+G,$=Math.max(V.TL[1],V.TR[1])+G;q=Math.max(V.TL[0],V.BL[0])+U,fe=Math.min(V.TR[0],V.BR[0])+U,(Z=r(q,fe,re,$,K,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=Q.size,c(F.type,Z,i),D[H].transform=Z,l.setTransormAndDisplay(te,Z)})}});var z=S.select(this).selectAll("g.titletext").data(F.title.text?[0]:[]);z.enter().append("g").classed("titletext",!0),z.exit().remove(),z.each(function(){var V=l.ensureSingle(S.select(this),"text","",function(G){G.attr("data-notex",1)}),H=F.title.text;F._meta&&(H=l.templateString(H,F._meta)),V.text(H).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(k.font,F.title.font).call(v.convertToTspans,x);var U=m(B,i._size);V.attr("transform",I(U.x,U.y)+R(Math.min(1,U.scale))+I(U.tx,U.ty))})})})}},71858:function(oe,J,t){"use strict";var S=t(39898),k=t(63463),l=t(72597).resizeText;oe.exports=function(I){var v=I._fullLayout._funnelarealayer.selectAll(".trace");l(I,v,"funnelarea"),v.each(function(w){var n=w[0].trace,c=S.select(this);c.style({opacity:n.opacity}),c.selectAll("path.surface").each(function(o){S.select(this).call(k,o,n,I)})})}},21606:function(oe,J,t){"use strict";var S=t(82196),k=t(9012),l=t(41940),R=t(12663).axisHoverFormat,I=t(5386).fF,v=t(5386).si,w=t(50693),r=t(1426).extendFlat;oe.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},S.x,{impliedEdits:{xtype:"array"}}),x0:r({},S.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},S.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},S.y,{impliedEdits:{ytype:"array"}}),y0:r({},S.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},S.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},S.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},S.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},S.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},S.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},S.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},S.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z",1),hovertemplate:I(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:l({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},k.showlegend,{dflt:!1})},{transforms:void 0},w("",{cLetter:"z",autoColorDflt:!1}))},90757:function(oe,J,t){"use strict";var S=t(73972),k=t(71828),l=t(89298),R=t(42973),I=t(17562),v=t(78803),w=t(68296),r=t(4742),n=t(824),c=t(43907),o=t(70769),f=t(50606).BADNUM;function h(b){for(var p=[],A=b.length,m=0;m<A;m++){var u=b[m];u!==f&&p.push(u)}return p}oe.exports=function(p,A){var x,E,M,i,D,y,B,F,_,z,V,m=l.getFromId(p,A.xaxis||"x"),u=l.getFromId(p,A.yaxis||"y"),g=S.traceIs(A,"contour"),C=S.traceIs(A,"histogram"),T=S.traceIs(A,"gl2d"),L=g?"best":A.zsmooth;if(m._minDtick=0,u._minDtick=0,C)i=(V=I(p,A)).orig_x,x=V.x,E=V.x0,M=V.dx,F=V.orig_y,D=V.y,y=V.y0,B=V.dy,_=V.z;else{var H=A.z;k.isArray1D(H)?(w(A,m,u,"x","y",["z"]),x=A._x,D=A._y,H=A._z):(i=A.x?m.makeCalcdata(A,"x"):[],F=A.y?u.makeCalcdata(A,"y"):[],x=R(A,m,"x",i).vals,D=R(A,u,"y",F).vals,A._x=x,A._y=D),E=A.x0,M=A.dx,y=A.y0,B=A.dy,_=r(H,A,m,u)}function U(K){L=A._input.zsmooth=A.zsmooth=!1,k.warn('cannot use zsmooth: "fast": '+K)}function G(K){if(K.length>1){var Z=(K[K.length-1]-K[0])/(K.length-1),q=Math.abs(Z/100);for(z=0;z<K.length-1;z++)if(Math.abs(K[z+1]-K[z]-Z)>q)return!1}return!0}(m.rangebreaks||u.rangebreaks)&&(_=function d(b,p,A){for(var m=[],u=-1,g=0;g<A.length;g++)if(p[g]!==f){m[++u]=[];for(var C=0;C<A[g].length;C++)b[C]!==f&&m[u].push(A[g][C])}return m}(x,D,_),C||(x=h(x),D=h(D),A._x=x,A._y=D)),!C&&(g||A.connectgaps)&&(A._emptypoints=c(_),n(_,A._emptypoints)),A._islinear=!1,"log"===m.type||"log"===u.type?"fast"===L&&U("log axis found"):G(x)?G(D)?A._islinear=!0:"fast"===L&&U("y scale is not linear"):"fast"===L&&U("x scale is not linear");var Y=k.maxRowLength(_),ee="scaled"===A.xtype?"":x,ue=o(A,ee,E,M,Y,m),ce="scaled"===A.ytype?"":D,pe=o(A,ce,y,B,_.length,u);T||(A._extremes[m._id]=l.findExtremes(m,ue),A._extremes[u._id]=l.findExtremes(u,pe));var te={x:ue,y:pe,z:_,text:A._text||A.text,hovertext:A._hovertext||A.hovertext};if(A.xperiodalignment&&i&&(te.orig_x=i),A.yperiodalignment&&F&&(te.orig_y=F),ee&&ee.length===ue.length-1&&(te.xCenter=ee),ce&&ce.length===pe.length-1&&(te.yCenter=ce),C&&(te.xRanges=V.xRanges,te.yRanges=V.yRanges,te.pts=V.pts),g||v(p,A,{vals:_,cLetter:"z"}),g&&A.contours&&"heatmap"===A.contours.coloring){var Q={type:"contour"===A.type?"heatmap":"histogram2d",xcalendar:A.xcalendar,ycalendar:A.ycalendar};te.xfill=o(Q,ee,E,M,Y,m),te.yfill=o(Q,ce,y,B,_.length,u)}return[te]}},4742:function(oe,J,t){"use strict";var S=t(92770),k=t(71828),l=t(50606).BADNUM;oe.exports=function(I,v,w,r){var n,c,o,f,h,d;function b(C){if(S(C))return+C}if(v&&v.transpose){for(n=0,h=0;h<I.length;h++)n=Math.max(n,I[h].length);if(0===n)return!1;o=function(C){return C.length},f=function(C,T,L){return(C[L]||[])[T]}}else n=I.length,o=function(C,T){return C[T].length},f=function(C,T,L){return(C[T]||[])[L]};function A(C){if(v&&"carpet"!==v.type&&"contourcarpet"!==v.type&&C&&"category"===C.type&&v["_"+C._id.charAt(0)].length){var T=C._id.charAt(0),L={},x=v["_"+T+"CategoryMap"]||v[T];for(h=0;h<x.length;h++)L[x[h]]=h;return function(E){var M=L[C._categories[E]];return M+1?M:l}}return k.identity}var m=A(w),u=A(r);r&&"category"===r.type&&(n=r._categories.length);var C,T,L,g=new Array(n);for(h=0;h<n;h++)for(c=w&&"category"===w.type?w._categories.length:o(I,h),g[h]=new Array(c),d=0;d<c;d++)g[h][d]=b((C=I,T=u(h),L=m(d),T===l||L===l?l:f(C,T,L)));return g}},61243:function(oe){"use strict";oe.exports={min:"zmin",max:"zmax"}},68296:function(oe,J,t){"use strict";var S=t(71828),k=t(50606).BADNUM,l=t(42973);oe.exports=function(I,v,w,r,n,c){var o=I._length,f=v.makeCalcdata(I,r),h=w.makeCalcdata(I,n);f=l(I,v,r,f).vals,h=l(I,w,n,h).vals;var m,u,E,M,d=I.text,b=void 0!==d&&S.isArray1D(d),p=I.hovertext,A=void 0!==p&&S.isArray1D(p),g=S.distinctVals(f),C=g.vals,T=S.distinctVals(h),L=T.vals,x=[],i=L.length,D=C.length;for(m=0;m<c.length;m++)x[m]=S.init2dArray(i,D);b&&(E=S.init2dArray(i,D)),A&&(M=S.init2dArray(i,D));var y=S.init2dArray(i,D);for(m=0;m<o;m++)if(f[m]!==k&&h[m]!==k){var B=S.findBin(f[m]+g.minDiff/2,C),F=S.findBin(h[m]+T.minDiff/2,L);for(u=0;u<c.length;u++)x[u][F][B]=I[c[u]][m],y[F][B]=m;b&&(E[F][B]=d[m]),A&&(M[F][B]=p[m])}for(I["_"+r]=C,I["_"+n]=L,u=0;u<c.length;u++)I["_"+c[u]]=x[u];b&&(I._text=E),A&&(I._hovertext=M),v&&"category"===v.type&&(I["_"+r+"CategoryMap"]=C.map(function(H){return v._categories[H]})),w&&"category"===w.type&&(I["_"+n+"CategoryMap"]=L.map(function(H){return w._categories[H]})),I._after2before=y}},76382:function(oe,J,t){"use strict";var S=t(71828),k=t(67684),l=t(58623),R=t(73927),I=t(49901),v=t(1586),w=t(21606);oe.exports=function(n,c,o,f){function h(b,p){return S.coerce(n,c,w,b,p)}k(n,c,h,f)?(R(n,c,f,h),h("xhoverformat"),h("yhoverformat"),h("text"),h("hovertext"),h("hovertemplate"),l(h,f),I(n,c,h,f),h("hoverongaps"),h("connectgaps",S.isArray1D(c.z)&&!1!==c.zsmooth),v(n,c,f,h,{prefix:"",cLetter:"z"})):c.visible=!1}},43907:function(oe,J,t){"use strict";var S=t(71828).maxRowLength;oe.exports=function(l){var o,f,h,d,b,p,A,m,R=[],I={},v=[],w=l[0],r=[],n=[0,0,0],c=S(l);for(f=0;f<l.length;f++)for(o=r,r=w,w=l[f+1]||[],h=0;h<c;h++)void 0===r[h]&&((p=(void 0!==r[h-1]?1:0)+(void 0!==r[h+1]?1:0)+(void 0!==o[h]?1:0)+(void 0!==w[h]?1:0))?(0===f&&p++,0===h&&p++,f===l.length-1&&p++,h===r.length-1&&p++,p<4&&(I[[f,h]]=[f,h,p]),R.push([f,h,p])):v.push([f,h]));for(;v.length;){for(A={},m=!1,b=v.length-1;b>=0;b--)(p=((I[[(f=(d=v[b])[0])-1,h=d[1]]]||n)[2]+(I[[f+1,h]]||n)[2]+(I[[f,h-1]]||n)[2]+(I[[f,h+1]]||n)[2])/20)&&(A[d]=[f,h,p],v.splice(b,1),m=!0);if(!m)throw"findEmpties iterated with no new neighbors";for(d in A)I[d]=A[d],R.push(A[d])}return R.sort(function(u,g){return g[2]-u[2]})}},46248:function(oe,J,t){"use strict";var S=t(30211),k=t(71828),l=t(89298),R=t(21081).extractOpts;oe.exports=function(v,w,r,n,c){c||(c={});var E,M,i,D,o=c.isContour,f=v.cd[0],h=f.trace,d=v.xa,b=v.ya,p=f.x,A=f.y,m=f.z,u=f.xCenter,g=f.yCenter,C=f.zmask,T=h.zhoverformat,L=p,x=A;if(!1!==v.index){try{i=Math.round(v.index[1]),D=Math.round(v.index[0])}catch{return void k.error("Error hovering on heatmap, pointNumber must be [row,col], found:",v.index)}if(i<0||i>=m[0].length||D<0||D>m.length)return}else{if(S.inbox(w-p[0],w-p[p.length-1],0)>0||S.inbox(r-A[0],r-A[A.length-1],0)>0)return;if(o){var y;for(L=[2*p[0]-p[1]],y=1;y<p.length;y++)L.push((p[y]+p[y-1])/2);for(L.push([2*p[p.length-1]-p[p.length-2]]),x=[2*A[0]-A[1]],y=1;y<A.length;y++)x.push((A[y]+A[y-1])/2);x.push([2*A[A.length-1]-A[A.length-2]])}i=Math.max(0,Math.min(L.length-2,k.findBin(w,L))),D=Math.max(0,Math.min(x.length-2,k.findBin(r,x)))}var V,H,B=d.c2p(p[i]),F=d.c2p(p[i+1]),_=b.c2p(A[D]),z=b.c2p(A[D+1]);o?(F=B,E=(V=f.orig_x||p)[i],z=_,M=(H=f.orig_y||A)[D]):(V=f.orig_x||u||p,H=f.orig_y||g||A,E=u?V[i]:(V[i]+V[i+1])/2,M=g?H[D]:(H[D]+H[D+1])/2,d&&"category"===d.type&&(E=p[i]),b&&"category"===b.type&&(M=A[D]),h.zsmooth&&(B=F=d.c2p(E),_=z=b.c2p(M)));var U=m[D][i];if(C&&!C[D][i]&&(U=void 0),void 0!==U||h.hoverongaps){var G;Array.isArray(f.hovertext)&&Array.isArray(f.hovertext[D])?G=f.hovertext[D][i]:Array.isArray(f.text)&&Array.isArray(f.text[D])&&(G=f.text[D][i]);var Y=R(h),ue=l.tickText({type:"linear",range:[Y.min,Y.max],hoverformat:T,_separators:d._separators,_numFormat:d._numFormat},U,"hover").text;return[k.extendFlat(v,{index:h._after2before?h._after2before[D][i]:[D,i],distance:v.maxHoverDistance,spikeDistance:v.maxSpikeDistance,x0:B,x1:F,y0:_,y1:z,xLabelVal:E,yLabelVal:M,zLabelVal:U,zLabel:ue,text:G})]}}},92165:function(oe,J,t){"use strict";oe.exports={attributes:t(21606),supplyDefaults:t(76382),calc:t(90757),plot:t(50347),colorbar:t(61243),style:t(70035),hoverPoints:t(46248),moduleType:"trace",name:"heatmap",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(oe,J,t){"use strict";var S=t(71828),l=[[-1,0],[1,0],[0,-1],[0,1]];function I(v,w,r){var c,o,f,h,d,b,p,A,m,u,g,C,T,n=0;for(h=0;h<w.length;h++){for(g=v[o=(c=w[h])[0]][f=c[1]],u=0,m=0,d=0;d<4;d++)(p=v[o+(b=l[d])[0]])&&void 0!==(A=p[f+b[1]])&&(0===u?C=T=A:(C=Math.min(C,A),T=Math.max(T,A)),m++,u+=A);if(0===m)throw"iterateInterp2d order is wrong: no defined neighbors";v[o][f]=u/m,void 0===g?m<4&&(n=1):(v[o][f]=(1+r)*v[o][f]-r*g,T>C&&(n=Math.max(n,Math.abs(v[o][f]-g)/(T-C))))}return n}oe.exports=function(w,r){var c,n=1;for(I(w,r),c=0;c<r.length&&!(r[c][2]<4);c++);for(r=r.slice(c),c=0;c<100&&n>.01;c++)n=I(w,r,.5-.25*Math.min(1,.5*n));return n>.01&&S.log("interp2d didn't converge quickly",n),w}},58623:function(oe,J,t){"use strict";var S=t(71828);oe.exports=function(l,R){l("texttemplate");var I=S.extendFlat({},R.font,{color:"auto",size:"auto"});S.coerceFont(l,"textfont",I)}},70769:function(oe,J,t){"use strict";var S=t(73972),k=t(71828).isArrayOrTypedArray;oe.exports=function(R,I,v,w,r,n){var d,b,p,c=[],o=S.traceIs(R,"contour"),f=S.traceIs(R,"histogram"),h=S.traceIs(R,"gl2d");if(k(I)&&I.length>1&&!f&&"category"!==n.type){var m=I.length;if(!(m<=r))return I.slice(0,o?r:r+1);if(o||h)c=I.slice(0,r);else if(1===r)c=[I[0]-.5,I[0]+.5];else{for(c=[1.5*I[0]-.5*I[1]],p=1;p<m;p++)c.push(.5*(I[p-1]+I[p]));c.push(1.5*I[m-1]-.5*I[m-2])}if(m<r){var u=c[c.length-1],g=u-c[c.length-2];for(p=m;p<r;p++)c.push(u+=g)}}else{var C=R[n._id.charAt(0)+"calendar"];for(d=f?n.r2c(v,0,C):k(I)&&1===I.length?I[0]:void 0===v?0:("log"===n.type?n.d2c:n.r2c)(v,0,C),b=w||1,p=o||h?0:-.5;p<r;p++)c.push(d+b*p)}return c}},50347:function(oe,J,t){"use strict";var S=t(39898),k=t(84267),l=t(73972),R=t(91424),I=t(89298),v=t(71828),w=t(63893),r=t(8225),n=t(7901),c=t(21081).extractOpts,o=t(21081).makeColorScaleFuncFromTrace,f=t(77922),d=t(18783).LINE_SPACING,b=t(3883),p=t(32396).STYLE,A="heatmap-label";function m(L){return L.selectAll("g."+A)}function u(L){m(L).remove()}function g(L,x){var E=x.length-2,M=v.constrain(v.findBin(L,x),0,E),i=x[M],y=v.constrain(M+(L-i)/(x[M+1]-i)-.5,0,E),B=Math.round(y),F=Math.abs(y-B);return y&&y!==E&&F?{bin0:B,frac:F,bin1:Math.round(B+F/(y-B))}:{bin0:B,bin1:B,frac:0}}function C(L,x){var E=x.length-1,M=v.constrain(v.findBin(L,x),0,E),i=x[M],y=(L-i)/(x[M+1]-i)||0;return y<=0?{bin0:M,bin1:M,frac:0}:y<.5?{bin0:M,bin1:M+1,frac:y}:{bin0:M+1,bin1:M,frac:1-y}}function T(L,x,E){L[x]=E[0],L[x+1]=E[1],L[x+2]=E[2],L[x+3]=Math.round(255*E[3])}oe.exports=function(L,x,E,M){var i=x.xaxis,D=x.yaxis;v.makeTraceGroups(M,E,"hm").each(function(y){var Z,q,fe,re,$,le,se,de,B=S.select(this),F=y[0],_=F.trace,z=_.xgap||0,V=_.ygap||0,H=F.z,U=F.x,G=F.y,Y=F.xCenter,ee=F.yCenter,ue=l.traceIs(_,"contour"),ce=ue?"best":_.zsmooth,pe=H.length,te=v.maxRowLength(H),Q=!1,K=!1;for(le=0;void 0===Z&&le<U.length-1;)Z=i.c2p(U[le]),le++;for(le=U.length-1;void 0===q&&le>0;)q=i.c2p(U[le]),le--;for(q<Z&&(fe=q,q=Z,Z=fe,Q=!0),le=0;void 0===re&&le<G.length-1;)re=D.c2p(G[le]),le++;for(le=G.length-1;void 0===$&&le>0;)$=D.c2p(G[le]),le--;$<re&&(fe=re,re=$,$=fe,K=!0),ue&&(Y=U,ee=G,U=F.xfill,G=F.yfill);var we="default";if(ce?we="best"===ce?"smooth":"fast":_._islinear&&0===z&&0===V&&b()&&(we="fast"),"fast"!==we){var Ee="best"===ce?0:.5;Z=Math.max(-Ee*i._length,Z),q=Math.min((1+Ee)*i._length,q),re=Math.max(-Ee*D._length,re),$=Math.min((1+Ee)*D._length,$)}var Ce,Ie,Me=Math.round(q-Z),Ne=Math.round($-re);if(Z>=i._length||q<=0||re>=D._length||$<=0)return B.selectAll("image").data([]).exit().remove(),void u(B);"fast"===we?(Ce=te,Ie=pe):(Ce=Me,Ie=Ne);var Je=document.createElement("canvas");Je.width=Ce,Je.height=Ie;var Ke,ut,Qe=Je.getContext("2d",{willReadFrequently:!0}),ze=o(_,{noNumericCheck:!0,returnArray:!0});"fast"===we?(Ke=Q?function(an){return te-1-an}:v.identity,ut=K?function(an){return pe-1-an}:v.identity):(Ke=function(an){return v.constrain(Math.round(i.c2p(U[an])-Z),0,Me)},ut=function(an){return v.constrain(Math.round(D.c2p(G[an])-re),0,Ne)});var _t,nt,Re,Be,ot=ut(0),We=[ot,ot],je=Q?0:1,lt=K?0:1,vt=0,pt=0,St=0,Ct=0;function He(an,Cn){if(void 0!==an){var En=ze(an);return En[0]=Math.round(En[0]),En[1]=Math.round(En[1]),En[2]=Math.round(En[2]),vt+=Cn,pt+=En[0]*Cn,St+=En[1]*Cn,Ct+=En[2]*Cn,En}return[0,0,0,0]}function Ye(an,Cn,En,Fn){var Vn=an[En.bin0];if(void 0===Vn)return He(void 0,1);var vi=an[En.bin1],li=Cn[En.bin0],bi=Cn[En.bin1];return He(Vn+En.frac*(vi-Vn||0)+Fn.frac*((li-Vn||0)+En.frac*(void 0===vi?void 0===bi?0:void 0===li?2*(bi-Vn):2*(2*bi-li-Vn)/3:void 0===bi?void 0===li?0:2*(2*Vn-vi-li)/3:void 0===li?2*(2*bi-vi-Vn)/3:bi+Vn-vi-li)))}if("default"!==we){var De,Ue=0;try{De=new Uint8Array(Ce*Ie*4)}catch{De=new Array(Ce*Ie*4)}if("smooth"===we){var ir,Lt,Ut,ge=Y||U,Te=ee||G,_e=new Array(ge.length),et=new Array(Te.length),ft=new Array(Me),gt=Y?C:g,Kt=ee?C:g;for(le=0;le<ge.length;le++)_e[le]=Math.round(i.c2p(ge[le])-Z);for(le=0;le<Te.length;le++)et[le]=Math.round(D.c2p(Te[le])-re);for(le=0;le<Me;le++)ft[le]=gt(le,_e);for(se=0;se<Ne;se++)for(Lt=H[(ir=Kt(se,et)).bin0],Ut=H[ir.bin1],le=0;le<Me;le++,Ue+=4)T(De,Ue,Be=Ye(Lt,Ut,ft[le],ir))}else for(se=0;se<pe;se++)for(Re=H[se],We=ut(se),le=0;le<te;le++)Be=He(Re[le],1),T(De,Ue=4*(We*te+Ke(le)),Be);var Qt=Qe.createImageData(Ce,Ie);try{Qt.data.set(De)}catch{var Cr=Qt.data,wt=Cr.length;for(se=0;se<wt;se++)Cr[se]=De[se]}Qe.putImageData(Qt,0,0)}else{var $t=Math.floor(z/2),rr=Math.floor(V/2);for(se=0;se<pe;se++)if(Re=H[se],We.reverse(),We[lt]=ut(se+1),We[0]!==We[1]&&void 0!==We[0]&&void 0!==We[1])for(_t=[nt=Ke(0),nt],le=0;le<te;le++)_t.reverse(),_t[je]=Ke(le+1),_t[0]!==_t[1]&&void 0!==_t[0]&&void 0!==_t[1]&&(Be=He(Re[le],(_t[1]-_t[0])*(We[1]-We[0])),Qe.fillStyle="rgba("+Be.join(",")+")",Qe.fillRect(_t[0]+$t,We[0]+rr,_t[1]-_t[0]-z,We[1]-We[0]-V))}pt=Math.round(pt/vt),St=Math.round(St/vt),Ct=Math.round(Ct/vt);var Lr=k("rgb("+pt+","+St+","+Ct+")");L._hmpixcount=(L._hmpixcount||0)+vt,L._hmlumcount=(L._hmlumcount||0)+vt*Lr.getLuminance();var mr=B.selectAll("image").data(y);mr.enter().append("svg:image").attr({xmlns:f.svg,preserveAspectRatio:"none"}),mr.attr({height:Ne,width:Me,x:Z,y:re,"xlink:href":Je.toDataURL("image/png")}),"fast"===we&&!ce&&mr.attr("style",p),u(B);var bt=_.texttemplate;if(bt){var ct=c(_),At={type:"linear",range:[ct.min,ct.max],_separators:i._separators,_numFormat:i._numFormat},It="histogram2dcontour"===_.type,Ft="contour"===_.type,Gt=Ft?pe-1:pe,jt=Ft?1:0,er=Ft?te-1:te,dr=[];for(le=Ft?1:0;le<Gt;le++){var hr;if(Ft)hr=F.y[le];else if(It){if(0===le||le===pe-1)continue;hr=F.y[le]}else if(F.yCenter)hr=F.yCenter[le];else{if(le+1===pe&&void 0===F.y[le+1])continue;hr=(F.y[le]+F.y[le+1])/2}var wr=Math.round(D.c2p(hr));if(!(0>wr||wr>D._length))for(se=jt;se<er;se++){var $e;if(Ft)$e=F.x[se];else if(It){if(0===se||se===te-1)continue;$e=F.x[se]}else if(F.xCenter)$e=F.xCenter[se];else{if(se+1===te&&void 0===F.x[se+1])continue;$e=(F.x[se]+F.x[se+1])/2}var Ze=Math.round(i.c2p($e));if(!(0>Ze||Ze>i._length)){var zt=r({x:$e,y:hr},_,L._fullLayout);zt.x=$e,zt.y=hr;var kt=F.z[le][se];void 0===kt?(zt.z="",zt.zLabel=""):(zt.z=kt,zt.zLabel=I.tickText(At,kt,"hover").text);var Xt=F.text&&F.text[le]&&F.text[le][se];(void 0===Xt||!1===Xt)&&(Xt=""),zt.text=Xt;var ur=v.texttemplateString(bt,zt,L._fullLayout._d3locale,zt,_._meta||{});if(ur){var vr=ur.split("<br>"),or=vr.length,Ht=0;for(de=0;de<or;de++)Ht=Math.max(Ht,vr[de].length);dr.push({l:or,c:Ht,t:ur,x:Ze,y:wr,z:kt})}}}}var pr=_.textfont,xr=pr.family,Mr=pr.size,kr=L._fullLayout.font.size;if(!Mr||"auto"===Mr){var un=1/0,Nr=1/0,Yr=0,$r=0;for(de=0;de<dr.length;de++){var Qr=dr[de];if(Yr=Math.max(Yr,Qr.l),$r=Math.max($r,Qr.c),de<dr.length-1){var Wn=dr[de+1],An=Math.abs(Wn.x-Qr.x),Tr=Math.abs(Wn.y-Qr.y);An&&(un=Math.min(un,An)),Tr&&(Nr=Math.min(Nr,Tr))}}isFinite(un)&&isFinite(Nr)?(un-=z,Nr-=V,un/=$r,Nr/=Yr,un/=d/2,Nr/=d,Mr=Math.min(Math.floor(un),Math.floor(Nr),kr)):Mr=kr}if(Mr<=0||!isFinite(Mr))return;m(B).data(dr).enter().append("g").classed(A,1).append("text").attr("text-anchor","middle").each(function(an){var Cn=S.select(this),En=pr.color;(!En||"auto"===En)&&(En=n.contrast("rgba("+ze(an.z).join()+")")),Cn.attr("data-notex",1).call(w.positionText,function(an){return an.x}(an),function(an){return an.y-Mr*(an.l*d/2-1)}(an)).call(R.font,xr,Mr,En).text(an.t).call(w.convertToTspans,L)})}})}},70035:function(oe,J,t){"use strict";var S=t(39898);oe.exports=function(l){S.select(l).selectAll(".hm image").style("opacity",function(R){return R.trace.opacity})}},49901:function(oe){"use strict";oe.exports=function(t,S,k){!1===k("zsmooth")&&(k("xgap"),k("ygap")),k("zhoverformat")}},67684:function(oe,J,t){"use strict";var S=t(92770),k=t(71828),l=t(73972);function R(v,w){var r=w(v);return"scaled"===(r?w(v+"type","array"):"scaled")&&(w(v+"0"),w("d"+v)),r}oe.exports=function(w,r,n,c,o,f){var d,b,h=n("z");if(o=o||"x",f=f||"y",void 0===h||!h.length)return 0;if(k.isArray1D(w.z)){d=n(o),b=n(f);var p=k.minRowLength(d),A=k.minRowLength(b);if(0===p||0===A)return 0;r._length=Math.min(p,A,h.length)}else{if(d=R(o,n),b=R(f,n),!function I(v){for(var c,w=!0,r=!1,n=!1,o=0;o<v.length;o++){if(!k.isArrayOrTypedArray(c=v[o])){w=!1;break}c.length>0&&(r=!0);for(var f=0;f<c.length;f++)if(S(c[f])){n=!0;break}}return w&&r&&n}(h))return 0;n("transpose"),r._length=null}return"heatmapgl"===w.type||l.getComponentMethod("calendars","handleTraceDefaults")(w,r,[o,f],c),!0}},16063:function(oe,J,t){"use strict";for(var S=t(21606),k=t(50693),l=t(1426).extendFlat,R=t(30962).overrideAll,I=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},w=0;w<I.length;w++){var r=I[w];v[r]=S[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},l(v,k("",{cLetter:"z",autoColorDflt:!1})),oe.exports=R(v,"calc","nested")},59560:function(oe,J,t){"use strict";var S=t(9330).gl_heatmap2d,k=t(89298),l=t(78614);function R(r,n){this.scene=r,this.uid=n,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=S(r.glplot,this.options),this.heatmap._trace=this}var I=R.prototype;I.handlePick=function(r){var n=this.options,c=n.shape,o=r.pointId,f=o%c[0],h=Math.floor(o/c[0]);return{trace:this,dataCoord:r.dataCoord,traceCoord:[n.x[f],n.y[h],n.z[o]],textLabel:this.textLabels[o],name:this.name,pointIndex:[h,f],hoverinfo:this.hoverinfo}},I.update=function(r,n){var c=n[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var o=c.z;this.options.z=[].concat.apply([],o),this.options.shape=[o[0].length,o.length],this.options.x=c.x,this.options.y=c.y,this.options.zsmooth=r.zsmooth;var d=function v(r){for(var n=r.colorscale,c=r.zmin,o=r.zmax,f=n.length,h=new Array(f),d=new Array(4*f),b=0;b<f;b++){var p=n[b],A=l(p[1]);h[b]=c+p[0]*(o-c);for(var m=0;m<4;m++)d[4*b+m]=A[m]}return{colorLevels:h,colorValues:d}}(r);this.options.colorLevels=d.colorLevels,this.options.colorValues=d.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var A,m,b=this.scene.xaxis,p=this.scene.yaxis;!1===r.zsmooth&&(A={ppad:c.x[1]-c.x[0]},m={ppad:c.y[1]-c.y[0]}),r._extremes[b._id]=k.findExtremes(b,c.x,A),r._extremes[p._id]=k.findExtremes(p,c.y,m)},I.dispose=function(){this.heatmap.dispose()},oe.exports=function w(r,n,c){var o=new R(r,n.uid);return o.update(n,c),o}},19600:function(oe,J,t){"use strict";var S=t(71828),k=t(67684),l=t(1586),R=t(16063);oe.exports=function(v,w,r,n){function c(f,h){return S.coerce(v,w,R,f,h)}k(v,w,c,n)?(c("text"),c("zsmooth"),l(v,w,n,c,{prefix:"",cLetter:"z"})):w.visible=!1}},3325:function(oe,J,t){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),oe.exports={attributes:t(16063),supplyDefaults:t(19600),colorbar:t(61243),calc:t(90757),plot:t(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:t(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(oe,J,t){"use strict";var S=t(1486),k=t(12663).axisHoverFormat,l=t(5386).fF,R=t(5386).si,I=t(41940),v=t(17656),w=t(72406),r=t(1426).extendFlat;oe.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:k("x"),yhoverformat:k("y"),text:r({},S.text,{}),hovertext:r({},S.hovertext,{}),orientation:S.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:l({},{keys:w.eventDataKeys}),texttemplate:R({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},S.textposition,{arrayOk:!1}),textfont:I({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:I({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:I({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:S.insidetextanchor,textangle:S.textangle,cliponaxis:S.cliponaxis,constraintext:S.constraintext,marker:S.marker,offsetgroup:S.offsetgroup,alignmentgroup:S.alignmentgroup,selected:S.selected,unselected:S.unselected,_deprecated:{bardir:S._deprecated.bardir}}},42174:function(oe){"use strict";oe.exports=function(t,S){for(var k=t.length,l=0,R=0;R<k;R++)S[R]?(t[R]/=S[R],l+=t[R]):t[R]=null;return l}},17656:function(oe){"use strict";oe.exports=function(t,S){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(oe,J,t){"use strict";var S=t(92770);oe.exports={count:function(k,l,R){return R[k]++,1},sum:function(k,l,R,I){var v=I[l];return S(v)?(v=Number(v),R[k]+=v,v):0},avg:function(k,l,R,I,v){var w=I[l];return S(w)&&(w=Number(w),R[k]+=w,v[k]++),0},min:function(k,l,R,I){var v=I[l];if(S(v)){if(v=Number(v),!S(R[k]))return R[k]=v,v;if(R[k]>v){var w=v-R[k];return R[k]=v,w}}return 0},max:function(k,l,R,I){var v=I[l];if(S(v)){if(v=Number(v),!S(R[k]))return R[k]=v,v;if(R[k]<v){var w=v-R[k];return R[k]=v,w}}return 0}}},40965:function(oe,J,t){"use strict";var S=t(50606),k=S.ONEAVGYEAR,l=S.ONEAVGMONTH,R=S.ONEDAY,I=S.ONEHOUR,v=S.ONEMIN,w=S.ONESEC,r=t(89298).tickIncrement;function n(h,d,b,p){if(h*d<=0)return 1/0;for(var A=Math.abs(d-h),m="date"===b.type,u=c(A,m),g=0;g<10;g++){var C=c(80*u,m);if(u===C)break;if(!o(C,h,d,m,b,p))break;u=C}return u}function c(h,d){return d&&h>w?h>R?h>1.1*k?k:h>1.1*l?l:R:h>I?I:h>v?v:w:Math.pow(10,Math.floor(Math.log(h)/Math.LN10))}function o(h,d,b,p,A,m){if(p&&h>R){var u=f(d,A,m),g=f(b,A,m),C=h===k?0:1;return u[C]!==g[C]}return Math.floor(b/h)-Math.floor(d/h)>.1}function f(h,d,b){var p=d.c2d(h,k,b).split("-");return""===p[0]&&(p.unshift(),p[0]="-"+p[0]),p}oe.exports=function(d,b,p,A,m){var M,i,u=-1.1*b,g=-.1*b,C=d-g,T=p[0],L=p[1],x=Math.min(n(T+g,T+C,A,m),n(L+g,L+C,A,m)),E=Math.min(n(T+u,T+g,A,m),n(L+u,L+g,A,m));if(x>E&&E<Math.abs(L-T)/4e3?(M=x,i=!1):(M=Math.min(x,E),i=!0),"date"===A.type&&M>R){var D=M===k?1:6,y=M===k?"M12":"M1";return function(B,F){var _=A.c2d(B,k,m),z=_.indexOf("-",D);z>0&&(_=_.substr(0,z));var V=A.d2c(_,0,m);if(V<B){var H=r(V,y,!1,m);(V+H)/2<B+d&&(V=H)}return F&&i?r(V,y,!0,m):V}}return function(B,F){var _=M*Math.round(B/M);return _+M/10<B&&_+.9*M<B+d&&(_+=M),F&&i&&(_-=M),_}}},72138:function(oe,J,t){"use strict";var S=t(92770),k=t(71828),l=t(73972),R=t(89298),I=t(75341),v=t(59575),w=t(36362),r=t(42174),n=t(40965);function o(b,p,A,m,u){var E,M,i,D,y,B,F,g=m+"bins",C=b._fullLayout,L=C._histogramBinOpts[p["_"+m+"bingroup"]],x="overlay"===C.barmode,_=function(Me){return A.r2c(Me,0,D)},z=function(Me){return A.c2r(Me,0,D)},V="date"===A.type?function(Me){return Me||0===Me?k.cleanDate(Me,null,D):null}:function(Me){return S(Me)?Number(Me):null};function H(Me,Ne,Ve){Ne[Me+"Found"]?(Ne[Me]=V(Ne[Me]),null===Ne[Me]&&(Ne[Me]=Ve[Me])):(B[Me]=Ne[Me]=Ve[Me],k.nestedProperty(M[0],g+"."+Me).set(Ve[Me]))}if(p["_"+m+"autoBinFinished"])delete p["_"+m+"autoBinFinished"];else{M=L.traces;var U=[],G=!0,Y=!1,ee=!1;for(E=0;E<M.length;E++)if((i=M[E]).visible){var ue=L.dirs[E];y=i["_"+ue+"pos0"]=A.makeCalcdata(i,ue),U=k.concat(U,y),delete i["_"+m+"autoBinFinished"],!0===p.visible&&(G?G=!1:(delete i._autoBin,i["_"+m+"autoBinFinished"]=1),l.traceIs(i,"2dMap")&&(Y=!0),"histogram2dcontour"===i.type&&(ee=!0))}var ce=R.autoBin(U,A,L.nbins,Y,D=M[0][m+"calendar"],L.sizeFound&&L.size),pe=M[0]._autoBin={};if(B=pe[L.dirs[0]]={},ee&&(L.size||(ce.start=z(R.tickIncrement(_(ce.start),ce.size,!0,D))),void 0===L.end&&(ce.end=z(R.tickIncrement(_(ce.end),ce.size,!1,D)))),x&&!l.traceIs(p,"2dMap")&&0===ce._dataSpan&&"category"!==A.type&&"multicategory"!==A.type&&""===p.bingroup&&typeof p.xbins>"u"){if(u)return[ce,y,!0];ce=function f(b,p,A,m,u){var E,M,i,g=b._fullLayout,C=function h(b,p){for(var A=p.xaxis,m=p.yaxis,u=p.orientation,g=[],C=b._fullData,T=0;T<C.length;T++){var L=C[T];"histogram"===L.type&&!0===L.visible&&L.orientation===u&&L.xaxis===A&&L.yaxis===m&&g.push(L)}return g}(b,p),T=!1,L=1/0,x=[p];for(E=0;E<C.length;E++)if((M=C[E])===p)T=!0;else if(T){var D=o(b,M,A,m,!0),y=D[0],B=D[2];M["_"+m+"autoBinFinished"]=1,M["_"+m+"pos0"]=D[1],B?x.push(M):L=Math.min(L,y.size)}else i=g._histogramBinOpts[M["_"+m+"bingroup"]],L=Math.min(L,i.size||M[u].size);var F=new Array(x.length);for(E=0;E<x.length;E++)for(var _=x[E]["_"+m+"pos0"],z=0;z<_.length;z++)if(void 0!==_[z]){F[E]=_[z];break}for(isFinite(L)||(L=k.distinctVals(F).minDiff),E=0;E<x.length;E++){var V=(M=x[E])[m+"calendar"],H={start:A.c2r(F[E]-L/2,0,V),end:A.c2r(F[E]+L/2,0,V),size:L};M._input[u]=M[u]=H,(i=g._histogramBinOpts[M["_"+m+"bingroup"]])&&k.extendFlat(i,H)}return p[u]}(b,p,A,m,g)}(F=i.cumulative||{}).enabled&&"include"!==F.currentbin&&("decreasing"===F.direction?ce.start=z(R.tickIncrement(_(ce.start),ce.size,!0,D)):ce.end=z(R.tickIncrement(_(ce.end),ce.size,!1,D))),L.size=ce.size,L.sizeFound||(B.size=ce.size,k.nestedProperty(M[0],g+".size").set(ce.size)),H("start",L,ce),H("end",L,ce)}y=p["_"+m+"pos0"],delete p["_"+m+"pos0"];var te=p._input[g]||{},Q=k.extendFlat({},L),K=L.start,Z=A.r2l(te.start),q=void 0!==Z;if((L.startFound||q)&&Z!==A.r2l(K)){var fe=q?Z:k.aggNums(Math.min,null,y),re={type:"category"===A.type||"multicategory"===A.type?"linear":A.type,r2l:A.r2l,dtick:L.size,tick0:K,calendar:D,range:[fe,R.tickIncrement(fe,L.size,!1,D)].map(A.l2r)},$=R.tickFirst(re);$>A.r2l(fe)&&($=R.tickIncrement($,L.size,!0,D)),Q.start=A.l2r($),q||k.nestedProperty(p,g+".start").set(Q.start)}var le=L.end,se=A.r2l(te.end),de=void 0!==se;if((L.endFound||de)&&se!==A.r2l(le)){var we=de?se:k.aggNums(Math.max,null,y);Q.end=A.l2r(we),de||k.nestedProperty(p,g+".start").set(Q.end)}var Ee="autobin"+m;return!1===p._input[Ee]&&(p._input[g]=k.extendFlat({},p[g]||{}),delete p._input[Ee],delete p[Ee]),[Q,y]}oe.exports={calc:function c(b,p){var E,ee,ue,ce,A=[],m=[],u="h"===p.orientation,g=R.getFromId(b,u?p.yaxis:p.xaxis),C=u?"y":"x",T={x:"y",y:"x"}[C],L=p[C+"calendar"],x=p.cumulative,M=o(b,p,g,C),i=M[0],D=M[1],y="string"==typeof i.size,B=[],F=y?B:i,_=[],z=[],V=[],H=0,U=p.histnorm,G=p.histfunc,Y=-1!==U.indexOf("density");x.enabled&&Y&&(U=U.replace(/ ?density$/,""),Y=!1);var fe,te="max"===G||"min"===G?null:0,Q=v.count,K=w[U],Z=!1,q=function(Qe){return g.r2c(Qe,0,L)};for(k.isArrayOrTypedArray(p[T])&&"count"!==G&&(fe=p[T],Z="avg"===G,Q=v[G]),E=q(i.start),ue=q(i.end)+(E-R.tickIncrement(E,i.size,!1,L))/1e6;E<ue&&A.length<1e6&&(ee=R.tickIncrement(E,i.size,!1,L),A.push((E+ee)/2),m.push(te),V.push([]),B.push(E),Y&&_.push(1/(ee-E)),Z&&z.push(0),!(ee<=E));)E=ee;B.push(E),!y&&"date"===g.type&&(F={start:q(F.start),end:q(F.end),size:F.size}),b._fullLayout._roundFnOpts||(b._fullLayout._roundFnOpts={});var re=p["_"+C+"bingroup"],$={leftGap:1/0,rightGap:1/0};re&&(b._fullLayout._roundFnOpts[re]||(b._fullLayout._roundFnOpts[re]=$),$=b._fullLayout._roundFnOpts[re]);var Ne,le=m.length,se=!0,de=$.leftGap,we=$.rightGap,Ee={};for(E=0;E<D.length;E++){var Me=D[E];(ce=k.findBin(Me,F))>=0&&ce<le&&(H+=Q(ce,E,m,fe,z),se&&V[ce].length&&Me!==D[V[ce][0]]&&(se=!1),V[ce].push(E),Ee[E]=ce,de=Math.min(de,Me-B[ce]),we=Math.min(we,B[ce+1]-Me))}$.leftGap=de,$.rightGap=we,se||(Ne=function(Qe,ze){return function(){var Ke=b._fullLayout._roundFnOpts[re];return n(Ke.leftGap,Ke.rightGap,B,g,L)(Qe,ze)}}),Z&&(H=r(m,z)),K&&K(m,H,_),x.enabled&&function d(b,p,A){var m,u,g;function C(L){g=b[L],b[L]/=2}function T(L){b[L]=g+(u=b[L])/2,g+=u}if("half"===A)if("increasing"===p)for(C(0),m=1;m<b.length;m++)T(m);else for(C(b.length-1),m=b.length-2;m>=0;m--)T(m);else if("increasing"===p){for(m=1;m<b.length;m++)b[m]+=b[m-1];"exclude"===A&&(b.unshift(0),b.pop())}else{for(m=b.length-2;m>=0;m--)b[m]+=b[m+1];"exclude"===A&&(b.push(0),b.shift())}}(m,x.direction,x.currentbin);var Ve=Math.min(A.length,m.length),Pe=[],Ce=0,Ie=Ve-1;for(E=0;E<Ve;E++)if(m[E]){Ce=E;break}for(E=Ve-1;E>=Ce;E--)if(m[E]){Ie=E;break}for(E=Ce;E<=Ie;E++)if(S(A[E])&&S(m[E])){var Je={p:A[E],s:m[E],b:0};x.enabled||(Je.pts=V[E],se?Je.ph0=Je.ph1=V[E].length?D[V[E][0]]:A[E]:(p._computePh=!0,Je.ph0=Ne(B[E]),Je.ph1=Ne(B[E+1],!0))),Pe.push(Je)}return 1===Pe.length&&(Pe[0].width1=R.tickIncrement(Pe[0].p,i.size,!1,L)-Pe[0].p),I(Pe,p),k.isArrayOrTypedArray(p.selectedpoints)&&k.tagSelected(Pe,p,Ee),Pe},calcAllAutoBins:o}},72406:function(oe){"use strict";oe.exports={eventDataKeys:["binNumber"]}},82222:function(oe,J,t){"use strict";var S=t(71828),k=t(41675),l=t(73972).traceIs,R=t(26125),I=S.nestedProperty,v=t(99082).getAxisGroup,w=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],r=["x","y"];oe.exports=function(c,o){var p,A,m,u,g,C,T,f=o._histogramBinOpts={},h=[],d={},b=[];function L(ee,ue){return S.coerce(p._input,p,p._module.attributes,ee,ue)}function x(ee){return"v"===ee.orientation?"x":"y"}function M(ee,ue,ce){var pe=ee.uid+"__"+ce;ue||(ue=pe);var te=function E(ee,ue){return k.getFromTrace({_fullLayout:o},ee,ue).type}(ee,ce),Q=ee[ce+"calendar"]||"",K=f[ue],Z=!0;K&&(te===K.axType&&Q===K.calendar?(Z=!1,K.traces.push(ee),K.dirs.push(ce)):(ue=pe,te!==K.axType&&S.warn(["Attempted to group the bins of trace",ee.index,"set on a","type:"+te,"axis","with bins on","type:"+K.axType,"axis."].join(" ")),Q!==K.calendar&&S.warn(["Attempted to group the bins of trace",ee.index,"set with a",Q,"calendar","with bins",K.calendar?"on a "+K.calendar+" calendar":"w/o a set calendar"].join(" ")))),Z&&(f[ue]={traces:[ee],dirs:[ce],axType:te,calendar:ee[ce+"calendar"]||""}),ee["_"+ce+"bingroup"]=ue}for(g=0;g<c.length;g++)l(p=c[g],"histogram")&&(h.push(p),delete p._xautoBinFinished,delete p._yautoBinFinished,l(p,"2dMap")||R(p._input,p,o,L));var i=o._alignmentOpts||{};for(g=0;g<h.length;g++){if(m="",!l(p=h[g],"2dMap")){if(u=x(p),"group"===o.barmode&&p.alignmentgroup){var y=v(o,p[u+"axis"])+p.orientation;(i[y]||{})[p.alignmentgroup]&&(m=y)}!m&&"overlay"!==o.barmode&&(m=v(o,p.xaxis)+v(o,p.yaxis)+x(p))}m?(d[m]||(d[m]=[]),d[m].push(p)):b.push(p)}for(m in d)if(1!==(A=d[m]).length){var B=!1;for(A.length&&(p=A[0],B=L("bingroup")),m=B||m,g=0;g<A.length;g++){var F=(p=A[g])._input.bingroup;F&&F!==m&&S.warn(["Trace",p.index,"must match","within bingroup",m+".","Ignoring its bingroup:",F,"setting."].join(" ")),p.bingroup=m,M(p,m,x(p))}}else b.push(A[0]);for(g=0;g<b.length;g++){p=b[g];var _=L("bingroup");if(l(p,"2dMap"))for(T=0;T<2;T++){var z=L((u=r[T])+"bingroup",_?_+"__"+u:null);M(p,z,u)}else M(p,_,x(p))}for(m in f){var V=f[m];for(A=V.traces,C=0;C<w.length;C++){var G,Y,H=w[C],U=H.name;if("nbins"!==U||!V.sizeFound){for(g=0;g<A.length;g++){if(void 0!==I((p=A[g])._input,G=H.aStr[u=V.dirs[g]]).get()){V[U]=L(G),V[U+"Found"]=!0;break}(Y=(p._autoBin||{})[u]||{})[U]&&I(p,G).set(Y[U])}if("start"===U||"end"===U)for(;g<A.length;g++)(p=A[g])["_"+u+"bingroup"]&&L(G,(Y=(p._autoBin||{})[u]||{})[U]);"nbins"===U&&!V.sizeFound&&!V.nbinsFound&&(p=A[0],V[U]=L(G))}}}}},11385:function(oe,J,t){"use strict";var S=t(73972),k=t(71828),l=t(7901),R=t(90769).handleText,I=t(98340),v=t(7745);oe.exports=function(r,n,c,o){function f(E,M){return k.coerce(r,n,v,E,M)}var h=f("x"),d=f("y");f("cumulative.enabled")&&(f("cumulative.direction"),f("cumulative.currentbin")),f("text");var p=f("textposition");R(r,n,o,f,p,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat");var A=f("orientation",d&&!h?"h":"v"),m="v"===A?"x":"y",u="v"===A?"y":"x",g=h&&d?Math.min(k.minRowLength(h)&&k.minRowLength(d)):k.minRowLength(n[m]||[]);if(g){n._length=g,S.getComponentMethod("calendars","handleTraceDefaults")(r,n,["x","y"],o),n[u]&&f("histfunc"),f("histnorm"),f("autobin"+m),I(r,n,f,c,o),k.coerceSelectionMarkerOpacity(n,f);var L=(n.marker.line||{}).color,x=S.getComponentMethod("errorbars","supplyDefaults");x(r,n,L||l.defaultLine,{axis:"y"}),x(r,n,L||l.defaultLine,{axis:"x",inherit:"y"})}else n.visible=!1}},84402:function(oe){"use strict";oe.exports=function(t,S,k,l,R){if(t.x="xVal"in S?S.xVal:S.x,t.y="yVal"in S?S.yVal:S.y,"zLabelVal"in S&&(t.z=S.zLabelVal),S.xa&&(t.xaxis=S.xa),S.ya&&(t.yaxis=S.ya),!(k.cumulative||{}).enabled){var v,I=Array.isArray(R)?l[0].pts[R[0]][R[1]]:l[R].pts;if(t.pointNumbers=I,t.binNumber=t.pointNumber,delete t.pointNumber,delete t.pointIndex,k._indexToPoints){v=[];for(var w=0;w<I.length;w++)v=v.concat(k._indexToPoints[I[w]])}else v=I;t.pointIndices=v}return t}},76440:function(oe,J,t){"use strict";var S=t(95423).hoverPoints,k=t(89298).hoverLabelText;oe.exports=function(R,I,v,w,r){var n=S(R,I,v,w,r);if(n){var c=(R=n[0]).cd[R.index],o=R.cd[0].trace;if(!o.cumulative.enabled){var f="h"===o.orientation?"y":"x";R[f+"Label"]=k(R[f+"a"],[c.ph0,c.ph1],o[f+"hoverformat"])}return n}}},36071:function(oe,J,t){"use strict";oe.exports={attributes:t(7745),layoutAttributes:t(43641),supplyDefaults:t(11385),crossTraceDefaults:t(82222),supplyLayoutDefaults:t(13957),calc:t(72138).calc,crossTraceCalc:t(11661).crossTraceCalc,plot:t(17295).plot,layerName:"barlayer",style:t(16688).style,styleOnSelect:t(16688).styleOnSelect,colorbar:t(4898),hoverPoints:t(76440),selectPoints:t(81974),eventData:t(84402),moduleType:"trace",name:"histogram",basePlotModule:t(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(oe){"use strict";oe.exports={percent:function(J,t){for(var S=J.length,k=100/t,l=0;l<S;l++)J[l]*=k},probability:function(J,t){for(var S=J.length,k=0;k<S;k++)J[k]/=t},density:function(J,t,S,k){var l=J.length;k=k||1;for(var R=0;R<l;R++)J[R]*=S[R]*k},"probability density":function(J,t,S,k){var l=J.length;k&&(t/=k);for(var R=0;R<l;R++)J[R]*=S[R]/t}}},35361:function(oe,J,t){"use strict";var S=t(7745),k=t(17656),l=t(21606),R=t(9012),I=t(12663).axisHoverFormat,v=t(5386).fF,w=t(5386).si,r=t(50693),n=t(1426).extendFlat;oe.exports=n({x:S.x,y:S.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:S.histnorm,histfunc:S.histfunc,nbinsx:S.nbinsx,xbins:k("x"),nbinsy:S.nbinsy,ybins:k("y"),autobinx:S.autobinx,autobiny:S.autobiny,bingroup:n({},S.bingroup,{}),xbingroup:n({},S.bingroup,{}),ybingroup:n({},S.bingroup,{}),xgap:l.xgap,ygap:l.ygap,zsmooth:l.zsmooth,xhoverformat:I("x"),yhoverformat:I("y"),zhoverformat:I("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:w({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:l.textfont,showlegend:n({},R.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},17562:function(oe,J,t){"use strict";var S=t(71828),k=t(89298),l=t(59575),R=t(36362),I=t(42174),v=t(40965),w=t(72138).calcAllAutoBins;function r(o,f,h,d){var p,b=new Array(o);if(d)for(p=0;p<o;p++)b[p]=1/(f[p+1]-f[p]);else{var A=1/h;for(p=0;p<o;p++)b[p]=A}return b}function n(o,f){return{start:o(f.start),end:o(f.end),size:f.size}}function c(o,f,h,d,b,p){var A,m=o.length-1,u=new Array(m),g=v(h,d,o,b,p);for(A=0;A<m;A++){var C=(f||[])[A];u[A]=void 0===C?[g(o[A]),g(o[A+1],!0)]:[C,C]}return u}oe.exports=function(f,h){var T,L,x,E,d=k.getFromId(f,h.xaxis),b=k.getFromId(f,h.yaxis),p=h.xcalendar,A=h.ycalendar,m=function(Be){return d.r2c(Be,0,p)},u=function(Be){return b.r2c(Be,0,A)},M=w(f,h,d,"x"),i=M[0],D=M[1],y=w(f,h,b,"y"),B=y[0],F=y[1],_=h._length;D.length>_&&D.splice(_,D.length-_),F.length>_&&F.splice(_,F.length-_);var z=[],V=[],H=[],U="string"==typeof i.size,G="string"==typeof B.size,Y=[],ee=[],ue=U?Y:i,ce=G?ee:B,pe=0,te=[],Q=[],K=h.histnorm,Z=h.histfunc,q=-1!==K.indexOf("density"),re="max"===Z||"min"===Z?null:0,$=l.count,le=R[K],se=!1,de=[],we=[],Ee="z"in h?h.z:"marker"in h&&Array.isArray(h.marker.color)?h.marker.color:"";Ee&&"count"!==Z&&(se="avg"===Z,$=l[Z]);var Me=i.size,Ne=m(i.start),Ve=m(i.end)+(Ne-k.tickIncrement(Ne,Me,!1,p))/1e6;for(T=Ne;T<Ve;T=k.tickIncrement(T,Me,!1,p))V.push(re),Y.push(T),se&&H.push(0);Y.push(T);var Pe=V.length,Ce=(T-Ne)/Pe,Ie=d.c2r(Ne+Ce/2,0,p),Je=B.size,Qe=u(B.start),ze=u(B.end)+(Qe-k.tickIncrement(Qe,Je,!1,A))/1e6;for(T=Qe;T<ze;T=k.tickIncrement(T,Je,!1,A)){z.push(V.slice()),ee.push(T);var Ke=new Array(Pe);for(L=0;L<Pe;L++)Ke[L]=[];Q.push(Ke),se&&te.push(H.slice())}ee.push(T);var ut=z.length,ot=(T-Qe)/ut,We=function(Be){return b.c2r(Be,0,A)}(Qe+ot/2);q&&(de=r(V.length,ue,Ce,U),we=r(z.length,ce,ot,G)),!U&&"date"===d.type&&(ue=n(m,ue)),!G&&"date"===b.type&&(ce=n(u,ce));var je=!0,lt=!0,vt=new Array(Pe),pt=new Array(ut),St=1/0,Ct=1/0,_t=1/0,nt=1/0;for(T=0;T<_;T++){var ke=D[T],Re=F[T];x=S.findBin(ke,ue),E=S.findBin(Re,ce),x>=0&&x<Pe&&E>=0&&E<ut&&(pe+=$(x,T,z[E],Ee,te[E]),Q[E][x].push(T),je&&(void 0===vt[x]?vt[x]=ke:vt[x]!==ke&&(je=!1)),lt&&(void 0===pt[E]?pt[E]=Re:pt[E]!==Re&&(lt=!1)),St=Math.min(St,ke-Y[x]),Ct=Math.min(Ct,Y[x+1]-ke),_t=Math.min(_t,Re-ee[E]),nt=Math.min(nt,ee[E+1]-Re))}if(se)for(E=0;E<ut;E++)pe+=I(z[E],te[E]);if(le)for(E=0;E<ut;E++)le(z[E],pe,de,we[E]);return{x:D,xRanges:c(Y,je&&vt,St,Ct,d,p),x0:Ie,dx:Ce,y:F,yRanges:c(ee,lt&&pt,_t,nt,b,A),y0:We,dy:ot,z,pts:Q}}},93888:function(oe,J,t){"use strict";var S=t(71828),k=t(75238),l=t(49901),R=t(1586),I=t(58623),v=t(35361);oe.exports=function(r,n,c,o){function f(h,d){return S.coerce(r,n,v,h,d)}k(r,n,f,o),!1!==n.visible&&(l(r,n,f,o),R(r,n,o,f,{prefix:"",cLetter:"z"}),f("hovertemplate"),I(f,o),f("xhoverformat"),f("yhoverformat"))}},76128:function(oe,J,t){"use strict";var S=t(46248),k=t(89298).hoverLabelText;oe.exports=function(R,I,v,w,r){var n=S(R,I,v,w,r);if(n){var c=(R=n[0]).index,h=R.cd[0],d=h.trace,b=h.xRanges[c[1]],p=h.yRanges[c[0]];return R.xLabel=k(R.xa,[b[0],b[1]],d.xhoverformat),R.yLabel=k(R.ya,[p[0],p[1]],d.yhoverformat),n}}},43905:function(oe,J,t){"use strict";oe.exports={attributes:t(35361),supplyDefaults:t(93888),crossTraceDefaults:t(82222),calc:t(90757),plot:t(50347),layerName:"heatmaplayer",colorbar:t(61243),style:t(70035),hoverPoints:t(76128),eventData:t(84402),moduleType:"trace",name:"histogram2d",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(oe,J,t){"use strict";var S=t(73972),k=t(71828);oe.exports=function(R,I,v,w){var r=v("x"),n=v("y"),c=k.minRowLength(r),o=k.minRowLength(n);c&&o?(I._length=Math.min(c,o),S.getComponentMethod("calendars","handleTraceDefaults")(R,I,["x","y"],w),(v("z")||v("marker.color"))&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")):I.visible=!1}},99066:function(oe,J,t){"use strict";var S=t(35361),k=t(70600),l=t(50693),R=t(12663).axisHoverFormat,I=t(1426).extendFlat;oe.exports=I({x:S.x,y:S.y,z:S.z,marker:S.marker,histnorm:S.histnorm,histfunc:S.histfunc,nbinsx:S.nbinsx,xbins:S.xbins,nbinsy:S.nbinsy,ybins:S.ybins,autobinx:S.autobinx,autobiny:S.autobiny,bingroup:S.bingroup,xbingroup:S.xbingroup,ybingroup:S.ybingroup,autocontour:k.autocontour,ncontours:k.ncontours,contours:k.contours,line:{color:k.line.color,width:I({},k.line.width,{dflt:.5}),dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z",1),hovertemplate:S.hovertemplate,texttemplate:k.texttemplate,textfont:k.textfont},l("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(oe,J,t){"use strict";var S=t(71828),k=t(75238),l=t(67217),R=t(8724),I=t(58623),v=t(99066);oe.exports=function(r,n,c,o){function f(d,b){return S.coerce(r,n,v,d,b)}k(r,n,f,o),!1!==n.visible&&(l(r,n,f,function h(d){return S.coerce2(r,n,v,d)}),R(r,n,f,o),f("xhoverformat"),f("yhoverformat"),f("hovertemplate"),n.contours&&"heatmap"===n.contours.coloring&&I(f,o))}},35902:function(oe,J,t){"use strict";oe.exports={attributes:t(99066),supplyDefaults:t(62654),crossTraceDefaults:t(82222),calc:t(27529),plot:t(29854).plot,layerName:"contourlayer",style:t(84426),colorbar:t(90654),hoverPoints:t(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(oe,J,t){"use strict";var S=t(5386).fF,k=t(5386).si,l=t(50693),R=t(27670).Y,I=t(34e3),v=t(57564),w=t(45802),r=t(43473),n=t(1426).extendFlat,c=t(79952).u;oe.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:w.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:n({colors:v.marker.colors,line:v.marker.line,pattern:c,editType:"calc"},l("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:w.pathbar,text:I.text,textinfo:v.textinfo,texttemplate:k({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:I.hovertext,hoverinfo:v.hoverinfo,hovertemplate:S({},{keys:r.eventDataKeys}),textfont:I.textfont,insidetextfont:I.insidetextfont,outsidetextfont:w.outsidetextfont,textposition:w.textposition,sort:I.sort,root:v.root,domain:R({name:"icicle",trace:!0,editType:"calc"})}},96346:function(oe,J,t){"use strict";var S=t(74875);J.name="icicle",J.plot=function(k,l,R,I){S.plotBasePlot(J.name,k,l,R,I)},J.clean=function(k,l,R,I){S.cleanBasePlot(J.name,k,l,R,I)}},46584:function(oe,J,t){"use strict";var S=t(52147);J.y=function(k,l){return S.calc(k,l)},J.T=function(k){return S._runCrossTraceCalc("icicle",k)}},56524:function(oe,J,t){"use strict";var S=t(71828),k=t(46291),l=t(7901),R=t(27670).c,I=t(90769).handleText,v=t(97313).TEXTPAD,w=t(37434).handleMarkerDefaults,r=t(21081),n=r.hasColorscale,c=r.handleDefaults;oe.exports=function(f,h,d,b){function p(x,E){return S.coerce(f,h,k,x,E)}var A=p("labels"),m=p("parents");if(A&&A.length&&m&&m.length){var u=p("values");p(u&&u.length?"branchvalues":"count"),p("level"),p("maxdepth"),p("tiling.orientation"),p("tiling.flip"),p("tiling.pad");var g=p("text");p("texttemplate"),h.texttemplate||p("textinfo",Array.isArray(g)?"text+label":"label"),p("hovertext"),p("hovertemplate");var C=p("pathbar.visible");I(f,h,b,p,"auto",{hasPathbar:C,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),p("textposition"),w(f,h,b,p);var L=h._hasColorscale=n(f,"marker","colors")||(f.marker||{}).coloraxis;L&&c(f,h,b,p,{prefix:"marker.",cLetter:"c"}),p("leaf.opacity",L?1:.7),h._hovered={marker:{line:{width:2,color:l.contrast(b.paper_bgcolor)}}},C&&(p("pathbar.thickness",h.pathbar.textfont.size+2*v),p("pathbar.side"),p("pathbar.edgeshape")),p("sort"),p("root.color"),R(h,b,p),h._length=null}else h.visible=!1}},90666:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(91424),R=t(63893),I=t(21538),v=t(82454).styleOne,w=t(43473),r=t(2791),n=t(83523),c=t(24714).formatSliceLabel,o=!1;oe.exports=function(h,d,b,p,A){var m=A.width,u=A.height,g=A.viewX,C=A.viewY,T=A.pathSlice,L=A.toMoveInsideSlice,x=A.strTransform,E=A.hasTransition,M=A.handleSlicesExit,i=A.makeUpdateSliceInterpolator,D=A.makeUpdateTextInterpolator,y=A.prevEntry,F=h._context.staticPlot,_=h._fullLayout,V=d[0].trace,H=-1!==V.textposition.indexOf("left"),U=-1!==V.textposition.indexOf("right"),G=-1!==V.textposition.indexOf("bottom"),ee=I(b,[m,u],{flipX:V.tiling.flip.indexOf("x")>-1,flipY:V.tiling.flip.indexOf("y")>-1,orientation:V.tiling.orientation,pad:{inner:V.tiling.pad},maxDepth:V._maxDepth}).descendants(),ue=1/0,ce=-1/0;ee.forEach(function(Z){var q=Z.depth;q>=V._maxDepth?(Z.x0=Z.x1=(Z.x0+Z.x1)/2,Z.y0=Z.y1=(Z.y0+Z.y1)/2):(ue=Math.min(ue,q),ce=Math.max(ce,q))}),p=p.data(ee,r.getPtId),V._maxVisibleLayers=isFinite(ce)?ce-ue+1:0,p.enter().append("g").classed("slice",!0),M(p,o,{},[m,u],T),p.order();var pe=null;if(E&&y){var te=r.getPtId(y);p.each(function(Z){null===pe&&r.getPtId(Z)===te&&(pe={x0:Z.x0,x1:Z.x1,y0:Z.y0,y1:Z.y1})})}var Q=function(){return pe||{x0:0,x1:m,y0:0,y1:u}},K=p;return E&&(K=K.transition().each("end",function(){var Z=S.select(this);r.setSliceCursor(Z,h,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),K.each(function(Z){Z._x0=g(Z.x0),Z._x1=g(Z.x1),Z._y0=C(Z.y0),Z._y1=C(Z.y1),Z._hoverX=g(Z.x1-V.tiling.pad),Z._hoverY=C(G?Z.y1-V.tiling.pad/2:Z.y0+V.tiling.pad/2);var q=S.select(this),fe=k.ensureSingle(q,"path","surface",function(se){se.style("pointer-events",F?"none":"all")});E?fe.transition().attrTween("d",function(se){var de=i(se,o,Q(),[m,u],{orientation:V.tiling.orientation,flipX:V.tiling.flip.indexOf("x")>-1,flipY:V.tiling.flip.indexOf("y")>-1});return function(we){return T(de(we))}}):fe.attr("d",T),q.call(n,b,h,d,{styleOne:v,eventDataKeys:w.eventDataKeys,transitionTime:w.CLICK_TRANSITION_TIME,transitionEasing:w.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,h,{isTransitioning:h._transitioning}),fe.call(v,Z,V,h,{hovered:!1}),Z._text=Z.x0===Z.x1||Z.y0===Z.y1?"":c(Z,b,V,d,_)||"";var re=k.ensureSingle(q,"g","slicetext"),$=k.ensureSingle(re,"text","",function(se){se.attr("data-notex",1)}),le=k.ensureUniformFontSize(h,r.determineTextFont(V,Z,_.font));$.text(Z._text||" ").classed("slicetext",!0).attr("text-anchor",U?"end":H?"start":"middle").call(l.font,le).call(R.convertToTspans,h),Z.textBB=l.bBox($.node()),Z.transform=L(Z,{fontSize:le.size}),Z.transform.fontSize=le.size,E?$.transition().attrTween("transform",function(se){var de=D(se,o,Q(),[m,u]);return function(we){return x(de(we))}}):$.attr("transform",x(Z))}),pe}},69816:function(oe,J,t){"use strict";oe.exports={moduleType:"trace",name:"icicle",basePlotModule:t(96346),categories:[],animatable:!0,attributes:t(46291),layoutAttributes:t(92894),supplyDefaults:t(56524),supplyLayoutDefaults:t(21070),calc:t(46584).y,crossTraceCalc:t(46584).T,plot:t(85596),style:t(82454).style,colorbar:t(4898),meta:{}}},92894:function(oe){"use strict";oe.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(oe,J,t){"use strict";var S=t(71828),k=t(92894);oe.exports=function(R,I){function v(w,r){return S.coerce(R,I,k,w,r)}v("iciclecolorway",I.colorway),v("extendiciclecolors")}},21538:function(oe,J,t){"use strict";var S=t(674),k=t(14102);oe.exports=function(R,I,v){var w=v.flipX,r=v.flipY,n="h"===v.orientation,c=v.maxDepth,o=I[0],f=I[1];c&&(o=(R.height+1)*I[0]/Math.min(R.height+1,c),f=(R.height+1)*I[1]/Math.min(R.height+1,c));var h=S.partition().padding(v.pad.inner).size(n?[I[1],o]:[I[0],f])(R);return(n||w||r)&&k(h,I,{swapXY:n,flipX:w,flipY:r}),h}},85596:function(oe,J,t){"use strict";var S=t(80694),k=t(90666);oe.exports=function(R,I,v,w){return S(R,I,v,w,{type:"icicle",drawDescendants:k})}},82454:function(oe,J,t){"use strict";var S=t(39898),k=t(7901),l=t(71828),R=t(72597).resizeText,I=t(43467);function w(r,n,c,o){var h=!n.children,d=n.data.data.i,b=l.castOption(c,d,"marker.line.color")||k.defaultLine,p=l.castOption(c,d,"marker.line.width")||0;r.call(I,n,c,o).style("stroke-width",p).call(k.stroke,b).style("opacity",h?c.leaf.opacity:null)}oe.exports={style:function v(r){var n=r._fullLayout._iciclelayer.selectAll(".trace");R(r,n,"icicle"),n.each(function(c){var o=S.select(this),h=c[0].trace;o.style("opacity",h.opacity),o.selectAll("path.surface").each(function(d){S.select(this).call(w,d,h,r)})})},styleOne:w}},17230:function(oe,J,t){"use strict";for(var S=t(9012),k=t(5386).fF,l=t(1426).extendFlat,R=t(51877).colormodel,I=["rgb","rgba","rgba256","hsl","hsla"],v=[],w=[],r=0;r<I.length;r++){var n=R[I[r]];v.push("For the `"+I[r]+"` colormodel, it is ["+(n.zminDflt||n.min).join(", ")+"]."),w.push("For the `"+I[r]+"` colormodel, it is ["+(n.zmaxDflt||n.max).join(", ")+"].")}oe.exports=l({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:I,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:l({},S.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:k({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(oe,J,t){"use strict";var S=t(71828),k=t(51877),l=t(92770),R=t(89298),I=t(71828).maxRowLength,v=t(67395).A;function w(c,o,f,h){return function(d){return S.constrain((d-c)*o,f,h)}}function r(c,o){return function(f){return S.constrain(f,c,o)}}oe.exports=function(o,f){var h,d;if(f._hasZ)h=f.z.length,d=I(f.z);else if(f._hasSource){var b=v(f.source);h=b.height,d=b.width}var g,p=R.getFromId(o,f.xaxis||"x"),A=R.getFromId(o,f.yaxis||"y"),m=p.d2c(f.x0)-f.dx/2,u=A.d2c(f.y0)-f.dy/2,C=[m,m+d*f.dx],T=[u,u+h*f.dy];if(p&&"log"===p.type)for(g=0;g<d;g++)C.push(m+g*f.dx);if(A&&"log"===A.type)for(g=0;g<h;g++)T.push(u+g*f.dy);return f._extremes[p._id]=R.findExtremes(p,C),f._extremes[A._id]=R.findExtremes(A,T),f._scaler=function n(c){var o=k.colormodel[c.colormodel],h=(o.colormodel||c.colormodel).length;c._sArray=[];for(var d=0;d<h;d++)c._sArray.push(o.min[d]!==c.zmin[d]||o.max[d]!==c.zmax[d]?w(c.zmin[d],(o.max[d]-o.min[d])/(c.zmax[d]-c.zmin[d]),o.min[d],o.max[d]):r(o.min[d],o.max[d]));return function(b){for(var p=b.slice(0,h),A=0;A<h;A++){var m=p[A];if(!l(m))return!1;p[A]=c._sArray[A](m)}return p}}(f),[{x0:m,y0:u,z:f.z,w:d,h}]}},51877:function(oe){"use strict";oe.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(J){return J.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(J){return J.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(J){return J.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(J){var t=J.slice(0,3);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["\xb0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(J){var t=J.slice(0,4);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["\xb0","%","%",""]}}}},13245:function(oe,J,t){"use strict";var S=t(71828),k=t(17230),l=t(51877),R=t(25095).IMAGE_URL_PREFIX;oe.exports=function(v,w){function r(o,f){return S.coerce(v,w,k,o,f)}r("source"),w.source&&!w.source.match(R)&&delete w.source,w._hasSource=!!w.source;var c,n=r("z");w._hasZ=!(void 0===n||!n.length||!n[0]||!n[0].length),w._hasZ||w._hasSource?(r("x0"),r("y0"),r("dx"),r("dy"),w._hasZ?(r("colormodel","rgb"),r("zmin",(c=l.colormodel[w.colormodel]).zminDflt||c.min),r("zmax",c.zmaxDflt||c.max)):w._hasSource&&(w.colormodel="rgba256",w.zmin=(c=l.colormodel[w.colormodel]).zminDflt,w.zmax=c.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),w._length=null):w.visible=!1}},30835:function(oe){"use strict";oe.exports=function(t,S){return"xVal"in S&&(t.x=S.xVal),"yVal"in S&&(t.y=S.yVal),S.xa&&(t.xaxis=S.xa),S.ya&&(t.yaxis=S.ya),t.color=S.color,t.colormodel=S.trace.colormodel,t.z||(t.z=S.color),t}},67395:function(oe,J,t){"use strict";var S=t(33575),k=t(25095).IMAGE_URL_PREFIX,l=t(12856).Buffer;J.A=function(R){var I=R.replace(k,""),v=new l(I,"base64");return S(v)}},28749:function(oe,J,t){"use strict";var S=t(30211),k=t(71828),l=t(51877);oe.exports=function(I,v,w){var r=I.cd[0],n=r.trace,c=I.xa,o=I.ya;if(!(S.inbox(v-r.x0,v-(r.x0+r.w*n.dx),0)>0||S.inbox(w-r.y0,w-(r.y0+r.h*n.dy),0)>0)){var d,f=Math.floor((v-r.x0)/n.dx),h=Math.floor(Math.abs(w-r.y0)/n.dy);if(n._hasZ?d=r.z[h][f]:n._hasSource&&(d=n._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(f,h,1,1).data),d){var p,b=r.hi||n.hoverinfo;if(b){var A=b.split("+");-1!==A.indexOf("all")&&(A=["color"]),-1!==A.indexOf("color")&&(p=!0)}var x,m=l.colormodel[n.colormodel],u=m.colormodel||n.colormodel,g=u.length,C=n._scaler(d),T=m.suffix,L=[];(n.hovertemplate||p)&&(L.push("["+[C[0]+T[0],C[1]+T[1],C[2]+T[2]].join(", ")),4===g&&L.push(", "+C[3]+T[3]),L.push("]"),L=L.join(""),I.extraText=u.toUpperCase()+": "+L),Array.isArray(n.hovertext)&&Array.isArray(n.hovertext[h])?x=n.hovertext[h][f]:Array.isArray(n.text)&&Array.isArray(n.text[h])&&(x=n.text[h][f]);var E=o.c2p(r.y0+(h+.5)*n.dy),M=r.x0+(f+.5)*n.dx,i=r.y0+(h+.5)*n.dy,D="["+d.slice(0,n.colormodel.length).join(", ")+"]";return[k.extendFlat(I,{index:[h,f],x0:c.c2p(r.x0+f*n.dx),x1:c.c2p(r.x0+(f+1)*n.dx),y0:E,y1:E,color:C,xVal:M,xLabelVal:M,yVal:i,yLabelVal:i,zLabelVal:D,text:x,hovertemplateLabels:{zLabel:D,colorLabel:L,"color[0]Label":C[0]+T[0],"color[1]Label":C[1]+T[1],"color[2]Label":C[2]+T[2],"color[3]Label":C[3]+T[3]}})]}}}},94507:function(oe,J,t){"use strict";oe.exports={attributes:t(17230),supplyDefaults:t(13245),calc:t(71113),plot:t(60775),style:t(12826),hoverPoints:t(28749),eventData:t(30835),moduleType:"trace",name:"image",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=k.strTranslate,R=t(77922),I=t(51877),v=t(3883),w=t(32396).STYLE;oe.exports=function(n,c,o,f){var h=c.xaxis,d=c.yaxis,b=!n._context._exportedPlot&&v();k.makeTraceGroups(f,o,"im").each(function(p){var A=S.select(this),m=p[0],u=m.trace,g=("fast"===u.zsmooth||!1===u.zsmooth&&b)&&!u._hasZ&&u._hasSource&&"linear"===h.type&&"linear"===d.type;u._realImage=g;var D,y,B,F,_,z,C=m.z,T=m.x0,L=m.y0,x=m.w,E=m.h,M=u.dx,i=u.dy;for(z=0;void 0===D&&z<x;)D=h.c2p(T+z*M),z++;for(z=x;void 0===y&&z>0;)y=h.c2p(T+z*M),z--;for(z=0;void 0===F&&z<E;)F=d.c2p(L+z*i),z++;for(z=E;void 0===_&&z>0;)_=d.c2p(L+z*i),z--;if(y<D&&(B=y,y=D,D=B),_<F&&(B=F,F=_,_=B),!g){var V=.5;D=Math.max(-V*h._length,D),y=Math.min(1.5*h._length,y),F=Math.max(-V*d._length,F),_=Math.min(1.5*d._length,_)}var H=Math.round(y-D),U=Math.round(_-F);if(H<=0||U<=0)A.selectAll("image").data([]).exit().remove();else{var ue=A.selectAll("image").data([p]);ue.enter().append("svg:image").attr({xmlns:R.svg,preserveAspectRatio:"none"}),ue.exit().remove();var ce=!1===u.zsmooth?w:"";if(g){var pe=k.simpleMap(h.range,h.r2l),te=k.simpleMap(d.range,d.r2l),Q=pe[1]<pe[0],K=te[1]>te[0];if(Q||K){var Z=D+H/2,q=F+U/2;ce+="transform:"+l(Z+"px",q+"px")+"scale("+(Q?-1:1)+","+(K?-1:1)+")"+l(-Z+"px",-q+"px")+";"}}ue.attr("style",ce);var fe=new Promise(function(re){if(u._hasZ)re();else if(u._hasSource)if(u._canvas&&u._canvas.el.width===x&&u._canvas.el.height===E&&u._canvas.source===u.source)re();else{var $=document.createElement("canvas");$.width=x,$.height=E;var le=$.getContext("2d",{willReadFrequently:!0});u._image=u._image||new Image;var se=u._image;se.onload=function(){le.drawImage(se,0,0),u._canvas={el:$,source:u.source},re()},se.setAttribute("src",u.source)}}).then(function(){var re;if(u._hasZ)re=ee(function(de,we){return C[we][de]}).toDataURL("image/png");else if(u._hasSource)if(g)re=u.source;else{var se=u._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,x,E).data;re=ee(function(de,we){var Ee=4*(we*x+de);return[se[Ee],se[Ee+1],se[Ee+2],se[Ee+3]]}).toDataURL("image/png")}ue.attr({"xlink:href":re,height:U,width:H,x:D,y:F})});n._promises.push(fe)}function ee(re){var $=document.createElement("canvas");$.width=H,$.height=U;var Ne,le=$.getContext("2d",{willReadFrequently:!0}),se=function(Qe){return k.constrain(Math.round(h.c2p(T+Qe*M)-D),0,H)},de=function(Qe){return k.constrain(Math.round(d.c2p(L+Qe*i)-F),0,U)},we=I.colormodel[u.colormodel],Ee=we.colormodel||u.colormodel,Me=we.fmt;for(z=0;z<m.w;z++){var Ve=se(z),Pe=se(z+1);if(Pe!==Ve&&!isNaN(Pe)&&!isNaN(Ve))for(var Ce=0;Ce<m.h;Ce++){var Ie=de(Ce),Je=de(Ce+1);Je===Ie||isNaN(Je)||isNaN(Ie)||!re(z,Ce)||(Ne=u._scaler(re(z,Ce)),le.fillStyle=Ne?Ee+"("+Me(Ne).join(",")+")":"rgba(0,0,0,0)",le.fillRect(Ve,Ie,Pe-Ve,Je-Ie))}}return $}})}},12826:function(oe,J,t){"use strict";var S=t(39898);oe.exports=function(l){S.select(l).selectAll(".im image").style("opacity",function(R){return R[0].trace.opacity})}},54846:function(oe,J,t){"use strict";var S=t(1426).extendFlat,k=t(1426).extendDeep,l=t(30962).overrideAll,R=t(41940),I=t(22399),v=t(27670).Y,w=t(13838),r=t(44467).templatedArray,n=t(22372),c=t(12663).descriptionOnlyNumbers,o=R({editType:"plot",colorEditType:"plot"}),f={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:I.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},h={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},d=r("step",k({},f,{range:h}));oe.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:S({},o,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:c("value")},font:S({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:c("value")},increasing:{symbol:{valType:"string",dflt:n.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:n.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:n.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:n.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:S({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:k({},f,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:I.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:l({range:h,visible:S({},w.visible,{dflt:!0}),tickmode:w.minor.tickmode,nticks:w.nticks,tick0:w.tick0,dtick:w.dtick,tickvals:w.tickvals,ticktext:w.ticktext,ticks:S({},w.ticks,{dflt:"outside"}),ticklen:w.ticklen,tickwidth:w.tickwidth,tickcolor:w.tickcolor,ticklabelstep:w.ticklabelstep,showticklabels:w.showticklabels,labelalias:w.labelalias,tickfont:R({}),tickangle:w.tickangle,tickformat:w.tickformat,tickformatstops:w.tickformatstops,tickprefix:w.tickprefix,showtickprefix:w.showtickprefix,ticksuffix:w.ticksuffix,showticksuffix:w.showticksuffix,separatethousands:w.separatethousands,exponentformat:w.exponentformat,minexponent:w.minexponent,showexponent:w.showexponent,editType:"plot"},"plot"),steps:d,threshold:{line:{color:S({},f.line.color,{}),width:S({},f.line.width,{dflt:1}),editType:"plot"},thickness:S({},f.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(oe,J,t){"use strict";var S=t(74875);J.name="indicator",J.plot=function(k,l,R,I){S.plotBasePlot(J.name,k,l,R,I)},J.clean=function(k,l,R,I){S.cleanBasePlot(J.name,k,l,R,I)}},24667:function(oe){"use strict";oe.exports={calc:function J(t,S){var k=[],l=S.value;"number"!=typeof S._lastValue&&(S._lastValue=S.value);var R=S._lastValue,I=R;return S._hasDelta&&"number"==typeof S.delta.reference&&(I=S.delta.reference),k[0]={y:l,lastY:R,delta:l-I,relativeDelta:(l-I)/I},k}}},84577:function(oe){"use strict";oe.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(oe,J,t){"use strict";var S=t(71828),k=t(54846),l=t(27670).c,R=t(44467),I=t(85501),v=t(84577),w=t(26218),r=t(38701),n=t(96115),c=t(89426);function f(h,d){function b(p,A){return S.coerce(h,d,k.gauge.steps,p,A)}b("color"),b("line.color"),b("line.width"),b("range"),b("thickness")}oe.exports={supplyDefaults:function o(h,d,b,p){function A(_,z){return S.coerce(h,d,k,_,z)}l(d,p,A),A("mode"),d._hasNumber=-1!==d.mode.indexOf("number"),d._hasDelta=-1!==d.mode.indexOf("delta"),d._hasGauge=-1!==d.mode.indexOf("gauge");var m=A("value");d._range=[0,"number"==typeof m?1.5*m:1];var g,C,T,L,x,E,u=new Array(2);function M(_,z){return S.coerce(T,L,k.gauge,_,z)}function i(_,z){return S.coerce(x,E,k.gauge.axis,_,z)}if(d._hasNumber&&(A("number.valueformat"),A("number.font.color",p.font.color),A("number.font.family",p.font.family),A("number.font.size"),void 0===d.number.font.size&&(d.number.font.size=v.defaultNumberFontSize,u[0]=!0),A("number.prefix"),A("number.suffix"),g=d.number.font.size),d._hasDelta&&(A("delta.font.color",p.font.color),A("delta.font.family",p.font.family),A("delta.font.size"),void 0===d.delta.font.size&&(d.delta.font.size=(d._hasNumber?.5:1)*(g||v.defaultNumberFontSize),u[1]=!0),A("delta.reference",d.value),A("delta.relative"),A("delta.valueformat",d.delta.relative?"2%":""),A("delta.increasing.symbol"),A("delta.increasing.color"),A("delta.decreasing.symbol"),A("delta.decreasing.color"),A("delta.position"),A("delta.prefix"),A("delta.suffix"),C=d.delta.font.size),d._scaleNumbers=(!d._hasNumber||u[0])&&(!d._hasDelta||u[1])||!1,A("title.font.color",p.font.color),A("title.font.family",p.font.family),A("title.font.size",.25*(g||C||v.defaultNumberFontSize)),A("title.text"),d._hasGauge){(T=h.gauge)||(T={}),L=R.newContainer(d,"gauge"),M("shape"),(d._isBullet="bullet"===d.gauge.shape)||A("title.align","center"),(d._isAngular="angular"===d.gauge.shape)||A("align","center"),M("bgcolor",p.paper_bgcolor),M("borderwidth"),M("bordercolor"),M("bar.color"),M("bar.line.color"),M("bar.line.width"),M("bar.thickness",v.valueThickness*("bullet"===d.gauge.shape?.5:1)),I(T,L,{name:"steps",handleItemDefaults:f}),M("threshold.value"),M("threshold.thickness"),M("threshold.line.width"),M("threshold.line.color"),x={},T&&(x=T.axis||{}),E=R.newContainer(L,"axis"),i("visible"),d._range=i("range",d._range);var F={outerTicks:!0};w(x,E,i,"linear"),c(x,E,i,"linear",F),n(x,E,i,"linear",F),r(x,E,i,F)}else A("title.align","center"),A("align","center"),d._isAngular=d._isBullet=!1;d._length=null}}},15154:function(oe,J,t){"use strict";oe.exports={moduleType:"trace",name:"indicator",basePlotModule:t(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:t(54846),supplyDefaults:t(94425).supplyDefaults,calc:t(24667).calc,plot:t(75634),meta:{}}},75634:function(oe,J,t){"use strict";var S=t(39898),k=t(81684).sX,l=t(81684).k4,R=t(71828),I=R.strScale,v=R.strTranslate,w=R.rad2deg,r=t(18783).MID_SHIFT,n=t(91424),c=t(84577),o=t(63893),f=t(89298),h=t(71453),d=t(52830),b=t(13838),p=t(7901),A={left:"start",center:"middle",right:"end"},m={left:0,center:.5,right:1},u=/[yzafpn\xb5mkMGTPEZY]/;function g(F){return F&&F.duration>0}function T(F,_,z,V){var $,le,se,de,H=z[0].trace,U=V.size,G=V.radius,Y=V.innerRadius,ee=V.gaugeBg,ue=V.gaugeOutline,ce=[U.l+U.w/2,U.t+U.h/2+G/2],pe=V.gauge,te=V.layer,Q=V.transitionOpts,K=V.onComplete,Z=Math.PI/2;function q(je){var lt=H.gauge.axis.range[0],pt=(je-lt)/(H.gauge.axis.range[1]-lt)*Math.PI-Z;return pt<-Z?-Z:pt>Z?Z:pt}function fe(je){return S.svg.arc().innerRadius((Y+G)/2-je/2*(G-Y)).outerRadius((Y+G)/2+je/2*(G-Y)).startAngle(-Z)}function re(je){je.attr("d",function(lt){return fe(lt.thickness).startAngle(q(lt.range[0])).endAngle(q(lt.range[1]))()})}pe.enter().append("g").classed("angular",!0),pe.attr("transform",v(ce[0],ce[1])),te.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),te.selectAll("g.xangularaxistick,path,text").remove(),($=M(F,H.gauge.axis)).type="linear",$.range=H.gauge.axis.range,$._id="xangularaxis",$.ticklabeloverflow="allow",$.setScale();var we=function(je){return($.range[0]-je.x)/($.range[1]-$.range[0])*Math.PI+Math.PI},Ee={},Ne=f.makeLabelFns($,0).labelStandoff;Ee.xFn=function(je){var lt=we(je);return Math.cos(lt)*Ne},Ee.yFn=function(je){var lt=we(je),vt=Math.sin(lt)>0?.2:1;return-Math.sin(lt)*(Ne+je.fontSize*vt)+Math.abs(Math.cos(lt))*(je.fontSize*r)},Ee.anchorFn=function(je){var lt=we(je),vt=Math.cos(lt);return Math.abs(vt)<.1?"middle":vt>0?"start":"end"},Ee.heightFn=function(je,lt,vt){var pt=we(je);return-.5*(1+Math.sin(pt))*vt};var Ve=function(je){return v(ce[0]+G*Math.cos(je),ce[1]-G*Math.sin(je))};se=function(je){return Ve(we(je))};le=f.calcTicks($),de=f.getTickSigns($)[2],$.visible&&(f.drawTicks(F,$,{vals:le,layer:te,path:"M"+(de="inside"===$.ticks?-1:1)*(($.linewidth||1)/2)+",0h"+de*$.ticklen,transFn:function(je){var lt=we(je);return Ve(lt)+"rotate("+-w(lt)+")"}}),f.drawLabels(F,$,{vals:le,layer:te,transFn:se,labelFns:Ee}));var Ie=[ee].concat(H.gauge.steps),Je=pe.selectAll("g.bg-arc").data(Ie);Je.enter().append("g").classed("bg-arc",!0).append("path"),Je.select("path").call(re).call(x),Je.exit().remove();var Qe=fe(H.gauge.bar.thickness),ze=pe.selectAll("g.value-arc").data([H.gauge.bar]);ze.enter().append("g").classed("value-arc",!0).append("path");var Ke=ze.select("path");g(Q)?(Ke.transition().duration(Q.duration).ease(Q.easing).each("end",function(){K&&K()}).each("interrupt",function(){K&&K()}).attrTween("d",function E(F,_,z){return function(){var V=k(_,z);return function(H){return F.endAngle(V(H))()}}}(Qe,q(z[0].lastY),q(z[0].y))),H._lastValue=z[0].y):Ke.attr("d","number"==typeof z[0].y?Qe.endAngle(q(z[0].y)):"M0,0Z"),Ke.call(x),ze.exit().remove(),Ie=[];var ut=H.gauge.threshold.value;(ut||0===ut)&&Ie.push({range:[ut,ut],color:H.gauge.threshold.color,line:{color:H.gauge.threshold.line.color,width:H.gauge.threshold.line.width},thickness:H.gauge.threshold.thickness});var ot=pe.selectAll("g.threshold-arc").data(Ie);ot.enter().append("g").classed("threshold-arc",!0).append("path"),ot.select("path").call(re).call(x),ot.exit().remove();var We=pe.selectAll("g.gauge-outline").data([ue]);We.enter().append("g").classed("gauge-outline",!0).append("path"),We.select("path").call(re).call(x),We.exit().remove()}function x(F){F.each(function(_){p.stroke(S.select(this),_.line.color)}).each(function(_){p.fill(S.select(this),_.color)}).style("stroke-width",function(_){return _.line.width})}function M(F,_,z){var V=F._fullLayout,H=R.extendFlat({type:"linear",ticks:"outside",range:z,showline:!0},_),U={type:"linear",_id:"x"+_._id},G={letter:"x",font:V.font,noHover:!0,noTickson:!0};function Y(ee,ue){return R.coerce(H,U,b,ee,ue)}return h(H,U,Y,G,V),d(H,U,Y,G),U}function i(F,_,z){return[Math.min(_/F.width,z/F.height),F,_+"x"+z]}function y(F,_,z,V){var H=document.createElementNS("http://www.w3.org/2000/svg","text"),U=S.select(H);return U.text(F).attr("x",0).attr("y",0).attr("text-anchor",z).attr("data-unformatted",F).call(o.convertToTspans,V).call(n.font,_),n.bBox(U.node())}function B(F,_,z,V,H,U){var G="_cache"+_;F[G]&&F[G].key===H||(F[G]={key:H,value:z});var Y=R.aggNums(U,null,[F[G].value,V],2);return F[G].value=Y,Y}oe.exports=function(_,z,V,H){var G,U=_._fullLayout;g(V)&&H&&(G=H()),R.makeTraceGroups(U._indicatorlayer,z,"trace").each(function(Y){var le,se,de,Ne,Ve,ue=Y[0].trace,ce=S.select(this),pe=ue._hasGauge,te=ue._isAngular,Q=ue._isBullet,K=ue.domain,Z={w:U._size.w*(K.x[1]-K.x[0]),h:U._size.h*(K.y[1]-K.y[0]),l:U._size.l+U._size.w*K.x[0],r:U._size.r+U._size.w*(1-K.x[1]),t:U._size.t+U._size.h*(1-K.y[1]),b:U._size.b+U._size.h*K.y[0]},q=Z.l+Z.w/2,fe=Z.t+Z.h/2,re=Math.min(Z.w/2,Z.h),$=c.innerRadius*re,we=ue.align||"center";if(se=fe,pe){if(te&&(le=q,se=fe+re/2,de=function(ze){return function D(F,_){return[_/Math.sqrt(F.width/2*(F.width/2)+F.height*F.height),F,_]}(ze,.9*$)}),Q){var Ee=c.bulletPadding,Me=1-c.bulletNumberDomainSize+Ee;le=Z.l+(Me+(1-Me)*m[we])*Z.w,de=function(ze){return i(ze,(c.bulletNumberDomainSize-Ee)*Z.w,Z.h)}}}else le=Z.l+m[we]*Z.w,de=function(ze){return i(ze,Z.w,Z.h)};(function L(F,_,z,V){var te,Q,K,H=z[0].trace,U=V.numbersX,G=V.numbersY,Y=H.align||"center",ee=A[Y],ue=V.transitionOpts,ce=V.onComplete,pe=R.ensureSingle(_,"g","numbers"),Z=[];H._hasNumber&&Z.push("number"),H._hasDelta&&(Z.push("delta"),"left"===H.delta.position&&Z.reverse());var q=pe.selectAll("text").data(Z);function fe(Ve,Pe,Ce,Ie){if(!Ve.match("s")||Ce>=0==Ie>=0||Pe(Ce).slice(-1).match(u)||Pe(Ie).slice(-1).match(u))return Pe;var Je=Ve.slice().replace("s","f").replace(/\d+/,function(ze){return parseInt(ze)-1}),Qe=M(F,{tickformat:Je});return function(ze){return Math.abs(ze)<1?f.tickText(Qe,ze).text:Pe(ze)}}q.enter().append("text"),q.attr("text-anchor",function(){return ee}).attr("class",function(Ve){return Ve}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),q.exit().remove();var se,le=H.mode+H.align;if(H._hasDelta&&(se=function $(){var Ve=M(F,{tickformat:H.delta.valueformat},H._range);Ve.setScale(),f.prepTicks(Ve);var Pe=function(ot){return f.tickText(Ve,ot).text},Ce=H.delta.suffix,Ie=H.delta.prefix,Je=function(ot){return H.delta.relative?ot.relativeDelta:ot.delta},Qe=function(ot,We){return 0===ot||"number"!=typeof ot||isNaN(ot)?"-":(ot>0?H.delta.increasing.symbol:H.delta.decreasing.symbol)+Ie+We(ot)+Ce},ze=function(ot){return ot.delta>=0?H.delta.increasing.color:H.delta.decreasing.color};void 0===H._deltaLastValue&&(H._deltaLastValue=Je(z[0]));var Ke=pe.select("text.delta");function ut(){Ke.text(Qe(Je(z[0]),Pe)).call(p.fill,ze(z[0])).call(o.convertToTspans,F)}return Ke.call(n.font,H.delta.font).call(p.fill,ze({delta:H._deltaLastValue})),g(ue)?Ke.transition().duration(ue.duration).ease(ue.easing).tween("text",function(){var ot=S.select(this),We=Je(z[0]),je=H._deltaLastValue,lt=fe(H.delta.valueformat,Pe,je,We),vt=l(je,We);return H._deltaLastValue=We,function(pt){ot.text(Qe(vt(pt),lt)),ot.call(p.fill,ze({delta:vt(pt)}))}}).each("end",function(){ut(),ce&&ce()}).each("interrupt",function(){ut(),ce&&ce()}):ut(),Q=y(Qe(Je(z[0]),Pe),H.delta.font,ee,F),Ke}(),le+=H.delta.position+H.delta.font.size+H.delta.font.family+H.delta.valueformat,le+=H.delta.increasing.symbol+H.delta.decreasing.symbol,K=Q),H._hasNumber&&(function re(){var Ve=M(F,{tickformat:H.number.valueformat},H._range);Ve.setScale(),f.prepTicks(Ve);var Pe=function(ze){return f.tickText(Ve,ze).text},Ce=H.number.suffix,Ie=H.number.prefix,Je=pe.select("text.number");function Qe(){var ze="number"==typeof z[0].y?Ie+Pe(z[0].y)+Ce:"-";Je.text(ze).call(n.font,H.number.font).call(o.convertToTspans,F)}g(ue)?Je.transition().duration(ue.duration).ease(ue.easing).each("end",function(){Qe(),ce&&ce()}).each("interrupt",function(){Qe(),ce&&ce()}).attrTween("text",function(){var ze=S.select(this),Ke=l(z[0].lastY,z[0].y);H._lastValue=z[0].y;var ut=fe(H.number.valueformat,Pe,z[0].lastY,z[0].y);return function(ot){ze.text(Ie+ut(Ke(ot))+Ce)}}):Qe(),te=y(Ie+Pe(z[0].y)+Ce,H.number.font,ee,F)}(),le+=H.number.font.size+H.number.font.family+H.number.valueformat+H.number.suffix+H.number.prefix,K=te),H._hasDelta&&H._hasNumber){var Ee,Me,de=[(te.left+te.right)/2,(te.top+te.bottom)/2],we=[(Q.left+Q.right)/2,(Q.top+Q.bottom)/2],Ne=.75*H.delta.font.size;"left"===H.delta.position&&(Ee=B(H,"deltaPos",0,-1*(te.width*m[H.align]+Q.width*(1-m[H.align])+Ne),le,Math.min),Me=de[1]-we[1],K={width:te.width+Q.width+Ne,height:Math.max(te.height,Q.height),left:Q.left+Ee,right:te.right,top:Math.min(te.top,Q.top+Me),bottom:Math.max(te.bottom,Q.bottom+Me)}),"right"===H.delta.position&&(Ee=B(H,"deltaPos",0,te.width*(1-m[H.align])+Q.width*m[H.align]+Ne,le,Math.max),Me=de[1]-we[1],K={width:te.width+Q.width+Ne,height:Math.max(te.height,Q.height),left:te.left,right:Q.right+Ee,top:Math.min(te.top,Q.top+Me),bottom:Math.max(te.bottom,Q.bottom+Me)}),"bottom"===H.delta.position&&(Ee=null,Me=Q.height,K={width:Math.max(te.width,Q.width),height:te.height+Q.height,left:Math.min(te.left,Q.left),right:Math.max(te.right,Q.right),top:te.bottom-te.height,bottom:te.bottom+Q.height}),"top"===H.delta.position&&(Ee=null,Me=te.top,K={width:Math.max(te.width,Q.width),height:te.height+Q.height,left:Math.min(te.left,Q.left),right:Math.max(te.right,Q.right),top:te.bottom-te.height-Q.height,bottom:te.bottom}),se.attr({dx:Ee,dy:Me})}(H._hasNumber||H._hasDelta)&&pe.attr("transform",function(){var Ce,Ve=V.numbersScaler(K),Pe=B(H,"numbersScale",1,Ve[0],le+=Ve[2],Math.min);H._scaleNumbers||(Pe=1),H._numbersTop=Pe*K.top+(Ce=H._isAngular?G-Pe*K.bottom:G-Pe*(K.top+K.bottom)/2);var Ie=K[Y];"center"===Y&&(Ie=(K.left+K.right)/2);var Je=U-Pe*Ie;return Je=B(H,"numbersTranslate",0,Je,le,Math.max),v(Je,Ce)+I(Pe)})})(_,ce,Y,{numbersX:le,numbersY:se,numbersScaler:de,transitionOpts:V,onComplete:G}),pe&&(Ne={range:ue.gauge.axis.range,color:ue.gauge.bgcolor,line:{color:ue.gauge.bordercolor,width:0},thickness:1},Ve={range:ue.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ue.gauge.bordercolor,width:ue.gauge.borderwidth},thickness:1});var Pe=ce.selectAll("g.angular").data(te?Y:[]);Pe.exit().remove();var Ce=ce.selectAll("g.angularaxis").data(te?Y:[]);Ce.exit().remove(),te&&T(_,0,Y,{radius:re,innerRadius:$,gauge:Pe,layer:Ce,size:Z,gaugeBg:Ne,gaugeOutline:Ve,transitionOpts:V,onComplete:G});var Ie=ce.selectAll("g.bullet").data(Q?Y:[]);Ie.exit().remove();var Je=ce.selectAll("g.bulletaxis").data(Q?Y:[]);Je.exit().remove(),Q&&function C(F,_,z,V){var Q,K,Z,q,fe,H=z[0].trace,U=V.gauge,G=V.layer,Y=V.gaugeBg,ee=V.gaugeOutline,ue=V.size,ce=H.domain,pe=V.transitionOpts,te=V.onComplete;U.enter().append("g").classed("bullet",!0),U.attr("transform",v(ue.l,ue.t)),G.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),G.selectAll("g.xbulletaxistick,path,text").remove();var re=ue.h,$=H.gauge.bar.thickness*re,le=ce.x[0],se=ce.x[0]+(ce.x[1]-ce.x[0])*(H._hasNumber||H._hasDelta?1-c.bulletNumberDomainSize:1);function de(Ce){Ce.attr("width",function(Ie){return Math.max(0,Q.c2p(Ie.range[1])-Q.c2p(Ie.range[0]))}).attr("x",function(Ie){return Q.c2p(Ie.range[0])}).attr("y",function(Ie){return.5*(1-Ie.thickness)*re}).attr("height",function(Ie){return Ie.thickness*re})}(Q=M(F,H.gauge.axis))._id="xbulletaxis",Q.domain=[le,se],Q.setScale(),K=f.calcTicks(Q),Z=f.makeTransTickFn(Q),q=f.getTickSigns(Q)[2],fe=ue.t+ue.h,Q.visible&&(f.drawTicks(F,Q,{vals:"inside"===Q.ticks?f.clipEnds(Q,K):K,layer:G,path:f.makeTickPath(Q,fe,q),transFn:Z}),f.drawLabels(F,Q,{vals:K,layer:G,transFn:Z,labelFns:f.makeLabelFns(Q,fe)}));var we=[Y].concat(H.gauge.steps),Ee=U.selectAll("g.bg-bullet").data(we);Ee.enter().append("g").classed("bg-bullet",!0).append("rect"),Ee.select("rect").call(de).call(x),Ee.exit().remove();var Me=U.selectAll("g.value-bullet").data([H.gauge.bar]);Me.enter().append("g").classed("value-bullet",!0).append("rect"),Me.select("rect").attr("height",$).attr("y",(re-$)/2).call(x),g(pe)?Me.select("rect").transition().duration(pe.duration).ease(pe.easing).each("end",function(){te&&te()}).each("interrupt",function(){te&&te()}).attr("width",Math.max(0,Q.c2p(Math.min(H.gauge.axis.range[1],z[0].y)))):Me.select("rect").attr("width","number"==typeof z[0].y?Math.max(0,Q.c2p(Math.min(H.gauge.axis.range[1],z[0].y))):0),Me.exit().remove();var Ne=z.filter(function(){return H.gauge.threshold.value||0===H.gauge.threshold.value}),Ve=U.selectAll("g.threshold-bullet").data(Ne);Ve.enter().append("g").classed("threshold-bullet",!0).append("line"),Ve.select("line").attr("x1",Q.c2p(H.gauge.threshold.value)).attr("x2",Q.c2p(H.gauge.threshold.value)).attr("y1",(1-H.gauge.threshold.thickness)/2*re).attr("y2",(1-(1-H.gauge.threshold.thickness)/2)*re).call(p.stroke,H.gauge.threshold.line.color).style("stroke-width",H.gauge.threshold.line.width),Ve.exit().remove();var Pe=U.selectAll("g.gauge-outline").data([ee]);Pe.enter().append("g").classed("gauge-outline",!0).append("rect"),Pe.select("rect").call(de).call(x),Pe.exit().remove()}(_,0,Y,{gauge:Ie,layer:Je,size:Z,gaugeBg:Ne,gaugeOutline:Ve,transitionOpts:V,onComplete:G});var Qe=ce.selectAll("text.title").data(Y);Qe.exit().remove(),Qe.enter().append("text").classed("title",!0),Qe.attr("text-anchor",function(){return Q?A.right:A[ue.title.align]}).text(ue.title.text).call(n.font,ue.title.font).call(o.convertToTspans,_),Qe.attr("transform",function(){var Ke,ze=Z.l+Z.w*m[ue.title.align],ut=c.titlePadding,ot=n.bBox(Qe.node());return pe?(te&&(Ke=ue.gauge.axis.visible?n.bBox(Ce.node()).top-ut-ot.bottom:Z.t+Z.h/2-re/2-ot.bottom-ut),Q&&(Ke=se-(ot.top+ot.bottom)/2,ze=Z.l-c.bulletPadding*Z.w)):Ke=ue._numbersTop-ut-ot.bottom,v(ze,Ke)})})}},16249:function(oe,J,t){"use strict";var S=t(50693),k=t(12663).axisHoverFormat,l=t(5386).fF,R=t(2418),I=t(9012),v=t(1426).extendFlat,w=t(30962).overrideAll;var c=oe.exports=w(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:l(),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),valuehoverformat:k("value",1),showlegend:v({},I.showlegend,{dflt:!1})},S("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:R.opacity,lightposition:R.lightposition,lighting:R.lighting,flatshading:R.flatshading,contour:R.contour,hoverinfo:v({},I.hoverinfo)}),"calc","nested");c.flatshading.dflt=!0,c.lighting.facenormalsepsilon.dflt=0,c.x.editType=c.y.editType=c.z.editType=c.value.editType="calc+clearAxisTypes",c.transforms=void 0},56959:function(oe,J,t){"use strict";var S=t(78803),k=t(88489).processGrid,l=t(88489).filter;oe.exports=function(I,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=l(v.x,v._len),v._y=l(v.y,v._len),v._z=l(v.z,v._len),v._value=l(v.value,v._len);var w=k(v);v._gridFill=w.fill,v._Xs=w.Xs,v._Ys=w.Ys,v._Zs=w.Zs,v._len=w.len;for(var r=1/0,n=-1/0,c=0;c<v._len;c++){var o=v._value[c];r=Math.min(r,o),n=Math.max(n,o)}v._minValues=r,v._maxValues=n,v._vMin=null==v.isomin?r:v.isomin,v._vMax=void 0===v.isomax||null===v.isomin?n:v.isomax,S(I,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},22674:function(oe,J,t){"use strict";var S=t(9330).gl_mesh3d,k=t(81697).parseColorScale,l=t(78614),R=t(21081).extractOpts,I=t(90060),v=function(f,h){for(var d=h.length-1;d>0;d--){var b=Math.min(h[d],h[d-1]),p=Math.max(h[d],h[d-1]);if(p>b&&b<f&&f<=p)return{id:d,distRatio:(p-f)/(p-b)}}return{id:0,distRatio:0}};function w(f,h,d){this.scene=f,this.uid=d,this.mesh=h,this.name="",this.data=null,this.showContour=!1}var r=w.prototype;r.handlePick=function(f){if(f.object===this.mesh){var h=f.data.index,b=this.data._meshY[h],p=this.data._meshZ[h],A=this.data._Ys.length,m=this.data._Zs.length,u=v(this.data._meshX[h],this.data._Xs).id,g=v(b,this.data._Ys).id,C=v(p,this.data._Zs).id,T=f.index=C+m*g+m*A*u;f.traceCoordinate=[this.data._meshX[T],this.data._meshY[T],this.data._meshZ[T],this.data._value[T]];var L=this.data.hovertext||this.data.text;return Array.isArray(L)&&void 0!==L[T]?f.textLabel=L[T]:L&&(f.textLabel=L),!0}},r.update=function(f){var h=this.scene,d=h.fullSceneLayout;function b(g,C,T,L){return C.map(function(x){return g.d2l(x,0,L)*T})}this.data=c(f);var m={positions:I(b(d.xaxis,f._meshX,h.dataScale[0],f.xcalendar),b(d.yaxis,f._meshY,h.dataScale[1],f.ycalendar),b(d.zaxis,f._meshZ,h.dataScale[2],f.zcalendar)),cells:I(f._meshI,f._meshJ,f._meshK),lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,contourEnable:f.contour.show,contourColor:l(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},u=R(f);m.vertexIntensity=f._meshIntensity,m.vertexIntensityBounds=[u.min,u.max],m.colormap=k(f),this.mesh.update(m)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var n=["xyz","xzy","yxz","yzx","zxy","zyx"];function c(f){f._meshI=[],f._meshJ=[],f._meshK=[];var g,C,V,H,U,G,K,h=f.surface.show,d=f.spaceframe.show,b=f.surface.fill,p=f.spaceframe.fill,A=!1,m=!1,u=0,T=f._Xs,L=f._Ys,x=f._Zs,E=T.length,M=L.length,i=x.length,D=n.indexOf(f._gridFill.replace(/-/g,"").replace(/\+/g,"")),y=function(ke,Re,Be){switch(D){case 5:return Be+i*Re+i*M*ke;case 4:return Be+i*ke+i*E*Re;case 3:return Re+M*Be+M*i*ke;case 2:return Re+M*ke+M*E*Be;case 1:return ke+E*Be+E*i*Re;default:return ke+E*Re+E*M*Be}},B=f._minValues,F=f._maxValues,_=f._vMin,z=f._vMax;function Y(ke,Re,Be){for(var He=G.length,Ye=C;Ye<He;Ye++)if(ke===V[Ye]&&Re===H[Ye]&&Be===U[Ye])return Ye;return-1}function ee(){C=g}function ue(){V=[],H=[],U=[],G=[],g=0,ee()}function ce(ke,Re,Be,He){return V.push(ke),H.push(Re),U.push(Be),G.push(He),++g-1}function pe(ke,Re,Be){return f._meshI.push(ke),f._meshJ.push(Re),f._meshK.push(Be),++u-1}function Q(ke,Re,Be){for(var He=[],Ye=0;Ye<ke.length;Ye++)He[Ye]=ke[Ye]*(1-Be)+Be*Re[Ye];return He}function Z(ke){K=ke}function fe(ke,Re){return"all"===ke||null===ke||ke.indexOf(Re)>-1}function re(ke,Re){return null===ke?Re:ke}function $(ke,Re,Be){ee();var He=[Re],Ye=[Be];if(K>=1)He=[Re],Ye=[Be];else if(K>0){var Ue=function q(ke,Re){var Be=ke[0],He=ke[1],Ye=ke[2],Ue=function te(ke,Re,Be){for(var He=[],Ye=0;Ye<ke.length;Ye++)He[Ye]=(ke[Ye]+Re[Ye]+Be[Ye])/3;return He}(Be,He,Ye),De=Math.sqrt(1-K),ge=Q(Ue,Be,De),Te=Q(Ue,He,De),_e=Q(Ue,Ye,De),et=Re[0],ft=Re[1],gt=Re[2];return{xyzv:[[Be,He,Te],[Te,ge,Be],[He,Ye,_e],[_e,Te,He],[Ye,Be,ge],[ge,_e,Ye]],abc:[[et,ft,-1],[-1,-1,et],[ft,gt,-1],[-1,-1,ft],[gt,et,-1],[-1,-1,gt]]}}(Re,Be);He=Ue.xyzv,Ye=Ue.abc}for(var De=0;De<He.length;De++){Re=He[De],Be=Ye[De];for(var ge=[],Te=0;Te<3;Te++){var _e=Re[Te][0],et=Re[Te][1],ft=Re[Te][2],gt=Re[Te][3],Kt=Be[Te]>-1?Be[Te]:Y(_e,et,ft);ge[Te]=Kt>-1?Kt:ce(_e,et,ft,re(ke,gt))}pe(ge[0],ge[1],ge[2])}}function de(ke,Re,Be,He){var Ye=ke[3];Ye<Be&&(Ye=Be),Ye>He&&(Ye=He);for(var Ue=(ke[3]-Ye)/(ke[3]-Re[3]+1e-9),De=[],ge=0;ge<4;ge++)De[ge]=(1-Ue)*ke[ge]+Ue*Re[ge];return De}function we(ke,Re,Be){return ke>=Re&&ke<=Be}function Ee(ke){var Re=.001*(z-_);return ke>=_-Re&&ke<=z+Re}function Me(ke){for(var Re=[],Be=0;Be<4;Be++){var He=ke[Be];Re.push([f._x[He],f._y[He],f._z[He],f._value[He]])}return Re}var Ne=3;function Ve(ke,Re,Be,He,Ye,Ue){Ue||(Ue=1),Be=[-1,-1,-1];var De=!1,ge=[we(Re[0][3],He,Ye),we(Re[1][3],He,Ye),we(Re[2][3],He,Ye)];if(!ge[0]&&!ge[1]&&!ge[2])return!1;var Te=function(et,ft,gt){return Ee(ft[0][3])&&Ee(ft[1][3])&&Ee(ft[2][3])?($(et,ft,gt),!0):Ue<Ne&&Ve(et,ft,gt,_,z,++Ue)};if(ge[0]&&ge[1]&&ge[2])return Te(ke,Re,Be)||De;var _e=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(et){if(ge[et[0]]&&ge[et[1]]&&!ge[et[2]]){var ft=Re[et[0]],gt=Re[et[1]],Kt=Re[et[2]],ir=de(Kt,ft,He,Ye),Lt=de(Kt,gt,He,Ye);De=Te(ke,[Lt,ir,ft],[-1,-1,Be[et[0]]])||De,De=Te(ke,[ft,gt,Lt],[Be[et[0]],Be[et[1]],-1])||De,_e=!0}}),_e||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(et){if(ge[et[0]]&&!ge[et[1]]&&!ge[et[2]]){var ft=Re[et[0]],Kt=Re[et[2]],ir=de(Re[et[1]],ft,He,Ye),Lt=de(Kt,ft,He,Ye);De=Te(ke,[Lt,ir,ft],[-1,-1,Be[et[0]]])||De,_e=!0}}),De}function Pe(ke,Re,Be,He){var Ye=!1,Ue=Me(Re),De=[we(Ue[0][3],Be,He),we(Ue[1][3],Be,He),we(Ue[2][3],Be,He),we(Ue[3][3],Be,He)];if(!(De[0]||De[1]||De[2]||De[3]))return Ye;if(De[0]&&De[1]&&De[2]&&De[3])return m&&(Ye=function se(ke,Re,Be){var He=function(Ye,Ue,De){$(ke,[Re[Ye],Re[Ue],Re[De]],[Be[Ye],Be[Ue],Be[De]])};He(0,1,2),He(3,0,1),He(2,3,0),He(1,2,3)}(ke,Ue,Re)||Ye),Ye;var ge=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Te){if(De[Te[0]]&&De[Te[1]]&&De[Te[2]]&&!De[Te[3]]){var _e=Ue[Te[0]],et=Ue[Te[1]],ft=Ue[Te[2]],gt=Ue[Te[3]];if(m)Ye=$(ke,[_e,et,ft],[Re[Te[0]],Re[Te[1]],Re[Te[2]]])||Ye;else{var Kt=de(gt,_e,Be,He),ir=de(gt,et,Be,He),Lt=de(gt,ft,Be,He);Ye=$(null,[Kt,ir,Lt],[-1,-1,-1])||Ye}ge=!0}}),ge||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Te){if(De[Te[0]]&&De[Te[1]]&&!De[Te[2]]&&!De[Te[3]]){var _e=Ue[Te[0]],et=Ue[Te[1]],ft=Ue[Te[2]],gt=Ue[Te[3]],Kt=de(ft,_e,Be,He),ir=de(ft,et,Be,He),Lt=de(gt,et,Be,He),Ut=de(gt,_e,Be,He);m?(Ye=$(ke,[_e,Ut,Kt],[Re[Te[0]],-1,-1])||Ye,Ye=$(ke,[et,ir,Lt],[Re[Te[1]],-1,-1])||Ye):Ye=function le(ke,Re,Be){var He=function(Ye,Ue,De){$(ke,[Re[Ye],Re[Ue],Re[De]],[Be[Ye],Be[Ue],Be[De]])};He(0,1,2),He(2,3,0)}(null,[Kt,ir,Lt,Ut],[-1,-1,-1,-1])||Ye,ge=!0}}),ge)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Te){if(De[Te[0]]&&!De[Te[1]]&&!De[Te[2]]&&!De[Te[3]]){var _e=Ue[Te[0]],ft=Ue[Te[2]],gt=Ue[Te[3]],Kt=de(Ue[Te[1]],_e,Be,He),ir=de(ft,_e,Be,He),Lt=de(gt,_e,Be,He);m?(Ye=$(ke,[_e,Kt,ir],[Re[Te[0]],-1,-1])||Ye,Ye=$(ke,[_e,ir,Lt],[Re[Te[0]],-1,-1])||Ye,Ye=$(ke,[_e,Lt,Kt],[Re[Te[0]],-1,-1])||Ye):Ye=$(null,[Kt,ir,Lt],[-1,-1,-1])||Ye,ge=!0}}),Ye}function Ce(ke,Re,Be,He,Ye,Ue,De,ge,Te,_e,et){var ft=!1;return A&&(fe(ke,"A")&&(ft=Pe(null,[Re,Be,He,Ue],_e,et)||ft),fe(ke,"B")&&(ft=Pe(null,[Be,He,Ye,Te],_e,et)||ft),fe(ke,"C")&&(ft=Pe(null,[Be,Ue,De,Te],_e,et)||ft),fe(ke,"D")&&(ft=Pe(null,[He,Ue,ge,Te],_e,et)||ft),fe(ke,"E")&&(ft=Pe(null,[Be,He,Ue,Te],_e,et)||ft)),m&&(ft=Pe(ke,[Be,He,Ue,Te],_e,et)||ft),ft}function Ie(ke,Re,Be,He,Ye,Ue,De,ge){return[!0===ge[0]||Ve(ke,Me([Re,Be,He]),[Re,Be,He],Ue,De),!0===ge[1]||Ve(ke,Me([He,Ye,Re]),[He,Ye,Re],Ue,De)]}function Je(ke,Re,Be,He,Ye,Ue,De,ge,Te){return ge?Ie(ke,Re,Be,Ye,He,Ue,De,Te):Ie(ke,Be,Ye,He,Re,Ue,De,Te)}function Qe(ke,Re,Be,He,Ye,Ue,De){var Te,_e,et,ft,ge=!1,gt=function(){ge=Ve(ke,[Te,_e,et],[-1,-1,-1],Ye,Ue)||ge,ge=Ve(ke,[et,ft,Te],[-1,-1,-1],Ye,Ue)||ge},Kt=De[0],ir=De[1],Lt=De[2];return Kt&&(Te=Q(Me([y(Re,Be-0,He-0)])[0],Me([y(Re-1,Be-0,He-0)])[0],Kt),_e=Q(Me([y(Re,Be-0,He-1)])[0],Me([y(Re-1,Be-0,He-1)])[0],Kt),et=Q(Me([y(Re,Be-1,He-1)])[0],Me([y(Re-1,Be-1,He-1)])[0],Kt),ft=Q(Me([y(Re,Be-1,He-0)])[0],Me([y(Re-1,Be-1,He-0)])[0],Kt),gt()),ir&&(Te=Q(Me([y(Re-0,Be,He-0)])[0],Me([y(Re-0,Be-1,He-0)])[0],ir),_e=Q(Me([y(Re-0,Be,He-1)])[0],Me([y(Re-0,Be-1,He-1)])[0],ir),et=Q(Me([y(Re-1,Be,He-1)])[0],Me([y(Re-1,Be-1,He-1)])[0],ir),ft=Q(Me([y(Re-1,Be,He-0)])[0],Me([y(Re-1,Be-1,He-0)])[0],ir),gt()),Lt&&(Te=Q(Me([y(Re-0,Be-0,He)])[0],Me([y(Re-0,Be-0,He-1)])[0],Lt),_e=Q(Me([y(Re-0,Be-1,He)])[0],Me([y(Re-0,Be-1,He-1)])[0],Lt),et=Q(Me([y(Re-1,Be-1,He)])[0],Me([y(Re-1,Be-1,He-1)])[0],Lt),ft=Q(Me([y(Re-1,Be-0,He)])[0],Me([y(Re-1,Be-0,He-1)])[0],Lt),gt()),ge}function ze(ke,Re,Be,He,Ye,Ue,De,ge,Te,_e,et,ft){var gt=ke;return ft?(A&&"even"===ke&&(gt=null),Ce(gt,Re,Be,He,Ye,Ue,De,ge,Te,_e,et)):(A&&"odd"===ke&&(gt=null),Ce(gt,Te,ge,De,Ue,Ye,He,Be,Re,_e,et))}function Ke(ke,Re,Be,He,Ye){for(var Ue=[],De=0,ge=0;ge<Re.length;ge++)for(var Te=Re[ge],_e=1;_e<i;_e++)for(var et=1;et<M;et++)Ue.push(Je(ke,y(Te,et-1,_e-1),y(Te,et-1,_e),y(Te,et,_e-1),y(Te,et,_e),Be,He,(Te+et+_e)%2,Ye&&Ye[De]?Ye[De]:[])),De++;return Ue}function ut(ke,Re,Be,He,Ye){for(var Ue=[],De=0,ge=0;ge<Re.length;ge++)for(var Te=Re[ge],_e=1;_e<E;_e++)for(var et=1;et<i;et++)Ue.push(Je(ke,y(_e-1,Te,et-1),y(_e,Te,et-1),y(_e-1,Te,et),y(_e,Te,et),Be,He,(_e+Te+et)%2,Ye&&Ye[De]?Ye[De]:[])),De++;return Ue}function ot(ke,Re,Be,He,Ye){for(var Ue=[],De=0,ge=0;ge<Re.length;ge++)for(var Te=Re[ge],_e=1;_e<M;_e++)for(var et=1;et<E;et++)Ue.push(Je(ke,y(et-1,_e-1,Te),y(et-1,_e,Te),y(et,_e-1,Te),y(et,_e,Te),Be,He,(et+_e+Te)%2,Ye&&Ye[De]?Ye[De]:[])),De++;return Ue}function We(ke,Re,Be){for(var He=1;He<i;He++)for(var Ye=1;Ye<M;Ye++)for(var Ue=1;Ue<E;Ue++)ze(ke,y(Ue-1,Ye-1,He-1),y(Ue-1,Ye-1,He),y(Ue-1,Ye,He-1),y(Ue-1,Ye,He),y(Ue,Ye-1,He-1),y(Ue,Ye-1,He),y(Ue,Ye,He-1),y(Ue,Ye,He),Re,Be,(Ue+Ye+He)%2)}function lt(ke,Re,Be){A=!0,We(ke,Re,Be),A=!1}function vt(ke,Re,Be,He,Ye,Ue){for(var De=[],Te=0;Te<Re.length;Te++)for(var _e=Re[Te],et=1;et<i;et++)for(var ft=1;ft<M;ft++)De.push(Qe(ke,_e,ft,et,Be,He,Ye[Te]));return De}function pt(ke,Re,Be,He,Ye,Ue){for(var De=[],Te=0;Te<Re.length;Te++)for(var _e=Re[Te],et=1;et<E;et++)for(var ft=1;ft<i;ft++)De.push(Qe(ke,et,_e,ft,Be,He,Ye[Te]));return De}function St(ke,Re,Be,He,Ye,Ue){for(var De=[],Te=0;Te<Re.length;Te++)for(var _e=Re[Te],et=1;et<M;et++)for(var ft=1;ft<E;ft++)De.push(Qe(ke,ft,et,_e,Be,He,Ye[Te]));return De}function Ct(ke,Re){for(var Be=[],He=ke;He<Re;He++)Be.push(He);return Be}return function nt(){ue(),function _t(){for(var ke=0;ke<E;ke++)for(var Re=0;Re<M;Re++)for(var Be=0;Be<i;Be++){var He=y(ke,Re,Be);ce(f._x[He],f._y[He],f._z[He],f._value[He])}}();var ke=null;if(d&&p&&(Z(p),function je(ke,Re,Be){m=!0,We(ke,Re,Be),m=!1}(ke,_,z)),h&&b){Z(b);for(var Re=f.surface.pattern,Be=f.surface.count,He=0;He<Be;He++){var Ye=1===Be?.5:He/(Be-1),Ue=(1-Ye)*_+Ye*z,Te=Math.abs(Ue-B)>Math.abs(Ue-F)?[B,Ue]:[Ue,F];lt(Re,Te[0],Te[1])}}var _e=[[Math.min(_,F),Math.max(_,F)],[Math.min(B,z),Math.max(B,z)]];["x","y","z"].forEach(function(et){for(var ft=[],gt=0;gt<_e.length;gt++){var Kt=0,ir=_e[gt][0],Lt=_e[gt][1],Ut=f.slices[et];if(Ut.show&&Ut.fill){Z(Ut.fill);var Qt=[],Cr=[],wt=[];if(Ut.locations.length)for(var $t=0;$t<Ut.locations.length;$t++){var rr=v(Ut.locations[$t],"x"===et?T:"y"===et?L:x);0===rr.distRatio?Qt.push(rr.id):rr.id>0&&(Cr.push(rr.id),wt.push("x"===et?[rr.distRatio,0,0]:"y"===et?[0,rr.distRatio,0]:[0,0,rr.distRatio]))}else Qt=Ct(1,"x"===et?E-1:"y"===et?M-1:i-1);Cr.length>0&&(ft[Kt]="x"===et?vt(ke,Cr,ir,Lt,wt):"y"===et?pt(ke,Cr,ir,Lt,wt):St(ke,Cr,ir,Lt,wt),Kt++),Qt.length>0&&(ft[Kt]="x"===et?Ke(ke,Qt,ir,Lt,ft[Kt]):"y"===et?ut(ke,Qt,ir,Lt,ft[Kt]):ot(ke,Qt,ir,Lt,ft[Kt]),Kt++)}var Lr=f.caps[et];Lr.show&&Lr.fill&&(Z(Lr.fill),ft[Kt]="x"===et?Ke(ke,[0,E-1],ir,Lt,ft[Kt]):"y"===et?ut(ke,[0,M-1],ir,Lt,ft[Kt]):ot(ke,[0,i-1],ir,Lt,ft[Kt]),Kt++)}}),0===u&&ue(),f._meshX=V,f._meshY=H,f._meshZ=U,f._meshIntensity=G,f._Xs=T,f._Ys=L,f._Zs=x}(),f}oe.exports={findNearestOnAxis:v,generateIsoMeshes:c,createIsosurfaceTrace:function o(f,h){var b=S({gl:f.glplot.gl}),p=new w(f,b,h.uid);return b._trace=p,p.update(h),f.glplot.add(b),p}}},82738:function(oe,J,t){"use strict";var S=t(71828),k=t(73972),l=t(16249),R=t(1586);function v(w,r,n,c,o){var f=o("isomin"),h=o("isomax");null!=h&&null!=f&&f>h&&(r.isomin=null,r.isomax=null);var d=o("x"),b=o("y"),p=o("z"),A=o("value");d&&d.length&&b&&b.length&&p&&p.length&&A&&A.length?(k.getComponentMethod("calendars","handleTraceDefaults")(w,r,["x","y","z"],c),o("valuehoverformat"),["x","y","z"].forEach(function(T){o(T+"hoverformat");var L="caps."+T;o(L+".show")&&o(L+".fill");var E="slices."+T;o(E+".show")&&(o(E+".fill"),o(E+".locations"))}),o("spaceframe.show")&&o("spaceframe.fill"),o("surface.show")&&(o("surface.count"),o("surface.fill"),o("surface.pattern")),o("contour.show")&&(o("contour.color"),o("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(T){o(T)}),R(w,r,c,o,{prefix:"",cLetter:"c"}),r._length=null):r.visible=!1}oe.exports={supplyDefaults:function I(w,r,n,c){v(w,r,0,c,function o(f,h){return S.coerce(w,r,l,f,h)})},supplyIsoDefaults:v}},64943:function(oe,J,t){"use strict";oe.exports={attributes:t(16249),supplyDefaults:t(82738).supplyDefaults,calc:t(56959),colorbar:{min:"cmin",max:"cmax"},plot:t(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:t(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(oe,J,t){"use strict";var S=t(50693),k=t(12663).axisHoverFormat,l=t(5386).fF,R=t(54532),I=t(9012),v=t(1426).extendFlat;oe.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:l({editType:"calc"}),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},S("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:R.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},R.contours.x.show,{}),color:R.contours.x.color,width:R.contours.x.width,editType:"calc"},lightposition:{x:v({},R.lightposition.x,{dflt:1e5}),y:v({},R.lightposition.y,{dflt:1e5}),z:v({},R.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},R.lighting),hoverinfo:v({},I.hoverinfo,{editType:"calc"}),showlegend:v({},I.showlegend,{dflt:!1})})},82932:function(oe,J,t){"use strict";var S=t(78803);oe.exports=function(l,R){R.intensity&&S(l,R,{vals:R.intensity,containerStr:"",cLetter:"c"})}},91134:function(oe,J,t){"use strict";var S=t(9330).gl_mesh3d,k=t(9330).delaunay_triangulate,l=t(9330).alpha_shape,R=t(9330).convex_hull,I=t(81697).parseColorScale,v=t(78614),w=t(21081).extractOpts,r=t(90060);function n(A,m,u){this.scene=A,this.uid=u,this.mesh=m,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var c=n.prototype;function o(A){for(var m=[],u=A.length,g=0;g<u;g++)m[g]=v(A[g]);return m}function f(A,m,u,g){for(var C=[],T=m.length,L=0;L<T;L++)C[L]=A.d2l(m[L],0,g)*u;return C}function h(A){for(var m=[],u=A.length,g=0;g<u;g++)m[g]=Math.round(A[g]);return m}function b(A,m){for(var u=A.length,g=0;g<u;g++)if(A[g]<=-.5||A[g]>=m-.5)return!1;return!0}c.handlePick=function(A){if(A.object===this.mesh){var m=A.index=A.data.index;A.traceCoordinate=A.data._cellCenter?A.data.dataCoordinate:[this.data.x[m],this.data.y[m],this.data.z[m]];var u=this.data.hovertext||this.data.text;return Array.isArray(u)&&void 0!==u[m]?A.textLabel=u[m]:u&&(A.textLabel=u),!0}},c.update=function(A){var m=this.scene,u=m.fullSceneLayout;this.data=A;var T,g=A.x.length,C=r(f(u.xaxis,A.x,m.dataScale[0],A.xcalendar),f(u.yaxis,A.y,m.dataScale[1],A.ycalendar),f(u.zaxis,A.z,m.dataScale[2],A.zcalendar));if(A.i&&A.j&&A.k){if(A.i.length!==A.j.length||A.j.length!==A.k.length||!b(A.i,g)||!b(A.j,g)||!b(A.k,g))return;T=r(h(A.i),h(A.j),h(A.k))}else T=0===A.alphahull?R(C):A.alphahull>0?l(A.alphahull,C):function d(A,m){for(var u=["x","y","z"].indexOf(A),g=[],C=m.length,T=0;T<C;T++)g[T]=[m[T][(u+1)%3],m[T][(u+2)%3]];return k(g)}(A.delaunayaxis,C);var L={positions:C,cells:T,lightPosition:[A.lightposition.x,A.lightposition.y,A.lightposition.z],ambient:A.lighting.ambient,diffuse:A.lighting.diffuse,specular:A.lighting.specular,roughness:A.lighting.roughness,fresnel:A.lighting.fresnel,vertexNormalsEpsilon:A.lighting.vertexnormalsepsilon,faceNormalsEpsilon:A.lighting.facenormalsepsilon,opacity:A.opacity,contourEnable:A.contour.show,contourColor:v(A.contour.color).slice(0,3),contourWidth:A.contour.width,useFacetNormals:A.flatshading};if(A.intensity){var x=w(A);this.color="#fff";var E=A.intensitymode;L[E+"Intensity"]=A.intensity,L[E+"IntensityBounds"]=[x.min,x.max],L.colormap=I(A)}else A.vertexcolor?(this.color=A.vertexcolor[0],L.vertexColors=o(A.vertexcolor)):A.facecolor?(this.color=A.facecolor[0],L.cellColors=o(A.facecolor)):(this.color=A.color,L.meshColor=v(A.color));this.mesh.update(L)},c.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},oe.exports=function p(A,m){var g=S({gl:A.glplot.gl}),C=new n(A,g,m.uid);return g._trace=C,C.update(m),A.glplot.add(g),C}},58669:function(oe,J,t){"use strict";var S=t(73972),k=t(71828),l=t(1586),R=t(2418);oe.exports=function(v,w,r,n){function c(b,p){return k.coerce(v,w,R,b,p)}function o(b){var p=b.map(function(A){var m=c(A);return m&&k.isArrayOrTypedArray(m)?m:null});return p.every(function(A){return A&&A.length===p[0].length})&&p}o(["x","y","z"])?(o(["i","j","k"]),(!w.i||w.j&&w.k)&&(!w.j||w.k&&w.i)&&(!w.k||w.i&&w.j)?(S.getComponentMethod("calendars","handleTraceDefaults")(v,w,["x","y","z"],n),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(b){c(b)}),c("contour.show")&&(c("contour.color"),c("contour.width")),"intensity"in v?(c("intensity"),c("intensitymode"),l(v,w,n,c,{prefix:"",cLetter:"c"})):(w.showscale=!1,"facecolor"in v?c("facecolor"):"vertexcolor"in v?c("vertexcolor"):c("color",r)),c("text"),c("hovertext"),c("hovertemplate"),c("xhoverformat"),c("yhoverformat"),c("zhoverformat"),w._length=null):w.visible=!1):w.visible=!1}},21164:function(oe,J,t){"use strict";oe.exports={attributes:t(2418),supplyDefaults:t(58669),calc:t(82932),colorbar:{min:"cmin",max:"cmax"},plot:t(91134),moduleType:"trace",name:"mesh3d",basePlotModule:t(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(oe,J,t){"use strict";var S=t(71828).extendFlat,k=t(82196),l=t(12663).axisHoverFormat,R=t(79952).P,I=t(77914),v=t(22372),w=v.INCREASING.COLOR,r=v.DECREASING.COLOR,n=k.line;function c(o){return{line:{color:S({},n.color,{dflt:o}),width:n.width,dash:R,editType:"style"},editType:"style"}}oe.exports={xperiod:k.xperiod,xperiod0:k.xperiod0,xperiodalignment:k.xperiodalignment,xhoverformat:l("x"),yhoverformat:l("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:S({},n.width,{}),dash:S({},R,{}),editType:"style"},increasing:c(w),decreasing:c(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:S({},I.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(oe,J,t){"use strict";var S=t(71828),k=S._,l=t(89298),R=t(42973),I=t(50606).BADNUM;function w(c,o,f,h){return{o:c,h:o,l:f,c:h}}function r(c,o,f,h,d,b){for(var p=d.makeCalcdata(o,"open"),A=d.makeCalcdata(o,"high"),m=d.makeCalcdata(o,"low"),u=d.makeCalcdata(o,"close"),g=Array.isArray(o.text),C=Array.isArray(o.hovertext),T=!0,L=null,x=!!o.xperiodalignment,E=[],M=0;M<h.length;M++){var i=h[M],D=p[M],y=A[M],B=m[M],F=u[M];if(i!==I&&D!==I&&y!==I&&B!==I&&F!==I){F===D?null!==L&&F!==L&&(T=F>L):T=F>D,L=F;var _=b(D,y,B,F);_.pos=i,_.yc=(D+F)/2,_.i=M,_.dir=T?"increasing":"decreasing",_.x=_.pos,_.y=[B,y],x&&(_.orig_p=f[M]),g&&(_.tx=o.text[M]),C&&(_.htx=o.hovertext[M]),E.push(_)}else E.push({pos:i,empty:!0})}return o._extremes[d._id]=l.findExtremes(d,S.concat(m,A),{padded:!0}),E.length&&(E[0].t={labels:{open:k(c,"open:")+" ",high:k(c,"high:")+" ",low:k(c,"low:")+" ",close:k(c,"close:")+" "}}),E}oe.exports={calc:function v(c,o){var f=l.getFromId(c,o.xaxis),h=l.getFromId(c,o.yaxis),d=function n(c,o,f){var h=f._minDiff;if(!h){var p,d=c._fullData,b=[];for(h=1/0,p=0;p<d.length;p++){var A=d[p];if("ohlc"===A.type&&!0===A.visible&&A.xaxis===o._id){b.push(A);var m=o.makeCalcdata(A,"x");A._origX=m;var u=R(f,o,"x",m).vals;A._xcalc=u;var g=S.distinctVals(u).minDiff;g&&isFinite(g)&&(h=Math.min(h,g))}}for(h===1/0&&(h=1),p=0;p<b.length;p++)b[p]._minDiff=h}return h*f.tickwidth}(c,f,o),b=o._minDiff;o._minDiff=null;var p=o._origX;o._origX=null;var A=o._xcalc;o._xcalc=null;var m=r(c,o,p,A,h,w);return o._extremes[f._id]=l.findExtremes(f,A,{vpad:b/2}),m.length?(S.extendFlat(m[0].t,{wHover:b/2,tickLen:d}),m):[{t:{empty:!0}}]},calcCommon:r}},16169:function(oe,J,t){"use strict";var S=t(71828),k=t(14555),l=t(73927),R=t(2522);function I(v,w,r,n){r(n+".line.color"),r(n+".line.width",w.line.width),r(n+".line.dash",w.line.dash)}oe.exports=function(w,r,n,c){function o(h,d){return S.coerce(w,r,R,h,d)}k(w,r,o,c)?(l(w,r,c,o,{x:!0}),o("xhoverformat"),o("yhoverformat"),o("line.width"),o("line.dash"),I(0,r,o,"increasing"),I(0,r,o,"decreasing"),o("text"),o("hovertext"),o("tickwidth"),c._requestRangeslider[r.xaxis]=!0):r.visible=!1}},66449:function(oe,J,t){"use strict";var S=t(89298),k=t(71828),l=t(30211),R=t(7901),I=t(71828).fillText,v=t(22372),w={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function n(f,h,d,b){var L,x,p=f.cd,A=f.xa,m=p[0].trace,u=p[0].t,g=m.type,C="ohlc"===g?"l":"min",T="ohlc"===g?"h":"max",E=u.bPos||0,M=function(Y){return Y.pos+E-h},i=u.bdPos||u.tickLen,D=u.wHover,y=Math.min(1,i/Math.abs(A.r2c(A.range[1])-A.r2c(A.range[0])));function B(Y){var ee=M(Y);return l.inbox(ee-D,ee+D,L)}function F(Y){var ee=Y[C],ue=Y[T];return ee===ue||l.inbox(ee-d,ue-d,L)}function _(Y){return(B(Y)+F(Y))/2}L=f.maxHoverDistance-y,x=f.maxSpikeDistance-y;var z=l.getDistanceFunction(b,B,F,_);if(l.getClosest(p,z,f),!1===f.index)return null;var V=p[f.index];if(V.empty)return null;var U=m[V.dir],G=U.line.color;return f.color=R.opacity(G)&&U.line.width?G:U.fillcolor,f.x0=A.c2p(V.pos+E-i,!0),f.x1=A.c2p(V.pos+E+i,!0),f.xLabelVal=void 0!==V.orig_p?V.orig_p:V.pos,f.spikeDistance=_(V)*x/L,f.xSpike=A.c2p(V.pos,!0),f}function c(f,h,d,b){var p=f.cd,A=f.ya,m=p[0].trace,u=p[0].t,g=[],C=n(f,h,d,b);if(!C)return[];var x=p[C.index].hi||m.hoverinfo,E=x.split("+");if("all"!==x&&-1===E.indexOf("y"))return[];for(var D=["high","open","close","low"],y={},B=0;B<D.length;B++){var V,F=D[B],_=m[F][C.index],z=A.c2p(_,!0);_ in y?(V=y[_]).yLabel+="<br>"+u.labels[F]+S.hoverLabelText(A,_,m.yhoverformat):((V=k.extendFlat({},C)).y0=V.y1=z,V.yLabelVal=_,V.yLabel=u.labels[F]+S.hoverLabelText(A,_,m.yhoverformat),V.name="",g.push(V),y[_]=V)}return g}function o(f,h,d,b){var p=f.cd,A=f.ya,m=p[0].trace,u=p[0].t,g=n(f,h,d,b);if(!g)return[];var T=p[g.index],L=g.index=T.i,x=T.dir;function E(_){return u.labels[_]+S.hoverLabelText(A,m[_][L],m.yhoverformat)}var M=T.hi||m.hoverinfo,i=M.split("+"),D="all"===M,y=D||-1!==i.indexOf("y"),B=D||-1!==i.indexOf("text"),F=y?[E("open"),E("high"),E("low"),E("close")+"  "+w[x]]:[];return B&&I(T,m,F),g.extraText=F.join("<br>"),g.y0=g.y1=A.c2p(T.yc,!0),[g]}oe.exports={hoverPoints:function r(f,h,d,b){return f.cd[0].trace.hoverlabel.split?c(f,h,d,b):o(f,h,d,b)},hoverSplit:c,hoverOnPoints:o}},54186:function(oe,J,t){"use strict";oe.exports={moduleType:"trace",name:"ohlc",basePlotModule:t(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:t(2522),supplyDefaults:t(16169),calc:t(3485).calc,plot:t(72314),style:t(53101),hoverPoints:t(66449).hoverPoints,selectPoints:t(67324)}},14555:function(oe,J,t){"use strict";var S=t(73972),k=t(71828);oe.exports=function(R,I,v,w){var r=v("x"),n=v("open"),c=v("high"),o=v("low"),f=v("close");if(v("hoverlabel.split"),S.getComponentMethod("calendars","handleTraceDefaults")(R,I,["x"],w),n&&c&&o&&f){var d=Math.min(n.length,c.length,o.length,f.length);return r&&(d=Math.min(d,k.minRowLength(r))),I._length=d,d}}},72314:function(oe,J,t){"use strict";var S=t(39898),k=t(71828);oe.exports=function(R,I,v,w){var r=I.yaxis,n=I.xaxis,c=!!n.rangebreaks;k.makeTraceGroups(w,v,"trace ohlc").each(function(o){var f=S.select(this),h=o[0],d=h.t;if(!0!==h.trace.visible||d.empty)f.remove();else{var p=d.tickLen,A=f.selectAll("path").data(k.identity);A.enter().append("path"),A.exit().remove(),A.attr("d",function(m){if(m.empty)return"M0,0Z";var u=n.c2p(m.pos-p,!0),g=n.c2p(m.pos+p,!0),C=c?(u+g)/2:n.c2p(m.pos,!0);return"M"+u+","+r.c2p(m.o,!0)+"H"+C+"M"+C+","+r.c2p(m.h,!0)+"V"+r.c2p(m.l,!0)+"M"+g+","+r.c2p(m.c,!0)+"H"+C})}})}},67324:function(oe){"use strict";oe.exports=function(t,S){var v,k=t.cd,l=t.xaxis,R=t.yaxis,I=[],w=k[0].t.bPos||0;if(!1===S)for(v=0;v<k.length;v++)k[v].selected=0;else for(v=0;v<k.length;v++){var r=k[v];S.contains([l.c2p(r.pos+w),R.c2p(r.yc)],null,r.i,t)?(I.push({pointNumber:r.i,x:l.c2d(r.pos),y:R.c2d(r.yc)}),r.selected=1):r.selected=0}return I}},53101:function(oe,J,t){"use strict";var S=t(39898),k=t(91424),l=t(7901);oe.exports=function(I,v,w){var r=w||S.select(I).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(n){return n[0].trace.opacity}),r.each(function(n){var c=n[0].trace;S.select(this).selectAll("path").each(function(o){if(!o.empty){var f=c[o.dir].line;S.select(this).style("fill","none").call(l.stroke,f.color).call(k.dashLine,f.dash,f.width).style("opacity",c.selectedpoints&&!o.selected?.3:1)}})})}},99506:function(oe,J,t){"use strict";var S=t(1426).extendFlat,k=t(9012),l=t(41940),R=t(50693),I=t(5386).fF,v=t(27670).Y,w=S({editType:"calc"},R("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:I({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});oe.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:S({},k.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:I({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:l({editType:"calc"}),tickfont:l({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:w,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(oe,J,t){"use strict";var S=t(27659).a0,k=t(45784),l="parcats";J.name=l,J.plot=function(R,I,v,w){var r=S(R.calcdata,l);r.length&&k(R,r[0],v,w)},J.clean=function(R,I,v,w){var r=w._has&&w._has("parcats"),n=I._has&&I._has("parcats");r&&!n&&w._paperdiv.selectAll(".parcats").remove()}},28699:function(oe,J,t){"use strict";var S=t(28984).wrap,k=t(52075).hasColorscale,l=t(78803),R=t(75744),I=t(91424),v=t(71828),w=t(92770);function c(m,u,g,C){return{dimensionInd:m,categoryInd:u,categoryValue:g,displayInd:u,categoryLabel:C,valueInds:[],count:0,dragY:null}}function o(m,u,g){m.valueInds.push(u),m.count+=g}function f(m,u,g){return{categoryInds:m,color:u,rawColor:g,valueInds:[],count:0}}function h(m,u,g){m.valueInds.push(u),m.count+=g}function b(m){var g;if(function A(m){for(var u=new Array(m.length),g=0;g<m.length;g++){if(m[g]<0||m[g]>=m.length||void 0!==u[m[g]])return!1;u[m[g]]=!0}return!0}(m.map(function(C){return C.displayindex})))for(g=0;g<m.length;g++)m[g]._displayindex=m[g].displayindex;else for(g=0;g<m.length;g++)m[g]._displayindex=g}oe.exports=function(u,g){var C=v.filterVisible(g.dimensions);if(0===C.length)return[];var L,x,E,T=C.map(function(te){var Q;if("trace"===te.categoryorder)Q=null;else if("array"===te.categoryorder)Q=te.categoryarray;else{Q=R(te.values);for(var K=!0,Z=0;Z<Q.length;Z++)if(!w(Q[Z])){K=!1;break}Q.sort(K?v.sorterAsc:void 0),"category descending"===te.categoryorder&&(Q=Q.reverse())}return function d(m,u){u=null==u?[]:u.map(function(i){return i});var g={},C={},T=[];u.forEach(function(i,D){g[i]=0,C[i]=D});for(var L=0;L<m.length;L++){var E,x=m[L];void 0===g[x]?(g[x]=1,E=u.push(x)-1,C[x]=E):(g[x]++,E=C[x]),T.push(E)}var M=u.map(function(i){return g[i]});return{uniqueValues:u,uniqueCounts:M,inds:T}}(te.values,Q)});L=v.isArrayOrTypedArray(g.counts)?g.counts:[g.counts],b(C),C.forEach(function(te,Q){!function p(m,u){m._categoryarray=u.uniqueValues,m._ticktext=null==m.ticktext?[]:m.ticktext.slice();for(var g=m._ticktext.length;g<u.uniqueValues.length;g++)m._ticktext.push(u.uniqueValues[g])}(te,T[Q])});var i,M=g.line;M?(k(g,"line")&&l(u,g,{vals:g.line.color,containerStr:"line",cLetter:"c"}),i=I.tryColorscale(M)):i=v.identity;var _,z,te,Q,K,y=C[0].values.length,B={},F=T.map(function(te){return te.inds});for(E=0,_=0;_<y;_++){var V=[];for(z=0;z<F.length;z++)V.push(F[z][_]);E+=x=L[_%L.length];var H=(te=_,Q=void 0,K=void 0,v.isArrayOrTypedArray(M.color)?K=Q=M.color[te%M.color.length]:Q=M.color,{color:i(Q),rawColor:K}),U=V+"-"+H.rawColor;void 0===B[U]&&(B[U]=f(V,H.color,H.rawColor)),h(B[U],_,x)}var G=C.map(function(te,Q){return function n(m,u,g,C,T){return{dimensionInd:m,containerInd:u,displayInd:g,dimensionLabel:C,count:T,categories:[],dragX:null}}(Q,te._index,te._displayindex,te.label,E)});for(_=0;_<y;_++)for(x=L[_%L.length],z=0;z<G.length;z++){var Y=G[z].containerInd,ee=T[z].inds[_],ue=G[z].categories;void 0===ue[ee]&&(ue[ee]=c(z,ee,g.dimensions[Y]._categoryarray[ee],g.dimensions[Y]._ticktext[ee])),o(ue[ee],_,x)}return S(function r(m,u,g){var C=m.map(function(T){return T.categories.length}).reduce(function(T,L){return Math.max(T,L)});return{dimensions:m,paths:u,trace:void 0,maxCats:C,count:g}}(G,B,E))}},14647:function(oe,J,t){"use strict";var S=t(71828),k=t(52075).hasColorscale,l=t(1586),R=t(27670).c,I=t(85501),v=t(99506),w=t(94397);function n(c,o){function f(u,g){return S.coerce(c,o,v.dimensions,u,g)}var h=f("values"),d=f("visible");if(h&&h.length||(d=o.visible=!1),d){f("label"),f("displayindex",o._index);var A,b=c.categoryarray,p=Array.isArray(b)&&b.length>0;p&&(A="array");var m=f("categoryorder",A);"array"===m?(f("categoryarray"),f("ticktext")):(delete c.categoryarray,delete c.ticktext),!p&&"array"===m&&(o.categoryorder="trace")}}oe.exports=function(o,f,h,d){function b(g,C){return S.coerce(o,f,v,g,C)}var p=I(o,f,{name:"dimensions",handleItemDefaults:n}),A=function r(c,o,f,h,d){d("line.shape"),d("line.hovertemplate");var b=d("line.color",h.colorway[0]);if(k(c,"line")&&S.isArrayOrTypedArray(b)){if(b.length)return d("line.colorscale"),l(c,o,h,d,{prefix:"line.",cLetter:"c"}),b.length;o.line.color=f}return 1/0}(o,f,h,d,b);R(f,d,b),(!Array.isArray(p)||!p.length)&&(f.visible=!1),w(f,p,"values",A),b("hoveron"),b("hovertemplate"),b("arrangement"),b("bundlecolors"),b("sortpaths"),b("counts");var m={family:d.font.family,size:Math.round(d.font.size),color:d.font.color};S.coerceFont(b,"labelfont",m);var u={family:d.font.family,size:Math.round(d.font.size/1.2),color:d.font.color};S.coerceFont(b,"tickfont",u)}},94873:function(oe,J,t){"use strict";oe.exports={attributes:t(99506),supplyDefaults:t(14647),calc:t(28699),plot:t(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:t(27677),categories:["noOpacity"],meta:{}}},45460:function(oe,J,t){"use strict";var S=t(39898),k=t(81684).k4,l=t(72391),R=t(30211),I=t(71828),v=I.strTranslate,w=t(91424),r=t(84267),n=t(63893);function c(Z,q,fe,re){var $=q._context.staticPlot,le=Z.map(ce.bind(0,q,fe)),se=re.selectAll("g.parcatslayer").data([null]);se.enter().append("g").attr("class","parcatslayer").style("pointer-events",$?"none":"all");var de=se.selectAll("g.trace.parcats").data(le,o),we=de.enter().append("g").attr("class","trace parcats");de.attr("transform",function(Ke){return v(Ke.x,Ke.y)}),we.append("g").attr("class","paths");var Me=de.select("g.paths").selectAll("path.path").data(function(Ke){return Ke.paths},o);Me.attr("fill",function(Ke){return Ke.model.color});var Ne=Me.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ke){return Ke.model.color}).attr("fill-opacity",0);u(Ne),Me.attr("d",function(Ke){return Ke.svgD}),Ne.empty()||Me.sort(h),Me.exit().remove(),Me.on("mouseover",d).on("mouseout",b).on("click",m),we.append("g").attr("class","dimensions");var Pe=de.select("g.dimensions").selectAll("g.dimension").data(function(Ke){return Ke.dimensions},o);Pe.enter().append("g").attr("class","dimension"),Pe.attr("transform",function(Ke){return v(Ke.x,0)}),Pe.exit().remove();var Ce=Pe.selectAll("g.category").data(function(Ke){return Ke.categories},o),Ie=Ce.enter().append("g").attr("class","category");Ce.attr("transform",function(Ke){return v(0,Ke.y)}),Ie.append("rect").attr("class","catrect").attr("pointer-events","none"),Ce.select("rect.catrect").attr("fill","none").attr("width",function(Ke){return Ke.width}).attr("height",function(Ke){return Ke.height}),T(Ie);var Je=Ce.selectAll("rect.bandrect").data(function(Ke){return Ke.bands},o);Je.each(function(){I.raiseToTop(this)}),Je.attr("fill",function(Ke){return Ke.color});var Qe=Je.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ke){return Ke.color}).attr("fill-opacity",0);Je.attr("fill",function(Ke){return Ke.color}).attr("width",function(Ke){return Ke.width}).attr("height",function(Ke){return Ke.height}).attr("y",function(Ke){return Ke.y}).attr("cursor",function(Ke){return"fixed"===Ke.parcatsViewModel.arrangement?"default":"perpendicular"===Ke.parcatsViewModel.arrangement?"ns-resize":"move"}),x(Qe),Je.exit().remove(),Ie.append("text").attr("class","catlabel").attr("pointer-events","none");var ze=q._fullLayout.paper_bgcolor;Ce.select("text.catlabel").attr("text-anchor",function(Ke){return f(Ke)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",n.makeTextShadow(ze)).style("fill","rgb(0, 0, 0)").attr("x",function(Ke){return f(Ke)?Ke.width+5:-5}).attr("y",function(Ke){return Ke.height/2}).text(function(Ke){return Ke.model.categoryLabel}).each(function(Ke){w.font(S.select(this),Ke.parcatsViewModel.categorylabelfont),n.convertToTspans(S.select(this),q)}),Ie.append("text").attr("class","dimlabel"),Ce.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ke){return"fixed"===Ke.parcatsViewModel.arrangement?"default":"ew-resize"}).attr("x",function(Ke){return Ke.width/2}).attr("y",-5).text(function(Ke,ut){return 0===ut?Ke.parcatsViewModel.model.dimensions[Ke.model.dimensionInd].dimensionLabel:null}).each(function(Ke){w.font(S.select(this),Ke.parcatsViewModel.labelfont)}),Ce.selectAll("rect.bandrect").on("mouseover",z).on("mouseout",V),Ce.exit().remove(),Pe.call(S.behavior.drag().origin(function(Ke){return{x:Ke.x,y:0}}).on("dragstart",H).on("drag",U).on("dragend",G)),de.each(function(Ke){Ke.traceSelection=S.select(this),Ke.pathSelection=S.select(this).selectAll("g.paths").selectAll("path.path"),Ke.dimensionSelection=S.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),de.exit().remove()}function o(Z){return Z.key}function f(Z){return Z.model.dimensionInd===Z.parcatsViewModel.dimensions[Z.parcatsViewModel.dimensions.length-1].model.dimensionInd}function h(Z,q){return Z.model.rawColor>q.model.rawColor?1:Z.model.rawColor<q.model.rawColor?-1:0}function d(Z){if(!Z.parcatsViewModel.dragDimension&&-1===Z.parcatsViewModel.hoverinfoItems.indexOf("skip")){I.raiseToTop(this),g(S.select(this));var q=p(Z),fe=A(Z);if(Z.parcatsViewModel.graphDiv.emit("plotly_hover",{points:q,event:S.event,constraints:fe}),-1===Z.parcatsViewModel.hoverinfoItems.indexOf("none")){var Ee,Me,Ne,re=S.mouse(this)[0],$=Z.parcatsViewModel.graphDiv,le=Z.parcatsViewModel.trace,se=$._fullLayout,de=se._paperdiv.node().getBoundingClientRect(),we=Z.parcatsViewModel.graphDiv.getBoundingClientRect();for(Ne=0;Ne<Z.leftXs.length-1;Ne++)if(Z.leftXs[Ne]+Z.dimWidths[Ne]-2<=re&&re<=Z.leftXs[Ne+1]+2){var Ve=Z.parcatsViewModel.dimensions[Ne];Ee=(Ve.x+Ve.width+Z.parcatsViewModel.dimensions[Ne+1].x)/2,Me=(Z.topYs[Ne]+Z.topYs[Ne+1]+Z.height)/2;break}var Ce=Z.parcatsViewModel.x+Ee,Ie=Z.parcatsViewModel.y+Me,Je=r.mostReadable(Z.model.color,["black","white"]),Qe=Z.model.count,ze=Qe/Z.parcatsViewModel.model.count,Ke={countLabel:Qe,probabilityLabel:ze.toFixed(3)},ut=[];-1!==Z.parcatsViewModel.hoverinfoItems.indexOf("count")&&ut.push(["Count:",Ke.countLabel].join(" ")),-1!==Z.parcatsViewModel.hoverinfoItems.indexOf("probability")&&ut.push(["P:",Ke.probabilityLabel].join(" "));var ot=ut.join("<br>"),We=S.mouse($)[0];R.loneHover({trace:le,x:Ce-de.left+we.left,y:Ie-de.top+we.top,text:ot,color:Z.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Je,idealAlign:We<Ce?"right":"left",hovertemplate:(le.line||{}).hovertemplate,hovertemplateLabels:Ke,eventData:[{data:le._input,fullData:le,count:Qe,probability:ze}]},{container:se._hoverlayer.node(),outerContainer:se._paper.node(),gd:$})}}}function b(Z){if(!Z.parcatsViewModel.dragDimension&&(u(S.select(this)),R.loneUnhover(Z.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Z.parcatsViewModel.pathSelection.sort(h),-1===Z.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var q=p(Z),fe=A(Z);Z.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:q,event:S.event,constraints:fe})}}function p(Z){for(var q=[],fe=Y(Z.parcatsViewModel),re=0;re<Z.model.valueInds.length;re++)q.push({curveNumber:fe,pointNumber:Z.model.valueInds[re]});return q}function A(Z){for(var q={},fe=Z.parcatsViewModel.model.dimensions,re=0;re<fe.length;re++){var $=fe[re];q[$.containerInd]=$.categories[Z.model.categoryInds[re]].categoryValue}return void 0!==Z.model.rawColor&&(q.color=Z.model.rawColor),q}function m(Z){if(-1===Z.parcatsViewModel.hoverinfoItems.indexOf("skip")){var q=p(Z),fe=A(Z);Z.parcatsViewModel.graphDiv.emit("plotly_click",{points:q,event:S.event,constraints:fe})}}function u(Z){Z.attr("fill",function(q){return q.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function g(Z){Z.attr("fill-opacity",.8).attr("stroke",function(q){return r.mostReadable(q.model.color,["black","white"])}).attr("stroke-width",.3)}function T(Z){Z.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function x(Z){Z.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function E(Z){var fe=Z.categoryViewModel.model.dimensionInd,re=Z.categoryViewModel.model.categoryInd;return Z.parcatsViewModel.pathSelection.filter(function($){return $.model.categoryInds[fe]===re&&$.model.color===Z.color})}function D(Z,q,fe){var re=S.select(Z).datum(),$=re.categoryViewModel.model,le=re.parcatsViewModel.graphDiv,se=S.select(Z.parentNode).selectAll("rect.bandrect"),de=[];se.each(function(Ee){E(Ee).each(function(Ne){Array.prototype.push.apply(de,p(Ne))})});var we={};we[$.dimensionInd]=$.categoryValue,le.emit(q,{points:de,event:fe,constraints:we})}function y(Z,q,fe){var re=S.select(Z).datum(),$=re.categoryViewModel.model,le=re.parcatsViewModel.graphDiv,se=E(re),de=[];se.each(function(Ee){Array.prototype.push.apply(de,p(Ee))});var we={};we[$.dimensionInd]=$.categoryValue,void 0!==re.rawColor&&(we.color=re.rawColor),le.emit(q,{points:de,event:fe,constraints:we})}function B(Z,q,fe){Z._fullLayout._calcInverseTransform(Z);var Ve,Pe,re=Z._fullLayout._invScaleX,$=Z._fullLayout._invScaleY,le=S.select(fe.parentNode).select("rect.catrect"),se=le.node().getBoundingClientRect(),de=le.datum(),we=de.parcatsViewModel,Me=we.trace,Ne=se.top+se.height/2;we.dimensions.length>1&&we.model.dimensions[de.model.dimensionInd].displayInd===we.dimensions.length-1?(Ve=se.left,Pe="left"):(Ve=se.left+se.width,Pe="right");var Ce=de.model.count,Ie=de.model.categoryLabel,Je=Ce/de.parcatsViewModel.model.count,Qe={countLabel:Ce,categoryLabel:Ie,probabilityLabel:Je.toFixed(3)},ze=[];-1!==de.parcatsViewModel.hoverinfoItems.indexOf("count")&&ze.push(["Count:",Qe.countLabel].join(" ")),-1!==de.parcatsViewModel.hoverinfoItems.indexOf("probability")&&ze.push(["P("+Qe.categoryLabel+"):",Qe.probabilityLabel].join(" "));var Ke=ze.join("<br>");return{trace:Me,x:re*(Ve-q.left),y:$*(Ne-q.top),text:Ke,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Pe,hovertemplate:Me.hovertemplate,hovertemplateLabels:Qe,eventData:[{data:Me._input,fullData:Me,count:Ce,category:Ie,probability:Je}]}}function z(Z){if(!Z.parcatsViewModel.dragDimension&&-1===Z.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(S.mouse(this)[1]<-1)return;var de,fe=Z.parcatsViewModel.graphDiv,re=fe._fullLayout,$=re._paperdiv.node().getBoundingClientRect(),le=Z.parcatsViewModel.hoveron,se=this;"color"===le?(function i(Z){var q=S.select(Z).datum(),fe=E(q);g(fe),fe.each(function(){I.raiseToTop(this)}),S.select(Z.parentNode).selectAll("rect.bandrect").filter(function(re){return re.color===q.color}).each(function(){I.raiseToTop(this),function L(Z){Z.attr("stroke","black").attr("stroke-width",1.5)}(S.select(this))})}(se),y(se,"plotly_hover",S.event)):(function M(Z){S.select(Z.parentNode).selectAll("rect.bandrect").each(function(fe){var re=E(fe);g(re),re.each(function(){I.raiseToTop(this)})}),function C(Z){Z.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(S.select(Z.parentNode))}(se),D(se,"plotly_hover",S.event)),-1===Z.parcatsViewModel.hoverinfoItems.indexOf("none")&&("category"===le?de=B(fe,$,se):"color"===le?de=function _(Z,q,fe){Z._fullLayout._calcInverseTransform(Z);var Ve,Pe,re=Z._fullLayout._invScaleX,$=Z._fullLayout._invScaleY,le=fe.getBoundingClientRect(),se=S.select(fe).datum(),de=se.categoryViewModel,we=de.parcatsViewModel,Me=we.trace,Ne=le.y+le.height/2;we.dimensions.length>1&&we.model.dimensions[de.model.dimensionInd].displayInd===we.dimensions.length-1?(Ve=le.left,Pe="left"):(Ve=le.left+le.width,Pe="right");var Ce=de.model.categoryLabel,Ie=se.parcatsViewModel.model.count,Je=0;se.categoryViewModel.bands.forEach(function(pt){pt.color===se.color&&(Je+=pt.count)});var Qe=de.model.count,ze=0;we.pathSelection.each(function(pt){pt.model.color===se.color&&(ze+=pt.model.count)});var Ke=Je/Ie,ut=Je/ze,ot=Je/Qe,We={countLabel:Ie,categoryLabel:Ce,probabilityLabel:Ke.toFixed(3)},je=[];-1!==de.parcatsViewModel.hoverinfoItems.indexOf("count")&&je.push(["Count:",We.countLabel].join(" ")),-1!==de.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(je.push("P(color \u2229 "+Ce+"): "+We.probabilityLabel),je.push("P("+Ce+" | color): "+ut.toFixed(3)),je.push("P(color | "+Ce+"): "+ot.toFixed(3)));var lt=je.join("<br>"),vt=r.mostReadable(se.color,["black","white"]);return{trace:Me,x:re*(Ve-q.left),y:$*(Ne-q.top),text:lt,color:se.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:vt,fontSize:10,idealAlign:Pe,hovertemplate:Me.hovertemplate,hovertemplateLabels:We,eventData:[{data:Me._input,fullData:Me,category:Ce,count:Ie,probability:Ke,categorycount:Qe,colorcount:ze,bandcolorcount:Je}]}}(fe,$,se):"dimension"===le&&(de=function F(Z,q,fe){var re=[];return S.select(fe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){re.push(B(Z,q,this))}),re}(fe,$,se)),de&&R.loneHover(de,{container:re._hoverlayer.node(),outerContainer:re._paper.node(),gd:fe}))}}function V(Z){var q=Z.parcatsViewModel;if(!q.dragDimension&&(u(q.pathSelection),T(q.dimensionSelection.selectAll("g.category")),x(q.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),R.loneUnhover(q.graphDiv._fullLayout._hoverlayer.node()),q.pathSelection.sort(h),-1===q.hoverinfoItems.indexOf("skip"))){"color"===Z.parcatsViewModel.hoveron?y(this,"plotly_unhover",S.event):D(this,"plotly_unhover",S.event)}}function H(Z){"fixed"!==Z.parcatsViewModel.arrangement&&(Z.dragDimensionDisplayInd=Z.model.displayInd,Z.initialDragDimensionDisplayInds=Z.parcatsViewModel.model.dimensions.map(function(q){return q.displayInd}),Z.dragHasMoved=!1,Z.dragCategoryDisplayInd=null,S.select(this).selectAll("g.category").select("rect.catrect").each(function(q){var fe=S.mouse(this)[0],re=S.mouse(this)[1];-2<=fe&&fe<=q.width+2&&-2<=re&&re<=q.height+2&&(Z.dragCategoryDisplayInd=q.model.displayInd,Z.initialDragCategoryDisplayInds=Z.model.categories.map(function($){return $.displayInd}),q.model.dragY=q.y,I.raiseToTop(this.parentNode),S.select(this.parentNode).selectAll("rect.bandrect").each(function($){$.y<re&&re<=$.y+$.height&&(Z.potentialClickBand=this)}))}),Z.parcatsViewModel.dragDimension=Z,R.loneUnhover(Z.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function U(Z){if("fixed"!==Z.parcatsViewModel.arrangement&&(Z.dragHasMoved=!0,null!==Z.dragDimensionDisplayInd)){var q=Z.dragDimensionDisplayInd,fe=q-1,re=q+1,$=Z.parcatsViewModel.dimensions[q];if(null!==Z.dragCategoryDisplayInd){var le=$.categories[Z.dragCategoryDisplayInd];le.model.dragY+=S.event.dy;var se=le.model.dragY,de=le.model.displayInd,we=$.categories,Ee=we[de-1],Me=we[de+1];void 0!==Ee&&se<Ee.y+Ee.height/2&&(le.model.displayInd=Ee.model.displayInd,Ee.model.displayInd=de),void 0!==Me&&se+le.height>Me.y+Me.height/2&&(le.model.displayInd=Me.model.displayInd,Me.model.displayInd=de),Z.dragCategoryDisplayInd=le.model.displayInd}if(null===Z.dragCategoryDisplayInd||"freeform"===Z.parcatsViewModel.arrangement){$.model.dragX=S.event.x;var Ne=Z.parcatsViewModel.dimensions[fe],Ve=Z.parcatsViewModel.dimensions[re];void 0!==Ne&&$.model.dragX<Ne.x+Ne.width&&($.model.displayInd=Ne.model.displayInd,Ne.model.displayInd=q),void 0!==Ve&&$.model.dragX+$.width>Ve.x&&($.model.displayInd=Ve.model.displayInd,Ve.model.displayInd=Z.dragDimensionDisplayInd),Z.dragDimensionDisplayInd=$.model.displayInd}Q(Z.parcatsViewModel),te(Z.parcatsViewModel),ue(Z.parcatsViewModel),ee(Z.parcatsViewModel)}}function G(Z){if("fixed"!==Z.parcatsViewModel.arrangement&&null!==Z.dragDimensionDisplayInd){S.select(this).selectAll("text").attr("font-weight","normal");var q={},fe=Y(Z.parcatsViewModel),re=Z.parcatsViewModel.model.dimensions.map(function(Ve){return Ve.displayInd}),$=Z.initialDragDimensionDisplayInds.some(function(Ve,Pe){return Ve!==re[Pe]});$&&re.forEach(function(Ve,Pe){q["dimensions["+Z.parcatsViewModel.model.dimensions[Pe].containerInd+"].displayindex"]=Ve});var le=!1;if(null!==Z.dragCategoryDisplayInd){var se=Z.model.categories.map(function(Ve){return Ve.displayInd});if(le=Z.initialDragCategoryDisplayInds.some(function(Ve,Pe){return Ve!==se[Pe]})){var de=Z.model.categories.slice().sort(function(Ve,Pe){return Ve.displayInd-Pe.displayInd}),we=de.map(function(Ve){return Ve.categoryValue}),Ee=de.map(function(Ve){return Ve.categoryLabel});q["dimensions["+Z.model.containerInd+"].categoryarray"]=[we],q["dimensions["+Z.model.containerInd+"].ticktext"]=[Ee],q["dimensions["+Z.model.containerInd+"].categoryorder"]="array"}}-1===Z.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!Z.dragHasMoved&&Z.potentialClickBand&&("color"===Z.parcatsViewModel.hoveron?y(Z.potentialClickBand,"plotly_click",S.event.sourceEvent):D(Z.potentialClickBand,"plotly_click",S.event.sourceEvent)),Z.model.dragX=null,null!==Z.dragCategoryDisplayInd&&(Z.parcatsViewModel.dimensions[Z.dragDimensionDisplayInd].categories[Z.dragCategoryDisplayInd].model.dragY=null,Z.dragCategoryDisplayInd=null),Z.dragDimensionDisplayInd=null,Z.parcatsViewModel.dragDimension=null,Z.dragHasMoved=null,Z.potentialClickBand=null,Q(Z.parcatsViewModel),te(Z.parcatsViewModel),S.transition().duration(300).ease("cubic-in-out").each(function(){ue(Z.parcatsViewModel,!0),ee(Z.parcatsViewModel,!0)}).each("end",function(){($||le)&&l.restyle(Z.parcatsViewModel.graphDiv,q,[fe])})}}function Y(Z){for(var q,fe=Z.graphDiv._fullData,re=0;re<fe.length;re++)if(Z.key===fe[re].uid){q=re;break}return q}function ee(Z,q){void 0===q&&(q=!1),Z.pathSelection.data(function(re){return re.paths},o),function fe(re){return q?re.transition():re}(Z.pathSelection).attr("d",function(re){return re.svgD})}function ue(Z,q){function fe(we){return q?we.transition():we}void 0===q&&(q=!1),Z.dimensionSelection.data(function(we){return we.dimensions},o);var re=Z.dimensionSelection.selectAll("g.category").data(function(we){return we.categories},o);fe(Z.dimensionSelection).attr("transform",function(we){return v(we.x,0)}),fe(re).attr("transform",function(we){return v(0,we.y)}),re.select(".dimlabel").text(function(we,Ee){return 0===Ee?we.parcatsViewModel.model.dimensions[we.model.dimensionInd].dimensionLabel:null}),re.select(".catlabel").attr("text-anchor",function(we){return f(we)?"start":"end"}).attr("x",function(we){return f(we)?we.width+5:-5}).each(function(we){var Ee,Me;f(we)?(Ee=we.width+5,Me="start"):(Ee=-5,Me="end"),S.select(this).selectAll("tspan").attr("x",Ee).attr("text-anchor",Me)});var se=re.selectAll("rect.bandrect").data(function(we){return we.bands},o),de=se.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(we){return we.color}).attr("fill-opacity",0);se.attr("fill",function(we){return we.color}).attr("width",function(we){return we.width}).attr("height",function(we){return we.height}).attr("y",function(we){return we.y}),x(de),se.each(function(){I.raiseToTop(this)}),se.exit().remove()}function ce(Z,q,fe){var Ce,re=fe[0],$=q.margin||{l:80,r:80,t:100,b:80},le=re.trace,se=le.domain,de=q.width,we=q.height,Ee=Math.floor(de*(se.x[1]-se.x[0])),Me=Math.floor(we*(se.y[1]-se.y[0])),Ne=se.x[0]*de+$.l,Ve=q.height-se.y[1]*q.height+$.t,Pe=le.line.shape;Ce="all"===le.hoverinfo?["count","probability"]:(le.hoverinfo||"").split("+");var Ie={trace:le,key:le.uid,model:re,x:Ne,y:Ve,width:Ee,height:Me,hoveron:le.hoveron,hoverinfoItems:Ce,arrangement:le.arrangement,bundlecolors:le.bundlecolors,sortpaths:le.sortpaths,labelfont:le.labelfont,categorylabelfont:le.tickfont,pathShape:Pe,dragDimension:null,margin:$,paths:[],dimensions:[],graphDiv:Z,traceSelection:null,pathSelection:null,dimensionSelection:null};return re.dimensions&&(Q(Ie),te(Ie)),Ie}function pe(Z,q,fe,re,$){var de,we,le=[],se=[];for(we=0;we<fe.length-1;we++)de=k(fe[we]+Z[we],Z[we+1]),le.push(de($)),se.push(de(1-$));var Ee="M "+Z[0]+","+q[0];for(Ee+="l"+fe[0]+",0 ",we=1;we<fe.length;we++)Ee+="C"+le[we-1]+","+q[we-1]+" "+se[we-1]+","+q[we]+" "+Z[we]+","+q[we],Ee+="l"+fe[we]+",0 ";for(Ee+="l0,"+re+" ",Ee+="l -"+fe[fe.length-1]+",0 ",we=fe.length-2;we>=0;we--)Ee+="C"+se[we]+","+(q[we+1]+re)+" "+le[we]+","+(q[we]+re)+" "+(Z[we]+fe[we])+","+(q[we]+re),Ee+="l-"+fe[we]+",0 ";return Ee+"Z"}function te(Z){var q=Z.dimensions,fe=Z.model,re=q.map(function(_t){return _t.categories.map(function(nt){return nt.y})}),$=Z.model.dimensions.map(function(_t){return _t.categories.map(function(nt){return nt.displayInd})}),le=Z.model.dimensions.map(function(_t){return _t.displayInd}),se=Z.dimensions.map(function(_t){return _t.model.dimensionInd}),de=q.map(function(_t){return _t.x}),we=q.map(function(_t){return _t.width}),Ee=[];for(var Me in fe.paths)fe.paths.hasOwnProperty(Me)&&Ee.push(fe.paths[Me]);function Ne(_t){var nt=_t.categoryInds.map(function(Re,Be){return $[Be][Re]});return se.map(function(Re){return nt[Re]})}Ee.sort(function(_t,nt){var ke=Ne(_t),Re=Ne(nt);return"backward"===Z.sortpaths&&(ke.reverse(),Re.reverse()),ke.push(_t.valueInds[0]),Re.push(nt.valueInds[0]),Z.bundlecolors&&(ke.unshift(_t.rawColor),Re.unshift(nt.rawColor)),ke<Re?-1:ke>Re?1:0});for(var Ve=new Array(Ee.length),Pe=q[0].model.count,Ce=q[0].categories.map(function(_t){return _t.height}).reduce(function(_t,nt){return _t+nt}),Ie=0;Ie<Ee.length;Ie++){var Qe,Ct,Je=Ee[Ie];Qe=Pe>0?Ce*(Je.count/Pe):0;for(var ze=new Array(re.length),Ke=0;Ke<Je.categoryInds.length;Ke++){var ot=$[Ke][Je.categoryInds[Ke]],We=le[Ke];ze[We]=re[We][ot],re[We][ot]+=Qe;var je=Z.dimensions[We].categories[ot],lt=je.bands.length,vt=je.bands[lt-1];if(void 0===vt||Je.rawColor!==vt.rawColor){var pt=void 0===vt?0:vt.y+vt.height;je.bands.push({key:pt,color:Je.color,rawColor:Je.rawColor,height:Qe,width:je.width,count:Je.count,y:pt,categoryViewModel:je,parcatsViewModel:Z})}else{var St=je.bands[lt-1];St.height+=Qe,St.count+=Je.count}}Ct=pe(de,ze,we,Qe,"hspline"===Z.pathShape?.5:0),Ve[Ie]={key:Je.valueInds[0],model:Je,height:Qe,leftXs:de,topYs:ze,dimWidths:we,svgD:Ct,parcatsViewModel:Z}}Z.paths=Ve}function Q(Z){var q=Z.model.dimensions.map(function(se){return{displayInd:se.displayInd,dimensionInd:se.dimensionInd}});q.sort(function(se,de){return se.displayInd-de.displayInd});var fe=[];for(var re in q)fe.push(K(Z,Z.model.dimensions[q[re].dimensionInd]));Z.dimensions=fe}function K(Z,q){var we,$=Z.model.dimensions.length;we=40+($>1?(Z.width-80-16)/($-1):0)*q.displayInd;var Ie,Je,Qe,Ke,Ee=[],Me=Z.model.maxCats,Ne=q.categories.length,Pe=q.count,Ce=Z.height-8*(Me-1),ut=8*(Me-Ne)/2,ot=q.categories.map(function(We){return{displayInd:We.displayInd,categoryInd:We.categoryInd}});for(ot.sort(function(We,je){return We.displayInd-je.displayInd}),Ke=0;Ke<Ne;Ke++)Qe={key:(Je=q.categories[ot[Ke].categoryInd]).valueInds[0],model:Je,width:16,height:Ie=Pe>0?Je.count/Pe*Ce:0,y:null!==Je.dragY?Je.dragY:ut,bands:[],parcatsViewModel:Z},ut=ut+Ie+8,Ee.push(Qe);return{key:q.dimensionInd,x:null!==q.dragX?q.dragX:we,y:0,width:16,model:q,categories:Ee,parcatsViewModel:Z,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}oe.exports=function(Z,q,fe,re){c(fe,Z,re,q)}},45784:function(oe,J,t){"use strict";var S=t(45460);oe.exports=function(l,R,I,v){var w=l._fullLayout,n=w._size;S(l,w._paper,R,{width:n.w,height:n.h,margin:{t:n.t,r:n.r,b:n.b,l:n.l}},I,v)}},73362:function(oe,J,t){"use strict";var S=t(50693),k=t(13838),l=t(41940),R=t(27670).Y,I=t(1426).extendFlat,v=t(44467).templatedArray;oe.exports={domain:R({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:l({editType:"plot"}),tickfont:l({editType:"plot"}),rangefont:l({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:I({},k.tickvals,{editType:"plot"}),ticktext:I({},k.ticktext,{editType:"plot"}),tickformat:I({},k.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:I({editType:"calc"},S("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(oe,J,t){"use strict";var S=t(25706),k=t(39898),l=t(28984).keyFun,R=t(28984).repeat,I=t(71828).sorterAsc,v=t(71828).strTranslate,w=S.bar.snapRatio;function r(G,Y){return G*(1-w)+Y*w}var n=S.bar.snapClose;function c(G,Y){return G*(1-n)+Y*n}function o(G,Y,ee,ue){if(function f(G,Y){for(var ee=0;ee<Y.length;ee++)if(G>=Y[ee][0]&&G<=Y[ee][1])return!0;return!1}(ee,ue))return ee;var ce=G?-1:1,pe=0,te=Y.length-1;if(ce<0){var Q=pe;pe=te,te=Q}for(var K=Y[pe],Z=K,q=pe;ce*q<ce*te;q+=ce){var fe=q+ce,re=Y[fe];if(ce*ee<ce*c(K,re))return r(K,Z);if(ce*ee<ce*re||fe===te)return r(re,K);Z=K,K=re}}function h(G){G.attr("x",-S.bar.captureWidth/2).attr("width",S.bar.captureWidth)}function d(G){G.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function b(G){if(!G.brush.filterSpecified)return"0,"+G.height;for(var ue,ce,pe,Y=p(G.brush.filter.getConsolidated(),G.height),ee=[0],te=Y.length?Y[0][0]:null,Q=0;Q<Y.length;Q++)ce=(ue=Y[Q])[1]-ue[0],ee.push(te),ee.push(ce),(pe=Q+1)<Y.length&&(te=Y[pe][0]-ue[1]);return ee.push(G.height),ee}function p(G,Y){return G.map(function(ee){return ee.map(function(ue){return Math.max(0,ue*Y)}).sort(I)})}function m(){k.select(document.body).style("cursor",null)}function u(G){G.attr("stroke-dasharray",b)}function g(G,Y){var ee=k.select(G).selectAll(".highlight, .highlight-shadow");u(Y?ee.transition().duration(S.bar.snapDuration).each("end",Y):ee)}function C(G,Y){var te,ee=G.brush,ce=NaN,pe={};if(ee.filterSpecified){var Q=G.height,K=ee.filter.getConsolidated(),Z=p(K,Q),q=NaN,fe=NaN,re=NaN;for(te=0;te<=Z.length;te++){var $=Z[te];if($&&$[0]<=Y&&Y<=$[1]){q=te;break}if(fe=te?te-1:NaN,$&&$[0]>Y){re=te;break}}if(ce=q,isNaN(ce)&&(ce=isNaN(fe)||isNaN(re)?isNaN(fe)?re:fe:Y-Z[fe][1]<Z[re][0]-Y?fe:re),!isNaN(ce)){var le=Z[ce],se=function A(G,Y){var ee=S.bar.handleHeight;if(!(Y>G[1]+ee||Y<G[0]-ee))return Y>=.9*G[1]+.1*G[0]?"n":Y<=.9*G[0]+.1*G[1]?"s":"ns"}(le,Y);se&&(pe.interval=K[ce],pe.intervalPix=le,pe.region=se)}}if(G.ordinal&&!pe.region){var de=G.unitTickvals,we=G.unitToPaddedPx.invert(Y);for(te=0;te<de.length;te++){var Ee=[.25*de[Math.max(te-1,0)]+.75*de[te],.25*de[Math.min(te+1,de.length-1)]+.75*de[te]];if(we>=Ee[0]&&we<=Ee[1]){pe.clickableOrdinalRange=Ee;break}}}return pe}function L(G,Y){k.event.sourceEvent.stopPropagation();var ee=Y.height-k.mouse(G)[1]-2*S.verticalPadding,ue=Y.brush.svgBrush;ue.wasDragged=!0,ue._dragging=!0,ue.newExtent=ue.grabbingBar?[ee-ue.grabPoint,ee+ue.barLength-ue.grabPoint].map(Y.unitToPaddedPx.invert):[ue.startExtent,Y.unitToPaddedPx.invert(ee)].sort(I),Y.brush.filterSpecified=!0,ue.extent=ue.stayingIntervals.concat([ue.newExtent]),ue.brushCallback(Y),g(G.parentNode)}function E(G,Y){var ue=C(Y,Y.height-k.mouse(G)[1]-2*S.verticalPadding),ce="crosshair";ue.clickableOrdinalRange?ce="pointer":ue.region&&(ce=ue.region+"-resize"),k.select(document.body).style("cursor",ce)}function M(G){G.on("mousemove",function(Y){k.event.preventDefault(),Y.parent.inBrushDrag||E(this,Y)}).on("mouseleave",function(Y){Y.parent.inBrushDrag||m()}).call(k.behavior.drag().on("dragstart",function(Y){!function T(G,Y){k.event.sourceEvent.stopPropagation();var ee=Y.height-k.mouse(G)[1]-2*S.verticalPadding,ue=Y.unitToPaddedPx.invert(ee),ce=Y.brush,pe=C(Y,ee),te=pe.interval,Q=ce.svgBrush;if(Q.wasDragged=!1,Q.grabbingBar="ns"===pe.region,Q.grabbingBar){var K=te.map(Y.unitToPaddedPx);Q.grabPoint=ee-K[0]-S.verticalPadding,Q.barLength=K[1]-K[0]}Q.clickableOrdinalRange=pe.clickableOrdinalRange,Q.stayingIntervals=Y.multiselect&&ce.filterSpecified?ce.filter.getConsolidated():[],te&&(Q.stayingIntervals=Q.stayingIntervals.filter(function(Z){return Z[0]!==te[0]&&Z[1]!==te[1]})),Q.startExtent=pe.region?te["s"===pe.region?1:0]:ue,Y.parent.inBrushDrag=!0,Q.brushStartCallback()}(this,Y)}).on("drag",function(Y){L(this,Y)}).on("dragend",function(Y){!function x(G,Y){var ee=Y.brush,ue=ee.filter,ce=ee.svgBrush;ce._dragging||(E(G,Y),L(G,Y),Y.brush.svgBrush.wasDragged=!1),ce._dragging=!1,k.event.sourceEvent.stopPropagation();var te=ce.grabbingBar;if(ce.grabbingBar=!1,ce.grabLocation=void 0,Y.parent.inBrushDrag=!1,m(),!ce.wasDragged)return ce.wasDragged=void 0,ce.clickableOrdinalRange?ee.filterSpecified&&Y.multiselect?ce.extent.push(ce.clickableOrdinalRange):(ce.extent=[ce.clickableOrdinalRange],ee.filterSpecified=!0):te?(ce.extent=ce.stayingIntervals,0===ce.extent.length&&F(ee)):F(ee),ce.brushCallback(Y),g(G.parentNode),void ce.brushEndCallback(ee.filterSpecified?ue.getConsolidated():[]);var Q=function(){ue.set(ue.getConsolidated())};if(Y.ordinal){var K=Y.unitTickvals;K[K.length-1]<K[0]&&K.reverse(),ce.newExtent=[o(0,K,ce.newExtent[0],ce.stayingIntervals),o(1,K,ce.newExtent[1],ce.stayingIntervals)];var Z=ce.newExtent[1]>ce.newExtent[0];ce.extent=ce.stayingIntervals.concat(Z?[ce.newExtent]:[]),ce.extent.length||F(ee),ce.brushCallback(Y),Z?g(G.parentNode,Q):(Q(),g(G.parentNode))}else Q();ce.brushEndCallback(ee.filterSpecified?ue.getConsolidated():[])}(this,Y)}))}function i(G,Y){return G[0]-Y[0]}function F(G){G.filterSpecified=!1,G.svgBrush.extent=[[-1/0,1/0]]}function _(G){return function(ee){var ue=ee.brush,pe=function B(G){return G.svgBrush.extent.map(function(Y){return Y.slice()})}(ue).slice();ue.filter.set(pe),G()}}function z(G){for(var ue,Y=G.slice(),ee=[],ce=Y.shift();ce;){for(ue=ce.slice();(ce=Y.shift())&&ce[0]<=ue[1];)ue[1]=Math.max(ue[1],ce[1]);ee.push(ue)}return 1===ee.length&&ee[0][0]>ee[0][1]&&(ee=[]),ee}oe.exports={makeBrush:function H(G,Y,ee,ue,ce,pe){var te=function V(){var Y,ee,G=[];return{set:function(ue){1===(G=ue.map(function(ce){return ce.slice().sort(I)}).sort(i)).length&&G[0][0]===-1/0&&G[0][1]===1/0&&(G=[[0,-1]]),Y=z(G),ee=G.reduce(function(ce,pe){return[Math.min(ce[0],pe[0]),Math.max(ce[1],pe[1])]},[1/0,-1/0])},get:function(){return G.slice()},getConsolidated:function(){return Y},getBounds:function(){return ee}}}();return te.set(ee),{filter:te,filterSpecified:Y,svgBrush:{extent:[],brushStartCallback:ue,brushCallback:_(ce),brushEndCallback:pe}}},ensureAxisBrush:function y(G,Y,ee){var ue=G.selectAll("."+S.cn.axisBrush).data(R,l);ue.enter().append("g").classed(S.cn.axisBrush,!0),function D(G,Y,ee){var ue=ee._context.staticPlot,ce=G.selectAll(".background").data(R);ce.enter().append("rect").classed("background",!0).call(h).call(d).style("pointer-events",ue?"none":"auto").attr("transform",v(0,S.verticalPadding)),ce.call(M).attr("height",function(Q){return Q.height-S.verticalPadding});var pe=G.selectAll(".highlight-shadow").data(R);pe.enter().append("line").classed("highlight-shadow",!0).attr("x",-S.bar.width/2).attr("stroke-width",S.bar.width+S.bar.strokeWidth).attr("stroke",Y).attr("opacity",S.bar.strokeOpacity).attr("stroke-linecap","butt"),pe.attr("y1",function(Q){return Q.height}).call(u);var te=G.selectAll(".highlight").data(R);te.enter().append("line").classed("highlight",!0).attr("x",-S.bar.width/2).attr("stroke-width",S.bar.width-S.bar.strokeWidth).attr("stroke",S.bar.fillColor).attr("opacity",S.bar.fillOpacity).attr("stroke-linecap","butt"),te.attr("y1",function(Q){return Q.height}).call(u)}(ue,Y,ee)},cleanRanges:function U(G,Y){if(Array.isArray(G[0])?(G=G.map(function(ue){return ue.sort(I)}),G=Y.multiselect?z(G.sort(i)):[G[0]]):G=[G.sort(I)],Y.tickvals){var ee=Y.tickvals.slice().sort(I);if(!(G=G.map(function(ue){var ce=[o(0,ee,ue[0],[]),o(1,ee,ue[1],[])];if(ce[1]>ce[0])return ce}).filter(function(ue){return ue})).length)return}return G.length>1?G:G[0]}}},71791:function(oe,J,t){"use strict";oe.exports={attributes:t(73362),supplyDefaults:t(3633),calc:t(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:t(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(oe,J,t){"use strict";var S=t(39898),k=t(27659).a0,l=t(21341),R=t(77922);J.name="parcoords",J.plot=function(I){var v=k(I.calcdata,"parcoords")[0];v.length&&l(I,v)},J.clean=function(I,v,w,r){var n=r._has&&r._has("parcoords"),c=v._has&&v._has("parcoords");n&&!c&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},J.toSVG=function(I){var v=I._fullLayout._glimages,w=S.select(I).selectAll(".svg-container");w.filter(function(c,o){return o===w.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function n(){var c=this,o=c.toDataURL("image/png");v.append("svg:image").attr({xmlns:R.svg,"xlink:href":o,preserveAspectRatio:"none",x:0,y:0,width:c.style.width,height:c.style.height})}),window.setTimeout(function(){S.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(oe,J,t){"use strict";var S=t(71828).isArrayOrTypedArray,k=t(21081),l=t(28984).wrap;oe.exports=function(v,w){var r,n;return k.hasColorscale(w,"line")&&S(w.line.color)?(r=w.line.color,n=k.extractOpts(w.line).colorscale,k.calc(v,w,{vals:r,containerStr:"line",cLetter:"c"})):(r=function R(I){for(var v=new Array(I),w=0;w<I;w++)v[w]=.5;return v}(w._length),n=[[0,w.line.color],[1,w.line.color]]),l({lineColor:r,cscale:n})}},25706:function(oe){"use strict";oe.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(oe,J,t){"use strict";var S=t(71828),k=t(52075).hasColorscale,l=t(1586),R=t(27670).c,I=t(85501),v=t(89298),w=t(73362),r=t(57920),n=t(25706).maxDimensionCount,c=t(94397);function f(h,d,b,p){function A(T,L){return S.coerce(h,d,w.dimensions,T,L)}var m=A("values"),u=A("visible");if(m&&m.length||(u=d.visible=!1),u){A("label"),A("tickvals"),A("ticktext"),A("tickformat");var g=A("range");d._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:g},v.setConvert(d._ax,p.layout),A("multiselect");var C=A("constraintrange");C&&(d.constraintrange=r.cleanRanges(C,d))}}oe.exports=function(d,b,p,A){function m(L,x){return S.coerce(d,b,w,L,x)}var u=d.dimensions;Array.isArray(u)&&u.length>n&&(S.log("parcoords traces support up to "+n+" dimensions at the moment"),u.splice(n));var g=I(d,b,{name:"dimensions",layout:A,handleItemDefaults:f}),C=function o(h,d,b,p,A){var m=A("line.color",b);if(k(h,"line")&&S.isArrayOrTypedArray(m)){if(m.length)return A("line.colorscale"),l(h,d,p,A,{prefix:"line.",cLetter:"c"}),m.length;d.line.color=b}return 1/0}(d,b,p,A,m);R(b,A,m),(!Array.isArray(g)||!g.length)&&(b.visible=!1),c(b,g,"values",C);var T={family:A.font.family,size:Math.round(A.font.size/1.2),color:A.font.color};S.coerceFont(m,"labelfont",T),S.coerceFont(m,"tickfont",T),S.coerceFont(m,"rangefont",T),m("labelangle"),m("labelside"),m("unselected.line.color"),m("unselected.line.opacity")}},1602:function(oe,J,t){"use strict";var S=t(71828).isTypedArray;J.convertTypedArray=function(k){return S(k)?Array.prototype.slice.call(k):k},J.isOrdinal=function(k){return!!k.tickvals},J.isVisible=function(k){return k.visible||!("visible"in k)}},67618:function(oe,J,t){"use strict";var S=t(71791);S.plot=t(21341),oe.exports=S},83398:function(oe,J,t){"use strict";var S=t(56068),k=S(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\nuniform sampler2D maskTexture, palette;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(maskTexture,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),l=S(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),R=t(25706).maxDimensionCount,I=t(71828),v=1e-6,w=2048,r=new Uint8Array(4),n=new Uint8Array(4),c={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function f(E,M,i,D,y){var B=E._gl;B.enable(B.SCISSOR_TEST),B.scissor(M,i,D,y),E.clear({color:[0,0,0,0],depth:1})}function h(E,M,i,D,y,B){var F=B.key;i.drawCompleted||(function o(E){E.read({x:0,y:0,width:1,height:1,data:r})}(E),i.drawCompleted=!0),function _(z){var V=Math.min(D,y-z*D);0===z&&(window.cancelAnimationFrame(i.currentRafs[F]),delete i.currentRafs[F],f(E,B.scissorX,B.scissorY,B.scissorWidth,B.viewBoxSize[1])),!i.clearOnly&&(B.count=2*V,B.offset=2*z*D,M(B),z*D+V<y&&(i.currentRafs[F]=window.requestAnimationFrame(function(){_(z+1)})),i.drawCompleted=!1)}(0)}function d(E){return Math.max(v,Math.min(1-v,E))}function b(E,M){for(var i=new Array(256),D=0;D<256;D++)i[D]=E(D/255).concat(M);return i}function p(E,M){return(E>>>8*M)%256/255}function m(E,M,i){for(var D=new Array(8*M),y=0,B=0;B<M;B++)for(var F=0;F<2;F++)for(var _=0;_<4;_++){var z=4*E+_,V=i[64*B+z];63===z&&0===F&&(V*=-1),D[y++]=V}return D}function u(E){var M="0"+E;return M.substr(M.length-2)}function g(E){return E<R?"p"+u(E+1)+"_"+u(E+4):"colors"}function L(E,M,i,D,y,B,F,_,z,V,H,U,G,Y){for(var ee=[[],[]],ue=0;ue<64;ue++)ee[0][ue]=ue===y?1:0,ee[1][ue]=ue===B?1:0;var ce=E.lines.canvasOverdrag*Y,pe=E.domain,te=E.canvasWidth*Y,Q=E.canvasHeight*Y,K=E.pad.l*Y,Z=E.pad.b*Y,q=E.layoutHeight*Y,fe=E.layoutWidth*Y,re=E.deselectedLines.color,$=E.deselectedLines.opacity;return I.extendFlat({key:H,resolution:[te,Q],viewBoxPos:[(F*=Y)+ce,_*=Y],viewBoxSize:[z*=Y,V*=Y],i0:y,i1:B,dim0A:ee[0].slice(0,16),dim0B:ee[0].slice(16,32),dim0C:ee[0].slice(32,48),dim0D:ee[0].slice(48,64),dim1A:ee[1].slice(0,16),dim1B:ee[1].slice(16,32),dim1C:ee[1].slice(32,48),dim1D:ee[1].slice(48,64),drwLayer:U,contextColor:[re[0]/255,re[1]/255,re[2]/255,"auto"!==$?re[3]*$:Math.max(1/255,Math.pow(1/E.lines.color.length,1/3))],scissorX:(D===M?0:F+ce)+(K-ce)+fe*pe.x[0],scissorWidth:(D===i?te-F+ce:z+.5)+(D===M?F+ce:0),scissorY:_+Z+q*pe.y[0],scissorHeight:V,viewportX:K-ce+fe*pe.x[0],viewportY:Z+q*pe.y[0],viewportWidth:te,viewportHeight:Q},G)}function x(E){var M=w-1,i=Math.max(0,Math.floor(E[0]*M),0),D=Math.min(M,Math.ceil(E[1]*M),M);return[Math.min(i,D),Math.max(i,D)]}oe.exports=function(E,M){var V,U,G,ee,i=M.context,D=M.pick,y=M.regl,B=y._gl,F=B.getParameter(B.ALIASED_LINE_WIDTH_RANGE),_=Math.max(F[0],Math.min(F[1],M.viewModel.plotGlPixelRatio)),z={currentRafs:{},drawCompleted:!0,clearOnly:!1},Y=function T(E){for(var M={},i=0;i<=R;i+=4)M[g(i)]=E.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return M}(y),ue=y.texture(c),ce=[];te(M);var pe=y({profile:!1,blend:{enable:i,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!i,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:y.prop("scissorX"),y:y.prop("scissorY"),width:y.prop("scissorWidth"),height:y.prop("scissorHeight")}},viewport:{x:y.prop("viewportX"),y:y.prop("viewportY"),width:y.prop("viewportWidth"),height:y.prop("viewportHeight")},dither:!1,vert:k,frag:l,primitive:"lines",lineWidth:_,attributes:Y,uniforms:{resolution:y.prop("resolution"),viewBoxPos:y.prop("viewBoxPos"),viewBoxSize:y.prop("viewBoxSize"),dim0A:y.prop("dim0A"),dim1A:y.prop("dim1A"),dim0B:y.prop("dim0B"),dim1B:y.prop("dim1B"),dim0C:y.prop("dim0C"),dim1C:y.prop("dim1C"),dim0D:y.prop("dim0D"),dim1D:y.prop("dim1D"),loA:y.prop("loA"),hiA:y.prop("hiA"),loB:y.prop("loB"),hiB:y.prop("hiB"),loC:y.prop("loC"),hiC:y.prop("hiC"),loD:y.prop("loD"),hiD:y.prop("hiD"),palette:ue,contextColor:y.prop("contextColor"),maskTexture:y.prop("maskTexture"),drwLayer:y.prop("drwLayer"),maskHeight:y.prop("maskHeight")},offset:y.prop("offset"),count:y.prop("count")});function te(re){V=re.model,U=re.viewModel.dimensions.slice(),G=U[0]?U[0].values.length:0;var $=V.lines,le=D?$.color.map(function(de,we){return we/$.color.length}):$.color,se=function A(E,M,i){for(var D=new Array(E*(R+4)),y=0,B=0;B<E;B++){for(var F=0;F<R;F++)D[y++]=F<M.length?M[F].paddedUnitValues[B]:.5;D[y++]=p(B,2),D[y++]=p(B,1),D[y++]=p(B,0),D[y++]=d(i[B])}return D}(G,U,le);(function C(E,M,i){for(var D=0;D<=R;D+=4)E[g(D)](m(D/4,M,i))})(Y,G,se),!i&&!D&&(ue=y.texture(I.extendFlat({data:b(V.unitToColor,255)},c)))}return{render:function K(re,$,le){var de,we,Ee,se=re.length,Me=1/0,Ne=-1/0;for(de=0;de<se;de++)re[de].dim0.canvasX<Me&&(Me=re[de].dim0.canvasX,we=de),re[de].dim1.canvasX>Ne&&(Ne=re[de].dim1.canvasX,Ee=de);0===se&&f(y,0,0,V.canvasWidth,V.canvasHeight);var Ve=function Q(re){var $,le,se,de=[[],[]];for(se=0;se<64;se++){var we=!re&&se<U.length?U[se].brush.filter.getBounds():[-1/0,1/0];de[0][se]=we[0],de[1][se]=we[1]}var Me=new Array(16384);for($=0;$<16384;$++)Me[$]=255;if(!re)for($=0;$<U.length;$++){var Ne=$%8,Ve=($-Ne)/8,Pe=Math.pow(2,Ne),Ie=U[$].brush.filter.get();if(!(Ie.length<2)){var Je=x(Ie[0])[1];for(le=1;le<Ie.length;le++){var Qe=x(Ie[le]);for(se=Je+1;se<Qe[0];se++)Me[8*se+Ve]&=~Pe;Je=Math.max(Je,Qe[1])}}}var ze={shape:[8,w],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Me};return ee?ee(ze):ee=y.texture(ze),{maskTexture:ee,maskHeight:w,loA:de[0].slice(0,16),loB:de[0].slice(16,32),loC:de[0].slice(32,48),loD:de[0].slice(48,64),hiA:de[1].slice(0,16),hiB:de[1].slice(16,32),hiC:de[1].slice(32,48),hiD:de[1].slice(48,64)}}(i);for(de=0;de<se;de++){var Pe=re[de],Ce=Pe.dim0.crossfilterDimensionIndex,Ie=Pe.dim1.crossfilterDimensionIndex,Je=Pe.canvasX,Qe=Pe.canvasY,ze=Je+Pe.panelSizeX,Ke=Pe.plotGlPixelRatio;if($||!ce[Ce]||ce[Ce][0]!==Je||ce[Ce][1]!==ze){ce[Ce]=[Je,ze];var ut=L(V,we,Ee,de,Ce,Ie,Je,Qe,Pe.panelSizeX,Pe.panelSizeY,Pe.dim0.crossfilterDimensionIndex,i?0:D?2:1,Ve,Ke);z.clearOnly=le,h(y,pe,z,$?V.lines.blockLineCount:G,G,ut)}}},readPixel:function Z(re,$){return y.read({x:re,y:$,width:1,height:1,data:n}),n},readPixels:function q(re,$,le,se){var de=new Uint8Array(4*le*se);return y.read({x:re,y:$,width:le,height:se,data:de}),de},destroy:function fe(){for(var re in E.style["pointer-events"]="none",ue.destroy(),ee&&ee.destroy(),Y)Y[re].destroy()},update:te}}},94397:function(oe){"use strict";oe.exports=function(J,t,S,k){var l,R;for(k||(k=1/0),l=0;l<t.length;l++)(R=t[l]).visible&&(k=Math.min(k,R[S].length));for(k===1/0&&(k=0),J._length=k,l=0;l<t.length;l++)(R=t[l]).visible&&(R._length=k);return k}},17171:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=k.numberFormat,R=t(36652),I=t(89298),v=k.strRotate,w=k.strTranslate,r=t(63893),n=t(91424),c=t(21081),o=t(28984),f=o.keyFun,h=o.repeat,d=o.unwrap,b=t(1602),p=t(25706),A=t(57920),m=t(83398);function u(ee,ue,ce){return k.aggNums(ee,null,ue,ce)}function g(ee,ue){return T(u(Math.min,ee,ue),u(Math.max,ee,ue))}function C(ee){var ue=ee.range;return ue?T(ue[0],ue[1]):g(ee.values,ee._length)}function T(ee,ue){return(isNaN(ee)||!isFinite(ee))&&(ee=0),(isNaN(ue)||!isFinite(ue))&&(ue=0),ee===ue&&(0===ee?(ee-=1,ue+=1):(ee*=.9,ue*=1.1)),[ee,ue]}function x(ee,ue,ce,pe,te){var Q=C(ce);return pe?S.scale.ordinal().domain(pe.map(function L(ee,ue){return ue?function(ce,pe){return ue[pe]??ee(ce)}:ee}(l(ce.tickformat),te))).range(pe.map(function(K){return ee-ue+(K-Q[0])/(Q[1]-Q[0])*(2*ue-ee)})):S.scale.linear().domain(Q).range([ee-ue,ue])}function i(ee){if(ee.tickvals){var ue=C(ee);return S.scale.ordinal().domain(ee.tickvals).range(ee.tickvals.map(function(ce){return(ce-ue[0])/(ue[1]-ue[0])}))}}function D(ee){var ue=ee.map(function(Q){return Q[0]}),ce=ee.map(function(Q){var K=R(Q[1]);return S.rgb("rgb("+K[0]+","+K[1]+","+K[2]+")")}),te="rgb".split("").map(function(Q){return S.scale.linear().clamp(!0).domain(ue).range(ce.map(function(Q){return function(K){return K[Q]}}(Q)))});return function(Q){return te.map(function(K){return K(Q)})}}function y(ee){return ee.dimensions.some(function(ue){return ue.brush.filterSpecified})}function B(ee,ue,ce){var pe=d(ue),te=pe.trace,Q=b.convertTypedArray(pe.lineColor),K=te.line,Z={color:R(te.unselected.line.color),opacity:te.unselected.line.opacity},q=c.extractOpts(K),fe=q.reversescale?c.flipScale(pe.cscale):pe.cscale,re=te.domain,$=te.dimensions,le=ee.width,se=te.labelangle,de=te.labelside,we=te.labelfont,Ee=te.tickfont,Me=te.rangefont,Ne=k.extendDeepNoArrays({},K,{color:Q.map(S.scale.linear().domain(C({values:Q,range:[q.min,q.max],_length:te._length}))),blockLineCount:p.blockLineCount,canvasOverdrag:p.overdrag*p.canvasPixelRatio}),Ve=Math.floor(le*(re.x[1]-re.x[0])),Pe=Math.floor(ee.height*(re.y[1]-re.y[0])),Ce=ee.margin||{l:80,r:80,t:100,b:80},Ie=Ve,Je=Pe;return{key:ce,colCount:$.filter(b.isVisible).length,dimensions:$,tickDistance:p.tickDistance,unitToColor:D(fe),lines:Ne,deselectedLines:Z,labelAngle:se,labelSide:de,labelFont:we,tickFont:Ee,rangeFont:Me,layoutWidth:le,layoutHeight:ee.height,domain:re,translateX:re.x[0]*le,translateY:ee.height-re.y[1]*ee.height,pad:Ce,canvasWidth:Ie*p.canvasPixelRatio+2*Ne.canvasOverdrag,canvasHeight:Je*p.canvasPixelRatio,width:Ie,height:Je,canvasPixelRatio:p.canvasPixelRatio}}function F(ee,ue,ce){var pe=ce.width,te=ce.height,Q=ce.dimensions,K=ce.canvasPixelRatio,Z=function(le){return pe*le/Math.max(1,ce.colCount-1)},q=p.verticalPadding/te,fe=function E(ee,ue){return S.scale.linear().range([ue,ee-ue])}(te,p.verticalPadding),re={key:ce.key,xScale:Z,model:ce,inBrushDrag:!1},$={};return re.dimensions=Q.filter(b.isVisible).map(function(le,se){var de=function M(ee,ue){return S.scale.linear().domain(C(ee)).range([ue,1-ue])}(le,q),we=$[le.label];$[le.label]=(we||0)+1;var Ee=le.label+(we?"__"+we:""),Me=le.constraintrange,Ne=Me&&Me.length;Ne&&!Array.isArray(Me[0])&&(Me=[Me]);var Ve=Ne?Me.map(function(We){return We.map(de)}):[[-1/0,1/0]],Ce=le.values;Ce.length>le._length&&(Ce=Ce.slice(0,le._length));var Je,Ie=le.tickvals;function Qe(We,je){return{val:We,text:Je[je]}}function ze(We,je){return We.val-je.val}if(Array.isArray(Ie)&&Ie.length){Je=le.ticktext,Array.isArray(Je)&&Je.length?Je.length>Ie.length?Je=Je.slice(0,Ie.length):Ie.length>Je.length&&(Ie=Ie.slice(0,Je.length)):Je=Ie.map(l(le.tickformat));for(var Ke=1;Ke<Ie.length;Ke++)if(Ie[Ke]<Ie[Ke-1]){for(var ut=Ie.map(Qe).sort(ze),ot=0;ot<Ie.length;ot++)Ie[ot]=ut[ot].val,Je[ot]=ut[ot].text;break}}else Ie=void 0;return Ce=b.convertTypedArray(Ce),{key:Ee,label:le.label,tickFormat:le.tickformat,tickvals:Ie,ticktext:Je,ordinal:b.isOrdinal(le),multiselect:le.multiselect,xIndex:se,crossfilterDimensionIndex:se,visibleIndex:le._index,height:te,values:Ce,paddedUnitValues:Ce.map(de),unitTickvals:Ie&&Ie.map(de),xScale:Z,x:Z(se),canvasX:Z(se)*K,unitToPaddedPx:fe,domainScale:x(te,p.verticalPadding,le,Ie,Je),ordinalScale:i(le),parent:re,model:ce,brush:A.makeBrush(ee,Ne,Ve,function(){ee.linePickActive(!1)},function(){var We=re;We.focusLayer&&We.focusLayer.render(We.panels,!0);var je=y(We);!ee.contextShown()&&je?(We.contextLayer&&We.contextLayer.render(We.panels,!0),ee.contextShown(!0)):ee.contextShown()&&!je&&(We.contextLayer&&We.contextLayer.render(We.panels,!0,!0),ee.contextShown(!1))},function(We){if(re.focusLayer.render(re.panels,!0),re.pickLayer&&re.pickLayer.render(re.panels,!0),ee.linePickActive(!0),ue&&ue.filterChanged){var je=de.invert,lt=We.map(function(vt){return vt.map(je).sort(k.sorterAsc)}).sort(function(vt,pt){return vt[0]-pt[0]});ue.filterChanged(re.key,le._index,lt)}})}}),re}function _(ee){ee.classed(p.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function V(ee,ue){var pe=ee*Math.PI/180;return{dir:"top"===ue?1:-1,dx:Math.sin(pe),dy:Math.cos(pe),degrees:ee}}function H(ee,ue,ce){for(var pe=ue.panels||(ue.panels=[]),te=ee.data(),Q=0;Q<te.length-1;Q++){var K=pe[Q]||(pe[Q]={}),Z=te[Q],q=te[Q+1];K.dim0=Z,K.dim1=q,K.canvasX=Z.canvasX,K.panelSizeX=q.canvasX-Z.canvasX,K.panelSizeY=ue.model.canvasHeight,K.y=0,K.canvasY=0,K.plotGlPixelRatio=ce}}function G(ee,ue){return I.tickText(ee._ax,ue,!1).text}function Y(ee,ue){if(ee.ordinal)return"";var ce=ee.domainScale.domain();return G(ee.model.dimensions[ee.visibleIndex],ce[ue?ce.length-1:0])}oe.exports=function(ue,ce,pe,te){var Q=ue._context.staticPlot,K=ue._fullLayout,Z=K._toppaper,q=K._glcontainer,fe=ue._context.plotGlPixelRatio,re=ue._fullLayout.paper_bgcolor;!function U(ee){for(var ue=0;ue<ee.length;ue++)for(var ce=0;ce<ee[ue].length;ce++)for(var pe=ee[ue][ce].trace,te=pe.dimensions,Q=0;Q<te.length;Q++){var K=te[Q].values,Z=te[Q]._ax;Z&&(Z.range=Z.range?T(Z.range[0],Z.range[1]):g(K,pe._length),Z.dtick||(Z.dtick=.01*(Math.abs(Z.range[1]-Z.range[0])||1)),Z.tickformat=te[Q].tickformat,I.calcTicks(Z),Z.cleanRange())}}(ce);var $=function z(){var ee=!0,ue=!1;return{linePickActive:function(ce){return arguments.length?ee=!!ce:ee},contextShown:function(ce){return arguments.length?ue=!!ce:ue}}}(),le=ce.filter(function(ot){return d(ot).trace.visible}).map(B.bind(0,pe)).map(F.bind(0,$,te));q.each(function(ot,We){return k.extendFlat(ot,le[We])});var se=q.selectAll(".gl-canvas").each(function(ot){ot.viewModel=le[0],ot.viewModel.plotGlPixelRatio=fe,ot.viewModel.paperColor=re,ot.model=ot.viewModel?ot.viewModel.model:null}),de=null;se.filter(function(ot){return ot.pick}).style("pointer-events",Q?"none":"auto").on("mousemove",function(ot){if($.linePickActive()&&ot.lineLayer&&te&&te.hover){var We=S.event,je=this.width,lt=this.height,vt=S.mouse(this),pt=vt[0],St=vt[1];if(pt<0||St<0||pt>=je||St>=lt)return;var Ct=ot.lineLayer.readPixel(pt,lt-1-St),_t=0!==Ct[3],nt=_t?Ct[2]+256*(Ct[1]+256*Ct[0]):null,ke={x:pt,y:St,clientX:We.clientX,clientY:We.clientY,dataIndex:ot.model.key,curveNumber:nt};nt!==de&&(_t?te.hover(ke):te.unhover&&te.unhover(ke),de=nt)}}),se.style("opacity",function(ot){return ot.pick?0:1}),Z.style("background","rgba(255, 255, 255, 0)");var Ee=Z.selectAll("."+p.cn.parcoords).data(le,f);Ee.exit().remove(),Ee.enter().append("g").classed(p.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ee.attr("transform",function(ot){return w(ot.model.translateX,ot.model.translateY)});var Me=Ee.selectAll("."+p.cn.parcoordsControlView).data(h,f);Me.enter().append("g").classed(p.cn.parcoordsControlView,!0),Me.attr("transform",function(ot){return w(ot.model.pad.l,ot.model.pad.t)});var Ne=Me.selectAll("."+p.cn.yAxis).data(function(ot){return ot.dimensions},f);Ne.enter().append("g").classed(p.cn.yAxis,!0),Me.each(function(ot){H(Ne,ot,fe)}),se.each(function(ot){ot.viewModel&&(!ot.lineLayer||te?ot.lineLayer=m(this,ot):ot.lineLayer.update(ot),(ot.key||0===ot.key)&&(ot.viewModel[ot.key]=ot.lineLayer),ot.lineLayer.render(ot.viewModel.panels,!ot.context||te))}),Ne.attr("transform",function(ot){return w(ot.xScale(ot.xIndex),0)}),Ne.call(S.behavior.drag().origin(function(ot){return ot}).on("drag",function(ot){var We=ot.parent;$.linePickActive(!1),ot.x=Math.max(-p.overdrag,Math.min(ot.model.width+p.overdrag,S.event.x)),ot.canvasX=ot.x*ot.model.canvasPixelRatio,Ne.sort(function(je,lt){return je.x-lt.x}).each(function(je,lt){je.xIndex=lt,je.x=ot===je?je.x:je.xScale(je.xIndex),je.canvasX=je.x*je.model.canvasPixelRatio}),H(Ne,We,fe),Ne.filter(function(je){return 0!==Math.abs(ot.xIndex-je.xIndex)}).attr("transform",function(je){return w(je.xScale(je.xIndex),0)}),S.select(this).attr("transform",w(ot.x,0)),Ne.each(function(je,lt,vt){vt===ot.parent.key&&(We.dimensions[lt]=je)}),We.contextLayer&&We.contextLayer.render(We.panels,!1,!y(We)),We.focusLayer.render&&We.focusLayer.render(We.panels)}).on("dragend",function(ot){var We=ot.parent;ot.x=ot.xScale(ot.xIndex),ot.canvasX=ot.x*ot.model.canvasPixelRatio,H(Ne,We,fe),S.select(this).attr("transform",function(je){return w(je.x,0)}),We.contextLayer&&We.contextLayer.render(We.panels,!1,!y(We)),We.focusLayer&&We.focusLayer.render(We.panels),We.pickLayer&&We.pickLayer.render(We.panels,!0),$.linePickActive(!0),te&&te.axesMoved&&te.axesMoved(We.key,We.dimensions.map(function(je){return je.crossfilterDimensionIndex}))})),Ne.exit().remove();var Ve=Ne.selectAll("."+p.cn.axisOverlays).data(h,f);Ve.enter().append("g").classed(p.cn.axisOverlays,!0),Ve.selectAll("."+p.cn.axis).remove();var Pe=Ve.selectAll("."+p.cn.axis).data(h,f);Pe.enter().append("g").classed(p.cn.axis,!0),Pe.each(function(ot){var We=ot.model.height/ot.model.tickDistance,je=ot.domainScale,lt=je.domain();S.select(this).call(S.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(We,ot.tickFormat).tickValues(ot.ordinal?lt:null).tickFormat(function(vt){return b.isOrdinal(ot)?vt:G(ot.model.dimensions[ot.visibleIndex],vt)}).scale(je)),n.font(Pe.selectAll("text"),ot.model.tickFont)}),Pe.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Pe.selectAll("text").style("text-shadow",r.makeTextShadow(re)).style("cursor","default");var Ce=Ve.selectAll("."+p.cn.axisHeading).data(h,f);Ce.enter().append("g").classed(p.cn.axisHeading,!0);var Ie=Ce.selectAll("."+p.cn.axisTitle).data(h,f);Ie.enter().append("text").classed(p.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",Q?"none":"auto"),Ie.text(function(ot){return ot.label}).each(function(ot){var We=S.select(this);n.font(We,ot.model.labelFont),r.convertToTspans(We,ue)}).attr("transform",function(ot){var We=V(ot.model.labelAngle,ot.model.labelSide),je=p.axisTitleOffset;return(We.dir>0?"":w(0,2*je+ot.model.height))+v(We.degrees)+w(-je*We.dx,-je*We.dy)}).attr("text-anchor",function(ot){var We=V(ot.model.labelAngle,ot.model.labelSide);return 2*Math.abs(We.dx)>Math.abs(We.dy)?We.dir*We.dx<0?"start":"end":"middle"});var Je=Ve.selectAll("."+p.cn.axisExtent).data(h,f);Je.enter().append("g").classed(p.cn.axisExtent,!0);var Qe=Je.selectAll("."+p.cn.axisExtentTop).data(h,f);Qe.enter().append("g").classed(p.cn.axisExtentTop,!0),Qe.attr("transform",w(0,-p.axisExtentOffset));var ze=Qe.selectAll("."+p.cn.axisExtentTopText).data(h,f);ze.enter().append("text").classed(p.cn.axisExtentTopText,!0).call(_),ze.text(function(ot){return Y(ot,!0)}).each(function(ot){n.font(S.select(this),ot.model.rangeFont)});var Ke=Je.selectAll("."+p.cn.axisExtentBottom).data(h,f);Ke.enter().append("g").classed(p.cn.axisExtentBottom,!0),Ke.attr("transform",function(ot){return w(0,ot.model.height+p.axisExtentOffset)});var ut=Ke.selectAll("."+p.cn.axisExtentBottomText).data(h,f);ut.enter().append("text").classed(p.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(_),ut.text(function(ot){return Y(ot,!1)}).each(function(ot){n.font(S.select(this),ot.model.rangeFont)}),A.ensureAxisBrush(Ve,re,ue)}},21341:function(oe,J,t){"use strict";var S=t(17171),k=t(79749),l=t(1602).isVisible,R={};function I(r,n,c){var o=n.indexOf(c),f=r.indexOf(o);return-1===f&&(f+=n.length),f}(oe.exports=function(n,c){var o=n._fullLayout;if(k(n,[],R)){var h={},d={},b={},p={},A=o._size;c.forEach(function(T,L){var x=T[0].trace;b[L]=x.index;var E=p[L]=x._fullInput.index;h[L]=n.data[E].dimensions,d[L]=n.data[E].dimensions.slice()});S(n,c,{width:A.w,height:A.h,margin:{t:A.t,r:A.r,b:A.b,l:A.l}},{filterChanged:function(T,L,x){var E=d[T][L],M=x.map(function(_){return _.slice()}),i="dimensions["+L+"].constraintrange",D=o._tracePreGUI[n._fullData[b[T]]._fullInput.uid];void 0===D[i]&&(D[i]=E.constraintrange||null);var B=n._fullData[b[T]].dimensions[L];M.length?(1===M.length&&(M=M[0]),E.constraintrange=M,B.constraintrange=M.slice(),M=[M]):(delete E.constraintrange,delete B.constraintrange,M=null);var F={};F[i]=M,n.emit("plotly_restyle",[F,[p[T]]])},hover:function(T){n.emit("plotly_hover",T)},unhover:function(T){n.emit("plotly_unhover",T)},axesMoved:function(T,L){var x=function v(r,n){return function(o,f){return I(r,n,o)-I(r,n,f)}}(L,d[T].filter(l));h[T].sort(x),d[T].filter(function(E){return!l(E)}).sort(function(E){return d[T].indexOf(E)}).forEach(function(E){h[T].splice(h[T].indexOf(E),1),h[T].splice(d[T].indexOf(E),0,E)}),n.emit("plotly_restyle",[{dimensions:[h[T]]},[p[T]]])}})}}).reglPrecompiled=R},34e3:function(oe,J,t){"use strict";var S=t(9012),k=t(27670).Y,l=t(41940),R=t(22399),I=t(5386).fF,v=t(5386).si,w=t(1426).extendFlat,r=t(79952).u,n=l({editType:"plot",arrayOk:!0,colorEditType:"plot"});oe.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:R.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:w({},S.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:I({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:w({},n,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:w({},n,{}),outsidetextfont:w({},n,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:w({},n,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:k({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:w({},n,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(oe,J,t){"use strict";var S=t(74875);J.name="pie",J.plot=function(k,l,R,I){S.plotBasePlot(J.name,k,l,R,I)},J.clean=function(k,l,R,I){S.cleanBasePlot(J.name,k,l,R,I)}},32354:function(oe,J,t){"use strict";var S=t(92770),k=t(84267),l=t(7901),R={};function v(n){return function(o,f){return!(!o||(o=k(o),!o.isValid()))&&(o=l.addOpacity(o,o.getAlpha()),n[f]||(n[f]=o),o)}}function r(n,c){var o,f=JSON.stringify(n),h=c[f];if(!h){for(h=n.slice(),o=0;o<n.length;o++)h.push(k(n[o]).lighten(20).toHexString());for(o=0;o<n.length;o++)h.push(k(n[o]).darken(20).toHexString());c[f]=h}return h}oe.exports={calc:function I(n,c){var u,g,o=[],f=n._fullLayout,h=f.hiddenlabels||[],d=c.labels,b=c.marker.colors||[],p=c.values,A=c._length,m=c._hasValues&&A;if(c.dlabel)for(d=new Array(A),u=0;u<A;u++)d[u]=String(c.label0+u*c.dlabel);var C={},T=v(f["_"+c.type+"colormap"]),L=0,x=!1;for(u=0;u<A;u++){var E,M,i;if(m){if(!S(E=p[u]))continue;E=+E}else E=1;(void 0===(M=d[u])||""===M)&&(M=u);var D=C[M=String(M)];void 0===D?(C[M]=o.length,(i=-1!==h.indexOf(M))||(L+=E),o.push({v:E,label:M,color:T(b[u],M),i:u,pts:[u],hidden:i})):(x=!0,(g=o[D]).v+=E,g.pts.push(u),g.hidden||(L+=E),!1===g.color&&b[u]&&(g.color=T(b[u],M)))}return o=o.filter(function(B){return B.v>=0}),("funnelarea"===c.type?x:c.sort)&&o.sort(function(B,F){return F.v-B.v}),o[0]&&(o[0].vTotal=L),o},crossTraceCalc:function w(n,c){var o=(c||{}).type;o||(o="pie");var f=n._fullLayout,h=n.calcdata,d=f[o+"colorway"],b=f["_"+o+"colormap"];f["extend"+o+"colors"]&&(d=r(d,R));for(var p=0,A=0;A<h.length;A++){var m=h[A];if(m[0].trace.type===o)for(var g=0;g<m.length;g++){var C=m[g];!1===C.color&&(b[C.label]?C.color=b[C.label]:(b[C.label]=C.color=d[p%d.length],p++))}}},makePullColorFn:v,generateExtendedColors:r}},37434:function(oe,J,t){"use strict";var S=t(92770),k=t(71828),l=t(34e3),R=t(27670).c,I=t(90769).handleText,v=t(71828).coercePattern;function w(c,o){var f=Array.isArray(c),h=k.isArrayOrTypedArray(o),d=Math.min(f?c.length:1/0,h?o.length:1/0);if(isFinite(d)||(d=0),d&&h){for(var b,p=0;p<d;p++){var A=o[p];if(S(A)&&A>0){b=!0;break}}b||(d=0)}return{hasLabels:f,hasValues:h,len:d}}function r(c,o,f,h,d){h("marker.line.width")&&h("marker.line.color",d?void 0:f.paper_bgcolor);var p=h("marker.colors");v(h,"marker.pattern",p),c.marker&&!o.marker.pattern.fgcolor&&(o.marker.pattern.fgcolor=c.marker.colors),o.marker.pattern.bgcolor||(o.marker.pattern.bgcolor=f.paper_bgcolor)}oe.exports={handleLabelsAndValues:w,handleMarkerDefaults:r,supplyDefaults:function n(c,o,f,h){function d(D,y){return k.coerce(c,o,l,D,y)}var A=w(d("labels"),d("values")),m=A.len;if(o._hasLabels=A.hasLabels,o._hasValues=A.hasValues,!o._hasLabels&&o._hasValues&&(d("label0"),d("dlabel")),m){o._length=m,r(c,o,h,d,!0),d("scalegroup");var C,u=d("text"),g=d("texttemplate");if(g||(C=d("textinfo",Array.isArray(u)?"text+percent":"percent")),d("hovertext"),d("hovertemplate"),g||C&&"none"!==C){var T=d("textposition");I(c,o,h,d,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(T)||"auto"===T||"outside"===T)&&d("automargin"),("inside"===T||"auto"===T||Array.isArray(T))&&d("insidetextorientation")}R(o,h,d);var E=d("hole");if(d("title.text")){var i=d("title.position",E?"middle center":"top center");!E&&"middle center"===i&&(o.title.position="top center"),k.coerceFont(d,"title.font",h.font)}d("sort"),d("direction"),d("rotation"),d("pull")}else o.visible=!1}}},20007:function(oe,J,t){"use strict";var S=t(23469).appendArrayMultiPointValues;oe.exports=function(l,R){var I={curveNumber:R.index,pointNumbers:l.pts,data:R._input,fullData:R,label:l.label,color:l.color,value:l.v,percent:l.percent,text:l.text,bbox:l.bbox,v:l.v};return 1===l.pts.length&&(I.pointNumber=I.i=l.pts[0]),S(I,R,l.pts),"funnelarea"===R.type&&(delete I.v,delete I.i),I}},22209:function(oe,J,t){"use strict";var S=t(91424),k=t(7901);oe.exports=function(R,I,v,w){var r=v.marker.pattern;r&&r.shape?S.pointStyle(R,v,w,I):k.fill(R,I.color)}},53581:function(oe,J,t){"use strict";var S=t(71828);function k(l){return-1!==l.indexOf("e")?l.replace(/[.]?0+e/,"e"):-1!==l.indexOf(".")?l.replace(/[.]?0+$/,""):l}J.formatPiePercent=function(R,I){var v=k((100*R).toPrecision(3));return S.numSeparate(v,I)+"%"},J.formatPieValue=function(R,I){var v=k(R.toPrecision(10));return S.numSeparate(v,I)},J.getFirstFilled=function(R,I){if(Array.isArray(R))for(var v=0;v<I.length;v++){var w=R[I[v]];if(w||0===w||""===w)return w}},J.castOption=function(R,I){return Array.isArray(R)?J.getFirstFilled(R,I):R||void 0},J.getRotationAngle=function(l){return("auto"===l?0:l)*Math.PI/180}},58810:function(oe,J,t){"use strict";oe.exports={attributes:t(34e3),supplyDefaults:t(37434).supplyDefaults,supplyLayoutDefaults:t(92097),layoutAttributes:t(92774),calc:t(32354).calc,crossTraceCalc:t(32354).crossTraceCalc,plot:t(14575).plot,style:t(68357),styleOne:t(63463),moduleType:"trace",name:"pie",basePlotModule:t(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(oe){"use strict";oe.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(oe,J,t){"use strict";var S=t(71828),k=t(92774);oe.exports=function(R,I){function v(w,r){return S.coerce(R,I,k,w,r)}v("hiddenlabels"),v("piecolorway",I.colorway),v("extendpiecolors")}},14575:function(oe,J,t){"use strict";var S=t(39898),k=t(74875),l=t(30211),R=t(7901),I=t(91424),v=t(71828),w=v.strScale,r=v.strTranslate,n=t(63893),c=t(72597),o=c.recordMinTextSize,f=c.clearMinTextSize,h=t(97313).TEXTPAD,d=t(53581),b=t(20007),p=t(71828).isValidTextValue;function u(Q,K,Z){var q=Z[0],fe=q.cx,re=q.cy,$=q.trace,le="funnelarea"===$.type;"_hasHoverLabel"in $||($._hasHoverLabel=!1),"_hasHoverEvent"in $||($._hasHoverEvent=!1),Q.on("mouseover",function(se){var de=K._fullLayout,we=K._fullData[$.index];if(!K._dragging&&!1!==de.hovermode){var Ee=we.hoverinfo;if(Array.isArray(Ee)&&(Ee=l.castHoverinfo({hoverinfo:[d.castOption(Ee,se.pts)],_module:$._module},de,0)),"all"===Ee&&(Ee="label+text+value+percent+name"),we.hovertemplate||"none"!==Ee&&"skip"!==Ee&&Ee){var Me=se.rInscribed||0,Ne=fe+se.pxmid[0]*(1-Me),Ve=re+se.pxmid[1]*(1-Me),Pe=de.separators,Ce=[];if(Ee&&-1!==Ee.indexOf("label")&&Ce.push(se.label),se.text=d.castOption(we.hovertext||we.text,se.pts),Ee&&-1!==Ee.indexOf("text")){var Ie=se.text;v.isValidTextValue(Ie)&&Ce.push(Ie)}se.value=se.v,se.valueLabel=d.formatPieValue(se.v,Pe),Ee&&-1!==Ee.indexOf("value")&&Ce.push(se.valueLabel),se.percent=se.v/q.vTotal,se.percentLabel=d.formatPiePercent(se.percent,Pe),Ee&&-1!==Ee.indexOf("percent")&&Ce.push(se.percentLabel);var Je=we.hoverlabel,Qe=Je.font,ze=[];l.loneHover({trace:$,x0:Ne-Me*q.r,x1:Ne+Me*q.r,y:Ve,_x0:le?fe+se.TL[0]:Ne-Me*q.r,_x1:le?fe+se.TR[0]:Ne+Me*q.r,_y0:le?re+se.TL[1]:Ve-Me*q.r,_y1:le?re+se.BL[1]:Ve+Me*q.r,text:Ce.join("<br>"),name:we.hovertemplate||-1!==Ee.indexOf("name")?we.name:void 0,idealAlign:se.pxmid[0]<0?"left":"right",color:d.castOption(Je.bgcolor,se.pts)||se.color,borderColor:d.castOption(Je.bordercolor,se.pts),fontFamily:d.castOption(Qe.family,se.pts),fontSize:d.castOption(Qe.size,se.pts),fontColor:d.castOption(Qe.color,se.pts),nameLength:d.castOption(Je.namelength,se.pts),textAlign:d.castOption(Je.align,se.pts),hovertemplate:d.castOption(we.hovertemplate,se.pts),hovertemplateLabels:se,eventData:[b(se,we)]},{container:de._hoverlayer.node(),outerContainer:de._paper.node(),gd:K,inOut_bbox:ze}),se.bbox=ze[0],$._hasHoverLabel=!0}$._hasHoverEvent=!0,K.emit("plotly_hover",{points:[b(se,we)],event:S.event})}}),Q.on("mouseout",function(se){var de=K._fullLayout,we=K._fullData[$.index],Ee=S.select(this).datum();$._hasHoverEvent&&(se.originalEvent=S.event,K.emit("plotly_unhover",{points:[b(Ee,we)],event:S.event}),$._hasHoverEvent=!1),$._hasHoverLabel&&(l.loneUnhover(de._hoverlayer.node()),$._hasHoverLabel=!1)}),Q.on("click",function(se){K._dragging||!1===K._fullLayout.hovermode||(K._hoverdata=[b(se,K._fullData[$.index])],l.click(K,S.event))})}function C(Q,K,Z){var q=d.castOption(Q.insidetextfont.color,K.pts);!q&&Q._input.textfont&&(q=d.castOption(Q._input.textfont.color,K.pts));var fe=d.castOption(Q.insidetextfont.family,K.pts)||d.castOption(Q.textfont.family,K.pts)||Z.family,re=d.castOption(Q.insidetextfont.size,K.pts)||d.castOption(Q.textfont.size,K.pts)||Z.size;return{color:q||R.contrast(K.color),family:fe,size:re}}function T(Q,K){for(var Z,q,fe=0;fe<Q.length;fe++)if((q=(Z=Q[fe][0]).trace).title.text){var re=q.title.text;q._meta&&(re=v.templateString(re,q._meta));var $=I.tester.append("text").attr("data-notex",1).text(re).call(I.font,q.title.font).call(n.convertToTspans,K),le=I.bBox($.node(),!0);Z.titleBox={width:le.width,height:le.height},$.remove()}}function L(Q,K,Z){var q=Z.r||K.rpx1,fe=K.rInscribed;if(K.startangle===K.stopangle)return{rCenter:1-fe,scale:0,rotate:0,textPosAngle:0};var Ce,$=K.ring,le=1===$&&Math.abs(K.startangle-K.stopangle)===2*Math.PI,se=K.halfangle,de=K.midangle,we=Z.trace.insidetextorientation,Ee="horizontal"===we,Me="tangential"===we,Ne="radial"===we,Ve="auto"===we,Pe=[];if(!Ve){var Je,Ie=function(We,je){if(function x(Q,K){var Z=Q.startangle,q=Q.stopangle;return Z>K&&K>q||Z<K&&K<q}(K,We)){var lt=Math.abs(We-K.startangle),vt=Math.abs(We-K.stopangle),pt=lt<vt?lt:vt;(Ce="tan"===je?M(Q,q,$,pt,0):E(Q,q,$,pt,Math.PI/2)).textPosAngle=We,Pe.push(Ce)}};if(Ee||Me){for(Je=4;Je>=-4;Je-=2)Ie(Math.PI*Je,"tan");for(Je=4;Je>=-4;Je-=2)Ie(Math.PI*(Je+1),"tan")}if(Ee||Ne){for(Je=4;Je>=-4;Je-=2)Ie(Math.PI*(Je+1.5),"rad");for(Je=4;Je>=-4;Je-=2)Ie(Math.PI*(Je+.5),"rad")}}if(le||Ve||Ee){var Qe=Math.sqrt(Q.width*Q.width+Q.height*Q.height);if((Ce={scale:fe*q*2/Qe,rCenter:1-fe,rotate:0}).textPosAngle=(K.startangle+K.stopangle)/2,Ce.scale>=1)return Ce;Pe.push(Ce)}(Ve||Ne)&&((Ce=E(Q,q,$,se,de)).textPosAngle=(K.startangle+K.stopangle)/2,Pe.push(Ce)),(Ve||Me)&&((Ce=M(Q,q,$,se,de)).textPosAngle=(K.startangle+K.stopangle)/2,Pe.push(Ce));for(var ze=0,Ke=0,ut=0;ut<Pe.length;ut++){var ot=Pe[ut].scale;if(Ke<ot&&(Ke=ot,ze=ut),!Ve&&Ke>=1)break}return Pe[ze]}function E(Q,K,Z,q,fe){K=Math.max(0,K-2*h);var re=Q.width/Q.height,$=y(re,q,K,Z);return{scale:2*$/Q.height,rCenter:i(re,$/K),rotate:D(fe)}}function M(Q,K,Z,q,fe){K=Math.max(0,K-2*h);var re=Q.height/Q.width,$=y(re,q,K,Z);return{scale:2*$/Q.width,rCenter:i(re,$/K),rotate:D(fe+Math.PI/2)}}function i(Q,K){return Math.cos(K)-Q*K}function D(Q){return(180/Math.PI*Q+720)%180-90}function y(Q,K,Z,q){var fe=Q+1/(2*Math.tan(K));return Z*Math.min(1/(Math.sqrt(fe*fe+.5)+fe),q/(Math.sqrt(Q*Q+q/2)+Q))}function B(Q,K){return Q.v!==K.vTotal||K.trace.hole?Math.min(1/(1+1/Math.sin(Q.halfangle)),Q.ring/2):1}function F(Q,K){var Z=K.pxmid[0],q=K.pxmid[1],fe=Q.width/2,re=Q.height/2;return Z<0&&(fe*=-1),q<0&&(re*=-1),{scale:1,rCenter:1,rotate:0,x:fe+Math.abs(re)*(fe>0?1:-1)/2,y:re/(1+Z*Z/(q*q)),outside:!0}}function z(Q,K){var fe,Z,q,re=Q.trace,$={x:Q.cx,y:Q.cy},le={tx:0,ty:0};le.ty+=re.title.font.size,fe=U(re),-1!==re.title.position.indexOf("top")?($.y-=(1+fe)*Q.r,le.ty-=Q.titleBox.height):-1!==re.title.position.indexOf("bottom")&&($.y+=(1+fe)*Q.r);var se=function V(Q,K){return Q/(void 0===K?1:K)}(Q.r,Q.trace.aspectratio),de=K.w*(re.domain.x[1]-re.domain.x[0])/2;return-1!==re.title.position.indexOf("left")?(de+=se,$.x-=(1+fe)*se,le.tx+=Q.titleBox.width/2):-1!==re.title.position.indexOf("center")?de*=2:-1!==re.title.position.indexOf("right")&&(de+=se,$.x+=(1+fe)*se,le.tx-=Q.titleBox.width/2),Z=de/Q.titleBox.width,q=H(Q,K)/Q.titleBox.height,{x:$.x,y:$.y,scale:Math.min(Z,q),tx:le.tx,ty:le.ty}}function H(Q,K){var Z=Q.trace;return Math.min(Q.titleBox.height,K.h*(Z.domain.y[1]-Z.domain.y[0])/2)}function U(Q){var Z,K=Q.pull;if(!K)return 0;if(Array.isArray(K))for(K=0,Z=0;Z<Q.pull.length;Z++)Q.pull[Z]>K&&(K=Q.pull[Z]);return K}function Y(Q,K){for(var Z=[],q=0;q<Q.length;q++){var fe=Q[q][0],re=fe.trace,$=re.domain,le=K.w*($.x[1]-$.x[0]),se=K.h*($.y[1]-$.y[0]);re.title.text&&"middle center"!==re.title.position&&(se-=H(fe,K));var we=se/2;"funnelarea"===re.type&&!re.scalegroup&&(we/=re.aspectratio),fe.r=Math.min(le/2,we)/(1+U(re)),fe.cx=K.l+K.w*(re.domain.x[1]+re.domain.x[0])/2,fe.cy=K.t+K.h*(1-re.domain.y[0])-se/2,re.title.text&&-1!==re.title.position.indexOf("bottom")&&(fe.cy-=H(fe,K)),re.scalegroup&&-1===Z.indexOf(re.scalegroup)&&Z.push(re.scalegroup)}!function ee(Q,K){for(var Z,q,fe,re=0;re<K.length;re++){var $=1/0,le=K[re];for(q=0;q<Q.length;q++)if((fe=(Z=Q[q][0]).trace).scalegroup===le){var se;if("pie"===fe.type)se=Z.r*Z.r;else if("funnelarea"===fe.type){var de,we;fe.aspectratio>1?we=(de=Z.r)/fe.aspectratio:de=(we=Z.r)*fe.aspectratio,se=(de*=(1+fe.baseratio)/2)*we}$=Math.min($,se/Z.vTotal)}for(q=0;q<Q.length;q++)if((fe=(Z=Q[q][0]).trace).scalegroup===le){var Ee=$*Z.vTotal;"funnelarea"===fe.type&&(Ee/=(1+fe.baseratio)/2,Ee/=fe.aspectratio),Z.r=Math.sqrt(Ee)}}}(Q,Z)}function ce(Q,K){return[Q*Math.sin(K),-Q*Math.cos(K)]}function pe(Q,K,Z){var q=Q._fullLayout,fe=Z.trace,re=fe.texttemplate,$=fe.textinfo;if(!re&&$&&"none"!==$){var Ve,le=$.split("+"),se=function(ze){return-1!==le.indexOf(ze)},de=se("label"),we=se("text"),Ee=se("value"),Me=se("percent"),Ne=q.separators;if(Ve=de?[K.label]:[],we){var Pe=d.getFirstFilled(fe.text,K.pts);p(Pe)&&Ve.push(Pe)}Ee&&Ve.push(d.formatPieValue(K.v,Ne)),Me&&Ve.push(d.formatPiePercent(K.v/Z.vTotal,Ne)),K.text=Ve.join("<br>")}if(re){var Ie=v.castOption(fe,K.i,"texttemplate");if(Ie){var Je=function Ce(ze){return{label:ze.label,value:ze.v,valueLabel:d.formatPieValue(ze.v,q.separators),percent:ze.v/Z.vTotal,percentLabel:d.formatPiePercent(ze.v/Z.vTotal,q.separators),color:ze.color,text:ze.text,customdata:v.castOption(fe,ze.i,"customdata")}}(K),Qe=d.getFirstFilled(fe.text,K.pts);(p(Qe)||""===Qe)&&(Je.text=Qe),K.text=v.texttemplateString(Ie,Je,Q._fullLayout._d3locale,Je,fe._meta||{})}else K.text=""}}function te(Q,K){var Z=Q.rotate*Math.PI/180,q=Math.cos(Z),fe=Math.sin(Z),re=(K.left+K.right)/2,$=(K.top+K.bottom)/2;Q.textX=re*q-$*fe,Q.textY=re*fe+$*q,Q.noCenter=!0}oe.exports={plot:function A(Q,K){var Z=Q._context.staticPlot,q=Q._fullLayout,fe=q._size;f("pie",q),T(K,Q),Y(K,fe);var re=v.makeTraceGroups(q._pielayer,K,"trace").each(function($){var le=S.select(this),se=$[0],de=se.trace;(function ue(Q){var se,de,we,K=Q[0],Z=K.r,q=K.trace,fe=d.getRotationAngle(q.rotation),re=2*Math.PI/K.vTotal,$="px0",le="px1";if("counterclockwise"===q.direction){for(se=0;se<Q.length&&Q[se].hidden;se++);if(se===Q.length)return;fe+=re*Q[se].v,re*=-1,$="px1",le="px0"}for(we=ce(Z,fe),se=0;se<Q.length;se++)!(de=Q[se]).hidden&&(de[$]=we,de.startangle=fe,de.pxmid=ce(Z,fe+=re*de.v/2),de.midangle=fe,we=ce(Z,fe+=re*de.v/2),de.stopangle=fe,de[le]=we,de.largeArc=de.v>K.vTotal/2?1:0,de.halfangle=Math.PI*Math.min(de.v/K.vTotal,.5),de.ring=1-q.hole,de.rInscribed=B(de,K))})($),le.attr("stroke-linejoin","round"),le.each(function(){var we=S.select(this).selectAll("g.slice").data($);we.enter().append("g").classed("slice",!0),we.exit().remove();var Ee=[[[],[]],[[],[]]],Me=!1;we.each(function(ze,Ke){if(ze.hidden)S.select(this).selectAll("path,g").remove();else{ze.pointNumber=ze.i,ze.curveNumber=de.index,Ee[ze.pxmid[1]<0?0:1][ze.pxmid[0]<0?0:1].push(ze);var ut=se.cx,ot=se.cy,We=S.select(this),je=We.selectAll("path.surface").data([ze]);if(je.enter().append("path").classed("surface",!0).style({"pointer-events":Z?"none":"all"}),We.call(u,Q,$),de.pull){var lt=+d.castOption(de.pull,ze.pts)||0;lt>0&&(ut+=lt*ze.pxmid[0],ot+=lt*ze.pxmid[1])}ze.cxFinal=ut,ze.cyFinal=ot;var pt=de.hole;if(ze.v===se.vTotal){var St="M"+(ut+ze.px0[0])+","+(ot+ze.px0[1])+vt(ze.px0,ze.pxmid,!0,1)+vt(ze.pxmid,ze.px0,!0,1)+"Z";je.attr("d",pt?"M"+(ut+pt*ze.px0[0])+","+(ot+pt*ze.px0[1])+vt(ze.px0,ze.pxmid,!1,pt)+vt(ze.pxmid,ze.px0,!1,pt)+"Z"+St:St)}else{var Ct=vt(ze.px0,ze.px1,!0,1);if(pt){var _t=1-pt;je.attr("d","M"+(ut+pt*ze.px1[0])+","+(ot+pt*ze.px1[1])+vt(ze.px1,ze.px0,!1,pt)+"l"+_t*ze.px0[0]+","+_t*ze.px0[1]+Ct+"Z")}else je.attr("d","M"+ut+","+ot+"l"+ze.px0[0]+","+ze.px0[1]+Ct+"Z")}pe(Q,ze,se);var nt=d.castOption(de.textposition,ze.pts),ke=We.selectAll("g.slicetext").data(ze.text&&"none"!==nt?[0]:[]);ke.enter().append("g").classed("slicetext",!0),ke.exit().remove(),ke.each(function(){var Re=v.ensureSingle(S.select(this),"text","",function(_e){_e.attr("data-notex",1)}),Be=v.ensureUniformFontSize(Q,"outside"===nt?function g(Q,K,Z){return{color:d.castOption(Q.outsidetextfont.color,K.pts)||d.castOption(Q.textfont.color,K.pts)||Z.color,family:d.castOption(Q.outsidetextfont.family,K.pts)||d.castOption(Q.textfont.family,K.pts)||Z.family,size:d.castOption(Q.outsidetextfont.size,K.pts)||d.castOption(Q.textfont.size,K.pts)||Z.size}}(de,ze,q.font):C(de,ze,q.font));Re.text(ze.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(I.font,Be).call(n.convertToTspans,Q);var Ye,He=I.bBox(Re.node());if("outside"===nt)Ye=F(He,ze);else if(Ye=L(He,ze,se),"auto"===nt&&Ye.scale<1){var Ue=v.ensureUniformFontSize(Q,de.outsidetextfont);Re.call(I.font,Ue),Ye=F(He=I.bBox(Re.node()),ze)}var De=Ye.textPosAngle,ge=void 0===De?ze.pxmid:ce(se.r,De);if(Ye.targetX=ut+ge[0]*Ye.rCenter+(Ye.x||0),Ye.targetY=ot+ge[1]*Ye.rCenter+(Ye.y||0),te(Ye,He),Ye.outside){var Te=Ye.targetY;ze.yLabelMin=Te-He.height/2,ze.yLabelMid=Te,ze.yLabelMax=Te+He.height/2,ze.labelExtraX=0,ze.labelExtraY=0,Me=!0}Ye.fontSize=Be.size,o(de.type,Ye,q),$[Ke].transform=Ye,v.setTransormAndDisplay(Re,Ye)})}function vt(Re,Be,He,Ye){return"a"+Ye*se.r+","+Ye*se.r+" 0 "+ze.largeArc+(He?" 1 ":" 0 ")+Ye*(Be[0]-Re[0])+","+Ye*(Be[1]-Re[1])}});var Ne=S.select(this).selectAll("g.titletext").data(de.title.text?[0]:[]);if(Ne.enter().append("g").classed("titletext",!0),Ne.exit().remove(),Ne.each(function(){var ut,ze=v.ensureSingle(S.select(this),"text","",function(ot){ot.attr("data-notex",1)}),Ke=de.title.text;de._meta&&(Ke=v.templateString(Ke,de._meta)),ze.text(Ke).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(I.font,de.title.font).call(n.convertToTspans,Q),ut="middle center"===de.title.position?function _(Q){var K=Math.sqrt(Q.titleBox.width*Q.titleBox.width+Q.titleBox.height*Q.titleBox.height);return{x:Q.cx,y:Q.cy,scale:Q.trace.hole*Q.r*2/K,tx:0,ty:-Q.titleBox.height/2+Q.trace.title.font.size}}(se):z(se,fe),ze.attr("transform",r(ut.x,ut.y)+w(Math.min(1,ut.scale))+r(ut.tx,ut.ty))}),Me&&function G(Q,K){var Z,q,fe,re,$,le,se,de,we,Ee,Me,Ne,Ve;function Pe(Qe,ze){return Qe.pxmid[1]-ze.pxmid[1]}function Ce(Qe,ze){return ze.pxmid[1]-Qe.pxmid[1]}function Ie(Qe,ze){ze||(ze={});var lt,vt,pt,_t,Ke=ze.labelExtraY+(q?ze.yLabelMax:ze.yLabelMin),ut=q?Qe.yLabelMin:Qe.yLabelMax,ot=q?Qe.yLabelMax:Qe.yLabelMin,We=Qe.cyFinal+$(Qe.px0[1],Qe.px1[1]),je=Ke-ut;if(je*se>0&&(Qe.labelExtraY=je),Array.isArray(K.pull))for(vt=0;vt<Ee.length;vt++)!((pt=Ee[vt])===Qe||(d.castOption(K.pull,Qe.pts)||0)>=(d.castOption(K.pull,pt.pts)||0))&&((Qe.pxmid[1]-pt.pxmid[1])*se>0?(je=pt.cyFinal+$(pt.px0[1],pt.px1[1])-ut-Qe.labelExtraY)*se>0&&(Qe.labelExtraY+=je):(ot+Qe.labelExtraY-We)*se>0&&(lt=3*le*Math.abs(vt-Ee.indexOf(Qe)),(_t=pt.cxFinal+re(pt.px0[0],pt.px1[0])+lt-(Qe.cxFinal+Qe.pxmid[0])-Qe.labelExtraX)*le>0&&(Qe.labelExtraX+=_t)))}for(q=0;q<2;q++)for(fe=q?Pe:Ce,$=q?Math.max:Math.min,se=q?1:-1,Z=0;Z<2;Z++){for(re=Z?Math.max:Math.min,le=Z?1:-1,(de=Q[q][Z]).sort(fe),Ee=(we=Q[1-q][Z]).concat(de),Ne=[],Me=0;Me<de.length;Me++)void 0!==de[Me].yLabelMid&&Ne.push(de[Me]);for(Ve=!1,Me=0;q&&Me<we.length;Me++)if(void 0!==we[Me].yLabelMid){Ve=we[Me];break}for(Me=0;Me<Ne.length;Me++){var Je=Me&&Ne[Me-1];Ve&&!Me&&(Je=Ve),Ie(Ne[Me],Je)}}}(Ee,de),function m(Q,K){Q.each(function(Z){var q=S.select(this);if(Z.labelExtraX||Z.labelExtraY){var fe=q.select("g.slicetext text");Z.transform.targetX+=Z.labelExtraX,Z.transform.targetY+=Z.labelExtraY,v.setTransormAndDisplay(fe,Z.transform);var re=Z.cxFinal+Z.pxmid[0],le="M"+re+","+(Z.cyFinal+Z.pxmid[1]),se=(Z.yLabelMax-Z.yLabelMin)*(Z.pxmid[0]<0?-1:1)/4;if(Z.labelExtraX){var de=Z.labelExtraX*Z.pxmid[1]/Z.pxmid[0],we=Z.yLabelMid+Z.labelExtraY-(Z.cyFinal+Z.pxmid[1]);Math.abs(de)>Math.abs(we)?le+="l"+we*Z.pxmid[0]/Z.pxmid[1]+","+we+"H"+(re+Z.labelExtraX+se):le+="l"+Z.labelExtraX+","+de+"v"+(we-de)+"h"+se}else le+="V"+(Z.yLabelMid+Z.labelExtraY)+"h"+se;v.ensureSingle(q,"path","textline").call(R.stroke,K.outsidetextfont.color).attr({"stroke-width":Math.min(2,K.outsidetextfont.size/8),d:le,fill:"none"})}else q.select("path.textline").remove()})}(we,de),Me&&de.automargin){var Ve=I.bBox(le.node()),Pe=de.domain,Je=(fe.w*(Pe.x[1]-Pe.x[0])*.5-se.r)/fe.w,Qe=(fe.h*(Pe.y[1]-Pe.y[0])*.5-se.r)/fe.h;k.autoMargin(Q,"pie."+de.uid+".automargin",{xl:Pe.x[0]-Je,xr:Pe.x[1]+Je,yb:Pe.y[0]-Qe,yt:Pe.y[1]+Qe,l:Math.max(se.cx-se.r-Ve.left,0),r:Math.max(Ve.right-(se.cx+se.r),0),b:Math.max(Ve.bottom-(se.cy+se.r),0),t:Math.max(se.cy-se.r-Ve.top,0),pad:5})}})});setTimeout(function(){re.selectAll("tspan").each(function(){var $=S.select(this);$.attr("dy")&&$.attr("dy",$.attr("dy"))})},0)},formatSliceLabel:pe,transformInsideText:L,determineInsideTextFont:C,positionTitleOutside:z,prerenderTitles:T,layoutAreas:Y,attachFxHandlers:u,computeTransform:te}},68357:function(oe,J,t){"use strict";var S=t(39898),k=t(63463),l=t(72597).resizeText;oe.exports=function(I){var v=I._fullLayout._pielayer.selectAll(".trace");l(I,v,"pie"),v.each(function(w){var n=w[0].trace,c=S.select(this);c.style({opacity:n.opacity}),c.selectAll("path.surface").each(function(o){S.select(this).call(k,o,n,I)})})}},63463:function(oe,J,t){"use strict";var S=t(7901),k=t(53581).castOption,l=t(22209);oe.exports=function(I,v,w,r){var n=w.marker.line,c=k(n.color,v.pts)||S.defaultLine,o=k(n.width,v.pts)||0;I.call(l,v,w,r).style("stroke-width",o).call(S.stroke,c)}},10959:function(oe,J,t){"use strict";var S=t(82196);oe.exports={x:S.x,y:S.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:S.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(oe,J,t){"use strict";var S=t(9330).gl_pointcloud2d,k=t(78614),l=t(71739).findExtremes,R=t(34603);function I(r,n){this.scene=r,this.uid=n,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=S(r.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var v=I.prototype;v.handlePick=function(r){var n=this.idToIndex[r.pointId];return{trace:this,dataCoord:r.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*n],this.pickXYData[2*n+1]]:[this.pickXData[n],this.pickYData[n]],textLabel:Array.isArray(this.textLabels)?this.textLabels[n]:this.textLabels,color:this.color,name:this.name,pointIndex:n,hoverinfo:this.hoverinfo}},v.update=function(r){this.index=r.index,this.textLabels=r.text,this.name=r.name,this.hoverinfo=r.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(r),this.color=R(r,{})},v.updateFast=function(r){var d,b,p,m,u,g,n=this.xData=this.pickXData=r.x,c=this.yData=this.pickYData=r.y,o=this.pickXYData=r.xy,h=r.indices,A=this.bounds;if(o){if(p=o,d=o.length>>>1,r.xbounds&&r.ybounds)A[0]=r.xbounds[0],A[2]=r.xbounds[1],A[1]=r.ybounds[0],A[3]=r.ybounds[1];else for(g=0;g<d;g++)u=p[2*g+1],(m=p[2*g])<A[0]&&(A[0]=m),m>A[2]&&(A[2]=m),u<A[1]&&(A[1]=u),u>A[3]&&(A[3]=u);if(h)b=h;else for(b=new Int32Array(d),g=0;g<d;g++)b[g]=g}else for(d=n.length,p=new Float32Array(2*d),b=new Int32Array(d),g=0;g<d;g++)m=n[g],u=c[g],b[g]=g,p[2*g]=m,p[2*g+1]=u,m<A[0]&&(A[0]=m),m>A[2]&&(A[2]=m),u<A[1]&&(A[1]=u),u>A[3]&&(A[3]=u);this.idToIndex=b,this.pointcloudOptions.idToIndex=b,this.pointcloudOptions.positions=p;var C=k(r.marker.color),T=k(r.marker.border.color),L=r.opacity*r.marker.opacity;C[3]*=L,this.pointcloudOptions.color=C;var x=r.marker.blend;if(null===x){x=n.length<100||c.length<100}this.pointcloudOptions.blend=x,T[3]*=L,this.pointcloudOptions.borderColor=T;var M=r.marker.sizemin,i=Math.max(r.marker.sizemax,r.marker.sizemin);this.pointcloudOptions.sizeMin=M,this.pointcloudOptions.sizeMax=i,this.pointcloudOptions.areaRatio=r.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var D=this.scene.xaxis,y=this.scene.yaxis,B=i/2||.5;r._extremes[D._id]=l(D,[A[0],A[2]],{ppad:B}),r._extremes[y._id]=l(y,[A[1],A[3]],{ppad:B})},v.dispose=function(){this.pointcloud.dispose()},oe.exports=function w(r,n){var c=new I(r,n.uid);return c.update(n),c}},33876:function(oe,J,t){"use strict";var S=t(71828),k=t(10959);oe.exports=function(R,I,v){function w(r,n){return S.coerce(R,I,k,r,n)}w("x"),w("y"),w("xbounds"),w("ybounds"),R.xy&&R.xy instanceof Float32Array&&(I.xy=R.xy),R.indices&&R.indices instanceof Int32Array&&(I.indices=R.indices),w("text"),w("marker.color",v),w("marker.opacity"),w("marker.blend"),w("marker.sizemin"),w("marker.sizemax"),w("marker.border.color",v),w("marker.border.arearatio"),I._length=null}},20593:function(oe,J,t){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),oe.exports={attributes:t(10959),supplyDefaults:t(33876),calc:t(36563),plot:t(42743),moduleType:"trace",name:"pointcloud",basePlotModule:t(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(oe,J,t){"use strict";var S=t(41940),k=t(9012),l=t(22399),R=t(77914),I=t(27670).Y,v=t(5386).fF,w=t(50693),r=t(44467).templatedArray,n=t(12663).descriptionOnlyNumbers,c=t(1426).extendFlat,o=t(30962).overrideAll;(oe.exports=o({hoverinfo:c({},k.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:R.hoverlabel,domain:I({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:n("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:S({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:l.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:R.hoverlabel,hovertemplate:v({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:l.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:R.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:c(w().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(oe,J,t){"use strict";var S=t(30962).overrideAll,k=t(27659).a0,l=t(60436),R=t(528),I=t(6964),v=t(28569),w=t(47322).prepSelect,r=t(71828),n=t(73972),c="sankey";function o(f,h){var d=f._fullData[h],b=f._fullLayout,p=b.dragmode,m=d._bgRect;if(m&&"pan"!==p&&"zoom"!==p){I(m,"pan"===b.dragmode?"move":"crosshair");var u={_id:"x",c2p:r.identity,_offset:d._sankey.translateX,_length:d._sankey.width},g={_id:"y",c2p:r.identity,_offset:d._sankey.translateY,_length:d._sankey.height},C={gd:f,element:m.node(),plotinfo:{id:h,xaxis:u,yaxis:g,fillRangeItems:r.noop},subplot:h,xaxes:[u],yaxes:[g],doneFnCompleted:function(T){var x,L=f._fullData[h],E=L.node.groups.slice(),M=[];function i(F){for(var _=L._sankey.graph.nodes,z=0;z<_.length;z++)if(_[z].pointNumber===F)return _[z]}for(var D=0;D<T.length;D++){var y=i(T[D].pointNumber);if(y)if(y.group){for(var B=0;B<y.childrenNodes.length;B++)M.push(y.childrenNodes[B].pointNumber);E[y.pointNumber-L.node._count]=!1}else M.push(y.pointNumber)}x=E.filter(Boolean).concat([M]),n.call("_guiRestyle",f,{"node.groups":[x]},h)},prepFn:function(T,L,x){w(T,L,x,C,p)}};v.init(C)}}J.name=c,J.baseLayoutAttrOverrides=S({hoverlabel:R.hoverlabel},"plot","nested"),J.plot=function(f){var h=k(f.calcdata,c)[0];l(f,h),J.updateFx(f)},J.clean=function(f,h,d,b){var p=b._has&&b._has(c),A=h._has&&h._has(c);p&&!A&&(b._paperdiv.selectAll(".sankey").remove(),b._paperdiv.selectAll(".bgsankey").remove())},J.updateFx=function(f){for(var h=0;h<f._fullData.length;h++)o(f,h)}},92930:function(oe,J,t){"use strict";var S=t(68664),k=t(71828),l=t(28984).wrap,R=k.isArrayOrTypedArray,I=k.isIndex,v=t(21081);function w(n){var m,c=n.node,o=n.link,f=[],h=R(o.color),d=R(o.customdata),b={},p={},A=o.colorscales.length;for(m=0;m<A;m++){var u=o.colorscales[m],g=v.extractScale(u,{cLetter:"c"}),C=v.makeColorScaleFunc(g);p[u.label]=C}var T=0;for(m=0;m<o.value.length;m++)o.source[m]>T&&(T=o.source[m]),o.target[m]>T&&(T=o.target[m]);var L=T+1;n.node._count=L;var x,E=n.node.groups,M={};for(m=0;m<E.length;m++){var i=E[m];for(x=0;x<i.length;x++){var D=i[x],y=L+m;M.hasOwnProperty(D)?k.warn("Node "+D+" is already part of a group."):M[D]=y}}var B={source:[],target:[]};for(m=0;m<o.value.length;m++){var F=o.value[m],_=o.source[m],z=o.target[m];if(F>0&&I(_,L)&&I(z,L)&&(!M.hasOwnProperty(_)||!M.hasOwnProperty(z)||M[_]!==M[z])){M.hasOwnProperty(z)&&(z=M[z]),M.hasOwnProperty(_)&&(_=M[_]),b[_=+_]=b[z=+z]=!0;var V="";o.label&&o.label[m]&&(V=o.label[m]);var H=null;V&&p.hasOwnProperty(V)&&(H=p[V]),f.push({pointNumber:m,label:V,color:h?o.color[m]:o.color,customdata:d?o.customdata[m]:o.customdata,concentrationscale:H,source:_,target:z,value:+F}),B.source.push(_),B.target.push(z)}}var U=L+E.length,G=R(c.color),Y=R(c.customdata),ee=[];for(m=0;m<U;m++)b[m]&&ee.push({group:m>L-1,childrenNodes:[],pointNumber:m,label:c.label[m],color:G?c.color[m]:c.color,customdata:Y?c.customdata[m]:c.customdata});var ce=!1;return function r(n,c,o){for(var f=k.init2dArray(n,0),h=0;h<Math.min(c.length,o.length);h++)if(k.isIndex(c[h],n)&&k.isIndex(o[h],n)){if(c[h]===o[h])return!0;f[c[h]].push(o[h])}return S(f).components.some(function(b){return b.length>1})}(U,B.source,B.target)&&(ce=!0),{circular:ce,links:f,nodes:ee,groups:E,groupLookup:M}}oe.exports=function(c,o){var f=w(o);return l({circular:f.circular,_nodes:f.nodes,_links:f.links,_groups:f.groups,_groupLookup:f.groupLookup})}},85247:function(oe){"use strict";oe.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(oe,J,t){"use strict";var S=t(71828),k=t(39953),l=t(7901),R=t(84267),I=t(27670).c,v=t(38048),w=t(44467),r=t(85501);function n(c,o){function f(h,d){return S.coerce(c,o,k.link.colorscales,h,d)}f("label"),f("cmin"),f("cmax"),f("colorscale")}oe.exports=function(o,f,h,d){function b(i,D){return S.coerce(o,f,k,i,D)}var p=S.extendDeep(d.hoverlabel,o.hoverlabel),A=o.node,m=w.newContainer(f,"node");function u(i,D){return S.coerce(A,m,k.node,i,D)}u("label"),u("groups"),u("x"),u("y"),u("pad"),u("thickness"),u("line.color"),u("line.width"),u("hoverinfo",o.hoverinfo),v(A,m,u,p),u("hovertemplate");var g=d.colorway;u("color",m.label.map(function(i,D){return l.addOpacity(function(i){return g[i%g.length]}(D),.8)})),u("customdata");var T=o.link||{},L=w.newContainer(f,"link");function x(i,D){return S.coerce(T,L,k.link,i,D)}x("label"),x("arrowlen"),x("source"),x("target"),x("value"),x("line.color"),x("line.width"),x("hoverinfo",o.hoverinfo),v(T,L,x,p),x("hovertemplate");var M,E=R(d.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";x("color",S.repeat(E,L.value.length)),x("customdata"),r(T,L,{name:"colorscales",handleItemDefaults:n}),I(f,d,b),b("orientation"),b("valueformat"),b("valuesuffix"),m.x.length&&m.y.length&&(M="freeform"),b("arrangement",M),S.coerceFont(b,"textfont",S.extendFlat({},d.font)),f._length=null}},29396:function(oe,J,t){"use strict";oe.exports={attributes:t(39953),supplyDefaults:t(26857),calc:t(92930),plot:t(60436),moduleType:"trace",name:"sankey",basePlotModule:t(75536),selectPoints:t(84564),categories:["noOpacity"],meta:{}}},60436:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=k.numberFormat,R=t(3393),I=t(30211),v=t(7901),w=t(85247).cn,r=k._;function n(g){return""!==g}function c(g,C){return g.filter(function(T){return T.key===C.traceId})}function o(g,C){S.select(g).select("path").style("fill-opacity",C),S.select(g).select("rect").style("fill-opacity",C)}function f(g){S.select(g).select("text.name").style("fill","black")}function h(g){return function(C){return-1!==g.node.sourceLinks.indexOf(C.link)||-1!==g.node.targetLinks.indexOf(C.link)}}function d(g){return function(C){return-1!==C.node.sourceLinks.indexOf(g.link)||-1!==C.node.targetLinks.indexOf(g.link)}}function b(g,C,T){C&&T&&c(T,C).selectAll("."+w.sankeyLink).filter(h(C)).call(A.bind(0,C,T,!1))}function p(g,C,T){C&&T&&c(T,C).selectAll("."+w.sankeyLink).filter(h(C)).call(m.bind(0,C,T,!1))}function A(g,C,T,L){var x=L.datum().link.label;L.style("fill-opacity",function(E){if(!E.link.concentrationscale)return.4}),x&&c(C,g).selectAll("."+w.sankeyLink).filter(function(E){return E.link.label===x}).style("fill-opacity",function(E){if(!E.link.concentrationscale)return.4}),T&&c(C,g).selectAll("."+w.sankeyNode).filter(d(g)).call(b)}function m(g,C,T,L){var x=L.datum().link.label;L.style("fill-opacity",function(E){return E.tinyColorAlpha}),x&&c(C,g).selectAll("."+w.sankeyLink).filter(function(E){return E.link.label===x}).style("fill-opacity",function(E){return E.tinyColorAlpha}),T&&c(C,g).selectAll(w.sankeyNode).filter(d(g)).call(p)}function u(g,C){var L=k.nestedProperty(g.hoverlabel||{},C).get();return!Array.isArray(L)&&L}oe.exports=function(C,T){for(var L=C._fullLayout,x=L._paper,E=L._size,M=0;M<C._fullData.length;M++)if(C._fullData[M].visible&&C._fullData[M].type===w.sankey&&!C._fullData[M]._viewInitial){var i=C._fullData[M].node;C._fullData[M]._viewInitial={node:{groups:i.groups.slice(),x:i.x.slice(),y:i.y.slice()}}}var B=r(C,"source:")+" ",F=r(C,"target:")+" ",_=r(C,"concentration:")+" ",z=r(C,"incoming flow count:")+" ",V=r(C,"outgoing flow count:")+" ";R(C,x,T,{width:E.w,height:E.h,margin:{t:E.t,r:E.r,b:E.b,l:E.l}},{linkEvents:{hover:function(ce,pe,te){!1!==C._fullLayout.hovermode&&(S.select(ce).call(A.bind(0,pe,te,!0)),"skip"!==pe.link.trace.link.hoverinfo&&(pe.link.fullData=pe.link.trace,C.emit("plotly_hover",{event:S.event,points:[pe.link]})))},follow:function(ce,pe){if(!1!==C._fullLayout.hovermode){var te=pe.link.trace.link;if("none"!==te.hoverinfo&&"skip"!==te.hoverinfo){for(var Q=[],Z=0,q=0;q<pe.flow.links.length;q++){var fe=pe.flow.links[q];if("closest"!==C._fullLayout.hovermode||pe.link.pointNumber===fe.pointNumber){pe.link.pointNumber===fe.pointNumber&&(Z=q),fe.fullData=fe.trace,te=pe.link.trace.link;var re=K(fe),$={valueLabel:l(pe.valueFormat)(fe.value)+pe.valueSuffix};Q.push({x:re[0],y:re[1],name:$.valueLabel,text:[fe.label||"",B+fe.source.label,F+fe.target.label,fe.concentrationscale?_+l("%0.2f")(fe.flow.labelConcentration):""].filter(n).join("<br>"),color:u(te,"bgcolor")||v.addOpacity(fe.color,1),borderColor:u(te,"bordercolor"),fontFamily:u(te,"font.family"),fontSize:u(te,"font.size"),fontColor:u(te,"font.color"),nameLength:u(te,"namelength"),textAlign:u(te,"align"),idealAlign:S.event.x<re[0]?"right":"left",hovertemplate:te.hovertemplate,hovertemplateLabels:$,eventData:[fe]})}}I.loneHover(Q,{container:L._hoverlayer.node(),outerContainer:L._paper.node(),gd:C,anchorIndex:Z}).each(function(){pe.link.concentrationscale||o(this,.65),f(this)})}}function K(se){var de,we;se.circular?(de=(se.circularPathData.leftInnerExtent+se.circularPathData.rightInnerExtent)/2,we=se.circularPathData.verticalFullExtent):(de=(se.source.x1+se.target.x0)/2,we=(se.y0+se.y1)/2);var Ee=[de,we];return"v"===se.trace.orientation&&Ee.reverse(),Ee[0]+=pe.parent.translateX,Ee[1]+=pe.parent.translateY,Ee}},unhover:function(ce,pe,te){!1!==C._fullLayout.hovermode&&(S.select(ce).call(m.bind(0,pe,te,!0)),"skip"!==pe.link.trace.link.hoverinfo&&(pe.link.fullData=pe.link.trace,C.emit("plotly_unhover",{event:S.event,points:[pe.link]})),I.loneUnhover(L._hoverlayer.node()))},select:function(ce,pe){var te=pe.link;te.originalEvent=S.event,C._hoverdata=[te],I.click(C,{target:!0})}},nodeEvents:{hover:function(ce,pe,te){!1!==C._fullLayout.hovermode&&(S.select(ce).call(b,pe,te),"skip"!==pe.node.trace.node.hoverinfo&&(pe.node.fullData=pe.node.trace,C.emit("plotly_hover",{event:S.event,points:[pe.node]})))},follow:function(ce,pe){if(!1!==C._fullLayout.hovermode){var te=pe.node.trace.node;if("none"!==te.hoverinfo&&"skip"!==te.hoverinfo){var Q=S.select(ce).select("."+w.nodeRect),K=C._fullLayout._paperdiv.node().getBoundingClientRect(),Z=Q.node().getBoundingClientRect(),q=Z.left-2-K.left,fe=Z.right+2-K.left,re=Z.top+Z.height/4-K.top,$={valueLabel:l(pe.valueFormat)(pe.node.value)+pe.valueSuffix};pe.node.fullData=pe.node.trace,C._fullLayout._calcInverseTransform(C);var le=C._fullLayout._invScaleX,de=I.loneHover({x0:le*q,x1:le*fe,y:C._fullLayout._invScaleY*re,name:l(pe.valueFormat)(pe.node.value)+pe.valueSuffix,text:[pe.node.label,z+pe.node.targetLinks.length,V+pe.node.sourceLinks.length].filter(n).join("<br>"),color:u(te,"bgcolor")||pe.tinyColorHue,borderColor:u(te,"bordercolor"),fontFamily:u(te,"font.family"),fontSize:u(te,"font.size"),fontColor:u(te,"font.color"),nameLength:u(te,"namelength"),textAlign:u(te,"align"),idealAlign:"left",hovertemplate:te.hovertemplate,hovertemplateLabels:$,eventData:[pe.node]},{container:L._hoverlayer.node(),outerContainer:L._paper.node(),gd:C});o(de,.85),f(de)}}},unhover:function(ce,pe,te){!1!==C._fullLayout.hovermode&&(S.select(ce).call(p,pe,te),"skip"!==pe.node.trace.node.hoverinfo&&(pe.node.fullData=pe.node.trace,C.emit("plotly_unhover",{event:S.event,points:[pe.node]})),I.loneUnhover(L._hoverlayer.node()))},select:function(ce,pe,te){var Q=pe.node;Q.originalEvent=S.event,C._hoverdata=[Q],S.select(ce).call(p,pe,te),I.click(C,{target:!0})}}})}},3393:function(oe,J,t){"use strict";var S=t(49887),k=t(81684).k4,l=t(39898),R=t(30838),I=t(86781),v=t(85247),w=t(84267),r=t(7901),n=t(91424),c=t(71828),o=c.strTranslate,f=c.strRotate,h=t(28984),d=h.keyFun,b=h.repeat,p=h.unwrap,A=t(63893),m=t(73972),u=t(18783),g=u.CAP_SHIFT,C=u.LINE_SPACING;function L(K,Z,q){var Pe,fe=p(Z),re=fe.trace,$=re.domain,le="h"===re.orientation,se=re.node.pad,de=re.node.thickness,we=K.width*($.x[1]-$.x[0]),Ee=K.height*($.y[1]-$.y[0]),Me=fe._nodes,Ne=fe._links,Ve=fe.circular;(Pe=Ve?I.sankeyCircular().circularLinkGap(0):R.sankey()).iterations(v.sankeyIterations).size(le?[we,Ee]:[Ee,we]).nodeWidth(de).nodePadding(se).nodeId(function(Ct){return Ct.pointNumber}).nodes(Me).links(Ne);var Ie,Je,Qe,Ce=Pe();for(var ze in Pe.nodePadding()<se&&c.warn("node.pad was reduced to ",Pe.nodePadding()," to fit within the figure."),fe._groupLookup){var ut,Ke=parseInt(fe._groupLookup[ze]);for(Ie=0;Ie<Ce.nodes.length;Ie++)if(Ce.nodes[Ie].pointNumber===Ke){ut=Ce.nodes[Ie];break}if(ut){var ot={pointNumber:parseInt(ze),x0:ut.x0,x1:ut.x1,y0:ut.y0,y1:ut.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Ce.nodes.unshift(ot),ut.childrenNodes.unshift(ot)}}if(function We(){for(Ie=0;Ie<Ce.nodes.length;Ie++){var nt,ke,Ct=Ce.nodes[Ie],_t={};for(Je=0;Je<Ct.targetLinks.length;Je++)_t.hasOwnProperty(nt=(ke=Ct.targetLinks[Je]).source.pointNumber+":"+ke.target.pointNumber)||(_t[nt]=[]),_t[nt].push(ke);var Re=Object.keys(_t);for(Je=0;Je<Re.length;Je++){var Be=_t[nt=Re[Je]],He=0,Ye={};for(Qe=0;Qe<Be.length;Qe++)Ye[(ke=Be[Qe]).label]||(Ye[ke.label]=0),Ye[ke.label]+=ke.value,He+=ke.value;for(Qe=0;Qe<Be.length;Qe++)(ke=Be[Qe]).flow={value:He,labelConcentration:Ye[ke.label]/He,concentration:ke.value/He,links:Be},ke.concentrationscale&&(ke.color=w(ke.concentrationscale(ke.flow.labelConcentration)))}var Ue=0;for(Je=0;Je<Ct.sourceLinks.length;Je++)Ue+=Ct.sourceLinks[Je].value;for(Je=0;Je<Ct.sourceLinks.length;Je++)(ke=Ct.sourceLinks[Je]).concentrationOut=ke.value/Ue;var De=0;for(Je=0;Je<Ct.targetLinks.length;Je++)De+=Ct.targetLinks[Je].value;for(Je=0;Je<Ct.targetLinks.length;Je++)(ke=Ct.targetLinks[Je]).concenrationIn=ke.value/De}}(),re.node.x.length&&re.node.y.length){for(Ie=0;Ie<Math.min(re.node.x.length,re.node.y.length,Ce.nodes.length);Ie++)if(re.node.x[Ie]&&re.node.y[Ie]){var vt=[re.node.x[Ie]*we,re.node.y[Ie]*Ee];Ce.nodes[Ie].x0=vt[0]-de/2,Ce.nodes[Ie].x1=vt[0]+de/2;var pt=Ce.nodes[Ie].y1-Ce.nodes[Ie].y0;Ce.nodes[Ie].y0=vt[1]-pt/2,Ce.nodes[Ie].y1=vt[1]+pt/2}"snap"===re.arrangement&&function je(Ct){Ct.forEach(function(_t){var nt,ke,He,Re=0,Be=_t.length;for(_t.sort(function(Ye,Ue){return Ye.y0-Ue.y0}),He=0;He<Be;++He)(nt=_t[He]).y0>=Re||(ke=Re-nt.y0)>1e-6&&(nt.y0+=ke,nt.y1+=ke),Re=nt.y1+se})}(function lt(Ct){var Re,He,_t=Ct.map(function(Ue,De){return{x0:Ue.x0,index:De}}).sort(function(Ue,De){return Ue.x0-De.x0}),nt=[],ke=-1,Be=-1/0;for(Ie=0;Ie<_t.length;Ie++){var Ye=Ct[_t[Ie].index];Ye.x0>Be+de&&(ke+=1,Re=Ye.x0),Be=Ye.x0,nt[ke]||(nt[ke]=[]),nt[ke].push(Ye),Ye.x0+=He=Re-Ye.x0,Ye.x1+=He}return nt}(Me=Ce.nodes)),Pe.update(Ce)}return{circular:Ve,key:q,trace:re,guid:c.randstr(),horizontal:le,width:we,height:Ee,nodePad:re.node.pad,nodeLineColor:re.node.line.color,nodeLineWidth:re.node.line.width,linkLineColor:re.link.line.color,linkLineWidth:re.link.line.width,linkArrowLength:re.link.arrowlen,valueFormat:re.valueformat,valueSuffix:re.valuesuffix,textFont:re.textfont,translateX:$.x[0]*K.width+K.margin.l,translateY:K.height-$.y[1]*K.height+K.margin.t,dragParallel:le?Ee:we,dragPerpendicular:le?we:Ee,arrangement:re.arrangement,sankey:Pe,graph:Ce,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function x(K,Z,q){var fe=w(Z.color),$=Z.source.label+"|"+Z.target.label+"__"+q;return Z.trace=K.trace,Z.curveNumber=K.trace.index,{circular:K.circular,key:$,traceId:K.key,pointNumber:Z.pointNumber,link:Z,tinyColorHue:r.tinyRGB(fe),tinyColorAlpha:fe.getAlpha(),linkPath:M,linkLineColor:K.linkLineColor,linkLineWidth:K.linkLineWidth,linkArrowLength:K.linkArrowLength,valueFormat:K.valueFormat,valueSuffix:K.valueSuffix,sankey:K.sankey,parent:K,interactionState:K.interactionState,flow:Z.flow}}function M(){return function Z(q){var fe=q.linkArrowLength;if(q.link.circular)return function E(K,Z){var fe=K.width/2,re=K.circularPathData;return"top"===K.circularLinkType?"M "+(re.targetX-Z)+" "+(re.targetY+fe)+" L"+(re.rightInnerExtent-Z)+" "+(re.targetY+fe)+"A"+(re.rightLargeArcRadius+fe)+" "+(re.rightSmallArcRadius+fe)+" 0 0 1 "+(re.rightFullExtent-fe-Z)+" "+(re.targetY-re.rightSmallArcRadius)+"L"+(re.rightFullExtent-fe-Z)+" "+re.verticalRightInnerExtent+"A"+(re.rightLargeArcRadius+fe)+" "+(re.rightLargeArcRadius+fe)+" 0 0 1 "+(re.rightInnerExtent-Z)+" "+(re.verticalFullExtent-fe)+"L"+re.leftInnerExtent+" "+(re.verticalFullExtent-fe)+"A"+(re.leftLargeArcRadius+fe)+" "+(re.leftLargeArcRadius+fe)+" 0 0 1 "+(re.leftFullExtent+fe)+" "+re.verticalLeftInnerExtent+"L"+(re.leftFullExtent+fe)+" "+(re.sourceY-re.leftSmallArcRadius)+"A"+(re.leftLargeArcRadius+fe)+" "+(re.leftSmallArcRadius+fe)+" 0 0 1 "+re.leftInnerExtent+" "+(re.sourceY+fe)+"L"+re.sourceX+" "+(re.sourceY+fe)+"L"+re.sourceX+" "+(re.sourceY-fe)+"L"+re.leftInnerExtent+" "+(re.sourceY-fe)+"A"+(re.leftLargeArcRadius-fe)+" "+(re.leftSmallArcRadius-fe)+" 0 0 0 "+(re.leftFullExtent-fe)+" "+(re.sourceY-re.leftSmallArcRadius)+"L"+(re.leftFullExtent-fe)+" "+re.verticalLeftInnerExtent+"A"+(re.leftLargeArcRadius-fe)+" "+(re.leftLargeArcRadius-fe)+" 0 0 0 "+re.leftInnerExtent+" "+(re.verticalFullExtent+fe)+"L"+(re.rightInnerExtent-Z)+" "+(re.verticalFullExtent+fe)+"A"+(re.rightLargeArcRadius-fe)+" "+(re.rightLargeArcRadius-fe)+" 0 0 0 "+(re.rightFullExtent+fe-Z)+" "+re.verticalRightInnerExtent+"L"+(re.rightFullExtent+fe-Z)+" "+(re.targetY-re.rightSmallArcRadius)+"A"+(re.rightLargeArcRadius-fe)+" "+(re.rightSmallArcRadius-fe)+" 0 0 0 "+(re.rightInnerExtent-Z)+" "+(re.targetY-fe)+"L"+(re.targetX-Z)+" "+(re.targetY-fe)+(Z>0?"L"+re.targetX+" "+re.targetY:"")+"Z":"M "+(re.targetX-Z)+" "+(re.targetY-fe)+" L"+(re.rightInnerExtent-Z)+" "+(re.targetY-fe)+"A"+(re.rightLargeArcRadius+fe)+" "+(re.rightSmallArcRadius+fe)+" 0 0 0 "+(re.rightFullExtent-fe-Z)+" "+(re.targetY+re.rightSmallArcRadius)+"L"+(re.rightFullExtent-fe-Z)+" "+re.verticalRightInnerExtent+"A"+(re.rightLargeArcRadius+fe)+" "+(re.rightLargeArcRadius+fe)+" 0 0 0 "+(re.rightInnerExtent-Z)+" "+(re.verticalFullExtent+fe)+"L"+re.leftInnerExtent+" "+(re.verticalFullExtent+fe)+"A"+(re.leftLargeArcRadius+fe)+" "+(re.leftLargeArcRadius+fe)+" 0 0 0 "+(re.leftFullExtent+fe)+" "+re.verticalLeftInnerExtent+"L"+(re.leftFullExtent+fe)+" "+(re.sourceY+re.leftSmallArcRadius)+"A"+(re.leftLargeArcRadius+fe)+" "+(re.leftSmallArcRadius+fe)+" 0 0 0 "+re.leftInnerExtent+" "+(re.sourceY-fe)+"L"+re.sourceX+" "+(re.sourceY-fe)+"L"+re.sourceX+" "+(re.sourceY+fe)+"L"+re.leftInnerExtent+" "+(re.sourceY+fe)+"A"+(re.leftLargeArcRadius-fe)+" "+(re.leftSmallArcRadius-fe)+" 0 0 1 "+(re.leftFullExtent-fe)+" "+(re.sourceY+re.leftSmallArcRadius)+"L"+(re.leftFullExtent-fe)+" "+re.verticalLeftInnerExtent+"A"+(re.leftLargeArcRadius-fe)+" "+(re.leftLargeArcRadius-fe)+" 0 0 1 "+re.leftInnerExtent+" "+(re.verticalFullExtent-fe)+"L"+(re.rightInnerExtent-Z)+" "+(re.verticalFullExtent-fe)+"A"+(re.rightLargeArcRadius-fe)+" "+(re.rightLargeArcRadius-fe)+" 0 0 1 "+(re.rightFullExtent+fe-Z)+" "+re.verticalRightInnerExtent+"L"+(re.rightFullExtent+fe-Z)+" "+(re.targetY+re.rightSmallArcRadius)+"A"+(re.rightLargeArcRadius-fe)+" "+(re.rightSmallArcRadius-fe)+" 0 0 1 "+(re.rightInnerExtent-Z)+" "+(re.targetY+fe)+"L"+(re.targetX-Z)+" "+(re.targetY+fe)+(Z>0?"L"+re.targetX+" "+re.targetY:"")+"Z"}(q.link,fe);var re=Math.abs((q.link.target.x0-q.link.source.x1)/2);fe>re&&(fe=re);var $=q.link.source.x1,le=q.link.target.x0-fe,se=k($,le),de=se(.5),we=se(.5),Ee=q.link.y0-q.link.width/2,Me=q.link.y0+q.link.width/2,Ne=q.link.y1-q.link.width/2,Ve=q.link.y1+q.link.width/2,Je=fe>0?"L"+(le+fe)+","+(Ne+q.link.width/2):"";return"M"+$+","+Ee+"C"+de+","+Ee+" "+we+","+Ne+" "+le+","+Ne+(Je+="L"+le+","+Ve)+"C"+we+","+Ve+" "+de+","+Me+" "+$+","+Me+"Z"}}function i(K,Z){var q=w(Z.color),fe=v.nodePadAcross,re=K.nodePad/2;Z.dx=Z.x1-Z.x0,Z.dy=Z.y1-Z.y0;var $=Z.dx,le=Math.max(.5,Z.dy),se="node_"+Z.pointNumber;return Z.group&&(se=c.randstr()),Z.trace=K.trace,Z.curveNumber=K.trace.index,{index:Z.pointNumber,key:se,partOfGroup:Z.partOfGroup||!1,group:Z.group,traceId:K.key,trace:K.trace,node:Z,nodePad:K.nodePad,nodeLineColor:K.nodeLineColor,nodeLineWidth:K.nodeLineWidth,textFont:K.textFont,size:K.horizontal?K.height:K.width,visibleWidth:Math.ceil($),visibleHeight:le,zoneX:-fe,zoneY:-re,zoneWidth:$+2*fe,zoneHeight:le+2*re,labelY:K.horizontal?Z.dy/2+1:Z.dx/2+1,left:1===Z.originalLayer,sizeAcross:K.width,forceLayouts:K.forceLayouts,horizontal:K.horizontal,darkBackground:q.getBrightness()<=128,tinyColorHue:r.tinyRGB(q),tinyColorAlpha:q.getAlpha(),valueFormat:K.valueFormat,valueSuffix:K.valueSuffix,sankey:K.sankey,graph:K.graph,arrangement:K.arrangement,uniqueNodeLabelPathId:[K.guid,K.key,se].join("_"),interactionState:K.interactionState,figure:K}}function D(K){K.attr("transform",function(Z){return o(Z.node.x0.toFixed(3),Z.node.y0.toFixed(3))})}function y(K){K.call(D)}function B(K,Z){K.call(y),Z.attr("d",M())}function F(K){K.attr("width",function(Z){return Z.node.x1-Z.node.x0}).attr("height",function(Z){return Z.visibleHeight})}function _(K){return K.link.width>1||K.linkLineWidth>0}function z(K){return o(K.translateX,K.translateY)+(K.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function V(K,Z,q){K.on(".basic",null).on("mouseover.basic",function(fe){!fe.interactionState.dragInProgress&&!fe.partOfGroup&&(q.hover(this,fe,Z),fe.interactionState.hovered=[this,fe])}).on("mousemove.basic",function(fe){!fe.interactionState.dragInProgress&&!fe.partOfGroup&&(q.follow(this,fe),fe.interactionState.hovered=[this,fe])}).on("mouseout.basic",function(fe){!fe.interactionState.dragInProgress&&!fe.partOfGroup&&(q.unhover(this,fe,Z),fe.interactionState.hovered=!1)}).on("click.basic",function(fe){fe.interactionState.hovered&&(q.unhover(this,fe,Z),fe.interactionState.hovered=!1),!fe.interactionState.dragInProgress&&!fe.partOfGroup&&q.select(this,fe,Z)})}function H(K,Z,q,fe){var re=l.behavior.drag().origin(function($){return{x:$.node.x0+$.visibleWidth/2,y:$.node.y0+$.visibleHeight/2}}).on("dragstart",function($){if("fixed"!==$.arrangement&&(c.ensureSingle(fe._fullLayout._infolayer,"g","dragcover",function(se){fe._fullLayout._dragCover=se}),c.raiseToTop(this),$.interactionState.dragInProgress=$.node,ce($.node),$.interactionState.hovered&&(q.nodeEvents.unhover.apply(0,$.interactionState.hovered),$.interactionState.hovered=!1),"snap"===$.arrangement)){var le=$.traceId+"|"+$.key;$.forceLayouts[le]?$.forceLayouts[le].alpha(1):function U(K,Z,q,fe){!function te(K){for(var Z=0;Z<K.length;Z++)K[Z].y=(K[Z].y0+K[Z].y1)/2,K[Z].x=(K[Z].x0+K[Z].x1)/2}(q.graph.nodes);var re=q.graph.nodes.filter(function($){return $.originalX===q.node.originalX}).filter(function($){return!$.partOfGroup});q.forceLayouts[Z]=S.forceSimulation(re).alphaDecay(0).force("collide",S.forceCollide().radius(function($){return $.dy/2+q.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",function Y(K,Z,q,fe){return function(){for(var $=0,le=0;le<q.length;le++){var se=q[le];se===fe.interactionState.dragInProgress?(se.x=se.lastDraggedX,se.y=se.lastDraggedY):(se.vx=(se.originalX-se.x)/v.forceTicksPerFrame,se.y=Math.min(fe.size-se.dy/2,Math.max(se.dy/2,se.y))),$=Math.max($,Math.abs(se.vx),Math.abs(se.vy))}!fe.interactionState.dragInProgress&&$<.1&&fe.forceLayouts[Z].alpha()>0&&fe.forceLayouts[Z].alpha(0)}}(0,Z,re,q)).stop()}(0,le,$),function G(K,Z,q,fe,re){window.requestAnimationFrame(function $(){var le;for(le=0;le<v.forceTicksPerFrame;le++)q.forceLayouts[fe].tick();if(function Q(K){for(var Z=0;Z<K.length;Z++)K[Z].y0=K[Z].y-K[Z].dy/2,K[Z].y1=K[Z].y0+K[Z].dy,K[Z].x0=K[Z].x-K[Z].dx/2,K[Z].x1=K[Z].x0+K[Z].dx}(q.graph.nodes),q.sankey.update(q.graph),B(K.filter(pe(q)),Z),q.forceLayouts[fe].alpha()>0)window.requestAnimationFrame($);else{var de=q.node.originalX;q.node.x0=de-q.visibleWidth/2,q.node.x1=de+q.visibleWidth/2,ee(q,re)}})}(K,Z,$,le,fe)}}).on("drag",function($){if("fixed"!==$.arrangement){var le=l.event.x,se=l.event.y;"snap"===$.arrangement?($.node.x0=le-$.visibleWidth/2,$.node.x1=le+$.visibleWidth/2,$.node.y0=se-$.visibleHeight/2,$.node.y1=se+$.visibleHeight/2):("freeform"===$.arrangement&&($.node.x0=le-$.visibleWidth/2,$.node.x1=le+$.visibleWidth/2),se=Math.max(0,Math.min($.size-$.visibleHeight/2,se)),$.node.y0=se-$.visibleHeight/2,$.node.y1=se+$.visibleHeight/2),ce($.node),"snap"!==$.arrangement&&($.sankey.update($.graph),B(K.filter(pe($)),Z))}}).on("dragend",function($){if("fixed"!==$.arrangement){$.interactionState.dragInProgress=!1;for(var le=0;le<$.node.childrenNodes.length;le++)$.node.childrenNodes[le].x=$.node.x,$.node.childrenNodes[le].y=$.node.y;"snap"!==$.arrangement&&ee($,fe)}});K.on(".drag",null).call(re)}function ee(K,Z){for(var q=[],fe=[],re=0;re<K.graph.nodes.length;re++){var le=(K.graph.nodes[re].y0+K.graph.nodes[re].y1)/2;q.push((K.graph.nodes[re].x0+K.graph.nodes[re].x1)/2/K.figure.width),fe.push(le/K.figure.height)}m.call("_guiRestyle",Z,{"node.x":[q],"node.y":[fe]},K.trace.index).then(function(){Z._fullLayout._dragCover&&Z._fullLayout._dragCover.remove()})}function ce(K){K.lastDraggedX=K.x0+K.dx/2,K.lastDraggedY=K.y0+K.dy/2}function pe(K){return function(Z){return Z.node.originalX===K.node.originalX}}oe.exports=function(K,Z,q,fe,re){var $=K._context.staticPlot,le=!1;c.ensureSingle(K._fullLayout._infolayer,"g","first-render",function(){le=!0});var se=K._fullLayout._dragCover,de=q.filter(function(Ie){return p(Ie).trace.visible}).map(L.bind(null,fe)),we=Z.selectAll("."+v.cn.sankey).data(de,d);we.exit().remove(),we.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",$?"none":"auto").attr("transform",z),we.each(function(Ie,Je){K._fullData[Je]._sankey=Ie;var Qe="bgsankey-"+Ie.trace.uid+"-"+Je;c.ensureSingle(K._fullLayout._draggers,"rect",Qe),K._fullData[Je]._bgRect=l.select("."+Qe),K._fullData[Je]._bgRect.style("pointer-events",$?"none":"all").attr("width",Ie.width).attr("height",Ie.height).attr("x",Ie.translateX).attr("y",Ie.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),we.transition().ease(v.ease).duration(v.duration).attr("transform",z);var Ee=we.selectAll("."+v.cn.sankeyLinks).data(b,d);Ee.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Me=Ee.selectAll("."+v.cn.sankeyLink).data(function(Ie){return Ie.graph.links.filter(function(Qe){return Qe.value}).map(x.bind(null,Ie))},d);Me.enter().append("path").classed(v.cn.sankeyLink,!0).call(V,we,re.linkEvents),Me.style("stroke",function(Ie){return _(Ie)?r.tinyRGB(w(Ie.linkLineColor)):Ie.tinyColorHue}).style("stroke-opacity",function(Ie){return _(Ie)?r.opacity(Ie.linkLineColor):Ie.tinyColorAlpha}).style("fill",function(Ie){return Ie.tinyColorHue}).style("fill-opacity",function(Ie){return Ie.tinyColorAlpha}).style("stroke-width",function(Ie){return _(Ie)?Ie.linkLineWidth:1}).attr("d",M()),Me.style("opacity",function(){return K._context.staticPlot||le||se?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Me.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ne=we.selectAll("."+v.cn.sankeyNodeSet).data(b,d);Ne.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Ne.style("cursor",function(Ie){switch(Ie.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ve=Ne.selectAll("."+v.cn.sankeyNode).data(function(Ie){var Je=Ie.graph.nodes;return function ue(K){var q,Z=[];for(q=0;q<K.length;q++)K[q].originalX=(K[q].x0+K[q].x1)/2,K[q].originalY=(K[q].y0+K[q].y1)/2,-1===Z.indexOf(K[q].originalX)&&Z.push(K[q].originalX);for(Z.sort(function(fe,re){return fe-re}),q=0;q<K.length;q++)K[q].originalLayerIndex=Z.indexOf(K[q].originalX),K[q].originalLayer=K[q].originalLayerIndex/(Z.length-1)}(Je),Je.map(i.bind(null,Ie))},d);Ve.enter().append("g").classed(v.cn.sankeyNode,!0).call(D).style("opacity",function(Ie){return!K._context.staticPlot&&!le||Ie.partOfGroup?0:1}),Ve.call(V,we,re.nodeEvents).call(H,Me,re,K),Ve.transition().ease(v.ease).duration(v.duration).call(D).style("opacity",function(Ie){return Ie.partOfGroup?0:1}),Ve.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Pe=Ve.selectAll("."+v.cn.nodeRect).data(b);Pe.enter().append("rect").classed(v.cn.nodeRect,!0).call(F),Pe.style("stroke-width",function(Ie){return Ie.nodeLineWidth}).style("stroke",function(Ie){return r.tinyRGB(w(Ie.nodeLineColor))}).style("stroke-opacity",function(Ie){return r.opacity(Ie.nodeLineColor)}).style("fill",function(Ie){return Ie.tinyColorHue}).style("fill-opacity",function(Ie){return Ie.tinyColorAlpha}),Pe.transition().ease(v.ease).duration(v.duration).call(F);var Ce=Ve.selectAll("."+v.cn.nodeLabel).data(b);Ce.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),Ce.attr("data-notex",1).text(function(Ie){return Ie.node.label}).each(function(Ie){var Je=l.select(this);n.font(Je,Ie.textFont),A.convertToTspans(Je,K)}).style("text-shadow",A.makeTextShadow(K._fullLayout.paper_bgcolor)).attr("text-anchor",function(Ie){return Ie.horizontal&&Ie.left?"end":"start"}).attr("transform",function(Ie){var Je=l.select(this),Qe=A.lineCount(Je),Ke=Ie.nodeLineWidth/2+3,ut=((Ie.horizontal?Ie.visibleHeight:Ie.visibleWidth)-Ie.textFont.size*((Qe-1)*C-g))/2;Ie.horizontal&&(Ie.left?Ke=-Ke:Ke+=Ie.visibleWidth);var ot=Ie.horizontal?"":"scale(-1,1)"+f(90);return o(Ie.horizontal?Ke:ut,Ie.horizontal?ut:Ke)+ot}),Ce.transition().ease(v.ease).duration(v.duration)}},84564:function(oe){"use strict";oe.exports=function(t,S){for(var l=[],R=t.cd[0].trace,I=R._sankey.graph.nodes,v=0;v<I.length;v++){var w=I[v];if(!w.partOfGroup){var r=[(w.x0+w.x1)/2,(w.y0+w.y1)/2];"v"===R.orientation&&r.reverse(),S&&S.contains(r,!1,v,t)&&l.push({pointNumber:w.pointNumber})}}return l}},75225:function(oe,J,t){"use strict";var S=t(71828);oe.exports=function(l,R){for(var I=0;I<l.length;I++)l[I].i=I;S.mergeArray(R.text,l,"tx"),S.mergeArray(R.texttemplate,l,"txt"),S.mergeArray(R.hovertext,l,"htx"),S.mergeArray(R.customdata,l,"data"),S.mergeArray(R.textposition,l,"tp"),R.textfont&&(S.mergeArrayCastPositive(R.textfont.size,l,"ts"),S.mergeArray(R.textfont.color,l,"tc"),S.mergeArray(R.textfont.family,l,"tf"));var v=R.marker;if(v){S.mergeArrayCastPositive(v.size,l,"ms"),S.mergeArrayCastPositive(v.opacity,l,"mo"),S.mergeArray(v.symbol,l,"mx"),S.mergeArray(v.angle,l,"ma"),S.mergeArray(v.standoff,l,"mf"),S.mergeArray(v.color,l,"mc");var w=v.line;v.line&&(S.mergeArray(w.color,l,"mlc"),S.mergeArrayCastPositive(w.width,l,"mlw"));var r=v.gradient;r&&"none"!==r.type&&(S.mergeArray(r.type,l,"mgt"),S.mergeArray(r.color,l,"mgc"))}}},82196:function(oe,J,t){"use strict";var S=t(12663).axisHoverFormat,k=t(5386).si,l=t(5386).fF,R=t(50693),I=t(41940),v=t(79952).P,w=t(79952).u,r=t(91424),n=t(47581),c=t(1426).extendFlat;oe.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:S("x"),yhoverformat:S("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:k({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:l({},{keys:n.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:c({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:w,marker:c({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:c({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},R("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},R("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:I({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(oe,J,t){"use strict";var S=t(92770),k=t(71828),l=t(89298),R=t(42973),I=t(50606).BADNUM,v=t(34098),w=t(36922),r=t(75225),n=t(66279);function o(p,A,m,u,g,C,T){var L=A._length,x=p._fullLayout,E=m._id,M=u._id,i=x._firstScatter[d(A)]===A.uid,D=(b(A,x,m,u)||{}).orientation,y=A.fill;m._minDtick=0,u._minDtick=0;var B={padded:!0},F={padded:!0};T&&(B.ppad=F.ppad=T);var _=L<2||g[0]!==g[L-1]||C[0]!==C[L-1];_&&("tozerox"===y||"tonextx"===y&&(i||"h"===D))?B.tozero=!0:!(A.error_y||{}).visible&&("tonexty"===y||"tozeroy"===y||!v.hasMarkers(A)&&!v.hasText(A))&&(B.padded=!1,B.ppad=0),_&&("tozeroy"===y||"tonexty"===y&&(i||"v"===D))?F.tozero=!0:("tonextx"===y||"tozerox"===y)&&(F.padded=!1),E&&(A._extremes[E]=l.findExtremes(m,g,B)),M&&(A._extremes[M]=l.findExtremes(u,C,F))}function f(p,A){if(v.hasMarkers(p)){var g,m=p.marker,u=1.6*(p.marker.sizeref||1);if(g="area"===p.marker.sizemode?function(E){return Math.max(Math.sqrt((E||0)/u),3)}:function(E){return Math.max((E||0)/u,3)},k.isArrayOrTypedArray(m.size)){var C={type:"linear"};l.setConvert(C);for(var T=C.makeCalcdata(p.marker,"size"),L=new Array(A),x=0;x<A;x++)L[x]=g(T[x]);return L}return g(m.size)}}function h(p,A){var m=d(A),u=p._firstScatter;u[m]||(u[m]=A.uid)}function d(p){var A=p.stackgroup;return p.xaxis+p.yaxis+p.type+(A?"-"+A:"")}function b(p,A,m,u){var g=p.stackgroup;if(g){var C=A._scatterStackOpts[m._id+u._id][g],T="v"===C.orientation?u:m;if("linear"===T.type||"log"===T.type)return C}}oe.exports={calc:function c(p,A){var _,z,V,H,U,G,m=p._fullLayout,u=A._xA=l.getFromId(p,A.xaxis||"x","x"),g=A._yA=l.getFromId(p,A.yaxis||"y","y"),C=u.makeCalcdata(A,"x"),T=g.makeCalcdata(A,"y"),L=R(A,u,"x",C),x=R(A,g,"y",T),E=L.vals,M=x.vals,i=A._length,D=new Array(i),y=A.ids,B=b(A,m,u,g),F=!1;h(m,A);var ue,Y="x",ee="y";B?(k.pushUnique(B.traceIndices,A._expandedIndex),(_="v"===B.orientation)?(ee="s",ue="x"):(Y="s",ue="y"),U="interpolate"===B.stackgaps):o(p,A,u,g,E,M,f(A,i));var pe=!!A.xperiodalignment,te=!!A.yperiodalignment;for(z=0;z<i;z++){var Q=D[z]={},K=S(E[z]),Z=S(M[z]);K&&Z?(Q[Y]=E[z],Q[ee]=M[z],pe&&(Q.orig_x=C[z],Q.xEnd=L.ends[z],Q.xStart=L.starts[z]),te&&(Q.orig_y=T[z],Q.yEnd=x.ends[z],Q.yStart=x.starts[z])):B&&(_?K:Z)?(Q[ue]=_?E[z]:M[z],Q.gap=!0,U?(Q.s=I,F=!0):Q.s=0):Q[Y]=Q[ee]=I,y&&(Q.id=String(y[z]))}if(r(D,A),w(p,A),n(D,A),B){for(z=0;z<D.length;)D[z][ue]===I?D.splice(z,1):z++;if(k.sort(D,function($,le){return $[ue]-le[ue]||$.i-le.i}),F){for(z=0;z<D.length-1&&D[z].gap;)z++;for((G=D[z].s)||(G=D[z].s=0),V=0;V<z;V++)D[V].s=G;for(H=D.length-1;H>z&&D[H].gap;)H--;for(G=D[H].s,V=D.length-1;V>H;V--)D[V].s=G;for(;z<H;)if(D[++z].gap){for(V=z+1;D[V].gap;)V++;for(var q=D[z-1][ue],fe=D[z-1].s,re=(D[V].s-fe)/(D[V][ue]-q);z<V;)D[z].s=fe+(D[z][ue]-q)*re,z++}}}return D},calcMarkerSize:f,calcAxisExpansion:o,setFirstScatter:h,getStackOpts:b}},66279:function(oe,J,t){"use strict";var S=t(71828);oe.exports=function(l,R){S.isArrayOrTypedArray(R.selectedpoints)&&S.tagSelected(l,R)}},36922:function(oe,J,t){"use strict";var S=t(52075).hasColorscale,k=t(78803),l=t(34098);oe.exports=function(I,v){l.hasLines(v)&&S(v,"line")&&k(I,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),l.hasMarkers(v)&&(S(v,"marker")&&k(I,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),S(v,"marker.line")&&k(I,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(oe){"use strict";oe.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(oe,J,t){"use strict";var S=t(47761),k=t(11661).setGroupPositions;function R(v,w,r,n,c,o,f){c[n]=!0;var h={i:null,gap:!0,s:0};if(h[f]=r,v.splice(w,0,h),w&&r===v[w-1][f]){var d=v[w-1];h.s=d.s,h.i=d.i,h.gap=d.gap}else o&&(h.s=function I(v,w,r,n){var c=v[w-1],o=v[w+1];return o?c?c.s+(o.s-c.s)*(r-c[n])/(o[n]-c[n]):o.s:c.s}(v,w,r,f));w||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}oe.exports=function(w,r){"group"===w._fullLayout.scattermode&&function l(v,w){for(var r=w.xaxis,n=w.yaxis,c=v._fullLayout,o=v._fullData,f=v.calcdata,h=[],d=[],b=0;b<o.length;b++){var p=o[b];!0===p.visible&&"scatter"===p.type&&p.xaxis===r._id&&p.yaxis===n._id&&("h"===p.orientation?h.push(f[b]):"v"===p.orientation&&d.push(f[b]))}var A={mode:c.scattermode,gap:c.scattergap};k(v,r,n,d,A),k(v,n,r,h,A)}(w,r);var n=r.xaxis,c=r.yaxis,f=w._fullLayout._scatterStackOpts[n._id+c._id];if(f){var d,b,p,A,m,u,g,C,T,L,x,E,M,i,D,h=w.calcdata;for(var y in f){var B=(L=f[y]).traceIndices;if(B.length){for(x="interpolate"===L.stackgaps,E=L.groupnorm,"v"===L.orientation?(M="x",i="y"):(M="y",i="x"),D=new Array(B.length),d=0;d<D.length;d++)D[d]=!1;u=h[B[0]];var F=new Array(u.length);for(d=0;d<u.length;d++)F[d]=u[d][M];for(d=1;d<B.length;d++){for(m=h[B[d]],b=p=0;b<m.length;b++){for(g=m[b][M];g>F[p]&&p<F.length;p++)R(m,b,F[p],d,D,x,M),b++;if(g!==F[p]){for(A=0;A<d;A++)R(h[B[A]],p,g,A,D,x,M);F.splice(p,0,g)}p++}for(;p<F.length;p++)R(m,b,F[p],d,D,x,M),b++}var _=F.length;for(b=0;b<u.length;b++){for(C=u[b][i]=u[b].s,d=1;d<B.length;d++)(m=h[B[d]])[0].trace._rawLength=m[0].trace._length,m[0].trace._length=_,m[b][i]=C+=m[b].s;if(E)for(T=("fraction"===E?C:C/100)||1,d=0;d<B.length;d++){var z=h[B[d]][b];z[i]/=T,z.sNorm=z.s/T}}for(d=0;d<B.length;d++){var V=(m=h[B[d]])[0].trace,H=S.calcMarkerSize(V,V._rawLength),U=Array.isArray(H);if(H&&D[d]||U){var G=H;for(H=new Array(_),b=0;b<_;b++)H[b]=m[b].gap?0:U?G[m[b].i]:G}var Y=new Array(_),ee=new Array(_);for(b=0;b<_;b++)Y[b]=m[b].x,ee[b]=m[b].y;S.calcAxisExpansion(w,V,n,c,Y,ee,H),m[0].t.orientation=L.orientation}}}}}},34936:function(oe,J,t){"use strict";var S=t(71828),k=t(26125),l=t(82196);oe.exports=function(I,v){var r,n;function c(b){return S.coerce(r._input,r,l,b)}if("group"===v.scattermode)for(n=0;n<I.length;n++)"scatter"===(r=I[n]).type&&k(r._input,r,v,c);for(n=0;n<I.length;n++){var o=I[n];if("scatter"===o.type){var f=o.fill;if("none"!==f&&"toself"!==f&&(o.opacity=void 0,"tonexty"===f||"tonextx"===f))for(var h=n-1;h>=0;h--){var d=I[h];if("scatter"===d.type&&d.xaxis===o.xaxis&&d.yaxis===o.yaxis){d.opacity=void 0;break}}}}}},17438:function(oe,J,t){"use strict";var S=t(71828),k=t(73972),l=t(82196),R=t(47581),I=t(34098),v=t(67513),w=t(73927),r=t(565),n=t(49508),c=t(11058),o=t(94039),f=t(82410),h=t(28908),d=t(71828).coercePattern;oe.exports=function(p,A,m,u){function g(D,y){return S.coerce(p,A,l,D,y)}var C=v(p,A,u,g);if(C||(A.visible=!1),A.visible){w(p,A,u,g),g("xhoverformat"),g("yhoverformat");var T=r(p,A,u,g);"group"===u.scattermode&&void 0===A.orientation&&g("orientation","v");var L=!T&&C<R.PTS_LINESONLY?"lines+markers":"lines";g("text"),g("hovertext"),g("mode",L),I.hasLines(A)&&(c(p,A,m,u,g,{backoff:!0}),o(p,A,g),g("connectgaps"),g("line.simplify")),I.hasMarkers(A)&&n(p,A,m,u,g,{gradient:!0}),I.hasText(A)&&(g("texttemplate"),f(p,A,u,g));var x=[];(I.hasMarkers(A)||I.hasText(A))&&(g("cliponaxis"),g("marker.maxdisplayed"),x.push("points")),g("fill",T?T.fillDflt:"none"),"none"!==A.fill&&(h(p,A,m,g),I.hasLines(A)||o(p,A,g),d(g,"fillpattern",A.fillcolor,!1));var E=(A.line||{}).color,M=(A.marker||{}).color;("tonext"===A.fill||"toself"===A.fill)&&x.push("fills"),g("hoveron",x.join("+")||"points"),"fills"!==A.hoveron&&g("hovertemplate");var i=k.getComponentMethod("errorbars","supplyDefaults");i(p,A,E||M||m,{axis:"y"}),i(p,A,E||M||m,{axis:"x",inherit:"y"}),S.coerceSelectionMarkerOpacity(A,g)}}},28908:function(oe,J,t){"use strict";var S=t(7901),k=t(71828).isArrayOrTypedArray;oe.exports=function(R,I,v,w){var r=!1;if(I.marker){var n=I.marker.color,c=(I.marker.line||{}).color;n&&!k(n)?r=n:c&&!k(c)&&(r=c)}w("fillcolor",S.addOpacity((I.line||{}).color||r||v,.5))}},8225:function(oe,J,t){"use strict";var S=t(89298);oe.exports=function(l,R,I){var v={},w={_fullLayout:I},r=S.getFromTrace(w,R,"x"),n=S.getFromTrace(w,R,"y"),c=l.orig_x;void 0===c&&(c=l.x);var o=l.orig_y;return void 0===o&&(o=l.y),v.xLabel=S.tickText(r,r.c2l(c),!0).text,v.yLabel=S.tickText(n,n.c2l(o),!0).text,v}},34603:function(oe,J,t){"use strict";var S=t(7901),k=t(34098);oe.exports=function(R,I){var v,w;if("lines"===R.mode)return(v=R.line.color)&&S.opacity(v)?v:R.fillcolor;if("none"===R.mode)return R.fill?R.fillcolor:"";var r=I.mcc||(R.marker||{}).color,n=I.mlcc||((R.marker||{}).line||{}).color;return(w=r&&S.opacity(r)?r:n&&S.opacity(n)&&(I.mlw||((R.marker||{}).line||{}).width)?n:"")?S.opacity(w)<.3?S.addOpacity(w,.3):w:(v=(R.line||{}).color)&&S.opacity(v)&&k.hasLines(R)&&R.line.width?v:R.fillcolor}},26125:function(oe,J,t){"use strict";var S=t(99082).getAxisGroup;oe.exports=function(l,R,I,v){var w=R.orientation,n=S(I,R[{v:"x",h:"y"}[w]+"axis"])+w,c=I._alignmentOpts||{},o=v("alignmentgroup"),f=c[n];f||(f=c[n]={});var h=f[o];h?h.traces.push(R):h=f[o]={traces:[R],alignmentIndex:Object.keys(f).length,offsetGroups:{}};var d=v("offsetgroup"),b=h.offsetGroups,p=b[d];d&&(p||(p=b[d]={offsetIndex:Object.keys(b).length}),R._offsetIndex=p.offsetIndex)}},33720:function(oe,J,t){"use strict";var S=t(71828),k=t(30211),l=t(73972),R=t(34603),I=t(7901),v=S.fillText;oe.exports=function(r,n,c,o){var f=r.cd,h=f[0].trace,d=r.xa,b=r.ya,p=d.c2p(n),A=b.c2p(c),m=[p,A],u=h.hoveron||"",g=-1!==h.mode.indexOf("markers")?3:.5,C=!!h.xperiodalignment,T=!!h.yperiodalignment;if(-1!==u.indexOf("points")){var E=function(de){var we=Math.max(g,de.mrc||0),Ee=d.c2p(de.x)-p,Me=b.c2p(de.y)-A;return Math.max(Math.sqrt(Ee*Ee+Me*Me)-we,1-g/we)},M=k.getDistanceFunction(o,function(de){if(C){var we=d.c2p(de.xStart),Ee=d.c2p(de.xEnd);return p>=Math.min(we,Ee)&&p<=Math.max(we,Ee)?0:1/0}var Me=Math.max(3,de.mrc||0),Ne=1-1/Me,Ve=Math.abs(d.c2p(de.x)-p);return Ve<Me?Ne*Ve/Me:Ve-Me+Ne},function(de){if(T){var we=b.c2p(de.yStart),Ee=b.c2p(de.yEnd);return A>=Math.min(we,Ee)&&A<=Math.max(we,Ee)?0:1/0}var Me=Math.max(3,de.mrc||0),Ne=1-1/Me,Ve=Math.abs(b.c2p(de.y)-A);return Ve<Me?Ne*Ve/Me:Ve-Me+Ne},E);if(k.getClosest(f,M,r),!1!==r.index){var i=f[r.index],D=d.c2p(i.x,!0),y=b.c2p(i.y,!0),B=i.mrc||1;r.index=i.i;var F=f[0].t.orientation,_=F&&(i.sNorm||i.s),z="h"===F?_:void 0!==i.orig_x?i.orig_x:i.x,V="v"===F?_:void 0!==i.orig_y?i.orig_y:i.y;return S.extendFlat(r,{color:R(h,i),x0:D-B,x1:D+B,xLabelVal:z,y0:y-B,y1:y+B,yLabelVal:V,spikeDistance:E(i),hovertemplate:h.hovertemplate}),v(i,h,r),l.getComponentMethod("errorbars","hoverInfo")(i,h,r),[r]}}if(-1!==u.indexOf("fills")&&h._polygons){var pe,te,Q,K,Z,q,re,$,H=h._polygons,U=[],G=!1,Y=1/0,ee=-1/0,ue=1/0,ce=-1/0;for(pe=0;pe<H.length;pe++)(Q=H[pe]).contains(m)&&(G=!G,U.push(Q),ue=Math.min(ue,Q.ymin),ce=Math.max(ce,Q.ymax));if(G){var le=((ue=Math.max(ue,0))+(ce=Math.min(ce,b._length)))/2;for(pe=0;pe<U.length;pe++)for(K=U[pe].pts,te=1;te<K.length;te++)(re=K[te-1][1])>le!=($=K[te][1])>=le&&(q=K[te-1][0],$-re&&(Z=q+(K[te][0]-q)*(le-re)/($-re),Y=Math.min(Y,Z),ee=Math.max(ee,Z)));Y=Math.max(Y,0),ee=Math.min(ee,d._length);var se=I.defaultLine;return I.opacity(h.fillcolor)?se=h.fillcolor:I.opacity((h.line||{}).color)&&(se=h.line.color),S.extendFlat(r,{distance:r.maxHoverDistance,x0:Y,x1:ee,y0:le,y1:le,color:se,hovertemplate:!1}),delete r.index,r.text=h.text&&!Array.isArray(h.text)?String(h.text):h.name,[r]}}}},67368:function(oe,J,t){"use strict";var S=t(34098);oe.exports={hasLines:S.hasLines,hasMarkers:S.hasMarkers,hasText:S.hasText,isBubble:S.isBubble,attributes:t(82196),layoutAttributes:t(21479),supplyDefaults:t(17438),crossTraceDefaults:t(34936),supplyLayoutDefaults:t(79334),calc:t(47761).calc,crossTraceCalc:t(72626),arraysToCalcdata:t(75225),plot:t(32663),colorbar:t(4898),formatLabels:t(8225),style:t(16296).style,styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(33720),selectPoints:t(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:t(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(oe){"use strict";oe.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(oe,J,t){"use strict";var S=t(71828),k=t(21479);oe.exports=function(l,R){"group"===R.scattermode&&function I(w,r){return S.coerce(l,R,k,w,r)}("scattergap","group"===R.barmode?R.bargap:.2)}},11058:function(oe,J,t){"use strict";var S=t(71828).isArrayOrTypedArray,k=t(52075).hasColorscale,l=t(1586);oe.exports=function(I,v,w,r,n,c){c||(c={});var o=(I.marker||{}).color;n("line.color",w),k(I,"line")?l(I,v,r,n,{prefix:"line.",cLetter:"c"}):n("line.color",!S(o)&&o||w),n("line.width"),c.noDash||n("line.dash"),c.backoff&&n("line.backoff")}},34621:function(oe,J,t){"use strict";var S=t(91424),k=t(50606),l=k.BADNUM,R=k.LOG_CLIP,I=R+.5,v=R-.5,w=t(71828),r=w.segmentsIntersect,n=w.constrain,c=t(47581);oe.exports=function(f,h){var z,V,H,U,G,Y,ee,ue,ce,pe,te,Q,K,Z,q,fe,le,se,d=h.trace||{},b=h.xaxis,p=h.yaxis,A="log"===b.type,m="log"===p.type,u=b._length,g=p._length,C=h.backoff,T=d.marker,L=h.connectGaps,x=h.baseTolerance,E=h.shape,M="linear"===E,i=d.fill&&"none"!==d.fill,D=[],y=c.minTolerance,B=f.length,F=new Array(B),_=0;function re(ft){var gt=f[ft];if(!gt)return!1;var Kt=h.linearized?b.l2p(gt.x):b.c2p(gt.x),ir=h.linearized?p.l2p(gt.y):p.c2p(gt.y);if(Kt===l){if(A&&(Kt=b.c2p(gt.x,!0)),Kt===l)return!1;m&&ir===l&&(Kt*=Math.abs(b._m*g*(b._m>0?I:v)/(p._m*u*(p._m>0?I:v)))),Kt*=1e3}if(ir===l){if(m&&(ir=p.c2p(gt.y,!0)),ir===l)return!1;ir*=1e3}return[Kt,ir]}function $(ft,gt,Kt,ir){var Lt=Kt-ft,Ut=ir-gt,Qt=.5-ft,Cr=.5-gt,wt=Lt*Lt+Ut*Ut,$t=Lt*Qt+Ut*Cr;if($t>0&&$t<wt){var rr=Qt*Ut-Cr*Lt;if(rr*rr<wt)return!0}}function de(ft,gt){var Kt=ft[0]/u,ir=ft[1]/g,Lt=Math.max(0,-Kt,Kt-1,-ir,ir-1);return Lt&&void 0!==le&&$(Kt,ir,le,se)&&(Lt=0),Lt&&gt&&$(Kt,ir,gt[0]/u,gt[1]/g)&&(Lt=0),(1+c.toleranceGrowth*Lt)*x}function we(ft,gt){var Kt=ft[0]-gt[0],ir=ft[1]-gt[1];return Math.sqrt(Kt*Kt+ir*ir)}var Ie,Je,Qe,ze,Ke,ut,pt,Ee=c.maxScreensAway,Me=-u*Ee,Ne=u*(1+Ee),Ve=-g*Ee,Pe=g*(1+Ee),Ce=[[Me,Ve,Ne,Ve],[Ne,Ve,Ne,Pe],[Ne,Pe,Me,Pe],[Me,Pe,Me,Ve]];function We(ft){if(ft[0]<Me||ft[0]>Ne||ft[1]<Ve||ft[1]>Pe)return[n(ft[0],Me,Ne),n(ft[1],Ve,Pe)]}function je(ft,gt){if(ft[0]===gt[0]&&(ft[0]===Me||ft[0]===Ne)||ft[1]===gt[1]&&(ft[1]===Ve||ft[1]===Pe))return!0}function vt(ft,gt,Kt){return function(ir,Lt){var Ut=We(ir),Qt=We(Lt),Cr=[];if(Ut&&Qt&&je(Ut,Qt))return Cr;Ut&&Cr.push(Ut),Qt&&Cr.push(Qt);var wt=2*w.constrain((ir[ft]+Lt[ft])/2,gt,Kt)-((Ut||ir)[ft]+(Qt||Lt)[ft]);return wt&&((Ut&&Qt?wt>0==Ut[ft]>Qt[ft]?Ut:Qt:Ut||Qt)[ft]+=wt),Cr}}function Ct(ft){var gt=ft[0],Kt=ft[1],ir=gt===F[_-1][0],Lt=Kt===F[_-1][1];if(!ir||!Lt)if(_>1){var Ut=gt===F[_-2][0],Qt=Kt===F[_-2][1];ir&&(gt===Me||gt===Ne)&&Ut?Qt?_--:F[_-1]=ft:Lt&&(Kt===Ve||Kt===Pe)&&Qt?Ut?_--:F[_-1]=ft:F[_++]=ft}else F[_++]=ft}function _t(ft){F[_-1][0]!==ft[0]&&F[_-1][1]!==ft[1]&&Ct([Qe,ze]),Ct(ft),Ke=null,Qe=ze=0}"linear"===E||"spline"===E?pt=function ot(ft,gt){for(var Kt=[],ir=0,Lt=0;Lt<4;Lt++){var Ut=Ce[Lt],Qt=r(ft[0],ft[1],gt[0],gt[1],Ut[0],Ut[1],Ut[2],Ut[3]);Qt&&(!ir||Math.abs(Qt.x-Kt[0][0])>1||Math.abs(Qt.y-Kt[0][1])>1)&&(Qt=[Qt.x,Qt.y],ir&&we(Qt,ft)<we(Kt[0],ft)?Kt.unshift(Qt):Kt.push(Qt),ir++)}return Kt}:"hv"===E||"vh"===E?pt=function lt(ft,gt){var Kt=[],ir=We(ft),Lt=We(gt);return ir&&Lt&&je(ir,Lt)||(ir&&Kt.push(ir),Lt&&Kt.push(Lt)),Kt}:"hvh"===E?pt=vt(0,Me,Ne):"vhv"===E&&(pt=vt(1,Ve,Pe));var nt=w.isArrayOrTypedArray(T);function ke(ft){if(ft&&C&&(ft.i=z,ft.d=f,ft.trace=d,ft.marker=nt?T[ft.i]:T,ft.backoff=C),le=ft[0]/u,se=ft[1]/g,Je=ft[1]<Ve?Ve:ft[1]>Pe?Pe:0,(Ie=ft[0]<Me?Me:ft[0]>Ne?Ne:0)||Je){if(_)if(Ke){var gt=pt(Ke,ft);gt.length>1&&(_t(gt[0]),F[_++]=gt[1])}else ut=pt(F[_-1],ft)[0],F[_++]=ut;else F[_++]=[Ie||ft[0],Je||ft[1]];var Kt=F[_-1];Ie&&Je&&(Kt[0]!==Ie||Kt[1]!==Je)?(Ke&&(Qe!==Ie&&ze!==Je?Ct(Qe&&ze?function St(ft,gt){var Kt=gt[0]-ft[0],ir=(gt[1]-ft[1])/Kt;return(ft[1]*gt[0]-gt[1]*ft[0])/Kt>0?[ir>0?Me:Ne,Pe]:[ir>0?Ne:Me,Ve]}(Ke,ft):[Qe||Ie,ze||Je]):Qe&&ze&&Ct([Qe,ze])),Ct([Ie,Je])):Qe-Ie&&ze-Je&&Ct([Ie||Qe,Je||ze]),Ke=ft,Qe=Ie,ze=Je}else Ke&&_t(pt(Ke,ft)[0]),F[_++]=ft}for(z=0;z<B;z++)if(V=re(z)){for(_=0,Ke=null,ke(V),z++;z<B;z++){if(!(U=re(z))){if(L)continue;break}if(M&&h.simplify){var Re=re(z+1);if(pe=we(U,V),i&&(0===_||_===B-1)||!(pe<de(U,Re)*y)){for(ue=[(U[0]-V[0])/pe,(U[1]-V[1])/pe],G=V,te=pe,Q=Z=q=0,ee=!1,H=U,z++;z<f.length;z++){if(Y=Re,Re=re(z+1),!Y){if(L)continue;break}if(fe=(ce=[Y[0]-V[0],Y[1]-V[1]])[0]*ue[1]-ce[1]*ue[0],Z=Math.min(Z,fe),(q=Math.max(q,fe))-Z>de(Y,Re))break;H=Y,(K=ce[0]*ue[0]+ce[1]*ue[1])>te?(te=K,U=Y,ee=!1):K<Q&&(Q=K,G=Y,ee=!0)}if(ee?(ke(U),H!==G&&ke(G)):(G!==V&&ke(G),H!==U&&ke(U)),ke(H),z>=f.length||!Y)break;ke(Y),V=Y}}else ke(U)}Ke&&Ct([Qe||Ke[0],ze||Ke[1]]),D.push(F.slice(0,_))}var Be=E.slice(E.length-1);if(C&&"h"!==Be&&"v"!==Be){for(var He=!1,Ye=-1,Ue=[],De=0;De<D.length;De++)for(var ge=0;ge<D[De].length-1;ge++){var Te=D[De][ge],_e=D[De][ge+1],et=S.applyBackoff(_e,Te);(et[0]!==_e[0]||et[1]!==_e[1])&&(He=!0),Ue[Ye+1]||(Ue[++Ye]=[Te,[et[0],et[1]]])}return He?Ue:D}return D}},94039:function(oe){"use strict";oe.exports=function(t,S,k){"spline"===k("line.shape")&&k("line.smoothing")}},68687:function(oe){"use strict";var J={tonextx:1,tonexty:1,tonext:1};oe.exports=function(S,k,l){var R,I,v,w,r,n={},c=!1,o=-1,f=0,h=-1;for(I=0;I<l.length;I++)(v=(R=l[I][0].trace).stackgroup||"")?v in n?r=n[v]:(r=n[v]=f,f++):R.fill in J&&h>=0?r=h:(r=h=f,f++),r<o&&(c=!0),R._groupIndex=o=r;var d=l.slice();c&&d.sort(function(p,A){var m=p[0].trace,u=A[0].trace;return m._groupIndex-u._groupIndex||m.index-u.index});var b={};for(I=0;I<d.length;I++)v=(R=d[I][0].trace).stackgroup||"",!0===R.visible?(R._nexttrace=null,R.fill in J&&(R._prevtrace=(w=b[v])||null,w&&(w._nexttrace=R)),R._ownfill=R.fill&&("tozero"===R.fill.substr(0,6)||"toself"===R.fill||"to"===R.fill.substr(0,2)&&!R._prevtrace),b[v]=R):R._prevtrace=R._nexttrace=R._ownfill=null;return d}},39984:function(oe,J,t){"use strict";var S=t(92770);oe.exports=function(l,R){R||(R=2);var I=l.marker,v=I.sizeref||1,w=I.sizemin||0,r="area"===I.sizemode?function(n){return Math.sqrt(n/v)}:function(n){return n/v};return function(n){var c=r(n/R);return S(c)&&c>0?Math.max(c,w):0}}},4898:function(oe){"use strict";oe.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(oe,J,t){"use strict";var S=t(7901),k=t(52075).hasColorscale,l=t(1586),R=t(34098);oe.exports=function(v,w,r,n,c,o){var f=R.isBubble(v),h=(v.line||{}).color;o=o||{},h&&(r=h),c("marker.symbol"),c("marker.opacity",f?.7:1),c("marker.size"),o.noAngle||(c("marker.angle"),o.noAngleRef||c("marker.angleref"),o.noStandOff||c("marker.standoff")),c("marker.color",r),k(v,"marker")&&l(v,w,n,c,{prefix:"marker.",cLetter:"c"}),o.noSelect||(c("selected.marker.color"),c("unselected.marker.color"),c("selected.marker.size"),c("unselected.marker.size")),o.noLine||(c("marker.line.color",h&&!Array.isArray(h)&&w.marker.color!==h?h:f?S.background:S.defaultLine),k(v,"marker.line")&&l(v,w,n,c,{prefix:"marker.line.",cLetter:"c"}),c("marker.line.width",f?1:0)),f&&(c("marker.sizeref"),c("marker.sizemin"),c("marker.sizemode")),o.gradient&&"none"!==c("marker.gradient.type")&&c("marker.gradient.color")}},73927:function(oe,J,t){"use strict";var S=t(71828).dateTick0,l=t(50606).ONEWEEK;function R(I,v){return S(v,I%l==0?1:0)}oe.exports=function(v,w,r,n,c){if(c||(c={x:!0,y:!0}),c.x){var o=n("xperiod");o&&(n("xperiod0",R(o,w.xcalendar)),n("xperiodalignment"))}if(c.y){var f=n("yperiod");f&&(n("yperiod0",R(f,w.ycalendar)),n("yperiodalignment"))}}},32663:function(oe,J,t){"use strict";var S=t(39898),k=t(73972),l=t(71828),R=l.ensureSingle,I=l.identity,v=t(91424),w=t(34098),r=t(34621),n=t(68687),c=t(61082).tester;function f(d,b,p,A,m,u,g){var T,C=d._context.staticPlot;!function h(d,b,p,A,m){var u=p.xaxis,g=p.yaxis,C=S.extent(l.simpleMap(u.range,u.r2c)),T=S.extent(l.simpleMap(g.range,g.r2c)),L=A[0].trace;if(w.hasMarkers(L)){var x=L.marker.maxdisplayed;if(0!==x){var E=A.filter(function(y){return y.x>=C[0]&&y.x<=C[1]&&y.y>=T[0]&&y.y<=T[1]}),M=Math.ceil(E.length/x),i=0;m.forEach(function(y,B){var F=y[0].trace;w.hasMarkers(F)&&F.marker.maxdisplayed>0&&B<b&&i++});var D=Math.round(i*M/3+Math.floor(i/3)*M/7.1);A.forEach(function(y){delete y.vis}),E.forEach(function(y,B){0===Math.round((B+D)%M)&&(y.vis=!0)})}}}(0,b,p,A,m);var L=!!g&&g.duration>0;function x(ze){return L?ze.transition():ze}var E=p.xaxis,M=p.yaxis,i=A[0].trace,D=i.line,y=S.select(u),B=R(y,"g","errorbars"),F=R(y,"g","lines"),_=R(y,"g","points"),z=R(y,"g","text");if(k.getComponentMethod("errorbars","plot")(d,B,p,g),!0===i.visible){x(y).style("opacity",i.opacity);var V,H,U=i.fill.charAt(i.fill.length-1);"x"!==U&&"y"!==U&&(U=""),A[0][p.isRangePlot?"nodeRangePlot3":"node3"]=y;var G="",Y=[],ee=i._prevtrace;ee&&(G=ee._prevRevpath||"",H=ee._nextFill,Y=ee._polygons);var ue,ce,Q,K,Z,q,fe,re,$,pe="",te="",le=[],se=l.noop;if(V=i._ownFill,w.hasLines(i)||"none"!==i.fill){for(H&&H.datum(A),-1!==["hv","vh","hvh","vhv"].indexOf(D.shape)?(Q=v.steps(D.shape),K=v.steps(D.shape.split("").reverse().join(""))):Q=K="spline"===D.shape?function(ze){var Ke=ze[ze.length-1];return ze.length>1&&ze[0][0]===Ke[0]&&ze[0][1]===Ke[1]?v.smoothclosed(ze.slice(1),D.smoothing):v.smoothopen(ze,D.smoothing)}:function(ze){return"M"+ze.join("L")},Z=function(ze){return K(ze.reverse())},le=r(A,{xaxis:E,yaxis:M,trace:i,connectGaps:i.connectgaps,baseTolerance:Math.max(D.width||1,3)/4,shape:D.shape,backoff:D.backoff,simplify:D.simplify,fill:i.fill}),$=i._polygons=new Array(le.length),T=0;T<le.length;T++)i._polygons[T]=c(le[T]);le.length&&(q=le[0][0],re=(fe=le[le.length-1])[fe.length-1]),se=function(ze){return function(Ke){if(ue=Q(Ke),ce=Z(Ke),pe?U?(pe+="L"+ue.substr(1),te=ce+"L"+te.substr(1)):(pe+="Z"+ue,te=ce+"Z"+te):(pe=ue,te=ce),w.hasLines(i)){var ut=S.select(this);if(ut.datum(A),ze)x(ut.style("opacity",0).attr("d",ue).call(v.lineGroupStyle)).style("opacity",1);else{var ot=x(ut);ot.attr("d",ue),v.singleLineStyle(A,ot)}}}}}var de=F.selectAll(".js-line").data(le);x(de.exit()).style("opacity",0).remove(),de.each(se(!1)),de.enter().append("path").classed("js-line",!0).style("vector-effect",C?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(se(!0)),v.setClipUrl(de,p.layerClipId,d),le.length?(V?(V.datum(A),q&&re&&(U?("y"===U?q[1]=re[1]=M.c2p(0,!0):"x"===U&&(q[0]=re[0]=E.c2p(0,!0)),x(V).attr("d","M"+re+"L"+q+"L"+pe.substr(1)).call(v.singleFillStyle,d)):x(V).attr("d",pe+"Z").call(v.singleFillStyle,d))):H&&("tonext"===i.fill.substr(0,6)&&pe&&G?("tonext"===i.fill?x(H).attr("d",pe+"Z"+G+"Z").call(v.singleFillStyle,d):x(H).attr("d",pe+"L"+G.substr(1)+"Z").call(v.singleFillStyle,d),i._polygons=i._polygons.concat(Y)):(we(H),i._polygons=null)),i._prevRevpath=te,i._prevPolygons=$):(V?we(V):H&&we(H),i._polygons=i._prevRevpath=i._prevPolygons=null),_.datum(A),z.datum(A),function Ie(ze,Ke,ut){var ot,lt=ut[0].trace,vt=w.hasMarkers(lt),pt=w.hasText(lt),St=function Pe(ze){if(ze.ids)return Ve}(lt),Ct=Ce,_t=Ce;if(vt||pt){var nt=I,ke=lt.stackgroup,Re=ke&&"infer zero"===d._fullLayout._scatterStackOpts[E._id+M._id][ke].stackgaps;lt.marker.maxdisplayed||lt._needsCull?nt=Re?Me:Ee:ke&&!Re&&(nt=Ne),vt&&(Ct=nt),pt&&(_t=nt)}var He,Be=(ot=ze.selectAll("path.point").data(Ct,St)).enter().append("path").classed("point",!0);L&&Be.call(v.pointStyle,lt,d).call(v.translatePoints,E,M).style("opacity",0).transition().style("opacity",1),ot.order(),vt&&(He=v.makePointStyleFns(lt)),ot.each(function(Ye){var Ue=S.select(this),De=x(Ue);v.translatePoint(Ye,De,E,M)?(v.singlePointStyle(Ye,De,lt,He,d),p.layerClipId&&v.hideOutsideRangePoint(Ye,De,E,M,lt.xcalendar,lt.ycalendar),lt.customdata&&Ue.classed("plotly-customdata",null!=Ye.data)):De.remove()}),L?ot.exit().transition().style("opacity",0).remove():ot.exit().remove(),(ot=Ke.selectAll("g").data(_t,St)).enter().append("g").classed("textpoint",!0).append("text"),ot.order(),ot.each(function(Ye){var Ue=S.select(this),De=x(Ue.select("text"));v.translatePoint(Ye,De,E,M)?p.layerClipId&&v.hideOutsideRangePoint(Ye,Ue,E,M,lt.xcalendar,lt.ycalendar):Ue.remove()}),ot.selectAll("text").call(v.textPointStyle,lt,d).each(function(Ye){var Ue=E.c2p(Ye.x),De=M.c2p(Ye.y);S.select(this).selectAll("tspan.line").each(function(){x(S.select(this)).attr({x:Ue,y:De})})}),ot.exit().remove()}(_,z,A);var Qe=!1===i.cliponaxis?null:p.layerClipId;v.setClipUrl(_,Qe,d),v.setClipUrl(z,Qe,d)}function we(ze){x(ze).attr("d","M0,0Z")}function Ee(ze){return ze.filter(function(Ke){return!Ke.gap&&Ke.vis})}function Me(ze){return ze.filter(function(Ke){return Ke.vis})}function Ne(ze){return ze.filter(function(Ke){return!Ke.gap})}function Ve(ze){return ze.id}function Ce(){return!1}}oe.exports=function(b,p,A,m,u,g){var C,T,L=!u,x=!!u&&u.duration>0,E=n(b,p,A);(C=m.selectAll("g.trace").data(E,function(i){return i[0].trace.uid})).enter().append("g").attr("class",function(i){return"trace scatter trace"+i[0].trace.uid}).style("stroke-miterlimit",2),C.order(),function o(d,b,p){b.each(function(A){var m=R(S.select(this),"g","fills");v.setClipUrl(m,p.layerClipId,d);var u=A[0].trace,g=[];u._ownfill&&g.push("_ownFill"),u._nexttrace&&g.push("_nextFill");var C=m.selectAll("g").data(g,I);C.enter().append("g"),C.exit().each(function(T){u[T]=null}).remove(),C.order().each(function(T){u[T]=R(S.select(this),"path","js-fill")})})}(b,C,p),x?(g&&(T=g()),S.transition().duration(u.duration).ease(u.easing).each("end",function(){T&&T()}).each("interrupt",function(){T&&T()}).each(function(){m.selectAll("g.trace").each(function(i,D){f(b,D,p,i,E,this,u)})})):C.each(function(i,D){f(b,D,p,i,E,this,u)}),L&&C.exit().remove(),m.selectAll("path:not([d])").remove()}},98002:function(oe,J,t){"use strict";var S=t(34098);oe.exports=function(l,R){var c,o,f,h,I=l.cd,v=l.xaxis,w=l.yaxis,r=[],n=I[0].trace;if(!S.hasMarkers(n)&&!S.hasText(n))return[];if(!1===R)for(c=0;c<I.length;c++)I[c].selected=0;else for(c=0;c<I.length;c++)f=v.c2p((o=I[c]).x),h=w.c2p(o.y),null!==o.i&&R.contains([f,h],!1,c,l)?(r.push({pointNumber:o.i,x:v.c2d(o.x),y:w.c2d(o.y)}),o.selected=1):o.selected=0;return r}},565:function(oe){"use strict";var J=["orientation","groupnorm","stackgaps"];oe.exports=function(S,k,l,R){var I=l._scatterStackOpts,v=R("stackgroup");if(v){var w=k.xaxis+k.yaxis,r=I[w];r||(r=I[w]={});var n=r[v],c=!1;n?n.traces.push(k):(n=r[v]={traceIndices:[],traces:[k]},c=!0);for(var o={orientation:k.x&&!k.y?"h":"v"},f=0;f<J.length;f++){var h=J[f],d=h+"Found";if(!n[d]){var b=void 0!==S[h],p="orientation"===h;if((b||c)&&(n[h]=R(h,o[h]),p&&(n.fillDflt="h"===n[h]?"tonextx":"tonexty"),b&&(n[d]=!0,!c&&(delete n.traces[0][h],p))))for(var A=0;A<n.traces.length-1;A++){var m=n.traces[A];m._input.fill!==m.fill&&(m.fill=n.fillDflt)}}}return n}}},16296:function(oe,J,t){"use strict";var S=t(39898),k=t(91424),l=t(73972);function I(r,n,c){k.pointStyle(r.selectAll("path.point"),n,c)}function v(r,n,c){k.textPointStyle(r.selectAll("text"),n,c)}oe.exports={style:function R(r){var n=S.select(r).selectAll("g.trace.scatter");n.style("opacity",function(c){return c[0].trace.opacity}),n.selectAll("g.points").each(function(c){I(S.select(this),c.trace||c[0].trace,r)}),n.selectAll("g.text").each(function(c){v(S.select(this),c.trace||c[0].trace,r)}),n.selectAll("g.trace path.js-line").call(k.lineGroupStyle),n.selectAll("g.trace path.js-fill").call(k.fillGroupStyle,r),l.getComponentMethod("errorbars","style")(n)},stylePoints:I,styleText:v,styleOnSelect:function w(r,n,c){var o=n[0].trace;o.selectedpoints?(k.selectedPointStyle(c.selectAll("path.point"),o),k.selectedTextStyle(c.selectAll("text"),o)):(I(c,o,r),v(c,o,r))}}},34098:function(oe,J,t){"use strict";var S=t(71828);oe.exports={hasLines:function(k){return k.visible&&k.mode&&-1!==k.mode.indexOf("lines")},hasMarkers:function(k){return k.visible&&(k.mode&&-1!==k.mode.indexOf("markers")||"splom"===k.type)},hasText:function(k){return k.visible&&k.mode&&-1!==k.mode.indexOf("text")},isBubble:function(k){return S.isPlainObject(k.marker)&&S.isArrayOrTypedArray(k.marker.size)}}},82410:function(oe,J,t){"use strict";var S=t(71828);oe.exports=function(k,l,R,I,v){v=v||{},I("textposition"),S.coerceFont(I,"textfont",v.font||R.font),v.noSelect||(I("selected.textfont.color"),I("unselected.textfont.color"))}},67513:function(oe,J,t){"use strict";var S=t(71828),k=t(73972);oe.exports=function(R,I,v,w){var c,r=w("x"),n=w("y");if(k.getComponentMethod("calendars","handleTraceDefaults")(R,I,["x","y"],v),r){var f=S.minRowLength(r);n?c=Math.min(f,S.minRowLength(n)):(c=f,w("y0"),w("dy"))}else{if(!n)return 0;c=S.minRowLength(n),w("x0"),w("dx")}return I._length=c,c}},44542:function(oe,J,t){"use strict";var S=t(82196),k=t(50693),l=t(12663).axisHoverFormat,R=t(5386).fF,I=t(5386).si,v=t(9012),w=t(29659),r=t(87381),n=t(1426).extendFlat,c=t(30962).overrideAll,o=t(78607),h=S.marker,d=h.line,b=n({width:S.line.width,dash:{valType:"enumerated",values:o(w),dflt:"solid"}},k("line"));var A=oe.exports=c({x:S.x,y:S.y,z:{valType:"data_array"},text:n({},S.text,{}),texttemplate:I({},{}),hovertext:n({},S.hovertext,{}),hovertemplate:R(),xhoverformat:l("x"),yhoverformat:l("y"),zhoverformat:l("z"),mode:n({},S.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}},connectgaps:S.connectgaps,line:b,marker:n({symbol:{valType:"enumerated",values:o(r),dflt:"circle",arrayOk:!0},size:n({},h.size,{dflt:8}),sizeref:h.sizeref,sizemin:h.sizemin,sizemode:h.sizemode,opacity:n({},h.opacity,{arrayOk:!1}),colorbar:h.colorbar,line:n({width:n({},d.width,{arrayOk:!1})},k("marker.line"))},k("marker")),textposition:n({},S.textposition,{dflt:"top center"}),textfont:{color:S.textfont.color,size:S.textfont.size,family:n({},S.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:n({},v.hoverinfo)},"calc","nested");A.x.editType=A.y.editType=A.z.editType="calc+clearAxisTypes"},36563:function(oe,J,t){"use strict";var S=t(75225),k=t(36922);oe.exports=function(R,I){var v=[{x:!1,y:!1,trace:I,t:{}}];return S(v,I),k(R,I),v}},67336:function(oe,J,t){"use strict";var S=t(73972);function k(I,v,w,r){if(!v||!v.visible)return null;for(var n=S.getComponentMethod("errorbars","makeComputeError")(v),c=new Array(I.length),o=0;o<I.length;o++){var f=n(+I[o],o);if("log"===r.type){var h=r.c2l(I[o]),d=I[o]-f[0],b=I[o]+f[1];if(c[o]=[(r.c2l(d,!0)-h)*w,(r.c2l(b,!0)-h)*w],d>0){var p=r.c2l(d);r._lowerLogErrorBound||(r._lowerLogErrorBound=p),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,p)}}else c[o]=[-f[0]*w,f[1]*w]}return c}oe.exports=function R(I,v,w){var r=[k(I.x,I.error_x,v[0],w.xaxis),k(I.y,I.error_y,v[1],w.yaxis),k(I.z,I.error_z,v[2],w.zaxis)],n=function l(I){for(var v=0;v<I.length;v++)if(I[v])return I[v].length;return 0}(r);if(0===n)return null;for(var c=new Array(n),o=0;o<n;o++){for(var f=[[0,0,0],[0,0,0]],h=0;h<3;h++)if(r[h])for(var d=0;d<2;d++)f[d][h]=r[h][o][d];c[o]=f}return c}},58925:function(oe,J,t){"use strict";var S=t(9330).gl_line3d,k=t(9330).gl_scatter3d,l=t(9330).gl_error3d,R=t(9330).gl_mesh3d,I=t(9330).delaunay_triangulate,v=t(71828),w=t(78614),r=t(81697).formatColor,n=t(39984),c=t(29659),o=t(87381),f=t(89298),h=t(23469).appendArrayPointValue,d=t(67336);function b(y,B){this.scene=y,this.uid=B,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var p=b.prototype;function u(y){return null==y?0:y.indexOf("left")>-1?-1:y.indexOf("right")>-1?1:0}function g(y){return null==y?0:y.indexOf("top")>-1?-1:y.indexOf("bottom")>-1?1:0}function T(y,B){return B(4*y)}function L(y){return o[y]}function x(y,B,F,_,z){var V=null;if(v.isArrayOrTypedArray(y)){V=[];for(var H=0;H<B;H++)V[H]=void 0===y[H]?_:F(y[H],z)}else V=F(y,v.identity);return V}function E(y,B){var Z,q,fe,re,$,le,F=[],_=y.fullSceneLayout,z=y.dataScale,V=_.xaxis,H=_.yaxis,U=_.zaxis,G=B.marker,Y=B.line,ee=B.x||[],ue=B.y||[],ce=B.z||[],pe=ee.length,te=B.xcalendar,Q=B.ycalendar,K=B.zcalendar;for($=0;$<pe;$++)Z=V.d2l(ee[$],0,te)*z[0],q=H.d2l(ue[$],0,Q)*z[1],fe=U.d2l(ce[$],0,K)*z[2],F[$]=[Z,q,fe];if(Array.isArray(B.text))le=B.text;else if(void 0!==B.text)for(le=new Array(pe),$=0;$<pe;$++)le[$]=B.text;function se(ot,We){var je=_[ot];return f.tickText(je,je.d2l(We),!0).text}var de=B.texttemplate;if(de){var Ee=y.fullLayout._d3locale,Me=Array.isArray(de),Ne=Me?Math.min(de.length,pe):pe,Ve=Me?function(ot){return de[ot]}:function(){return de};for(le=new Array(Ne),$=0;$<Ne;$++){var Pe={x:ee[$],y:ue[$],z:ce[$]},Ce={xLabel:se("xaxis",ee[$]),yLabel:se("yaxis",ue[$]),zLabel:se("zaxis",ce[$])},Ie={};h(Ie,B,$);var Je=B._meta||{};le[$]=v.texttemplateString(Ve($),Ce,Ee,Ie,Pe,Je)}}if(re={position:F,mode:B.mode,text:le},"line"in B&&(re.lineColor=r(Y,1,pe),re.lineWidth=Y.width,re.lineDashes=Y.dash),"marker"in B){var Qe=n(B);re.scatterColor=r(G,1,pe),re.scatterSize=x(G.size,pe,T,20,Qe),re.scatterMarker=x(G.symbol,pe,L,"\u25cf"),re.scatterLineWidth=G.line.width,re.scatterLineColor=r(G.line,1,pe),re.scatterAngle=0}"textposition"in B&&(re.textOffset=function C(y){var _=[0,0];if(Array.isArray(y))for(var z=0;z<y.length;z++)_[z]=[0,0],y[z]&&(_[z][0]=u(y[z]),_[z][1]=g(y[z]));else _[0]=u(y),_[1]=g(y);return _}(B.textposition),re.textColor=r(B.textfont,1,pe),re.textSize=x(B.textfont.size,pe,v.identity,12),re.textFont=B.textfont.family,re.textAngle=0);var ze=["x","y","z"];for(re.project=[!1,!1,!1],re.projectScale=[1,1,1],re.projectOpacity=[1,1,1],$=0;$<3;++$){var Ke=B.projection[ze[$]];(re.project[$]=Ke.show)&&(re.projectOpacity[$]=Ke.opacity,re.projectScale[$]=Ke.scale)}re.errorBounds=d(B,z,_);var ut=function m(y){for(var B=[0,0,0],F=[[0,0,0],[0,0,0],[0,0,0]],_=[1,1,1],z=0;z<3;z++){var V=y[z];V&&!1!==V.copy_zstyle&&!1!==y[2].visible&&(V=y[2]),V&&V.visible&&(B[z]=V.width/2,F[z]=w(V.color),_[z]=V.thickness)}return{capSize:B,color:F,lineWidth:_}}([B.error_x,B.error_y,B.error_z]);return re.errorColor=ut.color,re.errorLineWidth=ut.lineWidth,re.errorCapSize=ut.capSize,re.delaunayAxis=B.surfaceaxis,re.delaunayColor=w(B.surfacecolor),re}function M(y){if(v.isArrayOrTypedArray(y)){var B=y[0];return v.isArrayOrTypedArray(B)&&(y=B),"rgb("+y.slice(0,3).map(function(F){return Math.round(255*F)})+")"}return null}function i(y){return v.isArrayOrTypedArray(y)?4===y.length&&"number"==typeof y[0]?M(y):y.map(M):null}p.handlePick=function(y){if(y.object&&(y.object===this.linePlot||y.object===this.delaunayMesh||y.object===this.textMarkers||y.object===this.scatterPlot)){var B=y.index=y.data.index;return y.object.highlight&&y.object.highlight(null),this.scatterPlot&&(y.object=this.scatterPlot,this.scatterPlot.highlight(y.data)),y.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[B]||0===this.textLabels[B])&&(y.textLabel=this.textLabels[B]):y.textLabel=this.textLabels),y.traceCoordinate=[this.data.x[B],this.data.y[B],this.data.z[B]],!0}},p.update=function(y){var F,_,z,V,B=this.scene.glplot.gl,H=c.solid;this.data=y;var U=E(this.scene,y);"mode"in U&&(this.mode=U.mode),"lineDashes"in U&&U.lineDashes in c&&(H=c[U.lineDashes]),this.color=i(U.scatterColor)||i(U.lineColor),this.dataPoints=U.position,F={gl:this.scene.glplot.gl,position:U.position,color:U.lineColor,lineWidth:U.lineWidth||1,dashes:H[0],dashScale:H[1],opacity:y.opacity,connectGaps:y.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(F):(this.linePlot=S(F),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var G=y.opacity;if(y.marker&&void 0!==y.marker.opacity&&(G*=y.marker.opacity),_={gl:this.scene.glplot.gl,position:U.position,color:U.scatterColor,size:U.scatterSize,glyph:U.scatterMarker,opacity:G,orthographic:!0,lineWidth:U.scatterLineWidth,lineColor:U.scatterLineColor,project:U.project,projectScale:U.projectScale,projectOpacity:U.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(_):(this.scatterPlot=k(_),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),V={gl:this.scene.glplot.gl,position:U.position,glyph:U.text,color:U.textColor,size:U.textSize,angle:U.textAngle,alignment:U.textOffset,font:U.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:y.opacity},this.textLabels=y.hovertext||y.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(V):(this.textMarkers=k(V),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),z={gl:this.scene.glplot.gl,position:U.position,color:U.errorColor,error:U.errorBounds,lineWidth:U.errorLineWidth,capSize:U.errorCapSize,opacity:y.opacity},this.errorBars?U.errorBounds?this.errorBars.update(z):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):U.errorBounds&&(this.errorBars=l(z),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),U.delaunayAxis>=0){var Y=function A(y,B,F){var U,_=(F+1)%3,z=(F+2)%3,V=[],H=[];for(U=0;U<y.length;++U){var G=y[U];isNaN(G[_])||!isFinite(G[_])||isNaN(G[z])||!isFinite(G[z])||(V.push([G[_],G[z]]),H.push(U))}var Y=I(V);for(U=0;U<Y.length;++U)for(var ee=Y[U],ue=0;ue<ee.length;++ue)ee[ue]=H[ee[ue]];return{positions:y,cells:Y,meshColor:B}}(U.position,U.delaunayColor,U.delaunayAxis);Y.opacity=y.opacity,this.delaunayMesh?this.delaunayMesh.update(Y):(Y.gl=B,this.delaunayMesh=R(Y),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},p.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},oe.exports=function D(y,B){var F=new b(y,B.uid);return F.update(B),F}},21428:function(oe,J,t){"use strict";var S=t(73972),k=t(71828),l=t(34098),R=t(49508),I=t(11058),v=t(82410),w=t(44542);oe.exports=function(c,o,f,h){function d(T,L){return k.coerce(c,o,w,T,L)}if(function r(n,c,o,f){var h=0,d=o("x"),b=o("y"),p=o("z");return S.getComponentMethod("calendars","handleTraceDefaults")(n,c,["x","y","z"],f),d&&b&&p&&(h=Math.min(d.length,b.length,p.length),c._length=c._xlength=c._ylength=c._zlength=h),h}(c,o,d,h)){d("text"),d("hovertext"),d("hovertemplate"),d("xhoverformat"),d("yhoverformat"),d("zhoverformat"),d("mode"),l.hasLines(o)&&(d("connectgaps"),I(c,o,f,h,d)),l.hasMarkers(o)&&R(c,o,f,h,d,{noSelect:!0,noAngle:!0}),l.hasText(o)&&(d("texttemplate"),v(c,o,h,d,{noSelect:!0}));var p=(o.line||{}).color,A=(o.marker||{}).color;d("surfaceaxis")>=0&&d("surfacecolor",p||A);for(var m=["x","y","z"],u=0;u<3;++u){var g="projection."+m[u];d(g+".show")&&(d(g+".opacity"),d(g+".scale"))}var C=S.getComponentMethod("errorbars","supplyDefaults");C(c,o,p||A||f,{axis:"z"}),C(c,o,p||A||f,{axis:"y",inherit:"z"}),C(c,o,p||A||f,{axis:"x",inherit:"z"})}else o.visible=!1}},13551:function(oe,J,t){"use strict";oe.exports={plot:t(58925),attributes:t(44542),markerSymbols:t(87381),supplyDefaults:t(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:t(36563),moduleType:"trace",name:"scatter3d",basePlotModule:t(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(oe,J,t){"use strict";var S=t(82196),k=t(9012),l=t(5386).fF,R=t(5386).si,I=t(50693),v=t(1426).extendFlat,w=S.marker,r=S.line,n=w.line;oe.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},S.mode,{dflt:"markers"}),text:v({},S.text,{}),texttemplate:R({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},S.hovertext,{}),line:{color:r.color,width:r.width,dash:r.dash,backoff:r.backoff,shape:v({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:S.connectgaps,fill:v({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:S.fillcolor,marker:v({symbol:w.symbol,opacity:w.opacity,maxdisplayed:w.maxdisplayed,angle:w.angle,angleref:w.angleref,standoff:w.standoff,size:w.size,sizeref:w.sizeref,sizemin:w.sizemin,sizemode:w.sizemode,line:v({width:n.width,editType:"calc"},I("marker.line")),gradient:w.gradient,editType:"calc"},I("marker")),textfont:S.textfont,textposition:S.textposition,selected:S.selected,unselected:S.unselected,hoverinfo:v({},k.hoverinfo,{flags:["a","b","text","name"]}),hoveron:S.hoveron,hovertemplate:l()}},34618:function(oe,J,t){"use strict";var S=t(92770),k=t(36922),l=t(75225),R=t(66279),I=t(47761).calcMarkerSize,v=t(22882);oe.exports=function(r,n){var c=n._carpetTrace=v(r,n);if(c&&c.visible&&"legendonly"!==c.visible){var o;n.xaxis=c.xaxis,n.yaxis=c.yaxis;var d,b,f=n._length,h=new Array(f),p=!1;for(o=0;o<f;o++)if(b=n.b[o],S(d=n.a[o])&&S(b)){var A=c.ab2xy(+d,+b,!0),m=c.isVisible(+d,+b);m||(p=!0),h[o]={x:A[0],y:A[1],a:d,b,vis:m}}else h[o]={x:!1,y:!1};return n._needsCull=p,h[0].carpet=c,h[0].trace=n,I(n,f),k(r,n),l(h,n),R(h,n),h}}},98965:function(oe,J,t){"use strict";var S=t(71828),k=t(47581),l=t(34098),R=t(49508),I=t(11058),v=t(94039),w=t(82410),r=t(28908),n=t(97001);oe.exports=function(o,f,h,d){function b(T,L){return S.coerce(o,f,n,T,L)}b("carpet"),f.xaxis="x",f.yaxis="y";var p=b("a"),A=b("b"),m=Math.min(p.length,A.length);if(m){f._length=m,b("text"),b("texttemplate"),b("hovertext"),b("mode",m<k.PTS_LINESONLY?"lines+markers":"lines"),l.hasLines(f)&&(I(o,f,h,d,b,{backoff:!0}),v(o,f,b),b("connectgaps")),l.hasMarkers(f)&&R(o,f,h,d,b,{gradient:!0}),l.hasText(f)&&w(o,f,d,b);var g=[];(l.hasMarkers(f)||l.hasText(f))&&(b("marker.maxdisplayed"),g.push("points")),b("fill"),"none"!==f.fill&&(r(o,f,h,b),l.hasLines(f)||v(o,f,b)),("tonext"===f.fill||"toself"===f.fill)&&g.push("fills"),"fills"!==b("hoveron",g.join("+")||"points")&&b("hovertemplate"),S.coerceSelectionMarkerOpacity(f,b)}else f.visible=!1}},16165:function(oe){"use strict";oe.exports=function(t,S,k,l,R){var I=l[R];return t.a=I.a,t.b=I.b,t.y=I.y,t}},48953:function(oe){"use strict";oe.exports=function(t,S){var k={},l=S._carpet,R=l.ab2ij([t.a,t.b]),I=Math.floor(R[0]),v=R[0]-I,w=Math.floor(R[1]),n=l.evalxy([],I,w,v,R[1]-w);return k.yLabel=n[1].toFixed(3),k}},22931:function(oe,J,t){"use strict";var S=t(33720),k=t(71828).fillText;oe.exports=function(R,I,v,w){var r=S(R,I,v,w);if(r&&!1!==r[0].index){var n=r[0];if(void 0===n.index){var o=R.xa._length,f=o*(1-n.y0/R.ya._length)/2,h=o-f;return n.x0=Math.max(Math.min(n.x0,h),f),n.x1=Math.max(Math.min(n.x1,h),f),r}var d=n.cd[n.index];n.a=d.a,n.b=d.b,n.xLabelVal=void 0,n.yLabelVal=void 0;var b=n.trace,p=b._carpet,A=b._module.formatLabels(d,b);n.yLabel=A.yLabel,delete n.text;var m=[];if(!b.hovertemplate){var C=(d.hi||b.hoverinfo).split("+");-1!==C.indexOf("all")&&(C=["a","b","text"]),-1!==C.indexOf("a")&&u(p.aaxis,d.a),-1!==C.indexOf("b")&&u(p.baxis,d.b),m.push("y: "+n.yLabel),-1!==C.indexOf("text")&&k(d,b,m),n.extraText=m.join("<br>")}return r}function u(T,L){var x;x=T.labelprefix&&T.labelprefix.length>0?T.labelprefix.replace(/ = $/,""):T._hovertitle,m.push(x+": "+L.toFixed(3)+T.labelsuffix)}}},46858:function(oe,J,t){"use strict";oe.exports={attributes:t(97001),supplyDefaults:t(98965),colorbar:t(4898),formatLabels:t(48953),calc:t(34618),plot:t(1913),style:t(16296).style,styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(22931),selectPoints:t(98002),eventData:t(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:t(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(oe,J,t){"use strict";var S=t(32663),k=t(89298),l=t(91424);oe.exports=function(I,v,w,r){var n,c,o,f=w[0][0].carpet,h=k.getFromId(I,f.xaxis||"x"),d=k.getFromId(I,f.yaxis||"y"),b={xaxis:h,yaxis:d,plot:v.plot};for(n=0;n<w.length;n++)(c=w[n][0].trace)._xA=h,c._yA=d;for(S(I,b,w,r),n=0;n<w.length;n++)o=r.selectAll("g.trace"+(c=w[n][0].trace).uid+" .js-line"),l.setClipUrl(o,w[n][0].carpet._clipPathId,I)}},19316:function(oe,J,t){"use strict";var S=t(5386).fF,k=t(5386).si,l=t(82196),R=t(9012),I=t(50693),v=t(79952).P,w=t(1426).extendFlat,r=t(30962).overrideAll,n=l.marker,c=l.line,o=n.line;oe.exports=r({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:w({},l.mode,{dflt:"markers"}),text:w({},l.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:w({},l.hovertext,{}),textfont:l.textfont,textposition:l.textposition,line:{color:c.color,width:c.width,dash:v},connectgaps:l.connectgaps,marker:w({symbol:n.symbol,opacity:n.opacity,angle:n.angle,angleref:w({},n.angleref,{values:["previous","up","north"]}),standoff:n.standoff,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,colorbar:n.colorbar,line:w({width:o.width},I("marker.line")),gradient:n.gradient},I("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:l.fillcolor,selected:l.selected,unselected:l.unselected,hoverinfo:w({},R.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:S()},"calc","nested")},84622:function(oe,J,t){"use strict";var S=t(92770),k=t(50606).BADNUM,l=t(36922),R=t(75225),I=t(66279),v=t(71828)._;function w(r){return r&&"string"==typeof r}oe.exports=function(n,c){var d,o=Array.isArray(c.locations),f=o?c.locations.length:c._length,h=new Array(f);d=c.geojson?function(g){return w(g)||S(g)}:w;for(var b=0;b<f;b++){var p=h[b]={};if(o){var A=c.locations[b];p.loc=d(A)?A:null}else{var m=c.lon[b],u=c.lat[b];p.lonlat=S(m)&&S(u)?[+m,+u]:[k,k]}}return R(h,c),l(n,c),I(h,c),f&&(h[0].t={labels:{lat:v(n,"lat:")+" ",lon:v(n,"lon:")+" "}}),h}},10659:function(oe,J,t){"use strict";var S=t(71828),k=t(34098),l=t(49508),R=t(11058),I=t(82410),v=t(28908),w=t(19316);oe.exports=function(n,c,o,f){function h(C,T){return S.coerce(n,c,w,C,T)}var b,d=h("locations");if(d&&d.length){var A,p=h("geojson");("string"==typeof p&&""!==p||S.isPlainObject(p))&&(A="geojson-id"),"geojson-id"===h("locationmode",A)&&h("featureidkey"),b=d.length}else{var u=h("lon")||[],g=h("lat")||[];b=Math.min(u.length,g.length)}b?(c._length=b,h("text"),h("hovertext"),h("hovertemplate"),h("mode"),k.hasLines(c)&&(R(n,c,o,f,h),h("connectgaps")),k.hasMarkers(c)&&l(n,c,o,f,h,{gradient:!0}),k.hasText(c)&&(h("texttemplate"),I(n,c,f,h)),h("fill"),"none"!==c.fill&&v(n,c,o,h),S.coerceSelectionMarkerOpacity(c,h)):c.visible=!1}},84084:function(oe){"use strict";oe.exports=function(t,S,k,l,R){t.lon=S.lon,t.lat=S.lat,t.location=S.loc?S.loc:null;var I=l[R];return I.fIn&&I.fIn.properties&&(t.properties=I.fIn.properties),t}},82719:function(oe,J,t){"use strict";var S=t(89298);oe.exports=function(l,R,I){var v={},r=I[R.geo]._subplot.mockAxis,n=l.lonlat;return v.lonLabel=S.tickText(r,r.c2l(n[0]),!0).text,v.latLabel=S.tickText(r,r.c2l(n[1]),!0).text,v}},14977:function(oe,J,t){"use strict";var S=t(30211),k=t(50606).BADNUM,l=t(34603),R=t(71828).fillText,I=t(19316);oe.exports=function(r,n,c){var o=r.cd,f=o[0].trace,h=r.xa,d=r.ya,b=r.subplot,p=b.projection.isLonLatOverEdges,A=b.project;if(S.getClosest(o,function m(E){var M=E.lonlat;if(M[0]===k||p(M))return 1/0;var i=A(M),D=A([n,c]),y=Math.abs(i[0]-D[0]),B=Math.abs(i[1]-D[1]),F=Math.max(3,E.mrc||0);return Math.max(Math.sqrt(y*y+B*B)-F,1-3/F)},r),!1!==r.index){var u=o[r.index],g=u.lonlat,C=[h.c2p(g),d.c2p(g)],T=u.mrc||1;r.x0=C[0]-T,r.x1=C[0]+T,r.y0=C[1]-T,r.y1=C[1]+T,r.loc=u.loc,r.lon=g[0],r.lat=g[1];var L={};L[f.geo]={_subplot:b};var x=f._module.formatLabels(u,f,L);return r.lonLabel=x.lonLabel,r.latLabel=x.latLabel,r.color=l(f,u),r.extraText=function v(w,r,n,c){if(!w.hovertemplate){var o=r.hi||w.hoverinfo,f="all"===o?I.hoverinfo.flags:o.split("+"),h=-1!==f.indexOf("location")&&Array.isArray(w.locations),d=-1!==f.indexOf("lon"),b=-1!==f.indexOf("lat"),p=-1!==f.indexOf("text"),A=[];return h?A.push(r.loc):d&&b?A.push("("+m(n.latLabel)+", "+m(n.lonLabel)+")"):d?A.push(c.lon+m(n.lonLabel)):b&&A.push(c.lat+m(n.latLabel)),p&&R(r,w,A),A.join("<br>")}function m(u){return u+"\xb0"}}(f,u,r,o[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}}},17988:function(oe,J,t){"use strict";oe.exports={attributes:t(19316),supplyDefaults:t(10659),colorbar:t(4898),formatLabels:t(82719),calc:t(84622),calcGeoJSON:t(89171).calcGeoJSON,plot:t(89171).plot,style:t(33095),styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(14977),eventData:t(84084),selectPoints:t(20548),moduleType:"trace",name:"scattergeo",basePlotModule:t(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(90973).getTopojsonFeatures,R=t(18214),I=t(41327),v=t(71739).findExtremes,w=t(50606).BADNUM,r=t(47761).calcMarkerSize,n=t(34098),c=t(33095);oe.exports={calcGeoJSON:function f(h,d){var u,g,b=h[0].trace,p=d[b.geo],A=p._subplot,m=b._length;if(Array.isArray(b.locations)){var C=b.locationmode,T="geojson-id"===C?I.extractTraceFeature(h):l(b,A.topojson);for(u=0;u<m;u++){g=h[u];var L="geojson-id"===C?g.fOut:I.locationToFeature(C,g.loc,T);g.lonlat=L?L.properties.ct:[w,w]}}var E,M,x={padded:!0};if("geojson"===p.fitbounds&&"geojson-id"===b.locationmode){var i=I.computeBbox(I.getTraceGeojson(b));E=[i[0],i[2]],M=[i[1],i[3]]}else{for(E=new Array(m),M=new Array(m),u=0;u<m;u++)E[u]=(g=h[u]).lonlat[0],M[u]=g.lonlat[1];x.ppad=r(b,m)}b._extremes.lon=v(p.lonaxis._ax,E,x),b._extremes.lat=v(p.lataxis._ax,M,x)},plot:function o(h,d,b){var p=d.layers.frontplot.select(".scatterlayer"),A=k.makeTraceGroups(p,b,"trace scattergeo");function m(u,g){u.lonlat[0]===w&&S.select(g).remove()}A.selectAll("*").remove(),A.each(function(u){var g=S.select(this),C=u[0].trace;if(n.hasLines(C)||"none"!==C.fill){var T=R.calcTraceToLineCoords(u),L="none"!==C.fill?R.makePolygon(T):R.makeLine(T);g.selectAll("path.js-line").data([{geojson:L,trace:C}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}n.hasMarkers(C)&&g.selectAll("path.point").data(k.identity).enter().append("path").classed("point",!0).each(function(x){m(x,this)}),n.hasText(C)&&g.selectAll("g").data(k.identity).enter().append("g").append("text").each(function(x){m(x,this)}),c(h,u)})}}},20548:function(oe,J,t){"use strict";var S=t(34098),k=t(50606).BADNUM;oe.exports=function(R,I){var o,f,h,d,b,v=R.cd,w=R.xaxis,r=R.yaxis,n=[],c=v[0].trace;if(!S.hasMarkers(c)&&!S.hasText(c))return[];if(!1===I)for(b=0;b<v.length;b++)v[b].selected=0;else for(b=0;b<v.length;b++)(f=(o=v[b]).lonlat)[0]!==k&&(h=w.c2p(f),d=r.c2p(f),I.contains([h,d],null,b,R)?(n.push({pointNumber:b,lon:f[0],lat:f[1]}),o.selected=1):o.selected=0);return n}},33095:function(oe,J,t){"use strict";var S=t(39898),k=t(91424),l=t(7901),R=t(16296),I=R.stylePoints,v=R.styleText;oe.exports=function(n,c){c&&function w(r,n){var c=n[0].trace,o=n[0].node3;o.style("opacity",n[0].trace.opacity),I(o,c,r),v(o,c,r),o.selectAll("path.js-line").style("fill","none").each(function(f){var h=S.select(this),d=f.trace,b=d.line||{};h.call(l.stroke,b.color).call(k.dashLine,b.dash||"",b.width||0),"none"!==d.fill&&h.call(l.fill,d.fillcolor)})}(n,c)}},42341:function(oe,J,t){"use strict";var S=t(9012),k=t(82196),l=t(12663).axisHoverFormat,R=t(50693),I=t(78607),v=t(1426).extendFlat,w=t(30962).overrideAll,r=t(78232).DASHES,n=k.line,c=k.marker,o=c.line,f=oe.exports=w({x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:l("x"),yhoverformat:l("y"),text:k.text,hovertext:k.hovertext,textposition:k.textposition,textfont:k.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:n.color,width:n.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:I(r),dflt:"solid"}},marker:v({},R("marker"),{symbol:c.symbol,angle:c.angle,size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:c.opacity,colorbar:c.colorbar,line:v({},R("marker.line"),{width:o.width})}),connectgaps:k.connectgaps,fill:v({},k.fill,{dflt:"none"}),fillcolor:k.fillcolor,selected:{marker:k.selected.marker,textfont:k.selected.textfont},unselected:{marker:k.unselected.marker,textfont:k.unselected.textfont},opacity:S.opacity},"calc","nested");f.x.editType=f.y.editType=f.x0.editType=f.y0.editType="calc+clearAxisTypes",f.hovertemplate=k.hovertemplate,f.texttemplate=k.texttemplate},72156:function(oe,J,t){"use strict";var S=t(20794);oe.exports={moduleType:"trace",name:"scattergl",basePlotModule:t(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:t(42341),supplyDefaults:t(47148),crossTraceDefaults:t(34936),colorbar:t(4898),formatLabels:t(68101),calc:t(45032),hoverPoints:S.hoverPoints,selectPoints:t(58147),meta:{}}},45032:function(oe,J,t){"use strict";var S=t(88294),k=t(71828),l=t(41675),R=t(71739).findExtremes,I=t(42973),v=t(47761),w=v.calcMarkerSize,r=v.calcAxisExpansion,n=v.setFirstScatter,c=t(36922),o=t(19635),f=t(38967),h=t(50606).BADNUM,d=t(78232).TOO_MANY_POINTS;function b(A,m,u){var g=A._extremes[m._id],C=R(m,u._bnds,{padded:!0});g.min=g.min.concat(C.min),g.max=g.max.concat(C.max)}oe.exports=function(m,u){var D,g=m._fullLayout,C=u._xA=l.getFromId(m,u.xaxis,"x"),T=u._yA=l.getFromId(m,u.yaxis,"y"),L=g._plots[u.xaxis+u.yaxis],x=u._length,E=x>=d,M=2*x,i={},y=C.makeCalcdata(u,"x"),B=T.makeCalcdata(u,"y"),F=I(u,C,"x",y),_=I(u,T,"y",B),z=F.vals,V=_.vals;u._x=z,u._y=V,u.xperiodalignment&&(u._origX=y,u._xStarts=F.starts,u._xEnds=F.ends),u.yperiodalignment&&(u._origY=B,u._yStarts=_.starts,u._yEnds=_.ends);var H=new Array(M),U=new Array(x);for(D=0;D<x;D++)H[2*D]=z[D]===h?NaN:z[D],H[2*D+1]=V[D]===h?NaN:V[D],U[D]=D;if("log"===C.type)for(D=0;D<M;D+=2)H[D]=C.c2l(H[D]);if("log"===T.type)for(D=1;D<M;D+=2)H[D]=T.c2l(H[D]);E&&"log"!==C.type&&"log"!==T.type?i.tree=S(H):i.ids=U,c(m,u);var ee,G=function p(A,m,u,g,C,T){var L=o.style(A,u);if(L.marker&&(L.marker.positions=g),L.line&&g.length>1&&k.extendFlat(L.line,o.linePositions(A,u,g)),L.errorX||L.errorY){var x=o.errorBarPositions(A,u,g,C,T);L.errorX&&k.extendFlat(L.errorX,x.x),L.errorY&&k.extendFlat(L.errorY,x.y)}return L.text&&(k.extendFlat(L.text,{positions:g},o.textPosition(A,u,L.text,L.marker)),k.extendFlat(L.textSel,{positions:g},o.textPosition(A,u,L.text,L.markerSel)),k.extendFlat(L.textUnsel,{positions:g},o.textPosition(A,u,L.text,L.markerUnsel))),L}(m,0,u,H,z,V),Y=f(m,L);return n(g,u),E?G.marker&&(ee=G.marker.sizeAvg||Math.max(G.marker.size,3)):ee=w(u,x),r(m,u,C,T,z,V,ee),G.errorX&&b(u,C,G.errorX),G.errorY&&b(u,T,G.errorY),G.fill&&!Y.fill2d&&(Y.fill2d=!0),G.marker&&!Y.scatter2d&&(Y.scatter2d=!0),G.line&&!Y.line2d&&(Y.line2d=!0),(G.errorX||G.errorY)&&!Y.error2d&&(Y.error2d=!0),G.text&&!Y.glText&&(Y.glText=!0),G.marker&&(G.marker.snap=x),Y.lineOptions.push(G.line),Y.errorXOptions.push(G.errorX),Y.errorYOptions.push(G.errorY),Y.fillOptions.push(G.fill),Y.markerOptions.push(G.marker),Y.markerSelectedOptions.push(G.markerSel),Y.markerUnselectedOptions.push(G.markerUnsel),Y.textOptions.push(G.text),Y.textSelectedOptions.push(G.textSel),Y.textUnselectedOptions.push(G.textUnsel),Y.selectBatch.push([]),Y.unselectBatch.push([]),i._scene=Y,i.index=Y.count,i.x=z,i.y=V,i.positions=H,Y.count++,[{x:!1,y:!1,t:i,trace:u}]}},78232:function(oe){"use strict";oe.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(oe,J,t){"use strict";var S=t(92770),k=t(82019),l=t(25075),R=t(73972),I=t(71828),v=t(91424),w=t(41675),r=t(81697).formatColor,n=t(34098),c=t(39984),o=t(68645),f=t(78232),h=t(37822).DESELECTDIM,d={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},b=t(23469).appendArrayPointValue;function A(F,_){var pe,z=F._fullLayout,V=_._length,H=_.textfont,U=_.textposition,G=Array.isArray(U)?U:[U],Y=H.color,ee=H.size,ue=H.family,ce={},te=F._context.plotGlPixelRatio,Q=_.texttemplate;if(Q){ce.text=[];var K=z._d3locale,Z=Array.isArray(Q),q=Z?Math.min(Q.length,V):V,fe=Z?function(Ee){return Q[Ee]}:function(){return Q};for(pe=0;pe<q;pe++){var re={i:pe},$=_._module.formatLabels(re,_,z),le={};b(le,_,pe);var se=_._meta||{};ce.text.push(I.texttemplateString(fe(pe),$,K,le,re,se))}}else ce.text=Array.isArray(_.text)&&_.text.length<V?_.text.slice():_.text;if(Array.isArray(ce.text))for(pe=ce.text.length;pe<V;pe++)ce.text[pe]="";for(ce.opacity=_.opacity,ce.font={},ce.align=[],ce.baseline=[],pe=0;pe<G.length;pe++){var de=G[pe].split(/\s+/);switch(de[1]){case"left":ce.align.push("right");break;case"right":ce.align.push("left");break;default:ce.align.push(de[1])}switch(de[0]){case"top":ce.baseline.push("bottom");break;case"bottom":ce.baseline.push("top");break;default:ce.baseline.push(de[0])}}if(Array.isArray(Y))for(ce.color=new Array(V),pe=0;pe<V;pe++)ce.color[pe]=Y[pe];else ce.color=Y;if(I.isArrayOrTypedArray(ee)||Array.isArray(ue))for(ce.font=new Array(V),pe=0;pe<V;pe++){var we=ce.font[pe]={};we.size=(I.isTypedArray(ee)?ee[pe]:Array.isArray(ee)?S(ee[pe])?ee[pe]:0:ee)*te,we.family=Array.isArray(ue)?ue[pe]:ue}else ce.font={size:ee*te,family:ue};return ce}function m(F,_){var U,Q,z=_._length,V=_.marker,H={},G=I.isArrayOrTypedArray(V.symbol),Y=I.isArrayOrTypedArray(V.angle),ee=I.isArrayOrTypedArray(V.color),ue=I.isArrayOrTypedArray(V.line.color),ce=I.isArrayOrTypedArray(V.opacity),pe=I.isArrayOrTypedArray(V.size),te=I.isArrayOrTypedArray(V.line.width);if(G||(Q=o.isOpenSymbol(V.symbol)),G||ee||ue||ce||Y){H.symbols=new Array(z),H.angles=new Array(z),H.colors=new Array(z),H.borderColors=new Array(z);var K=V.symbol,Z=V.angle,q=r(V,V.opacity,z),fe=r(V.line,V.opacity,z);if(!Array.isArray(fe[0])){var re=fe;for(fe=Array(z),U=0;U<z;U++)fe[U]=re}if(!Array.isArray(q[0])){var $=q;for(q=Array(z),U=0;U<z;U++)q[U]=$}if(!Array.isArray(K)){var le=K;for(K=Array(z),U=0;U<z;U++)K[U]=le}if(!Array.isArray(Z)){var se=Z;for(Z=Array(z),U=0;U<z;U++)Z[U]=se}for(H.symbols=K,H.angles=Z,H.colors=q,H.borderColors=fe,U=0;U<z;U++)G&&(Q=o.isOpenSymbol(V.symbol[U])),Q&&(fe[U]=q[U].slice(),q[U]=q[U].slice(),q[U][3]=0);for(H.opacity=_.opacity,H.markers=new Array(z),U=0;U<z;U++)H.markers[U]=i({mx:H.symbols[U],ma:H.angles[U]},_)}else Q?(H.color=l(V.color,"uint8"),H.color[3]=0,H.borderColor=l(V.color,"uint8")):(H.color=l(V.color,"uint8"),H.borderColor=l(V.line.color,"uint8")),H.opacity=_.opacity*V.opacity,H.marker=i({mx:V.symbol,ma:V.angle},_);var Ee,we=c(_,1);if(pe||te){var Pe,Me=H.sizes=new Array(z),Ne=H.borderSizes=new Array(z),Ve=0;if(pe){for(U=0;U<z;U++)Me[U]=we(V.size[U]),Ve+=Me[U];Pe=Ve/z}else for(Ee=we(V.size),U=0;U<z;U++)Me[U]=Ee;if(te)for(U=0;U<z;U++)Ne[U]=V.line.width[U];else for(Ee=V.line.width,U=0;U<z;U++)Ne[U]=Ee;H.sizeAvg=Pe}else H.size=we(V&&V.size||10),H.borderSizes=we(V.line.width);return H}function u(F,_,z){var H={};return z&&(z.marker&&z.marker.symbol?H=m(0,I.extendFlat({},_.marker,z.marker)):z.marker&&(z.marker.size&&(H.size=z.marker.size),z.marker.color&&(H.colors=z.marker.color),void 0!==z.marker.opacity&&(H.opacity=z.marker.opacity))),H}function g(F,_,z){var V={};if(!z)return V;if(z.textfont){var H={opacity:1,text:_.text,texttemplate:_.texttemplate,textposition:_.textposition,textfont:I.extendFlat({},_.textfont)};z.textfont&&I.extendFlat(H.textfont,z.textfont),V=A(F,H)}return V}function C(F,_,z){var V={capSize:2*_.width*z,lineWidth:_.thickness*z,color:_.color};return _.copy_ystyle&&(V=F.error_y),V}var T=f.SYMBOL_SDF_SIZE,L=f.SYMBOL_SIZE,x=f.SYMBOL_STROKE,E={},M=v.symbolFuncs[0](.05*L);function i(F,_){var z=F.mx;if("circle"===z)return null;var V,H,U=v.symbolNumber(z),G=v.symbolFuncs[U%100],Y=!!v.symbolNoDot[U%100],ee=!!v.symbolNoFill[U%100],ue=o.isDotSymbol(z);if(F.ma&&(z+="_"+F.ma),E[z])return E[z];var ce=v.getMarkerAngle(F,_);return V=ue&&!Y?G(1.1*L,ce)+M:G(L,ce),H=k(V,{w:T,h:T,viewBox:[-L,-L,L,L],stroke:ee?x:-x}),E[z]=H,H||null}oe.exports={style:function p(F,_){var z,V={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},H=F._context.plotGlPixelRatio;if(!0!==_.visible)return V;if(n.hasText(_)&&(V.text=A(F,_),V.textSel=g(F,_,_.selected),V.textUnsel=g(F,_,_.unselected)),n.hasMarkers(_)&&(V.marker=m(0,_),V.markerSel=u(F,_,_.selected),V.markerUnsel=u(F,_,_.unselected),!_.unselected&&I.isArrayOrTypedArray(_.marker.opacity))){var U=_.marker.opacity;for(V.markerUnsel.opacity=new Array(U.length),z=0;z<U.length;z++)V.markerUnsel.opacity[z]=h*U[z]}if(n.hasLines(_)){V.line={overlay:!0,thickness:_.line.width*H,color:_.line.color,opacity:_.opacity};var G=(f.DASHES[_.line.dash]||[1]).slice();for(z=0;z<G.length;++z)G[z]*=_.line.width*H;V.line.dashes=G}return _.error_x&&_.error_x.visible&&(V.errorX=C(_,_.error_x,H)),_.error_y&&_.error_y.visible&&(V.errorY=C(_,_.error_y,H)),_.fill&&"none"!==_.fill&&(V.fill={closed:!0,fill:_.fillcolor,thickness:0}),V},markerStyle:m,markerSelection:u,linePositions:function D(F,_,z){var U,G,V=z.length,H=V/2;if(n.hasLines(_)&&H)if("hv"===_.line.shape){for(U=[],G=0;G<H-1;G++)isNaN(z[2*G])||isNaN(z[2*G+1])?U.push(NaN,NaN,NaN,NaN):(U.push(z[2*G],z[2*G+1]),isNaN(z[2*G+2])||isNaN(z[2*G+3])?U.push(NaN,NaN):U.push(z[2*G+2],z[2*G+1]));U.push(z[V-2],z[V-1])}else if("hvh"===_.line.shape){for(U=[],G=0;G<H-1;G++)if(isNaN(z[2*G])||isNaN(z[2*G+1])||isNaN(z[2*G+2])||isNaN(z[2*G+3]))isNaN(z[2*G])||isNaN(z[2*G+1])?U.push(NaN,NaN):U.push(z[2*G],z[2*G+1]),U.push(NaN,NaN);else{var Y=(z[2*G]+z[2*G+2])/2;U.push(z[2*G],z[2*G+1],Y,z[2*G+1],Y,z[2*G+3])}U.push(z[V-2],z[V-1])}else if("vhv"===_.line.shape){for(U=[],G=0;G<H-1;G++)if(isNaN(z[2*G])||isNaN(z[2*G+1])||isNaN(z[2*G+2])||isNaN(z[2*G+3]))isNaN(z[2*G])||isNaN(z[2*G+1])?U.push(NaN,NaN):U.push(z[2*G],z[2*G+1]),U.push(NaN,NaN);else{var ee=(z[2*G+1]+z[2*G+3])/2;U.push(z[2*G],z[2*G+1],z[2*G],ee,z[2*G+2],ee)}U.push(z[V-2],z[V-1])}else if("vh"===_.line.shape){for(U=[],G=0;G<H-1;G++)isNaN(z[2*G])||isNaN(z[2*G+1])?U.push(NaN,NaN,NaN,NaN):(U.push(z[2*G],z[2*G+1]),isNaN(z[2*G+2])||isNaN(z[2*G+3])?U.push(NaN,NaN):U.push(z[2*G],z[2*G+3]));U.push(z[V-2],z[V-1])}else U=z;var ue=!1;for(G=0;G<U.length;G++)if(isNaN(U[G])){ue=!0;break}var ce=ue||U.length>f.TOO_MANY_POINTS||n.hasMarkers(_)?"rect":"round";if(ue&&_.connectgaps){var pe=U[0],te=U[1];for(G=0;G<U.length;G+=2)isNaN(U[G])||isNaN(U[G+1])?(U[G]=pe,U[G+1]=te):(pe=U[G],te=U[G+1])}return{join:ce,positions:U}},errorBarPositions:function y(F,_,z,V,H){var U=R.getComponentMethod("errorbars","makeComputeError"),G=w.getFromId(F,_.xaxis,"x"),Y=w.getFromId(F,_.yaxis,"y"),ee=z.length/2,ue={};function ce(pe,te){var Q=te._id.charAt(0),K=_["error_"+Q];if(K&&K.visible&&("linear"===te.type||"log"===te.type)){for(var Z=U(K),q={x:0,y:1}[Q],fe={x:[0,1,2,3],y:[2,3,0,1]}[Q],re=new Float64Array(4*ee),$=1/0,le=-1/0,se=0,de=0;se<ee;se++,de+=4){var we=pe[se];if(S(we)){var Ee=z[2*se+q],Me=Z(we,se),Ne=Me[0],Ve=Me[1];if(S(Ne)&&S(Ve)){var Ce=we+Ve;re[de+fe[0]]=Ee-te.c2l(we-Ne),re[de+fe[1]]=te.c2l(Ce)-Ee,re[de+fe[2]]=0,re[de+fe[3]]=0,$=Math.min($,we-Ne),le=Math.max(le,we+Ve)}}}ue[Q]={positions:z,errors:re,_bnds:[$,le]}}}return ce(V,G),ce(H,Y),ue},textPosition:function B(F,_,z,V){var G,H=_._length,U={};if(n.hasMarkers(_)){var Y=z.font,ee=z.align,ue=z.baseline;for(U.offset=new Array(H),G=0;G<H;G++){var ce=V.sizes?V.sizes[G]:V.size,pe=Array.isArray(Y)?Y[G].size:Y.size,te=Array.isArray(ee)?ee.length>1?ee[G]:ee[0]:ee,Q=Array.isArray(ue)?ue.length>1?ue[G]:ue[0]:ue,Z=d[Q],q=ce?ce/.8+1:0;U.offset[G]=[d[te]*q/pe,(-Z*q-.5*Z)/pe]}}return U}}},47148:function(oe,J,t){"use strict";var S=t(71828),k=t(73972),l=t(68645),R=t(42341),I=t(47581),v=t(34098),w=t(67513),r=t(73927),n=t(49508),c=t(11058),o=t(28908),f=t(82410);oe.exports=function(d,b,p,A){function m(M,i){return S.coerce(d,b,R,M,i)}var u=!!d.marker&&l.isOpenSymbol(d.marker.symbol),g=v.isBubble(d),C=w(d,b,A,m);if(C){r(d,b,A,m),m("xhoverformat"),m("yhoverformat");var T=C<I.PTS_LINESONLY?"lines+markers":"lines";m("text"),m("hovertext"),m("hovertemplate"),m("mode",T),v.hasLines(b)&&(m("connectgaps"),c(d,b,p,A,m),m("line.shape")),v.hasMarkers(b)&&(n(d,b,p,A,m,{noAngleRef:!0,noStandOff:!0}),m("marker.line.width",u||g?1:0)),v.hasText(b)&&(m("texttemplate"),f(d,b,A,m));var L=(b.line||{}).color,x=(b.marker||{}).color;m("fill"),"none"!==b.fill&&o(d,b,p,m);var E=k.getComponentMethod("errorbars","supplyDefaults");E(d,b,L||x||p,{axis:"y"}),E(d,b,L||x||p,{axis:"x",inherit:"y"}),S.coerceSelectionMarkerOpacity(b,m)}else b.visible=!1}},5345:function(oe,J,t){"use strict";var S=t(71828),k=t(7901),l=t(37822).DESELECTDIM;oe.exports={styleTextSelection:function R(I){var A,m,v=I[0],w=v.trace,r=v.t,n=r._scene,c=r.index,o=n.selectBatch[c],f=n.unselectBatch[c],h=n.textOptions[c],d=n.textSelectedOptions[c]||{},b=n.textUnselectedOptions[c]||{},p=S.extendFlat({},h);if(o.length||f.length){var u=d.color,g=b.color,C=h.color,T=Array.isArray(C);for(p.color=new Array(w._length),A=0;A<o.length;A++)p.color[m=o[A]]=u||(T?C[m]:C);for(A=0;A<f.length;A++){m=f[A];var L=T?C[m]:C;p.color[m]=g||(u?L:k.addOpacity(L,l))}}n.glText[c].update(p)}}},68101:function(oe,J,t){"use strict";var S=t(8225);oe.exports=function(l,R,I){var v=l.i;return"x"in l||(l.x=R._x[v]),"y"in l||(l.y=R._y[v]),S(l,R,I)}},68645:function(oe,J,t){"use strict";var S=t(78232);J.isOpenSymbol=function(k){return"string"==typeof k?S.OPEN_RE.test(k):k%200>100},J.isDotSymbol=function(k){return"string"==typeof k?S.DOT_RE.test(k):k>200}},20794:function(oe,J,t){"use strict";var S=t(73972),k=t(71828),l=t(34603);function I(v,w,r,n){var c=v.xa,o=v.ya,f=v.distance,h=v.dxy,d=v.index,b={pointNumber:d,x:w[d],y:r[d]};b.tx=Array.isArray(n.text)?n.text[d]:n.text,b.htx=Array.isArray(n.hovertext)?n.hovertext[d]:n.hovertext,b.data=Array.isArray(n.customdata)?n.customdata[d]:n.customdata,b.tp=Array.isArray(n.textposition)?n.textposition[d]:n.textposition;var p=n.textfont;p&&(b.ts=k.isArrayOrTypedArray(p.size)?p.size[d]:p.size,b.tc=Array.isArray(p.color)?p.color[d]:p.color,b.tf=Array.isArray(p.family)?p.family[d]:p.family);var A=n.marker;A&&(b.ms=k.isArrayOrTypedArray(A.size)?A.size[d]:A.size,b.mo=k.isArrayOrTypedArray(A.opacity)?A.opacity[d]:A.opacity,b.mx=k.isArrayOrTypedArray(A.symbol)?A.symbol[d]:A.symbol,b.ma=k.isArrayOrTypedArray(A.angle)?A.angle[d]:A.angle,b.mc=k.isArrayOrTypedArray(A.color)?A.color[d]:A.color);var m=A&&A.line;m&&(b.mlc=Array.isArray(m.color)?m.color[d]:m.color,b.mlw=k.isArrayOrTypedArray(m.width)?m.width[d]:m.width);var u=A&&A.gradient;u&&"none"!==u.type&&(b.mgt=Array.isArray(u.type)?u.type[d]:u.type,b.mgc=Array.isArray(u.color)?u.color[d]:u.color);var g=c.c2p(b.x,!0),C=o.c2p(b.y,!0),T=b.mrc||1,L=n.hoverlabel;L&&(b.hbg=Array.isArray(L.bgcolor)?L.bgcolor[d]:L.bgcolor,b.hbc=Array.isArray(L.bordercolor)?L.bordercolor[d]:L.bordercolor,b.hts=k.isArrayOrTypedArray(L.font.size)?L.font.size[d]:L.font.size,b.htc=Array.isArray(L.font.color)?L.font.color[d]:L.font.color,b.htf=Array.isArray(L.font.family)?L.font.family[d]:L.font.family,b.hnl=k.isArrayOrTypedArray(L.namelength)?L.namelength[d]:L.namelength);var x=n.hoverinfo;x&&(b.hi=Array.isArray(x)?x[d]:x);var E=n.hovertemplate;E&&(b.ht=Array.isArray(E)?E[d]:E);var M={};M[v.index]=b;var i=n._origX,D=n._origY,y=k.extendFlat({},v,{color:l(n,b),x0:g-T,x1:g+T,xLabelVal:i?i[d]:b.x,y0:C-T,y1:C+T,yLabelVal:D?D[d]:b.y,cd:M,distance:f,spikeDistance:h,hovertemplate:b.ht});return b.htx?y.text=b.htx:b.tx?y.text=b.tx:n.text&&(y.text=n.text),k.fillText(b,n,y),S.getComponentMethod("errorbars","hoverInfo")(b,n,y),y}oe.exports={hoverPoints:function R(v,w,r,n){var g,c=v.cd,o=c[0].t,f=c[0].trace,h=v.xa,d=v.ya,b=o.x,p=o.y,A=h.c2p(w),m=d.c2p(r),u=v.distance;if(o.tree){var C=h.p2c(A-u),T=h.p2c(A+u),L=d.p2c(m-u),x=d.p2c(m+u);g="x"===n?o.tree.range(Math.min(C,T),Math.min(d._rl[0],d._rl[1]),Math.max(C,T),Math.max(d._rl[0],d._rl[1])):o.tree.range(Math.min(C,T),Math.min(L,x),Math.max(C,T),Math.max(L,x))}else g=o.ids;var E,M,i,D,y,B,F,_,z,V=u;if("x"===n){var H=!!f.xperiodalignment,U=!!f.yperiodalignment;for(y=0;y<g.length;y++){if(i=b[E=g[y]],B=Math.abs(h.c2p(i)-A),H){var G=h.c2p(f._xStarts[E]),Y=h.c2p(f._xEnds[E]);B=A>=Math.min(G,Y)&&A<=Math.max(G,Y)?0:1/0}if(B<V){if(V=B,F=d.c2p(D=p[E])-m,U){var ee=d.c2p(f._yStarts[E]),ue=d.c2p(f._yEnds[E]);F=m>=Math.min(ee,ue)&&m<=Math.max(ee,ue)?0:1/0}z=Math.sqrt(B*B+F*F),M=g[y]}}}else for(y=g.length-1;y>-1;y--)D=p[E=g[y]],B=h.c2p(i=b[E])-A,F=d.c2p(D)-m,(_=Math.sqrt(B*B+F*F))<V&&(V=z=_,M=E);return v.index=M,v.distance=V,v.dxy=z,void 0===M?[v]:[I(v,b,p,f)]},calcHover:I}},68868:function(oe,J,t){"use strict";var S=t(72156);S.plot=t(26787),oe.exports=S},26787:function(oe,J,t){"use strict";var S=t(11870),k=t(46075),l=t(3593),R=t(42505),I=t(71828),v=t(64505).selectMode,w=t(79749),r=t(34098),n=t(68687),c=t(5345).styleTextSelection,o={};function f(d,b,p,A){var m=d._size,E=m.w*A,M=m.h*A;return[m.l*A+b.domain[0]*E,m.b*A+p.domain[0]*M,d.width*A-m.r*A-(1-b.domain[1])*E,d.height*A-m.t*A-(1-p.domain[1])*M]}(oe.exports=function(b,p,A){if(A.length){var T,L,m=b._fullLayout,u=p._scene,g=p.xaxis,C=p.yaxis;if(u){if(!w(b,["ANGLE_instanced_arrays","OES_element_index_uint"],o))return void u.init();var E=u.count,M=m._glcanvas.data()[0].regl;if(n(b,p,A),u.dirty){if(!0===u.error2d&&(u.error2d=l(M)),!0===u.line2d&&(u.line2d=k(M)),!0===u.scatter2d&&(u.scatter2d=S(M)),!0===u.fill2d&&(u.fill2d=k(M)),!0===u.glText)for(u.glText=new Array(E),T=0;T<E;T++)u.glText[T]=new R(M);if(u.glText){if(E>u.glText.length){var i=E-u.glText.length;for(T=0;T<i;T++)u.glText.push(new R(M))}else E<u.glText.length&&u.glText.splice(E,u.glText.length-E).forEach(function(re){re.destroy()});for(T=0;T<E;T++)u.glText[T].update(u.textOptions[T])}if(u.line2d&&(u.line2d.update(u.lineOptions),u.lineOptions=u.lineOptions.map(function(re){if(re&&re.positions){for(var $=re.positions,le=0;le<$.length&&(isNaN($[le])||isNaN($[le+1]));)le+=2;for(var se=$.length-2;se>le&&(isNaN($[se])||isNaN($[se+1]));)se-=2;re.positions=$.slice(le,se+2)}return re}),u.line2d.update(u.lineOptions)),u.error2d){var B=(u.errorXOptions||[]).concat(u.errorYOptions||[]);u.error2d.update(B)}u.scatter2d&&u.scatter2d.update(u.markerOptions),u.fillOrder=I.repeat(null,E),u.fill2d&&(u.fillOptions=u.fillOptions.map(function(re,$){var le=A[$];if(re&&le&&le[0]&&le[0].trace){var Me,Ne,se=le[0],de=se.trace,we=se.t,Ee=u.lineOptions[$],Ve=[];de._ownfill&&Ve.push($),de._nexttrace&&Ve.push($+1),Ve.length&&(u.fillOrder[$]=Ve);var Ie,Je,Pe=[],Ce=Ee&&Ee.positions||we.positions;if("tozeroy"===de.fill){for(Ie=0;Ie<Ce.length&&isNaN(Ce[Ie+1]);)Ie+=2;for(Je=Ce.length-2;Je>Ie&&isNaN(Ce[Je+1]);)Je-=2;0!==Ce[Ie+1]&&(Pe=[Ce[Ie],0]),Pe=Pe.concat(Ce.slice(Ie,Je+2)),0!==Ce[Je+1]&&(Pe=Pe.concat([Ce[Je],0]))}else if("tozerox"===de.fill){for(Ie=0;Ie<Ce.length&&isNaN(Ce[Ie]);)Ie+=2;for(Je=Ce.length-2;Je>Ie&&isNaN(Ce[Je]);)Je-=2;0!==Ce[Ie]&&(Pe=[0,Ce[Ie+1]]),Pe=Pe.concat(Ce.slice(Ie,Je+2)),0!==Ce[Je]&&(Pe=Pe.concat([0,Ce[Je+1]]))}else if("toself"===de.fill||"tonext"===de.fill){for(Pe=[],Me=0,re.splitNull=!0,Ne=0;Ne<Ce.length;Ne+=2)(isNaN(Ce[Ne])||isNaN(Ce[Ne+1]))&&((Pe=Pe.concat(Ce.slice(Me,Ne))).push(Ce[Me],Ce[Me+1]),Pe.push(null,null),Me=Ne+2);Pe=Pe.concat(Ce.slice(Me)),Me&&Pe.push(Ce[Me],Ce[Me+1])}else{var Qe=de._nexttrace;if(Qe){var ze=u.lineOptions[$+1];if(ze){var Ke=ze.positions;if("tonexty"===de.fill){for(Pe=Ce.slice(),$=Math.floor(Ke.length/2);$--;){var ut=Ke[2*$],ot=Ke[2*$+1];isNaN(ut)||isNaN(ot)||Pe.push(ut,ot)}re.fill=Qe.fillcolor}}}}if(de._prevtrace&&"tonext"===de._prevtrace.fill){var We=u.lineOptions[$-1].positions,je=Pe.length/2,lt=[Me=je];for(Ne=0;Ne<We.length;Ne+=2)(isNaN(We[Ne])||isNaN(We[Ne+1]))&&(lt.push(Ne/2+je+1),Me=Ne+2);Pe=Pe.concat(We),re.hole=lt}return re.fillmode=de.fill,re.opacity=de.opacity,re.positions=Pe,re}}),u.fill2d.update(u.fillOptions))}var _=v(m.dragmode),z=m.clickmode.indexOf("select")>-1;for(T=0;T<E;T++){var V=A[T][0],H=V.trace,U=V.t,G=U.index,Y=H._length,ee=U.x,ue=U.y;if(H.selectedpoints||_||z){if(_||(_=!0),H.selectedpoints){var ce=u.selectBatch[G]=I.selIndices2selPoints(H),pe={};for(L=0;L<ce.length;L++)pe[ce[L]]=1;var te=[];for(L=0;L<Y;L++)pe[L]||te.push(L);u.unselectBatch[G]=te}var Q=U.xpx=new Array(Y),K=U.ypx=new Array(Y);for(L=0;L<Y;L++)Q[L]=g.c2p(ee[L]),K[L]=C.c2p(ue[L])}else U.xpx=U.ypx=null}if(_){if(u.select2d||(u.select2d=S(m._glcanvas.data()[1].regl)),u.scatter2d){var Z=new Array(E);for(T=0;T<E;T++)Z[T]=u.selectBatch[T].length||u.unselectBatch[T].length?u.markerUnselectedOptions[T]:{};u.scatter2d.update(Z)}u.select2d&&(u.select2d.update(u.markerOptions),u.select2d.update(u.markerSelectedOptions)),u.glText&&A.forEach(function(re){r.hasText(((re||[])[0]||{}).trace||{})&&c(re)})}else u.scatter2d&&u.scatter2d.update(u.markerOptions);var q={viewport:f(m,g,C,b._context.plotGlPixelRatio),range:[(g._rl||g.range)[0],(C._rl||C.range)[0],(g._rl||g.range)[1],(C._rl||C.range)[1]]},fe=I.repeat(q,u.count);u.fill2d&&u.fill2d.update(fe),u.line2d&&u.line2d.update(fe),u.error2d&&u.error2d.update(fe.concat(fe)),u.scatter2d&&u.scatter2d.update(fe),u.select2d&&u.select2d.update(fe),u.glText&&u.glText.forEach(function(re){re.update(q)})}}}).reglPrecompiled=o},38967:function(oe,J,t){"use strict";var S=t(71828);oe.exports=function(l,R){var I=R._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},w={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return R._scene||((I=R._scene={}).init=function(){S.extendFlat(I,w,v)},I.init(),I.update=function(n){var c=S.repeat(n,I.count);if(I.fill2d&&I.fill2d.update(c),I.scatter2d&&I.scatter2d.update(c),I.line2d&&I.line2d.update(c),I.error2d&&I.error2d.update(c.concat(c)),I.select2d&&I.select2d.update(c),I.glText)for(var o=0;o<I.count;o++)I.glText[o].update(n)},I.draw=function(){for(var n=I.count,c=I.fill2d,o=I.error2d,f=I.line2d,h=I.scatter2d,d=I.glText,b=I.select2d,p=I.selectBatch,A=I.unselectBatch,m=0;m<n;m++){if(c&&I.fillOrder[m]&&c.draw(I.fillOrder[m]),f&&I.lineOptions[m]&&f.draw(m),o&&(I.errorXOptions[m]&&o.draw(m),I.errorYOptions[m]&&o.draw(m+n)),h&&I.markerOptions[m])if(A[m].length){var u=S.repeat([],I.count);u[m]=A[m],h.draw(u)}else p[m].length||h.draw(m);d[m]&&I.textOptions[m]&&d[m].render()}b&&b.draw(p),I.dirty=!1},I.destroy=function(){I.fill2d&&I.fill2d.destroy&&I.fill2d.destroy(),I.scatter2d&&I.scatter2d.destroy&&I.scatter2d.destroy(),I.error2d&&I.error2d.destroy&&I.error2d.destroy(),I.line2d&&I.line2d.destroy&&I.line2d.destroy(),I.select2d&&I.select2d.destroy&&I.select2d.destroy(),I.glText&&I.glText.forEach(function(n){n.destroy&&n.destroy()}),I.lineOptions=null,I.fillOptions=null,I.markerOptions=null,I.markerSelectedOptions=null,I.markerUnselectedOptions=null,I.errorXOptions=null,I.errorYOptions=null,I.textOptions=null,I.textSelectedOptions=null,I.textUnselectedOptions=null,I.selectBatch=null,I.unselectBatch=null,R._scene=null}),I.dirty||S.extendFlat(I,v),I}},58147:function(oe,J,t){"use strict";var S=t(34098),k=t(5345).styleTextSelection;oe.exports=function(R,I){var v=R.cd,w=R.xaxis,r=R.yaxis,n=[],c=v[0].trace,o=v[0].t,f=c._length,h=o.x,d=o.y,b=o._scene,p=o.index;if(!b)return n;var A=S.hasText(c),m=S.hasMarkers(c);if(!0!==c.visible||!m&&!A)return n;var g=[],C=[];if(!1!==I&&!I.degenerate)for(var T=0;T<f;T++)I.contains([o.xpx[T],o.ypx[T]],!1,T,R)?(g.push(T),n.push({pointNumber:T,x:w.c2d(h[T]),y:r.c2d(d[T])})):C.push(T);if(m){var L=b.scatter2d;if(g.length||C.length){if(!b.selectBatch[p].length&&!b.unselectBatch[p].length){var E=new Array(b.count);E[p]=b.markerUnselectedOptions[p],L.update.apply(L,E)}}else{var x=new Array(b.count);x[p]=b.markerOptions[p],L.update.apply(L,x)}}return b.selectBatch[p]=g,b.unselectBatch[p]=C,A&&k(v),n}},99181:function(oe,J,t){"use strict";var S=t(5386).fF,k=t(5386).si,l=t(19316),R=t(82196),I=t(23585),v=t(9012),w=t(50693),r=t(1426).extendFlat,n=t(30962).overrideAll,c=t(23585),o=l.line,f=l.marker;oe.exports=n({lon:l.lon,lat:l.lat,cluster:{enabled:{valType:"boolean"},maxzoom:r({},c.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:r({},f.opacity,{dflt:1})},mode:r({},R.mode,{dflt:"markers"}),text:r({},R.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:r({},R.hovertext,{}),line:{color:o.color,width:o.width},connectgaps:R.connectgaps,marker:r({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:f.opacity,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode},w("marker")),fill:l.fill,fillcolor:R.fillcolor,textfont:I.layers.symbol.textfont,textposition:I.layers.symbol.textposition,below:{valType:"string"},selected:{marker:R.selected.marker},unselected:{marker:R.unselected.marker},hoverinfo:r({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:S()},"calc","nested")},15790:function(oe,J,t){"use strict";var S=t(92770),k=t(71828),l=t(50606).BADNUM,R=t(18214),I=t(21081),v=t(91424),w=t(39984),r=t(34098),n=t(13056),c=t(23469).appendArrayPointValue,o=t(63893).NEWLINES,f=t(63893).BR_TAG_ALL;function h(g){return{type:g,geojson:R.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function p(g,C){return k.isArrayOrTypedArray(g)?C?function(T){return S(g[T])?+g[T]:0}:function(T){return g[T]}:g?function(){return g}:A}function A(){return""}function m(g){return g[0]===l}function u(g,C){var T;if(k.isArrayOrTypedArray(g)&&k.isArrayOrTypedArray(C)){T=["step",["get","point_count"],g[0]];for(var L=1;L<g.length;L++)T.push(C[L-1],g[L])}else T=g;return T}oe.exports=function(C,T){var G,L=T[0].trace,x=!0===L.visible&&0!==L._length,E="none"!==L.fill,M=r.hasLines(L),i=r.hasMarkers(L),D=r.hasText(L),y=i&&"circle"===L.marker.symbol,B=i&&"circle"!==L.marker.symbol,F=L.cluster&&L.cluster.enabled,_=h("fill"),z=h("line"),V=h("circle"),H=h("symbol"),U={fill:_,line:z,circle:V,symbol:H};if(!x)return U;if((E||M)&&(G=R.calcTraceToLineCoords(T)),E&&(_.geojson=R.makePolygon(G),_.layout.visibility="visible",k.extendFlat(_.paint,{"fill-color":L.fillcolor})),M&&(z.geojson=R.makeLine(G),z.layout.visibility="visible",k.extendFlat(z.paint,{"line-width":L.line.width,"line-color":L.line.color,"line-opacity":L.opacity})),y){var Y=function d(g){var i,B,F,_,C=g[0].trace,T=C.marker,L=C.selectedpoints,x=k.isArrayOrTypedArray(T.color),E=k.isArrayOrTypedArray(T.size),M=k.isArrayOrTypedArray(T.opacity);function D(ee){return C.opacity*ee}x&&(B=I.hasColorscale(C,"marker")?I.makeColorScaleFuncFromTrace(T):k.identity),E&&(F=w(C)),M&&(_=function(ee){return D(S(ee)?+k.constrain(ee,0,1):0)});var G,z=[];for(i=0;i<g.length;i++){var V=g[i],H=V.lonlat;if(!m(H)){var U={};B&&(U.mcc=V.mcc=B(V.mc)),F&&(U.mrc=V.mrc=F(V.ms)),_&&(U.mo=_(V.mo)),L&&(U.selected=V.selected||0),z.push({type:"Feature",id:i+1,geometry:{type:"Point",coordinates:H},properties:U})}}if(L)for(G=v.makeSelectedPointStyleFns(C),i=0;i<z.length;i++){var Y=z[i].properties;G.selectedOpacityFn&&(Y.mo=D(G.selectedOpacityFn(Y))),G.selectedColorFn&&(Y.mcc=G.selectedColorFn(Y)),G.selectedSizeFn&&(Y.mrc=G.selectedSizeFn(Y))}return{geojson:{type:"FeatureCollection",features:z},mcc:x||G&&G.selectedColorFn?{type:"identity",property:"mcc"}:T.color,mrc:E||G&&G.selectedSizeFn?{type:"identity",property:"mrc"}:function y(ee){return ee/2}(T.size),mo:M||G&&G.selectedOpacityFn?{type:"identity",property:"mo"}:D(T.opacity)}}(T);V.geojson=Y.geojson,V.layout.visibility="visible",F&&(V.filter=["!",["has","point_count"]],U.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":u(L.cluster.color,L.cluster.step),"circle-radius":u(L.cluster.size,L.cluster.step),"circle-opacity":u(L.cluster.opacity,L.cluster.step)}},U.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),k.extendFlat(V.paint,{"circle-color":Y.mcc,"circle-radius":Y.mrc,"circle-opacity":Y.mo})}if(y&&F&&(V.filter=["!",["has","point_count"]]),(B||D)&&(H.geojson=function b(g,C){for(var T=C._fullLayout,L=g[0].trace,x=L.marker||{},E=x.symbol,M=x.angle,i="circle"!==E?p(E):A,D="auto"!==M?p(M,!0):A,y=r.hasText(L)?p(L.text):A,B=[],F=0;F<g.length;F++){var _=g[F];if(!m(_.lonlat)){var V,z=L.texttemplate;if(z){var H=Array.isArray(z)?z[F]||"":z,U=L._module.formatLabels(_,L,T),G={};c(G,L,_.i),V=k.texttemplateString(H,U,T._d3locale,G,_,L._meta||{})}else V=y(F);V&&(V=V.replace(o,"").replace(f,"\n")),B.push({type:"Feature",geometry:{type:"Point",coordinates:_.lonlat},properties:{symbol:i(F),angle:D(F),text:V}})}}return{type:"FeatureCollection",features:B}}(T,C),k.extendFlat(H.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),B&&(k.extendFlat(H.layout,{"icon-size":L.marker.size/10}),"angle"in L.marker&&"auto"!==L.marker.angle&&k.extendFlat(H.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),H.layout["icon-allow-overlap"]=L.marker.allowoverlap,k.extendFlat(H.paint,{"icon-opacity":L.opacity*L.marker.opacity,"icon-color":L.marker.color})),D)){var ue=n(L.textposition,(L.marker||{}).size);k.extendFlat(H.layout,{"text-size":L.textfont.size,"text-anchor":ue.anchor,"text-offset":ue.offset,"text-font":L.textfont.family.split(", ")}),k.extendFlat(H.paint,{"text-color":L.textfont.color,"text-opacity":L.opacity})}return U}},76645:function(oe,J,t){"use strict";var S=t(71828),k=t(34098),l=t(49508),R=t(11058),I=t(82410),v=t(28908),w=t(99181),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];oe.exports=function(o,f,h,d){function b(E,M){return S.coerce(o,f,w,E,M)}function p(E,M){return S.coerce2(o,f,w,E,M)}if(function n(c,o,f){var h=f("lon")||[],d=f("lat")||[],b=Math.min(h.length,d.length);return o._length=b,b}(0,f,b)){if(b("text"),b("texttemplate"),b("hovertext"),b("hovertemplate"),b("mode"),b("below"),k.hasLines(f)&&(R(o,f,h,d,b,{noDash:!0}),b("connectgaps")),k.hasMarkers(f)){l(o,f,h,d,b,{noLine:!0,noAngle:!0}),b("marker.allowoverlap"),b("marker.angle");var m=f.marker;"circle"!==m.symbol&&(S.isArrayOrTypedArray(m.size)&&(m.size=m.size[0]),S.isArrayOrTypedArray(m.color)&&(m.color=m.color[0]))}var u=p("cluster.maxzoom"),g=p("cluster.step"),C=p("cluster.color",f.marker&&f.marker.color||h),T=p("cluster.size"),L=p("cluster.opacity");b("cluster.enabled",!1!==u||!1!==g||!1!==C||!1!==T||!1!==L),k.hasText(f)&&I(o,f,d,b,{noSelect:!0,font:{family:-1!==r.indexOf(d.font.family)?d.font.family:"Open Sans Regular",size:d.font.size,color:d.font.color}}),b("fill"),"none"!==f.fill&&v(o,f,h,b),S.coerceSelectionMarkerOpacity(f,b)}else f.visible=!1}},53353:function(oe){"use strict";oe.exports=function(t,S){return t.lon=S.lon,t.lat=S.lat,t}},15636:function(oe,J,t){"use strict";var S=t(89298);oe.exports=function(l,R,I){var v={},r=I[R.subplot]._subplot.mockAxis,n=l.lonlat;return v.lonLabel=S.tickText(r,r.c2l(n[0]),!0).text,v.latLabel=S.tickText(r,r.c2l(n[1]),!0).text,v}},28178:function(oe,J,t){"use strict";var S=t(30211),k=t(71828),l=t(34603),R=k.fillText,I=t(50606).BADNUM,v=t(77734).traceLayerPrefix;function r(n,c,o){if(!n.hovertemplate){var h=(c.hi||n.hoverinfo).split("+"),d=-1!==h.indexOf("all"),b=-1!==h.indexOf("lon"),p=-1!==h.indexOf("lat"),A=c.lonlat,m=[];return d||b&&p?m.push("("+u(A[1])+", "+u(A[0])+")"):b?m.push(o.lon+u(A[0])):p&&m.push(o.lat+u(A[1])),(d||-1!==h.indexOf("text"))&&R(c,n,m),m.join("<br>")}function u(g){return g+"\xb0"}}oe.exports={hoverPoints:function w(n,c,o){var f=n.cd,h=f[0].trace,d=n.xa,b=n.ya,p=n.subplot,A=[],u=h.cluster&&h.cluster.enabled;if(u){var g=p.map.queryRenderedFeatures(null,{layers:[v+h.uid+"-circle"]});A=g.map(function(z){return z.id})}var T=360*(c>=0?Math.floor((c+180)/360):Math.ceil((c-180)/360)),L=c-T;if(S.getClosest(f,function x(z){var V=z.lonlat;if(V[0]===I||u&&-1===A.indexOf(z.i+1))return 1/0;var H=k.modHalf(V[0],360),U=V[1],G=p.project([H,U]),Y=G.x-d.c2p([L,U]),ee=G.y-b.c2p([H,o]),ue=Math.max(3,z.mrc||0);return Math.max(Math.sqrt(Y*Y+ee*ee)-ue,1-3/ue)},n),!1!==n.index){var E=f[n.index],M=E.lonlat,i=[k.modHalf(M[0],360)+T,M[1]],D=d.c2p(i),y=b.c2p(i),B=E.mrc||1;n.x0=D-B,n.x1=D+B,n.y0=y-B,n.y1=y+B;var F={};F[h.subplot]={_subplot:p};var _=h._module.formatLabels(E,h,F);return n.lonLabel=_.lonLabel,n.latLabel=_.latLabel,n.color=l(h,E),n.extraText=r(h,E,f[0].t.labels),n.hovertemplate=h.hovertemplate,[n]}},getExtraText:r}},20467:function(oe,J,t){"use strict";oe.exports={attributes:t(99181),supplyDefaults:t(76645),colorbar:t(4898),formatLabels:t(15636),calc:t(84622),plot:t(86951),hoverPoints:t(28178).hoverPoints,eventData:t(53353),selectPoints:t(86387),styleOnSelect:function(S,k){k&&k[0].trace._glTrace.update(k)},moduleType:"trace",name:"scattermapbox",basePlotModule:t(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(oe,J,t){"use strict";var S=t(71828),k=t(15790),l=t(77734).traceLayerPrefix,R={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function I(w,r,n,c){this.type="scattermapbox",this.subplot=w,this.uid=r,this.clusterEnabled=n,this.isHidden=c,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:l+r+"-fill",line:l+r+"-line",circle:l+r+"-circle",symbol:l+r+"-symbol",cluster:l+r+"-cluster",clusterCount:l+r+"-cluster-count"},this.below=null}var v=I.prototype;v.addSource=function(w,r,n){var c={type:"geojson",data:r.geojson};n&&n.enabled&&S.extendFlat(c,{cluster:!0,clusterMaxZoom:n.maxzoom});var o=this.subplot.map.getSource(this.sourceIds[w]);o?o.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[w],c)},v.setSourceData=function(w,r){this.subplot.map.getSource(this.sourceIds[w]).setData(r.geojson)},v.addLayer=function(w,r,n){var c={type:r.type,id:this.layerIds[w],source:this.sourceIds[w],layout:r.layout,paint:r.paint};r.filter&&(c.filter=r.filter);for(var f,o=this.layerIds[w],h=this.subplot.getMapLayers(),d=0;d<h.length;d++)if(h[d].id===o){f=!0;break}f?(this.subplot.setOptions(o,"setLayoutProperty",c.layout),"visible"===c.layout.visibility&&this.subplot.setOptions(o,"setPaintProperty",c.paint)):this.subplot.addLayer(c,n)},v.update=function(r){var n=r[0].trace,c=this.subplot,o=c.map,f=k(c.gd,r),h=c.belowLookup["trace-"+this.uid],d=!(!n.cluster||!n.cluster.enabled),b=!!this.clusterEnabled,p=this;function C(M){b?function m(M){for(var i=R.cluster,D=i.length-1;D>=0;D--)o.removeLayer(p.layerIds[i[D]]);M||o.removeSource(p.sourceIds.circle)}(M):function g(M){for(var i=R.nonCluster,D=i.length-1;D>=0;D--){var y=i[D];o.removeLayer(p.layerIds[y]),M||o.removeSource(p.sourceIds[y])}}(M)}function T(M){d?function A(M){M||p.addSource("circle",f.circle,n.cluster);for(var i=R.cluster,D=0;D<i.length;D++){var y=i[D];p.addLayer(y,f[y],h)}}(M):function u(M){for(var i=R.nonCluster,D=0;D<i.length;D++){var y=i[D],B=f[y];M||p.addSource(y,B),p.addLayer(y,B,h)}}(M)}var x=this.isHidden,E=!0!==n.visible;E?x||C():x?E||T():b!==d?(C(),T()):(this.below!==h&&(C(!0),T(!0)),function L(){for(var M=d?R.cluster:R.nonCluster,i=0;i<M.length;i++){var D=M[i],y=f[D];y&&(c.setOptions(p.layerIds[D],"setLayoutProperty",y.layout),"visible"===y.layout.visibility&&("cluster"!==D&&p.setSourceData(D,y),c.setOptions(p.layerIds[D],"setPaintProperty",y.paint)))}}()),this.clusterEnabled=d,this.isHidden=E,this.below=h,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,n=this.clusterEnabled?R.cluster:R.nonCluster,c=n.length-1;c>=0;c--){var o=n[c];r.removeLayer(this.layerIds[o]),r.removeSource(this.sourceIds[o])}},oe.exports=function(r,n){var p,A,m,c=n[0].trace,o=c.cluster&&c.cluster.enabled,h=new I(r,c.uid,o,!0!==c.visible),d=k(r.gd,n),b=h.below=r.belowLookup["trace-"+c.uid];if(o)for(h.addSource("circle",d.circle,c.cluster),p=0;p<R.cluster.length;p++)h.addLayer(A=R.cluster[p],m=d[A],b);else for(p=0;p<R.nonCluster.length;p++)h.addSource(A=R.nonCluster[p],m=d[A],c.cluster),h.addLayer(A,m,b);return n[0].trace._glTrace=h,h}},86387:function(oe,J,t){"use strict";var S=t(71828),k=t(34098),l=t(50606).BADNUM;oe.exports=function(I,v){var f,w=I.cd,r=I.xaxis,n=I.yaxis,c=[];if(!k.hasMarkers(w[0].trace))return[];if(!1===v)for(f=0;f<w.length;f++)w[f].selected=0;else for(f=0;f<w.length;f++){var h=w[f],d=h.lonlat;if(d[0]!==l){var b=[S.modHalf(d[0],360),d[1]],p=[r.c2p(b),n.c2p(b)];v.contains(p,null,f,I)?(c.push({pointNumber:f,lon:d[0],lat:d[1]}),h.selected=1):h.selected=0}}return c}},81245:function(oe,J,t){"use strict";var S=t(5386).fF,k=t(5386).si,l=t(1426).extendFlat,R=t(82196),I=t(9012),v=R.line;oe.exports={mode:R.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:R.text,texttemplate:k({editType:"plot"},{keys:["r","theta","text"]}),hovertext:R.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:l({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:R.connectgaps,marker:R.marker,cliponaxis:l({},R.cliponaxis,{dflt:!1}),textposition:R.textposition,textfont:R.textfont,fill:l({},R.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:R.fillcolor,hoverinfo:l({},I.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:R.hoveron,hovertemplate:S(),selected:R.selected,unselected:R.unselected}},26442:function(oe,J,t){"use strict";var S=t(92770),k=t(50606).BADNUM,l=t(89298),R=t(36922),I=t(75225),v=t(66279),w=t(47761).calcMarkerSize;oe.exports=function(n,c){for(var o=n._fullLayout,f=c.subplot,h=o[f].radialaxis,d=o[f].angularaxis,b=h.makeCalcdata(c,"r"),p=d.makeCalcdata(c,"theta"),A=c._length,m=new Array(A),u=0;u<A;u++){var g=b[u],C=p[u],T=m[u]={};S(g)&&S(C)?(T.r=g,T.theta=C):T.r=k}var L=w(c,A);return c._extremes.x=l.findExtremes(h,b,{ppad:L}),R(n,c),I(m,c),v(m,c),m}},22184:function(oe,J,t){"use strict";var S=t(71828),k=t(34098),l=t(49508),R=t(11058),I=t(94039),v=t(82410),w=t(28908),r=t(47581).PTS_LINESONLY,n=t(81245);function o(f,h,d,b){var m,p=b("r"),A=b("theta");if(p)A?m=Math.min(p.length,A.length):(m=p.length,b("theta0"),b("dtheta"));else{if(!A)return 0;m=h.theta.length,b("r0"),b("dr")}return h._length=m,m}oe.exports={handleRThetaDefaults:o,supplyDefaults:function c(f,h,d,b){function p(u,g){return S.coerce(f,h,n,u,g)}var A=o(0,h,0,p);if(A){p("thetaunit"),p("mode",A<r?"lines+markers":"lines"),p("text"),p("hovertext"),"fills"!==h.hoveron&&p("hovertemplate"),k.hasLines(h)&&(R(f,h,d,b,p,{backoff:!0}),I(f,h,p),p("connectgaps")),k.hasMarkers(h)&&l(f,h,d,b,p,{gradient:!0}),k.hasText(h)&&(p("texttemplate"),v(f,h,b,p));var m=[];(k.hasMarkers(h)||k.hasText(h))&&(p("cliponaxis"),p("marker.maxdisplayed"),m.push("points")),p("fill"),"none"!==h.fill&&(w(f,h,d,p),k.hasLines(h)||I(f,h,p)),("tonext"===h.fill||"toself"===h.fill)&&m.push("fills"),p("hoveron",m.join("+")||"points"),S.coerceSelectionMarkerOpacity(h,p)}else h.visible=!1}}},98608:function(oe,J,t){"use strict";var S=t(71828),k=t(89298);oe.exports=function(R,I,v){var n,c,w={},r=v[I.subplot]._subplot;r?(n=r.radialAxis,c=r.angularAxis):(n=(r=v[I.subplot]).radialaxis,c=r.angularaxis);var o=n.c2l(R.r);w.rLabel=k.tickText(n,o,!0).text;var f="degrees"===c.thetaunit?S.rad2deg(R.theta):R.theta;return w.thetaLabel=k.tickText(c,f,!0).text,w}},59150:function(oe,J,t){"use strict";var S=t(33720);function l(R,I,v,w){var r=v.radialAxis,n=v.angularAxis;r._hovertitle="r",n._hovertitle="\u03b8";var c={};c[I.subplot]={_subplot:v};var o=I._module.formatLabels(R,I,c);w.rLabel=o.rLabel,w.thetaLabel=o.thetaLabel;var h=[];function d(p,A){h.push(p._hovertitle+": "+A)}if(!I.hovertemplate){var b=(R.hi||I.hoverinfo).split("+");-1!==b.indexOf("all")&&(b=["r","theta","text"]),-1!==b.indexOf("r")&&d(r,w.rLabel),-1!==b.indexOf("theta")&&d(n,w.thetaLabel),-1!==b.indexOf("text")&&w.text&&(h.push(w.text),delete w.text),w.extraText=h.join("<br>")}}oe.exports={hoverPoints:function k(R,I,v,w){var r=S(R,I,v,w);if(r&&!1!==r[0].index){var n=r[0];if(void 0===n.index)return r;var c=R.subplot,o=n.cd[n.index],f=n.trace;if(c.isPtInside(o))return n.xLabelVal=void 0,n.yLabelVal=void 0,l(o,f,c,n),n.hovertemplate=f.hovertemplate,r}},makeHoverPointText:l}},91271:function(oe,J,t){"use strict";oe.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:t(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:t(81245),supplyDefaults:t(22184).supplyDefaults,colorbar:t(4898),formatLabels:t(98608),calc:t(26442),plot:t(45162),style:t(16296).style,styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(59150).hoverPoints,selectPoints:t(98002),meta:{}}},45162:function(oe,J,t){"use strict";var S=t(32663),k=t(50606).BADNUM;oe.exports=function(R,I,v){for(var w=I.layers.frontplot.select("g.scatterlayer"),r=I.xaxis,n=I.yaxis,c={xaxis:r,yaxis:n,plot:I.framework,layerClipId:I._hasClipOnAxisFalse?I.clipIds.forTraces:null},o=I.radialAxis,f=I.angularAxis,h=0;h<v.length;h++)for(var d=v[h],b=0;b<d.length;b++){0===b&&(d[0].trace._xA=r,d[0].trace._yA=n);var p=d[b],A=p.r;if(A===k)p.x=p.y=k;else{var m=o.c2g(A),u=f.c2g(p.theta);p.x=m*Math.cos(u),p.y=m*Math.sin(u)}}S(R,c,v,w)}},53286:function(oe,J,t){"use strict";var S=t(81245),k=t(42341),l=t(5386).si;oe.exports={mode:S.mode,r:S.r,theta:S.theta,r0:S.r0,dr:S.dr,theta0:S.theta0,dtheta:S.dtheta,thetaunit:S.thetaunit,text:S.text,texttemplate:l({editType:"plot"},{keys:["r","theta","text"]}),hovertext:S.hovertext,hovertemplate:S.hovertemplate,line:k.line,connectgaps:k.connectgaps,marker:k.marker,fill:k.fill,fillcolor:k.fillcolor,textposition:k.textposition,textfont:k.textfont,hoverinfo:S.hoverinfo,selected:S.selected,unselected:S.unselected}},65746:function(oe,J,t){"use strict";oe.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:t(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:t(53286),supplyDefaults:t(75485),colorbar:t(4898),formatLabels:t(46255),calc:t(37499),hoverPoints:t(29347).hoverPoints,selectPoints:t(58147),meta:{}}},37499:function(oe,J,t){"use strict";var S=t(36922),k=t(47761).calcMarkerSize,l=t(19635),R=t(89298),I=t(78232).TOO_MANY_POINTS;oe.exports=function(w,r){var n=w._fullLayout,c=r.subplot,o=n[c].radialaxis,f=n[c].angularaxis,h=r._r=o.makeCalcdata(r,"r"),d=r._theta=f.makeCalcdata(r,"theta"),b=r._length,p={};b<h.length&&(h=h.slice(0,b)),b<d.length&&(d=d.slice(0,b)),p.r=h,p.theta=d,S(w,r);var m,A=p.opts=l.style(w,r);return b<I?m=k(r,b):A.marker&&(m=2*(A.marker.sizeAvg||Math.max(A.marker.size,3))),r._extremes.x=R.findExtremes(o,h,{ppad:m}),[{x:!1,y:!1,t:p,trace:r}]}},75485:function(oe,J,t){"use strict";var S=t(71828),k=t(34098),l=t(22184).handleRThetaDefaults,R=t(49508),I=t(11058),v=t(82410),w=t(28908),r=t(47581).PTS_LINESONLY,n=t(53286);oe.exports=function(o,f,h,d){function b(A,m){return S.coerce(o,f,n,A,m)}var p=l(o,f,d,b);p?(b("thetaunit"),b("mode",p<r?"lines+markers":"lines"),b("text"),b("hovertext"),"fills"!==f.hoveron&&b("hovertemplate"),k.hasLines(f)&&(I(o,f,h,d,b),b("connectgaps")),k.hasMarkers(f)&&R(o,f,h,d,b,{noAngleRef:!0,noStandOff:!0}),k.hasText(f)&&(b("texttemplate"),v(o,f,d,b)),b("fill"),"none"!==f.fill&&w(o,f,h,b),S.coerceSelectionMarkerOpacity(f,b)):f.visible=!1}},46255:function(oe,J,t){"use strict";var S=t(98608);oe.exports=function(l,R,I){var v=l.i;return"r"in l||(l.r=R._r[v]),"theta"in l||(l.theta=R._theta[v]),S(l,R,I)}},29347:function(oe,J,t){"use strict";var S=t(20794),k=t(59150).makeHoverPointText;oe.exports={hoverPoints:function l(R,I,v,w){var n=R.cd[0].t,c=n.r,o=n.theta,f=S.hoverPoints(R,I,v,w);if(f&&!1!==f[0].index){var h=f[0];if(void 0===h.index)return f;var d=R.subplot,b=h.cd[h.index],p=h.trace;if(b.r=c[h.index],b.theta=o[h.index],d.isPtInside(b))return h.xLabelVal=void 0,h.yLabelVal=void 0,k(b,p,d,h),f}}}},21461:function(oe,J,t){"use strict";var S=t(65746);S.plot=t(49741),oe.exports=S},49741:function(oe,J,t){"use strict";var S=t(88294),k=t(92770),l=t(26787),R=t(38967),I=t(19635),v=t(71828),w=t(78232).TOO_MANY_POINTS;oe.exports=function(c,o,f){if(f.length){var h=o.radialAxis,d=o.angularAxis,b=R(c,o);return f.forEach(function(p){if(p&&p[0]&&p[0].trace){var x,A=p[0],m=A.trace,u=A.t,g=m._length,C=u.r,T=u.theta,L=u.opts,E=C.slice(),M=T.slice();for(x=0;x<C.length;x++)o.isPtInside({r:C[x],theta:T[x]})||(E[x]=NaN,M[x]=NaN);var i=new Array(2*g),D=Array(g),y=Array(g);for(x=0;x<g;x++){var F,_,B=E[x];if(k(B)){var z=h.c2g(B),V=d.c2g(M[x],m.thetaunit);F=z*Math.cos(V),_=z*Math.sin(V)}else F=_=NaN;D[x]=i[2*x]=F,y[x]=i[2*x+1]=_}u.tree=S(i),L.marker&&g>=w&&(L.marker.cluster=u.tree),L.marker&&(L.markerSel.positions=L.markerUnsel.positions=L.marker.positions=i),L.line&&i.length>1&&v.extendFlat(L.line,I.linePositions(c,m,i)),L.text&&(v.extendFlat(L.text,{positions:i},I.textPosition(c,m,L.text,L.marker)),v.extendFlat(L.textSel,{positions:i},I.textPosition(c,m,L.text,L.markerSel)),v.extendFlat(L.textUnsel,{positions:i},I.textPosition(c,m,L.text,L.markerUnsel))),L.fill&&!b.fill2d&&(b.fill2d=!0),L.marker&&!b.scatter2d&&(b.scatter2d=!0),L.line&&!b.line2d&&(b.line2d=!0),L.text&&!b.glText&&(b.glText=!0),b.lineOptions.push(L.line),b.fillOptions.push(L.fill),b.markerOptions.push(L.marker),b.markerSelectedOptions.push(L.markerSel),b.markerUnselectedOptions.push(L.markerUnsel),b.textOptions.push(L.text),b.textSelectedOptions.push(L.textSel),b.textUnselectedOptions.push(L.textUnsel),b.selectBatch.push([]),b.unselectBatch.push([]),u.x=D,u.y=y,u.rawx=D,u.rawy=y,u.r=C,u.theta=T,u.positions=i,u._scene=b,u.index=b.count,b.count++}}),l(c,o,f)}},oe.exports.reglPrecompiled={}},48300:function(oe,J,t){"use strict";var S=t(5386).fF,k=t(5386).si,l=t(1426).extendFlat,R=t(82196),I=t(9012),v=R.line;oe.exports={mode:R.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:R.text,texttemplate:k({editType:"plot"},{keys:["real","imag","text"]}),hovertext:R.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:l({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:R.connectgaps,marker:R.marker,cliponaxis:l({},R.cliponaxis,{dflt:!1}),textposition:R.textposition,textfont:R.textfont,fill:l({},R.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:R.fillcolor,hoverinfo:l({},I.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:R.hoveron,hovertemplate:S(),selected:R.selected,unselected:R.unselected}},30621:function(oe,J,t){"use strict";var S=t(92770),k=t(50606).BADNUM,l=t(36922),R=t(75225),I=t(66279),v=t(47761).calcMarkerSize;oe.exports=function(r,n){for(var c=r._fullLayout,o=n.subplot,h=c[o].imaginaryaxis,d=c[o].realaxis.makeCalcdata(n,"real"),b=h.makeCalcdata(n,"imag"),p=n._length,A=new Array(p),m=0;m<p;m++){var u=d[m],g=b[m],C=A[m]={};S(u)&&S(g)?(C.real=u,C.imag=g):C.real=k}return v(n,p),l(r,n),R(A,n),I(A,n),A}},65269:function(oe,J,t){"use strict";var S=t(71828),k=t(34098),l=t(49508),R=t(11058),I=t(94039),v=t(82410),w=t(28908),r=t(47581).PTS_LINESONLY,n=t(48300);oe.exports=function(f,h,d,b){function p(u,g){return S.coerce(f,h,n,u,g)}var A=function c(o,f,h,d){var A,b=d("real"),p=d("imag");return b&&p&&(A=Math.min(b.length,p.length)),f._length=A,A}(0,h,0,p);if(A){p("mode",A<r?"lines+markers":"lines"),p("text"),p("hovertext"),"fills"!==h.hoveron&&p("hovertemplate"),k.hasLines(h)&&(R(f,h,d,b,p,{backoff:!0}),I(f,h,p),p("connectgaps")),k.hasMarkers(h)&&l(f,h,d,b,p,{gradient:!0}),k.hasText(h)&&(p("texttemplate"),v(f,h,b,p));var m=[];(k.hasMarkers(h)||k.hasText(h))&&(p("cliponaxis"),p("marker.maxdisplayed"),m.push("points")),p("fill"),"none"!==h.fill&&(w(f,h,d,p),k.hasLines(h)||I(f,h,p)),("tonext"===h.fill||"toself"===h.fill)&&m.push("fills"),p("hoveron",m.join("+")||"points"),S.coerceSelectionMarkerOpacity(h,p)}else h.visible=!1}},62047:function(oe,J,t){"use strict";var S=t(89298);oe.exports=function(l,R,I){var v={},w=I[R.subplot]._subplot;return v.realLabel=S.tickText(w.radialAxis,l.real,!0).text,v.imagLabel=S.tickText(w.angularAxis,l.imag,!0).text,v}},11350:function(oe,J,t){"use strict";var S=t(33720);function l(R,I,v,w){var r=v.radialAxis,n=v.angularAxis;r._hovertitle="real",n._hovertitle="imag";var c={};c[I.subplot]={_subplot:v};var o=I._module.formatLabels(R,I,c);w.realLabel=o.realLabel,w.imagLabel=o.imagLabel;var h=[];function d(p,A){h.push(p._hovertitle+": "+A)}if(!I.hovertemplate){var b=(R.hi||I.hoverinfo).split("+");-1!==b.indexOf("all")&&(b=["real","imag","text"]),-1!==b.indexOf("real")&&d(r,w.realLabel),-1!==b.indexOf("imag")&&d(n,w.imagLabel),-1!==b.indexOf("text")&&w.text&&(h.push(w.text),delete w.text),w.extraText=h.join("<br>")}}oe.exports={hoverPoints:function k(R,I,v,w){var r=S(R,I,v,w);if(r&&!1!==r[0].index){var n=r[0];if(void 0===n.index)return r;var c=R.subplot,o=n.cd[n.index],f=n.trace;if(c.isPtInside(o))return n.xLabelVal=void 0,n.yLabelVal=void 0,l(o,f,c,n),n.hovertemplate=f.hovertemplate,r}},makeHoverPointText:l}},85956:function(oe,J,t){"use strict";oe.exports={moduleType:"trace",name:"scattersmith",basePlotModule:t(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:t(48300),supplyDefaults:t(65269),colorbar:t(4898),formatLabels:t(62047),calc:t(30621),plot:t(12480),style:t(16296).style,styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(11350).hoverPoints,selectPoints:t(98002),meta:{}}},12480:function(oe,J,t){"use strict";var S=t(32663),k=t(50606).BADNUM,R=t(23893).smith;oe.exports=function(v,w,r){for(var n=w.layers.frontplot.select("g.scatterlayer"),c=w.xaxis,o=w.yaxis,f={xaxis:c,yaxis:o,plot:w.framework,layerClipId:w._hasClipOnAxisFalse?w.clipIds.forTraces:null},h=0;h<r.length;h++)for(var d=r[h],b=0;b<d.length;b++){0===b&&(d[0].trace._xA=c,d[0].trace._yA=o);var p=d[b],A=p.real;if(A===k)p.x=p.y=k;else{var m=R([A,p.imag]);p.x=m[0],p.y=m[1]}}S(v,f,r,n)}},50413:function(oe,J,t){"use strict";var S=t(5386).fF,k=t(5386).si,l=t(82196),R=t(9012),I=t(50693),v=t(79952).P,w=t(1426).extendFlat,r=l.marker,n=l.line,c=r.line;oe.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:w({},l.mode,{dflt:"markers"}),text:w({},l.text,{}),texttemplate:k({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:w({},l.hovertext,{}),line:{color:n.color,width:n.width,dash:v,backoff:n.backoff,shape:w({},n.shape,{values:["linear","spline"]}),smoothing:n.smoothing,editType:"calc"},connectgaps:l.connectgaps,cliponaxis:l.cliponaxis,fill:w({},l.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:l.fillcolor,marker:w({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:r.angleref,standoff:r.standoff,maxdisplayed:r.maxdisplayed,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:w({width:c.width,editType:"calc"},I("marker.line")),gradient:r.gradient,editType:"calc"},I("marker")),textfont:l.textfont,textposition:l.textposition,selected:l.selected,unselected:l.unselected,hoverinfo:w({},R.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:l.hoveron,hovertemplate:S()}},54337:function(oe,J,t){"use strict";var S=t(92770),k=t(36922),l=t(75225),R=t(66279),I=t(47761).calcMarkerSize,v=["a","b","c"],w={a:["b","c"],b:["a","c"],c:["a","b"]};oe.exports=function(n,c){var b,p,A,m,u,g,f=n._fullLayout[c.subplot].sum,h=c.sum||f,d={a:c.a,b:c.b,c:c.c};for(b=0;b<v.length;b++)if(!d[A=v[b]]){for(u=d[w[A][0]],g=d[w[A][1]],m=new Array(u.length),p=0;p<u.length;p++)m[p]=h-u[p]-g[p];d[A]=m}var L,x,E,M,C=c._length,T=new Array(C);for(b=0;b<C;b++)x=d.b[b],E=d.c[b],S(L=d.a[b])&&S(x)&&S(E)?(1!=(M=f/((L=+L)+(x=+x)+(E=+E)))&&(L*=M,x*=M,E*=M),T[b]={x:E-x,y:L,a:L,b:x,c:E}):T[b]={x:!1,y:!1};return I(c,C),k(n,c),l(T,c),R(T,c),T}},46008:function(oe,J,t){"use strict";var S=t(71828),k=t(47581),l=t(34098),R=t(49508),I=t(11058),v=t(94039),w=t(82410),r=t(28908),n=t(50413);oe.exports=function(o,f,h,d){function b(T,L){return S.coerce(o,f,n,T,L)}var u,p=b("a"),A=b("b"),m=b("c");if(p?(u=p.length,A?(u=Math.min(u,A.length),m&&(u=Math.min(u,m.length))):u=m?Math.min(u,m.length):0):A&&m&&(u=Math.min(A.length,m.length)),u){f._length=u,b("sum"),b("text"),b("hovertext"),"fills"!==f.hoveron&&b("hovertemplate"),b("mode",u<k.PTS_LINESONLY?"lines+markers":"lines"),l.hasLines(f)&&(I(o,f,h,d,b,{backoff:!0}),v(o,f,b),b("connectgaps")),l.hasMarkers(f)&&R(o,f,h,d,b,{gradient:!0}),l.hasText(f)&&(b("texttemplate"),w(o,f,d,b));var C=[];(l.hasMarkers(f)||l.hasText(f))&&(b("cliponaxis"),b("marker.maxdisplayed"),C.push("points")),b("fill"),"none"!==f.fill&&(r(o,f,h,b),l.hasLines(f)||v(o,f,b)),("tonext"===f.fill||"toself"===f.fill)&&C.push("fills"),b("hoveron",C.join("+")||"points"),S.coerceSelectionMarkerOpacity(f,b)}else f.visible=!1}},4524:function(oe){"use strict";oe.exports=function(t,S,k,l,R){if(S.xa&&(t.xaxis=S.xa),S.ya&&(t.yaxis=S.ya),l[R]){var I=l[R];t.a=I.a,t.b=I.b,t.c=I.c}else t.a=S.a,t.b=S.b,t.c=S.c;return t}},93645:function(oe,J,t){"use strict";var S=t(89298);oe.exports=function(l,R,I){var v={},w=I[R.subplot]._subplot;return v.aLabel=S.tickText(w.aaxis,l.a,!0).text,v.bLabel=S.tickText(w.baxis,l.b,!0).text,v.cLabel=S.tickText(w.caxis,l.c,!0).text,v}},47250:function(oe,J,t){"use strict";var S=t(33720);oe.exports=function(l,R,I,v){var w=S(l,R,I,v);if(w&&!1!==w[0].index){var r=w[0];if(void 0===r.index){var c=l.xa._length,o=c*(1-r.y0/l.ya._length)/2,f=c-o;return r.x0=Math.max(Math.min(r.x0,f),o),r.x1=Math.max(Math.min(r.x1,f),o),w}var h=r.cd[r.index],d=r.trace,b=r.subplot;r.a=h.a,r.b=h.b,r.c=h.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var p={};p[d.subplot]={_subplot:b};var A=d._module.formatLabels(h,d,p);r.aLabel=A.aLabel,r.bLabel=A.bLabel,r.cLabel=A.cLabel;var u=[];if(!d.hovertemplate){var C=(h.hi||d.hoverinfo).split("+");-1!==C.indexOf("all")&&(C=["a","b","c"]),-1!==C.indexOf("a")&&g(b.aaxis,r.aLabel),-1!==C.indexOf("b")&&g(b.baxis,r.bLabel),-1!==C.indexOf("c")&&g(b.caxis,r.cLabel)}return r.extraText=u.join("<br>"),r.hovertemplate=d.hovertemplate,w}function g(T,L){u.push(T._hovertitle+": "+L)}}},52979:function(oe,J,t){"use strict";oe.exports={attributes:t(50413),supplyDefaults:t(46008),colorbar:t(4898),formatLabels:t(93645),calc:t(54337),plot:t(7507),style:t(16296).style,styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(47250),selectPoints:t(98002),eventData:t(4524),moduleType:"trace",name:"scatterternary",basePlotModule:t(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(oe,J,t){"use strict";var S=t(32663);oe.exports=function(l,R,I){var v=R.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var w=R.xaxis,r=R.yaxis,n={xaxis:w,yaxis:r,plot:v,layerClipId:R._hasClipOnAxisFalse?R.clipIdRelative:null},c=R.layers.frontplot.select("g.scatterlayer"),o=0;o<I.length;o++){var f=I[o];f.length&&(f[0].trace._xA=w,f[0].trace._yA=r)}S(l,n,I,c)}},46880:function(oe,J,t){"use strict";var S=t(82196),k=t(50693),l=t(12663).axisHoverFormat,R=t(5386).fF,I=t(42341),v=t(85555).idRegex,w=t(44467).templatedArray,r=t(1426).extendFlat,n=S.marker,c=n.line,o=r(k("marker.line",{editTypeOverride:"calc"}),{width:r({},c.width,{editType:"calc"}),editType:"calc"}),f=r(k("marker"),{symbol:n.symbol,angle:n.angle,size:r({},n.size,{editType:"markerSize"}),sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,opacity:n.opacity,colorbar:n.colorbar,line:o,editType:"calc"});function h(d){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[d],editType:"plot"}}}f.color.editType=f.cmin.editType=f.cmax.editType="style",oe.exports={dimensions:w("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},I.text,{}),hovertext:r({},I.hovertext,{}),hovertemplate:R(),xhoverformat:l("x"),yhoverformat:l("y"),marker:f,xaxes:h("x"),yaxes:h("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:I.selected.marker,editType:"calc"},unselected:{marker:I.unselected.marker,editType:"calc"},opacity:I.opacity}},65017:function(oe,J,t){"use strict";var S=t(73972),k=t(83312);oe.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:t(46880),supplyDefaults:t(25784),colorbar:t(4898),calc:t(87625),plot:t(79410),hoverPoints:t(8567).hoverPoints,selectPoints:t(8689),editStyle:t(28801),meta:{}},S.register(k)},16947:function(oe,J,t){"use strict";var S=t(46075),k=t(73972),l=t(79749),R=t(27659).a0,I=t(93612),v=t(41675).getFromId,w=t(89298).shouldShowZeroLine,r="splom",n={};function f(p,A,m){for(var g=A._visibleDims,C=m.viewOpts.ranges=new Array(m.matrixOptions.data.length),T=0;T<g.length;T++){var L=g[T],x=C[T]=new Array(4),E=v(p,A._diag[L][0]);E&&(x[0]=E.r2l(E.range[0]),x[2]=E.r2l(E.range[1]));var M=v(p,A._diag[L][1]);M&&(x[1]=M.r2l(M.range[0]),x[3]=M.r2l(M.range[1]))}m.selectBatch.length||m.unselectBatch.length?m.matrix.update({ranges:C},{ranges:C}):m.matrix.update({ranges:C})}function h(p){var A=p._fullLayout,m=A._glcanvas.data()[0].regl,u=A._splomGrid;u||(u=A._splomGrid=S(m)),u.update(function d(p){var T,A=p._context.plotGlPixelRatio,m=p._fullLayout,u=m._size,g=[0,0,m.width*A,m.height*A],C={};function L(Y,ee,ue,ce,pe,te){ue*=A,ce*=A,pe*=A,te*=A;var Q=ee[Y+"color"],K=ee[Y+"width"],Z=String(Q+K);Z in C?C[Z].data.push(NaN,NaN,ue,ce,pe,te):C[Z]={data:[ue,ce,pe,te],join:"rect",thickness:K*A,color:Q,viewport:g,range:g,overlay:!1}}for(T in m._splomSubplots){var H,U,x=m._plots[T],E=x.xaxis,M=x.yaxis,i=E._gridVals,D=M._gridVals,y=E._offset,B=E._length,F=M._length,_=u.b+M.domain[0]*u.h,z=-M._m,V=-z*M.r2l(M.range[0],M.calendar);if(E.showgrid)for(T=0;T<i.length;T++)H=y+E.l2p(i[T].x),L("grid",E,H,_,H,_+F);if(M.showgrid)for(T=0;T<D.length;T++)L("grid",M,y,U=_+V+z*D[T].x,y+B,U);w(p,E,M)&&(H=y+E.l2p(0),L("zeroline",E,H,_,H,_+F)),w(p,M,E)&&L("zeroline",M,y,U=_+V+0,y+B,U)}var G=[];for(T in C)G.push(C[T]);return G}(p))}oe.exports={name:r,attr:I.attr,attrRegex:I.attrRegex,layoutAttributes:I.layoutAttributes,supplyLayoutDefaults:I.supplyLayoutDefaults,drawFramework:I.drawFramework,plot:function c(p){var A=p._fullLayout,m=k.getModule(r),u=R(p.calcdata,m)[0];l(p,["ANGLE_instanced_arrays","OES_element_index_uint"],n)&&(A._hasOnlyLargeSploms&&h(p),m.plot(p,{},u))},drag:function o(p){var A=p.calcdata,m=p._fullLayout;m._hasOnlyLargeSploms&&h(p);for(var u=0;u<A.length;u++){var C=A[u][0].trace,T=m._splomScenes[C.uid];"splom"===C.type&&T&&T.matrix&&f(p,C,T)}},updateGrid:h,clean:function b(p,A,m,u){var C,g={};if(u._splomScenes){for(C=0;C<p.length;C++){var T=p[C];"splom"===T.type&&(g[T.uid]=1)}for(C=0;C<m.length;C++){var L=m[C];if(!g[L.uid]){var x=u._splomScenes[L.uid];x&&x.destroy&&x.destroy(),u._splomScenes[L.uid]=null,delete u._splomScenes[L.uid]}}}0===Object.keys(u._splomScenes||{}).length&&delete u._splomScenes,u._splomGrid&&!A._hasOnlyLargeSploms&&u._hasOnlyLargeSploms&&(u._splomGrid.destroy(),u._splomGrid=null,delete u._splomGrid),I.clean(p,A,m,u)},updateFx:I.updateFx,toSVG:I.toSVG,reglPrecompiled:n}},87625:function(oe,J,t){"use strict";var S=t(71828),k=t(41675),l=t(47761).calcMarkerSize,R=t(47761).calcAxisExpansion,I=t(36922),v=t(19635).markerSelection,w=t(19635).markerStyle,r=t(10164),n=t(50606).BADNUM,c=t(78232).TOO_MANY_POINTS;oe.exports=function(f,h){var g,C,T,L,x,D,d=h.dimensions,b=h._length,p={},A=p.cdata=[],m=p.data=[],u=h._visibleDims=[];function E(B,F){for(var _=B.makeCalcdata({v:F.values,vcalendar:h.calendar},"v"),z=0;z<_.length;z++)_[z]=_[z]===n?NaN:_[z];A.push(_),m.push("log"===B.type?S.simpleMap(_,B.c2l):_)}for(g=0;g<d.length;g++)if((T=d[g]).visible){if(L=k.getFromId(f,h._diag[g][0]),x=k.getFromId(f,h._diag[g][1]),L&&x&&L.type!==x.type){S.log("Skipping splom dimension "+g+" with conflicting axis types");continue}L?(E(L,T),x&&"category"===x.type&&(x._categories=L._categories.slice())):E(x,T),u.push(g)}for(I(f,h),S.extendFlat(p,w(f,h)),D=A.length*b>c?p.sizeAvg||Math.max(p.size,3):l(h,b),C=0;C<u.length;C++)T=d[g=u[C]],L=k.getFromId(f,h._diag[g][0])||{},x=k.getFromId(f,h._diag[g][1])||{},R(f,h,L,x,A[C],A[C],D);var y=r(f,h);return y.matrix||(y.matrix=!0),y.matrixOptions=p,y.selectedOptions=v(f,h,h.selected),y.unselectedOptions=v(f,h,h.unselected),[{x:!1,y:!1,t:{},trace:h}]}},25784:function(oe,J,t){"use strict";var S=t(71828),k=t(85501),l=t(46880),R=t(34098),I=t(49508),v=t(94397),w=t(68645).isOpenSymbol;function r(c,o){function f(d,b){return S.coerce(c,o,l.dimensions,d,b)}f("label");var h=f("values");h&&h.length?f("visible"):o.visible=!1,f("axis.type"),f("axis.matches")}oe.exports=function(o,f,h,d){function b(L,x){return S.coerce(o,f,l,L,x)}var p=k(o,f,{name:"dimensions",handleItemDefaults:r}),A=b("diagonal.visible"),m=b("showupperhalf"),u=b("showlowerhalf");if(v(f,p,"values")&&(A||m||u)){b("text"),b("hovertext"),b("hovertemplate"),b("xhoverformat"),b("yhoverformat"),I(o,f,h,d,b,{noAngleRef:!0,noStandOff:!0});var C=w(f.marker.symbol),T=R.isBubble(f);b("marker.line.width",C||T?1:0),function n(c,o,f,h){var u,g,d=o.dimensions,b=d.length,p=o.showupperhalf,A=o.showlowerhalf,m=o.diagonal.visible,C=new Array(b),T=new Array(b);for(u=0;u<b;u++){var L=u?u+1:"";C[u]="x"+L,T[u]="y"+L}var x=h("xaxes",C),E=h("yaxes",T),M=o._diag=new Array(b);o._xaxes={},o._yaxes={};var i=[],D=[];function y(Y,ee,ue,ce){if(Y){var pe=Y.charAt(0),te=f._splomAxes[pe];if(o["_"+pe+"axes"][Y]=1,ce.push(Y),!(Y in te)){var Q=te[Y]={};ue&&(Q.label=ue.label||"",ue.visible&&ue.axis&&(ue.axis.type&&(Q.type=ue.axis.type),ue.axis.matches&&(Q.matches=ee)))}}}var B=!m&&!A,F=!m&&!p;for(o._axesDim={},u=0;u<b;u++){var _=d[u],z=0===u,V=u===b-1,H=z&&B||V&&F?void 0:x[u],U=z&&F||V&&B?void 0:E[u];y(H,U,_,i),y(U,H,_,D),M[u]=[H,U],o._axesDim[H]=u,o._axesDim[U]=u}for(u=0;u<i.length;u++)for(g=0;g<D.length;g++)(u>g&&p||u<g&&A||u===g&&(m||!A||!p))&&(f._splomSubplots[i[u]+D[g]]=1);(!A||!m&&p&&A)&&(f._splomGridDflt.xside="bottom",f._splomGridDflt.yside="left")}(0,f,d,b),S.coerceSelectionMarkerOpacity(f,b)}else f.visible=!1}},28801:function(oe,J,t){"use strict";var S=t(71828),k=t(36922),l=t(19635).markerStyle;oe.exports=function(I,v){var w=v.trace,r=I._fullLayout._splomScenes[w.uid];if(r){k(I,w),S.extendFlat(r.matrixOptions,l(I,w));var n=S.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(n,null)}}},35948:function(oe,J){"use strict";J.getDimIndex=function(S,k){for(var l=k._id,I={x:0,y:1}[l.charAt(0)],v=S._visibleDims,w=0;w<v.length;w++)if(S._diag[v[w]][I]===l)return w;return!1}},8567:function(oe,J,t){"use strict";var S=t(35948),k=t(20794).calcHover;oe.exports={hoverPoints:function l(R,I,v){var r=R.cd[0].trace,c=R.scene.matrixOptions.cdata,o=R.xa,f=R.ya,h=o.c2p(I),d=f.c2p(v),b=R.distance,p=S.getDimIndex(r,o),A=S.getDimIndex(r,f);if(!1===p||!1===A)return[R];for(var g,C,m=c[p],u=c[A],T=b,L=0;L<m.length;L++){var E=u[L],M=o.c2p(m[L])-h,i=f.c2p(E)-d,D=Math.sqrt(M*M+i*i);D<T&&(T=C=D,g=L)}return R.index=g,R.distance=T,R.dxy=C,void 0===g?[R]:[k(R,m,u,r)]}}},6419:function(oe,J,t){"use strict";var S=t(65017);S.basePlotModule=t(16947),oe.exports=S},79410:function(oe,J,t){"use strict";var S=t(60487),k=t(71828),l=t(41675),R=t(64505).selectMode;function I(v,w){var A,m,u,g,C,r=v._fullLayout,n=r._size,c=w.trace,o=w.t,f=r._splomScenes[c.uid],h=f.matrixOptions,d=h.cdata,b=r._glcanvas.data()[0].regl,p=r.dragmode;if(0!==d.length){h.lower=c.showupperhalf,h.upper=c.showlowerhalf,h.diagonal=c.diagonal.visible;var T=c._visibleDims,L=d.length,x=f.viewOpts={};for(x.ranges=new Array(L),x.domains=new Array(L),C=0;C<T.length;C++){u=T[C];var E=x.ranges[C]=new Array(4),M=x.domains[C]=new Array(4);(A=l.getFromId(v,c._diag[u][0]))&&(E[0]=A._rl[0],E[2]=A._rl[1],M[0]=A.domain[0],M[2]=A.domain[1]),(m=l.getFromId(v,c._diag[u][1]))&&(E[1]=m._rl[0],E[3]=m._rl[1],M[1]=m.domain[0],M[3]=m.domain[1])}var i=v._context.plotGlPixelRatio,D=n.l*i,y=n.b*i;x.viewport=[D,y,n.w*i+D,n.h*i+y],!0===f.matrix&&(f.matrix=S(b));var _=r.clickmode.indexOf("select")>-1,V=!0;if(R(p)||c.selectedpoints||_){var H=c._length;if(c.selectedpoints){f.selectBatch=c.selectedpoints;var U=c.selectedpoints,G={};for(u=0;u<U.length;u++)G[U[u]]=!0;var Y=[];for(u=0;u<H;u++)G[u]||Y.push(u);f.unselectBatch=Y}var ee=o.xpx=new Array(L),ue=o.ypx=new Array(L);for(C=0;C<T.length;C++){if(A=l.getFromId(v,c._diag[u=T[C]][0]))for(ee[C]=new Array(H),g=0;g<H;g++)ee[C][g]=A.c2p(d[C][g]);if(m=l.getFromId(v,c._diag[u][1]))for(ue[C]=new Array(H),g=0;g<H;g++)ue[C][g]=m.c2p(d[C][g])}if(f.selectBatch.length||f.unselectBatch.length){var ce=k.extendFlat({},h,f.unselectedOptions,x),pe=k.extendFlat({},h,f.selectedOptions,x);f.matrix.update(ce,pe),V=!1}}else o.xpx=o.ypx=null;if(V){var te=k.extendFlat({},h,x);f.matrix.update(te,null)}}}oe.exports=function(w,r,n){if(n.length)for(var c=0;c<n.length;c++)I(w,n[c][0])}},10164:function(oe,J,t){"use strict";var S=t(71828);oe.exports=function(l,R){var I=l._fullLayout,v=R.uid,w=I._splomScenes;w||(w=I._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},c=w[R.uid];return c||((c=w[v]=S.extendFlat({},r,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){c.matrix&&c.matrix.draw&&(c.selectBatch.length||c.unselectBatch.length?c.matrix.draw(c.unselectBatch,c.selectBatch):c.matrix.draw()),c.dirty=!1},c.destroy=function(){c.matrix&&c.matrix.destroy&&c.matrix.destroy(),c.matrixOptions=null,c.selectBatch=null,c.unselectBatch=null,c=null}),c.dirty||S.extendFlat(c,r),c}},8689:function(oe,J,t){"use strict";var S=t(71828),k=S.pushUnique,l=t(34098),R=t(35948);oe.exports=function(v,w){var r=v.cd,n=r[0].trace,c=r[0].t,o=v.scene,f=o.matrixOptions.cdata,h=v.xaxis,d=v.yaxis,b=[];if(!o)return b;var p=!l.hasMarkers(n)&&!l.hasText(n);if(!0!==n.visible||p)return b;var A=R.getDimIndex(n,h),m=R.getDimIndex(n,d);if(!1===A||!1===m)return b;var u=c.xpx[A],g=c.ypx[m],C=f[A],T=f[m],L=(v.scene.selectBatch||[]).slice(),x=[];if(!1!==w&&!w.degenerate)for(var E=0;E<C.length;E++)w.contains([u[E],g[E]],null,E,v)?(b.push({pointNumber:E,x:C[E],y:T[E]}),k(L,E)):-1!==L.indexOf(E)?k(L,E):x.push(E);var M=o.matrixOptions;return L.length||x.length?!o.selectBatch.length&&!o.unselectBatch.length&&o.matrix.update(o.unselectedOptions,S.extendFlat({},M,o.selectedOptions,o.viewOpts)):o.matrix.update(M,null),o.selectBatch=L,o.unselectBatch=x,b}},21850:function(oe,J,t){"use strict";var S=t(50693),k=t(12663).axisHoverFormat,l=t(5386).fF,R=t(2418),I=t(9012),v=t(1426).extendFlat,w={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:l({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:v({},I.showlegend,{dflt:!1})};v(w,S("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(n){w[n]=R[n]}),w.hoverinfo=v({},I.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),w.transforms=void 0,oe.exports=w},88489:function(oe,J,t){"use strict";var S=t(71828),k=t(78803);function R(w){var f,h,d,T,L,x,E,M,i,D,y,B,r=w._x,n=w._y,c=w._z,o=w._len,b=-1/0,p=1/0,A=-1/0,m=1/0,u=-1/0,g=1/0,C="";for(o&&(E=r[0],i=n[0],y=c[0]),o>1&&(M=r[o-1],D=n[o-1],B=c[o-1]),f=0;f<o;f++)b=Math.max(b,r[f]),p=Math.min(p,r[f]),A=Math.max(A,n[f]),m=Math.min(m,n[f]),u=Math.max(u,c[f]),g=Math.min(g,c[f]),!T&&r[f]!==E&&(T=!0,C+="x"),!L&&n[f]!==i&&(L=!0,C+="y"),!x&&c[f]!==y&&(x=!0,C+="z");T||(C+="x"),L||(C+="y"),x||(C+="z");var F=I(w._x),_=I(w._y),z=I(w._z);C=(C=(C=C.replace("x",(E>M?"-":"+")+"x")).replace("y",(i>D?"-":"+")+"y")).replace("z",(y>B?"-":"+")+"z");var V=function(){o=0,F=[],_=[],z=[]};(!o||o<F.length*_.length*z.length)&&V();var H=function(de){return"x"===de?r:"y"===de?n:c},U=function(de){return"x"===de?F:"y"===de?_:z},G=function(de){return de[o-1]<de[0]?-1:1},Y=H(C[1]),ee=H(C[3]),ue=H(C[5]),ce=U(C[1]).length,pe=U(C[3]).length,te=U(C[5]).length,Q=!1,K=function(de,we,Ee){return ce*(pe*de+we)+Ee},Z=G(H(C[1])),q=G(H(C[3])),fe=G(H(C[5]));for(f=0;f<te-1;f++){for(h=0;h<pe-1;h++){for(d=0;d<ce-1;d++){var re=K(f,h,d),$=K(f,h,d+1),le=K(f,h+1,d),se=K(f+1,h,d);if(Y[re]*Z<Y[$]*Z&&ee[re]*q<ee[le]*q&&ue[re]*fe<ue[se]*fe||(Q=!0),Q)break}if(Q)break}if(Q)break}return Q&&(S.warn("Encountered arbitrary coordinates! Unable to input data grid."),V()),{xMin:p,yMin:m,zMin:g,xMax:b,yMax:A,zMax:u,Xs:F,Ys:_,Zs:z,len:o,fill:C}}function I(w){return S.distinctVals(w).vals}function v(w,r){if(void 0===r&&(r=w.length),S.isTypedArray(w))return w.subarray(0,r);for(var n=[],c=0;c<r;c++)n[c]=+w[c];return n}oe.exports={calc:function l(w,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var n=R(r);r._gridFill=n.fill,r._Xs=n.Xs,r._Ys=n.Ys,r._Zs=n.Zs,r._len=n.len;var o,f,h,c=0;r.starts&&(o=v(r.starts.x||[]),f=v(r.starts.y||[]),h=v(r.starts.z||[]),c=Math.min(o.length,f.length,h.length)),r._startsX=o||[],r._startsY=f||[],r._startsZ=h||[];var p,d=0,b=1/0;for(p=0;p<r._len;p++){var A=r._u[p],m=r._v[p],u=r._w[p],g=Math.sqrt(A*A+m*m+u*u);d=Math.max(d,g),b=Math.min(b,g)}for(k(w,r,{vals:[b,d],containerStr:"",cLetter:"c"}),p=0;p<c;p++){var C=o[p];n.xMax=Math.max(n.xMax,C),n.xMin=Math.min(n.xMin,C);var T=f[p];n.yMax=Math.max(n.yMax,T),n.yMin=Math.min(n.yMin,T);var L=h[p];n.zMax=Math.max(n.zMax,L),n.zMin=Math.min(n.zMin,L)}r._slen=c,r._normMax=d,r._xbnds=[n.xMin,n.xMax],r._ybnds=[n.yMin,n.yMax],r._zbnds=[n.zMin,n.zMax]},filter:v,processGrid:R}},90154:function(oe,J,t){"use strict";var S=t(9330).gl_streamtube3d,k=S.createTubeMesh,l=t(71828),R=t(81697).parseColorScale,I=t(21081).extractOpts,v=t(90060),w={xaxis:0,yaxis:1,zaxis:2};function r(d,b){this.scene=d,this.uid=b,this.mesh=null,this.data=null}var n=r.prototype;function c(d){var b=d.length;return b>2?d.slice(1,b-1):2===b?[(d[0]+d[1])/2]:d}function o(d){var b=d.length;return 1===b?[.5,.5]:[d[1]-d[0],d[b-1]-d[b-2]]}function f(d,b){var p=d.fullSceneLayout,A=d.dataScale,m=b._len,u={};function g(pe,te){var Q=p[te],K=A[w[te]];return l.simpleMap(pe,function(Z){return Q.d2l(Z)*K})}if(u.vectors=v(g(b._u,"xaxis"),g(b._v,"yaxis"),g(b._w,"zaxis"),m),!m)return{positions:[],cells:[]};var C=g(b._Xs,"xaxis"),T=g(b._Ys,"yaxis"),L=g(b._Zs,"zaxis");if(u.meshgrid=[C,T,L],u.gridFill=b._gridFill,b._slen)u.startingPositions=v(g(b._startsX,"xaxis"),g(b._startsY,"yaxis"),g(b._startsZ,"zaxis"));else{for(var E=T[0],M=c(C),i=c(L),D=new Array(M.length*i.length),y=0,B=0;B<M.length;B++)for(var F=0;F<i.length;F++)D[y++]=[M[B],E,i[F]];u.startingPositions=D}u.colormap=R(b),u.tubeSize=b.sizeref,u.maxLength=b.maxdisplayed;var _=g(b._xbnds,"xaxis"),z=g(b._ybnds,"yaxis"),V=g(b._zbnds,"zaxis"),H=o(C),U=o(T),G=o(L),ee=S(u,[[_[0]-H[0],z[0]-U[0],V[0]-G[0]],[_[1]+H[1],z[1]+U[1],V[1]+G[1]]]),ue=I(b);ee.vertexIntensityBounds=[ue.min/b._normMax,ue.max/b._normMax];var ce=b.lightposition;return ee.lightPosition=[ce.x,ce.y,ce.z],ee.ambient=b.lighting.ambient,ee.diffuse=b.lighting.diffuse,ee.specular=b.lighting.specular,ee.roughness=b.lighting.roughness,ee.fresnel=b.lighting.fresnel,ee.opacity=b.opacity,b._pad=ee.tubeScale*b.sizeref*2,ee}n.handlePick=function(d){var b=this.scene.fullSceneLayout,p=this.scene.dataScale;function A(g,C){var L=p[w[C]];return b[C].l2c(g)/L}if(d.object===this.mesh){var m=d.data.position,u=d.data.velocity;return d.traceCoordinate=[A(m[0],"xaxis"),A(m[1],"yaxis"),A(m[2],"zaxis"),A(u[0],"xaxis"),A(u[1],"yaxis"),A(u[2],"zaxis"),d.data.intensity*this.data._normMax,d.data.divergence],d.textLabel=this.data.hovertext||this.data.text,!0}},n.update=function(d){this.data=d;var b=f(this.scene,d);this.mesh.update(b)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},oe.exports=function h(d,b){var p=d.glplot.gl,A=f(d,b),m=k(p,A),u=new r(d,b.uid);return u.mesh=m,u.data=b,m._trace=u,d.glplot.add(m),u}},22459:function(oe,J,t){"use strict";var S=t(71828),k=t(1586),l=t(21850);oe.exports=function(I,v,w,r){function n(p,A){return S.coerce(I,v,l,p,A)}var c=n("u"),o=n("v"),f=n("w"),h=n("x"),d=n("y"),b=n("z");c&&c.length&&o&&o.length&&f&&f.length&&h&&h.length&&d&&d.length&&b&&b.length?(n("starts.x"),n("starts.y"),n("starts.z"),n("maxdisplayed"),n("sizeref"),n("lighting.ambient"),n("lighting.diffuse"),n("lighting.specular"),n("lighting.roughness"),n("lighting.fresnel"),n("lightposition.x"),n("lightposition.y"),n("lightposition.z"),k(I,v,r,n,{prefix:"",cLetter:"c"}),n("text"),n("hovertext"),n("hovertemplate"),n("uhoverformat"),n("vhoverformat"),n("whoverformat"),n("xhoverformat"),n("yhoverformat"),n("zhoverformat"),v._length=null):v.visible=!1}},61510:function(oe,J,t){"use strict";oe.exports={moduleType:"trace",name:"streamtube",basePlotModule:t(58547),categories:["gl3d","showLegend"],attributes:t(21850),supplyDefaults:t(22459),colorbar:{min:"cmin",max:"cmax"},calc:t(88489).calc,plot:t(90154),eventData:function(S,k){return S.tubex=S.x,S.tubey=S.y,S.tubez=S.z,S.tubeu=k.traceCoordinate[3],S.tubev=k.traceCoordinate[4],S.tubew=k.traceCoordinate[5],S.norm=k.traceCoordinate[6],S.divergence=k.traceCoordinate[7],delete S.x,delete S.y,delete S.z,S},meta:{}}},57564:function(oe,J,t){"use strict";var S=t(9012),k=t(5386).fF,l=t(5386).si,R=t(50693),I=t(27670).Y,v=t(34e3),w=t(7055),r=t(1426).extendFlat,n=t(79952).u;oe.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:n,editType:"calc"},R("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:l({editType:"plot"},{keys:w.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},S.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:k({},{keys:w.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:I({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(oe,J,t){"use strict";var S=t(74875);J.name="sunburst",J.plot=function(k,l,R,I){S.plotBasePlot(J.name,k,l,R,I)},J.clean=function(k,l,R,I){S.cleanBasePlot(J.name,k,l,R,I)}},52147:function(oe,J,t){"use strict";var S=t(674),k=t(92770),l=t(71828),R=t(21081).makeColorScaleFuncFromTrace,I=t(32354).makePullColorFn,v=t(32354).generateExtendedColors,w=t(21081).calc,r=t(50606).ALMOST_EQUAL,n={},c={},o={};function f(h,d,b){var p=0,A=h.children;if(A){for(var m=A.length,u=0;u<m;u++)p+=f(A[u],d,b);b.branches&&p++}else b.leaves&&p++;return h.value=h.data.data.value=p,d._values||(d._values=[]),d._values[h.data.data.i]=p,p}J.calc=function(h,d){var D,y,B,ee,Z,q,b=h._fullLayout,p=d.ids,A=l.isArrayOrTypedArray(p),m=d.labels,u=d.parents,g=d.values,C=l.isArrayOrTypedArray(g),T=[],L={},x={},M=function(Z){return Z||"number"==typeof Z},i=function(Z){return!C||k(g[Z])&&g[Z]>=0};A?(D=Math.min(p.length,u.length),y=function(Z){return M(p[Z])&&i(Z)},B=function(Z){return String(p[Z])}):(D=Math.min(m.length,u.length),y=function(Z){return M(m[Z])&&i(Z)},B=function(Z){return String(m[Z])}),C&&(D=Math.min(D,g.length));for(var F=0;F<D;F++)if(y(F)){var _=B(F),z=M(u[F])?String(u[F]):"",V={i:F,id:_,pid:z,label:M(m[F])?String(m[F]):""};C&&(V.v=+g[F]),T.push(V),q=_,L[Z=z]?L[Z].push(q):L[Z]=[q],x[q]=1}if(L[""]){if(L[""].length>1){for(var G=l.randstr(),Y=0;Y<T.length;Y++)""===T[Y].pid&&(T[Y].pid=G);T.unshift({hasMultipleRoots:!0,id:G,pid:"",label:""})}}else{var U,H=[];for(U in L)x[U]||H.push(U);if(1!==H.length)return l.warn(["Multiple implied roots, cannot build",d.type,"hierarchy of",d.name+".","These roots include:",H.join(", ")].join(" "));T.unshift({hasImpliedRoot:!0,id:U=H[0],pid:"",label:U})}try{ee=S.stratify().id(function(Z){return Z.id}).parentId(function(Z){return Z.pid})(T)}catch(Z){return l.warn(["Failed to build",d.type,"hierarchy of",d.name+".","Error:",Z.message].join(" "))}var ue=S.hierarchy(ee),ce=!1;if(C)switch(d.branchvalues){case"remainder":ue.sum(function(Z){return Z.data.v});break;case"total":ue.each(function(Z){var q=Z.data.data,fe=q.v;if(Z.children){var re=Z.children.reduce(function($,le){return $+le.data.data.v},0);if((q.hasImpliedRoot||q.hasMultipleRoots)&&(fe=re),fe<re*r)return ce=!0,l.warn(["Total value for node",Z.data.data.id,"of",d.name,"is smaller than the sum of its children.","\nparent value =",fe,"\nchildren sum =",re].join(" "))}Z.value=fe})}else f(ue,d,{branches:-1!==d.count.indexOf("branches"),leaves:-1!==d.count.indexOf("leaves")});if(!ce){d.sort&&ue.sort(function(Z,q){return q.value-Z.value});var pe,te,Q=d.marker.colors||[];return d._hasColorscale?(!!Q.length||(Q=C?d.values:d._values),w(h,d,{vals:Q,containerStr:"marker",cLetter:"c"}),te=R(d.marker)):pe=I(b["_"+d.type+"colormap"]),ue.each(function(Z){var q=Z.data.data;q.color=d._hasColorscale?te(Q[q.i]):pe(Q[q.i],q.id)}),T[0].hierarchy=ue,T}},J._runCrossTraceCalc=function(h,d){var b=d._fullLayout,p=d.calcdata,A=b[h+"colorway"],m=b["_"+h+"colormap"];b["extend"+h+"colors"]&&(A=v(A,"icicle"===h?o:"treemap"===h?c:n));var g,u=0;function C(E){var M=E.data.data,i=M.id;!1===M.color&&(m[i]?M.color=m[i]:E.parent?E.parent.parent?M.color=E.parent.data.data.color:(m[i]=M.color=A[u%A.length],u++):M.color=g)}for(var T=0;T<p.length;T++){var x=p[T][0];x.trace.type===h&&x.hierarchy&&(g=x.trace.root.color,x.hierarchy.each(C))}},J.crossTraceCalc=function(h){return J._runCrossTraceCalc("sunburst",h)}},7055:function(oe){"use strict";oe.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(oe,J,t){"use strict";var S=t(71828),k=t(57564),l=t(27670).c,R=t(90769).handleText,I=t(37434).handleMarkerDefaults,v=t(21081),w=v.hasColorscale,r=v.handleDefaults;oe.exports=function(c,o,f,h){function d(C,T){return S.coerce(c,o,k,C,T)}var b=d("labels"),p=d("parents");if(b&&b.length&&p&&p.length){var A=d("values");d(A&&A.length?"branchvalues":"count"),d("level"),d("maxdepth"),I(c,o,h,d);var m=o._hasColorscale=w(c,"marker","colors")||(c.marker||{}).coloraxis;m&&r(c,o,h,d,{prefix:"marker.",cLetter:"c"}),d("leaf.opacity",m?1:.7);var u=d("text");d("texttemplate"),o.texttemplate||d("textinfo",Array.isArray(u)?"text+label":"label"),d("hovertext"),d("hovertemplate"),R(c,o,h,d,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),d("insidetextorientation"),d("sort"),d("rotation"),d("root.color"),l(o,h,d),o._length=null}else o.visible=!1}},43467:function(oe,J,t){"use strict";var S=t(91424),k=t(7901);oe.exports=function(R,I,v,w,r){var n=I.data.data,o=r||n.color;if(n.i>=0){I.i=n.i;var f=v.marker;f.pattern?(!f.colors||!f.pattern.shape)&&(f.color=o,I.color=o):(f.color=o,I.color=o),S.pointStyle(R,v,w,I)}else k.fill(R,o)}},83523:function(oe,J,t){"use strict";var S=t(39898),k=t(73972),l=t(23469).appendArrayPointValue,R=t(30211),I=t(71828),v=t(11086),w=t(2791),n=t(53581).formatPieValue;function c(o,f,h){for(var d=o.data.data,b={curveNumber:f.index,pointNumber:d.i,data:f._input,fullData:f},p=0;p<h.length;p++){var A=h[p];A in o&&(b[A]=o[A])}return"parentString"in o&&!w.isHierarchyRoot(o)&&(b.parent=o.parentString),l(b,f,d.i),b}oe.exports=function(f,h,d,b,p){var A=b[0],m=A.trace,u=A.hierarchy,g="sunburst"===m.type,C="treemap"===m.type||"icicle"===m.type;"_hasHoverLabel"in m||(m._hasHoverLabel=!1),"_hasHoverEvent"in m||(m._hasHoverEvent=!1);f.on("mouseover",function(E){var M=d._fullLayout;if(!d._dragging&&!1!==M.hovermode){var G,i=d._fullData[m.index],D=E.data.data,y=D.i,B=w.isHierarchyRoot(E),F=w.getParent(u,E),_=w.getValue(E),z=function($){return I.castOption(i,y,$)},V=z("hovertemplate"),H=R.castHoverinfo(i,M,y),U=M.separators;if(V||H&&"none"!==H&&"skip"!==H){var Y,ee;g&&(Y=A.cx+E.pxmid[0]*(1-E.rInscribed),ee=A.cy+E.pxmid[1]*(1-E.rInscribed)),C&&(Y=E._hoverX,ee=E._hoverY);var ue={},ce=[],pe=[],te=function($){return-1!==ce.indexOf($)};H&&(ce="all"===H?i._module.attributes.hoverinfo.flags:H.split("+")),ue.label=D.label,te("label")&&ue.label&&pe.push(ue.label),D.hasOwnProperty("v")&&(ue.value=D.v,ue.valueLabel=n(ue.value,U),te("value")&&pe.push(ue.valueLabel)),ue.currentPath=E.currentPath=w.getPath(E.data),te("current path")&&!B&&pe.push(ue.currentPath);var Q,K=[],Z=function(){-1===K.indexOf(Q)&&(pe.push(Q),K.push(Q))};ue.percentParent=E.percentParent=_/w.getValue(F),ue.parent=E.parentString=w.getPtLabel(F),te("percent parent")&&(Q=w.formatPercent(ue.percentParent,U)+" of "+ue.parent,Z()),ue.percentEntry=E.percentEntry=_/w.getValue(h),ue.entry=E.entry=w.getPtLabel(h),te("percent entry")&&!B&&!E.onPathbar&&(Q=w.formatPercent(ue.percentEntry,U)+" of "+ue.entry,Z()),ue.percentRoot=E.percentRoot=_/w.getValue(u),ue.root=E.root=w.getPtLabel(u),te("percent root")&&!B&&(Q=w.formatPercent(ue.percentRoot,U)+" of "+ue.root,Z()),ue.text=z("hovertext")||z("text"),te("text")&&I.isValidTextValue(Q=ue.text)&&pe.push(Q),G=[c(E,i,p.eventDataKeys)];var q={trace:i,y:ee,_x0:E._x0,_x1:E._x1,_y0:E._y0,_y1:E._y1,text:pe.join("<br>"),name:V||te("name")?i.name:void 0,color:z("hoverlabel.bgcolor")||D.color,borderColor:z("hoverlabel.bordercolor"),fontFamily:z("hoverlabel.font.family"),fontSize:z("hoverlabel.font.size"),fontColor:z("hoverlabel.font.color"),nameLength:z("hoverlabel.namelength"),textAlign:z("hoverlabel.align"),hovertemplate:V,hovertemplateLabels:ue,eventData:G};g&&(q.x0=Y-E.rInscribed*E.rpx1,q.x1=Y+E.rInscribed*E.rpx1,q.idealAlign=E.pxmid[0]<0?"left":"right"),C&&(q.x=Y,q.idealAlign=Y<0?"left":"right");var fe=[];R.loneHover(q,{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:d,inOut_bbox:fe}),G[0].bbox=fe[0],m._hasHoverLabel=!0}if(C){var re=f.select("path.surface");p.styleOne(re,E,i,d,{hovered:!0})}m._hasHoverEvent=!0,d.emit("plotly_hover",{points:G||[c(E,i,p.eventDataKeys)],event:S.event})}}),f.on("mouseout",function(E){var M=d._fullLayout,i=d._fullData[m.index],D=S.select(this).datum();if(m._hasHoverEvent&&(E.originalEvent=S.event,d.emit("plotly_unhover",{points:[c(D,i,p.eventDataKeys)],event:S.event}),m._hasHoverEvent=!1),m._hasHoverLabel&&(R.loneUnhover(M._hoverlayer.node()),m._hasHoverLabel=!1),C){var y=f.select("path.surface");p.styleOne(y,D,i,d,{hovered:!1})}}),f.on("click",function(E){var M=d._fullLayout,i=d._fullData[m.index],D=g&&(w.isHierarchyRoot(E)||w.isLeaf(E)),y=w.getPtId(E),B=w.isEntry(E)?w.findEntryWithChild(u,y):w.findEntryWithLevel(u,y),F=w.getPtId(B),_={points:[c(E,i,p.eventDataKeys)],event:S.event};D||(_.nextLevel=F);var z=v.triggerHandler(d,"plotly_"+m.type+"click",_);if(!1!==z&&M.hovermode&&(d._hoverdata=[c(E,i,p.eventDataKeys)],R.click(d,S.event)),!D&&!1!==z&&!d._dragging&&!d._transitioning){k.call("_storeDirectGUIEdit",i,M._tracePreGUI[i.uid],{level:i.level});var V={data:[{level:F}],traces:[m.index]},H={frame:{redraw:!1,duration:p.transitionTime},transition:{duration:p.transitionTime,easing:p.transitionEasing},mode:"immediate",fromcurrent:!0};R.loneUnhover(M._hoverlayer.node()),k.call("animate",d,V,H)}})}},2791:function(oe,J,t){"use strict";var S=t(71828),k=t(7901),l=t(6964),R=t(53581);function w(r){return r.data.data.pid}J.findEntryWithLevel=function(r,n){var c;return n&&r.eachAfter(function(o){if(J.getPtId(o)===n)return c=o.copy()}),c||r},J.findEntryWithChild=function(r,n){var c;return r.eachAfter(function(o){for(var f=o.children||[],h=0;h<f.length;h++)if(J.getPtId(f[h])===n)return c=o.copy()}),c||r},J.isEntry=function(r){return!r.parent},J.isLeaf=function(r){return!r.children},J.getPtId=function(r){return r.data.data.id},J.getPtLabel=function(r){return r.data.data.label},J.getValue=function(r){return r.value},J.isHierarchyRoot=function(r){return""===w(r)},J.setSliceCursor=function(r,n,c){var o=c.isTransitioning;if(!o){var f=r.datum();o=c.hideOnRoot&&J.isHierarchyRoot(f)||c.hideOnLeaves&&J.isLeaf(f)}l(r,o?null:"pointer")},J.getInsideTextFontKey=function(r,n,c,o,f){var b=c.data.data.i;return S.castOption(n,b,((f||{}).onPathbar?"pathbar.textfont":"insidetextfont")+"."+r)||S.castOption(n,b,"textfont."+r)||o.size},J.getOutsideTextFontKey=function(r,n,c,o){var f=c.data.data.i;return S.castOption(n,f,"outsidetextfont."+r)||S.castOption(n,f,"textfont."+r)||o.size},J.isOutsideText=function(r,n){return!r._hasColorscale&&J.isHierarchyRoot(n)},J.determineTextFont=function(r,n,c,o){return J.isOutsideText(r,n)?function I(r,n,c){return{color:J.getOutsideTextFontKey("color",r,n,c),family:J.getOutsideTextFontKey("family",r,n,c),size:J.getOutsideTextFontKey("size",r,n,c)}}(r,n,c):function v(r,n,c,o){var h=n.data.data,d=h.i,b=S.castOption(r,d,((o||{}).onPathbar?"pathbar.textfont":"insidetextfont")+".color");return!b&&r._input.textfont&&(b=S.castOption(r._input,d,"textfont.color")),{color:b||k.contrast(h.color),family:J.getInsideTextFontKey("family",r,n,c,o),size:J.getInsideTextFontKey("size",r,n,c,o)}}(r,n,c,o)},J.hasTransition=function(r){return!!(r&&r.duration>0)},J.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},J.isHeader=function(r,n){return!(J.isLeaf(r)||r.depth===n._maxDepth-1)},J.getParent=function(r,n){return J.findEntryWithLevel(r,w(n))},J.listPath=function(r,n){var c=r.parent;if(!c)return[];var o=n?[c.data[n]]:[c];return J.listPath(c,n).concat(o)},J.getPath=function(r){return J.listPath(r,"label").join("/")+"/"},J.formatValue=R.formatPieValue,J.formatPercent=function(r,n){var c=S.formatPercent(r,0);return"0%"===c&&(c=R.formatPiePercent(r,n)),c}},87619:function(oe,J,t){"use strict";oe.exports={moduleType:"trace",name:"sunburst",basePlotModule:t(66888),categories:[],animatable:!0,attributes:t(57564),layoutAttributes:t(2654),supplyDefaults:t(17094),supplyLayoutDefaults:t(57034),calc:t(52147).calc,crossTraceCalc:t(52147).crossTraceCalc,plot:t(24714).plot,style:t(29969).style,colorbar:t(4898),meta:{}}},2654:function(oe){"use strict";oe.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(oe,J,t){"use strict";var S=t(71828),k=t(2654);oe.exports=function(R,I){function v(w,r){return S.coerce(R,I,k,w,r)}v("sunburstcolorway",I.colorway),v("extendsunburstcolors")}},24714:function(oe,J,t){"use strict";var S=t(39898),k=t(674),l=t(81684).sX,R=t(91424),I=t(71828),v=t(63893),w=t(72597),r=w.recordMinTextSize,n=w.clearMinTextSize,c=t(14575),o=t(53581).getRotationAngle,f=c.computeTransform,h=c.transformInsideText,d=t(29969).styleOne,b=t(16688).resizeText,p=t(83523),A=t(7055),m=t(2791);function u(x,E,M,i){var D=x._context.staticPlot,y=x._fullLayout,B=!y.uniformtext.mode&&m.hasTransition(i),_=S.select(M).selectAll("g.slice"),z=E[0],V=z.trace,U=m.findEntryWithLevel(z.hierarchy,V.level),G=m.getMaxDepth(V),Y=y._size,ee=V.domain,ce=Y.h*(ee.y[1]-ee.y[0]),pe=.5*Math.min(Y.w*(ee.x[1]-ee.x[0]),ce),te=z.cx=Y.l+Y.w*(ee.x[1]+ee.x[0])/2,Q=z.cy=Y.t+Y.h*(1-ee.y[0])-ce/2;if(!U)return _.remove();var K=null,Z={};B&&_.each(function(Ke){Z[m.getPtId(Ke)]={rpx0:Ke.rpx0,rpx1:Ke.rpx1,x0:Ke.x0,x1:Ke.x1,transform:Ke.transform},!K&&m.isEntry(Ke)&&(K=Ke)});var q=function g(x){return k.partition().size([2*Math.PI,x.height+1])(x)}(U).descendants(),fe=U.height+1,re=0,$=G;z.hasMultipleRoots&&m.isHierarchyRoot(U)&&(q=q.slice(1),fe-=1,re=1,$+=1),q=q.filter(function(Ke){return Ke.y1<=$});var le=o(V.rotation);le&&q.forEach(function(Ke){Ke.x0+=le,Ke.x1+=le});var se=Math.min(fe,G),de=function(Ke){return(Ke-re)/se*pe},we=function(Ke,ut){return[Ke*Math.cos(ut),-Ke*Math.sin(ut)]},Ee=function(Ke){return I.pathAnnulus(Ke.rpx0,Ke.rpx1,Ke.x0,Ke.x1,te,Q)},Me=function(Ke){return te+T(Ke)[0]*(Ke.transform.rCenter||0)+(Ke.transform.x||0)},Ne=function(Ke){return Q+T(Ke)[1]*(Ke.transform.rCenter||0)+(Ke.transform.y||0)};(_=_.data(q,m.getPtId)).enter().append("g").classed("slice",!0),B?_.exit().transition().each(function(){var Ke=S.select(this);Ke.select("path.surface").transition().attrTween("d",function(We){var je=function Ie(Ke){var je,ut=m.getPtId(Ke),ot=Z[ut],We=Z[m.getPtId(U)];if(We){var lt=(Ke.x1>We.x1?2*Math.PI:0)+le;je=Ke.rpx1<We.rpx1?{x0:Ke.x0,x1:Ke.x1,rpx0:0,rpx1:0}:{x0:lt,x1:lt,rpx0:Ke.rpx0,rpx1:Ke.rpx1}}else{var vt,pt=m.getPtId(Ke.parent);_.each(function(ke){if(m.getPtId(ke)===pt)return vt=ke});var Ct,St=vt.children;St.forEach(function(ke,Re){if(m.getPtId(ke)===ut)return Ct=Re});var _t=St.length,nt=l(vt.x0,vt.x1);je={rpx0:pe,rpx1:pe,x0:nt(Ct/_t),x1:nt((Ct+1)/_t)}}return l(ot,je)}(We);return function(lt){return Ee(je(lt))}}),Ke.select("g.slicetext").attr("opacity",0)}).remove():_.exit().remove(),_.order();var Ve=null;if(B&&K){var Pe=m.getPtId(K);_.each(function(Ke){null===Ve&&m.getPtId(Ke)===Pe&&(Ve=Ke.x1)})}var Ce=_;function Qe(Ke){var ot,ut=Z[m.getPtId(Ke)],We=Ke.transform;if(ut)ot=ut;else if(ot={rpx1:Ke.rpx1,transform:{textPosAngle:We.textPosAngle,scale:0,rotate:We.rotate,rCenter:We.rCenter,x:We.x,y:We.y}},K)if(Ke.parent)if(Ve){var je=Ke.x1>Ve?2*Math.PI:0;ot.x0=ot.x1=je}else I.extendFlat(ot,ze(Ke));else ot.x0=ot.x1=le;else ot.x0=ot.x1=le;var lt=l(ot.transform.textPosAngle,Ke.transform.textPosAngle),vt=l(ot.rpx1,Ke.rpx1),pt=l(ot.x0,Ke.x0),St=l(ot.x1,Ke.x1),Ct=l(ot.transform.scale,We.scale),_t=l(ot.transform.rotate,We.rotate),nt=0===We.rCenter?3:0===ot.transform.rCenter?1/3:1,ke=l(ot.transform.rCenter,We.rCenter);return function(Be){var He=vt(Be),Ye=pt(Be),Ue=St(Be),De=function(Be){return ke(Math.pow(Be,nt))}(Be),_e={pxmid:we(He,(Ye+Ue)/2),rpx1:He,transform:{textPosAngle:lt(Be),rCenter:De,x:We.x,y:We.y}};return r(V.type,We,y),{transform:{targetX:Me(_e),targetY:Ne(_e),scale:Ct(Be),rotate:_t(Be),rCenter:De}}}}function ze(Ke){var ut=Ke.parent,ot=Z[m.getPtId(ut)],We={};if(ot){var je=ut.children,lt=je.indexOf(Ke),vt=je.length,pt=l(ot.x0,ot.x1);We.x0=pt(lt/vt),We.x1=pt(lt/vt)}else We.x0=We.x1=0;return We}B&&(Ce=Ce.transition().each("end",function(){var Ke=S.select(this);m.setSliceCursor(Ke,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Ce.each(function(Ke){var ut=S.select(this),ot=I.ensureSingle(ut,"path","surface",function(St){St.style("pointer-events",D?"none":"all")});Ke.rpx0=de(Ke.y0),Ke.rpx1=de(Ke.y1),Ke.xmid=(Ke.x0+Ke.x1)/2,Ke.pxmid=we(Ke.rpx1,Ke.xmid),Ke.midangle=-(Ke.xmid-Math.PI/2),Ke.startangle=-(Ke.x0-Math.PI/2),Ke.stopangle=-(Ke.x1-Math.PI/2),Ke.halfangle=.5*Math.min(I.angleDelta(Ke.x0,Ke.x1)||Math.PI,Math.PI),Ke.ring=1-Ke.rpx0/Ke.rpx1,Ke.rInscribed=function C(x){return 0===x.rpx0&&I.isFullCircle([x.x0,x.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(x.halfangle)),x.ring/2))}(Ke),B?ot.transition().attrTween("d",function(St){var Ct=function Je(Ke){var ot,ut=Z[m.getPtId(Ke)],We={x0:Ke.x0,x1:Ke.x1,rpx0:Ke.rpx0,rpx1:Ke.rpx1};if(ut)ot=ut;else if(K)if(Ke.parent)if(Ve){var je=(Ke.x1>Ve?2*Math.PI:0)+le;ot={x0:je,x1:je}}else I.extendFlat(ot={rpx0:pe,rpx1:pe},ze(Ke));else ot={rpx0:0,rpx1:0};else ot={x0:le,x1:le};return l(ot,We)}(St);return function(_t){return Ee(Ct(_t))}}):ot.attr("d",Ee),ut.call(p,U,x,E,{eventDataKeys:A.eventDataKeys,transitionTime:A.CLICK_TRANSITION_TIME,transitionEasing:A.CLICK_TRANSITION_EASING}).call(m.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),ot.call(d,Ke,V,x);var We=I.ensureSingle(ut,"g","slicetext"),je=I.ensureSingle(We,"text","",function(St){St.attr("data-notex",1)}),lt=I.ensureUniformFontSize(x,m.determineTextFont(V,Ke,y.font));je.text(J.formatSliceLabel(Ke,U,V,E,y)).classed("slicetext",!0).attr("text-anchor","middle").call(R.font,lt).call(v.convertToTspans,x);var vt=R.bBox(je.node());Ke.transform=h(vt,Ke,z),Ke.transform.targetX=Me(Ke),Ke.transform.targetY=Ne(Ke);var pt=function(St,Ct){var _t=St.transform;return f(_t,Ct),_t.fontSize=lt.size,r(V.type,_t,y),I.getTextTransform(_t)};B?je.transition().attrTween("transform",function(St){var Ct=Qe(St);return function(_t){return pt(Ct(_t),vt)}}):je.attr("transform",pt(Ke,vt))})}function T(x){return function L(x,E){return[x*Math.sin(E),-x*Math.cos(E)]}(x.rpx1,x.transform.textPosAngle)}J.plot=function(x,E,M,i){var B,F,D=x._fullLayout,y=D._sunburstlayer,_=!M,z=!D.uniformtext.mode&&m.hasTransition(M);n("sunburst",D),(B=y.selectAll("g.trace.sunburst").data(E,function(H){return H[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),B.order(),z?(i&&(F=i()),S.transition().duration(M.duration).ease(M.easing).each("end",function(){F&&F()}).each("interrupt",function(){F&&F()}).each(function(){y.selectAll("g.trace").each(function(H){u(x,H,this,M)})})):(B.each(function(H){u(x,H,this,M)}),D.uniformtext.mode&&b(x,D._sunburstlayer.selectAll(".trace"),"sunburst")),_&&B.exit().remove()},J.formatSliceLabel=function(x,E,M,i,D){var y=M.texttemplate,B=M.textinfo;if(!(y||B&&"none"!==B))return"";var F=D.separators,z=x.data.data,V=i[0].hierarchy,H=m.isHierarchyRoot(x),U=m.getParent(V,x),G=m.getValue(x);if(!y){var ce,Y=B.split("+"),ee=function(re){return-1!==Y.indexOf(re)},ue=[];if(ee("label")&&z.label&&ue.push(z.label),z.hasOwnProperty("v")&&ee("value")&&ue.push(m.formatValue(z.v,F)),!H){ee("current path")&&ue.push(m.getPath(x.data));var pe=0;ee("percent parent")&&pe++,ee("percent entry")&&pe++,ee("percent root")&&pe++;var te=pe>1;if(pe){var Q,K=function(re){ce=m.formatPercent(Q,F),te&&(ce+=" of "+re),ue.push(ce)};ee("percent parent")&&!H&&(Q=G/m.getValue(U),K("parent")),ee("percent entry")&&(Q=G/m.getValue(E),K("entry")),ee("percent root")&&(Q=G/m.getValue(V),K("root"))}}return ee("text")&&(ce=I.castOption(M,z.i,"text"),I.isValidTextValue(ce)&&ue.push(ce)),ue.join("<br>")}var Z=I.castOption(M,z.i,"texttemplate");if(!Z)return"";var q={};z.label&&(q.label=z.label),z.hasOwnProperty("v")&&(q.value=z.v,q.valueLabel=m.formatValue(z.v,F)),q.currentPath=m.getPath(x.data),H||(q.percentParent=G/m.getValue(U),q.percentParentLabel=m.formatPercent(q.percentParent,F),q.parent=m.getPtLabel(U)),q.percentEntry=G/m.getValue(E),q.percentEntryLabel=m.formatPercent(q.percentEntry,F),q.entry=m.getPtLabel(E),q.percentRoot=G/m.getValue(V),q.percentRootLabel=m.formatPercent(q.percentRoot,F),q.root=m.getPtLabel(V),z.hasOwnProperty("color")&&(q.color=z.color);var fe=I.castOption(M,z.i,"text");return(I.isValidTextValue(fe)||""===fe)&&(q.text=fe),q.customdata=I.castOption(M,z.i,"customdata"),I.texttemplateString(Z,q,D._d3locale,q,M._meta||{})}},29969:function(oe,J,t){"use strict";var S=t(39898),k=t(7901),l=t(71828),R=t(72597).resizeText,I=t(43467);function w(r,n,c,o){var h=!n.children,d=n.data.data.i,b=l.castOption(c,d,"marker.line.color")||k.defaultLine,p=l.castOption(c,d,"marker.line.width")||0;r.call(I,n,c,o).style("stroke-width",p).call(k.stroke,b).style("opacity",h?c.leaf.opacity:null)}oe.exports={style:function v(r){var n=r._fullLayout._sunburstlayer.selectAll(".trace");R(r,n,"sunburst"),n.each(function(c){var o=S.select(this),h=c[0].trace;o.style("opacity",h.opacity),o.selectAll("path.surface").each(function(d){S.select(this).call(w,d,h,r)})})},styleOne:w}},54532:function(oe,J,t){"use strict";var S=t(7901),k=t(50693),l=t(12663).axisHoverFormat,R=t(5386).fF,I=t(9012),v=t(1426).extendFlat,w=t(30962).overrideAll;function n(o){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:S.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:S.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var c=oe.exports=w(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:R(),xhoverformat:l("x"),yhoverformat:l("y"),zhoverformat:l("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},k("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:n(),y:n(),z:n()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},k.zauto,{}),zmin:v({},k.zmin,{}),zmax:v({},k.zmax,{})},hoverinfo:v({},I.hoverinfo),showlegend:v({},I.showlegend,{dflt:!1})}),"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes",c.transforms=void 0},18396:function(oe,J,t){"use strict";var S=t(78803);oe.exports=function(l,R){S(l,R,R.surfacecolor?{vals:R.surfacecolor,containerStr:"",cLetter:"c"}:{vals:R.z,containerStr:"",cLetter:"c"})}},43768:function(oe,J,t){"use strict";var S=t(9330).gl_surface3d,k=t(9330).ndarray,l=t(9330).ndarray_linear_interpolate.d2,R=t(824),I=t(43907),v=t(71828).isArrayOrTypedArray,w=t(81697).parseColorScale,r=t(78614),n=t(21081).extractOpts;function c(i,D,y){this.scene=i,this.uid=y,this.surface=D,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var o=c.prototype;o.getXat=function(i,D,y,B){var F=v(this.data.x)?v(this.data.x[0])?this.data.x[D][i]:this.data.x[i]:i;return void 0===y?F:B.d2l(F,0,y)},o.getYat=function(i,D,y,B){var F=v(this.data.y)?v(this.data.y[0])?this.data.y[D][i]:this.data.y[D]:D;return void 0===y?F:B.d2l(F,0,y)},o.getZat=function(i,D,y,B){var F=this.data.z[D][i];return null===F&&this.data.connectgaps&&this.data._interpolatedZ&&(F=this.data._interpolatedZ[D][i]),void 0===y?F:B.d2l(F,0,y)},o.handlePick=function(i){if(i.object===this.surface){var y=(i.data.index[1]-1)/this.dataScaleY-1,B=Math.max(Math.min(Math.round((i.data.index[0]-1)/this.dataScaleX-1),this.data.z[0].length-1),0),F=Math.max(Math.min(Math.round(y),this.data._ylength-1),0);i.index=[B,F],i.traceCoordinate=[this.getXat(B,F),this.getYat(B,F),this.getZat(B,F)],i.dataCoordinate=[this.getXat(B,F,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(B,F,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(B,F,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var _=0;_<3;_++)null!=i.dataCoordinate[_]&&(i.dataCoordinate[_]*=this.scene.dataScale[_]);var V=this.data.hovertext||this.data.text;return i.textLabel=Array.isArray(V)&&V[F]&&void 0!==V[F][B]?V[F][B]:V||"",i.data.dataCoordinate=i.dataCoordinate.slice(),this.surface.highlight(i.data),this.scene.glplot.spikes.position=i.dataCoordinate,!0}};var h=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function d(i,D){if(i<D)return 0;for(var y=0;0===Math.floor(i%D);)i/=D,y++;return y}function b(i){for(var D=[],y=0;y<h.length;y++)D.push(d(i,h[y]));return D}function p(i){for(var D=b(i),y=i,B=0;B<h.length;B++)if(D[B]>0){y=h[B];break}return y}function A(i,D){if(!(i<1||D<1)){for(var y=b(i),B=b(D),F=1,_=0;_<h.length;_++)F*=Math.pow(h[_],Math.max(y[_],B[_]));return F}}o.calcXnums=function(i){var D,y=[];for(D=1;D<i;D++){var B=this.getXat(D-1,0),F=this.getXat(D,0);y[D-1]=F!==B&&null!=B&&null!=F?Math.abs(F-B):0}var _=0;for(D=1;D<i;D++)_+=y[D-1];for(D=1;D<i;D++)y[D-1]=0===y[D-1]?1:Math.round(_/y[D-1]);return y},o.calcYnums=function(i){var D,y=[];for(D=1;D<i;D++){var B=this.getYat(0,D-1),F=this.getYat(0,D);y[D-1]=F!==B&&null!=B&&null!=F?Math.abs(F-B):0}var _=0;for(D=1;D<i;D++)_+=y[D-1];for(D=1;D<i;D++)y[D-1]=0===y[D-1]?1:Math.round(_/y[D-1]);return y};var u=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],g=u[9],C=u[13];function T(i,D,y){var B=y[8]+y[2]*D[0]+y[5]*D[1];return i[0]=(y[6]+y[0]*D[0]+y[3]*D[1])/B,i[1]=(y[7]+y[1]*D[0]+y[4]*D[1])/B,i}function L(i,D,y){return function x(i,D,y,B){for(var F=[0,0],_=i.shape[0],z=i.shape[1],V=0;V<_;V++)for(var H=0;H<z;H++)y(F,[V,H],B),i.set(V,H,l(D,F[0],F[1]));return i}(i,D,T,y),i}function E(i,D){for(var y=!1,B=0;B<i.length;B++)if(D===i[B]){y=!0;break}!1===y&&i.push(D)}o.estimateScale=function(i,D){for(var B=1+function m(i){if(0!==i.length){for(var D=1,y=0;y<i.length;y++)D=A(D,i[y]);return D}}(0===D?this.calcXnums(i):this.calcYnums(i));B<g;)B*=2;for(;B>C;)B--,B/=p(B),++B<g&&(B=C);var F=Math.round(B/i);return F>1?F:1},o.refineCoords=function(i){for(var D=this.dataScaleX,y=this.dataScaleY,B=i[0].shape[0],F=i[0].shape[1],_=0|Math.floor(i[0].shape[0]*D+1),z=0|Math.floor(i[0].shape[1]*y+1),V=1+B+1,H=1+F+1,U=k(new Float32Array(V*H),[V,H]),G=[1/D,0,0,0,1/y,0,0,0,1],Y=0;Y<i.length;++Y){this.surface.padField(U,i[Y]);var ee=k(new Float32Array(_*z),[_,z]);L(ee,U,G),i[Y]=ee}},o.setContourLevels=function(){var B,F,i=[[],[],[]],D=[!1,!1,!1],y=!1;for(B=0;B<3;++B)if(this.showContour[B]&&(y=!0,this.contourSize[B]>0&&null!==this.contourStart[B]&&null!==this.contourEnd[B]&&this.contourEnd[B]>this.contourStart[B]))for(D[B]=!0,F=this.contourStart[B];F<this.contourEnd[B];F+=this.contourSize[B])E(i[B],F*this.scene.dataScale[B]);if(y){var z=[[],[],[]];for(B=0;B<3;++B)this.showContour[B]&&(z[B]=D[B]?i[B]:this.scene.contourLevels[B]);this.surface.update({levels:z})}},o.update=function(i){var D=this.scene,y=D.fullSceneLayout,B=this.surface,F=w(i),_=D.dataScale,z=i.z[0].length,V=i._ylength,H=D.contourLevels;this.data=i;var U,G,Y,ee,ue=[];for(U=0;U<3;U++)for(ue[U]=[],G=0;G<z;G++)ue[U][G]=[];for(G=0;G<z;G++)for(Y=0;Y<V;Y++)ue[0][G][Y]=this.getXat(G,Y,i.xcalendar,y.xaxis),ue[1][G][Y]=this.getYat(G,Y,i.ycalendar,y.yaxis),ue[2][G][Y]=this.getZat(G,Y,i.zcalendar,y.zaxis);if(i.connectgaps)for(i._emptypoints=I(ue[2]),R(ue[2],i._emptypoints),i._interpolatedZ=[],G=0;G<z;G++)for(i._interpolatedZ[G]=[],Y=0;Y<V;Y++)i._interpolatedZ[G][Y]=ue[2][G][Y];for(U=0;U<3;U++)for(G=0;G<z;G++)for(Y=0;Y<V;Y++)null==(ee=ue[U][G][Y])?ue[U][G][Y]=NaN:ee=ue[U][G][Y]*=_[U];for(U=0;U<3;U++)for(G=0;G<z;G++)for(Y=0;Y<V;Y++)null!=(ee=ue[U][G][Y])&&(this.minValues[U]>ee&&(this.minValues[U]=ee),this.maxValues[U]<ee&&(this.maxValues[U]=ee));for(U=0;U<3;U++)this.objectOffset[U]=.5*(this.minValues[U]+this.maxValues[U]);for(U=0;U<3;U++)for(G=0;G<z;G++)for(Y=0;Y<V;Y++)null!=(ee=ue[U][G][Y])&&(ue[U][G][Y]-=this.objectOffset[U]);var ce=[k(new Float32Array(z*V),[z,V]),k(new Float32Array(z*V),[z,V]),k(new Float32Array(z*V),[z,V])];for(U=0;U<3;U++)for(G=0;G<z;G++)for(Y=0;Y<V;Y++)ce[U].set(G,Y,ue[U][G][Y]);ue=[];var pe={colormap:F,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!i.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:i.opacityscale,opacity:i.opacity},te=n(i);if(pe.intensityBounds=[te.min,te.max],i.surfacecolor){var Q=k(new Float32Array(z*V),[z,V]);for(G=0;G<z;G++)for(Y=0;Y<V;Y++)Q.set(G,Y,i.surfacecolor[Y][G]);ce.push(Q)}else pe.intensityBounds[0]*=_[2],pe.intensityBounds[1]*=_[2];(C<ce[0].shape[0]||C<ce[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(ce[0].shape[0],0),this.dataScaleY=this.estimateScale(ce[0].shape[1],1),(1!==this.dataScaleX||1!==this.dataScaleY)&&this.refineCoords(ce)),i.surfacecolor&&(pe.intensity=ce.pop());var K=[!0,!0,!0],Z=["x","y","z"];for(U=0;U<3;++U){var q=i.contours[Z[U]];K[U]=q.highlight,pe.showContour[U]=q.show||q.highlight,pe.showContour[U]&&(pe.contourProject[U]=[q.project.x,q.project.y,q.project.z],q.show?(this.showContour[U]=!0,pe.levels[U]=H[U],B.highlightColor[U]=pe.contourColor[U]=r(q.color),B.highlightTint[U]=pe.contourTint[U]=q.usecolormap?0:1,pe.contourWidth[U]=q.width,this.contourStart[U]=q.start,this.contourEnd[U]=q.end,this.contourSize[U]=q.size):(this.showContour[U]=!1,this.contourStart[U]=null,this.contourEnd[U]=null,this.contourSize[U]=0),q.highlight&&(pe.dynamicColor[U]=r(q.highlightcolor),pe.dynamicWidth[U]=q.highlightwidth))}(function f(i){var D=i[0].rgb,y=i[i.length-1].rgb;return D[0]===y[0]&&D[1]===y[1]&&D[2]===y[2]&&D[3]===y[3]})(F)&&(pe.vertexColor=!0),pe.objectOffset=this.objectOffset,pe.coords=ce,B.update(pe),B.visible=i.visible,B.enableDynamic=K,B.enableHighlight=K,B.snapToData=!0,"lighting"in i&&(B.ambientLight=i.lighting.ambient,B.diffuseLight=i.lighting.diffuse,B.specularLight=i.lighting.specular,B.roughness=i.lighting.roughness,B.fresnel=i.lighting.fresnel),"lightposition"in i&&(B.lightPosition=[i.lightposition.x,i.lightposition.y,i.lightposition.z])},o.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},oe.exports=function M(i,D){var B=S({gl:i.glplot.gl}),F=new c(i,B,D.uid);return B._trace=F,F.update(D),i.glplot.add(B),F}},91831:function(oe,J,t){"use strict";var S=t(73972),k=t(71828),l=t(1586),R=t(54532),I=.1;function n(o,f,h,d){var b=d("opacityscale");"max"===b?f.opacityscale=[[0,I],[1,1]]:"min"===b?f.opacityscale=[[0,1],[1,I]]:"extremes"===b?f.opacityscale=function v(o,f){for(var h=[],b=0;b<32;b++){var p=b/31,A=f+(1-f)*(1-Math.pow(Math.sin(o*p*Math.PI),2));h.push([p,Math.max(0,Math.min(1,A))])}return h}(1,I):function w(o){var f=0;if(!Array.isArray(o)||o.length<2||!o[0]||!o[o.length-1]||0!=+o[0][0]||1!=+o[o.length-1][0])return!1;for(var h=0;h<o.length;h++){var d=o[h];if(2!==d.length||+d[0]<f)return!1;f=+d[0]}return!0}(b)||(f.opacityscale=void 0)}function c(o,f,h){f in o&&!(h in o)&&(o[h]=o[f])}oe.exports={supplyDefaults:function r(o,f,h,d){var b,p;function A(i,D){return k.coerce(o,f,R,i,D)}var m=A("x"),u=A("y"),g=A("z");if(!g||!g.length||m&&m.length<1||u&&u.length<1)f.visible=!1;else{f._xlength=Array.isArray(m)&&k.isArrayOrTypedArray(m[0])?g.length:g[0].length,f._ylength=g.length,S.getComponentMethod("calendars","handleTraceDefaults")(o,f,["x","y","z"],d),A("text"),A("hovertext"),A("hovertemplate"),A("xhoverformat"),A("yhoverformat"),A("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(i){A(i)});var T=A("surfacecolor"),L=["x","y","z"];for(b=0;b<3;++b){var x="contours."+L[b],E=A(x+".show"),M=A(x+".highlight");if(E||M)for(p=0;p<3;++p)A(x+".project."+L[p]);E&&(A(x+".color"),A(x+".width"),A(x+".usecolormap")),M&&(A(x+".highlightcolor"),A(x+".highlightwidth")),A(x+".start"),A(x+".end"),A(x+".size")}T||(c(o,"zmin","cmin"),c(o,"zmax","cmax"),c(o,"zauto","cauto")),l(o,f,d,A,{prefix:"",cLetter:"c"}),n(0,f,0,A),f._length=null}},opacityscaleDefaults:n}},93601:function(oe,J,t){"use strict";oe.exports={attributes:t(54532),supplyDefaults:t(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:t(18396),plot:t(43768),moduleType:"trace",name:"surface",basePlotModule:t(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(oe,J,t){"use strict";var S=t(50215),k=t(1426).extendFlat,l=t(30962).overrideAll,R=t(41940),I=t(27670).Y,v=t(12663).descriptionOnlyNumbers;(oe.exports=l({domain:I({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:k({},S.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},R({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:k({},S.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},R({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(oe,J,t){"use strict";var S=t(27659).a0,k=t(36736),l="table";J.name=l,J.plot=function(R){var I=S(R.calcdata,l)[0];I.length&&k(R,I)},J.clean=function(R,I,v,w){var r=w._has&&w._has(l),n=I._has&&I._has(l);r&&!n&&w._paperdiv.selectAll(".table").remove()}},76333:function(oe,J,t){"use strict";var S=t(28984).wrap;oe.exports=function(){return S({})}},49850:function(oe){"use strict";oe.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(oe,J,t){"use strict";var S=t(49850),k=t(1426).extendFlat,l=t(92770);function R(f){if(Array.isArray(f)){for(var h=0,d=0;d<f.length;d++)h=Math.max(h,R(f[d]));return h}return f}function I(f,h){return f+h}function v(f){var p,h=f.slice(),d=1/0,b=0;for(p=0;p<h.length;p++)Array.isArray(h[p])||(h[p]=[h[p]]),d=Math.min(d,h[p].length),b=Math.max(b,h[p].length);if(d!==b)for(p=0;p<h.length;p++){var A=b-h[p].length;A&&(h[p]=h[p].concat(w(A)))}return h}function w(f){for(var h=new Array(f),d=0;d<f;d++)h[d]="";return h}function r(f){return f.calcdata.columns.reduce(function(h,d){return d.xIndex<f.xIndex?h+d.columnWidth:h},0)}function n(f,h){return Object.keys(f).map(function(b){return k({},f[b],{auxiliaryBlocks:h})})}function c(f,h){for(var b,d={},p=0,A=0,m={firstRowIndex:null,lastRowIndex:null,rows:[]},u=0,g=0,C=0;C<f.length;C++)m.rows.push({rowIndex:C,rowHeight:b=f[C]}),((A+=b)>=h||C===f.length-1)&&(d[p]=m,m.key=g++,m.firstRowIndex=u,m.lastRowIndex=C,m={firstRowIndex:null,lastRowIndex:null,rows:[]},p+=A,u=C+1,A=0);return d}oe.exports=function(h,d){var b=v(d.cells.values),p=function(G){return G.slice(d.header.values.length,G.length)},A=v(d.header.values);A.length&&!A[0].length&&(A[0]=[""],A=v(A));var m=A.concat(p(b).map(function(){return w((A[0]||[""]).length)})),u=d.domain,g=Math.floor(h._fullLayout._size.w*(u.x[1]-u.x[0])),C=Math.floor(h._fullLayout._size.h*(u.y[1]-u.y[0])),T=d.header.values.length?m[0].map(function(){return d.header.height}):[S.emptyHeaderHeight],L=b.length?b[0].map(function(){return d.cells.height}):[],x=T.reduce(I,0),i=c(L,C-x+S.uplift),y=n(c(T,x),[]),B=n(i,y),F={},_=d._fullInput.columnorder.concat(p(b.map(function(G,Y){return Y}))),z=m.map(function(G,Y){var ee=Array.isArray(d.columnwidth)?d.columnwidth[Math.min(Y,d.columnwidth.length-1)]:d.columnwidth;return l(ee)?Number(ee):1}),V=z.reduce(I,0);z=z.map(function(G){return G/V*g});var H=Math.max(R(d.header.line.width),R(d.cells.line.width)),U={key:d.uid+h._context.staticPlot,translateX:u.x[0]*h._fullLayout._size.w,translateY:h._fullLayout._size.h*(1-u.y[1]),size:h._fullLayout._size,width:g,maxLineWidth:H,height:C,columnOrder:_,groupHeight:C,rowBlocks:B,headerRowBlocks:y,scrollY:0,cells:k({},d.cells,{values:b}),headerCells:k({},d.header,{values:m}),gdColumns:m.map(function(G){return G[0]}),gdColumnsOriginalOrder:m.map(function(G){return G[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:m.map(function(G,Y){return F[G]=(F[G]||0)+1,{key:G+"__"+F[G],label:G,specIndex:Y,xIndex:_[Y],xScale:r,x:void 0,calcdata:void 0,columnWidth:z[Y]}})};return U.columns.forEach(function(G){G.calcdata=U,G.x=r(G)}),U}},56269:function(oe,J,t){"use strict";var S=t(1426).extendFlat;J.splitToPanels=function(l){var R=[0,0],I=S({},l,{key:"header",type:"header",page:0,prevPages:R,currentRepaint:[null,null],dragHandle:!0,values:l.calcdata.headerCells.values[l.specIndex],rowBlocks:l.calcdata.headerRowBlocks,calcdata:S({},l.calcdata,{cells:l.calcdata.headerCells})});return[S({},l,{key:"cells1",type:"cells",page:0,prevPages:R,currentRepaint:[null,null],dragHandle:!1,values:l.calcdata.cells.values[l.specIndex],rowBlocks:l.calcdata.rowBlocks}),S({},l,{key:"cells2",type:"cells",page:1,prevPages:R,currentRepaint:[null,null],dragHandle:!1,values:l.calcdata.cells.values[l.specIndex],rowBlocks:l.calcdata.rowBlocks}),I]},J.splitToCells=function(l){var R=function k(l){var R=l.rowBlocks[l.page],I=R?R.rows[0].rowIndex:0;return[I,R?I+R.rows.length:0]}(l);return(l.values||[]).slice(R[0],R[1]).map(function(I,v){return{keyWithinBlock:v+("string"==typeof I&&I.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:R[0]+v,column:l,calcdata:l.calcdata,page:l.page,rowBlocks:l.rowBlocks,value:I}})}},39754:function(oe,J,t){"use strict";var S=t(71828),k=t(44464),l=t(27670).c;oe.exports=function(v,w,r,n){function c(o,f){return S.coerce(v,w,k,o,f)}l(w,n,c),c("columnwidth"),c("header.values"),c("header.format"),c("header.align"),c("header.prefix"),c("header.suffix"),c("header.height"),c("header.line.width"),c("header.line.color"),c("header.fill.color"),S.coerceFont(c,"header.font",S.extendFlat({},n.font)),function R(I,v){for(var r=I.header.values.length,n=(I.columnorder||[]).slice(0,r),c=n.slice().sort(function(h,d){return h-d}),o=n.map(function(h){return c.indexOf(h)}),f=o.length;f<r;f++)o.push(f);v("columnorder",o)}(w,c),c("cells.values"),c("cells.format"),c("cells.align"),c("cells.prefix"),c("cells.suffix"),c("cells.height"),c("cells.line.width"),c("cells.line.color"),c("cells.fill.color"),S.coerceFont(c,"cells.font",S.extendFlat({},n.font)),w._length=null}},96595:function(oe,J,t){"use strict";oe.exports={attributes:t(44464),supplyDefaults:t(39754),calc:t(76333),plot:t(36736),moduleType:"trace",name:"table",basePlotModule:t(99469),categories:["noOpacity"],meta:{}}},36736:function(oe,J,t){"use strict";var S=t(49850),k=t(39898),R=t(71828).numberFormat,I=t(28984),v=t(91424),w=t(63893),r=t(71828).raiseToTop,n=t(71828).strTranslate,c=t(71828).cancelTransition,o=t(51018),f=t(56269),h=t(7901);function d($){return Math.ceil($.calcdata.maxLineWidth/2)}function b($,le){return"clip"+$._fullLayout._uid+"_scrollAreaBottomClip_"+le.key}function p($,le){return"clip"+$._fullLayout._uid+"_columnBoundaryClippath_"+le.calcdata.key+"_"+le.specIndex}function A($){return[].concat.apply([],$.map(function(le){return le})).map(function(le){return le.__data__})}function m($,le,se){var we=$.selectAll("."+S.cn.scrollbarKit).data(I.repeat,I.keyFun);we.enter().append("g").classed(S.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),we.each(function(Pe){var Ce=Pe.scrollbarState;Ce.totalHeight=function de(Pe){var Ce=Pe.rowBlocks;return K(Ce,Ce.length-1)+(Ce.length?Z(Ce[Ce.length-1],1/0):1)}(Pe),Ce.scrollableAreaHeight=Pe.groupHeight-U(Pe),Ce.currentlyVisibleHeight=Math.min(Ce.totalHeight,Ce.scrollableAreaHeight),Ce.ratio=Ce.currentlyVisibleHeight/Ce.totalHeight,Ce.barLength=Math.max(Ce.ratio*Ce.currentlyVisibleHeight,S.goldenRatio*S.scrollbarWidth),Ce.barWiggleRoom=Ce.currentlyVisibleHeight-Ce.barLength,Ce.wiggleRoom=Math.max(0,Ce.totalHeight-Ce.scrollableAreaHeight),Ce.topY=0===Ce.barWiggleRoom?0:Pe.scrollY/Ce.wiggleRoom*Ce.barWiggleRoom,Ce.bottomY=Ce.topY+Ce.barLength,Ce.dragMultiplier=Ce.wiggleRoom/Ce.barWiggleRoom}).attr("transform",function(Pe){return n(Pe.width+S.scrollbarWidth/2+S.scrollbarOffset,U(Pe))});var Ee=we.selectAll("."+S.cn.scrollbar).data(I.repeat,I.keyFun);Ee.enter().append("g").classed(S.cn.scrollbar,!0);var Me=Ee.selectAll("."+S.cn.scrollbarSlider).data(I.repeat,I.keyFun);Me.enter().append("g").classed(S.cn.scrollbarSlider,!0),Me.attr("transform",function(Pe){return n(0,Pe.scrollbarState.topY||0)});var Ne=Me.selectAll("."+S.cn.scrollbarGlyph).data(I.repeat,I.keyFun);Ne.enter().append("line").classed(S.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",S.scrollbarWidth).attr("stroke-linecap","round").attr("y1",S.scrollbarWidth/2),Ne.attr("y2",function(Pe){return Pe.scrollbarState.barLength-S.scrollbarWidth/2}).attr("stroke-opacity",function(Pe){return Pe.columnDragInProgress||!Pe.scrollbarState.barWiggleRoom||se?0:.4}),Ne.transition().delay(0).duration(0),Ne.transition().delay(S.scrollbarHideDelay).duration(S.scrollbarHideDuration).attr("stroke-opacity",0);var Ve=Ee.selectAll("."+S.cn.scrollbarCaptureZone).data(I.repeat,I.keyFun);Ve.enter().append("line").classed(S.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",S.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Pe){var Ce=k.event.y,Ie=this.getBoundingClientRect(),Je=Pe.scrollbarState,Qe=Ce-Ie.top,ze=k.scale.linear().domain([0,Je.scrollableAreaHeight]).range([0,Je.totalHeight]).clamp(!0);Je.topY<=Qe&&Qe<=Je.bottomY||ee(le,$,null,ze(Qe-Je.barLength/2))(Pe)}).call(k.behavior.drag().origin(function(Pe){return k.event.stopPropagation(),Pe.scrollbarState.scrollbarScrollInProgress=!0,Pe}).on("drag",ee(le,$)).on("dragend",function(){})),Ve.attr("y2",function(Pe){return Pe.scrollbarState.scrollableAreaHeight}),le._context.staticPlot&&(Ne.remove(),Ve.remove())}function u($,le,se,de){var Ee=function C($){var le=$.selectAll("."+S.cn.columnCell).data(f.splitToCells,function(se){return se.keyWithinBlock});return le.enter().append("g").classed(S.cn.columnCell,!0),le.exit().remove(),le}(function g($){var le=$.selectAll("."+S.cn.columnCells).data(I.repeat,I.keyFun);return le.enter().append("g").classed(S.cn.columnCells,!0),le.exit().remove(),le}(se));(function E($){$.each(function(le,se){var de=le.calcdata.cells.font,we=le.column.specIndex,Ee={size:_(de.size,we,se),color:_(de.color,we,se),family:_(de.family,we,se)};le.rowNumber=le.key,le.align=_(le.calcdata.cells.align,we,se),le.cellBorderWidth=_(le.calcdata.cells.line.width,we,se),le.font=Ee})})(Ee),function i($){$.attr("width",function(le){return le.column.columnWidth}).attr("stroke-width",function(le){return le.cellBorderWidth}).each(function(le){var se=k.select(this);h.stroke(se,_(le.calcdata.cells.line.color,le.column.specIndex,le.rowNumber)),h.fill(se,_(le.calcdata.cells.fill.color,le.column.specIndex,le.rowNumber))})}(function T($){var le=$.selectAll("."+S.cn.cellRect).data(I.repeat,function(se){return se.keyWithinBlock});return le.enter().append("rect").classed(S.cn.cellRect,!0),le}(Ee));var Ve=function L($){var le=$.selectAll("."+S.cn.cellText).data(I.repeat,function(se){return se.keyWithinBlock});return le.enter().append("text").classed(S.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){k.event.stopPropagation()}),le}(function x($){var le=$.selectAll("."+S.cn.cellTextHolder).data(I.repeat,function(se){return se.keyWithinBlock});return le.enter().append("g").classed(S.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),le}(Ee));(function M($){$.each(function(le){v.font(k.select(this),le.font)})})(Ve),D(Ve,le,de,$),Q(Ee)}function D($,le,se,de){$.text(function(we){var Ee=we.column.specIndex,Me=we.rowNumber,Ne=we.value,Ve="string"==typeof Ne,Pe=Ve&&Ne.match(/<br>/i),Ce=!Ve||Pe;we.mayHaveMarkup=Ve&&Ne.match(/[<&>]/);var Ie=function y($){return"string"==typeof $&&$.match(S.latexCheck)}(Ne);we.latex=Ie;var ut,ot,Je=Ie?"":_(we.calcdata.cells.prefix,Ee,Me)||"",Qe=Ie?"":_(we.calcdata.cells.suffix,Ee,Me)||"",ze=Ie?null:_(we.calcdata.cells.format,Ee,Me)||null,Ke=Je+(ze?R(ze)(we.value):we.value)+Qe;if(we.wrappingNeeded=!we.wrapped&&!Ce&&!Ie&&(ut=B(Ke)),we.cellHeightMayIncrease=Pe||Ie||we.mayHaveMarkup||(void 0===ut?B(Ke):ut),we.needsConvertToTspans=we.mayHaveMarkup||we.wrappingNeeded||we.latex,we.wrappingNeeded){var je=(" "===S.wrapSplitCharacter?Ke.replace(/<a href=/gi,"<a_href="):Ke).split(S.wrapSplitCharacter),lt=" "===S.wrapSplitCharacter?je.map(function(vt){return vt.replace(/<a_href=/gi,"<a href=")}):je;we.fragments=lt.map(function(vt){return{text:vt,width:null}}),we.fragments.push({fragment:S.wrapSpacer,width:null}),ot=lt.join(S.lineBreaker)+S.lineBreaker+S.wrapSpacer}else delete we.fragments,ot=Ke;return ot}).attr("dy",function(we){return we.needsConvertToTspans?0:"0.75em"}).each(function(we){var Me=k.select(this);we.needsConvertToTspans?w.convertToTspans(Me,de,(we.wrappingNeeded?ce:pe)(se,this,le,de,we)):k.select(this.parentNode).attr("transform",function(Ve){return n(te(Ve),S.cellPad)}).attr("text-anchor",function(Ve){return{left:"start",center:"middle",right:"end"}[Ve.align]})})}function B($){return-1!==$.indexOf(S.wrapSplitCharacter)}function _($,le,se){if(Array.isArray($)){var de=$[Math.min(le,$.length-1)];return Array.isArray(de)?de[Math.min(se,de.length-1)]:de}return $}function z($,le,se){$.transition().ease(S.releaseTransitionEase).duration(S.releaseTransitionDuration).attr("transform",n(le.x,se))}function V($){return"cells"===$.type}function H($){return"header"===$.type}function U($){return($.rowBlocks.length?$.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(se,de){return se+Z(de,1/0)},0)}function Y($,le,se){var de=A(le)[0];if(void 0!==de){var we=de.rowBlocks,Ee=de.calcdata,Me=K(we,we.length),Ne=de.calcdata.groupHeight-U(de),Ve=Ee.scrollY=Math.max(0,Math.min(Me-Ne,Ee.scrollY)),Pe=function G($,le,se){for(var de=[],we=0,Ee=0;Ee<$.length;Ee++){for(var Me=$[Ee],Ne=Me.rows,Ve=0,Pe=0;Pe<Ne.length;Pe++)Ve+=Ne[Pe].rowHeight;Me.allRowsHeight=Ve,le<we+Ve&&le+se>we&&de.push(Ee),we+=Ve}return de}(we,Ve,Ne);1===Pe.length&&(Pe[0]===we.length-1?Pe.unshift(Pe[0]-1):Pe.push(Pe[0]+1)),Pe[0]%2&&Pe.reverse(),le.each(function(Ce,Ie){Ce.page=Pe[Ie],Ce.scrollY=Ve}),le.attr("transform",function(Ce){var Ie=K(Ce.rowBlocks,Ce.page)-Ce.scrollY;return n(0,Ie)}),$&&(ue($,se,le,Pe,de.prevPages,de,0),ue($,se,le,Pe,de.prevPages,de,1),m(se,$))}}function ee($,le,se,de){return function(Ee){var Me=Ee.calcdata?Ee.calcdata:Ee,Ne=le.filter(function(Ie){return Me.key===Ie.key}),Pe=Me.scrollY;Me.scrollY=void 0===de?Me.scrollY+(se||Me.scrollbarState.dragMultiplier)*k.event.dy:de;var Ce=Ne.selectAll("."+S.cn.yColumn).selectAll("."+S.cn.columnBlock).filter(V);return Y($,Ce,Ne),Me.scrollY===Pe}}function ue($,le,se,de,we,Ee,Me){de[Me]!==we[Me]&&(clearTimeout(Ee.currentRepaint[Me]),Ee.currentRepaint[Me]=setTimeout(function(){var Ve=se.filter(function(Pe,Ce){return Ce===Me&&de[Ce]!==we[Ce]});u($,le,Ve,se),we[Me]=de[Me]}))}function ce($,le,se,de){return function(){var Ee=k.select(le.parentNode);Ee.each(function(Me){var Ne=Me.fragments;Ee.selectAll("tspan.line").each(function(Ke,ut){Ne[ut].width=this.getComputedTextLength()});var Ie,Je,Ve=Ne[Ne.length-1].width,Pe=Ne.slice(0,-1),Ce=[],Qe=0,ze=Me.column.columnWidth-2*S.cellPad;for(Me.value="";Pe.length;)Qe+(Je=(Ie=Pe.shift()).width+Ve)>ze&&(Me.value+=Ce.join(S.wrapSpacer)+S.lineBreaker,Ce=[],Qe=0),Ce.push(Ie.text),Qe+=Je;Qe&&(Me.value+=Ce.join(S.wrapSpacer)),Me.wrapped=!0}),Ee.selectAll("tspan.line").remove(),D(Ee.select("."+S.cn.cellText),se,$,de),k.select(le.parentNode.parentNode).call(Q)}}function pe($,le,se,de,we){return function(){if(!we.settledY){var Me=k.select(le.parentNode),Ne=fe(we),Ve=we.key-Ne.firstRowIndex,Pe=Ne.rows[Ve].rowHeight,Ce=we.cellHeightMayIncrease?le.parentNode.getBoundingClientRect().height+2*S.cellPad:Pe,Ie=Math.max(Ce,Pe);Ie-Ne.rows[Ve].rowHeight&&(Ne.rows[Ve].rowHeight=Ie,$.selectAll("."+S.cn.columnCell).call(Q),Y(null,$.filter(V),0),m(se,de,!0)),Me.attr("transform",function(){var Ke=this.parentNode.getBoundingClientRect(),ut=k.select(this.parentNode).select("."+S.cn.cellRect).node().getBoundingClientRect(),ot=this.transform.baseVal.consolidate(),We=ut.top-Ke.top+(ot?ot.matrix.f:S.cellPad);return n(te(we,k.select(this.parentNode).select("."+S.cn.cellTextHolder).node().getBoundingClientRect().width),We)}),we.settledY=!0}}}function te($,le){switch($.align){case"left":default:return S.cellPad;case"right":return $.column.columnWidth-(le||0)-S.cellPad;case"center":return($.column.columnWidth-(le||0))/2}}function Q($){$.attr("transform",function(le){var se=le.rowBlocks[0].auxiliaryBlocks.reduce(function(Me,Ne){return Me+Z(Ne,1/0)},0),we=Z(fe(le),le.key);return n(0,we+se)}).selectAll("."+S.cn.cellRect).attr("height",function(le){return function re($,le){return $.rows[le-$.firstRowIndex]}(fe(le),le.key).rowHeight})}function K($,le){for(var se=0,de=le-1;de>=0;de--)se+=q($[de]);return se}function Z($,le){for(var se=0,de=0;de<$.rows.length&&$.rows[de].rowIndex<le;de++)se+=$.rows[de].rowHeight;return se}function q($){var le=$.allRowsHeight;if(void 0!==le)return le;for(var se=0,de=0;de<$.rows.length;de++)se+=$.rows[de].rowHeight;return $.allRowsHeight=se,se}function fe($){return $.rowBlocks[$.page]}oe.exports=function(le,se){var de=!le._context.staticPlot,we=le._fullLayout._paper.selectAll("."+S.cn.table).data(se.map(function(We){var je=I.unwrap(We);return o(le,je.trace)}),I.keyFun);we.exit().remove(),we.enter().append("g").classed(S.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),we.attr("width",function(We){return We.width+We.size.l+We.size.r}).attr("height",function(We){return We.height+We.size.t+We.size.b}).attr("transform",function(We){return n(We.translateX,We.translateY)});var Ee=we.selectAll("."+S.cn.tableControlView).data(I.repeat,I.keyFun),Me=Ee.enter().append("g").classed(S.cn.tableControlView,!0).style("box-sizing","content-box");if(de){var Ne="onwheel"in document?"wheel":"mousewheel";Me.on("mousemove",function(We){Ee.filter(function(je){return We===je}).call(m,le)}).on(Ne,function(We){We.scrollbarState.wheeling||(We.scrollbarState.wheeling=!0,ee(le,Ee,null,We.scrollY+k.event.deltaY)(We)||(k.event.stopPropagation(),k.event.preventDefault()),We.scrollbarState.wheeling=!1)}).call(m,le,!0)}Ee.attr("transform",function(We){return n(We.size.l,We.size.t)});var Ve=Ee.selectAll("."+S.cn.scrollBackground).data(I.repeat,I.keyFun);Ve.enter().append("rect").classed(S.cn.scrollBackground,!0).attr("fill","none"),Ve.attr("width",function(We){return We.width}).attr("height",function(We){return We.height}),Ee.each(function(We){v.setClipUrl(k.select(this),b(le,We),le)});var Pe=Ee.selectAll("."+S.cn.yColumn).data(function(We){return We.columns},I.keyFun);Pe.enter().append("g").classed(S.cn.yColumn,!0),Pe.exit().remove(),Pe.attr("transform",function(We){return n(We.x,0)}),de&&Pe.call(k.behavior.drag().origin(function(We){return z(k.select(this),We,-S.uplift),r(this),We.calcdata.columnDragInProgress=!0,m(Ee.filter(function(lt){return We.calcdata.key===lt.key}),le),We}).on("drag",function(We){var je=k.select(this),lt=function(St){return(We===St?k.event.x:St.x)+St.columnWidth/2};We.x=Math.max(-S.overdrag,Math.min(We.calcdata.width+S.overdrag-We.columnWidth,k.event.x)),A(Pe).filter(function(St){return St.calcdata.key===We.calcdata.key}).sort(function(St,Ct){return lt(St)-lt(Ct)}).forEach(function(St,Ct){St.xIndex=Ct,St.x=We===St?St.x:St.xScale(St)}),Pe.filter(function(St){return We!==St}).transition().ease(S.transitionEase).duration(S.transitionDuration).attr("transform",function(St){return n(St.x,0)}),je.call(c).attr("transform",n(We.x,-S.uplift))}).on("dragend",function(We){var je=k.select(this),lt=We.calcdata;We.x=We.xScale(We),We.calcdata.columnDragInProgress=!1,z(je,We,0),function F($,le,se){var de=le.gdColumnsOriginalOrder;le.gdColumns.sort(function(we,Ee){return se[de.indexOf(we)]-se[de.indexOf(Ee)]}),le.columnorder=se,$.emit("plotly_restyle")}(le,lt,lt.columns.map(function(vt){return vt.xIndex}))})),Pe.each(function(We){v.setClipUrl(k.select(this),p(le,We),le)});var Ce=Pe.selectAll("."+S.cn.columnBlock).data(f.splitToPanels,I.keyFun);Ce.enter().append("g").classed(S.cn.columnBlock,!0).attr("id",function(We){return We.key}),Ce.style("cursor",function(We){return We.dragHandle?"ew-resize":We.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Ie=Ce.filter(H),Je=Ce.filter(V);de&&Je.call(k.behavior.drag().origin(function(We){return k.event.stopPropagation(),We}).on("drag",ee(le,Ee,-1)).on("dragend",function(){})),u(le,Ee,Ie,Ce),u(le,Ee,Je,Ce);var Qe=Ee.selectAll("."+S.cn.scrollAreaClip).data(I.repeat,I.keyFun);Qe.enter().append("clipPath").classed(S.cn.scrollAreaClip,!0).attr("id",function(We){return b(le,We)});var ze=Qe.selectAll("."+S.cn.scrollAreaClipRect).data(I.repeat,I.keyFun);ze.enter().append("rect").classed(S.cn.scrollAreaClipRect,!0).attr("x",-S.overdrag).attr("y",-S.uplift).attr("fill","none"),ze.attr("width",function(We){return We.width+2*S.overdrag}).attr("height",function(We){return We.height+S.uplift}),Pe.selectAll("."+S.cn.columnBoundary).data(I.repeat,I.keyFun).enter().append("g").classed(S.cn.columnBoundary,!0);var ut=Pe.selectAll("."+S.cn.columnBoundaryClippath).data(I.repeat,I.keyFun);ut.enter().append("clipPath").classed(S.cn.columnBoundaryClippath,!0),ut.attr("id",function(We){return p(le,We)});var ot=ut.selectAll("."+S.cn.columnBoundaryRect).data(I.repeat,I.keyFun);ot.enter().append("rect").classed(S.cn.columnBoundaryRect,!0).attr("fill","none"),ot.attr("width",function(We){return We.columnWidth+2*d(We)}).attr("height",function(We){return We.calcdata.height+2*d(We)+S.uplift}).attr("x",function(We){return-d(We)}).attr("y",function(We){return-d(We)}),Y(null,Je,Ee)}},45802:function(oe,J,t){"use strict";var S=t(5386).fF,k=t(5386).si,l=t(50693),R=t(27670).Y,I=t(34e3),v=t(57564),w=t(43473),r=t(1426).extendFlat,n=t(79952).u;oe.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:n,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},l("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},I.textfont,{}),editType:"calc"},text:I.text,textinfo:v.textinfo,texttemplate:k({editType:"plot"},{keys:w.eventDataKeys.concat(["label","value"])}),hovertext:I.hovertext,hoverinfo:v.hoverinfo,hovertemplate:S({},{keys:w.eventDataKeys}),textfont:I.textfont,insidetextfont:I.insidetextfont,outsidetextfont:r({},I.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:I.sort,root:v.root,domain:R({name:"treemap",trace:!0,editType:"calc"})}},78018:function(oe,J,t){"use strict";var S=t(74875);J.name="treemap",J.plot=function(k,l,R,I){S.plotBasePlot(J.name,k,l,R,I)},J.clean=function(k,l,R,I){S.cleanBasePlot(J.name,k,l,R,I)}},65039:function(oe,J,t){"use strict";var S=t(52147);J.y=function(k,l){return S.calc(k,l)},J.T=function(k){return S._runCrossTraceCalc("treemap",k)}},43473:function(oe){"use strict";oe.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(oe,J,t){"use strict";var S=t(71828),k=t(45802),l=t(7901),R=t(27670).c,I=t(90769).handleText,v=t(97313).TEXTPAD,w=t(37434).handleMarkerDefaults,r=t(21081),n=r.hasColorscale,c=r.handleDefaults;oe.exports=function(f,h,d,b){function p(i,D){return S.coerce(f,h,k,i,D)}var A=p("labels"),m=p("parents");if(A&&A.length&&m&&m.length){var u=p("values");p(u&&u.length?"branchvalues":"count"),p("level"),p("maxdepth"),"squarify"===p("tiling.packing")&&p("tiling.squarifyratio"),p("tiling.flip"),p("tiling.pad");var C=p("text");p("texttemplate"),h.texttemplate||p("textinfo",Array.isArray(C)?"text+label":"label"),p("hovertext"),p("hovertemplate");var T=p("pathbar.visible");I(f,h,b,p,"auto",{hasPathbar:T,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),p("textposition");var x=-1!==h.textposition.indexOf("bottom");w(f,h,b,p),(h._hasColorscale=n(f,"marker","colors")||(f.marker||{}).coloraxis)?c(f,h,b,p,{prefix:"marker.",cLetter:"c"}):p("marker.depthfade",!(h.marker.colors||[]).length);var M=2*h.textfont.size;p("marker.pad.t",x?M/4:M),p("marker.pad.l",M/4),p("marker.pad.r",M/4),p("marker.pad.b",x?M:M/4),p("marker.cornerradius"),h._hovered={marker:{line:{width:2,color:l.contrast(b.paper_bgcolor)}}},T&&(p("pathbar.thickness",h.pathbar.textfont.size+2*v),p("pathbar.side"),p("pathbar.edgeshape")),p("sort"),p("root.color"),R(h,b,p),h._length=null}else h.visible=!1}},80694:function(oe,J,t){"use strict";var S=t(39898),k=t(2791),R=t(72597).clearMinTextSize,I=t(16688).resizeText,v=t(46650);oe.exports=function(r,n,c,o,f){var A,m,h=f.type,d=f.drawDescendants,b=r._fullLayout,p=b["_"+h+"layer"],u=!c;R(h,b),(A=p.selectAll("g.trace."+h).data(n,function(C){return C[0].trace.uid})).enter().append("g").classed("trace",!0).classed(h,!0),A.order(),!b.uniformtext.mode&&k.hasTransition(c)?(o&&(m=o()),S.transition().duration(c.duration).ease(c.easing).each("end",function(){m&&m()}).each("interrupt",function(){m&&m()}).each(function(){p.selectAll("g.trace").each(function(C){v(r,C,this,c,d)})})):(A.each(function(C){v(r,C,this,c,d)}),b.uniformtext.mode&&I(r,p.selectAll(".trace"),h)),u&&A.exit().remove()}},66209:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(91424),R=t(63893),I=t(37210),v=t(96362).styleOne,w=t(43473),r=t(2791),n=t(83523),c=!0;oe.exports=function(f,h,d,b,p){var A=p.barDifY,m=p.width,u=p.height,g=p.viewX,C=p.viewY,T=p.pathSlice,L=p.toMoveInsideSlice,x=p.strTransform,E=p.hasTransition,M=p.handleSlicesExit,i=p.makeUpdateSliceInterpolator,D=p.makeUpdateTextInterpolator,y={},B=f._context.staticPlot,F=f._fullLayout,_=h[0],z=_.trace,V=_.hierarchy,H=m/z._entryDepth,U=r.listPath(d.data,"id"),G=I(V.copy(),[m,u],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(G=G.filter(function(ee){var ue=U.indexOf(ee.data.id);return-1!==ue&&(ee.x0=H*ue,ee.x1=H*(ue+1),ee.y0=A,ee.y1=A+u,ee.onPathbar=!0,!0)})).reverse(),(b=b.data(G,r.getPtId)).enter().append("g").classed("pathbar",!0),M(b,c,y,[m,u],T),b.order();var Y=b;E&&(Y=Y.transition().each("end",function(){var ee=S.select(this);r.setSliceCursor(ee,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(ee){ee._x0=g(ee.x0),ee._x1=g(ee.x1),ee._y0=C(ee.y0),ee._y1=C(ee.y1),ee._hoverX=g(ee.x1-Math.min(m,u)/2),ee._hoverY=C(ee.y1-u/2);var ue=S.select(this),ce=k.ensureSingle(ue,"path","surface",function(K){K.style("pointer-events",B?"none":"all")});E?ce.transition().attrTween("d",function(K){var Z=i(K,c,y,[m,u]);return function(q){return T(Z(q))}}):ce.attr("d",T),ue.call(n,d,f,h,{styleOne:v,eventDataKeys:w.eventDataKeys,transitionTime:w.CLICK_TRANSITION_TIME,transitionEasing:w.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:f._transitioning}),ce.call(v,ee,z,f,{hovered:!1}),ee._text=(r.getPtLabel(ee)||"").split("<br>").join(" ")||"";var pe=k.ensureSingle(ue,"g","slicetext"),te=k.ensureSingle(pe,"text","",function(K){K.attr("data-notex",1)}),Q=k.ensureUniformFontSize(f,r.determineTextFont(z,ee,F.font,{onPathbar:!0}));te.text(ee._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(l.font,Q).call(R.convertToTspans,f),ee.textBB=l.bBox(te.node()),ee.transform=L(ee,{fontSize:Q.size,onPathbar:!0}),ee.transform.fontSize=Q.size,E?te.transition().attrTween("transform",function(K){var Z=D(K,c,y,[m,u]);return function(q){return x(Z(q))}}):te.attr("transform",x(ee))})}},52583:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(91424),R=t(63893),I=t(37210),v=t(96362).styleOne,w=t(43473),r=t(2791),n=t(83523),c=t(24714).formatSliceLabel,o=!1;oe.exports=function(h,d,b,p,A){var m=A.width,u=A.height,g=A.viewX,C=A.viewY,T=A.pathSlice,L=A.toMoveInsideSlice,x=A.strTransform,E=A.hasTransition,M=A.handleSlicesExit,i=A.makeUpdateSliceInterpolator,D=A.makeUpdateTextInterpolator,y=A.prevEntry,F=h._context.staticPlot,_=h._fullLayout,V=d[0].trace,H=-1!==V.textposition.indexOf("left"),U=-1!==V.textposition.indexOf("right"),G=-1!==V.textposition.indexOf("bottom"),Y=!G&&!V.marker.pad.t||G&&!V.marker.pad.b,ue=I(b,[m,u],{packing:V.tiling.packing,squarifyratio:V.tiling.squarifyratio,flipX:V.tiling.flip.indexOf("x")>-1,flipY:V.tiling.flip.indexOf("y")>-1,pad:{inner:V.tiling.pad,top:V.marker.pad.t,left:V.marker.pad.l,right:V.marker.pad.r,bottom:V.marker.pad.b}}).descendants(),ce=1/0,pe=-1/0;ue.forEach(function(q){var fe=q.depth;fe>=V._maxDepth?(q.x0=q.x1=(q.x0+q.x1)/2,q.y0=q.y1=(q.y0+q.y1)/2):(ce=Math.min(ce,fe),pe=Math.max(pe,fe))}),p=p.data(ue,r.getPtId),V._maxVisibleLayers=isFinite(pe)?pe-ce+1:0,p.enter().append("g").classed("slice",!0),M(p,o,{},[m,u],T),p.order();var te=null;if(E&&y){var Q=r.getPtId(y);p.each(function(q){null===te&&r.getPtId(q)===Q&&(te={x0:q.x0,x1:q.x1,y0:q.y0,y1:q.y1})})}var K=function(){return te||{x0:0,x1:m,y0:0,y1:u}},Z=p;return E&&(Z=Z.transition().each("end",function(){var q=S.select(this);r.setSliceCursor(q,h,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function(q){var fe=r.isHeader(q,V);q._x0=g(q.x0),q._x1=g(q.x1),q._y0=C(q.y0),q._y1=C(q.y1),q._hoverX=g(q.x1-V.marker.pad.r),q._hoverY=C(G?q.y1-V.marker.pad.b/2:q.y0+V.marker.pad.t/2);var re=S.select(this),$=k.ensureSingle(re,"path","surface",function(we){we.style("pointer-events",F?"none":"all")});E?$.transition().attrTween("d",function(we){var Ee=i(we,o,K(),[m,u]);return function(Me){return T(Ee(Me))}}):$.attr("d",T),re.call(n,b,h,d,{styleOne:v,eventDataKeys:w.eventDataKeys,transitionTime:w.CLICK_TRANSITION_TIME,transitionEasing:w.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,h,{isTransitioning:h._transitioning}),$.call(v,q,V,h,{hovered:!1}),q._text=q.x0===q.x1||q.y0===q.y1?"":fe?Y?"":r.getPtLabel(q)||"":c(q,b,V,d,_)||"";var le=k.ensureSingle(re,"g","slicetext"),se=k.ensureSingle(le,"text","",function(we){we.attr("data-notex",1)}),de=k.ensureUniformFontSize(h,r.determineTextFont(V,q,_.font));se.text(q._text||" ").classed("slicetext",!0).attr("text-anchor",U?"end":H||fe?"start":"middle").call(l.font,de).call(R.convertToTspans,h),q.textBB=l.bBox(se.node()),q.transform=L(q,{fontSize:de.size,isHeader:fe}),q.transform.fontSize=de.size,E?se.transition().attrTween("transform",function(we){var Ee=D(we,o,K(),[m,u]);return function(Me){return x(Ee(Me))}}):se.attr("transform",x(q))}),te}},14102:function(oe){"use strict";oe.exports=function J(t,S,k){var l;k.swapXY&&(l=t.x0,t.x0=t.y0,t.y0=l,l=t.x1,t.x1=t.y1,t.y1=l),k.flipX&&(l=t.x0,t.x0=S[0]-t.x1,t.x1=S[0]-l),k.flipY&&(l=t.y0,t.y0=S[1]-t.y1,t.y1=S[1]-l);var R=t.children;if(R)for(var I=0;I<R.length;I++)J(R[I],S,k)}},70954:function(oe,J,t){"use strict";oe.exports={moduleType:"trace",name:"treemap",basePlotModule:t(78018),categories:[],animatable:!0,attributes:t(45802),layoutAttributes:t(55479),supplyDefaults:t(91174),supplyLayoutDefaults:t(77182),calc:t(65039).y,crossTraceCalc:t(65039).T,plot:t(5893),style:t(96362).style,colorbar:t(4898),meta:{}}},55479:function(oe){"use strict";oe.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(oe,J,t){"use strict";var S=t(71828),k=t(55479);oe.exports=function(R,I){function v(w,r){return S.coerce(R,I,k,w,r)}v("treemapcolorway",I.colorway),v("extendtreemapcolors")}},37210:function(oe,J,t){"use strict";var S=t(674),k=t(14102);oe.exports=function(I,v,w){var b,r=w.flipX,n=w.flipY,c="dice-slice"===w.packing,o=w.pad[n?"bottom":"top"],f=w.pad[r?"right":"left"],h=w.pad[r?"left":"right"],d=w.pad[n?"top":"bottom"];c&&(b=f,f=o,o=b,b=h,h=d,d=b);var p=S.treemap().tile(function l(R,I){switch(R){case"squarify":return S.treemapSquarify.ratio(I);case"binary":return S.treemapBinary;case"dice":return S.treemapDice;case"slice":return S.treemapSlice;default:return S.treemapSliceDice}}(w.packing,w.squarifyratio)).paddingInner(w.pad.inner).paddingLeft(f).paddingRight(h).paddingTop(o).paddingBottom(d).size(c?[v[1],v[0]]:v)(I);return(c||r||n)&&k(p,v,{swapXY:c,flipX:r,flipY:n}),p}},5893:function(oe,J,t){"use strict";var S=t(80694),k=t(52583);oe.exports=function(R,I,v,w){return S(R,I,v,w,{type:"treemap",drawDescendants:k})}},46650:function(oe,J,t){"use strict";var S=t(39898),k=t(81684).sX,l=t(2791),R=t(71828),I=t(97313).TEXTPAD,w=t(17295).toMoveInsideBar,n=t(72597).recordMinTextSize,c=t(43473),o=t(66209);function f(h){return l.isHierarchyRoot(h)?"":l.getPtId(h)}oe.exports=function(d,b,p,A,m){var u=d._fullLayout,g=b[0],C=g.trace,L="icicle"===C.type,x=g.hierarchy,E=l.findEntryWithLevel(x,C.level),M=S.select(p),i=M.selectAll("g.pathbar"),D=M.selectAll("g.slice");if(!E)return i.remove(),void D.remove();var y=l.isHierarchyRoot(E),B=!u.uniformtext.mode&&l.hasTransition(A),F=l.getMaxDepth(C),z=u._size,V=C.domain,H=z.w*(V.x[1]-V.x[0]),U=z.h*(V.y[1]-V.y[0]),G=H,Y=C.pathbar.thickness,ee=C.marker.line.width+c.gapWithPathbar,ue=C.pathbar.visible?C.pathbar.side.indexOf("bottom")>-1?U+ee:-(Y+ee):0,ce={x0:G,x1:G,y0:ue,y1:ue+Y},pe=function(nt,ke,Re){var Be=C.tiling.pad,He=function(ge){return ge-Be<=ke.x0},Ye=function(ge){return ge+Be>=ke.x1},Ue=function(ge){return ge-Be<=ke.y0},De=function(ge){return ge+Be>=ke.y1};return nt.x0===ke.x0&&nt.x1===ke.x1&&nt.y0===ke.y0&&nt.y1===ke.y1?{x0:nt.x0,x1:nt.x1,y0:nt.y0,y1:nt.y1}:{x0:He(nt.x0-Be)?0:Ye(nt.x0-Be)?Re[0]:nt.x0,x1:He(nt.x1+Be)?0:Ye(nt.x1+Be)?Re[0]:nt.x1,y0:Ue(nt.y0-Be)?0:De(nt.y0-Be)?Re[1]:nt.y0,y1:Ue(nt.y1+Be)?0:De(nt.y1+Be)?Re[1]:nt.y1}},te=null,Q={},K={},Z=null,q=function(nt,ke){return ke?Q[f(nt)]:K[f(nt)]},fe=function(nt,ke,Re,Be){if(ke)return Q[f(x)]||ce;var He=K[C.level]||Re;return function(nt){return nt.data.depth-E.data.depth<F}(nt)?pe(nt,He,Be):{}};g.hasMultipleRoots&&y&&F++,C._maxDepth=F,C._backgroundColor=u.paper_bgcolor,C._entryDepth=E.data.depth,C._atRootLevel=y;var re=-H/2+z.l+z.w*(V.x[1]+V.x[0])/2,$=-U/2+z.t+z.h*(1-(V.y[1]+V.y[0])/2),le=function(nt){return re+nt},se=function(nt){return $+nt},de=se(0),we=le(0),Ee=function(nt){return we+nt},Me=function(nt){return de+nt};function Ne(nt,ke){return nt+","+ke}var Ve=Ee(0),Pe=function(nt){nt.x=Math.max(Ve,nt.x)},Ce=C.pathbar.edgeshape,Je=C[L?"tiling":"marker"].pad,Qe=function(nt){return-1!==C.textposition.indexOf(nt)},ze=Qe("top"),Ke=Qe("left"),ut=Qe("right"),ot=Qe("bottom"),je=function(nt,ke){var Re=nt.x0,Be=nt.x1,He=nt.y0,Ye=nt.y1,Ue=nt.textBB,ge=ze||ke.isHeader&&!ot?"start":ot?"end":"middle",Te=Qe("right"),_e=Qe("left")||ke.onPathbar;if(ke.isHeader){if((Re+=(L?Je:Je.l)-I)>=(Be-=(L?Je:Je.r)-I)){var ft=(Re+Be)/2;Re=ft,Be=ft}var gt;ot?He<(gt=Ye-(L?Je:Je.b))&&gt<Ye&&(He=gt):He<(gt=He+(L?Je:Je.t))&&gt<Ye&&(Ye=gt)}var Kt=w(Re,Be,He,Ye,Ue,{isHorizontal:!1,constrained:!0,angle:0,anchor:ge,leftToRight:_e?-1:Te?1:0});return Kt.fontSize=ke.fontSize,Kt.targetX=le(Kt.targetX),Kt.targetY=se(Kt.targetY),isNaN(Kt.targetX)||isNaN(Kt.targetY)?{}:(Re!==Be&&He!==Ye&&n(C.type,Kt,u),{scale:Kt.scale,rotate:Kt.rotate,textX:Kt.textX,textY:Kt.textY,anchorX:Kt.anchorX,anchorY:Kt.anchorY,targetX:Kt.targetX,targetY:Kt.targetY})},lt=function(nt,ke){for(var Re,Be=0,He=nt;!Re&&Be<F;)Be++,(He=He.parent)?Re=q(He,ke):Be=F;return Re||{}},pt=function(nt,ke,Re,Be,He){var Ue,Ye=q(nt,ke);if(Ye)Ue=Ye;else if(ke)Ue=ce;else if(te)if(nt.parent){var De=Z||Re;De&&!ke?Ue=pe(nt,De,Be):R.extendFlat(Ue={},lt(nt,ke))}else Ue=R.extendFlat({},nt),L&&("h"===He.orientation?He.flipX?Ue.x0=nt.x1:Ue.x1=0:He.flipY?Ue.y0=nt.y1:Ue.y1=0);else Ue={};return k(Ue,{x0:nt.x0,x1:nt.x1,y0:nt.y0,y1:nt.y1})},St=function(nt,ke,Re,Be){var He=q(nt,ke),Ye={},Ue=fe(nt,ke,Re,Be);R.extendFlat(Ye,{transform:je({x0:Ue.x0,x1:Ue.x1,y0:Ue.y0,y1:Ue.y1,textBB:nt.textBB,_text:nt._text},{isHeader:l.isHeader(nt,C)})}),He?Ye=He:nt.parent&&R.extendFlat(Ye,lt(nt,ke));var De=nt.transform;return nt.x0!==nt.x1&&nt.y0!==nt.y1&&n(C.type,De,u),k(Ye,{transform:{scale:De.scale,rotate:De.rotate,textX:De.textX,textY:De.textY,anchorX:De.anchorX,anchorY:De.anchorY,targetX:De.targetX,targetY:De.targetY}})},Ct=function(nt,ke,Re,Be,He){var Ye=Be[0],Ue=Be[1];B?nt.exit().transition().each(function(){var De=S.select(this);De.select("path.surface").transition().attrTween("d",function(_e){var et=function(nt,ke,Re,Be){var Ye,He=q(nt,ke);if(ke)Ye=ce;else{var Ue=q(E,ke);Ye=Ue?pe(nt,Ue,Be):{}}return k(He,Ye)}(_e,ke,0,[Ye,Ue]);return function(ft){return He(et(ft))}}),De.select("g.slicetext").attr("opacity",0)}).remove():nt.exit().remove()},_t=function(nt){var ke=nt.transform;return nt.x0!==nt.x1&&nt.y0!==nt.y1&&n(C.type,ke,u),R.getTextTransform({textX:ke.textX,textY:ke.textY,anchorX:ke.anchorX,anchorY:ke.anchorY,targetX:ke.targetX,targetY:ke.targetY,scale:ke.scale,rotate:ke.rotate})};B&&(i.each(function(nt){Q[f(nt)]={x0:nt.x0,x1:nt.x1,y0:nt.y0,y1:nt.y1},nt.transform&&(Q[f(nt)].transform={textX:nt.transform.textX,textY:nt.transform.textY,anchorX:nt.transform.anchorX,anchorY:nt.transform.anchorY,targetX:nt.transform.targetX,targetY:nt.transform.targetY,scale:nt.transform.scale,rotate:nt.transform.rotate})}),D.each(function(nt){K[f(nt)]={x0:nt.x0,x1:nt.x1,y0:nt.y0,y1:nt.y1},nt.transform&&(K[f(nt)].transform={textX:nt.transform.textX,textY:nt.transform.textY,anchorX:nt.transform.anchorX,anchorY:nt.transform.anchorY,targetX:nt.transform.targetX,targetY:nt.transform.targetY,scale:nt.transform.scale,rotate:nt.transform.rotate}),!te&&l.isEntry(nt)&&(te=nt)})),Z=m(d,b,E,D,{width:H,height:U,viewX:le,viewY:se,pathSlice:function(nt){var ke=le(nt.x0),Re=le(nt.x1),Be=se(nt.y0),He=se(nt.y1),Ye=Re-ke,Ue=He-Be;if(!Ye||!Ue)return"";var ge=Math.min(C.marker.cornerradius||0,Ye/2,Ue/2);ge&&nt.data&&nt.data.data&&nt.data.data.label&&(ze&&(ge=Math.min(ge,Je.t)),Ke&&(ge=Math.min(ge,Je.l)),ut&&(ge=Math.min(ge,Je.r)),ot&&(ge=Math.min(ge,Je.b)));var Te=function(_e,et){return ge?"a"+Ne(ge,ge)+" 0 0 1 "+Ne(_e,et):""};return"M"+Ne(ke,Be+ge)+Te(ge,-ge)+"L"+Ne(Re-ge,Be)+Te(ge,ge)+"L"+Ne(Re,He-ge)+Te(-ge,ge)+"L"+Ne(ke+ge,He)+Te(-ge,-ge)+"Z"},toMoveInsideSlice:je,prevEntry:te,makeUpdateSliceInterpolator:pt,makeUpdateTextInterpolator:St,handleSlicesExit:Ct,hasTransition:B,strTransform:_t}),C.pathbar.visible?o(d,b,E,i,{barDifY:ue,width:G,height:Y,viewX:Ee,viewY:Me,pathSlice:function(nt){var ke=Ee(Math.max(Math.min(nt.x0,nt.x0),0)),Re=Ee(Math.min(Math.max(nt.x1,nt.x1),G)),Be=Me(nt.y0),He=Me(nt.y1),Ye=Y/2,Ue={},De={};Ue.x=ke,De.x=Re,Ue.y=De.y=(Be+He)/2;var ge={x:ke,y:Be},Te={x:Re,y:Be},_e={x:Re,y:He},et={x:ke,y:He};return">"===Ce?(ge.x-=Ye,Te.x-=Ye,_e.x-=Ye,et.x-=Ye):"/"===Ce?(_e.x-=Ye,et.x-=Ye,Ue.x-=Ye/2,De.x-=Ye/2):"\\"===Ce?(ge.x-=Ye,Te.x-=Ye,Ue.x-=Ye/2,De.x-=Ye/2):"<"===Ce&&(Ue.x-=Ye,De.x-=Ye),Pe(ge),Pe(et),Pe(Ue),Pe(Te),Pe(_e),Pe(De),"M"+Ne(ge.x,ge.y)+"L"+Ne(Te.x,Te.y)+"L"+Ne(De.x,De.y)+"L"+Ne(_e.x,_e.y)+"L"+Ne(et.x,et.y)+"L"+Ne(Ue.x,Ue.y)+"Z"},toMoveInsideSlice:je,makeUpdateSliceInterpolator:pt,makeUpdateTextInterpolator:St,handleSlicesExit:Ct,hasTransition:B,strTransform:_t}):i.remove()}},96362:function(oe,J,t){"use strict";var S=t(39898),k=t(7901),l=t(71828),R=t(2791),I=t(72597).resizeText,v=t(43467);function r(n,c,o,f,h){var A,m,d=(h||{}).hovered,b=c.data.data,p=b.i,u=b.color,g=R.isHierarchyRoot(c),C=1;if(d)A=o._hovered.marker.line.color,m=o._hovered.marker.line.width;else if(g&&u===o.root.color)C=100,A="rgba(0,0,0,0)",m=0;else if(A=l.castOption(o,p,"marker.line.color")||k.defaultLine,m=l.castOption(o,p,"marker.line.width")||0,!o._hasColorscale&&!c.onPathbar){var T=o.marker.depthfade;if(T){var x,L=k.combine(k.addOpacity(o._backgroundColor,.75),u);if(!0===T){var E=R.getMaxDepth(o);x=isFinite(E)?R.isLeaf(c)?0:o._maxVisibleLayers-(c.data.depth-o._entryDepth):c.data.height+1}else x=c.data.depth-o._entryDepth,o._atRootLevel||x++;if(x>0)for(var M=0;M<x;M++)u=k.combine(k.addOpacity(L,.5*M/x),u)}}n.call(v,c,o,f,u).style("stroke-width",m).call(k.stroke,A).style("opacity",C)}oe.exports={style:function w(n){var c=n._fullLayout._treemaplayer.selectAll(".trace");I(n,c,"treemap"),c.each(function(o){var f=S.select(this),d=o[0].trace;f.style("opacity",d.opacity),f.selectAll("path.surface").each(function(b){S.select(this).call(r,b,d,n,{hovered:!1})})})},styleOne:r}},68875:function(oe,J,t){"use strict";var S=t(53522),k=t(1426).extendFlat,l=t(12663).axisHoverFormat;oe.exports={y:S.y,x:S.x,x0:S.x0,y0:S.y0,xhoverformat:l("x"),yhoverformat:l("y"),name:k({},S.name,{}),orientation:k({},S.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:S.fillcolor,points:k({},S.boxpoints,{}),jitter:k({},S.jitter,{}),pointpos:k({},S.pointpos,{}),width:k({},S.width,{}),marker:S.marker,text:S.text,hovertext:S.hovertext,hovertemplate:S.hovertemplate,quartilemethod:S.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:S.offsetgroup,alignmentgroup:S.alignmentgroup,selected:S.selected,unselected:S.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(oe,J,t){"use strict";var S=t(71828),k=t(89298),l=t(48518),R=t(60168),I=t(50606).BADNUM;function w(n,c,o){var f=c.max-c.min;if(!f)return n.bandwidth?n.bandwidth:0;if(n.bandwidth)return Math.max(n.bandwidth,f/1e4);var h=o.length,d=S.stdev(o,h-1,c.mean);return Math.max(function v(n,c,o){return 1.059*Math.min(c,o/1.349)*Math.pow(n,-.2)}(h,d,c.q3-c.q1),f/100)}function r(n,c,o,f){var A,h=n.spanmode,d=n.span||[],p=[c.min-2*f,c.max+2*f];function m(g){var C=d[g],T="multicategory"===o.type?o.r2c(C):o.d2c(C,0,n[c.valLetter+"calendar"]);return T===I?p[g]:T}var u={type:"linear",range:A="soft"===h?p:"hard"===h?[c.min,c.max]:[m(0),m(1)]};return k.setConvert(u),u.cleanRange(),A}oe.exports=function(c,o){var f=l(c,o);if(f[0].t.empty)return f;for(var h=c._fullLayout,d=k.getFromId(c,o["h"===o.orientation?"xaxis":"yaxis"]),b=1/0,p=-1/0,A=0,m=0,u=0;u<f.length;u++){var g=f[u],C=g.pts.map(R.extractVal),T=g.bandwidth=w(o,g,C),L=g.span=r(o,g,d,T);if(g.min===g.max&&0===T)L=g.span=[g.min,g.max],g.density=[{v:1,t:L[0]}],g.bandwidth=T,A=Math.max(A,1);else{var x=L[1]-L[0],E=Math.ceil(x/(T/3)),M=x/E;if(!isFinite(M)||!isFinite(E))return S.error("Something went wrong with computing the violin span"),f[0].t.empty=!0,f;var i=R.makeKDE(g,o,C);g.density=new Array(E);for(var D=0,y=L[0];y<L[1]+M/2;D++,y+=M){var B=i(y);g.density[D]={v:B,t:y},A=Math.max(A,B)}}m=Math.max(m,C.length),b=Math.min(b,L[0]),p=Math.max(p,L[1])}var F=k.findExtremes(d,[b,p],{padded:!0});if(o._extremes[d._id]=F,o.width)f[0].t.maxKDE=A;else{var _=h._violinScaleGroupStats,z=o.scalegroup,V=_[z];V?(V.maxKDE=Math.max(V.maxKDE,A),V.maxCount=Math.max(V.maxCount,m)):_[z]={maxKDE:A,maxCount:m}}return f[0].t.labels.kde=S._(c,"kde:"),f}},86403:function(oe,J,t){"use strict";var S=t(37188).setPositionOffset,k=["v","h"];oe.exports=function(R,I){for(var v=R.calcdata,w=I.xaxis,r=I.yaxis,n=0;n<k.length;n++){for(var c=k[n],o="h"===c?r:w,f=[],h=0;h<v.length;h++){var d=v[h],p=d[0].trace;!0===p.visible&&"violin"===p.type&&!d[0].t.empty&&p.orientation===c&&p.xaxis===w._id&&p.yaxis===r._id&&f.push(h)}S("violin",R,f,o)}}},15899:function(oe,J,t){"use strict";var S=t(71828),k=t(7901),l=t(36411),R=t(68875);oe.exports=function(v,w,r,n){function c(M,i){return S.coerce(v,w,R,M,i)}function o(M,i){return S.coerce2(v,w,R,M,i)}if(l.handleSampleDefaults(v,w,c,n),!1!==w.visible){c("bandwidth"),c("side"),c("width")||(c("scalegroup",w.name),c("scalemode"));var d,h=c("span");Array.isArray(h)&&(d="manual"),c("spanmode",d);var b=c("line.color",(v.marker||{}).color||r),p=c("line.width"),A=c("fillcolor",k.addOpacity(w.line.color,.5));l.handlePointsDefaults(v,w,c,{prefix:""});var m=o("box.width"),u=o("box.fillcolor",A),g=o("box.line.color",b),C=o("box.line.width",p);c("box.visible",!!(m||u||g||C))||(w.box={visible:!1});var L=o("meanline.color",b),x=o("meanline.width",p);c("meanline.visible",!(!L&&!x))||(w.meanline={visible:!1}),c("quartilemethod")}}},60168:function(oe,J,t){"use strict";var S=t(71828),k_gaussian=function(l){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*l*l)};J.makeKDE=function(l,R,I){var v=I.length,w=k_gaussian,r=l.bandwidth,n=1/(v*r);return function(c){for(var o=0,f=0;f<v;f++)o+=w((c-I[f])/r);return n*o}},J.getPositionOnKdePath=function(l,R,I){var v,w;"h"===R.orientation?(v="y",w="x"):(v="x",w="y");var r=S.findPointOnPath(l.path,I,w,{pathLength:l.pathLength}),n=l.posCenterPx,c=r[v];return[c,"both"===R.side?2*n-c:n]},J.getKdeValue=function(l,R,I){var v=l.pts.map(J.extractVal);return J.makeKDE(l,R,v)(I)/l.posDensityScale},J.extractVal=function(l){return l.v}},57634:function(oe,J,t){"use strict";var S=t(7901),k=t(71828),l=t(89298),R=t(41868),I=t(60168);oe.exports=function(w,r,n,c,o){o||(o={});var u,g,f=o.hoverLayer,h=w.cd,d=h[0].trace,b=d.hoveron,p=-1!==b.indexOf("violins"),A=-1!==b.indexOf("kde"),m=[];if(p||A){var C=R.hoverOnBoxes(w,r,n,c);if(A&&C.length>0){var x,E,M,i,D,T=w.xa,L=w.ya;"h"===d.orientation?(D=r,x="y",M=L,E="x",i=T):(D=n,x="x",M=T,E="y",i=L);var y=h[w.index];if(D>=y.span[0]&&D<=y.span[1]){var B=k.extendFlat({},w),F=i.c2p(D,!0),_=I.getKdeValue(y,d,D),z=I.getPositionOnKdePath(y,d,F),V=M._offset,H=M._length;B[x+"0"]=z[0],B[x+"1"]=z[1],B[E+"0"]=B[E+"1"]=F,B[E+"Label"]=E+": "+l.hoverLabelText(i,D,d[E+"hoverformat"])+", "+h[0].t.labels.kde+" "+_.toFixed(3);for(var U=0,G=0;G<C.length;G++)if("med"===C[G].attr){U=G;break}B.spikeDistance=C[U].spikeDistance;var Y=x+"Spike";B[Y]=C[U][Y],C[U].spikeDistance=void 0,C[U][Y]=void 0,B.hovertemplate=!1,m.push(B),(g={})[x+"1"]=k.constrain(V+z[0],V,V+H),g[x+"2"]=k.constrain(V+z[1],V,V+H),g[E+"1"]=g[E+"2"]=i._offset+F}}p&&(m=m.concat(C))}-1!==b.indexOf("points")&&(u=R.hoverOnPoints(w,r,n));var ee=f.selectAll(".violinline-"+d.uid).data(g?[0]:[]);return ee.enter().append("line").classed("violinline-"+d.uid,!0).attr("stroke-width",1.5),ee.exit().remove(),ee.attr(g).call(S.stroke,w.color),"closest"===c?u?[u]:m:(u&&m.push(u),m)}},47462:function(oe,J,t){"use strict";oe.exports={attributes:t(68875),layoutAttributes:t(9228),supplyDefaults:t(15899),crossTraceDefaults:t(36411).crossTraceDefaults,supplyLayoutDefaults:t(33598),calc:t(38603),crossTraceCalc:t(86403),plot:t(28443),style:t(31847),styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(57634),selectPoints:t(24626),moduleType:"trace",name:"violin",basePlotModule:t(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(oe,J,t){"use strict";var S=t(40094),k=t(71828).extendFlat;oe.exports={violinmode:k({},S.boxmode,{}),violingap:k({},S.boxgap,{}),violingroupgap:k({},S.boxgroupgap,{})}},33598:function(oe,J,t){"use strict";var S=t(71828),k=t(9228),l=t(4199);oe.exports=function(I,v,w){l._supply(I,v,w,function r(n,c){return S.coerce(I,v,k,n,c)},"violin")}},28443:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(91424),R=t(86047),I=t(34621),v=t(60168);oe.exports=function(r,n,c,o){var f=r._context.staticPlot,h=r._fullLayout,d=n.xaxis,b=n.yaxis;function p(A,m){var u=I(A,{xaxis:d,yaxis:b,trace:m,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return l.smoothopen(u[0],1)}k.makeTraceGroups(o,c,"trace violins").each(function(A){var m=S.select(this),u=A[0],g=u.t,C=u.trace;if(!0!==C.visible||g.empty)m.remove();else{var T=g.bPos,L=g.bdPos,x=n[g.valLetter+"axis"],E=n[g.posLetter+"axis"],M="both"===C.side,i=M||"positive"===C.side,D=M||"negative"===C.side,y=m.selectAll("path.violin").data(k.identity);y.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","violin"),y.exit().remove(),y.each(function(G){var te,K,Z,q,fe,re,$,le,Y=S.select(this),ee=G.density,ue=ee.length,ce=E.c2l(G.pos+T,!0),pe=E.l2p(ce);if(C.width)te=g.maxKDE/L;else{var Q=h._violinScaleGroupStats[C.scalegroup];te="count"===C.scalemode?Q.maxKDE/L*(Q.maxCount/G.pts.length):Q.maxKDE/L}if(i){for($=new Array(ue),fe=0;fe<ue;fe++)(le=$[fe]={})[g.posLetter]=ce+ee[fe].v/te,le[g.valLetter]=x.c2l(ee[fe].t,!0);K=p($,C)}if(D){for($=new Array(ue),re=0,fe=ue-1;re<ue;re++,fe--)(le=$[re]={})[g.posLetter]=ce-ee[fe].v/te,le[g.valLetter]=x.c2l(ee[fe].t,!0);Z=p($,C)}if(M)q=K+"L"+Z.substr(1)+"Z";else{var se=[pe,x.c2p(ee[0].t)],de=[pe,x.c2p(ee[ue-1].t)];"h"===C.orientation&&(se.reverse(),de.reverse()),q=i?"M"+se+"L"+K.substr(1)+"L"+de:"M"+de+"L"+Z.substr(1)+"L"+se}Y.attr("d",q),G.posCenterPx=pe,G.posDensityScale=te*L,G.path=Y.node(),G.pathLength=G.path.getTotalLength()/(M?2:1)});var z,V,H,B=C.box,F=B.width,_=(B.line||{}).width;M?(z=L*F,V=0):i?(z=[0,L*F/2],V=_*{x:1,y:-1}[g.posLetter]):(z=[L*F/2,0],V=_*{x:-1,y:1}[g.posLetter]),R.plotBoxAndWhiskers(m,{pos:E,val:x},C,{bPos:T,bdPos:z,bPosPxOffset:V}),R.plotBoxMean(m,{pos:E,val:x},C,{bPos:T,bdPos:z,bPosPxOffset:V}),!C.box.visible&&C.meanline.visible&&(H=k.identity);var U=m.selectAll("path.meanline").data(H||[]);U.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",f?"none":"non-scaling-stroke"),U.exit().remove(),U.each(function(G){var Y=x.c2p(G.mean,!0),ee=v.getPositionOnKdePath(G,C,Y);S.select(this).attr("d","h"===C.orientation?"M"+Y+","+ee[0]+"V"+ee[1]:"M"+ee[0]+","+Y+"H"+ee[1])}),R.plotPoints(m,{x:d,y:b},C,g)}})}},31847:function(oe,J,t){"use strict";var S=t(39898),k=t(7901),l=t(16296).stylePoints;oe.exports=function(I){var v=S.select(I).selectAll("g.trace.violins");v.style("opacity",function(w){return w[0].trace.opacity}),v.each(function(w){var r=w[0].trace,n=S.select(this),c=r.box||{},o=c.line||{},f=r.meanline||{},h=f.width;n.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(k.stroke,r.line.color).call(k.fill,r.fillcolor),n.selectAll("path.box").style("stroke-width",o.width+"px").call(k.stroke,o.color).call(k.fill,c.fillcolor);var d={"stroke-width":h+"px","stroke-dasharray":2*h+"px,"+h+"px"};n.selectAll("path.mean").style(d).call(k.stroke,f.color),n.selectAll("path.meanline").style(d).call(k.stroke,f.color),l(n,r,I)})}},16336:function(oe,J,t){"use strict";var S=t(50693),k=t(16249),l=t(54532),R=t(9012),I=t(1426).extendFlat,v=t(30962).overrideAll,w=oe.exports=v(I({x:k.x,y:k.y,z:k.z,value:k.value,isomin:k.isomin,isomax:k.isomax,surface:k.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:k.slices,caps:k.caps,text:k.text,hovertext:k.hovertext,xhoverformat:k.xhoverformat,yhoverformat:k.yhoverformat,zhoverformat:k.zhoverformat,valuehoverformat:k.valuehoverformat,hovertemplate:k.hovertemplate},S("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:k.colorbar,opacity:k.opacity,opacityscale:l.opacityscale,lightposition:k.lightposition,lighting:k.lighting,flatshading:k.flatshading,contour:k.contour,hoverinfo:I({},R.hoverinfo),showlegend:I({},R.showlegend,{dflt:!1})}),"calc","nested");w.x.editType=w.y.editType=w.z.editType=w.value.editType="calc+clearAxisTypes",w.transforms=void 0},64809:function(oe,J,t){"use strict";var S=t(9330).gl_mesh3d,k=t(81697).parseColorScale,l=t(78614),R=t(21081).extractOpts,I=t(90060),v=t(22674).findNearestOnAxis,w=t(22674).generateIsoMeshes;function r(o,f,h){this.scene=o,this.uid=h,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var n=r.prototype;n.handlePick=function(o){if(o.object===this.mesh){var f=o.data.index,d=this.data._meshY[f],b=this.data._meshZ[f],p=this.data._Ys.length,A=this.data._Zs.length,m=v(this.data._meshX[f],this.data._Xs).id,u=v(d,this.data._Ys).id,g=v(b,this.data._Zs).id,C=o.index=g+A*u+A*p*m;o.traceCoordinate=[this.data._meshX[C],this.data._meshY[C],this.data._meshZ[C],this.data._value[C]];var T=this.data.hovertext||this.data.text;return Array.isArray(T)&&void 0!==T[C]?o.textLabel=T[C]:T&&(o.textLabel=T),!0}},n.update=function(o){var f=this.scene,h=f.fullSceneLayout;function d(u,g,C,T){return g.map(function(L){return u.d2l(L,0,T)*C})}this.data=w(o);var A={positions:I(d(h.xaxis,o._meshX,f.dataScale[0],o.xcalendar),d(h.yaxis,o._meshY,f.dataScale[1],o.ycalendar),d(h.zaxis,o._meshZ,f.dataScale[2],o.zcalendar)),cells:I(o._meshI,o._meshJ,o._meshK),lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,opacityscale:o.opacityscale,contourEnable:o.contour.show,contourColor:l(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},m=R(o);A.vertexIntensity=o._meshIntensity,A.vertexIntensityBounds=[m.min,m.max],A.colormap=k(o),this.mesh.update(A)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},oe.exports=function c(o,f){var d=S({gl:o.glplot.gl}),b=new r(o,d,f.uid);return d._trace=b,b.update(f),o.glplot.add(d),b}},47651:function(oe,J,t){"use strict";var S=t(71828),k=t(16336),l=t(82738).supplyIsoDefaults,R=t(91831).opacityscaleDefaults;oe.exports=function(v,w,r,n){function c(o,f){return S.coerce(v,w,k,o,f)}l(v,w,r,n,c),R(v,w,n,c)}},17659:function(oe,J,t){"use strict";oe.exports={attributes:t(16336),supplyDefaults:t(47651),calc:t(56959),colorbar:{min:"cmin",max:"cmax"},plot:t(64809),moduleType:"trace",name:"volume",basePlotModule:t(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(oe,J,t){"use strict";var S=t(1486),k=t(82196).line,l=t(9012),R=t(12663).axisHoverFormat,I=t(5386).fF,v=t(5386).si,w=t(48334),r=t(1426).extendFlat,n=t(7901);function c(o){return{marker:{color:r({},S.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},S.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},S.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}oe.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:S.x,x0:S.x0,dx:S.dx,y:S.y,y0:S.y0,dy:S.dy,xperiod:S.xperiod,yperiod:S.yperiod,xperiod0:S.xperiod0,yperiod0:S.yperiod0,xperiodalignment:S.xperiodalignment,yperiodalignment:S.yperiodalignment,xhoverformat:R("x"),yhoverformat:R("y"),hovertext:S.hovertext,hovertemplate:I({},{keys:w.eventDataKeys}),hoverinfo:r({},l.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:w.eventDataKeys.concat(["label"])}),text:S.text,textposition:S.textposition,insidetextanchor:S.insidetextanchor,textangle:S.textangle,textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:S.outsidetextfont,constraintext:S.constraintext,cliponaxis:S.cliponaxis,orientation:S.orientation,offset:S.offset,width:S.width,increasing:c(),decreasing:c(),totals:c(),connector:{line:{color:r({},k.color,{dflt:n.defaultLine}),width:r({},k.width,{editType:"plot"}),dash:k.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:S.offsetgroup,alignmentgroup:S.alignmentgroup}},52752:function(oe,J,t){"use strict";var S=t(89298),k=t(42973),l=t(71828).mergeArray,R=t(66279),I=t(50606).BADNUM;function v(r){return"a"===r||"absolute"===r}function w(r){return"t"===r||"total"===r}oe.exports=function(n,c){var h,d,b,p,A,m,o=S.getFromId(n,c.xaxis||"x"),f=S.getFromId(n,c.yaxis||"y");"h"===c.orientation?(h=o.makeCalcdata(c,"x"),b=f.makeCalcdata(c,"y"),p=k(c,f,"y",b),A=!!c.yperiodalignment,m="y"):(h=f.makeCalcdata(c,"y"),b=o.makeCalcdata(c,"x"),p=k(c,o,"x",b),A=!!c.xperiodalignment,m="x"),d=p.vals;for(var T,u=Math.min(d.length,h.length),g=new Array(u),C=0,L=!1,x=0;x<u;x++){var E=h[x]||0,M=!1;(h[x]!==I||w(c.measure[x])||v(c.measure[x]))&&x+1<u&&(h[x+1]!==I||w(c.measure[x+1])||v(c.measure[x+1]))&&(M=!0);var i=g[x]={i:x,p:d[x],s:E,rawS:E,cNext:M};v(c.measure[x])?(C=i.s,i.isSum=!0,i.dir="totals",i.s=C):w(c.measure[x])?(i.isSum=!0,i.dir="totals",i.s=C):(i.isSum=!1,i.dir=i.rawS<0?"decreasing":"increasing",i.s=C+(T=i.s),C+=T),"totals"===i.dir&&(L=!0),A&&(g[x].orig_p=b[x],g[x][m+"End"]=p.ends[x],g[x][m+"Start"]=p.starts[x]),c.ids&&(i.id=String(c.ids[x])),i.v=(c.base||0)+C}return g.length&&(g[0].hasTotals=L),l(c.text,g,"tx"),l(c.hovertext,g,"htx"),R(g,c),g}},48334:function(oe){"use strict";oe.exports={eventDataKeys:["initial","delta","final"]}},70766:function(oe,J,t){"use strict";var S=t(11661).setGroupPositions;oe.exports=function(l,R){var h,d,I=l._fullLayout,v=l._fullData,w=l.calcdata,r=R.xaxis,n=R.yaxis,c=[],o=[],f=[];for(d=0;d<v.length;d++){var b=v[d];!0===b.visible&&b.xaxis===r._id&&b.yaxis===n._id&&"waterfall"===b.type&&(h=w[d],"h"===b.orientation?f.push(h):o.push(h),c.push(h))}var p={mode:I.waterfallmode,norm:I.waterfallnorm,gap:I.waterfallgap,groupgap:I.waterfallgroupgap};for(S(l,r,n,o,p),S(l,n,r,f,p),d=0;d<c.length;d++){h=c[d];for(var A=0;A<h.length;A++){var m=h[A];!1===m.isSum&&(m.s0+=0===A?0:h[A-1].s),A+1<h.length&&(h[A].nextP0=h[A+1].p0,h[A].nextS0=h[A+1].s0)}}}},83266:function(oe,J,t){"use strict";var S=t(71828),k=t(26125),l=t(90769).handleText,R=t(67513),I=t(73927),v=t(43037),w=t(7901),r=t(22372),n=r.INCREASING.COLOR,c=r.DECREASING.COLOR;function f(b,p,A){b(p+".marker.color",A),b(p+".marker.line.color",w.defaultLine),b(p+".marker.line.width")}oe.exports={supplyDefaults:function h(b,p,A,m){function u(x,E){return S.coerce(b,p,v,x,E)}if(R(b,p,m,u)){I(b,p,m,u),u("xhoverformat"),u("yhoverformat"),u("measure"),u("orientation",p.x&&!p.y?"h":"v"),u("base"),u("offset"),u("width"),u("text"),u("hovertext"),u("hovertemplate");var C=u("textposition");l(b,p,m,u,C,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==p.textposition&&(u("texttemplate"),p.texttemplate||u("textinfo")),f(u,"increasing",n),f(u,"decreasing",c),f(u,"totals","#4499FF"),u("connector.visible")&&(u("connector.mode"),u("connector.line.width")&&(u("connector.line.color"),u("connector.line.dash")))}else p.visible=!1},crossTraceDefaults:function d(b,p){var m;function u(C){return S.coerce(m._input,m,v,C)}if("group"===p.waterfallmode)for(var g=0;g<b.length;g++)k((m=b[g])._input,m,p,u)}}},58593:function(oe){"use strict";oe.exports=function(t,S){return t.x="xVal"in S?S.xVal:S.x,t.y="yVal"in S?S.yVal:S.y,"initial"in S&&(t.initial=S.initial),"delta"in S&&(t.delta=S.delta),"final"in S&&(t.final=S.final),S.xa&&(t.xaxis=S.xa),S.ya&&(t.yaxis=S.ya),t}},61326:function(oe,J,t){"use strict";var S=t(89298).hoverLabelText,k=t(7901).opacity,l=t(95423).hoverOnBars,R=t(22372),I_increasing=R.INCREASING.SYMBOL,I_decreasing=R.DECREASING.SYMBOL;oe.exports=function(r,n,c,o,f){var h=l(r,n,c,o,f);if(h){var d=h.cd,b=d[0].trace,p="h"===b.orientation,A=p?"x":"y",m=p?r.xa:r.ya,C=d[h.index],T=C.isSum?C.b+C.s:C.rawS;h.initial=C.b+C.s-T,h.delta=T,h.final=h.initial+h.delta;var L=u(Math.abs(h.delta));h.deltaLabel=T<0?"("+L+")":L,h.finalLabel=u(h.final),h.initialLabel=u(h.initial);var x=C.hi||b.hoverinfo,E=[];if(x&&"none"!==x&&"skip"!==x){var M="all"===x,i=x.split("+"),D=function(y){return M||-1!==i.indexOf(y)};C.isSum||(D("final")&&(p?!D("x"):!D("y"))&&E.push(h.finalLabel),D("delta")&&E.push(T<0?h.deltaLabel+" "+I_decreasing:h.deltaLabel+" "+I_increasing),D("initial")&&E.push("Initial: "+h.initialLabel))}return E.length&&(h.extraText=E.join("<br>")),h.color=function v(w,r){var n=w[r.dir].marker,c=n.color,o=n.line.color,f=n.line.width;return k(c)?c:k(o)&&f?o:void 0}(b,C),[h]}function u(y){return S(m,y,b[A+"hoverformat"])}}},19990:function(oe,J,t){"use strict";oe.exports={attributes:t(43037),layoutAttributes:t(13494),supplyDefaults:t(83266).supplyDefaults,crossTraceDefaults:t(83266).crossTraceDefaults,supplyLayoutDefaults:t(5176),calc:t(52752),crossTraceCalc:t(70766),plot:t(30436),style:t(55750).style,hoverPoints:t(61326),eventData:t(58593),selectPoints:t(81974),moduleType:"trace",name:"waterfall",basePlotModule:t(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(oe){"use strict";oe.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(oe,J,t){"use strict";var S=t(71828),k=t(13494);oe.exports=function(l,R,I){var v=!1;function w(c,o){return S.coerce(l,R,k,c,o)}for(var r=0;r<I.length;r++){var n=I[r];if(n.visible&&"waterfall"===n.type){v=!0;break}}v&&(w("waterfallmode"),w("waterfallgap",.2),w("waterfallgroupgap"))}},30436:function(oe,J,t){"use strict";var S=t(39898),k=t(71828),l=t(91424),R=t(50606).BADNUM,I=t(17295),v=t(72597).clearMinTextSize;oe.exports=function(c,o,f,h){var d=c._fullLayout;v("waterfall",d),I.plot(c,o,f,h,{mode:d.waterfallmode,norm:d.waterfallmode,gap:d.waterfallgap,groupgap:d.waterfallgroupgap}),function w(n,c,o,f){var h=c.xaxis,d=c.yaxis;k.makeTraceGroups(f,o,"trace bars").each(function(b){var p=S.select(this),A=b[0].trace,m=k.ensureSingle(p,"g","lines");if(A.connector&&A.connector.visible){var u="h"===A.orientation,g=A.connector.mode,C=m.selectAll("g.line").data(k.identity);C.enter().append("g").classed("line",!0),C.exit().remove();var T=C.size();C.each(function(L,x){if(x===T-1||L.cNext){var E=function r(n,c,o,f){var h=[],d=[],b=f?c:o,p=f?o:c;return h[0]=b.c2p(n.s0,!0),d[0]=p.c2p(n.p0,!0),h[1]=b.c2p(n.s1,!0),d[1]=p.c2p(n.p1,!0),h[2]=b.c2p(n.nextS0,!0),d[2]=p.c2p(n.nextP0,!0),f?[h,d]:[d,h]}(L,h,d,u),M=E[0],i=E[1],D="";M[0]!==R&&i[0]!==R&&M[1]!==R&&i[1]!==R&&("spanning"===g&&!L.isSum&&x>0&&(D+=u?"M"+M[0]+","+i[1]+"V"+i[0]:"M"+M[1]+","+i[0]+"H"+M[0]),"between"!==g&&(L.isSum||x<T-1)&&(D+=u?"M"+M[1]+","+i[0]+"V"+i[1]:"M"+M[0]+","+i[1]+"H"+M[1]),M[2]!==R&&i[2]!==R&&(D+=u?"M"+M[1]+","+i[1]+"V"+i[2]:"M"+M[1]+","+i[1]+"H"+M[2])),""===D&&(D="M0,0Z"),k.ensureSingle(S.select(this),"path").attr("d",D).call(l.setClipUrl,c.layerClipId,n)}})}else m.remove()})}(c,o,f,h)}},55750:function(oe,J,t){"use strict";var S=t(39898),k=t(91424),l=t(7901),R=t(37822).DESELECTDIM,I=t(16688),v=t(72597).resizeText,w=I.styleTextPoints;oe.exports={style:function r(n,c,o){var f=o||S.select(n).selectAll("g.waterfalllayer").selectAll("g.trace");v(n,f,"waterfall"),f.style("opacity",function(h){return h[0].trace.opacity}),f.each(function(h){var d=S.select(this),b=h[0].trace;d.selectAll(".point > path").each(function(p){if(!p.isBlank){var A=b[p.dir].marker;S.select(this).call(l.fill,A.color).call(l.stroke,A.line.color).call(k.dashLine,A.line.dash,A.line.width).style("opacity",b.selectedpoints&&!p.selected?R:1)}}),w(d,b,n),d.selectAll(".lines").each(function(){var p=b.connector.line;k.lineGroupStyle(S.select(this).selectAll("path"),p.width,p.color,p.dash)})})}}},82887:function(oe,J,t){"use strict";var S=t(89298),k=t(71828),l=t(86281),R=t(79344).p,I=t(50606).BADNUM;J.moduleType="transform",J.name="aggregate";var v=J.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},w=v.aggregations;function r(h,d,b,p){if(p.enabled){for(var A=p.target,m=k.nestedProperty(d,A),u=m.get(),C=function n(h,d){var p=d.d2c,A=d.c2d;switch(h.func){case"count":return c;case"first":return o;case"last":return f;case"sum":return function(m,u){for(var g=0,C=0;C<u.length;C++){var T=p(m[u[C]]);T!==I&&(g+=T)}return A(g)};case"avg":return function(m,u){for(var g=0,C=0,T=0;T<u.length;T++){var L=p(m[u[T]]);L!==I&&(g+=L,C++)}return C?A(g/C):I};case"min":return function(m,u){for(var g=1/0,C=0;C<u.length;C++){var T=p(m[u[C]]);T!==I&&(g=Math.min(g,T))}return g===1/0?I:A(g)};case"max":return function(m,u){for(var g=-1/0,C=0;C<u.length;C++){var T=p(m[u[C]]);T!==I&&(g=Math.max(g,T))}return g===-1/0?I:A(g)};case"range":return function(m,u){for(var g=1/0,C=-1/0,T=0;T<u.length;T++){var L=p(m[u[T]]);L!==I&&(g=Math.min(g,L),C=Math.max(C,L))}return C===-1/0||g===1/0?I:A(C-g)};case"change":return function(m,u){var g=p(m[u[0]]),C=p(m[u[u.length-1]]);return g===I||C===I?I:A(C-g)};case"median":return function(m,u){for(var g=[],C=0;C<u.length;C++){var T=p(m[u[C]]);T!==I&&g.push(T)}if(!g.length)return I;g.sort(k.sorterAsc);var L=(g.length-1)/2;return A((g[Math.floor(L)]+g[Math.ceil(L)])/2)};case"mode":return function(m,u){for(var g={},C=0,T=I,L=0;L<u.length;L++){var x=p(m[u[L]]);if(x!==I){var E=g[x]=(g[x]||0)+1;E>C&&(C=E,T=x)}}return C?A(T):I};case"rms":return function(m,u){for(var g=0,C=0,T=0;T<u.length;T++){var L=p(m[u[T]]);L!==I&&(g+=L*L,C++)}return C?A(Math.sqrt(g/C)):I};case"stddev":return function(m,u){var x,g=0,C=0,T=1,L=I;for(x=0;x<u.length&&L===I;x++)L=p(m[u[x]]);if(L===I)return I;for(;x<u.length;x++){var E=p(m[u[x]]);if(E!==I){var M=E-L;g+=M,C+=M*M,T++}}var i="sample"===h.funcmode?T-1:T;return i?Math.sqrt((C-g*g/T)/i):0}}}(p,S.getDataConversions(h,d,A,u)),T=new Array(b.length),L=0;L<b.length;L++)T[L]=C(u,b[L]);m.set(T),"count"===p.func&&k.pushUnique(d._arrayAttrs,A)}}function c(h,d){return d.length}function o(h,d){return h[d[0]]}function f(h,d){return h[d[d.length-1]]}J.supplyDefaults=function(h,d){var p,b={};function A(y,B){return k.coerce(h,b,v,y,B)}if(!A("enabled"))return b;var u=l.findArrayAttributes(d),g={};for(p=0;p<u.length;p++)g[u[p]]=1;var C=A("groups");if(!Array.isArray(C)){if(!g[C])return b.enabled=!1,b;g[C]=0}var x,T=h.aggregations||[],L=b.aggregations=new Array(T.length);function E(y,B){return k.coerce(T[p],x,w,y,B)}for(p=0;p<T.length;p++){x={_index:p};var M=E("target"),i=E("func");E("enabled")&&M&&(g[M]||"count"===i&&void 0===g[M])?("stddev"===i&&E("funcmode"),g[M]=0,L[p]=x):L[p]={enabled:!1,_index:p}}for(p=0;p<u.length;p++)g[u[p]]&&L.push({target:u[p],func:w.func.dflt,enabled:!0,_index:-1});return b},J.calcTransform=function(h,d,b){if(b.enabled){var p=b.groups,A=k.getTargetArray(d,{target:p});if(A){var m,u,g,T={},L={},x=[],E=R(d.transforms,b),M=A.length;for(d._length&&(M=Math.min(M,d._length)),m=0;m<M;m++)void 0===(g=T[u=A[m]])?(T[u]=x.length,x.push([m]),L[T[u]]=E(m)):(x[g].push(m),L[T[u]]=(L[T[u]]||[]).concat(E(m)));b._indexToPoints=L;var i=b.aggregations;for(m=0;m<i.length;m++)r(h,d,x,i[m]);"string"==typeof p&&r(h,d,x,{target:p,func:"first",enabled:!0}),d._length=x.length}}}},14382:function(oe,J,t){"use strict";var S=t(71828),k=t(73972),l=t(89298),R=t(79344).p,I=t(74808),v=I.COMPARISON_OPS,w=I.INTERVAL_OPS,r=I.SET_OPS;J.moduleType="transform",J.name="filter",J.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(w).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},J.supplyDefaults=function(c){var o={};function f(p,A){return S.coerce(c,o,J.attributes,p,A)}if(f("enabled")){var d=f("target");if(S.isArrayOrTypedArray(d)&&0===d.length)return o.enabled=!1,o;f("preservegaps"),f("operation"),f("value");var b=k.getComponentMethod("calendars","handleDefaults");b(c,o,"valuecalendar",null),b(c,o,"targetcalendar",null)}return o},J.calcTransform=function(c,o,f){if(f.enabled){var h=S.getTargetArray(o,f);if(h){var d=f.target,b=h.length;o._length&&(b=Math.min(b,o._length));var p=f.targetcalendar,A=o._arrayAttrs,m=f.preservegaps;if("string"==typeof d){var u=S.nestedProperty(o,d+"calendar").get();u&&(p=u)}var M,i,C=function n(c,o,f){var h=c.operation,d=c.value,b=Array.isArray(d);function p(g){return-1!==g.indexOf(h)}var u,A=function(g){return o(g,0,c.valuecalendar)},m=function(g){return o(g,0,f)};switch(p(v)?u=A(b?d[0]:d):p(w)?u=b?[A(d[0]),A(d[1])]:[A(d),A(d)]:p(r)&&(u=b?d.map(A):[A(d)]),h){case"=":return function(g){return m(g)===u};case"!=":return function(g){return m(g)!==u};case"<":return function(g){return m(g)<u};case"<=":return function(g){return m(g)<=u};case">":return function(g){return m(g)>u};case">=":return function(g){return m(g)>=u};case"[]":return function(g){var C=m(g);return C>=u[0]&&C<=u[1]};case"()":return function(g){var C=m(g);return C>u[0]&&C<u[1]};case"[)":return function(g){var C=m(g);return C>=u[0]&&C<u[1]};case"(]":return function(g){var C=m(g);return C>u[0]&&C<=u[1]};case"][":return function(g){var C=m(g);return C<=u[0]||C>=u[1]};case")(":return function(g){var C=m(g);return C<u[0]||C>u[1]};case"](":return function(g){var C=m(g);return C<=u[0]||C>u[1]};case")[":return function(g){var C=m(g);return C<u[0]||C>=u[1]};case"{}":return function(g){return-1!==u.indexOf(m(g))};case"}{":return function(g){return-1===u.indexOf(m(g))}}}(f,l.getDataToCoordFunc(c,o,d,h),p),T={},L={},x=0;m?(M=function(F){T[F.astr]=S.extendDeep([],F.get()),F.set(new Array(b))},i=function(F,_){var z=T[F.astr][_];F.get()[_]=z}):(M=function(F){T[F.astr]=S.extendDeep([],F.get()),F.set([])},i=function(F,_){var z=T[F.astr][_];F.get().push(z)}),E(M);for(var D=R(o.transforms,f),y=0;y<b;y++)C(h[y])?(E(i,y),L[x++]=D(y)):m&&x++;f._indexToPoints=L,o._length=x}}function E(F,_){for(var z=0;z<A.length;z++)F(S.nestedProperty(o,A[z]),_)}}},43102:function(oe,J,t){"use strict";var S=t(71828),k=t(86281),l=t(74875),R=t(79344).p;function I(v,w){var r,n,c,o,f,h,d,b,p,A,m=w.transform,u=w.transformIndex,g=v.transforms[u].groups,C=R(v.transforms,m);if(!S.isArrayOrTypedArray(g)||0===g.length)return[v];var T=S.filterUnique(g),L=new Array(T.length),x=g.length,E=k.findArrayAttributes(v),M=m.styles||[],i={};for(r=0;r<M.length;r++)i[M[r].target]=M[r].value;m.styles&&(A=S.keyedContainer(m,"styles","target","value.name"));var D={},y={};for(r=0;r<T.length;r++){D[h=T[r]]=r,y[h]=0,(d=L[r]=S.extendDeepNoArrays({},v))._group=h,d.transforms[u]._indexToPoints={};var B=null;for(A&&(B=A.get(h)),d.name=B||""===B?B:S.templateString(m.nameformat,{trace:v.name,group:h}),b=d.transforms,d.transforms=[],n=0;n<b.length;n++)d.transforms[n]=S.extendDeepNoArrays({},b[n]);for(n=0;n<E.length;n++)S.nestedProperty(d,E[n]).set([])}for(c=0;c<E.length;c++){for(o=E[c],n=0,p=[];n<T.length;n++)p[n]=S.nestedProperty(L[n],o).get();for(f=S.nestedProperty(v,o).get(),n=0;n<x;n++)p[D[g[n]]].push(f[n])}for(n=0;n<x;n++)(d=L[D[g[n]]]).transforms[u]._indexToPoints[y[g[n]]]=C(n),y[g[n]]++;for(r=0;r<T.length;r++)h=T[r],l.clearExpandedTraceDefaultColors(d=L[r]),d=S.extendDeepNoArrays(d,i[h]||{});return L}J.moduleType="transform",J.name="groupby",J.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},J.supplyDefaults=function(v,w,r){var n,c={};function o(A,m){return S.coerce(v,c,J.attributes,A,m)}if(!o("enabled"))return c;o("groups"),o("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var h=v.styles,d=c.styles=[];if(h)for(n=0;n<h.length;n++){var b=d[n]={};S.coerce(h[n],d[n],J.attributes.styles,"target");var p=S.coerce(h[n],d[n],J.attributes.styles,"value");S.isPlainObject(p)?b.value=S.extendDeep({},p):p&&delete b.value}return c},J.transform=function(v,w){var r,n,c,o=[];for(n=0;n<v.length;n++)for(r=I(v[n],w),c=0;c<r.length;c++)o.push(r[c]);return o}},79344:function(oe,J){"use strict";J.p=function(t,S){for(var k,l,R=0;R<t.length&&(k=t[R])!==S;R++)!k._indexToPoints||!1===k.enabled||(l=k._indexToPoints);return l?function(v){return l[v]}:function(v){return[v]}}},32275:function(oe,J,t){"use strict";var S=t(71828),k=t(89298),l=t(79344).p,R=t(50606).BADNUM;function I(w,r,n,c){var h,o=new Array(c),f=new Array(c);for(h=0;h<c;h++)o[h]={v:r[h],i:h};for(o.sort(function v(w,r){switch(w.order){case"ascending":return function(n,c){var o=r(n.v),f=r(c.v);return o===R?1:f===R?-1:o-f};case"descending":return function(n,c){var o=r(n.v),f=r(c.v);return o===R?1:f===R?-1:f-o}}}(w,n)),h=0;h<c;h++)f[h]=o[h].i;return f}J.moduleType="transform",J.name="sort",J.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},J.supplyDefaults=function(w){var r={};function n(o,f){return S.coerce(w,r,J.attributes,o,f)}return n("enabled")&&(n("target"),n("order")),r},J.calcTransform=function(w,r,n){if(n.enabled){var c=S.getTargetArray(r,n);if(c){var o=n.target,f=c.length;r._length&&(f=Math.min(f,r._length));var m,u,h=r._arrayAttrs,b=I(n,c,k.getDataToCoordFunc(w,r,o,c),f),p=l(r.transforms,n),A={};for(m=0;m<h.length;m++){var g=S.nestedProperty(r,h[m]),C=g.get(),T=new Array(f);for(u=0;u<f;u++)T[u]=C[b[u]];g.set(T)}for(u=0;u<f;u++)A[u]=p(b[u]);n._indexToPoints=A,r._length=f}}}},11506:function(oe,J){"use strict";J.version="2.27.0"},9330:function(oe,J,t){var R,S=t(90386);self,R=function(){return function(){var k={7386:function(v,w,r){v.exports={alpha_shape:r(2350),convex_hull:r(5537),delaunay_triangulate:r(4419),gl_cone3d:r(1140),gl_error3d:r(3110),gl_heatmap2d:r(6386),gl_line3d:r(6086),gl_mesh3d:r(8116),gl_plot2d:r(2117),gl_plot3d:r(1059),gl_pointcloud2d:r(8271),gl_scatter3d:r(2182),gl_select_box:r(6623),gl_spikes2d:r(3050),gl_streamtube3d:r(7307),gl_surface3d:r(3754),ndarray:r(5050),ndarray_linear_interpolate:r(3581)}},2146:function(v,w,r){"use strict";function o(De,ge){for(var Te=0;Te<ge.length;Te++){var _e=ge[Te];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(De,_e.key,_e)}}function d(De,ge){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e})(De,ge)}function b(De){var ge=function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var et,_e=u(De);if(ge){var ft=u(this).constructor;et=Reflect.construct(_e,arguments,ft)}else et=_e.apply(this,arguments);return function p(De,ge){if(ge&&("object"===g(ge)||"function"==typeof ge))return ge;if(void 0!==ge)throw new TypeError("Derived constructors may only return object or undefined");return A(De)}(this,et)}}function A(De){if(void 0===De)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return De}function u(De){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Te){return Te.__proto__||Object.getPrototypeOf(Te)})(De)}function g(De){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ge){return typeof ge}:function(ge){return ge&&"function"==typeof Symbol&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge})(De)}var C=r(3910),T=r(3187),L="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;w.lW=i,w.h2=50;var x=2147483647;function M(De){if(De>x)throw new RangeError('The value "'+De+'" is invalid for option "size"');var ge=new Uint8Array(De);return Object.setPrototypeOf(ge,i.prototype),ge}function i(De,ge,Te){if("number"==typeof De){if("string"==typeof ge)throw new TypeError('The "string" argument must be of type string. Received type number');return F(De)}return D(De,ge,Te)}function D(De,ge,Te){if("string"==typeof De)return function _(De,ge){if(("string"!=typeof ge||""===ge)&&(ge="utf8"),!i.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);var Te=0|ee(De,ge),_e=M(Te),et=_e.write(De,ge);return et!==Te&&(_e=_e.slice(0,et)),_e}(De,ge);if(ArrayBuffer.isView(De))return function V(De){if(Re(De,Uint8Array)){var ge=new Uint8Array(De);return H(ge.buffer,ge.byteOffset,ge.byteLength)}return z(De)}(De);if(null==De)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+g(De));if(Re(De,ArrayBuffer)||De&&Re(De.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Re(De,SharedArrayBuffer)||De&&Re(De.buffer,SharedArrayBuffer)))return H(De,ge,Te);if("number"==typeof De)throw new TypeError('The "value" argument must not be of type number. Received type number');var _e=De.valueOf&&De.valueOf();if(null!=_e&&_e!==De)return i.from(_e,ge,Te);var et=function U(De){if(i.isBuffer(De)){var ge=0|G(De.length),Te=M(ge);return 0===Te.length||De.copy(Te,0,0,ge),Te}return void 0!==De.length?"number"!=typeof De.length||Be(De.length)?M(0):z(De):"Buffer"===De.type&&Array.isArray(De.data)?z(De.data):void 0}(De);if(et)return et;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof De[Symbol.toPrimitive])return i.from(De[Symbol.toPrimitive]("string"),ge,Te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+g(De))}function y(De){if("number"!=typeof De)throw new TypeError('"size" argument must be of type number');if(De<0)throw new RangeError('The value "'+De+'" is invalid for option "size"')}function F(De){return y(De),M(De<0?0:0|G(De))}function z(De){for(var ge=De.length<0?0:0|G(De.length),Te=M(ge),_e=0;_e<ge;_e+=1)Te[_e]=255&De[_e];return Te}function H(De,ge,Te){if(ge<0||De.byteLength<ge)throw new RangeError('"offset" is outside of buffer bounds');if(De.byteLength<ge+(Te||0))throw new RangeError('"length" is outside of buffer bounds');var _e;return _e=void 0===ge&&void 0===Te?new Uint8Array(De):void 0===Te?new Uint8Array(De,ge):new Uint8Array(De,ge,Te),Object.setPrototypeOf(_e,i.prototype),_e}function G(De){if(De>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|De}function ee(De,ge){if(i.isBuffer(De))return De.length;if(ArrayBuffer.isView(De)||Re(De,ArrayBuffer))return De.byteLength;if("string"!=typeof De)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+g(De));var Te=De.length,_e=arguments.length>2&&!0===arguments[2];if(!_e&&0===Te)return 0;for(var et=!1;;)switch(ge){case"ascii":case"latin1":case"binary":return Te;case"utf8":case"utf-8":return St(De).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Te;case"hex":return Te>>>1;case"base64":return nt(De).length;default:if(et)return _e?-1:St(De).length;ge=(""+ge).toLowerCase(),et=!0}}function ue(De,ge,Te){var _e=!1;if((void 0===ge||ge<0)&&(ge=0),ge>this.length||((void 0===Te||Te>this.length)&&(Te=this.length),Te<=0)||(Te>>>=0)<=(ge>>>=0))return"";for(De||(De="utf8");;)switch(De){case"hex":return Ee(this,ge,Te);case"utf8":case"utf-8":return $(this,ge,Te);case"ascii":return de(this,ge,Te);case"latin1":case"binary":return we(this,ge,Te);case"base64":return re(this,ge,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me(this,ge,Te);default:if(_e)throw new TypeError("Unknown encoding: "+De);De=(De+"").toLowerCase(),_e=!0}}function ce(De,ge,Te){var _e=De[ge];De[ge]=De[Te],De[Te]=_e}function pe(De,ge,Te,_e,et){if(0===De.length)return-1;if("string"==typeof Te?(_e=Te,Te=0):Te>2147483647?Te=2147483647:Te<-2147483648&&(Te=-2147483648),Be(Te=+Te)&&(Te=et?0:De.length-1),Te<0&&(Te=De.length+Te),Te>=De.length){if(et)return-1;Te=De.length-1}else if(Te<0){if(!et)return-1;Te=0}if("string"==typeof ge&&(ge=i.from(ge,_e)),i.isBuffer(ge))return 0===ge.length?-1:te(De,ge,Te,_e,et);if("number"==typeof ge)return ge&=255,"function"==typeof Uint8Array.prototype.indexOf?et?Uint8Array.prototype.indexOf.call(De,ge,Te):Uint8Array.prototype.lastIndexOf.call(De,ge,Te):te(De,[ge],Te,_e,et);throw new TypeError("val must be string, number or Buffer")}function te(De,ge,Te,_e,et){var Lt,ft=1,gt=De.length,Kt=ge.length;if(void 0!==_e&&("ucs2"===(_e=String(_e).toLowerCase())||"ucs-2"===_e||"utf16le"===_e||"utf-16le"===_e)){if(De.length<2||ge.length<2)return-1;ft=2,gt/=2,Kt/=2,Te/=2}function ir(wt,$t){return 1===ft?wt[$t]:wt.readUInt16BE($t*ft)}if(et){var Ut=-1;for(Lt=Te;Lt<gt;Lt++)if(ir(De,Lt)===ir(ge,-1===Ut?0:Lt-Ut)){if(-1===Ut&&(Ut=Lt),Lt-Ut+1===Kt)return Ut*ft}else-1!==Ut&&(Lt-=Lt-Ut),Ut=-1}else for(Te+Kt>gt&&(Te=gt-Kt),Lt=Te;Lt>=0;Lt--){for(var Qt=!0,Cr=0;Cr<Kt;Cr++)if(ir(De,Lt+Cr)!==ir(ge,Cr)){Qt=!1;break}if(Qt)return Lt}return-1}function Q(De,ge,Te,_e){Te=Number(Te)||0;var et=De.length-Te;_e?(_e=Number(_e))>et&&(_e=et):_e=et;var gt,ft=ge.length;for(_e>ft/2&&(_e=ft/2),gt=0;gt<_e;++gt){var Kt=parseInt(ge.substr(2*gt,2),16);if(Be(Kt))return gt;De[Te+gt]=Kt}return gt}function K(De,ge,Te,_e){return ke(St(ge,De.length-Te),De,Te,_e)}function Z(De,ge,Te,_e){return ke(function Ct(De){for(var ge=[],Te=0;Te<De.length;++Te)ge.push(255&De.charCodeAt(Te));return ge}(ge),De,Te,_e)}function q(De,ge,Te,_e){return ke(nt(ge),De,Te,_e)}function fe(De,ge,Te,_e){return ke(function _t(De,ge){for(var Te,_e,ft=[],gt=0;gt<De.length&&!((ge-=2)<0);++gt)_e=(Te=De.charCodeAt(gt))>>8,ft.push(Te%256),ft.push(_e);return ft}(ge,De.length-Te),De,Te,_e)}function re(De,ge,Te){return C.fromByteArray(0===ge&&Te===De.length?De:De.slice(ge,Te))}function $(De,ge,Te){Te=Math.min(De.length,Te);for(var _e=[],et=ge;et<Te;){var ft=De[et],gt=null,Kt=ft>239?4:ft>223?3:ft>191?2:1;if(et+Kt<=Te){var ir=void 0,Lt=void 0,Ut=void 0,Qt=void 0;switch(Kt){case 1:ft<128&&(gt=ft);break;case 2:128==(192&(ir=De[et+1]))&&(Qt=(31&ft)<<6|63&ir)>127&&(gt=Qt);break;case 3:Lt=De[et+2],128==(192&(ir=De[et+1]))&&128==(192&Lt)&&(Qt=(15&ft)<<12|(63&ir)<<6|63&Lt)>2047&&(Qt<55296||Qt>57343)&&(gt=Qt);break;case 4:Lt=De[et+2],Ut=De[et+3],128==(192&(ir=De[et+1]))&&128==(192&Lt)&&128==(192&Ut)&&(Qt=(15&ft)<<18|(63&ir)<<12|(63&Lt)<<6|63&Ut)>65535&&Qt<1114112&&(gt=Qt)}}null===gt?(gt=65533,Kt=1):gt>65535&&(_e.push((gt-=65536)>>>10&1023|55296),gt=56320|1023&gt),_e.push(gt),et+=Kt}return function se(De){var ge=De.length;if(ge<=le)return String.fromCharCode.apply(String,De);for(var Te="",_e=0;_e<ge;)Te+=String.fromCharCode.apply(String,De.slice(_e,_e+=le));return Te}(_e)}!(i.TYPED_ARRAY_SUPPORT=function E(){try{var De=new Uint8Array(1),ge={foo:function(){return 42}};return Object.setPrototypeOf(ge,Uint8Array.prototype),Object.setPrototypeOf(De,ge),42===De.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(De,ge,Te){return D(De,ge,Te)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(De,ge,Te){return function B(De,ge,Te){return y(De),De<=0?M(De):void 0!==ge?"string"==typeof Te?M(De).fill(ge,Te):M(De).fill(ge):M(De)}(De,ge,Te)},i.allocUnsafe=function(De){return F(De)},i.allocUnsafeSlow=function(De){return F(De)},i.isBuffer=function(ge){return null!=ge&&!0===ge._isBuffer&&ge!==i.prototype},i.compare=function(ge,Te){if(Re(ge,Uint8Array)&&(ge=i.from(ge,ge.offset,ge.byteLength)),Re(Te,Uint8Array)&&(Te=i.from(Te,Te.offset,Te.byteLength)),!i.isBuffer(ge)||!i.isBuffer(Te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ge===Te)return 0;for(var _e=ge.length,et=Te.length,ft=0,gt=Math.min(_e,et);ft<gt;++ft)if(ge[ft]!==Te[ft]){_e=ge[ft],et=Te[ft];break}return _e<et?-1:et<_e?1:0},i.isEncoding=function(ge){switch(String(ge).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(ge,Te){if(!Array.isArray(ge))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ge.length)return i.alloc(0);var _e;if(void 0===Te)for(Te=0,_e=0;_e<ge.length;++_e)Te+=ge[_e].length;var et=i.allocUnsafe(Te),ft=0;for(_e=0;_e<ge.length;++_e){var gt=ge[_e];if(Re(gt,Uint8Array))ft+gt.length>et.length?(i.isBuffer(gt)||(gt=i.from(gt)),gt.copy(et,ft)):Uint8Array.prototype.set.call(et,gt,ft);else{if(!i.isBuffer(gt))throw new TypeError('"list" argument must be an Array of Buffers');gt.copy(et,ft)}ft+=gt.length}return et},i.byteLength=ee,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var ge=this.length;if(ge%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Te=0;Te<ge;Te+=2)ce(this,Te,Te+1);return this},i.prototype.swap32=function(){var ge=this.length;if(ge%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Te=0;Te<ge;Te+=4)ce(this,Te,Te+3),ce(this,Te+1,Te+2);return this},i.prototype.swap64=function(){var ge=this.length;if(ge%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Te=0;Te<ge;Te+=8)ce(this,Te,Te+7),ce(this,Te+1,Te+6),ce(this,Te+2,Te+5),ce(this,Te+3,Te+4);return this},i.prototype.toString=function(){var ge=this.length;return 0===ge?"":0===arguments.length?$(this,0,ge):ue.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(ge){if(!i.isBuffer(ge))throw new TypeError("Argument must be a Buffer");return this===ge||0===i.compare(this,ge)},i.prototype.inspect=function(){var ge="",Te=w.h2;return ge=this.toString("hex",0,Te).replace(/(.{2})/g,"$1 ").trim(),this.length>Te&&(ge+=" ... "),"<Buffer "+ge+">"},L&&(i.prototype[L]=i.prototype.inspect),i.prototype.compare=function(ge,Te,_e,et,ft){if(Re(ge,Uint8Array)&&(ge=i.from(ge,ge.offset,ge.byteLength)),!i.isBuffer(ge))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+g(ge));if(void 0===Te&&(Te=0),void 0===_e&&(_e=ge?ge.length:0),void 0===et&&(et=0),void 0===ft&&(ft=this.length),Te<0||_e>ge.length||et<0||ft>this.length)throw new RangeError("out of range index");if(et>=ft&&Te>=_e)return 0;if(et>=ft)return-1;if(Te>=_e)return 1;if(this===ge)return 0;for(var gt=(ft>>>=0)-(et>>>=0),Kt=(_e>>>=0)-(Te>>>=0),ir=Math.min(gt,Kt),Lt=this.slice(et,ft),Ut=ge.slice(Te,_e),Qt=0;Qt<ir;++Qt)if(Lt[Qt]!==Ut[Qt]){gt=Lt[Qt],Kt=Ut[Qt];break}return gt<Kt?-1:Kt<gt?1:0},i.prototype.includes=function(ge,Te,_e){return-1!==this.indexOf(ge,Te,_e)},i.prototype.indexOf=function(ge,Te,_e){return pe(this,ge,Te,_e,!0)},i.prototype.lastIndexOf=function(ge,Te,_e){return pe(this,ge,Te,_e,!1)},i.prototype.write=function(ge,Te,_e,et){if(void 0===Te)et="utf8",_e=this.length,Te=0;else if(void 0===_e&&"string"==typeof Te)et=Te,_e=this.length,Te=0;else{if(!isFinite(Te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Te>>>=0,isFinite(_e)?(_e>>>=0,void 0===et&&(et="utf8")):(et=_e,_e=void 0)}var ft=this.length-Te;if((void 0===_e||_e>ft)&&(_e=ft),ge.length>0&&(_e<0||Te<0)||Te>this.length)throw new RangeError("Attempt to write outside buffer bounds");et||(et="utf8");for(var gt=!1;;)switch(et){case"hex":return Q(this,ge,Te,_e);case"utf8":case"utf-8":return K(this,ge,Te,_e);case"ascii":case"latin1":case"binary":return Z(this,ge,Te,_e);case"base64":return q(this,ge,Te,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,ge,Te,_e);default:if(gt)throw new TypeError("Unknown encoding: "+et);et=(""+et).toLowerCase(),gt=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var le=4096;function de(De,ge,Te){var _e="";Te=Math.min(De.length,Te);for(var et=ge;et<Te;++et)_e+=String.fromCharCode(127&De[et]);return _e}function we(De,ge,Te){var _e="";Te=Math.min(De.length,Te);for(var et=ge;et<Te;++et)_e+=String.fromCharCode(De[et]);return _e}function Ee(De,ge,Te){var _e=De.length;(!ge||ge<0)&&(ge=0),(!Te||Te<0||Te>_e)&&(Te=_e);for(var et="",ft=ge;ft<Te;++ft)et+=He[De[ft]];return et}function Me(De,ge,Te){for(var _e=De.slice(ge,Te),et="",ft=0;ft<_e.length-1;ft+=2)et+=String.fromCharCode(_e[ft]+256*_e[ft+1]);return et}function Ne(De,ge,Te){if(De%1!=0||De<0)throw new RangeError("offset is not uint");if(De+ge>Te)throw new RangeError("Trying to access beyond buffer length")}function Ve(De,ge,Te,_e,et,ft){if(!i.isBuffer(De))throw new TypeError('"buffer" argument must be a Buffer instance');if(ge>et||ge<ft)throw new RangeError('"value" argument is out of bounds');if(Te+_e>De.length)throw new RangeError("Index out of range")}function Pe(De,ge,Te,_e,et){We(ge,_e,et,De,Te,7);var ft=Number(ge&BigInt(4294967295));De[Te++]=ft,De[Te++]=ft>>=8,De[Te++]=ft>>=8,De[Te++]=ft>>=8;var gt=Number(ge>>BigInt(32)&BigInt(4294967295));return De[Te++]=gt,De[Te++]=gt>>=8,De[Te++]=gt>>=8,De[Te++]=gt>>=8,Te}function Ce(De,ge,Te,_e,et){We(ge,_e,et,De,Te,7);var ft=Number(ge&BigInt(4294967295));De[Te+7]=ft,De[Te+6]=ft>>=8,De[Te+5]=ft>>=8,De[Te+4]=ft>>=8;var gt=Number(ge>>BigInt(32)&BigInt(4294967295));return De[Te+3]=gt,De[Te+2]=gt>>=8,De[Te+1]=gt>>=8,De[Te]=gt>>=8,Te+8}function Ie(De,ge,Te,_e,et,ft){if(Te+_e>De.length)throw new RangeError("Index out of range");if(Te<0)throw new RangeError("Index out of range")}function Je(De,ge,Te,_e,et){return ge=+ge,Te>>>=0,et||Ie(De,0,Te,4),T.write(De,ge,Te,_e,23,4),Te+4}function Qe(De,ge,Te,_e,et){return ge=+ge,Te>>>=0,et||Ie(De,0,Te,8),T.write(De,ge,Te,_e,52,8),Te+8}i.prototype.slice=function(ge,Te){var _e=this.length;(ge=~~ge)<0?(ge+=_e)<0&&(ge=0):ge>_e&&(ge=_e),(Te=void 0===Te?_e:~~Te)<0?(Te+=_e)<0&&(Te=0):Te>_e&&(Te=_e),Te<ge&&(Te=ge);var et=this.subarray(ge,Te);return Object.setPrototypeOf(et,i.prototype),et},i.prototype.readUintLE=i.prototype.readUIntLE=function(ge,Te,_e){ge>>>=0,Te>>>=0,_e||Ne(ge,Te,this.length);for(var et=this[ge],ft=1,gt=0;++gt<Te&&(ft*=256);)et+=this[ge+gt]*ft;return et},i.prototype.readUintBE=i.prototype.readUIntBE=function(ge,Te,_e){ge>>>=0,Te>>>=0,_e||Ne(ge,Te,this.length);for(var et=this[ge+--Te],ft=1;Te>0&&(ft*=256);)et+=this[ge+--Te]*ft;return et},i.prototype.readUint8=i.prototype.readUInt8=function(ge,Te){return ge>>>=0,Te||Ne(ge,1,this.length),this[ge]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(ge,Te){return ge>>>=0,Te||Ne(ge,2,this.length),this[ge]|this[ge+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(ge,Te){return ge>>>=0,Te||Ne(ge,2,this.length),this[ge]<<8|this[ge+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(ge,Te){return ge>>>=0,Te||Ne(ge,4,this.length),(this[ge]|this[ge+1]<<8|this[ge+2]<<16)+16777216*this[ge+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(ge,Te){return ge>>>=0,Te||Ne(ge,4,this.length),16777216*this[ge]+(this[ge+1]<<16|this[ge+2]<<8|this[ge+3])},i.prototype.readBigUInt64LE=Ye(function(ge){je(ge>>>=0,"offset");var Te=this[ge],_e=this[ge+7];(void 0===Te||void 0===_e)&&lt(ge,this.length-8);var et=Te+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24),ft=this[++ge]+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+_e*Math.pow(2,24);return BigInt(et)+(BigInt(ft)<<BigInt(32))}),i.prototype.readBigUInt64BE=Ye(function(ge){je(ge>>>=0,"offset");var Te=this[ge],_e=this[ge+7];(void 0===Te||void 0===_e)&&lt(ge,this.length-8);var et=Te*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge],ft=this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+_e;return(BigInt(et)<<BigInt(32))+BigInt(ft)}),i.prototype.readIntLE=function(ge,Te,_e){ge>>>=0,Te>>>=0,_e||Ne(ge,Te,this.length);for(var et=this[ge],ft=1,gt=0;++gt<Te&&(ft*=256);)et+=this[ge+gt]*ft;return et>=(ft*=128)&&(et-=Math.pow(2,8*Te)),et},i.prototype.readIntBE=function(ge,Te,_e){ge>>>=0,Te>>>=0,_e||Ne(ge,Te,this.length);for(var et=Te,ft=1,gt=this[ge+--et];et>0&&(ft*=256);)gt+=this[ge+--et]*ft;return gt>=(ft*=128)&&(gt-=Math.pow(2,8*Te)),gt},i.prototype.readInt8=function(ge,Te){return ge>>>=0,Te||Ne(ge,1,this.length),128&this[ge]?-1*(255-this[ge]+1):this[ge]},i.prototype.readInt16LE=function(ge,Te){ge>>>=0,Te||Ne(ge,2,this.length);var _e=this[ge]|this[ge+1]<<8;return 32768&_e?4294901760|_e:_e},i.prototype.readInt16BE=function(ge,Te){ge>>>=0,Te||Ne(ge,2,this.length);var _e=this[ge+1]|this[ge]<<8;return 32768&_e?4294901760|_e:_e},i.prototype.readInt32LE=function(ge,Te){return ge>>>=0,Te||Ne(ge,4,this.length),this[ge]|this[ge+1]<<8|this[ge+2]<<16|this[ge+3]<<24},i.prototype.readInt32BE=function(ge,Te){return ge>>>=0,Te||Ne(ge,4,this.length),this[ge]<<24|this[ge+1]<<16|this[ge+2]<<8|this[ge+3]},i.prototype.readBigInt64LE=Ye(function(ge){je(ge>>>=0,"offset");var Te=this[ge],_e=this[ge+7];(void 0===Te||void 0===_e)&&lt(ge,this.length-8);var et=this[ge+4]+this[ge+5]*Math.pow(2,8)+this[ge+6]*Math.pow(2,16)+(_e<<24);return(BigInt(et)<<BigInt(32))+BigInt(Te+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24))}),i.prototype.readBigInt64BE=Ye(function(ge){je(ge>>>=0,"offset");var Te=this[ge],_e=this[ge+7];(void 0===Te||void 0===_e)&&lt(ge,this.length-8);var et=(Te<<24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge];return(BigInt(et)<<BigInt(32))+BigInt(this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+_e)}),i.prototype.readFloatLE=function(ge,Te){return ge>>>=0,Te||Ne(ge,4,this.length),T.read(this,ge,!0,23,4)},i.prototype.readFloatBE=function(ge,Te){return ge>>>=0,Te||Ne(ge,4,this.length),T.read(this,ge,!1,23,4)},i.prototype.readDoubleLE=function(ge,Te){return ge>>>=0,Te||Ne(ge,8,this.length),T.read(this,ge,!0,52,8)},i.prototype.readDoubleBE=function(ge,Te){return ge>>>=0,Te||Ne(ge,8,this.length),T.read(this,ge,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(ge,Te,_e,et){ge=+ge,Te>>>=0,_e>>>=0,et||Ve(this,ge,Te,_e,Math.pow(2,8*_e)-1,0);var gt=1,Kt=0;for(this[Te]=255&ge;++Kt<_e&&(gt*=256);)this[Te+Kt]=ge/gt&255;return Te+_e},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(ge,Te,_e,et){ge=+ge,Te>>>=0,_e>>>=0,et||Ve(this,ge,Te,_e,Math.pow(2,8*_e)-1,0);var gt=_e-1,Kt=1;for(this[Te+gt]=255&ge;--gt>=0&&(Kt*=256);)this[Te+gt]=ge/Kt&255;return Te+_e},i.prototype.writeUint8=i.prototype.writeUInt8=function(ge,Te,_e){return ge=+ge,Te>>>=0,_e||Ve(this,ge,Te,1,255,0),this[Te]=255&ge,Te+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(ge,Te,_e){return ge=+ge,Te>>>=0,_e||Ve(this,ge,Te,2,65535,0),this[Te]=255&ge,this[Te+1]=ge>>>8,Te+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(ge,Te,_e){return ge=+ge,Te>>>=0,_e||Ve(this,ge,Te,2,65535,0),this[Te]=ge>>>8,this[Te+1]=255&ge,Te+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(ge,Te,_e){return ge=+ge,Te>>>=0,_e||Ve(this,ge,Te,4,4294967295,0),this[Te+3]=ge>>>24,this[Te+2]=ge>>>16,this[Te+1]=ge>>>8,this[Te]=255&ge,Te+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(ge,Te,_e){return ge=+ge,Te>>>=0,_e||Ve(this,ge,Te,4,4294967295,0),this[Te]=ge>>>24,this[Te+1]=ge>>>16,this[Te+2]=ge>>>8,this[Te+3]=255&ge,Te+4},i.prototype.writeBigUInt64LE=Ye(function(ge){return Pe(this,ge,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=Ye(function(ge){return Ce(this,ge,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(ge,Te,_e,et){if(ge=+ge,Te>>>=0,!et){var ft=Math.pow(2,8*_e-1);Ve(this,ge,Te,_e,ft-1,-ft)}var gt=0,Kt=1,ir=0;for(this[Te]=255&ge;++gt<_e&&(Kt*=256);)ge<0&&0===ir&&0!==this[Te+gt-1]&&(ir=1),this[Te+gt]=(ge/Kt>>0)-ir&255;return Te+_e},i.prototype.writeIntBE=function(ge,Te,_e,et){if(ge=+ge,Te>>>=0,!et){var ft=Math.pow(2,8*_e-1);Ve(this,ge,Te,_e,ft-1,-ft)}var gt=_e-1,Kt=1,ir=0;for(this[Te+gt]=255&ge;--gt>=0&&(Kt*=256);)ge<0&&0===ir&&0!==this[Te+gt+1]&&(ir=1),this[Te+gt]=(ge/Kt>>0)-ir&255;return Te+_e},i.prototype.writeInt8=function(ge,Te,_e){return ge=+ge,Te>>>=0,_e||Ve(this,ge,Te,1,127,-128),ge<0&&(ge=255+ge+1),this[Te]=255&ge,Te+1},i.prototype.writeInt16LE=function(ge,Te,_e){return ge=+ge,Te>>>=0,_e||Ve(this,ge,Te,2,32767,-32768),this[Te]=255&ge,this[Te+1]=ge>>>8,Te+2},i.prototype.writeInt16BE=function(ge,Te,_e){return ge=+ge,Te>>>=0,_e||Ve(this,ge,Te,2,32767,-32768),this[Te]=ge>>>8,this[Te+1]=255&ge,Te+2},i.prototype.writeInt32LE=function(ge,Te,_e){return ge=+ge,Te>>>=0,_e||Ve(this,ge,Te,4,2147483647,-2147483648),this[Te]=255&ge,this[Te+1]=ge>>>8,this[Te+2]=ge>>>16,this[Te+3]=ge>>>24,Te+4},i.prototype.writeInt32BE=function(ge,Te,_e){return ge=+ge,Te>>>=0,_e||Ve(this,ge,Te,4,2147483647,-2147483648),ge<0&&(ge=4294967295+ge+1),this[Te]=ge>>>24,this[Te+1]=ge>>>16,this[Te+2]=ge>>>8,this[Te+3]=255&ge,Te+4},i.prototype.writeBigInt64LE=Ye(function(ge){return Pe(this,ge,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=Ye(function(ge){return Ce(this,ge,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeFloatLE=function(ge,Te,_e){return Je(this,ge,Te,!0,_e)},i.prototype.writeFloatBE=function(ge,Te,_e){return Je(this,ge,Te,!1,_e)},i.prototype.writeDoubleLE=function(ge,Te,_e){return Qe(this,ge,Te,!0,_e)},i.prototype.writeDoubleBE=function(ge,Te,_e){return Qe(this,ge,Te,!1,_e)},i.prototype.copy=function(ge,Te,_e,et){if(!i.isBuffer(ge))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),!et&&0!==et&&(et=this.length),Te>=ge.length&&(Te=ge.length),Te||(Te=0),et>0&&et<_e&&(et=_e),et===_e||0===ge.length||0===this.length)return 0;if(Te<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("Index out of range");if(et<0)throw new RangeError("sourceEnd out of bounds");et>this.length&&(et=this.length),ge.length-Te<et-_e&&(et=ge.length-Te+_e);var ft=et-_e;return this===ge&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Te,_e,et):Uint8Array.prototype.set.call(ge,this.subarray(_e,et),Te),ft},i.prototype.fill=function(ge,Te,_e,et){if("string"==typeof ge){if("string"==typeof Te?(et=Te,Te=0,_e=this.length):"string"==typeof _e&&(et=_e,_e=this.length),void 0!==et&&"string"!=typeof et)throw new TypeError("encoding must be a string");if("string"==typeof et&&!i.isEncoding(et))throw new TypeError("Unknown encoding: "+et);if(1===ge.length){var ft=ge.charCodeAt(0);("utf8"===et&&ft<128||"latin1"===et)&&(ge=ft)}}else"number"==typeof ge?ge&=255:"boolean"==typeof ge&&(ge=Number(ge));if(Te<0||this.length<Te||this.length<_e)throw new RangeError("Out of range index");if(_e<=Te)return this;var gt;if(Te>>>=0,_e=void 0===_e?this.length:_e>>>0,ge||(ge=0),"number"==typeof ge)for(gt=Te;gt<_e;++gt)this[gt]=ge;else{var Kt=i.isBuffer(ge)?ge:i.from(ge,et),ir=Kt.length;if(0===ir)throw new TypeError('The value "'+ge+'" is invalid for argument "value"');for(gt=0;gt<_e-Te;++gt)this[gt+Te]=Kt[gt%ir]}return this};var ze={};function Ke(De,ge,Te){ze[De]=function(_e){!function h(De,ge){if("function"!=typeof ge&&null!==ge)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(ge&&ge.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Object.defineProperty(De,"prototype",{writable:!1}),ge&&d(De,ge)}(ft,_e);var et=b(ft);function ft(){var gt;return function c(De,ge){if(!(De instanceof ge))throw new TypeError("Cannot call a class as a function")}(this,ft),gt=et.call(this),Object.defineProperty(A(gt),"message",{value:ge.apply(A(gt),arguments),writable:!0,configurable:!0}),gt.name="".concat(gt.name," [").concat(De,"]"),delete gt.name,gt}return function f(De,ge,Te){return ge&&o(De.prototype,ge),Te&&o(De,Te),Object.defineProperty(De,"prototype",{writable:!1}),De}(ft,[{key:"code",get:function(){return De},set:function(Kt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Kt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(De,"]: ").concat(this.message)}}]),ft}(Te)}function ut(De){for(var ge="",Te=De.length,_e="-"===De[0]?1:0;Te>=_e+4;Te-=3)ge="_".concat(De.slice(Te-3,Te)).concat(ge);return"".concat(De.slice(0,Te)).concat(ge)}function We(De,ge,Te,_e,et,ft){if(De>Te||De<ge){var Kt,gt="bigint"==typeof ge?"n":"";throw Kt=ft>3?0===ge||ge===BigInt(0)?">= 0".concat(gt," and < 2").concat(gt," ** ").concat(8*(ft+1)).concat(gt):">= -(2".concat(gt," ** ").concat(8*(ft+1)-1).concat(gt,") and < 2 ** ")+"".concat(8*(ft+1)-1).concat(gt):">= ".concat(ge).concat(gt," and <= ").concat(Te).concat(gt),new ze.ERR_OUT_OF_RANGE("value",Kt,De)}!function ot(De,ge,Te){je(ge,"offset"),(void 0===De[ge]||void 0===De[ge+Te])&&lt(ge,De.length-(Te+1))}(_e,et,ft)}function je(De,ge){if("number"!=typeof De)throw new ze.ERR_INVALID_ARG_TYPE(ge,"number",De)}function lt(De,ge,Te){throw Math.floor(De)!==De?(je(De,Te),new ze.ERR_OUT_OF_RANGE(Te||"offset","an integer",De)):ge<0?new ze.ERR_BUFFER_OUT_OF_BOUNDS:new ze.ERR_OUT_OF_RANGE(Te||"offset",">= ".concat(Te?1:0," and <= ").concat(ge),De)}Ke("ERR_BUFFER_OUT_OF_BOUNDS",function(De){return De?"".concat(De," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ke("ERR_INVALID_ARG_TYPE",function(De,ge){return'The "'.concat(De,'" argument must be of type number. Received type ').concat(g(ge))},TypeError),Ke("ERR_OUT_OF_RANGE",function(De,ge,Te){var _e='The value of "'.concat(De,'" is out of range.'),et=Te;return Number.isInteger(Te)&&Math.abs(Te)>Math.pow(2,32)?et=ut(String(Te)):"bigint"==typeof Te&&(et=String(Te),(Te>Math.pow(BigInt(2),BigInt(32))||Te<-Math.pow(BigInt(2),BigInt(32)))&&(et=ut(et)),et+="n"),_e+" It must be ".concat(ge,". Received ").concat(et)},RangeError);var vt=/[^+/0-9A-Za-z-_]/g;function St(De,ge){ge=ge||1/0;for(var Te,_e=De.length,et=null,ft=[],gt=0;gt<_e;++gt){if((Te=De.charCodeAt(gt))>55295&&Te<57344){if(!et){if(Te>56319){(ge-=3)>-1&&ft.push(239,191,189);continue}if(gt+1===_e){(ge-=3)>-1&&ft.push(239,191,189);continue}et=Te;continue}if(Te<56320){(ge-=3)>-1&&ft.push(239,191,189),et=Te;continue}Te=65536+(et-55296<<10|Te-56320)}else et&&(ge-=3)>-1&&ft.push(239,191,189);if(et=null,Te<128){if((ge-=1)<0)break;ft.push(Te)}else if(Te<2048){if((ge-=2)<0)break;ft.push(Te>>6|192,63&Te|128)}else if(Te<65536){if((ge-=3)<0)break;ft.push(Te>>12|224,Te>>6&63|128,63&Te|128)}else{if(!(Te<1114112))throw new Error("Invalid code point");if((ge-=4)<0)break;ft.push(Te>>18|240,Te>>12&63|128,Te>>6&63|128,63&Te|128)}}return ft}function nt(De){return C.toByteArray(function pt(De){if((De=(De=De.split("=")[0]).trim().replace(vt,"")).length<2)return"";for(;De.length%4!=0;)De+="=";return De}(De))}function ke(De,ge,Te,_e){var et;for(et=0;et<_e&&!(et+Te>=ge.length||et>=De.length);++et)ge[et+Te]=De[et];return et}function Re(De,ge){return De instanceof ge||null!=De&&null!=De.constructor&&null!=De.constructor.name&&De.constructor.name===ge.name}function Be(De){return De!=De}var He=function(){for(var De="0123456789abcdef",ge=new Array(256),Te=0;Te<16;++Te)for(var _e=16*Te,et=0;et<16;++et)ge[_e+et]=De[Te]+De[et];return ge}();function Ye(De){return typeof BigInt>"u"?Ue:De}function Ue(){throw new Error("BigInt not supported")}},2321:function(v){"use strict";v.exports=c,v.exports.isMobile=c,v.exports.default=c;var w=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,n=/android|ipad|playbook|silk/i;function c(o){o||(o={});var f=o.ua;if(!f&&typeof navigator<"u"&&(f=navigator.userAgent),f&&f.headers&&"string"==typeof f.headers["user-agent"]&&(f=f.headers["user-agent"]),"string"!=typeof f)return!1;var h=w.test(f)&&!r.test(f)||!!o.tablet&&n.test(f);return!h&&o.tablet&&o.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==f.indexOf("Macintosh")&&-1!==f.indexOf("Safari")&&(h=!0),h}},3910:function(v,w){"use strict";w.byteLength=function b(C){var T=d(C),x=T[1];return 3*(T[0]+x)/4-x},w.toByteArray=function A(C){var T,y,L=d(C),x=L[0],E=L[1],M=new c(function p(C,T,L){return 3*(T+L)/4-L}(0,x,E)),i=0,D=E>0?x-4:x;for(y=0;y<D;y+=4)T=n[C.charCodeAt(y)]<<18|n[C.charCodeAt(y+1)]<<12|n[C.charCodeAt(y+2)]<<6|n[C.charCodeAt(y+3)],M[i++]=T>>16&255,M[i++]=T>>8&255,M[i++]=255&T;return 2===E&&(T=n[C.charCodeAt(y)]<<2|n[C.charCodeAt(y+1)]>>4,M[i++]=255&T),1===E&&(T=n[C.charCodeAt(y)]<<10|n[C.charCodeAt(y+1)]<<4|n[C.charCodeAt(y+2)]>>2,M[i++]=T>>8&255,M[i++]=255&T),M},w.fromByteArray=function g(C){for(var T,L=C.length,x=L%3,E=[],M=16383,i=0,D=L-x;i<D;i+=M)E.push(u(C,i,i+M>D?D:i+M));return 1===x?E.push(r[(T=C[L-1])>>2]+r[T<<4&63]+"=="):2===x&&E.push(r[(T=(C[L-2]<<8)+C[L-1])>>10]+r[T>>4&63]+r[T<<2&63]+"="),E.join("")};for(var r=[],n=[],c=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0;f<64;++f)r[f]=o[f],n[o.charCodeAt(f)]=f;function d(C){var T=C.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=C.indexOf("=");return-1===L&&(L=T),[L,L===T?0:4-L%4]}function m(C){return r[C>>18&63]+r[C>>12&63]+r[C>>6&63]+r[63&C]}function u(C,T,L){for(var E=[],M=T;M<L;M+=3)E.push(m((C[M]<<16&16711680)+(C[M+1]<<8&65280)+(255&C[M+2])));return E.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},3187:function(v,w){w.read=function(r,n,c,o,f){var h,d,b=8*f-o-1,p=(1<<b)-1,A=p>>1,m=-7,u=c?f-1:0,g=c?-1:1,C=r[n+u];for(u+=g,h=C&(1<<-m)-1,C>>=-m,m+=b;m>0;h=256*h+r[n+u],u+=g,m-=8);for(d=h&(1<<-m)-1,h>>=-m,m+=o;m>0;d=256*d+r[n+u],u+=g,m-=8);if(0===h)h=1-A;else{if(h===p)return d?NaN:1/0*(C?-1:1);d+=Math.pow(2,o),h-=A}return(C?-1:1)*d*Math.pow(2,h-o)},w.write=function(r,n,c,o,f,h){var d,b,p,A=8*h-f-1,m=(1<<A)-1,u=m>>1,g=23===f?Math.pow(2,-24)-Math.pow(2,-77):0,C=o?0:h-1,T=o?1:-1,L=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(b=isNaN(n)?1:0,d=m):(d=Math.floor(Math.log(n)/Math.LN2),n*(p=Math.pow(2,-d))<1&&(d--,p*=2),(n+=d+u>=1?g/p:g*Math.pow(2,1-u))*p>=2&&(d++,p/=2),d+u>=m?(b=0,d=m):d+u>=1?(b=(n*p-1)*Math.pow(2,f),d+=u):(b=n*Math.pow(2,u-1)*Math.pow(2,f),d=0));f>=8;r[c+C]=255&b,C+=T,b/=256,f-=8);for(d=d<<f|b,A+=f;A>0;r[c+C]=255&d,C+=T,d/=256,A-=8);r[c+C-T]|=128*L}},1152:function(v,w,r){"use strict";v.exports=function d(b){var p=(b=b||{}).eye||[0,0,1],A=b.center||[0,0,0],m=b.up||[0,1,0],u=b.distanceLimits||[0,1/0],g=b.mode||"turntable",C=n(),T=c(),L=o();return C.setDistanceLimits(u[0],u[1]),C.lookAt(0,p,A,m),T.setDistanceLimits(u[0],u[1]),T.lookAt(0,p,A,m),L.setDistanceLimits(u[0],u[1]),L.lookAt(0,p,A,m),new f({turntable:C,orbit:T,matrix:L},g)};var n=r(3440),c=r(7774),o=r(9298);function f(b,p){this._controllerNames=Object.keys(b),this._controllerList=this._controllerNames.map(function(A){return b[A]}),this._mode=p,this._active=b[p],this._active||(this._mode="turntable",this._active=b.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var h=f.prototype;h.flush=function(b){for(var p=this._controllerList,A=0;A<p.length;++A)p[A].flush(b)},h.idle=function(b){for(var p=this._controllerList,A=0;A<p.length;++A)p[A].idle(b)},h.lookAt=function(b,p,A,m){for(var u=this._controllerList,g=0;g<u.length;++g)u[g].lookAt(b,p,A,m)},h.rotate=function(b,p,A,m){for(var u=this._controllerList,g=0;g<u.length;++g)u[g].rotate(b,p,A,m)},h.pan=function(b,p,A,m){for(var u=this._controllerList,g=0;g<u.length;++g)u[g].pan(b,p,A,m)},h.translate=function(b,p,A,m){for(var u=this._controllerList,g=0;g<u.length;++g)u[g].translate(b,p,A,m)},h.setMatrix=function(b,p){for(var A=this._controllerList,m=0;m<A.length;++m)A[m].setMatrix(b,p)},h.setDistanceLimits=function(b,p){for(var A=this._controllerList,m=0;m<A.length;++m)A[m].setDistanceLimits(b,p)},h.setDistance=function(b,p){for(var A=this._controllerList,m=0;m<A.length;++m)A[m].setDistance(b,p)},h.recalcMatrix=function(b){this._active.recalcMatrix(b)},h.getDistance=function(b){return this._active.getDistance(b)},h.getDistanceLimits=function(b){return this._active.getDistanceLimits(b)},h.lastT=function(){return this._active.lastT()},h.setMode=function(b){if(b!==this._mode){var p=this._controllerNames.indexOf(b);if(!(p<0)){var A=this._active,m=this._controllerList[p],u=Math.max(A.lastT(),m.lastT());A.recalcMatrix(u),m.setMatrix(u,A.computedMatrix),this._active=m,this._mode=b,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},h.getMode=function(){return this._mode}},8126:function(v,w,r){"use strict";var n=typeof WeakMap>"u"?r(5346):WeakMap,c=r(5827),o=r(2944),f=new n;v.exports=function h(d){var b=f.get(d),p=b&&(b._triangleBuffer.handle||b._triangleBuffer.buffer);if(!p||!d.isBuffer(p)){var A=c(d,new Float32Array([-1,-1,-1,4,4,-1]));(b=o(d,[{buffer:A,type:d.FLOAT,size:2}]))._triangleBuffer=A,f.set(d,b)}b.bind(),d.drawArrays(d.TRIANGLES,0,3),b.unbind()}},8008:function(v,w,r){var n=r(4930);v.exports=function c(o,f,h){f="number"==typeof f?f:1,h=h||": ";var d=o.split(/\r?\n/),b=String(d.length+f-1).length;return d.map(function(p,A){var m=A+f,u=String(m).length;return n(m,b-u)+h+p}).join("\n")}},2153:function(v,w,r){"use strict";v.exports=function o(f){var h=f.length;if(0===h)return[];if(1===h)return[0];for(var d=f[0].length,b=[f[0]],p=[0],A=1;A<h;++A)if(b.push(f[A]),c(b,d)){if(p.push(A),p.length===d+1)return p}else b.pop();return p};var n=r(417);function c(f,h){for(var d=new Array(h+1),b=0;b<f.length;++b)d[b]=f[b];for(b=0;b<=f.length;++b){for(var p=f.length;p<=h;++p){for(var A=new Array(h),m=0;m<h;++m)A[m]=Math.pow(p+1-b,m);d[p]=A}if(n.apply(void 0,d))return!0}return!1}},4653:function(v,w,r){"use strict";v.exports=function o(f,h){return n(h).filter(function(d){for(var b=new Array(d.length),p=0;p<d.length;++p)b[p]=h[d[p]];return c(b)*f<1})};var n=r(4419),c=r(1778)},2350:function(v,w,r){v.exports=function o(f,h){return c(n(f,h))};var n=r(4653),c=r(8691)},7896:function(v){v.exports=function(r){return atob(r)}},957:function(v,w,r){"use strict";v.exports=function o(f,h){for(var d=h.length,b=new Array(d+1),p=0;p<d;++p){for(var A=new Array(d+1),m=0;m<=d;++m)A[m]=f[m][p];b[p]=A}for(b[d]=new Array(d+1),p=0;p<=d;++p)b[d][p]=1;var u=new Array(d+1);for(p=0;p<d;++p)u[p]=h[p];u[d]=1;var g=n(b,u),C=c(g[d+1]);0===C&&(C=1);var T=new Array(d+1);for(p=0;p<=d;++p)T[p]=c(g[p])/C;return T};var n=r(6606);function c(f){for(var h=0,d=0;d<f.length;++d)h+=f[d];return h}},1539:function(v,w,r){"use strict";var n=r(8524);v.exports=function c(o,f){return n(o[0].mul(f[1]).add(f[0].mul(o[1])),o[1].mul(f[1]))}},8846:function(v){"use strict";v.exports=function w(r,n){return r[0].mul(n[1]).cmp(n[0].mul(r[1]))}},9189:function(v,w,r){"use strict";var n=r(8524);v.exports=function c(o,f){return n(o[0].mul(f[1]),o[1].mul(f[0]))}},5125:function(v,w,r){"use strict";var n=r(234),c=r(3218),o=r(5514),f=r(2813),h=r(8524),d=r(9189);v.exports=function b(p,A){if(n(p))return A?d(p,b(A)):[p[0].clone(),p[1].clone()];var u,g,m=0;if(c(p))u=p.clone();else if("string"==typeof p)u=f(p);else{if(0===p)return[o(0),o(1)];if(p===Math.floor(p))u=o(p);else{for(;p!==Math.floor(p);)p*=Math.pow(2,256),m-=256;u=o(p)}}if(n(A))u.mul(A[1]),g=A[0].clone();else if(c(A))g=A.clone();else if("string"==typeof A)g=f(A);else if(A)if(A===Math.floor(A))g=o(A);else{for(;A!==Math.floor(A);)A*=Math.pow(2,256),m+=256;g=o(A)}else g=o(1);return m>0?u=u.ushln(m):m<0&&(g=g.ushln(-m)),h(u,g)}},234:function(v,w,r){"use strict";var n=r(3218);v.exports=function c(o){return Array.isArray(o)&&2===o.length&&n(o[0])&&n(o[1])}},4275:function(v,w,r){"use strict";var n=r(1928);v.exports=function c(o){return o.cmp(new n(0))}},9958:function(v,w,r){"use strict";var n=r(4275);v.exports=function c(o){var f=o.length,h=o.words,d=0;if(1===f)d=h[0];else if(2===f)d=h[0]+67108864*h[1];else for(var b=0;b<f;b++)d+=h[b]*Math.pow(67108864,b);return n(o)*d}},1112:function(v,w,r){"use strict";var n=r(8362),c=r(2288).countTrailingZeros;v.exports=function o(f){var h=c(n.lo(f));if(h<32)return h;var d=c(n.hi(f));return d>20?52:d+32}},3218:function(v,w,r){"use strict";r(1928),v.exports=function c(o){return o&&"object"==typeof o&&!!o.words}},5514:function(v,w,r){"use strict";var n=r(1928),c=r(8362);v.exports=function o(f){var h=c.exponent(f);return h<52?new n(f):new n(f*Math.pow(2,52-h)).ushln(h-52)}},8524:function(v,w,r){"use strict";var n=r(5514),c=r(4275);v.exports=function o(f,h){var d=c(f),b=c(h);if(0===d)return[n(0),n(1)];if(0===b)return[n(0),n(0)];b<0&&(f=f.neg(),h=h.neg());var p=f.gcd(h);return p.cmpn(1)?[f.div(p),h.div(p)]:[f,h]}},2813:function(v,w,r){"use strict";var n=r(1928);v.exports=function c(o){return new n(o)}},3962:function(v,w,r){"use strict";var n=r(8524);v.exports=function c(o,f){return n(o[0].mul(f[0]),o[1].mul(f[1]))}},4951:function(v,w,r){"use strict";var n=r(4275);v.exports=function c(o){return n(o[0])*n(o[1])}},4354:function(v,w,r){"use strict";var n=r(8524);v.exports=function c(o,f){return n(o[0].mul(f[1]).sub(o[1].mul(f[0])),o[1].mul(f[1]))}},7999:function(v,w,r){"use strict";var n=r(9958),c=r(1112);v.exports=function o(f){var h=f[0],d=f[1];if(0===h.cmpn(0))return 0;var b=h.abs().divmod(d.abs()),A=n(b.div),m=b.mod,u=h.negative!==d.negative?-1:1;if(0===m.cmpn(0))return u*A;if(A){var g=c(A)+4;return u*(A+(C=n(m.ushln(g).divRound(d)))*Math.pow(2,-g))}var T=d.bitLength()-m.bitLength()+53,C=n(m.ushln(T).divRound(d));return T<1023?u*C*Math.pow(2,-T):u*(C*=Math.pow(2,-1023))*Math.pow(2,1023-T)}},5070:function(v){"use strict";function w(h,d,b,p,A){for(var m=A+1;p<=A;){var u=p+A>>>1,g=h[u];(void 0!==b?b(g,d):g-d)>=0?(m=u,A=u-1):p=u+1}return m}function r(h,d,b,p,A){for(var m=A+1;p<=A;){var u=p+A>>>1,g=h[u];(void 0!==b?b(g,d):g-d)>0?(m=u,A=u-1):p=u+1}return m}function n(h,d,b,p,A){for(var m=p-1;p<=A;){var u=p+A>>>1,g=h[u];(void 0!==b?b(g,d):g-d)<0?(m=u,p=u+1):A=u-1}return m}function c(h,d,b,p,A){for(var m=p-1;p<=A;){var u=p+A>>>1,g=h[u];(void 0!==b?b(g,d):g-d)<=0?(m=u,p=u+1):A=u-1}return m}function o(h,d,b,p,A){for(;p<=A;){var m=p+A>>>1,u=h[m],g=void 0!==b?b(u,d):u-d;if(0===g)return m;g<=0?p=m+1:A=m-1}return-1}function f(h,d,b,p,A,m){return"function"==typeof b?m(h,d,b,void 0===p?0:0|p,void 0===A?h.length-1:0|A):m(h,d,void 0,void 0===b?0:0|b,void 0===p?h.length-1:0|p)}v.exports={ge:function(h,d,b,p,A){return f(h,d,b,p,A,w)},gt:function(h,d,b,p,A){return f(h,d,b,p,A,r)},lt:function(h,d,b,p,A){return f(h,d,b,p,A,n)},le:function(h,d,b,p,A){return f(h,d,b,p,A,c)},eq:function(h,d,b,p,A){return f(h,d,b,p,A,o)}}},2288:function(v,w){"use strict";function n(o){var f=32;return(o&=-o)&&f--,65535&o&&(f-=16),16711935&o&&(f-=8),252645135&o&&(f-=4),858993459&o&&(f-=2),1431655765&o&&(f-=1),f}w.INT_BITS=32,w.INT_MAX=2147483647,w.INT_MIN=-1<<31,w.sign=function(o){return(o>0)-(o<0)},w.abs=function(o){var f=o>>31;return(o^f)-f},w.min=function(o,f){return f^(o^f)&-(o<f)},w.max=function(o,f){return o^(o^f)&-(o<f)},w.isPow2=function(o){return!(o&o-1||!o)},w.log2=function(o){var f,h;return f=(o>65535)<<4,f|=h=((o>>>=f)>255)<<3,f|=h=((o>>>=h)>15)<<2,(f|=h=((o>>>=h)>3)<<1)|(o>>>=h)>>1},w.log10=function(o){return o>=1e9?9:o>=1e8?8:o>=1e7?7:o>=1e6?6:o>=1e5?5:o>=1e4?4:o>=1e3?3:o>=100?2:o>=10?1:0},w.popCount=function(o){return 16843009*((o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135)>>>24},w.countTrailingZeros=n,w.nextPow2=function(o){return o+=0===o,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,1+((o|=o>>>8)|o>>>16)},w.prevPow2=function(o){return o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,(o|=o>>>16)-(o>>>1)},w.parity=function(o){return o^=o>>>16,o^=o>>>8,o^=o>>>4,27030>>>(o&=15)&1};var c=new Array(256);(function(o){for(var f=0;f<256;++f){var h=f,d=f,b=7;for(h>>>=1;h;h>>>=1)d<<=1,d|=1&h,--b;o[f]=d<<b&255}})(c),w.reverse=function(o){return c[255&o]<<24|c[o>>>8&255]<<16|c[o>>>16&255]<<8|c[o>>>24&255]},w.interleave2=function(o,f){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))|(f=1431655765&((f=858993459&((f=252645135&((f=16711935&((f&=65535)|f<<8))|f<<4))|f<<2))|f<<1))<<1},w.deinterleave2=function(o,f){return(o=65535&((o=16711935&((o=252645135&((o=858993459&((o=o>>>f&1431655765)|o>>>1))|o>>>2))|o>>>4))|o>>>16))<<16>>16},w.interleave3=function(o,f,h){return o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2),(o|=(f=1227133513&((f=3272356035&((f=251719695&((f=4278190335&((f&=1023)|f<<16))|f<<8))|f<<4))|f<<2))<<1)|(h=1227133513&((h=3272356035&((h=251719695&((h=4278190335&((h&=1023)|h<<16))|h<<8))|h<<4))|h<<2))<<2},w.deinterleave3=function(o,f){return(o=1023&((o=4278190335&((o=251719695&((o=3272356035&((o=o>>>f&1227133513)|o>>>2))|o>>>4))|o>>>8))|o>>>16))<<22>>22},w.nextCombination=function(o){var f=o|o-1;return f+1|(~f&-~f)-1>>>n(o)+1}},1928:function(v,w,r){!function(n,c){"use strict";function o(H,U){if(!H)throw new Error(U||"Assertion failed")}function f(H,U){H.super_=U;var G=function(){};G.prototype=U.prototype,H.prototype=new G,H.prototype.constructor=H}function h(H,U,G){if(h.isBN(H))return H;this.negative=0,this.words=null,this.length=0,this.red=null,null!==H&&(("le"===U||"be"===U)&&(G=U,U=10),this._init(H||0,U||10,G||"be"))}var d;"object"==typeof n?n.exports=h:c.BN=h,h.BN=h,h.wordSize=26;try{d=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:r(6601).Buffer}catch{}function b(H,U){var G=H.charCodeAt(U);return G>=65&&G<=70?G-55:G>=97&&G<=102?G-87:G-48&15}function p(H,U,G){var Y=b(H,G);return G-1>=U&&(Y|=b(H,G-1)<<4),Y}function A(H,U,G,Y){for(var ee=0,ue=Math.min(H.length,G),ce=U;ce<ue;ce++){var pe=H.charCodeAt(ce)-48;ee*=Y,ee+=pe>=49?pe-49+10:pe>=17?pe-17+10:pe}return ee}h.isBN=function(U){return U instanceof h||null!==U&&"object"==typeof U&&U.constructor.wordSize===h.wordSize&&Array.isArray(U.words)},h.max=function(U,G){return U.cmp(G)>0?U:G},h.min=function(U,G){return U.cmp(G)<0?U:G},h.prototype._init=function(U,G,Y){if("number"==typeof U)return this._initNumber(U,G,Y);if("object"==typeof U)return this._initArray(U,G,Y);"hex"===G&&(G=16),o(G===(0|G)&&G>=2&&G<=36);var ee=0;"-"===(U=U.toString().replace(/\s+/g,""))[0]&&(ee++,this.negative=1),ee<U.length&&(16===G?this._parseHex(U,ee,Y):(this._parseBase(U,G,ee),"le"===Y&&this._initArray(this.toArray(),G,Y)))},h.prototype._initNumber=function(U,G,Y){U<0&&(this.negative=1,U=-U),U<67108864?(this.words=[67108863&U],this.length=1):U<4503599627370496?(this.words=[67108863&U,U/67108864&67108863],this.length=2):(o(U<9007199254740992),this.words=[67108863&U,U/67108864&67108863,1],this.length=3),"le"===Y&&this._initArray(this.toArray(),G,Y)},h.prototype._initArray=function(U,G,Y){if(o("number"==typeof U.length),U.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(U.length/3),this.words=new Array(this.length);for(var ee=0;ee<this.length;ee++)this.words[ee]=0;var ue,ce,pe=0;if("be"===Y)for(ee=U.length-1,ue=0;ee>=0;ee-=3)this.words[ue]|=(ce=U[ee]|U[ee-1]<<8|U[ee-2]<<16)<<pe&67108863,this.words[ue+1]=ce>>>26-pe&67108863,(pe+=24)>=26&&(pe-=26,ue++);else if("le"===Y)for(ee=0,ue=0;ee<U.length;ee+=3)this.words[ue]|=(ce=U[ee]|U[ee+1]<<8|U[ee+2]<<16)<<pe&67108863,this.words[ue+1]=ce>>>26-pe&67108863,(pe+=24)>=26&&(pe-=26,ue++);return this.strip()},h.prototype._parseHex=function(U,G,Y){this.length=Math.ceil((U.length-G)/6),this.words=new Array(this.length);for(var ee=0;ee<this.length;ee++)this.words[ee]=0;var pe,ue=0,ce=0;if("be"===Y)for(ee=U.length-1;ee>=G;ee-=2)pe=p(U,G,ee)<<ue,this.words[ce]|=67108863&pe,ue>=18?(ue-=18,this.words[ce+=1]|=pe>>>26):ue+=8;else for(ee=(U.length-G)%2==0?G+1:G;ee<U.length;ee+=2)pe=p(U,G,ee)<<ue,this.words[ce]|=67108863&pe,ue>=18?(ue-=18,this.words[ce+=1]|=pe>>>26):ue+=8;this.strip()},h.prototype._parseBase=function(U,G,Y){this.words=[0],this.length=1;for(var ee=0,ue=1;ue<=67108863;ue*=G)ee++;ee--,ue=ue/G|0;for(var ce=U.length-Y,pe=ce%ee,te=Math.min(ce,ce-pe)+Y,Q=0,K=Y;K<te;K+=ee)Q=A(U,K,K+ee,G),this.imuln(ue),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(0!==pe){var Z=1;for(Q=A(U,K,U.length,G),K=0;K<pe;K++)Z*=G;this.imuln(Z),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this.strip()},h.prototype.copy=function(U){U.words=new Array(this.length);for(var G=0;G<this.length;G++)U.words[G]=this.words[G];U.length=this.length,U.negative=this.negative,U.red=this.red},h.prototype.clone=function(){var U=new h(null);return this.copy(U),U},h.prototype._expand=function(U){for(;this.length<U;)this.words[this.length++]=0;return this},h.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},h.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},h.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function T(H,U,G){G.negative=U.negative^H.negative;var Y=H.length+U.length|0;G.length=Y,Y=Y-1|0;var ee=0|H.words[0],ue=0|U.words[0],ce=ee*ue,te=ce/67108864|0;G.words[0]=67108863&ce;for(var Q=1;Q<Y;Q++){for(var K=te>>>26,Z=67108863&te,q=Math.min(Q,U.length-1),fe=Math.max(0,Q-H.length+1);fe<=q;fe++)K+=(ce=(ee=0|H.words[Q-fe|0])*(ue=0|U.words[fe])+Z)/67108864|0,Z=67108863&ce;G.words[Q]=0|Z,te=0|K}return 0!==te?G.words[Q]=0|te:G.length--,G.strip()}h.prototype.toString=function(U,G){var Y;if(G=0|G||1,16===(U=U||10)||"hex"===U){Y="";for(var ee=0,ue=0,ce=0;ce<this.length;ce++){var pe=this.words[ce],te=(16777215&(pe<<ee|ue)).toString(16);Y=0!=(ue=pe>>>24-ee&16777215)||ce!==this.length-1?m[6-te.length]+te+Y:te+Y,(ee+=2)>=26&&(ee-=26,ce--)}for(0!==ue&&(Y=ue.toString(16)+Y);Y.length%G!=0;)Y="0"+Y;return 0!==this.negative&&(Y="-"+Y),Y}if(U===(0|U)&&U>=2&&U<=36){var Q=u[U],K=g[U];Y="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var q=Z.modn(K).toString(U);Y=(Z=Z.idivn(K)).isZero()?q+Y:m[Q-q.length]+q+Y}for(this.isZero()&&(Y="0"+Y);Y.length%G!=0;)Y="0"+Y;return 0!==this.negative&&(Y="-"+Y),Y}o(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var U=this.words[0];return 2===this.length?U+=67108864*this.words[1]:3===this.length&&1===this.words[2]?U+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-U:U},h.prototype.toJSON=function(){return this.toString(16)},h.prototype.toBuffer=function(U,G){return o(typeof d<"u"),this.toArrayLike(d,U,G)},h.prototype.toArray=function(U,G){return this.toArrayLike(Array,U,G)},h.prototype.toArrayLike=function(U,G,Y){var ee=this.byteLength(),ue=Y||Math.max(1,ee);o(ee<=ue,"byte array longer than desired length"),o(ue>0,"Requested array length <= 0"),this.strip();var te,Q,ce="le"===G,pe=new U(ue),K=this.clone();if(ce){for(Q=0;!K.isZero();Q++)te=K.andln(255),K.iushrn(8),pe[Q]=te;for(;Q<ue;Q++)pe[Q]=0}else{for(Q=0;Q<ue-ee;Q++)pe[Q]=0;for(Q=0;!K.isZero();Q++)te=K.andln(255),K.iushrn(8),pe[ue-Q-1]=te}return pe},h.prototype._countBits=Math.clz32?function(U){return 32-Math.clz32(U)}:function(U){var G=U,Y=0;return G>=4096&&(Y+=13,G>>>=13),G>=64&&(Y+=7,G>>>=7),G>=8&&(Y+=4,G>>>=4),G>=2&&(Y+=2,G>>>=2),Y+G},h.prototype._zeroBits=function(U){if(0===U)return 26;var G=U,Y=0;return 8191&G||(Y+=13,G>>>=13),127&G||(Y+=7,G>>>=7),15&G||(Y+=4,G>>>=4),3&G||(Y+=2,G>>>=2),1&G||Y++,Y},h.prototype.bitLength=function(){var G=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+G},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var U=0,G=0;G<this.length;G++){var Y=this._zeroBits(this.words[G]);if(U+=Y,26!==Y)break}return U},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(U){return 0!==this.negative?this.abs().inotn(U).iaddn(1):this.clone()},h.prototype.fromTwos=function(U){return this.testn(U-1)?this.notn(U).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return 0!==this.negative},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(U){for(;this.length<U.length;)this.words[this.length++]=0;for(var G=0;G<U.length;G++)this.words[G]=this.words[G]|U.words[G];return this.strip()},h.prototype.ior=function(U){return o(0==(this.negative|U.negative)),this.iuor(U)},h.prototype.or=function(U){return this.length>U.length?this.clone().ior(U):U.clone().ior(this)},h.prototype.uor=function(U){return this.length>U.length?this.clone().iuor(U):U.clone().iuor(this)},h.prototype.iuand=function(U){var G;G=this.length>U.length?U:this;for(var Y=0;Y<G.length;Y++)this.words[Y]=this.words[Y]&U.words[Y];return this.length=G.length,this.strip()},h.prototype.iand=function(U){return o(0==(this.negative|U.negative)),this.iuand(U)},h.prototype.and=function(U){return this.length>U.length?this.clone().iand(U):U.clone().iand(this)},h.prototype.uand=function(U){return this.length>U.length?this.clone().iuand(U):U.clone().iuand(this)},h.prototype.iuxor=function(U){var G,Y;this.length>U.length?(G=this,Y=U):(G=U,Y=this);for(var ee=0;ee<Y.length;ee++)this.words[ee]=G.words[ee]^Y.words[ee];if(this!==G)for(;ee<G.length;ee++)this.words[ee]=G.words[ee];return this.length=G.length,this.strip()},h.prototype.ixor=function(U){return o(0==(this.negative|U.negative)),this.iuxor(U)},h.prototype.xor=function(U){return this.length>U.length?this.clone().ixor(U):U.clone().ixor(this)},h.prototype.uxor=function(U){return this.length>U.length?this.clone().iuxor(U):U.clone().iuxor(this)},h.prototype.inotn=function(U){o("number"==typeof U&&U>=0);var G=0|Math.ceil(U/26),Y=U%26;this._expand(G),Y>0&&G--;for(var ee=0;ee<G;ee++)this.words[ee]=67108863&~this.words[ee];return Y>0&&(this.words[ee]=~this.words[ee]&67108863>>26-Y),this.strip()},h.prototype.notn=function(U){return this.clone().inotn(U)},h.prototype.setn=function(U,G){o("number"==typeof U&&U>=0);var Y=U/26|0,ee=U%26;return this._expand(Y+1),this.words[Y]=G?this.words[Y]|1<<ee:this.words[Y]&~(1<<ee),this.strip()},h.prototype.iadd=function(U){var G,Y,ee;if(0!==this.negative&&0===U.negative)return this.negative=0,G=this.isub(U),this.negative^=1,this._normSign();if(0===this.negative&&0!==U.negative)return U.negative=0,G=this.isub(U),U.negative=1,G._normSign();this.length>U.length?(Y=this,ee=U):(Y=U,ee=this);for(var ue=0,ce=0;ce<ee.length;ce++)this.words[ce]=67108863&(G=(0|Y.words[ce])+(0|ee.words[ce])+ue),ue=G>>>26;for(;0!==ue&&ce<Y.length;ce++)this.words[ce]=67108863&(G=(0|Y.words[ce])+ue),ue=G>>>26;if(this.length=Y.length,0!==ue)this.words[this.length]=ue,this.length++;else if(Y!==this)for(;ce<Y.length;ce++)this.words[ce]=Y.words[ce];return this},h.prototype.add=function(U){var G;return 0!==U.negative&&0===this.negative?(U.negative=0,G=this.sub(U),U.negative^=1,G):0===U.negative&&0!==this.negative?(this.negative=0,G=U.sub(this),this.negative=1,G):this.length>U.length?this.clone().iadd(U):U.clone().iadd(this)},h.prototype.isub=function(U){if(0!==U.negative){U.negative=0;var G=this.iadd(U);return U.negative=1,G._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(U),this.negative=1,this._normSign();var ee,ue,Y=this.cmp(U);if(0===Y)return this.negative=0,this.length=1,this.words[0]=0,this;Y>0?(ee=this,ue=U):(ee=U,ue=this);for(var ce=0,pe=0;pe<ue.length;pe++)ce=(G=(0|ee.words[pe])-(0|ue.words[pe])+ce)>>26,this.words[pe]=67108863&G;for(;0!==ce&&pe<ee.length;pe++)ce=(G=(0|ee.words[pe])+ce)>>26,this.words[pe]=67108863&G;if(0===ce&&pe<ee.length&&ee!==this)for(;pe<ee.length;pe++)this.words[pe]=ee.words[pe];return this.length=Math.max(this.length,pe),ee!==this&&(this.negative=1),this.strip()},h.prototype.sub=function(U){return this.clone().isub(U)};var L=function(U,G,Y){var te,Q,K,ee=U.words,ue=G.words,ce=Y.words,pe=0,Z=0|ee[0],q=8191&Z,fe=Z>>>13,re=0|ee[1],$=8191&re,le=re>>>13,se=0|ee[2],de=8191&se,we=se>>>13,Ee=0|ee[3],Me=8191&Ee,Ne=Ee>>>13,Ve=0|ee[4],Pe=8191&Ve,Ce=Ve>>>13,Ie=0|ee[5],Je=8191&Ie,Qe=Ie>>>13,ze=0|ee[6],Ke=8191&ze,ut=ze>>>13,ot=0|ee[7],We=8191&ot,je=ot>>>13,lt=0|ee[8],vt=8191&lt,pt=lt>>>13,St=0|ee[9],Ct=8191&St,_t=St>>>13,nt=0|ue[0],ke=8191&nt,Re=nt>>>13,Be=0|ue[1],He=8191&Be,Ye=Be>>>13,Ue=0|ue[2],De=8191&Ue,ge=Ue>>>13,Te=0|ue[3],_e=8191&Te,et=Te>>>13,ft=0|ue[4],gt=8191&ft,Kt=ft>>>13,ir=0|ue[5],Lt=8191&ir,Ut=ir>>>13,Qt=0|ue[6],Cr=8191&Qt,wt=Qt>>>13,$t=0|ue[7],rr=8191&$t,Lr=$t>>>13,mr=0|ue[8],bt=8191&mr,ct=mr>>>13,At=0|ue[9],It=8191&At,Ft=At>>>13;Y.negative=U.negative^G.negative,Y.length=19;var Rt=(pe+(te=Math.imul(q,ke))|0)+((8191&(Q=(Q=Math.imul(q,Re))+Math.imul(fe,ke)|0))<<13)|0;pe=((K=Math.imul(fe,Re))+(Q>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,te=Math.imul($,ke),Q=(Q=Math.imul($,Re))+Math.imul(le,ke)|0,K=Math.imul(le,Re);var Gt=(pe+(te=te+Math.imul(q,He)|0)|0)+((8191&(Q=(Q=Q+Math.imul(q,Ye)|0)+Math.imul(fe,He)|0))<<13)|0;pe=((K=K+Math.imul(fe,Ye)|0)+(Q>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,te=Math.imul(de,ke),Q=(Q=Math.imul(de,Re))+Math.imul(we,ke)|0,K=Math.imul(we,Re),te=te+Math.imul($,He)|0,Q=(Q=Q+Math.imul($,Ye)|0)+Math.imul(le,He)|0,K=K+Math.imul(le,Ye)|0;var jt=(pe+(te=te+Math.imul(q,De)|0)|0)+((8191&(Q=(Q=Q+Math.imul(q,ge)|0)+Math.imul(fe,De)|0))<<13)|0;pe=((K=K+Math.imul(fe,ge)|0)+(Q>>>13)|0)+(jt>>>26)|0,jt&=67108863,te=Math.imul(Me,ke),Q=(Q=Math.imul(Me,Re))+Math.imul(Ne,ke)|0,K=Math.imul(Ne,Re),te=te+Math.imul(de,He)|0,Q=(Q=Q+Math.imul(de,Ye)|0)+Math.imul(we,He)|0,K=K+Math.imul(we,Ye)|0,te=te+Math.imul($,De)|0,Q=(Q=Q+Math.imul($,ge)|0)+Math.imul(le,De)|0,K=K+Math.imul(le,ge)|0;var er=(pe+(te=te+Math.imul(q,_e)|0)|0)+((8191&(Q=(Q=Q+Math.imul(q,et)|0)+Math.imul(fe,_e)|0))<<13)|0;pe=((K=K+Math.imul(fe,et)|0)+(Q>>>13)|0)+(er>>>26)|0,er&=67108863,te=Math.imul(Pe,ke),Q=(Q=Math.imul(Pe,Re))+Math.imul(Ce,ke)|0,K=Math.imul(Ce,Re),te=te+Math.imul(Me,He)|0,Q=(Q=Q+Math.imul(Me,Ye)|0)+Math.imul(Ne,He)|0,K=K+Math.imul(Ne,Ye)|0,te=te+Math.imul(de,De)|0,Q=(Q=Q+Math.imul(de,ge)|0)+Math.imul(we,De)|0,K=K+Math.imul(we,ge)|0,te=te+Math.imul($,_e)|0,Q=(Q=Q+Math.imul($,et)|0)+Math.imul(le,_e)|0,K=K+Math.imul(le,et)|0;var dr=(pe+(te=te+Math.imul(q,gt)|0)|0)+((8191&(Q=(Q=Q+Math.imul(q,Kt)|0)+Math.imul(fe,gt)|0))<<13)|0;pe=((K=K+Math.imul(fe,Kt)|0)+(Q>>>13)|0)+(dr>>>26)|0,dr&=67108863,te=Math.imul(Je,ke),Q=(Q=Math.imul(Je,Re))+Math.imul(Qe,ke)|0,K=Math.imul(Qe,Re),te=te+Math.imul(Pe,He)|0,Q=(Q=Q+Math.imul(Pe,Ye)|0)+Math.imul(Ce,He)|0,K=K+Math.imul(Ce,Ye)|0,te=te+Math.imul(Me,De)|0,Q=(Q=Q+Math.imul(Me,ge)|0)+Math.imul(Ne,De)|0,K=K+Math.imul(Ne,ge)|0,te=te+Math.imul(de,_e)|0,Q=(Q=Q+Math.imul(de,et)|0)+Math.imul(we,_e)|0,K=K+Math.imul(we,et)|0,te=te+Math.imul($,gt)|0,Q=(Q=Q+Math.imul($,Kt)|0)+Math.imul(le,gt)|0,K=K+Math.imul(le,Kt)|0;var hr=(pe+(te=te+Math.imul(q,Lt)|0)|0)+((8191&(Q=(Q=Q+Math.imul(q,Ut)|0)+Math.imul(fe,Lt)|0))<<13)|0;pe=((K=K+Math.imul(fe,Ut)|0)+(Q>>>13)|0)+(hr>>>26)|0,hr&=67108863,te=Math.imul(Ke,ke),Q=(Q=Math.imul(Ke,Re))+Math.imul(ut,ke)|0,K=Math.imul(ut,Re),te=te+Math.imul(Je,He)|0,Q=(Q=Q+Math.imul(Je,Ye)|0)+Math.imul(Qe,He)|0,K=K+Math.imul(Qe,Ye)|0,te=te+Math.imul(Pe,De)|0,Q=(Q=Q+Math.imul(Pe,ge)|0)+Math.imul(Ce,De)|0,K=K+Math.imul(Ce,ge)|0,te=te+Math.imul(Me,_e)|0,Q=(Q=Q+Math.imul(Me,et)|0)+Math.imul(Ne,_e)|0,K=K+Math.imul(Ne,et)|0,te=te+Math.imul(de,gt)|0,Q=(Q=Q+Math.imul(de,Kt)|0)+Math.imul(we,gt)|0,K=K+Math.imul(we,Kt)|0,te=te+Math.imul($,Lt)|0,Q=(Q=Q+Math.imul($,Ut)|0)+Math.imul(le,Lt)|0,K=K+Math.imul(le,Ut)|0;var wr=(pe+(te=te+Math.imul(q,Cr)|0)|0)+((8191&(Q=(Q=Q+Math.imul(q,wt)|0)+Math.imul(fe,Cr)|0))<<13)|0;pe=((K=K+Math.imul(fe,wt)|0)+(Q>>>13)|0)+(wr>>>26)|0,wr&=67108863,te=Math.imul(We,ke),Q=(Q=Math.imul(We,Re))+Math.imul(je,ke)|0,K=Math.imul(je,Re),te=te+Math.imul(Ke,He)|0,Q=(Q=Q+Math.imul(Ke,Ye)|0)+Math.imul(ut,He)|0,K=K+Math.imul(ut,Ye)|0,te=te+Math.imul(Je,De)|0,Q=(Q=Q+Math.imul(Je,ge)|0)+Math.imul(Qe,De)|0,K=K+Math.imul(Qe,ge)|0,te=te+Math.imul(Pe,_e)|0,Q=(Q=Q+Math.imul(Pe,et)|0)+Math.imul(Ce,_e)|0,K=K+Math.imul(Ce,et)|0,te=te+Math.imul(Me,gt)|0,Q=(Q=Q+Math.imul(Me,Kt)|0)+Math.imul(Ne,gt)|0,K=K+Math.imul(Ne,Kt)|0,te=te+Math.imul(de,Lt)|0,Q=(Q=Q+Math.imul(de,Ut)|0)+Math.imul(we,Lt)|0,K=K+Math.imul(we,Ut)|0,te=te+Math.imul($,Cr)|0,Q=(Q=Q+Math.imul($,wt)|0)+Math.imul(le,Cr)|0,K=K+Math.imul(le,wt)|0;var $e=(pe+(te=te+Math.imul(q,rr)|0)|0)+((8191&(Q=(Q=Q+Math.imul(q,Lr)|0)+Math.imul(fe,rr)|0))<<13)|0;pe=((K=K+Math.imul(fe,Lr)|0)+(Q>>>13)|0)+($e>>>26)|0,$e&=67108863,te=Math.imul(vt,ke),Q=(Q=Math.imul(vt,Re))+Math.imul(pt,ke)|0,K=Math.imul(pt,Re),te=te+Math.imul(We,He)|0,Q=(Q=Q+Math.imul(We,Ye)|0)+Math.imul(je,He)|0,K=K+Math.imul(je,Ye)|0,te=te+Math.imul(Ke,De)|0,Q=(Q=Q+Math.imul(Ke,ge)|0)+Math.imul(ut,De)|0,K=K+Math.imul(ut,ge)|0,te=te+Math.imul(Je,_e)|0,Q=(Q=Q+Math.imul(Je,et)|0)+Math.imul(Qe,_e)|0,K=K+Math.imul(Qe,et)|0,te=te+Math.imul(Pe,gt)|0,Q=(Q=Q+Math.imul(Pe,Kt)|0)+Math.imul(Ce,gt)|0,K=K+Math.imul(Ce,Kt)|0,te=te+Math.imul(Me,Lt)|0,Q=(Q=Q+Math.imul(Me,Ut)|0)+Math.imul(Ne,Lt)|0,K=K+Math.imul(Ne,Ut)|0,te=te+Math.imul(de,Cr)|0,Q=(Q=Q+Math.imul(de,wt)|0)+Math.imul(we,Cr)|0,K=K+Math.imul(we,wt)|0,te=te+Math.imul($,rr)|0,Q=(Q=Q+Math.imul($,Lr)|0)+Math.imul(le,rr)|0,K=K+Math.imul(le,Lr)|0;var Ze=(pe+(te=te+Math.imul(q,bt)|0)|0)+((8191&(Q=(Q=Q+Math.imul(q,ct)|0)+Math.imul(fe,bt)|0))<<13)|0;pe=((K=K+Math.imul(fe,ct)|0)+(Q>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,te=Math.imul(Ct,ke),Q=(Q=Math.imul(Ct,Re))+Math.imul(_t,ke)|0,K=Math.imul(_t,Re),te=te+Math.imul(vt,He)|0,Q=(Q=Q+Math.imul(vt,Ye)|0)+Math.imul(pt,He)|0,K=K+Math.imul(pt,Ye)|0,te=te+Math.imul(We,De)|0,Q=(Q=Q+Math.imul(We,ge)|0)+Math.imul(je,De)|0,K=K+Math.imul(je,ge)|0,te=te+Math.imul(Ke,_e)|0,Q=(Q=Q+Math.imul(Ke,et)|0)+Math.imul(ut,_e)|0,K=K+Math.imul(ut,et)|0,te=te+Math.imul(Je,gt)|0,Q=(Q=Q+Math.imul(Je,Kt)|0)+Math.imul(Qe,gt)|0,K=K+Math.imul(Qe,Kt)|0,te=te+Math.imul(Pe,Lt)|0,Q=(Q=Q+Math.imul(Pe,Ut)|0)+Math.imul(Ce,Lt)|0,K=K+Math.imul(Ce,Ut)|0,te=te+Math.imul(Me,Cr)|0,Q=(Q=Q+Math.imul(Me,wt)|0)+Math.imul(Ne,Cr)|0,K=K+Math.imul(Ne,wt)|0,te=te+Math.imul(de,rr)|0,Q=(Q=Q+Math.imul(de,Lr)|0)+Math.imul(we,rr)|0,K=K+Math.imul(we,Lr)|0,te=te+Math.imul($,bt)|0,Q=(Q=Q+Math.imul($,ct)|0)+Math.imul(le,bt)|0,K=K+Math.imul(le,ct)|0;var zt=(pe+(te=te+Math.imul(q,It)|0)|0)+((8191&(Q=(Q=Q+Math.imul(q,Ft)|0)+Math.imul(fe,It)|0))<<13)|0;pe=((K=K+Math.imul(fe,Ft)|0)+(Q>>>13)|0)+(zt>>>26)|0,zt&=67108863,te=Math.imul(Ct,He),Q=(Q=Math.imul(Ct,Ye))+Math.imul(_t,He)|0,K=Math.imul(_t,Ye),te=te+Math.imul(vt,De)|0,Q=(Q=Q+Math.imul(vt,ge)|0)+Math.imul(pt,De)|0,K=K+Math.imul(pt,ge)|0,te=te+Math.imul(We,_e)|0,Q=(Q=Q+Math.imul(We,et)|0)+Math.imul(je,_e)|0,K=K+Math.imul(je,et)|0,te=te+Math.imul(Ke,gt)|0,Q=(Q=Q+Math.imul(Ke,Kt)|0)+Math.imul(ut,gt)|0,K=K+Math.imul(ut,Kt)|0,te=te+Math.imul(Je,Lt)|0,Q=(Q=Q+Math.imul(Je,Ut)|0)+Math.imul(Qe,Lt)|0,K=K+Math.imul(Qe,Ut)|0,te=te+Math.imul(Pe,Cr)|0,Q=(Q=Q+Math.imul(Pe,wt)|0)+Math.imul(Ce,Cr)|0,K=K+Math.imul(Ce,wt)|0,te=te+Math.imul(Me,rr)|0,Q=(Q=Q+Math.imul(Me,Lr)|0)+Math.imul(Ne,rr)|0,K=K+Math.imul(Ne,Lr)|0,te=te+Math.imul(de,bt)|0,Q=(Q=Q+Math.imul(de,ct)|0)+Math.imul(we,bt)|0,K=K+Math.imul(we,ct)|0;var kt=(pe+(te=te+Math.imul($,It)|0)|0)+((8191&(Q=(Q=Q+Math.imul($,Ft)|0)+Math.imul(le,It)|0))<<13)|0;pe=((K=K+Math.imul(le,Ft)|0)+(Q>>>13)|0)+(kt>>>26)|0,kt&=67108863,te=Math.imul(Ct,De),Q=(Q=Math.imul(Ct,ge))+Math.imul(_t,De)|0,K=Math.imul(_t,ge),te=te+Math.imul(vt,_e)|0,Q=(Q=Q+Math.imul(vt,et)|0)+Math.imul(pt,_e)|0,K=K+Math.imul(pt,et)|0,te=te+Math.imul(We,gt)|0,Q=(Q=Q+Math.imul(We,Kt)|0)+Math.imul(je,gt)|0,K=K+Math.imul(je,Kt)|0,te=te+Math.imul(Ke,Lt)|0,Q=(Q=Q+Math.imul(Ke,Ut)|0)+Math.imul(ut,Lt)|0,K=K+Math.imul(ut,Ut)|0,te=te+Math.imul(Je,Cr)|0,Q=(Q=Q+Math.imul(Je,wt)|0)+Math.imul(Qe,Cr)|0,K=K+Math.imul(Qe,wt)|0,te=te+Math.imul(Pe,rr)|0,Q=(Q=Q+Math.imul(Pe,Lr)|0)+Math.imul(Ce,rr)|0,K=K+Math.imul(Ce,Lr)|0,te=te+Math.imul(Me,bt)|0,Q=(Q=Q+Math.imul(Me,ct)|0)+Math.imul(Ne,bt)|0,K=K+Math.imul(Ne,ct)|0;var Xt=(pe+(te=te+Math.imul(de,It)|0)|0)+((8191&(Q=(Q=Q+Math.imul(de,Ft)|0)+Math.imul(we,It)|0))<<13)|0;pe=((K=K+Math.imul(we,Ft)|0)+(Q>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,te=Math.imul(Ct,_e),Q=(Q=Math.imul(Ct,et))+Math.imul(_t,_e)|0,K=Math.imul(_t,et),te=te+Math.imul(vt,gt)|0,Q=(Q=Q+Math.imul(vt,Kt)|0)+Math.imul(pt,gt)|0,K=K+Math.imul(pt,Kt)|0,te=te+Math.imul(We,Lt)|0,Q=(Q=Q+Math.imul(We,Ut)|0)+Math.imul(je,Lt)|0,K=K+Math.imul(je,Ut)|0,te=te+Math.imul(Ke,Cr)|0,Q=(Q=Q+Math.imul(Ke,wt)|0)+Math.imul(ut,Cr)|0,K=K+Math.imul(ut,wt)|0,te=te+Math.imul(Je,rr)|0,Q=(Q=Q+Math.imul(Je,Lr)|0)+Math.imul(Qe,rr)|0,K=K+Math.imul(Qe,Lr)|0,te=te+Math.imul(Pe,bt)|0,Q=(Q=Q+Math.imul(Pe,ct)|0)+Math.imul(Ce,bt)|0,K=K+Math.imul(Ce,ct)|0;var ur=(pe+(te=te+Math.imul(Me,It)|0)|0)+((8191&(Q=(Q=Q+Math.imul(Me,Ft)|0)+Math.imul(Ne,It)|0))<<13)|0;pe=((K=K+Math.imul(Ne,Ft)|0)+(Q>>>13)|0)+(ur>>>26)|0,ur&=67108863,te=Math.imul(Ct,gt),Q=(Q=Math.imul(Ct,Kt))+Math.imul(_t,gt)|0,K=Math.imul(_t,Kt),te=te+Math.imul(vt,Lt)|0,Q=(Q=Q+Math.imul(vt,Ut)|0)+Math.imul(pt,Lt)|0,K=K+Math.imul(pt,Ut)|0,te=te+Math.imul(We,Cr)|0,Q=(Q=Q+Math.imul(We,wt)|0)+Math.imul(je,Cr)|0,K=K+Math.imul(je,wt)|0,te=te+Math.imul(Ke,rr)|0,Q=(Q=Q+Math.imul(Ke,Lr)|0)+Math.imul(ut,rr)|0,K=K+Math.imul(ut,Lr)|0,te=te+Math.imul(Je,bt)|0,Q=(Q=Q+Math.imul(Je,ct)|0)+Math.imul(Qe,bt)|0,K=K+Math.imul(Qe,ct)|0;var vr=(pe+(te=te+Math.imul(Pe,It)|0)|0)+((8191&(Q=(Q=Q+Math.imul(Pe,Ft)|0)+Math.imul(Ce,It)|0))<<13)|0;pe=((K=K+Math.imul(Ce,Ft)|0)+(Q>>>13)|0)+(vr>>>26)|0,vr&=67108863,te=Math.imul(Ct,Lt),Q=(Q=Math.imul(Ct,Ut))+Math.imul(_t,Lt)|0,K=Math.imul(_t,Ut),te=te+Math.imul(vt,Cr)|0,Q=(Q=Q+Math.imul(vt,wt)|0)+Math.imul(pt,Cr)|0,K=K+Math.imul(pt,wt)|0,te=te+Math.imul(We,rr)|0,Q=(Q=Q+Math.imul(We,Lr)|0)+Math.imul(je,rr)|0,K=K+Math.imul(je,Lr)|0,te=te+Math.imul(Ke,bt)|0,Q=(Q=Q+Math.imul(Ke,ct)|0)+Math.imul(ut,bt)|0,K=K+Math.imul(ut,ct)|0;var or=(pe+(te=te+Math.imul(Je,It)|0)|0)+((8191&(Q=(Q=Q+Math.imul(Je,Ft)|0)+Math.imul(Qe,It)|0))<<13)|0;pe=((K=K+Math.imul(Qe,Ft)|0)+(Q>>>13)|0)+(or>>>26)|0,or&=67108863,te=Math.imul(Ct,Cr),Q=(Q=Math.imul(Ct,wt))+Math.imul(_t,Cr)|0,K=Math.imul(_t,wt),te=te+Math.imul(vt,rr)|0,Q=(Q=Q+Math.imul(vt,Lr)|0)+Math.imul(pt,rr)|0,K=K+Math.imul(pt,Lr)|0,te=te+Math.imul(We,bt)|0,Q=(Q=Q+Math.imul(We,ct)|0)+Math.imul(je,bt)|0,K=K+Math.imul(je,ct)|0;var Ht=(pe+(te=te+Math.imul(Ke,It)|0)|0)+((8191&(Q=(Q=Q+Math.imul(Ke,Ft)|0)+Math.imul(ut,It)|0))<<13)|0;pe=((K=K+Math.imul(ut,Ft)|0)+(Q>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,te=Math.imul(Ct,rr),Q=(Q=Math.imul(Ct,Lr))+Math.imul(_t,rr)|0,K=Math.imul(_t,Lr),te=te+Math.imul(vt,bt)|0,Q=(Q=Q+Math.imul(vt,ct)|0)+Math.imul(pt,bt)|0,K=K+Math.imul(pt,ct)|0;var pr=(pe+(te=te+Math.imul(We,It)|0)|0)+((8191&(Q=(Q=Q+Math.imul(We,Ft)|0)+Math.imul(je,It)|0))<<13)|0;pe=((K=K+Math.imul(je,Ft)|0)+(Q>>>13)|0)+(pr>>>26)|0,pr&=67108863,te=Math.imul(Ct,bt),Q=(Q=Math.imul(Ct,ct))+Math.imul(_t,bt)|0,K=Math.imul(_t,ct);var xr=(pe+(te=te+Math.imul(vt,It)|0)|0)+((8191&(Q=(Q=Q+Math.imul(vt,Ft)|0)+Math.imul(pt,It)|0))<<13)|0;pe=((K=K+Math.imul(pt,Ft)|0)+(Q>>>13)|0)+(xr>>>26)|0,xr&=67108863;var Mr=(pe+(te=Math.imul(Ct,It))|0)+((8191&(Q=(Q=Math.imul(Ct,Ft))+Math.imul(_t,It)|0))<<13)|0;return pe=((K=Math.imul(_t,Ft))+(Q>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,ce[0]=Rt,ce[1]=Gt,ce[2]=jt,ce[3]=er,ce[4]=dr,ce[5]=hr,ce[6]=wr,ce[7]=$e,ce[8]=Ze,ce[9]=zt,ce[10]=kt,ce[11]=Xt,ce[12]=ur,ce[13]=vr,ce[14]=or,ce[15]=Ht,ce[16]=pr,ce[17]=xr,ce[18]=Mr,0!==pe&&(ce[19]=pe,Y.length++),Y};function E(H,U,G){return(new M).mulp(H,U,G)}function M(H,U){this.x=H,this.y=U}Math.imul||(L=T),h.prototype.mulTo=function(U,G){var ee=this.length+U.length;return 10===this.length&&10===U.length?L(this,U,G):ee<63?T(this,U,G):ee<1024?function x(H,U,G){G.negative=U.negative^H.negative,G.length=H.length+U.length;for(var Y=0,ee=0,ue=0;ue<G.length-1;ue++){var ce=ee;ee=0;for(var pe=67108863&Y,te=Math.min(ue,U.length-1),Q=Math.max(0,ue-H.length+1);Q<=te;Q++){var fe=(0|H.words[ue-Q])*(0|U.words[Q]),re=67108863&fe;pe=67108863&(re=re+pe|0),ee+=(ce=(ce=ce+(fe/67108864|0)|0)+(re>>>26)|0)>>>26,ce&=67108863}G.words[ue]=pe,Y=ce,ce=ee}return 0!==Y?G.words[ue]=Y:G.length--,G.strip()}(this,U,G):E(this,U,G)},M.prototype.makeRBT=function(U){for(var G=new Array(U),Y=h.prototype._countBits(U)-1,ee=0;ee<U;ee++)G[ee]=this.revBin(ee,Y,U);return G},M.prototype.revBin=function(U,G,Y){if(0===U||U===Y-1)return U;for(var ee=0,ue=0;ue<G;ue++)ee|=(1&U)<<G-ue-1,U>>=1;return ee},M.prototype.permute=function(U,G,Y,ee,ue,ce){for(var pe=0;pe<ce;pe++)ee[pe]=G[U[pe]],ue[pe]=Y[U[pe]]},M.prototype.transform=function(U,G,Y,ee,ue,ce){this.permute(ce,U,G,Y,ee,ue);for(var pe=1;pe<ue;pe<<=1)for(var te=pe<<1,Q=Math.cos(2*Math.PI/te),K=Math.sin(2*Math.PI/te),Z=0;Z<ue;Z+=te)for(var q=Q,fe=K,re=0;re<pe;re++){var $=Y[Z+re],le=ee[Z+re],se=Y[Z+re+pe],de=ee[Z+re+pe],we=q*se-fe*de;de=q*de+fe*se,Y[Z+re]=$+(se=we),ee[Z+re]=le+de,Y[Z+re+pe]=$-se,ee[Z+re+pe]=le-de,re!==te&&(we=Q*q-K*fe,fe=Q*fe+K*q,q=we)}},M.prototype.guessLen13b=function(U,G){var Y=1|Math.max(G,U),ee=1&Y,ue=0;for(Y=Y/2|0;Y;Y>>>=1)ue++;return 1<<ue+1+ee},M.prototype.conjugate=function(U,G,Y){if(!(Y<=1))for(var ee=0;ee<Y/2;ee++){var ue=U[ee];U[ee]=U[Y-ee-1],U[Y-ee-1]=ue,ue=G[ee],G[ee]=-G[Y-ee-1],G[Y-ee-1]=-ue}},M.prototype.normalize13b=function(U,G){for(var Y=0,ee=0;ee<G/2;ee++){var ue=8192*Math.round(U[2*ee+1]/G)+Math.round(U[2*ee]/G)+Y;U[ee]=67108863&ue,Y=ue<67108864?0:ue/67108864|0}return U},M.prototype.convert13b=function(U,G,Y,ee){for(var ue=0,ce=0;ce<G;ce++)Y[2*ce]=8191&(ue+=0|U[ce]),Y[2*ce+1]=8191&(ue>>>=13),ue>>>=13;for(ce=2*G;ce<ee;++ce)Y[ce]=0;o(0===ue),o(0==(-8192&ue))},M.prototype.stub=function(U){for(var G=new Array(U),Y=0;Y<U;Y++)G[Y]=0;return G},M.prototype.mulp=function(U,G,Y){var ee=2*this.guessLen13b(U.length,G.length),ue=this.makeRBT(ee),ce=this.stub(ee),pe=new Array(ee),te=new Array(ee),Q=new Array(ee),K=new Array(ee),Z=new Array(ee),q=new Array(ee),fe=Y.words;fe.length=ee,this.convert13b(U.words,U.length,pe,ee),this.convert13b(G.words,G.length,K,ee),this.transform(pe,ce,te,Q,ee,ue),this.transform(K,ce,Z,q,ee,ue);for(var re=0;re<ee;re++){var $=te[re]*Z[re]-Q[re]*q[re];Q[re]=te[re]*q[re]+Q[re]*Z[re],te[re]=$}return this.conjugate(te,Q,ee),this.transform(te,Q,fe,ce,ee,ue),this.conjugate(fe,ce,ee),this.normalize13b(fe,ee),Y.negative=U.negative^G.negative,Y.length=U.length+G.length,Y.strip()},h.prototype.mul=function(U){var G=new h(null);return G.words=new Array(this.length+U.length),this.mulTo(U,G)},h.prototype.mulf=function(U){var G=new h(null);return G.words=new Array(this.length+U.length),E(this,U,G)},h.prototype.imul=function(U){return this.clone().mulTo(U,this)},h.prototype.imuln=function(U){o("number"==typeof U),o(U<67108864);for(var G=0,Y=0;Y<this.length;Y++){var ee=(0|this.words[Y])*U,ue=(67108863&ee)+(67108863&G);G>>=26,G+=ee/67108864|0,G+=ue>>>26,this.words[Y]=67108863&ue}return 0!==G&&(this.words[Y]=G,this.length++),this},h.prototype.muln=function(U){return this.clone().imuln(U)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(U){var G=function C(H){for(var U=new Array(H.bitLength()),G=0;G<U.length;G++){var ee=G%26;U[G]=(H.words[G/26|0]&1<<ee)>>>ee}return U}(U);if(0===G.length)return new h(1);for(var Y=this,ee=0;ee<G.length&&0===G[ee];ee++,Y=Y.sqr());if(++ee<G.length)for(var ue=Y.sqr();ee<G.length;ee++,ue=ue.sqr())0!==G[ee]&&(Y=Y.mul(ue));return Y},h.prototype.iushln=function(U){o("number"==typeof U&&U>=0);var ue,G=U%26,Y=(U-G)/26,ee=67108863>>>26-G<<26-G;if(0!==G){var ce=0;for(ue=0;ue<this.length;ue++){var pe=this.words[ue]&ee;this.words[ue]=(0|this.words[ue])-pe<<G|ce,ce=pe>>>26-G}ce&&(this.words[ue]=ce,this.length++)}if(0!==Y){for(ue=this.length-1;ue>=0;ue--)this.words[ue+Y]=this.words[ue];for(ue=0;ue<Y;ue++)this.words[ue]=0;this.length+=Y}return this.strip()},h.prototype.ishln=function(U){return o(0===this.negative),this.iushln(U)},h.prototype.iushrn=function(U,G,Y){var ee;o("number"==typeof U&&U>=0),ee=G?(G-G%26)/26:0;var ue=U%26,ce=Math.min((U-ue)/26,this.length),pe=67108863^67108863>>>ue<<ue,te=Y;if(ee-=ce,ee=Math.max(0,ee),te){for(var Q=0;Q<ce;Q++)te.words[Q]=this.words[Q];te.length=ce}if(0!==ce)if(this.length>ce)for(this.length-=ce,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+ce];else this.words[0]=0,this.length=1;var K=0;for(Q=this.length-1;Q>=0&&(0!==K||Q>=ee);Q--){var Z=0|this.words[Q];this.words[Q]=K<<26-ue|Z>>>ue,K=Z&pe}return te&&0!==K&&(te.words[te.length++]=K),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},h.prototype.ishrn=function(U,G,Y){return o(0===this.negative),this.iushrn(U,G,Y)},h.prototype.shln=function(U){return this.clone().ishln(U)},h.prototype.ushln=function(U){return this.clone().iushln(U)},h.prototype.shrn=function(U){return this.clone().ishrn(U)},h.prototype.ushrn=function(U){return this.clone().iushrn(U)},h.prototype.testn=function(U){o("number"==typeof U&&U>=0);var G=U%26,Y=(U-G)/26;return!(this.length<=Y||!(this.words[Y]&1<<G))},h.prototype.imaskn=function(U){o("number"==typeof U&&U>=0);var G=U%26,Y=(U-G)/26;return o(0===this.negative,"imaskn works only with positive numbers"),this.length<=Y?this:(0!==G&&Y++,this.length=Math.min(Y,this.length),0!==G&&(this.words[this.length-1]&=67108863^67108863>>>G<<G),this.strip())},h.prototype.maskn=function(U){return this.clone().imaskn(U)},h.prototype.iaddn=function(U){return o("number"==typeof U),o(U<67108864),U<0?this.isubn(-U):0!==this.negative?1===this.length&&(0|this.words[0])<U?(this.words[0]=U-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(U),this.negative=1,this):this._iaddn(U)},h.prototype._iaddn=function(U){this.words[0]+=U;for(var G=0;G<this.length&&this.words[G]>=67108864;G++)this.words[G]-=67108864,G===this.length-1?this.words[G+1]=1:this.words[G+1]++;return this.length=Math.max(this.length,G+1),this},h.prototype.isubn=function(U){if(o("number"==typeof U),o(U<67108864),U<0)return this.iaddn(-U);if(0!==this.negative)return this.negative=0,this.iaddn(U),this.negative=1,this;if(this.words[0]-=U,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var G=0;G<this.length&&this.words[G]<0;G++)this.words[G]+=67108864,this.words[G+1]-=1;return this.strip()},h.prototype.addn=function(U){return this.clone().iaddn(U)},h.prototype.subn=function(U){return this.clone().isubn(U)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(U,G,Y){var ue;this._expand(U.length+Y);var ce,pe=0;for(ue=0;ue<U.length;ue++){ce=(0|this.words[ue+Y])+pe;var te=(0|U.words[ue])*G;pe=((ce-=67108863&te)>>26)-(te/67108864|0),this.words[ue+Y]=67108863&ce}for(;ue<this.length-Y;ue++)pe=(ce=(0|this.words[ue+Y])+pe)>>26,this.words[ue+Y]=67108863&ce;if(0===pe)return this.strip();for(o(-1===pe),pe=0,ue=0;ue<this.length;ue++)pe=(ce=-(0|this.words[ue])+pe)>>26,this.words[ue]=67108863&ce;return this.negative=1,this.strip()},h.prototype._wordDiv=function(U,G){var Y,ee=this.clone(),ue=U,ce=0|ue.words[ue.length-1];0!=(Y=26-this._countBits(ce))&&(ue=ue.ushln(Y),ee.iushln(Y),ce=0|ue.words[ue.length-1]);var Q,te=ee.length-ue.length;if("mod"!==G){(Q=new h(null)).length=te+1,Q.words=new Array(Q.length);for(var K=0;K<Q.length;K++)Q.words[K]=0}var Z=ee.clone()._ishlnsubmul(ue,1,te);0===Z.negative&&(ee=Z,Q&&(Q.words[te]=1));for(var q=te-1;q>=0;q--){var fe=67108864*(0|ee.words[ue.length+q])+(0|ee.words[ue.length+q-1]);for(fe=Math.min(fe/ce|0,67108863),ee._ishlnsubmul(ue,fe,q);0!==ee.negative;)fe--,ee.negative=0,ee._ishlnsubmul(ue,1,q),ee.isZero()||(ee.negative^=1);Q&&(Q.words[q]=fe)}return Q&&Q.strip(),ee.strip(),"div"!==G&&0!==Y&&ee.iushrn(Y),{div:Q||null,mod:ee}},h.prototype.divmod=function(U,G,Y){return o(!U.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:0!==this.negative&&0===U.negative?(ce=this.neg().divmod(U,G),"mod"!==G&&(ee=ce.div.neg()),"div"!==G&&(ue=ce.mod.neg(),Y&&0!==ue.negative&&ue.iadd(U)),{div:ee,mod:ue}):0===this.negative&&0!==U.negative?(ce=this.divmod(U.neg(),G),"mod"!==G&&(ee=ce.div.neg()),{div:ee,mod:ce.mod}):this.negative&U.negative?(ce=this.neg().divmod(U.neg(),G),"div"!==G&&(ue=ce.mod.neg(),Y&&0!==ue.negative&&ue.isub(U)),{div:ce.div,mod:ue}):U.length>this.length||this.cmp(U)<0?{div:new h(0),mod:this}:1===U.length?"div"===G?{div:this.divn(U.words[0]),mod:null}:"mod"===G?{div:null,mod:new h(this.modn(U.words[0]))}:{div:this.divn(U.words[0]),mod:new h(this.modn(U.words[0]))}:this._wordDiv(U,G);var ee,ue,ce},h.prototype.div=function(U){return this.divmod(U,"div",!1).div},h.prototype.mod=function(U){return this.divmod(U,"mod",!1).mod},h.prototype.umod=function(U){return this.divmod(U,"mod",!0).mod},h.prototype.divRound=function(U){var G=this.divmod(U);if(G.mod.isZero())return G.div;var Y=0!==G.div.negative?G.mod.isub(U):G.mod,ee=U.ushrn(1),ue=U.andln(1),ce=Y.cmp(ee);return ce<0||1===ue&&0===ce?G.div:0!==G.div.negative?G.div.isubn(1):G.div.iaddn(1)},h.prototype.modn=function(U){o(U<=67108863);for(var G=(1<<26)%U,Y=0,ee=this.length-1;ee>=0;ee--)Y=(G*Y+(0|this.words[ee]))%U;return Y},h.prototype.idivn=function(U){o(U<=67108863);for(var G=0,Y=this.length-1;Y>=0;Y--){var ee=(0|this.words[Y])+67108864*G;this.words[Y]=ee/U|0,G=ee%U}return this.strip()},h.prototype.divn=function(U){return this.clone().idivn(U)},h.prototype.egcd=function(U){o(0===U.negative),o(!U.isZero());var G=this,Y=U.clone();G=0!==G.negative?G.umod(U):G.clone();for(var ee=new h(1),ue=new h(0),ce=new h(0),pe=new h(1),te=0;G.isEven()&&Y.isEven();)G.iushrn(1),Y.iushrn(1),++te;for(var Q=Y.clone(),K=G.clone();!G.isZero();){for(var Z=0,q=1;!(G.words[0]&q)&&Z<26;++Z,q<<=1);if(Z>0)for(G.iushrn(Z);Z-- >0;)(ee.isOdd()||ue.isOdd())&&(ee.iadd(Q),ue.isub(K)),ee.iushrn(1),ue.iushrn(1);for(var fe=0,re=1;!(Y.words[0]&re)&&fe<26;++fe,re<<=1);if(fe>0)for(Y.iushrn(fe);fe-- >0;)(ce.isOdd()||pe.isOdd())&&(ce.iadd(Q),pe.isub(K)),ce.iushrn(1),pe.iushrn(1);G.cmp(Y)>=0?(G.isub(Y),ee.isub(ce),ue.isub(pe)):(Y.isub(G),ce.isub(ee),pe.isub(ue))}return{a:ce,b:pe,gcd:Y.iushln(te)}},h.prototype._invmp=function(U){o(0===U.negative),o(!U.isZero());var Z,G=this,Y=U.clone();G=0!==G.negative?G.umod(U):G.clone();for(var ee=new h(1),ue=new h(0),ce=Y.clone();G.cmpn(1)>0&&Y.cmpn(1)>0;){for(var pe=0,te=1;!(G.words[0]&te)&&pe<26;++pe,te<<=1);if(pe>0)for(G.iushrn(pe);pe-- >0;)ee.isOdd()&&ee.iadd(ce),ee.iushrn(1);for(var Q=0,K=1;!(Y.words[0]&K)&&Q<26;++Q,K<<=1);if(Q>0)for(Y.iushrn(Q);Q-- >0;)ue.isOdd()&&ue.iadd(ce),ue.iushrn(1);G.cmp(Y)>=0?(G.isub(Y),ee.isub(ue)):(Y.isub(G),ue.isub(ee))}return(Z=0===G.cmpn(1)?ee:ue).cmpn(0)<0&&Z.iadd(U),Z},h.prototype.gcd=function(U){if(this.isZero())return U.abs();if(U.isZero())return this.abs();var G=this.clone(),Y=U.clone();G.negative=0,Y.negative=0;for(var ee=0;G.isEven()&&Y.isEven();ee++)G.iushrn(1),Y.iushrn(1);for(;;){for(;G.isEven();)G.iushrn(1);for(;Y.isEven();)Y.iushrn(1);var ue=G.cmp(Y);if(ue<0){var ce=G;G=Y,Y=ce}else if(0===ue||0===Y.cmpn(1))break;G.isub(Y)}return Y.iushln(ee)},h.prototype.invm=function(U){return this.egcd(U).a.umod(U)},h.prototype.isEven=function(){return 0==(1&this.words[0])},h.prototype.isOdd=function(){return 1==(1&this.words[0])},h.prototype.andln=function(U){return this.words[0]&U},h.prototype.bincn=function(U){o("number"==typeof U);var G=U%26,Y=(U-G)/26,ee=1<<G;if(this.length<=Y)return this._expand(Y+1),this.words[Y]|=ee,this;for(var ue=ee,ce=Y;0!==ue&&ce<this.length;ce++){var pe=0|this.words[ce];ue=(pe+=ue)>>>26,this.words[ce]=pe&=67108863}return 0!==ue&&(this.words[ce]=ue,this.length++),this},h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},h.prototype.cmpn=function(U){var Y,G=U<0;if(0!==this.negative&&!G)return-1;if(0===this.negative&&G)return 1;if(this.strip(),this.length>1)Y=1;else{G&&(U=-U),o(U<=67108863,"Number is too big");var ee=0|this.words[0];Y=ee===U?0:ee<U?-1:1}return 0!==this.negative?0|-Y:Y},h.prototype.cmp=function(U){if(0!==this.negative&&0===U.negative)return-1;if(0===this.negative&&0!==U.negative)return 1;var G=this.ucmp(U);return 0!==this.negative?0|-G:G},h.prototype.ucmp=function(U){if(this.length>U.length)return 1;if(this.length<U.length)return-1;for(var G=0,Y=this.length-1;Y>=0;Y--){var ee=0|this.words[Y],ue=0|U.words[Y];if(ee!==ue){ee<ue?G=-1:ee>ue&&(G=1);break}}return G},h.prototype.gtn=function(U){return 1===this.cmpn(U)},h.prototype.gt=function(U){return 1===this.cmp(U)},h.prototype.gten=function(U){return this.cmpn(U)>=0},h.prototype.gte=function(U){return this.cmp(U)>=0},h.prototype.ltn=function(U){return-1===this.cmpn(U)},h.prototype.lt=function(U){return-1===this.cmp(U)},h.prototype.lten=function(U){return this.cmpn(U)<=0},h.prototype.lte=function(U){return this.cmp(U)<=0},h.prototype.eqn=function(U){return 0===this.cmpn(U)},h.prototype.eq=function(U){return 0===this.cmp(U)},h.red=function(U){return new z(U)},h.prototype.toRed=function(U){return o(!this.red,"Already a number in reduction context"),o(0===this.negative,"red works only with positives"),U.convertTo(this)._forceRed(U)},h.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(U){return this.red=U,this},h.prototype.forceRed=function(U){return o(!this.red,"Already a number in reduction context"),this._forceRed(U)},h.prototype.redAdd=function(U){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,U)},h.prototype.redIAdd=function(U){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,U)},h.prototype.redSub=function(U){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,U)},h.prototype.redISub=function(U){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,U)},h.prototype.redShl=function(U){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,U)},h.prototype.redMul=function(U){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,U),this.red.mul(this,U)},h.prototype.redIMul=function(U){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,U),this.red.imul(this,U)},h.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(U){return o(this.red&&!U.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,U)};var i={k256:null,p224:null,p192:null,p25519:null};function D(H,U){this.name=H,this.p=new h(U,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function B(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function F(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(H){if("string"==typeof H){var U=h._prime(H);this.m=U.p,this.prime=U}else o(H.gtn(1),"modulus must be greater than 1"),this.m=H,this.prime=null}function V(H){z.call(this,H),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}D.prototype._tmp=function(){var U=new h(null);return U.words=new Array(Math.ceil(this.n/13)),U},D.prototype.ireduce=function(U){var Y,G=U;do{this.split(G,this.tmp),Y=(G=(G=this.imulK(G)).iadd(this.tmp)).bitLength()}while(Y>this.n);var ee=Y<this.n?-1:G.ucmp(this.p);return 0===ee?(G.words[0]=0,G.length=1):ee>0?G.isub(this.p):void 0!==G.strip?G.strip():G._strip(),G},D.prototype.split=function(U,G){U.iushrn(this.n,0,G)},D.prototype.imulK=function(U){return U.imul(this.k)},f(y,D),y.prototype.split=function(U,G){for(var Y=4194303,ee=Math.min(U.length,9),ue=0;ue<ee;ue++)G.words[ue]=U.words[ue];if(G.length=ee,U.length<=9)return U.words[0]=0,void(U.length=1);var ce=U.words[9];for(G.words[G.length++]=ce&Y,ue=10;ue<U.length;ue++){var pe=0|U.words[ue];U.words[ue-10]=(pe&Y)<<4|ce>>>22,ce=pe}U.words[ue-10]=ce>>>=22,U.length-=0===ce&&U.length>10?10:9},y.prototype.imulK=function(U){U.words[U.length]=0,U.words[U.length+1]=0,U.length+=2;for(var G=0,Y=0;Y<U.length;Y++){var ee=0|U.words[Y];U.words[Y]=67108863&(G+=977*ee),G=64*ee+(G/67108864|0)}return 0===U.words[U.length-1]&&(U.length--,0===U.words[U.length-1]&&U.length--),U},f(B,D),f(F,D),f(_,D),_.prototype.imulK=function(U){for(var G=0,Y=0;Y<U.length;Y++){var ee=19*(0|U.words[Y])+G,ue=67108863&ee;ee>>>=26,U.words[Y]=ue,G=ee}return 0!==G&&(U.words[U.length++]=G),U},h._prime=function(U){if(i[U])return i[U];var G;if("k256"===U)G=new y;else if("p224"===U)G=new B;else if("p192"===U)G=new F;else{if("p25519"!==U)throw new Error("Unknown prime "+U);G=new _}return i[U]=G,G},z.prototype._verify1=function(U){o(0===U.negative,"red works only with positives"),o(U.red,"red works only with red numbers")},z.prototype._verify2=function(U,G){o(0==(U.negative|G.negative),"red works only with positives"),o(U.red&&U.red===G.red,"red works only with red numbers")},z.prototype.imod=function(U){return this.prime?this.prime.ireduce(U)._forceRed(this):U.umod(this.m)._forceRed(this)},z.prototype.neg=function(U){return U.isZero()?U.clone():this.m.sub(U)._forceRed(this)},z.prototype.add=function(U,G){this._verify2(U,G);var Y=U.add(G);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y._forceRed(this)},z.prototype.iadd=function(U,G){this._verify2(U,G);var Y=U.iadd(G);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y},z.prototype.sub=function(U,G){this._verify2(U,G);var Y=U.sub(G);return Y.cmpn(0)<0&&Y.iadd(this.m),Y._forceRed(this)},z.prototype.isub=function(U,G){this._verify2(U,G);var Y=U.isub(G);return Y.cmpn(0)<0&&Y.iadd(this.m),Y},z.prototype.shl=function(U,G){return this._verify1(U),this.imod(U.ushln(G))},z.prototype.imul=function(U,G){return this._verify2(U,G),this.imod(U.imul(G))},z.prototype.mul=function(U,G){return this._verify2(U,G),this.imod(U.mul(G))},z.prototype.isqr=function(U){return this.imul(U,U.clone())},z.prototype.sqr=function(U){return this.mul(U,U)},z.prototype.sqrt=function(U){if(U.isZero())return U.clone();var G=this.m.andln(3);if(o(G%2==1),3===G){var Y=this.m.add(new h(1)).iushrn(2);return this.pow(U,Y)}for(var ee=this.m.subn(1),ue=0;!ee.isZero()&&0===ee.andln(1);)ue++,ee.iushrn(1);o(!ee.isZero());var ce=new h(1).toRed(this),pe=ce.redNeg(),te=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new h(2*Q*Q).toRed(this);0!==this.pow(Q,te).cmp(pe);)Q.redIAdd(pe);for(var K=this.pow(Q,ee),Z=this.pow(U,ee.addn(1).iushrn(1)),q=this.pow(U,ee),fe=ue;0!==q.cmp(ce);){for(var re=q,$=0;0!==re.cmp(ce);$++)re=re.redSqr();o($<fe);var le=this.pow(K,new h(1).iushln(fe-$-1));Z=Z.redMul(le),K=le.redSqr(),q=q.redMul(K),fe=$}return Z},z.prototype.invm=function(U){var G=U._invmp(this.m);return 0!==G.negative?(G.negative=0,this.imod(G).redNeg()):this.imod(G)},z.prototype.pow=function(U,G){if(G.isZero())return new h(1).toRed(this);if(0===G.cmpn(1))return U.clone();var ee=new Array(16);ee[0]=new h(1).toRed(this),ee[1]=U;for(var ue=2;ue<ee.length;ue++)ee[ue]=this.mul(ee[ue-1],U);var ce=ee[0],pe=0,te=0,Q=G.bitLength()%26;for(0===Q&&(Q=26),ue=G.length-1;ue>=0;ue--){for(var K=G.words[ue],Z=Q-1;Z>=0;Z--){var q=K>>Z&1;ce!==ee[0]&&(ce=this.sqr(ce)),0!==q||0!==pe?(pe<<=1,pe|=q,(4==++te||0===ue&&0===Z)&&(ce=this.mul(ce,ee[pe]),te=0,pe=0)):te=0}Q=26}return ce},z.prototype.convertTo=function(U){var G=U.umod(this.m);return G===U?G.clone():G},z.prototype.convertFrom=function(U){var G=U.clone();return G.red=null,G},h.mont=function(U){return new V(U)},f(V,z),V.prototype.convertTo=function(U){return this.imod(U.ushln(this.shift))},V.prototype.convertFrom=function(U){var G=this.imod(U.mul(this.rinv));return G.red=null,G},V.prototype.imul=function(U,G){if(U.isZero()||G.isZero())return U.words[0]=0,U.length=1,U;var Y=U.imul(G),ee=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ue=Y.isub(ee).iushrn(this.shift),ce=ue;return ue.cmp(this.m)>=0?ce=ue.isub(this.m):ue.cmpn(0)<0&&(ce=ue.iadd(this.m)),ce._forceRed(this)},V.prototype.mul=function(U,G){if(U.isZero()||G.isZero())return new h(0)._forceRed(this);var Y=U.mul(G),ee=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ue=Y.isub(ee).iushrn(this.shift),ce=ue;return ue.cmp(this.m)>=0?ce=ue.isub(this.m):ue.cmpn(0)<0&&(ce=ue.iadd(this.m)),ce._forceRed(this)},V.prototype.invm=function(U){return this.imod(U._invmp(this.m).mul(this.r2))._forceRed(this)}}(v=r.nmd(v),this)},2692:function(v){"use strict";v.exports=function w(r){var n,c,o,f=r.length,h=0;for(n=0;n<f;++n)h+=r[n].length;var d=new Array(h),b=0;for(n=0;n<f;++n){var p=r[n],A=p.length;for(c=0;c<A;++c){var m=d[b++]=new Array(A-1),u=0;for(o=0;o<A;++o)o!==c&&(m[u++]=p[o]);if(1&c){var g=m[1];m[1]=m[0],m[0]=g}}}return d}},2569:function(v,w,r){"use strict";v.exports=function u(g,C,T){switch(arguments.length){case 1:return function A(g){return b=[],d(g,g,p,!0),b}(g);case 2:return"function"==typeof C?d(g,g,C,!0):function m(g,C){return b=[],d(g,C,p,!1),b}(g,C);case 3:return d(g,C,T,!1);default:throw new Error("box-intersect: Invalid arguments")}};var b,n=r(5306),c=r(1390),o=r(2337);function f(g,C){for(var T=0;T<g;++T)if(!(C[T]<=C[T+g]))return!0;return!1}function h(g,C,T,L){for(var x=0,E=0,M=0,i=g.length;M<i;++M){var D=g[M];if(!f(C,D)){for(var y=0;y<2*C;++y)T[x++]=D[y];L[E++]=M}}return E}function d(g,C,T,L){var x=g.length,E=C.length;if(!(x<=0||E<=0)){var M=g[0].length>>>1;if(!(M<=0)){var i,D=n.mallocDouble(2*M*x),y=n.mallocInt32(x);if((x=h(g,M,D,y))>0){if(1===M&&L)c.init(x),i=c.sweepComplete(M,T,0,x,D,y,0,x,D,y);else{var B=n.mallocDouble(2*M*E),F=n.mallocInt32(E);(E=h(C,M,B,F))>0&&(c.init(x+E),i=1===M?c.sweepBipartite(M,T,0,x,D,y,0,E,B,F):o(M,T,L,x,D,y,E,B,F),n.free(B),n.free(F))}n.free(D),n.free(y)}return i}}}function p(g,C){b.push([g,C])}},7333:function(v,w){"use strict";function c(o){return o?function h(d,b,p,A,m,u,g,C,T,L,x){return m-A>T-C?function o(d,b,p,A,m,u,g,C,T,L,x){for(var E=2*d,M=A,i=E*A;M<m;++M,i+=E){var D=u[b+i],y=u[b+i+d],B=g[M];e:for(var F=C,_=E*C;F<T;++F,_+=E){var H=x[F];if(!(L[b+_+d]<D||y<L[b+_])){for(var U=b+1;U<d;++U)if(u[U+d+i]<L[U+_]||L[U+d+_]<u[U+i])continue e;var ce=p(B,H);if(void 0!==ce)return ce}}}}(d,b,p,A,m,u,g,C,T,L,x):function f(d,b,p,A,m,u,g,C,T,L,x){for(var E=2*d,M=C,i=E*C;M<T;++M,i+=E){var D=L[b+i],y=L[b+i+d],B=x[M];e:for(var F=A,_=E*A;F<m;++F,_+=E){var H=g[F];if(!(y<u[b+_]||u[b+_+d]<D)){for(var U=b+1;U<d;++U)if(u[U+d+_]<L[U+i]||L[U+d+i]<u[U+_])continue e;var ce=p(H,B);if(void 0!==ce)return ce}}}}(d,b,p,A,m,u,g,C,T,L,x)}:function b(p,A,m,u,g,C,T,L,x,E,M,i){return C-g>E-x?u?function o(p,A,m,u,g,C,T,L,x,E,M){for(var i=2*p,D=u,y=i*u;D<g;++D,y+=i){var B=C[A+y],F=C[A+y+p],_=T[D];e:for(var z=L,V=i*L;z<x;++z,V+=i){var H=E[A+V],U=M[z];if(!(H<=B||F<H)){for(var G=A+1;G<p;++G)if(C[G+p+y]<E[G+V]||E[G+p+V]<C[G+y])continue e;var pe=m(U,_);if(void 0!==pe)return pe}}}}(p,A,m,g,C,T,L,x,E,M,i):function f(p,A,m,u,g,C,T,L,x,E,M){for(var i=2*p,D=u,y=i*u;D<g;++D,y+=i){var B=C[A+y],F=C[A+y+p],_=T[D];e:for(var z=L,V=i*L;z<x;++z,V+=i){var H=E[A+V],U=M[z];if(!(H<B||F<H)){for(var G=A+1;G<p;++G)if(C[G+p+y]<E[G+V]||E[G+p+V]<C[G+y])continue e;var pe=m(_,U);if(void 0!==pe)return pe}}}}(p,A,m,g,C,T,L,x,E,M,i):u?function h(p,A,m,u,g,C,T,L,x,E,M){for(var i=2*p,D=L,y=i*L;D<x;++D,y+=i){var B=E[A+y],F=M[D];e:for(var _=u,z=i*u;_<g;++_,z+=i){var U=T[_];if(!(B<=C[A+z]||C[A+z+p]<B)){for(var G=A+1;G<p;++G)if(C[G+p+z]<E[G+y]||E[G+p+y]<C[G+z])continue e;var pe=m(F,U);if(void 0!==pe)return pe}}}}(p,A,m,g,C,T,L,x,E,M,i):function d(p,A,m,u,g,C,T,L,x,E,M){for(var i=2*p,D=L,y=i*L;D<x;++D,y+=i){var B=E[A+y],F=M[D];e:for(var _=u,z=i*u;_<g;++_,z+=i){var U=T[_];if(!(B<C[A+z]||C[A+z+p]<B)){for(var G=A+1;G<p;++G)if(C[G+p+z]<E[G+y]||E[G+p+y]<C[G+z])continue e;var pe=m(U,F);if(void 0!==pe)return pe}}}}(p,A,m,g,C,T,L,x,E,M,i)}}w.partial=c(!1),w.full=c(!0)},2337:function(v,w,r){"use strict";v.exports=function H(U,G,Y,ee,ue,ce,pe,te,Q){!function F(U,G){var Y=8*c.log2(G+1)*(U+1)|0,ee=c.nextPow2(M*Y);y.length<ee&&(n.free(y),y=n.mallocInt32(ee));var ue=c.nextPow2(i*Y);B.length<ue&&(n.free(B),B=n.mallocDouble(ue))}(U,ee+pe);var q,K=0,Z=2*U;for(_(K++,0,0,ee,0,pe,Y?16:0,-1/0,1/0),Y||_(K++,0,0,pe,0,ee,1,-1/0,1/0);K>0;){var fe=(K-=1)*M,re=y[fe],$=y[fe+1],le=y[fe+2],se=y[fe+3],de=y[fe+4],we=y[fe+5],Ee=K*i,Me=B[Ee],Ne=B[Ee+1],Ve=1&we,Pe=!!(16&we),Ce=ue,Ie=ce,Je=te,Qe=Q;if(Ve&&(Ce=te,Ie=Q,Je=ue,Qe=ce),!(2&we&&(le=T(U,re,$,le,Ce,Ie,Ne),$>=le)||4&we&&($=L(U,re,$,le,Ce,Ie,Me),$>=le))){var ze=le-$,Ke=de-se;if(Pe){if(U*ze*(ze+Ke)<u){if(void 0!==(q=d.scanComplete(U,re,G,$,le,Ce,Ie,se,de,Je,Qe)))return q;continue}}else{if(U*Math.min(ze,Ke)<A){if(void 0!==(q=f(U,re,G,Ve,$,le,Ce,Ie,se,de,Je,Qe)))return q;continue}if(U*ze*Ke<m){if(void 0!==(q=d.scanBipartite(U,re,G,Ve,$,le,Ce,Ie,se,de,Je,Qe)))return q;continue}}var ut=g(U,re,$,le,Ce,Ie,Me,Ne);if($<ut)if(U*(ut-$)<A){if(void 0!==(q=h(U,re+1,G,$,ut,Ce,Ie,se,de,Je,Qe)))return q}else if(re===U-2){if(void 0!==(q=Ve?d.sweepBipartite(U,G,se,de,Je,Qe,$,ut,Ce,Ie):d.sweepBipartite(U,G,$,ut,Ce,Ie,se,de,Je,Qe)))return q}else _(K++,re+1,$,ut,se,de,Ve,-1/0,1/0),_(K++,re+1,se,de,$,ut,1^Ve,-1/0,1/0);if(ut<le){var ot=b(U,re,se,de,Je,Qe),We=Je[Z*ot+re],je=C(U,re,ot,de,Je,Qe,We);if(je<de&&_(K++,re,ut,le,je,de,(4|Ve)+(Pe?16:0),We,Ne),se<ot&&_(K++,re,ut,le,se,ot,(2|Ve)+(Pe?16:0),Me,We),ot+1===je){if(void 0!==(q=Pe?V(U,re,G,ut,le,Ce,Ie,ot,Je,Qe[ot]):z(U,re,G,Ve,ut,le,Ce,Ie,ot,Je,Qe[ot])))return q}else if(ot<je){var lt;if(Pe){if(ut<(lt=x(U,re,ut,le,Ce,Ie,We))){var vt=C(U,re,ut,lt,Ce,Ie,We);if(re===U-2){if(ut<vt&&void 0!==(q=d.sweepComplete(U,G,ut,vt,Ce,Ie,ot,je,Je,Qe))||vt<lt&&void 0!==(q=d.sweepBipartite(U,G,vt,lt,Ce,Ie,ot,je,Je,Qe)))return q}else ut<vt&&_(K++,re+1,ut,vt,ot,je,16,-1/0,1/0),vt<lt&&(_(K++,re+1,vt,lt,ot,je,0,-1/0,1/0),_(K++,re+1,ot,je,vt,lt,1,-1/0,1/0))}}else ut<(lt=Ve?E(U,re,ut,le,Ce,Ie,We):x(U,re,ut,le,Ce,Ie,We))&&(re===U-2?q=Ve?d.sweepBipartite(U,G,ot,je,Je,Qe,ut,lt,Ce,Ie):d.sweepBipartite(U,G,ut,lt,Ce,Ie,ot,je,Je,Qe):(_(K++,re+1,ut,lt,ot,je,Ve,-1/0,1/0),_(K++,re+1,ot,je,ut,lt,1^Ve,-1/0,1/0)))}}}}};var n=r(5306),c=r(2288),o=r(7333),f=o.partial,h=o.full,d=r(1390),b=r(2464),p=r(122),A=128,m=1<<22,u=1<<22,g=p("!(lo>=p0)&&!(p1>=hi)"),C=p("lo===p0"),T=p("lo<p0"),L=p("hi<=p0"),x=p("lo<=p0&&p0<=hi"),E=p("lo<p0&&p0<=hi"),M=6,i=2,y=n.mallocInt32(1024),B=n.mallocDouble(1024);function _(U,G,Y,ee,ue,ce,pe,te,Q){var K=M*U;y[K]=G,y[K+1]=Y,y[K+2]=ee,y[K+3]=ue,y[K+4]=ce,y[K+5]=pe;var Z=i*U;B[Z]=te,B[Z+1]=Q}function z(U,G,Y,ee,ue,ce,pe,te,Q,K,Z){var q=2*U,fe=Q*q,re=K[fe+G];e:for(var $=ue,le=ue*q;$<ce;++$,le+=q){var de=pe[le+G+U];if(!(re<(se=pe[le+G])||de<re||ee&&re===se)){for(var we=te[$],Ee=G+1;Ee<U;++Ee){var se=pe[le+Ee];if((de=pe[le+Ee+U])<K[fe+Ee]||K[fe+Ee+U]<se)continue e}var Ve;if(void 0!==(Ve=ee?Y(Z,we):Y(we,Z)))return Ve}}}function V(U,G,Y,ee,ue,ce,pe,te,Q,K){var Z=2*U,q=te*Z,fe=Q[q+G];e:for(var re=ee,$=ee*Z;re<ue;++re,$+=Z){var le=pe[re];if(le!==K){var de=ce[$+G+U];if(!(fe<(se=ce[$+G])||de<fe)){for(var we=G+1;we<U;++we){var se=ce[$+we];if((de=ce[$+we+U])<Q[q+we]||Q[q+we+U]<se)continue e}var Ne=Y(le,K);if(void 0!==Ne)return Ne}}}}},2464:function(v,w,r){"use strict";v.exports=function h(d,b,p,A,m,u){if(A<=p+1)return p;for(var g=p,C=A,T=A+p>>>1,L=2*d,x=T,E=m[L*T+b];g<C;){if(C-g<o){f(d,b,g,C,m,u),E=m[L*T+b];break}var M=C-g,i=Math.random()*M+g|0,D=m[L*i+b],y=Math.random()*M+g|0,B=m[L*y+b],F=Math.random()*M+g|0,_=m[L*F+b];D<=B?_>=B?(x=y,E=B):D>=_?(x=i,E=D):(x=F,E=_):B>=_?(x=y,E=B):_>=D?(x=i,E=D):(x=F,E=_);for(var H=L*(C-1),U=L*x,z=0;z<L;++z,++H,++U){var V=m[H];m[H]=m[U],m[U]=V}var G=u[C-1];for(u[C-1]=u[x],u[x]=G,H=L*(C-1),U=L*(x=c(d,b,g,C-1,m,u,E)),z=0;z<L;++z,++H,++U)V=m[H],m[H]=m[U],m[U]=V;if(G=u[C-1],u[C-1]=u[x],u[x]=G,T<x){for(C=x-1;g<C&&m[L*(C-1)+b]===E;)C-=1;C+=1}else{if(!(x<T))break;for(g=x+1;g<C&&m[L*g+b]===E;)g+=1}}return c(d,b,p,T,m,u,m[L*T+b])};var c=r(122)("lo<p0"),o=8;function f(d,b,p,A,m,u){for(var g=2*d,C=g*(p+1)+b,T=p+1;T<A;++T,C+=g)for(var L=m[C],x=T,E=g*(T-1);x>p&&m[E+b]>L;--x,E-=g){for(var M=E,i=E+g,D=0;D<g;++D,++M,++i){var y=m[M];m[M]=m[i],m[i]=y}var B=u[x];u[x]=u[x-1],u[x-1]=B}}},122:function(v){"use strict";v.exports=function r(p){return w[p]};var w={"lo===p0":function n(p,A,m,u,g,C,T){for(var L=2*p,x=L*m,E=x,M=m,i=A,y=m;u>y;++y,x+=L)if(g[x+i]===T)if(M===y)M+=1,E+=L;else{for(var F=0;L>F;++F){var _=g[x+F];g[x+F]=g[E],g[E++]=_}var z=C[y];C[y]=C[M],C[M++]=z}return M},"lo<p0":function c(p,A,m,u,g,C,T){for(var L=2*p,x=L*m,E=x,M=m,i=A,y=m;u>y;++y,x+=L)if(g[x+i]<T)if(M===y)M+=1,E+=L;else{for(var F=0;L>F;++F){var _=g[x+F];g[x+F]=g[E],g[E++]=_}var z=C[y];C[y]=C[M],C[M++]=z}return M},"lo<=p0":function o(p,A,m,u,g,C,T){for(var L=2*p,x=L*m,E=x,M=m,D=p+A,y=m;u>y;++y,x+=L)if(g[x+D]<=T)if(M===y)M+=1,E+=L;else{for(var F=0;L>F;++F){var _=g[x+F];g[x+F]=g[E],g[E++]=_}var z=C[y];C[y]=C[M],C[M++]=z}return M},"hi<=p0":function f(p,A,m,u,g,C,T){for(var L=2*p,x=L*m,E=x,M=m,D=p+A,y=m;u>y;++y,x+=L)if(g[x+D]<=T)if(M===y)M+=1,E+=L;else{for(var F=0;L>F;++F){var _=g[x+F];g[x+F]=g[E],g[E++]=_}var z=C[y];C[y]=C[M],C[M++]=z}return M},"lo<p0&&p0<=hi":function d(p,A,m,u,g,C,T){for(var L=2*p,x=L*m,E=x,M=m,i=A,D=p+A,y=m;u>y;++y,x+=L)if(g[x+i]<T&&T<=g[x+D])if(M===y)M+=1,E+=L;else{for(var _=0;L>_;++_){var z=g[x+_];g[x+_]=g[E],g[E++]=z}var V=C[y];C[y]=C[M],C[M++]=V}return M},"lo<=p0&&p0<=hi":function h(p,A,m,u,g,C,T){for(var L=2*p,x=L*m,E=x,M=m,i=A,D=p+A,y=m;u>y;++y,x+=L)if(g[x+i]<=T&&T<=g[x+D])if(M===y)M+=1,E+=L;else{for(var _=0;L>_;++_){var z=g[x+_];g[x+_]=g[E],g[E++]=z}var V=C[y];C[y]=C[M],C[M++]=V}return M},"!(lo>=p0)&&!(p1>=hi)":function b(p,A,m,u,g,C,T,L){for(var x=2*p,E=x*m,M=E,i=m,D=A,y=p+A,B=m;u>B;++B,E+=x)if(!(g[E+D]>=T||L>=g[E+y]))if(i===B)i+=1,M+=x;else{for(var z=0;x>z;++z){var V=g[E+z];g[E+z]=g[M],g[M++]=V}var H=C[B];C[B]=C[i],C[i++]=H}return i}}},309:function(v){"use strict";v.exports=function r(A,m){m<=4*w?n(0,m-1,A):p(0,m-1,A)};var w=32;function n(A,m,u){for(var g=2*(A+1),C=A+1;C<=m;++C){for(var T=u[g++],L=u[g++],x=C,E=g-2;x-- >A;){var M=u[E-2],i=u[E-1];if(M<T)break;if(M===T&&i<L)break;u[E]=M,u[E+1]=i,E-=2}u[E]=T,u[E+1]=L}}function c(A,m,u){var g=u[A*=2],C=u[A+1];u[A]=u[m*=2],u[A+1]=u[m+1],u[m]=g,u[m+1]=C}function o(A,m,u){u[A*=2]=u[m*=2],u[A+1]=u[m+1]}function f(A,m,u,g){u*=2;var C=g[A*=2],T=g[A+1];g[A]=g[m*=2],g[A+1]=g[m+1],g[m]=g[u],g[m+1]=g[u+1],g[u]=C,g[u+1]=T}function h(A,m,u,g,C){C[A*=2]=C[m*=2],C[m]=u,C[A+1]=C[m+1],C[m+1]=g}function d(A,m,u){var g=u[A*=2],C=u[m*=2];return!(g<C)&&(g!==C||u[A+1]>u[m+1])}function b(A,m,u,g){var C=g[A*=2];return C<m||C===m&&g[A+1]<u}function p(A,m,u){var g=(m-A+1)/6|0,C=A+g,T=m-g,L=A+m>>1,x=L-g,E=L+g,M=C,i=x,D=L,y=E,B=T,F=A+1,_=m-1,z=0;d(M,i,u)&&(z=M,M=i,i=z),d(y,B,u)&&(z=y,y=B,B=z),d(M,D,u)&&(z=M,M=D,D=z),d(i,D,u)&&(z=i,i=D,D=z),d(M,y,u)&&(z=M,M=y,y=z),d(D,y,u)&&(z=D,D=y,y=z),d(i,B,u)&&(z=i,i=B,B=z),d(i,D,u)&&(z=i,i=D,D=z),d(y,B,u)&&(z=y,y=B,B=z);for(var V=u[2*i],H=u[2*i+1],U=u[2*y],G=u[2*y+1],Y=2*M,ee=2*D,ue=2*B,ce=2*C,pe=2*L,te=2*T,Q=0;Q<2;++Q){var Z=u[ee+Q],q=u[ue+Q];u[ce+Q]=u[Y+Q],u[pe+Q]=Z,u[te+Q]=q}o(x,A,u),o(E,m,u);for(var fe=F;fe<=_;++fe)if(b(fe,V,H,u))fe!==F&&c(fe,F,u),++F;else if(!b(fe,U,G,u))for(;;){if(b(_,U,G,u)){b(_,V,H,u)?(f(fe,F,_,u),++F,--_):(c(fe,_,u),--_);break}if(--_<fe)break}h(A,F-1,V,H,u),h(m,_+1,U,G,u),F-2-A<=w?n(A,F-2,u):p(A,F-2,u),m-(_+2)<=w?n(_+2,m,u):p(_+2,m,u),_-F<=w?n(F,_,u):p(F,_,u)}},1390:function(v,w,r){"use strict";v.exports={init:function C(D){var y=c.nextPow2(D);d.length<y&&(n.free(d),d=n.mallocInt32(y)),b.length<y&&(n.free(b),b=n.mallocInt32(y)),p.length<y&&(n.free(p),p=n.mallocInt32(y)),A.length<y&&(n.free(A),A=n.mallocInt32(y)),m.length<y&&(n.free(m),m=n.mallocInt32(y)),u.length<y&&(n.free(u),u=n.mallocInt32(y));var B=8*y;g.length<B&&(n.free(g),g=n.mallocDouble(B))},sweepBipartite:function x(D,y,B,F,_,z,V,H,U,G){for(var Y=0,ee=2*D,ue=D-1,ce=ee-1,pe=B;pe<F;++pe){var te=z[pe],Q=ee*pe;g[Y++]=_[Q+ue],g[Y++]=-(te+1),g[Y++]=_[Q+ce],g[Y++]=te}for(pe=V;pe<H;++pe){te=G[pe]+f;var K=ee*pe;g[Y++]=U[K+ue],g[Y++]=-te,g[Y++]=U[K+ce],g[Y++]=te}var Z=Y>>>1;o(g,Z);var q=0,fe=0;for(pe=0;pe<Z;++pe){var re=0|g[2*pe+1];if(re>=f)T(p,A,fe--,re=re-f|0);else if(re>=0)T(d,b,q--,re);else if(re<=-f){re=-re-f|0;for(var $=0;$<q;++$)if(void 0!==(le=y(d[$],re)))return le;L(p,A,fe++,re)}else{for(re=-re-1|0,$=0;$<fe;++$){var le;if(void 0!==(le=y(re,p[$])))return le}L(d,b,q++,re)}}},sweepComplete:function E(D,y,B,F,_,z,V,H,U,G){for(var Y=0,ee=2*D,ue=D-1,ce=ee-1,pe=B;pe<F;++pe){var te=z[pe]+1<<1,Q=ee*pe;g[Y++]=_[Q+ue],g[Y++]=-te,g[Y++]=_[Q+ce],g[Y++]=te}for(pe=V;pe<H;++pe){te=G[pe]+1<<1;var K=ee*pe;g[Y++]=U[K+ue],g[Y++]=1|-te,g[Y++]=U[K+ce],g[Y++]=1|te}var Z=Y>>>1;o(g,Z);var q=0,fe=0,re=0;for(pe=0;pe<Z;++pe){var $=0|g[2*pe+1],le=1&$;if(pe<Z-1&&$>>1==g[2*pe+3]>>1&&(le=2,pe+=1),$<0){for(var se=-($>>1)-1,de=0;de<re;++de)if(void 0!==(we=y(m[de],se)))return we;if(0!==le)for(de=0;de<q;++de)if(void 0!==(we=y(d[de],se)))return we;if(1!==le)for(de=0;de<fe;++de){var we;if(void 0!==(we=y(p[de],se)))return we}0===le?L(d,b,q++,se):1===le?L(p,A,fe++,se):2===le&&L(m,u,re++,se)}else se=($>>1)-1,0===le?T(d,b,q--,se):1===le?T(p,A,fe--,se):2===le&&T(m,u,re--,se)}},scanBipartite:function M(D,y,B,F,_,z,V,H,U,G,Y,ee){var ue=0,ce=2*D,pe=y,te=y+D,Q=1,K=1;F?K=f:Q=f;for(var Z=_;Z<z;++Z){var q=Z+Q,fe=ce*Z;g[ue++]=V[fe+pe],g[ue++]=-q,g[ue++]=V[fe+te],g[ue++]=q}for(Z=U;Z<G;++Z)q=Z+K,g[ue++]=Y[ce*Z+pe],g[ue++]=-q;var $=ue>>>1;o(g,$);var le=0;for(Z=0;Z<$;++Z){var se=0|g[2*Z+1];if(se<0){var de=!1;if((q=-se)>=f?(de=!F,q-=f):(de=!!F,q-=1),de)L(d,b,le++,q);else{var we=ee[q],Ee=ce*q,Me=Y[Ee+y+1],Ne=Y[Ee+y+1+D];e:for(var Ve=0;Ve<le;++Ve){var Pe=d[Ve],Ce=ce*Pe;if(!(Ne<V[Ce+y+1]||V[Ce+y+1+D]<Me)){for(var Ie=y+2;Ie<D;++Ie)if(Y[Ee+Ie+D]<V[Ce+Ie]||V[Ce+Ie+D]<Y[Ee+Ie])continue e;var Qe,Je=H[Pe];if(void 0!==(Qe=F?B(we,Je):B(Je,we)))return Qe}}}}else T(d,b,le--,se-Q)}},scanComplete:function i(D,y,B,F,_,z,V,H,U,G,Y){for(var ee=0,ue=2*D,ce=y,pe=y+D,te=F;te<_;++te){var Q=te+f,K=ue*te;g[ee++]=z[K+ce],g[ee++]=-Q,g[ee++]=z[K+pe],g[ee++]=Q}for(te=H;te<U;++te)Q=te+1,g[ee++]=G[ue*te+ce],g[ee++]=-Q;var q=ee>>>1;o(g,q);var fe=0;for(te=0;te<q;++te){var re=0|g[2*te+1];if(re<0)if((Q=-re)>=f)d[fe++]=Q-f;else{var $=Y[Q-=1],le=ue*Q,se=G[le+y+1],de=G[le+y+1+D];e:for(var we=0;we<fe;++we){var Ee=d[we],Me=V[Ee];if(Me===$)break;var Ne=ue*Ee;if(!(de<z[Ne+y+1]||z[Ne+y+1+D]<se)){for(var Ve=y+2;Ve<D;++Ve)if(G[le+Ve+D]<z[Ne+Ve]||z[Ne+Ve+D]<G[le+Ve])continue e;var Pe=B(Me,$);if(void 0!==Pe)return Pe}}}else{for(Q=re-f,we=fe-1;we>=0;--we)if(d[we]===Q){for(Ve=we+1;Ve<fe;++Ve)d[Ve-1]=d[Ve];break}--fe}}}};var n=r(5306),c=r(2288),o=r(309),f=1<<28,h=1024,d=n.mallocInt32(h),b=n.mallocInt32(h),p=n.mallocInt32(h),A=n.mallocInt32(h),m=n.mallocInt32(h),u=n.mallocInt32(h),g=n.mallocDouble(8*h);function T(D,y,B,F){var _=y[F],z=D[B-1];D[_]=z,y[z]=_}function L(D,y,B,F){D[B]=F,y[F]=B}},7761:function(v,w,r){"use strict";var n=r(9971),c=r(743),o=r(2161),f=r(7098);function h(m){return[Math.min(m[0],m[1]),Math.max(m[0],m[1])]}function d(m,u){return m[0]-u[0]||m[1]-u[1]}function p(m,u,g){return u in m?m[u]:g}v.exports=function A(m,u,g){Array.isArray(u)?(g=g||{},u=u||[]):(g=u||{},u=[]);var C=!!p(g,"delaunay",!0),T=!!p(g,"interior",!0),L=!!p(g,"exterior",!0),x=!!p(g,"infinity",!1);if(!T&&!L||0===m.length)return[];var E=n(m,u);if(C||T!==L||x){for(var M=c(m.length,function b(m){return m.map(h).sort(d)}(u)),i=0;i<E.length;++i){var D=E[i];M.addTriangle(D[0],D[1],D[2])}return C&&o(m,M),L?T?x?f(M,0,x):M.cells():f(M,1,x):f(M,-1)}return E}},2161:function(v,w,r){"use strict";var n=r(2227)[4];function o(h,d,b,p,A,m){var u=d.opposite(p,A);if(!(u<0)){if(A<p){var g=p;p=A,A=g,g=m,m=u,u=g}d.isConstraint(p,A)||n(h[p],h[A],h[m],h[u])<0&&b.push(p,A)}}r(5070),v.exports=function f(h,d){for(var b=[],p=h.length,A=d.stars,m=0;m<p;++m)for(var u=A[m],g=1;g<u.length;g+=2)if(!((C=u[g])<m||d.isConstraint(m,C))){for(var T=u[g-1],L=-1,x=1;x<u.length;x+=2)if(u[x-1]===C){L=u[x];break}L<0||n(h[m],h[C],h[T],h[L])<0&&b.push(m,C)}for(;b.length>0;){for(var C=b.pop(),E=(T=-1,L=-1,u=A[m=b.pop()],1);E<u.length;E+=2){var M=u[E-1],i=u[E];M===C?L=i:i===C&&(T=M)}T<0||L<0||n(h[m],h[C],h[T],h[L])>=0||(d.flip(m,C),o(h,d,b,T,m,L),o(h,d,b,m,L,T),o(h,d,b,L,C,T),o(h,d,b,C,T,L))}}},7098:function(v,w,r){"use strict";var p,n=r(5070);function c(p,A,m,u,g,C,T){this.cells=p,this.neighbor=A,this.flags=u,this.constraint=m,this.active=g,this.next=C,this.boundary=T}function f(p,A){return p[0]-A[0]||p[1]-A[1]||p[2]-A[2]}v.exports=function b(p,A,m){var u=function h(p,A){for(var m=p.cells(),u=m.length,g=0;g<u;++g){var T=(C=m[g])[0],x=C[2];(L=C[1])<x?L<T&&(C[0]=L,C[1]=x,C[2]=T):x<T&&(C[0]=x,C[1]=T,C[2]=L)}m.sort(f);var E=new Array(u);for(g=0;g<E.length;++g)E[g]=0;var M=[],i=[],D=new Array(3*u),y=new Array(3*u),B=null;A&&(B=[]);var F=new c(m,D,y,E,M,i,B);for(g=0;g<u;++g)for(var C=m[g],_=0;_<3;++_){var L,z=D[3*g+_]=F.locate(L=C[(_+1)%3],T=C[_],p.opposite(L,T)),V=y[3*g+_]=p.isConstraint(T,L);z<0&&(V?i.push(g):(M.push(g),E[g]=1),A&&B.push([L,T,-1]))}return F}(p,m);if(0===A)return m?u.cells.concat(u.boundary):u.cells;for(var g=1,C=u.active,T=u.next,L=u.flags,x=u.cells,E=u.constraint,M=u.neighbor;C.length>0||T.length>0;){for(;C.length>0;){var i=C.pop();if(L[i]!==-g){L[i]=g;for(var y=0;y<3;++y){var B=M[3*i+y];B>=0&&0===L[B]&&(E[3*i+y]?T.push(B):(C.push(B),L[B]=g))}}}var F=T;T=C,C=F,T.length=0,g=-g}var _=function d(p,A,m){for(var u=0,g=0;g<p.length;++g)A[g]===m&&(p[u++]=p[g]);return p.length=u,p}(x,L,A);return m?_.concat(u.boundary):_},c.prototype.locate=(p=[0,0,0],function(A,m,u){var g=A,C=m,T=u;return m<u?m<A&&(g=m,C=u,T=A):u<A&&(g=u,C=A,T=m),g<0?-1:(p[0]=g,p[1]=C,p[2]=T,n.eq(this.cells,p,f))})},9971:function(v,w,r){"use strict";var n=r(5070),c=r(417)[3],o=0;function d(L,x,E,M,i){this.a=L,this.b=x,this.idx=E,this.lowerIds=M,this.upperIds=i}function b(L,x,E,M){this.a=L,this.b=x,this.type=E,this.idx=M}function p(L,x){var E=L.a[0]-x.a[0]||L.a[1]-x.a[1]||L.type-x.type;return E||L.type!==o&&(E=c(L.a,L.b,x.b))?E:L.idx-x.idx}function A(L,x){return c(L.a,L.b,x)}function m(L,x,E,M,i){for(var D=n.lt(x,M,A),y=n.gt(x,M,A),B=D;B<y;++B){for(var F=x[B],_=F.lowerIds,V=_.length;V>1&&c(E[_[V-2]],E[_[V-1]],M)>0;)L.push([_[V-1],_[V-2],i]),V-=1;_.length=V,_.push(i);var z=F.upperIds;for(V=z.length;V>1&&c(E[z[V-2]],E[z[V-1]],M)<0;)L.push([z[V-2],z[V-1],i]),V-=1;z.length=V,z.push(i)}}function u(L,x){return(L.a[0]<x.a[0]?c(L.a,L.b,x.a):c(x.b,x.a,L.a))||(x.b[0]<L.b[0]?c(L.a,L.b,x.b):c(x.b,x.a,L.b))||L.idx-x.idx}function g(L,x,E){var M=n.le(L,E,u),i=L[M],D=i.upperIds,y=D[D.length-1];i.upperIds=[y],L.splice(M+1,0,new d(E.a,E.b,E.idx,[y],D))}function C(L,x,E){var M=E.a;E.a=E.b,E.b=M;var i=n.eq(L,E,u);L[i-1].upperIds=L[i].upperIds,L.splice(i,1)}v.exports=function T(L,x){for(var E=L.length,M=x.length,i=[],D=0;D<E;++D)i.push(new b(L[D],null,o,D));for(D=0;D<M;++D){var y=x[D],B=L[y[0]],F=L[y[1]];B[0]<F[0]?i.push(new b(B,F,2,D),new b(F,B,1,D)):B[0]>F[0]&&i.push(new b(F,B,2,D),new b(B,F,1,D))}i.sort(p);for(var _=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),z=[new d([_,1],[_,0],-1,[],[],[],[])],V=[],H=(D=0,i.length);D<H;++D){var U=i[D],G=U.type;G===o?m(V,z,L,U.a,U.idx):2===G?g(z,0,U):C(z,0,U)}return V}},743:function(v,w,r){"use strict";var n=r(5070);function c(d,b){this.stars=d,this.edges=b}v.exports=function h(d,b){for(var p=new Array(d),A=0;A<d;++A)p[A]=[];return new c(p,b)};var o=c.prototype;function f(d,b,p){for(var A=1,m=d.length;A<m;A+=2)if(d[A-1]===b&&d[A]===p)return d[A-1]=d[m-2],d[A]=d[m-1],void(d.length=m-2)}o.isConstraint=function(){var d=[0,0];function b(p,A){return p[0]-A[0]||p[1]-A[1]}return function(p,A){return d[0]=Math.min(p,A),d[1]=Math.max(p,A),n.eq(this.edges,d,b)>=0}}(),o.removeTriangle=function(d,b,p){var A=this.stars;f(A[d],b,p),f(A[b],p,d),f(A[p],d,b)},o.addTriangle=function(d,b,p){var A=this.stars;A[d].push(b,p),A[b].push(p,d),A[p].push(d,b)},o.opposite=function(d,b){for(var p=this.stars[b],A=1,m=p.length;A<m;A+=2)if(p[A]===d)return p[A-1];return-1},o.flip=function(d,b){var p=this.opposite(d,b),A=this.opposite(b,d);this.removeTriangle(d,b,p),this.removeTriangle(b,d,A),this.addTriangle(d,A,p),this.addTriangle(b,p,A)},o.edges=function(){for(var d=this.stars,b=[],p=0,A=d.length;p<A;++p)for(var m=d[p],u=0,g=m.length;u<g;u+=2)b.push([m[u],m[u+1]]);return b},o.cells=function(){for(var d=this.stars,b=[],p=0,A=d.length;p<A;++p)for(var m=d[p],u=0,g=m.length;u<g;u+=2){var C=m[u],T=m[u+1];p<Math.min(C,T)&&b.push([p,C,T])}return b}},9887:function(v){"use strict";v.exports=function w(r){for(var n=1,c=1;c<r.length;++c)for(var o=0;o<c;++o)if(r[c]<r[o])n=-n;else if(r[o]===r[c])return 0;return n}},9243:function(v,w,r){"use strict";var n=r(3094),c=r(6606);function o(d,b){for(var p=0,A=d.length,m=0;m<A;++m)p+=d[m]*b[m];return p}function f(d){var b=d.length;if(0===b)return[];var A=n([d.length+1,d.length+1],1),m=n([d.length+1],1);A[b][b]=0;for(var u=0;u<b;++u){for(var g=0;g<=u;++g)A[g][u]=A[u][g]=2*o(d[u],d[g]);m[u]=o(d[u],d[u])}var C=c(A,m),T=0,L=C[b+1];for(u=0;u<L.length;++u)T+=L[u];var x=new Array(b);for(u=0;u<b;++u){L=C[u];var E=0;for(g=0;g<L.length;++g)E+=L[g];x[u]=E/T}return x}function h(d){if(0===d.length)return[];for(var b=d[0].length,p=n([b]),A=f(d),m=0;m<d.length;++m)for(var u=0;u<b;++u)p[u]+=d[m][u]*A[m];return p}h.barycenetric=f,v.exports=h},1778:function(v,w,r){v.exports=function c(o){for(var f=n(o),h=0,d=0;d<o.length;++d)for(var b=o[d],p=0;p<f.length;++p)h+=Math.pow(b[p]-f[p],2);return Math.sqrt(h/o.length)};var n=r(9243)},197:function(v,w,r){"use strict";v.exports=function B(F,_,z){var V;if(z){V=_;for(var H=new Array(_.length),U=0;U<_.length;++U)H[U]=[(G=_[U])[0],G[1],z[U]];_=H}for(var Y=function D(F,_,z){var V=x(F,[],g(F));return i(_,V,z),!!V}(F,_,!!z);y(F,_,!!z);)Y=!0;if(z&&Y)for(V.length=0,z.length=0,U=0;U<_.length;++U){var G;V.push([(G=_[U])[0],G[1]]),z.push(G[2])}return Y};var n=r(1731),c=r(2569),o=r(4434),f=r(5125),h=r(8846),d=r(7999),b=r(2826),p=r(8551),A=r(5528);function m(F){var _=d(F);return[p(_,-1/0),p(_,1/0)]}function g(F){for(var _=new Array(F.length),z=0;z<F.length;++z){var V=F[z];_[z]=[p(V[0],-1/0),p(V[1],-1/0),p(V[0],1/0),p(V[1],1/0)]}return _}function x(F,_,z){for(var V=_.length,H=new n(V),U=[],G=0;G<_.length;++G){var Y=_[G],ee=m(Y[0]),ue=m(Y[1]);U.push([p(ee[0],-1/0),p(ue[0],-1/0),p(ee[1],1/0),p(ue[1],1/0)])}c(U,function(K,Z){H.link(K,Z)});var ce=!0,pe=new Array(V);for(G=0;G<V;++G)(te=H.find(G))!==G&&(ce=!1,F[te]=[Math.min(F[G][0],F[te][0]),Math.min(F[G][1],F[te][1])]);if(ce)return null;var Q=0;for(G=0;G<V;++G){var te;(te=H.find(G))===G?(pe[G]=Q,F[Q++]=F[G]):pe[G]=-1}for(F.length=Q,G=0;G<V;++G)pe[G]<0&&(pe[G]=pe[H.find(G)]);return pe}function E(F,_){return F[0]-_[0]||F[1]-_[1]}function M(F,_){return F[0]-_[0]||F[1]-_[1]||(F[2]<_[2]?-1:F[2]>_[2]?1:0)}function i(F,_,z){if(0!==F.length){if(_)for(var V=0;V<F.length;++V){var U=_[(H=F[V])[0]],G=_[H[1]];H[0]=Math.min(U,G),H[1]=Math.max(U,G)}else for(V=0;V<F.length;++V){var H;U=(H=F[V])[0],G=H[1],H[0]=Math.min(U,G),H[1]=Math.max(U,G)}F.sort(z?M:E);var Y=1;for(V=1;V<F.length;++V){var ee=F[V-1],ue=F[V];ue[0]===ee[0]&&ue[1]===ee[1]&&(!z||ue[2]===ee[2])||(F[Y++]=ue)}F.length=Y}}function y(F,_,z){var V=function u(F,_){for(var z=new Array(_.length),V=0;V<_.length;++V){var H=_[V],U=F[H[0]],G=F[H[1]];z[V]=[p(Math.min(U[0],G[0]),-1/0),p(Math.min(U[1],G[1]),-1/0),p(Math.max(U[0],G[0]),1/0),p(Math.max(U[1],G[1]),1/0)]}return z}(F,_),H=function C(F,_,z){var V=[];return c(z,function(H,U){var G=_[H],Y=_[U];G[0]!==Y[0]&&G[0]!==Y[1]&&G[1]!==Y[0]&&G[1]!==Y[1]&&o(F[G[0]],F[G[1]],F[Y[0]],F[Y[1]])&&V.push([H,U])}),V}(F,_,V),U=g(F),G=function T(F,_,z,V){var H=[];return c(z,V,function(U,G){var Y=_[U];if(Y[0]!==G&&Y[1]!==G){var ee=F[G];o(F[Y[0]],F[Y[1]],ee,ee)&&H.push([U,G])}}),H}(F,_,V,U),ee=x(F,function L(F,_,z,V,H){var U,G,Y=F.map(function(Ee){return[f(Ee[0]),f(Ee[1])]});for(U=0;U<z.length;++U){var ee=z[U],ue=ee[1],ce=_[G=ee[0]],pe=_[ue],te=A(b(F[ce[0]]),b(F[ce[1]]),b(F[pe[0]]),b(F[pe[1]]));if(te){var Q=F.length;F.push([d(te[0]),d(te[1])]),Y.push(te),V.push([G,Q],[ue,Q])}}for(V.sort(function(Ee,Me){if(Ee[0]!==Me[0])return Ee[0]-Me[0];var Ne=Y[Ee[1]],Ve=Y[Me[1]];return h(Ne[0],Ve[0])||h(Ne[1],Ve[1])}),U=V.length-1;U>=0;--U){var Z=_[G=(K=V[U])[0]],q=Z[0],fe=Z[1],re=F[q],$=F[fe];if((re[0]-$[0]||re[1]-$[1])<0){var le=q;q=fe,fe=le}Z[0]=q;var de,se=Z[1]=K[1];for(H&&(de=Z[2]);U>0&&V[U-1][0]===G;){var K,we=(K=V[--U])[1];_.push(H?[se,we,de]:[se,we]),se=we}_.push(H?[se,fe,de]:[se,fe])}return Y}(F,_,H,G,z));return i(_,ee,z),!!ee||H.length>0||G.length>0}},5528:function(v,w,r){"use strict";v.exports=function A(m,u,g,C){var T=h(u,m),L=h(C,g),x=p(T,L);if(0===f(x))return null;var M=p(L,h(m,g)),i=c(M,x),D=b(T,i);return d(m,D)};var n=r(3962),c=r(9189),o=r(4354),f=r(4951),h=r(6695),d=r(7584),b=r(4469);function p(m,u){return o(n(m[0],u[1]),n(m[1],u[0]))}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,w,r){"use strict";var n=r(5692),c=r(3578);function f(b){return[b[0]/255,b[1]/255,b[2]/255,b[3]]}function h(b){for(var p,A="#",m=0;m<3;++m)A+=("00"+(p=(p=b[m]).toString(16))).substr(p.length);return A}function d(b){return"rgba("+b.join(",")+")"}v.exports=function o(b){var p,A,m,u,g,C,T,L,x,E;if(b||(b={}),L=(b.nshades||72)-1,T=b.format||"hex",(C=b.colormap)||(C="jet"),"string"==typeof C){if(C=C.toLowerCase(),!n[C])throw Error(C+" not a supported colorscale");g=n[C]}else{if(!Array.isArray(C))throw Error("unsupported colormap option",C);g=C.slice()}if(g.length>L+1)throw new Error(C+" map requires nshades to be at least size "+g.length);x=Array.isArray(b.alpha)?2!==b.alpha.length?[1,1]:b.alpha.slice():"number"==typeof b.alpha?[b.alpha,b.alpha]:[1,1],p=g.map(function(B){return Math.round(B.index*L)}),x[0]=Math.min(Math.max(x[0],0),1),x[1]=Math.min(Math.max(x[1],0),1);var M=g.map(function(B,F){var _=g[F].index,z=g[F].rgb.slice();return 4===z.length&&z[3]>=0&&z[3]<=1||(z[3]=x[0]+(x[1]-x[0])*_),z}),i=[];for(E=0;E<p.length-1;++E){u=p[E+1]-p[E],A=M[E],m=M[E+1];for(var D=0;D<u;D++){var y=D/u;i.push([Math.round(c(A[0],m[0],y)),Math.round(c(A[1],m[1],y)),Math.round(c(A[2],m[2],y)),c(A[3],m[3],y)])}}return i.push(g[g.length-1].rgb.concat(x[1])),"hex"===T?i=i.map(h):"rgbaString"===T?i=i.map(d):"float"===T&&(i=i.map(f)),i}},9398:function(v,w,r){"use strict";v.exports=function b(p,A,m,u){var g=n(A,m,u);if(0===g){var C=c(n(p,A,m)),T=c(n(p,A,u));if(C===T){if(0===C){var L=d(p,A,m);return L===d(p,A,u)?0:L?1:-1}return 0}return 0===T?C>0||d(p,A,u)?-1:1:0===C?T>0||d(p,A,m)?1:-1:c(T-C)}var E=n(p,A,m);return E>0?g>0&&n(p,A,u)>0?1:-1:E<0?g>0||n(p,A,u)>0?1:-1:n(p,A,u)>0||d(p,A,m)?1:-1};var n=r(417),c=r(7538),o=r(87),f=r(2019),h=r(9662);function d(p,A,m){var u=o(p[0],-A[0]),g=o(p[1],-A[1]),C=o(m[0],-A[0]),T=o(m[1],-A[1]),L=h(f(u,C),f(g,T));return L[L.length-1]>=0}},7538:function(v){"use strict";v.exports=function(r){return r<0?-1:r>0?1:0}},9209:function(v){v.exports=function n(c,o){var f=c.length,h=c.length-o.length;if(h)return h;switch(f){case 0:return 0;case 1:return c[0]-o[0];case 2:return c[0]+c[1]-o[0]-o[1]||w(c[0],c[1])-w(o[0],o[1]);case 3:var d=c[0]+c[1],b=o[0]+o[1];if(h=d+c[2]-(b+o[2]))return h;var p=w(c[0],c[1]),A=w(o[0],o[1]);return w(p,c[2])-w(A,o[2])||w(p+c[2],d)-w(A+o[2],b);case 4:var m=c[0],u=c[1],g=c[2],C=c[3],T=o[0],L=o[1],x=o[2],E=o[3];return m+u+g+C-(T+L+x+E)||w(m,u,g,C)-w(T,L,x,E,T)||w(m+u,m+g,m+C,u+g,u+C,g+C)-w(T+L,T+x,T+E,L+x,L+E,x+E)||w(m+u+g,m+u+C,m+g+C,u+g+C)-w(T+L+x,T+L+E,T+x+E,L+x+E);default:for(var M=c.slice().sort(r),i=o.slice().sort(r),D=0;D<f;++D)if(h=M[D]-i[D])return h;return 0}};var w=Math.min;function r(c,o){return c-o}},1284:function(v,w,r){"use strict";var n=r(9209),c=r(9887);v.exports=function o(f,h){return n(f,h)||c(f)-c(h)}},5537:function(v,w,r){"use strict";var n=r(8950),c=r(8722),o=r(3332);v.exports=function f(h){var d=h.length;if(0===d)return[];if(1===d)return[[0]];var b=h[0].length;return 0===b?[]:1===b?n(h):2===b?c(h):o(h,b)}},8950:function(v){"use strict";v.exports=function w(r){for(var n=0,c=0,o=1;o<r.length;++o)r[o][0]<r[n][0]&&(n=o),r[o][0]>r[c][0]&&(c=o);return n<c?[[n],[c]]:n>c?[[c],[n]]:[[n]]}},8722:function(v,w,r){"use strict";v.exports=function c(o){var f=n(o),h=f.length;if(h<=2)return[];for(var d=new Array(h),b=f[h-1],p=0;p<h;++p){var A=f[p];d[p]=[b,A],b=A}return d};var n=r(3266)},3332:function(v,w,r){"use strict";v.exports=function h(d,b){try{return n(d,!0)}catch{var p=c(d);if(p.length<=b)return[];var A=function o(d,b){for(var p=d.length,A=new Array(p),m=0;m<b.length;++m)A[m]=d[b[m]];var u=b.length;for(m=0;m<p;++m)b.indexOf(m)<0&&(A[u++]=d[m]);return A}(d,p);return function f(d,b){for(var p=d.length,A=b.length,m=0;m<p;++m)for(var u=d[m],g=0;g<u.length;++g){var C=u[g];if(C<A)u[g]=b[C];else{C-=A;for(var T=0;T<A;++T)C>=b[T]&&(C+=1);u[g]=C}}return d}(n(A,!0),p)}};var n=r(2183),c=r(2153)},9680:function(v){"use strict";v.exports=function r(n,c,o,f,h,d){var b=h-1,p=h*h,A=b*b,m=(1+2*h)*A,u=h*A,g=p*(3-2*h),C=p*b;if(n.length){d||(d=new Array(n.length));for(var T=n.length-1;T>=0;--T)d[T]=m*n[T]+u*c[T]+g*o[T]+C*f[T];return d}return m*n+u*c+g*o+C*f},v.exports.derivative=function w(n,c,o,f,h,d){var b=6*h*h-6*h,p=3*h*h-4*h+1,A=-6*h*h+6*h,m=3*h*h-2*h;if(n.length){d||(d=new Array(n.length));for(var u=n.length-1;u>=0;--u)d[u]=b*n[u]+p*c[u]+A*o[u]+m*f[u];return d}return b*n+p*c+A*o[u]+m*f}},4419:function(v,w,r){"use strict";var n=r(2183),c=r(1215);function o(b,p){this.point=b,this.index=p}function f(b,p){for(var A=b.point,m=p.point,u=A.length,g=0;g<u;++g){var C=m[g]-A[g];if(C)return C}return 0}v.exports=function d(b,p){var A=b.length;if(0===A)return[];var m=b[0].length;if(m<1)return[];if(1===m)return function h(b,p,A){if(1===b)return A?[[-1,0]]:[];var m=p.map(function(L,x){return[L[0],x]});m.sort(function(L,x){return L[0]-x[0]});for(var u=new Array(b-1),g=1;g<b;++g)u[g-1]=[m[g-1][1],m[g][1]];return A&&u.push([-1,u[0][1]],[u[b-1][1],-1]),u}(A,b,p);for(var u=new Array(A),g=1,C=0;C<A;++C){for(var T=b[C],L=new Array(m+1),x=0,E=0;E<m;++E){var M=T[E];L[E]=M,x+=M*M}L[m]=x,u[C]=new o(L,C),g=Math.max(x,g)}c(u,f),A=u.length;var i=new Array(A+m+1),D=new Array(A+m+1),y=(m+1)*(m+1)*g,B=new Array(m+1);for(C=0;C<=m;++C)B[C]=0;for(B[m]=y,i[0]=B.slice(),D[0]=-1,C=0;C<=m;++C)(L=B.slice())[C]=1,i[C+1]=L,D[C+1]=-1;for(C=0;C<A;++C)i[C+m+1]=(F=u[C]).point,D[C+m+1]=F.index;var _=n(i,!1);if(_=_.filter(p?function(z){for(var V=0,H=0;H<=m;++H){var U=D[z[H]];if(U<0&&++V>=2)return!1;z[H]=U}return!0}:function(z){for(var V=0;V<=m;++V){var H=D[z[V]];if(H<0)return!1;z[V]=H}return!0}),1&m)for(C=0;C<_.length;++C){var F;L=(F=_[C])[0],F[0]=F[1],F[1]=L}return _}},8362:function(v){var w=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),n=new Uint32Array(r.buffer);if(r[0]=1,w=!0,1072693248===n[1]){let g=function(L,x){return n[0]=L,n[1]=x,r[0]},C=function(L){return r[0]=L,n[0]},T=function(L){return r[0]=L,n[1]};v.exports=function(x){return r[0]=x,[n[0],n[1]]},v.exports.pack=g,v.exports.lo=C,v.exports.hi=T}else if(1072693248===n[0]){let g=function(L,x){return n[1]=L,n[0]=x,r[0]},C=function(L){return r[0]=L,n[1]},T=function(L){return r[0]=L,n[0]};v.exports=function(x){return r[0]=x,[n[1],n[0]]},v.exports.pack=g,v.exports.lo=C,v.exports.hi=T}else w=!1}if(!w){let g=function(L,x){return c.writeUInt32LE(L,0,!0),c.writeUInt32LE(x,4,!0),c.readDoubleLE(0,!0)},C=function(L){return c.writeDoubleLE(L,0,!0),c.readUInt32LE(0,!0)},T=function(L){return c.writeDoubleLE(L,0,!0),c.readUInt32LE(4,!0)};var c=new Buffer(8);v.exports=function(x){return c.writeDoubleLE(x,0,!0),[c.readUInt32LE(0,!0),c.readUInt32LE(4,!0)]},v.exports.pack=g,v.exports.lo=C,v.exports.hi=T}v.exports.sign=function(g){return v.exports.hi(g)>>>31},v.exports.exponent=function(g){return(v.exports.hi(g)<<1>>>21)-1023},v.exports.fraction=function(g){var C=v.exports.lo(g),T=v.exports.hi(g),L=1048575&T;return 2146435072&T&&(L+=1048576),[C,L]},v.exports.denormalized=function(g){return!(2146435072&v.exports.hi(g))}},3094:function(v){"use strict";function w(c,o,f){var h=0|c[f];if(h<=0)return[];var b,d=new Array(h);if(f===c.length-1)for(b=0;b<h;++b)d[b]=o;else for(b=0;b<h;++b)d[b]=w(c,o,f+1);return d}v.exports=function n(c,o){switch(typeof o>"u"&&(o=0),typeof c){case"number":if(c>0)return function r(c,o){var f,h;for(f=new Array(c),h=0;h<c;++h)f[h]=o;return f}(0|c,o);break;case"object":if("number"==typeof c.length)return w(c,o,0)}return[]}},8348:function(v,w,r){"use strict";v.exports=function c(o,f){var h=o.length;if("number"!=typeof f){f=0;for(var d=0;d<h;++d){var b=o[d];f=Math.max(f,b[0],b[1])}f=1+(0|f)}f|=0;var p=new Array(f);for(d=0;d<f;++d)p[d]=[];for(d=0;d<h;++d)p[(b=o[d])[0]].push(b[1]),p[b[1]].push(b[0]);for(var A=0;A<f;++A)n(p[A],function(m,u){return m-u});return p};var n=r(1215)},5795:function(v){"use strict";v.exports=function w(r,n,c){var o=n||0,f=c||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[o*r[12]+r[8],o*r[13]+r[9],o*r[14]+r[10],o*r[15]+r[11]],[f*r[12]-r[8],f*r[13]-r[9],f*r[14]-r[10],f*r[15]-r[11]]]}},8444:function(v,w,r){"use strict";v.exports=function b(p,A,m){switch(arguments.length){case 0:return new f([0],[0],0);case 1:return"number"==typeof p?new f(u=d(p),u,0):new f(p,d(p.length),0);case 2:var u;if("number"==typeof A)return new f(p,u=d(p.length),+A);m=0;case 3:if(p.length!==A.length)throw new Error("state and velocity lengths must match");return new f(p,A,m)}};var n=r(9680),c=r(5070);function o(p,A,m){return Math.min(A,Math.max(p,m))}function f(p,A,m){this.dimension=p.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var u=0;u<this.dimension;++u)this.bounds[0][u]=-1/0,this.bounds[1][u]=1/0;this._state=p.slice().reverse(),this._velocity=A.slice().reverse(),this._time=[m],this._scratch=[p.slice(),p.slice(),p.slice(),p.slice(),p.slice()]}var h=f.prototype;function d(p){for(var A=new Array(p),m=0;m<p;++m)A[m]=0;return A}h.flush=function(p){var A=c.gt(this._time,p)-1;A<=0||(this._time.splice(0,A),this._state.splice(0,A*this.dimension),this._velocity.splice(0,A*this.dimension))},h.curve=function(p){var A=this._time,m=A.length,u=c.le(A,p),g=this._scratch[0],C=this._state,T=this._velocity,L=this.dimension,x=this.bounds;if(u<0)for(var E=L-1,M=0;M<L;++M,--E)g[M]=C[E];else if(u>=m-1){E=C.length-1;var i=p-A[m-1];for(M=0;M<L;++M,--E)g[M]=C[E]+i*T[E]}else{E=L*(u+1)-1;var D=A[u],B=A[u+1]-D||1,F=this._scratch[1],_=this._scratch[2],z=this._scratch[3],V=this._scratch[4],H=!0;for(M=0;M<L;++M,--E)F[M]=C[E],z[M]=T[E]*B,_[M]=C[E+L],V[M]=T[E+L]*B,H=H&&F[M]===_[M]&&z[M]===V[M]&&0===z[M];if(H)for(M=0;M<L;++M)g[M]=F[M];else n(F,z,_,V,(p-D)/B,g)}var U=x[0],G=x[1];for(M=0;M<L;++M)g[M]=o(U[M],G[M],g[M]);return g},h.dcurve=function(p){var A=this._time,m=A.length,u=c.le(A,p),g=this._scratch[0],C=this._state,T=this._velocity,L=this.dimension;if(u>=m-1)for(var x=C.length-1,M=0;M<L;++M,--x)g[M]=T[x];else{x=L*(u+1)-1;var i=A[u],y=A[u+1]-i||1,B=this._scratch[1],F=this._scratch[2],_=this._scratch[3],z=this._scratch[4],V=!0;for(M=0;M<L;++M,--x)B[M]=C[x],_[M]=T[x]*y,F[M]=C[x+L],z[M]=T[x+L]*y,V=V&&B[M]===F[M]&&_[M]===z[M]&&0===_[M];if(V)for(M=0;M<L;++M)g[M]=0;else for(n.derivative(B,_,F,z,(p-i)/y,g),M=0;M<L;++M)g[M]/=y}return g},h.lastT=function(){var p=this._time;return p[p.length-1]},h.stable=function(){for(var p=this._velocity,A=p.length,m=this.dimension-1;m>=0;--m)if(p[--A])return!1;return!0},h.jump=function(p){var A=this.lastT(),m=this.dimension;if(!(p<A||arguments.length!==m+1)){var u=this._state,g=this._velocity,C=u.length-this.dimension,T=this.bounds,L=T[0],x=T[1];this._time.push(A,p);for(var E=0;E<2;++E)for(var M=0;M<m;++M)u.push(u[C++]),g.push(0);for(this._time.push(p),M=m;M>0;--M)u.push(o(L[M-1],x[M-1],arguments[M])),g.push(0)}},h.push=function(p){var A=this.lastT(),m=this.dimension;if(!(p<A||arguments.length!==m+1)){var u=this._state,g=this._velocity,C=u.length-this.dimension,T=p-A,L=this.bounds,x=L[0],E=L[1],M=T>1e-6?1/T:0;this._time.push(p);for(var i=m;i>0;--i){var D=o(x[i-1],E[i-1],arguments[i]);u.push(D),g.push((D-u[C++])*M)}}},h.set=function(p){var A=this.dimension;if(!(p<this.lastT()||arguments.length!==A+1)){var m=this._state,u=this._velocity,g=this.bounds,C=g[0],T=g[1];this._time.push(p);for(var L=A;L>0;--L)m.push(o(C[L-1],T[L-1],arguments[L])),u.push(0)}},h.move=function(p){var A=this.lastT(),m=this.dimension;if(!(p<=A||arguments.length!==m+1)){var u=this._state,g=this._velocity,C=u.length-this.dimension,T=this.bounds,L=T[0],x=T[1],E=p-A,M=E>1e-6?1/E:0;this._time.push(p);for(var i=m;i>0;--i){var D=arguments[i];u.push(o(L[i-1],x[i-1],u[C++]+D)),g.push(D*M)}}},h.idle=function(p){var A=this.lastT();if(!(p<A)){var m=this.dimension,u=this._state,g=this._velocity,C=u.length-m,T=this.bounds,L=T[0],x=T[1],E=p-A;this._time.push(p);for(var M=m-1;M>=0;--M)u.push(o(L[M],x[M],u[C]+E*g[C])),g.push(0),C+=1}}},7080:function(v){"use strict";v.exports=function L(x){return new h(x||T,null)};function n(x,E,M,i,D,y){this._color=x,this.key=E,this.value=M,this.left=i,this.right=D,this._count=y}function c(x){return new n(x._color,x.key,x.value,x.left,x.right,x._count)}function o(x,E){return new n(x,E.key,E.value,E.left,E.right,E._count)}function f(x){x._count=1+(x.left?x.left._count:0)+(x.right?x.right._count:0)}function h(x,E){this._compare=x,this.root=E}var d=h.prototype;function b(x,E){var M;return E.left&&(M=b(x,E.left))?M:(M=x(E.key,E.value))||(E.right?b(x,E.right):void 0)}function p(x,E,M,i){if(E(x,i.key)<=0){var y;if(i.left&&(y=p(x,E,M,i.left)))return y;if(y=M(i.key,i.value))return y}if(i.right)return p(x,E,M,i.right)}function A(x,E,M,i,D){var F,y=M(x,D.key),B=M(E,D.key);return y<=0&&(D.left&&(F=A(x,E,M,i,D.left))||B>0&&(F=i(D.key,D.value)))?F:B>0&&D.right?A(x,E,M,i,D.right):void 0}function m(x,E){this.tree=x,this._stack=E}Object.defineProperty(d,"keys",{get:function(){var x=[];return this.forEach(function(E,M){x.push(E)}),x}}),Object.defineProperty(d,"values",{get:function(){var x=[];return this.forEach(function(E,M){x.push(M)}),x}}),Object.defineProperty(d,"length",{get:function(){return this.root?this.root._count:0}}),d.insert=function(x,E){for(var M=this._compare,i=this.root,D=[],y=[];i;){var B=M(x,i.key);D.push(i),y.push(B),i=B<=0?i.left:i.right}D.push(new n(0,x,E,null,null,1));for(var F=D.length-2;F>=0;--F)i=D[F],D[F]=y[F]<=0?new n(i._color,i.key,i.value,D[F+1],i.right,i._count+1):new n(i._color,i.key,i.value,i.left,D[F+1],i._count+1);for(F=D.length-1;F>1;--F){var _=D[F-1];if(i=D[F],1===_._color||1===i._color)break;var z=D[F-2];if(z.left===_)if(_.left===i){if(!(V=z.right)||0!==V._color){z._color=0,z.left=_.right,_._color=1,_.right=z,D[F-2]=_,D[F-1]=i,f(z),f(_),F>=3&&((H=D[F-3]).left===z?H.left=_:H.right=_);break}_._color=1,z.right=o(1,V),z._color=0,F-=1}else{if(!(V=z.right)||0!==V._color){_.right=i.left,z._color=0,z.left=i.right,i._color=1,i.left=_,i.right=z,D[F-2]=i,D[F-1]=_,f(z),f(_),f(i),F>=3&&((H=D[F-3]).left===z?H.left=i:H.right=i);break}_._color=1,z.right=o(1,V),z._color=0,F-=1}else if(_.right===i){if(!(V=z.left)||0!==V._color){z._color=0,z.right=_.left,_._color=1,_.left=z,D[F-2]=_,D[F-1]=i,f(z),f(_),F>=3&&((H=D[F-3]).right===z?H.right=_:H.left=_);break}_._color=1,z.left=o(1,V),z._color=0,F-=1}else{var V;if(!(V=z.left)||0!==V._color){var H;_.left=i.right,z._color=0,z.right=i.left,i._color=1,i.right=_,i.left=z,D[F-2]=i,D[F-1]=_,f(z),f(_),f(i),F>=3&&((H=D[F-3]).right===z?H.right=i:H.left=i);break}_._color=1,z.left=o(1,V),z._color=0,F-=1}}return D[0]._color=1,new h(M,D[0])},d.forEach=function(E,M,i){if(this.root)switch(arguments.length){case 1:return b(E,this.root);case 2:return p(M,this._compare,E,this.root);case 3:return this._compare(M,i)>=0?void 0:A(M,i,this._compare,E,this.root)}},Object.defineProperty(d,"begin",{get:function(){for(var x=[],E=this.root;E;)x.push(E),E=E.left;return new m(this,x)}}),Object.defineProperty(d,"end",{get:function(){for(var x=[],E=this.root;E;)x.push(E),E=E.right;return new m(this,x)}}),d.at=function(x){if(x<0)return new m(this,[]);for(var E=this.root,M=[];;){if(M.push(E),E.left){if(x<E.left._count){E=E.left;continue}x-=E.left._count}if(!x)return new m(this,M);if(x-=1,!E.right)break;if(x>=E.right._count)break;E=E.right}return new m(this,[])},d.ge=function(x){for(var E=this._compare,M=this.root,i=[],D=0;M;){var y=E(x,M.key);i.push(M),y<=0&&(D=i.length),M=y<=0?M.left:M.right}return i.length=D,new m(this,i)},d.gt=function(x){for(var E=this._compare,M=this.root,i=[],D=0;M;){var y=E(x,M.key);i.push(M),y<0&&(D=i.length),M=y<0?M.left:M.right}return i.length=D,new m(this,i)},d.lt=function(x){for(var E=this._compare,M=this.root,i=[],D=0;M;){var y=E(x,M.key);i.push(M),y>0&&(D=i.length),M=y<=0?M.left:M.right}return i.length=D,new m(this,i)},d.le=function(x){for(var E=this._compare,M=this.root,i=[],D=0;M;){var y=E(x,M.key);i.push(M),y>=0&&(D=i.length),M=y<0?M.left:M.right}return i.length=D,new m(this,i)},d.find=function(x){for(var E=this._compare,M=this.root,i=[];M;){var D=E(x,M.key);if(i.push(M),0===D)return new m(this,i);M=D<=0?M.left:M.right}return new m(this,[])},d.remove=function(x){var E=this.find(x);return E?E.remove():this},d.get=function(x){for(var E=this._compare,M=this.root;M;){var i=E(x,M.key);if(0===i)return M.value;M=i<=0?M.left:M.right}};var u=m.prototype;function g(x,E){x.key=E.key,x.value=E.value,x.left=E.left,x.right=E.right,x._color=E._color,x._count=E._count}function T(x,E){return x<E?-1:x>E?1:0}Object.defineProperty(u,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(u,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),u.clone=function(){return new m(this.tree,this._stack.slice())},u.remove=function(){var x=this._stack;if(0===x.length)return this.tree;var E=new Array(x.length);E[E.length-1]=new n((M=x[x.length-1])._color,M.key,M.value,M.left,M.right,M._count);for(var i=x.length-2;i>=0;--i){var M;E[i]=(M=x[i]).left===x[i+1]?new n(M._color,M.key,M.value,E[i+1],M.right,M._count):new n(M._color,M.key,M.value,M.left,E[i+1],M._count)}if((M=E[E.length-1]).left&&M.right){var D=E.length;for(M=M.left;M.right;)E.push(M),M=M.right;var y=E[D-1];for(E.push(new n(M._color,y.key,y.value,M.left,M.right,M._count)),E[D-1].key=M.key,E[D-1].value=M.value,i=E.length-2;i>=D;--i)E[i]=new n((M=E[i])._color,M.key,M.value,M.left,E[i+1],M._count);E[D-1].left=E[D]}if(0===(M=E[E.length-1])._color){var B=E[E.length-2];for(B.left===M?B.left=null:B.right===M&&(B.right=null),E.pop(),i=0;i<E.length;++i)E[i]._count--;return new h(this.tree._compare,E[0])}if(M.left||M.right){for(M.left?g(M,M.left):M.right&&g(M,M.right),M._color=1,i=0;i<E.length-1;++i)E[i]._count--;return new h(this.tree._compare,E[0])}if(1===E.length)return new h(this.tree._compare,null);for(i=0;i<E.length;++i)E[i]._count--;var F=E[E.length-2];return function C(x){for(var E,M,i,D,y=x.length-1;y>=0;--y){if(E=x[y],0===y)return void(E._color=1);if((M=x[y-1]).left===E){if((i=M.right).right&&0===i.right._color)return D=(i=M.right=c(i)).right=c(i.right),M.right=i.left,i.left=M,i.right=D,i._color=M._color,E._color=1,M._color=1,D._color=1,f(M),f(i),y>1&&((B=x[y-2]).left===M?B.left=i:B.right=i),void(x[y-1]=i);if(i.left&&0===i.left._color)return D=(i=M.right=c(i)).left=c(i.left),M.right=D.left,i.left=D.right,D.left=M,D.right=i,D._color=M._color,M._color=1,i._color=1,E._color=1,f(M),f(i),f(D),y>1&&((B=x[y-2]).left===M?B.left=D:B.right=D),void(x[y-1]=D);if(1===i._color){if(0===M._color)return M._color=1,void(M.right=o(0,i));M.right=o(0,i);continue}i=c(i),M.right=i.left,i.left=M,i._color=M._color,M._color=0,f(M),f(i),y>1&&((B=x[y-2]).left===M?B.left=i:B.right=i),x[y-1]=i,x[y]=M,y+1<x.length?x[y+1]=E:x.push(E),y+=2}else{if((i=M.left).left&&0===i.left._color)return D=(i=M.left=c(i)).left=c(i.left),M.left=i.right,i.right=M,i.left=D,i._color=M._color,E._color=1,M._color=1,D._color=1,f(M),f(i),y>1&&((B=x[y-2]).right===M?B.right=i:B.left=i),void(x[y-1]=i);if(i.right&&0===i.right._color)return D=(i=M.left=c(i)).right=c(i.right),M.left=D.right,i.right=D.left,D.right=M,D.left=i,D._color=M._color,M._color=1,i._color=1,E._color=1,f(M),f(i),f(D),y>1&&((B=x[y-2]).right===M?B.right=D:B.left=D),void(x[y-1]=D);if(1===i._color){if(0===M._color)return M._color=1,void(M.left=o(0,i));M.left=o(0,i);continue}var B;i=c(i),M.left=i.right,i.right=M,i._color=M._color,M._color=0,f(M),f(i),y>1&&((B=x[y-2]).right===M?B.right=i:B.left=i),x[y-1]=i,x[y]=M,y+1<x.length?x[y+1]=E:x.push(E),y+=2}}}(E),F.left===M?F.left=null:F.right=null,new h(this.tree._compare,E[0])},Object.defineProperty(u,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(u,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(u,"index",{get:function(){var x=0,E=this._stack;if(0===E.length){var M=this.tree.root;return M?M._count:0}E[E.length-1].left&&(x=E[E.length-1].left._count);for(var i=E.length-2;i>=0;--i)E[i+1]===E[i].right&&(++x,E[i].left&&(x+=E[i].left._count));return x},enumerable:!0}),u.next=function(){var x=this._stack;if(0!==x.length){var E=x[x.length-1];if(E.right)for(E=E.right;E;)x.push(E),E=E.left;else for(x.pop();x.length>0&&x[x.length-1].right===E;)E=x[x.length-1],x.pop()}},Object.defineProperty(u,"hasNext",{get:function(){var x=this._stack;if(0===x.length)return!1;if(x[x.length-1].right)return!0;for(var E=x.length-1;E>0;--E)if(x[E-1].left===x[E])return!0;return!1}}),u.update=function(x){var E=this._stack;if(0===E.length)throw new Error("Can't update empty node!");var M=new Array(E.length),i=E[E.length-1];M[M.length-1]=new n(i._color,i.key,x,i.left,i.right,i._count);for(var D=E.length-2;D>=0;--D)M[D]=(i=E[D]).left===E[D+1]?new n(i._color,i.key,i.value,M[D+1],i.right,i._count):new n(i._color,i.key,i.value,i.left,M[D+1],i._count);return new h(this.tree._compare,M[0])},u.prev=function(){var x=this._stack;if(0!==x.length){var E=x[x.length-1];if(E.left)for(E=E.left;E;)x.push(E),E=E.right;else for(x.pop();x.length>0&&x[x.length-1].left===E;)E=x[x.length-1],x.pop()}},Object.defineProperty(u,"hasPrev",{get:function(){var x=this._stack;if(0===x.length)return!1;if(x[x.length-1].left)return!0;for(var E=x.length-1;E>0;--E)if(x[E-1].right===x[E])return!0;return!1}})},7453:function(v,w,r){"use strict";v.exports=function i(D,y){var B=new p(D);return B.update(y),B};var n=r(9557),c=r(1681),o=r(1011),f=r(2864),h=r(8468),d=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function b(D,y){return D[0]=y[0],D[1]=y[1],D[2]=y[2],D}function p(D){this.gl=D,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=o(D)}var A=p.prototype;function m(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}A.update=function(D){function y(ce,pe,te){if(te in D){var Z,Q=D[te],K=this[te];this[te]=Z=(ce?Array.isArray(Q)&&Array.isArray(Q[0]):Array.isArray(Q))?[pe(Q[0]),pe(Q[1]),pe(Q[2])]:[pe(Q),pe(Q),pe(Q)];for(var q=0;q<3;++q)if(Z[q]!==K[q])return!0}return!1}D=D||{};var V,B=y.bind(this,!1,Number),F=y.bind(this,!1,Boolean),_=y.bind(this,!1,String),z=y.bind(this,!0,function(ce){if(Array.isArray(ce)){if(3===ce.length)return[+ce[0],+ce[1],+ce[2],1];if(4===ce.length)return[+ce[0],+ce[1],+ce[2],+ce[3]]}return[0,0,0,1]}),H=!1,U=!1;if("bounds"in D)for(var G=D.bounds,Y=0;Y<2;++Y)for(var ee=0;ee<3;++ee)G[Y][ee]!==this.bounds[Y][ee]&&(U=!0),this.bounds[Y][ee]=G[Y][ee];if("ticks"in D)for(V=D.ticks,H=!0,this.autoTicks=!1,Y=0;Y<3;++Y)this.tickSpacing[Y]=0;else B("tickSpacing")&&(this.autoTicks=!0,U=!0);if(this._firstInit&&("ticks"in D||"tickSpacing"in D||(this.autoTicks=!0),U=!0,H=!0,this._firstInit=!1),U&&this.autoTicks&&(V=h.create(this.bounds,this.tickSpacing),H=!0),H){for(Y=0;Y<3;++Y)V[Y].sort(function(pe,te){return pe.x-te.x});h.equal(V,this.ticks)?H=!1:this.ticks=V}F("tickEnable"),_("tickFont")&&(H=!0),B("tickSize"),B("tickAngle"),B("tickPad"),z("tickColor");var ue=_("labels");_("labelFont")&&(ue=!0),F("labelEnable"),B("labelSize"),B("labelPad"),z("labelColor"),F("lineEnable"),F("lineMirror"),B("lineWidth"),z("lineColor"),F("lineTickEnable"),F("lineTickMirror"),B("lineTickLength"),B("lineTickWidth"),z("lineTickColor"),F("gridEnable"),B("gridWidth"),z("gridColor"),F("zeroEnable"),z("zeroLineColor"),B("zeroLineWidth"),F("backgroundEnable"),z("backgroundColor"),this._text?this._text&&(ue||H)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=n(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&H&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=c(this.gl,this.bounds,this.ticks))};var u=[new m,new m,new m];function g(D,y,B,F,_){for(var z=D.primalOffset,V=D.primalMinor,H=D.mirrorOffset,U=D.mirrorMinor,G=F[y],Y=0;Y<3;++Y)if(y!==Y){var ee=z,ue=H,ce=V,pe=U;G&1<<Y&&(ee=H,ue=z,ce=U,pe=V),ee[Y]=B[0][Y],ue[Y]=B[1][Y],_[Y]>0?(ce[Y]=-1,pe[Y]=0):(ce[Y]=0,pe[Y]=1)}}var C=[0,0,0],T={model:d,view:d,projection:d,_ortho:!1};A.isOpaque=function(){return!0},A.isTransparent=function(){return!1},A.drawTransparent=function(D){};var x=[0,0,0],E=[0,0,0],M=[0,0,0];A.draw=function(D){for(var K=this.gl,y=(D=D||T).model||d,B=D.view||d,F=D.projection||d,_=this.bounds,z=D._ortho||!1,V=f(y,B,F,_,z),H=V.cubeEdges,U=V.axis,pe=(z?2:1)*this.pixelRatio*(F[3]*B[12]+F[7]*B[13]+F[11]*B[14]+F[15]*B[15])/K.drawingBufferHeight,te=0;te<3;++te)this.lastCubeProps.cubeEdges[te]=H[te],this.lastCubeProps.axis[te]=U[te];var Q=u;for(te=0;te<3;++te)g(u[te],te,this.bounds,H,U);K=this.gl;var Z=C;for(te=0;te<3;++te)Z[te]=this.backgroundEnable[te]?U[te]:0;for(this._background.draw(y,B,F,_,Z,this.backgroundColor),this._lines.bind(y,B,F,this),te=0;te<3;++te){var q=[0,0,0];q[te]=U[te]>0?_[1][te]:_[0][te];for(var fe=0;fe<2;++fe){var $=(te+1+(1^fe))%3;this.gridEnable[re=(te+1+fe)%3]&&this._lines.drawGrid(re,$,this.bounds,q,this.gridColor[re],this.gridWidth[re]*this.pixelRatio)}for(fe=0;fe<2;++fe){var re=(te+1+fe)%3;this.zeroEnable[$=(te+1+(1^fe))%3]&&Math.min(_[0][$],_[1][$])<=0&&Math.max(_[0][$],_[1][$])>=0&&this._lines.drawZero(re,$,this.bounds,q,this.zeroLineColor[$],this.zeroLineWidth[$]*this.pixelRatio)}}for(te=0;te<3;++te){this.lineEnable[te]&&this._lines.drawAxisLine(te,this.bounds,Q[te].primalOffset,this.lineColor[te],this.lineWidth[te]*this.pixelRatio),this.lineMirror[te]&&this._lines.drawAxisLine(te,this.bounds,Q[te].mirrorOffset,this.lineColor[te],this.lineWidth[te]*this.pixelRatio);var le=b(x,Q[te].primalMinor),se=b(E,Q[te].mirrorMinor),de=this.lineTickLength;for(fe=0;fe<3;++fe){var we=pe/y[5*fe];le[fe]*=de[fe]*we,se[fe]*=de[fe]*we}this.lineTickEnable[te]&&this._lines.drawAxisTicks(te,Q[te].primalOffset,le,this.lineTickColor[te],this.lineTickWidth[te]*this.pixelRatio),this.lineTickMirror[te]&&this._lines.drawAxisTicks(te,Q[te].mirrorOffset,se,this.lineTickColor[te],this.lineTickWidth[te]*this.pixelRatio)}this._lines.unbind(),this._text.bind(y,B,F,this.pixelRatio);var Ee,Ne,Ve,Ke,ut,ot,We,je,lt,vt,pt,St;function Pe(Ke){(Ve=[0,0,0])[Ke]=1}for(te=0;te<3;++te){var Ie=Q[te].primalMinor,Je=Q[te].mirrorMinor,Qe=b(M,Q[te].primalOffset);for(fe=0;fe<3;++fe)this.lineTickEnable[te]&&(Qe[fe]+=pe*Ie[fe]*Math.max(this.lineTickLength[fe],0)/y[5*fe]);var ze=[0,0,0];if(ze[te]=1,this.tickEnable[te]){for(-3600===this.tickAngle[te]?(this.tickAngle[te]=0,this.tickAlign[te]="auto"):this.tickAlign[te]=-1,(Ee=[this.tickAlign[te],.5,Ne=1])[0]="auto"===Ee[0]?0:parseInt(""+Ee[0]),Ve=[0,0,0],We=void 0,je=void 0,lt=void 0,vt=void 0,pt=void 0,St=void 0,vt=(ut=Ie)[je=((Ke=te)+2)%3],pt=(ot=Je)[We=(Ke+1)%3],St=ot[je],(lt=ut[We])>0&&St>0||lt>0&&St<0||lt<0&&St>0||lt<0&&St<0?Pe(We):(vt>0&&pt>0||vt>0&&pt<0||vt<0&&pt>0||vt<0&&pt<0)&&Pe(je),fe=0;fe<3;++fe)Qe[fe]+=pe*Ie[fe]*this.tickPad[fe]/y[5*fe];this._text.drawTicks(te,this.tickSize[te],this.tickAngle[te],Qe,this.tickColor[te],ze,Ve,Ee)}if(this.labelEnable[te]){for(Ne=0,Ve=[0,0,0],this.labels[te].length>4&&(Pe(te),Ne=1),(Ee=[this.labelAlign[te],.5,Ne])[0]="auto"===Ee[0]?0:parseInt(""+Ee[0]),fe=0;fe<3;++fe)Qe[fe]+=pe*Ie[fe]*this.labelPad[fe]/y[5*fe];Qe[te]+=.5*(_[0][te]+_[1][te]),this._text.drawLabel(te,this.labelSize[te],this.labelAngle[te],Qe,this.labelColor[te],[0,0,0],Ve,Ee)}}this._text.unbind()},A.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(v,w,r){"use strict";v.exports=function d(b){for(var p=[],A=[],m=0,u=0;u<3;++u)for(var g=(u+1)%3,C=(u+2)%3,T=[0,0,0],L=[0,0,0],x=-1;x<=1;x+=2){A.push(m,m+2,m+1,m+1,m+2,m+3),T[u]=x,L[u]=x;for(var E=-1;E<=1;E+=2){T[g]=E;for(var M=-1;M<=1;M+=2)T[C]=M,p.push(T[0],T[1],T[2],L[0],L[1],L[2]),m+=1}var i=g;g=C,C=i}var D=n(b,new Float32Array(p)),y=n(b,new Uint16Array(A),b.ELEMENT_ARRAY_BUFFER),B=c(b,[{buffer:D,type:b.FLOAT,size:3,offset:0,stride:24},{buffer:D,type:b.FLOAT,size:3,offset:12,stride:24}],y),F=o(b);return F.attributes.position.location=0,F.attributes.normal.location=1,new f(b,D,B,F)};var n=r(5827),c=r(2944),o=r(1943).bg;function f(b,p,A,m){this.gl=b,this.buffer=p,this.vao=A,this.shader=m}var h=f.prototype;h.draw=function(b,p,A,m,u,g){for(var C=!1,T=0;T<3;++T)C=C||u[T];if(C){var L=this.gl;L.enable(L.POLYGON_OFFSET_FILL),L.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:b,view:p,projection:A,bounds:m,enable:u,colors:g},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),L.disable(L.POLYGON_OFFSET_FILL)}},h.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(v,w,r){"use strict";v.exports=function x(E,M,i,D,y){c(h,M,E),c(h,i,h);for(var B=0,F=0;F<2;++F){p[2]=D[F][2];for(var _=0;_<2;++_){p[1]=D[_][1];for(var z=0;z<2;++z)p[0]=D[z][0],m(d[B],p,h),B+=1}}var V=-1;for(F=0;F<8;++F){for(var H=d[F][3],U=0;U<3;++U)b[F][U]=d[F][U]/H;y&&(b[F][2]*=-1),H<0&&(V<0||b[F][2]<b[V][2])&&(V=F)}if(V<0){V=0;for(var G=0;G<3;++G){for(var Y=(G+2)%3,ee=(G+1)%3,ue=-1,ce=-1,pe=0;pe<2;++pe)f(b[te=pe<<G],b[te+(pe<<Y)+(1-pe<<ee)],b[te+(1-pe<<Y)+(pe<<ee)],A)<0||(pe?ue=1:ce=1);if(ue<0||ce<0)ce>ue&&(V|=1<<G);else{for(pe=0;pe<2;++pe){var te,Z=g([d[te=pe<<G],d[te+(pe<<Y)+(1-pe<<ee)],d[te+(1-pe<<Y)+(pe<<ee)],d[te+(1<<Y)+(1<<ee)]]);pe?ue=Z:ce=Z}ce>ue&&(V|=1<<G)}}}var q=7^V,fe=-1;for(F=0;F<8;++F)F===V||F===q||(fe<0||b[fe][1]>b[F][1])&&(fe=F);var re=-1;for(F=0;F<3;++F)($=fe^1<<F)!==V&&$!==q&&(re<0&&(re=$),(ee=b[$])[0]<b[re][0]&&(re=$));var le=-1;for(F=0;F<3;++F){var $;($=fe^1<<F)!==V&&$!==q&&$!==re&&(le<0&&(le=$),(ee=b[$])[0]>b[le][0]&&(le=$))}var se=C;se[0]=se[1]=se[2]=0,se[n.log2(re^fe)]=fe&re,se[n.log2(fe^le)]=fe&le;var de=7^le;de===V||de===q?se[n.log2(le^(de=7^re))]=de&le:se[n.log2(re^de)]=de&re;var we=T,Ee=V;for(G=0;G<3;++G)we[G]=Ee&1<<G?-1:1;return L};var n=r(2288),c=r(104),o=r(4670),f=r(417),h=new Array(16),d=new Array(8),b=new Array(8),p=new Array(3),A=[0,0,0];function m(E,M,i){for(var D=0;D<4;++D){E[D]=i[12+D];for(var y=0;y<3;++y)E[D]+=M[y]*i[4*y+D]}}!function(){for(var E=0;E<8;++E)d[E]=[1,1,1,1],b[E]=[1,1,1]}();var u=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function g(E){for(var M=0;M<u.length;++M)if((E=o.positive(E,u[M])).length<3)return 0;var i=E[0],D=i[0]/i[3],y=i[1]/i[3],B=0;for(M=1;M+1<E.length;++M){var F=E[M],_=E[M+1];B+=Math.abs((F[0]/F[3]-D)*(_[1]/_[3]-y)-(F[1]/F[3]-y)*(_[0]/_[3]-D))}return B}var C=[1,1,1],T=[0,0,0],L={cubeEdges:C,axis:T}},1681:function(v,w,r){"use strict";v.exports=function C(T,L,x){var E=[],M=[0,0,0],i=[0,0,0],D=[0,0,0],y=[0,0,0];E.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var B=0;B<3;++B){for(var z=E.length/3|0,F=0;F<x[B].length;++F)E.push(_=+x[B][F].x,0,1,_,1,1,_,0,-1,_,0,-1,_,1,1,_,1,-1);var H=E.length/3|0;M[B]=z,i[B]=H-z,z=E.length/3|0;for(var V=0;V<x[B].length;++V){var _;E.push(_=+x[B][V].x,0,1,_,1,1,_,0,-1,_,0,-1,_,1,1,_,1,-1)}H=E.length/3|0,D[B]=z,y[B]=H-z}var U=n(T,new Float32Array(E)),G=c(T,[{buffer:U,type:T.FLOAT,size:3,stride:0,offset:0}]),Y=o(T);return Y.attributes.position.location=0,new u(T,U,G,Y,i,M,y,D)};var n=r(5827),c=r(2944),o=r(1943).j,f=[0,0,0],h=[0,0,0],d=[0,0,0],b=[0,0,0],p=[1,1];function A(T){return T[0]=T[1]=T[2]=0,T}function m(T,L){return T[0]=L[0],T[1]=L[1],T[2]=L[2],T}function u(T,L,x,E,M,i,D,y){this.gl=T,this.vertBuffer=L,this.vao=x,this.shader=E,this.tickCount=M,this.tickOffset=i,this.gridCount=D,this.gridOffset=y}var g=u.prototype;g.bind=function(T,L,x){this.shader.bind(),this.shader.uniforms.model=T,this.shader.uniforms.view=L,this.shader.uniforms.projection=x,p[0]=this.gl.drawingBufferWidth,p[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=p,this.vao.bind()},g.unbind=function(){this.vao.unbind()},g.drawAxisLine=function(T,L,x,E,M){var i=A(h);this.shader.uniforms.majorAxis=h,i[T]=L[1][T]-L[0][T],this.shader.uniforms.minorAxis=i;var y,D=m(b,x);D[T]+=L[0][T],this.shader.uniforms.offset=D,this.shader.uniforms.lineWidth=M,this.shader.uniforms.color=E,(y=A(d))[(T+2)%3]=1,this.shader.uniforms.screenAxis=y,this.vao.draw(this.gl.TRIANGLES,6),(y=A(d))[(T+1)%3]=1,this.shader.uniforms.screenAxis=y,this.vao.draw(this.gl.TRIANGLES,6)},g.drawAxisTicks=function(T,L,x,E,M){if(this.tickCount[T]){var i=A(f);i[T]=1,this.shader.uniforms.majorAxis=i,this.shader.uniforms.offset=L,this.shader.uniforms.minorAxis=x,this.shader.uniforms.color=E,this.shader.uniforms.lineWidth=M;var D=A(d);D[T]=1,this.shader.uniforms.screenAxis=D,this.vao.draw(this.gl.TRIANGLES,this.tickCount[T],this.tickOffset[T])}},g.drawGrid=function(T,L,x,E,M,i){if(this.gridCount[T]){var D=A(h);D[L]=x[1][L]-x[0][L],this.shader.uniforms.minorAxis=D;var y=m(b,E);y[L]+=x[0][L],this.shader.uniforms.offset=y;var B=A(f);B[T]=1,this.shader.uniforms.majorAxis=B;var F=A(d);F[T]=1,this.shader.uniforms.screenAxis=F,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=M,this.vao.draw(this.gl.TRIANGLES,this.gridCount[T],this.gridOffset[T])}},g.drawZero=function(T,L,x,E,M,i){var D=A(h);this.shader.uniforms.majorAxis=D,D[T]=x[1][T]-x[0][T],this.shader.uniforms.minorAxis=D;var y=m(b,E);y[T]+=x[0][T],this.shader.uniforms.offset=y;var B=A(d);B[L]=1,this.shader.uniforms.screenAxis=B,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=M,this.vao.draw(this.gl.TRIANGLES,6)},g.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(v,w,r){"use strict";var n=r(6832),c=r(5158),o=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),f=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);w.j=function(A){return c(A,o,f,null,[{name:"position",type:"vec3"}])};var h=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),d=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);w.f=function(A){return c(A,h,d,null,[{name:"position",type:"vec3"}])};var b=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),p=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);w.bg=function(A){return c(A,b,p,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,w,r){"use strict";v.exports=function g(C,T,L,x,E,M){var i=n(C),D=c(C,[{buffer:i,size:3}]),y=f(C);y.attributes.position.location=0;var B=new p(C,y,i,D);return B.update(T,L,x,E,M),B};var n=r(5827),c=r(2944),o=r(875),f=r(1943).f,h=window||S.global||{},d=h.__TEXT_CACHE||{};h.__TEXT_CACHE={};function p(C,T,L,x){this.gl=C,this.shader=T,this.buffer=L,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var A=p.prototype,m=[0,0];A.bind=function(C,T,L,x){this.vao.bind(),this.shader.bind();var E=this.shader.uniforms;E.model=C,E.view=T,E.projection=L,E.pixelScale=x,m[0]=this.gl.drawingBufferWidth,m[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=m},A.unbind=function(){this.vao.unbind()},A.update=function(C,T,L,x,E){var M=[];function i(U,G,Y,ee,ue,ce){var pe=d[Y];pe||(pe=d[Y]={});var te=pe[G];te||(te=pe[G]=function u(C,T){try{return o(C,T)}catch(L){return console.warn('error vectorizing text:"'+C+'" error:',L),{cells:[],positions:[]}}}(G,{triangles:!0,font:Y,textAlign:"center",textBaseline:"middle",lineSpacing:ue,styletags:ce}));for(var Q=(ee||12)/12,K=te.positions,Z=te.cells,q=0,fe=Z.length;q<fe;++q)for(var re=Z[q],$=2;$>=0;--$){var le=K[re[$]];M.push(Q*le[0],-Q*le[1],U)}}for(var D=[0,0,0],y=[0,0,0],B=[0,0,0],F=[0,0,0],z={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},V=0;V<3;++V){B[V]=M.length/3|0,i(.5*(C[0][V]+C[1][V]),T[V],L[V],12,1.25,z),F[V]=(M.length/3|0)-B[V],D[V]=M.length/3|0;for(var H=0;H<x[V].length;++H)x[V][H].text&&i(x[V][H].x,x[V][H].text,x[V][H].font||E,x[V][H].fontSize||12,1.25,z);y[V]=(M.length/3|0)-D[V]}this.buffer.update(M),this.tickOffset=D,this.tickCount=y,this.labelOffset=B,this.labelCount=F},A.drawTicks=function(C,T,L,x,E,M,i,D){this.tickCount[C]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=E,this.shader.uniforms.angle=L,this.shader.uniforms.scale=T,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=D,this.vao.draw(this.gl.TRIANGLES,this.tickCount[C],this.tickOffset[C]))},A.drawLabel=function(C,T,L,x,E,M,i,D){this.labelCount[C]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=E,this.shader.uniforms.angle=L,this.shader.uniforms.scale=T,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=D,this.vao.draw(this.gl.TRIANGLES,this.labelCount[C],this.labelOffset[C]))},A.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(v,w){"use strict";function r(o,f){var h=o+"",d=h.indexOf("."),b=0;d>=0&&(b=h.length-d-1);var p=Math.pow(10,b),A=Math.round(o*f*p),m=A+"";if(m.indexOf("e")>=0)return m;var u=A/p,g=A%p;A<0?(u=0|-Math.ceil(u),g=0|-g):(u=0|Math.floor(u),g|=0);var C=""+u;if(A<0&&(C="-"+C),b){for(var T=""+g;T.length<b;)T="0"+T;return C+"."+T}return C}w.create=function n(o,f){for(var h=[],d=0;d<3;++d){for(var b=[],A=0;A*f[d]<=o[1][d];++A)b.push({x:A*f[d],text:r(f[d],A)});for(A=-1;A*f[d]>=o[0][d];--A)b.push({x:A*f[d],text:r(f[d],A)});h.push(b)}return h},w.equal=function c(o,f){for(var h=0;h<3;++h){if(o[h].length!==f[h].length)return!1;for(var d=0;d<o[h].length;++d){var b=o[h][d],p=f[h][d];if(b.x!==p.x||b.text!==p.text||b.font!==p.font||b.fontColor!==p.fontColor||b.fontSize!==p.fontSize||b.dx!==p.dx||b.dy!==p.dy)return!1}}return!0}},2771:function(v,w,r){"use strict";v.exports=function L(x,E,M,i,V){var y=E.model||b,B=E.view||b,F=E.projection||b,_=E._ortho||!1,z=x.bounds,H=(V=V||o(y,B,F,z,_)).axis;f(p,B,y),f(p,F,p);for(var U=C,G=0;G<3;++G)U[G].lo=1/0,U[G].hi=-1/0,U[G].pixelsPerDataUnit=1/0;var Y=n(h(p,p));h(p,p);for(var ee=0;ee<3;++ee){var ue=(ee+1)%3,ce=(ee+2)%3,pe=T;e:for(G=0;G<2;++G){var te=[];if(H[ee]<0!=!!G){pe[ee]=z[G][ee];for(var Q=0;Q<2;++Q){pe[ue]=z[Q^G][ue];for(var K=0;K<2;++K)pe[ce]=z[K^Q^G][ce],te.push(pe.slice())}var Z=_?5:4;for(Q=Z;Q===Z;++Q){if(0===te.length)continue e;te=c.positive(te,Y[Q])}for(Q=0;Q<te.length;++Q){var q=g(T,p,ce=te[Q],M,i);for(K=0;K<3;++K)U[K].lo=Math.min(U[K].lo,ce[K]),U[K].hi=Math.max(U[K].hi,ce[K]),K!==ee&&(U[K].pixelsPerDataUnit=Math.min(U[K].pixelsPerDataUnit,Math.abs(q[K])))}}}}return U};var n=r(5795),c=r(4670),o=r(2864),f=r(104),h=r(2142),d=r(6342),b=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),p=new Float32Array(16);function A(x,E,M){this.lo=x,this.hi=E,this.pixelsPerDataUnit=M}var m=[0,0,0,1],u=[0,0,0,1];function g(x,E,M,i,D){for(var y=0;y<3;++y){for(var B=m,F=u,_=0;_<3;++_)F[_]=B[_]=M[_];F[3]=B[3]=1,F[y]+=1,d(F,F,E),F[3]<0&&(x[y]=1/0),B[y]-=1,d(B,B,E),B[3]<0&&(x[y]=1/0);var z=(B[0]/B[3]-F[0]/F[3])*i,V=(B[1]/B[3]-F[1]/F[3])*D;x[y]=.25*Math.sqrt(z*z+V*V)}return x}var C=[new A(1/0,-1/0,1/0),new A(1/0,-1/0,1/0),new A(1/0,-1/0,1/0)],T=[0,0,0]},5827:function(v,w,r){"use strict";var n=r(5306),c=r(7498),o=r(5050),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function h(u,g,C,T,L){this.gl=u,this.type=g,this.handle=C,this.length=T,this.usage=L}var d=h.prototype;function b(u,g,C,T,L,x){var E=L.length*L.BYTES_PER_ELEMENT;if(x<0)return u.bufferData(g,L,T),E;if(E+x>C)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return u.bufferSubData(g,x,L),C}d.bind=function(){this.gl.bindBuffer(this.type,this.handle)},d.unbind=function(){this.gl.bindBuffer(this.type,null)},d.dispose=function(){this.gl.deleteBuffer(this.handle)},d.update=function(u,g){if("number"!=typeof g&&(g=-1),this.bind(),"object"==typeof u&&typeof u.shape<"u"){var C=u.dtype;if(f.indexOf(C)<0&&(C="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(C=gl.getExtension("OES_element_index_uint")&&"uint16"!==C?"uint32":"uint16"),C===u.dtype&&function A(u,g){for(var C=1,T=g.length-1;T>=0;--T){if(g[T]!==C)return!1;C*=u[T]}return!0}(u.shape,u.stride))this.length=b(this.gl,this.type,this.length,this.usage,0===u.offset&&u.data.length===u.shape[0]?u.data:u.data.subarray(u.offset,u.shape[0]),g);else{var L=n.malloc(u.size,C),x=o(L,u.shape);c.assign(x,u),this.length=b(this.gl,this.type,this.length,this.usage,g<0?L:L.subarray(0,u.size),g),n.free(L)}}else if(Array.isArray(u)){var E;E=function p(u,g){for(var C=n.malloc(u.length,g),T=u.length,L=0;L<T;++L)C[L]=u[L];return C}(u,this.type===this.gl.ELEMENT_ARRAY_BUFFER?"uint16":"float32"),this.length=b(this.gl,this.type,this.length,this.usage,g<0?E:E.subarray(0,u.length),g),n.free(E)}else if("object"==typeof u&&"number"==typeof u.length)this.length=b(this.gl,this.type,this.length,this.usage,u,g);else{if("number"!=typeof u&&void 0!==u)throw new Error("gl-buffer: Invalid data type");if(g>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(u|=0)<=0&&(u=1),this.gl.bufferData(this.type,0|u,this.usage),this.length=u}},v.exports=function m(u,g,C,T){if(T=T||u.DYNAMIC_DRAW,(C=C||u.ARRAY_BUFFER)!==u.ARRAY_BUFFER&&C!==u.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(T!==u.DYNAMIC_DRAW&&T!==u.STATIC_DRAW&&T!==u.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var L=u.createBuffer(),x=new h(u,C,L,0,T);return x.update(g),x}},1140:function(v,w,r){"use strict";var n=r(2858);v.exports=function(o,f){var h=o.positions,d=o.vectors,b={positions:[],vertexIntensity:[],vertexIntensityBounds:o.vertexIntensityBounds,vectors:[],cells:[],coneOffset:o.coneOffset,colormap:o.colormap};if(0===o.positions.length)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),b;for(var p=0,A=1/0,m=-1/0,u=1/0,g=-1/0,C=1/0,T=-1/0,L=null,x=null,E=[],M=1/0,i=!1,D=0;D<h.length;D++){var y=h[D];A=Math.min(y[0],A),m=Math.max(y[0],m),u=Math.min(y[1],u),g=Math.max(y[1],g),C=Math.min(y[2],C),T=Math.max(y[2],T);var B=d[D];if(n.length(B)>p&&(p=n.length(B)),D){var F=2*n.distance(L,y)/(n.length(x)+n.length(B));F?(M=Math.min(M,F),i=!1):i=!0}i||(L=y,x=B),E.push(B)}var z=[m,g,T];f&&(f[0]=[A,u,C],f[1]=z),0===p&&(p=1);var V=1/p;isFinite(M)||(M=1),b.vectorScale=M;var H=o.coneSize||.5;o.absoluteConeSize&&(H=o.absoluteConeSize*V),b.coneScale=H,D=0;for(var U=0;D<h.length;D++)for(var G=(y=h[D])[0],Y=y[1],ee=y[2],ue=E[D],ce=n.length(ue)*V,pe=0;pe<8;pe++){b.positions.push([G,Y,ee,U++]),b.positions.push([G,Y,ee,U++]),b.positions.push([G,Y,ee,U++]),b.positions.push([G,Y,ee,U++]),b.positions.push([G,Y,ee,U++]),b.positions.push([G,Y,ee,U++]),b.vectors.push(ue),b.vectors.push(ue),b.vectors.push(ue),b.vectors.push(ue),b.vectors.push(ue),b.vectors.push(ue),b.vertexIntensity.push(ce,ce,ce),b.vertexIntensity.push(ce,ce,ce);var Q=b.positions.length;b.cells.push([Q-6,Q-5,Q-4],[Q-3,Q-2,Q-1])}return b};var c=r(7234);v.exports.createMesh=r(5028),v.exports.createConeMesh=function(o,f){return v.exports.createMesh(o,f,{shaders:c,traceType:"cone"})}},5028:function(v,w,r){"use strict";var n=r(5158),c=r(5827),o=r(2944),f=r(8931),h=r(104),d=r(7437),b=r(5050),p=r(9156),A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function m(E,M,i,D,y,B,F,_,z,V,H){this.gl=E,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=M,this.dirty=!0,this.triShader=i,this.pickShader=D,this.trianglePositions=y,this.triangleVectors=B,this.triangleColors=_,this.triangleUVs=z,this.triangleIds=F,this.triangleVAO=V,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=H,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=A,this._view=A,this._projection=A,this._resolution=[1,1]}var u=m.prototype;u.isOpaque=function(){return this.opacity>=1},u.isTransparent=function(){return this.opacity<1},u.pickSlots=1,u.setPickBase=function(E){this.pickId=E},u.update=function(E){E=E||{};var M=this.gl;this.dirty=!0,"lightPosition"in E&&(this.lightPosition=E.lightPosition),"opacity"in E&&(this.opacity=E.opacity),"ambient"in E&&(this.ambientLight=E.ambient),"diffuse"in E&&(this.diffuseLight=E.diffuse),"specular"in E&&(this.specularLight=E.specular),"roughness"in E&&(this.roughness=E.roughness),"fresnel"in E&&(this.fresnel=E.fresnel),void 0!==E.tubeScale&&(this.tubeScale=E.tubeScale),void 0!==E.vectorScale&&(this.vectorScale=E.vectorScale),void 0!==E.coneScale&&(this.coneScale=E.coneScale),void 0!==E.coneOffset&&(this.coneOffset=E.coneOffset),E.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=M.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=M.LINEAR,this.texture.setPixels(function g(E){for(var M=p({colormap:E,nshades:256,format:"rgba"}),i=new Uint8Array(1024),D=0;D<256;++D){for(var y=M[D],B=0;B<3;++B)i[4*D+B]=y[B];i[4*D+3]=255*y[3]}return b(i,[256,256,4],[4,0,1])}(E.colormap)),this.texture.generateMipmap());var i=E.cells,D=E.positions,y=E.vectors;if(D&&i&&y){var B=[],F=[],_=[],z=[],V=[];this.cells=i,this.positions=D,this.vectors=y;var H=E.meshColor||[1,1,1,1],U=E.vertexIntensity,G=1/0,Y=-1/0;if(U)if(E.vertexIntensityBounds)G=+E.vertexIntensityBounds[0],Y=+E.vertexIntensityBounds[1];else for(var ee=0;ee<U.length;++ee){var ue=U[ee];G=Math.min(G,ue),Y=Math.max(Y,ue)}else for(ee=0;ee<D.length;++ee)ue=D[ee][2],G=Math.min(G,ue),Y=Math.max(Y,ue);for(this.intensity=U||function C(E){for(var M=E.length,i=new Array(M),D=0;D<M;++D)i[D]=E[D][2];return i}(D),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],ee=0;ee<D.length;++ee)for(var ce=D[ee],pe=0;pe<3;++pe)isNaN(ce[pe])||!isFinite(ce[pe])||(this.bounds[0][pe]=Math.min(this.bounds[0][pe],ce[pe]),this.bounds[1][pe]=Math.max(this.bounds[1][pe],ce[pe]));var te=0;e:for(ee=0;ee<i.length;++ee){var Q=i[ee];if(3===Q.length){for(pe=0;pe<3;++pe){ce=D[K=Q[pe]];for(var Z=0;Z<3;++Z)if(isNaN(ce[Z])||!isFinite(ce[Z]))continue e}for(pe=0;pe<3;++pe){var K;B.push((ce=D[K=Q[2-pe]])[0],ce[1],ce[2],ce[3]);var q=y[K];F.push(q[0],q[1],q[2],q[3]||0);var re;_.push(H[0],H[1],H[2],3===H.length?1:H[3]),z.push((re=U?[(U[K]-G)/(Y-G),0]:[(ce[2]-G)/(Y-G),0])[0],re[1]),V.push(ee)}te+=1}}this.triangleCount=te,this.trianglePositions.update(B),this.triangleVectors.update(F),this.triangleColors.update(_),this.triangleUVs.update(z),this.triangleIds.update(new Uint32Array(V))}},u.drawTransparent=u.draw=function(E){for(var M=this.gl,i=(E=E||{}).model||A,D=E.view||A,y=E.projection||A,B=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],F=0;F<3;++F)B[0][F]=Math.max(B[0][F],this.clipBounds[0][F]),B[1][F]=Math.min(B[1][F],this.clipBounds[1][F]);var _={model:i,view:D,projection:y,inverseModel:A.slice(),clipBounds:B,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};_.inverseModel=d(_.inverseModel,_.model),M.disable(M.CULL_FACE),this.texture.bind(0);var z=new Array(16);for(h(z,_.view,_.model),h(z,_.projection,z),d(z,z),F=0;F<3;++F)_.eyePosition[F]=z[12+F]/z[15];var V=z[15];for(F=0;F<3;++F)V+=this.lightPosition[F]*z[4*F+3];for(F=0;F<3;++F){for(var H=z[12+F],U=0;U<3;++U)H+=z[4*U+F]*this.lightPosition[U];_.lightPosition[F]=H/V}if(this.triangleCount>0){var G=this.triShader;G.bind(),G.uniforms=_,this.triangleVAO.bind(),M.drawArrays(M.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},u.drawPick=function(E){for(var M=this.gl,i=(E=E||{}).model||A,D=E.view||A,y=E.projection||A,B=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],F=0;F<3;++F)B[0][F]=Math.max(B[0][F],this.clipBounds[0][F]),B[1][F]=Math.min(B[1][F],this.clipBounds[1][F]);this._model=[].slice.call(i),this._view=[].slice.call(D),this._projection=[].slice.call(y),this._resolution=[M.drawingBufferWidth,M.drawingBufferHeight];var _={model:i,view:D,projection:y,clipBounds:B,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},z=this.pickShader;z.bind(),z.uniforms=_,this.triangleCount>0&&(this.triangleVAO.bind(),M.drawArrays(M.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},u.pick=function(E){if(!E||E.id!==this.pickId)return null;var M=E.value[0]+256*E.value[1]+65536*E.value[2],i=this.cells[M],D=this.positions[i[1]].slice(0,3),y={position:D,dataCoordinate:D,index:Math.floor(i[1]/48)};return"cone"===this.traceType?y.index=Math.floor(i[1]/48):"streamtube"===this.traceType&&(y.intensity=this.intensity[i[1]],y.velocity=this.vectors[i[1]].slice(0,3),y.divergence=this.vectors[i[1]][3],y.index=M),y},u.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},v.exports=function x(E,M,i){var D=i.shaders;1===arguments.length&&(E=(M=E).gl);var y=function T(E,M){var i=n(E,M.meshShader.vertex,M.meshShader.fragment,null,M.meshShader.attributes);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i.attributes.vector.location=4,i}(E,D),B=function L(E,M){var i=n(E,M.pickShader.vertex,M.pickShader.fragment,null,M.pickShader.attributes);return i.attributes.position.location=0,i.attributes.id.location=1,i.attributes.vector.location=4,i}(E,D),F=f(E,b(new Uint8Array([255,255,255,255]),[1,1,4]));F.generateMipmap(),F.minFilter=E.LINEAR_MIPMAP_LINEAR,F.magFilter=E.LINEAR;var _=c(E),z=c(E),V=c(E),H=c(E),U=c(E),Y=new m(E,F,y,B,_,z,U,V,H,o(E,[{buffer:_,type:E.FLOAT,size:4},{buffer:U,type:E.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:V,type:E.FLOAT,size:4},{buffer:H,type:E.FLOAT,size:2},{buffer:z,type:E.FLOAT,size:4}]),i.traceType||"cone");return Y.update(M),Y}},7234:function(v,w,r){var n=r(6832),c=n(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=n(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),f=n(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),h=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);w.meshShader={vertex:c,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},w.pickShader={vertex:f,fragment:h,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,w,r){var n=r(1950);v.exports=function(o){return n[o]}},3110:function(v,w,r){"use strict";v.exports=function m(u){var g=u.gl,C=n(g),T=c(g,[{buffer:C,type:g.FLOAT,size:3,offset:0,stride:40},{buffer:C,type:g.FLOAT,size:4,offset:12,stride:40},{buffer:C,type:g.FLOAT,size:3,offset:28,stride:40}]),L=o(g);L.attributes.position.location=0,L.attributes.color.location=1,L.attributes.offset.location=2;var x=new h(g,C,T,L);return x.update(u),x};var n=r(5827),c=r(2944),o=r(7667),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(u,g,C,T){this.gl=u,this.shader=T,this.buffer=g,this.vao=C,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var d=h.prototype;function b(u,g){for(var C=0;C<3;++C)u[0][C]=Math.min(u[0][C],g[C]),u[1][C]=Math.max(u[1][C],g[C])}d.isOpaque=function(){return!this.hasAlpha},d.isTransparent=function(){return this.hasAlpha},d.drawTransparent=d.draw=function(u){var g=this.gl,C=this.shader.uniforms;this.shader.bind();var T=C.view=u.view||f,L=C.projection=u.projection||f;C.model=u.model||f,C.clipBounds=this.clipBounds,C.opacity=this.opacity;var B=(u._ortho?2:1)*this.pixelRatio*(L[3]*T[12]+L[7]*T[13]+L[11]*T[14]+L[15]*T[15])/g.drawingBufferHeight;this.vao.bind();for(var F=0;F<3;++F)g.lineWidth(this.lineWidth[F]*this.pixelRatio),C.capSize=this.capSize[F]*B,this.lineCount[F]&&g.drawArrays(g.LINES,this.lineOffset[F],this.lineCount[F]);this.vao.unbind()};var p=function(){for(var u=new Array(3),g=0;g<3;++g){for(var C=[],T=1;T<=2;++T)for(var L=-1;L<=1;L+=2){var E=[0,0,0];E[(T+g)%3]=L,C.push(E)}u[g]=C}return u}();function A(u,g,C,T){for(var L=p[T],x=0;x<L.length;++x){var E=L[x];u.push(g[0],g[1],g[2],C[0],C[1],C[2],C[3],E[0],E[1],E[2])}return L.length}d.update=function(u){"lineWidth"in(u=u||{})&&(this.lineWidth=u.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in u&&(this.capSize=u.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in u&&(this.opacity=+u.opacity,this.opacity<1&&(this.hasAlpha=!0));var g=u.color||[[0,0,0],[0,0,0],[0,0,0]],C=u.position,T=u.error;if(Array.isArray(g[0])||(g=[g,g,g]),C&&T){var L=[],x=C.length,E=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var M=0;M<3;++M){this.lineOffset[M]=E;e:for(var i=0;i<x;++i){for(var D=C[i],y=0;y<3;++y)if(isNaN(D[y])||!isFinite(D[y]))continue e;var _,B=T[i],F=g[M];Array.isArray(F[0])&&(F=g[i]),3===F.length?F=[F[0],F[1],F[2],1]:4===F.length&&(F=[F[0],F[1],F[2],F[3]],!this.hasAlpha&&F[3]<1&&(this.hasAlpha=!0)),isNaN(B[0][M])||isNaN(B[1][M])||(B[0][M]<0&&((_=D.slice())[M]+=B[0][M],L.push(D[0],D[1],D[2],F[0],F[1],F[2],F[3],0,0,0,_[0],_[1],_[2],F[0],F[1],F[2],F[3],0,0,0),b(this.bounds,_),E+=2+A(L,_,F,M)),B[1][M]>0&&((_=D.slice())[M]+=B[1][M],L.push(D[0],D[1],D[2],F[0],F[1],F[2],F[3],0,0,0,_[0],_[1],_[2],F[0],F[1],F[2],F[3],0,0,0),b(this.bounds,_),E+=2+A(L,_,F,M)))}this.lineCount[M]=E-this.lineOffset[M]}this.buffer.update(L)}},d.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(v,w,r){"use strict";var n=r(6832),c=r(5158),o=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),f=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);v.exports=function(h){return c(h,o,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,w,r){"use strict";var n=r(8931);v.exports=function E(M,i,D,y){o||(o=M.FRAMEBUFFER_UNSUPPORTED,f=M.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,h=M.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,d=M.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var B=M.getExtension("WEBGL_draw_buffers");if(!c&&B&&function A(M,i){var D=M.getParameter(i.MAX_COLOR_ATTACHMENTS_WEBGL);c=new Array(D+1);for(var y=0;y<=D;++y){for(var B=new Array(D),F=0;F<y;++F)B[F]=M.COLOR_ATTACHMENT0+F;for(F=y;F<D;++F)B[F]=M.NONE;c[y]=B}}(M,B),Array.isArray(i)&&(y=D,D=0|i[1],i=0|i[0]),"number"!=typeof i)throw new Error("gl-fbo: Missing shape parameter");var F=M.getParameter(M.MAX_RENDERBUFFER_SIZE);if(i<0||i>F||D<0||D>F)throw new Error("gl-fbo: Parameters are too large for FBO");var _=1;if("color"in(y=y||{})){if((_=Math.max(0|y.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(_>1){if(!B)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(_>M.getParameter(B.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+_+" draw buffers")}}var z=M.UNSIGNED_BYTE,V=M.getExtension("OES_texture_float");if(y.float&&_>0){if(!V)throw new Error("gl-fbo: Context does not support floating point textures");z=M.FLOAT}else y.preferFloat&&_>0&&V&&(z=M.FLOAT);var H=!0;"depth"in y&&(H=!!y.depth);var U=!1;return"stencil"in y&&(U=!!y.stencil),new T(M,i,D,z,_,H,U,B)};var o,f,h,d,c=null;function b(M){return[M.getParameter(M.FRAMEBUFFER_BINDING),M.getParameter(M.RENDERBUFFER_BINDING),M.getParameter(M.TEXTURE_BINDING_2D)]}function p(M,i){M.bindFramebuffer(M.FRAMEBUFFER,i[0]),M.bindRenderbuffer(M.RENDERBUFFER,i[1]),M.bindTexture(M.TEXTURE_2D,i[2])}function m(M){switch(M){case o:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case h:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case d:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function u(M,i,D,y,B,F){if(!y)return null;var _=n(M,i,D,B,y);return _.magFilter=M.NEAREST,_.minFilter=M.NEAREST,_.mipSamples=1,_.bind(),M.framebufferTexture2D(M.FRAMEBUFFER,F,M.TEXTURE_2D,_.handle,0),_}function g(M,i,D,y,B){var F=M.createRenderbuffer();return M.bindRenderbuffer(M.RENDERBUFFER,F),M.renderbufferStorage(M.RENDERBUFFER,y,i,D),M.framebufferRenderbuffer(M.FRAMEBUFFER,B,M.RENDERBUFFER,F),F}function T(M,i,D,y,B,F,_,z){this.gl=M,this._shape=[0|i,0|D],this._destroyed=!1,this._ext=z,this.color=new Array(B);for(var V=0;V<B;++V)this.color[V]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=y,this._useDepth=F,this._useStencil=_;var H=this,U=[0|i,0|D];Object.defineProperties(U,{0:{get:function(){return H._shape[0]},set:function(G){return H.width=G}},1:{get:function(){return H._shape[1]},set:function(G){return H.height=G}}}),this._shapeVector=U,function C(M){var i=b(M.gl),D=M.gl,y=M.handle=D.createFramebuffer(),B=M._shape[0],F=M._shape[1],_=M.color.length,z=M._ext,V=M._useStencil,H=M._useDepth,U=M._colorType;D.bindFramebuffer(D.FRAMEBUFFER,y);for(var G=0;G<_;++G)M.color[G]=u(D,B,F,U,D.RGBA,D.COLOR_ATTACHMENT0+G);0===_?(M._color_rb=g(D,B,F,D.RGBA4,D.COLOR_ATTACHMENT0),z&&z.drawBuffersWEBGL(c[0])):_>1&&z.drawBuffersWEBGL(c[_]);var Y=D.getExtension("WEBGL_depth_texture");Y?V?M.depth=u(D,B,F,Y.UNSIGNED_INT_24_8_WEBGL,D.DEPTH_STENCIL,D.DEPTH_STENCIL_ATTACHMENT):H&&(M.depth=u(D,B,F,D.UNSIGNED_SHORT,D.DEPTH_COMPONENT,D.DEPTH_ATTACHMENT)):H&&V?M._depth_rb=g(D,B,F,D.DEPTH_STENCIL,D.DEPTH_STENCIL_ATTACHMENT):H?M._depth_rb=g(D,B,F,D.DEPTH_COMPONENT16,D.DEPTH_ATTACHMENT):V&&(M._depth_rb=g(D,B,F,D.STENCIL_INDEX,D.STENCIL_ATTACHMENT));var ee=D.checkFramebufferStatus(D.FRAMEBUFFER);if(ee!==D.FRAMEBUFFER_COMPLETE){for(M._destroyed=!0,D.bindFramebuffer(D.FRAMEBUFFER,null),D.deleteFramebuffer(M.handle),M.handle=null,M.depth&&(M.depth.dispose(),M.depth=null),M._depth_rb&&(D.deleteRenderbuffer(M._depth_rb),M._depth_rb=null),G=0;G<M.color.length;++G)M.color[G].dispose(),M.color[G]=null;M._color_rb&&(D.deleteRenderbuffer(M._color_rb),M._color_rb=null),p(D,i),m(ee)}p(D,i)}(this)}var L=T.prototype;function x(M,i,D){if(M._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(M._shape[0]!==i||M._shape[1]!==D){var y=M.gl,B=y.getParameter(y.MAX_RENDERBUFFER_SIZE);if(i<0||i>B||D<0||D>B)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");M._shape[0]=i,M._shape[1]=D;for(var F=b(y),_=0;_<M.color.length;++_)M.color[_].shape=M._shape;M._color_rb&&(y.bindRenderbuffer(y.RENDERBUFFER,M._color_rb),y.renderbufferStorage(y.RENDERBUFFER,y.RGBA4,M._shape[0],M._shape[1])),M.depth&&(M.depth.shape=M._shape),M._depth_rb&&(y.bindRenderbuffer(y.RENDERBUFFER,M._depth_rb),M._useDepth&&M._useStencil?y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_STENCIL,M._shape[0],M._shape[1]):M._useDepth?y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_COMPONENT16,M._shape[0],M._shape[1]):M._useStencil&&y.renderbufferStorage(y.RENDERBUFFER,y.STENCIL_INDEX,M._shape[0],M._shape[1])),y.bindFramebuffer(y.FRAMEBUFFER,M.handle);var z=y.checkFramebufferStatus(y.FRAMEBUFFER);z!==y.FRAMEBUFFER_COMPLETE&&(M.dispose(),p(y,F),m(z)),p(y,F)}}Object.defineProperties(L,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(M){if(Array.isArray(M)||(M=[0|M,0|M]),2!==M.length)throw new Error("gl-fbo: Shape vector must be length 2");var i=0|M[0],D=0|M[1];return x(this,i,D),[i,D]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(M){return x(this,M|=0,this._shape[1]),M},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(M){return x(this,this._shape[0],M|=0),M},enumerable:!1}}),L.bind=function(){if(!this._destroyed){var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,this.handle),M.viewport(0,0,this._shape[0],this._shape[1])}},L.dispose=function(){if(!this._destroyed){this._destroyed=!0;var M=this.gl;M.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(M.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var i=0;i<this.color.length;++i)this.color[i].dispose(),this.color[i]=null;this._color_rb&&(M.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(v,w,r){var n=r(8974).sprintf,c=r(6603),o=r(9365),f=r(8008);v.exports=function h(d,b,p){"use strict";var A=o(b)||"of unknown name (see npm glsl-shader-name)",m="unknown type";void 0!==p&&(m=p===c.FRAGMENT_SHADER?"fragment":"vertex");for(var u=n("Error compiling %s shader %s:\n",m,A),g=n("%s%s",u,d),C=d.split("\n"),T={},L=0;L<C.length;L++){var x=C[L];if(""!==x&&"\0"!==x){var E=parseInt(x.split(":")[2]);if(isNaN(E))throw new Error(n("Could not parse error: %s",x));T[E]=x}}var M=f(b).split("\n");for(L=0;L<M.length;L++)if((T[L+3]||T[L+2]||T[L+1])&&(u+=M[L]+"\n",T[L+1])){var D=T[L+1];D=D.substr(D.split(":",3).join(":").length+1).trim(),u+=n("^^^ %s\n\n",D)}return{long:u.trim(),short:g.trim()}}},6386:function(v,w,r){"use strict";v.exports=function m(u,g){var C=u.gl,D=new b(u,f(C,d.vertex,d.fragment),f(C,d.pickVertex,d.pickFragment),h(C),h(C),h(C),h(C));return D.update(g),u.addObject(D),D};var n=r(5070),c=r(9560),o=r(5306),f=r(5158),h=r(5827),d=r(1292);function b(u,g,C,T,L,x,E){this.plot=u,this.shader=g,this.pickShader=C,this.positionBuffer=T,this.weightBuffer=L,this.colorBuffer=x,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var u,p=b.prototype,A=[0,0,1,0,0,1,1,0,1,1,0,1];p.draw=(u=[1,0,0,0,1,0,0,0,1],function(){var g=this.plot,C=this.shader,T=this.bounds,L=this.numVertices;if(!(L<=0)){var x=g.gl,E=g.dataBox,i=T[3]-T[1],D=E[2]-E[0],y=E[3]-E[1];u[0]=2*(T[2]-T[0])/D,u[4]=2*i/y,u[6]=2*(T[0]-E[0])/D-1,u[7]=2*(T[1]-E[1])/y-1,C.bind();var B=C.uniforms;B.viewTransform=u,B.shape=this.shape;var F=C.attributes;this.positionBuffer.bind(),F.position.pointer(),this.weightBuffer.bind(),F.weight.pointer(x.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),F.color.pointer(x.UNSIGNED_BYTE,!0),x.drawArrays(x.TRIANGLES,0,L)}}),p.drawPick=function(){var u=[1,0,0,0,1,0,0,0,1],g=[0,0,0,0];return function(C){var T=this.plot,L=this.pickShader,x=this.bounds,E=this.numVertices;if(!(E<=0)){var M=T.gl,i=T.dataBox,y=x[3]-x[1],B=i[2]-i[0],F=i[3]-i[1];u[0]=2*(x[2]-x[0])/B,u[4]=2*y/F,u[6]=2*(x[0]-i[0])/B-1,u[7]=2*(x[1]-i[1])/F-1;for(var _=0;_<4;++_)g[_]=C>>8*_&255;this.pickOffset=C,L.bind();var z=L.uniforms;z.viewTransform=u,z.pickOffset=g,z.shape=this.shape;var V=L.attributes;return this.positionBuffer.bind(),V.position.pointer(),this.weightBuffer.bind(),V.weight.pointer(M.UNSIGNED_BYTE,!1),this.idBuffer.bind(),V.pickId.pointer(M.UNSIGNED_BYTE,!1),M.drawArrays(M.TRIANGLES,0,E),C+this.shape[0]*this.shape[1]}}}(),p.pick=function(u,g,C){var T=this.pickOffset;if(C<T||C>=T+this.shape[0]*this.shape[1])return null;var x=C-T;return{object:this,pointId:x,dataCoord:[this.xData[x%this.shape[0]],this.yData[x/this.shape[0]|0]]}},p.update=function(u){var g=(u=u||{}).shape||[0,0],C=u.x||c(g[0]),T=u.y||c(g[1]),L=u.z||new Float32Array(g[0]*g[1]),x=!1!==u.zsmooth;this.xData=C,this.yData=T;var y,B,F,_,E=u.colorLevels||[0],M=u.colorValues||[0,0,0,1],i=E.length,D=this.bounds;x?(y=D[0]=C[0],B=D[1]=T[0],F=D[2]=C[C.length-1],_=D[3]=T[T.length-1]):(y=D[0]=C[0]+(C[1]-C[0])/2,B=D[1]=T[0]+(T[1]-T[0])/2,F=D[2]=C[C.length-1]+(C[C.length-1]-C[C.length-2])/2,_=D[3]=T[T.length-1]+(T[T.length-1]-T[T.length-2])/2);var z=1/(F-y),V=1/(_-B),H=g[0],U=g[1];this.shape=[H,U];var G=(x?(H-1)*(U-1):H*U)*(A.length>>>1);this.numVertices=G;for(var Y=o.mallocUint8(4*G),ee=o.mallocFloat32(2*G),ue=o.mallocUint8(2*G),ce=o.mallocUint32(G),pe=0,te=x?H-1:H,Q=x?U-1:U,K=0;K<Q;++K){var Z,q;x?(Z=V*(T[K]-B),q=V*(T[K+1]-B)):(Z=K<U-1?V*(T[K]-(T[K+1]-T[K])/2-B):V*(T[K]-(T[K]-T[K-1])/2-B),q=K<U-1?V*(T[K]+(T[K+1]-T[K])/2-B):V*(T[K]+(T[K]-T[K-1])/2-B));for(var fe=0;fe<te;++fe){var re,$;x?(re=z*(C[fe]-y),$=z*(C[fe+1]-y)):(re=fe<H-1?z*(C[fe]-(C[fe+1]-C[fe])/2-y):z*(C[fe]-(C[fe]-C[fe-1])/2-y),$=fe<H-1?z*(C[fe]+(C[fe+1]-C[fe])/2-y):z*(C[fe]+(C[fe]-C[fe-1])/2-y));for(var le=0;le<A.length;le+=2){var Ne,Ve,Pe,Ce,se=A[le],de=A[le+1],Ee=L[x?(K+de)*H+(fe+se):K*H+fe],Me=n.le(E,Ee);if(Me<0)Ne=M[0],Ve=M[1],Pe=M[2],Ce=M[3];else if(Me===i-1)Ne=M[4*i-4],Ve=M[4*i-3],Pe=M[4*i-2],Ce=M[4*i-1];else{var Ie=(Ee-E[Me])/(E[Me+1]-E[Me]),Je=1-Ie,Qe=4*Me,ze=4*(Me+1);Ne=Je*M[Qe]+Ie*M[ze],Ve=Je*M[Qe+1]+Ie*M[ze+1],Pe=Je*M[Qe+2]+Ie*M[ze+2],Ce=Je*M[Qe+3]+Ie*M[ze+3]}Y[4*pe]=255*Ne,Y[4*pe+1]=255*Ve,Y[4*pe+2]=255*Pe,Y[4*pe+3]=255*Ce,ee[2*pe]=.5*re+.5*$,ee[2*pe+1]=.5*Z+.5*q,ue[2*pe]=se,ue[2*pe+1]=de,ce[pe]=K*H+fe,pe+=1}}}this.positionBuffer.update(ee),this.weightBuffer.update(ue),this.colorBuffer.update(Y),this.idBuffer.update(ce),o.free(ee),o.free(Y),o.free(ue),o.free(ce)},p.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(v,w,r){"use strict";var n=r(6832);v.exports={fragment:n(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:n(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},248:function(v,w,r){var n=r(6832),c=r(5158),o=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),f=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),h=n(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),d=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];w.createShader=function(b){return c(b,o,f,null,d)},w.createPickShader=function(b){return c(b,o,h,null,d)}},6086:function(v,w,r){"use strict";v.exports=function M(i){var D=i.gl||i.scene&&i.scene.gl,y=m(D);y.attributes.position.location=0,y.attributes.nextPosition.location=1,y.attributes.arcLength.location=2,y.attributes.lineWidth.location=3,y.attributes.color.location=4;var B=u(D);B.attributes.position.location=0,B.attributes.nextPosition.location=1,B.attributes.arcLength.location=2,B.attributes.lineWidth.location=3,B.attributes.color.location=4;for(var F=n(D),_=c(D,[{buffer:F,size:3,offset:0,stride:48},{buffer:F,size:3,offset:12,stride:48},{buffer:F,size:1,offset:24,stride:48},{buffer:F,size:1,offset:28,stride:48},{buffer:F,size:4,offset:32,stride:48}]),z=p(new Array(1024),[256,1,4]),V=0;V<1024;++V)z.data[V]=255;var H=o(D,z);H.wrap=D.REPEAT;var U=new x(D,y,B,F,_,H);return U.update(i),U};var n=r(5827),c=r(2944),o=r(8931),f=new Uint8Array(4),h=new Float32Array(f.buffer);var b=r(5070),p=r(5050),A=r(248),m=A.createShader,u=A.createPickShader,g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function C(i,D){for(var y=0,B=0;B<3;++B){var F=i[B]-D[B];y+=F*F}return Math.sqrt(y)}function T(i){for(var D=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],y=0;y<3;++y)D[0][y]=Math.max(i[0][y],D[0][y]),D[1][y]=Math.min(i[1][y],D[1][y]);return D}function L(i,D,y,B){this.arcLength=i,this.position=D,this.index=y,this.dataCoordinate=B}function x(i,D,y,B,F,_){this.gl=i,this.shader=D,this.pickShader=y,this.buffer=B,this.vao=F,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=_,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var E=x.prototype;E.isTransparent=function(){return this.hasAlpha},E.isOpaque=function(){return!this.hasAlpha},E.pickSlots=1,E.setPickBase=function(i){this.pickId=i},E.drawTransparent=E.draw=function(i){if(this.vertexCount){var D=this.gl,y=this.shader,B=this.vao;y.bind(),y.uniforms={model:i.model||g,view:i.view||g,projection:i.projection||g,clipBounds:T(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[D.drawingBufferWidth,D.drawingBufferHeight],pixelRatio:this.pixelRatio},B.bind(),B.draw(D.TRIANGLE_STRIP,this.vertexCount),B.unbind()}},E.drawPick=function(i){if(this.vertexCount){var D=this.gl,y=this.pickShader,B=this.vao;y.bind(),y.uniforms={model:i.model||g,view:i.view||g,projection:i.projection||g,pickId:this.pickId,clipBounds:T(this.clipBounds),screenShape:[D.drawingBufferWidth,D.drawingBufferHeight],pixelRatio:this.pixelRatio},B.bind(),B.draw(D.TRIANGLE_STRIP,this.vertexCount),B.unbind()}},E.update=function(i){var D,y;this.dirty=!0;var B=!!i.connectGaps;"dashScale"in i&&(this.dashScale=i.dashScale),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var F=[],_=[],z=[],V=0,H=0,U=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],G=i.position||i.positions;if(G){var Y=i.color||i.colors||[0,0,0,1],ee=i.lineWidth||1,ue=!1;e:for(D=1;D<G.length;++D){var Q,K,Z,ce=G[D-1],pe=G[D];for(_.push(V),z.push(ce.slice()),y=0;y<3;++y){if(isNaN(ce[y])||isNaN(pe[y])||!isFinite(ce[y])||!isFinite(pe[y])){if(!B&&F.length>0){for(var te=0;te<24;++te)F.push(F[F.length-12]);H+=2,ue=!0}continue e}U[0][y]=Math.min(U[0][y],ce[y],pe[y]),U[1][y]=Math.max(U[1][y],ce[y],pe[y])}Array.isArray(Y[0])?(Q=Y.length>D-1?Y[D-1]:Y.length>0?Y[Y.length-1]:[0,0,0,1],K=Y.length>D?Y[D]:Y.length>0?Y[Y.length-1]:[0,0,0,1]):Q=K=Y,3===Q.length&&(Q=[Q[0],Q[1],Q[2],1]),3===K.length&&(K=[K[0],K[1],K[2],1]),!this.hasAlpha&&Q[3]<1&&(this.hasAlpha=!0),Z=Array.isArray(ee)?ee.length>D-1?ee[D-1]:ee.length>0?ee[ee.length-1]:[0,0,0,1]:ee;var q=V;if(V+=C(ce,pe),ue){for(y=0;y<2;++y)F.push(ce[0],ce[1],ce[2],pe[0],pe[1],pe[2],q,Z,Q[0],Q[1],Q[2],Q[3]);H+=2,ue=!1}F.push(ce[0],ce[1],ce[2],pe[0],pe[1],pe[2],q,Z,Q[0],Q[1],Q[2],Q[3],ce[0],ce[1],ce[2],pe[0],pe[1],pe[2],q,-Z,Q[0],Q[1],Q[2],Q[3],pe[0],pe[1],pe[2],ce[0],ce[1],ce[2],V,-Z,K[0],K[1],K[2],K[3],pe[0],pe[1],pe[2],ce[0],ce[1],ce[2],V,Z,K[0],K[1],K[2],K[3]),H+=4}}if(this.buffer.update(F),_.push(V),z.push(G[G.length-1].slice()),this.bounds=U,this.vertexCount=H,this.points=z,this.arcLength=_,"dashes"in i){var re=i.dashes.slice();for(re.unshift(0),D=1;D<re.length;++D)re[D]=re[D-1]+re[D];var $=p(new Array(1024),[256,1,4]);for(D=0;D<256;++D){for(y=0;y<4;++y)$.set(D,0,y,0);1&b.le(re,re[re.length-1]*D/255)?$.set(D,0,0,0):$.set(D,0,0,255)}this.texture.setPixels($)}},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},E.pick=function(i){if(!i||i.id!==this.pickId)return null;var D=function d(i,D,y,B){return f[0]=B,f[1]=y,f[2]=D,f[3]=i,h[0]}(i.value[0],i.value[1],i.value[2],0),y=b.le(this.arcLength,D);if(y<0)return null;if(y===this.arcLength.length-1)return new L(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),y);for(var B=this.points[y],F=this.points[Math.min(y+1,this.points.length-1)],_=(D-this.arcLength[y])/(this.arcLength[y+1]-this.arcLength[y]),z=1-_,V=[0,0,0],H=0;H<3;++H)V[H]=z*B[H]+_*F[H];var U=Math.min(_<.5?y:y+1,this.points.length-1);return new L(D,V,U,this.points[U])}},7332:function(v){v.exports=function w(r){var n=new Float32Array(16);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],n}},9823:function(v){v.exports=function w(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7787:function(v){v.exports=function w(r){var n=r[0],c=r[1],o=r[2],f=r[3],h=r[4],d=r[5],b=r[6],p=r[7],A=r[8],m=r[9],u=r[10],g=r[11],C=r[12],T=r[13],L=r[14],x=r[15];return(n*d-c*h)*(u*x-g*L)-(n*b-o*h)*(m*x-g*T)+(n*p-f*h)*(m*L-u*T)+(c*b-o*d)*(A*x-g*C)-(c*p-f*d)*(A*L-u*C)+(o*p-f*b)*(A*T-m*C)}},5950:function(v){v.exports=function w(r,n){var c=n[0],o=n[1],f=n[2],h=n[3],d=c+c,b=o+o,p=f+f,A=c*d,m=o*d,u=o*b,g=f*d,C=f*b,T=f*p,L=h*d,x=h*b,E=h*p;return r[0]=1-u-T,r[1]=m+E,r[2]=g-x,r[3]=0,r[4]=m-E,r[5]=1-A-T,r[6]=C+L,r[7]=0,r[8]=g+x,r[9]=C-L,r[10]=1-A-u,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7280:function(v){v.exports=function w(r,n,c){var o=n[0],f=n[1],h=n[2],d=n[3],b=o+o,p=f+f,A=h+h,m=o*b,u=o*p,g=o*A,C=f*p,T=f*A,L=h*A,x=d*b,E=d*p,M=d*A;return r[0]=1-(C+L),r[1]=u+M,r[2]=g-E,r[3]=0,r[4]=u-M,r[5]=1-(m+L),r[6]=T+x,r[7]=0,r[8]=g+E,r[9]=T-x,r[10]=1-(m+C),r[11]=0,r[12]=c[0],r[13]=c[1],r[14]=c[2],r[15]=1,r}},9947:function(v){v.exports=function w(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7437:function(v){v.exports=function w(r,n){var c=n[0],o=n[1],f=n[2],h=n[3],d=n[4],b=n[5],p=n[6],A=n[7],m=n[8],u=n[9],g=n[10],C=n[11],T=n[12],L=n[13],x=n[14],E=n[15],M=c*b-o*d,i=c*p-f*d,D=c*A-h*d,y=o*p-f*b,B=o*A-h*b,F=f*A-h*p,_=m*L-u*T,z=m*x-g*T,V=m*E-C*T,H=u*x-g*L,U=u*E-C*L,G=g*E-C*x,Y=M*G-i*U+D*H+y*V-B*z+F*_;return Y?(r[0]=(b*G-p*U+A*H)*(Y=1/Y),r[1]=(f*U-o*G-h*H)*Y,r[2]=(L*F-x*B+E*y)*Y,r[3]=(g*B-u*F-C*y)*Y,r[4]=(p*V-d*G-A*z)*Y,r[5]=(c*G-f*V+h*z)*Y,r[6]=(x*D-T*F-E*i)*Y,r[7]=(m*F-g*D+C*i)*Y,r[8]=(d*U-b*V+A*_)*Y,r[9]=(o*V-c*U-h*_)*Y,r[10]=(T*B-L*D+E*M)*Y,r[11]=(u*D-m*B-C*M)*Y,r[12]=(b*z-d*H-p*_)*Y,r[13]=(c*H-o*z+f*_)*Y,r[14]=(L*i-T*y-x*M)*Y,r[15]=(m*y-u*i+g*M)*Y,r):null}},3012:function(v,w,r){var n=r(9947);v.exports=function c(o,f,h,d){var b,p,A,m,u,g,C,T,L,x,E=f[0],M=f[1],i=f[2],D=d[0],y=d[1],B=d[2],F=h[0],_=h[1],z=h[2];return Math.abs(E-F)<1e-6&&Math.abs(M-_)<1e-6&&Math.abs(i-z)<1e-6?n(o):(C=E-F,T=M-_,L=i-z,b=y*(L*=x=1/Math.sqrt(C*C+T*T+L*L))-B*(T*=x),p=B*(C*=x)-D*L,A=D*T-y*C,(x=Math.sqrt(b*b+p*p+A*A))?(b*=x=1/x,p*=x,A*=x):(b=0,p=0,A=0),m=T*A-L*p,u=L*b-C*A,g=C*p-T*b,(x=Math.sqrt(m*m+u*u+g*g))?(m*=x=1/x,u*=x,g*=x):(m=0,u=0,g=0),o[0]=b,o[1]=m,o[2]=C,o[3]=0,o[4]=p,o[5]=u,o[6]=T,o[7]=0,o[8]=A,o[9]=g,o[10]=L,o[11]=0,o[12]=-(b*E+p*M+A*i),o[13]=-(m*E+u*M+g*i),o[14]=-(C*E+T*M+L*i),o[15]=1,o)}},104:function(v){v.exports=function w(r,n,c){var o=n[0],f=n[1],h=n[2],d=n[3],b=n[4],p=n[5],A=n[6],m=n[7],u=n[8],g=n[9],C=n[10],T=n[11],L=n[12],x=n[13],E=n[14],M=n[15],i=c[0],D=c[1],y=c[2],B=c[3];return r[0]=i*o+D*b+y*u+B*L,r[1]=i*f+D*p+y*g+B*x,r[2]=i*h+D*A+y*C+B*E,r[3]=i*d+D*m+y*T+B*M,r[4]=(i=c[4])*o+(D=c[5])*b+(y=c[6])*u+(B=c[7])*L,r[5]=i*f+D*p+y*g+B*x,r[6]=i*h+D*A+y*C+B*E,r[7]=i*d+D*m+y*T+B*M,r[8]=(i=c[8])*o+(D=c[9])*b+(y=c[10])*u+(B=c[11])*L,r[9]=i*f+D*p+y*g+B*x,r[10]=i*h+D*A+y*C+B*E,r[11]=i*d+D*m+y*T+B*M,r[12]=(i=c[12])*o+(D=c[13])*b+(y=c[14])*u+(B=c[15])*L,r[13]=i*f+D*p+y*g+B*x,r[14]=i*h+D*A+y*C+B*E,r[15]=i*d+D*m+y*T+B*M,r}},5268:function(v){v.exports=function w(r,n,c,o,f,h,d){var b=1/(n-c),p=1/(o-f),A=1/(h-d);return r[0]=-2*b,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*p,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*A,r[11]=0,r[12]=(n+c)*b,r[13]=(f+o)*p,r[14]=(d+h)*A,r[15]=1,r}},1120:function(v){v.exports=function w(r,n,c,o,f){var h=1/Math.tan(n/2),d=1/(o-f);return r[0]=h/c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(f+o)*d,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*f*o*d,r[15]=0,r}},4422:function(v){v.exports=function w(r,n,c,o){var p,A,m,u,g,C,T,L,x,E,M,i,D,y,B,F,_,z,V,H,U,G,Y,ee,f=o[0],h=o[1],d=o[2],b=Math.sqrt(f*f+h*h+d*d);return Math.abs(b)<1e-6?null:(f*=b=1/b,h*=b,d*=b,p=Math.sin(c),A=Math.cos(c),g=n[1],C=n[2],T=n[3],x=n[5],E=n[6],M=n[7],D=n[9],y=n[10],B=n[11],V=f*h*(m=1-A)-d*p,H=h*h*m+A,U=d*h*m+f*p,G=f*d*m+h*p,Y=h*d*m-f*p,ee=d*d*m+A,r[0]=(u=n[0])*(F=f*f*m+A)+(L=n[4])*(_=h*f*m+d*p)+(i=n[8])*(z=d*f*m-h*p),r[1]=g*F+x*_+D*z,r[2]=C*F+E*_+y*z,r[3]=T*F+M*_+B*z,r[4]=u*V+L*H+i*U,r[5]=g*V+x*H+D*U,r[6]=C*V+E*H+y*U,r[7]=T*V+M*H+B*U,r[8]=u*G+L*Y+i*ee,r[9]=g*G+x*Y+D*ee,r[10]=C*G+E*Y+y*ee,r[11]=T*G+M*Y+B*ee,n!==r&&(r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r)}},6109:function(v){v.exports=function w(r,n,c){var o=Math.sin(c),f=Math.cos(c),h=n[4],d=n[5],b=n[6],p=n[7],A=n[8],m=n[9],u=n[10],g=n[11];return n!==r&&(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[4]=h*f+A*o,r[5]=d*f+m*o,r[6]=b*f+u*o,r[7]=p*f+g*o,r[8]=A*f-h*o,r[9]=m*f-d*o,r[10]=u*f-b*o,r[11]=g*f-p*o,r}},7115:function(v){v.exports=function w(r,n,c){var o=Math.sin(c),f=Math.cos(c),h=n[0],d=n[1],b=n[2],p=n[3],A=n[8],m=n[9],u=n[10],g=n[11];return n!==r&&(r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[0]=h*f-A*o,r[1]=d*f-m*o,r[2]=b*f-u*o,r[3]=p*f-g*o,r[8]=h*o+A*f,r[9]=d*o+m*f,r[10]=b*o+u*f,r[11]=p*o+g*f,r}},5240:function(v){v.exports=function w(r,n,c){var o=Math.sin(c),f=Math.cos(c),h=n[0],d=n[1],b=n[2],p=n[3],A=n[4],m=n[5],u=n[6],g=n[7];return n!==r&&(r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[0]=h*f+A*o,r[1]=d*f+m*o,r[2]=b*f+u*o,r[3]=p*f+g*o,r[4]=A*f-h*o,r[5]=m*f-d*o,r[6]=u*f-b*o,r[7]=g*f-p*o,r}},3668:function(v){v.exports=function w(r,n,c){var o=c[0],f=c[1],h=c[2];return r[0]=n[0]*o,r[1]=n[1]*o,r[2]=n[2]*o,r[3]=n[3]*o,r[4]=n[4]*f,r[5]=n[5]*f,r[6]=n[6]*f,r[7]=n[7]*f,r[8]=n[8]*h,r[9]=n[9]*h,r[10]=n[10]*h,r[11]=n[11]*h,r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],r}},998:function(v){v.exports=function w(r,n,c){var d,b,p,A,m,u,g,C,T,L,x,E,o=c[0],f=c[1],h=c[2];return n===r?(r[12]=n[0]*o+n[4]*f+n[8]*h+n[12],r[13]=n[1]*o+n[5]*f+n[9]*h+n[13],r[14]=n[2]*o+n[6]*f+n[10]*h+n[14],r[15]=n[3]*o+n[7]*f+n[11]*h+n[15]):(b=n[1],p=n[2],A=n[3],m=n[4],u=n[5],g=n[6],C=n[7],T=n[8],L=n[9],x=n[10],E=n[11],r[0]=d=n[0],r[1]=b,r[2]=p,r[3]=A,r[4]=m,r[5]=u,r[6]=g,r[7]=C,r[8]=T,r[9]=L,r[10]=x,r[11]=E,r[12]=d*o+m*f+T*h+n[12],r[13]=b*o+u*f+L*h+n[13],r[14]=p*o+g*f+x*h+n[14],r[15]=A*o+C*f+E*h+n[15]),r}},2142:function(v){v.exports=function w(r,n){if(r===n){var c=n[1],o=n[2],f=n[3],h=n[6],d=n[7],b=n[11];r[1]=n[4],r[2]=n[8],r[3]=n[12],r[4]=c,r[6]=n[9],r[7]=n[13],r[8]=o,r[9]=h,r[11]=n[14],r[12]=f,r[13]=d,r[14]=b}else r[0]=n[0],r[1]=n[4],r[2]=n[8],r[3]=n[12],r[4]=n[1],r[5]=n[5],r[6]=n[9],r[7]=n[13],r[8]=n[2],r[9]=n[6],r[10]=n[10],r[11]=n[14],r[12]=n[3],r[13]=n[7],r[14]=n[11],r[15]=n[15];return r}},4340:function(v,w,r){"use strict";var n=r(957),c=r(7309);function o(p,A){for(var m=[0,0,0,0],u=0;u<4;++u)for(var g=0;g<4;++g)m[g]+=p[4*u+g]*A[u];return m}function f(p,A,m,u,g){for(var C=o(u,o(m,o(A,[p[0],p[1],p[2],1]))),T=0;T<3;++T)C[T]/=C[3];return[.5*g[0]*(1+C[0]),.5*g[1]*(1-C[1])]}function d(p,A){for(var m=[0,0,0],u=0;u<p.length;++u)for(var g=p[u],C=A[u],T=0;T<3;++T)m[T]+=C*g[T];return m}v.exports=function b(p,A,m,u,g,C){if(1===p.length)return[0,p[0].slice()];for(var T=new Array(p.length),L=0;L<p.length;++L)T[L]=f(p[L],m,u,g,C);var x=0,E=1/0;for(L=0;L<T.length;++L){for(var M=0,i=0;i<2;++i)M+=Math.pow(T[L][i]-A[i],2);M<E&&(E=M,x=L)}var D=function h(p,A){if(2===p.length){for(var m=0,u=0,g=0;g<2;++g)m+=Math.pow(A[g]-p[0][g],2),u+=Math.pow(A[g]-p[1][g],2);return(m=Math.sqrt(m))+(u=Math.sqrt(u))<1e-6?[1,0]:[u/(m+u),m/(u+m)]}if(3===p.length){var C=[0,0];return c(p[0],p[1],p[2],A,C),n(p,C)}return[]}(T,A),y=0;for(L=0;L<3;++L){if(D[L]<-.001||D[L]>1.0001)return null;y+=D[L]}return Math.abs(y-1)>.001?null:[x,d(p,D),D]}},2056:function(v,w,r){var n=r(6832),c=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),o=n(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),f=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),h=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),d=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),b=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),p=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),A=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),m=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),u=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),g=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);w.meshShader={vertex:c,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},w.wireShader={vertex:f,fragment:h,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},w.pointShader={vertex:d,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},w.pickShader={vertex:p,fragment:A,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},w.pointPickShader={vertex:m,fragment:A,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},w.contourShader={vertex:u,fragment:g,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,w,r){"use strict";var o=r(5158),f=r(5827),h=r(2944),d=r(8931),b=r(115),p=r(104),A=r(7437),m=r(5050),u=r(9156),g=r(7212),C=r(5306),T=r(2056),L=r(4340),x=T.meshShader,E=T.wireShader,M=T.pointShader,i=T.pickShader,D=T.pointPickShader,y=T.contourShader,B=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function F(te,Q,K,Z,q,fe,re,$,le,se,de,we,Ee,Me,Ne,Ve,Pe,Ce,Ie,Je,Qe,ze,Ke,ut,ot,We,je){this.gl=te,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Q,this.dirty=!0,this.triShader=K,this.lineShader=Z,this.pointShader=q,this.pickShader=fe,this.pointPickShader=re,this.contourShader=$,this.trianglePositions=le,this.triangleColors=de,this.triangleNormals=Ee,this.triangleUVs=we,this.triangleIds=se,this.triangleVAO=Me,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Ne,this.edgeColors=Pe,this.edgeUVs=Ce,this.edgeIds=Ve,this.edgeVAO=Ie,this.edgeCount=0,this.pointPositions=Je,this.pointColors=ze,this.pointUVs=Ke,this.pointSizes=ut,this.pointIds=Qe,this.pointVAO=ot,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=We,this.contourVAO=je,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=B,this._view=B,this._projection=B,this._resolution=[1,1]}var _=F.prototype;function z(te,Q){if(!Q||!Q.length)return 1;for(var K=0;K<Q.length;++K){if(Q.length<2)return 1;if(Q[K][0]===te)return Q[K][1];if(Q[K][0]>te&&K>0){var Z=(Q[K][0]-te)/(Q[K][0]-Q[K-1][0]);return Q[K][1]*(1-Z)+Z*Q[K-1][1]}}return 1}_.isOpaque=function(){return!this.hasAlpha},_.isTransparent=function(){return this.hasAlpha},_.pickSlots=1,_.setPickBase=function(te){this.pickId=te},_.highlight=function(te){if(te&&this.contourEnable){for(var Q=g(this.cells,this.intensity,te.intensity),K=Q.cells,Z=Q.vertexIds,q=Q.vertexWeights,fe=K.length,re=C.mallocFloat32(6*fe),$=0,le=0;le<fe;++le)for(var se=K[le],de=0;de<2;++de){var we=se[0];2===se.length&&(we=se[de]);for(var Ne=q[we],Ve=1-Ne,Pe=this.positions[Z[we][0]],Ce=this.positions[Z[we][1]],Ie=0;Ie<3;++Ie)re[$++]=Ne*Pe[Ie]+Ve*Ce[Ie]}this.contourCount=$/3|0,this.contourPositions.update(re.subarray(0,$)),C.free(re)}else this.contourCount=0},_.update=function(te){te=te||{};var Q=this.gl;this.dirty=!0,"contourEnable"in te&&(this.contourEnable=te.contourEnable),"contourColor"in te&&(this.contourColor=te.contourColor),"lineWidth"in te&&(this.lineWidth=te.lineWidth),"lightPosition"in te&&(this.lightPosition=te.lightPosition),this.hasAlpha=!1,"opacity"in te&&(this.opacity=te.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in te&&(this.opacityscale=te.opacityscale,this.hasAlpha=!0),"ambient"in te&&(this.ambientLight=te.ambient),"diffuse"in te&&(this.diffuseLight=te.diffuse),"specular"in te&&(this.specularLight=te.specular),"roughness"in te&&(this.roughness=te.roughness),"fresnel"in te&&(this.fresnel=te.fresnel),te.texture?(this.texture.dispose(),this.texture=d(Q,te.texture)):te.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Q.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Q.LINEAR,this.texture.setPixels(function V(te,Q){for(var K=u({colormap:te,nshades:256,format:"rgba"}),Z=new Uint8Array(1024),q=0;q<256;++q){for(var fe=K[q],re=0;re<3;++re)Z[4*q+re]=fe[re];Z[4*q+3]=Q?255*z(q/255,Q):255*fe[3]}return m(Z,[256,256,4],[4,0,1])}(te.colormap,this.opacityscale)),this.texture.generateMipmap());var K=te.cells,Z=te.positions;if(Z&&K){var q=[],fe=[],re=[],$=[],le=[],se=[],de=[],we=[],Ee=[],Me=[],Ne=[],Ve=[],Pe=[],Ce=[];this.cells=K,this.positions=Z;var Ie=te.vertexNormals,Je=te.cellNormals,Qe=void 0===te.vertexNormalsEpsilon?1e-6:te.vertexNormalsEpsilon;te.useFacetNormals&&!Je&&(Je=b.faceNormals(K,Z,void 0===te.faceNormalsEpsilon?1e-6:te.faceNormalsEpsilon)),!Je&&!Ie&&(Ie=b.vertexNormals(K,Z,Qe));var Ke=te.vertexColors,ut=te.cellColors,ot=te.meshColor||[1,1,1,1],We=te.vertexUVs,je=te.vertexIntensity,lt=te.cellUVs,vt=te.cellIntensity,pt=1/0,St=-1/0;if(!We&&!lt)if(je)if(te.vertexIntensityBounds)pt=+te.vertexIntensityBounds[0],St=+te.vertexIntensityBounds[1];else for(var Ct=0;Ct<je.length;++Ct){var _t=je[Ct];pt=Math.min(pt,_t),St=Math.max(St,_t)}else if(vt)if(te.cellIntensityBounds)pt=+te.cellIntensityBounds[0],St=+te.cellIntensityBounds[1];else for(Ct=0;Ct<vt.length;++Ct)_t=vt[Ct],pt=Math.min(pt,_t),St=Math.max(St,_t);else for(Ct=0;Ct<Z.length;++Ct)_t=Z[Ct][2],pt=Math.min(pt,_t),St=Math.max(St,_t);this.intensity=je||vt||function H(te){for(var Q=te.length,K=new Array(Q),Z=0;Z<Q;++Z)K[Z]=te[Z][2];return K}(Z),this.pickVertex=!(vt||ut);var nt=te.pointSizes,ke=te.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ct=0;Ct<Z.length;++Ct)for(var Re=Z[Ct],Be=0;Be<3;++Be)isNaN(Re[Be])||!isFinite(Re[Be])||(this.bounds[0][Be]=Math.min(this.bounds[0][Be],Re[Be]),this.bounds[1][Be]=Math.max(this.bounds[1][Be],Re[Be]));var He=0,Ye=0,Ue=0;e:for(Ct=0;Ct<K.length;++Ct){var De=K[Ct];switch(De.length){case 1:for(Re=Z[ge=De[0]],Be=0;Be<3;++Be)if(isNaN(Re[Be])||!isFinite(Re[Be]))continue e;Me.push(Re[0],Re[1],Re[2]),Te=Ke?Ke[ge]:ut?ut[Ct]:ot,this.opacityscale&&je?fe.push(Te[0],Te[1],Te[2],this.opacity*z((je[ge]-pt)/(St-pt),this.opacityscale)):3===Te.length?Ne.push(Te[0],Te[1],Te[2],this.opacity):(Ne.push(Te[0],Te[1],Te[2],Te[3]*this.opacity),Te[3]<1&&(this.hasAlpha=!0)),Ve.push((_e=We?We[ge]:je?[(je[ge]-pt)/(St-pt),0]:lt?lt[Ct]:vt?[(vt[Ct]-pt)/(St-pt),0]:[(Re[2]-pt)/(St-pt),0])[0],_e[1]),Pe.push(nt?nt[ge]:ke),Ce.push(Ct),Ue+=1;break;case 2:for(Be=0;Be<2;++Be){Re=Z[ge=De[Be]];for(var et=0;et<3;++et)if(isNaN(Re[et])||!isFinite(Re[et]))continue e}for(Be=0;Be<2;++Be)se.push((Re=Z[ge=De[Be]])[0],Re[1],Re[2]),Te=Ke?Ke[ge]:ut?ut[Ct]:ot,this.opacityscale&&je?fe.push(Te[0],Te[1],Te[2],this.opacity*z((je[ge]-pt)/(St-pt),this.opacityscale)):3===Te.length?de.push(Te[0],Te[1],Te[2],this.opacity):(de.push(Te[0],Te[1],Te[2],Te[3]*this.opacity),Te[3]<1&&(this.hasAlpha=!0)),we.push((_e=We?We[ge]:je?[(je[ge]-pt)/(St-pt),0]:lt?lt[Ct]:vt?[(vt[Ct]-pt)/(St-pt),0]:[(Re[2]-pt)/(St-pt),0])[0],_e[1]),Ee.push(Ct);Ye+=1;break;case 3:for(Be=0;Be<3;++Be)for(Re=Z[ge=De[Be]],et=0;et<3;++et)if(isNaN(Re[et])||!isFinite(Re[et]))continue e;for(Be=0;Be<3;++Be){var ge,Te,_e,ft;q.push((Re=Z[ge=De[2-Be]])[0],Re[1],Re[2]),(Te=Ke?Ke[ge]:ut?ut[Ct]:ot)?this.opacityscale&&je?fe.push(Te[0],Te[1],Te[2],this.opacity*z((je[ge]-pt)/(St-pt),this.opacityscale)):3===Te.length?fe.push(Te[0],Te[1],Te[2],this.opacity):(fe.push(Te[0],Te[1],Te[2],Te[3]*this.opacity),Te[3]<1&&(this.hasAlpha=!0)):fe.push(.5,.5,.5,1),$.push((_e=We?We[ge]:je?[(je[ge]-pt)/(St-pt),0]:lt?lt[Ct]:vt?[(vt[Ct]-pt)/(St-pt),0]:[(Re[2]-pt)/(St-pt),0])[0],_e[1]),re.push((ft=Ie?Ie[ge]:Je[Ct])[0],ft[1],ft[2]),le.push(Ct)}He+=1}}this.pointCount=Ue,this.edgeCount=Ye,this.triangleCount=He,this.pointPositions.update(Me),this.pointColors.update(Ne),this.pointUVs.update(Ve),this.pointSizes.update(Pe),this.pointIds.update(new Uint32Array(Ce)),this.edgePositions.update(se),this.edgeColors.update(de),this.edgeUVs.update(we),this.edgeIds.update(new Uint32Array(Ee)),this.trianglePositions.update(q),this.triangleColors.update(fe),this.triangleUVs.update($),this.triangleNormals.update(re),this.triangleIds.update(new Uint32Array(le))}},_.drawTransparent=_.draw=function(te){for(var Q=this.gl,K=(te=te||{}).model||B,Z=te.view||B,q=te.projection||B,fe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],re=0;re<3;++re)fe[0][re]=Math.max(fe[0][re],this.clipBounds[0][re]),fe[1][re]=Math.min(fe[1][re],this.clipBounds[1][re]);var $={model:K,view:Z,projection:q,inverseModel:B.slice(),clipBounds:fe,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};$.inverseModel=A($.inverseModel,$.model),Q.disable(Q.CULL_FACE),this.texture.bind(0);var Ee,le=new Array(16);for(p(le,$.view,$.model),p(le,$.projection,le),A(le,le),re=0;re<3;++re)$.eyePosition[re]=le[12+re]/le[15];var se=le[15];for(re=0;re<3;++re)se+=this.lightPosition[re]*le[4*re+3];for(re=0;re<3;++re){for(var de=le[12+re],we=0;we<3;++we)de+=le[4*we+re]*this.lightPosition[we];$.lightPosition[re]=de/se}this.triangleCount>0&&((Ee=this.triShader).bind(),Ee.uniforms=$,this.triangleVAO.bind(),Q.drawArrays(Q.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((Ee=this.lineShader).bind(),Ee.uniforms=$,this.edgeVAO.bind(),Q.lineWidth(this.lineWidth*this.pixelRatio),Q.drawArrays(Q.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((Ee=this.pointShader).bind(),Ee.uniforms=$,this.pointVAO.bind(),Q.drawArrays(Q.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((Ee=this.contourShader).bind(),Ee.uniforms=$,this.contourVAO.bind(),Q.drawArrays(Q.LINES,0,this.contourCount),this.contourVAO.unbind())},_.drawPick=function(te){for(var Q=this.gl,K=(te=te||{}).model||B,Z=te.view||B,q=te.projection||B,fe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],re=0;re<3;++re)fe[0][re]=Math.max(fe[0][re],this.clipBounds[0][re]),fe[1][re]=Math.min(fe[1][re],this.clipBounds[1][re]);this._model=[].slice.call(K),this._view=[].slice.call(Z),this._projection=[].slice.call(q),this._resolution=[Q.drawingBufferWidth,Q.drawingBufferHeight];var le,$={model:K,view:Z,projection:q,clipBounds:fe,pickId:this.pickId/255};(le=this.pickShader).bind(),le.uniforms=$,this.triangleCount>0&&(this.triangleVAO.bind(),Q.drawArrays(Q.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Q.lineWidth(this.lineWidth*this.pixelRatio),Q.drawArrays(Q.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((le=this.pointPickShader).bind(),le.uniforms=$,this.pointVAO.bind(),Q.drawArrays(Q.POINTS,0,this.pointCount),this.pointVAO.unbind())},_.pick=function(te){if(!te||te.id!==this.pickId)return null;for(var Q=te.value[0]+256*te.value[1]+65536*te.value[2],K=this.cells[Q],Z=this.positions,q=new Array(K.length),fe=0;fe<K.length;++fe)q[fe]=Z[K[fe]];var re=te.coord[0],$=te.coord[1];if(!this.pickVertex){var le=this.positions[K[0]],se=this.positions[K[1]],de=this.positions[K[2]];return{_cellCenter:!0,position:[re,$],index:Q,cell:K,cellId:Q,intensity:this.intensity[Q],dataCoordinate:[(le[0]+se[0]+de[0])/3,(le[1]+se[1]+de[1])/3,(le[2]+se[2]+de[2])/3]}}var Ee=L(q,[re*this.pixelRatio,this._resolution[1]-$*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Ee)return null;var Me=Ee[2],Ne=0;for(fe=0;fe<K.length;++fe)Ne+=Me[fe]*this.intensity[K[fe]];return{position:Ee[1],index:K[Ee[0]],cell:K,cellId:Q,intensity:Ne,dataCoordinate:this.positions[K[Ee[0]]]}},_.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},v.exports=function pe(te,Q){if(1===arguments.length&&(te=(Q=te).gl),!(te.getExtension("OES_standard_derivatives")||te.getExtension("MOZ_OES_standard_derivatives")||te.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var Z=function U(te){var Q=o(te,x.vertex,x.fragment);return Q.attributes.position.location=0,Q.attributes.color.location=2,Q.attributes.uv.location=3,Q.attributes.normal.location=4,Q}(te),q=function G(te){var Q=o(te,E.vertex,E.fragment);return Q.attributes.position.location=0,Q.attributes.color.location=2,Q.attributes.uv.location=3,Q}(te),fe=function Y(te){var Q=o(te,M.vertex,M.fragment);return Q.attributes.position.location=0,Q.attributes.color.location=2,Q.attributes.uv.location=3,Q.attributes.pointSize.location=4,Q}(te),re=function ee(te){var Q=o(te,i.vertex,i.fragment);return Q.attributes.position.location=0,Q.attributes.id.location=1,Q}(te),$=function ue(te){var Q=o(te,D.vertex,D.fragment);return Q.attributes.position.location=0,Q.attributes.id.location=1,Q.attributes.pointSize.location=4,Q}(te),le=function ce(te){var Q=o(te,y.vertex,y.fragment);return Q.attributes.position.location=0,Q}(te),se=d(te,m(new Uint8Array([255,255,255,255]),[1,1,4]));se.generateMipmap(),se.minFilter=te.LINEAR_MIPMAP_LINEAR,se.magFilter=te.LINEAR;var de=f(te),we=f(te),Ee=f(te),Me=f(te),Ne=f(te),Ve=h(te,[{buffer:de,type:te.FLOAT,size:3},{buffer:Ne,type:te.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:we,type:te.FLOAT,size:4},{buffer:Ee,type:te.FLOAT,size:2},{buffer:Me,type:te.FLOAT,size:3}]),Pe=f(te),Ce=f(te),Ie=f(te),Je=f(te),Qe=h(te,[{buffer:Pe,type:te.FLOAT,size:3},{buffer:Je,type:te.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ce,type:te.FLOAT,size:4},{buffer:Ie,type:te.FLOAT,size:2}]),ze=f(te),Ke=f(te),ut=f(te),ot=f(te),We=f(te),je=h(te,[{buffer:ze,type:te.FLOAT,size:3},{buffer:We,type:te.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ke,type:te.FLOAT,size:4},{buffer:ut,type:te.FLOAT,size:2},{buffer:ot,type:te.FLOAT,size:1}]),lt=f(te),pt=new F(te,se,Z,q,fe,re,$,le,de,Ne,we,Ee,Me,Ve,Pe,Je,Ce,Ie,Qe,ze,We,Ke,ut,ot,je,lt,h(te,[{buffer:lt,type:te.FLOAT,size:3}]));return pt.update(Q),pt}},4554:function(v,w,r){"use strict";v.exports=function d(b){var p=b.gl;return new f(b,n(p,[0,0,0,1,1,0,1,1]),c(p,o.boxVert,o.lineFrag))};var n=r(5827),c=r(5158),o=r(2709);function f(b,p,A){this.plot=b,this.vbo=p,this.shader=A}var b,p,h=f.prototype;h.bind=function(){var b=this.shader;this.vbo.bind(),this.shader.bind(),b.attributes.coord.pointer(),b.uniforms.screenBox=this.plot.screenBox},h.drawBox=(b=[0,0],p=[0,0],function(A,m,u,g,C){var L=this.shader,x=this.plot.gl;b[0]=A,b[1]=m,p[0]=u,p[1]=g,L.uniforms.lo=b,L.uniforms.hi=p,L.uniforms.color=C,x.drawArrays(x.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(v,w,r){"use strict";v.exports=function p(A){var m=A.gl;return new h(A,n(m),c(m,f.gridVert,f.gridFrag),c(m,f.tickVert,f.gridFrag))};var n=r(5827),c=r(5158),o=r(5070),f=r(2709);function h(A,m,u,g){this.plot=A,this.vbo=m,this.shader=u,this.tickShader=g,this.ticks=[[],[]]}function d(A,m){return A-m}var A,m,u,b=h.prototype;b.draw=(A=[0,0],m=[0,0],u=[0,0],function(){for(var g=this.plot,C=this.vbo,T=this.shader,L=this.ticks,x=g.gl,E=g._tickBounds,M=g.dataBox,i=g.viewBox,D=g.gridLineWidth,y=g.gridLineColor,B=g.gridLineEnable,F=g.pixelRatio,_=0;_<2;++_){var z=E[_],U=.5*(M[_+2]+M[_]),G=M[_+2]-M[_];m[_]=2*(E[_+2]-z)/G,A[_]=2*(z-U)/G}T.bind(),C.bind(),T.attributes.dataCoord.pointer(),T.uniforms.dataShift=A,T.uniforms.dataScale=m;var Y=0;for(_=0;_<2;++_){u[0]=u[1]=0,u[_]=1,T.uniforms.dataAxis=u,T.uniforms.lineWidth=D[_]/(i[_+2]-i[_])*F,T.uniforms.color=y[_];var ee=6*L[_].length;B[_]&&ee&&x.drawArrays(x.TRIANGLES,Y,ee),Y+=ee}}),b.drawTickMarks=function(){var A=[0,0],m=[0,0],u=[1,0],g=[0,1],C=[0,0],T=[0,0];return function(){for(var L=this.plot,x=this.vbo,E=this.tickShader,M=this.ticks,i=L.gl,D=L._tickBounds,y=L.dataBox,B=L.viewBox,F=L.pixelRatio,_=L.screenBox,z=_[2]-_[0],V=_[3]-_[1],H=B[2]-B[0],U=B[3]-B[1],G=0;G<2;++G){var Y=D[G],ce=.5*(y[G+2]+y[G]),pe=y[G+2]-y[G];m[G]=2*(D[G+2]-Y)/pe,A[G]=2*(Y-ce)/pe}m[0]*=H/z,A[0]*=H/z,m[1]*=U/V,A[1]*=U/V,E.bind(),x.bind(),E.attributes.dataCoord.pointer();var te=E.uniforms;te.dataShift=A,te.dataScale=m;var Q=L.tickMarkLength,K=L.tickMarkWidth,Z=L.tickMarkColor,fe=6*M[0].length,re=Math.min(o.ge(M[0],(y[0]-D[0])/(D[2]-D[0]),d),M[0].length),$=Math.min(o.gt(M[0],(y[2]-D[0])/(D[2]-D[0]),d),M[0].length),le=0+6*re,se=6*Math.max(0,$-re),de=Math.min(o.ge(M[1],(y[1]-D[1])/(D[3]-D[1]),d),M[1].length),we=Math.min(o.gt(M[1],(y[3]-D[1])/(D[3]-D[1]),d),M[1].length),Ee=fe+6*de,Me=6*Math.max(0,we-de);C[0]=2*(B[0]-Q[1])/z-1,C[1]=(B[3]+B[1])/V-1,T[0]=Q[1]*F/z,T[1]=K[1]*F/V,Me&&(te.color=Z[1],te.tickScale=T,te.dataAxis=g,te.screenOffset=C,i.drawArrays(i.TRIANGLES,Ee,Me)),C[0]=(B[2]+B[0])/z-1,C[1]=2*(B[1]-Q[0])/V-1,T[0]=K[0]*F/z,T[1]=Q[0]*F/V,se&&(te.color=Z[0],te.tickScale=T,te.dataAxis=u,te.screenOffset=C,i.drawArrays(i.TRIANGLES,le,se)),C[0]=2*(B[2]+Q[3])/z-1,C[1]=(B[3]+B[1])/V-1,T[0]=Q[3]*F/z,T[1]=K[3]*F/V,Me&&(te.color=Z[3],te.tickScale=T,te.dataAxis=g,te.screenOffset=C,i.drawArrays(i.TRIANGLES,Ee,Me)),C[0]=(B[2]+B[0])/z-1,C[1]=2*(B[3]+Q[2])/V-1,T[0]=K[2]*F/z,T[1]=Q[2]*F/V,se&&(te.color=Z[2],te.tickScale=T,te.dataAxis=u,te.screenOffset=C,i.drawArrays(i.TRIANGLES,le,se))}}(),b.update=function(){var A=[1,1,-1,-1,1,-1],m=[1,-1,1,1,-1,-1];return function(u){for(var g=u.ticks,C=u.bounds,T=new Float32Array(18*(g[0].length+g[1].length)),x=0,E=[[],[]],M=0;M<2;++M)for(var i=E[M],D=g[M],y=C[M],B=C[M+2],F=0;F<D.length;++F){var _=(D[F].x-y)/(B-y);i.push(_);for(var z=0;z<6;++z)T[x++]=_,T[x++]=A[z],T[x++]=m[z]}this.ticks=E,this.vbo.update(T)}}(),b.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(v,w,r){"use strict";v.exports=function d(b){var p=b.gl;return new f(b,n(p,[-1,-1,-1,1,1,-1,1,1]),c(p,o.lineVert,o.lineFrag))};var n=r(5827),c=r(5158),o=r(2709);function f(b,p,A){this.plot=b,this.vbo=p,this.shader=A}var b,p,h=f.prototype;h.bind=function(){var b=this.shader;this.vbo.bind(),this.shader.bind(),b.attributes.coord.pointer(),b.uniforms.screenBox=this.plot.screenBox},h.drawLine=(b=[0,0],p=[0,0],function(A,m,u,g,C,T){var L=this.plot,x=this.shader,E=L.gl;b[0]=A,b[1]=m,p[0]=u,p[1]=g,x.uniforms.start=b,x.uniforms.end=p,x.uniforms.width=C*L.pixelRatio,x.uniforms.color=T,E.drawArrays(E.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(v,w,r){"use strict";var n=r(6832),c=n(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);v.exports={lineVert:n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:c,textVert:n(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:c,gridVert:n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:c,boxVert:n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},5613:function(v,w,r){"use strict";v.exports=function p(A){var m=A.gl;return new d(A,n(m),c(m,h.textVert,h.textFrag))};var n=r(5827),c=r(5158),o=r(6946),f=r(5070),h=r(2709);function d(A,m,u){this.plot=A,this.vbo=m,this.shader=u,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var A,m,u,b=d.prototype;b.drawTicks=(A=[0,0],m=[0,0],u=[0,0],function(g){var C=this.plot,T=this.shader,L=this.tickX[g],x=this.tickOffset[g],E=C.gl,M=C.viewBox,i=C.dataBox,D=C.screenBox,y=C.pixelRatio,B=C.tickEnable,F=C.tickPad,_=C.tickColor,z=C.tickAngle,V=C.labelEnable,H=C.labelPad,U=C.labelColor,G=C.labelAngle,Y=this.labelOffset[g],ee=this.labelCount[g],ue=f.lt(L,i[g]),ce=f.le(L,i[g+2]);A[0]=A[1]=0,A[g]=1,m[g]=(M[2+g]+M[g])/(D[2+g]-D[g])-1;var pe=2/D[2+(1^g)]-D[1^g];m[1^g]=pe*M[1^g]-1,B[g]&&(m[1^g]-=pe*y*F[g],ue<ce&&x[ce]>x[ue]&&(T.uniforms.dataAxis=A,T.uniforms.screenOffset=m,T.uniforms.color=_[g],T.uniforms.angle=z[g],E.drawArrays(E.TRIANGLES,x[ue],x[ce]-x[ue]))),V[g]&&ee&&(m[1^g]-=pe*y*H[g],T.uniforms.dataAxis=u,T.uniforms.screenOffset=m,T.uniforms.color=U[g],T.uniforms.angle=G[g],E.drawArrays(E.TRIANGLES,Y,ee)),m[1^g]=pe*M[2+(1^g)]-1,B[g+2]&&(m[1^g]+=pe*y*F[g+2],ue<ce&&x[ce]>x[ue]&&(T.uniforms.dataAxis=A,T.uniforms.screenOffset=m,T.uniforms.color=_[g+2],T.uniforms.angle=z[g+2],E.drawArrays(E.TRIANGLES,x[ue],x[ce]-x[ue]))),V[g+2]&&ee&&(m[1^g]+=pe*y*H[g+2],T.uniforms.dataAxis=u,T.uniforms.screenOffset=m,T.uniforms.color=U[g+2],T.uniforms.angle=G[g+2],E.drawArrays(E.TRIANGLES,Y,ee))}),b.drawTitle=function(){var A=[0,0],m=[0,0];return function(){var u=this.plot,g=this.shader,C=u.gl,T=u.screenBox,L=u.titleCenter,x=u.titleAngle,E=u.titleColor,M=u.pixelRatio;if(this.titleCount){for(var i=0;i<2;++i)m[i]=2*(L[i]*M-T[i])/(T[2+i]-T[i])-1;g.bind(),g.uniforms.dataAxis=A,g.uniforms.screenOffset=m,g.uniforms.angle=x,g.uniforms.color=E,C.drawArrays(C.TRIANGLES,this.titleOffset,this.titleCount)}}}(),b.bind=function(){var A=[0,0],m=[0,0],u=[0,0];return function(){var g=this.plot,C=this.shader,T=g._tickBounds,L=g.dataBox,x=g.screenBox,E=g.viewBox;C.bind();for(var M=0;M<2;++M){var i=T[M],B=.5*(L[M+2]+L[M]),F=L[M+2]-L[M],V=E[M+2]-E[M],G=x[M+2]-x[M];m[M]=2*(T[M+2]-i)/F*V/G,A[M]=2*(i-B)/F*V/G}u[1]=2*g.pixelRatio/(x[3]-x[1]),u[0]=u[1]*(x[3]-x[1])/(x[2]-x[0]),C.uniforms.dataScale=m,C.uniforms.dataShift=A,C.uniforms.textScale=u,this.vbo.bind(),C.attributes.textCoordinate.pointer()}}(),b.update=function(A){var C,T,x,E,M,m=[],u=A.ticks,g=A.bounds;for(M=0;M<2;++M){var i=[Math.floor(m.length/3)],D=[-1/0],y=u[M];for(C=0;C<y.length;++C){var B=y[C],F=B.x,z=B.font||"sans-serif";E=B.fontSize||12;for(var V=1/(g[M+2]-g[M]),H=g[M],U=B.text.split("\n"),G=0;G<U.length;G++)for(x=o(z,U[G]).data,T=0;T<x.length;T+=2)m.push(x[T]*E,-x[T+1]*E-G*E*1.2,(F-H)*V);i.push(Math.floor(m.length/3)),D.push(F)}this.tickOffset[M]=i,this.tickX[M]=D}for(M=0;M<2;++M){for(this.labelOffset[M]=Math.floor(m.length/3),x=o(A.labelFont[M],A.labels[M],{textAlign:"center"}).data,E=A.labelSize[M],C=0;C<x.length;C+=2)m.push(x[C]*E,-x[C+1]*E,0);this.labelCount[M]=Math.floor(m.length/3)-this.labelOffset[M]}for(this.titleOffset=Math.floor(m.length/3),x=o(A.titleFont,A.title).data,E=A.titleSize,C=0;C<x.length;C+=2)m.push(x[C]*E,-x[C+1]*E,0);this.titleCount=Math.floor(m.length/3)-this.titleOffset,this.vbo.update(m)},b.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(v,w,r){"use strict";v.exports=function u(g){var C=g.gl,L=new d(C,n(C,[C.drawingBufferWidth,C.drawingBufferHeight]));return L.grid=c(L),L.text=o(L),L.line=f(L),L.box=h(L),L.update(g),L};var n=r(2611),c=r(3016),o=r(5613),f=r(1154),h=r(4554);function d(g,C){this.gl=g,this.pickBuffer=C,this.screenBox=[0,0,g.drawingBufferWidth,g.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var b=d.prototype;function A(g){for(var C=g.slice(),T=0;T<C.length;++T)C[T]=C[T].slice();return C}function m(g,C){return g.x-C.x}b.setDirty=function(){this.dirty=this.pickDirty=!0},b.setOverlayDirty=function(){this.dirty=!0},b.nextDepthValue=function(){return this._depthCounter++/65536},b.draw=function(){var C=this.gl,T=this.screenBox,L=this.viewBox,x=this.dataBox,E=this.pixelRatio,M=this.grid,i=this.line,D=this.text,y=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,C.bindFramebuffer(C.FRAMEBUFFER,null),C.enable(C.SCISSOR_TEST),C.disable(C.DEPTH_TEST),C.depthFunc(C.LESS),C.depthMask(!1),C.enable(C.BLEND),C.blendEquation(C.FUNC_ADD,C.FUNC_ADD),C.blendFunc(C.ONE,C.ONE_MINUS_SRC_ALPHA),this.borderColor){C.scissor(T[0],T[1],T[2]-T[0],T[3]-T[1]);var B=this.borderColor;C.clearColor(B[0]*B[3],B[1]*B[3],B[2]*B[3],B[3]),C.clear(C.COLOR_BUFFER_BIT|C.DEPTH_BUFFER_BIT)}C.scissor(L[0],L[1],L[2]-L[0],L[3]-L[1]),C.viewport(L[0],L[1],L[2]-L[0],L[3]-L[1]);var F=this.backgroundColor;C.clearColor(F[0]*F[3],F[1]*F[3],F[2]*F[3],F[3]),C.clear(C.COLOR_BUFFER_BIT),M.draw();var _=this.zeroLineEnable,z=this.zeroLineColor,V=this.zeroLineWidth;if(_[0]||_[1]){i.bind();for(var H=0;H<2;++H)if(_[H]&&x[H]<=0&&x[H+2]>=0){var U=T[H]-x[H]*(T[H+2]-T[H])/(x[H+2]-x[H]);0===H?i.drawLine(U,T[1],U,T[3],V[H],z[H]):i.drawLine(T[0],U,T[2],U,V[H],z[H])}}for(H=0;H<y.length;++H)y[H].draw();C.viewport(T[0],T[1],T[2]-T[0],T[3]-T[1]),C.scissor(T[0],T[1],T[2]-T[0],T[3]-T[1]),this.grid.drawTickMarks(),i.bind();var G=this.borderLineEnable,Y=this.borderLineWidth,ee=this.borderLineColor;for(G[1]&&i.drawLine(L[0],L[1]-.5*Y[1]*E,L[0],L[3]+.5*Y[3]*E,Y[1],ee[1]),G[0]&&i.drawLine(L[0]-.5*Y[0]*E,L[1],L[2]+.5*Y[2]*E,L[1],Y[0],ee[0]),G[3]&&i.drawLine(L[2],L[1]-.5*Y[1]*E,L[2],L[3]+.5*Y[3]*E,Y[3],ee[3]),G[2]&&i.drawLine(L[0]-.5*Y[0]*E,L[3],L[2]+.5*Y[2]*E,L[3],Y[2],ee[2]),D.bind(),H=0;H<2;++H)D.drawTicks(H);this.titleEnable&&D.drawTitle();var ue=this.overlays;for(H=0;H<ue.length;++H)ue[H].draw();C.disable(C.SCISSOR_TEST),C.disable(C.BLEND),C.depthMask(!0)}},b.drawPick=function(){if(!this.static){var g=this.pickBuffer;this._pickTimeout=null,g.begin();for(var T=1,L=this.objects,x=0;x<L.length;++x)T=L[x].drawPick(T);g.end()}},b.pick=function(g,C){if(!this.static){var T=this.pixelRatio,L=this.pickPixelRatio,x=this.viewBox,E=0|Math.round((g-x[0]/T)*L),M=0|Math.round((C-x[1]/T)*L),i=this.pickBuffer.query(E,M,this.pickRadius);if(!i)return null;for(var D=i.id+(i.value[0]<<8)+(i.value[1]<<16)+(i.value[2]<<24),y=this.objects,B=0;B<y.length;++B){var F=y[B].pick(E,M,D);if(F)return F}return null}},b.setScreenBox=function(g){var C=this.screenBox,T=this.pixelRatio;C[0]=0|Math.round(g[0]*T),C[1]=0|Math.round(g[1]*T),C[2]=0|Math.round(g[2]*T),C[3]=0|Math.round(g[3]*T),this.setDirty()},b.setDataBox=function(g){var C=this.dataBox;(C[0]!==g[0]||C[1]!==g[1]||C[2]!==g[2]||C[3]!==g[3])&&(C[0]=g[0],C[1]=g[1],C[2]=g[2],C[3]=g[3],this.setDirty())},b.setViewBox=function(g){var C=this.pixelRatio,T=this.viewBox;T[0]=0|Math.round(g[0]*C),T[1]=0|Math.round(g[1]*C),T[2]=0|Math.round(g[2]*C),T[3]=0|Math.round(g[3]*C);var L=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((g[2]-g[0])*L),0|Math.round((g[3]-g[1])*L)],this.setDirty()},b.update=function(g){var C=this.gl;this.pixelRatio=(g=g||{}).pixelRatio||1;var T=this.pixelRatio;this.pickPixelRatio=Math.max(T,1),this.setScreenBox(g.screenBox||[0,0,C.drawingBufferWidth/T,C.drawingBufferHeight/T]),this.setViewBox(g.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/T,.125*(this.screenBox[3]-this.screenBox[1])/T,.875*(this.screenBox[2]-this.screenBox[0])/T,.875*(this.screenBox[3]-this.screenBox[1])/T]);var x=this.viewBox,E=(x[2]-x[0])/(x[3]-x[1]);this.setDataBox(g.dataBox||[-10,-10/E,10,10/E]),this.borderColor=!1!==g.borderColor&&(g.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(g.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(g.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(g.gridLineWidth||[1,1]).slice(),this.gridLineColor=A(g.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(g.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(g.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=A(g.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(g.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(g.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=A(g.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(g.titleCenter||[.5*(x[0]+x[2])/T,(x[3]+120)/T]).slice(),this.titleEnable=!("titleEnable"in g)||!!g.titleEnable,this.titleAngle=g.titleAngle||0,this.titleColor=(g.titleColor||[0,0,0,1]).slice(),this.labelPad=(g.labelPad||[15,15,15,15]).slice(),this.labelAngle=(g.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(g.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=A(g.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(g.tickPad||[15,15,15,15]).slice(),this.tickAngle=(g.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(g.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=A(g.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(g.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(g.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=A(g.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var M=g.ticks||[[],[]],i=this._tickBounds;i[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var D=0;D<2;++D){var y=M[D].slice(0);0!==y.length&&(y.sort(m),i[D]=Math.min(i[D],y[0].x),i[D+2]=Math.max(i[D+2],y[y.length-1].x))}this.grid.update({bounds:i,ticks:M}),this.text.update({bounds:i,ticks:M,labels:g.labels||["x","y"],labelSize:g.labelSize||[12,12],labelFont:g.labelFont||["sans-serif","sans-serif"],title:g.title||"",titleSize:g.titleSize||18,titleFont:g.titleFont||"sans-serif"}),this.static=!!g.static,this.setDirty()},b.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var g=this.objects.length-1;g>=0;--g)this.objects[g].dispose();for(this.objects.length=0,g=this.overlays.length-1;g>=0;--g)this.overlays[g].dispose();this.overlays.length=0,this.gl=null},b.addObject=function(g){this.objects.indexOf(g)<0&&(this.objects.push(g),this.setDirty())},b.removeObject=function(g){for(var C=this.objects,T=0;T<C.length;++T)if(C[T]===g){C.splice(T,1),this.setDirty();break}},b.addOverlay=function(g){this.overlays.indexOf(g)<0&&(this.overlays.push(g),this.setOverlayDirty())},b.removeOverlay=function(g){for(var C=this.overlays,T=0;T<C.length;++T)if(C[T]===g){C.splice(T,1),this.setOverlayDirty();break}}},4296:function(v,w,r){"use strict";v.exports=function b(p,A){p=p||document.body;var m=[.01,1/0];"distanceLimits"in(A=A||{})&&(m[0]=A.distanceLimits[0],m[1]=A.distanceLimits[1]),"zoomMin"in A&&(m[0]=A.zoomMin),"zoomMax"in A&&(m[1]=A.zoomMax);var u=c({center:A.center||[0,0,0],up:A.up||[0,1,0],eye:A.eye||[0,0,10],mode:A.mode||"orbit",distanceLimits:m}),g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C=0,T=p.clientWidth,L=p.clientHeight,x={keyBindingMode:"rotate",enableWheel:!0,view:u,element:p,delay:A.delay||16,rotateSpeed:A.rotateSpeed||1,zoomSpeed:A.zoomSpeed||1,translateSpeed:A.translateSpeed||1,flipX:!!A.flipX,flipY:!!A.flipY,modes:u.modes,_ortho:A._ortho||A.projection&&"orthographic"===A.projection.type||!1,tick:function(){var E=n(),M=this.delay,i=E-2*M;u.idle(E-M),u.recalcMatrix(i),u.flush(E-(100+2*M));for(var D=!0,y=u.computedMatrix,B=0;B<16;++B)D=D&&g[B]===y[B],g[B]=y[B];var F=p.clientWidth===T&&p.clientHeight===L;return T=p.clientWidth,L=p.clientHeight,D?!F:(C=Math.exp(u.computedRadius[0]),!0)},lookAt:function(E,M,i){u.lookAt(u.lastT(),E,M,i)},rotate:function(E,M,i){u.rotate(u.lastT(),E,M,i)},pan:function(E,M,i){u.pan(u.lastT(),E,M,i)},translate:function(E,M,i){u.translate(u.lastT(),E,M,i)}};return Object.defineProperties(x,{matrix:{get:function(){return u.computedMatrix},set:function(E){return u.setMatrix(u.lastT(),E),u.computedMatrix},enumerable:!0},mode:{get:function(){return u.getMode()},set:function(E){var M=u.computedUp.slice(),i=u.computedEye.slice(),D=u.computedCenter.slice();if(u.setMode(E),"turntable"===E){var y=n();u._active.lookAt(y,i,D,M),u._active.lookAt(y+500,i,D,[0,0,1]),u._active.flush(y)}return u.getMode()},enumerable:!0},center:{get:function(){return u.computedCenter},set:function(E){return u.lookAt(u.lastT(),null,E),u.computedCenter},enumerable:!0},eye:{get:function(){return u.computedEye},set:function(E){return u.lookAt(u.lastT(),E),u.computedEye},enumerable:!0},up:{get:function(){return u.computedUp},set:function(E){return u.lookAt(u.lastT(),null,null,E),u.computedUp},enumerable:!0},distance:{get:function(){return C},set:function(E){return u.setDistance(u.lastT(),E),E},enumerable:!0},distanceLimits:{get:function(){return u.getDistanceLimits(m)},set:function(E){return u.setDistanceLimits(E),E},enumerable:!0}}),p.addEventListener("contextmenu",function(E){return E.preventDefault(),!1}),x._lastX=-1,x._lastY=-1,x._lastMods={shift:!1,control:!1,alt:!1,meta:!1},x.enableMouseListeners=function(){function E(M,i,D,y){var B=x.keyBindingMode;if(!1!==B){var F="rotate"===B,_="pan"===B,z="zoom"===B,V=!!y.control,H=!!y.alt,U=!!y.shift,G=!!(1&M),Y=!!(2&M),ee=!!(4&M),ue=1/p.clientHeight,ce=ue*(i-x._lastX),pe=ue*(D-x._lastY),te=x.flipX?1:-1,Q=x.flipY?1:-1,K=Math.PI*x.rotateSpeed,Z=n();if(-1!==x._lastX&&-1!==x._lastY&&((F&&G&&!V&&!H&&!U||G&&!V&&!H&&U)&&u.rotate(Z,te*K*ce,-Q*K*pe,0),(_&&G&&!V&&!H&&!U||Y||G&&V&&!H&&!U)&&u.pan(Z,-x.translateSpeed*ce*C,x.translateSpeed*pe*C,0),z&&G&&!V&&!H&&!U||ee||G&&!V&&H&&!U)){var q=-x.zoomSpeed*pe/window.innerHeight*(Z-u.lastT())*100;u.pan(Z,0,0,C*(Math.exp(q)-1))}return x._lastX=i,x._lastY=D,x._lastMods=y,!0}}x.mouseListener=o(p,E),p.addEventListener("touchstart",function(M){var i=h(M.changedTouches[0],p);E(0,i[0],i[1],x._lastMods),E(1,i[0],i[1],x._lastMods)},!!d&&{passive:!0}),p.addEventListener("touchmove",function(M){var i=h(M.changedTouches[0],p);E(1,i[0],i[1],x._lastMods),M.preventDefault()},!!d&&{passive:!1}),p.addEventListener("touchend",function(M){E(0,x._lastX,x._lastY,x._lastMods)},!!d&&{passive:!0}),x.wheelListener=f(p,function(M,i){if(!1!==x.keyBindingMode&&x.enableWheel){var D=x.flipX?1:-1,y=x.flipY?1:-1,B=n();if(Math.abs(M)>Math.abs(i))u.rotate(B,0,0,-M*D*Math.PI*x.rotateSpeed/window.innerWidth);else if(!x._ortho){var F=-x.zoomSpeed*y*i/window.innerHeight*(B-u.lastT())/20;u.pan(B,0,0,C*(Math.exp(F)-1))}}},!0)},x.enableMouseListeners(),x};var n=r(8161),c=r(1152),o=r(6145),f=r(6475),h=r(2565),d=r(5233)},8245:function(v,w,r){var n=r(6832),c=r(5158),o=n(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),f=n(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);v.exports=function(h){return c(h,o,f,null,[{name:"position",type:"vec2"}])}},1059:function(v,w,r){"use strict";var n=r(4296),c=r(7453),o=r(2771),f=r(6496),h=r(2611),d=r(4234),b=r(8126),p=r(6145),A=r(1120),m=r(5268),u=r(8245),g=r(2321)({tablet:!0,featureDetect:!0});function C(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function L(i){var D=Math.round(Math.log(Math.abs(i))/Math.log(10));if(D<0){var y=Math.round(Math.pow(10,-D));return Math.ceil(i*y)/y}return D>0?(y=Math.round(Math.pow(10,D)),Math.ceil(i/y)*y):Math.ceil(i)}function x(i){return"boolean"!=typeof i||i}v.exports={createScene:function E(i){(i=i||{}).camera=i.camera||{};var D=i.canvas;D||(D=document.createElement("canvas"),i.container?i.container.appendChild(D):document.body.appendChild(D));var B=i.gl;if(B||(i.glOptions&&(g=!!i.glOptions.preserveDrawingBuffer),B=function T(i,D){var y=null;try{(y=i.getContext("webgl",D))||(y=i.getContext("experimental-webgl",D))}catch{return null}return y}(D,i.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:g})),!B)throw new Error("webgl not supported");var F=i.bounds||[[-10,-10,-10],[10,10,10]],_=new C,z=d(B,B.drawingBufferWidth,B.drawingBufferHeight,{preferFloat:!g}),V=u(B),H=i.cameraObject&&!0===i.cameraObject._ortho||i.camera.projection&&"orthographic"===i.camera.projection.type||!1,U={eye:i.camera.eye||[2,0,0],center:i.camera.center||[0,0,0],up:i.camera.up||[0,1,0],zoomMin:i.camera.zoomMax||.1,zoomMax:i.camera.zoomMin||100,mode:i.camera.mode||"turntable",_ortho:H},G=i.axes||{},Y=c(B,G);Y.enable=!G.disable;var ue=f(B,i.spikes||{}),ce=[],pe=[],te=[],Q=[],K=!0,re=!0,fe={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},$=(re=!0,[B.drawingBufferWidth,B.drawingBufferHeight]),le=i.cameraObject||n(D,U),se={gl:B,contextLost:!1,pixelRatio:i.pixelRatio||1,canvas:D,selection:_,camera:le,axes:Y,axesPixels:null,spikes:ue,bounds:F,objects:ce,shape:$,aspect:i.aspectRatio||[1,1,1],pickRadius:i.pickRadius||10,zNear:i.zNear||.01,zFar:i.zFar||1e3,fovy:i.fovy||Math.PI/4,clearColor:i.clearColor||[0,0,0,0],autoResize:x(i.autoResize),autoBounds:x(i.autoBounds),autoScale:!!i.autoScale,autoCenter:x(i.autoCenter),clipToBounds:x(i.clipToBounds),snapToData:!!i.snapToData,onselect:i.onselect||null,onrender:i.onrender||null,onclick:i.onclick||null,cameraParams:fe,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Je){this.aspect[0]=Je.x,this.aspect[1]=Je.y,this.aspect[2]=Je.z,re=!0},setBounds:function(Je,Qe){this.bounds[0][Je]=Qe.min,this.bounds[1][Je]=Qe.max},setClearColor:function(Je){this.clearColor=Je},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},de=[B.drawingBufferWidth/se.pixelRatio|0,B.drawingBufferHeight/se.pixelRatio|0];function we(){if(!se._stopped&&se.autoResize){var Je=D.parentNode,Qe=1,ze=1;Je&&Je!==document.body?(Qe=Je.clientWidth,ze=Je.clientHeight):(Qe=window.innerWidth,ze=window.innerHeight);var Ke=0|Math.ceil(Qe*se.pixelRatio),ut=0|Math.ceil(ze*se.pixelRatio);if(Ke!==D.width||ut!==D.height){D.width=Ke,D.height=ut;var ot=D.style;ot.position=ot.position||"absolute",ot.left="0px",ot.top="0px",ot.width=Qe+"px",ot.height=ze+"px",K=!0}}}function Ee(){for(var Je=ce.length,Qe=Q.length,ze=0;ze<Qe;++ze)te[ze]=0;e:for(ze=0;ze<Je;++ze){var Ke=ce[ze],ut=Ke.pickSlots;if(ut){for(var ot=0;ot<Qe;++ot)if(te[ot]+ut<255){pe[ze]=ot,Ke.setPickBase(te[ot]+1),te[ot]+=ut;continue e}var We=h(B,$);pe[ze]=Qe,Q.push(We),te.push(ut),Ke.setPickBase(1),Qe+=1}else pe[ze]=-1}for(;Qe>0&&0===te[Qe-1];)te.pop(),Q.pop().dispose()}function Me(){if(se.contextLost)return!0;B.isContextLost()&&(se.contextLost=!0,se.mouseListener.enabled=!1,se.selection.object=null,se.oncontextloss&&se.oncontextloss())}se.autoResize&&we(),window.addEventListener("resize",we),se.update=function(Je){se._stopped||(Je=Je||{},K=!0,re=!0)},se.add=function(Je){se._stopped||(Je.axes=Y,ce.push(Je),pe.push(-1),K=!0,re=!0,Ee())},se.remove=function(Je){if(!se._stopped){var Qe=ce.indexOf(Je);Qe<0||(ce.splice(Qe,1),pe.pop(),K=!0,re=!0,Ee())}},se.dispose=function(){if(!se._stopped&&(se._stopped=!0,window.removeEventListener("resize",we),D.removeEventListener("webglcontextlost",Me),se.mouseListener.enabled=!1,!se.contextLost)){Y.dispose(),ue.dispose();for(var Je=0;Je<ce.length;++Je)ce[Je].dispose();for(z.dispose(),Je=0;Je<Q.length;++Je)Q[Je].dispose();V.dispose(),B=null,Y=null,ue=null,ce=[]}},se._mouseRotating=!1,se._prevButtons=0,se.enableMouseListeners=function(){se.mouseListener=p(D,function(Je,Qe,ze){if(!se._stopped){var Ke=Q.length,ut=ce.length,ot=_.object;_.distance=1/0,_.mouse[0]=Qe,_.mouse[1]=ze,_.object=null,_.screen=null,_.dataCoordinate=_.dataPosition=null;var We=!1;if(Je&&se._prevButtons)se._mouseRotating=!0;else{se._mouseRotating&&(re=!0),se._mouseRotating=!1;for(var je=0;je<Ke;++je){var lt=Q[je].query(Qe,de[1]-ze-1,se.pickRadius);if(lt){if(lt.distance>_.distance)continue;for(var vt=0;vt<ut;++vt){var pt=ce[vt];if(pe[vt]===je){var St=pt.pick(lt);St&&(_.buttons=Je,_.screen=lt.coord,_.distance=lt.distance,_.object=pt,_.index=St.distance,_.dataPosition=St.position,_.dataCoordinate=St.dataCoordinate,_.data=St,We=!0)}}}}}ot&&ot!==_.object&&(ot.highlight&&ot.highlight(null),K=!0),_.object&&(_.object.highlight&&_.object.highlight(_.data),K=!0),(We=We||_.object!==ot)&&se.onselect&&se.onselect(_),1&Je&&!(1&se._prevButtons)&&se.onclick&&se.onclick(_),se._prevButtons=Je}})},D.addEventListener("webglcontextlost",Me);var Ve=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Pe=[Ve[0].slice(),Ve[1].slice()];function Ce(){if(!Me()){we();var Je=se.camera.tick();fe.view=se.camera.matrix,K=K||Je,re=re||Je,Y.pixelRatio=se.pixelRatio,ue.pixelRatio=se.pixelRatio;var Qe=ce.length,ze=Ve[0],Ke=Ve[1];ze[0]=ze[1]=ze[2]=1/0,Ke[0]=Ke[1]=Ke[2]=-1/0;for(var ut=0;ut<Qe;++ut){(ot=ce[ut]).pixelRatio=se.pixelRatio,ot.axes=se.axes,K=K||!!ot.dirty,re=re||!!ot.dirty;var We=ot.bounds;if(We)for(var je=We[0],lt=We[1],vt=0;vt<3;++vt)ze[vt]=Math.min(ze[vt],je[vt]),Ke[vt]=Math.max(Ke[vt],lt[vt])}var pt=se.bounds;if(se.autoBounds)for(vt=0;vt<3;++vt){if(Ke[vt]<ze[vt])ze[vt]=-1,Ke[vt]=1;else{ze[vt]===Ke[vt]&&(ze[vt]-=1,Ke[vt]+=1);var St=.05*(Ke[vt]-ze[vt]);ze[vt]=ze[vt]-St,Ke[vt]=Ke[vt]+St}pt[0][vt]=ze[vt],pt[1][vt]=Ke[vt]}var Ct=!1;for(vt=0;vt<3;++vt)Ct=Ct||Pe[0][vt]!==pt[0][vt]||Pe[1][vt]!==pt[1][vt],Pe[0][vt]=pt[0][vt],Pe[1][vt]=pt[1][vt];if(re=re||Ct,K=K||Ct){if(Ct){var _t=[0,0,0];for(ut=0;ut<3;++ut)_t[ut]=L((pt[1][ut]-pt[0][ut])/10);Y.update(Y.autoTicks?{bounds:pt,tickSpacing:_t}:{bounds:pt})}var nt=B.drawingBufferWidth,ke=B.drawingBufferHeight;for($[0]=nt,$[1]=ke,de[0]=0|Math.max(nt/se.pixelRatio,1),de[1]=0|Math.max(ke/se.pixelRatio,1),function M(i,D){var y=i.bounds,B=i.cameraParams,F=B.projection,_=B.model,H=i.zNear,U=i.zFar,G=i.fovy,Y=i.gl.drawingBufferWidth/i.gl.drawingBufferHeight;D?(m(F,-Y,Y,-1,1,H,U),B._ortho=!0):(A(F,G,Y,H,U),B._ortho=!1);for(var ee=0;ee<16;++ee)_[ee]=0;_[15]=1;var ue=0;for(ee=0;ee<3;++ee)ue=Math.max(ue,y[1][ee]-y[0][ee]);for(ee=0;ee<3;++ee)_[5*ee]=i.autoScale?i.aspect[ee]/(y[1][ee]-y[0][ee]):1/ue,i.autoCenter&&(_[12+ee]=.5*-_[5*ee]*(y[0][ee]+y[1][ee]))}(se,H),ut=0;ut<Qe;++ut)(ot=ce[ut]).axesBounds=pt,se.clipToBounds&&(ot.clipBounds=pt);_.object&&(ue.position=se.snapToData?_.dataCoordinate:_.dataPosition,ue.bounds=pt),re&&(re=!1,function Ne(){if(!Me()){B.colorMask(!0,!0,!0,!0),B.depthMask(!0),B.disable(B.BLEND),B.enable(B.DEPTH_TEST),B.depthFunc(B.LEQUAL);for(var Je=ce.length,Qe=Q.length,ze=0;ze<Qe;++ze){var Ke=Q[ze];Ke.shape=de,Ke.begin();for(var ut=0;ut<Je;++ut)if(pe[ut]===ze){var ot=ce[ut];ot.drawPick&&(ot.pixelRatio=1,ot.drawPick(fe))}Ke.end()}}}()),se.axesPixels=o(se.axes,fe,nt,ke),se.onrender&&se.onrender(),B.bindFramebuffer(B.FRAMEBUFFER,null),B.viewport(0,0,nt,ke),se.clearRGBA(),B.depthMask(!0),B.colorMask(!0,!0,!0,!0),B.enable(B.DEPTH_TEST),B.depthFunc(B.LEQUAL),B.disable(B.BLEND),B.disable(B.CULL_FACE);var Re=!1;for(Y.enable&&(Re=Re||Y.isTransparent(),Y.draw(fe)),ue.axes=Y,_.object&&ue.draw(fe),B.disable(B.CULL_FACE),ut=0;ut<Qe;++ut)(ot=ce[ut]).axes=Y,ot.pixelRatio=se.pixelRatio,ot.isOpaque&&ot.isOpaque()&&ot.draw(fe),ot.isTransparent&&ot.isTransparent()&&(Re=!0);if(Re){for(z.shape=$,z.bind(),B.clear(B.DEPTH_BUFFER_BIT),B.colorMask(!1,!1,!1,!1),B.depthMask(!0),B.depthFunc(B.LESS),Y.enable&&Y.isTransparent()&&Y.drawTransparent(fe),ut=0;ut<Qe;++ut)(ot=ce[ut]).isOpaque&&ot.isOpaque()&&ot.draw(fe);for(B.enable(B.BLEND),B.blendEquation(B.FUNC_ADD),B.blendFunc(B.ONE,B.ONE_MINUS_SRC_ALPHA),B.colorMask(!0,!0,!0,!0),B.depthMask(!1),B.clearColor(0,0,0,0),B.clear(B.COLOR_BUFFER_BIT),Y.isTransparent()&&Y.drawTransparent(fe),ut=0;ut<Qe;++ut){var ot;(ot=ce[ut]).isTransparent&&ot.isTransparent()&&ot.drawTransparent(fe)}B.bindFramebuffer(B.FRAMEBUFFER,null),B.blendFunc(B.ONE,B.ONE_MINUS_SRC_ALPHA),B.disable(B.DEPTH_TEST),V.bind(),z.color[0].bind(0),V.uniforms.accumBuffer=0,b(B),B.disable(B.BLEND)}for(K=!1,ut=0;ut<Qe;++ut)ce[ut].dirty=!1}}}return se.enableMouseListeners(),function Ie(){se._stopped||se.contextLost||(Ce(),requestAnimationFrame(Ie))}(),se.redraw=function(){se._stopped||(K=!0,Ce())},se},createCamera:n}},8023:function(v,w,r){var n=r(6832);w.pointVertex=n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),w.pointFragment=n(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),w.pickVertex=n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),w.pickFragment=n(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},8271:function(v,w,r){"use strict";var n=r(5158),c=r(5827),o=r(5306),f=r(8023);function h(A,m,u,g,C){this.plot=A,this.offsetBuffer=m,this.pickBuffer=u,this.shader=g,this.pickShader=C,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}v.exports=function p(A,m){var u=A.gl,x=new h(A,c(u),c(u),n(u,f.pointVertex,f.pointFragment),n(u,f.pickVertex,f.pickFragment));return x.update(m),A.addObject(x),x};var A,m,d=h.prototype;d.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},d.update=function(A){var m;function u(M,i){return M in A?A[M]:i}A=A||{},this.sizeMin=u("sizeMin",.5),this.sizeMax=u("sizeMax",20),this.color=u("color",[1,0,0,1]).slice(),this.areaRatio=u("areaRatio",1),this.borderColor=u("borderColor",[0,0,0,1]).slice(),this.blend=u("blend",!1);var g=A.positions.length>>>1,C=A.positions instanceof Float32Array,T=A.idToIndex instanceof Int32Array&&A.idToIndex.length>=g,L=A.positions,x=C?L:o.mallocFloat32(L.length),E=T?A.idToIndex:o.mallocInt32(g);if(C||x.set(L),!T)for(x.set(L),m=0;m<g;m++)E[m]=m;this.points=L,this.offsetBuffer.update(x),this.pickBuffer.update(E),C||o.free(x),T||o.free(E),this.pointCount=g,this.pickOffset=0},d.unifiedDraw=(A=[1,0,0,0,1,0,0,0,1],m=[0,0,0,0],function(u){var g=void 0!==u,C=g?this.pickShader:this.shader,T=this.plot.gl,L=this.plot.dataBox;if(0===this.pointCount)return u;var x=L[2]-L[0],E=L[3]-L[1],M=function b(A,m){var C,u=0,g=A.length>>>1;for(C=0;C<g;C++){var T=A[2*C],L=A[2*C+1];T>=m[0]&&T<=m[2]&&L>=m[1]&&L<=m[3]&&u++}return u}(this.points,L),i=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(M,.33333)));A[0]=2/x,A[4]=2/E,A[6]=-2*L[0]/x-1,A[7]=-2*L[1]/E-1,this.offsetBuffer.bind(),C.bind(),C.attributes.position.pointer(),C.uniforms.matrix=A,C.uniforms.color=this.color,C.uniforms.borderColor=this.borderColor,C.uniforms.pointCloud=i<5,C.uniforms.pointSize=i,C.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),g&&(m[0]=255&u,m[1]=u>>8&255,m[2]=u>>16&255,m[3]=u>>24&255,this.pickBuffer.bind(),C.attributes.pickId.pointer(T.UNSIGNED_BYTE),C.uniforms.pickOffset=m,this.pickOffset=u);var D=T.getParameter(T.BLEND),y=T.getParameter(T.DITHER);return D&&!this.blend&&T.disable(T.BLEND),y&&T.disable(T.DITHER),T.drawArrays(T.POINTS,0,this.pointCount),D&&!this.blend&&T.enable(T.BLEND),y&&T.enable(T.DITHER),u+this.pointCount}),d.draw=d.unifiedDraw,d.drawPick=d.unifiedDraw,d.pick=function(A,m,u){var g=this.pickOffset;if(u<g||u>=g+this.pointCount)return null;var T=u-g,L=this.points;return{object:this,pointId:T,dataCoord:[L[2*T],L[2*T+1]]}}},6093:function(v){v.exports=function w(r,n,c,o){var g,C,T,L,x,f=n[0],h=n[1],d=n[2],b=n[3],p=c[0],A=c[1],m=c[2],u=c[3];return(C=f*p+h*A+d*m+b*u)<0&&(C=-C,p=-p,A=-A,m=-m,u=-u),1-C>1e-6?(g=Math.acos(C),T=Math.sin(g),L=Math.sin((1-o)*g)/T,x=Math.sin(o*g)/T):(L=1-o,x=o),r[0]=L*f+x*p,r[1]=L*h+x*A,r[2]=L*d+x*m,r[3]=L*b+x*u,r}},8240:function(v){"use strict";v.exports=function(w){return w||0===w?w.toString():""}},4123:function(v,w,r){"use strict";var n=r(875);v.exports=function o(f,h,d){var b=c[h];if(b||(b=c[h]={}),f in b)return b[f];var p={textAlign:"center",textBaseline:"middle",lineHeight:1,font:h,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},A=n(f,p);p.triangles=!1;var u,g,m=n(f,p);if(d&&1!==d){for(u=0;u<A.positions.length;++u)for(g=0;g<A.positions[u].length;++g)A.positions[u][g]/=d;for(u=0;u<m.positions.length;++u)for(g=0;g<m.positions[u].length;++g)m.positions[u][g]/=d}var C=[[1/0,1/0],[-1/0,-1/0]],T=m.positions.length;for(u=0;u<T;++u){var L=m.positions[u];for(g=0;g<2;++g)C[0][g]=Math.min(C[0][g],L[g]),C[1][g]=Math.max(C[1][g],L[g])}return b[f]=[A,m,C]};var c={}},9282:function(v,w,r){var n=r(5158),c=r(6832),o=c(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),f=c(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),h=c(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),d=c(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),b=c(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),p=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],A={vertex:o,fragment:d,attributes:p},m={vertex:f,fragment:d,attributes:p},u={vertex:h,fragment:d,attributes:p},g={vertex:o,fragment:b,attributes:p},C={vertex:f,fragment:b,attributes:p},T={vertex:h,fragment:b,attributes:p};function L(x,E){var M=n(x,E),i=M.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,M}w.createPerspective=function(x){return L(x,A)},w.createOrtho=function(x){return L(x,m)},w.createProject=function(x){return L(x,u)},w.createPickPerspective=function(x){return L(x,g)},w.createPickOrtho=function(x){return L(x,C)},w.createPickProject=function(x){return L(x,T)}},2182:function(v,w,r){"use strict";var n=r(3596),c=r(5827),o=r(2944),f=r(5306),h=r(104),d=r(9282),b=r(4123),p=r(8240),A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function m(te,Q){var K=te[0],Z=te[1],q=te[2],fe=te[3];return te[0]=Q[0]*K+Q[4]*Z+Q[8]*q+Q[12]*fe,te[1]=Q[1]*K+Q[5]*Z+Q[9]*q+Q[13]*fe,te[2]=Q[2]*K+Q[6]*Z+Q[10]*q+Q[14]*fe,te[3]=Q[3]*K+Q[7]*Z+Q[11]*q+Q[15]*fe,te}function u(te,Q,K,Z){return m(Z,Z),m(Z,Z),m(Z,Z)}function g(te,Q){this.index=te,this.dataCoordinate=this.position=Q}function C(te){return!0===te||te>1?1:te}function T(te,Q,K,Z,q,fe,re,$,le,se,de,we){this.gl=te,this.pixelRatio=1,this.shader=Q,this.orthoShader=K,this.projectShader=Z,this.pointBuffer=q,this.colorBuffer=fe,this.glyphBuffer=re,this.idBuffer=$,this.vao=le,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=se,this.pickOrthoShader=de,this.pickProjectShader=we,this.points=[],this._selectResult=new g(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}v.exports=function pe(te){var Q=te.gl,K=d.createPerspective(Q),Z=d.createOrtho(Q),q=d.createProject(Q),fe=d.createPickPerspective(Q),re=d.createPickOrtho(Q),$=d.createPickProject(Q),le=c(Q),se=c(Q),de=c(Q),we=c(Q),Me=new T(Q,K,Z,q,le,se,de,we,o(Q,[{buffer:le,size:3,type:Q.FLOAT},{buffer:se,size:4,type:Q.FLOAT},{buffer:de,size:2,type:Q.FLOAT},{buffer:we,size:4,type:Q.UNSIGNED_BYTE,normalized:!0}]),fe,re,$);return Me.update(te),Me};var L=T.prototype;L.pickSlots=1,L.setPickBase=function(te){this.pickId=te},L.isTransparent=function(){if(this.hasAlpha)return!0;for(var te=0;te<3;++te)if(this.axesProject[te]&&this.projectHasAlpha)return!0;return!1},L.isOpaque=function(){if(!this.hasAlpha)return!0;for(var te=0;te<3;++te)if(this.axesProject[te]&&!this.projectHasAlpha)return!0;return!1};var x=[0,0],E=[0,0,0],M=[0,0,0],i=[0,0,0,1],D=[0,0,0,1],y=A.slice(),B=[0,0,0],F=[[0,0,0],[0,0,0]];function _(te){return te[0]=te[1]=te[2]=0,te}function z(te,Q){return te[0]=Q[0],te[1]=Q[1],te[2]=Q[2],te[3]=1,te}function V(te,Q,K,Z){return te[0]=Q[0],te[1]=Q[1],te[2]=Q[2],te[K]=Z,te}function U(te,Q,K,Z){var Ee,q=Q.axesProject,fe=Q.gl,re=te.uniforms,$=K.model||A,le=K.view||A,se=K.projection||A,de=Q.axesBounds,we=function H(te){for(var Q=F,K=0;K<2;++K)for(var Z=0;Z<3;++Z)Q[K][Z]=Math.max(Math.min(te[K][Z],1e8),-1e8);return Q}(Q.clipBounds);Ee=Q.axes&&Q.axes.lastCubeProps?Q.axes.lastCubeProps.axis:[1,1,1],x[0]=2/fe.drawingBufferWidth,x[1]=2/fe.drawingBufferHeight,te.bind(),re.view=le,re.projection=se,re.screenSize=x,re.highlightId=Q.highlightId,re.highlightScale=Q.highlightScale,re.clipBounds=we,re.pickGroup=Q.pickId/255,re.pixelRatio=Z;for(var Me=0;Me<3;++Me)if(q[Me]){re.scale=Q.projectScale[Me],re.opacity=Q.projectOpacity[Me];for(var Ne=y,Ve=0;Ve<16;++Ve)Ne[Ve]=0;for(Ve=0;Ve<4;++Ve)Ne[5*Ve]=1;Ne[5*Me]=0,Ne[12+Me]=Ee[Me]<0?de[0][Me]:de[1][Me],h(Ne,$,Ne),re.model=Ne;var Pe=(Me+1)%3,Ce=(Me+2)%3,Ie=_(E),Je=_(M);Ie[Pe]=1,Je[Ce]=1;var Qe=u(0,0,0,z(i,Ie)),ze=u(0,0,0,z(D,Je));if(Math.abs(Qe[1])>Math.abs(ze[1])){var Ke=Qe;Qe=ze,ze=Ke,Ke=Ie,Ie=Je,Je=Ke;var ut=Pe;Pe=Ce,Ce=ut}Qe[0]<0&&(Ie[Pe]=-1),ze[1]>0&&(Je[Ce]=-1);var ot=0,We=0;for(Ve=0;Ve<4;++Ve)ot+=Math.pow($[4*Pe+Ve],2),We+=Math.pow($[4*Ce+Ve],2);Ie[Pe]/=Math.sqrt(ot),Je[Ce]/=Math.sqrt(We),re.axes[0]=Ie,re.axes[1]=Je,re.fragClipBounds[0]=V(B,we[0],Me,-1e8),re.fragClipBounds[1]=V(B,we[1],Me,1e8),Q.vao.bind(),Q.vao.draw(fe.TRIANGLES,Q.vertexCount),Q.lineWidth>0&&(fe.lineWidth(Q.lineWidth*Z),Q.vao.draw(fe.LINES,Q.lineVertexCount,Q.vertexCount)),Q.vao.unbind()}}var ee=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function ue(te,Q,K,Z,q,fe,re){var $=K.gl;if((fe===K.projectHasAlpha||re)&&U(Q,K,Z,q),fe===K.hasAlpha||re){te.bind();var le=te.uniforms;le.model=Z.model||A,le.view=Z.view||A,le.projection=Z.projection||A,x[0]=2/$.drawingBufferWidth,x[1]=2/$.drawingBufferHeight,le.screenSize=x,le.highlightId=K.highlightId,le.highlightScale=K.highlightScale,le.fragClipBounds=ee,le.clipBounds=K.axes.bounds,le.opacity=K.opacity,le.pickGroup=K.pickId/255,le.pixelRatio=q,K.vao.bind(),K.vao.draw($.TRIANGLES,K.vertexCount),K.lineWidth>0&&($.lineWidth(K.lineWidth*q),K.vao.draw($.LINES,K.lineVertexCount,K.vertexCount)),K.vao.unbind()}}function ce(te,Q,K,Z){var q;q=Array.isArray(te)?Q<te.length?te[Q]:void 0:te,q=p(q);var fe=!0;n(q)&&(q="\u25bc",fe=!1);var re=b(q,K,Z);return{mesh:re[0],lines:re[1],bounds:re[2],visible:fe}}L.draw=function(te){ue(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,te,this.pixelRatio,!1,!1)},L.drawTransparent=function(te){ue(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,te,this.pixelRatio,!0,!1)},L.drawPick=function(te){ue(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,te,1,!0,!0)},L.pick=function(te){if(!te||te.id!==this.pickId)return null;var Q=te.value[2]+(te.value[1]<<8)+(te.value[0]<<16);if(Q>=this.pointCount||Q<0)return null;var K=this.points[Q],Z=this._selectResult;Z.index=Q;for(var q=0;q<3;++q)Z.position[q]=Z.dataCoordinate[q]=K[q];return Z},L.highlight=function(te){if(te){var Q=te.index;this.highlightId=[(255&Q)/255,(Q>>8&255)/255,(Q>>16&255)/255,0]}else this.highlightId=[1,1,1,1]},L.update=function(te){if("perspective"in(te=te||{})&&(this.useOrtho=!te.perspective),"orthographic"in te&&(this.useOrtho=!!te.orthographic),"lineWidth"in te&&(this.lineWidth=te.lineWidth),"project"in te)if(Array.isArray(te.project))this.axesProject=te.project;else{var Q=!!te.project;this.axesProject=[Q,Q,Q]}if("projectScale"in te&&(this.projectScale=Array.isArray(te.projectScale)?te.projectScale.slice():[K=+te.projectScale,K,K]),this.projectHasAlpha=!1,"projectOpacity"in te){var K;this.projectOpacity=Array.isArray(te.projectOpacity)?te.projectOpacity.slice():[K=+te.projectOpacity,K,K];for(var Z=0;Z<3;++Z)this.projectOpacity[Z]=C(this.projectOpacity[Z]),this.projectOpacity[Z]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in te&&(this.opacity=C(te.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var $,le,q=te.position,fe=te.font||"normal",re=te.alignment||[0,0];if(2===re.length)$=re[0],le=re[1];else for($=[],le=[],Z=0;Z<re.length;++Z)$[Z]=re[Z][0],le[Z]=re[Z][1];var se=[1/0,1/0,1/0],de=[-1/0,-1/0,-1/0],we=te.glyph,Ee=te.color,Me=te.size,Ne=te.angle,Ve=te.lineColor,Pe=-1,Ce=0,Ie=0,Je=0;if(q.length){Je=q.length;e:for(Z=0;Z<Je;++Z){for(var Qe=q[Z],ze=0;ze<3;++ze)if(isNaN(Qe[ze])||!isFinite(Qe[ze]))continue e;var We=(Ke=ce(we,Z,fe,this.pixelRatio)).bounds;Ce+=3*(ut=Ke.mesh).cells.length,Ie+=2*(ot=Ke.lines).edges.length}}var je=Ce+Ie,lt=f.mallocFloat(3*je),vt=f.mallocFloat(4*je),pt=f.mallocFloat(2*je),St=f.mallocUint32(je);if(je>0){var Ct=0,_t=Ce,nt=[0,0,0,1],ke=[0,0,0,1],Re=Array.isArray(Ee)&&Array.isArray(Ee[0]),Be=Array.isArray(Ve)&&Array.isArray(Ve[0]);e:for(Z=0;Z<Je;++Z){for(Pe+=1,Qe=q[Z],ze=0;ze<3;++ze){if(isNaN(Qe[ze])||!isFinite(Qe[ze]))continue e;de[ze]=Math.max(de[ze],Qe[ze]),se[ze]=Math.min(se[ze],Qe[ze])}var Ke,ut=(Ke=ce(we,Z,fe,this.pixelRatio)).mesh,ot=Ke.lines,He=(We=Ke.bounds,Ke.visible);if(He)if(Array.isArray(Ee)){if(3===(Ye=Re?Z<Ee.length?Ee[Z]:[0,0,0,0]:Ee).length){for(ze=0;ze<3;++ze)nt[ze]=Ye[ze];nt[3]=1}else if(4===Ye.length){for(ze=0;ze<4;++ze)nt[ze]=Ye[ze];!this.hasAlpha&&Ye[3]<1&&(this.hasAlpha=!0)}}else nt[0]=nt[1]=nt[2]=0,nt[3]=1;else nt=[1,1,1,0];if(He)if(Array.isArray(Ve)){var Ye;if(3===(Ye=Be?Z<Ve.length?Ve[Z]:[0,0,0,0]:Ve).length){for(ze=0;ze<3;++ze)ke[ze]=Ye[ze];ke[ze]=1}else if(4===Ye.length){for(ze=0;ze<4;++ze)ke[ze]=Ye[ze];!this.hasAlpha&&Ye[3]<1&&(this.hasAlpha=!0)}}else ke[0]=ke[1]=ke[2]=0,ke[3]=1;else ke=[1,1,1,0];var Ue=.5;He?Array.isArray(Me)?Ue=Z<Me.length?+Me[Z]:12:Me?Ue=+Me:this.useOrtho&&(Ue=12):Ue=0;var De=0;Array.isArray(Ne)?De=Z<Ne.length?+Ne[Z]:0:Ne&&(De=+Ne);var ge=Math.cos(De),Te=Math.sin(De);for(Qe=q[Z],ze=0;ze<3;++ze)de[ze]=Math.max(de[ze],Qe[ze]),se[ze]=Math.min(se[ze],Qe[ze]);var _e=$,et=le;_e=0,Array.isArray($)?_e=Z<$.length?$[Z]:0:$&&(_e=$),et=0,Array.isArray(le)?et=Z<le.length?le[Z]:0:le&&(et=le);var ft=[_e*=_e>0?1-We[0][0]:_e<0?1+We[1][0]:1,et*=et>0?1-We[0][1]:et<0?1+We[1][1]:1],Ut=ut.cells||[],Qt=ut.positions||[];for(ze=0;ze<Ut.length;++ze)for(var gt=Ut[ze],Kt=0;Kt<3;++Kt){for(var ir=0;ir<3;++ir)lt[3*Ct+ir]=Qe[ir];for(ir=0;ir<4;++ir)vt[4*Ct+ir]=nt[ir];St[Ct]=Pe,pt[2*Ct]=Ue*(ge*(Lt=Qt[gt[Kt]])[0]-Te*Lt[1]+ft[0]),pt[2*Ct+1]=Ue*(Te*Lt[0]+ge*Lt[1]+ft[1]),Ct+=1}for(Ut=ot.edges,Qt=ot.positions,ze=0;ze<Ut.length;++ze)for(gt=Ut[ze],Kt=0;Kt<2;++Kt){for(ir=0;ir<3;++ir)lt[3*_t+ir]=Qe[ir];for(ir=0;ir<4;++ir)vt[4*_t+ir]=ke[ir];var Lt;St[_t]=Pe,pt[2*_t]=Ue*(ge*(Lt=Qt[gt[Kt]])[0]-Te*Lt[1]+ft[0]),pt[2*_t+1]=Ue*(Te*Lt[0]+ge*Lt[1]+ft[1]),_t+=1}}}this.bounds=[se,de],this.points=q,this.pointCount=q.length,this.vertexCount=Ce,this.lineVertexCount=Ie,this.pointBuffer.update(lt),this.colorBuffer.update(vt),this.glyphBuffer.update(pt),this.idBuffer.update(St),f.free(lt),f.free(vt),f.free(pt),f.free(St)},L.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(v,w,r){"use strict";var n=r(6832);w.boxVertex=n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),w.boxFragment=n(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},6623:function(v,w,r){"use strict";var n=r(5158),c=r(5827),o=r(1884);function f(b,p,A){this.plot=b,this.boxBuffer=p,this.boxShader=A,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}v.exports=function d(b,p){var A=b.gl,g=new f(b,c(A,[0,0,0,1,1,0,1,1]),n(A,o.boxVertex,o.boxFragment));return g.update(p),b.addOverlay(g),g};var h=f.prototype;h.draw=function(){if(this.enabled){var b=this.plot,p=this.selectBox,A=this.borderWidth,u=this.innerColor,C=this.outerColor,T=this.borderColor,L=b.box,x=b.screenBox,E=b.dataBox,M=b.viewBox,i=b.pixelRatio,D=(p[0]-E[0])*(M[2]-M[0])/(E[2]-E[0])+M[0],y=(p[1]-E[1])*(M[3]-M[1])/(E[3]-E[1])+M[1],B=(p[2]-E[0])*(M[2]-M[0])/(E[2]-E[0])+M[0],F=(p[3]-E[1])*(M[3]-M[1])/(E[3]-E[1])+M[1];if(D=Math.max(D,M[0]),y=Math.max(y,M[1]),B=Math.min(B,M[2]),F=Math.min(F,M[3]),!(B<D||F<y)){L.bind();var _=x[2]-x[0],z=x[3]-x[1];if(this.outerFill&&(L.drawBox(0,0,_,y,C),L.drawBox(0,y,D,F,C),L.drawBox(0,F,_,z,C),L.drawBox(B,y,_,F,C)),this.innerFill&&L.drawBox(D,y,B,F,u),A>0){var V=A*i;L.drawBox(D-V,y-V,B+V,y+V,T),L.drawBox(D-V,F-V,B+V,F+V,T),L.drawBox(D-V,y-V,D+V,F+V,T),L.drawBox(B-V,y-V,B+V,F+V,T)}}}},h.update=function(b){this.innerFill=!!(b=b||{}).innerFill,this.outerFill=!!b.outerFill,this.innerColor=(b.innerColor||[0,0,0,.5]).slice(),this.outerColor=(b.outerColor||[0,0,0,.5]).slice(),this.borderColor=(b.borderColor||[0,0,0,1]).slice(),this.borderWidth=b.borderWidth||0,this.selectBox=(b.selectBox||this.selectBox).slice()},h.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(v,w,r){"use strict";v.exports=function A(m,u){var g=u[0],C=u[1];return new b(m,n(m,g,C,{}),c.mallocUint8(g*C*4))};var n=r(4234),c=r(5306),o=r(5050),f=r(2288).nextPow2;function d(m,u,g,C,T){this.coord=[m,u],this.id=g,this.value=C,this.distance=T}function b(m,u,g){this.gl=m,this.fbo=u,this.buffer=g,this._readTimeout=null;var C=this;this._readCallback=function(){C.gl&&(u.bind(),m.readPixels(0,0,u.shape[0],u.shape[1],m.RGBA,m.UNSIGNED_BYTE,C.buffer),C._readTimeout=null)}}var p=b.prototype;Object.defineProperty(p,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(m){if(this.gl){this.fbo.shape=m;var u=this.fbo.shape[0],g=this.fbo.shape[1];if(g*u*4>this.buffer.length){c.free(this.buffer);for(var C=this.buffer=c.mallocUint8(f(g*u*4)),T=0;T<g*u*4;++T)C[T]=255}return m}}}),p.begin=function(){var m=this.gl;m&&(this.fbo.bind(),m.clearColor(1,1,1,1),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT))},p.end=function(){var m=this.gl;m&&(m.bindFramebuffer(m.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},p.query=function(m,u,g){if(!this.gl)return null;var C=this.fbo.shape.slice();m|=0,u|=0,"number"!=typeof g&&(g=1);var T=0|Math.min(Math.max(m-g,0),C[0]),L=0|Math.min(Math.max(m+g,0),C[0]),x=0|Math.min(Math.max(u-g,0),C[1]),E=0|Math.min(Math.max(u+g,0),C[1]);if(L<=T||E<=x)return null;var M=[L-T,E-x],i=o(this.buffer,[M[0],M[1],4],[4,4*C[0],1],4*(T+C[0]*x)),D=function(m,u,g){for(var C=1e8,T=-1,L=-1,x=m.shape[0],E=m.shape[1],M=0;M<x;M++)for(var i=0;i<E;i++){var D=m.get(M,i,0),y=m.get(M,i,1),B=m.get(M,i,2),F=m.get(M,i,3);if(D<255||y<255||B<255||F<255){var _=u-M,z=g-i,V=_*_+z*z;V<C&&(C=V,T=M,L=i)}}return[T,L,C]}(i.hi(M[0],M[1],1),g,g),y=D[0],B=D[1];return y<0||Math.pow(this.radius,2)<D[2]?null:new d(y+T|0,B+x|0,i.get(y,B,0),[i.get(y,B,1),i.get(y,B,2),i.get(y,B,3)],Math.sqrt(D[2]))},p.dispose=function(){this.gl&&(this.fbo.dispose(),c.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(v,w,r){"use strict";var n=r(9016),c=r(4280),o=r(3984),f=r(1628),h=r(2631),d=r(9068);function b(u){this.gl=u,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var p=b.prototype;function A(u,g){return u.name<g.name?-1:1}p.bind=function(){this.program||this._relink();var u,g=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),C=this.gl.lastAttribCount;if(g>C)for(u=C;u<g;u++)this.gl.enableVertexAttribArray(u);else if(C>g)for(u=g;u<C;u++)this.gl.disableVertexAttribArray(u);this.gl.lastAttribCount=g,this.gl.useProgram(this.program)},p.dispose=function(){for(var u=this.gl.lastAttribCount,g=0;g<u;g++)this.gl.disableVertexAttribArray(g);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},p.update=function(u,g,C,T){if(!g||1===arguments.length){var L=u;u=L.vertex,g=L.fragment,C=L.uniforms,T=L.attributes}var x=this,E=x.gl,M=x._vref;x._vref=f.shader(E,E.VERTEX_SHADER,u),M&&M.dispose(),x.vertShader=x._vref.shader;var i=this._fref;if(x._fref=f.shader(E,E.FRAGMENT_SHADER,g),i&&i.dispose(),x.fragShader=x._fref.shader,!C||!T){var D=E.createProgram();if(E.attachShader(D,x.fragShader),E.attachShader(D,x.vertShader),E.linkProgram(D),!E.getProgramParameter(D,E.LINK_STATUS)){var y=E.getProgramInfoLog(D);throw new d(y,"Error linking program:"+y)}C=C||h.uniforms(E,D),T=T||h.attributes(E,D),E.deleteProgram(D)}(T=T.slice()).sort(A);var z,B=[],F=[],_=[];for(z=0;z<T.length;++z){var V=T[z];if(V.type.indexOf("mat")>=0){for(var H=0|V.type.charAt(V.type.length-1),U=new Array(H),G=0;G<H;++G)U[G]=_.length,F.push(V.name+"["+G+"]"),"number"==typeof V.location?_.push(V.location+G):Array.isArray(V.location)&&V.location.length===H&&"number"==typeof V.location[G]?_.push(0|V.location[G]):_.push(-1);B.push({name:V.name,type:V.type,locations:U})}else B.push({name:V.name,type:V.type,locations:[_.length]}),F.push(V.name),_.push("number"==typeof V.location?0|V.location:-1)}var Y=0;for(z=0;z<_.length;++z)if(_[z]<0){for(;_.indexOf(Y)>=0;)Y+=1;_[z]=Y}var ee=new Array(C.length);function ue(){x.program=f.program(E,x._vref,x._fref,F,_);for(var ce=0;ce<C.length;++ce)ee[ce]=E.getUniformLocation(x.program,C[ce].name)}ue(),x._relink=ue,x.types={uniforms:o(C),attributes:o(T)},x.attributes=c(E,x,B,_),Object.defineProperty(x,"uniforms",n(E,x,C,ee))},v.exports=function m(u,g,C,T,L){var x=new b(u);return x.update(g,C,T,L),x}},9068:function(v){function w(r,n,c){this.shortMessage=n||"",this.longMessage=c||"",this.rawError=r||"",this.message="gl-shader: "+(n||r||"")+(c?"\n"+c:""),this.stack=(new Error).stack}(w.prototype=new Error).name="GLError",w.prototype.constructor=w,v.exports=w},4280:function(v,w,r){"use strict";v.exports=function b(p,A,m,u){for(var g={},C=0,T=m.length;C<T;++C){var L=m[C],x=L.name,E=L.type,M=L.locations;switch(E){case"bool":case"int":case"float":h(p,A,M[0],u,1,g,x);break;default:if(E.indexOf("vec")>=0){if((i=E.charCodeAt(E.length-1)-48)<2||i>4)throw new n("","Invalid data type for attribute "+x+": "+E);h(p,A,M[0],u,i,g,x)}else{if(!(E.indexOf("mat")>=0))throw new n("","Unknown data type for attribute "+x+": "+E);var i;if((i=E.charCodeAt(E.length-1)-48)<2||i>4)throw new n("","Invalid data type for attribute "+x+": "+E);d(p,A,M,u,i,g,x)}}}return g};var n=r(9068);function c(p,A,m,u,g,C){this._gl=p,this._wrapper=A,this._index=m,this._locations=u,this._dimension=g,this._constFunc=C}var o=c.prototype;o.pointer=function(A,m,u,g){var C=this,T=C._gl,L=C._locations[C._index];T.vertexAttribPointer(L,C._dimension,A||T.FLOAT,!!m,u||0,g||0),T.enableVertexAttribArray(L)},o.set=function(p,A,m,u){return this._constFunc(this._locations[this._index],p,A,m,u)},Object.defineProperty(o,"location",{get:function(){return this._locations[this._index]},set:function(p){return p!==this._locations[this._index]&&(this._locations[this._index]=0|p,this._wrapper.program=null),0|p}});var f=[function(p,A,m){return void 0===m.length?p.vertexAttrib1f(A,m):p.vertexAttrib1fv(A,m)},function(p,A,m,u){return void 0===m.length?p.vertexAttrib2f(A,m,u):p.vertexAttrib2fv(A,m)},function(p,A,m,u,g){return void 0===m.length?p.vertexAttrib3f(A,m,u,g):p.vertexAttrib3fv(A,m)},function(p,A,m,u,g,C){return void 0===m.length?p.vertexAttrib4f(A,m,u,g,C):p.vertexAttrib4fv(A,m)}];function h(p,A,m,u,g,C,T){var L=f[g],x=new c(p,A,m,u,g,L);Object.defineProperty(C,T,{set:function(E){return p.disableVertexAttribArray(u[m]),L(p,u[m],E),E},get:function(){return x},enumerable:!0})}function d(p,A,m,u,g,C,T){for(var L=new Array(g),x=new Array(g),E=0;E<g;++E)h(p,A,m[E],u,g,L,E),x[E]=L[E];Object.defineProperty(L,"location",{set:function(D){if(Array.isArray(D))for(var y=0;y<g;++y)x[y].location=D[y];else for(y=0;y<g;++y)x[y].location=D+y;return D},get:function(){for(var D=new Array(g),y=0;y<g;++y)D[y]=u[m[y]];return D},enumerable:!0}),L.pointer=function(D,y,B,F){D=D||p.FLOAT,y=!!y,B=B||g*g,F=F||0;for(var _=0;_<g;++_){var z=u[m[_]];p.vertexAttribPointer(z,g,D,y,B,F+_*g),p.enableVertexAttribArray(z)}};var M=new Array(g),i=p["vertexAttrib"+g+"fv"];Object.defineProperty(C,T,{set:function(D){for(var y=0;y<g;++y){var B=u[m[y]];if(p.disableVertexAttribArray(B),Array.isArray(D[0]))i.call(p,B,D[y]);else{for(var F=0;F<g;++F)M[F]=D[g*y+F];i.call(p,B,M)}}return D},get:function(){return L},enumerable:!0})}},9016:function(v,w,r){"use strict";var n=r(3984),c=r(9068);function o(d){return function(){return d}}function f(d,b){for(var p=new Array(d),A=0;A<d;++A)p[A]=b;return p}v.exports=function h(d,b,p,A){function m(E){return function(M,i,D){return M.getUniform(i.program,D[E])}}function u(E){return function(i){for(var D=g("",E),y=0;y<D.length;++y){var B=D[y],F=B[0],_=B[1];if(A[_]){var z=i;if("string"==typeof F&&(0===F.indexOf(".")||0===F.indexOf("["))){var V=F;if(0===F.indexOf(".")&&(V=F.slice(1)),V.indexOf("]")===V.length-1){var H=V.indexOf("["),U=V.slice(0,H),G=V.slice(H+1,V.length-1);z=U?i[U][G]:i[G]}else z=i[V]}var ee,Y=p[_].type;switch(Y){case"bool":case"int":case"sampler2D":case"samplerCube":d.uniform1i(A[_],z);break;case"float":d.uniform1f(A[_],z);break;default:var ue=Y.indexOf("vec");if(!(0<=ue&&ue<=1&&Y.length===4+ue)){if(0===Y.indexOf("mat")&&4===Y.length){if((ee=Y.charCodeAt(Y.length-1)-48)<2||ee>4)throw new c("","Invalid uniform dimension type for matrix "+name+": "+Y);d["uniformMatrix"+ee+"fv"](A[_],!1,z);break}throw new c("","Unknown uniform data type for "+name+": "+Y)}if((ee=Y.charCodeAt(Y.length-1)-48)<2||ee>4)throw new c("","Invalid data type");switch(Y.charAt(0)){case"b":case"i":d["uniform"+ee+"iv"](A[_],z);break;case"v":d["uniform"+ee+"fv"](A[_],z);break;default:throw new c("","Unrecognized data type for vector "+name+": "+Y)}}}}}}function g(E,M){if("object"!=typeof M)return[[E,M]];var i=[];for(var D in M){var y=M[D],B=E;parseInt(D)+""===D?B+="["+D+"]":B+="."+D,"object"==typeof y?i.push.apply(i,g(B,y)):i.push([B,y])}return i}function T(E,M,i){if("object"==typeof i){var D=L(i);Object.defineProperty(E,M,{get:o(D),set:u(i),enumerable:!0,configurable:!1})}else A[i]?Object.defineProperty(E,M,{get:m(i),set:u(i),enumerable:!0,configurable:!1}):E[M]=function C(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var M=E.indexOf("vec");if(0<=M&&M<=1&&E.length===4+M){if((i=E.charCodeAt(E.length-1)-48)<2||i>4)throw new c("","Invalid data type");return"b"===E.charAt(0)?f(i,!1):f(i,0)}if(0===E.indexOf("mat")&&4===E.length){var i;if((i=E.charCodeAt(E.length-1)-48)<2||i>4)throw new c("","Invalid uniform dimension type for matrix "+name+": "+E);return f(i*i,0)}throw new c("","Unknown uniform data type for "+name+": "+E)}}(p[i].type)}function L(E){var M;if(Array.isArray(E)){M=new Array(E.length);for(var i=0;i<E.length;++i)T(M,i,E[i])}else for(var D in M={},E)T(M,D,E[D]);return M}var x=n(p,!0);return{get:o(L(x)),set:u(x),enumerable:!0,configurable:!0}}},3984:function(v){"use strict";v.exports=function w(r,n){for(var c={},o=0;o<r.length;++o)for(var h=r[o].name.split("."),d=c,b=0;b<h.length;++b){var p=h[b].split("[");if(p.length>1){p[0]in d||(d[p[0]]=[]),d=d[p[0]];for(var A=1;A<p.length;++A){var m=parseInt(p[A]);A<p.length-1||b<h.length-1?(m in d||(d[m]=A<p.length-1?[]:{}),d=d[m]):d[m]=n?o:r[o].type}}else b<h.length-1?(p[0]in d||(d[p[0]]={}),d=d[p[0]]):d[p[0]]=n?o:r[o].type}return c}},2631:function(v,w){"use strict";w.uniforms=function o(h,d){for(var b=h.getProgramParameter(d,h.ACTIVE_UNIFORMS),p=[],A=0;A<b;++A){var m=h.getActiveUniform(d,A);if(m){var u=c(h,m.type);if(m.size>1)for(var g=0;g<m.size;++g)p.push({name:m.name.replace("[0]","["+g+"]"),type:u});else p.push({name:m.name,type:u})}}return p},w.attributes=function f(h,d){for(var b=h.getProgramParameter(d,h.ACTIVE_ATTRIBUTES),p=[],A=0;A<b;++A){var m=h.getActiveAttrib(d,A);m&&p.push({name:m.name,type:c(h,m.type)})}return p};var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},n=null;function c(h,d){if(!n){var b=Object.keys(r);n={};for(var p=0;p<b.length;++p){var A=b[p];n[h[A]]=r[A]}}return n[d]}},1628:function(v,w,r){"use strict";w.shader=function g(T,L,x){return u(T).getShaderReference(L,x)},w.program=function C(T,L,x,E,M){return u(T).getProgram(L,x,E,M)};var n=r(9068),c=r(3530),f=new(typeof WeakMap>"u"?r(4037):WeakMap),h=0;function d(T,L,x,E,M,i,D){this.id=T,this.src=L,this.type=x,this.shader=E,this.count=i,this.programs=[],this.cache=D}function b(T){this.gl=T,this.shaders=[{},{}],this.programs={}}d.prototype.dispose=function(){if(0==--this.count){for(var T=this.cache,L=T.gl,x=this.programs,E=0,M=x.length;E<M;++E){var i=T.programs[x[E]];i&&(delete T.programs[E],L.deleteProgram(i))}L.deleteShader(this.shader),delete T.shaders[this.type===L.FRAGMENT_SHADER|0][this.src]}};var p=b.prototype;function u(T){var L=f.get(T);return L||(L=new b(T),f.set(T,L)),L}p.getShaderReference=function(T,L){var x=this.gl,E=this.shaders[T===x.FRAGMENT_SHADER|0],M=E[L];if(M&&x.isShader(M.shader))M.count+=1;else{var i=function A(T,L,x){var E=T.createShader(L);if(T.shaderSource(E,x),T.compileShader(E),!T.getShaderParameter(E,T.COMPILE_STATUS)){var M=T.getShaderInfoLog(E);try{var i=c(M,x,L)}catch(D){throw console.warn("Failed to format compiler error: "+D),new n(M,"Error compiling shader:\n"+M)}throw new n(M,i.short,i.long)}return E}(x,T,L);M=E[L]=new d(h++,L,T,i,[],1,this)}return M},p.getProgram=function(T,L,x,E){var M=[T.id,L.id,x.join(":"),E.join(":")].join("@"),i=this.programs[M];return(!i||!this.gl.isProgram(i))&&(this.programs[M]=i=function m(T,L,x,E,M){var i=T.createProgram();T.attachShader(i,L),T.attachShader(i,x);for(var D=0;D<E.length;++D)T.bindAttribLocation(i,M[D],E[D]);if(T.linkProgram(i),!T.getProgramParameter(i,T.LINK_STATUS)){var y=T.getProgramInfoLog(i);throw new n(y,"Error linking program: "+y)}return i}(this.gl,T.shader,L.shader,x,E),T.programs.push(M),L.programs.push(M)),i}},3050:function(v){"use strict";function w(c){this.plot=c,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}v.exports=function n(c,o){var f=new w(c);return f.update(o),c.addOverlay(f),f};var r=w.prototype;r.update=function(c){this.enable=((c=c||{}).enable||[!0,!0,!1,!1]).slice(),this.width=(c.width||[1,1,1,1]).slice(),this.color=(c.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(o){return o.slice()}),this.center=(c.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var c=this.enable,o=this.width,f=this.color,h=this.center,d=this.plot,b=d.line,p=d.dataBox,A=d.viewBox;if(b.bind(),p[0]<=h[0]&&h[0]<=p[2]&&p[1]<=h[1]&&h[1]<=p[3]){var m=A[0]+(h[0]-p[0])/(p[2]-p[0])*(A[2]-A[0]),u=A[1]+(h[1]-p[1])/(p[3]-p[1])*(A[3]-A[1]);c[0]&&b.drawLine(m,u,A[0],u,o[0],f[0]),c[1]&&b.drawLine(m,u,m,A[1],o[1],f[1]),c[2]&&b.drawLine(m,u,A[2],u,o[2],f[2]),c[3]&&b.drawLine(m,u,m,A[3],o[3],f[3])}},r.dispose=function(){this.plot.removeOverlay(this)}},3540:function(v,w,r){"use strict";var n=r(6832),c=r(5158),o=n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),f=n(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);v.exports=function(h){return c(h,o,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,w,r){"use strict";var n=r(5827),c=r(2944),o=r(3540);v.exports=function m(u,g){var C=[];function T(i,D,y,B,F,_){var z=[i,D,y,0,0,0,1];z[B+3]=1,z[B]=F,C.push.apply(C,z),z[6]=-1,C.push.apply(C,z),z[B]=_,C.push.apply(C,z),C.push.apply(C,z),z[6]=1,C.push.apply(C,z),z[B]=F,C.push.apply(C,z)}T(0,0,0,0,0,1),T(0,0,0,1,0,1),T(0,0,0,2,0,1),T(1,0,0,1,-1,1),T(1,0,0,2,-1,1),T(0,1,0,0,-1,1),T(0,1,0,2,-1,1),T(0,0,1,0,-1,1),T(0,0,1,1,-1,1);var L=n(u,C),x=c(u,[{type:u.FLOAT,buffer:L,size:3,offset:0,stride:28},{type:u.FLOAT,buffer:L,size:3,offset:12,stride:28},{type:u.FLOAT,buffer:L,size:1,offset:24,stride:28}]),E=o(u);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.weight.location=2;var M=new h(u,L,x,E);return M.update(g),M};var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(u,g,C,T){this.gl=u,this.buffer=g,this.vao=C,this.shader=T,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var d=h.prototype,b=[0,0,0],p=[0,0,0],A=[0,0];d.isTransparent=function(){return!1},d.drawTransparent=function(u){},d.draw=function(u){var g=this.gl,C=this.vao,T=this.shader;C.bind(),T.bind();var M,L=u.model||f,x=u.view||f,E=u.projection||f;this.axes&&(M=this.axes.lastCubeProps.axis);for(var i=b,D=p,y=0;y<3;++y)M&&M[y]<0?(i[y]=this.bounds[0][y],D[y]=this.bounds[1][y]):(i[y]=this.bounds[1][y],D[y]=this.bounds[0][y]);for(A[0]=g.drawingBufferWidth,A[1]=g.drawingBufferHeight,T.uniforms.model=L,T.uniforms.view=x,T.uniforms.projection=E,T.uniforms.coordinates=[this.position,i,D],T.uniforms.colors=this.colors,T.uniforms.screenShape=A,y=0;y<3;++y)T.uniforms.lineWidth=this.lineWidth[y]*this.pixelRatio,this.enabled[y]&&(C.draw(g.TRIANGLES,6,6*y),this.drawSides[y]&&C.draw(g.TRIANGLES,12,18+12*y));C.unbind()},d.update=function(u){u&&("bounds"in u&&(this.bounds=u.bounds),"position"in u&&(this.position=u.position),"lineWidth"in u&&(this.lineWidth=u.lineWidth),"colors"in u&&(this.colors=u.colors),"enabled"in u&&(this.enabled=u.enabled),"drawSides"in u&&(this.drawSides=u.drawSides))},d.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(v,w,r){var n=r(6832),c=n(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=n(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),f=n(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),h=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);w.meshShader={vertex:c,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},w.pickShader={vertex:f,fragment:h,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,w,r){"use strict";var n=r(2858),c=r(4020),o=["xyz","xzy","yxz","yzx","zxy","zyx"],h=function(T,L,x,E){for(var M=0,i=0;i<T.length;i++)for(var D=T[i].velocities,y=0;y<D.length;y++)M=Math.max(M,n.length(D[y]));var B=T.map(function(ue){return function(T,L,x,E){for(var M=T.points,i=T.velocities,D=T.divergences,y=[],B=[],F=[],_=[],z=[],V=[],H=0,U=0,G=c.create(),Y=c.create(),ue=0;ue<M.length;ue++){var ce=M[ue],pe=i[ue],te=D[ue];0===L&&(te=.05*x),U=n.length(pe)/E,G=c.create(),n.copy(G,pe),G[3]=te;for(var Q=0;Q<8;Q++)z[Q]=[ce[0],ce[1],ce[2],Q];if(_.length>0)for(Q=0;Q<8;Q++){var K=(Q+1)%8;y.push(_[Q],z[Q],z[K],z[K],_[K],_[Q]),F.push(Y,G,G,G,Y,Y),V.push(H,U,U,U,H,H);var Z=y.length;B.push([Z-6,Z-5,Z-4],[Z-3,Z-2,Z-1])}var q=_;_=z,z=q;var fe=Y;Y=G,G=fe;var re=H;H=U,U=re}return{positions:y,cells:B,vectors:F,vertexIntensity:V}}(ue,x,E,M)}),F=[],_=[],z=[],V=[];for(i=0;i<B.length;i++){var H=B[i],U=F.length;for(F=F.concat(H.positions),z=z.concat(H.vectors),V=V.concat(H.vertexIntensity),y=0;y<H.cells.length;y++){var G=H.cells[y],Y=[];_.push(Y);for(var ee=0;ee<G.length;ee++)Y.push(G[ee]+U)}}return{positions:F,cells:_,vectors:z,vertexIntensity:V,colormap:L}},d=function(T,L){var E,x=T.length;for(E=0;E<x;E++){var M=T[E];if(M===L)return E;if(M>L)return E-1}return E},b=function(T,L,x){return T<L?L:T>x?x:T},m=function(T){var L=1/0;T.sort(function(i,D){return i-D});for(var x=T.length,E=1;E<x;E++){var M=Math.abs(T[E]-T[E-1]);M<L&&(L=M)}return L};v.exports=function(T,L){var x=T.startingPositions,E=T.maxLength||1e3,M=T.tubeSize||1,i=T.absoluteTubeSize,D=T.gridFill||"+x+y+z",y={};-1!==D.indexOf("-x")&&(y.reversedX=!0),-1!==D.indexOf("-y")&&(y.reversedY=!0),-1!==D.indexOf("-z")&&(y.reversedZ=!0),y.filled=o.indexOf(D.replace(/-/g,"").replace(/\+/g,""));var Pe,Ce,Ie,Je,B=T.getVelocity||function(Pe){return function(T,L,x){var E=L.vectors,M=L.meshgrid,i=T[0],D=T[1],y=T[2],B=M[0].length,F=M[1].length,_=M[2].length,z=d(M[0],i),V=d(M[1],D),H=d(M[2],y),U=z+1,G=V+1,Y=H+1;if(z=b(z,0,B-1),U=b(U,0,B-1),V=b(V,0,F-1),G=b(G,0,F-1),H=b(H,0,_-1),Y=b(Y,0,_-1),z<0||V<0||H<0||U>B-1||G>F-1||Y>_-1)return n.create();var fe,re,$,le,se,de,ee=M[0][z],ce=M[1][V],te=M[2][H],K=(i-ee)/(M[0][U]-ee),Z=(D-ce)/(M[1][G]-ce),q=(y-te)/(M[2][Y]-te);switch(isFinite(K)||(K=.5),isFinite(Z)||(Z=.5),isFinite(q)||(q=.5),x.reversedX&&(z=B-1-z,U=B-1-U),x.reversedY&&(V=F-1-V,G=F-1-G),x.reversedZ&&(H=_-1-H,Y=_-1-Y),x.filled){case 5:se=H,de=Y,$=V*_,le=G*_,fe=z*_*F,re=U*_*F;break;case 4:se=H,de=Y,fe=z*_,re=U*_,$=V*_*B,le=G*_*B;break;case 3:$=V,le=G,se=H*F,de=Y*F,fe=z*F*_,re=U*F*_;break;case 2:$=V,le=G,fe=z*F,re=U*F,se=H*F*B,de=Y*F*B;break;case 1:fe=z,re=U,se=H*B,de=Y*B,$=V*B*_,le=G*B*_;break;default:fe=z,re=U,$=V*B,le=G*B,se=H*B*F,de=Y*B*F}var we=E[fe+$+se],Ee=E[fe+$+de],Me=E[fe+le+se],Ne=E[fe+le+de],Ve=E[re+$+se],Pe=E[re+$+de],Ce=E[re+le+se],Ie=E[re+le+de],Je=n.create(),Qe=n.create(),ze=n.create(),Ke=n.create();n.lerp(Je,we,Ve,K),n.lerp(Qe,Ee,Pe,K),n.lerp(ze,Me,Ce,K),n.lerp(Ke,Ne,Ie,K);var ut=n.create(),ot=n.create();n.lerp(ut,Je,ze,Z),n.lerp(ot,Qe,Ke,Z);var We=n.create();return n.lerp(We,ut,ot,q),We}(Pe,T,y)},F=T.getDivergence||function(Pe,Ce){var Ie=n.create(),Je=1e-4;n.add(Ie,Pe,[Je,0,0]);var Qe=B(Ie);n.subtract(Qe,Qe,Ce),n.scale(Qe,Qe,1/Je),n.add(Ie,Pe,[0,Je,0]);var ze=B(Ie);n.subtract(ze,ze,Ce),n.scale(ze,ze,1/Je),n.add(Ie,Pe,[0,0,Je]);var Ke=B(Ie);return n.subtract(Ke,Ke,Ce),n.scale(Ke,Ke,1/Je),n.add(Ie,Qe,ze),n.add(Ie,Ie,Ke),Ie},_=[],z=L[0][0],V=L[0][1],H=L[0][2],U=L[1][0],G=L[1][1],Y=L[1][2],ce=10*n.distance(L[0],L[1])/E,pe=ce*ce,te=1,Q=0,K=x.length;K>1&&(te=function(T){for(var L=[],x=[],E=[],M={},i={},D={},y=T.length,B=0;B<y;B++){var F=T[B],_=F[0],z=F[1],V=F[2];M[_]||(L.push(_),M[_]=!0),i[z]||(x.push(z),i[z]=!0),D[V]||(E.push(V),D[V]=!0)}var H=m(L),U=m(x),G=m(E),Y=Math.min(H,U,G);return isFinite(Y)?Y:1}(x));for(var Z=0;Z<K;Z++){var q=n.create();n.copy(q,x[Z]);var fe=[q],re=[],$=B(q),le=q;re.push($);var se=[],de=F(q,$),we=n.length(de);isFinite(we)&&we>Q&&(Q=we),se.push(we),_.push({points:fe,velocities:re,divergences:se});for(var Ee=0;Ee<100*E&&fe.length<E&&(Ce=void 0,Ie=void 0,Je=void 0,Ie=(Pe=q)[1],Je=Pe[2],!((Ce=Pe[0])<z||Ce>U||Ie<V||Ie>G||Je<H||Je>Y));){Ee++;var Me=n.clone($),Ne=n.squaredLength(Me);if(0===Ne)break;Ne>pe&&n.scale(Me,Me,ce/Math.sqrt(Ne)),n.add(Me,Me,q),$=B(Me),n.squaredDistance(le,Me)-pe>-1e-4*pe&&(fe.push(Me),le=Me,re.push($),de=F(Me,$),we=n.length(de),isFinite(we)&&we>Q&&(Q=we),se.push(we)),q=Me}}var Ve=h(_,T.colormap,Q,te);return i?Ve.tubeScale=i:(0===Q&&(Q=1),Ve.tubeScale=.5*M*te/Q),Ve};var g=r(9578),C=r(1140).createMesh;v.exports.createTubeMesh=function(T,L){return C(T,L,{shaders:g,traceType:"streamtube"})}},9054:function(v,w,r){var n=r(5158),c=r(6832),o=c(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),f=c(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),h=c(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),d=c(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);w.createShader=function(b){var p=n(b,o,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p.attributes.normal.location=2,p},w.createPickShader=function(b){var p=n(b,o,d,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p.attributes.normal.location=2,p},w.createContourShader=function(b){var p=n(b,h,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p},w.createPickContourShader=function(b){var p=n(b,h,d,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p}},3754:function(v,w,r){"use strict";v.exports=function fe(re){var $=re.gl,le=x($),se=M($),de=E($),we=i($),Ee=c($),Me=o($,[{buffer:Ee,size:4,stride:D,offset:0},{buffer:Ee,size:3,stride:D,offset:16},{buffer:Ee,size:3,stride:D,offset:28}]),Ne=c($),Ve=o($,[{buffer:Ne,size:4,stride:20,offset:0},{buffer:Ne,size:1,stride:20,offset:16}]),Pe=c($),Ce=o($,[{buffer:Pe,size:2,type:$.FLOAT}]),Ie=f($,1,z,$.RGBA,$.UNSIGNED_BYTE);Ie.minFilter=$.LINEAR,Ie.magFilter=$.LINEAR;var Je=new V($,[0,0],[[0,0,0],[0,0,0]],le,se,Ee,Me,Ie,de,we,Ne,Ve,Pe,Ce,[0,0,0]),Qe={levels:[[],[],[]]};for(var ze in re)Qe[ze]=re[ze];return Qe.colormap=Qe.colormap||"jet",Je.update(Qe),Je};var n=r(2288),c=r(5827),o=r(2944),f=r(8931),h=r(5306),d=r(9156),b=r(7498),p=r(7382),A=r(5050),m=r(4162),u=r(104),g=r(7437),C=r(5070),T=r(9144),L=r(9054),x=L.createShader,E=L.createContourShader,M=L.createPickShader,i=L.createPickContourShader,D=40,y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],B=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],F=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function _(re,$,le,se,de){this.position=re,this.index=$,this.uv=le,this.level=se,this.dataCoordinate=de}!function(){for(var re=0;re<3;++re){var $=F[re],se=(re+2)%3;$[(re+1)%3+0]=1,$[se+3]=1,$[re+6]=1}}();var z=256;function V(re,$,le,se,de,we,Ee,Me,Ne,Ve,Pe,Ce,Ie,Je,Qe){this.gl=re,this.shape=$,this.bounds=le,this.objectOffset=Qe,this.intensityBounds=[],this._shader=se,this._pickShader=de,this._coordinateBuffer=we,this._vao=Ee,this._colorMap=Me,this._contourShader=Ne,this._contourPickShader=Ve,this._contourBuffer=Pe,this._contourVAO=Ce,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new _([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Ie,this._dynamicVAO=Je,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[A(h.mallocFloat(1024),[0,0]),A(h.mallocFloat(1024),[0,0]),A(h.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var H=V.prototype;H.genColormap=function(re,$){var le=!1,se=p([d({colormap:re,nshades:z,format:"rgba"}).map(function(de,we){var Ee=$?function U(re,$){if(!$||!$.length)return 1;for(var le=0;le<$.length;++le){if($.length<2)return 1;if($[le][0]===re)return $[le][1];if($[le][0]>re&&le>0){var se=($[le][0]-re)/($[le][0]-$[le-1][0]);return $[le][1]*(1-se)+se*$[le-1][1]}}return 1}(we/255,$):de[3];return Ee<1&&(le=!0),[de[0],de[1],de[2],255*Ee]})]);return b.divseq(se,255),this.hasAlphaScale=le,se},H.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},H.isOpaque=function(){return!this.isTransparent()},H.pickSlots=1,H.setPickBase=function(re){this.pickId=re};var G=[0,0,0],Y={showSurface:!1,showContour:!1,projections:[y.slice(),y.slice(),y.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function ee(re,$){var le,se,de,we=$.axes&&$.axes.lastCubeProps.axis||G,Ee=$.showSurface,Me=$.showContour;for(le=0;le<3;++le)for(Ee=Ee||$.surfaceProject[le],se=0;se<3;++se)Me=Me||$.contourProject[le][se];for(le=0;le<3;++le){var Ne=Y.projections[le];for(se=0;se<16;++se)Ne[se]=0;for(se=0;se<4;++se)Ne[5*se]=1;Ne[5*le]=0,Ne[12+le]=$.axesBounds[+(we[le]>0)][le],u(Ne,re.model,Ne);var Ve=Y.clipBounds[le];for(de=0;de<2;++de)for(se=0;se<3;++se)Ve[de][se]=re.clipBounds[de][se];Ve[0][le]=-1e8,Ve[1][le]=1e8}return Y.showSurface=Ee,Y.showContour=Me,Y}var ue={model:y,view:y,projection:y,inverseModel:y.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ce=y.slice(),pe=[1,0,0,0,1,0,0,0,1];function te(re,$){re=re||{};var le=this.gl;le.disable(le.CULL_FACE),this._colorMap.bind(0);var se=ue;se.model=re.model||y,se.view=re.view||y,se.projection=re.projection||y,se.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],se.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],se.objectOffset=this.objectOffset,se.contourColor=this.contourColor[0],se.inverseModel=g(se.inverseModel,se.model);for(var de=0;de<2;++de)for(var we=se.clipBounds[de],Ee=0;Ee<3;++Ee)we[Ee]=Math.min(Math.max(this.clipBounds[de][Ee],-1e8),1e8);se.kambient=this.ambientLight,se.kdiffuse=this.diffuseLight,se.kspecular=this.specularLight,se.roughness=this.roughness,se.fresnel=this.fresnel,se.opacity=this.opacity,se.height=0,se.permutation=pe,se.vertexColor=this.vertexColor;var Me=ce;for(u(Me,se.view,se.model),u(Me,se.projection,Me),g(Me,Me),de=0;de<3;++de)se.eyePosition[de]=Me[12+de]/Me[15];var Ne=Me[15];for(de=0;de<3;++de)Ne+=this.lightPosition[de]*Me[4*de+3];for(de=0;de<3;++de){var Ve=Me[12+de];for(Ee=0;Ee<3;++Ee)Ve+=Me[4*Ee+de]*this.lightPosition[Ee];se.lightPosition[de]=Ve/Ne}var Pe=ee(se,this);if(Pe.showSurface){for(this._shader.bind(),this._shader.uniforms=se,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(le.TRIANGLES,this._vertexCount),de=0;de<3;++de)!this.surfaceProject[de]||!this.vertexCount||(this._shader.uniforms.model=Pe.projections[de],this._shader.uniforms.clipBounds=Pe.clipBounds[de],this._vao.draw(le.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Pe.showContour){var Ce=this._contourShader;se.kambient=1,se.kdiffuse=0,se.kspecular=0,se.opacity=1,Ce.bind(),Ce.uniforms=se;var Ie=this._contourVAO;for(Ie.bind(),de=0;de<3;++de)for(Ce.uniforms.permutation=F[de],le.lineWidth(this.contourWidth[de]*this.pixelRatio),Ee=0;Ee<this.contourLevels[de].length;++Ee)Ee===this.highlightLevel[de]?(Ce.uniforms.contourColor=this.highlightColor[de],Ce.uniforms.contourTint=this.highlightTint[de]):(0===Ee||Ee-1===this.highlightLevel[de])&&(Ce.uniforms.contourColor=this.contourColor[de],Ce.uniforms.contourTint=this.contourTint[de]),this._contourCounts[de][Ee]&&(Ce.uniforms.height=this.contourLevels[de][Ee],Ie.draw(le.LINES,this._contourCounts[de][Ee],this._contourOffsets[de][Ee]));for(de=0;de<3;++de)for(Ce.uniforms.model=Pe.projections[de],Ce.uniforms.clipBounds=Pe.clipBounds[de],Ee=0;Ee<3;++Ee)if(this.contourProject[de][Ee]){Ce.uniforms.permutation=F[Ee],le.lineWidth(this.contourWidth[Ee]*this.pixelRatio);for(var Je=0;Je<this.contourLevels[Ee].length;++Je)Je===this.highlightLevel[Ee]?(Ce.uniforms.contourColor=this.highlightColor[Ee],Ce.uniforms.contourTint=this.highlightTint[Ee]):(0===Je||Je-1===this.highlightLevel[Ee])&&(Ce.uniforms.contourColor=this.contourColor[Ee],Ce.uniforms.contourTint=this.contourTint[Ee]),this._contourCounts[Ee][Je]&&(Ce.uniforms.height=this.contourLevels[Ee][Je],Ie.draw(le.LINES,this._contourCounts[Ee][Je],this._contourOffsets[Ee][Je]))}for(Ie.unbind(),(Ie=this._dynamicVAO).bind(),de=0;de<3;++de)if(0!==this._dynamicCounts[de])for(Ce.uniforms.model=se.model,Ce.uniforms.clipBounds=se.clipBounds,Ce.uniforms.permutation=F[de],le.lineWidth(this.dynamicWidth[de]*this.pixelRatio),Ce.uniforms.contourColor=this.dynamicColor[de],Ce.uniforms.contourTint=this.dynamicTint[de],Ce.uniforms.height=this.dynamicLevel[de],Ie.draw(le.LINES,this._dynamicCounts[de],this._dynamicOffsets[de]),Ee=0;Ee<3;++Ee)this.contourProject[Ee][de]&&(Ce.uniforms.model=Pe.projections[Ee],Ce.uniforms.clipBounds=Pe.clipBounds[Ee],Ie.draw(le.LINES,this._dynamicCounts[de],this._dynamicOffsets[de]));Ie.unbind()}}H.draw=function(re){return te.call(this,re,!1)},H.drawTransparent=function(re){return te.call(this,re,!0)};var Q={model:y,view:y,projection:y,inverseModel:y,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function K(re,$){return Array.isArray(re)?[$(re[0]),$(re[1]),$(re[2])]:[$(re),$(re),$(re)]}function Z(re){return Array.isArray(re)?3===re.length?[re[0],re[1],re[2],1]:[re[0],re[1],re[2],re[3]]:[0,0,0,1]}function q(re){if(Array.isArray(re)){if(Array.isArray(re))return[Z(re[0]),Z(re[1]),Z(re[2])];var $=Z(re);return[$.slice(),$.slice(),$.slice()]}}H.drawPick=function(re){re=re||{};var $=this.gl;$.disable($.CULL_FACE);var le=Q;le.model=re.model||y,le.view=re.view||y,le.projection=re.projection||y,le.shape=this._field[2].shape,le.pickId=this.pickId/255,le.lowerBound=this.bounds[0],le.upperBound=this.bounds[1],le.objectOffset=this.objectOffset,le.permutation=pe;for(var se=0;se<2;++se)for(var de=le.clipBounds[se],we=0;we<3;++we)de[we]=Math.min(Math.max(this.clipBounds[se][we],-1e8),1e8);var Ee=ee(le,this);if(Ee.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=le,this._vao.bind(),this._vao.draw($.TRIANGLES,this._vertexCount),se=0;se<3;++se)this.surfaceProject[se]&&(this._pickShader.uniforms.model=Ee.projections[se],this._pickShader.uniforms.clipBounds=Ee.clipBounds[se],this._vao.draw($.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ee.showContour){var Me=this._contourPickShader;Me.bind(),Me.uniforms=le;var Ne=this._contourVAO;for(Ne.bind(),we=0;we<3;++we)for($.lineWidth(this.contourWidth[we]*this.pixelRatio),Me.uniforms.permutation=F[we],se=0;se<this.contourLevels[we].length;++se)this._contourCounts[we][se]&&(Me.uniforms.height=this.contourLevels[we][se],Ne.draw($.LINES,this._contourCounts[we][se],this._contourOffsets[we][se]));for(se=0;se<3;++se)for(Me.uniforms.model=Ee.projections[se],Me.uniforms.clipBounds=Ee.clipBounds[se],we=0;we<3;++we)if(this.contourProject[se][we]){Me.uniforms.permutation=F[we],$.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var Ve=0;Ve<this.contourLevels[we].length;++Ve)this._contourCounts[we][Ve]&&(Me.uniforms.height=this.contourLevels[we][Ve],Ne.draw($.LINES,this._contourCounts[we][Ve],this._contourOffsets[we][Ve]))}Ne.unbind()}},H.pick=function(re){if(!re||re.id!==this.pickId)return null;var $=this._field[2].shape,le=this._pickResult,se=$[0]*(re.value[0]+(re.value[2]>>4)/16)/255,de=Math.floor(se),we=se-de,Ee=$[1]*(re.value[1]+(15&re.value[2])/16)/255,Me=Math.floor(Ee),Ne=Ee-Me;de+=1,Me+=1;var Ve=le.position;Ve[0]=Ve[1]=Ve[2]=0;for(var Pe=0;Pe<2;++Pe)for(var Ce=Pe?we:1-we,Ie=0;Ie<2;++Ie)for(var Qe=de+Pe,ze=Me+Ie,Ke=Ce*(Ie?Ne:1-Ne),ut=0;ut<3;++ut)Ve[ut]+=this._field[ut].get(Qe,ze)*Ke;for(var ot=this._pickResult.level,We=0;We<3;++We)if(ot[We]=C.le(this.contourLevels[We],Ve[We]),ot[We]<0)this.contourLevels[We].length>0&&(ot[We]=0);else if(ot[We]<this.contourLevels[We].length-1){var lt=this.contourLevels[We][ot[We]+1];Math.abs(this.contourLevels[We][ot[We]]-Ve[We])>Math.abs(lt-Ve[We])&&(ot[We]+=1)}for(le.index[0]=we<.5?de:de+1,le.index[1]=Ne<.5?Me:Me+1,le.uv[0]=se/$[0],le.uv[1]=Ee/$[1],ut=0;ut<3;++ut)le.dataCoordinate[ut]=this._field[ut].get(le.index[0],le.index[1]);return le},H.padField=function(re,$){var le=$.shape.slice(),se=re.shape.slice();b.assign(re.lo(1,1).hi(le[0],le[1]),$),b.assign(re.lo(1).hi(le[0],1),$.hi(le[0],1)),b.assign(re.lo(1,se[1]-1).hi(le[0],1),$.lo(0,le[1]-1).hi(le[0],1)),b.assign(re.lo(0,1).hi(1,le[1]),$.hi(1)),b.assign(re.lo(se[0]-1,1).hi(1,le[1]),$.lo(le[0]-1)),re.set(0,0,$.get(0,0)),re.set(0,se[1]-1,$.get(0,le[1]-1)),re.set(se[0]-1,0,$.get(le[0]-1,0)),re.set(se[0]-1,se[1]-1,$.get(le[0]-1,le[1]-1))},H.update=function(re){this.objectOffset=(re=re||{}).objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in re&&(this.contourWidth=K(re.contourWidth,Number)),"showContour"in re&&(this.showContour=K(re.showContour,Boolean)),"showSurface"in re&&(this.showSurface=!!re.showSurface),"contourTint"in re&&(this.contourTint=K(re.contourTint,Boolean)),"contourColor"in re&&(this.contourColor=q(re.contourColor)),"contourProject"in re&&(this.contourProject=K(re.contourProject,function(kt){return K(kt,Boolean)})),"surfaceProject"in re&&(this.surfaceProject=re.surfaceProject),"dynamicColor"in re&&(this.dynamicColor=q(re.dynamicColor)),"dynamicTint"in re&&(this.dynamicTint=K(re.dynamicTint,Number)),"dynamicWidth"in re&&(this.dynamicWidth=K(re.dynamicWidth,Number)),"opacity"in re&&(this.opacity=re.opacity),"opacityscale"in re&&(this.opacityscale=re.opacityscale),"colorBounds"in re&&(this.colorBounds=re.colorBounds),"vertexColor"in re&&(this.vertexColor=re.vertexColor?1:0),"colormap"in re&&this._colorMap.setPixels(this.genColormap(re.colormap,this.opacityscale));var $=re.field||re.coords&&re.coords[2]||null,le=!1;if($||($=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in re||"coords"in re){var se=($.shape[0]+2)*($.shape[1]+2);se>this._field[2].data.length&&(h.freeFloat(this._field[2].data),this._field[2].data=h.mallocFloat(n.nextPow2(se))),this._field[2]=A(this._field[2].data,[$.shape[0]+2,$.shape[1]+2]),this.padField(this._field[2],$),this.shape=$.shape.slice();for(var de=this.shape,we=0;we<2;++we)this._field[2].size>this._field[we].data.length&&(h.freeFloat(this._field[we].data),this._field[we].data=h.mallocFloat(this._field[2].size)),this._field[we]=A(this._field[we].data,[de[0]+2,de[1]+2]);if(re.coords){var Ee=re.coords;if(!Array.isArray(Ee)||3!==Ee.length)throw new Error("gl-surface: invalid coordinates for x/y");for(we=0;we<2;++we){var Me=Ee[we];for(Ie=0;Ie<2;++Ie)if(Me.shape[Ie]!==de[Ie])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[we],Me)}}else if(re.ticks){var Ne=re.ticks;if(!Array.isArray(Ne)||2!==Ne.length)throw new Error("gl-surface: invalid ticks");for(we=0;we<2;++we){var Ve=Ne[we];if((Array.isArray(Ve)||Ve.length)&&(Ve=A(Ve)),Ve.shape[0]!==de[we])throw new Error("gl-surface: invalid tick length");var Pe=A(Ve.data,de);Pe.stride[we]=Ve.stride[0],Pe.stride[1^we]=0,this.padField(this._field[we],Pe)}}else{for(we=0;we<2;++we){var Ce=[0,0];Ce[we]=1,this._field[we]=A(this._field[we].data,[de[0]+2,de[1]+2],Ce,0)}this._field[0].set(0,0,0);for(var Ie=0;Ie<de[0];++Ie)this._field[0].set(Ie+1,0,Ie);for(this._field[0].set(de[0]+1,0,de[0]-1),this._field[1].set(0,0,0),Ie=0;Ie<de[1];++Ie)this._field[1].set(0,Ie+1,Ie);this._field[1].set(0,de[1]+1,de[1]-1)}var Je=this._field,Qe=A(h.mallocFloat(3*Je[2].size*2),[3,de[0]+2,de[1]+2,2]);for(we=0;we<3;++we)T(Qe.pick(we),Je[we],"mirror");var ze=A(h.mallocFloat(3*Je[2].size),[de[0]+2,de[1]+2,3]);for(we=0;we<de[0]+2;++we)for(Ie=0;Ie<de[1]+2;++Ie){var Ke=Qe.get(0,we,Ie,0),ut=Qe.get(0,we,Ie,1),ot=Qe.get(1,we,Ie,0),We=Qe.get(1,we,Ie,1),je=Qe.get(2,we,Ie,0),lt=Qe.get(2,we,Ie,1),vt=ot*lt-We*je,pt=je*ut-lt*Ke,St=Ke*We-ut*ot,Ct=Math.sqrt(vt*vt+pt*pt+St*St);Ct<1e-8?(Ct=Math.max(Math.abs(vt),Math.abs(pt),Math.abs(St)))<1e-8?(St=1,pt=vt=0,Ct=1):Ct=1/Ct:Ct=1/Math.sqrt(Ct),ze.set(we,Ie,0,vt*Ct),ze.set(we,Ie,1,pt*Ct),ze.set(we,Ie,2,St*Ct)}h.free(Qe.data);var _t=[1/0,1/0,1/0],nt=[-1/0,-1/0,-1/0],ke=1/0,Re=-1/0,He=h.mallocFloat(n.nextPow2((de[0]-1)*(de[1]-1)*6*10)),Ye=0,Ue=0;for(we=0;we<de[0]-1;++we)e:for(Ie=0;Ie<de[1]-1;++Ie){for(var De=0;De<2;++De)for(var ge=0;ge<2;++ge)for(var Te=0;Te<3;++Te){var _e=this._field[Te].get(1+we+De,1+Ie+ge);if(isNaN(_e)||!isFinite(_e))continue e}for(Te=0;Te<6;++Te){var et=we+B[Te][0],ft=Ie+B[Te][1],gt=this._field[0].get(et+1,ft+1),Kt=this._field[1].get(et+1,ft+1);_e=this._field[2].get(et+1,ft+1),vt=ze.get(et+1,ft+1,0),pt=ze.get(et+1,ft+1,1),St=ze.get(et+1,ft+1,2),re.intensity&&(ir=re.intensity.get(et,ft));var ir=re.intensity?re.intensity.get(et,ft):_e+this.objectOffset[2];He[Ye++]=et,He[Ye++]=ft,He[Ye++]=gt,He[Ye++]=Kt,He[Ye++]=_e,He[Ye++]=0,He[Ye++]=ir,He[Ye++]=vt,He[Ye++]=pt,He[Ye++]=St,_t[0]=Math.min(_t[0],gt+this.objectOffset[0]),_t[1]=Math.min(_t[1],Kt+this.objectOffset[1]),_t[2]=Math.min(_t[2],_e+this.objectOffset[2]),ke=Math.min(ke,ir),nt[0]=Math.max(nt[0],gt+this.objectOffset[0]),nt[1]=Math.max(nt[1],Kt+this.objectOffset[1]),nt[2]=Math.max(nt[2],_e+this.objectOffset[2]),Re=Math.max(Re,ir),Ue+=1}}for(re.intensityBounds&&(ke=+re.intensityBounds[0],Re=+re.intensityBounds[1]),we=6;we<Ye;we+=10)He[we]=(He[we]-ke)/(Re-ke);this._vertexCount=Ue,this._coordinateBuffer.update(He.subarray(0,Ye)),h.freeFloat(He),h.free(ze.data),this.bounds=[_t,nt],this.intensity=re.intensity||this._field[2],(this.intensityBounds[0]!==ke||this.intensityBounds[1]!==Re)&&(le=!0),this.intensityBounds=[ke,Re]}if("levels"in re){var Lt=re.levels;for(Lt=Array.isArray(Lt[0])?Lt.slice():[[],[],Lt],we=0;we<3;++we)Lt[we]=Lt[we].slice(),Lt[we].sort(function(kt,Xt){return kt-Xt});for(we=0;we<3;++we)for(Ie=0;Ie<Lt[we].length;++Ie)Lt[we][Ie]-=this.objectOffset[we];e:for(we=0;we<3;++we){if(Lt[we].length!==this.contourLevels[we].length){le=!0;break}for(Ie=0;Ie<Lt[we].length;++Ie)if(Lt[we][Ie]!==this.contourLevels[we][Ie]){le=!0;break e}}this.contourLevels=Lt}if(le){Je=this._field,de=this.shape;for(var Ut=[],Qt=0;Qt<3;++Qt){var Cr=this.contourLevels[Qt],wt=[],$t=[],rr=[0,0,0];for(we=0;we<Cr.length;++we){var Lr=m(this._field[Qt],Cr[we]);wt.push(Ut.length/5|0),Ue=0;e:for(Ie=0;Ie<Lr.cells.length;++Ie){var mr=Lr.cells[Ie];for(Te=0;Te<2;++Te){var bt=Lr.positions[mr[Te]],ct=bt[0],At=0|Math.floor(ct),It=ct-At,Ft=bt[1],Rt=0|Math.floor(Ft),Gt=Ft-Rt,jt=!1;t:for(var er=0;er<3;++er){rr[er]=0;var dr=(Qt+er+1)%3;for(De=0;De<2;++De){var hr=De?It:1-It;for(et=0|Math.min(Math.max(At+De,0),de[0]),ge=0;ge<2;++ge){var wr=ge?Gt:1-Gt;if(ft=0|Math.min(Math.max(Rt+ge,0),de[1]),_e=er<2?this._field[dr].get(et,ft):(this.intensity.get(et,ft)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(_e)||isNaN(_e)){jt=!0;break t}rr[er]+=hr*wr*_e}}}if(jt){if(Te>0){for(var Ze=0;Ze<5;++Ze)Ut.pop();Ue-=1}continue e}Ut.push(rr[0],rr[1],bt[0],bt[1],rr[2]),Ue+=1}}$t.push(Ue)}this._contourOffsets[Qt]=wt,this._contourCounts[Qt]=$t}var zt=h.mallocFloat(Ut.length);for(we=0;we<Ut.length;++we)zt[we]=Ut[we];this._contourBuffer.update(zt),h.freeFloat(zt)}},H.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var re=0;re<3;++re)h.freeFloat(this._field[re].data)},H.highlight=function(re){var $,le;if(!re)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for($=0;$<3;++$)this.highlightLevel[$]=this.enableHighlight[$]?re.level[$]:-1;for(le=this.snapToData?re.dataCoordinate:re.position,$=0;$<3;++$)le[$]-=this.objectOffset[$];if(this.enableDynamic[0]&&le[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&le[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&le[2]!==this.dynamicLevel[2]){for(var se=0,de=this.shape,we=h.mallocFloat(12*de[0]*de[1]),Ee=0;Ee<3;++Ee)if(this.enableDynamic[Ee]){this.dynamicLevel[Ee]=le[Ee];var Pe=this._field[(Ee+1)%3],Ce=this._field[(Ee+2)%3],Ie=m(this._field[Ee],le[Ee]),Je=Ie.cells,Qe=Ie.positions;for(this._dynamicOffsets[Ee]=se,$=0;$<Je.length;++$)for(var ze=Je[$],Ke=0;Ke<2;++Ke){var ut=Qe[ze[Ke]],ot=+ut[0],We=0|ot,je=0|Math.min(We+1,de[0]),lt=ot-We,vt=1-lt,pt=+ut[1],St=0|pt,Ct=0|Math.min(St+1,de[1]),_t=pt-St,nt=1-_t,ke=vt*nt,Re=vt*_t,Be=lt*nt,He=lt*_t,Ye=ke*Pe.get(We,St)+Re*Pe.get(We,Ct)+Be*Pe.get(je,St)+He*Pe.get(je,Ct),Ue=ke*Ce.get(We,St)+Re*Ce.get(We,Ct)+Be*Ce.get(je,St)+He*Ce.get(je,Ct);if(isNaN(Ye)||isNaN(Ue)){Ke&&(se-=1);break}we[2*se+0]=Ye,we[2*se+1]=Ue,se+=1}this._dynamicCounts[Ee]=se-this._dynamicOffsets[Ee]}else this.dynamicLevel[Ee]=NaN,this._dynamicCounts[Ee]=0;this._dynamicBuffer.update(we.subarray(0,2*se)),h.freeFloat(we)}}},8931:function(v,w,r){"use strict";var n=r(5050),c=r(7498),o=r(5306);v.exports=function i(D){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||function b(D){f=[D.LINEAR,D.NEAREST_MIPMAP_LINEAR,D.LINEAR_MIPMAP_NEAREST,D.LINEAR_MIPMAP_NEAREST],h=[D.NEAREST,D.LINEAR,D.NEAREST_MIPMAP_NEAREST,D.NEAREST_MIPMAP_LINEAR,D.LINEAR_MIPMAP_NEAREST,D.LINEAR_MIPMAP_LINEAR],d=[D.REPEAT,D.CLAMP_TO_EDGE,D.MIRRORED_REPEAT]}(D),"number"==typeof arguments[1])return x(D,arguments[1],arguments[2],arguments[3]||D.RGBA,arguments[4]||D.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return x(D,0|arguments[1][0],0|arguments[1][1],arguments[2]||D.RGBA,arguments[3]||D.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var y=arguments[1],B=p(y)?y:y.raw;if(B)return function E(D,y,B,F,_,z){var V=L(D);return D.texImage2D(D.TEXTURE_2D,0,_,_,z,y),new u(D,V,B,F,_,z)}(D,B,0|y.width,0|y.height,arguments[2]||D.RGBA,arguments[3]||D.UNSIGNED_BYTE);if(y.shape&&y.data&&y.stride)return function M(D,y){var B=y.dtype,F=y.shape.slice(),_=D.getParameter(D.MAX_TEXTURE_SIZE);if(F[0]<0||F[0]>_||F[1]<0||F[1]>_)throw new Error("gl-texture2d: Invalid texture size");var z=C(F,y.stride.slice()),V=0;"float32"===B?V=D.FLOAT:"float64"===B?(V=D.FLOAT,z=!1,B="float32"):"uint8"===B?V=D.UNSIGNED_BYTE:(V=D.UNSIGNED_BYTE,z=!1,B="uint8");var H=0;if(2===F.length)H=D.LUMINANCE,y=n(y.data,F=[F[0],F[1],1],[y.stride[0],y.stride[1],1],y.offset);else{if(3!==F.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===F[2])H=D.ALPHA;else if(2===F[2])H=D.LUMINANCE_ALPHA;else if(3===F[2])H=D.RGB;else{if(4!==F[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");H=D.RGBA}}V===D.FLOAT&&!D.getExtension("OES_texture_float")&&(V=D.UNSIGNED_BYTE,z=!1);var U,G,Y=y.size;if(z)U=0===y.offset&&y.data.length===Y?y.data:y.data.subarray(y.offset,y.offset+Y);else{var ee=[F[2],F[2]*F[0],1];G=o.malloc(Y,B);var ue=n(G,F,ee,0);"float32"!==B&&"float64"!==B||V!==D.UNSIGNED_BYTE?c.assign(ue,y):A(ue,y),U=G.subarray(0,Y)}var ce=L(D);return D.texImage2D(D.TEXTURE_2D,0,H,F[0],F[1],0,H,V,U),z||o.free(G),new u(D,ce,F[0],F[1],H,V)}(D,y)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var f=null,h=null,d=null;function p(D){return typeof HTMLCanvasElement<"u"&&D instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&D instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&D instanceof HTMLVideoElement||typeof ImageData<"u"&&D instanceof ImageData}var A=function(D,y){c.muls(D,y,255)};function m(D,y,B){var F=D.gl,_=F.getParameter(F.MAX_TEXTURE_SIZE);if(y<0||y>_||B<0||B>_)throw new Error("gl-texture2d: Invalid texture size");return D._shape=[y,B],D.bind(),F.texImage2D(F.TEXTURE_2D,0,D.format,y,B,0,D.format,D.type,null),D._mipLevels=[0],D}function u(D,y,B,F,_,z){this.gl=D,this.handle=y,this.format=_,this.type=z,this._shape=[B,F],this._mipLevels=[0],this._magFilter=D.NEAREST,this._minFilter=D.NEAREST,this._wrapS=D.CLAMP_TO_EDGE,this._wrapT=D.CLAMP_TO_EDGE,this._anisoSamples=1;var V=this,H=[this._wrapS,this._wrapT];Object.defineProperties(H,[{get:function(){return V._wrapS},set:function(G){return V.wrapS=G}},{get:function(){return V._wrapT},set:function(G){return V.wrapT=G}}]),this._wrapVector=H;var U=[this._shape[0],this._shape[1]];Object.defineProperties(U,[{get:function(){return V._shape[0]},set:function(G){return V.width=G}},{get:function(){return V._shape[1]},set:function(G){return V.height=G}}]),this._shapeVector=U}var g=u.prototype;function C(D,y){return 3===D.length?1===y[2]&&y[1]===D[0]*D[2]&&y[0]===D[2]:1===y[0]&&y[1]===D[0]}function L(D){var y=D.createTexture();return D.bindTexture(D.TEXTURE_2D,y),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,D.NEAREST),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,D.NEAREST),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,D.CLAMP_TO_EDGE),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,D.CLAMP_TO_EDGE),y}function x(D,y,B,F,_){var z=D.getParameter(D.MAX_TEXTURE_SIZE);if(y<0||y>z||B<0||B>z)throw new Error("gl-texture2d: Invalid texture shape");if(_===D.FLOAT&&!D.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var V=L(D);return D.texImage2D(D.TEXTURE_2D,0,F,y,B,0,F,_,null),new u(D,V,y,B,F,_)}Object.defineProperties(g,{minFilter:{get:function(){return this._minFilter},set:function(D){this.bind();var y=this.gl;if(this.type===y.FLOAT&&f.indexOf(D)>=0&&(y.getExtension("OES_texture_float_linear")||(D=y.NEAREST)),h.indexOf(D)<0)throw new Error("gl-texture2d: Unknown filter mode "+D);return y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,D),this._minFilter=D}},magFilter:{get:function(){return this._magFilter},set:function(D){this.bind();var y=this.gl;if(this.type===y.FLOAT&&f.indexOf(D)>=0&&(y.getExtension("OES_texture_float_linear")||(D=y.NEAREST)),h.indexOf(D)<0)throw new Error("gl-texture2d: Unknown filter mode "+D);return y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,D),this._magFilter=D}},mipSamples:{get:function(){return this._anisoSamples},set:function(D){var y=this._anisoSamples;if(this._anisoSamples=0|Math.max(D,1),y!==this._anisoSamples){var B=this.gl.getExtension("EXT_texture_filter_anisotropic");B&&this.gl.texParameterf(this.gl.TEXTURE_2D,B.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(D){if(this.bind(),d.indexOf(D)<0)throw new Error("gl-texture2d: Unknown wrap mode "+D);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,D),this._wrapS=D}},wrapT:{get:function(){return this._wrapT},set:function(D){if(this.bind(),d.indexOf(D)<0)throw new Error("gl-texture2d: Unknown wrap mode "+D);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,D),this._wrapT=D}},wrap:{get:function(){return this._wrapVector},set:function(D){if(Array.isArray(D)||(D=[D,D]),2!==D.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var y=0;y<2;++y)if(d.indexOf(D[y])<0)throw new Error("gl-texture2d: Unknown wrap mode "+D);this._wrapS=D[0],this._wrapT=D[1];var B=this.gl;return this.bind(),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_S,this._wrapS),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_T,this._wrapT),D}},shape:{get:function(){return this._shapeVector},set:function(D){if(Array.isArray(D)){if(2!==D.length)throw new Error("gl-texture2d: Invalid texture shape")}else D=[0|D,0|D];return m(this,0|D[0],0|D[1]),[0|D[0],0|D[1]]}},width:{get:function(){return this._shape[0]},set:function(D){return m(this,D|=0,this._shape[1]),D}},height:{get:function(){return this._shape[1]},set:function(D){return m(this,this._shape[0],D|=0),D}}}),g.bind=function(D){var y=this.gl;return void 0!==D&&y.activeTexture(y.TEXTURE0+(0|D)),y.bindTexture(y.TEXTURE_2D,this.handle),void 0!==D?0|D:y.getParameter(y.ACTIVE_TEXTURE)-y.TEXTURE0},g.dispose=function(){this.gl.deleteTexture(this.handle)},g.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var D=Math.min(this._shape[0],this._shape[1]),y=0;D>0;++y,D>>>=1)this._mipLevels.indexOf(y)<0&&this._mipLevels.push(y)},g.setPixels=function(D,y,B,F){var _=this.gl;this.bind(),Array.isArray(y)?(F=B,B=0|y[1],y=0|y[0]):(y=y||0,B=B||0),F=F||0;var z=p(D)?D:D.raw;if(z)this._mipLevels.indexOf(F)<0?(_.texImage2D(_.TEXTURE_2D,0,this.format,this.format,this.type,z),this._mipLevels.push(F)):_.texSubImage2D(_.TEXTURE_2D,F,y,B,this.format,this.type,z);else{if(!(D.shape&&D.stride&&D.data))throw new Error("gl-texture2d: Unsupported data type");if(D.shape.length<2||y+D.shape[1]>this._shape[1]>>>F||B+D.shape[0]>this._shape[0]>>>F||y<0||B<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function T(D,y,B,F,_,z,V,H){var U=H.dtype,G=H.shape.slice();if(G.length<2||G.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var Y=0,ee=0,ue=C(G,H.stride.slice());if("float32"===U?Y=D.FLOAT:"float64"===U?(Y=D.FLOAT,ue=!1,U="float32"):"uint8"===U?Y=D.UNSIGNED_BYTE:(Y=D.UNSIGNED_BYTE,ue=!1,U="uint8"),2===G.length)ee=D.LUMINANCE,H=n(H.data,G=[G[0],G[1],1],[H.stride[0],H.stride[1],1],H.offset);else{if(3!==G.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===G[2])ee=D.ALPHA;else if(2===G[2])ee=D.LUMINANCE_ALPHA;else if(3===G[2])ee=D.RGB;else{if(4!==G[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");ee=D.RGBA}}if((ee===D.LUMINANCE||ee===D.ALPHA)&&(_===D.LUMINANCE||_===D.ALPHA)&&(ee=_),ee!==_)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var pe=H.size,te=V.indexOf(F)<0;if(te&&V.push(F),Y===z&&ue)0===H.offset&&H.data.length===pe?te?D.texImage2D(D.TEXTURE_2D,F,_,G[0],G[1],0,_,z,H.data):D.texSubImage2D(D.TEXTURE_2D,F,y,B,G[0],G[1],_,z,H.data):te?D.texImage2D(D.TEXTURE_2D,F,_,G[0],G[1],0,_,z,H.data.subarray(H.offset,H.offset+pe)):D.texSubImage2D(D.TEXTURE_2D,F,y,B,G[0],G[1],_,z,H.data.subarray(H.offset,H.offset+pe));else{var Q;Q=z===D.FLOAT?o.mallocFloat32(pe):o.mallocUint8(pe);var K=n(Q,G,[G[2],G[2]*G[0],1]);Y===D.FLOAT&&z===D.UNSIGNED_BYTE?A(K,H):c.assign(K,H),te?D.texImage2D(D.TEXTURE_2D,F,_,G[0],G[1],0,_,z,Q.subarray(0,pe)):D.texSubImage2D(D.TEXTURE_2D,F,y,B,G[0],G[1],_,z,Q.subarray(0,pe)),z===D.FLOAT?o.freeFloat32(Q):o.freeUint8(Q)}}(_,y,B,F,this.format,this.type,this._mipLevels,D)}}},3056:function(v){"use strict";v.exports=function w(r,n,c){n?n.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var o=0|r.getParameter(r.MAX_VERTEX_ATTRIBS);if(c){if(c.length>o)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<c.length;++f){var h=c[f];if(h.buffer){var b=h.size||4,p=h.type||r.FLOAT,A=!!h.normalized,m=h.stride||0,u=h.offset||0;h.buffer.bind(),r.enableVertexAttribArray(f),r.vertexAttribPointer(f,b,p,A,m,u)}else{if("number"==typeof h)r.vertexAttrib1f(f,h);else if(1===h.length)r.vertexAttrib1f(f,h[0]);else if(2===h.length)r.vertexAttrib2f(f,h[0],h[1]);else if(3===h.length)r.vertexAttrib3f(f,h[0],h[1],h[2]);else{if(4!==h.length)throw new Error("gl-vao: Invalid vertex attribute");r.vertexAttrib4f(f,h[0],h[1],h[2],h[3])}r.disableVertexAttribArray(f)}}for(;f<o;++f)r.disableVertexAttribArray(f)}else for(r.bindBuffer(r.ARRAY_BUFFER,null),f=0;f<o;++f)r.disableVertexAttribArray(f)}},7220:function(v,w,r){"use strict";var n=r(3056);function c(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}c.prototype.bind=function(){n(this.gl,this._elements,this._attributes)},c.prototype.update=function(f,h,d){this._elements=h,this._attributes=f,this._elementsType=d||this.gl.UNSIGNED_SHORT},c.prototype.dispose=function(){},c.prototype.unbind=function(){},c.prototype.draw=function(f,h,d){d=d||0;var b=this.gl;this._elements?b.drawElements(f,h,this._elementsType,d):b.drawArrays(f,d,h)},v.exports=function o(f){return new c(f)}},3778:function(v,w,r){"use strict";var n=r(3056);function c(h,d,b,p,A,m){this.location=h,this.dimension=d,this.a=b,this.b=p,this.c=A,this.d=m}function o(h,d,b){this.gl=h,this._ext=d,this.handle=b,this._attribs=[],this._useElements=!1,this._elementsType=h.UNSIGNED_SHORT}c.prototype.bind=function(h){switch(this.dimension){case 1:h.vertexAttrib1f(this.location,this.a);break;case 2:h.vertexAttrib2f(this.location,this.a,this.b);break;case 3:h.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:h.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},o.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var h=0;h<this._attribs.length;++h)this._attribs[h].bind(this.gl)},o.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},o.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},o.prototype.update=function(h,d,b){if(this.bind(),n(this.gl,d,h),this.unbind(),this._attribs.length=0,h)for(var p=0;p<h.length;++p){var A=h[p];"number"==typeof A?this._attribs.push(new c(p,1,A)):Array.isArray(A)&&this._attribs.push(new c(p,A.length,A[0],A[1],A[2],A[3]))}this._useElements=!!d,this._elementsType=b||this.gl.UNSIGNED_SHORT},o.prototype.draw=function(h,d,b){b=b||0;var p=this.gl;this._useElements?p.drawElements(h,d,this._elementsType,b):p.drawArrays(h,b,d)},v.exports=function f(h,d){return new o(h,d,d.createVertexArrayOES())}},2944:function(v,w,r){"use strict";var n=r(3778),c=r(7220);function o(h){this.bindVertexArrayOES=h.bindVertexArray.bind(h),this.createVertexArrayOES=h.createVertexArray.bind(h),this.deleteVertexArrayOES=h.deleteVertexArray.bind(h)}v.exports=function f(h,d,b,p){var m,A=h.createVertexArray?new o(h):h.getExtension("OES_vertex_array_object");return(m=A?n(h,A):c(h)).update(d,b,p),m}},2598:function(v){v.exports=function w(r,n,c){return r[0]=n[0]+c[0],r[1]=n[1]+c[1],r[2]=n[2]+c[2],r}},5879:function(v,w,r){v.exports=function f(h,d){var b=n(h[0],h[1],h[2]),p=n(d[0],d[1],d[2]);c(b,b),c(p,p);var A=o(b,p);return A>1?0:Math.acos(A)};var n=r(5415),c=r(899),o=r(9305)},8827:function(v){v.exports=function w(r,n){return r[0]=Math.ceil(n[0]),r[1]=Math.ceil(n[1]),r[2]=Math.ceil(n[2]),r}},7622:function(v){v.exports=function w(r){var n=new Float32Array(3);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n}},8782:function(v){v.exports=function w(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r}},8501:function(v){v.exports=function w(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},903:function(v){v.exports=function w(r,n,c){var o=n[0],f=n[1],h=n[2],d=c[0],b=c[1],p=c[2];return r[0]=f*p-h*b,r[1]=h*d-o*p,r[2]=o*b-f*d,r}},5981:function(v,w,r){v.exports=r(8288)},8288:function(v){v.exports=function w(r,n){var c=n[0]-r[0],o=n[1]-r[1],f=n[2]-r[2];return Math.sqrt(c*c+o*o+f*f)}},8629:function(v,w,r){v.exports=r(7979)},7979:function(v){v.exports=function w(r,n,c){return r[0]=n[0]/c[0],r[1]=n[1]/c[1],r[2]=n[2]/c[2],r}},9305:function(v){v.exports=function w(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]}},154:function(v){v.exports=1e-6},4932:function(v,w,r){v.exports=function c(o,f){var h=o[0],d=o[1],b=o[2],p=f[0],A=f[1],m=f[2];return Math.abs(h-p)<=n*Math.max(1,Math.abs(h),Math.abs(p))&&Math.abs(d-A)<=n*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(b-m)<=n*Math.max(1,Math.abs(b),Math.abs(m))};var n=r(154)},5777:function(v){v.exports=function w(r,n){return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]}},3306:function(v){v.exports=function w(r,n){return r[0]=Math.floor(n[0]),r[1]=Math.floor(n[1]),r[2]=Math.floor(n[2]),r}},7447:function(v,w,r){v.exports=function c(o,f,h,d,b,p){var A,m;for(f||(f=3),h||(h=0),m=d?Math.min(d*f+h,o.length):o.length,A=h;A<m;A+=f)n[0]=o[A],n[1]=o[A+1],n[2]=o[A+2],b(n,n,p),o[A]=n[0],o[A+1]=n[1],o[A+2]=n[2];return o};var n=r(8501)()},5415:function(v){v.exports=function w(r,n,c){var o=new Float32Array(3);return o[0]=r,o[1]=n,o[2]=c,o}},2858:function(v,w,r){v.exports={EPSILON:r(154),create:r(8501),clone:r(7622),angle:r(5879),fromValues:r(5415),copy:r(8782),set:r(831),equals:r(4932),exactEquals:r(5777),add:r(2598),subtract:r(911),sub:r(8921),multiply:r(105),mul:r(5733),divide:r(7979),div:r(8629),min:r(3605),max:r(1716),floor:r(3306),ceil:r(8827),round:r(1624),scale:r(5685),scaleAndAdd:r(6722),distance:r(8288),dist:r(5981),squaredDistance:r(6403),sqrDist:r(5294),length:r(4693),len:r(1468),squaredLength:r(4337),sqrLen:r(3303),negate:r(435),inverse:r(2073),normalize:r(899),dot:r(9305),cross:r(903),lerp:r(1868),random:r(6660),transformMat4:r(3255),transformMat3:r(9908),transformQuat:r(6568),rotateX:r(392),rotateY:r(3222),rotateZ:r(3388),forEach:r(7447)}},2073:function(v){v.exports=function w(r,n){return r[0]=1/n[0],r[1]=1/n[1],r[2]=1/n[2],r}},1468:function(v,w,r){v.exports=r(4693)},4693:function(v){v.exports=function w(r){var n=r[0],c=r[1],o=r[2];return Math.sqrt(n*n+c*c+o*o)}},1868:function(v){v.exports=function w(r,n,c,o){var f=n[0],h=n[1],d=n[2];return r[0]=f+o*(c[0]-f),r[1]=h+o*(c[1]-h),r[2]=d+o*(c[2]-d),r}},1716:function(v){v.exports=function w(r,n,c){return r[0]=Math.max(n[0],c[0]),r[1]=Math.max(n[1],c[1]),r[2]=Math.max(n[2],c[2]),r}},3605:function(v){v.exports=function w(r,n,c){return r[0]=Math.min(n[0],c[0]),r[1]=Math.min(n[1],c[1]),r[2]=Math.min(n[2],c[2]),r}},5733:function(v,w,r){v.exports=r(105)},105:function(v){v.exports=function w(r,n,c){return r[0]=n[0]*c[0],r[1]=n[1]*c[1],r[2]=n[2]*c[2],r}},435:function(v){v.exports=function w(r,n){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r}},899:function(v){v.exports=function w(r,n){var c=n[0],o=n[1],f=n[2],h=c*c+o*o+f*f;return h>0&&(h=1/Math.sqrt(h),r[0]=n[0]*h,r[1]=n[1]*h,r[2]=n[2]*h),r}},6660:function(v){v.exports=function w(r,n){n=n||1;var c=2*Math.random()*Math.PI,o=2*Math.random()-1,f=Math.sqrt(1-o*o)*n;return r[0]=Math.cos(c)*f,r[1]=Math.sin(c)*f,r[2]=o*n,r}},392:function(v){v.exports=function w(r,n,c,o){var f=c[1],h=c[2],d=n[1]-f,b=n[2]-h,p=Math.sin(o),A=Math.cos(o);return r[0]=n[0],r[1]=f+d*A-b*p,r[2]=h+d*p+b*A,r}},3222:function(v){v.exports=function w(r,n,c,o){var f=c[0],h=c[2],d=n[0]-f,b=n[2]-h,p=Math.sin(o),A=Math.cos(o);return r[0]=f+b*p+d*A,r[1]=n[1],r[2]=h+b*A-d*p,r}},3388:function(v){v.exports=function w(r,n,c,o){var f=c[0],h=c[1],d=n[0]-f,b=n[1]-h,p=Math.sin(o),A=Math.cos(o);return r[0]=f+d*A-b*p,r[1]=h+d*p+b*A,r[2]=n[2],r}},1624:function(v){v.exports=function w(r,n){return r[0]=Math.round(n[0]),r[1]=Math.round(n[1]),r[2]=Math.round(n[2]),r}},5685:function(v){v.exports=function w(r,n,c){return r[0]=n[0]*c,r[1]=n[1]*c,r[2]=n[2]*c,r}},6722:function(v){v.exports=function w(r,n,c,o){return r[0]=n[0]+c[0]*o,r[1]=n[1]+c[1]*o,r[2]=n[2]+c[2]*o,r}},831:function(v){v.exports=function w(r,n,c,o){return r[0]=n,r[1]=c,r[2]=o,r}},5294:function(v,w,r){v.exports=r(6403)},3303:function(v,w,r){v.exports=r(4337)},6403:function(v){v.exports=function w(r,n){var c=n[0]-r[0],o=n[1]-r[1],f=n[2]-r[2];return c*c+o*o+f*f}},4337:function(v){v.exports=function w(r){var n=r[0],c=r[1],o=r[2];return n*n+c*c+o*o}},8921:function(v,w,r){v.exports=r(911)},911:function(v){v.exports=function w(r,n,c){return r[0]=n[0]-c[0],r[1]=n[1]-c[1],r[2]=n[2]-c[2],r}},9908:function(v){v.exports=function w(r,n,c){var o=n[0],f=n[1],h=n[2];return r[0]=o*c[0]+f*c[3]+h*c[6],r[1]=o*c[1]+f*c[4]+h*c[7],r[2]=o*c[2]+f*c[5]+h*c[8],r}},3255:function(v){v.exports=function w(r,n,c){var o=n[0],f=n[1],h=n[2],d=c[3]*o+c[7]*f+c[11]*h+c[15];return r[0]=(c[0]*o+c[4]*f+c[8]*h+c[12])/(d=d||1),r[1]=(c[1]*o+c[5]*f+c[9]*h+c[13])/d,r[2]=(c[2]*o+c[6]*f+c[10]*h+c[14])/d,r}},6568:function(v){v.exports=function w(r,n,c){var o=n[0],f=n[1],h=n[2],d=c[0],b=c[1],p=c[2],A=c[3],m=A*o+b*h-p*f,u=A*f+p*o-d*h,g=A*h+d*f-b*o,C=-d*o-b*f-p*h;return r[0]=m*A+C*-d+u*-p-g*-b,r[1]=u*A+C*-b+g*-d-m*-p,r[2]=g*A+C*-p+m*-b-u*-d,r}},3433:function(v){v.exports=function w(r,n,c){return r[0]=n[0]+c[0],r[1]=n[1]+c[1],r[2]=n[2]+c[2],r[3]=n[3]+c[3],r}},1413:function(v){v.exports=function w(r){var n=new Float32Array(4);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n}},3470:function(v){v.exports=function w(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r}},5313:function(v){v.exports=function w(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},5446:function(v){v.exports=function w(r,n){var c=n[0]-r[0],o=n[1]-r[1],f=n[2]-r[2],h=n[3]-r[3];return Math.sqrt(c*c+o*o+f*f+h*h)}},205:function(v){v.exports=function w(r,n,c){return r[0]=n[0]/c[0],r[1]=n[1]/c[1],r[2]=n[2]/c[2],r[3]=n[3]/c[3],r}},4242:function(v){v.exports=function w(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]*n[3]}},5680:function(v){v.exports=function w(r,n,c,o){var f=new Float32Array(4);return f[0]=r,f[1]=n,f[2]=c,f[3]=o,f}},4020:function(v,w,r){v.exports={create:r(5313),clone:r(1413),fromValues:r(5680),copy:r(3470),set:r(6453),add:r(3433),subtract:r(2705),multiply:r(746),divide:r(205),min:r(2170),max:r(3030),scale:r(5510),scaleAndAdd:r(4224),distance:r(5446),squaredDistance:r(1542),length:r(8177),squaredLength:r(9037),negate:r(6459),inverse:r(8057),normalize:r(381),dot:r(4242),lerp:r(8746),random:r(3770),transformMat4:r(6342),transformQuat:r(5022)}},8057:function(v){v.exports=function w(r,n){return r[0]=1/n[0],r[1]=1/n[1],r[2]=1/n[2],r[3]=1/n[3],r}},8177:function(v){v.exports=function w(r){var n=r[0],c=r[1],o=r[2],f=r[3];return Math.sqrt(n*n+c*c+o*o+f*f)}},8746:function(v){v.exports=function w(r,n,c,o){var f=n[0],h=n[1],d=n[2],b=n[3];return r[0]=f+o*(c[0]-f),r[1]=h+o*(c[1]-h),r[2]=d+o*(c[2]-d),r[3]=b+o*(c[3]-b),r}},3030:function(v){v.exports=function w(r,n,c){return r[0]=Math.max(n[0],c[0]),r[1]=Math.max(n[1],c[1]),r[2]=Math.max(n[2],c[2]),r[3]=Math.max(n[3],c[3]),r}},2170:function(v){v.exports=function w(r,n,c){return r[0]=Math.min(n[0],c[0]),r[1]=Math.min(n[1],c[1]),r[2]=Math.min(n[2],c[2]),r[3]=Math.min(n[3],c[3]),r}},746:function(v){v.exports=function w(r,n,c){return r[0]=n[0]*c[0],r[1]=n[1]*c[1],r[2]=n[2]*c[2],r[3]=n[3]*c[3],r}},6459:function(v){v.exports=function w(r,n){return r[0]=-n[0],r[1]=-n[1],r[2]=-n[2],r[3]=-n[3],r}},381:function(v){v.exports=function w(r,n){var c=n[0],o=n[1],f=n[2],h=n[3],d=c*c+o*o+f*f+h*h;return d>0&&(d=1/Math.sqrt(d),r[0]=c*d,r[1]=o*d,r[2]=f*d,r[3]=h*d),r}},3770:function(v,w,r){var n=r(381),c=r(5510);v.exports=function o(f,h){return h=h||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),n(f,f),c(f,f,h),f}},5510:function(v){v.exports=function w(r,n,c){return r[0]=n[0]*c,r[1]=n[1]*c,r[2]=n[2]*c,r[3]=n[3]*c,r}},4224:function(v){v.exports=function w(r,n,c,o){return r[0]=n[0]+c[0]*o,r[1]=n[1]+c[1]*o,r[2]=n[2]+c[2]*o,r[3]=n[3]+c[3]*o,r}},6453:function(v){v.exports=function w(r,n,c,o,f){return r[0]=n,r[1]=c,r[2]=o,r[3]=f,r}},1542:function(v){v.exports=function w(r,n){var c=n[0]-r[0],o=n[1]-r[1],f=n[2]-r[2],h=n[3]-r[3];return c*c+o*o+f*f+h*h}},9037:function(v){v.exports=function w(r){var n=r[0],c=r[1],o=r[2],f=r[3];return n*n+c*c+o*o+f*f}},2705:function(v){v.exports=function w(r,n,c){return r[0]=n[0]-c[0],r[1]=n[1]-c[1],r[2]=n[2]-c[2],r[3]=n[3]-c[3],r}},6342:function(v){v.exports=function w(r,n,c){var o=n[0],f=n[1],h=n[2],d=n[3];return r[0]=c[0]*o+c[4]*f+c[8]*h+c[12]*d,r[1]=c[1]*o+c[5]*f+c[9]*h+c[13]*d,r[2]=c[2]*o+c[6]*f+c[10]*h+c[14]*d,r[3]=c[3]*o+c[7]*f+c[11]*h+c[15]*d,r}},5022:function(v){v.exports=function w(r,n,c){var o=n[0],f=n[1],h=n[2],d=c[0],b=c[1],p=c[2],A=c[3],m=A*o+b*h-p*f,u=A*f+p*o-d*h,g=A*h+d*f-b*o,C=-d*o-b*f-p*h;return r[0]=m*A+C*-d+u*-p-g*-b,r[1]=u*A+C*-b+g*-d-m*-p,r[2]=g*A+C*-p+m*-b-u*-d,r[3]=n[3],r}},9365:function(v,w,r){var n=r(8096),c=r(7896);v.exports=function o(f){for(var h=Array.isArray(f)?f:n(f),d=0;d<h.length;d++){var b=h[d];if("preprocessor"===b.type){var p=b.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(p&&p[2]){var m=p[2];return(p[1]?c(m):m).trim()}}}}},3193:function(v,w,r){v.exports=function y(B){var V,H,Z,F=0,_=0,z=d,U=[],G=[],ue=1,ce=0,pe=0,te=!1,Q=!1,K="",q=o,fe=n;"300 es"===(B=B||{}).version&&(q=h,fe=f);var re={},$={};for(F=0;F<q.length;F++)re[q[F]]=!0;for(F=0;F<fe.length;F++)$[fe[F]]=!0;return function(Ke){return G=[],null!==Ke?function se(Ke){F=0,Ke.toString&&(Ke=Ke.toString()),K+=Ke.replace(/\r\n/g,"\n"),Z=K.length;for(var ut;V=K[F],F<Z;){switch(ut=F,z){case p:F=Ve();break;case A:F=Ne();break;case m:F=Me();break;case u:F=Pe();break;case g:F=Je();break;case i:F=Ie();break;case C:F=Qe();break;case b:F=ze();break;case E:F=Ee();break;case d:F=we()}ut!==F&&("\n"===K[ut]?(ce=0,++ue):++ce)}return _+=F,K=K.slice(F),G}(Ke):function de(Ke){return U.length&&le(U.join("")),z=M,le("(eof)"),G}()};function le(Ke){Ke.length&&G.push({type:D[z],data:Ke,position:pe,line:ue,column:ce})}function we(){return U=U.length?[]:U,"/"===H&&"*"===V?(pe=_+F-1,z=p,H=V,F+1):"/"===H&&"/"===V?(pe=_+F-1,z=A,H=V,F+1):"#"===V?(z=m,pe=_+F,F):/\s/.test(V)?(z=E,pe=_+F,F):(te=/\d/.test(V),Q=/[^\w_]/.test(V),pe=_+F,z=te?g:Q?u:b,F)}function Ee(){return/[^\s]/g.test(V)?(le(U.join("")),z=d,F):(U.push(V),H=V,F+1)}function Me(){return"\r"!==V&&"\n"!==V||"\\"===H?(U.push(V),H=V,F+1):(le(U.join("")),z=d,F)}function Ne(){return Me()}function Ve(){return"/"===V&&"*"===H?(U.push(V),le(U.join("")),z=d,F+1):(U.push(V),H=V,F+1)}function Pe(){if("."===H&&/\d/.test(V))return z=C,F;if("/"===H&&"*"===V)return z=p,F;if("/"===H&&"/"===V)return z=A,F;if("."===V&&U.length){for(;Ce(U););return z=C,F}if(";"===V||")"===V||"("===V){if(U.length)for(;Ce(U););return le(V),z=d,F+1}var Ke=2===U.length&&"="!==V;if(/[\w_\d\s]/.test(V)||Ke){for(;Ce(U););return z=d,F}return U.push(V),H=V,F+1}function Ce(Ke){for(var ot,We,ut=0;;){if(ot=c.indexOf(Ke.slice(0,Ke.length+ut).join("")),We=c[ot],-1===ot){if(ut--+Ke.length>0)continue;We=Ke.slice(0,1).join("")}return le(We),pe+=We.length,(U=U.slice(We.length)).length}}function Ie(){return/[^a-fA-F0-9]/.test(V)?(le(U.join("")),z=d,F):(U.push(V),H=V,F+1)}function Je(){return"."===V||/[eE]/.test(V)?(U.push(V),z=C,H=V,F+1):"x"===V&&1===U.length&&"0"===U[0]?(z=i,U.push(V),H=V,F+1):/[^\d]/.test(V)?(le(U.join("")),z=d,F):(U.push(V),H=V,F+1)}function Qe(){return"f"===V&&(U.push(V),H=V,F+=1),/[eE]/.test(V)||("-"===V||"+"===V)&&/[eE]/.test(H)?(U.push(V),H=V,F+1):/[^\d]/.test(V)?(le(U.join("")),z=d,F):(U.push(V),H=V,F+1)}function ze(){if(/[^\d\w_]/.test(V)){var Ke=U.join("");return z=$[Ke]?x:re[Ke]?L:T,le(U.join("")),z=d,F}return U.push(V),H=V,F+1}};var n=r(399),c=r(9746),o=r(9525),f=r(9458),h=r(3585),d=999,b=9999,p=0,A=1,m=2,u=3,g=4,C=5,T=6,L=7,x=8,E=9,M=10,i=11,D=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(v,w,r){var n=r(9525);n=n.slice().filter(function(c){return!/^(gl\_|texture)/.test(c)}),v.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,w,r){var n=r(399);v.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,w,r){var n=r(3193);v.exports=function c(o,f){var h=n(f),d=[];return(d=d.concat(h(o))).concat(h(null))}},6832:function(v){v.exports=function(w){"string"==typeof w&&(w=[w]);for(var r=[].slice.call(arguments,1),n=[],c=0;c<w.length-1;c++)n.push(w[c],r[c]||"");return n.push(w[c]),n.join("")}},5233:function(v,w,r){"use strict";var n=r(4846);v.exports=n&&function c(){var o=!1;try{var f=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{o=!1}return o}()},2183:function(v,w,r){"use strict";v.exports=function u(g,C){var T=g.length;if(0===T)throw new Error("Must have at least d+1 points");var L=g[0].length;if(T<=L)throw new Error("Must input at least d+1 points");var x=g.slice(0,L+1),E=n.apply(void 0,x);if(0===E)throw new Error("Input not in general position");for(var M=new Array(L+1),i=0;i<=L;++i)M[i]=i;E<0&&(M[0]=1,M[1]=0);var D=new o(M,new Array(L+1),!1),y=D.adjacent,B=new Array(L+2);for(i=0;i<=L;++i){for(var F=M.slice(),_=0;_<=L;++_)_===i&&(F[_]=-1);var z=F[0];F[0]=F[1],F[1]=z;var V=new o(F,new Array(L+1),!0);y[i]=V,B[i]=V}for(B[L+1]=D,i=0;i<=L;++i){F=y[i].vertices;var H=y[i].adjacent;for(_=0;_<=L;++_){var U=F[_];if(U<0)H[_]=D;else for(var G=0;G<=L;++G)y[G].vertices.indexOf(U)<0&&(H[_]=y[G])}}var Y=new A(L,x,B),ee=!!C;for(i=L+1;i<T;++i)Y.insert(g[i],ee);return Y.boundary()};var n=r(417),c=r(8211).H;function o(g,C,T){this.vertices=g,this.adjacent=C,this.boundary=T,this.lastVisited=-1}function f(g,C,T){this.vertices=g,this.cell=C,this.index=T}function h(g,C){return c(g.vertices,C.vertices)}o.prototype.flip=function(){var g=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=g;var C=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=C};var p=[];function A(g,C,T){this.dimension=g,this.vertices=C,this.simplices=T,this.interior=T.filter(function(E){return!E.boundary}),this.tuple=new Array(g+1);for(var L=0;L<=g;++L)this.tuple[L]=this.vertices[L];var x=p[g];x||(x=p[g]=function b(g){var C=n[g+1];return C||(C=n),function d(g){return function(){return g.apply(this,this.tuple)}}(C)}(g)),this.orient=x}var m=A.prototype;m.handleBoundaryDegeneracy=function(g,C){var T=this.dimension,L=this.vertices.length-1,x=this.tuple,E=this.vertices,M=[g];for(g.lastVisited=-L;M.length>0;)for(var i=(g=M.pop()).adjacent,D=0;D<=T;++D){var y=i[D];if(y.boundary&&!(y.lastVisited<=-L)){for(var B=y.vertices,F=0;F<=T;++F){var _=B[F];x[F]=_<0?C:E[_]}var z=this.orient();if(z>0)return y;y.lastVisited=-L,0===z&&M.push(y)}}return null},m.walk=function(g,C){var T=this.vertices.length-1,L=this.dimension,x=this.vertices,E=this.tuple,M=C?this.interior.length*Math.random()|0:this.interior.length-1,i=this.interior[M];e:for(;!i.boundary;){for(var D=i.vertices,y=i.adjacent,B=0;B<=L;++B)E[B]=x[D[B]];for(i.lastVisited=T,B=0;B<=L;++B){var F=y[B];if(!(F.lastVisited>=T)){var _=E[B];E[B]=g;var z=this.orient();if(E[B]=_,z<0){i=F;continue e}F.lastVisited=F.boundary?-T:T}}return}return i},m.addPeaks=function(g,C){var T=this.vertices.length-1,L=this.dimension,x=this.vertices,E=this.tuple,M=this.interior,i=this.simplices,D=[C];C.lastVisited=T,C.vertices[C.vertices.indexOf(-1)]=T,C.boundary=!1,M.push(C);for(var y=[];D.length>0;){var B=(C=D.pop()).vertices,F=C.adjacent,_=B.indexOf(T);if(!(_<0))for(var z=0;z<=L;++z)if(z!==_){var V=F[z];if(V.boundary&&!(V.lastVisited>=T)){var H=V.vertices;if(V.lastVisited!==-T){for(var U=0,G=0;G<=L;++G)H[G]<0?(U=G,E[G]=g):E[G]=x[H[G]];if(this.orient()>0){H[U]=T,V.boundary=!1,M.push(V),D.push(V),V.lastVisited=T;continue}V.lastVisited=-T}var ee=V.adjacent,ue=B.slice(),ce=F.slice(),pe=new o(ue,ce,!0);i.push(pe);var te=ee.indexOf(C);if(!(te<0))for(ee[te]=pe,ce[_]=V,ue[z]=-1,ce[z]=C,F[z]=pe,pe.flip(),G=0;G<=L;++G){var Q=ue[G];if(!(Q<0||Q===T)){for(var K=new Array(L-1),Z=0,q=0;q<=L;++q){var fe=ue[q];fe<0||q===G||(K[Z++]=fe)}y.push(new f(K,pe,G))}}}}}for(y.sort(h),z=0;z+1<y.length;z+=2){var re=y[z],$=y[z+1];re.index<0||$.index<0||(re.cell.adjacent[re.index]=$.cell,$.cell.adjacent[$.index]=re.cell)}},m.insert=function(g,C){var T=this.vertices;T.push(g);var L=this.walk(g,C);if(L){for(var x=this.dimension,E=this.tuple,M=0;M<=x;++M){var i=L.vertices[M];E[M]=i<0?g:T[i]}var D=this.orient(E);D<0||0===D&&!(L=this.handleBoundaryDegeneracy(L,g))||this.addPeaks(g,L)}},m.boundary=function(){for(var g=this.dimension,C=[],T=this.simplices,L=T.length,x=0;x<L;++x){var E=T[x];if(E.boundary){for(var M=new Array(g),i=E.vertices,D=0,y=0,B=0;B<=g;++B)i[B]>=0?M[D++]=i[B]:y=1&B;if(y===(1&g)){var F=M[0];M[0]=M[1],M[1]=F}C.push(M)}}return C}},9014:function(v,w,r){"use strict";var n=r(5070);function h(y,B,F,_,z){this.mid=y,this.left=B,this.right=F,this.leftPoints=_,this.rightPoints=z,this.count=(B?B.count:0)+(F?F.count:0)+_.length}v.exports=function D(y){return new M(y&&0!==y.length?E(y):null)};var d=h.prototype;function b(y,B){y.mid=B.mid,y.left=B.left,y.right=B.right,y.leftPoints=B.leftPoints,y.rightPoints=B.rightPoints,y.count=B.count}function p(y,B){var F=E(B);y.mid=F.mid,y.left=F.left,y.right=F.right,y.leftPoints=F.leftPoints,y.rightPoints=F.rightPoints,y.count=F.count}function A(y,B){var F=y.intervals([]);F.push(B),p(y,F)}function m(y,B){var F=y.intervals([]),_=F.indexOf(B);return _<0?0:(F.splice(_,1),p(y,F),1)}function u(y,B,F){for(var _=0;_<y.length&&y[_][0]<=B;++_){var z=F(y[_]);if(z)return z}}function g(y,B,F){for(var _=y.length-1;_>=0&&y[_][1]>=B;--_){var z=F(y[_]);if(z)return z}}function C(y,B){for(var F=0;F<y.length;++F){var _=B(y[F]);if(_)return _}}function T(y,B){return y-B}function L(y,B){return y[0]-B[0]||y[1]-B[1]}function x(y,B){return y[1]-B[1]||y[0]-B[0]}function E(y){if(0===y.length)return null;for(var B=[],F=0;F<y.length;++F)B.push(y[F][0],y[F][1]);B.sort(T);var _=B[B.length>>1],z=[],V=[],H=[];for(F=0;F<y.length;++F){var U=y[F];U[1]<_?z.push(U):_<U[0]?V.push(U):H.push(U)}var G=H,Y=H.slice();return G.sort(L),Y.sort(x),new h(_,E(z),E(V),G,Y)}function M(y){this.root=y}d.intervals=function(y){return y.push.apply(y,this.leftPoints),this.left&&this.left.intervals(y),this.right&&this.right.intervals(y),y},d.insert=function(y){var B=this.count-this.leftPoints.length;if(this.count+=1,y[1]<this.mid)this.left?4*(this.left.count+1)>3*(B+1)?A(this,y):this.left.insert(y):this.left=E([y]);else if(y[0]>this.mid)this.right?4*(this.right.count+1)>3*(B+1)?A(this,y):this.right.insert(y):this.right=E([y]);else{var F=n.ge(this.leftPoints,y,L),_=n.ge(this.rightPoints,y,x);this.leftPoints.splice(F,0,y),this.rightPoints.splice(_,0,y)}},d.remove=function(y){var B=this.count-this.leftPoints;if(y[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(B-1)?m(this,y):2===(_=this.left.remove(y))?(this.left=null,this.count-=1,1):(1===_&&(this.count-=1),_):0;if(y[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(B-1)?m(this,y):2===(_=this.right.remove(y))?(this.right=null,this.count-=1,1):(1===_&&(this.count-=1),_):0;if(1===this.count)return this.leftPoints[0]===y?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===y){if(this.left&&this.right){for(var V=this,H=this.left;H.right;)V=H,H=H.right;if(V===this)H.right=this.right;else{var U=this.left,_=this.right;V.count-=H.count,V.right=H.left,H.left=U,H.right=_}b(this,H),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else b(this,this.left?this.left:this.right);return 1}for(U=n.ge(this.leftPoints,y,L);U<this.leftPoints.length&&this.leftPoints[U][0]===y[0];++U)if(this.leftPoints[U]===y)for(this.count-=1,this.leftPoints.splice(U,1),_=n.ge(this.rightPoints,y,x);_<this.rightPoints.length&&this.rightPoints[_][1]===y[1];++_)if(this.rightPoints[_]===y)return this.rightPoints.splice(_,1),1;return 0},d.queryPoint=function(y,B){return y<this.mid?this.left&&(F=this.left.queryPoint(y,B))?F:u(this.leftPoints,y,B):y>this.mid?this.right&&(F=this.right.queryPoint(y,B))?F:g(this.rightPoints,y,B):C(this.leftPoints,B);var F},d.queryInterval=function(y,B,F){var _;return y<this.mid&&this.left&&(_=this.left.queryInterval(y,B,F))||B>this.mid&&this.right&&(_=this.right.queryInterval(y,B,F))?_:B<this.mid?u(this.leftPoints,B,F):y>this.mid?g(this.rightPoints,y,F):C(this.leftPoints,F)};var i=M.prototype;i.insert=function(y){this.root?this.root.insert(y):this.root=new h(y[0],null,null,[y],[y])},i.remove=function(y){if(this.root){var B=this.root.remove(y);return 2===B&&(this.root=null),0!==B}return!1},i.queryPoint=function(y,B){if(this.root)return this.root.queryPoint(y,B)},i.queryInterval=function(y,B,F){if(y<=B&&this.root)return this.root.queryInterval(y,B,F)},Object.defineProperty(i,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(i,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(v){"use strict";v.exports=function w(r){for(var n=new Array(r),c=0;c<r;++c)n[c]=c;return n}},4846:function(v){v.exports=!0},4780:function(v){function w(n){return!!n.constructor&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)}v.exports=function(n){return null!=n&&(w(n)||function r(n){return"function"==typeof n.readFloatLE&&"function"==typeof n.slice&&w(n.slice(0,0))}(n)||!!n._isBuffer)}},3596:function(v){"use strict";v.exports=function(w){for(var n,r=w.length,c=0;c<r;c++)if(((n=w.charCodeAt(c))<9||n>13)&&32!==n&&133!==n&&160!==n&&5760!==n&&6158!==n&&(n<8192||n>8205)&&8232!==n&&8233!==n&&8239!==n&&8287!==n&&8288!==n&&12288!==n&&65279!==n)return!1;return!0}},3578:function(v){v.exports=function w(r,n,c){return r*(1-c)+n*c}},7191:function(v,w,r){var n=r(4690),c=r(9823),o=r(7332),f=r(7787),h=r(7437),d=r(2142),b={length:r(4693),normalize:r(899),dot:r(9305),cross:r(903)},p=c(),A=c(),m=[0,0,0,0],u=[[0,0,0],[0,0,0],[0,0,0]],g=[0,0,0];function L(x,E,M,i,D){x[0]=E[0]*i+M[0]*D,x[1]=E[1]*i+M[1]*D,x[2]=E[2]*i+M[2]*D}v.exports=function(E,M,i,D,y,B){if(M||(M=[0,0,0]),i||(i=[0,0,0]),D||(D=[0,0,0]),y||(y=[0,0,0,1]),B||(B=[0,0,0,1]),!n(p,E)||(o(A,p),A[3]=0,A[7]=0,A[11]=0,A[15]=1,Math.abs(f(A)<1e-8)))return!1;var F=p[3],_=p[7],z=p[11],V=p[12],H=p[13],U=p[14],G=p[15];if(0!==F||0!==_||0!==z){if(m[0]=F,m[1]=_,m[2]=z,m[3]=G,!h(A,A))return!1;d(A,A),function C(x,E,M){var i=E[0],D=E[1],y=E[2],B=E[3];return x[0]=M[0]*i+M[4]*D+M[8]*y+M[12]*B,x[1]=M[1]*i+M[5]*D+M[9]*y+M[13]*B,x[2]=M[2]*i+M[6]*D+M[10]*y+M[14]*B,x[3]=M[3]*i+M[7]*D+M[11]*y+M[15]*B,x}(y,m,A)}else y[0]=y[1]=y[2]=0,y[3]=1;if(M[0]=V,M[1]=H,M[2]=U,function T(x,E){x[0][0]=E[0],x[0][1]=E[1],x[0][2]=E[2],x[1][0]=E[4],x[1][1]=E[5],x[1][2]=E[6],x[2][0]=E[8],x[2][1]=E[9],x[2][2]=E[10]}(u,p),i[0]=b.length(u[0]),b.normalize(u[0],u[0]),D[0]=b.dot(u[0],u[1]),L(u[1],u[1],u[0],1,-D[0]),i[1]=b.length(u[1]),b.normalize(u[1],u[1]),D[0]/=i[1],D[1]=b.dot(u[0],u[2]),L(u[2],u[2],u[0],1,-D[1]),D[2]=b.dot(u[1],u[2]),L(u[2],u[2],u[1],1,-D[2]),i[2]=b.length(u[2]),b.normalize(u[2],u[2]),D[1]/=i[2],D[2]/=i[2],b.cross(g,u[1],u[2]),b.dot(u[0],g)<0)for(var ee=0;ee<3;ee++)i[ee]*=-1,u[ee][0]*=-1,u[ee][1]*=-1,u[ee][2]*=-1;return B[0]=.5*Math.sqrt(Math.max(1+u[0][0]-u[1][1]-u[2][2],0)),B[1]=.5*Math.sqrt(Math.max(1-u[0][0]+u[1][1]-u[2][2],0)),B[2]=.5*Math.sqrt(Math.max(1-u[0][0]-u[1][1]+u[2][2],0)),B[3]=.5*Math.sqrt(Math.max(1+u[0][0]+u[1][1]+u[2][2],0)),u[2][1]>u[1][2]&&(B[0]=-B[0]),u[0][2]>u[2][0]&&(B[1]=-B[1]),u[1][0]>u[0][1]&&(B[2]=-B[2]),!0}},4690:function(v){v.exports=function(r,n){var c=n[15];if(0===c)return!1;for(var o=1/c,f=0;f<16;f++)r[f]=n[f]*o;return!0}},7649:function(v,w,r){var n=r(1868),c=r(1102),o=r(7191),f=r(7787),h=r(1116),d=m(),b=m(),p=m();function m(){return{translate:u(),scale:u(1),skew:u(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function u(C){return[C||0,C||0,C||0]}v.exports=function A(C,T,L,x){if(0===f(T)||0===f(L))return!1;var E=o(T,d.translate,d.scale,d.skew,d.perspective,d.quaternion),M=o(L,b.translate,b.scale,b.skew,b.perspective,b.quaternion);return!(!E||!M||(n(p.translate,d.translate,b.translate,x),n(p.skew,d.skew,b.skew,x),n(p.scale,d.scale,b.scale,x),n(p.perspective,d.perspective,b.perspective,x),h(p.quaternion,d.quaternion,b.quaternion,x),c(C,p.translate,p.scale,p.skew,p.perspective,p.quaternion),0))}},1102:function(v,w,r){var n={identity:r(9947),translate:r(998),multiply:r(104),create:r(9823),scale:r(3668),fromRotationTranslation:r(7280)},o=(n.create(),n.create());v.exports=function(h,d,b,p,A,m){return n.identity(h),n.fromRotationTranslation(h,m,d),h[3]=A[0],h[7]=A[1],h[11]=A[2],h[15]=A[3],n.identity(o),0!==p[2]&&(o[9]=p[2],n.multiply(h,h,o)),0!==p[1]&&(o[9]=0,o[8]=p[1],n.multiply(h,h,o)),0!==p[0]&&(o[8]=0,o[4]=p[0],n.multiply(h,h,o)),n.scale(h,h,b),h}},9298:function(v,w,r){"use strict";var n=r(5070),c=r(7649),o=r(7437),f=r(6109),h=r(7115),d=r(5240),b=r(3012),p=r(998),m=(r(3668),r(899)),u=[0,0,0];function g(x){this._components=x.slice(),this._time=[0],this.prevMatrix=x.slice(),this.nextMatrix=x.slice(),this.computedMatrix=x.slice(),this.computedInverse=x.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}v.exports=function L(x){return new g((x=x||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var C=g.prototype;C.recalcMatrix=function(x){var E=this._time,M=n.le(E,x),i=this.computedMatrix;if(!(M<0)){var D=this._components;if(M===E.length-1)for(var y=16*M,B=0;B<16;++B)i[B]=D[y++];else{var F=E[M+1]-E[M],_=(y=16*M,this.prevMatrix),z=!0;for(B=0;B<16;++B)_[B]=D[y++];var V=this.nextMatrix;for(B=0;B<16;++B)V[B]=D[y++],z=z&&_[B]===V[B];if(F<1e-6||z)for(B=0;B<16;++B)i[B]=_[B];else c(i,_,V,(x-E[M])/F)}var H=this.computedUp;H[0]=i[1],H[1]=i[5],H[2]=i[9],m(H,H);var U=this.computedInverse;o(U,i);var G=this.computedEye,Y=U[15];G[0]=U[12]/Y,G[1]=U[13]/Y,G[2]=U[14]/Y;var ee=this.computedCenter,ue=Math.exp(this.computedRadius[0]);for(B=0;B<3;++B)ee[B]=G[B]-i[2+4*B]*ue}},C.idle=function(x){if(!(x<this.lastT())){for(var E=this._components,M=E.length-16,i=0;i<16;++i)E.push(E[M++]);this._time.push(x)}},C.flush=function(x){var E=n.gt(this._time,x)-2;E<0||(this._time.splice(0,E),this._components.splice(0,16*E))},C.lastT=function(){return this._time[this._time.length-1]},C.lookAt=function(x,E,M,i){this.recalcMatrix(x),this.setMatrix(x,b(this.computedMatrix,E=E||this.computedEye,M=M||u,i=i||this.computedUp));for(var D=0,y=0;y<3;++y)D+=Math.pow(M[y]-E[y],2);D=Math.log(Math.sqrt(D)),this.computedRadius[0]=D},C.rotate=function(x,E,M,i){this.recalcMatrix(x);var D=this.computedInverse;E&&h(D,D,E),M&&f(D,D,M),i&&d(D,D,i),this.setMatrix(x,o(this.computedMatrix,D))};var T=[0,0,0];C.pan=function(x,E,M,i){T[0]=-(E||0),T[1]=-(M||0),T[2]=-(i||0),this.recalcMatrix(x);var D=this.computedInverse;p(D,D,T),this.setMatrix(x,o(D,D))},C.translate=function(x,E,M,i){T[0]=E||0,T[1]=M||0,T[2]=i||0,this.recalcMatrix(x);var D=this.computedMatrix;p(D,D,T),this.setMatrix(x,D)},C.setMatrix=function(x,E){if(!(x<this.lastT())){this._time.push(x);for(var M=0;M<16;++M)this._components.push(E[M])}},C.setDistance=function(x,E){this.computedRadius[0]=E},C.setDistanceLimits=function(x,E){var M=this._limits;M[0]=x,M[1]=E},C.getDistanceLimits=function(x){var E=this._limits;return x?(x[0]=E[0],x[1]=E[1],x):E}},3266:function(v,w,r){"use strict";v.exports=function c(o){var f=o.length;if(f<3){for(var g=new Array(f),h=0;h<f;++h)g[h]=h;return 2===f&&o[0][0]===o[1][0]&&o[0][1]===o[1][1]?[0]:g}var d=new Array(f);for(h=0;h<f;++h)d[h]=h;d.sort(function(x,E){return o[x][0]-o[E][0]||o[x][1]-o[E][1]});var b=[d[0],d[1]],p=[d[0],d[1]];for(h=2;h<f;++h){for(var A=d[h],m=o[A],u=b.length;u>1&&n(o[b[u-2]],o[b[u-1]],m)<=0;)u-=1,b.pop();for(b.push(A),u=p.length;u>1&&n(o[p[u-2]],o[p[u-1]],m)>=0;)u-=1,p.pop();p.push(A)}g=new Array(p.length+b.length-2);for(var C=0,T=(h=0,b.length);h<T;++h)g[C++]=b[h];for(var L=p.length-2;L>0;--L)g[C++]=p[L];return g};var n=r(417)[3]},6145:function(v,w,r){"use strict";v.exports=function c(o,f){f||(f=o,o=window);var h=0,d=0,b=0,p={shift:!1,alt:!1,control:!1,meta:!1},A=!1;function m(y){var B=!1;return"altKey"in y&&(B=B||y.altKey!==p.alt,p.alt=!!y.altKey),"shiftKey"in y&&(B=B||y.shiftKey!==p.shift,p.shift=!!y.shiftKey),"ctrlKey"in y&&(B=B||y.ctrlKey!==p.control,p.control=!!y.ctrlKey),"metaKey"in y&&(B=B||y.metaKey!==p.meta,p.meta=!!y.metaKey),B}function u(y,B){var F=n.x(B),_=n.y(B);"buttons"in B&&(y=0|B.buttons),(y!==h||F!==d||_!==b||m(B))&&(h=0|y,d=F||0,b=_||0,f&&f(h,d,b,p))}function g(y){u(0,y)}function C(){(h||d||b||p.shift||p.alt||p.meta||p.control)&&(d=b=0,h=0,p.shift=p.alt=p.control=p.meta=!1,f&&f(0,0,0,p))}function T(y){m(y)&&f&&f(h,d,b,p)}function L(y){0===n.buttons(y)?u(0,y):u(h,y)}function x(y){u(h|n.buttons(y),y)}function E(y){u(h&~n.buttons(y),y)}function M(){A||(A=!0,o.addEventListener("mousemove",L),o.addEventListener("mousedown",x),o.addEventListener("mouseup",E),o.addEventListener("mouseleave",g),o.addEventListener("mouseenter",g),o.addEventListener("mouseout",g),o.addEventListener("mouseover",g),o.addEventListener("blur",C),o.addEventListener("keyup",T),o.addEventListener("keydown",T),o.addEventListener("keypress",T),o!==window&&(window.addEventListener("blur",C),window.addEventListener("keyup",T),window.addEventListener("keydown",T),window.addEventListener("keypress",T)))}M();var D={element:o};return Object.defineProperties(D,{enabled:{get:function(){return A},set:function(y){y?M():function i(){A&&(A=!1,o.removeEventListener("mousemove",L),o.removeEventListener("mousedown",x),o.removeEventListener("mouseup",E),o.removeEventListener("mouseleave",g),o.removeEventListener("mouseenter",g),o.removeEventListener("mouseout",g),o.removeEventListener("mouseover",g),o.removeEventListener("blur",C),o.removeEventListener("keyup",T),o.removeEventListener("keydown",T),o.removeEventListener("keypress",T),o!==window&&(window.removeEventListener("blur",C),window.removeEventListener("keyup",T),window.removeEventListener("keydown",T),window.removeEventListener("keypress",T)))}()},enumerable:!0},buttons:{get:function(){return h},enumerable:!0},x:{get:function(){return d},enumerable:!0},y:{get:function(){return b},enumerable:!0},mods:{get:function(){return p},enumerable:!0}}),D};var n=r(4110)},2565:function(v){var w={left:0,top:0};v.exports=function r(c,o,f){o=o||c.currentTarget||c.srcElement,Array.isArray(f)||(f=[0,0]);var h=c.clientX||0,d=c.clientY||0,b=function n(c){return c===window||c===document||c===document.body?w:c.getBoundingClientRect()}(o);return f[0]=h-b.left,f[1]=d-b.top,f}},4110:function(v,w){"use strict";function n(f){return f.target||f.srcElement||window}w.buttons=function r(f){if("object"==typeof f){if("buttons"in f)return f.buttons;if("which"in f){if(2===(h=f.which))return 4;if(3===h)return 2;if(h>0)return 1<<h-1}else if("button"in f){var h;if(1===(h=f.button))return 4;if(2===h)return 2;if(h>=0)return 1<<h}}return 0},w.element=n,w.x=function c(f){if("object"==typeof f){if("offsetX"in f)return f.offsetX;var d=n(f).getBoundingClientRect();return f.clientX-d.left}return 0},w.y=function o(f){if("object"==typeof f){if("offsetY"in f)return f.offsetY;var d=n(f).getBoundingClientRect();return f.clientY-d.top}return 0}},6475:function(v,w,r){"use strict";var n=r(14);v.exports=function c(o,f,h){"function"==typeof o&&(h=!!f,f=o,o=window);var d=n("ex",o),b=function(p){h&&p.preventDefault();var A=p.deltaX||0,m=p.deltaY||0,u=p.deltaZ||0,C=1;switch(p.deltaMode){case 1:C=d;break;case 2:C=window.innerHeight}if(m*=C,u*=C,(A*=C)||m||u)return f(A,m,u,p)};return o.addEventListener("wheel",b),b}},9284:function(v,w,r){"use strict";var n=r(5306);v.exports=function f(h){function d(C){throw new Error("ndarray-extract-contour: "+C)}"object"!=typeof h&&d("Must specify arguments");var b=h.order;Array.isArray(b)||d("Must specify order");var p=h.arrayArguments||1;p<1&&d("Must have at least one array argument");var A=h.scalarArguments||0;A<0&&d("Scalar arg count must be > 0"),"function"!=typeof h.vertex&&d("Must specify vertex creation function"),"function"!=typeof h.cell&&d("Must specify cell creation function"),"function"!=typeof h.phase&&d("Must specify phase function");for(var m=h.getters||[],u=new Array(p),g=0;g<p;++g)u[g]=m.indexOf(g)>=0;return function o(h,d,b,p,A,m){var u=[m,A].join(",");return(0,c[u])(h,d,b,n.mallocUint32,n.freeUint32)}(h.vertex,h.cell,h.phase,0,b,u)};var c={"false,0,1":function(d,b,p,A,m){return function(g,C,T,L){var F,x=0|g.shape[0],E=0|g.shape[1],M=g.data,D=0|g.stride[0],y=0|g.stride[1],B=0|g.offset,_=0|-D,z=0,V=0|-y,H=0,U=-D-y|0,G=0,Y=0|D,ee=y-D*x|0,ue=0,ce=0,pe=0,te=2*x|0,Q=A(te),K=A(te),Z=0,q=0,fe=-1,re=-1,$=0,le=0|-x,se=0|x,de=0,we=-x-1|0,Ee=x-1|0,Me=0,Ne=0,Ve=0;for(ue=0;ue<x;++ue)Q[Z++]=p(M[B],C,T,L),B+=Y;if(B+=ee,E>0){if(ce=1,Q[Z++]=p(M[B],C,T,L),B+=Y,x>0)for(ue=1,q=Q[Z]=p(F=M[B],C,T,L),de=Q[Z+le],Me=Q[Z+we],(q!==($=Q[Z+fe])||q!==de||q!==Me)&&(d(ue,ce,F,z=M[B+_],H=M[B+V],G=M[B+U],q,$,de,Me,C,T,L),Ne=K[Z]=pe++),Z+=1,B+=Y,ue=2;ue<x;++ue)q=Q[Z]=p(F=M[B],C,T,L),de=Q[Z+le],Me=Q[Z+we],(q!==($=Q[Z+fe])||q!==de||q!==Me)&&(d(ue,ce,F,z=M[B+_],H=M[B+V],G=M[B+U],q,$,de,Me,C,T,L),Ne=K[Z]=pe++,Me!==$&&b(K[Z+fe],Ne,G,z,Me,$,C,T,L)),Z+=1,B+=Y;for(B+=ee,Z=0,Ve=fe,fe=re,re=Ve,Ve=le,le=se,se=Ve,Ve=we,we=Ee,Ee=Ve,ce=2;ce<E;++ce){if(Q[Z++]=p(M[B],C,T,L),B+=Y,x>0)for(ue=1,q=Q[Z]=p(F=M[B],C,T,L),de=Q[Z+le],Me=Q[Z+we],(q!==($=Q[Z+fe])||q!==de||q!==Me)&&(d(ue,ce,F,z=M[B+_],H=M[B+V],G=M[B+U],q,$,de,Me,C,T,L),Ne=K[Z]=pe++,Me!==de&&b(K[Z+le],Ne,H,G,de,Me,C,T,L)),Z+=1,B+=Y,ue=2;ue<x;++ue)q=Q[Z]=p(F=M[B],C,T,L),de=Q[Z+le],Me=Q[Z+we],(q!==($=Q[Z+fe])||q!==de||q!==Me)&&(d(ue,ce,F,z=M[B+_],H=M[B+V],G=M[B+U],q,$,de,Me,C,T,L),Ne=K[Z]=pe++,Me!==de&&b(K[Z+le],Ne,H,G,de,Me,C,T,L),Me!==$&&b(K[Z+fe],Ne,G,z,Me,$,C,T,L)),Z+=1,B+=Y;1&ce&&(Z=0),Ve=fe,fe=re,re=Ve,Ve=le,le=se,se=Ve,Ve=we,we=Ee,Ee=Ve,B+=ee}}m(K),m(Q)}},"false,1,0":function(d,b,p,A,m){return function(g,C,T,L){var F,x=0|g.shape[0],E=0|g.shape[1],M=g.data,D=0|g.stride[0],y=0|g.stride[1],B=0|g.offset,_=0|-D,z=0,V=0|-y,H=0,U=-D-y|0,G=0,Y=0|y,ee=D-y*E|0,ue=0,ce=0,pe=0,te=2*E|0,Q=A(te),K=A(te),Z=0,q=0,fe=-1,re=-1,$=0,le=0|-E,se=0|E,de=0,we=-E-1|0,Ee=E-1|0,Me=0,Ne=0,Ve=0;for(ce=0;ce<E;++ce)Q[Z++]=p(M[B],C,T,L),B+=Y;if(B+=ee,x>0){if(ue=1,Q[Z++]=p(M[B],C,T,L),B+=Y,E>0)for(ce=1,q=Q[Z]=p(F=M[B],C,T,L),$=Q[Z+fe],Me=Q[Z+we],(q!==(de=Q[Z+le])||q!==$||q!==Me)&&(d(ue,ce,F,z=M[B+_],H=M[B+V],G=M[B+U],q,de,$,Me,C,T,L),Ne=K[Z]=pe++),Z+=1,B+=Y,ce=2;ce<E;++ce)q=Q[Z]=p(F=M[B],C,T,L),$=Q[Z+fe],Me=Q[Z+we],(q!==(de=Q[Z+le])||q!==$||q!==Me)&&(d(ue,ce,F,z=M[B+_],H=M[B+V],G=M[B+U],q,de,$,Me,C,T,L),Ne=K[Z]=pe++,Me!==$&&b(K[Z+fe],Ne,H,G,$,Me,C,T,L)),Z+=1,B+=Y;for(B+=ee,Z=0,Ve=le,le=se,se=Ve,Ve=fe,fe=re,re=Ve,Ve=we,we=Ee,Ee=Ve,ue=2;ue<x;++ue){if(Q[Z++]=p(M[B],C,T,L),B+=Y,E>0)for(ce=1,q=Q[Z]=p(F=M[B],C,T,L),$=Q[Z+fe],Me=Q[Z+we],(q!==(de=Q[Z+le])||q!==$||q!==Me)&&(d(ue,ce,F,z=M[B+_],H=M[B+V],G=M[B+U],q,de,$,Me,C,T,L),Ne=K[Z]=pe++,Me!==de&&b(K[Z+le],Ne,G,z,Me,de,C,T,L)),Z+=1,B+=Y,ce=2;ce<E;++ce)q=Q[Z]=p(F=M[B],C,T,L),$=Q[Z+fe],Me=Q[Z+we],(q!==(de=Q[Z+le])||q!==$||q!==Me)&&(d(ue,ce,F,z=M[B+_],H=M[B+V],G=M[B+U],q,de,$,Me,C,T,L),Ne=K[Z]=pe++,Me!==$&&b(K[Z+fe],Ne,H,G,$,Me,C,T,L),Me!==de&&b(K[Z+le],Ne,G,z,Me,de,C,T,L)),Z+=1,B+=Y;1&ue&&(Z=0),Ve=le,le=se,se=Ve,Ve=fe,fe=re,re=Ve,Ve=we,we=Ee,Ee=Ve,B+=ee}}m(K),m(Q)}}}},9144:function(v,w,r){"use strict";var n=r(3094),c={zero:function(L,x,E,M){var i=L[0];M|=0;var y=0,B=E[0];for(y=0;y<i;++y)x[M]=0,M+=B},fdTemplate1:function(L,x,E,M,i,D,y){var B=L[0],F=E[0],z=-1*F,V=F;M|=0,y|=0;var H=0,U=F,G=D[0];for(H=0;H<B;++H)i[y]=.5*(x[M+z]-x[M+V]),M+=U,y+=G},fdTemplate2:function(L,x,E,M,i,D,y,B,F,_){var z=L[0],V=L[1],H=E[0],U=E[1],Y=D[1],ue=F[1],ce=-1*H,pe=H,te=-1*U,Q=U;M|=0,y|=0,_|=0;var K=0,Z=0,q=U,fe=H-V*U,re=Y,$=D[0]-V*Y,le=ue,se=F[0]-V*ue;for(Z=0;Z<z;++Z){for(K=0;K<V;++K)i[y]=.5*(x[M+ce]-x[M+pe]),B[_]=.5*(x[M+te]-x[M+Q]),M+=q,y+=re,_+=le;M+=fe,y+=$,_+=se}}},o={cdiff:function(L){var x={};return function(M,i,D){var y=M.dtype,B=M.order,F=i.dtype,_=i.order,z=D.dtype,V=D.order,H=[y,B.join(),F,_.join(),z,V.join()].join(),U=x[H];return U||(x[H]=U=L([y,B,F,_,z,V])),U(M.shape.slice(0),M.data,M.stride,0|M.offset,i.data,i.stride,0|i.offset,D.data,D.stride,0|D.offset)}},zero:function(L){var x={};return function(M){var i=M.dtype,D=M.order,y=[i,D.join()].join(),B=x[y];return B||(x[y]=B=L([i,D])),B(M.shape.slice(0),M.data,M.stride,0|M.offset)}},fdTemplate1:function(L){var x={};return function(M,i){var D=M.dtype,y=M.order,B=i.dtype,F=i.order,_=[D,y.join(),B,F.join()].join(),z=x[_];return z||(x[_]=z=L([D,y,B,F])),z(M.shape.slice(0),M.data,M.stride,0|M.offset,i.data,i.stride,0|i.offset)}},fdTemplate2:function(L){var x={};return function(M,i,D){var y=M.dtype,B=M.order,F=i.dtype,_=i.order,z=D.dtype,V=D.order,H=[y,B.join(),F,_.join(),z,V.join()].join(),U=x[H];return U||(x[H]=U=L([y,B,F,_,z,V])),U(M.shape.slice(0),M.data,M.stride,0|M.offset,i.data,i.stride,0|i.offset,D.data,D.stride,0|D.offset)}}};function f(L){return(0,o[L.funcName])(h.bind(void 0,L))}function h(L){return c[L.funcName]}function d(L){return f({funcName:L.funcName})}var b={},p={},m=d({funcName:"cdiff"}),u=d({funcName:"zero"});function g(L){return L in b?b[L]:b[L]=d({funcName:"fdTemplate"+L})}function C(L,x,E,M){return function(i,D){var y=D.shape.slice();return y[0]>2&&y[1]>2&&M(D.pick(-1,-1).lo(1,1).hi(y[0]-2,y[1]-2),i.pick(-1,-1,0).lo(1,1).hi(y[0]-2,y[1]-2),i.pick(-1,-1,1).lo(1,1).hi(y[0]-2,y[1]-2)),y[1]>2&&(E(D.pick(0,-1).lo(1).hi(y[1]-2),i.pick(0,-1,1).lo(1).hi(y[1]-2)),x(i.pick(0,-1,0).lo(1).hi(y[1]-2))),y[1]>2&&(E(D.pick(y[0]-1,-1).lo(1).hi(y[1]-2),i.pick(y[0]-1,-1,1).lo(1).hi(y[1]-2)),x(i.pick(y[0]-1,-1,0).lo(1).hi(y[1]-2))),y[0]>2&&(E(D.pick(-1,0).lo(1).hi(y[0]-2),i.pick(-1,0,0).lo(1).hi(y[0]-2)),x(i.pick(-1,0,1).lo(1).hi(y[0]-2))),y[0]>2&&(E(D.pick(-1,y[1]-1).lo(1).hi(y[0]-2),i.pick(-1,y[1]-1,0).lo(1).hi(y[0]-2)),x(i.pick(-1,y[1]-1,1).lo(1).hi(y[0]-2))),i.set(0,0,0,0),i.set(0,0,1,0),i.set(y[0]-1,0,0,0),i.set(y[0]-1,0,1,0),i.set(0,y[1]-1,0,0),i.set(0,y[1]-1,1,0),i.set(y[0]-1,y[1]-1,0,0),i.set(y[0]-1,y[1]-1,1,0),i}}v.exports=function(x,E,M){return Array.isArray(M)||(M=n(E.dimension,"string"==typeof M?M:"clamp")),0===E.size?x:0===E.dimension?(x.set(0),x):function T(L){var x=L.join();if(y=p[x])return y;for(var E=L.length,M=[m,u],i=1;i<=E;++i)M.push(g(i));var y=C.apply(void 0,M);return p[x]=y,y}(M)(x,E)}},3581:function(v){"use strict";function w(f,h){var d=Math.floor(h),b=h-d,A=0<=d+1&&d+1<f.shape[0];return(1-b)*(0<=d&&d<f.shape[0]?+f.get(d):0)+b*(A?+f.get(d+1):0)}function r(f,h,d){var b=Math.floor(h),p=h-b,A=0<=b&&b<f.shape[0],m=0<=b+1&&b+1<f.shape[0],u=Math.floor(d),g=d-u,C=0<=u&&u<f.shape[1],T=0<=u+1&&u+1<f.shape[1],L=A&&C?f.get(b,u):0,x=A&&T?f.get(b,u+1):0;return(1-g)*((1-p)*L+p*(m&&C?f.get(b+1,u):0))+g*((1-p)*x+p*(m&&T?f.get(b+1,u+1):0))}function n(f,h,d,b){var p=Math.floor(h),A=h-p,m=0<=p&&p<f.shape[0],u=0<=p+1&&p+1<f.shape[0],g=Math.floor(d),C=d-g,T=0<=g&&g<f.shape[1],L=0<=g+1&&g+1<f.shape[1],x=Math.floor(b),E=b-x,M=0<=x&&x<f.shape[2],i=0<=x+1&&x+1<f.shape[2],D=m&&T&&M?f.get(p,g,x):0,y=m&&L&&M?f.get(p,g+1,x):0,B=u&&T&&M?f.get(p+1,g,x):0,F=u&&L&&M?f.get(p+1,g+1,x):0,_=m&&T&&i?f.get(p,g,x+1):0,z=m&&L&&i?f.get(p,g+1,x+1):0;return(1-E)*((1-C)*((1-A)*D+A*B)+C*((1-A)*y+A*F))+E*((1-C)*((1-A)*_+A*(u&&T&&i?f.get(p+1,g,x+1):0))+C*((1-A)*z+A*(u&&L&&i?f.get(p+1,g+1,x+1):0)))}function c(f){var m,u,h=0|f.shape.length,d=new Array(h),b=new Array(h),p=new Array(h),A=new Array(h);for(m=0;m<h;++m)u=+arguments[m+1],d[m]=Math.floor(u),b[m]=u-d[m],p[m]=0<=d[m]&&d[m]<f.shape[m],A[m]=0<=d[m]+1&&d[m]+1<f.shape[m];var C,T,L,g=0;e:for(m=0;m<1<<h;++m){for(T=1,L=f.offset,C=0;C<h;++C)if(m&1<<C){if(!A[C])continue e;T*=b[C],L+=f.stride[C]*(d[C]+1)}else{if(!p[C])continue e;T*=1-b[C],L+=f.stride[C]*d[C]}g+=T*f.data[L]}return g}v.exports=function o(f,h,d,b){switch(f.shape.length){case 0:return 0;case 1:return w(f,h);case 2:return r(f,h,d);case 3:return n(f,h,d,b);default:return c.apply(void 0,arguments)}},v.exports.d1=w,v.exports.d2=r,v.exports.d3=n},7498:function(v,w){"use strict";var r={"float64,2,1,0":function(){return function(p,A,m,u,g){var C=p[0],T=p[1],L=p[2],E=m[1],M=m[2];u|=0;var i=0,D=0,y=0,B=M,F=E-L*M,_=m[0]-T*E;for(y=0;y<C;++y){for(D=0;D<T;++D){for(i=0;i<L;++i)A[u]/=g,u+=B;u+=F}u+=_}}},"uint8,2,0,1,float64,2,1,0":function(){return function(p,A,m,u,g,C,T,L){for(var x=p[0],E=p[1],M=p[2],i=m[0],D=m[1],y=m[2],B=C[0],F=C[1],_=C[2],z=u|=0,V=T|=0,H=0|p[0];H>0;){H<64?(x=H,H=0):(x=64,H-=64);for(var U=0|p[1];U>0;){U<64?(E=U,U=0):(E=64,U-=64),u=z+H*i+U*D,T=V+H*B+U*F;var G=0,Y=0,ee=0,ue=y,ce=i-M*y,pe=D-x*i,te=_,Q=B-M*_,K=F-x*B;for(ee=0;ee<E;++ee){for(Y=0;Y<x;++Y){for(G=0;G<M;++G)A[u]=g[T]*L,u+=ue,T+=te;u+=ce,T+=Q}u+=pe,T+=K}}}}},"float32,1,0,float32,1,0":function(){return function(p,A,m,u,g,C,T){var L=p[0],x=p[1],M=m[1],D=C[1];u|=0,T|=0;var y=0,B=0,F=M,_=m[0]-x*M,z=D,V=C[0]-x*D;for(B=0;B<L;++B){for(y=0;y<x;++y)A[u]=g[T],u+=F,T+=z;u+=_,T+=V}}},"float32,1,0,float32,0,1":function(){return function(p,A,m,u,g,C,T){for(var L=p[0],x=p[1],E=m[0],M=m[1],i=C[0],D=C[1],y=u|=0,B=T|=0,F=0|p[1];F>0;){F<64?(x=F,F=0):(x=64,F-=64);for(var _=0|p[0];_>0;){_<64?(L=_,_=0):(L=64,_-=64),u=y+F*M+_*E,T=B+F*D+_*i;var z=0,V=0,H=M,U=E-x*M,G=D,Y=i-x*D;for(V=0;V<L;++V){for(z=0;z<x;++z)A[u]=g[T],u+=H,T+=G;u+=U,T+=Y}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(p,A,m,u,g,C,T){for(var L=p[0],x=p[1],E=p[2],M=m[0],i=m[1],D=m[2],y=C[0],B=C[1],F=C[2],_=u|=0,z=T|=0,V=0|p[2];V>0;){V<64?(E=V,V=0):(E=64,V-=64);for(var H=0|p[0];H>0;){H<64?(L=H,H=0):(L=64,H-=64);for(var U=0|p[1];U>0;){U<64?(x=U,U=0):(x=64,U-=64),u=_+V*D+H*M+U*i,T=z+V*F+H*y+U*B;var G=0,Y=0,ee=0,ue=D,ce=M-E*D,pe=i-L*M,te=F,Q=y-E*F,K=B-L*y;for(ee=0;ee<x;++ee){for(Y=0;Y<L;++Y){for(G=0;G<E;++G)A[u]=g[T],u+=ue,T+=te;u+=ce,T+=Q}u+=pe,T+=K}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(p,A,m,u,g,C,T){var L=p[0],x=p[1],E=p[2],M=m[0],D=m[2],y=C[0],F=C[2];u|=0,T|=0;var _=0,z=0,V=0,H=D,U=M-E*D,G=m[1]-L*M,Y=F,ee=y-E*F,ue=C[1]-L*y;for(V=0;V<x;++V){for(z=0;z<L;++z){for(_=0;_<E;++_)A[u]=g[T],u+=H,T+=Y;u+=U,T+=ee}u+=G,T+=ue}}}};var c=function n(b,p){var A=p.join(",");return(0,r[A])()},o={mul:function(b){var p={};return function(m,u,g){var C=m.dtype,T=m.order,L=u.dtype,x=u.order,E=g.dtype,M=g.order,i=[C,T.join(),L,x.join(),E,M.join()].join(),D=p[i];return D||(p[i]=D=b([C,T,L,x,E,M])),D(m.shape.slice(0),m.data,m.stride,0|m.offset,u.data,u.stride,0|u.offset,g.data,g.stride,0|g.offset)}},muls:function(b){var p={};return function(m,u,g){var C=m.dtype,T=m.order,L=u.dtype,x=u.order,E=[C,T.join(),L,x.join()].join(),M=p[E];return M||(p[E]=M=b([C,T,L,x])),M(m.shape.slice(0),m.data,m.stride,0|m.offset,u.data,u.stride,0|u.offset,g)}},mulseq:function(b){var p={};return function(m,u){var g=m.dtype,C=m.order,T=[g,C.join()].join(),L=p[T];return L||(p[T]=L=b([g,C])),L(m.shape.slice(0),m.data,m.stride,0|m.offset,u)}},div:function(b){var p={};return function(m,u,g){var C=m.dtype,T=m.order,L=u.dtype,x=u.order,E=g.dtype,M=g.order,i=[C,T.join(),L,x.join(),E,M.join()].join(),D=p[i];return D||(p[i]=D=b([C,T,L,x,E,M])),D(m.shape.slice(0),m.data,m.stride,0|m.offset,u.data,u.stride,0|u.offset,g.data,g.stride,0|g.offset)}},divs:function(b){var p={};return function(m,u,g){var C=m.dtype,T=m.order,L=u.dtype,x=u.order,E=[C,T.join(),L,x.join()].join(),M=p[E];return M||(p[E]=M=b([C,T,L,x])),M(m.shape.slice(0),m.data,m.stride,0|m.offset,u.data,u.stride,0|u.offset,g)}},divseq:function(b){var p={};return function(m,u){var g=m.dtype,C=m.order,T=[g,C.join()].join(),L=p[T];return L||(p[T]=L=b([g,C])),L(m.shape.slice(0),m.data,m.stride,0|m.offset,u)}},assign:function(b){var p={};return function(m,u){var g=m.dtype,C=m.order,T=u.dtype,L=u.order,x=[g,C.join(),T,L.join()].join(),E=p[x];return E||(p[x]=E=b([g,C,T,L])),E(m.shape.slice(0),m.data,m.stride,0|m.offset,u.data,u.stride,0|u.offset)}}};function h(b){return function f(b){return(0,o[b.funcName])(c.bind(void 0,b))}({funcName:b.funcName})}var d={mul:"*",div:"/"};(function(){for(var b in d)w[b]=h({funcName:b}),w[b+"s"]=h({funcName:b+"s"}),w[b+"seq"]=h({funcName:b+"seq"})})(),w.assign=h({funcName:"assign"})},7382:function(v,w,r){"use strict";var n=r(5050),c=r(9262);v.exports=function(f,h){for(var d=[],b=f,p=1;Array.isArray(b);)d.push(b.length),p*=b.length,b=b[0];return 0===d.length?n():(h||(h=n(new Float64Array(p),d)),c(h,f),h)}},9262:function(v){"use strict";var n=function r(){return function(h,d,b,p,A){var m=h[0],u=h[1],g=h[2],T=b[1],L=b[2],x=[0,0,0];p|=0;var E=0,M=0,i=0,D=L,y=T-g*L,B=b[0]-u*T;for(i=0;i<m;++i){for(M=0;M<u;++M){for(E=0;E<g;++E){var _,F=A;for(_=0;_<x.length-1;++_)F=F[x[_]];d[p]=F[x[x.length-1]],p+=D,++x[2]}p+=y,x[2]-=g,++x[1]}p+=B,x[1]-=u,++x[0]}}};v.exports=function f(h){return function o(h){return function c(h){var d={};return function(p,A){var m=p.dtype,u=p.order,g=[m,u.join()].join(),C=d[g];return C||(d[g]=C=h([m,u])),C(p.shape.slice(0),p.data,p.stride,0|p.offset,A)}}(n.bind(void 0,h))}({funcName:h.funcName})}({funcName:"convert"})},8139:function(v,w,r){"use strict";var n=r(5306);function c(A){return"uint32"===A?[n.mallocUint32,n.freeUint32]:null}var o={"uint32,1,0":function(A,m){return function(g,C,T,L,x,E,M,i,D,y,B){var F,_,z,H,G,Y,ee,ue,V=g*x+L,U=A(i);for(F=g+1;F<=C;++F){for(_=F,z=V+=x,G=0,Y=V,H=0;H<i;++H)U[G++]=T[Y],Y+=D;e:for(;_-- >g;){G=0,Y=z-x;t:for(H=0;H<i;++H){if((ee=T[Y])<(ue=U[G]))break e;if(ee>ue)break t;Y+=y,G+=B}for(G=z,Y=z-x,H=0;H<i;++H)T[G]=T[Y],G+=D,Y+=D;z-=x}for(G=z,Y=0,H=0;H<i;++H)T[G]=U[Y++],G+=D}m(U)}}};var h={"uint32,1,0":function(A,m,u){return function g(C,T,L,x,E,M,i,D,y,B,F){var Z,q,re,$,le,se,de,we,Ve,Pe,Ce,Ie,Je,Qe,ze,Ke,ut,ot,We,je,lt,vt,pt,St,_=(T-C+1)/6|0,z=C+_,V=T-_,H=C+T>>1,U=H-_,G=H+_,Y=z,ee=U,ue=H,ce=G,pe=V,te=C+1,Q=T-1,K=!0,Ee=0,Me=0,Ne=0,Ct=D,_t=m(Ct),nt=m(Ct);Pe=E*Y,Ce=E*ee,St=x;e:for(Ve=0;Ve<D;++Ve){if((Ne=L[se=Pe+St]-L[de=Ce+St])>0){q=Y,Y=ee,ee=q;break e}if(Ne<0)break e;St+=B}Pe=E*ce,Ce=E*pe,St=x;e:for(Ve=0;Ve<D;++Ve){if((Ne=L[se=Pe+St]-L[de=Ce+St])>0){q=ce,ce=pe,pe=q;break e}if(Ne<0)break e;St+=B}Pe=E*Y,Ce=E*ue,St=x;e:for(Ve=0;Ve<D;++Ve){if((Ne=L[se=Pe+St]-L[de=Ce+St])>0){q=Y,Y=ue,ue=q;break e}if(Ne<0)break e;St+=B}Pe=E*ee,Ce=E*ue,St=x;e:for(Ve=0;Ve<D;++Ve){if((Ne=L[se=Pe+St]-L[de=Ce+St])>0){q=ee,ee=ue,ue=q;break e}if(Ne<0)break e;St+=B}Pe=E*Y,Ce=E*ce,St=x;e:for(Ve=0;Ve<D;++Ve){if((Ne=L[se=Pe+St]-L[de=Ce+St])>0){q=Y,Y=ce,ce=q;break e}if(Ne<0)break e;St+=B}Pe=E*ue,Ce=E*ce,St=x;e:for(Ve=0;Ve<D;++Ve){if((Ne=L[se=Pe+St]-L[de=Ce+St])>0){q=ue,ue=ce,ce=q;break e}if(Ne<0)break e;St+=B}Pe=E*ee,Ce=E*pe,St=x;e:for(Ve=0;Ve<D;++Ve){if((Ne=L[se=Pe+St]-L[de=Ce+St])>0){q=ee,ee=pe,pe=q;break e}if(Ne<0)break e;St+=B}Pe=E*ee,Ce=E*ue,St=x;e:for(Ve=0;Ve<D;++Ve){if((Ne=L[se=Pe+St]-L[de=Ce+St])>0){q=ee,ee=ue,ue=q;break e}if(Ne<0)break e;St+=B}Pe=E*ce,Ce=E*pe,St=x;e:for(Ve=0;Ve<D;++Ve){if((Ne=L[se=Pe+St]-L[de=Ce+St])>0){q=ce,ce=pe,pe=q;break e}if(Ne<0)break e;St+=B}for(Pe=E*Y,Ce=E*ee,Ie=E*ue,Je=E*ce,Qe=E*pe,ze=E*z,Ke=E*H,ut=E*V,pt=0,St=x,Ve=0;Ve<D;++Ve)se=Pe+St,we=Ie+St,ot=Je+St,We=Qe+St,je=ze+St,lt=Ke+St,vt=ut+St,_t[pt]=L[de=Ce+St],nt[pt]=L[ot],K=K&&_t[pt]===nt[pt],re=L[we],$=L[We],L[je]=L[se],L[lt]=re,L[vt]=$,++pt,St+=y;for(Pe=E*U,Ce=E*C,St=x,Ve=0;Ve<D;++Ve)L[se=Pe+St]=L[de=Ce+St],St+=y;for(Pe=E*G,Ce=E*T,St=x,Ve=0;Ve<D;++Ve)L[se=Pe+St]=L[de=Ce+St],St+=y;if(K)for(le=te;le<=Q;++le){for(se=x+le*E,pt=0,Ve=0;Ve<D&&0==(Ne=L[se]-_t[pt]);++Ve)pt+=F,se+=B;if(0!==Ne)if(Ne<0){if(le!==te)for(Pe=E*le,Ce=E*te,St=x,Ve=0;Ve<D;++Ve)Z=L[se=Pe+St],L[se]=L[de=Ce+St],L[de]=Z,St+=y;++te}else for(;;){for(se=x+Q*E,pt=0,Ve=0;Ve<D&&0==(Ne=L[se]-_t[pt]);++Ve)pt+=F,se+=B;if(!(Ne>0)){if(Ne<0){for(Pe=E*le,Ce=E*te,Ie=E*Q,St=x,Ve=0;Ve<D;++Ve)we=Ie+St,Z=L[se=Pe+St],L[se]=L[de=Ce+St],L[de]=L[we],L[we]=Z,St+=y;++te,--Q;break}for(Pe=E*le,Ce=E*Q,St=x,Ve=0;Ve<D;++Ve)Z=L[se=Pe+St],L[se]=L[de=Ce+St],L[de]=Z,St+=y;--Q;break}Q--}}else for(le=te;le<=Q;++le){for(se=x+le*E,pt=0,Ve=0;Ve<D&&0==(Ee=L[se]-_t[pt]);++Ve)pt+=F,se+=B;if(Ee<0){if(le!==te)for(Pe=E*le,Ce=E*te,St=x,Ve=0;Ve<D;++Ve)Z=L[se=Pe+St],L[se]=L[de=Ce+St],L[de]=Z,St+=y;++te}else{for(se=x+le*E,pt=0,Ve=0;Ve<D&&0==(Me=L[se]-nt[pt]);++Ve)pt+=F,se+=B;if(Me>0)for(;;){for(se=x+Q*E,pt=0,Ve=0;Ve<D&&0==(Ne=L[se]-nt[pt]);++Ve)pt+=F,se+=B;if(!(Ne>0)){for(se=x+Q*E,pt=0,Ve=0;Ve<D&&0==(Ne=L[se]-_t[pt]);++Ve)pt+=F,se+=B;if(Ne<0){for(Pe=E*le,Ce=E*te,Ie=E*Q,St=x,Ve=0;Ve<D;++Ve)we=Ie+St,Z=L[se=Pe+St],L[se]=L[de=Ce+St],L[de]=L[we],L[we]=Z,St+=y;++te,--Q}else{for(Pe=E*le,Ce=E*Q,St=x,Ve=0;Ve<D;++Ve)Z=L[se=Pe+St],L[se]=L[de=Ce+St],L[de]=Z,St+=y;--Q}break}if(--Q<le)break}}}for(Pe=E*C,Ce=E*(te-1),pt=0,St=x,Ve=0;Ve<D;++Ve)L[se=Pe+St]=L[de=Ce+St],L[de]=_t[pt],++pt,St+=y;for(Pe=E*T,Ce=E*(Q+1),pt=0,St=x,Ve=0;Ve<D;++Ve)L[se=Pe+St]=L[de=Ce+St],L[de]=nt[pt],++pt,St+=y;if(te-2-C<=32?A(C,te-2,L,x,E,M,i,D,y,B,F):g(C,te-2,L,x,E,M,i,D,y,B,F),T-(Q+2)<=32?A(Q+2,T,L,x,E,M,i,D,y,B,F):g(Q+2,T,L,x,E,M,i,D,y,B,F),K)return u(_t),void u(nt);if(te<z&&Q>V){e:for(;;){for(se=x+te*E,pt=0,St=x,Ve=0;Ve<D;++Ve){if(L[se]!==_t[pt])break e;++pt,se+=y}++te}e:for(;;){for(se=x+Q*E,pt=0,St=x,Ve=0;Ve<D;++Ve){if(L[se]!==nt[pt])break e;++pt,se+=y}--Q}for(le=te;le<=Q;++le){for(se=x+le*E,pt=0,Ve=0;Ve<D&&0==(Ee=L[se]-_t[pt]);++Ve)pt+=F,se+=B;if(0===Ee){if(le!==te)for(Pe=E*le,Ce=E*te,St=x,Ve=0;Ve<D;++Ve)Z=L[se=Pe+St],L[se]=L[de=Ce+St],L[de]=Z,St+=y;++te}else{for(se=x+le*E,pt=0,Ve=0;Ve<D&&0==(Me=L[se]-nt[pt]);++Ve)pt+=F,se+=B;if(0===Me)for(;;){for(se=x+Q*E,pt=0,Ve=0;Ve<D&&0==(Ne=L[se]-nt[pt]);++Ve)pt+=F,se+=B;if(0!==Ne){for(se=x+Q*E,pt=0,Ve=0;Ve<D&&0==(Ne=L[se]-_t[pt]);++Ve)pt+=F,se+=B;if(Ne<0){for(Pe=E*le,Ce=E*te,Ie=E*Q,St=x,Ve=0;Ve<D;++Ve)we=Ie+St,Z=L[se=Pe+St],L[se]=L[de=Ce+St],L[de]=L[we],L[we]=Z,St+=y;++te,--Q}else{for(Pe=E*le,Ce=E*Q,St=x,Ve=0;Ve<D;++Ve)Z=L[se=Pe+St],L[se]=L[de=Ce+St],L[de]=Z,St+=y;--Q}break}if(--Q<le)break}}}}u(_t),u(nt),Q-te<=32?A(te,Q,L,x,E,M,i,D,y,B,F):g(te,Q,L,x,E,M,i,D,y,B,F)}}};var b={"uint32,1,0":function(A,m){return function(u){var g=u.data,C=0|u.offset,T=u.shape,L=u.stride,x=0|L[0],E=0|T[0],M=0|L[1],i=0|T[1],D=M,y=M;E<=32?A(0,E-1,g,C,x,M,E,i,D,y,1):m(0,E-1,g,C,x,M,E,i,D,y,1)}}};v.exports=function p(A,m){var u=[m,A].join(","),g=b[u],C=function f(A,m){var u=c(m),g=[m,A].join(","),C=o[g];return u?C(u[0],u[1]):C()}(A,m);return g(C,function d(A,m,u){var g=c(m),C=[m,A].join(","),T=h[C];return A.length>1&&g?T(u,g[0],g[1]):T(u)}(A,m,C))}},8729:function(v,w,r){"use strict";var n=r(8139),c={};v.exports=function o(f){var h=f.order,d=f.dtype,p=[h,d].join(":"),A=c[p];return A||(c[p]=A=n(h,d)),A(f),f}},5050:function(v,w,r){var n=r(4780),c=typeof Float64Array<"u";function o(m,u){return m[0]-u[0]}function f(){var g,m=this.stride,u=new Array(m.length);for(g=0;g<u.length;++g)u[g]=[Math.abs(m[g]),g];u.sort(o);var C=new Array(u.length);for(g=0;g<C.length;++g)C[g]=u[g][1];return C}var h={T:function(m){function u(C){this.data=C}var g=u.prototype;return g.dtype=m,g.index=function(){return-1},g.size=0,g.dimension=-1,g.shape=g.stride=g.order=[],g.lo=g.hi=g.transpose=g.step=function(){return new u(this.data)},g.get=g.set=function(){},g.pick=function(){return null},function(T){return new u(T)}},0:function(m,u){function g(T,L){this.data=T,this.offset=L}var C=g.prototype;return C.dtype=m,C.index=function(){return this.offset},C.dimension=0,C.size=1,C.shape=C.stride=C.order=[],C.lo=C.hi=C.transpose=C.step=function(){return new g(this.data,this.offset)},C.pick=function(){return u(this.data)},C.valueOf=C.get=function(){return"generic"===m?this.data.get(this.offset):this.data[this.offset]},C.set=function(L){return"generic"===m?this.data.set(this.offset,L):this.data[this.offset]=L},function(L,x,E,M){return new g(L,M)}},1:function(m,u,g){function C(L,x,E,M){this.data=L,this.shape=[x],this.stride=[E],this.offset=0|M}var T=C.prototype;return T.dtype=m,T.dimension=1,Object.defineProperty(T,"size",{get:function(){return this.shape[0]}}),T.order=[0],T.set=function(x,E){return"generic"===m?this.data.set(this.offset+this.stride[0]*x,E):this.data[this.offset+this.stride[0]*x]=E},T.get=function(x){return"generic"===m?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},T.index=function(x){return this.offset+this.stride[0]*x},T.hi=function(x){return new C(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,this.stride[0],this.offset)},T.lo=function(x){var E=this.offset,M=0,i=this.shape[0],D=this.stride[0];return"number"==typeof x&&x>=0&&(E+=D*(M=0|x),i-=M),new C(this.data,i,D,E)},T.step=function(x){var E=this.shape[0],M=this.stride[0],i=this.offset,D=0,y=Math.ceil;return"number"==typeof x&&((D=0|x)<0?(i+=M*(E-1),E=y(-E/D)):E=y(E/D),M*=D),new C(this.data,E,M,i)},T.transpose=function(x){return new C(this.data,this.shape[x=void 0===x?0:0|x],this.stride[x],this.offset)},T.pick=function(x){var E=[],M=[],i=this.offset;return"number"==typeof x&&x>=0?i=i+this.stride[0]*x|0:(E.push(this.shape[0]),M.push(this.stride[0])),(0,u[E.length+1])(this.data,E,M,i)},function(x,E,M,i){return new C(x,E[0],M[0],i)}},2:function(m,u,g){function C(L,x,E,M,i,D){this.data=L,this.shape=[x,E],this.stride=[M,i],this.offset=0|D}var T=C.prototype;return T.dtype=m,T.dimension=2,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(T,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),T.set=function(x,E,M){return"generic"===m?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E,M):this.data[this.offset+this.stride[0]*x+this.stride[1]*E]=M},T.get=function(x,E){return"generic"===m?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E):this.data[this.offset+this.stride[0]*x+this.stride[1]*E]},T.index=function(x,E){return this.offset+this.stride[0]*x+this.stride[1]*E},T.hi=function(x,E){return new C(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof E||E<0?this.shape[1]:0|E,this.stride[0],this.stride[1],this.offset)},T.lo=function(x,E){var M=this.offset,i=0,D=this.shape[0],y=this.shape[1],B=this.stride[0],F=this.stride[1];return"number"==typeof x&&x>=0&&(M+=B*(i=0|x),D-=i),"number"==typeof E&&E>=0&&(M+=F*(i=0|E),y-=i),new C(this.data,D,y,B,F,M)},T.step=function(x,E){var M=this.shape[0],i=this.shape[1],D=this.stride[0],y=this.stride[1],B=this.offset,F=0,_=Math.ceil;return"number"==typeof x&&((F=0|x)<0?(B+=D*(M-1),M=_(-M/F)):M=_(M/F),D*=F),"number"==typeof E&&((F=0|E)<0?(B+=y*(i-1),i=_(-i/F)):i=_(i/F),y*=F),new C(this.data,M,i,D,y,B)},T.transpose=function(x,E){var M=this.shape,i=this.stride;return new C(this.data,M[x=void 0===x?0:0|x],M[E=void 0===E?1:0|E],i[x],i[E],this.offset)},T.pick=function(x,E){var M=[],i=[],D=this.offset;return"number"==typeof x&&x>=0?D=D+this.stride[0]*x|0:(M.push(this.shape[0]),i.push(this.stride[0])),"number"==typeof E&&E>=0?D=D+this.stride[1]*E|0:(M.push(this.shape[1]),i.push(this.stride[1])),(0,u[M.length+1])(this.data,M,i,D)},function(x,E,M,i){return new C(x,E[0],E[1],M[0],M[1],i)}},3:function(m,u,g){function C(L,x,E,M,i,D,y,B){this.data=L,this.shape=[x,E,M],this.stride=[i,D,y],this.offset=0|B}var T=C.prototype;return T.dtype=m,T.dimension=3,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(T,"order",{get:function(){var x=Math.abs(this.stride[0]),E=Math.abs(this.stride[1]),M=Math.abs(this.stride[2]);return x>E?E>M?[2,1,0]:x>M?[1,2,0]:[1,0,2]:x>M?[2,0,1]:M>E?[0,1,2]:[0,2,1]}}),T.set=function(x,E,M,i){return"generic"===m?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M,i):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M]=i},T.get=function(x,E,M){return"generic"===m?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M]},T.index=function(x,E,M){return this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M},T.hi=function(x,E,M){return new C(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof E||E<0?this.shape[1]:0|E,"number"!=typeof M||M<0?this.shape[2]:0|M,this.stride[0],this.stride[1],this.stride[2],this.offset)},T.lo=function(x,E,M){var i=this.offset,D=0,y=this.shape[0],B=this.shape[1],F=this.shape[2],_=this.stride[0],z=this.stride[1],V=this.stride[2];return"number"==typeof x&&x>=0&&(i+=_*(D=0|x),y-=D),"number"==typeof E&&E>=0&&(i+=z*(D=0|E),B-=D),"number"==typeof M&&M>=0&&(i+=V*(D=0|M),F-=D),new C(this.data,y,B,F,_,z,V,i)},T.step=function(x,E,M){var i=this.shape[0],D=this.shape[1],y=this.shape[2],B=this.stride[0],F=this.stride[1],_=this.stride[2],z=this.offset,V=0,H=Math.ceil;return"number"==typeof x&&((V=0|x)<0?(z+=B*(i-1),i=H(-i/V)):i=H(i/V),B*=V),"number"==typeof E&&((V=0|E)<0?(z+=F*(D-1),D=H(-D/V)):D=H(D/V),F*=V),"number"==typeof M&&((V=0|M)<0?(z+=_*(y-1),y=H(-y/V)):y=H(y/V),_*=V),new C(this.data,i,D,y,B,F,_,z)},T.transpose=function(x,E,M){var i=this.shape,D=this.stride;return new C(this.data,i[x=void 0===x?0:0|x],i[E=void 0===E?1:0|E],i[M=void 0===M?2:0|M],D[x],D[E],D[M],this.offset)},T.pick=function(x,E,M){var i=[],D=[],y=this.offset;return"number"==typeof x&&x>=0?y=y+this.stride[0]*x|0:(i.push(this.shape[0]),D.push(this.stride[0])),"number"==typeof E&&E>=0?y=y+this.stride[1]*E|0:(i.push(this.shape[1]),D.push(this.stride[1])),"number"==typeof M&&M>=0?y=y+this.stride[2]*M|0:(i.push(this.shape[2]),D.push(this.stride[2])),(0,u[i.length+1])(this.data,i,D,y)},function(x,E,M,i){return new C(x,E[0],E[1],E[2],M[0],M[1],M[2],i)}},4:function(m,u,g){function C(L,x,E,M,i,D,y,B,F,_){this.data=L,this.shape=[x,E,M,i],this.stride=[D,y,B,F],this.offset=0|_}var T=C.prototype;return T.dtype=m,T.dimension=4,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(T,"order",{get:g}),T.set=function(x,E,M,i,D){return"generic"===m?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M+this.stride[3]*i,D):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M+this.stride[3]*i]=D},T.get=function(x,E,M,i){return"generic"===m?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M+this.stride[3]*i):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M+this.stride[3]*i]},T.index=function(x,E,M,i){return this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M+this.stride[3]*i},T.hi=function(x,E,M,i){return new C(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof E||E<0?this.shape[1]:0|E,"number"!=typeof M||M<0?this.shape[2]:0|M,"number"!=typeof i||i<0?this.shape[3]:0|i,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},T.lo=function(x,E,M,i){var D=this.offset,y=0,B=this.shape[0],F=this.shape[1],_=this.shape[2],z=this.shape[3],V=this.stride[0],H=this.stride[1],U=this.stride[2],G=this.stride[3];return"number"==typeof x&&x>=0&&(D+=V*(y=0|x),B-=y),"number"==typeof E&&E>=0&&(D+=H*(y=0|E),F-=y),"number"==typeof M&&M>=0&&(D+=U*(y=0|M),_-=y),"number"==typeof i&&i>=0&&(D+=G*(y=0|i),z-=y),new C(this.data,B,F,_,z,V,H,U,G,D)},T.step=function(x,E,M,i){var D=this.shape[0],y=this.shape[1],B=this.shape[2],F=this.shape[3],_=this.stride[0],z=this.stride[1],V=this.stride[2],H=this.stride[3],U=this.offset,G=0,Y=Math.ceil;return"number"==typeof x&&((G=0|x)<0?(U+=_*(D-1),D=Y(-D/G)):D=Y(D/G),_*=G),"number"==typeof E&&((G=0|E)<0?(U+=z*(y-1),y=Y(-y/G)):y=Y(y/G),z*=G),"number"==typeof M&&((G=0|M)<0?(U+=V*(B-1),B=Y(-B/G)):B=Y(B/G),V*=G),"number"==typeof i&&((G=0|i)<0?(U+=H*(F-1),F=Y(-F/G)):F=Y(F/G),H*=G),new C(this.data,D,y,B,F,_,z,V,H,U)},T.transpose=function(x,E,M,i){var D=this.shape,y=this.stride;return new C(this.data,D[x=void 0===x?0:0|x],D[E=void 0===E?1:0|E],D[M=void 0===M?2:0|M],D[i=void 0===i?3:0|i],y[x],y[E],y[M],y[i],this.offset)},T.pick=function(x,E,M,i){var D=[],y=[],B=this.offset;return"number"==typeof x&&x>=0?B=B+this.stride[0]*x|0:(D.push(this.shape[0]),y.push(this.stride[0])),"number"==typeof E&&E>=0?B=B+this.stride[1]*E|0:(D.push(this.shape[1]),y.push(this.stride[1])),"number"==typeof M&&M>=0?B=B+this.stride[2]*M|0:(D.push(this.shape[2]),y.push(this.stride[2])),"number"==typeof i&&i>=0?B=B+this.stride[3]*i|0:(D.push(this.shape[3]),y.push(this.stride[3])),(0,u[D.length+1])(this.data,D,y,B)},function(x,E,M,i){return new C(x,E[0],E[1],E[2],E[3],M[0],M[1],M[2],M[3],i)}},5:function(u,g,C){function T(x,E,M,i,D,y,B,F,_,z,V,H){this.data=x,this.shape=[E,M,i,D,y],this.stride=[B,F,_,z,V],this.offset=0|H}var L=T.prototype;return L.dtype=u,L.dimension=5,Object.defineProperty(L,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(L,"order",{get:C}),L.set=function(E,M,i,D,y,B){return"generic"===u?this.data.set(this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*i+this.stride[3]*D+this.stride[4]*y,B):this.data[this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*i+this.stride[3]*D+this.stride[4]*y]=B},L.get=function(E,M,i,D,y){return"generic"===u?this.data.get(this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*i+this.stride[3]*D+this.stride[4]*y):this.data[this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*i+this.stride[3]*D+this.stride[4]*y]},L.index=function(E,M,i,D,y){return this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*i+this.stride[3]*D+this.stride[4]*y},L.hi=function(E,M,i,D,y){return new T(this.data,"number"!=typeof E||E<0?this.shape[0]:0|E,"number"!=typeof M||M<0?this.shape[1]:0|M,"number"!=typeof i||i<0?this.shape[2]:0|i,"number"!=typeof D||D<0?this.shape[3]:0|D,"number"!=typeof y||y<0?this.shape[4]:0|y,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},L.lo=function(E,M,i,D,y){var B=this.offset,F=0,_=this.shape[0],z=this.shape[1],V=this.shape[2],H=this.shape[3],U=this.shape[4],G=this.stride[0],Y=this.stride[1],ee=this.stride[2],ue=this.stride[3],ce=this.stride[4];return"number"==typeof E&&E>=0&&(B+=G*(F=0|E),_-=F),"number"==typeof M&&M>=0&&(B+=Y*(F=0|M),z-=F),"number"==typeof i&&i>=0&&(B+=ee*(F=0|i),V-=F),"number"==typeof D&&D>=0&&(B+=ue*(F=0|D),H-=F),"number"==typeof y&&y>=0&&(B+=ce*(F=0|y),U-=F),new T(this.data,_,z,V,H,U,G,Y,ee,ue,ce,B)},L.step=function(E,M,i,D,y){var B=this.shape[0],F=this.shape[1],_=this.shape[2],z=this.shape[3],V=this.shape[4],H=this.stride[0],U=this.stride[1],G=this.stride[2],Y=this.stride[3],ee=this.stride[4],ue=this.offset,ce=0,pe=Math.ceil;return"number"==typeof E&&((ce=0|E)<0?(ue+=H*(B-1),B=pe(-B/ce)):B=pe(B/ce),H*=ce),"number"==typeof M&&((ce=0|M)<0?(ue+=U*(F-1),F=pe(-F/ce)):F=pe(F/ce),U*=ce),"number"==typeof i&&((ce=0|i)<0?(ue+=G*(_-1),_=pe(-_/ce)):_=pe(_/ce),G*=ce),"number"==typeof D&&((ce=0|D)<0?(ue+=Y*(z-1),z=pe(-z/ce)):z=pe(z/ce),Y*=ce),"number"==typeof y&&((ce=0|y)<0?(ue+=ee*(V-1),V=pe(-V/ce)):V=pe(V/ce),ee*=ce),new T(this.data,B,F,_,z,V,H,U,G,Y,ee,ue)},L.transpose=function(E,M,i,D,y){var B=this.shape,F=this.stride;return new T(this.data,B[E=void 0===E?0:0|E],B[M=void 0===M?1:0|M],B[i=void 0===i?2:0|i],B[D=void 0===D?3:0|D],B[y=void 0===y?4:0|y],F[E],F[M],F[i],F[D],F[y],this.offset)},L.pick=function(E,M,i,D,y){var B=[],F=[],_=this.offset;return"number"==typeof E&&E>=0?_=_+this.stride[0]*E|0:(B.push(this.shape[0]),F.push(this.stride[0])),"number"==typeof M&&M>=0?_=_+this.stride[1]*M|0:(B.push(this.shape[1]),F.push(this.stride[1])),"number"==typeof i&&i>=0?_=_+this.stride[2]*i|0:(B.push(this.shape[2]),F.push(this.stride[2])),"number"==typeof D&&D>=0?_=_+this.stride[3]*D|0:(B.push(this.shape[3]),F.push(this.stride[3])),"number"==typeof y&&y>=0?_=_+this.stride[4]*y|0:(B.push(this.shape[4]),F.push(this.stride[4])),(0,g[B.length+1])(this.data,B,F,_)},function(E,M,i,D){return new T(E,M[0],M[1],M[2],M[3],M[4],i[0],i[1],i[2],i[3],i[4],D)}}};function d(m,u){var g=-1===u?"T":String(u),C=h[g];return-1===u?C(m):0===u?C(m,p[m][0]):C(m,p[m],f)}var p={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};v.exports=function A(m,u,g,C){if(void 0===m)return(0,p.array[0])([]);"number"==typeof m&&(m=[m]),void 0===u&&(u=[m.length]);var T=u.length;if(void 0===g){g=new Array(T);for(var L=T-1,x=1;L>=0;--L)g[L]=x,x*=u[L]}if(void 0===C)for(C=0,L=0;L<T;++L)g[L]<0&&(C-=(u[L]-1)*g[L]);for(var E=function b(m){if(n(m))return"buffer";if(c)switch(Object.prototype.toString.call(m)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(m)?"array":"generic"}(m),M=p[E];M.length<=T+1;)M.push(d(E,M.length-1));return(0,M[T+1])(m,u,g,C)}},8551:function(v,w,r){"use strict";var n=r(8362),c=Math.pow(2,-1074),o=-1>>>0;v.exports=function f(h,d){if(isNaN(h)||isNaN(d))return NaN;if(h===d)return h;if(0===h)return d<0?-c:c;var b=n.hi(h),p=n.lo(h);return d>h==h>0?p===o?(b+=1,p=0):p+=1:0===p?(p=o,b-=1):p-=1,n.pack(p,b)}},115:function(v,w){w.vertexNormals=function(c,o,f){for(var h=o.length,d=new Array(h),b=void 0===f?1e-6:f,p=0;p<h;++p)d[p]=[0,0,0];for(p=0;p<c.length;++p)for(var A=c[p],u=A[A.length-1],g=A[0],C=0;C<A.length;++C){for(var T=o[u],L=o[u=g],x=o[g=A[(C+1)%A.length]],E=new Array(3),M=0,i=new Array(3),D=0,y=0;y<3;++y)E[y]=T[y]-L[y],M+=E[y]*E[y],i[y]=x[y]-L[y],D+=i[y]*i[y];if(M*D>b){var B=d[u],F=1/Math.sqrt(M*D);for(y=0;y<3;++y){var _=(y+1)%3,z=(y+2)%3;B[y]+=F*(i[_]*E[z]-i[z]*E[_])}}}for(p=0;p<h;++p){B=d[p];var V=0;for(y=0;y<3;++y)V+=B[y]*B[y];if(V>b)for(F=1/Math.sqrt(V),y=0;y<3;++y)B[y]*=F;else for(y=0;y<3;++y)B[y]=0}return d},w.faceNormals=function(c,o,f){for(var h=c.length,d=new Array(h),b=void 0===f?1e-6:f,p=0;p<h;++p){for(var A=c[p],m=new Array(3),u=0;u<3;++u)m[u]=o[A[u]];var g=new Array(3),C=new Array(3);for(u=0;u<3;++u)g[u]=m[1][u]-m[0][u],C[u]=m[2][u]-m[0][u];var T=new Array(3),L=0;for(u=0;u<3;++u){var x=(u+1)%3,E=(u+2)%3;T[u]=g[x]*C[E]-g[E]*C[x],L+=T[u]*T[u]}for(L=L>b?1/Math.sqrt(L):0,u=0;u<3;++u)T[u]*=L;d[p]=T}return d}},567:function(v){"use strict";v.exports=function w(r,n,c,o,f,h,d,b,p,A){var m=n+h+A;if(u>0){var u=Math.sqrt(m+1);r[0]=.5*(d-p)/u,r[1]=.5*(b-o)/u,r[2]=.5*(c-h)/u,r[3]=.5*u}else{var g=Math.max(n,h,A);u=Math.sqrt(2*g-m+1),n>=g?(r[0]=.5*u,r[1]=.5*(f+c)/u,r[2]=.5*(b+o)/u,r[3]=.5*(d-p)/u):h>=g?(r[0]=.5*(c+f)/u,r[1]=.5*u,r[2]=.5*(p+d)/u,r[3]=.5*(b-o)/u):(r[0]=.5*(o+b)/u,r[1]=.5*(d+p)/u,r[2]=.5*u,r[3]=.5*(c-f)/u)}return r}},7774:function(v,w,r){"use strict";v.exports=function u(g){var C=(g=g||{}).center||[0,0,0],T=g.rotation||[0,0,0,1],L=g.radius||1;C=[].slice.call(C,0,3),p(T=[].slice.call(T,0,4),T);var x=new A(T,C,Math.log(L));return x.setDistanceLimits(g.zoomMin,g.zoomMax),("eye"in g||"up"in g)&&x.lookAt(0,g.eye,g.center,g.up),x};var n=r(8444),c=r(3012),o=r(5950),f=r(7437),h=r(567);function d(g,C,T){return Math.sqrt(Math.pow(g,2)+Math.pow(C,2)+Math.pow(T,2))}function b(g,C,T,L){return Math.sqrt(Math.pow(g,2)+Math.pow(C,2)+Math.pow(T,2)+Math.pow(L,2))}function p(g,C){var T=C[0],L=C[1],x=C[2],E=C[3],M=b(T,L,x,E);M>1e-6?(g[0]=T/M,g[1]=L/M,g[2]=x/M,g[3]=E/M):(g[0]=g[1]=g[2]=0,g[3]=1)}function A(g,C,T){this.radius=n([T]),this.center=n(C),this.rotation=n(g),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var m=A.prototype;m.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},m.recalcMatrix=function(g){this.radius.curve(g),this.center.curve(g),this.rotation.curve(g);var C=this.computedRotation;p(C,C);var T=this.computedMatrix;o(T,C);var L=this.computedCenter,x=this.computedEye,E=this.computedUp,M=Math.exp(this.computedRadius[0]);x[0]=L[0]+M*T[2],x[1]=L[1]+M*T[6],x[2]=L[2]+M*T[10],E[0]=T[1],E[1]=T[5],E[2]=T[9];for(var i=0;i<3;++i){for(var D=0,y=0;y<3;++y)D+=T[i+4*y]*x[y];T[12+i]=-D}},m.getMatrix=function(g,C){this.recalcMatrix(g);var T=this.computedMatrix;if(C){for(var L=0;L<16;++L)C[L]=T[L];return C}return T},m.idle=function(g){this.center.idle(g),this.radius.idle(g),this.rotation.idle(g)},m.flush=function(g){this.center.flush(g),this.radius.flush(g),this.rotation.flush(g)},m.pan=function(g,C,T,L){C=C||0,T=T||0,L=L||0,this.recalcMatrix(g);var x=this.computedMatrix,E=x[1],M=x[5],i=x[9],D=d(E,M,i),y=x[0],B=x[4],F=x[8],_=y*(E/=D)+B*(M/=D)+F*(i/=D),z=d(y-=E*_,B-=M*_,F-=i*_),V=x[2],H=x[6],U=x[10],G=V*E+H*M+U*i,Y=V*(y/=z)+H*(B/=z)+U*(F/=z),ee=d(V-=G*E+Y*y,H-=G*M+Y*B,U-=G*i+Y*F);V/=ee,H/=ee,U/=ee,this.center.move(g,y*C+E*T,B*C+M*T,F*C+i*T);var te=Math.exp(this.computedRadius[0]);te=Math.max(1e-4,te+L),this.radius.set(g,Math.log(te))},m.rotate=function(g,C,T,L){this.recalcMatrix(g);var x=this.computedMatrix,F=x[2],_=x[6],z=x[10],V=(C=C||0)*x[0]+(T=T||0)*x[1],H=C*x[4]+T*x[5],U=C*x[8]+T*x[9],G=-(_*U-z*H),Y=-(z*V-F*U),ee=-(F*H-_*V),ue=Math.sqrt(Math.max(0,1-Math.pow(G,2)-Math.pow(Y,2)-Math.pow(ee,2))),ce=b(G,Y,ee,ue);ce>1e-6?(G/=ce,Y/=ce,ee/=ce,ue/=ce):(G=Y=ee=0,ue=1);var pe=this.computedRotation,te=pe[0],Q=pe[1],K=pe[2],Z=pe[3],q=te*ue+Z*G+Q*ee-K*Y,fe=Q*ue+Z*Y+K*G-te*ee,re=K*ue+Z*ee+te*Y-Q*G,$=Z*ue-te*G-Q*Y-K*ee;if(L){G=F,Y=_,ee=z;var le=Math.sin(L)/d(G,Y,ee);G*=le,Y*=le,ee*=le,$=$*(ue=Math.cos(C))-(q=q*ue+$*G+fe*ee-re*Y)*G-(fe=fe*ue+$*Y+re*G-q*ee)*Y-(re=re*ue+$*ee+q*Y-fe*G)*ee}var se=b(q,fe,re,$);se>1e-6?(q/=se,fe/=se,re/=se,$/=se):(q=fe=re=0,$=1),this.rotation.set(g,q,fe,re,$)},m.lookAt=function(g,C,T,L){this.recalcMatrix(g);var x=this.computedMatrix;c(x,C=C||this.computedEye,T=T||this.computedCenter,L=L||this.computedUp);var E=this.computedRotation;h(E,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),p(E,E),this.rotation.set(g,E[0],E[1],E[2],E[3]);for(var M=0,i=0;i<3;++i)M+=Math.pow(T[i]-C[i],2);this.radius.set(g,.5*Math.log(Math.max(M,1e-6))),this.center.set(g,T[0],T[1],T[2])},m.translate=function(g,C,T,L){this.center.move(g,C||0,T||0,L||0)},m.setMatrix=function(g,C){var T=this.computedRotation;h(T,C[0],C[1],C[2],C[4],C[5],C[6],C[8],C[9],C[10]),p(T,T),this.rotation.set(g,T[0],T[1],T[2],T[3]);var L=this.computedMatrix;f(L,C);var x=L[15];if(Math.abs(x)>1e-6){var E=L[12]/x,M=L[13]/x,i=L[14]/x;this.recalcMatrix(g);var D=Math.exp(this.computedRadius[0]);this.center.set(g,E-L[2]*D,M-L[6]*D,i-L[10]*D),this.radius.idle(g)}else this.center.idle(g),this.radius.idle(g)},m.setDistance=function(g,C){C>0&&this.radius.set(g,Math.log(C))},m.setDistanceLimits=function(g,C){g=g>0?Math.log(g):-1/0,C=C>0?Math.log(C):1/0,C=Math.max(C,g),this.radius.bounds[0][0]=g,this.radius.bounds[1][0]=C},m.getDistanceLimits=function(g){var C=this.radius.bounds;return g?(g[0]=Math.exp(C[0][0]),g[1]=Math.exp(C[1][0]),g):[Math.exp(C[0][0]),Math.exp(C[1][0])]},m.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},m.fromJSON=function(g){var C=this.lastT(),T=g.center;T&&this.center.set(C,T[0],T[1],T[2]);var L=g.rotation;L&&this.rotation.set(C,L[0],L[1],L[2],L[3]);var x=g.distance;x&&x>0&&this.radius.set(C,Math.log(x)),this.setDistanceLimits(g.zoomMin,g.zoomMax)}},4930:function(v,w,r){"use strict";var n=r(6184);v.exports=function(o,f,h){return n(h=typeof h<"u"?h+"":" ",f)+o}},4405:function(v){v.exports=function(r,n){n||(n=[0,""]),r=String(r);var c=parseFloat(r,10);return n[0]=c,n[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",n}},4166:function(v,w,r){"use strict";v.exports=function c(o,f){for(var h=0|f.length,d=o.length,b=[new Array(h),new Array(h)],p=0;p<h;++p)b[0][p]=[],b[1][p]=[];for(p=0;p<d;++p){var A=o[p];b[0][A[0]].push(A),b[1][A[1]].push(A)}var m=[];for(p=0;p<h;++p)b[0][p].length+b[1][p].length===0&&m.push([p]);function u(i,D){var y=b[D][i[D]];y.splice(y.indexOf(i),1)}function g(i,D,y){for(var B,F,_,z=0;z<2;++z)if(b[z][D].length>0){B=b[z][D][0],_=z;break}F=B[1^_];for(var V=0;V<2;++V)for(var H=b[V][D],U=0;U<H.length;++U){var G=H[U],Y=G[1^V];n(f[i],f[D],f[F],f[Y])>0&&(B=G,F=Y,_=V)}return y||B&&u(B,_),F}function C(i,D){var y=b[D][i][0],B=[i];u(y,D);for(var F=y[1^D];;){for(;F!==i;)B.push(F),F=g(B[B.length-2],F,!1);if(b[0][i].length+b[1][i].length===0)break;var z=B[B.length-1],V=i,H=B[1],U=g(z,V,!0);if(n(f[z],f[V],f[H],f[U])<0)break;B.push(i),F=g(z,V)}return B}for(p=0;p<h;++p)for(var L=0;L<2;++L){for(var x=[];b[L][p].length>0;){var M=C(p,L);(D=M)[1]===D[D.length-1]?x.push.apply(x,M):(x.length>0&&m.push(x),x=M)}x.length>0&&m.push(x)}var D;return m};var n=r(9398)},3959:function(v,w,r){"use strict";v.exports=function c(o,f){for(var h=n(o,f.length),d=new Array(f.length),b=new Array(f.length),p=[],A=0;A<f.length;++A){var m=h[A].length;b[A]=m,d[A]=!0,m<=1&&p.push(A)}for(;p.length>0;){d[u=p.pop()]=!1;var g=h[u];for(A=0;A<g.length;++A){var C=g[A];0==--b[C]&&p.push(C)}}var T=new Array(f.length),L=[];for(A=0;A<f.length;++A)if(d[A]){var u;T[A]=u=L.length,L.push(f[A])}else T[A]=-1;var x=[];for(A=0;A<o.length;++A){var E=o[A];d[E[0]]&&d[E[1]]&&x.push([T[E[0]],T[E[1]]])}return[x,L]};var n=r(8348)},8040:function(v,w,r){"use strict";v.exports=function m(u,g){u=(le=b(u,g))[0];for(var C=(g=le[1]).length,L=n(u,g.length),x=0;x<C;++x)if(L[x].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var E=c(u,g);var i=(E=E.filter(function M(Ve){for(var Pe=Ve.length,Ce=[0],Ie=0;Ie<Pe;++Ie){var Je=g[Ve[Ie]],Qe=g[Ve[(Ie+1)%Pe]],ze=f(-Je[0],Je[1]),Ke=f(-Je[0],Qe[1]),ut=f(Qe[0],Je[1]),ot=f(Qe[0],Qe[1]);Ce=h(Ce,h(h(ze,Ke),h(ut,ot)))}return Ce[Ce.length-1]>0})).length,D=new Array(i),y=new Array(i);for(x=0;x<i;++x){D[x]=x;var B=new Array(i),F=E[x].map(function(Pe){return g[Pe]}),_=o([F]),z=0;e:for(var V=0;V<i;++V)if(B[V]=0,x!==V){for(var U=(H=E[V]).length,G=0;G<U;++G){var Y=_(g[H[G]]);if(0!==Y){Y<0&&(B[V]=1,z+=1);continue e}}B[V]=1,z+=1}y[x]=[z,x,B]}for(y.sort(function(Ve,Pe){return Pe[0]-Ve[0]}),x=0;x<i;++x){var ee=(B=y[x])[1],ue=B[2];for(V=0;V<i;++V)ue[V]&&(D[V]=ee)}var ce=function A(u){for(var g=new Array(u),C=0;C<u;++C)g[C]=[];return g}(i);for(x=0;x<i;++x)ce[x].push(D[x]),ce[D[x]].push(x);var pe={},te=p(C,!1);for(x=0;x<i;++x)for(U=(H=E[x]).length,V=0;V<U;++V){var Q=H[V],K=H[(V+1)%U],Z=Math.min(Q,K)+":"+Math.max(Q,K);if(Z in pe){var q=pe[Z];ce[q].push(x),ce[x].push(q),te[Q]=te[K]=!0}else pe[Z]=x}function fe(Ve){for(var Pe=Ve.length,Ce=0;Ce<Pe;++Ce)if(!te[Ve[Ce]])return!1;return!0}var re=[],$=p(i,-1);for(x=0;x<i;++x)D[x]!==x||fe(E[x])?$[x]=-1:(re.push(x),$[x]=0);for(var le=[];re.length>0;){var se=re.pop(),de=ce[se];d(de,function(Ve,Pe){return Ve-Pe});var Me,we=de.length,Ee=$[se];for(0===Ee&&(Me=[H=E[se]]),x=0;x<we;++x){var H,Ne=de[x];$[Ne]>=0||($[Ne]=1^Ee,re.push(Ne),0!==Ee)||fe(H=E[Ne])||(H.reverse(),Me.push(H))}0===Ee&&le.push(Me)}return le};var n=r(8348),c=r(4166),o=r(211),f=r(9660),h=r(9662),d=r(1215),b=r(3959);function p(u,g){for(var C=new Array(u),T=0;T<u;++T)C[T]=g;return C}},211:function(v,w,r){v.exports=function g(C){for(var T=C.length,L=[],x=[],M=0;M<T;++M)for(var i=C[M],D=i.length,y=D-1,B=0;B<D;y=B++){var F=i[y],_=i[B];F[0]===_[0]?x.push([F,_]):L.push([F,_])}if(0===L.length)return 0===x.length?A:function m(C){return function(L){return C(L[0],L[1])?0:1}}(b(x));var z=c(L),V=function p(C,T){return function(L){var x=f.le(T,L[0]);if(x<0)return 1;var E=C[x];if(!E){if(!(x>0&&T[x]===L[0]))return 1;E=C[x-1]}for(var M=1;E;){var i=E.key,D=n(L,i[0],i[1]);if(i[0][0]<i[1][0])if(D<0)E=E.left;else{if(!(D>0))return 0;M=-1,E=E.right}else if(D>0)E=E.left;else{if(!(D<0))return 0;M=1,E=E.right}}return M}}(z.slabs,z.coordinates);return 0===x.length?V:function u(C,T){return function(x){return C(x[0],x[1])?0:T(x)}}(b(x),V)};var n=r(417)[3],c=r(4385),o=r(9014),f=r(5070);function h(){return!0}function b(C){for(var T={},L=0;L<C.length;++L){var x=C[L],E=x[0][0],M=x[0][1],i=x[1][1],D=[Math.min(M,i),Math.max(M,i)];E in T?T[E].push(D):T[E]=[D]}var y={},B=Object.keys(T);for(L=0;L<B.length;++L)y[B[L]]=o(T[B[L]]);return function d(C){return function(T,L){var x=C[T];return!!x&&!!x.queryPoint(L,h)}}(y)}function A(C){return 1}},7309:function(v){"use strict";var w=new Float64Array(4),r=new Float64Array(4),n=new Float64Array(4);v.exports=function c(o,f,h,d,b){w.length<d.length&&(w=new Float64Array(d.length),r=new Float64Array(d.length),n=new Float64Array(d.length));for(var p=0;p<d.length;++p)w[p]=o[p]-d[p],r[p]=f[p]-o[p],n[p]=h[p]-o[p];var A=0,m=0,u=0,g=0,C=0,T=0;for(p=0;p<d.length;++p){var L=r[p],x=n[p],E=w[p];A+=L*L,m+=L*x,u+=x*x,g+=E*L,C+=E*x,T+=E*E}var y,F,_,z,V,M=Math.abs(A*u-m*m),i=m*C-u*g,D=m*g-A*C;if(i+D<=M)if(i<0)D<0&&g<0?(D=0,-g>=A?(i=1,y=A+2*g+T):y=g*(i=-g/A)+T):(i=0,C>=0?(D=0,y=T):-C>=u?(D=1,y=u+2*C+T):y=C*(D=-C/u)+T);else if(D<0)D=0,g>=0?(i=0,y=T):-g>=A?(i=1,y=A+2*g+T):y=g*(i=-g/A)+T;else{var B=1/M;y=(i*=B)*(A*i+m*(D*=B)+2*g)+D*(m*i+u*D+2*C)+T}else i<0?(_=u+C)>(F=m+g)?(z=_-F)>=(V=A-2*m+u)?(i=1,D=0,y=A+2*g+T):y=(i=z/V)*(A*i+m*(D=1-i)+2*g)+D*(m*i+u*D+2*C)+T:(i=0,_<=0?(D=1,y=u+2*C+T):C>=0?(D=0,y=T):y=C*(D=-C/u)+T):D<0?(_=A+g)>(F=m+C)?(z=_-F)>=(V=A-2*m+u)?(D=1,i=0,y=u+2*C+T):y=(i=1-(D=z/V))*(A*i+m*D+2*g)+D*(m*i+u*D+2*C)+T:(D=0,_<=0?(i=1,y=A+2*g+T):g>=0?(i=0,y=T):y=g*(i=-g/A)+T):(z=u+C-m-g)<=0?(i=0,D=1,y=u+2*C+T):z>=(V=A-2*m+u)?(i=1,D=0,y=A+2*g+T):y=(i=z/V)*(A*i+m*(D=1-i)+2*g)+D*(m*i+u*D+2*C)+T;var H=1-i-D;for(p=0;p<d.length;++p)b[p]=H*o[p]+i*f[p]+D*h[p];return y<0?0:y}},1116:function(v,w,r){v.exports=r(6093)},7584:function(v,w,r){"use strict";var n=r(1539);v.exports=function c(o,f){for(var h=o.length,d=new Array(h),b=0;b<h;++b)d[b]=n(o[b],f[b]);return d}},2826:function(v,w,r){"use strict";v.exports=function c(o){for(var f=new Array(o.length),h=0;h<o.length;++h)f[h]=n(o[h]);return f};var n=r(5125)},4469:function(v,w,r){"use strict";var n=r(5125),c=r(3962);v.exports=function o(f,h){for(var d=n(h),b=f.length,p=new Array(b),A=0;A<b;++A)p[A]=c(f[A],d);return p}},6695:function(v,w,r){"use strict";var n=r(4354);v.exports=function c(o,f){for(var h=o.length,d=new Array(h),b=0;b<h;++b)d[b]=n(o[b],f[b]);return d}},7037:function(v,w,r){"use strict";var n=r(9209),c=r(1284),o=r(9887);v.exports=function f(h){h.sort(c);for(var d=h.length,b=0,p=0;p<d;++p){var A=h[p],m=o(A);if(0!==m){if(b>0){var u=h[b-1];if(0===n(A,u)&&o(u)!==m){b-=1;continue}}h[b++]=A}}return h.length=b,h}},6184:function(v){"use strict";var r,w="";v.exports=function n(c,o){if("string"!=typeof c)throw new TypeError("expected a string");if(1===o)return c;if(2===o)return c+c;var f=c.length*o;if(r!==c||typeof r>"u")r=c,w="";else if(w.length>=f)return w.substr(0,f);for(;f>w.length&&o>1;)1&o&&(w+=c),o>>=1,c+=c;return w=(w+=c).substr(0,f)}},8161:function(v,w,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){"use strict";v.exports=function w(r){for(var n=r.length,c=r[r.length-1],o=n,f=n-2;f>=0;--f)(p=(d=r[f])-((c=(h=c)+d)-h))&&(r[--o]=c,c=p);var A=0;for(f=o;f<n;++f){var h,d,p;(p=(d=c)-((c=(h=r[f])+d)-h))&&(r[A++]=p)}return r[A++]=c,r.length=A,r}},8167:function(v,w,r){"use strict";var n=r(9660),c=r(9662),o=r(8289),f=r(402);function d(T,L,x,E){return function(i){return E(T(x(i[0][0],i[1][1]),x(-i[0][1],i[1][0])))}}function b(T,L,x,E){return function(i){return E(T(L(T(x(i[1][1],i[2][2]),x(-i[1][2],i[2][1])),i[0][0]),T(L(T(x(i[1][0],i[2][2]),x(-i[1][2],i[2][0])),-i[0][1]),L(T(x(i[1][0],i[2][1]),x(-i[1][1],i[2][0])),i[0][2]))))}}function p(T,L,x,E){return function(i){return E(T(T(L(T(L(T(x(i[2][2],i[3][3]),x(-i[2][3],i[3][2])),i[1][1]),T(L(T(x(i[2][1],i[3][3]),x(-i[2][3],i[3][1])),-i[1][2]),L(T(x(i[2][1],i[3][2]),x(-i[2][2],i[3][1])),i[1][3]))),i[0][0]),L(T(L(T(x(i[2][2],i[3][3]),x(-i[2][3],i[3][2])),i[1][0]),T(L(T(x(i[2][0],i[3][3]),x(-i[2][3],i[3][0])),-i[1][2]),L(T(x(i[2][0],i[3][2]),x(-i[2][2],i[3][0])),i[1][3]))),-i[0][1])),T(L(T(L(T(x(i[2][1],i[3][3]),x(-i[2][3],i[3][1])),i[1][0]),T(L(T(x(i[2][0],i[3][3]),x(-i[2][3],i[3][0])),-i[1][1]),L(T(x(i[2][0],i[3][1]),x(-i[2][1],i[3][0])),i[1][3]))),i[0][2]),L(T(L(T(x(i[2][1],i[3][2]),x(-i[2][2],i[3][1])),i[1][0]),T(L(T(x(i[2][0],i[3][2]),x(-i[2][2],i[3][0])),-i[1][1]),L(T(x(i[2][0],i[3][1]),x(-i[2][1],i[3][0])),i[1][2]))),-i[0][3]))))}}function A(T,L,x,E){return function(i){return E(T(T(L(T(T(L(T(L(T(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][2]),T(L(T(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),-i[2][3]),L(T(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][4]))),i[1][1]),L(T(L(T(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][1]),T(L(T(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][3]),L(T(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][4]))),-i[1][2])),T(L(T(L(T(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][1]),T(L(T(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][2]),L(T(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][4]))),i[1][3]),L(T(L(T(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][1]),T(L(T(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),-i[2][2]),L(T(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][3]))),-i[1][4]))),i[0][0]),L(T(T(L(T(L(T(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][2]),T(L(T(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),-i[2][3]),L(T(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][4]))),i[1][0]),L(T(L(T(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][0]),T(L(T(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][3]),L(T(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),i[2][4]))),-i[1][2])),T(L(T(L(T(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][0]),T(L(T(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][2]),L(T(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][4]))),i[1][3]),L(T(L(T(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][0]),T(L(T(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][2]),L(T(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][3]))),-i[1][4]))),-i[0][1])),T(L(T(T(L(T(L(T(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][1]),T(L(T(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][3]),L(T(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][4]))),i[1][0]),L(T(L(T(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][0]),T(L(T(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][3]),L(T(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),i[2][4]))),-i[1][1])),T(L(T(L(T(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),i[2][0]),T(L(T(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][1]),L(T(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][4]))),i[1][3]),L(T(L(T(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][0]),T(L(T(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][1]),L(T(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][3]))),-i[1][4]))),i[0][2]),T(L(T(T(L(T(L(T(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][1]),T(L(T(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][2]),L(T(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][4]))),i[1][0]),L(T(L(T(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][0]),T(L(T(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][2]),L(T(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][4]))),-i[1][1])),T(L(T(L(T(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),i[2][0]),T(L(T(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][1]),L(T(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][4]))),i[1][2]),L(T(L(T(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][0]),T(L(T(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),-i[2][1]),L(T(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][2]))),-i[1][4]))),-i[0][3]),L(T(T(L(T(L(T(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][1]),T(L(T(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),-i[2][2]),L(T(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][3]))),i[1][0]),L(T(L(T(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][0]),T(L(T(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][2]),L(T(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][3]))),-i[1][1])),T(L(T(L(T(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][0]),T(L(T(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][1]),L(T(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][3]))),i[1][2]),L(T(L(T(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][0]),T(L(T(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),-i[2][1]),L(T(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][2]))),-i[1][3]))),i[0][4])))))}}function m(T){return(2===T?d:3===T?b:4===T?p:5===T?A:void 0)(c,o,n,f)}var u=[function(){return[0]},function(L){return[L[0][0]]}];function g(T,L,x,E,M,i,D,y){return function(F){switch(F.length){case 0:return T(F);case 1:return L(F);case 2:return x(F);case 3:return E(F);case 4:return M(F);case 5:return i(F)}var _=D[F.length];return _||(_=D[F.length]=y(F.length)),_(F)}}!function C(){for(;u.length<6;)u.push(m(u.length));v.exports=g.apply(void 0,u.concat([u,m]));for(var T=0;T<u.length;++T)v.exports[T]=u[T]}()},9130:function(v,w,r){"use strict";var n=r(9660),c=r(9662);v.exports=function o(f,h){for(var d=n(f[0],h[0]),b=1;b<f.length;++b)d=c(d,n(f[b],h[b]));return d}},2227:function(v,w,r){"use strict";var n=r(9660),c=r(9662),o=r(4078),f=r(8289);function d(M){return(3===M?m:4===M?u:5===M?g:C)(c,o,n,f)}function m(M,i,D,y){return function B(F,_,z){var V=D(F[0],F[0]),H=y(V,_[0]),U=y(V,z[0]),G=D(_[0],_[0]),Y=y(G,F[0]),ee=y(G,z[0]),ue=D(z[0],z[0]),ce=y(ue,F[0]),pe=y(ue,_[0]),te=M(i(pe,ee),i(Y,H)),Q=i(ce,U),K=i(te,Q);return K[K.length-1]}}function u(M,i,D,y){return function B(F,_,z,V){var H=M(D(F[0],F[0]),D(F[1],F[1])),U=y(H,_[0]),G=y(H,z[0]),Y=y(H,V[0]),ee=M(D(_[0],_[0]),D(_[1],_[1])),ue=y(ee,F[0]),ce=y(ee,z[0]),pe=y(ee,V[0]),te=M(D(z[0],z[0]),D(z[1],z[1])),Q=y(te,F[0]),K=y(te,_[0]),Z=y(te,V[0]),q=M(D(V[0],V[0]),D(V[1],V[1])),fe=y(q,F[0]),re=y(q,_[0]),$=y(q,z[0]),le=M(M(y(i($,Z),_[1]),M(y(i(re,pe),-z[1]),y(i(K,ce),V[1]))),M(y(i(re,pe),F[1]),M(y(i(fe,Y),-_[1]),y(i(ue,U),V[1])))),se=M(M(y(i($,Z),F[1]),M(y(i(fe,Y),-z[1]),y(i(Q,G),V[1]))),M(y(i(K,ce),F[1]),M(y(i(Q,G),-_[1]),y(i(ue,U),z[1])))),de=i(le,se);return de[de.length-1]}}function g(M,i,D,y){return function B(F,_,z,V,H){var U=M(D(F[0],F[0]),M(D(F[1],F[1]),D(F[2],F[2]))),G=y(U,_[0]),Y=y(U,z[0]),ee=y(U,V[0]),ue=y(U,H[0]),ce=M(D(_[0],_[0]),M(D(_[1],_[1]),D(_[2],_[2]))),pe=y(ce,F[0]),te=y(ce,z[0]),Q=y(ce,V[0]),K=y(ce,H[0]),Z=M(D(z[0],z[0]),M(D(z[1],z[1]),D(z[2],z[2]))),q=y(Z,F[0]),fe=y(Z,_[0]),re=y(Z,V[0]),$=y(Z,H[0]),le=M(D(V[0],V[0]),M(D(V[1],V[1]),D(V[2],V[2]))),se=y(le,F[0]),de=y(le,_[0]),we=y(le,z[0]),Ee=y(le,H[0]),Me=M(D(H[0],H[0]),M(D(H[1],H[1]),D(H[2],H[2]))),Ne=y(Me,F[0]),Ve=y(Me,_[0]),Pe=y(Me,z[0]),Ce=y(Me,V[0]),Ie=M(M(M(y(M(y(i(Ce,Ee),z[1]),M(y(i(Pe,$),-V[1]),y(i(we,re),H[1]))),_[2]),M(y(M(y(i(Ce,Ee),_[1]),M(y(i(Ve,K),-V[1]),y(i(de,Q),H[1]))),-z[2]),y(M(y(i(Pe,$),_[1]),M(y(i(Ve,K),-z[1]),y(i(fe,te),H[1]))),V[2]))),M(y(M(y(i(we,re),_[1]),M(y(i(de,Q),-z[1]),y(i(fe,te),V[1]))),-H[2]),M(y(M(y(i(Ce,Ee),_[1]),M(y(i(Ve,K),-V[1]),y(i(de,Q),H[1]))),F[2]),y(M(y(i(Ce,Ee),F[1]),M(y(i(Ne,ue),-V[1]),y(i(se,ee),H[1]))),-_[2])))),M(M(y(M(y(i(Ve,K),F[1]),M(y(i(Ne,ue),-_[1]),y(i(pe,G),H[1]))),V[2]),M(y(M(y(i(de,Q),F[1]),M(y(i(se,ee),-_[1]),y(i(pe,G),V[1]))),-H[2]),y(M(y(i(we,re),_[1]),M(y(i(de,Q),-z[1]),y(i(fe,te),V[1]))),F[2]))),M(y(M(y(i(we,re),F[1]),M(y(i(se,ee),-z[1]),y(i(q,Y),V[1]))),-_[2]),M(y(M(y(i(de,Q),F[1]),M(y(i(se,ee),-_[1]),y(i(pe,G),V[1]))),z[2]),y(M(y(i(fe,te),F[1]),M(y(i(q,Y),-_[1]),y(i(pe,G),z[1]))),-V[2]))))),Je=M(M(M(y(M(y(i(Ce,Ee),z[1]),M(y(i(Pe,$),-V[1]),y(i(we,re),H[1]))),F[2]),y(M(y(i(Ce,Ee),F[1]),M(y(i(Ne,ue),-V[1]),y(i(se,ee),H[1]))),-z[2])),M(y(M(y(i(Pe,$),F[1]),M(y(i(Ne,ue),-z[1]),y(i(q,Y),H[1]))),V[2]),y(M(y(i(we,re),F[1]),M(y(i(se,ee),-z[1]),y(i(q,Y),V[1]))),-H[2]))),M(M(y(M(y(i(Pe,$),_[1]),M(y(i(Ve,K),-z[1]),y(i(fe,te),H[1]))),F[2]),y(M(y(i(Pe,$),F[1]),M(y(i(Ne,ue),-z[1]),y(i(q,Y),H[1]))),-_[2])),M(y(M(y(i(Ve,K),F[1]),M(y(i(Ne,ue),-_[1]),y(i(pe,G),H[1]))),z[2]),y(M(y(i(fe,te),F[1]),M(y(i(q,Y),-_[1]),y(i(pe,G),z[1]))),-H[2])))),Qe=i(Ie,Je);return Qe[Qe.length-1]}}function C(M,i,D,y){return function B(F,_,z,V,H,U){var G=M(M(D(F[0],F[0]),D(F[1],F[1])),M(D(F[2],F[2]),D(F[3],F[3]))),Y=y(G,_[0]),ee=y(G,z[0]),ue=y(G,V[0]),ce=y(G,H[0]),pe=y(G,U[0]),te=M(M(D(_[0],_[0]),D(_[1],_[1])),M(D(_[2],_[2]),D(_[3],_[3]))),Q=y(te,F[0]),K=y(te,z[0]),Z=y(te,V[0]),q=y(te,H[0]),fe=y(te,U[0]),re=M(M(D(z[0],z[0]),D(z[1],z[1])),M(D(z[2],z[2]),D(z[3],z[3]))),$=y(re,F[0]),le=y(re,_[0]),se=y(re,V[0]),de=y(re,H[0]),we=y(re,U[0]),Ee=M(M(D(V[0],V[0]),D(V[1],V[1])),M(D(V[2],V[2]),D(V[3],V[3]))),Me=y(Ee,F[0]),Ne=y(Ee,_[0]),Ve=y(Ee,z[0]),Pe=y(Ee,H[0]),Ce=y(Ee,U[0]),Ie=M(M(D(H[0],H[0]),D(H[1],H[1])),M(D(H[2],H[2]),D(H[3],H[3]))),Je=y(Ie,F[0]),Qe=y(Ie,_[0]),ze=y(Ie,z[0]),Ke=y(Ie,V[0]),ut=y(Ie,U[0]),ot=M(M(D(U[0],U[0]),D(U[1],U[1])),M(D(U[2],U[2]),D(U[3],U[3]))),We=y(ot,F[0]),je=y(ot,_[0]),lt=y(ot,z[0]),vt=y(ot,V[0]),pt=y(ot,H[0]),St=M(M(M(y(M(M(y(M(y(i(pt,ut),V[1]),M(y(i(vt,Ce),-H[1]),y(i(Ke,Pe),U[1]))),z[2]),y(M(y(i(pt,ut),z[1]),M(y(i(lt,we),-H[1]),y(i(ze,de),U[1]))),-V[2])),M(y(M(y(i(vt,Ce),z[1]),M(y(i(lt,we),-V[1]),y(i(Ve,se),U[1]))),H[2]),y(M(y(i(Ke,Pe),z[1]),M(y(i(ze,de),-V[1]),y(i(Ve,se),H[1]))),-U[2]))),_[3]),M(y(M(M(y(M(y(i(pt,ut),V[1]),M(y(i(vt,Ce),-H[1]),y(i(Ke,Pe),U[1]))),_[2]),y(M(y(i(pt,ut),_[1]),M(y(i(je,fe),-H[1]),y(i(Qe,q),U[1]))),-V[2])),M(y(M(y(i(vt,Ce),_[1]),M(y(i(je,fe),-V[1]),y(i(Ne,Z),U[1]))),H[2]),y(M(y(i(Ke,Pe),_[1]),M(y(i(Qe,q),-V[1]),y(i(Ne,Z),H[1]))),-U[2]))),-z[3]),y(M(M(y(M(y(i(pt,ut),z[1]),M(y(i(lt,we),-H[1]),y(i(ze,de),U[1]))),_[2]),y(M(y(i(pt,ut),_[1]),M(y(i(je,fe),-H[1]),y(i(Qe,q),U[1]))),-z[2])),M(y(M(y(i(lt,we),_[1]),M(y(i(je,fe),-z[1]),y(i(le,K),U[1]))),H[2]),y(M(y(i(ze,de),_[1]),M(y(i(Qe,q),-z[1]),y(i(le,K),H[1]))),-U[2]))),V[3]))),M(M(y(M(M(y(M(y(i(vt,Ce),z[1]),M(y(i(lt,we),-V[1]),y(i(Ve,se),U[1]))),_[2]),y(M(y(i(vt,Ce),_[1]),M(y(i(je,fe),-V[1]),y(i(Ne,Z),U[1]))),-z[2])),M(y(M(y(i(lt,we),_[1]),M(y(i(je,fe),-z[1]),y(i(le,K),U[1]))),V[2]),y(M(y(i(Ve,se),_[1]),M(y(i(Ne,Z),-z[1]),y(i(le,K),V[1]))),-U[2]))),-H[3]),y(M(M(y(M(y(i(Ke,Pe),z[1]),M(y(i(ze,de),-V[1]),y(i(Ve,se),H[1]))),_[2]),y(M(y(i(Ke,Pe),_[1]),M(y(i(Qe,q),-V[1]),y(i(Ne,Z),H[1]))),-z[2])),M(y(M(y(i(ze,de),_[1]),M(y(i(Qe,q),-z[1]),y(i(le,K),H[1]))),V[2]),y(M(y(i(Ve,se),_[1]),M(y(i(Ne,Z),-z[1]),y(i(le,K),V[1]))),-H[2]))),U[3])),M(y(M(M(y(M(y(i(pt,ut),V[1]),M(y(i(vt,Ce),-H[1]),y(i(Ke,Pe),U[1]))),_[2]),y(M(y(i(pt,ut),_[1]),M(y(i(je,fe),-H[1]),y(i(Qe,q),U[1]))),-V[2])),M(y(M(y(i(vt,Ce),_[1]),M(y(i(je,fe),-V[1]),y(i(Ne,Z),U[1]))),H[2]),y(M(y(i(Ke,Pe),_[1]),M(y(i(Qe,q),-V[1]),y(i(Ne,Z),H[1]))),-U[2]))),F[3]),y(M(M(y(M(y(i(pt,ut),V[1]),M(y(i(vt,Ce),-H[1]),y(i(Ke,Pe),U[1]))),F[2]),y(M(y(i(pt,ut),F[1]),M(y(i(We,pe),-H[1]),y(i(Je,ce),U[1]))),-V[2])),M(y(M(y(i(vt,Ce),F[1]),M(y(i(We,pe),-V[1]),y(i(Me,ue),U[1]))),H[2]),y(M(y(i(Ke,Pe),F[1]),M(y(i(Je,ce),-V[1]),y(i(Me,ue),H[1]))),-U[2]))),-_[3])))),M(M(M(y(M(M(y(M(y(i(pt,ut),_[1]),M(y(i(je,fe),-H[1]),y(i(Qe,q),U[1]))),F[2]),y(M(y(i(pt,ut),F[1]),M(y(i(We,pe),-H[1]),y(i(Je,ce),U[1]))),-_[2])),M(y(M(y(i(je,fe),F[1]),M(y(i(We,pe),-_[1]),y(i(Q,Y),U[1]))),H[2]),y(M(y(i(Qe,q),F[1]),M(y(i(Je,ce),-_[1]),y(i(Q,Y),H[1]))),-U[2]))),V[3]),y(M(M(y(M(y(i(vt,Ce),_[1]),M(y(i(je,fe),-V[1]),y(i(Ne,Z),U[1]))),F[2]),y(M(y(i(vt,Ce),F[1]),M(y(i(We,pe),-V[1]),y(i(Me,ue),U[1]))),-_[2])),M(y(M(y(i(je,fe),F[1]),M(y(i(We,pe),-_[1]),y(i(Q,Y),U[1]))),V[2]),y(M(y(i(Ne,Z),F[1]),M(y(i(Me,ue),-_[1]),y(i(Q,Y),V[1]))),-U[2]))),-H[3])),M(y(M(M(y(M(y(i(Ke,Pe),_[1]),M(y(i(Qe,q),-V[1]),y(i(Ne,Z),H[1]))),F[2]),y(M(y(i(Ke,Pe),F[1]),M(y(i(Je,ce),-V[1]),y(i(Me,ue),H[1]))),-_[2])),M(y(M(y(i(Qe,q),F[1]),M(y(i(Je,ce),-_[1]),y(i(Q,Y),H[1]))),V[2]),y(M(y(i(Ne,Z),F[1]),M(y(i(Me,ue),-_[1]),y(i(Q,Y),V[1]))),-H[2]))),U[3]),y(M(M(y(M(y(i(vt,Ce),z[1]),M(y(i(lt,we),-V[1]),y(i(Ve,se),U[1]))),_[2]),y(M(y(i(vt,Ce),_[1]),M(y(i(je,fe),-V[1]),y(i(Ne,Z),U[1]))),-z[2])),M(y(M(y(i(lt,we),_[1]),M(y(i(je,fe),-z[1]),y(i(le,K),U[1]))),V[2]),y(M(y(i(Ve,se),_[1]),M(y(i(Ne,Z),-z[1]),y(i(le,K),V[1]))),-U[2]))),F[3]))),M(M(y(M(M(y(M(y(i(vt,Ce),z[1]),M(y(i(lt,we),-V[1]),y(i(Ve,se),U[1]))),F[2]),y(M(y(i(vt,Ce),F[1]),M(y(i(We,pe),-V[1]),y(i(Me,ue),U[1]))),-z[2])),M(y(M(y(i(lt,we),F[1]),M(y(i(We,pe),-z[1]),y(i($,ee),U[1]))),V[2]),y(M(y(i(Ve,se),F[1]),M(y(i(Me,ue),-z[1]),y(i($,ee),V[1]))),-U[2]))),-_[3]),y(M(M(y(M(y(i(vt,Ce),_[1]),M(y(i(je,fe),-V[1]),y(i(Ne,Z),U[1]))),F[2]),y(M(y(i(vt,Ce),F[1]),M(y(i(We,pe),-V[1]),y(i(Me,ue),U[1]))),-_[2])),M(y(M(y(i(je,fe),F[1]),M(y(i(We,pe),-_[1]),y(i(Q,Y),U[1]))),V[2]),y(M(y(i(Ne,Z),F[1]),M(y(i(Me,ue),-_[1]),y(i(Q,Y),V[1]))),-U[2]))),z[3])),M(y(M(M(y(M(y(i(lt,we),_[1]),M(y(i(je,fe),-z[1]),y(i(le,K),U[1]))),F[2]),y(M(y(i(lt,we),F[1]),M(y(i(We,pe),-z[1]),y(i($,ee),U[1]))),-_[2])),M(y(M(y(i(je,fe),F[1]),M(y(i(We,pe),-_[1]),y(i(Q,Y),U[1]))),z[2]),y(M(y(i(le,K),F[1]),M(y(i($,ee),-_[1]),y(i(Q,Y),z[1]))),-U[2]))),-V[3]),y(M(M(y(M(y(i(Ve,se),_[1]),M(y(i(Ne,Z),-z[1]),y(i(le,K),V[1]))),F[2]),y(M(y(i(Ve,se),F[1]),M(y(i(Me,ue),-z[1]),y(i($,ee),V[1]))),-_[2])),M(y(M(y(i(Ne,Z),F[1]),M(y(i(Me,ue),-_[1]),y(i(Q,Y),V[1]))),z[2]),y(M(y(i(le,K),F[1]),M(y(i($,ee),-_[1]),y(i(Q,Y),z[1]))),-V[2]))),U[3]))))),Ct=M(M(M(y(M(M(y(M(y(i(pt,ut),V[1]),M(y(i(vt,Ce),-H[1]),y(i(Ke,Pe),U[1]))),z[2]),y(M(y(i(pt,ut),z[1]),M(y(i(lt,we),-H[1]),y(i(ze,de),U[1]))),-V[2])),M(y(M(y(i(vt,Ce),z[1]),M(y(i(lt,we),-V[1]),y(i(Ve,se),U[1]))),H[2]),y(M(y(i(Ke,Pe),z[1]),M(y(i(ze,de),-V[1]),y(i(Ve,se),H[1]))),-U[2]))),F[3]),M(y(M(M(y(M(y(i(pt,ut),V[1]),M(y(i(vt,Ce),-H[1]),y(i(Ke,Pe),U[1]))),F[2]),y(M(y(i(pt,ut),F[1]),M(y(i(We,pe),-H[1]),y(i(Je,ce),U[1]))),-V[2])),M(y(M(y(i(vt,Ce),F[1]),M(y(i(We,pe),-V[1]),y(i(Me,ue),U[1]))),H[2]),y(M(y(i(Ke,Pe),F[1]),M(y(i(Je,ce),-V[1]),y(i(Me,ue),H[1]))),-U[2]))),-z[3]),y(M(M(y(M(y(i(pt,ut),z[1]),M(y(i(lt,we),-H[1]),y(i(ze,de),U[1]))),F[2]),y(M(y(i(pt,ut),F[1]),M(y(i(We,pe),-H[1]),y(i(Je,ce),U[1]))),-z[2])),M(y(M(y(i(lt,we),F[1]),M(y(i(We,pe),-z[1]),y(i($,ee),U[1]))),H[2]),y(M(y(i(ze,de),F[1]),M(y(i(Je,ce),-z[1]),y(i($,ee),H[1]))),-U[2]))),V[3]))),M(M(y(M(M(y(M(y(i(vt,Ce),z[1]),M(y(i(lt,we),-V[1]),y(i(Ve,se),U[1]))),F[2]),y(M(y(i(vt,Ce),F[1]),M(y(i(We,pe),-V[1]),y(i(Me,ue),U[1]))),-z[2])),M(y(M(y(i(lt,we),F[1]),M(y(i(We,pe),-z[1]),y(i($,ee),U[1]))),V[2]),y(M(y(i(Ve,se),F[1]),M(y(i(Me,ue),-z[1]),y(i($,ee),V[1]))),-U[2]))),-H[3]),y(M(M(y(M(y(i(Ke,Pe),z[1]),M(y(i(ze,de),-V[1]),y(i(Ve,se),H[1]))),F[2]),y(M(y(i(Ke,Pe),F[1]),M(y(i(Je,ce),-V[1]),y(i(Me,ue),H[1]))),-z[2])),M(y(M(y(i(ze,de),F[1]),M(y(i(Je,ce),-z[1]),y(i($,ee),H[1]))),V[2]),y(M(y(i(Ve,se),F[1]),M(y(i(Me,ue),-z[1]),y(i($,ee),V[1]))),-H[2]))),U[3])),M(y(M(M(y(M(y(i(pt,ut),z[1]),M(y(i(lt,we),-H[1]),y(i(ze,de),U[1]))),_[2]),y(M(y(i(pt,ut),_[1]),M(y(i(je,fe),-H[1]),y(i(Qe,q),U[1]))),-z[2])),M(y(M(y(i(lt,we),_[1]),M(y(i(je,fe),-z[1]),y(i(le,K),U[1]))),H[2]),y(M(y(i(ze,de),_[1]),M(y(i(Qe,q),-z[1]),y(i(le,K),H[1]))),-U[2]))),F[3]),y(M(M(y(M(y(i(pt,ut),z[1]),M(y(i(lt,we),-H[1]),y(i(ze,de),U[1]))),F[2]),y(M(y(i(pt,ut),F[1]),M(y(i(We,pe),-H[1]),y(i(Je,ce),U[1]))),-z[2])),M(y(M(y(i(lt,we),F[1]),M(y(i(We,pe),-z[1]),y(i($,ee),U[1]))),H[2]),y(M(y(i(ze,de),F[1]),M(y(i(Je,ce),-z[1]),y(i($,ee),H[1]))),-U[2]))),-_[3])))),M(M(M(y(M(M(y(M(y(i(pt,ut),_[1]),M(y(i(je,fe),-H[1]),y(i(Qe,q),U[1]))),F[2]),y(M(y(i(pt,ut),F[1]),M(y(i(We,pe),-H[1]),y(i(Je,ce),U[1]))),-_[2])),M(y(M(y(i(je,fe),F[1]),M(y(i(We,pe),-_[1]),y(i(Q,Y),U[1]))),H[2]),y(M(y(i(Qe,q),F[1]),M(y(i(Je,ce),-_[1]),y(i(Q,Y),H[1]))),-U[2]))),z[3]),y(M(M(y(M(y(i(lt,we),_[1]),M(y(i(je,fe),-z[1]),y(i(le,K),U[1]))),F[2]),y(M(y(i(lt,we),F[1]),M(y(i(We,pe),-z[1]),y(i($,ee),U[1]))),-_[2])),M(y(M(y(i(je,fe),F[1]),M(y(i(We,pe),-_[1]),y(i(Q,Y),U[1]))),z[2]),y(M(y(i(le,K),F[1]),M(y(i($,ee),-_[1]),y(i(Q,Y),z[1]))),-U[2]))),-H[3])),M(y(M(M(y(M(y(i(ze,de),_[1]),M(y(i(Qe,q),-z[1]),y(i(le,K),H[1]))),F[2]),y(M(y(i(ze,de),F[1]),M(y(i(Je,ce),-z[1]),y(i($,ee),H[1]))),-_[2])),M(y(M(y(i(Qe,q),F[1]),M(y(i(Je,ce),-_[1]),y(i(Q,Y),H[1]))),z[2]),y(M(y(i(le,K),F[1]),M(y(i($,ee),-_[1]),y(i(Q,Y),z[1]))),-H[2]))),U[3]),y(M(M(y(M(y(i(Ke,Pe),z[1]),M(y(i(ze,de),-V[1]),y(i(Ve,se),H[1]))),_[2]),y(M(y(i(Ke,Pe),_[1]),M(y(i(Qe,q),-V[1]),y(i(Ne,Z),H[1]))),-z[2])),M(y(M(y(i(ze,de),_[1]),M(y(i(Qe,q),-z[1]),y(i(le,K),H[1]))),V[2]),y(M(y(i(Ve,se),_[1]),M(y(i(Ne,Z),-z[1]),y(i(le,K),V[1]))),-H[2]))),F[3]))),M(M(y(M(M(y(M(y(i(Ke,Pe),z[1]),M(y(i(ze,de),-V[1]),y(i(Ve,se),H[1]))),F[2]),y(M(y(i(Ke,Pe),F[1]),M(y(i(Je,ce),-V[1]),y(i(Me,ue),H[1]))),-z[2])),M(y(M(y(i(ze,de),F[1]),M(y(i(Je,ce),-z[1]),y(i($,ee),H[1]))),V[2]),y(M(y(i(Ve,se),F[1]),M(y(i(Me,ue),-z[1]),y(i($,ee),V[1]))),-H[2]))),-_[3]),y(M(M(y(M(y(i(Ke,Pe),_[1]),M(y(i(Qe,q),-V[1]),y(i(Ne,Z),H[1]))),F[2]),y(M(y(i(Ke,Pe),F[1]),M(y(i(Je,ce),-V[1]),y(i(Me,ue),H[1]))),-_[2])),M(y(M(y(i(Qe,q),F[1]),M(y(i(Je,ce),-_[1]),y(i(Q,Y),H[1]))),V[2]),y(M(y(i(Ne,Z),F[1]),M(y(i(Me,ue),-_[1]),y(i(Q,Y),V[1]))),-H[2]))),z[3])),M(y(M(M(y(M(y(i(ze,de),_[1]),M(y(i(Qe,q),-z[1]),y(i(le,K),H[1]))),F[2]),y(M(y(i(ze,de),F[1]),M(y(i(Je,ce),-z[1]),y(i($,ee),H[1]))),-_[2])),M(y(M(y(i(Qe,q),F[1]),M(y(i(Je,ce),-_[1]),y(i(Q,Y),H[1]))),z[2]),y(M(y(i(le,K),F[1]),M(y(i($,ee),-_[1]),y(i(Q,Y),z[1]))),-H[2]))),-V[3]),y(M(M(y(M(y(i(Ve,se),_[1]),M(y(i(Ne,Z),-z[1]),y(i(le,K),V[1]))),F[2]),y(M(y(i(Ve,se),F[1]),M(y(i(Me,ue),-z[1]),y(i($,ee),V[1]))),-_[2])),M(y(M(y(i(Ne,Z),F[1]),M(y(i(Me,ue),-_[1]),y(i(Q,Y),V[1]))),z[2]),y(M(y(i(le,K),F[1]),M(y(i($,ee),-_[1]),y(i(Q,Y),z[1]))),-V[2]))),H[3]))))),_t=i(St,Ct);return _t[_t.length-1]}}var T=[function b(){return 0},function p(){return 0},function A(){return 0}];function L(M){var i=T[M.length];return i||(i=T[M.length]=d(M.length)),i.apply(void 0,M)}function x(M,i,D,y,B,F,_,z){return function V(H,U,G,Y,ee,ue){switch(arguments.length){case 0:case 1:return 0;case 2:return y(H,U);case 3:return B(H,U,G);case 4:return F(H,U,G,Y);case 5:return _(H,U,G,Y,ee);case 6:return z(H,U,G,Y,ee,ue)}for(var ce=new Array(arguments.length),pe=0;pe<arguments.length;++pe)ce[pe]=arguments[pe];return M(ce)}}!function E(){for(;T.length<=6;)T.push(d(T.length));v.exports=x.apply(void 0,[L].concat(T));for(var M=0;M<=6;++M)v.exports[M]=T[M]}()},6606:function(v,w,r){"use strict";var n=r(8167);function o(T){return(2===T?d:3===T?b:4===T?p:5===T?A:m)(T<6?n[T]:n)}function d(T){return function(x,E){return[T([[+E[0],+x[0][1]],[+E[1],+x[1][1]]]),T([[+x[0][0],+E[0]],[+x[1][0],+E[1]]]),T(x)]}}function b(T){return function(x,E){return[T([[+E[0],+x[0][1],+x[0][2]],[+E[1],+x[1][1],+x[1][2]],[+E[2],+x[2][1],+x[2][2]]]),T([[+x[0][0],+E[0],+x[0][2]],[+x[1][0],+E[1],+x[1][2]],[+x[2][0],+E[2],+x[2][2]]]),T([[+x[0][0],+x[0][1],+E[0]],[+x[1][0],+x[1][1],+E[1]],[+x[2][0],+x[2][1],+E[2]]]),T(x)]}}function p(T){return function(x,E){return[T([[+E[0],+x[0][1],+x[0][2],+x[0][3]],[+E[1],+x[1][1],+x[1][2],+x[1][3]],[+E[2],+x[2][1],+x[2][2],+x[2][3]],[+E[3],+x[3][1],+x[3][2],+x[3][3]]]),T([[+x[0][0],+E[0],+x[0][2],+x[0][3]],[+x[1][0],+E[1],+x[1][2],+x[1][3]],[+x[2][0],+E[2],+x[2][2],+x[2][3]],[+x[3][0],+E[3],+x[3][2],+x[3][3]]]),T([[+x[0][0],+x[0][1],+E[0],+x[0][3]],[+x[1][0],+x[1][1],+E[1],+x[1][3]],[+x[2][0],+x[2][1],+E[2],+x[2][3]],[+x[3][0],+x[3][1],+E[3],+x[3][3]]]),T([[+x[0][0],+x[0][1],+x[0][2],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+E[3]]]),T(x)]}}function A(T){return function(x,E){return[T([[+E[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4]],[+E[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4]],[+E[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4]],[+E[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4]],[+E[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4]]]),T([[+x[0][0],+E[0],+x[0][2],+x[0][3],+x[0][4]],[+x[1][0],+E[1],+x[1][2],+x[1][3],+x[1][4]],[+x[2][0],+E[2],+x[2][2],+x[2][3],+x[2][4]],[+x[3][0],+E[3],+x[3][2],+x[3][3],+x[3][4]],[+x[4][0],+E[4],+x[4][2],+x[4][3],+x[4][4]]]),T([[+x[0][0],+x[0][1],+E[0],+x[0][3],+x[0][4]],[+x[1][0],+x[1][1],+E[1],+x[1][3],+x[1][4]],[+x[2][0],+x[2][1],+E[2],+x[2][3],+x[2][4]],[+x[3][0],+x[3][1],+E[3],+x[3][3],+x[3][4]],[+x[4][0],+x[4][1],+E[4],+x[4][3],+x[4][4]]]),T([[+x[0][0],+x[0][1],+x[0][2],+E[0],+x[0][4]],[+x[1][0],+x[1][1],+x[1][2],+E[1],+x[1][4]],[+x[2][0],+x[2][1],+x[2][2],+E[2],+x[2][4]],[+x[3][0],+x[3][1],+x[3][2],+E[3],+x[3][4]],[+x[4][0],+x[4][1],+x[4][2],+E[4],+x[4][4]]]),T([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+E[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+E[4]]]),T(x)]}}function m(T){return function(x,E){return[T([[+E[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+E[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+E[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+E[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+E[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+E[5],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),T([[+x[0][0],+E[0],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+E[1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+E[2],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+E[3],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+E[4],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+E[5],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),T([[+x[0][0],+x[0][1],+E[0],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+E[1],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+E[2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+E[3],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+E[4],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+E[5],+x[5][3],+x[5][4],+x[5][5]]]),T([[+x[0][0],+x[0][1],+x[0][2],+E[0],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+E[1],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+E[2],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+E[3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+E[4],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+E[5],+x[5][4],+x[5][5]]]),T([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+E[0],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+E[1],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+E[2],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+E[3],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+E[4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+E[5],+x[5][5]]]),T([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+E[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+E[4]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+E[5]]]),T(x)]}}var u=[function f(){return[[0]]},function h(T,L){return[[L[0]],[T[0][0]]]}];function g(T,L,x,E,M,i,D,y){return function(F,_){switch(F.length){case 0:return T(F,_);case 1:return L(F,_);case 2:return x(F,_);case 3:return E(F,_);case 4:return M(F,_);case 5:return i(F,_)}var z=D[F.length];return z||(z=D[F.length]=y(F.length)),z(F,_)}}!function C(){for(;u.length<6;)u.push(o(u.length));v.exports=g.apply(void 0,u.concat([u,o]));for(var T=0;T<6;++T)v.exports[T]=u[T]}()},417:function(v,w,r){"use strict";var n=r(9660),c=r(9662),o=r(8289),f=r(4078);function A(i,D,y,B){return function(_,z,V){var H=i(i(D(z[1],V[0]),D(-V[1],z[0])),i(D(_[1],z[0]),D(-z[1],_[0]))),U=i(D(_[1],V[0]),D(-V[1],_[0])),G=B(H,U);return G[G.length-1]}}function m(i,D,y,B){return function(_,z,V,H){var U=i(i(y(i(D(V[1],H[0]),D(-H[1],V[0])),z[2]),i(y(i(D(z[1],H[0]),D(-H[1],z[0])),-V[2]),y(i(D(z[1],V[0]),D(-V[1],z[0])),H[2]))),i(y(i(D(z[1],H[0]),D(-H[1],z[0])),_[2]),i(y(i(D(_[1],H[0]),D(-H[1],_[0])),-z[2]),y(i(D(_[1],z[0]),D(-z[1],_[0])),H[2])))),G=i(i(y(i(D(V[1],H[0]),D(-H[1],V[0])),_[2]),i(y(i(D(_[1],H[0]),D(-H[1],_[0])),-V[2]),y(i(D(_[1],V[0]),D(-V[1],_[0])),H[2]))),i(y(i(D(z[1],V[0]),D(-V[1],z[0])),_[2]),i(y(i(D(_[1],V[0]),D(-V[1],_[0])),-z[2]),y(i(D(_[1],z[0]),D(-z[1],_[0])),V[2])))),Y=B(U,G);return Y[Y.length-1]}}function u(i,D,y,B){return function(_,z,V,H,U){var G=i(i(i(y(i(y(i(D(H[1],U[0]),D(-U[1],H[0])),V[2]),i(y(i(D(V[1],U[0]),D(-U[1],V[0])),-H[2]),y(i(D(V[1],H[0]),D(-H[1],V[0])),U[2]))),z[3]),i(y(i(y(i(D(H[1],U[0]),D(-U[1],H[0])),z[2]),i(y(i(D(z[1],U[0]),D(-U[1],z[0])),-H[2]),y(i(D(z[1],H[0]),D(-H[1],z[0])),U[2]))),-V[3]),y(i(y(i(D(V[1],U[0]),D(-U[1],V[0])),z[2]),i(y(i(D(z[1],U[0]),D(-U[1],z[0])),-V[2]),y(i(D(z[1],V[0]),D(-V[1],z[0])),U[2]))),H[3]))),i(y(i(y(i(D(V[1],H[0]),D(-H[1],V[0])),z[2]),i(y(i(D(z[1],H[0]),D(-H[1],z[0])),-V[2]),y(i(D(z[1],V[0]),D(-V[1],z[0])),H[2]))),-U[3]),i(y(i(y(i(D(H[1],U[0]),D(-U[1],H[0])),z[2]),i(y(i(D(z[1],U[0]),D(-U[1],z[0])),-H[2]),y(i(D(z[1],H[0]),D(-H[1],z[0])),U[2]))),_[3]),y(i(y(i(D(H[1],U[0]),D(-U[1],H[0])),_[2]),i(y(i(D(_[1],U[0]),D(-U[1],_[0])),-H[2]),y(i(D(_[1],H[0]),D(-H[1],_[0])),U[2]))),-z[3])))),i(i(y(i(y(i(D(z[1],U[0]),D(-U[1],z[0])),_[2]),i(y(i(D(_[1],U[0]),D(-U[1],_[0])),-z[2]),y(i(D(_[1],z[0]),D(-z[1],_[0])),U[2]))),H[3]),i(y(i(y(i(D(z[1],H[0]),D(-H[1],z[0])),_[2]),i(y(i(D(_[1],H[0]),D(-H[1],_[0])),-z[2]),y(i(D(_[1],z[0]),D(-z[1],_[0])),H[2]))),-U[3]),y(i(y(i(D(V[1],H[0]),D(-H[1],V[0])),z[2]),i(y(i(D(z[1],H[0]),D(-H[1],z[0])),-V[2]),y(i(D(z[1],V[0]),D(-V[1],z[0])),H[2]))),_[3]))),i(y(i(y(i(D(V[1],H[0]),D(-H[1],V[0])),_[2]),i(y(i(D(_[1],H[0]),D(-H[1],_[0])),-V[2]),y(i(D(_[1],V[0]),D(-V[1],_[0])),H[2]))),-z[3]),i(y(i(y(i(D(z[1],H[0]),D(-H[1],z[0])),_[2]),i(y(i(D(_[1],H[0]),D(-H[1],_[0])),-z[2]),y(i(D(_[1],z[0]),D(-z[1],_[0])),H[2]))),V[3]),y(i(y(i(D(z[1],V[0]),D(-V[1],z[0])),_[2]),i(y(i(D(_[1],V[0]),D(-V[1],_[0])),-z[2]),y(i(D(_[1],z[0]),D(-z[1],_[0])),V[2]))),-H[3]))))),Y=i(i(i(y(i(y(i(D(H[1],U[0]),D(-U[1],H[0])),V[2]),i(y(i(D(V[1],U[0]),D(-U[1],V[0])),-H[2]),y(i(D(V[1],H[0]),D(-H[1],V[0])),U[2]))),_[3]),y(i(y(i(D(H[1],U[0]),D(-U[1],H[0])),_[2]),i(y(i(D(_[1],U[0]),D(-U[1],_[0])),-H[2]),y(i(D(_[1],H[0]),D(-H[1],_[0])),U[2]))),-V[3])),i(y(i(y(i(D(V[1],U[0]),D(-U[1],V[0])),_[2]),i(y(i(D(_[1],U[0]),D(-U[1],_[0])),-V[2]),y(i(D(_[1],V[0]),D(-V[1],_[0])),U[2]))),H[3]),y(i(y(i(D(V[1],H[0]),D(-H[1],V[0])),_[2]),i(y(i(D(_[1],H[0]),D(-H[1],_[0])),-V[2]),y(i(D(_[1],V[0]),D(-V[1],_[0])),H[2]))),-U[3]))),i(i(y(i(y(i(D(V[1],U[0]),D(-U[1],V[0])),z[2]),i(y(i(D(z[1],U[0]),D(-U[1],z[0])),-V[2]),y(i(D(z[1],V[0]),D(-V[1],z[0])),U[2]))),_[3]),y(i(y(i(D(V[1],U[0]),D(-U[1],V[0])),_[2]),i(y(i(D(_[1],U[0]),D(-U[1],_[0])),-V[2]),y(i(D(_[1],V[0]),D(-V[1],_[0])),U[2]))),-z[3])),i(y(i(y(i(D(z[1],U[0]),D(-U[1],z[0])),_[2]),i(y(i(D(_[1],U[0]),D(-U[1],_[0])),-z[2]),y(i(D(_[1],z[0]),D(-z[1],_[0])),U[2]))),V[3]),y(i(y(i(D(z[1],V[0]),D(-V[1],z[0])),_[2]),i(y(i(D(_[1],V[0]),D(-V[1],_[0])),-z[2]),y(i(D(_[1],z[0]),D(-z[1],_[0])),V[2]))),-U[3])))),ee=B(G,Y);return ee[ee.length-1]}}function g(i){return(3===i?A:4===i?m:u)(c,n,o,f)}var C=g(3),T=g(4),L=[function(){return 0},function(){return 0},function(D,y){return y[0]-D[0]},function(D,y,B){var V,F=(D[1]-B[1])*(y[0]-B[0]),_=(D[0]-B[0])*(y[1]-B[1]),z=F-_;if(F>0){if(_<=0)return z;V=F+_}else{if(!(F<0))return z;if(_>=0)return z;V=-(F+_)}var H=33306690738754716e-32*V;return z>=H||z<=-H?z:C(D,y,B)},function(D,y,B,F){var _=D[0]-F[0],z=y[0]-F[0],V=B[0]-F[0],H=D[1]-F[1],U=y[1]-F[1],G=B[1]-F[1],Y=D[2]-F[2],ee=y[2]-F[2],ue=B[2]-F[2],ce=z*G,pe=V*U,te=V*H,Q=_*G,K=_*U,Z=z*H,q=Y*(ce-pe)+ee*(te-Q)+ue*(K-Z),re=7771561172376103e-31*((Math.abs(ce)+Math.abs(pe))*Math.abs(Y)+(Math.abs(te)+Math.abs(Q))*Math.abs(ee)+(Math.abs(K)+Math.abs(Z))*Math.abs(ue));return q>re||-q>re?q:T(D,y,B,F)}];function x(i){var D=L[i.length];return D||(D=L[i.length]=g(i.length)),D.apply(void 0,i)}function E(i,D,y,B,F,_,z){return function(H,U,G,Y,ee){switch(arguments.length){case 0:case 1:return 0;case 2:return B(H,U);case 3:return F(H,U,G);case 4:return _(H,U,G,Y);case 5:return z(H,U,G,Y,ee)}for(var ue=new Array(arguments.length),ce=0;ce<arguments.length;++ce)ue[ce]=arguments[ce];return i(ue)}}!function M(){for(;L.length<=5;)L.push(g(L.length));v.exports=E.apply(void 0,[x].concat(L));for(var i=0;i<=5;++i)v.exports[i]=L[i]}()},2019:function(v,w,r){"use strict";var n=r(9662),c=r(8289);v.exports=function o(f,h){if(1===f.length)return c(h,f[0]);if(1===h.length)return c(f,h[0]);if(0===f.length||0===h.length)return[0];var d=[0];if(f.length<h.length)for(var b=0;b<f.length;++b)d=n(d,c(h,f[b]));else for(b=0;b<h.length;++b)d=n(d,c(f,h[b]));return d}},8289:function(v,w,r){"use strict";var n=r(9660),c=r(87);v.exports=function o(f,h){var d=f.length;if(1===d){var b=n(f[0],h);return b[0]?b:[b[1]]}var p=new Array(2*d),A=[.1,.1],m=[.1,.1],u=0;n(f[0],h,A),A[0]&&(p[u++]=A[0]);for(var g=1;g<d;++g){n(f[g],h,m),c(A[1],m[0],A),A[0]&&(p[u++]=A[0]);var T=m[1],L=A[1],x=T+L,M=L-(x-T);A[1]=x,M&&(p[u++]=M)}return A[1]&&(p[u++]=A[1]),0===u&&(p[u++]=0),p.length=u,p}},4434:function(v,w,r){"use strict";v.exports=function o(f,h,d,b){var p=n(f,d,b),A=n(h,d,b);if(p>0&&A>0||p<0&&A<0)return!1;var m=n(d,f,h),u=n(b,f,h);return!(m>0&&u>0||m<0&&u<0)&&(0!==p||0!==A||0!==m||0!==u||function c(f,h,d,b){for(var p=0;p<2;++p){var A=f[p],m=h[p],u=Math.min(A,m),g=Math.max(A,m),C=d[p],T=b[p],L=Math.min(C,T);if(Math.max(C,T)<u||g<L)return!1}return!0}(f,h,d,b))};var n=r(417)[3]},4078:function(v){"use strict";v.exports=function r(n,c){var o=0|n.length,f=0|c.length;if(1===o&&1===f)return function w(n,c){var o=n+c,f=o-n,p=n-(o-f)+(c-f);return p?[p,o]:[o]}(n[0],-c[0]);var L,x,d=new Array(o+f),b=0,p=0,A=0,m=Math.abs,u=n[p],g=m(u),C=-c[A],T=m(C);g<T?(x=u,(p+=1)<o&&(g=m(u=n[p]))):(x=C,(A+=1)<f&&(T=m(C=-c[A]))),p<o&&g<T||A>=f?(L=u,(p+=1)<o&&(g=m(u=n[p]))):(L=C,(A+=1)<f&&(T=m(C=-c[A])));for(var B,F,E=L+x,M=E-L,i=x-M,D=i,y=E;p<o&&A<f;)g<T?(L=u,(p+=1)<o&&(g=m(u=n[p]))):(L=C,(A+=1)<f&&(T=m(C=-c[A]))),(i=(x=D)-(M=(E=L+x)-L))&&(d[b++]=i),D=y-((B=y+E)-(F=B-y))+(E-F),y=B;for(;p<o;)(i=(x=D)-(M=(E=(L=u)+x)-L))&&(d[b++]=i),D=y-((B=y+E)-(F=B-y))+(E-F),y=B,(p+=1)<o&&(u=n[p]);for(;A<f;)(i=(x=D)-(M=(E=(L=C)+x)-L))&&(d[b++]=i),D=y-((B=y+E)-(F=B-y))+(E-F),y=B,(A+=1)<f&&(C=-c[A]);return D&&(d[b++]=D),y&&(d[b++]=y),b||(d[b++]=0),d.length=b,d}},9662:function(v){"use strict";v.exports=function r(n,c){var o=0|n.length,f=0|c.length;if(1===o&&1===f)return function w(n,c){var o=n+c,f=o-n,p=n-(o-f)+(c-f);return p?[p,o]:[o]}(n[0],c[0]);var L,x,d=new Array(o+f),b=0,p=0,A=0,m=Math.abs,u=n[p],g=m(u),C=c[A],T=m(C);g<T?(x=u,(p+=1)<o&&(g=m(u=n[p]))):(x=C,(A+=1)<f&&(T=m(C=c[A]))),p<o&&g<T||A>=f?(L=u,(p+=1)<o&&(g=m(u=n[p]))):(L=C,(A+=1)<f&&(T=m(C=c[A])));for(var B,F,E=L+x,M=E-L,i=x-M,D=i,y=E;p<o&&A<f;)g<T?(L=u,(p+=1)<o&&(g=m(u=n[p]))):(L=C,(A+=1)<f&&(T=m(C=c[A]))),(i=(x=D)-(M=(E=L+x)-L))&&(d[b++]=i),D=y-((B=y+E)-(F=B-y))+(E-F),y=B;for(;p<o;)(i=(x=D)-(M=(E=(L=u)+x)-L))&&(d[b++]=i),D=y-((B=y+E)-(F=B-y))+(E-F),y=B,(p+=1)<o&&(u=n[p]);for(;A<f;)(i=(x=D)-(M=(E=(L=C)+x)-L))&&(d[b++]=i),D=y-((B=y+E)-(F=B-y))+(E-F),y=B,(A+=1)<f&&(C=c[A]);return D&&(d[b++]=D),y&&(d[b++]=y),b||(d[b++]=0),d.length=b,d}},8691:function(v,w,r){"use strict";v.exports=function o(f){return c(n(f))};var n=r(2692),c=r(7037)},7212:function(v,w,r){"use strict";v.exports=function u(g,C,T,L){if(T=T||0,typeof L>"u"&&(L=function h(g){for(var C=g.length,T=0,L=0;L<C;++L)T=0|Math.max(T,g[L].length);return T-1}(g)),0===g.length||L<1)return{cells:[],vertexIds:[],vertexWeights:[]};var E=function d(g,C){for(var T=g.length,L=c.mallocUint8(T),x=0;x<T;++x)L[x]=g[x]<C|0;return L}(C,+T),M=function b(g,C){for(var T=g.length,x=c.mallocUint32(2*(C*(C+1)/2*T|0)),E=0,M=0;M<T;++M)for(var i=g[M],D=(C=i.length,0);D<C;++D)for(var y=0;y<D;++y){var B=i[y],F=i[D];x[E++]=0|Math.min(B,F),x[E++]=0|Math.max(B,F)}o(n(x,[E/2|0,2]));var z=2;for(M=2;M<E;M+=2)x[M-2]===x[M]&&x[M-1]===x[M+1]||(x[z++]=x[M],x[z++]=x[M+1]);return n(x,[z/2|0,2])}(g,L),i=function p(g,C,T,L){for(var x=g.data,E=g.shape[0],M=c.mallocDouble(E),i=0,D=0;D<E;++D){var y=x[2*D],B=x[2*D+1];if(T[y]!==T[B]){var F=C[y],_=C[B];x[2*i]=y,x[2*i+1]=B,M[i++]=(_-L)/(_-F)}}return g.shape[0]=i,n(M,[i])}(M,C,E,+T),D=function A(g,C){var T=c.mallocInt32(2*C),L=g.shape[0],x=g.data;T[0]=0;for(var E=0,M=0;M<L;++M){var i=x[2*M];if(i!==E){for(T[2*E+1]=M;++E<i;)T[2*E]=M,T[2*E+1]=M;T[2*E]=M}}for(T[2*E+1]=L;++E<C;)T[2*E]=T[2*E+1]=L;return T}(M,0|C.length),y=f(L)(g,M.data,D,E),B=function m(g){for(var C=0|g.shape[0],T=g.data,L=new Array(C),x=0;x<C;++x)L[x]=[T[2*x],T[2*x+1]];return L}(M),F=[].slice.call(i.data,0,i.shape[0]);return c.free(E),c.free(M.data),c.free(i.data),c.free(D),{cells:y,vertexIds:B,vertexWeights:F}};var n=r(5050),c=r(5306),o=r(8729),f=r(1168)},1168:function(v){"use strict";v.exports=function r(n){return w[n]()};var w=[function(){return function o(f,h,d,b){for(var p=f.length,m=0;m<p;++m);return[]}},function(){function c(f,h,d,b){for(var p=0|Math.min(d,b),A=0|Math.max(d,b),m=f[2*p],u=f[2*p+1];m<u;){var g=m+u>>1,C=h[2*g+1];if(C===A)return g;A<C?u=g:m=g+1}return m}return function o(f,h,d,b){for(var p=f.length,A=[],m=0;m<p;++m){var u=f[m];if(2===u.length){var C=(b[u[0]]<<0)+(b[u[1]]<<1);if(0===C||3===C)continue;switch(C){case 0:case 3:break;case 1:A.push([c(d,h,u[0],u[1])]);break;case 2:A.push([c(d,h,u[1],u[0])])}}}return A}},function(){function c(f,h,d,b){for(var p=0|Math.min(d,b),A=0|Math.max(d,b),m=f[2*p],u=f[2*p+1];m<u;){var g=m+u>>1,C=h[2*g+1];if(C===A)return g;A<C?u=g:m=g+1}return m}return function o(f,h,d,b){for(var p=f.length,A=[],m=0;m<p;++m){var u=f[m],g=u.length;if(3===g){if(0==(C=(b[u[0]]<<0)+(b[u[1]]<<1)+(b[u[2]]<<2))||7===C)continue;switch(C){case 0:case 7:break;case 1:A.push([c(d,h,u[0],u[2]),c(d,h,u[0],u[1])]);break;case 2:A.push([c(d,h,u[1],u[0]),c(d,h,u[1],u[2])]);break;case 3:A.push([c(d,h,u[0],u[2]),c(d,h,u[1],u[2])]);break;case 4:A.push([c(d,h,u[2],u[1]),c(d,h,u[2],u[0])]);break;case 5:A.push([c(d,h,u[2],u[1]),c(d,h,u[0],u[1])]);break;case 6:A.push([c(d,h,u[1],u[0]),c(d,h,u[2],u[0])])}}else if(2===g){var C;if(0==(C=(b[u[0]]<<0)+(b[u[1]]<<1))||3===C)continue;switch(C){case 0:case 3:break;case 1:A.push([c(d,h,u[0],u[1])]);break;case 2:A.push([c(d,h,u[1],u[0])])}}}return A}},function(){function c(f,h,d,b){for(var p=0|Math.min(d,b),A=0|Math.max(d,b),m=f[2*p],u=f[2*p+1];m<u;){var g=m+u>>1,C=h[2*g+1];if(C===A)return g;A<C?u=g:m=g+1}return m}return function o(f,h,d,b){for(var p=f.length,A=[],m=0;m<p;++m){var u=f[m],g=u.length;if(4===g){if(0==(C=(b[u[0]]<<0)+(b[u[1]]<<1)+(b[u[2]]<<2)+(b[u[3]]<<3))||15===C)continue;switch(C){case 0:case 15:break;case 1:A.push([c(d,h,u[0],u[1]),c(d,h,u[0],u[2]),c(d,h,u[0],u[3])]);break;case 2:A.push([c(d,h,u[1],u[2]),c(d,h,u[1],u[0]),c(d,h,u[1],u[3])]);break;case 3:A.push([c(d,h,u[1],u[2]),c(d,h,u[0],u[2]),c(d,h,u[0],u[3])],[c(d,h,u[1],u[3]),c(d,h,u[1],u[2]),c(d,h,u[0],u[3])]);break;case 4:A.push([c(d,h,u[2],u[0]),c(d,h,u[2],u[1]),c(d,h,u[2],u[3])]);break;case 5:A.push([c(d,h,u[0],u[1]),c(d,h,u[2],u[1]),c(d,h,u[0],u[3])],[c(d,h,u[2],u[1]),c(d,h,u[2],u[3]),c(d,h,u[0],u[3])]);break;case 6:A.push([c(d,h,u[2],u[0]),c(d,h,u[1],u[0]),c(d,h,u[1],u[3])],[c(d,h,u[2],u[3]),c(d,h,u[2],u[0]),c(d,h,u[1],u[3])]);break;case 7:A.push([c(d,h,u[0],u[3]),c(d,h,u[1],u[3]),c(d,h,u[2],u[3])]);break;case 8:A.push([c(d,h,u[3],u[1]),c(d,h,u[3],u[0]),c(d,h,u[3],u[2])]);break;case 9:A.push([c(d,h,u[3],u[1]),c(d,h,u[0],u[1]),c(d,h,u[0],u[2])],[c(d,h,u[3],u[2]),c(d,h,u[3],u[1]),c(d,h,u[0],u[2])]);break;case 10:A.push([c(d,h,u[1],u[0]),c(d,h,u[3],u[0]),c(d,h,u[1],u[2])],[c(d,h,u[3],u[0]),c(d,h,u[3],u[2]),c(d,h,u[1],u[2])]);break;case 11:A.push([c(d,h,u[1],u[2]),c(d,h,u[0],u[2]),c(d,h,u[3],u[2])]);break;case 12:A.push([c(d,h,u[3],u[0]),c(d,h,u[2],u[0]),c(d,h,u[2],u[1])],[c(d,h,u[3],u[1]),c(d,h,u[3],u[0]),c(d,h,u[2],u[1])]);break;case 13:A.push([c(d,h,u[0],u[1]),c(d,h,u[2],u[1]),c(d,h,u[3],u[1])]);break;case 14:A.push([c(d,h,u[2],u[0]),c(d,h,u[1],u[0]),c(d,h,u[3],u[0])])}}else if(3===g){if(0==(C=(b[u[0]]<<0)+(b[u[1]]<<1)+(b[u[2]]<<2))||7===C)continue;switch(C){case 0:case 7:break;case 1:A.push([c(d,h,u[0],u[2]),c(d,h,u[0],u[1])]);break;case 2:A.push([c(d,h,u[1],u[0]),c(d,h,u[1],u[2])]);break;case 3:A.push([c(d,h,u[0],u[2]),c(d,h,u[1],u[2])]);break;case 4:A.push([c(d,h,u[2],u[1]),c(d,h,u[2],u[0])]);break;case 5:A.push([c(d,h,u[2],u[1]),c(d,h,u[0],u[1])]);break;case 6:A.push([c(d,h,u[1],u[0]),c(d,h,u[2],u[0])])}}else if(2===g){var C;if(0==(C=(b[u[0]]<<0)+(b[u[1]]<<1))||3===C)continue;switch(C){case 0:case 3:break;case 1:A.push([c(d,h,u[0],u[1])]);break;case 2:A.push([c(d,h,u[1],u[0])])}}}return A}}]},8211:function(v,w,r){"use strict";r(2288),r(1731),w.H=function b(D,y){var B=D.length,F=D.length-y.length,_=Math.min;if(F)return F;switch(B){case 0:return 0;case 1:return D[0]-y[0];case 2:return(G=D[0]+D[1]-y[0]-y[1])||_(D[0],D[1])-_(y[0],y[1]);case 3:var z=D[0]+D[1],V=y[0]+y[1];if(G=z+D[2]-(V+y[2]))return G;var G,H=_(D[0],D[1]),U=_(y[0],y[1]);return(G=_(H,D[2])-_(U,y[2]))||_(H+D[2],z)-_(U+y[2],V);default:var Y=D.slice(0);Y.sort();var ee=y.slice(0);ee.sort();for(var ue=0;ue<B;++ue)if(F=Y[ue]-ee[ue])return F;return 0}}},9392:function(v,w){"use strict";function n(o){var f=32;return(o&=-o)&&f--,65535&o&&(f-=16),16711935&o&&(f-=8),252645135&o&&(f-=4),858993459&o&&(f-=2),1431655765&o&&(f-=1),f}w.INT_BITS=32,w.INT_MAX=2147483647,w.INT_MIN=-1<<31,w.sign=function(o){return(o>0)-(o<0)},w.abs=function(o){var f=o>>31;return(o^f)-f},w.min=function(o,f){return f^(o^f)&-(o<f)},w.max=function(o,f){return o^(o^f)&-(o<f)},w.isPow2=function(o){return!(o&o-1||!o)},w.log2=function(o){var f,h;return f=(o>65535)<<4,f|=h=((o>>>=f)>255)<<3,f|=h=((o>>>=h)>15)<<2,(f|=h=((o>>>=h)>3)<<1)|(o>>>=h)>>1},w.log10=function(o){return o>=1e9?9:o>=1e8?8:o>=1e7?7:o>=1e6?6:o>=1e5?5:o>=1e4?4:o>=1e3?3:o>=100?2:o>=10?1:0},w.popCount=function(o){return 16843009*((o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135)>>>24},w.countTrailingZeros=n,w.nextPow2=function(o){return o+=0===o,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,1+((o|=o>>>8)|o>>>16)},w.prevPow2=function(o){return o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,(o|=o>>>16)-(o>>>1)},w.parity=function(o){return o^=o>>>16,o^=o>>>8,o^=o>>>4,27030>>>(o&=15)&1};var c=new Array(256);(function(o){for(var f=0;f<256;++f){var h=f,d=f,b=7;for(h>>>=1;h;h>>>=1)d<<=1,d|=1&h,--b;o[f]=d<<b&255}})(c),w.reverse=function(o){return c[255&o]<<24|c[o>>>8&255]<<16|c[o>>>16&255]<<8|c[o>>>24&255]},w.interleave2=function(o,f){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))|(f=1431655765&((f=858993459&((f=252645135&((f=16711935&((f&=65535)|f<<8))|f<<4))|f<<2))|f<<1))<<1},w.deinterleave2=function(o,f){return(o=65535&((o=16711935&((o=252645135&((o=858993459&((o=o>>>f&1431655765)|o>>>1))|o>>>2))|o>>>4))|o>>>16))<<16>>16},w.interleave3=function(o,f,h){return o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2),(o|=(f=1227133513&((f=3272356035&((f=251719695&((f=4278190335&((f&=1023)|f<<16))|f<<8))|f<<4))|f<<2))<<1)|(h=1227133513&((h=3272356035&((h=251719695&((h=4278190335&((h&=1023)|h<<16))|h<<8))|h<<4))|h<<2))<<2},w.deinterleave3=function(o,f){return(o=1023&((o=4278190335&((o=251719695&((o=3272356035&((o=o>>>f&1227133513)|o>>>2))|o>>>4))|o>>>8))|o>>>16))<<22>>22},w.nextCombination=function(o){var f=o|o-1;return f+1|(~f&-~f)-1>>>n(o)+1}},6656:function(v,w,r){"use strict";var n=r(9392),c=r(9521);function d(i,D){var y=i.length,B=i.length-D.length,F=Math.min;if(B)return B;switch(y){case 0:return 0;case 1:return i[0]-D[0];case 2:return(U=i[0]+i[1]-D[0]-D[1])||F(i[0],i[1])-F(D[0],D[1]);case 3:var _=i[0]+i[1],z=D[0]+D[1];if(U=_+i[2]-(z+D[2]))return U;var U,V=F(i[0],i[1]),H=F(D[0],D[1]);return(U=F(V,i[2])-F(H,D[2]))||F(V+i[2],_)-F(H+D[2],z);default:var G=i.slice(0);G.sort();var Y=D.slice(0);Y.sort();for(var ee=0;ee<y;++ee)if(B=G[ee]-Y[ee])return B;return 0}}function b(i,D){return d(i[0],D[0])}function p(i,D){if(D){for(var y=i.length,B=new Array(y),F=0;F<y;++F)B[F]=[i[F],D[F]];for(B.sort(b),F=0;F<y;++F)i[F]=B[F][0],D[F]=B[F][1];return i}return i.sort(d),i}function A(i){if(0===i.length)return[];for(var D=1,y=i.length,B=1;B<y;++B){var F=i[B];if(d(F,i[B-1])){if(B===D){D++;continue}i[D++]=F}}return i.length=D,i}function m(i,D){for(var y=0,B=i.length-1,F=-1;y<=B;){var _=y+B>>1,z=d(i[_],D);z<=0?(0===z&&(F=_),y=_+1):z>0&&(B=_-1)}return F}function u(i,D){for(var y=new Array(i.length),B=0,F=y.length;B<F;++B)y[B]=[];for(var _=[],z=(B=0,D.length);B<z;++B)for(var V=D[B],H=V.length,U=1,G=1<<H;U<G;++U){_.length=n.popCount(U);for(var Y=0,ee=0;ee<H;++ee)U&1<<ee&&(_[Y++]=V[ee]);var ue=m(i,_);if(!(ue<0))for(;y[ue++].push(B),!(ue>=i.length||0!==d(i[ue],_)););}return y}function T(i,D){if(D<0)return[];for(var y=[],B=(1<<D+1)-1,F=0;F<i.length;++F)for(var _=i[F],z=B;z<1<<_.length;z=n.nextCombination(z)){for(var V=new Array(D+1),H=0,U=0;U<_.length;++U)z&1<<U&&(V[H++]=_[U]);y.push(V)}return p(y)}w.dimension=function o(i){for(var D=0,y=Math.max,B=0,F=i.length;B<F;++B)D=y(D,i[B].length);return D-1},w.countVertices=function f(i){for(var D=-1,y=Math.max,B=0,F=i.length;B<F;++B)for(var _=i[B],z=0,V=_.length;z<V;++z)D=y(D,_[z]);return D+1},w.cloneCells=function h(i){for(var D=new Array(i.length),y=0,B=i.length;y<B;++y)D[y]=i[y].slice(0);return D},w.compareCells=d,w.normalize=p,w.unique=A,w.findCell=m,w.incidence=u,w.dual=function g(i,D){if(!D)return u(A(T(i,0)),i);for(var y=new Array(D),B=0;B<D;++B)y[B]=[];B=0;for(var F=i.length;B<F;++B)for(var _=i[B],z=0,V=_.length;z<V;++z)y[_[z]].push(B);return y},w.explode=function C(i){for(var D=[],y=0,B=i.length;y<B;++y)for(var F=i[y],_=0|F.length,z=1,V=1<<_;z<V;++z){for(var H=[],U=0;U<_;++U)z>>>U&1&&H.push(F[U]);D.push(H)}return p(D)},w.skeleton=T,w.boundary=function L(i){for(var D=[],y=0,B=i.length;y<B;++y)for(var F=i[y],_=0,z=F.length;_<z;++_){for(var V=new Array(F.length-1),H=0,U=0;H<z;++H)H!==_&&(V[U++]=F[H]);D.push(V)}return p(D)},w.connectedComponents=function M(i,D){return D?function x(i,D){for(var y=new c(D),B=0;B<i.length;++B)for(var F=i[B],_=0;_<F.length;++_)for(var z=_+1;z<F.length;++z)y.link(F[_],F[z]);var V=[],H=y.ranks;for(B=0;B<H.length;++B)H[B]=-1;for(B=0;B<i.length;++B){var U=y.find(i[B][0]);H[U]<0?(H[U]=V.length,V.push([i[B].slice(0)])):V[H[U]].push(i[B].slice(0))}return V}(i,D):function E(i){for(var D=A(p(T(i,0))),y=new c(D.length),B=0;B<i.length;++B)for(var F=i[B],_=0;_<F.length;++_)for(var z=m(D,[F[_]]),V=_+1;V<F.length;++V)y.link(z,m(D,[F[V]]));var H=[],U=y.ranks;for(B=0;B<U.length;++B)U[B]=-1;for(B=0;B<i.length;++B){var G=y.find(m(D,[i[B][0]]));U[G]<0?(U[G]=H.length,H.push([i[B].slice(0)])):H[U[G]].push(i[B].slice(0))}return H}(i)}},9521:function(v){"use strict";function w(r){this.roots=new Array(r),this.ranks=new Array(r);for(var n=0;n<r;++n)this.roots[n]=n,this.ranks[n]=0}v.exports=w,w.prototype.length=function(){return this.roots.length},w.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},w.prototype.find=function(r){for(var n=this.roots;n[r]!==r;){var c=n[r];n[r]=n[c],r=c}return r},w.prototype.link=function(r,n){var c=this.find(r),o=this.find(n);if(c!==o){var f=this.ranks,h=this.roots,d=f[c],b=f[o];d<b?h[c]=o:b<d?h[o]=c:(h[o]=c,++f[c])}}},8243:function(v,w,r){"use strict";v.exports=function f(h,d,b){for(var p=d.length,A=h.length,m=new Array(p),u=new Array(p),g=new Array(p),C=new Array(p),T=0;T<p;++T)m[T]=u[T]=-1,g[T]=1/0,C[T]=!1;for(T=0;T<A;++T){var L=h[T];if(2!==L.length)throw new Error("Input must be a graph");var x=L[1],E=L[0];u[E]=-1!==u[E]?-2:x,m[x]=-1!==m[x]?-2:E}function M(Q){if(C[Q])return 1/0;var K=m[Q],Z=u[Q];return K<0||Z<0?1/0:function o(h,d,b){return Math.abs(n(h,d,b))/Math.sqrt(Math.pow(d[0]-b[0],2)+Math.pow(d[1]-b[1],2))}(d[Q],d[K],d[Z])}function i(Q,K){var Z=H[Q],q=H[K];H[Q]=q,H[K]=Z,U[Z]=K,U[q]=Q}function D(Q){return g[H[Q]]}function y(Q){return 1&Q?Q-1>>1:(Q>>1)-1}function B(Q){for(var K=D(Q);;){var Z=K,q=2*Q+1,fe=2*(Q+1),re=Q;if(q<Y){var $=D(q);$<Z&&(re=q,Z=$)}if(fe<Y&&D(fe)<Z&&(re=fe),re===Q)return Q;i(Q,re),Q=re}}function F(Q){for(var K=D(Q);Q>0;){var Z=y(Q);if(!(Z>=0&&K<D(Z)))return Q;i(Q,Z),Q=Z}}function _(){if(Y>0){var Q=H[0];return i(0,Y-1),Y-=1,B(0),Q}return-1}function z(Q,K){var Z=H[Q];return g[Z]===K?Q:(g[Z]=-1/0,F(Q),_(),g[Z]=K,F((Y+=1)-1))}function V(Q){if(!C[Q]){C[Q]=!0;var K=m[Q],Z=u[Q];m[Z]>=0&&(m[Z]=K),u[K]>=0&&(u[K]=Z),U[K]>=0&&z(U[K],M(K)),U[Z]>=0&&z(U[Z],M(Z))}}var H=[],U=new Array(p);for(T=0;T<p;++T)(g[T]=M(T))<1/0?(U[T]=H.length,H.push(T)):U[T]=-1;var Y=H.length;for(T=Y>>1;T>=0;--T)B(T);for(;;){var ee=_();if(ee<0||g[ee]>b)break;V(ee)}var ue=[];for(T=0;T<p;++T)C[T]||(U[T]=ue.length,ue.push(d[T].slice()));function pe(Q,K){if(Q[K]<0)return K;var Z=K,q=K;do{var fe=Q[q];if(!C[q]||fe<0||fe===q||(fe=Q[q=fe],!C[q]||fe<0||fe===q))break;q=fe,Z=Q[Z]}while(Z!==q);for(var re=K;re!==q;re=Q[re])Q[re]=q;return q}var te=[];return h.forEach(function(Q){var K=pe(m,Q[0]),Z=pe(u,Q[1]);if(K>=0&&Z>=0&&K!==Z){var q=U[K],fe=U[Z];q!==fe&&te.push([q,fe])}}),c.unique(c.normalize(te)),{positions:ue,edges:te}};var n=r(417),c=r(6656)},6638:function(v,w,r){"use strict";v.exports=function o(f,h){var d,b,p,A;if(h[0][0]<h[1][0])d=h[0],b=h[1];else{if(!(h[0][0]>h[1][0]))return c(h,f);d=h[1],b=h[0]}if(f[0][0]<f[1][0])p=f[0],A=f[1];else{if(!(f[0][0]>f[1][0]))return-c(f,h);p=f[1],A=f[0]}var m=n(d,b,A),u=n(d,b,p);if(m<0){if(u<=0)return m}else if(m>0){if(u>=0)return m}else if(u)return u;if(m=n(A,p,b),u=n(A,p,d),m<0){if(u<=0)return m}else if(m>0){if(u>=0)return m}else if(u)return u;return b[0]-A[0]};var n=r(417);function c(f,h){var d,b,g,C;if(h[0][0]<h[1][0])d=h[0],b=h[1];else{if(!(h[0][0]>h[1][0])){var p=Math.min(f[0][1],f[1][1]),A=Math.max(f[0][1],f[1][1]),m=Math.min(h[0][1],h[1][1]),u=Math.max(h[0][1],h[1][1]);return A<m?A-m:p>u?p-u:A-u}d=h[1],b=h[0]}f[0][1]<f[1][1]?(g=f[0],C=f[1]):(g=f[1],C=f[0]);var T=n(b,d,g);return T||(T=n(b,d,C))?T:C-b}},4385:function(v,w,r){"use strict";v.exports=function u(g){for(var C=g.length,T=2*C,L=new Array(T),x=0;x<C;++x){var E=g[x],M=E[0][0]<E[1][0];L[2*x]=new m(E[0][0],E,M,x),L[2*x+1]=new m(E[1][0],E,!M,x)}L.sort(function(H,U){var G=H.x-U.x;return G||(G=H.create-U.create)?G:Math.min(H.segment[0][1],H.segment[1][1])-Math.min(U.segment[0][1],U.segment[1][1])});var i=c(f),D=[],y=[],B=[];for(x=0;x<T;){for(var _=L[x].x,z=[];x<T;){var V=L[x];if(V.x!==_)break;x+=1,V.segment[0][0]===V.x&&V.segment[1][0]===V.x?V.create&&(V.segment[0][1]<V.segment[1][1]?(z.push(new A(V.segment[0][1],V.index,!0,!0)),z.push(new A(V.segment[1][1],V.index,!1,!1))):(z.push(new A(V.segment[1][1],V.index,!0,!1)),z.push(new A(V.segment[0][1],V.index,!1,!0)))):i=V.create?i.insert(V.segment,V.index):i.remove(V.segment)}D.push(i.root),y.push(_),B.push(z)}return new h(D,y,B)};var n=r(5070),c=r(7080),o=r(417),f=r(6638);function h(g,C,T){this.slabs=g,this.coordinates=C,this.horizontal=T}function b(g,C){return g.y-C}function p(g,C){for(var T=null;g;){var x,E,L=g.key;L[0][0]<L[1][0]?(x=L[0],E=L[1]):(x=L[1],E=L[0]);var M=o(x,E,C);if(M<0)g=g.left;else if(M>0)if(C[0]!==L[1][0])T=g,g=g.right;else{if(i=p(g.right,C))return i;g=g.left}else{if(C[0]!==L[1][0])return g;var i;if(i=p(g.right,C))return i;g=g.left}}return T}function A(g,C,T,L){this.y=g,this.index=C,this.start=T,this.closed=L}function m(g,C,T,L){this.x=g,this.segment=C,this.create=T,this.index=L}h.prototype.castUp=function(g){var C=n.le(this.coordinates,g[0]);if(C<0)return-1;var L=p(this.slabs[C],g),x=-1;if(L&&(x=L.value),this.coordinates[C]===g[0]){var E=null;if(L&&(E=L.key),C>0){var M=p(this.slabs[C-1],g);M&&(E?f(M.key,E)>0&&(E=M.key,x=M.value):(x=M.value,E=M.key))}var i=this.horizontal[C];if(i.length>0){var D=n.ge(i,g[1],b);if(D<i.length){var y=i[D];if(g[1]===y.y){if(y.closed)return y.index;for(;D<i.length-1&&i[D+1].y===g[1];)if((y=i[D+=1]).closed)return y.index;if(y.y===g[1]&&!y.start){if((D+=1)>=i.length)return x;y=i[D]}}if(y.start)if(E){var B=o(E[0],E[1],[g[0],y.y]);E[0][0]>E[1][0]&&(B=-B),B>0&&(x=y.index)}else x=y.index;else y.y!==g[1]&&(x=y.index)}}}return x}},4670:function(v,w,r){"use strict";var n=r(9130),c=r(9662);function o(p,A){var m=c(n(p,A),[A[A.length-1]]);return m[m.length-1]}function f(p,A,m,u){var C=-A/(u-A);C<0?C=0:C>1&&(C=1);for(var T=1-C,L=p.length,x=new Array(L),E=0;E<L;++E)x[E]=C*p[E]+T*m[E];return x}v.exports=function h(p,A){for(var m=[],u=[],g=o(p[p.length-1],A),C=p[p.length-1],T=p[0],L=0;L<p.length;++L,C=T){var x=o(T=p[L],A);if(g<0&&x>0||g>0&&x<0){var E=f(C,x,T,g);m.push(E),u.push(E.slice())}x<0?u.push(T.slice()):x>0?m.push(T.slice()):(m.push(T.slice()),u.push(T.slice())),g=x}return{positive:m,negative:u}},v.exports.positive=function d(p,A){for(var m=[],u=o(p[p.length-1],A),g=p[p.length-1],C=p[0],T=0;T<p.length;++T,g=C){var L=o(C=p[T],A);(u<0&&L>0||u>0&&L<0)&&m.push(f(g,L,C,u)),L>=0&&m.push(C.slice()),u=L}return m},v.exports.negative=function b(p,A){for(var m=[],u=o(p[p.length-1],A),g=p[p.length-1],C=p[0],T=0;T<p.length;++T,g=C){var L=o(C=p[T],A);(u<0&&L>0||u>0&&L<0)&&m.push(f(g,L,C,u)),L<=0&&m.push(C.slice()),u=L}return m}},8974:function(v,w,r){var n;!function(){"use strict";var c={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(p){return function h(p,A){var g,T,L,x,E,M,i,D,y,m=1,u=p.length,C="";for(T=0;T<u;T++)if("string"==typeof p[T])C+=p[T];else if("object"==typeof p[T]){if((x=p[T]).keys)for(g=A[m],L=0;L<x.keys.length;L++){if(null==g)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',x.keys[L],x.keys[L-1]));g=g[x.keys[L]]}else g=x.param_no?A[x.param_no]:A[m++];if(c.not_type.test(x.type)&&c.not_primitive.test(x.type)&&g instanceof Function&&(g=g()),c.numeric_arg.test(x.type)&&"number"!=typeof g&&isNaN(g))throw new TypeError(o("[sprintf] expecting number but found %T",g));switch(c.number.test(x.type)&&(D=g>=0),x.type){case"b":g=parseInt(g,10).toString(2);break;case"c":g=String.fromCharCode(parseInt(g,10));break;case"d":case"i":g=parseInt(g,10);break;case"j":g=JSON.stringify(g,null,x.width?parseInt(x.width):0);break;case"e":g=x.precision?parseFloat(g).toExponential(x.precision):parseFloat(g).toExponential();break;case"f":g=x.precision?parseFloat(g).toFixed(x.precision):parseFloat(g);break;case"g":g=x.precision?String(Number(g.toPrecision(x.precision))):parseFloat(g);break;case"o":g=(parseInt(g,10)>>>0).toString(8);break;case"s":g=String(g),g=x.precision?g.substring(0,x.precision):g;break;case"t":g=String(!!g),g=x.precision?g.substring(0,x.precision):g;break;case"T":g=Object.prototype.toString.call(g).slice(8,-1).toLowerCase(),g=x.precision?g.substring(0,x.precision):g;break;case"u":g=parseInt(g,10)>>>0;break;case"v":g=g.valueOf(),g=x.precision?g.substring(0,x.precision):g;break;case"x":g=(parseInt(g,10)>>>0).toString(16);break;case"X":g=(parseInt(g,10)>>>0).toString(16).toUpperCase()}c.json.test(x.type)?C+=g:(!c.number.test(x.type)||D&&!x.sign?y="":(y=D?"+":"-",g=g.toString().replace(c.sign,"")),M=x.pad_char?"0"===x.pad_char?"0":x.pad_char.charAt(1):" ",i=x.width-(y+g).length,E=x.width&&i>0?M.repeat(i):"",C+=x.align?y+g+E:"0"===M?y+E+g:E+y+g)}return C}(function b(p){if(d[p])return d[p];for(var m,A=p,u=[],g=0;A;){if(null!==(m=c.text.exec(A)))u.push(m[0]);else if(null!==(m=c.modulo.exec(A)))u.push("%");else{if(null===(m=c.placeholder.exec(A)))throw new SyntaxError("[sprintf] unexpected placeholder");if(m[2]){g|=1;var C=[],T=m[2],L=[];if(null===(L=c.key.exec(T)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(C.push(L[1]);""!==(T=T.substring(L[0].length));)if(null!==(L=c.key_access.exec(T)))C.push(L[1]);else{if(null===(L=c.index_access.exec(T)))throw new SyntaxError("[sprintf] failed to parse named argument key");C.push(L[1])}m[2]=C}else g|=2;if(3===g)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");u.push({placeholder:m[0],param_no:m[1],keys:m[2],sign:m[3],pad_char:m[4],align:m[5],width:m[6],precision:m[7],type:m[8]})}A=A.substring(m[0].length)}return d[p]=u}(p),arguments)}function f(p,A){return o.apply(null,[p].concat(A||[]))}var d=Object.create(null);w.sprintf=o,w.vsprintf=f,typeof window<"u"&&(window.sprintf=o,window.vsprintf=f,void 0!==(n=function(){return{sprintf:o,vsprintf:f}}.call(w,r,w,v))&&(v.exports=n))}()},4162:function(v,w,r){"use strict";v.exports=function b(p,g){if(p.dimension<=0)return{positions:[],cells:[]};if(1===p.dimension)return function h(p,A){for(var m=c(p,A),u=m.length,g=new Array(u),C=new Array(u),T=0;T<u;++T)g[T]=[m[T]],C[T]=[T];return{positions:g,cells:C}}(p,g);var m=p.order.join()+"-"+p.dtype,u=d[m];return g=+g||0,u||(u=d[m]=function f(p,A){var u=o[p.length+"d"];if(u)return u(n,p,A)}(p.order,p.dtype)),u(p,g)};var n=r(9284),c=r(9584),o={"2d":function(p,A,m){var u=p({order:A,scalarArguments:3,getters:"generic"===m?[0]:void 0,phase:function(C,T,L,x){return C>x|0},vertex:function(C,T,L,x,E,M,i,D,y,B,F,_,z){var V=(i<<0)+(D<<1)+(y<<2)+(B<<3)|0;if(0!==V&&15!==V)switch(V){case 0:case 15:F.push([C-.5,T-.5]);break;case 1:F.push([C-.25-.25*(x+L-2*z)/(L-x),T-.25-.25*(E+L-2*z)/(L-E)]);break;case 2:F.push([C-.75-.25*(-x-L+2*z)/(x-L),T-.25-.25*(M+x-2*z)/(x-M)]);break;case 3:F.push([C-.5,T-.5-.5*(E+L+M+x-4*z)/(L-E+x-M)]);break;case 4:F.push([C-.25-.25*(M+E-2*z)/(E-M),T-.75-.25*(-E-L+2*z)/(E-L)]);break;case 5:F.push([C-.5-.5*(x+L+M+E-4*z)/(L-x+E-M),T-.5]);break;case 6:F.push([C-.5-.25*(-x-L+M+E)/(x-L+E-M),T-.5-.25*(-E-L+M+x)/(E-L+x-M)]);break;case 7:F.push([C-.75-.25*(M+E-2*z)/(E-M),T-.75-.25*(M+x-2*z)/(x-M)]);break;case 8:F.push([C-.75-.25*(-M-E+2*z)/(M-E),T-.75-.25*(-M-x+2*z)/(M-x)]);break;case 9:F.push([C-.5-.25*(x+L+-M-E)/(L-x+M-E),T-.5-.25*(E+L+-M-x)/(L-E+M-x)]);break;case 10:F.push([C-.5-.5*(-x-L-M-E+4*z)/(x-L+M-E),T-.5]);break;case 11:F.push([C-.25-.25*(-M-E+2*z)/(M-E),T-.75-.25*(E+L-2*z)/(L-E)]);break;case 12:F.push([C-.5,T-.5-.5*(-E-L-M-x+4*z)/(E-L+M-x)]);break;case 13:F.push([C-.75-.25*(x+L-2*z)/(L-x),T-.25-.25*(-M-x+2*z)/(M-x)]);break;case 14:F.push([C-.25-.25*(-x-L+2*z)/(x-L),T-.25-.25*(-E-L+2*z)/(E-L)])}},cell:function(C,T,L,x,E,M,i,D,y){D.push(E?[C,T]:[T,C])}});return function(g,C){var T=[],L=[];return u(g,T,L,C),{positions:T,cells:L}}}};var d={}},6946:function(v,w,r){"use strict";v.exports=function h(d,b,A){A=A||{};var m=o[d];m||(m=o[d]={" ":{data:new Float32Array(0),shape:.2}});var u=m[b];if(!u)if(b.length<=1||!/\d/.test(b))u=m[b]=function f(d){for(var b=d.cells,p=d.positions,A=new Float32Array(6*b.length),m=0,u=0,g=0;g<b.length;++g)for(var C=b[g],T=0;T<3;++T){var L=p[C[T]];A[m++]=L[0],A[m++]=L[1]+1.4,u=Math.max(L[0],u)}return{data:A,shape:u}}(n(b,{triangles:!0,font:d,textAlign:A.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var g=b.split(/(\d|\s)/),C=new Array(g.length),T=0,L=0,x=0;x<g.length;++x)C[x]=h(d,g[x]),T+=C[x].data.length,L+=C[x].shape,x>0&&(L+=.02);var E=new Float32Array(T),M=0,i=-.5*L;for(x=0;x<C.length;++x){for(var D=C[x].data,y=0;y<D.length;y+=2)E[M++]=D[y]+i,E[M++]=D[y+1];i+=C[x].shape+.02}u=m[b]={data:E,shape:L}}return u};var n=r(875),c=window||S.global||{},o=c.__TEXT_CACHE||{};c.__TEXT_CACHE={}},14:function(v,w,r){"use strict";var n=r(4405);v.exports=h;var c=96;function o(d,b){var p=n(getComputedStyle(d).getPropertyValue(b));return p[0]*h(p[1],d)}function h(d,b){switch(b=b||document.body,d=(d||"px").trim().toLowerCase(),(b===window||b===document)&&(b=document.body),d){case"%":return b.clientHeight/100;case"ch":case"ex":return function f(d,b){var p=document.createElement("div");p.style["font-size"]="128"+d,b.appendChild(p);var A=o(p,"font-size")/128;return b.removeChild(p),A}(d,b);case"em":return o(b,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return c;case"cm":return c/2.54;case"mm":return c/25.4;case"pt":return c/72;case"pc":return c/6}return 1}},3440:function(v,w,r){"use strict";v.exports=function C(T){var L=(T=T||{}).center||[0,0,0],x=T.up||[0,1,0],E=T.right||A(x),M=T.radius||1,i=T.theta||0,D=T.phi||0;if(L=[].slice.call(L,0,3),x=[].slice.call(x,0,3),h(x,x),E=[].slice.call(E,0,3),h(E,E),"eye"in T){var y=T.eye,B=[y[0]-L[0],y[1]-L[1],y[2]-L[2]];f(E,B,x),b(E[0],E[1],E[2])<1e-6?E=A(x):h(E,E),M=b(B[0],B[1],B[2]);var F=d(x,B)/M,_=d(E,B)/M;D=Math.acos(F),i=Math.acos(_)}return M=Math.log(M),new m(T.zoomMin,T.zoomMax,L,x,E,M,i,D)};var n=r(8444),c=r(7437),o=r(4422),f=r(903),h=r(899),d=r(9305);function b(T,L,x){return Math.sqrt(Math.pow(T,2)+Math.pow(L,2)+Math.pow(x,2))}function p(T){return Math.min(1,Math.max(-1,T))}function A(T){var L=Math.abs(T[0]),x=Math.abs(T[1]),E=Math.abs(T[2]),M=[0,0,0];L>Math.max(x,E)?M[2]=1:x>Math.max(L,E)?M[0]=1:M[1]=1;for(var i=0,D=0,y=0;y<3;++y)i+=T[y]*T[y],D+=M[y]*T[y];for(y=0;y<3;++y)M[y]-=D/i*T[y];return h(M,M),M}function m(T,L,x,E,M,i,D,y){this.center=n(x),this.up=n(E),this.right=n(M),this.radius=n([i]),this.angle=n([D,y]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(T,L),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var B=0;B<16;++B)this.computedMatrix[B]=.5;this.recalcMatrix(0)}var u=m.prototype;u.setDistanceLimits=function(T,L){T=T>0?Math.log(T):-1/0,L=L>0?Math.log(L):1/0,L=Math.max(L,T),this.radius.bounds[0][0]=T,this.radius.bounds[1][0]=L},u.getDistanceLimits=function(T){var L=this.radius.bounds[0];return T?(T[0]=Math.exp(L[0][0]),T[1]=Math.exp(L[1][0]),T):[Math.exp(L[0][0]),Math.exp(L[1][0])]},u.recalcMatrix=function(T){this.center.curve(T),this.up.curve(T),this.right.curve(T),this.radius.curve(T),this.angle.curve(T);for(var L=this.computedUp,x=this.computedRight,E=0,M=0,i=0;i<3;++i)M+=L[i]*x[i],E+=L[i]*L[i];var D=Math.sqrt(E),y=0;for(i=0;i<3;++i)x[i]-=L[i]*M/E,y+=x[i]*x[i],L[i]/=D;var B=Math.sqrt(y);for(i=0;i<3;++i)x[i]/=B;var F=this.computedToward;f(F,L,x),h(F,F);var _=Math.exp(this.computedRadius[0]),z=this.computedAngle[0],V=this.computedAngle[1],H=Math.cos(z),U=Math.sin(z),G=Math.cos(V),Y=Math.sin(V),ee=this.computedCenter,ue=H*G,ce=U*G,pe=Y,te=-H*Y,Q=-U*Y,K=G,Z=this.computedEye,q=this.computedMatrix;for(i=0;i<3;++i){var fe=ue*x[i]+ce*F[i]+pe*L[i];q[4*i+1]=te*x[i]+Q*F[i]+K*L[i],q[4*i+2]=fe,q[4*i+3]=0}var re=q[1],$=q[5],le=q[9],se=q[2],de=q[6],we=q[10],Ee=$*we-le*de,Me=le*se-re*we,Ne=re*de-$*se,Ve=b(Ee,Me,Ne);for(Me/=Ve,Ne/=Ve,q[0]=Ee/=Ve,q[4]=Me,q[8]=Ne,i=0;i<3;++i)Z[i]=ee[i]+q[2+4*i]*_;for(i=0;i<3;++i){y=0;for(var Pe=0;Pe<3;++Pe)y+=q[i+4*Pe]*Z[Pe];q[12+i]=-y}q[15]=1},u.getMatrix=function(T,L){this.recalcMatrix(T);var x=this.computedMatrix;if(L){for(var E=0;E<16;++E)L[E]=x[E];return L}return x};var g=[0,0,0];u.rotate=function(T,L,x,E){if(this.angle.move(T,L,x),E){this.recalcMatrix(T);var M=this.computedMatrix;g[0]=M[2],g[1]=M[6],g[2]=M[10];for(var i=this.computedUp,D=this.computedRight,y=this.computedToward,B=0;B<3;++B)M[4*B]=i[B],M[4*B+1]=D[B],M[4*B+2]=y[B];for(o(M,M,E,g),B=0;B<3;++B)i[B]=M[4*B],D[B]=M[4*B+1];this.up.set(T,i[0],i[1],i[2]),this.right.set(T,D[0],D[1],D[2])}},u.pan=function(T,L,x,E){L=L||0,x=x||0,E=E||0,this.recalcMatrix(T);var M=this.computedMatrix,D=(Math.exp(this.computedRadius[0]),M[1]),y=M[5],B=M[9],F=b(D,y,B),_=M[0],z=M[4],V=M[8],H=_*(D/=F)+z*(y/=F)+V*(B/=F),U=b(_-=D*H,z-=y*H,V-=B*H);this.center.move(T,(_/=U)*L+D*x,(z/=U)*L+y*x,(V/=U)*L+B*x);var ue=Math.exp(this.computedRadius[0]);ue=Math.max(1e-4,ue+E),this.radius.set(T,Math.log(ue))},u.translate=function(T,L,x,E){this.center.move(T,L||0,x||0,E||0)},u.setMatrix=function(T,L,x,E){var M=1;"number"==typeof x&&(M=0|x),(M<0||M>3)&&(M=1);var i=(M+2)%3;L||(this.recalcMatrix(T),L=this.computedMatrix);var y=L[M],B=L[M+4],F=L[M+8];if(E){var z=Math.abs(y),V=Math.abs(B),H=Math.abs(F),U=Math.max(z,V,H);z===U?(y=y<0?-1:1,B=F=0):H===U?(F=F<0?-1:1,y=B=0):(B=B<0?-1:1,y=F=0)}else{var _=b(y,B,F);y/=_,B/=_,F/=_}var Z,q,G=L[i],Y=L[i+4],ee=L[i+8],ue=G*y+Y*B+ee*F,ce=b(G-=y*ue,Y-=B*ue,ee-=F*ue),pe=B*(ee/=ce)-F*(Y/=ce),te=F*(G/=ce)-y*ee,Q=y*Y-B*G,K=b(pe,te,Q);if(pe/=K,te/=K,Q/=K,this.center.jump(T,ze,Ke,ut),this.radius.idle(T),this.up.jump(T,y,B,F),this.right.jump(T,G,Y,ee),2===M){var fe=L[1],re=L[5],$=L[9];Z=Me<0?-Math.PI/2:Math.PI/2,q=Math.atan2(fe*pe+re*te+$*Q,fe*G+re*Y+$*ee)}else{var de=L[2],we=L[6],Ee=L[10],Me=de*y+we*B+Ee*F,Ne=de*G+we*Y+Ee*ee,Ve=de*pe+we*te+Ee*Q;Z=Math.asin(p(Me)),q=Math.atan2(Ve,Ne)}this.angle.jump(T,q,Z),this.recalcMatrix(T);var Pe=L[2],Ce=L[6],Ie=L[10],Je=this.computedMatrix;c(Je,L);var Qe=Je[15],ze=Je[12]/Qe,Ke=Je[13]/Qe,ut=Je[14]/Qe,ot=Math.exp(this.computedRadius[0]);this.center.jump(T,ze-Pe*ot,Ke-Ce*ot,ut-Ie*ot)},u.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},u.idle=function(T){this.center.idle(T),this.up.idle(T),this.right.idle(T),this.radius.idle(T),this.angle.idle(T)},u.flush=function(T){this.center.flush(T),this.up.flush(T),this.right.flush(T),this.radius.flush(T),this.angle.flush(T)},u.setDistance=function(T,L){L>0&&this.radius.set(T,Math.log(L))},u.lookAt=function(T,L,x,E){this.recalcMatrix(T),L=L||this.computedEye,x=x||this.computedCenter;var M=(E=E||this.computedUp)[0],i=E[1],D=E[2],y=b(M,i,D);if(!(y<1e-6)){M/=y,i/=y,D/=y;var B=L[0]-x[0],F=L[1]-x[1],_=L[2]-x[2],z=b(B,F,_);if(!(z<1e-6)){B/=z,F/=z,_/=z;var V=this.computedRight,H=V[0],U=V[1],G=V[2],Y=M*H+i*U+D*G,ee=b(H-=Y*M,U-=Y*i,G-=Y*D);if(!(ee<.01&&(H=i*_-D*F,U=D*B-M*_,G=M*F-i*B,ee=b(H,U,G),ee<1e-6))){H/=ee,U/=ee,G/=ee,this.up.set(T,M,i,D),this.right.set(T,H,U,G),this.center.set(T,x[0],x[1],x[2]),this.radius.set(T,Math.log(z));var ue=i*G-D*U,ce=D*H-M*G,pe=M*U-i*H,te=b(ue,ce,pe),K=H*B+U*F+G*_,Z=(ue/=te)*B+(ce/=te)*F+(pe/=te)*_,q=Math.asin(p(M*B+i*F+D*_)),fe=Math.atan2(Z,K),re=this.angle._state,$=re[re.length-1],le=re[re.length-2];$%=2*Math.PI;var se=Math.abs($+2*Math.PI-fe),de=Math.abs($-fe),we=Math.abs($-2*Math.PI-fe);se<de&&($+=2*Math.PI),we<de&&($-=2*Math.PI),this.angle.jump(this.angle.lastT(),$,le),this.angle.set(T,fe,q)}}}}},9660:function(v){"use strict";v.exports=function r(n,c,o){var f=n*c,h=w*n,b=h-(h-n),p=n-b,A=w*c,u=A-(A-c),g=c-u,x=p*g-(f-b*u-p*u-b*g);return o?(o[0]=x,o[1]=f,o):[x,f]};var w=+(Math.pow(2,27)+1)},87:function(v){"use strict";v.exports=function w(r,n,c){var o=r+n,f=o-r,d=n-f,b=r-(o-f);return c?(c[0]=b+d,c[1]=o,c):[b+d,o]}},5306:function(v,w,r){"use strict";var n=r(2288),c=r(3094),o=r(2146).lW;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:c([32,0]),UINT16:c([32,0]),UINT32:c([32,0]),BIGUINT64:c([32,0]),INT8:c([32,0]),INT16:c([32,0]),INT32:c([32,0]),BIGINT64:c([32,0]),FLOAT:c([32,0]),DOUBLE:c([32,0]),DATA:c([32,0]),UINT8C:c([32,0]),BUFFER:c([32,0])});var f=typeof Uint8ClampedArray<"u",h=typeof BigUint64Array<"u",d=typeof BigInt64Array<"u",b=r.g.__TYPEDARRAY_POOL;b.UINT8C||(b.UINT8C=c([32,0])),b.BIGUINT64||(b.BIGUINT64=c([32,0])),b.BIGINT64||(b.BIGINT64=c([32,0])),b.BUFFER||(b.BUFFER=c([32,0]));var p=b.DATA,A=b.BUFFER;function m(V){if(V){var U=n.log2(V.length||V.byteLength);p[U].push(V)}}function g(H){H=n.nextPow2(H);var U=n.log2(H),G=p[U];return G.length>0?G.pop():new ArrayBuffer(H)}function C(V){return new Uint8Array(g(V),0,V)}function T(V){return new Uint16Array(g(2*V),0,V)}function L(V){return new Uint32Array(g(4*V),0,V)}function x(V){return new Int8Array(g(V),0,V)}function E(V){return new Int16Array(g(2*V),0,V)}function M(V){return new Int32Array(g(4*V),0,V)}function i(V){return new Float32Array(g(4*V),0,V)}function D(V){return new Float64Array(g(8*V),0,V)}function y(V){return f?new Uint8ClampedArray(g(V),0,V):C(V)}function B(V){return h?new BigUint64Array(g(8*V),0,V):null}function F(V){return d?new BigInt64Array(g(8*V),0,V):null}function _(V){return new DataView(g(V),0,V)}function z(V){V=n.nextPow2(V);var H=n.log2(V),U=A[H];return U.length>0?U.pop():new o(V)}w.free=function(H){if(o.isBuffer(H))A[n.log2(H.length)].push(H);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(H)&&(H=H.buffer),!H)return;var G=0|n.log2(H.length||H.byteLength);p[G].push(H)}},w.freeUint8=w.freeUint16=w.freeUint32=w.freeBigUint64=w.freeInt8=w.freeInt16=w.freeInt32=w.freeBigInt64=w.freeFloat32=w.freeFloat=w.freeFloat64=w.freeDouble=w.freeUint8Clamped=w.freeDataView=function u(V){m(V.buffer)},w.freeArrayBuffer=m,w.freeBuffer=function(H){A[n.log2(H.length)].push(H)},w.malloc=function(H,U){if(void 0===U||"arraybuffer"===U)return g(H);switch(U){case"uint8":return C(H);case"uint16":return T(H);case"uint32":return L(H);case"int8":return x(H);case"int16":return E(H);case"int32":return M(H);case"float":case"float32":return i(H);case"double":case"float64":return D(H);case"uint8_clamped":return y(H);case"bigint64":return F(H);case"biguint64":return B(H);case"buffer":return z(H);case"data":case"dataview":return _(H);default:return null}return null},w.mallocArrayBuffer=g,w.mallocUint8=C,w.mallocUint16=T,w.mallocUint32=L,w.mallocInt8=x,w.mallocInt16=E,w.mallocInt32=M,w.mallocFloat32=w.mallocFloat=i,w.mallocFloat64=w.mallocDouble=D,w.mallocUint8Clamped=y,w.mallocBigUint64=B,w.mallocBigInt64=F,w.mallocDataView=_,w.mallocBuffer=z,w.clearCache=function(){for(var H=0;H<32;++H)b.UINT8[H].length=0,b.UINT16[H].length=0,b.UINT32[H].length=0,b.INT8[H].length=0,b.INT16[H].length=0,b.INT32[H].length=0,b.FLOAT[H].length=0,b.DOUBLE[H].length=0,b.BIGUINT64[H].length=0,b.BIGINT64[H].length=0,b.UINT8C[H].length=0,p[H].length=0,A[H].length=0}},1731:function(v){"use strict";function w(n){this.roots=new Array(n),this.ranks=new Array(n);for(var c=0;c<n;++c)this.roots[c]=c,this.ranks[c]=0}v.exports=w;var r=w.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var n=this.roots.length;return this.roots.push(n),this.ranks.push(0),n},r.find=function(n){for(var c=n,o=this.roots;o[n]!==n;)n=o[n];for(;o[c]!==n;){var f=o[c];o[c]=n,c=f}return n},r.link=function(n,c){var o=this.find(n),f=this.find(c);if(o!==f){var h=this.ranks,d=this.roots,b=h[o],p=h[f];b<p?d[o]=f:p<b?d[f]=o:(d[f]=o,++h[o])}}},1215:function(v){"use strict";v.exports=function n(c,o,f){return 0===c.length?c:o?(f||c.sort(o),function w(c,o){for(var f=1,h=c.length,d=c[0],b=c[0],p=1;p<h;++p)if(b=d,o(d=c[p],b)){if(p===f){f++;continue}c[f++]=d}return c.length=f,c}(c,o)):(f||c.sort(),function r(c){for(var o=1,f=c.length,h=c[0],d=c[0],b=1;b<f;++b,d=h)if(d=h,(h=c[b])!==d){if(b===o){o++;continue}c[o++]=h}return c.length=o,c}(c))}},875:function(v,w,r){"use strict";v.exports=function f(h,d){return("object"!=typeof d||null===d)&&(d={}),n(h,d.canvas||c,d.context||o,d)};var n=r(712),c=null,o=null;typeof document<"u"&&((c=document.createElement("canvas")).width=8192,c.height=1024,o=c.getContext("2d"))},712:function(v,w,r){v.exports=function F(_,z,V,H){var U=64,G=1.25,Y={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return H&&(H.size&&H.size>0&&(U=H.size),H.lineSpacing&&H.lineSpacing>0&&(G=H.lineSpacing),H.styletags&&H.styletags.breaklines&&(Y.breaklines=!!H.styletags.breaklines),H.styletags&&H.styletags.bolds&&(Y.bolds=!!H.styletags.bolds),H.styletags&&H.styletags.italics&&(Y.italics=!!H.styletags.italics),H.styletags&&H.styletags.subscripts&&(Y.subscripts=!!H.styletags.subscripts),H.styletags&&H.styletags.superscripts&&(Y.superscripts=!!H.styletags.superscripts)),V.font=[H.fontStyle,H.fontVariant,H.fontWeight,U+"px",H.font].filter(function(ue){return ue}).join(" "),V.textAlign="start",V.textBaseline="alphabetic",V.direction="ltr",B(function i(_,z,V,H,U,G){V=(V=V.replace(/\n/g,"")).replace(/\<br\>/g,!0===G.breaklines?"\n":" ");var Y="",ee=[];for($=0;$<V.length;++$)ee[$]=Y;!0===G.bolds&&(ee=E(b,p,V,ee)),!0===G.italics&&(ee=E(A,m,V,ee)),!0===G.superscripts&&(ee=E(u,C,V,ee)),!0===G.subscripts&&(ee=E(T,x,V,ee));var ue=[],ce="";for($=0;$<V.length;++$)null!==ee[$]&&(ce+=V[$],ue.push(ee[$]));var pe=ce.split("\n"),te=pe.length,Q=Math.round(U*H),K=H,Z=2*H,q=0,fe=te*Q+Z;_.height<fe&&(_.height=fe),z.fillStyle="#000",z.fillRect(0,0,_.width,_.height),z.fillStyle="#fff";var re,$,le,se,de,we=0,Ee="";function Me(){if(""!==Ee){var Ke=z.measureText(Ee).width;z.fillText(Ee,K+le,Z+se),le+=Ke}}function Ne(){return Math.round(de)+"px "}function Ve(Ke,ut){var ot=""+z.font;if(!0===G.subscripts){var We=Ke.indexOf(L),je=ut.indexOf(L),lt=We>-1?parseInt(Ke[1+We]):0,vt=je>-1?parseInt(ut[1+je]):0;lt!==vt&&(ot=ot.replace(Ne(),"?px "),de*=Math.pow(.75,vt-lt),ot=ot.replace("?px ",Ne())),se+=.25*Q*(vt-lt)}if(!0===G.superscripts){var pt=Ke.indexOf(g),St=ut.indexOf(g),Ct=pt>-1?parseInt(Ke[1+pt]):0,_t=St>-1?parseInt(ut[1+St]):0;Ct!==_t&&(ot=ot.replace(Ne(),"?px "),de*=Math.pow(.75,_t-Ct),ot=ot.replace("?px ",Ne())),se-=.25*Q*(_t-Ct)}if(!0===G.bolds){var nt=Ke.indexOf(p)>-1,ke=ut.indexOf(p)>-1;!nt&&ke&&(ot=Re?ot.replace("italic ","italic bold "):"bold "+ot),nt&&!ke&&(ot=ot.replace("bold ",""))}if(!0===G.italics){var Re=Ke.indexOf(m)>-1,Be=ut.indexOf(m)>-1;!Re&&Be&&(ot="italic "+ot),Re&&!Be&&(ot=ot.replace("italic ",""))}z.font=ot}for(re=0;re<te;++re){var Pe=pe[re]+"\n";for(le=0,se=re*Q,de=H,Ee="",$=0;$<Pe.length;++$){var Ce=$+we<ue.length?ue[$+we]:ue[ue.length-1];Y===Ce?Ee+=Pe[$]:(Me(),Ee=Pe[$],void 0!==Ce&&(Ve(Y,Ce),Y=Ce))}Me(),we+=Pe.length;var Ie=0|Math.round(le+2*K);q<Ie&&(q=Ie)}var Je=q,Qe=Z+Q*te;return c(z.getImageData(0,0,Je,Qe).data,[Qe,Je,4]).pick(-1,-1,0).transpose(1,0)}(z,V,_,U,G,Y),H,U)},v.exports.processPixels=B;var n=r(4162),c=r(5050),o=r(8243),f=r(197),h=r(7761),d=r(8040),b="b",p="b|",A="i",m="i|",u="sup",g="+",C="+1",T="sub",L="-",x="-1";function E(_,z,V,H){for(var U="<"+_+">",G="</"+_+">",Y=U.length,ee=G.length,ue=z[0]===g||z[0]===L,ce=0,pe=-ee;ce>-1&&!(-1===(ce=V.indexOf(U,ce))||(pe=V.indexOf(G,ce+Y),-1===pe)||pe<=ce);){for(var te=ce;te<pe+ee;++te)if(te<ce+Y||te>=pe)H[te]=null,V=V.substr(0,te)+" "+V.substr(te+1);else if(null!==H[te]){var Q=H[te].indexOf(z[0]);-1===Q?H[te]+=z:ue&&(H[te]=H[te].substr(0,Q+1)+(1+parseInt(H[te][Q+1]))+H[te].substr(Q+2))}var K=ce+Y,q=V.substr(K,pe-K).indexOf(U);ce=-1!==q?q:pe+ee}return H}function y(_,z,V,H){var U=function D(_,z){var V=n(_,128);return z?o(V.cells,V.positions,.25):{edges:V.cells,positions:V.positions}}(_,H),G=function M(_,z,V){for(var H=z.textAlign||"start",U=z.textBaseline||"alphabetic",G=[1<<30,1<<30],Y=[0,0],ee=_.length,ue=0;ue<ee;++ue)for(var ce=_[ue],pe=0;pe<2;++pe)G[pe]=0|Math.min(G[pe],ce[pe]),Y[pe]=0|Math.max(Y[pe],ce[pe]);var te=0;switch(H){case"center":te=-.5*(G[0]+Y[0]);break;case"right":case"end":te=-Y[0];break;case"left":case"start":te=-G[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+H+"'")}var Q=0;switch(U){case"hanging":case"top":Q=-G[1];break;case"middle":Q=-.5*(G[1]+Y[1]);break;case"alphabetic":case"ideographic":Q=-3*V;break;case"bottom":Q=-Y[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+U+"'")}var K=1/V;return"lineHeight"in z?K*=+z.lineHeight:"width"in z?K=z.width/(Y[0]-G[0]):"height"in z&&(K=z.height/(Y[1]-G[1])),_.map(function(Z){return[K*(Z[0]+te),K*(Z[1]+Q)]})}(U.positions,z,V),Y=U.edges,ee="ccw"===z.orientation;if(f(G,Y),z.polygons||z.polygon||z.polyline){for(var ue=d(Y,G),ce=new Array(ue.length),pe=0;pe<ue.length;++pe){for(var te=ue[pe],Q=new Array(te.length),K=0;K<te.length;++K){for(var Z=te[K],q=new Array(Z.length),fe=0;fe<Z.length;++fe)q[fe]=G[Z[fe]].slice();ee&&q.reverse(),Q[K]=q}ce[pe]=Q}return ce}return z.triangles||z.triangulate||z.triangle?{cells:h(G,Y,{delaunay:!1,exterior:!1,interior:!0}),positions:G}:{edges:Y,positions:G}}function B(_,z,V){try{return y(_,z,V,!0)}catch{}try{return y(_,z,V,!1)}catch{}return z.polygons||z.polyline||z.polygon?[]:z.triangles||z.triangulate||z.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(v){!function(){"use strict";if(!(typeof ses<"u"&&ses.ok)||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var n=!1;if("function"==typeof WeakMap){var c=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var o=new c,f=Object.freeze({});if(o.set(f,1),1===o.get(f))return void(v.exports=WeakMap);n=!0}}var d=Object.getOwnPropertyNames,b=Object.defineProperty,p=Object.isExtensible,A="weakmap:",m=A+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var u=new ArrayBuffer(25),g=new Uint8Array(u);crypto.getRandomValues(g),m=A+"rand:"+Array.prototype.map.call(g,function(y){return(y%36).toString(36)}).join("")+"___"}if(b(Object,"getOwnPropertyNames",{value:function(B){return d(B).filter(C)}}),"getPropertyNames"in Object){var T=Object.getPropertyNames;b(Object,"getPropertyNames",{value:function(B){return T(B).filter(C)}})}!function(){var y=Object.freeze;b(Object,"freeze",{value:function(z){return L(z),y(z)}});var B=Object.seal;b(Object,"seal",{value:function(z){return L(z),B(z)}});var F=Object.preventExtensions;b(Object,"preventExtensions",{value:function(z){return L(z),F(z)}})}();var E=!1,i=0,D=function(){this instanceof D||M();var y=[],B=[],F=i++;return Object.create(D.prototype,{get___:{value:x(function _(U,G){var Y,ee=L(U);return ee?F in ee?ee[F]:G:(Y=y.indexOf(U))>=0?B[Y]:G})},has___:{value:x(function z(U){var G=L(U);return G?F in G:y.indexOf(U)>=0})},set___:{value:x(function V(U,G){var Y,ee=L(U);return ee?ee[F]=G:(Y=y.indexOf(U))>=0?B[Y]=G:(B[Y=y.length]=G,y[Y]=U),this})},delete___:{value:x(function H(U){var Y,ee,G=L(U);return G?F in G&&delete G[F]:!((Y=y.indexOf(U))<0||(ee=y.length-1,y[Y]=void 0,B[Y]=B[ee],y[Y]=y[ee],y.length=ee,B.length=ee,0))})}})};D.prototype=Object.create(Object.prototype,{get:{value:function(B,F){return this.get___(B,F)},writable:!0,configurable:!0},has:{value:function(B){return this.has___(B)},writable:!0,configurable:!0},set:{value:function(B,F){return this.set___(B,F)},writable:!0,configurable:!0},delete:{value:function(B){return this.delete___(B)},writable:!0,configurable:!0}}),"function"==typeof c?function(){function y(){this instanceof D||M();var H,B=new c,F=void 0,_=!1;return H=n?function(G,Y){return B.set(G,Y),B.has(G)||(F||(F=new D),F.set(G,Y)),this}:function(G,Y){if(_)try{B.set(G,Y)}catch{F||(F=new D),F.set___(G,Y)}else B.set(G,Y);return this},Object.create(D.prototype,{get___:{value:x(function z(G,Y){return F?B.has(G)?B.get(G):F.get___(G,Y):B.get(G,Y)})},has___:{value:x(function V(G){return B.has(G)||!!F&&F.has___(G)})},set___:{value:x(H)},delete___:{value:x(function U(G){var Y=!!B.delete(G);return F&&F.delete___(G)||Y})},permitHostObjects___:{value:x(function(G){if(G!==r)throw new Error("bogus call to permitHostObjects___");_=!0})}})}n&&typeof Proxy<"u"&&(Proxy=void 0),y.prototype=D.prototype,v.exports=y,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=D)}function r(y){y.permitHostObjects___&&y.permitHostObjects___(r)}function C(y){return!(y.substr(0,A.length)==A&&"___"===y.substr(y.length-3))}function L(y){if(y!==Object(y))throw new TypeError("Not an object: "+y);var B=y[m];if(B&&B.key===y)return B;if(p(y)){B={key:y};try{return b(y,m,{value:B,writable:!1,enumerable:!1,configurable:!1}),B}catch{return}}}function x(y){return y.prototype=null,Object.freeze(y)}function M(){!E&&typeof console<"u"&&(E=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},9222:function(v,w,r){var n=r(7178);v.exports=function c(){var o={};return function(f){if(("object"!=typeof f||null===f)&&"function"!=typeof f)throw new Error("Weakmap-shim: Key must be object");var h=f.valueOf(o);return h&&h.identity===o?h:n(f,o)}}},7178:function(v){v.exports=function w(r,n){var c={identity:n},o=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(f){return f!==n?o.apply(this,arguments):c},writable:!0}),c}},4037:function(v,w,r){var n=r(9222);v.exports=function c(){var o=n();return{get:function(f,h){var d=o(f);return d.hasOwnProperty("value")?d.value:h},set:function(f,h){return o(f).value=h,this},has:function(f){return"value"in o(f)},delete:function(f){return delete o(f).value}}}},6183:function(v){"use strict";var n=function r(){return function(h,d,b,p,A,m){var u=h[0],g=b[0],C=[0],T=g;p|=0;var L=0,x=g;for(L=0;L<u;++L){var E=d[p]-m,M=d[p+T]-m;E>=0!=M>=0&&A.push(C[0]+.5+.5*(E+M)/(E-M)),p+=x,++C[0]}}};v.exports=function f(h){return function o(h){return function c(h){var d={};return function(p,A,m){var u=p.dtype,g=p.order,C=[u,g.join()].join(),T=d[C];return T||(d[C]=T=h([u,g])),T(p.shape.slice(0),p.data,p.stride,0|p.offset,A,m)}}(n.bind(void 0,h))}({funcName:h.funcName})}({funcName:"zeroCrossings"})},9584:function(v,w,r){"use strict";v.exports=function c(o,f){var h=[];return f=+f||0,n(o.hi(o.shape[0]-1),h,f),h};var n=r(6183)},6601:function(){}},l={};function R(v){var w=l[v];if(void 0!==w)return w.exports;var r=l[v]={id:v,loaded:!1,exports:{}};return k[v].call(r.exports,r,r.exports,R),r.loaded=!0,r.exports}return R.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),R.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v},R(7386)}()},oe.exports=R()},12856:function(oe,J,t){"use strict";function k(nt,ke){for(var Re=0;Re<ke.length;Re++){var Be=ke[Re];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(nt,R(Be.key),Be)}}function R(nt){var ke=function I(nt,ke){if("object"!==h(nt)||null===nt)return nt;var Re=nt[Symbol.toPrimitive];if(void 0!==Re){var Be=Re.call(nt,ke||"default");if("object"!==h(Be))return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ke?String:Number)(nt)}(nt,"string");return"symbol"===h(ke)?ke:String(ke)}function w(nt,ke){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Be,He){return Be.__proto__=He,Be})(nt,ke)}function r(nt){var ke=function o(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var He,Be=f(nt);if(ke){var Ye=f(this).constructor;He=Reflect.construct(Be,arguments,Ye)}else He=Be.apply(this,arguments);return function n(nt,ke){if(ke&&("object"===h(ke)||"function"==typeof ke))return ke;if(void 0!==ke)throw new TypeError("Derived constructors may only return object or undefined");return c(nt)}(this,He)}}function c(nt){if(void 0===nt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}function f(nt){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Re){return Re.__proto__||Object.getPrototypeOf(Re)})(nt)}function h(nt){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ke){return typeof ke}:function(ke){return ke&&"function"==typeof Symbol&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke})(nt)}var d=t(95341),b=t(95280),p="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;J.Buffer=g,J.SlowBuffer=function F(nt){return+nt!=nt&&(nt=0),g.alloc(+nt)},J.INSPECT_MAX_BYTES=50;var A=2147483647;function u(nt){if(nt>A)throw new RangeError('The value "'+nt+'" is invalid for option "size"');var ke=new Uint8Array(nt);return Object.setPrototypeOf(ke,g.prototype),ke}function g(nt,ke,Re){if("number"==typeof nt){if("string"==typeof ke)throw new TypeError('The "string" argument must be of type string. Received type number');return x(nt)}return C(nt,ke,Re)}function C(nt,ke,Re){if("string"==typeof nt)return function E(nt,ke){if(("string"!=typeof ke||""===ke)&&(ke="utf8"),!g.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);var Re=0|_(nt,ke),Be=u(Re),He=Be.write(nt,ke);return He!==Re&&(Be=Be.slice(0,He)),Be}(nt,ke);if(ArrayBuffer.isView(nt))return function i(nt){if(vt(nt,Uint8Array)){var ke=new Uint8Array(nt);return D(ke.buffer,ke.byteOffset,ke.byteLength)}return M(nt)}(nt);if(null==nt)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+h(nt));if(vt(nt,ArrayBuffer)||nt&&vt(nt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(vt(nt,SharedArrayBuffer)||nt&&vt(nt.buffer,SharedArrayBuffer)))return D(nt,ke,Re);if("number"==typeof nt)throw new TypeError('The "value" argument must not be of type number. Received type number');var Be=nt.valueOf&&nt.valueOf();if(null!=Be&&Be!==nt)return g.from(Be,ke,Re);var He=function y(nt){if(g.isBuffer(nt)){var ke=0|B(nt.length),Re=u(ke);return 0===Re.length||nt.copy(Re,0,0,ke),Re}return void 0!==nt.length?"number"!=typeof nt.length||pt(nt.length)?u(0):M(nt):"Buffer"===nt.type&&Array.isArray(nt.data)?M(nt.data):void 0}(nt);if(He)return He;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof nt[Symbol.toPrimitive])return g.from(nt[Symbol.toPrimitive]("string"),ke,Re);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+h(nt))}function T(nt){if("number"!=typeof nt)throw new TypeError('"size" argument must be of type number');if(nt<0)throw new RangeError('The value "'+nt+'" is invalid for option "size"')}function x(nt){return T(nt),u(nt<0?0:0|B(nt))}function M(nt){for(var ke=nt.length<0?0:0|B(nt.length),Re=u(ke),Be=0;Be<ke;Be+=1)Re[Be]=255&nt[Be];return Re}function D(nt,ke,Re){if(ke<0||nt.byteLength<ke)throw new RangeError('"offset" is outside of buffer bounds');if(nt.byteLength<ke+(Re||0))throw new RangeError('"length" is outside of buffer bounds');var Be;return Be=void 0===ke&&void 0===Re?new Uint8Array(nt):void 0===Re?new Uint8Array(nt,ke):new Uint8Array(nt,ke,Re),Object.setPrototypeOf(Be,g.prototype),Be}function B(nt){if(nt>=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return 0|nt}function _(nt,ke){if(g.isBuffer(nt))return nt.length;if(ArrayBuffer.isView(nt)||vt(nt,ArrayBuffer))return nt.byteLength;if("string"!=typeof nt)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+h(nt));var Re=nt.length,Be=arguments.length>2&&!0===arguments[2];if(!Be&&0===Re)return 0;for(var He=!1;;)switch(ke){case"ascii":case"latin1":case"binary":return Re;case"utf8":case"utf-8":return ut(nt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Re;case"hex":return Re>>>1;case"base64":return je(nt).length;default:if(He)return Be?-1:ut(nt).length;ke=(""+ke).toLowerCase(),He=!0}}function z(nt,ke,Re){var Be=!1;if((void 0===ke||ke<0)&&(ke=0),ke>this.length||((void 0===Re||Re>this.length)&&(Re=this.length),Re<=0)||(Re>>>=0)<=(ke>>>=0))return"";for(nt||(nt="utf8");;)switch(nt){case"hex":return fe(this,ke,Re);case"utf8":case"utf-8":return te(this,ke,Re);case"ascii":return Z(this,ke,Re);case"latin1":case"binary":return q(this,ke,Re);case"base64":return pe(this,ke,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,ke,Re);default:if(Be)throw new TypeError("Unknown encoding: "+nt);nt=(nt+"").toLowerCase(),Be=!0}}function V(nt,ke,Re){var Be=nt[ke];nt[ke]=nt[Re],nt[Re]=Be}function H(nt,ke,Re,Be,He){if(0===nt.length)return-1;if("string"==typeof Re?(Be=Re,Re=0):Re>2147483647?Re=2147483647:Re<-2147483648&&(Re=-2147483648),pt(Re=+Re)&&(Re=He?0:nt.length-1),Re<0&&(Re=nt.length+Re),Re>=nt.length){if(He)return-1;Re=nt.length-1}else if(Re<0){if(!He)return-1;Re=0}if("string"==typeof ke&&(ke=g.from(ke,Be)),g.isBuffer(ke))return 0===ke.length?-1:U(nt,ke,Re,Be,He);if("number"==typeof ke)return ke&=255,"function"==typeof Uint8Array.prototype.indexOf?He?Uint8Array.prototype.indexOf.call(nt,ke,Re):Uint8Array.prototype.lastIndexOf.call(nt,ke,Re):U(nt,[ke],Re,Be,He);throw new TypeError("val must be string, number or Buffer")}function U(nt,ke,Re,Be,He){var Te,Ye=1,Ue=nt.length,De=ke.length;if(void 0!==Be&&("ucs2"===(Be=String(Be).toLowerCase())||"ucs-2"===Be||"utf16le"===Be||"utf-16le"===Be)){if(nt.length<2||ke.length<2)return-1;Ye=2,Ue/=2,De/=2,Re/=2}function ge(gt,Kt){return 1===Ye?gt[Kt]:gt.readUInt16BE(Kt*Ye)}if(He){var _e=-1;for(Te=Re;Te<Ue;Te++)if(ge(nt,Te)===ge(ke,-1===_e?0:Te-_e)){if(-1===_e&&(_e=Te),Te-_e+1===De)return _e*Ye}else-1!==_e&&(Te-=Te-_e),_e=-1}else for(Re+De>Ue&&(Re=Ue-De),Te=Re;Te>=0;Te--){for(var et=!0,ft=0;ft<De;ft++)if(ge(nt,Te+ft)!==ge(ke,ft)){et=!1;break}if(et)return Te}return-1}function G(nt,ke,Re,Be){Re=Number(Re)||0;var He=nt.length-Re;Be?(Be=Number(Be))>He&&(Be=He):Be=He;var Ue,Ye=ke.length;for(Be>Ye/2&&(Be=Ye/2),Ue=0;Ue<Be;++Ue){var De=parseInt(ke.substr(2*Ue,2),16);if(pt(De))return Ue;nt[Re+Ue]=De}return Ue}function Y(nt,ke,Re,Be){return lt(ut(ke,nt.length-Re),nt,Re,Be)}function ee(nt,ke,Re,Be){return lt(function ot(nt){for(var ke=[],Re=0;Re<nt.length;++Re)ke.push(255&nt.charCodeAt(Re));return ke}(ke),nt,Re,Be)}function ue(nt,ke,Re,Be){return lt(je(ke),nt,Re,Be)}function ce(nt,ke,Re,Be){return lt(function We(nt,ke){for(var Re,Be,Ye=[],Ue=0;Ue<nt.length&&!((ke-=2)<0);++Ue)Be=(Re=nt.charCodeAt(Ue))>>8,Ye.push(Re%256),Ye.push(Be);return Ye}(ke,nt.length-Re),nt,Re,Be)}function pe(nt,ke,Re){return d.fromByteArray(0===ke&&Re===nt.length?nt:nt.slice(ke,Re))}function te(nt,ke,Re){Re=Math.min(nt.length,Re);for(var Be=[],He=ke;He<Re;){var Ye=nt[He],Ue=null,De=Ye>239?4:Ye>223?3:Ye>191?2:1;if(He+De<=Re){var ge=void 0,Te=void 0,_e=void 0,et=void 0;switch(De){case 1:Ye<128&&(Ue=Ye);break;case 2:128==(192&(ge=nt[He+1]))&&(et=(31&Ye)<<6|63&ge)>127&&(Ue=et);break;case 3:Te=nt[He+2],128==(192&(ge=nt[He+1]))&&128==(192&Te)&&(et=(15&Ye)<<12|(63&ge)<<6|63&Te)>2047&&(et<55296||et>57343)&&(Ue=et);break;case 4:Te=nt[He+2],_e=nt[He+3],128==(192&(ge=nt[He+1]))&&128==(192&Te)&&128==(192&_e)&&(et=(15&Ye)<<18|(63&ge)<<12|(63&Te)<<6|63&_e)>65535&&et<1114112&&(Ue=et)}}null===Ue?(Ue=65533,De=1):Ue>65535&&(Be.push((Ue-=65536)>>>10&1023|55296),Ue=56320|1023&Ue),Be.push(Ue),He+=De}return function K(nt){var ke=nt.length;if(ke<=Q)return String.fromCharCode.apply(String,nt);for(var Re="",Be=0;Be<ke;)Re+=String.fromCharCode.apply(String,nt.slice(Be,Be+=Q));return Re}(Be)}J.kMaxLength=A,!(g.TYPED_ARRAY_SUPPORT=function m(){try{var nt=new Uint8Array(1),ke={foo:function(){return 42}};return Object.setPrototypeOf(ke,Uint8Array.prototype),Object.setPrototypeOf(nt,ke),42===nt.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(nt,ke,Re){return C(nt,ke,Re)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(nt,ke,Re){return function L(nt,ke,Re){return T(nt),nt<=0?u(nt):void 0!==ke?"string"==typeof Re?u(nt).fill(ke,Re):u(nt).fill(ke):u(nt)}(nt,ke,Re)},g.allocUnsafe=function(nt){return x(nt)},g.allocUnsafeSlow=function(nt){return x(nt)},g.isBuffer=function(ke){return null!=ke&&!0===ke._isBuffer&&ke!==g.prototype},g.compare=function(ke,Re){if(vt(ke,Uint8Array)&&(ke=g.from(ke,ke.offset,ke.byteLength)),vt(Re,Uint8Array)&&(Re=g.from(Re,Re.offset,Re.byteLength)),!g.isBuffer(ke)||!g.isBuffer(Re))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ke===Re)return 0;for(var Be=ke.length,He=Re.length,Ye=0,Ue=Math.min(Be,He);Ye<Ue;++Ye)if(ke[Ye]!==Re[Ye]){Be=ke[Ye],He=Re[Ye];break}return Be<He?-1:He<Be?1:0},g.isEncoding=function(ke){switch(String(ke).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(ke,Re){if(!Array.isArray(ke))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ke.length)return g.alloc(0);var Be;if(void 0===Re)for(Re=0,Be=0;Be<ke.length;++Be)Re+=ke[Be].length;var He=g.allocUnsafe(Re),Ye=0;for(Be=0;Be<ke.length;++Be){var Ue=ke[Be];if(vt(Ue,Uint8Array))Ye+Ue.length>He.length?(g.isBuffer(Ue)||(Ue=g.from(Ue)),Ue.copy(He,Ye)):Uint8Array.prototype.set.call(He,Ue,Ye);else{if(!g.isBuffer(Ue))throw new TypeError('"list" argument must be an Array of Buffers');Ue.copy(He,Ye)}Ye+=Ue.length}return He},g.byteLength=_,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var ke=this.length;if(ke%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Re=0;Re<ke;Re+=2)V(this,Re,Re+1);return this},g.prototype.swap32=function(){var ke=this.length;if(ke%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Re=0;Re<ke;Re+=4)V(this,Re,Re+3),V(this,Re+1,Re+2);return this},g.prototype.swap64=function(){var ke=this.length;if(ke%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Re=0;Re<ke;Re+=8)V(this,Re,Re+7),V(this,Re+1,Re+6),V(this,Re+2,Re+5),V(this,Re+3,Re+4);return this},g.prototype.toString=function(){var ke=this.length;return 0===ke?"":0===arguments.length?te(this,0,ke):z.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(ke){if(!g.isBuffer(ke))throw new TypeError("Argument must be a Buffer");return this===ke||0===g.compare(this,ke)},g.prototype.inspect=function(){var ke="",Re=J.INSPECT_MAX_BYTES;return ke=this.toString("hex",0,Re).replace(/(.{2})/g,"$1 ").trim(),this.length>Re&&(ke+=" ... "),"<Buffer "+ke+">"},p&&(g.prototype[p]=g.prototype.inspect),g.prototype.compare=function(ke,Re,Be,He,Ye){if(vt(ke,Uint8Array)&&(ke=g.from(ke,ke.offset,ke.byteLength)),!g.isBuffer(ke))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+h(ke));if(void 0===Re&&(Re=0),void 0===Be&&(Be=ke?ke.length:0),void 0===He&&(He=0),void 0===Ye&&(Ye=this.length),Re<0||Be>ke.length||He<0||Ye>this.length)throw new RangeError("out of range index");if(He>=Ye&&Re>=Be)return 0;if(He>=Ye)return-1;if(Re>=Be)return 1;if(this===ke)return 0;for(var Ue=(Ye>>>=0)-(He>>>=0),De=(Be>>>=0)-(Re>>>=0),ge=Math.min(Ue,De),Te=this.slice(He,Ye),_e=ke.slice(Re,Be),et=0;et<ge;++et)if(Te[et]!==_e[et]){Ue=Te[et],De=_e[et];break}return Ue<De?-1:De<Ue?1:0},g.prototype.includes=function(ke,Re,Be){return-1!==this.indexOf(ke,Re,Be)},g.prototype.indexOf=function(ke,Re,Be){return H(this,ke,Re,Be,!0)},g.prototype.lastIndexOf=function(ke,Re,Be){return H(this,ke,Re,Be,!1)},g.prototype.write=function(ke,Re,Be,He){if(void 0===Re)He="utf8",Be=this.length,Re=0;else if(void 0===Be&&"string"==typeof Re)He=Re,Be=this.length,Re=0;else{if(!isFinite(Re))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Re>>>=0,isFinite(Be)?(Be>>>=0,void 0===He&&(He="utf8")):(He=Be,Be=void 0)}var Ye=this.length-Re;if((void 0===Be||Be>Ye)&&(Be=Ye),ke.length>0&&(Be<0||Re<0)||Re>this.length)throw new RangeError("Attempt to write outside buffer bounds");He||(He="utf8");for(var Ue=!1;;)switch(He){case"hex":return G(this,ke,Re,Be);case"utf8":case"utf-8":return Y(this,ke,Re,Be);case"ascii":case"latin1":case"binary":return ee(this,ke,Re,Be);case"base64":return ue(this,ke,Re,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,ke,Re,Be);default:if(Ue)throw new TypeError("Unknown encoding: "+He);He=(""+He).toLowerCase(),Ue=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;function Z(nt,ke,Re){var Be="";Re=Math.min(nt.length,Re);for(var He=ke;He<Re;++He)Be+=String.fromCharCode(127&nt[He]);return Be}function q(nt,ke,Re){var Be="";Re=Math.min(nt.length,Re);for(var He=ke;He<Re;++He)Be+=String.fromCharCode(nt[He]);return Be}function fe(nt,ke,Re){var Be=nt.length;(!ke||ke<0)&&(ke=0),(!Re||Re<0||Re>Be)&&(Re=Be);for(var He="",Ye=ke;Ye<Re;++Ye)He+=St[nt[Ye]];return He}function re(nt,ke,Re){for(var Be=nt.slice(ke,Re),He="",Ye=0;Ye<Be.length-1;Ye+=2)He+=String.fromCharCode(Be[Ye]+256*Be[Ye+1]);return He}function $(nt,ke,Re){if(nt%1!=0||nt<0)throw new RangeError("offset is not uint");if(nt+ke>Re)throw new RangeError("Trying to access beyond buffer length")}function le(nt,ke,Re,Be,He,Ye){if(!g.isBuffer(nt))throw new TypeError('"buffer" argument must be a Buffer instance');if(ke>He||ke<Ye)throw new RangeError('"value" argument is out of bounds');if(Re+Be>nt.length)throw new RangeError("Index out of range")}function se(nt,ke,Re,Be,He){Ie(ke,Be,He,nt,Re,7);var Ye=Number(ke&BigInt(4294967295));nt[Re++]=Ye,nt[Re++]=Ye>>=8,nt[Re++]=Ye>>=8,nt[Re++]=Ye>>=8;var Ue=Number(ke>>BigInt(32)&BigInt(4294967295));return nt[Re++]=Ue,nt[Re++]=Ue>>=8,nt[Re++]=Ue>>=8,nt[Re++]=Ue>>=8,Re}function de(nt,ke,Re,Be,He){Ie(ke,Be,He,nt,Re,7);var Ye=Number(ke&BigInt(4294967295));nt[Re+7]=Ye,nt[Re+6]=Ye>>=8,nt[Re+5]=Ye>>=8,nt[Re+4]=Ye>>=8;var Ue=Number(ke>>BigInt(32)&BigInt(4294967295));return nt[Re+3]=Ue,nt[Re+2]=Ue>>=8,nt[Re+1]=Ue>>=8,nt[Re]=Ue>>=8,Re+8}function we(nt,ke,Re,Be,He,Ye){if(Re+Be>nt.length)throw new RangeError("Index out of range");if(Re<0)throw new RangeError("Index out of range")}function Ee(nt,ke,Re,Be,He){return ke=+ke,Re>>>=0,He||we(nt,0,Re,4),b.write(nt,ke,Re,Be,23,4),Re+4}function Me(nt,ke,Re,Be,He){return ke=+ke,Re>>>=0,He||we(nt,0,Re,8),b.write(nt,ke,Re,Be,52,8),Re+8}g.prototype.slice=function(ke,Re){var Be=this.length;(ke=~~ke)<0?(ke+=Be)<0&&(ke=0):ke>Be&&(ke=Be),(Re=void 0===Re?Be:~~Re)<0?(Re+=Be)<0&&(Re=0):Re>Be&&(Re=Be),Re<ke&&(Re=ke);var He=this.subarray(ke,Re);return Object.setPrototypeOf(He,g.prototype),He},g.prototype.readUintLE=g.prototype.readUIntLE=function(ke,Re,Be){ke>>>=0,Re>>>=0,Be||$(ke,Re,this.length);for(var He=this[ke],Ye=1,Ue=0;++Ue<Re&&(Ye*=256);)He+=this[ke+Ue]*Ye;return He},g.prototype.readUintBE=g.prototype.readUIntBE=function(ke,Re,Be){ke>>>=0,Re>>>=0,Be||$(ke,Re,this.length);for(var He=this[ke+--Re],Ye=1;Re>0&&(Ye*=256);)He+=this[ke+--Re]*Ye;return He},g.prototype.readUint8=g.prototype.readUInt8=function(ke,Re){return ke>>>=0,Re||$(ke,1,this.length),this[ke]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(ke,Re){return ke>>>=0,Re||$(ke,2,this.length),this[ke]|this[ke+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(ke,Re){return ke>>>=0,Re||$(ke,2,this.length),this[ke]<<8|this[ke+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(ke,Re){return ke>>>=0,Re||$(ke,4,this.length),(this[ke]|this[ke+1]<<8|this[ke+2]<<16)+16777216*this[ke+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(ke,Re){return ke>>>=0,Re||$(ke,4,this.length),16777216*this[ke]+(this[ke+1]<<16|this[ke+2]<<8|this[ke+3])},g.prototype.readBigUInt64LE=Ct(function(ke){Je(ke>>>=0,"offset");var Re=this[ke],Be=this[ke+7];(void 0===Re||void 0===Be)&&Qe(ke,this.length-8);var He=Re+this[++ke]*Math.pow(2,8)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,24),Ye=this[++ke]+this[++ke]*Math.pow(2,8)+this[++ke]*Math.pow(2,16)+Be*Math.pow(2,24);return BigInt(He)+(BigInt(Ye)<<BigInt(32))}),g.prototype.readBigUInt64BE=Ct(function(ke){Je(ke>>>=0,"offset");var Re=this[ke],Be=this[ke+7];(void 0===Re||void 0===Be)&&Qe(ke,this.length-8);var He=Re*Math.pow(2,24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+this[++ke],Ye=this[++ke]*Math.pow(2,24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+Be;return(BigInt(He)<<BigInt(32))+BigInt(Ye)}),g.prototype.readIntLE=function(ke,Re,Be){ke>>>=0,Re>>>=0,Be||$(ke,Re,this.length);for(var He=this[ke],Ye=1,Ue=0;++Ue<Re&&(Ye*=256);)He+=this[ke+Ue]*Ye;return He>=(Ye*=128)&&(He-=Math.pow(2,8*Re)),He},g.prototype.readIntBE=function(ke,Re,Be){ke>>>=0,Re>>>=0,Be||$(ke,Re,this.length);for(var He=Re,Ye=1,Ue=this[ke+--He];He>0&&(Ye*=256);)Ue+=this[ke+--He]*Ye;return Ue>=(Ye*=128)&&(Ue-=Math.pow(2,8*Re)),Ue},g.prototype.readInt8=function(ke,Re){return ke>>>=0,Re||$(ke,1,this.length),128&this[ke]?-1*(255-this[ke]+1):this[ke]},g.prototype.readInt16LE=function(ke,Re){ke>>>=0,Re||$(ke,2,this.length);var Be=this[ke]|this[ke+1]<<8;return 32768&Be?4294901760|Be:Be},g.prototype.readInt16BE=function(ke,Re){ke>>>=0,Re||$(ke,2,this.length);var Be=this[ke+1]|this[ke]<<8;return 32768&Be?4294901760|Be:Be},g.prototype.readInt32LE=function(ke,Re){return ke>>>=0,Re||$(ke,4,this.length),this[ke]|this[ke+1]<<8|this[ke+2]<<16|this[ke+3]<<24},g.prototype.readInt32BE=function(ke,Re){return ke>>>=0,Re||$(ke,4,this.length),this[ke]<<24|this[ke+1]<<16|this[ke+2]<<8|this[ke+3]},g.prototype.readBigInt64LE=Ct(function(ke){Je(ke>>>=0,"offset");var Re=this[ke],Be=this[ke+7];(void 0===Re||void 0===Be)&&Qe(ke,this.length-8);var He=this[ke+4]+this[ke+5]*Math.pow(2,8)+this[ke+6]*Math.pow(2,16)+(Be<<24);return(BigInt(He)<<BigInt(32))+BigInt(Re+this[++ke]*Math.pow(2,8)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,24))}),g.prototype.readBigInt64BE=Ct(function(ke){Je(ke>>>=0,"offset");var Re=this[ke],Be=this[ke+7];(void 0===Re||void 0===Be)&&Qe(ke,this.length-8);var He=(Re<<24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+this[++ke];return(BigInt(He)<<BigInt(32))+BigInt(this[++ke]*Math.pow(2,24)+this[++ke]*Math.pow(2,16)+this[++ke]*Math.pow(2,8)+Be)}),g.prototype.readFloatLE=function(ke,Re){return ke>>>=0,Re||$(ke,4,this.length),b.read(this,ke,!0,23,4)},g.prototype.readFloatBE=function(ke,Re){return ke>>>=0,Re||$(ke,4,this.length),b.read(this,ke,!1,23,4)},g.prototype.readDoubleLE=function(ke,Re){return ke>>>=0,Re||$(ke,8,this.length),b.read(this,ke,!0,52,8)},g.prototype.readDoubleBE=function(ke,Re){return ke>>>=0,Re||$(ke,8,this.length),b.read(this,ke,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(ke,Re,Be,He){ke=+ke,Re>>>=0,Be>>>=0,He||le(this,ke,Re,Be,Math.pow(2,8*Be)-1,0);var Ue=1,De=0;for(this[Re]=255&ke;++De<Be&&(Ue*=256);)this[Re+De]=ke/Ue&255;return Re+Be},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(ke,Re,Be,He){ke=+ke,Re>>>=0,Be>>>=0,He||le(this,ke,Re,Be,Math.pow(2,8*Be)-1,0);var Ue=Be-1,De=1;for(this[Re+Ue]=255&ke;--Ue>=0&&(De*=256);)this[Re+Ue]=ke/De&255;return Re+Be},g.prototype.writeUint8=g.prototype.writeUInt8=function(ke,Re,Be){return ke=+ke,Re>>>=0,Be||le(this,ke,Re,1,255,0),this[Re]=255&ke,Re+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(ke,Re,Be){return ke=+ke,Re>>>=0,Be||le(this,ke,Re,2,65535,0),this[Re]=255&ke,this[Re+1]=ke>>>8,Re+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(ke,Re,Be){return ke=+ke,Re>>>=0,Be||le(this,ke,Re,2,65535,0),this[Re]=ke>>>8,this[Re+1]=255&ke,Re+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(ke,Re,Be){return ke=+ke,Re>>>=0,Be||le(this,ke,Re,4,4294967295,0),this[Re+3]=ke>>>24,this[Re+2]=ke>>>16,this[Re+1]=ke>>>8,this[Re]=255&ke,Re+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(ke,Re,Be){return ke=+ke,Re>>>=0,Be||le(this,ke,Re,4,4294967295,0),this[Re]=ke>>>24,this[Re+1]=ke>>>16,this[Re+2]=ke>>>8,this[Re+3]=255&ke,Re+4},g.prototype.writeBigUInt64LE=Ct(function(ke){return se(this,ke,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=Ct(function(ke){return de(this,ke,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(ke,Re,Be,He){if(ke=+ke,Re>>>=0,!He){var Ye=Math.pow(2,8*Be-1);le(this,ke,Re,Be,Ye-1,-Ye)}var Ue=0,De=1,ge=0;for(this[Re]=255&ke;++Ue<Be&&(De*=256);)ke<0&&0===ge&&0!==this[Re+Ue-1]&&(ge=1),this[Re+Ue]=(ke/De>>0)-ge&255;return Re+Be},g.prototype.writeIntBE=function(ke,Re,Be,He){if(ke=+ke,Re>>>=0,!He){var Ye=Math.pow(2,8*Be-1);le(this,ke,Re,Be,Ye-1,-Ye)}var Ue=Be-1,De=1,ge=0;for(this[Re+Ue]=255&ke;--Ue>=0&&(De*=256);)ke<0&&0===ge&&0!==this[Re+Ue+1]&&(ge=1),this[Re+Ue]=(ke/De>>0)-ge&255;return Re+Be},g.prototype.writeInt8=function(ke,Re,Be){return ke=+ke,Re>>>=0,Be||le(this,ke,Re,1,127,-128),ke<0&&(ke=255+ke+1),this[Re]=255&ke,Re+1},g.prototype.writeInt16LE=function(ke,Re,Be){return ke=+ke,Re>>>=0,Be||le(this,ke,Re,2,32767,-32768),this[Re]=255&ke,this[Re+1]=ke>>>8,Re+2},g.prototype.writeInt16BE=function(ke,Re,Be){return ke=+ke,Re>>>=0,Be||le(this,ke,Re,2,32767,-32768),this[Re]=ke>>>8,this[Re+1]=255&ke,Re+2},g.prototype.writeInt32LE=function(ke,Re,Be){return ke=+ke,Re>>>=0,Be||le(this,ke,Re,4,2147483647,-2147483648),this[Re]=255&ke,this[Re+1]=ke>>>8,this[Re+2]=ke>>>16,this[Re+3]=ke>>>24,Re+4},g.prototype.writeInt32BE=function(ke,Re,Be){return ke=+ke,Re>>>=0,Be||le(this,ke,Re,4,2147483647,-2147483648),ke<0&&(ke=4294967295+ke+1),this[Re]=ke>>>24,this[Re+1]=ke>>>16,this[Re+2]=ke>>>8,this[Re+3]=255&ke,Re+4},g.prototype.writeBigInt64LE=Ct(function(ke){return se(this,ke,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=Ct(function(ke){return de(this,ke,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeFloatLE=function(ke,Re,Be){return Ee(this,ke,Re,!0,Be)},g.prototype.writeFloatBE=function(ke,Re,Be){return Ee(this,ke,Re,!1,Be)},g.prototype.writeDoubleLE=function(ke,Re,Be){return Me(this,ke,Re,!0,Be)},g.prototype.writeDoubleBE=function(ke,Re,Be){return Me(this,ke,Re,!1,Be)},g.prototype.copy=function(ke,Re,Be,He){if(!g.isBuffer(ke))throw new TypeError("argument should be a Buffer");if(Be||(Be=0),!He&&0!==He&&(He=this.length),Re>=ke.length&&(Re=ke.length),Re||(Re=0),He>0&&He<Be&&(He=Be),He===Be||0===ke.length||0===this.length)return 0;if(Re<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("Index out of range");if(He<0)throw new RangeError("sourceEnd out of bounds");He>this.length&&(He=this.length),ke.length-Re<He-Be&&(He=ke.length-Re+Be);var Ye=He-Be;return this===ke&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Re,Be,He):Uint8Array.prototype.set.call(ke,this.subarray(Be,He),Re),Ye},g.prototype.fill=function(ke,Re,Be,He){if("string"==typeof ke){if("string"==typeof Re?(He=Re,Re=0,Be=this.length):"string"==typeof Be&&(He=Be,Be=this.length),void 0!==He&&"string"!=typeof He)throw new TypeError("encoding must be a string");if("string"==typeof He&&!g.isEncoding(He))throw new TypeError("Unknown encoding: "+He);if(1===ke.length){var Ye=ke.charCodeAt(0);("utf8"===He&&Ye<128||"latin1"===He)&&(ke=Ye)}}else"number"==typeof ke?ke&=255:"boolean"==typeof ke&&(ke=Number(ke));if(Re<0||this.length<Re||this.length<Be)throw new RangeError("Out of range index");if(Be<=Re)return this;var Ue;if(Re>>>=0,Be=void 0===Be?this.length:Be>>>0,ke||(ke=0),"number"==typeof ke)for(Ue=Re;Ue<Be;++Ue)this[Ue]=ke;else{var De=g.isBuffer(ke)?ke:g.from(ke,He),ge=De.length;if(0===ge)throw new TypeError('The value "'+ke+'" is invalid for argument "value"');for(Ue=0;Ue<Be-Re;++Ue)this[Ue+Re]=De[Ue%ge]}return this};var Ne={};function Ve(nt,ke,Re){Ne[nt]=function(Be){!function v(nt,ke){if("function"!=typeof ke&&null!==ke)throw new TypeError("Super expression must either be null or a function");nt.prototype=Object.create(ke&&ke.prototype,{constructor:{value:nt,writable:!0,configurable:!0}}),Object.defineProperty(nt,"prototype",{writable:!1}),ke&&w(nt,ke)}(Ye,Be);var He=r(Ye);function Ye(){var Ue;return function S(nt,ke){if(!(nt instanceof ke))throw new TypeError("Cannot call a class as a function")}(this,Ye),Ue=He.call(this),Object.defineProperty(c(Ue),"message",{value:ke.apply(c(Ue),arguments),writable:!0,configurable:!0}),Ue.name="".concat(Ue.name," [").concat(nt,"]"),delete Ue.name,Ue}return function l(nt,ke,Re){return ke&&k(nt.prototype,ke),Re&&k(nt,Re),Object.defineProperty(nt,"prototype",{writable:!1}),nt}(Ye,[{key:"code",get:function(){return nt},set:function(De){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:De,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(nt,"]: ").concat(this.message)}}]),Ye}(Re)}function Pe(nt){for(var ke="",Re=nt.length,Be="-"===nt[0]?1:0;Re>=Be+4;Re-=3)ke="_".concat(nt.slice(Re-3,Re)).concat(ke);return"".concat(nt.slice(0,Re)).concat(ke)}function Ie(nt,ke,Re,Be,He,Ye){if(nt>Re||nt<ke){var De,Ue="bigint"==typeof ke?"n":"";throw De=Ye>3?0===ke||ke===BigInt(0)?">= 0".concat(Ue," and < 2").concat(Ue," ** ").concat(8*(Ye+1)).concat(Ue):">= -(2".concat(Ue," ** ").concat(8*(Ye+1)-1).concat(Ue,") and < 2 ** ")+"".concat(8*(Ye+1)-1).concat(Ue):">= ".concat(ke).concat(Ue," and <= ").concat(Re).concat(Ue),new Ne.ERR_OUT_OF_RANGE("value",De,nt)}!function Ce(nt,ke,Re){Je(ke,"offset"),(void 0===nt[ke]||void 0===nt[ke+Re])&&Qe(ke,nt.length-(Re+1))}(Be,He,Ye)}function Je(nt,ke){if("number"!=typeof nt)throw new Ne.ERR_INVALID_ARG_TYPE(ke,"number",nt)}function Qe(nt,ke,Re){throw Math.floor(nt)!==nt?(Je(nt,Re),new Ne.ERR_OUT_OF_RANGE(Re||"offset","an integer",nt)):ke<0?new Ne.ERR_BUFFER_OUT_OF_BOUNDS:new Ne.ERR_OUT_OF_RANGE(Re||"offset",">= ".concat(Re?1:0," and <= ").concat(ke),nt)}Ve("ERR_BUFFER_OUT_OF_BOUNDS",function(nt){return nt?"".concat(nt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ve("ERR_INVALID_ARG_TYPE",function(nt,ke){return'The "'.concat(nt,'" argument must be of type number. Received type ').concat(h(ke))},TypeError),Ve("ERR_OUT_OF_RANGE",function(nt,ke,Re){var Be='The value of "'.concat(nt,'" is out of range.'),He=Re;return Number.isInteger(Re)&&Math.abs(Re)>Math.pow(2,32)?He=Pe(String(Re)):"bigint"==typeof Re&&(He=String(Re),(Re>Math.pow(BigInt(2),BigInt(32))||Re<-Math.pow(BigInt(2),BigInt(32)))&&(He=Pe(He)),He+="n"),Be+" It must be ".concat(ke,". Received ").concat(He)},RangeError);var ze=/[^+/0-9A-Za-z-_]/g;function ut(nt,ke){ke=ke||1/0;for(var Re,Be=nt.length,He=null,Ye=[],Ue=0;Ue<Be;++Ue){if((Re=nt.charCodeAt(Ue))>55295&&Re<57344){if(!He){if(Re>56319){(ke-=3)>-1&&Ye.push(239,191,189);continue}if(Ue+1===Be){(ke-=3)>-1&&Ye.push(239,191,189);continue}He=Re;continue}if(Re<56320){(ke-=3)>-1&&Ye.push(239,191,189),He=Re;continue}Re=65536+(He-55296<<10|Re-56320)}else He&&(ke-=3)>-1&&Ye.push(239,191,189);if(He=null,Re<128){if((ke-=1)<0)break;Ye.push(Re)}else if(Re<2048){if((ke-=2)<0)break;Ye.push(Re>>6|192,63&Re|128)}else if(Re<65536){if((ke-=3)<0)break;Ye.push(Re>>12|224,Re>>6&63|128,63&Re|128)}else{if(!(Re<1114112))throw new Error("Invalid code point");if((ke-=4)<0)break;Ye.push(Re>>18|240,Re>>12&63|128,Re>>6&63|128,63&Re|128)}}return Ye}function je(nt){return d.toByteArray(function Ke(nt){if((nt=(nt=nt.split("=")[0]).trim().replace(ze,"")).length<2)return"";for(;nt.length%4!=0;)nt+="=";return nt}(nt))}function lt(nt,ke,Re,Be){var He;for(He=0;He<Be&&!(He+Re>=ke.length||He>=nt.length);++He)ke[He+Re]=nt[He];return He}function vt(nt,ke){return nt instanceof ke||null!=nt&&null!=nt.constructor&&null!=nt.constructor.name&&nt.constructor.name===ke.name}function pt(nt){return nt!=nt}var St=function(){for(var nt="0123456789abcdef",ke=new Array(256),Re=0;Re<16;++Re)for(var Be=16*Re,He=0;He<16;++He)ke[Be+He]=nt[Re]+nt[He];return ke}();function Ct(nt){return typeof BigInt>"u"?_t:nt}function _t(){throw new Error("BigInt not supported")}},35791:function(oe){"use strict";oe.exports=k,oe.exports.isMobile=k,oe.exports.default=k;var J=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,S=/android|ipad|playbook|silk/i;function k(l){l||(l={});var R=l.ua;if(!R&&typeof navigator<"u"&&(R=navigator.userAgent),R&&R.headers&&"string"==typeof R.headers["user-agent"]&&(R=R.headers["user-agent"]),"string"!=typeof R)return!1;var I=J.test(R)&&!t.test(R)||!!l.tablet&&S.test(R);return!I&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==R.indexOf("Macintosh")&&-1!==R.indexOf("Safari")&&(I=!0),I}},86781:function(oe,J,t){"use strict";t.r(J),t.d(J,{sankeyCenter:function(){return c},sankeyCircular:function(){return D},sankeyJustify:function(){return n},sankeyLeft:function(){return w},sankeyRight:function(){return r}});var S=t(33064),k=t(15140),l=t(45879),R=t(2502),I=t.n(R);function v(Me){return Me.target.depth}function w(Me){return Me.depth}function r(Me,Ne){return Ne-1-Me.height}function n(Me,Ne){return Me.sourceLinks.length?Me.depth:Ne-1}function c(Me){return Me.targetLinks.length?Me.depth:Me.sourceLinks.length?(0,S.VV)(Me.sourceLinks,v)-1:0}function o(Me){return function(){return Me}}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Me){return typeof Me}:function(Me){return Me&&"function"==typeof Symbol&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me};function h(Me,Ne){return b(Me.source,Ne.source)||Me.index-Ne.index}function d(Me,Ne){return b(Me.target,Ne.target)||Me.index-Ne.index}function b(Me,Ne){return Me.partOfCycle===Ne.partOfCycle?Me.y0-Ne.y0:"top"===Me.circularLinkType||"bottom"===Ne.circularLinkType?-1:1}function p(Me){return Me.value}function A(Me){return(Me.y0+Me.y1)/2}function m(Me){return A(Me.source)}function u(Me){return A(Me.target)}function g(Me){return Me.index}function C(Me){return Me.nodes}function T(Me){return Me.links}function L(Me,Ne){var Ve=Me.get(Ne);if(!Ve)throw new Error("missing: "+Ne);return Ve}function x(Me,Ne){return Ne(Me)}var E=25,M=10,i=.3;function D(){var Ie,We,Me=0,Ne=0,Ve=1,Pe=1,Ce=24,Je=g,Qe=n,ze=C,Ke=T,ut=32,ot=2,je=null;function lt(){var Re={nodes:ze.apply(null,arguments),links:Ke.apply(null,arguments)};(function vt(Re){Re.nodes.forEach(function(He,Ye){He.index=Ye,He.sourceLinks=[],He.targetLinks=[]});var Be=(0,k.UI)(Re.nodes,Je);return Re.links.forEach(function(He,Ye){He.index=Ye;var Ue=He.source,De=He.target;"object"!==(typeof Ue>"u"?"undefined":f(Ue))&&(Ue=He.source=L(Be,Ue)),"object"!==(typeof De>"u"?"undefined":f(De))&&(De=He.target=L(Be,De)),Ue.sourceLinks.push(He),De.targetLinks.push(He)}),Re})(Re),function y(Me,Ne,Ve){var Pe=0;if(null===Ve){for(var Ce=[],Ie=0;Ie<Me.links.length;Ie++){var Je=Me.links[Ie],Qe=Je.source.index,ze=Je.target.index;Ce[Qe]||(Ce[Qe]=[]),Ce[ze]||(Ce[ze]=[]),-1===Ce[Qe].indexOf(ze)&&Ce[Qe].push(ze)}var Ke=I()(Ce);Ke.sort(function(je,lt){return je.length-lt.length});var ut={};for(Ie=0;Ie<Ke.length;Ie++){var We=Ke[Ie].slice(-2);ut[We[0]]||(ut[We[0]]={}),ut[We[0]][We[1]]=!0}Me.links.forEach(function(je){var lt=je.target.index,vt=je.source.index;lt===vt||ut[vt]&&ut[vt][lt]?(je.circular=!0,je.circularLinkID=Pe,Pe+=1):je.circular=!1})}else Me.links.forEach(function(je){je.source[Ve]<je.target[Ve]?je.circular=!1:(je.circular=!0,je.circularLinkID=Pe,Pe+=1)})}(Re,0,je),function pt(Re){Re.nodes.forEach(function(Be){Be.partOfCycle=!1,Be.value=Math.max((0,S.Sm)(Be.sourceLinks,p),(0,S.Sm)(Be.targetLinks,p)),Be.sourceLinks.forEach(function(He){He.circular&&(Be.partOfCycle=!0,Be.circularLinkType=He.circularLinkType)}),Be.targetLinks.forEach(function(He){He.circular&&(Be.partOfCycle=!0,Be.circularLinkType=He.circularLinkType)})})}(Re),function _t(Re){var Be,He,Ye;for(Be=Re.nodes,He=[],Ye=0;Be.length;++Ye,Be=He,He=[])Be.forEach(function(Ue){Ue.depth=Ye,Ue.sourceLinks.forEach(function(De){He.indexOf(De.target)<0&&!De.circular&&He.push(De.target)})});for(Be=Re.nodes,He=[],Ye=0;Be.length;++Ye,Be=He,He=[])Be.forEach(function(Ue){Ue.height=Ye,Ue.targetLinks.forEach(function(De){He.indexOf(De.source)<0&&!De.circular&&He.push(De.source)})});Re.nodes.forEach(function(Ue){Ue.column=Math.floor(Qe.call(null,Ue,Ye))})}(Re),B(Re,Je),function nt(Re,Be,He){var Ye=(0,k.b1)().key(function(et){return et.column}).sortKeys(S.j2).entries(Re.nodes).map(function(et){return et.values});ge(He),_e();for(var Ue=1,De=Be;De>0;--De)Te(Ue*=.99,He),_e();function ge(et){if(We){var ft=1/0;Ye.forEach(function(Lt){var Ut=Pe*We/(Lt.length+1);ft=Ut<ft?Ut:ft}),Ie=ft}var gt=(0,S.VV)(Ye,function(Lt){return(Pe-Ne-(Lt.length-1)*Ie)/(0,S.Sm)(Lt,p)});gt*=i,Re.links.forEach(function(Lt){Lt.width=Lt.value*gt});var Kt=function St(Re){var Be=0,He=0,Ye=0,Ue=0,De=(0,S.Fp)(Re.nodes,function(ge){return ge.column});return Re.links.forEach(function(ge){ge.circular&&("top"==ge.circularLinkType?Be+=ge.width:He+=ge.width,0==ge.target.column&&(Ue+=ge.width),ge.source.column==De&&(Ye+=ge.width))}),{top:Be=Be>0?Be+E+M:Be,bottom:He=He>0?He+E+M:He,left:Ue=Ue>0?Ue+E+M:Ue,right:Ye=Ye>0?Ye+E+M:Ye}}(Re),ir=function Ct(Re,Be){var He=(0,S.Fp)(Re.nodes,function(et){return et.column}),Ye=Ve-Me,Ue=Pe-Ne,Te=Ye/(Ye+Be.right+Be.left),_e=Ue/(Ue+Be.top+Be.bottom);return Me=Me*Te+Be.left,Ve=0==Be.right?Ve:Ve*Te,Ne=Ne*_e+Be.top,Pe*=_e,Re.nodes.forEach(function(et){et.x0=Me+et.column*((Ve-Me-Ce)/He),et.x1=et.x0+Ce}),_e}(Re,Kt);gt*=ir,Re.links.forEach(function(Lt){Lt.width=Lt.value*gt}),Ye.forEach(function(Lt){var Ut=Lt.length;Lt.forEach(function(Qt,Cr){Qt.depth==Ye.length-1&&1==Ut||0==Qt.depth&&1==Ut?(Qt.y0=Pe/2-Qt.value*gt,Qt.y1=Qt.y0+Qt.value*gt):Qt.partOfCycle?0==z(Qt,et)?(Qt.y0=Pe/2+Cr,Qt.y1=Qt.y0+Qt.value*gt):"top"==Qt.circularLinkType?(Qt.y0=Ne+Cr,Qt.y1=Qt.y0+Qt.value*gt):(Qt.y0=Pe-Qt.value*gt-Cr,Qt.y1=Qt.y0+Qt.value*gt):0==Kt.top||0==Kt.bottom?(Qt.y0=(Pe-Ne)/Ut*Cr,Qt.y1=Qt.y0+Qt.value*gt):(Qt.y0=(Pe-Ne)/2-Ut/2+Cr,Qt.y1=Qt.y0+Qt.value*gt)})})}function Te(et,ft){var gt=Ye.length;Ye.forEach(function(Kt){var ir=Kt.length,Lt=Kt[0].depth;Kt.forEach(function(Ut){var Qt;if((Ut.sourceLinks.length||Ut.targetLinks.length)&&!(Ut.partOfCycle&&z(Ut,ft)>0))if(0==Lt&&1==ir)Ut.y0=Pe/2-(Qt=Ut.y1-Ut.y0)/2,Ut.y1=Pe/2+Qt/2;else if(Lt==gt-1&&1==ir)Ut.y0=Pe/2-(Qt=Ut.y1-Ut.y0)/2,Ut.y1=Pe/2+Qt/2;else{var wt=(0,S.J6)(Ut.sourceLinks,u),$t=(0,S.J6)(Ut.targetLinks,m),rr=((wt&&$t?(wt+$t)/2:wt||$t)-A(Ut))*et;Ut.y0+=rr,Ut.y1+=rr}})})}function _e(){Ye.forEach(function(et){var ft,gt,Lt,Kt=Ne,ir=et.length;for(et.sort(b),Lt=0;Lt<ir;++Lt)(gt=Kt-(ft=et[Lt]).y0)>0&&(ft.y0+=gt,ft.y1+=gt),Kt=ft.y1+Ie;if((gt=Kt-Ie-Pe)>0)for(Kt=ft.y0-=gt,ft.y1-=gt,Lt=ir-2;Lt>=0;--Lt)(gt=(ft=et[Lt]).y1+Ie-Kt)>0&&(ft.y0-=gt,ft.y1-=gt),Kt=ft.y0})}}(Re,ut,Je),ke(Re);for(var He=0;He<4;He++)$(Re,Pe,Je),le(Re,0,Je),q(Re,Ne,Pe,Je),$(Re,Pe,Je),le(Re,0,Je);return function Ee(Me,Ne,Ve){var Pe=Me.nodes,Ce=Me.links,Ie=!1,Je=!1;if(Ce.forEach(function(We){"top"==We.circularLinkType?Ie=!0:"bottom"==We.circularLinkType&&(Je=!0)}),0==Ie||0==Je){var Qe=(0,S.VV)(Pe,function(We){return We.y0}),ot=(Ve-Ne)/((0,S.Fp)(Pe,function(We){return We.y1})-Qe);Pe.forEach(function(We){var je=(We.y1-We.y0)*ot;We.y0=(We.y0-Qe)*ot,We.y1=We.y0+je}),Ce.forEach(function(We){We.y0=(We.y0-Qe)*ot,We.y1=(We.y1-Qe)*ot,We.width=We.width*ot})}}(Re,Ne,Pe),U(Re,ot,Pe,Je),Re}function ke(Re){Re.nodes.forEach(function(Be){Be.sourceLinks.sort(d),Be.targetLinks.sort(h)}),Re.nodes.forEach(function(Be){var He=Be.y0,Ye=He,Ue=Be.y1,De=Ue;Be.sourceLinks.forEach(function(ge){ge.circular?(ge.y0=Ue-ge.width/2,Ue-=ge.width):(ge.y0=He+ge.width/2,He+=ge.width)}),Be.targetLinks.forEach(function(ge){ge.circular?(ge.y1=De-ge.width/2,De-=ge.width):(ge.y1=Ye+ge.width/2,Ye+=ge.width)})})}return lt.nodeId=function(Re){return arguments.length?(Je="function"==typeof Re?Re:o(Re),lt):Je},lt.nodeAlign=function(Re){return arguments.length?(Qe="function"==typeof Re?Re:o(Re),lt):Qe},lt.nodeWidth=function(Re){return arguments.length?(Ce=+Re,lt):Ce},lt.nodePadding=function(Re){return arguments.length?(Ie=+Re,lt):Ie},lt.nodes=function(Re){return arguments.length?(ze="function"==typeof Re?Re:o(Re),lt):ze},lt.links=function(Re){return arguments.length?(Ke="function"==typeof Re?Re:o(Re),lt):Ke},lt.size=function(Re){return arguments.length?(Me=Ne=0,Ve=+Re[0],Pe=+Re[1],lt):[Ve-Me,Pe-Ne]},lt.extent=function(Re){return arguments.length?(Me=+Re[0][0],Ve=+Re[1][0],Ne=+Re[0][1],Pe=+Re[1][1],lt):[[Me,Ne],[Ve,Pe]]},lt.iterations=function(Re){return arguments.length?(ut=+Re,lt):ut},lt.circularLinkGap=function(Re){return arguments.length?(ot=+Re,lt):ot},lt.nodePaddingRatio=function(Re){return arguments.length?(We=+Re,lt):We},lt.sortNodes=function(Re){return arguments.length?(je=Re,lt):je},lt.update=function(Re){return B(Re,Je),ke(Re),Re.links.forEach(function(Be){Be.circular&&(Be.circularLinkType=Be.y0+Be.y1<Pe?"top":"bottom",Be.source.circularLinkType=Be.circularLinkType,Be.target.circularLinkType=Be.circularLinkType)}),$(Re,Pe,Je,!1),le(Re,0,Je),U(Re,ot,Pe,Je),Re},lt}function B(Me,Ne){var Ve=0,Pe=0;Me.links.forEach(function(Ce){Ce.circular&&(Ce.circularLinkType=Ce.source.circularLinkType||Ce.target.circularLinkType?Ce.source.circularLinkType?Ce.source.circularLinkType:Ce.target.circularLinkType:Ve<Pe?"top":"bottom","top"==Ce.circularLinkType?Ve+=1:Pe+=1,Me.nodes.forEach(function(Ie){(x(Ie,Ne)==x(Ce.source,Ne)||x(Ie,Ne)==x(Ce.target,Ne))&&(Ie.circularLinkType=Ce.circularLinkType)}))}),Me.links.forEach(function(Ce){Ce.circular&&(Ce.source.circularLinkType==Ce.target.circularLinkType&&(Ce.circularLinkType=Ce.source.circularLinkType),we(Ce,Ne)&&(Ce.circularLinkType=Ce.source.circularLinkType))})}function F(Me){var Ne=Math.abs(Me.y1-Me.y0),Ve=Math.abs(Me.target.x0-Me.source.x1);return Math.atan(Ve/Ne)}function _(Me,Ne){return!(Me.source.column<Ne.target.column||Me.target.column>Ne.source.column)}function z(Me,Ne){var Ve=0;Me.sourceLinks.forEach(function(Ce){Ve=Ce.circular&&!we(Ce,Ne)?Ve+1:Ve});var Pe=0;return Me.targetLinks.forEach(function(Ce){Pe=Ce.circular&&!we(Ce,Ne)?Pe+1:Pe}),Ve+Pe}function V(Me){var Ve=0;Me.source.sourceLinks.forEach(function(Ie){Ve=Ie.circular?Ve+1:Ve});var Ce=0;return Me.target.targetLinks.forEach(function(Ie){Ce=Ie.circular?Ce+1:Ce}),!(Ve>1||Ce>1)}function H(Me,Ne,Ve){return Me.sort(Y),Me.forEach(function(Pe,Ce){var Ie=0;if(we(Pe,Ve)&&V(Pe))Pe.circularPathData.verticalBuffer=Ie+Pe.width/2;else{for(var Je=0;Je<Ce;Je++)if(_(Me[Ce],Me[Je])){var Qe=Me[Je].circularPathData.verticalBuffer+Me[Je].width/2+Ne;Ie=Qe>Ie?Qe:Ie}Pe.circularPathData.verticalBuffer=Ie+Pe.width/2}}),Me}function U(Me,Ne,Ve,Pe){var Ie=(0,S.VV)(Me.links,function(ze){return ze.source.y0});Me.links.forEach(function(ze){ze.circular&&(ze.circularPathData={})}),H(Me.links.filter(function(ze){return"top"==ze.circularLinkType}),Ne,Pe),H(Me.links.filter(function(ze){return"bottom"==ze.circularLinkType}),Ne,Pe),Me.links.forEach(function(ze){if(ze.circular){if(ze.circularPathData.arcRadius=ze.width+M,ze.circularPathData.leftNodeBuffer=5,ze.circularPathData.rightNodeBuffer=5,ze.circularPathData.sourceWidth=ze.source.x1-ze.source.x0,ze.circularPathData.sourceX=ze.source.x0+ze.circularPathData.sourceWidth,ze.circularPathData.targetX=ze.target.x0,ze.circularPathData.sourceY=ze.y0,ze.circularPathData.targetY=ze.y1,we(ze,Pe)&&V(ze))ze.circularPathData.leftSmallArcRadius=M+ze.width/2,ze.circularPathData.leftLargeArcRadius=M+ze.width/2,ze.circularPathData.rightSmallArcRadius=M+ze.width/2,ze.circularPathData.rightLargeArcRadius=M+ze.width/2,"bottom"==ze.circularLinkType?(ze.circularPathData.verticalFullExtent=ze.source.y1+E+ze.circularPathData.verticalBuffer,ze.circularPathData.verticalLeftInnerExtent=ze.circularPathData.verticalFullExtent-ze.circularPathData.leftLargeArcRadius,ze.circularPathData.verticalRightInnerExtent=ze.circularPathData.verticalFullExtent-ze.circularPathData.rightLargeArcRadius):(ze.circularPathData.verticalFullExtent=ze.source.y0-E-ze.circularPathData.verticalBuffer,ze.circularPathData.verticalLeftInnerExtent=ze.circularPathData.verticalFullExtent+ze.circularPathData.leftLargeArcRadius,ze.circularPathData.verticalRightInnerExtent=ze.circularPathData.verticalFullExtent+ze.circularPathData.rightLargeArcRadius);else{var Ke=ze.source.column,ut=ze.circularLinkType,ot=Me.links.filter(function(lt){return lt.source.column==Ke&&lt.circularLinkType==ut});ot.sort("bottom"==ze.circularLinkType?ue:ee);var We=0;ot.forEach(function(lt,vt){lt.circularLinkID==ze.circularLinkID&&(ze.circularPathData.leftSmallArcRadius=M+ze.width/2+We,ze.circularPathData.leftLargeArcRadius=M+ze.width/2+vt*Ne+We),We+=lt.width}),Ke=ze.target.column,(ot=Me.links.filter(function(lt){return lt.target.column==Ke&&lt.circularLinkType==ut})).sort("bottom"==ze.circularLinkType?pe:ce),We=0,ot.forEach(function(lt,vt){lt.circularLinkID==ze.circularLinkID&&(ze.circularPathData.rightSmallArcRadius=M+ze.width/2+We,ze.circularPathData.rightLargeArcRadius=M+ze.width/2+vt*Ne+We),We+=lt.width}),"bottom"==ze.circularLinkType?(ze.circularPathData.verticalFullExtent=Math.max(Ve,ze.source.y1,ze.target.y1)+E+ze.circularPathData.verticalBuffer,ze.circularPathData.verticalLeftInnerExtent=ze.circularPathData.verticalFullExtent-ze.circularPathData.leftLargeArcRadius,ze.circularPathData.verticalRightInnerExtent=ze.circularPathData.verticalFullExtent-ze.circularPathData.rightLargeArcRadius):(ze.circularPathData.verticalFullExtent=Ie-E-ze.circularPathData.verticalBuffer,ze.circularPathData.verticalLeftInnerExtent=ze.circularPathData.verticalFullExtent+ze.circularPathData.leftLargeArcRadius,ze.circularPathData.verticalRightInnerExtent=ze.circularPathData.verticalFullExtent+ze.circularPathData.rightLargeArcRadius)}ze.circularPathData.leftInnerExtent=ze.circularPathData.sourceX+ze.circularPathData.leftNodeBuffer,ze.circularPathData.rightInnerExtent=ze.circularPathData.targetX-ze.circularPathData.rightNodeBuffer,ze.circularPathData.leftFullExtent=ze.circularPathData.sourceX+ze.circularPathData.leftLargeArcRadius+ze.circularPathData.leftNodeBuffer,ze.circularPathData.rightFullExtent=ze.circularPathData.targetX-ze.circularPathData.rightLargeArcRadius-ze.circularPathData.rightNodeBuffer}if(ze.circular)ze.path=function G(Me){return"top"==Me.circularLinkType?"M"+Me.circularPathData.sourceX+" "+Me.circularPathData.sourceY+" L"+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.sourceY+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftSmallArcRadius+" 0 0 0 "+Me.circularPathData.leftFullExtent+" "+(Me.circularPathData.sourceY-Me.circularPathData.leftSmallArcRadius)+" L"+Me.circularPathData.leftFullExtent+" "+Me.circularPathData.verticalLeftInnerExtent+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftLargeArcRadius+" 0 0 0 "+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.verticalFullExtent+" L"+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.verticalFullExtent+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightLargeArcRadius+" 0 0 0 "+Me.circularPathData.rightFullExtent+" "+Me.circularPathData.verticalRightInnerExtent+" L"+Me.circularPathData.rightFullExtent+" "+(Me.circularPathData.targetY-Me.circularPathData.rightSmallArcRadius)+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightSmallArcRadius+" 0 0 0 "+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.targetY+" L"+Me.circularPathData.targetX+" "+Me.circularPathData.targetY:"M"+Me.circularPathData.sourceX+" "+Me.circularPathData.sourceY+" L"+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.sourceY+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftSmallArcRadius+" 0 0 1 "+Me.circularPathData.leftFullExtent+" "+(Me.circularPathData.sourceY+Me.circularPathData.leftSmallArcRadius)+" L"+Me.circularPathData.leftFullExtent+" "+Me.circularPathData.verticalLeftInnerExtent+" A"+Me.circularPathData.leftLargeArcRadius+" "+Me.circularPathData.leftLargeArcRadius+" 0 0 1 "+Me.circularPathData.leftInnerExtent+" "+Me.circularPathData.verticalFullExtent+" L"+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.verticalFullExtent+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightLargeArcRadius+" 0 0 1 "+Me.circularPathData.rightFullExtent+" "+Me.circularPathData.verticalRightInnerExtent+" L"+Me.circularPathData.rightFullExtent+" "+(Me.circularPathData.targetY+Me.circularPathData.rightSmallArcRadius)+" A"+Me.circularPathData.rightLargeArcRadius+" "+Me.circularPathData.rightSmallArcRadius+" 0 0 1 "+Me.circularPathData.rightInnerExtent+" "+Me.circularPathData.targetY+" L"+Me.circularPathData.targetX+" "+Me.circularPathData.targetY}(ze);else{var je=(0,l.h5)().source(function(lt){return[lt.source.x0+(lt.source.x1-lt.source.x0),lt.y0]}).target(function(lt){return[lt.target.x0,lt.y1]});ze.path=je(ze)}})}function Y(Me,Ne){return te(Me)==te(Ne)?"bottom"==Me.circularLinkType?ue(Me,Ne):ee(Me,Ne):te(Ne)-te(Me)}function ee(Me,Ne){return Me.y0-Ne.y0}function ue(Me,Ne){return Ne.y0-Me.y0}function ce(Me,Ne){return Me.y1-Ne.y1}function pe(Me,Ne){return Ne.y1-Me.y1}function te(Me){return Me.target.column-Me.source.column}function Q(Me){return Me.target.x0-Me.source.x1}function K(Me,Ne){var Ve=F(Me),Pe=Q(Ne)/Math.tan(Ve);return"up"==de(Me)?Me.y1+Pe:Me.y1-Pe}function Z(Me,Ne){var Ve=F(Me),Pe=Q(Ne)/Math.tan(Ve);return"up"==de(Me)?Me.y1-Pe:Me.y1+Pe}function q(Me,Ne,Ve,Pe){Me.links.forEach(function(Ce){if(!Ce.circular&&Ce.target.column-Ce.source.column>1){var Ie=Ce.source.column+1,Je=Ce.target.column-1,Qe=1,ze=Je-Ie+1;for(Qe=1;Ie<=Je;Ie++,Qe++)Me.nodes.forEach(function(Ke){if(Ke.column==Ie){var Ct,ut=Qe/(ze+1),ot=Math.pow(1-ut,3),We=3*ut*Math.pow(1-ut,2),je=3*Math.pow(ut,2)*(1-ut),lt=Math.pow(ut,3),vt=ot*Ce.y0+We*Ce.y0+je*Ce.y1+lt*Ce.y1,pt=vt-Ce.width/2,St=vt+Ce.width/2;pt>Ke.y0&&pt<Ke.y1?(Ct=Ke.y1-pt+10,Ke=re(Ke,Ct="bottom"==Ke.circularLinkType?Ct:-Ct,Ne,Ve),Me.nodes.forEach(function(_t){x(_t,Pe)==x(Ke,Pe)||_t.column!=Ke.column||fe(Ke,_t)&&re(_t,Ct,Ne,Ve)})):(St>Ke.y0&&St<Ke.y1||pt<Ke.y0&&St>Ke.y1)&&(Ke=re(Ke,Ct=St-Ke.y0+10,Ne,Ve),Me.nodes.forEach(function(_t){x(_t,Pe)==x(Ke,Pe)||_t.column!=Ke.column||_t.y0<Ke.y1&&_t.y1>Ke.y1&&re(_t,Ct,Ne,Ve)}))}})}})}function fe(Me,Ne){return Me.y0>Ne.y0&&Me.y0<Ne.y1||Me.y1>Ne.y0&&Me.y1<Ne.y1||Me.y0<Ne.y0&&Me.y1>Ne.y1}function re(Me,Ne,Ve,Pe){return Me.y0+Ne>=Ve&&Me.y1+Ne<=Pe&&(Me.y0=Me.y0+Ne,Me.y1=Me.y1+Ne,Me.targetLinks.forEach(function(Ce){Ce.y1=Ce.y1+Ne}),Me.sourceLinks.forEach(function(Ce){Ce.y0=Ce.y0+Ne})),Me}function $(Me,Ne,Ve,Pe){Me.nodes.forEach(function(Ce){Pe&&Ce.y+(Ce.y1-Ce.y0)>Ne&&(Ce.y=Ce.y-(Ce.y+(Ce.y1-Ce.y0)-Ne));var Ie=Me.links.filter(function(ze){return x(ze.source,Ve)==x(Ce,Ve)}),Je=Ie.length;Je>1&&Ie.sort(function(ze,Ke){if(!ze.circular&&!Ke.circular){if(ze.target.column==Ke.target.column)return ze.y1-Ke.y1;if(!se(ze,Ke))return ze.y1-Ke.y1;if(ze.target.column>Ke.target.column){var ut=Z(Ke,ze);return ze.y1-ut}if(Ke.target.column>ze.target.column)return Z(ze,Ke)-Ke.y1}return ze.circular&&!Ke.circular?"top"==ze.circularLinkType?-1:1:Ke.circular&&!ze.circular?"top"==Ke.circularLinkType?1:-1:ze.circular&&Ke.circular?ze.circularLinkType===Ke.circularLinkType&&"top"==ze.circularLinkType?ze.target.column===Ke.target.column?ze.target.y1-Ke.target.y1:Ke.target.column-ze.target.column:ze.circularLinkType===Ke.circularLinkType&&"bottom"==ze.circularLinkType?ze.target.column===Ke.target.column?Ke.target.y1-ze.target.y1:ze.target.column-Ke.target.column:"top"==ze.circularLinkType?-1:1:void 0});var Qe=Ce.y0;Ie.forEach(function(ze){ze.y0=Qe+ze.width/2,Qe+=ze.width}),Ie.forEach(function(ze,Ke){if("bottom"==ze.circularLinkType){for(var ut=Ke+1,ot=0;ut<Je;ut++)ot+=Ie[ut].width;ze.y0=Ce.y1-ot-ze.width/2}})})}function le(Me,Ne,Ve){Me.nodes.forEach(function(Pe){var Ce=Me.links.filter(function(Qe){return x(Qe.target,Ve)==x(Pe,Ve)}),Ie=Ce.length;Ie>1&&Ce.sort(function(Qe,ze){if(!Qe.circular&&!ze.circular){if(Qe.source.column==ze.source.column)return Qe.y0-ze.y0;if(!se(Qe,ze))return Qe.y0-ze.y0;if(ze.source.column<Qe.source.column){var Ke=K(ze,Qe);return Qe.y0-Ke}if(Qe.source.column<ze.source.column)return K(Qe,ze)-ze.y0}return Qe.circular&&!ze.circular?"top"==Qe.circularLinkType?-1:1:ze.circular&&!Qe.circular?"top"==ze.circularLinkType?1:-1:Qe.circular&&ze.circular?Qe.circularLinkType===ze.circularLinkType&&"top"==Qe.circularLinkType?Qe.source.column===ze.source.column?Qe.source.y1-ze.source.y1:Qe.source.column-ze.source.column:Qe.circularLinkType===ze.circularLinkType&&"bottom"==Qe.circularLinkType?Qe.source.column===ze.source.column?Qe.source.y1-ze.source.y1:ze.source.column-Qe.source.column:"top"==Qe.circularLinkType?-1:1:void 0});var Je=Pe.y0;Ce.forEach(function(Qe){Qe.y1=Je+Qe.width/2,Je+=Qe.width}),Ce.forEach(function(Qe,ze){if("bottom"==Qe.circularLinkType){for(var Ke=ze+1,ut=0;Ke<Ie;Ke++)ut+=Ce[Ke].width;Qe.y1=Pe.y1-ut-Qe.width/2}})})}function se(Me,Ne){return de(Me)==de(Ne)}function de(Me){return Me.y0-Me.y1>0?"up":"down"}function we(Me,Ne){return x(Me.source,Ne)==x(Me.target,Ne)}},30838:function(oe,J,t){"use strict";t.r(J),t.d(J,{sankey:function(){return g},sankeyCenter:function(){return w},sankeyJustify:function(){return v},sankeyLeft:function(){return R},sankeyLinkHorizontal:function(){return x},sankeyRight:function(){return I}});var S=t(33064),k=t(15140);function l(E){return E.target.depth}function R(E){return E.depth}function I(E,M){return M-1-E.height}function v(E,M){return E.sourceLinks.length?E.depth:M-1}function w(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,S.VV)(E.sourceLinks,l)-1:0}function r(E){return function(){return E}}function n(E,M){return o(E.source,M.source)||E.index-M.index}function c(E,M){return o(E.target,M.target)||E.index-M.index}function o(E,M){return E.y0-M.y0}function f(E){return E.value}function h(E){return(E.y0+E.y1)/2}function d(E){return h(E.source)*E.value}function b(E){return h(E.target)*E.value}function p(E){return E.index}function A(E){return E.nodes}function m(E){return E.links}function u(E,M){var i=E.get(M);if(!i)throw new Error("missing: "+M);return i}function g(){var E=0,M=0,i=1,D=1,y=24,B=8,F=p,_=v,z=A,V=m,H=32,U=2/3;function G(){var te={nodes:z.apply(null,arguments),links:V.apply(null,arguments)};return function Y(te){te.nodes.forEach(function(K,Z){K.index=Z,K.sourceLinks=[],K.targetLinks=[]});var Q=(0,k.UI)(te.nodes,F);te.links.forEach(function(K,Z){K.index=Z;var q=K.source,fe=K.target;"object"!=typeof q&&(q=K.source=u(Q,q)),"object"!=typeof fe&&(fe=K.target=u(Q,fe)),q.sourceLinks.push(K),fe.targetLinks.push(K)})}(te),function ee(te){te.nodes.forEach(function(Q){Q.value=Math.max((0,S.Sm)(Q.sourceLinks,f),(0,S.Sm)(Q.targetLinks,f))})}(te),function ue(te){var Q,K,Z;for(Q=te.nodes,K=[],Z=0;Q.length;++Z,Q=K,K=[])Q.forEach(function(fe){fe.depth=Z,fe.sourceLinks.forEach(function(re){K.indexOf(re.target)<0&&K.push(re.target)})});for(Q=te.nodes,K=[],Z=0;Q.length;++Z,Q=K,K=[])Q.forEach(function(fe){fe.height=Z,fe.targetLinks.forEach(function(re){K.indexOf(re.source)<0&&K.push(re.source)})});var q=(i-E-y)/(Z-1);te.nodes.forEach(function(fe){fe.x1=(fe.x0=E+Math.max(0,Math.min(Z-1,Math.floor(_.call(null,fe,Z))))*q)+y})}(te),function ce(te){var Q=(0,k.b1)().key(function(le){return le.x0}).sortKeys(S.j2).entries(te.nodes).map(function(le){return le.values});q(),$();for(var K=1,Z=H;Z>0;--Z)re(K*=.99),$(),fe(K),$();function q(){var le=(0,S.Fp)(Q,function(we){return we.length}),se=U*(D-M)/(le-1);B>se&&(B=se);var de=(0,S.VV)(Q,function(we){return(D-M-(we.length-1)*B)/(0,S.Sm)(we,f)});Q.forEach(function(we){we.forEach(function(Ee,Me){Ee.y1=(Ee.y0=Me)+Ee.value*de})}),te.links.forEach(function(we){we.width=we.value*de})}function fe(le){Q.forEach(function(se){se.forEach(function(de){if(de.targetLinks.length){var we=((0,S.Sm)(de.targetLinks,d)/(0,S.Sm)(de.targetLinks,f)-h(de))*le;de.y0+=we,de.y1+=we}})})}function re(le){Q.slice().reverse().forEach(function(se){se.forEach(function(de){if(de.sourceLinks.length){var we=((0,S.Sm)(de.sourceLinks,b)/(0,S.Sm)(de.sourceLinks,f)-h(de))*le;de.y0+=we,de.y1+=we}})})}function $(){Q.forEach(function(le){var se,de,Me,we=M,Ee=le.length;for(le.sort(o),Me=0;Me<Ee;++Me)(de=we-(se=le[Me]).y0)>0&&(se.y0+=de,se.y1+=de),we=se.y1+B;if((de=we-B-D)>0)for(we=se.y0-=de,se.y1-=de,Me=Ee-2;Me>=0;--Me)(de=(se=le[Me]).y1+B-we)>0&&(se.y0-=de,se.y1-=de),we=se.y0})}}(te),pe(te),te}function pe(te){te.nodes.forEach(function(Q){Q.sourceLinks.sort(c),Q.targetLinks.sort(n)}),te.nodes.forEach(function(Q){var K=Q.y0,Z=K;Q.sourceLinks.forEach(function(q){q.y0=K+q.width/2,K+=q.width}),Q.targetLinks.forEach(function(q){q.y1=Z+q.width/2,Z+=q.width})})}return G.update=function(te){return pe(te),te},G.nodeId=function(te){return arguments.length?(F="function"==typeof te?te:r(te),G):F},G.nodeAlign=function(te){return arguments.length?(_="function"==typeof te?te:r(te),G):_},G.nodeWidth=function(te){return arguments.length?(y=+te,G):y},G.nodePadding=function(te){return arguments.length?(B=+te,G):B},G.nodes=function(te){return arguments.length?(z="function"==typeof te?te:r(te),G):z},G.links=function(te){return arguments.length?(V="function"==typeof te?te:r(te),G):V},G.size=function(te){return arguments.length?(E=M=0,i=+te[0],D=+te[1],G):[i-E,D-M]},G.extent=function(te){return arguments.length?(E=+te[0][0],i=+te[1][0],M=+te[0][1],D=+te[1][1],G):[[E,M],[i,D]]},G.iterations=function(te){return arguments.length?(H=+te,G):H},G}var C=t(45879);function T(E){return[E.source.x1,E.y0]}function L(E){return[E.target.x0,E.y1]}function x(){return(0,C.h5)().source(T).target(L)}},39898:function(oe,J,t){var S,k;(function(){var l={version:"3.8.0"},R=[].slice,I=function(he){return R.call(he)},v=self.document;function w(he){return he&&(he.ownerDocument||he.document||he).documentElement}function r(he){return he&&(he.ownerDocument&&he.ownerDocument.defaultView||he.document&&he||he.defaultView)}if(v)try{I(v.documentElement.childNodes)}catch{I=function(Ae){for(var Ge=Ae.length,it=new Array(Ge);Ge--;)it[Ge]=Ae[Ge];return it}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var n=this.Element.prototype,c=n.setAttribute,o=n.setAttributeNS,f=this.CSSStyleDeclaration.prototype,h=f.setProperty;n.setAttribute=function(Ae,Ge){c.call(this,Ae,Ge+"")},n.setAttributeNS=function(Ae,Ge,it){o.call(this,Ae,Ge,it+"")},f.setProperty=function(Ae,Ge,it){h.call(this,Ae,Ge+"",it)}}function d(he,Ae){return he<Ae?-1:he>Ae?1:he>=Ae?0:NaN}function b(he){return null===he?NaN:+he}function p(he){return!isNaN(he)}function A(he){return{left:function(Ae,Ge,it,at){for(arguments.length<3&&(it=0),arguments.length<4&&(at=Ae.length);it<at;){var ht=it+at>>>1;he(Ae[ht],Ge)<0?it=ht+1:at=ht}return it},right:function(Ae,Ge,it,at){for(arguments.length<3&&(it=0),arguments.length<4&&(at=Ae.length);it<at;){var ht=it+at>>>1;he(Ae[ht],Ge)>0?at=ht:it=ht+1}return it}}}l.ascending=d,l.descending=function(he,Ae){return Ae<he?-1:Ae>he?1:Ae>=he?0:NaN},l.min=function(he,Ae){var at,ht,Ge=-1,it=he.length;if(1===arguments.length){for(;++Ge<it;)if(null!=(ht=he[Ge])&&ht>=ht){at=ht;break}for(;++Ge<it;)null!=(ht=he[Ge])&&at>ht&&(at=ht)}else{for(;++Ge<it;)if(null!=(ht=Ae.call(he,he[Ge],Ge))&&ht>=ht){at=ht;break}for(;++Ge<it;)null!=(ht=Ae.call(he,he[Ge],Ge))&&at>ht&&(at=ht)}return at},l.max=function(he,Ae){var at,ht,Ge=-1,it=he.length;if(1===arguments.length){for(;++Ge<it;)if(null!=(ht=he[Ge])&&ht>=ht){at=ht;break}for(;++Ge<it;)null!=(ht=he[Ge])&&ht>at&&(at=ht)}else{for(;++Ge<it;)if(null!=(ht=Ae.call(he,he[Ge],Ge))&&ht>=ht){at=ht;break}for(;++Ge<it;)null!=(ht=Ae.call(he,he[Ge],Ge))&&ht>at&&(at=ht)}return at},l.extent=function(he,Ae){var at,ht,Nt,Ge=-1,it=he.length;if(1===arguments.length){for(;++Ge<it;)if(null!=(ht=he[Ge])&&ht>=ht){at=Nt=ht;break}for(;++Ge<it;)null!=(ht=he[Ge])&&(at>ht&&(at=ht),Nt<ht&&(Nt=ht))}else{for(;++Ge<it;)if(null!=(ht=Ae.call(he,he[Ge],Ge))&&ht>=ht){at=Nt=ht;break}for(;++Ge<it;)null!=(ht=Ae.call(he,he[Ge],Ge))&&(at>ht&&(at=ht),Nt<ht&&(Nt=ht))}return[at,Nt]},l.sum=function(he,Ae){var at,Ge=0,it=he.length,ht=-1;if(1===arguments.length)for(;++ht<it;)p(at=+he[ht])&&(Ge+=at);else for(;++ht<it;)p(at=+Ae.call(he,he[ht],ht))&&(Ge+=at);return Ge},l.mean=function(he,Ae){var at,Ge=0,it=he.length,ht=-1,Nt=it;if(1===arguments.length)for(;++ht<it;)p(at=b(he[ht]))?Ge+=at:--Nt;else for(;++ht<it;)p(at=b(Ae.call(he,he[ht],ht)))?Ge+=at:--Nt;if(Nt)return Ge/Nt},l.quantile=function(he,Ae){var Ge=(he.length-1)*Ae+1,it=Math.floor(Ge),at=+he[it-1],ht=Ge-it;return ht?at+ht*(he[it]-at):at},l.median=function(he,Ae){var at,Ge=[],it=he.length,ht=-1;if(1===arguments.length)for(;++ht<it;)p(at=b(he[ht]))&&Ge.push(at);else for(;++ht<it;)p(at=b(Ae.call(he,he[ht],ht)))&&Ge.push(at);if(Ge.length)return l.quantile(Ge.sort(d),.5)},l.variance=function(he,Ae){var at,ht,Ge=he.length,it=0,Nt=0,Dt=-1,Yt=0;if(1===arguments.length)for(;++Dt<Ge;)p(at=b(he[Dt]))&&(Nt+=(ht=at-it)*(at-(it+=ht/++Yt)));else for(;++Dt<Ge;)p(at=b(Ae.call(he,he[Dt],Dt)))&&(Nt+=(ht=at-it)*(at-(it+=ht/++Yt)));if(Yt>1)return Nt/(Yt-1)},l.deviation=function(){var he=l.variance.apply(this,arguments);return he&&Math.sqrt(he)};var m=A(d);function u(he){return he.length}l.bisectLeft=m.left,l.bisect=l.bisectRight=m.right,l.bisector=function(he){return A(1===he.length?function(Ae,Ge){return d(he(Ae),Ge)}:he)},l.shuffle=function(he,Ae,Ge){(it=arguments.length)<3&&(Ge=he.length,it<2&&(Ae=0));for(var at,ht,it=Ge-Ae;it;)ht=Math.random()*it--|0,at=he[it+Ae],he[it+Ae]=he[ht+Ae],he[ht+Ae]=at;return he},l.permute=function(he,Ae){for(var Ge=Ae.length,it=new Array(Ge);Ge--;)it[Ge]=he[Ae[Ge]];return it},l.pairs=function(he){for(var Ae=0,Ge=he.length-1,at=he[0],ht=new Array(Ge<0?0:Ge);Ae<Ge;)ht[Ae]=[at,at=he[++Ae]];return ht},l.transpose=function(he){if(!(ht=he.length))return[];for(var Ae=-1,Ge=l.min(he,u),it=new Array(Ge);++Ae<Ge;)for(var ht,at=-1,Nt=it[Ae]=new Array(ht);++at<ht;)Nt[at]=he[at][Ae];return it},l.zip=function(){return l.transpose(arguments)},l.keys=function(he){var Ae=[];for(var Ge in he)Ae.push(Ge);return Ae},l.values=function(he){var Ae=[];for(var Ge in he)Ae.push(he[Ge]);return Ae},l.entries=function(he){var Ae=[];for(var Ge in he)Ae.push({key:Ge,value:he[Ge]});return Ae},l.merge=function(he){for(var Ge,ht,Nt,Ae=he.length,it=-1,at=0;++it<Ae;)at+=he[it].length;for(ht=new Array(at);--Ae>=0;)for(Ge=(Nt=he[Ae]).length;--Ge>=0;)ht[--at]=Nt[Ge];return ht};var g=Math.abs;function T(he,Ae){for(var Ge in Ae)Object.defineProperty(he.prototype,Ge,{value:Ae[Ge],enumerable:!1})}function L(){this._=Object.create(null)}l.range=function(he,Ae,Ge){if(arguments.length<3&&(Ge=1,arguments.length<2&&(Ae=he,he=0)),(Ae-he)/Ge==1/0)throw new Error("infinite range");var Nt,it=[],at=function C(he){for(var Ae=1;he*Ae%1;)Ae*=10;return Ae}(g(Ge)),ht=-1;if(he*=at,Ae*=at,(Ge*=at)<0)for(;(Nt=he+Ge*++ht)>Ae;)it.push(Nt/at);else for(;(Nt=he+Ge*++ht)<Ae;)it.push(Nt/at);return it},l.map=function(he,Ae){var Ge=new L;if(he instanceof L)he.forEach(function(Dt,Yt){Ge.set(Dt,Yt)});else if(Array.isArray(he)){var ht,it=-1,at=he.length;if(1===arguments.length)for(;++it<at;)Ge.set(it,he[it]);else for(;++it<at;)Ge.set(Ae.call(he,ht=he[it],it),ht)}else for(var Nt in he)Ge.set(Nt,he[Nt]);return Ge};var x="__proto__",E="\0";function M(he){return(he+="")===x||he[0]===E?E+he:he}function i(he){return(he+="")[0]===E?he.slice(1):he}function D(he){return M(he)in this._}function y(he){return(he=M(he))in this._&&delete this._[he]}function B(){var he=[];for(var Ae in this._)he.push(i(Ae));return he}function F(){var he=0;for(var Ae in this._)++he;return he}function _(){for(var he in this._)return!1;return!0}function z(){this._=Object.create(null)}function V(he){return he}function H(he,Ae,Ge){return function(){var it=Ge.apply(Ae,arguments);return it===Ae?he:it}}function U(he,Ae){if(Ae in he)return Ae;Ae=Ae.charAt(0).toUpperCase()+Ae.slice(1);for(var Ge=0,it=G.length;Ge<it;++Ge){var at=G[Ge]+Ae;if(at in he)return at}}T(L,{has:D,get:function(he){return this._[M(he)]},set:function(he,Ae){return this._[M(he)]=Ae},remove:y,keys:B,values:function(){var he=[];for(var Ae in this._)he.push(this._[Ae]);return he},entries:function(){var he=[];for(var Ae in this._)he.push({key:i(Ae),value:this._[Ae]});return he},size:F,empty:_,forEach:function(he){for(var Ae in this._)he.call(this,i(Ae),this._[Ae])}}),l.nest=function(){var it,at,he={},Ae=[],Ge=[];function ht(Dt,Yt,sr){if(sr>=Ae.length)return at?at.call(he,Yt):it?Yt.sort(it):Yt;for(var fn,yn,Hr,qr,fr=-1,zr=Yt.length,Fr=Ae[sr++],Wr=new L;++fr<zr;)(qr=Wr.get(fn=Fr(yn=Yt[fr])))?qr.push(yn):Wr.set(fn,[yn]);return Dt?(yn=Dt(),Hr=function(mn,rn){yn.set(mn,ht(Dt,rn,sr))}):(yn={},Hr=function(mn,rn){yn[mn]=ht(Dt,rn,sr)}),Wr.forEach(Hr),yn}function Nt(Dt,Yt){if(Yt>=Ae.length)return Dt;var sr=[],fr=Ge[Yt++];return Dt.forEach(function(zr,Fr){sr.push({key:zr,values:Nt(Fr,Yt)})}),fr?sr.sort(function(zr,Fr){return fr(zr.key,Fr.key)}):sr}return he.map=function(Dt,Yt){return ht(Yt,Dt,0)},he.entries=function(Dt){return Nt(ht(l.map,Dt,0),0)},he.key=function(Dt){return Ae.push(Dt),he},he.sortKeys=function(Dt){return Ge[Ae.length-1]=Dt,he},he.sortValues=function(Dt){return it=Dt,he},he.rollup=function(Dt){return at=Dt,he},he},l.set=function(he){var Ae=new z;if(he)for(var Ge=0,it=he.length;Ge<it;++Ge)Ae.add(he[Ge]);return Ae},T(z,{has:D,add:function(he){return this._[M(he+="")]=!0,he},remove:y,values:B,size:F,empty:_,forEach:function(he){for(var Ae in this._)he.call(this,i(Ae))}}),l.behavior={},l.rebind=function(he,Ae){for(var at,Ge=1,it=arguments.length;++Ge<it;)he[at=arguments[Ge]]=H(he,Ae,Ae[at]);return he};var G=["webkit","ms","moz","Moz","o","O"];function Y(){}function ee(){}function ue(he){var Ae=[],Ge=new L;function it(){for(var Dt,at=Ae,ht=-1,Nt=at.length;++ht<Nt;)(Dt=at[ht].on)&&Dt.apply(this,arguments);return he}return it.on=function(at,ht){var Dt,Nt=Ge.get(at);return arguments.length<2?Nt&&Nt.on:(Nt&&(Nt.on=null,Ae=Ae.slice(0,Dt=Ae.indexOf(Nt)).concat(Ae.slice(Dt+1)),Ge.remove(at)),ht&&Ae.push(Ge.set(at,{on:ht})),he)},it}function ce(){l.event.preventDefault()}function pe(){for(var Ae,he=l.event;Ae=he.sourceEvent;)he=Ae;return he}function te(he){for(var Ae=new ee,Ge=0,it=arguments.length;++Ge<it;)Ae[arguments[Ge]]=ue(Ae);return Ae.of=function(at,ht){return function(Nt){try{var Dt=Nt.sourceEvent=l.event;Nt.target=he,l.event=Nt,Ae[Nt.type].apply(at,ht)}finally{l.event=Dt}}},Ae}l.dispatch=function(){for(var he=new ee,Ae=-1,Ge=arguments.length;++Ae<Ge;)he[arguments[Ae]]=ue(he);return he},ee.prototype.on=function(he,Ae){var Ge=he.indexOf("."),it="";if(Ge>=0&&(it=he.slice(Ge+1),he=he.slice(0,Ge)),he)return arguments.length<2?this[he].on(it):this[he].on(it,Ae);if(2===arguments.length){if(null==Ae)for(he in this)this.hasOwnProperty(he)&&this[he].on(it,null);return this}},l.event=null,l.requote=function(he){return he.replace(Q,"\\$&")};var Q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,K={}.__proto__?function(he,Ae){he.__proto__=Ae}:function(he,Ae){for(var Ge in Ae)he[Ge]=Ae[Ge]};function Z(he){return K(he,$),he}var q=function(he,Ae){return Ae.querySelector(he)},fe=function(he,Ae){return Ae.querySelectorAll(he)},re=function(he,Ae){var Ge=he.matches||he[U(he,"matchesSelector")];return(re=function(it,at){return Ge.call(it,at)})(he,Ae)};"function"==typeof Sizzle&&(q=function(he,Ae){return Sizzle(he,Ae)[0]||null},fe=Sizzle,re=Sizzle.matchesSelector),l.selection=function(){return l.select(v.documentElement)};var $=l.selection.prototype=[];function le(he){return"function"==typeof he?he:function(){return q(he,this)}}function se(he){return"function"==typeof he?he:function(){return fe(he,this)}}$.select=function(he){var Ge,it,at,ht,Ae=[];he=le(he);for(var Nt=-1,Dt=this.length;++Nt<Dt;){Ae.push(Ge=[]),Ge.parentNode=(at=this[Nt]).parentNode;for(var Yt=-1,sr=at.length;++Yt<sr;)(ht=at[Yt])?(Ge.push(it=he.call(ht,ht.__data__,Yt,Nt)),it&&"__data__"in ht&&(it.__data__=ht.__data__)):Ge.push(null)}return Z(Ae)},$.selectAll=function(he){var Ge,it,Ae=[];he=se(he);for(var at=-1,ht=this.length;++at<ht;)for(var Nt=this[at],Dt=-1,Yt=Nt.length;++Dt<Yt;)(it=Nt[Dt])&&(Ae.push(Ge=I(he.call(it,it.__data__,Dt,at))),Ge.parentNode=it);return Z(Ae)};var de="http://www.w3.org/1999/xhtml",we={svg:"http://www.w3.org/2000/svg",xhtml:de,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ee(he,Ae){return he=l.ns.qualify(he),null==Ae?he.local?function it(){this.removeAttributeNS(he.space,he.local)}:function Ge(){this.removeAttribute(he)}:"function"==typeof Ae?he.local?function Dt(){var Yt=Ae.apply(this,arguments);null==Yt?this.removeAttributeNS(he.space,he.local):this.setAttributeNS(he.space,he.local,Yt)}:function Nt(){var Yt=Ae.apply(this,arguments);null==Yt?this.removeAttribute(he):this.setAttribute(he,Yt)}:he.local?function ht(){this.setAttributeNS(he.space,he.local,Ae)}:function at(){this.setAttribute(he,Ae)}}function Me(he){return he.trim().replace(/\s+/g," ")}function Ne(he){return new RegExp("(?:^|\\s+)"+l.requote(he)+"(?:\\s+|$)","g")}function Ve(he){return(he+"").trim().split(/^|\s+/)}function Pe(he,Ae){var Ge=(he=Ve(he).map(Ce)).length;return"function"==typeof Ae?function at(){for(var ht=-1,Nt=Ae.apply(this,arguments);++ht<Ge;)he[ht](this,Nt)}:function it(){for(var ht=-1;++ht<Ge;)he[ht](this,Ae)}}function Ce(he){var Ae=Ne(he);return function(Ge,it){if(at=Ge.classList)return it?at.add(he):at.remove(he);var at=Ge.getAttribute("class")||"";it?(Ae.lastIndex=0,Ae.test(at)||Ge.setAttribute("class",Me(at+" "+he))):Ge.setAttribute("class",Me(at.replace(Ae," ")))}}function Ie(he,Ae,Ge){return null==Ae?function it(){this.style.removeProperty(he)}:"function"==typeof Ae?function ht(){var Nt=Ae.apply(this,arguments);null==Nt?this.style.removeProperty(he):this.style.setProperty(he,Nt,Ge)}:function at(){this.style.setProperty(he,Ae,Ge)}}function Je(he,Ae){return null==Ae?function Ge(){delete this[he]}:"function"==typeof Ae?function at(){var ht=Ae.apply(this,arguments);null==ht?delete this[he]:this[he]=ht}:function it(){this[he]=Ae}}function Qe(he){return"function"==typeof he?he:(he=l.ns.qualify(he)).local?function Ge(){return this.ownerDocument.createElementNS(he.space,he.local)}:function Ae(){var it=this.ownerDocument,at=this.namespaceURI;return at===de&&it.documentElement.namespaceURI===de?it.createElement(he):it.createElementNS(at,he)}}function ze(){var he=this.parentNode;he&&he.removeChild(this)}function Ke(he){return{__data__:he}}function ut(he){return function(){return re(this,he)}}function ot(he){return arguments.length||(he=d),function(Ae,Ge){return Ae&&Ge?he(Ae.__data__,Ge.__data__):!Ae-!Ge}}function We(he,Ae){for(var Ge=0,it=he.length;Ge<it;Ge++)for(var Dt,at=he[Ge],ht=0,Nt=at.length;ht<Nt;ht++)(Dt=at[ht])&&Ae(Dt,ht,Ge);return he}function je(he){return K(he,lt),he}l.ns={prefix:we,qualify:function(he){var Ae=he.indexOf(":"),Ge=he;return Ae>=0&&"xmlns"!==(Ge=he.slice(0,Ae))&&(he=he.slice(Ae+1)),we.hasOwnProperty(Ge)?{space:we[Ge],local:he}:he}},$.attr=function(he,Ae){if(arguments.length<2){if("string"==typeof he){var Ge=this.node();return(he=l.ns.qualify(he)).local?Ge.getAttributeNS(he.space,he.local):Ge.getAttribute(he)}for(Ae in he)this.each(Ee(Ae,he[Ae]));return this}return this.each(Ee(he,Ae))},$.classed=function(he,Ae){if(arguments.length<2){if("string"==typeof he){var Ge=this.node(),it=(he=Ve(he)).length,at=-1;if(Ae=Ge.classList){for(;++at<it;)if(!Ae.contains(he[at]))return!1}else for(Ae=Ge.getAttribute("class");++at<it;)if(!Ne(he[at]).test(Ae))return!1;return!0}for(Ae in he)this.each(Pe(Ae,he[Ae]));return this}return this.each(Pe(he,Ae))},$.style=function(he,Ae,Ge){var it=arguments.length;if(it<3){if("string"!=typeof he){for(Ge in it<2&&(Ae=""),he)this.each(Ie(Ge,he[Ge],Ae));return this}if(it<2){var at=this.node();return r(at).getComputedStyle(at,null).getPropertyValue(he)}Ge=""}return this.each(Ie(he,Ae,Ge))},$.property=function(he,Ae){if(arguments.length<2){if("string"==typeof he)return this.node()[he];for(Ae in he)this.each(Je(Ae,he[Ae]));return this}return this.each(Je(he,Ae))},$.text=function(he){return arguments.length?this.each("function"==typeof he?function(){var Ae=he.apply(this,arguments);this.textContent=Ae??""}:null==he?function(){this.textContent=""}:function(){this.textContent=he}):this.node().textContent},$.html=function(he){return arguments.length?this.each("function"==typeof he?function(){var Ae=he.apply(this,arguments);this.innerHTML=Ae??""}:null==he?function(){this.innerHTML=""}:function(){this.innerHTML=he}):this.node().innerHTML},$.append=function(he){return he=Qe(he),this.select(function(){return this.appendChild(he.apply(this,arguments))})},$.insert=function(he,Ae){return he=Qe(he),Ae=le(Ae),this.select(function(){return this.insertBefore(he.apply(this,arguments),Ae.apply(this,arguments)||null)})},$.remove=function(){return this.each(ze)},$.data=function(he,Ae){var at,ht,Ge=-1,it=this.length;if(!arguments.length){for(he=new Array(it=(at=this[0]).length);++Ge<it;)(ht=at[Ge])&&(he[Ge]=ht.__data__);return he}function Nt(fr,zr){var Fr,rn,on,fn=fr.length,yn=zr.length,Hr=Math.min(fn,yn),Wr=new Array(yn),qr=new Array(yn),mn=new Array(fn);if(Ae){var ki,ei=new L,Ei=new Array(fn);for(Fr=-1;++Fr<fn;)(rn=fr[Fr])&&(ei.has(ki=Ae.call(rn,rn.__data__,Fr))?mn[Fr]=rn:ei.set(ki,rn),Ei[Fr]=ki);for(Fr=-1;++Fr<yn;)(rn=ei.get(ki=Ae.call(zr,on=zr[Fr],Fr)))?!0!==rn&&(Wr[Fr]=rn,rn.__data__=on):qr[Fr]=Ke(on),ei.set(ki,!0);for(Fr=-1;++Fr<fn;)Fr in Ei&&!0!==ei.get(Ei[Fr])&&(mn[Fr]=fr[Fr])}else{for(Fr=-1;++Fr<Hr;)on=zr[Fr],(rn=fr[Fr])?(rn.__data__=on,Wr[Fr]=rn):qr[Fr]=Ke(on);for(;Fr<yn;++Fr)qr[Fr]=Ke(zr[Fr]);for(;Fr<fn;++Fr)mn[Fr]=fr[Fr]}qr.update=Wr,qr.parentNode=Wr.parentNode=mn.parentNode=fr.parentNode,Dt.push(qr),Yt.push(Wr),sr.push(mn)}var Dt=je([]),Yt=Z([]),sr=Z([]);if("function"==typeof he)for(;++Ge<it;)Nt(at=this[Ge],he.call(at,at.parentNode.__data__,Ge));else for(;++Ge<it;)Nt(at=this[Ge],he);return Yt.enter=function(){return Dt},Yt.exit=function(){return sr},Yt},$.datum=function(he){return arguments.length?this.property("__data__",he):this.property("__data__")},$.filter=function(he){var Ge,it,at,Ae=[];"function"!=typeof he&&(he=ut(he));for(var ht=0,Nt=this.length;ht<Nt;ht++){Ae.push(Ge=[]),Ge.parentNode=(it=this[ht]).parentNode;for(var Dt=0,Yt=it.length;Dt<Yt;Dt++)(at=it[Dt])&&he.call(at,at.__data__,Dt,ht)&&Ge.push(at)}return Z(Ae)},$.order=function(){for(var he=-1,Ae=this.length;++he<Ae;)for(var ht,Ge=this[he],it=Ge.length-1,at=Ge[it];--it>=0;)(ht=Ge[it])&&(at&&at!==ht.nextSibling&&at.parentNode.insertBefore(ht,at),at=ht);return this},$.sort=function(he){he=ot.apply(this,arguments);for(var Ae=-1,Ge=this.length;++Ae<Ge;)this[Ae].sort(he);return this.order()},$.each=function(he){return We(this,function(Ae,Ge,it){he.call(Ae,Ae.__data__,Ge,it)})},$.call=function(he){var Ae=I(arguments);return he.apply(Ae[0]=this,Ae),this},$.empty=function(){return!this.node()},$.node=function(){for(var he=0,Ae=this.length;he<Ae;he++)for(var Ge=this[he],it=0,at=Ge.length;it<at;it++){var ht=Ge[it];if(ht)return ht}return null},$.size=function(){var he=0;return We(this,function(){++he}),he};var lt=[];function pt(he,Ae,Ge){var it="__on"+he,at=he.indexOf("."),ht=Ct;at>0&&(he=he.slice(0,at));var Nt=St.get(he);function Dt(){var fr=this[it];fr&&(this.removeEventListener(he,fr,fr.$),delete this[it])}return Nt&&(he=Nt,ht=_t),at?Ae?function Yt(){var fr=ht(Ae,I(arguments));Dt.call(this),this.addEventListener(he,this[it]=fr,fr.$=Ge),fr._=Ae}:Dt:Ae?Y:function sr(){var zr,fr=new RegExp("^__on([^.]+)"+l.requote(he)+"$");for(var Fr in this)if(zr=Fr.match(fr)){var fn=this[Fr];this.removeEventListener(zr[1],fn,fn.$),delete this[Fr]}}}l.selection.enter=je,l.selection.enter.prototype=lt,lt.append=$.append,lt.empty=$.empty,lt.node=$.node,lt.call=$.call,lt.size=$.size,lt.select=function(he){for(var Ge,it,at,ht,Nt,Ae=[],Dt=-1,Yt=this.length;++Dt<Yt;){at=(ht=this[Dt]).update,Ae.push(Ge=[]),Ge.parentNode=ht.parentNode;for(var sr=-1,fr=ht.length;++sr<fr;)(Nt=ht[sr])?(Ge.push(at[sr]=it=he.call(ht.parentNode,Nt.__data__,sr,Dt)),it.__data__=Nt.__data__):Ge.push(null)}return Z(Ae)},lt.insert=function(he,Ae){return arguments.length<2&&(Ae=function vt(he){var Ae,Ge;return function(it,at,ht){var Yt,Nt=he[ht].update,Dt=Nt.length;for(ht!=Ge&&(Ge=ht,Ae=0),at>=Ae&&(Ae=at+1);!(Yt=Nt[Ae])&&++Ae<Dt;);return Yt}}(this)),$.insert.call(this,he,Ae)},l.select=function(he){var Ae;return"string"==typeof he?(Ae=[q(he,v)]).parentNode=v.documentElement:(Ae=[he]).parentNode=w(he),Z([Ae])},l.selectAll=function(he){var Ae;return"string"==typeof he?(Ae=I(fe(he,v))).parentNode=v.documentElement:(Ae=I(he)).parentNode=null,Z([Ae])},$.on=function(he,Ae,Ge){var it=arguments.length;if(it<3){if("string"!=typeof he){for(Ge in it<2&&(Ae=!1),he)this.each(pt(Ge,he[Ge],Ae));return this}if(it<2)return(it=this.node()["__on"+he])&&it._;Ge=!1}return this.each(pt(he,Ae,Ge))};var St=l.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ct(he,Ae){return function(Ge){var it=l.event;l.event=Ge,Ae[0]=this.__data__;try{he.apply(this,Ae)}finally{l.event=it}}}function _t(he,Ae){var Ge=Ct(he,Ae);return function(it){var ht=it.relatedTarget;(!ht||ht!==this&&!(8&ht.compareDocumentPosition(this)))&&Ge.call(this,it)}}v&&St.forEach(function(he){"on"+he in v&&St.remove(he)});var nt,ke=0;function Re(he){var Ae=".dragsuppress-"+ ++ke,Ge="click"+Ae,it=l.select(r(he)).on("touchmove"+Ae,ce).on("dragstart"+Ae,ce).on("selectstart"+Ae,ce);if(null==nt&&(nt=!("onselectstart"in he)&&U(he.style,"userSelect")),nt){var at=w(he).style,ht=at[nt];at[nt]="none"}return function(Nt){if(it.on(Ae,null),nt&&(at[nt]=ht),Nt){var Dt=function(){it.on(Ge,null)};it.on(Ge,function(){ce(),Dt()},!0),setTimeout(Dt,0)}}}l.mouse=function(he){return He(he,pe())};var Be=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function He(he,Ae){Ae.changedTouches&&(Ae=Ae.changedTouches[0]);var Ge=he.ownerSVGElement||he;if(Ge.createSVGPoint){var it=Ge.createSVGPoint();if(Be<0){var at=r(he);if(at.scrollX||at.scrollY){var ht=(Ge=l.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Be=!(ht.f||ht.e),Ge.remove()}}return Be?(it.x=Ae.pageX,it.y=Ae.pageY):(it.x=Ae.clientX,it.y=Ae.clientY),[(it=it.matrixTransform(he.getScreenCTM().inverse())).x,it.y]}var Nt=he.getBoundingClientRect();return[Ae.clientX-Nt.left-he.clientLeft,Ae.clientY-Nt.top-he.clientTop]}function Ye(){return l.event.changedTouches[0].identifier}l.touch=function(he,Ae,Ge){if(arguments.length<3&&(Ge=Ae,Ae=pe().changedTouches),Ae)for(var ht,it=0,at=Ae.length;it<at;++it)if((ht=Ae[it]).identifier===Ge)return He(he,ht)},l.behavior.drag=function(){var he=te(at,"drag","dragstart","dragend"),Ae=null,Ge=ht(Y,l.mouse,r,"mousemove","mouseup"),it=ht(Ye,l.touch,V,"touchmove","touchend");function at(){this.on("mousedown.drag",Ge).on("touchstart.drag",it)}function ht(Nt,Dt,Yt,sr,fr){return function(){var mn,Fr=l.event.target.correspondingElement||l.event.target,fn=this.parentNode,yn=he.of(this,arguments),Hr=0,Wr=Nt(),qr=".drag"+(null==Wr?"":"-"+Wr),rn=l.select(Yt(Fr)).on(sr+qr,function Ei(){var Ii,zi,Di=Dt(fn,Wr);Di&&(Hr|=(Ii=Di[0]-ei[0])|(zi=Di[1]-ei[1]),ei=Di,yn({type:"drag",x:Di[0]+mn[0],y:Di[1]+mn[1],dx:Ii,dy:zi}))}).on(fr+qr,function ki(){Dt(fn,Wr)&&(rn.on(sr+qr,null).on(fr+qr,null),on(Hr),yn({type:"dragend"}))}),on=Re(Fr),ei=Dt(fn,Wr);mn=Ae?[(mn=Ae.apply(this,arguments)).x-ei[0],mn.y-ei[1]]:[0,0],yn({type:"dragstart"})}}return at.origin=function(Nt){return arguments.length?(Ae=Nt,at):Ae},l.rebind(at,he,"on")},l.touches=function(he,Ae){return arguments.length<2&&(Ae=pe().touches),Ae?I(Ae).map(function(Ge){var it=He(he,Ge);return it.identifier=Ge.identifier,it}):[]};var Ue=1e-6,De=Ue*Ue,ge=Math.PI,Te=2*ge,_e=Te-Ue,et=ge/2,ft=ge/180,gt=180/ge;function ir(he,Ae,Ge){return(Ae[0]-he[0])*(Ge[1]-he[1])-(Ae[1]-he[1])*(Ge[0]-he[0])}function Ut(he){return he>1?et:he<-1?-et:Math.asin(he)}function Cr(he){return((he=Math.exp(he))+1/he)/2}var rr=Math.SQRT2;l.interpolateZoom=function(he,Ae){var zr,Fr,Ge=he[0],it=he[1],at=he[2],Dt=Ae[2],Yt=Ae[0]-Ge,sr=Ae[1]-it,fr=Yt*Yt+sr*sr;if(fr<De)Fr=Math.log(Dt/at)/rr,zr=function(mn){return[Ge+mn*Yt,it+mn*sr,at*Math.exp(rr*mn*Fr)]};else{var fn=Math.sqrt(fr),yn=(Dt*Dt-at*at+4*fr)/(2*at*2*fn),Hr=(Dt*Dt-at*at-4*fr)/(2*Dt*2*fn),Wr=Math.log(Math.sqrt(yn*yn+1)-yn),qr=Math.log(Math.sqrt(Hr*Hr+1)-Hr);Fr=(qr-Wr)/rr,zr=function(mn){var rn=mn*Fr,on=Cr(Wr),ei=at/(2*fn)*(on*function wt(he){return((he=Math.exp(2*he))-1)/(he+1)}(rr*rn+Wr)-function Qt(he){return((he=Math.exp(he))-1/he)/2}(Wr));return[Ge+ei*Yt,it+ei*sr,at*on/Cr(rr*rn+Wr)]}}return zr.duration=1e3*Fr,zr},l.behavior.zoom=function(){var Ae,Ge,it,zr,fn,Hr,Wr,qr,mn,he={x:0,y:0,k:1},at=[960,500],ht=bt,Nt=250,Dt=0,Yt="mousedown.zoom",sr="mousemove.zoom",fr="mouseup.zoom",Fr="touchstart.zoom",yn=te(rn,"zoomstart","zoom","zoomend");function rn(Kn){Kn.on(Yt,ea).on(At+".zoom",co).on("dblclick.zoom",Gn).on(Fr,Ta)}function on(Kn){return[(Kn[0]-he.x)/he.k,(Kn[1]-he.y)/he.k]}function Ei(Kn){he.k=Math.max(ht[0],Math.min(ht[1],Kn))}function ki(Kn,ta){ta=function ei(Kn){return[Kn[0]*he.k+he.x,Kn[1]*he.k+he.y]}(ta),he.x+=Kn[0]-ta[0],he.y+=Kn[1]-ta[1]}function Di(Kn,ta,qi,ai){Kn.__chart__={x:he.x,y:he.y,k:he.k},Ei(Math.pow(2,ai)),ki(Ge=ta,qi),Kn=l.select(Kn),Nt>0&&(Kn=Kn.transition().duration(Nt)),Kn.call(rn.event)}function Ii(){Wr&&Wr.domain(Hr.range().map(function(Kn){return(Kn-he.x)/he.k}).map(Hr.invert)),mn&&mn.domain(qr.range().map(function(Kn){return(Kn-he.y)/he.k}).map(qr.invert))}function zi(Kn){Dt++||Kn({type:"zoomstart"})}function Gi(Kn){Ii(),Kn({type:"zoom",scale:he.k,translate:[he.x,he.y]})}function _i(Kn){--Dt||(Kn({type:"zoomend"}),Ge=null)}function ea(){var Kn=this,ta=yn.of(Kn,arguments),qi=0,ai=l.select(r(Kn)).on(sr,function za(){qi=1,ki(l.mouse(Kn),Ni),Gi(ta)}).on(fr,function ho(){ai.on(sr,null).on(fr,null),ka(qi),_i(ta)}),Ni=on(l.mouse(Kn)),ka=Re(Kn);_r.call(Kn),zi(ta)}function Ta(){var Ni,Kn=this,ta=yn.of(Kn,arguments),qi={},ai=0,ka=".zoom-"+l.event.changedTouches[0].identifier,za="touchmove"+ka,ho="touchend"+ka,Ba=[],zo=l.select(Kn),Bo=Re(Kn);function Jo(){var ga=l.touches(Kn);return Ni=he.k,ga.forEach(function(xa){xa.identifier in qi&&(qi[xa.identifier]=on(xa))}),ga}function ya(){var ga=l.event.target;l.select(ga).on(za,Hs).on(ho,cu),Ba.push(ga);for(var xa=l.event.changedTouches,Ll=0,$s=xa.length;Ll<$s;++Ll)qi[xa[Ll].identifier]=null;var Is=Jo(),cl=Date.now();if(1===Is.length)cl-fn<500&&(Di(Kn,Qs=Is[0],qi[Qs.identifier],Math.floor(Math.log(he.k)/Math.LN2)+1),ce()),fn=cl;else if(Is.length>1){var Qs,hl=Is[1],ns=(Qs=Is[0])[0]-hl[0],Xl=Qs[1]-hl[1];ai=ns*ns+Xl*Xl}}function Hs(){var xa,Ll,$s,Is,ga=l.touches(Kn);_r.call(Kn);for(var cl=0,Qs=ga.length;cl<Qs;++cl,Is=null)if(Is=qi[($s=ga[cl]).identifier]){if(Ll)break;xa=$s,Ll=Is}if(Is){var hl=(hl=$s[0]-xa[0])*hl+(hl=$s[1]-xa[1])*hl,ns=ai&&Math.sqrt(hl/ai);xa=[(xa[0]+$s[0])/2,(xa[1]+$s[1])/2],Ll=[(Ll[0]+Is[0])/2,(Ll[1]+Is[1])/2],Ei(ns*Ni)}fn=null,ki(xa,Ll),Gi(ta)}function cu(){if(l.event.touches.length){for(var ga=l.event.changedTouches,xa=0,Ll=ga.length;xa<Ll;++xa)delete qi[ga[xa].identifier];for(var $s in qi)return void Jo()}l.selectAll(Ba).on(ka,null),zo.on(Yt,ea).on(Fr,Ta),Bo(),_i(ta)}ya(),zi(ta),zo.on(Yt,null).on(Fr,ya)}function co(){var Kn=yn.of(this,arguments);zr?clearTimeout(zr):(_r.call(this),Ae=on(Ge=it||l.mouse(this)),zi(Kn)),zr=setTimeout(function(){zr=null,_i(Kn)},50),ce(),Ei(Math.pow(2,.002*ct())*he.k),ki(Ge,Ae),Gi(Kn)}function Gn(){var Kn=l.mouse(this),ta=Math.log(he.k)/Math.LN2;Di(this,Kn,on(Kn),l.event.shiftKey?Math.ceil(ta)-1:Math.floor(ta)+1)}return At||(At="onwheel"in v?(ct=function(){return-l.event.deltaY*(l.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(ct=function(){return l.event.wheelDelta},"mousewheel"):(ct=function(){return-l.event.detail},"MozMousePixelScroll")),rn.event=function(Kn){Kn.each(function(){var ta=yn.of(this,arguments),qi=he;ti?l.select(this).transition().each("start.zoom",function(){he=this.__chart__||{x:0,y:0,k:1},zi(ta)}).tween("zoom:zoom",function(){var ai=at[0],ka=Ge?Ge[0]:ai/2,za=Ge?Ge[1]:at[1]/2,ho=l.interpolateZoom([(ka-he.x)/he.k,(za-he.y)/he.k,ai/he.k],[(ka-qi.x)/qi.k,(za-qi.y)/qi.k,ai/qi.k]);return function(Ba){var zo=ho(Ba),Bo=ai/zo[2];this.__chart__=he={x:ka-zo[0]*Bo,y:za-zo[1]*Bo,k:Bo},Gi(ta)}}).each("interrupt.zoom",function(){_i(ta)}).each("end.zoom",function(){_i(ta)}):(this.__chart__=he,zi(ta),Gi(ta),_i(ta))})},rn.translate=function(Kn){return arguments.length?(he={x:+Kn[0],y:+Kn[1],k:he.k},Ii(),rn):[he.x,he.y]},rn.scale=function(Kn){return arguments.length?(he={x:he.x,y:he.y,k:null},Ei(+Kn),Ii(),rn):he.k},rn.scaleExtent=function(Kn){return arguments.length?(ht=null==Kn?bt:[+Kn[0],+Kn[1]],rn):ht},rn.center=function(Kn){return arguments.length?(it=Kn&&[+Kn[0],+Kn[1]],rn):it},rn.size=function(Kn){return arguments.length?(at=Kn&&[+Kn[0],+Kn[1]],rn):at},rn.duration=function(Kn){return arguments.length?(Nt=+Kn,rn):Nt},rn.x=function(Kn){return arguments.length?(Wr=Kn,Hr=Kn.copy(),he={x:0,y:0,k:1},rn):Wr},rn.y=function(Kn){return arguments.length?(mn=Kn,qr=Kn.copy(),he={x:0,y:0,k:1},rn):mn},l.rebind(rn,yn,"on")};var ct,At,bt=[0,1/0];function It(){}function Ft(he,Ae,Ge){return this instanceof Ft?(this.h=+he,this.s=+Ae,void(this.l=+Ge)):arguments.length<2?he instanceof Ft?new Ft(he.h,he.s,he.l):Nr(""+he,Yr,Ft):new Ft(he,Ae,Ge)}l.color=It,It.prototype.toString=function(){return this.rgb()+""},l.hsl=Ft;var Rt=Ft.prototype=new It;function Gt(he,Ae,Ge){var it,at;function Nt(Dt){return Math.round(255*function ht(Dt){return Dt>360?Dt-=360:Dt<0&&(Dt+=360),Dt<60?it+(at-it)*Dt/60:Dt<180?at:Dt<240?it+(at-it)*(240-Dt)/60:it}(Dt))}return he=isNaN(he)?0:(he%=360)<0?he+360:he,Ae=isNaN(Ae)||Ae<0?0:Ae>1?1:Ae,it=2*(Ge=Ge<0?0:Ge>1?1:Ge)-(at=Ge<=.5?Ge*(1+Ae):Ge+Ae-Ge*Ae),new pr(Nt(he+120),Nt(he),Nt(he-120))}function jt(he,Ae,Ge){return this instanceof jt?(this.h=+he,this.c=+Ae,void(this.l=+Ge)):arguments.length<2?he instanceof jt?new jt(he.h,he.c,he.l):function ur(he,Ae,Ge){return he>0?new jt(Math.atan2(Ge,Ae)*gt,Math.sqrt(Ae*Ae+Ge*Ge),he):new jt(NaN,NaN,he)}(he instanceof hr?he.l:(he=$r((he=l.rgb(he)).r,he.g,he.b)).l,he.a,he.b):new jt(he,Ae,Ge)}Rt.brighter=function(he){return he=Math.pow(.7,arguments.length?he:1),new Ft(this.h,this.s,this.l/he)},Rt.darker=function(he){return he=Math.pow(.7,arguments.length?he:1),new Ft(this.h,this.s,he*this.l)},Rt.rgb=function(){return Gt(this.h,this.s,this.l)},l.hcl=jt;var er=jt.prototype=new It;function dr(he,Ae,Ge){return isNaN(he)&&(he=0),isNaN(Ae)&&(Ae=0),new hr(Ge,Math.cos(he*=ft)*Ae,Math.sin(he)*Ae)}function hr(he,Ae,Ge){return this instanceof hr?(this.l=+he,this.a=+Ae,void(this.b=+Ge)):arguments.length<2?he instanceof hr?new hr(he.l,he.a,he.b):he instanceof jt?dr(he.h,he.c,he.l):$r((he=pr(he)).r,he.g,he.b):new hr(he,Ae,Ge)}er.brighter=function(he){return new jt(this.h,this.c,Math.min(100,this.l+wr*(arguments.length?he:1)))},er.darker=function(he){return new jt(this.h,this.c,Math.max(0,this.l-wr*(arguments.length?he:1)))},er.rgb=function(){return dr(this.h,this.c,this.l).rgb()},l.lab=hr;var wr=18,$e=.95047,Ze=1,zt=1.08883,kt=hr.prototype=new It;function Xt(he,Ae,Ge){var it=(he+16)/116,at=it+Ae/500,ht=it-Ge/200;return new pr(Ht(3.2404542*(at=vr(at)*$e)-1.5371385*(it=vr(it)*Ze)-.4985314*(ht=vr(ht)*zt)),Ht(-.969266*at+1.8760108*it+.041556*ht),Ht(.0556434*at-.2040259*it+1.0572252*ht))}function vr(he){return he>.206893034?he*he*he:(he-.13793103448275862)/7.787037}function or(he){return he>.008856?Math.pow(he,.3333333333333333):7.787037*he+.13793103448275862}function Ht(he){return Math.round(255*(he<=.00304?12.92*he:1.055*Math.pow(he,.4166666666666667)-.055))}function pr(he,Ae,Ge){return this instanceof pr?(this.r=~~he,this.g=~~Ae,void(this.b=~~Ge)):arguments.length<2?he instanceof pr?new pr(he.r,he.g,he.b):Nr(""+he,pr,Gt):new pr(he,Ae,Ge)}function xr(he){return new pr(he>>16,he>>8&255,255&he)}function Mr(he){return xr(he)+""}kt.brighter=function(he){return new hr(Math.min(100,this.l+wr*(arguments.length?he:1)),this.a,this.b)},kt.darker=function(he){return new hr(Math.max(0,this.l-wr*(arguments.length?he:1)),this.a,this.b)},kt.rgb=function(){return Xt(this.l,this.a,this.b)},l.rgb=pr;var kr=pr.prototype=new It;function un(he){return he<16?"0"+Math.max(0,he).toString(16):Math.min(255,he).toString(16)}function Nr(he,Ae,Ge){var Nt,Dt,Yt,it=0,at=0,ht=0;if(Nt=/([a-z]+)\((.*)\)/.exec(he=he.toLowerCase()))switch(Dt=Nt[2].split(","),Nt[1]){case"hsl":return Ge(parseFloat(Dt[0]),parseFloat(Dt[1])/100,parseFloat(Dt[2])/100);case"rgb":return Ae(Wn(Dt[0]),Wn(Dt[1]),Wn(Dt[2]))}return(Yt=An.get(he))?Ae(Yt.r,Yt.g,Yt.b):(null!=he&&"#"===he.charAt(0)&&!isNaN(Yt=parseInt(he.slice(1),16))&&(4===he.length?(it=(3840&Yt)>>4,it|=it>>4,at=240&Yt,at|=at>>4,ht=15&Yt,ht|=ht<<4):7===he.length&&(it=(16711680&Yt)>>16,at=(65280&Yt)>>8,ht=255&Yt)),Ae(it,at,ht))}function Yr(he,Ae,Ge){var Nt,Dt,it=Math.min(he/=255,Ae/=255,Ge/=255),at=Math.max(he,Ae,Ge),ht=at-it,Yt=(at+it)/2;return ht?(Dt=Yt<.5?ht/(at+it):ht/(2-at-it),Nt=he==at?(Ae-Ge)/ht+(Ae<Ge?6:0):Ae==at?(Ge-he)/ht+2:(he-Ae)/ht+4,Nt*=60):(Nt=NaN,Dt=Yt>0&&Yt<1?0:Nt),new Ft(Nt,Dt,Yt)}function $r(he,Ae,Ge){var it=or((.4124564*(he=Qr(he))+.3575761*(Ae=Qr(Ae))+.1804375*(Ge=Qr(Ge)))/$e),at=or((.2126729*he+.7151522*Ae+.072175*Ge)/Ze);return hr(116*at-16,500*(it-at),200*(at-or((.0193339*he+.119192*Ae+.9503041*Ge)/zt)))}function Qr(he){return(he/=255)<=.04045?he/12.92:Math.pow((he+.055)/1.055,2.4)}function Wn(he){var Ae=parseFloat(he);return"%"===he.charAt(he.length-1)?Math.round(2.55*Ae):Ae}kr.brighter=function(he){he=Math.pow(.7,arguments.length?he:1);var Ae=this.r,Ge=this.g,it=this.b;return Ae||Ge||it?(Ae&&Ae<30&&(Ae=30),Ge&&Ge<30&&(Ge=30),it&&it<30&&(it=30),new pr(Math.min(255,Ae/he),Math.min(255,Ge/he),Math.min(255,it/he))):new pr(30,30,30)},kr.darker=function(he){return new pr((he=Math.pow(.7,arguments.length?he:1))*this.r,he*this.g,he*this.b)},kr.hsl=function(){return Yr(this.r,this.g,this.b)},kr.toString=function(){return"#"+un(this.r)+un(this.g)+un(this.b)};var An=l.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Tr(he){return"function"==typeof he?he:function(){return he}}function nr(he){return function(Ae,Ge,it){return 2===arguments.length&&"function"==typeof Ge&&(it=Ge,Ge=null),Xr(Ae,Ge,he,it)}}function Xr(he,Ae,Ge,it){var at={},ht=l.dispatch("beforesend","progress","load","error"),Nt={},Dt=new XMLHttpRequest,Yt=null;function sr(){var zr,fr=Dt.status;if(!fr&&function an(he){var Ae=he.responseType;return Ae&&"text"!==Ae?he.response:he.responseText}(Dt)||fr>=200&&fr<300||304===fr){try{zr=Ge.call(at,Dt)}catch(Fr){return void ht.error.call(at,Fr)}ht.load.call(at,zr)}else ht.error.call(at,Dt)}return self.XDomainRequest&&!("withCredentials"in Dt)&&/^(http(s)?:)?\/\//.test(he)&&(Dt=new XDomainRequest),"onload"in Dt?Dt.onload=Dt.onerror=sr:Dt.onreadystatechange=function(){Dt.readyState>3&&sr()},Dt.onprogress=function(fr){var zr=l.event;l.event=fr;try{ht.progress.call(at,Dt)}finally{l.event=zr}},at.header=function(fr,zr){return fr=(fr+"").toLowerCase(),arguments.length<2?Nt[fr]:(null==zr?delete Nt[fr]:Nt[fr]=zr+"",at)},at.mimeType=function(fr){return arguments.length?(Ae=null==fr?null:fr+"",at):Ae},at.responseType=function(fr){return arguments.length?(Yt=fr,at):Yt},at.response=function(fr){return Ge=fr,at},["get","post"].forEach(function(fr){at[fr]=function(){return at.send.apply(at,[fr].concat(I(arguments)))}}),at.send=function(fr,zr,Fr){if(2===arguments.length&&"function"==typeof zr&&(Fr=zr,zr=null),Dt.open(fr,he,!0),null!=Ae&&!("accept"in Nt)&&(Nt.accept=Ae+",*/*"),Dt.setRequestHeader)for(var fn in Nt)Dt.setRequestHeader(fn,Nt[fn]);return null!=Ae&&Dt.overrideMimeType&&Dt.overrideMimeType(Ae),null!=Yt&&(Dt.responseType=Yt),null!=Fr&&at.on("error",Fr).on("load",function(yn){Fr(null,yn)}),ht.beforesend.call(at,Dt),Dt.send(zr??null),at},at.abort=function(){return Dt.abort(),at},l.rebind(at,ht,"on"),null==it?at:at.get(function Ur(he){return 1===he.length?function(Ae,Ge){he(null==Ae?Ge:null)}:he}(it))}An.forEach(function(he,Ae){An.set(he,xr(Ae))}),l.functor=Tr,l.xhr=nr(V),l.dsv=function(he,Ae){var Ge=new RegExp('["'+he+"\n]"),it=he.charCodeAt(0);function at(sr,fr,zr){arguments.length<3&&(zr=fr,fr=null);var Fr=Xr(sr,Ae,null==fr?ht:Nt(fr),zr);return Fr.row=function(fn){return arguments.length?Fr.response(null==(fr=fn)?ht:Nt(fn)):fr},Fr}function ht(sr){return at.parse(sr.responseText)}function Nt(sr){return function(fr){return at.parse(fr.responseText,sr)}}function Dt(sr){return sr.map(Yt).join(he)}function Yt(sr){return Ge.test(sr)?'"'+sr.replace(/\"/g,'""')+'"':sr}return at.parse=function(sr,fr){var zr;return at.parseRows(sr,function(Fr,fn){if(zr)return zr(Fr,fn-1);var yn=function(Hr){for(var Wr={},qr=Fr.length,mn=0;mn<qr;++mn)Wr[Fr[mn]]=Hr[mn];return Wr};zr=fr?function(Hr,Wr){return fr(yn(Hr),Wr)}:yn})},at.parseRows=function(sr,fr){var qr,mn,zr={},Fr={},fn=[],yn=sr.length,Hr=0,Wr=0;function rn(){if(Hr>=yn)return Fr;if(mn)return mn=!1,zr;var ei=Hr;if(34===sr.charCodeAt(ei)){for(var Ei=ei;Ei++<yn;)if(34===sr.charCodeAt(Ei)){if(34!==sr.charCodeAt(Ei+1))break;++Ei}return Hr=Ei+2,13===(ki=sr.charCodeAt(Ei+1))?(mn=!0,10===sr.charCodeAt(Ei+2)&&++Hr):10===ki&&(mn=!0),sr.slice(ei+1,Ei).replace(/""/g,'"')}for(;Hr<yn;){var ki,Di=1;if(10===(ki=sr.charCodeAt(Hr++)))mn=!0;else if(13===ki)mn=!0,10===sr.charCodeAt(Hr)&&(++Hr,++Di);else if(ki!==it)continue;return sr.slice(ei,Hr-Di)}return sr.slice(ei)}for(;(qr=rn())!==Fr;){for(var on=[];qr!==zr&&qr!==Fr;)on.push(qr),qr=rn();fr&&null==(on=fr(on,Wr++))||fn.push(on)}return fn},at.format=function(sr){if(Array.isArray(sr[0]))return at.formatRows(sr);var fr=new z,zr=[];return sr.forEach(function(Fr){for(var fn in Fr)fr.has(fn)||zr.push(fr.add(fn))}),[zr.map(Yt).join(he)].concat(sr.map(function(Fr){return zr.map(function(fn){return Yt(Fr[fn])}).join(he)})).join("\n")},at.formatRows=function(sr){return sr.map(Dt).join("\n")},at},l.csv=l.dsv(",","text/csv"),l.tsv=l.dsv("\t","text/tab-separated-values");var Cn,En,Fn,Vn,vi=this[U(this,"requestAnimationFrame")]||function(he){setTimeout(he,17)};function li(he,Ae,Ge){var it=arguments.length;it<2&&(Ae=0),it<3&&(Ge=Date.now());var ht={c:he,t:Ge+Ae,n:null};return En?En.n=ht:Cn=ht,En=ht,Fn||(Vn=clearTimeout(Vn),Fn=1,vi(bi)),ht}function bi(){var he=si(),Ae=hi()-he;Ae>24?(isFinite(Ae)&&(clearTimeout(Vn),Vn=setTimeout(bi,Ae)),Fn=0):(Fn=1,vi(bi))}function si(){for(var he=Date.now(),Ae=Cn;Ae;)he>=Ae.t&&Ae.c(he-Ae.t)&&(Ae.c=null),Ae=Ae.n;return he}function hi(){for(var he,Ae=Cn,Ge=1/0;Ae;)Ae.c?(Ae.t<Ge&&(Ge=Ae.t),Ae=(he=Ae).n):Ae=he?he.n=Ae.n:Cn=Ae.n;return En=he,Ge}function Ir(he){return he[0]}function gn(he){return he[1]}function pn(he){for(var Ae=he.length,Ge=[0,1],it=2,at=2;at<Ae;at++){for(;it>1&&ir(he[Ge[it-2]],he[Ge[it-1]],he[at])<=0;)--it;Ge[it++]=at}return Ge.slice(0,it)}function Dn(he,Ae){return he[0]-Ae[0]||he[1]-Ae[1]}l.timer=function(){li.apply(this,arguments)},l.timer.flush=function(){si(),hi()},l.round=function(he,Ae){return Ae?Math.round(he*(Ae=Math.pow(10,Ae)))/Ae:Math.round(he)},l.geom={},l.geom.hull=function(he){var Ae=Ir,Ge=gn;if(arguments.length)return it(he);function it(at){if(at.length<3)return[];var Dt,ht=Tr(Ae),Nt=Tr(Ge),Yt=at.length,sr=[],fr=[];for(Dt=0;Dt<Yt;Dt++)sr.push([+ht.call(this,at[Dt],Dt),+Nt.call(this,at[Dt],Dt),Dt]);for(sr.sort(Dn),Dt=0;Dt<Yt;Dt++)fr.push([sr[Dt][0],-sr[Dt][1]]);var zr=pn(sr),Fr=pn(fr),fn=Fr[0]===zr[0],yn=Fr[Fr.length-1]===zr[zr.length-1],Hr=[];for(Dt=zr.length-1;Dt>=0;--Dt)Hr.push(at[sr[zr[Dt]][2]]);for(Dt=+fn;Dt<Fr.length-yn;++Dt)Hr.push(at[sr[Fr[Dt]][2]]);return Hr}return it.x=function(at){return arguments.length?(Ae=at,it):Ae},it.y=function(at){return arguments.length?(Ge=at,it):Ge},it},l.geom.polygon=function(he){return K(he,qn),he};var qn=l.geom.polygon.prototype=[];function Nn(he,Ae,Ge){return(Ge[0]-Ae[0])*(he[1]-Ae[1])<(Ge[1]-Ae[1])*(he[0]-Ae[0])}function zn(he,Ae,Ge,it){var at=he[0],ht=Ge[0],Nt=Ae[0]-at,Dt=it[0]-ht,Yt=he[1],sr=Ge[1],fr=Ae[1]-Yt,zr=it[1]-sr,Fr=(Dt*(Yt-sr)-zr*(at-ht))/(zr*Nt-Dt*fr);return[at+Fr*Nt,Yt+Fr*fr]}function Qn(he){var Ae=he[0],Ge=he[he.length-1];return!(Ae[0]-Ge[0]||Ae[1]-Ge[1])}qn.area=function(){for(var Ge,he=-1,Ae=this.length,it=this[Ae-1],at=0;++he<Ae;)at+=(Ge=it)[1]*(it=this[he])[0]-Ge[0]*it[1];return.5*at},qn.centroid=function(he){var ht,Dt,Ae=-1,Ge=this.length,it=0,at=0,Nt=this[Ge-1];for(arguments.length||(he=-1/(6*this.area()));++Ae<Ge;)it+=((ht=Nt)[0]+(Nt=this[Ae])[0])*(Dt=ht[0]*Nt[1]-Nt[0]*ht[1]),at+=(ht[1]+Nt[1])*Dt;return[it*he,at*he]},qn.clip=function(he){for(var Ae,ht,Nt,Yt,sr,fr,Ge=Qn(he),it=-1,at=this.length-Qn(this),Dt=this[at-1];++it<at;){for(Ae=he.slice(),he.length=0,Yt=this[it],sr=Ae[(Nt=Ae.length-Ge)-1],ht=-1;++ht<Nt;)Nn(fr=Ae[ht],Dt,Yt)?(Nn(sr,Dt,Yt)||he.push(zn(sr,fr,Dt,Yt)),he.push(fr)):Nn(sr,Dt,Yt)&&he.push(zn(sr,fr,Dt,Yt)),sr=fr;Ge&&he.push(he[0]),Dt=Yt}return he};var ii,$n,ha,Pr,jr,qt=[],bn=[];function vn(){Cs(this),this.edge=this.site=this.circle=null}function Bn(he){var Ae=qt.pop()||new vn;return Ae.site=he,Ae}function In(he){gi(he),ha.remove(he),qt.push(he),Cs(he)}function Tn(he){var Ae=he.circle,Ge=Ae.x,it=Ae.cy,at={x:Ge,y:it},ht=he.P,Nt=he.N,Dt=[he];In(he);for(var Yt=ht;Yt.circle&&g(Ge-Yt.circle.x)<Ue&&g(it-Yt.circle.cy)<Ue;)ht=Yt.P,Dt.unshift(Yt),In(Yt),Yt=ht;Dt.unshift(Yt),gi(Yt);for(var sr=Nt;sr.circle&&g(Ge-sr.circle.x)<Ue&&g(it-sr.circle.cy)<Ue;)Nt=sr.N,Dt.push(sr),In(sr),sr=Nt;Dt.push(sr),gi(sr);var zr,fr=Dt.length;for(zr=1;zr<fr;++zr)os((sr=Dt[zr]).edge,(Yt=Dt[zr-1]).site,sr.site,at);(sr=Dt[fr-1]).edge=Vo((Yt=Dt[0]).site,sr.site,null,at),_n(Yt),_n(sr)}function Br(he){for(var it,at,ht,Nt,Ae=he.x,Ge=he.y,Dt=ha._;Dt;)if((ht=Or(Dt,Ge)-Ae)>Ue)Dt=Dt.L;else{if(!((Nt=Ae-Gr(Dt,Ge))>Ue)){ht>-Ue?(it=Dt.P,at=Dt):Nt>-Ue?(it=Dt,at=Dt.N):it=at=Dt;break}if(!Dt.R){it=Dt;break}Dt=Dt.R}var Yt=Bn(he);if(ha.insert(it,Yt),it||at){if(it===at)return gi(it),at=Bn(it.site),ha.insert(Yt,at),Yt.edge=at.edge=Vo(it.site,Yt.site),_n(it),void _n(at);if(!at)return void(Yt.edge=Vo(it.site,Yt.site));gi(it),gi(at);var sr=it.site,fr=sr.x,zr=sr.y,Fr=he.x-fr,fn=he.y-zr,yn=at.site,Hr=yn.x-fr,Wr=yn.y-zr,qr=2*(Fr*Wr-fn*Hr),mn=Fr*Fr+fn*fn,rn=Hr*Hr+Wr*Wr,on={x:(Wr*mn-fn*rn)/qr+fr,y:(Fr*rn-Hr*mn)/qr+zr};os(at.edge,sr,yn,on),Yt.edge=Vo(sr,he,null,on),at.edge=Vo(he,yn,null,on),_n(it),_n(at)}}function Or(he,Ae){var Ge=he.site,it=Ge.x,at=Ge.y,ht=at-Ae;if(!ht)return it;var Nt=he.P;if(!Nt)return-1/0;var Dt=(Ge=Nt.site).x,Yt=Ge.y,sr=Yt-Ae;if(!sr)return Dt;var fr=Dt-it,zr=1/ht-1/sr,Fr=fr/sr;return zr?(-Fr+Math.sqrt(Fr*Fr-2*zr*(fr*fr/(-2*sr)-Yt+sr/2+at-ht/2)))/zr+it:(it+Dt)/2}function Gr(he,Ae){var Ge=he.N;if(Ge)return Or(Ge,Ae);var it=he.site;return it.y===Ae?it.x:1/0}function Mn(he){this.site=he,this.edges=[]}function fi(he,Ae){return Ae.angle-he.angle}function dn(){Cs(this),this.x=this.y=this.arc=this.site=this.cy=null}function _n(he){var Ae=he.P,Ge=he.N;if(Ae&&Ge){var it=Ae.site,at=he.site,ht=Ge.site;if(it!==ht){var Nt=at.x,Dt=at.y,Yt=it.x-Nt,sr=it.y-Dt,fr=ht.x-Nt,zr=2*(Yt*(Wr=ht.y-Dt)-sr*fr);if(!(zr>=-De)){var Fr=Yt*Yt+sr*sr,fn=fr*fr+Wr*Wr,yn=(Wr*Fr-sr*fn)/zr,Hr=(Yt*fn-fr*Fr)/zr,Wr=Hr+Dt,qr=bn.pop()||new dn;qr.arc=he,qr.site=at,qr.x=yn+Nt,qr.y=Wr+Math.sqrt(yn*yn+Hr*Hr),qr.cy=Wr,he.circle=qr;for(var mn=null,rn=jr._;rn;)if(qr.y<rn.y||qr.y===rn.y&&qr.x<=rn.x){if(!rn.L){mn=rn.P;break}rn=rn.L}else{if(!rn.R){mn=rn;break}rn=rn.R}jr.insert(mn,qr),mn||(Pr=qr)}}}}function gi(he){var Ae=he.circle;Ae&&(Ae.P||(Pr=Ae.N),jr.remove(Ae),bn.push(Ae),Cs(Ae),he.circle=null)}function Mi(he,Ae){var Ge=he.b;if(Ge)return!0;var Wr,qr,it=he.a,at=Ae[0][0],ht=Ae[1][0],Nt=Ae[0][1],Dt=Ae[1][1],Yt=he.l,sr=he.r,fr=Yt.x,zr=Yt.y,Fr=sr.x,fn=sr.y,yn=(fr+Fr)/2;if(fn===zr){if(yn<at||yn>=ht)return;if(fr>Fr){if(it){if(it.y>=Dt)return}else it={x:yn,y:Nt};Ge={x:yn,y:Dt}}else{if(it){if(it.y<Nt)return}else it={x:yn,y:Dt};Ge={x:yn,y:Nt}}}else if(qr=(zr+fn)/2-(Wr=(fr-Fr)/(fn-zr))*yn,Wr<-1||Wr>1)if(fr>Fr){if(it){if(it.y>=Dt)return}else it={x:(Nt-qr)/Wr,y:Nt};Ge={x:(Dt-qr)/Wr,y:Dt}}else{if(it){if(it.y<Nt)return}else it={x:(Dt-qr)/Wr,y:Dt};Ge={x:(Nt-qr)/Wr,y:Nt}}else if(zr<fn){if(it){if(it.x>=ht)return}else it={x:at,y:Wr*at+qr};Ge={x:ht,y:Wr*ht+qr}}else{if(it){if(it.x<at)return}else it={x:ht,y:Wr*ht+qr};Ge={x:at,y:Wr*at+qr}}return he.a=it,he.b=Ge,!0}function mi(he,Ae){this.l=he,this.r=Ae,this.a=this.b=null}function Vo(he,Ae,Ge,it){var at=new mi(he,Ae);return ii.push(at),Ge&&os(at,he,Ae,Ge),it&&os(at,Ae,he,it),$n[he.i].edges.push(new ss(at,he,Ae)),$n[Ae.i].edges.push(new ss(at,Ae,he)),at}function Os(he,Ae,Ge){var it=new mi(he,null);return it.a=Ae,it.b=Ge,ii.push(it),it}function os(he,Ae,Ge,it){he.a||he.b?he.l===Ge?he.b=it:he.a=it:(he.a=it,he.l=Ae,he.r=Ge)}function ss(he,Ae,Ge){var it=he.a,at=he.b;this.edge=he,this.site=Ae,this.angle=Ge?Math.atan2(Ge.y-Ae.y,Ge.x-Ae.x):he.l===Ae?Math.atan2(at.x-it.x,it.y-at.y):Math.atan2(it.x-at.x,at.y-it.y)}function bu(){this._=null}function Cs(he){he.U=he.C=he.L=he.R=he.P=he.N=null}function La(he,Ae){var Ge=Ae,it=Ae.R,at=Ge.U;at?at.L===Ge?at.L=it:at.R=it:he._=it,it.U=at,Ge.U=it,Ge.R=it.L,Ge.R&&(Ge.R.U=Ge),it.L=Ge}function rl(he,Ae){var Ge=Ae,it=Ae.L,at=Ge.U;at?at.L===Ge?at.L=it:at.R=it:he._=it,it.U=at,Ge.U=it,Ge.L=it.R,Ge.L&&(Ge.L.U=Ge),it.R=Ge}function fc(he){for(;he.L;)he=he.L;return he}function Ho(he,Ae){var it,at,ht,Ge=he.sort(Ns).pop();for(ii=[],$n=new Array(he.length),ha=new bu,jr=new bu;;)if(ht=Pr,Ge&&(!ht||Ge.y<ht.y||Ge.y===ht.y&&Ge.x<ht.x))(Ge.x!==it||Ge.y!==at)&&($n[Ge.i]=new Mn(Ge),Br(Ge),it=Ge.x,at=Ge.y),Ge=he.pop();else{if(!ht)break;Tn(ht.arc)}Ae&&(function Fi(he){for(var at,Ae=ii,Ge=function wi(he,Ae,Ge,it){return function(at){var Hr,ht=at.a,Nt=at.b,Dt=ht.x,Yt=ht.y,zr=0,Fr=1,fn=Nt.x-Dt,yn=Nt.y-Yt;if(Hr=he-Dt,fn||!(Hr>0)){if(Hr/=fn,fn<0){if(Hr<zr)return;Hr<Fr&&(Fr=Hr)}else if(fn>0){if(Hr>Fr)return;Hr>zr&&(zr=Hr)}if(Hr=Ge-Dt,fn||!(Hr<0)){if(Hr/=fn,fn<0){if(Hr>Fr)return;Hr>zr&&(zr=Hr)}else if(fn>0){if(Hr<zr)return;Hr<Fr&&(Fr=Hr)}if(Hr=Ae-Yt,yn||!(Hr>0)){if(Hr/=yn,yn<0){if(Hr<zr)return;Hr<Fr&&(Fr=Hr)}else if(yn>0){if(Hr>Fr)return;Hr>zr&&(zr=Hr)}if(Hr=it-Yt,yn||!(Hr<0)){if(Hr/=yn,yn<0){if(Hr>Fr)return;Hr>zr&&(zr=Hr)}else if(yn>0){if(Hr<zr)return;Hr<Fr&&(Fr=Hr)}return zr>0&&(at.a={x:Dt+zr*fn,y:Yt+zr*yn}),Fr<1&&(at.b={x:Dt+Fr*fn,y:Yt+Fr*yn}),at}}}}}}(he[0][0],he[0][1],he[1][0],he[1][1]),it=Ae.length;it--;)(!Mi(at=Ae[it],he)||!Ge(at)||g(at.a.x-at.b.x)<Ue&&g(at.a.y-at.b.y)<Ue)&&(at.a=at.b=null,Ae.splice(it,1))}(Ae),function Zn(he){for(var ht,Nt,Dt,Yt,zr,Fr,fn,yn,Hr,Wr,Ae=he[0][0],Ge=he[1][0],it=he[0][1],at=he[1][1],sr=$n,fr=sr.length;fr--;)if((zr=sr[fr])&&zr.prepare())for(yn=(fn=zr.edges).length,Fr=0;Fr<yn;)Dt=(Wr=fn[Fr].end()).x,Yt=Wr.y,Nt=(Hr=fn[++Fr%yn].start()).y,(g(Dt-(ht=Hr.x))>Ue||g(Yt-Nt)>Ue)&&(fn.splice(Fr,0,new ss(Os(zr.site,Wr,g(Dt-Ae)<Ue&&at-Yt>Ue?{x:Ae,y:g(ht-Ae)<Ue?Nt:at}:g(Yt-at)<Ue&&Ge-Dt>Ue?{x:g(Nt-at)<Ue?ht:Ge,y:at}:g(Dt-Ge)<Ue&&Yt-it>Ue?{x:Ge,y:g(ht-Ge)<Ue?Nt:it}:g(Yt-it)<Ue&&Dt-Ae>Ue?{x:g(Nt-it)<Ue?ht:Ae,y:it}:null),zr.site,null)),++yn)}(Ae));var Nt={cells:$n,edges:ii};return ha=jr=ii=$n=null,Nt}function Ns(he,Ae){return Ae.y-he.y||Ae.x-he.x}Mn.prototype.prepare=function(){for(var Ge,he=this.edges,Ae=he.length;Ae--;)(!(Ge=he[Ae].edge).b||!Ge.a)&&he.splice(Ae,1);return he.sort(fi),he.length},ss.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},bu.prototype={insert:function(he,Ae){var Ge,it,at;if(he){if(Ae.P=he,Ae.N=he.N,he.N&&(he.N.P=Ae),he.N=Ae,he.R){for(he=he.R;he.L;)he=he.L;he.L=Ae}else he.R=Ae;Ge=he}else this._?(he=fc(this._),Ae.P=null,Ae.N=he,he.P=he.L=Ae,Ge=he):(Ae.P=Ae.N=null,this._=Ae,Ge=null);for(Ae.L=Ae.R=null,Ae.U=Ge,Ae.C=!0,he=Ae;Ge&&Ge.C;)Ge===(it=Ge.U).L?(at=it.R)&&at.C?(Ge.C=at.C=!1,it.C=!0,he=it):(he===Ge.R&&(La(this,Ge),Ge=(he=Ge).U),Ge.C=!1,it.C=!0,rl(this,it)):(at=it.L)&&at.C?(Ge.C=at.C=!1,it.C=!0,he=it):(he===Ge.L&&(rl(this,Ge),Ge=(he=Ge).U),Ge.C=!1,it.C=!0,La(this,it)),Ge=he.U;this._.C=!1},remove:function(he){he.N&&(he.N.P=he.P),he.P&&(he.P.N=he.N),he.N=he.P=null;var Ge,ht,Nt,Ae=he.U,it=he.L,at=he.R;if(ht=it?at?fc(at):it:at,Ae?Ae.L===he?Ae.L=ht:Ae.R=ht:this._=ht,it&&at?(Nt=ht.C,ht.C=he.C,ht.L=it,it.U=ht,ht!==at?(Ae=ht.U,ht.U=he.U,Ae.L=he=ht.R,ht.R=at,at.U=ht):(ht.U=Ae,Ae=ht,he=ht.R)):(Nt=he.C,he=ht),he&&(he.U=Ae),!Nt){if(he&&he.C)return void(he.C=!1);do{if(he===this._)break;if(he===Ae.L){if((Ge=Ae.R).C&&(Ge.C=!1,Ae.C=!0,La(this,Ae),Ge=Ae.R),Ge.L&&Ge.L.C||Ge.R&&Ge.R.C){(!Ge.R||!Ge.R.C)&&(Ge.L.C=!1,Ge.C=!0,rl(this,Ge),Ge=Ae.R),Ge.C=Ae.C,Ae.C=Ge.R.C=!1,La(this,Ae),he=this._;break}}else if((Ge=Ae.L).C&&(Ge.C=!1,Ae.C=!0,rl(this,Ae),Ge=Ae.L),Ge.L&&Ge.L.C||Ge.R&&Ge.R.C){(!Ge.L||!Ge.L.C)&&(Ge.R.C=!1,Ge.C=!0,La(this,Ge),Ge=Ae.L),Ge.C=Ae.C,Ae.C=Ge.L.C=!1,rl(this,Ae),he=this._;break}Ge.C=!0,he=Ae,Ae=Ae.U}while(!he.C);he&&(he.C=!1)}}},l.geom.voronoi=function(he){var Ae=Ir,Ge=gn,it=Ae,at=Ge,ht=Df;if(he)return Nt(he);function Nt(Yt){var sr=new Array(Yt.length),fr=ht[0][0],zr=ht[0][1],Fr=ht[1][0],fn=ht[1][1];return Ho(Dt(Yt),ht).cells.forEach(function(yn,Hr){var Wr=yn.edges,qr=yn.site;(sr[Hr]=Wr.length?Wr.map(function(rn){var on=rn.start();return[on.x,on.y]}):qr.x>=fr&&qr.x<=Fr&&qr.y>=zr&&qr.y<=fn?[[fr,fn],[Fr,fn],[Fr,zr],[fr,zr]]:[]).point=Yt[Hr]}),sr}function Dt(Yt){return Yt.map(function(sr,fr){return{x:Math.round(it(sr,fr)/Ue)*Ue,y:Math.round(at(sr,fr)/Ue)*Ue,i:fr}})}return Nt.links=function(Yt){return Ho(Dt(Yt)).edges.filter(function(sr){return sr.l&&sr.r}).map(function(sr){return{source:Yt[sr.l.i],target:Yt[sr.r.i]}})},Nt.triangles=function(Yt){var sr=[];return Ho(Dt(Yt)).cells.forEach(function(fr,zr){for(var qr,Fr=fr.site,fn=fr.edges.sort(fi),yn=-1,Hr=fn.length,mn=fn[Hr-1].edge,rn=mn.l===Fr?mn.r:mn.l;++yn<Hr;)qr=rn,rn=(mn=fn[yn].edge).l===Fr?mn.r:mn.l,zr<qr.i&&zr<rn.i&&cc(Fr,qr,rn)<0&&sr.push([Yt[zr],Yt[qr.i],Yt[rn.i]])}),sr},Nt.x=function(Yt){return arguments.length?(it=Tr(Ae=Yt),Nt):Ae},Nt.y=function(Yt){return arguments.length?(at=Tr(Ge=Yt),Nt):Ge},Nt.clipExtent=function(Yt){return arguments.length?(ht=Yt??Df,Nt):ht===Df?null:ht},Nt.size=function(Yt){return arguments.length?Nt.clipExtent(Yt&&[[0,0],Yt]):ht===Df?null:ht&&ht[1]},Nt};var Df=[[-1e6,-1e6],[1e6,1e6]];function cc(he,Ae,Ge){return(he.x-Ge.x)*(Ae.y-he.y)-(he.x-Ae.x)*(Ge.y-he.y)}function lo(he){return he.x}function wu(he){return he.y}function To(he,Ae,Ge,it,at,ht){if(!he(Ae,Ge,it,at,ht)){var Nt=.5*(Ge+at),Dt=.5*(it+ht),Yt=Ae.nodes;Yt[0]&&To(he,Yt[0],Ge,it,Nt,Dt),Yt[1]&&To(he,Yt[1],Nt,it,at,Dt),Yt[2]&&To(he,Yt[2],Ge,Dt,Nt,ht),Yt[3]&&To(he,Yt[3],Nt,Dt,at,ht)}}function Go(he,Ae){he=l.rgb(he),Ae=l.rgb(Ae);var Ge=he.r,it=he.g,at=he.b,ht=Ae.r-Ge,Nt=Ae.g-it,Dt=Ae.b-at;return function(Yt){return"#"+un(Math.round(Ge+ht*Yt))+un(Math.round(it+Nt*Yt))+un(Math.round(at+Dt*Yt))}}function nl(he,Ae){var at,Ge={},it={};for(at in he)at in Ae?Ge[at]=Ji(he[at],Ae[at]):it[at]=he[at];for(at in Ae)at in he||(it[at]=Ae[at]);return function(ht){for(at in Ge)it[at]=Ge[at](ht);return it}}function Ao(he,Ae){return he=+he,Ae=+Ae,function(Ge){return he*(1-Ge)+Ae*Ge}}function Hc(he,Ae){var it,at,ht,Ge=po.lastIndex=cf.lastIndex=0,Nt=-1,Dt=[],Yt=[];for(he+="",Ae+="";(it=po.exec(he))&&(at=cf.exec(Ae));)(ht=at.index)>Ge&&(ht=Ae.slice(Ge,ht),Dt[Nt]?Dt[Nt]+=ht:Dt[++Nt]=ht),(it=it[0])===(at=at[0])?Dt[Nt]?Dt[Nt]+=at:Dt[++Nt]=at:(Dt[++Nt]=null,Yt.push({i:Nt,x:Ao(it,at)})),Ge=cf.lastIndex;return Ge<Ae.length&&(ht=Ae.slice(Ge),Dt[Nt]?Dt[Nt]+=ht:Dt[++Nt]=ht),Dt.length<2?Yt[0]?(Ae=Yt[0].x,function(sr){return Ae(sr)+""}):function(){return Ae}:(Ae=Yt.length,function(sr){for(var zr,fr=0;fr<Ae;++fr)Dt[(zr=Yt[fr]).i]=zr.x(sr);return Dt.join("")})}l.geom.delaunay=function(he){return l.geom.voronoi().triangles(he)},l.geom.quadtree=function(he,Ae,Ge,it,at){var Dt,ht=Ir,Nt=gn;if(Dt=arguments.length)return ht=lo,Nt=wu,3===Dt&&(at=Ge,it=Ae,Ge=Ae=0),Yt(he);function Yt(sr){var fr,fn,yn,Hr,Wr,qr,mn,rn,on,zr=Tr(ht),Fr=Tr(Nt);if(null!=Ae)qr=Ae,mn=Ge,rn=it,on=at;else if(rn=on=-(qr=mn=1/0),fn=[],yn=[],Wr=sr.length,Dt)for(Hr=0;Hr<Wr;++Hr)(fr=sr[Hr]).x<qr&&(qr=fr.x),fr.y<mn&&(mn=fr.y),fr.x>rn&&(rn=fr.x),fr.y>on&&(on=fr.y),fn.push(fr.x),yn.push(fr.y);else for(Hr=0;Hr<Wr;++Hr){var ei=+zr(fr=sr[Hr],Hr),Ei=+Fr(fr,Hr);ei<qr&&(qr=ei),Ei<mn&&(mn=Ei),ei>rn&&(rn=ei),Ei>on&&(on=Ei),fn.push(ei),yn.push(Ei)}var ki=rn-qr,Di=on-mn;function Ii(_i,ea,Ta,co,Gn,Kn,ta,qi){if(!isNaN(Ta)&&!isNaN(co))if(_i.leaf){var ai=_i.x,Ni=_i.y;if(null!=ai)if(g(ai-Ta)+g(Ni-co)<.01)zi(_i,ea,Ta,co,Gn,Kn,ta,qi);else{var ka=_i.point;_i.x=_i.y=_i.point=null,zi(_i,ka,ai,Ni,Gn,Kn,ta,qi),zi(_i,ea,Ta,co,Gn,Kn,ta,qi)}else _i.x=Ta,_i.y=co,_i.point=ea}else zi(_i,ea,Ta,co,Gn,Kn,ta,qi)}function zi(_i,ea,Ta,co,Gn,Kn,ta,qi){var ai=.5*(Gn+ta),Ni=.5*(Kn+qi),ka=Ta>=ai,za=co>=Ni,ho=za<<1|ka;_i.leaf=!1,ka?Gn=ai:ta=ai,za?Kn=Ni:qi=Ni,Ii(_i=_i.nodes[ho]||(_i.nodes[ho]={leaf:!0,nodes:[],point:null,x:null,y:null}),ea,Ta,co,Gn,Kn,ta,qi)}ki>Di?on=mn+ki:rn=qr+Di;var Gi={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(_i){Ii(Gi,_i,+zr(_i,++Hr),+Fr(_i,Hr),qr,mn,rn,on)}};if(Gi.visit=function(_i){To(_i,Gi,qr,mn,rn,on)},Gi.find=function(_i){return function hc(he,Ae,Ge,it,at,ht,Nt){var Yt,Dt=1/0;return function sr(fr,zr,Fr,fn,yn){if(!(zr>ht||Fr>Nt||fn<it||yn<at)){if(Hr=fr.point){var Hr,Wr=Ae-fr.x,qr=Ge-fr.y,mn=Wr*Wr+qr*qr;if(mn<Dt){var rn=Math.sqrt(Dt=mn);it=Ae-rn,at=Ge-rn,ht=Ae+rn,Nt=Ge+rn,Yt=Hr}}for(var on=fr.nodes,ei=.5*(zr+fn),Ei=.5*(Fr+yn),Ii=(Ge>=Ei)<<1|Ae>=ei,zi=Ii+4;Ii<zi;++Ii)if(fr=on[3&Ii])switch(3&Ii){case 0:sr(fr,zr,Fr,ei,Ei);break;case 1:sr(fr,ei,Fr,fn,Ei);break;case 2:sr(fr,zr,Ei,ei,yn);break;case 3:sr(fr,ei,Ei,fn,yn)}}}(he,it,at,ht,Nt),Yt}(Gi,_i[0],_i[1],qr,mn,rn,on)},Hr=-1,null==Ae){for(;++Hr<Wr;)Ii(Gi,sr[Hr],fn[Hr],yn[Hr],qr,mn,rn,on);--Hr}else sr.forEach(Gi.add);return fn=yn=sr=fr=null,Gi}return Yt.x=function(sr){return arguments.length?(ht=sr,Yt):ht},Yt.y=function(sr){return arguments.length?(Nt=sr,Yt):Nt},Yt.extent=function(sr){return arguments.length?(null==sr?Ae=Ge=it=at=null:(Ae=+sr[0][0],Ge=+sr[0][1],it=+sr[1][0],at=+sr[1][1]),Yt):null==Ae?null:[[Ae,Ge],[it,at]]},Yt.size=function(sr){return arguments.length?(null==sr?Ae=Ge=it=at=null:(Ae=Ge=0,it=+sr[0],at=+sr[1]),Yt):null==Ae?null:[it-Ae,at-Ge]},Yt},l.interpolateRgb=Go,l.interpolateObject=nl,l.interpolateNumber=Ao,l.interpolateString=Hc;var po=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cf=new RegExp(po.source,"g");function Ji(he,Ae){for(var it,Ge=l.interpolators.length;--Ge>=0&&!(it=l.interpolators[Ge](he,Ae)););return it}function go(he,Ae){var Dt,Ge=[],it=[],at=he.length,ht=Ae.length,Nt=Math.min(he.length,Ae.length);for(Dt=0;Dt<Nt;++Dt)Ge.push(Ji(he[Dt],Ae[Dt]));for(;Dt<at;++Dt)it[Dt]=he[Dt];for(;Dt<ht;++Dt)it[Dt]=Ae[Dt];return function(Yt){for(Dt=0;Dt<Nt;++Dt)it[Dt]=Ge[Dt](Yt);return it}}l.interpolate=Ji,l.interpolators=[function(he,Ae){var Ge=typeof Ae;return("string"===Ge?An.has(Ae.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Ae)?Go:Hc:Ae instanceof It?Go:Array.isArray(Ae)?go:"object"===Ge&&isNaN(Ae)?nl:Ao)(he,Ae)}],l.interpolateArray=go;var Ki=function(){return V},zs=l.map({linear:Ki,poly:function il(he){return function(Ae){return Math.pow(Ae,he)}},quad:function(){return If},cubic:function(){return Al},sin:function(){return Ys},exp:function(){return _a},circle:function(){return Rf},elastic:function Ff(he,Ae){var Ge;return arguments.length<2&&(Ae=.45),arguments.length?Ge=Ae/Te*Math.asin(1/he):(he=1,Ge=Ae/4),function(it){return 1+he*Math.pow(2,-10*it)*Math.sin((it-Ge)*Te/Ae)}},back:function dc(he){return he||(he=1.70158),function(Ae){return Ae*Ae*((he+1)*Ae-he)}},bounce:function(){return _c}}),Tl=l.map({in:V,out:Gc,"in-out":Lf,"out-in":function(he){return Lf(Gc(he))}});function Gc(he){return function(Ae){return 1-he(1-Ae)}}function Lf(he){return function(Ae){return.5*(Ae<.5?he(2*Ae):2-he(2-2*Ae))}}function If(he){return he*he}function Al(he){return he*he*he}function Pf(he){if(he<=0)return 0;if(he>=1)return 1;var Ae=he*he,Ge=Ae*he;return 4*(he<.5?Ge:3*(he-Ae)+Ge-.75)}function Ys(he){return 1-Math.cos(he*et)}function _a(he){return Math.pow(2,10*(he-1))}function Rf(he){return 1-Math.sqrt(1-he*he)}function _c(he){return he<.36363636363636365?7.5625*he*he:he<.7272727272727273?7.5625*(he-=.5454545454545454)*he+.75:he<.9090909090909091?7.5625*(he-=.8181818181818182)*he+.9375:7.5625*(he-=.9545454545454546)*he+.984375}function Tu(he,Ae){return Ae-=he,function(Ge){return Math.round(he+Ae*Ge)}}function tu(he){var Ae=[he.a,he.b],Ge=[he.c,he.d],it=kf(Ae),at=df(Ae,Ge),ht=kf(function ru(he,Ae,Ge){return he[0]+=Ge*Ae[0],he[1]+=Ge*Ae[1],he}(Ge,Ae,-at))||0;Ae[0]*Ge[1]<Ge[0]*Ae[1]&&(Ae[0]*=-1,Ae[1]*=-1,it*=-1,at*=-1),this.rotate=(it?Math.atan2(Ae[1],Ae[0]):Math.atan2(-Ge[0],Ge[1]))*gt,this.translate=[he.e,he.f],this.scale=[it,ht],this.skew=ht?Math.atan2(at,ht)*gt:0}function df(he,Ae){return he[0]*Ae[0]+he[1]*Ae[1]}function kf(he){var Ae=Math.sqrt(df(he,he));return Ae&&(he[0]/=Ae,he[1]/=Ae),Ae}l.ease=function(he){var Ae=he.indexOf("-"),Ge=Ae>=0?he.slice(0,Ae):he,it=Ae>=0?he.slice(Ae+1):"in";return Ge=zs.get(Ge)||Ki,function eu(he){return function(Ae){return Ae<=0?0:Ae>=1?1:he(Ae)}}((it=Tl.get(it)||V)(Ge.apply(null,R.call(arguments,1))))},l.interpolateHcl=function Ml(he,Ae){he=l.hcl(he),Ae=l.hcl(Ae);var Ge=he.h,it=he.c,at=he.l,ht=Ae.h-Ge,Nt=Ae.c-it,Dt=Ae.l-at;return isNaN(Nt)&&(Nt=0,it=isNaN(it)?Ae.c:it),isNaN(ht)?(ht=0,Ge=isNaN(Ge)?Ae.h:Ge):ht>180?ht-=360:ht<-180&&(ht+=360),function(Yt){return dr(Ge+ht*Yt,it+Nt*Yt,at+Dt*Yt)+""}},l.interpolateHsl=function hf(he,Ae){he=l.hsl(he),Ae=l.hsl(Ae);var Ge=he.h,it=he.s,at=he.l,ht=Ae.h-Ge,Nt=Ae.s-it,Dt=Ae.l-at;return isNaN(Nt)&&(Nt=0,it=isNaN(it)?Ae.s:it),isNaN(ht)?(ht=0,Ge=isNaN(Ge)?Ae.h:Ge):ht>180?ht-=360:ht<-180&&(ht+=360),function(Yt){return Gt(Ge+ht*Yt,it+Nt*Yt,at+Dt*Yt)+""}},l.interpolateLab=function Vl(he,Ae){he=l.lab(he),Ae=l.lab(Ae);var Ge=he.l,it=he.a,at=he.b,ht=Ae.l-Ge,Nt=Ae.a-it,Dt=Ae.b-at;return function(Yt){return Xt(Ge+ht*Yt,it+Nt*Yt,at+Dt*Yt)+""}},l.interpolateRound=Tu,l.transform=function(he){var Ae=v.createElementNS(l.ns.prefix.svg,"g");return(l.transform=function(Ge){if(null!=Ge){Ae.setAttribute("transform",Ge);var it=Ae.transform.baseVal.consolidate()}return new tu(it?it.matrix:jc)})(he)},tu.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var jc={a:1,b:0,c:0,d:1,e:0,f:0};function Hl(he){return he.length?he.pop()+",":""}function yo(he,Ae){var Ge=[],it=[];return he=l.transform(he),Ae=l.transform(Ae),function al(he,Ae,Ge,it){if(he[0]!==Ae[0]||he[1]!==Ae[1]){var at=Ge.push("translate(",null,",",null,")");it.push({i:at-4,x:Ao(he[0],Ae[0])},{i:at-2,x:Ao(he[1],Ae[1])})}else(Ae[0]||Ae[1])&&Ge.push("translate("+Ae+")")}(he.translate,Ae.translate,Ge,it),function Gu(he,Ae,Ge,it){he!==Ae?(he-Ae>180?Ae+=360:Ae-he>180&&(he+=360),it.push({i:Ge.push(Hl(Ge)+"rotate(",null,")")-2,x:Ao(he,Ae)})):Ae&&Ge.push(Hl(Ge)+"rotate("+Ae+")")}(he.rotate,Ae.rotate,Ge,it),function Au(he,Ae,Ge,it){he!==Ae?it.push({i:Ge.push(Hl(Ge)+"skewX(",null,")")-2,x:Ao(he,Ae)}):Ae&&Ge.push(Hl(Ge)+"skewX("+Ae+")")}(he.skew,Ae.skew,Ge,it),function Of(he,Ae,Ge,it){if(he[0]!==Ae[0]||he[1]!==Ae[1]){var at=Ge.push(Hl(Ge)+"scale(",null,",",null,")");it.push({i:at-4,x:Ao(he[0],Ae[0])},{i:at-2,x:Ao(he[1],Ae[1])})}else(1!==Ae[0]||1!==Ae[1])&&Ge.push(Hl(Ge)+"scale("+Ae+")")}(he.scale,Ae.scale,Ge,it),he=Ae=null,function(at){for(var Dt,ht=-1,Nt=it.length;++ht<Nt;)Ge[(Dt=it[ht]).i]=Dt.x(at);return Ge.join("")}}function nu(he,Ae){return Ae=(Ae-=he=+he)||1/Ae,function(Ge){return(Ge-he)/Ae}}function Nf(he,Ae){return Ae=(Ae-=he=+he)||1/Ae,function(Ge){return Math.max(0,Math.min(1,(Ge-he)/Ae))}}function zf(he){for(var Ae=he.source,Ge=he.target,it=function Ro(he,Ae){if(he===Ae)return he;for(var Ge=ol(he),it=ol(Ae),at=Ge.pop(),ht=it.pop(),Nt=null;at===ht;)Nt=at,at=Ge.pop(),ht=it.pop();return Nt}(Ae,Ge),at=[Ae];Ae!==it;)at.push(Ae=Ae.parent);for(var ht=at.length;Ge!==it;)at.splice(ht,0,Ge),Ge=Ge.parent;return at}function ol(he){for(var Ae=[],Ge=he.parent;null!=Ge;)Ae.push(he),he=Ge,Ge=Ge.parent;return Ae.push(he),Ae}function vc(he){he.fixed|=2}function Bf(he){he.fixed&=-7}function _u(he){he.fixed|=4,he.px=he.x,he.py=he.y}function Uf(he){he.fixed&=-5}function pc(he,Ae,Ge){var it=0,at=0;if(he.charge=0,!he.leaf)for(var Yt,ht=he.nodes,Nt=ht.length,Dt=-1;++Dt<Nt;)null!=(Yt=ht[Dt])&&(pc(Yt,Ae,Ge),he.charge+=Yt.charge,it+=Yt.charge*Yt.cx,at+=Yt.charge*Yt.cy);if(he.point){he.leaf||(he.point.x+=Math.random()-.5,he.point.y+=Math.random()-.5);var sr=Ae*Ge[he.point.index];he.charge+=he.pointCharge=sr,it+=sr*he.point.x,at+=sr*he.point.y}he.cx=it/he.charge,he.cy=at/he.charge}l.interpolateTransform=yo,l.layout={},l.layout.bundle=function(){return function(he){for(var Ae=[],Ge=-1,it=he.length;++Ge<it;)Ae.push(zf(he[Ge]));return Ae}},l.layout.chord=function(){var Ae,Ge,it,at,Nt,Dt,Yt,he={},ht=0;function sr(){var Hr,Wr,qr,mn,rn,zr={},Fr=[],fn=l.range(at),yn=[];for(Ae=[],Ge=[],Hr=0,mn=-1;++mn<at;){for(Wr=0,rn=-1;++rn<at;)Wr+=it[mn][rn];Fr.push(Wr),yn.push(l.range(at)),Hr+=Wr}for(Nt&&fn.sort(function(Gi,_i){return Nt(Fr[Gi],Fr[_i])}),Dt&&yn.forEach(function(Gi,_i){Gi.sort(function(ea,Ta){return Dt(it[_i][ea],it[_i][Ta])})}),Hr=(Te-ht*at)/Hr,Wr=0,mn=-1;++mn<at;){for(qr=Wr,rn=-1;++rn<at;){var on=fn[mn],ei=yn[on][rn],Ei=it[on][ei],ki=Wr,Di=Wr+=Ei*Hr;zr[on+"-"+ei]={index:on,subindex:ei,startAngle:ki,endAngle:Di,value:Ei}}Ge[on]={index:on,startAngle:qr,endAngle:Wr,value:Fr[on]},Wr+=ht}for(mn=-1;++mn<at;)for(rn=mn-1;++rn<at;){var Ii=zr[mn+"-"+rn],zi=zr[rn+"-"+mn];(Ii.value||zi.value)&&Ae.push(Ii.value<zi.value?{source:zi,target:Ii}:{source:Ii,target:zi})}Yt&&fr()}function fr(){Ae.sort(function(zr,Fr){return Yt((zr.source.value+zr.target.value)/2,(Fr.source.value+Fr.target.value)/2)})}return he.matrix=function(zr){return arguments.length?(at=(it=zr)&&it.length,Ae=Ge=null,he):it},he.padding=function(zr){return arguments.length?(ht=zr,Ae=Ge=null,he):ht},he.sortGroups=function(zr){return arguments.length?(Nt=zr,Ae=Ge=null,he):Nt},he.sortSubgroups=function(zr){return arguments.length?(Dt=zr,Ae=null,he):Dt},he.sortChords=function(zr){return arguments.length?(Yt=zr,Ae&&fr(),he):Yt},he.chords=function(){return Ae||sr(),Ae},he.groups=function(){return Ge||sr(),Ge},he},l.layout.force=function(){var Ge,at,ht,Hr,Wr,qr,he={},Ae=l.dispatch("start","tick","end"),it=[1,1],Nt=.9,Dt=Bs,Yt=Wc,sr=-30,fr=ju,zr=.1,Fr=.64,fn=[],yn=[];function mn(on){return function(ei,Ei,ki,Di){if(ei.point!==on){var ea,Ii=ei.cx-on.x,zi=ei.cy-on.y,Gi=Di-Ei,_i=Ii*Ii+zi*zi;if(Gi*Gi/Fr<_i)return _i<fr&&(on.px-=Ii*(ea=ei.charge/_i),on.py-=zi*ea),!0;ei.point&&_i&&_i<fr&&(on.px-=Ii*(ea=ei.pointCharge/_i),on.py-=zi*ea)}return!ei.charge}}function rn(on){on.px=l.event.x,on.py=l.event.y,he.resume()}return he.tick=function(){if((ht*=.99)<.005)return Ge=null,Ae.end({type:"end",alpha:ht=0}),!0;var Ei,ki,Di,Ii,zi,Gi,_i,ea,Ta,on=fn.length,ei=yn.length;for(ki=0;ki<ei;++ki)(Gi=(ea=(zi=(Di=yn[ki]).target).x-(Ii=Di.source).x)*ea+(Ta=zi.y-Ii.y)*Ta)&&(Ta*=Gi=ht*Wr[ki]*((Gi=Math.sqrt(Gi))-Hr[ki])/Gi,zi.x-=(ea*=Gi)*(_i=Ii.weight+zi.weight?Ii.weight/(Ii.weight+zi.weight):.5),zi.y-=Ta*_i,Ii.x+=ea*(_i=1-_i),Ii.y+=Ta*_i);if((_i=ht*zr)&&(ea=it[0]/2,Ta=it[1]/2,ki=-1,_i))for(;++ki<on;)(Di=fn[ki]).x+=(ea-Di.x)*_i,Di.y+=(Ta-Di.y)*_i;if(sr)for(pc(Ei=l.geom.quadtree(fn),ht,qr),ki=-1;++ki<on;)(Di=fn[ki]).fixed||Ei.visit(mn(Di));for(ki=-1;++ki<on;)(Di=fn[ki]).fixed?(Di.x=Di.px,Di.y=Di.py):(Di.x-=(Di.px-(Di.px=Di.x))*Nt,Di.y-=(Di.py-(Di.py=Di.y))*Nt);Ae.tick({type:"tick",alpha:ht})},he.nodes=function(on){return arguments.length?(fn=on,he):fn},he.links=function(on){return arguments.length?(yn=on,he):yn},he.size=function(on){return arguments.length?(it=on,he):it},he.linkDistance=function(on){return arguments.length?(Dt="function"==typeof on?on:+on,he):Dt},he.distance=he.linkDistance,he.linkStrength=function(on){return arguments.length?(Yt="function"==typeof on?on:+on,he):Yt},he.friction=function(on){return arguments.length?(Nt=+on,he):Nt},he.charge=function(on){return arguments.length?(sr="function"==typeof on?on:+on,he):sr},he.chargeDistance=function(on){return arguments.length?(fr=on*on,he):Math.sqrt(fr)},he.gravity=function(on){return arguments.length?(zr=+on,he):zr},he.theta=function(on){return arguments.length?(Fr=on*on,he):Math.sqrt(Fr)},he.alpha=function(on){return arguments.length?(on=+on,ht?on>0?ht=on:(Ge.c=null,Ge.t=NaN,Ge=null,Ae.end({type:"end",alpha:ht=0})):on>0&&(Ae.start({type:"start",alpha:ht=on}),Ge=li(he.tick)),he):ht},he.start=function(){var on,Ii,zi,ei=fn.length,Ei=yn.length,ki=it[0],Di=it[1];for(on=0;on<ei;++on)(zi=fn[on]).index=on,zi.weight=0;for(on=0;on<Ei;++on)"number"==typeof(zi=yn[on]).source&&(zi.source=fn[zi.source]),"number"==typeof zi.target&&(zi.target=fn[zi.target]),++zi.source.weight,++zi.target.weight;for(on=0;on<ei;++on)zi=fn[on],isNaN(zi.x)&&(zi.x=Gi("x",ki)),isNaN(zi.y)&&(zi.y=Gi("y",Di)),isNaN(zi.px)&&(zi.px=zi.x),isNaN(zi.py)&&(zi.py=zi.y);if(Hr=[],"function"==typeof Dt)for(on=0;on<Ei;++on)Hr[on]=+Dt.call(this,yn[on],on);else for(on=0;on<Ei;++on)Hr[on]=Dt;if(Wr=[],"function"==typeof Yt)for(on=0;on<Ei;++on)Wr[on]=+Yt.call(this,yn[on],on);else for(on=0;on<Ei;++on)Wr[on]=Yt;if(qr=[],"function"==typeof sr)for(on=0;on<ei;++on)qr[on]=+sr.call(this,fn[on],on);else for(on=0;on<ei;++on)qr[on]=sr;function Gi(_i,ea){if(!Ii){for(Ii=new Array(ei),Gn=0;Gn<ei;++Gn)Ii[Gn]=[];for(Gn=0;Gn<Ei;++Gn){var Ta=yn[Gn];Ii[Ta.source.index].push(Ta.target),Ii[Ta.target.index].push(Ta.source)}}for(var ta,co=Ii[on],Gn=-1,Kn=co.length;++Gn<Kn;)if(!isNaN(ta=co[Gn][_i]))return ta;return Math.random()*ea}return he.resume()},he.resume=function(){return he.alpha(.1)},he.stop=function(){return he.alpha(0)},he.drag=function(){if(at||(at=l.behavior.drag().origin(V).on("dragstart.force",vc).on("drag.force",rn).on("dragend.force",Bf)),!arguments.length)return at;this.on("mouseover.force",_u).on("mouseout.force",Uf).call(at)},l.rebind(he,Ae,"on")};var Bs=20,Wc=1,ju=1/0;function Gl(he,Ae){return l.rebind(he,Ae,"sort","children","value"),he.nodes=he,he.links=Ma,he}function Yo(he,Ae){for(var Ge=[he];null!=(he=Ge.pop());)if(Ae(he),(at=he.children)&&(it=at.length))for(var it,at;--it>=0;)Ge.push(at[it])}function Sl(he,Ae){for(var Ge=[he],it=[];null!=(he=Ge.pop());)if(it.push(he),(Nt=he.children)&&(ht=Nt.length))for(var ht,Nt,at=-1;++at<ht;)Ge.push(Nt[at]);for(;null!=(he=it.pop());)Ae(he)}function Vf(he){return he.children}function va(he){return he.value}function ls(he,Ae){return Ae.value-he.value}function Ma(he){return l.merge(he.map(function(Ae){return(Ae.children||[]).map(function(Ge){return{source:Ae,target:Ge}})}))}l.layout.hierarchy=function(){var he=ls,Ae=Vf,Ge=va;function it(at){var Dt,ht=[at],Nt=[];for(at.depth=0;null!=(Dt=ht.pop());)if(Nt.push(Dt),(sr=Ae.call(it,Dt,Dt.depth))&&(Yt=sr.length)){for(var Yt,sr,fr;--Yt>=0;)ht.push(fr=sr[Yt]),fr.parent=Dt,fr.depth=Dt.depth+1;Ge&&(Dt.value=0),Dt.children=sr}else Ge&&(Dt.value=+Ge.call(it,Dt,Dt.depth)||0),delete Dt.children;return Sl(at,function(zr){var Fr,fn;he&&(Fr=zr.children)&&Fr.sort(he),Ge&&(fn=zr.parent)&&(fn.value+=zr.value)}),Nt}return it.sort=function(at){return arguments.length?(he=at,it):he},it.children=function(at){return arguments.length?(Ae=at,it):Ae},it.value=function(at){return arguments.length?(Ge=at,it):Ge},it.revalue=function(at){return Ge&&(Yo(at,function(ht){ht.children&&(ht.value=0)}),Sl(at,function(ht){var Nt;ht.children||(ht.value=+Ge.call(it,ht,ht.depth)||0),(Nt=ht.parent)&&(Nt.value+=ht.value)})),at},it},l.layout.partition=function(){var he=l.layout.hierarchy(),Ae=[1,1];function Ge(ht,Nt,Dt,Yt){var sr=ht.children;if(ht.x=Nt,ht.y=ht.depth*Yt,ht.dx=Dt,ht.dy=Yt,sr&&(zr=sr.length)){var zr,Fr,fn,fr=-1;for(Dt=ht.value?Dt/ht.value:0;++fr<zr;)Ge(Fr=sr[fr],Nt,fn=Fr.value*Dt,Yt),Nt+=fn}}function it(ht){var Nt=ht.children,Dt=0;if(Nt&&(sr=Nt.length))for(var sr,Yt=-1;++Yt<sr;)Dt=Math.max(Dt,it(Nt[Yt]));return 1+Dt}function at(ht,Nt){var Dt=he.call(this,ht,Nt);return Ge(Dt[0],0,Ae[0],Ae[1]/it(Dt[0])),Dt}return at.size=function(ht){return arguments.length?(Ae=ht,at):Ae},Gl(at,he)},l.layout.pie=function(){var he=Number,Ae=Fo,Ge=0,it=Te,at=0;function ht(Nt){var qr,Dt=Nt.length,Yt=Nt.map(function(mn,rn){return+he.call(ht,mn,rn)}),sr=+("function"==typeof Ge?Ge.apply(this,arguments):Ge),fr=("function"==typeof it?it.apply(this,arguments):it)-sr,zr=Math.min(Math.abs(fr)/Dt,+("function"==typeof at?at.apply(this,arguments):at)),Fr=zr*(fr<0?-1:1),fn=l.sum(Yt),yn=fn?(fr-Dt*Fr)/fn:0,Hr=l.range(Dt),Wr=[];return null!=Ae&&Hr.sort(Ae===Fo?function(mn,rn){return Yt[rn]-Yt[mn]}:function(mn,rn){return Ae(Nt[mn],Nt[rn])}),Hr.forEach(function(mn){Wr[mn]={data:Nt[mn],value:qr=Yt[mn],startAngle:sr,endAngle:sr+=qr*yn+Fr,padAngle:zr}}),Wr}return ht.value=function(Nt){return arguments.length?(he=Nt,ht):he},ht.sort=function(Nt){return arguments.length?(Ae=Nt,ht):Ae},ht.startAngle=function(Nt){return arguments.length?(Ge=Nt,ht):Ge},ht.endAngle=function(Nt){return arguments.length?(it=Nt,ht):it},ht.padAngle=function(Nt){return arguments.length?(at=Nt,ht):at},ht};var Fo={};function us(he){return he.x}function Cl(he){return he.y}function Es(he,Ae,Ge){he.y0=Ae,he.y=Ge}l.layout.stack=function(){var he=V,Ae=_l,Ge=Mu,it=Es,at=us,ht=Cl;function Nt(Dt,Yt){if(!(yn=Dt.length))return Dt;var sr=Dt.map(function(mn,rn){return he.call(Nt,mn,rn)}),fr=sr.map(function(mn){return mn.map(function(rn,on){return[at.call(Nt,rn,on),ht.call(Nt,rn,on)]})}),zr=Ae.call(Nt,fr,Yt);sr=l.permute(sr,zr),fr=l.permute(fr,zr);var yn,Hr,Wr,qr,Fr=Ge.call(Nt,fr,Yt),fn=sr[0].length;for(Wr=0;Wr<fn;++Wr)for(it.call(Nt,sr[0][Wr],qr=Fr[Wr],fr[0][Wr][1]),Hr=1;Hr<yn;++Hr)it.call(Nt,sr[Hr][Wr],qr+=fr[Hr-1][Wr][1],fr[Hr][Wr][1]);return Dt}return Nt.values=function(Dt){return arguments.length?(he=Dt,Nt):he},Nt.order=function(Dt){return arguments.length?(Ae="function"==typeof Dt?Dt:gc.get(Dt)||_l,Nt):Ae},Nt.offset=function(Dt){return arguments.length?(Ge="function"==typeof Dt?Dt:eo.get(Dt)||Mu,Nt):Ge},Nt.x=function(Dt){return arguments.length?(at=Dt,Nt):at},Nt.y=function(Dt){return arguments.length?(ht=Dt,Nt):ht},Nt.out=function(Dt){return arguments.length?(it=Dt,Nt):it},Nt};var gc=l.map({"inside-out":function(he){var Ge,it,Ae=he.length,at=he.map(Us),ht=he.map(to),Nt=l.range(Ae).sort(function(zr,Fr){return at[zr]-at[Fr]}),Dt=0,Yt=0,sr=[],fr=[];for(Ge=0;Ge<Ae;++Ge)it=Nt[Ge],Dt<Yt?(Dt+=ht[it],sr.push(it)):(Yt+=ht[it],fr.push(it));return fr.reverse().concat(sr)},reverse:function(he){return l.range(he.length).reverse()},default:_l}),eo=l.map({silhouette:function(he){var ht,Nt,Dt,Ae=he.length,Ge=he[0].length,it=[],at=0,Yt=[];for(Nt=0;Nt<Ge;++Nt){for(ht=0,Dt=0;ht<Ae;ht++)Dt+=he[ht][Nt][1];Dt>at&&(at=Dt),it.push(Dt)}for(Nt=0;Nt<Ge;++Nt)Yt[Nt]=(at-it[Nt])/2;return Yt},wiggle:function(he){var at,ht,Nt,Dt,Yt,sr,fr,zr,Fr,Ae=he.length,Ge=he[0],it=Ge.length,fn=[];for(fn[0]=zr=Fr=0,ht=1;ht<it;++ht){for(at=0,Dt=0;at<Ae;++at)Dt+=he[at][ht][1];for(at=0,Yt=0,fr=Ge[ht][0]-Ge[ht-1][0];at<Ae;++at){for(Nt=0,sr=(he[at][ht][1]-he[at][ht-1][1])/(2*fr);Nt<at;++Nt)sr+=(he[Nt][ht][1]-he[Nt][ht-1][1])/fr;Yt+=sr*he[at][ht][1]}fn[ht]=zr-=Dt?Yt/Dt*fr:0,zr<Fr&&(Fr=zr)}for(ht=0;ht<it;++ht)fn[ht]-=Fr;return fn},expand:function(he){var at,ht,Nt,Ae=he.length,Ge=he[0].length,it=1/Ae,Dt=[];for(ht=0;ht<Ge;++ht){for(at=0,Nt=0;at<Ae;at++)Nt+=he[at][ht][1];if(Nt)for(at=0;at<Ae;at++)he[at][ht][1]/=Nt;else for(at=0;at<Ae;at++)he[at][ht][1]=it}for(ht=0;ht<Ge;++ht)Dt[ht]=0;return Dt},zero:Mu});function _l(he){return l.range(he.length)}function Mu(he){for(var Ae=-1,Ge=he[0].length,it=[];++Ae<Ge;)it[Ae]=0;return it}function Us(he){for(var at,Ae=1,Ge=0,it=he[0][1],ht=he.length;Ae<ht;++Ae)(at=he[Ae][1])>it&&(Ge=Ae,it=at);return Ge}function to(he){return he.reduce(Zi,0)}function Zi(he,Ae){return he+Ae[1]}function oa(he,Ae){return Za(he,Math.ceil(Math.log(Ae.length)/Math.LN2+1))}function Za(he,Ae){for(var Ge=-1,it=+he[0],at=(he[1]-it)/Ae,ht=[];++Ge<=Ae;)ht[Ge]=at*Ge+it;return ht}function ko(he){return[l.min(he),l.max(he)]}function bs(he,Ae){return he.value-Ae.value}function uo(he,Ae){var Ge=he._pack_next;he._pack_next=Ae,Ae._pack_prev=he,Ae._pack_next=Ge,Ge._pack_prev=Ae}function Ds(he,Ae){he._pack_next=Ae,Ae._pack_prev=he}function Xa(he,Ae){var Ge=Ae.x-he.x,it=Ae.y-he.y,at=he.r+Ae.r;return.999*at*at>Ge*Ge+it*it}function ws(he){if((Ae=he.children)&&(Fr=Ae.length)){var Ae,Nt,Dt,Yt,sr,fr,zr,Fr,Ge=1/0,it=-1/0,at=1/0,ht=-1/0;if(Ae.forEach(Vs),(Nt=Ae[0]).x=-Nt.r,Nt.y=0,fn(Nt),Fr>1&&((Dt=Ae[1]).x=Dt.r,Dt.y=0,fn(Dt),Fr>2))for(Hf(Nt,Dt,Yt=Ae[2]),fn(Yt),uo(Nt,Yt),Nt._pack_prev=Yt,uo(Yt,Dt),Dt=Nt._pack_next,sr=3;sr<Fr;sr++){Hf(Nt,Dt,Yt=Ae[sr]);var yn=0,Hr=1,Wr=1;for(fr=Dt._pack_next;fr!==Dt;fr=fr._pack_next,Hr++)if(Xa(fr,Yt)){yn=1;break}if(1==yn)for(zr=Nt._pack_prev;zr!==fr._pack_prev&&!Xa(zr,Yt);zr=zr._pack_prev,Wr++);yn?(Hr<Wr||Hr==Wr&&Dt.r<Nt.r?Ds(Nt,Dt=fr):Ds(Nt=zr,Dt),sr--):(uo(Nt,Yt),Dt=Yt,fn(Yt))}var qr=(Ge+it)/2,mn=(at+ht)/2,rn=0;for(sr=0;sr<Fr;sr++)(Yt=Ae[sr]).x-=qr,Yt.y-=mn,rn=Math.max(rn,Yt.r+Math.sqrt(Yt.x*Yt.x+Yt.y*Yt.y));he.r=rn,Ae.forEach(fa)}function fn(on){Ge=Math.min(on.x-on.r,Ge),it=Math.max(on.x+on.r,it),at=Math.min(on.y-on.r,at),ht=Math.max(on.y+on.r,ht)}}function Vs(he){he._pack_next=he._pack_prev=he}function fa(he){delete he._pack_next,delete he._pack_prev}function Su(he,Ae,Ge,it){var at=he.children;if(he.x=Ae+=it*he.x,he.y=Ge+=it*he.y,he.r*=it,at)for(var ht=-1,Nt=at.length;++ht<Nt;)Su(at[ht],Ae,Ge,it)}function Hf(he,Ae,Ge){var it=he.r+Ge.r,at=Ae.x-he.x,ht=Ae.y-he.y;if(it&&(at||ht)){var Nt=Ae.r+Ge.r,Dt=at*at+ht*ht,Yt=.5+((it*=it)-(Nt*=Nt))/(2*Dt),sr=Math.sqrt(Math.max(0,2*Nt*(it+Dt)-(it-=Dt)*it-Nt*Nt))/(2*Dt);Ge.x=he.x+Yt*at+sr*ht,Ge.y=he.y+Yt*ht-sr*at}else Ge.x=he.x+it,Ge.y=he.y}function jl(he,Ae){return he.parent==Ae.parent?1:2}function no(he){var Ae=he.children;return Ae.length?Ae[0]:he.t}function Cu(he){var Ge,Ae=he.children;return(Ge=Ae.length)?Ae[Ge-1]:he.t}function Wu(he,Ae,Ge){var it=Ge/(Ae.i-he.i);Ae.c-=it,Ae.s+=Ge,he.c+=it,Ae.z+=Ge,Ae.m+=Ge}function Yu(he,Ae,Ge){return he.a.parent===Ae.parent?he.a:Ge}function Zs(he){var Ae=he.children;return Ae&&Ae.length?Zs(Ae[0]):he}function Mo(he){var Ge,Ae=he.children;return Ae&&(Ge=Ae.length)?Mo(Ae[Ge-1]):he}function fs(he){return{x:he.x,y:he.y,dx:he.dx,dy:he.dy}}function wa(he,Ae){var Ge=he.x+Ae[3],it=he.y+Ae[0],at=he.dx-Ae[1]-Ae[3],ht=he.dy-Ae[0]-Ae[2];return at<0&&(Ge+=at/2,at=0),ht<0&&(it+=ht/2,ht=0),{x:Ge,y:it,dx:at,dy:ht}}function Gf(he){var Ae=he[0],Ge=he[he.length-1];return Ae<Ge?[Ae,Ge]:[Ge,Ae]}function iu(he){return he.rangeExtent?he.rangeExtent():Gf(he.range())}function _f(he,Ae,Ge,it){var at=Ge(he[0],he[1]),ht=it(Ae[0],Ae[1]);return function(Nt){return ht(at(Nt))}}function Xs(he,Ae){var Nt,Ge=0,it=he.length-1,at=he[Ge],ht=he[it];return ht<at&&(Nt=Ge,Ge=it,it=Nt,Nt=at,at=ht,ht=Nt),he[Ge]=Ae.floor(at),he[it]=Ae.ceil(ht),he}function Zu(he){return he?{floor:function(Ae){return Math.floor(Ae/he)*he},ceil:function(Ae){return Math.ceil(Ae/he)*he}}:Xu}l.layout.histogram=function(){var he=!0,Ae=Number,Ge=ko,it=oa;function at(ht,Fr){for(var zr,Wr,Dt=[],Yt=ht.map(Ae,this),sr=Ge.call(this,Yt,Fr),fr=it.call(this,sr,Yt,Fr),fn=(Fr=-1,Yt.length),yn=fr.length-1,Hr=he?1:1/fn;++Fr<yn;)(zr=Dt[Fr]=[]).dx=fr[Fr+1]-(zr.x=fr[Fr]),zr.y=0;if(yn>0)for(Fr=-1;++Fr<fn;)(Wr=Yt[Fr])>=sr[0]&&Wr<=sr[1]&&((zr=Dt[l.bisect(fr,Wr,1,yn)-1]).y+=Hr,zr.push(ht[Fr]));return Dt}return at.value=function(ht){return arguments.length?(Ae=ht,at):Ae},at.range=function(ht){return arguments.length?(Ge=Tr(ht),at):Ge},at.bins=function(ht){return arguments.length?(it="number"==typeof ht?function(Nt){return Za(Nt,ht)}:Tr(ht),at):it},at.frequency=function(ht){return arguments.length?(he=!!ht,at):he},at},l.layout.pack=function(){var it,he=l.layout.hierarchy().sort(bs),Ae=0,Ge=[1,1];function at(ht,Nt){var Dt=he.call(this,ht,Nt),Yt=Dt[0],sr=Ge[0],fr=Ge[1],zr=null==it?Math.sqrt:"function"==typeof it?it:function(){return it};if(Yt.x=Yt.y=0,Sl(Yt,function(fn){fn.r=+zr(fn.value)}),Sl(Yt,ws),Ae){var Fr=Ae*(it?1:Math.max(2*Yt.r/sr,2*Yt.r/fr))/2;Sl(Yt,function(fn){fn.r+=Fr}),Sl(Yt,ws),Sl(Yt,function(fn){fn.r-=Fr})}return Su(Yt,sr/2,fr/2,it?1:1/Math.max(2*Yt.r/sr,2*Yt.r/fr)),Dt}return at.size=function(ht){return arguments.length?(Ge=ht,at):Ge},at.radius=function(ht){return arguments.length?(it=null==ht||"function"==typeof ht?ht:+ht,at):it},at.padding=function(ht){return arguments.length?(Ae=+ht,at):Ae},Gl(at,he)},l.layout.tree=function(){var he=l.layout.hierarchy().sort(null).value(null),Ae=jl,Ge=[1,1],it=null;function at(fr,zr){var Fr=he.call(this,fr,zr),fn=Fr[0],yn=function ht(fr){for(var fn,zr={A:null,children:[fr]},Fr=[zr];null!=(fn=Fr.pop());)for(var Hr,yn=fn.children,Wr=0,qr=yn.length;Wr<qr;++Wr)Fr.push((yn[Wr]=Hr={_:yn[Wr],parent:fn,children:(Hr=yn[Wr].children)&&Hr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Wr}).a=Hr);return zr.children[0]}(fn);if(Sl(yn,Nt),yn.parent.m=-yn.z,Yo(yn,Dt),it)Yo(fn,sr);else{var Hr=fn,Wr=fn,qr=fn;Yo(fn,function(ei){ei.x<Hr.x&&(Hr=ei),ei.x>Wr.x&&(Wr=ei),ei.depth>qr.depth&&(qr=ei)});var mn=Ae(Hr,Wr)/2-Hr.x,rn=Ge[0]/(Wr.x+Ae(Wr,Hr)/2+mn),on=Ge[1]/(qr.depth||1);Yo(fn,function(ei){ei.x=(ei.x+mn)*rn,ei.y=ei.depth*on})}return Fr}function Nt(fr){var zr=fr.children,Fr=fr.parent.children,fn=fr.i?Fr[fr.i-1]:null;if(zr.length){!function El(he){for(var ht,Ae=0,Ge=0,it=he.children,at=it.length;--at>=0;)(ht=it[at]).z+=Ae,ht.m+=Ae,Ae+=ht.s+(Ge+=ht.c)}(fr);var yn=(zr[0].z+zr[zr.length-1].z)/2;fn?(fr.z=fn.z+Ae(fr._,fn._),fr.m=fr.z-yn):fr.z=yn}else fn&&(fr.z=fn.z+Ae(fr._,fn._));fr.parent.A=function Yt(fr,zr,Fr){if(zr){for(var ei,fn=fr,yn=fr,Hr=zr,Wr=fn.parent.children[0],qr=fn.m,mn=yn.m,rn=Hr.m,on=Wr.m;Hr=Cu(Hr),fn=no(fn),Hr&&fn;)Wr=no(Wr),(yn=Cu(yn)).a=fr,(ei=Hr.z+rn-fn.z-qr+Ae(Hr._,fn._))>0&&(Wu(Yu(Hr,fr,Fr),fr,ei),qr+=ei,mn+=ei),rn+=Hr.m,qr+=fn.m,on+=Wr.m,mn+=yn.m;Hr&&!Cu(yn)&&(yn.t=Hr,yn.m+=rn-mn),fn&&!no(Wr)&&(Wr.t=fn,Wr.m+=qr-on,Fr=fr)}return Fr}(fr,fn,fr.parent.A||Fr[0])}function Dt(fr){fr._.x=fr.z+fr.parent.m,fr.m+=fr.parent.m}function sr(fr){fr.x*=Ge[0],fr.y=fr.depth*Ge[1]}return at.separation=function(fr){return arguments.length?(Ae=fr,at):Ae},at.size=function(fr){return arguments.length?(it=null==(Ge=fr)?sr:null,at):it?null:Ge},at.nodeSize=function(fr){return arguments.length?(it=null==(Ge=fr)?null:sr,at):it?Ge:null},Gl(at,he)},l.layout.cluster=function(){var he=l.layout.hierarchy().sort(null).value(null),Ae=jl,Ge=[1,1],it=!1;function at(ht,Nt){var sr,Dt=he.call(this,ht,Nt),Yt=Dt[0],fr=0;Sl(Yt,function(Hr){var Wr=Hr.children;Wr&&Wr.length?(Hr.x=function Wl(he){return he.reduce(function(Ae,Ge){return Ae+Ge.x},0)/he.length}(Wr),Hr.y=function yc(he){return 1+l.max(he,function(Ae){return Ae.y})}(Wr)):(Hr.x=sr?fr+=Ae(Hr,sr):0,Hr.y=0,sr=Hr)});var zr=Zs(Yt),Fr=Mo(Yt),fn=zr.x-Ae(zr,Fr)/2,yn=Fr.x+Ae(Fr,zr)/2;return Sl(Yt,it?function(Hr){Hr.x=(Hr.x-Yt.x)*Ge[0],Hr.y=(Yt.y-Hr.y)*Ge[1]}:function(Hr){Hr.x=(Hr.x-fn)/(yn-fn)*Ge[0],Hr.y=(1-(Yt.y?Hr.y/Yt.y:1))*Ge[1]}),Dt}return at.separation=function(ht){return arguments.length?(Ae=ht,at):Ae},at.size=function(ht){return arguments.length?(it=null==(Ge=ht),at):it?null:Ge},at.nodeSize=function(ht){return arguments.length?(it=null!=(Ge=ht),at):it?Ge:null},Gl(at,he)},l.layout.treemap=function(){var Nt,he=l.layout.hierarchy(),Ae=Math.round,Ge=[1,1],it=null,at=fs,ht=!1,Dt="squarify",Yt=.5*(1+Math.sqrt(5));function sr(Hr,Wr){for(var rn,on,qr=-1,mn=Hr.length;++qr<mn;)on=(rn=Hr[qr]).value*(Wr<0?0:Wr),rn.area=isNaN(on)||on<=0?0:on}function fr(Hr){var Wr=Hr.children;if(Wr&&Wr.length){var on,Ei,Di,qr=at(Hr),mn=[],rn=Wr.slice(),ei=1/0,ki="slice"===Dt?qr.dx:"dice"===Dt?qr.dy:"slice-dice"===Dt?1&Hr.depth?qr.dy:qr.dx:Math.min(qr.dx,qr.dy);for(sr(rn,qr.dx*qr.dy/Hr.value),mn.area=0;(Di=rn.length)>0;)mn.push(on=rn[Di-1]),mn.area+=on.area,"squarify"!==Dt||(Ei=Fr(mn,ki))<=ei?(rn.pop(),ei=Ei):(mn.area-=mn.pop().area,fn(mn,ki,qr,!1),ki=Math.min(qr.dx,qr.dy),mn.length=mn.area=0,ei=1/0);mn.length&&(fn(mn,ki,qr,!0),mn.length=mn.area=0),Wr.forEach(fr)}}function zr(Hr){var Wr=Hr.children;if(Wr&&Wr.length){var rn,qr=at(Hr),mn=Wr.slice(),on=[];for(sr(mn,qr.dx*qr.dy/Hr.value),on.area=0;rn=mn.pop();)on.push(rn),on.area+=rn.area,null!=rn.z&&(fn(on,rn.z?qr.dx:qr.dy,qr,!mn.length),on.length=on.area=0);Wr.forEach(zr)}}function Fr(Hr,Wr){for(var mn,qr=Hr.area,rn=0,on=1/0,ei=-1,Ei=Hr.length;++ei<Ei;)(mn=Hr[ei].area)&&(mn<on&&(on=mn),mn>rn&&(rn=mn));return Wr*=Wr,(qr*=qr)?Math.max(Wr*rn*Yt/qr,qr/(Wr*on*Yt)):1/0}function fn(Hr,Wr,qr,mn){var Di,rn=-1,on=Hr.length,ei=qr.x,Ei=qr.y,ki=Wr?Ae(Hr.area/Wr):0;if(Wr==qr.dx){for((mn||ki>qr.dy)&&(ki=qr.dy);++rn<on;)(Di=Hr[rn]).x=ei,Di.y=Ei,Di.dy=ki,ei+=Di.dx=Math.min(qr.x+qr.dx-ei,ki?Ae(Di.area/ki):0);Di.z=!0,Di.dx+=qr.x+qr.dx-ei,qr.y+=ki,qr.dy-=ki}else{for((mn||ki>qr.dx)&&(ki=qr.dx);++rn<on;)(Di=Hr[rn]).x=ei,Di.y=Ei,Di.dx=ki,Ei+=Di.dy=Math.min(qr.y+qr.dy-Ei,ki?Ae(Di.area/ki):0);Di.z=!1,Di.dy+=qr.y+qr.dy-Ei,qr.x+=ki,qr.dx-=ki}}function yn(Hr){var Wr=Nt||he(Hr),qr=Wr[0];return qr.x=qr.y=0,qr.value?(qr.dx=Ge[0],qr.dy=Ge[1]):qr.dx=qr.dy=0,Nt&&he.revalue(qr),sr([qr],qr.dx*qr.dy/qr.value),(Nt?zr:fr)(qr),ht&&(Nt=Wr),Wr}return yn.size=function(Hr){return arguments.length?(Ge=Hr,yn):Ge},yn.padding=function(Hr){if(!arguments.length)return it;var mn;return at=null==(it=Hr)?fs:"function"==(mn=typeof Hr)?function Wr(rn){var on=Hr.call(yn,rn,rn.depth);return null==on?fs(rn):wa(rn,"number"==typeof on?[on,on,on,on]:on)}:("number"===mn&&(Hr=[Hr,Hr,Hr,Hr]),function qr(rn){return wa(rn,Hr)}),yn},yn.round=function(Hr){return arguments.length?(Ae=Hr?Math.round:Number,yn):Ae!=Number},yn.sticky=function(Hr){return arguments.length?(ht=Hr,Nt=null,yn):ht},yn.ratio=function(Hr){return arguments.length?(Yt=Hr,yn):Yt},yn.mode=function(Hr){return arguments.length?(Dt=Hr+"",yn):Dt},Gl(yn,he)},l.random={normal:function(he,Ae){var Ge=arguments.length;return Ge<2&&(Ae=1),Ge<1&&(he=0),function(){var it,at,ht;do{ht=(it=2*Math.random()-1)*it+(at=2*Math.random()-1)*at}while(!ht||ht>1);return he+Ae*it*Math.sqrt(-2*Math.log(ht)/ht)}},logNormal:function(){var he=l.random.normal.apply(l,arguments);return function(){return Math.exp(he())}},bates:function(he){var Ae=l.random.irwinHall(he);return function(){return Ae()/he}},irwinHall:function(he){return function(){for(var Ae=0,Ge=0;Ge<he;Ge++)Ae+=Math.random();return Ae}}},l.scale={};var Xu={floor:V,ceil:V};function Ks(he,Ae,Ge,it){var at=[],ht=[],Nt=0,Dt=Math.min(he.length,Ae.length)-1;for(he[Dt]<he[0]&&(he=he.slice().reverse(),Ae=Ae.slice().reverse());++Nt<=Dt;)at.push(Ge(he[Nt-1],he[Nt])),ht.push(it(Ae[Nt-1],Ae[Nt]));return function(Yt){var sr=l.bisect(he,Yt,1,Dt)-1;return ht[sr](at[sr](Yt))}}function fo(he,Ae,Ge,it){var at,ht;function Nt(){var Yt=Math.min(he.length,Ae.length)>2?Ks:_f,sr=it?Nf:nu;return at=Yt(he,Ae,sr,Ge),ht=Yt(Ae,he,sr,Ji),Dt}function Dt(Yt){return at(Yt)}return Dt.invert=function(Yt){return ht(Yt)},Dt.domain=function(Yt){return arguments.length?(he=Yt.map(Number),Nt()):he},Dt.range=function(Yt){return arguments.length?(Ae=Yt,Nt()):Ae},Dt.rangeRound=function(Yt){return Dt.range(Yt).interpolate(Tu)},Dt.clamp=function(Yt){return arguments.length?(it=Yt,Nt()):it},Dt.interpolate=function(Yt){return arguments.length?(Ge=Yt,Nt()):Ge},Dt.ticks=function(Yt){return Yl(he,Yt)},Dt.tickFormat=function(Yt,sr){return d3_scale_linearTickFormat(he,Yt,sr)},Dt.nice=function(Yt){return Xo(he,Yt),Nt()},Dt.copy=function(){return fo(he,Ae,Ge,it)},Nt()}function Zo(he,Ae){return l.rebind(he,Ae,"range","rangeRound","interpolate","clamp")}function Xo(he,Ae){return Xs(he,Zu(Ko(he,Ae)[2])),Xs(he,Zu(Ko(he,Ae)[2])),he}function Ko(he,Ae){null==Ae&&(Ae=10);var Ge=Gf(he),it=Ge[1]-Ge[0],at=Math.pow(10,Math.floor(Math.log(it/Ae)/Math.LN10)),ht=Ae/it*at;return ht<=.15?at*=10:ht<=.35?at*=5:ht<=.75&&(at*=2),Ge[0]=Math.ceil(Ge[0]/at)*at,Ge[1]=Math.floor(Ge[1]/at)*at+.5*at,Ge[2]=at,Ge}function Yl(he,Ae){return l.range.apply(l,Ko(he,Ae))}function ll(he,Ae,Ge,it){function at(Dt){return(Ge?Math.log(Dt<0?0:Dt):-Math.log(Dt>0?0:-Dt))/Math.log(Ae)}function ht(Dt){return Ge?Math.pow(Ae,Dt):-Math.pow(Ae,-Dt)}function Nt(Dt){return he(at(Dt))}return Nt.invert=function(Dt){return ht(he.invert(Dt))},Nt.domain=function(Dt){return arguments.length?(Ge=Dt[0]>=0,he.domain((it=Dt.map(Number)).map(at)),Nt):it},Nt.base=function(Dt){return arguments.length?(Ae=+Dt,he.domain(it.map(at)),Nt):Ae},Nt.nice=function(){var Dt=Xs(it.map(at),Ge?Math:Zl);return he.domain(Dt),it=Dt.map(ht),Nt},Nt.ticks=function(){var Dt=Gf(it),Yt=[],sr=Dt[0],fr=Dt[1],zr=Math.floor(at(sr)),Fr=Math.ceil(at(fr)),fn=Ae%1?2:Ae;if(isFinite(Fr-zr)){if(Ge){for(;zr<Fr;zr++)for(var yn=1;yn<fn;yn++)Yt.push(ht(zr)*yn);Yt.push(ht(zr))}else for(Yt.push(ht(zr));zr++<Fr;)for(yn=fn-1;yn>0;yn--)Yt.push(ht(zr)*yn);for(zr=0;Yt[zr]<sr;zr++);for(Fr=Yt.length;Yt[Fr-1]>fr;Fr--);Yt=Yt.slice(zr,Fr)}return Yt},Nt.copy=function(){return ll(he.copy(),Ae,Ge,it)},Zo(Nt,he)}l.scale.linear=function(){return fo([0,1],[0,1],Ji,!1)},l.scale.log=function(){return ll(l.scale.linear().domain([0,1]),10,!0,[1,10])};var Zl={floor:function(he){return-Math.ceil(-he)},ceil:function(he){return-Math.floor(-he)}};function vf(he,Ae,Ge){var it=Ku(Ae),at=Ku(1/Ae);function ht(Nt){return he(it(Nt))}return ht.invert=function(Nt){return at(he.invert(Nt))},ht.domain=function(Nt){return arguments.length?(he.domain((Ge=Nt.map(Number)).map(it)),ht):Ge},ht.ticks=function(Nt){return Yl(Ge,Nt)},ht.tickFormat=function(Nt,Dt){return d3_scale_linearTickFormat(Ge,Nt,Dt)},ht.nice=function(Nt){return ht.domain(Xo(Ge,Nt))},ht.exponent=function(Nt){return arguments.length?(it=Ku(Ae=Nt),at=Ku(1/Ae),he.domain(Ge.map(it)),ht):Ae},ht.copy=function(){return vf(he.copy(),Ae,Ge)},Zo(ht,he)}function Ku(he){return function(Ae){return Ae<0?-Math.pow(-Ae,he):Math.pow(Ae,he)}}function ja(he,Ae){var Ge,it,at;function ht(Dt){return it[((Ge.get(Dt)||("range"===Ae.t?Ge.set(Dt,he.push(Dt)):NaN))-1)%it.length]}function Nt(Dt,Yt){return l.range(he.length).map(function(sr){return Dt+Yt*sr})}return ht.domain=function(Dt){if(!arguments.length)return he;he=[],Ge=new L;for(var fr,Yt=-1,sr=Dt.length;++Yt<sr;)Ge.has(fr=Dt[Yt])||Ge.set(fr,he.push(fr));return ht[Ae.t].apply(ht,Ae.a)},ht.range=function(Dt){return arguments.length?(it=Dt,at=0,Ae={t:"range",a:arguments},ht):it},ht.rangePoints=function(Dt,Yt){arguments.length<2&&(Yt=0);var sr=Dt[0],fr=Dt[1],zr=he.length<2?(sr=(sr+fr)/2,0):(fr-sr)/(he.length-1+Yt);return it=Nt(sr+zr*Yt/2,zr),at=0,Ae={t:"rangePoints",a:arguments},ht},ht.rangeRoundPoints=function(Dt,Yt){arguments.length<2&&(Yt=0);var sr=Dt[0],fr=Dt[1],zr=he.length<2?(sr=fr=Math.round((sr+fr)/2),0):(fr-sr)/(he.length-1+Yt)|0;return it=Nt(sr+Math.round(zr*Yt/2+(fr-sr-(he.length-1+Yt)*zr)/2),zr),at=0,Ae={t:"rangeRoundPoints",a:arguments},ht},ht.rangeBands=function(Dt,Yt,sr){arguments.length<2&&(Yt=0),arguments.length<3&&(sr=Yt);var fr=Dt[1]<Dt[0],zr=Dt[fr-0],fn=(Dt[1-fr]-zr)/(he.length-Yt+2*sr);return it=Nt(zr+fn*sr,fn),fr&&it.reverse(),at=fn*(1-Yt),Ae={t:"rangeBands",a:arguments},ht},ht.rangeRoundBands=function(Dt,Yt,sr){arguments.length<2&&(Yt=0),arguments.length<3&&(sr=Yt);var fr=Dt[1]<Dt[0],zr=Dt[fr-0],Fr=Dt[1-fr],fn=Math.floor((Fr-zr)/(he.length-Yt+2*sr));return it=Nt(zr+Math.round((Fr-zr-(he.length-Yt)*fn)/2),fn),fr&&it.reverse(),at=Math.round(fn*(1-Yt)),Ae={t:"rangeRoundBands",a:arguments},ht},ht.rangeBand=function(){return at},ht.rangeExtent=function(){return Gf(Ae.a[0])},ht.copy=function(){return ja(he,Ae)},ht.domain(he)}l.scale.pow=function(){return vf(l.scale.linear(),1,[0,1])},l.scale.sqrt=function(){return l.scale.pow().exponent(.5)},l.scale.ordinal=function(){return ja([],{t:"range",a:[[]]})},l.scale.category10=function(){return l.scale.ordinal().range(Ju)},l.scale.category20=function(){return l.scale.ordinal().range(Yc)},l.scale.category20b=function(){return l.scale.ordinal().range(mc)},l.scale.category20c=function(){return l.scale.ordinal().range($u)};var Ju=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mr),Yc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Mr),mc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mr),$u=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mr);function Mh(he,Ae){var Ge;function it(){var ht=0,Nt=Ae.length;for(Ge=[];++ht<Nt;)Ge[ht-1]=l.quantile(he,ht/Nt);return at}function at(ht){if(!isNaN(ht=+ht))return Ae[l.bisect(Ge,ht)]}return at.domain=function(ht){return arguments.length?(he=ht.map(b).filter(p).sort(d),it()):he},at.range=function(ht){return arguments.length?(Ae=ht,it()):Ae},at.quantiles=function(){return Ge},at.invertExtent=function(ht){return(ht=Ae.indexOf(ht))<0?[NaN,NaN]:[ht>0?Ge[ht-1]:he[0],ht<Ge.length?Ge[ht]:he[he.length-1]]},at.copy=function(){return Mh(he,Ae)},it()}function Zc(he,Ae,Ge){var it,at;function ht(Dt){return Ge[Math.max(0,Math.min(at,Math.floor(it*(Dt-he))))]}function Nt(){return it=Ge.length/(Ae-he),at=Ge.length-1,ht}return ht.domain=function(Dt){return arguments.length?(he=+Dt[0],Ae=+Dt[Dt.length-1],Nt()):[he,Ae]},ht.range=function(Dt){return arguments.length?(Ge=Dt,Nt()):Ge},ht.invertExtent=function(Dt){return[Dt=(Dt=Ge.indexOf(Dt))<0?NaN:Dt/it+he,Dt+1/it]},ht.copy=function(){return Zc(he,Ae,Ge)},Nt()}function jf(he,Ae){function Ge(it){if(it<=it)return Ae[l.bisect(he,it)]}return Ge.domain=function(it){return arguments.length?(he=it,Ge):he},Ge.range=function(it){return arguments.length?(Ae=it,Ge):Ae},Ge.invertExtent=function(it){return it=Ae.indexOf(it),[he[it-1],he[it]]},Ge.copy=function(){return jf(he,Ae)},Ge}function xc(he){function Ae(Ge){return+Ge}return Ae.invert=Ae,Ae.domain=Ae.range=function(Ge){return arguments.length?(he=Ge.map(Ae),Ae):he},Ae.ticks=function(Ge){return Yl(he,Ge)},Ae.tickFormat=function(Ge,it){return d3_scale_linearTickFormat(he,Ge,it)},Ae.copy=function(){return xc(he)},Ae}function Sh(){return 0}l.scale.quantile=function(){return Mh([],[])},l.scale.quantize=function(){return Zc(0,1,[0,1])},l.scale.threshold=function(){return jf([.5],[0,1])},l.scale.identity=function(){return xc([0,1])},l.svg={},l.svg.arc=function(){var he=Wf,Ae=Yf,Ge=Sh,it=ou,at=su,ht=Js,Nt=Qu;function Dt(){var sr=Math.max(0,+he.apply(this,arguments)),fr=Math.max(0,+Ae.apply(this,arguments)),zr=at.apply(this,arguments)-et,Fr=ht.apply(this,arguments)-et,fn=Math.abs(Fr-zr),yn=zr>Fr?0:1;if(fr<sr&&(Hr=fr,fr=sr,sr=Hr),fn>=_e)return Yt(fr,yn)+(sr?Yt(sr,1-yn):"")+"Z";var Hr,Wr,qr,mn,ei,Ei,ki,Di,Ii,zi,Gi,_i,rn=0,on=0,ea=[];if((mn=(+Nt.apply(this,arguments)||0)/2)&&(qr=it===ou?Math.sqrt(sr*sr+fr*fr):+it.apply(this,arguments),yn||(on*=-1),fr&&(on=Ut(qr/fr*Math.sin(mn))),sr&&(rn=Ut(qr/sr*Math.sin(mn)))),fr){ei=fr*Math.cos(zr+on),Ei=fr*Math.sin(zr+on),ki=fr*Math.cos(Fr-on),Di=fr*Math.sin(Fr-on);var Ta=Math.abs(Fr-zr-2*on)<=ge?0:1;if(on&&Eu(ei,Ei,ki,Di)===yn^Ta){var co=(zr+Fr)/2;ei=fr*Math.cos(co),Ei=fr*Math.sin(co),ki=Di=null}}else ei=Ei=0;if(sr){Ii=sr*Math.cos(Fr-rn),zi=sr*Math.sin(Fr-rn),Gi=sr*Math.cos(zr+rn),_i=sr*Math.sin(zr+rn);var Gn=Math.abs(zr-Fr+2*rn)<=ge?0:1;if(rn&&Eu(Ii,zi,Gi,_i)===1-yn^Gn){var Kn=(zr+Fr)/2;Ii=sr*Math.cos(Kn),zi=sr*Math.sin(Kn),Gi=_i=null}}else Ii=zi=0;if(fn>Ue&&(Hr=Math.min(Math.abs(fr-sr)/2,+Ge.apply(this,arguments)))>.001){Wr=sr<fr^yn?0:1;var ta=Hr,qi=Hr;if(fn<ge){var ai=null==Gi?[Ii,zi]:null==ki?[ei,Ei]:zn([ei,Ei],[Gi,_i],[ki,Di],[Ii,zi]),Ni=ei-ai[0],ka=Ei-ai[1],za=ki-ai[0],ho=Di-ai[1],Ba=1/Math.sin(Math.acos((Ni*za+ka*ho)/(Math.sqrt(Ni*Ni+ka*ka)*Math.sqrt(za*za+ho*ho)))/2),zo=Math.sqrt(ai[0]*ai[0]+ai[1]*ai[1]);qi=Math.min(Hr,(sr-zo)/(Ba-1)),ta=Math.min(Hr,(fr-zo)/(Ba+1))}if(null!=ki){var Bo=Zf(null==Gi?[Ii,zi]:[Gi,_i],[ei,Ei],fr,ta,yn),Jo=Zf([ki,Di],[Ii,zi],fr,ta,yn);Hr===ta?ea.push("M",Bo[0],"A",ta,",",ta," 0 0,",Wr," ",Bo[1],"A",fr,",",fr," 0 ",1-yn^Eu(Bo[1][0],Bo[1][1],Jo[1][0],Jo[1][1]),",",yn," ",Jo[1],"A",ta,",",ta," 0 0,",Wr," ",Jo[0]):ea.push("M",Bo[0],"A",ta,",",ta," 0 1,",Wr," ",Jo[0])}else ea.push("M",ei,",",Ei);if(null!=Gi){var ya=Zf([ei,Ei],[Gi,_i],sr,-qi,yn),Hs=Zf([Ii,zi],null==ki?[ei,Ei]:[ki,Di],sr,-qi,yn);Hr===qi?ea.push("L",Hs[0],"A",qi,",",qi," 0 0,",Wr," ",Hs[1],"A",sr,",",sr," 0 ",yn^Eu(Hs[1][0],Hs[1][1],ya[1][0],ya[1][1]),",",1-yn," ",ya[1],"A",qi,",",qi," 0 0,",Wr," ",ya[0]):ea.push("L",Hs[0],"A",qi,",",qi," 0 0,",Wr," ",ya[0])}else ea.push("L",Ii,",",zi)}else ea.push("M",ei,",",Ei),null!=ki&&ea.push("A",fr,",",fr," 0 ",Ta,",",yn," ",ki,",",Di),ea.push("L",Ii,",",zi),null!=Gi&&ea.push("A",sr,",",sr," 0 ",Gn,",",1-yn," ",Gi,",",_i);return ea.push("Z"),ea.join("")}function Yt(sr,fr){return"M0,"+sr+"A"+sr+","+sr+" 0 1,"+fr+" 0,"+-sr+"A"+sr+","+sr+" 0 1,"+fr+" 0,"+sr}return Dt.innerRadius=function(sr){return arguments.length?(he=Tr(sr),Dt):he},Dt.outerRadius=function(sr){return arguments.length?(Ae=Tr(sr),Dt):Ae},Dt.cornerRadius=function(sr){return arguments.length?(Ge=Tr(sr),Dt):Ge},Dt.padRadius=function(sr){return arguments.length?(it=sr==ou?ou:Tr(sr),Dt):it},Dt.startAngle=function(sr){return arguments.length?(at=Tr(sr),Dt):at},Dt.endAngle=function(sr){return arguments.length?(ht=Tr(sr),Dt):ht},Dt.padAngle=function(sr){return arguments.length?(Nt=Tr(sr),Dt):Nt},Dt.centroid=function(){var sr=(+he.apply(this,arguments)+ +Ae.apply(this,arguments))/2,fr=(+at.apply(this,arguments)+ +ht.apply(this,arguments))/2-et;return[Math.cos(fr)*sr,Math.sin(fr)*sr]},Dt};var ou="auto";function Wf(he){return he.innerRadius}function Yf(he){return he.outerRadius}function su(he){return he.startAngle}function Js(he){return he.endAngle}function Qu(he){return he&&he.padAngle}function Eu(he,Ae,Ge,it){return(he-Ge)*Ae-(Ae-it)*he>0?0:1}function Zf(he,Ae,Ge,it,at){var ht=he[0]-Ae[0],Nt=he[1]-Ae[1],Dt=(at?it:-it)/Math.sqrt(ht*ht+Nt*Nt),Yt=Dt*Nt,sr=-Dt*ht,fr=he[0]+Yt,zr=he[1]+sr,Fr=Ae[0]+Yt,fn=Ae[1]+sr,yn=(fr+Fr)/2,Hr=(zr+fn)/2,Wr=Fr-fr,qr=fn-zr,mn=Wr*Wr+qr*qr,rn=Ge-it,on=fr*fn-Fr*zr,ei=(qr<0?-1:1)*Math.sqrt(Math.max(0,rn*rn*mn-on*on)),Ei=(on*qr-Wr*ei)/mn,ki=(-on*Wr-qr*ei)/mn,Di=(on*qr+Wr*ei)/mn,Ii=(-on*Wr+qr*ei)/mn,zi=Ei-yn,Gi=ki-Hr,_i=Di-yn,ea=Ii-Hr;return zi*zi+Gi*Gi>_i*_i+ea*ea&&(Ei=Di,ki=Ii),[[Ei-Yt,ki-sr],[Ei*Ge/rn,ki*Ge/rn]]}function pf(){return!0}function lu(he){var Ae=Ir,Ge=gn,it=pf,at=Eo,ht=at.key,Nt=.7;function Dt(Yt){var fn,sr=[],fr=[],zr=-1,Fr=Yt.length,yn=Tr(Ae),Hr=Tr(Ge);function Wr(){sr.push("M",at(he(fr),Nt))}for(;++zr<Fr;)it.call(this,fn=Yt[zr],zr)?fr.push([+yn.call(this,fn,zr),+Hr.call(this,fn,zr)]):fr.length&&(Wr(),fr=[]);return fr.length&&Wr(),sr.length?sr.join(""):null}return Dt.x=function(Yt){return arguments.length?(Ae=Yt,Dt):Ae},Dt.y=function(Yt){return arguments.length?(Ge=Yt,Dt):Ge},Dt.defined=function(Yt){return arguments.length?(it=Yt,Dt):it},Dt.interpolate=function(Yt){return arguments.length?(ht="function"==typeof Yt?at=Yt:(at=ul.get(Yt)||Eo).key,Dt):ht},Dt.tension=function(Yt){return arguments.length?(Nt=Yt,Dt):Nt},Dt}l.svg.line=function(){return lu(V)};var ul=l.map({linear:Eo,"linear-closed":Xc,step:function Oo(he){for(var Ae=0,Ge=he.length,it=he[0],at=[it[0],",",it[1]];++Ae<Ge;)at.push("H",(it[0]+(it=he[Ae])[0])/2,"V",it[1]);return Ge>1&&at.push("H",it[0]),at.join("")},"step-before":Dl,"step-after":_o,basis:qu,"basis-open":function Kf(he){if(he.length<4)return Eo(he);for(var at,Ae=[],Ge=-1,it=he.length,ht=[0],Nt=[0];++Ge<3;)ht.push((at=he[Ge])[0]),Nt.push(at[1]);for(Ae.push(As(Ls,ht)+","+As(Ls,Nt)),--Ge;++Ge<it;)at=he[Ge],ht.shift(),ht.push(at[0]),Nt.shift(),Nt.push(at[1]),fl(Ae,ht,Nt);return Ae.join("")},"basis-closed":function gf(he){for(var Ae,ht,Ge=-1,it=he.length,at=it+4,Nt=[],Dt=[];++Ge<4;)Nt.push((ht=he[Ge%it])[0]),Dt.push(ht[1]);for(Ae=[As(Ls,Nt),",",As(Ls,Dt)],--Ge;++Ge<at;)ht=he[Ge%it],Nt.shift(),Nt.push(ht[0]),Dt.shift(),Dt.push(ht[1]),fl(Ae,Nt,Dt);return Ae.join("")},bundle:function uu(he,Ae){var Ge=he.length-1;if(Ge)for(var Yt,sr,it=he[0][0],at=he[0][1],ht=he[Ge][0]-it,Nt=he[Ge][1]-at,Dt=-1;++Dt<=Ge;)(Yt=he[Dt])[0]=Ae*Yt[0]+(1-Ae)*(it+(sr=Dt/Ge)*ht),Yt[1]=Ae*Yt[1]+(1-Ae)*(at+sr*Nt);return qu(he)},cardinal:function Du(he,Ae){return he.length<3?Eo(he):he[0]+Lu(he,Iu(he,Ae))},"cardinal-open":function Xf(he,Ae){return he.length<4?Eo(he):he[1]+Lu(he.slice(1,-1),Iu(he,Ae))},"cardinal-closed":function Kc(he,Ae){return he.length<3?Xc(he):he[0]+Lu((he.push(he[0]),he),Iu([he[he.length-2]].concat(he,[he[1]]),Ae))},monotone:function Eh(he){return he.length<3?Eo(he):he[0]+Lu(he,function bc(he){for(var Ge,it,at,ht,Ae=[],Nt=function Ch(he){for(var Ae=0,Ge=he.length-1,it=[],at=he[0],ht=he[1],Nt=it[0]=fu(at,ht);++Ae<Ge;)it[Ae]=(Nt+(Nt=fu(at=ht,ht=he[Ae+1])))/2;return it[Ae]=Nt,it}(he),Dt=-1,Yt=he.length-1;++Dt<Yt;)Ge=fu(he[Dt],he[Dt+1]),g(Ge)<Ue?Nt[Dt]=Nt[Dt+1]=0:(ht=(it=Nt[Dt]/Ge)*it+(at=Nt[Dt+1]/Ge)*at)>9&&(ht=3*Ge/Math.sqrt(ht),Nt[Dt]=ht*it,Nt[Dt+1]=ht*at);for(Dt=-1;++Dt<=Yt;)ht=(he[Math.min(Yt,Dt+1)][0]-he[Math.max(0,Dt-1)][0])/(6*(1+Nt[Dt]*Nt[Dt])),Ae.push([ht||0,Nt[Dt]*ht||0]);return Ae}(he))}});function Eo(he){return he.length>1?he.join("L"):he+"Z"}function Xc(he){return he.join("L")+"Z"}function Dl(he){for(var Ae=0,Ge=he.length,it=he[0],at=[it[0],",",it[1]];++Ae<Ge;)at.push("V",(it=he[Ae])[1],"H",it[0]);return at.join("")}function _o(he){for(var Ae=0,Ge=he.length,it=he[0],at=[it[0],",",it[1]];++Ae<Ge;)at.push("H",(it=he[Ae])[0],"V",it[1]);return at.join("")}function Lu(he,Ae){if(Ae.length<1||he.length!=Ae.length&&he.length!=Ae.length+2)return Eo(he);var Ge=he.length!=Ae.length,it="",at=he[0],ht=he[1],Nt=Ae[0],Dt=Nt,Yt=1;if(Ge&&(it+="Q"+(ht[0]-2*Nt[0]/3)+","+(ht[1]-2*Nt[1]/3)+","+ht[0]+","+ht[1],at=he[1],Yt=2),Ae.length>1){ht=he[Yt],Yt++,it+="C"+(at[0]+Nt[0])+","+(at[1]+Nt[1])+","+(ht[0]-(Dt=Ae[1])[0])+","+(ht[1]-Dt[1])+","+ht[0]+","+ht[1];for(var sr=2;sr<Ae.length;sr++,Yt++)it+="S"+((ht=he[Yt])[0]-(Dt=Ae[sr])[0])+","+(ht[1]-Dt[1])+","+ht[0]+","+ht[1]}if(Ge){var fr=he[Yt];it+="Q"+(ht[0]+2*Dt[0]/3)+","+(ht[1]+2*Dt[1]/3)+","+fr[0]+","+fr[1]}return it}function Iu(he,Ae){for(var at,Ge=[],it=(1-Ae)/2,ht=he[0],Nt=he[1],Dt=1,Yt=he.length;++Dt<Yt;)at=ht,ht=Nt,Ge.push([it*((Nt=he[Dt])[0]-at[0]),it*(Nt[1]-at[1])]);return Ge}function qu(he){if(he.length<3)return Eo(he);var Ae=1,Ge=he.length,it=he[0],at=it[0],ht=it[1],Nt=[at,at,at,(it=he[1])[0]],Dt=[ht,ht,ht,it[1]],Yt=[at,",",ht,"L",As(Ls,Nt),",",As(Ls,Dt)];for(he.push(he[Ge-1]);++Ae<=Ge;)it=he[Ae],Nt.shift(),Nt.push(it[0]),Dt.shift(),Dt.push(it[1]),fl(Yt,Nt,Dt);return he.pop(),Yt.push("L",it),Yt.join("")}function As(he,Ae){return he[0]*Ae[0]+he[1]*Ae[1]+he[2]*Ae[2]+he[3]*Ae[3]}ul.forEach(function(he,Ae){Ae.key=he,Ae.closed=/-closed$/.test(he)});var Jf=[0,2/3,1/3,0],Pu=[0,1/3,2/3,0],Ls=[0,1/6,2/3,1/6];function fl(he,Ae,Ge){he.push("C",As(Jf,Ae),",",As(Jf,Ge),",",As(Pu,Ae),",",As(Pu,Ge),",",As(Ls,Ae),",",As(Ls,Ge))}function fu(he,Ae){return(Ae[1]-he[1])/(Ae[0]-he[0])}function yf(he){for(var Ae,at,ht,Ge=-1,it=he.length;++Ge<it;)ht=(Ae=he[Ge])[1]-et,Ae[0]=(at=Ae[0])*Math.cos(ht),Ae[1]=at*Math.sin(ht);return he}function wc(he){var Ae=Ir,Ge=Ir,it=0,at=gn,ht=pf,Nt=Eo,Dt=Nt.key,Yt=Nt,sr="L",fr=.7;function zr(Fr){var mn,ki,Di,fn=[],yn=[],Hr=[],Wr=-1,qr=Fr.length,rn=Tr(Ae),on=Tr(it),ei=Ae===Ge?function(){return ki}:Tr(Ge),Ei=it===at?function(){return Di}:Tr(at);function Ii(){fn.push("M",Nt(he(Hr),fr),sr,Yt(he(yn.reverse()),fr),"Z")}for(;++Wr<qr;)ht.call(this,mn=Fr[Wr],Wr)?(yn.push([ki=+rn.call(this,mn,Wr),Di=+on.call(this,mn,Wr)]),Hr.push([+ei.call(this,mn,Wr),+Ei.call(this,mn,Wr)])):yn.length&&(Ii(),yn=[],Hr=[]);return yn.length&&Ii(),fn.length?fn.join(""):null}return zr.x=function(Fr){return arguments.length?(Ae=Ge=Fr,zr):Ge},zr.x0=function(Fr){return arguments.length?(Ae=Fr,zr):Ae},zr.x1=function(Fr){return arguments.length?(Ge=Fr,zr):Ge},zr.y=function(Fr){return arguments.length?(it=at=Fr,zr):at},zr.y0=function(Fr){return arguments.length?(it=Fr,zr):it},zr.y1=function(Fr){return arguments.length?(at=Fr,zr):at},zr.defined=function(Fr){return arguments.length?(ht=Fr,zr):ht},zr.interpolate=function(Fr){return arguments.length?(Dt="function"==typeof Fr?Nt=Fr:(Nt=ul.get(Fr)||Eo).key,Yt=Nt.reverse||Nt,sr=Nt.closed?"M":"L",zr):Dt},zr.tension=function(Fr){return arguments.length?(fr=Fr,zr):fr},zr}function tt(he){return he.source}function st(he){return he.target}function xt(he){return he.radius}function Tt(he){return[he.x,he.y]}function Ot(){return 64}function Wt(){return"circle"}function br(he){var Ae=Math.sqrt(he/ge);return"M0,"+Ae+"A"+Ae+","+Ae+" 0 1,1 0,"+-Ae+"A"+Ae+","+Ae+" 0 1,1 0,"+Ae+"Z"}l.svg.line.radial=function(){var he=lu(yf);return he.radius=he.x,delete he.x,he.angle=he.y,delete he.y,he},Dl.reverse=_o,_o.reverse=Dl,l.svg.area=function(){return wc(V)},l.svg.area.radial=function(){var he=wc(yf);return he.radius=he.x,delete he.x,he.innerRadius=he.x0,delete he.x0,he.outerRadius=he.x1,delete he.x1,he.angle=he.y,delete he.y,he.startAngle=he.y0,delete he.y0,he.endAngle=he.y1,delete he.y1,he},l.svg.chord=function(){var he=tt,Ae=st,Ge=xt,it=su,at=Js;function ht(fr,zr){var Fr=Nt(this,he,fr,zr),fn=Nt(this,Ae,fr,zr);return"M"+Fr.p0+Yt(Fr.r,Fr.p1,Fr.a1-Fr.a0)+(function Dt(fr,zr){return fr.a0==zr.a0&&fr.a1==zr.a1}(Fr,fn)?sr(0,0,0,Fr.p0):sr(0,0,0,fn.p0)+Yt(fn.r,fn.p1,fn.a1-fn.a0)+sr(0,0,0,Fr.p0))+"Z"}function Nt(fr,zr,Fr,fn){var yn=zr.call(fr,Fr,fn),Hr=Ge.call(fr,yn,fn),Wr=it.call(fr,yn,fn)-et,qr=at.call(fr,yn,fn)-et;return{r:Hr,a0:Wr,a1:qr,p0:[Hr*Math.cos(Wr),Hr*Math.sin(Wr)],p1:[Hr*Math.cos(qr),Hr*Math.sin(qr)]}}function Yt(fr,zr,Fr){return"A"+fr+","+fr+" 0 "+ +(Fr>ge)+",1 "+zr}function sr(fr,zr,Fr,fn){return"Q 0,0 "+fn}return ht.radius=function(fr){return arguments.length?(Ge=Tr(fr),ht):Ge},ht.source=function(fr){return arguments.length?(he=Tr(fr),ht):he},ht.target=function(fr){return arguments.length?(Ae=Tr(fr),ht):Ae},ht.startAngle=function(fr){return arguments.length?(it=Tr(fr),ht):it},ht.endAngle=function(fr){return arguments.length?(at=Tr(fr),ht):at},ht},l.svg.diagonal=function(){var he=tt,Ae=st,Ge=Tt;function it(at,ht){var Nt=he.call(this,at,ht),Dt=Ae.call(this,at,ht),Yt=(Nt.y+Dt.y)/2,sr=[Nt,{x:Nt.x,y:Yt},{x:Dt.x,y:Yt},Dt];return"M"+(sr=sr.map(Ge))[0]+"C"+sr[1]+" "+sr[2]+" "+sr[3]}return it.source=function(at){return arguments.length?(he=Tr(at),it):he},it.target=function(at){return arguments.length?(Ae=Tr(at),it):Ae},it.projection=function(at){return arguments.length?(Ge=at,it):Ge},it},l.svg.diagonal.radial=function(){var he=l.svg.diagonal(),Ae=Tt,Ge=he.projection;return he.projection=function(it){return arguments.length?Ge(function Bt(he){return function(){var Ae=he.apply(this,arguments),Ge=Ae[0],it=Ae[1]-et;return[Ge*Math.cos(it),Ge*Math.sin(it)]}}(Ae=it)):Ae},he},l.svg.symbol=function(){var he=Wt,Ae=Ot;function Ge(it,at){return(Sr.get(he.call(this,it,at))||br)(Ae.call(this,it,at))}return Ge.type=function(it){return arguments.length?(he=Tr(it),Ge):he},Ge.size=function(it){return arguments.length?(Ae=Tr(it),Ge):Ae},Ge};var Sr=l.map({circle:br,cross:function(he){var Ae=Math.sqrt(he/5)/2;return"M"+-3*Ae+","+-Ae+"H"+-Ae+"V"+-3*Ae+"H"+Ae+"V"+-Ae+"H"+3*Ae+"V"+Ae+"H"+Ae+"V"+3*Ae+"H"+-Ae+"V"+Ae+"H"+-3*Ae+"Z"},diamond:function(he){var Ae=Math.sqrt(he/(2*Ar)),Ge=Ae*Ar;return"M0,"+-Ae+"L"+Ge+",0 0,"+Ae+" "+-Ge+",0Z"},square:function(he){var Ae=Math.sqrt(he)/2;return"M"+-Ae+","+-Ae+"L"+Ae+","+-Ae+" "+Ae+","+Ae+" "+-Ae+","+Ae+"Z"},"triangle-down":function(he){var Ae=Math.sqrt(he/gr),Ge=Ae*gr/2;return"M0,"+Ge+"L"+Ae+","+-Ge+" "+-Ae+","+-Ge+"Z"},"triangle-up":function(he){var Ae=Math.sqrt(he/gr),Ge=Ae*gr/2;return"M0,"+-Ge+"L"+Ae+","+Ge+" "+-Ae+","+Ge+"Z"}});l.svg.symbolTypes=Sr.keys();var gr=Math.sqrt(3),Ar=Math.tan(30*ft);$.transition=function(he){for(var at,ht,Ae=ti||++Pn,Ge=$i(he),it=[],Nt=Si||{time:Date.now(),ease:Pf,delay:0,duration:250},Dt=-1,Yt=this.length;++Dt<Yt;){it.push(at=[]);for(var sr=this[Dt],fr=-1,zr=sr.length;++fr<zr;)(ht=sr[fr])&&sa(ht,fr,Ge,Ae,Nt),at.push(ht)}return sn(it,Ge,Ae)},$.interrupt=function(he){return this.each(null==he?_r:en($i(he)))};var _r=en($i());function en(he){return function(){var Ae,Ge,it;(Ae=this[he])&&(it=Ae[Ge=Ae.active])&&(it.timer.c=null,it.timer.t=NaN,--Ae.count?delete Ae[Ge]:delete this[he],Ae.active+=.5,it.event&&it.event.interrupt.call(this,this.__data__,it.index))}}function sn(he,Ae,Ge){return K(he,cn),he.namespace=Ae,he.id=Ge,he}var ti,Si,cn=[],Pn=0;function Yi(he,Ae,Ge,it){var at=he.id,ht=he.namespace;return We(he,"function"==typeof Ge?function(Nt,Dt,Yt){Nt[ht][at].tween.set(Ae,it(Ge.call(Nt,Nt.__data__,Dt,Yt)))}:(Ge=it(Ge),function(Nt){Nt[ht][at].tween.set(Ae,Ge)}))}function ji(he){return null==he&&(he=""),function(){this.textContent=he}}function $i(he){return null==he?"__transition__":"__transition_"+he+"__"}function sa(he,Ae,Ge,it,at){var Dt,Yt,sr,fr,zr,ht=he[Ge]||(he[Ge]={active:0,count:0}),Nt=ht[it];function fn(Hr){var Wr=ht.active,qr=ht[Wr];for(var mn in qr&&(qr.timer.c=null,qr.timer.t=NaN,--ht.count,delete ht[Wr],qr.event&&qr.event.interrupt.call(he,he.__data__,qr.index)),ht)if(+mn<it){var rn=ht[mn];rn.timer.c=null,rn.timer.t=NaN,--ht.count,delete ht[mn]}Yt.c=yn,li(function(){return Yt.c&&yn(Hr||1)&&(Yt.c=null,Yt.t=NaN),1},0,Dt),ht.active=it,Nt.event&&Nt.event.start.call(he,he.__data__,Ae),zr=[],Nt.tween.forEach(function(on,ei){(ei=ei.call(he,he.__data__,Ae))&&zr.push(ei)}),fr=Nt.ease,sr=Nt.duration}function yn(Hr){for(var Wr=Hr/sr,qr=fr(Wr),mn=zr.length;mn>0;)zr[--mn].call(he,qr);if(Wr>=1)return Nt.event&&Nt.event.end.call(he,he.__data__,Ae),--ht.count?delete ht[it]:delete he[Ge],1}Nt||(Yt=li(function Fr(Hr){var Wr=Nt.delay;if(Yt.t=Wr+Dt,Wr<=Hr)return fn(Hr-Wr);Yt.c=fn},0,Dt=at.time),Nt=ht[it]={tween:new L,time:Dt,timer:Yt,delay:at.delay,duration:at.duration,ease:at.ease,index:Ae},at=null,++ht.count)}cn.call=$.call,cn.empty=$.empty,cn.node=$.node,cn.size=$.size,l.transition=function(he,Ae){return he&&he.transition?ti?he.transition(Ae):he:l.selection().transition(he)},l.transition.prototype=cn,cn.select=function(he){var at,ht,Nt,Ae=this.id,Ge=this.namespace,it=[];he=le(he);for(var Dt=-1,Yt=this.length;++Dt<Yt;){it.push(at=[]);for(var sr=this[Dt],fr=-1,zr=sr.length;++fr<zr;)(Nt=sr[fr])&&(ht=he.call(Nt,Nt.__data__,fr,Dt))?("__data__"in Nt&&(ht.__data__=Nt.__data__),sa(ht,fr,Ge,Ae,Nt[Ge][Ae]),at.push(ht)):at.push(null)}return sn(it,Ge,Ae)},cn.selectAll=function(he){var at,ht,Nt,Dt,Yt,Ae=this.id,Ge=this.namespace,it=[];he=se(he);for(var sr=-1,fr=this.length;++sr<fr;)for(var zr=this[sr],Fr=-1,fn=zr.length;++Fr<fn;)if(Nt=zr[Fr]){Yt=Nt[Ge][Ae],ht=he.call(Nt,Nt.__data__,Fr,sr),it.push(at=[]);for(var yn=-1,Hr=ht.length;++yn<Hr;)(Dt=ht[yn])&&sa(Dt,yn,Ge,Ae,Yt),at.push(Dt)}return sn(it,Ge,Ae)},cn.filter=function(he){var Ge,at,Ae=[];"function"!=typeof he&&(he=ut(he));for(var ht=0,Nt=this.length;ht<Nt;ht++){Ae.push(Ge=[]);for(var it,Dt=0,Yt=(it=this[ht]).length;Dt<Yt;Dt++)(at=it[Dt])&&he.call(at,at.__data__,Dt,ht)&&Ge.push(at)}return sn(Ae,this.namespace,this.id)},cn.tween=function(he,Ae){var Ge=this.id,it=this.namespace;return arguments.length<2?this.node()[it][Ge].tween.get(he):We(this,null==Ae?function(at){at[it][Ge].tween.remove(he)}:function(at){at[it][Ge].tween.set(he,Ae)})},cn.attr=function(he,Ae){if(arguments.length<2){for(Ae in he)this.attr(Ae,he[Ae]);return this}var Ge="transform"==he?yo:Ji,it=l.ns.qualify(he);function at(){this.removeAttribute(it)}function ht(){this.removeAttributeNS(it.space,it.local)}return Yi(this,"attr."+he,Ae,it.local?function Dt(Yt){return null==Yt?ht:(Yt+="",function(){var fr,sr=this.getAttributeNS(it.space,it.local);return sr!==Yt&&(fr=Ge(sr,Yt),function(zr){this.setAttributeNS(it.space,it.local,fr(zr))})})}:function Nt(Yt){return null==Yt?at:(Yt+="",function(){var fr,sr=this.getAttribute(it);return sr!==Yt&&(fr=Ge(sr,Yt),function(zr){this.setAttribute(it,fr(zr))})})})},cn.attrTween=function(he,Ae){var Ge=l.ns.qualify(he);return this.tween("attr."+he,Ge.local?function at(ht,Nt){var Dt=Ae.call(this,ht,Nt,this.getAttributeNS(Ge.space,Ge.local));return Dt&&function(Yt){this.setAttributeNS(Ge.space,Ge.local,Dt(Yt))}}:function it(ht,Nt){var Dt=Ae.call(this,ht,Nt,this.getAttribute(Ge));return Dt&&function(Yt){this.setAttribute(Ge,Dt(Yt))}})},cn.style=function(he,Ae,Ge){var it=arguments.length;if(it<3){if("string"!=typeof he){for(Ge in it<2&&(Ae=""),he)this.style(Ge,he[Ge],Ae);return this}Ge=""}function at(){this.style.removeProperty(he)}return Yi(this,"style."+he,Ae,function ht(Nt){return null==Nt?at:(Nt+="",function(){var Yt,Dt=r(this).getComputedStyle(this,null).getPropertyValue(he);return Dt!==Nt&&(Yt=Ji(Dt,Nt),function(sr){this.style.setProperty(he,Yt(sr),Ge)})})})},cn.styleTween=function(he,Ae,Ge){return arguments.length<3&&(Ge=""),this.tween("style."+he,function it(at,ht){var Nt=Ae.call(this,at,ht,r(this).getComputedStyle(this,null).getPropertyValue(he));return Nt&&function(Dt){this.style.setProperty(he,Nt(Dt),Ge)}})},cn.text=function(he){return Yi(this,"text",he,ji)},cn.remove=function(){var he=this.namespace;return this.each("end.transition",function(){var Ae;this[he].count<2&&(Ae=this.parentNode)&&Ae.removeChild(this)})},cn.ease=function(he){var Ae=this.id,Ge=this.namespace;return arguments.length<1?this.node()[Ge][Ae].ease:("function"!=typeof he&&(he=l.ease.apply(l,arguments)),We(this,function(it){it[Ge][Ae].ease=he}))},cn.delay=function(he){var Ae=this.id,Ge=this.namespace;return arguments.length<1?this.node()[Ge][Ae].delay:We(this,"function"==typeof he?function(it,at,ht){it[Ge][Ae].delay=+he.call(it,it.__data__,at,ht)}:(he=+he,function(it){it[Ge][Ae].delay=he}))},cn.duration=function(he){var Ae=this.id,Ge=this.namespace;return arguments.length<1?this.node()[Ge][Ae].duration:We(this,"function"==typeof he?function(it,at,ht){it[Ge][Ae].duration=Math.max(1,he.call(it,it.__data__,at,ht))}:(he=Math.max(1,he),function(it){it[Ge][Ae].duration=he}))},cn.each=function(he,Ae){var Ge=this.id,it=this.namespace;if(arguments.length<2){var at=Si,ht=ti;try{ti=Ge,We(this,function(Nt,Dt,Yt){Si=Nt[it][Ge],he.call(Nt,Nt.__data__,Dt,Yt)})}finally{Si=at,ti=ht}}else We(this,function(Nt){var Dt=Nt[it][Ge];(Dt.event||(Dt.event=l.dispatch("start","end","interrupt"))).on(he,Ae)});return this},cn.transition=function(){for(var at,Nt,Dt,he=this.id,Ae=++Pn,Ge=this.namespace,it=[],Yt=0,sr=this.length;Yt<sr;Yt++){it.push(at=[]);for(var ht,fr=0,zr=(ht=this[Yt]).length;fr<zr;fr++)(Nt=ht[fr])&&sa(Nt,fr,Ge,Ae,{time:(Dt=Nt[Ge][he]).time,ease:Dt.ease,delay:Dt.delay+Dt.duration,duration:Dt.duration}),at.push(Nt)}return sn(it,Ge,Ae)},l.svg.axis=function(){var Dt,he=l.scale.linear(),Ae=Ha,Ge=6,it=6,at=3,ht=[10],Nt=null;function Yt(sr){sr.each(function(){var on,fr=l.select(this),zr=this.__chart__||he,Fr=this.__chart__=he.copy(),fn=Nt??(Fr.ticks?Fr.ticks.apply(Fr,ht):Fr.domain()),yn=Dt??(Fr.tickFormat?Fr.tickFormat.apply(Fr,ht):V),Hr=fr.selectAll(".tick").data(fn,Fr),Wr=Hr.enter().insert("g",".domain").attr("class","tick").style("opacity",Ue),qr=l.transition(Hr.exit()).style("opacity",Ue).remove(),mn=l.transition(Hr.order()).style("opacity",1),rn=Math.max(Ge,0)+at,ei=iu(Fr),Ei=fr.selectAll(".domain").data([0]),ki=(Ei.enter().append("path").attr("class","domain"),l.transition(Ei));Wr.append("line"),Wr.append("text");var Ta,co,Gn,Kn,Di=Wr.select("line"),Ii=mn.select("line"),zi=Hr.select("text").text(yn),Gi=Wr.select("text"),_i=mn.select("text"),ea="top"===Ae||"left"===Ae?-1:1;if("bottom"===Ae||"top"===Ae?(on=Ci,Ta="x",Gn="y",co="x2",Kn="y2",zi.attr("dy",ea<0?"0em":".71em").style("text-anchor","middle"),ki.attr("d","M"+ei[0]+","+ea*it+"V0H"+ei[1]+"V"+ea*it)):(on=ro,Ta="y",Gn="x",co="y2",Kn="x2",zi.attr("dy",".32em").style("text-anchor",ea<0?"end":"start"),ki.attr("d","M"+ea*it+","+ei[0]+"H0V"+ei[1]+"H"+ea*it)),Di.attr(Kn,ea*Ge),Gi.attr(Gn,ea*rn),Ii.attr(co,0).attr(Kn,ea*Ge),_i.attr(Ta,0).attr(Gn,ea*rn),Fr.rangeBand){var ta=Fr,qi=ta.rangeBand()/2;zr=Fr=function(ai){return ta(ai)+qi}}else zr.rangeBand?zr=Fr:qr.call(on,Fr,zr);Wr.call(on,zr,Fr),mn.call(on,Fr,Fr)})}return Yt.scale=function(sr){return arguments.length?(he=sr,Yt):he},Yt.orient=function(sr){return arguments.length?(Ae=sr in Wa?sr+"":Ha,Yt):Ae},Yt.ticks=function(){return arguments.length?(ht=I(arguments),Yt):ht},Yt.tickValues=function(sr){return arguments.length?(Nt=sr,Yt):Nt},Yt.tickFormat=function(sr){return arguments.length?(Dt=sr,Yt):Dt},Yt.tickSize=function(sr){var fr=arguments.length;return fr?(Ge=+sr,it=+arguments[fr-1],Yt):Ge},Yt.innerTickSize=function(sr){return arguments.length?(Ge=+sr,Yt):Ge},Yt.outerTickSize=function(sr){return arguments.length?(it=+sr,Yt):it},Yt.tickPadding=function(sr){return arguments.length?(at=+sr,Yt):at},Yt.tickSubdivide=function(){return arguments.length&&Yt},Yt};var Ha="bottom",Wa={top:1,right:1,bottom:1,left:1};function Ci(he,Ae,Ge){he.attr("transform",function(it){var at=Ae(it);return"translate("+(isFinite(at)?at:Ge(it))+",0)"})}function ro(he,Ae,Ge){he.attr("transform",function(it){var at=Ae(it);return"translate(0,"+(isFinite(at)?at:Ge(it))+")"})}l.svg.brush=function(){var ht,Nt,he=te(fr,"brushstart","brush","brushend"),Ae=null,Ge=null,it=[0,0],at=[0,0],Dt=!0,Yt=!0,sr=cs[0];function fr(Hr){Hr.each(function(){var Wr=l.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",yn).on("touchstart.brush",yn),qr=Wr.selectAll(".background").data([0]);qr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Wr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var mn=Wr.selectAll(".resize").data(sr,V);mn.exit().remove(),mn.enter().append("g").attr("class",function(Ei){return"resize "+Ei}).style("cursor",function(Ei){return io[Ei]}).append("rect").attr("x",function(Ei){return/[ew]$/.test(Ei)?-3:null}).attr("y",function(Ei){return/^[ns]/.test(Ei)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),mn.style("display",fr.empty()?"none":null);var ei,rn=l.transition(Wr),on=l.transition(qr);Ae&&(ei=iu(Ae),on.attr("x",ei[0]).attr("width",ei[1]-ei[0]),Fr(rn)),Ge&&(ei=iu(Ge),on.attr("y",ei[0]).attr("height",ei[1]-ei[0]),fn(rn)),zr(rn)})}function zr(Hr){Hr.selectAll(".resize").attr("transform",function(Wr){return"translate("+it[+/e$/.test(Wr)]+","+at[+/^s/.test(Wr)]+")"})}function Fr(Hr){Hr.select(".extent").attr("x",it[0]),Hr.selectAll(".extent,.n>rect,.s>rect").attr("width",it[1]-it[0])}function fn(Hr){Hr.select(".extent").attr("y",at[0]),Hr.selectAll(".extent,.e>rect,.w>rect").attr("height",at[1]-at[0])}function yn(){var Di,zi,Hr=this,Wr=l.select(l.event.target),qr=he.of(Hr,arguments),mn=l.select(Hr),rn=Wr.datum(),on=!/^(n|s)$/.test(rn)&&Ae,ei=!/^(e|w)$/.test(rn)&&Ge,Ei=Wr.classed("extent"),ki=Re(Hr),Ii=l.mouse(Hr),Gi=l.select(r(Hr)).on("keydown.brush",function Ta(){32==l.event.keyCode&&(Ei||(Di=null,Ii[0]-=it[1],Ii[1]-=at[1],Ei=2),ce())}).on("keyup.brush",function co(){32==l.event.keyCode&&2==Ei&&(Ii[0]+=it[1],Ii[1]+=at[1],Ei=0,ce())});if(l.event.changedTouches?Gi.on("touchmove.brush",Gn).on("touchend.brush",ta):Gi.on("mousemove.brush",Gn).on("mouseup.brush",ta),mn.interrupt().selectAll("*").interrupt(),Ei)Ii[0]=it[0]-Ii[0],Ii[1]=at[0]-Ii[1];else if(rn){var _i=+/w$/.test(rn),ea=+/^n/.test(rn);zi=[it[1-_i]-Ii[0],at[1-ea]-Ii[1]],Ii[0]=it[_i],Ii[1]=at[ea]}else l.event.altKey&&(Di=Ii.slice());function Gn(){var qi=l.mouse(Hr),ai=!1;zi&&(qi[0]+=zi[0],qi[1]+=zi[1]),Ei||(l.event.altKey?(Di||(Di=[(it[0]+it[1])/2,(at[0]+at[1])/2]),Ii[0]=it[+(qi[0]<Di[0])],Ii[1]=at[+(qi[1]<Di[1])]):Di=null),on&&Kn(qi,Ae,0)&&(Fr(mn),ai=!0),ei&&Kn(qi,Ge,1)&&(fn(mn),ai=!0),ai&&(zr(mn),qr({type:"brush",mode:Ei?"move":"resize"}))}function Kn(qi,ai,Ni){var Jo,ya,ka=iu(ai),za=ka[0],ho=ka[1],Ba=Ii[Ni],zo=Ni?at:it,Bo=zo[1]-zo[0];if(Ei&&(za-=Ba,ho-=Bo+Ba),Jo=(Ni?Yt:Dt)?Math.max(za,Math.min(ho,qi[Ni])):qi[Ni],Ei?ya=(Jo+=Ba)+Bo:(Di&&(Ba=Math.max(za,Math.min(ho,2*Di[Ni]-Jo))),Ba<Jo?(ya=Jo,Jo=Ba):ya=Ba),zo[0]!=Jo||zo[1]!=ya)return Ni?Nt=null:ht=null,zo[0]=Jo,zo[1]=ya,!0}function ta(){Gn(),mn.style("pointer-events","all").selectAll(".resize").style("display",fr.empty()?"none":null),l.select("body").style("cursor",null),Gi.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ki(),qr({type:"brushend"})}mn.style("pointer-events","none").selectAll(".resize").style("display",null),l.select("body").style("cursor",Wr.style("cursor")),qr({type:"brushstart"}),Gn()}return fr.event=function(Hr){Hr.each(function(){var Wr=he.of(this,arguments),qr={x:it,y:at,i:ht,j:Nt},mn=this.__chart__||qr;this.__chart__=qr,ti?l.select(this).transition().each("start.brush",function(){ht=mn.i,Nt=mn.j,it=mn.x,at=mn.y,Wr({type:"brushstart"})}).tween("brush:brush",function(){var rn=go(it,qr.x),on=go(at,qr.y);return ht=Nt=null,function(ei){it=qr.x=rn(ei),at=qr.y=on(ei),Wr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ht=qr.i,Nt=qr.j,Wr({type:"brush",mode:"resize"}),Wr({type:"brushend"})}):(Wr({type:"brushstart"}),Wr({type:"brush",mode:"resize"}),Wr({type:"brushend"}))})},fr.x=function(Hr){return arguments.length?(sr=cs[!(Ae=Hr)<<1|!Ge],fr):Ae},fr.y=function(Hr){return arguments.length?(sr=cs[!Ae<<1|!(Ge=Hr)],fr):Ge},fr.clamp=function(Hr){return arguments.length?(Ae&&Ge?(Dt=!!Hr[0],Yt=!!Hr[1]):Ae?Dt=!!Hr:Ge&&(Yt=!!Hr),fr):Ae&&Ge?[Dt,Yt]:Ae?Dt:Ge?Yt:null},fr.extent=function(Hr){var Wr,qr,mn,rn,on;return arguments.length?(Ae&&(Wr=Hr[0],qr=Hr[1],Ge&&(Wr=Wr[0],qr=qr[0]),ht=[Wr,qr],Ae.invert&&(Wr=Ae(Wr),qr=Ae(qr)),qr<Wr&&(on=Wr,Wr=qr,qr=on),(Wr!=it[0]||qr!=it[1])&&(it=[Wr,qr])),Ge&&(mn=Hr[0],rn=Hr[1],Ae&&(mn=mn[1],rn=rn[1]),Nt=[mn,rn],Ge.invert&&(mn=Ge(mn),rn=Ge(rn)),rn<mn&&(on=mn,mn=rn,rn=on),(mn!=at[0]||rn!=at[1])&&(at=[mn,rn])),fr):(Ae&&(ht?(Wr=ht[0],qr=ht[1]):(Wr=it[0],qr=it[1],Ae.invert&&(Wr=Ae.invert(Wr),qr=Ae.invert(qr)),qr<Wr&&(on=Wr,Wr=qr,qr=on))),Ge&&(Nt?(mn=Nt[0],rn=Nt[1]):(mn=at[0],rn=at[1],Ge.invert&&(mn=Ge.invert(mn),rn=Ge.invert(rn)),rn<mn&&(on=mn,mn=rn,rn=on))),Ae&&Ge?[[Wr,mn],[qr,rn]]:Ae?[Wr,qr]:Ge&&[mn,rn])},fr.clear=function(){return fr.empty()||(it=[0,0],at=[0,0],ht=Nt=null),fr},fr.empty=function(){return!!Ae&&it[0]==it[1]||!!Ge&&at[0]==at[1]},l.rebind(fr,he,"on")};var io={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},cs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function No(he){return JSON.parse(he.responseText)}function Ja(he){var Ae=v.createRange();return Ae.selectNode(v.body),Ae.createContextualFragment(he.responseText)}l.text=nr(function(he){return he.responseText}),l.json=function(he,Ae){return Xr(he,"application/json",No,Ae)},l.html=function(he,Ae){return Xr(he,"text/html",Ja,Ae)},l.xml=nr(function(he){return he.responseXML}),void 0!==(k="function"==typeof(S=l)?S.call(J,t,J,oe):S)&&(oe.exports=k)}).apply(self)},88294:function(oe,J,t){"use strict";oe.exports=t(62849)},62849:function(oe,J,t){"use strict";var S=t(91358),k=t(53435),l=t(18863),R=t(21527),I=t(71299),v=t(46775),w=t(30120),r=t(64941),n=t(90660),c=t(27084);function f(h,d){for(var b=d[0],p=d[1],u=1/(d[2]-b),g=1/(d[3]-p),C=new Array(h.length),T=0,L=h.length/2;T<L;T++)C[2*T]=k((h[2*T]-b)*u,0,1),C[2*T+1]=k((h[2*T+1]-p)*g,0,1);return C}oe.exports=function(d,b){b||(b={}),d=w(d,"float64"),b=I(b,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var p=v(b.maxDepth,255),A=v(b.bounds,R(d,2));A[0]===A[2]&&A[2]++,A[1]===A[3]&&A[3]++;var g,m=f(d,A),u=d.length>>>1;b.dtype||(b.dtype="array"),"string"==typeof b.dtype?g=new(n(b.dtype))(u):b.dtype&&(g=b.dtype,Array.isArray(g)&&(g.length=u));for(var C=0;C<u;++C)g[C]=C;var T=[],L=[],x=[],E=[];!function _(U,G,Y,ee,ue,ce){if(!ee.length)return null;var pe=T[ue]||(T[ue]=[]),te=x[ue]||(x[ue]=[]),Q=L[ue]||(L[ue]=[]),K=pe.length;if(++ue>p||ce>1073741824){for(var Z=0;Z<ee.length;Z++)pe.push(ee[Z]),te.push(ce),Q.push(null,null,null,null);return K}if(pe.push(ee[0]),te.push(ce),ee.length<=1)return Q.push(null,null,null,null),K;for(var q=.5*Y,fe=U+q,re=G+q,$=[],le=[],se=[],de=[],we=1,Ee=ee.length;we<Ee;we++){var Me=ee[we],Ve=m[2*Me+1];m[2*Me]<fe?Ve<re?$.push(Me):le.push(Me):Ve<re?se.push(Me):de.push(Me)}return Q.push(_(U,G,q,$,ue,ce<<=2),_(U,re,q,le,ue,ce+1),_(fe,G,q,se,ue,ce+2),_(fe,re,q,de,ue,ce+3)),K}(0,0,1,g,0,1);for(var M=0,i=0;i<T.length;i++){var D=T[i];if(g.set)g.set(D,M);else for(var y=0,B=D.length;y<B;y++)g[y+M]=D[y];var F=M+T[i].length;E[i]=[M,F],M=F}return g.range=function z(){for(var U=[],G=arguments.length;G--;)U[G]=arguments[G];var Y;if(r(U[U.length-1])){var ee=U.pop();!U.length&&(null!=ee.x||null!=ee.l||null!=ee.left)&&(U=[ee],Y={}),Y=I(ee,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else Y={};U.length||(U=A);var se,ue=l.apply(void 0,U),ce=[Math.min(ue.x,ue.x+ue.width),Math.min(ue.y,ue.y+ue.height),Math.max(ue.x,ue.x+ue.width),Math.max(ue.y,ue.y+ue.height)],pe=ce[0],te=ce[1],Q=ce[2],K=ce[3],Z=f([pe,te,Q,K],A),q=Z[0],fe=Z[1],re=Z[2],$=Z[3],le=v(Y.level,T.length);if(null!=Y.d&&("number"==typeof Y.d?se=[Y.d,Y.d]:Y.d.length&&(se=Y.d),le=Math.min(Math.max(Math.ceil(-c(Math.abs(se[0])/(A[2]-A[0]))),Math.ceil(-c(Math.abs(se[1])/(A[3]-A[1])))),le)),le=Math.min(le,T.length),Y.lod)return function V(U,G,Y,ee,ue){for(var ce=[],pe=0;pe<ue;pe++){var te=x[pe],Q=E[pe][0],K=H(U,G,pe),Z=H(Y,ee,pe),q=S.ge(te,K),fe=S.gt(te,Z,q,te.length-1);ce[pe]=[q+Q,fe+Q]}return ce}(q,fe,re,$,le);var de=[];return function we(Me,Ne,Ve,Pe,Ce,Ie){if(null!==Ce&&null!==Ie&&!(q>Me+Ve||fe>Ne+Ve||re<Me||$<Ne||Pe>=le||Ce===Ie)){var ze=T[Pe];void 0===Ie&&(Ie=ze.length);for(var Ke=Ce;Ke<Ie;Ke++){var ut=ze[Ke],ot=d[2*ut],We=d[2*ut+1];ot>=pe&&ot<=Q&&We>=te&&We<=K&&de.push(ut)}var je=L[Pe],lt=je[4*Ce+0],vt=je[4*Ce+1],pt=je[4*Ce+2],St=je[4*Ce+3],Ct=function Ee(Me,Ne){for(var Ve=null,Pe=0;null===Ve;)if(Ve=Me[4*Ne+Pe],++Pe>Me.length)return null;return Ve}(je,Ce+1),_t=.5*Ve,nt=Pe+1;we(Me,Ne,_t,nt,lt,vt||pt||St||Ct),we(Me,Ne+_t,_t,nt,vt,pt||St||Ct),we(Me+_t,Ne,_t,nt,pt,St||Ct),we(Me+_t,Ne+_t,_t,nt,St,Ct)}}(0,0,1,0,0,1),de},g;function H(U,G,Y){for(var ee=1,ue=.5,ce=.5,pe=.5,te=0;te<Y;te++)ee<<=2,ee+=U<ue?G<ce?0:1:G<ce?2:3,pe*=.5,ue+=U<ue?-pe:pe,ce+=G<ce?-pe:pe;return ee}}},30774:function(oe,J,t){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var S=t(60302),k=6378137;function I(r){var n=0;if(r&&r.length>0){n+=Math.abs(v(r[0]));for(var c=1;c<r.length;c++)n-=Math.abs(v(r[c]))}return n}function v(r){var n,c,f,h,d,b,p=0,A=r.length;if(A>2){for(b=0;b<A;b++)b===A-2?(f=A-2,h=A-1,d=0):b===A-1?(f=A-1,h=0,d=1):(f=b,h=b+1,d=b+2),n=r[f],c=r[h],p+=(w(r[d][0])-w(n[0]))*Math.sin(w(c[1]));p=p*k*k/2}return p}function w(r){return r*Math.PI/180}J.default=function l(r){return S.geomReduce(r,function(n,c){return n+function R(r){var c,n=0;switch(r.type){case"Polygon":return I(r.coordinates);case"MultiPolygon":for(c=0;c<r.coordinates.length;c++)n+=I(r.coordinates[c]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(c)},0)}},23132:function(oe,J){"use strict";function t(M,i,D){void 0===D&&(D={});var y={type:"Feature"};return(0===D.id||D.id)&&(y.id=D.id),D.bbox&&(y.bbox=D.bbox),y.properties=i||{},y.geometry=M,y}function k(M,i,D){if(void 0===D&&(D={}),!M)throw new Error("coordinates is required");if(!Array.isArray(M))throw new Error("coordinates must be an Array");if(M.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!T(M[0])||!T(M[1]))throw new Error("coordinates must contain numbers");return t({type:"Point",coordinates:M},i,D)}function R(M,i,D){void 0===D&&(D={});for(var y=0,B=M;y<B.length;y++){var F=B[y];if(F.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<F[F.length-1].length;_++)if(F[F.length-1][_]!==F[0][_])throw new Error("First and last Position are not equivalent.")}return t({type:"Polygon",coordinates:M},i,D)}function v(M,i,D){if(void 0===D&&(D={}),M.length<2)throw new Error("coordinates must be an array of two or more positions");return t({type:"LineString",coordinates:M},i,D)}function r(M,i){void 0===i&&(i={});var D={type:"FeatureCollection"};return i.id&&(D.id=i.id),i.bbox&&(D.bbox=i.bbox),D.features=M,D}function n(M,i,D){return void 0===D&&(D={}),t({type:"MultiLineString",coordinates:M},i,D)}function c(M,i,D){return void 0===D&&(D={}),t({type:"MultiPoint",coordinates:M},i,D)}function o(M,i,D){return void 0===D&&(D={}),t({type:"MultiPolygon",coordinates:M},i,D)}function d(M,i){void 0===i&&(i="kilometers");var D=J.factors[i];if(!D)throw new Error(i+" units is invalid");return M*D}function b(M,i){void 0===i&&(i="kilometers");var D=J.factors[i];if(!D)throw new Error(i+" units is invalid");return M/D}function m(M){return M%(2*Math.PI)*180/Math.PI}function T(M){return!isNaN(M)&&null!==M&&!Array.isArray(M)}Object.defineProperty(J,"__esModule",{value:!0}),J.earthRadius=6371008.8,J.factors={centimeters:100*J.earthRadius,centimetres:100*J.earthRadius,degrees:J.earthRadius/111325,feet:3.28084*J.earthRadius,inches:39.37*J.earthRadius,kilometers:J.earthRadius/1e3,kilometres:J.earthRadius/1e3,meters:J.earthRadius,metres:J.earthRadius,miles:J.earthRadius/1609.344,millimeters:1e3*J.earthRadius,millimetres:1e3*J.earthRadius,nauticalmiles:J.earthRadius/1852,radians:1,yards:1.0936*J.earthRadius},J.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/J.earthRadius,yards:1.0936133},J.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},J.feature=t,J.geometry=function S(M,i,D){switch(void 0===D&&(D={}),M){case"Point":return k(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return R(i).geometry;case"MultiPoint":return c(i).geometry;case"MultiLineString":return n(i).geometry;case"MultiPolygon":return o(i).geometry;default:throw new Error(M+" is invalid")}},J.point=k,J.points=function l(M,i,D){return void 0===D&&(D={}),r(M.map(function(y){return k(y,i)}),D)},J.polygon=R,J.polygons=function I(M,i,D){return void 0===D&&(D={}),r(M.map(function(y){return R(y,i)}),D)},J.lineString=v,J.lineStrings=function w(M,i,D){return void 0===D&&(D={}),r(M.map(function(y){return v(y,i)}),D)},J.featureCollection=r,J.multiLineString=n,J.multiPoint=c,J.multiPolygon=o,J.geometryCollection=function f(M,i,D){return void 0===D&&(D={}),t({type:"GeometryCollection",geometries:M},i,D)},J.round=function h(M,i){if(void 0===i&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var D=Math.pow(10,i||0);return Math.round(M*D)/D},J.radiansToLength=d,J.lengthToRadians=b,J.lengthToDegrees=function p(M,i){return m(b(M,i))},J.bearingToAzimuth=function A(M){var i=M%360;return i<0&&(i+=360),i},J.radiansToDegrees=m,J.degreesToRadians=function u(M){return M%360*Math.PI/180},J.convertLength=function g(M,i,D){if(void 0===i&&(i="kilometers"),void 0===D&&(D="kilometers"),!(M>=0))throw new Error("length must be a positive number");return d(b(M,i),D)},J.convertArea=function C(M,i,D){if(void 0===i&&(i="meters"),void 0===D&&(D="kilometers"),!(M>=0))throw new Error("area must be a positive number");var y=J.areaFactors[i];if(!y)throw new Error("invalid original units");var B=J.areaFactors[D];if(!B)throw new Error("invalid final units");return M/y*B},J.isNumber=T,J.isObject=function L(M){return!!M&&M.constructor===Object},J.validateBBox=function x(M){if(!M)throw new Error("bbox is required");if(!Array.isArray(M))throw new Error("bbox must be an Array");if(4!==M.length&&6!==M.length)throw new Error("bbox must be an Array of 4 or 6 numbers");M.forEach(function(i){if(!T(i))throw new Error("bbox must only contain numbers")})},J.validateId=function E(M){if(!M)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof M))throw new Error("id must be a number or a string")}},60302:function(oe,J,t){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var S=t(23132);function k(u,g,C){if(null!==u)for(var T,L,x,E,M,i,D,F,y=0,B=0,_=u.type,z="FeatureCollection"===_,V="Feature"===_,H=z?u.features.length:1,U=0;U<H;U++){M=(F=!!(D=z?u.features[U].geometry:V?u.geometry:u)&&"GeometryCollection"===D.type)?D.geometries.length:1;for(var G=0;G<M;G++){var Y=0,ee=0;if(null!==(E=F?D.geometries[G]:D)){i=E.coordinates;var ue=E.type;switch(y=!C||"Polygon"!==ue&&"MultiPolygon"!==ue?0:1,ue){case null:break;case"Point":if(!1===g(i,B,U,Y,ee))return!1;B++,Y++;break;case"LineString":case"MultiPoint":for(T=0;T<i.length;T++){if(!1===g(i[T],B,U,Y,ee))return!1;B++,"MultiPoint"===ue&&Y++}"LineString"===ue&&Y++;break;case"Polygon":case"MultiLineString":for(T=0;T<i.length;T++){for(L=0;L<i[T].length-y;L++){if(!1===g(i[T][L],B,U,Y,ee))return!1;B++}"MultiLineString"===ue&&Y++,"Polygon"===ue&&ee++}"Polygon"===ue&&Y++;break;case"MultiPolygon":for(T=0;T<i.length;T++){for(ee=0,L=0;L<i[T].length;L++){for(x=0;x<i[T][L].length-y;x++){if(!1===g(i[T][L][x],B,U,Y,ee))return!1;B++}ee++}Y++}break;case"GeometryCollection":for(T=0;T<E.geometries.length;T++)if(!1===k(E.geometries[T],g,C))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function R(u,g){var C;switch(u.type){case"FeatureCollection":for(C=0;C<u.features.length&&!1!==g(u.features[C].properties,C);C++);break;case"Feature":g(u.properties,0)}}function v(u,g){if("Feature"===u.type)g(u,0);else if("FeatureCollection"===u.type)for(var C=0;C<u.features.length&&!1!==g(u.features[C],C);C++);}function n(u,g){var C,T,L,x,E,M,i,D,y,B,F=0,_="FeatureCollection"===u.type,z="Feature"===u.type,V=_?u.features.length:1;for(C=0;C<V;C++){for(D=_?u.features[C].properties:z?u.properties:{},y=_?u.features[C].bbox:z?u.bbox:void 0,B=_?u.features[C].id:z?u.id:void 0,E=(i=!!(M=_?u.features[C].geometry:z?u.geometry:u)&&"GeometryCollection"===M.type)?M.geometries.length:1,L=0;L<E;L++)if(null!==(x=i?M.geometries[L]:M))switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===g(x,F,D,y,B))return!1;break;case"GeometryCollection":for(T=0;T<x.geometries.length;T++)if(!1===g(x.geometries[T],F,D,y,B))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===g(null,F,D,y,B))return!1;F++}}function o(u,g){n(u,function(C,T,L,x,E){var i,M=null===C?null:C.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return!1!==g(S.feature(C,L,{bbox:x,id:E}),T,0)&&void 0}switch(M){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon"}for(var D=0;D<C.coordinates.length;D++)if(!1===g(S.feature({type:i,coordinates:C.coordinates[D]},L),T,D))return!1})}function h(u,g){o(u,function(C,T,L){var x=0;if(C.geometry){var E=C.geometry.type;if("Point"!==E&&"MultiPoint"!==E){var M,i=0,D=0,y=0;if(!1===k(C,function(B,F,_,z,V){if(void 0===M||T>i||z>D||V>y)return M=B,i=T,D=z,y=V,void(x=0);var H=S.lineString([M,B],C.properties);if(!1===g(H,T,L,V,x))return!1;x++,M=B}))return!1}}})}function b(u,g){if(!u)throw new Error("geojson is required");o(u,function(C,T,L){if(null!==C.geometry){var E=C.geometry.coordinates;switch(C.geometry.type){case"LineString":if(!1===g(C,T,L,0,0))return!1;break;case"Polygon":for(var M=0;M<E.length;M++)if(!1===g(S.lineString(E[M],C.properties),T,L,M))return!1}}})}J.coordEach=k,J.coordReduce=function l(u,g,C,T){var L=C;return k(u,function(x,E,M,i,D){L=0===E&&void 0===C?x:g(L,x,E,M,i,D)},T),L},J.propEach=R,J.propReduce=function I(u,g,C){var T=C;return R(u,function(L,x){T=0===x&&void 0===C?L:g(T,L,x)}),T},J.featureEach=v,J.featureReduce=function w(u,g,C){var T=C;return v(u,function(L,x){T=0===x&&void 0===C?L:g(T,L,x)}),T},J.coordAll=function r(u){var g=[];return k(u,function(C){g.push(C)}),g},J.geomEach=n,J.geomReduce=function c(u,g,C){var T=C;return n(u,function(L,x,E,M,i){T=0===x&&void 0===C?L:g(T,L,x,E,M,i)}),T},J.flattenEach=o,J.flattenReduce=function f(u,g,C){var T=C;return o(u,function(L,x,E){T=0===x&&0===E&&void 0===C?L:g(T,L,x,E)}),T},J.segmentEach=h,J.segmentReduce=function d(u,g,C){var T=C,L=!1;return h(u,function(x,E,M,i,D){T=!1===L&&void 0===C?x:g(T,x,E,M,i,D),L=!0}),T},J.lineEach=b,J.lineReduce=function p(u,g,C){var T=C;return b(u,function(L,x,E,M){T=0===x&&void 0===C?L:g(T,L,x,E,M)}),T},J.findSegment=function A(u,g){if(!S.isObject(g=g||{}))throw new Error("options is invalid");var M,C=g.featureIndex||0,T=g.multiFeatureIndex||0,L=g.geometryIndex||0,x=g.segmentIndex||0,E=g.properties;switch(u.type){case"FeatureCollection":C<0&&(C=u.features.length+C),E=E||u.features[C].properties,M=u.features[C].geometry;break;case"Feature":E=E||u.properties,M=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=u;break;default:throw new Error("geojson is invalid")}if(null===M)return null;var i=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=i.length+x-1),S.lineString([i[x],i[x+1]],E,g);case"Polygon":return L<0&&(L=i.length+L),x<0&&(x=i[L].length+x-1),S.lineString([i[L][x],i[L][x+1]],E,g);case"MultiLineString":return T<0&&(T=i.length+T),x<0&&(x=i[T].length+x-1),S.lineString([i[T][x],i[T][x+1]],E,g);case"MultiPolygon":return T<0&&(T=i.length+T),L<0&&(L=i[T].length+L),x<0&&(x=i[T][L].length-x-1),S.lineString([i[T][L][x],i[T][L][x+1]],E,g)}throw new Error("geojson is invalid")},J.findPoint=function m(u,g){if(!S.isObject(g=g||{}))throw new Error("options is invalid");var M,C=g.featureIndex||0,T=g.multiFeatureIndex||0,L=g.geometryIndex||0,x=g.coordIndex||0,E=g.properties;switch(u.type){case"FeatureCollection":C<0&&(C=u.features.length+C),E=E||u.features[C].properties,M=u.features[C].geometry;break;case"Feature":E=E||u.properties,M=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=u;break;default:throw new Error("geojson is invalid")}if(null===M)return null;var i=M.coordinates;switch(M.type){case"Point":return S.point(i,E,g);case"MultiPoint":return T<0&&(T=i.length+T),S.point(i[T],E,g);case"LineString":return x<0&&(x=i.length+x),S.point(i[x],E,g);case"Polygon":return L<0&&(L=i.length+L),x<0&&(x=i[L].length+x),S.point(i[L][x],E,g);case"MultiLineString":return T<0&&(T=i.length+T),x<0&&(x=i[T].length+x),S.point(i[T][x],E,g);case"MultiPolygon":return T<0&&(T=i.length+T),L<0&&(L=i[T].length+L),x<0&&(x=i[T][L].length-x),S.point(i[T][L][x],E,g)}throw new Error("geojson is invalid")}},85268:function(oe,J,t){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var S=t(27138);function k(l){var R=[1/0,1/0,-1/0,-1/0];return S.coordEach(l,function(I){R[0]>I[0]&&(R[0]=I[0]),R[1]>I[1]&&(R[1]=I[1]),R[2]<I[0]&&(R[2]=I[0]),R[3]<I[1]&&(R[3]=I[1])}),R}k.default=k,J.default=k},94228:function(oe,J){"use strict";function t(M,i,D){void 0===D&&(D={});var y={type:"Feature"};return(0===D.id||D.id)&&(y.id=D.id),D.bbox&&(y.bbox=D.bbox),y.properties=i||{},y.geometry=M,y}function k(M,i,D){if(void 0===D&&(D={}),!M)throw new Error("coordinates is required");if(!Array.isArray(M))throw new Error("coordinates must be an Array");if(M.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!T(M[0])||!T(M[1]))throw new Error("coordinates must contain numbers");return t({type:"Point",coordinates:M},i,D)}function R(M,i,D){void 0===D&&(D={});for(var y=0,B=M;y<B.length;y++){var F=B[y];if(F.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<F[F.length-1].length;_++)if(F[F.length-1][_]!==F[0][_])throw new Error("First and last Position are not equivalent.")}return t({type:"Polygon",coordinates:M},i,D)}function v(M,i,D){if(void 0===D&&(D={}),M.length<2)throw new Error("coordinates must be an array of two or more positions");return t({type:"LineString",coordinates:M},i,D)}function r(M,i){void 0===i&&(i={});var D={type:"FeatureCollection"};return i.id&&(D.id=i.id),i.bbox&&(D.bbox=i.bbox),D.features=M,D}function n(M,i,D){return void 0===D&&(D={}),t({type:"MultiLineString",coordinates:M},i,D)}function c(M,i,D){return void 0===D&&(D={}),t({type:"MultiPoint",coordinates:M},i,D)}function o(M,i,D){return void 0===D&&(D={}),t({type:"MultiPolygon",coordinates:M},i,D)}function d(M,i){void 0===i&&(i="kilometers");var D=J.factors[i];if(!D)throw new Error(i+" units is invalid");return M*D}function b(M,i){void 0===i&&(i="kilometers");var D=J.factors[i];if(!D)throw new Error(i+" units is invalid");return M/D}function m(M){return M%(2*Math.PI)*180/Math.PI}function T(M){return!isNaN(M)&&null!==M&&!Array.isArray(M)}Object.defineProperty(J,"__esModule",{value:!0}),J.earthRadius=6371008.8,J.factors={centimeters:100*J.earthRadius,centimetres:100*J.earthRadius,degrees:J.earthRadius/111325,feet:3.28084*J.earthRadius,inches:39.37*J.earthRadius,kilometers:J.earthRadius/1e3,kilometres:J.earthRadius/1e3,meters:J.earthRadius,metres:J.earthRadius,miles:J.earthRadius/1609.344,millimeters:1e3*J.earthRadius,millimetres:1e3*J.earthRadius,nauticalmiles:J.earthRadius/1852,radians:1,yards:1.0936*J.earthRadius},J.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/J.earthRadius,yards:1.0936133},J.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},J.feature=t,J.geometry=function S(M,i,D){switch(void 0===D&&(D={}),M){case"Point":return k(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return R(i).geometry;case"MultiPoint":return c(i).geometry;case"MultiLineString":return n(i).geometry;case"MultiPolygon":return o(i).geometry;default:throw new Error(M+" is invalid")}},J.point=k,J.points=function l(M,i,D){return void 0===D&&(D={}),r(M.map(function(y){return k(y,i)}),D)},J.polygon=R,J.polygons=function I(M,i,D){return void 0===D&&(D={}),r(M.map(function(y){return R(y,i)}),D)},J.lineString=v,J.lineStrings=function w(M,i,D){return void 0===D&&(D={}),r(M.map(function(y){return v(y,i)}),D)},J.featureCollection=r,J.multiLineString=n,J.multiPoint=c,J.multiPolygon=o,J.geometryCollection=function f(M,i,D){return void 0===D&&(D={}),t({type:"GeometryCollection",geometries:M},i,D)},J.round=function h(M,i){if(void 0===i&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var D=Math.pow(10,i||0);return Math.round(M*D)/D},J.radiansToLength=d,J.lengthToRadians=b,J.lengthToDegrees=function p(M,i){return m(b(M,i))},J.bearingToAzimuth=function A(M){var i=M%360;return i<0&&(i+=360),i},J.radiansToDegrees=m,J.degreesToRadians=function u(M){return M%360*Math.PI/180},J.convertLength=function g(M,i,D){if(void 0===i&&(i="kilometers"),void 0===D&&(D="kilometers"),!(M>=0))throw new Error("length must be a positive number");return d(b(M,i),D)},J.convertArea=function C(M,i,D){if(void 0===i&&(i="meters"),void 0===D&&(D="kilometers"),!(M>=0))throw new Error("area must be a positive number");var y=J.areaFactors[i];if(!y)throw new Error("invalid original units");var B=J.areaFactors[D];if(!B)throw new Error("invalid final units");return M/y*B},J.isNumber=T,J.isObject=function L(M){return!!M&&M.constructor===Object},J.validateBBox=function x(M){if(!M)throw new Error("bbox is required");if(!Array.isArray(M))throw new Error("bbox must be an Array");if(4!==M.length&&6!==M.length)throw new Error("bbox must be an Array of 4 or 6 numbers");M.forEach(function(i){if(!T(i))throw new Error("bbox must only contain numbers")})},J.validateId=function E(M){if(!M)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof M))throw new Error("id must be a number or a string")}},27138:function(oe,J,t){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var S=t(94228);function k(u,g,C){if(null!==u)for(var T,L,x,E,M,i,D,F,y=0,B=0,_=u.type,z="FeatureCollection"===_,V="Feature"===_,H=z?u.features.length:1,U=0;U<H;U++){M=(F=!!(D=z?u.features[U].geometry:V?u.geometry:u)&&"GeometryCollection"===D.type)?D.geometries.length:1;for(var G=0;G<M;G++){var Y=0,ee=0;if(null!==(E=F?D.geometries[G]:D)){i=E.coordinates;var ue=E.type;switch(y=!C||"Polygon"!==ue&&"MultiPolygon"!==ue?0:1,ue){case null:break;case"Point":if(!1===g(i,B,U,Y,ee))return!1;B++,Y++;break;case"LineString":case"MultiPoint":for(T=0;T<i.length;T++){if(!1===g(i[T],B,U,Y,ee))return!1;B++,"MultiPoint"===ue&&Y++}"LineString"===ue&&Y++;break;case"Polygon":case"MultiLineString":for(T=0;T<i.length;T++){for(L=0;L<i[T].length-y;L++){if(!1===g(i[T][L],B,U,Y,ee))return!1;B++}"MultiLineString"===ue&&Y++,"Polygon"===ue&&ee++}"Polygon"===ue&&Y++;break;case"MultiPolygon":for(T=0;T<i.length;T++){for(ee=0,L=0;L<i[T].length;L++){for(x=0;x<i[T][L].length-y;x++){if(!1===g(i[T][L][x],B,U,Y,ee))return!1;B++}ee++}Y++}break;case"GeometryCollection":for(T=0;T<E.geometries.length;T++)if(!1===k(E.geometries[T],g,C))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function R(u,g){var C;switch(u.type){case"FeatureCollection":for(C=0;C<u.features.length&&!1!==g(u.features[C].properties,C);C++);break;case"Feature":g(u.properties,0)}}function v(u,g){if("Feature"===u.type)g(u,0);else if("FeatureCollection"===u.type)for(var C=0;C<u.features.length&&!1!==g(u.features[C],C);C++);}function n(u,g){var C,T,L,x,E,M,i,D,y,B,F=0,_="FeatureCollection"===u.type,z="Feature"===u.type,V=_?u.features.length:1;for(C=0;C<V;C++){for(D=_?u.features[C].properties:z?u.properties:{},y=_?u.features[C].bbox:z?u.bbox:void 0,B=_?u.features[C].id:z?u.id:void 0,E=(i=!!(M=_?u.features[C].geometry:z?u.geometry:u)&&"GeometryCollection"===M.type)?M.geometries.length:1,L=0;L<E;L++)if(null!==(x=i?M.geometries[L]:M))switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===g(x,F,D,y,B))return!1;break;case"GeometryCollection":for(T=0;T<x.geometries.length;T++)if(!1===g(x.geometries[T],F,D,y,B))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===g(null,F,D,y,B))return!1;F++}}function o(u,g){n(u,function(C,T,L,x,E){var i,M=null===C?null:C.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return!1!==g(S.feature(C,L,{bbox:x,id:E}),T,0)&&void 0}switch(M){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon"}for(var D=0;D<C.coordinates.length;D++)if(!1===g(S.feature({type:i,coordinates:C.coordinates[D]},L),T,D))return!1})}function h(u,g){o(u,function(C,T,L){var x=0;if(C.geometry){var E=C.geometry.type;if("Point"!==E&&"MultiPoint"!==E){var M,i=0,D=0,y=0;if(!1===k(C,function(B,F,_,z,V){if(void 0===M||T>i||z>D||V>y)return M=B,i=T,D=z,y=V,void(x=0);var H=S.lineString([M,B],C.properties);if(!1===g(H,T,L,V,x))return!1;x++,M=B}))return!1}}})}function b(u,g){if(!u)throw new Error("geojson is required");o(u,function(C,T,L){if(null!==C.geometry){var E=C.geometry.coordinates;switch(C.geometry.type){case"LineString":if(!1===g(C,T,L,0,0))return!1;break;case"Polygon":for(var M=0;M<E.length;M++)if(!1===g(S.lineString(E[M],C.properties),T,L,M))return!1}}})}J.coordEach=k,J.coordReduce=function l(u,g,C,T){var L=C;return k(u,function(x,E,M,i,D){L=0===E&&void 0===C?x:g(L,x,E,M,i,D)},T),L},J.propEach=R,J.propReduce=function I(u,g,C){var T=C;return R(u,function(L,x){T=0===x&&void 0===C?L:g(T,L,x)}),T},J.featureEach=v,J.featureReduce=function w(u,g,C){var T=C;return v(u,function(L,x){T=0===x&&void 0===C?L:g(T,L,x)}),T},J.coordAll=function r(u){var g=[];return k(u,function(C){g.push(C)}),g},J.geomEach=n,J.geomReduce=function c(u,g,C){var T=C;return n(u,function(L,x,E,M,i){T=0===x&&void 0===C?L:g(T,L,x,E,M,i)}),T},J.flattenEach=o,J.flattenReduce=function f(u,g,C){var T=C;return o(u,function(L,x,E){T=0===x&&0===E&&void 0===C?L:g(T,L,x,E)}),T},J.segmentEach=h,J.segmentReduce=function d(u,g,C){var T=C,L=!1;return h(u,function(x,E,M,i,D){T=!1===L&&void 0===C?x:g(T,x,E,M,i,D),L=!0}),T},J.lineEach=b,J.lineReduce=function p(u,g,C){var T=C;return b(u,function(L,x,E,M){T=0===x&&void 0===C?L:g(T,L,x,E,M)}),T},J.findSegment=function A(u,g){if(!S.isObject(g=g||{}))throw new Error("options is invalid");var M,C=g.featureIndex||0,T=g.multiFeatureIndex||0,L=g.geometryIndex||0,x=g.segmentIndex||0,E=g.properties;switch(u.type){case"FeatureCollection":C<0&&(C=u.features.length+C),E=E||u.features[C].properties,M=u.features[C].geometry;break;case"Feature":E=E||u.properties,M=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=u;break;default:throw new Error("geojson is invalid")}if(null===M)return null;var i=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=i.length+x-1),S.lineString([i[x],i[x+1]],E,g);case"Polygon":return L<0&&(L=i.length+L),x<0&&(x=i[L].length+x-1),S.lineString([i[L][x],i[L][x+1]],E,g);case"MultiLineString":return T<0&&(T=i.length+T),x<0&&(x=i[T].length+x-1),S.lineString([i[T][x],i[T][x+1]],E,g);case"MultiPolygon":return T<0&&(T=i.length+T),L<0&&(L=i[T].length+L),x<0&&(x=i[T][L].length-x-1),S.lineString([i[T][L][x],i[T][L][x+1]],E,g)}throw new Error("geojson is invalid")},J.findPoint=function m(u,g){if(!S.isObject(g=g||{}))throw new Error("options is invalid");var M,C=g.featureIndex||0,T=g.multiFeatureIndex||0,L=g.geometryIndex||0,x=g.coordIndex||0,E=g.properties;switch(u.type){case"FeatureCollection":C<0&&(C=u.features.length+C),E=E||u.features[C].properties,M=u.features[C].geometry;break;case"Feature":E=E||u.properties,M=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=u;break;default:throw new Error("geojson is invalid")}if(null===M)return null;var i=M.coordinates;switch(M.type){case"Point":return S.point(i,E,g);case"MultiPoint":return T<0&&(T=i.length+T),S.point(i[T],E,g);case"LineString":return x<0&&(x=i.length+x),S.point(i[x],E,g);case"Polygon":return L<0&&(L=i.length+L),x<0&&(x=i[L].length+x),S.point(i[L][x],E,g);case"MultiLineString":return T<0&&(T=i.length+T),x<0&&(x=i[T].length+x),S.point(i[T][x],E,g);case"MultiPolygon":return T<0&&(T=i.length+T),L<0&&(L=i[T].length+L),x<0&&(x=i[T][L].length-x),S.point(i[T][L][x],E,g)}throw new Error("geojson is invalid")}},29261:function(oe,J,t){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var S=t(88553),k=t(64182);J.default=function l(R,I){void 0===I&&(I={});var v=0,w=0,r=0;return S.coordEach(R,function(n){v+=n[0],w+=n[1],r++}),k.point([v/r,w/r],I.properties)}},64182:function(oe,J){"use strict";function t(z,V,H){void 0===H&&(H={});var U={type:"Feature"};return(0===H.id||H.id)&&(U.id=H.id),H.bbox&&(U.bbox=H.bbox),U.properties=V||{},U.geometry=z,U}function k(z,V,H){return void 0===H&&(H={}),t({type:"Point",coordinates:z},V,H)}function R(z,V,H){void 0===H&&(H={});for(var U=0,G=z;U<G.length;U++){var Y=G[U];if(Y.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ee=0;ee<Y[Y.length-1].length;ee++)if(Y[Y.length-1][ee]!==Y[0][ee])throw new Error("First and last Position are not equivalent.")}return t({type:"Polygon",coordinates:z},V,H)}function v(z,V,H){if(void 0===H&&(H={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");return t({type:"LineString",coordinates:z},V,H)}function r(z,V){void 0===V&&(V={});var H={type:"FeatureCollection"};return V.id&&(H.id=V.id),V.bbox&&(H.bbox=V.bbox),H.features=z,H}function n(z,V,H){return void 0===H&&(H={}),t({type:"MultiLineString",coordinates:z},V,H)}function c(z,V,H){return void 0===H&&(H={}),t({type:"MultiPoint",coordinates:z},V,H)}function o(z,V,H){return void 0===H&&(H={}),t({type:"MultiPolygon",coordinates:z},V,H)}function d(z,V){void 0===V&&(V="kilometers");var H=J.factors[V];if(!H)throw new Error(V+" units is invalid");return z*H}function b(z,V){void 0===V&&(V="kilometers");var H=J.factors[V];if(!H)throw new Error(V+" units is invalid");return z/H}function m(z){return z%(2*Math.PI)*180/Math.PI}function T(z){return!isNaN(z)&&null!==z&&!Array.isArray(z)&&!/^\s*$/.test(z)}Object.defineProperty(J,"__esModule",{value:!0}),J.earthRadius=6371008.8,J.factors={centimeters:100*J.earthRadius,centimetres:100*J.earthRadius,degrees:J.earthRadius/111325,feet:3.28084*J.earthRadius,inches:39.37*J.earthRadius,kilometers:J.earthRadius/1e3,kilometres:J.earthRadius/1e3,meters:J.earthRadius,metres:J.earthRadius,miles:J.earthRadius/1609.344,millimeters:1e3*J.earthRadius,millimetres:1e3*J.earthRadius,nauticalmiles:J.earthRadius/1852,radians:1,yards:J.earthRadius/1.0936},J.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/J.earthRadius,yards:.91441111923921},J.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},J.feature=t,J.geometry=function S(z,V,H){switch(void 0===H&&(H={}),z){case"Point":return k(V).geometry;case"LineString":return v(V).geometry;case"Polygon":return R(V).geometry;case"MultiPoint":return c(V).geometry;case"MultiLineString":return n(V).geometry;case"MultiPolygon":return o(V).geometry;default:throw new Error(z+" is invalid")}},J.point=k,J.points=function l(z,V,H){return void 0===H&&(H={}),r(z.map(function(U){return k(U,V)}),H)},J.polygon=R,J.polygons=function I(z,V,H){return void 0===H&&(H={}),r(z.map(function(U){return R(U,V)}),H)},J.lineString=v,J.lineStrings=function w(z,V,H){return void 0===H&&(H={}),r(z.map(function(U){return v(U,V)}),H)},J.featureCollection=r,J.multiLineString=n,J.multiPoint=c,J.multiPolygon=o,J.geometryCollection=function f(z,V,H){return void 0===H&&(H={}),t({type:"GeometryCollection",geometries:z},V,H)},J.round=function h(z,V){if(void 0===V&&(V=0),V&&!(V>=0))throw new Error("precision must be a positive number");var H=Math.pow(10,V||0);return Math.round(z*H)/H},J.radiansToLength=d,J.lengthToRadians=b,J.lengthToDegrees=function p(z,V){return m(b(z,V))},J.bearingToAzimuth=function A(z){var V=z%360;return V<0&&(V+=360),V},J.radiansToDegrees=m,J.degreesToRadians=function u(z){return z%360*Math.PI/180},J.convertLength=function g(z,V,H){if(void 0===V&&(V="kilometers"),void 0===H&&(H="kilometers"),!(z>=0))throw new Error("length must be a positive number");return d(b(z,V),H)},J.convertArea=function C(z,V,H){if(void 0===V&&(V="meters"),void 0===H&&(H="kilometers"),!(z>=0))throw new Error("area must be a positive number");var U=J.areaFactors[V];if(!U)throw new Error("invalid original units");var G=J.areaFactors[H];if(!G)throw new Error("invalid final units");return z/U*G},J.isNumber=T,J.isObject=function L(z){return!!z&&z.constructor===Object},J.validateBBox=function x(z){if(!z)throw new Error("bbox is required");if(!Array.isArray(z))throw new Error("bbox must be an Array");if(4!==z.length&&6!==z.length)throw new Error("bbox must be an Array of 4 or 6 numbers");z.forEach(function(V){if(!T(V))throw new Error("bbox must only contain numbers")})},J.validateId=function E(z){if(!z)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof z))throw new Error("id must be a number or a string")},J.radians2degrees=function M(){throw new Error("method has been renamed to `radiansToDegrees`")},J.degrees2radians=function i(){throw new Error("method has been renamed to `degreesToRadians`")},J.distanceToDegrees=function D(){throw new Error("method has been renamed to `lengthToDegrees`")},J.distanceToRadians=function y(){throw new Error("method has been renamed to `lengthToRadians`")},J.radiansToDistance=function B(){throw new Error("method has been renamed to `radiansToLength`")},J.bearingToAngle=function F(){throw new Error("method has been renamed to `bearingToAzimuth`")},J.convertDistance=function _(){throw new Error("method has been renamed to `convertLength`")}},88553:function(oe,J,t){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var S=t(64182);function k(u,g,C){if(null!==u)for(var T,L,x,E,M,i,D,F,y=0,B=0,_=u.type,z="FeatureCollection"===_,V="Feature"===_,H=z?u.features.length:1,U=0;U<H;U++){M=(F=!!(D=z?u.features[U].geometry:V?u.geometry:u)&&"GeometryCollection"===D.type)?D.geometries.length:1;for(var G=0;G<M;G++){var Y=0,ee=0;if(null!==(E=F?D.geometries[G]:D)){i=E.coordinates;var ue=E.type;switch(y=!C||"Polygon"!==ue&&"MultiPolygon"!==ue?0:1,ue){case null:break;case"Point":if(!1===g(i,B,U,Y,ee))return!1;B++,Y++;break;case"LineString":case"MultiPoint":for(T=0;T<i.length;T++){if(!1===g(i[T],B,U,Y,ee))return!1;B++,"MultiPoint"===ue&&Y++}"LineString"===ue&&Y++;break;case"Polygon":case"MultiLineString":for(T=0;T<i.length;T++){for(L=0;L<i[T].length-y;L++){if(!1===g(i[T][L],B,U,Y,ee))return!1;B++}"MultiLineString"===ue&&Y++,"Polygon"===ue&&ee++}"Polygon"===ue&&Y++;break;case"MultiPolygon":for(T=0;T<i.length;T++){for(ee=0,L=0;L<i[T].length;L++){for(x=0;x<i[T][L].length-y;x++){if(!1===g(i[T][L][x],B,U,Y,ee))return!1;B++}ee++}Y++}break;case"GeometryCollection":for(T=0;T<E.geometries.length;T++)if(!1===k(E.geometries[T],g,C))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function R(u,g){var C;switch(u.type){case"FeatureCollection":for(C=0;C<u.features.length&&!1!==g(u.features[C].properties,C);C++);break;case"Feature":g(u.properties,0)}}function v(u,g){if("Feature"===u.type)g(u,0);else if("FeatureCollection"===u.type)for(var C=0;C<u.features.length&&!1!==g(u.features[C],C);C++);}function n(u,g){var C,T,L,x,E,M,i,D,y,B,F=0,_="FeatureCollection"===u.type,z="Feature"===u.type,V=_?u.features.length:1;for(C=0;C<V;C++){for(D=_?u.features[C].properties:z?u.properties:{},y=_?u.features[C].bbox:z?u.bbox:void 0,B=_?u.features[C].id:z?u.id:void 0,E=(i=!!(M=_?u.features[C].geometry:z?u.geometry:u)&&"GeometryCollection"===M.type)?M.geometries.length:1,L=0;L<E;L++)if(null!==(x=i?M.geometries[L]:M))switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===g(x,F,D,y,B))return!1;break;case"GeometryCollection":for(T=0;T<x.geometries.length;T++)if(!1===g(x.geometries[T],F,D,y,B))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===g(null,F,D,y,B))return!1;F++}}function o(u,g){n(u,function(C,T,L,x,E){var i,M=null===C?null:C.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return!1!==g(S.feature(C,L,{bbox:x,id:E}),T,0)&&void 0}switch(M){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon"}for(var D=0;D<C.coordinates.length;D++)if(!1===g(S.feature({type:i,coordinates:C.coordinates[D]},L),T,D))return!1})}function h(u,g){o(u,function(C,T,L){var x=0;if(C.geometry){var E=C.geometry.type;if("Point"!==E&&"MultiPoint"!==E){var M,i=0,D=0,y=0;if(!1===k(C,function(B,F,_,z,V){if(void 0===M||T>i||z>D||V>y)return M=B,i=T,D=z,y=V,void(x=0);var H=S.lineString([M,B],C.properties);if(!1===g(H,T,L,V,x))return!1;x++,M=B}))return!1}}})}function b(u,g){if(!u)throw new Error("geojson is required");o(u,function(C,T,L){if(null!==C.geometry){var E=C.geometry.coordinates;switch(C.geometry.type){case"LineString":if(!1===g(C,T,L,0,0))return!1;break;case"Polygon":for(var M=0;M<E.length;M++)if(!1===g(S.lineString(E[M],C.properties),T,L,M))return!1}}})}J.coordEach=k,J.coordReduce=function l(u,g,C,T){var L=C;return k(u,function(x,E,M,i,D){L=0===E&&void 0===C?x:g(L,x,E,M,i,D)},T),L},J.propEach=R,J.propReduce=function I(u,g,C){var T=C;return R(u,function(L,x){T=0===x&&void 0===C?L:g(T,L,x)}),T},J.featureEach=v,J.featureReduce=function w(u,g,C){var T=C;return v(u,function(L,x){T=0===x&&void 0===C?L:g(T,L,x)}),T},J.coordAll=function r(u){var g=[];return k(u,function(C){g.push(C)}),g},J.geomEach=n,J.geomReduce=function c(u,g,C){var T=C;return n(u,function(L,x,E,M,i){T=0===x&&void 0===C?L:g(T,L,x,E,M,i)}),T},J.flattenEach=o,J.flattenReduce=function f(u,g,C){var T=C;return o(u,function(L,x,E){T=0===x&&0===E&&void 0===C?L:g(T,L,x,E)}),T},J.segmentEach=h,J.segmentReduce=function d(u,g,C){var T=C,L=!1;return h(u,function(x,E,M,i,D){T=!1===L&&void 0===C?x:g(T,x,E,M,i,D),L=!0}),T},J.lineEach=b,J.lineReduce=function p(u,g,C){var T=C;return b(u,function(L,x,E,M){T=0===x&&void 0===C?L:g(T,L,x,E,M)}),T},J.findSegment=function A(u,g){if(!S.isObject(g=g||{}))throw new Error("options is invalid");var M,C=g.featureIndex||0,T=g.multiFeatureIndex||0,L=g.geometryIndex||0,x=g.segmentIndex||0,E=g.properties;switch(u.type){case"FeatureCollection":C<0&&(C=u.features.length+C),E=E||u.features[C].properties,M=u.features[C].geometry;break;case"Feature":E=E||u.properties,M=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=u;break;default:throw new Error("geojson is invalid")}if(null===M)return null;var i=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=i.length+x-1),S.lineString([i[x],i[x+1]],E,g);case"Polygon":return L<0&&(L=i.length+L),x<0&&(x=i[L].length+x-1),S.lineString([i[L][x],i[L][x+1]],E,g);case"MultiLineString":return T<0&&(T=i.length+T),x<0&&(x=i[T].length+x-1),S.lineString([i[T][x],i[T][x+1]],E,g);case"MultiPolygon":return T<0&&(T=i.length+T),L<0&&(L=i[T].length+L),x<0&&(x=i[T][L].length-x-1),S.lineString([i[T][L][x],i[T][L][x+1]],E,g)}throw new Error("geojson is invalid")},J.findPoint=function m(u,g){if(!S.isObject(g=g||{}))throw new Error("options is invalid");var M,C=g.featureIndex||0,T=g.multiFeatureIndex||0,L=g.geometryIndex||0,x=g.coordIndex||0,E=g.properties;switch(u.type){case"FeatureCollection":C<0&&(C=u.features.length+C),E=E||u.features[C].properties,M=u.features[C].geometry;break;case"Feature":E=E||u.properties,M=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=u;break;default:throw new Error("geojson is invalid")}if(null===M)return null;var i=M.coordinates;switch(M.type){case"Point":return S.point(i,E,g);case"MultiPoint":return T<0&&(T=i.length+T),S.point(i[T],E,g);case"LineString":return x<0&&(x=i.length+x),S.point(i[x],E,g);case"Polygon":return L<0&&(L=i.length+L),x<0&&(x=i[L].length+x),S.point(i[L][x],E,g);case"MultiLineString":return T<0&&(T=i.length+T),x<0&&(x=i[T].length+x),S.point(i[T][x],E,g);case"MultiPolygon":return T<0&&(T=i.length+T),L<0&&(L=i[T].length+L),x<0&&(x=i[T][L].length-x),S.point(i[T][L][x],E,g)}throw new Error("geojson is invalid")}},65185:function(oe){oe.exports=function J(t){var S=0,k=0,l=0,R=0;return t.map(function(I){var v=(I=I.slice())[0],w=v.toUpperCase();if(v!=w)switch(I[0]=w,v){case"a":I[6]+=l,I[7]+=R;break;case"v":I[1]+=R;break;case"h":I[1]+=l;break;default:for(var r=1;r<I.length;)I[r++]+=l,I[r++]+=R}switch(w){case"Z":l=S,R=k;break;case"H":l=I[1];break;case"V":R=I[1];break;case"M":l=S=I[1],R=k=I[2];break;default:l=I[I.length-2],R=I[I.length-1]}return I})}},21527:function(oe){"use strict";oe.exports=function J(t,S){if(!t||null==t.length)throw Error("Argument should be an array");S=null==S?1:Math.floor(S);for(var k=Array(2*S),l=0;l<S;l++){for(var R=-1/0,I=1/0,v=l,w=t.length;v<w;v+=S)t[v]>R&&(R=t[v]),t[v]<I&&(I=t[v]);k[l]=I,k[S+l]=R}return k}},6851:function(oe){"use strict";oe.exports=function(J,t,S){if("function"==typeof Array.prototype.findIndex)return J.findIndex(t,S);if("function"!=typeof t)throw new TypeError("predicate must be a function");var k=Object(J),l=k.length;if(0===l)return-1;for(var R=0;R<l;R++)if(t.call(S,k[R],R,k))return R;return-1}},54:function(oe,J,t){"use strict";var S=t(21527);oe.exports=function k(l,R,I){if(!l||null==l.length)throw Error("Argument should be an array");null==R&&(R=1),null==I&&(I=S(l,R));for(var v=0;v<R;v++){var w=I[R+v],r=I[v],n=v,c=l.length;if(w===1/0&&r===-1/0)for(n=v;n<c;n+=R)l[n]=l[n]===w?1:l[n]===r?0:.5;else if(w===1/0)for(n=v;n<c;n+=R)l[n]=l[n]===w?1:0;else if(r===-1/0)for(n=v;n<c;n+=R)l[n]=l[n]===r?0:1;else{var o=w-r;for(n=v;n<c;n+=R)isNaN(l[n])||(l[n]=0===o?.5:(l[n]-r)/o)}}return l}},57471:function(oe){oe.exports=function(t,S){var k="number"==typeof t,l="number"==typeof S;k&&!l?(S=t,t=0):!k&&!l&&(t=0,S=0);var R=(S|=0)-(t|=0);if(R<0)throw new Error("array length must be positive");for(var I=new Array(R),v=0,w=t;v<R;v++,w++)I[v]=w;return I}},32791:function(oe,J,t){"use strict";var S=t(90386);function k(Z){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fe){return typeof fe}:function(fe){return fe&&"function"==typeof Symbol&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe})(Z)}var g,C,I=t(79616).codes,v=I.ERR_AMBIGUOUS_ARGUMENT,w=I.ERR_INVALID_ARG_TYPE,r=I.ERR_INVALID_ARG_VALUE,n=I.ERR_INVALID_RETURN_VALUE,c=I.ERR_MISSING_ARGS,o=t(73894),h=t(43827).inspect,d=t(43827).types,b=d.isPromise,p=d.isRegExp,A=Object.assign?Object.assign:t(73523).assign,m=Object.is?Object.is:t(64003);function E(){var Z=t(74061);g=Z.isDeepEqual,C=Z.isDeepStrictEqual}var y=!1,B=oe.exports=H,F={};function _(Z){throw Z.message instanceof Error?Z.message:new o(Z)}function V(Z,q,fe,re){if(!fe){var $=!1;if(0===q)$=!0,re="No value argument passed to `assert.ok()`";else if(re instanceof Error)throw re;var le=new o({actual:fe,expected:!0,message:re,operator:"==",stackStartFn:Z});throw le.generatedMessage=$,le}}function H(){for(var Z=arguments.length,q=new Array(Z),fe=0;fe<Z;fe++)q[fe]=arguments[fe];V.apply(void 0,[H,q.length].concat(q))}B.fail=function z(Z,q,fe,re,$){var se,le=arguments.length;if(0===le?se="Failed":1===le?(fe=Z,Z=void 0):(!1===y&&(y=!0,(S.emitWarning?S.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===le&&(re="!=")),fe instanceof Error)throw fe;var we={actual:Z,expected:q,operator:void 0===re?"fail":re,stackStartFn:$||z};void 0!==fe&&(we.message=fe);var Ee=new o(we);throw se&&(Ee.message=se,Ee.generatedMessage=!0),Ee},B.AssertionError=o,B.ok=H,B.equal=function Z(q,fe,re){if(arguments.length<2)throw new c("actual","expected");q!=fe&&_({actual:q,expected:fe,message:re,operator:"==",stackStartFn:Z})},B.notEqual=function Z(q,fe,re){if(arguments.length<2)throw new c("actual","expected");q==fe&&_({actual:q,expected:fe,message:re,operator:"!=",stackStartFn:Z})},B.deepEqual=function Z(q,fe,re){if(arguments.length<2)throw new c("actual","expected");void 0===g&&E(),g(q,fe)||_({actual:q,expected:fe,message:re,operator:"deepEqual",stackStartFn:Z})},B.notDeepEqual=function Z(q,fe,re){if(arguments.length<2)throw new c("actual","expected");void 0===g&&E(),g(q,fe)&&_({actual:q,expected:fe,message:re,operator:"notDeepEqual",stackStartFn:Z})},B.deepStrictEqual=function Z(q,fe,re){if(arguments.length<2)throw new c("actual","expected");void 0===g&&E(),C(q,fe)||_({actual:q,expected:fe,message:re,operator:"deepStrictEqual",stackStartFn:Z})},B.notDeepStrictEqual=function U(Z,q,fe){if(arguments.length<2)throw new c("actual","expected");void 0===g&&E(),C(Z,q)&&_({actual:Z,expected:q,message:fe,operator:"notDeepStrictEqual",stackStartFn:U})},B.strictEqual=function Z(q,fe,re){if(arguments.length<2)throw new c("actual","expected");m(q,fe)||_({actual:q,expected:fe,message:re,operator:"strictEqual",stackStartFn:Z})},B.notStrictEqual=function Z(q,fe,re){if(arguments.length<2)throw new c("actual","expected");m(q,fe)&&_({actual:q,expected:fe,message:re,operator:"notStrictEqual",stackStartFn:Z})};var G=function Z(q,fe,re){var $=this;(function l(Z,q){if(!(Z instanceof q))throw new TypeError("Cannot call a class as a function")})(this,Z),fe.forEach(function(le){le in q&&($[le]=void 0!==re&&"string"==typeof re[le]&&p(q[le])&&q[le].test(re[le])?re[le]:q[le])})};function ee(Z,q,fe,re){if("function"!=typeof q){if(p(q))return q.test(Z);if(2===arguments.length)throw new w("expected",["Function","RegExp"],q);if("object"!==k(Z)||null===Z){var $=new o({actual:Z,expected:q,message:fe,operator:"deepStrictEqual",stackStartFn:re});throw $.operator=re.name,$}var le=Object.keys(q);if(q instanceof Error)le.push("name","message");else if(0===le.length)throw new r("error",q,"may not be an empty object");return void 0===g&&E(),le.forEach(function(se){"string"==typeof Z[se]&&p(q[se])&&q[se].test(Z[se])||function Y(Z,q,fe,re,$,le){if(!(fe in Z)||!C(Z[fe],q[fe])){if(!re){var se=new G(Z,$),de=new G(q,$,Z),we=new o({actual:se,expected:de,operator:"deepStrictEqual",stackStartFn:le});throw we.actual=Z,we.expected=q,we.operator=le.name,we}_({actual:Z,expected:q,message:re,operator:le.name,stackStartFn:le})}}(Z,q,se,fe,le,re)}),!0}return void 0!==q.prototype&&Z instanceof q||!Error.isPrototypeOf(q)&&!0===q.call({},Z)}function ue(Z){if("function"!=typeof Z)throw new w("fn","Function",Z);try{Z()}catch(q){return q}return F}function ce(Z){return b(Z)||null!==Z&&"object"===k(Z)&&"function"==typeof Z.then&&"function"==typeof Z.catch}function pe(Z){return Promise.resolve().then(function(){var q;if("function"==typeof Z){if(!ce(q=Z()))throw new n("instance of Promise","promiseFn",q)}else{if(!ce(Z))throw new w("promiseFn",["Function","Promise"],Z);q=Z}return Promise.resolve().then(function(){return q}).then(function(){return F}).catch(function(fe){return fe})})}function te(Z,q,fe,re){if("string"==typeof fe){if(4===arguments.length)throw new w("error",["Object","Error","Function","RegExp"],fe);if("object"===k(q)&&null!==q){if(q.message===fe)throw new v("error/message",'The error message "'.concat(q.message,'" is identical to the message.'))}else if(q===fe)throw new v("error/message",'The error "'.concat(q,'" is identical to the message.'));re=fe,fe=void 0}else if(null!=fe&&"object"!==k(fe)&&"function"!=typeof fe)throw new w("error",["Object","Error","Function","RegExp"],fe);if(q===F){var $="";fe&&fe.name&&($+=" (".concat(fe.name,")")),$+=re?": ".concat(re):".",_({actual:void 0,expected:fe,operator:Z.name,message:"Missing expected ".concat("rejects"===Z.name?"rejection":"exception").concat($),stackStartFn:Z})}if(fe&&!ee(q,fe,re,Z))throw q}function Q(Z,q,fe,re){if(q!==F){if("string"==typeof fe&&(re=fe,fe=void 0),!fe||ee(q,fe)){var $=re?": ".concat(re):".";_({actual:q,expected:fe,operator:Z.name,message:"Got unwanted ".concat("doesNotReject"===Z.name?"rejection":"exception").concat($,"\n")+'Actual message: "'.concat(q&&q.message,'"'),stackStartFn:Z})}throw q}}function K(){for(var Z=arguments.length,q=new Array(Z),fe=0;fe<Z;fe++)q[fe]=arguments[fe];V.apply(void 0,[K,q.length].concat(q))}B.throws=function Z(q){for(var fe=arguments.length,re=new Array(fe>1?fe-1:0),$=1;$<fe;$++)re[$-1]=arguments[$];te.apply(void 0,[Z,ue(q)].concat(re))},B.rejects=function Z(q){for(var fe=arguments.length,re=new Array(fe>1?fe-1:0),$=1;$<fe;$++)re[$-1]=arguments[$];return pe(q).then(function(le){return te.apply(void 0,[Z,le].concat(re))})},B.doesNotThrow=function Z(q){for(var fe=arguments.length,re=new Array(fe>1?fe-1:0),$=1;$<fe;$++)re[$-1]=arguments[$];Q.apply(void 0,[Z,ue(q)].concat(re))},B.doesNotReject=function Z(q){for(var fe=arguments.length,re=new Array(fe>1?fe-1:0),$=1;$<fe;$++)re[$-1]=arguments[$];return pe(q).then(function(le){return Q.apply(void 0,[Z,le].concat(re))})},B.ifError=function Z(q){if(null!=q){var fe="ifError got unwanted exception: ";"object"===k(q)&&"string"==typeof q.message?fe+=0===q.message.length&&q.constructor?q.constructor.name:q.message:fe+=h(q);var re=new o({actual:q,expected:null,operator:"ifError",message:fe,stackStartFn:Z}),$=q.stack;if("string"==typeof $){var le=$.split("\n");le.shift();for(var se=re.stack.split("\n"),de=0;de<le.length;de++){var we=se.indexOf(le[de]);if(-1!==we){se=se.slice(0,we);break}}re.stack="".concat(se.join("\n"),"\n").concat(le.join("\n"))}throw re}},B.strict=A(K,B,{equal:B.strictEqual,deepEqual:B.deepStrictEqual,notEqual:B.notStrictEqual,notDeepEqual:B.notDeepStrictEqual}),B.strict.strict=B.strict},73894:function(oe,J,t){"use strict";var S=t(90386);function l(z,V,H){return V in z?Object.defineProperty(z,V,{value:H,enumerable:!0,configurable:!0,writable:!0}):z[V]=H,z}function I(z,V){for(var H=0;H<V.length;H++){var U=V[H];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(z,U.key,U)}}function w(z,V){return!V||"object"!==p(V)&&"function"!=typeof V?r(z):V}function r(z){if(void 0===z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function c(z){var V="function"==typeof Map?new Map:void 0;return c=function(U){if(null===U||!function h(z){return-1!==Function.toString.call(z).indexOf("[native code]")}(U))return U;if("function"!=typeof U)throw new TypeError("Super expression must either be null or a function");if(typeof V<"u"){if(V.has(U))return V.get(U);V.set(U,G)}function G(){return f(U,arguments,b(this).constructor)}return G.prototype=Object.create(U.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),d(G,U)},c(z)}function f(z,V,H){return(f=function o(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(G,Y,ee){var ue=[null];ue.push.apply(ue,Y);var pe=new(Function.bind.apply(G,ue));return ee&&d(pe,ee.prototype),pe}).apply(null,arguments)}function d(z,V){return(d=Object.setPrototypeOf||function(U,G){return U.__proto__=G,U})(z,V)}function b(z){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)})(z)}function p(z){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(z)}var m=t(43827).inspect,g=t(79616).codes.ERR_INVALID_ARG_TYPE;function C(z,V,H){return(void 0===H||H>z.length)&&(H=z.length),z.substring(H-V.length,H)===V}var L="",x="",E="",M="",i={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function y(z){var V=Object.keys(z),H=Object.create(Object.getPrototypeOf(z));return V.forEach(function(U){H[U]=z[U]}),Object.defineProperty(H,"message",{value:z.message}),H}function B(z){return m(z,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function F(z,V,H){var U="",G="",Y=0,ee="",ue=!1,ce=B(z),pe=ce.split("\n"),te=B(V).split("\n"),Q=0,K="";if("strictEqual"===H&&"object"===p(z)&&"object"===p(V)&&null!==z&&null!==V&&(H="strictEqualObject"),1===pe.length&&1===te.length&&pe[0]!==te[0]){var Z=pe[0].length+te[0].length;if(Z<=10){if(!("object"===p(z)&&null!==z||"object"===p(V)&&null!==V||0===z&&0===V))return"".concat(i[H],"\n\n")+"".concat(pe[0]," !== ").concat(te[0],"\n")}else if("strictEqualObject"!==H&&Z<(S.stderr&&S.stderr.isTTY?S.stderr.columns:80)){for(;pe[0][Q]===te[0][Q];)Q++;Q>2&&(K="\n  ".concat(function T(z,V){if(V=Math.floor(V),0==z.length||0==V)return"";var H=z.length*V;for(V=Math.floor(Math.log(V)/Math.log(2));V;)z+=z,V--;return z+z.substring(0,H-z.length)}(" ",Q),"^"),Q=0)}}for(var fe=pe[pe.length-1],re=te[te.length-1];fe===re&&(Q++<2?ee="\n  ".concat(fe).concat(ee):U=fe,pe.pop(),te.pop(),0!==pe.length&&0!==te.length);)fe=pe[pe.length-1],re=te[te.length-1];var $=Math.max(pe.length,te.length);if(0===$){var le=ce.split("\n");if(le.length>30)for(le[26]="".concat(L,"...").concat(M);le.length>27;)le.pop();return"".concat(i.notIdentical,"\n\n").concat(le.join("\n"),"\n")}Q>3&&(ee="\n".concat(L,"...").concat(M).concat(ee),ue=!0),""!==U&&(ee="\n  ".concat(U).concat(ee),U="");var se=0,de=i[H]+"\n".concat(x,"+ actual").concat(M," ").concat(E,"- expected").concat(M),we=" ".concat(L,"...").concat(M," Lines skipped");for(Q=0;Q<$;Q++){var Ee=Q-Y;if(pe.length<Q+1)Ee>1&&Q>2&&(Ee>4?(G+="\n".concat(L,"...").concat(M),ue=!0):Ee>3&&(G+="\n  ".concat(te[Q-2]),se++),G+="\n  ".concat(te[Q-1]),se++),Y=Q,U+="\n".concat(E,"-").concat(M," ").concat(te[Q]),se++;else if(te.length<Q+1)Ee>1&&Q>2&&(Ee>4?(G+="\n".concat(L,"...").concat(M),ue=!0):Ee>3&&(G+="\n  ".concat(pe[Q-2]),se++),G+="\n  ".concat(pe[Q-1]),se++),Y=Q,G+="\n".concat(x,"+").concat(M," ").concat(pe[Q]),se++;else{var Me=te[Q],Ne=pe[Q],Ve=Ne!==Me&&(!C(Ne,",")||Ne.slice(0,-1)!==Me);Ve&&C(Me,",")&&Me.slice(0,-1)===Ne&&(Ve=!1,Ne+=","),Ve?(Ee>1&&Q>2&&(Ee>4?(G+="\n".concat(L,"...").concat(M),ue=!0):Ee>3&&(G+="\n  ".concat(pe[Q-2]),se++),G+="\n  ".concat(pe[Q-1]),se++),Y=Q,G+="\n".concat(x,"+").concat(M," ").concat(Ne),U+="\n".concat(E,"-").concat(M," ").concat(Me),se+=2):(G+=U,U="",(1===Ee||0===Q)&&(G+="\n  ".concat(Ne),se++))}if(se>20&&Q<$-2)return"".concat(de).concat(we,"\n").concat(G,"\n").concat(L,"...").concat(M).concat(U,"\n")+"".concat(L,"...").concat(M)}return"".concat(de).concat(ue?we:"","\n").concat(G).concat(U).concat(ee).concat(K)}var _=function(z){function V(H){var U;if(function R(z,V){if(!(z instanceof V))throw new TypeError("Cannot call a class as a function")}(this,V),"object"!==p(H)||null===H)throw new g("options","Object",H);var G=H.message,Y=H.operator,ee=H.stackStartFn,ue=H.actual,ce=H.expected,pe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=G)U=w(this,b(V).call(this,String(G)));else if(S.stderr&&S.stderr.isTTY&&(S.stderr&&S.stderr.getColorDepth&&1!==S.stderr.getColorDepth()?(L="\x1b[34m",x="\x1b[32m",M="\x1b[39m",E="\x1b[31m"):(L="",x="",M="",E="")),"object"===p(ue)&&null!==ue&&"object"===p(ce)&&null!==ce&&"stack"in ue&&ue instanceof Error&&"stack"in ce&&ce instanceof Error&&(ue=y(ue),ce=y(ce)),"deepStrictEqual"===Y||"strictEqual"===Y)U=w(this,b(V).call(this,F(ue,ce,Y)));else if("notDeepStrictEqual"===Y||"notStrictEqual"===Y){var te=i[Y],Q=B(ue).split("\n");if("notStrictEqual"===Y&&"object"===p(ue)&&null!==ue&&(te=i.notStrictEqualObject),Q.length>30)for(Q[26]="".concat(L,"...").concat(M);Q.length>27;)Q.pop();U=w(this,1===Q.length?b(V).call(this,"".concat(te," ").concat(Q[0])):b(V).call(this,"".concat(te,"\n\n").concat(Q.join("\n"),"\n")))}else{var K=B(ue),Z="",q=i[Y];"notDeepEqual"===Y||"notEqual"===Y?(K="".concat(i[Y],"\n\n").concat(K)).length>1024&&(K="".concat(K.slice(0,1021),"...")):(Z="".concat(B(ce)),K.length>512&&(K="".concat(K.slice(0,509),"...")),Z.length>512&&(Z="".concat(Z.slice(0,509),"...")),"deepEqual"===Y||"equal"===Y?K="".concat(q,"\n\n").concat(K,"\n\nshould equal\n\n"):Z=" ".concat(Y," ").concat(Z)),U=w(this,b(V).call(this,"".concat(K).concat(Z)))}return Error.stackTraceLimit=pe,U.generatedMessage=!G,Object.defineProperty(r(U),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),U.code="ERR_ASSERTION",U.actual=ue,U.expected=ce,U.operator=Y,Error.captureStackTrace&&Error.captureStackTrace(r(U),ee),U.name="AssertionError",w(U)}return function n(z,V){if("function"!=typeof V&&null!==V)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(V&&V.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),V&&d(z,V)}(V,z),function v(z,V,H){return V&&I(z.prototype,V),H&&I(z,H),z}(V,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:m.custom,value:function(U,G){return m(this,function k(z){for(var V=1;V<arguments.length;V++){var H=null!=arguments[V]?arguments[V]:{},U=Object.keys(H);"function"==typeof Object.getOwnPropertySymbols&&(U=U.concat(Object.getOwnPropertySymbols(H).filter(function(G){return Object.getOwnPropertyDescriptor(H,G).enumerable}))),U.forEach(function(G){l(z,G,H[G])})}return z}({},G,{customInspect:!1,depth:0}))}}]),V}(c(Error));oe.exports=_},79616:function(oe,J,t){"use strict";function S(p){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function l(p,A){return!A||"object"!==S(A)&&"function"!=typeof A?function R(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(p):A}function I(p){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(p)}function w(p,A){return(w=Object.setPrototypeOf||function(u,g){return u.__proto__=g,u})(p,A)}var n,c,r={};function o(p,A,m){m||(m=Error),r[p]=function(C){function T(L,x,E){var M;return function k(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")}(this,T),(M=l(this,I(T).call(this,function u(C,T,L){return"string"==typeof A?A:A(C,T,L)}(L,x,E)))).code=p,M}return function v(p,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(A&&A.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),A&&w(p,A)}(T,C),T}(m)}function f(p,A){if(Array.isArray(p)){var m=p.length;return p=p.map(function(u){return String(u)}),m>2?"one of ".concat(A," ").concat(p.slice(0,m-1).join(", "),", or ")+p[m-1]:2===m?"one of ".concat(A," ").concat(p[0]," or ").concat(p[1]):"of ".concat(A," ").concat(p[0])}return"of ".concat(A," ").concat(String(p))}o("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),o("ERR_INVALID_ARG_TYPE",function(p,A,m){var u,g;if(void 0===n&&(n=t(32791)),n("string"==typeof p,"'name' must be a string"),"string"==typeof A&&function h(p,A,m){return p.substr(!m||m<0?0:+m,A.length)===A}(A,"not ")?(u="must not be",A=A.replace(/^not /,"")):u="must be",function d(p,A,m){return(void 0===m||m>p.length)&&(m=p.length),p.substring(m-A.length,m)===A}(p," argument"))g="The ".concat(p," ").concat(u," ").concat(f(A,"type"));else{var C=function b(p,A,m){return"number"!=typeof m&&(m=0),!(m+A.length>p.length)&&-1!==p.indexOf(A,m)}(p,".")?"property":"argument";g='The "'.concat(p,'" ').concat(C," ").concat(u," ").concat(f(A,"type"))}return g+". Received type ".concat(S(m))},TypeError),o("ERR_INVALID_ARG_VALUE",function(p,A){var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===c&&(c=t(43827));var u=c.inspect(A);return u.length>128&&(u="".concat(u.slice(0,128),"...")),"The argument '".concat(p,"' ").concat(m,". Received ").concat(u)},TypeError,RangeError),o("ERR_INVALID_RETURN_VALUE",function(p,A,m){var u;return u=m&&m.constructor&&m.constructor.name?"instance of ".concat(m.constructor.name):"type ".concat(S(m)),"Expected ".concat(p,' to be returned from the "').concat(A,'"')+" function but got ".concat(u,".")},TypeError),o("ERR_MISSING_ARGS",function(){for(var p=arguments.length,A=new Array(p),m=0;m<p;m++)A[m]=arguments[m];void 0===n&&(n=t(32791)),n(A.length>0,"At least one arg needs to be specified");var u="The ",g=A.length;switch(A=A.map(function(C){return'"'.concat(C,'"')}),g){case 1:u+="".concat(A[0]," argument");break;case 2:u+="".concat(A[0]," and ").concat(A[1]," arguments");break;default:u+=A.slice(0,g-1).join(", "),u+=", and ".concat(A[g-1]," arguments")}return"".concat(u," must be specified")},TypeError),oe.exports.codes=r},74061:function(oe,J,t){"use strict";function S(Ce,Ie){return function R(Ce){if(Array.isArray(Ce))return Ce}(Ce)||function l(Ce,Ie){var Je=[],Qe=!0,ze=!1,Ke=void 0;try{for(var ot,ut=Ce[Symbol.iterator]();!(Qe=(ot=ut.next()).done)&&(Je.push(ot.value),!Ie||Je.length!==Ie);Qe=!0);}catch(We){ze=!0,Ke=We}finally{try{!Qe&&null!=ut.return&&ut.return()}finally{if(ze)throw Ke}}return Je}(Ce,Ie)||function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function I(Ce){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Je){return typeof Je}:function(Je){return Je&&"function"==typeof Symbol&&Je.constructor===Symbol&&Je!==Symbol.prototype?"symbol":typeof Je})(Ce)}var v=void 0!==/a/g.flags,w=function(Ie){var Je=[];return Ie.forEach(function(Qe){return Je.push(Qe)}),Je},r=function(Ie){var Je=[];return Ie.forEach(function(Qe,ze){return Je.push([ze,Qe])}),Je},n=Object.is?Object.is:t(64003),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},o=Number.isNaN?Number.isNaN:t(15567);function f(Ce){return Ce.call.bind(Ce)}var h=f(Object.prototype.hasOwnProperty),d=f(Object.prototype.propertyIsEnumerable),b=f(Object.prototype.toString),p=t(43827).types,A=p.isAnyArrayBuffer,m=p.isArrayBufferView,u=p.isDate,g=p.isMap,C=p.isRegExp,T=p.isSet,L=p.isNativeError,x=p.isBoxedPrimitive,E=p.isNumberObject,M=p.isStringObject,i=p.isBooleanObject,D=p.isBigIntObject,y=p.isSymbolObject,B=p.isFloat32Array,F=p.isFloat64Array;function _(Ce){if(0===Ce.length||Ce.length>10)return!0;for(var Ie=0;Ie<Ce.length;Ie++){var Je=Ce.charCodeAt(Ie);if(Je<48||Je>57)return!0}return 10===Ce.length&&Ce>=Math.pow(2,32)}function z(Ce){return Object.keys(Ce).filter(_).concat(c(Ce).filter(Object.prototype.propertyIsEnumerable.bind(Ce)))}function V(Ce,Ie){if(Ce===Ie)return 0;for(var Je=Ce.length,Qe=Ie.length,ze=0,Ke=Math.min(Je,Qe);ze<Ke;++ze)if(Ce[ze]!==Ie[ze]){Je=Ce[ze],Qe=Ie[ze];break}return Je<Qe?-1:Qe<Je?1:0}var Y=0,ee=1,ue=2,ce=3;function q(Ce,Ie,Je,Qe){if(Ce===Ie)return 0!==Ce||!Je||n(Ce,Ie);if(Je){if("object"!==I(Ce))return"number"==typeof Ce&&o(Ce)&&o(Ie);if("object"!==I(Ie)||null===Ce||null===Ie||Object.getPrototypeOf(Ce)!==Object.getPrototypeOf(Ie))return!1}else{if(null===Ce||"object"!==I(Ce))return(null===Ie||"object"!==I(Ie))&&Ce==Ie;if(null===Ie||"object"!==I(Ie))return!1}var ze=b(Ce);if(ze!==b(Ie))return!1;if(Array.isArray(Ce)){if(Ce.length!==Ie.length)return!1;var ut=z(Ce),ot=z(Ie);return ut.length===ot.length&&re(Ce,Ie,Je,Qe,ee,ut)}if("[object Object]"===ze&&(!g(Ce)&&g(Ie)||!T(Ce)&&T(Ie)))return!1;if(u(Ce)){if(!u(Ie)||Date.prototype.getTime.call(Ce)!==Date.prototype.getTime.call(Ie))return!1}else if(C(Ce)){if(!C(Ie)||!function pe(Ce,Ie){return v?Ce.source===Ie.source&&Ce.flags===Ie.flags:RegExp.prototype.toString.call(Ce)===RegExp.prototype.toString.call(Ie)}(Ce,Ie))return!1}else if(L(Ce)||Ce instanceof Error){if(Ce.message!==Ie.message||Ce.name!==Ie.name)return!1}else{if(m(Ce)){if(Je||!B(Ce)&&!F(Ce)){if(!function Q(Ce,Ie){return Ce.byteLength===Ie.byteLength&&0===V(new Uint8Array(Ce.buffer,Ce.byteOffset,Ce.byteLength),new Uint8Array(Ie.buffer,Ie.byteOffset,Ie.byteLength))}(Ce,Ie))return!1}else if(!function te(Ce,Ie){if(Ce.byteLength!==Ie.byteLength)return!1;for(var Je=0;Je<Ce.byteLength;Je++)if(Ce[Je]!==Ie[Je])return!1;return!0}(Ce,Ie))return!1;var We=z(Ce),je=z(Ie);return We.length===je.length&&re(Ce,Ie,Je,Qe,Y,We)}if(T(Ce))return!(!T(Ie)||Ce.size!==Ie.size)&&re(Ce,Ie,Je,Qe,ue);if(g(Ce))return!(!g(Ie)||Ce.size!==Ie.size)&&re(Ce,Ie,Je,Qe,ce);if(A(Ce)){if(!function K(Ce,Ie){return Ce.byteLength===Ie.byteLength&&0===V(new Uint8Array(Ce),new Uint8Array(Ie))}(Ce,Ie))return!1}else if(x(Ce)&&!function Z(Ce,Ie){return E(Ce)?E(Ie)&&n(Number.prototype.valueOf.call(Ce),Number.prototype.valueOf.call(Ie)):M(Ce)?M(Ie)&&String.prototype.valueOf.call(Ce)===String.prototype.valueOf.call(Ie):i(Ce)?i(Ie)&&Boolean.prototype.valueOf.call(Ce)===Boolean.prototype.valueOf.call(Ie):D(Ce)?D(Ie)&&BigInt.prototype.valueOf.call(Ce)===BigInt.prototype.valueOf.call(Ie):y(Ie)&&Symbol.prototype.valueOf.call(Ce)===Symbol.prototype.valueOf.call(Ie)}(Ce,Ie))return!1}return re(Ce,Ie,Je,Qe,Y)}function fe(Ce,Ie){return Ie.filter(function(Je){return d(Ce,Je)})}function re(Ce,Ie,Je,Qe,ze,Ke){if(5===arguments.length){Ke=Object.keys(Ce);var ut=Object.keys(Ie);if(Ke.length!==ut.length)return!1}for(var ot=0;ot<Ke.length;ot++)if(!h(Ie,Ke[ot]))return!1;if(Je&&5===arguments.length){var We=c(Ce);if(0!==We.length){var je=0;for(ot=0;ot<We.length;ot++){var lt=We[ot];if(d(Ce,lt)){if(!d(Ie,lt))return!1;Ke.push(lt),je++}else if(d(Ie,lt))return!1}var vt=c(Ie);if(We.length!==vt.length&&fe(Ie,vt).length!==je)return!1}else{var pt=c(Ie);if(0!==pt.length&&0!==fe(Ie,pt).length)return!1}}if(0===Ke.length&&(ze===Y||ze===ee&&0===Ce.length||0===Ce.size))return!0;if(void 0===Qe)Qe={val1:new Map,val2:new Map,position:0};else{var St=Qe.val1.get(Ce);if(void 0!==St){var Ct=Qe.val2.get(Ie);if(void 0!==Ct)return St===Ct}Qe.position++}Qe.val1.set(Ce,Qe.position),Qe.val2.set(Ie,Qe.position);var _t=function Ne(Ce,Ie,Je,Qe,ze,Ke){var ut=0;if(Ke===ue){if(!function we(Ce,Ie,Je,Qe){for(var ze=null,Ke=w(Ce),ut=0;ut<Ke.length;ut++){var ot=Ke[ut];if("object"===I(ot)&&null!==ot)null===ze&&(ze=new Set),ze.add(ot);else if(!Ie.has(ot)){if(Je||!se(Ce,Ie,ot))return!1;null===ze&&(ze=new Set),ze.add(ot)}}if(null!==ze){for(var We=w(Ie),je=0;je<We.length;je++){var lt=We[je];if("object"===I(lt)&&null!==lt){if(!$(ze,lt,Je,Qe))return!1}else if(!Je&&!Ce.has(lt)&&!$(ze,lt,Je,Qe))return!1}return 0===ze.size}return!0}(Ce,Ie,Je,ze))return!1}else if(Ke===ce){if(!function Me(Ce,Ie,Je,Qe){for(var ze=null,Ke=r(Ce),ut=0;ut<Ke.length;ut++){var ot=S(Ke[ut],2),je=ot[1];if("object"===I(We=ot[0])&&null!==We)null===ze&&(ze=new Set),ze.add(We);else{var lt=Ie.get(We);if(void 0===lt&&!Ie.has(We)||!q(je,lt,Je,Qe)){if(Je||!de(Ce,Ie,We,je,Qe))return!1;null===ze&&(ze=new Set),ze.add(We)}}}if(null!==ze){for(var vt=r(Ie),pt=0;pt<vt.length;pt++){var We,St=S(vt[pt],2),Ct=St[1];if("object"===I(We=St[0])&&null!==We){if(!Ee(ze,Ce,We,Ct,Je,Qe))return!1}else if(!(Je||Ce.has(We)&&q(Ce.get(We),Ct,!1,Qe)||Ee(ze,Ce,We,Ct,!1,Qe)))return!1}return 0===ze.size}return!0}(Ce,Ie,Je,ze))return!1}else if(Ke===ee)for(;ut<Ce.length;ut++){if(!h(Ce,ut)){if(h(Ie,ut))return!1;for(var ot=Object.keys(Ce);ut<ot.length;ut++){var We=ot[ut];if(!h(Ie,We)||!q(Ce[We],Ie[We],Je,ze))return!1}return ot.length===Object.keys(Ie).length}if(!h(Ie,ut)||!q(Ce[ut],Ie[ut],Je,ze))return!1}for(ut=0;ut<Qe.length;ut++){var je=Qe[ut];if(!q(Ce[je],Ie[je],Je,ze))return!1}return!0}(Ce,Ie,Je,Ke,Qe,ze);return Qe.val1.delete(Ce),Qe.val2.delete(Ie),_t}function $(Ce,Ie,Je,Qe){for(var ze=w(Ce),Ke=0;Ke<ze.length;Ke++){var ut=ze[Ke];if(q(Ie,ut,Je,Qe))return Ce.delete(ut),!0}return!1}function le(Ce){switch(I(Ce)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ce=+Ce;case"number":if(o(Ce))return!1}return!0}function se(Ce,Ie,Je){var Qe=le(Je);return Qe??(Ie.has(Qe)&&!Ce.has(Qe))}function de(Ce,Ie,Je,Qe,ze){var Ke=le(Je);if(null!=Ke)return Ke;var ut=Ie.get(Ke);return!(void 0===ut&&!Ie.has(Ke)||!q(Qe,ut,!1,ze))&&!Ce.has(Ke)&&q(Qe,ut,!1,ze)}function Ee(Ce,Ie,Je,Qe,ze,Ke){for(var ut=w(Ce),ot=0;ot<ut.length;ot++){var We=ut[ot];if(q(Je,We,ze,Ke)&&q(Qe,Ie.get(We),ze,Ke))return Ce.delete(We),!0}return!1}oe.exports={isDeepEqual:function Ve(Ce,Ie){return q(Ce,Ie,false)},isDeepStrictEqual:function Pe(Ce,Ie){return q(Ce,Ie,true)}}},95341:function(oe,J){"use strict";J.byteLength=function w(h){var d=v(h),p=d[1];return 3*(d[0]+p)/4-p},J.toByteArray=function n(h){var d,C,b=v(h),p=b[0],A=b[1],m=new k(function r(h,d,b){return 3*(d+b)/4-b}(0,p,A)),u=0,g=A>0?p-4:p;for(C=0;C<g;C+=4)d=S[h.charCodeAt(C)]<<18|S[h.charCodeAt(C+1)]<<12|S[h.charCodeAt(C+2)]<<6|S[h.charCodeAt(C+3)],m[u++]=d>>16&255,m[u++]=d>>8&255,m[u++]=255&d;return 2===A&&(d=S[h.charCodeAt(C)]<<2|S[h.charCodeAt(C+1)]>>4,m[u++]=255&d),1===A&&(d=S[h.charCodeAt(C)]<<10|S[h.charCodeAt(C+1)]<<4|S[h.charCodeAt(C+2)]>>2,m[u++]=d>>8&255,m[u++]=255&d),m},J.fromByteArray=function f(h){for(var d,b=h.length,p=b%3,A=[],m=16383,u=0,g=b-p;u<g;u+=m)A.push(o(h,u,u+m>g?g:u+m));return 1===p?A.push(t[(d=h[b-1])>>2]+t[d<<4&63]+"=="):2===p&&A.push(t[(d=(h[b-2]<<8)+h[b-1])>>10]+t[d>>4&63]+t[d<<2&63]+"="),A.join("")};for(var t=[],S=[],k=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=0;R<64;++R)t[R]=l[R],S[l.charCodeAt(R)]=R;function v(h){var d=h.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=h.indexOf("=");return-1===b&&(b=d),[b,b===d?0:4-b%4]}function c(h){return t[h>>18&63]+t[h>>12&63]+t[h>>6&63]+t[63&h]}function o(h,d,b){for(var A=[],m=d;m<b;m+=3)A.push(c((h[m]<<16&16711680)+(h[m+1]<<8&65280)+(255&h[m+2])));return A.join("")}S["-".charCodeAt(0)]=62,S["_".charCodeAt(0)]=63},91358:function(oe){"use strict";function J(I,v,w,r,n){for(var c=n+1;r<=n;){var o=r+n>>>1,f=I[o];(void 0!==w?w(f,v):f-v)>=0?(c=o,n=o-1):r=o+1}return c}function t(I,v,w,r,n){for(var c=n+1;r<=n;){var o=r+n>>>1,f=I[o];(void 0!==w?w(f,v):f-v)>0?(c=o,n=o-1):r=o+1}return c}function S(I,v,w,r,n){for(var c=r-1;r<=n;){var o=r+n>>>1,f=I[o];(void 0!==w?w(f,v):f-v)<0?(c=o,r=o+1):n=o-1}return c}function k(I,v,w,r,n){for(var c=r-1;r<=n;){var o=r+n>>>1,f=I[o];(void 0!==w?w(f,v):f-v)<=0?(c=o,r=o+1):n=o-1}return c}function l(I,v,w,r,n){for(;r<=n;){var c=r+n>>>1,o=I[c],f=void 0!==w?w(o,v):o-v;if(0===f)return c;f<=0?r=c+1:n=c-1}return-1}function R(I,v,w,r,n,c){return"function"==typeof w?c(I,v,w,void 0===r?0:0|r,void 0===n?I.length-1:0|n):c(I,v,void 0,void 0===w?0:0|w,void 0===r?I.length-1:0|r)}oe.exports={ge:function(I,v,w,r,n){return R(I,v,w,r,n,J)},gt:function(I,v,w,r,n){return R(I,v,w,r,n,t)},lt:function(I,v,w,r,n){return R(I,v,w,r,n,S)},le:function(I,v,w,r,n){return R(I,v,w,r,n,k)},eq:function(I,v,w,r,n){return R(I,v,w,r,n,l)}}},13547:function(oe,J){"use strict";function S(l){var R=32;return(l&=-l)&&R--,65535&l&&(R-=16),16711935&l&&(R-=8),252645135&l&&(R-=4),858993459&l&&(R-=2),1431655765&l&&(R-=1),R}J.INT_BITS=32,J.INT_MAX=2147483647,J.INT_MIN=-1<<31,J.sign=function(l){return(l>0)-(l<0)},J.abs=function(l){var R=l>>31;return(l^R)-R},J.min=function(l,R){return R^(l^R)&-(l<R)},J.max=function(l,R){return l^(l^R)&-(l<R)},J.isPow2=function(l){return!(l&l-1||!l)},J.log2=function(l){var R,I;return R=(l>65535)<<4,R|=I=((l>>>=R)>255)<<3,R|=I=((l>>>=I)>15)<<2,(R|=I=((l>>>=I)>3)<<1)|(l>>>=I)>>1},J.log10=function(l){return l>=1e9?9:l>=1e8?8:l>=1e7?7:l>=1e6?6:l>=1e5?5:l>=1e4?4:l>=1e3?3:l>=100?2:l>=10?1:0},J.popCount=function(l){return 16843009*((l=(858993459&(l-=l>>>1&1431655765))+(l>>>2&858993459))+(l>>>4)&252645135)>>>24},J.countTrailingZeros=S,J.nextPow2=function(l){return l+=0===l,--l,l|=l>>>1,l|=l>>>2,l|=l>>>4,1+((l|=l>>>8)|l>>>16)},J.prevPow2=function(l){return l|=l>>>1,l|=l>>>2,l|=l>>>4,l|=l>>>8,(l|=l>>>16)-(l>>>1)},J.parity=function(l){return l^=l>>>16,l^=l>>>8,l^=l>>>4,27030>>>(l&=15)&1};var k=new Array(256);(function(l){for(var R=0;R<256;++R){var I=R,v=R,w=7;for(I>>>=1;I;I>>>=1)v<<=1,v|=1&I,--w;l[R]=v<<w&255}})(k),J.reverse=function(l){return k[255&l]<<24|k[l>>>8&255]<<16|k[l>>>16&255]<<8|k[l>>>24&255]},J.interleave2=function(l,R){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l&=65535)|l<<8))|l<<4))|l<<2))|l<<1))|(R=1431655765&((R=858993459&((R=252645135&((R=16711935&((R&=65535)|R<<8))|R<<4))|R<<2))|R<<1))<<1},J.deinterleave2=function(l,R){return(l=65535&((l=16711935&((l=252645135&((l=858993459&((l=l>>>R&1431655765)|l>>>1))|l>>>2))|l>>>4))|l>>>16))<<16>>16},J.interleave3=function(l,R,I){return l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2),(l|=(R=1227133513&((R=3272356035&((R=251719695&((R=4278190335&((R&=1023)|R<<16))|R<<8))|R<<4))|R<<2))<<1)|(I=1227133513&((I=3272356035&((I=251719695&((I=4278190335&((I&=1023)|I<<16))|I<<8))|I<<4))|I<<2))<<2},J.deinterleave3=function(l,R){return(l=1023&((l=4278190335&((l=251719695&((l=3272356035&((l=l>>>R&1227133513)|l>>>2))|l>>>4))|l>>>8))|l>>>16))<<22>>22},J.nextCombination=function(l){var R=l|l-1;return R+1|(~R&-~R)-1>>>S(l)+1}},44781:function(oe,J,t){"use strict";var S=t(53435);oe.exports=function l(v,w){w||(w={});var o,f,h,d,b,p,m,g,C,r=null==w.cutoff?.25:w.cutoff,n=null==w.radius?8:w.radius,c=w.channel||0;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!w.width||!w.height)throw Error("For raw data width and height should be provided by options");o=w.width,f=w.height,d=v,p=w.stride?w.stride:Math.floor(v.length/o/f)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(d=(m=v).getContext("2d").getImageData(0,0,o=m.width,f=m.height).data,p=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(d=v.getImageData(0,0,o=(m=v.canvas).width,f=m.height).data,p=4):window.ImageData&&v instanceof window.ImageData&&(o=v.width,f=v.height,d=v.data,p=4);if(h=Math.max(o,f),window.Uint8ClampedArray&&d instanceof window.Uint8ClampedArray||window.Uint8Array&&d instanceof window.Uint8Array)for(b=d,d=Array(o*f),g=0,C=b.length;g<C;g++)d[g]=b[g*p+c]/255;else if(1!==p)throw Error("Raw data can have only 1 value per pixel");var T=Array(o*f),L=Array(o*f),x=Array(h),E=Array(h),M=Array(h+1),i=Array(h);for(g=0,C=o*f;g<C;g++){var D=d[g];T[g]=1===D?0:0===D?k:Math.pow(Math.max(0,.5-D),2),L[g]=1===D?k:0===D?0:Math.pow(Math.max(0,D-.5),2)}R(T,o,f,x,E,i,M),R(L,o,f,x,E,i,M);var y=window.Float32Array?new Float32Array(o*f):new Array(o*f);for(g=0,C=o*f;g<C;g++)y[g]=S(1-((T[g]-L[g])/n+r),0,1);return y};var k=1e20;function R(v,w,r,n,c,o,f){for(var h=0;h<w;h++){for(var d=0;d<r;d++)n[d]=v[d*w+h];for(I(n,c,o,f,r),d=0;d<r;d++)v[d*w+h]=c[d]}for(d=0;d<r;d++){for(h=0;h<w;h++)n[h]=v[d*w+h];for(I(n,c,o,f,w),h=0;h<w;h++)v[d*w+h]=Math.sqrt(c[h])}}function I(v,w,r,n,c){r[0]=0,n[0]=-k,n[1]=+k;for(var o=1,f=0;o<c;o++){for(var h=(v[o]+o*o-(v[r[f]]+r[f]*r[f]))/(2*o-2*r[f]);h<=n[f];)f--,h=(v[o]+o*o-(v[r[f]]+r[f]*r[f]))/(2*o-2*r[f]);r[++f]=o,n[f]=h,n[f+1]=+k}for(o=0,f=0;o<c;o++){for(;n[f+1]<o;)f++;w[o]=(o-r[f])*(o-r[f])+v[r[f]]}}},6614:function(oe,J,t){"use strict";var S=t(68318),k=t(68222),l=k(S("String.prototype.indexOf"));oe.exports=function(I,v){var w=S(I,!!v);return"function"==typeof w&&l(I,".prototype.")>-1?k(w):w}},68222:function(oe,J,t){"use strict";var S=t(77575),k=t(68318),l=k("%Function.prototype.apply%"),R=k("%Function.prototype.call%"),I=k("%Reflect.apply%",!0)||S.call(R,l),v=k("%Object.getOwnPropertyDescriptor%",!0),w=k("%Object.defineProperty%",!0),r=k("%Math.max%");if(w)try{w({},"a",{value:1})}catch{w=null}oe.exports=function(o){var f=I(S,R,arguments);return v&&w&&v(f,"length").configurable&&w(f,"length",{value:1+r(0,o.length-(arguments.length-1))}),f};var n=function(){return I(S,l,arguments)};w?w(oe.exports,"apply",{value:n}):oe.exports.apply=n},53435:function(oe){oe.exports=function J(t,S,k){return S<k?t<S?S:t>k?k:t:t<k?k:t>S?S:t}},6475:function(oe,J,t){"use strict";var S=t(53435);function k(R,I){null==I&&(I=!0);var v=R[0],w=R[1],r=R[2],n=R[3];return null==n&&(n=I?1:255),I&&(v*=255,w*=255,r*=255,n*=255),16777216*(v=255&S(v,0,255))+((w=255&S(w,0,255))<<16)+((r=255&S(r,0,255))<<8)+(255&S(n,0,255))}oe.exports=k,oe.exports.to=k,oe.exports.from=function l(R,I){var v=(R=+R)>>>24,w=(16711680&R)>>>16,r=(65280&R)>>>8,n=255&R;return!1===I?[v,w,r,n]:[v/255,w/255,r/255,n/255]}},76857:function(oe){"use strict";oe.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(oe,J,t){"use strict";var S=t(36652),k=t(53435),l=t(90660);oe.exports=function(v,w){("float"===w||!w)&&(w="array"),"uint"===w&&(w="uint8"),"uint_clamped"===w&&(w="uint8_clamped");var n=new(l(w))(4),c="uint8"!==w&&"uint8_clamped"!==w;return(!v.length||"string"==typeof v)&&((v=S(v))[0]/=255,v[1]/=255,v[2]/=255),function R(I){return!!(I instanceof Uint8Array||I instanceof Uint8ClampedArray||Array.isArray(I)&&(I[0]>1||0===I[0])&&(I[1]>1||0===I[1])&&(I[2]>1||0===I[2])&&(!I[3]||I[3]>1))}(v)?(n[0]=v[0],n[1]=v[1],n[2]=v[2],n[3]=null!=v[3]?v[3]:255,c&&(n[0]/=255,n[1]/=255,n[2]/=255,n[3]/=255),n):(c?(n[0]=v[0],n[1]=v[1],n[2]=v[2],n[3]=null!=v[3]?v[3]:1):(n[0]=k(Math.floor(255*v[0]),0,255),n[1]=k(Math.floor(255*v[1]),0,255),n[2]=k(Math.floor(255*v[2]),0,255),n[3]=null==v[3]?255:k(Math.floor(255*v[3]),0,255)),n)}},90736:function(oe,J,t){"use strict";var S=t(76857),k=t(10973),l=t(46775);oe.exports=function I(v){var w,c,r=[],n=1;if("string"==typeof v)if(S[v])r=S[v].slice(),c="rgb";else if("transparent"===v)n=0,c="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(v)){var o=v.slice(1);n=1,(f=o.length)<=4?(r=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],4===f&&(n=parseInt(o[3]+o[3],16)/255)):(r=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],8===f&&(n=parseInt(o[6]+o[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),c="rgb"}else if(w=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(v)){var d=w[1],b="rgb"===d;c=o=d.replace(/a$/,"");var f="cmyk"===o?4:"gray"===o?1:3;r=w[2].trim().split(/\s*,\s*/).map(function(u,g){if(/%$/.test(u))return g===f?parseFloat(u)/100:"rgb"===o?255*parseFloat(u)/100:parseFloat(u);if("h"===o[g]){if(/deg$/.test(u))return parseFloat(u);if(void 0!==R[u])return R[u]}return parseFloat(u)}),d===o&&r.push(1),n=b||void 0===r[f]?1:r[f],r=r.slice(0,f)}else v.length>10&&/[0-9](?:\s|\/)/.test(v)&&(r=v.match(/([0-9]+)/g).map(function(A){return parseFloat(A)}),c=v.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(v))if(k(v)){var p=l(v.r,v.red,v.R,null);null!==p?(c="rgb",r=[p,l(v.g,v.green,v.G),l(v.b,v.blue,v.B)]):(c="hsl",r=[l(v.h,v.hue,v.H),l(v.s,v.saturation,v.S),l(v.l,v.lightness,v.L,v.b,v.brightness)]),n=l(v.a,v.alpha,v.opacity,1),null!=v.opacity&&(n/=100)}else(Array.isArray(v)||t.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v))&&(r=[v[0],v[1],v[2]],c="rgb",n=4===v.length?v[3]:1);else c="rgb",r=[v>>>16,(65280&v)>>>8,255&v];return{space:c,values:r,alpha:n}};var R={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(oe,J,t){"use strict";var S=t(90736),k=t(80009),l=t(53435);oe.exports=function(I){var v,n=S(I);return n.space?((v=Array(3))[0]=l(n.values[0],0,255),v[1]=l(n.values[1],0,255),v[2]=l(n.values[2],0,255),"h"===n.space[0]&&(v=k.rgb(v)),v.push(l(n.alpha,0,1)),v):[]}},80009:function(oe,J,t){"use strict";var S=t(6866);oe.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(k){var v,w,r,n,c,l=k[0]/360,R=k[1]/100,I=k[2]/100;if(0===R)return[c=255*I,c,c];v=2*I-(w=I<.5?I*(1+R):I+R-I*R),n=[0,0,0];for(var o=0;o<3;o++)(r=l+.3333333333333333*-(o-1))<0?r++:r>1&&r--,n[o]=255*(c=6*r<1?v+6*(w-v)*r:2*r<1?w:3*r<2?v+(w-v)*(.6666666666666666-r)*6:v);return n}},S.hsl=function(k){var n,o,l=k[0]/255,R=k[1]/255,I=k[2]/255,v=Math.min(l,R,I),w=Math.max(l,R,I),r=w-v;return w===v?n=0:l===w?n=(R-I)/r:R===w?n=2+(I-l)/r:I===w&&(n=4+(l-R)/r),(n=Math.min(60*n,360))<0&&(n+=360),o=(v+w)/2,[n,100*(w===v?0:o<=.5?r/(w+v):r/(2-w-v)),100*o]}},6866:function(oe){"use strict";oe.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(oe){oe.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xe9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xe9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xe3)o.?tom(e|\xe9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(oe,J,t){"use strict";oe.exports={parse:t(41004),stringify:t(53313)}},63625:function(oe,J,t){"use strict";var S=t(40402);oe.exports={isSize:function(l){return/^[\d\.]/.test(l)||-1!==l.indexOf("/")||-1!==S.indexOf(l)}}},41004:function(oe,J,t){"use strict";var S=t(90448),k=t(38732),l=t(41901),R=t(15659),I=t(96209),v=t(83794),w=t(99011),r=t(63625).isSize;oe.exports=c;var n=c.cache={};function c(f){if("string"!=typeof f)throw new Error("Font argument must be a string.");if(n[f])return n[f];if(""===f)throw new Error("Cannot parse an empty string.");if(-1!==l.indexOf(f))return n[f]={system:f};for(var b,h={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},d=w(f,/\s+/);b=d.shift();){if(-1!==k.indexOf(b))return["style","variant","weight","stretch"].forEach(function(A){h[A]=b}),n[f]=h;if(-1===I.indexOf(b))if("normal"!==b&&"small-caps"!==b)if(-1===v.indexOf(b)){if(-1===R.indexOf(b)){if(r(b)){var p=w(b,"/");if(h.size=p[0],null!=p[1]?h.lineHeight=o(p[1]):"/"===d[0]&&(d.shift(),h.lineHeight=o(d.shift())),!d.length)throw new Error("Missing required font-family.");return h.family=w(d.join(" "),/\s*,\s*/).map(S),n[f]=h}throw new Error("Unknown or unsupported font token: "+b)}h.weight=b}else h.stretch=b;else h.variant=b;else h.style=b}throw new Error("Missing required font-size.")}function o(f){var h=parseFloat(f);return h.toString()===f?h:f}},53313:function(oe,J,t){"use strict";var S=t(71299),k=t(63625).isSize,l=f(t(38732)),R=f(t(41901)),I=f(t(15659)),v=f(t(96209)),w=f(t(83794)),r={normal:1,"small-caps":1},n={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},c_size="1rem",c_family="serif";function o(h,d){if(h&&!d[h]&&!l[h])throw Error("Unknown keyword `"+h+"`");return h}function f(h){for(var d={},b=0;b<h.length;b++)d[h[b]]=1;return d}oe.exports=function(d){if((d=S(d,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return d.system&&o(d.system,R),d.system;if(o(d.style,v),o(d.variant,r),o(d.weight,I),o(d.stretch,w),null==d.size&&(d.size=c_size),"number"==typeof d.size&&(d.size+="px"),!k)throw Error("Bad size value `"+d.size+"`");d.family||(d.family=c_family),Array.isArray(d.family)&&(d.family.length||(d.family=[c_family]),d.family=d.family.map(function(p){return n[p]?p:'"'+p+'"'}).join(", "));var b=[];return b.push(d.style),d.variant!==d.style&&b.push(d.variant),d.weight!==d.variant&&d.weight!==d.style&&b.push(d.weight),d.stretch!==d.weight&&d.stretch!==d.variant&&d.stretch!==d.style&&b.push(d.stretch),b.push(d.size+(null==d.lineHeight||"normal"===d.lineHeight||d.lineHeight+""=="1"?"":"/"+d.lineHeight)),b.push(d.family),b.filter(Boolean).join(" ")}},55174:function(oe,J,t){"use strict";var c,S=t(24582),k=t(10424),l=t(82527),R=t(19012),I=t(21780),v=t(16906),w=Function.prototype.bind,r=Object.defineProperty,n=Object.prototype.hasOwnProperty;c=function(o,f,h){var b,d=k(f)&&l(f.value);return delete(b=R(f)).writable,delete b.value,b.get=function(){return!h.overwriteDefinition&&n.call(this,o)?d:(f.value=w.call(d,h.resolveContext?h.resolveContext(this):this),r(this,o,f),this[o])},b},oe.exports=function(o){var f=I(arguments[1]);return S(f.resolveContext)&&l(f.resolveContext),v(o,function(h,d){return c(d,h,f)})}},62072:function(oe,J,t){"use strict";var S=t(24582),k=t(84985),l=t(95879),R=t(21780),I=t(66741),v=oe.exports=function(w,r){var n,c,o,f,h;return arguments.length<2||"string"!=typeof w?(f=r,r=w,w=null):f=arguments[2],S(w)?(n=I.call(w,"c"),c=I.call(w,"e"),o=I.call(w,"w")):(n=o=!0,c=!1),h={value:r,configurable:n,enumerable:c,writable:o},f?l(R(f),h):h};v.gs=function(w,r,n){var c,o,f,h;return"string"!=typeof w?(f=n,n=r,r=w,w=null):f=arguments[3],S(r)?k(r)?S(n)?k(n)||(f=n,n=void 0):n=void 0:(f=r,r=n=void 0):r=void 0,S(w)?(c=I.call(w,"c"),o=I.call(w,"e")):(c=!0,o=!1),h={get:r,set:n,configurable:c,enumerable:o},f?l(R(f),h):h}},33064:function(oe,J,t){"use strict";function S(M,i){return M<i?-1:M>i?1:M>=i?0:NaN}function u(M,i){var B,F,D=M.length,y=-1;if(null==i){for(;++y<D;)if(null!=(B=M[y])&&B>=B)for(F=B;++y<D;)null!=(B=M[y])&&B>F&&(F=B)}else for(;++y<D;)if(null!=(B=i(M[y],y,M))&&B>=B)for(F=B;++y<D;)null!=(B=i(M[y],y,M))&&B>F&&(F=B);return F}function g(M){return null===M?NaN:+M}function C(M,i){var F,D=M.length,y=D,B=-1,_=0;if(null==i)for(;++B<D;)isNaN(F=g(M[B]))?--y:_+=F;else for(;++B<D;)isNaN(F=g(i(M[B],B,M)))?--y:_+=F;if(y)return _/y}function T(M){for(var D,F,_,i=M.length,y=-1,B=0;++y<i;)B+=M[y].length;for(F=new Array(B);--i>=0;)for(D=(_=M[i]).length;--D>=0;)F[--B]=_[D];return F}function L(M,i){var B,F,D=M.length,y=-1;if(null==i){for(;++y<D;)if(null!=(B=M[y])&&B>=B)for(F=B;++y<D;)null!=(B=M[y])&&F>B&&(F=B)}else for(;++y<D;)if(null!=(B=i(M[y],y,M))&&B>=B)for(F=B;++y<D;)null!=(B=i(M[y],y,M))&&F>B&&(F=B);return F}function x(M,i,D){M=+M,i=+i,D=(B=arguments.length)<2?(i=M,M=0,1):B<3?1:+D;for(var y=-1,B=0|Math.max(0,Math.ceil((i-M)/D)),F=new Array(B);++y<B;)F[y]=M+y*D;return F}function E(M,i){var B,D=M.length,y=-1,F=0;if(null==i)for(;++y<D;)(B=+M[y])&&(F+=B);else for(;++y<D;)(B=+i(M[y],y,M))&&(F+=B);return F}t.d(J,{j2:function(){return S},Fp:function(){return u},J6:function(){return C},TS:function(){return T},VV:function(){return L},w6:function(){return x},Sm:function(){return E}}),function k(M){return 1===M.length&&(M=function l(M){return function(i,D){return S(M(i),D)}}(M)),{left:function(i,D,y,B){for(null==y&&(y=0),null==B&&(B=i.length);y<B;){var F=y+B>>>1;M(i[F],D)<0?y=F+1:B=F}return y},right:function(i,D,y,B){for(null==y&&(y=0),null==B&&(B=i.length);y<B;){var F=y+B>>>1;M(i[F],D)>0?B=F:y=F+1}return y}}}(S),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},15140:function(oe,J,t){"use strict";t.d(J,{UI:function(){return R},b1:function(){return I}});var S="$";function k(){}function l(d,b){var p=new k;if(d instanceof k)d.each(function(C,T){p.set(T,C)});else if(Array.isArray(d)){var u,A=-1,m=d.length;if(null==b)for(;++A<m;)p.set(A,d[A]);else for(;++A<m;)p.set(b(u=d[A],A,d),u)}else if(d)for(var g in d)p.set(g,d[g]);return p}k.prototype=l.prototype={constructor:k,has:function(d){return S+d in this},get:function(d){return this[S+d]},set:function(d,b){return this[S+d]=b,this},remove:function(d){var b=S+d;return b in this&&delete this[b]},clear:function(){for(var d in this)d[0]===S&&delete this[d]},keys:function(){var d=[];for(var b in this)b[0]===S&&d.push(b.slice(1));return d},values:function(){var d=[];for(var b in this)b[0]===S&&d.push(this[b]);return d},entries:function(){var d=[];for(var b in this)b[0]===S&&d.push({key:b.slice(1),value:this[b]});return d},size:function(){var d=0;for(var b in this)b[0]===S&&++d;return d},empty:function(){for(var d in this)if(d[0]===S)return!1;return!0},each:function(d){for(var b in this)b[0]===S&&d(this[b],b.slice(1),this)}};var R=l;function I(){var p,A,m,d=[],b=[];function u(C,T,L,x){if(T>=d.length)return null!=p&&C.sort(p),null!=A?A(C):C;for(var D,y,F,E=-1,M=C.length,i=d[T++],B=R(),_=L();++E<M;)(F=B.get(D=i(y=C[E])+""))?F.push(y):B.set(D,[y]);return B.each(function(z,V){x(_,V,u(z,T,L,x))}),_}function g(C,T){if(++T>d.length)return C;var L,x=b[T-1];return null!=A&&T>=d.length?L=C.entries():(L=[],C.each(function(E,M){L.push({key:M,values:g(E,T)})})),null!=x?L.sort(function(E,M){return x(E.key,M.key)}):L}return m={object:function(C){return u(C,0,v,w)},map:function(C){return u(C,0,r,n)},entries:function(C){return g(u(C,0,r,n),0)},key:function(C){return d.push(C),m},sortKeys:function(C){return b[d.length-1]=C,m},sortValues:function(C){return p=C,m},rollup:function(C){return A=C,m}}}function v(){return{}}function w(d,b,p){d[b]=p}function r(){return R()}function n(d,b,p){d.set(b,p)}function c(){}var o=R.prototype;c.prototype=function f(d,b){var p=new c;if(d instanceof c)d.each(function(u){p.add(u)});else if(d){var A=-1,m=d.length;if(null==b)for(;++A<m;)p.add(d[A]);else for(;++A<m;)p.add(b(d[A],A,d))}return p}.prototype={constructor:c,has:o.has,add:function(d){return this[S+(d+="")]=d,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each}},49887:function(oe,J,t){"use strict";function S(je,lt){var vt;function pt(){var St,_t,Ct=vt.length,nt=0,ke=0;for(St=0;St<Ct;++St)nt+=(_t=vt[St]).x,ke+=_t.y;for(nt=nt/Ct-je,ke=ke/Ct-lt,St=0;St<Ct;++St)(_t=vt[St]).x-=nt,_t.y-=ke}return null==je&&(je=0),null==lt&&(lt=0),pt.initialize=function(St){vt=St},pt.x=function(St){return arguments.length?(je=+St,pt):je},pt.y=function(St){return arguments.length?(lt=+St,pt):lt},pt}function k(je){return function(){return je}}function l(){return 1e-6*(Math.random()-.5)}function I(je,lt,vt,pt){if(isNaN(lt)||isNaN(vt))return je;var St,He,Ye,Ue,De,ge,Te,_e,et,Ct=je._root,_t={data:pt},nt=je._x0,ke=je._y0,Re=je._x1,Be=je._y1;if(!Ct)return je._root=_t,je;for(;Ct.length;)if((ge=lt>=(He=(nt+Re)/2))?nt=He:Re=He,(Te=vt>=(Ye=(ke+Be)/2))?ke=Ye:Be=Ye,St=Ct,!(Ct=Ct[_e=Te<<1|ge]))return St[_e]=_t,je;if(Ue=+je._x.call(null,Ct.data),De=+je._y.call(null,Ct.data),lt===Ue&&vt===De)return _t.next=Ct,St?St[_e]=_t:je._root=_t,je;do{St=St?St[_e]=new Array(4):je._root=new Array(4),(ge=lt>=(He=(nt+Re)/2))?nt=He:Re=He,(Te=vt>=(Ye=(ke+Be)/2))?ke=Ye:Be=Ye}while((_e=Te<<1|ge)==(et=(De>=Ye)<<1|Ue>=He));return St[et]=Ct,St[_e]=_t,je}function c(je,lt,vt,pt,St){this.node=je,this.x0=lt,this.y0=vt,this.x1=pt,this.y1=St}function m(je){return je[0]}function g(je){return je[1]}function T(je,lt,vt){var pt=new L(lt??m,vt??g,NaN,NaN,NaN,NaN);return null==je?pt:pt.addAll(je)}function L(je,lt,vt,pt,St,Ct){this._x=je,this._y=lt,this._x0=vt,this._y0=pt,this._x1=St,this._y1=Ct,this._root=void 0}function x(je){for(var lt={data:je.data},vt=lt;je=je.next;)vt=vt.next={data:je.data};return lt}t.r(J),t.d(J,{forceCenter:function(){return S},forceCollide:function(){return D},forceLink:function(){return _},forceManyBody:function(){return Ke},forceRadial:function(){return ut},forceSimulation:function(){return ze},forceX:function(){return ot},forceY:function(){return We}});var E=T.prototype=L.prototype;function M(je){return je.x+je.vx}function i(je){return je.y+je.vy}function D(je){var lt,vt,pt=1,St=1;function Ct(){for(var ke,Be,He,Ye,Ue,De,ge,Re=lt.length,Te=0;Te<St;++Te)for(Be=T(lt,M,i).visitAfter(_t),ke=0;ke<Re;++ke)ge=(De=vt[(He=lt[ke]).index])*De,Ye=He.x+He.vx,Ue=He.y+He.vy,Be.visit(_e);function _e(et,ft,gt,Kt,ir){var Lt=et.data,Ut=et.r,Qt=De+Ut;if(!Lt)return ft>Ye+Qt||Kt<Ye-Qt||gt>Ue+Qt||ir<Ue-Qt;if(Lt.index>He.index){var Cr=Ye-Lt.x-Lt.vx,wt=Ue-Lt.y-Lt.vy,$t=Cr*Cr+wt*wt;$t<Qt*Qt&&(0===Cr&&($t+=(Cr=l())*Cr),0===wt&&($t+=(wt=l())*wt),$t=(Qt-($t=Math.sqrt($t)))/$t*pt,He.vx+=(Cr*=$t)*(Qt=(Ut*=Ut)/(ge+Ut)),He.vy+=(wt*=$t)*Qt,Lt.vx-=Cr*(Qt=1-Qt),Lt.vy-=wt*Qt)}}}function _t(ke){if(ke.data)return ke.r=vt[ke.data.index];for(var Re=ke.r=0;Re<4;++Re)ke[Re]&&ke[Re].r>ke.r&&(ke.r=ke[Re].r)}function nt(){if(lt){var ke,Be,Re=lt.length;for(vt=new Array(Re),ke=0;ke<Re;++ke)vt[(Be=lt[ke]).index]=+je(Be,ke,lt)}}return"function"!=typeof je&&(je=k(null==je?1:+je)),Ct.initialize=function(ke){lt=ke,nt()},Ct.iterations=function(ke){return arguments.length?(St=+ke,Ct):St},Ct.strength=function(ke){return arguments.length?(pt=+ke,Ct):pt},Ct.radius=function(ke){return arguments.length?(je="function"==typeof ke?ke:k(+ke),nt(),Ct):je},Ct}E.copy=function(){var vt,pt,je=new L(this._x,this._y,this._x0,this._y0,this._x1,this._y1),lt=this._root;if(!lt)return je;if(!lt.length)return je._root=x(lt),je;for(vt=[{source:lt,target:je._root=new Array(4)}];lt=vt.pop();)for(var St=0;St<4;++St)(pt=lt.source[St])&&(pt.length?vt.push({source:pt,target:lt.target[St]=new Array(4)}):lt.target[St]=x(pt));return je},E.add=function R(je){var lt=+this._x.call(null,je),vt=+this._y.call(null,je);return I(this.cover(lt,vt),lt,vt,je)},E.addAll=function v(je){var lt,vt,St,Ct,pt=je.length,_t=new Array(pt),nt=new Array(pt),ke=1/0,Re=1/0,Be=-1/0,He=-1/0;for(vt=0;vt<pt;++vt)isNaN(St=+this._x.call(null,lt=je[vt]))||isNaN(Ct=+this._y.call(null,lt))||(_t[vt]=St,nt[vt]=Ct,St<ke&&(ke=St),St>Be&&(Be=St),Ct<Re&&(Re=Ct),Ct>He&&(He=Ct));if(ke>Be||Re>He)return this;for(this.cover(ke,Re).cover(Be,He),vt=0;vt<pt;++vt)I(this,_t[vt],nt[vt],je[vt]);return this},E.cover=function w(je,lt){if(isNaN(je=+je)||isNaN(lt=+lt))return this;var vt=this._x0,pt=this._y0,St=this._x1,Ct=this._y1;if(isNaN(vt))St=(vt=Math.floor(je))+1,Ct=(pt=Math.floor(lt))+1;else{for(var ke,Re,_t=St-vt,nt=this._root;vt>je||je>=St||pt>lt||lt>=Ct;)switch(Re=(lt<pt)<<1|je<vt,ke=new Array(4),ke[Re]=nt,nt=ke,_t*=2,Re){case 0:St=vt+_t,Ct=pt+_t;break;case 1:vt=St-_t,Ct=pt+_t;break;case 2:St=vt+_t,pt=Ct-_t;break;case 3:vt=St-_t,pt=Ct-_t}this._root&&this._root.length&&(this._root=nt)}return this._x0=vt,this._y0=pt,this._x1=St,this._y1=Ct,this},E.data=function r(){var je=[];return this.visit(function(lt){if(!lt.length)do{je.push(lt.data)}while(lt=lt.next)}),je},E.extent=function n(je){return arguments.length?this.cover(+je[0][0],+je[0][1]).cover(+je[1][0],+je[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},E.find=function o(je,lt,vt){var pt,_t,nt,ke,Re,De,ge,St=this._x0,Ct=this._y0,Be=this._x1,He=this._y1,Ye=[],Ue=this._root;for(Ue&&Ye.push(new c(Ue,St,Ct,Be,He)),null==vt?vt=1/0:(St=je-vt,Ct=lt-vt,Be=je+vt,He=lt+vt,vt*=vt);De=Ye.pop();)if(!(!(Ue=De.node)||(_t=De.x0)>Be||(nt=De.y0)>He||(ke=De.x1)<St||(Re=De.y1)<Ct))if(Ue.length){var Te=(_t+ke)/2,_e=(nt+Re)/2;Ye.push(new c(Ue[3],Te,_e,ke,Re),new c(Ue[2],_t,_e,Te,Re),new c(Ue[1],Te,nt,ke,_e),new c(Ue[0],_t,nt,Te,_e)),(ge=(lt>=_e)<<1|je>=Te)&&(De=Ye[Ye.length-1],Ye[Ye.length-1]=Ye[Ye.length-1-ge],Ye[Ye.length-1-ge]=De)}else{var et=je-+this._x.call(null,Ue.data),ft=lt-+this._y.call(null,Ue.data),gt=et*et+ft*ft;if(gt<vt){var Kt=Math.sqrt(vt=gt);St=je-Kt,Ct=lt-Kt,Be=je+Kt,He=lt+Kt,pt=Ue.data}}return pt},E.remove=function f(je){if(isNaN(Be=+this._x.call(null,je))||isNaN(He=+this._y.call(null,je)))return this;var lt,pt,St,Ct,Be,He,Ye,Ue,De,ge,Te,_e,vt=this._root,_t=this._x0,nt=this._y0,ke=this._x1,Re=this._y1;if(!vt)return this;if(vt.length)for(;;){if((De=Be>=(Ye=(_t+ke)/2))?_t=Ye:ke=Ye,(ge=He>=(Ue=(nt+Re)/2))?nt=Ue:Re=Ue,lt=vt,!(vt=vt[Te=ge<<1|De]))return this;if(!vt.length)break;(lt[Te+1&3]||lt[Te+2&3]||lt[Te+3&3])&&(pt=lt,_e=Te)}for(;vt.data!==je;)if(St=vt,!(vt=vt.next))return this;return(Ct=vt.next)&&delete vt.next,St?(Ct?St.next=Ct:delete St.next,this):lt?(Ct?lt[Te]=Ct:delete lt[Te],(vt=lt[0]||lt[1]||lt[2]||lt[3])&&vt===(lt[3]||lt[2]||lt[1]||lt[0])&&!vt.length&&(pt?pt[_e]=vt:this._root=vt),this):(this._root=Ct,this)},E.removeAll=function h(je){for(var lt=0,vt=je.length;lt<vt;++lt)this.remove(je[lt]);return this},E.root=function d(){return this._root},E.size=function b(){var je=0;return this.visit(function(lt){if(!lt.length)do{++je}while(lt=lt.next)}),je},E.visit=function p(je){var vt,St,Ct,_t,nt,ke,lt=[],pt=this._root;for(pt&&lt.push(new c(pt,this._x0,this._y0,this._x1,this._y1));vt=lt.pop();)if(!je(pt=vt.node,Ct=vt.x0,_t=vt.y0,nt=vt.x1,ke=vt.y1)&&pt.length){var Re=(Ct+nt)/2,Be=(_t+ke)/2;(St=pt[3])&&lt.push(new c(St,Re,Be,nt,ke)),(St=pt[2])&&lt.push(new c(St,Ct,Be,Re,ke)),(St=pt[1])&&lt.push(new c(St,Re,_t,nt,Be)),(St=pt[0])&&lt.push(new c(St,Ct,_t,Re,Be))}return this},E.visitAfter=function A(je){var pt,lt=[],vt=[];for(this._root&&lt.push(new c(this._root,this._x0,this._y0,this._x1,this._y1));pt=lt.pop();){var St=pt.node;if(St.length){var Ct,_t=pt.x0,nt=pt.y0,ke=pt.x1,Re=pt.y1,Be=(_t+ke)/2,He=(nt+Re)/2;(Ct=St[0])&&lt.push(new c(Ct,_t,nt,Be,He)),(Ct=St[1])&&lt.push(new c(Ct,Be,nt,ke,He)),(Ct=St[2])&&lt.push(new c(Ct,_t,He,Be,Re)),(Ct=St[3])&&lt.push(new c(Ct,Be,He,ke,Re))}vt.push(pt)}for(;pt=vt.pop();)je(pt.node,pt.x0,pt.y0,pt.x1,pt.y1);return this},E.x=function u(je){return arguments.length?(this._x=je,this):this._x},E.y=function C(je){return arguments.length?(this._y=je,this):this._y};var y=t(15140);function B(je){return je.index}function F(je,lt){var vt=je.get(lt);if(!vt)throw new Error("missing: "+lt);return vt}function _(je){var pt,Ct,_t,nt,ke,lt=B,vt=function Be(ge){return 1/Math.min(nt[ge.source.index],nt[ge.target.index])},St=k(30),Re=1;function He(ge){for(var Te=0,_e=je.length;Te<Re;++Te)for(var ft,gt,Kt,ir,Lt,Ut,Qt,et=0;et<_e;++et)ir=(Kt=(ft=je[et]).target).x+Kt.vx-(gt=ft.source).x-gt.vx||l(),Lt=Kt.y+Kt.vy-gt.y-gt.vy||l(),Lt*=Ut=((Ut=Math.sqrt(ir*ir+Lt*Lt))-Ct[et])/Ut*ge*pt[et],Kt.vx-=(ir*=Ut)*(Qt=ke[et]),Kt.vy-=Lt*Qt,gt.vx+=ir*(Qt=1-Qt),gt.vy+=Lt*Qt}function Ye(){if(_t){var ge,ft,Te=_t.length,_e=je.length,et=(0,y.UI)(_t,lt);for(ge=0,nt=new Array(Te);ge<_e;++ge)(ft=je[ge]).index=ge,"object"!=typeof ft.source&&(ft.source=F(et,ft.source)),"object"!=typeof ft.target&&(ft.target=F(et,ft.target)),nt[ft.source.index]=(nt[ft.source.index]||0)+1,nt[ft.target.index]=(nt[ft.target.index]||0)+1;for(ge=0,ke=new Array(_e);ge<_e;++ge)ke[ge]=nt[(ft=je[ge]).source.index]/(nt[ft.source.index]+nt[ft.target.index]);pt=new Array(_e),Ue(),Ct=new Array(_e),De()}}function Ue(){if(_t)for(var ge=0,Te=je.length;ge<Te;++ge)pt[ge]=+vt(je[ge],ge,je)}function De(){if(_t)for(var ge=0,Te=je.length;ge<Te;++ge)Ct[ge]=+St(je[ge],ge,je)}return null==je&&(je=[]),He.initialize=function(ge){_t=ge,Ye()},He.links=function(ge){return arguments.length?(je=ge,Ye(),He):je},He.id=function(ge){return arguments.length?(lt=ge,He):lt},He.iterations=function(ge){return arguments.length?(Re=+ge,He):Re},He.strength=function(ge){return arguments.length?(vt="function"==typeof ge?ge:k(+ge),Ue(),He):vt},He.distance=function(ge){return arguments.length?(St="function"==typeof ge?ge:k(+ge),De(),He):St},He}var z={value:function(){}};function V(){for(var pt,je=0,lt=arguments.length,vt={};je<lt;++je){if(!(pt=arguments[je]+"")||pt in vt||/[\s.]/.test(pt))throw new Error("illegal type: "+pt);vt[pt]=[]}return new H(vt)}function H(je){this._=je}function G(je,lt){for(var St,vt=0,pt=je.length;vt<pt;++vt)if((St=je[vt]).name===lt)return St.value}function Y(je,lt,vt){for(var pt=0,St=je.length;pt<St;++pt)if(je[pt].name===lt){je[pt]=z,je=je.slice(0,pt).concat(je.slice(pt+1));break}return null!=vt&&je.push({name:lt,value:vt}),je}H.prototype=V.prototype={constructor:H,on:function(je,lt){var St,vt=this._,pt=function U(je,lt){return je.trim().split(/^|\s+/).map(function(vt){var pt="",St=vt.indexOf(".");if(St>=0&&(pt=vt.slice(St+1),vt=vt.slice(0,St)),vt&&!lt.hasOwnProperty(vt))throw new Error("unknown type: "+vt);return{type:vt,name:pt}})}(je+"",vt),Ct=-1,_t=pt.length;if(!(arguments.length<2)){if(null!=lt&&"function"!=typeof lt)throw new Error("invalid callback: "+lt);for(;++Ct<_t;)if(St=(je=pt[Ct]).type)vt[St]=Y(vt[St],je.name,lt);else if(null==lt)for(St in vt)vt[St]=Y(vt[St],je.name,null);return this}for(;++Ct<_t;)if((St=(je=pt[Ct]).type)&&(St=G(vt[St],je.name)))return St},copy:function(){var je={},lt=this._;for(var vt in lt)je[vt]=lt[vt].slice();return new H(je)},call:function(je,lt){if((St=arguments.length-2)>0)for(var St,Ct,vt=new Array(St),pt=0;pt<St;++pt)vt[pt]=arguments[pt+2];if(!this._.hasOwnProperty(je))throw new Error("unknown type: "+je);for(pt=0,St=(Ct=this._[je]).length;pt<St;++pt)Ct[pt].value.apply(lt,vt)},apply:function(je,lt,vt){if(!this._.hasOwnProperty(je))throw new Error("unknown type: "+je);for(var pt=this._[je],St=0,Ct=pt.length;St<Ct;++St)pt[St].value.apply(lt,vt)}};var Q,K,ee=V,ue=0,ce=0,pe=0,te=1e3,Z=0,q=0,fe=0,re="object"==typeof performance&&performance.now?performance:Date,$="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(je){setTimeout(je,17)};function le(){return q||($(se),q=re.now()+fe)}function se(){q=0}function de(){this._call=this._time=this._next=null}function we(je,lt,vt){var pt=new de;return pt.restart(je,lt,vt),pt}function Me(){q=(Z=re.now())+fe,ue=ce=0;try{!function Ee(){le(),++ue;for(var lt,je=Q;je;)(lt=q-je._time)>=0&&je._call.call(null,lt),je=je._next;--ue}()}finally{ue=0,function Ve(){for(var je,vt,lt=Q,pt=1/0;lt;)lt._call?(pt>lt._time&&(pt=lt._time),je=lt,lt=lt._next):(vt=lt._next,lt._next=null,lt=je?je._next=vt:Q=vt);K=je,Pe(pt)}(),q=0}}function Ne(){var je=re.now(),lt=je-Z;lt>te&&(fe-=lt,Z=je)}function Pe(je){ue||(ce&&(ce=clearTimeout(ce)),je-q>24?(je<1/0&&(ce=setTimeout(Me,je-re.now()-fe)),pe&&(pe=clearInterval(pe))):(pe||(Z=re.now(),pe=setInterval(Ne,te)),ue=1,$(Me)))}function Ce(je){return je.x}function Ie(je){return je.y}de.prototype=we.prototype={constructor:de,restart:function(je,lt,vt){if("function"!=typeof je)throw new TypeError("callback is not a function");vt=(null==vt?le():+vt)+(null==lt?0:+lt),!this._next&&K!==this&&(K?K._next=this:Q=this,K=this),this._call=je,this._time=vt,Pe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pe())}};var Je=10,Qe=Math.PI*(3-Math.sqrt(5));function ze(je){var lt,vt=1,pt=.001,St=1-Math.pow(pt,1/300),Ct=0,_t=.6,nt=(0,y.UI)(),ke=we(Be),Re=ee("tick","end");function Be(){He(),Re.call("tick",lt),vt<pt&&(ke.stop(),Re.call("end",lt))}function He(De){var ge,_e,Te=je.length;void 0===De&&(De=1);for(var et=0;et<De;++et)for(vt+=(Ct-vt)*St,nt.each(function(ft){ft(vt)}),ge=0;ge<Te;++ge)null==(_e=je[ge]).fx?_e.x+=_e.vx*=_t:(_e.x=_e.fx,_e.vx=0),null==_e.fy?_e.y+=_e.vy*=_t:(_e.y=_e.fy,_e.vy=0);return lt}function Ye(){for(var Te,De=0,ge=je.length;De<ge;++De){if((Te=je[De]).index=De,null!=Te.fx&&(Te.x=Te.fx),null!=Te.fy&&(Te.y=Te.fy),isNaN(Te.x)||isNaN(Te.y)){var _e=Je*Math.sqrt(De),et=De*Qe;Te.x=_e*Math.cos(et),Te.y=_e*Math.sin(et)}(isNaN(Te.vx)||isNaN(Te.vy))&&(Te.vx=Te.vy=0)}}function Ue(De){return De.initialize&&De.initialize(je),De}return null==je&&(je=[]),Ye(),lt={tick:He,restart:function(){return ke.restart(Be),lt},stop:function(){return ke.stop(),lt},nodes:function(De){return arguments.length?(je=De,Ye(),nt.each(Ue),lt):je},alpha:function(De){return arguments.length?(vt=+De,lt):vt},alphaMin:function(De){return arguments.length?(pt=+De,lt):pt},alphaDecay:function(De){return arguments.length?(St=+De,lt):+St},alphaTarget:function(De){return arguments.length?(Ct=+De,lt):Ct},velocityDecay:function(De){return arguments.length?(_t=1-De,lt):1-_t},force:function(De,ge){return arguments.length>1?(null==ge?nt.remove(De):nt.set(De,Ue(ge)),lt):nt.get(De)},find:function(De,ge,Te){var ft,gt,Kt,ir,Lt,_e=0,et=je.length;for(null==Te?Te=1/0:Te*=Te,_e=0;_e<et;++_e)(Kt=(ft=De-(ir=je[_e]).x)*ft+(gt=ge-ir.y)*gt)<Te&&(Lt=ir,Te=Kt);return Lt},on:function(De,ge){return arguments.length>1?(Re.on(De,ge),lt):Re.on(De)}}}function Ke(){var je,lt,vt,St,pt=k(-30),Ct=1,_t=1/0,nt=.81;function ke(Ye){var Ue,De=je.length,ge=T(je,Ce,Ie).visitAfter(Be);for(vt=Ye,Ue=0;Ue<De;++Ue)lt=je[Ue],ge.visit(He)}function Re(){if(je){var Ye,De,Ue=je.length;for(St=new Array(Ue),Ye=0;Ye<Ue;++Ye)St[(De=je[Ye]).index]=+pt(De,Ye,je)}}function Be(Ye){var De,ge,_e,et,ft,Ue=0,Te=0;if(Ye.length){for(_e=et=ft=0;ft<4;++ft)(De=Ye[ft])&&(ge=Math.abs(De.value))&&(Ue+=De.value,Te+=ge,_e+=ge*De.x,et+=ge*De.y);Ye.x=_e/Te,Ye.y=et/Te}else{(De=Ye).x=De.data.x,De.y=De.data.y;do{Ue+=St[De.data.index]}while(De=De.next)}Ye.value=Ue}function He(Ye,Ue,De,ge){if(!Ye.value)return!0;var Te=Ye.x-lt.x,_e=Ye.y-lt.y,et=ge-Ue,ft=Te*Te+_e*_e;if(et*et/nt<ft)return ft<_t&&(0===Te&&(ft+=(Te=l())*Te),0===_e&&(ft+=(_e=l())*_e),ft<Ct&&(ft=Math.sqrt(Ct*ft)),lt.vx+=Te*Ye.value*vt/ft,lt.vy+=_e*Ye.value*vt/ft),!0;if(!(Ye.length||ft>=_t)){(Ye.data!==lt||Ye.next)&&(0===Te&&(ft+=(Te=l())*Te),0===_e&&(ft+=(_e=l())*_e),ft<Ct&&(ft=Math.sqrt(Ct*ft)));do{Ye.data!==lt&&(lt.vx+=Te*(et=St[Ye.data.index]*vt/ft),lt.vy+=_e*et)}while(Ye=Ye.next)}}return ke.initialize=function(Ye){je=Ye,Re()},ke.strength=function(Ye){return arguments.length?(pt="function"==typeof Ye?Ye:k(+Ye),Re(),ke):pt},ke.distanceMin=function(Ye){return arguments.length?(Ct=Ye*Ye,ke):Math.sqrt(Ct)},ke.distanceMax=function(Ye){return arguments.length?(_t=Ye*Ye,ke):Math.sqrt(_t)},ke.theta=function(Ye){return arguments.length?(nt=Ye*Ye,ke):Math.sqrt(nt)},ke}function ut(je,lt,vt){var pt,Ct,_t,St=k(.1);function nt(Re){for(var Be=0,He=pt.length;Be<He;++Be){var Ye=pt[Be],Ue=Ye.x-lt||1e-6,De=Ye.y-vt||1e-6,ge=Math.sqrt(Ue*Ue+De*De),Te=(_t[Be]-ge)*Ct[Be]*Re/ge;Ye.vx+=Ue*Te,Ye.vy+=De*Te}}function ke(){if(pt){var Re,Be=pt.length;for(Ct=new Array(Be),_t=new Array(Be),Re=0;Re<Be;++Re)_t[Re]=+je(pt[Re],Re,pt),Ct[Re]=isNaN(_t[Re])?0:+St(pt[Re],Re,pt)}}return"function"!=typeof je&&(je=k(+je)),null==lt&&(lt=0),null==vt&&(vt=0),nt.initialize=function(Re){pt=Re,ke()},nt.strength=function(Re){return arguments.length?(St="function"==typeof Re?Re:k(+Re),ke(),nt):St},nt.radius=function(Re){return arguments.length?(je="function"==typeof Re?Re:k(+Re),ke(),nt):je},nt.x=function(Re){return arguments.length?(lt=+Re,nt):lt},nt.y=function(Re){return arguments.length?(vt=+Re,nt):vt},nt}function ot(je){var vt,pt,St,lt=k(.1);function Ct(nt){for(var Be,ke=0,Re=vt.length;ke<Re;++ke)(Be=vt[ke]).vx+=(St[ke]-Be.x)*pt[ke]*nt}function _t(){if(vt){var nt,ke=vt.length;for(pt=new Array(ke),St=new Array(ke),nt=0;nt<ke;++nt)pt[nt]=isNaN(St[nt]=+je(vt[nt],nt,vt))?0:+lt(vt[nt],nt,vt)}}return"function"!=typeof je&&(je=k(null==je?0:+je)),Ct.initialize=function(nt){vt=nt,_t()},Ct.strength=function(nt){return arguments.length?(lt="function"==typeof nt?nt:k(+nt),_t(),Ct):lt},Ct.x=function(nt){return arguments.length?(je="function"==typeof nt?nt:k(+nt),_t(),Ct):je},Ct}function We(je){var vt,pt,St,lt=k(.1);function Ct(nt){for(var Be,ke=0,Re=vt.length;ke<Re;++ke)(Be=vt[ke]).vy+=(St[ke]-Be.y)*pt[ke]*nt}function _t(){if(vt){var nt,ke=vt.length;for(pt=new Array(ke),St=new Array(ke),nt=0;nt<ke;++nt)pt[nt]=isNaN(St[nt]=+je(vt[nt],nt,vt))?0:+lt(vt[nt],nt,vt)}}return"function"!=typeof je&&(je=k(null==je?0:+je)),Ct.initialize=function(nt){vt=nt,_t()},Ct.strength=function(nt){return arguments.length?(lt="function"==typeof nt?nt:k(+nt),_t(),Ct):lt},Ct.y=function(nt){return arguments.length?(je="function"==typeof nt?nt:k(+nt),_t(),Ct):je},Ct}},60721:function(oe,J,t){"use strict";function k(T,L){if((x=(T=L?T.toExponential(L-1):T.toExponential()).indexOf("e"))<0)return null;var x,E=T.slice(0,x);return[E.length>1?E[0]+E.slice(2):E,+T.slice(x+1)]}t.d(J,{WU:function(){return u},FF:function(){return A}});var c,v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function w(T){if(!(L=v.exec(T)))throw new Error("invalid format: "+T);var L;return new r({fill:L[1],align:L[2],sign:L[3],symbol:L[4],zero:L[5],width:L[6],comma:L[7],precision:L[8]&&L[8].slice(1),trim:L[9],type:L[10]})}function r(T){this.fill=void 0===T.fill?" ":T.fill+"",this.align=void 0===T.align?">":T.align+"",this.sign=void 0===T.sign?"-":T.sign+"",this.symbol=void 0===T.symbol?"":T.symbol+"",this.zero=!!T.zero,this.width=void 0===T.width?void 0:+T.width,this.comma=!!T.comma,this.precision=void 0===T.precision?void 0:+T.precision,this.trim=!!T.trim,this.type=void 0===T.type?"":T.type+""}function f(T,L){var x=k(T,L);if(!x)return T+"";var E=x[0],M=x[1];return M<0?"0."+new Array(-M).join("0")+E:E.length>M+1?E.slice(0,M+1)+"."+E.slice(M+1):E+new Array(M-E.length+2).join("0")}w.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var h={"%":function(T,L){return(100*T).toFixed(L)},b:function(T){return Math.round(T).toString(2)},c:function(T){return T+""},d:function S(T){return Math.abs(T=Math.round(T))>=1e21?T.toLocaleString("en").replace(/,/g,""):T.toString(10)},e:function(T,L){return T.toExponential(L)},f:function(T,L){return T.toFixed(L)},g:function(T,L){return T.toPrecision(L)},o:function(T){return Math.round(T).toString(8)},p:function(T,L){return f(100*T,L)},r:f,s:function o(T,L){var x=k(T,L);if(!x)return T+"";var E=x[0],M=x[1],i=M-(c=3*Math.max(-8,Math.min(8,Math.floor(M/3))))+1,D=E.length;return i===D?E:i>D?E+new Array(i-D+1).join("0"):i>0?E.slice(0,i)+"."+E.slice(i):"0."+new Array(1-i).join("0")+k(T,Math.max(0,L+i-1))[0]},X:function(T){return Math.round(T).toString(16).toUpperCase()},x:function(T){return Math.round(T).toString(16)}};function d(T){return T}var m,u,b=Array.prototype.map,p=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function A(T){var L=void 0===T.grouping||void 0===T.thousands?d:function R(T,L){return function(x,E){for(var M=x.length,i=[],D=0,y=T[0],B=0;M>0&&y>0&&(B+y+1>E&&(y=Math.max(1,E-B)),i.push(x.substring(M-=y,M+y)),!((B+=y+1)>E));)y=T[D=(D+1)%T.length];return i.reverse().join(L)}}(b.call(T.grouping,Number),T.thousands+""),x=void 0===T.currency?"":T.currency[0]+"",E=void 0===T.currency?"":T.currency[1]+"",M=void 0===T.decimal?".":T.decimal+"",i=void 0===T.numerals?d:function I(T){return function(L){return L.replace(/[0-9]/g,function(x){return T[+x]})}}(b.call(T.numerals,String)),D=void 0===T.percent?"%":T.percent+"",y=void 0===T.minus?"-":T.minus+"",B=void 0===T.nan?"NaN":T.nan+"";function F(z){var V=(z=w(z)).fill,H=z.align,U=z.sign,G=z.symbol,Y=z.zero,ee=z.width,ue=z.comma,ce=z.precision,pe=z.trim,te=z.type;"n"===te?(ue=!0,te="g"):h[te]||(void 0===ce&&(ce=12),pe=!0,te="g"),(Y||"0"===V&&"="===H)&&(Y=!0,V="0",H="=");var Q="$"===G?x:"#"===G&&/[boxX]/.test(te)?"0"+te.toLowerCase():"",K="$"===G?E:/[%p]/.test(te)?D:"",Z=h[te],q=/[defgprs%]/.test(te);function fe(re){var se,de,we,$=Q,le=K;if("c"===te)le=Z(re)+le,re="";else{var Ee=(re=+re)<0||1/re<0;if(re=isNaN(re)?B:Z(Math.abs(re),ce),pe&&(re=function n(T){e:for(var M,L=T.length,x=1,E=-1;x<L;++x)switch(T[x]){case".":E=M=x;break;case"0":0===E&&(E=x),M=x;break;default:if(!+T[x])break e;E>0&&(E=0)}return E>0?T.slice(0,E)+T.slice(M+1):T}(re)),Ee&&0==+re&&"+"!==U&&(Ee=!1),$=(Ee?"("===U?U:y:"-"===U||"("===U?"":U)+$,le=("s"===te?p[8+c/3]:"")+le+(Ee&&"("===U?")":""),q)for(se=-1,de=re.length;++se<de;)if(48>(we=re.charCodeAt(se))||we>57){le=(46===we?M+re.slice(se+1):re.slice(se))+le,re=re.slice(0,se);break}}ue&&!Y&&(re=L(re,1/0));var Me=$.length+re.length+le.length,Ne=Me<ee?new Array(ee-Me+1).join(V):"";switch(ue&&Y&&(re=L(Ne+re,Ne.length?ee-le.length:1/0),Ne=""),H){case"<":re=$+re+le+Ne;break;case"=":re=$+Ne+re+le;break;case"^":re=Ne.slice(0,Me=Ne.length>>1)+$+re+le+Ne.slice(Me);break;default:re=Ne+$+re+le}return i(re)}return ce=void 0===ce?6:/[gprs]/.test(te)?Math.max(1,Math.min(21,ce)):Math.max(0,Math.min(20,ce)),fe.toString=function(){return z+""},fe}return{format:F,formatPrefix:function _(z,V){var H=F(((z=w(z)).type="f",z)),U=3*Math.max(-8,Math.min(8,Math.floor(function l(T){return(T=k(Math.abs(T)))?T[1]:NaN}(V)/3))),G=Math.pow(10,-U),Y=p[8+U/3];return function(ee){return H(G*ee)+Y}}}}!function C(T){return m=A(T),u=m.format,m}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},65704:function(oe,J,t){"use strict";t.r(J),t.d(J,{geoAiry:function(){return Y},geoAiryRaw:function(){return G},geoAitoff:function(){return ue},geoAitoffRaw:function(){return ee},geoArmadillo:function(){return pe},geoArmadilloRaw:function(){return ce},geoAugust:function(){return Q},geoAugustRaw:function(){return te},geoBaker:function(){return fe},geoBakerRaw:function(){return q},geoBerghaus:function(){return le},geoBerghausRaw:function(){return $},geoBertin1953:function(){return Pe},geoBertin1953Raw:function(){return Ve},geoBoggs:function(){return ot},geoBoggsRaw:function(){return ut},geoBonne:function(){return pt},geoBonneRaw:function(){return vt},geoBottomley:function(){return Ct},geoBottomleyRaw:function(){return St},geoBromley:function(){return nt},geoBromleyRaw:function(){return _t},geoChamberlin:function(){return Te},geoChamberlinAfrica:function(){return ge},geoChamberlinRaw:function(){return Ue},geoCollignon:function(){return et},geoCollignonRaw:function(){return _e},geoCraig:function(){return gt},geoCraigRaw:function(){return ft},geoCraster:function(){return Lt},geoCrasterRaw:function(){return ir},geoCylindricalEqualArea:function(){return Qt},geoCylindricalEqualAreaRaw:function(){return Ut},geoCylindricalStereographic:function(){return wt},geoCylindricalStereographicRaw:function(){return Cr},geoEckert1:function(){return rr},geoEckert1Raw:function(){return $t},geoEckert2:function(){return mr},geoEckert2Raw:function(){return Lr},geoEckert3:function(){return ct},geoEckert3Raw:function(){return bt},geoEckert4:function(){return It},geoEckert4Raw:function(){return At},geoEckert5:function(){return Rt},geoEckert5Raw:function(){return Ft},geoEckert6:function(){return jt},geoEckert6Raw:function(){return Gt},geoEisenlohr:function(){return hr},geoEisenlohrRaw:function(){return dr},geoFahey:function(){return Ze},geoFaheyRaw:function(){return $e},geoFoucaut:function(){return kt},geoFoucautRaw:function(){return zt},geoFoucautSinusoidal:function(){return ur},geoFoucautSinusoidalRaw:function(){return Xt},geoGilbert:function(){return xr},geoGingery:function(){return Nr},geoGingeryRaw:function(){return Mr},geoGinzburg4:function(){return Qr},geoGinzburg4Raw:function(){return $r},geoGinzburg5:function(){return An},geoGinzburg5Raw:function(){return Wn},geoGinzburg6:function(){return nr},geoGinzburg6Raw:function(){return Tr},geoGinzburg8:function(){return Ur},geoGinzburg8Raw:function(){return Xr},geoGinzburg9:function(){return Cn},geoGinzburg9Raw:function(){return an},geoGringorten:function(){return li},geoGringortenQuincuncial:function(){return Xs},geoGringortenRaw:function(){return Fn},geoGuyou:function(){return qn},geoGuyouRaw:function(){return gn},geoHammer:function(){return Ee},geoHammerRaw:function(){return de},geoHammerRetroazimuthal:function(){return ii},geoHammerRetroazimuthalRaw:function(){return zn},geoHealpix:function(){return Br},geoHealpixRaw:function(){return bn},geoHill:function(){return Gr},geoHillRaw:function(){return Or},geoHomolosine:function(){return gi},geoHomolosineRaw:function(){return _n},geoHufnagel:function(){return Fi},geoHufnagelRaw:function(){return wi},geoHyperelliptical:function(){return Os},geoHyperellipticalRaw:function(){return Vo},geoInterrupt:function(){return Cs},geoInterruptedBoggs:function(){return rl},geoInterruptedHomolosine:function(){return Ho},geoInterruptedMollweide:function(){return Df},geoInterruptedMollweideHemispheres:function(){return lo},geoInterruptedQuarticAuthalic:function(){return zf},geoInterruptedSinuMollweide:function(){return xs},geoInterruptedSinusoidal:function(){return hc},geoKavrayskiy7:function(){return nl},geoKavrayskiy7Raw:function(){return Go},geoLagrange:function(){return Hc},geoLagrangeRaw:function(){return Ao},geoLarrivee:function(){return Ji},geoLarriveeRaw:function(){return cf},geoLaskowski:function(){return Ki},geoLaskowskiRaw:function(){return go},geoLittrow:function(){return Tl},geoLittrowRaw:function(){return zs},geoLoximuthal:function(){return Gc},geoLoximuthalRaw:function(){return eu},geoMiller:function(){return If},geoMillerRaw:function(){return Lf},geoModifiedStereographic:function(){return Vl},geoModifiedStereographicAlaska:function(){return Ff},geoModifiedStereographicGs48:function(){return dc},geoModifiedStereographicGs50:function(){return _c},geoModifiedStereographicLee:function(){return hf},geoModifiedStereographicMiller:function(){return Ml},geoModifiedStereographicRaw:function(){return Al},geoMollweide:function(){return Qe},geoMollweideRaw:function(){return Je},geoMtFlatPolarParabolic:function(){return kf},geoMtFlatPolarParabolicRaw:function(){return df},geoMtFlatPolarQuartic:function(){return jc},geoMtFlatPolarQuarticRaw:function(){return ru},geoMtFlatPolarSinusoidal:function(){return al},geoMtFlatPolarSinusoidalRaw:function(){return Hl},geoNaturalEarth:function(){return Gu.Z},geoNaturalEarth2:function(){return Of},geoNaturalEarth2Raw:function(){return Au},geoNaturalEarthRaw:function(){return Gu.K},geoNellHammer:function(){return nu},geoNellHammerRaw:function(){return yo},geoNicolosi:function(){return Ro},geoNicolosiRaw:function(){return ol},geoPatterson:function(){return Sl},geoPattersonRaw:function(){return Yo},geoPeirceQuincuncial:function(){return Zu},geoPierceQuincuncial:function(){return Zu},geoPolyconic:function(){return va},geoPolyconicRaw:function(){return Vf},geoPolyhedral:function(){return _l},geoPolyhedralButterfly:function(){return uo},geoPolyhedralCollignon:function(){return ws},geoPolyhedralWaterman:function(){return Vs},geoProject:function(){return El},geoQuantize:function(){return Xu},geoQuincuncial:function(){return _f},geoRectangularPolyconic:function(){return fo},geoRectangularPolyconicRaw:function(){return Ks},geoRobinson:function(){return Ko},geoRobinsonRaw:function(){return Xo},geoSatellite:function(){return sl},geoSatelliteRaw:function(){return au},geoSinuMollweide:function(){return dn},geoSinuMollweideRaw:function(){return fi},geoSinusoidal:function(){return lt},geoSinusoidalRaw:function(){return je},geoStitch:function(){return Js},geoTimes:function(){return Eu},geoTimesRaw:function(){return Qu},geoTwoPointAzimuthal:function(){return ul},geoTwoPointAzimuthalRaw:function(){return pf},geoTwoPointAzimuthalUsa:function(){return lu},geoTwoPointEquidistant:function(){return Oo},geoTwoPointEquidistantRaw:function(){return Eo},geoTwoPointEquidistantUsa:function(){return Xc},geoVanDerGrinten:function(){return _o},geoVanDerGrinten2:function(){return Kc},geoVanDerGrinten2Raw:function(){return Xf},geoVanDerGrinten3:function(){return Lu},geoVanDerGrinten3Raw:function(){return Du},geoVanDerGrinten4:function(){return qu},geoVanDerGrinten4Raw:function(){return Iu},geoVanDerGrintenRaw:function(){return Dl},geoWagner:function(){return uu},geoWagner4:function(){return fl},geoWagner4Raw:function(){return Ls},geoWagner6:function(){return Ch},geoWagner6Raw:function(){return fu},geoWagner7:function(){return As},geoWagnerRaw:function(){return gf},geoWiechel:function(){return Eh},geoWiechelRaw:function(){return bc},geoWinkel3:function(){return wc},geoWinkel3Raw:function(){return yf}});var S=t(15002),k=Math.abs,l=Math.atan,R=Math.atan2,v=(Math,Math.cos),w=Math.exp,r=Math.floor,n=Math.log,c=Math.max,o=Math.min,f=Math.pow,h=Math.round,d=Math.sign||function(tt){return tt>0?1:tt<0?-1:0},b=Math.sin,p=Math.tan,A=1e-6,m=1e-12,u=Math.PI,g=u/2,C=u/4,T=Math.SQRT1_2,L=F(2),x=F(u),E=2*u,M=180/u,i=u/180;function y(tt){return tt>1?g:tt<-1?-g:Math.asin(tt)}function B(tt){return tt>1?0:tt<-1?u:Math.acos(tt)}function F(tt){return tt>0?Math.sqrt(tt):0}function _(tt){return((tt=w(2*tt))-1)/(tt+1)}function z(tt){return(w(tt)-w(-tt))/2}function V(tt){return(w(tt)+w(-tt))/2}function G(tt){var st=p(tt/2),xt=2*n(v(tt/2))/(st*st);function Tt(Bt,Ot){var Wt=v(Bt),br=v(Ot),Sr=b(Ot),gr=br*Wt,Ar=-((1-gr?n((1+gr)/2)/(1-gr):-.5)+xt/(1+gr));return[Ar*br*b(Bt),Ar*Sr]}return Tt.invert=function(Bt,Ot){var gr,Wt=F(Bt*Bt+Ot*Ot),br=-tt/2,Sr=50;if(!Wt)return[0,0];do{var Ar=br/2,_r=v(Ar),en=b(Ar),sn=en/_r,cn=-n(k(_r));br-=gr=(2/sn*cn-xt*sn-Wt)/(-cn/(en*en)+1-xt/(2*_r*_r))*(_r<0?.7:1)}while(k(gr)>A&&--Sr>0);var Pn=b(br);return[R(Bt*Pn,Wt*v(br)),y(Ot*Pn/Wt)]},Tt}function Y(){var tt=g,st=(0,S.r)(G),xt=st(tt);return xt.radius=function(Tt){return arguments.length?st(tt=Tt*i):tt*M},xt.scale(179.976).clipAngle(147)}function ee(tt,st){var xt=v(st),Tt=function D(tt){return tt?tt/Math.sin(tt):1}(B(xt*v(tt/=2)));return[2*xt*b(tt)*Tt,b(st)*Tt]}function ue(){return(0,S.Z)(ee).scale(152.63)}function ce(tt){var st=b(tt),xt=v(tt),Tt=tt>=0?1:-1,Bt=p(Tt*tt),Ot=(1+st-xt)/2;function Wt(br,Sr){var gr=v(Sr),Ar=v(br/=2);return[(1+gr)*b(br),(Tt*Sr>-R(Ar,Bt)-.001?0:10*-Tt)+Ot+b(Sr)*xt-(1+gr)*st*Ar]}return Wt.invert=function(br,Sr){var gr=0,Ar=0,_r=50;do{var en=v(gr),sn=b(gr),cn=v(Ar),Pn=b(Ar),ti=1+cn,Si=ti*sn-br,Yi=Ot+Pn*xt-ti*st*en-Sr,ji=ti*en/2,$i=-sn*Pn,sa=st*ti*sn/2,Ha=xt*cn+st*en*Pn,Wa=$i*sa-Ha*ji,Ci=(Yi*$i-Si*Ha)/Wa/2,ro=(Si*sa-Yi*ji)/Wa;k(ro)>2&&(ro/=2),gr-=Ci,Ar-=ro}while((k(Ci)>A||k(ro)>A)&&--_r>0);return Tt*Ar>-R(v(gr),Bt)-.001?[2*gr,Ar]:null},Wt}function pe(){var tt=20*i,st=tt>=0?1:-1,xt=p(st*tt),Tt=(0,S.r)(ce),Bt=Tt(tt),Ot=Bt.stream;return Bt.parallel=function(Wt){return arguments.length?(xt=p((st=(tt=Wt*i)>=0?1:-1)*tt),Tt(tt)):tt*M},Bt.stream=function(Wt){var br=Bt.rotate(),Sr=Ot(Wt),gr=(Bt.rotate([0,0]),Ot(Wt)),Ar=Bt.precision();return Bt.rotate(br),Sr.sphere=function(){gr.polygonStart(),gr.lineStart();for(var _r=-180*st;st*_r<180;_r+=90*st)gr.point(_r,90*st);if(tt)for(;st*(_r-=3*st*Ar)>=-180;)gr.point(_r,st*-R(v(_r*i/2),xt)*M);gr.lineEnd(),gr.polygonEnd()},Sr},Bt.scale(218.695).center([0,28.0974])}function te(tt,st){var xt=p(st/2),Tt=F(1-xt*xt),Bt=1+Tt*v(tt/=2),Ot=b(tt)*Tt/Bt,Wt=xt/Bt,br=Ot*Ot,Sr=Wt*Wt;return[1.3333333333333333*Ot*(3+br-3*Sr),1.3333333333333333*Wt*(3+3*br-Sr)]}function Q(){return(0,S.Z)(te).scale(66.1603)}ee.invert=function(tt,st){if(!(tt*tt+4*st*st>u*u+A)){var xt=tt,Tt=st,Bt=25;do{var ti,Ot=b(xt),Wt=b(xt/2),br=v(xt/2),Sr=b(Tt),gr=v(Tt),Ar=b(2*Tt),_r=Sr*Sr,en=gr*gr,sn=Wt*Wt,cn=1-en*br*br,Pn=cn?B(gr*br)*F(ti=1/cn):ti=0,Si=2*Pn*gr*Wt-tt,Yi=Pn*Sr-st,ji=ti*(en*sn+Pn*gr*br*_r),$i=ti*(.5*Ot*Ar-2*Pn*Sr*Wt),sa=.25*ti*(Ar*Wt-Pn*Sr*en*Ot),Ha=ti*(_r*br+Pn*sn*gr),Wa=$i*sa-Ha*ji;if(!Wa)break;var Ci=(Yi*$i-Si*Ha)/Wa,ro=(Si*sa-Yi*ji)/Wa;xt-=Ci,Tt-=ro}while((k(Ci)>A||k(ro)>A)&&--Bt>0);return[xt,Tt]}},te.invert=function(tt,st){if(st*=.375,!(tt*=.375)&&k(st)>1)return null;var Bt=1+tt*tt+st*st,Ot=F((Bt-F(Bt*Bt-4*st*st))/2),Wt=y(Ot)/3,br=Ot?function U(tt){return n(tt+F(tt*tt-1))}(k(st/Ot))/3:function H(tt){return n(tt+F(tt*tt+1))}(k(tt))/3,Sr=v(Wt),gr=V(br),Ar=gr*gr-Sr*Sr;return[2*d(tt)*R(z(br)*Sr,.25-Ar),2*d(st)*R(gr*b(Wt),.25+Ar)]};var K=F(8),Z=n(1+L);function q(tt,st){var xt=k(st);return xt<C?[tt,n(p(C+st/2))]:[tt*v(xt)*(2*L-1/b(xt)),d(st)*(2*L*(xt-C)-n(p(xt/2)))]}function fe(){return(0,S.Z)(q).scale(112.314)}q.invert=function(tt,st){if((Ot=k(st))<Z)return[tt,2*l(w(st))-g];var Bt,Ot,xt=C,Tt=25;do{var Wt=v(xt/2),br=p(xt/2);xt-=Bt=(K*(xt-C)-n(br)-Ot)/(K-Wt*Wt/(2*br))}while(k(Bt)>m&&--Tt>0);return[tt/(v(xt)*(K-1/b(xt))),d(st)*xt]};var re=t(17889);function $(tt){var st=2*u/tt;function xt(Tt,Bt){var Ot=(0,re.N)(Tt,Bt);if(k(Tt)>g){var Wt=R(Ot[1],Ot[0]),br=F(Ot[0]*Ot[0]+Ot[1]*Ot[1]),Sr=st*h((Wt-g)/st)+g,gr=R(b(Wt-=Sr),2-v(Wt));Wt=Sr+y(u/br*b(gr))-gr,Ot[0]=br*v(Wt),Ot[1]=br*b(Wt)}return Ot}return xt.invert=function(Tt,Bt){var Ot=F(Tt*Tt+Bt*Bt);if(Ot>g){var Wt=R(Bt,Tt),br=st*h((Wt-g)/st)+g,Sr=Wt>br?-1:1,gr=Ot*v(br-Wt),Ar=1/p(Sr*B((gr-u)/F(u*(u-2*gr)+Ot*Ot)));Wt=br+2*l((Ar+Sr*F(Ar*Ar-3))/3),Tt=Ot*v(Wt),Bt=Ot*b(Wt)}return re.N.invert(Tt,Bt)},xt}function le(){var tt=5,st=(0,S.r)($),xt=st(tt),Tt=xt.stream,Bt=.01,Ot=-v(Bt*i),Wt=b(Bt*i);return xt.lobes=function(br){return arguments.length?st(tt=+br):tt},xt.stream=function(br){var Sr=xt.rotate(),gr=Tt(br),Ar=(xt.rotate([0,0]),Tt(br));return xt.rotate(Sr),gr.sphere=function(){Ar.polygonStart(),Ar.lineStart();for(var _r=0,en=360/tt,sn=2*u/tt,cn=90-180/tt,Pn=g;_r<tt;++_r,cn-=en,Pn-=sn)Ar.point(R(Wt*v(Pn),Ot)*M,y(Wt*b(Pn))*M),cn<-90?(Ar.point(-90,-180-cn-Bt),Ar.point(-90,-180-cn+Bt)):(Ar.point(90,cn+Bt),Ar.point(90,cn-Bt));Ar.lineEnd(),Ar.polygonEnd()},gr},xt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=t(12956);function de(tt,st){if(arguments.length<2&&(st=tt),1===st)return se.l;if(st===1/0)return we;function xt(Tt,Bt){var Ot=(0,se.l)(Tt/st,Bt);return Ot[0]*=tt,Ot}return xt.invert=function(Tt,Bt){var Ot=se.l.invert(Tt/tt,Bt);return Ot[0]*=st,Ot},xt}function we(tt,st){return[tt*v(st)/v(st/=2),2*b(st)]}function Ee(){var tt=2,st=(0,S.r)(de),xt=st(tt);return xt.coefficient=function(Tt){return arguments.length?st(tt=+Tt):tt},xt.scale(169.529)}function Me(tt,st,xt){var Bt,Ot,Wt,Tt=100;xt=void 0===xt?0:+xt,st=+st;do{(Ot=tt(xt))===(Wt=tt(xt+A))&&(Wt=Ot+A),xt-=Bt=-1*A*(Ot-st)/(Ot-Wt)}while(Tt-- >0&&k(Bt)>A);return Tt<0?NaN:xt}function Ne(tt,st,xt){return void 0===st&&(st=40),void 0===xt&&(xt=m),function(Tt,Bt,Ot,Wt){var br,Sr,gr;Ot=void 0===Ot?0:+Ot,Wt=void 0===Wt?0:+Wt;for(var Ar=0;Ar<st;Ar++){var _r=tt(Ot,Wt),en=_r[0]-Tt,sn=_r[1]-Bt;if(k(en)<xt&&k(sn)<xt)break;var cn=en*en+sn*sn;if(cn>br)Ot-=Sr/=2,Wt-=gr/=2;else{br=cn;var Pn=(Ot>0?-1:1)*xt,ti=(Wt>0?-1:1)*xt,Si=tt(Ot+Pn,Wt),Yi=tt(Ot,Wt+ti),ji=(Si[0]-_r[0])/Pn,$i=(Si[1]-_r[1])/Pn,sa=(Yi[0]-_r[0])/ti,Ha=(Yi[1]-_r[1])/ti,Wa=Ha*ji-$i*sa,Ci=(k(Wa)<.5?.5:1)/Wa;if(Ot+=Sr=(sn*sa-en*Ha)*Ci,Wt+=gr=(en*$i-sn*ji)*Ci,k(Sr)<xt&&k(gr)<xt)break}}return[Ot,Wt]}}function Ve(){var tt=de(1.68,2);function Tt(Bt,Ot){if(Bt+Ot<-1.4){var Wt=(Bt-Ot+1.6)*(Bt+Ot+1.4)/8;Bt+=Wt,Ot-=.8*Wt*b(Ot+u/2)}var br=tt(Bt,Ot),Sr=(1-v(Bt*Ot))/12;return br[1]<0&&(br[0]*=1+Sr),br[1]>0&&(br[1]*=1+Sr/1.5*br[0]*br[0]),br}return Tt.invert=Ne(Tt),Tt}function Pe(){return(0,S.Z)(Ve()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ce(tt,st){var Bt,xt=tt*b(st),Tt=30;do{st-=Bt=(st+b(st)-xt)/(1+v(st))}while(k(Bt)>A&&--Tt>0);return st/2}function Ie(tt,st,xt){function Tt(Bt,Ot){return[tt*Bt*v(Ot=Ce(xt,Ot)),st*b(Ot)]}return Tt.invert=function(Bt,Ot){return Ot=y(Ot/st),[Bt/(tt*v(Ot)),y((2*Ot+b(2*Ot))/xt)]},Tt}we.invert=function(tt,st){var xt=2*y(st/2);return[tt*v(xt/2)/v(xt),xt]};var Je=Ie(L/g,L,u);function Qe(){return(0,S.Z)(Je).scale(169.529)}var ze=2.00276,Ke=1.11072;function ut(tt,st){var xt=Ce(u,st);return[ze*tt/(1/v(st)+Ke/v(xt)),(st+L*b(xt))/ze]}function ot(){return(0,S.Z)(ut).scale(160.857)}function We(tt){var st=0,xt=(0,S.r)(tt),Tt=xt(st);return Tt.parallel=function(Bt){return arguments.length?xt(st=Bt*i):st*M},Tt}function je(tt,st){return[tt*v(st),st]}function lt(){return(0,S.Z)(je).scale(152.63)}function vt(tt){if(!tt)return je;var st=1/p(tt);function xt(Tt,Bt){var Ot=st+tt-Bt,Wt=Ot&&Tt*v(Bt)/Ot;return[Ot*b(Wt),st-Ot*v(Wt)]}return xt.invert=function(Tt,Bt){var Ot=F(Tt*Tt+(Bt=st-Bt)*Bt),Wt=st+tt-Ot;return[Ot/v(Wt)*R(Tt,Bt),Wt]},xt}function pt(){return We(vt).scale(123.082).center([0,26.1441]).parallel(45)}function St(tt){function st(xt,Tt){var Bt=g-Tt,Ot=Bt&&xt*tt*b(Bt)/Bt;return[Bt*b(Ot)/tt,g-Bt*v(Ot)]}return st.invert=function(xt,Tt){var Bt=xt*tt,Ot=g-Tt,Wt=F(Bt*Bt+Ot*Ot),br=R(Bt,Ot);return[(Wt?Wt/b(Wt):1)*br/tt,g-Wt]},st}function Ct(){var tt=.5,st=(0,S.r)(St),xt=st(tt);return xt.fraction=function(Tt){return arguments.length?st(tt=+Tt):tt},xt.scale(158.837)}ut.invert=function(tt,st){var Ot,Wt,xt=ze*st,Tt=st<0?-C:C,Bt=25;do{Wt=xt-L*b(Tt),Tt-=Ot=(b(2*Tt)+2*Tt-u*b(Wt))/(2*v(2*Tt)+2+u*v(Wt)*L*v(Tt))}while(k(Ot)>A&&--Bt>0);return Wt=xt-L*b(Tt),[tt*(1/v(Wt)+Ke/v(Tt))/ze,Wt]},je.invert=function(tt,st){return[tt/v(st),st]};var _t=Ie(1,4/u,u);function nt(){return(0,S.Z)(_t).scale(152.63)}var ke=t(66624),Re=t(49386);function Be(tt,st,xt,Tt,Bt,Ot){var br,Wt=v(Ot);if(k(tt)>1||k(Ot)>1)br=B(xt*Bt+st*Tt*Wt);else{var Sr=b(tt/2),gr=b(Ot/2);br=2*y(F(Sr*Sr+st*Tt*gr*gr))}return k(br)>A?[br,R(Tt*b(Ot),st*Bt-xt*Tt*Wt)]:[0,0]}function He(tt,st,xt){return B((tt*tt+st*st-xt*xt)/(2*tt*st))}function Ye(tt){return tt-2*u*r((tt+u)/(2*u))}function Ue(tt,st,xt){for(var Ot,Tt=[[tt[0],tt[1],b(tt[1]),v(tt[1])],[st[0],st[1],b(st[1]),v(st[1])],[xt[0],xt[1],b(xt[1]),v(xt[1])]],Bt=Tt[2],Wt=0;Wt<3;++Wt,Bt=Ot)Bt.v=Be((Ot=Tt[Wt])[1]-Bt[1],Bt[3],Bt[2],Ot[3],Ot[2],Ot[0]-Bt[0]),Bt.point=[0,0];var br=He(Tt[0].v[0],Tt[2].v[0],Tt[1].v[0]),Sr=He(Tt[0].v[0],Tt[1].v[0],Tt[2].v[0]),gr=u-br;Tt[2].point[1]=0,Tt[0].point[0]=-(Tt[1].point[0]=Tt[0].v[0]/2);var Ar=[Tt[2].point[0]=Tt[0].point[0]+Tt[2].v[0]*v(br),2*(Tt[0].point[1]=Tt[1].point[1]=Tt[2].v[0]*b(br))];return function _r(en,sn){var Si,cn=b(sn),Pn=v(sn),ti=new Array(3);for(Si=0;Si<3;++Si){var Yi=Tt[Si];if(ti[Si]=Be(sn-Yi[1],Yi[3],Yi[2],Pn,cn,en-Yi[0]),!ti[Si][0])return Yi.point;ti[Si][1]=Ye(ti[Si][1]-Yi.v[1])}var ji=Ar.slice();for(Si=0;Si<3;++Si){var sa=He(Tt[Si].v[0],ti[Si][0],ti[2==Si?0:Si+1][0]);ti[Si][1]<0&&(sa=-sa),Si?1==Si?(ji[0]-=ti[Si][0]*v(sa=Sr-sa),ji[1]-=ti[Si][0]*b(sa)):(ji[0]+=ti[Si][0]*v(sa=gr-sa),ji[1]+=ti[Si][0]*b(sa)):(ji[0]+=ti[Si][0]*v(sa),ji[1]-=ti[Si][0]*b(sa))}return ji[0]/=3,ji[1]/=3,ji}}function De(tt){return tt[0]*=i,tt[1]*=i,tt}function ge(){return Te([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Te(tt,st,xt){var Tt=(0,ke.Z)({type:"MultiPoint",coordinates:[tt,st,xt]}),Bt=[-Tt[0],-Tt[1]],Ot=(0,Re.Z)(Bt),Wt=Ue(De(Ot(tt)),De(Ot(st)),De(Ot(xt)));Wt.invert=Ne(Wt);var br=(0,S.Z)(Wt).rotate(Bt),Sr=br.center;return delete br.rotate,br.center=function(gr){return arguments.length?Sr(Ot(gr)):Ot.invert(Sr())},br.clipAngle(90)}function _e(tt,st){var xt=F(1-b(st));return[2/x*tt*xt,x*(1-xt)]}function et(){return(0,S.Z)(_e).scale(95.6464).center([0,30])}function ft(tt){var st=p(tt);function xt(Tt,Bt){return[Tt,(Tt?Tt/b(Tt):1)*(b(Bt)*v(Tt)-st*v(Bt))]}return xt.invert=st?function(Tt,Bt){Tt&&(Bt*=b(Tt)/Tt);var Ot=v(Tt);return[Tt,2*R(F(Ot*Ot+st*st-Bt*Bt)-Ot,st-Bt)]}:function(Tt,Bt){return[Tt,y(Tt?Bt*p(Tt)/Tt:Bt)]},xt}function gt(){return We(ft).scale(249.828).clipAngle(90)}_e.invert=function(tt,st){var xt=(xt=st/x-1)*xt;return[xt>0?tt*F(u/xt)/2:0,y(1-xt)]};var Kt=F(3);function ir(tt,st){return[Kt*tt*(2*v(2*st/3)-1)/x,Kt*x*b(st/3)]}function Lt(){return(0,S.Z)(ir).scale(156.19)}function Ut(tt){var st=v(tt);function xt(Tt,Bt){return[Tt*st,b(Bt)/st]}return xt.invert=function(Tt,Bt){return[Tt/st,y(Bt*st)]},xt}function Qt(){return We(Ut).parallel(38.58).scale(195.044)}function Cr(tt){var st=v(tt);function xt(Tt,Bt){return[Tt*st,(1+st)*p(Bt/2)]}return xt.invert=function(Tt,Bt){return[Tt/st,2*l(Bt/(1+st))]},xt}function wt(){return We(Cr).scale(124.75)}function $t(tt,st){var xt=F(8/(3*u));return[xt*tt*(1-k(st)/u),xt*st]}function rr(){return(0,S.Z)($t).scale(165.664)}function Lr(tt,st){var xt=F(4-3*b(k(st)));return[2/F(6*u)*tt*xt,d(st)*F(2*u/3)*(2-xt)]}function mr(){return(0,S.Z)(Lr).scale(165.664)}function bt(tt,st){var xt=F(u*(4+u));return[2/xt*tt*(1+F(1-4*st*st/(u*u))),4/xt*st]}function ct(){return(0,S.Z)(bt).scale(180.739)}function At(tt,st){var xt=(2+g)*b(st);st/=2;for(var Tt=0,Bt=1/0;Tt<10&&k(Bt)>A;Tt++){var Ot=v(st);st-=Bt=(st+b(st)*(Ot+2)-xt)/(2*Ot*(1+Ot))}return[2/F(u*(4+u))*tt*(1+v(st)),2*F(u/(4+u))*b(st)]}function It(){return(0,S.Z)(At).scale(180.739)}function Ft(tt,st){return[tt*(1+v(st))/F(2+u),2*st/F(2+u)]}function Rt(){return(0,S.Z)(Ft).scale(173.044)}function Gt(tt,st){for(var xt=(1+g)*b(st),Tt=0,Bt=1/0;Tt<10&&k(Bt)>A;Tt++)st-=Bt=(st+b(st)-xt)/(1+v(st));return xt=F(2+u),[tt*(1+v(st))/xt,2*st/xt]}function jt(){return(0,S.Z)(Gt).scale(173.044)}ir.invert=function(tt,st){var xt=3*y(st/(Kt*x));return[x*tt/(Kt*(2*v(2*xt/3)-1)),xt]},$t.invert=function(tt,st){var xt=F(8/(3*u)),Tt=st/xt;return[tt/(xt*(1-k(Tt)/u)),Tt]},Lr.invert=function(tt,st){var xt=2-k(st)/F(2*u/3);return[tt*F(6*u)/(2*xt),d(st)*y((4-xt*xt)/3)]},bt.invert=function(tt,st){var xt=F(u*(4+u))/2;return[tt*xt/(1+F(1-st*st*(4+u)/(4*u))),st*xt/2]},At.invert=function(tt,st){var xt=st*F((4+u)/u)/2,Tt=y(xt),Bt=v(Tt);return[tt/(2/F(u*(4+u))*(1+Bt)),y((Tt+xt*(Bt+2))/(2+g))]},Ft.invert=function(tt,st){var xt=F(2+u),Tt=st*xt/2;return[xt*tt/(1+v(Tt)),Tt]},Gt.invert=function(tt,st){var xt=1+g,Tt=F(xt/2);return[2*tt*Tt/(1+v(st*=Tt)),y((st+b(st))/xt)]};var er=3+2*L;function dr(tt,st){var xt=b(tt/=2),Tt=v(tt),Bt=F(v(st)),Ot=v(st/=2),Wt=b(st)/(Ot+L*Tt*Bt),br=F(2/(1+Wt*Wt)),Sr=F((L*Ot+(Tt+xt)*Bt)/(L*Ot+(Tt-xt)*Bt));return[er*(br*(Sr-1/Sr)-2*n(Sr)),er*(br*Wt*(Sr+1/Sr)-2*l(Wt))]}function hr(){return(0,S.Z)(dr).scale(62.5271)}dr.invert=function(tt,st){if(!(Ot=te.invert(tt/1.2,1.065*st)))return null;var Ot,xt=Ot[0],Tt=Ot[1],Bt=20;tt/=er,st/=er;do{var Wt=xt/2,br=Tt/2,Sr=b(Wt),gr=v(Wt),Ar=b(br),_r=v(br),en=v(Tt),sn=F(en),cn=Ar/(_r+L*gr*sn),Pn=cn*cn,ti=F(2/(1+Pn)),ji=(L*_r+(gr+Sr)*sn)/(L*_r+(gr-Sr)*sn),$i=F(ji),sa=$i-1/$i,Ha=$i+1/$i,Wa=ti*sa-2*n($i)-tt,Ci=ti*cn*Ha-2*l(cn)-st,ro=Ar&&T*sn*Sr*Pn/Ar,io=(L*gr*_r+sn)/(2*(_r+L*gr*sn)*(_r+L*gr*sn)*sn),cs=-.5*cn*ti*ti*ti,No=cs*ro,Ja=cs*io,he=(he=2*_r+L*sn*(gr-Sr))*he*$i,Ae=(L*gr*_r*sn+en)/he,Ge=-L*Sr*Ar/(sn*he),it=sa*No-2*Ae/$i+ti*(Ae+Ae/ji),at=sa*Ja-2*Ge/$i+ti*(Ge+Ge/ji),ht=cn*Ha*No-2*ro/(1+Pn)+ti*Ha*ro+ti*cn*(Ae-Ae/ji),Nt=cn*Ha*Ja-2*io/(1+Pn)+ti*Ha*io+ti*cn*(Ge-Ge/ji),Dt=at*ht-Nt*it;if(!Dt)break;var Yt=(Ci*at-Wa*Nt)/Dt,sr=(Wa*ht-Ci*it)/Dt;xt-=Yt,Tt=c(-g,o(g,Tt-sr))}while((k(Yt)>A||k(sr)>A)&&--Bt>0);return k(k(Tt)-g)<A?[0,Tt]:Bt&&[xt,Tt]};var wr=v(35*i);function $e(tt,st){var xt=p(st/2);return[tt*wr*F(1-xt*xt),(1+wr)*xt]}function Ze(){return(0,S.Z)($e).scale(137.152)}function zt(tt,st){var xt=st/2,Tt=v(xt);return[2*tt/x*v(st)*Tt*Tt,x*p(xt)]}function kt(){return(0,S.Z)(zt).scale(135.264)}function Xt(tt){var st=1-tt,xt=Ot(u,0)[0]-Ot(-u,0)[0],Bt=F(2*(Ot(0,g)[1]-Ot(0,-g)[1])/xt);function Ot(Sr,gr){var Ar=v(gr),_r=b(gr);return[Ar/(st+tt*Ar)*Sr,st*gr+tt*_r]}function Wt(Sr,gr){var Ar=Ot(Sr,gr);return[Ar[0]*Bt,Ar[1]/Bt]}function br(Sr){return Wt(0,Sr)[1]}return Wt.invert=function(Sr,gr){var Ar=Me(br,gr);return[Sr/Bt*(tt+st/v(Ar)),Ar]},Wt}function ur(){var tt=.5,st=(0,S.r)(Xt),xt=st(tt);return xt.alpha=function(Tt){return arguments.length?st(tt=+Tt):tt},xt.scale(168.725)}$e.invert=function(tt,st){var xt=st/(1+wr);return[tt&&tt/(wr*F(1-xt*xt)),2*l(xt)]},zt.invert=function(tt,st){var xt=l(st/x),Tt=v(xt),Bt=2*xt;return[tt*x/2/(v(Bt)*Tt*Tt),Bt]};var vr=t(57962),or=t(97492);function Ht(tt){return[tt[0]/2,y(p(tt[1]/2*i))*M]}function pr(tt){return[2*tt[0],2*l(b(tt[1]*i))*M]}function xr(tt){null==tt&&(tt=vr.Z);var st=tt(),xt=(0,or.Z)().scale(M).precision(0).clipAngle(null).translate([0,0]);function Tt(Ot){return st(Ht(Ot))}function Bt(Ot){Tt[Ot]=function(){return arguments.length?(st[Ot].apply(st,arguments),Tt):st[Ot]()}}return st.invert&&(Tt.invert=function(Ot){return pr(st.invert(Ot))}),Tt.stream=function(Ot){var Wt=st.stream(Ot),br=xt.stream({point:function(Sr,gr){Wt.point(Sr/2,y(p(-gr/2*i))*M)},lineStart:function(){Wt.lineStart()},lineEnd:function(){Wt.lineEnd()},polygonStart:function(){Wt.polygonStart()},polygonEnd:function(){Wt.polygonEnd()}});return br.sphere=Wt.sphere,br},Tt.rotate=function(Ot){return arguments.length?(xt.rotate(Ot),Tt):xt.rotate()},Tt.center=function(Ot){return arguments.length?(st.center(Ht(Ot)),Tt):pr(st.center())},Bt("angle"),Bt("clipAngle"),Bt("clipExtent"),Bt("fitExtent"),Bt("fitHeight"),Bt("fitSize"),Bt("fitWidth"),Bt("scale"),Bt("translate"),Bt("precision"),Tt.scale(249.5)}function Mr(tt,st){var xt=2*u/st,Tt=tt*tt;function Bt(Ot,Wt){var br=(0,re.N)(Ot,Wt),Sr=br[0],gr=br[1],Ar=Sr*Sr+gr*gr;if(Ar>Tt){var _r=F(Ar),en=R(gr,Sr),sn=xt*h(en/xt),cn=en-sn,Pn=tt*v(cn),ti=(tt*b(cn)-cn*b(Pn))/(g-Pn),Si=kr(cn,ti),Yi=(u-tt)/un(Si,Pn,u);Sr=_r;var $i,ji=50;do{Sr-=$i=(tt+un(Si,Pn,Sr)*Yi-_r)/(Si(Sr)*Yi)}while(k($i)>A&&--ji>0);gr=cn*b(Sr),Sr<g&&(gr-=ti*(Sr-g));var sa=b(sn),Ha=v(sn);br[0]=Sr*Ha-gr*sa,br[1]=Sr*sa+gr*Ha}return br}return Bt.invert=function(Ot,Wt){var br=Ot*Ot+Wt*Wt;if(br>Tt){var Sr=F(br),gr=R(Wt,Ot),Ar=xt*h(gr/xt),_r=gr-Ar;Ot=Sr*v(_r),Wt=Sr*b(_r);for(var en=Ot-g,sn=b(Ot),cn=Wt/sn,Pn=Ot<g?1/0:0,ti=10;;){var Si=tt*b(cn),Yi=tt*v(cn),ji=b(Yi),$i=g-Yi,sa=(Si-cn*ji)/$i,Ha=kr(cn,sa);if(k(Pn)<m||! --ti)break;cn-=Pn=(cn*sn-sa*en-Wt)/(sn-2*en*($i*(Yi+cn*Si*v(Yi)-ji)-Si*(Si-cn*ji))/($i*$i))}Ot=(Sr=tt+un(Ha,Yi,Ot)*(u-tt)/un(Ha,Yi,u))*v(gr=Ar+cn),Wt=Sr*b(gr)}return re.N.invert(Ot,Wt)},Bt}function kr(tt,st){return function(xt){var Tt=tt*v(xt);return xt<g&&(Tt-=st),F(1+Tt*Tt)}}function un(tt,st,xt){for(var Bt=(xt-st)/50,Ot=tt(st)+tt(xt),Wt=1,br=st;Wt<50;++Wt)Ot+=2*tt(br+=Bt);return.5*Ot*Bt}function Nr(){var tt=6,st=30*i,xt=v(st),Tt=b(st),Bt=(0,S.r)(Mr),Ot=Bt(st,tt),Wt=Ot.stream,Sr=-v(.01*i),gr=b(.01*i);return Ot.radius=function(Ar){return arguments.length?(xt=v(st=Ar*i),Tt=b(st),Bt(st,tt)):st*M},Ot.lobes=function(Ar){return arguments.length?Bt(st,tt=+Ar):tt},Ot.stream=function(Ar){var _r=Ot.rotate(),en=Wt(Ar),sn=(Ot.rotate([0,0]),Wt(Ar));return Ot.rotate(_r),en.sphere=function(){sn.polygonStart(),sn.lineStart();for(var cn=0,Pn=2*u/tt,ti=0;cn<tt;++cn,ti-=Pn)sn.point(R(gr*v(ti),Sr)*M,y(gr*b(ti))*M),sn.point(R(Tt*v(ti-Pn/2),xt)*M,y(Tt*b(ti-Pn/2))*M);sn.lineEnd(),sn.polygonEnd()},en},Ot.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Yr(tt,st,xt,Tt,Bt,Ot,Wt,br){function Sr(gr,Ar){if(!Ar)return[tt*gr/u,0];var _r=Ar*Ar,en=tt+_r*(st+_r*(xt+_r*Tt)),sn=Ar*(Bt-1+_r*(Ot-br+_r*Wt)),cn=(en*en+sn*sn)/(2*sn),Pn=gr*y(en/cn)/u;return[cn*b(Pn),Ar*(1+_r*br)+cn*(1-v(Pn))]}return arguments.length<8&&(br=0),Sr.invert=function(gr,Ar){var sn,cn,_r=u*gr/tt,en=Ar,Pn=50;do{var ti=en*en,Si=tt+ti*(st+ti*(xt+ti*Tt)),Yi=en*(Bt-1+ti*(Ot-br+ti*Wt)),ji=Si*Si+Yi*Yi,$i=2*Yi,sa=ji/$i,Ha=sa*sa,Wa=y(Si/sa)/u,Ci=_r*Wa,ro=Si*Si,io=(2*st+ti*(4*xt+6*ti*Tt))*en,cs=Bt+ti*(3*Ot+5*ti*Wt),he=(2*(Si*io+Yi*(cs-1))*$i-ji*(2*(cs-1)))/($i*$i),Ae=v(Ci),Ge=b(Ci),it=sa*Ae,at=sa*Ge,ht=_r/u*(1/F(1-ro/Ha))*(io*sa-Si*he)/Ha,Nt=at-gr,Dt=en*(1+ti*br)+sa-it-Ar,Yt=he*Ge+it*ht,sr=it*Wa,fr=1+he-(he*Ae-at*ht),zr=at*Wa,Fr=Yt*zr-fr*sr;if(!Fr)break;_r-=sn=(Dt*Yt-Nt*fr)/Fr,en-=cn=(Nt*zr-Dt*sr)/Fr}while((k(sn)>A||k(cn)>A)&&--Pn>0);return[_r,en]},Sr}var $r=Yr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function Qr(){return(0,S.Z)($r).scale(149.995)}var Wn=Yr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function An(){return(0,S.Z)(Wn).scale(153.93)}var Tr=Yr(5/6*u,-.62636,-.0344,0,1.3493,-.05524,0,.045);function nr(){return(0,S.Z)(Tr).scale(130.945)}function Xr(tt,st){var xt=tt*tt,Tt=st*st;return[tt*(1-.162388*Tt)*(.87-952426e-9*xt*xt),st*(1+Tt/12)]}function Ur(){return(0,S.Z)(Xr).scale(131.747)}Xr.invert=function(tt,st){var Ot,xt=tt,Tt=st,Bt=50;do{var Wt=Tt*Tt;Tt-=Ot=(Tt*(1+Wt/12)-st)/(1+Wt/4)}while(k(Ot)>A&&--Bt>0);Bt=50,tt/=1-.162388*Wt;do{var br=(br=xt*xt)*br;xt-=Ot=(xt*(.87-952426e-9*br)-tt)/(.87-.00476213*br)}while(k(Ot)>A&&--Bt>0);return[xt,Tt]};var an=Yr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Cn(){return(0,S.Z)(an).scale(131.087)}function En(tt){var st=tt(g,0)[0]-tt(-g,0)[0];function xt(Tt,Bt){var Ot=Tt>0?-.5:.5,Wt=tt(Tt+Ot*u,Bt);return Wt[0]-=Ot*st,Wt}return tt.invert&&(xt.invert=function(Tt,Bt){var Ot=Tt>0?-.5:.5,Wt=tt.invert(Tt+Ot*st,Bt),br=Wt[0]-Ot*u;return br<-u?br+=2*u:br>u&&(br-=2*u),Wt[0]=br,Wt}),xt}function Fn(tt,st){var xt=d(tt),Tt=d(st),Bt=v(st),Ot=v(tt)*Bt,Wt=b(tt)*Bt,br=b(Tt*st);tt=k(R(Wt,br)),st=y(Ot),k(tt-g)>A&&(tt%=g);var Sr=function Vn(tt,st){if(st===g)return[0,0];var Pn,ti,xt=b(st),Tt=xt*xt,Bt=Tt*Tt,Ot=1+Bt,Wt=1+3*Bt,br=1-Bt,Sr=y(1/F(Ot)),gr=br+Tt*Ot*Sr,Ar=(1-xt)/gr,_r=F(Ar),en=Ar*Ot,sn=F(en),cn=_r*br;if(0===tt)return[0,-(cn+Tt*sn)];var Ja,Si=v(st),Yi=1/Si,ji=2*xt*Si,sa=(-gr*Si-(-3*Tt+Sr*Wt)*ji*(1-xt))/(gr*gr),ro=-Yi*ji,io=-Yi*(Tt*Ot*sa+Ar*Wt*ji),cs=-2*Yi*(br*(.5*sa/_r)-2*Tt*_r*ji),No=4*tt/u;if(tt>.222*u||st<u/4&&tt>.175*u){if(Pn=(cn+Tt*F(en*(1+Bt)-cn*cn))/(1+Bt),tt>u/4)return[Pn,Pn];var he=Pn,Ae=.5*Pn;Pn=.5*(Ae+he),ti=50;do{var it=Pn*(cs+ro*F(en-Pn*Pn))+io*y(Pn/sn)-No;if(!it)break;it<0?Ae=Pn:he=Pn,Pn=.5*(Ae+he)}while(k(he-Ae)>A&&--ti>0)}else{Pn=A,ti=25;do{var at=Pn*Pn,ht=F(en-at),Nt=cs+ro*ht,Dt=Pn*Nt+io*y(Pn/sn)-No;Pn-=Ja=ht?Dt/(Nt+(io-ro*at)/ht):0}while(k(Ja)>A&&--ti>0)}return[Pn,-cn-Tt*F(en-Pn*Pn)]}(tt>u/4?g-tt:tt,st);return tt>u/4&&(br=Sr[0],Sr[0]=-Sr[1],Sr[1]=-br),Sr[0]*=xt,Sr[1]*=-Tt,Sr}function li(){return(0,S.Z)(En(Fn)).scale(239.75)}function si(tt,st){var xt,Tt,Bt,Ot,Wt;if(st<A)return[(Ot=b(tt))-(xt=st*(tt-Ot*(Tt=v(tt)))/4)*Tt,Tt+xt*Ot,1-st*Ot*Ot/2,tt-xt];if(st>=1-A)return xt=(1-st)/4,Bt=1/(Tt=V(tt)),[(Ot=_(tt))+xt*((Wt=Tt*z(tt))-tt)/(Tt*Tt),Bt-xt*Ot*Bt*(Wt-tt),Bt+xt*Ot*Bt*(Wt+tt),2*l(w(tt))-g+xt*(Wt-tt)/Tt];var br=[1,0,0,0,0,0,0,0,0],Sr=[F(st),0,0,0,0,0,0,0,0],gr=0;for(Tt=F(1-st),Wt=1;k(Sr[gr]/br[gr])>A&&gr<8;)xt=br[gr++],Sr[gr]=(xt-Tt)/2,br[gr]=(xt+Tt)/2,Tt=F(xt*Tt),Wt*=2;Bt=Wt*br[gr]*tt;do{Bt=(y(Ot=Sr[gr]*b(Tt=Bt)/br[gr])+Bt)/2}while(--gr);return[b(Bt),Ot=v(Bt),Ot/v(Bt-Tt),Bt]}function Ir(tt,st){if(!st)return tt;if(1===st)return n(p(tt/2+C));for(var xt=1,Tt=F(1-st),Bt=F(st),Ot=0;k(Bt)>A;Ot++){if(tt%u){var Wt=l(Tt*p(tt)/xt);Wt<0&&(Wt+=u),tt+=Wt+~~(tt/u)*u}else tt+=tt;Bt=(xt+Tt)/2,Tt=F(xt*Tt),Bt=((xt=Bt)-Tt)/2}return tt/(f(2,Ot)*xt)}function gn(tt,st){var xt=(L-1)/(L+1),Tt=F(1-xt*xt),Bt=Ir(g,Tt*Tt),Wt=n(p(u/4+k(st)/2)),br=w(-1*Wt)/F(xt),Sr=function pn(tt,st){var xt=tt*tt,Tt=st+1,Bt=1-xt-st*st;return[.5*((tt>=0?g:-g)-R(Bt,2*tt)),-.25*n(Bt*Bt+4*xt)+.5*n(Tt*Tt+xt)]}(br*v(-1*tt),br*b(-1*tt)),gr=function hi(tt,st,xt){var Tt=k(tt),Ot=z(k(st));if(Tt){var Wt=1/b(Tt),br=1/(p(Tt)*p(Tt)),Sr=-(br+xt*(Ot*Ot*Wt*Wt)-1+xt),Ar=(-Sr+F(Sr*Sr-(xt-1)*br*4))/2;return[Ir(l(1/F(Ar)),xt)*d(tt),Ir(l(F((Ar/br-1)/xt)),1-xt)*d(st)]}return[0,Ir(l(Ot),1-xt)*d(st)]}(Sr[0],Sr[1],Tt*Tt);return[-gr[1],(st>=0?1:-1)*(.5*Bt-gr[0])]}function qn(){return(0,S.Z)(En(gn)).scale(151.496)}Fn.invert=function(tt,st){k(tt)>1&&(tt=2*d(tt)-tt),k(st)>1&&(st=2*d(st)-st);var xt=d(tt),Tt=d(st),Bt=-xt*tt,Ot=-Tt*st,Wt=Ot/Bt<1,br=function vi(tt,st){for(var xt=0,Tt=1,Bt=.5,Ot=50;;){var Wt=Bt*Bt,br=F(Bt),Sr=y(1/F(1+Wt)),gr=1-Wt+Bt*(1+Wt)*Sr,Ar=(1-br)/gr,_r=F(Ar),en=Ar*(1+Wt),sn=_r*(1-Wt),Pn=F(en-tt*tt),ti=st+sn+Bt*Pn;if(k(Tt-xt)<m||0==--Ot||0===ti)break;ti>0?xt=Bt:Tt=Bt,Bt=.5*(xt+Tt)}if(!Ot)return null;var Si=y(br),Yi=v(Si),ji=1/Yi,$i=2*br*Yi,Ha=(-gr*Yi-(-3*Bt+Sr*(1+3*Wt))*$i*(1-br))/(gr*gr);return[u/4*(tt*(-2*ji*(.5*Ha/_r*(1-Wt)-2*Bt*_r*$i)+-ji*$i*Pn)+-ji*(Bt*(1+Wt)*Ha+Ar*(1+3*Wt)*$i)*y(tt/F(en))),Si]}(Wt?Ot:Bt,Wt?Bt:Ot),Sr=br[0],gr=br[1],Ar=v(gr);return Wt&&(Sr=-g-Sr),[xt*(R(b(Sr)*Ar,-b(gr))+u),Tt*y(v(Sr)*Ar)]},gn.invert=function(tt,st){var xt=(L-1)/(L+1),Tt=F(1-xt*xt),Wt=function bi(tt,st,xt){var Tt,Bt,Ot;return tt?(Tt=si(tt,xt),st?(Bt=si(st,1-xt),[[Tt[0]*Bt[2]/(Ot=Bt[1]*Bt[1]+xt*Tt[0]*Tt[0]*Bt[0]*Bt[0]),Tt[1]*Tt[2]*Bt[0]*Bt[1]/Ot],[Tt[1]*Bt[1]/Ot,-Tt[0]*Tt[2]*Bt[0]*Bt[2]/Ot],[Tt[2]*Bt[1]*Bt[2]/Ot,-xt*Tt[0]*Tt[1]*Bt[0]/Ot]]):[[Tt[0],0],[Tt[1],0],[Tt[2],0]]):[[0,(Bt=si(st,1-xt))[0]/Bt[1]],[1/Bt[1],0],[Bt[2]/Bt[1],0]]}(.5*Ir(g,Tt*Tt)-st,-tt,Tt*Tt),br=function Dn(tt,st){var xt=st[0]*st[0]+st[1]*st[1];return[(tt[0]*st[0]+tt[1]*st[1])/xt,(tt[1]*st[0]-tt[0]*st[1])/xt]}(Wt[0],Wt[1]);return[R(br[1],br[0])/-1,2*l(w(-.5*n(xt*br[0]*br[0]+xt*br[1]*br[1])))-g]};var Nn=t(7613);function zn(tt){var st=b(tt),xt=v(tt),Tt=Qn(tt);function Bt(Ot,Wt){var br=Tt(Ot,Wt);Ot=br[0];var Sr=b(Wt=br[1]),gr=v(Wt),Ar=v(Ot),_r=B(st*Sr+xt*gr*Ar),en=b(_r),sn=k(en)>A?_r/en:1;return[sn*xt*b(Ot),(k(Ot)>g?sn:-sn)*(st*gr-xt*Sr*Ar)]}return Tt.invert=Qn(-tt),Bt.invert=function(Ot,Wt){var br=F(Ot*Ot+Wt*Wt),Sr=-b(br),gr=v(br),Ar=br*gr,_r=-Wt*Sr,en=br*st,sn=F(Ar*Ar+_r*_r-en*en),cn=R(Ar*en+_r*sn,_r*en-Ar*sn),Pn=(br>g?-1:1)*R(Ot*Sr,br*v(cn)*gr+Wt*b(cn)*Sr);return Tt.invert(Pn,cn)},Bt}function Qn(tt){var st=b(tt),xt=v(tt);return function(Tt,Bt){var Ot=v(Bt),Wt=v(Tt)*Ot,br=b(Tt)*Ot,Sr=b(Bt);return[R(br,Wt*xt-Sr*st),y(Sr*xt+Wt*st)]}}function ii(){var tt=0,st=(0,S.r)(zn),xt=st(tt),Tt=xt.rotate,Bt=xt.stream,Ot=(0,Nn.Z)();return xt.parallel=function(Wt){if(!arguments.length)return tt*M;var br=xt.rotate();return st(tt=Wt*i).rotate(br)},xt.rotate=function(Wt){return arguments.length?(Tt.call(xt,[Wt[0],Wt[1]-tt*M]),Ot.center([-Wt[0],-Wt[1]]),xt):((Wt=Tt.call(xt))[1]+=tt*M,Wt)},xt.stream=function(Wt){return(Wt=Bt(Wt)).sphere=function(){Wt.polygonStart();var _r,Sr=Ot.radius(89.99)().coordinates[0],gr=Sr.length-1,Ar=-1;for(Wt.lineStart();++Ar<gr;)Wt.point((_r=Sr[Ar])[0],_r[1]);for(Wt.lineEnd(),gr=(Sr=Ot.radius(90.01)().coordinates[0]).length-1,Wt.lineStart();--Ar>=0;)Wt.point((_r=Sr[Ar])[0],_r[1]);Wt.lineEnd(),Wt.polygonEnd()},Wt},xt.scale(79.4187).parallel(45).clipAngle(179.999)}var $n=t(33064),ha=t(72736),Pr=y(1-1/3)*M,jr=Ut(0);function bn(tt){var st=Pr*i,xt=_e(u,st)[0]-_e(-u,st)[0],Tt=jr(0,st)[1],Bt=_e(0,st)[1],Ot=x-Bt,Wt=E/tt,br=4/E,Sr=Tt+Ot*Ot*4/E;function gr(Ar,_r){var en,sn=k(_r);if(sn>st){var cn=o(tt-1,c(0,r((Ar+u)/Wt)));(en=_e(Ar+=u*(tt-1)/tt-cn*Wt,sn))[0]=en[0]*E/xt-E*(tt-1)/(2*tt)+cn*E/tt,en[1]=Tt+4*(en[1]-Bt)*Ot/E,_r<0&&(en[1]=-en[1])}else en=jr(Ar,_r);return en[0]*=br,en[1]/=Sr,en}return gr.invert=function(Ar,_r){Ar/=br;var en=k(_r*=Sr);if(en>Tt){var sn=o(tt-1,c(0,r((Ar+u)/Wt))),cn=_e.invert(Ar=(Ar+u*(tt-1)/tt-sn*Wt)*xt/E,.25*(en-Tt)*E/Ot+Bt);return cn[0]-=u*(tt-1)/tt-sn*Wt,_r<0&&(cn[1]=-cn[1]),cn}return jr.invert(Ar,_r)},gr}function vn(tt,st){return[tt,1&st?90-A:Pr]}function Bn(tt,st){return[tt,1&st?-90+A:-Pr]}function In(tt){return[tt[0]*(1-A),tt[1]]}function Br(){var tt=4,st=(0,S.r)(bn),xt=st(tt),Tt=xt.stream;return xt.lobes=function(Bt){return arguments.length?st(tt=+Bt):tt},xt.stream=function(Bt){var Ot=xt.rotate(),Wt=Tt(Bt),br=(xt.rotate([0,0]),Tt(Bt));return xt.rotate(Ot),Wt.sphere=function(){(0,ha.Z)(function Tn(tt){var st=[].concat((0,$n.w6)(-180,180+tt/2,tt).map(vn),(0,$n.w6)(180,-180-tt/2,-tt).map(Bn));return{type:"Polygon",coordinates:[180===tt?st.map(In):st]}}(180/tt),br)},Wt},xt.scale(239.75)}function Or(tt){var Ot,st=1+tt,Tt=y(b(1/st)),Bt=2*F(u/(Ot=u+4*Tt*st)),Wt=.5*Bt*(st+F(tt*(2+tt))),br=tt*tt,Sr=st*st;function gr(Ar,_r){var sn,cn,en=1-b(_r);if(en&&en<2){var Si,Pn=g-_r,ti=25;do{var Yi=b(Pn),ji=v(Pn),$i=Tt+R(Yi,st-ji),sa=1+Sr-2*st*ji;Pn-=Si=(Pn-br*Tt-st*Yi+sa*$i-.5*en*Ot)/(2*st*Yi*$i)}while(k(Si)>m&&--ti>0);sn=Bt*F(sa),cn=Ar*$i/u}else sn=Bt*(tt+en),cn=Ar*Tt/u;return[sn*b(cn),Wt-sn*v(cn)]}return gr.invert=function(Ar,_r){var en=Ar*Ar+(_r-=Wt)*_r,sn=(1+Sr-en/(Bt*Bt))/(2*st),cn=B(sn),Pn=b(cn),ti=Tt+R(Pn,st-sn);return[y(Ar/F(en))*u/ti,y(1-2*(cn-br*Tt-st*Pn+(1+Sr-2*st*sn)*ti)/Ot)]},gr}function Gr(){var tt=1,st=(0,S.r)(Or),xt=st(tt);return xt.ratio=function(Tt){return arguments.length?st(tt=+Tt):tt},xt.scale(167.774).center([0,18.67])}var Mn=.7109889596207567,Zn=.0528035274542;function fi(tt,st){return st>-Mn?((tt=Je(tt,st))[1]+=Zn,tt):je(tt,st)}function dn(){return(0,S.Z)(fi).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function _n(tt,st){return k(st)>Mn?((tt=Je(tt,st))[1]-=st>0?Zn:-Zn,tt):je(tt,st)}function gi(){return(0,S.Z)(_n).scale(152.63)}function wi(tt,st,xt,Tt){var Bt=F(4*u/(2*xt+(1+tt-st/2)*b(2*xt)+(tt+st)/2*b(4*xt)+st/2*b(6*xt))),Ot=F(Tt*b(xt)*F((1+tt*v(2*xt)+st*v(4*xt))/(1+tt+st))),Wt=xt*Sr(1);function br(_r){return F(1+tt*v(2*_r)+st*v(4*_r))}function Sr(_r){var en=_r*xt;return(2*en+(1+tt-st/2)*b(2*en)+(tt+st)/2*b(4*en)+st/2*b(6*en))/xt}function gr(_r){return br(_r)*b(_r)}var Ar=function(_r,en){var sn=xt*Me(Sr,Wt*b(en)/xt,en/u);isNaN(sn)&&(sn=xt*d(en));var cn=Bt*br(sn);return[cn*Ot*_r/u*v(sn),cn/Ot*b(sn)]};return Ar.invert=function(_r,en){var sn=Me(gr,en*Ot/Bt);return[_r*u/(v(sn)*Bt*Ot*br(sn)),y(xt*Sr(sn/xt)/Wt)]},0===xt&&(Bt=F(Tt/u),(Ar=function(_r,en){return[_r*Bt,b(en)/Bt]}).invert=function(_r,en){return[_r/Bt,y(en*Bt)]}),Ar}function Fi(){var tt=1,st=0,xt=45*i,Tt=2,Bt=(0,S.r)(wi),Ot=Bt(tt,st,xt,Tt);return Ot.a=function(Wt){return arguments.length?Bt(tt=+Wt,st,xt,Tt):tt},Ot.b=function(Wt){return arguments.length?Bt(tt,st=+Wt,xt,Tt):st},Ot.psiMax=function(Wt){return arguments.length?Bt(tt,st,xt=+Wt*i,Tt):xt*M},Ot.ratio=function(Wt){return arguments.length?Bt(tt,st,xt,Tt=+Wt):Tt},Ot.scale(180.739)}function Mi(tt,st,xt,Tt,Bt,Ot,Wt,br,Sr,gr,Ar){if(Ar.nanEncountered)return NaN;var _r,en,sn,cn,Pn,ti,Si,Yi,ji,$i;if(en=tt(st+.25*(_r=xt-st)),sn=tt(xt-.25*_r),isNaN(en))Ar.nanEncountered=!0;else{if(!isNaN(sn))return $i=((ti=(cn=_r*(Tt+4*en+Bt)/12)+(Pn=_r*(Bt+4*sn+Ot)/12))-Wt)/15,gr>Sr?(Ar.maxDepthCount++,ti+$i):Math.abs($i)<br?ti+$i:(Yi=Mi(tt,st,Si=st+.5*_r,Tt,en,Bt,cn,.5*br,Sr,gr+1,Ar),isNaN(Yi)?(Ar.nanEncountered=!0,NaN):(ji=Mi(tt,Si,xt,Bt,sn,Ot,Pn,.5*br,Sr,gr+1,Ar),isNaN(ji)?(Ar.nanEncountered=!0,NaN):Yi+ji));Ar.nanEncountered=!0}}function mi(tt,st,xt,Tt,Bt){void 0===Tt&&(Tt=1e-8),void 0===Bt&&(Bt=20);var Wt=tt(st),br=tt(.5*(st+xt)),Sr=tt(xt);return Mi(tt,st,xt,Wt,br,Sr,(Wt+4*br+Sr)*(xt-st)/6,Tt,Bt,1,{maxDepthCount:0,nanEncountered:!1})}function Vo(tt,st,xt){function Tt(sn){return tt+(1-tt)*f(1-f(sn,st),1/st)}function Bt(sn){return mi(Tt,0,sn,1e-4)}for(var Ot=1/Bt(1),Wt=1e3,br=(1+1e-8)*Ot,Sr=[],gr=0;gr<=Wt;gr++)Sr.push(Bt(gr/Wt)*br);function Ar(sn){var cn=0,Pn=Wt,ti=500;do{Sr[ti]>sn?Pn=ti:cn=ti,ti=cn+Pn>>1}while(ti>cn);var Si=Sr[ti+1]-Sr[ti];return Si&&(Si=(sn-Sr[ti+1])/Si),(ti+1+Si)/Wt}var _r=2*Ar(1)/u*Ot/xt,en=function(sn,cn){var Pn=Ar(k(b(cn))),ti=Tt(Pn)*sn;return Pn/=_r,[ti,cn>=0?Pn:-Pn]};return en.invert=function(sn,cn){var Pn;return k(cn*=_r)<1&&(Pn=d(cn)*y(Bt(k(cn))*Ot)),[sn/Tt(k(cn)),Pn]},en}function Os(){var tt=0,st=2.5,xt=1.183136,Tt=(0,S.r)(Vo),Bt=Tt(tt,st,xt);return Bt.alpha=function(Ot){return arguments.length?Tt(tt=+Ot,st,xt):tt},Bt.k=function(Ot){return arguments.length?Tt(tt,st=+Ot,xt):st},Bt.gamma=function(Ot){return arguments.length?Tt(tt,st,xt=+Ot):xt},Bt.scale(152.63)}function os(tt,st){return k(tt[0]-st[0])<A&&k(tt[1]-st[1])<A}function ss(tt,st){for(var Ot,Wt,br,xt=-1,Tt=tt.length,Bt=tt[0],Sr=[];++xt<Tt;){Wt=((Ot=tt[xt])[0]-Bt[0])/st,br=(Ot[1]-Bt[1])/st;for(var gr=0;gr<st;++gr)Sr.push([Bt[0]+gr*Wt,Bt[1]+gr*br]);Bt=Ot}return Sr.push(Ot),Sr}function Cs(tt,st,xt){var Tt,Bt;function Ot(Sr,gr){for(var Ar=gr<0?-1:1,_r=st[+(gr<0)],en=0,sn=_r.length-1;en<sn&&Sr>_r[en][2][0];++en);var cn=tt(Sr-_r[en][1][0],gr);return cn[0]+=tt(_r[en][1][0],Ar*gr>Ar*_r[en][0][1]?_r[en][0][1]:gr)[0],cn}xt?Ot.invert=xt(Ot):tt.invert&&(Ot.invert=function(Sr,gr){for(var Ar=Bt[+(gr<0)],_r=st[+(gr<0)],en=0,sn=Ar.length;en<sn;++en){var cn=Ar[en];if(cn[0][0]<=Sr&&Sr<cn[1][0]&&cn[0][1]<=gr&&gr<cn[1][1]){var Pn=tt.invert(Sr-tt(_r[en][1][0],0)[0],gr);return Pn[0]+=_r[en][1][0],os(Ot(Pn[0],Pn[1]),[Sr,gr])?Pn:null}}});var Wt=(0,S.Z)(Ot),br=Wt.stream;return Wt.stream=function(Sr){var gr=Wt.rotate(),Ar=br(Sr),_r=(Wt.rotate([0,0]),br(Sr));return Wt.rotate(gr),Ar.sphere=function(){(0,ha.Z)(Tt,_r)},Ar},Wt.lobes=function(Sr){return arguments.length?(Tt=function bu(tt){var xt,Tt,Ot,Wt,Sr,st=[],gr=tt[0].length;for(Sr=0;Sr<gr;++Sr)st.push(ss([[(Tt=(xt=tt[0][Sr])[0][0])+A,xt[0][1]+A],[Tt+A,(Ot=xt[1][1])-A],[(Wt=xt[2][0])-A,Ot-A],[Wt-A,xt[2][1]+A]],30));for(Sr=tt[1].length-1;Sr>=0;--Sr)st.push(ss([[(Wt=(xt=tt[1][Sr])[2][0])-A,xt[2][1]-A],[Wt-A,(Ot=xt[1][1])+A],[(Tt=xt[0][0])+A,Ot+A],[Tt+A,xt[0][1]-A]],30));return{type:"Polygon",coordinates:[(0,$n.TS)(st)]}}(Sr),st=Sr.map(function(gr){return gr.map(function(Ar){return[[Ar[0][0]*i,Ar[0][1]*i],[Ar[1][0]*i,Ar[1][1]*i],[Ar[2][0]*i,Ar[2][1]*i]]})}),Bt=st.map(function(gr){return gr.map(function(Ar){var Pn,_r=tt(Ar[0][0],Ar[0][1])[0],en=tt(Ar[2][0],Ar[2][1])[0],sn=tt(Ar[1][0],Ar[0][1])[1],cn=tt(Ar[1][0],Ar[1][1])[1];return sn>cn&&(Pn=sn,sn=cn,cn=Pn),[[_r,sn],[en,cn]]})}),Wt):st.map(function(gr){return gr.map(function(Ar){return[[Ar[0][0]*M,Ar[0][1]*M],[Ar[1][0]*M,Ar[1][1]*M],[Ar[2][0]*M,Ar[2][1]*M]]})})},null!=st&&Wt.lobes(st),Wt}fi.invert=function(tt,st){return st>-Mn?Je.invert(tt,st-Zn):je.invert(tt,st)},_n.invert=function(tt,st){return k(st)>Mn?Je.invert(tt,st+(st>0?Zn:-Zn)):je.invert(tt,st)};var La=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function rl(){return Cs(ut,La).scale(160.857)}var fc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ho(){return Cs(_n,fc).scale(152.63)}var Ns=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Df(){return Cs(Je,Ns).scale(169.529)}var cc=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function lo(){return Cs(Je,cc).scale(169.529).rotate([20,0])}var wu=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function xs(){return Cs(fi,wu,Ne).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var To=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function hc(){return Cs(je,To).scale(152.63).rotate([-20,0])}function Go(tt,st){return[3/E*tt*F(u*u/3-st*st),st]}function nl(){return(0,S.Z)(Go).scale(158.837)}function Ao(tt){function st(xt,Tt){if(k(k(Tt)-g)<A)return[0,Tt<0?-2:2];var Bt=b(Tt),Ot=f((1+Bt)/(1-Bt),tt/2),Wt=.5*(Ot+1/Ot)+v(xt*=tt);return[2*b(xt)/Wt,(Ot-1/Ot)/Wt]}return st.invert=function(xt,Tt){var Bt=k(Tt);if(k(Bt-2)<A)return xt?null:[0,d(Tt)*g];if(Bt>2)return null;var Ot=(xt/=2)*xt,Wt=(Tt/=2)*Tt,br=2*Tt/(1+Ot+Wt);return br=f((1+br)/(1-br),1/tt),[R(2*xt,1-Ot-Wt)/tt,y((br-1)/(br+1))]},st}function Hc(){var tt=.5,st=(0,S.r)(Ao),xt=st(tt);return xt.spacing=function(Tt){return arguments.length?st(tt=+Tt):tt},xt.scale(124.75)}Go.invert=function(tt,st){return[E/3*tt/F(u*u/3-st*st),st]};var po=u/L;function cf(tt,st){return[tt*(1+F(v(st)))/2,st/(v(st/2)*v(tt/6))]}function Ji(){return(0,S.Z)(cf).scale(97.2672)}function go(tt,st){var xt=tt*tt,Tt=st*st;return[tt*(.975534+Tt*(-.0143059*xt-.119161+-.0547009*Tt)),st*(1.00384+xt*(.0802894+-.02855*Tt+199025e-9*xt)+Tt*(.0998909+-.0491032*Tt))]}function Ki(){return(0,S.Z)(go).scale(139.98)}function zs(tt,st){return[b(tt)/v(st),p(st)*v(tt)]}function Tl(){return(0,S.Z)(zs).scale(144.049).clipAngle(89.999)}function eu(tt){var st=v(tt),xt=p(C+tt/2);function Tt(Bt,Ot){var Wt=Ot-tt,br=k(Wt)<A?Bt*st:k(br=C+Ot/2)<A||k(k(br)-g)<A?0:Bt*Wt/n(p(br)/xt);return[br,Wt]}return Tt.invert=function(Bt,Ot){var Wt,br=Ot+tt;return[k(Ot)<A?Bt/st:k(Wt=C+br/2)<A||k(k(Wt)-g)<A?0:Bt*n(p(Wt)/xt)/Ot,br]},Tt}function Gc(){return We(eu).parallel(40).scale(158.837)}function Lf(tt,st){return[tt,1.25*n(p(C+.4*st))]}function If(){return(0,S.Z)(Lf).scale(108.318)}function Al(tt){var st=tt.length-1;function xt(Tt,Bt){for(var sn,Ot=v(Bt),Wt=2/(1+Ot*v(Tt)),br=Wt*Ot*b(Tt),Sr=Wt*b(Bt),gr=st,Ar=tt[gr],_r=Ar[0],en=Ar[1];--gr>=0;)_r=(Ar=tt[gr])[0]+br*(sn=_r)-Sr*en,en=Ar[1]+br*en+Sr*sn;return[_r=br*(sn=_r)-Sr*en,en=br*en+Sr*sn]}return xt.invert=function(Tt,Bt){var Ot=20,Wt=Tt,br=Bt;do{for(var cn,Sr=st,gr=tt[Sr],Ar=gr[0],_r=gr[1],en=0,sn=0;--Sr>=0;)en=Ar+Wt*(cn=en)-br*sn,sn=_r+Wt*sn+br*cn,Ar=(gr=tt[Sr])[0]+Wt*(cn=Ar)-br*_r,_r=gr[1]+Wt*_r+br*cn;var ti,Si,Pn=(en=Ar+Wt*(cn=en)-br*sn)*en+(sn=_r+Wt*sn+br*cn)*sn;Wt-=ti=((Ar=Wt*(cn=Ar)-br*_r-Tt)*en+(_r=Wt*_r+br*cn-Bt)*sn)/Pn,br-=Si=(_r*en-Ar*sn)/Pn}while(k(ti)+k(Si)>A*A&&--Ot>0);if(Ot){var Yi=F(Wt*Wt+br*br),ji=2*l(.5*Yi),$i=b(ji);return[R(Wt*$i,Yi*v(ji)),Yi?y(br*$i/Yi):0]}},xt}cf.invert=function(tt,st){var xt=k(tt),Tt=k(st),Bt=A,Ot=g;Tt<po?Ot*=Tt/po:Bt+=6*B(po/Tt);for(var Wt=0;Wt<25;Wt++){var br=b(Ot),Sr=F(v(Ot)),gr=b(Ot/2),Ar=v(Ot/2),_r=b(Bt/6),en=v(Bt/6),sn=.5*Bt*(1+Sr)-xt,cn=Ot/(Ar*en)-Tt,Pn=Sr?-.25*Bt*br/Sr:0,ti=.5*(1+Sr),Si=(1+.5*Ot*gr/Ar)/(Ar*en),Yi=Ot/Ar*(_r/6)/(en*en),ji=Pn*Yi-Si*ti,$i=(sn*Yi-cn*ti)/ji,sa=(cn*Pn-sn*Si)/ji;if(Ot-=$i,Bt-=sa,k($i)<A&&k(sa)<A)break}return[tt<0?-Bt:Bt,st<0?-Ot:Ot]},go.invert=function(tt,st){var xt=d(tt)*u,Tt=st/2,Bt=50;do{var Ot=xt*xt,Wt=Tt*Tt,br=xt*Tt,Sr=xt*(.975534+Wt*(-.0143059*Ot-.119161+-.0547009*Wt))-tt,gr=Tt*(1.00384+Ot*(.0802894+-.02855*Wt+199025e-9*Ot)+Wt*(.0998909+-.0491032*Wt))-st,Ar=.975534-Wt*(.119161+3*Ot*.0143059+.0547009*Wt),_r=-br*(.238322+.2188036*Wt+.0286118*Ot),en=br*(.1605788+7961e-7*Ot+-.0571*Wt),sn=1.00384+Ot*(.0802894+199025e-9*Ot)+Wt*(3*(.0998909-.02855*Ot)-.245516*Wt),cn=_r*en-sn*Ar,Pn=(gr*_r-Sr*sn)/cn,ti=(Sr*en-gr*Ar)/cn;xt-=Pn,Tt-=ti}while((k(Pn)>A||k(ti)>A)&&--Bt>0);return Bt&&[xt,Tt]},zs.invert=function(tt,st){var xt=tt*tt,Bt=st*st+1,Ot=xt+Bt,Wt=tt?T*F((Ot-F(Ot*Ot-4*xt))/xt):1/F(Bt);return[y(tt*Wt),d(st)*B(Wt)]},Lf.invert=function(tt,st){return[tt,2.5*l(w(.8*st))-.625*u]};var Pf=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],il=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Ys=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],_a=[[.9245,0],[0,0],[.01943,0]],Rf=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Ff(){return Vl(Pf,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function dc(){return Vl(il,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function _c(){return Vl(Ys,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Ml(){return Vl(_a,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function hf(){return Vl(Rf,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Vl(tt,st){var xt=(0,S.Z)(Al(tt)).rotate(st).clipAngle(90),Tt=(0,Re.Z)(st),Bt=xt.center;return delete xt.rotate,xt.center=function(Ot){return arguments.length?Bt(Tt(Ot)):Tt.invert(Bt())},xt}var Tu=F(6),tu=F(7);function df(tt,st){var xt=y(7*b(st)/(3*Tu));return[Tu*tt*(2*v(2*xt/3)-1)/tu,9*b(xt/3)/tu]}function kf(){return(0,S.Z)(df).scale(164.859)}function ru(tt,st){for(var Ot,xt=(1+T)*b(st),Tt=st,Bt=0;Bt<25&&(Tt-=Ot=(b(Tt/2)+b(Tt)-xt)/(.5*v(Tt/2)+v(Tt)),!(k(Ot)<A));Bt++);return[tt*(1+2*v(Tt)/v(Tt/2))/(3*L),2*F(3)*b(Tt/2)/F(2+L)]}function jc(){return(0,S.Z)(ru).scale(188.209)}function Hl(tt,st){for(var Wt,xt=F(6/(4+u)),Tt=(1+u/4)*b(st),Bt=st/2,Ot=0;Ot<25&&(Bt-=Wt=(Bt/2+b(Bt)-Tt)/(.5+v(Bt)),!(k(Wt)<A));Ot++);return[xt*(.5+v(Bt))*tt/1.5,xt*Bt]}function al(){return(0,S.Z)(Hl).scale(166.518)}df.invert=function(tt,st){var xt=3*y(st*tu/9);return[tt*tu/(Tu*(2*v(2*xt/3)-1)),y(3*b(xt)*Tu/7)]},ru.invert=function(tt,st){var xt=st*F(2+L)/(2*F(3)),Tt=2*y(xt);return[3*L*tt/(1+2*v(Tt)/v(Tt/2)),y((xt+b(Tt))/(1+T))]},Hl.invert=function(tt,st){var xt=F(6/(4+u)),Tt=st/xt;return k(k(Tt)-g)<A&&(Tt=Tt<0?-g:g),[1.5*tt/(xt*(.5+v(Tt))),y((Tt/2+b(Tt))/(1+u/4))]};var Gu=t(26867);function Au(tt,st){var xt=st*st,Tt=xt*xt,Bt=xt*Tt;return[tt*(.84719-.13063*xt+Bt*Bt*(.05494*xt-.04515-.02326*Tt+.00331*Bt)),st*(1.01183+Tt*Tt*(.01926*xt-.02625-.00396*Tt))]}function Of(){return(0,S.Z)(Au).scale(175.295)}function yo(tt,st){return[tt*(1+v(st))/2,2*(st-p(st/2))]}function nu(){return(0,S.Z)(yo).scale(152.63)}Au.invert=function(tt,st){var Bt,Ot,Wt,br,xt=st,Tt=25;do{xt-=Bt=(xt*(1.01183+(Wt=(Ot=xt*xt)*Ot)*Wt*(.01926*Ot-.02625-.00396*Wt))-st)/(1.01183+Wt*Wt*(.21186*Ot-.23625+-.05148*Wt))}while(k(Bt)>m&&--Tt>0);return[tt/(.84719-.13063*(Ot=xt*xt)+(br=Ot*(Wt=Ot*Ot))*br*(.05494*Ot-.04515-.02326*Wt+.00331*br)),xt]},yo.invert=function(tt,st){for(var xt=st/2,Tt=0,Bt=1/0;Tt<10&&k(Bt)>A;++Tt){var Ot=v(st/2);st-=Bt=(st-p(st/2)-xt)/(1-.5/(Ot*Ot))}return[2*tt/(1+v(st)),st]};var Nf=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function zf(){return Cs(de(1/0),Nf).rotate([20,0]).scale(152.63)}function ol(tt,st){var xt=b(st),Tt=v(st),Bt=d(tt);if(0===tt||k(st)===g)return[0,st];if(0===st)return[tt,0];if(k(tt)===g)return[tt*Tt,g*xt];var Ot=u/(2*tt)-2*tt/u,Wt=2*st/u,br=(1-Wt*Wt)/(xt-Wt),Sr=Ot*Ot,gr=br*br,Ar=1+Sr/gr,_r=1+gr/Sr,en=(Ot*xt/br-Ot/2)/Ar,sn=(gr*xt/Sr+br/2)/_r,Pn=sn*sn-(gr*xt*xt/Sr+br*xt-1)/_r;return[g*(en+F(en*en+Tt*Tt/Ar)*Bt),g*(sn+F(Pn<0?0:Pn)*d(-st*Ot)*Bt)]}function Ro(){return(0,S.Z)(ol).scale(127.267)}ol.invert=function(tt,st){var xt=(tt/=g)*tt,Bt=xt+(st/=g)*st,Ot=u*u;return[tt?(Bt-1+F((1-Bt)*(1-Bt)+4*xt))/(2*tt)*g:0,Me(function(Wt){return Bt*(u*b(Wt)-2*Wt)*u+4*Wt*Wt*(st-b(Wt))+2*u*Wt-Ot*st},0)]};var vc=1.0148,Bf=.23185,_u=-.14499,Uf=.02406,pc=vc,Bs=5*Bf,Wc=7*_u,ju=9*Uf,Gl=1.790857183;function Yo(tt,st){var xt=st*st;return[tt,st*(vc+xt*xt*(Bf+xt*(_u+Uf*xt)))]}function Sl(){return(0,S.Z)(Yo).scale(139.319)}function Vf(tt,st){if(k(st)<A)return[tt,0];var xt=p(st),Tt=tt*b(st);return[b(Tt)/xt,st+(1-v(Tt))/xt]}function va(){return(0,S.Z)(Vf).scale(103.74)}Yo.invert=function(tt,st){st>Gl?st=Gl:st<-Gl&&(st=-Gl);var Tt,xt=st;do{var Bt=xt*xt;xt-=Tt=(xt*(vc+Bt*Bt*(Bf+Bt*(_u+Uf*Bt)))-st)/(pc+Bt*Bt*(Bs+Bt*(Wc+ju*Bt)))}while(k(Tt)>A);return[tt,xt]},Vf.invert=function(tt,st){if(k(st)<A)return[tt,0];var Ot,xt=tt*tt+st*st,Tt=.5*st,Bt=10;do{var Wt=p(Tt),br=1/v(Tt),Sr=xt-2*st*Tt+Tt*Tt;Tt-=Ot=(Wt*Sr+2*(Tt-st))/(2+Sr*br*br+2*(Tt-st)*Wt)}while(k(Ot)>A&&--Bt>0);return Wt=p(Tt),[(k(st)<k(Tt+1/Wt)?y(tt*Wt):d(st)*d(tt)*(B(k(tt*Wt))+g))/b(Tt),Tt]};var ls=t(77338),Ma=t(83074);function Fo(tt,st){var xt=Es(tt[1],tt[0]),Tt=Es(st[1],st[0]),Bt=function eo(tt,st){return R(tt[0]*st[1]-tt[1]*st[0],tt[0]*st[0]+tt[1]*st[1])}(xt,Tt),Ot=gc(xt)/gc(Tt);return Cl([1,0,tt[0][0],0,1,tt[0][1]],Cl([Ot,0,0,0,Ot,0],Cl([v(Bt),b(Bt),0,-b(Bt),v(Bt),0],[1,0,-st[0][0],0,1,-st[0][1]])))}function us(tt){var st=1/(tt[0]*tt[4]-tt[1]*tt[3]);return[st*tt[4],-st*tt[1],st*(tt[1]*tt[5]-tt[2]*tt[4]),-st*tt[3],st*tt[0],st*(tt[2]*tt[3]-tt[0]*tt[5])]}function Cl(tt,st){return[tt[0]*st[0]+tt[1]*st[3],tt[0]*st[1]+tt[1]*st[4],tt[0]*st[2]+tt[1]*st[5]+tt[2],tt[3]*st[0]+tt[4]*st[3],tt[3]*st[1]+tt[4]*st[4],tt[3]*st[2]+tt[4]*st[5]+tt[5]]}function Es(tt,st){return[tt[0]-st[0],tt[1]-st[1]]}function gc(tt){return F(tt[0]*tt[0]+tt[1]*tt[1])}function _l(tt,st,xt){function Bt(gr,Ar){var sn,_r=st(gr,Ar),en=_r.project([gr*M,Ar*M]);return(sn=_r.transform)?[sn[0]*en[0]+sn[1]*en[1]+sn[2],-(sn[3]*en[0]+sn[4]*en[1]+sn[5])]:(en[1]=-en[1],en)}function Ot(gr,Ar){var _r=gr.project.invert,en=gr.transform,sn=Ar;if(en&&(sn=[(en=us(en))[0]*sn[0]+en[1]*sn[1]+en[2],en[3]*sn[0]+en[4]*sn[1]+en[5]]),_r&&gr===function Wt(gr){return st(gr[0]*i,gr[1]*i)}(cn=_r(sn)))return cn;for(var cn,Pn=gr.children,ti=0,Si=Pn&&Pn.length;ti<Si;++ti)if(cn=Ot(Pn[ti],Ar))return cn}(function Tt(gr,Ar){if(gr.edges=function Zi(tt){for(var st=tt.length,xt=[],Tt=tt[st-1],Bt=0;Bt<st;++Bt)xt.push([Tt,Tt=tt[Bt]]);return xt}(gr.face),Ar.face){var _r=gr.shared=function to(tt,st){for(var xt,Tt,Bt=tt.length,Ot=null,Wt=0;Wt<Bt;++Wt){xt=tt[Wt];for(var br=st.length;--br>=0;)if(xt[0]===(Tt=st[br])[0]&&xt[1]===Tt[1]){if(Ot)return[Ot,xt];Ot=xt}}}(gr.face,Ar.face),en=Fo(_r.map(Ar.project),_r.map(gr.project));gr.transform=Ar.transform?Cl(Ar.transform,en):en;for(var sn=Ar.edges,cn=0,Pn=sn.length;cn<Pn;++cn)Us(_r[0],sn[cn][1])&&Us(_r[1],sn[cn][0])&&(sn[cn]=gr),Us(_r[0],sn[cn][0])&&Us(_r[1],sn[cn][1])&&(sn[cn]=gr);for(cn=0,Pn=(sn=gr.edges).length;cn<Pn;++cn)Us(_r[0],sn[cn][0])&&Us(_r[1],sn[cn][1])&&(sn[cn]=Ar),Us(_r[0],sn[cn][1])&&Us(_r[1],sn[cn][0])&&(sn[cn]=Ar)}else gr.transform=Ar.transform;return gr.children&&gr.children.forEach(function(ti){Tt(ti,gr)}),gr})(tt,{transform:null}),oa(tt)&&(Bt.invert=function(gr,Ar){var _r=Ot(tt,[gr,-Ar]);return _r&&(_r[0]*=i,_r[1]*=i,_r)});var br=(0,S.Z)(Bt),Sr=br.stream;return br.stream=function(gr){var Ar=br.rotate(),_r=Sr(gr),en=(br.rotate([0,0]),Sr(gr));return br.rotate(Ar),_r.sphere=function(){en.polygonStart(),en.lineStart(),Mu(en,tt),en.lineEnd(),en.polygonEnd()},_r},br.angle(null==xt?-30:xt*M)}function Mu(tt,st,xt){var Tt,Wt,Bt=st.edges,Ot=Bt.length,br={type:"MultiPoint",coordinates:st.face},Sr=st.face.filter(function(Pn){return 90!==k(Pn[1])}),gr=(0,ls.Z)({type:"MultiPoint",coordinates:Sr}),Ar=!1,_r=-1,en=gr[1][0]-gr[0][0],sn=180===en||360===en?[(gr[0][0]+gr[1][0])/2,(gr[0][1]+gr[1][1])/2]:(0,ke.Z)(br);if(xt)for(;++_r<Ot&&Bt[_r]!==xt;);++_r;for(var cn=0;cn<Ot;++cn)Wt=Bt[(cn+_r)%Ot],Array.isArray(Wt)?(Ar||(tt.point((Tt=(0,Ma.Z)(Wt[0],sn)(A))[0],Tt[1]),Ar=!0),tt.point((Tt=(0,Ma.Z)(Wt[1],sn)(A))[0],Tt[1])):(Ar=!1,Wt!==xt&&Mu(tt,Wt,st))}function Us(tt,st){return tt&&st&&tt[0]===st[0]&&tt[1]===st[1]}function oa(tt){return tt.project.invert||tt.children&&tt.children.some(oa)}var Za=t(98936),ko=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],bs=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(tt){return tt.map(function(st){return ko[st]})});function uo(tt){tt=tt||function(xt){var Tt=(0,ke.Z)({type:"MultiPoint",coordinates:xt});return(0,Za.Z)().scale(1).translate([0,0]).rotate([-Tt[0],-Tt[1]])};var st=bs.map(function(xt){return{face:xt,project:tt(xt)}});return[-1,0,0,1,0,1,4,5].forEach(function(xt,Tt){var Bt=st[xt];Bt&&(Bt.children||(Bt.children=[])).push(st[Tt])}),_l(st[0],function(xt,Tt){return st[xt<-u/2?Tt<0?6:4:xt<0?Tt<0?2:0:xt<u/2?Tt<0?3:1:Tt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Ds=2/F(3);function Xa(tt,st){var xt=_e(tt,st);return[xt[0]*Ds,xt[1]]}function ws(tt){tt=tt||function(xt){var Tt=(0,ke.Z)({type:"MultiPoint",coordinates:xt});return(0,S.Z)(Xa).translate([0,0]).scale(1).rotate(Tt[1]>0?[-Tt[0],0]:[180-Tt[0],180])};var st=bs.map(function(xt){return{face:xt,project:tt(xt)}});return[-1,0,0,1,0,1,4,5].forEach(function(xt,Tt){var Bt=st[xt];Bt&&(Bt.children||(Bt.children=[])).push(st[Tt])}),_l(st[0],function(xt,Tt){return st[xt<-u/2?Tt<0?6:4:xt<0?Tt<0?2:0:xt<u/2?Tt<0?3:1:Tt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Vs(tt){tt=tt||function(Wt){var br=6===Wt.length?(0,ke.Z)({type:"MultiPoint",coordinates:Wt}):Wt[0];return(0,Za.Z)().scale(1).translate([0,0]).rotate([-br[0],-br[1]])};var st=bs.map(function(Wt){for(var Ar,br=Wt.map(jl),Sr=br.length,gr=br[Sr-1],_r=[],en=0;en<Sr;++en)_r.push(Hf([.9486832980505138*gr[0]+.31622776601683794*(Ar=br[en])[0],.9486832980505138*gr[1]+.31622776601683794*Ar[1],.9486832980505138*gr[2]+.31622776601683794*Ar[2]]),Hf([.9486832980505138*Ar[0]+.31622776601683794*gr[0],.9486832980505138*Ar[1]+.31622776601683794*gr[1],.9486832980505138*Ar[2]+.31622776601683794*gr[2]])),gr=Ar;return _r}),xt=[],Tt=[-1,0,0,1,0,1,4,5];st.forEach(function(Wt,br){for(var Sr=bs[br],gr=Sr.length,Ar=xt[br]=[],_r=0;_r<gr;++_r)st.push([Sr[_r],Wt[(2*_r+2)%(2*gr)],Wt[(2*_r+1)%(2*gr)]]),Tt.push(br),Ar.push(Su(jl(Wt[(2*_r+2)%(2*gr)]),jl(Wt[(2*_r+1)%(2*gr)])))});var Bt=st.map(function(Wt){return{project:tt(Wt),face:Wt}});return Tt.forEach(function(Wt,br){var Sr=Bt[Wt];Sr&&(Sr.children||(Sr.children=[])).push(Bt[br])}),_l(Bt[0],function Ot(Wt,br){var Sr=v(br),gr=[Sr*v(Wt),Sr*b(Wt),b(br)],Ar=Wt<-u/2?br<0?6:4:Wt<0?br<0?2:0:Wt<u/2?br<0?3:1:br<0?7:5,_r=xt[Ar];return Bt[fa(_r[0],gr)<0?8+3*Ar:fa(_r[1],gr)<0?8+3*Ar+1:fa(_r[2],gr)<0?8+3*Ar+2:Ar]}).angle(-30).scale(110.625).center([0,45])}function fa(tt,st){for(var xt=0,Tt=tt.length,Bt=0;xt<Tt;++xt)Bt+=tt[xt]*st[xt];return Bt}function Su(tt,st){return[tt[1]*st[2]-tt[2]*st[1],tt[2]*st[0]-tt[0]*st[2],tt[0]*st[1]-tt[1]*st[0]]}function Hf(tt){return[R(tt[1],tt[0])*M,y(c(-1,o(1,tt[2])))*M]}function jl(tt){var st=tt[0]*i,xt=tt[1]*i,Tt=v(xt);return[Tt*v(st),Tt*b(st),b(xt)]}function no(){}function El(tt,st){var Tt,xt=st.stream;if(!xt)throw new Error("invalid projection");switch(tt&&tt.type){case"Feature":Tt=yc;break;case"FeatureCollection":Tt=Yu;break;default:Tt=Zs}return Tt(tt,xt)}function Yu(tt,st){return{type:"FeatureCollection",features:tt.features.map(function(xt){return yc(xt,st)})}}function yc(tt,st){return{type:"Feature",id:tt.id,properties:tt.properties,geometry:Zs(tt.geometry,st)}}function Zs(tt,st){if(!tt)return null;if("GeometryCollection"===tt.type)return function Wl(tt,st){return{type:"GeometryCollection",geometries:tt.geometries.map(function(xt){return Zs(xt,st)})}}(tt,st);var xt;switch(tt.type){case"Point":case"MultiPoint":xt=wa;break;case"LineString":case"MultiLineString":xt=Gf;break;case"Polygon":case"MultiPolygon":case"Sphere":xt=iu;break;default:return null}return(0,ha.Z)(tt,st(xt)),xt.result()}Xa.invert=function(tt,st){return _e.invert(tt/Ds,st)};var Mo=[],fs=[],wa={point:function(tt,st){Mo.push([tt,st])},result:function(){var tt=Mo.length?Mo.length<2?{type:"Point",coordinates:Mo[0]}:{type:"MultiPoint",coordinates:Mo}:null;return Mo=[],tt}},Gf={lineStart:no,point:function(tt,st){Mo.push([tt,st])},lineEnd:function(){Mo.length&&(fs.push(Mo),Mo=[])},result:function(){var tt=fs.length?fs.length<2?{type:"LineString",coordinates:fs[0]}:{type:"MultiLineString",coordinates:fs}:null;return fs=[],tt}},iu={polygonStart:no,lineStart:no,point:function(tt,st){Mo.push([tt,st])},lineEnd:function(){var tt=Mo.length;if(tt){do{Mo.push(Mo[0].slice())}while(++tt<4);fs.push(Mo),Mo=[]}},polygonEnd:no,result:function(){if(!fs.length)return null;var tt=[],st=[];return fs.forEach(function(xt){!function Cu(tt){if((xt=tt.length)<4)return!1;for(var xt,st=0,Tt=tt[xt-1][1]*tt[0][0]-tt[xt-1][0]*tt[0][1];++st<xt;)Tt+=tt[st-1][1]*tt[st][0]-tt[st-1][0]*tt[st][1];return Tt<=0}(xt)?st.push(xt):tt.push([xt])}),st.forEach(function(xt){var Tt=xt[0];tt.some(function(Bt){if(function Wu(tt,st){for(var xt=st[0],Tt=st[1],Bt=!1,Ot=0,Wt=tt.length,br=Wt-1;Ot<Wt;br=Ot++){var Sr=tt[Ot],gr=Sr[0],Ar=Sr[1],_r=tt[br],sn=_r[1];Ar>Tt^sn>Tt&&xt<(_r[0]-gr)*(Tt-Ar)/(sn-Ar)+gr&&(Bt=!Bt)}return Bt}(Bt[0],Tt))return Bt.push(xt),!0})||tt.push([xt])}),fs=[],tt.length?tt.length>1?{type:"MultiPolygon",coordinates:tt}:{type:"Polygon",coordinates:tt[0]}:null}};function _f(tt){var st=tt(g,0)[0]-tt(-g,0)[0];function xt(Tt,Bt){var Ot=k(Tt)<g,Wt=tt(Ot?Tt:Tt>0?Tt-u:Tt+u,Bt),br=(Wt[0]-Wt[1])*T,Sr=(Wt[0]+Wt[1])*T;if(Ot)return[br,Sr];var gr=st*T,Ar=br>0^Sr>0?-1:1;return[Ar*br-d(Sr)*gr,Ar*Sr-d(br)*gr]}return tt.invert&&(xt.invert=function(Tt,Bt){var Ot=(Tt+Bt)*T,Wt=(Bt-Tt)*T,br=k(Ot)<.5*st&&k(Wt)<.5*st;if(!br){var Sr=st*T,gr=Ot>0^Wt>0?-1:1,Ar=-gr*Tt+(Wt>0?1:-1)*Sr,_r=-gr*Bt+(Ot>0?1:-1)*Sr;Ot=(-Ar-_r)*T,Wt=(Ar-_r)*T}var en=tt.invert(Ot,Wt);return br||(en[0]+=Ot>0?u:-u),en}),(0,S.Z)(xt).rotate([-90,-90,45]).clipAngle(179.999)}function Xs(){return _f(Fn).scale(176.423)}function Zu(){return _f(gn).scale(111.48)}function Xu(tt,st){if(!(0<=(st=+st)&&st<=20))throw new Error("invalid digits");function xt(gr){var Ar=gr.length,_r=2,en=new Array(Ar);for(en[0]=+gr[0].toFixed(st),en[1]=+gr[1].toFixed(st);_r<Ar;)en[_r]=gr[_r],++_r;return en}function Tt(gr){return gr.map(xt)}function Bt(gr){for(var Ar=xt(gr[0]),_r=[Ar],en=1;en<gr.length;en++){var sn=xt(gr[en]);(sn.length>2||sn[0]!=Ar[0]||sn[1]!=Ar[1])&&(_r.push(sn),Ar=sn)}return 1===_r.length&&gr.length>1&&_r.push(xt(gr[gr.length-1])),_r}function Ot(gr){return gr.map(Bt)}function Wt(gr){if(null==gr)return gr;var Ar;switch(gr.type){case"GeometryCollection":Ar={type:"GeometryCollection",geometries:gr.geometries.map(Wt)};break;case"Point":Ar={type:"Point",coordinates:xt(gr.coordinates)};break;case"MultiPoint":Ar={type:gr.type,coordinates:Tt(gr.coordinates)};break;case"LineString":Ar={type:gr.type,coordinates:Bt(gr.coordinates)};break;case"MultiLineString":case"Polygon":Ar={type:gr.type,coordinates:Ot(gr.coordinates)};break;case"MultiPolygon":Ar={type:"MultiPolygon",coordinates:gr.coordinates.map(Ot)};break;default:return gr}return null!=gr.bbox&&(Ar.bbox=gr.bbox),Ar}function br(gr){var Ar={type:"Feature",properties:gr.properties,geometry:Wt(gr.geometry)};return null!=gr.id&&(Ar.id=gr.id),null!=gr.bbox&&(Ar.bbox=gr.bbox),Ar}if(null!=tt)switch(tt.type){case"Feature":return br(tt);case"FeatureCollection":var Sr={type:"FeatureCollection",features:tt.features.map(br)};return null!=tt.bbox&&(Sr.bbox=tt.bbox),Sr;default:return Wt(tt)}return tt}function Ks(tt){var st=b(tt);function xt(Tt,Bt){var Ot=st?p(Tt*st/2)/st:Tt/2;if(!Bt)return[2*Ot,-tt];var Wt=2*l(Ot*b(Bt)),br=1/p(Bt);return[b(Wt)*br,Bt+(1-v(Wt))*br-tt]}return xt.invert=function(Tt,Bt){if(k(Bt+=tt)<A)return[st?2*l(st*Tt/2)/st:Tt,0];var Sr,Ot=Tt*Tt+Bt*Bt,Wt=0,br=10;do{var gr=p(Wt),Ar=1/v(Wt),_r=Ot-2*Bt*Wt+Wt*Wt;Wt-=Sr=(gr*_r+2*(Wt-Bt))/(2+_r*Ar*Ar+2*(Wt-Bt)*gr)}while(k(Sr)>A&&--br>0);var en=Tt*(gr=p(Wt)),sn=p(k(Bt)<k(Wt+1/gr)?.5*y(en):.5*B(en)+u/4)/b(Wt);return[st?2*l(st*sn)/st:2*sn,Wt]},xt}function fo(){return We(Ks).scale(131.215)}var Zo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Xo(tt,st){var _r,xt=o(18,36*k(st)/u),Tt=r(xt),Bt=xt-Tt,Ot=(_r=Zo[Tt])[0],Wt=_r[1],br=(_r=Zo[++Tt])[0],Sr=_r[1],gr=(_r=Zo[o(19,++Tt)])[0],Ar=_r[1];return[tt*(br+Bt*(gr-Ot)/2+Bt*Bt*(gr-2*br+Ot)/2),(st>0?g:-g)*(Sr+Bt*(Ar-Wt)/2+Bt*Bt*(Ar-2*Sr+Wt)/2)]}function Ko(){return(0,S.Z)(Xo).scale(152.63)}function au(tt,st){var xt=function Yl(tt){function st(xt,Tt){var Bt=v(Tt),Ot=(tt-1)/(tt-Bt*v(xt));return[Ot*Bt*b(xt),Ot*b(Tt)]}return st.invert=function(xt,Tt){var Bt=xt*xt+Tt*Tt,Ot=F(Bt),Wt=(tt-F(1-Bt*(tt+1)/(tt-1)))/((tt-1)/Ot+Ot/(tt-1));return[R(xt*Wt,Ot*F(1-Wt*Wt)),Ot?y(Tt*Wt/Ot):0]},st}(tt);if(!st)return xt;var Tt=v(st),Bt=b(st);function Ot(Wt,br){var Sr=xt(Wt,br),gr=Sr[1],Ar=gr*Bt/(tt-1)+Tt;return[Sr[0]*Tt/Ar,gr/Ar]}return Ot.invert=function(Wt,br){var Sr=(tt-1)/(tt-1-br*Bt);return xt.invert(Sr*Wt,Sr*br*Tt)},Ot}function sl(){var tt=2,st=0,xt=(0,S.r)(au),Tt=xt(tt,st);return Tt.distance=function(Bt){return arguments.length?xt(tt=+Bt,st):tt},Tt.tilt=function(Bt){return arguments.length?xt(tt,st=Bt*i):st*M},Tt.scale(432.147).clipAngle(B(1/tt)*M-1e-6)}Zo.forEach(function(tt){tt[1]*=1.0144}),Xo.invert=function(tt,st){var xt=st/g,Tt=90*xt,Bt=o(18,k(Tt/5)),Ot=c(0,r(Bt));do{var Wt=Zo[Ot][1],br=Zo[Ot+1][1],Sr=Zo[o(19,Ot+2)][1],gr=Sr-Wt,Ar=Sr-2*br+Wt,_r=2*(k(xt)-br)/gr,en=Ar/gr,sn=_r*(1-en*_r*(1-2*en*_r));if(sn>=0||1===Ot){Tt=(st>=0?5:-5)*(sn+Bt);var Pn,cn=50;do{sn=(Bt=o(18,k(Tt)/5))-(Ot=r(Bt)),Wt=Zo[Ot][1],br=Zo[Ot+1][1],Sr=Zo[o(19,Ot+2)][1],Tt-=(Pn=(st>=0?g:-g)*(br+sn*(Sr-Wt)/2+sn*sn*(Sr-2*br+Wt)/2)-st)*M}while(k(Pn)>m&&--cn>0);break}}while(--Ot>=0);var ti=Zo[Ot][0],Si=Zo[Ot+1][0],Yi=Zo[o(19,Ot+2)][0];return[tt/(Si+sn*(Yi-ti)/2+sn*sn*(Yi-2*Si+ti)/2),Tt*i]};var Ts=1e-4,ll=1e4,Zl=-180,vf=Zl+Ts,Ku=180,ja=Ku-Ts,Ju=-90,Yc=Ju+Ts,mc=90,$u=mc-Ts;function Mh(tt){return tt.length>0}function Zc(tt){return Math.floor(tt*ll)/ll}function jf(tt){return tt===Ju||tt===mc?[0,tt]:[Zl,Zc(tt)]}function xc(tt){var st=tt[0],xt=tt[1],Tt=!1;return st<=vf?(st=Zl,Tt=!0):st>=ja&&(st=Ku,Tt=!0),xt<=Yc?(xt=Ju,Tt=!0):xt>=$u&&(xt=mc,Tt=!0),Tt?[st,xt]:tt}function Sh(tt){return tt.map(xc)}function ou(tt,st,xt){for(var Tt=0,Bt=tt.length;Tt<Bt;++Tt){var Ot=tt[Tt].slice();xt.push({index:-1,polygon:st,ring:Ot});for(var Wt=0,br=Ot.length;Wt<br;++Wt){var Sr=Ot[Wt],gr=Sr[0],Ar=Sr[1];if(gr<=vf||gr>=ja||Ar<=Yc||Ar>=$u){Ot[Wt]=xc(Sr);for(var _r=Wt+1;_r<br;++_r){var en=Ot[_r],sn=en[0],cn=en[1];if(sn>vf&&sn<ja&&cn>Yc&&cn<$u)break}if(_r===Wt+1)continue;if(Wt){var Pn={index:-1,polygon:st,ring:Ot.slice(0,Wt+1)};Pn.ring[Pn.ring.length-1]=jf(Ar),xt[xt.length-1]=Pn}else xt.pop();if(_r>=br)break;xt.push({index:-1,polygon:st,ring:Ot=Ot.slice(_r-1)}),Ot[0]=jf(Ot[0][1]),Wt=-1,br=Ot.length}}}}function Wf(tt){var st,Ot,Wt,br,Sr,gr,xt=tt.length,Tt={},Bt={};for(st=0;st<xt;++st)(Wt=(Ot=tt[st]).ring[0])[0]!==(Sr=Ot.ring[Ot.ring.length-1])[0]||Wt[1]!==Sr[1]?(Ot.index=st,Tt[Wt]=Bt[Sr]=Ot):(Ot.polygon.push(Ot.ring),tt[st]=null);for(st=0;st<xt;++st)if(Ot=tt[st]){if(br=Bt[Wt=Ot.ring[0]],gr=Tt[Sr=Ot.ring[Ot.ring.length-1]],delete Tt[Wt],delete Bt[Sr],Wt[0]===Sr[0]&&Wt[1]===Sr[1]){Ot.polygon.push(Ot.ring);continue}br?(delete Bt[Wt],delete Tt[br.ring[0]],br.ring.pop(),tt[br.index]=null,Ot={index:-1,polygon:br.polygon,ring:br.ring.concat(Ot.ring)},br===gr?Ot.polygon.push(Ot.ring):(Ot.index=xt++,tt.push(Tt[Ot.ring[0]]=Bt[Ot.ring[Ot.ring.length-1]]=Ot))):gr?(delete Tt[Sr],delete Bt[gr.ring[gr.ring.length-1]],Ot.ring.pop(),Ot={index:xt++,polygon:gr.polygon,ring:Ot.ring.concat(gr.ring)},tt[gr.index]=null,tt.push(Tt[Ot.ring[0]]=Bt[Ot.ring[Ot.ring.length-1]]=Ot)):(Ot.ring.push(Ot.ring[0]),Ot.polygon.push(Ot.ring))}}function Yf(tt){var st={type:"Feature",geometry:su(tt.geometry)};return null!=tt.id&&(st.id=tt.id),null!=tt.bbox&&(st.bbox=tt.bbox),null!=tt.properties&&(st.properties=tt.properties),st}function su(tt){if(null==tt)return tt;var st,xt,Tt,Bt;switch(tt.type){case"GeometryCollection":st={type:"GeometryCollection",geometries:tt.geometries.map(su)};break;case"Point":st={type:"Point",coordinates:xc(tt.coordinates)};break;case"MultiPoint":case"LineString":st={type:tt.type,coordinates:Sh(tt.coordinates)};break;case"MultiLineString":st={type:"MultiLineString",coordinates:tt.coordinates.map(Sh)};break;case"Polygon":var Ot=[];ou(tt.coordinates,Ot,xt=[]),Wf(xt),st={type:"Polygon",coordinates:Ot};break;case"MultiPolygon":xt=[],Tt=-1,Bt=tt.coordinates.length;for(var Wt=new Array(Bt);++Tt<Bt;)ou(tt.coordinates[Tt],Wt[Tt]=[],xt);Wf(xt),st={type:"MultiPolygon",coordinates:Wt.filter(Mh)};break;default:return tt}return null!=tt.bbox&&(st.bbox=tt.bbox),st}function Js(tt){if(null==tt)return tt;switch(tt.type){case"Feature":return Yf(tt);case"FeatureCollection":var st={type:"FeatureCollection",features:tt.features.map(Yf)};return null!=tt.bbox&&(st.bbox=tt.bbox),st;default:return su(tt)}}function Qu(tt,st){var xt=p(st/2),Tt=b(C*xt);return[tt*(.74482-.34588*Tt*Tt),1.70711*xt]}function Eu(){return(0,S.Z)(Qu).scale(146.153)}function Zf(tt,st,xt){var Tt=(0,Ma.Z)(st,xt),Bt=Tt(.5),Ot=(0,Re.Z)([-Bt[0],-Bt[1]])(st),Wt=Tt.distance/2,br=-y(b(Ot[1]*i)/b(Wt)),Sr=[-Bt[0],-Bt[1],-(Ot[0]>0?u-br:br)*M],gr=(0,S.Z)(tt(Wt)).rotate(Sr),Ar=(0,Re.Z)(Sr),_r=gr.center;return delete gr.rotate,gr.center=function(en){return arguments.length?_r(Ar(en)):Ar.invert(_r())},gr.clipAngle(90)}function pf(tt){var st=v(tt);function xt(Tt,Bt){var Ot=(0,Za.M)(Tt,Bt);return Ot[0]*=st,Ot}return xt.invert=function(Tt,Bt){return Za.M.invert(Tt/st,Bt)},xt}function lu(){return ul([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function ul(tt,st){return Zf(pf,tt,st)}function Eo(tt){if(!(tt*=2))return re.N;var st=-tt/2,xt=-st,Tt=tt*tt,Bt=p(xt),Ot=.5/b(xt);function Wt(br,Sr){var gr=B(v(Sr)*v(br-st)),Ar=B(v(Sr)*v(br-xt));return[((gr*=gr)-(Ar*=Ar))/(2*tt),(Sr<0?-1:1)*F(4*Tt*Ar-(Tt-gr+Ar)*(Tt-gr+Ar))/(2*tt)]}return Wt.invert=function(br,Sr){var en,sn,gr=Sr*Sr,Ar=v(F(gr+(en=br+st)*en)),_r=v(F(gr+(en=br+xt)*en));return[R(sn=Ar-_r,en=(Ar+_r)*Bt),(Sr<0?-1:1)*B(F(en*en+sn*sn)*Ot)]},Wt}function Xc(){return Oo([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Oo(tt,st){return Zf(Eo,tt,st)}function Dl(tt,st){if(k(st)<A)return[tt,0];var xt=k(st/g),Tt=y(xt);if(k(tt)<A||k(k(st)-g)<A)return[0,d(st)*u*p(Tt/2)];var Bt=v(Tt),Ot=k(u/tt-tt/u)/2,Wt=Ot*Ot,br=Bt/(xt+Bt-1),Sr=br*(2/xt-1),gr=Sr*Sr,Ar=gr+Wt,_r=br-gr,en=Wt+br;return[d(tt)*u*(Ot*_r+F(Wt*_r*_r-Ar*(br*br-gr)))/Ar,d(st)*u*(Sr*en-Ot*F((Wt+1)*Ar-en*en))/Ar]}function _o(){return(0,S.Z)(Dl).scale(79.4183)}function Xf(tt,st){if(k(st)<A)return[tt,0];var xt=k(st/g),Tt=y(xt);if(k(tt)<A||k(k(st)-g)<A)return[0,d(st)*u*p(Tt/2)];var Bt=v(Tt),Ot=k(u/tt-tt/u)/2,Wt=Ot*Ot,br=Bt*(F(1+Wt)-Ot*Bt)/(1+Wt*xt*xt);return[d(tt)*u*br,d(st)*u*F(1-br*(2*Ot+br))]}function Kc(){return(0,S.Z)(Xf).scale(79.4183)}function Du(tt,st){if(k(st)<A)return[tt,0];var xt=st/g,Tt=y(xt);if(k(tt)<A||k(k(st)-g)<A)return[0,u*p(Tt/2)];var Bt=(u/tt-tt/u)/2,Ot=xt/(1+v(Tt));return[u*(d(tt)*F(Bt*Bt+1-Ot*Ot)-Bt),u*Ot]}function Lu(){return(0,S.Z)(Du).scale(79.4183)}function Iu(tt,st){if(!st)return[tt,0];var xt=k(st);if(!tt||xt===g)return[0,st];var Tt=xt/g,Bt=Tt*Tt,Ot=(8*Tt-Bt*(Bt+2)-5)/(2*Bt*(Tt-1)),Wt=Ot*Ot,br=Tt*Ot,Sr=Bt+Wt+2*br,gr=Tt+3*Ot,Ar=tt/g,_r=Ar+1/Ar,en=d(k(tt)-g)*F(_r*_r-4),sn=en*en,Pn=(en*(Sr+Wt-1)+2*F(Sr*(Bt+Wt*sn-1)+(1-Bt)*(Bt*(gr*gr+4*Wt)+12*br*Wt+4*Wt*Wt)))/(4*Sr+sn);return[d(tt)*g*Pn,d(st)*g*F(1+en*k(Pn)-Pn*Pn)]}function qu(){return(0,S.Z)(Iu).scale(127.16)}function gf(tt,st,xt,Tt){var Bt=u/3;tt=c(tt,A),st=c(st,A),tt=o(tt,g),st=o(st,u-A),xt=c(xt,0),xt=o(xt,100-A);var Wt=(Tt=c(Tt,A))/100,br=B((xt/100+1)*v(Bt))/Bt,Sr=b(tt)/b(br*g),gr=st/u,Ar=F(Wt*b(tt/2)/b(st/2));return function Kf(tt,st,xt,Tt,Bt){function Ot(Wt,br){var Sr=xt*b(Tt*br),gr=F(1-Sr*Sr),Ar=F(2/(1+gr*v(Wt*=Bt)));return[tt*gr*Ar*b(Wt),st*Sr*Ar]}return Ot.invert=function(Wt,br){var Sr=Wt/tt,gr=br/st,Ar=F(Sr*Sr+gr*gr),_r=2*y(Ar/2);return[R(Wt*p(_r),tt*Ar)/Bt,Ar&&y(br*b(_r)/(st*xt*Ar))/Tt]},Ot}(Ar/F(gr*Sr*br),1/(Ar*F(gr*Sr*br)),Sr,br,gr)}function uu(){var tt=65*i,st=60*i,xt=20,Tt=200,Bt=(0,S.r)(gf),Ot=Bt(tt,st,xt,Tt);return Ot.poleline=function(Wt){return arguments.length?Bt(tt=+Wt*i,st,xt,Tt):tt*M},Ot.parallels=function(Wt){return arguments.length?Bt(tt,st=+Wt*i,xt,Tt):st*M},Ot.inflation=function(Wt){return arguments.length?Bt(tt,st,xt=+Wt,Tt):xt},Ot.ratio=function(Wt){return arguments.length?Bt(tt,st,xt,Tt=+Wt):Tt},Ot.scale(163.775)}function As(){return uu().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}Qu.invert=function(tt,st){var xt=st/1.70711,Tt=b(C*xt);return[tt/(.74482-.34588*Tt*Tt),2*l(xt)]},Dl.invert=function(tt,st){if(k(st)<A)return[tt,0];if(k(tt)<A)return[0,g*b(2*l(st/u))];var xt=(tt/=u)*tt,Tt=(st/=u)*st,Bt=xt+Tt,Ot=Bt*Bt,Wt=-k(st)*(1+Bt),br=Wt-2*Tt+xt,Sr=-2*Wt+1+2*Tt+Ot,gr=Tt/Sr+(2*br*br*br/(Sr*Sr*Sr)-9*Wt*br/(Sr*Sr))/27,Ar=(Wt-br*br/(3*Sr))/Sr,_r=2*F(-Ar/3),en=B(3*gr/(Ar*_r))/3;return[u*(Bt-1+F(1+2*(xt-Tt)+Ot))/(2*tt),d(st)*u*(-_r*v(en+u/3)-br/(3*Sr))]},Xf.invert=function(tt,st){if(!tt)return[0,g*b(2*l(st/u))];var xt=k(tt/u),Tt=(1-xt*xt-(st/=u)*st)/(2*xt),Ot=F(Tt*Tt+1);return[d(tt)*u*(Ot-Tt),d(st)*g*b(2*R(F((1-2*Tt*xt)*(Tt+Ot)-xt),F(Ot+Tt+xt)))]},Du.invert=function(tt,st){if(!st)return[tt,0];var xt=st/u,Tt=(u*u*(1-xt*xt)-tt*tt)/(2*u*tt);return[tt?u*(d(tt)*F(Tt*Tt+1)-Tt):0,g*b(2*l(xt))]},Iu.invert=function(tt,st){var xt;if(!tt||!st)return[tt,st];st/=u;var Tt=d(tt)*tt/g,Bt=(Tt*Tt-1+4*st*st)/k(Tt),Ot=Bt*Bt,Wt=2*st,br=50;do{var Sr=Wt*Wt,gr=(8*Wt-Sr*(Sr+2)-5)/(2*Sr*(Wt-1)),Ar=(3*Wt-Sr*Wt-10)/(2*Sr*Wt),_r=gr*gr,en=Wt*gr,sn=Wt+gr,cn=sn*sn,Pn=Wt+3*gr,Si=-2*sn*(4*en*_r+(1-4*Sr+3*Sr*Sr)*(1+Ar)+_r*(14*Sr-6-Ot+(8*Sr-8-2*Ot)*Ar)+en*(12*Sr-8+(10*Sr-10-Ot)*Ar)),Yi=F(cn*(Sr+_r*Ot-1)+(1-Sr)*(Sr*(Pn*Pn+4*_r)+_r*(12*en+4*_r)));Wt-=xt=(Bt*(cn+_r-1)+2*Yi-Tt*(4*cn+Ot))/(Bt*(2*gr*Ar+2*sn*(1+Ar))+Si/Yi-8*sn*(Bt*(-1+_r+cn)+2*Yi)*(1+Ar)/(Ot+4*cn))}while(xt>A&&--br>0);return[d(tt)*(F(Bt*Bt+4)+Bt)*u/4,g*Wt]};var Jf=4*u+3*F(3),Pu=2*F(2*u*F(3)/Jf),Ls=Ie(Pu*F(3)/u,Pu,Jf/6);function fl(){return(0,S.Z)(Ls).scale(176.84)}function fu(tt,st){return[tt*F(1-3*st*st/(u*u)),st]}function Ch(){return(0,S.Z)(fu).scale(152.63)}function bc(tt,st){var xt=v(st),Tt=v(tt)*xt,Bt=1-Tt,Ot=v(tt=R(b(tt)*xt,-b(st))),Wt=b(tt);return[Wt*(xt=F(1-Tt*Tt))-Ot*Bt,-Ot*xt-Wt*Bt]}function Eh(){return(0,S.Z)(bc).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function yf(tt,st){var xt=ee(tt,st);return[(xt[0]+tt/g)/2,(xt[1]+st)/2]}function wc(){return(0,S.Z)(yf).scale(158.837)}fu.invert=function(tt,st){return[tt/F(1-3*st*st/(u*u)),st]},bc.invert=function(tt,st){var xt=(tt*tt+st*st)/-2,Tt=F(-xt*(2+xt)),Bt=st*xt+tt*Tt,Ot=tt*xt-st*Tt,Wt=F(Ot*Ot+Bt*Bt);return[R(Tt*Bt,Wt*(1+xt)),Wt?-y(Tt*Ot/Wt):0]},yf.invert=function(tt,st){var xt=tt,Tt=st,Bt=25;do{var ti,Ot=v(Tt),Wt=b(Tt),br=b(2*Tt),Sr=Wt*Wt,gr=Ot*Ot,Ar=b(xt),_r=v(xt/2),en=b(xt/2),sn=en*en,cn=1-gr*_r*_r,Pn=cn?B(Ot*_r)*F(ti=1/cn):ti=0,Si=.5*(2*Pn*Ot*en+xt/g)-tt,Yi=.5*(Pn*Wt+Tt)-st,ji=.5*ti*(gr*sn+Pn*Ot*_r*Sr)+.5/g,$i=ti*(Ar*br/4-Pn*Wt*en),sa=.125*ti*(br*en-Pn*Wt*gr*Ar),Ha=.5*ti*(Sr*_r+Pn*sn*Ot)+.5,Wa=$i*sa-Ha*ji,Ci=(Yi*$i-Si*Ha)/Wa,ro=(Si*sa-Yi*ji)/Wa;xt-=Ci,Tt-=ro}while((k(Ci)>A||k(ro)>A)&&--Bt>0);return[xt,Tt]}},33940:function(oe,J,t){"use strict";function S(){return new k}function k(){this.reset()}t.d(J,{Z:function(){return S}}),k.prototype={constructor:k,reset:function(){this.s=this.t=0},add:function(I){R(l,I,this.t),R(this,l.s,this.s),this.s?this.t+=l.t:this.s=l.t},valueOf:function(){return this.s}};var l=new k;function R(I,v,w){var r=I.s=v+w,n=r-v;I.t=v-(r-n)+(w-n)}},97860:function(oe,J,t){"use strict";t.d(J,{L9:function(){return I},ZP:function(){return A},gL:function(){return f}});var w,r,n,c,o,S=t(33940),k=t(39695),l=t(73182),R=t(72736),I=(0,S.Z)(),v=(0,S.Z)(),f={point:l.Z,lineStart:l.Z,lineEnd:l.Z,polygonStart:function(){I.reset(),f.lineStart=h,f.lineEnd=d},polygonEnd:function(){var m=+I;v.add(m<0?k.BZ+m:m),this.lineStart=this.lineEnd=this.point=l.Z},sphere:function(){v.add(k.BZ)}};function h(){f.point=b}function d(){p(w,r)}function b(m,u){f.point=p,w=m,r=u,n=m*=k.uR,c=(0,k.mC)(u=(u*=k.uR)/2+k.pu),o=(0,k.O$)(u)}function p(m,u){var g=(m*=k.uR)-n,C=g>=0?1:-1,T=C*g,L=(0,k.mC)(u=(u*=k.uR)/2+k.pu),x=(0,k.O$)(u),E=o*x,M=c*L+E*(0,k.mC)(T),i=E*C*(0,k.O$)(T);I.add((0,k.fv)(i,M)),n=m,c=L,o=x}function A(m){return v.reset(),(0,R.Z)(m,f),2*v}},77338:function(oe,J,t){"use strict";t.d(J,{Z:function(){return D}});var v,w,r,n,c,o,f,h,b,p,S=t(33940),k=t(97860),l=t(7620),R=t(39695),I=t(72736),d=(0,S.Z)(),A={point:m,lineStart:g,lineEnd:C,polygonStart:function(){A.point=T,A.lineStart=L,A.lineEnd=x,d.reset(),k.gL.polygonStart()},polygonEnd:function(){k.gL.polygonEnd(),A.point=m,A.lineStart=g,A.lineEnd=C,k.L9<0?(v=-(r=180),w=-(n=90)):d>R.Ho?n=90:d<-R.Ho&&(w=-90),p[0]=v,p[1]=r},sphere:function(){v=-(r=180),w=-(n=90)}};function m(y,B){b.push(p=[v=y,r=y]),B<w&&(w=B),B>n&&(n=B)}function u(y,B){var F=(0,l.Og)([y*R.uR,B*R.uR]);if(h){var _=(0,l.T5)(h,F),V=(0,l.T5)([_[1],-_[0],0],_);(0,l.iJ)(V),V=(0,l.Y1)(V);var Y,H=y-c,U=H>0?1:-1,G=V[0]*R.RW*U,ee=(0,R.Wn)(H)>180;ee^(U*c<G&&G<U*y)?(Y=V[1]*R.RW)>n&&(n=Y):ee^(U*c<(G=(G+360)%360-180)&&G<U*y)?(Y=-V[1]*R.RW)<w&&(w=Y):(B<w&&(w=B),B>n&&(n=B)),ee?y<c?E(v,y)>E(v,r)&&(r=y):E(y,r)>E(v,r)&&(v=y):r>=v?(y<v&&(v=y),y>r&&(r=y)):y>c?E(v,y)>E(v,r)&&(r=y):E(y,r)>E(v,r)&&(v=y)}else b.push(p=[v=y,r=y]);B<w&&(w=B),B>n&&(n=B),h=F,c=y}function g(){A.point=u}function C(){p[0]=v,p[1]=r,A.point=m,h=null}function T(y,B){if(h){var F=y-c;d.add((0,R.Wn)(F)>180?F+(F>0?360:-360):F)}else o=y,f=B;k.gL.point(y,B),u(y,B)}function L(){k.gL.lineStart()}function x(){T(o,f),k.gL.lineEnd(),(0,R.Wn)(d)>R.Ho&&(v=-(r=180)),p[0]=v,p[1]=r,h=null}function E(y,B){return(B-=y)<0?B+360:B}function M(y,B){return y[0]-B[0]}function i(y,B){return y[0]<=y[1]?y[0]<=B&&B<=y[1]:B<y[0]||y[1]<B}function D(y){var B,F,_,z,V,H,U;if(n=r=-(v=w=1/0),b=[],(0,I.Z)(y,A),F=b.length){for(b.sort(M),B=1,V=[_=b[0]];B<F;++B)i(_,(z=b[B])[0])||i(_,z[1])?(E(_[0],z[1])>E(_[0],_[1])&&(_[1]=z[1]),E(z[0],_[1])>E(_[0],_[1])&&(_[0]=z[0])):V.push(_=z);for(H=-1/0,B=0,_=V[F=V.length-1];B<=F;_=z,++B)(U=E(_[1],(z=V[B])[0]))>H&&(H=U,v=z[0],r=_[1])}return b=p=null,v===1/0||w===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,w],[r,n]]}},7620:function(oe,J,t){"use strict";t.d(J,{Og:function(){return l},T:function(){return w},T5:function(){return I},Y1:function(){return k},iJ:function(){return r},j9:function(){return R},s0:function(){return v}});var S=t(39695);function k(n){return[(0,S.fv)(n[1],n[0]),(0,S.ZR)(n[2])]}function l(n){var c=n[0],o=n[1],f=(0,S.mC)(o);return[f*(0,S.mC)(c),f*(0,S.O$)(c),(0,S.O$)(o)]}function R(n,c){return n[0]*c[0]+n[1]*c[1]+n[2]*c[2]}function I(n,c){return[n[1]*c[2]-n[2]*c[1],n[2]*c[0]-n[0]*c[2],n[0]*c[1]-n[1]*c[0]]}function v(n,c){n[0]+=c[0],n[1]+=c[1],n[2]+=c[2]}function w(n,c){return[n[0]*c,n[1]*c,n[2]*c]}function r(n){var c=(0,S._b)(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=c,n[1]/=c,n[2]/=c}},66624:function(oe,J,t){"use strict";t.d(J,{Z:function(){return F}});var R,I,v,w,r,n,c,o,f,h,d,b,p,A,m,u,S=t(39695),k=t(73182),l=t(72736),g={sphere:k.Z,point:C,lineStart:L,lineEnd:M,polygonStart:function(){g.lineStart=i,g.lineEnd=D},polygonEnd:function(){g.lineStart=L,g.lineEnd=M}};function C(_,z){_*=S.uR;var V=(0,S.mC)(z*=S.uR);T(V*(0,S.mC)(_),V*(0,S.O$)(_),(0,S.O$)(z))}function T(_,z,V){++R,v+=(_-v)/R,w+=(z-w)/R,r+=(V-r)/R}function L(){g.point=x}function x(_,z){_*=S.uR;var V=(0,S.mC)(z*=S.uR);A=V*(0,S.mC)(_),m=V*(0,S.O$)(_),u=(0,S.O$)(z),g.point=E,T(A,m,u)}function E(_,z){_*=S.uR;var V=(0,S.mC)(z*=S.uR),H=V*(0,S.mC)(_),U=V*(0,S.O$)(_),G=(0,S.O$)(z),Y=(0,S.fv)((0,S._b)((Y=m*G-u*U)*Y+(Y=u*H-A*G)*Y+(Y=A*U-m*H)*Y),A*H+m*U+u*G);I+=Y,n+=Y*(A+(A=H)),c+=Y*(m+(m=U)),o+=Y*(u+(u=G)),T(A,m,u)}function M(){g.point=C}function i(){g.point=y}function D(){B(b,p),g.point=C}function y(_,z){b=_,p=z,_*=S.uR,z*=S.uR,g.point=B;var V=(0,S.mC)(z);A=V*(0,S.mC)(_),m=V*(0,S.O$)(_),u=(0,S.O$)(z),T(A,m,u)}function B(_,z){_*=S.uR;var V=(0,S.mC)(z*=S.uR),H=V*(0,S.mC)(_),U=V*(0,S.O$)(_),G=(0,S.O$)(z),Y=m*G-u*U,ee=u*H-A*G,ue=A*U-m*H,ce=(0,S._b)(Y*Y+ee*ee+ue*ue),pe=(0,S.ZR)(ce),te=ce&&-pe/ce;f+=te*Y,h+=te*ee,d+=te*ue,I+=pe,n+=pe*(A+(A=H)),c+=pe*(m+(m=U)),o+=pe*(u+(u=G)),T(A,m,u)}function F(_){R=I=v=w=r=n=c=o=f=h=d=0,(0,l.Z)(_,g);var z=f,V=h,H=d,U=z*z+V*V+H*H;return U<S.aW&&(z=n,V=c,H=o,I<S.Ho&&(z=v,V=w,H=r),(U=z*z+V*V+H*H)<S.aW)?[NaN,NaN]:[(0,S.fv)(V,z)*S.RW,(0,S.ZR)(H/(0,S._b)(U))*S.RW]}},7613:function(oe,J,t){"use strict";t.d(J,{m:function(){return I},Z:function(){return w}});var S=t(7620);function k(r){return function(){return r}}var l=t(39695),R=t(49386);function I(r,n,c,o,f,h){if(c){var d=(0,l.mC)(n),b=(0,l.O$)(n),p=o*c;null==f?(f=n+o*l.BZ,h=n-p/2):(f=v(d,f),h=v(d,h),(o>0?f<h:f>h)&&(f+=o*l.BZ));for(var A,m=f;o>0?m>h:m<h;m-=p)A=(0,S.Y1)([d,-b*(0,l.mC)(m),-b*(0,l.O$)(m)]),r.point(A[0],A[1])}}function v(r,n){(n=(0,S.Og)(n))[0]-=r,(0,S.iJ)(n);var c=(0,l.Kh)(-n[1]);return((-n[2]<0?-c:c)+l.BZ-l.Ho)%l.BZ}function w(){var o,f,r=k([0,0]),n=k(90),c=k(6),h={point:function d(p,A){o.push(p=f(p,A)),p[0]*=l.RW,p[1]*=l.RW}};function b(){var p=r.apply(this,arguments),A=n.apply(this,arguments)*l.uR,m=c.apply(this,arguments)*l.uR;return o=[],f=(0,R.I)(-p[0]*l.uR,-p[1]*l.uR,0).invert,I(h,A,m,1),p={type:"Polygon",coordinates:[o]},o=f=null,p}return b.center=function(p){return arguments.length?(r="function"==typeof p?p:k([+p[0],+p[1]]),b):r},b.radius=function(p){return arguments.length?(n="function"==typeof p?p:k(+p),b):n},b.precision=function(p){return arguments.length?(c="function"==typeof p?p:k(+p),b):c},b}},87070:function(oe,J,t){"use strict";var S=t(97023),k=t(39695);J.Z=(0,S.Z)(function(){return!0},function l(v){var c,w=NaN,r=NaN,n=NaN;return{lineStart:function(){v.lineStart(),c=1},point:function(o,f){var h=o>0?k.pi:-k.pi,d=(0,k.Wn)(o-w);(0,k.Wn)(d-k.pi)<k.Ho?(v.point(w,r=(r+f)/2>0?k.ou:-k.ou),v.point(n,r),v.lineEnd(),v.lineStart(),v.point(h,r),v.point(o,r),c=0):n!==h&&d>=k.pi&&((0,k.Wn)(w-n)<k.Ho&&(w-=n*k.Ho),(0,k.Wn)(o-h)<k.Ho&&(o-=h*k.Ho),r=function R(v,w,r,n){var c,o,f=(0,k.O$)(v-r);return(0,k.Wn)(f)>k.Ho?(0,k.z4)(((0,k.O$)(w)*(o=(0,k.mC)(n))*(0,k.O$)(r)-(0,k.O$)(n)*(c=(0,k.mC)(w))*(0,k.O$)(v))/(c*o*f)):(w+n)/2}(w,r,o,f),v.point(n,r),v.lineEnd(),v.lineStart(),v.point(h,r),c=0),v.point(w=o,r=f),n=h},lineEnd:function(){v.lineEnd(),w=r=NaN},clean:function(){return 2-c}}},function I(v,w,r,n){var c;if(null==v)n.point(-k.pi,c=r*k.ou),n.point(0,c),n.point(k.pi,c),n.point(k.pi,0),n.point(k.pi,-c),n.point(0,-c),n.point(-k.pi,-c),n.point(-k.pi,0),n.point(-k.pi,c);else if((0,k.Wn)(v[0]-w[0])>k.Ho){var o=v[0]<w[0]?k.pi:-k.pi;n.point(-o,c=r*o/2),n.point(0,c),n.point(o,c)}else n.point(w[0],w[1])},[-k.pi,-k.ou])},85272:function(oe,J,t){"use strict";t.d(J,{Z:function(){return k}});var S=t(73182);function k(){var R,l=[];return{point:function(I,v,w){R.push([I,v,w])},lineStart:function(){l.push(R=[])},lineEnd:S.Z,rejoin:function(){l.length>1&&l.push(l.pop().concat(l.shift()))},result:function(){var I=l;return l=[],R=null,I}}}},1457:function(oe,J,t){"use strict";t.d(J,{Z:function(){return v}});var S=t(7620),k=t(7613),l=t(39695),R=t(67108),I=t(97023);function v(w){var r=(0,l.mC)(w),n=6*l.uR,c=r>0,o=(0,l.Wn)(r)>l.Ho;function h(A,m){return(0,l.mC)(A)*(0,l.mC)(m)>r}function b(A,m,u){var g=(0,S.Og)(A),C=(0,S.Og)(m),T=[1,0,0],L=(0,S.T5)(g,C),x=(0,S.j9)(L,L),E=L[0],M=x-E*E;if(!M)return!u&&A;var i=r*x/M,D=-r*E/M,y=(0,S.T5)(T,L),B=(0,S.T)(T,i),F=(0,S.T)(L,D);(0,S.s0)(B,F);var _=y,z=(0,S.j9)(B,_),V=(0,S.j9)(_,_),H=z*z-V*((0,S.j9)(B,B)-1);if(!(H<0)){var U=(0,l._b)(H),G=(0,S.T)(_,(-z-U)/V);if((0,S.s0)(G,B),G=(0,S.Y1)(G),!u)return G;var pe,Y=A[0],ee=m[0],ue=A[1],ce=m[1];ee<Y&&(pe=Y,Y=ee,ee=pe);var te=ee-Y,Q=(0,l.Wn)(te-l.pi)<l.Ho;if(!Q&&ce<ue&&(pe=ue,ue=ce,ce=pe),Q||te<l.Ho?Q?ue+ce>0^G[1]<((0,l.Wn)(G[0]-Y)<l.Ho?ue:ce):ue<=G[1]&&G[1]<=ce:te>l.pi^(Y<=G[0]&&G[0]<=ee)){var Z=(0,S.T)(_,(-z+U)/V);return(0,S.s0)(Z,B),[G,(0,S.Y1)(Z)]}}}function p(A,m){var u=c?w:l.pi-w,g=0;return A<-u?g|=1:A>u&&(g|=2),m<-u?g|=4:m>u&&(g|=8),g}return(0,I.Z)(h,function d(A){var m,u,g,C,T;return{lineStart:function(){C=g=!1,T=1},point:function(L,x){var M,E=[L,x],i=h(L,x),D=c?i?0:p(L,x):i?p(L+(L<0?l.pi:-l.pi),x):0;if(!m&&(C=g=i)&&A.lineStart(),i!==g&&(!(M=b(m,E))||(0,R.Z)(m,M)||(0,R.Z)(E,M))&&(E[2]=1),i!==g)T=0,i?(A.lineStart(),M=b(E,m),A.point(M[0],M[1])):(M=b(m,E),A.point(M[0],M[1],2),A.lineEnd()),m=M;else if(o&&m&&c^i){var y;!(D&u)&&(y=b(E,m,!0))&&(T=0,c?(A.lineStart(),A.point(y[0][0],y[0][1]),A.point(y[1][0],y[1][1]),A.lineEnd()):(A.point(y[1][0],y[1][1]),A.lineEnd(),A.lineStart(),A.point(y[0][0],y[0][1],3)))}i&&(!m||!(0,R.Z)(m,E))&&A.point(E[0],E[1]),m=E,g=i,u=D},lineEnd:function(){g&&A.lineEnd(),m=null},clean:function(){return T|(C&&g)<<1}}},function f(A,m,u,g){(0,k.m)(g,w,n,u,A,m)},c?[0,-w]:[-l.pi,w-l.pi])}},97023:function(oe,J,t){"use strict";t.d(J,{Z:function(){return v}});var S=t(85272),k=t(46225),l=t(39695),R=t(23071),I=t(33064);function v(n,c,o,f){return function(h){var m,u,g,d=c(h),b=(0,S.Z)(),p=c(b),A=!1,C={point:T,lineStart:x,lineEnd:E,polygonStart:function(){C.point=M,C.lineStart=i,C.lineEnd=D,u=[],m=[]},polygonEnd:function(){C.point=T,C.lineStart=x,C.lineEnd=E,u=(0,I.TS)(u);var y=(0,R.Z)(m,f);u.length?(A||(h.polygonStart(),A=!0),(0,k.Z)(u,r,y,o,h)):y&&(A||(h.polygonStart(),A=!0),h.lineStart(),o(null,null,1,h),h.lineEnd()),A&&(h.polygonEnd(),A=!1),u=m=null},sphere:function(){h.polygonStart(),h.lineStart(),o(null,null,1,h),h.lineEnd(),h.polygonEnd()}};function T(y,B){n(y,B)&&h.point(y,B)}function L(y,B){d.point(y,B)}function x(){C.point=L,d.lineStart()}function E(){C.point=T,d.lineEnd()}function M(y,B){g.push([y,B]),p.point(y,B)}function i(){p.lineStart(),g=[]}function D(){M(g[0][0],g[0][1]),p.lineEnd();var F,z,V,H,y=p.clean(),B=b.result(),_=B.length;if(g.pop(),m.push(g),g=null,_){if(1&y){if((z=(V=B[0]).length-1)>0){for(A||(h.polygonStart(),A=!0),h.lineStart(),F=0;F<z;++F)h.point((H=V[F])[0],H[1]);h.lineEnd()}return}_>1&&2&y&&B.push(B.pop().concat(B.shift())),u.push(B.filter(w))}}return C}}function w(n){return n.length>1}function r(n,c){return((n=n.x)[0]<0?n[1]-l.ou-l.Ho:l.ou-n[1])-((c=c.x)[0]<0?c[1]-l.ou-l.Ho:l.ou-c[1])}},87605:function(oe,J,t){"use strict";t.d(J,{Z:function(){return r}});var S=t(39695),k=t(85272);var R=t(46225),I=t(33064),v=1e9,w=-v;function r(n,c,o,f){function h(m,u){return n<=m&&m<=o&&c<=u&&u<=f}function d(m,u,g,C){var T=0,L=0;if(null==m||(T=b(m,g))!==(L=b(u,g))||A(m,u)<0^g>0)do{C.point(0===T||3===T?n:o,T>1?f:c)}while((T=(T+g+4)%4)!==L);else C.point(u[0],u[1])}function b(m,u){return(0,S.Wn)(m[0]-n)<S.Ho?u>0?0:3:(0,S.Wn)(m[0]-o)<S.Ho?u>0?2:1:(0,S.Wn)(m[1]-c)<S.Ho?u>0?1:0:u>0?3:2}function p(m,u){return A(m.x,u.x)}function A(m,u){var g=b(m,1),C=b(u,1);return g!==C?g-C:0===g?u[1]-m[1]:1===g?m[0]-u[0]:2===g?m[1]-u[1]:u[0]-m[0]}return function(m){var C,T,L,x,E,M,i,D,y,B,F,u=m,g=(0,k.Z)(),_={point:z,lineStart:function G(){_.point=ee,T&&T.push(L=[]),B=!0,y=!1,i=D=NaN},lineEnd:function Y(){C&&(ee(x,E),M&&y&&g.rejoin(),C.push(g.result())),_.point=z,y&&u.lineEnd()},polygonStart:function H(){u=g,C=[],T=[],F=!0},polygonEnd:function U(){var ue=function V(){for(var ue=0,ce=0,pe=T.length;ce<pe;++ce)for(var q,fe,te=T[ce],Q=1,K=te.length,Z=te[0],re=Z[0],$=Z[1];Q<K;++Q)q=re,fe=$,re=(Z=te[Q])[0],$=Z[1],fe<=f?$>f&&(re-q)*(f-fe)>($-fe)*(n-q)&&++ue:$<=f&&(re-q)*(f-fe)<($-fe)*(n-q)&&--ue;return ue}(),ce=F&&ue,pe=(C=(0,I.TS)(C)).length;(ce||pe)&&(m.polygonStart(),ce&&(m.lineStart(),d(null,null,1,m),m.lineEnd()),pe&&(0,R.Z)(C,p,ue,d,m),m.polygonEnd()),u=m,C=T=L=null}};function z(ue,ce){h(ue,ce)&&u.point(ue,ce)}function ee(ue,ce){var pe=h(ue,ce);if(T&&L.push([ue,ce]),B)x=ue,E=ce,M=pe,B=!1,pe&&(u.lineStart(),u.point(ue,ce));else if(pe&&y)u.point(ue,ce);else{var te=[i=Math.max(w,Math.min(v,i)),D=Math.max(w,Math.min(v,D))],Q=[ue=Math.max(w,Math.min(v,ue)),ce=Math.max(w,Math.min(v,ce))];!function l(n,c,o,f,h,d){var L,b=n[0],p=n[1],u=0,g=1,C=c[0]-b,T=c[1]-p;if(L=o-b,C||!(L>0)){if(L/=C,C<0){if(L<u)return;L<g&&(g=L)}else if(C>0){if(L>g)return;L>u&&(u=L)}if(L=h-b,C||!(L<0)){if(L/=C,C<0){if(L>g)return;L>u&&(u=L)}else if(C>0){if(L<u)return;L<g&&(g=L)}if(L=f-p,T||!(L>0)){if(L/=T,T<0){if(L<u)return;L<g&&(g=L)}else if(T>0){if(L>g)return;L>u&&(u=L)}if(L=d-p,T||!(L<0)){if(L/=T,T<0){if(L>g)return;L>u&&(u=L)}else if(T>0){if(L<u)return;L<g&&(g=L)}return u>0&&(n[0]=b+u*C,n[1]=p+u*T),g<1&&(c[0]=b+g*C,c[1]=p+g*T),!0}}}}}(te,Q,n,c,o,f)?pe&&(u.lineStart(),u.point(ue,ce),F=!1):(y||(u.lineStart(),u.point(te[0],te[1])),u.point(Q[0],Q[1]),pe||u.lineEnd(),F=!1)}i=ue,D=ce,y=pe}return _}}},46225:function(oe,J,t){"use strict";t.d(J,{Z:function(){return R}});var S=t(67108),k=t(39695);function l(v,w,r,n){this.x=v,this.z=w,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function R(v,w,r,n,c){var h,d,o=[],f=[];if(v.forEach(function(g){if(!((C=g.length-1)<=0)){var C,x,T=g[0],L=g[C];if((0,S.Z)(T,L)){if(!T[2]&&!L[2]){for(c.lineStart(),h=0;h<C;++h)c.point((T=g[h])[0],T[1]);return void c.lineEnd()}L[0]+=2*k.Ho}o.push(x=new l(T,g,null,!0)),f.push(x.o=new l(T,null,x,!1)),o.push(x=new l(L,g,null,!1)),f.push(x.o=new l(L,null,x,!0))}}),o.length){for(f.sort(w),I(o),I(f),h=0,d=f.length;h<d;++h)f[h].e=r=!r;for(var p,A,b=o[0];;){for(var m=b,u=!0;m.v;)if((m=m.n)===b)return;p=m.z,c.lineStart();do{if(m.v=m.o.v=!0,m.e){if(u)for(h=0,d=p.length;h<d;++h)c.point((A=p[h])[0],A[1]);else n(m.x,m.n.x,1,c);m=m.n}else{if(u)for(h=(p=m.p.z).length-1;h>=0;--h)c.point((A=p[h])[0],A[1]);else n(m.x,m.p.x,-1,c);m=m.p}p=(m=m.o).z,u=!u}while(!m.v);c.lineEnd()}}}function I(v){if(w=v.length){for(var w,c,r=0,n=v[0];++r<w;)n.n=c=v[r],c.p=n,n=c;n.n=c=v[0],c.p=n}}},96059:function(oe,J,t){"use strict";function S(k,l){function R(I,v){return I=k(I,v),l(I[0],I[1])}return k.invert&&l.invert&&(R.invert=function(I,v){return(I=l.invert(I,v))&&k.invert(I[0],I[1])}),R}t.d(J,{Z:function(){return S}})},8593:function(oe,J,t){"use strict";function S(k){return k}t.d(J,{Z:function(){return S}})},27362:function(oe,J,t){"use strict";t.r(J),t.d(J,{geoAlbers:function(){return Lr},geoAlbersUsa:function(){return ct},geoArea:function(){return S.ZP},geoAzimuthalEqualArea:function(){return At.Z},geoAzimuthalEqualAreaRaw:function(){return At.l},geoAzimuthalEquidistant:function(){return It.Z},geoAzimuthalEquidistantRaw:function(){return It.N},geoBounds:function(){return k.Z},geoCentroid:function(){return l.Z},geoCircle:function(){return R.Z},geoClipAntimeridian:function(){return I.Z},geoClipCircle:function(){return v.Z},geoClipExtent:function(){return r},geoClipRectangle:function(){return w.Z},geoConicConformal:function(){return hr},geoConicConformalRaw:function(){return dr},geoConicEqualArea:function(){return rr},geoConicEqualAreaRaw:function(){return $t},geoConicEquidistant:function(){return Ze},geoConicEquidistantRaw:function(){return $e},geoContains:function(){return H},geoDistance:function(){return M},geoEqualEarth:function(){return pr},geoEqualEarthRaw:function(){return Ht},geoEquirectangular:function(){return wr.Z},geoEquirectangularRaw:function(){return wr.k},geoGnomonic:function(){return xr.Z},geoGnomonicRaw:function(){return xr.M},geoGraticule:function(){return ee},geoGraticule10:function(){return ue},geoIdentity:function(){return kr},geoInterpolate:function(){return ce.Z},geoLength:function(){return L},geoMercator:function(){return Gt},geoMercatorRaw:function(){return Rt},geoNaturalEarth1:function(){return un.Z},geoNaturalEarth1Raw:function(){return un.K},geoOrthographic:function(){return Nr.Z},geoOrthographicRaw:function(){return Nr.I},geoPath:function(){return Ut},geoProjection:function(){return Qt.Z},geoProjectionMutator:function(){return Qt.r},geoRotation:function(){return Ft.Z},geoStereographic:function(){return Qr},geoStereographicRaw:function(){return $r},geoStream:function(){return h.Z},geoTransform:function(){return Mr.Z},geoTransverseMercator:function(){return An},geoTransverseMercatorRaw:function(){return Wn}});var S=t(97860),k=t(77338),l=t(66624),R=t(7613),I=t(87070),v=t(1457),w=t(87605);function r(){var an,Cn,En,Tr=0,nr=0,Xr=960,Ur=500;return En={stream:function(Fn){return an&&Cn===Fn?an:an=(0,w.Z)(Tr,nr,Xr,Ur)(Cn=Fn)},extent:function(Fn){return arguments.length?(Tr=+Fn[0][0],nr=+Fn[0][1],Xr=+Fn[1][0],Ur=+Fn[1][1],an=Cn=null,En):[[Tr,nr],[Xr,Ur]]}}}var b,p,A,n=t(23071),c=t(33940),o=t(39695),f=t(73182),h=t(72736),d=(0,c.Z)(),m={sphere:f.Z,point:f.Z,lineStart:function u(){m.point=C,m.lineEnd=g},lineEnd:f.Z,polygonStart:f.Z,polygonEnd:f.Z};function g(){m.point=m.lineEnd=f.Z}function C(Tr,nr){b=Tr*=o.uR,p=(0,o.O$)(nr*=o.uR),A=(0,o.mC)(nr),m.point=T}function T(Tr,nr){Tr*=o.uR;var Xr=(0,o.O$)(nr*=o.uR),Ur=(0,o.mC)(nr),an=(0,o.Wn)(Tr-b),Cn=(0,o.mC)(an),Fn=Ur*(0,o.O$)(an),Vn=A*Xr-p*Ur*Cn,vi=p*Xr+A*Ur*Cn;d.add((0,o.fv)((0,o._b)(Fn*Fn+Vn*Vn),vi)),b=Tr,p=Xr,A=Ur}function L(Tr){return d.reset(),(0,h.Z)(Tr,m),+d}var x=[null,null],E={type:"LineString",coordinates:x};function M(Tr,nr){return x[0]=Tr,x[1]=nr,L(E)}var i={Feature:function(Tr,nr){return y(Tr.geometry,nr)},FeatureCollection:function(Tr,nr){for(var Xr=Tr.features,Ur=-1,an=Xr.length;++Ur<an;)if(y(Xr[Ur].geometry,nr))return!0;return!1}},D={Sphere:function(){return!0},Point:function(Tr,nr){return B(Tr.coordinates,nr)},MultiPoint:function(Tr,nr){for(var Xr=Tr.coordinates,Ur=-1,an=Xr.length;++Ur<an;)if(B(Xr[Ur],nr))return!0;return!1},LineString:function(Tr,nr){return F(Tr.coordinates,nr)},MultiLineString:function(Tr,nr){for(var Xr=Tr.coordinates,Ur=-1,an=Xr.length;++Ur<an;)if(F(Xr[Ur],nr))return!0;return!1},Polygon:function(Tr,nr){return _(Tr.coordinates,nr)},MultiPolygon:function(Tr,nr){for(var Xr=Tr.coordinates,Ur=-1,an=Xr.length;++Ur<an;)if(_(Xr[Ur],nr))return!0;return!1},GeometryCollection:function(Tr,nr){for(var Xr=Tr.geometries,Ur=-1,an=Xr.length;++Ur<an;)if(y(Xr[Ur],nr))return!0;return!1}};function y(Tr,nr){return!(!Tr||!D.hasOwnProperty(Tr.type))&&D[Tr.type](Tr,nr)}function B(Tr,nr){return 0===M(Tr,nr)}function F(Tr,nr){for(var Xr,Ur,an,Cn=0,En=Tr.length;Cn<En;Cn++){if(0===(Ur=M(Tr[Cn],nr))||Cn>0&&(an=M(Tr[Cn],Tr[Cn-1]))>0&&Xr<=an&&Ur<=an&&(Xr+Ur-an)*(1-Math.pow((Xr-Ur)/an,2))<o.aW*an)return!0;Xr=Ur}return!1}function _(Tr,nr){return!!(0,n.Z)(Tr.map(z),V(nr))}function z(Tr){return(Tr=Tr.map(V)).pop(),Tr}function V(Tr){return[Tr[0]*o.uR,Tr[1]*o.uR]}function H(Tr,nr){return(Tr&&i.hasOwnProperty(Tr.type)?i[Tr.type]:y)(Tr,nr)}var U=t(33064);function G(Tr,nr,Xr){var Ur=(0,U.w6)(Tr,nr-o.Ho,Xr).concat(nr);return function(an){return Ur.map(function(Cn){return[an,Cn]})}}function Y(Tr,nr,Xr){var Ur=(0,U.w6)(Tr,nr-o.Ho,Xr).concat(nr);return function(an){return Ur.map(function(Cn){return[Cn,an]})}}function ee(){var Tr,nr,Xr,Ur,an,Cn,En,Fn,si,hi,Ir,gn,Vn=10,vi=Vn,li=90,bi=360,pn=2.5;function Dn(){return{type:"MultiLineString",coordinates:qn()}}function qn(){return(0,U.w6)((0,o.mD)(Ur/li)*li,Xr,li).map(Ir).concat((0,U.w6)((0,o.mD)(Fn/bi)*bi,En,bi).map(gn)).concat((0,U.w6)((0,o.mD)(nr/Vn)*Vn,Tr,Vn).filter(function(Nn){return(0,o.Wn)(Nn%li)>o.Ho}).map(si)).concat((0,U.w6)((0,o.mD)(Cn/vi)*vi,an,vi).filter(function(Nn){return(0,o.Wn)(Nn%bi)>o.Ho}).map(hi))}return Dn.lines=function(){return qn().map(function(Nn){return{type:"LineString",coordinates:Nn}})},Dn.outline=function(){return{type:"Polygon",coordinates:[Ir(Ur).concat(gn(En).slice(1),Ir(Xr).reverse().slice(1),gn(Fn).reverse().slice(1))]}},Dn.extent=function(Nn){return arguments.length?Dn.extentMajor(Nn).extentMinor(Nn):Dn.extentMinor()},Dn.extentMajor=function(Nn){return arguments.length?(Fn=+Nn[0][1],En=+Nn[1][1],(Ur=+Nn[0][0])>(Xr=+Nn[1][0])&&(Nn=Ur,Ur=Xr,Xr=Nn),Fn>En&&(Nn=Fn,Fn=En,En=Nn),Dn.precision(pn)):[[Ur,Fn],[Xr,En]]},Dn.extentMinor=function(Nn){return arguments.length?(Cn=+Nn[0][1],an=+Nn[1][1],(nr=+Nn[0][0])>(Tr=+Nn[1][0])&&(Nn=nr,nr=Tr,Tr=Nn),Cn>an&&(Nn=Cn,Cn=an,an=Nn),Dn.precision(pn)):[[nr,Cn],[Tr,an]]},Dn.step=function(Nn){return arguments.length?Dn.stepMajor(Nn).stepMinor(Nn):Dn.stepMinor()},Dn.stepMajor=function(Nn){return arguments.length?(li=+Nn[0],bi=+Nn[1],Dn):[li,bi]},Dn.stepMinor=function(Nn){return arguments.length?(Vn=+Nn[0],vi=+Nn[1],Dn):[Vn,vi]},Dn.precision=function(Nn){return arguments.length?(pn=+Nn,si=G(Cn,an,90),hi=Y(nr,Tr,pn),Ir=G(Fn,En,90),gn=Y(Ur,Xr,pn),Dn):pn},Dn.extentMajor([[-180,-90+o.Ho],[180,90-o.Ho]]).extentMinor([[-180,-80-o.Ho],[180,80+o.Ho]])}function ue(){return ee()()}var K,Z,q,fe,ce=t(83074),pe=t(8593),te=(0,c.Z)(),Q=(0,c.Z)(),re={point:f.Z,lineStart:f.Z,lineEnd:f.Z,polygonStart:function(){re.lineStart=$,re.lineEnd=de},polygonEnd:function(){re.lineStart=re.lineEnd=re.point=f.Z,te.add((0,o.Wn)(Q)),Q.reset()},result:function(){var Tr=te/2;return te.reset(),Tr}};function $(){re.point=le}function le(Tr,nr){re.point=se,K=q=Tr,Z=fe=nr}function se(Tr,nr){Q.add(fe*Tr-q*nr),q=Tr,fe=nr}function de(){se(K,Z)}var Ke,ut,ot,We,we=re,Ee=t(3559),Me=0,Ne=0,Ve=0,Pe=0,Ce=0,Ie=0,Je=0,Qe=0,ze=0,je={point:lt,lineStart:vt,lineEnd:Ct,polygonStart:function(){je.lineStart=_t,je.lineEnd=nt},polygonEnd:function(){je.point=lt,je.lineStart=vt,je.lineEnd=Ct},result:function(){var Tr=ze?[Je/ze,Qe/ze]:Ie?[Pe/Ie,Ce/Ie]:Ve?[Me/Ve,Ne/Ve]:[NaN,NaN];return Me=Ne=Ve=Pe=Ce=Ie=Je=Qe=ze=0,Tr}};function lt(Tr,nr){Me+=Tr,Ne+=nr,++Ve}function vt(){je.point=pt}function pt(Tr,nr){je.point=St,lt(ot=Tr,We=nr)}function St(Tr,nr){var Xr=Tr-ot,Ur=nr-We,an=(0,o._b)(Xr*Xr+Ur*Ur);Pe+=an*(ot+Tr)/2,Ce+=an*(We+nr)/2,Ie+=an,lt(ot=Tr,We=nr)}function Ct(){je.point=lt}function _t(){je.point=ke}function nt(){Re(Ke,ut)}function ke(Tr,nr){je.point=Re,lt(Ke=ot=Tr,ut=We=nr)}function Re(Tr,nr){var Xr=Tr-ot,Ur=nr-We,an=(0,o._b)(Xr*Xr+Ur*Ur);Pe+=an*(ot+Tr)/2,Ce+=an*(We+nr)/2,Ie+=an,Je+=(an=We*Tr-ot*nr)*(ot+Tr),Qe+=an*(We+nr),ze+=3*an,lt(ot=Tr,We=nr)}var Be=je;function He(Tr){this._context=Tr}He.prototype={_radius:4.5,pointRadius:function(Tr){return this._radius=Tr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(Tr,nr){switch(this._point){case 0:this._context.moveTo(Tr,nr),this._point=1;break;case 1:this._context.lineTo(Tr,nr);break;default:this._context.moveTo(Tr+this._radius,nr),this._context.arc(Tr,nr,this._radius,0,o.BZ)}},result:f.Z};var Ue,De,ge,Te,_e,Ye=(0,c.Z)(),et={point:f.Z,lineStart:function(){et.point=ft},lineEnd:function(){Ue&&gt(De,ge),et.point=f.Z},polygonStart:function(){Ue=!0},polygonEnd:function(){Ue=null},result:function(){var Tr=+Ye;return Ye.reset(),Tr}};function ft(Tr,nr){et.point=gt,De=Te=Tr,ge=_e=nr}function gt(Tr,nr){Ye.add((0,o._b)((Te-=Tr)*Te+(_e-=nr)*_e)),Te=Tr,_e=nr}var Kt=et;function ir(){this._string=[]}function Lt(Tr){return"m0,"+Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+-2*Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+2*Tr+"z"}function Ut(Tr,nr){var Ur,an,Xr=4.5;function Cn(En){return En&&("function"==typeof Xr&&an.pointRadius(+Xr.apply(this,arguments)),(0,h.Z)(En,Ur(an))),an.result()}return Cn.area=function(En){return(0,h.Z)(En,Ur(we)),we.result()},Cn.measure=function(En){return(0,h.Z)(En,Ur(Kt)),Kt.result()},Cn.bounds=function(En){return(0,h.Z)(En,Ur(Ee.Z)),Ee.Z.result()},Cn.centroid=function(En){return(0,h.Z)(En,Ur(Be)),Be.result()},Cn.projection=function(En){return arguments.length?(Ur=null==En?(Tr=null,pe.Z):(Tr=En).stream,Cn):Tr},Cn.context=function(En){return arguments.length?(an=null==En?(nr=null,new ir):new He(nr=En),"function"!=typeof Xr&&an.pointRadius(Xr),Cn):nr},Cn.pointRadius=function(En){return arguments.length?(Xr="function"==typeof En?En:(an.pointRadius(+En),+En),Cn):Xr},Cn.projection(Tr).context(nr)}ir.prototype={_radius:4.5,_circle:Lt(4.5),pointRadius:function(Tr){return(Tr=+Tr)!==this._radius&&(this._radius=Tr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(Tr,nr){switch(this._point){case 0:this._string.push("M",Tr,",",nr),this._point=1;break;case 1:this._string.push("L",Tr,",",nr);break;default:null==this._circle&&(this._circle=Lt(this._radius)),this._string.push("M",Tr,",",nr,this._circle)}},result:function(){if(this._string.length){var Tr=this._string.join("");return this._string=[],Tr}return null}};var Qt=t(15002);function Cr(Tr){var nr=0,Xr=o.pi/3,Ur=(0,Qt.r)(Tr),an=Ur(nr,Xr);return an.parallels=function(Cn){return arguments.length?Ur(nr=Cn[0]*o.uR,Xr=Cn[1]*o.uR):[nr*o.RW,Xr*o.RW]},an}function $t(Tr,nr){var Xr=(0,o.O$)(Tr),Ur=(Xr+(0,o.O$)(nr))/2;if((0,o.Wn)(Ur)<o.Ho)return function wt(Tr){var nr=(0,o.mC)(Tr);function Xr(Ur,an){return[Ur*nr,(0,o.O$)(an)/nr]}return Xr.invert=function(Ur,an){return[Ur/nr,(0,o.ZR)(an*nr)]},Xr}(Tr);var an=1+Xr*(2*Ur-Xr),Cn=(0,o._b)(an)/Ur;function En(Fn,Vn){var vi=(0,o._b)(an-2*Ur*(0,o.O$)(Vn))/Ur;return[vi*(0,o.O$)(Fn*=Ur),Cn-vi*(0,o.mC)(Fn)]}return En.invert=function(Fn,Vn){var vi=Cn-Vn,li=(0,o.fv)(Fn,(0,o.Wn)(vi))*(0,o.Xx)(vi);return vi*Ur<0&&(li-=o.pi*(0,o.Xx)(Fn)*(0,o.Xx)(vi)),[li/Ur,(0,o.ZR)((an-(Fn*Fn+vi*vi)*Ur*Ur)/(2*Ur))]},En}function rr(){return Cr($t).scale(155.424).center([0,33.6442])}function Lr(){return rr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var mr=t(47589);function ct(){var Tr,nr,Ur,Cn,Fn,Vn,Xr=Lr(),an=rr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),En=rr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),vi={point:function(si,hi){Vn=[si,hi]}};function li(si){var hi=si[0],Ir=si[1];return Vn=null,Ur.point(hi,Ir),Vn||(Cn.point(hi,Ir),Vn)||(Fn.point(hi,Ir),Vn)}function bi(){return Tr=nr=null,li}return li.invert=function(si){var hi=Xr.scale(),Ir=Xr.translate(),gn=(si[0]-Ir[0])/hi,pn=(si[1]-Ir[1])/hi;return(pn>=.12&&pn<.234&&gn>=-.425&&gn<-.214?an:pn>=.166&&pn<.234&&gn>=-.214&&gn<-.115?En:Xr).invert(si)},li.stream=function(si){return Tr&&nr===si?Tr:Tr=function bt(Tr){var nr=Tr.length;return{point:function(Xr,Ur){for(var an=-1;++an<nr;)Tr[an].point(Xr,Ur)},sphere:function(){for(var Xr=-1;++Xr<nr;)Tr[Xr].sphere()},lineStart:function(){for(var Xr=-1;++Xr<nr;)Tr[Xr].lineStart()},lineEnd:function(){for(var Xr=-1;++Xr<nr;)Tr[Xr].lineEnd()},polygonStart:function(){for(var Xr=-1;++Xr<nr;)Tr[Xr].polygonStart()},polygonEnd:function(){for(var Xr=-1;++Xr<nr;)Tr[Xr].polygonEnd()}}}([Xr.stream(nr=si),an.stream(si),En.stream(si)])},li.precision=function(si){return arguments.length?(Xr.precision(si),an.precision(si),En.precision(si),bi()):Xr.precision()},li.scale=function(si){return arguments.length?(Xr.scale(si),an.scale(.35*si),En.scale(si),li.translate(Xr.translate())):Xr.scale()},li.translate=function(si){if(!arguments.length)return Xr.translate();var hi=Xr.scale(),Ir=+si[0],gn=+si[1];return Ur=Xr.translate(si).clipExtent([[Ir-.455*hi,gn-.238*hi],[Ir+.455*hi,gn+.238*hi]]).stream(vi),Cn=an.translate([Ir-.307*hi,gn+.201*hi]).clipExtent([[Ir-.425*hi+o.Ho,gn+.12*hi+o.Ho],[Ir-.214*hi-o.Ho,gn+.234*hi-o.Ho]]).stream(vi),Fn=En.translate([Ir-.205*hi,gn+.212*hi]).clipExtent([[Ir-.214*hi+o.Ho,gn+.166*hi+o.Ho],[Ir-.115*hi-o.Ho,gn+.234*hi-o.Ho]]).stream(vi),bi()},li.fitExtent=function(si,hi){return(0,mr.qg)(li,si,hi)},li.fitSize=function(si,hi){return(0,mr.mF)(li,si,hi)},li.fitWidth=function(si,hi){return(0,mr.V6)(li,si,hi)},li.fitHeight=function(si,hi){return(0,mr.rf)(li,si,hi)},li.scale(1070)}var At=t(12956),It=t(17889),Ft=t(49386);function Rt(Tr,nr){return[Tr,(0,o.cM)((0,o.OR)((o.ou+nr)/2))]}function Gt(){return jt(Rt).scale(961/o.BZ)}function jt(Tr){var Fn,Vn,vi,nr=(0,Qt.Z)(Tr),Xr=nr.center,Ur=nr.scale,an=nr.translate,Cn=nr.clipExtent,En=null;function li(){var bi=o.pi*Ur(),si=nr((0,Ft.Z)(nr.rotate()).invert([0,0]));return Cn(null==En?[[si[0]-bi,si[1]-bi],[si[0]+bi,si[1]+bi]]:Tr===Rt?[[Math.max(si[0]-bi,En),Fn],[Math.min(si[0]+bi,Vn),vi]]:[[En,Math.max(si[1]-bi,Fn)],[Vn,Math.min(si[1]+bi,vi)]])}return nr.scale=function(bi){return arguments.length?(Ur(bi),li()):Ur()},nr.translate=function(bi){return arguments.length?(an(bi),li()):an()},nr.center=function(bi){return arguments.length?(Xr(bi),li()):Xr()},nr.clipExtent=function(bi){return arguments.length?(null==bi?En=Fn=Vn=vi=null:(En=+bi[0][0],Fn=+bi[0][1],Vn=+bi[1][0],vi=+bi[1][1]),li()):null==En?null:[[En,Fn],[Vn,vi]]},li()}function er(Tr){return(0,o.OR)((o.ou+Tr)/2)}function dr(Tr,nr){var Xr=(0,o.mC)(Tr),Ur=Tr===nr?(0,o.O$)(Tr):(0,o.cM)(Xr/(0,o.mC)(nr))/(0,o.cM)(er(nr)/er(Tr)),an=Xr*(0,o.sQ)(er(Tr),Ur)/Ur;if(!Ur)return Rt;function Cn(En,Fn){an>0?Fn<-o.ou+o.Ho&&(Fn=-o.ou+o.Ho):Fn>o.ou-o.Ho&&(Fn=o.ou-o.Ho);var Vn=an/(0,o.sQ)(er(Fn),Ur);return[Vn*(0,o.O$)(Ur*En),an-Vn*(0,o.mC)(Ur*En)]}return Cn.invert=function(En,Fn){var Vn=an-Fn,vi=(0,o.Xx)(Ur)*(0,o._b)(En*En+Vn*Vn),li=(0,o.fv)(En,(0,o.Wn)(Vn))*(0,o.Xx)(Vn);return Vn*Ur<0&&(li-=o.pi*(0,o.Xx)(En)*(0,o.Xx)(Vn)),[li/Ur,2*(0,o.z4)((0,o.sQ)(an/vi,1/Ur))-o.ou]},Cn}function hr(){return Cr(dr).scale(109.5).parallels([30,30])}Rt.invert=function(Tr,nr){return[Tr,2*(0,o.z4)((0,o.Qq)(nr))-o.ou]};var wr=t(97492);function $e(Tr,nr){var Xr=(0,o.mC)(Tr),Ur=Tr===nr?(0,o.O$)(Tr):(Xr-(0,o.mC)(nr))/(nr-Tr),an=Xr/Ur+Tr;if((0,o.Wn)(Ur)<o.Ho)return wr.k;function Cn(En,Fn){var Vn=an-Fn,vi=Ur*En;return[Vn*(0,o.O$)(vi),an-Vn*(0,o.mC)(vi)]}return Cn.invert=function(En,Fn){var Vn=an-Fn,vi=(0,o.fv)(En,(0,o.Wn)(Vn))*(0,o.Xx)(Vn);return Vn*Ur<0&&(vi-=o.pi*(0,o.Xx)(En)*(0,o.Xx)(Vn)),[vi/Ur,an-(0,o.Xx)(Ur)*(0,o._b)(En*En+Vn*Vn)]},Cn}function Ze(){return Cr($e).scale(131.154).center([0,13.9389])}var zt=1.340264,kt=-.081106,Xt=893e-6,ur=.003796,vr=(0,o._b)(3)/2;function Ht(Tr,nr){var Xr=(0,o.ZR)(vr*(0,o.O$)(nr)),Ur=Xr*Xr,an=Ur*Ur*Ur;return[Tr*(0,o.mC)(Xr)/(vr*(zt+3*kt*Ur+an*(7*Xt+9*ur*Ur))),Xr*(zt+kt*Ur+an*(Xt+ur*Ur))]}function pr(){return(0,Qt.Z)(Ht).scale(177.158)}Ht.invert=function(Tr,nr){for(var En,Xr=nr,Ur=Xr*Xr,an=Ur*Ur*Ur,Cn=0;Cn<12&&(an=(Ur=(Xr-=En=(Xr*(zt+kt*Ur+an*(Xt+ur*Ur))-nr)/(zt+3*kt*Ur+an*(7*Xt+9*ur*Ur)))*Xr)*Ur*Ur,!((0,o.Wn)(En)<o.aW));++Cn);return[vr*Tr*(zt+3*kt*Ur+an*(7*Xt+9*ur*Ur))/(0,o.mC)(Xr),(0,o.ZR)((0,o.O$)(Xr)/vr)]};var xr=t(98936),Mr=t(64684);function kr(){var En,Fn,vi,li,bi,pn,Dn,Tr=1,nr=0,Xr=0,Ur=1,an=1,Cn=0,Vn=null,si=1,hi=1,Ir=(0,Mr.l)({point:function(zn,Qn){var ii=Nn([zn,Qn]);this.stream.point(ii[0],ii[1])}}),gn=pe.Z;function qn(){return si=Tr*Ur,hi=Tr*an,pn=Dn=null,Nn}function Nn(zn){var Qn=zn[0]*si,ii=zn[1]*hi;if(Cn){var $n=ii*En-Qn*Fn;Qn=Qn*En+ii*Fn,ii=$n}return[Qn+nr,ii+Xr]}return Nn.invert=function(zn){var Qn=zn[0]-nr,ii=zn[1]-Xr;if(Cn){var $n=ii*En+Qn*Fn;Qn=Qn*En-ii*Fn,ii=$n}return[Qn/si,ii/hi]},Nn.stream=function(zn){return pn&&Dn===zn?pn:pn=Ir(gn(Dn=zn))},Nn.postclip=function(zn){return arguments.length?(gn=zn,Vn=vi=li=bi=null,qn()):gn},Nn.clipExtent=function(zn){return arguments.length?(gn=null==zn?(Vn=vi=li=bi=null,pe.Z):(0,w.Z)(Vn=+zn[0][0],vi=+zn[0][1],li=+zn[1][0],bi=+zn[1][1]),qn()):null==Vn?null:[[Vn,vi],[li,bi]]},Nn.scale=function(zn){return arguments.length?(Tr=+zn,qn()):Tr},Nn.translate=function(zn){return arguments.length?(nr=+zn[0],Xr=+zn[1],qn()):[nr,Xr]},Nn.angle=function(zn){return arguments.length?(Fn=(0,o.O$)(Cn=zn%360*o.uR),En=(0,o.mC)(Cn),qn()):Cn*o.RW},Nn.reflectX=function(zn){return arguments.length?(Ur=zn?-1:1,qn()):Ur<0},Nn.reflectY=function(zn){return arguments.length?(an=zn?-1:1,qn()):an<0},Nn.fitExtent=function(zn,Qn){return(0,mr.qg)(Nn,zn,Qn)},Nn.fitSize=function(zn,Qn){return(0,mr.mF)(Nn,zn,Qn)},Nn.fitWidth=function(zn,Qn){return(0,mr.V6)(Nn,zn,Qn)},Nn.fitHeight=function(zn,Qn){return(0,mr.rf)(Nn,zn,Qn)},Nn}var un=t(26867),Nr=t(57962),Yr=t(25382);function $r(Tr,nr){var Xr=(0,o.mC)(nr),Ur=1+(0,o.mC)(Tr)*Xr;return[Xr*(0,o.O$)(Tr)/Ur,(0,o.O$)(nr)/Ur]}function Qr(){return(0,Qt.Z)($r).scale(250).clipAngle(142)}function Wn(Tr,nr){return[(0,o.cM)((0,o.OR)((o.ou+nr)/2)),-Tr]}function An(){var Tr=jt(Wn),nr=Tr.center,Xr=Tr.rotate;return Tr.center=function(Ur){return arguments.length?nr([-Ur[1],Ur[0]]):[(Ur=nr())[1],-Ur[0]]},Tr.rotate=function(Ur){return arguments.length?Xr([Ur[0],Ur[1],Ur.length>2?Ur[2]+90:90]):[(Ur=Xr())[0],Ur[1],Ur[2]-90]},Xr([0,0,90]).scale(159.155)}$r.invert=(0,Yr.O)(function(Tr){return 2*(0,o.z4)(Tr)}),Wn.invert=function(Tr,nr){return[-nr,2*(0,o.z4)((0,o.Qq)(Tr))-o.ou]}},83074:function(oe,J,t){"use strict";t.d(J,{Z:function(){return k}});var S=t(39695);function k(l,R){var I=l[0]*S.uR,v=l[1]*S.uR,w=R[0]*S.uR,r=R[1]*S.uR,n=(0,S.mC)(v),c=(0,S.O$)(v),o=(0,S.mC)(r),f=(0,S.O$)(r),h=n*(0,S.mC)(I),d=n*(0,S.O$)(I),b=o*(0,S.mC)(w),p=o*(0,S.O$)(w),A=2*(0,S.ZR)((0,S._b)((0,S.Jy)(r-v)+n*o*(0,S.Jy)(w-I))),m=(0,S.O$)(A),u=A?function(g){var C=(0,S.O$)(g*=A)/m,T=(0,S.O$)(A-g)/m,L=T*h+C*b,x=T*d+C*p,E=T*c+C*f;return[(0,S.fv)(x,L)*S.RW,(0,S.fv)(E,(0,S._b)(L*L+x*x))*S.RW]}:function(){return[I*S.RW,v*S.RW]};return u.distance=A,u}},39695:function(oe,J,t){"use strict";t.d(J,{BZ:function(){return v},Ho:function(){return S},Jy:function(){return x},Kh:function(){return T},O$:function(){return m},OR:function(){return C},Qq:function(){return d},RW:function(){return w},Wn:function(){return n},Xx:function(){return u},ZR:function(){return L},_b:function(){return g},aW:function(){return k},cM:function(){return p},fv:function(){return o},mC:function(){return f},mD:function(){return h},ou:function(){return R},pi:function(){return l},pu:function(){return I},sQ:function(){return A},uR:function(){return r},z4:function(){return c}});var S=1e-6,k=1e-12,l=Math.PI,R=l/2,I=l/4,v=2*l,w=180/l,r=l/180,n=Math.abs,c=Math.atan,o=Math.atan2,f=Math.cos,h=Math.ceil,d=Math.exp,p=(Math,Math.log),A=Math.pow,m=Math.sin,u=Math.sign||function(E){return E>0?1:E<0?-1:0},g=Math.sqrt,C=Math.tan;function T(E){return E>1?0:E<-1?l:Math.acos(E)}function L(E){return E>1?R:E<-1?-R:Math.asin(E)}function x(E){return(E=m(E/2))*E}},73182:function(oe,J,t){"use strict";function S(){}t.d(J,{Z:function(){return S}})},3559:function(oe,J,t){"use strict";var S=t(73182),k=1/0,l=k,R=-k,I=R;J.Z={point:function w(r,n){r<k&&(k=r),r>R&&(R=r),n<l&&(l=n),n>I&&(I=n)},lineStart:S.Z,lineEnd:S.Z,polygonStart:S.Z,polygonEnd:S.Z,result:function(){var r=[[k,l],[R,I]];return R=I=-(l=k=1/0),r}}},67108:function(oe,J,t){"use strict";t.d(J,{Z:function(){return k}});var S=t(39695);function k(l,R){return(0,S.Wn)(l[0]-R[0])<S.Ho&&(0,S.Wn)(l[1]-R[1])<S.Ho}},23071:function(oe,J,t){"use strict";t.d(J,{Z:function(){return v}});var S=t(33940),k=t(7620),l=t(39695),R=(0,S.Z)();function I(w){return(0,l.Wn)(w[0])<=l.pi?w[0]:(0,l.Xx)(w[0])*(((0,l.Wn)(w[0])+l.pi)%l.BZ-l.pi)}function v(w,r){var n=I(r),c=r[1],o=(0,l.O$)(c),f=[(0,l.O$)(n),-(0,l.mC)(n),0],h=0,d=0;R.reset(),1===o?c=l.ou+l.Ho:-1===o&&(c=-l.ou-l.Ho);for(var b=0,p=w.length;b<p;++b)if(m=(A=w[b]).length)for(var A,m,u=A[m-1],g=I(u),C=u[1]/2+l.pu,T=(0,l.O$)(C),L=(0,l.mC)(C),x=0;x<m;++x,g=M,T=D,L=y,u=E){var E=A[x],M=I(E),i=E[1]/2+l.pu,D=(0,l.O$)(i),y=(0,l.mC)(i),B=M-g,F=B>=0?1:-1,_=F*B,z=_>l.pi,V=T*D;if(R.add((0,l.fv)(V*F*(0,l.O$)(_),L*y+V*(0,l.mC)(_))),h+=z?B+F*l.BZ:B,z^g>=n^M>=n){var H=(0,k.T5)((0,k.Og)(u),(0,k.Og)(E));(0,k.iJ)(H);var U=(0,k.T5)(f,H);(0,k.iJ)(U);var G=(z^B>=0?-1:1)*(0,l.ZR)(U[2]);(c>G||c===G&&(H[0]||H[1]))&&(d+=z^B>=0?1:-1)}}return(h<-l.Ho||h<l.Ho&&R<-l.Ho)^1&d}},25382:function(oe,J,t){"use strict";t.d(J,{O:function(){return l},W:function(){return k}});var S=t(39695);function k(R){return function(I,v){var w=(0,S.mC)(I),r=(0,S.mC)(v),n=R(w*r);return[n*r*(0,S.O$)(I),n*(0,S.O$)(v)]}}function l(R){return function(I,v){var w=(0,S._b)(I*I+v*v),r=R(w),n=(0,S.O$)(r),c=(0,S.mC)(r);return[(0,S.fv)(I*n,w*c),(0,S.ZR)(w&&v*n/w)]}}},12956:function(oe,J,t){"use strict";t.d(J,{Z:function(){return I},l:function(){return R}});var S=t(39695),k=t(25382),l=t(15002),R=(0,k.W)(function(v){return(0,S._b)(2/(1+v))});function I(){return(0,l.Z)(R).scale(124.75).clipAngle(179.999)}R.invert=(0,k.O)(function(v){return 2*(0,S.ZR)(v/2)})},17889:function(oe,J,t){"use strict";t.d(J,{N:function(){return R},Z:function(){return I}});var S=t(39695),k=t(25382),l=t(15002),R=(0,k.W)(function(v){return(v=(0,S.Kh)(v))&&v/(0,S.O$)(v)});function I(){return(0,l.Z)(R).scale(79.4188).clipAngle(179.999)}R.invert=(0,k.O)(function(v){return v})},97492:function(oe,J,t){"use strict";t.d(J,{Z:function(){return l},k:function(){return k}});var S=t(15002);function k(R,I){return[R,I]}function l(){return(0,S.Z)(k).scale(152.63)}k.invert=k},47589:function(oe,J,t){"use strict";t.d(J,{V6:function(){return v},mF:function(){return I},qg:function(){return R},rf:function(){return w}});var S=t(72736),k=t(3559);function l(r,n,c){var o=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),null!=o&&r.clipExtent(null),(0,S.Z)(c,r.stream(k.Z)),n(k.Z.result()),null!=o&&r.clipExtent(o),r}function R(r,n,c){return l(r,function(o){var f=n[1][0]-n[0][0],h=n[1][1]-n[0][1],d=Math.min(f/(o[1][0]-o[0][0]),h/(o[1][1]-o[0][1])),b=+n[0][0]+(f-d*(o[1][0]+o[0][0]))/2,p=+n[0][1]+(h-d*(o[1][1]+o[0][1]))/2;r.scale(150*d).translate([b,p])},c)}function I(r,n,c){return R(r,[[0,0],n],c)}function v(r,n,c){return l(r,function(o){var f=+n,h=f/(o[1][0]-o[0][0]),d=(f-h*(o[1][0]+o[0][0]))/2,b=-h*o[0][1];r.scale(150*h).translate([d,b])},c)}function w(r,n,c){return l(r,function(o){var f=+n,h=f/(o[1][1]-o[0][1]),d=-h*o[0][0],b=(f-h*(o[1][1]+o[0][1]))/2;r.scale(150*h).translate([d,b])},c)}},98936:function(oe,J,t){"use strict";t.d(J,{M:function(){return R},Z:function(){return I}});var S=t(39695),k=t(25382),l=t(15002);function R(v,w){var r=(0,S.mC)(w),n=(0,S.mC)(v)*r;return[r*(0,S.O$)(v)/n,(0,S.O$)(w)/n]}function I(){return(0,l.Z)(R).scale(144.049).clipAngle(60)}R.invert=(0,k.O)(S.z4)},15002:function(oe,J,t){"use strict";t.d(J,{Z:function(){return g},r:function(){return C}});var S=t(87070),k=t(1457),l=t(87605),R=t(96059),I=t(8593),v=t(39695),w=t(49386),r=t(64684),n=t(47589),c=t(7620),o=16,f=(0,v.mC)(30*v.uR);function h(T,L){return+L?function b(T,L){function x(E,M,i,D,y,B,F,_,z,V,H,U,G,Y){var ee=F-E,ue=_-M,ce=ee*ee+ue*ue;if(ce>4*L&&G--){var pe=D+V,te=y+H,Q=B+U,K=(0,v._b)(pe*pe+te*te+Q*Q),Z=(0,v.ZR)(Q/=K),q=(0,v.Wn)((0,v.Wn)(Q)-1)<v.Ho||(0,v.Wn)(i-z)<v.Ho?(i+z)/2:(0,v.fv)(te,pe),fe=T(q,Z),re=fe[0],$=fe[1],le=re-E,se=$-M,de=ue*le-ee*se;(de*de/ce>L||(0,v.Wn)((ee*le+ue*se)/ce-.5)>.3||D*V+y*H+B*U<f)&&(x(E,M,i,D,y,B,re,$,q,pe/=K,te/=K,Q,G,Y),Y.point(re,$),x(re,$,q,pe,te,Q,F,_,z,V,H,U,G,Y))}}return function(E){var M,i,D,y,B,F,_,z,V,H,U,G,Y={point:ee,lineStart:ue,lineEnd:pe,polygonStart:function(){E.polygonStart(),Y.lineStart=te},polygonEnd:function(){E.polygonEnd(),Y.lineStart=ue}};function ee(Z,q){Z=T(Z,q),E.point(Z[0],Z[1])}function ue(){z=NaN,Y.point=ce,E.lineStart()}function ce(Z,q){var fe=(0,c.Og)([Z,q]),re=T(Z,q);x(z,V,_,H,U,G,z=re[0],V=re[1],_=Z,H=fe[0],U=fe[1],G=fe[2],o,E),E.point(z,V)}function pe(){Y.point=ee,E.lineEnd()}function te(){ue(),Y.point=Q,Y.lineEnd=K}function Q(Z,q){ce(M=Z,q),i=z,D=V,y=H,B=U,F=G,Y.point=ce}function K(){x(z,V,_,H,U,G,i,D,M,y,B,F,o,E),Y.lineEnd=pe,pe()}return Y}}(T,L):function d(T){return(0,r.l)({point:function(L,x){L=T(L,x),this.stream.point(L[0],L[1])}})}(T)}var p=(0,r.l)({point:function(T,L){this.stream.point(T*v.uR,L*v.uR)}});function m(T,L,x,E,M){function i(D,y){return[L+T*(D*=E),x-T*(y*=M)]}return i.invert=function(D,y){return[(D-L)/T*E,(x-y)/T*M]},i}function u(T,L,x,E,M,i){var D=(0,v.mC)(i),y=(0,v.O$)(i),B=D*T,F=y*T,_=D/T,z=y/T,V=(y*x-D*L)/T,H=(y*L+D*x)/T;function U(G,Y){return[B*(G*=E)-F*(Y*=M)+L,x-F*G-B*Y]}return U.invert=function(G,Y){return[E*(_*G-z*Y+V),M*(H-z*G-_*Y)]},U}function g(T){return C(function(){return T})()}function C(T){var L,_,ee,ue,ce,Q,K,Z,q,fe,x=150,E=480,M=250,i=0,D=0,y=0,B=0,F=0,z=0,V=1,H=1,U=null,G=S.Z,Y=null,pe=I.Z,te=.5;function re(de){return Z(de[0]*v.uR,de[1]*v.uR)}function $(de){return(de=Z.invert(de[0],de[1]))&&[de[0]*v.RW,de[1]*v.RW]}function le(){var de=u(x,0,0,V,H,z).apply(null,L(i,D)),we=(z?u:m)(x,E-de[0],M-de[1],V,H,z);return _=(0,w.I)(y,B,F),K=(0,R.Z)(L,we),Z=(0,R.Z)(_,K),Q=h(K,te),se()}function se(){return q=fe=null,re}return re.stream=function(de){return q&&fe===de?q:q=p(function A(T){return(0,r.l)({point:function(L,x){var E=T(L,x);return this.stream.point(E[0],E[1])}})}(_)(G(Q(pe(fe=de)))))},re.preclip=function(de){return arguments.length?(G=de,U=void 0,se()):G},re.postclip=function(de){return arguments.length?(pe=de,Y=ee=ue=ce=null,se()):pe},re.clipAngle=function(de){return arguments.length?(G=+de?(0,k.Z)(U=de*v.uR):(U=null,S.Z),se()):U*v.RW},re.clipExtent=function(de){return arguments.length?(pe=null==de?(Y=ee=ue=ce=null,I.Z):(0,l.Z)(Y=+de[0][0],ee=+de[0][1],ue=+de[1][0],ce=+de[1][1]),se()):null==Y?null:[[Y,ee],[ue,ce]]},re.scale=function(de){return arguments.length?(x=+de,le()):x},re.translate=function(de){return arguments.length?(E=+de[0],M=+de[1],le()):[E,M]},re.center=function(de){return arguments.length?(i=de[0]%360*v.uR,D=de[1]%360*v.uR,le()):[i*v.RW,D*v.RW]},re.rotate=function(de){return arguments.length?(y=de[0]%360*v.uR,B=de[1]%360*v.uR,F=de.length>2?de[2]%360*v.uR:0,le()):[y*v.RW,B*v.RW,F*v.RW]},re.angle=function(de){return arguments.length?(z=de%360*v.uR,le()):z*v.RW},re.reflectX=function(de){return arguments.length?(V=de?-1:1,le()):V<0},re.reflectY=function(de){return arguments.length?(H=de?-1:1,le()):H<0},re.precision=function(de){return arguments.length?(Q=h(K,te=de*de),se()):(0,v._b)(te)},re.fitExtent=function(de,we){return(0,n.qg)(re,de,we)},re.fitSize=function(de,we){return(0,n.mF)(re,de,we)},re.fitWidth=function(de,we){return(0,n.V6)(re,de,we)},re.fitHeight=function(de,we){return(0,n.rf)(re,de,we)},function(){return L=T.apply(this,arguments),re.invert=L.invert&&$,le()}}},26867:function(oe,J,t){"use strict";t.d(J,{K:function(){return l},Z:function(){return R}});var S=t(15002),k=t(39695);function l(I,v){var w=v*v,r=w*w;return[I*(.8707-.131979*w+r*(r*(.003971*w-.001529*r)-.013791)),v*(1.007226+w*(.015085+r*(.028874*w-.044475-.005916*r)))]}function R(){return(0,S.Z)(l).scale(175.295)}l.invert=function(I,v){var n,w=v,r=25;do{var c=w*w,o=c*c;w-=n=(w*(1.007226+c*(.015085+o*(.028874*c-.044475-.005916*o)))-v)/(1.007226+c*(.045255+o*(.259866*c-.311325-.06507600000000001*o)))}while((0,k.Wn)(n)>k.Ho&&--r>0);return[I/(.8707+(c=w*w)*(c*(c*c*c*(.003971-.001529*c)-.013791)-.131979)),w]}},57962:function(oe,J,t){"use strict";t.d(J,{I:function(){return R},Z:function(){return I}});var S=t(39695),k=t(25382),l=t(15002);function R(v,w){return[(0,S.mC)(w)*(0,S.O$)(v),(0,S.O$)(w)]}function I(){return(0,l.Z)(R).scale(249.5).clipAngle(90+S.Ho)}R.invert=(0,k.O)(S.ZR)},49386:function(oe,J,t){"use strict";t.d(J,{I:function(){return R},Z:function(){return r}});var S=t(96059),k=t(39695);function l(n,c){return[(0,k.Wn)(n)>k.pi?n+Math.round(-n/k.BZ)*k.BZ:n,c]}function R(n,c,o){return(n%=k.BZ)?c||o?(0,S.Z)(v(n),w(c,o)):v(n):c||o?w(c,o):l}function I(n){return function(c,o){return[(c+=n)>k.pi?c-k.BZ:c<-k.pi?c+k.BZ:c,o]}}function v(n){var c=I(n);return c.invert=I(-n),c}function w(n,c){var o=(0,k.mC)(n),f=(0,k.O$)(n),h=(0,k.mC)(c),d=(0,k.O$)(c);function b(p,A){var m=(0,k.mC)(A),u=(0,k.mC)(p)*m,g=(0,k.O$)(p)*m,C=(0,k.O$)(A),T=C*o+u*f;return[(0,k.fv)(g*h-T*d,u*o-C*f),(0,k.ZR)(T*h+g*d)]}return b.invert=function(p,A){var m=(0,k.mC)(A),u=(0,k.mC)(p)*m,g=(0,k.O$)(p)*m,C=(0,k.O$)(A),T=C*h-g*d;return[(0,k.fv)(g*h+C*d,u*o+T*f),(0,k.ZR)(T*o-u*f)]},b}function r(n){function c(o){return(o=n(o[0]*k.uR,o[1]*k.uR))[0]*=k.RW,o[1]*=k.RW,o}return n=R(n[0]*k.uR,n[1]*k.uR,n.length>2?n[2]*k.uR:0),c.invert=function(o){return(o=n.invert(o[0]*k.uR,o[1]*k.uR))[0]*=k.RW,o[1]*=k.RW,o},c}l.invert=l},72736:function(oe,J,t){"use strict";function S(w,r){w&&l.hasOwnProperty(w.type)&&l[w.type](w,r)}t.d(J,{Z:function(){return v}});var k={Feature:function(w,r){S(w.geometry,r)},FeatureCollection:function(w,r){for(var n=w.features,c=-1,o=n.length;++c<o;)S(n[c].geometry,r)}},l={Sphere:function(w,r){r.sphere()},Point:function(w,r){r.point((w=w.coordinates)[0],w[1],w[2])},MultiPoint:function(w,r){for(var n=w.coordinates,c=-1,o=n.length;++c<o;)r.point((w=n[c])[0],w[1],w[2])},LineString:function(w,r){R(w.coordinates,r,0)},MultiLineString:function(w,r){for(var n=w.coordinates,c=-1,o=n.length;++c<o;)R(n[c],r,0)},Polygon:function(w,r){I(w.coordinates,r)},MultiPolygon:function(w,r){for(var n=w.coordinates,c=-1,o=n.length;++c<o;)I(n[c],r)},GeometryCollection:function(w,r){for(var n=w.geometries,c=-1,o=n.length;++c<o;)S(n[c],r)}};function R(w,r,n){var f,c=-1,o=w.length-n;for(r.lineStart();++c<o;)r.point((f=w[c])[0],f[1],f[2]);r.lineEnd()}function I(w,r){var n=-1,c=w.length;for(r.polygonStart();++n<c;)R(w[n],r,1);r.polygonEnd()}function v(w,r){w&&k.hasOwnProperty(w.type)?k[w.type](w,r):S(w,r)}},64684:function(oe,J,t){"use strict";function S(R){return{stream:k(R)}}function k(R){return function(I){var v=new l;for(var w in R)v[w]=R[w];return v.stream=I,v}}function l(){}t.d(J,{Z:function(){return S},l:function(){return k}}),l.prototype={constructor:l,point:function(R,I){this.stream.point(R,I)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(oe,J,t){"use strict";function S(He,Ye){return He.parent===Ye.parent?1:2}function l(He,Ye){return He+Ye.x}function I(He,Ye){return Math.max(He,Ye.y)}function r(){var He=S,Ye=1,Ue=1,De=!1;function ge(Te){var _e,et=0;Te.eachAfter(function(Lt){var Ut=Lt.children;Ut?(Lt.x=function k(He){return He.reduce(l,0)/He.length}(Ut),Lt.y=function R(He){return 1+He.reduce(I,0)}(Ut)):(Lt.x=_e?et+=He(Lt,_e):0,Lt.y=0,_e=Lt)});var ft=function v(He){for(var Ye;Ye=He.children;)He=Ye[0];return He}(Te),gt=function w(He){for(var Ye;Ye=He.children;)He=Ye[Ye.length-1];return He}(Te),Kt=ft.x-He(ft,gt)/2,ir=gt.x+He(gt,ft)/2;return Te.eachAfter(De?function(Lt){Lt.x=(Lt.x-Te.x)*Ye,Lt.y=(Te.y-Lt.y)*Ue}:function(Lt){Lt.x=(Lt.x-Kt)/(ir-Kt)*Ye,Lt.y=(1-(Te.y?Lt.y/Te.y:1))*Ue})}return ge.separation=function(Te){return arguments.length?(He=Te,ge):He},ge.size=function(Te){return arguments.length?(De=!1,Ye=+Te[0],Ue=+Te[1],ge):De?null:[Ye,Ue]},ge.nodeSize=function(Te){return arguments.length?(De=!0,Ye=+Te[0],Ue=+Te[1],ge):De?[Ye,Ue]:null},ge}function n(He){var Ye=0,Ue=He.children,De=Ue&&Ue.length;if(De)for(;--De>=0;)Ye+=Ue[De].value;else Ye=1;He.value=Ye}function T(He,Ye){var ge,_e,et,ft,gt,Ue=new i(He),De=+He.value&&(Ue.value=He.value),Te=[Ue];for(null==Ye&&(Ye=x);ge=Te.pop();)if(De&&(ge.value=+ge.data.value),(et=Ye(ge.data))&&(gt=et.length))for(ge.children=new Array(gt),ft=gt-1;ft>=0;--ft)Te.push(_e=ge.children[ft]=new i(et[ft])),_e.parent=ge,_e.depth=ge.depth+1;return Ue.eachBefore(M)}function x(He){return He.children}function E(He){He.data=He.data.data}function M(He){var Ye=0;do{He.height=Ye}while((He=He.parent)&&He.height<++Ye)}function i(He){this.data=He,this.depth=this.height=0,this.parent=null}t.r(J),t.d(J,{cluster:function(){return r},hierarchy:function(){return T},pack:function(){return $},packEnclose:function(){return B},packSiblings:function(){return Q},partition:function(){return Me},stratify:function(){return Je},tree:function(){return vt},treemap:function(){return nt},treemapBinary:function(){return ke},treemapDice:function(){return Ee},treemapResquarify:function(){return Be},treemapSlice:function(){return pt},treemapSliceDice:function(){return Re},treemapSquarify:function(){return _t}}),i.prototype=T.prototype={constructor:i,count:function c(){return this.eachAfter(n)},each:function o(He){var Ue,ge,Te,_e,Ye=this,De=[Ye];do{for(Ue=De.reverse(),De=[];Ye=Ue.pop();)if(He(Ye),ge=Ye.children)for(Te=0,_e=ge.length;Te<_e;++Te)De.push(ge[Te])}while(De.length);return this},eachAfter:function h(He){for(var ge,Te,_e,Ye=this,Ue=[Ye],De=[];Ye=Ue.pop();)if(De.push(Ye),ge=Ye.children)for(Te=0,_e=ge.length;Te<_e;++Te)Ue.push(ge[Te]);for(;Ye=De.pop();)He(Ye);return this},eachBefore:function f(He){for(var De,ge,Ye=this,Ue=[Ye];Ye=Ue.pop();)if(He(Ye),De=Ye.children)for(ge=De.length-1;ge>=0;--ge)Ue.push(De[ge]);return this},sum:function d(He){return this.eachAfter(function(Ye){for(var Ue=+He(Ye.data)||0,De=Ye.children,ge=De&&De.length;--ge>=0;)Ue+=De[ge].value;Ye.value=Ue})},sort:function b(He){return this.eachBefore(function(Ye){Ye.children&&Ye.children.sort(He)})},path:function p(He){for(var Ye=this,Ue=function A(He,Ye){if(He===Ye)return He;var Ue=He.ancestors(),De=Ye.ancestors(),ge=null;for(He=Ue.pop(),Ye=De.pop();He===Ye;)ge=He,He=Ue.pop(),Ye=De.pop();return ge}(Ye,He),De=[Ye];Ye!==Ue;)De.push(Ye=Ye.parent);for(var ge=De.length;He!==Ue;)De.splice(ge,0,He),He=He.parent;return De},ancestors:function m(){for(var He=this,Ye=[He];He=He.parent;)Ye.push(He);return Ye},descendants:function u(){var He=[];return this.each(function(Ye){He.push(Ye)}),He},leaves:function g(){var He=[];return this.eachBefore(function(Ye){Ye.children||He.push(Ye)}),He},links:function C(){var He=this,Ye=[];return He.each(function(Ue){Ue!==He&&Ye.push({source:Ue.parent,target:Ue})}),Ye},copy:function L(){return T(this).eachBefore(E)}};var D=Array.prototype.slice;function B(He){for(var ge,Te,Ye=0,Ue=(He=function y(He){for(var Ue,De,Ye=He.length;Ye;)De=Math.random()*Ye--|0,Ue=He[Ye],He[Ye]=He[De],He[De]=Ue;return He}(D.call(He))).length,De=[];Ye<Ue;)ge=He[Ye],Te&&z(Te,ge)?++Ye:(Te=H(De=F(De,ge)),Ye=0);return Te}function F(He,Ye){var Ue,De;if(V(Ye,He))return[Ye];for(Ue=0;Ue<He.length;++Ue)if(_(Ye,He[Ue])&&V(G(He[Ue],Ye),He))return[He[Ue],Ye];for(Ue=0;Ue<He.length-1;++Ue)for(De=Ue+1;De<He.length;++De)if(_(G(He[Ue],He[De]),Ye)&&_(G(He[Ue],Ye),He[De])&&_(G(He[De],Ye),He[Ue])&&V(Y(He[Ue],He[De],Ye),He))return[He[Ue],He[De],Ye];throw new Error}function _(He,Ye){var Ue=He.r-Ye.r,De=Ye.x-He.x,ge=Ye.y-He.y;return Ue<0||Ue*Ue<De*De+ge*ge}function z(He,Ye){var Ue=He.r-Ye.r+1e-6,De=Ye.x-He.x,ge=Ye.y-He.y;return Ue>0&&Ue*Ue>De*De+ge*ge}function V(He,Ye){for(var Ue=0;Ue<Ye.length;++Ue)if(!z(He,Ye[Ue]))return!1;return!0}function H(He){switch(He.length){case 1:return function U(He){return{x:He.x,y:He.y,r:He.r}}(He[0]);case 2:return G(He[0],He[1]);case 3:return Y(He[0],He[1],He[2])}}function G(He,Ye){var Ue=He.x,De=He.y,ge=He.r,Te=Ye.x,_e=Ye.y,et=Ye.r,ft=Te-Ue,gt=_e-De,Kt=et-ge,ir=Math.sqrt(ft*ft+gt*gt);return{x:(Ue+Te+ft/ir*Kt)/2,y:(De+_e+gt/ir*Kt)/2,r:(ir+ge+et)/2}}function Y(He,Ye,Ue){var De=He.x,ge=He.y,Te=He.r,_e=Ye.x,et=Ye.y,ft=Ye.r,gt=Ue.x,Kt=Ue.y,ir=Ue.r,Lt=De-_e,Ut=De-gt,Qt=ge-et,Cr=ge-Kt,wt=ft-Te,$t=ir-Te,rr=De*De+ge*ge-Te*Te,Lr=rr-_e*_e-et*et+ft*ft,mr=rr-gt*gt-Kt*Kt+ir*ir,bt=Ut*Qt-Lt*Cr,ct=(Qt*mr-Cr*Lr)/(2*bt)-De,At=(Cr*wt-Qt*$t)/bt,It=(Ut*Lr-Lt*mr)/(2*bt)-ge,Ft=(Lt*$t-Ut*wt)/bt,Rt=At*At+Ft*Ft-1,Gt=2*(Te+ct*At+It*Ft),jt=ct*ct+It*It-Te*Te,er=-(Rt?(Gt+Math.sqrt(Gt*Gt-4*Rt*jt))/(2*Rt):jt/Gt);return{x:De+ct+At*er,y:ge+It+Ft*er,r:er}}function ee(He,Ye,Ue){var ge,Te,et,ft,De=He.x-Ye.x,_e=He.y-Ye.y,gt=De*De+_e*_e;gt?(Te=Ye.r+Ue.r,ft=He.r+Ue.r,(Te*=Te)>(ft*=ft)?(ge=(gt+ft-Te)/(2*gt),et=Math.sqrt(Math.max(0,ft/gt-ge*ge)),Ue.x=He.x-ge*De-et*_e,Ue.y=He.y-ge*_e+et*De):(ge=(gt+Te-ft)/(2*gt),et=Math.sqrt(Math.max(0,Te/gt-ge*ge)),Ue.x=Ye.x+ge*De-et*_e,Ue.y=Ye.y+ge*_e+et*De)):(Ue.x=Ye.x+Ue.r,Ue.y=Ye.y)}function ue(He,Ye){var Ue=He.r+Ye.r-1e-6,De=Ye.x-He.x,ge=Ye.y-He.y;return Ue>0&&Ue*Ue>De*De+ge*ge}function ce(He){var Ye=He._,Ue=He.next._,De=Ye.r+Ue.r,ge=(Ye.x*Ue.r+Ue.x*Ye.r)/De,Te=(Ye.y*Ue.r+Ue.y*Ye.r)/De;return ge*ge+Te*Te}function pe(He){this._=He,this.next=null,this.previous=null}function te(He){if(!(ge=He.length))return 0;var Ye,Ue,De,ge,Te,_e,et,ft,gt,Kt,ir;if((Ye=He[0]).x=0,Ye.y=0,!(ge>1))return Ye.r;if(Ye.x=-(Ue=He[1]).r,Ue.x=Ye.r,Ue.y=0,!(ge>2))return Ye.r+Ue.r;ee(Ue,Ye,De=He[2]),Ye=new pe(Ye),Ue=new pe(Ue),De=new pe(De),Ye.next=De.previous=Ue,Ue.next=Ye.previous=De,De.next=Ue.previous=Ye;e:for(et=3;et<ge;++et){ee(Ye._,Ue._,De=He[et]),De=new pe(De),ft=Ue.next,gt=Ye.previous,Kt=Ue._.r,ir=Ye._.r;do{if(Kt<=ir){if(ue(ft._,De._)){Ye.next=Ue=ft,Ue.previous=Ye,--et;continue e}Kt+=ft._.r,ft=ft.next}else{if(ue(gt._,De._)){(Ye=gt).next=Ue,Ue.previous=Ye,--et;continue e}ir+=gt._.r,gt=gt.previous}}while(ft!==gt.next);for(De.previous=Ye,De.next=Ue,Ye.next=Ue.previous=Ue=De,Te=ce(Ye);(De=De.next)!==Ue;)(_e=ce(De))<Te&&(Ye=De,Te=_e);Ue=Ye.next}for(Ye=[Ue._],De=Ue;(De=De.next)!==Ue;)Ye.push(De._);for(De=B(Ye),et=0;et<ge;++et)(Ye=He[et]).x-=De.x,Ye.y-=De.y;return De.r}function Q(He){return te(He),He}function Z(He){if("function"!=typeof He)throw new Error;return He}function q(){return 0}function fe(He){return function(){return He}}function re(He){return Math.sqrt(He.value)}function $(){var He=null,Ye=1,Ue=1,De=q;function ge(Te){return Te.x=Ye/2,Te.y=Ue/2,He?Te.eachBefore(le(He)).eachAfter(se(De,.5)).eachBefore(de(1)):Te.eachBefore(le(re)).eachAfter(se(q,1)).eachAfter(se(De,Te.r/Math.min(Ye,Ue))).eachBefore(de(Math.min(Ye,Ue)/(2*Te.r))),Te}return ge.radius=function(Te){return arguments.length?(He=function K(He){return null==He?null:Z(He)}(Te),ge):He},ge.size=function(Te){return arguments.length?(Ye=+Te[0],Ue=+Te[1],ge):[Ye,Ue]},ge.padding=function(Te){return arguments.length?(De="function"==typeof Te?Te:fe(+Te),ge):De},ge}function le(He){return function(Ye){Ye.children||(Ye.r=Math.max(0,+He(Ye)||0))}}function se(He,Ye){return function(Ue){if(De=Ue.children){var De,ge,et,Te=De.length,_e=He(Ue)*Ye||0;if(_e)for(ge=0;ge<Te;++ge)De[ge].r+=_e;if(et=te(De),_e)for(ge=0;ge<Te;++ge)De[ge].r-=_e;Ue.r=et+_e}}}function de(He){return function(Ye){var Ue=Ye.parent;Ye.r*=He,Ue&&(Ye.x=Ue.x+He*Ye.x,Ye.y=Ue.y+He*Ye.y)}}function we(He){He.x0=Math.round(He.x0),He.y0=Math.round(He.y0),He.x1=Math.round(He.x1),He.y1=Math.round(He.y1)}function Ee(He,Ye,Ue,De,ge){for(var _e,Te=He.children,et=-1,ft=Te.length,gt=He.value&&(De-Ye)/He.value;++et<ft;)(_e=Te[et]).y0=Ue,_e.y1=ge,_e.x0=Ye,_e.x1=Ye+=_e.value*gt}function Me(){var He=1,Ye=1,Ue=0,De=!1;function ge(_e){var et=_e.height+1;return _e.x0=_e.y0=Ue,_e.x1=He,_e.y1=Ye/et,_e.eachBefore(function Te(_e,et){return function(ft){ft.children&&Ee(ft,ft.x0,_e*(ft.depth+1)/et,ft.x1,_e*(ft.depth+2)/et);var gt=ft.x0,Kt=ft.y0,ir=ft.x1-Ue,Lt=ft.y1-Ue;ir<gt&&(gt=ir=(gt+ir)/2),Lt<Kt&&(Kt=Lt=(Kt+Lt)/2),ft.x0=gt,ft.y0=Kt,ft.x1=ir,ft.y1=Lt}}(Ye,et)),De&&_e.eachBefore(we),_e}return ge.round=function(_e){return arguments.length?(De=!!_e,ge):De},ge.size=function(_e){return arguments.length?(He=+_e[0],Ye=+_e[1],ge):[He,Ye]},ge.padding=function(_e){return arguments.length?(Ue=+_e,ge):Ue},ge}var Ne="$",Ve={depth:-1},Pe={};function Ce(He){return He.id}function Ie(He){return He.parentId}function Je(){var He=Ce,Ye=Ie;function Ue(De){var ge,Te,et,ft,gt,ir,Lt,_e=De.length,Kt=new Array(_e),Ut={};for(Te=0;Te<_e;++Te)gt=Kt[Te]=new i(ge=De[Te]),null!=(ir=He(ge,Te,De))&&(ir+="")&&(Ut[Lt=Ne+(gt.id=ir)]=Lt in Ut?Pe:gt);for(Te=0;Te<_e;++Te)if(gt=Kt[Te],null!=(ir=Ye(De[Te],Te,De))&&(ir+="")){if(!(ft=Ut[Ne+ir]))throw new Error("missing: "+ir);if(ft===Pe)throw new Error("ambiguous: "+ir);ft.children?ft.children.push(gt):ft.children=[gt],gt.parent=ft}else{if(et)throw new Error("multiple roots");et=gt}if(!et)throw new Error("no root");if(et.parent=Ve,et.eachBefore(function(Qt){Qt.depth=Qt.parent.depth+1,--_e}).eachBefore(M),et.parent=null,_e>0)throw new Error("cycle");return et}return Ue.id=function(De){return arguments.length?(He=Z(De),Ue):He},Ue.parentId=function(De){return arguments.length?(Ye=Z(De),Ue):Ye},Ue}function Qe(He,Ye){return He.parent===Ye.parent?1:2}function ze(He){var Ye=He.children;return Ye?Ye[0]:He.t}function Ke(He){var Ye=He.children;return Ye?Ye[Ye.length-1]:He.t}function ut(He,Ye,Ue){var De=Ue/(Ye.i-He.i);Ye.c-=De,Ye.s+=Ue,He.c+=De,Ye.z+=Ue,Ye.m+=Ue}function We(He,Ye,Ue){return He.a.parent===Ye.parent?He.a:Ue}function je(He,Ye){this._=He,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Ye}function vt(){var He=Qe,Ye=1,Ue=1,De=null;function ge(gt){var Kt=function lt(He){for(var Ue,ge,Te,_e,et,Ye=new je(He,0),De=[Ye];Ue=De.pop();)if(Te=Ue._.children)for(Ue.children=new Array(et=Te.length),_e=et-1;_e>=0;--_e)De.push(ge=Ue.children[_e]=new je(Te[_e],_e)),ge.parent=Ue;return(Ye.parent=new je(null,0)).children=[Ye],Ye}(gt);if(Kt.eachAfter(Te),Kt.parent.m=-Kt.z,Kt.eachBefore(_e),De)gt.eachBefore(ft);else{var ir=gt,Lt=gt,Ut=gt;gt.eachBefore(function(rr){rr.x<ir.x&&(ir=rr),rr.x>Lt.x&&(Lt=rr),rr.depth>Ut.depth&&(Ut=rr)});var Qt=ir===Lt?1:He(ir,Lt)/2,Cr=Qt-ir.x,wt=Ye/(Lt.x+Qt+Cr),$t=Ue/(Ut.depth||1);gt.eachBefore(function(rr){rr.x=(rr.x+Cr)*wt,rr.y=rr.depth*$t})}return gt}function Te(gt){var Kt=gt.children,ir=gt.parent.children,Lt=gt.i?ir[gt.i-1]:null;if(Kt){!function ot(He){for(var Te,Ye=0,Ue=0,De=He.children,ge=De.length;--ge>=0;)(Te=De[ge]).z+=Ye,Te.m+=Ye,Ye+=Te.s+(Ue+=Te.c)}(gt);var Ut=(Kt[0].z+Kt[Kt.length-1].z)/2;Lt?(gt.z=Lt.z+He(gt._,Lt._),gt.m=gt.z-Ut):gt.z=Ut}else Lt&&(gt.z=Lt.z+He(gt._,Lt._));gt.parent.A=function et(gt,Kt,ir){if(Kt){for(var mr,Lt=gt,Ut=gt,Qt=Kt,Cr=Lt.parent.children[0],wt=Lt.m,$t=Ut.m,rr=Qt.m,Lr=Cr.m;Qt=Ke(Qt),Lt=ze(Lt),Qt&&Lt;)Cr=ze(Cr),(Ut=Ke(Ut)).a=gt,(mr=Qt.z+rr-Lt.z-wt+He(Qt._,Lt._))>0&&(ut(We(Qt,gt,ir),gt,mr),wt+=mr,$t+=mr),rr+=Qt.m,wt+=Lt.m,Lr+=Cr.m,$t+=Ut.m;Qt&&!Ke(Ut)&&(Ut.t=Qt,Ut.m+=rr-$t),Lt&&!ze(Cr)&&(Cr.t=Lt,Cr.m+=wt-Lr,ir=gt)}return ir}(gt,Lt,gt.parent.A||ir[0])}function _e(gt){gt._.x=gt.z+gt.parent.m,gt.m+=gt.parent.m}function ft(gt){gt.x*=Ye,gt.y=gt.depth*Ue}return ge.separation=function(gt){return arguments.length?(He=gt,ge):He},ge.size=function(gt){return arguments.length?(De=!1,Ye=+gt[0],Ue=+gt[1],ge):De?null:[Ye,Ue]},ge.nodeSize=function(gt){return arguments.length?(De=!0,Ye=+gt[0],Ue=+gt[1],ge):De?[Ye,Ue]:null},ge}function pt(He,Ye,Ue,De,ge){for(var _e,Te=He.children,et=-1,ft=Te.length,gt=He.value&&(ge-Ue)/He.value;++et<ft;)(_e=Te[et]).x0=Ye,_e.x1=De,_e.y0=Ue,_e.y1=Ue+=_e.value*gt}je.prototype=Object.create(i.prototype);var St=(1+Math.sqrt(5))/2;function Ct(He,Ye,Ue,De,ge,Te){for(var ft,gt,Ut,Qt,wt,$t,rr,Lr,mr,bt,ct,_e=[],et=Ye.children,Kt=0,ir=0,Lt=et.length,Cr=Ye.value;Kt<Lt;){Ut=ge-Ue,Qt=Te-De;do{wt=et[ir++].value}while(!wt&&ir<Lt);for($t=rr=wt,ct=wt*wt*(bt=Math.max(Qt/Ut,Ut/Qt)/(Cr*He)),mr=Math.max(rr/ct,ct/$t);ir<Lt;++ir){if(wt+=gt=et[ir].value,gt<$t&&($t=gt),gt>rr&&(rr=gt),ct=wt*wt*bt,(Lr=Math.max(rr/ct,ct/$t))>mr){wt-=gt;break}mr=Lr}_e.push(ft={value:wt,dice:Ut<Qt,children:et.slice(Kt,ir)}),ft.dice?Ee(ft,Ue,De,ge,Cr?De+=Qt*wt/Cr:Te):pt(ft,Ue,De,Cr?Ue+=Ut*wt/Cr:ge,Te),Cr-=wt,Kt=ir}return _e}var _t=function He(Ye){function Ue(De,ge,Te,_e,et){Ct(Ye,De,ge,Te,_e,et)}return Ue.ratio=function(De){return He((De=+De)>1?De:1)},Ue}(St);function nt(){var He=_t,Ye=!1,Ue=1,De=1,ge=[0],Te=q,_e=q,et=q,ft=q,gt=q;function Kt(Lt){return Lt.x0=Lt.y0=0,Lt.x1=Ue,Lt.y1=De,Lt.eachBefore(ir),ge=[0],Ye&&Lt.eachBefore(we),Lt}function ir(Lt){var Ut=ge[Lt.depth],Qt=Lt.x0+Ut,Cr=Lt.y0+Ut,wt=Lt.x1-Ut,$t=Lt.y1-Ut;wt<Qt&&(Qt=wt=(Qt+wt)/2),$t<Cr&&(Cr=$t=(Cr+$t)/2),Lt.x0=Qt,Lt.y0=Cr,Lt.x1=wt,Lt.y1=$t,Lt.children&&(Ut=ge[Lt.depth+1]=Te(Lt)/2,Qt+=gt(Lt)-Ut,Cr+=_e(Lt)-Ut,(wt-=et(Lt)-Ut)<Qt&&(Qt=wt=(Qt+wt)/2),($t-=ft(Lt)-Ut)<Cr&&(Cr=$t=(Cr+$t)/2),He(Lt,Qt,Cr,wt,$t))}return Kt.round=function(Lt){return arguments.length?(Ye=!!Lt,Kt):Ye},Kt.size=function(Lt){return arguments.length?(Ue=+Lt[0],De=+Lt[1],Kt):[Ue,De]},Kt.tile=function(Lt){return arguments.length?(He=Z(Lt),Kt):He},Kt.padding=function(Lt){return arguments.length?Kt.paddingInner(Lt).paddingOuter(Lt):Kt.paddingInner()},Kt.paddingInner=function(Lt){return arguments.length?(Te="function"==typeof Lt?Lt:fe(+Lt),Kt):Te},Kt.paddingOuter=function(Lt){return arguments.length?Kt.paddingTop(Lt).paddingRight(Lt).paddingBottom(Lt).paddingLeft(Lt):Kt.paddingTop()},Kt.paddingTop=function(Lt){return arguments.length?(_e="function"==typeof Lt?Lt:fe(+Lt),Kt):_e},Kt.paddingRight=function(Lt){return arguments.length?(et="function"==typeof Lt?Lt:fe(+Lt),Kt):et},Kt.paddingBottom=function(Lt){return arguments.length?(ft="function"==typeof Lt?Lt:fe(+Lt),Kt):ft},Kt.paddingLeft=function(Lt){return arguments.length?(gt="function"==typeof Lt?Lt:fe(+Lt),Kt):gt},Kt}function ke(He,Ye,Ue,De,ge){var _e,ft,Te=He.children,et=Te.length,gt=new Array(et+1);for(gt[0]=ft=_e=0;_e<et;++_e)gt[_e+1]=ft+=Te[_e].value;!function Kt(ir,Lt,Ut,Qt,Cr,wt,$t){if(ir>=Lt-1){var rr=Te[ir];return rr.x0=Qt,rr.y0=Cr,rr.x1=wt,void(rr.y1=$t)}for(var Lr=gt[ir],mr=Ut/2+Lr,bt=ir+1,ct=Lt-1;bt<ct;){var At=bt+ct>>>1;gt[At]<mr?bt=At+1:ct=At}mr-gt[bt-1]<gt[bt]-mr&&ir+1<bt&&--bt;var It=gt[bt]-Lr,Ft=Ut-It;if(wt-Qt>$t-Cr){var Rt=(Qt*Ft+wt*It)/Ut;Kt(ir,bt,It,Qt,Cr,Rt,$t),Kt(bt,Lt,Ft,Rt,Cr,wt,$t)}else{var Gt=(Cr*Ft+$t*It)/Ut;Kt(ir,bt,It,Qt,Cr,wt,Gt),Kt(bt,Lt,Ft,Qt,Gt,wt,$t)}}(0,et,He.value,Ye,Ue,De,ge)}function Re(He,Ye,Ue,De,ge){(1&He.depth?pt:Ee)(He,Ye,Ue,De,ge)}var Be=function He(Ye){function Ue(De,ge,Te,_e,et){if((ft=De._squarify)&&ft.ratio===Ye)for(var ft,gt,Kt,ir,Ut,Lt=-1,Qt=ft.length,Cr=De.value;++Lt<Qt;){for(Kt=(gt=ft[Lt]).children,ir=gt.value=0,Ut=Kt.length;ir<Ut;++ir)gt.value+=Kt[ir].value;gt.dice?Ee(gt,ge,Te,_e,Te+=(et-Te)*gt.value/Cr):pt(gt,ge,Te,ge+=(_e-ge)*gt.value/Cr,et),Cr-=gt.value}else De._squarify=ft=Ct(Ye,De,ge,Te,_e,et),ft.ratio=Ye}return Ue.ratio=function(De){return He((De=+De)>1?De:1)},Ue}(St)},45879:function(oe,J,t){"use strict";t.d(J,{h5:function(){return m}});var S=Math.PI,k=2*S,l=1e-6,R=k-l;function I(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new I}I.prototype=v.prototype={constructor:I,moveTo:function(C,T){this._+="M"+(this._x0=this._x1=+C)+","+(this._y0=this._y1=+T)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(C,T){this._+="L"+(this._x1=+C)+","+(this._y1=+T)},quadraticCurveTo:function(C,T,L,x){this._+="Q"+ +C+","+ +T+","+(this._x1=+L)+","+(this._y1=+x)},bezierCurveTo:function(C,T,L,x,E,M){this._+="C"+ +C+","+ +T+","+ +L+","+ +x+","+(this._x1=+E)+","+(this._y1=+M)},arcTo:function(C,T,L,x,E){var M=this._x1,i=this._y1,D=(L=+L)-(C=+C),y=(x=+x)-(T=+T),B=M-C,F=i-T,_=B*B+F*F;if((E=+E)<0)throw new Error("negative radius: "+E);if(null===this._x1)this._+="M"+(this._x1=C)+","+(this._y1=T);else if(_>l)if(Math.abs(F*D-y*B)>l&&E){var z=L-M,V=x-i,H=D*D+y*y,U=z*z+V*V,G=Math.sqrt(H),Y=Math.sqrt(_),ee=E*Math.tan((S-Math.acos((H+_-U)/(2*G*Y)))/2),ue=ee/Y,ce=ee/G;Math.abs(ue-1)>l&&(this._+="L"+(C+ue*B)+","+(T+ue*F)),this._+="A"+E+","+E+",0,0,"+ +(F*z>B*V)+","+(this._x1=C+ce*D)+","+(this._y1=T+ce*y)}else this._+="L"+(this._x1=C)+","+(this._y1=T)},arc:function(C,T,L,x,E,M){C=+C,T=+T,M=!!M;var i=(L=+L)*Math.cos(x),D=L*Math.sin(x),y=C+i,B=T+D,F=1^M,_=M?x-E:E-x;if(L<0)throw new Error("negative radius: "+L);null===this._x1?this._+="M"+y+","+B:(Math.abs(this._x1-y)>l||Math.abs(this._y1-B)>l)&&(this._+="L"+y+","+B),L&&(_<0&&(_=_%k+k),_>R?this._+="A"+L+","+L+",0,1,"+F+","+(C-i)+","+(T-D)+"A"+L+","+L+",0,1,"+F+","+(this._x1=y)+","+(this._y1=B):_>l&&(this._+="A"+L+","+L+",0,"+ +(_>=S)+","+F+","+(this._x1=C+L*Math.cos(E))+","+(this._y1=T+L*Math.sin(E))))},rect:function(C,T,L,x){this._+="M"+(this._x0=this._x1=+C)+","+(this._y0=this._y1=+T)+"h"+ +L+"v"+ +x+"h"+-L+"Z"},toString:function(){return this._}};var w=v,r=Array.prototype.slice;function n(C){return function(){return C}}function c(C){return C[0]}function o(C){return C[1]}function f(C){return C.source}function h(C){return C.target}function b(C,T,L,x,E){C.moveTo(T,L),C.bezierCurveTo(T=(T+x)/2,L,T,E,x,E)}function m(){return function d(C){var T=f,L=h,x=c,E=o,M=null;function i(){var D,y=r.call(arguments),B=T.apply(this,y),F=L.apply(this,y);if(M||(M=D=w()),C(M,+x.apply(this,(y[0]=B,y)),+E.apply(this,y),+x.apply(this,(y[0]=F,y)),+E.apply(this,y)),D)return M=null,D+""||null}return i.source=function(D){return arguments.length?(T=D,i):T},i.target=function(D){return arguments.length?(L=D,i):L},i.x=function(D){return arguments.length?(x="function"==typeof D?D:n(+D),i):x},i.y=function(D){return arguments.length?(E="function"==typeof D?D:n(+D),i):E},i.context=function(D){return arguments.length?(M=D??null,i):M},i}(b)}},84096:function(oe,J,t){"use strict";t.d(J,{i$:function(){return ke},Dq:function(){return c},g0:function(){return Be}});var S=t(58176),k=t(48480),l=t(59879),R=t(82301),I=t(34823),v=t(79791);function w(Ue){if(0<=Ue.y&&Ue.y<100){var De=new Date(-1,Ue.m,Ue.d,Ue.H,Ue.M,Ue.S,Ue.L);return De.setFullYear(Ue.y),De}return new Date(Ue.y,Ue.m,Ue.d,Ue.H,Ue.M,Ue.S,Ue.L)}function r(Ue){if(0<=Ue.y&&Ue.y<100){var De=new Date(Date.UTC(-1,Ue.m,Ue.d,Ue.H,Ue.M,Ue.S,Ue.L));return De.setUTCFullYear(Ue.y),De}return new Date(Date.UTC(Ue.y,Ue.m,Ue.d,Ue.H,Ue.M,Ue.S,Ue.L))}function n(Ue,De,ge){return{y:Ue,m:De,d:ge,H:0,M:0,S:0,L:0}}function c(Ue){var De=Ue.dateTime,ge=Ue.date,Te=Ue.time,_e=Ue.periods,et=Ue.days,ft=Ue.shortDays,gt=Ue.months,Kt=Ue.shortMonths,ir=A(_e),Lt=m(_e),Ut=A(et),Qt=m(et),Cr=A(ft),wt=m(ft),$t=A(gt),rr=m(gt),Lr=A(Kt),mr=m(Kt),bt={a:function zt(Nr){return ft[Nr.getDay()]},A:function kt(Nr){return et[Nr.getDay()]},b:function Xt(Nr){return Kt[Nr.getMonth()]},B:function ur(Nr){return gt[Nr.getMonth()]},c:null,d:ee,e:ee,f:Q,H:ue,I:ce,j:pe,L:te,m:K,M:Z,p:function vr(Nr){return _e[+(Nr.getHours()>=12)]},q:function or(Nr){return 1+~~(Nr.getMonth()/3)},Q:Ct,s:_t,S:q,u:fe,U:re,V:$,w:le,W:se,x:null,X:null,y:de,Y:we,Z:Ee,"%":St},ct={a:function Ht(Nr){return ft[Nr.getUTCDay()]},A:function pr(Nr){return et[Nr.getUTCDay()]},b:function xr(Nr){return Kt[Nr.getUTCMonth()]},B:function Mr(Nr){return gt[Nr.getUTCMonth()]},c:null,d:Me,e:Me,f:Ie,H:Ne,I:Ve,j:Pe,L:Ce,m:Je,M:Qe,p:function kr(Nr){return _e[+(Nr.getUTCHours()>=12)]},q:function un(Nr){return 1+~~(Nr.getUTCMonth()/3)},Q:Ct,s:_t,S:ze,u:Ke,U:ut,V:ot,w:We,W:je,x:null,X:null,y:lt,Y:vt,Z:pt,"%":St},At={a:function jt(Nr,Yr,$r){var Qr=Cr.exec(Yr.slice($r));return Qr?(Nr.w=wt[Qr[0].toLowerCase()],$r+Qr[0].length):-1},A:function er(Nr,Yr,$r){var Qr=Ut.exec(Yr.slice($r));return Qr?(Nr.w=Qt[Qr[0].toLowerCase()],$r+Qr[0].length):-1},b:function dr(Nr,Yr,$r){var Qr=Lr.exec(Yr.slice($r));return Qr?(Nr.m=mr[Qr[0].toLowerCase()],$r+Qr[0].length):-1},B:function hr(Nr,Yr,$r){var Qr=$t.exec(Yr.slice($r));return Qr?(Nr.m=rr[Qr[0].toLowerCase()],$r+Qr[0].length):-1},c:function wr(Nr,Yr,$r){return Rt(Nr,De,Yr,$r)},d:y,e:y,f:H,H:F,I:F,j:B,L:V,m:D,M:_,p:function Gt(Nr,Yr,$r){var Qr=ir.exec(Yr.slice($r));return Qr?(Nr.p=Lt[Qr[0].toLowerCase()],$r+Qr[0].length):-1},q:i,Q:G,s:Y,S:z,u:g,U:C,V:T,w:u,W:L,x:function $e(Nr,Yr,$r){return Rt(Nr,ge,Yr,$r)},X:function Ze(Nr,Yr,$r){return Rt(Nr,Te,Yr,$r)},y:E,Y:x,Z:M,"%":U};function It(Nr,Yr){return function($r){var nr,Xr,Ur,Qr=[],Wn=-1,An=0,Tr=Nr.length;for($r instanceof Date||($r=new Date(+$r));++Wn<Tr;)37===Nr.charCodeAt(Wn)&&(Qr.push(Nr.slice(An,Wn)),null!=(Xr=o[nr=Nr.charAt(++Wn)])?nr=Nr.charAt(++Wn):Xr="e"===nr?" ":"0",(Ur=Yr[nr])&&(nr=Ur($r,Xr)),Qr.push(nr),An=Wn+1);return Qr.push(Nr.slice(An,Wn)),Qr.join("")}}function Ft(Nr,Yr){return function($r){var An,Tr,Qr=n(1900,void 0,1);if(Rt(Qr,Nr,$r+="",0)!=$r.length)return null;if("Q"in Qr)return new Date(Qr.Q);if("s"in Qr)return new Date(1e3*Qr.s+("L"in Qr?Qr.L:0));if(Yr&&!("Z"in Qr)&&(Qr.Z=0),"p"in Qr&&(Qr.H=Qr.H%12+12*Qr.p),void 0===Qr.m&&(Qr.m="q"in Qr?Qr.q:0),"V"in Qr){if(Qr.V<1||Qr.V>53)return null;"w"in Qr||(Qr.w=1),"Z"in Qr?(Tr=(An=r(n(Qr.y,0,1))).getUTCDay(),An=Tr>4||0===Tr?S.l6.ceil(An):(0,S.l6)(An),An=k.Z.offset(An,7*(Qr.V-1)),Qr.y=An.getUTCFullYear(),Qr.m=An.getUTCMonth(),Qr.d=An.getUTCDate()+(Qr.w+6)%7):(Tr=(An=w(n(Qr.y,0,1))).getDay(),An=Tr>4||0===Tr?l.wA.ceil(An):(0,l.wA)(An),An=R.Z.offset(An,7*(Qr.V-1)),Qr.y=An.getFullYear(),Qr.m=An.getMonth(),Qr.d=An.getDate()+(Qr.w+6)%7)}else("W"in Qr||"U"in Qr)&&("w"in Qr||(Qr.w="u"in Qr?Qr.u%7:"W"in Qr?1:0),Tr="Z"in Qr?r(n(Qr.y,0,1)).getUTCDay():w(n(Qr.y,0,1)).getDay(),Qr.m=0,Qr.d="W"in Qr?(Qr.w+6)%7+7*Qr.W-(Tr+5)%7:Qr.w+7*Qr.U-(Tr+6)%7);return"Z"in Qr?(Qr.H+=Qr.Z/100|0,Qr.M+=Qr.Z%100,r(Qr)):w(Qr)}}function Rt(Nr,Yr,$r,Qr){for(var nr,Xr,Wn=0,An=Yr.length,Tr=$r.length;Wn<An;){if(Qr>=Tr)return-1;if(37===(nr=Yr.charCodeAt(Wn++))){if(nr=Yr.charAt(Wn++),!(Xr=At[nr in o?Yr.charAt(Wn++):nr])||(Qr=Xr(Nr,$r,Qr))<0)return-1}else if(nr!=$r.charCodeAt(Qr++))return-1}return Qr}return bt.x=It(ge,bt),bt.X=It(Te,bt),bt.c=It(De,bt),ct.x=It(ge,ct),ct.X=It(Te,ct),ct.c=It(De,ct),{format:function(Nr){var Yr=It(Nr+="",bt);return Yr.toString=function(){return Nr},Yr},parse:function(Nr){var Yr=Ft(Nr+="",!1);return Yr.toString=function(){return Nr},Yr},utcFormat:function(Nr){var Yr=It(Nr+="",ct);return Yr.toString=function(){return Nr},Yr},utcParse:function(Nr){var Yr=Ft(Nr+="",!0);return Yr.toString=function(){return Nr},Yr}}}var nt,ke,Be,o={"-":"",_:" ",0:"0"},f=/^\s*\d+/,h=/^%/,d=/[\\^$*+?|[\]().{}]/g;function b(Ue,De,ge){var Te=Ue<0?"-":"",_e=(Te?-Ue:Ue)+"",et=_e.length;return Te+(et<ge?new Array(ge-et+1).join(De)+_e:_e)}function p(Ue){return Ue.replace(d,"\\$&")}function A(Ue){return new RegExp("^(?:"+Ue.map(p).join("|")+")","i")}function m(Ue){for(var De={},ge=-1,Te=Ue.length;++ge<Te;)De[Ue[ge].toLowerCase()]=ge;return De}function u(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+1));return Te?(Ue.w=+Te[0],ge+Te[0].length):-1}function g(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+1));return Te?(Ue.u=+Te[0],ge+Te[0].length):-1}function C(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+2));return Te?(Ue.U=+Te[0],ge+Te[0].length):-1}function T(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+2));return Te?(Ue.V=+Te[0],ge+Te[0].length):-1}function L(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+2));return Te?(Ue.W=+Te[0],ge+Te[0].length):-1}function x(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+4));return Te?(Ue.y=+Te[0],ge+Te[0].length):-1}function E(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+2));return Te?(Ue.y=+Te[0]+(+Te[0]>68?1900:2e3),ge+Te[0].length):-1}function M(Ue,De,ge){var Te=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(De.slice(ge,ge+6));return Te?(Ue.Z=Te[1]?0:-(Te[2]+(Te[3]||"00")),ge+Te[0].length):-1}function i(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+1));return Te?(Ue.q=3*Te[0]-3,ge+Te[0].length):-1}function D(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+2));return Te?(Ue.m=Te[0]-1,ge+Te[0].length):-1}function y(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+2));return Te?(Ue.d=+Te[0],ge+Te[0].length):-1}function B(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+3));return Te?(Ue.m=0,Ue.d=+Te[0],ge+Te[0].length):-1}function F(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+2));return Te?(Ue.H=+Te[0],ge+Te[0].length):-1}function _(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+2));return Te?(Ue.M=+Te[0],ge+Te[0].length):-1}function z(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+2));return Te?(Ue.S=+Te[0],ge+Te[0].length):-1}function V(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+3));return Te?(Ue.L=+Te[0],ge+Te[0].length):-1}function H(Ue,De,ge){var Te=f.exec(De.slice(ge,ge+6));return Te?(Ue.L=Math.floor(Te[0]/1e3),ge+Te[0].length):-1}function U(Ue,De,ge){var Te=h.exec(De.slice(ge,ge+1));return Te?ge+Te[0].length:-1}function G(Ue,De,ge){var Te=f.exec(De.slice(ge));return Te?(Ue.Q=+Te[0],ge+Te[0].length):-1}function Y(Ue,De,ge){var Te=f.exec(De.slice(ge));return Te?(Ue.s=+Te[0],ge+Te[0].length):-1}function ee(Ue,De){return b(Ue.getDate(),De,2)}function ue(Ue,De){return b(Ue.getHours(),De,2)}function ce(Ue,De){return b(Ue.getHours()%12||12,De,2)}function pe(Ue,De){return b(1+R.Z.count((0,I.Z)(Ue),Ue),De,3)}function te(Ue,De){return b(Ue.getMilliseconds(),De,3)}function Q(Ue,De){return te(Ue,De)+"000"}function K(Ue,De){return b(Ue.getMonth()+1,De,2)}function Z(Ue,De){return b(Ue.getMinutes(),De,2)}function q(Ue,De){return b(Ue.getSeconds(),De,2)}function fe(Ue){var De=Ue.getDay();return 0===De?7:De}function re(Ue,De){return b(l.OM.count((0,I.Z)(Ue)-1,Ue),De,2)}function $(Ue,De){var ge=Ue.getDay();return Ue=ge>=4||0===ge?(0,l.bL)(Ue):l.bL.ceil(Ue),b(l.bL.count((0,I.Z)(Ue),Ue)+(4===(0,I.Z)(Ue).getDay()),De,2)}function le(Ue){return Ue.getDay()}function se(Ue,De){return b(l.wA.count((0,I.Z)(Ue)-1,Ue),De,2)}function de(Ue,De){return b(Ue.getFullYear()%100,De,2)}function we(Ue,De){return b(Ue.getFullYear()%1e4,De,4)}function Ee(Ue){var De=Ue.getTimezoneOffset();return(De>0?"-":(De*=-1,"+"))+b(De/60|0,"0",2)+b(De%60,"0",2)}function Me(Ue,De){return b(Ue.getUTCDate(),De,2)}function Ne(Ue,De){return b(Ue.getUTCHours(),De,2)}function Ve(Ue,De){return b(Ue.getUTCHours()%12||12,De,2)}function Pe(Ue,De){return b(1+k.Z.count((0,v.Z)(Ue),Ue),De,3)}function Ce(Ue,De){return b(Ue.getUTCMilliseconds(),De,3)}function Ie(Ue,De){return Ce(Ue,De)+"000"}function Je(Ue,De){return b(Ue.getUTCMonth()+1,De,2)}function Qe(Ue,De){return b(Ue.getUTCMinutes(),De,2)}function ze(Ue,De){return b(Ue.getUTCSeconds(),De,2)}function Ke(Ue){var De=Ue.getUTCDay();return 0===De?7:De}function ut(Ue,De){return b(S.Ox.count((0,v.Z)(Ue)-1,Ue),De,2)}function ot(Ue,De){var ge=Ue.getUTCDay();return Ue=ge>=4||0===ge?(0,S.hB)(Ue):S.hB.ceil(Ue),b(S.hB.count((0,v.Z)(Ue),Ue)+(4===(0,v.Z)(Ue).getUTCDay()),De,2)}function We(Ue){return Ue.getUTCDay()}function je(Ue,De){return b(S.l6.count((0,v.Z)(Ue)-1,Ue),De,2)}function lt(Ue,De){return b(Ue.getUTCFullYear()%100,De,2)}function vt(Ue,De){return b(Ue.getUTCFullYear()%1e4,De,4)}function pt(){return"+0000"}function St(){return"%"}function Ct(Ue){return+Ue}function _t(Ue){return Math.floor(+Ue/1e3)}!function Ye(Ue){return nt=c(Ue),ke=nt.format,Be=nt.utcFormat,nt}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},82301:function(oe,J,t){"use strict";t.d(J,{a:function(){return R}});var S=t(30052),k=t(54263),l=(0,S.Z)(function(I){I.setHours(0,0,0,0)},function(I,v){I.setDate(I.getDate()+v)},function(I,v){return(v-I-(v.getTimezoneOffset()-I.getTimezoneOffset())*k.yB)/k.UD},function(I){return I.getDate()-1});J.Z=l;var R=l.range},54263:function(oe,J,t){"use strict";t.d(J,{UD:function(){return R},Y2:function(){return l},Ym:function(){return S},iM:function(){return I},yB:function(){return k}});var S=1e3,k=6e4,l=36e5,R=864e5,I=6048e5},81041:function(oe,J,t){"use strict";t.r(J),t.d(J,{timeDay:function(){return b.Z},timeDays:function(){return b.a},timeFriday:function(){return p.mC},timeFridays:function(){return p.b$},timeHour:function(){return h},timeHours:function(){return d},timeInterval:function(){return S.Z},timeMillisecond:function(){return l},timeMilliseconds:function(){return R},timeMinute:function(){return c},timeMinutes:function(){return o},timeMonday:function(){return p.wA},timeMondays:function(){return p.bJ},timeMonth:function(){return m},timeMonths:function(){return u},timeSaturday:function(){return p.EY},timeSaturdays:function(){return p.Ff},timeSecond:function(){return w},timeSeconds:function(){return r},timeSunday:function(){return p.OM},timeSundays:function(){return p.vm},timeThursday:function(){return p.bL},timeThursdays:function(){return p.$t},timeTuesday:function(){return p.sy},timeTuesdays:function(){return p.aU},timeWednesday:function(){return p.zg},timeWednesdays:function(){return p.Ld},timeWeek:function(){return p.OM},timeWeeks:function(){return p.vm},timeYear:function(){return g.Z},timeYears:function(){return g.g},utcDay:function(){return i.Z},utcDays:function(){return i.y},utcFriday:function(){return D.QQ},utcFridays:function(){return D.fz},utcHour:function(){return E},utcHours:function(){return M},utcMillisecond:function(){return l},utcMilliseconds:function(){return R},utcMinute:function(){return T},utcMinutes:function(){return L},utcMonday:function(){return D.l6},utcMondays:function(){return D.$3},utcMonth:function(){return B},utcMonths:function(){return F},utcSaturday:function(){return D.g4},utcSaturdays:function(){return D.Q_},utcSecond:function(){return w},utcSeconds:function(){return r},utcSunday:function(){return D.Ox},utcSundays:function(){return D.SU},utcThursday:function(){return D.hB},utcThursdays:function(){return D.xj},utcTuesday:function(){return D.J1},utcTuesdays:function(){return D.DK},utcWednesday:function(){return D.b3},utcWednesdays:function(){return D.uy},utcWeek:function(){return D.Ox},utcWeeks:function(){return D.SU},utcYear:function(){return _.Z},utcYears:function(){return _.D}});var S=t(30052),k=(0,S.Z)(function(){},function(z,V){z.setTime(+z+V)},function(z,V){return V-z});k.every=function(z){return z=Math.floor(z),isFinite(z)&&z>0?z>1?(0,S.Z)(function(V){V.setTime(Math.floor(V/z)*z)},function(V,H){V.setTime(+V+H*z)},function(V,H){return(H-V)/z}):k:null};var l=k,R=k.range,I=t(54263),v=(0,S.Z)(function(z){z.setTime(z-z.getMilliseconds())},function(z,V){z.setTime(+z+V*I.Ym)},function(z,V){return(V-z)/I.Ym},function(z){return z.getUTCSeconds()}),w=v,r=v.range,n=(0,S.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*I.Ym)},function(z,V){z.setTime(+z+V*I.yB)},function(z,V){return(V-z)/I.yB},function(z){return z.getMinutes()}),c=n,o=n.range,f=(0,S.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*I.Ym-z.getMinutes()*I.yB)},function(z,V){z.setTime(+z+V*I.Y2)},function(z,V){return(V-z)/I.Y2},function(z){return z.getHours()}),h=f,d=f.range,b=t(82301),p=t(59879),A=(0,S.Z)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,V){z.setMonth(z.getMonth()+V)},function(z,V){return V.getMonth()-z.getMonth()+12*(V.getFullYear()-z.getFullYear())},function(z){return z.getMonth()}),m=A,u=A.range,g=t(34823),C=(0,S.Z)(function(z){z.setUTCSeconds(0,0)},function(z,V){z.setTime(+z+V*I.yB)},function(z,V){return(V-z)/I.yB},function(z){return z.getUTCMinutes()}),T=C,L=C.range,x=(0,S.Z)(function(z){z.setUTCMinutes(0,0,0)},function(z,V){z.setTime(+z+V*I.Y2)},function(z,V){return(V-z)/I.Y2},function(z){return z.getUTCHours()}),E=x,M=x.range,i=t(48480),D=t(58176),y=(0,S.Z)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,V){z.setUTCMonth(z.getUTCMonth()+V)},function(z,V){return V.getUTCMonth()-z.getUTCMonth()+12*(V.getUTCFullYear()-z.getUTCFullYear())},function(z){return z.getUTCMonth()}),B=y,F=y.range,_=t(79791)},30052:function(oe,J,t){"use strict";t.d(J,{Z:function(){return l}});var S=new Date,k=new Date;function l(R,I,v,w){function r(n){return R(n=0===arguments.length?new Date:new Date(+n)),n}return r.floor=function(n){return R(n=new Date(+n)),n},r.ceil=function(n){return R(n=new Date(n-1)),I(n,1),R(n),n},r.round=function(n){var c=r(n),o=r.ceil(n);return n-c<o-n?c:o},r.offset=function(n,c){return I(n=new Date(+n),null==c?1:Math.floor(c)),n},r.range=function(n,c,o){var h,f=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<c&&o>0))return f;do{f.push(h=new Date(+n)),I(n,o),R(n)}while(h<n&&n<c);return f},r.filter=function(n){return l(function(c){if(c>=c)for(;R(c),!n(c);)c.setTime(c-1)},function(c,o){if(c>=c)if(o<0)for(;++o<=0;)for(;I(c,-1),!n(c););else for(;--o>=0;)for(;I(c,1),!n(c););})},v&&(r.count=function(n,c){return S.setTime(+n),k.setTime(+c),R(S),R(k),Math.floor(v(S,k))},r.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?r.filter(w?function(c){return w(c)%n==0}:function(c){return r.count(0,c)%n==0}):r:null}),r}},48480:function(oe,J,t){"use strict";t.d(J,{y:function(){return R}});var S=t(30052),k=t(54263),l=(0,S.Z)(function(I){I.setUTCHours(0,0,0,0)},function(I,v){I.setUTCDate(I.getUTCDate()+v)},function(I,v){return(v-I)/k.UD},function(I){return I.getUTCDate()-1});J.Z=l;var R=l.range},58176:function(oe,J,t){"use strict";t.d(J,{$3:function(){return f},DK:function(){return h},J1:function(){return v},Ox:function(){return R},QQ:function(){return n},Q_:function(){return A},SU:function(){return o},b3:function(){return w},fz:function(){return p},g4:function(){return c},hB:function(){return r},l6:function(){return I},uy:function(){return d},xj:function(){return b}});var S=t(30052),k=t(54263);function l(m){return(0,S.Z)(function(u){u.setUTCDate(u.getUTCDate()-(u.getUTCDay()+7-m)%7),u.setUTCHours(0,0,0,0)},function(u,g){u.setUTCDate(u.getUTCDate()+7*g)},function(u,g){return(g-u)/k.iM})}var R=l(0),I=l(1),v=l(2),w=l(3),r=l(4),n=l(5),c=l(6),o=R.range,f=I.range,h=v.range,d=w.range,b=r.range,p=n.range,A=c.range},79791:function(oe,J,t){"use strict";t.d(J,{D:function(){return l}});var S=t(30052),k=(0,S.Z)(function(R){R.setUTCMonth(0,1),R.setUTCHours(0,0,0,0)},function(R,I){R.setUTCFullYear(R.getUTCFullYear()+I)},function(R,I){return I.getUTCFullYear()-R.getUTCFullYear()},function(R){return R.getUTCFullYear()});k.every=function(R){return isFinite(R=Math.floor(R))&&R>0?(0,S.Z)(function(I){I.setUTCFullYear(Math.floor(I.getUTCFullYear()/R)*R),I.setUTCMonth(0,1),I.setUTCHours(0,0,0,0)},function(I,v){I.setUTCFullYear(I.getUTCFullYear()+v*R)}):null},J.Z=k;var l=k.range},59879:function(oe,J,t){"use strict";t.d(J,{$t:function(){return b},EY:function(){return c},Ff:function(){return A},Ld:function(){return d},OM:function(){return R},aU:function(){return h},b$:function(){return p},bJ:function(){return f},bL:function(){return r},mC:function(){return n},sy:function(){return v},vm:function(){return o},wA:function(){return I},zg:function(){return w}});var S=t(30052),k=t(54263);function l(m){return(0,S.Z)(function(u){u.setDate(u.getDate()-(u.getDay()+7-m)%7),u.setHours(0,0,0,0)},function(u,g){u.setDate(u.getDate()+7*g)},function(u,g){return(g-u-(g.getTimezoneOffset()-u.getTimezoneOffset())*k.yB)/k.iM})}var R=l(0),I=l(1),v=l(2),w=l(3),r=l(4),n=l(5),c=l(6),o=R.range,f=I.range,h=v.range,d=w.range,b=r.range,p=n.range,A=c.range},34823:function(oe,J,t){"use strict";t.d(J,{g:function(){return l}});var S=t(30052),k=(0,S.Z)(function(R){R.setMonth(0,1),R.setHours(0,0,0,0)},function(R,I){R.setFullYear(R.getFullYear()+I)},function(R,I){return I.getFullYear()-R.getFullYear()},function(R){return R.getFullYear()});k.every=function(R){return isFinite(R=Math.floor(R))&&R>0?(0,S.Z)(function(I){I.setFullYear(Math.floor(I.getFullYear()/R)*R),I.setMonth(0,1),I.setHours(0,0,0,0)},function(I,v){I.setFullYear(I.getFullYear()+v*R)}):null},J.Z=k;var l=k.range},17045:function(oe,J,t){"use strict";var S=t(8709),k="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),l=Object.prototype.toString,R=Array.prototype.concat,I=Object.defineProperty,w=t(55622)(),r=I&&w,n=function(o,f,h,d){if(f in o)if(!0===d){if(o[f]===h)return}else if(!function(o){return"function"==typeof o&&"[object Function]"===l.call(o)}(d)||!d())return;r?I(o,f,{configurable:!0,enumerable:!1,value:h,writable:!0}):o[f]=h},c=function(o,f){var h=arguments.length>2?arguments[2]:{},d=S(f);k&&(d=R.call(d,Object.getOwnPropertySymbols(f)));for(var b=0;b<d.length;b+=1)n(o,d[b],f[d[b]],h[d[b]])};c.supportsDescriptors=!!r,oe.exports=c},46775:function(oe){oe.exports=function(){for(var J=0;J<arguments.length;J++)if(void 0!==arguments[J])return arguments[J]}},53545:function(oe){"use strict";oe.exports=k;var t=(k.canvas=document.createElement("canvas")).getContext("2d"),S=l([32,126]);function k(R,I){Array.isArray(R)&&(R=R.join(", "));var w,v={},r=16,n=.05;I&&(2===I.length&&"number"==typeof I[0]?w=l(I):Array.isArray(I)?w=I:(I.o?w=l(I.o):I.pairs&&(w=I.pairs),I.fontSize&&(r=I.fontSize),null!=I.threshold&&(n=I.threshold))),w||(w=S),t.font=r+"px "+R;for(var c=0;c<w.length;c++){var o=w[c],f=t.measureText(o[0]).width+t.measureText(o[1]).width,h=t.measureText(o).width;Math.abs(f-h)>r*n&&(v[o]=(h-f)/r*1e3)}return v}function l(R){for(var I=[],v=R[0];v<=R[1];v++)for(var w=String.fromCharCode(v),r=R[0];r<R[1];r++){var n=String.fromCharCode(r);I.push(w+n)}return I}k.createPairs=l,k.ascii=S},31457:function(oe,J,t){var S=t(65185),k=t(18625),l={M:"moveTo",C:"bezierCurveTo"};oe.exports=function(R,I){R.beginPath(),k(S(I)).forEach(function(v){var w=v[0],r=v.slice(1);R[l[w]].apply(R,r)}),R.closePath()}},90660:function(oe){oe.exports=function(J){switch(J){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(oe){"use strict";function J(k,l,R){var I=0|k[R];if(I<=0)return[];var w,v=new Array(I);if(R===k.length-1)for(w=0;w<I;++w)v[w]=l;else for(w=0;w<I;++w)v[w]=J(k,l,R+1);return v}oe.exports=function S(k,l){switch(typeof l>"u"&&(l=0),typeof k){case"number":if(k>0)return function t(k,l){var R,I;for(R=new Array(k),I=0;I<k;++I)R[I]=l;return R}(0|k,l);break;case"object":if("number"==typeof k.length)return J(k,l,0)}return[]}},11474:function(oe){"use strict";function J(F,_,z){z=z||2;var Y,ee,ue,ce,pe,te,Q,V=_&&_.length,H=V?_[0]*z:F.length,U=t(F,0,H,z,!0),G=[];if(!U||U.next===U.prev)return G;if(V&&(U=function w(F,_,z,V){var U,G,ue,H=[];for(U=0,G=_.length;U<G;U++)(ue=t(F,_[U]*V,U<G-1?_[U+1]*V:F.length,V,!1))===ue.next&&(ue.steiner=!0),H.push(b(ue));for(H.sort(r),U=0;U<H.length;U++)n(H[U],z),z=S(z,z.next);return z}(F,_,U,z)),F.length>80*z){Y=ue=F[0],ee=ce=F[1];for(var K=z;K<H;K+=z)(pe=F[K])<Y&&(Y=pe),(te=F[K+1])<ee&&(ee=te),pe>ue&&(ue=pe),te>ce&&(ce=te);Q=0!==(Q=Math.max(ue-Y,ce-ee))?1/Q:0}return k(U,G,z,Y,ee,Q),G}function t(F,_,z,V,H){var U,G;if(H===B(F,_,z,V)>0)for(U=_;U<z;U+=V)G=i(U,F[U],F[U+1],G);else for(U=z-V;U>=_;U-=V)G=i(U,F[U],F[U+1],G);return G&&u(G,G.next)&&(D(G),G=G.next),G}function S(F,_){if(!F)return F;_||(_=F);var V,z=F;do{if(V=!1,z.steiner||!u(z,z.next)&&0!==m(z.prev,z,z.next))z=z.next;else{if(D(z),(z=_=z.prev)===z.next)break;V=!0}}while(V||z!==_);return _}function k(F,_,z,V,H,U,G){if(F){!G&&U&&function f(F,_,z,V){var H=F;do{null===H.z&&(H.z=d(H.x,H.y,_,z,V)),H.prevZ=H.prev,H.nextZ=H.next,H=H.next}while(H!==F);H.prevZ.nextZ=null,H.prevZ=null,function h(F){var _,z,V,H,U,G,Y,ee,ue=1;do{for(z=F,F=null,U=null,G=0;z;){for(G++,V=z,Y=0,_=0;_<ue&&(Y++,V=V.nextZ);_++);for(ee=ue;Y>0||ee>0&&V;)0!==Y&&(0===ee||!V||z.z<=V.z)?(H=z,z=z.nextZ,Y--):(H=V,V=V.nextZ,ee--),U?U.nextZ=H:F=H,H.prevZ=U,U=H;z=V}U.nextZ=null,ue*=2}while(G>1);return F}(H)}(F,V,H,U);for(var ee,ue,Y=F;F.prev!==F.next;)if(ee=F.prev,ue=F.next,U?R(F,V,H,U):l(F))_.push(ee.i/z),_.push(F.i/z),_.push(ue.i/z),D(F),F=ue.next,Y=ue.next;else if((F=ue)===Y){G?1===G?k(F=I(S(F),_,z),_,z,V,H,U,2):2===G&&v(F,_,z,V,H,U):k(S(F),_,z,V,H,U,1);break}}}function l(F){var _=F.prev,z=F,V=F.next;if(m(_,z,V)>=0)return!1;for(var H=F.next.next;H!==F.prev;){if(p(_.x,_.y,z.x,z.y,V.x,V.y,H.x,H.y)&&m(H.prev,H,H.next)>=0)return!1;H=H.next}return!0}function R(F,_,z,V){var H=F.prev,U=F,G=F.next;if(m(H,U,G)>=0)return!1;for(var ue=H.x>U.x?H.x>G.x?H.x:G.x:U.x>G.x?U.x:G.x,ce=H.y>U.y?H.y>G.y?H.y:G.y:U.y>G.y?U.y:G.y,pe=d(H.x<U.x?H.x<G.x?H.x:G.x:U.x<G.x?U.x:G.x,H.y<U.y?H.y<G.y?H.y:G.y:U.y<G.y?U.y:G.y,_,z,V),te=d(ue,ce,_,z,V),Q=F.prevZ,K=F.nextZ;Q&&Q.z>=pe&&K&&K.z<=te;){if(Q!==F.prev&&Q!==F.next&&p(H.x,H.y,U.x,U.y,G.x,G.y,Q.x,Q.y)&&m(Q.prev,Q,Q.next)>=0||(Q=Q.prevZ,K!==F.prev&&K!==F.next&&p(H.x,H.y,U.x,U.y,G.x,G.y,K.x,K.y)&&m(K.prev,K,K.next)>=0))return!1;K=K.nextZ}for(;Q&&Q.z>=pe;){if(Q!==F.prev&&Q!==F.next&&p(H.x,H.y,U.x,U.y,G.x,G.y,Q.x,Q.y)&&m(Q.prev,Q,Q.next)>=0)return!1;Q=Q.prevZ}for(;K&&K.z<=te;){if(K!==F.prev&&K!==F.next&&p(H.x,H.y,U.x,U.y,G.x,G.y,K.x,K.y)&&m(K.prev,K,K.next)>=0)return!1;K=K.nextZ}return!0}function I(F,_,z){var V=F;do{var H=V.prev,U=V.next.next;!u(H,U)&&g(H,V,V.next,U)&&x(H,U)&&x(U,H)&&(_.push(H.i/z),_.push(V.i/z),_.push(U.i/z),D(V),D(V.next),V=F=U),V=V.next}while(V!==F);return S(V)}function v(F,_,z,V,H,U){var G=F;do{for(var Y=G.next.next;Y!==G.prev;){if(G.i!==Y.i&&A(G,Y)){var ee=M(G,Y);return G=S(G,G.next),ee=S(ee,ee.next),k(G,_,z,V,H,U),void k(ee,_,z,V,H,U)}Y=Y.next}G=G.next}while(G!==F)}function r(F,_){return F.x-_.x}function n(F,_){if(_=function c(F,_){var G,z=_,V=F.x,H=F.y,U=-1/0;do{if(H<=z.y&&H>=z.next.y&&z.next.y!==z.y){var Y=z.x+(H-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(Y<=V&&Y>U){if(U=Y,Y===V){if(H===z.y)return z;if(H===z.next.y)return z.next}G=z.x<z.next.x?z:z.next}}z=z.next}while(z!==_);if(!G)return null;if(V===U)return G;var te,ee=G,ue=G.x,ce=G.y,pe=1/0;z=G;do{V>=z.x&&z.x>=ue&&V!==z.x&&p(H<ce?V:U,H,ue,ce,H<ce?U:V,H,z.x,z.y)&&(te=Math.abs(H-z.y)/(V-z.x),x(z,F)&&(te<pe||te===pe&&(z.x>G.x||z.x===G.x&&o(G,z)))&&(G=z,pe=te)),z=z.next}while(z!==ee);return G}(F,_)){var z=M(_,F);S(_,_.next),S(z,z.next)}}function o(F,_){return m(F.prev,F,_.prev)<0&&m(_.next,F,F.next)<0}function d(F,_,z,V,H){return(F=1431655765&((F=858993459&((F=252645135&((F=16711935&((F=32767*(F-z)*H)|F<<8))|F<<4))|F<<2))|F<<1))|(_=1431655765&((_=858993459&((_=252645135&((_=16711935&((_=32767*(_-V)*H)|_<<8))|_<<4))|_<<2))|_<<1))<<1}function b(F){var _=F,z=F;do{(_.x<z.x||_.x===z.x&&_.y<z.y)&&(z=_),_=_.next}while(_!==F);return z}function p(F,_,z,V,H,U,G,Y){return(H-G)*(_-Y)-(F-G)*(U-Y)>=0&&(F-G)*(V-Y)-(z-G)*(_-Y)>=0&&(z-G)*(U-Y)-(H-G)*(V-Y)>=0}function A(F,_){return F.next.i!==_.i&&F.prev.i!==_.i&&!function L(F,_){var z=F;do{if(z.i!==F.i&&z.next.i!==F.i&&z.i!==_.i&&z.next.i!==_.i&&g(z,z.next,F,_))return!0;z=z.next}while(z!==F);return!1}(F,_)&&(x(F,_)&&x(_,F)&&function E(F,_){var z=F,V=!1,H=(F.x+_.x)/2,U=(F.y+_.y)/2;do{z.y>U!=z.next.y>U&&z.next.y!==z.y&&H<(z.next.x-z.x)*(U-z.y)/(z.next.y-z.y)+z.x&&(V=!V),z=z.next}while(z!==F);return V}(F,_)&&(m(F.prev,F,_.prev)||m(F,_.prev,_))||u(F,_)&&m(F.prev,F,F.next)>0&&m(_.prev,_,_.next)>0)}function m(F,_,z){return(_.y-F.y)*(z.x-_.x)-(_.x-F.x)*(z.y-_.y)}function u(F,_){return F.x===_.x&&F.y===_.y}function g(F,_,z,V){var H=T(m(F,_,z)),U=T(m(F,_,V)),G=T(m(z,V,F)),Y=T(m(z,V,_));return!!(H!==U&&G!==Y||0===H&&C(F,z,_)||0===U&&C(F,V,_)||0===G&&C(z,F,V)||0===Y&&C(z,_,V))}function C(F,_,z){return _.x<=Math.max(F.x,z.x)&&_.x>=Math.min(F.x,z.x)&&_.y<=Math.max(F.y,z.y)&&_.y>=Math.min(F.y,z.y)}function T(F){return F>0?1:F<0?-1:0}function x(F,_){return m(F.prev,F,F.next)<0?m(F,_,F.next)>=0&&m(F,F.prev,_)>=0:m(F,_,F.prev)<0||m(F,F.next,_)<0}function M(F,_){var z=new y(F.i,F.x,F.y),V=new y(_.i,_.x,_.y),H=F.next,U=_.prev;return F.next=_,_.prev=F,z.next=H,H.prev=z,V.next=z,z.prev=V,U.next=V,V.prev=U,V}function i(F,_,z,V){var H=new y(F,_,z);return V?(H.next=V.next,H.prev=V,V.next.prev=H,V.next=H):(H.prev=H,H.next=H),H}function D(F){F.next.prev=F.prev,F.prev.next=F.next,F.prevZ&&(F.prevZ.nextZ=F.nextZ),F.nextZ&&(F.nextZ.prevZ=F.prevZ)}function y(F,_,z){this.i=F,this.x=_,this.y=z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function B(F,_,z,V){for(var H=0,U=_,G=z-V;U<z;U+=V)H+=(F[G]-F[U])*(F[U+1]+F[G+1]),G=U;return H}oe.exports=J,oe.exports.default=J,J.deviation=function(F,_,z,V){var H=_&&_.length,G=Math.abs(B(F,0,H?_[0]*z:F.length,z));if(H)for(var Y=0,ee=_.length;Y<ee;Y++)G-=Math.abs(B(F,_[Y]*z,Y<ee-1?_[Y+1]*z:F.length,z));var pe=0;for(Y=0;Y<V.length;Y+=3){var te=V[Y]*z,Q=V[Y+1]*z,K=V[Y+2]*z;pe+=Math.abs((F[te]-F[K])*(F[Q+1]-F[te+1])-(F[te]-F[Q])*(F[K+1]-F[te+1]))}return 0===G&&0===pe?0:Math.abs((pe-G)/G)},J.flatten=function(F){for(var _=F[0][0].length,z={vertices:[],holes:[],dimensions:_},V=0,H=0;H<F.length;H++){for(var U=0;U<F[H].length;U++)for(var G=0;G<_;G++)z.vertices.push(F[H][U][G]);H>0&&z.holes.push(V+=F[H-1].length)}return z}},2502:function(oe,J,t){var S=t(68664);oe.exports=function(l,R){var c,I=[],v=[],w=[],r={},n=[];function o(C){w[C]=!1,r.hasOwnProperty(C)&&Object.keys(r[C]).forEach(function(T){delete r[C][T],w[T]&&o(T)})}function f(C){var L,x,T=!1;for(v.push(C),w[C]=!0,L=0;L<n[C].length;L++)(x=n[C][L])===c?(h(c,v),T=!0):w[x]||(T=f(x));if(T)o(C);else for(L=0;L<n[C].length;L++){var E=r[x=n[C][L]];E||(r[x]=E={}),E[x]=!0}return v.pop(),T}function h(C,T){var L=[].concat(T).concat(C);R?R(f):I.push(L)}function b(C){!function d(C){for(var T=0;T<l.length;T++)T<C&&(l[T]=[]),l[T]=l[T].filter(function(L){return L>=C})}(C);for(var M,x=S(l).components.filter(function(F){return F.length>1}),E=1/0,i=0;i<x.length;i++)for(var D=0;D<x[i].length;D++)x[i][D]<E&&(E=x[i][D],M=i);var y=x[M];return!!y&&{leastVertex:E,adjList:l.map(function(F,_){return-1===y.indexOf(_)?[]:F.filter(function(z){return-1!==y.indexOf(z)})})}}c=0;for(var p=l.length;c<p;){var A=b(c);if(c=A.leastVertex,n=A.adjList){for(var m=0;m<n.length;m++)for(var u=0;u<n[m].length;u++){var g=n[m][u];w[+g]=!1,r[g]={}}f(c),c+=1}else c=p}if(!R)return I}},16134:function(oe,J,t){"use strict";var S=t(36672);oe.exports=function(){return S(this).length=0,this}},4892:function(oe,J,t){"use strict";oe.exports=t(64404)()?Array.from:t(49441)},64404:function(oe){"use strict";oe.exports=function(){var t,S,J=Array.from;return"function"==typeof J&&!(!(S=J(t=["raz","dwa"]))||S===t||"dwa"!==S[1])}},49441:function(oe,J,t){"use strict";var S=t(8260).iterator,k=t(73051),l=t(33717),R=t(35976),I=t(78513),v=t(36672),w=t(95296),r=t(87963),n=Array.isArray,c=Function.prototype.call,o={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;oe.exports=function(h){var p,A,m,u,g,C,T,L,x,E,d=arguments[1],b=arguments[2];if(h=Object(v(h)),w(d)&&I(d),this&&this!==Array&&l(this))p=this;else{if(!d){if(k(h))return 1!==(g=h.length)?Array.apply(null,h):((u=new Array(1))[0]=h[0],u);if(n(h)){for(u=new Array(g=h.length),A=0;A<g;++A)u[A]=h[A];return u}}u=[]}if(!n(h))if(void 0!==(x=h[S])){for(T=I(x).call(h),p&&(u=new p),L=T.next(),A=0;!L.done;)E=d?c.call(d,b,L.value,A):L.value,p?(o.value=E,f(u,A,o)):u[A]=E,L=T.next(),++A;g=A}else if(r(h)){for(g=h.length,p&&(u=new p),A=0,m=0;A<g;++A)E=h[A],A+1<g&&(C=E.charCodeAt(0))>=55296&&C<=56319&&(E+=h[++A]),E=d?c.call(d,b,E,m):E,p?(o.value=E,f(u,m,o)):u[m]=E,++m;g=m}if(void 0===g)for(g=R(h.length),p&&(u=new p(g)),A=0;A<g;++A)E=d?c.call(d,b,h[A],A):h[A],p?(o.value=E,f(u,A,o)):u[A]=E;return p&&(o.value=null,u.length=g),u}},73051:function(oe){"use strict";var J=Object.prototype.toString,t=J.call(function(){return arguments}());oe.exports=function(S){return J.call(S)===t}},33717:function(oe){"use strict";var J=Object.prototype.toString,t=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);oe.exports=function(S){return"function"==typeof S&&t(J.call(S))}},52345:function(oe){"use strict";oe.exports=function(){}},9953:function(oe,J,t){"use strict";oe.exports=t(90436)()?Math.sign:t(6069)},90436:function(oe){"use strict";oe.exports=function(){var J=Math.sign;return"function"==typeof J&&1===J(10)&&-1===J(-20)}},6069:function(oe){"use strict";oe.exports=function(J){return J=Number(J),isNaN(J)||0===J?J:J>0?1:-1}},56247:function(oe,J,t){"use strict";var S=t(9953),k=Math.abs,l=Math.floor;oe.exports=function(R){return isNaN(R)?0:0!==(R=Number(R))&&isFinite(R)?S(R)*l(k(R)):R}},35976:function(oe,J,t){"use strict";var S=t(56247),k=Math.max;oe.exports=function(l){return k(0,S(l))}},67260:function(oe,J,t){"use strict";var S=t(78513),k=t(36672),l=Function.prototype.bind,R=Function.prototype.call,I=Object.keys,v=Object.prototype.propertyIsEnumerable;oe.exports=function(w,r){return function(n,c){var o,f=arguments[2],h=arguments[3];return n=Object(k(n)),S(c),o=I(n),h&&o.sort("function"==typeof h?l.call(h,n):void 0),"function"!=typeof w&&(w=o[w]),R.call(w,o,function(d,b){return v.call(n,d)?R.call(c,f,n[d],d,n,b):r})}}},95879:function(oe,J,t){"use strict";oe.exports=t(73583)()?Object.assign:t(34205)},73583:function(oe){"use strict";oe.exports=function(){var t,J=Object.assign;return"function"==typeof J&&(J(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},34205:function(oe,J,t){"use strict";var S=t(68700),k=t(36672),l=Math.max;oe.exports=function(R,I){var v,w,n,r=l(arguments.length,2);for(R=Object(k(R)),n=function(c){try{R[c]=I[c]}catch(o){v||(v=o)}},w=1;w<r;++w)S(I=arguments[w]).forEach(n);if(void 0!==v)throw v;return R}},19012:function(oe,J,t){"use strict";var S=t(4892),k=t(95879),l=t(36672);oe.exports=function(R){var I=Object(l(R)),v=arguments[1],w=Object(arguments[2]);if(I!==R&&!v)return I;var r={};return v?S(v,function(n){(w.ensure||n in R)&&(r[n]=R[n])}):k(r,R),r}},52818:function(oe,J,t){"use strict";var k,l,R,I,S=Object.create;t(33247)()||(k=t(51882)),oe.exports=k&&1===k.level?(l={},R={},I={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){R[v]="__proto__"!==v?I:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(l,R),Object.defineProperty(k,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:l}),function(v,w){return S(null===v?l:v,w)}):S},96437:function(oe,J,t){"use strict";oe.exports=t(67260)("forEach")},99611:function(oe,J,t){"use strict";var S=t(95296),k={function:!0,object:!0};oe.exports=function(l){return S(l)&&k[typeof l]||!1}},95296:function(oe,J,t){"use strict";var S=t(52345)();oe.exports=function(k){return k!==S&&null!==k}},68700:function(oe,J,t){"use strict";oe.exports=t(13895)()?Object.keys:t(25217)},13895:function(oe){"use strict";oe.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(oe,J,t){"use strict";var S=t(95296),k=Object.keys;oe.exports=function(l){return k(S(l)?Object(l):l)}},16906:function(oe,J,t){"use strict";var S=t(78513),k=t(96437),l=Function.prototype.call;oe.exports=function(R,I){var v={},w=arguments[2];return S(I),k(R,function(r,n,c,o){v[n]=l.call(I,w,r,n,c,o)}),v}},21780:function(oe,J,t){"use strict";var S=t(95296),k=Array.prototype.forEach,l=Object.create;oe.exports=function(I){var v=l(null);return k.call(arguments,function(w){S(w)&&function(I,v){var w;for(w in I)v[w]=I[w]}(Object(w),v)}),v}},1496:function(oe,J,t){"use strict";oe.exports=t(33247)()?Object.setPrototypeOf:t(51882)},33247:function(oe){"use strict";var J=Object.create,t=Object.getPrototypeOf,S={};oe.exports=function(){var k=Object.setPrototypeOf;return"function"==typeof k&&t(k((arguments[0]||J)(null),S))===S}},51882:function(oe,J,t){"use strict";var v,w,r,n,S=t(99611),k=t(36672),l=Object.prototype.isPrototypeOf,R=Object.defineProperty,I={configurable:!0,enumerable:!1,writable:!0,value:void 0};v=function(w,r){if(k(w),null===r||S(r))return w;throw new TypeError("Prototype must be null or an object")},oe.exports=(w=function(){var n,w=Object.create(null),r={},c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(c){try{(n=c.set).call(w,r)}catch{}if(Object.getPrototypeOf(w)===r)return{set:n,level:2}}return w.__proto__=r,Object.getPrototypeOf(w)===r?{level:2}:((w={}).__proto__=r,Object.getPrototypeOf(w)===r&&{level:1})}(),w?(2===w.level?w.set?(n=w.set,r=function(c,o){return n.call(v(c,o),o),c}):r=function(c,o){return v(c,o).__proto__=o,c}:r=function c(o,f){var h;return v(o,f),(h=l.call(c.nullPolyfill,o))&&delete c.nullPolyfill.__proto__,null===f&&(f=c.nullPolyfill),o.__proto__=f,h&&R(c.nullPolyfill,"__proto__",I),o},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:w.level})):null),t(52818)},78513:function(oe){"use strict";oe.exports=function(J){if("function"!=typeof J)throw new TypeError(J+" is not a function");return J}},98976:function(oe,J,t){"use strict";var S=t(99611);oe.exports=function(k){if(!S(k))throw new TypeError(k+" is not an Object");return k}},36672:function(oe,J,t){"use strict";var S=t(95296);oe.exports=function(k){if(!S(k))throw new TypeError("Cannot use null or undefined");return k}},66741:function(oe,J,t){"use strict";oe.exports=t(17557)()?String.prototype.contains:t(60381)},17557:function(oe){"use strict";var J="razdwatrzy";oe.exports=function(){return"function"==typeof J.contains&&!0===J.contains("dwa")&&!1===J.contains("foo")}},60381:function(oe){"use strict";var J=String.prototype.indexOf;oe.exports=function(t){return J.call(this,t,arguments[1])>-1}},87963:function(oe){"use strict";var J=Object.prototype.toString,t=J.call("");oe.exports=function(S){return"string"==typeof S||S&&"object"==typeof S&&(S instanceof String||J.call(S)===t)||!1}},43043:function(oe){"use strict";var J=Object.create(null),t=Math.random;oe.exports=function(){var S;do{S=t().toString(36).slice(2)}while(J[S]);return S}},32411:function(oe,J,t){"use strict";var w,S=t(1496),k=t(66741),l=t(62072),R=t(8260),I=t(95426),v=Object.defineProperty;w=oe.exports=function(r,n){if(!(this instanceof w))throw new TypeError("Constructor requires 'new'");I.call(this,r),n=n?k.call(n,"key+value")?"key+value":k.call(n,"key")?"key":"value":"value",v(this,"__kind__",l("",n))},S&&S(w,I),delete w.prototype.constructor,w.prototype=Object.create(I.prototype,{_resolve:l(function(r){return"value"===this.__kind__?this.__list__[r]:"key+value"===this.__kind__?[r,this.__list__[r]]:r})}),v(w.prototype,R.toStringTag,l("c","Array Iterator"))},27515:function(oe,J,t){"use strict";var S=t(73051),k=t(78513),l=t(87963),R=t(66661),I=Array.isArray,v=Function.prototype.call,w=Array.prototype.some;oe.exports=function(r,n){var c,f,h,d,b,p,A,m,o=arguments[2];if(I(r)||S(r)?c="array":l(r)?c="string":r=R(r),k(n),h=function(){d=!0},"array"!==c)if("string"!==c)for(f=r.next();!f.done;){if(v.call(n,o,f.value,h),d)return;f=r.next()}else for(p=r.length,b=0;b<p&&(A=r[b],b+1<p&&(m=A.charCodeAt(0))>=55296&&m<=56319&&(A+=r[++b]),v.call(n,o,A,h),!d);++b);else w.call(r,function(u){return v.call(n,o,u,h),d})}},66661:function(oe,J,t){"use strict";var S=t(73051),k=t(87963),l=t(32411),R=t(259),I=t(58095),v=t(8260).iterator;oe.exports=function(w){return"function"==typeof I(w)[v]?w[v]():S(w)?new l(w):k(w)?new R(w):new l(w)}},95426:function(oe,J,t){"use strict";var c,S=t(16134),k=t(95879),l=t(78513),R=t(36672),I=t(62072),v=t(55174),w=t(8260),r=Object.defineProperty,n=Object.defineProperties;oe.exports=c=function(o,f){if(!(this instanceof c))throw new TypeError("Constructor requires 'new'");n(this,{__list__:I("w",R(o)),__context__:I("w",f),__nextIndex__:I("w",0)}),f&&(l(f.on),f.on("_add",this._onAdd),f.on("_delete",this._onDelete),f.on("_clear",this._onClear))},delete c.prototype.constructor,n(c.prototype,k({_next:I(function(){var o;if(this.__list__){if(this.__redo__&&void 0!==(o=this.__redo__.shift()))return o;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:I(function(){return this._createResult(this._next())}),_createResult:I(function(o){return void 0===o?{done:!0,value:void 0}:{done:!1,value:this._resolve(o)}}),_resolve:I(function(o){return this.__list__[o]}),_unBind:I(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:I(function(){return"[object "+(this[w.toStringTag]||"Object")+"]"})},v({_onAdd:I(function(o){if(!(o>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void r(this,"__redo__",I("c",[o]));this.__redo__.forEach(function(f,h){f>=o&&(this.__redo__[h]=++f)},this),this.__redo__.push(o)}}),_onDelete:I(function(o){var f;o>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(f=this.__redo__.indexOf(o))&&this.__redo__.splice(f,1),this.__redo__.forEach(function(h,d){h>o&&(this.__redo__[d]=--h)},this)))}),_onClear:I(function(){this.__redo__&&S.call(this.__redo__),this.__nextIndex__=0})}))),r(c.prototype,w.iterator,I(function(){return this}))},35940:function(oe,J,t){"use strict";var S=t(73051),k=t(95296),l=t(87963),R=t(8260).iterator,I=Array.isArray;oe.exports=function(v){return!(!k(v)||!(I(v)||l(v)||S(v))&&"function"!=typeof v[R])}},259:function(oe,J,t){"use strict";var v,S=t(1496),k=t(62072),l=t(8260),R=t(95426),I=Object.defineProperty;v=oe.exports=function(w){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");w=String(w),R.call(this,w),I(this,"__length__",k("",w.length))},S&&S(v,R),delete v.prototype.constructor,v.prototype=Object.create(R.prototype,{_next:k(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:k(function(w){var n,r=this.__list__[w];return this.__nextIndex__===this.__length__?r:(n=r.charCodeAt(0))>=55296&&n<=56319?r+this.__list__[this.__nextIndex__++]:r})}),I(v.prototype,l.toStringTag,k("c","String Iterator"))},58095:function(oe,J,t){"use strict";var S=t(35940);oe.exports=function(k){if(!S(k))throw new TypeError(k+" is not iterable");return k}},73523:function(oe){"use strict";function J(S,k){if(null==S)throw new TypeError("Cannot convert first argument to object");for(var l=Object(S),R=1;R<arguments.length;R++){var I=arguments[R];if(null!=I)for(var v=Object.keys(Object(I)),w=0,r=v.length;w<r;w++){var n=v[w],c=Object.getOwnPropertyDescriptor(I,n);void 0!==c&&c.enumerable&&(l[n]=I[n])}}return l}oe.exports={assign:J,polyfill:function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:J})}}},8260:function(oe,J,t){"use strict";oe.exports=t(69711)()?t(94908).Symbol:t(18415)},69711:function(oe,J,t){"use strict";var S=t(94908),k={object:!0,symbol:!0};oe.exports=function(){var R,l=S.Symbol;if("function"!=typeof l)return!1;R=l("test symbol");try{String(R)}catch{return!1}return!(!k[typeof l.iterator]||!k[typeof l.toPrimitive]||!k[typeof l.toStringTag])}},82276:function(oe){"use strict";oe.exports=function(J){return!(!J||"symbol"!=typeof J&&(!J.constructor||"Symbol"!==J.constructor.name||"Symbol"!==J[J.constructor.toStringTag]))}},29366:function(oe,J,t){"use strict";var S=t(62072),l=Object.defineProperty,R=Object.prototype,I=(0,Object.create)(null);oe.exports=function(v){for(var r,n,w=0;I[v+(w||"")];)++w;return I[v+=w||""]=!0,l(R,r="@@"+v,S.gs(null,function(c){n||(n=!0,l(this,r,S(c)),n=!1)})),r}},92842:function(oe,J,t){"use strict";var S=t(62072),k=t(94908).Symbol;oe.exports=function(l){return Object.defineProperties(l,{hasInstance:S("",k&&k.hasInstance||l("hasInstance")),isConcatSpreadable:S("",k&&k.isConcatSpreadable||l("isConcatSpreadable")),iterator:S("",k&&k.iterator||l("iterator")),match:S("",k&&k.match||l("match")),replace:S("",k&&k.replace||l("replace")),search:S("",k&&k.search||l("search")),species:S("",k&&k.species||l("species")),split:S("",k&&k.split||l("split")),toPrimitive:S("",k&&k.toPrimitive||l("toPrimitive")),toStringTag:S("",k&&k.toStringTag||l("toStringTag")),unscopables:S("",k&&k.unscopables||l("unscopables"))})}},13304:function(oe,J,t){"use strict";var S=t(62072),k=t(53308),l=Object.create(null);oe.exports=function(R){return Object.defineProperties(R,{for:S(function(I){return l[I]?l[I]:l[I]=R(String(I))}),keyFor:S(function(I){var v;for(v in k(I),l)if(l[v]===I)return v})})}},18415:function(oe,J,t){"use strict";var c,o,f,S=t(62072),k=t(53308),l=t(94908).Symbol,R=t(29366),I=t(92842),v=t(13304),w=Object.create,r=Object.defineProperties,n=Object.defineProperty;if("function"==typeof l)try{String(l()),f=!0}catch{}else l=null;o=function(d){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return c(d)},oe.exports=c=function h(d){var b;if(this instanceof h)throw new TypeError("Symbol is not a constructor");return f?l(d):(b=w(o.prototype),d=void 0===d?"":String(d),r(b,{__description__:S("",d),__name__:S("",R(d))}))},I(c),v(c),r(o.prototype,{constructor:S(c),toString:S("",function(){return this.__name__})}),r(c.prototype,{toString:S(function(){return"Symbol ("+k(this).__description__+")"}),valueOf:S(function(){return k(this)})}),n(c.prototype,c.toPrimitive,S("",function(){var h=k(this);return"symbol"==typeof h?h:h.toString()})),n(c.prototype,c.toStringTag,S("c","Symbol")),n(o.prototype,c.toStringTag,S("c",c.prototype[c.toStringTag])),n(o.prototype,c.toPrimitive,S("c",c.prototype[c.toPrimitive]))},53308:function(oe,J,t){"use strict";var S=t(82276);oe.exports=function(k){if(!S(k))throw new TypeError(k+" is not a symbol");return k}},83522:function(oe,J,t){"use strict";oe.exports=t(96402)()?WeakMap:t(329)},96402:function(oe){"use strict";oe.exports=function(){var J,t;if("function"!=typeof WeakMap)return!1;try{J=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!("[object WeakMap]"!==String(J)||"function"!=typeof J.set||J.set({},1)!==J||"function"!=typeof J.delete||"function"!=typeof J.has||"one"!==J.get(t))}},96416:function(oe){"use strict";oe.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},329:function(oe,J,t){"use strict";var b,S=t(95296),k=t(1496),l=t(98976),R=t(36672),I=t(43043),v=t(62072),w=t(66661),r=t(27515),n=t(8260).toStringTag,c=t(96416),o=Array.isArray,f=Object.defineProperty,h=Object.prototype.hasOwnProperty,d=Object.getPrototypeOf;oe.exports=b=function(){var A,p=arguments[0];if(!(this instanceof b))throw new TypeError("Constructor requires 'new'");return A=c&&k&&WeakMap!==b?k(new WeakMap,d(this)):this,S(p)&&(o(p)||(p=w(p))),f(A,"__weakMapData__",v("c","$weakMap$"+I())),p&&r(p,function(m){R(m),A.set(m[0],m[1])}),A},c&&(k&&k(b,WeakMap),b.prototype=Object.create(WeakMap.prototype,{constructor:v(b)})),Object.defineProperties(b.prototype,{delete:v(function(p){return!!h.call(l(p),this.__weakMapData__)&&(delete p[this.__weakMapData__],!0)}),get:v(function(p){if(h.call(l(p),this.__weakMapData__))return p[this.__weakMapData__]}),has:v(function(p){return h.call(l(p),this.__weakMapData__)}),set:v(function(p,A){return f(l(p),this.__weakMapData__,v("c",A)),this}),toString:v(function(){return"[object WeakMap]"})}),f(b.prototype,n,v("c","WeakMap"))},15398:function(oe){"use strict";var S,J="object"==typeof Reflect?Reflect:null,t=J&&"function"==typeof J.apply?J.apply:function(g,C,T){return Function.prototype.apply.call(g,C,T)};S=J&&"function"==typeof J.ownKeys?J.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var l=Number.isNaN||function(g){return g!=g};function R(){R.init.call(this)}oe.exports=R,oe.exports.once=function p(u,g){return new Promise(function(C,T){function L(E){u.removeListener(g,x),T(E)}function x(){"function"==typeof u.removeListener&&u.removeListener("error",L),C([].slice.call(arguments))}m(u,g,x,{once:!0}),"error"!==g&&function A(u,g,C){"function"==typeof u.on&&m(u,"error",g,C)}(u,L,{once:!0})})},R.EventEmitter=R,R.prototype._events=void 0,R.prototype._eventsCount=0,R.prototype._maxListeners=void 0;var I=10;function v(u){if("function"!=typeof u)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function w(u){return void 0===u._maxListeners?R.defaultMaxListeners:u._maxListeners}function r(u,g,C,T){var L,x,E;if(v(C),void 0===(x=u._events)?(x=u._events=Object.create(null),u._eventsCount=0):(void 0!==x.newListener&&(u.emit("newListener",g,C.listener?C.listener:C),x=u._events),E=x[g]),void 0===E)E=x[g]=C,++u._eventsCount;else if("function"==typeof E?E=x[g]=T?[C,E]:[E,C]:T?E.unshift(C):E.push(C),(L=w(u))>0&&E.length>L&&!E.warned){E.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(g)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=u,M.type=g,M.count=E.length,function k(u){console&&console.warn&&console.warn(u)}(M)}return u}function n(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(u,g,C){var T={fired:!1,wrapFn:void 0,target:u,type:g,listener:C},L=n.bind(T);return L.listener=C,T.wrapFn=L,L}function o(u,g,C){var T=u._events;if(void 0===T)return[];var L=T[g];return void 0===L?[]:"function"==typeof L?C?[L.listener||L]:[L]:C?function b(u){for(var g=new Array(u.length),C=0;C<g.length;++C)g[C]=u[C].listener||u[C];return g}(L):h(L,L.length)}function f(u){var g=this._events;if(void 0!==g){var C=g[u];if("function"==typeof C)return 1;if(void 0!==C)return C.length}return 0}function h(u,g){for(var C=new Array(g),T=0;T<g;++T)C[T]=u[T];return C}function m(u,g,C,T){if("function"==typeof u.on)T.once?u.once(g,C):u.on(g,C);else{if("function"!=typeof u.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(g,function L(x){T.once&&u.removeEventListener(g,L),C(x)})}}Object.defineProperty(R,"defaultMaxListeners",{enumerable:!0,get:function(){return I},set:function(u){if("number"!=typeof u||u<0||l(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");I=u}}),R.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},R.prototype.setMaxListeners=function(g){if("number"!=typeof g||g<0||l(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},R.prototype.getMaxListeners=function(){return w(this)},R.prototype.emit=function(g){for(var C=[],T=1;T<arguments.length;T++)C.push(arguments[T]);var L="error"===g,x=this._events;if(void 0!==x)L=L&&void 0===x.error;else if(!L)return!1;if(L){var E;if(C.length>0&&(E=C[0]),E instanceof Error)throw E;var M=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw M.context=E,M}var i=x[g];if(void 0===i)return!1;if("function"==typeof i)t(i,this,C);else{var D=i.length,y=h(i,D);for(T=0;T<D;++T)t(y[T],this,C)}return!0},R.prototype.on=R.prototype.addListener=function(g,C){return r(this,g,C,!1)},R.prototype.prependListener=function(g,C){return r(this,g,C,!0)},R.prototype.once=function(g,C){return v(C),this.on(g,c(this,g,C)),this},R.prototype.prependOnceListener=function(g,C){return v(C),this.prependListener(g,c(this,g,C)),this},R.prototype.off=R.prototype.removeListener=function(g,C){var T,L,x,E,M;if(v(C),void 0===(L=this._events))return this;if(void 0===(T=L[g]))return this;if(T===C||T.listener===C)0==--this._eventsCount?this._events=Object.create(null):(delete L[g],L.removeListener&&this.emit("removeListener",g,T.listener||C));else if("function"!=typeof T){for(x=-1,E=T.length-1;E>=0;E--)if(T[E]===C||T[E].listener===C){M=T[E].listener,x=E;break}if(x<0)return this;0===x?T.shift():function d(u,g){for(;g+1<u.length;g++)u[g]=u[g+1];u.pop()}(T,x),1===T.length&&(L[g]=T[0]),void 0!==L.removeListener&&this.emit("removeListener",g,M||C)}return this},R.prototype.removeAllListeners=function(g){var C,T,L;if(void 0===(T=this._events))return this;if(void 0===T.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==T[g]&&(0==--this._eventsCount?this._events=Object.create(null):delete T[g]),this;if(0===arguments.length){var E,x=Object.keys(T);for(L=0;L<x.length;++L)"removeListener"!==(E=x[L])&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(C=T[g]))this.removeListener(g,C);else if(void 0!==C)for(L=C.length-1;L>=0;L--)this.removeListener(g,C[L]);return this},R.prototype.listeners=function(g){return o(this,g,!0)},R.prototype.rawListeners=function(g){return o(this,g,!1)},R.listenerCount=function(u,g){return"function"==typeof u.listenerCount?u.listenerCount(g):f.call(u,g)},R.prototype.listenerCount=f,R.prototype.eventNames=function(){return this._eventsCount>0?S(this._events):[]}},60774:function(oe){var J=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};oe.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return J()}try{return __global__||J()}finally{delete Object.prototype.__global__}}()},94908:function(oe,J,t){"use strict";oe.exports=t(51152)()?globalThis:t(60774)},51152:function(oe){"use strict";oe.exports=function(){return!("object"!=typeof globalThis||!globalThis)&&globalThis.Array===Array}},92770:function(oe,J,t){"use strict";var S=t(18546);oe.exports=function(k){var l=typeof k;if("string"===l){var R=k;if(0==(k=+k)&&S(R))return!1}else if("number"!==l)return!1;return k-k<1}},30120:function(oe,J,t){var S=t(90660);oe.exports=function k(l,R,I){if(!l)throw new TypeError("must specify data as first parameter");if(I=0|+(I||0),Array.isArray(l)&&l[0]&&"number"==typeof l[0][0]){var r,n,c,o,v=l[0].length,w=l.length*v;(!R||"string"==typeof R)&&(R=new(S(R||"float32"))(w+I));var f=R.length-I;if(w!==f)throw new Error("source length "+w+" ("+v+"x"+l.length+") does not match destination length "+f);for(r=0,c=I;r<l.length;r++)for(n=0;n<v;n++)R[c++]=null===l[r][n]?NaN:l[r][n]}else if(R&&"string"!=typeof R)R.set(l,I);else{var h=S(R||"float32");if(Array.isArray(l)||"array"===R)for(r=0,c=I,o=(R=new h(l.length+I)).length;c<o;c++,r++)R[c]=null===l[r]?NaN:l[r];else 0===I?R=new h(l):(R=new h(l.length+I)).set(l,I)}return R}},68016:function(oe,J,t){"use strict";var S=t(53313),k=[32,126];oe.exports=function l(R){var I=(R=R||{}).shape?R.shape:R.canvas?[R.canvas.width,R.canvas.height]:[512,512],v=R.canvas||document.createElement("canvas"),w=R.font,r="number"==typeof R.step?[R.step,R.step]:R.step||[32,32],n=R.chars||k;if(w&&"string"!=typeof w&&(w=S(w)),Array.isArray(n)){if(2===n.length&&"number"==typeof n[0]&&"number"==typeof n[1]){for(var c=[],o=n[0],f=0;o<=n[1];o++)c[f++]=String.fromCharCode(o);n=c}}else n=String(n).split("");I=I.slice(),v.width=I[0],v.height=I[1];var h=v.getContext("2d");h.fillStyle="#000",h.fillRect(0,0,v.width,v.height),h.font=w,h.textAlign="center",h.textBaseline="middle",h.fillStyle="#fff";var d=r[0]/2,b=r[1]/2;for(o=0;o<n.length;o++)h.fillText(n[o],d,b),(d+=r[0])>I[0]-r[0]/2&&(d=r[0]/2,b+=r[1]);return v}},32879:function(oe){"use strict";function J(n,R){R||(R={}),("string"==typeof n||Array.isArray(n))&&(R.family=n);var I=Array.isArray(R.family)?R.family.join(", "):R.family;if(!I)throw Error("`family` must be defined");var v=R.size||R.fontSize||R.em||48,c=(n=[R.style||R.fontStyle||"",R.weight||R.fontWeight||"",v].join(" ")+"px "+I,R.origin||"top");if(J.cache[I]&&v<=J.cache[I].em)return t(J.cache[I],c);var o=R.canvas||J.canvas,f=o.getContext("2d"),h={upper:void 0!==R.upper?R.upper:"H",lower:void 0!==R.lower?R.lower:"x",descent:void 0!==R.descent?R.descent:"p",ascent:void 0!==R.ascent?R.ascent:"h",tittle:void 0!==R.tittle?R.tittle:"i",overshoot:void 0!==R.overshoot?R.overshoot:"O"},d=Math.ceil(1.5*v);o.height=d,o.width=.5*d,f.font=n;var b="H",p={top:0};f.clearRect(0,0,d,d),f.textBaseline="top",f.fillStyle="black",f.fillText(b,0,0);var A=S(f.getImageData(0,0,d,d));f.clearRect(0,0,d,d),f.textBaseline="bottom",f.fillText(b,0,d);var m=S(f.getImageData(0,0,d,d));p.lineHeight=p.bottom=d-m+A,f.clearRect(0,0,d,d),f.textBaseline="alphabetic",f.fillText(b,0,d);var g=d-S(f.getImageData(0,0,d,d))-1+A;p.baseline=p.alphabetic=g,f.clearRect(0,0,d,d),f.textBaseline="middle",f.fillText(b,0,.5*d);var C=S(f.getImageData(0,0,d,d));p.median=p.middle=d-C-1+A-.5*d,f.clearRect(0,0,d,d),f.textBaseline="hanging",f.fillText(b,0,.5*d);var T=S(f.getImageData(0,0,d,d));p.hanging=d-T-1+A-.5*d,f.clearRect(0,0,d,d),f.textBaseline="ideographic",f.fillText(b,0,d);var L=S(f.getImageData(0,0,d,d));if(p.ideographic=d-L-1+A,h.upper&&(f.clearRect(0,0,d,d),f.textBaseline="top",f.fillText(h.upper,0,0),p.upper=S(f.getImageData(0,0,d,d)),p.capHeight=p.baseline-p.upper),h.lower&&(f.clearRect(0,0,d,d),f.textBaseline="top",f.fillText(h.lower,0,0),p.lower=S(f.getImageData(0,0,d,d)),p.xHeight=p.baseline-p.lower),h.tittle&&(f.clearRect(0,0,d,d),f.textBaseline="top",f.fillText(h.tittle,0,0),p.tittle=S(f.getImageData(0,0,d,d))),h.ascent&&(f.clearRect(0,0,d,d),f.textBaseline="top",f.fillText(h.ascent,0,0),p.ascent=S(f.getImageData(0,0,d,d))),h.descent&&(f.clearRect(0,0,d,d),f.textBaseline="top",f.fillText(h.descent,0,0),p.descent=k(f.getImageData(0,0,d,d))),h.overshoot){f.clearRect(0,0,d,d),f.textBaseline="top",f.fillText(h.overshoot,0,0);var x=k(f.getImageData(0,0,d,d));p.overshoot=x-g}for(var E in p)p[E]/=v;return p.em=v,J.cache[I]=p,t(p,c)}function t(l,R){var I={};for(var v in"string"==typeof R&&(R=l[R]),l)"em"!==v&&(I[v]=l[v]-R);return I}function S(l){for(var R=l.height,I=l.data,v=3;v<I.length;v+=4)if(0!==I[v])return Math.floor(.25*(v-3)/R)}function k(l){for(var R=l.height,I=l.data,v=I.length-1;v>0;v-=4)if(0!==I[v])return Math.floor(.25*(v-3)/R)}oe.exports=J,J.canvas=document.createElement("canvas"),J.cache={}},31353:function(oe,J,t){"use strict";var S=t(85395),k=Object.prototype.toString,l=Object.prototype.hasOwnProperty;oe.exports=function(n,c,o){if(!S(c))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=o),"[object Array]"===k.call(n)?function(n,c,o){for(var f=0,h=n.length;f<h;f++)l.call(n,f)&&(null==o?c(n[f],f,n):c.call(o,n[f],f,n))}(n,c,f):"string"==typeof n?function(n,c,o){for(var f=0,h=n.length;f<h;f++)null==o?c(n.charAt(f),f,n):c.call(o,n.charAt(f),f,n)}(n,c,f):function(n,c,o){for(var f in n)l.call(n,f)&&(null==o?c(n[f],f,n):c.call(o,n[f],f,n))}(n,c,f)}},73047:function(oe){"use strict";var t=Array.prototype.slice,S=Object.prototype.toString;oe.exports=function(R){var I=this;if("function"!=typeof I||"[object Function]"!==S.call(I))throw new TypeError("Function.prototype.bind called on incompatible "+I);for(var w,v=t.call(arguments,1),n=Math.max(0,I.length-v.length),c=[],o=0;o<n;o++)c.push("$"+o);if(w=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof w){var h=I.apply(this,v.concat(t.call(arguments)));return Object(h)===h?h:this}return I.apply(R,v.concat(t.call(arguments)))}),I.prototype){var f=function(){};f.prototype=I.prototype,w.prototype=new f,f.prototype=null}return w}},77575:function(oe,J,t){"use strict";var S=t(73047);oe.exports=Function.prototype.bind||S},86249:function(oe){oe.exports=function J(t,S){if("string"!=typeof t)throw new TypeError("must specify type string");if(S=S||{},typeof document>"u"&&!S.canvas)return null;var k=S.canvas||document.createElement("canvas");"number"==typeof S.width&&(k.width=S.width),"number"==typeof S.height&&(k.height=S.height);var R,l=S;try{var I=[t];0===t.indexOf("webgl")&&I.push("experimental-"+t);for(var v=0;v<I.length;v++)if(R=k.getContext(I[v],l))return R}catch{R=null}return R||null}},68318:function(oe,J,t){"use strict";var S,k=SyntaxError,l=Function,R=TypeError,I=function(D){try{return l('"use strict"; return ('+D+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var w=function(){throw new R},r=v?function(){try{return w}catch{try{return v(arguments,"callee").get}catch{return w}}}():w,n=t(57877)(),c=Object.getPrototypeOf||function(D){return D.__proto__},o={},f=typeof Uint8Array>"u"?S:c(Uint8Array),h={"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":n?c([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":o,"%AsyncGenerator%":o,"%AsyncGeneratorFunction%":o,"%AsyncIteratorPrototype%":o,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":o,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":n?c(c([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!n?S:c((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!n?S:c((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":n?c(""[Symbol.iterator]()):S,"%Symbol%":n?Symbol:S,"%SyntaxError%":k,"%ThrowTypeError%":r,"%TypedArray%":f,"%TypeError%":R,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet};try{null.error}catch(D){var d=c(c(D));h["%Error.prototype%"]=d}var b=function D(y){var B;if("%AsyncFunction%"===y)B=I("async function () {}");else if("%GeneratorFunction%"===y)B=I("function* () {}");else if("%AsyncGeneratorFunction%"===y)B=I("async function* () {}");else if("%AsyncGenerator%"===y){var F=D("%AsyncGeneratorFunction%");F&&(B=F.prototype)}else if("%AsyncIteratorPrototype%"===y){var _=D("%AsyncGenerator%");_&&(B=c(_.prototype))}return h[y]=B,B},p={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=t(77575),m=t(35065),u=A.call(Function.call,Array.prototype.concat),g=A.call(Function.apply,Array.prototype.splice),C=A.call(Function.call,String.prototype.replace),T=A.call(Function.call,String.prototype.slice),L=A.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,i=function(y,B){var _,F=y;if(m(p,F)&&(F="%"+(_=p[F])[0]+"%"),m(h,F)){var z=h[F];if(z===o&&(z=b(F)),typeof z>"u"&&!B)throw new R("intrinsic "+y+" exists, but is not available. Please file an issue!");return{alias:_,name:F,value:z}}throw new k("intrinsic "+y+" does not exist!")};oe.exports=function(y,B){if("string"!=typeof y||0===y.length)throw new R("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof B)throw new R('"allowMissing" argument must be a boolean');if(null===L(/^%?[^%]*%?$/,y))throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var F=function(y){var B=T(y,0,1),F=T(y,-1);if("%"===B&&"%"!==F)throw new k("invalid intrinsic syntax, expected closing `%`");if("%"===F&&"%"!==B)throw new k("invalid intrinsic syntax, expected opening `%`");var _=[];return C(y,x,function(z,V,H,U){_[_.length]=H?C(U,E,"$1"):V||z}),_}(y),_=F.length>0?F[0]:"",z=i("%"+_+"%",B),V=z.name,H=z.value,U=!1,G=z.alias;G&&(_=G[0],g(F,u([0,1],G)));for(var Y=1,ee=!0;Y<F.length;Y+=1){var ue=F[Y],ce=T(ue,0,1),pe=T(ue,-1);if(('"'===ce||"'"===ce||"`"===ce||'"'===pe||"'"===pe||"`"===pe)&&ce!==pe)throw new k("property names with quotes must have matching quotes");if(("constructor"===ue||!ee)&&(U=!0),m(h,V="%"+(_+="."+ue)+"%"))H=h[V];else if(null!=H){if(!(ue in H)){if(!B)throw new R("base intrinsic for "+y+" exists, but the property is not available.");return}if(v&&Y+1>=F.length){var te=v(H,ue);H=(ee=!!te)&&"get"in te&&!("originalValue"in te.get)?te.get:H[ue]}else ee=m(H,ue),H=H[ue];ee&&!U&&(h[V]=H)}}return H}},85400:function(oe){oe.exports=function J(t,S){var k=S[0],l=S[1],R=S[2],I=S[3],v=S[4],w=S[5],r=S[6],n=S[7],c=S[8],o=S[9],f=S[10],h=S[11],d=S[12],b=S[13],p=S[14],A=S[15];return t[0]=w*(f*A-h*p)-o*(r*A-n*p)+b*(r*h-n*f),t[1]=-(l*(f*A-h*p)-o*(R*A-I*p)+b*(R*h-I*f)),t[2]=l*(r*A-n*p)-w*(R*A-I*p)+b*(R*n-I*r),t[3]=-(l*(r*h-n*f)-w*(R*h-I*f)+o*(R*n-I*r)),t[4]=-(v*(f*A-h*p)-c*(r*A-n*p)+d*(r*h-n*f)),t[5]=k*(f*A-h*p)-c*(R*A-I*p)+d*(R*h-I*f),t[6]=-(k*(r*A-n*p)-v*(R*A-I*p)+d*(R*n-I*r)),t[7]=k*(r*h-n*f)-v*(R*h-I*f)+c*(R*n-I*r),t[8]=v*(o*A-h*b)-c*(w*A-n*b)+d*(w*h-n*o),t[9]=-(k*(o*A-h*b)-c*(l*A-I*b)+d*(l*h-I*o)),t[10]=k*(w*A-n*b)-v*(l*A-I*b)+d*(l*n-I*w),t[11]=-(k*(w*h-n*o)-v*(l*h-I*o)+c*(l*n-I*w)),t[12]=-(v*(o*p-f*b)-c*(w*p-r*b)+d*(w*f-r*o)),t[13]=k*(o*p-f*b)-c*(l*p-R*b)+d*(l*f-R*o),t[14]=-(k*(w*p-r*b)-v*(l*p-R*b)+d*(l*r-R*w)),t[15]=k*(w*f-r*o)-v*(l*f-R*o)+c*(l*r-R*w),t}},42331:function(oe){oe.exports=function J(t){var S=new Float32Array(16);return S[0]=t[0],S[1]=t[1],S[2]=t[2],S[3]=t[3],S[4]=t[4],S[5]=t[5],S[6]=t[6],S[7]=t[7],S[8]=t[8],S[9]=t[9],S[10]=t[10],S[11]=t[11],S[12]=t[12],S[13]=t[13],S[14]=t[14],S[15]=t[15],S}},31042:function(oe){oe.exports=function J(t,S){return t[0]=S[0],t[1]=S[1],t[2]=S[2],t[3]=S[3],t[4]=S[4],t[5]=S[5],t[6]=S[6],t[7]=S[7],t[8]=S[8],t[9]=S[9],t[10]=S[10],t[11]=S[11],t[12]=S[12],t[13]=S[13],t[14]=S[14],t[15]=S[15],t}},11902:function(oe){oe.exports=function J(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},89887:function(oe){oe.exports=function J(t){var S=t[0],k=t[1],l=t[2],R=t[3],I=t[4],v=t[5],w=t[6],r=t[7],n=t[8],c=t[9],o=t[10],f=t[11],h=t[12],d=t[13],b=t[14],p=t[15];return(S*v-k*I)*(o*p-f*b)-(S*w-l*I)*(c*p-f*d)+(S*r-R*I)*(c*b-o*d)+(k*w-l*v)*(n*p-f*h)-(k*r-R*v)*(n*b-o*h)+(l*r-R*w)*(n*d-c*h)}},27812:function(oe){oe.exports=function J(t,S){var k=S[0],l=S[1],R=S[2],I=S[3],v=k+k,w=l+l,r=R+R,n=k*v,c=l*v,o=l*w,f=R*v,h=R*w,d=R*r,b=I*v,p=I*w,A=I*r;return t[0]=1-o-d,t[1]=c+A,t[2]=f-p,t[3]=0,t[4]=c-A,t[5]=1-n-d,t[6]=h+b,t[7]=0,t[8]=f+p,t[9]=h-b,t[10]=1-n-o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},34045:function(oe){oe.exports=function J(t,S,k){var l,R,I,v=k[0],w=k[1],r=k[2],n=Math.sqrt(v*v+w*w+r*r);return Math.abs(n)<1e-6?null:(v*=n=1/n,w*=n,r*=n,l=Math.sin(S),R=Math.cos(S),t[0]=v*v*(I=1-R)+R,t[1]=w*v*I+r*l,t[2]=r*v*I-w*l,t[3]=0,t[4]=v*w*I-r*l,t[5]=w*w*I+R,t[6]=r*w*I+v*l,t[7]=0,t[8]=v*r*I+w*l,t[9]=w*r*I-v*l,t[10]=r*r*I+R,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}},45973:function(oe){oe.exports=function J(t,S,k){var l=S[0],R=S[1],I=S[2],v=S[3],w=l+l,r=R+R,n=I+I,c=l*w,o=l*r,f=l*n,h=R*r,d=R*n,b=I*n,p=v*w,A=v*r,m=v*n;return t[0]=1-(h+b),t[1]=o+m,t[2]=f-A,t[3]=0,t[4]=o-m,t[5]=1-(c+b),t[6]=d+p,t[7]=0,t[8]=f+A,t[9]=d-p,t[10]=1-(c+h),t[11]=0,t[12]=k[0],t[13]=k[1],t[14]=k[2],t[15]=1,t}},81472:function(oe){oe.exports=function J(t,S){return t[0]=S[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=S[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=S[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},14669:function(oe){oe.exports=function J(t,S){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=S[0],t[13]=S[1],t[14]=S[2],t[15]=1,t}},75262:function(oe){oe.exports=function J(t,S){var k=Math.sin(S),l=Math.cos(S);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=k,t[7]=0,t[8]=0,t[9]=-k,t[10]=l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},331:function(oe){oe.exports=function J(t,S){var k=Math.sin(S),l=Math.cos(S);return t[0]=l,t[1]=0,t[2]=-k,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=k,t[9]=0,t[10]=l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},11049:function(oe){oe.exports=function J(t,S){var k=Math.sin(S),l=Math.cos(S);return t[0]=l,t[1]=k,t[2]=0,t[3]=0,t[4]=-k,t[5]=l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},75195:function(oe){oe.exports=function J(t,S,k,l,R,I,v){var w=1/(k-S),r=1/(R-l),n=1/(I-v);return t[0]=2*I*w,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*I*r,t[6]=0,t[7]=0,t[8]=(k+S)*w,t[9]=(R+l)*r,t[10]=(v+I)*n,t[11]=-1,t[12]=0,t[13]=0,t[14]=v*I*2*n,t[15]=0,t}},71551:function(oe){oe.exports=function J(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},79576:function(oe,J,t){oe.exports={create:t(11902),clone:t(42331),copy:t(31042),identity:t(71551),transpose:t(88654),invert:t(95874),adjoint:t(85400),determinant:t(89887),multiply:t(91362),translate:t(31283),scale:t(10789),rotate:t(65074),rotateX:t(35545),rotateY:t(94918),rotateZ:t(15692),fromRotation:t(34045),fromRotationTranslation:t(45973),fromScaling:t(81472),fromTranslation:t(14669),fromXRotation:t(75262),fromYRotation:t(331),fromZRotation:t(11049),fromQuat:t(27812),frustum:t(75195),perspective:t(7864),perspectiveFromFieldOfView:t(35279),ortho:t(60378),lookAt:t(65551),str:t(6726)}},95874:function(oe){oe.exports=function J(t,S){var k=S[0],l=S[1],R=S[2],I=S[3],v=S[4],w=S[5],r=S[6],n=S[7],c=S[8],o=S[9],f=S[10],h=S[11],d=S[12],b=S[13],p=S[14],A=S[15],m=k*w-l*v,u=k*r-R*v,g=k*n-I*v,C=l*r-R*w,T=l*n-I*w,L=R*n-I*r,x=c*b-o*d,E=c*p-f*d,M=c*A-h*d,i=o*p-f*b,D=o*A-h*b,y=f*A-h*p,B=m*y-u*D+g*i+C*M-T*E+L*x;return B?(t[0]=(w*y-r*D+n*i)*(B=1/B),t[1]=(R*D-l*y-I*i)*B,t[2]=(b*L-p*T+A*C)*B,t[3]=(f*T-o*L-h*C)*B,t[4]=(r*M-v*y-n*E)*B,t[5]=(k*y-R*M+I*E)*B,t[6]=(p*g-d*L-A*u)*B,t[7]=(c*L-f*g+h*u)*B,t[8]=(v*D-w*M+n*x)*B,t[9]=(l*M-k*D-I*x)*B,t[10]=(d*T-b*g+A*m)*B,t[11]=(o*g-c*T-h*m)*B,t[12]=(w*E-v*i-r*x)*B,t[13]=(k*i-l*E+R*x)*B,t[14]=(b*u-d*C-p*m)*B,t[15]=(c*C-o*u+f*m)*B,t):null}},65551:function(oe,J,t){var S=t(71551);oe.exports=function k(l,R,I,v){var w,r,n,c,o,f,h,d,b,p,A=R[0],m=R[1],u=R[2],g=v[0],C=v[1],T=v[2],L=I[0],x=I[1],E=I[2];return Math.abs(A-L)<1e-6&&Math.abs(m-x)<1e-6&&Math.abs(u-E)<1e-6?S(l):(h=A-L,d=m-x,b=u-E,w=C*(b*=p=1/Math.sqrt(h*h+d*d+b*b))-T*(d*=p),r=T*(h*=p)-g*b,n=g*d-C*h,(p=Math.sqrt(w*w+r*r+n*n))?(w*=p=1/p,r*=p,n*=p):(w=0,r=0,n=0),c=d*n-b*r,o=b*w-h*n,f=h*r-d*w,(p=Math.sqrt(c*c+o*o+f*f))?(c*=p=1/p,o*=p,f*=p):(c=0,o=0,f=0),l[0]=w,l[1]=c,l[2]=h,l[3]=0,l[4]=r,l[5]=o,l[6]=d,l[7]=0,l[8]=n,l[9]=f,l[10]=b,l[11]=0,l[12]=-(w*A+r*m+n*u),l[13]=-(c*A+o*m+f*u),l[14]=-(h*A+d*m+b*u),l[15]=1,l)}},91362:function(oe){oe.exports=function J(t,S,k){var l=S[0],R=S[1],I=S[2],v=S[3],w=S[4],r=S[5],n=S[6],c=S[7],o=S[8],f=S[9],h=S[10],d=S[11],b=S[12],p=S[13],A=S[14],m=S[15],u=k[0],g=k[1],C=k[2],T=k[3];return t[0]=u*l+g*w+C*o+T*b,t[1]=u*R+g*r+C*f+T*p,t[2]=u*I+g*n+C*h+T*A,t[3]=u*v+g*c+C*d+T*m,t[4]=(u=k[4])*l+(g=k[5])*w+(C=k[6])*o+(T=k[7])*b,t[5]=u*R+g*r+C*f+T*p,t[6]=u*I+g*n+C*h+T*A,t[7]=u*v+g*c+C*d+T*m,t[8]=(u=k[8])*l+(g=k[9])*w+(C=k[10])*o+(T=k[11])*b,t[9]=u*R+g*r+C*f+T*p,t[10]=u*I+g*n+C*h+T*A,t[11]=u*v+g*c+C*d+T*m,t[12]=(u=k[12])*l+(g=k[13])*w+(C=k[14])*o+(T=k[15])*b,t[13]=u*R+g*r+C*f+T*p,t[14]=u*I+g*n+C*h+T*A,t[15]=u*v+g*c+C*d+T*m,t}},60378:function(oe){oe.exports=function J(t,S,k,l,R,I,v){var w=1/(S-k),r=1/(l-R),n=1/(I-v);return t[0]=-2*w,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*n,t[11]=0,t[12]=(S+k)*w,t[13]=(R+l)*r,t[14]=(v+I)*n,t[15]=1,t}},7864:function(oe){oe.exports=function J(t,S,k,l,R){var I=1/Math.tan(S/2),v=1/(l-R);return t[0]=I/k,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=I,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(R+l)*v,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*R*l*v,t[15]=0,t}},35279:function(oe){oe.exports=function J(t,S,k,l){var R=Math.tan(S.upDegrees*Math.PI/180),I=Math.tan(S.downDegrees*Math.PI/180),v=Math.tan(S.leftDegrees*Math.PI/180),w=Math.tan(S.rightDegrees*Math.PI/180),r=2/(v+w),n=2/(R+I);return t[0]=r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=-(v-w)*r*.5,t[9]=(R-I)*n*.5,t[10]=l/(k-l),t[11]=-1,t[12]=0,t[13]=0,t[14]=l*k/(k-l),t[15]=0,t}},65074:function(oe){oe.exports=function J(t,S,k,l){var r,n,c,o,f,h,d,b,p,A,m,u,g,C,T,L,x,E,M,i,D,y,B,F,R=l[0],I=l[1],v=l[2],w=Math.sqrt(R*R+I*I+v*v);return Math.abs(w)<1e-6?null:(R*=w=1/w,I*=w,v*=w,r=Math.sin(k),n=Math.cos(k),f=S[1],h=S[2],d=S[3],p=S[5],A=S[6],m=S[7],g=S[9],C=S[10],T=S[11],M=R*I*(c=1-n)-v*r,i=I*I*c+n,D=v*I*c+R*r,y=R*v*c+I*r,B=I*v*c-R*r,F=v*v*c+n,t[0]=(o=S[0])*(L=R*R*c+n)+(b=S[4])*(x=I*R*c+v*r)+(u=S[8])*(E=v*R*c-I*r),t[1]=f*L+p*x+g*E,t[2]=h*L+A*x+C*E,t[3]=d*L+m*x+T*E,t[4]=o*M+b*i+u*D,t[5]=f*M+p*i+g*D,t[6]=h*M+A*i+C*D,t[7]=d*M+m*i+T*D,t[8]=o*y+b*B+u*F,t[9]=f*y+p*B+g*F,t[10]=h*y+A*B+C*F,t[11]=d*y+m*B+T*F,S!==t&&(t[12]=S[12],t[13]=S[13],t[14]=S[14],t[15]=S[15]),t)}},35545:function(oe){oe.exports=function J(t,S,k){var l=Math.sin(k),R=Math.cos(k),I=S[4],v=S[5],w=S[6],r=S[7],n=S[8],c=S[9],o=S[10],f=S[11];return S!==t&&(t[0]=S[0],t[1]=S[1],t[2]=S[2],t[3]=S[3],t[12]=S[12],t[13]=S[13],t[14]=S[14],t[15]=S[15]),t[4]=I*R+n*l,t[5]=v*R+c*l,t[6]=w*R+o*l,t[7]=r*R+f*l,t[8]=n*R-I*l,t[9]=c*R-v*l,t[10]=o*R-w*l,t[11]=f*R-r*l,t}},94918:function(oe){oe.exports=function J(t,S,k){var l=Math.sin(k),R=Math.cos(k),I=S[0],v=S[1],w=S[2],r=S[3],n=S[8],c=S[9],o=S[10],f=S[11];return S!==t&&(t[4]=S[4],t[5]=S[5],t[6]=S[6],t[7]=S[7],t[12]=S[12],t[13]=S[13],t[14]=S[14],t[15]=S[15]),t[0]=I*R-n*l,t[1]=v*R-c*l,t[2]=w*R-o*l,t[3]=r*R-f*l,t[8]=I*l+n*R,t[9]=v*l+c*R,t[10]=w*l+o*R,t[11]=r*l+f*R,t}},15692:function(oe){oe.exports=function J(t,S,k){var l=Math.sin(k),R=Math.cos(k),I=S[0],v=S[1],w=S[2],r=S[3],n=S[4],c=S[5],o=S[6],f=S[7];return S!==t&&(t[8]=S[8],t[9]=S[9],t[10]=S[10],t[11]=S[11],t[12]=S[12],t[13]=S[13],t[14]=S[14],t[15]=S[15]),t[0]=I*R+n*l,t[1]=v*R+c*l,t[2]=w*R+o*l,t[3]=r*R+f*l,t[4]=n*R-I*l,t[5]=c*R-v*l,t[6]=o*R-w*l,t[7]=f*R-r*l,t}},10789:function(oe){oe.exports=function J(t,S,k){var l=k[0],R=k[1],I=k[2];return t[0]=S[0]*l,t[1]=S[1]*l,t[2]=S[2]*l,t[3]=S[3]*l,t[4]=S[4]*R,t[5]=S[5]*R,t[6]=S[6]*R,t[7]=S[7]*R,t[8]=S[8]*I,t[9]=S[9]*I,t[10]=S[10]*I,t[11]=S[11]*I,t[12]=S[12],t[13]=S[13],t[14]=S[14],t[15]=S[15],t}},6726:function(oe){oe.exports=function J(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},31283:function(oe){oe.exports=function J(t,S,k){var v,w,r,n,c,o,f,h,d,b,p,A,l=k[0],R=k[1],I=k[2];return S===t?(t[12]=S[0]*l+S[4]*R+S[8]*I+S[12],t[13]=S[1]*l+S[5]*R+S[9]*I+S[13],t[14]=S[2]*l+S[6]*R+S[10]*I+S[14],t[15]=S[3]*l+S[7]*R+S[11]*I+S[15]):(w=S[1],r=S[2],n=S[3],c=S[4],o=S[5],f=S[6],h=S[7],d=S[8],b=S[9],p=S[10],A=S[11],t[0]=v=S[0],t[1]=w,t[2]=r,t[3]=n,t[4]=c,t[5]=o,t[6]=f,t[7]=h,t[8]=d,t[9]=b,t[10]=p,t[11]=A,t[12]=v*l+c*R+d*I+S[12],t[13]=w*l+o*R+b*I+S[13],t[14]=r*l+f*R+p*I+S[14],t[15]=n*l+h*R+A*I+S[15]),t}},88654:function(oe){oe.exports=function J(t,S){if(t===S){var k=S[1],l=S[2],R=S[3],I=S[6],v=S[7],w=S[11];t[1]=S[4],t[2]=S[8],t[3]=S[12],t[4]=k,t[6]=S[9],t[7]=S[13],t[8]=l,t[9]=I,t[11]=S[14],t[12]=R,t[13]=v,t[14]=w}else t[0]=S[0],t[1]=S[4],t[2]=S[8],t[3]=S[12],t[4]=S[1],t[5]=S[5],t[6]=S[9],t[7]=S[13],t[8]=S[2],t[9]=S[6],t[10]=S[10],t[11]=S[14],t[12]=S[3],t[13]=S[7],t[14]=S[11],t[15]=S[15];return t}},42505:function(oe,J,t){"use strict";var S=t(72791),k=t(71299),l=t(98580),R=t(12018),I=t(83522),v=t(25075),w=t(68016),r=t(58404),n=t(18863),c=t(10973),o=t(25677),f=t(75686),h=t(53545),d=t(56131),b=t(32879),p=t(30120),m=t(13547).nextPow2,u=new I,g=!1;if(document.body){var C=document.body.appendChild(document.createElement("div"));C.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(C).fontStretch&&(g=!0),document.body.removeChild(C)}var T=function(E){this.gl=function L(x){return"function"==typeof x&&x._gl&&x.prop&&x.texture&&x.buffer}(E)?(E={regl:E}).regl._gl:R(E),this.shader=u.get(this.gl),this.regl=this.shader?this.shader.regl:E.regl||l({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),u.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(c(E)?E:{})};T.prototype.createShader=function(){var E=this.regl,M=E({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:E.prop("count"),offset:E.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:E.this("sizeBuffer")},width:{offset:0,stride:8,buffer:E.this("sizeBuffer")},char:E.this("charBuffer"),position:E.this("position")},uniforms:{atlasSize:function(D,y){return[y.atlas.width,y.atlas.height]},atlasDim:function(D,y){return[y.atlas.cols,y.atlas.rows]},atlas:function(D,y){return y.atlas.texture},charStep:function(D,y){return y.atlas.step},em:function(D,y){return y.atlas.em},color:E.prop("color"),opacity:E.prop("opacity"),viewport:E.this("viewportArray"),scale:E.this("scale"),align:E.prop("align"),baseline:E.prop("baseline"),translate:E.this("translate"),positionOffset:E.prop("positionOffset")},primitive:"points",viewport:E.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:E,draw:M,atlas:{}}},T.prototype.update=function(E){var M=this;if("string"==typeof E)E={text:E};else if(!E)return;null!=(E=k(E,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(this.opacity=Array.isArray(E.opacity)?E.opacity.map(function(ze){return parseFloat(ze)}):parseFloat(E.opacity)),null!=E.viewport&&(this.viewport=n(E.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=E.kerning&&(this.kerning=E.kerning),null!=E.offset&&("number"==typeof E.offset&&(E.offset=[E.offset,0]),this.positionOffset=p(E.offset)),E.direction&&(this.direction=E.direction),E.range&&(this.range=E.range,this.scale=[1/(E.range[2]-E.range[0]),1/(E.range[3]-E.range[1])],this.translate=[-E.range[0],-E.range[1]]),E.scale&&(this.scale=E.scale),E.translate&&(this.translate=E.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!E.font&&(E.font=T.baseFontSize+"px sans-serif");var F,i=!1,D=!1;if(E.font&&(Array.isArray(E.font)?E.font:[E.font]).forEach(function(ze,Ke){if("string"==typeof ze)try{ze=S.parse(ze)}catch{ze=S.parse(T.baseFontSize+"px "+ze)}else ze=S.parse(S.stringify(ze));var ut=S.stringify({size:T.baseFontSize,family:ze.family,stretch:g?ze.stretch:void 0,variant:ze.variant,weight:ze.weight,style:ze.style}),ot=o(ze.size),We=Math.round(ot[0]*f(ot[1]));if(We!==M.fontSize[Ke]&&(D=!0,M.fontSize[Ke]=We),!(M.font[Ke]&&ut==M.font[Ke].baseString||(i=!0,M.font[Ke]=T.fonts[ut],M.font[Ke]))){var je=ze.family.join(", "),lt=[ze.style];ze.style!=ze.variant&&lt.push(ze.variant),ze.variant!=ze.weight&&lt.push(ze.weight),g&&ze.weight!=ze.stretch&&lt.push(ze.stretch),M.font[Ke]={baseString:ut,family:je,weight:ze.weight,stretch:ze.stretch,style:ze.style,variant:ze.variant,width:{},kerning:{},metrics:b(je,{origin:"top",fontSize:T.baseFontSize,fontStyle:lt.join(" ")})},T.fonts[ut]=M.font[Ke]}}),(i||D)&&this.font.forEach(function(ze,Ke){var ut=S.stringify({size:M.fontSize[Ke],family:ze.family,stretch:g?ze.stretch:void 0,variant:ze.variant,weight:ze.weight,style:ze.style});M.fontAtlas[Ke]=M.shader.atlas[ut],M.fontAtlas[Ke]||(M.shader.atlas[ut]=M.fontAtlas[Ke]={fontString:ut,step:2*Math.ceil(M.fontSize[Ke]*ze.metrics.bottom*.5),em:M.fontSize[Ke],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:M.regl.texture()}),null==E.text&&(E.text=M.text)}),"string"==typeof E.text&&E.position&&E.position.length>2){for(var y=Array(.5*E.position.length),B=0;B<y.length;B++)y[B]=E.text;E.text=y}if(null!=E.text||i){if(this.textOffsets=[0],Array.isArray(E.text)){this.count=E.text[0].length,this.counts=[this.count];for(var _=1;_<E.text.length;_++)this.textOffsets[_]=this.textOffsets[_-1]+E.text[_-1].length,this.count+=E.text[_].length,this.counts.push(E.text[_].length);this.text=E.text.join("")}else this.text=E.text,this.count=this.text.length,this.counts=[this.count];F=[],this.font.forEach(function(ze,Ke){T.atlasContext.font=ze.baseString;for(var ut=M.fontAtlas[Ke],ot=0;ot<M.text.length;ot++){var We=M.text.charAt(ot);if(null==ut.ids[We]&&(ut.ids[We]=ut.chars.length,ut.chars.push(We),F.push(We)),null==ze.width[We]&&(ze.width[We]=T.atlasContext.measureText(We).width/T.baseFontSize,M.kerning)){var je=[];for(var lt in ze.width)je.push(lt+We,We+lt);d(ze.kerning,h(ze.family,{pairs:je}))}}})}if(E.position)if(E.position.length>2){for(var z=!E.position[0].length,V=r.mallocFloat(2*this.count),H=0,U=0;H<this.counts.length;H++){var G=this.counts[H];if(z)for(var Y=0;Y<G;Y++)V[U++]=E.position[2*H],V[U++]=E.position[2*H+1];else for(var ee=0;ee<G;ee++)V[U++]=E.position[H][0],V[U++]=E.position[H][1]}this.position.call?this.position({type:"float",data:V}):this.position=this.regl.buffer({type:"float",data:V}),r.freeFloat(V)}else this.position.destroy&&this.position.destroy(),this.position={constant:E.position};if(E.text||i){var ue=r.mallocUint8(this.count),ce=r.mallocFloat(2*this.count);this.textWidth=[];for(var pe=0,te=0;pe<this.counts.length;pe++){for(var Q=this.counts[pe],K=this.font[pe]||this.font[0],Z=this.fontAtlas[pe]||this.fontAtlas[0],q=0;q<Q;q++){var fe=this.text.charAt(te),re=this.text.charAt(te-1);if(ue[te]=Z.ids[fe],ce[2*te]=K.width[fe],q){var de=ce[2*te-1]+.5*ce[2*te-2]+.5*ce[2*te];if(this.kerning){var we=K.kerning[re+fe];we&&(de+=.001*we)}ce[2*te+1]=de}else ce[2*te+1]=.5*ce[2*te];te++}this.textWidth.push(ce.length?.5*ce[2*te-2]+ce[2*te-1]:0)}E.align||(E.align=this.align),this.charBuffer({data:ue,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ce,type:"float",usage:"stream"}),r.freeUint8(ue),r.freeFloat(ce),F.length&&this.font.forEach(function(ze,Ke){var ut=M.fontAtlas[Ke],ot=ut.step,We=Math.floor(T.maxAtlasSize/ot),je=Math.min(We,ut.chars.length),lt=Math.ceil(ut.chars.length/je),vt=m(je*ot),pt=m(lt*ot);ut.width=vt,ut.height=pt,ut.rows=lt,ut.cols=je,ut.em&&ut.texture({data:w({canvas:T.atlasCanvas,font:ut.fontString,chars:ut.chars,shape:[vt,pt],step:[ot,ot]})})})}if(E.align&&(this.align=E.align,this.alignOffset=this.textWidth.map(function(ze,Ke){var ut=Array.isArray(M.align)?M.align.length>1?M.align[Ke]:M.align[0]:M.align;if("number"==typeof ut)return ut;switch(ut){case"right":case"end":return-ze;case"center":case"centre":case"middle":return.5*-ze}return 0})),null==this.baseline&&null==E.baseline&&(E.baseline=0),null!=E.baseline&&(this.baseline=E.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(ze,Ke){var ut=(M.font[Ke]||M.font[0]).metrics,ot=0;return ot+=.5*ut.bottom,-1*(ot+="number"==typeof ze?ze-ut.baseline:-ut[ze])})),null!=E.color)if(E.color||(E.color="transparent"),"string"!=typeof E.color&&isNaN(E.color)){var Ee;if("number"==typeof E.color[0]&&E.color.length>this.counts.length){var Me=E.color.length;Ee=r.mallocUint8(Me);for(var Ne=(E.color.subarray||E.color.slice).bind(E.color),Ve=0;Ve<Me;Ve+=4)Ee.set(v(Ne(Ve,Ve+4),"uint8"),Ve)}else{var Pe=E.color.length;Ee=r.mallocUint8(4*Pe);for(var Ce=0;Ce<Pe;Ce++)Ee.set(v(E.color[Ce]||0,"uint8"),4*Ce)}this.color=Ee}else this.color=v(E.color,"uint8");if(E.position||E.text||E.color||E.baseline||E.align||E.font||E.offset||E.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var Je=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(Je);for(var Qe=0;Qe<this.batch.length;Qe++)this.batch[Qe]={count:this.counts.length>1?this.counts[Qe]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Qe]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*Qe,4*Qe+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Qe]:this.opacity,baseline:null!=this.baselineOffset[Qe]?this.baselineOffset[Qe]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[Qe]?this.alignOffset[Qe]:this.alignOffset[0]:0,atlas:this.fontAtlas[Qe]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*Qe,2*Qe+2):this.positionOffset}}else this.batch=this.count?[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:[]},T.prototype.destroy=function(){},T.prototype.kerning=!0,T.prototype.position={constant:new Float32Array(2)},T.prototype.translate=null,T.prototype.scale=null,T.prototype.font=null,T.prototype.text="",T.prototype.positionOffset=[0,0],T.prototype.opacity=1,T.prototype.color=new Uint8Array([0,0,0,255]),T.prototype.alignOffset=[0,0],T.maxAtlasSize=1024,T.atlasCanvas=document.createElement("canvas"),T.atlasContext=T.atlasCanvas.getContext("2d",{alpha:!1}),T.baseFontSize=64,T.fonts={},oe.exports=T},12018:function(oe,J,t){"use strict";var S=t(71299);function k(w){if(w.container)if(w.container==document.body)document.body.style.width||(w.canvas.width=w.width||w.pixelRatio*t.g.innerWidth),document.body.style.height||(w.canvas.height=w.height||w.pixelRatio*t.g.innerHeight);else{var r=w.container.getBoundingClientRect();w.canvas.width=w.width||r.right-r.left,w.canvas.height=w.height||r.bottom-r.top}}function l(w){return"function"==typeof w.getContext&&"width"in w&&"height"in w}function v(){var w=document.createElement("canvas");return w.style.position="absolute",w.style.top=0,w.style.left=0,w}oe.exports=function(r){if(r?"string"==typeof r&&(r={container:r}):r={},(r=l(r)||function R(w){return"string"==typeof w.nodeName&&"function"==typeof w.appendChild&&"function"==typeof w.getBoundingClientRect}(r)?{container:r}:function I(w){return"function"==typeof w.drawArrays||"function"==typeof w.drawElements}(r)?{gl:r}:S(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(r.pixelRatio=t.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if("string"==typeof r.container){var n=document.querySelector(r.container);if(!n)throw Error("Element "+r.container+" is not found");r.container=n}l(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),k(r))}else if(!r.canvas){if(!(typeof document<"u"))throw Error("Not DOM environment. Use headless-gl.");r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),k(r)}return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(c){try{r.gl=r.canvas.getContext(c,r.attrs)}catch{}return r.gl}),r.gl}},56068:function(oe){oe.exports=function(J){"string"==typeof J&&(J=[J]);for(var t=[].slice.call(arguments,1),S=[],k=0;k<J.length-1;k++)S.push(J[k],t[k]||"");return S.push(J[k]),S.join("")}},40383:function(oe,J,t){"use strict";var k=t(68318)("%Object.getOwnPropertyDescriptor%",!0);if(k)try{k([],"length")}catch{k=null}oe.exports=k},57035:function(oe,J,t){"use strict";var k,S=t(54404);k="function"==typeof t.g.matchMedia?!t.g.matchMedia("(hover: none)").matches:S,oe.exports=k},38520:function(oe,J,t){"use strict";var S=t(54404);oe.exports=S&&function k(){var l=!1;try{var R=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,R),window.removeEventListener("test",null,R)}catch{l=!1}return l}()},55622:function(oe,J,t){"use strict";var k=t(68318)("%Object.defineProperty%",!0),l=function(){if(k)try{return k({},"a",{value:1}),!0}catch{return!1}return!1};l.hasArrayLengthDefineBug=function(){if(!l())return null;try{return 1!==k([],"length",{value:1}).length}catch{return!0}},oe.exports=l},57877:function(oe,J,t){"use strict";var S=typeof Symbol<"u"&&Symbol,k=t(35638);oe.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&k()}},35638:function(oe){"use strict";oe.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},S=Symbol("test"),k=Object(S);if("string"==typeof S||"[object Symbol]"!==Object.prototype.toString.call(S)||"[object Symbol]"!==Object.prototype.toString.call(k))return!1;for(S in t[S]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var R=Object.getOwnPropertySymbols(t);if(1!==R.length||R[0]!==S||!Object.prototype.propertyIsEnumerable.call(t,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var I=Object.getOwnPropertyDescriptor(t,S);if(42!==I.value||!0!==I.enumerable)return!1}return!0}},84543:function(oe,J,t){"use strict";var S=t(35638);oe.exports=function(){return S()&&!!Symbol.toStringTag}},35065:function(oe,J,t){"use strict";var S=t(77575);oe.exports=S.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(oe,J){J.read=function(t,S,k,l,R){var I,v,w=8*R-l-1,r=(1<<w)-1,n=r>>1,c=-7,o=k?R-1:0,f=k?-1:1,h=t[S+o];for(o+=f,I=h&(1<<-c)-1,h>>=-c,c+=w;c>0;I=256*I+t[S+o],o+=f,c-=8);for(v=I&(1<<-c)-1,I>>=-c,c+=l;c>0;v=256*v+t[S+o],o+=f,c-=8);if(0===I)I=1-n;else{if(I===r)return v?NaN:1/0*(h?-1:1);v+=Math.pow(2,l),I-=n}return(h?-1:1)*v*Math.pow(2,I-l)},J.write=function(t,S,k,l,R,I){var v,w,r,n=8*I-R-1,c=(1<<n)-1,o=c>>1,f=23===R?Math.pow(2,-24)-Math.pow(2,-77):0,h=l?0:I-1,d=l?1:-1,b=S<0||0===S&&1/S<0?1:0;for(S=Math.abs(S),isNaN(S)||S===1/0?(w=isNaN(S)?1:0,v=c):(v=Math.floor(Math.log(S)/Math.LN2),S*(r=Math.pow(2,-v))<1&&(v--,r*=2),(S+=v+o>=1?f/r:f*Math.pow(2,1-o))*r>=2&&(v++,r/=2),v+o>=c?(w=0,v=c):v+o>=1?(w=(S*r-1)*Math.pow(2,R),v+=o):(w=S*Math.pow(2,o-1)*Math.pow(2,R),v=0));R>=8;t[k+h]=255&w,h+=d,w/=256,R-=8);for(v=v<<R|w,n+=R;n>0;t[k+h]=255&v,h+=d,v/=256,n-=8);t[k+h-d]|=128*b}},42018:function(oe){oe.exports="function"==typeof Object.create?function(t,S){S&&(t.super_=S,t.prototype=Object.create(S.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,S){if(S){t.super_=S;var k=function(){};k.prototype=S.prototype,t.prototype=new k,t.prototype.constructor=t}}},47216:function(oe,J,t){"use strict";var S=t(84543)(),l=t(6614)("Object.prototype.toString"),R=function(r){return!(S&&r&&"object"==typeof r&&Symbol.toStringTag in r)&&"[object Arguments]"===l(r)},I=function(r){return!!R(r)||null!==r&&"object"==typeof r&&"number"==typeof r.length&&r.length>=0&&"[object Array]"!==l(r)&&"[object Function]"===l(r.callee)},v=function(){return R(arguments)}();R.isLegacyArguments=I,oe.exports=v?R:I},54404:function(oe){oe.exports=!0},85395:function(oe){"use strict";var S,k,J=Function.prototype.toString,t="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof t&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw k}}),k={},t(function(){throw 42},null,S)}catch(A){A!==k&&(t=null)}else t=null;var l=/^\s*class\b/,R=function(m){try{var u=J.call(m);return l.test(u)}catch{return!1}},I=function(m){try{return!R(m)&&(J.call(m),!0)}catch{return!1}},v=Object.prototype.toString,h="function"==typeof Symbol&&!!Symbol.toStringTag,d=!(0 in[,]),b=function(){return!1};if("object"==typeof document){var p=document.all;v.call(p)===v.call(document.all)&&(b=function(m){if((d||!m)&&(typeof m>"u"||"object"==typeof m))try{var u=v.call(m);return("[object HTMLAllCollection]"===u||"[object HTML document.all class]"===u||"[object HTMLCollection]"===u||"[object Object]"===u)&&null==m("")}catch{}return!1})}oe.exports=t?function(m){if(b(m))return!0;if(!m||"function"!=typeof m&&"object"!=typeof m)return!1;try{t(m,null,S)}catch(u){if(u!==k)return!1}return!R(m)&&I(m)}:function(m){if(b(m))return!0;if(!m||"function"!=typeof m&&"object"!=typeof m)return!1;if(h)return I(m);if(R(m))return!1;var u=v.call(m);return!("[object Function]"!==u&&"[object GeneratorFunction]"!==u&&!/^\[object HTML/.test(u))&&I(m)}},65481:function(oe,J,t){"use strict";var w,S=Object.prototype.toString,k=Function.prototype.toString,l=/^\s*(?:function)?\*/,R=t(84543)(),I=Object.getPrototypeOf;oe.exports=function(n){if("function"!=typeof n)return!1;if(l.test(k.call(n)))return!0;if(!R)return"[object GeneratorFunction]"===S.call(n);if(!I)return!1;if(typeof w>"u"){var o=function(){if(!R)return!1;try{return Function("return function*() {}")()}catch{}}();w=!!o&&I(o)}return I(n)===w}},62683:function(oe){"use strict";oe.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(oe){"use strict";oe.exports=function(t){return t!=t}},15567:function(oe,J,t){"use strict";var S=t(68222),k=t(17045),l=t(64274),R=t(14922),I=t(22442),v=S(R(),Number);k(v,{getPolyfill:R,implementation:l,shim:I}),oe.exports=v},14922:function(oe,J,t){"use strict";var S=t(64274);oe.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:S}},22442:function(oe,J,t){"use strict";var S=t(17045),k=t(14922);oe.exports=function(){var R=k();return S(Number,{isNaN:R},{isNaN:function(){return Number.isNaN!==R}}),R}},64941:function(oe){"use strict";oe.exports=function(J){var t=typeof J;return null!==J&&("object"===t||"function"===t)}},10973:function(oe){"use strict";var J=Object.prototype.toString;oe.exports=function(t){var S;return"[object Object]"===J.call(t)&&(null===(S=Object.getPrototypeOf(t))||S===Object.getPrototypeOf({}))}},18546:function(oe){"use strict";oe.exports=function(J){for(var S,t=J.length,k=0;k<t;k++)if(((S=J.charCodeAt(k))<9||S>13)&&32!==S&&133!==S&&160!==S&&5760!==S&&6158!==S&&(S<8192||S>8205)&&8232!==S&&8233!==S&&8239!==S&&8287!==S&&8288!==S&&12288!==S&&65279!==S)return!1;return!0}},89546:function(oe){"use strict";oe.exports=function(t){return"string"==typeof t&&(t=t.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4))}},9187:function(oe,J,t){"use strict";var S=t(31353),k=t(72077),l=t(6614),R=l("Object.prototype.toString"),I=t(84543)(),v=t(40383),w=typeof globalThis>"u"?t.g:globalThis,r=k(),n=l("Array.prototype.indexOf",!0)||function(b,p){for(var A=0;A<b.length;A+=1)if(b[A]===p)return A;return-1},c=l("String.prototype.slice"),o={},f=Object.getPrototypeOf;I&&v&&f&&S(r,function(d){var b=new w[d];if(Symbol.toStringTag in b){var p=f(b),A=v(p,Symbol.toStringTag);if(!A){var m=f(p);A=v(m,Symbol.toStringTag)}o[d]=A.get}});oe.exports=function(b){if(!b||"object"!=typeof b)return!1;if(!I||!(Symbol.toStringTag in b)){var p=c(R(b),8,-1);return n(r,p)>-1}return!!v&&function(b){var p=!1;return S(o,function(A,m){if(!p)try{p=A.call(b)===m}catch{}}),p}(b)}},44517:function(oe){var t;t=function(){"use strict";var J,t,S;function k(l,R){if(J)if(t){var I="var sharedChunk = {}; ("+J+")(sharedChunk); ("+t+")(sharedChunk);",v={};J(v),(S=R(v)).workerUrl=window.URL.createObjectURL(new Blob([I],{type:"text/javascript"}))}else t=R;else J=R}return k(0,function(l){function R(O,N){return O(N={exports:{}},N.exports),N.exports}var I="1.10.1",v=w;function w(O,N,W,ae){this.cx=3*O,this.bx=3*(W-O)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*N,this.by=3*(ae-N)-this.cy,this.ay=1-this.cy-this.by,this.p1x=O,this.p1y=ae,this.p2x=W,this.p2y=ae}w.prototype.sampleCurveX=function(O){return((this.ax*O+this.bx)*O+this.cx)*O},w.prototype.sampleCurveY=function(O){return((this.ay*O+this.by)*O+this.cy)*O},w.prototype.sampleCurveDerivativeX=function(O){return(3*this.ax*O+2*this.bx)*O+this.cx},w.prototype.solveCurveX=function(O,N){var W,ae,me,Se,Le;for(typeof N>"u"&&(N=1e-6),me=O,Le=0;Le<8;Le++){if(Se=this.sampleCurveX(me)-O,Math.abs(Se)<N)return me;var rt=this.sampleCurveDerivativeX(me);if(Math.abs(rt)<1e-6)break;me-=Se/rt}if((me=O)<(W=0))return W;if(me>(ae=1))return ae;for(;W<ae;){if(Se=this.sampleCurveX(me),Math.abs(Se-O)<N)return me;O>Se?W=me:ae=me,me=.5*(ae-W)+W}return me},w.prototype.solve=function(O,N){return this.sampleCurveY(this.solveCurveX(O,N))};var r=n;function n(O,N){this.x=O,this.y=N}function f(O,N,W,ae){var me=new v(O,N,W,ae);return function(Se){return me.solve(Se)}}n.prototype={clone:function(){return new n(this.x,this.y)},add:function(O){return this.clone()._add(O)},sub:function(O){return this.clone()._sub(O)},multByPoint:function(O){return this.clone()._multByPoint(O)},divByPoint:function(O){return this.clone()._divByPoint(O)},mult:function(O){return this.clone()._mult(O)},div:function(O){return this.clone()._div(O)},rotate:function(O){return this.clone()._rotate(O)},rotateAround:function(O,N){return this.clone()._rotateAround(O,N)},matMult:function(O){return this.clone()._matMult(O)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(O){return this.x===O.x&&this.y===O.y},dist:function(O){return Math.sqrt(this.distSqr(O))},distSqr:function(O){var N=O.x-this.x,W=O.y-this.y;return N*N+W*W},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(O){return Math.atan2(this.y-O.y,this.x-O.x)},angleWith:function(O){return this.angleWithSep(O.x,O.y)},angleWithSep:function(O,N){return Math.atan2(this.x*N-this.y*O,this.x*O+this.y*N)},_matMult:function(O){var W=O[2]*this.x+O[3]*this.y;return this.x=O[0]*this.x+O[1]*this.y,this.y=W,this},_add:function(O){return this.x+=O.x,this.y+=O.y,this},_sub:function(O){return this.x-=O.x,this.y-=O.y,this},_mult:function(O){return this.x*=O,this.y*=O,this},_div:function(O){return this.x/=O,this.y/=O,this},_multByPoint:function(O){return this.x*=O.x,this.y*=O.y,this},_divByPoint:function(O){return this.x/=O.x,this.y/=O.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var O=this.y;return this.y=this.x,this.x=-O,this},_rotate:function(O){var N=Math.cos(O),W=Math.sin(O),me=W*this.x+N*this.y;return this.x=N*this.x-W*this.y,this.y=me,this},_rotateAround:function(O,N){var W=Math.cos(O),ae=Math.sin(O),Se=N.y+ae*(this.x-N.x)+W*(this.y-N.y);return this.x=N.x+W*(this.x-N.x)-ae*(this.y-N.y),this.y=Se,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.convert=function(O){return O instanceof n?O:Array.isArray(O)?new n(O[0],O[1]):O};var h=f(.25,.1,.25,1);function d(O,N,W){return Math.min(W,Math.max(N,O))}function b(O,N,W){var ae=W-N,me=((O-N)%ae+ae)%ae+N;return me===N?W:me}function u(O){for(var N=[],W=arguments.length-1;W-- >0;)N[W]=arguments[W+1];for(var ae=0,me=N;ae<me.length;ae+=1){var Se=me[ae];for(var Le in Se)O[Le]=Se[Le]}return O}var C=1;function T(){return C++}function L(){return function O(N){return N?(N^16*Math.random()>>N/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,O)}()}function x(O){return!!O&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(O)}function E(O,N){O.forEach(function(W){N[W]&&(N[W]=N[W].bind(N))})}function M(O,N){return-1!==O.indexOf(N,O.length-N.length)}function i(O,N,W){var ae={};for(var me in O)ae[me]=N.call(W||this,O[me],me,O);return ae}function D(O,N,W){var ae={};for(var me in O)N.call(W||this,O[me],me,O)&&(ae[me]=O[me]);return ae}function y(O){return Array.isArray(O)?O.map(y):"object"==typeof O&&O?i(O,y):O}var F={};function _(O){F[O]||(typeof console<"u"&&console.warn(O),F[O]=!0)}function z(O,N,W){return(W.y-O.y)*(N.x-O.x)>(N.y-O.y)*(W.x-O.x)}function V(O){for(var N=0,W=0,ae=O.length,me=ae-1,Se=void 0,Le=void 0;W<ae;me=W++)N+=((Le=O[me]).x-(Se=O[W]).x)*(Se.y+Le.y);return N}function U(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function G(O){var W={};if(O.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(me,Se,Le,rt){var mt=Le||rt;return W[Se]=!mt||mt.toLowerCase(),""}),W["max-age"]){var ae=parseInt(W["max-age"],10);isNaN(ae)?delete W["max-age"]:W["max-age"]=ae}return W}var Y=null;function ee(O){if(null==Y){var N=O.navigator?O.navigator.userAgent:null;Y=!!O.safari||!(!N||!(/\b(iPad|iPhone|iPod)\b/.test(N)||N.match("Safari")&&!N.match("Chrome")))}return Y}function ue(O){try{var N=self[O];return N.setItem("_mapbox_test_",1),N.removeItem("_mapbox_test_"),!0}catch{return!1}}var Z,q,le,de,te=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),Q=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,K=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,fe={now:te,frame:function(N){var W=Q(N);return{cancel:function(){return K(W)}}},getImageData:function(N,W){void 0===W&&(W=0);var ae=self.document.createElement("canvas"),me=ae.getContext("2d");if(!me)throw new Error("failed to create canvas 2d context");return ae.width=N.width,ae.height=N.height,me.drawImage(N,0,0,N.width,N.height),me.getImageData(-W,-W,N.width+2*W,N.height+2*W)},resolveURL:function(N){return Z||(Z=self.document.createElement("a")),Z.href=N,Z.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==q&&(q=self.matchMedia("(prefers-reduced-motion: reduce)")),q.matches)}},re={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},$={supported:!1,testSupport:function Ee(O){se||!de||(we?Me(O):le=O)}},se=!1,we=!1;function Me(O){var N=O.createTexture();O.bindTexture(O.TEXTURE_2D,N);try{if(O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,de),O.isContextLost())return;$.supported=!0}catch{}O.deleteTexture(N),se=!0}self.document&&((de=self.document.createElement("img")).onload=function(){le&&Me(le),le=null,we=!0},de.onerror=function(){se=!0,le=null},de.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Ne="01";var Pe=function(N,W){this._transformRequestFn=N,this._customAccessToken=W,this._createSkuToken()};function Ce(O){return 0===O.indexOf("mapbox:")}Pe.prototype._createSkuToken=function(){var N=function Ve(){for(var W="",ae=0;ae<10;ae++)W+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Ne,W].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=N.token,this._skuTokenExpiresAt=N.tokenExpiresAt},Pe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Pe.prototype.transformRequest=function(N,W){return this._transformRequestFn&&this._transformRequestFn(N,W)||{url:N}},Pe.prototype.normalizeStyleURL=function(N,W){if(!Ce(N))return N;var ae=ut(N);return ae.path="/styles/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||W)},Pe.prototype.normalizeGlyphsURL=function(N,W){if(!Ce(N))return N;var ae=ut(N);return ae.path="/fonts/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||W)},Pe.prototype.normalizeSourceURL=function(N,W){if(!Ce(N))return N;var ae=ut(N);return ae.path="/v4/"+ae.authority+".json",ae.params.push("secure"),this._makeAPIURL(ae,this._customAccessToken||W)},Pe.prototype.normalizeSpriteURL=function(N,W,ae,me){var Se=ut(N);return Ce(N)?(Se.path="/styles/v1"+Se.path+"/sprite"+W+ae,this._makeAPIURL(Se,this._customAccessToken||me)):(Se.path+=""+W+ae,ot(Se))},Pe.prototype.normalizeTileURL=function(N,W){if(this._isSkuTokenExpired()&&this._createSkuToken(),N&&!Ce(N))return N;var ae=ut(N);ae.path=ae.path.replace(/(\.(png|jpg)\d*)(?=$)/,(fe.devicePixelRatio>=2||512===W?"@2x":"")+($.supported?".webp":"$1")),ae.path=ae.path.replace(/^.+\/v4\//,"/"),ae.path="/v4"+ae.path;var mt=this._customAccessToken||function ze(O){for(var N=0,W=O;N<W.length;N+=1){var me=W[N].match(/^access_token=(.*)$/);if(me)return me[1]}return null}(ae.params)||re.ACCESS_TOKEN;return re.REQUIRE_ACCESS_TOKEN&&mt&&this._skuToken&&ae.params.push("sku="+this._skuToken),this._makeAPIURL(ae,mt)},Pe.prototype.canonicalizeTileURL=function(N,W){var Se=ut(N);if(!Se.path.match(/(^\/v4\/)/)||!Se.path.match(/\.[\w]+$/))return N;var Le="mapbox://tiles/";Le+=Se.path.replace("/v4/","");var rt=Se.params;return W&&(rt=rt.filter(function(mt){return!mt.match(/^access_token=/)})),rt.length&&(Le+="?"+rt.join("&")),Le},Pe.prototype.canonicalizeTileset=function(N,W){for(var ae=!!W&&Ce(W),me=[],Se=0,Le=N.tiles||[];Se<Le.length;Se+=1){var rt=Le[Se];Je(rt)?me.push(this.canonicalizeTileURL(rt,ae)):me.push(rt)}return me},Pe.prototype._makeAPIURL=function(N,W){var ae="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",me=ut(re.API_URL);if(N.protocol=me.protocol,N.authority=me.authority,"/"!==me.path&&(N.path=""+me.path+N.path),!re.REQUIRE_ACCESS_TOKEN)return ot(N);if(!(W=W||re.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+ae);if("s"===W[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ae);return N.params=N.params.filter(function(Se){return-1===Se.indexOf("access_token")}),N.params.push("access_token="+W),ot(N)};var Ie=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Je(O){return Ie.test(O)}var Ke=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ut(O){var N=O.match(Ke);if(!N)throw new Error("Unable to parse URL object");return{protocol:N[1],authority:N[2],path:N[3]||"/",params:N[4]?N[4].split("&"):[]}}function ot(O){var N=O.params.length?"?"+O.params.join("&"):"";return O.protocol+"://"+O.authority+O.path+N}var We="mapbox.eventData";function je(O){if(!O)return null;var N=O.split(".");if(!N||3!==N.length)return null;try{return JSON.parse(function pe(O){return decodeURIComponent(self.atob(O).split("").map(function(N){return"%"+("00"+N.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(N[1]))}catch{return null}}var lt=function(N){this.type=N,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};lt.prototype.getStorageKey=function(N){var ae,W=je(re.ACCESS_TOKEN);return ae=W&&W.u?function ce(O){return self.btoa(encodeURIComponent(O).replace(/%([0-9A-F]{2})/g,function(N,W){return String.fromCharCode(+("0x"+W))}))}(W.u):re.ACCESS_TOKEN||"",N?We+"."+N+":"+ae:We+":"+ae},lt.prototype.fetchEventData=function(){var N=ue("localStorage"),W=this.getStorageKey(),ae=this.getStorageKey("uuid");if(N)try{var me=self.localStorage.getItem(W);me&&(this.eventData=JSON.parse(me));var Se=self.localStorage.getItem(ae);Se&&(this.anonId=Se)}catch{_("Unable to read from LocalStorage")}},lt.prototype.saveEventData=function(){var N=ue("localStorage"),W=this.getStorageKey(),ae=this.getStorageKey("uuid");if(N)try{self.localStorage.setItem(ae,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(W,JSON.stringify(this.eventData))}catch{_("Unable to write to LocalStorage")}},lt.prototype.processRequests=function(N){},lt.prototype.postEvent=function(N,W,ae,me){var Se=this;if(re.EVENTS_URL){var Le=ut(re.EVENTS_URL);Le.params.push("access_token="+(me||re.ACCESS_TOKEN||""));var rt={event:this.type,created:new Date(N).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:I,skuId:Ne,userId:this.anonId},mt=W?u(rt,W):rt,Mt={url:ot(Le),headers:{"Content-Type":"text/plain"},body:JSON.stringify([mt])};this.pendingRequest=Ft(Mt,function(Pt){Se.pendingRequest=null,ae(Pt),Se.saveEventData(),Se.processRequests(me)})}},lt.prototype.queueRequest=function(N,W){this.queue.push(N),this.processRequests(W)};var Ye,De,vt=function(O){function N(){O.call(this,"map.load"),this.success={},this.skuToken=""}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.postMapLoadEvent=function(ae,me,Se,Le){this.skuToken=Se,(re.EVENTS_URL&&Le||re.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(rt){return Ce(rt)||Je(rt)}))&&this.queueRequest({id:me,timestamp:Date.now()},Le)},N.prototype.processRequests=function(ae){var me=this;if(!this.pendingRequest&&0!==this.queue.length){var Se=this.queue.shift(),Le=Se.id,rt=Se.timestamp;Le&&this.success[Le]||(this.anonId||this.fetchEventData(),x(this.anonId)||(this.anonId=L()),this.postEvent(rt,{skuToken:this.skuToken},function(mt){mt||Le&&(me.success[Le]=!0)},ae))}},N}(lt),St=new(function(O){function N(W){O.call(this,"appUserTurnstile"),this._customAccessToken=W}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.postTurnstileEvent=function(ae,me){re.EVENTS_URL&&re.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Se){return Ce(Se)||Je(Se)})&&this.queueRequest(Date.now(),me)},N.prototype.processRequests=function(ae){var me=this;if(!this.pendingRequest&&0!==this.queue.length){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Se=je(re.ACCESS_TOKEN),Le=Se?Se.u:re.ACCESS_TOKEN,rt=Le!==this.eventData.tokenU;x(this.anonId)||(this.anonId=L(),rt=!0);var mt=this.queue.shift();if(this.eventData.lastSuccess){var Mt=new Date(this.eventData.lastSuccess),Pt=new Date(mt),Jt=(mt-this.eventData.lastSuccess)/864e5;rt=rt||Jt>=1||Jt<-1||Mt.getDate()!==Pt.getDate()}else rt=!0;if(!rt)return this.processRequests();this.postEvent(mt,{"enabled.telemetry":!1},function(cr){cr||(me.eventData.lastSuccess=mt,me.eventData.tokenU=Le)},ae)}},N}(lt)),Ct=St.postTurnstileEvent.bind(St),_t=new vt,nt=_t.postMapLoadEvent.bind(_t),ke="mapbox-tiles",Re=500,Be=50,He=42e4;function Ue(){self.caches&&!Ye&&(Ye=self.caches.open(ke))}function Te(O,N,W){if(Ue(),Ye){var ae={status:N.status,statusText:N.statusText,headers:new self.Headers};N.headers.forEach(function(Le,rt){return ae.headers.set(rt,Le)});var me=G(N.headers.get("Cache-Control")||"");me["no-store"]||(me["max-age"]&&ae.headers.set("Expires",new Date(W+1e3*me["max-age"]).toUTCString()),new Date(ae.headers.get("Expires")).getTime()-W<He||function ge(O,N){if(void 0===De)try{new Response(new ReadableStream),De=!0}catch{De=!1}De?N(O.body):O.blob().then(N)}(N,function(Le){var rt=new self.Response(Le,ae);Ue(),Ye&&Ye.then(function(mt){return mt.put(_e(O.url),rt)}).catch(function(mt){return _(mt.message)})}))}}function _e(O){var N=O.indexOf("?");return N<0?O:O.slice(0,N)}function et(O,N){if(Ue(),!Ye)return N(null);var W=_e(O.url);Ye.then(function(ae){ae.match(W).then(function(me){var Se=function ft(O){if(!O)return!1;var N=new Date(O.headers.get("Expires")||0),W=G(O.headers.get("Cache-Control")||"");return N>Date.now()&&!W["no-cache"]}(me);ae.delete(W),Se&&ae.put(W,me.clone()),N(null,me,Se)}).catch(N)}).catch(N)}var Qt,gt=1/0;function Cr(){return null==Qt&&(Qt=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof self.createImageBitmap),Qt}var wt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(wt);var $t=function(O){function N(W,ae,me){401===ae&&Je(me)&&(W+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),O.call(this,W),this.status=ae,this.url=me,this.name=this.constructor.name,this.message=W}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},N}(Error),rr=U()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function mr(O,N){var W=new self.AbortController,ae=new self.Request(O.url,{method:O.method||"GET",body:O.body,credentials:O.credentials,headers:O.headers,referrer:rr(),signal:W.signal}),me=!1,Se=!1,Le=function Qe(O){return O.indexOf("sku=")>0&&Je(O)}(ae.url);"json"===O.type&&ae.headers.set("Accept","application/json");var rt=function(Mt,Pt,Jt){if(!Se){if(Mt&&"SecurityError"!==Mt.message&&_(Mt),Pt&&Jt)return mt(Pt);var cr=Date.now();self.fetch(ae).then(function(lr){if(lr.ok){var Dr=Le?lr.clone():null;return mt(lr,Dr,cr)}return N(new $t(lr.statusText,lr.status,O.url))}).catch(function(lr){20!==lr.code&&N(new Error(lr.message))})}},mt=function(Mt,Pt,Jt){("arrayBuffer"===O.type?Mt.arrayBuffer():"json"===O.type?Mt.json():Mt.text()).then(function(cr){Se||(Pt&&Jt&&Te(ae,Pt,Jt),me=!0,N(null,cr,Mt.headers.get("Cache-Control"),Mt.headers.get("Expires")))}).catch(function(cr){Se||N(new Error(cr.message))})};return Le?et(ae,rt):rt(null,null),{cancel:function(){Se=!0,me||W.abort()}}}var ct=function(O,N){if(!function(O){return/^file:/.test(O)||/^file:/.test(rr())&&!/^\w+:/.test(O)}(O.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return mr(O,N);if(U()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",O,N,void 0,!0)}return function bt(O,N){var W=new self.XMLHttpRequest;for(var ae in W.open(O.method||"GET",O.url,!0),"arrayBuffer"===O.type&&(W.responseType="arraybuffer"),O.headers)W.setRequestHeader(ae,O.headers[ae]);return"json"===O.type&&(W.responseType="text",W.setRequestHeader("Accept","application/json")),W.withCredentials="include"===O.credentials,W.onerror=function(){N(new Error(W.statusText))},W.onload=function(){if((W.status>=200&&W.status<300||0===W.status)&&null!==W.response){var me=W.response;if("json"===O.type)try{me=JSON.parse(W.response)}catch(Se){return N(Se)}N(null,me,W.getResponseHeader("Cache-Control"),W.getResponseHeader("Expires"))}else N(new $t(W.statusText,W.status,O.url))},W.send(O.body),{cancel:function(){return W.abort()}}}(O,N)},It=function(O,N){return ct(u(O,{type:"arrayBuffer"}),N)},Ft=function(O,N){return ct(u(O,{method:"POST"}),N)};function Rt(O){var N=self.document.createElement("a");return N.href=O,N.protocol===self.document.location.protocol&&N.host===self.document.location.host}var dr,hr;dr=[],hr=0;var $e=function(O,N){if($.supported&&(O.headers||(O.headers={}),O.headers.accept="image/webp,*/*"),hr>=re.MAX_PARALLEL_IMAGE_REQUESTS){var W={requestParameters:O,callback:N,cancelled:!1,cancel:function(){this.cancelled=!0}};return dr.push(W),W}hr++;var ae=!1,me=function(){if(!ae)for(ae=!0,hr--;dr.length&&hr<re.MAX_PARALLEL_IMAGE_REQUESTS;){var Le=dr.shift();Le.cancelled||(Le.cancel=$e(Le.requestParameters,Le.callback).cancel)}},Se=It(O,function(Le,rt,mt,Mt){me(),Le?N(Le):rt&&(Cr()?function er(O,N){var W=new self.Blob([new Uint8Array(O)],{type:"image/png"});self.createImageBitmap(W).then(function(ae){N(null,ae)}).catch(function(ae){N(new Error("Could not load image because of "+ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(rt,N):function jt(O,N,W,ae){var me=new self.Image,Se=self.URL;me.onload=function(){N(null,me),Se.revokeObjectURL(me.src)},me.onerror=function(){return N(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Le=new self.Blob([new Uint8Array(O)],{type:"image/png"});me.cacheControl=W,me.expires=ae,me.src=O.byteLength?Se.createObjectURL(Le):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(rt,N,mt,Mt))});return{cancel:function(){Se.cancel(),me()}}};function zt(O,N,W){W[O]&&-1!==W[O].indexOf(N)||(W[O]=W[O]||[],W[O].push(N))}function kt(O,N,W){if(W&&W[O]){var ae=W[O].indexOf(N);-1!==ae&&W[O].splice(ae,1)}}var Xt=function(N,W){void 0===W&&(W={}),u(this,W),this.type=N},ur=function(O){function N(W,ae){void 0===ae&&(ae={}),O.call(this,"error",u({error:W},ae))}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N}(Xt),vr=function(){};vr.prototype.on=function(N,W){return this._listeners=this._listeners||{},zt(N,W,this._listeners),this},vr.prototype.off=function(N,W){return kt(N,W,this._listeners),kt(N,W,this._oneTimeListeners),this},vr.prototype.once=function(N,W){return this._oneTimeListeners=this._oneTimeListeners||{},zt(N,W,this._oneTimeListeners),this},vr.prototype.fire=function(N,W){"string"==typeof N&&(N=new Xt(N,W||{}));var ae=N.type;if(this.listens(ae)){N.target=this;for(var Se=0,Le=this._listeners&&this._listeners[ae]?this._listeners[ae].slice():[];Se<Le.length;Se+=1)Le[Se].call(this,N);for(var Mt=0,Pt=this._oneTimeListeners&&this._oneTimeListeners[ae]?this._oneTimeListeners[ae].slice():[];Mt<Pt.length;Mt+=1){var Jt=Pt[Mt];kt(ae,Jt,this._oneTimeListeners),Jt.call(this,N)}var cr=this._eventedParent;cr&&(u(N,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),cr.fire(N))}else N instanceof ur&&console.error(N.error);return this},vr.prototype.listens=function(N){return this._listeners&&this._listeners[N]&&this._listeners[N].length>0||this._oneTimeListeners&&this._oneTimeListeners[N]&&this._oneTimeListeners[N].length>0||this._eventedParent&&this._eventedParent.listens(N)},vr.prototype.setEventedParent=function(N,W){return this._eventedParent=N,this._eventedParentData=W,this};var qt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Pr=function(N,W,ae,me){this.message=(N?N+": ":"")+ae,me&&(this.identifier=me),null!=W&&W.__line__&&(this.line=W.__line__)};function jr(O){var W=O.value;return W?[new Pr(O.key,W,"constants have been deprecated as of v8")]:[]}function bn(O){for(var N=[],W=arguments.length-1;W-- >0;)N[W]=arguments[W+1];for(var ae=0,me=N;ae<me.length;ae+=1){var Se=me[ae];for(var Le in Se)O[Le]=Se[Le]}return O}function vn(O){return O instanceof Number||O instanceof String||O instanceof Boolean?O.valueOf():O}function Bn(O){if(Array.isArray(O))return O.map(Bn);if(O instanceof Object&&!(O instanceof Number||O instanceof String||O instanceof Boolean)){var N={};for(var W in O)N[W]=Bn(O[W]);return N}return vn(O)}var In=function(O){function N(W,ae){O.call(this,ae),this.message=ae,this.key=W}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N}(Error),Tn=function(N,W){void 0===W&&(W=[]),this.parent=N,this.bindings={};for(var ae=0,me=W;ae<me.length;ae+=1){var Se=me[ae];this.bindings[Se[0]]=Se[1]}};Tn.prototype.concat=function(N){return new Tn(this,N)},Tn.prototype.get=function(N){if(this.bindings[N])return this.bindings[N];if(this.parent)return this.parent.get(N);throw new Error(N+" not found in scope.")},Tn.prototype.has=function(N){return!!this.bindings[N]||!!this.parent&&this.parent.has(N)};var Br={kind:"null"},Or={kind:"number"},Gr={kind:"string"},Mn={kind:"boolean"},Zn={kind:"color"},fi={kind:"object"},dn={kind:"value"},gi={kind:"collator"},wi={kind:"formatted"},Fi={kind:"resolvedImage"};function Mi(O,N){return{kind:"array",itemType:O,N}}function mi(O){if("array"===O.kind){var N=mi(O.itemType);return"number"==typeof O.N?"array<"+N+", "+O.N+">":"value"===O.itemType.kind?"array":"array<"+N+">"}return O.kind}var Vo=[Br,Or,Gr,Mn,Zn,wi,fi,Mi(dn),Fi];function Os(O,N){if("error"===N.kind)return null;if("array"===O.kind){if("array"===N.kind&&(0===N.N&&"value"===N.itemType.kind||!Os(O.itemType,N.itemType))&&("number"!=typeof O.N||O.N===N.N))return null}else{if(O.kind===N.kind)return null;if("value"===O.kind)for(var W=0,ae=Vo;W<ae.length;W+=1)if(!Os(ae[W],N))return null}return"Expected "+mi(O)+" but found "+mi(N)+" instead."}function os(O,N){return N.some(function(W){return W.kind===O.kind})}function ss(O,N){return N.some(function(W){return"null"===W?null===O:"array"===W?Array.isArray(O):"object"===W?O&&!Array.isArray(O)&&"object"==typeof O:W===typeof O})}var Cs=R(function(O,N){var W={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ae(Mt){return(Mt=Math.round(Mt))<0?0:Mt>255?255:Mt}function Se(Mt){return ae("%"===Mt[Mt.length-1]?parseFloat(Mt)/100*255:parseInt(Mt))}function Le(Mt){return function me(Mt){return Mt<0?0:Mt>1?1:Mt}("%"===Mt[Mt.length-1]?parseFloat(Mt)/100:parseFloat(Mt))}function rt(Mt,Pt,Jt){return Jt<0?Jt+=1:Jt>1&&(Jt-=1),6*Jt<1?Mt+(Pt-Mt)*Jt*6:2*Jt<1?Pt:3*Jt<2?Mt+(Pt-Mt)*(2/3-Jt)*6:Mt}try{N.parseCSSColor=function mt(Mt){var Jt,Pt=Mt.replace(/ /g,"").toLowerCase();if(Pt in W)return W[Pt].slice();if("#"===Pt[0])return 4===Pt.length?(Jt=parseInt(Pt.substr(1),16))>=0&&Jt<=4095?[(3840&Jt)>>4|(3840&Jt)>>8,240&Jt|(240&Jt)>>4,15&Jt|(15&Jt)<<4,1]:null:7===Pt.length&&(Jt=parseInt(Pt.substr(1),16))>=0&&Jt<=16777215?[(16711680&Jt)>>16,(65280&Jt)>>8,255&Jt,1]:null;var cr=Pt.indexOf("("),lr=Pt.indexOf(")");if(-1!==cr&&lr+1===Pt.length){var Dr=Pt.substr(0,cr),Zr=Pt.substr(cr+1,lr-(cr+1)).split(","),xn=1;switch(Dr){case"rgba":if(4!==Zr.length)return null;xn=Le(Zr.pop());case"rgb":return 3!==Zr.length?null:[Se(Zr[0]),Se(Zr[1]),Se(Zr[2]),xn];case"hsla":if(4!==Zr.length)return null;xn=Le(Zr.pop());case"hsl":if(3!==Zr.length)return null;var hn=(parseFloat(Zr[0])%360+360)%360/360,On=Le(Zr[1]),Ln=Le(Zr[2]),kn=Ln<=.5?Ln*(On+1):Ln+On-Ln*On,Hn=2*Ln-kn;return[ae(255*rt(Hn,kn,hn+1/3)),ae(255*rt(Hn,kn,hn)),ae(255*rt(Hn,kn,hn-1/3)),xn];default:return null}}return null}}catch{}}).parseCSSColor,La=function(N,W,ae,me){void 0===me&&(me=1),this.r=N,this.g=W,this.b=ae,this.a=me};La.parse=function(N){if(N){if(N instanceof La)return N;if("string"==typeof N){var W=Cs(N);if(W)return new La(W[0]/255*W[3],W[1]/255*W[3],W[2]/255*W[3],W[3])}}},La.prototype.toString=function(){var N=this.toArray(),ae=N[1],me=N[2],Se=N[3];return"rgba("+Math.round(N[0])+","+Math.round(ae)+","+Math.round(me)+","+Se+")"},La.prototype.toArray=function(){var N=this,Se=N.a;return 0===Se?[0,0,0,0]:[255*N.r/Se,255*N.g/Se,255*N.b/Se,Se]},La.black=new La(0,0,0,1),La.white=new La(1,1,1,1),La.transparent=new La(0,0,0,0),La.red=new La(1,0,0,1);var rl=function(N,W,ae){this.sensitivity=N?W?"variant":"case":W?"accent":"base",this.locale=ae,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};rl.prototype.compare=function(N,W){return this.collator.compare(N,W)},rl.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var fc=function(N,W,ae,me,Se){this.text=N,this.image=W,this.scale=ae,this.fontStack=me,this.textColor=Se},Ho=function(N){this.sections=N};Ho.fromString=function(N){return new Ho([new fc(N,null,null,null,null)])},Ho.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(N){return 0!==N.text.length||N.image&&0!==N.image.name.length})},Ho.factory=function(N){return N instanceof Ho?N:Ho.fromString(N)},Ho.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(N){return N.text}).join("")},Ho.prototype.serialize=function(){for(var N=["format"],W=0,ae=this.sections;W<ae.length;W+=1){var me=ae[W];if(me.image)N.push(["image",me.image.name]);else{N.push(me.text);var Se={};me.fontStack&&(Se["text-font"]=["literal",me.fontStack.split(",")]),me.scale&&(Se["font-scale"]=me.scale),me.textColor&&(Se["text-color"]=["rgba"].concat(me.textColor.toArray())),N.push(Se)}}return N};var Ns=function(N){this.name=N.name,this.available=N.available};function Df(O,N,W,ae){return"number"==typeof O&&O>=0&&O<=255&&"number"==typeof N&&N>=0&&N<=255&&"number"==typeof W&&W>=0&&W<=255?typeof ae>"u"||"number"==typeof ae&&ae>=0&&ae<=1?null:"Invalid rgba value ["+[O,N,W,ae].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof ae?[O,N,W,ae]:[O,N,W]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function cc(O){if(null===O)return!0;if("string"==typeof O)return!0;if("boolean"==typeof O)return!0;if("number"==typeof O)return!0;if(O instanceof La)return!0;if(O instanceof rl)return!0;if(O instanceof Ho)return!0;if(O instanceof Ns)return!0;if(Array.isArray(O)){for(var N=0,W=O;N<W.length;N+=1)if(!cc(W[N]))return!1;return!0}if("object"==typeof O){for(var me in O)if(!cc(O[me]))return!1;return!0}return!1}function lo(O){if(null===O)return Br;if("string"==typeof O)return Gr;if("boolean"==typeof O)return Mn;if("number"==typeof O)return Or;if(O instanceof La)return Zn;if(O instanceof rl)return gi;if(O instanceof Ho)return wi;if(O instanceof Ns)return Fi;if(Array.isArray(O)){for(var W,N=O.length,ae=0,me=O;ae<me.length;ae+=1){var Le=lo(me[ae]);if(W){if(W===Le)continue;W=dn;break}W=Le}return Mi(W||dn,N)}return fi}function wu(O){var N=typeof O;return null===O?"":"string"===N||"number"===N||"boolean"===N?String(O):O instanceof La||O instanceof Ho||O instanceof Ns?O.toString():JSON.stringify(O)}Ns.prototype.toString=function(){return this.name},Ns.fromString=function(N){return N?new Ns({name:N,available:!1}):null},Ns.prototype.serialize=function(){return["image",this.name]};var xs=function(N,W){this.type=N,this.value=W};xs.parse=function(N,W){if(2!==N.length)return W.error("'literal' expression requires exactly one argument, but found "+(N.length-1)+" instead.");if(!cc(N[1]))return W.error("invalid value");var ae=N[1],me=lo(ae),Se=W.expectedType;return"array"===me.kind&&0===me.N&&Se&&"array"===Se.kind&&("number"!=typeof Se.N||0===Se.N)&&(me=Se),new xs(me,ae)},xs.prototype.evaluate=function(){return this.value},xs.prototype.eachChild=function(){},xs.prototype.outputDefined=function(){return!0},xs.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof La?["rgba"].concat(this.value.toArray()):this.value instanceof Ho?this.value.serialize():this.value};var To=function(N){this.name="ExpressionEvaluationError",this.message=N};To.prototype.toJSON=function(){return this.message};var hc={string:Gr,number:Or,boolean:Mn,object:fi},Go=function(N,W){this.type=N,this.args=W};Go.parse=function(N,W){if(N.length<2)return W.error("Expected at least one argument.");var me,ae=1,Se=N[0];if("array"===Se){var Le,mt;if(N.length>2){var rt=N[1];if("string"!=typeof rt||!(rt in hc)||"object"===rt)return W.error('The item type argument of "array" must be one of string, number, boolean',1);Le=hc[rt],ae++}else Le=dn;if(N.length>3){if(null!==N[2]&&("number"!=typeof N[2]||N[2]<0||N[2]!==Math.floor(N[2])))return W.error('The length argument to "array" must be a positive integer literal',2);mt=N[2],ae++}me=Mi(Le,mt)}else me=hc[Se];for(var Mt=[];ae<N.length;ae++){var Pt=W.parse(N[ae],ae,dn);if(!Pt)return null;Mt.push(Pt)}return new Go(me,Mt)},Go.prototype.evaluate=function(N){for(var W=0;W<this.args.length;W++){var ae=this.args[W].evaluate(N);if(!Os(this.type,lo(ae)))return ae;if(W===this.args.length-1)throw new To("Expected value to be of type "+mi(this.type)+", but found "+mi(lo(ae))+" instead.")}return null},Go.prototype.eachChild=function(N){this.args.forEach(N)},Go.prototype.outputDefined=function(){return this.args.every(function(N){return N.outputDefined()})},Go.prototype.serialize=function(){var N=this.type,W=[N.kind];if("array"===N.kind){var ae=N.itemType;if("string"===ae.kind||"number"===ae.kind||"boolean"===ae.kind){W.push(ae.kind);var me=N.N;("number"==typeof me||this.args.length>1)&&W.push(me)}}return W.concat(this.args.map(function(Se){return Se.serialize()}))};var nl=function(N){this.type=wi,this.sections=N};nl.parse=function(N,W){if(N.length<2)return W.error("Expected at least one argument.");var ae=N[1];if(!Array.isArray(ae)&&"object"==typeof ae)return W.error("First argument must be an image or text section.");for(var me=[],Se=!1,Le=1;Le<=N.length-1;++Le){var rt=N[Le];if(Se&&"object"==typeof rt&&!Array.isArray(rt)){Se=!1;var mt=null;if(rt["font-scale"]&&!(mt=W.parse(rt["font-scale"],1,Or)))return null;var Mt=null;if(rt["text-font"]&&!(Mt=W.parse(rt["text-font"],1,Mi(Gr))))return null;var Pt=null;if(rt["text-color"]&&!(Pt=W.parse(rt["text-color"],1,Zn)))return null;var Jt=me[me.length-1];Jt.scale=mt,Jt.font=Mt,Jt.textColor=Pt}else{var cr=W.parse(N[Le],1,dn);if(!cr)return null;var lr=cr.type.kind;if("string"!==lr&&"value"!==lr&&"null"!==lr&&"resolvedImage"!==lr)return W.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Se=!0,me.push({content:cr,scale:null,font:null,textColor:null})}}return new nl(me)},nl.prototype.evaluate=function(N){return new Ho(this.sections.map(function(ae){var me=ae.content.evaluate(N);return lo(me)===Fi?new fc("",me,null,null,null):new fc(wu(me),null,ae.scale?ae.scale.evaluate(N):null,ae.font?ae.font.evaluate(N).join(","):null,ae.textColor?ae.textColor.evaluate(N):null)}))},nl.prototype.eachChild=function(N){for(var W=0,ae=this.sections;W<ae.length;W+=1){var me=ae[W];N(me.content),me.scale&&N(me.scale),me.font&&N(me.font),me.textColor&&N(me.textColor)}},nl.prototype.outputDefined=function(){return!1},nl.prototype.serialize=function(){for(var N=["format"],W=0,ae=this.sections;W<ae.length;W+=1){var me=ae[W];N.push(me.content.serialize());var Se={};me.scale&&(Se["font-scale"]=me.scale.serialize()),me.font&&(Se["text-font"]=me.font.serialize()),me.textColor&&(Se["text-color"]=me.textColor.serialize()),N.push(Se)}return N};var Ao=function(N){this.type=Fi,this.input=N};Ao.parse=function(N,W){if(2!==N.length)return W.error("Expected two arguments.");var ae=W.parse(N[1],1,Gr);return ae?new Ao(ae):W.error("No image name provided.")},Ao.prototype.evaluate=function(N){var W=this.input.evaluate(N),ae=Ns.fromString(W);return ae&&N.availableImages&&(ae.available=N.availableImages.indexOf(W)>-1),ae},Ao.prototype.eachChild=function(N){N(this.input)},Ao.prototype.outputDefined=function(){return!1},Ao.prototype.serialize=function(){return["image",this.input.serialize()]};var Hc={"to-boolean":Mn,"to-color":Zn,"to-number":Or,"to-string":Gr},po=function(N,W){this.type=N,this.args=W};po.parse=function(N,W){if(N.length<2)return W.error("Expected at least one argument.");var ae=N[0];if(("to-boolean"===ae||"to-string"===ae)&&2!==N.length)return W.error("Expected one argument.");for(var me=Hc[ae],Se=[],Le=1;Le<N.length;Le++){var rt=W.parse(N[Le],Le,dn);if(!rt)return null;Se.push(rt)}return new po(me,Se)},po.prototype.evaluate=function(N){if("boolean"===this.type.kind)return!!this.args[0].evaluate(N);if("color"===this.type.kind){for(var W,ae,me=0,Se=this.args;me<Se.length;me+=1){if(ae=null,(W=Se[me].evaluate(N))instanceof La)return W;if("string"==typeof W){var rt=N.parseColor(W);if(rt)return rt}else if(Array.isArray(W)&&!(ae=W.length<3||W.length>4?"Invalid rbga value "+JSON.stringify(W)+": expected an array containing either three or four numeric values.":Df(W[0],W[1],W[2],W[3])))return new La(W[0]/255,W[1]/255,W[2]/255,W[3])}throw new To(ae||"Could not parse color from value '"+("string"==typeof W?W:String(JSON.stringify(W)))+"'")}if("number"===this.type.kind){for(var mt=null,Mt=0,Pt=this.args;Mt<Pt.length;Mt+=1){if(null===(mt=Pt[Mt].evaluate(N)))return 0;var cr=Number(mt);if(!isNaN(cr))return cr}throw new To("Could not convert "+JSON.stringify(mt)+" to number.")}return"formatted"===this.type.kind?Ho.fromString(wu(this.args[0].evaluate(N))):"resolvedImage"===this.type.kind?Ns.fromString(wu(this.args[0].evaluate(N))):wu(this.args[0].evaluate(N))},po.prototype.eachChild=function(N){this.args.forEach(N)},po.prototype.outputDefined=function(){return this.args.every(function(N){return N.outputDefined()})},po.prototype.serialize=function(){if("formatted"===this.type.kind)return new nl([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Ao(this.args[0]).serialize();var N=["to-"+this.type.kind];return this.eachChild(function(W){N.push(W.serialize())}),N};var cf=["Unknown","Point","LineString","Polygon"],Ji=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Ji.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Ji.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?cf[this.feature.type]:this.feature.type:null},Ji.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Ji.prototype.canonicalID=function(){return this.canonical},Ji.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ji.prototype.parseColor=function(N){var W=this._parseColorCache[N];return W||(W=this._parseColorCache[N]=La.parse(N)),W};var go=function(N,W,ae,me){this.name=N,this.type=W,this._evaluate=ae,this.args=me};go.prototype.evaluate=function(N){return this._evaluate(N,this.args)},go.prototype.eachChild=function(N){this.args.forEach(N)},go.prototype.outputDefined=function(){return!1},go.prototype.serialize=function(){return[this.name].concat(this.args.map(function(N){return N.serialize()}))},go.parse=function(N,W){var ae,me=N[0],Se=go.definitions[me];if(!Se)return W.error('Unknown expression "'+me+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Le=Array.isArray(Se)?Se[0]:Se.type,rt=Array.isArray(Se)?[[Se[1],Se[2]]]:Se.overloads,mt=rt.filter(function(Hi){var Wi=Hi[0];return!Array.isArray(Wi)||Wi.length===N.length-1}),Mt=null,Pt=0,Jt=mt;Pt<Jt.length;Pt+=1){var cr=Jt[Pt],lr=cr[0],Dr=cr[1];Mt=new nu(W.registry,W.path,null,W.scope);for(var Zr=[],xn=!1,hn=1;hn<N.length;hn++){var On=N[hn],Ln=Array.isArray(lr)?lr[hn-1]:lr.type,kn=Mt.parse(On,1+Zr.length,Ln);if(!kn){xn=!0;break}Zr.push(kn)}if(!xn){if(Array.isArray(lr)&&lr.length!==Zr.length){Mt.error("Expected "+lr.length+" arguments, but found "+Zr.length+" instead.");continue}for(var Hn=0;Hn<Zr.length;Hn++){var ri=Array.isArray(lr)?lr[Hn]:lr.type,xi=Zr[Hn];Mt.concat(Hn+1).checkSubtype(ri,xi.type)}if(0===Mt.errors.length)return new go(me,Le,Dr,Zr)}}if(1===mt.length)(ae=W.errors).push.apply(ae,Mt.errors);else{for(var Bi=(mt.length?mt:rt).map(function(Hi){return function Ki(O){return Array.isArray(O)?"("+O.map(mi).join(", ")+")":"("+mi(O.type)+"...)"}(Hi[0])}).join(" | "),Li=[],Ui=1;Ui<N.length;Ui++){var ua=W.parse(N[Ui],1+Li.length);if(!ua)return null;Li.push(mi(ua.type))}W.error("Expected arguments of type "+Bi+", but found ("+Li.join(", ")+") instead.")}return null},go.register=function(N,W){for(var ae in go.definitions=W,W)N[ae]=go};var zs=function(N,W,ae){this.type=gi,this.locale=ae,this.caseSensitive=N,this.diacriticSensitive=W};zs.parse=function(N,W){if(2!==N.length)return W.error("Expected one argument.");var ae=N[1];if("object"!=typeof ae||Array.isArray(ae))return W.error("Collator options argument must be an object.");var me=W.parse(void 0!==ae["case-sensitive"]&&ae["case-sensitive"],1,Mn);if(!me)return null;var Se=W.parse(void 0!==ae["diacritic-sensitive"]&&ae["diacritic-sensitive"],1,Mn);if(!Se)return null;var Le=null;return ae.locale&&!(Le=W.parse(ae.locale,1,Gr))?null:new zs(me,Se,Le)},zs.prototype.evaluate=function(N){return new rl(this.caseSensitive.evaluate(N),this.diacriticSensitive.evaluate(N),this.locale?this.locale.evaluate(N):null)},zs.prototype.eachChild=function(N){N(this.caseSensitive),N(this.diacriticSensitive),this.locale&&N(this.locale)},zs.prototype.outputDefined=function(){return!1},zs.prototype.serialize=function(){var N={};return N["case-sensitive"]=this.caseSensitive.serialize(),N["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(N.locale=this.locale.serialize()),["collator",N]};var Tl=8192;function eu(O,N){O[0]=Math.min(O[0],N[0]),O[1]=Math.min(O[1],N[1]),O[2]=Math.max(O[2],N[0]),O[3]=Math.max(O[3],N[1])}function If(O,N){return!(O[0]<=N[0]||O[2]>=N[2]||O[1]<=N[1]||O[3]>=N[3])}function Al(O,N){var W=function Gc(O){return(180+O)/360}(O[0]),ae=function Lf(O){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+O*Math.PI/360)))/360}(O[1]),me=Math.pow(2,N.z);return[Math.round(W*me*Tl),Math.round(ae*me*Tl)]}function Pf(O,N,W){var ae=O[0]-N[0],me=O[1]-N[1],Se=O[0]-W[0],Le=O[1]-W[1];return ae*Le-Se*me==0&&ae*Se<=0&&me*Le<=0}function il(O,N,W){return N[1]>O[1]!=W[1]>O[1]&&O[0]<(W[0]-N[0])*(O[1]-N[1])/(W[1]-N[1])+N[0]}function Ys(O,N){for(var W=!1,ae=0,me=N.length;ae<me;ae++)for(var Se=N[ae],Le=0,rt=Se.length;Le<rt-1;Le++){if(Pf(O,Se[Le],Se[Le+1]))return!1;il(O,Se[Le],Se[Le+1])&&(W=!W)}return W}function _a(O,N){for(var W=0;W<N.length;W++)if(Ys(O,N[W]))return!0;return!1}function Ff(O,N,W,ae){var mt=ae[0]-W[0],Mt=ae[1]-W[1],Pt=(O[0]-W[0])*Mt-mt*(O[1]-W[1]),Jt=(N[0]-W[0])*Mt-mt*(N[1]-W[1]);return Pt>0&&Jt<0||Pt<0&&Jt>0}function dc(O,N,W,ae){return 0!==function Rf(O,N){return O[0]*N[1]-O[1]*N[0]}([ae[0]-W[0],ae[1]-W[1]],[N[0]-O[0],N[1]-O[1]])&&!(!Ff(O,N,W,ae)||!Ff(W,ae,O,N))}function _c(O,N,W){for(var ae=0,me=W;ae<me.length;ae+=1)for(var Se=me[ae],Le=0;Le<Se.length-1;++Le)if(dc(O,N,Se[Le],Se[Le+1]))return!0;return!1}function Ml(O,N){for(var W=0;W<O.length;++W)if(!Ys(O[W],N))return!1;for(var ae=0;ae<O.length-1;++ae)if(_c(O[ae],O[ae+1],N))return!1;return!0}function hf(O,N){for(var W=0;W<N.length;W++)if(Ml(O,N[W]))return!0;return!1}function Vl(O,N,W){for(var ae=[],me=0;me<O.length;me++){for(var Se=[],Le=0;Le<O[me].length;Le++){var rt=Al(O[me][Le],W);eu(N,rt),Se.push(rt)}ae.push(Se)}return ae}function Tu(O,N,W){for(var ae=[],me=0;me<O.length;me++){var Se=Vl(O[me],N,W);ae.push(Se)}return ae}function tu(O,N,W,ae){if(O[0]<W[0]||O[0]>W[2]){var me=.5*ae,Se=O[0]-W[0]>me?-ae:W[0]-O[0]>me?ae:0;0===Se&&(Se=O[0]-W[2]>me?-ae:W[2]-O[0]>me?ae:0),O[0]+=Se}eu(N,O)}function kf(O,N,W,ae){for(var me=Math.pow(2,ae.z)*Tl,Se=[ae.x*Tl,ae.y*Tl],Le=[],rt=0,mt=O;rt<mt.length;rt+=1)for(var Pt=0,Jt=mt[rt];Pt<Jt.length;Pt+=1){var cr=Jt[Pt],lr=[cr.x+Se[0],cr.y+Se[1]];tu(lr,N,W,me),Le.push(lr)}return Le}function ru(O,N,W,ae){for(var me=Math.pow(2,ae.z)*Tl,Se=[ae.x*Tl,ae.y*Tl],Le=[],rt=0,mt=O;rt<mt.length;rt+=1){for(var Pt=[],Jt=0,cr=mt[rt];Jt<cr.length;Jt+=1){var lr=cr[Jt],Dr=[lr.x+Se[0],lr.y+Se[1]];eu(N,Dr),Pt.push(Dr)}Le.push(Pt)}if(N[2]-N[0]<=me/2){!function df(O){O[0]=O[1]=1/0,O[2]=O[3]=-1/0}(N);for(var Zr=0,xn=Le;Zr<xn.length;Zr+=1)for(var On=0,Ln=xn[Zr];On<Ln.length;On+=1)tu(Ln[On],N,W,me)}return Le}var al=function(N,W){this.type=Mn,this.geojson=N,this.geometries=W};function Gu(O){if(O instanceof go){if("get"===O.name&&1===O.args.length)return!1;if("feature-state"===O.name)return!1;if("has"===O.name&&1===O.args.length)return!1;if("properties"===O.name||"geometry-type"===O.name||"id"===O.name)return!1;if(/^filter-/.test(O.name))return!1}if(O instanceof al)return!1;var N=!0;return O.eachChild(function(W){N&&!Gu(W)&&(N=!1)}),N}function Au(O){if(O instanceof go&&"feature-state"===O.name)return!1;var N=!0;return O.eachChild(function(W){N&&!Au(W)&&(N=!1)}),N}function Of(O,N){if(O instanceof go&&N.indexOf(O.name)>=0)return!1;var W=!0;return O.eachChild(function(ae){W&&!Of(ae,N)&&(W=!1)}),W}al.parse=function(N,W){if(2!==N.length)return W.error("'within' expression requires exactly one argument, but found "+(N.length-1)+" instead.");if(cc(N[1])){var ae=N[1];if("FeatureCollection"===ae.type)for(var me=0;me<ae.features.length;++me){var Se=ae.features[me].geometry.type;if("Polygon"===Se||"MultiPolygon"===Se)return new al(ae,ae.features[me].geometry)}else if("Feature"===ae.type){var Le=ae.geometry.type;if("Polygon"===Le||"MultiPolygon"===Le)return new al(ae,ae.geometry)}else if("Polygon"===ae.type||"MultiPolygon"===ae.type)return new al(ae,ae)}return W.error("'within' expression requires valid geojson object that contains polygon geometry type.")},al.prototype.evaluate=function(N){if(null!=N.geometry()&&null!=N.canonicalID()){if("Point"===N.geometryType())return function jc(O,N){var W=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],me=O.canonicalID();if("Polygon"===N.type){var Se=Vl(N.coordinates,ae,me),Le=kf(O.geometry(),W,ae,me);if(!If(W,ae))return!1;for(var rt=0,mt=Le;rt<mt.length;rt+=1)if(!Ys(mt[rt],Se))return!1}if("MultiPolygon"===N.type){var Pt=Tu(N.coordinates,ae,me),Jt=kf(O.geometry(),W,ae,me);if(!If(W,ae))return!1;for(var cr=0,lr=Jt;cr<lr.length;cr+=1)if(!_a(lr[cr],Pt))return!1}return!0}(N,this.geometries);if("LineString"===N.geometryType())return function Hl(O,N){var W=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],me=O.canonicalID();if("Polygon"===N.type){var Se=Vl(N.coordinates,ae,me),Le=ru(O.geometry(),W,ae,me);if(!If(W,ae))return!1;for(var rt=0,mt=Le;rt<mt.length;rt+=1)if(!Ml(mt[rt],Se))return!1}if("MultiPolygon"===N.type){var Pt=Tu(N.coordinates,ae,me),Jt=ru(O.geometry(),W,ae,me);if(!If(W,ae))return!1;for(var cr=0,lr=Jt;cr<lr.length;cr+=1)if(!hf(lr[cr],Pt))return!1}return!0}(N,this.geometries)}return!1},al.prototype.eachChild=function(){},al.prototype.outputDefined=function(){return!0},al.prototype.serialize=function(){return["within",this.geojson]};var yo=function(N,W){this.type=W.type,this.name=N,this.boundExpression=W};yo.parse=function(N,W){if(2!==N.length||"string"!=typeof N[1])return W.error("'var' expression requires exactly one string literal argument.");var ae=N[1];return W.scope.has(ae)?new yo(ae,W.scope.get(ae)):W.error('Unknown variable "'+ae+'". Make sure "'+ae+'" has been bound in an enclosing "let" expression before using it.',1)},yo.prototype.evaluate=function(N){return this.boundExpression.evaluate(N)},yo.prototype.eachChild=function(){},yo.prototype.outputDefined=function(){return!1},yo.prototype.serialize=function(){return["var",this.name]};var nu=function(N,W,ae,me,Se){void 0===W&&(W=[]),void 0===me&&(me=new Tn),void 0===Se&&(Se=[]),this.registry=N,this.path=W,this.key=W.map(function(Le){return"["+Le+"]"}).join(""),this.scope=me,this.errors=Se,this.expectedType=ae};function Nf(O){if(O instanceof yo)return Nf(O.boundExpression);if(O instanceof go&&"error"===O.name)return!1;if(O instanceof zs)return!1;if(O instanceof al)return!1;var N=O instanceof po||O instanceof Go,W=!0;return O.eachChild(function(ae){W=N?W&&Nf(ae):W&&ae instanceof xs}),!!W&&Gu(O)&&Of(O,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function zf(O,N){for(var Le,W=O.length-1,ae=0,me=W,Se=0;ae<=me;)if((Le=O[Se=Math.floor((ae+me)/2)])<=N){if(Se===W||N<O[Se+1])return Se;ae=Se+1}else{if(!(Le>N))throw new To("Input is not a number.");me=Se-1}return 0}nu.prototype.parse=function(N,W,ae,me,Se){return void 0===Se&&(Se={}),W?this.concat(W,ae,me)._parse(N,Se):this._parse(N,Se)},nu.prototype._parse=function(N,W){function ae(Pt,Jt,cr){return"assert"===cr?new Go(Jt,[Pt]):"coerce"===cr?new po(Jt,[Pt]):Pt}if((null===N||"string"==typeof N||"boolean"==typeof N||"number"==typeof N)&&(N=["literal",N]),Array.isArray(N)){if(0===N.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var me=N[0];if("string"!=typeof me)return this.error("Expression name must be a string, but found "+typeof me+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Se=this.registry[me];if(Se){var Le=Se.parse(N,this);if(!Le)return null;if(this.expectedType){var rt=this.expectedType,mt=Le.type;if("string"!==rt.kind&&"number"!==rt.kind&&"boolean"!==rt.kind&&"object"!==rt.kind&&"array"!==rt.kind||"value"!==mt.kind)if("color"!==rt.kind&&"formatted"!==rt.kind&&"resolvedImage"!==rt.kind||"value"!==mt.kind&&"string"!==mt.kind){if(this.checkSubtype(rt,mt))return null}else Le=ae(Le,rt,W.typeAnnotation||"coerce");else Le=ae(Le,rt,W.typeAnnotation||"assert")}if(!(Le instanceof xs)&&"resolvedImage"!==Le.type.kind&&Nf(Le)){var Mt=new Ji;try{Le=new xs(Le.type,Le.evaluate(Mt))}catch(Pt){return this.error(Pt.message),null}}return Le}return this.error('Unknown expression "'+me+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(typeof N>"u"?"'undefined' value invalid. Use null instead.":"object"==typeof N?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof N+" instead.")},nu.prototype.concat=function(N,W,ae){var me="number"==typeof N?this.path.concat(N):this.path,Se=ae?this.scope.concat(ae):this.scope;return new nu(this.registry,me,W||null,Se,this.errors)},nu.prototype.error=function(N){for(var W=[],ae=arguments.length-1;ae-- >0;)W[ae]=arguments[ae+1];var me=""+this.key+W.map(function(Se){return"["+Se+"]"}).join("");this.errors.push(new In(me,N))},nu.prototype.checkSubtype=function(N,W){var ae=Os(N,W);return ae&&this.error(ae),ae};var ol=function(N,W,ae){this.type=N,this.input=W,this.labels=[],this.outputs=[];for(var me=0,Se=ae;me<Se.length;me+=1){var Le=Se[me],mt=Le[1];this.labels.push(Le[0]),this.outputs.push(mt)}};function Ro(O,N,W){return O*(1-W)+N*W}ol.parse=function(N,W){if(N.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(N.length-1)+".");if((N.length-1)%2!=0)return W.error("Expected an even number of arguments.");var ae=W.parse(N[1],1,Or);if(!ae)return null;var me=[],Se=null;W.expectedType&&"value"!==W.expectedType.kind&&(Se=W.expectedType);for(var Le=1;Le<N.length;Le+=2){var rt=1===Le?-1/0:N[Le],mt=N[Le+1],Mt=Le,Pt=Le+1;if("number"!=typeof rt)return W.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Mt);if(me.length&&me[me.length-1][0]>=rt)return W.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Mt);var Jt=W.parse(mt,Pt,Se);if(!Jt)return null;Se=Se||Jt.type,me.push([rt,Jt])}return new ol(Se,ae,me)},ol.prototype.evaluate=function(N){var W=this.labels,ae=this.outputs;if(1===W.length)return ae[0].evaluate(N);var me=this.input.evaluate(N);if(me<=W[0])return ae[0].evaluate(N);var Se=W.length;return me>=W[Se-1]?ae[Se-1].evaluate(N):ae[zf(W,me)].evaluate(N)},ol.prototype.eachChild=function(N){N(this.input);for(var W=0,ae=this.outputs;W<ae.length;W+=1)N(ae[W])},ol.prototype.outputDefined=function(){return this.outputs.every(function(N){return N.outputDefined()})},ol.prototype.serialize=function(){for(var N=["step",this.input.serialize()],W=0;W<this.labels.length;W++)W>0&&N.push(this.labels[W]),N.push(this.outputs[W].serialize());return N};var _u=Object.freeze({__proto__:null,number:Ro,color:function vc(O,N,W){return new La(Ro(O.r,N.r,W),Ro(O.g,N.g,W),Ro(O.b,N.b,W),Ro(O.a,N.a,W))},array:function Bf(O,N,W){return O.map(function(ae,me){return Ro(ae,N[me],W)})}}),Uf=.95047,pc=1,Bs=1.08883,Wc=4/29,ju=6/29,Gl=3*ju*ju,Yo=ju*ju*ju,Sl=Math.PI/180,Vf=180/Math.PI;function va(O){return O>Yo?Math.pow(O,.3333333333333333):O/Gl+Wc}function ls(O){return O>ju?O*O*O:Gl*(O-Wc)}function Ma(O){return 255*(O<=.0031308?12.92*O:1.055*Math.pow(O,.4166666666666667)-.055)}function Fo(O){return(O/=255)<=.04045?O/12.92:Math.pow((O+.055)/1.055,2.4)}function us(O){var N=Fo(O.r),W=Fo(O.g),ae=Fo(O.b),me=va((.4124564*N+.3575761*W+.1804375*ae)/Uf),Se=va((.2126729*N+.7151522*W+.072175*ae)/pc);return{l:116*Se-16,a:500*(me-Se),b:200*(Se-va((.0193339*N+.119192*W+.9503041*ae)/Bs)),alpha:O.a}}function Cl(O){var N=(O.l+16)/116,W=isNaN(O.a)?N:N+O.a/500,ae=isNaN(O.b)?N:N-O.b/200;return N=pc*ls(N),W=Uf*ls(W),ae=Bs*ls(ae),new La(Ma(3.2404542*W-1.5371385*N-.4985314*ae),Ma(-.969266*W+1.8760108*N+.041556*ae),Ma(.0556434*W-.2040259*N+1.0572252*ae),O.alpha)}function _l(O,N,W){var ae=N-O;return O+W*(ae>180||ae<-180?ae-360*Math.round(ae/360):ae)}var Us={forward:us,reverse:Cl,interpolate:function Es(O,N,W){return{l:Ro(O.l,N.l,W),a:Ro(O.a,N.a,W),b:Ro(O.b,N.b,W),alpha:Ro(O.alpha,N.alpha,W)}}},to={forward:function gc(O){var N=us(O),W=N.l,ae=N.a,me=N.b,Se=Math.atan2(me,ae)*Vf;return{h:Se<0?Se+360:Se,c:Math.sqrt(ae*ae+me*me),l:W,alpha:O.a}},reverse:function eo(O){var N=O.h*Sl,W=O.c;return Cl({l:O.l,a:Math.cos(N)*W,b:Math.sin(N)*W,alpha:O.alpha})},interpolate:function Mu(O,N,W){return{h:_l(O.h,N.h,W),c:Ro(O.c,N.c,W),l:Ro(O.l,N.l,W),alpha:Ro(O.alpha,N.alpha,W)}}},Zi=Object.freeze({__proto__:null,lab:Us,hcl:to}),oa=function(N,W,ae,me,Se){this.type=N,this.operator=W,this.interpolation=ae,this.input=me,this.labels=[],this.outputs=[];for(var Le=0,rt=Se;Le<rt.length;Le+=1){var mt=rt[Le],Pt=mt[1];this.labels.push(mt[0]),this.outputs.push(Pt)}};function Za(O,N,W,ae){var me=ae-W,Se=O-W;return 0===me?0:1===N?Se/me:(Math.pow(N,Se)-1)/(Math.pow(N,me)-1)}oa.interpolationFactor=function(N,W,ae,me){var Se=0;if("exponential"===N.name)Se=Za(W,N.base,ae,me);else if("linear"===N.name)Se=Za(W,1,ae,me);else if("cubic-bezier"===N.name){var Le=N.controlPoints;Se=new v(Le[0],Le[1],Le[2],Le[3]).solve(Za(W,1,ae,me))}return Se},oa.parse=function(N,W){var ae=N[0],me=N[1],Se=N[2],Le=N.slice(3);if(!Array.isArray(me)||0===me.length)return W.error("Expected an interpolation type expression.",1);if("linear"===me[0])me={name:"linear"};else if("exponential"===me[0]){var rt=me[1];if("number"!=typeof rt)return W.error("Exponential interpolation requires a numeric base.",1,1);me={name:"exponential",base:rt}}else{if("cubic-bezier"!==me[0])return W.error("Unknown interpolation type "+String(me[0]),1,0);var mt=me.slice(1);if(4!==mt.length||mt.some(function(hn){return"number"!=typeof hn||hn<0||hn>1}))return W.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);me={name:"cubic-bezier",controlPoints:mt}}if(N.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(N.length-1)+".");if((N.length-1)%2!=0)return W.error("Expected an even number of arguments.");if(!(Se=W.parse(Se,2,Or)))return null;var Mt=[],Pt=null;"interpolate-hcl"===ae||"interpolate-lab"===ae?Pt=Zn:W.expectedType&&"value"!==W.expectedType.kind&&(Pt=W.expectedType);for(var Jt=0;Jt<Le.length;Jt+=2){var cr=Le[Jt],lr=Le[Jt+1],Dr=Jt+3,Zr=Jt+4;if("number"!=typeof cr)return W.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Dr);if(Mt.length&&Mt[Mt.length-1][0]>=cr)return W.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Dr);var xn=W.parse(lr,Zr,Pt);if(!xn)return null;Pt=Pt||xn.type,Mt.push([cr,xn])}return"number"===Pt.kind||"color"===Pt.kind||"array"===Pt.kind&&"number"===Pt.itemType.kind&&"number"==typeof Pt.N?new oa(Pt,ae,me,Se,Mt):W.error("Type "+mi(Pt)+" is not interpolatable.")},oa.prototype.evaluate=function(N){var W=this.labels,ae=this.outputs;if(1===W.length)return ae[0].evaluate(N);var me=this.input.evaluate(N);if(me<=W[0])return ae[0].evaluate(N);var Se=W.length;if(me>=W[Se-1])return ae[Se-1].evaluate(N);var Le=zf(W,me),Mt=oa.interpolationFactor(this.interpolation,me,W[Le],W[Le+1]),Pt=ae[Le].evaluate(N),Jt=ae[Le+1].evaluate(N);return"interpolate"===this.operator?_u[this.type.kind.toLowerCase()](Pt,Jt,Mt):"interpolate-hcl"===this.operator?to.reverse(to.interpolate(to.forward(Pt),to.forward(Jt),Mt)):Us.reverse(Us.interpolate(Us.forward(Pt),Us.forward(Jt),Mt))},oa.prototype.eachChild=function(N){N(this.input);for(var W=0,ae=this.outputs;W<ae.length;W+=1)N(ae[W])},oa.prototype.outputDefined=function(){return this.outputs.every(function(N){return N.outputDefined()})},oa.prototype.serialize=function(){var N;N="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var W=[this.operator,N,this.input.serialize()],ae=0;ae<this.labels.length;ae++)W.push(this.labels[ae],this.outputs[ae].serialize());return W};var ko=function(N,W){this.type=N,this.args=W};ko.parse=function(N,W){if(N.length<2)return W.error("Expectected at least one argument.");var ae=null,me=W.expectedType;me&&"value"!==me.kind&&(ae=me);for(var Se=[],Le=0,rt=N.slice(1);Le<rt.length;Le+=1){var Mt=W.parse(rt[Le],1+Se.length,ae,void 0,{typeAnnotation:"omit"});if(!Mt)return null;ae=ae||Mt.type,Se.push(Mt)}var Pt=me&&Se.some(function(Jt){return Os(me,Jt.type)});return new ko(Pt?dn:ae,Se)},ko.prototype.evaluate=function(N){for(var me,W=null,ae=0,Se=0,Le=this.args;Se<Le.length&&(ae++,(W=Le[Se].evaluate(N))&&W instanceof Ns&&!W.available&&(me||(me=W.name),W=null,ae===this.args.length&&(W=me)),null===W);Se+=1);return W},ko.prototype.eachChild=function(N){this.args.forEach(N)},ko.prototype.outputDefined=function(){return this.args.every(function(N){return N.outputDefined()})},ko.prototype.serialize=function(){var N=["coalesce"];return this.eachChild(function(W){N.push(W.serialize())}),N};var bs=function(N,W){this.type=W.type,this.bindings=[].concat(N),this.result=W};bs.prototype.evaluate=function(N){return this.result.evaluate(N)},bs.prototype.eachChild=function(N){for(var W=0,ae=this.bindings;W<ae.length;W+=1)N(ae[W][1]);N(this.result)},bs.parse=function(N,W){if(N.length<4)return W.error("Expected at least 3 arguments, but found "+(N.length-1)+" instead.");for(var ae=[],me=1;me<N.length-1;me+=2){var Se=N[me];if("string"!=typeof Se)return W.error("Expected string, but found "+typeof Se+" instead.",me);if(/[^a-zA-Z0-9_]/.test(Se))return W.error("Variable names must contain only alphanumeric characters or '_'.",me);var Le=W.parse(N[me+1],me+1);if(!Le)return null;ae.push([Se,Le])}var rt=W.parse(N[N.length-1],N.length-1,W.expectedType,ae);return rt?new bs(ae,rt):null},bs.prototype.outputDefined=function(){return this.result.outputDefined()},bs.prototype.serialize=function(){for(var N=["let"],W=0,ae=this.bindings;W<ae.length;W+=1){var me=ae[W];N.push(me[0],me[1].serialize())}return N.push(this.result.serialize()),N};var uo=function(N,W,ae){this.type=N,this.index=W,this.input=ae};uo.parse=function(N,W){if(3!==N.length)return W.error("Expected 2 arguments, but found "+(N.length-1)+" instead.");var ae=W.parse(N[1],1,Or),me=W.parse(N[2],2,Mi(W.expectedType||dn));return ae&&me?new uo(me.type.itemType,ae,me):null},uo.prototype.evaluate=function(N){var W=this.index.evaluate(N),ae=this.input.evaluate(N);if(W<0)throw new To("Array index out of bounds: "+W+" < 0.");if(W>=ae.length)throw new To("Array index out of bounds: "+W+" > "+(ae.length-1)+".");if(W!==Math.floor(W))throw new To("Array index must be an integer, but found "+W+" instead.");return ae[W]},uo.prototype.eachChild=function(N){N(this.index),N(this.input)},uo.prototype.outputDefined=function(){return!1},uo.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Ds=function(N,W){this.type=Mn,this.needle=N,this.haystack=W};Ds.parse=function(N,W){if(3!==N.length)return W.error("Expected 2 arguments, but found "+(N.length-1)+" instead.");var ae=W.parse(N[1],1,dn),me=W.parse(N[2],2,dn);return ae&&me?os(ae.type,[Mn,Gr,Or,Br,dn])?new Ds(ae,me):W.error("Expected first argument to be of type boolean, string, number or null, but found "+mi(ae.type)+" instead"):null},Ds.prototype.evaluate=function(N){var W=this.needle.evaluate(N),ae=this.haystack.evaluate(N);if(!ae)return!1;if(!ss(W,["boolean","string","number","null"]))throw new To("Expected first argument to be of type boolean, string, number or null, but found "+mi(lo(W))+" instead.");if(!ss(ae,["string","array"]))throw new To("Expected second argument to be of type array or string, but found "+mi(lo(ae))+" instead.");return ae.indexOf(W)>=0},Ds.prototype.eachChild=function(N){N(this.needle),N(this.haystack)},Ds.prototype.outputDefined=function(){return!0},Ds.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Xa=function(N,W,ae){this.type=Or,this.needle=N,this.haystack=W,this.fromIndex=ae};Xa.parse=function(N,W){if(N.length<=2||N.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(N.length-1)+" instead.");var ae=W.parse(N[1],1,dn),me=W.parse(N[2],2,dn);if(!ae||!me)return null;if(!os(ae.type,[Mn,Gr,Or,Br,dn]))return W.error("Expected first argument to be of type boolean, string, number or null, but found "+mi(ae.type)+" instead");if(4===N.length){var Se=W.parse(N[3],3,Or);return Se?new Xa(ae,me,Se):null}return new Xa(ae,me)},Xa.prototype.evaluate=function(N){var W=this.needle.evaluate(N),ae=this.haystack.evaluate(N);if(!ss(W,["boolean","string","number","null"]))throw new To("Expected first argument to be of type boolean, string, number or null, but found "+mi(lo(W))+" instead.");if(!ss(ae,["string","array"]))throw new To("Expected second argument to be of type array or string, but found "+mi(lo(ae))+" instead.");if(this.fromIndex){var me=this.fromIndex.evaluate(N);return ae.indexOf(W,me)}return ae.indexOf(W)},Xa.prototype.eachChild=function(N){N(this.needle),N(this.haystack),this.fromIndex&&N(this.fromIndex)},Xa.prototype.outputDefined=function(){return!1},Xa.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var N=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),N]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var ws=function(N,W,ae,me,Se,Le){this.inputType=N,this.type=W,this.input=ae,this.cases=me,this.outputs=Se,this.otherwise=Le};ws.parse=function(N,W){if(N.length<5)return W.error("Expected at least 4 arguments, but found only "+(N.length-1)+".");if(N.length%2!=1)return W.error("Expected an even number of arguments.");var ae,me;W.expectedType&&"value"!==W.expectedType.kind&&(me=W.expectedType);for(var Se={},Le=[],rt=2;rt<N.length-1;rt+=2){var mt=N[rt],Mt=N[rt+1];Array.isArray(mt)||(mt=[mt]);var Pt=W.concat(rt);if(0===mt.length)return Pt.error("Expected at least one branch label.");for(var Jt=0,cr=mt;Jt<cr.length;Jt+=1){var lr=cr[Jt];if("number"!=typeof lr&&"string"!=typeof lr)return Pt.error("Branch labels must be numbers or strings.");if("number"==typeof lr&&Math.abs(lr)>Number.MAX_SAFE_INTEGER)return Pt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof lr&&Math.floor(lr)!==lr)return Pt.error("Numeric branch labels must be integer values.");if(ae){if(Pt.checkSubtype(ae,lo(lr)))return null}else ae=lo(lr);if(typeof Se[String(lr)]<"u")return Pt.error("Branch labels must be unique.");Se[String(lr)]=Le.length}var Dr=W.parse(Mt,rt,me);if(!Dr)return null;me=me||Dr.type,Le.push(Dr)}var Zr=W.parse(N[1],1,dn);if(!Zr)return null;var xn=W.parse(N[N.length-1],N.length-1,me);return!xn||"value"!==Zr.type.kind&&W.concat(1).checkSubtype(ae,Zr.type)?null:new ws(ae,me,Zr,Se,Le,xn)},ws.prototype.evaluate=function(N){var W=this.input.evaluate(N);return(lo(W)===this.inputType&&this.outputs[this.cases[W]]||this.otherwise).evaluate(N)},ws.prototype.eachChild=function(N){N(this.input),this.outputs.forEach(N),N(this.otherwise)},ws.prototype.outputDefined=function(){return this.outputs.every(function(N){return N.outputDefined()})&&this.otherwise.outputDefined()},ws.prototype.serialize=function(){for(var N=this,W=["match",this.input.serialize()],me=[],Se={},Le=0,rt=Object.keys(this.cases).sort();Le<rt.length;Le+=1){var mt=rt[Le];void 0===(Mt=Se[this.cases[mt]])?(Se[this.cases[mt]]=me.length,me.push([this.cases[mt],[mt]])):me[Mt][1].push(mt)}for(var Pt=function(Zr){return"number"===N.inputType.kind?Number(Zr):Zr},Jt=0,cr=me;Jt<cr.length;Jt+=1){var lr=cr[Jt],Mt=lr[0],Dr=lr[1];W.push(1===Dr.length?Pt(Dr[0]):Dr.map(Pt)),W.push(this.outputs[outputIndex$1].serialize())}return W.push(this.otherwise.serialize()),W};var Vs=function(N,W,ae){this.type=N,this.branches=W,this.otherwise=ae};Vs.parse=function(N,W){if(N.length<4)return W.error("Expected at least 3 arguments, but found only "+(N.length-1)+".");if(N.length%2!=0)return W.error("Expected an odd number of arguments.");var ae;W.expectedType&&"value"!==W.expectedType.kind&&(ae=W.expectedType);for(var me=[],Se=1;Se<N.length-1;Se+=2){var Le=W.parse(N[Se],Se,Mn);if(!Le)return null;var rt=W.parse(N[Se+1],Se+1,ae);if(!rt)return null;me.push([Le,rt]),ae=ae||rt.type}var mt=W.parse(N[N.length-1],N.length-1,ae);return mt?new Vs(ae,me,mt):null},Vs.prototype.evaluate=function(N){for(var W=0,ae=this.branches;W<ae.length;W+=1){var me=ae[W],Le=me[1];if(me[0].evaluate(N))return Le.evaluate(N)}return this.otherwise.evaluate(N)},Vs.prototype.eachChild=function(N){for(var W=0,ae=this.branches;W<ae.length;W+=1){var me=ae[W],Le=me[1];N(me[0]),N(Le)}N(this.otherwise)},Vs.prototype.outputDefined=function(){return this.branches.every(function(N){return N[1].outputDefined()})&&this.otherwise.outputDefined()},Vs.prototype.serialize=function(){var N=["case"];return this.eachChild(function(W){N.push(W.serialize())}),N};var fa=function(N,W,ae,me){this.type=N,this.input=W,this.beginIndex=ae,this.endIndex=me};function Su(O,N){return"=="===O||"!="===O?"boolean"===N.kind||"string"===N.kind||"number"===N.kind||"null"===N.kind||"value"===N.kind:"string"===N.kind||"number"===N.kind||"value"===N.kind}function Yu(O,N,W,ae){return 0===ae.compare(N,W)}function wa(O,N,W){var ae="=="!==O&&"!="!==O;return function(){function me(Se,Le,rt){this.type=Mn,this.lhs=Se,this.rhs=Le,this.collator=rt,this.hasUntypedArgument="value"===Se.type.kind||"value"===Le.type.kind}return me.parse=function(Le,rt){if(3!==Le.length&&4!==Le.length)return rt.error("Expected two or three arguments.");var mt=Le[0],Mt=rt.parse(Le[1],1,dn);if(!Mt)return null;if(!Su(mt,Mt.type))return rt.concat(1).error('"'+mt+"\" comparisons are not supported for type '"+mi(Mt.type)+"'.");var Pt=rt.parse(Le[2],2,dn);if(!Pt)return null;if(!Su(mt,Pt.type))return rt.concat(2).error('"'+mt+"\" comparisons are not supported for type '"+mi(Pt.type)+"'.");if(Mt.type.kind!==Pt.type.kind&&"value"!==Mt.type.kind&&"value"!==Pt.type.kind)return rt.error("Cannot compare types '"+mi(Mt.type)+"' and '"+mi(Pt.type)+"'.");ae&&("value"===Mt.type.kind&&"value"!==Pt.type.kind?Mt=new Go(Pt.type,[Mt]):"value"!==Mt.type.kind&&"value"===Pt.type.kind&&(Pt=new Go(Mt.type,[Pt])));var Jt=null;if(4===Le.length){if("string"!==Mt.type.kind&&"string"!==Pt.type.kind&&"value"!==Mt.type.kind&&"value"!==Pt.type.kind)return rt.error("Cannot use collator to compare non-string types.");if(!(Jt=rt.parse(Le[3],3,gi)))return null}return new me(Mt,Pt,Jt)},me.prototype.evaluate=function(Le){var rt=this.lhs.evaluate(Le),mt=this.rhs.evaluate(Le);if(ae&&this.hasUntypedArgument){var Mt=lo(rt),Pt=lo(mt);if(Mt.kind!==Pt.kind||"string"!==Mt.kind&&"number"!==Mt.kind)throw new To('Expected arguments for "'+O+'" to be (string, string) or (number, number), but found ('+Mt.kind+", "+Pt.kind+") instead.")}if(this.collator&&!ae&&this.hasUntypedArgument){var Jt=lo(rt),cr=lo(mt);if("string"!==Jt.kind||"string"!==cr.kind)return N(Le,rt,mt)}return this.collator?W(Le,rt,mt,this.collator.evaluate(Le)):N(Le,rt,mt)},me.prototype.eachChild=function(Le){Le(this.lhs),Le(this.rhs),this.collator&&Le(this.collator)},me.prototype.outputDefined=function(){return!0},me.prototype.serialize=function(){var Le=[O];return this.eachChild(function(rt){Le.push(rt.serialize())}),Le},me}()}fa.parse=function(N,W){if(N.length<=2||N.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(N.length-1)+" instead.");var ae=W.parse(N[1],1,dn),me=W.parse(N[2],2,Or);if(!ae||!me)return null;if(!os(ae.type,[Mi(dn),Gr,dn]))return W.error("Expected first argument to be of type array or string, but found "+mi(ae.type)+" instead");if(4===N.length){var Se=W.parse(N[3],3,Or);return Se?new fa(ae.type,ae,me,Se):null}return new fa(ae.type,ae,me)},fa.prototype.evaluate=function(N){var W=this.input.evaluate(N),ae=this.beginIndex.evaluate(N);if(!ss(W,["string","array"]))throw new To("Expected first argument to be of type array or string, but found "+mi(lo(W))+" instead.");if(this.endIndex){var me=this.endIndex.evaluate(N);return W.slice(ae,me)}return W.slice(ae)},fa.prototype.eachChild=function(N){N(this.input),N(this.beginIndex),this.endIndex&&N(this.endIndex)},fa.prototype.outputDefined=function(){return!1},fa.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var N=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),N]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Gf=wa("==",function Hf(O,N,W){return N===W},Yu),iu=wa("!=",function jl(O,N,W){return N!==W},function yc(O,N,W,ae){return!Yu(0,N,W,ae)}),_f=wa("<",function no(O,N,W){return N<W},function Wl(O,N,W,ae){return ae.compare(N,W)<0}),Xs=wa(">",function Cu(O,N,W){return N>W},function Zs(O,N,W,ae){return ae.compare(N,W)>0}),Zu=wa("<=",function Wu(O,N,W){return N<=W},function Mo(O,N,W,ae){return ae.compare(N,W)<=0}),Xu=wa(">=",function El(O,N,W){return N>=W},function fs(O,N,W,ae){return ae.compare(N,W)>=0}),Ks=function(N,W,ae,me,Se){this.type=Gr,this.number=N,this.locale=W,this.currency=ae,this.minFractionDigits=me,this.maxFractionDigits=Se};Ks.parse=function(N,W){if(3!==N.length)return W.error("Expected two arguments.");var ae=W.parse(N[1],1,Or);if(!ae)return null;var me=N[2];if("object"!=typeof me||Array.isArray(me))return W.error("NumberFormat options argument must be an object.");var Se=null;if(me.locale&&!(Se=W.parse(me.locale,1,Gr)))return null;var Le=null;if(me.currency&&!(Le=W.parse(me.currency,1,Gr)))return null;var rt=null;if(me["min-fraction-digits"]&&!(rt=W.parse(me["min-fraction-digits"],1,Or)))return null;var mt=null;return me["max-fraction-digits"]&&!(mt=W.parse(me["max-fraction-digits"],1,Or))?null:new Ks(ae,Se,Le,rt,mt)},Ks.prototype.evaluate=function(N){return new Intl.NumberFormat(this.locale?this.locale.evaluate(N):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(N):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(N):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(N):void 0}).format(this.number.evaluate(N))},Ks.prototype.eachChild=function(N){N(this.number),this.locale&&N(this.locale),this.currency&&N(this.currency),this.minFractionDigits&&N(this.minFractionDigits),this.maxFractionDigits&&N(this.maxFractionDigits)},Ks.prototype.outputDefined=function(){return!1},Ks.prototype.serialize=function(){var N={};return this.locale&&(N.locale=this.locale.serialize()),this.currency&&(N.currency=this.currency.serialize()),this.minFractionDigits&&(N["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(N["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),N]};var fo=function(N){this.type=Or,this.input=N};fo.parse=function(N,W){if(2!==N.length)return W.error("Expected 1 argument, but found "+(N.length-1)+" instead.");var ae=W.parse(N[1],1);return ae?"array"!==ae.type.kind&&"string"!==ae.type.kind&&"value"!==ae.type.kind?W.error("Expected argument of type string or array, but found "+mi(ae.type)+" instead."):new fo(ae):null},fo.prototype.evaluate=function(N){var W=this.input.evaluate(N);if("string"==typeof W)return W.length;if(Array.isArray(W))return W.length;throw new To("Expected value to be of type string or array, but found "+mi(lo(W))+" instead.")},fo.prototype.eachChild=function(N){N(this.input)},fo.prototype.outputDefined=function(){return!1},fo.prototype.serialize=function(){var N=["length"];return this.eachChild(function(W){N.push(W.serialize())}),N};var Zo={"==":Gf,"!=":iu,">":Xs,"<":_f,">=":Xu,"<=":Zu,array:Go,at:uo,boolean:Go,case:Vs,coalesce:ko,collator:zs,format:nl,image:Ao,in:Ds,"index-of":Xa,interpolate:oa,"interpolate-hcl":oa,"interpolate-lab":oa,length:fo,let:bs,literal:xs,match:ws,number:Go,"number-format":Ks,object:Go,slice:fa,step:ol,string:Go,"to-boolean":po,"to-color":po,"to-number":po,"to-string":po,var:yo,within:al};function Xo(O,N){var W=N[0],ae=N[1],me=N[2],Se=N[3];W=W.evaluate(O),ae=ae.evaluate(O),me=me.evaluate(O);var Le=Se?Se.evaluate(O):1,rt=Df(W,ae,me,Le);if(rt)throw new To(rt);return new La(W/255*Le,ae/255*Le,me/255*Le,Le)}function Ko(O,N){return O in N}function Yl(O,N){var W=N[O];return typeof W>"u"?null:W}function sl(O){return{type:O}}function Ts(O){return{result:"success",value:O}}function ll(O){return{result:"error",value:O}}function Zl(O){return"data-driven"===O["property-type"]||"cross-faded-data-driven"===O["property-type"]}function vf(O){return!!O.expression&&O.expression.parameters.indexOf("zoom")>-1}function Ku(O){return!!O.expression&&O.expression.interpolated}function ja(O){return O instanceof Number?"number":O instanceof String?"string":O instanceof Boolean?"boolean":Array.isArray(O)?"array":null===O?"null":typeof O}function Ju(O){return"object"==typeof O&&null!==O&&!Array.isArray(O)}function Yc(O){return O}function mc(O,N){var rt,mt,Mt,W="color"===N.type,ae=O.stops&&"object"==typeof O.stops[0][0],Se=ae||!(ae||void 0!==O.property),Le=O.type||(Ku(N)?"exponential":"interval");if(W&&((O=bn({},O)).stops&&(O.stops=O.stops.map(function(di){return[di[0],La.parse(di[1])]})),O.default=La.parse(O.default?O.default:N.default)),O.colorSpace&&"rgb"!==O.colorSpace&&!Zi[O.colorSpace])throw new Error("Unknown color space: "+O.colorSpace);if("exponential"===Le)rt=jf;else if("interval"===Le)rt=Zc;else if("categorical"===Le){rt=Mh,mt=Object.create(null);for(var Pt=0,Jt=O.stops;Pt<Jt.length;Pt+=1){var cr=Jt[Pt];mt[cr[0]]=cr[1]}Mt=typeof O.stops[0][0]}else{if("identity"!==Le)throw new Error('Unknown function type "'+Le+'"');rt=xc}if(ae){for(var lr={},Dr=[],Zr=0;Zr<O.stops.length;Zr++){var xn=O.stops[Zr],hn=xn[0].zoom;void 0===lr[hn]&&(lr[hn]={zoom:hn,type:O.type,property:O.property,default:O.default,stops:[]},Dr.push(hn)),lr[hn].stops.push([xn[0].value,xn[1]])}for(var On=[],Ln=0,kn=Dr;Ln<kn.length;Ln+=1){var Hn=kn[Ln];On.push([lr[Hn].zoom,mc(lr[Hn],N)])}var ri={name:"linear"};return{kind:"composite",interpolationType:ri,interpolationFactor:oa.interpolationFactor.bind(void 0,ri),zoomStops:On.map(function(di){return di[0]}),evaluate:function(Bi,Li){var Ui=Bi.zoom;return jf({stops:On,base:O.base},N,Ui).evaluate(Ui,Li)}}}if(Se){var xi="exponential"===Le?{name:"exponential",base:void 0!==O.base?O.base:1}:null;return{kind:"camera",interpolationType:xi,interpolationFactor:oa.interpolationFactor.bind(void 0,xi),zoomStops:O.stops.map(function(di){return di[0]}),evaluate:function(di){return rt(O,N,di.zoom,mt,Mt)}}}return{kind:"source",evaluate:function(Bi,Li){var Ui=Li&&Li.properties?Li.properties[O.property]:void 0;return void 0===Ui?$u(O.default,N.default):rt(O,N,Ui,mt,Mt)}}}function $u(O,N,W){return void 0!==O?O:void 0!==N?N:void 0!==W?W:void 0}function Mh(O,N,W,ae,me){return $u(typeof W===me?ae[W]:void 0,O.default,N.default)}function Zc(O,N,W){if("number"!==ja(W))return $u(O.default,N.default);var ae=O.stops.length;if(1===ae||W<=O.stops[0][0])return O.stops[0][1];if(W>=O.stops[ae-1][0])return O.stops[ae-1][1];var me=zf(O.stops.map(function(Se){return Se[0]}),W);return O.stops[me][1]}function jf(O,N,W){var ae=void 0!==O.base?O.base:1;if("number"!==ja(W))return $u(O.default,N.default);var me=O.stops.length;if(1===me||W<=O.stops[0][0])return O.stops[0][1];if(W>=O.stops[me-1][0])return O.stops[me-1][1];var Se=zf(O.stops.map(function(Jt){return Jt[0]}),W),Le=function Sh(O,N,W,ae){var me=ae-W,Se=O-W;return 0===me?0:1===N?Se/me:(Math.pow(N,Se)-1)/(Math.pow(N,me)-1)}(W,ae,O.stops[Se][0],O.stops[Se+1][0]),rt=O.stops[Se][1],mt=O.stops[Se+1][1],Mt=_u[N.type]||Yc;if(O.colorSpace&&"rgb"!==O.colorSpace){var Pt=Zi[O.colorSpace];Mt=function(Jt,cr){return Pt.reverse(Pt.interpolate(Pt.forward(Jt),Pt.forward(cr),Le))}}return"function"==typeof rt.evaluate?{evaluate:function(){for(var cr=[],lr=arguments.length;lr--;)cr[lr]=arguments[lr];var Dr=rt.evaluate.apply(void 0,cr),Zr=mt.evaluate.apply(void 0,cr);if(void 0!==Dr&&void 0!==Zr)return Mt(Dr,Zr,Le)}}:Mt(rt,mt,Le)}function xc(O,N,W){return"color"===N.type?W=La.parse(W):"formatted"===N.type?W=Ho.fromString(W.toString()):"resolvedImage"===N.type?W=Ns.fromString(W.toString()):ja(W)!==N.type&&("enum"!==N.type||!N.values[W])&&(W=void 0),$u(W,O.default,N.default)}go.register(Zo,{error:[{kind:"error"},[Gr],function(O,N){throw new To(N[0].evaluate(O))}],typeof:[Gr,[dn],function(O,N){return mi(lo(N[0].evaluate(O)))}],"to-rgba":[Mi(Or,4),[Zn],function(O,N){return N[0].evaluate(O).toArray()}],rgb:[Zn,[Or,Or,Or],Xo],rgba:[Zn,[Or,Or,Or,Or],Xo],has:{type:Mn,overloads:[[[Gr],function(O,N){return Ko(N[0].evaluate(O),O.properties())}],[[Gr,fi],function(O,N){var ae=N[1];return Ko(N[0].evaluate(O),ae.evaluate(O))}]]},get:{type:dn,overloads:[[[Gr],function(O,N){return Yl(N[0].evaluate(O),O.properties())}],[[Gr,fi],function(O,N){var ae=N[1];return Yl(N[0].evaluate(O),ae.evaluate(O))}]]},"feature-state":[dn,[Gr],function(O,N){return Yl(N[0].evaluate(O),O.featureState||{})}],properties:[fi,[],function(O){return O.properties()}],"geometry-type":[Gr,[],function(O){return O.geometryType()}],id:[dn,[],function(O){return O.id()}],zoom:[Or,[],function(O){return O.globals.zoom}],"heatmap-density":[Or,[],function(O){return O.globals.heatmapDensity||0}],"line-progress":[Or,[],function(O){return O.globals.lineProgress||0}],accumulated:[dn,[],function(O){return void 0===O.globals.accumulated?null:O.globals.accumulated}],"+":[Or,sl(Or),function(O,N){for(var W=0,ae=0,me=N;ae<me.length;ae+=1)W+=me[ae].evaluate(O);return W}],"*":[Or,sl(Or),function(O,N){for(var W=1,ae=0,me=N;ae<me.length;ae+=1)W*=me[ae].evaluate(O);return W}],"-":{type:Or,overloads:[[[Or,Or],function(O,N){var ae=N[1];return N[0].evaluate(O)-ae.evaluate(O)}],[[Or],function(O,N){return-N[0].evaluate(O)}]]},"/":[Or,[Or,Or],function(O,N){var ae=N[1];return N[0].evaluate(O)/ae.evaluate(O)}],"%":[Or,[Or,Or],function(O,N){var ae=N[1];return N[0].evaluate(O)%ae.evaluate(O)}],ln2:[Or,[],function(){return Math.LN2}],pi:[Or,[],function(){return Math.PI}],e:[Or,[],function(){return Math.E}],"^":[Or,[Or,Or],function(O,N){var ae=N[1];return Math.pow(N[0].evaluate(O),ae.evaluate(O))}],sqrt:[Or,[Or],function(O,N){return Math.sqrt(N[0].evaluate(O))}],log10:[Or,[Or],function(O,N){return Math.log(N[0].evaluate(O))/Math.LN10}],ln:[Or,[Or],function(O,N){return Math.log(N[0].evaluate(O))}],log2:[Or,[Or],function(O,N){return Math.log(N[0].evaluate(O))/Math.LN2}],sin:[Or,[Or],function(O,N){return Math.sin(N[0].evaluate(O))}],cos:[Or,[Or],function(O,N){return Math.cos(N[0].evaluate(O))}],tan:[Or,[Or],function(O,N){return Math.tan(N[0].evaluate(O))}],asin:[Or,[Or],function(O,N){return Math.asin(N[0].evaluate(O))}],acos:[Or,[Or],function(O,N){return Math.acos(N[0].evaluate(O))}],atan:[Or,[Or],function(O,N){return Math.atan(N[0].evaluate(O))}],min:[Or,sl(Or),function(O,N){return Math.min.apply(Math,N.map(function(W){return W.evaluate(O)}))}],max:[Or,sl(Or),function(O,N){return Math.max.apply(Math,N.map(function(W){return W.evaluate(O)}))}],abs:[Or,[Or],function(O,N){return Math.abs(N[0].evaluate(O))}],round:[Or,[Or],function(O,N){var ae=N[0].evaluate(O);return ae<0?-Math.round(-ae):Math.round(ae)}],floor:[Or,[Or],function(O,N){return Math.floor(N[0].evaluate(O))}],ceil:[Or,[Or],function(O,N){return Math.ceil(N[0].evaluate(O))}],"filter-==":[Mn,[Gr,dn],function(O,N){var W=N[0],ae=N[1];return O.properties()[W.value]===ae.value}],"filter-id-==":[Mn,[dn],function(O,N){var W=N[0];return O.id()===W.value}],"filter-type-==":[Mn,[Gr],function(O,N){var W=N[0];return O.geometryType()===W.value}],"filter-<":[Mn,[Gr,dn],function(O,N){var W=N[0],ae=N[1],me=O.properties()[W.value],Se=ae.value;return typeof me==typeof Se&&me<Se}],"filter-id-<":[Mn,[dn],function(O,N){var W=N[0],ae=O.id(),me=W.value;return typeof ae==typeof me&&ae<me}],"filter->":[Mn,[Gr,dn],function(O,N){var W=N[0],ae=N[1],me=O.properties()[W.value],Se=ae.value;return typeof me==typeof Se&&me>Se}],"filter-id->":[Mn,[dn],function(O,N){var W=N[0],ae=O.id(),me=W.value;return typeof ae==typeof me&&ae>me}],"filter-<=":[Mn,[Gr,dn],function(O,N){var W=N[0],ae=N[1],me=O.properties()[W.value],Se=ae.value;return typeof me==typeof Se&&me<=Se}],"filter-id-<=":[Mn,[dn],function(O,N){var W=N[0],ae=O.id(),me=W.value;return typeof ae==typeof me&&ae<=me}],"filter->=":[Mn,[Gr,dn],function(O,N){var W=N[0],ae=N[1],me=O.properties()[W.value],Se=ae.value;return typeof me==typeof Se&&me>=Se}],"filter-id->=":[Mn,[dn],function(O,N){var W=N[0],ae=O.id(),me=W.value;return typeof ae==typeof me&&ae>=me}],"filter-has":[Mn,[dn],function(O,N){return N[0].value in O.properties()}],"filter-has-id":[Mn,[],function(O){return null!==O.id()&&void 0!==O.id()}],"filter-type-in":[Mn,[Mi(Gr)],function(O,N){return N[0].value.indexOf(O.geometryType())>=0}],"filter-id-in":[Mn,[Mi(dn)],function(O,N){return N[0].value.indexOf(O.id())>=0}],"filter-in-small":[Mn,[Gr,Mi(dn)],function(O,N){var W=N[0];return N[1].value.indexOf(O.properties()[W.value])>=0}],"filter-in-large":[Mn,[Gr,Mi(dn)],function(O,N){var W=N[0],ae=N[1];return function au(O,N,W,ae){for(;W<=ae;){var me=W+ae>>1;if(N[me]===O)return!0;N[me]>O?ae=me-1:W=me+1}return!1}(O.properties()[W.value],ae.value,0,ae.value.length-1)}],all:{type:Mn,overloads:[[[Mn,Mn],function(O,N){var ae=N[1];return N[0].evaluate(O)&&ae.evaluate(O)}],[sl(Mn),function(O,N){for(var W=0,ae=N;W<ae.length;W+=1)if(!ae[W].evaluate(O))return!1;return!0}]]},any:{type:Mn,overloads:[[[Mn,Mn],function(O,N){var ae=N[1];return N[0].evaluate(O)||ae.evaluate(O)}],[sl(Mn),function(O,N){for(var W=0,ae=N;W<ae.length;W+=1)if(ae[W].evaluate(O))return!0;return!1}]]},"!":[Mn,[Mn],function(O,N){return!N[0].evaluate(O)}],"is-supported-script":[Mn,[Gr],function(O,N){var ae=O.globals&&O.globals.isSupportedScript;return!ae||ae(N[0].evaluate(O))}],upcase:[Gr,[Gr],function(O,N){return N[0].evaluate(O).toUpperCase()}],downcase:[Gr,[Gr],function(O,N){return N[0].evaluate(O).toLowerCase()}],concat:[Gr,sl(dn),function(O,N){return N.map(function(W){return wu(W.evaluate(O))}).join("")}],"resolved-locale":[Gr,[gi],function(O,N){return N[0].evaluate(O).resolvedLocale()}]});var ou=function(N,W){this.expression=N,this._warningHistory={},this._evaluator=new Ji,this._defaultValue=W?function ul(O){return"color"===O.type&&Ju(O.default)?new La(0,0,0,0):"color"===O.type?La.parse(O.default)||null:void 0===O.default?null:O.default}(W):null,this._enumValues=W&&"enum"===W.type?W.values:null};function Wf(O){return Array.isArray(O)&&O.length>0&&"string"==typeof O[0]&&O[0]in Zo}function Yf(O,N){var W=new nu(Zo,[],N?function lu(O){var N={color:Zn,string:Gr,number:Or,enum:Gr,boolean:Mn,formatted:wi,resolvedImage:Fi};return"array"===O.type?Mi(N[O.value]||dn,O.length):N[O.type]}(N):void 0),ae=W.parse(O,void 0,void 0,void 0,N&&"string"===N.type?{typeAnnotation:"coerce"}:void 0);return ae?Ts(new ou(ae,N)):ll(W.errors)}ou.prototype.evaluateWithoutErrorHandling=function(N,W,ae,me,Se,Le){return this._evaluator.globals=N,this._evaluator.feature=W,this._evaluator.featureState=ae,this._evaluator.canonical=me,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=Le,this.expression.evaluate(this._evaluator)},ou.prototype.evaluate=function(N,W,ae,me,Se,Le){this._evaluator.globals=N,this._evaluator.feature=W||null,this._evaluator.featureState=ae||null,this._evaluator.canonical=me,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=Le||null;try{var rt=this.expression.evaluate(this._evaluator);if(null==rt||"number"==typeof rt&&rt!=rt)return this._defaultValue;if(this._enumValues&&!(rt in this._enumValues))throw new To("Expected value to be one of "+Object.keys(this._enumValues).map(function(mt){return JSON.stringify(mt)}).join(", ")+", but found "+JSON.stringify(rt)+" instead.");return rt}catch(mt){return this._warningHistory[mt.message]||(this._warningHistory[mt.message]=!0,typeof console<"u"&&console.warn(mt.message)),this._defaultValue}};var su=function(N,W){this.kind=N,this._styleExpression=W,this.isStateDependent="constant"!==N&&!Au(W.expression)};su.prototype.evaluateWithoutErrorHandling=function(N,W,ae,me,Se,Le){return this._styleExpression.evaluateWithoutErrorHandling(N,W,ae,me,Se,Le)},su.prototype.evaluate=function(N,W,ae,me,Se,Le){return this._styleExpression.evaluate(N,W,ae,me,Se,Le)};var Js=function(N,W,ae,me){this.kind=N,this.zoomStops=ae,this._styleExpression=W,this.isStateDependent="camera"!==N&&!Au(W.expression),this.interpolationType=me};function Qu(O,N){if("error"===(O=Yf(O,N)).result)return O;var W=O.value.expression,ae=Gu(W);if(!ae&&!Zl(N))return ll([new In("","data expressions not supported")]);var me=Of(W,["zoom"]);if(!me&&!vf(N))return ll([new In("","zoom expressions not supported")]);var Se=pf(W);return Se||me?Se instanceof In?ll([Se]):Se instanceof oa&&!Ku(N)?ll([new In("",'"interpolate" expressions cannot be used with this property')]):Ts(Se?new Js(ae?"camera":"composite",O.value,Se.labels,Se instanceof oa?Se.interpolation:void 0):new su(ae?"constant":"source",O.value)):ll([new In("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Js.prototype.evaluateWithoutErrorHandling=function(N,W,ae,me,Se,Le){return this._styleExpression.evaluateWithoutErrorHandling(N,W,ae,me,Se,Le)},Js.prototype.evaluate=function(N,W,ae,me,Se,Le){return this._styleExpression.evaluate(N,W,ae,me,Se,Le)},Js.prototype.interpolationFactor=function(N,W,ae){return this.interpolationType?oa.interpolationFactor(this.interpolationType,N,W,ae):0};var Eu=function(N,W){this._parameters=N,this._specification=W,bn(this,mc(this._parameters,this._specification))};function pf(O){var N=null;if(O instanceof bs)N=pf(O.result);else if(O instanceof ko)for(var W=0,ae=O.args;W<ae.length&&!(N=pf(ae[W]));W+=1);else(O instanceof ol||O instanceof oa)&&O.input instanceof go&&"zoom"===O.input.name&&(N=O);return N instanceof In||O.eachChild(function(Se){var Le=pf(Se);Le instanceof In?N=Le:!N&&Le?N=new In("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):N&&Le&&N!==Le&&(N=new In("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),N}function Eo(O){var N=O.key,W=O.value,ae=O.valueSpec||{},me=O.objectElementValidators||{},Se=O.style,Le=O.styleSpec,rt=[],mt=ja(W);if("object"!==mt)return[new Pr(N,W,"object expected, "+mt+" found")];for(var Mt in W){var Pt=Mt.split(".")[0],Jt=ae[Pt]||ae["*"],cr=void 0;if(me[Pt])cr=me[Pt];else if(ae[Pt])cr=Sr;else if(me["*"])cr=me["*"];else{if(!ae["*"]){rt.push(new Pr(N,W[Mt],'unknown property "'+Mt+'"'));continue}cr=Sr}rt=rt.concat(cr({key:(N&&N+".")+Mt,value:W[Mt],valueSpec:Jt,style:Se,styleSpec:Le,object:W,objectKey:Mt},W))}for(var lr in ae)me[lr]||ae[lr].required&&void 0===ae[lr].default&&void 0===W[lr]&&rt.push(new Pr(N,W,'missing required property "'+lr+'"'));return rt}function Xc(O){var N=O.value,W=O.valueSpec,ae=O.style,me=O.styleSpec,Se=O.key,Le=O.arrayElementValidator||Sr;if("array"!==ja(N))return[new Pr(Se,N,"array expected, "+ja(N)+" found")];if(W.length&&N.length!==W.length)return[new Pr(Se,N,"array length "+W.length+" expected, length "+N.length+" found")];if(W["min-length"]&&N.length<W["min-length"])return[new Pr(Se,N,"array length at least "+W["min-length"]+" expected, length "+N.length+" found")];var rt={type:W.value,values:W.values};me.$version<7&&(rt.function=W.function),"object"===ja(W.value)&&(rt=W.value);for(var mt=[],Mt=0;Mt<N.length;Mt++)mt=mt.concat(Le({array:N,arrayIndex:Mt,value:N[Mt],valueSpec:rt,style:ae,styleSpec:me,key:Se+"["+Mt+"]"}));return mt}function Oo(O){var N=O.key,W=O.value,ae=O.valueSpec,me=ja(W);return"number"===me&&W!=W&&(me="NaN"),"number"!==me?[new Pr(N,W,"number expected, "+me+" found")]:"minimum"in ae&&W<ae.minimum?[new Pr(N,W,W+" is less than the minimum value "+ae.minimum)]:"maximum"in ae&&W>ae.maximum?[new Pr(N,W,W+" is greater than the maximum value "+ae.maximum)]:[]}function Dl(O){var ae,Se,Le,N=O.valueSpec,W=vn(O.value.type),me={},rt="categorical"!==W&&void 0===O.value.property,mt=!rt,Mt="array"===ja(O.value.stops)&&"array"===ja(O.value.stops[0])&&"object"===ja(O.value.stops[0][0]),Pt=Eo({key:O.key,value:O.value,valueSpec:O.styleSpec.function,style:O.style,styleSpec:O.styleSpec,objectElementValidators:{stops:function Jt(Zr){if("identity"===W)return[new Pr(Zr.key,Zr.value,'identity function may not have a "stops" property')];var xn=[],hn=Zr.value;return xn=xn.concat(Xc({key:Zr.key,value:hn,valueSpec:Zr.valueSpec,style:Zr.style,styleSpec:Zr.styleSpec,arrayElementValidator:cr})),"array"===ja(hn)&&0===hn.length&&xn.push(new Pr(Zr.key,hn,"array must have at least one stop")),xn},default:function Dr(Zr){return Sr({key:Zr.key,value:Zr.value,valueSpec:N,style:Zr.style,styleSpec:Zr.styleSpec})}}});return"identity"===W&&rt&&Pt.push(new Pr(O.key,O.value,'missing required property "property"')),"identity"!==W&&!O.value.stops&&Pt.push(new Pr(O.key,O.value,'missing required property "stops"')),"exponential"===W&&O.valueSpec.expression&&!Ku(O.valueSpec)&&Pt.push(new Pr(O.key,O.value,"exponential functions not supported")),O.styleSpec.$version>=8&&(mt&&!Zl(O.valueSpec)?Pt.push(new Pr(O.key,O.value,"property functions not supported")):rt&&!vf(O.valueSpec)&&Pt.push(new Pr(O.key,O.value,"zoom functions not supported"))),("categorical"===W||Mt)&&void 0===O.value.property&&Pt.push(new Pr(O.key,O.value,'"property" property is required')),Pt;function cr(Zr){var xn=[],hn=Zr.value,On=Zr.key;if("array"!==ja(hn))return[new Pr(On,hn,"array expected, "+ja(hn)+" found")];if(2!==hn.length)return[new Pr(On,hn,"array length 2 expected, length "+hn.length+" found")];if(Mt){if("object"!==ja(hn[0]))return[new Pr(On,hn,"object expected, "+ja(hn[0])+" found")];if(void 0===hn[0].zoom)return[new Pr(On,hn,"object stop key must have zoom")];if(void 0===hn[0].value)return[new Pr(On,hn,"object stop key must have value")];if(Le&&Le>vn(hn[0].zoom))return[new Pr(On,hn[0].zoom,"stop zoom values must appear in ascending order")];vn(hn[0].zoom)!==Le&&(Le=vn(hn[0].zoom),Se=void 0,me={}),xn=xn.concat(Eo({key:On+"[0]",value:hn[0],valueSpec:{zoom:{}},style:Zr.style,styleSpec:Zr.styleSpec,objectElementValidators:{zoom:Oo,value:lr}}))}else xn=xn.concat(lr({key:On+"[0]",value:hn[0],valueSpec:{},style:Zr.style,styleSpec:Zr.styleSpec},hn));return Wf(Bn(hn[1]))?xn.concat([new Pr(On+"[1]",hn[1],"expressions are not allowed in function stops.")]):xn.concat(Sr({key:On+"[1]",value:hn[1],valueSpec:N,style:Zr.style,styleSpec:Zr.styleSpec}))}function lr(Zr,xn){var hn=ja(Zr.value),On=vn(Zr.value),Ln=null!==Zr.value?Zr.value:xn;if(ae){if(hn!==ae)return[new Pr(Zr.key,Ln,hn+" stop domain type must match previous stop domain type "+ae)]}else ae=hn;if("number"!==hn&&"string"!==hn&&"boolean"!==hn)return[new Pr(Zr.key,Ln,"stop domain value must be a number, string, or boolean")];if("number"!==hn&&"categorical"!==W){var kn="number expected, "+hn+" found";return Zl(N)&&void 0===W&&(kn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Pr(Zr.key,Ln,kn)]}return"categorical"!==W||"number"!==hn||isFinite(On)&&Math.floor(On)===On?"categorical"!==W&&"number"===hn&&void 0!==Se&&On<Se?[new Pr(Zr.key,Ln,"stop domain values must appear in ascending order")]:(Se=On,"categorical"===W&&On in me?[new Pr(Zr.key,Ln,"stop domain values must be unique")]:(me[On]=!0,[])):[new Pr(Zr.key,Ln,"integer expected, found "+On)]}}function _o(O){var N=("property"===O.expressionContext?Qu:Yf)(Bn(O.value),O.valueSpec);if("error"===N.result)return N.value.map(function(ae){return new Pr(""+O.key+ae.key,O.value,ae.message)});var W=N.value.expression||N.value._styleExpression.expression;if("property"===O.expressionContext&&"text-font"===O.propertyKey&&!W.outputDefined())return[new Pr(O.key,O.value,'Invalid data expression for "'+O.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===O.expressionContext&&"layout"===O.propertyType&&!Au(W))return[new Pr(O.key,O.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===O.expressionContext&&!Au(W))return[new Pr(O.key,O.value,'"feature-state" data expressions are not supported with filters.')];if(O.expressionContext&&0===O.expressionContext.indexOf("cluster")){if(!Of(W,["zoom","feature-state"]))return[new Pr(O.key,O.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===O.expressionContext&&!Gu(W))return[new Pr(O.key,O.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Du(O){var N=O.key,W=O.value,ae=O.valueSpec,me=[];return Array.isArray(ae.values)?-1===ae.values.indexOf(vn(W))&&me.push(new Pr(N,W,"expected one of ["+ae.values.join(", ")+"], "+JSON.stringify(W)+" found")):-1===Object.keys(ae.values).indexOf(vn(W))&&me.push(new Pr(N,W,"expected one of ["+Object.keys(ae.values).join(", ")+"], "+JSON.stringify(W)+" found")),me}function Lu(O){if(!0===O||!1===O)return!0;if(!Array.isArray(O)||0===O.length)return!1;switch(O[0]){case"has":return O.length>=2&&"$id"!==O[1]&&"$type"!==O[1];case"in":return O.length>=3&&("string"!=typeof O[1]||Array.isArray(O[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==O.length||Array.isArray(O[1])||Array.isArray(O[2]);case"any":case"all":for(var N=0,W=O.slice(1);N<W.length;N+=1){var ae=W[N];if(!Lu(ae)&&"boolean"!=typeof ae)return!1}return!0;default:return!0}}Eu.deserialize=function(N){return new Eu(N._parameters,N._specification)},Eu.serialize=function(N){return{_parameters:N._parameters,_specification:N._specification}};var Iu={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function qu(O){if(null==O)return{filter:function(){return!0},needGeometry:!1};Lu(O)||(O=uu(O));var N=Yf(O,Iu);if("error"===N.result)throw new Error(N.value.map(function(ae){return ae.key+": "+ae.message}).join(", "));return{filter:function(ae,me,Se){return N.value.evaluate(ae,me,{},Se)},needGeometry:gf(O)}}function Kf(O,N){return O<N?-1:O>N?1:0}function gf(O){if(!Array.isArray(O))return!1;if("within"===O[0])return!0;for(var N=1;N<O.length;N++)if(gf(O[N]))return!0;return!1}function uu(O){if(!O)return!0;var N=O[0];return O.length<=1?"any"!==N:"=="===N?As(O[1],O[2],"=="):"!="===N?fl(As(O[1],O[2],"==")):"<"===N||">"===N||"<="===N||">="===N?As(O[1],O[2],N):"any"===N?function Jf(O){return["any"].concat(O.map(uu))}(O.slice(1)):"all"===N?["all"].concat(O.slice(1).map(uu)):"none"===N?["all"].concat(O.slice(1).map(uu).map(fl)):"in"===N?Pu(O[1],O.slice(2)):"!in"===N?fl(Pu(O[1],O.slice(2))):"has"===N?Ls(O[1]):"!has"===N?fl(Ls(O[1])):"within"!==N||O}function As(O,N,W){switch(O){case"$type":return["filter-type-"+W,N];case"$id":return["filter-id-"+W,N];default:return["filter-"+W,O,N]}}function Pu(O,N){if(0===N.length)return!1;switch(O){case"$type":return["filter-type-in",["literal",N]];case"$id":return["filter-id-in",["literal",N]];default:return N.length>200&&!N.some(function(W){return typeof W!=typeof N[0]})?["filter-in-large",O,["literal",N.sort(Kf)]]:["filter-in-small",O,["literal",N]]}}function Ls(O){switch(O){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",O]}}function fl(O){return["!",O]}function fu(O){return Lu(Bn(O.value))?_o(bn({},O,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Ch(O)}function Ch(O){var N=O.value,W=O.key;if("array"!==ja(N))return[new Pr(W,N,"array expected, "+ja(N)+" found")];var me,ae=O.styleSpec,Se=[];if(N.length<1)return[new Pr(W,N,"filter array must have at least 1 element")];switch(Se=Se.concat(Du({key:W+"[0]",value:N[0],valueSpec:ae.filter_operator,style:O.style,styleSpec:O.styleSpec})),vn(N[0])){case"<":case"<=":case">":case">=":N.length>=2&&"$type"===vn(N[1])&&Se.push(new Pr(W,N,'"$type" cannot be use with operator "'+N[0]+'"'));case"==":case"!=":3!==N.length&&Se.push(new Pr(W,N,'filter array for operator "'+N[0]+'" must have 3 elements'));case"in":case"!in":N.length>=2&&"string"!==(me=ja(N[1]))&&Se.push(new Pr(W+"[1]",N[1],"string expected, "+me+" found"));for(var Le=2;Le<N.length;Le++)me=ja(N[Le]),"$type"===vn(N[1])?Se=Se.concat(Du({key:W+"["+Le+"]",value:N[Le],valueSpec:ae.geometry_type,style:O.style,styleSpec:O.styleSpec})):"string"!==me&&"number"!==me&&"boolean"!==me&&Se.push(new Pr(W+"["+Le+"]",N[Le],"string, number, or boolean expected, "+me+" found"));break;case"any":case"all":case"none":for(var rt=1;rt<N.length;rt++)Se=Se.concat(Ch({key:W+"["+rt+"]",value:N[rt],style:O.style,styleSpec:O.styleSpec}));break;case"has":case"!has":me=ja(N[1]),2!==N.length?Se.push(new Pr(W,N,'filter array for "'+N[0]+'" operator must have 2 elements')):"string"!==me&&Se.push(new Pr(W+"[1]",N[1],"string expected, "+me+" found"));break;case"within":me=ja(N[1]),2!==N.length?Se.push(new Pr(W,N,'filter array for "'+N[0]+'" operator must have 2 elements')):"object"!==me&&Se.push(new Pr(W+"[1]",N[1],"object expected, "+me+" found"))}return Se}function bc(O,N){var W=O.key,ae=O.style,me=O.styleSpec,Se=O.value,Le=O.objectKey,rt=me[N+"_"+O.layerType];if(!rt)return[];var mt=Le.match(/^(.*)-transition$/);if("paint"===N&&mt&&rt[mt[1]]&&rt[mt[1]].transition)return Sr({key:W,value:Se,valueSpec:me.transition,style:ae,styleSpec:me});var Pt,Mt=O.valueSpec||rt[Le];if(!Mt)return[new Pr(W,Se,'unknown property "'+Le+'"')];if("string"===ja(Se)&&Zl(Mt)&&!Mt.tokens&&(Pt=/^{([^}]+)}$/.exec(Se)))return[new Pr(W,Se,'"'+Le+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Pt[1])+" }`.")];var Jt=[];return"symbol"===O.layerType&&("text-field"===Le&&ae&&!ae.glyphs&&Jt.push(new Pr(W,Se,'use of "text-field" requires a style "glyphs" property')),"text-font"===Le&&Ju(Bn(Se))&&"identity"===vn(Se.type)&&Jt.push(new Pr(W,Se,'"text-font" does not support identity functions'))),Jt.concat(Sr({key:O.key,value:Se,valueSpec:Mt,style:ae,styleSpec:me,expressionContext:"property",propertyType:N,propertyKey:Le}))}function Eh(O){return bc(O,"paint")}function yf(O){return bc(O,"layout")}function wc(O){var N=[],W=O.value,ae=O.key,me=O.style,Se=O.styleSpec;!W.type&&!W.ref&&N.push(new Pr(ae,W,'either "type" or "ref" is required'));var Jt,Le=vn(W.type),rt=vn(W.ref);if(W.id)for(var mt=vn(W.id),Mt=0;Mt<O.arrayIndex;Mt++){var Pt=me.layers[Mt];vn(Pt.id)===mt&&N.push(new Pr(ae,W.id,'duplicate layer id "'+W.id+'", previously used at line '+Pt.id.__line__))}if("ref"in W)["type","source","source-layer","filter","layout"].forEach(function(Dr){Dr in W&&N.push(new Pr(ae,W[Dr],'"'+Dr+'" is prohibited for ref layers'))}),me.layers.forEach(function(Dr){vn(Dr.id)===rt&&(Jt=Dr)}),Jt?Jt.ref?N.push(new Pr(ae,W.ref,"ref cannot reference another ref layer")):Le=vn(Jt.type):N.push(new Pr(ae,W.ref,'ref layer "'+rt+'" not found'));else if("background"!==Le)if(W.source){var cr=me.sources&&me.sources[W.source],lr=cr&&vn(cr.type);cr?"vector"===lr&&"raster"===Le?N.push(new Pr(ae,W.source,'layer "'+W.id+'" requires a raster source')):"raster"===lr&&"raster"!==Le?N.push(new Pr(ae,W.source,'layer "'+W.id+'" requires a vector source')):"vector"!==lr||W["source-layer"]?"raster-dem"===lr&&"hillshade"!==Le?N.push(new Pr(ae,W.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"===Le&&W.paint&&W.paint["line-gradient"]&&("geojson"!==lr||!cr.lineMetrics)&&N.push(new Pr(ae,W,'layer "'+W.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):N.push(new Pr(ae,W,'layer "'+W.id+'" must specify a "source-layer"')):N.push(new Pr(ae,W.source,'source "'+W.source+'" not found'))}else N.push(new Pr(ae,W,'missing required property "source"'));return N=N.concat(Eo({key:ae,value:W,valueSpec:Se.layer,style:O.style,styleSpec:O.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Sr({key:ae+".type",value:W.type,valueSpec:Se.layer.type,style:O.style,styleSpec:O.styleSpec,object:W,objectKey:"type"})},filter:fu,layout:function(Zr){return Eo({layer:W,key:Zr.key,value:Zr.value,style:Zr.style,styleSpec:Zr.styleSpec,objectElementValidators:{"*":function(hn){return yf(bn({layerType:Le},hn))}}})},paint:function(Zr){return Eo({layer:W,key:Zr.key,value:Zr.value,style:Zr.style,styleSpec:Zr.styleSpec,objectElementValidators:{"*":function(hn){return Eh(bn({layerType:Le},hn))}}})}}}))}function tt(O){var N=O.value,W=O.key,ae=ja(N);return"string"!==ae?[new Pr(W,N,"string expected, "+ae+" found")]:[]}var st={promoteId:function Tt(O){var N=O.key,W=O.value;if("string"===ja(W))return tt({key:N,value:W});var ae=[];for(var me in W)ae.push.apply(ae,tt({key:N+"."+me,value:W[me]}));return ae}};function xt(O){var N=O.value,W=O.key,ae=O.styleSpec,me=O.style;if(!N.type)return[new Pr(W,N,'"type" is required')];var Le,Se=vn(N.type);switch(Se){case"vector":case"raster":case"raster-dem":return Eo({key:W,value:N,valueSpec:ae["source_"+Se.replace("-","_")],style:O.style,styleSpec:ae,objectElementValidators:st});case"geojson":if(Le=Eo({key:W,value:N,valueSpec:ae.source_geojson,style:me,styleSpec:ae,objectElementValidators:st}),N.cluster)for(var rt in N.clusterProperties){var mt=N.clusterProperties[rt],Mt=mt[0],Jt="string"==typeof Mt?[Mt,["accumulated"],["get",rt]]:Mt;Le.push.apply(Le,_o({key:W+"."+rt+".map",value:mt[1],expressionContext:"cluster-map"})),Le.push.apply(Le,_o({key:W+"."+rt+".reduce",value:Jt,expressionContext:"cluster-reduce"}))}return Le;case"video":return Eo({key:W,value:N,valueSpec:ae.source_video,style:me,styleSpec:ae});case"image":return Eo({key:W,value:N,valueSpec:ae.source_image,style:me,styleSpec:ae});case"canvas":return[new Pr(W,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Du({key:W+".type",value:N.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:me,styleSpec:ae})}}function Bt(O){var N=O.value,W=O.styleSpec,ae=W.light,me=O.style,Se=[],Le=ja(N);if(void 0===N)return Se;if("object"!==Le)return Se.concat([new Pr("light",N,"object expected, "+Le+" found")]);for(var rt in N){var mt=rt.match(/^(.*)-transition$/);Se=Se.concat(mt&&ae[mt[1]]&&ae[mt[1]].transition?Sr({key:rt,value:N[rt],valueSpec:W.transition,style:me,styleSpec:W}):ae[rt]?Sr({key:rt,value:N[rt],valueSpec:ae[rt],style:me,styleSpec:W}):[new Pr(rt,N[rt],'unknown property "'+rt+'"')])}return Se}var br={"*":function(){return[]},array:Xc,boolean:function Xf(O){var N=O.value,W=O.key,ae=ja(N);return"boolean"!==ae?[new Pr(W,N,"boolean expected, "+ae+" found")]:[]},number:Oo,color:function Kc(O){var N=O.key,W=O.value,ae=ja(W);return"string"!==ae?[new Pr(N,W,"color expected, "+ae+" found")]:null===Cs(W)?[new Pr(N,W,'color expected, "'+W+'" found')]:[]},constants:jr,enum:Du,filter:fu,function:Dl,layer:wc,object:Eo,source:xt,light:Bt,string:tt,formatted:function Ot(O){return 0===tt(O).length?[]:_o(O)},resolvedImage:function Wt(O){return 0===tt(O).length?[]:_o(O)}};function Sr(O){var N=O.value,W=O.valueSpec,ae=O.styleSpec;return W.expression&&Ju(vn(N))?Dl(O):W.expression&&Wf(Bn(N))?_o(O):W.type&&br[W.type]?br[W.type](O):Eo(bn({},O,{valueSpec:W.type?ae[W.type]:W}))}function gr(O){var N=O.value,W=O.key,ae=tt(O);return ae.length||(-1===N.indexOf("{fontstack}")&&ae.push(new Pr(W,N,'"glyphs" url must include a "{fontstack}" token')),-1===N.indexOf("{range}")&&ae.push(new Pr(W,N,'"glyphs" url must include a "{range}" token'))),ae}function Ar(O,N){void 0===N&&(N=qt);var W=[];return W=W.concat(Sr({key:"",value:O,valueSpec:N.$root,styleSpec:N,style:O,objectElementValidators:{glyphs:gr,"*":function(){return[]}}})),O.constants&&(W=W.concat(jr({key:"constants",value:O.constants,style:O,styleSpec:N}))),_r(W)}function _r(O){return[].concat(O).sort(function(N,W){return N.line-W.line})}function en(O){return function(){for(var N=[],W=arguments.length;W--;)N[W]=arguments[W];return _r(O.apply(this,N))}}Ar.source=en(xt),Ar.light=en(Bt),Ar.layer=en(wc),Ar.filter=en(fu),Ar.paintProperty=en(Eh),Ar.layoutProperty=en(yf);var sn=Ar,cn=sn.light,Pn=sn.paintProperty,ti=sn.layoutProperty;function Si(O,N){var W=!1;if(N&&N.length)for(var ae=0,me=N;ae<me.length;ae+=1)O.fire(new ur(new Error(me[ae].message))),W=!0;return W}var Yi=$i,ji=3;function $i(O,N,W){var ae=this.cells=[];if(O instanceof ArrayBuffer){this.arrayBuffer=O;var me=new Int32Array(this.arrayBuffer);O=me[0],this.d=(N=me[1])+2*(W=me[2]);for(var Se=0;Se<this.d*this.d;Se++){var Le=me[ji+Se],rt=me[ji+Se+1];ae.push(Le===rt?null:me.subarray(Le,rt))}var Mt=me[ji+ae.length+1];this.keys=me.subarray(me[ji+ae.length],Mt),this.bboxes=me.subarray(Mt),this.insert=this._insertReadonly}else{this.d=N+2*W;for(var Pt=0;Pt<this.d*this.d;Pt++)ae.push([]);this.keys=[],this.bboxes=[]}this.n=N,this.extent=O,this.padding=W,this.scale=N/O,this.uid=0;var Jt=W/N*O;this.min=-Jt,this.max=O+Jt}$i.prototype.insert=function(O,N,W,ae,me){this._forEachCell(N,W,ae,me,this._insertCell,this.uid++),this.keys.push(O),this.bboxes.push(N),this.bboxes.push(W),this.bboxes.push(ae),this.bboxes.push(me)},$i.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},$i.prototype._insertCell=function(O,N,W,ae,me,Se){this.cells[me].push(Se)},$i.prototype.query=function(O,N,W,ae,me){var Se=this.min,Le=this.max;if(O<=Se&&N<=Se&&Le<=W&&Le<=ae&&!me)return Array.prototype.slice.call(this.keys);var rt=[];return this._forEachCell(O,N,W,ae,this._queryCell,rt,{},me),rt},$i.prototype._queryCell=function(O,N,W,ae,me,Se,Le,rt){var mt=this.cells[me];if(null!==mt)for(var Mt=this.keys,Pt=this.bboxes,Jt=0;Jt<mt.length;Jt++){var cr=mt[Jt];if(void 0===Le[cr]){var lr=4*cr;(rt?rt(Pt[lr+0],Pt[lr+1],Pt[lr+2],Pt[lr+3]):O<=Pt[lr+2]&&N<=Pt[lr+3]&&W>=Pt[lr+0]&&ae>=Pt[lr+1])?(Le[cr]=!0,Se.push(Mt[cr])):Le[cr]=!1}}},$i.prototype._forEachCell=function(O,N,W,ae,me,Se,Le,rt){for(var mt=this._convertToCellCoord(O),Mt=this._convertToCellCoord(N),Pt=this._convertToCellCoord(W),Jt=this._convertToCellCoord(ae),cr=mt;cr<=Pt;cr++)for(var lr=Mt;lr<=Jt;lr++){var Dr=this.d*lr+cr;if((!rt||rt(this._convertFromCellCoord(cr),this._convertFromCellCoord(lr),this._convertFromCellCoord(cr+1),this._convertFromCellCoord(lr+1)))&&me.call(this,O,N,W,ae,Dr,Se,Le,rt))return}},$i.prototype._convertFromCellCoord=function(O){return(O-this.padding)/this.scale},$i.prototype._convertToCellCoord=function(O){return Math.max(0,Math.min(this.d-1,Math.floor(O*this.scale)+this.padding))},$i.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var O=this.cells,N=ji+this.cells.length+1+1,W=0,ae=0;ae<this.cells.length;ae++)W+=this.cells[ae].length;var me=new Int32Array(N+W+this.keys.length+this.bboxes.length);me[0]=this.extent,me[1]=this.n,me[2]=this.padding;for(var Se=N,Le=0;Le<O.length;Le++){var rt=O[Le];me[ji+Le]=Se,me.set(rt,Se),Se+=rt.length}return me[ji+O.length]=Se,me.set(this.keys,Se),me[ji+O.length+1]=Se+=this.keys.length,me.set(this.bboxes,Se),Se+=this.bboxes.length,me.buffer};var sa=self.ImageData,Ha=self.ImageBitmap,Wa={};function Ci(O,N,W){void 0===W&&(W={}),Object.defineProperty(N,"_classRegistryKey",{value:O,writeable:!1}),Wa[O]={klass:N,omit:W.omit||[],shallow:W.shallow||[]}}for(var ro in Ci("Object",Object),Yi.serialize=function(N,W){var ae=N.toArrayBuffer();return W&&W.push(ae),{buffer:ae}},Yi.deserialize=function(N){return new Yi(N.buffer)},Ci("Grid",Yi),Ci("Color",La),Ci("Error",Error),Ci("ResolvedImage",Ns),Ci("StylePropertyFunction",Eu),Ci("StyleExpression",ou,{omit:["_evaluator"]}),Ci("ZoomDependentExpression",Js),Ci("ZoomConstantExpression",su),Ci("CompoundExpression",go,{omit:["_evaluate"]}),Zo)Zo[ro]._classRegistryKey||Ci("Expression_"+ro,Zo[ro]);function io(O){return O&&typeof ArrayBuffer<"u"&&(O instanceof ArrayBuffer||O.constructor&&"ArrayBuffer"===O.constructor.name)}function cs(O){return Ha&&O instanceof Ha}function No(O,N){if(null==O||"boolean"==typeof O||"number"==typeof O||"string"==typeof O||O instanceof Boolean||O instanceof Number||O instanceof String||O instanceof Date||O instanceof RegExp)return O;if(io(O)||cs(O))return N&&N.push(O),O;if(ArrayBuffer.isView(O)){var W=O;return N&&N.push(W.buffer),W}if(O instanceof sa)return N&&N.push(O.data.buffer),O;if(Array.isArray(O)){for(var ae=[],me=0,Se=O;me<Se.length;me+=1)ae.push(No(Se[me],N));return ae}if("object"==typeof O){var rt=O.constructor,mt=rt._classRegistryKey;if(!mt)throw new Error("can't serialize object of unregistered class");var Mt=rt.serialize?rt.serialize(O,N):{};if(!rt.serialize){for(var Pt in O)if(O.hasOwnProperty(Pt)&&!(Wa[mt].omit.indexOf(Pt)>=0)){var Jt=O[Pt];Mt[Pt]=Wa[mt].shallow.indexOf(Pt)>=0?Jt:No(Jt,N)}O instanceof Error&&(Mt.message=O.message)}if(Mt.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==mt&&(Mt.$name=mt),Mt}throw new Error("can't serialize object of type "+typeof O)}function Ja(O){if(null==O||"boolean"==typeof O||"number"==typeof O||"string"==typeof O||O instanceof Boolean||O instanceof Number||O instanceof String||O instanceof Date||O instanceof RegExp||io(O)||cs(O)||ArrayBuffer.isView(O)||O instanceof sa)return O;if(Array.isArray(O))return O.map(Ja);if("object"==typeof O){var N=O.$name||"Object",ae=Wa[N].klass;if(!ae)throw new Error("can't deserialize unregistered class "+N);if(ae.deserialize)return ae.deserialize(O);for(var me=Object.create(ae.prototype),Se=0,Le=Object.keys(O);Se<Le.length;Se+=1){var rt=Le[Se];if("$name"!==rt){var mt=O[rt];me[rt]=Wa[N].shallow.indexOf(rt)>=0?mt:Ja(mt)}}return me}throw new Error("can't deserialize object of type "+typeof O)}var he=function(){this.first=!0};he.prototype.update=function(N,W){var ae=Math.floor(N);return this.first?(this.first=!1,this.lastIntegerZoom=ae,this.lastIntegerZoomTime=0,this.lastZoom=N,this.lastFloorZoom=ae,!0):(this.lastFloorZoom>ae?(this.lastIntegerZoom=ae+1,this.lastIntegerZoomTime=W):this.lastFloorZoom<ae&&(this.lastIntegerZoom=ae,this.lastIntegerZoomTime=W),N!==this.lastZoom&&(this.lastZoom=N,this.lastFloorZoom=ae,!0))};var Ae={"Latin-1 Supplement":function(O){return O>=128&&O<=255},Arabic:function(O){return O>=1536&&O<=1791},"Arabic Supplement":function(O){return O>=1872&&O<=1919},"Arabic Extended-A":function(O){return O>=2208&&O<=2303},"Hangul Jamo":function(O){return O>=4352&&O<=4607},"Unified Canadian Aboriginal Syllabics":function(O){return O>=5120&&O<=5759},Khmer:function(O){return O>=6016&&O<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(O){return O>=6320&&O<=6399},"General Punctuation":function(O){return O>=8192&&O<=8303},"Letterlike Symbols":function(O){return O>=8448&&O<=8527},"Number Forms":function(O){return O>=8528&&O<=8591},"Miscellaneous Technical":function(O){return O>=8960&&O<=9215},"Control Pictures":function(O){return O>=9216&&O<=9279},"Optical Character Recognition":function(O){return O>=9280&&O<=9311},"Enclosed Alphanumerics":function(O){return O>=9312&&O<=9471},"Geometric Shapes":function(O){return O>=9632&&O<=9727},"Miscellaneous Symbols":function(O){return O>=9728&&O<=9983},"Miscellaneous Symbols and Arrows":function(O){return O>=11008&&O<=11263},"CJK Radicals Supplement":function(O){return O>=11904&&O<=12031},"Kangxi Radicals":function(O){return O>=12032&&O<=12255},"Ideographic Description Characters":function(O){return O>=12272&&O<=12287},"CJK Symbols and Punctuation":function(O){return O>=12288&&O<=12351},Hiragana:function(O){return O>=12352&&O<=12447},Katakana:function(O){return O>=12448&&O<=12543},Bopomofo:function(O){return O>=12544&&O<=12591},"Hangul Compatibility Jamo":function(O){return O>=12592&&O<=12687},Kanbun:function(O){return O>=12688&&O<=12703},"Bopomofo Extended":function(O){return O>=12704&&O<=12735},"CJK Strokes":function(O){return O>=12736&&O<=12783},"Katakana Phonetic Extensions":function(O){return O>=12784&&O<=12799},"Enclosed CJK Letters and Months":function(O){return O>=12800&&O<=13055},"CJK Compatibility":function(O){return O>=13056&&O<=13311},"CJK Unified Ideographs Extension A":function(O){return O>=13312&&O<=19903},"Yijing Hexagram Symbols":function(O){return O>=19904&&O<=19967},"CJK Unified Ideographs":function(O){return O>=19968&&O<=40959},"Yi Syllables":function(O){return O>=40960&&O<=42127},"Yi Radicals":function(O){return O>=42128&&O<=42191},"Hangul Jamo Extended-A":function(O){return O>=43360&&O<=43391},"Hangul Syllables":function(O){return O>=44032&&O<=55215},"Hangul Jamo Extended-B":function(O){return O>=55216&&O<=55295},"Private Use Area":function(O){return O>=57344&&O<=63743},"CJK Compatibility Ideographs":function(O){return O>=63744&&O<=64255},"Arabic Presentation Forms-A":function(O){return O>=64336&&O<=65023},"Vertical Forms":function(O){return O>=65040&&O<=65055},"CJK Compatibility Forms":function(O){return O>=65072&&O<=65103},"Small Form Variants":function(O){return O>=65104&&O<=65135},"Arabic Presentation Forms-B":function(O){return O>=65136&&O<=65279},"Halfwidth and Fullwidth Forms":function(O){return O>=65280&&O<=65519}};function Ge(O){for(var N=0,W=O;N<W.length;N+=1)if(Nt(W[N].charCodeAt(0)))return!0;return!1}function at(O){return!(Ae.Arabic(O)||Ae["Arabic Supplement"](O)||Ae["Arabic Extended-A"](O)||Ae["Arabic Presentation Forms-A"](O)||Ae["Arabic Presentation Forms-B"](O))}function ht(O){return!(O<11904||!(Ae["Bopomofo Extended"](O)||Ae.Bopomofo(O)||Ae["CJK Compatibility Forms"](O)||Ae["CJK Compatibility Ideographs"](O)||Ae["CJK Compatibility"](O)||Ae["CJK Radicals Supplement"](O)||Ae["CJK Strokes"](O)||Ae["CJK Symbols and Punctuation"](O)||Ae["CJK Unified Ideographs Extension A"](O)||Ae["CJK Unified Ideographs"](O)||Ae["Enclosed CJK Letters and Months"](O)||Ae["Halfwidth and Fullwidth Forms"](O)||Ae.Hiragana(O)||Ae["Ideographic Description Characters"](O)||Ae["Kangxi Radicals"](O)||Ae["Katakana Phonetic Extensions"](O)||Ae.Katakana(O)||Ae["Vertical Forms"](O)||Ae["Yi Radicals"](O)||Ae["Yi Syllables"](O)))}function Nt(O){return 746===O||747===O||!(O<4352)&&!!(Ae["Bopomofo Extended"](O)||Ae.Bopomofo(O)||Ae["CJK Compatibility Forms"](O)&&!(O>=65097&&O<=65103)||Ae["CJK Compatibility Ideographs"](O)||Ae["CJK Compatibility"](O)||Ae["CJK Radicals Supplement"](O)||Ae["CJK Strokes"](O)||Ae["CJK Symbols and Punctuation"](O)&&!(O>=12296&&O<=12305)&&!(O>=12308&&O<=12319)&&12336!==O||Ae["CJK Unified Ideographs Extension A"](O)||Ae["CJK Unified Ideographs"](O)||Ae["Enclosed CJK Letters and Months"](O)||Ae["Hangul Compatibility Jamo"](O)||Ae["Hangul Jamo Extended-A"](O)||Ae["Hangul Jamo Extended-B"](O)||Ae["Hangul Jamo"](O)||Ae["Hangul Syllables"](O)||Ae.Hiragana(O)||Ae["Ideographic Description Characters"](O)||Ae.Kanbun(O)||Ae["Kangxi Radicals"](O)||Ae["Katakana Phonetic Extensions"](O)||Ae.Katakana(O)&&12540!==O||!(!Ae["Halfwidth and Fullwidth Forms"](O)||65288===O||65289===O||65293===O||O>=65306&&O<=65310||65339===O||65341===O||65343===O||O>=65371&&O<=65503||65507===O||O>=65512&&O<=65519)||!(!Ae["Small Form Variants"](O)||O>=65112&&O<=65118||O>=65123&&O<=65126)||Ae["Unified Canadian Aboriginal Syllabics"](O)||Ae["Unified Canadian Aboriginal Syllabics Extended"](O)||Ae["Vertical Forms"](O)||Ae["Yijing Hexagram Symbols"](O)||Ae["Yi Syllables"](O)||Ae["Yi Radicals"](O))}function Yt(O){return!(Nt(O)||function Dt(O){return!!(Ae["Latin-1 Supplement"](O)&&(167===O||169===O||174===O||177===O||188===O||189===O||190===O||215===O||247===O)||Ae["General Punctuation"](O)&&(8214===O||8224===O||8225===O||8240===O||8241===O||8251===O||8252===O||8258===O||8263===O||8264===O||8265===O||8273===O)||Ae["Letterlike Symbols"](O)||Ae["Number Forms"](O)||Ae["Miscellaneous Technical"](O)&&(O>=8960&&O<=8967||O>=8972&&O<=8991||O>=8996&&O<=9e3||9003===O||O>=9085&&O<=9114||O>=9150&&O<=9165||9167===O||O>=9169&&O<=9179||O>=9186&&O<=9215)||Ae["Control Pictures"](O)&&9251!==O||Ae["Optical Character Recognition"](O)||Ae["Enclosed Alphanumerics"](O)||Ae["Geometric Shapes"](O)||Ae["Miscellaneous Symbols"](O)&&!(O>=9754&&O<=9759)||Ae["Miscellaneous Symbols and Arrows"](O)&&(O>=11026&&O<=11055||O>=11088&&O<=11097||O>=11192&&O<=11243)||Ae["CJK Symbols and Punctuation"](O)||Ae.Katakana(O)||Ae["Private Use Area"](O)||Ae["CJK Compatibility Forms"](O)||Ae["Small Form Variants"](O)||Ae["Halfwidth and Fullwidth Forms"](O)||8734===O||8756===O||8757===O||O>=9984&&O<=10087||O>=10102&&O<=10131||65532===O||65533===O)}(O))}function sr(O){return Ae.Arabic(O)||Ae["Arabic Supplement"](O)||Ae["Arabic Extended-A"](O)||Ae["Arabic Presentation Forms-A"](O)||Ae["Arabic Presentation Forms-B"](O)}function fr(O){return O>=1424&&O<=2303||Ae["Arabic Presentation Forms-A"](O)||Ae["Arabic Presentation Forms-B"](O)}function zr(O,N){return!(!N&&fr(O)||O>=2304&&O<=3583||O>=3840&&O<=4255||Ae.Khmer(O))}function Fr(O){for(var N=0,W=O;N<W.length;N+=1)if(fr(W[N].charCodeAt(0)))return!0;return!1}var yn_deferred="deferred",yn_loading="loading",yn_loaded="loaded",yn_error="error",Hr=null,Wr="unavailable",qr=null,mn=function(O){O&&"string"==typeof O&&O.indexOf("NetworkError")>-1&&(Wr=yn_error),Hr&&Hr(O)};function rn(){on.fire(new Xt("pluginStateChange",{pluginStatus:Wr,pluginURL:qr}))}var on=new vr,ei=function(){return Wr},Di=function(){if(Wr!==yn_deferred||!qr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Wr=yn_loading,rn(),qr&&It({url:qr},function(O){O?mn(O):(Wr=yn_loaded,rn())})},Ii={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Wr===yn_loaded||null!=Ii.applyArabicShaping},isLoading:function(){return Wr===yn_loading},setState:function(N){Wr=N.pluginStatus,qr=N.pluginURL},isParsed:function(){return null!=Ii.applyArabicShaping&&null!=Ii.processBidirectionalText&&null!=Ii.processStyledBidirectionalText},getPluginURL:function(){return qr}},Gi=function(N,W){this.zoom=N,W?(this.now=W.now,this.fadeDuration=W.fadeDuration,this.zoomHistory=W.zoomHistory,this.transition=W.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new he,this.transition={})};Gi.prototype.isSupportedScript=function(N){return function fn(O,N){for(var W=0,ae=O;W<ae.length;W+=1)if(!zr(ae[W].charCodeAt(0),N))return!1;return!0}(N,Ii.isLoaded())},Gi.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Gi.prototype.getCrossfadeParameters=function(){var N=this.zoom,W=N-Math.floor(N),ae=this.crossFadingFactor();return N>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:W+(1-W)*ae}:{fromScale:.5,toScale:1,t:1-(1-ae)*W}};var _i=function(N,W){this.property=N,this.value=W,this.expression=function Zf(O,N){if(Ju(O))return new Eu(O,N);if(Wf(O)){var W=Qu(O,N);if("error"===W.result)throw new Error(W.value.map(function(me){return me.key+": "+me.message}).join(", "));return W.value}var ae=O;return"string"==typeof O&&"color"===N.type&&(ae=La.parse(O)),{kind:"constant",evaluate:function(){return ae}}}(void 0===W?N.specification.default:W,N.specification)};_i.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},_i.prototype.possiblyEvaluate=function(N,W,ae){return this.property.possiblyEvaluate(this,N,W,ae)};var ea=function(N){this.property=N,this.value=new _i(N,void 0)};ea.prototype.transitioned=function(N,W){return new co(this.property,this.value,W,u({},N.transition,this.transition),N.now)},ea.prototype.untransitioned=function(){return new co(this.property,this.value,null,{},0)};var Ta=function(N){this._properties=N,this._values=Object.create(N.defaultTransitionablePropertyValues)};Ta.prototype.getValue=function(N){return y(this._values[N].value.value)},Ta.prototype.setValue=function(N,W){this._values.hasOwnProperty(N)||(this._values[N]=new ea(this._values[N].property)),this._values[N].value=new _i(this._values[N].property,null===W?void 0:y(W))},Ta.prototype.getTransition=function(N){return y(this._values[N].transition)},Ta.prototype.setTransition=function(N,W){this._values.hasOwnProperty(N)||(this._values[N]=new ea(this._values[N].property)),this._values[N].transition=y(W)||void 0},Ta.prototype.serialize=function(){for(var N={},W=0,ae=Object.keys(this._values);W<ae.length;W+=1){var me=ae[W],Se=this.getValue(me);void 0!==Se&&(N[me]=Se);var Le=this.getTransition(me);void 0!==Le&&(N[me+"-transition"]=Le)}return N},Ta.prototype.transitioned=function(N,W){for(var ae=new Gn(this._properties),me=0,Se=Object.keys(this._values);me<Se.length;me+=1){var Le=Se[me];ae._values[Le]=this._values[Le].transitioned(N,W._values[Le])}return ae},Ta.prototype.untransitioned=function(){for(var N=new Gn(this._properties),W=0,ae=Object.keys(this._values);W<ae.length;W+=1){var me=ae[W];N._values[me]=this._values[me].untransitioned()}return N};var co=function(N,W,ae,me,Se){this.property=N,this.value=W,this.begin=Se+me.delay||0,this.end=this.begin+me.duration||0,N.specification.transition&&(me.delay||me.duration)&&(this.prior=ae)};co.prototype.possiblyEvaluate=function(N,W,ae){var me=N.now||0,Se=this.value.possiblyEvaluate(N,W,ae),Le=this.prior;if(Le){if(me>this.end)return this.prior=null,Se;if(this.value.isDataDriven())return this.prior=null,Se;if(me<this.begin)return Le.possiblyEvaluate(N,W,ae);var rt=(me-this.begin)/(this.end-this.begin);return this.property.interpolate(Le.possiblyEvaluate(N,W,ae),Se,function o(O){if(O<=0)return 0;if(O>=1)return 1;var N=O*O,W=N*O;return 4*(O<.5?W:3*(O-N)+W-.75)}(rt))}return Se};var Gn=function(N){this._properties=N,this._values=Object.create(N.defaultTransitioningPropertyValues)};Gn.prototype.possiblyEvaluate=function(N,W,ae){for(var me=new qi(this._properties),Se=0,Le=Object.keys(this._values);Se<Le.length;Se+=1){var rt=Le[Se];me._values[rt]=this._values[rt].possiblyEvaluate(N,W,ae)}return me},Gn.prototype.hasTransition=function(){for(var N=0,W=Object.keys(this._values);N<W.length;N+=1)if(this._values[W[N]].prior)return!0;return!1};var Kn=function(N){this._properties=N,this._values=Object.create(N.defaultPropertyValues)};Kn.prototype.getValue=function(N){return y(this._values[N].value)},Kn.prototype.setValue=function(N,W){this._values[N]=new _i(this._values[N].property,null===W?void 0:y(W))},Kn.prototype.serialize=function(){for(var N={},W=0,ae=Object.keys(this._values);W<ae.length;W+=1){var me=ae[W],Se=this.getValue(me);void 0!==Se&&(N[me]=Se)}return N},Kn.prototype.possiblyEvaluate=function(N,W,ae){for(var me=new qi(this._properties),Se=0,Le=Object.keys(this._values);Se<Le.length;Se+=1){var rt=Le[Se];me._values[rt]=this._values[rt].possiblyEvaluate(N,W,ae)}return me};var ta=function(N,W,ae){this.property=N,this.value=W,this.parameters=ae};ta.prototype.isConstant=function(){return"constant"===this.value.kind},ta.prototype.constantOr=function(N){return"constant"===this.value.kind?this.value.value:N},ta.prototype.evaluate=function(N,W,ae,me){return this.property.evaluate(this.value,this.parameters,N,W,ae,me)};var qi=function(N){this._properties=N,this._values=Object.create(N.defaultPossiblyEvaluatedValues)};qi.prototype.get=function(N){return this._values[N]};var ai=function(N){this.specification=N};ai.prototype.possiblyEvaluate=function(N,W){return N.expression.evaluate(W)},ai.prototype.interpolate=function(N,W,ae){var me=_u[this.specification.type];return me?me(N,W,ae):N};var Ni=function(N,W){this.specification=N,this.overrides=W};Ni.prototype.possiblyEvaluate=function(N,W,ae,me){return new ta(this,"constant"===N.expression.kind||"camera"===N.expression.kind?{kind:"constant",value:N.expression.evaluate(W,null,{},ae,me)}:N.expression,W)},Ni.prototype.interpolate=function(N,W,ae){if("constant"!==N.value.kind||"constant"!==W.value.kind)return N;if(void 0===N.value.value||void 0===W.value.value)return new ta(this,{kind:"constant",value:void 0},N.parameters);var me=_u[this.specification.type];return me?new ta(this,{kind:"constant",value:me(N.value.value,W.value.value,ae)},N.parameters):N},Ni.prototype.evaluate=function(N,W,ae,me,Se,Le){return"constant"===N.kind?N.value:N.evaluate(W,ae,me,Se,Le)};var ka=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.possiblyEvaluate=function(ae,me,Se,Le){if(void 0===ae.value)return new ta(this,{kind:"constant",value:void 0},me);if("constant"===ae.expression.kind){var rt=ae.expression.evaluate(me,null,{},Se,Le),Mt="resolvedImage"===ae.property.specification.type&&"string"!=typeof rt?rt.name:rt,Pt=this._calculate(Mt,Mt,Mt,me);return new ta(this,{kind:"constant",value:Pt},me)}if("camera"===ae.expression.kind){var Jt=this._calculate(ae.expression.evaluate({zoom:me.zoom-1}),ae.expression.evaluate({zoom:me.zoom}),ae.expression.evaluate({zoom:me.zoom+1}),me);return new ta(this,{kind:"constant",value:Jt},me)}return new ta(this,ae.expression,me)},N.prototype.evaluate=function(ae,me,Se,Le,rt,mt){if("source"===ae.kind){var Mt=ae.evaluate(me,Se,Le,rt,mt);return this._calculate(Mt,Mt,Mt,me)}return"composite"===ae.kind?this._calculate(ae.evaluate({zoom:Math.floor(me.zoom)-1},Se,Le),ae.evaluate({zoom:Math.floor(me.zoom)},Se,Le),ae.evaluate({zoom:Math.floor(me.zoom)+1},Se,Le),me):ae.value},N.prototype._calculate=function(ae,me,Se,Le){return Le.zoom>Le.zoomHistory.lastIntegerZoom?{from:ae,to:me}:{from:Se,to:me}},N.prototype.interpolate=function(ae){return ae},N}(Ni),za=function(N){this.specification=N};za.prototype.possiblyEvaluate=function(N,W,ae,me){if(void 0!==N.value){if("constant"===N.expression.kind){var Se=N.expression.evaluate(W,null,{},ae,me);return this._calculate(Se,Se,Se,W)}return this._calculate(N.expression.evaluate(new Gi(Math.floor(W.zoom-1),W)),N.expression.evaluate(new Gi(Math.floor(W.zoom),W)),N.expression.evaluate(new Gi(Math.floor(W.zoom+1),W)),W)}},za.prototype._calculate=function(N,W,ae,me){return me.zoom>me.zoomHistory.lastIntegerZoom?{from:N,to:W}:{from:ae,to:W}},za.prototype.interpolate=function(N){return N};var ho=function(N){this.specification=N};ho.prototype.possiblyEvaluate=function(N,W,ae,me){return!!N.expression.evaluate(W,null,{},ae,me)},ho.prototype.interpolate=function(){return!1};var Ba=function(N){for(var W in this.properties=N,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],N){var ae=N[W];ae.specification.overridable&&this.overridableProperties.push(W);var me=this.defaultPropertyValues[W]=new _i(ae,void 0),Se=this.defaultTransitionablePropertyValues[W]=new ea(ae);this.defaultTransitioningPropertyValues[W]=Se.untransitioned(),this.defaultPossiblyEvaluatedValues[W]=me.possiblyEvaluate({})}};Ci("DataDrivenProperty",Ni),Ci("DataConstantProperty",ai),Ci("CrossFadedDataDrivenProperty",ka),Ci("CrossFadedProperty",za),Ci("ColorRampProperty",ho);var zo="-transition",Bo=function(O){function N(W,ae){if(O.call(this),this.id=W.id,this.type=W.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==W.type&&(this.metadata=W.metadata,this.minzoom=W.minzoom,this.maxzoom=W.maxzoom,"background"!==W.type&&(this.source=W.source,this.sourceLayer=W["source-layer"],this.filter=W.filter),ae.layout&&(this._unevaluatedLayout=new Kn(ae.layout)),ae.paint)){for(var me in this._transitionablePaint=new Ta(ae.paint),W.paint)this.setPaintProperty(me,W.paint[me],{validate:!1});for(var Se in W.layout)this.setLayoutProperty(Se,W.layout[Se],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new qi(ae.paint)}}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},N.prototype.getLayoutProperty=function(ae){return"visibility"===ae?this.visibility:this._unevaluatedLayout.getValue(ae)},N.prototype.setLayoutProperty=function(ae,me,Se){void 0===Se&&(Se={}),null!=me&&this._validate(ti,"layers."+this.id+".layout."+ae,ae,me,Se)||("visibility"!==ae?this._unevaluatedLayout.setValue(ae,me):this.visibility=me)},N.prototype.getPaintProperty=function(ae){return M(ae,zo)?this._transitionablePaint.getTransition(ae.slice(0,-11)):this._transitionablePaint.getValue(ae)},N.prototype.setPaintProperty=function(ae,me,Se){if(void 0===Se&&(Se={}),null!=me&&this._validate(Pn,"layers."+this.id+".paint."+ae,ae,me,Se))return!1;if(M(ae,zo))return this._transitionablePaint.setTransition(ae.slice(0,-11),me||void 0),!1;var rt=this._transitionablePaint._values[ae],mt="cross-faded-data-driven"===rt.property.specification["property-type"],Mt=rt.value.isDataDriven(),Pt=rt.value;this._transitionablePaint.setValue(ae,me),this._handleSpecialPaintPropertyUpdate(ae);var Jt=this._transitionablePaint._values[ae].value;return Jt.isDataDriven()||Mt||mt||this._handleOverridablePaintPropertyUpdate(ae,Pt,Jt)},N.prototype._handleSpecialPaintPropertyUpdate=function(ae){},N.prototype._handleOverridablePaintPropertyUpdate=function(ae,me,Se){return!1},N.prototype.isHidden=function(ae){return!!(this.minzoom&&ae<this.minzoom||this.maxzoom&&ae>=this.maxzoom)||"none"===this.visibility},N.prototype.updateTransitions=function(ae){this._transitioningPaint=this._transitionablePaint.transitioned(ae,this._transitioningPaint)},N.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},N.prototype.recalculate=function(ae,me){ae.getCrossfadeParameters&&(this._crossfadeParameters=ae.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ae,void 0,me)),this.paint=this._transitioningPaint.possiblyEvaluate(ae,void 0,me)},N.prototype.serialize=function(){var ae={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ae.layout=ae.layout||{},ae.layout.visibility=this.visibility),D(ae,function(me,Se){return!(void 0===me||"layout"===Se&&!Object.keys(me).length||"paint"===Se&&!Object.keys(me).length)})},N.prototype._validate=function(ae,me,Se,Le,rt){return void 0===rt&&(rt={}),(!rt||!1!==rt.validate)&&Si(this,ae.call(sn,{key:me,layerType:this.type,objectKey:Se,value:Le,styleSpec:qt,style:{glyphs:!0,sprite:!0}}))},N.prototype.is3D=function(){return!1},N.prototype.isTileClipped=function(){return!1},N.prototype.hasOffscreenPass=function(){return!1},N.prototype.resize=function(){},N.prototype.isStateDependent=function(){for(var ae in this.paint._values){var me=this.paint.get(ae);if(me instanceof ta&&Zl(me.property.specification)&&("source"===me.value.kind||"composite"===me.value.kind)&&me.value.isStateDependent)return!0}return!1},N}(vr),Jo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ya=function(N,W){this._structArray=N,this._pos1=W*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ga=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function xa(O,N){void 0===N&&(N=1);var W=0,ae=0;return{members:O.map(function(Le){var rt=function Ll(O){return Jo[O].BYTES_PER_ELEMENT}(Le.type),mt=W=$s(W,Math.max(N,rt)),Mt=Le.components||1;return ae=Math.max(ae,rt),W+=rt*Mt,{name:Le.name,type:Le.type,components:Mt,offset:mt}}),size:$s(W,Math.max(ae,N)),alignment:N}}function $s(O,N){return Math.ceil(O/N)*N}ga.serialize=function(N,W){return N._trim(),W&&(N.isTransferred=!0,W.push(N.arrayBuffer)),{length:N.length,arrayBuffer:N.arrayBuffer}},ga.deserialize=function(N){var W=Object.create(this.prototype);return W.arrayBuffer=N.arrayBuffer,W.length=N.length,W.capacity=N.arrayBuffer.byteLength/W.bytesPerElement,W._refreshViews(),W},ga.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ga.prototype.clear=function(){this.length=0},ga.prototype.resize=function(N){this.reserve(N),this.length=N},ga.prototype.reserve=function(N){if(N>this.capacity){this.capacity=Math.max(N,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var W=this.uint8;this._refreshViews(),W&&this.uint8.set(W)}},ga.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Is=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ae,me)},N.prototype.emplace=function(ae,me,Se){var Le=2*ae;return this.int16[Le+0]=me,this.int16[Le+1]=Se,ae},N}(ga);Is.prototype.bytesPerElement=4,Ci("StructArrayLayout2i4",Is);var cl=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se,Le){var rt=this.length;return this.resize(rt+1),this.emplace(rt,ae,me,Se,Le)},N.prototype.emplace=function(ae,me,Se,Le,rt){var mt=4*ae;return this.int16[mt+0]=me,this.int16[mt+1]=Se,this.int16[mt+2]=Le,this.int16[mt+3]=rt,ae},N}(ga);cl.prototype.bytesPerElement=8,Ci("StructArrayLayout4i8",cl);var Qs=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se,Le,rt,mt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ae,me,Se,Le,rt,mt)},N.prototype.emplace=function(ae,me,Se,Le,rt,mt,Mt){var Pt=6*ae;return this.int16[Pt+0]=me,this.int16[Pt+1]=Se,this.int16[Pt+2]=Le,this.int16[Pt+3]=rt,this.int16[Pt+4]=mt,this.int16[Pt+5]=Mt,ae},N}(ga);Qs.prototype.bytesPerElement=12,Ci("StructArrayLayout2i4i12",Qs);var hl=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se,Le,rt,mt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ae,me,Se,Le,rt,mt)},N.prototype.emplace=function(ae,me,Se,Le,rt,mt,Mt){var Pt=4*ae,Jt=8*ae;return this.int16[Pt+0]=me,this.int16[Pt+1]=Se,this.uint8[Jt+4]=Le,this.uint8[Jt+5]=rt,this.uint8[Jt+6]=mt,this.uint8[Jt+7]=Mt,ae},N}(ga);hl.prototype.bytesPerElement=8,Ci("StructArrayLayout2i4ub8",hl);var ns=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr){var lr=this.length;return this.resize(lr+1),this.emplace(lr,ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr)},N.prototype.emplace=function(ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr,lr){var Dr=9*ae,Zr=18*ae;return this.uint16[Dr+0]=me,this.uint16[Dr+1]=Se,this.uint16[Dr+2]=Le,this.uint16[Dr+3]=rt,this.uint16[Dr+4]=mt,this.uint16[Dr+5]=Mt,this.uint16[Dr+6]=Pt,this.uint16[Dr+7]=Jt,this.uint8[Zr+16]=cr,this.uint8[Zr+17]=lr,ae},N}(ga);ns.prototype.bytesPerElement=18,Ci("StructArrayLayout8ui2ub18",ns);var Xl=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr,lr,Dr){var Zr=this.length;return this.resize(Zr+1),this.emplace(Zr,ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr,lr,Dr)},N.prototype.emplace=function(ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr,lr,Dr,Zr){var xn=12*ae;return this.int16[xn+0]=me,this.int16[xn+1]=Se,this.int16[xn+2]=Le,this.int16[xn+3]=rt,this.uint16[xn+4]=mt,this.uint16[xn+5]=Mt,this.uint16[xn+6]=Pt,this.uint16[xn+7]=Jt,this.int16[xn+8]=cr,this.int16[xn+9]=lr,this.int16[xn+10]=Dr,this.int16[xn+11]=Zr,ae},N}(ga);Xl.prototype.bytesPerElement=24,Ci("StructArrayLayout4i4ui4i24",Xl);var Vd=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se){var Le=this.length;return this.resize(Le+1),this.emplace(Le,ae,me,Se)},N.prototype.emplace=function(ae,me,Se,Le){var rt=3*ae;return this.float32[rt+0]=me,this.float32[rt+1]=Se,this.float32[rt+2]=Le,ae},N}(ga);Vd.prototype.bytesPerElement=12,Ci("StructArrayLayout3f12",Vd);var ed=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae){var me=this.length;return this.resize(me+1),this.emplace(me,ae)},N.prototype.emplace=function(ae,me){return this.uint32[1*ae+0]=me,ae},N}(ga);ed.prototype.bytesPerElement=4,Ci("StructArrayLayout1ul4",ed);var Tc=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se,Le,rt,mt,Mt,Pt,Jt){var cr=this.length;return this.resize(cr+1),this.emplace(cr,ae,me,Se,Le,rt,mt,Mt,Pt,Jt)},N.prototype.emplace=function(ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr){var lr=10*ae,Dr=5*ae;return this.int16[lr+0]=me,this.int16[lr+1]=Se,this.int16[lr+2]=Le,this.int16[lr+3]=rt,this.int16[lr+4]=mt,this.int16[lr+5]=Mt,this.uint32[Dr+3]=Pt,this.uint16[lr+8]=Jt,this.uint16[lr+9]=cr,ae},N}(ga);Tc.prototype.bytesPerElement=20,Ci("StructArrayLayout6i1ul2ui20",Tc);var Dh=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se,Le,rt,mt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ae,me,Se,Le,rt,mt)},N.prototype.emplace=function(ae,me,Se,Le,rt,mt,Mt){var Pt=6*ae;return this.int16[Pt+0]=me,this.int16[Pt+1]=Se,this.int16[Pt+2]=Le,this.int16[Pt+3]=rt,this.int16[Pt+4]=mt,this.int16[Pt+5]=Mt,ae},N}(ga);Dh.prototype.bytesPerElement=12,Ci("StructArrayLayout2i2i2i12",Dh);var ef=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se,Le,rt){var mt=this.length;return this.resize(mt+1),this.emplace(mt,ae,me,Se,Le,rt)},N.prototype.emplace=function(ae,me,Se,Le,rt,mt){var Mt=4*ae,Pt=8*ae;return this.float32[Mt+0]=me,this.float32[Mt+1]=Se,this.float32[Mt+2]=Le,this.int16[Pt+6]=rt,this.int16[Pt+7]=mt,ae},N}(ga);ef.prototype.bytesPerElement=16,Ci("StructArrayLayout2f1f2i16",ef);var dl=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se,Le){var rt=this.length;return this.resize(rt+1),this.emplace(rt,ae,me,Se,Le)},N.prototype.emplace=function(ae,me,Se,Le,rt){var mt=12*ae,Mt=3*ae;return this.uint8[mt+0]=me,this.uint8[mt+1]=Se,this.float32[Mt+1]=Le,this.float32[Mt+2]=rt,ae},N}(ga);dl.prototype.bytesPerElement=12,Ci("StructArrayLayout2ub2f12",dl);var tf=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se){var Le=this.length;return this.resize(Le+1),this.emplace(Le,ae,me,Se)},N.prototype.emplace=function(ae,me,Se,Le){var rt=3*ae;return this.uint16[rt+0]=me,this.uint16[rt+1]=Se,this.uint16[rt+2]=Le,ae},N}(ga);tf.prototype.bytesPerElement=6,Ci("StructArrayLayout3ui6",tf);var Ac=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr,lr,Dr,Zr,xn,hn,On,Ln){var kn=this.length;return this.resize(kn+1),this.emplace(kn,ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr,lr,Dr,Zr,xn,hn,On,Ln)},N.prototype.emplace=function(ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr,lr,Dr,Zr,xn,hn,On,Ln,kn){var Hn=24*ae,ri=12*ae,xi=48*ae;return this.int16[Hn+0]=me,this.int16[Hn+1]=Se,this.uint16[Hn+2]=Le,this.uint16[Hn+3]=rt,this.uint32[ri+2]=mt,this.uint32[ri+3]=Mt,this.uint32[ri+4]=Pt,this.uint16[Hn+10]=Jt,this.uint16[Hn+11]=cr,this.uint16[Hn+12]=lr,this.float32[ri+7]=Dr,this.float32[ri+8]=Zr,this.uint8[xi+36]=xn,this.uint8[xi+37]=hn,this.uint8[xi+38]=On,this.uint32[ri+10]=Ln,this.int16[Hn+22]=kn,ae},N}(ga);Ac.prototype.bytesPerElement=48,Ci("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ac);var td=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr,lr,Dr,Zr,xn,hn,On,Ln,kn,Hn,ri,xi,di,Bi,Li,Ui,ua,Hi,Wi){var pa=this.length;return this.resize(pa+1),this.emplace(pa,ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr,lr,Dr,Zr,xn,hn,On,Ln,kn,Hn,ri,xi,di,Bi,Li,Ui,ua,Hi,Wi)},N.prototype.emplace=function(ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr,lr,Dr,Zr,xn,hn,On,Ln,kn,Hn,ri,xi,di,Bi,Li,Ui,ua,Hi,Wi,pa){var aa=34*ae,Ea=17*ae;return this.int16[aa+0]=me,this.int16[aa+1]=Se,this.int16[aa+2]=Le,this.int16[aa+3]=rt,this.int16[aa+4]=mt,this.int16[aa+5]=Mt,this.int16[aa+6]=Pt,this.int16[aa+7]=Jt,this.uint16[aa+8]=cr,this.uint16[aa+9]=lr,this.uint16[aa+10]=Dr,this.uint16[aa+11]=Zr,this.uint16[aa+12]=xn,this.uint16[aa+13]=hn,this.uint16[aa+14]=On,this.uint16[aa+15]=Ln,this.uint16[aa+16]=kn,this.uint16[aa+17]=Hn,this.uint16[aa+18]=ri,this.uint16[aa+19]=xi,this.uint16[aa+20]=di,this.uint16[aa+21]=Bi,this.uint16[aa+22]=Li,this.uint32[Ea+12]=Ui,this.float32[Ea+13]=ua,this.float32[Ea+14]=Hi,this.float32[Ea+15]=Wi,this.float32[Ea+16]=pa,ae},N}(ga);td.prototype.bytesPerElement=68,Ci("StructArrayLayout8i15ui1ul4f68",td);var Jc=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae){var me=this.length;return this.resize(me+1),this.emplace(me,ae)},N.prototype.emplace=function(ae,me){return this.float32[1*ae+0]=me,ae},N}(ga);Jc.prototype.bytesPerElement=4,Ci("StructArrayLayout1f4",Jc);var Gs=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se){var Le=this.length;return this.resize(Le+1),this.emplace(Le,ae,me,Se)},N.prototype.emplace=function(ae,me,Se,Le){var rt=3*ae;return this.int16[rt+0]=me,this.int16[rt+1]=Se,this.int16[rt+2]=Le,ae},N}(ga);Gs.prototype.bytesPerElement=6,Ci("StructArrayLayout3i6",Gs);var Il=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se){var Le=this.length;return this.resize(Le+1),this.emplace(Le,ae,me,Se)},N.prototype.emplace=function(ae,me,Se,Le){var mt=4*ae;return this.uint32[2*ae+0]=me,this.uint16[mt+2]=Se,this.uint16[mt+3]=Le,ae},N}(ga);Il.prototype.bytesPerElement=8,Ci("StructArrayLayout1ul2ui8",Il);var mo=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ae,me)},N.prototype.emplace=function(ae,me,Se){var Le=2*ae;return this.uint16[Le+0]=me,this.uint16[Le+1]=Se,ae},N}(ga);mo.prototype.bytesPerElement=4,Ci("StructArrayLayout2ui4",mo);var $f=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae){var me=this.length;return this.resize(me+1),this.emplace(me,ae)},N.prototype.emplace=function(ae,me){return this.uint16[1*ae+0]=me,ae},N}(ga);$f.prototype.bytesPerElement=2,Ci("StructArrayLayout1ui2",$f);var Qf=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me){var Se=this.length;return this.resize(Se+1),this.emplace(Se,ae,me)},N.prototype.emplace=function(ae,me,Se){var Le=2*ae;return this.float32[Le+0]=me,this.float32[Le+1]=Se,ae},N}(ga);Qf.prototype.bytesPerElement=8,Ci("StructArrayLayout2f8",Qf);var rd=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},N.prototype.emplaceBack=function(ae,me,Se,Le){var rt=this.length;return this.resize(rt+1),this.emplace(rt,ae,me,Se,Le)},N.prototype.emplace=function(ae,me,Se,Le,rt){var mt=4*ae;return this.float32[mt+0]=me,this.float32[mt+1]=Se,this.float32[mt+2]=Le,this.float32[mt+3]=rt,ae},N}(ga);rd.prototype.bytesPerElement=16,Ci("StructArrayLayout4f16",rd);var Bv=function(O){function N(){O.apply(this,arguments)}O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N;var W={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return W.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},W.x1.get=function(){return this._structArray.int16[this._pos2+2]},W.y1.get=function(){return this._structArray.int16[this._pos2+3]},W.x2.get=function(){return this._structArray.int16[this._pos2+4]},W.y2.get=function(){return this._structArray.int16[this._pos2+5]},W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(N.prototype,W),N}(ya);Bv.prototype.size=20;var mf=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.get=function(ae){return new Bv(this,ae)},N}(Tc);Ci("CollisionBoxArray",mf);var nd=function(O){function N(){O.apply(this,arguments)}O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},W.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},W.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},W.segment.get=function(){return this._structArray.uint16[this._pos2+10]},W.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},W.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},W.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},W.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},W.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},W.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},W.placedOrientation.set=function(ae){this._structArray.uint8[this._pos1+37]=ae},W.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},W.hidden.set=function(ae){this._structArray.uint8[this._pos1+38]=ae},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},W.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+10]=ae},W.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(N.prototype,W),N}(ya);nd.prototype.size=48;var xf=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.get=function(ae){return new nd(this,ae)},N}(Ac);Ci("PlacedSymbolArray",xf);var bf=function(O){function N(){O.apply(this,arguments)}O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},W.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},W.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},W.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},W.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},W.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},W.key.get=function(){return this._structArray.uint16[this._pos2+8]},W.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},W.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},W.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},W.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},W.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},W.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},W.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},W.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},W.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},W.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},W.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},W.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},W.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},W.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+12]=ae},W.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},W.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},W.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},W.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(N.prototype,W),N}(ya);bf.prototype.size=68;var Uv=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.get=function(ae){return new bf(this,ae)},N}(td);Ci("SymbolInstanceArray",Uv);var Pl=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.getoffsetX=function(ae){return this.float32[1*ae+0]},N}(Jc);Ci("GlyphOffsetArray",Pl);var Lh=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.getx=function(ae){return this.int16[3*ae+0]},N.prototype.gety=function(ae){return this.int16[3*ae+1]},N.prototype.gettileUnitDistanceFromAnchor=function(ae){return this.int16[3*ae+2]},N}(Gs);Ci("SymbolLineVertexArray",Lh);var Ih=function(O){function N(){O.apply(this,arguments)}O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N;var W={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(N.prototype,W),N}(ya);Ih.prototype.size=8;var Ph=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.get=function(ae){return new Ih(this,ae)},N}(Il);Ci("FeatureIndexArray",Ph);var ve=xa([{name:"a_pos",components:2,type:"Int16"}],4).members,X=function(N){void 0===N&&(N=[]),this.segments=N};function xe(O,N){return 256*(O=d(Math.floor(O),0,255))+d(Math.floor(N),0,255)}X.prototype.prepareSegment=function(N,W,ae,me){var Se=this.segments[this.segments.length-1];return N>X.MAX_VERTEX_ARRAY_LENGTH&&_("Max vertices per segment is "+X.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+N),(!Se||Se.vertexLength+N>X.MAX_VERTEX_ARRAY_LENGTH||Se.sortKey!==me)&&(Se={vertexOffset:W.length,primitiveOffset:ae.length,vertexLength:0,primitiveLength:0},void 0!==me&&(Se.sortKey=me),this.segments.push(Se)),Se},X.prototype.get=function(){return this.segments},X.prototype.destroy=function(){for(var N=0,W=this.segments;N<W.length;N+=1){var ae=W[N];for(var me in ae.vaos)ae.vaos[me].destroy()}},X.simpleSegment=function(N,W,ae,me){return new X([{vertexOffset:N,primitiveOffset:W,vertexLength:ae,primitiveLength:me,vaos:{},sortKey:0}])},X.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ci("SegmentVector",X);var ne=xa([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),be=R(function(O){O.exports=function N(W,ae){var me,Se,Le,rt,mt,Mt,Pt,Jt;for(Se=W.length-(me=3&W.length),Le=ae,mt=3432918353,Mt=461845907,Jt=0;Jt<Se;)Pt=255&W.charCodeAt(Jt)|(255&W.charCodeAt(++Jt))<<8|(255&W.charCodeAt(++Jt))<<16|(255&W.charCodeAt(++Jt))<<24,++Jt,Le=27492+(65535&(rt=5*(65535&(Le=(Le^=Pt=(65535&(Pt=(Pt=(65535&Pt)*mt+(((Pt>>>16)*mt&65535)<<16)&4294967295)<<15|Pt>>>17))*Mt+(((Pt>>>16)*Mt&65535)<<16)&4294967295)<<13|Le>>>19))+((5*(Le>>>16)&65535)<<16)&4294967295))+((58964+(rt>>>16)&65535)<<16);switch(Pt=0,me){case 3:Pt^=(255&W.charCodeAt(Jt+2))<<16;case 2:Pt^=(255&W.charCodeAt(Jt+1))<<8;case 1:Le^=Pt=(65535&(Pt=(Pt=(65535&(Pt^=255&W.charCodeAt(Jt)))*mt+(((Pt>>>16)*mt&65535)<<16)&4294967295)<<15|Pt>>>17))*Mt+(((Pt>>>16)*Mt&65535)<<16)&4294967295}return Le^=W.length,Le=2246822507*(65535&(Le^=Le>>>16))+((2246822507*(Le>>>16)&65535)<<16)&4294967295,Le=3266489909*(65535&(Le^=Le>>>13))+((3266489909*(Le>>>16)&65535)<<16)&4294967295,(Le^=Le>>>16)>>>0}}),Oe=R(function(O){O.exports=function N(W,ae){for(var rt,me=W.length,Se=ae^me,Le=0;me>=4;)rt=1540483477*(65535&(rt=255&W.charCodeAt(Le)|(255&W.charCodeAt(++Le))<<8|(255&W.charCodeAt(++Le))<<16|(255&W.charCodeAt(++Le))<<24))+((1540483477*(rt>>>16)&65535)<<16),Se=1540483477*(65535&Se)+((1540483477*(Se>>>16)&65535)<<16)^(rt=1540483477*(65535&(rt^=rt>>>24))+((1540483477*(rt>>>16)&65535)<<16)),me-=4,++Le;switch(me){case 3:Se^=(255&W.charCodeAt(Le+2))<<16;case 2:Se^=(255&W.charCodeAt(Le+1))<<8;case 1:Se=1540483477*(65535&(Se^=255&W.charCodeAt(Le)))+((1540483477*(Se>>>16)&65535)<<16)}return Se=1540483477*(65535&(Se^=Se>>>13))+((1540483477*(Se>>>16)&65535)<<16),(Se^=Se>>>15)>>>0}}),qe=be,Et=Oe;qe.murmur3=be,qe.murmur2=Et;var Zt=function(){this.ids=[],this.positions=[],this.indexed=!1};Zt.prototype.add=function(N,W,ae,me){this.ids.push(yr(N)),this.positions.push(W,ae,me)},Zt.prototype.getPositions=function(N){for(var W=yr(N),ae=0,me=this.ids.length-1;ae<me;){var Se=ae+me>>1;this.ids[Se]>=W?me=Se:ae=Se+1}for(var Le=[];this.ids[ae]===W;)Le.push({index:this.positions[3*ae],start:this.positions[3*ae+1],end:this.positions[3*ae+2]}),ae++;return Le},Zt.serialize=function(N,W){var ae=new Float64Array(N.ids),me=new Uint32Array(N.positions);return Er(ae,me,0,ae.length-1),W&&W.push(ae.buffer,me.buffer),{ids:ae,positions:me}},Zt.deserialize=function(N){var W=new Zt;return W.ids=N.ids,W.positions=N.positions,W.indexed=!0,W};var ar=Math.pow(2,53)-1;function yr(O){var N=+O;return!isNaN(N)&&N<=ar?N:qe(String(O))}function Er(O,N,W,ae){for(;W<ae;){for(var me=O[W+ae>>1],Se=W-1,Le=ae+1;;){do{Se++}while(O[Se]<me);do{Le--}while(O[Le]>me);if(Se>=Le)break;Vr(O,Se,Le),Vr(N,3*Se,3*Le),Vr(N,3*Se+1,3*Le+1),Vr(N,3*Se+2,3*Le+2)}Le-W<ae-Le?(Er(O,N,W,Le),W=Le+1):(Er(O,N,Le+1,ae),ae=Le)}}function Vr(O,N,W){var ae=O[N];O[N]=O[W],O[W]=ae}Ci("FeaturePositionMap",Zt);var nn=function(N,W){this.gl=N.gl,this.location=W},tn=function(O){function N(W,ae){O.call(this,W,ae),this.current=0}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1i(this.location,ae))},N}(nn),Jr=function(O){function N(W,ae){O.call(this,W,ae),this.current=0}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1f(this.location,ae))},N}(nn),ln=function(O){function N(W,ae){O.call(this,W,ae),this.current=[0,0]}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1])&&(this.current=ae,this.gl.uniform2f(this.location,ae[0],ae[1]))},N}(nn),wn=function(O){function N(W,ae){O.call(this,W,ae),this.current=[0,0,0]}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2])&&(this.current=ae,this.gl.uniform3f(this.location,ae[0],ae[1],ae[2]))},N}(nn),Un=function(O){function N(W,ae){O.call(this,W,ae),this.current=[0,0,0,0]}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2]||ae[3]!==this.current[3])&&(this.current=ae,this.gl.uniform4f(this.location,ae[0],ae[1],ae[2],ae[3]))},N}(nn),jn=function(O){function N(W,ae){O.call(this,W,ae),this.current=La.transparent}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.set=function(ae){(ae.r!==this.current.r||ae.g!==this.current.g||ae.b!==this.current.b||ae.a!==this.current.a)&&(this.current=ae,this.gl.uniform4f(this.location,ae.r,ae.g,ae.b,ae.a))},N}(nn),ui=new Float32Array(16),ni=function(O){function N(W,ae){O.call(this,W,ae),this.current=ui}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.set=function(ae){if(ae[12]!==this.current[12]||ae[0]!==this.current[0])return this.current=ae,void this.gl.uniformMatrix4fv(this.location,!1,ae);for(var me=1;me<16;me++)if(ae[me]!==this.current[me]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);break}},N}(nn);function ci(O){return[xe(255*O.r,255*O.g),xe(255*O.b,255*O.a)]}var Ai=function(N,W,ae){this.value=N,this.uniformNames=W.map(function(me){return"u_"+me}),this.type=ae};Ai.prototype.setUniform=function(N,W,ae){N.set(ae.constantOr(this.value))},Ai.prototype.getBinding=function(N,W,ae){return"color"===this.type?new jn(N,W):new Jr(N,W)};var Pi=function(N,W){this.uniformNames=W.map(function(ae){return"u_"+ae}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Pi.prototype.setConstantPatternPositions=function(N,W){this.pixelRatioFrom=W.pixelRatio,this.pixelRatioTo=N.pixelRatio,this.patternFrom=W.tlbr,this.patternTo=N.tlbr},Pi.prototype.setUniform=function(N,W,ae,me){var Se="u_pattern_to"===me?this.patternTo:"u_pattern_from"===me?this.patternFrom:"u_pixel_ratio_to"===me?this.pixelRatioTo:"u_pixel_ratio_from"===me?this.pixelRatioFrom:null;Se&&N.set(Se)},Pi.prototype.getBinding=function(N,W,ae){return"u_pattern"===ae.substr(0,9)?new Un(N,W):new Jr(N,W)};var Ri=function(N,W,ae,me){this.expression=N,this.type=ae,this.maxValue=0,this.paintVertexAttributes=W.map(function(Se){return{name:"a_"+Se,type:"Float32",components:"color"===ae?2:1,offset:0}}),this.paintVertexArray=new me};Ri.prototype.populatePaintArray=function(N,W,ae,me,Se){var Le=this.paintVertexArray.length,rt=this.expression.evaluate(new Gi(0),W,{},me,[],Se);this.paintVertexArray.resize(N),this._setPaintValue(Le,N,rt)},Ri.prototype.updatePaintArray=function(N,W,ae,me){var Se=this.expression.evaluate({zoom:0},ae,me);this._setPaintValue(N,W,Se)},Ri.prototype._setPaintValue=function(N,W,ae){if("color"===this.type)for(var me=ci(ae),Se=N;Se<W;Se++)this.paintVertexArray.emplace(Se,me[0],me[1]);else{for(var Le=N;Le<W;Le++)this.paintVertexArray.emplace(Le,ae);this.maxValue=Math.max(this.maxValue,Math.abs(ae))}},Ri.prototype.upload=function(N){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=N.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ri.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Oi=function(N,W,ae,me,Se,Le){this.expression=N,this.uniformNames=W.map(function(rt){return"u_"+rt+"_t"}),this.type=ae,this.useIntegerZoom=me,this.zoom=Se,this.maxValue=0,this.paintVertexAttributes=W.map(function(rt){return{name:"a_"+rt,type:"Float32",components:"color"===ae?4:2,offset:0}}),this.paintVertexArray=new Le};Oi.prototype.populatePaintArray=function(N,W,ae,me,Se){var Le=this.expression.evaluate(new Gi(this.zoom),W,{},me,[],Se),rt=this.expression.evaluate(new Gi(this.zoom+1),W,{},me,[],Se),mt=this.paintVertexArray.length;this.paintVertexArray.resize(N),this._setPaintValue(mt,N,Le,rt)},Oi.prototype.updatePaintArray=function(N,W,ae,me){var Se=this.expression.evaluate({zoom:this.zoom},ae,me),Le=this.expression.evaluate({zoom:this.zoom+1},ae,me);this._setPaintValue(N,W,Se,Le)},Oi.prototype._setPaintValue=function(N,W,ae,me){if("color"===this.type)for(var Se=ci(ae),Le=ci(me),rt=N;rt<W;rt++)this.paintVertexArray.emplace(rt,Se[0],Se[1],Le[0],Le[1]);else{for(var mt=N;mt<W;mt++)this.paintVertexArray.emplace(mt,ae,me);this.maxValue=Math.max(this.maxValue,Math.abs(ae),Math.abs(me))}},Oi.prototype.upload=function(N){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=N.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Oi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Oi.prototype.setUniform=function(N,W){var ae=this.useIntegerZoom?Math.floor(W.zoom):W.zoom,me=d(this.expression.interpolationFactor(ae,this.zoom,this.zoom+1),0,1);N.set(me)},Oi.prototype.getBinding=function(N,W,ae){return new Jr(N,W)};var Vi=function(N,W,ae,me,Se,Le){this.expression=N,this.type=W,this.useIntegerZoom=ae,this.zoom=me,this.layerId=Le,this.zoomInPaintVertexArray=new Se,this.zoomOutPaintVertexArray=new Se};Vi.prototype.populatePaintArray=function(N,W,ae){var me=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(N),this.zoomOutPaintVertexArray.resize(N),this._setPaintValues(me,N,W.patterns&&W.patterns[this.layerId],ae)},Vi.prototype.updatePaintArray=function(N,W,ae,me,Se){this._setPaintValues(N,W,ae.patterns&&ae.patterns[this.layerId],Se)},Vi.prototype._setPaintValues=function(N,W,ae,me){if(me&&ae){var mt=me[ae.min],Mt=me[ae.mid],Pt=me[ae.max];if(mt&&Mt&&Pt)for(var Jt=N;Jt<W;Jt++)this.zoomInPaintVertexArray.emplace(Jt,Mt.tl[0],Mt.tl[1],Mt.br[0],Mt.br[1],mt.tl[0],mt.tl[1],mt.br[0],mt.br[1],Mt.pixelRatio,mt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Jt,Mt.tl[0],Mt.tl[1],Mt.br[0],Mt.br[1],Pt.tl[0],Pt.tl[1],Pt.br[0],Pt.br[1],Mt.pixelRatio,Pt.pixelRatio)}},Vi.prototype.upload=function(N){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=N.createVertexBuffer(this.zoomInPaintVertexArray,ne.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=N.createVertexBuffer(this.zoomOutPaintVertexArray,ne.members,this.expression.isStateDependent))},Vi.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ra=function(N,W,ae,me){this.binders={},this.layoutAttributes=me,this._buffers=[];var Se=[];for(var Le in N.paint._values)if(ae(Le)){var rt=N.paint.get(Le);if(rt instanceof ta&&Zl(rt.property.specification)){var mt=Oa(Le,N.type),Mt=rt.value,Pt=rt.property.specification.type,Jt=rt.property.useIntegerZoom,cr=rt.property.specification["property-type"],lr="cross-faded"===cr||"cross-faded-data-driven"===cr;if("constant"===Mt.kind)this.binders[Le]=lr?new Pi(Mt.value,mt):new Ai(Mt.value,mt,Pt),Se.push("/u_"+Le);else if("source"===Mt.kind||lr){var Dr=Aa(Le,Pt,"source");this.binders[Le]=lr?new Vi(Mt,Pt,Jt,W,Dr,N.id):new Ri(Mt,mt,Pt,Dr),Se.push("/a_"+Le)}else{var Zr=Aa(Le,Pt,"composite");this.binders[Le]=new Oi(Mt,mt,Pt,Jt,W,Zr),Se.push("/z_"+Le)}}}this.cacheKey=Se.sort().join("")};ra.prototype.getMaxValue=function(N){var W=this.binders[N];return W instanceof Ri||W instanceof Oi?W.maxValue:0},ra.prototype.populatePaintArrays=function(N,W,ae,me,Se){for(var Le in this.binders){var rt=this.binders[Le];(rt instanceof Ri||rt instanceof Oi||rt instanceof Vi)&&rt.populatePaintArray(N,W,ae,me,Se)}},ra.prototype.setConstantPatternPositions=function(N,W){for(var ae in this.binders){var me=this.binders[ae];me instanceof Pi&&me.setConstantPatternPositions(N,W)}},ra.prototype.updatePaintArrays=function(N,W,ae,me,Se){var Le=!1;for(var rt in N)for(var Mt=0,Pt=W.getPositions(rt);Mt<Pt.length;Mt+=1){var Jt=Pt[Mt],cr=ae.feature(Jt.index);for(var lr in this.binders){var Dr=this.binders[lr];if((Dr instanceof Ri||Dr instanceof Oi||Dr instanceof Vi)&&!0===Dr.expression.isStateDependent){var Zr=me.paint.get(lr);Dr.expression=Zr.value,Dr.updatePaintArray(Jt.start,Jt.end,cr,N[rt],Se),Le=!0}}}return Le},ra.prototype.defines=function(){var N=[];for(var W in this.binders){var ae=this.binders[W];(ae instanceof Ai||ae instanceof Pi)&&N.push.apply(N,ae.uniformNames.map(function(me){return"#define HAS_UNIFORM_"+me}))}return N},ra.prototype.getPaintVertexBuffers=function(){return this._buffers},ra.prototype.getUniforms=function(N,W){var ae=[];for(var me in this.binders){var Se=this.binders[me];if(Se instanceof Ai||Se instanceof Pi||Se instanceof Oi)for(var Le=0,rt=Se.uniformNames;Le<rt.length;Le+=1){var mt=rt[Le];if(W[mt]){var Mt=Se.getBinding(N,W[mt],mt);ae.push({name:mt,property:me,binding:Mt})}}}return ae},ra.prototype.setUniforms=function(N,W,ae,me){for(var Se=0,Le=W;Se<Le.length;Se+=1){var rt=Le[Se],mt=rt.name,Mt=rt.property;this.binders[Mt].setUniform(rt.binding,me,ae.get(Mt),mt)}},ra.prototype.updatePaintBuffers=function(N){for(var W in this._buffers=[],this.binders){var ae=this.binders[W];if(N&&ae instanceof Vi){var me=2===N.fromScale?ae.zoomInPaintVertexBuffer:ae.zoomOutPaintVertexBuffer;me&&this._buffers.push(me)}else(ae instanceof Ri||ae instanceof Oi)&&ae.paintVertexBuffer&&this._buffers.push(ae.paintVertexBuffer)}},ra.prototype.upload=function(N){for(var W in this.binders){var ae=this.binders[W];(ae instanceof Ri||ae instanceof Oi||ae instanceof Vi)&&ae.upload(N)}this.updatePaintBuffers()},ra.prototype.destroy=function(){for(var N in this.binders){var W=this.binders[N];(W instanceof Ri||W instanceof Oi||W instanceof Vi)&&W.destroy()}};var ca=function(N,W,ae,me){void 0===me&&(me=function(){return!0}),this.programConfigurations={};for(var Se=0,Le=W;Se<Le.length;Se+=1){var rt=Le[Se];this.programConfigurations[rt.id]=new ra(rt,ae,me,N)}this.needsUpload=!1,this._featureMap=new Zt,this._bufferOffset=0};function Oa(O,N){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[O]||[O.replace(N+"-","").replace(/-/g,"_")]}function Aa(O,N,W){var ae={color:{source:Qf,composite:rd},number:{source:Jc,composite:Qf}},me=function da(O){return{"line-pattern":{source:ns,composite:ns},"fill-pattern":{source:ns,composite:ns},"fill-extrusion-pattern":{source:ns,composite:ns}}[O]}(O);return me&&me[W]||ae[N][W]}ca.prototype.populatePaintArrays=function(N,W,ae,me,Se,Le){for(var rt in this.programConfigurations)this.programConfigurations[rt].populatePaintArrays(N,W,me,Se,Le);void 0!==W.id&&this._featureMap.add(W.id,ae,this._bufferOffset,N),this._bufferOffset=N,this.needsUpload=!0},ca.prototype.updatePaintArrays=function(N,W,ae,me){for(var Se=0,Le=ae;Se<Le.length;Se+=1){var rt=Le[Se];this.needsUpload=this.programConfigurations[rt.id].updatePaintArrays(N,this._featureMap,W,rt,me)||this.needsUpload}},ca.prototype.get=function(N){return this.programConfigurations[N]},ca.prototype.upload=function(N){if(this.needsUpload){for(var W in this.programConfigurations)this.programConfigurations[W].upload(N);this.needsUpload=!1}},ca.prototype.destroy=function(){for(var N in this.programConfigurations)this.programConfigurations[N].destroy()},Ci("ConstantBinder",Ai),Ci("CrossFadedConstantBinder",Pi),Ci("SourceExpressionBinder",Ri),Ci("CrossFadedCompositeBinder",Vi),Ci("CompositeExpressionBinder",Oi),Ci("ProgramConfiguration",ra,{omit:["_buffers"]}),Ci("ProgramConfigurationSet",ca);var Xi=8192;var Sa=function Ia(O){return{min:-1*Math.pow(2,O-1),max:Math.pow(2,O-1)-1}}(15);function Ka(O){for(var N=Xi/O.extent,W=O.loadGeometry(),ae=0;ae<W.length;ae++)for(var me=W[ae],Se=0;Se<me.length;Se++){var Le=me[Se];Le.x=Math.round(Le.x*N),Le.y=Math.round(Le.y*N),(Le.x<Sa.min||Le.x>Sa.max||Le.y<Sa.min||Le.y>Sa.max)&&(_("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Le.x=d(Le.x,Sa.min,Sa.max),Le.y=d(Le.y,Sa.min,Sa.max))}return W}function Ca(O,N,W,ae,me){O.emplaceBack(2*N+(ae+1)/2,2*W+(me+1)/2)}var Qa=function(N){this.zoom=N.zoom,this.overscaling=N.overscaling,this.layers=N.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=N.index,this.hasPattern=!1,this.layoutVertexArray=new Is,this.indexArray=new tf,this.segments=new X,this.programConfigurations=new ca(ve,N.layers,N.zoom),this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};function la(O,N){for(var W=0;W<O.length;W++)if(hs(N,O[W]))return!0;for(var ae=0;ae<N.length;ae++)if(hs(O,N[ae]))return!0;return!!Rl(O,N)}function Pa(O,N,W){return!(!hs(O,N)&&!Ru(N,O,W))}function Ua(O,N){if(1===O.length)return vl(N,O[0]);for(var W=0;W<N.length;W++)for(var ae=N[W],me=0;me<ae.length;me++)if(hs(O,ae[me]))return!0;for(var Se=0;Se<O.length;Se++)if(vl(N,O[Se]))return!0;for(var Le=0;Le<N.length;Le++)if(Rl(O,N[Le]))return!0;return!1}function vo(O,N,W){if(O.length>1){if(Rl(O,N))return!0;for(var ae=0;ae<N.length;ae++)if(Ru(N[ae],O,W))return!0}for(var me=0;me<O.length;me++)if(Ru(O[me],N,W))return!0;return!1}function Rl(O,N){if(0===O.length||0===N.length)return!1;for(var W=0;W<O.length-1;W++)for(var ae=O[W],me=O[W+1],Se=0;Se<N.length-1;Se++)if(rf(ae,me,N[Se],N[Se+1]))return!0;return!1}function rf(O,N,W,ae){return z(O,W,ae)!==z(N,W,ae)&&z(O,N,W)!==z(O,N,ae)}function Ru(O,N,W){var ae=W*W;if(1===N.length)return O.distSqr(N[0])<ae;for(var me=1;me<N.length;me++)if(hu(O,N[me-1],N[me])<ae)return!0;return!1}function hu(O,N,W){var ae=N.distSqr(W);if(0===ae)return O.distSqr(N);var me=((O.x-N.x)*(W.x-N.x)+(O.y-N.y)*(W.y-N.y))/ae;return O.distSqr(me<0?N:me>1?W:W.sub(N)._mult(me)._add(N))}function vl(O,N){for(var ae,me,Se,W=!1,Le=0;Le<O.length;Le++)for(var rt=0,mt=(ae=O[Le]).length-1;rt<ae.length;mt=rt++)(me=ae[rt]).y>N.y!=(Se=ae[mt]).y>N.y&&N.x<(Se.x-me.x)*(N.y-me.y)/(Se.y-me.y)+me.x&&(W=!W);return W}function hs(O,N){for(var W=!1,ae=0,me=O.length-1;ae<O.length;me=ae++){var Se=O[ae],Le=O[me];Se.y>N.y!=Le.y>N.y&&N.x<(Le.x-Se.x)*(N.y-Se.y)/(Le.y-Se.y)+Se.x&&(W=!W)}return W}function Ps(O,N,W){var ae=W[0],me=W[2];if(O.x<ae.x&&N.x<ae.x||O.x>me.x&&N.x>me.x||O.y<ae.y&&N.y<ae.y||O.y>me.y&&N.y>me.y)return!1;var Se=z(O,N,W[0]);return Se!==z(O,N,W[1])||Se!==z(O,N,W[2])||Se!==z(O,N,W[3])}function pl(O,N,W){var ae=N.paint.get(O).value;return"constant"===ae.kind?ae.value:W.programConfigurations.get(N.id).getMaxValue(O)}function yl(O){return Math.sqrt(O[0]*O[0]+O[1]*O[1])}function nf(O,N,W,ae,me){if(!N[0]&&!N[1])return O;var Se=r.convert(N)._mult(me);"viewport"===W&&Se._rotate(-ae);for(var Le=[],rt=0;rt<O.length;rt++)Le.push(O[rt].sub(Se));return Le}Qa.prototype.populate=function(N,W,ae){var me=this.layers[0],Se=[],Le=null;"circle"===me.type&&(Le=me.layout.get("circle-sort-key"));for(var rt=0,mt=N;rt<mt.length;rt+=1){var Mt=mt[rt],Pt=Mt.feature,Jt=Mt.id,cr=Mt.index,lr=Mt.sourceLayerIndex,Dr=this.layers[0]._featureFilter.needGeometry,Zr={type:Pt.type,id:Jt,properties:Pt.properties,geometry:Dr?Ka(Pt):[]};if(this.layers[0]._featureFilter.filter(new Gi(this.zoom),Zr,ae)){Dr||(Zr.geometry=Ka(Pt));var xn=Le?Le.evaluate(Zr,{},ae):void 0;Se.push({id:Jt,properties:Pt.properties,type:Pt.type,sourceLayerIndex:lr,index:cr,geometry:Zr.geometry,patterns:{},sortKey:xn})}}Le&&Se.sort(function(Li,Ui){return Li.sortKey-Ui.sortKey});for(var On=0,Ln=Se;On<Ln.length;On+=1){var kn=Ln[On],ri=kn.geometry,xi=kn.index,di=kn.sourceLayerIndex,Bi=N[xi].feature;this.addFeature(kn,ri,xi,ae),W.featureIndex.insert(Bi,ri,xi,di,this.index)}},Qa.prototype.update=function(N,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(N,W,this.stateDependentLayers,ae)},Qa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Qa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Qa.prototype.upload=function(N){this.uploaded||(this.layoutVertexBuffer=N.createVertexBuffer(this.layoutVertexArray,ve),this.indexBuffer=N.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(N),this.uploaded=!0},Qa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Qa.prototype.addFeature=function(N,W,ae,me){for(var Se=0,Le=W;Se<Le.length;Se+=1)for(var mt=0,Mt=Le[Se];mt<Mt.length;mt+=1){var Pt=Mt[mt],Jt=Pt.x,cr=Pt.y;if(!(Jt<0||Jt>=Xi||cr<0||cr>=Xi)){var lr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,N.sortKey),Dr=lr.vertexLength;Ca(this.layoutVertexArray,Jt,cr,-1,-1),Ca(this.layoutVertexArray,Jt,cr,1,-1),Ca(this.layoutVertexArray,Jt,cr,1,1),Ca(this.layoutVertexArray,Jt,cr,-1,1),this.indexArray.emplaceBack(Dr,Dr+1,Dr+2),this.indexArray.emplaceBack(Dr,Dr+3,Dr+2),lr.vertexLength+=4,lr.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,N,ae,{},me)},Ci("CircleBucket",Qa,{omit:["layers"]});var af=new Ba({"circle-sort-key":new Ni(qt.layout_circle["circle-sort-key"])}),$c={paint:new Ba({"circle-radius":new Ni(qt.paint_circle["circle-radius"]),"circle-color":new Ni(qt.paint_circle["circle-color"]),"circle-blur":new Ni(qt.paint_circle["circle-blur"]),"circle-opacity":new Ni(qt.paint_circle["circle-opacity"]),"circle-translate":new ai(qt.paint_circle["circle-translate"]),"circle-translate-anchor":new ai(qt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ai(qt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ai(qt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ni(qt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ni(qt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ni(qt.paint_circle["circle-stroke-opacity"])}),layout:af},_s=typeof Float32Array<"u"?Float32Array:Array;function $o(O){return O[0]=1,O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=1,O[6]=0,O[7]=0,O[8]=0,O[9]=0,O[10]=1,O[11]=0,O[12]=0,O[13]=0,O[14]=0,O[15]=1,O}function sf(O,N,W){var ae=N[0],me=N[1],Se=N[2],Le=N[3],rt=N[4],mt=N[5],Mt=N[6],Pt=N[7],Jt=N[8],cr=N[9],lr=N[10],Dr=N[11],Zr=N[12],xn=N[13],hn=N[14],On=N[15],Ln=W[0],kn=W[1],Hn=W[2],ri=W[3];return O[0]=Ln*ae+kn*rt+Hn*Jt+ri*Zr,O[1]=Ln*me+kn*mt+Hn*cr+ri*xn,O[2]=Ln*Se+kn*Mt+Hn*lr+ri*hn,O[3]=Ln*Le+kn*Pt+Hn*Dr+ri*On,O[4]=(Ln=W[4])*ae+(kn=W[5])*rt+(Hn=W[6])*Jt+(ri=W[7])*Zr,O[5]=Ln*me+kn*mt+Hn*cr+ri*xn,O[6]=Ln*Se+kn*Mt+Hn*lr+ri*hn,O[7]=Ln*Le+kn*Pt+Hn*Dr+ri*On,O[8]=(Ln=W[8])*ae+(kn=W[9])*rt+(Hn=W[10])*Jt+(ri=W[11])*Zr,O[9]=Ln*me+kn*mt+Hn*cr+ri*xn,O[10]=Ln*Se+kn*Mt+Hn*lr+ri*hn,O[11]=Ln*Le+kn*Pt+Hn*Dr+ri*On,O[12]=(Ln=W[12])*ae+(kn=W[13])*rt+(Hn=W[14])*Jt+(ri=W[15])*Zr,O[13]=Ln*me+kn*mt+Hn*cr+ri*xn,O[14]=Ln*Se+kn*Mt+Hn*lr+ri*hn,O[15]=Ln*Le+kn*Pt+Hn*Dr+ri*On,O}Math.hypot||(Math.hypot=function(){for(var O=arguments,N=0,W=arguments.length;W--;)N+=O[W]*O[W];return Math.sqrt(N)});var n0=sf;var y1=function Jl(O,N,W){return O[0]=N[0]-W[0],O[1]=N[1]-W[1],O[2]=N[2]-W[2],O};function ld(O,N,W){var ae=N[0],me=N[1],Se=N[2],Le=N[3];return O[0]=W[0]*ae+W[4]*me+W[8]*Se+W[12]*Le,O[1]=W[1]*ae+W[5]*me+W[9]*Se+W[13]*Le,O[2]=W[2]*ae+W[6]*me+W[10]*Se+W[14]*Le,O[3]=W[3]*ae+W[7]*me+W[11]*Se+W[15]*Le,O}(function sd(){var O=new _s(3);return _s!=Float32Array&&(O[0]=0,O[1]=0,O[2]=0),O})(),function m1(){var O=new _s(4);return _s!=Float32Array&&(O[0]=0,O[1]=0,O[2]=0,O[3]=0),O}();var T1=function Hv(O){var N=O[0],W=O[1];return N*N+W*W},A1=(function w1(){var O=new _s(2);return _s!=Float32Array&&(O[0]=0,O[1]=0),O}(),function(O){function N(W){O.call(this,W,$c)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.createBucket=function(ae){return new Qa(ae)},N.prototype.queryRadius=function(ae){var me=ae;return pl("circle-radius",this,me)+pl("circle-stroke-width",this,me)+yl(this.paint.get("circle-translate"))},N.prototype.queryIntersectsFeature=function(ae,me,Se,Le,rt,mt,Mt,Pt){for(var Jt=nf(ae,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),mt.angle,Mt),Dr=this.paint.get("circle-radius").evaluate(me,Se)+this.paint.get("circle-stroke-width").evaluate(me,Se),Zr="map"===this.paint.get("circle-pitch-alignment"),xn=Zr?Jt:function u0(O,N){return O.map(function(W){return l0(W,N)})}(Jt,Pt),hn=Zr?Dr*Mt:Dr,On=0,Ln=Le;On<Ln.length;On+=1)for(var Hn=0,ri=Ln[On];Hn<ri.length;Hn+=1){var xi=ri[Hn],di=Zr?xi:l0(xi,Pt),Bi=hn,Li=ld([],[xi.x,xi.y,0,1],Pt);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Bi*=Li[3]/mt.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Bi*=mt.cameraToCenterDistance/Li[3]),Pa(xn,di,Bi))return!0}return!1},N}(Bo));function l0(O,N){var W=ld([],[O.x,O.y,0,1],N);return new r(W[0]/W[3],W[1]/W[3])}var Wd=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N}(Qa);function Gv(O,N,W,ae){var me=N.width,Se=N.height;if(ae){if(ae instanceof Uint8ClampedArray)ae=new Uint8Array(ae.buffer);else if(ae.length!==me*Se*W)throw new RangeError("mismatched image size")}else ae=new Uint8Array(me*Se*W);return O.width=me,O.height=Se,O.data=ae,O}function _g(O,N,W){var ae=N.width,me=N.height;if(ae!==O.width||me!==O.height){var Se=Gv({},{width:ae,height:me},W);f0(O,Se,{x:0,y:0},{x:0,y:0},{width:Math.min(O.width,ae),height:Math.min(O.height,me)},W),O.width=ae,O.height=me,O.data=Se.data}}function f0(O,N,W,ae,me,Se){if(0===me.width||0===me.height)return N;if(me.width>O.width||me.height>O.height||W.x>O.width-me.width||W.y>O.height-me.height)throw new RangeError("out of range source coordinates for image copy");if(me.width>N.width||me.height>N.height||ae.x>N.width-me.width||ae.y>N.height-me.height)throw new RangeError("out of range destination coordinates for image copy");for(var Le=O.data,rt=N.data,mt=0;mt<me.height;mt++)for(var Mt=((W.y+mt)*O.width+W.x)*Se,Pt=((ae.y+mt)*N.width+ae.x)*Se,Jt=0;Jt<me.width*Se;Jt++)rt[Pt+Jt]=Le[Mt+Jt];return N}Ci("HeatmapBucket",Wd,{omit:["layers"]});var lf=function(N,W){Gv(this,N,1,W)};lf.prototype.resize=function(N){_g(this,N,1)},lf.prototype.clone=function(){return new lf({width:this.width,height:this.height},new Uint8Array(this.data))},lf.copy=function(N,W,ae,me,Se){f0(N,W,ae,me,Se,1)};var Rs=function(N,W){Gv(this,N,4,W)};Rs.prototype.resize=function(N){_g(this,N,4)},Rs.prototype.replace=function(N,W){W?this.data.set(N):this.data=N instanceof Uint8ClampedArray?new Uint8Array(N.buffer):N},Rs.prototype.clone=function(){return new Rs({width:this.width,height:this.height},new Uint8Array(this.data))},Rs.copy=function(N,W,ae,me,Se){f0(N,W,ae,me,Se,4)},Ci("AlphaImage",lf),Ci("RGBAImage",Rs);var cw={paint:new Ba({"heatmap-radius":new Ni(qt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ni(qt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ai(qt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ho(qt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ai(qt.paint_heatmap["heatmap-opacity"])})};function c0(O,N){for(var W=new Uint8Array(1024),ae={},me=0,Se=0;me<256;me++,Se+=4){ae[N]=me/255;var Le=O.evaluate(ae);W[Se+0]=Math.floor(255*Le.r/Le.a),W[Se+1]=Math.floor(255*Le.g/Le.a),W[Se+2]=Math.floor(255*Le.b/Le.a),W[Se+3]=Math.floor(255*Le.a)}return new Rs({width:256,height:1},W)}var S1=function(O){function N(W){O.call(this,W,cw),this._updateColorRamp()}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.createBucket=function(ae){return new Wd(ae)},N.prototype._handleSpecialPaintPropertyUpdate=function(ae){"heatmap-color"===ae&&this._updateColorRamp()},N.prototype._updateColorRamp=function(){this.colorRamp=c0(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},N.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},N.prototype.queryRadius=function(){return 0},N.prototype.queryIntersectsFeature=function(){return!1},N.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},N}(Bo),C1={paint:new Ba({"hillshade-illumination-direction":new ai(qt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ai(qt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ai(qt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ai(qt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ai(qt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ai(qt.paint_hillshade["hillshade-accent-color"])})},E1=function(O){function N(W){O.call(this,W,C1)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},N}(Bo),Yd=xa([{name:"a_pos",components:2,type:"Int16"}],4).members,_v=Zd,L1=Zd;function Zd(O,N,W){W=W||2;var rt,mt,Mt,Pt,Jt,cr,lr,ae=N&&N.length,me=ae?N[0]*W:O.length,Se=I1(O,0,me,W,!0),Le=[];if(!Se||Se.next===Se.prev)return Le;if(ae&&(Se=function vw(O,N,W,ae){var Se,Le,Mt,me=[];for(Se=0,Le=N.length;Se<Le;Se++)(Mt=I1(O,N[Se]*ae,Se<Le-1?N[Se+1]*ae:O.length,ae,!1))===Mt.next&&(Mt.steiner=!0),me.push(Wv(Mt));for(me.sort(d0),Se=0;Se<me.length;Se++)pw(me[Se],W),W=Mc(W,W.next);return W}(O,N,Se,W)),O.length>80*W){rt=Mt=O[0],mt=Pt=O[1];for(var Dr=W;Dr<me;Dr+=W)(Jt=O[Dr])<rt&&(rt=Jt),(cr=O[Dr+1])<mt&&(mt=cr),Jt>Mt&&(Mt=Jt),cr>Pt&&(Pt=cr);lr=0!==(lr=Math.max(Mt-rt,Pt-mt))?1/lr:0}return jv(Se,Le,W,rt,mt,lr),Le}function I1(O,N,W,ae,me){var Se,Le;if(me===Qd(O,N,W,ae)>0)for(Se=N;Se<W;Se+=ae)Le=Yg(Se,O[Se],O[Se+1],Le);else for(Se=W-ae;Se>=N;Se-=ae)Le=Yg(Se,O[Se],O[Se+1],Le);return Le&&Xd(Le,Le.next)&&($d(Le),Le=Le.next),Le}function Mc(O,N){if(!O)return O;N||(N=O);var ae,W=O;do{if(ae=!1,W.steiner||!Xd(W,W.next)&&0!==Qo(W.prev,W,W.next))W=W.next;else{if($d(W),(W=N=W.prev)===W.next)break;ae=!0}}while(ae||W!==N);return N}function jv(O,N,W,ae,me,Se,Le){if(O){!Le&&Se&&function mw(O,N,W,ae){var me=O;do{null===me.z&&(me.z=v0(me.x,me.y,N,W,ae)),me.prevZ=me.prev,me.nextZ=me.next,me=me.next}while(me!==O);me.prevZ.nextZ=null,me.prevZ=null,function xw(O){var N,W,ae,me,Se,Le,rt,mt,Mt=1;do{for(W=O,O=null,Se=null,Le=0;W;){for(Le++,ae=W,rt=0,N=0;N<Mt&&(rt++,ae=ae.nextZ);N++);for(mt=Mt;rt>0||mt>0&&ae;)0!==rt&&(0===mt||!ae||W.z<=ae.z)?(me=W,W=W.nextZ,rt--):(me=ae,ae=ae.nextZ,mt--),Se?Se.nextZ=me:O=me,me.prevZ=Se,Se=me;W=ae}Se.nextZ=null,Mt*=2}while(Le>1);return O}(me)}(O,ae,me,Se);for(var mt,Mt,rt=O;O.prev!==O.next;)if(mt=O.prev,Mt=O.next,Se?R1(O,ae,me,Se):P1(O))N.push(mt.i/W),N.push(O.i/W),N.push(Mt.i/W),$d(O),O=Mt.next,rt=Mt.next;else if((O=Mt)===rt){Le?1===Le?jv(O=h0(Mc(O),N,W),N,W,ae,me,Se,2):2===Le&&dw(O,N,W,ae,me,Se):jv(Mc(O),N,W,ae,me,Se,1);break}}}function P1(O){var N=O.prev,W=O,ae=O.next;if(Qo(N,W,ae)>=0)return!1;for(var me=O.next.next;me!==O.prev;){if(Sc(N.x,N.y,W.x,W.y,ae.x,ae.y,me.x,me.y)&&Qo(me.prev,me,me.next)>=0)return!1;me=me.next}return!0}function R1(O,N,W,ae){var me=O.prev,Se=O,Le=O.next;if(Qo(me,Se,Le)>=0)return!1;for(var Mt=me.x>Se.x?me.x>Le.x?me.x:Le.x:Se.x>Le.x?Se.x:Le.x,Pt=me.y>Se.y?me.y>Le.y?me.y:Le.y:Se.y>Le.y?Se.y:Le.y,Jt=v0(me.x<Se.x?me.x<Le.x?me.x:Le.x:Se.x<Le.x?Se.x:Le.x,me.y<Se.y?me.y<Le.y?me.y:Le.y:Se.y<Le.y?Se.y:Le.y,N,W,ae),cr=v0(Mt,Pt,N,W,ae),lr=O.prevZ,Dr=O.nextZ;lr&&lr.z>=Jt&&Dr&&Dr.z<=cr;){if(lr!==O.prev&&lr!==O.next&&Sc(me.x,me.y,Se.x,Se.y,Le.x,Le.y,lr.x,lr.y)&&Qo(lr.prev,lr,lr.next)>=0||(lr=lr.prevZ,Dr!==O.prev&&Dr!==O.next&&Sc(me.x,me.y,Se.x,Se.y,Le.x,Le.y,Dr.x,Dr.y)&&Qo(Dr.prev,Dr,Dr.next)>=0))return!1;Dr=Dr.nextZ}for(;lr&&lr.z>=Jt;){if(lr!==O.prev&&lr!==O.next&&Sc(me.x,me.y,Se.x,Se.y,Le.x,Le.y,lr.x,lr.y)&&Qo(lr.prev,lr,lr.next)>=0)return!1;lr=lr.prevZ}for(;Dr&&Dr.z<=cr;){if(Dr!==O.prev&&Dr!==O.next&&Sc(me.x,me.y,Se.x,Se.y,Le.x,Le.y,Dr.x,Dr.y)&&Qo(Dr.prev,Dr,Dr.next)>=0)return!1;Dr=Dr.nextZ}return!0}function h0(O,N,W){var ae=O;do{var me=ae.prev,Se=ae.next.next;!Xd(me,Se)&&kh(me,ae,ae.next,Se)&&eh(me,Se)&&eh(Se,me)&&(N.push(me.i/W),N.push(ae.i/W),N.push(Se.i/W),$d(ae),$d(ae.next),ae=O=Se),ae=ae.next}while(ae!==O);return Mc(ae)}function dw(O,N,W,ae,me,Se){var Le=O;do{for(var rt=Le.next.next;rt!==Le.prev;){if(Le.i!==rt.i&&jg(Le,rt)){var mt=Wg(Le,rt);return Le=Mc(Le,Le.next),mt=Mc(mt,mt.next),jv(Le,N,W,ae,me,Se),void jv(mt,N,W,ae,me,Se)}rt=rt.next}Le=Le.next}while(Le!==O)}function d0(O,N){return O.x-N.x}function pw(O,N){if(N=function gw(O,N){var Le,W=N,ae=O.x,me=O.y,Se=-1/0;do{if(me<=W.y&&me>=W.next.y&&W.next.y!==W.y){var rt=W.x+(me-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if(rt<=ae&&rt>Se){if(Se=rt,rt===ae){if(me===W.y)return W;if(me===W.next.y)return W.next}Le=W.x<W.next.x?W:W.next}}W=W.next}while(W!==N);if(!Le)return null;if(ae===Se)return Le;var cr,mt=Le,Mt=Le.x,Pt=Le.y,Jt=1/0;W=Le;do{ae>=W.x&&W.x>=Mt&&ae!==W.x&&Sc(me<Pt?ae:Se,me,Mt,Pt,me<Pt?Se:ae,me,W.x,W.y)&&(cr=Math.abs(me-W.y)/(ae-W.x),eh(W,O)&&(cr<Jt||cr===Jt&&(W.x>Le.x||W.x===Le.x&&yw(Le,W)))&&(Le=W,Jt=cr)),W=W.next}while(W!==mt);return Le}(O,N)){var W=Wg(N,O);Mc(N,N.next),Mc(W,W.next)}}function yw(O,N){return Qo(O.prev,O,N.prev)<0&&Qo(N.next,O,O.next)<0}function v0(O,N,W,ae,me){return(O=1431655765&((O=858993459&((O=252645135&((O=16711935&((O=32767*(O-W)*me)|O<<8))|O<<4))|O<<2))|O<<1))|(N=1431655765&((N=858993459&((N=252645135&((N=16711935&((N=32767*(N-ae)*me)|N<<8))|N<<4))|N<<2))|N<<1))<<1}function Wv(O){var N=O,W=O;do{(N.x<W.x||N.x===W.x&&N.y<W.y)&&(W=N),N=N.next}while(N!==O);return W}function Sc(O,N,W,ae,me,Se,Le,rt){return(me-Le)*(N-rt)-(O-Le)*(Se-rt)>=0&&(O-Le)*(ae-rt)-(W-Le)*(N-rt)>=0&&(W-Le)*(Se-rt)-(me-Le)*(ae-rt)>=0}function jg(O,N){return O.next.i!==N.i&&O.prev.i!==N.i&&!function Yv(O,N){var W=O;do{if(W.i!==O.i&&W.next.i!==O.i&&W.i!==N.i&&W.next.i!==N.i&&kh(W,W.next,O,N))return!0;W=W.next}while(W!==O);return!1}(O,N)&&(eh(O,N)&&eh(N,O)&&function th(O,N){var W=O,ae=!1,me=(O.x+N.x)/2,Se=(O.y+N.y)/2;do{W.y>Se!=W.next.y>Se&&W.next.y!==W.y&&me<(W.next.x-W.x)*(Se-W.y)/(W.next.y-W.y)+W.x&&(ae=!ae),W=W.next}while(W!==O);return ae}(O,N)&&(Qo(O.prev,O,N.prev)||Qo(O,N.prev,N))||Xd(O,N)&&Qo(O.prev,O,O.next)>0&&Qo(N.prev,N,N.next)>0)}function Qo(O,N,W){return(N.y-O.y)*(W.x-N.x)-(N.x-O.x)*(W.y-N.y)}function Xd(O,N){return O.x===N.x&&O.y===N.y}function kh(O,N,W,ae){var me=Jd(Qo(O,N,W)),Se=Jd(Qo(O,N,ae)),Le=Jd(Qo(W,ae,O)),rt=Jd(Qo(W,ae,N));return!!(me!==Se&&Le!==rt||0===me&&Kd(O,W,N)||0===Se&&Kd(O,ae,N)||0===Le&&Kd(W,O,ae)||0===rt&&Kd(W,N,ae))}function Kd(O,N,W){return N.x<=Math.max(O.x,W.x)&&N.x>=Math.min(O.x,W.x)&&N.y<=Math.max(O.y,W.y)&&N.y>=Math.min(O.y,W.y)}function Jd(O){return O>0?1:O<0?-1:0}function eh(O,N){return Qo(O.prev,O,O.next)<0?Qo(O,N,O.next)>=0&&Qo(O,O.prev,N)>=0:Qo(O,N,O.prev)<0||Qo(O,O.next,N)<0}function Wg(O,N){var W=new Zv(O.i,O.x,O.y),ae=new Zv(N.i,N.x,N.y),me=O.next,Se=N.prev;return O.next=N,N.prev=O,W.next=me,me.prev=W,ae.next=W,W.prev=ae,Se.next=ae,ae.prev=Se,ae}function Yg(O,N,W,ae){var me=new Zv(O,N,W);return ae?(me.next=ae.next,me.prev=ae,ae.next.prev=me,ae.next=me):(me.prev=me,me.next=me),me}function $d(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function Zv(O,N,W){this.i=O,this.x=N,this.y=W,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Qd(O,N,W,ae){for(var me=0,Se=N,Le=W-ae;Se<W;Se+=ae)me+=(O[Le]-O[Se])*(O[Se+1]+O[Le+1]),Le=Se;return me}function F1(O,N,W,ae,me){Zg(O,N,W||0,ae||O.length-1,me||Xg)}function Zg(O,N,W,ae,me){for(;ae>W;){if(ae-W>600){var Se=ae-W+1,Le=N-W+1,rt=Math.log(Se),mt=.5*Math.exp(2*rt/3),Mt=.5*Math.sqrt(rt*mt*(Se-mt)/Se)*(Le-Se/2<0?-1:1);Zg(O,N,Math.max(W,Math.floor(N-Le*mt/Se+Mt)),Math.min(ae,Math.floor(N+(Se-Le)*mt/Se+Mt)),me)}var cr=O[N],lr=W,Dr=ae;for(qd(O,W,N),me(O[ae],cr)>0&&qd(O,W,ae);lr<Dr;){for(qd(O,lr,Dr),lr++,Dr--;me(O[lr],cr)<0;)lr++;for(;me(O[Dr],cr)>0;)Dr--}0===me(O[W],cr)?qd(O,W,Dr):qd(O,++Dr,ae),Dr<=N&&(W=Dr+1),N<=Dr&&(ae=Dr-1)}}function qd(O,N,W){var ae=O[N];O[N]=O[W],O[W]=ae}function Xg(O,N){return O<N?-1:O>N?1:0}function p0(O,N){var W=O.length;if(W<=1)return[O];for(var me,Se,ae=[],Le=0;Le<W;Le++){var rt=V(O[Le]);0!==rt&&(O[Le].area=Math.abs(rt),void 0===Se&&(Se=rt<0),Se===rt<0?(me&&ae.push(me),me=[O[Le]]):me.push(O[Le]))}if(me&&ae.push(me),N>1)for(var mt=0;mt<ae.length;mt++)ae[mt].length<=N||(F1(ae[mt],N,1,ae[mt].length-1,k1),ae[mt]=ae[mt].slice(0,N));return ae}function k1(O,N){return N.area-O.area}function Fl(O,N,W){for(var ae=W.patternDependencies,me=!1,Se=0,Le=N;Se<Le.length;Se+=1){var mt=Le[Se].paint.get(O+"-pattern");mt.isConstant()||(me=!0);var Mt=mt.constantOr(null);Mt&&(me=!0,ae[Mt.to]=!0,ae[Mt.from]=!0)}return me}function ev(O,N,W,ae,me){for(var Se=me.patternDependencies,Le=0,rt=N;Le<rt.length;Le+=1){var mt=rt[Le],Pt=mt.paint.get(O+"-pattern").value;if("constant"!==Pt.kind){var Jt=Pt.evaluate({zoom:ae-1},W,{},me.availableImages),cr=Pt.evaluate({zoom:ae},W,{},me.availableImages),lr=Pt.evaluate({zoom:ae+1},W,{},me.availableImages);cr=cr&&cr.name?cr.name:cr,lr=lr&&lr.name?lr.name:lr,Se[Jt=Jt&&Jt.name?Jt.name:Jt]=!0,Se[cr]=!0,Se[lr]=!0,W.patterns[mt.id]={min:Jt,mid:cr,max:lr}}}return W}Zd.deviation=function(O,N,W,ae){var me=N&&N.length,Le=Math.abs(Qd(O,0,me?N[0]*W:O.length,W));if(me)for(var rt=0,mt=N.length;rt<mt;rt++)Le-=Math.abs(Qd(O,N[rt]*W,rt<mt-1?N[rt+1]*W:O.length,W));var Jt=0;for(rt=0;rt<ae.length;rt+=3){var cr=ae[rt]*W,lr=ae[rt+1]*W,Dr=ae[rt+2]*W;Jt+=Math.abs((O[cr]-O[Dr])*(O[lr+1]-O[cr+1])-(O[cr]-O[lr])*(O[Dr+1]-O[cr+1]))}return 0===Le&&0===Jt?0:Math.abs((Jt-Le)/Le)},Zd.flatten=function(O){for(var N=O[0][0].length,W={vertices:[],holes:[],dimensions:N},ae=0,me=0;me<O.length;me++){for(var Se=0;Se<O[me].length;Se++)for(var Le=0;Le<N;Le++)W.vertices.push(O[me][Se][Le]);me>0&&W.holes.push(ae+=O[me-1].length)}return W},_v.default=L1;var Fu=function(N){this.zoom=N.zoom,this.overscaling=N.overscaling,this.layers=N.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=N.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Is,this.indexArray=new tf,this.indexArray2=new mo,this.programConfigurations=new ca(Yd,N.layers,N.zoom),this.segments=new X,this.segments2=new X,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};Fu.prototype.populate=function(N,W,ae){this.hasPattern=Fl("fill",this.layers,W);for(var me=this.layers[0].layout.get("fill-sort-key"),Se=[],Le=0,rt=N;Le<rt.length;Le+=1){var mt=rt[Le],Mt=mt.feature,Pt=mt.id,Jt=mt.index,cr=mt.sourceLayerIndex,lr=this.layers[0]._featureFilter.needGeometry,Dr={type:Mt.type,id:Pt,properties:Mt.properties,geometry:lr?Ka(Mt):[]};if(this.layers[0]._featureFilter.filter(new Gi(this.zoom),Dr,ae)){lr||(Dr.geometry=Ka(Mt));var Zr=me?me.evaluate(Dr,{},ae,W.availableImages):void 0;Se.push({id:Pt,properties:Mt.properties,type:Mt.type,sourceLayerIndex:cr,index:Jt,geometry:Dr.geometry,patterns:{},sortKey:Zr})}}me&&Se.sort(function(Li,Ui){return Li.sortKey-Ui.sortKey});for(var hn=0,On=Se;hn<On.length;hn+=1){var Ln=On[hn],Hn=Ln.geometry,ri=Ln.index,xi=Ln.sourceLayerIndex;if(this.hasPattern){var di=ev("fill",this.layers,Ln,this.zoom,W);this.patternFeatures.push(di)}else this.addFeature(Ln,Hn,ri,ae,{});W.featureIndex.insert(N[ri].feature,Hn,ri,xi,this.index)}},Fu.prototype.update=function(N,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(N,W,this.stateDependentLayers,ae)},Fu.prototype.addFeatures=function(N,W,ae){for(var me=0,Se=this.patternFeatures;me<Se.length;me+=1){var Le=Se[me];this.addFeature(Le,Le.geometry,Le.index,W,ae)}},Fu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Fu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Fu.prototype.upload=function(N){this.uploaded||(this.layoutVertexBuffer=N.createVertexBuffer(this.layoutVertexArray,Yd),this.indexBuffer=N.createIndexBuffer(this.indexArray),this.indexBuffer2=N.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(N),this.uploaded=!0},Fu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Fu.prototype.addFeature=function(N,W,ae,me,Se){for(var Le=0,rt=p0(W,500);Le<rt.length;Le+=1){for(var mt=rt[Le],Mt=0,Pt=0,Jt=mt;Pt<Jt.length;Pt+=1)Mt+=Jt[Pt].length;for(var lr=this.segments.prepareSegment(Mt,this.layoutVertexArray,this.indexArray),Dr=lr.vertexLength,Zr=[],xn=[],hn=0,On=mt;hn<On.length;hn+=1){var Ln=On[hn];if(0!==Ln.length){Ln!==mt[0]&&xn.push(Zr.length/2);var kn=this.segments2.prepareSegment(Ln.length,this.layoutVertexArray,this.indexArray2),Hn=kn.vertexLength;this.layoutVertexArray.emplaceBack(Ln[0].x,Ln[0].y),this.indexArray2.emplaceBack(Hn+Ln.length-1,Hn),Zr.push(Ln[0].x),Zr.push(Ln[0].y);for(var ri=1;ri<Ln.length;ri++)this.layoutVertexArray.emplaceBack(Ln[ri].x,Ln[ri].y),this.indexArray2.emplaceBack(Hn+ri-1,Hn+ri),Zr.push(Ln[ri].x),Zr.push(Ln[ri].y);kn.vertexLength+=Ln.length,kn.primitiveLength+=Ln.length}}for(var xi=_v(Zr,xn),di=0;di<xi.length;di+=3)this.indexArray.emplaceBack(Dr+xi[di],Dr+xi[di+1],Dr+xi[di+2]);lr.vertexLength+=Mt,lr.primitiveLength+=xi.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,N,ae,Se,me)},Ci("FillBucket",Fu,{omit:["layers","patternFeatures"]});var kl=new Ba({"fill-sort-key":new Ni(qt.layout_fill["fill-sort-key"])}),Jg={paint:new Ba({"fill-antialias":new ai(qt.paint_fill["fill-antialias"]),"fill-opacity":new Ni(qt.paint_fill["fill-opacity"]),"fill-color":new Ni(qt.paint_fill["fill-color"]),"fill-outline-color":new Ni(qt.paint_fill["fill-outline-color"]),"fill-translate":new ai(qt.paint_fill["fill-translate"]),"fill-translate-anchor":new ai(qt.paint_fill["fill-translate-anchor"]),"fill-pattern":new ka(qt.paint_fill["fill-pattern"])}),layout:kl},$g=function(O){function N(W){O.call(this,W,Jg)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.recalculate=function(ae,me){O.prototype.recalculate.call(this,ae,me);var Se=this.paint._values["fill-outline-color"];"constant"===Se.value.kind&&void 0===Se.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},N.prototype.createBucket=function(ae){return new Fu(ae)},N.prototype.queryRadius=function(){return yl(this.paint.get("fill-translate"))},N.prototype.queryIntersectsFeature=function(ae,me,Se,Le,rt,mt,Mt){return Ua(nf(ae,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),mt.angle,Mt),Le)},N.prototype.isTileClipped=function(){return!0},N}(Bo),g0=xa([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Qg=Oh;function Oh(O,N,W,ae,me){this.properties={},this.extent=W,this.type=0,this._pbf=O,this._geometry=-1,this._keys=ae,this._values=me,O.readFields(N1,this,N)}function N1(O,N,W){1==O?N.id=W.readVarint():2==O?function qg(O,N){for(var W=O.readVarint()+O.pos;O.pos<W;){var ae=N._keys[O.readVarint()],me=N._values[O.readVarint()];N.properties[ae]=me}}(W,N):3==O?N.type=W.readVarint():4==O&&(N._geometry=W.pos)}function B1(O){for(var Se,Le,N=0,W=0,ae=O.length,me=ae-1;W<ae;me=W++)N+=((Le=O[me]).x-(Se=O[W]).x)*(Se.y+Le.y);return N}Oh.types=["Unknown","Point","LineString","Polygon"],Oh.prototype.loadGeometry=function(){var O=this._pbf;O.pos=this._geometry;for(var rt,N=O.readVarint()+O.pos,W=1,ae=0,me=0,Se=0,Le=[];O.pos<N;){if(ae<=0){var mt=O.readVarint();W=7&mt,ae=mt>>3}if(ae--,1===W||2===W)me+=O.readSVarint(),Se+=O.readSVarint(),1===W&&(rt&&Le.push(rt),rt=[]),rt.push(new r(me,Se));else{if(7!==W)throw new Error("unknown command "+W);rt&&rt.push(rt[0].clone())}}return rt&&Le.push(rt),Le},Oh.prototype.bbox=function(){var O=this._pbf;O.pos=this._geometry;for(var N=O.readVarint()+O.pos,W=1,ae=0,me=0,Se=0,Le=1/0,rt=-1/0,mt=1/0,Mt=-1/0;O.pos<N;){if(ae<=0){var Pt=O.readVarint();W=7&Pt,ae=Pt>>3}if(ae--,1===W||2===W)(me+=O.readSVarint())<Le&&(Le=me),me>rt&&(rt=me),(Se+=O.readSVarint())<mt&&(mt=Se),Se>Mt&&(Mt=Se);else if(7!==W)throw new Error("unknown command "+W)}return[Le,mt,rt,Mt]},Oh.prototype.toGeoJSON=function(O,N,W){var mt,Mt,ae=this.extent*Math.pow(2,W),me=this.extent*O,Se=this.extent*N,Le=this.loadGeometry(),rt=Oh.types[this.type];function Pt(lr){for(var Dr=0;Dr<lr.length;Dr++){var Zr=lr[Dr];lr[Dr]=[360*(Zr.x+me)/ae-180,360/Math.PI*Math.atan(Math.exp((180-360*(Zr.y+Se)/ae)*Math.PI/180))-90]}}switch(this.type){case 1:var Jt=[];for(mt=0;mt<Le.length;mt++)Jt[mt]=Le[mt][0];Pt(Le=Jt);break;case 2:for(mt=0;mt<Le.length;mt++)Pt(Le[mt]);break;case 3:for(Le=function z1(O){var N=O.length;if(N<=1)return[O];for(var ae,me,W=[],Se=0;Se<N;Se++){var Le=B1(O[Se]);0!==Le&&(void 0===me&&(me=Le<0),me===Le<0?(ae&&W.push(ae),ae=[O[Se]]):ae.push(O[Se]))}return ae&&W.push(ae),W}(Le),mt=0;mt<Le.length;mt++)for(Mt=0;Mt<Le[mt].length;Mt++)Pt(Le[mt][Mt])}1===Le.length?Le=Le[0]:rt="Multi"+rt;var cr={type:"Feature",geometry:{type:rt,coordinates:Le},properties:this.properties};return"id"in this&&(cr.id=this.id),cr};var Xv=Kv;function Kv(O,N){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=O,this._keys=[],this._values=[],this._features=[],O.readFields(U1,this,N),this.length=this._features.length}function U1(O,N,W){15===O?N.version=W.readVarint():1===O?N.name=W.readString():5===O?N.extent=W.readVarint():2===O?N._features.push(W.pos):3===O?N._keys.push(W.readString()):4===O&&N._values.push(function rv(O){for(var N=null,W=O.readVarint()+O.pos;O.pos<W;){var ae=O.readVarint()>>3;N=1===ae?O.readString():2===ae?O.readFloat():3===ae?O.readDouble():4===ae?O.readVarint64():5===ae?O.readVarint():6===ae?O.readSVarint():7===ae?O.readBoolean():null}return N}(W))}function ey(O,N,W){if(3===O){var ae=new Xv(W,W.readVarint()+W.pos);ae.length&&(N[ae.name]=ae)}}Kv.prototype.feature=function(O){if(O<0||O>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[O];var N=this._pbf.readVarint()+this._pbf.pos;return new Qg(this._pbf,N,this.extent,this._keys,this._values)};var Cc={VectorTile:function H1(O,N){this.layers=O.readFields(ey,{},N)},VectorTileFeature:Qg,VectorTileLayer:Xv},ny=Cc.VectorTileFeature.types,fd=Math.pow(2,13);function nv(O,N,W,ae,me,Se,Le,rt){O.emplaceBack(N,W,2*Math.floor(ae*fd)+Le,me*fd*2,Se*fd*2,Math.round(rt))}var Tf=function(N){this.zoom=N.zoom,this.overscaling=N.overscaling,this.layers=N.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=N.index,this.hasPattern=!1,this.layoutVertexArray=new Qs,this.indexArray=new tf,this.programConfigurations=new ca(g0,N.layers,N.zoom),this.segments=new X,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};function G1(O,N){return O.x===N.x&&(O.x<0||O.x>Xi)||O.y===N.y&&(O.y<0||O.y>Xi)}Tf.prototype.populate=function(N,W,ae){this.features=[],this.hasPattern=Fl("fill-extrusion",this.layers,W);for(var me=0,Se=N;me<Se.length;me+=1){var Le=Se[me],rt=Le.feature,mt=Le.id,Mt=Le.index,Pt=Le.sourceLayerIndex,Jt=this.layers[0]._featureFilter.needGeometry,cr={type:rt.type,id:mt,properties:rt.properties,geometry:Jt?Ka(rt):[]};if(this.layers[0]._featureFilter.filter(new Gi(this.zoom),cr,ae)){var lr={id:mt,sourceLayerIndex:Pt,index:Mt,geometry:Jt?cr.geometry:Ka(rt),properties:rt.properties,type:rt.type,patterns:{}};typeof rt.id<"u"&&(lr.id=rt.id),this.hasPattern?this.features.push(ev("fill-extrusion",this.layers,lr,this.zoom,W)):this.addFeature(lr,lr.geometry,Mt,ae,{}),W.featureIndex.insert(rt,lr.geometry,Mt,Pt,this.index,!0)}}},Tf.prototype.addFeatures=function(N,W,ae){for(var me=0,Se=this.features;me<Se.length;me+=1){var Le=Se[me];this.addFeature(Le,Le.geometry,Le.index,W,ae)}},Tf.prototype.update=function(N,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(N,W,this.stateDependentLayers,ae)},Tf.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Tf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Tf.prototype.upload=function(N){this.uploaded||(this.layoutVertexBuffer=N.createVertexBuffer(this.layoutVertexArray,g0),this.indexBuffer=N.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(N),this.uploaded=!0},Tf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Tf.prototype.addFeature=function(N,W,ae,me,Se){for(var Le=0,rt=p0(W,500);Le<rt.length;Le+=1){for(var mt=rt[Le],Mt=0,Pt=0,Jt=mt;Pt<Jt.length;Pt+=1)Mt+=Jt[Pt].length;for(var lr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Dr=0,Zr=mt;Dr<Zr.length;Dr+=1){var xn=Zr[Dr];if(0!==xn.length&&!((O=xn).every(function(N){return N.x<0})||O.every(function(N){return N.x>Xi})||O.every(function(N){return N.y<0})||O.every(function(N){return N.y>Xi})))for(var hn=0,On=0;On<xn.length;On++){var Ln=xn[On];if(On>=1){var kn=xn[On-1];if(!G1(Ln,kn)){lr.vertexLength+4>X.MAX_VERTEX_ARRAY_LENGTH&&(lr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Hn=Ln.sub(kn)._perp()._unit(),ri=kn.dist(Ln);hn+ri>32768&&(hn=0),nv(this.layoutVertexArray,Ln.x,Ln.y,Hn.x,Hn.y,0,0,hn),nv(this.layoutVertexArray,Ln.x,Ln.y,Hn.x,Hn.y,0,1,hn),nv(this.layoutVertexArray,kn.x,kn.y,Hn.x,Hn.y,0,0,hn+=ri),nv(this.layoutVertexArray,kn.x,kn.y,Hn.x,Hn.y,0,1,hn);var xi=lr.vertexLength;this.indexArray.emplaceBack(xi,xi+2,xi+1),this.indexArray.emplaceBack(xi+1,xi+2,xi+3),lr.vertexLength+=4,lr.primitiveLength+=2}}}}if(lr.vertexLength+Mt>X.MAX_VERTEX_ARRAY_LENGTH&&(lr=this.segments.prepareSegment(Mt,this.layoutVertexArray,this.indexArray)),"Polygon"===ny[N.type]){for(var di=[],Bi=[],Li=lr.vertexLength,Ui=0,ua=mt;Ui<ua.length;Ui+=1){var Hi=ua[Ui];if(0!==Hi.length){Hi!==mt[0]&&Bi.push(di.length/2);for(var Wi=0;Wi<Hi.length;Wi++){var pa=Hi[Wi];nv(this.layoutVertexArray,pa.x,pa.y,0,0,1,1,0),di.push(pa.x),di.push(pa.y)}}}for(var aa=_v(di,Bi),Ea=0;Ea<aa.length;Ea+=3)this.indexArray.emplaceBack(Li+aa[Ea],Li+aa[Ea+2],Li+aa[Ea+1]);lr.primitiveLength+=aa.length/3,lr.vertexLength+=Mt}}var O;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,N,ae,Se,me)},Ci("FillExtrusionBucket",Tf,{omit:["layers","features"]});var W1={paint:new Ba({"fill-extrusion-opacity":new ai(qt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ni(qt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ai(qt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ai(qt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ka(qt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ni(qt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ni(qt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ai(qt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},iy=function(O){function N(W){O.call(this,W,W1)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.createBucket=function(ae){return new Tf(ae)},N.prototype.queryRadius=function(){return yl(this.paint.get("fill-extrusion-translate"))},N.prototype.is3D=function(){return!0},N.prototype.queryIntersectsFeature=function(ae,me,Se,Le,rt,mt,Mt,Pt){var Jt=nf(ae,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),mt.angle,Mt),cr=this.paint.get("fill-extrusion-height").evaluate(me,Se),lr=this.paint.get("fill-extrusion-base").evaluate(me,Se),Dr=function Z1(O,N,W,ae){for(var me=[],Se=0,Le=O;Se<Le.length;Se+=1){var rt=Le[Se],mt=[rt.x,rt.y,ae,1];ld(mt,mt,N),me.push(new r(mt[0]/mt[3],mt[1]/mt[3]))}return me}(Jt,Pt,0,0),Zr=function Y1(O,N,W,ae){for(var me=[],Se=[],Le=ae[8]*N,rt=ae[9]*N,mt=ae[10]*N,Mt=ae[11]*N,Pt=ae[8]*W,Jt=ae[9]*W,cr=ae[10]*W,lr=ae[11]*W,Dr=0,Zr=O;Dr<Zr.length;Dr+=1){for(var hn=[],On=[],Ln=0,kn=Zr[Dr];Ln<kn.length;Ln+=1){var Hn=kn[Ln],ri=Hn.x,xi=Hn.y,di=ae[0]*ri+ae[4]*xi+ae[12],Bi=ae[1]*ri+ae[5]*xi+ae[13],Li=ae[2]*ri+ae[6]*xi+ae[14],Ui=ae[3]*ri+ae[7]*xi+ae[15],Wi=Li+mt,pa=Ui+Mt,aa=di+Pt,Ea=Bi+Jt,$a=Li+cr,Ra=Ui+lr,Na=new r((di+Le)/pa,(Bi+rt)/pa);Na.z=Wi/pa,hn.push(Na);var Fa=new r(aa/Ra,Ea/Ra);Fa.z=$a/Ra,On.push(Fa)}me.push(hn),Se.push(On)}return[me,Se]}(Le,lr,cr,Pt);return function m0(O,N,W){var ae=1/0;Ua(W,N)&&(ae=Jv(W,N[0]));for(var me=0;me<N.length;me++)for(var Se=N[me],Le=O[me],rt=0;rt<Se.length-1;rt++){var mt=Se[rt],cr=[mt,Se[rt+1],Le[rt+1],Le[rt],mt];la(W,cr)&&(ae=Math.min(ae,Jv(W,cr)))}return ae!==1/0&&ae}(Zr[0],Zr[1],Dr)},N}(Bo);function rh(O,N){return O.x*N.x+O.y*N.y}function Jv(O,N){if(1===O.length){for(var me,W=0,ae=N[W++];!me||ae.equals(me);)if(!(me=N[W++]))return 1/0;for(;W<N.length;W++){var Se=N[W],Le=O[0],rt=me.sub(ae),mt=Se.sub(ae),Mt=Le.sub(ae),Pt=rh(rt,rt),Jt=rh(rt,mt),cr=rh(mt,mt),lr=rh(Mt,rt),Dr=rh(Mt,mt),Zr=Pt*cr-Jt*Jt,xn=(cr*lr-Jt*Dr)/Zr,hn=(Pt*Dr-Jt*lr)/Zr,Ln=ae.z*(1-xn-hn)+me.z*xn+Se.z*hn;if(isFinite(Ln))return Ln}return 1/0}for(var kn=1/0,Hn=0,ri=N;Hn<ri.length;Hn+=1)kn=Math.min(kn,ri[Hn].z);return kn}var b0=xa([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Nh=Cc.VectorTileFeature.types,ay=Math.cos(Math.PI/180*37.5),T0=Math.pow(2,14)/.5,xl=function(N){this.zoom=N.zoom,this.overscaling=N.overscaling,this.layers=N.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=N.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new hl,this.indexArray=new tf,this.programConfigurations=new ca(b0,N.layers,N.zoom),this.segments=new X,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};xl.prototype.populate=function(N,W,ae){this.hasPattern=Fl("line",this.layers,W);for(var me=this.layers[0].layout.get("line-sort-key"),Se=[],Le=0,rt=N;Le<rt.length;Le+=1){var mt=rt[Le],Mt=mt.feature,Pt=mt.id,Jt=mt.index,cr=mt.sourceLayerIndex,lr=this.layers[0]._featureFilter.needGeometry,Dr={type:Mt.type,id:Pt,properties:Mt.properties,geometry:lr?Ka(Mt):[]};if(this.layers[0]._featureFilter.filter(new Gi(this.zoom),Dr,ae)){lr||(Dr.geometry=Ka(Mt));var Zr=me?me.evaluate(Dr,{},ae):void 0;Se.push({id:Pt,properties:Mt.properties,type:Mt.type,sourceLayerIndex:cr,index:Jt,geometry:Dr.geometry,patterns:{},sortKey:Zr})}}me&&Se.sort(function(Li,Ui){return Li.sortKey-Ui.sortKey});for(var hn=0,On=Se;hn<On.length;hn+=1){var Ln=On[hn],Hn=Ln.geometry,ri=Ln.index,xi=Ln.sourceLayerIndex;if(this.hasPattern){var di=ev("line",this.layers,Ln,this.zoom,W);this.patternFeatures.push(di)}else this.addFeature(Ln,Hn,ri,ae,{});W.featureIndex.insert(N[ri].feature,Hn,ri,xi,this.index)}},xl.prototype.update=function(N,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(N,W,this.stateDependentLayers,ae)},xl.prototype.addFeatures=function(N,W,ae){for(var me=0,Se=this.patternFeatures;me<Se.length;me+=1){var Le=Se[me];this.addFeature(Le,Le.geometry,Le.index,W,ae)}},xl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},xl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},xl.prototype.upload=function(N){this.uploaded||(this.layoutVertexBuffer=N.createVertexBuffer(this.layoutVertexArray,b0),this.indexBuffer=N.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(N),this.uploaded=!0},xl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},xl.prototype.addFeature=function(N,W,ae,me,Se){for(var Le=this.layers[0].layout,rt=Le.get("line-join").evaluate(N,{}),mt=Le.get("line-cap"),Mt=Le.get("line-miter-limit"),Pt=Le.get("line-round-limit"),Jt=0,cr=W;Jt<cr.length;Jt+=1)this.addLine(cr[Jt],N,rt,mt,Mt,Pt);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,N,ae,Se,me)},xl.prototype.addLine=function(N,W,ae,me,Se,Le){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,W.properties&&W.properties.hasOwnProperty("mapbox_clip_start")&&W.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+W.properties.mapbox_clip_start,this.clipEnd=+W.properties.mapbox_clip_end;for(var rt=0;rt<N.length-1;rt++)this.totalDistance+=N[rt].dist(N[rt+1]);this.updateScaledDistance()}for(var mt="Polygon"===Nh[W.type],Mt=N.length;Mt>=2&&N[Mt-1].equals(N[Mt-2]);)Mt--;for(var Pt=0;Pt<Mt-1&&N[Pt].equals(N[Pt+1]);)Pt++;if(!(Mt<(mt?3:2))){"bevel"===ae&&(Se=1.05);var lr,Jt=this.overscaling<=16?15*Xi/(512*this.overscaling):0,cr=this.segments.prepareSegment(10*Mt,this.layoutVertexArray,this.indexArray),Dr=void 0,Zr=void 0,xn=void 0,hn=void 0;this.e1=this.e2=-1,mt&&(hn=N[Pt].sub(lr=N[Mt-2])._unit()._perp());for(var On=Pt;On<Mt;On++)if(!(Zr=On===Mt-1?mt?N[Pt+1]:void 0:N[On+1])||!N[On].equals(Zr)){hn&&(xn=hn),lr&&(Dr=lr),lr=N[On],hn=Zr?Zr.sub(lr)._unit()._perp():xn;var Ln=(xn=xn||hn).add(hn);(0!==Ln.x||0!==Ln.y)&&Ln._unit();var kn=xn.x*hn.x+xn.y*hn.y,Hn=Ln.x*hn.x+Ln.y*hn.y,ri=0!==Hn?1/Hn:1/0,xi=2*Math.sqrt(2-2*Hn),di=Hn<ay&&Dr&&Zr,Bi=xn.x*hn.y-xn.y*hn.x>0;if(di&&On>Pt){var Li=lr.dist(Dr);if(Li>2*Jt){var Ui=lr.sub(lr.sub(Dr)._mult(Jt/Li)._round());this.updateDistance(Dr,Ui),this.addCurrentVertex(Ui,xn,0,0,cr),Dr=Ui}}var ua=Dr&&Zr,Hi=ua?ae:mt?"butt":me;if(ua&&"round"===Hi&&(ri<Le?Hi="miter":ri<=2&&(Hi="fakeround")),"miter"===Hi&&ri>Se&&(Hi="bevel"),"bevel"===Hi&&(ri>2&&(Hi="flipbevel"),ri<Se&&(Hi="miter")),Dr&&this.updateDistance(Dr,lr),"miter"===Hi)Ln._mult(ri),this.addCurrentVertex(lr,Ln,0,0,cr);else if("flipbevel"===Hi){if(ri>100)Ln=hn.mult(-1);else{var Wi=ri*xn.add(hn).mag()/xn.sub(hn).mag();Ln._perp()._mult(Wi*(Bi?-1:1))}this.addCurrentVertex(lr,Ln,0,0,cr),this.addCurrentVertex(lr,Ln.mult(-1),0,0,cr)}else if("bevel"===Hi||"fakeround"===Hi){var pa=-Math.sqrt(ri*ri-1),aa=Bi?pa:0,Ea=Bi?0:pa;if(Dr&&this.addCurrentVertex(lr,xn,aa,Ea,cr),"fakeround"===Hi)for(var $a=Math.round(180*xi/Math.PI/20),Ra=1;Ra<$a;Ra++){var Na=Ra/$a;if(.5!==Na){var Fa=Na-.5;Na+=Na*Fa*(Na-1)*((1.0904+kn*(kn*(3.55645-1.43519*kn)-3.2452))*Fa*Fa+(.848013+kn*(.215638*kn-1.06021)))}var Lo=hn.sub(xn)._mult(Na)._add(xn)._unit()._mult(Bi?-1:1);this.addHalfVertex(lr,Lo.x,Lo.y,!1,Bi,0,cr)}Zr&&this.addCurrentVertex(lr,hn,-aa,-Ea,cr)}else if("butt"===Hi)this.addCurrentVertex(lr,Ln,0,0,cr);else if("square"===Hi){var es=Dr?1:-1;this.addCurrentVertex(lr,Ln,es,es,cr)}else"round"===Hi&&(Dr&&(this.addCurrentVertex(lr,xn,0,0,cr),this.addCurrentVertex(lr,xn,1,1,cr,!0)),Zr&&(this.addCurrentVertex(lr,hn,-1,-1,cr,!0),this.addCurrentVertex(lr,hn,0,0,cr)));if(di&&On<Mt-1){var Ss=lr.dist(Zr);if(Ss>2*Jt){var gs=lr.add(Zr.sub(lr)._mult(Jt/Ss)._round());this.updateDistance(lr,gs),this.addCurrentVertex(gs,hn,0,0,cr),lr=gs}}}}},xl.prototype.addCurrentVertex=function(N,W,ae,me,Se,Le){void 0===Le&&(Le=!1);var Mt=W.y*me-W.x,Pt=-W.y-W.x*me;this.addHalfVertex(N,W.x+W.y*ae,W.y-W.x*ae,Le,!1,ae,Se),this.addHalfVertex(N,Mt,Pt,Le,!0,-me,Se),this.distance>T0/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(N,W,ae,me,Se,Le))},xl.prototype.addHalfVertex=function(N,W,ae,me,Se,Le,rt){var Pt=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((N.x<<1)+(me?1:0),(N.y<<1)+(Se?1:0),Math.round(63*W)+128,Math.round(63*ae)+128,1+(0===Le?0:Le<0?-1:1)|(63&Pt)<<2,Pt>>6);var Jt=rt.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Jt),rt.primitiveLength++),Se?this.e2=Jt:this.e1=Jt},xl.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(T0-1):this.distance},xl.prototype.updateDistance=function(N,W){this.distance+=N.dist(W),this.updateScaledDistance()},Ci("LineBucket",xl,{omit:["layers","patternFeatures"]});var sy=new Ba({"line-cap":new ai(qt.layout_line["line-cap"]),"line-join":new Ni(qt.layout_line["line-join"]),"line-miter-limit":new ai(qt.layout_line["line-miter-limit"]),"line-round-limit":new ai(qt.layout_line["line-round-limit"]),"line-sort-key":new Ni(qt.layout_line["line-sort-key"])}),M0={paint:new Ba({"line-opacity":new Ni(qt.paint_line["line-opacity"]),"line-color":new Ni(qt.paint_line["line-color"]),"line-translate":new ai(qt.paint_line["line-translate"]),"line-translate-anchor":new ai(qt.paint_line["line-translate-anchor"]),"line-width":new Ni(qt.paint_line["line-width"]),"line-gap-width":new Ni(qt.paint_line["line-gap-width"]),"line-offset":new Ni(qt.paint_line["line-offset"]),"line-blur":new Ni(qt.paint_line["line-blur"]),"line-dasharray":new za(qt.paint_line["line-dasharray"]),"line-pattern":new ka(qt.paint_line["line-pattern"]),"line-gradient":new ho(qt.paint_line["line-gradient"])}),layout:sy},Qv=function(O){function N(){O.apply(this,arguments)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.possiblyEvaluate=function(ae,me){return me=new Gi(Math.floor(me.zoom),{now:me.now,fadeDuration:me.fadeDuration,zoomHistory:me.zoomHistory,transition:me.transition}),O.prototype.possiblyEvaluate.call(this,ae,me)},N.prototype.evaluate=function(ae,me,Se,Le){return me=u({},me,{zoom:Math.floor(me.zoom)}),O.prototype.evaluate.call(this,ae,me,Se,Le)},N}(Ni),cd=new Qv(M0.paint.properties["line-width"].specification);cd.useIntegerZoom=!0;var ly=function(O){function N(W){O.call(this,W,M0)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype._handleSpecialPaintPropertyUpdate=function(ae){"line-gradient"===ae&&this._updateGradient()},N.prototype._updateGradient=function(){this.gradient=c0(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},N.prototype.recalculate=function(ae,me){O.prototype.recalculate.call(this,ae,me),this.paint._values["line-floorwidth"]=cd.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ae)},N.prototype.createBucket=function(ae){return new xl(ae)},N.prototype.queryRadius=function(ae){var me=ae,Se=qv(pl("line-width",this,me),pl("line-gap-width",this,me)),Le=pl("line-offset",this,me);return Se/2+Math.abs(Le)+yl(this.paint.get("line-translate"))},N.prototype.queryIntersectsFeature=function(ae,me,Se,Le,rt,mt,Mt){var Pt=nf(ae,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),mt.angle,Mt),Jt=Mt/2*qv(this.paint.get("line-width").evaluate(me,Se),this.paint.get("line-gap-width").evaluate(me,Se)),cr=this.paint.get("line-offset").evaluate(me,Se);return cr&&(Le=function ep(O,N){for(var W=[],ae=new r(0,0),me=0;me<O.length;me++){for(var Se=O[me],Le=[],rt=0;rt<Se.length;rt++){var Mt=Se[rt],Pt=Se[rt+1],Jt=0===rt?ae:Mt.sub(Se[rt-1])._unit()._perp(),cr=rt===Se.length-1?ae:Pt.sub(Mt)._unit()._perp(),lr=Jt._add(cr)._unit();lr._mult(1/(lr.x*cr.x+lr.y*cr.y)),Le.push(lr._mult(N)._add(Mt))}W.push(Le)}return W}(Le,cr*Mt)),function is(O,N,W){for(var ae=0;ae<N.length;ae++){var me=N[ae];if(O.length>=3)for(var Se=0;Se<me.length;Se++)if(hs(O,me[Se]))return!0;if(vo(O,me,W))return!0}return!1}(Pt,Le,Jt)},N.prototype.isTileClipped=function(){return!0},N}(Bo);function qv(O,N){return N>0?N+2*O:O}var tp=xa([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),S0=xa([{name:"a_projected_pos",components:3,type:"Float32"}],4),K1=(xa([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),xa([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),uy=(xa([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),xa([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),$1=xa([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function ex(O,N,W){return O.sections.forEach(function(ae){ae.text=function hd(O,N,W){var ae=N.layout.get("text-transform").evaluate(W,{});return"uppercase"===ae?O=O.toLocaleUpperCase():"lowercase"===ae&&(O=O.toLocaleLowerCase()),Ii.applyArabicShaping&&(O=Ii.applyArabicShaping(O)),O}(ae.text,N,W)}),O}xa([{name:"triangle",components:3,type:"Uint16"}]),xa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),xa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),xa([{type:"Float32",name:"offsetX"}]),xa([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var np={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var ds=24,zh_read=function(O,N,W,ae,me){var Se,Le,rt=8*me-ae-1,mt=(1<<rt)-1,Mt=mt>>1,Pt=-7,Jt=W?me-1:0,cr=W?-1:1,lr=O[N+Jt];for(Jt+=cr,Se=lr&(1<<-Pt)-1,lr>>=-Pt,Pt+=rt;Pt>0;Se=256*Se+O[N+Jt],Jt+=cr,Pt-=8);for(Le=Se&(1<<-Pt)-1,Se>>=-Pt,Pt+=ae;Pt>0;Le=256*Le+O[N+Jt],Jt+=cr,Pt-=8);if(0===Se)Se=1-Mt;else{if(Se===mt)return Le?NaN:1/0*(lr?-1:1);Le+=Math.pow(2,ae),Se-=Mt}return(lr?-1:1)*Le*Math.pow(2,Se-ae)},zh_write=function(O,N,W,ae,me,Se){var Le,rt,mt,Mt=8*Se-me-1,Pt=(1<<Mt)-1,Jt=Pt>>1,cr=23===me?Math.pow(2,-24)-Math.pow(2,-77):0,lr=ae?0:Se-1,Dr=ae?1:-1,Zr=N<0||0===N&&1/N<0?1:0;for(N=Math.abs(N),isNaN(N)||N===1/0?(rt=isNaN(N)?1:0,Le=Pt):(Le=Math.floor(Math.log(N)/Math.LN2),N*(mt=Math.pow(2,-Le))<1&&(Le--,mt*=2),(N+=Le+Jt>=1?cr/mt:cr*Math.pow(2,1-Jt))*mt>=2&&(Le++,mt/=2),Le+Jt>=Pt?(rt=0,Le=Pt):Le+Jt>=1?(rt=(N*mt-1)*Math.pow(2,me),Le+=Jt):(rt=N*Math.pow(2,Jt-1)*Math.pow(2,me),Le=0));me>=8;O[W+lr]=255&rt,lr+=Dr,rt/=256,me-=8);for(Le=Le<<me|rt,Mt+=me;Mt>0;O[W+lr]=255&Le,lr+=Dr,Le/=256,Mt-=8);O[W+lr-Dr]|=128*Zr},vd=ao;function ao(O){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(O)?O:new Uint8Array(O||0),this.pos=0,this.type=0,this.length=this.buf.length}ao.Varint=0,ao.Fixed64=1,ao.Bytes=2,ao.Fixed32=5;var ip=4294967296,E0=1/ip,hy=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ec(O){return O.type===ao.Bytes?O.readVarint()+O.pos:O.pos+1}function dy(O,N,W){var ae=N<=16383?1:N<=2097151?2:N<=268435455?3:Math.floor(Math.log(N)/(7*Math.LN2));W.realloc(ae);for(var me=W.pos-1;me>=O;me--)W.buf[me+ae]=W.buf[me]}function Tw(O,N){for(var W=0;W<O.length;W++)N.writeVarint(O[W])}function Aw(O,N){for(var W=0;W<O.length;W++)N.writeSVarint(O[W])}function Mw(O,N){for(var W=0;W<O.length;W++)N.writeFloat(O[W])}function Sw(O,N){for(var W=0;W<O.length;W++)N.writeDouble(O[W])}function Cw(O,N){for(var W=0;W<O.length;W++)N.writeBoolean(O[W])}function vy(O,N){for(var W=0;W<O.length;W++)N.writeFixed32(O[W])}function ox(O,N){for(var W=0;W<O.length;W++)N.writeSFixed32(O[W])}function sx(O,N){for(var W=0;W<O.length;W++)N.writeFixed64(O[W])}function lx(O,N){for(var W=0;W<O.length;W++)N.writeSFixed64(O[W])}function ap(O,N){return(O[N]|O[N+1]<<8|O[N+2]<<16)+16777216*O[N+3]}function ih(O,N,W){O[W]=N,O[W+1]=N>>>8,O[W+2]=N>>>16,O[W+3]=N>>>24}function ec(O,N){return(O[N]|O[N+1]<<8|O[N+2]<<16)+(O[N+3]<<24)}ao.prototype={destroy:function(){this.buf=null},readFields:function(O,N,W){for(W=W||this.length;this.pos<W;){var ae=this.readVarint(),me=ae>>3,Se=this.pos;this.type=7&ae,O(me,N,this),this.pos===Se&&this.skip(ae)}return N},readMessage:function(O,N){return this.readFields(O,N,this.readVarint()+this.pos)},readFixed32:function(){var O=ap(this.buf,this.pos);return this.pos+=4,O},readSFixed32:function(){var O=ec(this.buf,this.pos);return this.pos+=4,O},readFixed64:function(){var O=ap(this.buf,this.pos)+ap(this.buf,this.pos+4)*ip;return this.pos+=8,O},readSFixed64:function(){var O=ap(this.buf,this.pos)+ec(this.buf,this.pos+4)*ip;return this.pos+=8,O},readFloat:function(){var O=zh_read(this.buf,this.pos,!0,23,4);return this.pos+=4,O},readDouble:function(){var O=zh_read(this.buf,this.pos,!0,52,8);return this.pos+=8,O},readVarint:function(O){var W,ae,N=this.buf;return W=127&(ae=N[this.pos++]),ae<128||(W|=(127&(ae=N[this.pos++]))<<7,ae<128)||(W|=(127&(ae=N[this.pos++]))<<14,ae<128)||(W|=(127&(ae=N[this.pos++]))<<21,ae<128)?W:function ix(O,N,W){var me,Se,ae=W.buf;if(me=(112&(Se=ae[W.pos++]))>>4,Se<128||(me|=(127&(Se=ae[W.pos++]))<<3,Se<128)||(me|=(127&(Se=ae[W.pos++]))<<10,Se<128)||(me|=(127&(Se=ae[W.pos++]))<<17,Se<128)||(me|=(127&(Se=ae[W.pos++]))<<24,Se<128)||(me|=(1&(Se=ae[W.pos++]))<<31,Se<128))return function pd(O,N,W){return W?4294967296*N+(O>>>0):4294967296*(N>>>0)+(O>>>0)}(O,me,N);throw new Error("Expected varint not more than 10 bytes")}(W|=(15&(ae=N[this.pos]))<<28,O,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var O=this.readVarint();return O%2==1?(O+1)/-2:O/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var O=this.readVarint()+this.pos,N=this.pos;return this.pos=O,O-N>=12&&hy?function py(O,N,W){return hy.decode(O.subarray(N,W))}(this.buf,N,O):function av(O,N,W){for(var ae="",me=N;me<W;){var mt,Mt,Pt,Se=O[me],Le=null,rt=Se>239?4:Se>223?3:Se>191?2:1;if(me+rt>W)break;1===rt?Se<128&&(Le=Se):2===rt?128==(192&(mt=O[me+1]))&&(Le=(31&Se)<<6|63&mt)<=127&&(Le=null):3===rt?(Mt=O[me+2],128==(192&(mt=O[me+1]))&&128==(192&Mt)&&((Le=(15&Se)<<12|(63&mt)<<6|63&Mt)<=2047||Le>=55296&&Le<=57343)&&(Le=null)):4===rt&&(Mt=O[me+2],Pt=O[me+3],128==(192&(mt=O[me+1]))&&128==(192&Mt)&&128==(192&Pt)&&((Le=(15&Se)<<18|(63&mt)<<12|(63&Mt)<<6|63&Pt)<=65535||Le>=1114112)&&(Le=null)),null===Le?(Le=65533,rt=1):Le>65535&&(Le-=65536,ae+=String.fromCharCode(Le>>>10&1023|55296),Le=56320|1023&Le),ae+=String.fromCharCode(Le),me+=rt}return ae}(this.buf,N,O)},readBytes:function(){var O=this.readVarint()+this.pos,N=this.buf.subarray(this.pos,O);return this.pos=O,N},readPackedVarint:function(O,N){if(this.type!==ao.Bytes)return O.push(this.readVarint(N));var W=Ec(this);for(O=O||[];this.pos<W;)O.push(this.readVarint(N));return O},readPackedSVarint:function(O){if(this.type!==ao.Bytes)return O.push(this.readSVarint());var N=Ec(this);for(O=O||[];this.pos<N;)O.push(this.readSVarint());return O},readPackedBoolean:function(O){if(this.type!==ao.Bytes)return O.push(this.readBoolean());var N=Ec(this);for(O=O||[];this.pos<N;)O.push(this.readBoolean());return O},readPackedFloat:function(O){if(this.type!==ao.Bytes)return O.push(this.readFloat());var N=Ec(this);for(O=O||[];this.pos<N;)O.push(this.readFloat());return O},readPackedDouble:function(O){if(this.type!==ao.Bytes)return O.push(this.readDouble());var N=Ec(this);for(O=O||[];this.pos<N;)O.push(this.readDouble());return O},readPackedFixed32:function(O){if(this.type!==ao.Bytes)return O.push(this.readFixed32());var N=Ec(this);for(O=O||[];this.pos<N;)O.push(this.readFixed32());return O},readPackedSFixed32:function(O){if(this.type!==ao.Bytes)return O.push(this.readSFixed32());var N=Ec(this);for(O=O||[];this.pos<N;)O.push(this.readSFixed32());return O},readPackedFixed64:function(O){if(this.type!==ao.Bytes)return O.push(this.readFixed64());var N=Ec(this);for(O=O||[];this.pos<N;)O.push(this.readFixed64());return O},readPackedSFixed64:function(O){if(this.type!==ao.Bytes)return O.push(this.readSFixed64());var N=Ec(this);for(O=O||[];this.pos<N;)O.push(this.readSFixed64());return O},skip:function(O){var N=7&O;if(N===ao.Varint)for(;this.buf[this.pos++]>127;);else if(N===ao.Bytes)this.pos=this.readVarint()+this.pos;else if(N===ao.Fixed32)this.pos+=4;else{if(N!==ao.Fixed64)throw new Error("Unimplemented type: "+N);this.pos+=8}},writeTag:function(O,N){this.writeVarint(O<<3|N)},realloc:function(O){for(var N=this.length||16;N<this.pos+O;)N*=2;if(N!==this.length){var W=new Uint8Array(N);W.set(this.buf),this.buf=W,this.length=N}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(O){this.realloc(4),ih(this.buf,O,this.pos),this.pos+=4},writeSFixed32:function(O){this.realloc(4),ih(this.buf,O,this.pos),this.pos+=4},writeFixed64:function(O){this.realloc(8),ih(this.buf,-1&O,this.pos),ih(this.buf,Math.floor(O*E0),this.pos+4),this.pos+=8},writeSFixed64:function(O){this.realloc(8),ih(this.buf,-1&O,this.pos),ih(this.buf,Math.floor(O*E0),this.pos+4),this.pos+=8},writeVarint:function(O){(O=+O||0)>268435455||O<0?function ax(O,N){var W,ae;if(O>=0?(W=O%4294967296|0,ae=O/4294967296|0):(ae=~(-O/4294967296),4294967295^(W=~(-O%4294967296))?W=W+1|0:(W=0,ae=ae+1|0)),O>=0x10000000000000000||O<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");N.realloc(10),function nh(O,N,W){W.buf[W.pos++]=127&O|128,O>>>=7,W.buf[W.pos++]=127&O|128,O>>>=7,W.buf[W.pos++]=127&O|128,O>>>=7,W.buf[W.pos++]=127&O|128,W.buf[W.pos]=127&(O>>>=7)}(W,0,N),function iv(O,N){var W=(7&O)<<4;N.buf[N.pos++]|=W|((O>>>=3)?128:0),O&&(N.buf[N.pos++]=127&O|((O>>>=7)?128:0),O&&(N.buf[N.pos++]=127&O|((O>>>=7)?128:0),O&&(N.buf[N.pos++]=127&O|((O>>>=7)?128:0),O&&(N.buf[N.pos++]=127&O|((O>>>=7)?128:0),O&&(N.buf[N.pos++]=127&O)))))}(ae,N)}(O,this):(this.realloc(4),this.buf[this.pos++]=127&O|(O>127?128:0),!(O<=127)&&(this.buf[this.pos++]=127&(O>>>=7)|(O>127?128:0),!(O<=127)&&(this.buf[this.pos++]=127&(O>>>=7)|(O>127?128:0),!(O<=127)&&(this.buf[this.pos++]=O>>>7&127))))},writeSVarint:function(O){this.writeVarint(O<0?2*-O-1:2*O)},writeBoolean:function(O){this.writeVarint(!!O)},writeString:function(O){O=String(O),this.realloc(4*O.length),this.pos++;var N=this.pos;this.pos=function gy(O,N,W){for(var me,Se,ae=0;ae<N.length;ae++){if((me=N.charCodeAt(ae))>55295&&me<57344){if(!Se){me>56319||ae+1===N.length?(O[W++]=239,O[W++]=191,O[W++]=189):Se=me;continue}if(me<56320){O[W++]=239,O[W++]=191,O[W++]=189,Se=me;continue}me=Se-55296<<10|me-56320|65536,Se=null}else Se&&(O[W++]=239,O[W++]=191,O[W++]=189,Se=null);me<128?O[W++]=me:(me<2048?O[W++]=me>>6|192:(me<65536?O[W++]=me>>12|224:(O[W++]=me>>18|240,O[W++]=me>>12&63|128),O[W++]=me>>6&63|128),O[W++]=63&me|128)}return W}(this.buf,O,this.pos);var W=this.pos-N;W>=128&&dy(N,W,this),this.pos=N-1,this.writeVarint(W),this.pos+=W},writeFloat:function(O){this.realloc(4),zh_write(this.buf,O,this.pos,!0,23,4),this.pos+=4},writeDouble:function(O){this.realloc(8),zh_write(this.buf,O,this.pos,!0,52,8),this.pos+=8},writeBytes:function(O){var N=O.length;this.writeVarint(N),this.realloc(N);for(var W=0;W<N;W++)this.buf[this.pos++]=O[W]},writeRawMessage:function(O,N){this.pos++;var W=this.pos;O(N,this);var ae=this.pos-W;ae>=128&&dy(W,ae,this),this.pos=W-1,this.writeVarint(ae),this.pos+=ae},writeMessage:function(O,N,W){this.writeTag(O,ao.Bytes),this.writeRawMessage(N,W)},writePackedVarint:function(O,N){N.length&&this.writeMessage(O,Tw,N)},writePackedSVarint:function(O,N){N.length&&this.writeMessage(O,Aw,N)},writePackedBoolean:function(O,N){N.length&&this.writeMessage(O,Cw,N)},writePackedFloat:function(O,N){N.length&&this.writeMessage(O,Mw,N)},writePackedDouble:function(O,N){N.length&&this.writeMessage(O,Sw,N)},writePackedFixed32:function(O,N){N.length&&this.writeMessage(O,vy,N)},writePackedSFixed32:function(O,N){N.length&&this.writeMessage(O,ox,N)},writePackedFixed64:function(O,N){N.length&&this.writeMessage(O,sx,N)},writePackedSFixed64:function(O,N){N.length&&this.writeMessage(O,lx,N)},writeBytesField:function(O,N){this.writeTag(O,ao.Bytes),this.writeBytes(N)},writeFixed32Field:function(O,N){this.writeTag(O,ao.Fixed32),this.writeFixed32(N)},writeSFixed32Field:function(O,N){this.writeTag(O,ao.Fixed32),this.writeSFixed32(N)},writeFixed64Field:function(O,N){this.writeTag(O,ao.Fixed64),this.writeFixed64(N)},writeSFixed64Field:function(O,N){this.writeTag(O,ao.Fixed64),this.writeSFixed64(N)},writeVarintField:function(O,N){this.writeTag(O,ao.Varint),this.writeVarint(N)},writeSVarintField:function(O,N){this.writeTag(O,ao.Varint),this.writeSVarint(N)},writeStringField:function(O,N){this.writeTag(O,ao.Bytes),this.writeString(N)},writeFloatField:function(O,N){this.writeTag(O,ao.Fixed32),this.writeFloat(N)},writeDoubleField:function(O,N){this.writeTag(O,ao.Fixed64),this.writeDouble(N)},writeBooleanField:function(O,N){this.writeVarintField(O,!!N)}};var op=3;function Ew(O,N,W){1===O&&W.readMessage(Dw,N)}function Dw(O,N,W){if(3===O){var ae=W.readMessage(Lw,{}),Le=ae.width,rt=ae.height,mt=ae.left,Mt=ae.top,Pt=ae.advance;N.push({id:ae.id,bitmap:new lf({width:Le+2*op,height:rt+2*op},ae.bitmap),metrics:{width:Le,height:rt,left:mt,top:Mt,advance:Pt}})}}function Lw(O,N,W){1===O?N.id=W.readVarint():2===O?N.bitmap=W.readBytes():3===O?N.width=W.readVarint():4===O?N.height=W.readVarint():5===O?N.left=W.readSVarint():6===O?N.top=W.readSVarint():7===O&&(N.advance=W.readVarint())}var sp=op;function ux(O){for(var N=0,W=0,ae=0,me=O;ae<me.length;ae+=1){var Se=me[ae];N+=Se.w*Se.h,W=Math.max(W,Se.w)}O.sort(function(xn,hn){return hn.h-xn.h});for(var rt=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(N/.95)),W),h:1/0}],mt=0,Mt=0,Pt=0,Jt=O;Pt<Jt.length;Pt+=1)for(var cr=Jt[Pt],lr=rt.length-1;lr>=0;lr--){var Dr=rt[lr];if(!(cr.w>Dr.w||cr.h>Dr.h)){if(cr.x=Dr.x,cr.y=Dr.y,Mt=Math.max(Mt,cr.y+cr.h),mt=Math.max(mt,cr.x+cr.w),cr.w===Dr.w&&cr.h===Dr.h){var Zr=rt.pop();lr<rt.length&&(rt[lr]=Zr)}else cr.h===Dr.h?(Dr.x+=cr.w,Dr.w-=cr.w):cr.w===Dr.w?(Dr.y+=cr.h,Dr.h-=cr.h):(rt.push({x:Dr.x+cr.w,y:Dr.y,w:Dr.w-cr.w,h:cr.h}),Dr.y+=cr.h,Dr.h-=cr.h);break}}return{w:mt,h:Mt,fill:N/(mt*Mt)||0}}var du=1,ov=function(N,W){var ae=W.pixelRatio,me=W.version,Se=W.stretchX,Le=W.stretchY,rt=W.content;this.paddedRect=N,this.pixelRatio=ae,this.stretchX=Se,this.stretchY=Le,this.content=rt,this.version=me},sv={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};sv.tl.get=function(){return[this.paddedRect.x+du,this.paddedRect.y+du]},sv.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-du,this.paddedRect.y+this.paddedRect.h-du]},sv.tlbr.get=function(){return this.tl.concat(this.br)},sv.displaySize.get=function(){return[(this.paddedRect.w-2*du)/this.pixelRatio,(this.paddedRect.h-2*du)/this.pixelRatio]},Object.defineProperties(ov.prototype,sv);var lv=function(N,W){var ae={},me={};this.haveRenderCallbacks=[];var Se=[];this.addImages(N,ae,Se),this.addImages(W,me,Se);var Le=ux(Se),Mt=new Rs({width:Le.w||1,height:Le.h||1});for(var Pt in N){var Jt=N[Pt],cr=ae[Pt].paddedRect;Rs.copy(Jt.data,Mt,{x:0,y:0},{x:cr.x+du,y:cr.y+du},Jt.data)}for(var lr in W){var Dr=W[lr],Zr=me[lr].paddedRect,xn=Zr.x+du,hn=Zr.y+du,On=Dr.data.width,Ln=Dr.data.height;Rs.copy(Dr.data,Mt,{x:0,y:0},{x:xn,y:hn},Dr.data),Rs.copy(Dr.data,Mt,{x:0,y:Ln-1},{x:xn,y:hn-1},{width:On,height:1}),Rs.copy(Dr.data,Mt,{x:0,y:0},{x:xn,y:hn+Ln},{width:On,height:1}),Rs.copy(Dr.data,Mt,{x:On-1,y:0},{x:xn-1,y:hn},{width:1,height:Ln}),Rs.copy(Dr.data,Mt,{x:0,y:0},{x:xn+On,y:hn},{width:1,height:Ln})}this.image=Mt,this.iconPositions=ae,this.patternPositions=me};lv.prototype.addImages=function(N,W,ae){for(var me in N){var Se=N[me],Le={x:0,y:0,w:Se.data.width+2*du,h:Se.data.height+2*du};ae.push(Le),W[me]=new ov(Le,Se),Se.hasRenderCallback&&this.haveRenderCallbacks.push(me)}},lv.prototype.patchUpdatedImages=function(N,W){for(var ae in N.dispatchRenderCallbacks(this.haveRenderCallbacks),N.updatedImages)this.patchUpdatedImage(this.iconPositions[ae],N.getImage(ae),W),this.patchUpdatedImage(this.patternPositions[ae],N.getImage(ae),W)},lv.prototype.patchUpdatedImage=function(N,W,ae){if(N&&W&&N.version!==W.version){N.version=W.version;var me=N.tl;ae.update(W.data,void 0,{x:me[0],y:me[1]})}},Ci("ImagePosition",ov),Ci("ImageAtlas",lv);var vu={horizontal:1,vertical:2,horizontalOnly:3},uv=-17;var ah=function(){this.scale=1,this.fontStack="",this.imageName=null};ah.forText=function(N,W){var ae=new ah;return ae.scale=N||1,ae.fontStack=W,ae},ah.forImage=function(N){var W=new ah;return W.imageName=N,W};var qs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function lp(O,N,W,ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr,lr,Dr,Zr){var xn=qs.fromFeature(O,me);Jt===vu.vertical&&xn.verticalizePunctuation();var hn,On=Ii.processBidirectionalText,Ln=Ii.processStyledBidirectionalText;if(On&&1===xn.sections.length){hn=[];for(var Hn=0,ri=On(xn.toString(),wy(xn,Mt,Se,N,ae,lr,Dr));Hn<ri.length;Hn+=1){var xi=ri[Hn],di=new qs;di.text=xi,di.sections=xn.sections;for(var Bi=0;Bi<xi.length;Bi++)di.sectionIndex.push(0);hn.push(di)}}else if(Ln){hn=[];for(var Ui=0,ua=Ln(xn.text,xn.sectionIndex,wy(xn,Mt,Se,N,ae,lr,Dr));Ui<ua.length;Ui+=1){var Hi=ua[Ui],Wi=new qs;Wi.text=Hi[0],Wi.sectionIndex=Hi[1],Wi.sections=xn.sections,hn.push(Wi)}}else hn=function gd(O,N){for(var W=[],ae=O.text,me=0,Se=0,Le=N;Se<Le.length;Se+=1){var rt=Le[Se];W.push(O.substring(me,rt)),me=rt}return me<ae.length&&W.push(O.substring(me,ae.length)),W}(xn,wy(xn,Mt,Se,N,ae,lr,Dr));var pa=[],aa={positionedLines:pa,text:xn.toString(),top:Pt[1],bottom:Pt[1],left:Pt[0],right:Pt[0],writingMode:Jt,iconsInText:!1,verticalizable:!1};return function cv(O,N,W,ae,me,Se,Le,rt,mt,Mt,Pt,Jt){for(var cr=0,lr=uv,Dr=0,Zr=0,xn="right"===rt?1:"left"===rt?0:.5,hn=0,On=0,Ln=me;On<Ln.length;On+=1){var kn=Ln[On];kn.trim();var Hn=kn.getMaxScale(),ri=(Hn-1)*ds,xi={positionedGlyphs:[],lineOffset:0};O.positionedLines[hn]=xi;var di=xi.positionedGlyphs,Bi=0;if(kn.length()){for(var Li=0;Li<kn.length();Li++){var Ui=kn.getSection(Li),ua=kn.getSectionIndex(Li),Hi=kn.getCharCode(Li),Wi=0,pa=null,aa=null,Ea=null,$a=ds,Ra=!(mt===vu.horizontal||!Pt&&!Nt(Hi)||Pt&&(tc[Hi]||sr(Hi)));if(Ui.imageName){var Lo=ae[Ui.imageName];if(!Lo)continue;Ea=Ui.imageName,O.iconsInText=O.iconsInText||!0,aa=Lo.paddedRect;var es=Lo.displaySize;Ui.scale=Ui.scale*ds/Jt,Wi=ri+(ds-es[1]*Ui.scale),$a=(pa={width:es[0],height:es[1],left:du,top:-sp,advance:Ra?es[1]:es[0]}).advance;var gs=Ra?es[0]*Ui.scale-ds*Hn:es[1]*Ui.scale-ds*Hn;gs>0&&gs>Bi&&(Bi=gs)}else{var Na=W[Ui.fontStack],Fa=Na&&Na[Hi];if(Fa&&Fa.rect)aa=Fa.rect,pa=Fa.metrics;else{var oo=N[Ui.fontStack],so=oo&&oo[Hi];if(!so)continue;pa=so.metrics}Wi=(Hn-Ui.scale)*ds}Ra?(O.verticalizable=!0,di.push({glyph:Hi,imageName:Ea,x:cr,y:lr+Wi,vertical:Ra,scale:Ui.scale,fontStack:Ui.fontStack,sectionIndex:ua,metrics:pa,rect:aa}),cr+=$a*Ui.scale+Mt):(di.push({glyph:Hi,imageName:Ea,x:cr,y:lr+Wi,vertical:Ra,scale:Ui.scale,fontStack:Ui.fontStack,sectionIndex:ua,metrics:pa,rect:aa}),cr+=pa.advance*Ui.scale+Mt)}0!==di.length&&(Dr=Math.max(cr-Mt,Dr),ia(di,0,di.length-1,xn,Bi)),cr=0;var js=Se*Hn+Bi;xi.lineOffset=Math.max(Bi,ri),lr+=js,Zr=Math.max(js,Zr),++hn}else lr+=Se,++hn}var ys=lr-uv,zl=Ty(Le),Fs=zl.horizontalAlign,as=zl.verticalAlign;(function hv(O,N,W,ae,me,Se,Le,rt,mt){var Mt=(N-W)*me,Pt=0;Pt=Se!==Le?-rt*ae-uv:(-ae*mt+.5)*Le;for(var Jt=0,cr=O;Jt<cr.length;Jt+=1)for(var Dr=0,Zr=cr[Jt].positionedGlyphs;Dr<Zr.length;Dr+=1){var xn=Zr[Dr];xn.x+=Mt,xn.y+=Pt}})(O.positionedLines,xn,Fs,as,Dr,Zr,Se,ys,me.length),O.top+=-as*ys,O.bottom=O.top+ys,O.left+=-Fs*Dr,O.right=O.left+Dr}(aa,N,W,ae,hn,Le,rt,mt,Jt,Mt,cr,Zr),!function yy(O){for(var N=0,W=O;N<W.length;N+=1)if(0!==W[N].positionedGlyphs.length)return!1;return!0}(pa)&&aa}qs.fromFeature=function(N,W){for(var ae=new qs,me=0;me<N.sections.length;me++){var Se=N.sections[me];Se.image?ae.addImageSection(Se):ae.addTextSection(Se,W)}return ae},qs.prototype.length=function(){return this.text.length},qs.prototype.getSection=function(N){return this.sections[this.sectionIndex[N]]},qs.prototype.getSectionIndex=function(N){return this.sectionIndex[N]},qs.prototype.getCharCode=function(N){return this.text.charCodeAt(N)},qs.prototype.verticalizePunctuation=function(){this.text=function rx(O){for(var N="",W=0;W<O.length;W++){var ae=O.charCodeAt(W+1)||null,me=O.charCodeAt(W-1)||null;N+=ae&&Yt(ae)&&!np[O[W+1]]||me&&Yt(me)&&!np[O[W-1]]||!np[O[W]]?O[W]:np[O[W]]}return N}(this.text)},qs.prototype.trim=function(){for(var N=0,W=0;W<this.text.length&&tc[this.text.charCodeAt(W)];W++)N++;for(var ae=this.text.length,me=this.text.length-1;me>=0&&me>=N&&tc[this.text.charCodeAt(me)];me--)ae--;this.text=this.text.substring(N,ae),this.sectionIndex=this.sectionIndex.slice(N,ae)},qs.prototype.substring=function(N,W){var ae=new qs;return ae.text=this.text.substring(N,W),ae.sectionIndex=this.sectionIndex.slice(N,W),ae.sections=this.sections,ae},qs.prototype.toString=function(){return this.text},qs.prototype.getMaxScale=function(){var N=this;return this.sectionIndex.reduce(function(W,ae){return Math.max(W,N.sections[ae].scale)},0)},qs.prototype.addTextSection=function(N,W){this.text+=N.text,this.sections.push(ah.forText(N.scale,N.fontStack||W));for(var ae=this.sections.length-1,me=0;me<N.text.length;++me)this.sectionIndex.push(ae)},qs.prototype.addImageSection=function(N){var W=N.image?N.image.name:"";if(0!==W.length){var ae=this.getNextImageSectionCharCode();ae?(this.text+=String.fromCharCode(ae),this.sections.push(ah.forImage(W)),this.sectionIndex.push(this.sections.length-1)):_("Reached maximum number of images 6401")}else _("Can't add FormattedSection with an empty image.")},qs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var tc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Ol={};function L0(O,N,W,ae,me,Se){if(N.imageName){var mt=ae[N.imageName];return mt?mt.displaySize[0]*N.scale*ds/Se+me:0}var Le=W[N.fontStack],rt=Le&&Le[O];return rt?rt.metrics.advance*N.scale+me:0}function xy(O,N,W,ae){var me=Math.pow(O-N,2);return ae?O<N?me/2:2*me:me+Math.abs(W)*W}function cx(O,N,W){var ae=0;return 10===O&&(ae-=1e4),W&&(ae+=150),(40===O||65288===O)&&(ae+=50),(41===N||65289===N)&&(ae+=50),ae}function by(O,N,W,ae,me,Se){for(var Le=null,rt=xy(N,W,me,Se),mt=0,Mt=ae;mt<Mt.length;mt+=1){var Pt=Mt[mt],cr=xy(N-Pt.x,W,me,Se)+Pt.badness;cr<=rt&&(Le=Pt,rt=cr)}return{index:O,x:N,priorBreak:Le,badness:rt}}function I0(O){return O?I0(O.priorBreak).concat(O.index):[]}function wy(O,N,W,ae,me,Se,Le){if("point"!==Se)return[];if(!O)return[];for(var rt=[],mt=function fx(O,N,W,ae,me,Se){for(var Le=0,rt=0;rt<O.length();rt++){var mt=O.getSection(rt);Le+=L0(O.getCharCode(rt),mt,ae,me,N,Se)}return Le/Math.max(1,Math.ceil(Le/W))}(O,N,W,ae,me,Le),Mt=O.text.indexOf("\u200b")>=0,Pt=0,Jt=0;Jt<O.length();Jt++){var cr=O.getSection(Jt),lr=O.getCharCode(Jt);if(tc[lr]||(Pt+=L0(lr,cr,ae,me,N,Le)),Jt<O.length()-1){var Dr=ht(lr);(Ol[lr]||Dr||cr.imageName)&&rt.push(by(Jt+1,Pt,mt,rt,cx(lr,O.getCharCode(Jt+1),Dr&&Mt),!1))}}return I0(by(O.length(),Pt,mt,rt,0,!0))}function Ty(O){var N=.5,W=.5;switch(O){case"right":case"top-right":case"bottom-right":N=1;break;case"left":case"top-left":case"bottom-left":N=0}switch(O){case"bottom":case"bottom-right":case"bottom-left":W=1;break;case"top":case"top-right":case"top-left":W=0}return{horizontalAlign:N,verticalAlign:W}}function ia(O,N,W,ae,me){if(ae||me)for(var Se=O[W],rt=(O[W].x+Se.metrics.advance*Se.scale)*ae,mt=N;mt<=W;mt++)O[mt].x-=rt,O[mt].y+=me}function P0(O,N,W,ae,me,Se){var rt,Le=O.image;if(Le.content){var mt=Le.content,Mt=Le.pixelRatio||1;rt=[mt[0]/Mt,mt[1]/Mt,Le.displaySize[0]-mt[2]/Mt,Le.displaySize[1]-mt[3]/Mt]}var cr,lr,Dr,Zr,Pt=N.left*Se,Jt=N.right*Se;"width"===W||"both"===W?(Zr=me[0]+Pt-ae[3],lr=me[0]+Jt+ae[1]):lr=(Zr=me[0]+(Pt+Jt-Le.displaySize[0])/2)+Le.displaySize[0];var xn=N.top*Se,hn=N.bottom*Se;return"height"===W||"both"===W?(cr=me[1]+xn-ae[0],Dr=me[1]+hn+ae[2]):Dr=(cr=me[1]+(xn+hn-Le.displaySize[1])/2)+Le.displaySize[1],{image:Le,top:cr,right:lr,bottom:Dr,left:Zr,collisionPadding:rt}}Ol[10]=!0,Ol[32]=!0,Ol[38]=!0,Ol[40]=!0,Ol[41]=!0,Ol[43]=!0,Ol[45]=!0,Ol[47]=!0,Ol[173]=!0,Ol[183]=!0,Ol[8203]=!0,Ol[8208]=!0,Ol[8211]=!0,Ol[8231]=!0;var oh=function(O){function N(W,ae,me,Se){O.call(this,W,ae),this.angle=me,void 0!==Se&&(this.segment=Se)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.clone=function(){return new N(this.x,this.y,this.angle,this.segment)},N}(r);Ci("Anchor",oh);var ku=128;function R0(O,N){var W=N.expression;if("constant"===W.kind)return{kind:"constant",layoutSize:W.evaluate(new Gi(O+1))};if("source"===W.kind)return{kind:"source"};for(var me=W.zoomStops,Se=W.interpolationType,Le=0;Le<me.length&&me[Le]<=O;)Le++;for(var rt=Le=Math.max(0,Le-1);rt<me.length&&me[rt]<O+1;)rt++;rt=Math.min(me.length-1,rt);var mt=me[Le],Mt=me[rt];return"composite"===W.kind?{kind:"composite",minZoom:mt,maxZoom:Mt,interpolationType:Se}:{kind:"camera",minZoom:mt,maxZoom:Mt,minSize:W.evaluate(new Gi(mt)),maxSize:W.evaluate(new Gi(Mt)),interpolationType:Se}}function F0(O,N,W){var ae=N.uSize,Se=W.lowerSize;return"source"===O.kind?Se/ku:"composite"===O.kind?Ro(Se/ku,W.upperSize/ku,N.uSizeT):ae}function k0(O,N){var W=0,ae=0;if("constant"===O.kind)ae=O.layoutSize;else if("source"!==O.kind){var me=O.interpolationType,rt=me?d(oa.interpolationFactor(me,N,O.minZoom,O.maxZoom),0,1):0;"camera"===O.kind?ae=Ro(O.minSize,O.maxSize,rt):W=rt}return{uSizeT:W,uSize:ae}}var up=Object.freeze({__proto__:null,getSizeData:R0,evaluateSizeForFeature:F0,evaluateSizeForZoom:k0,SIZE_PACK_FACTOR:ku});function hx(O,N,W,ae,me){if(void 0===N.segment)return!0;for(var Se=N,Le=N.segment+1,rt=0;rt>-W/2;){if(--Le<0)return!1;rt-=O[Le].dist(Se),Se=O[Le]}rt+=O[Le].dist(O[Le+1]),Le++;for(var mt=[],Mt=0;rt<W/2;){var Jt=O[Le],cr=O[Le+1];if(!cr)return!1;var lr=O[Le-1].angleTo(Jt)-Jt.angleTo(cr);for(lr=Math.abs((lr+3*Math.PI)%(2*Math.PI)-Math.PI),mt.push({distance:rt,angleDelta:lr}),Mt+=lr;rt-mt[0].distance>ae;)Mt-=mt.shift().angleDelta;if(Mt>me)return!1;Le++,rt+=Jt.dist(cr)}return!0}function fp(O){for(var N=0,W=0;W<O.length-1;W++)N+=O[W].dist(O[W+1]);return N}function My(O,N,W){return O?.6*N*W:0}function cp(O,N){return Math.max(O?O.right-O.left:0,N?N.right-N.left:0)}function Sy(O,N,W,ae,me,Se){for(var Le=My(W,me,Se),rt=cp(W,ae)*Se,mt=0,Mt=fp(O)/2,Pt=0;Pt<O.length-1;Pt++){var Jt=O[Pt],cr=O[Pt+1],lr=Jt.dist(cr);if(mt+lr>Mt){var Dr=(Mt-mt)/lr,Zr=Ro(Jt.x,cr.x,Dr),xn=Ro(Jt.y,cr.y,Dr),hn=new oh(Zr,xn,cr.angleTo(Jt),Pt);return hn._round(),!Le||hx(O,hn,rt,Le,N)?hn:void 0}mt+=lr}}function Cy(O,N,W,ae,me,Se,Le,rt,mt){var Mt=My(ae,Se,Le),Pt=cp(ae,me),Jt=Pt*Le,cr=0===O[0].x||O[0].x===mt||0===O[0].y||O[0].y===mt;return N-Jt<N/4&&(N=Jt+N/4),sh(O,cr?N/2*rt%N:(Pt/2+2*Se)*Le*rt%N,N,Mt,W,Jt,cr,!1,mt)}function sh(O,N,W,ae,me,Se,Le,rt,mt){for(var Mt=Se/2,Pt=fp(O),Jt=0,cr=N-W,lr=[],Dr=0;Dr<O.length-1;Dr++){for(var Zr=O[Dr],xn=O[Dr+1],hn=Zr.dist(xn),On=xn.angleTo(Zr);cr+W<Jt+hn;){var Ln=((cr+=W)-Jt)/hn,kn=Ro(Zr.x,xn.x,Ln),Hn=Ro(Zr.y,xn.y,Ln);if(kn>=0&&kn<mt&&Hn>=0&&Hn<mt&&cr-Mt>=0&&cr+Mt<=Pt){var ri=new oh(kn,Hn,On,Dr);ri._round(),(!ae||hx(O,ri,Se,ae,me))&&lr.push(ri)}}Jt+=hn}return!rt&&!lr.length&&!Le&&(lr=sh(O,Jt/2,W,ae,me,Se,Le,!0,mt)),lr}function Ey(O,N,W,ae,me){for(var Se=[],Le=0;Le<O.length;Le++)for(var rt=O[Le],mt=void 0,Mt=0;Mt<rt.length-1;Mt++){var Pt=rt[Mt],Jt=rt[Mt+1];Pt.x<N&&Jt.x<N||(Pt.x<N?Pt=new r(N,Pt.y+(N-Pt.x)/(Jt.x-Pt.x)*(Jt.y-Pt.y))._round():Jt.x<N&&(Jt=new r(N,Pt.y+(N-Pt.x)/(Jt.x-Pt.x)*(Jt.y-Pt.y))._round()),!(Pt.y<W&&Jt.y<W)&&(Pt.y<W?Pt=new r(Pt.x+(W-Pt.y)/(Jt.y-Pt.y)*(Jt.x-Pt.x),W)._round():Jt.y<W&&(Jt=new r(Pt.x+(W-Pt.y)/(Jt.y-Pt.y)*(Jt.x-Pt.x),W)._round()),!(Pt.x>=ae&&Jt.x>=ae)&&(Pt.x>=ae?Pt=new r(ae,Pt.y+(ae-Pt.x)/(Jt.x-Pt.x)*(Jt.y-Pt.y))._round():Jt.x>=ae&&(Jt=new r(ae,Pt.y+(ae-Pt.x)/(Jt.x-Pt.x)*(Jt.y-Pt.y))._round()),!(Pt.y>=me&&Jt.y>=me)&&(Pt.y>=me?Pt=new r(Pt.x+(me-Pt.y)/(Jt.y-Pt.y)*(Jt.x-Pt.x),me)._round():Jt.y>=me&&(Jt=new r(Pt.x+(me-Pt.y)/(Jt.y-Pt.y)*(Jt.x-Pt.x),me)._round()),(!mt||!Pt.equals(mt[mt.length-1]))&&Se.push(mt=[Pt]),mt.push(Jt)))))}return Se}var lh=du;function dv(O,N,W,ae){var me=[],Se=O.image,Le=Se.pixelRatio,rt=Se.paddedRect.w-2*lh,mt=Se.paddedRect.h-2*lh,Mt=O.right-O.left,Pt=O.bottom-O.top,Jt=Se.stretchX||[[0,rt]],cr=Se.stretchY||[[0,mt]],lr=function(Na,Fa){return Na+Fa[1]-Fa[0]},Dr=Jt.reduce(lr,0),Zr=cr.reduce(lr,0),xn=rt-Dr,hn=mt-Zr,On=0,Ln=Dr,kn=0,Hn=Zr,ri=0,xi=xn,di=0,Bi=hn;if(Se.content&&ae){var Li=Se.content;On=hp(Jt,0,Li[0]),kn=hp(cr,0,Li[1]),Ln=hp(Jt,Li[0],Li[2]),Hn=hp(cr,Li[1],Li[3]),ri=Li[0]-On,di=Li[1]-kn,xi=Li[2]-Li[0]-Ln,Bi=Li[3]-Li[1]-Hn}var Ui=function(Na,Fa,oo,so){var Lo=Bh(Na.stretch-On,Ln,Mt,O.left),es=Nl(Na.fixed-ri,xi,Na.stretch,Dr),Ss=Bh(Fa.stretch-kn,Hn,Pt,O.top),gs=Nl(Fa.fixed-di,Bi,Fa.stretch,Zr),bl=Bh(oo.stretch-On,Ln,Mt,O.left),js=Nl(oo.fixed-ri,xi,oo.stretch,Dr),ys=Bh(so.stretch-kn,Hn,Pt,O.top),zl=Nl(so.fixed-di,Bi,so.stretch,Zr),Fs=new r(Lo,Ss),as=new r(bl,Ss),el=new r(bl,ys),gu=new r(Lo,ys),ic=new r(es/Le,gs/Le),kc=new r(js/Le,zl/Le),ba=N*Math.PI/180;if(ba){var na=Math.sin(ba),Gh=Math.cos(ba),oi=[Gh,-na,na,Gh];Fs._matMult(oi),as._matMult(oi),gu._matMult(oi),el._matMult(oi)}var bv=Na.stretch+Na.fixed,_h=Fa.stretch+Fa.fixed;return{tl:Fs,tr:as,bl:gu,br:el,tex:{x:Se.paddedRect.x+lh+bv,y:Se.paddedRect.y+lh+_h,w:oo.stretch+oo.fixed-bv,h:so.stretch+so.fixed-_h},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ic,pixelOffsetBR:kc,minFontScaleX:xi/Le/Mt,minFontScaleY:Bi/Le/Pt,isSDF:W}};if(ae&&(Se.stretchX||Se.stretchY))for(var ua=dp(Jt,xn,Dr),Hi=dp(cr,hn,Zr),Wi=0;Wi<ua.length-1;Wi++)for(var pa=ua[Wi],aa=ua[Wi+1],Ea=0;Ea<Hi.length-1;Ea++)me.push(Ui(pa,Hi[Ea],aa,Hi[Ea+1]));else me.push(Ui({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:rt+1},{fixed:0,stretch:mt+1}));return me}function hp(O,N,W){for(var ae=0,me=0,Se=O;me<Se.length;me+=1){var Le=Se[me];ae+=Math.max(N,Math.min(W,Le[1]))-Math.max(N,Math.min(W,Le[0]))}return ae}function dp(O,N,W){for(var ae=[{fixed:-lh,stretch:0}],me=0,Se=O;me<Se.length;me+=1){var Le=Se[me],rt=Le[0],mt=Le[1],Mt=ae[ae.length-1];ae.push({fixed:rt-Mt.stretch,stretch:Mt.stretch}),ae.push({fixed:rt-Mt.stretch,stretch:Mt.stretch+(mt-rt)})}return ae.push({fixed:N+lh,stretch:W}),ae}function Bh(O,N,W,ae){return O/N*W+ae}function Nl(O,N,W,ae){return O-N*W/ae}var yd=function(N,W,ae,me,Se,Le,rt,mt,Mt,Pt){if(this.boxStartIndex=N.length,Mt){var Jt=Le.top,cr=Le.bottom,lr=Le.collisionPadding;lr&&(Jt-=lr[1],cr+=lr[3]);var Dr=cr-Jt;Dr>0&&(Dr=Math.max(10,Dr),this.circleDiameter=Dr)}else{var Zr=Le.top*rt-mt,xn=Le.bottom*rt+mt,hn=Le.left*rt-mt,On=Le.right*rt+mt,Ln=Le.collisionPadding;if(Ln&&(hn-=Ln[0]*rt,Zr-=Ln[1]*rt,On+=Ln[2]*rt,xn+=Ln[3]*rt),Pt){var kn=new r(hn,Zr),Hn=new r(On,Zr),ri=new r(hn,xn),xi=new r(On,xn),di=Pt*Math.PI/180;kn._rotate(di),Hn._rotate(di),ri._rotate(di),xi._rotate(di),hn=Math.min(kn.x,Hn.x,ri.x,xi.x),On=Math.max(kn.x,Hn.x,ri.x,xi.x),Zr=Math.min(kn.y,Hn.y,ri.y,xi.y),xn=Math.max(kn.y,Hn.y,ri.y,xi.y)}N.emplaceBack(W.x,W.y,hn,Zr,On,xn,ae,me,Se)}this.boxEndIndex=N.length},md=function(N,W){if(void 0===N&&(N=[]),void 0===W&&(W=dx),this.data=N,this.length=this.data.length,this.compare=W,this.length>0)for(var ae=(this.length>>1)-1;ae>=0;ae--)this._down(ae)};function dx(O,N){return O<N?-1:O>N?1:0}function Dy(O,N,W){void 0===N&&(N=1),void 0===W&&(W=!1);for(var ae=1/0,me=1/0,Se=-1/0,Le=-1/0,rt=O[0],mt=0;mt<rt.length;mt++){var Mt=rt[mt];(!mt||Mt.x<ae)&&(ae=Mt.x),(!mt||Mt.y<me)&&(me=Mt.y),(!mt||Mt.x>Se)&&(Se=Mt.x),(!mt||Mt.y>Le)&&(Le=Mt.y)}var cr=Math.min(Se-ae,Le-me),lr=cr/2,Dr=new md([],xd);if(0===cr)return new r(ae,me);for(var Zr=ae;Zr<Se;Zr+=cr)for(var xn=me;xn<Le;xn+=cr)Dr.push(new bd(Zr+lr,xn+lr,lr,O));for(var hn=function px(O){for(var N=0,W=0,ae=0,me=O[0],Se=0,Le=me.length,rt=Le-1;Se<Le;rt=Se++){var mt=me[Se],Mt=me[rt],Pt=mt.x*Mt.y-Mt.x*mt.y;W+=(mt.x+Mt.x)*Pt,ae+=(mt.y+Mt.y)*Pt,N+=3*Pt}return new bd(W/N,ae/N,0,O)}(O),On=Dr.length;Dr.length;){var Ln=Dr.pop();(Ln.d>hn.d||!hn.d)&&(hn=Ln,W&&console.log("found best %d after %d probes",Math.round(1e4*Ln.d)/1e4,On)),!(Ln.max-hn.d<=N)&&(Dr.push(new bd(Ln.p.x-(lr=Ln.h/2),Ln.p.y-lr,lr,O)),Dr.push(new bd(Ln.p.x+lr,Ln.p.y-lr,lr,O)),Dr.push(new bd(Ln.p.x-lr,Ln.p.y+lr,lr,O)),Dr.push(new bd(Ln.p.x+lr,Ln.p.y+lr,lr,O)),On+=4)}return W&&(console.log("num probes: "+On),console.log("best distance: "+hn.d)),hn.p}function xd(O,N){return N.max-O.max}function bd(O,N,W,ae){this.p=new r(O,N),this.h=W,this.d=function vx(O,N){for(var W=!1,ae=1/0,me=0;me<N.length;me++)for(var Se=N[me],Le=0,rt=Se.length,mt=rt-1;Le<rt;mt=Le++){var Mt=Se[Le],Pt=Se[mt];Mt.y>O.y!=Pt.y>O.y&&O.x<(Pt.x-Mt.x)*(O.y-Mt.y)/(Pt.y-Mt.y)+Mt.x&&(W=!W),ae=Math.min(ae,hu(O,Mt,Pt))}return(W?1:-1)*Math.sqrt(ae)}(this.p,ae),this.max=this.d+this.h*Math.SQRT2}md.prototype.push=function(N){this.data.push(N),this.length++,this._up(this.length-1)},md.prototype.pop=function(){if(0!==this.length){var N=this.data[0],W=this.data.pop();return this.length--,this.length>0&&(this.data[0]=W,this._down(0)),N}},md.prototype.peek=function(){return this.data[0]},md.prototype._up=function(N){for(var ae=this.data,me=this.compare,Se=ae[N];N>0;){var Le=N-1>>1,rt=ae[Le];if(me(Se,rt)>=0)break;ae[N]=rt,N=Le}ae[N]=Se},md.prototype._down=function(N){for(var ae=this.data,me=this.compare,Se=this.length>>1,Le=ae[N];N<Se;){var rt=1+(N<<1),mt=ae[rt],Mt=rt+1;if(Mt<this.length&&me(ae[Mt],mt)<0&&(rt=Mt,mt=ae[Mt]),me(mt,Le)>=0)break;ae[N]=mt,N=rt}ae[N]=Le};var uh=7,wd=Number.POSITIVE_INFINITY;function Ly(O,N){return N[1]!==wd?function ae(me,Se,Le){var rt=0,mt=0;switch(Se=Math.abs(Se),Le=Math.abs(Le),me){case"top-right":case"top-left":case"top":mt=Le-uh;break;case"bottom-right":case"bottom-left":case"bottom":mt=-Le+uh}switch(me){case"top-right":case"bottom-right":case"right":rt=-Se;break;case"top-left":case"bottom-left":case"left":rt=Se}return[rt,mt]}(O,N[0],N[1]):function W(me,Se){var Le=0,rt=0;Se<0&&(Se=0);var mt=Se/Math.sqrt(2);switch(me){case"top-right":case"top-left":rt=mt-uh;break;case"bottom-right":case"bottom-left":rt=-mt+uh;break;case"bottom":rt=-Se+uh;break;case"top":rt=Se-uh}switch(me){case"top-right":case"bottom-right":Le=-mt;break;case"top-left":case"bottom-left":Le=mt;break;case"left":Le=Se;break;case"right":Le=-Se}return[Le,rt]}(O,N[0])}function Dc(O){switch(O){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var pp=255,Lc=pp*ku;function Py(O,N,W,ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr,lr,Dr){var Zr=function vp(O,N,W,ae,me,Se,Le,rt){for(var mt=ae.layout.get("text-rotate").evaluate(Se,{})*Math.PI/180,Mt=[],Pt=0,Jt=N.positionedLines;Pt<Jt.length;Pt+=1)for(var cr=Jt[Pt],lr=0,Dr=cr.positionedGlyphs;lr<Dr.length;lr+=1){var Zr=Dr[lr];if(Zr.rect){var xn=Zr.rect||{},On=sp+1,Ln=!0,kn=1,Hn=0,ri=(me||rt)&&Zr.vertical,xi=Zr.metrics.advance*Zr.scale/2;if(rt&&N.verticalizable&&(Hn=cr.lineOffset/2-(Zr.imageName?-(ds-Zr.metrics.width*Zr.scale)/2:(Zr.scale-1)*ds)),Zr.imageName){var Li=Le[Zr.imageName];Ln=Li.sdf,On=du/(kn=Li.pixelRatio)}var Ui=me?[Zr.x+xi,Zr.y]:[0,0],ua=me?[0,0]:[Zr.x+xi+W[0],Zr.y+W[1]-Hn],Hi=[0,0];ri&&(Hi=ua,ua=[0,0]);var Wi=(Zr.metrics.left-On)*Zr.scale-xi+ua[0],pa=(-Zr.metrics.top-On)*Zr.scale+ua[1],aa=Wi+xn.w*Zr.scale/kn,Ea=pa+xn.h*Zr.scale/kn,$a=new r(Wi,pa),Ra=new r(aa,pa),Na=new r(Wi,Ea),Fa=new r(aa,Ea);if(ri){var oo=new r(-xi,xi-uv),so=-Math.PI/2,Lo=ds/2-xi,Ss=new r(5-uv-Lo,-(Zr.imageName?Lo:0)),gs=new(Function.prototype.bind.apply(r,[null].concat(Hi)));$a._rotateAround(so,oo)._add(Ss)._add(gs),Ra._rotateAround(so,oo)._add(Ss)._add(gs),Na._rotateAround(so,oo)._add(Ss)._add(gs),Fa._rotateAround(so,oo)._add(Ss)._add(gs)}if(mt){var bl=Math.sin(mt),js=Math.cos(mt),ys=[js,-bl,bl,js];$a._matMult(ys),Ra._matMult(ys),Na._matMult(ys),Fa._matMult(ys)}var zl=new r(0,0),Fs=new r(0,0);Mt.push({tl:$a,tr:Ra,bl:Na,br:Fa,tex:xn,writingMode:N.writingMode,glyphOffset:Ui,sectionIndex:Zr.sectionIndex,isSDF:Ln,pixelOffsetTL:zl,pixelOffsetBR:Fs,minFontScaleX:0,minFontScaleY:0})}}return Mt}(0,W,rt,me,Se,Le,ae,O.allowVerticalPlacement),xn=O.textSizeData,hn=null;"source"===xn.kind?(hn=[ku*me.layout.get("text-size").evaluate(Le,{})])[0]>Lc&&_(O.layerIds[0]+': Value for "text-size" is >= '+pp+'. Reduce your "text-size".'):"composite"===xn.kind&&((hn=[ku*lr.compositeTextSizes[0].evaluate(Le,{},Dr),ku*lr.compositeTextSizes[1].evaluate(Le,{},Dr)])[0]>Lc||hn[1]>Lc)&&_(O.layerIds[0]+': Value for "text-size" is >= '+pp+'. Reduce your "text-size".'),O.addSymbols(O.text,Zr,hn,rt,Se,Le,Mt,N,mt.lineStartIndex,mt.lineLength,cr,Dr);for(var On=0,Ln=Pt;On<Ln.length;On+=1)Jt[Ln[On]]=O.text.placedSymbolArray.length-1;return 4*Zr.length}function gx(O){for(var N in O)return O[N];return null}function gp(O,N,W,ae){var me=O.compareText;if(N in me){for(var Se=me[N],Le=Se.length-1;Le>=0;Le--)if(ae.dist(Se[Le])<W)return!0}else me[N]=[];return me[N].push(ae),!1}var yx=Cc.VectorTileFeature.types,O0=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Td(O,N,W,ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr){var lr=rt?Math.min(Lc,Math.round(rt[0])):0,Dr=rt?Math.min(Lc,Math.round(rt[1])):0;O.emplaceBack(N,W,Math.round(32*ae),Math.round(32*me),Se,Le,(lr<<1)+(mt?1:0),Dr,16*Mt,16*Pt,256*Jt,256*cr)}function fh(O,N,W){O.emplaceBack(N.x,N.y,W),O.emplaceBack(N.x,N.y,W),O.emplaceBack(N.x,N.y,W),O.emplaceBack(N.x,N.y,W)}function N0(O){for(var N=0,W=O.sections;N<W.length;N+=1)if(Fr(W[N].text))return!0;return!1}var ch=function(N){this.layoutVertexArray=new Xl,this.indexArray=new tf,this.programConfigurations=N,this.segments=new X,this.dynamicLayoutVertexArray=new Vd,this.opacityVertexArray=new ed,this.placedSymbolArray=new xf};ch.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},ch.prototype.upload=function(N,W,ae,me){this.isEmpty()||(ae&&(this.layoutVertexBuffer=N.createVertexBuffer(this.layoutVertexArray,tp.members),this.indexBuffer=N.createIndexBuffer(this.indexArray,W),this.dynamicLayoutVertexBuffer=N.createVertexBuffer(this.dynamicLayoutVertexArray,S0.members,!0),this.opacityVertexBuffer=N.createVertexBuffer(this.opacityVertexArray,O0,!0),this.opacityVertexBuffer.itemSize=1),(ae||me)&&this.programConfigurations.upload(N))},ch.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ci("SymbolBuffers",ch);var Ic=function(N,W,ae){this.layoutVertexArray=new N,this.layoutAttributes=W,this.indexArray=new ae,this.segments=new X,this.collisionVertexArray=new dl};Ic.prototype.upload=function(N){this.layoutVertexBuffer=N.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=N.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=N.createVertexBuffer(this.collisionVertexArray,K1.members,!0)},Ic.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ci("CollisionBuffers",Ic);var Ya=function(N){this.collisionBoxArray=N.collisionBoxArray,this.zoom=N.zoom,this.overscaling=N.overscaling,this.layers=N.layers,this.layerIds=this.layers.map(function(mt){return mt.id}),this.index=N.index,this.pixelRatio=N.pixelRatio,this.sourceLayerIndex=N.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=$o([]),this.placementViewportMatrix=$o([]);var ae=this.layers[0]._unevaluatedLayout._values;this.textSizeData=R0(this.zoom,ae["text-size"]),this.iconSizeData=R0(this.zoom,ae["icon-size"]);var me=this.layers[0].layout,Se=me.get("symbol-sort-key"),Le=me.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==Le&&void 0!==Se.constantOr(1),this.sortFeaturesByY=("viewport-y"===Le||"auto"===Le&&!this.sortFeaturesByKey)&&(me.get("text-allow-overlap")||me.get("icon-allow-overlap")||me.get("text-ignore-placement")||me.get("icon-ignore-placement")),"point"===me.get("symbol-placement")&&(this.writingModes=me.get("text-writing-mode").map(function(mt){return vu[mt]})),this.stateDependentLayerIds=this.layers.filter(function(mt){return mt.isStateDependent()}).map(function(mt){return mt.id}),this.sourceID=N.sourceID};Ya.prototype.createArrays=function(){this.text=new ch(new ca(tp.members,this.layers,this.zoom,function(N){return/^text/.test(N)})),this.icon=new ch(new ca(tp.members,this.layers,this.zoom,function(N){return/^icon/.test(N)})),this.glyphOffsetArray=new Pl,this.lineVertexArray=new Lh,this.symbolInstances=new Uv},Ya.prototype.calculateGlyphDependencies=function(N,W,ae,me,Se){for(var Le=0;Le<N.length;Le++)if(W[N.charCodeAt(Le)]=!0,(ae||me)&&Se){var rt=np[N.charAt(Le)];rt&&(W[rt.charCodeAt(0)]=!0)}},Ya.prototype.populate=function(N,W,ae){var me=this.layers[0],Se=me.layout,Le=Se.get("text-font"),rt=Se.get("text-field"),mt=Se.get("icon-image"),Mt=("constant"!==rt.value.kind||rt.value.value instanceof Ho&&!rt.value.value.isEmpty()||rt.value.value.toString().length>0)&&("constant"!==Le.value.kind||Le.value.value.length>0),Pt="constant"!==mt.value.kind||!!mt.value.value||Object.keys(mt.parameters).length>0,Jt=Se.get("symbol-sort-key");if(this.features=[],Mt||Pt){for(var cr=W.iconDependencies,lr=W.glyphDependencies,Dr=W.availableImages,Zr=new Gi(this.zoom),xn=0,hn=N;xn<hn.length;xn+=1){var On=hn[xn],Ln=On.feature,kn=On.id,Hn=On.index,ri=On.sourceLayerIndex,xi=me._featureFilter.needGeometry,di={type:Ln.type,id:kn,properties:Ln.properties,geometry:xi?Ka(Ln):[]};if(me._featureFilter.filter(Zr,di,ae)){xi||(di.geometry=Ka(Ln));var Bi=void 0;if(Mt){var Li=me.getValueAndResolveTokens("text-field",di,ae,Dr),Ui=Ho.factory(Li);N0(Ui)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ei()||this.hasRTLText&&Ii.isParsed())&&(Bi=ex(Ui,me,di))}var ua=void 0;if(Pt){var Hi=me.getValueAndResolveTokens("icon-image",di,ae,Dr);ua=Hi instanceof Ns?Hi:Ns.fromString(Hi)}if(Bi||ua){var Wi=this.sortFeaturesByKey?Jt.evaluate(di,{},ae):void 0,pa={id:kn,text:Bi,icon:ua,index:Hn,sourceLayerIndex:ri,geometry:Ka(Ln),properties:Ln.properties,type:yx[Ln.type],sortKey:Wi};if(this.features.push(pa),ua&&(cr[ua.name]=!0),Bi){var aa=Le.evaluate(di,{},ae).join(","),Ea="map"===Se.get("text-rotation-alignment")&&"point"!==Se.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(vu.vertical)>=0;for(var $a=0,Ra=Bi.sections;$a<Ra.length;$a+=1){var Na=Ra[$a];if(Na.image)cr[Na.image.name]=!0;else{var Fa=Ge(Bi.toString()),oo=Na.fontStack||aa,so=lr[oo]=lr[oo]||{};this.calculateGlyphDependencies(Na.text,so,Ea,this.allowVerticalPlacement,Fa)}}}}}}"line"===Se.get("symbol-placement")&&(this.features=function tx(O){var N={},W={},ae=[],me=0;function Se(hn){ae.push(O[hn]),me++}function Le(hn,On,Ln){var kn=W[hn];return delete W[hn],W[On]=kn,ae[kn].geometry[0].pop(),ae[kn].geometry[0]=ae[kn].geometry[0].concat(Ln[0]),kn}function rt(hn,On,Ln){var kn=N[On];return delete N[On],N[hn]=kn,ae[kn].geometry[0].shift(),ae[kn].geometry[0]=Ln[0].concat(ae[kn].geometry[0]),kn}function mt(hn,On,Ln){var kn=Ln?On[0][On[0].length-1]:On[0][0];return hn+":"+kn.x+":"+kn.y}for(var Mt=0;Mt<O.length;Mt++){var Pt=O[Mt],Jt=Pt.geometry,cr=Pt.text?Pt.text.toString():null;if(cr){var lr=mt(cr,Jt),Dr=mt(cr,Jt,!0);if(lr in W&&Dr in N&&W[lr]!==N[Dr]){var Zr=rt(lr,Dr,Jt),xn=Le(lr,Dr,ae[Zr].geometry);delete N[lr],delete W[Dr],W[mt(cr,ae[xn].geometry,!0)]=xn,ae[Zr].geometry=null}else lr in W?Le(lr,Dr,Jt):Dr in N?rt(lr,Dr,Jt):(Se(Mt),N[lr]=me-1,W[Dr]=me-1)}else Se(Mt)}return ae.filter(function(hn){return hn.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Lo,es){return Lo.sortKey-es.sortKey})}},Ya.prototype.update=function(N,W,ae){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(N,W,this.layers,ae),this.icon.programConfigurations.updatePaintArrays(N,W,this.layers,ae))},Ya.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},Ya.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ya.prototype.upload=function(N){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(N),this.iconCollisionBox.upload(N)),this.text.upload(N,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(N,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ya.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Ya.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Ya.prototype.addToLineVertexArray=function(N,W){var ae=this.lineVertexArray.length;if(void 0!==N.segment){for(var me=N.dist(W[N.segment+1]),Se=N.dist(W[N.segment]),Le={},rt=N.segment+1;rt<W.length;rt++)Le[rt]={x:W[rt].x,y:W[rt].y,tileUnitDistanceFromAnchor:me},rt<W.length-1&&(me+=W[rt+1].dist(W[rt]));for(var mt=N.segment||0;mt>=0;mt--)Le[mt]={x:W[mt].x,y:W[mt].y,tileUnitDistanceFromAnchor:Se},mt>0&&(Se+=W[mt-1].dist(W[mt]));for(var Mt=0;Mt<W.length;Mt++){var Pt=Le[Mt];this.lineVertexArray.emplaceBack(Pt.x,Pt.y,Pt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ae,lineLength:this.lineVertexArray.length-ae}},Ya.prototype.addSymbols=function(N,W,ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr){for(var lr=N.indexArray,Dr=N.layoutVertexArray,Zr=N.segments.prepareSegment(4*W.length,Dr,lr,Le.sortKey),xn=this.glyphOffsetArray.length,hn=Zr.vertexLength,On=this.allowVerticalPlacement&&rt===vu.vertical?Math.PI/2:0,Ln=Le.text&&Le.text.sections,kn=0;kn<W.length;kn++){var Hn=W[kn],ri=Hn.tl,xi=Hn.tr,di=Hn.bl,Bi=Hn.br,Li=Hn.tex,Ui=Hn.pixelOffsetTL,ua=Hn.pixelOffsetBR,Hi=Hn.minFontScaleX,Wi=Hn.minFontScaleY,pa=Hn.glyphOffset,aa=Hn.isSDF,Ea=Hn.sectionIndex,$a=Zr.vertexLength,Ra=pa[1];Td(Dr,mt.x,mt.y,ri.x,Ra+ri.y,Li.x,Li.y,ae,aa,Ui.x,Ui.y,Hi,Wi),Td(Dr,mt.x,mt.y,xi.x,Ra+xi.y,Li.x+Li.w,Li.y,ae,aa,ua.x,Ui.y,Hi,Wi),Td(Dr,mt.x,mt.y,di.x,Ra+di.y,Li.x,Li.y+Li.h,ae,aa,Ui.x,ua.y,Hi,Wi),Td(Dr,mt.x,mt.y,Bi.x,Ra+Bi.y,Li.x+Li.w,Li.y+Li.h,ae,aa,ua.x,ua.y,Hi,Wi),fh(N.dynamicLayoutVertexArray,mt,On),lr.emplaceBack($a,$a+1,$a+2),lr.emplaceBack($a+1,$a+2,$a+3),Zr.vertexLength+=4,Zr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(pa[0]),(kn===W.length-1||Ea!==W[kn+1].sectionIndex)&&N.programConfigurations.populatePaintArrays(Dr.length,Le,Le.index,{},cr,Ln&&Ln[Ea])}N.placedSymbolArray.emplaceBack(mt.x,mt.y,xn,this.glyphOffsetArray.length-xn,hn,Mt,Pt,mt.segment,ae?ae[0]:0,ae?ae[1]:0,me[0],me[1],rt,0,!1,0,Jt)},Ya.prototype._addCollisionDebugVertex=function(N,W,ae,me,Se,Le){return W.emplaceBack(0,0),N.emplaceBack(ae.x,ae.y,me,Se,Math.round(Le.x),Math.round(Le.y))},Ya.prototype.addCollisionDebugVertices=function(N,W,ae,me,Se,Le,rt){var mt=Se.segments.prepareSegment(4,Se.layoutVertexArray,Se.indexArray),Mt=mt.vertexLength,Pt=Se.layoutVertexArray,Jt=Se.collisionVertexArray,cr=rt.anchorX,lr=rt.anchorY;this._addCollisionDebugVertex(Pt,Jt,Le,cr,lr,new r(N,W)),this._addCollisionDebugVertex(Pt,Jt,Le,cr,lr,new r(ae,W)),this._addCollisionDebugVertex(Pt,Jt,Le,cr,lr,new r(ae,me)),this._addCollisionDebugVertex(Pt,Jt,Le,cr,lr,new r(N,me)),mt.vertexLength+=4;var Dr=Se.indexArray;Dr.emplaceBack(Mt,Mt+1),Dr.emplaceBack(Mt+1,Mt+2),Dr.emplaceBack(Mt+2,Mt+3),Dr.emplaceBack(Mt+3,Mt),mt.primitiveLength+=4},Ya.prototype.addDebugCollisionBoxes=function(N,W,ae,me){for(var Se=N;Se<W;Se++){var Le=this.collisionBoxArray.get(Se);this.addCollisionDebugVertices(Le.x1,Le.y1,Le.x2,Le.y2,me?this.textCollisionBox:this.iconCollisionBox,Le.anchorPoint,ae)}},Ya.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ic(Dh,uy.members,mo),this.iconCollisionBox=new Ic(Dh,uy.members,mo);for(var N=0;N<this.symbolInstances.length;N++){var W=this.symbolInstances.get(N);this.addDebugCollisionBoxes(W.textBoxStartIndex,W.textBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.verticalTextBoxStartIndex,W.verticalTextBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.iconBoxStartIndex,W.iconBoxEndIndex,W,!1),this.addDebugCollisionBoxes(W.verticalIconBoxStartIndex,W.verticalIconBoxEndIndex,W,!1)}},Ya.prototype._deserializeCollisionBoxesForSymbol=function(N,W,ae,me,Se,Le,rt,mt,Mt){for(var Pt={},Jt=W;Jt<ae;Jt++){var cr=N.get(Jt);Pt.textBox={x1:cr.x1,y1:cr.y1,x2:cr.x2,y2:cr.y2,anchorPointX:cr.anchorPointX,anchorPointY:cr.anchorPointY},Pt.textFeatureIndex=cr.featureIndex;break}for(var lr=me;lr<Se;lr++){var Dr=N.get(lr);Pt.verticalTextBox={x1:Dr.x1,y1:Dr.y1,x2:Dr.x2,y2:Dr.y2,anchorPointX:Dr.anchorPointX,anchorPointY:Dr.anchorPointY},Pt.verticalTextFeatureIndex=Dr.featureIndex;break}for(var Zr=Le;Zr<rt;Zr++){var xn=N.get(Zr);Pt.iconBox={x1:xn.x1,y1:xn.y1,x2:xn.x2,y2:xn.y2,anchorPointX:xn.anchorPointX,anchorPointY:xn.anchorPointY},Pt.iconFeatureIndex=xn.featureIndex;break}for(var hn=mt;hn<Mt;hn++){var On=N.get(hn);Pt.verticalIconBox={x1:On.x1,y1:On.y1,x2:On.x2,y2:On.y2,anchorPointX:On.anchorPointX,anchorPointY:On.anchorPointY},Pt.verticalIconFeatureIndex=On.featureIndex;break}return Pt},Ya.prototype.deserializeCollisionBoxes=function(N){this.collisionArrays=[];for(var W=0;W<this.symbolInstances.length;W++){var ae=this.symbolInstances.get(W);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(N,ae.textBoxStartIndex,ae.textBoxEndIndex,ae.verticalTextBoxStartIndex,ae.verticalTextBoxEndIndex,ae.iconBoxStartIndex,ae.iconBoxEndIndex,ae.verticalIconBoxStartIndex,ae.verticalIconBoxEndIndex))}},Ya.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ya.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ya.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Ya.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Ya.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Ya.prototype.addIndicesForPlacedSymbol=function(N,W){for(var ae=N.placedSymbolArray.get(W),me=ae.vertexStartIndex+4*ae.numGlyphs,Se=ae.vertexStartIndex;Se<me;Se+=4)N.indexArray.emplaceBack(Se,Se+1,Se+2),N.indexArray.emplaceBack(Se+1,Se+2,Se+3)},Ya.prototype.getSortedSymbolIndexes=function(N){if(this.sortedAngle===N&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var W=Math.sin(N),ae=Math.cos(N),me=[],Se=[],Le=[],rt=0;rt<this.symbolInstances.length;++rt){Le.push(rt);var mt=this.symbolInstances.get(rt);me.push(0|Math.round(W*mt.anchorX+ae*mt.anchorY)),Se.push(mt.featureIndex)}return Le.sort(function(Mt,Pt){return me[Mt]-me[Pt]||Se[Pt]-Se[Mt]}),Le},Ya.prototype.addToSortKeyRanges=function(N,W){var ae=this.sortKeyRanges[this.sortKeyRanges.length-1];ae&&ae.sortKey===W?ae.symbolInstanceEnd=N+1:this.sortKeyRanges.push({sortKey:W,symbolInstanceStart:N,symbolInstanceEnd:N+1})},Ya.prototype.sortFeatures=function(N){var W=this;if(this.sortFeaturesByY&&this.sortedAngle!==N&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(N),this.sortedAngle=N,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ae=0,me=this.symbolInstanceIndexes;ae<me.length;ae+=1){var Le=this.symbolInstances.get(me[ae]);this.featureSortOrder.push(Le.featureIndex),[Le.rightJustifiedTextSymbolIndex,Le.centerJustifiedTextSymbolIndex,Le.leftJustifiedTextSymbolIndex].forEach(function(rt,mt,Mt){rt>=0&&Mt.indexOf(rt)===mt&&W.addIndicesForPlacedSymbol(W.text,rt)}),Le.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Le.verticalPlacedTextSymbolIndex),Le.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Le.placedIconSymbolIndex),Le.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Le.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ci("SymbolBucket",Ya,{omit:["layers","collisionBoxArray","features","compareText"]}),Ya.MAX_GLYPHS=65535,Ya.addDynamicAttributes=fh;var z0=new Ba({"symbol-placement":new ai(qt.layout_symbol["symbol-placement"]),"symbol-spacing":new ai(qt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ai(qt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ni(qt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ai(qt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ai(qt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ai(qt.layout_symbol["icon-ignore-placement"]),"icon-optional":new ai(qt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ai(qt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ni(qt.layout_symbol["icon-size"]),"icon-text-fit":new ai(qt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ai(qt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ni(qt.layout_symbol["icon-image"]),"icon-rotate":new Ni(qt.layout_symbol["icon-rotate"]),"icon-padding":new ai(qt.layout_symbol["icon-padding"]),"icon-keep-upright":new ai(qt.layout_symbol["icon-keep-upright"]),"icon-offset":new Ni(qt.layout_symbol["icon-offset"]),"icon-anchor":new Ni(qt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ai(qt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ai(qt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ai(qt.layout_symbol["text-rotation-alignment"]),"text-field":new Ni(qt.layout_symbol["text-field"]),"text-font":new Ni(qt.layout_symbol["text-font"]),"text-size":new Ni(qt.layout_symbol["text-size"]),"text-max-width":new Ni(qt.layout_symbol["text-max-width"]),"text-line-height":new ai(qt.layout_symbol["text-line-height"]),"text-letter-spacing":new Ni(qt.layout_symbol["text-letter-spacing"]),"text-justify":new Ni(qt.layout_symbol["text-justify"]),"text-radial-offset":new Ni(qt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ai(qt.layout_symbol["text-variable-anchor"]),"text-anchor":new Ni(qt.layout_symbol["text-anchor"]),"text-max-angle":new ai(qt.layout_symbol["text-max-angle"]),"text-writing-mode":new ai(qt.layout_symbol["text-writing-mode"]),"text-rotate":new Ni(qt.layout_symbol["text-rotate"]),"text-padding":new ai(qt.layout_symbol["text-padding"]),"text-keep-upright":new ai(qt.layout_symbol["text-keep-upright"]),"text-transform":new Ni(qt.layout_symbol["text-transform"]),"text-offset":new Ni(qt.layout_symbol["text-offset"]),"text-allow-overlap":new ai(qt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ai(qt.layout_symbol["text-ignore-placement"]),"text-optional":new ai(qt.layout_symbol["text-optional"])}),Md={paint:new Ba({"icon-opacity":new Ni(qt.paint_symbol["icon-opacity"]),"icon-color":new Ni(qt.paint_symbol["icon-color"]),"icon-halo-color":new Ni(qt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ni(qt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ni(qt.paint_symbol["icon-halo-blur"]),"icon-translate":new ai(qt.paint_symbol["icon-translate"]),"icon-translate-anchor":new ai(qt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ni(qt.paint_symbol["text-opacity"]),"text-color":new Ni(qt.paint_symbol["text-color"],{runtimeType:Zn,getOverride:function(O){return O.textColor},hasOverride:function(O){return!!O.textColor}}),"text-halo-color":new Ni(qt.paint_symbol["text-halo-color"]),"text-halo-width":new Ni(qt.paint_symbol["text-halo-width"]),"text-halo-blur":new Ni(qt.paint_symbol["text-halo-blur"]),"text-translate":new ai(qt.paint_symbol["text-translate"]),"text-translate-anchor":new ai(qt.paint_symbol["text-translate-anchor"])}),layout:z0},vv=function(N){this.type=N.property.overrides?N.property.overrides.runtimeType:Br,this.defaultValue=N};vv.prototype.evaluate=function(N){if(N.formattedSection){var W=this.defaultValue.property.overrides;if(W&&W.hasOverride(N.formattedSection))return W.getOverride(N.formattedSection)}return N.feature&&N.featureState?this.defaultValue.evaluate(N.feature,N.featureState):this.defaultValue.property.specification.default},vv.prototype.eachChild=function(N){this.defaultValue.isConstant()||N(this.defaultValue.value._styleExpression.expression)},vv.prototype.outputDefined=function(){return!1},vv.prototype.serialize=function(){return null},Ci("FormatSectionOverride",vv,{omit:["defaultValue"]});var U0=function(O){function N(W){O.call(this,W,Md)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.recalculate=function(ae,me){if(O.prototype.recalculate.call(this,ae,me),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var Se=this.layout.get("text-writing-mode");if(Se){for(var Le=[],rt=0,mt=Se;rt<mt.length;rt+=1){var Mt=mt[rt];Le.indexOf(Mt)<0&&Le.push(Mt)}this.layout._values["text-writing-mode"]=Le}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},N.prototype.getValueAndResolveTokens=function(ae,me,Se,Le){var rt=this.layout.get(ae).evaluate(me,{},Se,Le),mt=this._unevaluatedLayout._values[ae];return mt.isDataDriven()||Wf(mt.value)||!rt?rt:function Ad(O,N){return N.replace(/{([^{}]+)}/g,function(W,ae){return ae in O?String(O[ae]):""})}(me.properties,rt)},N.prototype.createBucket=function(ae){return new Ya(ae)},N.prototype.queryRadius=function(){return 0},N.prototype.queryIntersectsFeature=function(){return!1},N.prototype._setPaintOverrides=function(){for(var ae=0,me=Md.paint.overridableProperties;ae<me.length;ae+=1){var Se=me[ae];if(N.hasPaintOverride(this.layout,Se)){var Mt,Le=this.paint.get(Se),rt=new vv(Le),mt=new ou(rt,Le.property.specification);Mt="constant"===Le.value.kind||"source"===Le.value.kind?new su("source",mt):new Js("composite",mt,Le.value.zoomStops,Le.value._interpolationType),this.paint._values[Se]=new ta(Le.property,Mt,Le.parameters)}}},N.prototype._handleOverridablePaintPropertyUpdate=function(ae,me,Se){return!(!this.layout||me.isDataDriven()||Se.isDataDriven())&&N.hasPaintOverride(this.layout,ae)},N.hasPaintOverride=function(ae,me){var Se=ae.get("text-field"),Le=Md.paint.properties[me],rt=!1,mt=function(Jt){for(var cr=0,lr=Jt;cr<lr.length;cr+=1)if(Le.overrides&&Le.overrides.hasOverride(lr[cr]))return void(rt=!0)};if("constant"===Se.value.kind&&Se.value.value instanceof Ho)mt(Se.value.value.sections);else if("source"===Se.value.kind){var Mt=function(Jt){rt||(Jt instanceof xs&&lo(Jt.value)===wi?mt(Jt.value.sections):Jt instanceof nl?mt(Jt.sections):Jt.eachChild(Mt))},Pt=Se.value;Pt._styleExpression&&Mt(Pt._styleExpression.expression)}return rt},N}(Bo),mx={paint:new Ba({"background-color":new ai(qt.paint_background["background-color"]),"background-pattern":new za(qt.paint_background["background-pattern"]),"background-opacity":new ai(qt.paint_background["background-opacity"])})},Ry=function(O){function N(W){O.call(this,W,mx)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N}(Bo),bx={paint:new Ba({"raster-opacity":new ai(qt.paint_raster["raster-opacity"]),"raster-hue-rotate":new ai(qt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ai(qt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ai(qt.paint_raster["raster-brightness-max"]),"raster-saturation":new ai(qt.paint_raster["raster-saturation"]),"raster-contrast":new ai(qt.paint_raster["raster-contrast"]),"raster-resampling":new ai(qt.paint_raster["raster-resampling"]),"raster-fade-duration":new ai(qt.paint_raster["raster-fade-duration"])})},V0=function(O){function N(W){O.call(this,W,bx)}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N}(Bo);var wx=function(O){function N(W){O.call(this,W,{}),this.implementation=W}return O&&(N.__proto__=O),(N.prototype=Object.create(O&&O.prototype)).constructor=N,N.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},N.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},N.prototype.recalculate=function(){},N.prototype.updateTransitions=function(){},N.prototype.hasTransition=function(){},N.prototype.serialize=function(){},N.prototype.onAdd=function(ae){this.implementation.onAdd&&this.implementation.onAdd(ae,ae.painter.context.gl)},N.prototype.onRemove=function(ae){this.implementation.onRemove&&this.implementation.onRemove(ae,ae.painter.context.gl)},N}(Bo),Tx={circle:A1,heatmap:S1,hillshade:E1,fill:$g,"fill-extrusion":iy,line:ly,symbol:U0,background:Ry,raster:V0};var ky=self.HTMLImageElement,gv=self.HTMLCanvasElement,yp=self.HTMLVideoElement,Oy=self.ImageData,yv=self.ImageBitmap,Pc=function(N,W,ae,me){this.context=N,this.format=ae,this.texture=N.gl.createTexture(),this.update(W,me)};Pc.prototype.update=function(N,W,ae){var me=N.width,Se=N.height,Le=!(this.size&&this.size[0]===me&&this.size[1]===Se||ae),mt=this.context,Mt=mt.gl;if(this.useMipmap=!(!W||!W.useMipmap),Mt.bindTexture(Mt.TEXTURE_2D,this.texture),mt.pixelStoreUnpackFlipY.set(!1),mt.pixelStoreUnpack.set(1),mt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Mt.RGBA&&(!W||!1!==W.premultiply)),Le)this.size=[me,Se],N instanceof ky||N instanceof gv||N instanceof yp||N instanceof Oy||yv&&N instanceof yv?Mt.texImage2D(Mt.TEXTURE_2D,0,this.format,this.format,Mt.UNSIGNED_BYTE,N):Mt.texImage2D(Mt.TEXTURE_2D,0,this.format,me,Se,0,this.format,Mt.UNSIGNED_BYTE,N.data);else{var Pt=ae||{x:0,y:0},Jt=Pt.x,cr=Pt.y;N instanceof ky||N instanceof gv||N instanceof yp||N instanceof Oy||yv&&N instanceof yv?Mt.texSubImage2D(Mt.TEXTURE_2D,0,Jt,cr,Mt.RGBA,Mt.UNSIGNED_BYTE,N):Mt.texSubImage2D(Mt.TEXTURE_2D,0,Jt,cr,me,Se,Mt.RGBA,Mt.UNSIGNED_BYTE,N.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Mt.generateMipmap(Mt.TEXTURE_2D)},Pc.prototype.bind=function(N,W,ae){var Le=this.context.gl;Le.bindTexture(Le.TEXTURE_2D,this.texture),ae===Le.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ae=Le.LINEAR),N!==this.filter&&(Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_MAG_FILTER,N),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_MIN_FILTER,ae||N),this.filter=N),W!==this.wrap&&(Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_WRAP_S,W),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_WRAP_T,W),this.wrap=W)},Pc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Pc.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Sd=function(N){var W=this;this._callback=N,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){W._triggered=!1,W._callback()})};Sd.prototype.trigger=function(){var N=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){N._triggered=!1,N._callback()},0))},Sd.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Cd=function(N,W,ae){this.target=N,this.parent=W,this.mapId=ae,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new Sd(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=U()?N:self};function zy(O,N,W){var ae=2*Math.PI*6378137/256/Math.pow(2,W);return[O*ae-2*Math.PI*6378137/2,N*ae-2*Math.PI*6378137/2]}Cd.prototype.send=function(N,W,ae,me,Se){var Le=this;void 0===Se&&(Se=!1);var rt=Math.round(1e18*Math.random()).toString(36).substring(0,10);ae&&(this.callbacks[rt]=ae);var mt=ee(this.globalScope)?void 0:[];return this.target.postMessage({id:rt,type:N,hasCallback:!!ae,targetMapId:me,mustQueue:Se,sourceMapId:this.mapId,data:No(W,mt)},mt),{cancel:function(){ae&&delete Le.callbacks[rt],Le.target.postMessage({id:rt,type:"<cancel>",targetMapId:me,sourceMapId:Le.mapId})}}},Cd.prototype.receive=function(N){var W=N.data,ae=W.id;if(ae&&(!W.targetMapId||this.mapId===W.targetMapId))if("<cancel>"===W.type){delete this.tasks[ae];var me=this.cancelCallbacks[ae];delete this.cancelCallbacks[ae],me&&me()}else U()||W.mustQueue?(this.tasks[ae]=W,this.taskQueue.push(ae),this.invoker.trigger()):this.processTask(ae,W)},Cd.prototype.process=function(){if(this.taskQueue.length){var N=this.taskQueue.shift(),W=this.tasks[N];delete this.tasks[N],this.taskQueue.length&&this.invoker.trigger(),W&&this.processTask(N,W)}},Cd.prototype.processTask=function(N,W){var ae=this;if("<response>"===W.type){var me=this.callbacks[N];delete this.callbacks[N],me&&(W.error?me(Ja(W.error)):me(null,Ja(W.data)))}else{var Se=!1,Le=ee(this.globalScope)?void 0:[],rt=W.hasCallback?function(cr,lr){Se=!0,delete ae.cancelCallbacks[N],ae.target.postMessage({id:N,type:"<response>",sourceMapId:ae.mapId,error:cr?No(cr):null,data:No(lr,Le)},Le)}:function(cr){Se=!0},mt=null,Mt=Ja(W.data);if(this.parent[W.type])mt=this.parent[W.type](W.sourceMapId,Mt,rt);else if(this.parent.getWorkerSource){var Pt=W.type.split(".");mt=this.parent.getWorkerSource(W.sourceMapId,Pt[0],Mt.source)[Pt[1]](Mt,rt)}else rt(new Error("Could not find function "+W.type));!Se&&mt&&mt.cancel&&(this.cancelCallbacks[N]=mt.cancel)}},Cd.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var qo=function(N,W){N&&(W?this.setSouthWest(N).setNorthEast(W):4===N.length?this.setSouthWest([N[0],N[1]]).setNorthEast([N[2],N[3]]):this.setSouthWest(N[0]).setNorthEast(N[1]))};qo.prototype.setNorthEast=function(N){return this._ne=N instanceof xo?new xo(N.lng,N.lat):xo.convert(N),this},qo.prototype.setSouthWest=function(N){return this._sw=N instanceof xo?new xo(N.lng,N.lat):xo.convert(N),this},qo.prototype.extend=function(N){var me,Se,W=this._sw,ae=this._ne;if(N instanceof xo)me=N,Se=N;else{if(!(N instanceof qo))return Array.isArray(N)?4===N.length||N.every(Array.isArray)?this.extend(qo.convert(N)):this.extend(xo.convert(N)):this;if(Se=N._ne,!(me=N._sw)||!Se)return this}return W||ae?(W.lng=Math.min(me.lng,W.lng),W.lat=Math.min(me.lat,W.lat),ae.lng=Math.max(Se.lng,ae.lng),ae.lat=Math.max(Se.lat,ae.lat)):(this._sw=new xo(me.lng,me.lat),this._ne=new xo(Se.lng,Se.lat)),this},qo.prototype.getCenter=function(){return new xo((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},qo.prototype.getSouthWest=function(){return this._sw},qo.prototype.getNorthEast=function(){return this._ne},qo.prototype.getNorthWest=function(){return new xo(this.getWest(),this.getNorth())},qo.prototype.getSouthEast=function(){return new xo(this.getEast(),this.getSouth())},qo.prototype.getWest=function(){return this._sw.lng},qo.prototype.getSouth=function(){return this._sw.lat},qo.prototype.getEast=function(){return this._ne.lng},qo.prototype.getNorth=function(){return this._ne.lat},qo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},qo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},qo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},qo.prototype.contains=function(N){var W=xo.convert(N),ae=W.lng,me=W.lat,Le=this._sw.lng<=ae&&ae<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Le=this._sw.lng>=ae&&ae>=this._ne.lng),this._sw.lat<=me&&me<=this._ne.lat&&Le},qo.convert=function(N){return!N||N instanceof qo?N:new qo(N)};var Ax=6371008.8,xo=function(N,W){if(isNaN(N)||isNaN(W))throw new Error("Invalid LngLat object: ("+N+", "+W+")");if(this.lng=+N,this.lat=+W,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};xo.prototype.wrap=function(){return new xo(b(this.lng,-180,180),this.lat)},xo.prototype.toArray=function(){return[this.lng,this.lat]},xo.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},xo.prototype.distanceTo=function(N){var W=Math.PI/180,ae=this.lat*W,me=N.lat*W,Se=Math.sin(ae)*Math.sin(me)+Math.cos(ae)*Math.cos(me)*Math.cos((N.lng-this.lng)*W);return Ax*Math.acos(Math.min(Se,1))},xo.prototype.toBounds=function(N){void 0===N&&(N=0);var ae=360*N/40075017,me=ae/Math.cos(Math.PI/180*this.lat);return new qo(new xo(this.lng-me,this.lat-ae),new xo(this.lng+me,this.lat+ae))},xo.convert=function(N){if(N instanceof xo)return N;if(Array.isArray(N)&&(2===N.length||3===N.length))return new xo(Number(N[0]),Number(N[1]));if(!Array.isArray(N)&&"object"==typeof N&&null!==N)return new xo(Number("lng"in N?N.lng:N.lon),Number(N.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var mv=2*Math.PI*Ax;function By(O){return mv*Math.cos(O*Math.PI/180)}function Uh(O){return(180+O)/360}function pu(O){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+O*Math.PI/360)))/360}function Uy(O,N){return O/By(N)}function Af(O){return 360/Math.PI*Math.atan(Math.exp((180-360*O)*Math.PI/180))-90}var Mf=function(N,W,ae){void 0===ae&&(ae=0),this.x=+N,this.y=+W,this.z=+ae};Mf.fromLngLat=function(N,W){void 0===W&&(W=0);var ae=xo.convert(N);return new Mf(Uh(ae.lng),pu(ae.lat),Uy(W,ae.lat))},Mf.prototype.toLngLat=function(){return new xo(function Vy(O){return 360*O-180}(this.x),Af(this.y))},Mf.prototype.toAltitude=function(){return function Mx(O,N){return O*By(Af(N))}(this.z,this.y)},Mf.prototype.meterInMercatorCoordinateUnits=function(){return 1/mv*function Sx(O){return 1/Math.cos(O*Math.PI/180)}(Af(this.y))};var Vh=function(N,W,ae){this.z=N,this.x=W,this.y=ae,this.key=Hh(0,N,N,W,ae)};Vh.prototype.equals=function(N){return this.z===N.z&&this.x===N.x&&this.y===N.y},Vh.prototype.url=function(N,W){var ae=function Ny(O,N,W){var ae=zy(256*O,256*(N=Math.pow(2,W)-N-1),W),me=zy(256*(O+1),256*(N+1),W);return ae[0]+","+ae[1]+","+me[0]+","+me[1]}(this.x,this.y,this.z),me=function Hy(O,N,W){for(var me,ae="",Se=O;Se>0;Se--)ae+=(N&(me=1<<Se-1)?1:0)+(W&me?2:0);return ae}(this.z,this.x,this.y);return N[(this.x+this.y)%N.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===W?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",me).replace("{bbox-epsg-3857}",ae)},Vh.prototype.getTilePoint=function(N){var W=Math.pow(2,this.z);return new r((N.x*W-this.x)*Xi,(N.y*W-this.y)*Xi)},Vh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var mp=function(N,W){this.wrap=N,this.canonical=W,this.key=Hh(N,W.z,W.z,W.x,W.y)},vs=function(N,W,ae,me,Se){this.overscaledZ=N,this.wrap=W,this.canonical=new Vh(ae,+me,+Se),this.key=Hh(W,N,ae,me,Se)};function Hh(O,N,W,ae,me){(O*=2)<0&&(O=-1*O-1);var Se=1<<W;return(Se*Se*O+Se*me+ae).toString(36)+W.toString(36)+N.toString(36)}vs.prototype.equals=function(N){return this.overscaledZ===N.overscaledZ&&this.wrap===N.wrap&&this.canonical.equals(N.canonical)},vs.prototype.scaledTo=function(N){var W=this.canonical.z-N;return N>this.canonical.z?new vs(N,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new vs(N,this.wrap,N,this.canonical.x>>W,this.canonical.y>>W)},vs.prototype.calculateScaledKey=function(N,W){var ae=this.canonical.z-N;return N>this.canonical.z?Hh(this.wrap*+W,N,this.canonical.z,this.canonical.x,this.canonical.y):Hh(this.wrap*+W,N,N,this.canonical.x>>ae,this.canonical.y>>ae)},vs.prototype.isChildOf=function(N){if(N.wrap!==this.wrap)return!1;var W=this.canonical.z-N.canonical.z;return 0===N.overscaledZ||N.overscaledZ<this.overscaledZ&&N.canonical.x===this.canonical.x>>W&&N.canonical.y===this.canonical.y>>W},vs.prototype.children=function(N){if(this.overscaledZ>=N)return[new vs(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var W=this.canonical.z+1,ae=2*this.canonical.x,me=2*this.canonical.y;return[new vs(W,this.wrap,W,ae,me),new vs(W,this.wrap,W,ae+1,me),new vs(W,this.wrap,W,ae,me+1),new vs(W,this.wrap,W,ae+1,me+1)]},vs.prototype.isLessThan=function(N){return this.wrap<N.wrap||!(this.wrap>N.wrap)&&(this.overscaledZ<N.overscaledZ||!(this.overscaledZ>N.overscaledZ)&&(this.canonical.x<N.canonical.x||!(this.canonical.x>N.canonical.x)&&this.canonical.y<N.canonical.y))},vs.prototype.wrapped=function(){return new vs(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},vs.prototype.unwrapTo=function(N){return new vs(this.overscaledZ,N,this.canonical.z,this.canonical.x,this.canonical.y)},vs.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},vs.prototype.toUnwrapped=function(){return new mp(this.wrap,this.canonical)},vs.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},vs.prototype.getTilePoint=function(N){return this.canonical.getTilePoint(new Mf(N.x-this.wrap,N.y))},Ci("CanonicalTileID",Vh),Ci("OverscaledTileID",vs,{omit:["posMatrix"]});var Rc=function(N,W,ae){if(this.uid=N,W.height!==W.width)throw new RangeError("DEM tiles must be square");if(ae&&"mapbox"!==ae&&"terrarium"!==ae)return _('"'+ae+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=W.height;var me=this.dim=W.height-2;this.data=new Uint32Array(W.data.buffer),this.encoding=ae||"mapbox";for(var Se=0;Se<me;Se++)this.data[this._idx(-1,Se)]=this.data[this._idx(0,Se)],this.data[this._idx(me,Se)]=this.data[this._idx(me-1,Se)],this.data[this._idx(Se,-1)]=this.data[this._idx(Se,0)],this.data[this._idx(Se,me)]=this.data[this._idx(Se,me-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(me,-1)]=this.data[this._idx(me-1,0)],this.data[this._idx(-1,me)]=this.data[this._idx(0,me-1)],this.data[this._idx(me,me)]=this.data[this._idx(me-1,me-1)]};Rc.prototype.get=function(N,W){var ae=new Uint8Array(this.data.buffer),me=4*this._idx(N,W);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(ae[me],ae[me+1],ae[me+2])},Rc.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Rc.prototype._idx=function(N,W){if(N<-1||N>=this.dim+1||W<-1||W>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(W+1)*this.stride+(N+1)},Rc.prototype._unpackMapbox=function(N,W,ae){return(256*N*256+256*W+ae)/10-1e4},Rc.prototype._unpackTerrarium=function(N,W,ae){return 256*N+W+ae/256-32768},Rc.prototype.getPixels=function(){return new Rs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Rc.prototype.backfillBorder=function(N,W,ae){if(this.dim!==N.dim)throw new Error("dem dimension mismatch");var me=W*this.dim,Se=W*this.dim+this.dim,Le=ae*this.dim,rt=ae*this.dim+this.dim;switch(W){case-1:me=Se-1;break;case 1:Se=me+1}switch(ae){case-1:Le=rt-1;break;case 1:rt=Le+1}for(var mt=-W*this.dim,Mt=-ae*this.dim,Pt=Le;Pt<rt;Pt++)for(var Jt=me;Jt<Se;Jt++)this.data[this._idx(Jt,Pt)]=N.data[this._idx(Jt+mt,Pt+Mt)]},Ci("DEMData",Rc);var xv=function(N){this._stringToNumber={},this._numberToString=[];for(var W=0;W<N.length;W++){var ae=N[W];this._stringToNumber[ae]=W,this._numberToString[W]=ae}};xv.prototype.encode=function(N){return this._stringToNumber[N]},xv.prototype.decode=function(N){return this._numberToString[N]};var xp=function(N,W,ae,me,Se){this.type="Feature",this._vectorTileFeature=N,N._z=W,N._x=ae,N._y=me,this.properties=N.properties,this.id=Se},bp={geometry:{configurable:!0}};bp.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},bp.geometry.set=function(O){this._geometry=O},xp.prototype.toJSON=function(){var N={geometry:this.geometry};for(var W in this)"_geometry"===W||"_vectorTileFeature"===W||(N[W]=this[W]);return N},Object.defineProperties(xp.prototype,bp);var Ed=function(){this.state={},this.stateChanges={},this.deletedStates={}};Ed.prototype.updateState=function(N,W,ae){var me=String(W);if(this.stateChanges[N]=this.stateChanges[N]||{},this.stateChanges[N][me]=this.stateChanges[N][me]||{},u(this.stateChanges[N][me],ae),null===this.deletedStates[N])for(var Se in this.deletedStates[N]={},this.state[N])Se!==me&&(this.deletedStates[N][Se]=null);else if(this.deletedStates[N]&&null===this.deletedStates[N][me])for(var rt in this.deletedStates[N][me]={},this.state[N][me])ae[rt]||(this.deletedStates[N][me][rt]=null);else for(var mt in ae)this.deletedStates[N]&&this.deletedStates[N][me]&&null===this.deletedStates[N][me][mt]&&delete this.deletedStates[N][me][mt]},Ed.prototype.removeFeatureState=function(N,W,ae){if(null!==this.deletedStates[N]){var Se=String(W);if(this.deletedStates[N]=this.deletedStates[N]||{},ae&&void 0!==W)null!==this.deletedStates[N][Se]&&(this.deletedStates[N][Se]=this.deletedStates[N][Se]||{},this.deletedStates[N][Se][ae]=null);else if(void 0!==W)if(this.stateChanges[N]&&this.stateChanges[N][Se])for(ae in this.deletedStates[N][Se]={},this.stateChanges[N][Se])this.deletedStates[N][Se][ae]=null;else this.deletedStates[N][Se]=null;else this.deletedStates[N]=null}},Ed.prototype.getState=function(N,W){var ae=String(W),Le=u({},(this.state[N]||{})[ae],(this.stateChanges[N]||{})[ae]);if(null===this.deletedStates[N])return{};if(this.deletedStates[N]){var rt=this.deletedStates[N][W];if(null===rt)return{};for(var mt in rt)delete Le[mt]}return Le},Ed.prototype.initializeTileState=function(N,W){N.setFeatureState(this.state,W)},Ed.prototype.coalesceChanges=function(N,W){var ae={};for(var me in this.stateChanges){this.state[me]=this.state[me]||{};var Se={};for(var Le in this.stateChanges[me])this.state[me][Le]||(this.state[me][Le]={}),u(this.state[me][Le],this.stateChanges[me][Le]),Se[Le]=this.state[me][Le];ae[me]=Se}for(var rt in this.deletedStates){this.state[rt]=this.state[rt]||{};var mt={};if(null===this.deletedStates[rt])for(var Mt in this.state[rt])mt[Mt]={},this.state[rt][Mt]={};else for(var Pt in this.deletedStates[rt]){if(null===this.deletedStates[rt][Pt])this.state[rt][Pt]={};else for(var cr=0,lr=Object.keys(this.deletedStates[rt][Pt]);cr<lr.length;cr+=1)delete this.state[rt][Pt][lr[cr]];mt[Pt]=this.state[rt][Pt]}ae[rt]=ae[rt]||{},u(ae[rt],mt)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(ae).length)for(var Zr in N)N[Zr].setFeatureState(ae,W)};var Fc=function(N,W){this.tileID=N,this.x=N.canonical.x,this.y=N.canonical.y,this.z=N.canonical.z,this.grid=new Yi(Xi,16,0),this.grid3D=new Yi(Xi,16,0),this.featureIndexArray=new Ph,this.promoteId=W};function Ex(O,N,W,ae,me){return i(O,function(Se,Le){var rt=N instanceof qi?N.get(Le):null;return rt&&rt.evaluate?rt.evaluate(W,ae,me):rt})}function H0(O){for(var N=1/0,W=1/0,ae=-1/0,me=-1/0,Se=0,Le=O;Se<Le.length;Se+=1){var rt=Le[Se];N=Math.min(N,rt.x),W=Math.min(W,rt.y),ae=Math.max(ae,rt.x),me=Math.max(me,rt.y)}return{minX:N,minY:W,maxX:ae,maxY:me}}function Gy(O,N){return N-O}Fc.prototype.insert=function(N,W,ae,me,Se,Le){var rt=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ae,me,Se);for(var mt=Le?this.grid3D:this.grid,Mt=0;Mt<W.length;Mt++){for(var Pt=W[Mt],Jt=[1/0,1/0,-1/0,-1/0],cr=0;cr<Pt.length;cr++){var lr=Pt[cr];Jt[0]=Math.min(Jt[0],lr.x),Jt[1]=Math.min(Jt[1],lr.y),Jt[2]=Math.max(Jt[2],lr.x),Jt[3]=Math.max(Jt[3],lr.y)}Jt[0]<Xi&&Jt[1]<Xi&&Jt[2]>=0&&Jt[3]>=0&&mt.insert(rt,Jt[0],Jt[1],Jt[2],Jt[3])}},Fc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Cc.VectorTile(new vd(this.rawTileData)).layers,this.sourceLayerCoder=new xv(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Fc.prototype.query=function(N,W,ae,me){var Se=this;this.loadVTLayers();for(var Le=N.params||{},rt=Xi/N.tileSize/N.scale,mt=qu(Le.filter),Mt=N.queryGeometry,Pt=N.queryPadding*rt,Jt=H0(Mt),cr=this.grid.query(Jt.minX-Pt,Jt.minY-Pt,Jt.maxX+Pt,Jt.maxY+Pt),lr=H0(N.cameraQueryGeometry),Zr=0,xn=this.grid3D.query(lr.minX-Pt,lr.minY-Pt,lr.maxX+Pt,lr.maxY+Pt,function(ri,xi,di,Bi){return function Kl(O,N,W,ae,me){for(var Se=0,Le=O;Se<Le.length;Se+=1){var rt=Le[Se];if(N<=rt.x&&W<=rt.y&&ae>=rt.x&&me>=rt.y)return!0}var mt=[new r(N,W),new r(N,me),new r(ae,me),new r(ae,W)];if(O.length>2)for(var Mt=0,Pt=mt;Mt<Pt.length;Mt+=1)if(hs(O,Pt[Mt]))return!0;for(var cr=0;cr<O.length-1;cr++)if(Ps(O[cr],O[cr+1],mt))return!0;return!1}(N.cameraQueryGeometry,ri-Pt,xi-Pt,di+Pt,Bi+Pt)});Zr<xn.length;Zr+=1)cr.push(xn[Zr]);cr.sort(Gy);for(var Ln,On={},kn=function(ri){var xi=cr[ri];if(xi!==Ln){Ln=xi;var di=Se.featureIndexArray.get(xi),Bi=null;Se.loadMatchingFeature(On,di.bucketIndex,di.sourceLayerIndex,di.featureIndex,mt,Le.layers,Le.availableImages,W,ae,me,function(Li,Ui,ua){return Bi||(Bi=Ka(Li)),Ui.queryIntersectsFeature(Mt,Li,ua,Bi,Se.z,N.transform,rt,N.pixelPosMatrix)})}},Hn=0;Hn<cr.length;Hn++)kn(Hn);return On},Fc.prototype.loadMatchingFeature=function(N,W,ae,me,Se,Le,rt,mt,Mt,Pt,Jt){var cr=this.bucketLayerIDs[W];if(!Le||function B(O,N){for(var W=0;W<O.length;W++)if(N.indexOf(O[W])>=0)return!0;return!1}(Le,cr)){var lr=this.sourceLayerCoder.decode(ae),Zr=this.vtLayers[lr].feature(me);if(Se.filter(new Gi(this.tileID.overscaledZ),Zr))for(var xn=this.getId(Zr,lr),hn=0;hn<cr.length;hn++){var On=cr[hn];if(!(Le&&Le.indexOf(On)<0)){var Ln=mt[On];if(Ln){var kn={};void 0!==xn&&Pt&&(kn=Pt.getState(Ln.sourceLayer||"_geojsonTileLayer",xn));var Hn=Mt[On];Hn.paint=Ex(Hn.paint,Ln.paint,Zr,kn,rt),Hn.layout=Ex(Hn.layout,Ln.layout,Zr,kn,rt);var ri=!Jt||Jt(Zr,Ln,kn);if(ri){var xi=new xp(Zr,this.z,this.x,this.y,xn);xi.layer=Hn;var di=N[On];void 0===di&&(di=N[On]=[]),di.push({featureIndex:me,feature:xi,intersectionZ:ri})}}}}}},Fc.prototype.lookupSymbolFeatures=function(N,W,ae,me,Se,Le,rt,mt){var Mt={};this.loadVTLayers();for(var Pt=qu(Se),Jt=0,cr=N;Jt<cr.length;Jt+=1)this.loadMatchingFeature(Mt,ae,me,cr[Jt],Pt,Le,rt,mt,W);return Mt},Fc.prototype.hasLayer=function(N){for(var W=0,ae=this.bucketLayerIDs;W<ae.length;W+=1)for(var Se=0,Le=ae[W];Se<Le.length;Se+=1)if(N===Le[Se])return!0;return!1},Fc.prototype.getId=function(N,W){var ae=N.id;return this.promoteId&&"boolean"==typeof(ae=N.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[W]])&&(ae=Number(ae)),ae},Ci("FeatureIndex",Fc,{omit:["rawTileData","sourceLayerCoder"]});var ps=function(N,W){this.tileID=N,this.uid=T(),this.uses=0,this.tileSize=W,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ps.prototype.registerFadeDuration=function(N){var W=N+this.timeAdded;W<fe.now()||this.fadeEndTime&&W<this.fadeEndTime||(this.fadeEndTime=W)},ps.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ps.prototype.loadVectorData=function(N,W,ae){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",N){for(var me in N.featureIndex&&(this.latestFeatureIndex=N.featureIndex,N.rawTileData?(this.latestRawTileData=N.rawTileData,this.latestFeatureIndex.rawTileData=N.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=N.collisionBoxArray,this.buckets=function Cx(O,N){var W={};if(!N)return W;for(var ae=function(){var Le=Se[me],rt=Le.layerIds.map(function(Jt){return N.getLayer(Jt)}).filter(Boolean);if(0!==rt.length){Le.layers=rt,Le.stateDependentLayerIds&&(Le.stateDependentLayers=Le.stateDependentLayerIds.map(function(Jt){return rt.filter(function(cr){return cr.id===Jt})[0]}));for(var mt=0,Mt=rt;mt<Mt.length;mt+=1)W[Mt[mt].id]=Le}},me=0,Se=O;me<Se.length;me+=1)ae();return W}(N.buckets,W.style),this.hasSymbolBuckets=!1,this.buckets){var Se=this.buckets[me];if(Se instanceof Ya){if(this.hasSymbolBuckets=!0,!ae)break;Se.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Le in this.buckets){var rt=this.buckets[Le];if(rt instanceof Ya&&rt.hasRTLText){this.hasRTLText=!0,!Ii.isLoading()&&!Ii.isLoaded()&&"deferred"===ei()&&Di();break}}for(var mt in this.queryPadding=0,this.buckets){var Mt=this.buckets[mt];this.queryPadding=Math.max(this.queryPadding,W.style.getLayer(mt).queryRadius(Mt))}N.imageAtlas&&(this.imageAtlas=N.imageAtlas),N.glyphAtlasImage&&(this.glyphAtlasImage=N.glyphAtlasImage)}else this.collisionBoxArray=new mf},ps.prototype.unloadVectorData=function(){for(var N in this.buckets)this.buckets[N].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ps.prototype.getBucket=function(N){return this.buckets[N.id]},ps.prototype.upload=function(N){for(var W in this.buckets){var ae=this.buckets[W];ae.uploadPending()&&ae.upload(N)}var me=N.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Pc(N,this.imageAtlas.image,me.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Pc(N,this.glyphAtlasImage,me.ALPHA),this.glyphAtlasImage=null)},ps.prototype.prepare=function(N){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(N,this.imageAtlasTexture)},ps.prototype.queryRenderedFeatures=function(N,W,ae,me,Se,Le,rt,mt,Mt,Pt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:me,cameraQueryGeometry:Se,scale:Le,tileSize:this.tileSize,pixelPosMatrix:Pt,transform:mt,params:rt,queryPadding:this.queryPadding*Mt},N,W,ae):{}},ps.prototype.querySourceFeatures=function(N,W){var ae=this.latestFeatureIndex;if(ae&&ae.rawTileData){var me=ae.loadVTLayers(),Se=W?W.sourceLayer:"",Le=me._geojsonTileLayer||me[Se];if(Le)for(var rt=qu(W&&W.filter),mt=this.tileID.canonical,Mt=mt.z,Pt=mt.x,Jt=mt.y,cr={z:Mt,x:Pt,y:Jt},lr=0;lr<Le.length;lr++){var Dr=Le.feature(lr);if(rt.filter(new Gi(this.tileID.overscaledZ),Dr)){var Zr=ae.getId(Dr,Se),xn=new xp(Dr,Mt,Pt,Jt,Zr);xn.tile=cr,N.push(xn)}}}},ps.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ps.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ps.prototype.setExpiryData=function(N){var W=this.expirationTime;if(N.cacheControl){var ae=G(N.cacheControl);ae["max-age"]&&(this.expirationTime=Date.now()+1e3*ae["max-age"])}else N.expires&&(this.expirationTime=new Date(N.expires).getTime());if(this.expirationTime){var me=Date.now(),Se=!1;if(this.expirationTime>me)Se=!1;else if(W)if(this.expirationTime<W)Se=!0;else{var Le=this.expirationTime-W;Le?this.expirationTime=me+Math.max(Le,3e4):Se=!0}else Se=!0;Se?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ps.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ps.prototype.setFeatureState=function(N,W){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(N).length){var ae=this.latestFeatureIndex.loadVTLayers();for(var me in this.buckets)if(W.style.hasLayer(me)){var Se=this.buckets[me],Le=Se.layers[0].sourceLayer||"_geojsonTileLayer",rt=ae[Le],mt=N[Le];if(rt&&mt&&0!==Object.keys(mt).length){Se.update(mt,rt,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Mt=W&&W.style&&W.style.getLayer(me);Mt&&(this.queryPadding=Math.max(this.queryPadding,Mt.queryRadius(Se)))}}}},ps.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ps.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<fe.now()},ps.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ps.prototype.setHoldDuration=function(N){this.symbolFadeHoldUntil=fe.now()+N},ps.prototype.setDependencies=function(N,W){for(var ae={},me=0,Se=W;me<Se.length;me+=1)ae[Se[me]]=!0;this.dependencies[N]=ae},ps.prototype.hasDependency=function(N,W){for(var ae=0,me=N;ae<me.length;ae+=1){var Le=this.dependencies[me[ae]];if(Le)for(var rt=0,mt=W;rt<mt.length;rt+=1)if(Le[mt[rt]])return!0}return!1};var rc=self.performance,nc=function(N){this._marks={start:[N.url,"start"].join("#"),end:[N.url,"end"].join("#"),measure:N.url.toString()},rc.mark(this._marks.start)};nc.prototype.finish=function(){rc.mark(this._marks.end);var N=rc.getEntriesByName(this._marks.measure);return 0===N.length&&(rc.measure(this._marks.measure,this._marks.start,this._marks.end),N=rc.getEntriesByName(this._marks.measure),rc.clearMarks(this._marks.start),rc.clearMarks(this._marks.end),rc.clearMeasures(this._marks.measure)),N},l.Actor=Cd,l.AlphaImage=lf,l.CanonicalTileID=Vh,l.CollisionBoxArray=mf,l.Color=La,l.DEMData=Rc,l.DataConstantProperty=ai,l.DictionaryCoder=xv,l.EXTENT=Xi,l.ErrorEvent=ur,l.EvaluationParameters=Gi,l.Event=Xt,l.Evented=vr,l.FeatureIndex=Fc,l.FillBucket=Fu,l.FillExtrusionBucket=Tf,l.ImageAtlas=lv,l.ImagePosition=ov,l.LineBucket=xl,l.LngLat=xo,l.LngLatBounds=qo,l.MercatorCoordinate=Mf,l.ONE_EM=ds,l.OverscaledTileID=vs,l.Point=r,l.Point$1=r,l.Properties=Ba,l.Protobuf=vd,l.RGBAImage=Rs,l.RequestManager=Pe,l.RequestPerformance=nc,l.ResourceType=wt,l.SegmentVector=X,l.SourceFeatureState=Ed,l.StructArrayLayout1ui2=$f,l.StructArrayLayout2f1f2i16=ef,l.StructArrayLayout2i4=Is,l.StructArrayLayout3ui6=tf,l.StructArrayLayout4i8=cl,l.SymbolBucket=Ya,l.Texture=Pc,l.Tile=ps,l.Transitionable=Ta,l.Uniform1f=Jr,l.Uniform1i=tn,l.Uniform2f=ln,l.Uniform3f=wn,l.Uniform4f=Un,l.UniformColor=jn,l.UniformMatrix4f=ni,l.UnwrappedTileID=mp,l.ValidationError=Pr,l.WritingMode=vu,l.ZoomHistory=he,l.add=function _d(O,N,W){return O[0]=N[0]+W[0],O[1]=N[1]+W[1],O[2]=N[2]+W[2],O},l.addDynamicAttributes=fh,l.asyncAll=function p(O,N,W){if(!O.length)return W(null,[]);var ae=O.length,me=new Array(O.length),Se=null;O.forEach(function(Le,rt){N(Le,function(mt,Mt){mt&&(Se=mt),me[rt]=Mt,0==--ae&&W(Se,me)})})},l.bezier=f,l.bindAll=E,l.browser=fe,l.cacheEntryPossiblyAdded=function Kt(O){++gt>Be&&(O.getActor().send("enforceCacheSizeLimit",Re),gt=0)},l.clamp=d,l.clearTileCache=function Lt(O){var N=self.caches.delete(ke);O&&N.catch(O).then(function(){return O()})},l.clipLine=Ey,l.clone=function Vv(O){var N=new _s(16);return N[0]=O[0],N[1]=O[1],N[2]=O[2],N[3]=O[3],N[4]=O[4],N[5]=O[5],N[6]=O[6],N[7]=O[7],N[8]=O[8],N[9]=O[9],N[10]=O[10],N[11]=O[11],N[12]=O[12],N[13]=O[13],N[14]=O[14],N[15]=O[15],N},l.clone$1=y,l.clone$2=function a0(O){var N=new _s(3);return N[0]=O[0],N[1]=O[1],N[2]=O[2],N},l.collisionCircleLayout=$1,l.config=re,l.create=function od(){var O=new _s(16);return _s!=Float32Array&&(O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[6]=0,O[7]=0,O[8]=0,O[9]=0,O[11]=0,O[12]=0,O[13]=0,O[14]=0),O[0]=1,O[5]=1,O[10]=1,O[15]=1,O},l.create$1=function ad(){var O=new _s(9);return _s!=Float32Array&&(O[1]=0,O[2]=0,O[3]=0,O[5]=0,O[6]=0,O[7]=0),O[0]=1,O[4]=1,O[8]=1,O},l.create$2=function id(){var O=new _s(4);return _s!=Float32Array&&(O[1]=0,O[2]=0),O[0]=1,O[3]=1,O},l.createCommonjsModule=R,l.createExpression=Yf,l.createLayout=xa,l.createStyleLayer=function Rw(O){return"custom"===O.type?new wx(O):new Tx[O.type](O)},l.cross=function Gg(O,N,W){var ae=N[0],me=N[1],Se=N[2],Le=W[0],rt=W[1],mt=W[2];return O[0]=me*mt-Se*rt,O[1]=Se*Le-ae*mt,O[2]=ae*rt-me*Le,O},l.deepEqual=function c(O,N){if(Array.isArray(O)){if(!Array.isArray(N)||O.length!==N.length)return!1;for(var W=0;W<O.length;W++)if(!c(O[W],N[W]))return!1;return!0}if("object"==typeof O&&null!==O&&null!==N){if("object"!=typeof N)return!1;if(Object.keys(O).length!==Object.keys(N).length)return!1;for(var me in O)if(!c(O[me],N[me]))return!1;return!0}return O===N},l.dot=function uw(O,N){return O[0]*N[0]+O[1]*N[1]+O[2]*N[2]},l.dot$1=function b1(O,N){return O[0]*N[0]+O[1]*N[1]+O[2]*N[2]+O[3]*N[3]},l.ease=h,l.emitValidationErrors=Si,l.endsWith=M,l.enforceCacheSizeLimit=function ir(O){Ue(),Ye&&Ye.then(function(N){N.keys().then(function(W){for(var ae=0;ae<W.length-O;ae++)N.delete(W[ae])})})},l.evaluateSizeForFeature=F0,l.evaluateSizeForZoom=k0,l.evaluateVariableOffset=Ly,l.evented=on,l.extend=u,l.featureFilter=qu,l.filterObject=D,l.fromRotation=function wf(O,N){var W=Math.sin(N),ae=Math.cos(N);return O[0]=ae,O[1]=W,O[2]=0,O[3]=-W,O[4]=ae,O[5]=0,O[6]=0,O[7]=0,O[8]=1,O},l.getAnchorAlignment=Ty,l.getAnchorJustification=Dc,l.getArrayBuffer=It,l.getImage=$e,l.getJSON=function(O,N){return ct(u(O,{type:"json"}),N)},l.getRTLTextPluginStatus=ei,l.getReferrer=rr,l.getVideo=function(O,N){var W=self.document.createElement("video");W.muted=!0,W.onloadstart=function(){N(null,W)};for(var ae=0;ae<O.length;ae++){var me=self.document.createElement("source");Rt(O[ae])||(W.crossOrigin="Anonymous"),me.src=O[ae],W.appendChild(me)}return{cancel:function(){}}},l.identity=$o,l.invert=function Qc(O,N){var W=N[0],ae=N[1],me=N[2],Se=N[3],Le=N[4],rt=N[5],mt=N[6],Mt=N[7],Pt=N[8],Jt=N[9],cr=N[10],lr=N[11],Dr=N[12],Zr=N[13],xn=N[14],hn=N[15],On=W*rt-ae*Le,Ln=W*mt-me*Le,kn=W*Mt-Se*Le,Hn=ae*mt-me*rt,ri=ae*Mt-Se*rt,xi=me*Mt-Se*mt,di=Pt*Zr-Jt*Dr,Bi=Pt*xn-cr*Dr,Li=Pt*hn-lr*Dr,Ui=Jt*xn-cr*Zr,ua=Jt*hn-lr*Zr,Hi=cr*hn-lr*xn,Wi=On*Hi-Ln*ua+kn*Ui+Hn*Li-ri*Bi+xi*di;return Wi?(O[0]=(rt*Hi-mt*ua+Mt*Ui)*(Wi=1/Wi),O[1]=(me*ua-ae*Hi-Se*Ui)*Wi,O[2]=(Zr*xi-xn*ri+hn*Hn)*Wi,O[3]=(cr*ri-Jt*xi-lr*Hn)*Wi,O[4]=(mt*Li-Le*Hi-Mt*Bi)*Wi,O[5]=(W*Hi-me*Li+Se*Bi)*Wi,O[6]=(xn*kn-Dr*xi-hn*Ln)*Wi,O[7]=(Pt*xi-cr*kn+lr*Ln)*Wi,O[8]=(Le*ua-rt*Li+Mt*di)*Wi,O[9]=(ae*Li-W*ua-Se*di)*Wi,O[10]=(Dr*ri-Zr*kn+hn*On)*Wi,O[11]=(Jt*kn-Pt*ri-lr*On)*Wi,O[12]=(rt*Bi-Le*Ui-mt*di)*Wi,O[13]=(W*Ui-ae*Bi+me*di)*Wi,O[14]=(Zr*Ln-Dr*Hn-xn*On)*Wi,O[15]=(Pt*Hn-Jt*Ln+cr*On)*Wi,O):null},l.isChar=Ae,l.isMapboxURL=Ce,l.keysDifference=function m(O,N){var W=[];for(var ae in O)ae in N||W.push(ae);return W},l.makeRequest=ct,l.mapObject=i,l.mercatorXfromLng=Uh,l.mercatorYfromLat=pu,l.mercatorZfromAltitude=Uy,l.mul=n0,l.multiply=sf,l.mvt=Cc,l.normalize=function qf(O,N){var W=N[0],ae=N[1],me=N[2],Se=W*W+ae*ae+me*me;return Se>0&&(Se=1/Math.sqrt(Se)),O[0]=N[0]*Se,O[1]=N[1]*Se,O[2]=N[2]*Se,O},l.number=Ro,l.offscreenCanvasSupported=Cr,l.ortho=function Fh(O,N,W,ae,me,Se,Le){var rt=1/(N-W),mt=1/(ae-me),Mt=1/(Se-Le);return O[0]=-2*rt,O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=-2*mt,O[6]=0,O[7]=0,O[8]=0,O[9]=0,O[10]=2*Mt,O[11]=0,O[12]=(N+W)*rt,O[13]=(me+ae)*mt,O[14]=(Le+Se)*Mt,O[15]=1,O},l.parseGlyphPBF=function D0(O){return new vd(O).readFields(Ew,[])},l.pbf=vd,l.performSymbolLayout=function Iy(O,N,W,ae,me,Se,Le){O.createArrays(),O.tilePixelRatio=Xi/(512*O.overscaling),O.compareText={},O.iconsNeedLinear=!1;var mt=O.layers[0].layout,Mt=O.layers[0]._unevaluatedLayout._values,Pt={};if("composite"===O.textSizeData.kind){var Jt=O.textSizeData,lr=Jt.maxZoom;Pt.compositeTextSizes=[Mt["text-size"].possiblyEvaluate(new Gi(Jt.minZoom),Le),Mt["text-size"].possiblyEvaluate(new Gi(lr),Le)]}if("composite"===O.iconSizeData.kind){var Dr=O.iconSizeData,xn=Dr.maxZoom;Pt.compositeIconSizes=[Mt["icon-size"].possiblyEvaluate(new Gi(Dr.minZoom),Le),Mt["icon-size"].possiblyEvaluate(new Gi(xn),Le)]}Pt.layoutTextSize=Mt["text-size"].possiblyEvaluate(new Gi(O.zoom+1),Le),Pt.layoutIconSize=Mt["icon-size"].possiblyEvaluate(new Gi(O.zoom+1),Le),Pt.textMaxSize=Mt["text-size"].possiblyEvaluate(new Gi(18));for(var hn=mt.get("text-line-height")*ds,On="map"===mt.get("text-rotation-alignment")&&"point"!==mt.get("symbol-placement"),Ln=mt.get("text-keep-upright"),kn=mt.get("text-size"),Hn=function(){var di=xi[ri],Bi=mt.get("text-font").evaluate(di,{},Le).join(","),Li=kn.evaluate(di,{},Le),Ui=Pt.layoutTextSize.evaluate(di,{},Le),ua=Pt.layoutIconSize.evaluate(di,{},Le),Hi={horizontal:{},vertical:void 0},Wi=di.text,pa=[0,0];if(Wi){var aa=Wi.toString(),Ea=mt.get("text-letter-spacing").evaluate(di,{},Le)*ds,$a=function it(O){for(var N=0,W=O;N<W.length;N+=1)if(!at(W[N].charCodeAt(0)))return!1;return!0}(aa)?Ea:0,Ra=mt.get("text-anchor").evaluate(di,{},Le),Na=mt.get("text-variable-anchor");if(!Na){var Fa=mt.get("text-radial-offset").evaluate(di,{},Le);pa=Fa?Ly(Ra,[Fa*ds,wd]):mt.get("text-offset").evaluate(di,{},Le).map(function(ic){return ic*ds})}var oo=On?"center":mt.get("text-justify").evaluate(di,{},Le),so=mt.get("symbol-placement"),Lo="point"===so?mt.get("text-max-width").evaluate(di,{},Le)*ds:0,es=function(){O.allowVerticalPlacement&&Ge(aa)&&(Hi.vertical=lp(Wi,N,W,me,Bi,Lo,hn,Ra,"left",$a,pa,vu.vertical,!0,so,Ui,Li))};if(!On&&Na){for(var Ss="auto"===oo?Na.map(function(ic){return Dc(ic)}):[oo],gs=!1,bl=0;bl<Ss.length;bl++){var js=Ss[bl];if(!Hi.horizontal[js])if(gs)Hi.horizontal[js]=Hi.horizontal[0];else{var ys=lp(Wi,N,W,me,Bi,Lo,hn,"center",js,$a,pa,vu.horizontal,!1,so,Ui,Li);ys&&(Hi.horizontal[js]=ys,gs=1===ys.positionedLines.length)}}es()}else{"auto"===oo&&(oo=Dc(Ra));var zl=lp(Wi,N,W,me,Bi,Lo,hn,Ra,oo,$a,pa,vu.horizontal,!1,so,Ui,Li);zl&&(Hi.horizontal[oo]=zl),es(),Ge(aa)&&On&&Ln&&(Hi.vertical=lp(Wi,N,W,me,Bi,Lo,hn,Ra,oo,$a,pa,vu.vertical,!1,so,Ui,Li))}}var Fs=void 0,as=!1;if(di.icon&&di.icon.name){var el=ae[di.icon.name];el&&(Fs=function Ay(O,N,W){var ae=Ty(W),mt=N[0]-O.displaySize[0]*ae.horizontalAlign,Pt=N[1]-O.displaySize[1]*ae.verticalAlign;return{image:O,top:Pt,bottom:Pt+O.displaySize[1],left:mt,right:mt+O.displaySize[0]}}(me[di.icon.name],mt.get("icon-offset").evaluate(di,{},Le),mt.get("icon-anchor").evaluate(di,{},Le)),as=el.sdf,void 0===O.sdfIcons?O.sdfIcons=el.sdf:O.sdfIcons!==el.sdf&&_("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(el.pixelRatio!==O.pixelRatio||0!==mt.get("icon-rotate").constantOr(1))&&(O.iconsNeedLinear=!0))}var gu=gx(Hi.horizontal)||Hi.vertical;O.iconsInText=!!gu&&gu.iconsInText,(gu||Fs)&&function Iw(O,N,W,ae,me,Se,Le,rt,mt,Mt,Pt){var Jt=Se.textMaxSize.evaluate(N,{});void 0===Jt&&(Jt=Le);var Hi,cr=O.layers[0].layout,lr=cr.get("icon-offset").evaluate(N,{},Pt),Dr=gx(W.horizontal),Zr=24,xn=Le/Zr,hn=O.tilePixelRatio*xn,On=O.tilePixelRatio*Jt/Zr,Ln=O.tilePixelRatio*rt,kn=O.tilePixelRatio*cr.get("symbol-spacing"),Hn=cr.get("text-padding")*O.tilePixelRatio,ri=cr.get("icon-padding")*O.tilePixelRatio,xi=cr.get("text-max-angle")/180*Math.PI,di="map"===cr.get("text-rotation-alignment")&&"point"!==cr.get("symbol-placement"),Bi="map"===cr.get("icon-rotation-alignment")&&"point"!==cr.get("symbol-placement"),Li=cr.get("symbol-placement"),Ui=kn/2,ua=cr.get("icon-text-fit");ae&&"none"!==ua&&(O.allowVerticalPlacement&&W.vertical&&(Hi=P0(ae,W.vertical,ua,cr.get("icon-text-fit-padding"),lr,xn)),Dr&&(ae=P0(ae,Dr,ua,cr.get("icon-text-fit-padding"),lr,xn)));var Wi=function(Gh,oi){oi.x<0||oi.x>=Xi||oi.y<0||oi.y>=Xi||function Pw(O,N,W,ae,me,Se,Le,rt,mt,Mt,Pt,Jt,cr,lr,Dr,Zr,xn,hn,On,Ln,kn,Hn,ri,xi,di){var Bi,Ui,ua,Hi,Wi,Li=O.addToLineVertexArray(N,W),pa=0,aa=0,Ea=0,$a=0,Ra=-1,Na=-1,Fa={},oo=qe(""),so=0,Lo=0;if(void 0===rt._unevaluatedLayout.getValue("text-radial-offset")?(so=(Bi=rt.layout.get("text-offset").evaluate(kn,{},xi).map(function(jh){return jh*ds}))[0],Lo=Bi[1]):(so=rt.layout.get("text-radial-offset").evaluate(kn,{},xi)*ds,Lo=wd),O.allowVerticalPlacement&&ae.vertical){var Ss=rt.layout.get("text-rotate").evaluate(kn,{},xi)+90;Hi=new yd(mt,N,Mt,Pt,Jt,ae.vertical,cr,lr,Dr,Ss),Le&&(Wi=new yd(mt,N,Mt,Pt,Jt,Le,xn,hn,Dr,Ss))}if(me){var bl=rt.layout.get("icon-rotate").evaluate(kn,{}),js="none"!==rt.layout.get("icon-text-fit"),ys=dv(me,bl,ri,js),zl=Le?dv(Le,bl,ri,js):void 0;ua=new yd(mt,N,Mt,Pt,Jt,me,xn,hn,!1,bl),pa=4*ys.length;var Fs=O.iconSizeData,as=null;"source"===Fs.kind?(as=[ku*rt.layout.get("icon-size").evaluate(kn,{})])[0]>Lc&&_(O.layerIds[0]+': Value for "icon-size" is >= '+pp+'. Reduce your "icon-size".'):"composite"===Fs.kind&&((as=[ku*Hn.compositeIconSizes[0].evaluate(kn,{},xi),ku*Hn.compositeIconSizes[1].evaluate(kn,{},xi)])[0]>Lc||as[1]>Lc)&&_(O.layerIds[0]+': Value for "icon-size" is >= '+pp+'. Reduce your "icon-size".'),O.addSymbols(O.icon,ys,as,Ln,On,kn,!1,N,Li.lineStartIndex,Li.lineLength,-1,xi),Ra=O.icon.placedSymbolArray.length-1,zl&&(aa=4*zl.length,O.addSymbols(O.icon,zl,as,Ln,On,kn,vu.vertical,N,Li.lineStartIndex,Li.lineLength,-1,xi),Na=O.icon.placedSymbolArray.length-1)}for(var el in ae.horizontal){var gu=ae.horizontal[el];if(!Ui){oo=qe(gu.text);var ic=rt.layout.get("text-rotate").evaluate(kn,{},xi);Ui=new yd(mt,N,Mt,Pt,Jt,gu,cr,lr,Dr,ic)}var kc=1===gu.positionedLines.length;if(Ea+=Py(O,N,gu,Se,rt,Dr,kn,Zr,Li,ae.vertical?vu.horizontal:vu.horizontalOnly,kc?Object.keys(ae.horizontal):[el],Fa,Ra,Hn,xi),kc)break}ae.vertical&&($a+=Py(O,N,ae.vertical,Se,rt,Dr,kn,Zr,Li,vu.vertical,["vertical"],Fa,Na,Hn,xi));var ba=Ui?Ui.boxStartIndex:O.collisionBoxArray.length,na=Ui?Ui.boxEndIndex:O.collisionBoxArray.length,Gh=Hi?Hi.boxStartIndex:O.collisionBoxArray.length,oi=Hi?Hi.boxEndIndex:O.collisionBoxArray.length,bv=ua?ua.boxStartIndex:O.collisionBoxArray.length,G0=ua?ua.boxEndIndex:O.collisionBoxArray.length,_h=Wi?Wi.boxStartIndex:O.collisionBoxArray.length,hh=Wi?Wi.boxEndIndex:O.collisionBoxArray.length,$l=-1,ac=function(jh,wp){return jh&&jh.circleDiameter?Math.max(jh.circleDiameter,wp):wp};$l=ac(Ui,$l),$l=ac(Hi,$l),$l=ac(ua,$l);var wv=($l=ac(Wi,$l))>-1?1:0;wv&&($l*=di/ds),O.glyphOffsetArray.length>=Ya.MAX_GLYPHS&&_("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==kn.sortKey&&O.addToSortKeyRanges(O.symbolInstances.length,kn.sortKey),O.symbolInstances.emplaceBack(N.x,N.y,Fa.right>=0?Fa.right:-1,Fa.center>=0?Fa.center:-1,Fa.left>=0?Fa.left:-1,Fa.vertical||-1,Ra,Na,oo,ba,na,Gh,oi,bv,G0,_h,hh,Mt,Ea,$a,pa,aa,wv,0,cr,so,Lo,$l)}(O,oi,Gh,W,ae,me,Hi,O.layers[0],O.collisionBoxArray,N.index,N.sourceLayerIndex,O.index,hn,Hn,di,mt,Ln,ri,Bi,lr,N,Se,Mt,Pt,Le)};if("line"===Li)for(var pa=0,aa=Ey(N.geometry,0,0,Xi,Xi);pa<aa.length;pa+=1)for(var Ea=aa[pa],Ra=0,Na=Cy(Ea,kn,xi,W.vertical||Dr,ae,Zr,On,O.overscaling,Xi);Ra<Na.length;Ra+=1){var Fa=Na[Ra];(!Dr||!gp(O,Dr.text,Ui,Fa))&&Wi(Ea,Fa)}else if("line-center"===Li)for(var so=0,Lo=N.geometry;so<Lo.length;so+=1){var es=Lo[so];if(es.length>1){var Ss=Sy(es,xi,W.vertical||Dr,ae,Zr,On);Ss&&Wi(es,Ss)}}else if("Polygon"===N.type)for(var gs=0,bl=p0(N.geometry,0);gs<bl.length;gs+=1){var js=bl[gs],ys=Dy(js,16);Wi(js[0],new oh(ys.x,ys.y,0))}else if("LineString"===N.type)for(var zl=0,Fs=N.geometry;zl<Fs.length;zl+=1){var as=Fs[zl];Wi(as,new oh(as[0].x,as[0].y,0))}else if("Point"===N.type)for(var el=0,gu=N.geometry;el<gu.length;el+=1)for(var kc=0,ba=gu[el];kc<ba.length;kc+=1){var na=ba[kc];Wi([na],new oh(na.x,na.y,0))}}(O,di,Hi,Fs,ae,Pt,Ui,ua,pa,as,Le)},ri=0,xi=O.features;ri<xi.length;ri+=1)Hn();Se&&O.generateCollisionDebugBuffers()},l.perspective=function qc(O,N,W,ae,me){var Le,Se=1/Math.tan(N/2);return O[0]=Se/W,O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=Se,O[6]=0,O[7]=0,O[8]=0,O[9]=0,O[11]=-1,O[12]=0,O[13]=0,O[15]=0,null!=me&&me!==1/0?(O[10]=(me+ae)*(Le=1/(ae-me)),O[14]=2*me*ae*Le):(O[10]=-1,O[14]=-2*ae),O},l.pick=function g(O,N){for(var W={},ae=0;ae<N.length;ae++){var me=N[ae];me in O&&(W[me]=O[me])}return W},l.plugin=Ii,l.polygonIntersectsPolygon=la,l.postMapLoadEvent=nt,l.postTurnstileEvent=Ct,l.potpack=ux,l.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],l.register=Ci,l.registerForPluginStateChange=function(O){return O({pluginStatus:Wr,pluginURL:qr}),on.on("pluginStateChange",O),O},l.rotate=function ml(O,N,W){var ae=N[0],me=N[1],Se=N[2],Le=N[3],rt=Math.sin(W),mt=Math.cos(W);return O[0]=ae*mt+Se*rt,O[1]=me*mt+Le*rt,O[2]=ae*-rt+Se*mt,O[3]=me*-rt+Le*mt,O},l.rotateX=function Ms(O,N,W){var ae=Math.sin(W),me=Math.cos(W),Se=N[4],Le=N[5],rt=N[6],mt=N[7],Mt=N[8],Pt=N[9],Jt=N[10],cr=N[11];return N!==O&&(O[0]=N[0],O[1]=N[1],O[2]=N[2],O[3]=N[3],O[12]=N[12],O[13]=N[13],O[14]=N[14],O[15]=N[15]),O[4]=Se*me+Mt*ae,O[5]=Le*me+Pt*ae,O[6]=rt*me+Jt*ae,O[7]=mt*me+cr*ae,O[8]=Mt*me-Se*ae,O[9]=Pt*me-Le*ae,O[10]=Jt*me-rt*ae,O[11]=cr*me-mt*ae,O},l.rotateZ=function Rh(O,N,W){var ae=Math.sin(W),me=Math.cos(W),Se=N[0],Le=N[1],rt=N[2],mt=N[3],Mt=N[4],Pt=N[5],Jt=N[6],cr=N[7];return N!==O&&(O[8]=N[8],O[9]=N[9],O[10]=N[10],O[11]=N[11],O[12]=N[12],O[13]=N[13],O[14]=N[14],O[15]=N[15]),O[0]=Se*me+Mt*ae,O[1]=Le*me+Pt*ae,O[2]=rt*me+Jt*ae,O[3]=mt*me+cr*ae,O[4]=Mt*me-Se*ae,O[5]=Pt*me-Le*ae,O[6]=Jt*me-rt*ae,O[7]=cr*me-mt*ae,O},l.scale=function Do(O,N,W){var ae=W[0],me=W[1],Se=W[2];return O[0]=N[0]*ae,O[1]=N[1]*ae,O[2]=N[2]*ae,O[3]=N[3]*ae,O[4]=N[4]*me,O[5]=N[5]*me,O[6]=N[6]*me,O[7]=N[7]*me,O[8]=N[8]*Se,O[9]=N[9]*Se,O[10]=N[10]*Se,O[11]=N[11]*Se,O[12]=N[12],O[13]=N[13],O[14]=N[14],O[15]=N[15],O},l.scale$1=function x1(O,N,W){return O[0]=N[0]*W,O[1]=N[1]*W,O[2]=N[2]*W,O[3]=N[3]*W,O},l.scale$2=function jd(O,N,W){return O[0]=N[0]*W,O[1]=N[1]*W,O[2]=N[2]*W,O},l.setCacheLimits=function Ut(O,N){Re=O,Be=N},l.setRTLTextPlugin=function(O,N,W){if(void 0===W&&(W=!1),Wr===yn_deferred||Wr===yn_loading||Wr===yn_loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");qr=fe.resolveURL(O),Wr=yn_deferred,Hr=N,rn(),W||Di()},l.sphericalToCartesian=function H(O){var N=O[0],W=O[1],ae=O[2];return W+=90,W*=Math.PI/180,ae*=Math.PI/180,{x:N*Math.cos(W)*Math.sin(ae),y:N*Math.sin(W)*Math.sin(ae),z:N*Math.cos(ae)}},l.sqrLen=T1,l.styleSpec=qt,l.sub=y1,l.symbolSize=up,l.transformMat3=function g1(O,N,W){var ae=N[0],me=N[1],Se=N[2];return O[0]=ae*W[0]+me*W[3]+Se*W[6],O[1]=ae*W[1]+me*W[4]+Se*W[7],O[2]=ae*W[2]+me*W[5]+Se*W[8],O},l.transformMat4=ld,l.translate=function jo(O,N,W){var Le,rt,mt,Mt,Pt,Jt,cr,lr,Dr,Zr,xn,hn,ae=W[0],me=W[1],Se=W[2];return N===O?(O[12]=N[0]*ae+N[4]*me+N[8]*Se+N[12],O[13]=N[1]*ae+N[5]*me+N[9]*Se+N[13],O[14]=N[2]*ae+N[6]*me+N[10]*Se+N[14],O[15]=N[3]*ae+N[7]*me+N[11]*Se+N[15]):(rt=N[1],mt=N[2],Mt=N[3],Pt=N[4],Jt=N[5],cr=N[6],lr=N[7],Dr=N[8],Zr=N[9],xn=N[10],hn=N[11],O[0]=Le=N[0],O[1]=rt,O[2]=mt,O[3]=Mt,O[4]=Pt,O[5]=Jt,O[6]=cr,O[7]=lr,O[8]=Dr,O[9]=Zr,O[10]=xn,O[11]=hn,O[12]=Le*ae+Pt*me+Dr*Se+N[12],O[13]=rt*ae+Jt*me+Zr*Se+N[13],O[14]=mt*ae+cr*me+xn*Se+N[14],O[15]=Mt*ae+lr*me+hn*Se+N[15]),O},l.triggerPluginCompletionEvent=mn,l.uniqueId=T,l.validateCustomStyleLayer=function Fy(O){var N=[],W=O.id;return void 0===W&&N.push({message:"layers."+W+': missing required property "id"'}),void 0===O.render&&N.push({message:"layers."+W+': missing required method "render"'}),O.renderingMode&&"2d"!==O.renderingMode&&"3d"!==O.renderingMode&&N.push({message:"layers."+W+': property "renderingMode" must be either "2d" or "3d"'}),N},l.validateLight=cn,l.validateStyle=sn,l.values=function A(O){var N=[];for(var W in O)N.push(O[W]);return N},l.vectorTile=Cc,l.version=I,l.warnOnce=_,l.webpSupported=$,l.window=self,l.wrap=b}),k(0,function(l){function R(bt){var ct=typeof bt;if("number"===ct||"boolean"===ct||"string"===ct||null==bt)return JSON.stringify(bt);if(Array.isArray(bt)){for(var At="[",It=0,Ft=bt;It<Ft.length;It+=1)At+=R(Ft[It])+",";return At+"]"}for(var Gt=Object.keys(bt).sort(),jt="{",er=0;er<Gt.length;er++)jt+=JSON.stringify(Gt[er])+":"+R(bt[Gt[er]])+",";return jt+"}"}function I(bt){for(var ct="",At=0,It=l.refProperties;At<It.length;At+=1)ct+="/"+R(bt[It[At]]);return ct}var w=function(ct){this.keyCache={},ct&&this.replace(ct)};w.prototype.replace=function(ct){this._layerConfigs={},this._layers={},this.update(ct,[])},w.prototype.update=function(ct,At){for(var It=this,Ft=0,Rt=ct;Ft<Rt.length;Ft+=1){var Gt=Rt[Ft];this._layerConfigs[Gt.id]=Gt;var jt=this._layers[Gt.id]=l.createStyleLayer(Gt);jt._featureFilter=l.featureFilter(jt.filter),this.keyCache[Gt.id]&&delete this.keyCache[Gt.id]}for(var er=0,dr=At;er<dr.length;er+=1){var hr=dr[er];delete this.keyCache[hr],delete this._layerConfigs[hr],delete this._layers[hr]}this.familiesBySource={};for(var $e=0,Ze=function v(bt,ct){for(var At={},It=0;It<bt.length;It++){var Ft=ct&&ct[bt[It].id]||I(bt[It]);ct&&(ct[bt[It].id]=Ft);var Rt=At[Ft];Rt||(Rt=At[Ft]=[]),Rt.push(bt[It])}var Gt=[];for(var jt in At)Gt.push(At[jt]);return Gt}(l.values(this._layerConfigs),this.keyCache);$e<Ze.length;$e+=1){var kt=Ze[$e].map(function(pr){return It._layers[pr.id]}),Xt=kt[0];if("none"!==Xt.visibility){var ur=Xt.source||"",vr=this.familiesBySource[ur];vr||(vr=this.familiesBySource[ur]={});var or=Xt.sourceLayer||"_geojsonTileLayer",Ht=vr[or];Ht||(Ht=vr[or]=[]),Ht.push(kt)}}};var n=function(ct){var At={},It=[];for(var Ft in ct){var Rt=ct[Ft],Gt=At[Ft]={};for(var jt in Rt){var er=Rt[+jt];if(er&&0!==er.bitmap.width&&0!==er.bitmap.height){var dr={x:0,y:0,w:er.bitmap.width+2,h:er.bitmap.height+2};It.push(dr),Gt[jt]={rect:dr,metrics:er.metrics}}}}var hr=l.potpack(It),Ze=new l.AlphaImage({width:hr.w||1,height:hr.h||1});for(var zt in ct){var kt=ct[zt];for(var Xt in kt){var ur=kt[+Xt];if(ur&&0!==ur.bitmap.width&&0!==ur.bitmap.height){var vr=At[zt][Xt].rect;l.AlphaImage.copy(ur.bitmap,Ze,{x:0,y:0},{x:vr.x+1,y:vr.y+1},ur.bitmap)}}}this.image=Ze,this.positions=At};l.register("GlyphAtlas",n);var c=function(ct){this.tileID=new l.OverscaledTileID(ct.tileID.overscaledZ,ct.tileID.wrap,ct.tileID.canonical.z,ct.tileID.canonical.x,ct.tileID.canonical.y),this.uid=ct.uid,this.zoom=ct.zoom,this.pixelRatio=ct.pixelRatio,this.tileSize=ct.tileSize,this.source=ct.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ct.showCollisionBoxes,this.collectResourceTiming=!!ct.collectResourceTiming,this.returnDependencies=!!ct.returnDependencies,this.promoteId=ct.promoteId};function o(bt,ct,At){for(var It=new l.EvaluationParameters(ct),Ft=0,Rt=bt;Ft<Rt.length;Ft+=1)Rt[Ft].recalculate(It,At)}function f(bt,ct){var At=l.getArrayBuffer(bt.request,function(It,Ft,Rt,Gt){It?ct(It):Ft&&ct(null,{vectorTile:new l.vectorTile.VectorTile(new l.pbf(Ft)),rawData:Ft,cacheControl:Rt,expires:Gt})});return function(){At.cancel(),ct()}}c.prototype.parse=function(ct,At,It,Ft,Rt){var Gt=this;this.status="parsing",this.data=ct,this.collisionBoxArray=new l.CollisionBoxArray;var jt=new l.DictionaryCoder(Object.keys(ct.layers).sort()),er=new l.FeatureIndex(this.tileID,this.promoteId);er.bucketLayerIDs=[];var dr={},hr={featureIndex:er,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:It},wr=At.familiesBySource[this.source];for(var $e in wr){var Ze=ct.layers[$e];if(Ze){1===Ze.version&&l.warnOnce('Vector tile source "'+this.source+'" layer "'+$e+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var zt=jt.encode($e),kt=[],Xt=0;Xt<Ze.length;Xt++){var ur=Ze.feature(Xt),vr=er.getId(ur,$e);kt.push({feature:ur,id:vr,index:Xt,sourceLayerIndex:zt})}for(var or=0,Ht=wr[$e];or<Ht.length;or+=1){var pr=Ht[or],xr=pr[0];xr.minzoom&&this.zoom<Math.floor(xr.minzoom)||xr.maxzoom&&this.zoom>=xr.maxzoom||"none"===xr.visibility||(o(pr,this.zoom,It),(dr[xr.id]=xr.createBucket({index:er.bucketLayerIDs.length,layers:pr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:zt,sourceID:this.source})).populate(kt,hr,this.tileID.canonical),er.bucketLayerIDs.push(pr.map(function(Tr){return Tr.id})))}}}var kr,un,Nr,Yr,$r=l.mapObject(hr.glyphDependencies,function(Tr){return Object.keys(Tr).map(Number)});Object.keys($r).length?Ft.send("getGlyphs",{uid:this.uid,stacks:$r},function(Tr,nr){kr||(kr=Tr,un=nr,An.call(Gt))}):un={};var Qr=Object.keys(hr.iconDependencies);Qr.length?Ft.send("getImages",{icons:Qr,source:this.source,tileID:this.tileID,type:"icons"},function(Tr,nr){kr||(kr=Tr,Nr=nr,An.call(Gt))}):Nr={};var Wn=Object.keys(hr.patternDependencies);function An(){if(kr)return Rt(kr);if(un&&Nr&&Yr){var Tr=new n(un),nr=new l.ImageAtlas(Nr,Yr);for(var Xr in dr){var Ur=dr[Xr];Ur instanceof l.SymbolBucket?(o(Ur.layers,this.zoom,It),l.performSymbolLayout(Ur,un,Tr.positions,Nr,nr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Ur.hasPattern&&(Ur instanceof l.LineBucket||Ur instanceof l.FillBucket||Ur instanceof l.FillExtrusionBucket)&&(o(Ur.layers,this.zoom,It),Ur.addFeatures(hr,this.tileID.canonical,nr.patternPositions))}this.status="done",Rt(null,{buckets:l.values(dr).filter(function(an){return!an.isEmpty()}),featureIndex:er,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Tr.image,imageAtlas:nr,glyphMap:this.returnDependencies?un:null,iconMap:this.returnDependencies?Nr:null,glyphPositions:this.returnDependencies?Tr.positions:null})}}Wn.length?Ft.send("getImages",{icons:Wn,source:this.source,tileID:this.tileID,type:"patterns"},function(Tr,nr){kr||(kr=Tr,Yr=nr,An.call(Gt))}):Yr={},An.call(this)};var h=function(ct,At,It,Ft){this.actor=ct,this.layerIndex=At,this.availableImages=It,this.loadVectorData=Ft||f,this.loading={},this.loaded={}};h.prototype.loadTile=function(ct,At){var It=this,Ft=ct.uid;this.loading||(this.loading={});var Rt=!!(ct&&ct.request&&ct.request.collectResourceTiming)&&new l.RequestPerformance(ct.request),Gt=this.loading[Ft]=new c(ct);Gt.abort=this.loadVectorData(ct,function(jt,er){if(delete It.loading[Ft],jt||!er)return Gt.status="done",It.loaded[Ft]=Gt,At(jt);var dr=er.rawData,hr={};er.expires&&(hr.expires=er.expires),er.cacheControl&&(hr.cacheControl=er.cacheControl);var wr={};if(Rt){var $e=Rt.finish();$e&&(wr.resourceTiming=JSON.parse(JSON.stringify($e)))}Gt.vectorTile=er.vectorTile,Gt.parse(er.vectorTile,It.layerIndex,It.availableImages,It.actor,function(Ze,zt){if(Ze||!zt)return At(Ze);At(null,l.extend({rawTileData:dr.slice(0)},zt,hr,wr))}),It.loaded=It.loaded||{},It.loaded[Ft]=Gt})},h.prototype.reloadTile=function(ct,At){var It=this,Ft=this.loaded,Rt=ct.uid,Gt=this;if(Ft&&Ft[Rt]){var jt=Ft[Rt];jt.showCollisionBoxes=ct.showCollisionBoxes;var er=function(dr,hr){var wr=jt.reloadCallback;wr&&(delete jt.reloadCallback,jt.parse(jt.vectorTile,Gt.layerIndex,It.availableImages,Gt.actor,wr)),At(dr,hr)};"parsing"===jt.status?jt.reloadCallback=er:"done"===jt.status&&(jt.vectorTile?jt.parse(jt.vectorTile,this.layerIndex,this.availableImages,this.actor,er):er())}},h.prototype.abortTile=function(ct,At){var It=this.loading,Ft=ct.uid;It&&It[Ft]&&It[Ft].abort&&(It[Ft].abort(),delete It[Ft]),At()},h.prototype.removeTile=function(ct,At){var It=this.loaded,Ft=ct.uid;It&&It[Ft]&&delete It[Ft],At()};var d=l.window.ImageBitmap,b=function(){this.loaded={}};b.prototype.loadTile=function(ct,At){var It=ct.uid,Ft=ct.encoding,Rt=ct.rawImageData,Gt=d&&Rt instanceof d?this.getImageData(Rt):Rt,jt=new l.DEMData(It,Gt,Ft);this.loaded=this.loaded||{},this.loaded[It]=jt,At(null,jt)},b.prototype.getImageData=function(ct){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ct.width,ct.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ct.width,this.offscreenCanvas.height=ct.height,this.offscreenCanvasContext.drawImage(ct,0,0,ct.width,ct.height);var At=this.offscreenCanvasContext.getImageData(-1,-1,ct.width+2,ct.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new l.RGBAImage({width:At.width,height:At.height},At.data)},b.prototype.removeTile=function(ct){var At=this.loaded,It=ct.uid;At&&At[It]&&delete At[It]};var p=function A(bt,ct){var It,At=bt&&bt.type;if("FeatureCollection"===At)for(It=0;It<bt.features.length;It++)A(bt.features[It],ct);else if("GeometryCollection"===At)for(It=0;It<bt.geometries.length;It++)A(bt.geometries[It],ct);else if("Feature"===At)A(bt.geometry,ct);else if("Polygon"===At)m(bt.coordinates,ct);else if("MultiPolygon"===At)for(It=0;It<bt.coordinates.length;It++)m(bt.coordinates[It],ct);return bt};function m(bt,ct){if(0!==bt.length){u(bt[0],ct);for(var At=1;At<bt.length;At++)u(bt[At],!ct)}}function u(bt,ct){for(var At=0,It=0,Ft=bt.length,Rt=Ft-1;It<Ft;Rt=It++)At+=(bt[It][0]-bt[Rt][0])*(bt[Rt][1]+bt[It][1]);At>=0!=!!ct&&bt.reverse()}var g=l.vectorTile.VectorTileFeature.prototype.toGeoJSON,C=function(ct){this._feature=ct,this.extent=l.EXTENT,this.type=ct.type,this.properties=ct.tags,"id"in ct&&!isNaN(ct.id)&&(this.id=parseInt(ct.id,10))};C.prototype.loadGeometry=function(){if(1===this._feature.type){for(var ct=[],At=0,It=this._feature.geometry;At<It.length;At+=1){var Ft=It[At];ct.push([new l.Point$1(Ft[0],Ft[1])])}return ct}for(var Rt=[],Gt=0,jt=this._feature.geometry;Gt<jt.length;Gt+=1){for(var dr=[],hr=0,wr=jt[Gt];hr<wr.length;hr+=1){var $e=wr[hr];dr.push(new l.Point$1($e[0],$e[1]))}Rt.push(dr)}return Rt},C.prototype.toGeoJSON=function(ct,At,It){return g.call(this,ct,At,It)};var T=function(ct){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=l.EXTENT,this.length=ct.length,this._features=ct};T.prototype.feature=function(ct){return new C(this._features[ct])};var L=l.vectorTile.VectorTileFeature,x=E;function E(bt,ct){this.options=ct||{},this.features=bt,this.length=bt.length}function M(bt,ct){this.id="number"==typeof bt.id?bt.id:void 0,this.type=bt.type,this.rawGeometry=1===bt.type?[bt.geometry]:bt.geometry,this.properties=bt.tags,this.extent=ct||4096}E.prototype.feature=function(bt){return new M(this.features[bt],this.options.extent)},M.prototype.loadGeometry=function(){var bt=this.rawGeometry;this.geometry=[];for(var ct=0;ct<bt.length;ct++){for(var At=bt[ct],It=[],Ft=0;Ft<At.length;Ft++)It.push(new l.Point$1(At[Ft][0],At[Ft][1]));this.geometry.push(It)}return this.geometry},M.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var bt=this.geometry,ct=1/0,At=-1/0,It=1/0,Ft=-1/0,Rt=0;Rt<bt.length;Rt++)for(var Gt=bt[Rt],jt=0;jt<Gt.length;jt++){var er=Gt[jt];ct=Math.min(ct,er.x),At=Math.max(At,er.x),It=Math.min(It,er.y),Ft=Math.max(Ft,er.y)}return[ct,It,At,Ft]},M.prototype.toGeoJSON=L.prototype.toGeoJSON;var i=F,y=function _(bt,ct){ct=ct||{};var At={};for(var It in bt)At[It]=new x(bt[It].features,ct),At[It].name=It,At[It].version=ct.version,At[It].extent=ct.extent;return F({layers:At})},B=x;function F(bt){var ct=new l.pbf;return function z(bt,ct){for(var At in bt.layers)ct.writeMessage(3,V,bt.layers[At])}(bt,ct),ct.finish()}function V(bt,ct){ct.writeVarintField(15,bt.version||1),ct.writeStringField(1,bt.name||""),ct.writeVarintField(5,bt.extent||4096);var At,It={keys:[],values:[],keycache:{},valuecache:{}};for(At=0;At<bt.length;At++)It.feature=bt.feature(At),ct.writeMessage(2,H,It);var Ft=It.keys;for(At=0;At<Ft.length;At++)ct.writeStringField(3,Ft[At]);var Rt=It.values;for(At=0;At<Rt.length;At++)ct.writeMessage(4,ue,Rt[At])}function H(bt,ct){var At=bt.feature;void 0!==At.id&&ct.writeVarintField(1,At.id),ct.writeMessage(2,U,bt),ct.writeVarintField(3,At.type),ct.writeMessage(4,ee,At)}function U(bt,ct){var At=bt.feature,It=bt.keys,Ft=bt.values,Rt=bt.keycache,Gt=bt.valuecache;for(var jt in At.properties){var er=Rt[jt];typeof er>"u"&&(It.push(jt),Rt[jt]=er=It.length-1),ct.writeVarint(er);var dr=At.properties[jt],hr=typeof dr;"string"!==hr&&"boolean"!==hr&&"number"!==hr&&(dr=JSON.stringify(dr));var wr=hr+":"+dr,$e=Gt[wr];typeof $e>"u"&&(Ft.push(dr),Gt[wr]=$e=Ft.length-1),ct.writeVarint($e)}}function G(bt,ct){return(ct<<3)+(7&bt)}function Y(bt){return bt<<1^bt>>31}function ee(bt,ct){for(var At=bt.loadGeometry(),It=bt.type,Ft=0,Rt=0,Gt=At.length,jt=0;jt<Gt;jt++){var er=At[jt],dr=1;1===It&&(dr=er.length),ct.writeVarint(G(1,dr));for(var hr=3===It?er.length-1:er.length,wr=0;wr<hr;wr++){1===wr&&1!==It&&ct.writeVarint(G(2,hr-1));var $e=er[wr].x-Ft,Ze=er[wr].y-Rt;ct.writeVarint(Y($e)),ct.writeVarint(Y(Ze)),Ft+=$e,Rt+=Ze}3===It&&ct.writeVarint(G(7,1))}}function ue(bt,ct){var At=typeof bt;"string"===At?ct.writeStringField(1,bt):"boolean"===At?ct.writeBooleanField(7,bt):"number"===At&&(bt%1!=0?ct.writeDoubleField(3,bt):bt<0?ct.writeSVarintField(6,bt):ct.writeVarintField(5,bt))}function ce(bt,ct,At,It,Ft,Rt){if(!(Ft-It<=At)){var Gt=It+Ft>>1;pe(bt,ct,Gt,It,Ft,Rt%2),ce(bt,ct,At,It,Gt-1,Rt+1),ce(bt,ct,At,Gt+1,Ft,Rt+1)}}function pe(bt,ct,At,It,Ft,Rt){for(;Ft>It;){if(Ft-It>600){var Gt=Ft-It+1,jt=At-It+1,er=Math.log(Gt),dr=.5*Math.exp(2*er/3),hr=.5*Math.sqrt(er*dr*(Gt-dr)/Gt)*(jt-Gt/2<0?-1:1);pe(bt,ct,At,Math.max(It,Math.floor(At-jt*dr/Gt+hr)),Math.min(Ft,Math.floor(At+(Gt-jt)*dr/Gt+hr)),Rt)}var Ze=ct[2*At+Rt],zt=It,kt=Ft;for(te(bt,ct,It,At),ct[2*Ft+Rt]>Ze&&te(bt,ct,It,Ft);zt<kt;){for(te(bt,ct,zt,kt),zt++,kt--;ct[2*zt+Rt]<Ze;)zt++;for(;ct[2*kt+Rt]>Ze;)kt--}ct[2*It+Rt]===Ze?te(bt,ct,It,kt):te(bt,ct,++kt,Ft),kt<=At&&(It=kt+1),At<=kt&&(Ft=kt-1)}}function te(bt,ct,At,It){Q(bt,At,It),Q(ct,2*At,2*It),Q(ct,2*At+1,2*It+1)}function Q(bt,ct,At){var It=bt[ct];bt[ct]=bt[At],bt[At]=It}function q(bt,ct,At,It){var Ft=bt-At,Rt=ct-It;return Ft*Ft+Rt*Rt}i.fromVectorTileJs=F,i.fromGeojsonVt=y,i.GeoJSONWrapper=B;var fe=function(bt){return bt[0]},re=function(bt){return bt[1]},$=function(ct,At,It,Ft,Rt){void 0===At&&(At=fe),void 0===It&&(It=re),void 0===Ft&&(Ft=64),void 0===Rt&&(Rt=Float64Array),this.nodeSize=Ft,this.points=ct;for(var Gt=ct.length<65536?Uint16Array:Uint32Array,jt=this.ids=new Gt(ct.length),er=this.coords=new Rt(2*ct.length),dr=0;dr<ct.length;dr++)jt[dr]=dr,er[2*dr]=At(ct[dr]),er[2*dr+1]=It(ct[dr]);ce(jt,er,Ft,0,jt.length-1,0)};$.prototype.range=function(ct,At,It,Ft){return function K(bt,ct,At,It,Ft,Rt,Gt){for(var dr,hr,jt=[0,bt.length-1,0],er=[];jt.length;){var wr=jt.pop(),$e=jt.pop(),Ze=jt.pop();if($e-Ze<=Gt)for(var zt=Ze;zt<=$e;zt++)hr=ct[2*zt+1],(dr=ct[2*zt])>=At&&dr<=Ft&&hr>=It&&hr<=Rt&&er.push(bt[zt]);else{var kt=Math.floor((Ze+$e)/2);hr=ct[2*kt+1],(dr=ct[2*kt])>=At&&dr<=Ft&&hr>=It&&hr<=Rt&&er.push(bt[kt]);var Xt=(wr+1)%2;(0===wr?At<=dr:It<=hr)&&(jt.push(Ze),jt.push(kt-1),jt.push(Xt)),(0===wr?Ft>=dr:Rt>=hr)&&(jt.push(kt+1),jt.push($e),jt.push(Xt))}}return er}(this.ids,this.coords,ct,At,It,Ft,this.nodeSize)},$.prototype.within=function(ct,At,It){return function Z(bt,ct,At,It,Ft,Rt){for(var Gt=[0,bt.length-1,0],jt=[],er=Ft*Ft;Gt.length;){var dr=Gt.pop(),hr=Gt.pop(),wr=Gt.pop();if(hr-wr<=Rt)for(var $e=wr;$e<=hr;$e++)q(ct[2*$e],ct[2*$e+1],At,It)<=er&&jt.push(bt[$e]);else{var Ze=Math.floor((wr+hr)/2),zt=ct[2*Ze],kt=ct[2*Ze+1];q(zt,kt,At,It)<=er&&jt.push(bt[Ze]);var Xt=(dr+1)%2;(0===dr?At-Ft<=zt:It-Ft<=kt)&&(Gt.push(wr),Gt.push(Ze-1),Gt.push(Xt)),(0===dr?At+Ft>=zt:It+Ft>=kt)&&(Gt.push(Ze+1),Gt.push(hr),Gt.push(Xt))}}return jt}(this.ids,this.coords,ct,At,It,this.nodeSize)};var le={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(bt){return bt}},se=function(ct){this.options=Ie(Object.create(le),ct),this.trees=new Array(this.options.maxZoom+1)};function de(bt,ct,At,It,Ft){return{x:bt,y:ct,zoom:1/0,id:At,parentId:-1,numPoints:It,properties:Ft}}function we(bt,ct){var At=bt.geometry.coordinates,Ft=At[1];return{x:Ne(At[0]),y:Ve(Ft),zoom:1/0,index:ct,parentId:-1}}function Ee(bt){return{type:"Feature",id:bt.id,properties:Me(bt),geometry:{type:"Point",coordinates:[Pe(bt.x),Ce(bt.y)]}}}function Me(bt){var ct=bt.numPoints,At=ct>=1e4?Math.round(ct/1e3)+"k":ct>=1e3?Math.round(ct/100)/10+"k":ct;return Ie(Ie({},bt.properties),{cluster:!0,cluster_id:bt.id,point_count:ct,point_count_abbreviated:At})}function Ne(bt){return bt/360+.5}function Ve(bt){var ct=Math.sin(bt*Math.PI/180),At=.5-.25*Math.log((1+ct)/(1-ct))/Math.PI;return At<0?0:At>1?1:At}function Pe(bt){return 360*(bt-.5)}function Ce(bt){var ct=(180-360*bt)*Math.PI/180;return 360*Math.atan(Math.exp(ct))/Math.PI-90}function Ie(bt,ct){for(var At in ct)bt[At]=ct[At];return bt}function Je(bt){return bt.x}function Qe(bt){return bt.y}function ze(bt,ct,At,It){for(var jt,Ft=It,Rt=At-ct>>1,Gt=At-ct,er=bt[ct],dr=bt[ct+1],hr=bt[At],wr=bt[At+1],$e=ct+3;$e<At;$e+=3){var Ze=Ke(bt[$e],bt[$e+1],er,dr,hr,wr);if(Ze>Ft)jt=$e,Ft=Ze;else if(Ze===Ft){var zt=Math.abs($e-Rt);zt<Gt&&(jt=$e,Gt=zt)}}Ft>It&&(jt-ct>3&&ze(bt,ct,jt,It),bt[jt+2]=Ft,At-jt>3&&ze(bt,jt,At,It))}function Ke(bt,ct,At,It,Ft,Rt){var Gt=Ft-At,jt=Rt-It;if(0!==Gt||0!==jt){var er=((bt-At)*Gt+(ct-It)*jt)/(Gt*Gt+jt*jt);er>1?(At=Ft,It=Rt):er>0&&(At+=Gt*er,It+=jt*er)}return(Gt=bt-At)*Gt+(jt=ct-It)*jt}function ut(bt,ct,At,It){var Ft={id:typeof bt>"u"?null:bt,type:ct,geometry:At,tags:It,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function ot(bt){var ct=bt.geometry,At=bt.type;if("Point"===At||"MultiPoint"===At||"LineString"===At)We(bt,ct);else if("Polygon"===At||"MultiLineString"===At)for(var It=0;It<ct.length;It++)We(bt,ct[It]);else if("MultiPolygon"===At)for(It=0;It<ct.length;It++)for(var Ft=0;Ft<ct[It].length;Ft++)We(bt,ct[It][Ft])}(Ft),Ft}function We(bt,ct){for(var At=0;At<ct.length;At+=3)bt.minX=Math.min(bt.minX,ct[At]),bt.minY=Math.min(bt.minY,ct[At+1]),bt.maxX=Math.max(bt.maxX,ct[At]),bt.maxY=Math.max(bt.maxY,ct[At+1])}function lt(bt,ct,At,It){if(ct.geometry){var Ft=ct.geometry.coordinates,Rt=ct.geometry.type,Gt=Math.pow(At.tolerance/((1<<At.maxZoom)*At.extent),2),jt=[],er=ct.id;if(At.promoteId?er=ct.properties[At.promoteId]:At.generateId&&(er=It||0),"Point"===Rt)vt(Ft,jt);else if("MultiPoint"===Rt)for(var dr=0;dr<Ft.length;dr++)vt(Ft[dr],jt);else if("LineString"===Rt)pt(Ft,jt,Gt,!1);else if("MultiLineString"===Rt){if(At.lineMetrics){for(dr=0;dr<Ft.length;dr++)pt(Ft[dr],jt=[],Gt,!1),bt.push(ut(er,"LineString",jt,ct.properties));return}St(Ft,jt,Gt,!1)}else if("Polygon"===Rt)St(Ft,jt,Gt,!0);else{if("MultiPolygon"!==Rt){if("GeometryCollection"===Rt){for(dr=0;dr<ct.geometry.geometries.length;dr++)lt(bt,{id:er,geometry:ct.geometry.geometries[dr],properties:ct.properties},At,It);return}throw new Error("Input data is not a valid GeoJSON object.")}for(dr=0;dr<Ft.length;dr++){var hr=[];St(Ft[dr],hr,Gt,!0),jt.push(hr)}}bt.push(ut(er,Rt,jt,ct.properties))}}function vt(bt,ct){ct.push(Ct(bt[0])),ct.push(_t(bt[1])),ct.push(0)}function pt(bt,ct,At,It){for(var Ft,Rt,Gt=0,jt=0;jt<bt.length;jt++){var er=Ct(bt[jt][0]),dr=_t(bt[jt][1]);ct.push(er),ct.push(dr),ct.push(0),jt>0&&(Gt+=It?(Ft*dr-er*Rt)/2:Math.sqrt(Math.pow(er-Ft,2)+Math.pow(dr-Rt,2))),Ft=er,Rt=dr}var hr=ct.length-3;ct[2]=1,ze(ct,0,hr,At),ct[hr+2]=1,ct.size=Math.abs(Gt),ct.start=0,ct.end=ct.size}function St(bt,ct,At,It){for(var Ft=0;Ft<bt.length;Ft++){var Rt=[];pt(bt[Ft],Rt,At,It),ct.push(Rt)}}function Ct(bt){return bt/360+.5}function _t(bt){var ct=Math.sin(bt*Math.PI/180),At=.5-.25*Math.log((1+ct)/(1-ct))/Math.PI;return At<0?0:At>1?1:At}function nt(bt,ct,At,It,Ft,Rt,Gt,jt){if(It/=ct,Rt>=(At/=ct)&&Gt<It)return bt;if(Gt<At||Rt>=It)return null;for(var er=[],dr=0;dr<bt.length;dr++){var hr=bt[dr],wr=hr.geometry,$e=hr.type,Ze=0===Ft?hr.minX:hr.minY,zt=0===Ft?hr.maxX:hr.maxY;if(Ze>=At&&zt<It)er.push(hr);else if(!(zt<At||Ze>=It)){var kt=[];if("Point"===$e||"MultiPoint"===$e)ke(wr,kt,At,It,Ft);else if("LineString"===$e)Re(wr,kt,At,It,Ft,!1,jt.lineMetrics);else if("MultiLineString"===$e)He(wr,kt,At,It,Ft,!1);else if("Polygon"===$e)He(wr,kt,At,It,Ft,!0);else if("MultiPolygon"===$e)for(var Xt=0;Xt<wr.length;Xt++){var ur=[];He(wr[Xt],ur,At,It,Ft,!0),ur.length&&kt.push(ur)}if(kt.length){if(jt.lineMetrics&&"LineString"===$e){for(Xt=0;Xt<kt.length;Xt++)er.push(ut(hr.id,$e,kt[Xt],hr.tags));continue}("LineString"===$e||"MultiLineString"===$e)&&(1===kt.length?($e="LineString",kt=kt[0]):$e="MultiLineString"),("Point"===$e||"MultiPoint"===$e)&&($e=3===kt.length?"Point":"MultiPoint"),er.push(ut(hr.id,$e,kt,hr.tags))}}}return er.length?er:null}function ke(bt,ct,At,It,Ft){for(var Rt=0;Rt<bt.length;Rt+=3){var Gt=bt[Rt+Ft];Gt>=At&&Gt<=It&&(ct.push(bt[Rt]),ct.push(bt[Rt+1]),ct.push(bt[Rt+2]))}}function Re(bt,ct,At,It,Ft,Rt,Gt){for(var hr,wr,jt=Be(bt),er=0===Ft?Ue:De,dr=bt.start,$e=0;$e<bt.length-3;$e+=3){var Ze=bt[$e],zt=bt[$e+1],kt=bt[$e+2],Xt=bt[$e+3],ur=bt[$e+4],vr=0===Ft?Ze:zt,or=0===Ft?Xt:ur,Ht=!1;Gt&&(hr=Math.sqrt(Math.pow(Ze-Xt,2)+Math.pow(zt-ur,2))),vr<At?or>At&&(wr=er(jt,Ze,zt,Xt,ur,At),Gt&&(jt.start=dr+hr*wr)):vr>It?or<It&&(wr=er(jt,Ze,zt,Xt,ur,It),Gt&&(jt.start=dr+hr*wr)):Ye(jt,Ze,zt,kt),or<At&&vr>=At&&(wr=er(jt,Ze,zt,Xt,ur,At),Ht=!0),or>It&&vr<=It&&(wr=er(jt,Ze,zt,Xt,ur,It),Ht=!0),!Rt&&Ht&&(Gt&&(jt.end=dr+hr*wr),ct.push(jt),jt=Be(bt)),Gt&&(dr+=hr)}var pr=bt.length-3;Ze=bt[pr],zt=bt[pr+1],kt=bt[pr+2],(vr=0===Ft?Ze:zt)>=At&&vr<=It&&Ye(jt,Ze,zt,kt),pr=jt.length-3,Rt&&pr>=3&&(jt[pr]!==jt[0]||jt[pr+1]!==jt[1])&&Ye(jt,jt[0],jt[1],jt[2]),jt.length&&ct.push(jt)}function Be(bt){var ct=[];return ct.size=bt.size,ct.start=bt.start,ct.end=bt.end,ct}function He(bt,ct,At,It,Ft,Rt){for(var Gt=0;Gt<bt.length;Gt++)Re(bt[Gt],ct,At,It,Ft,Rt,!1)}function Ye(bt,ct,At,It){bt.push(ct),bt.push(At),bt.push(It)}function Ue(bt,ct,At,It,Ft,Rt){var Gt=(Rt-ct)/(It-ct);return bt.push(Rt),bt.push(At+(Ft-At)*Gt),bt.push(1),Gt}function De(bt,ct,At,It,Ft,Rt){var Gt=(Rt-At)/(Ft-At);return bt.push(ct+(It-ct)*Gt),bt.push(Rt),bt.push(1),Gt}function Te(bt,ct){for(var At=[],It=0;It<bt.length;It++){var Gt,Ft=bt[It],Rt=Ft.type;if("Point"===Rt||"MultiPoint"===Rt||"LineString"===Rt)Gt=_e(Ft.geometry,ct);else if("MultiLineString"===Rt||"Polygon"===Rt){Gt=[];for(var jt=0;jt<Ft.geometry.length;jt++)Gt.push(_e(Ft.geometry[jt],ct))}else if("MultiPolygon"===Rt)for(Gt=[],jt=0;jt<Ft.geometry.length;jt++){for(var er=[],dr=0;dr<Ft.geometry[jt].length;dr++)er.push(_e(Ft.geometry[jt][dr],ct));Gt.push(er)}At.push(ut(Ft.id,Rt,Gt,Ft.tags))}return At}function _e(bt,ct){var At=[];At.size=bt.size,void 0!==bt.start&&(At.start=bt.start,At.end=bt.end);for(var It=0;It<bt.length;It+=3)At.push(bt[It]+ct,bt[It+1],bt[It+2]);return At}function et(bt,ct){if(bt.transformed)return bt;var Rt,Gt,jt,At=1<<bt.z,It=bt.x,Ft=bt.y;for(Rt=0;Rt<bt.features.length;Rt++){var er=bt.features[Rt],dr=er.geometry,hr=er.type;if(er.geometry=[],1===hr)for(Gt=0;Gt<dr.length;Gt+=2)er.geometry.push(ft(dr[Gt],dr[Gt+1],ct,At,It,Ft));else for(Gt=0;Gt<dr.length;Gt++){var wr=[];for(jt=0;jt<dr[Gt].length;jt+=2)wr.push(ft(dr[Gt][jt],dr[Gt][jt+1],ct,At,It,Ft));er.geometry.push(wr)}}return bt.transformed=!0,bt}function ft(bt,ct,At,It,Ft,Rt){return[Math.round(At*(bt*It-Ft)),Math.round(At*(ct*It-Rt))]}function gt(bt,ct,At,It,Ft){for(var Rt=ct===Ft.maxZoom?0:Ft.tolerance/((1<<ct)*Ft.extent),Gt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:At,y:It,z:ct,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},jt=0;jt<bt.length;jt++){Gt.numFeatures++,Kt(Gt,bt[jt],Rt,Ft);var er=bt[jt].minX,dr=bt[jt].minY,hr=bt[jt].maxX,wr=bt[jt].maxY;er<Gt.minX&&(Gt.minX=er),dr<Gt.minY&&(Gt.minY=dr),hr>Gt.maxX&&(Gt.maxX=hr),wr>Gt.maxY&&(Gt.maxY=wr)}return Gt}function Kt(bt,ct,At,It){var Ft=ct.geometry,Rt=ct.type,Gt=[];if("Point"===Rt||"MultiPoint"===Rt)for(var jt=0;jt<Ft.length;jt+=3)Gt.push(Ft[jt]),Gt.push(Ft[jt+1]),bt.numPoints++,bt.numSimplified++;else if("LineString"===Rt)ir(Gt,Ft,bt,At,!1,!1);else if("MultiLineString"===Rt||"Polygon"===Rt)for(jt=0;jt<Ft.length;jt++)ir(Gt,Ft[jt],bt,At,"Polygon"===Rt,0===jt);else if("MultiPolygon"===Rt)for(var er=0;er<Ft.length;er++){var dr=Ft[er];for(jt=0;jt<dr.length;jt++)ir(Gt,dr[jt],bt,At,!0,0===jt)}if(Gt.length){var hr=ct.tags||null;if("LineString"===Rt&&It.lineMetrics){for(var wr in hr={},ct.tags)hr[wr]=ct.tags[wr];hr.mapbox_clip_start=Ft.start/Ft.size,hr.mapbox_clip_end=Ft.end/Ft.size}var $e={geometry:Gt,type:"Polygon"===Rt||"MultiPolygon"===Rt?3:"LineString"===Rt||"MultiLineString"===Rt?2:1,tags:hr};null!==ct.id&&($e.id=ct.id),bt.features.push($e)}}function ir(bt,ct,At,It,Ft,Rt){var Gt=It*It;if(It>0&&ct.size<(Ft?Gt:It))At.numPoints+=ct.length/3;else{for(var jt=[],er=0;er<ct.length;er+=3)(0===It||ct[er+2]>Gt)&&(At.numSimplified++,jt.push(ct[er]),jt.push(ct[er+1])),At.numPoints++;Ft&&function Lt(bt,ct){for(var At=0,It=0,Ft=bt.length,Rt=Ft-2;It<Ft;Rt=It,It+=2)At+=(bt[It]-bt[Rt])*(bt[It+1]+bt[Rt+1]);if(At>0===ct)for(It=0,Ft=bt.length;It<Ft/2;It+=2){var Gt=bt[It],jt=bt[It+1];bt[It]=bt[Ft-2-It],bt[It+1]=bt[Ft-1-It],bt[Ft-2-It]=Gt,bt[Ft-1-It]=jt}}(jt,Rt),bt.push(jt)}}function Qt(bt,ct){var At=(ct=this.options=function wt(bt,ct){for(var At in ct)bt[At]=ct[At];return bt}(Object.create(this.options),ct)).debug;if(At&&console.time("preprocess data"),ct.maxZoom<0||ct.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ct.promoteId&&ct.generateId)throw new Error("promoteId and generateId cannot be used together.");var It=function je(bt,ct){var At=[];if("FeatureCollection"===bt.type)for(var It=0;It<bt.features.length;It++)lt(At,bt.features[It],ct,It);else lt(At,"Feature"===bt.type?bt:{geometry:bt},ct);return At}(bt,ct);this.tiles={},this.tileCoords=[],At&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ct.indexMaxZoom,ct.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(It=function ge(bt,ct){var At=ct.buffer/ct.extent,It=bt,Ft=nt(bt,1,-1-At,At,0,-1,2,ct),Rt=nt(bt,1,1-At,2+At,0,-1,2,ct);return(Ft||Rt)&&(It=nt(bt,1,-At,1+At,0,-1,2,ct)||[],Ft&&(It=Te(Ft,1).concat(It)),Rt&&(It=It.concat(Te(Rt,-1)))),It}(It,ct)).length&&this.splitTile(It,0,0,0),At&&(It.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Cr(bt,ct,At){return 32*((1<<bt)*At+ct)+bt}function $t(bt,ct){var At=bt.tileID.canonical;if(!this._geoJSONIndex)return ct(null,null);var It=this._geoJSONIndex.getTile(At.z,At.x,At.y);if(!It)return ct(null,null);var Ft=new T(It.features),Rt=i(Ft);(0!==Rt.byteOffset||Rt.byteLength!==Rt.buffer.byteLength)&&(Rt=new Uint8Array(Rt)),ct(null,{vectorTile:Ft,rawData:Rt.buffer})}se.prototype.load=function(ct){var At=this.options,It=At.log,Ft=At.minZoom,Rt=At.maxZoom,Gt=At.nodeSize;It&&console.time("total time");var jt="prepare "+ct.length+" points";It&&console.time(jt),this.points=ct;for(var er=[],dr=0;dr<ct.length;dr++)ct[dr].geometry&&er.push(we(ct[dr],dr));this.trees[Rt+1]=new $(er,Je,Qe,Gt,Float32Array),It&&console.timeEnd(jt);for(var hr=Rt;hr>=Ft;hr--){var wr=+Date.now();er=this._cluster(er,hr),this.trees[hr]=new $(er,Je,Qe,Gt,Float32Array),It&&console.log("z%d: %d clusters in %dms",hr,er.length,+Date.now()-wr)}return It&&console.timeEnd("total time"),this},se.prototype.getClusters=function(ct,At){var It=((ct[0]+180)%360+360)%360-180,Ft=Math.max(-90,Math.min(90,ct[1])),Rt=180===ct[2]?180:((ct[2]+180)%360+360)%360-180,Gt=Math.max(-90,Math.min(90,ct[3]));if(ct[2]-ct[0]>=360)It=-180,Rt=180;else if(It>Rt){var jt=this.getClusters([It,Ft,180,Gt],At),er=this.getClusters([-180,Ft,Rt,Gt],At);return jt.concat(er)}for(var dr=this.trees[this._limitZoom(At)],wr=[],$e=0,Ze=dr.range(Ne(It),Ve(Gt),Ne(Rt),Ve(Ft));$e<Ze.length;$e+=1){var kt=dr.points[Ze[$e]];wr.push(kt.numPoints?Ee(kt):this.points[kt.index])}return wr},se.prototype.getChildren=function(ct){var At=this._getOriginId(ct),It=this._getOriginZoom(ct),Ft="No cluster with the specified id.",Rt=this.trees[It];if(!Rt)throw new Error(Ft);var Gt=Rt.points[At];if(!Gt)throw new Error(Ft);for(var jt=this.options.radius/(this.options.extent*Math.pow(2,It-1)),dr=[],hr=0,wr=Rt.within(Gt.x,Gt.y,jt);hr<wr.length;hr+=1){var Ze=Rt.points[wr[hr]];Ze.parentId===ct&&dr.push(Ze.numPoints?Ee(Ze):this.points[Ze.index])}if(0===dr.length)throw new Error(Ft);return dr},se.prototype.getLeaves=function(ct,At,It){var Ft=[];return this._appendLeaves(Ft,ct,At=At||10,It=It||0,0),Ft},se.prototype.getTile=function(ct,At,It){var Ft=this.trees[this._limitZoom(ct)],Rt=Math.pow(2,ct),Gt=this.options,dr=Gt.radius/Gt.extent,hr=(It-dr)/Rt,wr=(It+1+dr)/Rt,$e={features:[]};return this._addTileFeatures(Ft.range((At-dr)/Rt,hr,(At+1+dr)/Rt,wr),Ft.points,At,It,Rt,$e),0===At&&this._addTileFeatures(Ft.range(1-dr/Rt,hr,1,wr),Ft.points,Rt,It,Rt,$e),At===Rt-1&&this._addTileFeatures(Ft.range(0,hr,dr/Rt,wr),Ft.points,-1,It,Rt,$e),$e.features.length?$e:null},se.prototype.getClusterExpansionZoom=function(ct){for(var At=this._getOriginZoom(ct)-1;At<=this.options.maxZoom;){var It=this.getChildren(ct);if(At++,1!==It.length)break;ct=It[0].properties.cluster_id}return At},se.prototype._appendLeaves=function(ct,At,It,Ft,Rt){for(var jt=0,er=this.getChildren(At);jt<er.length;jt+=1){var dr=er[jt],hr=dr.properties;if(hr&&hr.cluster?Rt+hr.point_count<=Ft?Rt+=hr.point_count:Rt=this._appendLeaves(ct,hr.cluster_id,It,Ft,Rt):Rt<Ft?Rt++:ct.push(dr),ct.length===It)break}return Rt},se.prototype._addTileFeatures=function(ct,At,It,Ft,Rt,Gt){for(var jt=0,er=ct;jt<er.length;jt+=1){var hr=At[er[jt]],wr=hr.numPoints,$e={type:1,geometry:[[Math.round(this.options.extent*(hr.x*Rt-It)),Math.round(this.options.extent*(hr.y*Rt-Ft))]],tags:wr?Me(hr):this.points[hr.index].properties},Ze=void 0;wr?Ze=hr.id:this.options.generateId?Ze=hr.index:this.points[hr.index].id&&(Ze=this.points[hr.index].id),void 0!==Ze&&($e.id=Ze),Gt.features.push($e)}},se.prototype._limitZoom=function(ct){return Math.max(this.options.minZoom,Math.min(ct,this.options.maxZoom+1))},se.prototype._cluster=function(ct,At){for(var It=[],Ft=this.options,jt=Ft.reduce,er=Ft.radius/(Ft.extent*Math.pow(2,At)),dr=0;dr<ct.length;dr++){var hr=ct[dr];if(!(hr.zoom<=At)){hr.zoom=At;for(var wr=this.trees[At+1],$e=wr.within(hr.x,hr.y,er),Ze=hr.numPoints||1,zt=hr.x*Ze,kt=hr.y*Ze,Xt=jt&&Ze>1?this._map(hr,!0):null,ur=(dr<<5)+(At+1)+this.points.length,vr=0,or=$e;vr<or.length;vr+=1){var pr=wr.points[or[vr]];if(!(pr.zoom<=At)){pr.zoom=At;var xr=pr.numPoints||1;zt+=pr.x*xr,kt+=pr.y*xr,Ze+=xr,pr.parentId=ur,jt&&(Xt||(Xt=this._map(hr,!0)),jt(Xt,this._map(pr)))}}1===Ze?It.push(hr):(hr.parentId=ur,It.push(de(zt/Ze,kt/Ze,ur,Ze,Xt)))}}return It},se.prototype._getOriginId=function(ct){return ct-this.points.length>>5},se.prototype._getOriginZoom=function(ct){return(ct-this.points.length)%32},se.prototype._map=function(ct,At){if(ct.numPoints)return At?Ie({},ct.properties):ct.properties;var It=this.points[ct.index].properties,Ft=this.options.map(It);return At&&Ft===It?Ie({},Ft):Ft},Qt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Qt.prototype.splitTile=function(bt,ct,At,It,Ft,Rt,Gt){for(var jt=[bt,ct,At,It],er=this.options,dr=er.debug;jt.length;){It=jt.pop(),At=jt.pop(),ct=jt.pop(),bt=jt.pop();var hr=1<<ct,wr=Cr(ct,At,It),$e=this.tiles[wr];if(!$e&&(dr>1&&console.time("creation"),$e=this.tiles[wr]=gt(bt,ct,At,It,er),this.tileCoords.push({z:ct,x:At,y:It}),dr)){dr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ct,At,It,$e.numFeatures,$e.numPoints,$e.numSimplified),console.timeEnd("creation"));var Ze="z"+ct;this.stats[Ze]=(this.stats[Ze]||0)+1,this.total++}if($e.source=bt,Ft){if(ct===er.maxZoom||ct===Ft)continue;var zt=1<<Ft-ct;if(At!==Math.floor(Rt/zt)||It!==Math.floor(Gt/zt))continue}else if(ct===er.indexMaxZoom||$e.numPoints<=er.indexMaxPoints)continue;if($e.source=null,0!==bt.length){dr>1&&console.time("clipping");var or,Ht,pr,xr,Mr,kr,kt=.5*er.buffer/er.extent,Xt=.5-kt,ur=.5+kt,vr=1+kt;or=Ht=pr=xr=null,Mr=nt(bt,hr,At-kt,At+ur,0,$e.minX,$e.maxX,er),kr=nt(bt,hr,At+Xt,At+vr,0,$e.minX,$e.maxX,er),bt=null,Mr&&(or=nt(Mr,hr,It-kt,It+ur,1,$e.minY,$e.maxY,er),Ht=nt(Mr,hr,It+Xt,It+vr,1,$e.minY,$e.maxY,er),Mr=null),kr&&(pr=nt(kr,hr,It-kt,It+ur,1,$e.minY,$e.maxY,er),xr=nt(kr,hr,It+Xt,It+vr,1,$e.minY,$e.maxY,er),kr=null),dr>1&&console.timeEnd("clipping"),jt.push(or||[],ct+1,2*At,2*It),jt.push(Ht||[],ct+1,2*At,2*It+1),jt.push(pr||[],ct+1,2*At+1,2*It),jt.push(xr||[],ct+1,2*At+1,2*It+1)}}},Qt.prototype.getTile=function(bt,ct,At){var It=this.options,Ft=It.extent,Rt=It.debug;if(bt<0||bt>24)return null;var Gt=1<<bt,jt=Cr(bt,ct=(ct%Gt+Gt)%Gt,At);if(this.tiles[jt])return et(this.tiles[jt],Ft);Rt>1&&console.log("drilling down to z%d-%d-%d",bt,ct,At);for(var wr,er=bt,dr=ct,hr=At;!wr&&er>0;)er--,dr=Math.floor(dr/2),hr=Math.floor(hr/2),wr=this.tiles[Cr(er,dr,hr)];return wr&&wr.source?(Rt>1&&console.log("found parent tile z%d-%d-%d",er,dr,hr),Rt>1&&console.time("drilling down"),this.splitTile(wr.source,er,dr,hr,bt,ct,At),Rt>1&&console.timeEnd("drilling down"),this.tiles[jt]?et(this.tiles[jt],Ft):null):null};var rr=function(bt){function ct(At,It,Ft,Rt){bt.call(this,At,It,Ft,$t),Rt&&(this.loadGeoJSON=Rt)}return bt&&(ct.__proto__=bt),(ct.prototype=Object.create(bt&&bt.prototype)).constructor=ct,ct.prototype.loadData=function(It,Ft){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ft,this._pendingLoadDataParams=It,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ct.prototype._loadData=function(){var It=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Ft=this._pendingCallback,Rt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Gt=!!(Rt&&Rt.request&&Rt.request.collectResourceTiming)&&new l.RequestPerformance(Rt.request);this.loadGeoJSON(Rt,function(jt,er){if(jt||!er)return Ft(jt);if("object"!=typeof er)return Ft(new Error("Input data given to '"+Rt.source+"' is not a valid GeoJSON object."));p(er,!0);try{It._geoJSONIndex=Rt.cluster?new se(function Lr(bt){var ct=bt.superclusterOptions,At=bt.clusterProperties;if(!At||!ct)return ct;for(var It={},Ft={},Rt={accumulated:null,zoom:0},Gt={properties:null},jt=Object.keys(At),er=0,dr=jt;er<dr.length;er+=1){var hr=dr[er],wr=At[hr],$e=wr[0],zt=l.createExpression(wr[1]),kt=l.createExpression("string"==typeof $e?[$e,["accumulated"],["get",hr]]:$e);It[hr]=zt.value,Ft[hr]=kt.value}return ct.map=function(Xt){Gt.properties=Xt;for(var ur={},vr=0,or=jt;vr<or.length;vr+=1){var Ht=or[vr];ur[Ht]=It[Ht].evaluate(Rt,Gt)}return ur},ct.reduce=function(Xt,ur){Gt.properties=ur;for(var vr=0,or=jt;vr<or.length;vr+=1){var Ht=or[vr];Rt.accumulated=Xt[Ht],Xt[Ht]=Ft[Ht].evaluate(Rt,Gt)}},ct}(Rt)).load(er.features):function Ut(bt,ct){return new Qt(bt,ct)}(er,Rt.geojsonVtOptions)}catch(wr){return Ft(wr)}It.loaded={};var dr={};if(Gt){var hr=Gt.finish();hr&&(dr.resourceTiming={},dr.resourceTiming[Rt.source]=JSON.parse(JSON.stringify(hr)))}Ft(null,dr)})}},ct.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},ct.prototype.reloadTile=function(It,Ft){var Rt=this.loaded;return Rt&&Rt[It.uid]?bt.prototype.reloadTile.call(this,It,Ft):this.loadTile(It,Ft)},ct.prototype.loadGeoJSON=function(It,Ft){if(It.request)l.getJSON(It.request,Ft);else{if("string"!=typeof It.data)return Ft(new Error("Input data given to '"+It.source+"' is not a valid GeoJSON object."));try{return Ft(null,JSON.parse(It.data))}catch{return Ft(new Error("Input data given to '"+It.source+"' is not a valid GeoJSON object."))}}},ct.prototype.removeSource=function(It,Ft){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ft()},ct.prototype.getClusterExpansionZoom=function(It,Ft){try{Ft(null,this._geoJSONIndex.getClusterExpansionZoom(It.clusterId))}catch(Rt){Ft(Rt)}},ct.prototype.getClusterChildren=function(It,Ft){try{Ft(null,this._geoJSONIndex.getChildren(It.clusterId))}catch(Rt){Ft(Rt)}},ct.prototype.getClusterLeaves=function(It,Ft){try{Ft(null,this._geoJSONIndex.getLeaves(It.clusterId,It.limit,It.offset))}catch(Rt){Ft(Rt)}},ct}(h);var mr=function(ct){var At=this;this.self=ct,this.actor=new l.Actor(ct,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:h,geojson:rr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(It,Ft){if(At.workerSourceTypes[It])throw new Error('Worker source with name "'+It+'" already registered.');At.workerSourceTypes[It]=Ft},this.self.registerRTLTextPlugin=function(It){if(l.plugin.isParsed())throw new Error("RTL text plugin already registered.");l.plugin.applyArabicShaping=It.applyArabicShaping,l.plugin.processBidirectionalText=It.processBidirectionalText,l.plugin.processStyledBidirectionalText=It.processStyledBidirectionalText}};return mr.prototype.setReferrer=function(ct,At){this.referrer=At},mr.prototype.setImages=function(ct,At,It){for(var Ft in this.availableImages[ct]=At,this.workerSources[ct]){var Rt=this.workerSources[ct][Ft];for(var Gt in Rt)Rt[Gt].availableImages=At}It()},mr.prototype.setLayers=function(ct,At,It){this.getLayerIndex(ct).replace(At),It()},mr.prototype.updateLayers=function(ct,At,It){this.getLayerIndex(ct).update(At.layers,At.removedIds),It()},mr.prototype.loadTile=function(ct,At,It){this.getWorkerSource(ct,At.type,At.source).loadTile(At,It)},mr.prototype.loadDEMTile=function(ct,At,It){this.getDEMWorkerSource(ct,At.source).loadTile(At,It)},mr.prototype.reloadTile=function(ct,At,It){this.getWorkerSource(ct,At.type,At.source).reloadTile(At,It)},mr.prototype.abortTile=function(ct,At,It){this.getWorkerSource(ct,At.type,At.source).abortTile(At,It)},mr.prototype.removeTile=function(ct,At,It){this.getWorkerSource(ct,At.type,At.source).removeTile(At,It)},mr.prototype.removeDEMTile=function(ct,At){this.getDEMWorkerSource(ct,At.source).removeTile(At)},mr.prototype.removeSource=function(ct,At,It){if(this.workerSources[ct]&&this.workerSources[ct][At.type]&&this.workerSources[ct][At.type][At.source]){var Ft=this.workerSources[ct][At.type][At.source];delete this.workerSources[ct][At.type][At.source],void 0!==Ft.removeSource?Ft.removeSource(At,It):It()}},mr.prototype.loadWorkerSource=function(ct,At,It){try{this.self.importScripts(At.url),It()}catch(Ft){It(Ft.toString())}},mr.prototype.syncRTLPluginState=function(ct,At,It){try{l.plugin.setState(At);var Ft=l.plugin.getPluginURL();if(l.plugin.isLoaded()&&!l.plugin.isParsed()&&null!=Ft){this.self.importScripts(Ft);var Rt=l.plugin.isParsed();It(Rt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ft),Rt)}}catch(jt){It(jt.toString())}},mr.prototype.getAvailableImages=function(ct){var At=this.availableImages[ct];return At||(At=[]),At},mr.prototype.getLayerIndex=function(ct){var At=this.layerIndexes[ct];return At||(At=this.layerIndexes[ct]=new w),At},mr.prototype.getWorkerSource=function(ct,At,It){var Ft=this;return this.workerSources[ct]||(this.workerSources[ct]={}),this.workerSources[ct][At]||(this.workerSources[ct][At]={}),this.workerSources[ct][At][It]||(this.workerSources[ct][At][It]=new this.workerSourceTypes[At]({send:function(Gt,jt,er){Ft.actor.send(Gt,jt,er,ct)}},this.getLayerIndex(ct),this.getAvailableImages(ct))),this.workerSources[ct][At][It]},mr.prototype.getDEMWorkerSource=function(ct,At){return this.demWorkerSources[ct]||(this.demWorkerSources[ct]={}),this.demWorkerSources[ct][At]||(this.demWorkerSources[ct][At]=new b),this.demWorkerSources[ct][At]},mr.prototype.enforceCacheSizeLimit=function(ct,At){l.enforceCacheSizeLimit(At)},typeof WorkerGlobalScope<"u"&&typeof l.window<"u"&&l.window instanceof WorkerGlobalScope&&(l.window.worker=new mr(l.window)),mr}),k(0,function(l){var R=l.createCommonjsModule(function(ve){function X(Jr){return!xe(Jr)}function xe(Jr){return function ne(){return typeof window<"u"&&typeof document<"u"}()?function be(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}()?function Oe(){return Function.prototype&&Function.prototype.bind}()?function qe(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}()?function dt(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}()?function Et(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var wn,Un,Jr=new Blob([""],{type:"text/javascript"}),ln=URL.createObjectURL(Jr);try{Un=new Worker(ln),wn=!0}catch{wn=!1}return Un&&Un.terminate(),URL.revokeObjectURL(ln),wn}()?function Zt(){return"Uint8ClampedArray"in window}()?function ar(){return ArrayBuffer.isView}()?function yr(){var Jr=document.createElement("canvas");Jr.width=Jr.height=1;var ln=Jr.getContext("2d");if(!ln)return!1;var wn=ln.getImageData(0,0,1,1);return wn&&wn.width===Jr.width}()?function Vr(Jr){return void 0===Er[Jr]&&(Er[Jr]=function tn(Jr){var ln=function nn(Jr){var ln=document.createElement("canvas"),wn=Object.create(X.webGLContextAttributes);return wn.failIfMajorPerformanceCaveat=Jr,ln.probablySupportsContext?ln.probablySupportsContext("webgl",wn)||ln.probablySupportsContext("experimental-webgl",wn):ln.supportsContext?ln.supportsContext("webgl",wn)||ln.supportsContext("experimental-webgl",wn):ln.getContext("webgl",wn)||ln.getContext("experimental-webgl",wn)}(Jr);if(!ln)return!1;var wn=ln.createShader(ln.VERTEX_SHADER);return!(!wn||ln.isContextLost())&&(ln.shaderSource(wn,"void main() {}"),ln.compileShader(wn),!0===ln.getShaderParameter(wn,ln.COMPILE_STATUS))}(Jr)),Er[Jr]}(Jr&&Jr.failIfMajorPerformanceCaveat)?void 0:"insufficient WebGL support":"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser"}ve.exports?ve.exports=X:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=X,window.mapboxgl.notSupportedReason=xe);var Er={};X.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),I={create:function(ve,X,xe){var ne=l.window.document.createElement(ve);return void 0!==X&&(ne.className=X),xe&&xe.appendChild(ne),ne},createNS:function(ve,X){return l.window.document.createElementNS(ve,X)}},v=l.window.document.documentElement.style;function w(ve){if(!v)return ve[0];for(var X=0;X<ve.length;X++)if(ve[X]in v)return ve[X];return ve[0]}var n,r=w(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);I.disableDrag=function(){v&&r&&(n=v[r],v[r]="none")},I.enableDrag=function(){v&&r&&(v[r]=n)};var c=w(["transform","WebkitTransform"]);I.setTransform=function(ve,X){ve.style[c]=X};var o=!1;try{var f=Object.defineProperty({},"passive",{get:function(){o=!0}});l.window.addEventListener("test",f,f),l.window.removeEventListener("test",f,f)}catch{o=!1}I.addEventListener=function(ve,X,xe,ne){void 0===ne&&(ne={}),ve.addEventListener(X,xe,"passive"in ne&&o?ne:ne.capture)},I.removeEventListener=function(ve,X,xe,ne){void 0===ne&&(ne={}),ve.removeEventListener(X,xe,"passive"in ne&&o?ne:ne.capture)};var h=function(ve){ve.preventDefault(),ve.stopPropagation(),l.window.removeEventListener("click",h,!0)};function b(ve){var X=ve.userImage;return!!(X&&X.render&&X.render())&&(ve.data.replace(new Uint8Array(X.data.buffer)),!0)}I.suppressClick=function(){l.window.addEventListener("click",h,!0),l.window.setTimeout(function(){l.window.removeEventListener("click",h,!0)},0)},I.mousePos=function(ve,X){var xe=ve.getBoundingClientRect();return new l.Point(X.clientX-xe.left-ve.clientLeft,X.clientY-xe.top-ve.clientTop)},I.touchPos=function(ve,X){for(var xe=ve.getBoundingClientRect(),ne=[],be=0;be<X.length;be++)ne.push(new l.Point(X[be].clientX-xe.left-ve.clientLeft,X[be].clientY-xe.top-ve.clientTop));return ne},I.mouseButton=function(ve){return typeof l.window.InstallTrigger<"u"&&2===ve.button&&ve.ctrlKey&&l.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ve.button},I.remove=function(ve){ve.parentNode&&ve.parentNode.removeChild(ve)};var A=function(ve){function X(){ve.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new l.RGBAImage({width:1,height:1}),this.dirty=!0}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.isLoaded=function(){return this.loaded},X.prototype.setLoaded=function(ne){if(this.loaded!==ne&&(this.loaded=ne,ne)){for(var be=0,Oe=this.requestors;be<Oe.length;be+=1){var qe=Oe[be];this._notify(qe.ids,qe.callback)}this.requestors=[]}},X.prototype.getImage=function(ne){return this.images[ne]},X.prototype.addImage=function(ne,be){this._validate(ne,be)&&(this.images[ne]=be)},X.prototype._validate=function(ne,be){var Oe=!0;return this._validateStretch(be.stretchX,be.data&&be.data.width)||(this.fire(new l.ErrorEvent(new Error('Image "'+ne+'" has invalid "stretchX" value'))),Oe=!1),this._validateStretch(be.stretchY,be.data&&be.data.height)||(this.fire(new l.ErrorEvent(new Error('Image "'+ne+'" has invalid "stretchY" value'))),Oe=!1),this._validateContent(be.content,be)||(this.fire(new l.ErrorEvent(new Error('Image "'+ne+'" has invalid "content" value'))),Oe=!1),Oe},X.prototype._validateStretch=function(ne,be){if(!ne)return!0;for(var Oe=0,qe=0,dt=ne;qe<dt.length;qe+=1){var Et=dt[qe];if(Et[0]<Oe||Et[1]<Et[0]||be<Et[1])return!1;Oe=Et[1]}return!0},X.prototype._validateContent=function(ne,be){return!ne||!(4!==ne.length||ne[0]<0||be.data.width<ne[0]||ne[1]<0||be.data.height<ne[1]||ne[2]<0||be.data.width<ne[2]||ne[3]<0||be.data.height<ne[3]||ne[2]<ne[0]||ne[3]<ne[1])},X.prototype.updateImage=function(ne,be){be.version=this.images[ne].version+1,this.images[ne]=be,this.updatedImages[ne]=!0},X.prototype.removeImage=function(ne){var be=this.images[ne];delete this.images[ne],delete this.patterns[ne],be.userImage&&be.userImage.onRemove&&be.userImage.onRemove()},X.prototype.listImages=function(){return Object.keys(this.images)},X.prototype.getImages=function(ne,be){var Oe=!0;if(!this.isLoaded())for(var qe=0,dt=ne;qe<dt.length;qe+=1)this.images[dt[qe]]||(Oe=!1);this.isLoaded()||Oe?this._notify(ne,be):this.requestors.push({ids:ne,callback:be})},X.prototype._notify=function(ne,be){for(var Oe={},qe=0,dt=ne;qe<dt.length;qe+=1){var Et=dt[qe];this.images[Et]||this.fire(new l.Event("styleimagemissing",{id:Et}));var Zt=this.images[Et];Zt?Oe[Et]={data:Zt.data.clone(),pixelRatio:Zt.pixelRatio,sdf:Zt.sdf,version:Zt.version,stretchX:Zt.stretchX,stretchY:Zt.stretchY,content:Zt.content,hasRenderCallback:!(!Zt.userImage||!Zt.userImage.render)}:l.warnOnce('Image "'+Et+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}be(null,Oe)},X.prototype.getPixelSize=function(){var ne=this.atlasImage;return{width:ne.width,height:ne.height}},X.prototype.getPattern=function(ne){var be=this.patterns[ne],Oe=this.getImage(ne);if(!Oe)return null;if(be&&be.position.version===Oe.version)return be.position;if(be)be.position.version=Oe.version;else{var Et={w:Oe.data.width+2,h:Oe.data.height+2,x:0,y:0},Zt=new l.ImagePosition(Et,Oe);this.patterns[ne]={bin:Et,position:Zt}}return this._updatePatternAtlas(),this.patterns[ne].position},X.prototype.bind=function(ne){var be=ne.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new l.Texture(ne,this.atlasImage,be.RGBA),this.atlasTexture.bind(be.LINEAR,be.CLAMP_TO_EDGE)},X.prototype._updatePatternAtlas=function(){var ne=[];for(var be in this.patterns)ne.push(this.patterns[be].bin);var Oe=l.potpack(ne),qe=Oe.w,dt=Oe.h,Et=this.atlasImage;for(var Zt in Et.resize({width:qe||1,height:dt||1}),this.patterns){var yr=this.patterns[Zt].bin,Er=yr.x+1,Vr=yr.y+1,nn=this.images[Zt].data,tn=nn.width,Jr=nn.height;l.RGBAImage.copy(nn,Et,{x:0,y:0},{x:Er,y:Vr},{width:tn,height:Jr}),l.RGBAImage.copy(nn,Et,{x:0,y:Jr-1},{x:Er,y:Vr-1},{width:tn,height:1}),l.RGBAImage.copy(nn,Et,{x:0,y:0},{x:Er,y:Vr+Jr},{width:tn,height:1}),l.RGBAImage.copy(nn,Et,{x:tn-1,y:0},{x:Er-1,y:Vr},{width:1,height:Jr}),l.RGBAImage.copy(nn,Et,{x:0,y:0},{x:Er+tn,y:Vr},{width:1,height:Jr})}this.dirty=!0},X.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},X.prototype.dispatchRenderCallbacks=function(ne){for(var be=0,Oe=ne;be<Oe.length;be+=1){var qe=Oe[be];if(!this.callbackDispatchedThisFrame[qe]){this.callbackDispatchedThisFrame[qe]=!0;var dt=this.images[qe];b(dt)&&this.updateImage(qe,dt)}}},X}(l.Evented);var u=T,g=T,C=1e20;function T(ve,X,xe,ne,be,Oe){this.fontSize=ve||24,this.buffer=void 0===X?3:X,this.cutoff=ne||.25,this.fontFamily=be||"sans-serif",this.fontWeight=Oe||"normal",this.radius=xe||8;var qe=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=qe,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(qe*qe),this.gridInner=new Float64Array(qe*qe),this.f=new Float64Array(qe),this.d=new Float64Array(qe),this.z=new Float64Array(qe+1),this.v=new Int16Array(qe),this.middle=Math.round(qe/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function L(ve,X,xe,ne,be,Oe,qe){for(var dt=0;dt<X;dt++){for(var Et=0;Et<xe;Et++)ne[Et]=ve[Et*X+dt];for(x(ne,be,Oe,qe,xe),Et=0;Et<xe;Et++)ve[Et*X+dt]=be[Et]}for(Et=0;Et<xe;Et++){for(dt=0;dt<X;dt++)ne[dt]=ve[Et*X+dt];for(x(ne,be,Oe,qe,X),dt=0;dt<X;dt++)ve[Et*X+dt]=Math.sqrt(be[dt])}}function x(ve,X,xe,ne,be){xe[0]=0,ne[0]=-C,ne[1]=+C;for(var Oe=1,qe=0;Oe<be;Oe++){for(var dt=(ve[Oe]+Oe*Oe-(ve[xe[qe]]+xe[qe]*xe[qe]))/(2*Oe-2*xe[qe]);dt<=ne[qe];)qe--,dt=(ve[Oe]+Oe*Oe-(ve[xe[qe]]+xe[qe]*xe[qe]))/(2*Oe-2*xe[qe]);xe[++qe]=Oe,ne[qe]=dt,ne[qe+1]=+C}for(Oe=0,qe=0;Oe<be;Oe++){for(;ne[qe+1]<Oe;)qe++;X[Oe]=(Oe-xe[qe])*(Oe-xe[qe])+ve[xe[qe]]}}T.prototype.draw=function(ve){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ve,this.buffer,this.middle);for(var X=this.ctx.getImageData(0,0,this.size,this.size),xe=new Uint8ClampedArray(this.size*this.size),ne=0;ne<this.size*this.size;ne++){var be=X.data[4*ne+3]/255;this.gridOuter[ne]=1===be?0:0===be?C:Math.pow(Math.max(0,.5-be),2),this.gridInner[ne]=1===be?C:0===be?0:Math.pow(Math.max(0,be-.5),2)}for(L(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),L(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ne=0;ne<this.size*this.size;ne++)xe[ne]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[ne]-this.gridInner[ne])/this.radius+this.cutoff))));return xe},u.default=g;var E=function(X,xe){this.requestManager=X,this.localIdeographFontFamily=xe,this.entries={}};E.prototype.setURL=function(X){this.url=X},E.prototype.getGlyphs=function(X,xe){var ne=this,be=[];for(var Oe in X)for(var qe=0,dt=X[Oe];qe<dt.length;qe+=1)be.push({stack:Oe,id:dt[qe]});l.asyncAll(be,function(Zt,ar){var yr=Zt.stack,Er=Zt.id,Vr=ne.entries[yr];Vr||(Vr=ne.entries[yr]={glyphs:{},requests:{},ranges:{}});var nn=Vr.glyphs[Er];if(void 0===nn){if(nn=ne._tinySDF(Vr,yr,Er))return Vr.glyphs[Er]=nn,void ar(null,{stack:yr,id:Er,glyph:nn});var tn=Math.floor(Er/256);if(256*tn>65535)ar(new Error("glyphs > 65535 not supported"));else if(Vr.ranges[tn])ar(null,{stack:yr,id:Er,glyph:nn});else{var Jr=Vr.requests[tn];Jr||(Jr=Vr.requests[tn]=[],E.loadGlyphRange(yr,tn,ne.url,ne.requestManager,function(ln,wn){if(wn){for(var Un in wn)ne._doesCharSupportLocalGlyph(+Un)||(Vr.glyphs[+Un]=wn[+Un]);Vr.ranges[tn]=!0}for(var jn=0,ui=Jr;jn<ui.length;jn+=1)(0,ui[jn])(ln,wn);delete Vr.requests[tn]})),Jr.push(function(ln,wn){ln?ar(ln):wn&&ar(null,{stack:yr,id:Er,glyph:wn[Er]||null})})}}else ar(null,{stack:yr,id:Er,glyph:nn})},function(Zt,ar){if(Zt)xe(Zt);else if(ar){for(var yr={},Er=0,Vr=ar;Er<Vr.length;Er+=1){var nn=Vr[Er],tn=nn.stack,Jr=nn.id,ln=nn.glyph;(yr[tn]||(yr[tn]={}))[Jr]=ln&&{id:ln.id,bitmap:ln.bitmap.clone(),metrics:ln.metrics}}xe(null,yr)}})},E.prototype._doesCharSupportLocalGlyph=function(X){return!!this.localIdeographFontFamily&&(l.isChar["CJK Unified Ideographs"](X)||l.isChar["Hangul Syllables"](X)||l.isChar.Hiragana(X)||l.isChar.Katakana(X))},E.prototype._tinySDF=function(X,xe,ne){var be=this.localIdeographFontFamily;if(be&&this._doesCharSupportLocalGlyph(ne)){var Oe=X.tinySDF;if(!Oe){var qe="400";/bold/i.test(xe)?qe="900":/medium/i.test(xe)?qe="500":/light/i.test(xe)&&(qe="200"),Oe=X.tinySDF=new E.TinySDF(24,3,8,.25,be,qe)}return{id:ne,bitmap:new l.AlphaImage({width:30,height:30},Oe.draw(String.fromCharCode(ne))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},E.loadGlyphRange=function m(ve,X,xe,ne,be){var Oe=256*X,qe=Oe+255,dt=ne.transformRequest(ne.normalizeGlyphsURL(xe).replace("{fontstack}",ve).replace("{range}",Oe+"-"+qe),l.ResourceType.Glyphs);l.getArrayBuffer(dt,function(Et,Zt){if(Et)be(Et);else if(Zt){for(var ar={},yr=0,Er=l.parseGlyphPBF(Zt);yr<Er.length;yr+=1){var Vr=Er[yr];ar[Vr.id]=Vr}be(null,ar)}})},E.TinySDF=u;var M=function(){this.specification=l.styleSpec.light.position};M.prototype.possiblyEvaluate=function(X,xe){return l.sphericalToCartesian(X.expression.evaluate(xe))},M.prototype.interpolate=function(X,xe,ne){return{x:l.number(X.x,xe.x,ne),y:l.number(X.y,xe.y,ne),z:l.number(X.z,xe.z,ne)}};var i=new l.Properties({anchor:new l.DataConstantProperty(l.styleSpec.light.anchor),position:new M,color:new l.DataConstantProperty(l.styleSpec.light.color),intensity:new l.DataConstantProperty(l.styleSpec.light.intensity)}),D="-transition",y=function(ve){function X(xe){ve.call(this),this._transitionable=new l.Transitionable(i),this.setLight(xe),this._transitioning=this._transitionable.untransitioned()}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getLight=function(){return this._transitionable.serialize()},X.prototype.setLight=function(ne,be){if(void 0===be&&(be={}),!this._validate(l.validateLight,ne,be))for(var Oe in ne){var qe=ne[Oe];l.endsWith(Oe,D)?this._transitionable.setTransition(Oe.slice(0,-11),qe):this._transitionable.setValue(Oe,qe)}},X.prototype.updateTransitions=function(ne){this._transitioning=this._transitionable.transitioned(ne,this._transitioning)},X.prototype.hasTransition=function(){return this._transitioning.hasTransition()},X.prototype.recalculate=function(ne){this.properties=this._transitioning.possiblyEvaluate(ne)},X.prototype._validate=function(ne,be,Oe){return(!Oe||!1!==Oe.validate)&&l.emitValidationErrors(this,ne.call(l.validateStyle,l.extend({value:be,style:{glyphs:!0,sprite:!0},styleSpec:l.styleSpec})))},X}(l.Evented),B=function(X,xe){this.width=X,this.height=xe,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};B.prototype.getDash=function(X,xe){var ne=X.join(",")+String(xe);return this.dashEntry[ne]||(this.dashEntry[ne]=this.addDash(X,xe)),this.dashEntry[ne]},B.prototype.getDashRanges=function(X,xe,ne){var Oe=[],qe=X.length%2==1?-X[X.length-1]*ne:0,dt=X[0]*ne,Et=!0;Oe.push({left:qe,right:dt,isDash:Et,zeroLength:0===X[0]});for(var Zt=X[0],ar=1;ar<X.length;ar++){var yr=X[ar];Oe.push({left:qe=Zt*ne,right:dt=(Zt+=yr)*ne,isDash:Et=!Et,zeroLength:0===yr})}return Oe},B.prototype.addRoundDash=function(X,xe,ne){for(var be=xe/2,Oe=-ne;Oe<=ne;Oe++)for(var dt=this.width*(this.nextRow+ne+Oe),Et=0,Zt=X[Et],ar=0;ar<this.width;ar++){ar/Zt.right>1&&(Zt=X[++Et]);var yr=Math.abs(ar-Zt.left),Er=Math.abs(ar-Zt.right),Vr=Math.min(yr,Er),nn=void 0,tn=Oe/ne*(be+1);if(Zt.isDash){var Jr=be-Math.abs(tn);nn=Math.sqrt(Vr*Vr+Jr*Jr)}else nn=be-Math.sqrt(Vr*Vr+tn*tn);this.data[dt+ar]=Math.max(0,Math.min(255,nn+128))}},B.prototype.addRegularDash=function(X){for(var xe=X.length-1;xe>=0;--xe){var ne=X[xe],be=X[xe+1];ne.zeroLength?X.splice(xe,1):be&&be.isDash===ne.isDash&&(be.left=ne.left,X.splice(xe,1))}var Oe=X[0],qe=X[X.length-1];Oe.isDash===qe.isDash&&(Oe.left=qe.left-this.width,qe.right=Oe.right+this.width);for(var dt=this.width*this.nextRow,Et=0,Zt=X[Et],ar=0;ar<this.width;ar++){ar/Zt.right>1&&(Zt=X[++Et]);var yr=Math.abs(ar-Zt.left),Er=Math.abs(ar-Zt.right),Vr=Math.min(yr,Er);this.data[dt+ar]=Math.max(0,Math.min(255,(Zt.isDash?Vr:-Vr)+128))}},B.prototype.addDash=function(X,xe){var ne=xe?7:0,be=2*ne+1;if(this.nextRow+be>this.height)return l.warnOnce("LineAtlas out of space"),null;for(var Oe=0,qe=0;qe<X.length;qe++)Oe+=X[qe];if(0!==Oe){var dt=this.width/Oe,Et=this.getDashRanges(X,this.width,dt);xe?this.addRoundDash(Et,dt,ne):this.addRegularDash(Et)}var Zt={y:(this.nextRow+ne+.5)/this.height,height:2*ne/this.height,width:Oe};return this.nextRow+=be,this.dirty=!0,Zt},B.prototype.bind=function(X){var xe=X.gl;this.texture?(xe.bindTexture(xe.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,xe.texSubImage2D(xe.TEXTURE_2D,0,0,0,this.width,this.height,xe.ALPHA,xe.UNSIGNED_BYTE,this.data))):(this.texture=xe.createTexture(),xe.bindTexture(xe.TEXTURE_2D,this.texture),xe.texParameteri(xe.TEXTURE_2D,xe.TEXTURE_WRAP_S,xe.REPEAT),xe.texParameteri(xe.TEXTURE_2D,xe.TEXTURE_WRAP_T,xe.REPEAT),xe.texParameteri(xe.TEXTURE_2D,xe.TEXTURE_MIN_FILTER,xe.LINEAR),xe.texParameteri(xe.TEXTURE_2D,xe.TEXTURE_MAG_FILTER,xe.LINEAR),xe.texImage2D(xe.TEXTURE_2D,0,xe.ALPHA,this.width,this.height,0,xe.ALPHA,xe.UNSIGNED_BYTE,this.data))};var F=function ve(X,xe){this.workerPool=X,this.actors=[],this.currentActor=0,this.id=l.uniqueId();for(var ne=this.workerPool.acquire(this.id),be=0;be<ne.length;be++){var qe=new ve.Actor(ne[be],xe,this.id);qe.name="Worker "+be,this.actors.push(qe)}};function _(ve,X,xe){var ne=function(be,Oe){if(be)return xe(be);if(Oe){var qe=l.pick(l.extend(Oe,ve),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Oe.vector_layers&&(qe.vectorLayers=Oe.vector_layers,qe.vectorLayerIds=qe.vectorLayers.map(function(dt){return dt.id})),qe.tiles=X.canonicalizeTileset(qe,ve.url),xe(null,qe)}};return ve.url?l.getJSON(X.transformRequest(X.normalizeSourceURL(ve.url),l.ResourceType.Source),ne):l.browser.frame(function(){return ne(null,ve)})}F.prototype.broadcast=function(X,xe,ne){l.asyncAll(this.actors,function(be,Oe){be.send(X,xe,Oe)},ne=ne||function(){})},F.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},F.prototype.remove=function(){this.actors.forEach(function(X){X.remove()}),this.actors=[],this.workerPool.release(this.id)},F.Actor=l.Actor;var z=function(X,xe,ne){this.bounds=l.LngLatBounds.convert(this.validateBounds(X)),this.minzoom=xe||0,this.maxzoom=ne||24};z.prototype.validateBounds=function(X){return Array.isArray(X)&&4===X.length?[Math.max(-180,X[0]),Math.max(-90,X[1]),Math.min(180,X[2]),Math.min(90,X[3])]:[-180,-90,180,90]},z.prototype.contains=function(X){var xe=Math.pow(2,X.z),ne_minX=Math.floor(l.mercatorXfromLng(this.bounds.getWest())*xe),ne_minY=Math.floor(l.mercatorYfromLat(this.bounds.getNorth())*xe),ne_maxX=Math.ceil(l.mercatorXfromLng(this.bounds.getEast())*xe),ne_maxY=Math.ceil(l.mercatorYfromLat(this.bounds.getSouth())*xe);return X.x>=ne_minX&&X.x<ne_maxX&&X.y>=ne_minY&&X.y<ne_maxY};var V=function(ve){function X(xe,ne,be,Oe){if(ve.call(this),this.id=xe,this.dispatcher=be,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,l.extend(this,l.pick(ne,["url","scheme","tileSize","promoteId"])),this._options=l.extend({type:"vector"},ne),this._collectResourceTiming=ne.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Oe)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.load=function(){var ne=this;this._loaded=!1,this.fire(new l.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=_(this._options,this.map._requestManager,function(be,Oe){ne._tileJSONRequest=null,ne._loaded=!0,be?ne.fire(new l.ErrorEvent(be)):Oe&&(l.extend(ne,Oe),Oe.bounds&&(ne.tileBounds=new z(Oe.bounds,ne.minzoom,ne.maxzoom)),l.postTurnstileEvent(Oe.tiles,ne.map._requestManager._customAccessToken),l.postMapLoadEvent(Oe.tiles,ne.map._getMapId(),ne.map._requestManager._skuToken,ne.map._requestManager._customAccessToken),ne.fire(new l.Event("data",{dataType:"source",sourceDataType:"metadata"})),ne.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.hasTile=function(ne){return!this.tileBounds||this.tileBounds.contains(ne.canonical)},X.prototype.onAdd=function(ne){this.map=ne,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return l.extend({},this._options)},X.prototype.loadTile=function(ne,be){var Oe=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme)),qe={request:this.map._requestManager.transformRequest(Oe,l.ResourceType.Tile),uid:ne.uid,tileID:ne.tileID,zoom:ne.tileID.overscaledZ,tileSize:this.tileSize*ne.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:l.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function dt(Et,Zt){return delete ne.request,ne.aborted?be(null):Et&&404!==Et.status?be(Et):(Zt&&Zt.resourceTiming&&(ne.resourceTiming=Zt.resourceTiming),this.map._refreshExpiredTiles&&Zt&&ne.setExpiryData(Zt),ne.loadVectorData(Zt,this.map.painter),l.cacheEntryPossiblyAdded(this.dispatcher),be(null),void(ne.reloadCallback&&(this.loadTile(ne,ne.reloadCallback),ne.reloadCallback=null)))}qe.request.collectResourceTiming=this._collectResourceTiming,ne.actor&&"expired"!==ne.state?"loading"===ne.state?ne.reloadCallback=be:ne.request=ne.actor.send("reloadTile",qe,dt.bind(this)):(ne.actor=this.dispatcher.getActor(),ne.request=ne.actor.send("loadTile",qe,dt.bind(this)))},X.prototype.abortTile=function(ne){ne.request&&(ne.request.cancel(),delete ne.request),ne.actor&&ne.actor.send("abortTile",{uid:ne.uid,type:this.type,source:this.id},void 0)},X.prototype.unloadTile=function(ne){ne.unloadVectorData(),ne.actor&&ne.actor.send("removeTile",{uid:ne.uid,type:this.type,source:this.id},void 0)},X.prototype.hasTransition=function(){return!1},X}(l.Evented),H=function(ve){function X(xe,ne,be,Oe){ve.call(this),this.id=xe,this.dispatcher=be,this.setEventedParent(Oe),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=l.extend({type:"raster"},ne),l.extend(this,l.pick(ne,["url","scheme","tileSize"]))}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.load=function(){var ne=this;this._loaded=!1,this.fire(new l.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=_(this._options,this.map._requestManager,function(be,Oe){ne._tileJSONRequest=null,ne._loaded=!0,be?ne.fire(new l.ErrorEvent(be)):Oe&&(l.extend(ne,Oe),Oe.bounds&&(ne.tileBounds=new z(Oe.bounds,ne.minzoom,ne.maxzoom)),l.postTurnstileEvent(Oe.tiles),l.postMapLoadEvent(Oe.tiles,ne.map._getMapId(),ne.map._requestManager._skuToken),ne.fire(new l.Event("data",{dataType:"source",sourceDataType:"metadata"})),ne.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.onAdd=function(ne){this.map=ne,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return l.extend({},this._options)},X.prototype.hasTile=function(ne){return!this.tileBounds||this.tileBounds.contains(ne.canonical)},X.prototype.loadTile=function(ne,be){var Oe=this,qe=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ne.request=l.getImage(this.map._requestManager.transformRequest(qe,l.ResourceType.Tile),function(dt,Et){if(delete ne.request,ne.aborted)ne.state="unloaded",be(null);else if(dt)ne.state="errored",be(dt);else if(Et){Oe.map._refreshExpiredTiles&&ne.setExpiryData(Et),delete Et.cacheControl,delete Et.expires;var Zt=Oe.map.painter.context,ar=Zt.gl;ne.texture=Oe.map.painter.getTileTexture(Et.width),ne.texture?ne.texture.update(Et,{useMipmap:!0}):(ne.texture=new l.Texture(Zt,Et,ar.RGBA,{useMipmap:!0}),ne.texture.bind(ar.LINEAR,ar.CLAMP_TO_EDGE,ar.LINEAR_MIPMAP_NEAREST),Zt.extTextureFilterAnisotropic&&ar.texParameterf(ar.TEXTURE_2D,Zt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Zt.extTextureFilterAnisotropicMax)),ne.state="loaded",l.cacheEntryPossiblyAdded(Oe.dispatcher),be(null)}})},X.prototype.abortTile=function(ne,be){ne.request&&(ne.request.cancel(),delete ne.request),be()},X.prototype.unloadTile=function(ne,be){ne.texture&&this.map.painter.saveTileTexture(ne.texture),be()},X.prototype.hasTransition=function(){return!1},X}(l.Evented),U=function(ve){function X(xe,ne,be,Oe){ve.call(this,xe,ne,be,Oe),this.type="raster-dem",this.maxzoom=22,this._options=l.extend({type:"raster-dem"},ne),this.encoding=ne.encoding||"mapbox"}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},X.prototype.loadTile=function(ne,be){var Oe=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function dt(Et,Zt){Et&&(ne.state="errored",be(Et)),Zt&&(ne.dem=Zt,ne.needsHillshadePrepare=!0,ne.state="loaded",be(null))}ne.request=l.getImage(this.map._requestManager.transformRequest(Oe,l.ResourceType.Tile),function qe(Et,Zt){if(delete ne.request,ne.aborted)ne.state="unloaded",be(null);else if(Et)ne.state="errored",be(Et);else if(Zt){this.map._refreshExpiredTiles&&ne.setExpiryData(Zt),delete Zt.cacheControl,delete Zt.expires;var yr=l.window.ImageBitmap&&Zt instanceof l.window.ImageBitmap&&l.offscreenCanvasSupported()?Zt:l.browser.getImageData(Zt,1),Er={uid:ne.uid,coord:ne.tileID,source:this.id,rawImageData:yr,encoding:this.encoding};(!ne.actor||"expired"===ne.state)&&(ne.actor=this.dispatcher.getActor(),ne.actor.send("loadDEMTile",Er,dt.bind(this)))}}.bind(this)),ne.neighboringTiles=this._getNeighboringTiles(ne.tileID)},X.prototype._getNeighboringTiles=function(ne){var be=ne.canonical,Oe=Math.pow(2,be.z),qe=(be.x-1+Oe)%Oe,dt=0===be.x?ne.wrap-1:ne.wrap,Et=(be.x+1+Oe)%Oe,Zt=be.x+1===Oe?ne.wrap+1:ne.wrap,ar={};return ar[new l.OverscaledTileID(ne.overscaledZ,dt,be.z,qe,be.y).key]={backfilled:!1},ar[new l.OverscaledTileID(ne.overscaledZ,Zt,be.z,Et,be.y).key]={backfilled:!1},be.y>0&&(ar[new l.OverscaledTileID(ne.overscaledZ,dt,be.z,qe,be.y-1).key]={backfilled:!1},ar[new l.OverscaledTileID(ne.overscaledZ,ne.wrap,be.z,be.x,be.y-1).key]={backfilled:!1},ar[new l.OverscaledTileID(ne.overscaledZ,Zt,be.z,Et,be.y-1).key]={backfilled:!1}),be.y+1<Oe&&(ar[new l.OverscaledTileID(ne.overscaledZ,dt,be.z,qe,be.y+1).key]={backfilled:!1},ar[new l.OverscaledTileID(ne.overscaledZ,ne.wrap,be.z,be.x,be.y+1).key]={backfilled:!1},ar[new l.OverscaledTileID(ne.overscaledZ,Zt,be.z,Et,be.y+1).key]={backfilled:!1}),ar},X.prototype.unloadTile=function(ne){ne.demTexture&&this.map.painter.saveTileTexture(ne.demTexture),ne.fbo&&(ne.fbo.destroy(),delete ne.fbo),ne.dem&&delete ne.dem,delete ne.neighboringTiles,ne.state="unloaded",ne.actor&&ne.actor.send("removeDEMTile",{uid:ne.uid,source:this.id})},X}(H),G=function(ve){function X(xe,ne,be,Oe){ve.call(this),this.id=xe,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=be.getActor(),this.setEventedParent(Oe),this._data=ne.data,this._options=l.extend({},ne),this._collectResourceTiming=ne.collectResourceTiming,this._resourceTiming=[],void 0!==ne.maxzoom&&(this.maxzoom=ne.maxzoom),ne.type&&(this.type=ne.type),ne.attribution&&(this.attribution=ne.attribution),this.promoteId=ne.promoteId;var qe=l.EXTENT/this.tileSize;this.workerOptions=l.extend({source:this.id,cluster:ne.cluster||!1,geojsonVtOptions:{buffer:(void 0!==ne.buffer?ne.buffer:128)*qe,tolerance:(void 0!==ne.tolerance?ne.tolerance:.375)*qe,extent:l.EXTENT,maxZoom:this.maxzoom,lineMetrics:ne.lineMetrics||!1,generateId:ne.generateId||!1},superclusterOptions:{maxZoom:void 0!==ne.clusterMaxZoom?Math.min(ne.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:l.EXTENT,radius:(ne.clusterRadius||50)*qe,log:!1,generateId:ne.generateId||!1},clusterProperties:ne.clusterProperties},ne.workerOptions)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.load=function(){var ne=this;this.fire(new l.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(be){if(be)ne.fire(new l.ErrorEvent(be));else{var Oe={dataType:"source",sourceDataType:"metadata"};ne._collectResourceTiming&&ne._resourceTiming&&ne._resourceTiming.length>0&&(Oe.resourceTiming=ne._resourceTiming,ne._resourceTiming=[]),ne.fire(new l.Event("data",Oe))}})},X.prototype.onAdd=function(ne){this.map=ne,this.load()},X.prototype.setData=function(ne){var be=this;return this._data=ne,this.fire(new l.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Oe){if(Oe)be.fire(new l.ErrorEvent(Oe));else{var qe={dataType:"source",sourceDataType:"content"};be._collectResourceTiming&&be._resourceTiming&&be._resourceTiming.length>0&&(qe.resourceTiming=be._resourceTiming,be._resourceTiming=[]),be.fire(new l.Event("data",qe))}}),this},X.prototype.getClusterExpansionZoom=function(ne,be){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ne,source:this.id},be),this},X.prototype.getClusterChildren=function(ne,be){return this.actor.send("geojson.getClusterChildren",{clusterId:ne,source:this.id},be),this},X.prototype.getClusterLeaves=function(ne,be,Oe,qe){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ne,limit:be,offset:Oe},qe),this},X.prototype._updateWorkerData=function(ne){var be=this;this._loaded=!1;var Oe=l.extend({},this.workerOptions),qe=this._data;"string"==typeof qe?(Oe.request=this.map._requestManager.transformRequest(l.browser.resolveURL(qe),l.ResourceType.Source),Oe.request.collectResourceTiming=this._collectResourceTiming):Oe.data=JSON.stringify(qe),this.actor.send(this.type+".loadData",Oe,function(dt,Et){be._removed||Et&&Et.abandoned||(be._loaded=!0,Et&&Et.resourceTiming&&Et.resourceTiming[be.id]&&(be._resourceTiming=Et.resourceTiming[be.id].slice(0)),be.actor.send(be.type+".coalesce",{source:Oe.source},null),ne(dt))})},X.prototype.loaded=function(){return this._loaded},X.prototype.loadTile=function(ne,be){var Oe=this,qe=ne.actor?"reloadTile":"loadTile";ne.actor=this.actor,ne.request=this.actor.send(qe,{type:this.type,uid:ne.uid,tileID:ne.tileID,zoom:ne.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:l.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(Et,Zt){return delete ne.request,ne.unloadVectorData(),ne.aborted?be(null):Et?be(Et):(ne.loadVectorData(Zt,Oe.map.painter,"reloadTile"===qe),be(null))})},X.prototype.abortTile=function(ne){ne.request&&(ne.request.cancel(),delete ne.request),ne.aborted=!0},X.prototype.unloadTile=function(ne){ne.unloadVectorData(),this.actor.send("removeTile",{uid:ne.uid,type:this.type,source:this.id})},X.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},X.prototype.serialize=function(){return l.extend({},this._options,{type:this.type,data:this._data})},X.prototype.hasTransition=function(){return!1},X}(l.Evented),Y=l.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),ee=function(ve){function X(xe,ne,be,Oe){ve.call(this),this.id=xe,this.dispatcher=be,this.coordinates=ne.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Oe),this.options=ne}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.load=function(ne,be){var Oe=this;this._loaded=!1,this.fire(new l.Event("dataloading",{dataType:"source"})),this.url=this.options.url,l.getImage(this.map._requestManager.transformRequest(this.url,l.ResourceType.Image),function(qe,dt){Oe._loaded=!0,qe?Oe.fire(new l.ErrorEvent(qe)):dt&&(Oe.image=dt,ne&&(Oe.coordinates=ne),be&&be(),Oe._finishLoading())})},X.prototype.loaded=function(){return this._loaded},X.prototype.updateImage=function(ne){var be=this;return this.image&&ne.url?(this.options.url=ne.url,this.load(ne.coordinates,function(){be.texture=null}),this):this},X.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"metadata"})))},X.prototype.onAdd=function(ne){this.map=ne,this.load()},X.prototype.setCoordinates=function(ne){var be=this;this.coordinates=ne;var Oe=ne.map(l.MercatorCoordinate.fromLngLat);this.tileID=function ue(ve){for(var X=1/0,xe=1/0,ne=-1/0,be=-1/0,Oe=0,qe=ve;Oe<qe.length;Oe+=1){var dt=qe[Oe];X=Math.min(X,dt.x),xe=Math.min(xe,dt.y),ne=Math.max(ne,dt.x),be=Math.max(be,dt.y)}var ar=Math.max(ne-X,be-xe),yr=Math.max(0,Math.floor(-Math.log(ar)/Math.LN2)),Er=Math.pow(2,yr);return new l.CanonicalTileID(yr,Math.floor((X+ne)/2*Er),Math.floor((xe+be)/2*Er))}(Oe),this.minzoom=this.maxzoom=this.tileID.z;var qe=Oe.map(function(dt){return be.tileID.getTilePoint(dt)._round()});return this._boundsArray=new l.StructArrayLayout4i8,this._boundsArray.emplaceBack(qe[0].x,qe[0].y,0,0),this._boundsArray.emplaceBack(qe[1].x,qe[1].y,l.EXTENT,0),this._boundsArray.emplaceBack(qe[3].x,qe[3].y,0,l.EXTENT),this._boundsArray.emplaceBack(qe[2].x,qe[2].y,l.EXTENT,l.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new l.Event("data",{dataType:"source",sourceDataType:"content"})),this},X.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var ne=this.map.painter.context,be=ne.gl;for(var Oe in this.boundsBuffer||(this.boundsBuffer=ne.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=l.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new l.Texture(ne,this.image,be.RGBA),this.texture.bind(be.LINEAR,be.CLAMP_TO_EDGE)),this.tiles){var qe=this.tiles[Oe];"loaded"!==qe.state&&(qe.state="loaded",qe.texture=this.texture)}}},X.prototype.loadTile=function(ne,be){this.tileID&&this.tileID.equals(ne.tileID.canonical)?(this.tiles[String(ne.tileID.wrap)]=ne,ne.buckets={},be(null)):(ne.state="errored",be(null))},X.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return!1},X}(l.Evented);var ce=function(ve){function X(xe,ne,be,Oe){ve.call(this,xe,ne,be,Oe),this.roundZoom=!0,this.type="video",this.options=ne}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.load=function(){var ne=this;this._loaded=!1;var be=this.options;this.urls=[];for(var Oe=0,qe=be.urls;Oe<qe.length;Oe+=1)this.urls.push(this.map._requestManager.transformRequest(qe[Oe],l.ResourceType.Source).url);l.getVideo(this.urls,function(Et,Zt){ne._loaded=!0,Et?ne.fire(new l.ErrorEvent(Et)):Zt&&(ne.video=Zt,ne.video.loop=!0,ne.video.addEventListener("playing",function(){ne.map.triggerRepaint()}),ne.map&&ne.video.play(),ne._finishLoading())})},X.prototype.pause=function(){this.video&&this.video.pause()},X.prototype.play=function(){this.video&&this.video.play()},X.prototype.seek=function(ne){if(this.video){var be=this.video.seekable;ne<be.start(0)||ne>be.end(0)?this.fire(new l.ErrorEvent(new l.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+be.start(0)+" and "+be.end(0)+"-second mark."))):this.video.currentTime=ne}},X.prototype.getVideo=function(){return this.video},X.prototype.onAdd=function(ne){this.map||(this.map=ne,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},X.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var ne=this.map.painter.context,be=ne.gl;for(var Oe in this.boundsBuffer||(this.boundsBuffer=ne.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=l.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(be.LINEAR,be.CLAMP_TO_EDGE),be.texSubImage2D(be.TEXTURE_2D,0,0,0,be.RGBA,be.UNSIGNED_BYTE,this.video)):(this.texture=new l.Texture(ne,this.video,be.RGBA),this.texture.bind(be.LINEAR,be.CLAMP_TO_EDGE)),this.tiles){var qe=this.tiles[Oe];"loaded"!==qe.state&&(qe.state="loaded",qe.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this.video&&!this.video.paused},X}(ee),pe=function(ve){function X(xe,ne,be,Oe){ve.call(this,xe,ne,be,Oe),ne.coordinates?(!Array.isArray(ne.coordinates)||4!==ne.coordinates.length||ne.coordinates.some(function(qe){return!Array.isArray(qe)||2!==qe.length||qe.some(function(dt){return"number"!=typeof dt})}))&&this.fire(new l.ErrorEvent(new l.ValidationError("sources."+xe,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new l.ErrorEvent(new l.ValidationError("sources."+xe,null,'missing required property "coordinates"'))),ne.animate&&"boolean"!=typeof ne.animate&&this.fire(new l.ErrorEvent(new l.ValidationError("sources."+xe,null,'optional "animate" property must be a boolean value'))),ne.canvas?"string"!=typeof ne.canvas&&!(ne.canvas instanceof l.window.HTMLCanvasElement)&&this.fire(new l.ErrorEvent(new l.ValidationError("sources."+xe,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new l.ErrorEvent(new l.ValidationError("sources."+xe,null,'missing required property "canvas"'))),this.options=ne,this.animate=void 0===ne.animate||ne.animate}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof l.window.HTMLCanvasElement?this.options.canvas:l.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new l.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},X.prototype.getCanvas=function(){return this.canvas},X.prototype.onAdd=function(ne){this.map=ne,this.load(),this.canvas&&this.animate&&this.play()},X.prototype.onRemove=function(){this.pause()},X.prototype.prepare=function(){var ne=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ne=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ne=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var be=this.map.painter.context,Oe=be.gl;for(var qe in this.boundsBuffer||(this.boundsBuffer=be.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=l.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ne||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new l.Texture(be,this.canvas,Oe.RGBA,{premultiply:!0}),this.tiles){var dt=this.tiles[qe];"loaded"!==dt.state&&(dt.state="loaded",dt.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this._playing},X.prototype._hasInvalidDimensions=function(){for(var ne=0,be=[this.canvas.width,this.canvas.height];ne<be.length;ne+=1){var Oe=be[ne];if(isNaN(Oe)||Oe<=0)return!0}return!1},X}(ee),te={vector:V,raster:H,"raster-dem":U,geojson:G,video:ce,image:ee,canvas:pe};function q(ve,X){var xe=l.identity([]);return l.translate(xe,xe,[1,1,0]),l.scale(xe,xe,[.5*ve.width,.5*ve.height,1]),l.multiply(xe,xe,ve.calculatePosMatrix(X.toUnwrapped()))}function re(ve,X,xe,ne,be,Oe){var qe=function fe(ve,X,xe){if(ve)for(var ne=0,be=ve;ne<be.length;ne+=1){var qe=X[be[ne]];if(qe&&qe.source===xe&&"fill-extrusion"===qe.type)return!0}else for(var dt in X){var Et=X[dt];if(Et.source===xe&&"fill-extrusion"===Et.type)return!0}return!1}(be&&be.layers,X,ve.id),dt=Oe.maxPitchScaleFactor(),Et=ve.tilesIn(ne,dt,qe);Et.sort(se);for(var Zt=[],ar=0,yr=Et;ar<yr.length;ar+=1){var Er=yr[ar];Zt.push({wrappedTileID:Er.tileID.wrapped().key,queryResults:Er.tile.queryRenderedFeatures(X,xe,ve._state,Er.queryGeometry,Er.cameraQueryGeometry,Er.scale,be,Oe,dt,q(ve.transform,Er.tileID))})}var Vr=function de(ve){for(var X={},xe={},ne=0,be=ve;ne<be.length;ne+=1){var Oe=be[ne],qe=Oe.queryResults,dt=Oe.wrappedTileID,Et=xe[dt]=xe[dt]||{};for(var Zt in qe)for(var ar=qe[Zt],yr=Et[Zt]=Et[Zt]||{},Er=X[Zt]=X[Zt]||[],Vr=0,nn=ar;Vr<nn.length;Vr+=1){var tn=nn[Vr];yr[tn.featureIndex]||(yr[tn.featureIndex]=!0,Er.push(tn))}}return X}(Zt);for(var nn in Vr)Vr[nn].forEach(function(tn){var Jr=tn.feature,ln=ve.getFeatureState(Jr.layer["source-layer"],Jr.id);Jr.source=Jr.layer.source,Jr.layer["source-layer"]&&(Jr.sourceLayer=Jr.layer["source-layer"]),Jr.state=ln});return Vr}function se(ve,X){var xe=ve.tileID,ne=X.tileID;return xe.overscaledZ-ne.overscaledZ||xe.canonical.y-ne.canonical.y||xe.wrap-ne.wrap||xe.canonical.x-ne.canonical.x}var we=function(X,xe){this.max=X,this.onRemove=xe,this.reset()};we.prototype.reset=function(){for(var X in this.data)for(var xe=0,ne=this.data[X];xe<ne.length;xe+=1){var be=ne[xe];be.timeout&&clearTimeout(be.timeout),this.onRemove(be.value)}return this.data={},this.order=[],this},we.prototype.add=function(X,xe,ne){var be=this,Oe=X.wrapped().key;void 0===this.data[Oe]&&(this.data[Oe]=[]);var qe={value:xe,timeout:void 0};if(void 0!==ne&&(qe.timeout=setTimeout(function(){be.remove(X,qe)},ne)),this.data[Oe].push(qe),this.order.push(Oe),this.order.length>this.max){var dt=this._getAndRemoveByKey(this.order[0]);dt&&this.onRemove(dt)}return this},we.prototype.has=function(X){return X.wrapped().key in this.data},we.prototype.getAndRemove=function(X){return this.has(X)?this._getAndRemoveByKey(X.wrapped().key):null},we.prototype._getAndRemoveByKey=function(X){var xe=this.data[X].shift();return xe.timeout&&clearTimeout(xe.timeout),0===this.data[X].length&&delete this.data[X],this.order.splice(this.order.indexOf(X),1),xe.value},we.prototype.getByKey=function(X){var xe=this.data[X];return xe?xe[0].value:null},we.prototype.get=function(X){return this.has(X)?this.data[X.wrapped().key][0].value:null},we.prototype.remove=function(X,xe){if(!this.has(X))return this;var ne=X.wrapped().key,be=void 0===xe?0:this.data[ne].indexOf(xe),Oe=this.data[ne][be];return this.data[ne].splice(be,1),Oe.timeout&&clearTimeout(Oe.timeout),0===this.data[ne].length&&delete this.data[ne],this.onRemove(Oe.value),this.order.splice(this.order.indexOf(ne),1),this},we.prototype.setMaxSize=function(X){for(this.max=X;this.order.length>this.max;){var xe=this._getAndRemoveByKey(this.order[0]);xe&&this.onRemove(xe)}return this},we.prototype.filter=function(X){var xe=[];for(var ne in this.data)for(var be=0,Oe=this.data[ne];be<Oe.length;be+=1){var qe=Oe[be];X(qe.value)||xe.push(qe)}for(var dt=0,Et=xe;dt<Et.length;dt+=1){var Zt=Et[dt];this.remove(Zt.value.tileID,Zt)}};var Ee=function(X,xe,ne){this.context=X;var be=X.gl;this.buffer=be.createBuffer(),this.dynamicDraw=!!ne,this.context.unbindVAO(),X.bindElementBuffer.set(this.buffer),be.bufferData(be.ELEMENT_ARRAY_BUFFER,xe.arrayBuffer,this.dynamicDraw?be.DYNAMIC_DRAW:be.STATIC_DRAW),this.dynamicDraw||delete xe.arrayBuffer};Ee.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ee.prototype.updateData=function(X){var xe=this.context.gl;this.context.unbindVAO(),this.bind(),xe.bufferSubData(xe.ELEMENT_ARRAY_BUFFER,0,X.arrayBuffer)},Ee.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Me={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ne=function(X,xe,ne,be){this.length=xe.length,this.attributes=ne,this.itemSize=xe.bytesPerElement,this.dynamicDraw=be,this.context=X;var Oe=X.gl;this.buffer=Oe.createBuffer(),X.bindVertexBuffer.set(this.buffer),Oe.bufferData(Oe.ARRAY_BUFFER,xe.arrayBuffer,this.dynamicDraw?Oe.DYNAMIC_DRAW:Oe.STATIC_DRAW),this.dynamicDraw||delete xe.arrayBuffer};Ne.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ne.prototype.updateData=function(X){var xe=this.context.gl;this.bind(),xe.bufferSubData(xe.ARRAY_BUFFER,0,X.arrayBuffer)},Ne.prototype.enableAttributes=function(X,xe){for(var ne=0;ne<this.attributes.length;ne++){var Oe=xe.attributes[this.attributes[ne].name];void 0!==Oe&&X.enableVertexAttribArray(Oe)}},Ne.prototype.setVertexAttribPointers=function(X,xe,ne){for(var be=0;be<this.attributes.length;be++){var Oe=this.attributes[be],qe=xe.attributes[Oe.name];void 0!==qe&&X.vertexAttribPointer(qe,Oe.components,X[Me[Oe.type]],!1,this.itemSize,Oe.offset+this.itemSize*(ne||0))}},Ne.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Ve=function(X){this.gl=X.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ve.prototype.get=function(){return this.current},Ve.prototype.set=function(X){},Ve.prototype.getDefault=function(){return this.default},Ve.prototype.setDefault=function(){this.set(this.default)};var Pe=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return l.Color.transparent},X.prototype.set=function(ne){var be=this.current;ne.r===be.r&&ne.g===be.g&&ne.b===be.b&&ne.a===be.a&&!this.dirty||(this.gl.clearColor(ne.r,ne.g,ne.b,ne.a),this.current=ne,this.dirty=!1)},X}(Ve),Ce=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return 1},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.clearDepth(ne),this.current=ne,this.dirty=!1)},X}(Ve),Ie=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return 0},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.clearStencil(ne),this.current=ne,this.dirty=!1)},X}(Ve),Je=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return[!0,!0,!0,!0]},X.prototype.set=function(ne){var be=this.current;ne[0]===be[0]&&ne[1]===be[1]&&ne[2]===be[2]&&ne[3]===be[3]&&!this.dirty||(this.gl.colorMask(ne[0],ne[1],ne[2],ne[3]),this.current=ne,this.dirty=!1)},X}(Ve),Qe=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return!0},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.depthMask(ne),this.current=ne,this.dirty=!1)},X}(Ve),ze=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return 255},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.stencilMask(ne),this.current=ne,this.dirty=!1)},X}(Ve),Ke=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},X.prototype.set=function(ne){var be=this.current;ne.func===be.func&&ne.ref===be.ref&&ne.mask===be.mask&&!this.dirty||(this.gl.stencilFunc(ne.func,ne.ref,ne.mask),this.current=ne,this.dirty=!1)},X}(Ve),ut=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){var ne=this.gl;return[ne.KEEP,ne.KEEP,ne.KEEP]},X.prototype.set=function(ne){var be=this.current;ne[0]===be[0]&&ne[1]===be[1]&&ne[2]===be[2]&&!this.dirty||(this.gl.stencilOp(ne[0],ne[1],ne[2]),this.current=ne,this.dirty=!1)},X}(Ve),ot=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(ne!==this.current||this.dirty){var be=this.gl;ne?be.enable(be.STENCIL_TEST):be.disable(be.STENCIL_TEST),this.current=ne,this.dirty=!1}},X}(Ve),We=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return[0,1]},X.prototype.set=function(ne){var be=this.current;ne[0]===be[0]&&ne[1]===be[1]&&!this.dirty||(this.gl.depthRange(ne[0],ne[1]),this.current=ne,this.dirty=!1)},X}(Ve),je=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(ne!==this.current||this.dirty){var be=this.gl;ne?be.enable(be.DEPTH_TEST):be.disable(be.DEPTH_TEST),this.current=ne,this.dirty=!1}},X}(Ve),lt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.LESS},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.depthFunc(ne),this.current=ne,this.dirty=!1)},X}(Ve),vt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(ne!==this.current||this.dirty){var be=this.gl;ne?be.enable(be.BLEND):be.disable(be.BLEND),this.current=ne,this.dirty=!1}},X}(Ve),pt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){var ne=this.gl;return[ne.ONE,ne.ZERO]},X.prototype.set=function(ne){var be=this.current;ne[0]===be[0]&&ne[1]===be[1]&&!this.dirty||(this.gl.blendFunc(ne[0],ne[1]),this.current=ne,this.dirty=!1)},X}(Ve),St=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return l.Color.transparent},X.prototype.set=function(ne){var be=this.current;ne.r===be.r&&ne.g===be.g&&ne.b===be.b&&ne.a===be.a&&!this.dirty||(this.gl.blendColor(ne.r,ne.g,ne.b,ne.a),this.current=ne,this.dirty=!1)},X}(Ve),Ct=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.FUNC_ADD},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.blendEquation(ne),this.current=ne,this.dirty=!1)},X}(Ve),_t=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(ne!==this.current||this.dirty){var be=this.gl;ne?be.enable(be.CULL_FACE):be.disable(be.CULL_FACE),this.current=ne,this.dirty=!1}},X}(Ve),nt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.BACK},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.cullFace(ne),this.current=ne,this.dirty=!1)},X}(Ve),ke=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.CCW},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.frontFace(ne),this.current=ne,this.dirty=!1)},X}(Ve),Re=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.useProgram(ne),this.current=ne,this.dirty=!1)},X}(Ve),Be=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.TEXTURE0},X.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.activeTexture(ne),this.current=ne,this.dirty=!1)},X}(Ve),He=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){var ne=this.gl;return[0,0,ne.drawingBufferWidth,ne.drawingBufferHeight]},X.prototype.set=function(ne){var be=this.current;ne[0]===be[0]&&ne[1]===be[1]&&ne[2]===be[2]&&ne[3]===be[3]&&!this.dirty||(this.gl.viewport(ne[0],ne[1],ne[2],ne[3]),this.current=ne,this.dirty=!1)},X}(Ve),Ye=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){if(ne!==this.current||this.dirty){var be=this.gl;be.bindFramebuffer(be.FRAMEBUFFER,ne),this.current=ne,this.dirty=!1}},X}(Ve),Ue=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){if(ne!==this.current||this.dirty){var be=this.gl;be.bindRenderbuffer(be.RENDERBUFFER,ne),this.current=ne,this.dirty=!1}},X}(Ve),De=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){if(ne!==this.current||this.dirty){var be=this.gl;be.bindTexture(be.TEXTURE_2D,ne),this.current=ne,this.dirty=!1}},X}(Ve),ge=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){if(ne!==this.current||this.dirty){var be=this.gl;be.bindBuffer(be.ARRAY_BUFFER,ne),this.current=ne,this.dirty=!1}},X}(Ve),Te=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){var be=this.gl;be.bindBuffer(be.ELEMENT_ARRAY_BUFFER,ne),this.current=ne,this.dirty=!1},X}(Ve),_e=function(ve){function X(xe){ve.call(this,xe),this.vao=xe.extVertexArrayObject}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ne){!this.vao||ne===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(ne),this.current=ne,this.dirty=!1)},X}(Ve),et=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return 4},X.prototype.set=function(ne){if(ne!==this.current||this.dirty){var be=this.gl;be.pixelStorei(be.UNPACK_ALIGNMENT,ne),this.current=ne,this.dirty=!1}},X}(Ve),ft=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(ne!==this.current||this.dirty){var be=this.gl;be.pixelStorei(be.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne),this.current=ne,this.dirty=!1}},X}(Ve),gt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ne){if(ne!==this.current||this.dirty){var be=this.gl;be.pixelStorei(be.UNPACK_FLIP_Y_WEBGL,ne),this.current=ne,this.dirty=!1}},X}(Ve),Kt=function(ve){function X(xe,ne){ve.call(this,xe),this.context=xe,this.parent=ne}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X}(Ve),ir=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.setDirty=function(){this.dirty=!0},X.prototype.set=function(ne){if(ne!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var be=this.gl;be.framebufferTexture2D(be.FRAMEBUFFER,be.COLOR_ATTACHMENT0,be.TEXTURE_2D,ne,0),this.current=ne,this.dirty=!1}},X}(Kt),Lt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.set=function(ne){if(ne!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var be=this.gl;be.framebufferRenderbuffer(be.FRAMEBUFFER,be.DEPTH_ATTACHMENT,be.RENDERBUFFER,ne),this.current=ne,this.dirty=!1}},X}(Kt),Ut=function(X,xe,ne,be){this.context=X,this.width=xe,this.height=ne;var qe=this.framebuffer=X.gl.createFramebuffer();this.colorAttachment=new ir(X,qe),be&&(this.depthAttachment=new Lt(X,qe))};Ut.prototype.destroy=function(){var X=this.context.gl,xe=this.colorAttachment.get();if(xe&&X.deleteTexture(xe),this.depthAttachment){var ne=this.depthAttachment.get();ne&&X.deleteRenderbuffer(ne)}X.deleteFramebuffer(this.framebuffer)};var Cr=function(X,xe,ne){this.func=X,this.mask=xe,this.range=ne};Cr.ReadOnly=!1,Cr.ReadWrite=!0,Cr.disabled=new Cr(519,Cr.ReadOnly,[0,1]);var rr=function(X,xe,ne,be,Oe,qe){this.test=X,this.ref=xe,this.mask=ne,this.fail=be,this.depthFail=Oe,this.pass=qe};rr.disabled=new rr({func:519,mask:0},0,0,7680,7680,7680);var ct=function(X,xe,ne){this.blendFunction=X,this.blendColor=xe,this.mask=ne};ct.Replace=[1,0],ct.disabled=new ct(ct.Replace,l.Color.transparent,[!1,!1,!1,!1]),ct.unblended=new ct(ct.Replace,l.Color.transparent,[!0,!0,!0,!0]),ct.alphaBlended=new ct([1,771],l.Color.transparent,[!0,!0,!0,!0]);var Ft=function(X,xe,ne){this.enable=X,this.mode=xe,this.frontFace=ne};Ft.disabled=new Ft(!1,1029,2305),Ft.backCCW=new Ft(!0,1029,2305);var Rt=function(X){this.gl=X,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Pe(this),this.clearDepth=new Ce(this),this.clearStencil=new Ie(this),this.colorMask=new Je(this),this.depthMask=new Qe(this),this.stencilMask=new ze(this),this.stencilFunc=new Ke(this),this.stencilOp=new ut(this),this.stencilTest=new ot(this),this.depthRange=new We(this),this.depthTest=new je(this),this.depthFunc=new lt(this),this.blend=new vt(this),this.blendFunc=new pt(this),this.blendColor=new St(this),this.blendEquation=new Ct(this),this.cullFace=new _t(this),this.cullFaceSide=new nt(this),this.frontFace=new ke(this),this.program=new Re(this),this.activeTexture=new Be(this),this.viewport=new He(this),this.bindFramebuffer=new Ye(this),this.bindRenderbuffer=new Ue(this),this.bindTexture=new De(this),this.bindVertexBuffer=new ge(this),this.bindElementBuffer=new Te(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new _e(this),this.pixelStoreUnpack=new et(this),this.pixelStoreUnpackPremultiplyAlpha=new ft(this),this.pixelStoreUnpackFlipY=new gt(this),this.extTextureFilterAnisotropic=X.getExtension("EXT_texture_filter_anisotropic")||X.getExtension("MOZ_EXT_texture_filter_anisotropic")||X.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=X.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=X.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(X.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=X.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=X.getExtension("EXT_disjoint_timer_query")};Rt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Rt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Rt.prototype.createIndexBuffer=function(X,xe){return new Ee(this,X,xe)},Rt.prototype.createVertexBuffer=function(X,xe,ne){return new Ne(this,X,xe,ne)},Rt.prototype.createRenderbuffer=function(X,xe,ne){var be=this.gl,Oe=be.createRenderbuffer();return this.bindRenderbuffer.set(Oe),be.renderbufferStorage(be.RENDERBUFFER,X,xe,ne),this.bindRenderbuffer.set(null),Oe},Rt.prototype.createFramebuffer=function(X,xe,ne){return new Ut(this,X,xe,ne)},Rt.prototype.clear=function(X){var xe=X.color,ne=X.depth,be=this.gl,Oe=0;xe&&(Oe|=be.COLOR_BUFFER_BIT,this.clearColor.set(xe),this.colorMask.set([!0,!0,!0,!0])),typeof ne<"u"&&(Oe|=be.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ne),this.depthMask.set(!0)),be.clear(Oe)},Rt.prototype.setCullFace=function(X){!1===X.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(X.mode),this.frontFace.set(X.frontFace))},Rt.prototype.setDepthMode=function(X){X.func!==this.gl.ALWAYS||X.mask?(this.depthTest.set(!0),this.depthFunc.set(X.func),this.depthMask.set(X.mask),this.depthRange.set(X.range)):this.depthTest.set(!1)},Rt.prototype.setStencilMode=function(X){X.test.func!==this.gl.ALWAYS||X.mask?(this.stencilTest.set(!0),this.stencilMask.set(X.mask),this.stencilOp.set([X.fail,X.depthFail,X.pass]),this.stencilFunc.set({func:X.test.func,ref:X.ref,mask:X.test.mask})):this.stencilTest.set(!1)},Rt.prototype.setColorMode=function(X){l.deepEqual(X.blendFunction,ct.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(X.blendFunction),this.blendColor.set(X.blendColor)),this.colorMask.set(X.mask)},Rt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Gt=function(ve){function X(xe,ne,be){var Oe=this;ve.call(this),this.id=xe,this.dispatcher=be,this.on("data",function(qe){"source"===qe.dataType&&"metadata"===qe.sourceDataType&&(Oe._sourceLoaded=!0),Oe._sourceLoaded&&!Oe._paused&&"source"===qe.dataType&&"content"===qe.sourceDataType&&(Oe.reload(),Oe.transform&&Oe.update(Oe.transform))}),this.on("error",function(){Oe._sourceErrored=!0}),this._source=function(ve,X,xe,ne){var be=new te[X.type](ve,X,xe,ne);if(be.id!==ve)throw new Error("Expected Source id to be "+ve+" instead of "+be.id);return l.bindAll(["load","abort","unload","serialize","prepare"],be),be}(xe,ne,be,this),this._tiles={},this._cache=new we(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new l.SourceFeatureState}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.onAdd=function(ne){this.map=ne,this._maxTileCacheSize=ne?ne._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(ne)},X.prototype.onRemove=function(ne){this._source&&this._source.onRemove&&this._source.onRemove(ne)},X.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var ne in this._tiles){var be=this._tiles[ne];if("loaded"!==be.state&&"errored"!==be.state)return!1}return!0},X.prototype.getSource=function(){return this._source},X.prototype.pause=function(){this._paused=!0},X.prototype.resume=function(){if(this._paused){var ne=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ne&&this.reload(),this.transform&&this.update(this.transform)}},X.prototype._loadTile=function(ne,be){return this._source.loadTile(ne,be)},X.prototype._unloadTile=function(ne){if(this._source.unloadTile)return this._source.unloadTile(ne,function(){})},X.prototype._abortTile=function(ne){if(this._source.abortTile)return this._source.abortTile(ne,function(){})},X.prototype.serialize=function(){return this._source.serialize()},X.prototype.prepare=function(ne){for(var be in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var Oe=this._tiles[be];Oe.upload(ne),Oe.prepare(this.map.style.imageManager)}},X.prototype.getIds=function(){return l.values(this._tiles).map(function(ne){return ne.tileID}).sort(jt).map(function(ne){return ne.key})},X.prototype.getRenderableIds=function(ne){var be=this,Oe=[];for(var qe in this._tiles)this._isIdRenderable(qe,ne)&&Oe.push(this._tiles[qe]);return ne?Oe.sort(function(dt,Et){var Zt=dt.tileID,ar=Et.tileID,yr=new l.Point(Zt.canonical.x,Zt.canonical.y)._rotate(be.transform.angle),Er=new l.Point(ar.canonical.x,ar.canonical.y)._rotate(be.transform.angle);return Zt.overscaledZ-ar.overscaledZ||Er.y-yr.y||Er.x-yr.x}).map(function(dt){return dt.tileID.key}):Oe.map(function(dt){return dt.tileID}).sort(jt).map(function(dt){return dt.key})},X.prototype.hasRenderableParent=function(ne){var be=this.findLoadedParent(ne,0);return!!be&&this._isIdRenderable(be.tileID.key)},X.prototype._isIdRenderable=function(ne,be){return this._tiles[ne]&&this._tiles[ne].hasData()&&!this._coveredTiles[ne]&&(be||!this._tiles[ne].holdingForFade())},X.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var ne in this._cache.reset(),this._tiles)"errored"!==this._tiles[ne].state&&this._reloadTile(ne,"reloading")},X.prototype._reloadTile=function(ne,be){var Oe=this._tiles[ne];Oe&&("loading"!==Oe.state&&(Oe.state=be),this._loadTile(Oe,this._tileLoaded.bind(this,Oe,ne,be)))},X.prototype._tileLoaded=function(ne,be,Oe,qe){if(qe)return ne.state="errored",void(404!==qe.status?this._source.fire(new l.ErrorEvent(qe,{tile:ne})):this.update(this.transform));ne.timeAdded=l.browser.now(),"expired"===Oe&&(ne.refreshedUponExpiration=!0),this._setTileReloadTimer(be,ne),"raster-dem"===this.getSource().type&&ne.dem&&this._backfillDEM(ne),this._state.initializeTileState(ne,this.map?this.map.painter:null),this._source.fire(new l.Event("data",{dataType:"source",tile:ne,coord:ne.tileID}))},X.prototype._backfillDEM=function(ne){for(var be=this.getRenderableIds(),Oe=0;Oe<be.length;Oe++){var qe=be[Oe];if(ne.neighboringTiles&&ne.neighboringTiles[qe]){var dt=this.getTileByID(qe);Et(ne,dt),Et(dt,ne)}}function Et(Zt,ar){Zt.needsHillshadePrepare=!0;var yr=ar.tileID.canonical.x-Zt.tileID.canonical.x,Er=ar.tileID.canonical.y-Zt.tileID.canonical.y,Vr=Math.pow(2,Zt.tileID.canonical.z),nn=ar.tileID.key;0===yr&&0===Er||Math.abs(Er)>1||(Math.abs(yr)>1&&(1===Math.abs(yr+Vr)?yr+=Vr:1===Math.abs(yr-Vr)&&(yr-=Vr)),ar.dem&&Zt.dem&&(Zt.dem.backfillBorder(ar.dem,yr,Er),Zt.neighboringTiles&&Zt.neighboringTiles[nn]&&(Zt.neighboringTiles[nn].backfilled=!0)))}},X.prototype.getTile=function(ne){return this.getTileByID(ne.key)},X.prototype.getTileByID=function(ne){return this._tiles[ne]},X.prototype._retainLoadedChildren=function(ne,be,Oe,qe){for(var dt in this._tiles){var Et=this._tiles[dt];if(!(qe[dt]||!Et.hasData()||Et.tileID.overscaledZ<=be||Et.tileID.overscaledZ>Oe)){for(var Zt=Et.tileID;Et&&Et.tileID.overscaledZ>be+1;){var ar=Et.tileID.scaledTo(Et.tileID.overscaledZ-1);(Et=this._tiles[ar.key])&&Et.hasData()&&(Zt=ar)}for(var yr=Zt;yr.overscaledZ>be;)if(ne[(yr=yr.scaledTo(yr.overscaledZ-1)).key]){qe[Zt.key]=Zt;break}}}},X.prototype.findLoadedParent=function(ne,be){if(ne.key in this._loadedParentTiles){var Oe=this._loadedParentTiles[ne.key];return Oe&&Oe.tileID.overscaledZ>=be?Oe:null}for(var qe=ne.overscaledZ-1;qe>=be;qe--){var dt=ne.scaledTo(qe),Et=this._getLoadedTile(dt);if(Et)return Et}},X.prototype._getLoadedTile=function(ne){var be=this._tiles[ne.key];return be&&be.hasData()?be:this._cache.getByKey(ne.wrapped().key)},X.prototype.updateCacheSize=function(ne){var be=Math.ceil(ne.width/this._source.tileSize)+1,Oe=Math.ceil(ne.height/this._source.tileSize)+1,Et=Math.floor(be*Oe*5),Zt="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,Et):Et;this._cache.setMaxSize(Zt)},X.prototype.handleWrapJump=function(ne){var dt=Math.round((ne-(void 0===this._prevLng?ne:this._prevLng))/360);if(this._prevLng=ne,dt){var Et={};for(var Zt in this._tiles){var ar=this._tiles[Zt];ar.tileID=ar.tileID.unwrapTo(ar.tileID.wrap+dt),Et[ar.tileID.key]=ar}for(var yr in this._tiles=Et,this._timers)clearTimeout(this._timers[yr]),delete this._timers[yr];for(var Er in this._tiles)this._setTileReloadTimer(Er,this._tiles[Er])}},X.prototype.update=function(ne){var be=this;if(this.transform=ne,this._sourceLoaded&&!this._paused){var Oe;this.updateCacheSize(ne),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?Oe=ne.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Ri){return new l.OverscaledTileID(Ri.canonical.z,Ri.wrap,Ri.canonical.z,Ri.canonical.x,Ri.canonical.y)}):(Oe=ne.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Oe=Oe.filter(function(Ri){return be._source.hasTile(Ri)}))):Oe=[];var qe=ne.coveringZoomLevel(this._source),dt=Math.max(qe-X.maxOverzooming,this._source.minzoom),Et=Math.max(qe+X.maxUnderzooming,this._source.minzoom),Zt=this._updateRetainedTiles(Oe,qe);if(er(this._source.type)){for(var ar={},yr={},Vr=0,nn=Object.keys(Zt);Vr<nn.length;Vr+=1){var tn=nn[Vr],Jr=Zt[tn],ln=this._tiles[tn];if(ln&&!(ln.fadeEndTime&&ln.fadeEndTime<=l.browser.now())){var wn=this.findLoadedParent(Jr,dt);wn&&(this._addTile(wn.tileID),ar[wn.tileID.key]=wn.tileID),yr[tn]=Jr}}for(var Un in this._retainLoadedChildren(yr,qe,Et,Zt),ar)Zt[Un]||(this._coveredTiles[Un]=!0,Zt[Un]=ar[Un])}for(var jn in Zt)this._tiles[jn].clearFadeHold();for(var ni=0,ci=l.keysDifference(this._tiles,Zt);ni<ci.length;ni+=1){var Ai=ci[ni],Pi=this._tiles[Ai];Pi.hasSymbolBuckets&&!Pi.holdingForFade()?Pi.setHoldDuration(this.map._fadeDuration):(!Pi.hasSymbolBuckets||Pi.symbolFadeFinished())&&this._removeTile(Ai)}this._updateLoadedParentTileCache()}},X.prototype.releaseSymbolFadeTiles=function(){for(var ne in this._tiles)this._tiles[ne].holdingForFade()&&this._removeTile(ne)},X.prototype._updateRetainedTiles=function(ne,be){for(var Oe={},qe={},dt=Math.max(be-X.maxOverzooming,this._source.minzoom),Et=Math.max(be+X.maxUnderzooming,this._source.minzoom),Zt={},ar=0,yr=ne;ar<yr.length;ar+=1){var Er=yr[ar],Vr=this._addTile(Er);Oe[Er.key]=Er,!Vr.hasData()&&be<this._source.maxzoom&&(Zt[Er.key]=Er)}this._retainLoadedChildren(Zt,be,Et,Oe);for(var nn=0,tn=ne;nn<tn.length;nn+=1){var Jr=tn[nn],ln=this._tiles[Jr.key];if(!ln.hasData()){if(be+1>this._source.maxzoom){var wn=Jr.children(this._source.maxzoom)[0],Un=this.getTile(wn);if(Un&&Un.hasData()){Oe[wn.key]=wn;continue}}else{var jn=Jr.children(this._source.maxzoom);if(Oe[jn[0].key]&&Oe[jn[1].key]&&Oe[jn[2].key]&&Oe[jn[3].key])continue}for(var ui=ln.wasRequested(),ni=Jr.overscaledZ-1;ni>=dt;--ni){var ci=Jr.scaledTo(ni);if(qe[ci.key]||(qe[ci.key]=!0,!(ln=this.getTile(ci))&&ui&&(ln=this._addTile(ci)),ln&&(Oe[ci.key]=ci,ui=ln.wasRequested(),ln.hasData())))break}}}return Oe},X.prototype._updateLoadedParentTileCache=function(){for(var ne in this._loadedParentTiles={},this._tiles){for(var be=[],Oe=void 0,qe=this._tiles[ne].tileID;qe.overscaledZ>0;){if(qe.key in this._loadedParentTiles){Oe=this._loadedParentTiles[qe.key];break}be.push(qe.key);var dt=qe.scaledTo(qe.overscaledZ-1);if(Oe=this._getLoadedTile(dt))break;qe=dt}for(var Et=0,Zt=be;Et<Zt.length;Et+=1)this._loadedParentTiles[Zt[Et]]=Oe}},X.prototype._addTile=function(ne){var be=this._tiles[ne.key];if(be)return be;(be=this._cache.getAndRemove(ne))&&(this._setTileReloadTimer(ne.key,be),be.tileID=ne,this._state.initializeTileState(be,this.map?this.map.painter:null),this._cacheTimers[ne.key]&&(clearTimeout(this._cacheTimers[ne.key]),delete this._cacheTimers[ne.key],this._setTileReloadTimer(ne.key,be)));var Oe=!!be;return Oe||(be=new l.Tile(ne,this._source.tileSize*ne.overscaleFactor()),this._loadTile(be,this._tileLoaded.bind(this,be,ne.key,be.state))),be?(be.uses++,this._tiles[ne.key]=be,Oe||this._source.fire(new l.Event("dataloading",{tile:be,coord:be.tileID,dataType:"source"})),be):null},X.prototype._setTileReloadTimer=function(ne,be){var Oe=this;ne in this._timers&&(clearTimeout(this._timers[ne]),delete this._timers[ne]);var qe=be.getExpiryTimeout();qe&&(this._timers[ne]=setTimeout(function(){Oe._reloadTile(ne,"expired"),delete Oe._timers[ne]},qe))},X.prototype._removeTile=function(ne){var be=this._tiles[ne];be&&(be.uses--,delete this._tiles[ne],this._timers[ne]&&(clearTimeout(this._timers[ne]),delete this._timers[ne]),!(be.uses>0)&&(be.hasData()&&"reloading"!==be.state?this._cache.add(be.tileID,be,be.getExpiryTimeout()):(be.aborted=!0,this._abortTile(be),this._unloadTile(be))))},X.prototype.clearTiles=function(){for(var ne in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(ne);this._cache.reset()},X.prototype.tilesIn=function(ne,be,Oe){var qe=this,dt=[],Et=this.transform;if(!Et)return dt;for(var Zt=Oe?Et.getCameraQueryGeometry(ne):ne,ar=ne.map(function(ni){return Et.pointCoordinate(ni)}),yr=Zt.map(function(ni){return Et.pointCoordinate(ni)}),Er=this.getIds(),Vr=1/0,nn=1/0,tn=-1/0,Jr=-1/0,ln=0,wn=yr;ln<wn.length;ln+=1){var Un=wn[ln];Vr=Math.min(Vr,Un.x),nn=Math.min(nn,Un.y),tn=Math.max(tn,Un.x),Jr=Math.max(Jr,Un.y)}for(var jn=function(ni){var ci=qe._tiles[Er[ni]];if(!ci.holdingForFade()){var Ai=ci.tileID,Pi=Math.pow(2,Et.zoom-ci.tileID.overscaledZ),Ri=be*ci.queryPadding*l.EXTENT/ci.tileSize/Pi,Oi=[Ai.getTilePoint(new l.MercatorCoordinate(Vr,nn)),Ai.getTilePoint(new l.MercatorCoordinate(tn,Jr))];if(Oi[0].x-Ri<l.EXTENT&&Oi[0].y-Ri<l.EXTENT&&Oi[1].x+Ri>=0&&Oi[1].y+Ri>=0){var Vi=ar.map(function(ca){return Ai.getTilePoint(ca)}),ra=yr.map(function(ca){return Ai.getTilePoint(ca)});dt.push({tile:ci,tileID:Ai,queryGeometry:Vi,cameraQueryGeometry:ra,scale:Pi})}}},ui=0;ui<Er.length;ui++)jn(ui);return dt},X.prototype.getVisibleCoordinates=function(ne){for(var be=this,Oe=this.getRenderableIds(ne).map(function(Zt){return be._tiles[Zt].tileID}),qe=0,dt=Oe;qe<dt.length;qe+=1){var Et=dt[qe];Et.posMatrix=this.transform.calculatePosMatrix(Et.toUnwrapped())}return Oe},X.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(er(this._source.type))for(var ne in this._tiles){var be=this._tiles[ne];if(void 0!==be.fadeEndTime&&be.fadeEndTime>=l.browser.now())return!0}return!1},X.prototype.setFeatureState=function(ne,be,Oe){this._state.updateState(ne=ne||"_geojsonTileLayer",be,Oe)},X.prototype.removeFeatureState=function(ne,be,Oe){this._state.removeFeatureState(ne=ne||"_geojsonTileLayer",be,Oe)},X.prototype.getFeatureState=function(ne,be){return this._state.getState(ne=ne||"_geojsonTileLayer",be)},X.prototype.setDependencies=function(ne,be,Oe){var qe=this._tiles[ne];qe&&qe.setDependencies(be,Oe)},X.prototype.reloadTilesForDependencies=function(ne,be){for(var Oe in this._tiles)this._tiles[Oe].hasDependency(ne,be)&&this._reloadTile(Oe,"reloading");this._cache.filter(function(dt){return!dt.hasDependency(ne,be)})},X}(l.Evented);function jt(ve,X){var xe=Math.abs(2*ve.wrap)-+(ve.wrap<0),ne=Math.abs(2*X.wrap)-+(X.wrap<0);return ve.overscaledZ-X.overscaledZ||ne-xe||X.canonical.y-ve.canonical.y||X.canonical.x-ve.canonical.x}function er(ve){return"raster"===ve||"image"===ve||"video"===ve}function dr(){return new l.window.Worker(Hd.workerUrl)}Gt.maxOverzooming=10,Gt.maxUnderzooming=3;var hr="mapboxgl_preloaded_worker_pool",wr=function(){this.active={}};wr.prototype.acquire=function(X){if(!this.workers)for(this.workers=[];this.workers.length<wr.workerCount;)this.workers.push(new dr);return this.active[X]=!0,this.workers.slice()},wr.prototype.release=function(X){delete this.active[X],0===this.numActive()&&(this.workers.forEach(function(xe){xe.terminate()}),this.workers=null)},wr.prototype.isPreloaded=function(){return!!this.active[hr]},wr.prototype.numActive=function(){return Object.keys(this.active).length};var Ze,$e=Math.floor(l.browser.hardwareConcurrency/2);function zt(){return Ze||(Ze=new wr),Ze}function ur(ve,X){var xe={};for(var ne in ve)"ref"!==ne&&(xe[ne]=ve[ne]);return l.refProperties.forEach(function(be){be in X&&(xe[be]=X[be])}),xe}function vr(ve){ve=ve.slice();for(var X=Object.create(null),xe=0;xe<ve.length;xe++)X[ve[xe].id]=ve[xe];for(var ne=0;ne<ve.length;ne++)"ref"in ve[ne]&&(ve[ne]=ur(ve[ne],X[ve[ne].ref]));return ve}wr.workerCount=Math.max(Math.min($e,6),1);var Ht={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function pr(ve,X,xe){xe.push({command:Ht.addSource,args:[ve,X[ve]]})}function xr(ve,X,xe){X.push({command:Ht.removeSource,args:[ve]}),xe[ve]=!0}function Mr(ve,X,xe,ne){xr(ve,xe,ne),pr(ve,X,xe)}function kr(ve,X,xe){var ne;for(ne in ve[xe])if(ve[xe].hasOwnProperty(ne)&&"data"!==ne&&!l.deepEqual(ve[xe][ne],X[xe][ne]))return!1;for(ne in X[xe])if(X[xe].hasOwnProperty(ne)&&"data"!==ne&&!l.deepEqual(ve[xe][ne],X[xe][ne]))return!1;return!0}function Nr(ve,X,xe,ne,be,Oe){var qe;for(qe in X=X||{},ve=ve||{})ve.hasOwnProperty(qe)&&(l.deepEqual(ve[qe],X[qe])||xe.push({command:Oe,args:[ne,qe,X[qe],be]}));for(qe in X)!X.hasOwnProperty(qe)||ve.hasOwnProperty(qe)||l.deepEqual(ve[qe],X[qe])||xe.push({command:Oe,args:[ne,qe,X[qe],be]})}function Yr(ve){return ve.id}function $r(ve,X){return ve[X.id]=X,ve}function Wn(ve,X){if(!ve)return[{command:Ht.setStyle,args:[X]}];var xe=[];try{if(!l.deepEqual(ve.version,X.version))return[{command:Ht.setStyle,args:[X]}];l.deepEqual(ve.center,X.center)||xe.push({command:Ht.setCenter,args:[X.center]}),l.deepEqual(ve.zoom,X.zoom)||xe.push({command:Ht.setZoom,args:[X.zoom]}),l.deepEqual(ve.bearing,X.bearing)||xe.push({command:Ht.setBearing,args:[X.bearing]}),l.deepEqual(ve.pitch,X.pitch)||xe.push({command:Ht.setPitch,args:[X.pitch]}),l.deepEqual(ve.sprite,X.sprite)||xe.push({command:Ht.setSprite,args:[X.sprite]}),l.deepEqual(ve.glyphs,X.glyphs)||xe.push({command:Ht.setGlyphs,args:[X.glyphs]}),l.deepEqual(ve.transition,X.transition)||xe.push({command:Ht.setTransition,args:[X.transition]}),l.deepEqual(ve.light,X.light)||xe.push({command:Ht.setLight,args:[X.light]});var ne={},be=[];!function un(ve,X,xe,ne){var be;for(be in X=X||{},ve=ve||{})ve.hasOwnProperty(be)&&(X.hasOwnProperty(be)||xr(be,xe,ne));for(be in X)X.hasOwnProperty(be)&&(ve.hasOwnProperty(be)?l.deepEqual(ve[be],X[be])||("geojson"===ve[be].type&&"geojson"===X[be].type&&kr(ve,X,be)?xe.push({command:Ht.setGeoJSONSourceData,args:[be,X[be].data]}):Mr(be,X,xe,ne)):pr(be,X,xe))}(ve.sources,X.sources,be,ne);var Oe=[];ve.layers&&ve.layers.forEach(function(qe){ne[qe.source]?xe.push({command:Ht.removeLayer,args:[qe.id]}):Oe.push(qe)}),xe=xe.concat(be),function Qr(ve,X,xe){X=X||[];var Zt,ar,yr,Er,Vr,nn,tn,ne=(ve=ve||[]).map(Yr),be=X.map(Yr),Oe=ve.reduce($r,{}),qe=X.reduce($r,{}),dt=ne.slice(),Et=Object.create(null);for(Zt=0,ar=0;Zt<ne.length;Zt++)qe.hasOwnProperty(yr=ne[Zt])?ar++:(xe.push({command:Ht.removeLayer,args:[yr]}),dt.splice(dt.indexOf(yr,ar),1));for(Zt=0,ar=0;Zt<be.length;Zt++)dt[dt.length-1-Zt]!==(yr=be[be.length-1-Zt])&&(Oe.hasOwnProperty(yr)?(xe.push({command:Ht.removeLayer,args:[yr]}),dt.splice(dt.lastIndexOf(yr,dt.length-ar),1)):ar++,xe.push({command:Ht.addLayer,args:[qe[yr],nn=dt[dt.length-Zt]]}),dt.splice(dt.length-Zt,0,yr),Et[yr]=!0);for(Zt=0;Zt<be.length;Zt++)if(Er=Oe[yr=be[Zt]],Vr=qe[yr],!Et[yr]&&!l.deepEqual(Er,Vr)){if(!l.deepEqual(Er.source,Vr.source)||!l.deepEqual(Er["source-layer"],Vr["source-layer"])||!l.deepEqual(Er.type,Vr.type)){xe.push({command:Ht.removeLayer,args:[yr]}),nn=dt[dt.lastIndexOf(yr)+1],xe.push({command:Ht.addLayer,args:[Vr,nn]});continue}for(tn in Nr(Er.layout,Vr.layout,xe,yr,null,Ht.setLayoutProperty),Nr(Er.paint,Vr.paint,xe,yr,null,Ht.setPaintProperty),l.deepEqual(Er.filter,Vr.filter)||xe.push({command:Ht.setFilter,args:[yr,Vr.filter]}),(!l.deepEqual(Er.minzoom,Vr.minzoom)||!l.deepEqual(Er.maxzoom,Vr.maxzoom))&&xe.push({command:Ht.setLayerZoomRange,args:[yr,Vr.minzoom,Vr.maxzoom]}),Er)Er.hasOwnProperty(tn)&&("layout"===tn||"paint"===tn||"filter"===tn||"metadata"===tn||"minzoom"===tn||"maxzoom"===tn||(0===tn.indexOf("paint.")?Nr(Er[tn],Vr[tn],xe,yr,tn.slice(6),Ht.setPaintProperty):l.deepEqual(Er[tn],Vr[tn])||xe.push({command:Ht.setLayerProperty,args:[yr,tn,Vr[tn]]})));for(tn in Vr)!Vr.hasOwnProperty(tn)||Er.hasOwnProperty(tn)||"layout"===tn||"paint"===tn||"filter"===tn||"metadata"===tn||"minzoom"===tn||"maxzoom"===tn||(0===tn.indexOf("paint.")?Nr(Er[tn],Vr[tn],xe,yr,tn.slice(6),Ht.setPaintProperty):l.deepEqual(Er[tn],Vr[tn])||xe.push({command:Ht.setLayerProperty,args:[yr,tn,Vr[tn]]}))}}(Oe,X.layers,xe)}catch(qe){console.warn("Unable to compute style diff:",qe),xe=[{command:Ht.setStyle,args:[X]}]}return xe}var An=function(X,xe){this.reset(X,xe)};An.prototype.reset=function(X,xe){this.points=X||[],this._distances=[0];for(var ne=1;ne<this.points.length;ne++)this._distances[ne]=this._distances[ne-1]+this.points[ne].dist(this.points[ne-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(xe||0,.5*this.length),this.paddedLength=this.length-2*this.padding},An.prototype.lerp=function(X){if(1===this.points.length)return this.points[0];X=l.clamp(X,0,1);for(var xe=1,ne=this._distances[xe],be=X*this.paddedLength+this.padding;ne<be&&xe<this._distances.length;)ne=this._distances[++xe];var Oe=xe-1,qe=this._distances[Oe],dt=ne-qe,Et=dt>0?(be-qe)/dt:0;return this.points[Oe].mult(1-Et).add(this.points[xe].mult(Et))};var Tr=function(X,xe,ne){var be=this.boxCells=[],Oe=this.circleCells=[];this.xCellCount=Math.ceil(X/ne),this.yCellCount=Math.ceil(xe/ne);for(var qe=0;qe<this.xCellCount*this.yCellCount;qe++)be.push([]),Oe.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=X,this.height=xe,this.xScale=this.xCellCount/X,this.yScale=this.yCellCount/xe,this.boxUid=0,this.circleUid=0};function nr(ve,X,xe,ne,be){var Oe=l.create();return X?(l.scale(Oe,Oe,[1/be,1/be,1]),xe||l.rotateZ(Oe,Oe,ne.angle)):l.multiply(Oe,ne.labelPlaneMatrix,ve),Oe}function Xr(ve,X,xe,ne,be){if(X){var Oe=l.clone(ve);return l.scale(Oe,Oe,[be,be,1]),xe||l.rotateZ(Oe,Oe,-ne.angle),Oe}return ne.glCoordMatrix}function Ur(ve,X){var xe=[ve.x,ve.y,0,1];Ir(xe,xe,X);var ne=xe[3];return{point:new l.Point(xe[0]/ne,xe[1]/ne),signedDistanceFromCamera:ne}}function an(ve,X){return.5+ve/X*.5}function Cn(ve,X){var xe=ve[0]/ve[3],ne=ve[1]/ve[3];return xe>=-X[0]&&xe<=X[0]&&ne>=-X[1]&&ne<=X[1]}function En(ve,X,xe,ne,be,Oe,qe,dt){var Et=ne?ve.textSizeData:ve.iconSizeData,Zt=l.evaluateSizeForZoom(Et,xe.transform.zoom),ar=[256/xe.width*2+1,256/xe.height*2+1],yr=ne?ve.text.dynamicLayoutVertexArray:ve.icon.dynamicLayoutVertexArray;yr.clear();for(var Er=ve.lineVertexArray,Vr=ne?ve.text.placedSymbolArray:ve.icon.placedSymbolArray,nn=xe.transform.width/xe.transform.height,tn=!1,Jr=0;Jr<Vr.length;Jr++){var ln=Vr.get(Jr);if(ln.hidden||ln.writingMode===l.WritingMode.vertical&&!tn)hi(ln.numGlyphs,yr);else{tn=!1;var wn=[ln.anchorX,ln.anchorY,0,1];if(l.transformMat4(wn,wn,X),Cn(wn,ar)){var jn=an(xe.transform.cameraToCenterDistance,wn[3]),ui=l.evaluateSizeForFeature(Et,Zt,ln),ni=qe?ui/jn:ui*jn,ci=new l.Point(ln.anchorX,ln.anchorY),Ai=Ur(ci,be).point,Pi={},Ri=vi(ln,ni,!1,dt,X,be,Oe,ve.glyphOffsetArray,Er,yr,Ai,ci,Pi,nn);tn=Ri.useVertical,(Ri.notEnoughRoom||tn||Ri.needsFlipping&&vi(ln,ni,!0,dt,X,be,Oe,ve.glyphOffsetArray,Er,yr,Ai,ci,Pi,nn).notEnoughRoom)&&hi(ln.numGlyphs,yr)}else hi(ln.numGlyphs,yr)}}ne?ve.text.dynamicLayoutVertexBuffer.updateData(yr):ve.icon.dynamicLayoutVertexBuffer.updateData(yr)}function Fn(ve,X,xe,ne,be,Oe,qe,dt,Et,Zt,ar){var yr=dt.glyphStartIndex+dt.numGlyphs,Er=dt.lineStartIndex,Vr=dt.lineStartIndex+dt.lineLength,nn=X.getoffsetX(dt.glyphStartIndex),tn=X.getoffsetX(yr-1),Jr=bi(ve*nn,xe,ne,be,Oe,qe,dt.segment,Er,Vr,Et,Zt,ar);if(!Jr)return null;var ln=bi(ve*tn,xe,ne,be,Oe,qe,dt.segment,Er,Vr,Et,Zt,ar);return ln?{first:Jr,last:ln}:null}function Vn(ve,X,xe,ne){return ve===l.WritingMode.horizontal&&Math.abs(xe.y-X.y)>Math.abs(xe.x-X.x)*ne?{useVertical:!0}:(ve===l.WritingMode.vertical?X.y<xe.y:X.x>xe.x)?{needsFlipping:!0}:null}function vi(ve,X,xe,ne,be,Oe,qe,dt,Et,Zt,ar,yr,Er,Vr){var ln,nn=X/24,tn=ve.lineOffsetX*nn,Jr=ve.lineOffsetY*nn;if(ve.numGlyphs>1){var wn=ve.glyphStartIndex+ve.numGlyphs,Un=ve.lineStartIndex,jn=ve.lineStartIndex+ve.lineLength,ui=Fn(nn,dt,tn,Jr,xe,ar,yr,ve,Et,Oe,Er);if(!ui)return{notEnoughRoom:!0};var ni=Ur(ui.first.point,qe).point,ci=Ur(ui.last.point,qe).point;if(ne&&!xe){var Ai=Vn(ve.writingMode,ni,ci,Vr);if(Ai)return Ai}ln=[ui.first];for(var Pi=ve.glyphStartIndex+1;Pi<wn-1;Pi++)ln.push(bi(nn*dt.getoffsetX(Pi),tn,Jr,xe,ar,yr,ve.segment,Un,jn,Et,Oe,Er));ln.push(ui.last)}else{if(ne&&!xe){var Ri=Ur(yr,be).point,Oi=ve.lineStartIndex+ve.segment+1,Vi=new l.Point(Et.getx(Oi),Et.gety(Oi)),ra=Ur(Vi,be),ca=ra.signedDistanceFromCamera>0?ra.point:li(yr,Vi,Ri,1,be),Oa=Vn(ve.writingMode,Ri,ca,Vr);if(Oa)return Oa}var da=bi(nn*dt.getoffsetX(ve.glyphStartIndex),tn,Jr,xe,ar,yr,ve.segment,ve.lineStartIndex,ve.lineStartIndex+ve.lineLength,Et,Oe,Er);if(!da)return{notEnoughRoom:!0};ln=[da]}for(var Aa=0,Xi=ln;Aa<Xi.length;Aa+=1){var Ia=Xi[Aa];l.addDynamicAttributes(Zt,Ia.point,Ia.angle)}return{}}function li(ve,X,xe,ne,be){var Oe=Ur(ve.add(ve.sub(X)._unit()),be).point,qe=xe.sub(Oe);return xe.add(qe._mult(ne/qe.mag()))}function bi(ve,X,xe,ne,be,Oe,qe,dt,Et,Zt,ar,yr){var Er=ne?ve-X:ve+X,Vr=Er>0?1:-1,nn=0;ne&&(Vr*=-1,nn=Math.PI),Vr<0&&(nn+=Math.PI);for(var tn=Vr>0?dt+qe:dt+qe+1,Jr=be,ln=be,wn=0,Un=0,jn=Math.abs(Er),ui=[];wn+Un<=jn;){if((tn+=Vr)<dt||tn>=Et)return null;if(ln=Jr,ui.push(Jr),void 0===(Jr=yr[tn])){var ni=new l.Point(Zt.getx(tn),Zt.gety(tn)),ci=Ur(ni,ar);if(ci.signedDistanceFromCamera>0)Jr=yr[tn]=ci.point;else{var Ai=tn-Vr;Jr=li(0===wn?Oe:new l.Point(Zt.getx(Ai),Zt.gety(Ai)),ni,ln,jn-wn+1,ar)}}wn+=Un,Un=ln.dist(Jr)}var Ri=(jn-wn)/Un,Oi=Jr.sub(ln),Vi=Oi.mult(Ri)._add(ln);Vi._add(Oi._unit()._perp()._mult(xe*Vr));var ra=nn+Math.atan2(Jr.y-ln.y,Jr.x-ln.x);return ui.push(Vi),{point:Vi,angle:ra,path:ui}}Tr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Tr.prototype.insert=function(X,xe,ne,be,Oe){this._forEachCell(xe,ne,be,Oe,this._insertBoxCell,this.boxUid++),this.boxKeys.push(X),this.bboxes.push(xe),this.bboxes.push(ne),this.bboxes.push(be),this.bboxes.push(Oe)},Tr.prototype.insertCircle=function(X,xe,ne,be){this._forEachCell(xe-be,ne-be,xe+be,ne+be,this._insertCircleCell,this.circleUid++),this.circleKeys.push(X),this.circles.push(xe),this.circles.push(ne),this.circles.push(be)},Tr.prototype._insertBoxCell=function(X,xe,ne,be,Oe,qe){this.boxCells[Oe].push(qe)},Tr.prototype._insertCircleCell=function(X,xe,ne,be,Oe,qe){this.circleCells[Oe].push(qe)},Tr.prototype._query=function(X,xe,ne,be,Oe,qe){if(ne<0||X>this.width||be<0||xe>this.height)return!Oe&&[];var dt=[];if(X<=0&&xe<=0&&this.width<=ne&&this.height<=be){if(Oe)return!0;for(var Et=0;Et<this.boxKeys.length;Et++)dt.push({key:this.boxKeys[Et],x1:this.bboxes[4*Et],y1:this.bboxes[4*Et+1],x2:this.bboxes[4*Et+2],y2:this.bboxes[4*Et+3]});for(var Zt=0;Zt<this.circleKeys.length;Zt++){var ar=this.circles[3*Zt],yr=this.circles[3*Zt+1],Er=this.circles[3*Zt+2];dt.push({key:this.circleKeys[Zt],x1:ar-Er,y1:yr-Er,x2:ar+Er,y2:yr+Er})}return qe?dt.filter(qe):dt}return this._forEachCell(X,xe,ne,be,this._queryCell,dt,{hitTest:Oe,seenUids:{box:{},circle:{}}},qe),Oe?dt.length>0:dt},Tr.prototype._queryCircle=function(X,xe,ne,be,Oe){var qe=X-ne,dt=X+ne,Et=xe-ne,Zt=xe+ne;if(dt<0||qe>this.width||Zt<0||Et>this.height)return!be&&[];var ar=[];return this._forEachCell(qe,Et,dt,Zt,this._queryCellCircle,ar,{hitTest:be,circle:{x:X,y:xe,radius:ne},seenUids:{box:{},circle:{}}},Oe),be?ar.length>0:ar},Tr.prototype.query=function(X,xe,ne,be,Oe){return this._query(X,xe,ne,be,!1,Oe)},Tr.prototype.hitTest=function(X,xe,ne,be,Oe){return this._query(X,xe,ne,be,!0,Oe)},Tr.prototype.hitTestCircle=function(X,xe,ne,be){return this._queryCircle(X,xe,ne,!0,be)},Tr.prototype._queryCell=function(X,xe,ne,be,Oe,qe,dt,Et){var Zt=dt.seenUids,ar=this.boxCells[Oe];if(null!==ar)for(var yr=this.bboxes,Er=0,Vr=ar;Er<Vr.length;Er+=1){var nn=Vr[Er];if(!Zt.box[nn]){Zt.box[nn]=!0;var tn=4*nn;if(X<=yr[tn+2]&&xe<=yr[tn+3]&&ne>=yr[tn+0]&&be>=yr[tn+1]&&(!Et||Et(this.boxKeys[nn]))){if(dt.hitTest)return qe.push(!0),!0;qe.push({key:this.boxKeys[nn],x1:yr[tn],y1:yr[tn+1],x2:yr[tn+2],y2:yr[tn+3]})}}}var Jr=this.circleCells[Oe];if(null!==Jr)for(var ln=this.circles,wn=0,Un=Jr;wn<Un.length;wn+=1){var jn=Un[wn];if(!Zt.circle[jn]){Zt.circle[jn]=!0;var ui=3*jn;if(this._circleAndRectCollide(ln[ui],ln[ui+1],ln[ui+2],X,xe,ne,be)&&(!Et||Et(this.circleKeys[jn]))){if(dt.hitTest)return qe.push(!0),!0;var ni=ln[ui],ci=ln[ui+1],Ai=ln[ui+2];qe.push({key:this.circleKeys[jn],x1:ni-Ai,y1:ci-Ai,x2:ni+Ai,y2:ci+Ai})}}}},Tr.prototype._queryCellCircle=function(X,xe,ne,be,Oe,qe,dt,Et){var Zt=dt.circle,ar=dt.seenUids,yr=this.boxCells[Oe];if(null!==yr)for(var Er=this.bboxes,Vr=0,nn=yr;Vr<nn.length;Vr+=1){var tn=nn[Vr];if(!ar.box[tn]){ar.box[tn]=!0;var Jr=4*tn;if(this._circleAndRectCollide(Zt.x,Zt.y,Zt.radius,Er[Jr+0],Er[Jr+1],Er[Jr+2],Er[Jr+3])&&(!Et||Et(this.boxKeys[tn])))return qe.push(!0),!0}}var ln=this.circleCells[Oe];if(null!==ln)for(var wn=this.circles,Un=0,jn=ln;Un<jn.length;Un+=1){var ui=jn[Un];if(!ar.circle[ui]){ar.circle[ui]=!0;var ni=3*ui;if(this._circlesCollide(wn[ni],wn[ni+1],wn[ni+2],Zt.x,Zt.y,Zt.radius)&&(!Et||Et(this.circleKeys[ui])))return qe.push(!0),!0}}},Tr.prototype._forEachCell=function(X,xe,ne,be,Oe,qe,dt,Et){for(var Zt=this._convertToXCellCoord(X),ar=this._convertToYCellCoord(xe),yr=this._convertToXCellCoord(ne),Er=this._convertToYCellCoord(be),Vr=Zt;Vr<=yr;Vr++)for(var nn=ar;nn<=Er;nn++)if(Oe.call(this,X,xe,ne,be,this.xCellCount*nn+Vr,qe,dt,Et))return},Tr.prototype._convertToXCellCoord=function(X){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(X*this.xScale)))},Tr.prototype._convertToYCellCoord=function(X){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(X*this.yScale)))},Tr.prototype._circlesCollide=function(X,xe,ne,be,Oe,qe){var dt=be-X,Et=Oe-xe,Zt=ne+qe;return Zt*Zt>dt*dt+Et*Et},Tr.prototype._circleAndRectCollide=function(X,xe,ne,be,Oe,qe,dt){var Et=(qe-be)/2,Zt=Math.abs(X-(be+Et));if(Zt>Et+ne)return!1;var ar=(dt-Oe)/2,yr=Math.abs(xe-(Oe+ar));if(yr>ar+ne)return!1;if(Zt<=Et||yr<=ar)return!0;var Er=Zt-Et,Vr=yr-ar;return Er*Er+Vr*Vr<=ne*ne};var si=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function hi(ve,X){for(var xe=0;xe<ve;xe++){var ne=X.length;X.resize(ne+4),X.float32.set(si,3*ne)}}function Ir(ve,X,xe){var ne=X[0],be=X[1];return ve[0]=xe[0]*ne+xe[4]*be+xe[12],ve[1]=xe[1]*ne+xe[5]*be+xe[13],ve[3]=xe[3]*ne+xe[7]*be+xe[15],ve}var gn=100,pn=function(X,xe,ne){void 0===xe&&(xe=new Tr(X.width+200,X.height+200,25)),void 0===ne&&(ne=new Tr(X.width+200,X.height+200,25)),this.transform=X,this.grid=xe,this.ignoredGrid=ne,this.pitchfactor=Math.cos(X._pitch)*X.cameraToCenterDistance,this.screenRightBoundary=X.width+gn,this.screenBottomBoundary=X.height+gn,this.gridRightBoundary=X.width+200,this.gridBottomBoundary=X.height+200};function Dn(ve,X,xe){return X*(l.EXTENT/(ve.tileSize*Math.pow(2,xe-ve.tileID.overscaledZ)))}pn.prototype.placeCollisionBox=function(X,xe,ne,be,Oe){var qe=this.projectAndGetPerspectiveRatio(be,X.anchorPointX,X.anchorPointY),dt=ne*qe.perspectiveRatio,Et=X.x1*dt+qe.point.x,Zt=X.y1*dt+qe.point.y,ar=X.x2*dt+qe.point.x,yr=X.y2*dt+qe.point.y;return!this.isInsideGrid(Et,Zt,ar,yr)||!xe&&this.grid.hitTest(Et,Zt,ar,yr,Oe)?{box:[],offscreen:!1}:{box:[Et,Zt,ar,yr],offscreen:this.isOffscreen(Et,Zt,ar,yr)}},pn.prototype.placeCollisionCircles=function(X,xe,ne,be,Oe,qe,dt,Et,Zt,ar,yr,Er,Vr){var nn=[],tn=new l.Point(xe.anchorX,xe.anchorY),Jr=Ur(tn,qe),ln=an(this.transform.cameraToCenterDistance,Jr.signedDistanceFromCamera),Un=(ar?Oe/ln:Oe*ln)/l.ONE_EM,jn=Ur(tn,dt).point,Ai=Fn(Un,be,xe.lineOffsetX*Un,xe.lineOffsetY*Un,!1,jn,tn,xe,ne,dt,{}),Pi=!1,Ri=!1,Oi=!0;if(Ai){for(var Vi=.5*Er*ln+Vr,ra=new l.Point(-gn,-gn),ca=new l.Point(this.screenRightBoundary,this.screenBottomBoundary),Oa=new An,da=Ai.first,Aa=Ai.last,Xi=[],Ia=da.path.length-1;Ia>=1;Ia--)Xi.push(da.path[Ia]);for(var Sa=1;Sa<Aa.path.length;Sa++)Xi.push(Aa.path[Sa]);var Ka=2.5*Vi;if(Et){var Ca=Xi.map(function(af){return Ur(af,Et)});Xi=Ca.some(function(af){return af.signedDistanceFromCamera<=0})?[]:Ca.map(function(af){return af.point})}var Qa=[];if(Xi.length>0){for(var la=Xi[0].clone(),Pa=Xi[0].clone(),Ua=1;Ua<Xi.length;Ua++)la.x=Math.min(la.x,Xi[Ua].x),la.y=Math.min(la.y,Xi[Ua].y),Pa.x=Math.max(Pa.x,Xi[Ua].x),Pa.y=Math.max(Pa.y,Xi[Ua].y);Qa=la.x>=ra.x&&Pa.x<=ca.x&&la.y>=ra.y&&Pa.y<=ca.y?[Xi]:Pa.x<ra.x||la.x>ca.x||Pa.y<ra.y||la.y>ca.y?[]:l.clipLine([Xi],ra.x,ra.y,ca.x,ca.y)}for(var is=0,vo=Qa;is<vo.length;is+=1){Oa.reset(vo[is],.25*Vi);var rf;rf=Oa.length<=.5*Vi?1:Math.ceil(Oa.paddedLength/Ka)+1;for(var Ru=0;Ru<rf;Ru++){var hu=Ru/Math.max(rf-1,1),vl=Oa.lerp(hu),hs=vl.x+gn,Kl=vl.y+gn;nn.push(hs,Kl,Vi,0);var Ps=hs-Vi,pl=Kl-Vi,yl=hs+Vi,nf=Kl+Vi;if(Oi=Oi&&this.isOffscreen(Ps,pl,yl,nf),Ri=Ri||this.isInsideGrid(Ps,pl,yl,nf),!X&&this.grid.hitTestCircle(hs,Kl,Vi,yr)&&(Pi=!0,!Zt))return{circles:[],offscreen:!1,collisionDetected:Pi}}}}return{circles:!Zt&&Pi||!Ri?[]:nn,offscreen:Oi,collisionDetected:Pi}},pn.prototype.queryRenderedSymbols=function(X){if(0===X.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var xe=[],ne=1/0,be=1/0,Oe=-1/0,qe=-1/0,dt=0,Et=X;dt<Et.length;dt+=1){var Zt=Et[dt],ar=new l.Point(Zt.x+gn,Zt.y+gn);ne=Math.min(ne,ar.x),be=Math.min(be,ar.y),Oe=Math.max(Oe,ar.x),qe=Math.max(qe,ar.y),xe.push(ar)}for(var Er={},Vr={},nn=0,tn=this.grid.query(ne,be,Oe,qe).concat(this.ignoredGrid.query(ne,be,Oe,qe));nn<tn.length;nn+=1){var Jr=tn[nn],ln=Jr.key;if(void 0===Er[ln.bucketInstanceId]&&(Er[ln.bucketInstanceId]={}),!Er[ln.bucketInstanceId][ln.featureIndex]){var wn=[new l.Point(Jr.x1,Jr.y1),new l.Point(Jr.x2,Jr.y1),new l.Point(Jr.x2,Jr.y2),new l.Point(Jr.x1,Jr.y2)];l.polygonIntersectsPolygon(xe,wn)&&(Er[ln.bucketInstanceId][ln.featureIndex]=!0,void 0===Vr[ln.bucketInstanceId]&&(Vr[ln.bucketInstanceId]=[]),Vr[ln.bucketInstanceId].push(ln.featureIndex))}}return Vr},pn.prototype.insertCollisionBox=function(X,xe,ne,be,Oe){(xe?this.ignoredGrid:this.grid).insert({bucketInstanceId:ne,featureIndex:be,collisionGroupID:Oe},X[0],X[1],X[2],X[3])},pn.prototype.insertCollisionCircles=function(X,xe,ne,be,Oe){for(var qe=xe?this.ignoredGrid:this.grid,dt={bucketInstanceId:ne,featureIndex:be,collisionGroupID:Oe},Et=0;Et<X.length;Et+=4)qe.insertCircle(dt,X[Et],X[Et+1],X[Et+2])},pn.prototype.projectAndGetPerspectiveRatio=function(X,xe,ne){var be=[xe,ne,0,1];return Ir(be,be,X),{point:new l.Point((be[0]/be[3]+1)/2*this.transform.width+gn,(-be[1]/be[3]+1)/2*this.transform.height+gn),perspectiveRatio:.5+this.transform.cameraToCenterDistance/be[3]*.5}},pn.prototype.isOffscreen=function(X,xe,ne,be){return ne<gn||X>=this.screenRightBoundary||be<gn||xe>this.screenBottomBoundary},pn.prototype.isInsideGrid=function(X,xe,ne,be){return ne>=0&&X<this.gridRightBoundary&&be>=0&&xe<this.gridBottomBoundary},pn.prototype.getViewportMatrix=function(){var X=l.identity([]);return l.translate(X,X,[-gn,-gn,0]),X};var qn=function(X,xe,ne,be){this.opacity=X?Math.max(0,Math.min(1,X.opacity+(X.placed?xe:-xe))):be&&ne?1:0,this.placed=ne};qn.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Nn=function(X,xe,ne,be,Oe){this.text=new qn(X?X.text:null,xe,ne,Oe),this.icon=new qn(X?X.icon:null,xe,be,Oe)};Nn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var zn=function(X,xe,ne){this.text=X,this.icon=xe,this.skipFade=ne},Qn=function(){this.invProjMatrix=l.create(),this.viewportMatrix=l.create(),this.circles=[]},ii=function(X,xe,ne,be,Oe){this.bucketInstanceId=X,this.featureIndex=xe,this.sourceLayerIndex=ne,this.bucketIndex=be,this.tileID=Oe},$n=function(X){this.crossSourceCollisions=X,this.maxGroupID=0,this.collisionGroups={}};function ha(ve,X,xe,ne,be){var Oe=l.getAnchorAlignment(ve),Et=-(Oe.horizontalAlign-.5)*X,Zt=-(Oe.verticalAlign-.5)*xe,ar=l.evaluateVariableOffset(ve,ne);return new l.Point(Et+ar[0]*be,Zt+ar[1]*be)}function qt(ve,X,xe,ne,be,Oe){var qe=ve.x1,dt=ve.x2,Et=ve.y1,Zt=ve.y2,ar=ve.anchorPointX,yr=ve.anchorPointY,Er=new l.Point(X,xe);return ne&&Er._rotate(be?Oe:-Oe),{x1:qe+Er.x,y1:Et+Er.y,x2:dt+Er.x,y2:Zt+Er.y,anchorPointX:ar,anchorPointY:yr}}$n.prototype.get=function(X){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[X]){var xe=++this.maxGroupID;this.collisionGroups[X]={ID:xe,predicate:function(ne){return ne.collisionGroupID===xe}}}return this.collisionGroups[X]};var Pr=function(X,xe,ne,be){this.transform=X.clone(),this.collisionIndex=new pn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=xe,this.retainedQueryData={},this.collisionGroups=new $n(ne),this.collisionCircleArrays={},this.prevPlacement=be,be&&(be.prevPlacement=void 0),this.placedOrientations={}};function jr(ve,X,xe,ne,be){ve.emplaceBack(X?1:0,xe?1:0,ne||0,be||0),ve.emplaceBack(X?1:0,xe?1:0,ne||0,be||0),ve.emplaceBack(X?1:0,xe?1:0,ne||0,be||0),ve.emplaceBack(X?1:0,xe?1:0,ne||0,be||0)}Pr.prototype.getBucketParts=function(X,xe,ne,be){var Oe=ne.getBucket(xe),qe=ne.latestFeatureIndex;if(Oe&&qe&&xe.id===Oe.layerIds[0]){var dt=ne.collisionBoxArray,Et=Oe.layers[0].layout,Zt=Math.pow(2,this.transform.zoom-ne.tileID.overscaledZ),ar=ne.tileSize/l.EXTENT,yr=this.transform.calculatePosMatrix(ne.tileID.toUnwrapped()),Er="map"===Et.get("text-pitch-alignment"),Vr="map"===Et.get("text-rotation-alignment"),nn=Dn(ne,1,this.transform.zoom),tn=nr(yr,Er,Vr,this.transform,nn),Jr=null;if(Er){var ln=Xr(yr,Er,Vr,this.transform,nn);Jr=l.multiply([],this.transform.labelPlaneMatrix,ln)}this.retainedQueryData[Oe.bucketInstanceId]=new ii(Oe.bucketInstanceId,qe,Oe.sourceLayerIndex,Oe.index,ne.tileID);var wn={bucket:Oe,layout:Et,posMatrix:yr,textLabelPlaneMatrix:tn,labelToScreenMatrix:Jr,scale:Zt,textPixelRatio:ar,holdingForFade:ne.holdingForFade(),collisionBoxArray:dt,partiallyEvaluatedTextSize:l.evaluateSizeForZoom(Oe.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Oe.sourceID)};if(be)for(var Un=0,jn=Oe.sortKeyRanges;Un<jn.length;Un+=1){var ui=jn[Un];X.push({sortKey:ui.sortKey,symbolInstanceStart:ui.symbolInstanceStart,symbolInstanceEnd:ui.symbolInstanceEnd,parameters:wn})}else X.push({symbolInstanceStart:0,symbolInstanceEnd:Oe.symbolInstances.length,parameters:wn})}},Pr.prototype.attemptAnchorPlacement=function(X,xe,ne,be,Oe,qe,dt,Et,Zt,ar,yr,Er,Vr,nn,tn){var jn,Jr=[Er.textOffset0,Er.textOffset1],ln=ha(X,ne,be,Jr,Oe),wn=this.collisionIndex.placeCollisionBox(qt(xe,ln.x,ln.y,qe,dt,this.transform.angle),yr,Et,Zt,ar.predicate);if(!tn||0!==this.collisionIndex.placeCollisionBox(qt(tn,ln.x,ln.y,qe,dt,this.transform.angle),yr,Et,Zt,ar.predicate).box.length)return wn.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Er.crossTileID]&&this.prevPlacement.placements[Er.crossTileID]&&this.prevPlacement.placements[Er.crossTileID].text&&(jn=this.prevPlacement.variableOffsets[Er.crossTileID].anchor),this.variableOffsets[Er.crossTileID]={textOffset:Jr,width:ne,height:be,anchor:X,textBoxScale:Oe,prevAnchor:jn},this.markUsedJustification(Vr,X,Er,nn),Vr.allowVerticalPlacement&&(this.markUsedOrientation(Vr,nn,Er),this.placedOrientations[Er.crossTileID]=nn),{shift:ln,placedGlyphBoxes:wn}):void 0},Pr.prototype.placeLayerBucketPart=function(X,xe,ne){var be=this,Oe=X.parameters,qe=Oe.bucket,dt=Oe.layout,Et=Oe.posMatrix,Zt=Oe.textLabelPlaneMatrix,ar=Oe.labelToScreenMatrix,yr=Oe.textPixelRatio,Er=Oe.holdingForFade,Vr=Oe.collisionBoxArray,nn=Oe.partiallyEvaluatedTextSize,tn=Oe.collisionGroup,Jr=dt.get("text-optional"),ln=dt.get("icon-optional"),wn=dt.get("text-allow-overlap"),Un=dt.get("icon-allow-overlap"),jn="map"===dt.get("text-rotation-alignment"),ui="map"===dt.get("text-pitch-alignment"),ni="none"!==dt.get("icon-text-fit"),ci="viewport-y"===dt.get("symbol-z-order"),Ai=wn&&(Un||!qe.hasIconData()||ln),Pi=Un&&(wn||!qe.hasTextData()||Jr);!qe.collisionArrays&&Vr&&qe.deserializeCollisionBoxes(Vr);var Ri=function(da,Aa){if(!xe[da.crossTileID]){if(Er)return void(be.placements[da.crossTileID]=new zn(!1,!1,!1));var la,Xi=!1,Ia=!1,Sa=!0,Ka=null,Ca={box:null,offscreen:null},Qa={box:null,offscreen:null},Pa=null,Ua=null,is=0,vo=0,Rl=0;Aa.textFeatureIndex?is=Aa.textFeatureIndex:da.useRuntimeCollisionCircles&&(is=da.featureIndex),Aa.verticalTextFeatureIndex&&(vo=Aa.verticalTextFeatureIndex);var rf=Aa.textBox;if(rf){var Ru=function(jo){var Do=l.WritingMode.horizontal;if(qe.allowVerticalPlacement&&!jo&&be.prevPlacement){var Ms=be.prevPlacement.placedOrientations[da.crossTileID];Ms&&(be.placedOrientations[da.crossTileID]=Ms,be.markUsedOrientation(qe,Do=Ms,da))}return Do},hu=function(jo,Do){if(qe.allowVerticalPlacement&&da.numVerticalGlyphVertices>0&&Aa.verticalTextBox)for(var Ms=0,Rh=qe.writingModes;Ms<Rh.length&&(Rh[Ms]===l.WritingMode.vertical?(Ca=Do(),Qa=Ca):Ca=jo(),!(Ca&&Ca.box&&Ca.box.length));Ms+=1);else Ca=jo()};if(dt.get("text-variable-anchor")){var Ps=dt.get("text-variable-anchor");if(be.prevPlacement&&be.prevPlacement.variableOffsets[da.crossTileID]){var pl=be.prevPlacement.variableOffsets[da.crossTileID];Ps.indexOf(pl.anchor)>0&&(Ps=Ps.filter(function(jo){return jo!==pl.anchor})).unshift(pl.anchor)}var yl=function(jo,Do,Ms){for(var Rh=jo.x2-jo.x1,qc=jo.y2-jo.y1,Fh=da.textBoxScale,n0=ni&&!Un?Do:null,sd={box:[],offscreen:!1},a0=wn?2*Ps.length:Ps.length,_d=0;_d<a0;++_d){var qf=be.attemptAnchorPlacement(Ps[_d%Ps.length],jo,Rh,qc,Fh,jn,ui,yr,Et,tn,_d>=Ps.length,da,qe,Ms,n0);if(qf&&(sd=qf.placedGlyphBoxes)&&sd.box&&sd.box.length){Xi=!0,Ka=qf.shift;break}}return sd};hu(function(){return yl(rf,Aa.iconBox,l.WritingMode.horizontal)},function(){var jo=Aa.verticalTextBox;return qe.allowVerticalPlacement&&!(Ca&&Ca.box&&Ca.box.length)&&da.numVerticalGlyphVertices>0&&jo?yl(jo,Aa.verticalIconBox,l.WritingMode.vertical):{box:null,offscreen:null}}),Ca&&(Xi=Ca.box,Sa=Ca.offscreen);var Gd=Ru(Ca&&Ca.box);if(!Xi&&be.prevPlacement){var $c=be.prevPlacement.variableOffsets[da.crossTileID];$c&&(be.variableOffsets[da.crossTileID]=$c,be.markUsedJustification(qe,$c.anchor,da,Gd))}}else{var vl=function(jo,Do){var Ms=be.collisionIndex.placeCollisionBox(jo,wn,yr,Et,tn.predicate);return Ms&&Ms.box&&Ms.box.length&&(be.markUsedOrientation(qe,Do,da),be.placedOrientations[da.crossTileID]=Do),Ms};hu(function(){return vl(rf,l.WritingMode.horizontal)},function(){var jo=Aa.verticalTextBox;return qe.allowVerticalPlacement&&da.numVerticalGlyphVertices>0&&jo?vl(jo,l.WritingMode.vertical):{box:null,offscreen:null}}),Ru(Ca&&Ca.box&&Ca.box.length)}}if(Xi=(la=Ca)&&la.box&&la.box.length>0,Sa=la&&la.offscreen,da.useRuntimeCollisionCircles){var _s=qe.text.placedSymbolArray.get(da.centerJustifiedTextSymbolIndex),id=l.evaluateSizeForFeature(qe.textSizeData,nn,_s),ml=dt.get("text-padding");Pa=be.collisionIndex.placeCollisionCircles(wn,_s,qe.lineVertexArray,qe.glyphOffsetArray,id,Et,Zt,ar,ne,ui,tn.predicate,da.collisionCircleDiameter,ml),Xi=wn||Pa.circles.length>0&&!Pa.collisionDetected,Sa=Sa&&Pa.offscreen}if(Aa.iconFeatureIndex&&(Rl=Aa.iconFeatureIndex),Aa.iconBox){var wf=function(jo){var Do=ni&&Ka?qt(jo,Ka.x,Ka.y,jn,ui,be.transform.angle):jo;return be.collisionIndex.placeCollisionBox(Do,Un,yr,Et,tn.predicate)};Ia=Qa&&Qa.box&&Qa.box.length&&Aa.verticalIconBox?(Ua=wf(Aa.verticalIconBox)).box.length>0:(Ua=wf(Aa.iconBox)).box.length>0,Sa=Sa&&Ua.offscreen}var od=Jr||0===da.numHorizontalGlyphVertices&&0===da.numVerticalGlyphVertices,Vv=ln||0===da.numIconVertices;if(od||Vv?Vv?od||(Ia=Ia&&Xi):Xi=Ia&&Xi:Ia=Xi=Ia&&Xi,Xi&&la&&la.box&&be.collisionIndex.insertCollisionBox(la.box,dt.get("text-ignore-placement"),qe.bucketInstanceId,Qa&&Qa.box&&vo?vo:is,tn.ID),Ia&&Ua&&be.collisionIndex.insertCollisionBox(Ua.box,dt.get("icon-ignore-placement"),qe.bucketInstanceId,Rl,tn.ID),Pa&&(Xi&&be.collisionIndex.insertCollisionCircles(Pa.circles,dt.get("text-ignore-placement"),qe.bucketInstanceId,is,tn.ID),ne)){var $o=qe.bucketInstanceId,Qc=be.collisionCircleArrays[$o];void 0===Qc&&(Qc=be.collisionCircleArrays[$o]=new Qn);for(var sf=0;sf<Pa.circles.length;sf+=4)Qc.circles.push(Pa.circles[sf+0]),Qc.circles.push(Pa.circles[sf+1]),Qc.circles.push(Pa.circles[sf+2]),Qc.circles.push(Pa.collisionDetected?1:0)}be.placements[da.crossTileID]=new zn(Xi||Ai,Ia||Pi,Sa||qe.justReloaded),xe[da.crossTileID]=!0}};if(ci)for(var Oi=qe.getSortedSymbolIndexes(this.transform.angle),Vi=Oi.length-1;Vi>=0;--Vi){var ra=Oi[Vi];Ri(qe.symbolInstances.get(ra),qe.collisionArrays[ra])}else for(var ca=X.symbolInstanceStart;ca<X.symbolInstanceEnd;ca++)Ri(qe.symbolInstances.get(ca),qe.collisionArrays[ca]);if(ne&&qe.bucketInstanceId in this.collisionCircleArrays){var Oa=this.collisionCircleArrays[qe.bucketInstanceId];l.invert(Oa.invProjMatrix,Et),Oa.viewportMatrix=this.collisionIndex.getViewportMatrix()}qe.justReloaded=!1},Pr.prototype.markUsedJustification=function(X,xe,ne,be){var qe;qe=be===l.WritingMode.vertical?ne.verticalPlacedTextSymbolIndex:{left:ne.leftJustifiedTextSymbolIndex,center:ne.centerJustifiedTextSymbolIndex,right:ne.rightJustifiedTextSymbolIndex}[l.getAnchorJustification(xe)];for(var Et=0,Zt=[ne.leftJustifiedTextSymbolIndex,ne.centerJustifiedTextSymbolIndex,ne.rightJustifiedTextSymbolIndex,ne.verticalPlacedTextSymbolIndex];Et<Zt.length;Et+=1){var ar=Zt[Et];ar>=0&&(X.text.placedSymbolArray.get(ar).crossTileID=qe>=0&&ar!==qe?0:ne.crossTileID)}},Pr.prototype.markUsedOrientation=function(X,xe,ne){for(var be=xe===l.WritingMode.horizontal||xe===l.WritingMode.horizontalOnly?xe:0,Oe=xe===l.WritingMode.vertical?xe:0,dt=0,Et=[ne.leftJustifiedTextSymbolIndex,ne.centerJustifiedTextSymbolIndex,ne.rightJustifiedTextSymbolIndex];dt<Et.length;dt+=1)X.text.placedSymbolArray.get(Et[dt]).placedOrientation=be;ne.verticalPlacedTextSymbolIndex&&(X.text.placedSymbolArray.get(ne.verticalPlacedTextSymbolIndex).placedOrientation=Oe)},Pr.prototype.commit=function(X){this.commitTime=X,this.zoomAtLastRecencyCheck=this.transform.zoom;var xe=this.prevPlacement,ne=!1;this.prevZoomAdjustment=xe?xe.zoomAdjustment(this.transform.zoom):0;var be=xe?xe.symbolFadeChange(X):1,Oe=xe?xe.opacities:{},qe=xe?xe.variableOffsets:{},dt=xe?xe.placedOrientations:{};for(var Et in this.placements){var Zt=this.placements[Et],ar=Oe[Et];ar?(this.opacities[Et]=new Nn(ar,be,Zt.text,Zt.icon),ne=ne||Zt.text!==ar.text.placed||Zt.icon!==ar.icon.placed):(this.opacities[Et]=new Nn(null,be,Zt.text,Zt.icon,Zt.skipFade),ne=ne||Zt.text||Zt.icon)}for(var yr in Oe){var Er=Oe[yr];if(!this.opacities[yr]){var Vr=new Nn(Er,be,!1,!1);Vr.isHidden()||(this.opacities[yr]=Vr,ne=ne||Er.text.placed||Er.icon.placed)}}for(var nn in qe)!this.variableOffsets[nn]&&this.opacities[nn]&&!this.opacities[nn].isHidden()&&(this.variableOffsets[nn]=qe[nn]);for(var tn in dt)!this.placedOrientations[tn]&&this.opacities[tn]&&!this.opacities[tn].isHidden()&&(this.placedOrientations[tn]=dt[tn]);ne?this.lastPlacementChangeTime=X:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=xe?xe.lastPlacementChangeTime:X)},Pr.prototype.updateLayerOpacities=function(X,xe){for(var ne={},be=0,Oe=xe;be<Oe.length;be+=1){var qe=Oe[be],dt=qe.getBucket(X);dt&&qe.latestFeatureIndex&&X.id===dt.layerIds[0]&&this.updateBucketOpacities(dt,ne,qe.collisionBoxArray)}},Pr.prototype.updateBucketOpacities=function(X,xe,ne){var be=this;X.hasTextData()&&X.text.opacityVertexArray.clear(),X.hasIconData()&&X.icon.opacityVertexArray.clear(),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexArray.clear(),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexArray.clear();var Oe=X.layers[0].layout,qe=new Nn(null,0,!1,!1,!0),dt=Oe.get("text-allow-overlap"),Et=Oe.get("icon-allow-overlap"),Zt=Oe.get("text-variable-anchor"),ar="map"===Oe.get("text-rotation-alignment"),yr="map"===Oe.get("text-pitch-alignment"),Er="none"!==Oe.get("icon-text-fit"),Vr=new Nn(null,0,dt&&(Et||!X.hasIconData()||Oe.get("icon-optional")),Et&&(dt||!X.hasTextData()||Oe.get("text-optional")),!0);!X.collisionArrays&&ne&&(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData())&&X.deserializeCollisionBoxes(ne);for(var nn=function(wn,Un,jn){for(var ui=0;ui<Un/4;ui++)wn.opacityVertexArray.emplaceBack(jn)},tn=function(wn){var Un=X.symbolInstances.get(wn),jn=Un.numHorizontalGlyphVertices,ui=Un.numVerticalGlyphVertices,ni=Un.crossTileID,Ai=be.opacities[ni];xe[ni]?Ai=qe:Ai||(be.opacities[ni]=Ai=Vr),xe[ni]=!0;var Ri=Un.numIconVertices>0,Oi=be.placedOrientations[Un.crossTileID],Vi=Oi===l.WritingMode.vertical,ra=Oi===l.WritingMode.horizontal||Oi===l.WritingMode.horizontalOnly;if(jn>0||ui>0){var ca=Gr(Ai.text);nn(X.text,jn,Vi?Mn:ca),nn(X.text,ui,ra?Mn:ca);var Aa=Ai.text.isHidden();[Un.rightJustifiedTextSymbolIndex,Un.centerJustifiedTextSymbolIndex,Un.leftJustifiedTextSymbolIndex].forEach(function(Rl){Rl>=0&&(X.text.placedSymbolArray.get(Rl).hidden=Aa||Vi?1:0)}),Un.verticalPlacedTextSymbolIndex>=0&&(X.text.placedSymbolArray.get(Un.verticalPlacedTextSymbolIndex).hidden=Aa||ra?1:0);var Xi=be.variableOffsets[Un.crossTileID];Xi&&be.markUsedJustification(X,Xi.anchor,Un,Oi);var Ia=be.placedOrientations[Un.crossTileID];Ia&&(be.markUsedJustification(X,"left",Un,Ia),be.markUsedOrientation(X,Ia,Un))}if(Ri){var Sa=Gr(Ai.icon),Ka=!(Er&&Un.verticalPlacedIconSymbolIndex&&Vi);Un.placedIconSymbolIndex>=0&&(nn(X.icon,Un.numIconVertices,Ka?Sa:Mn),X.icon.placedSymbolArray.get(Un.placedIconSymbolIndex).hidden=Ai.icon.isHidden()),Un.verticalPlacedIconSymbolIndex>=0&&(nn(X.icon,Un.numVerticalIconVertices,Ka?Mn:Sa),X.icon.placedSymbolArray.get(Un.verticalPlacedIconSymbolIndex).hidden=Ai.icon.isHidden())}if(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData()){var la=X.collisionArrays[wn];if(la){var Pa=new l.Point(0,0);if(la.textBox||la.verticalTextBox){var Ua=!0;if(Zt){var is=be.variableOffsets[ni];is?(Pa=ha(is.anchor,is.width,is.height,is.textOffset,is.textBoxScale),ar&&Pa._rotate(yr?be.transform.angle:-be.transform.angle)):Ua=!1}la.textBox&&jr(X.textCollisionBox.collisionVertexArray,Ai.text.placed,!Ua||Vi,Pa.x,Pa.y),la.verticalTextBox&&jr(X.textCollisionBox.collisionVertexArray,Ai.text.placed,!Ua||ra,Pa.x,Pa.y)}var vo=!(ra||!la.verticalIconBox);la.iconBox&&jr(X.iconCollisionBox.collisionVertexArray,Ai.icon.placed,vo,Er?Pa.x:0,Er?Pa.y:0),la.verticalIconBox&&jr(X.iconCollisionBox.collisionVertexArray,Ai.icon.placed,!vo,Er?Pa.x:0,Er?Pa.y:0)}}},Jr=0;Jr<X.symbolInstances.length;Jr++)tn(Jr);if(X.sortFeatures(this.transform.angle),this.retainedQueryData[X.bucketInstanceId]&&(this.retainedQueryData[X.bucketInstanceId].featureSortOrder=X.featureSortOrder),X.hasTextData()&&X.text.opacityVertexBuffer&&X.text.opacityVertexBuffer.updateData(X.text.opacityVertexArray),X.hasIconData()&&X.icon.opacityVertexBuffer&&X.icon.opacityVertexBuffer.updateData(X.icon.opacityVertexArray),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexBuffer&&X.iconCollisionBox.collisionVertexBuffer.updateData(X.iconCollisionBox.collisionVertexArray),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexBuffer&&X.textCollisionBox.collisionVertexBuffer.updateData(X.textCollisionBox.collisionVertexArray),X.bucketInstanceId in this.collisionCircleArrays){var ln=this.collisionCircleArrays[X.bucketInstanceId];X.placementInvProjMatrix=ln.invProjMatrix,X.placementViewportMatrix=ln.viewportMatrix,X.collisionCircleArray=ln.circles,delete this.collisionCircleArrays[X.bucketInstanceId]}},Pr.prototype.symbolFadeChange=function(X){return 0===this.fadeDuration?1:(X-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Pr.prototype.zoomAdjustment=function(X){return Math.max(0,(this.transform.zoom-X)/1.5)},Pr.prototype.hasTransitions=function(X){return this.stale||X-this.lastPlacementChangeTime<this.fadeDuration},Pr.prototype.stillRecent=function(X,xe){var ne=this.zoomAtLastRecencyCheck===xe?1-this.zoomAdjustment(xe):1;return this.zoomAtLastRecencyCheck=xe,this.commitTime+this.fadeDuration*ne>X},Pr.prototype.setStale=function(){this.stale=!0};var bn=Math.pow(2,25),vn=Math.pow(2,24),Bn=Math.pow(2,17),In=Math.pow(2,16),Tn=Math.pow(2,9),Br=Math.pow(2,8),Or=Math.pow(2,1);function Gr(ve){if(0===ve.opacity&&!ve.placed)return 0;if(1===ve.opacity&&ve.placed)return 4294967295;var X=ve.placed?1:0,xe=Math.floor(127*ve.opacity);return xe*bn+X*vn+xe*Bn+X*In+xe*Tn+X*Br+xe*Or+X}var Mn=0,Zn=function(X){this._sortAcrossTiles="viewport-y"!==X.layout.get("symbol-z-order")&&void 0!==X.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Zn.prototype.continuePlacement=function(X,xe,ne,be,Oe){for(var qe=this._bucketParts;this._currentTileIndex<X.length;)if(xe.getBucketParts(qe,be,X[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,Oe())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,qe.sort(function(Zt,ar){return Zt.sortKey-ar.sortKey}));this._currentPartIndex<qe.length;)if(xe.placeLayerBucketPart(qe[this._currentPartIndex],this._seenCrossTileIDs,ne),this._currentPartIndex++,Oe())return!0;return!1};var fi=function(X,xe,ne,be,Oe,qe,dt){this.placement=new Pr(X,Oe,qe,dt),this._currentPlacementIndex=xe.length-1,this._forceFullPlacement=ne,this._showCollisionBoxes=be,this._done=!1};fi.prototype.isDone=function(){return this._done},fi.prototype.continuePlacement=function(X,xe,ne){for(var be=this,Oe=l.browser.now(),qe=function(){var yr=l.browser.now()-Oe;return!be._forceFullPlacement&&yr>2};this._currentPlacementIndex>=0;){var Et=xe[X[this._currentPlacementIndex]],Zt=this.placement.collisionIndex.transform.zoom;if("symbol"===Et.type&&(!Et.minzoom||Et.minzoom<=Zt)&&(!Et.maxzoom||Et.maxzoom>Zt)){if(this._inProgressLayer||(this._inProgressLayer=new Zn(Et)),this._inProgressLayer.continuePlacement(ne[Et.source],this.placement,this._showCollisionBoxes,Et,qe))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},fi.prototype.commit=function(X){return this.placement.commit(X),this.placement};var dn=512/l.EXTENT/2,_n=function(X,xe,ne){this.tileID=X,this.indexedSymbolInstances={},this.bucketInstanceId=ne;for(var be=0;be<xe.length;be++){var Oe=xe.get(be),qe=Oe.key;this.indexedSymbolInstances[qe]||(this.indexedSymbolInstances[qe]=[]),this.indexedSymbolInstances[qe].push({crossTileID:Oe.crossTileID,coord:this.getScaledCoordinates(Oe,X)})}};_n.prototype.getScaledCoordinates=function(X,xe){var be=dn/Math.pow(2,xe.canonical.z-this.tileID.canonical.z);return{x:Math.floor((xe.canonical.x*l.EXTENT+X.anchorX)*be),y:Math.floor((xe.canonical.y*l.EXTENT+X.anchorY)*be)}},_n.prototype.findMatches=function(X,xe,ne){for(var be=this.tileID.canonical.z<xe.canonical.z?1:Math.pow(2,this.tileID.canonical.z-xe.canonical.z),Oe=0;Oe<X.length;Oe++){var qe=X.get(Oe);if(!qe.crossTileID){var dt=this.indexedSymbolInstances[qe.key];if(dt)for(var Et=this.getScaledCoordinates(qe,xe),Zt=0,ar=dt;Zt<ar.length;Zt+=1){var yr=ar[Zt];if(Math.abs(yr.coord.x-Et.x)<=be&&Math.abs(yr.coord.y-Et.y)<=be&&!ne[yr.crossTileID]){ne[yr.crossTileID]=!0,qe.crossTileID=yr.crossTileID;break}}}}};var gi=function(){this.maxCrossTileID=0};gi.prototype.generate=function(){return++this.maxCrossTileID};var wi=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};wi.prototype.handleWrapJump=function(X){var xe=Math.round((X-this.lng)/360);if(0!==xe)for(var ne in this.indexes){var be=this.indexes[ne],Oe={};for(var qe in be){var dt=be[qe];dt.tileID=dt.tileID.unwrapTo(dt.tileID.wrap+xe),Oe[dt.tileID.key]=dt}this.indexes[ne]=Oe}this.lng=X},wi.prototype.addBucket=function(X,xe,ne){if(this.indexes[X.overscaledZ]&&this.indexes[X.overscaledZ][X.key]){if(this.indexes[X.overscaledZ][X.key].bucketInstanceId===xe.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(X.overscaledZ,this.indexes[X.overscaledZ][X.key])}for(var be=0;be<xe.symbolInstances.length;be++)xe.symbolInstances.get(be).crossTileID=0;this.usedCrossTileIDs[X.overscaledZ]||(this.usedCrossTileIDs[X.overscaledZ]={});var qe=this.usedCrossTileIDs[X.overscaledZ];for(var dt in this.indexes){var Et=this.indexes[dt];if(Number(dt)>X.overscaledZ)for(var Zt in Et){var ar=Et[Zt];ar.tileID.isChildOf(X)&&ar.findMatches(xe.symbolInstances,X,qe)}else{var Er=Et[X.scaledTo(Number(dt)).key];Er&&Er.findMatches(xe.symbolInstances,X,qe)}}for(var Vr=0;Vr<xe.symbolInstances.length;Vr++){var nn=xe.symbolInstances.get(Vr);nn.crossTileID||(nn.crossTileID=ne.generate(),qe[nn.crossTileID]=!0)}return void 0===this.indexes[X.overscaledZ]&&(this.indexes[X.overscaledZ]={}),this.indexes[X.overscaledZ][X.key]=new _n(X,xe.symbolInstances,xe.bucketInstanceId),!0},wi.prototype.removeBucketCrossTileIDs=function(X,xe){for(var ne in xe.indexedSymbolInstances)for(var be=0,Oe=xe.indexedSymbolInstances[ne];be<Oe.length;be+=1)delete this.usedCrossTileIDs[X][Oe[be].crossTileID]},wi.prototype.removeStaleBuckets=function(X){var xe=!1;for(var ne in this.indexes){var be=this.indexes[ne];for(var Oe in be)X[be[Oe].bucketInstanceId]||(this.removeBucketCrossTileIDs(ne,be[Oe]),delete be[Oe],xe=!0)}return xe};var Fi=function(){this.layerIndexes={},this.crossTileIDs=new gi,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Fi.prototype.addLayer=function(X,xe,ne){var be=this.layerIndexes[X.id];void 0===be&&(be=this.layerIndexes[X.id]=new wi);var Oe=!1,qe={};be.handleWrapJump(ne);for(var dt=0,Et=xe;dt<Et.length;dt+=1){var Zt=Et[dt],ar=Zt.getBucket(X);!ar||X.id!==ar.layerIds[0]||(ar.bucketInstanceId||(ar.bucketInstanceId=++this.maxBucketInstanceId),be.addBucket(Zt.tileID,ar,this.crossTileIDs)&&(Oe=!0),qe[ar.bucketInstanceId]=!0)}return be.removeStaleBuckets(qe)&&(Oe=!0),Oe},Fi.prototype.pruneUnusedLayers=function(X){var xe={};for(var ne in X.forEach(function(be){xe[be]=!0}),this.layerIndexes)xe[ne]||delete this.layerIndexes[ne]};var Mi=function(ve,X){return l.emitValidationErrors(ve,X&&X.filter(function(xe){return"source.canvas"!==xe.identifier}))},mi=l.pick(Ht,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Vo=l.pick(Ht,["setCenter","setZoom","setBearing","setPitch"]),Os=function or(){var ve={},X=l.styleSpec.$version;for(var xe in l.styleSpec.$root){var ne=l.styleSpec.$root[xe];if(ne.required){var be;null!=(be="version"===xe?X:"array"===ne.type?[]:{})&&(ve[xe]=be)}}return ve}(),os=function(ve){function X(xe,ne){var be=this;void 0===ne&&(ne={}),ve.call(this),this.map=xe,this.dispatcher=new F(zt(),this),this.imageManager=new A,this.imageManager.setEventedParent(this),this.glyphManager=new E(xe._requestManager,ne.localIdeographFontFamily),this.lineAtlas=new B(256,512),this.crossTileSymbolIndex=new Fi,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new l.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",l.getReferrer());var Oe=this;this._rtlTextPluginCallback=X.registerForPluginStateChange(function(qe){Oe.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:qe.pluginStatus,pluginURL:qe.pluginURL},function(Et,Zt){if(l.triggerPluginCompletionEvent(Et),Zt&&Zt.every(function(Er){return Er}))for(var yr in Oe.sourceCaches)Oe.sourceCaches[yr].reload()})}),this.on("data",function(qe){if("source"===qe.dataType&&"metadata"===qe.sourceDataType){var dt=be.sourceCaches[qe.sourceId];if(dt){var Et=dt.getSource();if(Et&&Et.vectorLayerIds)for(var Zt in be._layers){var ar=be._layers[Zt];ar.source===Et.id&&be._validateLayer(ar)}}}})}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.loadURL=function(ne,be){var Oe=this;void 0===be&&(be={}),this.fire(new l.Event("dataloading",{dataType:"style"}));var qe="boolean"==typeof be.validate?be.validate:!l.isMapboxURL(ne);ne=this.map._requestManager.normalizeStyleURL(ne,be.accessToken);var dt=this.map._requestManager.transformRequest(ne,l.ResourceType.Style);this._request=l.getJSON(dt,function(Et,Zt){Oe._request=null,Et?Oe.fire(new l.ErrorEvent(Et)):Zt&&Oe._load(Zt,qe)})},X.prototype.loadJSON=function(ne,be){var Oe=this;void 0===be&&(be={}),this.fire(new l.Event("dataloading",{dataType:"style"})),this._request=l.browser.frame(function(){Oe._request=null,Oe._load(ne,!1!==be.validate)})},X.prototype.loadEmpty=function(){this.fire(new l.Event("dataloading",{dataType:"style"})),this._load(Os,!1)},X.prototype._load=function(ne,be){if(!be||!Mi(this,l.validateStyle(ne))){for(var Oe in this._loaded=!0,this.stylesheet=ne,ne.sources)this.addSource(Oe,ne.sources[Oe],{validate:!1});ne.sprite?this._loadSprite(ne.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ne.glyphs);var qe=vr(this.stylesheet.layers);this._order=qe.map(function(ar){return ar.id}),this._layers={},this._serializedLayers={};for(var dt=0,Et=qe;dt<Et.length;dt+=1){var Zt=Et[dt];(Zt=l.createStyleLayer(Zt)).setEventedParent(this,{layer:{id:Zt.id}}),this._layers[Zt.id]=Zt,this._serializedLayers[Zt.id]=Zt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new y(this.stylesheet.light),this.fire(new l.Event("data",{dataType:"style"})),this.fire(new l.Event("style.load"))}},X.prototype._loadSprite=function(ne){var be=this;this._spriteRequest=function d(ve,X,xe){var ne,be,Oe,qe=l.browser.devicePixelRatio>1?"@2x":"",dt=l.getJSON(X.transformRequest(X.normalizeSpriteURL(ve,qe,".json"),l.ResourceType.SpriteJSON),function(ar,yr){dt=null,Oe||(Oe=ar,ne=yr,Zt())}),Et=l.getImage(X.transformRequest(X.normalizeSpriteURL(ve,qe,".png"),l.ResourceType.SpriteImage),function(ar,yr){Et=null,Oe||(Oe=ar,be=yr,Zt())});function Zt(){if(Oe)xe(Oe);else if(ne&&be){var ar=l.browser.getImageData(be),yr={};for(var Er in ne){var Vr=ne[Er],nn=Vr.width,tn=Vr.height,Jr=Vr.x,ln=Vr.y,wn=Vr.sdf,Un=Vr.pixelRatio,jn=Vr.stretchX,ui=Vr.stretchY,ni=Vr.content,ci=new l.RGBAImage({width:nn,height:tn});l.RGBAImage.copy(ar,ci,{x:Jr,y:ln},{x:0,y:0},{width:nn,height:tn}),yr[Er]={data:ci,pixelRatio:Un,sdf:wn,stretchX:jn,stretchY:ui,content:ni}}xe(null,yr)}}return{cancel:function(){dt&&(dt.cancel(),dt=null),Et&&(Et.cancel(),Et=null)}}}(ne,this.map._requestManager,function(Oe,qe){if(be._spriteRequest=null,Oe)be.fire(new l.ErrorEvent(Oe));else if(qe)for(var dt in qe)be.imageManager.addImage(dt,qe[dt]);be.imageManager.setLoaded(!0),be._availableImages=be.imageManager.listImages(),be.dispatcher.broadcast("setImages",be._availableImages),be.fire(new l.Event("data",{dataType:"style"}))})},X.prototype._validateLayer=function(ne){var be=this.sourceCaches[ne.source];if(be){var Oe=ne.sourceLayer;if(Oe){var qe=be.getSource();("geojson"===qe.type||qe.vectorLayerIds&&-1===qe.vectorLayerIds.indexOf(Oe))&&this.fire(new l.ErrorEvent(new Error('Source layer "'+Oe+'" does not exist on source "'+qe.id+'" as specified by style layer "'+ne.id+'"')))}}},X.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var ne in this.sourceCaches)if(!this.sourceCaches[ne].loaded())return!1;return!!this.imageManager.isLoaded()},X.prototype._serializeLayers=function(ne){for(var be=[],Oe=0,qe=ne;Oe<qe.length;Oe+=1){var Et=this._layers[qe[Oe]];"custom"!==Et.type&&be.push(Et.serialize())}return be},X.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var ne in this.sourceCaches)if(this.sourceCaches[ne].hasTransition())return!0;for(var be in this._layers)if(this._layers[be].hasTransition())return!0;return!1},X.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},X.prototype.update=function(ne){if(this._loaded){var be=this._changed;if(this._changed){var Oe=Object.keys(this._updatedLayers),qe=Object.keys(this._removedLayers);for(var dt in(Oe.length||qe.length)&&this._updateWorkerLayers(Oe,qe),this._updatedSources){var Et=this._updatedSources[dt];"reload"===Et?this._reloadSource(dt):"clear"===Et&&this._clearSource(dt)}for(var Zt in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[Zt].updateTransitions(ne);this.light.updateTransitions(ne),this._resetUpdates()}for(var ar in this.sourceCaches)this.sourceCaches[ar].used=!1;for(var yr=0,Er=this._order;yr<Er.length;yr+=1){var nn=this._layers[Er[yr]];nn.recalculate(ne,this._availableImages),!nn.isHidden(ne.zoom)&&nn.source&&(this.sourceCaches[nn.source].used=!0)}this.light.recalculate(ne),this.z=ne.zoom,be&&this.fire(new l.Event("data",{dataType:"style"}))}},X.prototype._updateTilesForChangedImages=function(){var ne=Object.keys(this._changedImages);if(ne.length){for(var be in this.sourceCaches)this.sourceCaches[be].reloadTilesForDependencies(["icons","patterns"],ne);this._changedImages={}}},X.prototype._updateWorkerLayers=function(ne,be){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ne),removedIds:be})},X.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},X.prototype.setState=function(ne){var be=this;if(this._checkLoaded(),Mi(this,l.validateStyle(ne)))return!1;(ne=l.clone$1(ne)).layers=vr(ne.layers);var Oe=Wn(this.serialize(),ne).filter(function(dt){return!(dt.command in Vo)});if(0===Oe.length)return!1;var qe=Oe.filter(function(dt){return!(dt.command in mi)});if(qe.length>0)throw new Error("Unimplemented: "+qe.map(function(dt){return dt.command}).join(", ")+".");return Oe.forEach(function(dt){"setTransition"!==dt.command&&be[dt.command].apply(be,dt.args)}),this.stylesheet=ne,!0},X.prototype.addImage=function(ne,be){if(this.getImage(ne))return this.fire(new l.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ne,be),this._availableImages=this.imageManager.listImages(),this._changedImages[ne]=!0,this._changed=!0,this.fire(new l.Event("data",{dataType:"style"}))},X.prototype.updateImage=function(ne,be){this.imageManager.updateImage(ne,be)},X.prototype.getImage=function(ne){return this.imageManager.getImage(ne)},X.prototype.removeImage=function(ne){if(!this.getImage(ne))return this.fire(new l.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ne),this._availableImages=this.imageManager.listImages(),this._changedImages[ne]=!0,this._changed=!0,this.fire(new l.Event("data",{dataType:"style"}))},X.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},X.prototype.addSource=function(ne,be,Oe){var qe=this;if(void 0===Oe&&(Oe={}),this._checkLoaded(),void 0!==this.sourceCaches[ne])throw new Error("There is already a source with this ID");if(!be.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(be).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(be.type)>=0&&this._validate(l.validateStyle.source,"sources."+ne,be,null,Oe))){this.map&&this.map._collectResourceTiming&&(be.collectResourceTiming=!0);var Zt=this.sourceCaches[ne]=new Gt(ne,be,this.dispatcher);Zt.style=this,Zt.setEventedParent(this,function(){return{isSourceLoaded:qe.loaded(),source:Zt.serialize(),sourceId:ne}}),Zt.onAdd(this.map),this._changed=!0}},X.prototype.removeSource=function(ne){if(this._checkLoaded(),void 0===this.sourceCaches[ne])throw new Error("There is no source with this ID");for(var be in this._layers)if(this._layers[be].source===ne)return this.fire(new l.ErrorEvent(new Error('Source "'+ne+'" cannot be removed while layer "'+be+'" is using it.')));var Oe=this.sourceCaches[ne];delete this.sourceCaches[ne],delete this._updatedSources[ne],Oe.fire(new l.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ne})),Oe.setEventedParent(null),Oe.clearTiles(),Oe.onRemove&&Oe.onRemove(this.map),this._changed=!0},X.prototype.setGeoJSONSourceData=function(ne,be){this._checkLoaded(),this.sourceCaches[ne].getSource().setData(be),this._changed=!0},X.prototype.getSource=function(ne){return this.sourceCaches[ne]&&this.sourceCaches[ne].getSource()},X.prototype.addLayer=function(ne,be,Oe){void 0===Oe&&(Oe={}),this._checkLoaded();var qe=ne.id;if(this.getLayer(qe))this.fire(new l.ErrorEvent(new Error('Layer with id "'+qe+'" already exists on this map')));else{var dt;if("custom"===ne.type){if(Mi(this,l.validateCustomStyleLayer(ne)))return;dt=l.createStyleLayer(ne)}else{if("object"==typeof ne.source&&(this.addSource(qe,ne.source),ne=l.clone$1(ne),ne=l.extend(ne,{source:qe})),this._validate(l.validateStyle.layer,"layers."+qe,ne,{arrayIndex:-1},Oe))return;dt=l.createStyleLayer(ne),this._validateLayer(dt),dt.setEventedParent(this,{layer:{id:qe}}),this._serializedLayers[dt.id]=dt.serialize()}var Et=be?this._order.indexOf(be):this._order.length;if(be&&-1===Et)this.fire(new l.ErrorEvent(new Error('Layer with id "'+be+'" does not exist on this map.')));else{if(this._order.splice(Et,0,qe),this._layerOrderChanged=!0,this._layers[qe]=dt,this._removedLayers[qe]&&dt.source&&"custom"!==dt.type){var Zt=this._removedLayers[qe];delete this._removedLayers[qe],Zt.type!==dt.type?this._updatedSources[dt.source]="clear":(this._updatedSources[dt.source]="reload",this.sourceCaches[dt.source].pause())}this._updateLayer(dt),dt.onAdd&&dt.onAdd(this.map)}}},X.prototype.moveLayer=function(ne,be){if(this._checkLoaded(),this._changed=!0,this._layers[ne]){if(ne!==be){var qe=this._order.indexOf(ne);this._order.splice(qe,1);var dt=be?this._order.indexOf(be):this._order.length;if(be&&-1===dt)return void this.fire(new l.ErrorEvent(new Error('Layer with id "'+be+'" does not exist on this map.')));this._order.splice(dt,0,ne),this._layerOrderChanged=!0}}else this.fire(new l.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be moved.")))},X.prototype.removeLayer=function(ne){this._checkLoaded();var be=this._layers[ne];if(be){be.setEventedParent(null);var Oe=this._order.indexOf(ne);this._order.splice(Oe,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ne]=be,delete this._layers[ne],delete this._serializedLayers[ne],delete this._updatedLayers[ne],delete this._updatedPaintProps[ne],be.onRemove&&be.onRemove(this.map)}else this.fire(new l.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be removed.")))},X.prototype.getLayer=function(ne){return this._layers[ne]},X.prototype.hasLayer=function(ne){return ne in this._layers},X.prototype.setLayerZoomRange=function(ne,be,Oe){this._checkLoaded();var qe=this.getLayer(ne);qe?qe.minzoom===be&&qe.maxzoom===Oe||(null!=be&&(qe.minzoom=be),null!=Oe&&(qe.maxzoom=Oe),this._updateLayer(qe)):this.fire(new l.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot have zoom extent.")))},X.prototype.setFilter=function(ne,be,Oe){void 0===Oe&&(Oe={}),this._checkLoaded();var qe=this.getLayer(ne);if(qe){if(!l.deepEqual(qe.filter,be)){if(null==be)return qe.filter=void 0,void this._updateLayer(qe);this._validate(l.validateStyle.filter,"layers."+qe.id+".filter",be,null,Oe)||(qe.filter=l.clone$1(be),this._updateLayer(qe))}}else this.fire(new l.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be filtered.")))},X.prototype.getFilter=function(ne){return l.clone$1(this.getLayer(ne).filter)},X.prototype.setLayoutProperty=function(ne,be,Oe,qe){void 0===qe&&(qe={}),this._checkLoaded();var dt=this.getLayer(ne);dt?l.deepEqual(dt.getLayoutProperty(be),Oe)||(dt.setLayoutProperty(be,Oe,qe),this._updateLayer(dt)):this.fire(new l.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be styled.")))},X.prototype.getLayoutProperty=function(ne,be){var Oe=this.getLayer(ne);if(Oe)return Oe.getLayoutProperty(be);this.fire(new l.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style.")))},X.prototype.setPaintProperty=function(ne,be,Oe,qe){void 0===qe&&(qe={}),this._checkLoaded();var dt=this.getLayer(ne);dt?l.deepEqual(dt.getPaintProperty(be),Oe)||(dt.setPaintProperty(be,Oe,qe)&&this._updateLayer(dt),this._changed=!0,this._updatedPaintProps[ne]=!0):this.fire(new l.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be styled.")))},X.prototype.getPaintProperty=function(ne,be){return this.getLayer(ne).getPaintProperty(be)},X.prototype.setFeatureState=function(ne,be){this._checkLoaded();var Oe=ne.source,qe=ne.sourceLayer,dt=this.sourceCaches[Oe];if(void 0!==dt){var Et=dt.getSource().type;"geojson"===Et&&qe?this.fire(new l.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==Et||qe?(void 0===ne.id&&this.fire(new l.ErrorEvent(new Error("The feature id parameter must be provided."))),dt.setFeatureState(qe,ne.id,be)):this.fire(new l.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new l.ErrorEvent(new Error("The source '"+Oe+"' does not exist in the map's style.")))},X.prototype.removeFeatureState=function(ne,be){this._checkLoaded();var Oe=ne.source,qe=this.sourceCaches[Oe];if(void 0!==qe){var dt=qe.getSource().type,Et="vector"===dt?ne.sourceLayer:void 0;"vector"!==dt||Et?be&&"string"!=typeof ne.id&&"number"!=typeof ne.id?this.fire(new l.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):qe.removeFeatureState(Et,ne.id,be):this.fire(new l.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new l.ErrorEvent(new Error("The source '"+Oe+"' does not exist in the map's style.")))},X.prototype.getFeatureState=function(ne){this._checkLoaded();var be=ne.source,Oe=ne.sourceLayer,qe=this.sourceCaches[be];if(void 0!==qe){if("vector"!==qe.getSource().type||Oe)return void 0===ne.id&&this.fire(new l.ErrorEvent(new Error("The feature id parameter must be provided."))),qe.getFeatureState(Oe,ne.id);this.fire(new l.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new l.ErrorEvent(new Error("The source '"+be+"' does not exist in the map's style.")))},X.prototype.getTransition=function(){return l.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},X.prototype.serialize=function(){return l.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:l.mapObject(this.sourceCaches,function(ne){return ne.serialize()}),layers:this._serializeLayers(this._order)},function(ne){return void 0!==ne})},X.prototype._updateLayer=function(ne){this._updatedLayers[ne.id]=!0,ne.source&&!this._updatedSources[ne.source]&&"raster"!==this.sourceCaches[ne.source].getSource().type&&(this._updatedSources[ne.source]="reload",this.sourceCaches[ne.source].pause()),this._changed=!0},X.prototype._flattenAndSortRenderedFeatures=function(ne){for(var be=this,Oe=function(ra){return"fill-extrusion"===be._layers[ra].type},qe={},dt=[],Et=this._order.length-1;Et>=0;Et--){var Zt=this._order[Et];if(Oe(Zt)){qe[Zt]=Et;for(var ar=0,yr=ne;ar<yr.length;ar+=1){var Vr=yr[ar][Zt];if(Vr)for(var nn=0,tn=Vr;nn<tn.length;nn+=1)dt.push(tn[nn])}}}dt.sort(function(ra,ca){return ca.intersectionZ-ra.intersectionZ});for(var ln=[],wn=this._order.length-1;wn>=0;wn--){var Un=this._order[wn];if(Oe(Un))for(var jn=dt.length-1;jn>=0;jn--){var ui=dt[jn].feature;if(qe[ui.layer.id]<wn)break;ln.push(ui),dt.pop()}else for(var ni=0,ci=ne;ni<ci.length;ni+=1){var Pi=ci[ni][Un];if(Pi)for(var Ri=0,Oi=Pi;Ri<Oi.length;Ri+=1)ln.push(Oi[Ri].feature)}}return ln},X.prototype.queryRenderedFeatures=function(ne,be,Oe){be&&be.filter&&this._validate(l.validateStyle.filter,"queryRenderedFeatures.filter",be.filter,null,be);var qe={};if(be&&be.layers){if(!Array.isArray(be.layers))return this.fire(new l.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var dt=0,Et=be.layers;dt<Et.length;dt+=1){var Zt=Et[dt],ar=this._layers[Zt];if(!ar)return this.fire(new l.ErrorEvent(new Error("The layer '"+Zt+"' does not exist in the map's style and cannot be queried for features."))),[];qe[ar.source]=!0}}var yr=[];for(var Er in be.availableImages=this._availableImages,this.sourceCaches)be.layers&&!qe[Er]||yr.push(re(this.sourceCaches[Er],this._layers,this._serializedLayers,ne,be,Oe));return this.placement&&yr.push(function $(ve,X,xe,ne,be,Oe,qe){for(var dt={},Et=Oe.queryRenderedSymbols(ne),Zt=[],ar=0,yr=Object.keys(Et).map(Number);ar<yr.length;ar+=1)Zt.push(qe[yr[ar]]);Zt.sort(se);for(var Vr=function(){var wn=tn[nn],Un=wn.featureIndex.lookupSymbolFeatures(Et[wn.bucketInstanceId],X,wn.bucketIndex,wn.sourceLayerIndex,be.filter,be.layers,be.availableImages,ve);for(var jn in Un){var ui=dt[jn]=dt[jn]||[],ni=Un[jn];ni.sort(function(Ri,Oi){var Vi=wn.featureSortOrder;if(Vi){var ra=Vi.indexOf(Ri.featureIndex);return Vi.indexOf(Oi.featureIndex)-ra}return Oi.featureIndex-Ri.featureIndex});for(var ci=0,Ai=ni;ci<Ai.length;ci+=1)ui.push(Ai[ci])}},nn=0,tn=Zt;nn<tn.length;nn+=1)Vr();var Jr=function(wn){dt[wn].forEach(function(Un){var jn=Un.feature,ci=xe[ve[wn].source].getFeatureState(jn.layer["source-layer"],jn.id);jn.source=jn.layer.source,jn.layer["source-layer"]&&(jn.sourceLayer=jn.layer["source-layer"]),jn.state=ci})};for(var ln in dt)Jr(ln);return dt}(this._layers,this._serializedLayers,this.sourceCaches,ne,be,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(yr)},X.prototype.querySourceFeatures=function(ne,be){be&&be.filter&&this._validate(l.validateStyle.filter,"querySourceFeatures.filter",be.filter,null,be);var Oe=this.sourceCaches[ne];return Oe?function le(ve,X){for(var xe=ve.getRenderableIds().map(function(Et){return ve.getTileByID(Et)}),ne=[],be={},Oe=0;Oe<xe.length;Oe++){var qe=xe[Oe],dt=qe.tileID.canonical.key;be[dt]||(be[dt]=!0,qe.querySourceFeatures(ne,X))}return ne}(Oe,be):[]},X.prototype.addSourceType=function(ne,be,Oe){return X.getSourceType(ne)?Oe(new Error('A source type called "'+ne+'" already exists.')):(X.setSourceType(ne,be),be.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:ne,url:be.workerSourceURL},Oe):Oe(null,null))},X.prototype.getLight=function(){return this.light.getLight()},X.prototype.setLight=function(ne,be){void 0===be&&(be={}),this._checkLoaded();var Oe=this.light.getLight(),qe=!1;for(var dt in ne)if(!l.deepEqual(ne[dt],Oe[dt])){qe=!0;break}if(qe){var Et={now:l.browser.now(),transition:l.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ne,be),this.light.updateTransitions(Et)}},X.prototype._validate=function(ne,be,Oe,qe,dt){return void 0===dt&&(dt={}),(!dt||!1!==dt.validate)&&Mi(this,ne.call(l.validateStyle,l.extend({key:be,style:this.serialize(),value:Oe,styleSpec:l.styleSpec},qe)))},X.prototype._remove=function(){for(var ne in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),l.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[ne].setEventedParent(null);for(var Oe in this.sourceCaches)this.sourceCaches[Oe].clearTiles(),this.sourceCaches[Oe].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},X.prototype._clearSource=function(ne){this.sourceCaches[ne].clearTiles()},X.prototype._reloadSource=function(ne){this.sourceCaches[ne].resume(),this.sourceCaches[ne].reload()},X.prototype._updateSources=function(ne){for(var be in this.sourceCaches)this.sourceCaches[be].update(ne)},X.prototype._generateCollisionBoxes=function(){for(var ne in this.sourceCaches)this._reloadSource(ne)},X.prototype._updatePlacement=function(ne,be,Oe,qe,dt){void 0===dt&&(dt=!1);for(var Et=!1,Zt=!1,ar={},yr=0,Er=this._order;yr<Er.length;yr+=1){var nn=this._layers[Er[yr]];if("symbol"===nn.type){if(!ar[nn.source]){var tn=this.sourceCaches[nn.source];ar[nn.source]=tn.getRenderableIds(!0).map(function(ni){return tn.getTileByID(ni)}).sort(function(ni,ci){return ci.tileID.overscaledZ-ni.tileID.overscaledZ||(ni.tileID.isLessThan(ci.tileID)?-1:1)})}var Jr=this.crossTileSymbolIndex.addLayer(nn,ar[nn.source],ne.center.lng);Et=Et||Jr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((dt=dt||this._layerOrderChanged||0===Oe)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(l.browser.now(),ne.zoom))&&(this.pauseablePlacement=new fi(ne,this._order,dt,be,Oe,qe,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,ar),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(l.browser.now()),Zt=!0),Et&&this.pauseablePlacement.placement.setStale()),Zt||Et)for(var ln=0,wn=this._order;ln<wn.length;ln+=1){var jn=this._layers[wn[ln]];"symbol"===jn.type&&this.placement.updateLayerOpacities(jn,ar[jn.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(l.browser.now())},X.prototype._releaseSymbolFadeTiles=function(){for(var ne in this.sourceCaches)this.sourceCaches[ne].releaseSymbolFadeTiles()},X.prototype.getImages=function(ne,be,Oe){this.imageManager.getImages(be.icons,Oe),this._updateTilesForChangedImages();var qe=this.sourceCaches[be.source];qe&&qe.setDependencies(be.tileID.key,be.type,be.icons)},X.prototype.getGlyphs=function(ne,be,Oe){this.glyphManager.getGlyphs(be.stacks,Oe)},X.prototype.getResource=function(ne,be,Oe){return l.makeRequest(be,Oe)},X}(l.Evented);os.getSourceType=function(ve){return te[ve]},os.setSourceType=function(ve,X){te[ve]=X},os.registerForPluginStateChange=l.registerForPluginStateChange;var ss=l.createLayout([{name:"a_pos",type:"Int16",components:2}]),yo=eo("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),nu=eo("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Nf=eo("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),zf=eo("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),ol=eo("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ro=eo("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),vc=eo("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Bf=eo("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),_u=eo("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Uf=eo("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),pc=eo("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Bs=eo("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Wc=eo("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ju=eo("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Gl=eo("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Yo=eo("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Sl=eo("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Vf=eo("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),va=eo("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ls=eo("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Ma=eo("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),Fo=eo("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),us=eo("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Cl=eo("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),Es=eo("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),gc=eo("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function eo(ve,X){var xe=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ne={};return{fragmentSource:ve=ve.replace(xe,function(be,Oe,qe,dt,Et){return ne[Et]=!0,"define"===Oe?"\n#ifndef HAS_UNIFORM_u_"+Et+"\nvarying "+qe+" "+dt+" "+Et+";\n#else\nuniform "+qe+" "+dt+" u_"+Et+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+Et+"\n    "+qe+" "+dt+" "+Et+" = u_"+Et+";\n#endif\n"}),vertexSource:X=X.replace(xe,function(be,Oe,qe,dt,Et){var Zt="float"===dt?"vec2":"vec4",ar=Et.match(/color/)?"color":Zt;return ne[Et]?"define"===Oe?"\n#ifndef HAS_UNIFORM_u_"+Et+"\nuniform lowp float u_"+Et+"_t;\nattribute "+qe+" "+Zt+" a_"+Et+";\nvarying "+qe+" "+dt+" "+Et+";\n#else\nuniform "+qe+" "+dt+" u_"+Et+";\n#endif\n":"vec4"===ar?"\n#ifndef HAS_UNIFORM_u_"+Et+"\n    "+Et+" = a_"+Et+";\n#else\n    "+qe+" "+dt+" "+Et+" = u_"+Et+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+Et+"\n    "+Et+" = unpack_mix_"+ar+"(a_"+Et+", u_"+Et+"_t);\n#else\n    "+qe+" "+dt+" "+Et+" = u_"+Et+";\n#endif\n":"define"===Oe?"\n#ifndef HAS_UNIFORM_u_"+Et+"\nuniform lowp float u_"+Et+"_t;\nattribute "+qe+" "+Zt+" a_"+Et+";\n#else\nuniform "+qe+" "+dt+" u_"+Et+";\n#endif\n":"vec4"===ar?"\n#ifndef HAS_UNIFORM_u_"+Et+"\n    "+qe+" "+dt+" "+Et+" = a_"+Et+";\n#else\n    "+qe+" "+dt+" "+Et+" = u_"+Et+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+Et+"\n    "+qe+" "+dt+" "+Et+" = unpack_mix_"+ar+"(a_"+Et+", u_"+Et+"_t);\n#else\n    "+qe+" "+dt+" "+Et+" = u_"+Et+";\n#endif\n"})}}var _l=Object.freeze({__proto__:null,prelude:yo,background:nu,backgroundPattern:Nf,circle:zf,clippingMask:ol,heatmap:Ro,heatmapTexture:vc,collisionBox:Bf,collisionCircle:_u,debug:Uf,fill:pc,fillOutline:Bs,fillOutlinePattern:Wc,fillPattern:ju,fillExtrusion:Gl,fillExtrusionPattern:Yo,hillshadePrepare:Sl,hillshade:Vf,line:va,lineGradient:ls,linePattern:Ma,lineSDF:Fo,raster:us,symbolIcon:Cl,symbolSDF:Es,symbolTextAndIcon:gc}),Mu=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Mu.prototype.bind=function(X,xe,ne,be,Oe,qe,dt,Et){this.context=X;for(var Zt=this.boundPaintVertexBuffers.length!==be.length,ar=0;!Zt&&ar<be.length;ar++)this.boundPaintVertexBuffers[ar]!==be[ar]&&(Zt=!0);X.extVertexArrayObject&&this.vao&&this.boundProgram===xe&&this.boundLayoutVertexBuffer===ne&&!Zt&&this.boundIndexBuffer===Oe&&this.boundVertexOffset===qe&&this.boundDynamicVertexBuffer===dt&&this.boundDynamicVertexBuffer2===Et?(X.bindVertexArrayOES.set(this.vao),dt&&dt.bind(),Oe&&Oe.dynamicDraw&&Oe.bind(),Et&&Et.bind()):this.freshBind(xe,ne,be,Oe,qe,dt,Et)},Mu.prototype.freshBind=function(X,xe,ne,be,Oe,qe,dt){var Et,Zt=X.numAttributes,ar=this.context,yr=ar.gl;if(ar.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ar.extVertexArrayObject.createVertexArrayOES(),ar.bindVertexArrayOES.set(this.vao),Et=0,this.boundProgram=X,this.boundLayoutVertexBuffer=xe,this.boundPaintVertexBuffers=ne,this.boundIndexBuffer=be,this.boundVertexOffset=Oe,this.boundDynamicVertexBuffer=qe,this.boundDynamicVertexBuffer2=dt;else{Et=ar.currentNumAttributes||0;for(var Er=Zt;Er<Et;Er++)yr.disableVertexAttribArray(Er)}xe.enableAttributes(yr,X);for(var Vr=0,nn=ne;Vr<nn.length;Vr+=1)nn[Vr].enableAttributes(yr,X);qe&&qe.enableAttributes(yr,X),dt&&dt.enableAttributes(yr,X),xe.bind(),xe.setVertexAttribPointers(yr,X,Oe);for(var Jr=0,ln=ne;Jr<ln.length;Jr+=1){var wn=ln[Jr];wn.bind(),wn.setVertexAttribPointers(yr,X,Oe)}qe&&(qe.bind(),qe.setVertexAttribPointers(yr,X,Oe)),be&&be.bind(),dt&&(dt.bind(),dt.setVertexAttribPointers(yr,X,Oe)),ar.currentNumAttributes=Zt},Mu.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Us=function(X,xe,ne,be,Oe){var qe=X.gl;this.program=qe.createProgram();var dt=ne?ne.defines():[];Oe&&dt.push("#define OVERDRAW_INSPECTOR;");var Et=dt.concat(yo.fragmentSource,xe.fragmentSource).join("\n"),Zt=dt.concat(yo.vertexSource,xe.vertexSource).join("\n"),ar=qe.createShader(qe.FRAGMENT_SHADER);if(qe.isContextLost())this.failedToCreate=!0;else{qe.shaderSource(ar,Et),qe.compileShader(ar),qe.attachShader(this.program,ar);var yr=qe.createShader(qe.VERTEX_SHADER);if(qe.isContextLost())this.failedToCreate=!0;else{qe.shaderSource(yr,Zt),qe.compileShader(yr),qe.attachShader(this.program,yr);for(var Er=ne?ne.layoutAttributes:[],Vr=0;Vr<Er.length;Vr++)qe.bindAttribLocation(this.program,Vr,Er[Vr].name);qe.linkProgram(this.program),qe.deleteShader(yr),qe.deleteShader(ar),this.numAttributes=qe.getProgramParameter(this.program,qe.ACTIVE_ATTRIBUTES),this.attributes={};for(var nn={},tn=0;tn<this.numAttributes;tn++){var Jr=qe.getActiveAttrib(this.program,tn);Jr&&(this.attributes[Jr.name]=qe.getAttribLocation(this.program,Jr.name))}for(var ln=qe.getProgramParameter(this.program,qe.ACTIVE_UNIFORMS),wn=0;wn<ln;wn++){var Un=qe.getActiveUniform(this.program,wn);Un&&(nn[Un.name]=qe.getUniformLocation(this.program,Un.name))}this.fixedUniforms=be(X,nn),this.binderUniforms=ne?ne.getUniforms(X,nn):[]}}};function to(ve,X,xe){var ne=1/Dn(xe,1,X.transform.tileZoom),be=Math.pow(2,xe.tileID.overscaledZ),Oe=xe.tileSize*Math.pow(2,X.transform.tileZoom)/be,qe=Oe*(xe.tileID.canonical.x+xe.tileID.wrap*be),dt=Oe*xe.tileID.canonical.y;return{u_image:0,u_texsize:xe.imageAtlasTexture.size,u_scale:[ne,ve.fromScale,ve.toScale],u_fade:ve.t,u_pixel_coord_upper:[qe>>16,dt>>16],u_pixel_coord_lower:[65535&qe,65535&dt]}}Us.prototype.draw=function(X,xe,ne,be,Oe,qe,dt,Et,Zt,ar,yr,Er,Vr,nn,tn,Jr){var ln,wn=X.gl;if(!this.failedToCreate){for(var Un in X.program.set(this.program),X.setDepthMode(ne),X.setStencilMode(be),X.setColorMode(Oe),X.setCullFace(qe),this.fixedUniforms)this.fixedUniforms[Un].set(dt[Un]);nn&&nn.setUniforms(X,this.binderUniforms,Er,{zoom:Vr});for(var jn=(ln={},ln[wn.LINES]=2,ln[wn.TRIANGLES]=3,ln[wn.LINE_STRIP]=1,ln)[xe],ui=0,ni=yr.get();ui<ni.length;ui+=1){var ci=ni[ui],Ai=ci.vaos||(ci.vaos={});(Ai[Et]||(Ai[Et]=new Mu)).bind(X,this,Zt,nn?nn.getPaintVertexBuffers():[],ar,ci.vertexOffset,tn,Jr),wn.drawElements(xe,ci.primitiveLength*jn,wn.UNSIGNED_SHORT,ci.primitiveOffset*jn*2)}}};var ko=function(ve,X,xe,ne){var be=X.style.light,Oe=be.properties.get("position"),qe=[Oe.x,Oe.y,Oe.z],dt=l.create$1();"viewport"===be.properties.get("anchor")&&l.fromRotation(dt,-X.transform.angle),l.transformMat3(qe,qe,dt);var Et=be.properties.get("color");return{u_matrix:ve,u_lightpos:qe,u_lightintensity:be.properties.get("intensity"),u_lightcolor:[Et.r,Et.g,Et.b],u_vertical_gradient:+xe,u_opacity:ne}},bs=function(ve,X,xe,ne,be,Oe,qe){return l.extend(ko(ve,X,xe,ne),to(Oe,X,qe),{u_height_factor:-Math.pow(2,be.overscaledZ)/qe.tileSize/8})},Vs=function(ve){return{u_matrix:ve}},fa=function(ve,X,xe,ne){return l.extend(Vs(ve),to(xe,X,ne))},Su=function(ve,X){return{u_matrix:ve,u_world:X}},Hf=function(ve,X,xe,ne,be){return l.extend(fa(ve,X,xe,ne),{u_world:be})},no=function(ve,X,xe,ne){var Oe,qe,be=ve.transform;if("map"===ne.paint.get("circle-pitch-alignment")){var dt=Dn(xe,1,be.zoom);Oe=!0,qe=[dt,dt]}else Oe=!1,qe=be.pixelsToGLUnits;return{u_camera_to_center_distance:be.cameraToCenterDistance,u_scale_with_map:+("map"===ne.paint.get("circle-pitch-scale")),u_matrix:ve.translatePosMatrix(X.posMatrix,xe,ne.paint.get("circle-translate"),ne.paint.get("circle-translate-anchor")),u_pitch_with_map:+Oe,u_device_pixel_ratio:l.browser.devicePixelRatio,u_extrude_scale:qe}},El=function(ve,X,xe){var ne=Dn(xe,1,X.zoom),be=Math.pow(2,X.zoom-xe.tileID.overscaledZ),Oe=xe.tileID.overscaleFactor();return{u_matrix:ve,u_camera_to_center_distance:X.cameraToCenterDistance,u_pixels_to_tile_units:ne,u_extrude_scale:[X.pixelsToGLUnits[0]/(ne*be),X.pixelsToGLUnits[1]/(ne*be)],u_overscale_factor:Oe}},Yu=function(ve,X,xe){return{u_matrix:ve,u_inv_matrix:X,u_camera_to_center_distance:xe.cameraToCenterDistance,u_viewport_size:[xe.width,xe.height]}},Wl=function(ve,X,xe){return void 0===xe&&(xe=1),{u_matrix:ve,u_color:X,u_overlay:0,u_overlay_scale:xe}},Mo=function(ve){return{u_matrix:ve}},Gf=function(ve,X,xe,ne){return{u_matrix:ve,u_extrude_scale:Dn(X,1,xe),u_intensity:ne}},iu=function(ve,X,xe,ne){var be=l.create();l.ortho(be,0,ve.width,ve.height,0,0,1);var Oe=ve.context.gl;return{u_matrix:be,u_world:[Oe.drawingBufferWidth,Oe.drawingBufferHeight],u_image:xe,u_color_ramp:ne,u_opacity:X.paint.get("heatmap-opacity")}},Zu=function(ve,X,xe){var ne=xe.paint.get("hillshade-shadow-color"),be=xe.paint.get("hillshade-highlight-color"),Oe=xe.paint.get("hillshade-accent-color"),qe=xe.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===xe.paint.get("hillshade-illumination-anchor")&&(qe-=ve.transform.angle);var dt=!ve.options.moving;return{u_matrix:ve.transform.calculatePosMatrix(X.tileID.toUnwrapped(),dt),u_image:0,u_latrange:Ks(0,X.tileID),u_light:[xe.paint.get("hillshade-exaggeration"),qe],u_shadow:ne,u_highlight:be,u_accent:Oe}},Xu=function(ve,X,xe){var ne=X.stride,be=l.create();return l.ortho(be,0,l.EXTENT,-l.EXTENT,0,0,1),l.translate(be,be,[0,-l.EXTENT,0]),{u_matrix:be,u_image:1,u_dimension:[ne,ne],u_zoom:ve.overscaledZ,u_maxzoom:xe,u_unpack:X.getUnpackVector()}};function Ks(ve,X){var xe=Math.pow(2,X.canonical.z),ne=X.canonical.y;return[new l.MercatorCoordinate(0,ne/xe).toLngLat().lat,new l.MercatorCoordinate(0,(ne+1)/xe).toLngLat().lat]}var Yl=function(ve,X,xe){var ne=ve.transform;return{u_matrix:Zl(ve,X,xe),u_ratio:1/Dn(X,1,ne.zoom),u_device_pixel_ratio:l.browser.devicePixelRatio,u_units_to_pixels:[1/ne.pixelsToGLUnits[0],1/ne.pixelsToGLUnits[1]]}},au=function(ve,X,xe){return l.extend(Yl(ve,X,xe),{u_image:0})},sl=function(ve,X,xe,ne){var be=ve.transform,Oe=ll(X,be);return{u_matrix:Zl(ve,X,xe),u_texsize:X.imageAtlasTexture.size,u_ratio:1/Dn(X,1,be.zoom),u_device_pixel_ratio:l.browser.devicePixelRatio,u_image:0,u_scale:[Oe,ne.fromScale,ne.toScale],u_fade:ne.t,u_units_to_pixels:[1/be.pixelsToGLUnits[0],1/be.pixelsToGLUnits[1]]}},Ts=function(ve,X,xe,ne,be){var qe=ve.lineAtlas,dt=ll(X,ve.transform),Et="round"===xe.layout.get("line-cap"),Zt=qe.getDash(ne.from,Et),ar=qe.getDash(ne.to,Et),yr=Zt.width*be.fromScale,Er=ar.width*be.toScale;return l.extend(Yl(ve,X,xe),{u_patternscale_a:[dt/yr,-Zt.height/2],u_patternscale_b:[dt/Er,-ar.height/2],u_sdfgamma:qe.width/(256*Math.min(yr,Er)*l.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Zt.y,u_tex_y_b:ar.y,u_mix:be.t})};function ll(ve,X){return 1/Dn(ve,1,X.tileZoom)}function Zl(ve,X,xe){return ve.translatePosMatrix(X.tileID.posMatrix,X,xe.paint.get("line-translate"),xe.paint.get("line-translate-anchor"))}var Ku=function(ve,X,xe,ne,be){return{u_matrix:ve,u_tl_parent:X,u_scale_parent:xe,u_buffer_scale:1,u_fade_t:ne.mix,u_opacity:ne.opacity*be.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:be.paint.get("raster-brightness-min"),u_brightness_high:be.paint.get("raster-brightness-max"),u_saturation_factor:Yc(be.paint.get("raster-saturation")),u_contrast_factor:Ju(be.paint.get("raster-contrast")),u_spin_weights:ja(be.paint.get("raster-hue-rotate"))}};function ja(ve){ve*=Math.PI/180;var X=Math.sin(ve),xe=Math.cos(ve);return[(2*xe+1)/3,(-Math.sqrt(3)*X-xe+1)/3,(Math.sqrt(3)*X-xe+1)/3]}function Ju(ve){return ve>0?1/(1-ve):1+ve}function Yc(ve){return ve>0?1-1/(1.001-ve):-ve}var Js,Zc=function(ve,X,xe,ne,be,Oe,qe,dt,Et,Zt){var ar=be.transform;return{u_is_size_zoom_constant:+("constant"===ve||"source"===ve),u_is_size_feature_constant:+("constant"===ve||"camera"===ve),u_size_t:X?X.uSizeT:0,u_size:X?X.uSize:0,u_camera_to_center_distance:ar.cameraToCenterDistance,u_pitch:ar.pitch/360*2*Math.PI,u_rotate_symbol:+xe,u_aspect_ratio:ar.width/ar.height,u_fade_change:be.options.fadeDuration?be.symbolFadeChange:1,u_matrix:Oe,u_label_plane_matrix:qe,u_coord_matrix:dt,u_is_text:+Et,u_pitch_with_map:+ne,u_texsize:Zt,u_texture:0}},jf=function(ve,X,xe,ne,be,Oe,qe,dt,Et,Zt,ar){var yr=be.transform;return l.extend(Zc(ve,X,xe,ne,be,Oe,qe,dt,Et,Zt),{u_gamma_scale:ne?Math.cos(yr._pitch)*yr.cameraToCenterDistance:1,u_device_pixel_ratio:l.browser.devicePixelRatio,u_is_halo:+ar})},xc=function(ve,X,xe,ne,be,Oe,qe,dt,Et,Zt){return l.extend(jf(ve,X,xe,ne,be,Oe,qe,dt,!0,Et,!0),{u_texsize_icon:Zt,u_texture_icon:1})},Wf=function(ve,X,xe){return{u_matrix:ve,u_opacity:X,u_color:xe}},Yf=function(ve,X,xe,ne,be,Oe){return l.extend(function Zi(ve,X,xe,ne){var be=xe.imageManager.getPattern(ve.from.toString()),Oe=xe.imageManager.getPattern(ve.to.toString()),qe=xe.imageManager.getPixelSize(),dt=qe.width,Et=qe.height,Zt=Math.pow(2,ne.tileID.overscaledZ),ar=ne.tileSize*Math.pow(2,xe.transform.tileZoom)/Zt,yr=ar*(ne.tileID.canonical.x+ne.tileID.wrap*Zt),Er=ar*ne.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:be.tl,u_pattern_br_a:be.br,u_pattern_tl_b:Oe.tl,u_pattern_br_b:Oe.br,u_texsize:[dt,Et],u_mix:X.t,u_pattern_size_a:be.displaySize,u_pattern_size_b:Oe.displaySize,u_scale_a:X.fromScale,u_scale_b:X.toScale,u_tile_units_to_pixels:1/Dn(ne,1,xe.transform.tileZoom),u_pixel_coord_upper:[yr>>16,Er>>16],u_pixel_coord_lower:[65535&yr,65535&Er]}}(ne,Oe,xe,be),{u_matrix:ve,u_opacity:X})},su={fillExtrusion:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_lightpos:new l.Uniform3f(ve,X.u_lightpos),u_lightintensity:new l.Uniform1f(ve,X.u_lightintensity),u_lightcolor:new l.Uniform3f(ve,X.u_lightcolor),u_vertical_gradient:new l.Uniform1f(ve,X.u_vertical_gradient),u_opacity:new l.Uniform1f(ve,X.u_opacity)}},fillExtrusionPattern:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_lightpos:new l.Uniform3f(ve,X.u_lightpos),u_lightintensity:new l.Uniform1f(ve,X.u_lightintensity),u_lightcolor:new l.Uniform3f(ve,X.u_lightcolor),u_vertical_gradient:new l.Uniform1f(ve,X.u_vertical_gradient),u_height_factor:new l.Uniform1f(ve,X.u_height_factor),u_image:new l.Uniform1i(ve,X.u_image),u_texsize:new l.Uniform2f(ve,X.u_texsize),u_pixel_coord_upper:new l.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new l.Uniform2f(ve,X.u_pixel_coord_lower),u_scale:new l.Uniform3f(ve,X.u_scale),u_fade:new l.Uniform1f(ve,X.u_fade),u_opacity:new l.Uniform1f(ve,X.u_opacity)}},fill:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix)}},fillPattern:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_image:new l.Uniform1i(ve,X.u_image),u_texsize:new l.Uniform2f(ve,X.u_texsize),u_pixel_coord_upper:new l.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new l.Uniform2f(ve,X.u_pixel_coord_lower),u_scale:new l.Uniform3f(ve,X.u_scale),u_fade:new l.Uniform1f(ve,X.u_fade)}},fillOutline:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_world:new l.Uniform2f(ve,X.u_world)}},fillOutlinePattern:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_world:new l.Uniform2f(ve,X.u_world),u_image:new l.Uniform1i(ve,X.u_image),u_texsize:new l.Uniform2f(ve,X.u_texsize),u_pixel_coord_upper:new l.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new l.Uniform2f(ve,X.u_pixel_coord_lower),u_scale:new l.Uniform3f(ve,X.u_scale),u_fade:new l.Uniform1f(ve,X.u_fade)}},circle:function(ve,X){return{u_camera_to_center_distance:new l.Uniform1f(ve,X.u_camera_to_center_distance),u_scale_with_map:new l.Uniform1i(ve,X.u_scale_with_map),u_pitch_with_map:new l.Uniform1i(ve,X.u_pitch_with_map),u_extrude_scale:new l.Uniform2f(ve,X.u_extrude_scale),u_device_pixel_ratio:new l.Uniform1f(ve,X.u_device_pixel_ratio),u_matrix:new l.UniformMatrix4f(ve,X.u_matrix)}},collisionBox:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_camera_to_center_distance:new l.Uniform1f(ve,X.u_camera_to_center_distance),u_pixels_to_tile_units:new l.Uniform1f(ve,X.u_pixels_to_tile_units),u_extrude_scale:new l.Uniform2f(ve,X.u_extrude_scale),u_overscale_factor:new l.Uniform1f(ve,X.u_overscale_factor)}},collisionCircle:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_inv_matrix:new l.UniformMatrix4f(ve,X.u_inv_matrix),u_camera_to_center_distance:new l.Uniform1f(ve,X.u_camera_to_center_distance),u_viewport_size:new l.Uniform2f(ve,X.u_viewport_size)}},debug:function(ve,X){return{u_color:new l.UniformColor(ve,X.u_color),u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_overlay:new l.Uniform1i(ve,X.u_overlay),u_overlay_scale:new l.Uniform1f(ve,X.u_overlay_scale)}},clippingMask:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix)}},heatmap:function(ve,X){return{u_extrude_scale:new l.Uniform1f(ve,X.u_extrude_scale),u_intensity:new l.Uniform1f(ve,X.u_intensity),u_matrix:new l.UniformMatrix4f(ve,X.u_matrix)}},heatmapTexture:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_world:new l.Uniform2f(ve,X.u_world),u_image:new l.Uniform1i(ve,X.u_image),u_color_ramp:new l.Uniform1i(ve,X.u_color_ramp),u_opacity:new l.Uniform1f(ve,X.u_opacity)}},hillshade:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_image:new l.Uniform1i(ve,X.u_image),u_latrange:new l.Uniform2f(ve,X.u_latrange),u_light:new l.Uniform2f(ve,X.u_light),u_shadow:new l.UniformColor(ve,X.u_shadow),u_highlight:new l.UniformColor(ve,X.u_highlight),u_accent:new l.UniformColor(ve,X.u_accent)}},hillshadePrepare:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_image:new l.Uniform1i(ve,X.u_image),u_dimension:new l.Uniform2f(ve,X.u_dimension),u_zoom:new l.Uniform1f(ve,X.u_zoom),u_maxzoom:new l.Uniform1f(ve,X.u_maxzoom),u_unpack:new l.Uniform4f(ve,X.u_unpack)}},line:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_ratio:new l.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new l.Uniform1f(ve,X.u_device_pixel_ratio),u_units_to_pixels:new l.Uniform2f(ve,X.u_units_to_pixels)}},lineGradient:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_ratio:new l.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new l.Uniform1f(ve,X.u_device_pixel_ratio),u_units_to_pixels:new l.Uniform2f(ve,X.u_units_to_pixels),u_image:new l.Uniform1i(ve,X.u_image)}},linePattern:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_texsize:new l.Uniform2f(ve,X.u_texsize),u_ratio:new l.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new l.Uniform1f(ve,X.u_device_pixel_ratio),u_image:new l.Uniform1i(ve,X.u_image),u_units_to_pixels:new l.Uniform2f(ve,X.u_units_to_pixels),u_scale:new l.Uniform3f(ve,X.u_scale),u_fade:new l.Uniform1f(ve,X.u_fade)}},lineSDF:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_ratio:new l.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new l.Uniform1f(ve,X.u_device_pixel_ratio),u_units_to_pixels:new l.Uniform2f(ve,X.u_units_to_pixels),u_patternscale_a:new l.Uniform2f(ve,X.u_patternscale_a),u_patternscale_b:new l.Uniform2f(ve,X.u_patternscale_b),u_sdfgamma:new l.Uniform1f(ve,X.u_sdfgamma),u_image:new l.Uniform1i(ve,X.u_image),u_tex_y_a:new l.Uniform1f(ve,X.u_tex_y_a),u_tex_y_b:new l.Uniform1f(ve,X.u_tex_y_b),u_mix:new l.Uniform1f(ve,X.u_mix)}},raster:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_tl_parent:new l.Uniform2f(ve,X.u_tl_parent),u_scale_parent:new l.Uniform1f(ve,X.u_scale_parent),u_buffer_scale:new l.Uniform1f(ve,X.u_buffer_scale),u_fade_t:new l.Uniform1f(ve,X.u_fade_t),u_opacity:new l.Uniform1f(ve,X.u_opacity),u_image0:new l.Uniform1i(ve,X.u_image0),u_image1:new l.Uniform1i(ve,X.u_image1),u_brightness_low:new l.Uniform1f(ve,X.u_brightness_low),u_brightness_high:new l.Uniform1f(ve,X.u_brightness_high),u_saturation_factor:new l.Uniform1f(ve,X.u_saturation_factor),u_contrast_factor:new l.Uniform1f(ve,X.u_contrast_factor),u_spin_weights:new l.Uniform3f(ve,X.u_spin_weights)}},symbolIcon:function(ve,X){return{u_is_size_zoom_constant:new l.Uniform1i(ve,X.u_is_size_zoom_constant),u_is_size_feature_constant:new l.Uniform1i(ve,X.u_is_size_feature_constant),u_size_t:new l.Uniform1f(ve,X.u_size_t),u_size:new l.Uniform1f(ve,X.u_size),u_camera_to_center_distance:new l.Uniform1f(ve,X.u_camera_to_center_distance),u_pitch:new l.Uniform1f(ve,X.u_pitch),u_rotate_symbol:new l.Uniform1i(ve,X.u_rotate_symbol),u_aspect_ratio:new l.Uniform1f(ve,X.u_aspect_ratio),u_fade_change:new l.Uniform1f(ve,X.u_fade_change),u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_label_plane_matrix:new l.UniformMatrix4f(ve,X.u_label_plane_matrix),u_coord_matrix:new l.UniformMatrix4f(ve,X.u_coord_matrix),u_is_text:new l.Uniform1i(ve,X.u_is_text),u_pitch_with_map:new l.Uniform1i(ve,X.u_pitch_with_map),u_texsize:new l.Uniform2f(ve,X.u_texsize),u_texture:new l.Uniform1i(ve,X.u_texture)}},symbolSDF:function(ve,X){return{u_is_size_zoom_constant:new l.Uniform1i(ve,X.u_is_size_zoom_constant),u_is_size_feature_constant:new l.Uniform1i(ve,X.u_is_size_feature_constant),u_size_t:new l.Uniform1f(ve,X.u_size_t),u_size:new l.Uniform1f(ve,X.u_size),u_camera_to_center_distance:new l.Uniform1f(ve,X.u_camera_to_center_distance),u_pitch:new l.Uniform1f(ve,X.u_pitch),u_rotate_symbol:new l.Uniform1i(ve,X.u_rotate_symbol),u_aspect_ratio:new l.Uniform1f(ve,X.u_aspect_ratio),u_fade_change:new l.Uniform1f(ve,X.u_fade_change),u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_label_plane_matrix:new l.UniformMatrix4f(ve,X.u_label_plane_matrix),u_coord_matrix:new l.UniformMatrix4f(ve,X.u_coord_matrix),u_is_text:new l.Uniform1i(ve,X.u_is_text),u_pitch_with_map:new l.Uniform1i(ve,X.u_pitch_with_map),u_texsize:new l.Uniform2f(ve,X.u_texsize),u_texture:new l.Uniform1i(ve,X.u_texture),u_gamma_scale:new l.Uniform1f(ve,X.u_gamma_scale),u_device_pixel_ratio:new l.Uniform1f(ve,X.u_device_pixel_ratio),u_is_halo:new l.Uniform1i(ve,X.u_is_halo)}},symbolTextAndIcon:function(ve,X){return{u_is_size_zoom_constant:new l.Uniform1i(ve,X.u_is_size_zoom_constant),u_is_size_feature_constant:new l.Uniform1i(ve,X.u_is_size_feature_constant),u_size_t:new l.Uniform1f(ve,X.u_size_t),u_size:new l.Uniform1f(ve,X.u_size),u_camera_to_center_distance:new l.Uniform1f(ve,X.u_camera_to_center_distance),u_pitch:new l.Uniform1f(ve,X.u_pitch),u_rotate_symbol:new l.Uniform1i(ve,X.u_rotate_symbol),u_aspect_ratio:new l.Uniform1f(ve,X.u_aspect_ratio),u_fade_change:new l.Uniform1f(ve,X.u_fade_change),u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_label_plane_matrix:new l.UniformMatrix4f(ve,X.u_label_plane_matrix),u_coord_matrix:new l.UniformMatrix4f(ve,X.u_coord_matrix),u_is_text:new l.Uniform1i(ve,X.u_is_text),u_pitch_with_map:new l.Uniform1i(ve,X.u_pitch_with_map),u_texsize:new l.Uniform2f(ve,X.u_texsize),u_texsize_icon:new l.Uniform2f(ve,X.u_texsize_icon),u_texture:new l.Uniform1i(ve,X.u_texture),u_texture_icon:new l.Uniform1i(ve,X.u_texture_icon),u_gamma_scale:new l.Uniform1f(ve,X.u_gamma_scale),u_device_pixel_ratio:new l.Uniform1f(ve,X.u_device_pixel_ratio),u_is_halo:new l.Uniform1i(ve,X.u_is_halo)}},background:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_opacity:new l.Uniform1f(ve,X.u_opacity),u_color:new l.UniformColor(ve,X.u_color)}},backgroundPattern:function(ve,X){return{u_matrix:new l.UniformMatrix4f(ve,X.u_matrix),u_opacity:new l.Uniform1f(ve,X.u_opacity),u_image:new l.Uniform1i(ve,X.u_image),u_pattern_tl_a:new l.Uniform2f(ve,X.u_pattern_tl_a),u_pattern_br_a:new l.Uniform2f(ve,X.u_pattern_br_a),u_pattern_tl_b:new l.Uniform2f(ve,X.u_pattern_tl_b),u_pattern_br_b:new l.Uniform2f(ve,X.u_pattern_br_b),u_texsize:new l.Uniform2f(ve,X.u_texsize),u_mix:new l.Uniform1f(ve,X.u_mix),u_pattern_size_a:new l.Uniform2f(ve,X.u_pattern_size_a),u_pattern_size_b:new l.Uniform2f(ve,X.u_pattern_size_b),u_scale_a:new l.Uniform1f(ve,X.u_scale_a),u_scale_b:new l.Uniform1f(ve,X.u_scale_b),u_pixel_coord_upper:new l.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new l.Uniform2f(ve,X.u_pixel_coord_lower),u_tile_units_to_pixels:new l.Uniform1f(ve,X.u_tile_units_to_pixels)}}};function Qu(ve,X,xe,ne,be,Oe,qe){for(var dt=ve.context,Et=dt.gl,Zt=ve.useProgram("collisionBox"),ar=[],yr=0,Er=0,Vr=0;Vr<ne.length;Vr++){var nn=ne[Vr],tn=X.getTile(nn),Jr=tn.getBucket(xe);if(Jr){var ln=nn.posMatrix;(0!==be[0]||0!==be[1])&&(ln=ve.translatePosMatrix(nn.posMatrix,tn,be,Oe));var wn=qe?Jr.textCollisionBox:Jr.iconCollisionBox,Un=Jr.collisionCircleArray;if(Un.length>0){var jn=l.create(),ui=ln;l.mul(jn,Jr.placementInvProjMatrix,ve.transform.glCoordMatrix),l.mul(jn,jn,Jr.placementViewportMatrix),ar.push({circleArray:Un,circleOffset:Er,transform:ui,invTransform:jn}),Er=yr+=Un.length/4}wn&&Zt.draw(dt,Et.LINES,Cr.disabled,rr.disabled,ve.colorModeForRenderPass(),Ft.disabled,El(ln,ve.transform,tn),xe.id,wn.layoutVertexBuffer,wn.indexBuffer,wn.segments,null,ve.transform.zoom,null,null,wn.collisionVertexBuffer)}}if(qe&&ar.length){var ni=ve.useProgram("collisionCircle"),ci=new l.StructArrayLayout2f1f2i16;ci.resize(4*yr),ci._trim();for(var Ai=0,Pi=0,Ri=ar;Pi<Ri.length;Pi+=1)for(var Oi=Ri[Pi],Vi=0;Vi<Oi.circleArray.length/4;Vi++){var ra=4*Vi,ca=Oi.circleArray[ra+0],Oa=Oi.circleArray[ra+1],da=Oi.circleArray[ra+2],Aa=Oi.circleArray[ra+3];ci.emplace(Ai++,ca,Oa,da,Aa,0),ci.emplace(Ai++,ca,Oa,da,Aa,1),ci.emplace(Ai++,ca,Oa,da,Aa,2),ci.emplace(Ai++,ca,Oa,da,Aa,3)}(!Js||Js.length<2*yr)&&(Js=function Eu(ve){var X=2*ve,xe=new l.StructArrayLayout3ui6;xe.resize(X),xe._trim();for(var ne=0;ne<X;ne++){var be=6*ne;xe.uint16[be+0]=4*ne+0,xe.uint16[be+1]=4*ne+1,xe.uint16[be+2]=4*ne+2,xe.uint16[be+3]=4*ne+2,xe.uint16[be+4]=4*ne+3,xe.uint16[be+5]=4*ne+0}return xe}(yr));for(var Xi=dt.createIndexBuffer(Js,!0),Ia=dt.createVertexBuffer(ci,l.collisionCircleLayout.members,!0),Sa=0,Ka=ar;Sa<Ka.length;Sa+=1){var Ca=Ka[Sa],Qa=Yu(Ca.transform,Ca.invTransform,ve.transform);ni.draw(dt,Et.TRIANGLES,Cr.disabled,rr.disabled,ve.colorModeForRenderPass(),Ft.disabled,Qa,xe.id,Ia,Xi,l.SegmentVector.simpleSegment(0,2*Ca.circleOffset,Ca.circleArray.length,Ca.circleArray.length/2),null,ve.transform.zoom,null,null,null)}Ia.destroy(),Xi.destroy()}}var Zf=l.identity(new Float32Array(16));function lu(ve,X,xe,ne,be,Oe){var qe=l.getAnchorAlignment(ve),Zt=-(qe.horizontalAlign-.5)*X,ar=-(qe.verticalAlign-.5)*xe,yr=l.evaluateVariableOffset(ve,ne);return new l.Point((Zt/be+yr[0])*Oe,(ar/be+yr[1])*Oe)}function Eo(ve,X,xe,ne,be,Oe,qe,dt,Et,Zt,ar){var yr=ve.text.placedSymbolArray,Er=ve.text.dynamicLayoutVertexArray,Vr=ve.icon.dynamicLayoutVertexArray,nn={};Er.clear();for(var tn=0;tn<yr.length;tn++){var Jr=yr.get(tn),wn=Jr.hidden||!Jr.crossTileID||ve.allowVerticalPlacement&&!Jr.placedOrientation?null:ne[Jr.crossTileID];if(wn){var Un=new l.Point(Jr.anchorX,Jr.anchorY),jn=Ur(Un,xe?dt:qe),ui=an(Oe.cameraToCenterDistance,jn.signedDistanceFromCamera),ni=be.evaluateSizeForFeature(ve.textSizeData,Zt,Jr)*ui/l.ONE_EM;xe&&(ni*=ve.tilePixelRatio/Et);for(var Vi=lu(wn.anchor,wn.width,wn.height,wn.textOffset,wn.textBoxScale,ni),ra=xe?Ur(Un.add(Vi),qe).point:jn.point.add(X?Vi.rotate(-Oe.angle):Vi),ca=ve.allowVerticalPlacement&&Jr.placedOrientation===l.WritingMode.vertical?Math.PI/2:0,Oa=0;Oa<Jr.numGlyphs;Oa++)l.addDynamicAttributes(Er,ra,ca);ar&&Jr.associatedIconIndex>=0&&(nn[Jr.associatedIconIndex]={shiftedAnchor:ra,angle:ca})}else hi(Jr.numGlyphs,Er)}if(ar){Vr.clear();for(var da=ve.icon.placedSymbolArray,Aa=0;Aa<da.length;Aa++){var Xi=da.get(Aa);if(Xi.hidden)hi(Xi.numGlyphs,Vr);else{var Ia=nn[Aa];if(Ia)for(var Sa=0;Sa<Xi.numGlyphs;Sa++)l.addDynamicAttributes(Vr,Ia.shiftedAnchor,Ia.angle);else hi(Xi.numGlyphs,Vr)}}ve.icon.dynamicLayoutVertexBuffer.updateData(Vr)}ve.text.dynamicLayoutVertexBuffer.updateData(Er)}function Xc(ve,X,xe){return xe.iconsInText&&X?"symbolTextAndIcon":ve?"symbolSDF":"symbolIcon"}function Oo(ve,X,xe,ne,be,Oe,qe,dt,Et,Zt,ar,yr){for(var Er=ve.context,Vr=Er.gl,nn=ve.transform,tn="map"===dt,Jr="map"===Et,ln=tn&&"point"!==xe.layout.get("symbol-placement"),wn=tn&&!Jr&&!ln,Un=void 0!==xe.layout.get("symbol-sort-key").constantOr(1),jn=ve.depthModeForSublayer(0,Cr.ReadOnly),ui=xe.layout.get("text-variable-anchor"),ni=[],ci=0,Ai=ne;ci<Ai.length;ci+=1){var Pi=Ai[ci],Ri=X.getTile(Pi),Oi=Ri.getBucket(xe);if(Oi){var Vi=be?Oi.text:Oi.icon;if(Vi&&Vi.segments.get().length){var ra=Vi.programConfigurations.get(xe.id),ca=be||Oi.sdfIcons,Oa=be?Oi.textSizeData:Oi.iconSizeData,da=Jr||0!==nn.pitch,Aa=ve.useProgram(Xc(ca,be,Oi),ra),Xi=l.evaluateSizeForZoom(Oa,nn.zoom),Ia=void 0,Sa=[0,0],Ka=void 0,Ca=void 0,Qa=null,la=void 0;if(be)Ka=Ri.glyphAtlasTexture,Ca=Vr.LINEAR,Ia=Ri.glyphAtlasTexture.size,Oi.iconsInText&&(Sa=Ri.imageAtlasTexture.size,Qa=Ri.imageAtlasTexture,la=da||ve.options.rotating||ve.options.zooming||"composite"===Oa.kind||"camera"===Oa.kind?Vr.LINEAR:Vr.NEAREST);else{var Ua=1!==xe.layout.get("icon-size").constantOr(0)||Oi.iconsNeedLinear;Ka=Ri.imageAtlasTexture,Ca=ca||ve.options.rotating||ve.options.zooming||Ua||da?Vr.LINEAR:Vr.NEAREST,Ia=Ri.imageAtlasTexture.size}var is=Dn(Ri,1,ve.transform.zoom),vo=nr(Pi.posMatrix,Jr,tn,ve.transform,is),Rl=Xr(Pi.posMatrix,Jr,tn,ve.transform,is),rf=ui&&Oi.hasTextData(),Ru="none"!==xe.layout.get("icon-text-fit")&&rf&&Oi.hasIconData();ln&&En(Oi,Pi.posMatrix,ve,be,vo,Rl,Jr,Zt);var hu=ve.translatePosMatrix(Pi.posMatrix,Ri,Oe,qe),vl=ln||be&&ui||Ru?Zf:vo,hs=ve.translatePosMatrix(Rl,Ri,Oe,qe,!0),Kl=ca&&0!==xe.paint.get(be?"text-halo-width":"icon-halo-width").constantOr(1),pl={program:Aa,buffers:Vi,uniformValues:ca?Oi.iconsInText?xc(Oa.kind,Xi,wn,Jr,ve,hu,vl,hs,Ia,Sa):jf(Oa.kind,Xi,wn,Jr,ve,hu,vl,hs,be,Ia,!0):Zc(Oa.kind,Xi,wn,Jr,ve,hu,vl,hs,be,Ia),atlasTexture:Ka,atlasTextureIcon:Qa,atlasInterpolation:Ca,atlasInterpolationIcon:la,isSDF:ca,hasHalo:Kl};if(Un)for(var nf=0,af=Vi.segments.get();nf<af.length;nf+=1){var Gd=af[nf];ni.push({segments:new l.SegmentVector([Gd]),sortKey:Gd.sortKey,state:pl})}else ni.push({segments:Vi.segments,sortKey:0,state:pl})}}}Un&&ni.sort(function(wf,od){return wf.sortKey-od.sortKey});for(var $c=0,_s=ni;$c<_s.length;$c+=1){var id=_s[$c],ml=id.state;if(Er.activeTexture.set(Vr.TEXTURE0),ml.atlasTexture.bind(ml.atlasInterpolation,Vr.CLAMP_TO_EDGE),ml.atlasTextureIcon&&(Er.activeTexture.set(Vr.TEXTURE1),ml.atlasTextureIcon&&ml.atlasTextureIcon.bind(ml.atlasInterpolationIcon,Vr.CLAMP_TO_EDGE)),ml.isSDF){var ad=ml.uniformValues;ml.hasHalo&&(ad.u_is_halo=1,Dl(ml.buffers,id.segments,xe,ve,ml.program,jn,ar,yr,ad)),ad.u_is_halo=0}Dl(ml.buffers,id.segments,xe,ve,ml.program,jn,ar,yr,ml.uniformValues)}}function Dl(ve,X,xe,ne,be,Oe,qe,dt,Et){var Zt=ne.context;be.draw(Zt,Zt.gl.TRIANGLES,Oe,qe,dt,Ft.disabled,Et,xe.id,ve.layoutVertexBuffer,ve.indexBuffer,X,xe.paint,ne.transform.zoom,ve.programConfigurations.get(xe.id),ve.dynamicLayoutVertexBuffer,ve.opacityVertexBuffer)}function Kf(ve,X,xe,ne,be,Oe,qe){var yr,Er,Vr,nn,tn,dt=ve.context.gl,Et=xe.paint.get("fill-pattern"),Zt=Et&&Et.constantOr(1),ar=xe.getCrossfadeParameters();qe?(Er=Zt&&!xe.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",yr=dt.LINES):(Er=Zt?"fillPattern":"fill",yr=dt.TRIANGLES);for(var Jr=0,ln=ne;Jr<ln.length;Jr+=1){var wn=ln[Jr],Un=X.getTile(wn);if(!Zt||Un.patternsLoaded()){var jn=Un.getBucket(xe);if(jn){var ui=jn.programConfigurations.get(xe.id),ni=ve.useProgram(Er,ui);Zt&&(ve.context.activeTexture.set(dt.TEXTURE0),Un.imageAtlasTexture.bind(dt.LINEAR,dt.CLAMP_TO_EDGE),ui.updatePaintBuffers(ar));var ci=Et.constantOr(null);if(ci&&Un.imageAtlas){var Ai=Un.imageAtlas,Pi=Ai.patternPositions[ci.to.toString()],Ri=Ai.patternPositions[ci.from.toString()];Pi&&Ri&&ui.setConstantPatternPositions(Pi,Ri)}var Oi=ve.translatePosMatrix(wn.posMatrix,Un,xe.paint.get("fill-translate"),xe.paint.get("fill-translate-anchor"));if(qe){nn=jn.indexBuffer2,tn=jn.segments2;var Vi=[dt.drawingBufferWidth,dt.drawingBufferHeight];Vr="fillOutlinePattern"===Er&&Zt?Hf(Oi,ve,ar,Un,Vi):Su(Oi,Vi)}else nn=jn.indexBuffer,tn=jn.segments,Vr=Zt?fa(Oi,ve,ar,Un):Vs(Oi);ni.draw(ve.context,yr,be,ve.stencilModeForClipping(wn),Oe,Ft.disabled,Vr,xe.id,jn.layoutVertexBuffer,nn,tn,xe.paint,ve.transform.zoom,ui)}}}}function uu(ve,X,xe,ne,be,Oe,qe){for(var dt=ve.context,Et=dt.gl,Zt=xe.paint.get("fill-extrusion-pattern"),ar=Zt.constantOr(1),yr=xe.getCrossfadeParameters(),Er=xe.paint.get("fill-extrusion-opacity"),Vr=0,nn=ne;Vr<nn.length;Vr+=1){var tn=nn[Vr],Jr=X.getTile(tn),ln=Jr.getBucket(xe);if(ln){var wn=ln.programConfigurations.get(xe.id),Un=ve.useProgram(ar?"fillExtrusionPattern":"fillExtrusion",wn);ar&&(ve.context.activeTexture.set(Et.TEXTURE0),Jr.imageAtlasTexture.bind(Et.LINEAR,Et.CLAMP_TO_EDGE),wn.updatePaintBuffers(yr));var jn=Zt.constantOr(null);if(jn&&Jr.imageAtlas){var ui=Jr.imageAtlas,ni=ui.patternPositions[jn.to.toString()],ci=ui.patternPositions[jn.from.toString()];ni&&ci&&wn.setConstantPatternPositions(ni,ci)}var Ai=ve.translatePosMatrix(tn.posMatrix,Jr,xe.paint.get("fill-extrusion-translate"),xe.paint.get("fill-extrusion-translate-anchor")),Pi=xe.paint.get("fill-extrusion-vertical-gradient"),Ri=ar?bs(Ai,ve,Pi,Er,tn,yr,Jr):ko(Ai,ve,Pi,Er);Un.draw(dt,dt.gl.TRIANGLES,be,Oe,qe,Ft.backCCW,Ri,xe.id,ln.layoutVertexBuffer,ln.indexBuffer,ln.segments,xe.paint,ve.transform.zoom,wn)}}}function Jf(ve,X,xe,ne,be,Oe){var qe=ve.context,dt=qe.gl,Et=X.fbo;if(Et){var Zt=ve.useProgram("hillshade");qe.activeTexture.set(dt.TEXTURE0),dt.bindTexture(dt.TEXTURE_2D,Et.colorAttachment.get());var ar=Zu(ve,X,xe);Zt.draw(qe,dt.TRIANGLES,ne,be,Oe,Ft.disabled,ar,xe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function Pu(ve,X,xe,ne,be,Oe,qe){var dt=ve.context,Et=dt.gl,Zt=X.dem;if(Zt&&Zt.data){var ar=Zt.dim,yr=Zt.stride,Er=Zt.getPixels();if(dt.activeTexture.set(Et.TEXTURE1),dt.pixelStoreUnpackPremultiplyAlpha.set(!1),X.demTexture=X.demTexture||ve.getTileTexture(yr),X.demTexture){var Vr=X.demTexture;Vr.update(Er,{premultiply:!1}),Vr.bind(Et.NEAREST,Et.CLAMP_TO_EDGE)}else X.demTexture=new l.Texture(dt,Er,Et.RGBA,{premultiply:!1}),X.demTexture.bind(Et.NEAREST,Et.CLAMP_TO_EDGE);dt.activeTexture.set(Et.TEXTURE0);var nn=X.fbo;if(!nn){var tn=new l.Texture(dt,{width:ar,height:ar,data:null},Et.RGBA);tn.bind(Et.LINEAR,Et.CLAMP_TO_EDGE),(nn=X.fbo=dt.createFramebuffer(ar,ar,!0)).colorAttachment.set(tn.texture)}dt.bindFramebuffer.set(nn.framebuffer),dt.viewport.set([0,0,ar,ar]),ve.useProgram("hillshadePrepare").draw(dt,Et.TRIANGLES,be,Oe,qe,Ft.disabled,Xu(X.tileID,Zt,ne),xe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments),X.needsHillshadePrepare=!1}}function fl(ve,X,xe,ne,be){var Oe=ne.paint.get("raster-fade-duration");if(Oe>0){var qe=l.browser.now(),dt=(qe-ve.timeAdded)/Oe,Et=X?(qe-X.timeAdded)/Oe:-1,Zt=xe.getSource(),ar=be.coveringZoomLevel({tileSize:Zt.tileSize,roundZoom:Zt.roundZoom}),yr=!X||Math.abs(X.tileID.overscaledZ-ar)>Math.abs(ve.tileID.overscaledZ-ar),Er=yr&&ve.refreshedUponExpiration?1:l.clamp(yr?dt:1-Et,0,1);return ve.refreshedUponExpiration&&dt>=1&&(ve.refreshedUponExpiration=!1),X?{opacity:1,mix:1-Er}:{opacity:Er,mix:0}}return{opacity:1,mix:0}}var Ch=new l.Color(1,0,0,1),bc=new l.Color(0,1,0,1),Eh=new l.Color(0,0,1,1),yf=new l.Color(1,0,1,1),wc=new l.Color(0,1,1,1);function tt(ve){var X=ve.transform.padding;xt(ve,ve.transform.height-(X.top||0),3,Ch),xt(ve,X.bottom||0,3,bc),Tt(ve,X.left||0,3,Eh),Tt(ve,ve.transform.width-(X.right||0),3,yf);var ne=ve.transform.centerPoint;!function st(ve,X,xe,ne){var be=20,Oe=2;Bt(ve,X-Oe/2,xe-be/2,Oe,be,ne),Bt(ve,X-be/2,xe-Oe/2,be,Oe,ne)}(ve,ne.x,ve.transform.height-ne.y,wc)}function xt(ve,X,xe,ne){Bt(ve,0,X+xe/2,ve.transform.width,xe,ne)}function Tt(ve,X,xe,ne){Bt(ve,X-xe/2,0,xe,ve.transform.height,ne)}function Bt(ve,X,xe,ne,be,Oe){var qe=ve.context,dt=qe.gl;dt.enable(dt.SCISSOR_TEST),dt.scissor(X*l.browser.devicePixelRatio,xe*l.browser.devicePixelRatio,ne*l.browser.devicePixelRatio,be*l.browser.devicePixelRatio),qe.clear({color:Oe}),dt.disable(dt.SCISSOR_TEST)}function Wt(ve,X,xe){var ne=ve.context,be=ne.gl,Oe=xe.posMatrix,qe=ve.useProgram("debug"),dt=Cr.disabled,Et=rr.disabled,Zt=ve.colorModeForRenderPass();ne.activeTexture.set(be.TEXTURE0),ve.emptyTexture.bind(be.LINEAR,be.CLAMP_TO_EDGE),qe.draw(ne,be.LINE_STRIP,dt,Et,Zt,Ft.disabled,Wl(Oe,l.Color.red),"$debug",ve.debugBuffer,ve.tileBorderIndexBuffer,ve.debugSegments);var yr=X.getTileByID(xe.key).latestRawTileData,Vr=Math.floor((yr&&yr.byteLength||0)/1024),nn=X.getTile(xe).tileSize,tn=512/Math.min(nn,512)*(xe.overscaledZ/ve.transform.zoom)*.5,Jr=xe.canonical.toString();xe.overscaledZ!==xe.canonical.z&&(Jr+=" => "+xe.overscaledZ),function br(ve,X){ve.initDebugOverlayCanvas();var xe=ve.debugOverlayCanvas,ne=ve.context.gl,be=ve.debugOverlayCanvas.getContext("2d");be.clearRect(0,0,xe.width,xe.height),be.shadowColor="white",be.shadowBlur=2,be.lineWidth=1.5,be.strokeStyle="white",be.textBaseline="top",be.font="bold 36px Open Sans, sans-serif",be.fillText(X,5,5),be.strokeText(X,5,5),ve.debugOverlayTexture.update(xe),ve.debugOverlayTexture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE)}(ve,Jr+" "+Vr+"kb"),qe.draw(ne,be.TRIANGLES,dt,Et,ct.alphaBlended,Ft.disabled,Wl(Oe,l.Color.transparent,tn),"$debug",ve.debugBuffer,ve.quadTriangleIndexBuffer,ve.debugSegments)}var gr={symbol:function pf(ve,X,xe,ne,be){if("translucent"===ve.renderPass){var Oe=rr.disabled,qe=ve.colorModeForRenderPass();xe.layout.get("text-variable-anchor")&&function ul(ve,X,xe,ne,be,Oe,qe){for(var dt=X.transform,Et="map"===be,Zt="map"===Oe,ar=0,yr=ve;ar<yr.length;ar+=1){var Er=yr[ar],Vr=ne.getTile(Er),nn=Vr.getBucket(xe);if(nn&&nn.text&&nn.text.segments.get().length){var Jr=l.evaluateSizeForZoom(nn.textSizeData,dt.zoom),ln=Dn(Vr,1,X.transform.zoom),wn=nr(Er.posMatrix,Zt,Et,X.transform,ln),Un="none"!==xe.layout.get("icon-text-fit")&&nn.hasIconData();if(Jr){var jn=Math.pow(2,dt.zoom-Vr.tileID.overscaledZ);Eo(nn,Et,Zt,qe,l.symbolSize,dt,wn,Er.posMatrix,jn,Jr,Un)}}}}(ne,ve,xe,X,xe.layout.get("text-rotation-alignment"),xe.layout.get("text-pitch-alignment"),be),0!==xe.paint.get("icon-opacity").constantOr(1)&&Oo(ve,X,xe,ne,!1,xe.paint.get("icon-translate"),xe.paint.get("icon-translate-anchor"),xe.layout.get("icon-rotation-alignment"),xe.layout.get("icon-pitch-alignment"),xe.layout.get("icon-keep-upright"),Oe,qe),0!==xe.paint.get("text-opacity").constantOr(1)&&Oo(ve,X,xe,ne,!0,xe.paint.get("text-translate"),xe.paint.get("text-translate-anchor"),xe.layout.get("text-rotation-alignment"),xe.layout.get("text-pitch-alignment"),xe.layout.get("text-keep-upright"),Oe,qe),X.map.showCollisionBoxes&&(Qu(ve,X,xe,ne,xe.paint.get("text-translate"),xe.paint.get("text-translate-anchor"),!0),Qu(ve,X,xe,ne,xe.paint.get("icon-translate"),xe.paint.get("icon-translate-anchor"),!1))}},circle:function _o(ve,X,xe,ne){if("translucent"===ve.renderPass){var be=xe.paint.get("circle-opacity"),Oe=xe.paint.get("circle-stroke-width"),qe=xe.paint.get("circle-stroke-opacity"),dt=void 0!==xe.layout.get("circle-sort-key").constantOr(1);if(0!==be.constantOr(1)||0!==Oe.constantOr(1)&&0!==qe.constantOr(1)){for(var Et=ve.context,Zt=Et.gl,ar=ve.depthModeForSublayer(0,Cr.ReadOnly),yr=rr.disabled,Er=ve.colorModeForRenderPass(),Vr=[],nn=0;nn<ne.length;nn++){var tn=ne[nn],Jr=X.getTile(tn),ln=Jr.getBucket(xe);if(ln){var wn=ln.programConfigurations.get(xe.id),ci={programConfiguration:wn,program:ve.useProgram("circle",wn),layoutVertexBuffer:ln.layoutVertexBuffer,indexBuffer:ln.indexBuffer,uniformValues:no(ve,tn,Jr,xe)};if(dt)for(var Pi=0,Ri=ln.segments.get();Pi<Ri.length;Pi+=1){var Oi=Ri[Pi];Vr.push({segments:new l.SegmentVector([Oi]),sortKey:Oi.sortKey,state:ci})}else Vr.push({segments:ln.segments,sortKey:0,state:ci})}}dt&&Vr.sort(function(Ca,Qa){return Ca.sortKey-Qa.sortKey});for(var Vi=0,ra=Vr;Vi<ra.length;Vi+=1){var ca=ra[Vi],Oa=ca.state;Oa.program.draw(Et,Zt.TRIANGLES,ar,yr,Er,Ft.disabled,Oa.uniformValues,xe.id,Oa.layoutVertexBuffer,Oa.indexBuffer,ca.segments,xe.paint,ve.transform.zoom,Oa.programConfiguration)}}}},heatmap:function Xf(ve,X,xe,ne){if(0!==xe.paint.get("heatmap-opacity"))if("offscreen"===ve.renderPass){var be=ve.context,Oe=be.gl,qe=rr.disabled,dt=new ct([Oe.ONE,Oe.ONE],l.Color.transparent,[!0,!0,!0,!0]);(function Kc(ve,X,xe){var ne=ve.gl;ve.activeTexture.set(ne.TEXTURE1),ve.viewport.set([0,0,X.width/4,X.height/4]);var be=xe.heatmapFbo;if(be)ne.bindTexture(ne.TEXTURE_2D,be.colorAttachment.get()),ve.bindFramebuffer.set(be.framebuffer);else{var Oe=ne.createTexture();ne.bindTexture(ne.TEXTURE_2D,Oe),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_S,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_T,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MIN_FILTER,ne.LINEAR),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MAG_FILTER,ne.LINEAR),be=xe.heatmapFbo=ve.createFramebuffer(X.width/4,X.height/4,!1),function Du(ve,X,xe,ne){var be=ve.gl;be.texImage2D(be.TEXTURE_2D,0,be.RGBA,X.width/4,X.height/4,0,be.RGBA,ve.extRenderToTextureHalfFloat?ve.extTextureHalfFloat.HALF_FLOAT_OES:be.UNSIGNED_BYTE,null),ne.colorAttachment.set(xe)}(ve,X,Oe,be)}})(be,ve,xe),be.clear({color:l.Color.transparent});for(var Et=0;Et<ne.length;Et++){var Zt=ne[Et];if(!X.hasRenderableParent(Zt)){var ar=X.getTile(Zt),yr=ar.getBucket(xe);if(yr){var Er=yr.programConfigurations.get(xe.id);ve.useProgram("heatmap",Er).draw(be,Oe.TRIANGLES,Cr.disabled,qe,dt,Ft.disabled,Gf(Zt.posMatrix,ar,ve.transform.zoom,xe.paint.get("heatmap-intensity")),xe.id,yr.layoutVertexBuffer,yr.indexBuffer,yr.segments,xe.paint,ve.transform.zoom,Er)}}}be.viewport.set([0,0,ve.width,ve.height])}else"translucent"===ve.renderPass&&(ve.context.setColorMode(ve.colorModeForRenderPass()),function Lu(ve,X){var xe=ve.context,ne=xe.gl,be=X.heatmapFbo;if(be){xe.activeTexture.set(ne.TEXTURE0),ne.bindTexture(ne.TEXTURE_2D,be.colorAttachment.get()),xe.activeTexture.set(ne.TEXTURE1);var Oe=X.colorRampTexture;Oe||(Oe=X.colorRampTexture=new l.Texture(xe,X.colorRamp,ne.RGBA)),Oe.bind(ne.LINEAR,ne.CLAMP_TO_EDGE),ve.useProgram("heatmapTexture").draw(xe,ne.TRIANGLES,Cr.disabled,rr.disabled,ve.colorModeForRenderPass(),Ft.disabled,iu(ve,X,0,1),X.id,ve.viewportBuffer,ve.quadTriangleIndexBuffer,ve.viewportSegments,X.paint,ve.transform.zoom)}}(ve,xe))},line:function Iu(ve,X,xe,ne){if("translucent"===ve.renderPass){var be=xe.paint.get("line-opacity"),Oe=xe.paint.get("line-width");if(0!==be.constantOr(1)&&0!==Oe.constantOr(1)){var qe=ve.depthModeForSublayer(0,Cr.ReadOnly),dt=ve.colorModeForRenderPass(),Et=xe.paint.get("line-dasharray"),Zt=xe.paint.get("line-pattern"),ar=Zt.constantOr(1),yr=xe.paint.get("line-gradient"),Er=xe.getCrossfadeParameters(),Vr=ar?"linePattern":Et?"lineSDF":yr?"lineGradient":"line",nn=ve.context,tn=nn.gl,Jr=!0;if(yr){nn.activeTexture.set(tn.TEXTURE0);var ln=xe.gradientTexture;if(!xe.gradient)return;ln||(ln=xe.gradientTexture=new l.Texture(nn,xe.gradient,tn.RGBA)),ln.bind(tn.LINEAR,tn.CLAMP_TO_EDGE)}for(var wn=0,Un=ne;wn<Un.length;wn+=1){var jn=Un[wn],ui=X.getTile(jn);if(!ar||ui.patternsLoaded()){var ni=ui.getBucket(xe);if(ni){var ci=ni.programConfigurations.get(xe.id),Ai=ve.context.program.get(),Pi=ve.useProgram(Vr,ci),Ri=Jr||Pi.program!==Ai,Oi=Zt.constantOr(null);if(Oi&&ui.imageAtlas){var Vi=ui.imageAtlas,ra=Vi.patternPositions[Oi.to.toString()],ca=Vi.patternPositions[Oi.from.toString()];ra&&ca&&ci.setConstantPatternPositions(ra,ca)}var Oa=ar?sl(ve,ui,xe,Er):Et?Ts(ve,ui,xe,Et,Er):yr?au(ve,ui,xe):Yl(ve,ui,xe);ar?(nn.activeTexture.set(tn.TEXTURE0),ui.imageAtlasTexture.bind(tn.LINEAR,tn.CLAMP_TO_EDGE),ci.updatePaintBuffers(Er)):Et&&(Ri||ve.lineAtlas.dirty)&&(nn.activeTexture.set(tn.TEXTURE0),ve.lineAtlas.bind(nn)),Pi.draw(nn,tn.TRIANGLES,qe,ve.stencilModeForClipping(jn),dt,Ft.disabled,Oa,xe.id,ni.layoutVertexBuffer,ni.indexBuffer,ni.segments,xe.paint,ve.transform.zoom,ci),Jr=!1}}}}}},fill:function qu(ve,X,xe,ne){var be=xe.paint.get("fill-color"),Oe=xe.paint.get("fill-opacity");if(0!==Oe.constantOr(1)){var qe=ve.colorModeForRenderPass(),dt=xe.paint.get("fill-pattern"),Et=ve.opaquePassEnabledForLayer()&&!dt.constantOr(1)&&1===be.constantOr(l.Color.transparent).a&&1===Oe.constantOr(0)?"opaque":"translucent";if(ve.renderPass===Et){var Zt=ve.depthModeForSublayer(1,"opaque"===ve.renderPass?Cr.ReadWrite:Cr.ReadOnly);Kf(ve,X,xe,ne,Zt,qe,!1)}if("translucent"===ve.renderPass&&xe.paint.get("fill-antialias")){var ar=ve.depthModeForSublayer(xe.getPaintProperty("fill-outline-color")?2:0,Cr.ReadOnly);Kf(ve,X,xe,ne,ar,qe,!0)}}},"fill-extrusion":function gf(ve,X,xe,ne){var be=xe.paint.get("fill-extrusion-opacity");if(0!==be&&"translucent"===ve.renderPass){var Oe=new Cr(ve.context.gl.LEQUAL,Cr.ReadWrite,ve.depthRangeFor3D);if(1!==be||xe.paint.get("fill-extrusion-pattern").constantOr(1))uu(ve,X,xe,ne,Oe,rr.disabled,ct.disabled),uu(ve,X,xe,ne,Oe,ve.stencilModeFor3D(),ve.colorModeForRenderPass());else{var qe=ve.colorModeForRenderPass();uu(ve,X,xe,ne,Oe,rr.disabled,qe)}}},hillshade:function As(ve,X,xe,ne){if("offscreen"===ve.renderPass||"translucent"===ve.renderPass){for(var be=ve.context,Oe=X.getSource().maxzoom,qe=ve.depthModeForSublayer(0,Cr.ReadOnly),dt=ve.colorModeForRenderPass(),Et="translucent"===ve.renderPass?ve.stencilConfigForOverlap(ne):[{},ne],Zt=Et[0],yr=0,Er=Et[1];yr<Er.length;yr+=1){var Vr=Er[yr],nn=X.getTile(Vr);nn.needsHillshadePrepare&&"offscreen"===ve.renderPass?Pu(ve,nn,xe,Oe,qe,rr.disabled,dt):"translucent"===ve.renderPass&&Jf(ve,nn,xe,qe,Zt[Vr.overscaledZ],dt)}be.viewport.set([0,0,ve.width,ve.height])}},raster:function Ls(ve,X,xe,ne){if("translucent"===ve.renderPass&&0!==xe.paint.get("raster-opacity")&&ne.length)for(var be=ve.context,Oe=be.gl,qe=X.getSource(),dt=ve.useProgram("raster"),Et=ve.colorModeForRenderPass(),Zt=qe instanceof ee?[{},ne]:ve.stencilConfigForOverlap(ne),ar=Zt[0],yr=Zt[1],Er=yr[yr.length-1].overscaledZ,Vr=!ve.options.moving,nn=0,tn=yr;nn<tn.length;nn+=1){var Jr=tn[nn],ln=ve.depthModeForSublayer(Jr.overscaledZ-Er,1===xe.paint.get("raster-opacity")?Cr.ReadWrite:Cr.ReadOnly,Oe.LESS),wn=X.getTile(Jr),Un=ve.transform.calculatePosMatrix(Jr.toUnwrapped(),Vr);wn.registerFadeDuration(xe.paint.get("raster-fade-duration"));var jn=X.findLoadedParent(Jr,0),ui=fl(wn,jn,X,xe,ve.transform),ni=void 0,ci=void 0,Ai="nearest"===xe.paint.get("raster-resampling")?Oe.NEAREST:Oe.LINEAR;be.activeTexture.set(Oe.TEXTURE0),wn.texture.bind(Ai,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST),be.activeTexture.set(Oe.TEXTURE1),jn?(jn.texture.bind(Ai,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST),ni=Math.pow(2,jn.tileID.overscaledZ-wn.tileID.overscaledZ),ci=[wn.tileID.canonical.x*ni%1,wn.tileID.canonical.y*ni%1]):wn.texture.bind(Ai,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST);var Pi=Ku(Un,ci||[0,0],ni||1,ui,xe);qe instanceof ee?dt.draw(be,Oe.TRIANGLES,ln,rr.disabled,Et,Ft.disabled,Pi,xe.id,qe.boundsBuffer,ve.quadTriangleIndexBuffer,qe.boundsSegments):dt.draw(be,Oe.TRIANGLES,ln,ar[Jr.overscaledZ],Et,Ft.disabled,Pi,xe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}},background:function fu(ve,X,xe){var ne=xe.paint.get("background-color"),be=xe.paint.get("background-opacity");if(0!==be){var Oe=ve.context,qe=Oe.gl,dt=ve.transform,Et=dt.tileSize,Zt=xe.paint.get("background-pattern");if(!ve.isPatternMissing(Zt)){var ar=!Zt&&1===ne.a&&1===be&&ve.opaquePassEnabledForLayer()?"opaque":"translucent";if(ve.renderPass===ar){var yr=rr.disabled,Er=ve.depthModeForSublayer(0,"opaque"===ar?Cr.ReadWrite:Cr.ReadOnly),Vr=ve.colorModeForRenderPass(),nn=ve.useProgram(Zt?"backgroundPattern":"background"),tn=dt.coveringTiles({tileSize:Et});Zt&&(Oe.activeTexture.set(qe.TEXTURE0),ve.imageManager.bind(ve.context));for(var Jr=xe.getCrossfadeParameters(),ln=0,wn=tn;ln<wn.length;ln+=1){var Un=wn[ln],jn=ve.transform.calculatePosMatrix(Un.toUnwrapped()),ui=Zt?Yf(jn,be,ve,Zt,{tileID:Un,tileSize:Et},Jr):Wf(jn,be,ne);nn.draw(Oe,qe.TRIANGLES,Er,yr,Vr,Ft.disabled,ui,xe.id,ve.tileExtentBuffer,ve.quadTriangleIndexBuffer,ve.tileExtentSegments)}}}}},debug:function Ot(ve,X,xe){for(var ne=0;ne<xe.length;ne++)Wt(ve,X,xe[ne])},custom:function Sr(ve,X,xe){var ne=ve.context,be=xe.implementation;if("offscreen"===ve.renderPass){var Oe=be.prerender;Oe&&(ve.setCustomLayerDefaults(),ne.setColorMode(ve.colorModeForRenderPass()),Oe.call(be,ne.gl,ve.transform.customLayerMatrix()),ne.setDirty(),ve.setBaseState())}else if("translucent"===ve.renderPass){ve.setCustomLayerDefaults(),ne.setColorMode(ve.colorModeForRenderPass()),ne.setStencilMode(rr.disabled);var qe="3d"===be.renderingMode?new Cr(ve.context.gl.LEQUAL,Cr.ReadWrite,ve.depthRangeFor3D):ve.depthModeForSublayer(0,Cr.ReadOnly);ne.setDepthMode(qe),be.render(ne.gl,ve.transform.customLayerMatrix()),ne.setDirty(),ve.setBaseState(),ne.bindFramebuffer.set(null)}}},Ar=function(X,xe){this.context=new Rt(X),this.transform=xe,this._tileTextures={},this.setup(),this.numSublayers=Gt.maxUnderzooming+Gt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Fi,this.gpuTimers={}};Ar.prototype.resize=function(X,xe){if(this.width=X*l.browser.devicePixelRatio,this.height=xe*l.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var ne=0,be=this.style._order;ne<be.length;ne+=1)this.style._layers[be[ne]].resize()},Ar.prototype.setup=function(){var X=this.context,xe=new l.StructArrayLayout2i4;xe.emplaceBack(0,0),xe.emplaceBack(l.EXTENT,0),xe.emplaceBack(0,l.EXTENT),xe.emplaceBack(l.EXTENT,l.EXTENT),this.tileExtentBuffer=X.createVertexBuffer(xe,ss.members),this.tileExtentSegments=l.SegmentVector.simpleSegment(0,0,4,2);var ne=new l.StructArrayLayout2i4;ne.emplaceBack(0,0),ne.emplaceBack(l.EXTENT,0),ne.emplaceBack(0,l.EXTENT),ne.emplaceBack(l.EXTENT,l.EXTENT),this.debugBuffer=X.createVertexBuffer(ne,ss.members),this.debugSegments=l.SegmentVector.simpleSegment(0,0,4,5);var be=new l.StructArrayLayout4i8;be.emplaceBack(0,0,0,0),be.emplaceBack(l.EXTENT,0,l.EXTENT,0),be.emplaceBack(0,l.EXTENT,0,l.EXTENT),be.emplaceBack(l.EXTENT,l.EXTENT,l.EXTENT,l.EXTENT),this.rasterBoundsBuffer=X.createVertexBuffer(be,Y.members),this.rasterBoundsSegments=l.SegmentVector.simpleSegment(0,0,4,2);var Oe=new l.StructArrayLayout2i4;Oe.emplaceBack(0,0),Oe.emplaceBack(1,0),Oe.emplaceBack(0,1),Oe.emplaceBack(1,1),this.viewportBuffer=X.createVertexBuffer(Oe,ss.members),this.viewportSegments=l.SegmentVector.simpleSegment(0,0,4,2);var qe=new l.StructArrayLayout1ui2;qe.emplaceBack(0),qe.emplaceBack(1),qe.emplaceBack(3),qe.emplaceBack(2),qe.emplaceBack(0),this.tileBorderIndexBuffer=X.createIndexBuffer(qe);var dt=new l.StructArrayLayout3ui6;dt.emplaceBack(0,1,2),dt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=X.createIndexBuffer(dt),this.emptyTexture=new l.Texture(X,{width:1,height:1,data:new Uint8Array([0,0,0,0])},X.gl.RGBA);var Et=this.context.gl;this.stencilClearMode=new rr({func:Et.ALWAYS,mask:0},0,255,Et.ZERO,Et.ZERO,Et.ZERO)},Ar.prototype.clearStencil=function(){var X=this.context,xe=X.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var ne=l.create();l.ortho(ne,0,this.width,this.height,0,0,1),l.scale(ne,ne,[xe.drawingBufferWidth,xe.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(X,xe.TRIANGLES,Cr.disabled,this.stencilClearMode,ct.disabled,Ft.disabled,Mo(ne),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Ar.prototype._renderTileClippingMasks=function(X,xe){if(this.currentStencilSource!==X.source&&X.isTileClipped()&&xe&&xe.length){this.currentStencilSource=X.source;var ne=this.context,be=ne.gl;this.nextStencilID+xe.length>256&&this.clearStencil(),ne.setColorMode(ct.disabled),ne.setDepthMode(Cr.disabled);var Oe=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var qe=0,dt=xe;qe<dt.length;qe+=1){var Et=dt[qe],Zt=this._tileClippingMaskIDs[Et.key]=this.nextStencilID++;Oe.draw(ne,be.TRIANGLES,Cr.disabled,new rr({func:be.ALWAYS,mask:0},Zt,255,be.KEEP,be.KEEP,be.REPLACE),ct.disabled,Ft.disabled,Mo(Et.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Ar.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var X=this.nextStencilID++,xe=this.context.gl;return new rr({func:xe.NOTEQUAL,mask:255},X,255,xe.KEEP,xe.KEEP,xe.REPLACE)},Ar.prototype.stencilModeForClipping=function(X){var xe=this.context.gl;return new rr({func:xe.EQUAL,mask:255},this._tileClippingMaskIDs[X.key],0,xe.KEEP,xe.KEEP,xe.REPLACE)},Ar.prototype.stencilConfigForOverlap=function(X){var xe,ne=this.context.gl,be=X.sort(function(Zt,ar){return ar.overscaledZ-Zt.overscaledZ}),Oe=be[be.length-1].overscaledZ,qe=be[0].overscaledZ-Oe+1;if(qe>1){this.currentStencilSource=void 0,this.nextStencilID+qe>256&&this.clearStencil();for(var dt={},Et=0;Et<qe;Et++)dt[Et+Oe]=new rr({func:ne.GEQUAL,mask:255},Et+this.nextStencilID,255,ne.KEEP,ne.KEEP,ne.REPLACE);return this.nextStencilID+=qe,[dt,be]}return[(xe={},xe[Oe]=rr.disabled,xe),be]},Ar.prototype.colorModeForRenderPass=function(){var X=this.context.gl;if(this._showOverdrawInspector){return new ct([X.CONSTANT_COLOR,X.ONE],new l.Color(.125,.125,.125,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?ct.unblended:ct.alphaBlended},Ar.prototype.depthModeForSublayer=function(X,xe,ne){if(!this.opaquePassEnabledForLayer())return Cr.disabled;var be=1-((1+this.currentLayer)*this.numSublayers+X)*this.depthEpsilon;return new Cr(ne||this.context.gl.LEQUAL,xe,[be,be])},Ar.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Ar.prototype.render=function(X,xe){var ne=this;this.style=X,this.options=xe,this.lineAtlas=X.lineAtlas,this.imageManager=X.imageManager,this.glyphManager=X.glyphManager,this.symbolFadeChange=X.placement.symbolFadeChange(l.browser.now()),this.imageManager.beginFrame();var be=this.style._order,Oe=this.style.sourceCaches;for(var qe in Oe){var dt=Oe[qe];dt.used&&dt.prepare(this.context)}var Ri,Oi,Et={},Zt={},ar={};for(var yr in Oe){var Er=Oe[yr];Et[yr]=Er.getVisibleCoordinates(),Zt[yr]=Et[yr].slice().reverse(),ar[yr]=Er.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Vr=0;Vr<be.length;Vr++)if(this.style._layers[be[Vr]].is3D()){this.opaquePassCutoff=Vr;break}this.renderPass="offscreen";for(var tn=0,Jr=be;tn<Jr.length;tn+=1){var wn=this.style._layers[Jr[tn]];if(wn.hasOffscreenPass()&&!wn.isHidden(this.transform.zoom)){var Un=Zt[wn.source];"custom"!==wn.type&&!Un.length||this.renderLayer(this,Oe[wn.source],wn,Un)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:xe.showOverdrawInspector?l.Color.black:l.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=xe.showOverdrawInspector,this.depthRangeFor3D=[0,1-(X._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=be.length-1;this.currentLayer>=0;this.currentLayer--){var jn=this.style._layers[be[this.currentLayer]],ui=Oe[jn.source],ni=Et[jn.source];this._renderTileClippingMasks(jn,ni),this.renderLayer(this,ui,jn,ni)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<be.length;this.currentLayer++){var ci=this.style._layers[be[this.currentLayer]],Ai=Oe[ci.source],Pi=("symbol"===ci.type?ar:Zt)[ci.source];this._renderTileClippingMasks(ci,Et[ci.source]),this.renderLayer(this,Ai,ci,Pi)}this.options.showTileBoundaries&&(l.values(this.style._layers).forEach(function(ra){ra.source&&!ra.isHidden(ne.transform.zoom)&&(ra.source!==(Oi&&Oi.id)&&(Oi=ne.style.sourceCaches[ra.source]),(!Ri||Ri.getSource().maxzoom<Oi.getSource().maxzoom)&&(Ri=Oi))}),Ri&&gr.debug(this,Ri,Ri.getVisibleCoordinates())),this.options.showPadding&&tt(this),this.context.setDefault()},Ar.prototype.renderLayer=function(X,xe,ne,be){ne.isHidden(this.transform.zoom)||"background"!==ne.type&&"custom"!==ne.type&&!be.length||(this.id=ne.id,this.gpuTimingStart(ne),gr[ne.type](X,xe,ne,be,this.style.placement.variableOffsets),this.gpuTimingEnd())},Ar.prototype.gpuTimingStart=function(X){if(this.options.gpuTiming){var xe=this.context.extTimerQuery,ne=this.gpuTimers[X.id];ne||(ne=this.gpuTimers[X.id]={calls:0,cpuTime:0,query:xe.createQueryEXT()}),ne.calls++,xe.beginQueryEXT(xe.TIME_ELAPSED_EXT,ne.query)}},Ar.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var X=this.context.extTimerQuery;X.endQueryEXT(X.TIME_ELAPSED_EXT)}},Ar.prototype.collectGpuTimers=function(){var X=this.gpuTimers;return this.gpuTimers={},X},Ar.prototype.queryGpuTimers=function(X){var xe={};for(var ne in X){var be=X[ne],Oe=this.context.extTimerQuery,qe=Oe.getQueryObjectEXT(be.query,Oe.QUERY_RESULT_EXT)/1e6;Oe.deleteQueryEXT(be.query),xe[ne]=qe}return xe},Ar.prototype.translatePosMatrix=function(X,xe,ne,be,Oe){if(!ne[0]&&!ne[1])return X;var qe=Oe?"map"===be?this.transform.angle:0:"viewport"===be?-this.transform.angle:0;if(qe){var dt=Math.sin(qe),Et=Math.cos(qe);ne=[ne[0]*Et-ne[1]*dt,ne[0]*dt+ne[1]*Et]}var Zt=[Oe?ne[0]:Dn(xe,ne[0],this.transform.zoom),Oe?ne[1]:Dn(xe,ne[1],this.transform.zoom),0],ar=new Float32Array(16);return l.translate(ar,X,Zt),ar},Ar.prototype.saveTileTexture=function(X){var xe=this._tileTextures[X.size[0]];xe?xe.push(X):this._tileTextures[X.size[0]]=[X]},Ar.prototype.getTileTexture=function(X){var xe=this._tileTextures[X];return xe&&xe.length>0?xe.pop():null},Ar.prototype.isPatternMissing=function(X){if(!X)return!1;if(!X.from||!X.to)return!0;var xe=this.imageManager.getPattern(X.from.toString()),ne=this.imageManager.getPattern(X.to.toString());return!xe||!ne},Ar.prototype.useProgram=function(X,xe){this.cache=this.cache||{};var ne=""+X+(xe?xe.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[ne]||(this.cache[ne]=new Us(this.context,_l[X],xe,su[X],this._showOverdrawInspector)),this.cache[ne]},Ar.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Ar.prototype.setBaseState=function(){var X=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(X.FUNC_ADD)},Ar.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=l.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new l.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Ar.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var _r=function(X,xe){this.points=X,this.planes=xe};_r.fromInvProjectionMatrix=function(X,xe,ne){var Oe=Math.pow(2,ne),qe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(Zt){return l.transformMat4([],Zt,X)}).map(function(Zt){return l.scale$1([],Zt,1/Zt[3]/xe*Oe)}),Et=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(Zt){var ar=l.sub([],qe[Zt[0]],qe[Zt[1]]),yr=l.sub([],qe[Zt[2]],qe[Zt[1]]),Er=l.normalize([],l.cross([],ar,yr)),Vr=-l.dot(Er,qe[Zt[1]]);return Er.concat(Vr)});return new _r(qe,Et)};var en=function(X,xe){this.min=X,this.max=xe,this.center=l.scale$2([],l.add([],this.min,this.max),.5)};en.prototype.quadrant=function(X){for(var xe=[X%2==0,X<2],ne=l.clone$2(this.min),be=l.clone$2(this.max),Oe=0;Oe<xe.length;Oe++)ne[Oe]=xe[Oe]?this.min[Oe]:this.center[Oe],be[Oe]=xe[Oe]?this.center[Oe]:this.max[Oe];return be[2]=this.max[2],new en(ne,be)},en.prototype.distanceX=function(X){return Math.max(Math.min(this.max[0],X[0]),this.min[0])-X[0]},en.prototype.distanceY=function(X){return Math.max(Math.min(this.max[1],X[1]),this.min[1])-X[1]},en.prototype.intersects=function(X){for(var xe=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],ne=!0,be=0;be<X.planes.length;be++){for(var Oe=X.planes[be],qe=0,dt=0;dt<xe.length;dt++)qe+=l.dot$1(Oe,xe[dt])>=0;if(0===qe)return 0;qe!==xe.length&&(ne=!1)}if(ne)return 2;for(var Et=0;Et<3;Et++){for(var Zt=Number.MAX_VALUE,ar=-Number.MAX_VALUE,yr=0;yr<X.points.length;yr++){var Er=X.points[yr][Et]-this.min[Et];Zt=Math.min(Zt,Er),ar=Math.max(ar,Er)}if(ar<0||Zt>this.max[Et]-this.min[Et])return 0}return 1};var sn=function(X,xe,ne,be){if(void 0===X&&(X=0),void 0===xe&&(xe=0),void 0===ne&&(ne=0),void 0===be&&(be=0),isNaN(X)||X<0||isNaN(xe)||xe<0||isNaN(ne)||ne<0||isNaN(be)||be<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=X,this.bottom=xe,this.left=ne,this.right=be};sn.prototype.interpolate=function(X,xe,ne){return null!=xe.top&&null!=X.top&&(this.top=l.number(X.top,xe.top,ne)),null!=xe.bottom&&null!=X.bottom&&(this.bottom=l.number(X.bottom,xe.bottom,ne)),null!=xe.left&&null!=X.left&&(this.left=l.number(X.left,xe.left,ne)),null!=xe.right&&null!=X.right&&(this.right=l.number(X.right,xe.right,ne)),this},sn.prototype.getCenter=function(X,xe){var ne=l.clamp((this.left+X-this.right)/2,0,X),be=l.clamp((this.top+xe-this.bottom)/2,0,xe);return new l.Point(ne,be)},sn.prototype.equals=function(X){return this.top===X.top&&this.bottom===X.bottom&&this.left===X.left&&this.right===X.right},sn.prototype.clone=function(){return new sn(this.top,this.bottom,this.left,this.right)},sn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var cn=function(X,xe,ne,be,Oe){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===Oe||Oe,this._minZoom=X||0,this._maxZoom=xe||22,this._minPitch=ne??0,this._maxPitch=be??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new l.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new sn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Pn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};cn.prototype.clone=function(){var X=new cn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return X.tileSize=this.tileSize,X.latRange=this.latRange,X.width=this.width,X.height=this.height,X._center=this._center,X.zoom=this.zoom,X.angle=this.angle,X._fov=this._fov,X._pitch=this._pitch,X._unmodified=this._unmodified,X._edgeInsets=this._edgeInsets.clone(),X._calcMatrices(),X},Pn.minZoom.get=function(){return this._minZoom},Pn.minZoom.set=function(ve){this._minZoom!==ve&&(this._minZoom=ve,this.zoom=Math.max(this.zoom,ve))},Pn.maxZoom.get=function(){return this._maxZoom},Pn.maxZoom.set=function(ve){this._maxZoom!==ve&&(this._maxZoom=ve,this.zoom=Math.min(this.zoom,ve))},Pn.minPitch.get=function(){return this._minPitch},Pn.minPitch.set=function(ve){this._minPitch!==ve&&(this._minPitch=ve,this.pitch=Math.max(this.pitch,ve))},Pn.maxPitch.get=function(){return this._maxPitch},Pn.maxPitch.set=function(ve){this._maxPitch!==ve&&(this._maxPitch=ve,this.pitch=Math.min(this.pitch,ve))},Pn.renderWorldCopies.get=function(){return this._renderWorldCopies},Pn.renderWorldCopies.set=function(ve){void 0===ve?ve=!0:null===ve&&(ve=!1),this._renderWorldCopies=ve},Pn.worldSize.get=function(){return this.tileSize*this.scale},Pn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Pn.size.get=function(){return new l.Point(this.width,this.height)},Pn.bearing.get=function(){return-this.angle/Math.PI*180},Pn.bearing.set=function(ve){var X=-l.wrap(ve,-180,180)*Math.PI/180;this.angle!==X&&(this._unmodified=!1,this.angle=X,this._calcMatrices(),this.rotationMatrix=l.create$2(),l.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Pn.pitch.get=function(){return this._pitch/Math.PI*180},Pn.pitch.set=function(ve){var X=l.clamp(ve,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==X&&(this._unmodified=!1,this._pitch=X,this._calcMatrices())},Pn.fov.get=function(){return this._fov/Math.PI*180},Pn.fov.set=function(ve){ve=Math.max(.01,Math.min(60,ve)),this._fov!==ve&&(this._unmodified=!1,this._fov=ve/180*Math.PI,this._calcMatrices())},Pn.zoom.get=function(){return this._zoom},Pn.zoom.set=function(ve){var X=Math.min(Math.max(ve,this.minZoom),this.maxZoom);this._zoom!==X&&(this._unmodified=!1,this._zoom=X,this.scale=this.zoomScale(X),this.tileZoom=Math.floor(X),this.zoomFraction=X-this.tileZoom,this._constrain(),this._calcMatrices())},Pn.center.get=function(){return this._center},Pn.center.set=function(ve){ve.lat===this._center.lat&&ve.lng===this._center.lng||(this._unmodified=!1,this._center=ve,this._constrain(),this._calcMatrices())},Pn.padding.get=function(){return this._edgeInsets.toJSON()},Pn.padding.set=function(ve){this._edgeInsets.equals(ve)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ve,1),this._calcMatrices())},Pn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},cn.prototype.isPaddingEqual=function(X){return this._edgeInsets.equals(X)},cn.prototype.interpolatePadding=function(X,xe,ne){this._unmodified=!1,this._edgeInsets.interpolate(X,xe,ne),this._constrain(),this._calcMatrices()},cn.prototype.coveringZoomLevel=function(X){var xe=(X.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/X.tileSize));return Math.max(0,xe)},cn.prototype.getVisibleUnwrappedCoordinates=function(X){var xe=[new l.UnwrappedTileID(0,X)];if(this._renderWorldCopies)for(var ne=this.pointCoordinate(new l.Point(0,0)),be=this.pointCoordinate(new l.Point(this.width,0)),Oe=this.pointCoordinate(new l.Point(this.width,this.height)),qe=this.pointCoordinate(new l.Point(0,this.height)),dt=Math.floor(Math.min(ne.x,be.x,Oe.x,qe.x)),Et=Math.floor(Math.max(ne.x,be.x,Oe.x,qe.x)),ar=dt-1;ar<=Et+1;ar++)0!==ar&&xe.push(new l.UnwrappedTileID(ar,X));return xe},cn.prototype.coveringTiles=function(X){var xe=this.coveringZoomLevel(X),ne=xe;if(void 0!==X.minzoom&&xe<X.minzoom)return[];void 0!==X.maxzoom&&xe>X.maxzoom&&(xe=X.maxzoom);var be=l.MercatorCoordinate.fromLngLat(this.center),Oe=Math.pow(2,xe),qe=[Oe*be.x,Oe*be.y,0],dt=_r.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,xe),Et=X.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Et=xe);var ar=function(Vi){return{aabb:new en([Vi*Oe,0,0],[(Vi+1)*Oe,Oe,0]),zoom:0,x:0,y:0,wrap:Vi,fullyVisible:!1}},yr=[],Er=[],Vr=xe,nn=X.reparseOverscaled?ne:xe;if(this._renderWorldCopies)for(var tn=1;tn<=3;tn++)yr.push(ar(-tn)),yr.push(ar(tn));for(yr.push(ar(0));yr.length>0;){var Jr=yr.pop(),ln=Jr.x,wn=Jr.y,Un=Jr.fullyVisible;if(!Un){var jn=Jr.aabb.intersects(dt);if(0===jn)continue;Un=2===jn}var ui=Jr.aabb.distanceX(qe),ni=Jr.aabb.distanceY(qe),ci=Math.max(Math.abs(ui),Math.abs(ni));if(Jr.zoom===Vr||ci>3+(1<<Vr-Jr.zoom)-2&&Jr.zoom>=Et)Er.push({tileID:new l.OverscaledTileID(Jr.zoom===Vr?nn:Jr.zoom,Jr.wrap,Jr.zoom,ln,wn),distanceSq:l.sqrLen([qe[0]-.5-ln,qe[1]-.5-wn])});else for(var Pi=0;Pi<4;Pi++){var Ri=(ln<<1)+Pi%2,Oi=(wn<<1)+(Pi>>1);yr.push({aabb:Jr.aabb.quadrant(Pi),zoom:Jr.zoom+1,x:Ri,y:Oi,wrap:Jr.wrap,fullyVisible:Un})}}return Er.sort(function(Vi,ra){return Vi.distanceSq-ra.distanceSq}).map(function(Vi){return Vi.tileID})},cn.prototype.resize=function(X,xe){this.width=X,this.height=xe,this.pixelsToGLUnits=[2/X,-2/xe],this._constrain(),this._calcMatrices()},Pn.unmodified.get=function(){return this._unmodified},cn.prototype.zoomScale=function(X){return Math.pow(2,X)},cn.prototype.scaleZoom=function(X){return Math.log(X)/Math.LN2},cn.prototype.project=function(X){var xe=l.clamp(X.lat,-this.maxValidLatitude,this.maxValidLatitude);return new l.Point(l.mercatorXfromLng(X.lng)*this.worldSize,l.mercatorYfromLat(xe)*this.worldSize)},cn.prototype.unproject=function(X){return new l.MercatorCoordinate(X.x/this.worldSize,X.y/this.worldSize).toLngLat()},Pn.point.get=function(){return this.project(this.center)},cn.prototype.setLocationAtPoint=function(X,xe){var ne=this.pointCoordinate(xe),be=this.pointCoordinate(this.centerPoint),Oe=this.locationCoordinate(X),qe=new l.MercatorCoordinate(Oe.x-(ne.x-be.x),Oe.y-(ne.y-be.y));this.center=this.coordinateLocation(qe),this._renderWorldCopies&&(this.center=this.center.wrap())},cn.prototype.locationPoint=function(X){return this.coordinatePoint(this.locationCoordinate(X))},cn.prototype.pointLocation=function(X){return this.coordinateLocation(this.pointCoordinate(X))},cn.prototype.locationCoordinate=function(X){return l.MercatorCoordinate.fromLngLat(X)},cn.prototype.coordinateLocation=function(X){return X.toLngLat()},cn.prototype.pointCoordinate=function(X){var ne=[X.x,X.y,0,1],be=[X.x,X.y,1,1];l.transformMat4(ne,ne,this.pixelMatrixInverse),l.transformMat4(be,be,this.pixelMatrixInverse);var Oe=ne[3],qe=be[3],Zt=ne[1]/Oe,ar=be[1]/qe,yr=ne[2]/Oe,Er=be[2]/qe,Vr=yr===Er?0:(0-yr)/(Er-yr);return new l.MercatorCoordinate(l.number(ne[0]/Oe,be[0]/qe,Vr)/this.worldSize,l.number(Zt,ar,Vr)/this.worldSize)},cn.prototype.coordinatePoint=function(X){var xe=[X.x*this.worldSize,X.y*this.worldSize,0,1];return l.transformMat4(xe,xe,this.pixelMatrix),new l.Point(xe[0]/xe[3],xe[1]/xe[3])},cn.prototype.getBounds=function(){return(new l.LngLatBounds).extend(this.pointLocation(new l.Point(0,0))).extend(this.pointLocation(new l.Point(this.width,0))).extend(this.pointLocation(new l.Point(this.width,this.height))).extend(this.pointLocation(new l.Point(0,this.height)))},cn.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new l.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},cn.prototype.setMaxBounds=function(X){X?(this.lngRange=[X.getWest(),X.getEast()],this.latRange=[X.getSouth(),X.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},cn.prototype.calculatePosMatrix=function(X,xe){void 0===xe&&(xe=!1);var ne=X.key,be=xe?this._alignedPosMatrixCache:this._posMatrixCache;if(be[ne])return be[ne];var Oe=X.canonical,qe=this.worldSize/this.zoomScale(Oe.z),dt=Oe.x+Math.pow(2,Oe.z)*X.wrap,Et=l.identity(new Float64Array(16));return l.translate(Et,Et,[dt*qe,Oe.y*qe,0]),l.scale(Et,Et,[qe/l.EXTENT,qe/l.EXTENT,1]),l.multiply(Et,xe?this.alignedProjMatrix:this.projMatrix,Et),be[ne]=new Float32Array(Et),be[ne]},cn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},cn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var Oe,qe,dt,Et,X=-90,xe=90,ne=-180,be=180,Zt=this.size,ar=this._unmodified;if(this.latRange){var yr=this.latRange;X=l.mercatorYfromLat(yr[1])*this.worldSize,Oe=(xe=l.mercatorYfromLat(yr[0])*this.worldSize)-X<Zt.y?Zt.y/(xe-X):0}if(this.lngRange){var Er=this.lngRange;ne=l.mercatorXfromLng(Er[0])*this.worldSize,qe=(be=l.mercatorXfromLng(Er[1])*this.worldSize)-ne<Zt.x?Zt.x/(be-ne):0}var Vr=this.point,nn=Math.max(qe||0,Oe||0);if(nn)return this.center=this.unproject(new l.Point(qe?(be+ne)/2:Vr.x,Oe?(xe+X)/2:Vr.y)),this.zoom+=this.scaleZoom(nn),this._unmodified=ar,void(this._constraining=!1);if(this.latRange){var tn=Vr.y,Jr=Zt.y/2;tn-Jr<X&&(Et=X+Jr),tn+Jr>xe&&(Et=xe-Jr)}if(this.lngRange){var ln=Vr.x,wn=Zt.x/2;ln-wn<ne&&(dt=ne+wn),ln+wn>be&&(dt=be-wn)}(void 0!==dt||void 0!==Et)&&(this.center=this.unproject(new l.Point(void 0!==dt?dt:Vr.x,void 0!==Et?Et:Vr.y))),this._unmodified=ar,this._constraining=!1}},cn.prototype._calcMatrices=function(){if(this.height){var xe=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var ne=Math.PI/2+this._pitch,be=this._fov*(.5+xe.y/this.height),Oe=Math.sin(be)*this.cameraToCenterDistance/Math.sin(l.clamp(Math.PI-ne-be,.01,Math.PI-.01)),qe=this.point,dt=qe.x,Et=qe.y,ar=1.01*(Math.cos(Math.PI/2-this._pitch)*Oe+this.cameraToCenterDistance),yr=this.height/50,Er=new Float64Array(16);l.perspective(Er,this._fov,this.width/this.height,yr,ar),Er[8]=2*-xe.x/this.width,Er[9]=2*xe.y/this.height,l.scale(Er,Er,[1,-1,1]),l.translate(Er,Er,[0,0,-this.cameraToCenterDistance]),l.rotateX(Er,Er,this._pitch),l.rotateZ(Er,Er,this.angle),l.translate(Er,Er,[-dt,-Et,0]),this.mercatorMatrix=l.scale([],Er,[this.worldSize,this.worldSize,this.worldSize]),l.scale(Er,Er,[1,1,l.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Er,this.invProjMatrix=l.invert([],this.projMatrix);var Vr=this.width%2/2,nn=this.height%2/2,tn=Math.cos(this.angle),Jr=Math.sin(this.angle),ln=dt-Math.round(dt)+tn*Vr+Jr*nn,wn=Et-Math.round(Et)+tn*nn+Jr*Vr,Un=new Float64Array(Er);if(l.translate(Un,Un,[ln>.5?ln-1:ln,wn>.5?wn-1:wn,0]),this.alignedProjMatrix=Un,Er=l.create(),l.scale(Er,Er,[this.width/2,-this.height/2,1]),l.translate(Er,Er,[1,-1,0]),this.labelPlaneMatrix=Er,Er=l.create(),l.scale(Er,Er,[1,-1,1]),l.translate(Er,Er,[-1,-1,0]),l.scale(Er,Er,[2/this.width,2/this.height,1]),this.glCoordMatrix=Er,this.pixelMatrix=l.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Er=l.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Er,this._posMatrixCache={},this._alignedPosMatrixCache={}}},cn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var X=this.pointCoordinate(new l.Point(0,0)),xe=[X.x*this.worldSize,X.y*this.worldSize,0,1];return l.transformMat4(xe,xe,this.pixelMatrix)[3]/this.cameraToCenterDistance},cn.prototype.getCameraPoint=function(){var xe=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new l.Point(0,xe))},cn.prototype.getCameraQueryGeometry=function(X){var xe=this.getCameraPoint();if(1===X.length)return[X[0],xe];for(var ne=xe.x,be=xe.y,Oe=xe.x,qe=xe.y,dt=0,Et=X;dt<Et.length;dt+=1){var Zt=Et[dt];ne=Math.min(ne,Zt.x),be=Math.min(be,Zt.y),Oe=Math.max(Oe,Zt.x),qe=Math.max(qe,Zt.y)}return[new l.Point(ne,be),new l.Point(Oe,be),new l.Point(Oe,qe),new l.Point(ne,qe),new l.Point(ne,be)]},Object.defineProperties(cn.prototype,Pn);var Si=function(X){this._hashName=X&&encodeURIComponent(X),l.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function ti(ve,X){var xe=!1,ne=null,be=function(){ne=null,xe&&(ve(),ne=setTimeout(be,X),xe=!1)};return function(){return xe=!0,ne||be(),ne}}(this._updateHashUnthrottled.bind(this),300)};Si.prototype.addTo=function(X){return this._map=X,l.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Si.prototype.remove=function(){return l.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Si.prototype.getHashString=function(X){var xe=this._map.getCenter(),ne=Math.round(100*this._map.getZoom())/100,be=Math.ceil((ne*Math.LN2+Math.log(512/360/.5))/Math.LN10),Oe=Math.pow(10,be),qe=Math.round(xe.lng*Oe)/Oe,dt=Math.round(xe.lat*Oe)/Oe,Et=this._map.getBearing(),Zt=this._map.getPitch(),ar="";if(ar+=X?"/"+qe+"/"+dt+"/"+ne:ne+"/"+dt+"/"+qe,(Et||Zt)&&(ar+="/"+Math.round(10*Et)/10),Zt&&(ar+="/"+Math.round(Zt)),this._hashName){var yr=this._hashName,Er=!1,Vr=l.window.location.hash.slice(1).split("&").map(function(nn){var tn=nn.split("=")[0];return tn===yr?(Er=!0,tn+"="+ar):nn}).filter(function(nn){return nn});return Er||Vr.push(yr+"="+ar),"#"+Vr.join("&")}return"#"+ar},Si.prototype._getCurrentHash=function(){var ne,X=this,xe=l.window.location.hash.replace("#","");return this._hashName?(xe.split("&").map(function(be){return be.split("=")}).forEach(function(be){be[0]===X._hashName&&(ne=be)}),(ne&&ne[1]||"").split("/")):xe.split("/")},Si.prototype._onHashChange=function(){var X=this._getCurrentHash();if(X.length>=3&&!X.some(function(ne){return isNaN(ne)})){var xe=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(X[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+X[2],+X[1]],zoom:+X[0],bearing:xe,pitch:+(X[4]||0)}),!0}return!1},Si.prototype._updateHashUnthrottled=function(){var X=this.getHashString();try{l.window.history.replaceState(l.window.history.state,"",X)}catch{}};var Yi={linearity:.3,easing:l.bezier(0,0,.3,1)},ji=l.extend({deceleration:2500,maxSpeed:1400},Yi),$i=l.extend({deceleration:20,maxSpeed:1400},Yi),sa=l.extend({deceleration:1e3,maxSpeed:360},Yi),Ha=l.extend({deceleration:1e3,maxSpeed:90},Yi),Wa=function(X){this._map=X,this.clear()};function Ci(ve,X){(!ve.duration||ve.duration<X.duration)&&(ve.duration=X.duration,ve.easing=X.easing)}function ro(ve,X,xe){var ne=xe.maxSpeed,be=xe.linearity,Oe=xe.deceleration,qe=l.clamp(ve*be/(X/1e3),-ne,ne),dt=Math.abs(qe)/(Oe*be);return{easing:xe.easing,duration:1e3*dt,amount:qe*(dt/2)}}Wa.prototype.clear=function(){this._inertiaBuffer=[]},Wa.prototype.record=function(X){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:l.browser.now(),settings:X})},Wa.prototype._drainInertiaBuffer=function(){for(var X=this._inertiaBuffer,xe=l.browser.now();X.length>0&&xe-X[0].time>160;)X.shift()},Wa.prototype._onMoveEnd=function(X){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var xe={zoom:0,bearing:0,pitch:0,pan:new l.Point(0,0),pinchAround:void 0,around:void 0},ne=0,be=this._inertiaBuffer;ne<be.length;ne+=1){var qe=be[ne].settings;xe.zoom+=qe.zoomDelta||0,xe.bearing+=qe.bearingDelta||0,xe.pitch+=qe.pitchDelta||0,qe.panDelta&&xe.pan._add(qe.panDelta),qe.around&&(xe.around=qe.around),qe.pinchAround&&(xe.pinchAround=qe.pinchAround)}var Et=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,Zt={};if(xe.pan.mag()){var ar=ro(xe.pan.mag(),Et,l.extend({},ji,X||{}));Zt.offset=xe.pan.mult(ar.amount/xe.pan.mag()),Zt.center=this._map.transform.center,Ci(Zt,ar)}if(xe.zoom){var yr=ro(xe.zoom,Et,$i);Zt.zoom=this._map.transform.zoom+yr.amount,Ci(Zt,yr)}if(xe.bearing){var Er=ro(xe.bearing,Et,sa);Zt.bearing=this._map.transform.bearing+l.clamp(Er.amount,-179,179),Ci(Zt,Er)}if(xe.pitch){var Vr=ro(xe.pitch,Et,Ha);Zt.pitch=this._map.transform.pitch+Vr.amount,Ci(Zt,Vr)}if(Zt.zoom||Zt.bearing){var nn=void 0===xe.pinchAround?xe.around:xe.pinchAround;Zt.around=nn?this._map.unproject(nn):this._map.getCenter()}return this.clear(),l.extend(Zt,{noMoveStart:!0})}};var io=function(ve){function X(ne,be,Oe,qe){void 0===qe&&(qe={});var dt=I.mousePos(be.getCanvasContainer(),Oe),Et=be.unproject(dt);ve.call(this,ne,l.extend({point:dt,lngLat:Et,originalEvent:Oe},qe)),this._defaultPrevented=!1,this.target=be}ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X;var xe={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},xe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,xe),X}(l.Event),cs=function(ve){function X(ne,be,Oe){var qe="touchend"===ne?Oe.changedTouches:Oe.touches,dt=I.touchPos(be.getCanvasContainer(),qe),Et=dt.map(function(yr){return be.unproject(yr)}),Zt=dt.reduce(function(yr,Er,Vr,nn){return yr.add(Er.div(nn.length))},new l.Point(0,0)),ar=be.unproject(Zt);ve.call(this,ne,{points:dt,point:Zt,lngLats:Et,lngLat:ar,originalEvent:Oe}),this._defaultPrevented=!1}ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X;var xe={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},xe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,xe),X}(l.Event),No=function(ve){function X(ne,be,Oe){ve.call(this,ne,{originalEvent:Oe}),this._defaultPrevented=!1}ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X;var xe={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},xe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,xe),X}(l.Event),Ja=function(X,xe){this._map=X,this._clickTolerance=xe.clickTolerance};Ja.prototype.reset=function(){delete this._mousedownPos},Ja.prototype.wheel=function(X){return this._firePreventable(new No(X.type,this._map,X))},Ja.prototype.mousedown=function(X,xe){return this._mousedownPos=xe,this._firePreventable(new io(X.type,this._map,X))},Ja.prototype.mouseup=function(X){this._map.fire(new io(X.type,this._map,X))},Ja.prototype.click=function(X,xe){this._mousedownPos&&this._mousedownPos.dist(xe)>=this._clickTolerance||this._map.fire(new io(X.type,this._map,X))},Ja.prototype.dblclick=function(X){return this._firePreventable(new io(X.type,this._map,X))},Ja.prototype.mouseover=function(X){this._map.fire(new io(X.type,this._map,X))},Ja.prototype.mouseout=function(X){this._map.fire(new io(X.type,this._map,X))},Ja.prototype.touchstart=function(X){return this._firePreventable(new cs(X.type,this._map,X))},Ja.prototype.touchmove=function(X){this._map.fire(new cs(X.type,this._map,X))},Ja.prototype.touchend=function(X){this._map.fire(new cs(X.type,this._map,X))},Ja.prototype.touchcancel=function(X){this._map.fire(new cs(X.type,this._map,X))},Ja.prototype._firePreventable=function(X){if(this._map.fire(X),X.defaultPrevented)return{}},Ja.prototype.isEnabled=function(){return!0},Ja.prototype.isActive=function(){return!1},Ja.prototype.enable=function(){},Ja.prototype.disable=function(){};var he=function(X){this._map=X};he.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},he.prototype.mousemove=function(X){this._map.fire(new io(X.type,this._map,X))},he.prototype.mousedown=function(){this._delayContextMenu=!0},he.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new io("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},he.prototype.contextmenu=function(X){this._delayContextMenu?this._contextMenuEvent=X:this._map.fire(new io(X.type,this._map,X)),this._map.listens("contextmenu")&&X.preventDefault()},he.prototype.isEnabled=function(){return!0},he.prototype.isActive=function(){return!1},he.prototype.enable=function(){},he.prototype.disable=function(){};var Ae=function(X,xe){this._map=X,this._el=X.getCanvasContainer(),this._container=X.getContainer(),this._clickTolerance=xe.clickTolerance||1};function Ge(ve,X){for(var xe={},ne=0;ne<ve.length;ne++)xe[ve[ne].identifier]=X[ne];return xe}Ae.prototype.isEnabled=function(){return!!this._enabled},Ae.prototype.isActive=function(){return!!this._active},Ae.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ae.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ae.prototype.mousedown=function(X,xe){this.isEnabled()&&X.shiftKey&&0===X.button&&(I.disableDrag(),this._startPos=this._lastPos=xe,this._active=!0)},Ae.prototype.mousemoveWindow=function(X,xe){if(this._active){var ne=xe;if(!(this._lastPos.equals(ne)||!this._box&&ne.dist(this._startPos)<this._clickTolerance)){var be=this._startPos;this._lastPos=ne,this._box||(this._box=I.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",X));var Oe=Math.min(be.x,ne.x),qe=Math.max(be.x,ne.x),dt=Math.min(be.y,ne.y),Et=Math.max(be.y,ne.y);I.setTransform(this._box,"translate("+Oe+"px,"+dt+"px)"),this._box.style.width=qe-Oe+"px",this._box.style.height=Et-dt+"px"}}},Ae.prototype.mouseupWindow=function(X,xe){var ne=this;if(this._active&&0===X.button){var be=this._startPos,Oe=xe;if(this.reset(),I.suppressClick(),be.x!==Oe.x||be.y!==Oe.y)return this._map.fire(new l.Event("boxzoomend",{originalEvent:X})),{cameraAnimation:function(qe){return qe.fitScreenCoordinates(be,Oe,ne._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",X)}},Ae.prototype.keydown=function(X){this._active&&27===X.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",X))},Ae.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(I.remove(this._box),this._box=null),I.enableDrag(),delete this._startPos,delete this._lastPos},Ae.prototype._fireEvent=function(X,xe){return this._map.fire(new l.Event(X,{originalEvent:xe}))};var Dt=function(X){this.reset(),this.numTouches=X.numTouches};Dt.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Dt.prototype.touchstart=function(X,xe,ne){(this.centroid||ne.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(void 0===this.startTime&&(this.startTime=X.timeStamp),ne.length===this.numTouches&&(this.centroid=function it(ve){for(var X=new l.Point(0,0),xe=0,ne=ve;xe<ne.length;xe+=1)X._add(ne[xe]);return X.div(ve.length)}(xe),this.touches=Ge(ne,xe)))},Dt.prototype.touchmove=function(X,xe,ne){if(!this.aborted&&this.centroid){var be=Ge(ne,xe);for(var Oe in this.touches){var dt=be[Oe];(!dt||dt.dist(this.touches[Oe])>30)&&(this.aborted=!0)}}},Dt.prototype.touchend=function(X,xe,ne){if((!this.centroid||X.timeStamp-this.startTime>500)&&(this.aborted=!0),0===ne.length){var be=!this.aborted&&this.centroid;if(this.reset(),be)return be}};var Yt=function(X){this.singleTap=new Dt(X),this.numTaps=X.numTaps,this.reset()};Yt.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Yt.prototype.touchstart=function(X,xe,ne){this.singleTap.touchstart(X,xe,ne)},Yt.prototype.touchmove=function(X,xe,ne){this.singleTap.touchmove(X,xe,ne)},Yt.prototype.touchend=function(X,xe,ne){var be=this.singleTap.touchend(X,xe,ne);if(be){var Oe=X.timeStamp-this.lastTime<500,qe=!this.lastTap||this.lastTap.dist(be)<30;if((!Oe||!qe)&&this.reset(),this.count++,this.lastTime=X.timeStamp,this.lastTap=be,this.count===this.numTaps)return this.reset(),be}};var sr=function(){this._zoomIn=new Yt({numTouches:1,numTaps:2}),this._zoomOut=new Yt({numTouches:2,numTaps:1}),this.reset()};sr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},sr.prototype.touchstart=function(X,xe,ne){this._zoomIn.touchstart(X,xe,ne),this._zoomOut.touchstart(X,xe,ne)},sr.prototype.touchmove=function(X,xe,ne){this._zoomIn.touchmove(X,xe,ne),this._zoomOut.touchmove(X,xe,ne)},sr.prototype.touchend=function(X,xe,ne){var be=this,Oe=this._zoomIn.touchend(X,xe,ne),qe=this._zoomOut.touchend(X,xe,ne);return Oe?(this._active=!0,X.preventDefault(),setTimeout(function(){return be.reset()},0),{cameraAnimation:function(dt){return dt.easeTo({duration:300,zoom:dt.getZoom()+1,around:dt.unproject(Oe)},{originalEvent:X})}}):qe?(this._active=!0,X.preventDefault(),setTimeout(function(){return be.reset()},0),{cameraAnimation:function(dt){return dt.easeTo({duration:300,zoom:dt.getZoom()-1,around:dt.unproject(qe)},{originalEvent:X})}}):void 0},sr.prototype.touchcancel=function(){this.reset()},sr.prototype.enable=function(){this._enabled=!0},sr.prototype.disable=function(){this._enabled=!1,this.reset()},sr.prototype.isEnabled=function(){return this._enabled},sr.prototype.isActive=function(){return this._active};var Fr=function(X){this.reset(),this._clickTolerance=X.clickTolerance||1};Fr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Fr.prototype._correctButton=function(X,xe){return!1},Fr.prototype._move=function(X,xe){return{}},Fr.prototype.mousedown=function(X,xe){if(!this._lastPoint){var ne=I.mouseButton(X);this._correctButton(X,ne)&&(this._lastPoint=xe,this._eventButton=ne)}},Fr.prototype.mousemoveWindow=function(X,xe){var ne=this._lastPoint;if(ne&&(X.preventDefault(),this._moved||!(xe.dist(ne)<this._clickTolerance)))return this._moved=!0,this._lastPoint=xe,this._move(ne,xe)},Fr.prototype.mouseupWindow=function(X){I.mouseButton(X)===this._eventButton&&(this._moved&&I.suppressClick(),this.reset())},Fr.prototype.enable=function(){this._enabled=!0},Fr.prototype.disable=function(){this._enabled=!1,this.reset()},Fr.prototype.isEnabled=function(){return this._enabled},Fr.prototype.isActive=function(){return this._active};var fn=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.mousedown=function(ne,be){ve.prototype.mousedown.call(this,ne,be),this._lastPoint&&(this._active=!0)},X.prototype._correctButton=function(ne,be){return 0===be&&!ne.ctrlKey},X.prototype._move=function(ne,be){return{around:be,panDelta:be.sub(ne)}},X}(Fr),yn=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype._correctButton=function(ne,be){return 0===be&&ne.ctrlKey||2===be},X.prototype._move=function(ne,be){var qe=.8*(be.x-ne.x);if(qe)return this._active=!0,{bearingDelta:qe}},X.prototype.contextmenu=function(ne){ne.preventDefault()},X}(Fr),Hr=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype._correctButton=function(ne,be){return 0===be&&ne.ctrlKey||2===be},X.prototype._move=function(ne,be){var qe=-.5*(be.y-ne.y);if(qe)return this._active=!0,{pitchDelta:qe}},X.prototype.contextmenu=function(ne){ne.preventDefault()},X}(Fr),Wr=function(X){this._minTouches=1,this._clickTolerance=X.clickTolerance||1,this.reset()};Wr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new l.Point(0,0)},Wr.prototype.touchstart=function(X,xe,ne){return this._calculateTransform(X,xe,ne)},Wr.prototype.touchmove=function(X,xe,ne){if(this._active)return X.preventDefault(),this._calculateTransform(X,xe,ne)},Wr.prototype.touchend=function(X,xe,ne){this._calculateTransform(X,xe,ne),this._active&&ne.length<this._minTouches&&this.reset()},Wr.prototype.touchcancel=function(){this.reset()},Wr.prototype._calculateTransform=function(X,xe,ne){ne.length>0&&(this._active=!0);var be=Ge(ne,xe),Oe=new l.Point(0,0),qe=new l.Point(0,0),dt=0;for(var Et in be){var Zt=be[Et],ar=this._touches[Et];ar&&(Oe._add(Zt),qe._add(Zt.sub(ar)),dt++,be[Et]=Zt)}if(this._touches=be,!(dt<this._minTouches)&&qe.mag()){var yr=qe.div(dt);if(this._sum._add(yr),!(this._sum.mag()<this._clickTolerance))return{around:Oe.div(dt),panDelta:yr}}},Wr.prototype.enable=function(){this._enabled=!0},Wr.prototype.disable=function(){this._enabled=!1,this.reset()},Wr.prototype.isEnabled=function(){return this._enabled},Wr.prototype.isActive=function(){return this._active};var qr=function(){this.reset()};function mn(ve,X,xe){for(var ne=0;ne<ve.length;ne++)if(ve[ne].identifier===xe)return X[ne]}qr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},qr.prototype._start=function(X){},qr.prototype._move=function(X,xe,ne){return{}},qr.prototype.touchstart=function(X,xe,ne){this._firstTwoTouches||ne.length<2||(this._firstTwoTouches=[ne[0].identifier,ne[1].identifier],this._start([xe[0],xe[1]]))},qr.prototype.touchmove=function(X,xe,ne){if(this._firstTwoTouches){X.preventDefault();var be=this._firstTwoTouches,qe=be[1],dt=mn(ne,xe,be[0]),Et=mn(ne,xe,qe);if(dt&&Et){var Zt=this._aroundCenter?null:dt.add(Et).div(2);return this._move([dt,Et],Zt,X)}}},qr.prototype.touchend=function(X,xe,ne){if(this._firstTwoTouches){var be=this._firstTwoTouches,qe=be[1],dt=mn(ne,xe,be[0]),Et=mn(ne,xe,qe);dt&&Et||(this._active&&I.suppressClick(),this.reset())}},qr.prototype.touchcancel=function(){this.reset()},qr.prototype.enable=function(X){this._enabled=!0,this._aroundCenter=!!X&&"center"===X.around},qr.prototype.disable=function(){this._enabled=!1,this.reset()},qr.prototype.isEnabled=function(){return this._enabled},qr.prototype.isActive=function(){return this._active};function on(ve,X){return Math.log(ve/X)/Math.LN2}var ei=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.reset=function(){ve.prototype.reset.call(this),delete this._distance,delete this._startDistance},X.prototype._start=function(ne){this._startDistance=this._distance=ne[0].dist(ne[1])},X.prototype._move=function(ne,be){var Oe=this._distance;if(this._distance=ne[0].dist(ne[1]),this._active||!(Math.abs(on(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:on(this._distance,Oe),pinchAround:be}},X}(qr);function ki(ve,X){return 180*ve.angleWith(X)/Math.PI}var Di=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.reset=function(){ve.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},X.prototype._start=function(ne){this._startVector=this._vector=ne[0].sub(ne[1]),this._minDiameter=ne[0].dist(ne[1])},X.prototype._move=function(ne,be){var Oe=this._vector;if(this._vector=ne[0].sub(ne[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ki(this._vector,Oe),pinchAround:be}},X.prototype._isBelowThreshold=function(ne){this._minDiameter=Math.min(this._minDiameter,ne.mag());var Oe=25/(Math.PI*this._minDiameter)*360,qe=ki(ne,this._startVector);return Math.abs(qe)<Oe},X}(qr);function Ii(ve){return Math.abs(ve.y)>Math.abs(ve.x)}var Gi=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.reset=function(){ve.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},X.prototype._start=function(ne){this._lastPoints=ne,Ii(ne[0].sub(ne[1]))&&(this._valid=!1)},X.prototype._move=function(ne,be,Oe){var qe=ne[0].sub(this._lastPoints[0]),dt=ne[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(qe,dt,Oe.timeStamp),this._valid)return this._lastPoints=ne,this._active=!0,{pitchDelta:(qe.y+dt.y)/2*-.5}},X.prototype.gestureBeginsVertically=function(ne,be,Oe){if(void 0!==this._valid)return this._valid;var dt=ne.mag()>=2,Et=be.mag()>=2;if(dt||Et){if(!dt||!Et)return void 0===this._firstMove&&(this._firstMove=Oe),Oe-this._firstMove<100&&void 0;var Zt=ne.y>0==be.y>0;return Ii(ne)&&Ii(be)&&Zt}},X}(qr),_i={panStep:100,bearingStep:15,pitchStep:10},ea=function(){var X=_i;this._panStep=X.panStep,this._bearingStep=X.bearingStep,this._pitchStep=X.pitchStep};function Ta(ve){return ve*(2-ve)}ea.prototype.reset=function(){this._active=!1},ea.prototype.keydown=function(X){var xe=this;if(!(X.altKey||X.ctrlKey||X.metaKey)){var ne=0,be=0,Oe=0,qe=0,dt=0;switch(X.keyCode){case 61:case 107:case 171:case 187:ne=1;break;case 189:case 109:case 173:ne=-1;break;case 37:X.shiftKey?be=-1:(X.preventDefault(),qe=-1);break;case 39:X.shiftKey?be=1:(X.preventDefault(),qe=1);break;case 38:X.shiftKey?Oe=1:(X.preventDefault(),dt=-1);break;case 40:X.shiftKey?Oe=-1:(X.preventDefault(),dt=1);break;default:return}return{cameraAnimation:function(Et){var Zt=Et.getZoom();Et.easeTo({duration:300,easeId:"keyboardHandler",easing:Ta,zoom:ne?Math.round(Zt)+ne*(X.shiftKey?2:1):Zt,bearing:Et.getBearing()+be*xe._bearingStep,pitch:Et.getPitch()+Oe*xe._pitchStep,offset:[-qe*xe._panStep,-dt*xe._panStep],center:Et.getCenter()},{originalEvent:X})}}}},ea.prototype.enable=function(){this._enabled=!0},ea.prototype.disable=function(){this._enabled=!1,this.reset()},ea.prototype.isEnabled=function(){return this._enabled},ea.prototype.isActive=function(){return this._active};var co=4.000244140625,qi=function(X,xe){this._map=X,this._el=X.getCanvasContainer(),this._handler=xe,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,l.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};qi.prototype.setZoomRate=function(X){this._defaultZoomRate=X},qi.prototype.setWheelZoomRate=function(X){this._wheelZoomRate=X},qi.prototype.isEnabled=function(){return!!this._enabled},qi.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},qi.prototype.isZooming=function(){return!!this._zooming},qi.prototype.enable=function(X){this.isEnabled()||(this._enabled=!0,this._aroundCenter=X&&"center"===X.around)},qi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},qi.prototype.wheel=function(X){if(this.isEnabled()){var xe=X.deltaMode===l.window.WheelEvent.DOM_DELTA_LINE?40*X.deltaY:X.deltaY,ne=l.browser.now(),be=ne-(this._lastWheelEventTime||0);this._lastWheelEventTime=ne,0!==xe&&xe%co==0?this._type="wheel":0!==xe&&Math.abs(xe)<4?this._type="trackpad":be>400?(this._type=null,this._lastValue=xe,this._timeout=setTimeout(this._onTimeout,40,X)):this._type||(this._type=Math.abs(be*xe)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,xe+=this._lastValue)),X.shiftKey&&xe&&(xe/=4),this._type&&(this._lastWheelEvent=X,this._delta-=xe,this._active||this._start(X)),X.preventDefault()}},qi.prototype._onTimeout=function(X){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(X)},qi.prototype._start=function(X){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var xe=I.mousePos(this._el,X);this._around=l.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(xe)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},qi.prototype.renderFrame=function(){return this._onScrollFrame()},qi.prototype._onScrollFrame=function(){var X=this;if(this._frameId&&(this._frameId=null,this.isActive())){var xe=this._map.transform;if(0!==this._delta){var ne="wheel"===this._type&&Math.abs(this._delta)>co?this._wheelZoomRate:this._defaultZoomRate,be=2/(1+Math.exp(-Math.abs(this._delta*ne)));this._delta<0&&0!==be&&(be=1/be);var Oe="number"==typeof this._targetZoom?xe.zoomScale(this._targetZoom):xe.scale;this._targetZoom=Math.min(xe.maxZoom,Math.max(xe.minZoom,xe.scaleZoom(Oe*be))),"wheel"===this._type&&(this._startZoom=xe.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var ar,qe="number"==typeof this._targetZoom?this._targetZoom:xe.zoom,dt=this._startZoom,Et=this._easing,Zt=!1;if("wheel"===this._type&&dt&&Et){var yr=Math.min((l.browser.now()-this._lastWheelEventTime)/200,1),Er=Et(yr);ar=l.number(dt,qe,Er),yr<1?this._frameId||(this._frameId=!0):Zt=!0}else ar=qe,Zt=!0;return this._active=!0,Zt&&(this._active=!1,this._finishTimeout=setTimeout(function(){X._zooming=!1,X._handler._triggerRenderFrame(),delete X._targetZoom,delete X._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Zt,zoomDelta:ar-xe.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},qi.prototype._smoothOutEasing=function(X){var xe=l.ease;if(this._prevEase){var ne=this._prevEase,be=(l.browser.now()-ne.start)/ne.duration,Oe=ne.easing(be+.01)-ne.easing(be),qe=.27/Math.sqrt(Oe*Oe+1e-4)*.01,dt=Math.sqrt(.0729-qe*qe);xe=l.bezier(qe,dt,.25,1)}return this._prevEase={start:l.browser.now(),duration:X,easing:xe},xe},qi.prototype.reset=function(){this._active=!1};var ai=function(X,xe){this._clickZoom=X,this._tapZoom=xe};ai.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ai.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ai.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ai.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ni=function(){this.reset()};Ni.prototype.reset=function(){this._active=!1},Ni.prototype.dblclick=function(X,xe){return X.preventDefault(),{cameraAnimation:function(ne){ne.easeTo({duration:300,zoom:ne.getZoom()+(X.shiftKey?-1:1),around:ne.unproject(xe)},{originalEvent:X})}}},Ni.prototype.enable=function(){this._enabled=!0},Ni.prototype.disable=function(){this._enabled=!1,this.reset()},Ni.prototype.isEnabled=function(){return this._enabled},Ni.prototype.isActive=function(){return this._active};var ka=function(){this._tap=new Yt({numTouches:1,numTaps:1}),this.reset()};ka.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ka.prototype.touchstart=function(X,xe,ne){this._swipePoint||(this._tapTime&&X.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?ne.length>0&&(this._swipePoint=xe[0],this._swipeTouch=ne[0].identifier):this._tap.touchstart(X,xe,ne))},ka.prototype.touchmove=function(X,xe,ne){if(this._tapTime){if(this._swipePoint){if(ne[0].identifier!==this._swipeTouch)return;var be=xe[0],Oe=be.y-this._swipePoint.y;return this._swipePoint=be,X.preventDefault(),this._active=!0,{zoomDelta:Oe/128}}}else this._tap.touchmove(X,xe,ne)},ka.prototype.touchend=function(X,xe,ne){this._tapTime?this._swipePoint&&0===ne.length&&this.reset():this._tap.touchend(X,xe,ne)&&(this._tapTime=X.timeStamp)},ka.prototype.touchcancel=function(){this.reset()},ka.prototype.enable=function(){this._enabled=!0},ka.prototype.disable=function(){this._enabled=!1,this.reset()},ka.prototype.isEnabled=function(){return this._enabled},ka.prototype.isActive=function(){return this._active};var za=function(X,xe,ne){this._el=X,this._mousePan=xe,this._touchPan=ne};za.prototype.enable=function(X){this._inertiaOptions=X||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},za.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},za.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},za.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ho=function(X,xe,ne){this._pitchWithRotate=X.pitchWithRotate,this._mouseRotate=xe,this._mousePitch=ne};ho.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ho.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ho.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ho.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Ba=function(X,xe,ne,be){this._el=X,this._touchZoom=xe,this._touchRotate=ne,this._tapDragZoom=be,this._rotationDisabled=!1,this._enabled=!0};Ba.prototype.enable=function(X){this._touchZoom.enable(X),this._rotationDisabled||this._touchRotate.enable(X),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Ba.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Ba.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Ba.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Ba.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Ba.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var zo=function(ve){return ve.zoom||ve.drag||ve.pitch||ve.rotate},Bo=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X}(l.Event);function Jo(ve){return ve.panDelta&&ve.panDelta.mag()||ve.zoomDelta||ve.bearingDelta||ve.pitchDelta}var ya=function(X,xe){this._map=X,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Wa(X),this._bearingSnap=xe.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(xe),l.bindAll(["handleEvent","handleWindowEvent"],this);var ne=this._el;this._listeners=[[ne,"touchstart",{passive:!1}],[ne,"touchmove",{passive:!1}],[ne,"touchend",void 0],[ne,"touchcancel",void 0],[ne,"mousedown",void 0],[ne,"mousemove",void 0],[ne,"mouseup",void 0],[l.window.document,"mousemove",{capture:!0}],[l.window.document,"mouseup",void 0],[ne,"mouseover",void 0],[ne,"mouseout",void 0],[ne,"dblclick",void 0],[ne,"click",void 0],[ne,"keydown",{capture:!1}],[ne,"keyup",void 0],[ne,"wheel",{passive:!1}],[ne,"contextmenu",void 0],[l.window,"blur",void 0]];for(var be=0,Oe=this._listeners;be<Oe.length;be+=1){var qe=Oe[be],dt=qe[0];I.addEventListener(dt,qe[1],dt===l.window.document?this.handleWindowEvent:this.handleEvent,qe[2])}};ya.prototype.destroy=function(){for(var X=0,xe=this._listeners;X<xe.length;X+=1){var ne=xe[X],be=ne[0];I.removeEventListener(be,ne[1],be===l.window.document?this.handleWindowEvent:this.handleEvent,ne[2])}},ya.prototype._addDefaultHandlers=function(X){var xe=this._map,ne=xe.getCanvasContainer();this._add("mapEvent",new Ja(xe,X));var be=xe.boxZoom=new Ae(xe,X);this._add("boxZoom",be);var Oe=new sr,qe=new Ni;xe.doubleClickZoom=new ai(qe,Oe),this._add("tapZoom",Oe),this._add("clickZoom",qe);var dt=new ka;this._add("tapDragZoom",dt);var Et=xe.touchPitch=new Gi;this._add("touchPitch",Et);var Zt=new yn(X),ar=new Hr(X);xe.dragRotate=new ho(X,Zt,ar),this._add("mouseRotate",Zt,["mousePitch"]),this._add("mousePitch",ar,["mouseRotate"]);var yr=new fn(X),Er=new Wr(X);xe.dragPan=new za(ne,yr,Er),this._add("mousePan",yr),this._add("touchPan",Er,["touchZoom","touchRotate"]);var Vr=new Di,nn=new ei;xe.touchZoomRotate=new Ba(ne,nn,Vr,dt),this._add("touchRotate",Vr,["touchPan","touchZoom"]),this._add("touchZoom",nn,["touchPan","touchRotate"]);var tn=xe.scrollZoom=new qi(xe,this);this._add("scrollZoom",tn,["mousePan"]);var Jr=xe.keyboard=new ea;this._add("keyboard",Jr),this._add("blockableMapEvent",new he(xe));for(var ln=0,wn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];ln<wn.length;ln+=1){var Un=wn[ln];X.interactive&&X[Un]&&xe[Un].enable(X[Un])}},ya.prototype._add=function(X,xe,ne){this._handlers.push({handlerName:X,handler:xe,allowed:ne}),this._handlersById[X]=xe},ya.prototype.stop=function(){if(!this._updatingCamera){for(var X=0,xe=this._handlers;X<xe.length;X+=1)xe[X].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},ya.prototype.isActive=function(){for(var X=0,xe=this._handlers;X<xe.length;X+=1)if(xe[X].handler.isActive())return!0;return!1},ya.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},ya.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},ya.prototype.isMoving=function(){return!!zo(this._eventsInProgress)||this.isZooming()},ya.prototype._blockedByActive=function(X,xe,ne){for(var be in X)if(be!==ne&&(!xe||xe.indexOf(be)<0))return!0;return!1},ya.prototype.handleWindowEvent=function(X){this.handleEvent(X,X.type+"Window")},ya.prototype._getMapTouches=function(X){for(var xe=[],ne=0,be=X;ne<be.length;ne+=1){var Oe=be[ne];this._el.contains(Oe.target)&&xe.push(Oe)}return xe},ya.prototype.handleEvent=function(X,xe){if("blur"!==X.type){this._updatingCamera=!0;for(var ne="renderFrame"===X.type?void 0:X,be={needsRenderFrame:!1},Oe={},qe={},dt=X.touches?this._getMapTouches(X.touches):void 0,Et=dt?I.touchPos(this._el,dt):I.mousePos(this._el,X),Zt=0,ar=this._handlers;Zt<ar.length;Zt+=1){var yr=ar[Zt],Er=yr.handlerName,Vr=yr.handler,nn=yr.allowed;if(Vr.isEnabled()){var tn=void 0;this._blockedByActive(qe,nn,Er)?Vr.reset():Vr[xe||X.type]&&(tn=Vr[xe||X.type](X,Et,dt),this.mergeHandlerResult(be,Oe,tn,Er,ne),tn&&tn.needsRenderFrame&&this._triggerRenderFrame()),(tn||Vr.isActive())&&(qe[Er]=Vr)}}var Jr={};for(var ln in this._previousActiveHandlers)qe[ln]||(Jr[ln]=ne);this._previousActiveHandlers=qe,(Object.keys(Jr).length||Jo(be))&&(this._changes.push([be,Oe,Jr]),this._triggerRenderFrame()),(Object.keys(qe).length||Jo(be))&&this._map._stop(!0),this._updatingCamera=!1;var wn=be.cameraAnimation;wn&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],wn(this._map))}else this.stop()},ya.prototype.mergeHandlerResult=function(X,xe,ne,be,Oe){if(ne){l.extend(X,ne);var qe={handlerName:be,originalEvent:ne.originalEvent||Oe};void 0!==ne.zoomDelta&&(xe.zoom=qe),void 0!==ne.panDelta&&(xe.drag=qe),void 0!==ne.pitchDelta&&(xe.pitch=qe),void 0!==ne.bearingDelta&&(xe.rotate=qe)}},ya.prototype._applyChanges=function(){for(var X={},xe={},ne={},be=0,Oe=this._changes;be<Oe.length;be+=1){var qe=Oe[be],dt=qe[0],Et=qe[1],Zt=qe[2];dt.panDelta&&(X.panDelta=(X.panDelta||new l.Point(0,0))._add(dt.panDelta)),dt.zoomDelta&&(X.zoomDelta=(X.zoomDelta||0)+dt.zoomDelta),dt.bearingDelta&&(X.bearingDelta=(X.bearingDelta||0)+dt.bearingDelta),dt.pitchDelta&&(X.pitchDelta=(X.pitchDelta||0)+dt.pitchDelta),void 0!==dt.around&&(X.around=dt.around),void 0!==dt.pinchAround&&(X.pinchAround=dt.pinchAround),dt.noInertia&&(X.noInertia=dt.noInertia),l.extend(xe,Et),l.extend(ne,Zt)}this._updateMapTransform(X,xe,ne),this._changes=[]},ya.prototype._updateMapTransform=function(X,xe,ne){var be=this._map,Oe=be.transform;if(!Jo(X))return this._fireEvents(xe,ne);var qe=X.panDelta,dt=X.zoomDelta,Et=X.bearingDelta,Zt=X.pitchDelta,ar=X.around,yr=X.pinchAround;void 0!==yr&&(ar=yr),be._stop(!0),ar=ar||be.transform.centerPoint;var Er=Oe.pointLocation(qe?ar.sub(qe):ar);Et&&(Oe.bearing+=Et),Zt&&(Oe.pitch+=Zt),dt&&(Oe.zoom+=dt),Oe.setLocationAtPoint(Er,ar),this._map._update(),X.noInertia||this._inertia.record(X),this._fireEvents(xe,ne)},ya.prototype._fireEvents=function(X,xe){var ne=this,be=zo(this._eventsInProgress),Oe=zo(X),qe={};for(var dt in X)this._eventsInProgress[dt]||(qe[dt+"start"]=X[dt].originalEvent),this._eventsInProgress[dt]=X[dt];for(var ar in!be&&Oe&&this._fireEvent("movestart",Oe.originalEvent),qe)this._fireEvent(ar,qe[ar]);for(var yr in X.rotate&&(this._bearingChanged=!0),Oe&&this._fireEvent("move",Oe.originalEvent),X)this._fireEvent(yr,X[yr].originalEvent);var tn,nn={};for(var Jr in this._eventsInProgress){var ln=this._eventsInProgress[Jr],wn=ln.handlerName,Un=ln.originalEvent;this._handlersById[wn].isActive()||(delete this._eventsInProgress[Jr],nn[Jr+"end"]=tn=xe[wn]||Un)}for(var jn in nn)this._fireEvent(jn,nn[jn]);var ui=zo(this._eventsInProgress);if((be||Oe)&&!ui){this._updatingCamera=!0;var ni=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ci=function(Ai){return 0!==Ai&&-ne._bearingSnap<Ai&&Ai<ne._bearingSnap};ni?(ci(ni.bearing||this._map.getBearing())&&(ni.bearing=0),this._map.easeTo(ni,{originalEvent:tn})):(this._map.fire(new l.Event("moveend",{originalEvent:tn})),ci(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},ya.prototype._fireEvent=function(X,xe){this._map.fire(new l.Event(X,xe?{originalEvent:xe}:{}))},ya.prototype._triggerRenderFrame=function(){var X=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame(function(xe){delete X._frameId,X.handleEvent(new Bo("renderFrame",{timeStamp:xe})),X._applyChanges()}))};var Hs=function(ve){function X(xe,ne){ve.call(this),this._moving=!1,this._zooming=!1,this.transform=xe,this._bearingSnap=ne.bearingSnap,l.bindAll(["_renderFrameCallback"],this)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.getCenter=function(){return new l.LngLat(this.transform.center.lng,this.transform.center.lat)},X.prototype.setCenter=function(ne,be){return this.jumpTo({center:ne},be)},X.prototype.panBy=function(ne,be,Oe){return ne=l.Point.convert(ne).mult(-1),this.panTo(this.transform.center,l.extend({offset:ne},be),Oe)},X.prototype.panTo=function(ne,be,Oe){return this.easeTo(l.extend({center:ne},be),Oe)},X.prototype.getZoom=function(){return this.transform.zoom},X.prototype.setZoom=function(ne,be){return this.jumpTo({zoom:ne},be),this},X.prototype.zoomTo=function(ne,be,Oe){return this.easeTo(l.extend({zoom:ne},be),Oe)},X.prototype.zoomIn=function(ne,be){return this.zoomTo(this.getZoom()+1,ne,be),this},X.prototype.zoomOut=function(ne,be){return this.zoomTo(this.getZoom()-1,ne,be),this},X.prototype.getBearing=function(){return this.transform.bearing},X.prototype.setBearing=function(ne,be){return this.jumpTo({bearing:ne},be),this},X.prototype.getPadding=function(){return this.transform.padding},X.prototype.setPadding=function(ne,be){return this.jumpTo({padding:ne},be),this},X.prototype.rotateTo=function(ne,be,Oe){return this.easeTo(l.extend({bearing:ne},be),Oe)},X.prototype.resetNorth=function(ne,be){return this.rotateTo(0,l.extend({duration:1e3},ne),be),this},X.prototype.resetNorthPitch=function(ne,be){return this.easeTo(l.extend({bearing:0,pitch:0,duration:1e3},ne),be),this},X.prototype.snapToNorth=function(ne,be){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ne,be):this},X.prototype.getPitch=function(){return this.transform.pitch},X.prototype.setPitch=function(ne,be){return this.jumpTo({pitch:ne},be),this},X.prototype.cameraForBounds=function(ne,be){return ne=l.LngLatBounds.convert(ne),this._cameraForBoxAndBearing(ne.getNorthWest(),ne.getSouthEast(),0,be)},X.prototype._cameraForBoxAndBearing=function(ne,be,Oe,qe){var dt={top:0,bottom:0,right:0,left:0};if("number"==typeof(qe=l.extend({padding:dt,offset:[0,0],maxZoom:this.transform.maxZoom},qe)).padding){var Et=qe.padding;qe.padding={top:Et,bottom:Et,right:Et,left:Et}}qe.padding=l.extend(dt,qe.padding);var Zt=this.transform,ar=Zt.padding,yr=Zt.project(l.LngLat.convert(ne)),Er=Zt.project(l.LngLat.convert(be)),Vr=yr.rotate(-Oe*Math.PI/180),nn=Er.rotate(-Oe*Math.PI/180),tn=new l.Point(Math.max(Vr.x,nn.x),Math.max(Vr.y,nn.y)),Jr=new l.Point(Math.min(Vr.x,nn.x),Math.min(Vr.y,nn.y)),ln=tn.sub(Jr),wn=(Zt.width-(ar.left+ar.right+qe.padding.left+qe.padding.right))/ln.x,Un=(Zt.height-(ar.top+ar.bottom+qe.padding.top+qe.padding.bottom))/ln.y;if(!(Un<0||wn<0)){var jn=Math.min(Zt.scaleZoom(Zt.scale*Math.min(wn,Un)),qe.maxZoom),ui=l.Point.convert(qe.offset),Pi=new l.Point(ui.x+(qe.padding.left-qe.padding.right)/2,ui.y+(qe.padding.top-qe.padding.bottom)/2).mult(Zt.scale/Zt.zoomScale(jn));return{center:Zt.unproject(yr.add(Er).div(2).sub(Pi)),zoom:jn,bearing:Oe}}l.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},X.prototype.fitBounds=function(ne,be,Oe){return this._fitInternal(this.cameraForBounds(ne,be),be,Oe)},X.prototype.fitScreenCoordinates=function(ne,be,Oe,qe,dt){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(l.Point.convert(ne)),this.transform.pointLocation(l.Point.convert(be)),Oe,qe),qe,dt)},X.prototype._fitInternal=function(ne,be,Oe){return ne?(delete(be=l.extend(ne,be)).padding,be.linear?this.easeTo(be,Oe):this.flyTo(be,Oe)):this},X.prototype.jumpTo=function(ne,be){this.stop();var Oe=this.transform,qe=!1,dt=!1,Et=!1;return"zoom"in ne&&Oe.zoom!==+ne.zoom&&(qe=!0,Oe.zoom=+ne.zoom),void 0!==ne.center&&(Oe.center=l.LngLat.convert(ne.center)),"bearing"in ne&&Oe.bearing!==+ne.bearing&&(dt=!0,Oe.bearing=+ne.bearing),"pitch"in ne&&Oe.pitch!==+ne.pitch&&(Et=!0,Oe.pitch=+ne.pitch),null!=ne.padding&&!Oe.isPaddingEqual(ne.padding)&&(Oe.padding=ne.padding),this.fire(new l.Event("movestart",be)).fire(new l.Event("move",be)),qe&&this.fire(new l.Event("zoomstart",be)).fire(new l.Event("zoom",be)).fire(new l.Event("zoomend",be)),dt&&this.fire(new l.Event("rotatestart",be)).fire(new l.Event("rotate",be)).fire(new l.Event("rotateend",be)),Et&&this.fire(new l.Event("pitchstart",be)).fire(new l.Event("pitch",be)).fire(new l.Event("pitchend",be)),this.fire(new l.Event("moveend",be))},X.prototype.easeTo=function(ne,be){var Oe=this;this._stop(!1,ne.easeId),(!1===(ne=l.extend({offset:[0,0],duration:500,easing:l.ease},ne)).animate||!ne.essential&&l.browser.prefersReducedMotion)&&(ne.duration=0);var qe=this.transform,dt=this.getZoom(),Et=this.getBearing(),Zt=this.getPitch(),ar=this.getPadding(),yr="zoom"in ne?+ne.zoom:dt,Er="bearing"in ne?this._normalizeBearing(ne.bearing,Et):Et,Vr="pitch"in ne?+ne.pitch:Zt,nn="padding"in ne?ne.padding:qe.padding,tn=l.Point.convert(ne.offset),Jr=qe.centerPoint.add(tn),ln=qe.pointLocation(Jr),wn=l.LngLat.convert(ne.center||ln);this._normalizeCenter(wn);var ni,ci,Un=qe.project(ln),jn=qe.project(wn).sub(Un),ui=qe.zoomScale(yr-dt);ne.around&&(ni=l.LngLat.convert(ne.around),ci=qe.locationPoint(ni));var Ai={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||yr!==dt,this._rotating=this._rotating||Et!==Er,this._pitching=this._pitching||Vr!==Zt,this._padding=!qe.isPaddingEqual(nn),this._easeId=ne.easeId,this._prepareEase(be,ne.noMoveStart,Ai),clearTimeout(this._easeEndTimeoutID),this._ease(function(Pi){if(Oe._zooming&&(qe.zoom=l.number(dt,yr,Pi)),Oe._rotating&&(qe.bearing=l.number(Et,Er,Pi)),Oe._pitching&&(qe.pitch=l.number(Zt,Vr,Pi)),Oe._padding&&(qe.interpolatePadding(ar,nn,Pi),Jr=qe.centerPoint.add(tn)),ni)qe.setLocationAtPoint(ni,ci);else{var Ri=qe.zoomScale(qe.zoom-dt),Oi=yr>dt?Math.min(2,ui):Math.max(.5,ui),Vi=Math.pow(Oi,1-Pi),ra=qe.unproject(Un.add(jn.mult(Pi*Vi)).mult(Ri));qe.setLocationAtPoint(qe.renderWorldCopies?ra.wrap():ra,Jr)}Oe._fireMoveEvents(be)},function(Pi){Oe._afterEase(be,Pi)},ne),this},X.prototype._prepareEase=function(ne,be,Oe){void 0===Oe&&(Oe={}),this._moving=!0,!be&&!Oe.moving&&this.fire(new l.Event("movestart",ne)),this._zooming&&!Oe.zooming&&this.fire(new l.Event("zoomstart",ne)),this._rotating&&!Oe.rotating&&this.fire(new l.Event("rotatestart",ne)),this._pitching&&!Oe.pitching&&this.fire(new l.Event("pitchstart",ne))},X.prototype._fireMoveEvents=function(ne){this.fire(new l.Event("move",ne)),this._zooming&&this.fire(new l.Event("zoom",ne)),this._rotating&&this.fire(new l.Event("rotate",ne)),this._pitching&&this.fire(new l.Event("pitch",ne))},X.prototype._afterEase=function(ne,be){if(!this._easeId||!be||this._easeId!==be){delete this._easeId;var Oe=this._zooming,qe=this._rotating,dt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Oe&&this.fire(new l.Event("zoomend",ne)),qe&&this.fire(new l.Event("rotateend",ne)),dt&&this.fire(new l.Event("pitchend",ne)),this.fire(new l.Event("moveend",ne))}},X.prototype.flyTo=function(ne,be){var Oe=this;if(!ne.essential&&l.browser.prefersReducedMotion){var qe=l.pick(ne,["center","zoom","bearing","pitch","around"]);return this.jumpTo(qe,be)}this.stop(),ne=l.extend({offset:[0,0],speed:1.2,curve:1.42,easing:l.ease},ne);var dt=this.transform,Et=this.getZoom(),Zt=this.getBearing(),ar=this.getPitch(),yr=this.getPadding(),Er="zoom"in ne?l.clamp(+ne.zoom,dt.minZoom,dt.maxZoom):Et,Vr="bearing"in ne?this._normalizeBearing(ne.bearing,Zt):Zt,nn="pitch"in ne?+ne.pitch:ar,tn="padding"in ne?ne.padding:dt.padding,Jr=dt.zoomScale(Er-Et),ln=l.Point.convert(ne.offset),wn=dt.centerPoint.add(ln),Un=dt.pointLocation(wn),jn=l.LngLat.convert(ne.center||Un);this._normalizeCenter(jn);var ui=dt.project(Un),ni=dt.project(jn).sub(ui),ci=ne.curve,Ai=Math.max(dt.width,dt.height),Pi=Ai/Jr,Ri=ni.mag();if("minZoom"in ne){var Oi=l.clamp(Math.min(ne.minZoom,Et,Er),dt.minZoom,dt.maxZoom),Vi=Ai/dt.zoomScale(Oi-Et);ci=Math.sqrt(Vi/Ri*2)}var ra=ci*ci;function ca(la){var Pa=(Pi*Pi-Ai*Ai+(la?-1:1)*ra*ra*Ri*Ri)/(2*(la?Pi:Ai)*ra*Ri);return Math.log(Math.sqrt(Pa*Pa+1)-Pa)}function Oa(la){return(Math.exp(la)-Math.exp(-la))/2}function da(la){return(Math.exp(la)+Math.exp(-la))/2}var Xi=ca(0),Ia=function(la){return da(Xi)/da(Xi+ci*la)},Sa=function(la){return Ai*((da(Xi)*function Aa(la){return Oa(la)/da(la)}(Xi+ci*la)-Oa(Xi))/ra)/Ri},Ka=(ca(1)-Xi)/ci;if(Math.abs(Ri)<1e-6||!isFinite(Ka)){if(Math.abs(Ai-Pi)<1e-6)return this.easeTo(ne,be);var Ca=Pi<Ai?-1:1;Ka=Math.abs(Math.log(Pi/Ai))/ci,Sa=function(){return 0},Ia=function(la){return Math.exp(Ca*ci*la)}}return ne.duration="duration"in ne?+ne.duration:1e3*Ka/("screenSpeed"in ne?+ne.screenSpeed/ci:+ne.speed),ne.maxDuration&&ne.duration>ne.maxDuration&&(ne.duration=0),this._zooming=!0,this._rotating=Zt!==Vr,this._pitching=nn!==ar,this._padding=!dt.isPaddingEqual(tn),this._prepareEase(be,!1),this._ease(function(la){var Pa=la*Ka,Ua=1/Ia(Pa);dt.zoom=1===la?Er:Et+dt.scaleZoom(Ua),Oe._rotating&&(dt.bearing=l.number(Zt,Vr,la)),Oe._pitching&&(dt.pitch=l.number(ar,nn,la)),Oe._padding&&(dt.interpolatePadding(yr,tn,la),wn=dt.centerPoint.add(ln));var is=1===la?jn:dt.unproject(ui.add(ni.mult(Sa(Pa))).mult(Ua));dt.setLocationAtPoint(dt.renderWorldCopies?is.wrap():is,wn),Oe._fireMoveEvents(be)},function(){return Oe._afterEase(be)},ne),this},X.prototype.isEasing=function(){return!!this._easeFrameId},X.prototype.stop=function(){return this._stop()},X.prototype._stop=function(ne,be){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Oe=this._onEaseEnd;delete this._onEaseEnd,Oe.call(this,be)}if(!ne){var qe=this.handlers;qe&&qe.stop()}return this},X.prototype._ease=function(ne,be,Oe){!1===Oe.animate||0===Oe.duration?(ne(1),be()):(this._easeStart=l.browser.now(),this._easeOptions=Oe,this._onEaseFrame=ne,this._onEaseEnd=be,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},X.prototype._renderFrameCallback=function(){var ne=Math.min((l.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ne)),ne<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},X.prototype._normalizeBearing=function(ne,be){ne=l.wrap(ne,-180,180);var Oe=Math.abs(ne-be);return Math.abs(ne-360-be)<Oe&&(ne-=360),Math.abs(ne+360-be)<Oe&&(ne+=360),ne},X.prototype._normalizeCenter=function(ne){var be=this.transform;if(be.renderWorldCopies&&!be.lngRange){var Oe=ne.lng-be.center.lng;ne.lng+=Oe>180?-360:Oe<-180?360:0}},X}(l.Evented),cu=function(X){void 0===X&&(X={}),this.options=X,l.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};cu.prototype.getDefaultPosition=function(){return"bottom-right"},cu.prototype.onAdd=function(X){var xe=this.options&&this.options.compact;return this._map=X,this._container=I.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=I.create("div","mapboxgl-ctrl-attrib-inner",this._container),xe&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===xe&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},cu.prototype.onRemove=function(){I.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},cu.prototype._updateEditLink=function(){var X=this._editLink;X||(X=this._editLink=this._container.querySelector(".mapbox-improve-map"));var xe=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||l.config.ACCESS_TOKEN}];if(X){var ne=xe.reduce(function(be,Oe,qe){return Oe.value&&(be+=Oe.key+"="+Oe.value+(qe<xe.length-1?"&":"")),be},"?");X.href=l.config.FEEDBACK_URL+"/"+ne+(this._map._hash?this._map._hash.getHashString(!0):""),X.rel="noopener nofollow"}},cu.prototype._updateData=function(X){X&&("metadata"===X.sourceDataType||"style"===X.dataType)&&(this._updateAttributions(),this._updateEditLink())},cu.prototype._updateAttributions=function(){if(this._map.style){var X=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?X=X.concat(this.options.customAttribution.map(function(Et){return"string"!=typeof Et?"":Et})):"string"==typeof this.options.customAttribution&&X.push(this.options.customAttribution)),this._map.style.stylesheet){var xe=this._map.style.stylesheet;this.styleOwner=xe.owner,this.styleId=xe.id}var ne=this._map.style.sourceCaches;for(var be in ne){var Oe=ne[be];if(Oe.used){var qe=Oe.getSource();qe.attribution&&X.indexOf(qe.attribution)<0&&X.push(qe.attribution)}}X.sort(function(Et,Zt){return Et.length-Zt.length});var dt=(X=X.filter(function(Et,Zt){for(var ar=Zt+1;ar<X.length;ar++)if(X[ar].indexOf(Et)>=0)return!1;return!0})).join(" | ");dt!==this._attribHTML&&(this._attribHTML=dt,X.length?(this._innerContainer.innerHTML=dt,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},cu.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var ga=function(){l.bindAll(["_updateLogo"],this),l.bindAll(["_updateCompact"],this)};ga.prototype.onAdd=function(X){this._map=X,this._container=I.create("div","mapboxgl-ctrl");var xe=I.create("a","mapboxgl-ctrl-logo");return xe.target="_blank",xe.rel="noopener nofollow",xe.href="https://www.mapbox.com/",xe.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),xe.setAttribute("rel","noopener nofollow"),this._container.appendChild(xe),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ga.prototype.onRemove=function(){I.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ga.prototype.getDefaultPosition=function(){return"bottom-left"},ga.prototype._updateLogo=function(X){(!X||"metadata"===X.sourceDataType)&&(this._container.style.display=this._logoRequired()?"block":"none")},ga.prototype._logoRequired=function(){if(this._map.style){var X=this._map.style.sourceCaches;for(var xe in X)if(X[xe].getSource().mapbox_logo)return!0;return!1}},ga.prototype._updateCompact=function(){var X=this._container.children;if(X.length){var xe=X[0];this._map.getCanvasContainer().offsetWidth<250?xe.classList.add("mapboxgl-compact"):xe.classList.remove("mapboxgl-compact")}};var xa=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};xa.prototype.add=function(X){var xe=++this._id;return this._queue.push({callback:X,id:xe,cancelled:!1}),xe},xa.prototype.remove=function(X){for(var xe=this._currentlyRunning,be=0,Oe=xe?this._queue.concat(xe):this._queue;be<Oe.length;be+=1){var qe=Oe[be];if(qe.id===X)return void(qe.cancelled=!0)}},xa.prototype.run=function(X){void 0===X&&(X=0);var xe=this._currentlyRunning=this._queue;this._queue=[];for(var ne=0,be=xe;ne<be.length;ne+=1){var Oe=be[ne];if(!Oe.cancelled&&(Oe.callback(X),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},xa.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Ll={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},$s=l.window.HTMLImageElement,Is=l.window.HTMLElement,cl=l.window.ImageBitmap,Vd={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},ed=function(ve){function X(ne){var be=this;if(null!=(ne=l.extend({},Vd,ne)).minZoom&&null!=ne.maxZoom&&ne.minZoom>ne.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=ne.minPitch&&null!=ne.maxPitch&&ne.minPitch>ne.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=ne.minPitch&&ne.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=ne.maxPitch&&ne.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var Oe=new cn(ne.minZoom,ne.maxZoom,ne.minPitch,ne.maxPitch,ne.renderWorldCopies);if(ve.call(this,Oe,ne),this._interactive=ne.interactive,this._maxTileCacheSize=ne.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ne.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ne.preserveDrawingBuffer,this._antialias=ne.antialias,this._trackResize=ne.trackResize,this._bearingSnap=ne.bearingSnap,this._refreshExpiredTiles=ne.refreshExpiredTiles,this._fadeDuration=ne.fadeDuration,this._crossSourceCollisions=ne.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ne.collectResourceTiming,this._renderTaskQueue=new xa,this._controls=[],this._mapId=l.uniqueId(),this._locale=l.extend({},Ll,ne.locale),this._requestManager=new l.RequestManager(ne.transformRequest,ne.accessToken),"string"==typeof ne.container){if(this._container=l.window.document.getElementById(ne.container),!this._container)throw new Error("Container '"+ne.container+"' not found.")}else{if(!(ne.container instanceof Is))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=ne.container}if(ne.maxBounds&&this.setMaxBounds(ne.maxBounds),l.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return be._update(!1)}),this.on("moveend",function(){return be._update(!1)}),this.on("zoom",function(){return be._update(!0)}),typeof l.window<"u"&&(l.window.addEventListener("online",this._onWindowOnline,!1),l.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new ya(this,ne),this._hash=ne.hash&&new Si("string"==typeof ne.hash&&ne.hash||void 0).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ne.center,zoom:ne.zoom,bearing:ne.bearing,pitch:ne.pitch}),ne.bounds&&(this.resize(),this.fitBounds(ne.bounds,l.extend({},ne.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ne.localIdeographFontFamily,ne.style&&this.setStyle(ne.style,{localIdeographFontFamily:ne.localIdeographFontFamily}),ne.attributionControl&&this.addControl(new cu({customAttribution:ne.customAttribution})),this.addControl(new ga,ne.logoPosition),this.on("style.load",function(){be.transform.unmodified&&be.jumpTo(be.style.stylesheet)}),this.on("data",function(dt){be._update("style"===dt.dataType),be.fire(new l.Event(dt.dataType+"data",dt))}),this.on("dataloading",function(dt){be.fire(new l.Event(dt.dataType+"dataloading",dt))})}ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X;var xe={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return X.prototype._getMapId=function(){return this._mapId},X.prototype.addControl=function(be,Oe){if(void 0===Oe&&be.getDefaultPosition&&(Oe=be.getDefaultPosition()),void 0===Oe&&(Oe="top-right"),!be||!be.onAdd)return this.fire(new l.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var qe=be.onAdd(this);this._controls.push(be);var dt=this._controlPositions[Oe];return-1!==Oe.indexOf("bottom")?dt.insertBefore(qe,dt.firstChild):dt.appendChild(qe),this},X.prototype.removeControl=function(be){if(!be||!be.onRemove)return this.fire(new l.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Oe=this._controls.indexOf(be);return Oe>-1&&this._controls.splice(Oe,1),be.onRemove(this),this},X.prototype.resize=function(be){var Oe=this._containerDimensions(),qe=Oe[0],dt=Oe[1];this._resizeCanvas(qe,dt),this.transform.resize(qe,dt),this.painter.resize(qe,dt);var Et=!this._moving;return Et&&(this.stop(),this.fire(new l.Event("movestart",be)).fire(new l.Event("move",be))),this.fire(new l.Event("resize",be)),Et&&this.fire(new l.Event("moveend",be)),this},X.prototype.getBounds=function(){return this.transform.getBounds()},X.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},X.prototype.setMaxBounds=function(be){return this.transform.setMaxBounds(l.LngLatBounds.convert(be)),this._update()},X.prototype.setMinZoom=function(be){if((be=be??-2)>=-2&&be<=this.transform.maxZoom)return this.transform.minZoom=be,this._update(),this.getZoom()<be&&this.setZoom(be),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},X.prototype.getMinZoom=function(){return this.transform.minZoom},X.prototype.setMaxZoom=function(be){if((be=be??22)>=this.transform.minZoom)return this.transform.maxZoom=be,this._update(),this.getZoom()>be&&this.setZoom(be),this;throw new Error("maxZoom must be greater than the current minZoom")},X.prototype.getMaxZoom=function(){return this.transform.maxZoom},X.prototype.setMinPitch=function(be){if((be=be??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(be>=0&&be<=this.transform.maxPitch)return this.transform.minPitch=be,this._update(),this.getPitch()<be&&this.setPitch(be),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},X.prototype.getMinPitch=function(){return this.transform.minPitch},X.prototype.setMaxPitch=function(be){if((be=be??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(be>=this.transform.minPitch)return this.transform.maxPitch=be,this._update(),this.getPitch()>be&&this.setPitch(be),this;throw new Error("maxPitch must be greater than the current minPitch")},X.prototype.getMaxPitch=function(){return this.transform.maxPitch},X.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},X.prototype.setRenderWorldCopies=function(be){return this.transform.renderWorldCopies=be,this._update()},X.prototype.project=function(be){return this.transform.locationPoint(l.LngLat.convert(be))},X.prototype.unproject=function(be){return this.transform.pointLocation(l.Point.convert(be))},X.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},X.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},X.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},X.prototype._createDelegatedListener=function(be,Oe,qe){var Et,dt=this;if("mouseenter"===be||"mouseover"===be){var Zt=!1;return{layer:Oe,listener:qe,delegates:{mousemove:function(Jr){var ln=dt.getLayer(Oe)?dt.queryRenderedFeatures(Jr.point,{layers:[Oe]}):[];ln.length?Zt||(Zt=!0,qe.call(dt,new io(be,dt,Jr.originalEvent,{features:ln}))):Zt=!1},mouseout:function(){Zt=!1}}}}if("mouseleave"===be||"mouseout"===be){var Er=!1;return{layer:Oe,listener:qe,delegates:{mousemove:function(Jr){(dt.getLayer(Oe)?dt.queryRenderedFeatures(Jr.point,{layers:[Oe]}):[]).length?Er=!0:Er&&(Er=!1,qe.call(dt,new io(be,dt,Jr.originalEvent)))},mouseout:function(Jr){Er&&(Er=!1,qe.call(dt,new io(be,dt,Jr.originalEvent)))}}}}return{layer:Oe,listener:qe,delegates:(Et={},Et[be]=function(Jr){var ln=dt.getLayer(Oe)?dt.queryRenderedFeatures(Jr.point,{layers:[Oe]}):[];ln.length&&(Jr.features=ln,qe.call(dt,Jr),delete Jr.features)},Et)}},X.prototype.on=function(be,Oe,qe){if(void 0===qe)return ve.prototype.on.call(this,be,Oe);var dt=this._createDelegatedListener(be,Oe,qe);for(var Et in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[be]=this._delegatedListeners[be]||[],this._delegatedListeners[be].push(dt),dt.delegates)this.on(Et,dt.delegates[Et]);return this},X.prototype.once=function(be,Oe,qe){if(void 0===qe)return ve.prototype.once.call(this,be,Oe);var dt=this._createDelegatedListener(be,Oe,qe);for(var Et in dt.delegates)this.once(Et,dt.delegates[Et]);return this},X.prototype.off=function(be,Oe,qe){var dt=this;return void 0===qe?ve.prototype.off.call(this,be,Oe):(this._delegatedListeners&&this._delegatedListeners[be]&&function(Zt){for(var ar=Zt[be],yr=0;yr<ar.length;yr++){var Er=ar[yr];if(Er.layer===Oe&&Er.listener===qe){for(var Vr in Er.delegates)dt.off(Vr,Er.delegates[Vr]);return ar.splice(yr,1),dt}}}(this._delegatedListeners),this)},X.prototype.queryRenderedFeatures=function(be,Oe){if(!this.style)return[];var qe;if(void 0===Oe&&void 0!==be&&!(be instanceof l.Point)&&!Array.isArray(be)&&(Oe=be,be=void 0),Oe=Oe||{},(be=be||[[0,0],[this.transform.width,this.transform.height]])instanceof l.Point||"number"==typeof be[0])qe=[l.Point.convert(be)];else{var dt=l.Point.convert(be[0]),Et=l.Point.convert(be[1]);qe=[dt,new l.Point(Et.x,dt.y),Et,new l.Point(dt.x,Et.y),dt]}return this.style.queryRenderedFeatures(qe,Oe,this.transform)},X.prototype.querySourceFeatures=function(be,Oe){return this.style.querySourceFeatures(be,Oe)},X.prototype.setStyle=function(be,Oe){return!1!==(Oe=l.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Oe)).diff&&Oe.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&be?(this._diffStyle(be,Oe),this):(this._localIdeographFontFamily=Oe.localIdeographFontFamily,this._updateStyle(be,Oe))},X.prototype._getUIString=function(be){var Oe=this._locale[be];if(null==Oe)throw new Error("Missing UI string '"+be+"'");return Oe},X.prototype._updateStyle=function(be,Oe){return this.style&&(this.style.setEventedParent(null),this.style._remove()),be?(this.style=new os(this,Oe||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof be?this.style.loadURL(be):this.style.loadJSON(be),this):(delete this.style,this)},X.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new os(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},X.prototype._diffStyle=function(be,Oe){var qe=this;if("string"==typeof be){var dt=this._requestManager.normalizeStyleURL(be),Et=this._requestManager.transformRequest(dt,l.ResourceType.Style);l.getJSON(Et,function(Zt,ar){Zt?qe.fire(new l.ErrorEvent(Zt)):ar&&qe._updateDiff(ar,Oe)})}else"object"==typeof be&&this._updateDiff(be,Oe)},X.prototype._updateDiff=function(be,Oe){try{this.style.setState(be)&&this._update(!0)}catch(qe){l.warnOnce("Unable to perform style diff: "+(qe.message||qe.error||qe)+".  Rebuilding the style from scratch."),this._updateStyle(be,Oe)}},X.prototype.getStyle=function(){if(this.style)return this.style.serialize()},X.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():l.warnOnce("There is no style added to the map.")},X.prototype.addSource=function(be,Oe){return this._lazyInitEmptyStyle(),this.style.addSource(be,Oe),this._update(!0)},X.prototype.isSourceLoaded=function(be){var Oe=this.style&&this.style.sourceCaches[be];if(void 0!==Oe)return Oe.loaded();this.fire(new l.ErrorEvent(new Error("There is no source with ID '"+be+"'")))},X.prototype.areTilesLoaded=function(){var be=this.style&&this.style.sourceCaches;for(var Oe in be){var dt=be[Oe]._tiles;for(var Et in dt){var Zt=dt[Et];if("loaded"!==Zt.state&&"errored"!==Zt.state)return!1}}return!0},X.prototype.addSourceType=function(be,Oe,qe){return this._lazyInitEmptyStyle(),this.style.addSourceType(be,Oe,qe)},X.prototype.removeSource=function(be){return this.style.removeSource(be),this._update(!0)},X.prototype.getSource=function(be){return this.style.getSource(be)},X.prototype.addImage=function(be,Oe,qe){void 0===qe&&(qe={});var dt=qe.pixelRatio;void 0===dt&&(dt=1);var Et=qe.sdf;void 0===Et&&(Et=!1);var Zt=qe.stretchX,ar=qe.stretchY,yr=qe.content;this._lazyInitEmptyStyle();if(Oe instanceof $s||cl&&Oe instanceof cl){var Vr=l.browser.getImageData(Oe);this.style.addImage(be,{data:new l.RGBAImage({width:Vr.width,height:Vr.height},Vr.data),pixelRatio:dt,stretchX:Zt,stretchY:ar,content:yr,sdf:Et,version:0})}else{if(void 0===Oe.width||void 0===Oe.height)return this.fire(new l.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var jn=Oe;this.style.addImage(be,{data:new l.RGBAImage({width:Oe.width,height:Oe.height},new Uint8Array(Oe.data)),pixelRatio:dt,stretchX:Zt,stretchY:ar,content:yr,sdf:Et,version:0,userImage:jn}),jn.onAdd&&jn.onAdd(this,be)}},X.prototype.updateImage=function(be,Oe){var qe=this.style.getImage(be);if(!qe)return this.fire(new l.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var dt=Oe instanceof $s||cl&&Oe instanceof cl?l.browser.getImageData(Oe):Oe,Et=dt.width,Zt=dt.height,ar=dt.data;return void 0===Et||void 0===Zt?this.fire(new l.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):Et!==qe.data.width||Zt!==qe.data.height?this.fire(new l.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(qe.data.replace(ar,!(Oe instanceof $s||cl&&Oe instanceof cl)),void this.style.updateImage(be,qe))},X.prototype.hasImage=function(be){return be?!!this.style.getImage(be):(this.fire(new l.ErrorEvent(new Error("Missing required image id"))),!1)},X.prototype.removeImage=function(be){this.style.removeImage(be)},X.prototype.loadImage=function(be,Oe){l.getImage(this._requestManager.transformRequest(be,l.ResourceType.Image),Oe)},X.prototype.listImages=function(){return this.style.listImages()},X.prototype.addLayer=function(be,Oe){return this._lazyInitEmptyStyle(),this.style.addLayer(be,Oe),this._update(!0)},X.prototype.moveLayer=function(be,Oe){return this.style.moveLayer(be,Oe),this._update(!0)},X.prototype.removeLayer=function(be){return this.style.removeLayer(be),this._update(!0)},X.prototype.getLayer=function(be){return this.style.getLayer(be)},X.prototype.setLayerZoomRange=function(be,Oe,qe){return this.style.setLayerZoomRange(be,Oe,qe),this._update(!0)},X.prototype.setFilter=function(be,Oe,qe){return void 0===qe&&(qe={}),this.style.setFilter(be,Oe,qe),this._update(!0)},X.prototype.getFilter=function(be){return this.style.getFilter(be)},X.prototype.setPaintProperty=function(be,Oe,qe,dt){return void 0===dt&&(dt={}),this.style.setPaintProperty(be,Oe,qe,dt),this._update(!0)},X.prototype.getPaintProperty=function(be,Oe){return this.style.getPaintProperty(be,Oe)},X.prototype.setLayoutProperty=function(be,Oe,qe,dt){return void 0===dt&&(dt={}),this.style.setLayoutProperty(be,Oe,qe,dt),this._update(!0)},X.prototype.getLayoutProperty=function(be,Oe){return this.style.getLayoutProperty(be,Oe)},X.prototype.setLight=function(be,Oe){return void 0===Oe&&(Oe={}),this._lazyInitEmptyStyle(),this.style.setLight(be,Oe),this._update(!0)},X.prototype.getLight=function(){return this.style.getLight()},X.prototype.setFeatureState=function(be,Oe){return this.style.setFeatureState(be,Oe),this._update()},X.prototype.removeFeatureState=function(be,Oe){return this.style.removeFeatureState(be,Oe),this._update()},X.prototype.getFeatureState=function(be){return this.style.getFeatureState(be)},X.prototype.getContainer=function(){return this._container},X.prototype.getCanvasContainer=function(){return this._canvasContainer},X.prototype.getCanvas=function(){return this._canvas},X.prototype._containerDimensions=function(){var be=0,Oe=0;return this._container&&(be=this._container.clientWidth||400,Oe=this._container.clientHeight||300),[be,Oe]},X.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==l.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&l.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},X.prototype._setupContainer=function(){var be=this._container;be.classList.add("mapboxgl-map"),(this._missingCSSCanary=I.create("div","mapboxgl-canary",be)).style.visibility="hidden",this._detectMissingCSS();var qe=this._canvasContainer=I.create("div","mapboxgl-canvas-container",be);this._interactive&&qe.classList.add("mapboxgl-interactive"),this._canvas=I.create("canvas","mapboxgl-canvas",qe),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var dt=this._containerDimensions();this._resizeCanvas(dt[0],dt[1]);var Et=this._controlContainer=I.create("div","mapboxgl-control-container",be),Zt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ar){Zt[ar]=I.create("div","mapboxgl-ctrl-"+ar,Et)})},X.prototype._resizeCanvas=function(be,Oe){var qe=l.browser.devicePixelRatio||1;this._canvas.width=qe*be,this._canvas.height=qe*Oe,this._canvas.style.width=be+"px",this._canvas.style.height=Oe+"px"},X.prototype._setupPainter=function(){var be=l.extend({},R.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Oe=this._canvas.getContext("webgl",be)||this._canvas.getContext("experimental-webgl",be);Oe?(this.painter=new Ar(Oe,this.transform),l.webpSupported.testSupport(Oe)):this.fire(new l.ErrorEvent(new Error("Failed to initialize WebGL")))},X.prototype._contextLost=function(be){be.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new l.Event("webglcontextlost",{originalEvent:be}))},X.prototype._contextRestored=function(be){this._setupPainter(),this.resize(),this._update(),this.fire(new l.Event("webglcontextrestored",{originalEvent:be}))},X.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},X.prototype._update=function(be){return this.style?(this._styleDirty=this._styleDirty||be,this._sourcesDirty=!0,this.triggerRepaint(),this):this},X.prototype._requestRenderFrame=function(be){return this._update(),this._renderTaskQueue.add(be)},X.prototype._cancelRenderFrame=function(be){this._renderTaskQueue.remove(be)},X.prototype._render=function(be){var qe,Oe=this,dt=0,Et=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(qe=Et.createQueryEXT(),Et.beginQueryEXT(Et.TIME_ELAPSED_EXT,qe),dt=l.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(be),!this._removed){var Zt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var ar=this.transform.zoom,yr=l.browser.now();this.style.zoomHistory.update(ar,yr);var Er=new l.EvaluationParameters(ar,{now:yr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Vr=Er.crossFadingFactor();(1!==Vr||Vr!==this._crossFadingFactor)&&(Zt=!0,this._crossFadingFactor=Vr),this.style.update(Er)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new l.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new l.Event("load"))),this.style&&(this.style.hasTransitions()||Zt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var nn=l.browser.now()-dt;Et.endQueryEXT(Et.TIME_ELAPSED_EXT,qe),setTimeout(function(){var ln=Et.getQueryObjectEXT(qe,Et.QUERY_RESULT_EXT)/1e6;Et.deleteQueryEXT(qe),Oe.fire(new l.Event("gpu-timing-frame",{cpuTime:nn,gpuTime:ln}))},50)}if(this.listens("gpu-timing-layer")){var tn=this.painter.collectGpuTimers();setTimeout(function(){var ln=Oe.painter.queryGpuTimers(tn);Oe.fire(new l.Event("gpu-timing-layer",{layerTimes:ln}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new l.Event("idle"))),this}},X.prototype.remove=function(){this._hash&&this._hash.remove();for(var be=0,Oe=this._controls;be<Oe.length;be+=1)Oe[be].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof l.window<"u"&&(l.window.removeEventListener("resize",this._onWindowResize,!1),l.window.removeEventListener("online",this._onWindowOnline,!1));var dt=this.painter.context.gl.getExtension("WEBGL_lose_context");dt&&dt.loseContext(),Tc(this._canvasContainer),Tc(this._controlContainer),Tc(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new l.Event("remove"))},X.prototype.triggerRepaint=function(){var be=this;this.style&&!this._frame&&(this._frame=l.browser.frame(function(Oe){be._frame=null,be._render(Oe)}))},X.prototype._onWindowOnline=function(){this._update()},X.prototype._onWindowResize=function(be){this._trackResize&&this.resize({originalEvent:be})._update()},xe.showTileBoundaries.get=function(){return!!this._showTileBoundaries},xe.showTileBoundaries.set=function(ne){this._showTileBoundaries!==ne&&(this._showTileBoundaries=ne,this._update())},xe.showPadding.get=function(){return!!this._showPadding},xe.showPadding.set=function(ne){this._showPadding!==ne&&(this._showPadding=ne,this._update())},xe.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},xe.showCollisionBoxes.set=function(ne){this._showCollisionBoxes!==ne&&(this._showCollisionBoxes=ne,ne?this.style._generateCollisionBoxes():this._update())},xe.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},xe.showOverdrawInspector.set=function(ne){this._showOverdrawInspector!==ne&&(this._showOverdrawInspector=ne,this._update())},xe.repaint.get=function(){return!!this._repaint},xe.repaint.set=function(ne){this._repaint!==ne&&(this._repaint=ne,this.triggerRepaint())},xe.vertices.get=function(){return!!this._vertices},xe.vertices.set=function(ne){this._vertices=ne,this._update()},X.prototype._setCacheLimits=function(be,Oe){l.setCacheLimits(be,Oe)},xe.version.get=function(){return l.version},Object.defineProperties(X.prototype,xe),X}(Hs);function Tc(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}var Dh={showCompass:!0,showZoom:!0,visualizePitch:!1},ef=function(X){var xe=this;this.options=l.extend({},Dh,X),this._container=I.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(ne){return ne.preventDefault()}),this.options.showZoom&&(l.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(ne){return xe._map.zoomIn({},{originalEvent:ne})}),I.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(ne){return xe._map.zoomOut({},{originalEvent:ne})}),I.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(l.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(ne){xe.options.visualizePitch?xe._map.resetNorthPitch({},{originalEvent:ne}):xe._map.resetNorth({},{originalEvent:ne})}),this._compassIcon=I.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ef.prototype._updateZoomButtons=function(){var X=this._map.getZoom();this._zoomInButton.disabled=X===this._map.getMaxZoom(),this._zoomOutButton.disabled=X===this._map.getMinZoom()},ef.prototype._rotateCompassArrow=function(){var X=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=X},ef.prototype.onAdd=function(X){return this._map=X,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new dl(this._map,this._compass,this.options.visualizePitch)),this._container},ef.prototype.onRemove=function(){I.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ef.prototype._createButton=function(X,xe){var ne=I.create("button",X,this._container);return ne.type="button",ne.addEventListener("click",xe),ne},ef.prototype._setButtonTitle=function(X,xe){var ne=this._map._getUIString("NavigationControl."+xe);X.title=ne,X.setAttribute("aria-label",ne)};var dl=function(X,xe,ne){void 0===ne&&(ne=!1),this._clickTolerance=10,this.element=xe,this.mouseRotate=new yn({clickTolerance:X.dragRotate._mouseRotate._clickTolerance}),this.map=X,ne&&(this.mousePitch=new Hr({clickTolerance:X.dragRotate._mousePitch._clickTolerance})),l.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),I.addEventListener(xe,"mousedown",this.mousedown),I.addEventListener(xe,"touchstart",this.touchstart,{passive:!1}),I.addEventListener(xe,"touchmove",this.touchmove),I.addEventListener(xe,"touchend",this.touchend),I.addEventListener(xe,"touchcancel",this.reset)};function tf(ve,X,xe){if(ve=new l.LngLat(ve.lng,ve.lat),X){var ne=new l.LngLat(ve.lng-360,ve.lat),be=new l.LngLat(ve.lng+360,ve.lat),Oe=xe.locationPoint(ve).distSqr(X);xe.locationPoint(ne).distSqr(X)<Oe?ve=ne:xe.locationPoint(be).distSqr(X)<Oe&&(ve=be)}for(;Math.abs(ve.lng-xe.center.lng)>180;){var qe=xe.locationPoint(ve);if(qe.x>=0&&qe.y>=0&&qe.x<=xe.width&&qe.y<=xe.height)break;ve.lng>xe.center.lng?ve.lng-=360:ve.lng+=360}return ve}dl.prototype.down=function(X,xe){this.mouseRotate.mousedown(X,xe),this.mousePitch&&this.mousePitch.mousedown(X,xe),I.disableDrag()},dl.prototype.move=function(X,xe){var ne=this.map,be=this.mouseRotate.mousemoveWindow(X,xe);if(be&&be.bearingDelta&&ne.setBearing(ne.getBearing()+be.bearingDelta),this.mousePitch){var Oe=this.mousePitch.mousemoveWindow(X,xe);Oe&&Oe.pitchDelta&&ne.setPitch(ne.getPitch()+Oe.pitchDelta)}},dl.prototype.off=function(){var X=this.element;I.removeEventListener(X,"mousedown",this.mousedown),I.removeEventListener(X,"touchstart",this.touchstart,{passive:!1}),I.removeEventListener(X,"touchmove",this.touchmove),I.removeEventListener(X,"touchend",this.touchend),I.removeEventListener(X,"touchcancel",this.reset),this.offTemp()},dl.prototype.offTemp=function(){I.enableDrag(),I.removeEventListener(l.window,"mousemove",this.mousemove),I.removeEventListener(l.window,"mouseup",this.mouseup)},dl.prototype.mousedown=function(X){this.down(l.extend({},X,{ctrlKey:!0,preventDefault:function(){return X.preventDefault()}}),I.mousePos(this.element,X)),I.addEventListener(l.window,"mousemove",this.mousemove),I.addEventListener(l.window,"mouseup",this.mouseup)},dl.prototype.mousemove=function(X){this.move(X,I.mousePos(this.element,X))},dl.prototype.mouseup=function(X){this.mouseRotate.mouseupWindow(X),this.mousePitch&&this.mousePitch.mouseupWindow(X),this.offTemp()},dl.prototype.touchstart=function(X){1!==X.targetTouches.length?this.reset():(this._startPos=this._lastPos=I.touchPos(this.element,X.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return X.preventDefault()}},this._startPos))},dl.prototype.touchmove=function(X){1!==X.targetTouches.length?this.reset():(this._lastPos=I.touchPos(this.element,X.targetTouches)[0],this.move({preventDefault:function(){return X.preventDefault()}},this._lastPos))},dl.prototype.touchend=function(X){0===X.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},dl.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Ac={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function td(ve,X,xe){var ne=ve.classList;for(var be in Ac)ne.remove("mapboxgl-"+xe+"-anchor-"+be);ne.add("mapboxgl-"+xe+"-anchor-"+X)}var Il,Jc=function(ve){function X(xe,ne){var be=this;if(ve.call(this),(xe instanceof l.window.HTMLElement||ne)&&(xe=l.extend({element:xe},ne)),l.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=xe&&xe.anchor||"center",this._color=xe&&xe.color||"#3FB1CE",this._draggable=xe&&xe.draggable||!1,this._state="inactive",this._rotation=xe&&xe.rotation||0,this._rotationAlignment=xe&&xe.rotationAlignment||"auto",this._pitchAlignment=xe&&xe.pitchAlignment&&"auto"!==xe.pitchAlignment?xe.pitchAlignment:this._rotationAlignment,xe&&xe.element)this._element=xe.element,this._offset=l.Point.convert(xe&&xe.offset||[0,0]);else{this._defaultMarker=!0,this._element=I.create("div"),this._element.setAttribute("aria-label","Map marker");var Oe=I.createNS("http://www.w3.org/2000/svg","svg");Oe.setAttributeNS(null,"display","block"),Oe.setAttributeNS(null,"height","41px"),Oe.setAttributeNS(null,"width","27px"),Oe.setAttributeNS(null,"viewBox","0 0 27 41");var qe=I.createNS("http://www.w3.org/2000/svg","g");qe.setAttributeNS(null,"stroke","none"),qe.setAttributeNS(null,"stroke-width","1"),qe.setAttributeNS(null,"fill","none"),qe.setAttributeNS(null,"fill-rule","evenodd");var dt=I.createNS("http://www.w3.org/2000/svg","g");dt.setAttributeNS(null,"fill-rule","nonzero");var Et=I.createNS("http://www.w3.org/2000/svg","g");Et.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Et.setAttributeNS(null,"fill","#000000");for(var ar=0,yr=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];ar<yr.length;ar+=1){var Er=yr[ar],Vr=I.createNS("http://www.w3.org/2000/svg","ellipse");Vr.setAttributeNS(null,"opacity","0.04"),Vr.setAttributeNS(null,"cx","10.5"),Vr.setAttributeNS(null,"cy","5.80029008"),Vr.setAttributeNS(null,"rx",Er.rx),Vr.setAttributeNS(null,"ry",Er.ry),Et.appendChild(Vr)}var nn=I.createNS("http://www.w3.org/2000/svg","g");nn.setAttributeNS(null,"fill",this._color);var tn=I.createNS("http://www.w3.org/2000/svg","path");tn.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),nn.appendChild(tn);var Jr=I.createNS("http://www.w3.org/2000/svg","g");Jr.setAttributeNS(null,"opacity","0.25"),Jr.setAttributeNS(null,"fill","#000000");var ln=I.createNS("http://www.w3.org/2000/svg","path");ln.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Jr.appendChild(ln);var wn=I.createNS("http://www.w3.org/2000/svg","g");wn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),wn.setAttributeNS(null,"fill","#FFFFFF");var Un=I.createNS("http://www.w3.org/2000/svg","g");Un.setAttributeNS(null,"transform","translate(8.0, 8.0)");var jn=I.createNS("http://www.w3.org/2000/svg","circle");jn.setAttributeNS(null,"fill","#000000"),jn.setAttributeNS(null,"opacity","0.25"),jn.setAttributeNS(null,"cx","5.5"),jn.setAttributeNS(null,"cy","5.5"),jn.setAttributeNS(null,"r","5.4999962");var ui=I.createNS("http://www.w3.org/2000/svg","circle");ui.setAttributeNS(null,"fill","#FFFFFF"),ui.setAttributeNS(null,"cx","5.5"),ui.setAttributeNS(null,"cy","5.5"),ui.setAttributeNS(null,"r","5.4999962"),Un.appendChild(jn),Un.appendChild(ui),dt.appendChild(Et),dt.appendChild(nn),dt.appendChild(Jr),dt.appendChild(wn),dt.appendChild(Un),Oe.appendChild(dt),this._element.appendChild(Oe),this._offset=l.Point.convert(xe&&xe.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(ni){ni.preventDefault()}),this._element.addEventListener("mousedown",function(ni){ni.preventDefault()}),this._element.addEventListener("focus",function(){var ni=be._map.getContainer();ni.scrollTop=0,ni.scrollLeft=0}),td(this._element,this._anchor,"marker"),this._popup=null}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.addTo=function(ne){return this.remove(),this._map=ne,ne.getCanvasContainer().appendChild(this._element),ne.on("move",this._update),ne.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},X.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),I.remove(this._element),this._popup&&this._popup.remove(),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(ne){return this._lngLat=l.LngLat.convert(ne),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},X.prototype.getElement=function(){return this._element},X.prototype.setPopup=function(ne){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ne){if(!("offset"in ne.options)){var be=38.1,Oe=13.5,qe=Math.sqrt(Math.pow(Oe,2)/2);ne.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-be],"bottom-left":[qe,-1*(24.6+qe)],"bottom-right":[-qe,-1*(24.6+qe)],left:[Oe,-24.6],right:[-Oe,-24.6]}:this._offset}this._popup=ne,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},X.prototype._onKeyPress=function(ne){var be=ne.code,Oe=ne.charCode||ne.keyCode;("Space"===be||"Enter"===be||32===Oe||13===Oe)&&this.togglePopup()},X.prototype._onMapClick=function(ne){var be=ne.originalEvent.target,Oe=this._element;this._popup&&(be===Oe||Oe.contains(be))&&this.togglePopup()},X.prototype.getPopup=function(){return this._popup},X.prototype.togglePopup=function(){var ne=this._popup;return ne?(ne.isOpen()?ne.remove():ne.addTo(this._map),this):this},X.prototype._update=function(ne){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=tf(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var be="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?be="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(be="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Oe="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?Oe="rotateX(0deg)":"map"===this._pitchAlignment&&(Oe="rotateX("+this._map.getPitch()+"deg)"),(!ne||"moveend"===ne.type)&&(this._pos=this._pos.round()),I.setTransform(this._element,Ac[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Oe+" "+be)}},X.prototype.getOffset=function(){return this._offset},X.prototype.setOffset=function(ne){return this._offset=l.Point.convert(ne),this._update(),this},X.prototype._onMove=function(ne){this._pos=ne.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new l.Event("dragstart"))),this.fire(new l.Event("drag"))},X.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new l.Event("dragend")),this._state="inactive"},X.prototype._addDragHandler=function(ne){this._element.contains(ne.originalEvent.target)&&(ne.preventDefault(),this._positionDelta=ne.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},X.prototype.setDraggable=function(ne){return this._draggable=!!ne,this._map&&(ne?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},X.prototype.isDraggable=function(){return this._draggable},X.prototype.setRotation=function(ne){return this._rotation=ne||0,this._update(),this},X.prototype.getRotation=function(){return this._rotation},X.prototype.setRotationAlignment=function(ne){return this._rotationAlignment=ne||"auto",this._update(),this},X.prototype.getRotationAlignment=function(){return this._rotationAlignment},X.prototype.setPitchAlignment=function(ne){return this._pitchAlignment=ne&&"auto"!==ne?ne:this._rotationAlignment,this._update(),this},X.prototype.getPitchAlignment=function(){return this._pitchAlignment},X}(l.Evented),Gs={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};var $f=0,Qf=!1,rd=function(ve){function X(xe){ve.call(this),this.options=l.extend({},Gs,xe),l.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.onAdd=function(ne){return this._map=ne,this._container=I.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),function mo(ve){void 0!==Il?ve(Il):void 0!==l.window.navigator.permissions?l.window.navigator.permissions.query({name:"geolocation"}).then(function(X){ve(Il="denied"!==X.state)}):ve(Il=!!l.window.navigator.geolocation)}(this._setupUI),this._container},X.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(l.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),I.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,$f=0,Qf=!1},X.prototype._isOutOfMapMaxBounds=function(ne){var be=this._map.getMaxBounds(),Oe=ne.coords;return be&&(Oe.longitude<be.getWest()||Oe.longitude>be.getEast()||Oe.latitude<be.getSouth()||Oe.latitude>be.getNorth())},X.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},X.prototype._onSuccess=function(ne){if(this._map){if(this._isOutOfMapMaxBounds(ne))return this._setErrorState(),this.fire(new l.Event("outofmaxbounds",ne)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=ne,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(ne),(!this.options.trackUserLocation||"ACTIVE_LOCK"===this._watchState)&&this._updateCamera(ne),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new l.Event("geolocate",ne)),this._finish()}},X.prototype._updateCamera=function(ne){var be=new l.LngLat(ne.coords.longitude,ne.coords.latitude),Oe=ne.coords.accuracy,qe=this._map.getBearing(),dt=l.extend({bearing:qe},this.options.fitBoundsOptions);this._map.fitBounds(be.toBounds(Oe),dt,{geolocateSource:!0})},X.prototype._updateMarker=function(ne){if(ne){var be=new l.LngLat(ne.coords.longitude,ne.coords.latitude);this._accuracyCircleMarker.setLngLat(be).addTo(this._map),this._userLocationDotMarker.setLngLat(be).addTo(this._map),this._accuracy=ne.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},X.prototype._updateCircleRadius=function(){var ne=this._map._container.clientHeight/2,be=this._map.unproject([0,ne]),Oe=this._map.unproject([1,ne]),qe=be.distanceTo(Oe),dt=Math.ceil(2*this._accuracy/qe);this._circleElement.style.width=dt+"px",this._circleElement.style.height=dt+"px"},X.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},X.prototype._onError=function(ne){if(this._map){if(this.options.trackUserLocation)if(1===ne.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var be=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=be,this._geolocateButton.setAttribute("aria-label",be),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===ne.code&&Qf)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new l.Event("error",ne)),this._finish()}},X.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},X.prototype._setupUI=function(ne){var be=this;if(this._container.addEventListener("contextmenu",function(dt){return dt.preventDefault()}),this._geolocateButton=I.create("button","mapboxgl-ctrl-geolocate",this._container),I.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===ne){l.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Oe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Oe,this._geolocateButton.setAttribute("aria-label",Oe)}else{var qe=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=qe,this._geolocateButton.setAttribute("aria-label",qe)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=I.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Jc(this._dotElement),this._circleElement=I.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Jc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(dt){!dt.geolocateSource&&"ACTIVE_LOCK"===be._watchState&&(!dt.originalEvent||"resize"!==dt.originalEvent.type)&&(be._watchState="BACKGROUND",be._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),be._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),be.fire(new l.Event("trackuserlocationend")))})},X.prototype.trigger=function(){if(!this._setup)return l.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new l.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":$f--,Qf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new l.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new l.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var ne;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++$f>1?(ne={maximumAge:6e5,timeout:0},Qf=!0):(ne=this.options.positionOptions,Qf=!1),this._geolocationWatchID=l.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,ne)}}else l.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},X.prototype._clearWatch=function(){l.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},X}(l.Evented),Bv={maxWidth:100,unit:"metric"},mf=function(X){this.options=l.extend({},Bv,X),l.bindAll(["_onMove","setUnit"],this)};function nd(ve,X,xe){var ne=xe&&xe.maxWidth||100,be=ve._container.clientHeight/2,Oe=ve.unproject([0,be]),qe=ve.unproject([ne,be]),dt=Oe.distanceTo(qe);if(xe&&"imperial"===xe.unit){var Et=3.2808*dt;Et>5280?xf(X,ne,Et/5280,ve._getUIString("ScaleControl.Miles")):xf(X,ne,Et,ve._getUIString("ScaleControl.Feet"))}else xe&&"nautical"===xe.unit?xf(X,ne,dt/1852,ve._getUIString("ScaleControl.NauticalMiles")):dt>=1e3?xf(X,ne,dt/1e3,ve._getUIString("ScaleControl.Kilometers")):xf(X,ne,dt,ve._getUIString("ScaleControl.Meters"))}function xf(ve,X,xe,ne){var be=function Uv(ve){var X=Math.pow(10,(""+Math.floor(ve)).length-1),xe=ve/X;return X*(xe>=10?10:xe>=5?5:xe>=3?3:xe>=2?2:xe>=1?1:function bf(ve){var X=Math.pow(10,Math.ceil(-Math.log(ve)/Math.LN10));return Math.round(ve*X)/X}(xe))}(xe);ve.style.width=X*(be/xe)+"px",ve.innerHTML=be+"&nbsp;"+ne}mf.prototype.getDefaultPosition=function(){return"bottom-left"},mf.prototype._onMove=function(){nd(this._map,this._container,this.options)},mf.prototype.onAdd=function(X){return this._map=X,this._container=I.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",X.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},mf.prototype.onRemove=function(){I.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},mf.prototype.setUnit=function(X){this.options.unit=X,nd(this._map,this._container,this.options)};var Pl=function(X){this._fullscreen=!1,X&&X.container&&(X.container instanceof l.window.HTMLElement?this._container=X.container:l.warnOnce("Full screen control 'container' must be a DOM element.")),l.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in l.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in l.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in l.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in l.window.document&&(this._fullscreenchange="MSFullscreenChange")};Pl.prototype.onAdd=function(X){return this._map=X,this._container||(this._container=this._map.getContainer()),this._controlContainer=I.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",l.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Pl.prototype.onRemove=function(){I.remove(this._controlContainer),this._map=null,l.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Pl.prototype._checkFullscreenSupport=function(){return!!(l.window.document.fullscreenEnabled||l.window.document.mozFullScreenEnabled||l.window.document.msFullscreenEnabled||l.window.document.webkitFullscreenEnabled)},Pl.prototype._setupUI=function(){var X=this._fullscreenButton=I.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);I.create("span","mapboxgl-ctrl-icon",X).setAttribute("aria-hidden",!0),X.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),l.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Pl.prototype._updateTitle=function(){var X=this._getTitle();this._fullscreenButton.setAttribute("aria-label",X),this._fullscreenButton.title=X},Pl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Pl.prototype._isFullscreen=function(){return this._fullscreen},Pl.prototype._changeIcon=function(){(l.window.document.fullscreenElement||l.window.document.mozFullScreenElement||l.window.document.webkitFullscreenElement||l.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Pl.prototype._onClickFullscreen=function(){this._isFullscreen()?l.window.document.exitFullscreen?l.window.document.exitFullscreen():l.window.document.mozCancelFullScreen?l.window.document.mozCancelFullScreen():l.window.document.msExitFullscreen?l.window.document.msExitFullscreen():l.window.document.webkitCancelFullScreen&&l.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Lh={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Ih=function(ve){function X(xe){ve.call(this),this.options=l.extend(Object.create(Lh),xe),l.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ve&&(X.__proto__=ve),(X.prototype=Object.create(ve&&ve.prototype)).constructor=X,X.prototype.addTo=function(ne){return this._map&&this.remove(),this._map=ne,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new l.Event("open")),this},X.prototype.isOpen=function(){return!!this._map},X.prototype.remove=function(){return this._content&&I.remove(this._content),this._container&&(I.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new l.Event("close")),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(ne){return this._lngLat=l.LngLat.convert(ne),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},X.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},X.prototype.getElement=function(){return this._container},X.prototype.setText=function(ne){return this.setDOMContent(l.window.document.createTextNode(ne))},X.prototype.setHTML=function(ne){var qe,be=l.window.document.createDocumentFragment(),Oe=l.window.document.createElement("body");for(Oe.innerHTML=ne;qe=Oe.firstChild;)be.appendChild(qe);return this.setDOMContent(be)},X.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},X.prototype.setMaxWidth=function(ne){return this.options.maxWidth=ne,this._update(),this},X.prototype.setDOMContent=function(ne){return this._createContent(),this._content.appendChild(ne),this._update(),this},X.prototype.addClassName=function(ne){this._container&&this._container.classList.add(ne)},X.prototype.removeClassName=function(ne){this._container&&this._container.classList.remove(ne)},X.prototype.toggleClassName=function(ne){if(this._container)return this._container.classList.toggle(ne)},X.prototype._createContent=function(){this._content&&I.remove(this._content),this._content=I.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=I.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},X.prototype._onMouseUp=function(ne){this._update(ne.point)},X.prototype._onMouseMove=function(ne){this._update(ne.point)},X.prototype._onDrag=function(ne){this._update(ne.point)},X.prototype._update=function(ne){var be=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=I.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=I.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Vr){return be._container.classList.add(Vr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=tf(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||ne)){var qe=this._pos=this._trackPointer&&ne?ne:this._map.project(this._lngLat),dt=this.options.anchor,Et=Ph(this.options.offset);if(!dt){var yr,Zt=this._container.offsetWidth,ar=this._container.offsetHeight;yr=qe.y+Et.bottom.y<ar?["top"]:qe.y>this._map.transform.height-ar?["bottom"]:[],qe.x<Zt/2?yr.push("left"):qe.x>this._map.transform.width-Zt/2&&yr.push("right"),dt=0===yr.length?"bottom":yr.join("-")}var Er=qe.add(Et[dt]).round();I.setTransform(this._container,Ac[dt]+" translate("+Er.x+"px,"+Er.y+"px)"),td(this._container,dt,"popup")}},X.prototype._onClose=function(){this.remove()},X}(l.Evented);function Ph(ve){if(ve){if("number"==typeof ve){var X=Math.round(Math.sqrt(.5*Math.pow(ve,2)));return{center:new l.Point(0,0),top:new l.Point(0,ve),"top-left":new l.Point(X,X),"top-right":new l.Point(-X,X),bottom:new l.Point(0,-ve),"bottom-left":new l.Point(X,-X),"bottom-right":new l.Point(-X,-X),left:new l.Point(ve,0),right:new l.Point(-ve,0)}}if(ve instanceof l.Point||Array.isArray(ve)){var xe=l.Point.convert(ve);return{center:xe,top:xe,"top-left":xe,"top-right":xe,bottom:xe,"bottom-left":xe,"bottom-right":xe,left:xe,right:xe}}return{center:l.Point.convert(ve.center||[0,0]),top:l.Point.convert(ve.top||[0,0]),"top-left":l.Point.convert(ve["top-left"]||[0,0]),"top-right":l.Point.convert(ve["top-right"]||[0,0]),bottom:l.Point.convert(ve.bottom||[0,0]),"bottom-left":l.Point.convert(ve["bottom-left"]||[0,0]),"bottom-right":l.Point.convert(ve["bottom-right"]||[0,0]),left:l.Point.convert(ve.left||[0,0]),right:l.Point.convert(ve.right||[0,0])}}return Ph(new l.Point(0,0))}var Hd={version:l.version,supported:R,setRTLTextPlugin:l.setRTLTextPlugin,getRTLTextPluginStatus:l.getRTLTextPluginStatus,Map:ed,NavigationControl:ef,GeolocateControl:rd,AttributionControl:cu,ScaleControl:mf,FullscreenControl:Pl,Popup:Ih,Marker:Jc,Style:os,LngLat:l.LngLat,LngLatBounds:l.LngLatBounds,Point:l.Point,MercatorCoordinate:l.MercatorCoordinate,Evented:l.Evented,config:l.config,prewarm:function kt(){zt().acquire(hr)},clearPrewarmedResources:function Xt(){var ve=Ze;ve&&(ve.isPreloaded()&&1===ve.numActive()?(ve.release(hr),Ze=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return l.config.ACCESS_TOKEN},set accessToken(ve){l.config.ACCESS_TOKEN=ve},get baseApiUrl(){return l.config.API_URL},set baseApiUrl(ve){l.config.API_URL=ve},get workerCount(){return wr.workerCount},set workerCount(ve){wr.workerCount=ve},get maxParallelImageRequests(){return l.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ve){l.config.MAX_PARALLEL_IMAGE_REQUESTS=ve},clearStorage:function(X){l.clearTileCache(X)},workerUrl:""};return Hd}),S},oe.exports=t()},27084:function(oe){"use strict";oe.exports=Math.log2||function(J){return Math.log(J)*Math.LOG2E}},16825:function(oe,J,t){"use strict";oe.exports=function k(l,R){R||(R=l,l=window);var I=0,v=0,w=0,r={shift:!1,alt:!1,control:!1,meta:!1},n=!1;function c(C){var T=!1;return"altKey"in C&&(T=T||C.altKey!==r.alt,r.alt=!!C.altKey),"shiftKey"in C&&(T=T||C.shiftKey!==r.shift,r.shift=!!C.shiftKey),"ctrlKey"in C&&(T=T||C.ctrlKey!==r.control,r.control=!!C.ctrlKey),"metaKey"in C&&(T=T||C.metaKey!==r.meta,r.meta=!!C.metaKey),T}function o(C,T){var L=S.x(T),x=S.y(T);"buttons"in T&&(C=0|T.buttons),(C!==I||L!==v||x!==w||c(T))&&(I=0|C,v=L||0,w=x||0,R&&R(I,v,w,r))}function f(C){o(0,C)}function h(){(I||v||w||r.shift||r.alt||r.meta||r.control)&&(v=w=0,I=0,r.shift=r.alt=r.control=r.meta=!1,R&&R(0,0,0,r))}function d(C){c(C)&&R&&R(I,v,w,r)}function b(C){0===S.buttons(C)?o(0,C):o(I,C)}function p(C){o(I|S.buttons(C),C)}function A(C){o(I&~S.buttons(C),C)}function m(){n||(n=!0,l.addEventListener("mousemove",b),l.addEventListener("mousedown",p),l.addEventListener("mouseup",A),l.addEventListener("mouseleave",f),l.addEventListener("mouseenter",f),l.addEventListener("mouseout",f),l.addEventListener("mouseover",f),l.addEventListener("blur",h),l.addEventListener("keyup",d),l.addEventListener("keydown",d),l.addEventListener("keypress",d),l!==window&&(window.addEventListener("blur",h),window.addEventListener("keyup",d),window.addEventListener("keydown",d),window.addEventListener("keypress",d)))}m();var g={element:l};return Object.defineProperties(g,{enabled:{get:function(){return n},set:function(C){C?m():function u(){n&&(n=!1,l.removeEventListener("mousemove",b),l.removeEventListener("mousedown",p),l.removeEventListener("mouseup",A),l.removeEventListener("mouseleave",f),l.removeEventListener("mouseenter",f),l.removeEventListener("mouseout",f),l.removeEventListener("mouseover",f),l.removeEventListener("blur",h),l.removeEventListener("keyup",d),l.removeEventListener("keydown",d),l.removeEventListener("keypress",d),l!==window&&(window.removeEventListener("blur",h),window.removeEventListener("keyup",d),window.removeEventListener("keydown",d),window.removeEventListener("keypress",d)))}()},enumerable:!0},buttons:{get:function(){return I},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return w},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),g};var S=t(74311)},48956:function(oe){var J={left:0,top:0};oe.exports=function t(k,l,R){l=l||k.currentTarget||k.srcElement,Array.isArray(R)||(R=[0,0]);var I=k.clientX||0,v=k.clientY||0,w=function S(k){return k===window||k===document||k===document.body?J:k.getBoundingClientRect()}(l);return R[0]=I-w.left,R[1]=v-w.top,R}},74311:function(oe,J){"use strict";function S(R){return R.target||R.srcElement||window}J.buttons=function t(R){if("object"==typeof R){if("buttons"in R)return R.buttons;if("which"in R){if(2===(I=R.which))return 4;if(3===I)return 2;if(I>0)return 1<<I-1}else if("button"in R){var I;if(1===(I=R.button))return 4;if(2===I)return 2;if(I>=0)return 1<<I}}return 0},J.element=S,J.x=function k(R){if("object"==typeof R){if("offsetX"in R)return R.offsetX;var v=S(R).getBoundingClientRect();return R.clientX-v.left}return 0},J.y=function l(R){if("object"==typeof R){if("offsetY"in R)return R.offsetY;var v=S(R).getBoundingClientRect();return R.clientY-v.top}return 0}},1195:function(oe,J,t){"use strict";var S=t(75686);oe.exports=function k(l,R,I){"function"==typeof l&&(I=!!R,R=l,l=window);var v=S("ex",l),w=function(r){I&&r.preventDefault();var n=r.deltaX||0,c=r.deltaY||0,o=r.deltaZ||0,h=1;switch(r.deltaMode){case 1:h=v;break;case 2:h=window.innerHeight}if(c*=h,o*=h,(n*=h)||c||o)return R(n,c,o,r)};return l.addEventListener("wheel",w),w}},7417:function(oe,J,t){var S,l,R,I;I=function(){"use strict";var l,R,I,v=Object.prototype.toString,w=typeof setImmediate<"u"?function(g){return setImmediate(g)}:setTimeout;try{Object.defineProperty({},"x",{}),l=function(g,C,T,L){return Object.defineProperty(g,C,{value:T,writable:!0,configurable:!1!==L})}}catch{l=function(C,T,L){return C[T]=L,C}}function r(u,g){I.add(u,g),R||(R=w(I.drain))}function n(u){var g,C=typeof u;return null!=u&&("object"==C||"function"==C)&&(g=u.then),"function"==typeof g&&g}function c(){for(var u=0;u<this.chain.length;u++)o(this,1===this.state?this.chain[u].success:this.chain[u].failure,this.chain[u]);this.chain.length=0}function o(u,g,C){var T,L;try{!1===g?C.reject(u.msg):(T=!0===g?u.msg:g.call(void 0,u.msg))===C.promise?C.reject(TypeError("Promise-chain cycle")):(L=n(T))?L.call(T,C.resolve,C.reject):C.resolve(T)}catch(x){C.reject(x)}}function f(u){var g,C=this;if(!C.triggered){C.triggered=!0,C.def&&(C=C.def);try{(g=n(u))?r(function(){var T=new b(C);try{g.call(u,function(){f.apply(T,arguments)},function(){h.apply(T,arguments)})}catch(L){h.call(T,L)}}):(C.msg=u,C.state=1,C.chain.length>0&&r(c,C))}catch(T){h.call(new b(C),T)}}}function h(u){var g=this;g.triggered||(g.triggered=!0,g.def&&(g=g.def),g.msg=u,g.state=2,g.chain.length>0&&r(c,g))}function d(u,g,C,T){for(var L=0;L<g.length;L++)!function(E){u.resolve(g[E]).then(function(i){C(E,i)},T)}(L)}function b(u){this.def=u,this.triggered=!1}function p(u){this.promise=u,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function A(u){if("function"!=typeof u)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var g=new p(this);this.then=function(T,L){var x={success:"function"!=typeof T||T,failure:"function"==typeof L&&L};return x.promise=new this.constructor(function(M,i){if("function"!=typeof M||"function"!=typeof i)throw TypeError("Not a function");x.resolve=M,x.reject=i}),g.chain.push(x),0!==g.state&&r(c,g),x.promise},this.catch=function(T){return this.then(void 0,T)};try{u.call(void 0,function(T){f.call(g,T)},function(T){h.call(g,T)})}catch(C){h.call(g,C)}}I=function(){var g,C,T;function L(x,E){this.fn=x,this.self=E,this.next=void 0}return{add:function(E,M){T=new L(E,M),C?C.next=T:g=T,C=T,T=void 0},drain:function(){var E=g;for(g=C=R=void 0;E;)E.fn.call(E.self),E=E.next}}}();var m=l({},"constructor",A,!1);return A.prototype=m,l(m,"__NPO__",0,!1),l(A,"resolve",function(g){return g&&"object"==typeof g&&1===g.__NPO__?g:new this(function(L,x){if("function"!=typeof L||"function"!=typeof x)throw TypeError("Not a function");L(g)})}),l(A,"reject",function(g){return new this(function(T,L){if("function"!=typeof T||"function"!=typeof L)throw TypeError("Not a function");L(g)})}),l(A,"all",function(g){var C=this;return"[object Array]"!=v.call(g)?C.reject(TypeError("Not an array")):0===g.length?C.resolve([]):new C(function(L,x){if("function"!=typeof L||"function"!=typeof x)throw TypeError("Not a function");var E=g.length,M=Array(E),i=0;d(C,g,function(y,B){M[y]=B,++i===E&&L(M)},x)})}),l(A,"race",function(g){var C=this;return"[object Array]"!=v.call(g)?C.reject(TypeError("Not an array")):new C(function(L,x){if("function"!=typeof L||"function"!=typeof x)throw TypeError("Not a function");d(C,g,function(M,i){L(i)},x)})}),A},(R=typeof t.g<"u"?t.g:this)[l="Promise"]=R[l]||I(),oe.exports?oe.exports=R[l]:void 0!==(S=function(){return R[l]}.call(J,t,J,oe))&&(oe.exports=S)},18625:function(oe){var J=Math.PI,t=v(120);function k(w,r,n,c){return["C",w,r,n,c,n,c]}function l(w,r,n,c,o,f){return["C",w/3+.6666666666666666*n,r/3+.6666666666666666*c,o/3+.6666666666666666*n,f/3+.6666666666666666*c,o,f]}function R(w,r,n,c,o,f,h,d,b,p){if(p)M=p[0],i=p[1],x=p[2],E=p[3];else{var A=I(w,r,-o);r=A.y;var m=((w=A.x)-(d=(A=I(d,b,-o)).x))/2,u=(r-(b=A.y))/2,g=m*m/(n*n)+u*u/(c*c);g>1&&(n*=g=Math.sqrt(g),c*=g);var C=n*n,T=c*c,L=(f==h?-1:1)*Math.sqrt(Math.abs((C*T-C*u*u-T*m*m)/(C*u*u+T*m*m)));L==1/0&&(L=1);var x=L*n*u/c+(w+d)/2,E=L*-c*m/n+(r+b)/2,M=Math.asin(((r-E)/c).toFixed(9)),i=Math.asin(((b-E)/c).toFixed(9));(M=w<x?J-M:M)<0&&(M=2*J+M),(i=d<x?J-i:i)<0&&(i=2*J+i),h&&M>i&&(M-=2*J),!h&&i>M&&(i-=2*J)}if(Math.abs(i-M)>t){var D=i,y=d,B=b;i=M+t*(h&&i>M?1:-1);var F=R(d=x+n*Math.cos(i),b=E+c*Math.sin(i),n,c,o,0,h,y,B,[i,D,x,E])}var _=Math.tan((i-M)/4),z=4/3*n*_,V=4/3*c*_,H=[2*w-(w+z*Math.sin(M)),2*r-(r-V*Math.cos(M)),d+z*Math.sin(i),b-V*Math.cos(i),d,b];if(p)return H;F&&(H=H.concat(F));for(var U=0;U<H.length;){var G=I(H[U],H[U+1],o);H[U++]=G.x,H[U++]=G.y}return H}function I(w,r,n){return{x:w*Math.cos(n)-r*Math.sin(n),y:w*Math.sin(n)+r*Math.cos(n)}}function v(w){return w*(J/180)}oe.exports=function S(w){for(var r,n=[],c=0,o=0,f=0,h=0,d=null,b=null,p=0,A=0,m=0,u=w.length;m<u;m++){var g=w[m],C=g[0];switch(C){case"M":f=g[1],h=g[2];break;case"A":(g=R(p,A,g[1],g[2],v(g[3]),g[4],g[5],g[6],g[7])).unshift("C"),g.length>7&&(n.push(g.splice(0,7)),g.unshift("C"));break;case"S":var T=p,L=A;("C"==r||"S"==r)&&(T+=T-c,L+=L-o),g=["C",T,L,g[1],g[2],g[3],g[4]];break;case"T":"Q"==r||"T"==r?(d=2*p-d,b=2*A-b):(d=p,b=A),g=l(p,A,d,b,g[1],g[2]);break;case"Q":d=g[1],b=g[2],g=l(p,A,g[1],g[2],g[3],g[4]);break;case"L":g=k(p,A,g[1],g[2]);break;case"H":g=k(p,A,g[1],A);break;case"V":g=k(p,A,p,g[1]);break;case"Z":g=k(p,A,f,h)}r=C,p=g[g.length-2],A=g[g.length-1],g.length>4?(c=g[g.length-4],o=g[g.length-3]):(c=p,o=A),n.push(g)}return n}},56131:function(oe){"use strict";var J=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;oe.exports=function l(){try{if(!Object.assign)return!1;var R=new String("abc");if(R[5]="de","5"===Object.getOwnPropertyNames(R)[0])return!1;for(var I={},v=0;v<10;v++)I["_"+String.fromCharCode(v)]=v;if("0123456789"!==Object.getOwnPropertyNames(I).map(function(n){return I[n]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(n){r[n]=n}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch{return!1}}()?Object.assign:function(R,I){for(var v,r,w=function k(R){if(null==R)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(R)}(R),n=1;n<arguments.length;n++){for(var c in v=Object(arguments[n]))t.call(v,c)&&(w[c]=v[c]);if(J){r=J(v);for(var o=0;o<r.length;o++)S.call(v,r[o])&&(w[r[o]]=v[r[o]])}}return w}},65848:function(oe){"use strict";var J=function(t){return t!=t};oe.exports=function(S,k){return 0===S&&0===k?1/S==1/k:!!(S===k||J(S)&&J(k))}},64003:function(oe,J,t){"use strict";var S=t(17045),k=t(68222),l=t(65848),R=t(27015),I=t(55572),v=k(R(),Object);S(v,{getPolyfill:R,implementation:l,shim:I}),oe.exports=v},27015:function(oe,J,t){"use strict";var S=t(65848);oe.exports=function(){return"function"==typeof Object.is?Object.is:S}},55572:function(oe,J,t){"use strict";var S=t(27015),k=t(17045);oe.exports=function(){var R=S();return k(Object,{is:R},{is:function(){return Object.is!==R}}),R}},99019:function(oe,J,t){"use strict";var S;if(!Object.keys){var k=Object.prototype.hasOwnProperty,l=Object.prototype.toString,R=t(64178),I=Object.prototype.propertyIsEnumerable,v=!I.call({toString:null},"toString"),w=I.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=function(h){var d=h.constructor;return d&&d.prototype===h},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},o=function(){if(typeof window>"u")return!1;for(var h in window)try{if(!c["$"+h]&&k.call(window,h)&&null!==window[h]&&"object"==typeof window[h])try{n(window[h])}catch{return!0}}catch{return!0}return!1}();S=function(d){var b=null!==d&&"object"==typeof d,p="[object Function]"===l.call(d),A=R(d),m=b&&"[object String]"===l.call(d),u=[];if(!b&&!p&&!A)throw new TypeError("Object.keys called on a non-object");var g=w&&p;if(m&&d.length>0&&!k.call(d,0))for(var C=0;C<d.length;++C)u.push(String(C));if(A&&d.length>0)for(var T=0;T<d.length;++T)u.push(String(T));else for(var L in d)(!g||"prototype"!==L)&&k.call(d,L)&&u.push(String(L));if(v)for(var x=function(h){if(typeof window>"u"||!o)return n(h);try{return n(h)}catch{return!1}}(d),E=0;E<r.length;++E)(!x||"constructor"!==r[E])&&k.call(d,r[E])&&u.push(r[E]);return u}}oe.exports=S},8709:function(oe,J,t){"use strict";var S=Array.prototype.slice,k=t(64178),l=Object.keys,R=l?function(w){return l(w)}:t(99019),I=Object.keys;R.shim=function(){if(Object.keys){var w=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);w||(Object.keys=function(n){return k(n)?I(S.call(n)):I(n)})}else Object.keys=R;return Object.keys||R},oe.exports=R},64178:function(oe){"use strict";var J=Object.prototype.toString;oe.exports=function(S){var k=J.call(S),l="[object Arguments]"===k;return l||(l="[object Array]"!==k&&null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Function]"===J.call(S.callee)),l}},88641:function(oe){"use strict";function J(k,l){if("string"!=typeof k)return[k];var R=[k];"string"==typeof l||Array.isArray(l)?l={brackets:l}:l||(l={});var I=l.brackets?Array.isArray(l.brackets)?l.brackets:[l.brackets]:["{}","[]","()"],v=l.escape||"___",w=!!l.flat;I.forEach(function(c){var o=new RegExp(["\\",c[0],"[^\\",c[0],"\\",c[1],"]*\\",c[1]].join("")),f=[];function h(d,b,p){var A=R.push(d.slice(c[0].length,-c[1].length))-1;return f.push(A),v+A+v}R.forEach(function(d,b){for(var p,A=0;d!=p;)if(p=d,d=d.replace(o,h),A++>1e4)throw Error("References have circular dependency. Please, check them.");R[b]=d}),f=f.reverse(),R=R.map(function(d){return f.forEach(function(b){d=d.replace(new RegExp("(\\"+v+b+"\\"+v+")","g"),c[0]+"$1"+c[1])}),d})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);return w?R:function n(c,o,f){for(var d,h=[],b=0;d=r.exec(c);){if(b++>1e4)throw Error("Circular references in parenthesis");h.push(c.slice(0,d.index)),h.push(n(o[d[1]],o)),c=c.slice(d.index+d[0].length)}return h.push(c),h}(R[0],R)}function t(k,l){if(l&&l.flat){var v,R=l&&l.escape||"___",I=k[0];if(!I)return"";for(var w=new RegExp("\\"+R+"([0-9]+)\\"+R),r=0;I!=v;){if(r++>1e4)throw Error("Circular references in "+k);v=I,I=I.replace(w,n)}return I}return k.reduce(function c(o,f){return Array.isArray(f)&&(f=f.reduce(c,"")),o+f},"");function n(c,o){if(null==k[o])throw Error("Reference "+o+"is undefined");return k[o]}}function S(k,l){return Array.isArray(k)?t(k,l):J(k,l)}S.parse=J,S.stringify=t,oe.exports=S},18863:function(oe,J,t){"use strict";var S=t(71299);oe.exports=function k(l){var R;return arguments.length>1&&(l=arguments),"string"==typeof l?l=l.split(/\s/).map(parseFloat):"number"==typeof l&&(l=[l]),l.length&&"number"==typeof l[0]?R=1===l.length?{width:l[0],height:l[0],x:0,y:0}:2===l.length?{width:l[0],height:l[1],x:0,y:0}:{x:l[0],y:l[1],width:l[2]-l[0]||0,height:l[3]-l[1]||0}:l&&((R={x:(l=S(l,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:l.top||0}).width=null==l.width?l.right?l.right-R.x:0:l.width,R.height=null==l.height?l.bottom?l.bottom-R.y:0:l.height),R}},95616:function(oe){oe.exports=function S(R){var I=[];return R.replace(t,function(v,w,r){var n=w.toLowerCase();for(r=function l(R){var I=R.match(k);return I?I.map(Number):[]}(r),"m"==n&&r.length>2&&(I.push([w].concat(r.splice(0,2))),n="l",w="m"==w?"l":"L");;){if(r.length==J[n])return r.unshift(w),I.push(r);if(r.length<J[n])throw new Error("malformed path data");I.push([w].concat(r.splice(0,J[n])))}}),I};var J={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var k=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(oe){oe.exports=function(t,S){S||(S=[0,""]),t=String(t);var k=parseFloat(t,10);return S[0]=k,S[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",S}},9748:function(oe,J,t){var S=t(90386);(function(){var k,l,R,I,v,w;typeof performance<"u"&&null!==performance&&performance.now?oe.exports=function(){return performance.now()}:typeof S<"u"&&null!==S&&S.hrtime?(oe.exports=function(){return(k()-v)/1e6},l=S.hrtime,I=(k=function(){var r;return 1e9*(r=l())[0]+r[1]})(),w=1e9*S.uptime(),v=I-w):Date.now?(oe.exports=function(){return Date.now()-R},R=Date.now()):(oe.exports=function(){return(new Date).getTime()-R},R=(new Date).getTime())}).call(this)},71299:function(oe){"use strict";oe.exports=function(k,l,R){var v,w,I={};if("string"==typeof l&&(l=t(l)),Array.isArray(l)){var r={};for(w=0;w<l.length;w++)r[l[w]]=!0;l=r}for(v in l)l[v]=t(l[v]);var n={};for(v in l){var c=l[v];if(Array.isArray(c))for(w=0;w<c.length;w++){var o=c[w];if(R&&(n[o]=!0),o in k){if(I[v]=k[o],R)for(var f=w;f<c.length;f++)n[c[f]]=!0;break}}else v in k&&(l[v]&&(I[v]=k[v]),R&&(n[v]=!0))}if(R)for(v in k)n[v]||(I[v]=k[v]);return I};var J={};function t(S){return J[S]?J[S]:("string"==typeof S&&(S=J[S]=S.split(/\s*,\s*|\s+/)),S)}},38258:function(oe){oe.exports=function(t,S,k,l){var R=t[0],I=t[1],v=!1;void 0===k&&(k=0),void 0===l&&(l=S.length);for(var w=l-k,r=0,n=w-1;r<w;n=r++){var c=S[r+k][0],o=S[r+k][1],h=S[n+k][1];o>I!=h>I&&R<(S[n+k][0]-c)*(I-o)/(h-o)+c&&(v=!v)}return v}},52142:function(oe,J,t){var n,S=t(69444),k=t(29023),l=t(87263),R=t(11328),I=t(55968),v=t(10670),w=!1,r=k();function c(o,f,h){var d=n.segments(o),b=n.segments(f),A=h(n.combine(d,b));return n.polygon(A)}n={buildLog:function(o){return!0===o?w=S():!1===o&&(w=!1),!1!==w&&w.list},epsilon:function(o){return r.epsilon(o)},segments:function(o){var f=l(!0,r,w);return o.regions.forEach(f.addRegion),{segments:f.calculate(o.inverted),inverted:o.inverted}},combine:function(o,f){return{combined:l(!1,r,w).calculate(o.segments,o.inverted,f.segments,f.inverted),inverted1:o.inverted,inverted2:f.inverted}},selectUnion:function(o){return{segments:I.union(o.combined,w),inverted:o.inverted1||o.inverted2}},selectIntersect:function(o){return{segments:I.intersect(o.combined,w),inverted:o.inverted1&&o.inverted2}},selectDifference:function(o){return{segments:I.difference(o.combined,w),inverted:o.inverted1&&!o.inverted2}},selectDifferenceRev:function(o){return{segments:I.differenceRev(o.combined,w),inverted:!o.inverted1&&o.inverted2}},selectXor:function(o){return{segments:I.xor(o.combined,w),inverted:o.inverted1!==o.inverted2}},polygon:function(o){return{regions:R(o.segments,r,w),inverted:o.inverted}},polygonFromGeoJSON:function(o){return v.toPolygon(n,o)},polygonToGeoJSON:function(o){return v.fromPolygon(n,r,o)},union:function(o,f){return c(o,f,n.selectUnion)},intersect:function(o,f){return c(o,f,n.selectIntersect)},difference:function(o,f){return c(o,f,n.selectDifference)},differenceRev:function(o,f){return c(o,f,n.selectDifferenceRev)},xor:function(o,f){return c(o,f,n.selectXor)}},"object"==typeof window&&(window.PolyBool=n),oe.exports=n},69444:function(oe){oe.exports=function J(){var t,S=0,k=!1;function l(R,I){return t.list.push({type:R,data:I?JSON.parse(JSON.stringify(I)):void 0}),t}return t={list:[],segmentId:function(){return S++},checkIntersection:function(R,I){return l("check",{seg1:R,seg2:I})},segmentChop:function(R,I){return l("div_seg",{seg:R,pt:I}),l("chop",{seg:R,pt:I})},statusRemove:function(R){return l("pop_seg",{seg:R})},segmentUpdate:function(R){return l("seg_update",{seg:R})},segmentNew:function(R,I){return l("new_seg",{seg:R,primary:I})},segmentRemove:function(R){return l("rem_seg",{seg:R})},tempStatus:function(R,I,v){return l("temp_status",{seg:R,above:I,below:v})},rewind:function(R){return l("rewind",{seg:R})},status:function(R,I,v){return l("status",{seg:R,above:I,below:v})},vert:function(R){return R===k?t:(k=R,l("vert",{x:R}))},log:function(R){return"string"!=typeof R&&(R=JSON.stringify(R,!1,"  ")),l("log",{txt:R})},reset:function(){return l("reset")},selected:function(R){return l("selected",{segs:R})},chainStart:function(R){return l("chain_start",{seg:R})},chainRemoveHead:function(R,I){return l("chain_rem_head",{index:R,pt:I})},chainRemoveTail:function(R,I){return l("chain_rem_tail",{index:R,pt:I})},chainNew:function(R,I){return l("chain_new",{pt1:R,pt2:I})},chainMatch:function(R){return l("chain_match",{index:R})},chainClose:function(R){return l("chain_close",{index:R})},chainAddHead:function(R,I){return l("chain_add_head",{index:R,pt:I})},chainAddTail:function(R,I){return l("chain_add_tail",{index:R,pt:I})},chainConnect:function(R,I){return l("chain_con",{index1:R,index2:I})},chainReverse:function(R){return l("chain_rev",{index:R})},chainJoin:function(R,I){return l("chain_join",{index1:R,index2:I})},done:function(){return l("done")}}}},29023:function(oe){oe.exports=function J(t){"number"!=typeof t&&(t=1e-10);var S={epsilon:function(k){return"number"==typeof k&&(t=k),t},pointAboveOrOnLine:function(k,l,R){var I=l[0],v=l[1];return(R[0]-I)*(k[1]-v)-(R[1]-v)*(k[0]-I)>=-t},pointBetween:function(k,l,R){var v=R[0]-l[0],r=R[1]-l[1],n=(k[0]-l[0])*v+(k[1]-l[1])*r;return!(n<t||n-(v*v+r*r)>-t)},pointsSameX:function(k,l){return Math.abs(k[0]-l[0])<t},pointsSameY:function(k,l){return Math.abs(k[1]-l[1])<t},pointsSame:function(k,l){return S.pointsSameX(k,l)&&S.pointsSameY(k,l)},pointsCompare:function(k,l){return S.pointsSameX(k,l)?S.pointsSameY(k,l)?0:k[1]<l[1]?-1:1:k[0]<l[0]?-1:1},pointsCollinear:function(k,l,R){return Math.abs((k[0]-l[0])*(l[1]-R[1])-(l[0]-R[0])*(k[1]-l[1]))<t},linesIntersect:function(k,l,R,I){var v=l[0]-k[0],w=l[1]-k[1],r=I[0]-R[0],n=I[1]-R[1],c=v*n-w*r;if(Math.abs(c)<t)return!1;var o=k[0]-R[0],f=k[1]-R[1],h=(r*f-n*o)/c,d=(v*f-w*o)/c,b={alongA:0,alongB:0,pt:[k[0]+h*v,k[1]+h*w]};return b.alongA=h<=-t?-2:h<t?-1:h-1<=-t?0:h-1<t?1:2,b.alongB=d<=-t?-2:d<t?-1:d-1<=-t?0:d-1<t?1:2,b},pointInsideRegion:function(k,l){for(var R=k[0],I=k[1],v=l[l.length-1][0],w=l[l.length-1][1],r=!1,n=0;n<l.length;n++){var c=l[n][0],o=l[n][1];o-I>t!=w-I>t&&(v-c)*(I-o)/(w-o)+c-R>t&&(r=!r),v=c,w=o}return r}};return S}},10670:function(oe){oe.exports={toPolygon:function(t,S){function k(I){if(I.length<=0)return t.segments({inverted:!1,regions:[]});function v(n){var c=n.slice(0,n.length-1);return t.segments({inverted:!1,regions:[c]})}for(var w=v(I[0]),r=1;r<I.length;r++)w=t.selectDifference(t.combine(w,v(I[r])));return w}if("Polygon"===S.type)return t.polygon(k(S.coordinates));if("MultiPolygon"===S.type){for(var l=t.segments({inverted:!1,regions:[]}),R=0;R<S.coordinates.length;R++)l=t.selectUnion(t.combine(l,k(S.coordinates[R])));return t.polygon(l)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,S,k){function l(h,d){return S.pointInsideRegion([.5*(h[0][0]+h[1][0]),.5*(h[0][1]+h[1][1])],d)}function R(h){return{region:h,children:[]}}k=t.polygon(t.segments(k));var I=R(null);function v(h,d){for(var b=0;b<h.children.length;b++)if(l(d,(p=h.children[b]).region))return void v(p,d);var A=R(d);for(b=0;b<h.children.length;b++){var p;l((p=h.children[b]).region,d)&&(A.children.push(p),h.children.splice(b,1),b--)}h.children.push(A)}for(var w=0;w<k.regions.length;w++){var r=k.regions[w];r.length<3||v(I,r)}function n(h,d){for(var b=0,p=h[h.length-1][0],A=h[h.length-1][1],m=[],u=0;u<h.length;u++){var g=h[u][0],C=h[u][1];m.push([g,C]),b+=C*p-g*A,p=g,A=C}return b<0!==d&&m.reverse(),m.push([m[0][0],m[0][1]]),m}var c=[];function o(h){var d=[n(h.region,!1)];c.push(d);for(var b=0;b<h.children.length;b++)d.push(f(h.children[b]))}function f(h){for(var d=0;d<h.children.length;d++)o(h.children[d]);return n(h.region,!0)}for(w=0;w<I.children.length;w++)o(I.children[w]);return c.length<=0?{type:"Polygon",coordinates:[]}:1==c.length?{type:"Polygon",coordinates:c[0]}:{type:"MultiPolygon",coordinates:c}}}},87263:function(oe,J,t){var S=t(26859);oe.exports=function k(l,R,I){function v(A,m){return{id:I?I.segmentId():-1,start:A,end:m,myFill:{above:null,below:null},otherFill:null}}function w(A,m,u){return{id:I?I.segmentId():-1,start:A,end:m,myFill:{above:u.myFill.above,below:u.myFill.below},otherFill:null}}var r=S.create();function c(A,m){r.insertBefore(A,function(u){return function n(A,m,u,g,C,T){var L=R.pointsCompare(m,C);return 0!==L?L:R.pointsSame(u,T)?0:A!==g?A?1:-1:R.pointAboveOrOnLine(u,g?C:T,g?T:C)?1:-1}(A.isStart,A.pt,m,u.isStart,u.pt,u.other.pt)<0})}function h(A,m){var u=function o(A,m){var u=S.node({isStart:!0,pt:A.start,seg:A,primary:m,other:null,status:null});return c(u,A.end),u}(A,m);return function f(A,m,u){var g=S.node({isStart:!1,pt:m.end,seg:m,primary:u,other:A,status:null});A.other=g,c(g,A.pt)}(u,A,m),u}function b(A,m){var u=w(m,A.seg.end,A.seg);return function d(A,m){I&&I.segmentChop(A.seg,m),A.other.remove(),A.seg.end=m,A.other.pt=m,c(A.other,A.pt)}(A,m),h(u,A.primary)}function p(A,m){var u=S.create();function C(V){return u.findTransition(function(H){return function g(V,H){var U=V.seg.start,G=V.seg.end,Y=H.seg.start,ee=H.seg.end;return R.pointsCollinear(U,Y,ee)?R.pointsCollinear(G,Y,ee)||R.pointAboveOrOnLine(G,Y,ee)?1:-1:R.pointAboveOrOnLine(U,Y,ee)?1:-1}(V,H.ev)>0})}function T(V,H){var U=V.seg,G=H.seg,Y=U.start,ee=U.end,ue=G.start,ce=G.end;I&&I.checkIntersection(U,G);var pe=R.linesIntersect(Y,ee,ue,ce);if(!1===pe){if(!R.pointsCollinear(Y,ee,ue)||R.pointsSame(Y,ce)||R.pointsSame(ee,ue))return!1;var te=R.pointsSame(Y,ue),Q=R.pointsSame(ee,ce);if(te&&Q)return H;var K=!te&&R.pointBetween(Y,ue,ce),Z=!Q&&R.pointBetween(ee,ue,ce);if(te)return Z?b(H,ee):b(V,ce),H;K&&(Q||(Z?b(H,ee):b(V,ce)),b(H,Y))}else 0===pe.alongA&&(-1===pe.alongB?b(V,ue):0===pe.alongB?b(V,pe.pt):1===pe.alongB&&b(V,ce)),0===pe.alongB&&(-1===pe.alongA?b(H,Y):0===pe.alongA?b(H,pe.pt):1===pe.alongA&&b(H,ee));return!1}for(var L=[];!r.isEmpty();){var x=r.getHead();if(I&&I.vert(x.pt[0]),x.isStart){let V=function(){if(M){var H=T(x,M);if(H)return H}return!!i&&T(x,i)};I&&I.segmentNew(x.seg,x.primary);var E=C(x),M=E.before?E.before.ev:null,i=E.after?E.after.ev:null;I&&I.tempStatus(x.seg,!!M&&M.seg,!!i&&i.seg);var y,D=V();if(D&&(l?(y=null===x.seg.myFill.below||x.seg.myFill.above!==x.seg.myFill.below)&&(D.seg.myFill.above=!D.seg.myFill.above):D.seg.otherFill=x.seg.myFill,I&&I.segmentUpdate(D.seg),x.other.remove(),x.remove()),r.getHead()!==x){I&&I.rewind(x.seg);continue}if(l)y=null===x.seg.myFill.below||x.seg.myFill.above!==x.seg.myFill.below,x.seg.myFill.below=i?i.seg.myFill.above:A,x.seg.myFill.above=y?!x.seg.myFill.below:x.seg.myFill.below;else if(null===x.seg.otherFill){var B;x.seg.otherFill={above:B=i?x.primary===i.primary?i.seg.otherFill.above:i.seg.myFill.above:x.primary?m:A,below:B}}I&&I.status(x.seg,!!M&&M.seg,!!i&&i.seg),x.other.status=E.insert(S.node({ev:x}))}else{var F=x.status;if(null===F)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(u.exists(F.prev)&&u.exists(F.next)&&T(F.prev.ev,F.next.ev),I&&I.statusRemove(F.ev.seg),F.remove(),!x.primary){var _=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=_}L.push(x.seg)}r.getHead().remove()}return I&&I.done(),L}return l?{addRegion:function(A){for(var m,u=A[A.length-1],g=0;g<A.length;g++){var C=R.pointsCompare(m=u,u=A[g]);0!==C&&h(v(C<0?m:u,C<0?u:m),!0)}},calculate:function(A){return p(A,!1)}}:{calculate:function(A,m,u,g){return A.forEach(function(C){h(w(C.start,C.end,C),!0)}),u.forEach(function(C){h(w(C.start,C.end,C),!1)}),p(m,g)}}}},26859:function(oe){oe.exports={create:function(){var t={root:{root:!0,next:null},exists:function(S){return!(null===S||S===t.root)},isEmpty:function(){return null===t.root.next},getHead:function(){return t.root.next},insertBefore:function(S,k){for(var l=t.root,R=t.root.next;null!==R;){if(k(R))return S.prev=R.prev,S.next=R,R.prev.next=S,void(R.prev=S);l=R,R=R.next}l.next=S,S.prev=l,S.next=null},findTransition:function(S){for(var k=t.root,l=t.root.next;null!==l&&!S(l);)k=l,l=l.next;return{before:k===t.root?null:k,after:l,insert:function(R){return R.prev=k,R.next=l,k.next=R,null!==l&&(l.prev=R),R}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}}},11328:function(oe){oe.exports=function J(t,S,k){var l=[],R=[];return t.forEach(function(I){var v=I.start,w=I.end;if(S.pointsSame(v,w))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{k&&k.chainStart(I);for(var r={index:0,matches_head:!1,matches_pt1:!1},n={index:0,matches_head:!1,matches_pt1:!1},c=r,f=0;f<l.length;f++){var d=(h=l[f])[0],p=h[h.length-1];if(S.pointsSame(d,v)){if(o(f,!0,!0))break}else if(S.pointsSame(d,w)){if(o(f,!0,!1))break}else if(S.pointsSame(p,v)){if(o(f,!1,!0))break}else if(S.pointsSame(p,w)&&o(f,!1,!1))break}if(c===r)return l.push([v,w]),void(k&&k.chainNew(v,w));if(c===n){k&&k.chainMatch(r.index);var m=r.index,u=r.matches_pt1?w:v,g=r.matches_head,h=l[m],C=g?h[0]:h[h.length-1],T=g?h[1]:h[h.length-2],L=g?h[h.length-1]:h[0],x=g?h[h.length-2]:h[1];return S.pointsCollinear(T,C,u)&&(g?(k&&k.chainRemoveHead(r.index,u),h.shift()):(k&&k.chainRemoveTail(r.index,u),h.pop()),C=T),S.pointsSame(L,u)?(l.splice(m,1),S.pointsCollinear(x,L,C)&&(g?(k&&k.chainRemoveTail(r.index,C),h.pop()):(k&&k.chainRemoveHead(r.index,C),h.shift())),k&&k.chainClose(r.index),void R.push(h)):void(g?(k&&k.chainAddHead(r.index,u),h.unshift(u)):(k&&k.chainAddTail(r.index,u),h.push(u)))}var i=r.index,D=n.index;k&&k.chainConnect(i,D);var y=l[i].length<l[D].length;r.matches_head?n.matches_head?y?(E(i),M(i,D)):(E(D),M(D,i)):M(D,i):n.matches_head?M(i,D):y?(E(i),M(D,i)):(E(D),M(i,D))}function o(B,F,_){return c.index=B,c.matches_head=F,c.matches_pt1=_,c===r?(c=n,!1):(c=null,!0)}function E(B){k&&k.chainReverse(B),l[B].reverse()}function M(B,F){var _=l[B],z=l[F],V=_[_.length-1],H=_[_.length-2],U=z[0],G=z[1];S.pointsCollinear(H,V,U)&&(k&&k.chainRemoveTail(B,V),_.pop(),V=H),S.pointsCollinear(V,U,G)&&(k&&k.chainRemoveHead(F,U),z.shift()),k&&k.chainJoin(B,F),l[B]=_.concat(z),l.splice(F,1)}}),R}},55968:function(oe){function J(S,k,l){var R=[];return S.forEach(function(I){var v=(I.myFill.above?8:0)+(I.myFill.below?4:0)+(I.otherFill&&I.otherFill.above?2:0)+(I.otherFill&&I.otherFill.below?1:0);0!==k[v]&&R.push({id:l?l.segmentId():-1,start:I.start,end:I.end,myFill:{above:1===k[v],below:2===k[v]},otherFill:null})}),l&&l.selected(R),R}oe.exports={union:function(S,k){return J(S,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],k)},intersect:function(S,k){return J(S,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],k)},difference:function(S,k){return J(S,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],k)},differenceRev:function(S,k){return J(S,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],k)},xor:function(S,k){return J(S,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],k)}}},14847:function(oe,J,t){"use strict";var k=t(21630).Transform,l=t(90715);function R(){k.call(this,{readableObjectMode:!0})}function I(v,w,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name=this.constructor.name,this.message=v,w&&(this.code=w),r&&(this.statusCode=r)}(R.prototype=Object.create(k.prototype)).constructor=R,l(R.prototype),J.OF=function(v,w,r){for(var n=w,c=0;c<r.length;)if(v[n++]!==r[c++])return!1;return!0},J.eG=function(v,w){var r=[],n=0;if(w&&"hex"===w)for(;n<v.length;)r.push(parseInt(v.slice(n,n+2),16)),n+=2;else for(;n<v.length;n++)r.push(255&v.charCodeAt(n));return r},J.mP=function(v,w){return v[w]|v[w+1]<<8},J.n8=function(v,w){return v[w+1]|v[w]<<8},J.nm=function(v,w){return v[w]|v[w+1]<<8|v[w+2]<<16|16777216*v[w+3]},J.Ag=function(v,w){return v[w+3]|v[w+2]<<8|v[w+1]<<16|16777216*v[w]},(I.prototype=Object.create(Error.prototype)).constructor=I},71371:function(oe){"use strict";function J(k,l){var R=new Error(k);return R.code=l,R}function t(k){try{return decodeURIComponent(escape(k))}catch{return k}}function S(k,l,R){this.input=k.subarray(l,R),this.start=l;var I=String.fromCharCode.apply(null,this.input.subarray(0,4));if("II*\0"!==I&&"MM\0*"!==I)throw J("invalid TIFF signature","EBADDATA");this.big_endian="M"===I[0]}S.prototype.each=function(k){this.aborted=!1;var l=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:l}];this.ifds_to_read.length>0&&!this.aborted;){var R=this.ifds_to_read.shift();R.offset&&this.scan_ifd(R.id,R.offset,k)}},S.prototype.read_uint16=function(k){var l=this.input;if(k+2>l.length)throw J("unexpected EOF","EBADDATA");return this.big_endian?256*l[k]+l[k+1]:l[k]+256*l[k+1]},S.prototype.read_uint32=function(k){var l=this.input;if(k+4>l.length)throw J("unexpected EOF","EBADDATA");return this.big_endian?16777216*l[k]+65536*l[k+1]+256*l[k+2]+l[k+3]:l[k]+256*l[k+1]+65536*l[k+2]+16777216*l[k+3]},S.prototype.is_subifd_link=function(k,l){return 0===k&&34665===l||0===k&&34853===l||34665===k&&40965===l},S.prototype.exif_format_length=function(k){switch(k){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},S.prototype.exif_format_read=function(k,l){var R;switch(k){case 1:case 2:return this.input[l];case 6:return(R=this.input[l])|33554430*(128&R);case 3:return this.read_uint16(l);case 8:return(R=this.read_uint16(l))|131070*(32768&R);case 4:return this.read_uint32(l);case 9:return 0|this.read_uint32(l);default:return null}},S.prototype.scan_ifd=function(k,l,R){var I=this.read_uint16(l);l+=2;for(var v=0;v<I;v++){var w=this.read_uint16(l),r=this.read_uint16(l+2),n=this.read_uint32(l+4),c=this.exif_format_length(r),o=n*c,f=o<=4?l+8:this.read_uint32(l+8),h=!1;if(f+o>this.input.length)throw J("unexpected EOF","EBADDATA");for(var d=[],b=f,p=0;p<n;p++,b+=c){var A=this.exif_format_read(r,b);if(null===A){d=null;break}d.push(A)}if(Array.isArray(d)&&2===r&&(d=t(String.fromCharCode.apply(null,d)))&&"\0"===d[d.length-1]&&(d=d.slice(0,-1)),this.is_subifd_link(k,w)&&Array.isArray(d)&&Number.isInteger(d[0])&&d[0]>0&&(this.ifds_to_read.push({id:w,offset:d[0]}),h=!0),!1===R({is_big_endian:this.big_endian,ifd:k,tag:w,format:r,count:n,entry_offset:l+this.start,data_length:o,data_offset:f+this.start,value:d,is_subifd_link:h}))return void(this.aborted=!0);l+=12}0===k&&this.ifds_to_read.push({id:1,offset:this.read_uint32(l)})},oe.exports.ExifParser=S,oe.exports.get_orientation=function(k){var l=0;try{return new S(k,0,k.length).each(function(R){if(0===R.ifd&&274===R.tag&&Array.isArray(R.value))return l=R.value[0],!1}),l}catch{return-1}}},76767:function(oe,J,t){"use strict";var S=t(14847).n8,k=t(14847).Ag;function l(o,f){if(o.length<4+f)return null;var h=k(o,f);return o.length<h+f||h<8?null:{boxtype:String.fromCharCode.apply(null,o.slice(f+4,f+8)),data:o.slice(f+8,f+h),end:f+h}}function R(o,f){for(var h=0;;){var d=l(o,h);if(!d)break;switch(d.boxtype){case"ispe":f.sizes.push({width:k(d.data,4),height:k(d.data,8)});break;case"irot":f.transforms.push({type:"irot",value:3&d.data[0]});break;case"imir":f.transforms.push({type:"imir",value:1&d.data[0]})}h=d.end}}function I(o,f,h){for(var d=0,b=0;b<h;b++)d=256*d+(o[f+b]||0);return d}function v(o,f){for(var h=o[4]>>4&15,d=15&o[4],b=o[5]>>4&15,p=S(o,6),A=8,m=0;m<p;m++){var u=S(o,A),g=S(o,A+=2),C=I(o,A+=2,b),T=S(o,A+=b);if(A+=2,0===g&&1===T){var L=I(o,A,h),x=I(o,A+h,d);f.item_loc[u]={length:x,offset:L+C}}A+=T*(h+d)}}function w(o,f){for(var h=S(o,4),d=6,b=0;b<h;b++){var p=l(o,d);if(!p)break;if("infe"===p.boxtype){for(var A=S(p.data,4),m="",u=8;u<p.data.length&&p.data[u];u++)m+=String.fromCharCode(p.data[u]);f.item_inf[m]=A}d=p.end}}function r(o,f){for(var h=0;;){var d=l(o,h);if(!d)break;"ipco"===d.boxtype&&R(d.data,f),h=d.end}}oe.exports.unbox=l,oe.exports.readSizeFromMeta=function(o){var f={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function n(o,f){for(var h=4;;){var d=l(o,h);if(!d)break;"iprp"===d.boxtype&&r(d.data,f),"iloc"===d.boxtype&&v(d.data,f),"iinf"===d.boxtype&&w(d.data,f),h=d.end}}(o,f),f.sizes.length){var h=function c(o){var f=o.reduce(function(b,p){return b.width>p.width||b.width===p.width&&b.height>p.height?b:p}),h=o.reduce(function(b,p){return b.height>p.height||b.height===p.height&&b.width>p.width?b:p});return f.width>h.height||f.width===h.height&&f.height>h.width?f:h}(f.sizes),d=1;f.transforms.forEach(function(p){var A={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},m={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if("imir"===p.type&&(d=0===p.value?m[d]:A[d=A[d=m[d]]]),"irot"===p.type)for(var u=0;u<p.value;u++)d=A[d]});var b=null;return f.item_inf.Exif&&(b=f.item_loc[f.item_inf.Exif]),{width:h.width,height:h.height,orientation:f.transforms.length?d:null,variants:f.sizes,exif_location:b}}},oe.exports.getMimeType=function(o){var f=String.fromCharCode.apply(null,o.slice(0,4)),h={};h[f]=!0;for(var d=8;d<o.length;d+=4)h[String.fromCharCode.apply(null,o.slice(d,d+4))]=!0;if(h.mif1||h.msf1||h.miaf)return"avif"===f||"avis"===f||"avio"===f?{type:"avif",mime:"image/avif"}:"heic"===f||"heix"===f?{type:"heic",mime:"image/heic"}:"hevc"===f||"hevx"===f?{type:"heic",mime:"image/heic-sequence"}:h.avif||h.avis?{type:"avif",mime:"image/avif"}:h.heic||h.heix||h.hevc||h.hevx||h.heis?h.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(oe,J,t){"use strict";var S=t(14847).eG,k=t(14847).OF,l=t(14847).Ag,R=t(76767),I=t(71371),v=S("ftyp");oe.exports=function(w){if(k(w,4,v)){var r=R.unbox(w,0);if(r){var n=R.getMimeType(r.data);if(n){for(var c,o=r.end;;){var f=R.unbox(w,o);if(!f)break;if(o=f.end,"mdat"===f.boxtype)return;if("meta"===f.boxtype){c=f.data;break}}if(c){var h=R.readSizeFromMeta(c);if(h){var d={width:h.width,height:h.height,type:n.type,mime:n.mime,wUnits:"px",hUnits:"px"};if(h.variants.length>1&&(d.variants=h.variants),h.orientation&&(d.orientation=h.orientation),h.exif_location&&h.exif_location.offset+h.exif_location.length<=w.length){var b=l(w,h.exif_location.offset),p=w.slice(h.exif_location.offset+b+4,h.exif_location.offset+h.exif_location.length),A=I.get_orientation(p);A>0&&(d.orientation=A)}return d}}}}}}},2504:function(oe,J,t){"use strict";var S=t(14847).eG,k=t(14847).OF,l=t(14847).mP,R=S("BM");oe.exports=function(I){if(!(I.length<26)&&k(I,0,R))return{width:l(I,18),height:l(I,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(oe,J,t){"use strict";var S=t(14847).eG,k=t(14847).OF,l=t(14847).mP,R=S("GIF87a"),I=S("GIF89a");oe.exports=function(v){if(!(v.length<10)&&(k(v,0,R)||k(v,0,I)))return{width:l(v,6),height:l(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(oe,J,t){"use strict";var S=t(14847).mP;oe.exports=function(I){var v=S(I,0),w=S(I,2),r=S(I,4);if(0===v&&1===w&&r){for(var n=[],c={width:0,height:0},o=0;o<r;o++){var f=I[6+16*o]||256,h=I[6+16*o+1]||256,d={width:f,height:h};n.push(d),(f>c.width||h>c.height)&&(c=d)}return{width:c.width,height:c.height,variants:n,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(oe,J,t){"use strict";var S=t(14847).n8,k=t(14847).eG,l=t(14847).OF,R=t(71371),I=k("Exif\0\0");oe.exports=function(v){if(!(v.length<2)&&255===v[0]&&216===v[1]&&255===v[2])for(var w=2;;){for(;;){if(v.length-w<2)return;if(255===v[w++])break}for(var n,r=v[w++];255===r;)r=v[w++];if(208<=r&&r<=217||1===r)n=0;else{if(!(192<=r&&r<=254))return;if(v.length-w<2)return;n=S(v,w)-2,w+=2}if(217===r||218===r)return;var c;if(225===r&&n>=10&&l(v,w,I)&&(c=R.get_orientation(v.slice(w+6,w+n))),n>=5&&192<=r&&r<=207&&196!==r&&200!==r&&204!==r){if(v.length-w<n)return;var o={width:S(v,w+3),height:S(v,w+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return c>0&&(o.orientation=c),o}w+=n}}},6303:function(oe,J,t){"use strict";var S=t(14847).eG,k=t(14847).OF,l=t(14847).Ag,R=S("\x89PNG\r\n\x1a\n"),I=S("IHDR");oe.exports=function(v){if(!(v.length<24)&&k(v,0,R)&&k(v,12,I))return{width:l(v,16),height:l(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(oe,J,t){"use strict";var S=t(14847).eG,k=t(14847).OF,l=t(14847).Ag,R=S("8BPS\0\x01");oe.exports=function(I){if(!(I.length<22)&&k(I,0,R))return{width:l(I,18),height:l(I,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(oe){"use strict";function J(c){return 32===c||9===c||13===c||10===c}function t(c){return"number"==typeof c&&isFinite(c)&&c>0}var k=/<[-_.:a-zA-Z0-9][^>]*>/,l=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,R=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,I=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,w=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function n(c){return w.test(c)?c.match(w)[0]:"px"}oe.exports=function(c){if(function S(c){var o=0,f=c.length;for(239===c[0]&&187===c[1]&&191===c[2]&&(o=3);o<f&&J(c[o]);)o++;return o!==f&&60===c[o]}(c)){for(var o="",f=0;f<c.length;f++)o+=String.fromCharCode(c[f]);var h=(o.match(k)||[""])[0];if(l.test(h)){var d=function r(c){var o=c.match(R),f=c.match(I),h=c.match(v);return{width:o&&(o[1]||o[2]),height:f&&(f[1]||f[2]),viewbox:h&&(h[1]||h[2])}}(h),b=parseFloat(d.width),p=parseFloat(d.height);if(d.width&&d.height)return t(b)&&t(p)?{width:b,height:p,type:"svg",mime:"image/svg+xml",wUnits:n(d.width),hUnits:n(d.height)}:void 0;var A=(d.viewbox||"").split(" "),m={width:A[2],height:A[3]},u=parseFloat(m.width),g=parseFloat(m.height);if(t(u)&&t(g)&&n(m.width)===n(m.height)){var C=u/g;return d.width?t(b)?{width:b,height:b/C,type:"svg",mime:"image/svg+xml",wUnits:n(d.width),hUnits:n(d.width)}:void 0:d.height?t(p)?{width:p*C,height:p,type:"svg",mime:"image/svg+xml",wUnits:n(d.height),hUnits:n(d.height)}:void 0:{width:u,height:g,type:"svg",mime:"image/svg+xml",wUnits:n(m.width),hUnits:n(m.height)}}}}}},66278:function(oe,J,t){"use strict";var S=t(14847).eG,k=t(14847).OF,l=t(14847).mP,R=t(14847).n8,I=t(14847).nm,v=t(14847).Ag,w=S("II*\0"),r=S("MM\0*");function n(f,h,d){return d?R(f,h):l(f,h)}function c(f,h,d){return d?v(f,h):I(f,h)}function o(f,h,d){var b=n(f,h+2,d);return 1!==c(f,h+4,d)||3!==b&&4!==b?null:3===b?n(f,h+8,d):c(f,h+8,d)}oe.exports=function(f){if(!(f.length<8)&&(k(f,0,w)||k(f,0,r))){var h=77===f[0],d=c(f,4,h)-8;if(!(d<0)){var b=d+8;if(!(f.length-b<2)){var p=12*n(f,b+0,h);if(!(p<=0||(b+=2,f.length-b<p))){var A,m,u,g;for(A=0;A<p;A+=12)256===(g=n(f,b+A,h))?m=o(f,b+A,h):257===g&&(u=o(f,b+A,h));if(m&&u)return{width:m,height:u,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(oe,J,t){"use strict";var S=t(14847).eG,k=t(14847).OF,l=t(14847).mP,R=t(14847).nm,I=t(71371),v=S("RIFF"),w=S("WEBP");function r(o,f){if(157===o[f+3]&&1===o[f+4]&&42===o[f+5])return{width:16383&l(o,f+6),height:16383&l(o,f+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function n(o,f){if(47===o[f]){var h=R(o,f+1);return{width:1+(16383&h),height:1+(h>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function c(o,f){return{width:1+(o[f+6]<<16|o[f+5]<<8|o[f+4]),height:1+(o[f+9]<<f|o[f+8]<<8|o[f+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}oe.exports=function(o){if(!(o.length<16)&&(k(o,0,v)||k(o,8,w))){var f=12,h=null,d=0,b=R(o,4)+8;if(!(b>o.length)){for(;f+8<b;)if(0!==o[f]){var p=String.fromCharCode.apply(null,o.slice(f,f+4)),A=R(o,f+4);"VP8 "===p&&A>=10?h=h||r(o,f+8):"VP8L"===p&&A>=9?h=h||n(o,f+8):"VP8X"===p&&A>=10?h=h||c(o,f+8):"EXIF"===p&&(d=I.get_orientation(o.slice(f+8,f+8+A)),f=1/0),f+=8+A}else f++;if(h)return d>0&&(h.orientation=d),h}}}},91497:function(oe,J,t){"use strict";oe.exports={avif:t(24461),bmp:t(2504),gif:t(47342),ico:t(31355),jpeg:t(54261),png:t(6303),psd:t(38689),svg:t(6881),tiff:t(66278),webp:t(90784)}},33575:function(oe,J,t){"use strict";var S=t(91497);oe.exports=function(R){return function k(l){for(var R=Object.keys(S),I=0;I<R.length;I++){var v=S[R[I]](l);if(v)return v}return null}(R)},oe.exports.parsers=S},90386:function(oe){var t,S,J=oe.exports={};function k(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function R(d){if(t===setTimeout)return setTimeout(d,0);if((t===k||!t)&&setTimeout)return t=setTimeout,setTimeout(d,0);try{return t(d,0)}catch{try{return t.call(null,d,0)}catch{return t.call(this,d,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:k}catch{t=k}try{S="function"==typeof clearTimeout?clearTimeout:l}catch{S=l}}();var r,v=[],w=!1,n=-1;function c(){!w||!r||(w=!1,r.length?v=r.concat(v):n=-1,v.length&&o())}function o(){if(!w){var d=R(c);w=!0;for(var b=v.length;b;){for(r=v,v=[];++n<b;)r&&r[n].run();n=-1,b=v.length}r=null,w=!1,function I(d){if(S===clearTimeout)return clearTimeout(d);if((S===l||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(d);try{return S(d)}catch{try{return S.call(null,d)}catch{return S.call(this,d)}}}(d)}}function f(d,b){this.fun=d,this.array=b}function h(){}J.nextTick=function(d){var b=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)b[p-1]=arguments[p];v.push(new f(d,b)),1===v.length&&!w&&R(o)},f.prototype.run=function(){this.fun.apply(null,this.array)},J.title="browser",J.browser=!0,J.env={},J.argv=[],J.version="",J.versions={},J.on=h,J.addListener=h,J.once=h,J.off=h,J.removeListener=h,J.removeAllListeners=h,J.emit=h,J.prependListener=h,J.prependOnceListener=h,J.listeners=function(d){return[]},J.binding=function(d){throw new Error("process.binding is not supported")},J.cwd=function(){return"/"},J.chdir=function(d){throw new Error("process.chdir is not supported")},J.umask=function(){return 0}},5877:function(oe,J,t){for(var S=t(9748),k=typeof window>"u"?t.g:window,l=["moz","webkit"],R="AnimationFrame",I=k["request"+R],v=k["cancel"+R]||k["cancelRequest"+R],w=0;!I&&w<l.length;w++)I=k[l[w]+"Request"+R],v=k[l[w]+"Cancel"+R]||k[l[w]+"CancelRequest"+R];if(!I||!v){var r=0,n=0,c=[];I=function(f){if(0===c.length){var h=S(),d=Math.max(0,16.666666666666668-(h-r));r=d+h,setTimeout(function(){var b=c.slice(0);c.length=0;for(var p=0;p<b.length;p++)if(!b[p].cancelled)try{b[p].callback(r)}catch(A){setTimeout(function(){throw A},0)}},Math.round(d))}return c.push({handle:++n,callback:f,cancelled:!1}),n},v=function(f){for(var h=0;h<c.length;h++)c[h].handle===f&&(c[h].cancelled=!0)}}oe.exports=function(f){return I.call(k,f)},oe.exports.cancel=function(){v.apply(k,arguments)},oe.exports.polyfill=function(f){f||(f=k),f.requestAnimationFrame=I,f.cancelAnimationFrame=v}},3593:function(oe,J,t){"use strict";var S=t(21527),k=t(25075),l=t(93447),R=t(71299),I=t(56131),v=t(30120),w=t(57060),r=w.float32,n=w.fract32;oe.exports=function o(f,h){if("function"==typeof f?(h||(h={}),h.regl=f):h=f,h.length&&(h.positions=h),!(f=h.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var b,p,A,m,u,g,d=f._gl,C={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},T=[];return m=f.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),p=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),A=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),u=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=f.buffer({usage:"static",type:"float",data:c}),M(h),b=f({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:f.prop("range"),lineWidth:f.prop("lineWidth"),capSize:f.prop("capSize"),opacity:f.prop("opacity"),scale:f.prop("scale"),translate:f.prop("translate"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),viewport:function(D,y){return[y.viewport.x,y.viewport.y,D.viewportWidth,D.viewportHeight]}},attributes:{color:{buffer:m,offset:function(D,y){return 4*y.offset},divisor:1},position:{buffer:p,offset:function(D,y){return 8*y.offset},divisor:1},positionFract:{buffer:A,offset:function(D,y){return 8*y.offset},divisor:1},error:{buffer:u,offset:function(D,y){return 16*y.offset},divisor:1},direction:{buffer:g,stride:24,offset:0},lineOffset:{buffer:g,stride:24,offset:8},capOffset:{buffer:g,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport"),stencil:!1,instances:f.prop("count"),count:c.length}),I(L,{update:M,draw:x,destroy:i,regl:f,gl:d,canvas:d.canvas,groups:T}),L;function L(D){D?M(D):null===D&&i(),x()}function x(D){if("number"==typeof D)return E(D);D&&!Array.isArray(D)&&(D=[D]),f._refresh(),T.forEach(function(y,B){if(y){if(D&&(y.draw=!!D[B]),!y.draw)return void(y.draw=!0);E(B)}})}function E(D){"number"==typeof D&&(D=T[D]),null!=D&&D&&D.count&&D.color&&D.opacity&&D.positions&&D.positions.length>1&&(D.scaleRatio=[D.scale[0]*D.viewport.width,D.scale[1]*D.viewport.height],b(D),D.after&&D.after(D))}function M(D){if(D){null!=D.length?"number"==typeof D[0]&&(D=[{positions:D}]):Array.isArray(D)||(D=[D]);var y=0,B=0;if(L.groups=T=D.map(function(G,Y){var ee=T[Y];return G?("function"==typeof G?G={after:G}:"number"==typeof G[0]&&(G={positions:G}),G=R(G,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),ee||(T[Y]=ee={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},G=I({},C,G)),l(ee,G,[{lineWidth:function(ue){return.5*+ue},capSize:function(ue){return.5*+ue},opacity:parseFloat,errors:function(ue){return ue=v(ue),B+=ue.length,ue},positions:function(ue,ce){return ue=v(ue,"float64"),ce.count=Math.floor(ue.length/2),ce.bounds=S(ue,2),ce.offset=y,y+=ce.count,ue}},{color:function(ue,ce){var pe=ce.count;if(ue||(ue="transparent"),!Array.isArray(ue)||"number"==typeof ue[0]){var te=ue;ue=Array(pe);for(var Q=0;Q<pe;Q++)ue[Q]=te}if(ue.length<pe)throw Error("Not enough colors");for(var K=new Uint8Array(4*pe),Z=0;Z<pe;Z++){var q=k(ue[Z],"uint8");K.set(q,4*Z)}return K},range:function(ue,ce,pe){return ue||(ue=ce.bounds),ce.scale=[1/(ue[2]-ue[0]),1/(ue[3]-ue[1])],ce.translate=[-ue[0],-ue[1]],ce.scaleFract=n(ce.scale),ce.translateFract=n(ce.translate),ue},viewport:function(ue){var ce;return Array.isArray(ue)?ce={x:ue[0],y:ue[1],width:ue[2]-ue[0],height:ue[3]-ue[1]}:ue?((ce={x:ue.x||ue.left||0,y:ue.y||ue.top||0}).width=ue.right?ue.right-ce.x:ue.w||ue.width||0,ce.height=ue.bottom?ue.bottom-ce.y:ue.h||ue.height||0):ce={x:0,y:0,width:d.drawingBufferWidth,height:d.drawingBufferHeight},ce}}]),ee):ee}),y||B){var F=T.reduce(function(G,Y,ee){return G+(Y?Y.count:0)},0),_=new Float64Array(2*F),z=new Uint8Array(4*F),V=new Float32Array(4*F);T.forEach(function(G,Y){if(G){var ee=G.positions,ce=G.offset,te=G.errors;G.count&&(z.set(G.color,4*ce),V.set(te,4*ce),_.set(ee,2*ce))}});var H=r(_);p(H);var U=n(_,H);A(U),m(z),u(V)}}}function i(){p.destroy(),A.destroy(),m.destroy(),u.destroy(),g.destroy()}};var c=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(oe,J,t){"use strict";var S=t(25075),k=t(21527),l=t(56131),R=t(56068),I=t(71299),v=t(30120),w=t(11474),r=t(54),n=t(57060),c=n.float32,o=n.fract32,f=t(83522),h=t(18863),d=t(6851);function b(p,A){if(!(this instanceof b))return new b(p,A);if("function"==typeof p?(A||(A={}),A.regl=p):A=p,A.length&&(A.positions=A),!(p=A.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=p._gl,this.regl=p,this.passes=[],this.shaders=b.shaders.has(p)?b.shaders.get(p):b.shaders.set(p,b.createShaders(p)).get(p),this.update(A)}oe.exports=b,b.dashMult=2,b.maxPatternLength=256,b.precisionThreshold=3e6,b.maxPoints=1e4,b.maxLines=2048,b.shaders=new f,b.createShaders=function(p){var g,A=p.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),m={primitive:"triangle strip",instances:p.prop("count"),count:4,offset:0,uniforms:{miterMode:function(T,L){return"round"===L.join?2:1},miterLimit:p.prop("miterLimit"),scale:p.prop("scale"),scaleFract:p.prop("scaleFract"),translateFract:p.prop("translateFract"),translate:p.prop("translate"),thickness:p.prop("thickness"),dashTexture:p.prop("dashTexture"),opacity:p.prop("opacity"),pixelRatio:p.context("pixelRatio"),id:p.prop("id"),dashLength:p.prop("dashLength"),viewport:function(T,L){return[L.viewport.x,L.viewport.y,T.viewportWidth,T.viewportHeight]},depth:p.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(T,L){return!L.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:p.prop("viewport")},viewport:p.prop("viewport")},u=p(l({vert:R(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:R(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:p.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:p.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:p.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},m));try{g=p(l({cull:{enable:!0,face:"back"},vert:R(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:R(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aColor:{buffer:p.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:p.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},m))}catch{g=u}return{fill:p({primitive:"triangle",elements:function(T,L){return L.triangles},offset:0,vert:R(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:R(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:p.prop("scale"),color:p.prop("fill"),scaleFract:p.prop("scaleFract"),translateFract:p.prop("translateFract"),translate:p.prop("translate"),opacity:p.prop("opacity"),pixelRatio:p.context("pixelRatio"),id:p.prop("id"),viewport:function(T,L){return[L.viewport.x,L.viewport.y,T.viewportWidth,T.viewportHeight]}},attributes:{position:{buffer:p.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:p.prop("positionFractBuffer"),stride:8,offset:8}},blend:m.blend,depth:{enable:!1},scissor:m.scissor,stencil:m.stencil,viewport:m.viewport}),rect:u,miter:g}},b.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},b.prototype.render=function(){for(var p,A=[],m=arguments.length;m--;)A[m]=arguments[m];A.length&&(p=this).update.apply(p,A),this.draw()},b.prototype.draw=function(){for(var p=this,A=[],m=arguments.length;m--;)A[m]=arguments[m];return(A.length?A:this.passes).forEach(function(u,g){var C;if(u&&Array.isArray(u))return(C=p).draw.apply(C,u);"number"==typeof u&&(u=p.passes[u]),u&&u.count>1&&u.opacity&&(p.regl._refresh(),u.fill&&u.triangles&&u.triangles.length>2&&p.shaders.fill(u),u.thickness&&(u.scale[0]*u.viewport.width>b.precisionThreshold||u.scale[1]*u.viewport.height>b.precisionThreshold||"rect"===u.join||!u.join&&(u.thickness<=2||u.count>=b.maxPoints)?p.shaders.rect(u):p.shaders.miter(u)))}),this},b.prototype.update=function(p){var A=this;if(p){null!=p.length?"number"==typeof p[0]&&(p=[{positions:p}]):Array.isArray(p)||(p=[p]);var u=this.regl,g=this.gl;if(p.forEach(function(E,M){var i=A.passes[M];if(void 0!==E){if(null===E)return void(A.passes[M]=null);if("number"==typeof E[0]&&(E={positions:E}),E=I(E,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),i||(A.passes[M]=i={id:M,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:u.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:u.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},E=l({},b.defaults,E)),null!=E.thickness&&(i.thickness=parseFloat(E.thickness)),null!=E.opacity&&(i.opacity=parseFloat(E.opacity)),null!=E.miterLimit&&(i.miterLimit=parseFloat(E.miterLimit)),null!=E.overlay&&(i.overlay=!!E.overlay,M<b.maxLines&&(i.depth=2*(b.maxLines-1-M%b.maxLines)/b.maxLines-1)),null!=E.join&&(i.join=E.join),null!=E.hole&&(i.hole=E.hole),null!=E.fill&&(i.fill=E.fill?S(E.fill,"uint8"):null),null!=E.viewport&&(i.viewport=h(E.viewport)),i.viewport||(i.viewport=h([g.drawingBufferWidth,g.drawingBufferHeight])),null!=E.close&&(i.close=E.close),null===E.positions&&(E.positions=[]),E.positions){var D,y;if(E.positions.x&&E.positions.y){var B=E.positions.x,F=E.positions.y;y=i.count=Math.max(B.length,F.length),D=new Float64Array(2*y);for(var _=0;_<y;_++)D[2*_]=B[_],D[2*_+1]=F[_]}else D=v(E.positions,"float64"),y=i.count=Math.floor(D.length/2);var z=i.bounds=k(D,2);if(i.fill){for(var V=[],H={},U=0,G=0,Y=0,ee=i.count;G<ee;G++){var ue=D[2*G],ce=D[2*G+1];isNaN(ue)||isNaN(ce)||null==ue||null==ce?(ue=D[2*U],ce=D[2*U+1],H[G]=U):U=G,V[Y++]=ue,V[Y++]=ce}if(E.splitNull){i.count-1 in H||(H[i.count]=i.count-1);var pe=Object.keys(H).map(Number).sort(function(Be,He){return Be-He}),te=[],Q=0,K=null!=i.hole?i.hole[0]:null;if(null!=K){var Z=d(pe,function(Be){return Be>=K});(pe=pe.slice(0,Z)).push(K)}for(var q=function(Be){var He=V.slice(2*Q,2*pe[Be]).concat(K?V.slice(2*K):[]),Ye=(i.hole||[]).map(function(De){return De-K+(pe[Be]-Q)}),Ue=w(He,Ye);Ue=Ue.map(function(De){return De+Q+(De+Q<pe[Be]?0:K-pe[Be])}),te.push.apply(te,Ue),Q=pe[Be]+1},fe=0;fe<pe.length;fe++)q(fe);for(var re=0,$=te.length;re<$;re++)null!=H[te[re]]&&(te[re]=H[te[re]]);i.triangles=te}else{for(var le=w(V,i.hole||[]),se=0,de=le.length;se<de;se++)null!=H[le[se]]&&(le[se]=H[le[se]]);i.triangles=le}}var we=new Float64Array(D);r(we,2,z);var Ee=new Float64Array(2*y+6);i.close?D[0]===D[2*y-2]&&D[1]===D[2*y-1]?(Ee[0]=we[2*y-4],Ee[1]=we[2*y-3]):(Ee[0]=we[2*y-2],Ee[1]=we[2*y-1]):(Ee[0]=we[0],Ee[1]=we[1]),Ee.set(we,2),i.close?D[0]===D[2*y-2]&&D[1]===D[2*y-1]?(Ee[2*y+2]=we[2],Ee[2*y+3]=we[3],i.count-=1):(Ee[2*y+2]=we[0],Ee[2*y+3]=we[1],Ee[2*y+4]=we[2],Ee[2*y+5]=we[3]):(Ee[2*y+2]=we[2*y-2],Ee[2*y+3]=we[2*y-1],Ee[2*y+4]=we[2*y-2],Ee[2*y+5]=we[2*y-1]);var Me=c(Ee);i.positionBuffer(Me);var Ne=o(Ee,Me);i.positionFractBuffer(Ne)}if(E.range?i.range=E.range:i.range||(i.range=i.bounds),(E.range||E.positions)&&i.count){var Ve=i.bounds,Ie=i.range[2]-i.range[0],Je=i.range[3]-i.range[1];i.scale=[(Ve[2]-Ve[0])/Ie,(Ve[3]-Ve[1])/Je],i.translate=[-i.range[0]/Ie+Ve[0]/Ie||0,-i.range[1]/Je+Ve[1]/Je||0],i.scaleFract=o(i.scale),i.translateFract=o(i.translate)}if(E.dashes){var ze,Qe=0;if(!E.dashes||E.dashes.length<2)Qe=1,ze=new Uint8Array([255,255,255,255,255,255,255,255]);else{Qe=0;for(var Ke=0;Ke<E.dashes.length;++Ke)Qe+=E.dashes[Ke];ze=new Uint8Array(Qe*b.dashMult);for(var ut=0,ot=255,We=0;We<2;We++)for(var je=0;je<E.dashes.length;++je){for(var lt=0,vt=E.dashes[je]*b.dashMult*.5;lt<vt;++lt)ze[ut++]=ot;ot^=255}}i.dashLength=Qe,i.dashTexture({channels:1,data:ze,width:ze.length,height:1,mag:"linear",min:"linear"},0,0)}if(E.color){var pt=i.count,St=E.color;St||(St="transparent");var Ct=new Uint8Array(4*pt+4);if(Array.isArray(St)&&"number"!=typeof St[0]){for(var ke=0;ke<pt;ke++){var Re=S(St[ke],"uint8");Ct.set(Re,4*ke)}Ct.set(S(St[0],"uint8"),4*pt)}else for(var _t=S(St,"uint8"),nt=0;nt<pt+1;nt++)Ct.set(_t,4*nt);i.colorBuffer({usage:"dynamic",type:"uint8",data:Ct})}}}),p.length<this.passes.length){for(var C=p.length;C<this.passes.length;C++){var T=this.passes[C];T&&(T.colorBuffer.destroy(),T.positionBuffer.destroy(),T.dashTexture.destroy())}this.passes.length=p.length}for(var L=[],x=0;x<this.passes.length;x++)null!==this.passes[x]&&L.push(this.passes[x]);return this.passes=L,this}},b.prototype.destroy=function(){return this.passes.forEach(function(p){p.colorBuffer.destroy(),p.positionBuffer.destroy(),p.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(oe,J,t){"use strict";function k(i,D){return function I(i){if(Array.isArray(i))return i}(i)||function S(i,D){var y=null==i?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(null!=y){var B,F,_,z,V=[],H=!0,U=!1;try{if(_=(y=y.call(i)).next,0===D){if(Object(y)!==y)return;H=!1}else for(;!(H=(B=_.call(y)).done)&&(V.push(B.value),V.length!==D);H=!0);}catch(G){U=!0,F=G}finally{try{if(!H&&null!=y.return&&(z=y.return(),Object(z)!==z))return}finally{if(U)throw F}}return V}}(i,D)||w(i,D)||function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(i){return function R(i){if(Array.isArray(i))return r(i)}(i)||function v(i){if(typeof Symbol<"u"&&null!=i[Symbol.iterator]||null!=i["@@iterator"])return Array.from(i)}(i)||w(i)||function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(i,D){if(i){if("string"==typeof i)return r(i,D);var y=Object.prototype.toString.call(i).slice(8,-1);if("Object"===y&&i.constructor&&(y=i.constructor.name),"Map"===y||"Set"===y)return Array.from(i);if("Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return r(i,D)}}function r(i,D){(null==D||D>i.length)&&(D=i.length);for(var y=0,B=new Array(D);y<D;y++)B[y]=i[y];return B}var o=t(25075),f=t(21527),h=t(6475),d=t(88294),b=t(56131),p=t(56068),A=t(71299),m=t(93447),u=t(30120),g=t(62683),C=t(57060),T=t(18863),L=x;function x(i,D){var y=this;if(!(this instanceof x))return new x(i,D);"function"==typeof i?(D||(D={}),D.regl=i):(D=i,i=null),D&&D.length&&(D.positions=D);var F,B=(i=D.regl)._gl,_=[],G=255;this.tooManyColors=g,F=i.texture({data:new Uint8Array(4*G),width:G,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),b(this,{regl:i,gl:B,groups:[],markerCache:[null],markerTextures:[null],palette:_,paletteIds:{},paletteTexture:F,maxColors:G,maxSize:100,canvas:B.canvas}),this.update(D);var ee={uniforms:{constPointSize:!!D.constPointSize,opacity:i.prop("opacity"),paletteSize:function(te,Q){return[y.tooManyColors?0:G,F.height]},pixelRatio:i.context("pixelRatio"),scale:i.prop("scale"),scaleFract:i.prop("scaleFract"),translate:i.prop("translate"),translateFract:i.prop("translateFract"),markerTexture:i.prop("markerTexture"),paletteTexture:F},attributes:{x:function(te,Q){return Q.xAttr||{buffer:Q.positionBuffer,stride:8,offset:0}},y:function(te,Q){return Q.yAttr||{buffer:Q.positionBuffer,stride:8,offset:4}},xFract:function(te,Q){return Q.xAttr?{constant:[0,0]}:{buffer:Q.positionFractBuffer,stride:8,offset:0}},yFract:function(te,Q){return Q.yAttr?{constant:[0,0]}:{buffer:Q.positionFractBuffer,stride:8,offset:4}},size:function(te,Q){return Q.size.length?{buffer:Q.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*Q.size/y.maxSize)]}},borderSize:function(te,Q){return Q.borderSize.length?{buffer:Q.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*Q.borderSize/y.maxSize)]}},colorId:function(te,Q){return Q.color.length?{buffer:Q.colorBuffer,stride:y.tooManyColors?8:4,offset:0}:{constant:y.tooManyColors?_.slice(4*Q.color,4*Q.color+4):[Q.color]}},borderColorId:function(te,Q){return Q.borderColor.length?{buffer:Q.colorBuffer,stride:y.tooManyColors?8:4,offset:y.tooManyColors?4:2}:{constant:y.tooManyColors?_.slice(4*Q.borderColor,4*Q.borderColor+4):[Q.borderColor]}},isActive:function(te,Q){return!0===Q.activation?{constant:[1]}:Q.activation?Q.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:i.prop("elements"),count:i.prop("count"),offset:i.prop("offset"),primitive:"points"},ue=b({},ee);ue.frag=p(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),ue.vert=p(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}"]),this.drawMarker=i(ue);var ce=b({},ee);ce.frag=p(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),ce.vert=p(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),g&&(ce.frag=ce.frag.replace("smoothstep","smoothStep"),ue.frag=ue.frag.replace("smoothstep","smoothStep")),this.drawCircle=i(ce)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var i=this,D=arguments.length,y=new Array(D),B=0;B<D;B++)y[B]=arguments[B];var F=this.groups;if(1===y.length&&Array.isArray(y[0])&&(null===y[0][0]||Array.isArray(y[0][0]))&&(y=y[0]),this.regl._refresh(),y.length)for(var _=0;_<y.length;_++)this.drawItem(_,y[_]);else F.forEach(function(z,V){i.drawItem(V)});return this},x.prototype.drawItem=function(i,D){var y=this.groups,B=y[i];if("number"==typeof D&&(i=D,B=y[D],D=null),B&&B.count&&B.opacity){B.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,B,D));for(var F=[],_=1;_<B.activation.length;_++)!B.activation[_]||!0!==B.activation[_]&&!B.activation[_].data.length||F.push.apply(F,l(this.getMarkerDrawOptions(_,B,D)));F.length&&this.drawMarker(F)}},x.prototype.getMarkerDrawOptions=function(i,D,y){var B=D.range,F=D.tree,_=D.viewport,z=D.activation,V=D.selectionBuffer,H=D.count;if(!F)return y?[b({},D,{markerTexture:this.markerTextures[i],activation:z[i],count:y.length,elements:y,offset:0})]:[b({},D,{markerTexture:this.markerTextures[i],activation:z[i],offset:0})];var G=[],Y=F.range(B,{lod:!0,px:[(B[2]-B[0])/_.width,(B[3]-B[1])/_.height]});if(y){for(var ue=z[i].data,ce=new Uint8Array(H),pe=0;pe<y.length;pe++){var te=y[pe];ce[te]=ue?ue[te]:1}V.subdata(ce)}for(var Q=Y.length;Q--;){var K=k(Y[Q],2),Z=K[0];G.push(b({},D,{markerTexture:this.markerTextures[i],activation:y?V:z[i],offset:Z,count:K[1]-Z}))}return G},x.prototype.update=function(){for(var i=this,D=arguments.length,y=new Array(D),B=0;B<D;B++)y[B]=arguments[B];if(y.length){1===y.length&&Array.isArray(y[0])&&(y=y[0]);var F=this.groups,_=this.gl,z=this.regl,V=this.maxSize,H=this.maxColors,U=this.palette;this.groups=F=y.map(function(G,Y){var ee=F[Y];if(void 0===G)return ee;null===G?G={positions:null}:"function"==typeof G?G={ondraw:G}:"number"==typeof G[0]&&(G={positions:G}),null===(G=A(G,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(G.positions=[]),null!=G.tooManyColors&&(i.tooManyColors=G.tooManyColors),ee||(F[Y]=ee={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:z.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},G=b({},x.defaults,G)),G.positions&&!("marker"in G)&&(G.marker=ee.marker,delete ee.marker),G.marker&&!("positions"in G)&&(G.positions=ee.positions,delete ee.positions);var ue=0,ce=0;if(m(ee,G,[{snap:!0,size:function(Ce,Ie){return null==Ce&&(Ce=x.defaults.size),ue+=Ce&&Ce.length?1:0,Ce},borderSize:function(Ce,Ie){return null==Ce&&(Ce=x.defaults.borderSize),ue+=Ce&&Ce.length?1:0,Ce},opacity:parseFloat,color:function(Ce,Ie){return null==Ce&&(Ce=x.defaults.color),Ce=i.updateColor(Ce),ce++,Ce},borderColor:function(Ce,Ie){return null==Ce&&(Ce=x.defaults.borderColor),Ce=i.updateColor(Ce),ce++,Ce},bounds:function(Ce,Ie,Je){return"range"in Je||(Je.range=null),Ce},positions:function(Ce,Ie,Je){var Qe=Ie.snap,ze=Ie.positionBuffer,Ke=Ie.positionFractBuffer,ut=Ie.selectionBuffer;if(Ce.x||Ce.y)return Ie.xAttr=Ce.x.length?{buffer:z.buffer(Ce.x),offset:0,stride:4,count:Ce.x.length}:{buffer:Ce.x.buffer,offset:4*Ce.x.offset||0,stride:4*(Ce.x.stride||1),count:Ce.x.count},Ie.yAttr=Ce.y.length?{buffer:z.buffer(Ce.y),offset:0,stride:4,count:Ce.y.length}:{buffer:Ce.y.buffer,offset:4*Ce.y.offset||0,stride:4*(Ce.y.stride||1),count:Ce.y.count},Ie.count=Math.max(Ie.xAttr.count,Ie.yAttr.count),Ce;Ce=u(Ce,"float64");var ot=Ie.count=Math.floor(Ce.length/2),We=Ie.bounds=ot?f(Ce,2):null;if(!Je.range&&!Ie.range&&(delete Ie.range,Je.range=We),!Je.marker&&!Ie.marker&&(delete Ie.marker,Je.marker=null),Qe&&(!0===Qe||ot>Qe)?Ie.tree=d(Ce,{bounds:We}):Qe&&Qe.length&&(Ie.tree=Qe),Ie.tree){var je={primitive:"points",usage:"static",data:Ie.tree,type:"uint32"};Ie.elements?Ie.elements(je):Ie.elements=z.elements(je)}var lt=C.float32(Ce);return ze({data:lt,usage:"dynamic"}),Ke({data:C.fract32(Ce,lt),usage:"dynamic"}),ut({data:new Uint8Array(ot),type:"uint8",usage:"stream"}),Ce}},{marker:function(Ce,Ie,Je){var Qe=Ie.activation;if(Qe.forEach(function(vt){return vt&&vt.destroy&&vt.destroy()}),Qe.length=0,Ce&&"number"!=typeof Ce[0]){for(var Ke=[],ut=0,ot=Math.min(Ce.length,Ie.count);ut<ot;ut++){var We=i.addMarker(Ce[ut]);Ke[We]||(Ke[We]=new Uint8Array(Ie.count)),Ke[We][ut]=1}for(var je=0;je<Ke.length;je++)if(Ke[je]){var lt={data:Ke[je],type:"uint8",usage:"static"};Qe[je]?Qe[je](lt):Qe[je]=z.buffer(lt),Qe[je].data=Ke[je]}}else Qe[i.addMarker(Ce)]=!0;return Ce},range:function(Ce,Ie,Je){var Qe=Ie.bounds;if(Qe)return Ce||(Ce=Qe),Ie.scale=[1/(Ce[2]-Ce[0]),1/(Ce[3]-Ce[1])],Ie.translate=[-Ce[0],-Ce[1]],Ie.scaleFract=C.fract(Ie.scale),Ie.translateFract=C.fract(Ie.translate),Ce},viewport:function(Ce){return T(Ce||[_.drawingBufferWidth,_.drawingBufferHeight])}}]),ue){var te=ee.count,Q=ee.size,K=ee.borderSize,Z=ee.sizeBuffer,q=new Uint8Array(2*te);if(Q.length||K.length)for(var fe=0;fe<te;fe++)q[2*fe]=Math.round(255*(null==Q[fe]?Q:Q[fe])/V),q[2*fe+1]=Math.round(255*(null==K[fe]?K:K[fe])/V);Z({data:q,usage:"dynamic"})}if(ce){var we,$=ee.count,le=ee.color,se=ee.borderColor,de=ee.colorBuffer;if(i.tooManyColors){if(le.length||se.length){we=new Uint8Array(8*$);for(var Ee=0;Ee<$;Ee++){var Me=le[Ee];we[8*Ee]=U[4*Me],we[8*Ee+1]=U[4*Me+1],we[8*Ee+2]=U[4*Me+2],we[8*Ee+3]=U[4*Me+3];var Ne=se[Ee];we[8*Ee+4]=U[4*Ne],we[8*Ee+5]=U[4*Ne+1],we[8*Ee+6]=U[4*Ne+2],we[8*Ee+7]=U[4*Ne+3]}}}else if(le.length||se.length){we=new Uint8Array(4*$+2);for(var Ve=0;Ve<$;Ve++)null!=le[Ve]&&(we[4*Ve]=le[Ve]%H,we[4*Ve+1]=Math.floor(le[Ve]/H)),null!=se[Ve]&&(we[4*Ve+2]=se[Ve]%H,we[4*Ve+3]=Math.floor(se[Ve]/H))}de({data:we||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return ee})}},x.prototype.addMarker=function(i){var _,D=this.markerTextures,y=this.regl,B=this.markerCache,F=null==i?0:B.indexOf(i);if(F>=0)return F;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)_=i;else{_=new Uint8Array(i.length);for(var z=0,V=i.length;z<V;z++)_[z]=255*i[z]}var H=Math.floor(Math.sqrt(_.length));return F=D.length,B.push(i),D.push(y.texture({channels:1,data:_,radius:H,mag:"linear",min:"linear"})),F},x.prototype.updateColor=function(i){var D=this.paletteIds,y=this.palette,B=this.maxColors;Array.isArray(i)||(i=[i]);var F=[];if("number"==typeof i[0]){var _=[];if(Array.isArray(i))for(var z=0;z<i.length;z+=4)_.push(i.slice(z,z+4));else for(var V=0;V<i.length;V+=4)_.push(i.subarray(V,V+4));i=_}for(var H=0;H<i.length;H++){var U=i[H];U=o(U,"uint8");var G=h(U,!1);if(null==D[G]){var Y=y.length;D[G]=Math.floor(Y/4),y[Y]=U[0],y[Y+1]=U[1],y[Y+2]=U[2],y[Y+3]=U[3]}F[H]=D[G]}return!this.tooManyColors&&y.length>4*B&&(this.tooManyColors=!0),this.updatePalette(y),1===F.length?F[0]:F},x.prototype.updatePalette=function(i){if(!this.tooManyColors){var D=this.maxColors,y=this.paletteTexture,B=Math.ceil(.25*i.length/D);if(B>1)for(var F=.25*(i=i.slice()).length%D;F<B*D;F++)i.push(0,0,0,0);y.height<B&&y.resize(D,B),y.subimage({width:Math.min(.25*i.length,D),height:B,data:i},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(i){i.sizeBuffer.destroy(),i.positionBuffer.destroy(),i.positionFractBuffer.destroy(),i.colorBuffer.destroy(),i.activation.forEach(function(D){return D&&D.destroy&&D.destroy()}),i.selectionBuffer.destroy(),i.elements&&i.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(i){return i&&i.destroy&&i.destroy()}),this};var E=t(56131);oe.exports=function(D,y){var B=new L(D,y),F=B.render.bind(B);return E(F,{render:F,update:B.update.bind(B),draw:B.draw.bind(B),destroy:B.destroy.bind(B),regl:B.regl,gl:B.gl,canvas:B.gl.canvas,groups:B.groups,markers:B.markerCache,palette:B.palette}),F}},60487:function(oe,J,t){"use strict";var S=t(11870),k=t(71299),l=t(21527),R=t(5877),I=t(57471),v=t(18863),w=t(30120);function r(f,h){if(!(this instanceof r))return new r(f,h);this.traces=[],this.passes={},this.regl=f,this.scatter=S(f),this.canvas=this.scatter.canvas}function n(f,h,d){return(null!=f.id?f.id:f)<<16|(255&h)<<8|255&d}function c(f,h,d){var p,m,u,C,L=f[h],x=f[d];return L.length>2?(p=L[1],m=L[3]):L.length?(p=L[0],m=L[1]):(p=L.y,m=L.y+L.height),x.length>2?(u=x[0],C=x[2]):x.length?(u=x[0],C=x[1]):(u=x.x,C=x.x+x.width),[u,p,C,m]}function o(f){if("number"==typeof f)return[f,f,f,f];if(2===f.length)return[f[0],f[1],f[0],f[1]];var h=v(f);return[h.x,h.y,h.x+h.width,h.y+h.height]}oe.exports=r,r.prototype.render=function(){for(var h,f=this,d=[],b=arguments.length;b--;)d[b]=arguments[b];return d.length&&(h=this).update.apply(h,d),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=R(function(){f.draw(),f.dirty=!0,f.planned=null})):(this.draw(),this.dirty=!0,R(function(){f.dirty=!1})),this)},r.prototype.update=function(){for(var f,h=[],d=arguments.length;d--;)h[d]=arguments[d];if(h.length){for(var b=0;b<h.length;b++)this.updateItem(b,h[b]);this.traces=this.traces.filter(Boolean);for(var p=[],A=0,m=0;m<this.traces.length;m++){for(var u=this.traces[m],g=this.traces[m].passes,C=0;C<g.length;C++)p.push(this.passes[g[C]]);u.passOffset=A,A+=u.passes.length}return(f=this.scatter).update.apply(f,p),this}},r.prototype.updateItem=function(f,h){var b=this.regl;if(null===h)return this.traces[f]=null,this;if(!h)return this;var u,p=k(h,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),A=this.traces[f]||(this.traces[f]={id:f,buffer:b.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([b._gl.drawingBufferWidth,b._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=p.color&&(A.color=p.color),null!=p.size&&(A.size=p.size),null!=p.marker&&(A.marker=p.marker),null!=p.borderColor&&(A.borderColor=p.borderColor),null!=p.borderSize&&(A.borderSize=p.borderSize),null!=p.opacity&&(A.opacity=p.opacity),p.viewport&&(A.viewport=v(p.viewport)),null!=p.diagonal&&(A.diagonal=p.diagonal),null!=p.upper&&(A.upper=p.upper),null!=p.lower&&(A.lower=p.lower),p.data){A.buffer(w(p.data)),A.columns=p.data.length,A.count=p.data[0].length,A.bounds=[];for(var m=0;m<A.columns;m++)A.bounds[m]=l(p.data[m],1)}p.range&&(A.range=p.range,u=A.range&&"number"!=typeof A.range[0]),p.domain&&(A.domain=p.domain);var g=!1;null!=p.padding&&(Array.isArray(p.padding)&&p.padding.length===A.columns&&"number"==typeof p.padding[p.padding.length-1]?(A.padding=p.padding.map(o),g=!0):A.padding=o(p.padding));var C=A.columns,T=A.count,L=A.viewport.width,x=A.viewport.height,E=A.viewport.x,M=A.viewport.y,i=L/C,D=x/C;A.passes=[];for(var y=0;y<C;y++)for(var B=0;B<C;B++)if((A.diagonal||B!==y)&&(A.upper||!(y>B))&&(A.lower||!(y<B))){var F=n(A.id,y,B),_=this.passes[F]||(this.passes[F]={});if(p.data&&(_.positions=p.transpose?{x:{buffer:A.buffer,offset:B,count:T,stride:C},y:{buffer:A.buffer,offset:y,count:T,stride:C}}:{x:{buffer:A.buffer,offset:B*T,count:T},y:{buffer:A.buffer,offset:y*T,count:T}},_.bounds=c(A.bounds,y,B)),p.domain||p.viewport||p.data){var z=g?c(A.padding,y,B):A.padding;if(A.domain){var V=c(A.domain,y,B);_.viewport=[E+V[0]*L+z[0],M+V[1]*x+z[1],E+V[2]*L-z[2],M+V[3]*x-z[3]]}else _.viewport=[E+B*i+i*z[0],M+y*D+D*z[1],E+(B+1)*i-i*z[2],M+(y+1)*D-D*z[3]]}p.color&&(_.color=A.color),p.size&&(_.size=A.size),p.marker&&(_.marker=A.marker),p.borderSize&&(_.borderSize=A.borderSize),p.borderColor&&(_.borderColor=A.borderColor),p.opacity&&(_.opacity=A.opacity),p.range&&(_.range=u?c(A.range,y,B):A.range||_.bounds),A.passes.push(F)}return this},r.prototype.draw=function(){for(var f,h=[],d=arguments.length;d--;)h[d]=arguments[d];if(h.length){for(var b=[],p=0;p<h.length;p++)if("number"==typeof h[p]){var A=this.traces[h[p]],u=A.passOffset;b.push.apply(b,I(u,u+A.passes.length))}else if(h[p].length){var g=h[p],C=this.traces[p],T=C.passes,L=C.passOffset;T=T.map(function(x,E){b[L+E]=g})}(f=this.scatter).draw.apply(f,b)}else this.scatter.draw();return this},r.prototype.destroy=function(){return this.traces.forEach(function(f){f.buffer&&f.buffer.destroy&&f.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(oe){var t;t=function(){function J(wt,$t){this.id=de++,this.type=wt,this.data=$t}function t(wt){if(0===wt.length)return[];var $t=wt.charAt(0),rr=wt.charAt(wt.length-1);if(1<wt.length&&$t===rr&&('"'===$t||"'"===$t))return['"'+wt.substr(1,wt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if($t=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(wt))return t(wt.substr(0,$t.index)).concat(t($t[1])).concat(t(wt.substr($t.index+$t[0].length)));if(1===($t=wt.split(".")).length)return['"'+wt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(wt=[],rr=0;rr<$t.length;++rr)wt=wt.concat(t($t[rr]));return wt}function S(wt){return"["+t(wt).join("][")+"]"}function v(wt){return"string"==typeof wt?wt.split():wt}function w(wt){return"string"==typeof wt?document.querySelector(wt):wt}function r(wt){var rr,Lr,mr,bt,$t=wt||{};wt={};var ct=[],At=[],It=typeof window>"u"?1:window.devicePixelRatio,Ft=!1,Rt={},Gt=function(er){},jt=function(){};if("string"==typeof $t?rr=document.querySelector($t):"object"==typeof $t&&("string"==typeof $t.nodeName&&"function"==typeof $t.appendChild&&"function"==typeof $t.getBoundingClientRect?rr=$t:"function"==typeof $t.drawArrays||"function"==typeof $t.drawElements?mr=(bt=$t).canvas:("gl"in $t?bt=$t.gl:"canvas"in $t?mr=w($t.canvas):"container"in $t&&(Lr=w($t.container)),"attributes"in $t&&(wt=$t.attributes),"extensions"in $t&&(ct=v($t.extensions)),"optionalExtensions"in $t&&(At=v($t.optionalExtensions)),"onDone"in $t&&(Gt=$t.onDone),"profile"in $t&&(Ft=!!$t.profile),"pixelRatio"in $t&&(It=+$t.pixelRatio),"cachedCode"in $t&&(Rt=$t.cachedCode))),rr&&("canvas"===rr.nodeName.toLowerCase()?mr=rr:Lr=rr),!bt){if(!mr){if(!(rr=function R(wt,$t,rr){function Lr(){var ct=window.innerWidth,At=window.innerHeight;wt!==document.body&&(ct=(At=mr.getBoundingClientRect()).right-At.left,At=At.bottom-At.top),mr.width=rr*ct,mr.height=rr*At}var bt,mr=document.createElement("canvas");return se(mr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),wt.appendChild(mr),wt===document.body&&(mr.style.position="absolute",se(wt.style,{margin:0,padding:0})),wt!==document.body&&"function"==typeof ResizeObserver?(bt=new ResizeObserver(function(){setTimeout(Lr)})).observe(wt):window.addEventListener("resize",Lr,!1),Lr(),{canvas:mr,onDestroy:function(){bt?bt.disconnect():window.removeEventListener("resize",Lr),wt.removeChild(mr)}}}(Lr||document.body,0,It)))return null;mr=rr.canvas,jt=rr.onDestroy}void 0===wt.premultipliedAlpha&&(wt.premultipliedAlpha=!0),bt=function I(wt,$t){function rr(Lr){try{return wt.getContext(Lr,$t)}catch{return null}}return rr("webgl")||rr("experimental-webgl")||rr("webgl-experimental")}(mr,wt)}return bt?{gl:bt,canvas:mr,container:Lr,extensions:ct,optionalExtensions:At,pixelRatio:It,profile:Ft,cachedCode:Rt,onDone:Gt,onDestroy:jt}:(jt(),Gt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function c(wt,$t){for(var rr=Array(wt),Lr=0;Lr<wt;++Lr)rr[Lr]=$t(Lr);return rr}function o(wt){var $t,rr;return $t=(65535<wt)<<4,$t|=rr=(255<(wt>>>=$t))<<3,($t|=rr=(15<(wt>>>=rr))<<2)|(rr=(3<(wt>>>=rr))<<1)|wt>>>rr>>1}function f(){function wt(Lr){e:{for(var mr=16;268435456>=mr;mr*=16)if(Lr<=mr){Lr=mr;break e}Lr=0}return 0<(mr=rr[o(Lr)>>2]).length?mr.pop():new ArrayBuffer(Lr)}function $t(Lr){rr[o(Lr.byteLength)>>2].push(Lr)}var rr=c(8,function(){return[]});return{alloc:wt,free:$t,allocType:function(Lr,mr){var bt=null;switch(Lr){case 5120:bt=new Int8Array(wt(mr),0,mr);break;case 5121:bt=new Uint8Array(wt(mr),0,mr);break;case 5122:bt=new Int16Array(wt(2*mr),0,mr);break;case 5123:bt=new Uint16Array(wt(2*mr),0,mr);break;case 5124:bt=new Int32Array(wt(4*mr),0,mr);break;case 5125:bt=new Uint32Array(wt(4*mr),0,mr);break;case 5126:bt=new Float32Array(wt(4*mr),0,mr);break;default:return null}return bt.length!==mr?bt.subarray(0,mr):bt},freeType:function(Lr){$t(Lr.buffer)}}}function h(wt){return!!wt&&"object"==typeof wt&&Array.isArray(wt.shape)&&Array.isArray(wt.stride)&&"number"==typeof wt.offset&&wt.shape.length===wt.stride.length&&(Array.isArray(wt.data)||Pe(wt.data))}function d(wt,$t,rr,Lr,mr,bt){for(var ct=0;ct<$t;++ct)for(var At=wt[ct],It=0;It<rr;++It)for(var Ft=At[It],Rt=0;Rt<Lr;++Rt)mr[bt++]=Ft[Rt]}function b(wt,$t,rr,Lr,mr){for(var bt=1,ct=rr+1;ct<$t.length;++ct)bt*=$t[ct];var At=$t[rr];if($t.length-rr==4){var It=$t[rr+1],Ft=$t[rr+2];for($t=$t[rr+3],ct=0;ct<At;++ct)d(wt[ct],It,Ft,$t,Lr,mr),mr+=bt}else for(ct=0;ct<At;++ct)b(wt[ct],$t,rr+1,Lr,mr),mr+=bt}function p(wt){return 0|Je[Object.prototype.toString.call(wt)]}function A(wt,$t){for(var rr=0;rr<$t.length;++rr)wt[rr]=$t[rr]}function m(wt,$t,rr,Lr,mr,bt,ct){for(var At=0,It=0;It<rr;++It)for(var Ft=0;Ft<Lr;++Ft)wt[At++]=$t[mr*It+bt*Ft+ct]}function C(wt){for(var $t=Ne.allocType(5123,wt.length),rr=0;rr<wt.length;++rr)if(isNaN(wt[rr]))$t[rr]=65535;else if(wt[rr]===1/0)$t[rr]=31744;else if(wt[rr]===-1/0)$t[rr]=64512;else{je[0]=wt[rr];var Lr=(bt=lt[0])>>>31<<15,mr=(bt<<1>>>24)-127,bt=bt>>13&1023;$t[rr]=-24>mr?Lr:-14>mr?Lr+(bt+1024>>-14-mr):15<mr?Lr+31744:Lr+(mr+15<<10)+bt}return $t}function T(wt){return Array.isArray(wt)||Pe(wt)}function L(wt){return"[object "+wt+"]"}function x(wt){return Array.isArray(wt)&&(0===wt.length||"number"==typeof wt[0])}function E(wt){return!(!Array.isArray(wt)||0===wt.length||!T(wt[0]))}function M(wt){return Object.prototype.toString.call(wt)}function i(wt){if(!wt)return!1;var $t=M(wt);return 0<=He.indexOf($t)||x(wt)||E(wt)||h(wt)}function D(wt,$t){36193===wt.type?(wt.data=C($t),Ne.freeType($t)):wt.data=$t}function y(wt,$t,rr,Lr,mr,bt){if(wt=typeof Ue[wt]<"u"?Ue[wt]:St[wt]*Ye[$t],bt&&(wt*=6),mr){for(Lr=0;1<=rr;)Lr+=wt*rr*rr,rr/=2;return Lr}return wt*rr*Lr}function _(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function H(wt,$t,rr,Lr,mr,bt,ct){function At(Ft){var Rt;Rt=null===$t.next?5121:$t.next.colorAttachments[0].texture._texture.type;var Gt=0,jt=0,er=Lr.framebufferWidth,dr=Lr.framebufferHeight,hr=null;return Pe(Ft)?hr=Ft:Ft&&(Gt=0|Ft.x,jt=0|Ft.y,er=0|(Ft.width||Lr.framebufferWidth-Gt),dr=0|(Ft.height||Lr.framebufferHeight-jt),hr=Ft.data||null),rr(),Ft=er*dr*4,hr||(5121===Rt?hr=new Uint8Array(Ft):5126===Rt&&(hr=hr||new Float32Array(Ft))),wt.pixelStorei(3333,4),wt.readPixels(Gt,jt,er,dr,6408,Rt,hr),hr}return function(Ft){return Ft&&"framebuffer"in Ft?function It(Ft){var Rt;return $t.setFBO({framebuffer:Ft.framebuffer},function(){Rt=At(Ft)}),Rt}(Ft):At(Ft)}}function ee(wt,$t){return wt>>>$t|wt<<32-$t}function ue(wt,$t){var rr=(65535&wt)+(65535&$t);return(wt>>16)+($t>>16)+(rr>>16)<<16|65535&rr}function ce(wt){return Array.prototype.slice.call(wt)}function pe(wt){return ce(wt).join("")}function te(wt){function $t(){var Rt=[],Gt=[];return se(function(){Rt.push.apply(Rt,ce(arguments))},{def:function(){var jt="v"+mr++;return Gt.push(jt),0<arguments.length&&(Rt.push(jt,"="),Rt.push.apply(Rt,ce(arguments)),Rt.push(";")),jt},toString:function(){return pe([0<Gt.length?"var "+Gt.join(",")+";":"",pe(Rt)])}})}function rr(){function Rt(hr,wr){jt(hr,wr,"=",Gt.def(hr,wr),";")}var Gt=$t(),jt=$t(),er=Gt.toString,dr=jt.toString;return se(function(){Gt.apply(Gt,ce(arguments))},{def:Gt.def,entry:Gt,exit:jt,save:Rt,set:function(hr,wr,$e){Rt(hr,wr),Gt(hr,wr,"=",$e,";")},toString:function(){return er()+dr()}})}var Lr=wt&&wt.cache,mr=0,bt=[],ct=[],At=[],It=$t(),Ft={};return{global:It,link:function(Rt,Gt){var jt=Gt&&Gt.stable;if(!jt)for(var er=0;er<ct.length;++er)if(ct[er]===Rt&&!At[er])return bt[er];return er="g"+mr++,bt.push(er),ct.push(Rt),At.push(jt),er},block:$t,proc:function(Rt,Gt){function jt(){var wr="a"+er.length;return er.push(wr),wr}var er=[];Gt=Gt||0;for(var dr=0;dr<Gt;++dr)jt();var hr=(dr=rr()).toString;return Ft[Rt]=se(dr,{arg:jt,toString:function(){return pe(["function(",er.join(),"){",hr(),"}"])}})},scope:rr,cond:function(){var Rt=pe(arguments),Gt=rr(),jt=rr(),er=Gt.toString,dr=jt.toString;return se(Gt,{then:function(){return Gt.apply(Gt,ce(arguments)),this},else:function(){return jt.apply(jt,ce(arguments)),this},toString:function(){var hr=dr();return hr&&(hr="else{"+hr+"}"),pe(["if(",Rt,"){",er(),"}",hr])}})},compile:function(){var Rt=['"use strict";',It,"return {"];Object.keys(Ft).forEach(function(er){Rt.push('"',er,'":',Ft[er].toString(),",")}),Rt.push("}");var jt,Gt=pe(Rt).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Lr&&(jt=function G(wt){for(var rr,$t="",Lr=0;Lr<wt.length;Lr++)rr=wt.charCodeAt(Lr),$t+="0123456789abcdef".charAt(rr>>>4&15)+"0123456789abcdef".charAt(15&rr);return $t}(function U(wt){for(var $t=Array(wt.length>>2),Lr=0;Lr<$t.length;Lr++)$t[Lr]=0;for(Lr=0;Lr<8*wt.length;Lr+=8)$t[Lr>>5]|=(255&wt.charCodeAt(Lr/8))<<24-Lr%32;var mr,bt,ct,At,It,Ft,Rt,Gt,jt,er,dr,rr=8*wt.length;for(wt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Lr=Array(64),$t[rr>>5]|=128<<24-rr%32,$t[15+(rr+64>>9<<4)]=rr,Gt=0;Gt<$t.length;Gt+=16){for(rr=wt[0],mr=wt[1],bt=wt[2],ct=wt[3],At=wt[4],It=wt[5],Ft=wt[6],Rt=wt[7],jt=0;64>jt;jt++){var hr;16>jt?Lr[jt]=$t[jt+Gt]:(er=jt,dr=ue(dr=ee(dr=Lr[jt-2],17)^ee(dr,19)^dr>>>10,Lr[jt-7]),hr=ee(hr=Lr[jt-15],7)^ee(hr,18)^hr>>>3,Lr[er]=ue(ue(dr,hr),Lr[jt-16])),er=ue(ue(ue(ue(Rt,er=ee(er=At,6)^ee(er,11)^ee(er,25)),At&It^~At&Ft),et[jt]),Lr[jt]),dr=ue(Rt=ee(Rt=rr,2)^ee(Rt,13)^ee(Rt,22),rr&mr^rr&bt^mr&bt),Rt=Ft,Ft=It,It=At,At=ue(ct,er),ct=bt,bt=mr,mr=rr,rr=ue(er,dr)}wt[0]=ue(rr,wt[0]),wt[1]=ue(mr,wt[1]),wt[2]=ue(bt,wt[2]),wt[3]=ue(ct,wt[3]),wt[4]=ue(At,wt[4]),wt[5]=ue(It,wt[5]),wt[6]=ue(Ft,wt[6]),wt[7]=ue(Rt,wt[7])}for($t="",Lr=0;Lr<32*wt.length;Lr+=8)$t+=String.fromCharCode(wt[Lr>>5]>>>24-Lr%32&255);return $t}(function Y(wt){for(var Lr,mr,$t="",rr=-1;++rr<wt.length;)Lr=wt.charCodeAt(rr),mr=rr+1<wt.length?wt.charCodeAt(rr+1):0,55296<=Lr&&56319>=Lr&&56320<=mr&&57343>=mr&&(Lr=65536+((1023&Lr)<<10)+(1023&mr),rr++),127>=Lr?$t+=String.fromCharCode(Lr):2047>=Lr?$t+=String.fromCharCode(192|Lr>>>6&31,128|63&Lr):65535>=Lr?$t+=String.fromCharCode(224|Lr>>>12&15,128|Lr>>>6&63,128|63&Lr):2097151>=Lr&&($t+=String.fromCharCode(240|Lr>>>18&7,128|Lr>>>12&63,128|Lr>>>6&63,128|63&Lr));return $t}(Gt))),Lr[jt])?Lr[jt].apply(null,ct):(Gt=Function.apply(null,bt.concat(Gt)),Lr&&(Lr[jt]=Gt),Gt.apply(null,ct))}}}function Q(wt){return Array.isArray(wt)||Pe(wt)||h(wt)}function K(wt){return wt.sort(function($t,rr){return"viewport"===$t?-1:"viewport"===rr?1:$t<rr?-1:1})}function Z(wt,$t,rr,Lr){this.thisDep=wt,this.contextDep=$t,this.propDep=rr,this.append=Lr}function q(wt){return wt&&!(wt.thisDep||wt.contextDep||wt.propDep)}function fe(wt){return new Z(!1,!1,!1,wt)}function re(wt,$t){var rr=wt.type;if(0===rr)return new Z(!0,1<=(rr=wt.data.length),2<=rr,$t);if(4===rr)return new Z((rr=wt.data).thisDep,rr.contextDep,rr.propDep,$t);if(5===rr)return new Z(!1,!1,!1,$t);if(6===rr){for(var Lr=rr=!1,mr=!1,bt=0;bt<wt.data.length;++bt){var ct=wt.data[bt];1===ct.type?mr=!0:2===ct.type?Lr=!0:3===ct.type?rr=!0:0===ct.type?(rr=!0,1<=(ct=ct.data)&&(Lr=!0),2<=ct&&(mr=!0)):4===ct.type&&(rr=rr||ct.data.thisDep,Lr=Lr||ct.data.contextDep,mr=mr||ct.data.propDep)}return new Z(rr,Lr,mr,$t)}return new Z(3===rr,2===rr,1===rr,$t)}function $(wt,$t,rr,Lr,mr,bt,ct,At,It,Ft,Rt,Gt,jt,er,dr,hr){function wr(qt){return qt.replace(".","_")}function $e(qt,Pr,jr){var bn=wr(qt);Nn.push(qt),qn[bn]=Dn[bn]=!!jr,zn[bn]=Pr}function Ze(qt,Pr,jr){var bn=wr(qt);Nn.push(qt),Array.isArray(jr)?(Dn[bn]=jr.slice(),qn[bn]=jr.slice()):Dn[bn]=qn[bn]=jr,Qn[bn]=Pr}function zt(){var qt=te({cache:dr}),Pr=qt.link,jr=qt.global;qt.id=ha++,qt.batchId="0";var bn=Pr(ii),vn=qt.shared={props:"a0"};Object.keys(ii).forEach(function(Or){vn[Or]=jr.def(bn,".",Or)});var Bn=qt.next={},In=qt.current={};Object.keys(Qn).forEach(function(Or){Array.isArray(Dn[Or])&&(Bn[Or]=jr.def(vn.next,".",Or),In[Or]=jr.def(vn.current,".",Or))});var Tn=qt.constants={};Object.keys($n).forEach(function(Or){Tn[Or]=jr.def(JSON.stringify($n[Or]))}),qt.invoke=function(Or,Gr){switch(Gr.type){case 0:var Mn=["this",vn.context,vn.props,qt.batchId];return Or.def(Pr(Gr.data),".call(",Mn.slice(0,Math.max(Gr.data.length+1,4)),")");case 1:return Or.def(vn.props,Gr.data);case 2:return Or.def(vn.context,Gr.data);case 3:return Or.def("this",Gr.data);case 4:return Gr.data.append(qt,Or),Gr.data.ref;case 5:return Gr.data.toString();case 6:return Gr.data.map(function(Zn){return qt.invoke(Or,Zn)})}},qt.attribCache={};var Br={};return qt.scopeAttrib=function(Or){if((Or=$t.id(Or))in Br)return Br[Or];var Gr=Ft.scope[Or];return Gr||(Gr=Ft.scope[Or]=new si),Br[Or]=Pr(Gr)},qt}function un(qt,Pr,jr,bn,vn){function Bn(_n){var gi=Tn[_n];gi&&(Or[_n]=gi)}var In=function vr(qt,Pr){if("string"==typeof(jr=qt.static).frag&&"string"==typeof jr.vert){if(0<Object.keys(Pr.dynamic).length)return null;var jr=Pr.static,bn=Object.keys(jr);if(0<bn.length&&"number"==typeof jr[bn[0]]){for(var vn=[],Bn=0;Bn<bn.length;++Bn)vn.push([0|jr[bn[Bn]],bn[Bn]]);return vn}}return null}(qt,Pr),Tn=function ur(qt,Pr,jr){function bn(Tn){if(Tn in vn){var Br=vn[Tn];Tn=!0;var Mn,Zn,Or=0|Br.x,Gr=0|Br.y;return"width"in Br?Mn=0|Br.width:Tn=!1,"height"in Br?Zn=0|Br.height:Tn=!1,new Z(!Tn&&Pr&&Pr.thisDep,!Tn&&Pr&&Pr.contextDep,!Tn&&Pr&&Pr.propDep,function(dn,_n){var gi=dn.shared.context,wi=Mn;"width"in Br||(wi=_n.def(gi,".","framebufferWidth","-",Or));var Fi=Zn;return"height"in Br||(Fi=_n.def(gi,".","framebufferHeight","-",Gr)),[Or,Gr,wi,Fi]})}if(Tn in Bn){var fi=Bn[Tn];return Tn=re(fi,function(dn,_n){var mi=dn.invoke(_n,fi),gi=dn.shared.context,wi=_n.def(mi,".x|0"),Fi=_n.def(mi,".y|0");return[wi,Fi,_n.def('"width" in ',mi,"?",mi,".width|0:","(",gi,".","framebufferWidth","-",wi,")"),mi=_n.def('"height" in ',mi,"?",mi,".height|0:","(",gi,".","framebufferHeight","-",Fi,")")]}),Pr&&(Tn.thisDep=Tn.thisDep||Pr.thisDep,Tn.contextDep=Tn.contextDep||Pr.contextDep,Tn.propDep=Tn.propDep||Pr.propDep),Tn}return Pr?new Z(Pr.thisDep,Pr.contextDep,Pr.propDep,function(dn,_n){var gi=dn.shared.context;return[0,0,_n.def(gi,".","framebufferWidth"),_n.def(gi,".","framebufferHeight")]}):null}var vn=qt.static,Bn=qt.dynamic;if(qt=bn("viewport")){var In=qt;qt=new Z(qt.thisDep,qt.contextDep,qt.propDep,function(Tn,Br){var Or=In.append(Tn,Br),Gr=Tn.shared.context;return Br.set(Gr,".viewportWidth",Or[2]),Br.set(Gr,".viewportHeight",Or[3]),Or})}return{viewport:qt,scissor_box:bn("scissor.box")}}(qt,Zn=function Xt(qt,Pr){var jr=qt.static,bn=qt.dynamic;if("framebuffer"in jr){var vn=jr.framebuffer;return vn?(vn=At.getFramebuffer(vn),fe(function(In,Tn){var Br=In.link(vn),Or=In.shared;return Tn.set(Or.framebuffer,".next",Br),Tn.set(Or=Or.context,".framebufferWidth",Br+".width"),Tn.set(Or,".framebufferHeight",Br+".height"),Br})):fe(function(In,Tn){var Br=In.shared;return Tn.set(Br.framebuffer,".next","null"),Tn.set(Br=Br.context,".framebufferWidth",Br+".drawingBufferWidth"),Tn.set(Br,".framebufferHeight",Br+".drawingBufferHeight"),"null"})}if("framebuffer"in bn){var Bn=bn.framebuffer;return re(Bn,function(In,Tn){var Gr=In.invoke(Tn,Bn),Br=In.shared,Or=Br.framebuffer;return Gr=Tn.def(Or,".getFramebuffer(",Gr,")"),Tn.set(Or,".next",Gr),Tn.set(Br=Br.context,".framebufferWidth",Gr+"?"+Gr+".width:"+Br+".drawingBufferWidth"),Tn.set(Br,".framebufferHeight",Gr+"?"+Gr+".height:"+Br+".drawingBufferHeight"),Gr})}return null}(qt)),Br=function Ht(qt,Pr){function jr(dn,_n){if(dn in bn){var gi=0|bn[dn];return _n?Bn.offset=gi:Bn.instances=gi,fe(function(Fi,Mi){return _n&&(Fi.OFFSET=gi),gi})}if(dn in vn){var wi=vn[dn];return re(wi,function(Fi,Mi){var mi=Fi.invoke(Mi,wi);return _n&&(Fi.OFFSET=mi),mi})}if(_n){if(Br)return fe(function(Fi,Mi){return Fi.OFFSET=0});if(In)return new Z(Tn.thisDep,Tn.contextDep,Tn.propDep,function(Fi,Mi){return Mi.def(Fi.shared.vao+".currentVAO?"+Fi.shared.vao+".currentVAO.offset:0")})}else if(In)return new Z(Tn.thisDep,Tn.contextDep,Tn.propDep,function(Fi,Mi){return Mi.def(Fi.shared.vao+".currentVAO?"+Fi.shared.vao+".currentVAO.instances:-1")});return null}var bn=qt.static,vn=qt.dynamic,Bn={},In=!1,Tn=function(){if("vao"in bn){var dn=bn.vao;return null!==dn&&null===Ft.getVAO(dn)&&(dn=Ft.createVAO(dn)),In=!0,Bn.vao=dn,fe(function(gi){var wi=Ft.getVAO(dn);return wi?gi.link(wi):"null"})}if("vao"in vn){In=!0;var _n=vn.vao;return re(_n,function(gi,wi){var Fi=gi.invoke(wi,_n);return wi.def(gi.shared.vao+".getVAO("+Fi+")")})}return null}(),Br=!1,Or=function(){if("elements"in bn){if(Bn.elements=dn=bn.elements,Q(dn)){var _n=Bn.elements=bt.create(dn,!0),dn=bt.getElements(_n);Br=!0}else dn&&(dn=bt.getElements(dn),Br=!0);return(_n=fe(function(wi,Fi){if(dn){var Mi=wi.link(dn);return wi.ELEMENTS=Mi}return wi.ELEMENTS=null})).value=dn,_n}if("elements"in vn){Br=!0;var gi=vn.elements;return re(gi,function(wi,Fi){var Vo=(Mi=wi.shared).isBufferArgs,Mi=Mi.elements,Os=wi.invoke(Fi,gi),mi=Fi.def("null");return Vo=Fi.def(Vo,"(",Os,")"),Os=wi.cond(Vo).then(mi,"=",Mi,".createStream(",Os,");").else(mi,"=",Mi,".getElements(",Os,");"),Fi.entry(Os),Fi.exit(wi.cond(Vo).then(Mi,".destroyStream(",mi,");")),wi.ELEMENTS=mi})}return In?new Z(Tn.thisDep,Tn.contextDep,Tn.propDep,function(wi,Fi){return Fi.def(wi.shared.vao+".currentVAO?"+wi.shared.elements+".getElements("+wi.shared.vao+".currentVAO.elements):null")}):null}(),Gr=jr("offset",!0),Mn=function(){if("primitive"in bn){var dn=bn.primitive;return Bn.primitive=dn,fe(function(gi,wi){return We[dn]})}if("primitive"in vn){var _n=vn.primitive;return re(_n,function(gi,wi){var Fi=gi.constants.primTypes,Mi=gi.invoke(wi,_n);return wi.def(Fi,"[",Mi,"]")})}return Br?q(Or)?fe(Or.value?function(gi,wi){return wi.def(gi.ELEMENTS,".primType")}:function(){return 4}):new Z(Or.thisDep,Or.contextDep,Or.propDep,function(gi,wi){var Fi=gi.ELEMENTS;return wi.def(Fi,"?",Fi,".primType:",4)}):In?new Z(Tn.thisDep,Tn.contextDep,Tn.propDep,function(gi,wi){return wi.def(gi.shared.vao+".currentVAO?"+gi.shared.vao+".currentVAO.primitive:4")}):null}(),Zn=function(){if("count"in bn){var dn=0|bn.count;return Bn.count=dn,fe(function(){return dn})}if("count"in vn){var _n=vn.count;return re(_n,function(gi,wi){return gi.invoke(wi,_n)})}return Br?q(Or)?Or?Gr?new Z(Gr.thisDep,Gr.contextDep,Gr.propDep,function(gi,wi){return wi.def(gi.ELEMENTS,".vertCount-",gi.OFFSET)}):fe(function(gi,wi){return wi.def(gi.ELEMENTS,".vertCount")}):fe(function(){return-1}):new Z(Or.thisDep||Gr.thisDep,Or.contextDep||Gr.contextDep,Or.propDep||Gr.propDep,function(gi,wi){var Fi=gi.ELEMENTS;return gi.OFFSET?wi.def(Fi,"?",Fi,".vertCount-",gi.OFFSET,":-1"):wi.def(Fi,"?",Fi,".vertCount:-1")}):In?new Z(Tn.thisDep,Tn.contextDep,Tn.propDep,function(gi,wi){return wi.def(gi.shared.vao,".currentVAO?",gi.shared.vao,".currentVAO.count:-1")}):null}(),fi=jr("instances",!1);return{elements:Or,primitive:Mn,count:Zn,instances:fi,offset:Gr,vao:Tn,vaoActive:In,elementsActive:Br,static:Bn}}(qt),Or=function pr(qt,Pr){var jr=qt.static,bn=qt.dynamic,vn={};return Nn.forEach(function(Bn){function In(Br,Or){if(Bn in jr){var Gr=Br(jr[Bn]);vn[Tn]=fe(function(){return Gr})}else if(Bn in bn){var Mn=bn[Bn];vn[Tn]=re(Mn,function(Zn,fi){return Or(Zn,fi,Zn.invoke(fi,Mn))})}}var Tn=wr(Bn);switch(Bn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return In(function(Br){return Br},function(Br,Or,Gr){return Gr});case"depth.func":return In(function(Br){return ir[Br]},function(Br,Or,Gr){return Or.def(Br.constants.compareFuncs,"[",Gr,"]")});case"depth.range":return In(function(Br){return Br},function(Br,Or,Gr){return[Or.def("+",Gr,"[0]"),Or=Or.def("+",Gr,"[1]")]});case"blend.func":return In(function(Br){return[Kt["srcRGB"in Br?Br.srcRGB:Br.src],Kt["dstRGB"in Br?Br.dstRGB:Br.dst],Kt["srcAlpha"in Br?Br.srcAlpha:Br.src],Kt["dstAlpha"in Br?Br.dstAlpha:Br.dst]]},function(Br,Or,Gr){function Mn(_n,gi){return Or.def('"',_n,gi,'" in ',Gr,"?",Gr,".",_n,gi,":",Gr,".",_n)}Br=Br.constants.blendFuncs;var Zn=Mn("src","RGB"),dn=Mn("dst","RGB"),fi=(Zn=Or.def(Br,"[",Zn,"]"),Or.def(Br,"[",Mn("src","Alpha"),"]"));return[Zn,dn=Or.def(Br,"[",dn,"]"),fi,Br=Or.def(Br,"[",Mn("dst","Alpha"),"]")]});case"blend.equation":return In(function(Br){return"string"==typeof Br?[hi[Br],hi[Br]]:"object"==typeof Br?[hi[Br.rgb],hi[Br.alpha]]:void 0},function(Br,Or,Gr){var Mn=Br.constants.blendEquations,Zn=Or.def(),fi=Or.def();return(Br=Br.cond("typeof ",Gr,'==="string"')).then(Zn,"=",fi,"=",Mn,"[",Gr,"];"),Br.else(Zn,"=",Mn,"[",Gr,".rgb];",fi,"=",Mn,"[",Gr,".alpha];"),Or(Br),[Zn,fi]});case"blend.color":return In(function(Br){return c(4,function(Or){return+Br[Or]})},function(Br,Or,Gr){return c(4,function(Mn){return Or.def("+",Gr,"[",Mn,"]")})});case"stencil.mask":return In(function(Br){return 0|Br},function(Br,Or,Gr){return Or.def(Gr,"|0")});case"stencil.func":return In(function(Br){return[ir[Br.cmp||"keep"],Br.ref||0,"mask"in Br?Br.mask:-1]},function(Br,Or,Gr){return[Br=Or.def('"cmp" in ',Gr,"?",Br.constants.compareFuncs,"[",Gr,".cmp]",":",7680),Or.def(Gr,".ref|0"),Or=Or.def('"mask" in ',Gr,"?",Gr,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return In(function(Br){return["stencil.opBack"===Bn?1029:1028,Lt[Br.fail||"keep"],Lt[Br.zfail||"keep"],Lt[Br.zpass||"keep"]]},function(Br,Or,Gr){function Mn(fi){return Or.def('"',fi,'" in ',Gr,"?",Zn,"[",Gr,".",fi,"]:",7680)}var Zn=Br.constants.stencilOps;return["stencil.opBack"===Bn?1029:1028,Mn("fail"),Mn("zfail"),Mn("zpass")]});case"polygonOffset.offset":return In(function(Br){return[0|Br.factor,0|Br.units]},function(Br,Or,Gr){return[Or.def(Gr,".factor|0"),Or=Or.def(Gr,".units|0")]});case"cull.face":return In(function(Br){var Or=0;return"front"===Br?Or=1028:"back"===Br&&(Or=1029),Or},function(Br,Or,Gr){return Or.def(Gr,'==="front"?',1028,":",1029)});case"frontFace":return In(function(Br){return Ut[Br]},function(Br,Or,Gr){return Or.def(Gr+'==="cw"?2304:2305')});case"colorMask":return In(function(Br){return Br.map(function(Or){return!!Or})},function(Br,Or,Gr){return c(4,function(Mn){return"!!"+Gr+"["+Mn+"]"})});case"sample.coverage":return In(function(Br){return["value"in Br?Br.value:1,!!Br.invert]},function(Br,Or,Gr){return[Or.def('"value" in ',Gr,"?+",Gr,".value:1"),Or=Or.def("!!",Gr,".invert")]})}}),vn}(qt),Gr=function or(qt,Pr,jr){function bn(Or){if(Or in vn){var Gr=$t.id(vn[Or]);return(Or=fe(function(){return Gr})).id=Gr,Or}if(Or in Bn){var Mn=Bn[Or];return re(Mn,function(Zn,fi){var dn=Zn.invoke(fi,Mn);return fi.def(Zn.shared.strings,".id(",dn,")")})}return null}var vn=qt.static,Bn=qt.dynamic,In=bn("frag"),Tn=bn("vert"),Br=null;return q(In)&&q(Tn)?(Br=Rt.program(Tn.id,In.id,null,jr),qt=fe(function(Or,Gr){return Or.link(Br)})):qt=new Z(In&&In.thisDep||Tn&&Tn.thisDep,In&&In.contextDep||Tn&&Tn.contextDep,In&&In.propDep||Tn&&Tn.propDep,function(Or,Gr){var Zn,fi,Mn=Or.shared.shader;return Zn=In?In.append(Or,Gr):Gr.def(Mn,".","frag"),fi=Tn?Tn.append(Or,Gr):Gr.def(Mn,".","vert"),Gr.def(Mn+".program("+fi+","+Zn+")")}),{frag:In,vert:Tn,progVar:qt,program:Br}}(qt,0,In);Bn("viewport"),Bn(wr("scissor.box"));var Zn,Mn=0<Object.keys(Or).length;if((Zn={framebuffer:Zn,draw:Br,shader:Gr,state:Or,dirty:Mn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function kt(qt){var jr,Pr=qt.static;if(qt=qt.dynamic,"profile"in Pr){var bn=!!Pr.profile;(jr=fe(function(Bn,In){return bn})).enable=bn}else if("profile"in qt){var vn=qt.profile;jr=re(vn,function(Bn,In){return Bn.invoke(In,vn)})}return jr}(qt),Zn.uniforms=function xr(qt,Pr){var jr=qt.static,bn=qt.dynamic,vn={};return Object.keys(jr).forEach(function(Bn){var Tn,In=jr[Bn];if("number"==typeof In||"boolean"==typeof In)Tn=fe(function(){return In});else if("function"==typeof In){var Br=In._reglType;"texture2d"===Br||"textureCube"===Br?Tn=fe(function(Or){return Or.link(In)}):("framebuffer"===Br||"framebufferCube"===Br)&&(Tn=fe(function(Or){return Or.link(In.color[0])}))}else T(In)&&(Tn=fe(function(Or){return Or.global.def("[",c(In.length,function(Gr){return In[Gr]}),"]")}));Tn.value=In,vn[Bn]=Tn}),Object.keys(bn).forEach(function(Bn){var In=bn[Bn];vn[Bn]=re(In,function(Tn,Br){return Tn.invoke(Br,In)})}),vn}(jr),Zn.drawVAO=Zn.scopeVAO=Br.vao,!Zn.drawVAO&&Gr.program&&!In&&rr.angle_instanced_arrays&&Br.static.elements){var fi=!0;if(qt=Gr.program.attributes.map(function(_n){return _n=Pr.static[_n],fi=fi&&!!_n,_n}),fi&&0<qt.length){var dn=Ft.getVAO(Ft.createVAO({attributes:qt,elements:Br.static.elements}));Zn.drawVAO=new Z(null,null,null,function(_n,gi){return _n.link(dn)}),Zn.useVAO=!0}}return In?Zn.useVAO=!0:Zn.attributes=function Mr(qt,Pr){var jr=qt.static,bn=qt.dynamic,vn={};return Object.keys(jr).forEach(function(Bn){var In=jr[Bn],Tn=$t.id(Bn),Br=new si;if(Q(In))Br.state=1,Br.buffer=mr.getBuffer(mr.create(In,34962,!1,!0)),Br.type=0;else if(Or=mr.getBuffer(In))Br.state=1,Br.buffer=Or,Br.type=0;else if("constant"in In){var Gr=In.constant;Br.buffer="null",Br.state=2,"number"==typeof Gr?Br.x=Gr:ft.forEach(function(gi,wi){wi<Gr.length&&(Br[gi]=Gr[wi])})}else{var Or=Q(In.buffer)?mr.getBuffer(mr.create(In.buffer,34962,!1,!0)):mr.getBuffer(In.buffer),Mn=0|In.offset,Zn=0|In.stride,fi=0|In.size,dn=!!In.normalized,_n=0;"type"in In&&(_n=Qe[In.type]),In=0|In.divisor,Br.buffer=Or,Br.state=1,Br.size=fi,Br.normalized=dn,Br.type=_n||Or.dtype,Br.offset=Mn,Br.stride=Zn,Br.divisor=In}vn[Bn]=fe(function(gi,wi){var Fi=gi.attribCache;if(Tn in Fi)return Fi[Tn];var Mi={isStream:!1};return Object.keys(Br).forEach(function(mi){Mi[mi]=Br[mi]}),Br.buffer&&(Mi.buffer=gi.link(Br.buffer),Mi.type=Mi.type||Mi.buffer+".dtype"),Fi[Tn]=Mi})}),Object.keys(bn).forEach(function(Bn){var In=bn[Bn];vn[Bn]=re(In,function(Tn,Br){function Or(Fi){Br(dn[Fi],"=",Gr,".",Fi,"|0;")}var Gr=Tn.invoke(Br,In),Mn=Tn.constants,Zn=(fi=Tn.shared).isBufferArgs,fi=fi.buffer,dn={isStream:Br.def(!1)},_n=new si;_n.state=1,Object.keys(_n).forEach(function(Fi){dn[Fi]=Br.def(""+_n[Fi])});var gi=dn.buffer,wi=dn.type;return Br("if(",Zn,"(",Gr,")){",dn.isStream,"=true;",gi,"=",fi,".createStream(",34962,",",Gr,");",wi,"=",gi,".dtype;","}else{",gi,"=",fi,".getBuffer(",Gr,");","if(",gi,"){",wi,"=",gi,".dtype;",'}else if("constant" in ',Gr,"){",dn.state,"=",2,";","if(typeof "+Gr+'.constant === "number"){',dn[ft[0]],"=",Gr,".constant;",ft.slice(1).map(function(Fi){return dn[Fi]}).join("="),"=0;","}else{",ft.map(function(Fi,Mi){return dn[Fi]+"="+Gr+".constant.length>"+Mi+"?"+Gr+".constant["+Mi+"]:0;"}).join(""),"}}else{","if(",Zn,"(",Gr,".buffer)){",gi,"=",fi,".createStream(",34962,",",Gr,".buffer);","}else{",gi,"=",fi,".getBuffer(",Gr,".buffer);","}",wi,'="type" in ',Gr,"?",Mn.glTypes,"[",Gr,".type]:",gi,".dtype;",dn.normalized,"=!!",Gr,".normalized;"),Or("size"),Or("offset"),Or("stride"),Or("divisor"),Br("}}"),Br.exit("if(",dn.isStream,"){",fi,".destroyStream(",gi,");","}"),dn})}),vn}(Pr),Zn.context=function kr(qt){var Pr=qt.static,jr=qt.dynamic,bn={};return Object.keys(Pr).forEach(function(vn){var Bn=Pr[vn];bn[vn]=fe(function(In,Tn){return"number"==typeof Bn||"boolean"==typeof Bn?""+Bn:In.link(Bn)})}),Object.keys(jr).forEach(function(vn){var Bn=jr[vn];bn[vn]=re(Bn,function(In,Tn){return In.invoke(Tn,Bn)})}),bn}(bn),Zn}function Nr(qt,Pr,jr){var bn=qt.shared.context,vn=qt.scope();Object.keys(jr).forEach(function(Bn){Pr.save(bn,"."+Bn);var In=jr[Bn].append(qt,Pr);Array.isArray(In)?vn(bn,".",Bn,"=[",In.join(),"];"):vn(bn,".",Bn,"=",In,";")}),Pr(vn)}function Yr(qt,Pr,jr,bn){var In,vn=(Tn=qt.shared).gl,Bn=Tn.framebuffer;gn&&(In=Pr.def(Tn.extensions,".webgl_draw_buffers"));var Tn=(Br=qt.constants).drawBuffer,Br=Br.backBuffer;qt=jr?jr.append(qt,Pr):Pr.def(Bn,".next"),bn||Pr("if(",qt,"!==",Bn,".cur){"),Pr("if(",qt,"){",vn,".bindFramebuffer(",36160,",",qt,".framebuffer);"),gn&&Pr(In,".drawBuffersWEBGL(",Tn,"[",qt,".colorAttachments.length]);"),Pr("}else{",vn,".bindFramebuffer(",36160,",null);"),gn&&Pr(In,".drawBuffersWEBGL(",Br,");"),Pr("}",Bn,".cur=",qt,";"),bn||Pr("}")}function $r(qt,Pr,jr){var bn=qt.shared,vn=bn.gl,Bn=qt.current,In=qt.next,Tn=bn.current,Br=bn.next,Or=qt.cond(Tn,".dirty");Nn.forEach(function(Gr){var Mn,Zn;if(!((Gr=wr(Gr))in jr.state))if(Gr in In){Mn=In[Gr],Zn=Bn[Gr];var fi=c(Dn[Gr].length,function(dn){return Or.def(Mn,"[",dn,"]")});Or(qt.cond(fi.map(function(dn,_n){return dn+"!=="+Zn+"["+_n+"]"}).join("||")).then(vn,".",Qn[Gr],"(",fi,");",fi.map(function(dn,_n){return Zn+"["+_n+"]="+dn}).join(";"),";"))}else Mn=Or.def(Br,".",Gr),fi=qt.cond(Mn,"!==",Tn,".",Gr),Or(fi),Gr in zn?fi(qt.cond(Mn).then(vn,".enable(",zn[Gr],");").else(vn,".disable(",zn[Gr],");"),Tn,".",Gr,"=",Mn,";"):fi(vn,".",Qn[Gr],"(",Mn,");",Tn,".",Gr,"=",Mn,";")}),0===Object.keys(jr.state).length&&Or(Tn,".dirty=false;"),Pr(Or)}function Qr(qt,Pr,jr,bn){var Br,vn=qt.shared,Bn=qt.current,In=vn.current,Tn=vn.gl;K(Object.keys(jr)).forEach(function(Or){var Gr=jr[Or];if(!bn||bn(Gr)){var Mn=Gr.append(qt,Pr);if(zn[Or]){var Zn=zn[Or];q(Gr)?(Br=qt.link(Mn,{stable:!0}),Pr(qt.cond(Br).then(Tn,".enable(",Zn,");").else(Tn,".disable(",Zn,");")),Pr(In,".",Or,"=",Br,";")):(Pr(qt.cond(Mn).then(Tn,".enable(",Zn,");").else(Tn,".disable(",Zn,");")),Pr(In,".",Or,"=",Mn,";"))}else if(T(Mn)){var fi=Bn[Or];Pr(Tn,".",Qn[Or],"(",Mn,");",Mn.map(function(dn,_n){return fi+"["+_n+"]="+dn}).join(";"),";")}else q(Gr)?(Br=qt.link(Mn,{stable:!0}),Pr(Tn,".",Qn[Or],"(",Br,");",In,".",Or,"=",Br,";")):Pr(Tn,".",Qn[Or],"(",Mn,");",In,".",Or,"=",Mn,";")}})}function Wn(qt,Pr){Ir&&(qt.instancing=Pr.def(qt.shared.extensions,".angle_instanced_arrays"))}function An(qt,Pr,jr,bn,vn){function Bn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function In(_n){_n(fi=Pr.def(),"=",Bn(),";"),"string"==typeof vn?_n(Gr,".count+=",vn,";"):_n(Gr,".count++;"),er&&(bn?_n(dn=Pr.def(),"=",Zn,".getNumPendingQueries();"):_n(Zn,".beginQuery(",Gr,");"))}function Tn(_n){_n(Gr,".cpuTime+=",Bn(),"-",fi,";"),er&&(bn?_n(Zn,".pushScopeStats(",dn,",",Zn,".getNumPendingQueries(),",Gr,");"):_n(Zn,".endQuery();"))}function Br(_n){var gi=Pr.def(Mn,".profile");Pr(Mn,".profile=",_n,";"),Pr.exit(Mn,".profile=",gi,";")}var fi,dn,Or=qt.shared,Gr=qt.stats,Mn=Or.current,Zn=Or.timer;if(jr=jr.profile){if(q(jr))return void(jr.enable?(In(Pr),Tn(Pr.exit),Br("true")):Br("false"));Br(jr=jr.append(qt,Pr))}else jr=Pr.def(Mn,".profile");In(Or=qt.block()),Pr("if(",jr,"){",Or,"}"),Tn(qt=qt.block()),Pr.exit("if(",jr,"){",qt,"}")}function Tr(qt,Pr,jr,bn,vn){var Tn=qt.shared;bn.forEach(function(Br){var Mn,Or=Br.name,Gr=jr.attributes[Or];if(Gr){if(!vn(Gr))return;Mn=Gr.append(qt,Pr)}else{if(!vn(Qt))return;var Zn=qt.scopeAttrib(Or);Mn={},Object.keys(new si).forEach(function(fi){Mn[fi]=Pr.def(Zn,".",fi)})}!function In(Br,Or,Gr){function Mn(){Pr("if(!",_n,".buffer){",fi,".enableVertexAttribArray(",dn,");}");var mi,Mi=Gr.type;mi=Gr.size?Pr.def(Gr.size,"||",Or):Or,Pr("if(",_n,".type!==",Mi,"||",_n,".size!==",mi,"||",Fi.map(function(Vo){return _n+"."+Vo+"!=="+Gr[Vo]}).join("||"),"){",fi,".bindBuffer(",34962,",",gi,".buffer);",fi,".vertexAttribPointer(",[dn,mi,Mi,Gr.normalized,Gr.stride,Gr.offset],");",_n,".type=",Mi,";",_n,".size=",mi,";",Fi.map(function(Vo){return _n+"."+Vo+"="+Gr[Vo]+";"}).join(""),"}"),Ir&&Pr("if(",_n,".divisor!==",Mi=Gr.divisor,"){",qt.instancing,".vertexAttribDivisorANGLE(",[dn,Mi],");",_n,".divisor=",Mi,";}")}function Zn(){Pr("if(",_n,".buffer){",fi,".disableVertexAttribArray(",dn,");",_n,".buffer=null;","}if(",ft.map(function(Mi,mi){return _n+"."+Mi+"!=="+wi[mi]}).join("||"),"){",fi,".vertexAttrib4f(",dn,",",wi,");",ft.map(function(Mi,mi){return _n+"."+Mi+"="+wi[mi]+";"}).join(""),"}")}var fi=Tn.gl,dn=Pr.def(Br,".location"),_n=Pr.def(Tn.attributes,"[",dn,"]"),gi=Gr.buffer,wi=[Gr.x,Gr.y,Gr.z,Gr.w],Fi=["buffer","normalized","offset","stride"];1===(Br=Gr.state)?Mn():2===Br?Zn():(Pr("if(",Br,"===",1,"){"),Mn(),Pr("}else{"),Zn(),Pr("}"))}(qt.link(Br),function Bn(Br){switch(Br){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Br.info.type),Mn)})}function nr(qt,Pr,jr,bn,vn,Bn){for(var Br,In=qt.shared,Tn=In.gl,Or=0;Or<bn.length;++Or){var dn,Gr=(fi=bn[Or]).name,Mn=fi.info.type,Zn=jr.uniforms[Gr],fi=qt.link(fi)+".location";if(Zn){if(!vn(Zn))continue;if(q(Zn)){if(Gr=Zn.value,35678===Mn||35680===Mn)Pr(Tn,".uniform1i(",fi,",",(Mn=qt.link(Gr._texture||Gr.color[0]._texture))+".bind());"),Pr.exit(Mn,".unbind();");else if(35674===Mn||35675===Mn||35676===Mn)Zn=2,35675===Mn?Zn=3:35676===Mn&&(Zn=4),Pr(Tn,".uniformMatrix",Zn,"fv(",fi,",false,",Gr=qt.global.def("new Float32Array(["+Array.prototype.slice.call(Gr)+"])"),");");else{switch(Mn){case 5126:Br="1f";break;case 35664:Br="2f";break;case 35665:Br="3f";break;case 35666:Br="4f";break;case 35670:case 5124:Br="1i";break;case 35671:case 35667:Br="2i";break;case 35672:case 35668:Br="3i";break;case 35673:case 35669:Br="4i"}Pr(Tn,".uniform",Br,"(",fi,",",T(Gr)?Array.prototype.slice.call(Gr):Gr,");")}continue}dn=Zn.append(qt,Pr)}else{if(!vn(Qt))continue;dn=Pr.def(In.uniforms,"[",$t.id(Gr),"]")}switch(35678===Mn?Pr("if(",dn,"&&",dn,'._reglType==="framebuffer"){',dn,"=",dn,".color[0];","}"):35680===Mn&&Pr("if(",dn,"&&",dn,'._reglType==="framebufferCube"){',dn,"=",dn,".color[0];","}"),Gr=1,Mn){case 35678:case 35680:Mn=Pr.def(dn,"._texture"),Pr(Tn,".uniform1i(",fi,",",Mn,".bind());"),Pr.exit(Mn,".unbind();");continue;case 5124:case 35670:Br="1i";break;case 35667:case 35671:Br="2i",Gr=2;break;case 35668:case 35672:Br="3i",Gr=3;break;case 35669:case 35673:Br="4i",Gr=4;break;case 5126:Br="1f";break;case 35664:Br="2f",Gr=2;break;case 35665:Br="3f",Gr=3;break;case 35666:Br="4f",Gr=4;break;case 35674:Br="Matrix2fv";break;case 35675:Br="Matrix3fv";break;case 35676:Br="Matrix4fv"}if("M"===Br.charAt(0)){Pr(Tn,".uniform",Br,"(",fi,","),fi=Math.pow(Mn-35674+2,2);var _n=qt.global.def("new Float32Array(",fi,")");Array.isArray(dn)?Pr("false,(",c(fi,function(Fi){return _n+"["+Fi+"]="+dn[Fi]}),",",_n,")"):Pr("false,(Array.isArray(",dn,")||",dn," instanceof Float32Array)?",dn,":(",c(fi,function(Fi){return _n+"["+Fi+"]="+dn+"["+Fi+"]"}),",",_n,")"),Pr(");")}else{if(1<Gr){Mn=[];var gi=[];for(Zn=0;Zn<Gr;++Zn)Array.isArray(dn)?gi.push(dn[Zn]):gi.push(Pr.def(dn+"["+Zn+"]")),Bn&&Mn.push(Pr.def());Bn&&Pr("if(!",qt.batchId,"||",Mn.map(function(wi,Fi){return wi+"!=="+gi[Fi]}).join("||"),"){",Mn.map(function(wi,Fi){return wi+"="+gi[Fi]+";"}).join("")),Pr(Tn,".uniform",Br,"(",fi,",",gi.join(","),");")}else Bn&&(Mn=Pr.def(),Pr("if(!",qt.batchId,"||",Mn,"!==",dn,"){",Mn,"=",dn,";")),Pr(Tn,".uniform",Br,"(",fi,",",dn,");");Bn&&Pr("}")}}}function Xr(qt,Pr,jr,bn){function vn(Mi){var mi=Gr[Mi];return mi?mi.append(qt,mi.contextDep&&bn.contextDynamic||mi.propDep?jr:Pr):Pr.def(Or,".",Mi)}function Bn(){function Mi(){jr(gi,".drawElementsInstancedANGLE(",[Zn,dn,wi,fi+"<<(("+wi+"-5121)>>1)",_n],");")}function mi(){jr(gi,".drawArraysInstancedANGLE(",[Zn,fi,dn,_n],");")}Mn&&"null"!==Mn?Fi?Mi():(jr("if(",Mn,"){"),Mi(),jr("}else{"),mi(),jr("}")):mi()}function In(){function Mi(){jr(Br+".drawElements("+[Zn,dn,wi,fi+"<<(("+wi+"-5121)>>1)"]+");")}function mi(){jr(Br+".drawArrays("+[Zn,fi,dn]+");")}Mn&&"null"!==Mn?Fi?Mi():(jr("if(",Mn,"){"),Mi(),jr("}else{"),mi(),jr("}")):mi()}var Mi,mi,_n,gi,Tn=qt.shared,Br=Tn.gl,Or=Tn.draw,Gr=bn.draw,Mn=(mi=Pr,(Mi=Gr.elements)?((Mi.contextDep&&bn.contextDynamic||Mi.propDep)&&(mi=jr),Mi=Mi.append(qt,mi),Gr.elementsActive&&mi("if("+Mi+")"+Br+".bindBuffer(34963,"+Mi+".buffer.buffer);")):(Mi=mi.def(),mi(Mi,"=",Or,".","elements",";","if(",Mi,"){",Br,".bindBuffer(",34963,",",Mi,".buffer.buffer);}","else if(",Tn.vao,".currentVAO){",Mi,"=",qt.shared.elements+".getElements("+Tn.vao,".currentVAO.elements);",pn?"":"if("+Mi+")"+Br+".bindBuffer(34963,"+Mi+".buffer.buffer);","}")),Mi),Zn=vn("primitive"),fi=vn("offset"),dn=function(){var Mi=Gr.count,mi=Pr;return Mi?((Mi.contextDep&&bn.contextDynamic||Mi.propDep)&&(mi=jr),Mi=Mi.append(qt,mi)):Mi=mi.def(Or,".","count"),Mi}();if("number"==typeof dn){if(0===dn)return}else jr("if(",dn,"){"),jr.exit("}");Ir&&(_n=vn("instances"),gi=qt.instancing);var wi=Mn+".type",Fi=Gr.elements&&q(Gr.elements)&&!Gr.vaoActive;Ir&&("number"!=typeof _n||0<=_n)?"string"==typeof _n?(jr("if(",_n,">0){"),Bn(),jr("}else if(",_n,"<0){"),In(),jr("}")):Bn():In()}function Ur(qt,Pr,jr,bn,vn){return vn=(Pr=zt()).proc("body",vn),Ir&&(Pr.instancing=vn.def(Pr.shared.extensions,".angle_instanced_arrays")),qt(Pr,vn,jr,bn),Pr.compile().body}function an(qt,Pr,jr,bn){Wn(qt,Pr),jr.useVAO?jr.drawVAO?Pr(qt.shared.vao,".setVAO(",jr.drawVAO.append(qt,Pr),");"):Pr(qt.shared.vao,".setVAO(",qt.shared.vao,".targetVAO);"):(Pr(qt.shared.vao,".setVAO(null);"),Tr(qt,Pr,jr,bn.attributes,function(){return!0})),nr(qt,Pr,jr,bn.uniforms,function(){return!0},!1),Xr(qt,Pr,Pr,jr)}function En(qt,Pr,jr,bn){function vn(){return!0}qt.batchId="a1",Wn(qt,Pr),Tr(qt,Pr,jr,bn.attributes,vn),nr(qt,Pr,jr,bn.uniforms,vn,!1),Xr(qt,Pr,Pr,jr)}function Fn(qt,Pr,jr,bn){function vn(Mn){return Mn.contextDep&&In||Mn.propDep}function Bn(Mn){return!vn(Mn)}Wn(qt,Pr);var In=jr.contextDep,Tn=Pr.def(),Br=Pr.def();qt.shared.props=Br,qt.batchId=Tn;var Or=qt.scope(),Gr=qt.scope();Pr(Or.entry,"for(",Tn,"=0;",Tn,"<","a1",";++",Tn,"){",Br,"=","a0","[",Tn,"];",Gr,"}",Or.exit),jr.needsContext&&Nr(qt,Gr,jr.context),jr.needsFramebuffer&&Yr(qt,Gr,jr.framebuffer),Qr(qt,Gr,jr.state,vn),jr.profile&&vn(jr.profile)&&An(qt,Gr,jr,!1,!0),bn?(jr.useVAO?jr.drawVAO?vn(jr.drawVAO)?Gr(qt.shared.vao,".setVAO(",jr.drawVAO.append(qt,Gr),");"):Or(qt.shared.vao,".setVAO(",jr.drawVAO.append(qt,Or),");"):Or(qt.shared.vao,".setVAO(",qt.shared.vao,".targetVAO);"):(Or(qt.shared.vao,".setVAO(null);"),Tr(qt,Or,jr,bn.attributes,Bn),Tr(qt,Gr,jr,bn.attributes,vn)),nr(qt,Or,jr,bn.uniforms,Bn,!1),nr(qt,Gr,jr,bn.uniforms,vn,!0),Xr(qt,Or,Gr,jr)):(Pr=qt.global.def("{}"),bn=jr.shader.progVar.append(qt,Gr),Br=Gr.def(bn,".id"),Or=Gr.def(Pr,"[",Br,"]"),Gr(qt.shared.gl,".useProgram(",bn,".program);","if(!",Or,"){",Or,"=",Pr,"[",Br,"]=",qt.link(function(Mn){return Ur(En,qt,jr,Mn,2)}),"(",bn,");}",Or,".call(this,a0[",Tn,"],",Tn,");"))}function bi(qt,Pr,jr){var vn=Pr.static[jr];if(vn&&function li(qt){if("object"==typeof qt&&!T(qt)){for(var Pr=Object.keys(qt),jr=0;jr<Pr.length;++jr)if(we.isDynamic(qt[Pr[jr]]))return!0;return!1}}(vn)){var Bn=qt.global,In=Object.keys(vn),Tn=!1,Br=!1,Or=!1,Gr=qt.global.def("{}");In.forEach(function(Mn){var Zn=vn[Mn];if(we.isDynamic(Zn))"function"==typeof Zn&&(Zn=vn[Mn]=we.unbox(Zn)),Mn=re(Zn,null),Tn=Tn||Mn.thisDep,Or=Or||Mn.propDep,Br=Br||Mn.contextDep;else{switch(Bn(Gr,".",Mn,"="),typeof Zn){case"number":Bn(Zn);break;case"string":Bn('"',Zn,'"');break;case"object":Array.isArray(Zn)&&Bn("[",Zn.join(),"]");break;default:Bn(qt.link(Zn))}Bn(";")}}),Pr.dynamic[jr]=new we.DynamicVariable(4,{thisDep:Tn,contextDep:Br,propDep:Or,ref:Gr,append:function bn(Mn,Zn){In.forEach(function(fi){var dn=vn[fi];we.isDynamic(dn)&&(dn=Mn.invoke(Zn,dn),Zn(Gr,".",fi,"=",dn,";"))})}}),delete Pr.static[jr]}}var si=Ft.Record,hi={add:32774,subtract:32778,"reverse subtract":32779};rr.ext_blend_minmax&&(hi.min=32775,hi.max=32776);var Ir=rr.angle_instanced_arrays,gn=rr.webgl_draw_buffers,pn=rr.oes_vertex_array_object,Dn={dirty:!0,profile:hr.profile},qn={},Nn=[],zn={},Qn={};$e("dither",3024),$e("blend.enable",3042),Ze("blend.color","blendColor",[0,0,0,0]),Ze("blend.equation","blendEquationSeparate",[32774,32774]),Ze("blend.func","blendFuncSeparate",[1,0,1,0]),$e("depth.enable",2929,!0),Ze("depth.func","depthFunc",513),Ze("depth.range","depthRange",[0,1]),Ze("depth.mask","depthMask",!0),Ze("colorMask","colorMask",[!0,!0,!0,!0]),$e("cull.enable",2884),Ze("cull.face","cullFace",1029),Ze("frontFace","frontFace",2305),Ze("lineWidth","lineWidth",1),$e("polygonOffset.enable",32823),Ze("polygonOffset.offset","polygonOffset",[0,0]),$e("sample.alpha",32926),$e("sample.enable",32928),Ze("sample.coverage","sampleCoverage",[1,!1]),$e("stencil.enable",2960),Ze("stencil.mask","stencilMask",-1),Ze("stencil.func","stencilFunc",[519,0,-1]),Ze("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ze("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),$e("scissor.enable",3089),Ze("scissor.box","scissor",[0,0,wt.drawingBufferWidth,wt.drawingBufferHeight]),Ze("viewport","viewport",[0,0,wt.drawingBufferWidth,wt.drawingBufferHeight]);var ii={gl:wt,context:jt,strings:$t,next:qn,current:Dn,draw:Gt,elements:bt,buffer:mr,shader:Rt,attributes:Ft.state,vao:Ft,uniforms:It,framebuffer:At,extensions:rr,timer:er,isBufferArgs:Q},$n={primTypes:We,compareFuncs:ir,blendFuncs:Kt,blendEquations:hi,stencilOps:Lt,glTypes:Qe,orientationType:Ut};gn&&($n.backBuffer=[1029],$n.drawBuffer=c(Lr.maxDrawbuffers,function(qt){return 0===qt?[0]:c(qt,function(Pr){return 36064+Pr})}));var ha=0;return{next:qn,current:Dn,procs:function(){var qt=zt(),Pr=qt.proc("poll"),jr=qt.proc("refresh"),bn=qt.block();Pr(bn),jr(bn);var Tn,vn=(Br=qt.shared).gl,Bn=Br.next,In=Br.current;bn(In,".dirty=false;"),Yr(qt,Pr),Yr(qt,jr,null,!0),Ir&&(Tn=qt.link(Ir)),rr.oes_vertex_array_object&&jr(qt.link(rr.oes_vertex_array_object),".bindVertexArrayOES(null);");var Br=jr.def(Br.attributes),Or=jr.def(0),Gr=qt.cond(Or,".buffer");Gr.then(vn,".enableVertexAttribArray(i);",vn,".bindBuffer(",34962,",",Or,".buffer.buffer);",vn,".vertexAttribPointer(i,",Or,".size,",Or,".type,",Or,".normalized,",Or,".stride,",Or,".offset);").else(vn,".disableVertexAttribArray(i);",vn,".vertexAttrib4f(i,",Or,".x,",Or,".y,",Or,".z,",Or,".w);",Or,".buffer=null;");var Mn=qt.link(Lr.maxAttributes,{stable:!0});return jr("for(var i=0;i<",Mn,";++i){",Or,"=",Br,"[i];",Gr,"}"),Ir&&jr("for(var i=0;i<",Mn,";++i){",Tn,".vertexAttribDivisorANGLE(i,",Br,"[i].divisor);","}"),jr(qt.shared.vao,".currentVAO=null;",qt.shared.vao,".setVAO(",qt.shared.vao,".targetVAO);"),Object.keys(zn).forEach(function(Zn){var fi=zn[Zn],dn=bn.def(Bn,".",Zn),_n=qt.block();_n("if(",dn,"){",vn,".enable(",fi,")}else{",vn,".disable(",fi,")}",In,".",Zn,"=",dn,";"),jr(_n),Pr("if(",dn,"!==",In,".",Zn,"){",_n,"}")}),Object.keys(Qn).forEach(function(Zn){var _n,gi,fi=Qn[Zn],dn=Dn[Zn],wi=qt.block();wi(vn,".",fi,"("),T(dn)?(fi=dn.length,_n=qt.global.def(Bn,".",Zn),gi=qt.global.def(In,".",Zn),wi(c(fi,function(Fi){return _n+"["+Fi+"]"}),");",c(fi,function(Fi){return gi+"["+Fi+"]="+_n+"["+Fi+"];"}).join("")),Pr("if(",c(fi,function(Fi){return _n+"["+Fi+"]!=="+gi+"["+Fi+"]"}).join("||"),"){",wi,"}")):(_n=bn.def(Bn,".",Zn),gi=bn.def(In,".",Zn),wi(_n,");",In,".",Zn,"=",_n,";"),Pr("if(",_n,"!==",gi,"){",wi,"}")),jr(wi)}),qt.compile()}(),compile:function(qt,Pr,jr,bn,vn){var Bn=zt();Bn.stats=Bn.link(vn),Object.keys(Pr.static).forEach(function(Tn){bi(Bn,Pr,Tn)}),gt.forEach(function(Tn){bi(Bn,qt,Tn)});var In=un(qt,Pr,jr,bn);return In.shader.program&&(In.shader.program.attributes.sort(function(Tn,Br){return Tn.name<Br.name?-1:1}),In.shader.program.uniforms.sort(function(Tn,Br){return Tn.name<Br.name?-1:1})),function Cn(qt,Pr){var jr=qt.proc("draw",1);Wn(qt,jr),Nr(qt,jr,Pr.context),Yr(qt,jr,Pr.framebuffer),$r(qt,jr,Pr),Qr(qt,jr,Pr.state),An(qt,jr,Pr,!1,!0);var bn=Pr.shader.progVar.append(qt,jr);if(jr(qt.shared.gl,".useProgram(",bn,".program);"),Pr.shader.program)an(qt,jr,Pr,Pr.shader.program);else{jr(qt.shared.vao,".setVAO(null);");var vn=qt.global.def("{}"),Bn=jr.def(bn,".id"),In=jr.def(vn,"[",Bn,"]");jr(qt.cond(In).then(In,".call(this,a0);").else(In,"=",vn,"[",Bn,"]=",qt.link(function(Tn){return Ur(an,qt,Pr,Tn,1)}),"(",bn,");",In,".call(this,a0);"))}0<Object.keys(Pr.state).length&&jr(qt.shared.current,".dirty=true;"),qt.shared.vao&&jr(qt.shared.vao,".setVAO(null);")}(Bn,In),function vi(qt,Pr){function jr(Tn){var Br=Pr.shader[Tn];Br&&(Br=Br.append(qt,bn),isNaN(Br)?bn.set(vn.shader,"."+Tn,Br):bn.set(vn.shader,"."+Tn,qt.link(Br,{stable:!0})))}var bn=qt.proc("scope",3);qt.batchId="a2";var vn=qt.shared,Bn=vn.current;if(Nr(qt,bn,Pr.context),Pr.framebuffer&&Pr.framebuffer.append(qt,bn),K(Object.keys(Pr.state)).forEach(function(Tn){var Br=Pr.state[Tn],Or=Br.append(qt,bn);T(Or)?Or.forEach(function(Gr,Mn){isNaN(Gr)?bn.set(qt.next[Tn],"["+Mn+"]",Gr):bn.set(qt.next[Tn],"["+Mn+"]",qt.link(Gr,{stable:!0}))}):q(Br)?bn.set(vn.next,"."+Tn,qt.link(Or,{stable:!0})):bn.set(vn.next,"."+Tn,Or)}),An(qt,bn,Pr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(Tn){var Br=Pr.draw[Tn];Br&&(Br=Br.append(qt,bn),isNaN(Br)?bn.set(vn.draw,"."+Tn,Br):bn.set(vn.draw,"."+Tn,qt.link(Br),{stable:!0}))}),Object.keys(Pr.uniforms).forEach(function(Tn){var Br=Pr.uniforms[Tn].append(qt,bn);Array.isArray(Br)&&(Br="["+Br.map(function(Or){return isNaN(Or)?Or:qt.link(Or,{stable:!0})})+"]"),bn.set(vn.uniforms,"["+qt.link($t.id(Tn),{stable:!0})+"]",Br)}),Object.keys(Pr.attributes).forEach(function(Tn){var Br=Pr.attributes[Tn].append(qt,bn),Or=qt.scopeAttrib(Tn);Object.keys(new si).forEach(function(Gr){bn.set(Or,"."+Gr,Br[Gr])})}),Pr.scopeVAO){var In=Pr.scopeVAO.append(qt,bn);isNaN(In)?bn.set(vn.vao,".targetVAO",In):bn.set(vn.vao,".targetVAO",qt.link(In,{stable:!0}))}jr("vert"),jr("frag"),0<Object.keys(Pr.state).length&&(bn(Bn,".dirty=true;"),bn.exit(Bn,".dirty=true;")),bn("a1(",qt.shared.context,",a0,",qt.batchId,");")}(Bn,In),function Vn(qt,Pr){function jr(Or){return Or.contextDep&&vn||Or.propDep}var bn=qt.proc("batch",2);qt.batchId="0",Wn(qt,bn);var vn=!1,Bn=!0;Object.keys(Pr.context).forEach(function(Or){vn=vn||Pr.context[Or].propDep}),vn||(Nr(qt,bn,Pr.context),Bn=!1);var Tn=!1;if((In=Pr.framebuffer)?(In.propDep?vn=Tn=!0:In.contextDep&&vn&&(Tn=!0),Tn||Yr(qt,bn,In)):Yr(qt,bn,null),Pr.state.viewport&&Pr.state.viewport.propDep&&(vn=!0),$r(qt,bn,Pr),Qr(qt,bn,Pr.state,function(Or){return!jr(Or)}),Pr.profile&&jr(Pr.profile)||An(qt,bn,Pr,!1,"a1"),Pr.contextDep=vn,Pr.needsContext=Bn,Pr.needsFramebuffer=Tn,(Bn=Pr.shader.progVar).contextDep&&vn||Bn.propDep)Fn(qt,bn,Pr,null);else if(Bn=Bn.append(qt,bn),bn(qt.shared.gl,".useProgram(",Bn,".program);"),Pr.shader.program)Fn(qt,bn,Pr,Pr.shader.program);else{bn(qt.shared.vao,".setVAO(null);");var In=qt.global.def("{}"),Br=(Tn=bn.def(Bn,".id"),bn.def(In,"[",Tn,"]"));bn(qt.cond(Br).then(Br,".call(this,a0,a1);").else(Br,"=",In,"[",Tn,"]=",qt.link(function(Mn){return Ur(Fn,qt,Pr,Mn,2)}),"(",Bn,");",Br,".call(this,a0,a1);"))}0<Object.keys(Pr.state).length&&bn(qt.shared.current,".dirty=true;"),qt.shared.vao&&bn(qt.shared.vao,".setVAO(null);")}(Bn,In),se(Bn.compile(),{destroy:function(){In.shader.program.destroy()}})}}}function le(wt,$t){for(var rr=0;rr<wt.length;++rr)if(wt[rr]===$t)return rr;return-1}var se=function(wt,$t){for(var rr=Object.keys($t),Lr=0;Lr<rr.length;++Lr)wt[rr[Lr]]=$t[rr[Lr]];return wt},de=0,we={DynamicVariable:J,define:function(wt,$t){return new J(wt,S($t+""))},isDynamic:function(wt){return"function"==typeof wt&&!wt._reglType||wt instanceof J},unbox:function k(wt,$t){return"function"==typeof wt?new J(0,wt):"number"==typeof wt||"boolean"==typeof wt?new J(5,wt):Array.isArray(wt)?new J(6,wt.map(function(rr,Lr){return k(rr,$t+"["+Lr+"]")})):wt instanceof J?wt:void 0},accessor:S},Ee={next:"function"==typeof requestAnimationFrame?function(wt){return requestAnimationFrame(wt)}:function(wt){return setTimeout(wt,16)},cancel:"function"==typeof cancelAnimationFrame?function(wt){return cancelAnimationFrame(wt)}:clearTimeout},Me=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Ne=f();Ne.zero=f();var Pe=function(wt){return wt instanceof Uint8Array||wt instanceof Uint16Array||wt instanceof Uint32Array||wt instanceof Int8Array||wt instanceof Int16Array||wt instanceof Int32Array||wt instanceof Float32Array||wt instanceof Float64Array||wt instanceof Uint8ClampedArray},Ce=function(wt){return Object.keys(wt).map(function($t){return wt[$t]})},Ie={shape:function(wt){for(var $t=[];wt.length;wt=wt[0])$t.push(wt.length);return $t},flatten:function(wt,$t,rr,Lr){var mr=1;if($t.length)for(var bt=0;bt<$t.length;++bt)mr*=$t[bt];else mr=0;switch(rr=Lr||Ne.allocType(rr,mr),$t.length){case 0:break;case 1:for(Lr=$t[0],$t=0;$t<Lr;++$t)rr[$t]=wt[$t];break;case 2:for(Lr=$t[0],$t=$t[1],bt=mr=0;bt<Lr;++bt)for(var ct=wt[bt],At=0;At<$t;++At)rr[mr++]=ct[At];break;case 3:d(wt,$t[0],$t[1],$t[2],rr,0);break;default:b(wt,$t,0,rr,0)}return rr}},Je={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Qe={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ze={dynamic:35048,stream:35040,static:35044},Ke=Ie.flatten,ut=Ie.shape,ot=[];ot[5120]=1,ot[5122]=2,ot[5124]=4,ot[5121]=1,ot[5123]=2,ot[5125]=4,ot[5126]=4;var We={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},je=new Float32Array(1),lt=new Uint32Array(je.buffer),vt=[9984,9986,9985,9987],pt=[0,6409,6410,6407,6408],St={};St[6409]=St[6406]=St[6402]=1,St[34041]=St[6410]=2,St[6407]=St[35904]=3,St[6408]=St[35906]=4;var Ct=L("HTMLCanvasElement"),_t=L("OffscreenCanvas"),nt=L("CanvasRenderingContext2D"),ke=L("ImageBitmap"),Re=L("HTMLImageElement"),Be=L("HTMLVideoElement"),He=Object.keys(Je).concat([Ct,_t,nt,ke,Re,Be]),Ye=[];Ye[5121]=1,Ye[5126]=4,Ye[36193]=2,Ye[5123]=2,Ye[5125]=4;var Ue=[];Ue[32854]=2,Ue[32855]=2,Ue[36194]=2,Ue[34041]=4,Ue[33776]=.5,Ue[33777]=.5,Ue[33778]=1,Ue[33779]=1,Ue[35986]=.5,Ue[35987]=1,Ue[34798]=1,Ue[35840]=.5,Ue[35841]=.25,Ue[35842]=.5,Ue[35843]=.25,Ue[36196]=.5;var De=[];De[32854]=2,De[32855]=2,De[36194]=2,De[33189]=2,De[36168]=1,De[34041]=4,De[35907]=4,De[34836]=16,De[34842]=8,De[34843]=6;var Te=[];Te[6408]=4,Te[6407]=3;var _e=[];_e[5121]=1,_e[5126]=4,_e[36193]=2;var et=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ft=["x","y","z","w"],gt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Kt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},ir={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Lt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ut={cw:2304,ccw:2305},Qt=new Z(!1,!1,!1,function(){});return function(wt){function $t(){if(0===An.length)zt&&zt.update(),Ur=null;else{Ur=Ee.next($t),Rt();for(var Cn=An.length-1;0<=Cn;--Cn){var En=An[Cn];En&&En(ur,null,0)}er.flush(),zt&&zt.update()}}function rr(){!Ur&&0<An.length&&(Ur=Ee.next($t))}function Lr(){Ur&&(Ee.cancel($t),Ur=null)}function mr(Cn){Cn.preventDefault(),Lr(),Tr.forEach(function(En){En()})}function bt(Cn){er.getError(),hr.restore(),Mr.restore(),Ht.restore(),kr.restore(),un.restore(),Nr.restore(),xr.restore(),zt&&zt.restore(),Yr.procs.refresh(),rr(),nr.forEach(function(En){En()})}function ct(Cn){function En(Dn,qn){var Nn={},zn={};return Object.keys(Dn).forEach(function(Qn){var ii=Dn[Qn];if(we.isDynamic(ii))zn[Qn]=we.unbox(ii,Qn);else{if(qn&&Array.isArray(ii))for(var $n=0;$n<ii.length;++$n)if(we.isDynamic(ii[$n]))return void(zn[Qn]=we.unbox(ii,Qn));Nn[Qn]=ii}}),{dynamic:zn,static:Nn}}var Vn=En(Cn.context||{},!0),vi=En(Cn.uniforms||{},!0),li=En(Cn.attributes||{},!1);Cn=En(function(Dn){function qn(zn){if(zn in Nn){var Qn=Nn[zn];delete Nn[zn],Object.keys(Qn).forEach(function(ii){Nn[zn+"."+ii]=Qn[ii]})}}var Nn=se({},Dn);return delete Nn.uniforms,delete Nn.attributes,delete Nn.context,delete Nn.vao,"stencil"in Nn&&Nn.stencil.op&&(Nn.stencil.opBack=Nn.stencil.opFront=Nn.stencil.op,delete Nn.stencil.op),qn("blend"),qn("depth"),qn("cull"),qn("stencil"),qn("polygonOffset"),qn("scissor"),qn("sample"),"vao"in Dn&&(Nn.vao=Dn.vao),Nn}(Cn),!1);var bi={gpuTime:0,cpuTime:0,count:0},si=Yr.compile(Cn,li,vi,Vn,bi),hi=si.draw,Ir=si.batch,gn=si.scope,pn=[];return se(function(Dn,qn){var Nn;if("function"==typeof Dn)return gn.call(this,null,Dn,0);if("function"==typeof qn)if("number"==typeof Dn)for(Nn=0;Nn<Dn;++Nn)gn.call(this,null,qn,Nn);else{if(!Array.isArray(Dn))return gn.call(this,Dn,qn,0);for(Nn=0;Nn<Dn.length;++Nn)gn.call(this,Dn[Nn],qn,Nn)}else if("number"==typeof Dn){if(0<Dn)return Ir.call(this,function Fn(Dn){for(;pn.length<Dn;)pn.push(null);return pn}(0|Dn),0|Dn)}else{if(!Array.isArray(Dn))return hi.call(this,Dn);if(Dn.length)return Ir.call(this,Dn,Dn.length)}},{stats:bi,destroy:function(){si.destroy()}})}function At(Cn,En){var Fn=0;Yr.procs.poll();var Vn=En.color;Vn&&(er.clearColor(+Vn[0]||0,+Vn[1]||0,+Vn[2]||0,+Vn[3]||0),Fn|=16384),"depth"in En&&(er.clearDepth(+En.depth),Fn|=256),"stencil"in En&&(er.clearStencil(0|En.stencil),Fn|=1024),er.clear(Fn)}function It(Cn){return An.push(Cn),rr(),{cancel:function(){var Fn=le(An,Cn);An[Fn]=function En(){var Vn=le(An,En);An[Vn]=An[An.length-1],--An.length,0>=An.length&&Lr()}}}}function Ft(){var Cn=Qr.viewport,En=Qr.scissor_box;Cn[0]=Cn[1]=En[0]=En[1]=0,ur.viewportWidth=ur.framebufferWidth=ur.drawingBufferWidth=Cn[2]=En[2]=er.drawingBufferWidth,ur.viewportHeight=ur.framebufferHeight=ur.drawingBufferHeight=Cn[3]=En[3]=er.drawingBufferHeight}function Rt(){ur.tick+=1,ur.time=jt(),Ft(),Yr.procs.poll()}function Gt(){kr.refresh(),Ft(),Yr.procs.refresh(),zt&&zt.update()}function jt(){return(Me()-kt)/1e3}if(!(wt=r(wt)))return null;var er=wt.gl,dr=er.getContextAttributes();er.isContextLost();var hr=function n(wt,$t){function rr(ct){var At;ct=ct.toLowerCase();try{At=Lr[ct]=wt.getExtension(ct)}catch{}return!!At}for(var Lr={},mr=0;mr<$t.extensions.length;++mr){var bt=$t.extensions[mr];if(!rr(bt))return $t.onDestroy(),$t.onDone('"'+bt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return $t.optionalExtensions.forEach(rr),{extensions:Lr,restore:function(){Object.keys(Lr).forEach(function(ct){if(Lr[ct]&&!rr(ct))throw Error("(regl): error restoring extension "+ct)})}}}(er,wt);if(!hr)return null;var $r=function l(){var wt={"":0},$t=[""];return{id:function(rr){var Lr=wt[rr];return Lr||(Lr=wt[rr]=$t.length,$t.push(rr),Lr)},str:function(rr){return $t[rr]}}}(),wr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},$e=wt.cachedCode||{},Ze=hr.extensions,zt=function(wt,$t){function rr(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function Lr(Rt,Gt,jt){var er=ct.pop()||new rr;er.startQueryIndex=Rt,er.endQueryIndex=Gt,er.sum=0,er.stats=jt,At.push(er)}if(!$t.ext_disjoint_timer_query)return null;var mr=[],bt=[],ct=[],At=[],It=[],Ft=[];return{beginQuery:function(Rt){var Gt=mr.pop()||$t.ext_disjoint_timer_query.createQueryEXT();$t.ext_disjoint_timer_query.beginQueryEXT(35007,Gt),bt.push(Gt),Lr(bt.length-1,bt.length,Rt)},endQuery:function(){$t.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Lr,update:function(){var Rt,Gt;if(0!==(Rt=bt.length)){Ft.length=Math.max(Ft.length,Rt+1),It.length=Math.max(It.length,Rt+1),It[0]=0;var jt=Ft[0]=0;for(Gt=Rt=0;Gt<bt.length;++Gt)$t.ext_disjoint_timer_query.getQueryObjectEXT(er=bt[Gt],34919)?(jt+=$t.ext_disjoint_timer_query.getQueryObjectEXT(er,34918),mr.push(er)):bt[Rt++]=er,It[Gt+1]=jt,Ft[Gt+1]=Rt;for(bt.length=Rt,Gt=Rt=0;Gt<At.length;++Gt){var er,dr=(jt=At[Gt]).startQueryIndex;jt.sum+=It[er=jt.endQueryIndex]-It[dr],(er=Ft[er])===(dr=Ft[dr])?(jt.stats.gpuTime+=jt.sum/1e6,ct.push(jt)):(jt.startQueryIndex=dr,jt.endQueryIndex=er,At[Rt++]=jt)}At.length=Rt}},getNumPendingQueries:function(){return bt.length},clear:function(){mr.push.apply(mr,bt);for(var Rt=0;Rt<mr.length;Rt++)$t.ext_disjoint_timer_query.deleteQueryEXT(mr[Rt]);bt.length=0,mr.length=0},restore:function(){bt.length=0,mr.length=0}}}(0,Ze),kt=Me(),Xt=er.drawingBufferHeight,ur={tick:0,time:0,viewportWidth:vr=er.drawingBufferWidth,viewportHeight:Xt,framebufferWidth:vr,framebufferHeight:Xt,drawingBufferWidth:vr,drawingBufferHeight:Xt,pixelRatio:wt.pixelRatio},vr={elements:null,primitive:4,count:-1,offset:0,instances:-1},or=function(wt,$t){var rr=1;$t.ext_texture_filter_anisotropic&&(rr=wt.getParameter(34047));var Lr=1,mr=1;$t.webgl_draw_buffers&&(Lr=wt.getParameter(34852),mr=wt.getParameter(36063));var bt=!!$t.oes_texture_float;if(bt){bt=wt.createTexture(),wt.bindTexture(3553,bt),wt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ct=wt.createFramebuffer();if(wt.bindFramebuffer(36160,ct),wt.framebufferTexture2D(36160,36064,3553,bt,0),wt.bindTexture(3553,null),36053!==wt.checkFramebufferStatus(36160))bt=!1;else{wt.viewport(0,0,1,1),wt.clearColor(1,0,0,1),wt.clear(16384);var At=Ne.allocType(5126,4);wt.readPixels(0,0,1,1,6408,5126,At),wt.getError()?bt=!1:(wt.deleteFramebuffer(ct),wt.deleteTexture(bt),bt=1===At[0]),Ne.freeType(At)}}return At=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(At=wt.createTexture(),ct=Ne.allocType(5121,36),wt.activeTexture(33984),wt.bindTexture(34067,At),wt.texImage2D(34069,0,6408,3,3,0,6408,5121,ct),Ne.freeType(ct),wt.bindTexture(34067,null),wt.deleteTexture(At),At=!wt.getError()),{colorBits:[wt.getParameter(3410),wt.getParameter(3411),wt.getParameter(3412),wt.getParameter(3413)],depthBits:wt.getParameter(3414),stencilBits:wt.getParameter(3415),subpixelBits:wt.getParameter(3408),extensions:Object.keys($t).filter(function(It){return!!$t[It]}),maxAnisotropic:rr,maxDrawbuffers:Lr,maxColorAttachments:mr,pointSizeDims:wt.getParameter(33901),lineWidthDims:wt.getParameter(33902),maxViewportDims:wt.getParameter(3386),maxCombinedTextureUnits:wt.getParameter(35661),maxCubeMapSize:wt.getParameter(34076),maxRenderbufferSize:wt.getParameter(34024),maxTextureUnits:wt.getParameter(34930),maxTextureSize:wt.getParameter(3379),maxAttributes:wt.getParameter(34921),maxVertexUniforms:wt.getParameter(36347),maxVertexTextureUnits:wt.getParameter(35660),maxVaryingVectors:wt.getParameter(36348),maxFragmentUniforms:wt.getParameter(36349),glsl:wt.getParameter(35724),renderer:wt.getParameter(7937),vendor:wt.getParameter(7936),version:wt.getParameter(7938),readFloat:bt,npotTextureCube:At}}(er,Ze),Ht=function u(wt,$t,rr,Lr){function mr(Gt){this.id=It++,this.buffer=wt.createBuffer(),this.type=Gt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,rr.profile&&(this.stats={size:0})}function bt(Gt,jt,er){Gt.byteLength=jt.byteLength,wt.bufferData(Gt.type,jt,er)}function ct(Gt,jt,er,dr,hr,wr){if(Gt.usage=er,Array.isArray(jt)){if(Gt.dtype=dr||5126,0<jt.length)if(Array.isArray(jt[0])){hr=ut(jt);for(var $e=dr=1;$e<hr.length;++$e)dr*=hr[$e];Gt.dimension=dr,bt(Gt,jt=Ke(jt,hr,Gt.dtype),er),wr?Gt.persistentData=jt:Ne.freeType(jt)}else"number"==typeof jt[0]?(Gt.dimension=hr,A(hr=Ne.allocType(Gt.dtype,jt.length),jt),bt(Gt,hr,er),wr?Gt.persistentData=hr:Ne.freeType(hr)):Pe(jt[0])&&(Gt.dimension=jt[0].length,Gt.dtype=dr||p(jt[0])||5126,bt(Gt,jt=Ke(jt,[jt.length,jt[0].length],Gt.dtype),er),wr?Gt.persistentData=jt:Ne.freeType(jt))}else if(Pe(jt))Gt.dtype=dr||p(jt),Gt.dimension=hr,bt(Gt,jt,er),wr&&(Gt.persistentData=new Uint8Array(new Uint8Array(jt.buffer)));else if(h(jt)){var Ze=jt.stride,zt=($e=jt.offset,0),kt=0,Xt=0,ur=0;1===(hr=jt.shape).length?(zt=hr[0],kt=1,Xt=Ze[0],ur=0):2===hr.length&&(zt=hr[0],kt=hr[1],Xt=Ze[0],ur=Ze[1]),Gt.dtype=dr||p(jt.data)||5126,Gt.dimension=kt,m(hr=Ne.allocType(Gt.dtype,zt*kt),jt.data,zt,kt,Xt,ur,$e),bt(Gt,hr,er),wr?Gt.persistentData=hr:Ne.freeType(hr)}else jt instanceof ArrayBuffer&&(Gt.dtype=5121,Gt.dimension=hr,bt(Gt,jt,er),wr&&(Gt.persistentData=new Uint8Array(new Uint8Array(jt))))}function At(Gt){$t.bufferCount--,Lr(Gt),wt.deleteBuffer(Gt.buffer),Gt.buffer=null,delete Ft[Gt.id]}var It=0,Ft={};mr.prototype.bind=function(){wt.bindBuffer(this.type,this.buffer)},mr.prototype.destroy=function(){At(this)};var Rt=[];return rr.profile&&($t.getTotalBufferSize=function(){var Gt=0;return Object.keys(Ft).forEach(function(jt){Gt+=Ft[jt].stats.size}),Gt}),{create:function(Gt,jt,er,dr){function hr($e){var Ze=35044,zt=null,kt=0,Xt=0,ur=1;return Array.isArray($e)||Pe($e)||h($e)||$e instanceof ArrayBuffer?zt=$e:"number"==typeof $e?kt=0|$e:$e&&("data"in $e&&(zt=$e.data),"usage"in $e&&(Ze=ze[$e.usage]),"type"in $e&&(Xt=Qe[$e.type]),"dimension"in $e&&(ur=0|$e.dimension),"length"in $e&&(kt=0|$e.length)),wr.bind(),zt?ct(wr,zt,Ze,Xt,ur,dr):(kt&&wt.bufferData(wr.type,kt,Ze),wr.dtype=Xt||5121,wr.usage=Ze,wr.dimension=ur,wr.byteLength=kt),rr.profile&&(wr.stats.size=wr.byteLength*ot[wr.dtype]),hr}$t.bufferCount++;var wr=new mr(jt);return Ft[wr.id]=wr,er||hr(Gt),hr._reglType="buffer",hr._buffer=wr,hr.subdata=function($e,Ze){var kt,zt=0|(Ze||0);if(wr.bind(),Pe($e)||$e instanceof ArrayBuffer)wt.bufferSubData(wr.type,zt,$e);else if(Array.isArray($e)){if(0<$e.length)if("number"==typeof $e[0]){var Xt=Ne.allocType(wr.dtype,$e.length);A(Xt,$e),wt.bufferSubData(wr.type,zt,Xt),Ne.freeType(Xt)}else(Array.isArray($e[0])||Pe($e[0]))&&(kt=ut($e),Xt=Ke($e,kt,wr.dtype),wt.bufferSubData(wr.type,zt,Xt),Ne.freeType(Xt))}else if(h($e)){var ur=$e.stride,vr=Xt=0,or=0,Ht=0;1===(kt=$e.shape).length?(Xt=kt[0],vr=1,or=ur[0],Ht=0):2===kt.length&&(Xt=kt[0],vr=kt[1],or=ur[0],Ht=ur[1]),kt=Array.isArray($e.data)?wr.dtype:p($e.data),m(kt=Ne.allocType(kt,Xt*vr),$e.data,Xt,vr,or,Ht,$e.offset),wt.bufferSubData(wr.type,zt,kt),Ne.freeType(kt)}return hr},rr.profile&&(hr.stats=wr.stats),hr.destroy=function(){At(wr)},hr},createStream:function(Gt,jt){var er=Rt.pop();return er||(er=new mr(Gt)),er.bind(),ct(er,jt,35040,0,1,!1),er},destroyStream:function(Gt){Rt.push(Gt)},clear:function(){Ce(Ft).forEach(At),Rt.forEach(At)},getBuffer:function(Gt){return Gt&&Gt._buffer instanceof mr?Gt._buffer:null},restore:function(){Ce(Ft).forEach(function(Gt){Gt.buffer=wt.createBuffer(),wt.bindBuffer(Gt.type,Gt.buffer),wt.bufferData(Gt.type,Gt.persistentData||Gt.byteLength,Gt.usage)})},_initBuffer:ct}}(er,wr,wt,function(Cn){return xr.destroyBuffer(Cn)}),pr=function g(wt,$t,rr,Lr){function mr(Gt){this.id=It++,At[this.id]=this,this.buffer=Gt,this.primType=4,this.type=this.vertCount=0}function bt(Gt,jt,er,dr,hr,wr,$e){var Ze;if(Gt.buffer.bind(),jt?((Ze=$e)||Pe(jt)&&(!h(jt)||Pe(jt.data))||(Ze=$t.oes_element_index_uint?5125:5123),rr._initBuffer(Gt.buffer,jt,er,Ze,3)):(wt.bufferData(34963,wr,er),Gt.buffer.dtype=Ze||5121,Gt.buffer.usage=er,Gt.buffer.dimension=3,Gt.buffer.byteLength=wr),Ze=$e,!$e){switch(Gt.buffer.dtype){case 5121:case 5120:Ze=5121;break;case 5123:case 5122:Ze=5123;break;case 5125:case 5124:Ze=5125}Gt.buffer.dtype=Ze}Gt.type=Ze,0>(jt=hr)&&(jt=Gt.buffer.byteLength,5123===Ze?jt>>=1:5125===Ze&&(jt>>=2)),Gt.vertCount=jt,jt=dr,0>dr&&(jt=4,1===(dr=Gt.buffer.dimension)&&(jt=0),2===dr&&(jt=1),3===dr&&(jt=4)),Gt.primType=jt}function ct(Gt){Lr.elementsCount--,delete At[Gt.id],Gt.buffer.destroy(),Gt.buffer=null}var At={},It=0,Ft={uint8:5121,uint16:5123};$t.oes_element_index_uint&&(Ft.uint32=5125),mr.prototype.bind=function(){this.buffer.bind()};var Rt=[];return{create:function(Gt,jt){function er(wr){if(wr)if("number"==typeof wr)dr(wr),hr.primType=4,hr.vertCount=0|wr,hr.type=5121;else{var $e=null,Ze=35044,zt=-1,kt=-1,Xt=0,ur=0;Array.isArray(wr)||Pe(wr)||h(wr)?$e=wr:("data"in wr&&($e=wr.data),"usage"in wr&&(Ze=ze[wr.usage]),"primitive"in wr&&(zt=We[wr.primitive]),"count"in wr&&(kt=0|wr.count),"type"in wr&&(ur=Ft[wr.type]),"length"in wr?Xt=0|wr.length:(Xt=kt,5123===ur||5122===ur?Xt*=2:(5125===ur||5124===ur)&&(Xt*=4))),bt(hr,$e,Ze,zt,kt,Xt,ur)}else dr(),hr.primType=4,hr.vertCount=0,hr.type=5121;return er}var dr=rr.create(null,34963,!0),hr=new mr(dr._buffer);return Lr.elementsCount++,er(Gt),er._reglType="elements",er._elements=hr,er.subdata=function(wr,$e){return dr.subdata(wr,$e),er},er.destroy=function(){ct(hr)},er},createStream:function(Gt){var jt=Rt.pop();return jt||(jt=new mr(rr.create(null,34963,!0,!1)._buffer)),bt(jt,Gt,35040,-1,-1,0,0),jt},destroyStream:function(Gt){Rt.push(Gt)},getElements:function(Gt){return"function"==typeof Gt&&Gt._elements instanceof mr?Gt._elements:null},clear:function(){Ce(At).forEach(ct)}}}(er,Ze,Ht,wr),xr=function z(wt,$t,rr,Lr,mr,bt,ct){function Rt(){this.id=++dr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var $e=$t.oes_vertex_array_object;this.vao=$e?$e.createVertexArrayOES():null,hr[this.id]=this,this.buffers=[]}var jt=rr.maxAttributes,er=Array(jt);for(rr=0;rr<jt;++rr)er[rr]=new _;var dr=0,hr={},wr={Record:_,scope:{},state:er,currentVAO:null,targetVAO:null,restore:$t.oes_vertex_array_object?function Gt(){$t.oes_vertex_array_object&&Ce(hr).forEach(function($e){$e.refresh()})}:function(){},createVAO:function($e){function Ze(kt){var Xt;Array.isArray(kt)?(Xt=kt,zt.elements&&zt.ownsElements&&zt.elements.destroy(),zt.elements=null,zt.ownsElements=!1,zt.offset=0,zt.count=0,zt.instances=-1,zt.primitive=4):(kt.elements?(Xt=kt.elements,zt.ownsElements?("function"==typeof Xt&&"elements"===Xt._reglType?zt.elements.destroy():zt.elements(Xt),zt.ownsElements=!1):bt.getElements(kt.elements)?(zt.elements=kt.elements,zt.ownsElements=!1):(zt.elements=bt.create(kt.elements),zt.ownsElements=!0)):(zt.elements=null,zt.ownsElements=!1),Xt=kt.attributes,zt.offset=0,zt.count=-1,zt.instances=-1,zt.primitive=4,zt.elements&&(zt.count=zt.elements._elements.vertCount,zt.primitive=zt.elements._elements.primType),"offset"in kt&&(zt.offset=0|kt.offset),"count"in kt&&(zt.count=0|kt.count),"instances"in kt&&(zt.instances=0|kt.instances),"primitive"in kt&&(zt.primitive=We[kt.primitive])),kt={};var ur=zt.attributes;ur.length=Xt.length;for(var vr=0;vr<Xt.length;++vr){var xr,or=Xt[vr],Ht=ur[vr]=new _,pr=or.data||or;Array.isArray(pr)||Pe(pr)||h(pr)?(zt.buffers[vr]&&(xr=zt.buffers[vr],Pe(pr)&&xr._buffer.byteLength>=pr.byteLength?xr.subdata(pr):(xr.destroy(),zt.buffers[vr]=null)),zt.buffers[vr]||(xr=zt.buffers[vr]=mr.create(or,34962,!1,!0)),Ht.buffer=mr.getBuffer(xr),Ht.size=0|Ht.buffer.dimension,Ht.normalized=!1,Ht.type=Ht.buffer.dtype,Ht.offset=0,Ht.stride=0,Ht.divisor=0,Ht.state=1,kt[vr]=1):mr.getBuffer(or)?(Ht.buffer=mr.getBuffer(or),Ht.size=0|Ht.buffer.dimension,Ht.normalized=!1,Ht.type=Ht.buffer.dtype,Ht.offset=0,Ht.stride=0,Ht.divisor=0,Ht.state=1):mr.getBuffer(or.buffer)?(Ht.buffer=mr.getBuffer(or.buffer),Ht.size=0|(+or.size||Ht.buffer.dimension),Ht.normalized=!!or.normalized||!1,Ht.type="type"in or?Qe[or.type]:Ht.buffer.dtype,Ht.offset=0|(or.offset||0),Ht.stride=0|(or.stride||0),Ht.divisor=0|(or.divisor||0),Ht.state=1):"x"in or&&(Ht.x=+or.x||0,Ht.y=+or.y||0,Ht.z=+or.z||0,Ht.w=+or.w||0,Ht.state=2)}for(xr=0;xr<zt.buffers.length;++xr)!kt[xr]&&zt.buffers[xr]&&(zt.buffers[xr].destroy(),zt.buffers[xr]=null);return zt.refresh(),Ze}var zt=new Rt;return Lr.vaoCount+=1,Ze.destroy=function(){for(var kt=0;kt<zt.buffers.length;++kt)zt.buffers[kt]&&zt.buffers[kt].destroy();zt.buffers.length=0,zt.ownsElements&&(zt.elements.destroy(),zt.elements=null,zt.ownsElements=!1),zt.destroy()},Ze._vao=zt,Ze._reglType="vao",Ze($e)},getVAO:function($e){return"function"==typeof $e&&$e._vao?$e._vao:null},destroyBuffer:function($e){for(var Ze=0;Ze<er.length;++Ze){var zt=er[Ze];zt.buffer===$e&&(wt.disableVertexAttribArray(Ze),zt.buffer=null)}},setVAO:$t.oes_vertex_array_object?function At($e){$e!==wr.currentVAO&&($t.oes_vertex_array_object.bindVertexArrayOES($e?$e.vao:null),wr.currentVAO=$e)}:function It($e){if($e!==wr.currentVAO){if($e)$e.bindAttrs();else{for(var Ze=$t.angle_instanced_arrays,zt=0;zt<er.length;++zt){var kt=er[zt];kt.buffer?(wt.enableVertexAttribArray(zt),kt.buffer.bind(),wt.vertexAttribPointer(zt,kt.size,kt.type,kt.normalized,kt.stride,kt.offfset),Ze&&kt.divisor&&Ze.vertexAttribDivisorANGLE(zt,kt.divisor)):(wt.disableVertexAttribArray(zt),wt.vertexAttrib4f(zt,kt.x,kt.y,kt.z,kt.w))}wt.bindBuffer(34963,ct.elements?ct.elements.buffer.buffer:null)}wr.currentVAO=$e}},clear:$t.oes_vertex_array_object?function Ft(){Ce(hr).forEach(function($e){$e.destroy()})}:function(){}};return Rt.prototype.bindAttrs=function(){for(var $e=$t.angle_instanced_arrays,Ze=this.attributes,zt=0;zt<Ze.length;++zt){var kt=Ze[zt];kt.buffer?(wt.enableVertexAttribArray(zt),wt.bindBuffer(34962,kt.buffer.buffer),wt.vertexAttribPointer(zt,kt.size,kt.type,kt.normalized,kt.stride,kt.offset),$e&&kt.divisor&&$e.vertexAttribDivisorANGLE(zt,kt.divisor)):(wt.disableVertexAttribArray(zt),wt.vertexAttrib4f(zt,kt.x,kt.y,kt.z,kt.w))}for($e=Ze.length;$e<jt;++$e)wt.disableVertexAttribArray($e);($e=bt.getElements(this.elements))?wt.bindBuffer(34963,$e.buffer.buffer):wt.bindBuffer(34963,null)},Rt.prototype.refresh=function(){var $e=$t.oes_vertex_array_object;$e&&($e.bindVertexArrayOES(this.vao),this.bindAttrs(),wr.currentVAO=null,$e.bindVertexArrayOES(null))},Rt.prototype.destroy=function(){if(this.vao){var $e=$t.oes_vertex_array_object;this===wr.currentVAO&&(wr.currentVAO=null,$e.bindVertexArrayOES(null)),$e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),hr[this.id]&&(delete hr[this.id],--Lr.vaoCount)},wr}(er,Ze,or,wr,Ht,pr,vr),Mr=function V(wt,$t,rr,Lr){function mr(dr,hr,wr,$e){this.name=dr,this.id=hr,this.location=wr,this.info=$e}function bt(dr,hr){for(var wr=0;wr<dr.length;++wr)if(dr[wr].id===hr.id)return void(dr[wr].location=hr.location);dr.push(hr)}function ct(dr,hr,wr){if(!($e=(wr=35632===dr?Ft:Rt)[hr])){var Ze=$t.str(hr),$e=wt.createShader(dr);wt.shaderSource($e,Ze),wt.compileShader($e),wr[hr]=$e}return $e}function At(dr,hr){this.id=er++,this.fragId=dr,this.vertId=hr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Lr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function It(dr,hr,wr){var $e;$e=ct(35632,dr.fragId);var Ze=ct(35633,dr.vertId);if(hr=dr.program=wt.createProgram(),wt.attachShader(hr,$e),wt.attachShader(hr,Ze),wr)for($e=0;$e<wr.length;++$e)wt.bindAttribLocation(hr,(Ze=wr[$e])[0],Ze[1]);wt.linkProgram(hr),Ze=wt.getProgramParameter(hr,35718),Lr.profile&&(dr.stats.uniformsCount=Ze);var zt=dr.uniforms;for($e=0;$e<Ze;++$e)if(wr=wt.getActiveUniform(hr,$e))if(1<wr.size)for(var kt=0;kt<wr.size;++kt){var Xt=wr.name.replace("[0]","["+kt+"]");bt(zt,new mr(Xt,$t.id(Xt),wt.getUniformLocation(hr,Xt),wr))}else bt(zt,new mr(wr.name,$t.id(wr.name),wt.getUniformLocation(hr,wr.name),wr));for(Ze=wt.getProgramParameter(hr,35721),Lr.profile&&(dr.stats.attributesCount=Ze),dr=dr.attributes,$e=0;$e<Ze;++$e)(wr=wt.getActiveAttrib(hr,$e))&&bt(dr,new mr(wr.name,$t.id(wr.name),wt.getAttribLocation(hr,wr.name),wr))}var Ft={},Rt={},Gt={},jt=[],er=0;return Lr.profile&&(rr.getMaxUniformsCount=function(){var dr=0;return jt.forEach(function(hr){hr.stats.uniformsCount>dr&&(dr=hr.stats.uniformsCount)}),dr},rr.getMaxAttributesCount=function(){var dr=0;return jt.forEach(function(hr){hr.stats.attributesCount>dr&&(dr=hr.stats.attributesCount)}),dr}),{clear:function(){var dr=wt.deleteShader.bind(wt);Ce(Ft).forEach(dr),Ft={},Ce(Rt).forEach(dr),Rt={},jt.forEach(function(hr){wt.deleteProgram(hr.program)}),jt.length=0,Gt={},rr.shaderCount=0},program:function(dr,hr,wr,$e){var Ze=Gt[hr];Ze||(Ze=Gt[hr]={});var zt=Ze[dr];if(zt&&(zt.refCount++,!$e))return zt;var kt=new At(hr,dr);return rr.shaderCount++,It(kt,wr,$e),zt||(Ze[dr]=kt),jt.push(kt),se(kt,{destroy:function(){if(kt.refCount--,0>=kt.refCount){wt.deleteProgram(kt.program);var Xt=jt.indexOf(kt);jt.splice(Xt,1),rr.shaderCount--}0>=Ze[kt.vertId].refCount&&(wt.deleteShader(Rt[kt.vertId]),delete Rt[kt.vertId],delete Gt[kt.fragId][kt.vertId]),Object.keys(Gt[kt.fragId]).length||(wt.deleteShader(Ft[kt.fragId]),delete Ft[kt.fragId],delete Gt[kt.fragId])}})},restore:function(){Ft={},Rt={};for(var dr=0;dr<jt.length;++dr)It(jt[dr],null,jt[dr].attributes.map(function(hr){return[hr.location,hr.name]}))},shader:ct,frag:-1,vert:-1}}(er,$r,wr,wt),kr=function B(wt,$t,rr,Lr,mr,bt,ct){function At(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function It(Ir,gn){Ir.internalformat=gn.internalformat,Ir.format=gn.format,Ir.type=gn.type,Ir.compressed=gn.compressed,Ir.premultiplyAlpha=gn.premultiplyAlpha,Ir.flipY=gn.flipY,Ir.unpackAlignment=gn.unpackAlignment,Ir.colorSpace=gn.colorSpace,Ir.width=gn.width,Ir.height=gn.height,Ir.channels=gn.channels}function Ft(Ir,gn){if("object"==typeof gn&&gn){"premultiplyAlpha"in gn&&(Ir.premultiplyAlpha=gn.premultiplyAlpha),"flipY"in gn&&(Ir.flipY=gn.flipY),"alignment"in gn&&(Ir.unpackAlignment=gn.alignment),"colorSpace"in gn&&(Ir.colorSpace=$r[gn.colorSpace]),"type"in gn&&(Ir.type=Qr[gn.type]);var pn=Ir.width,Dn=Ir.height,qn=Ir.channels,Nn=!1;"shape"in gn?(pn=gn.shape[0],Dn=gn.shape[1],3===gn.shape.length&&(qn=gn.shape[2],Nn=!0)):("radius"in gn&&(pn=Dn=gn.radius),"width"in gn&&(pn=gn.width),"height"in gn&&(Dn=gn.height),"channels"in gn&&(qn=gn.channels,Nn=!0)),Ir.width=0|pn,Ir.height=0|Dn,Ir.channels=0|qn,pn=!1,"format"in gn&&(Dn=Ir.internalformat=Wn[pn=gn.format],Ir.format=Fn[Dn],pn in Qr&&!("type"in gn)&&(Ir.type=Qr[pn]),pn in An&&(Ir.compressed=!0),pn=!0),!Nn&&pn?Ir.channels=St[Ir.format]:Nn&&!pn&&Ir.channels!==pt[Ir.format]&&(Ir.format=Ir.internalformat=pt[Ir.channels])}}function Rt(Ir){wt.pixelStorei(37440,Ir.flipY),wt.pixelStorei(37441,Ir.premultiplyAlpha),wt.pixelStorei(37443,Ir.colorSpace),wt.pixelStorei(3317,Ir.unpackAlignment)}function Gt(){At.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function jt(Ir,gn){var pn=null;if(i(gn)?pn=gn:gn&&(Ft(Ir,gn),"x"in gn&&(Ir.xOffset=0|gn.x),"y"in gn&&(Ir.yOffset=0|gn.y),i(gn.data)&&(pn=gn.data)),gn.copy){var Dn=mr.viewportWidth,qn=mr.viewportHeight;Ir.width=Ir.width||Dn-Ir.xOffset,Ir.height=Ir.height||qn-Ir.yOffset,Ir.needsCopy=!0}else if(pn){if(Pe(pn))Ir.channels=Ir.channels||4,Ir.data=pn,"type"in gn||5121!==Ir.type||(Ir.type=0|Je[Object.prototype.toString.call(pn)]);else if(x(pn)){switch(Ir.channels=Ir.channels||4,qn=(Dn=pn).length,Ir.type){case 5121:case 5123:case 5125:case 5126:(qn=Ne.allocType(Ir.type,qn)).set(Dn),Ir.data=qn;break;case 36193:Ir.data=C(Dn)}Ir.alignment=1,Ir.needsFree=!0}else if(h(pn)){Dn=pn.data,Array.isArray(Dn)||5121!==Ir.type||(Ir.type=0|Je[Object.prototype.toString.call(Dn)]);var zn,Qn,ii,$n,Nn=pn.stride;3===(qn=pn.shape).length?(ii=qn[2],$n=Nn[2]):$n=ii=1,zn=qn[0],Qn=qn[1],qn=Nn[0],Nn=Nn[1],Ir.alignment=1,Ir.width=zn,Ir.height=Qn,Ir.channels=ii,Ir.format=Ir.internalformat=pt[ii],Ir.needsFree=!0,zn=$n,pn=pn.offset;for(var ha=Ne.allocType(36193===Ir.type?5126:Ir.type,(ii=Ir.width)*($n=Ir.height)*(Qn=Ir.channels)),qt=0,Pr=0;Pr<$n;++Pr)for(var jr=0;jr<ii;++jr)for(var bn=0;bn<Qn;++bn)ha[qt++]=Dn[qn*jr+Nn*Pr+zn*bn+pn];D(Ir,ha)}else if(M(pn)===Ct||M(pn)===_t||M(pn)===nt)Ir.element=M(pn)===Ct||M(pn)===_t?pn:pn.canvas,Ir.width=Ir.element.width,Ir.height=Ir.element.height,Ir.channels=4;else if(M(pn)===ke)Ir.element=pn,Ir.width=pn.width,Ir.height=pn.height,Ir.channels=4;else if(M(pn)===Re)Ir.element=pn,Ir.width=pn.naturalWidth,Ir.height=pn.naturalHeight,Ir.channels=4;else if(M(pn)===Be)Ir.element=pn,Ir.width=pn.videoWidth,Ir.height=pn.videoHeight,Ir.channels=4;else if(E(pn)){for(Dn=Ir.width||pn[0].length,qn=Ir.height||pn.length,Nn=Ir.channels,Nn=T(pn[0][0])?Nn||pn[0][0].length:Nn||1,zn=Ie.shape(pn),ii=1,$n=0;$n<zn.length;++$n)ii*=zn[$n];ii=Ne.allocType(36193===Ir.type?5126:Ir.type,ii),Ie.flatten(pn,zn,"",ii),D(Ir,ii),Ir.alignment=1,Ir.width=Dn,Ir.height=qn,Ir.channels=Nn,Ir.format=Ir.internalformat=pt[Nn],Ir.needsFree=!0}}else Ir.width=Ir.width||1,Ir.height=Ir.height||1,Ir.channels=Ir.channels||4}function er(Ir,gn,pn,Dn,qn){var Nn=Ir.element,zn=Ir.data,Qn=Ir.internalformat,ii=Ir.format,$n=Ir.type,ha=Ir.width,qt=Ir.height;Rt(Ir),Nn?wt.texSubImage2D(gn,qn,pn,Dn,ii,$n,Nn):Ir.compressed?wt.compressedTexSubImage2D(gn,qn,pn,Dn,Qn,ha,qt,zn):Ir.needsCopy?(Lr(),wt.copyTexSubImage2D(gn,qn,pn,Dn,Ir.xOffset,Ir.yOffset,ha,qt)):wt.texSubImage2D(gn,qn,pn,Dn,ha,qt,ii,$n,zn)}function dr(){return Vn.pop()||new Gt}function hr(Ir){Ir.needsFree&&Ne.freeType(Ir.data),Gt.call(Ir),Vn.push(Ir)}function wr(){At.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function $e(Ir,gn,pn){var Dn=Ir.images[0]=dr();Ir.mipmask=1,Dn.width=Ir.width=gn,Dn.height=Ir.height=pn,Dn.channels=Ir.channels=4}function Ze(Ir,gn){var pn=null;if(i(gn))It(pn=Ir.images[0]=dr(),Ir),jt(pn,gn),Ir.mipmask=1;else if(Ft(Ir,gn),Array.isArray(gn.mipmap))for(var Dn=gn.mipmap,qn=0;qn<Dn.length;++qn)It(pn=Ir.images[qn]=dr(),Ir),pn.width>>=qn,pn.height>>=qn,jt(pn,Dn[qn]),Ir.mipmask|=1<<qn;else It(pn=Ir.images[0]=dr(),Ir),jt(pn,gn),Ir.mipmask=1;It(Ir,Ir.images[0])}function zt(Ir,gn){for(var pn=Ir.images,Dn=0;Dn<pn.length&&pn[Dn];++Dn){var qn=pn[Dn],Nn=gn,zn=Dn,Qn=qn.element,ii=qn.data,$n=qn.internalformat,ha=qn.format,qt=qn.type,Pr=qn.width,jr=qn.height;Rt(qn),Qn?wt.texImage2D(Nn,zn,ha,ha,qt,Qn):qn.compressed?wt.compressedTexImage2D(Nn,zn,$n,Pr,jr,0,ii):qn.needsCopy?(Lr(),wt.copyTexImage2D(Nn,zn,ha,qn.xOffset,qn.yOffset,Pr,jr,0)):wt.texImage2D(Nn,zn,ha,Pr,jr,0,ha,qt,ii||null)}}function kt(){var Ir=vi.pop()||new wr;At.call(Ir);for(var gn=Ir.mipmask=0;16>gn;++gn)Ir.images[gn]=null;return Ir}function Xt(Ir){for(var gn=Ir.images,pn=0;pn<gn.length;++pn)gn[pn]&&hr(gn[pn]),gn[pn]=null;vi.push(Ir)}function ur(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function vr(Ir,gn){"min"in gn&&(Ir.minFilter=Yr[gn.min],0<=vt.indexOf(Ir.minFilter)&&!("faces"in gn)&&(Ir.genMipmaps=!0)),"mag"in gn&&(Ir.magFilter=Nr[gn.mag]);var pn=Ir.wrapS,Dn=Ir.wrapT;if("wrap"in gn){var qn=gn.wrap;"string"==typeof qn?pn=Dn=un[qn]:Array.isArray(qn)&&(pn=un[qn[0]],Dn=un[qn[1]])}else"wrapS"in gn&&(pn=un[gn.wrapS]),"wrapT"in gn&&(Dn=un[gn.wrapT]);if(Ir.wrapS=pn,Ir.wrapT=Dn,"anisotropic"in gn&&(Ir.anisotropic=gn.anisotropic),"mipmap"in gn){switch(pn=!1,typeof gn.mipmap){case"string":Ir.mipmapHint=kr[gn.mipmap],pn=Ir.genMipmaps=!0;break;case"boolean":pn=Ir.genMipmaps=gn.mipmap;break;case"object":Ir.genMipmaps=!1,pn=!0}!pn||"min"in gn||(Ir.minFilter=9984)}}function or(Ir,gn){wt.texParameteri(gn,10241,Ir.minFilter),wt.texParameteri(gn,10240,Ir.magFilter),wt.texParameteri(gn,10242,Ir.wrapS),wt.texParameteri(gn,10243,Ir.wrapT),$t.ext_texture_filter_anisotropic&&wt.texParameteri(gn,34046,Ir.anisotropic),Ir.genMipmaps&&(wt.hint(33170,Ir.mipmapHint),wt.generateMipmap(gn))}function Ht(Ir){At.call(this),this.mipmask=0,this.internalformat=6408,this.id=li++,this.refCount=1,this.target=Ir,this.texture=wt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ur,ct.profile&&(this.stats={size:0})}function pr(Ir){wt.activeTexture(33984),wt.bindTexture(Ir.target,Ir.texture)}function xr(){var Ir=hi[0];Ir?wt.bindTexture(Ir.target,Ir.texture):wt.bindTexture(3553,null)}function Mr(Ir){var gn=Ir.texture,pn=Ir.unit,Dn=Ir.target;0<=pn&&(wt.activeTexture(33984+pn),wt.bindTexture(Dn,null),hi[pn]=null),wt.deleteTexture(gn),Ir.texture=null,Ir.params=null,Ir.pixels=null,Ir.refCount=0,delete bi[Ir.id],bt.textureCount--}var kr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},un={repeat:10497,clamp:33071,mirror:33648},Nr={nearest:9728,linear:9729},Yr=se({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Nr),$r={none:0,browser:37444},Qr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Wn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},An={};$t.ext_srgb&&(Wn.srgb=35904,Wn.srgba=35906),$t.oes_texture_float&&(Qr.float32=Qr.float=5126),$t.oes_texture_half_float&&(Qr.float16=Qr["half float"]=36193),$t.webgl_depth_texture&&(se(Wn,{depth:6402,"depth stencil":34041}),se(Qr,{uint16:5123,uint32:5125,"depth stencil":34042})),$t.webgl_compressed_texture_s3tc&&se(An,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),$t.webgl_compressed_texture_atc&&se(An,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),$t.webgl_compressed_texture_pvrtc&&se(An,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),$t.webgl_compressed_texture_etc1&&(An["rgb etc1"]=36196);var Tr=Array.prototype.slice.call(wt.getParameter(34467));Object.keys(An).forEach(function(Ir){var gn=An[Ir];0<=Tr.indexOf(gn)&&(Wn[Ir]=gn)});var nr=Object.keys(Wn);rr.textureFormats=nr;var Xr=[];Object.keys(Wn).forEach(function(Ir){Xr[Wn[Ir]]=Ir});var Ur=[];Object.keys(Qr).forEach(function(Ir){Ur[Qr[Ir]]=Ir});var an=[];Object.keys(Nr).forEach(function(Ir){an[Nr[Ir]]=Ir});var Cn=[];Object.keys(Yr).forEach(function(Ir){Cn[Yr[Ir]]=Ir});var En=[];Object.keys(un).forEach(function(Ir){En[un[Ir]]=Ir});var Fn=nr.reduce(function(Ir,gn){var pn=Wn[gn];return Ir[pn]=6409===pn||6406===pn||6409===pn||6410===pn||6402===pn||34041===pn||$t.ext_srgb&&(35904===pn||35906===pn)?pn:32855===pn||0<=gn.indexOf("rgba")?6408:6407,Ir},{}),Vn=[],vi=[],li=0,bi={},si=rr.maxTextureUnits,hi=Array(si).map(function(){return null});return se(Ht.prototype,{bind:function(){this.bindCount+=1;var Ir=this.unit;if(0>Ir){for(var gn=0;gn<si;++gn){var pn=hi[gn];if(pn){if(0<pn.bindCount)continue;pn.unit=-1}hi[gn]=this,Ir=gn;break}ct.profile&&bt.maxTextureUnits<Ir+1&&(bt.maxTextureUnits=Ir+1),this.unit=Ir,wt.activeTexture(33984+Ir),wt.bindTexture(this.target,this.texture)}return Ir},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&Mr(this)}}),ct.profile&&(bt.getTotalTextureSize=function(){var Ir=0;return Object.keys(bi).forEach(function(gn){Ir+=bi[gn].stats.size}),Ir}),{create2D:function(Ir,gn){function pn(qn,Nn){var zn=Dn.texInfo;ur.call(zn);var Qn=kt();return"number"==typeof qn?$e(Qn,0|qn,"number"==typeof Nn?0|Nn:0|qn):qn?(vr(zn,qn),Ze(Qn,qn)):$e(Qn,1,1),zn.genMipmaps&&(Qn.mipmask=(Qn.width<<1)-1),Dn.mipmask=Qn.mipmask,It(Dn,Qn),Dn.internalformat=Qn.internalformat,pn.width=Qn.width,pn.height=Qn.height,pr(Dn),zt(Qn,3553),or(zn,3553),xr(),Xt(Qn),ct.profile&&(Dn.stats.size=y(Dn.internalformat,Dn.type,Qn.width,Qn.height,zn.genMipmaps,!1)),pn.format=Xr[Dn.internalformat],pn.type=Ur[Dn.type],pn.mag=an[zn.magFilter],pn.min=Cn[zn.minFilter],pn.wrapS=En[zn.wrapS],pn.wrapT=En[zn.wrapT],pn}var Dn=new Ht(3553);return bi[Dn.id]=Dn,bt.textureCount++,pn(Ir,gn),pn.subimage=function(qn,Nn,zn,Qn){Nn|=0,zn|=0,Qn|=0;var ii=dr();return It(ii,Dn),ii.width=0,ii.height=0,jt(ii,qn),ii.width=ii.width||(Dn.width>>Qn)-Nn,ii.height=ii.height||(Dn.height>>Qn)-zn,pr(Dn),er(ii,3553,Nn,zn,Qn),xr(),hr(ii),pn},pn.resize=function(qn,Nn){var zn=0|qn,Qn=0|Nn||zn;if(zn===Dn.width&&Qn===Dn.height)return pn;pn.width=Dn.width=zn,pn.height=Dn.height=Qn,pr(Dn);for(var ii=0;Dn.mipmask>>ii;++ii){var $n=zn>>ii,ha=Qn>>ii;if(!$n||!ha)break;wt.texImage2D(3553,ii,Dn.format,$n,ha,0,Dn.format,Dn.type,null)}return xr(),ct.profile&&(Dn.stats.size=y(Dn.internalformat,Dn.type,zn,Qn,!1,!1)),pn},pn._reglType="texture2d",pn._texture=Dn,ct.profile&&(pn.stats=Dn.stats),pn.destroy=function(){Dn.decRef()},pn},createCube:function(Ir,gn,pn,Dn,qn,Nn){function zn($n,ha,qt,Pr,jr,bn){var vn,Bn=Qn.texInfo;for(ur.call(Bn),vn=0;6>vn;++vn)ii[vn]=kt();if("number"!=typeof $n&&$n){if("object"==typeof $n)if(ha)Ze(ii[0],$n),Ze(ii[1],ha),Ze(ii[2],qt),Ze(ii[3],Pr),Ze(ii[4],jr),Ze(ii[5],bn);else if(vr(Bn,$n),Ft(Qn,$n),"faces"in $n)for($n=$n.faces,vn=0;6>vn;++vn)It(ii[vn],Qn),Ze(ii[vn],$n[vn]);else for(vn=0;6>vn;++vn)Ze(ii[vn],$n)}else for($n=0|$n||1,vn=0;6>vn;++vn)$e(ii[vn],$n,$n);for(It(Qn,ii[0]),Qn.mipmask=Bn.genMipmaps?(ii[0].width<<1)-1:ii[0].mipmask,Qn.internalformat=ii[0].internalformat,zn.width=ii[0].width,zn.height=ii[0].height,pr(Qn),vn=0;6>vn;++vn)zt(ii[vn],34069+vn);for(or(Bn,34067),xr(),ct.profile&&(Qn.stats.size=y(Qn.internalformat,Qn.type,zn.width,zn.height,Bn.genMipmaps,!0)),zn.format=Xr[Qn.internalformat],zn.type=Ur[Qn.type],zn.mag=an[Bn.magFilter],zn.min=Cn[Bn.minFilter],zn.wrapS=En[Bn.wrapS],zn.wrapT=En[Bn.wrapT],vn=0;6>vn;++vn)Xt(ii[vn]);return zn}var Qn=new Ht(34067);bi[Qn.id]=Qn,bt.cubeCount++;var ii=Array(6);return zn(Ir,gn,pn,Dn,qn,Nn),zn.subimage=function($n,ha,qt,Pr,jr){qt|=0,Pr|=0,jr|=0;var bn=dr();return It(bn,Qn),bn.width=0,bn.height=0,jt(bn,ha),bn.width=bn.width||(Qn.width>>jr)-qt,bn.height=bn.height||(Qn.height>>jr)-Pr,pr(Qn),er(bn,34069+$n,qt,Pr,jr),xr(),hr(bn),zn},zn.resize=function($n){if(($n|=0)!==Qn.width){zn.width=Qn.width=$n,zn.height=Qn.height=$n,pr(Qn);for(var ha=0;6>ha;++ha)for(var qt=0;Qn.mipmask>>qt;++qt)wt.texImage2D(34069+ha,qt,Qn.format,$n>>qt,$n>>qt,0,Qn.format,Qn.type,null);return xr(),ct.profile&&(Qn.stats.size=y(Qn.internalformat,Qn.type,zn.width,zn.height,!1,!0)),zn}},zn._reglType="textureCube",zn._texture=Qn,ct.profile&&(zn.stats=Qn.stats),zn.destroy=function(){Qn.decRef()},zn},clear:function(){for(var Ir=0;Ir<si;++Ir)wt.activeTexture(33984+Ir),wt.bindTexture(3553,null),hi[Ir]=null;Ce(bi).forEach(Mr),bt.cubeCount=0,bt.textureCount=0},getTexture:function(Ir){return null},restore:function(){for(var Ir=0;Ir<si;++Ir){var gn=hi[Ir];gn&&(gn.bindCount=0,gn.unit=-1,hi[Ir]=null)}Ce(bi).forEach(function(pn){pn.texture=wt.createTexture(),wt.bindTexture(pn.target,pn.texture);for(var Dn=0;32>Dn;++Dn)if(pn.mipmask&1<<Dn)if(3553===pn.target)wt.texImage2D(3553,Dn,pn.internalformat,pn.width>>Dn,pn.height>>Dn,0,pn.internalformat,pn.type,null);else for(var qn=0;6>qn;++qn)wt.texImage2D(34069+qn,Dn,pn.internalformat,pn.width>>Dn,pn.height>>Dn,0,pn.internalformat,pn.type,null);or(pn.texInfo,pn.target)})},refresh:function(){for(var Ir=0;Ir<si;++Ir){var gn=hi[Ir];gn&&(gn.bindCount=0,gn.unit=-1,hi[Ir]=null),wt.activeTexture(33984+Ir),wt.bindTexture(3553,null),wt.bindTexture(34067,null)}}}}(er,Ze,or,function(){Yr.procs.poll()},ur,wr,wt),un=function(wt,$t,rr,Lr,mr){function bt(Gt){this.id=Ft++,this.refCount=1,this.renderbuffer=Gt,this.format=32854,this.height=this.width=0,mr.profile&&(this.stats={size:0})}function ct(Gt){var jt=Gt.renderbuffer;wt.bindRenderbuffer(36161,null),wt.deleteRenderbuffer(jt),Gt.renderbuffer=null,Gt.refCount=0,delete Rt[Gt.id],Lr.renderbufferCount--}var At={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};$t.ext_srgb&&(At.srgba=35907),$t.ext_color_buffer_half_float&&(At.rgba16f=34842,At.rgb16f=34843),$t.webgl_color_buffer_float&&(At.rgba32f=34836);var It=[];Object.keys(At).forEach(function(Gt){It[At[Gt]]=Gt});var Ft=0,Rt={};return bt.prototype.decRef=function(){0>=--this.refCount&&ct(this)},mr.profile&&(Lr.getTotalRenderbufferSize=function(){var Gt=0;return Object.keys(Rt).forEach(function(jt){Gt+=Rt[jt].stats.size}),Gt}),{create:function(Gt,jt){function er(hr,wr){var $e=0,Ze=0,zt=32854;if("object"==typeof hr&&hr?("shape"in hr?($e=0|(Ze=hr.shape)[0],Ze=0|Ze[1]):("radius"in hr&&($e=Ze=0|hr.radius),"width"in hr&&($e=0|hr.width),"height"in hr&&(Ze=0|hr.height)),"format"in hr&&(zt=At[hr.format])):"number"==typeof hr?($e=0|hr,Ze="number"==typeof wr?0|wr:$e):hr||($e=Ze=1),$e!==dr.width||Ze!==dr.height||zt!==dr.format)return er.width=dr.width=$e,er.height=dr.height=Ze,dr.format=zt,wt.bindRenderbuffer(36161,dr.renderbuffer),wt.renderbufferStorage(36161,zt,$e,Ze),mr.profile&&(dr.stats.size=De[dr.format]*dr.width*dr.height),er.format=It[dr.format],er}var dr=new bt(wt.createRenderbuffer());return Rt[dr.id]=dr,Lr.renderbufferCount++,er(Gt,jt),er.resize=function(hr,wr){var $e=0|hr,Ze=0|wr||$e;return $e===dr.width&&Ze===dr.height||(er.width=dr.width=$e,er.height=dr.height=Ze,wt.bindRenderbuffer(36161,dr.renderbuffer),wt.renderbufferStorage(36161,dr.format,$e,Ze),mr.profile&&(dr.stats.size=De[dr.format]*dr.width*dr.height)),er},er._reglType="renderbuffer",er._renderbuffer=dr,mr.profile&&(er.stats=dr.stats),er.destroy=function(){dr.decRef()},er},clear:function(){Ce(Rt).forEach(ct)},restore:function(){Ce(Rt).forEach(function(Gt){Gt.renderbuffer=wt.createRenderbuffer(),wt.bindRenderbuffer(36161,Gt.renderbuffer),wt.renderbufferStorage(36161,Gt.format,Gt.width,Gt.height)}),wt.bindRenderbuffer(36161,null)}}}(er,Ze,0,wr,wt),Nr=function F(wt,$t,rr,Lr,mr,bt){function ct(Ht,pr,xr){this.target=Ht,this.texture=pr,this.renderbuffer=xr;var Mr=Ht=0;pr?(Ht=pr.width,Mr=pr.height):xr&&(Ht=xr.width,Mr=xr.height),this.width=Ht,this.height=Mr}function At(Ht){Ht&&(Ht.texture&&Ht.texture._texture.decRef(),Ht.renderbuffer&&Ht.renderbuffer._renderbuffer.decRef())}function It(Ht,pr,xr){Ht&&(Ht.texture?Ht.texture._texture.refCount+=1:Ht.renderbuffer._renderbuffer.refCount+=1)}function Ft(Ht,pr){pr&&(pr.texture?wt.framebufferTexture2D(36160,Ht,pr.target,pr.texture._texture.texture,0):wt.framebufferRenderbuffer(36160,Ht,36161,pr.renderbuffer._renderbuffer.renderbuffer))}function Rt(Ht){var pr=3553,xr=null,Mr=null,kr=Ht;return"object"==typeof Ht&&(kr=Ht.data,"target"in Ht&&(pr=0|Ht.target)),"texture2d"===(Ht=kr._reglType)||"textureCube"===Ht?xr=kr:"renderbuffer"===Ht&&(Mr=kr,pr=36161),new ct(pr,xr,Mr)}function Gt(Ht,pr,xr,Mr,kr){return xr?((Ht=Lr.create2D({width:Ht,height:pr,format:Mr,type:kr}))._texture.refCount=0,new ct(3553,Ht,null)):((Ht=mr.create({width:Ht,height:pr,format:Mr}))._renderbuffer.refCount=0,new ct(36161,null,Ht))}function jt(Ht){return Ht&&(Ht.texture||Ht.renderbuffer)}function er(Ht,pr,xr){Ht&&(Ht.texture?Ht.texture.resize(pr,xr):Ht.renderbuffer&&Ht.renderbuffer.resize(pr,xr),Ht.width=pr,Ht.height=xr)}function dr(){this.id=vr++,or[this.id]=this,this.framebuffer=wt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function hr(Ht){Ht.colorAttachments.forEach(At),At(Ht.depthAttachment),At(Ht.stencilAttachment),At(Ht.depthStencilAttachment)}function wr(Ht){wt.deleteFramebuffer(Ht.framebuffer),Ht.framebuffer=null,bt.framebufferCount--,delete or[Ht.id]}function $e(Ht){var pr;wt.bindFramebuffer(36160,Ht.framebuffer);var xr=Ht.colorAttachments;for(pr=0;pr<xr.length;++pr)Ft(36064+pr,xr[pr]);for(pr=xr.length;pr<rr.maxColorAttachments;++pr)wt.framebufferTexture2D(36160,36064+pr,3553,null,0);wt.framebufferTexture2D(36160,33306,3553,null,0),wt.framebufferTexture2D(36160,36096,3553,null,0),wt.framebufferTexture2D(36160,36128,3553,null,0),Ft(36096,Ht.depthAttachment),Ft(36128,Ht.stencilAttachment),Ft(33306,Ht.depthStencilAttachment),wt.checkFramebufferStatus(36160),wt.isContextLost(),wt.bindFramebuffer(36160,zt.next?zt.next.framebuffer:null),zt.cur=zt.next,wt.getError()}function Ze(Ht,pr){function xr(kr,un){var Nr,Yr=0,$r=0,Qr=!0,Wn=!0;Nr=null;var An=!0,Tr="rgba",nr="uint8",Xr=1,Ur=null,an=null,Cn=null,En=!1;"number"==typeof kr?(Yr=0|kr,$r=0|un||Yr):kr?("shape"in kr?(Yr=($r=kr.shape)[0],$r=$r[1]):("radius"in kr&&(Yr=$r=kr.radius),"width"in kr&&(Yr=kr.width),"height"in kr&&($r=kr.height)),("color"in kr||"colors"in kr)&&(Nr=kr.color||kr.colors,Array.isArray(Nr)),Nr||("colorCount"in kr&&(Xr=0|kr.colorCount),"colorTexture"in kr&&(An=!!kr.colorTexture,Tr="rgba4"),"colorType"in kr&&(nr=kr.colorType,!An)&&("half float"===nr||"float16"===nr?Tr="rgba16f":("float"===nr||"float32"===nr)&&(Tr="rgba32f")),"colorFormat"in kr&&(0<=kt.indexOf(Tr=kr.colorFormat)?An=!0:0<=Xt.indexOf(Tr)&&(An=!1))),("depthTexture"in kr||"depthStencilTexture"in kr)&&(En=!(!kr.depthTexture&&!kr.depthStencilTexture)),"depth"in kr&&("boolean"==typeof kr.depth?Qr=kr.depth:(Ur=kr.depth,Wn=!1)),"stencil"in kr&&("boolean"==typeof kr.stencil?Wn=kr.stencil:(an=kr.stencil,Qr=!1)),"depthStencil"in kr&&("boolean"==typeof kr.depthStencil?Qr=Wn=kr.depthStencil:(Cn=kr.depthStencil,Wn=Qr=!1))):Yr=$r=1;var Fn=null,Vn=null,vi=null,li=null;if(Array.isArray(Nr))Fn=Nr.map(Rt);else if(Nr)Fn=[Rt(Nr)];else for(Fn=Array(Xr),Nr=0;Nr<Xr;++Nr)Fn[Nr]=Gt(Yr,$r,An,Tr,nr);for(Yr=Yr||Fn[0].width,$r=$r||Fn[0].height,Ur?Vn=Rt(Ur):Qr&&!Wn&&(Vn=Gt(Yr,$r,En,"depth","uint32")),an?vi=Rt(an):Wn&&!Qr&&(vi=Gt(Yr,$r,!1,"stencil","uint8")),Cn?li=Rt(Cn):!Ur&&!an&&Wn&&Qr&&(li=Gt(Yr,$r,En,"depth stencil","depth stencil")),Qr=null,Nr=0;Nr<Fn.length;++Nr)It(Fn[Nr]),Fn[Nr]&&Fn[Nr].texture&&(Wn=Te[Fn[Nr].texture._texture.format]*_e[Fn[Nr].texture._texture.type],null===Qr&&(Qr=Wn));return It(Vn),It(vi),It(li),hr(Mr),Mr.width=Yr,Mr.height=$r,Mr.colorAttachments=Fn,Mr.depthAttachment=Vn,Mr.stencilAttachment=vi,Mr.depthStencilAttachment=li,xr.color=Fn.map(jt),xr.depth=jt(Vn),xr.stencil=jt(vi),xr.depthStencil=jt(li),xr.width=Mr.width,xr.height=Mr.height,$e(Mr),xr}var Mr=new dr;return bt.framebufferCount++,xr(Ht,pr),se(xr,{resize:function(kr,un){var Nr=Math.max(0|kr,1),Yr=Math.max(0|un||Nr,1);if(Nr===Mr.width&&Yr===Mr.height)return xr;for(var $r=Mr.colorAttachments,Qr=0;Qr<$r.length;++Qr)er($r[Qr],Nr,Yr);return er(Mr.depthAttachment,Nr,Yr),er(Mr.stencilAttachment,Nr,Yr),er(Mr.depthStencilAttachment,Nr,Yr),Mr.width=xr.width=Nr,Mr.height=xr.height=Yr,$e(Mr),xr},_reglType:"framebuffer",_framebuffer:Mr,destroy:function(){wr(Mr),hr(Mr)},use:function(kr){zt.setFBO({framebuffer:xr},kr)}})}var zt={cur:null,next:null,dirty:!1,setFBO:null},kt=["rgba"],Xt=["rgba4","rgb565","rgb5 a1"];$t.ext_srgb&&Xt.push("srgba"),$t.ext_color_buffer_half_float&&Xt.push("rgba16f","rgb16f"),$t.webgl_color_buffer_float&&Xt.push("rgba32f");var ur=["uint8"];$t.oes_texture_half_float&&ur.push("half float","float16"),$t.oes_texture_float&&ur.push("float","float32");var vr=0,or={};return se(zt,{getFramebuffer:function(Ht){return"function"==typeof Ht&&"framebuffer"===Ht._reglType&&(Ht=Ht._framebuffer)instanceof dr?Ht:null},create:Ze,createCube:function(Ht){function pr(Mr){var kr,un={color:null},Nr=0,Yr=null;kr="rgba";var $r="uint8",Qr=1;if("number"==typeof Mr?Nr=0|Mr:Mr?("shape"in Mr?Nr=Mr.shape[0]:("radius"in Mr&&(Nr=0|Mr.radius),"width"in Mr?Nr=0|Mr.width:"height"in Mr&&(Nr=0|Mr.height)),("color"in Mr||"colors"in Mr)&&(Yr=Mr.color||Mr.colors,Array.isArray(Yr)),Yr||("colorCount"in Mr&&(Qr=0|Mr.colorCount),"colorType"in Mr&&($r=Mr.colorType),"colorFormat"in Mr&&(kr=Mr.colorFormat)),"depth"in Mr&&(un.depth=Mr.depth),"stencil"in Mr&&(un.stencil=Mr.stencil),"depthStencil"in Mr&&(un.depthStencil=Mr.depthStencil)):Nr=1,Yr)if(Array.isArray(Yr))for(Mr=[],kr=0;kr<Yr.length;++kr)Mr[kr]=Yr[kr];else Mr=[Yr];else for(Mr=Array(Qr),Yr={radius:Nr,format:kr,type:$r},kr=0;kr<Qr;++kr)Mr[kr]=Lr.createCube(Yr);for(un.color=Array(Mr.length),kr=0;kr<Mr.length;++kr)Qr=Mr[kr],Nr=Nr||Qr.width,un.color[kr]={target:34069,data:Mr[kr]};for(kr=0;6>kr;++kr){for(Qr=0;Qr<Mr.length;++Qr)un.color[Qr].target=34069+kr;0<kr&&(un.depth=xr[0].depth,un.stencil=xr[0].stencil,un.depthStencil=xr[0].depthStencil),xr[kr]?xr[kr](un):xr[kr]=Ze(un)}return se(pr,{width:Nr,height:Nr,color:Mr})}var xr=Array(6);return pr(Ht),se(pr,{faces:xr,resize:function(Mr){var kr=0|Mr;if(kr===pr.width)return pr;var un=pr.color;for(Mr=0;Mr<un.length;++Mr)un[Mr].resize(kr);for(Mr=0;6>Mr;++Mr)xr[Mr].resize(kr);return pr.width=pr.height=kr,pr},_reglType:"framebufferCube",destroy:function(){xr.forEach(function(Mr){Mr.destroy()})}})},clear:function(){Ce(or).forEach(wr)},restore:function(){zt.cur=null,zt.next=null,zt.dirty=!0,Ce(or).forEach(function(Ht){Ht.framebuffer=wt.createFramebuffer(),$e(Ht)})}})}(er,Ze,or,kr,un,wr),Yr=$(er,$r,Ze,or,Ht,pr,0,Nr,{},xr,Mr,vr,ur,zt,$e,wt),Qr=($r=H(er,Nr,Yr.procs.poll,ur),Yr.next),Wn=er.canvas,An=[],Tr=[],nr=[],Xr=[wt.onDestroy],Ur=null;Wn&&(Wn.addEventListener("webglcontextlost",mr,!1),Wn.addEventListener("webglcontextrestored",bt,!1));var an=Nr.setFBO=ct({framebuffer:we.define.call(null,1,"framebuffer")});return Gt(),dr=se(ct,{clear:function(Cn){if("framebuffer"in Cn)if(Cn.framebuffer&&"framebufferCube"===Cn.framebuffer_reglType)for(var En=0;6>En;++En)an(se({framebuffer:Cn.framebuffer.faces[En]},Cn),At);else an(Cn,At);else At(0,Cn)},prop:we.define.bind(null,1),context:we.define.bind(null,2),this:we.define.bind(null,3),draw:ct({}),buffer:function(Cn){return Ht.create(Cn,34962,!1,!1)},elements:function(Cn){return pr.create(Cn,!1)},texture:kr.create2D,cube:kr.createCube,renderbuffer:un.create,framebuffer:Nr.create,framebufferCube:Nr.createCube,vao:xr.createVAO,attributes:dr,frame:It,on:function(Cn,En){var Fn;switch(Cn){case"frame":return It(En);case"lost":Fn=Tr;break;case"restore":Fn=nr;break;case"destroy":Fn=Xr}return Fn.push(En),{cancel:function(){for(var Vn=0;Vn<Fn.length;++Vn)if(Fn[Vn]===En){Fn[Vn]=Fn[Fn.length-1],Fn.pop();break}}}},limits:or,hasExtension:function(Cn){return 0<=or.extensions.indexOf(Cn.toLowerCase())},read:$r,destroy:function(){An.length=0,Lr(),Wn&&(Wn.removeEventListener("webglcontextlost",mr),Wn.removeEventListener("webglcontextrestored",bt)),Mr.clear(),Nr.clear(),un.clear(),xr.clear(),kr.clear(),pr.clear(),Ht.clear(),zt&&zt.clear(),Xr.forEach(function(Cn){Cn()})},_gl:er,_refresh:Gt,poll:function(){Rt(),zt&&zt.update()},now:jt,stats:wr,getCachedCode:function(){return $e},preloadCachedCode:function(Cn){Object.entries(Cn).forEach(function(En){$e[En[0]]=En[1]})}}),wt.onDone(null,dr),dr}},oe.exports=t()},71665:function(oe,J,t){var S=t(12856),k=S.Buffer;function l(I,v){for(var w in I)v[w]=I[w]}function R(I,v,w){return k(I,v,w)}k.from&&k.alloc&&k.allocUnsafe&&k.allocUnsafeSlow?oe.exports=S:(l(S,J),J.Buffer=R),R.prototype=Object.create(k.prototype),l(k,R),R.from=function(I,v,w){if("number"==typeof I)throw new TypeError("Argument must not be a number");return k(I,v,w)},R.alloc=function(I,v,w){if("number"!=typeof I)throw new TypeError("Argument must be a number");var r=k(I);return void 0!==v?"string"==typeof w?r.fill(v,w):r.fill(v):r.fill(0),r},R.allocUnsafe=function(I){if("number"!=typeof I)throw new TypeError("Argument must be a number");return k(I)},R.allocUnsafeSlow=function(I){if("number"!=typeof I)throw new TypeError("Argument must be a number");return S.SlowBuffer(I)}},21630:function(oe,J,t){oe.exports=l;var S=t(15398).EventEmitter;function l(){S.call(this)}t(42018)(l,S),l.Readable=t(40410),l.Writable=t(37493),l.Duplex=t(37865),l.Transform=t(74308),l.PassThrough=t(66897),l.finished=t(12726),l.pipeline=t(10168),l.Stream=l,l.prototype.pipe=function(R,I){var v=this;function w(d){R.writable&&!1===R.write(d)&&v.pause&&v.pause()}function r(){v.readable&&v.resume&&v.resume()}v.on("data",w),R.on("drain",r),!R._isStdio&&(!I||!1!==I.end)&&(v.on("end",c),v.on("close",o));var n=!1;function c(){n||(n=!0,R.end())}function o(){n||(n=!0,"function"==typeof R.destroy&&R.destroy())}function f(d){if(h(),0===S.listenerCount(this,"error"))throw d}function h(){v.removeListener("data",w),R.removeListener("drain",r),v.removeListener("end",c),v.removeListener("close",o),v.removeListener("error",f),R.removeListener("error",f),v.removeListener("end",h),v.removeListener("close",h),R.removeListener("close",h)}return v.on("error",f),R.on("error",f),v.on("end",h),v.on("close",h),R.on("close",h),R.emit("pipe",v),R}},74322:function(oe){"use strict";var t={};function S(v,w,r){r||(r=Error);var c=function(o){function f(h,d,b){return o.call(this,function n(o,f,h){return"string"==typeof w?w:w(o,f,h)}(h,d,b))||this}return function J(v,w){v.prototype=Object.create(w.prototype),v.prototype.constructor=v,v.__proto__=w}(f,o),f}(r);c.prototype.name=r.name,c.prototype.code=v,t[v]=c}function k(v,w){if(Array.isArray(v)){var r=v.length;return v=v.map(function(n){return String(n)}),r>2?"one of ".concat(w," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:2===r?"one of ".concat(w," ").concat(v[0]," or ").concat(v[1]):"of ".concat(w," ").concat(v[0])}return"of ".concat(w," ").concat(String(v))}S("ERR_INVALID_OPT_VALUE",function(v,w){return'The value "'+w+'" is invalid for option "'+v+'"'},TypeError),S("ERR_INVALID_ARG_TYPE",function(v,w,r){var n,c;if("string"==typeof w&&function l(v,w,r){return v.substr(!r||r<0?0:+r,w.length)===w}(w,"not ")?(n="must not be",w=w.replace(/^not /,"")):n="must be",function R(v,w,r){return(void 0===r||r>v.length)&&(r=v.length),v.substring(r-w.length,r)===w}(v," argument"))c="The ".concat(v," ").concat(n," ").concat(k(w,"type"));else{var o=function I(v,w,r){return"number"!=typeof r&&(r=0),!(r+w.length>v.length)&&-1!==v.indexOf(w,r)}(v,".")?"property":"argument";c='The "'.concat(v,'" ').concat(o," ").concat(n," ").concat(k(w,"type"))}return c+". Received type ".concat(typeof r)},TypeError),S("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),S("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),S("ERR_STREAM_PREMATURE_CLOSE","Premature close"),S("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),S("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),S("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),S("ERR_STREAM_WRITE_AFTER_END","write after end"),S("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),S("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),oe.exports.q=t},37865:function(oe,J,t){"use strict";var S=t(90386),k=Object.keys||function(o){var f=[];for(var h in o)f.push(h);return f};oe.exports=r;var l=t(40410),R=t(37493);t(42018)(r,l);for(var I=k(R.prototype),v=0;v<I.length;v++){var w=I[v];r.prototype[w]||(r.prototype[w]=R.prototype[w])}function r(o){if(!(this instanceof r))return new r(o);l.call(this,o),R.call(this,o),this.allowHalfOpen=!0,o&&(!1===o.readable&&(this.readable=!1),!1===o.writable&&(this.writable=!1),!1===o.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",n)))}function n(){this._writableState.ended||S.nextTick(c,this)}function c(o){o.end()}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},66897:function(oe,J,t){"use strict";oe.exports=k;var S=t(74308);function k(l){if(!(this instanceof k))return new k(l);S.call(this,l)}t(42018)(k,S),k.prototype._transform=function(l,R,I){I(null,l)}},40410:function(oe,J,t){"use strict";var k,S=t(90386);oe.exports=D,D.ReadableState=i,t(15398);var R=function(le,se){return le.listeners(se).length},I=t(71405),v=t(12856).Buffer,w=t.g.Uint8Array||function(){};var o,c=t(40964);o=c&&c.debuglog?c.debuglog("stream"):function(){};var C,T,L,f=t(31125),h=t(65756),b=t(56306).getHighWaterMark,p=t(74322).q,A=p.ERR_INVALID_ARG_TYPE,m=p.ERR_STREAM_PUSH_AFTER_EOF,u=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t(42018)(D,I);var x=h.errorOrDestroy,E=["error","close","destroy","pause","resume"];function i($,le,se){k=k||t(37865),"boolean"!=typeof se&&(se=le instanceof k),this.objectMode=!!($=$||{}).objectMode,se&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=b(this,$,"readableHighWaterMark",se),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==$.emitClose,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(C||(C=t(68019).s),this.decoder=new C($.encoding),this.encoding=$.encoding)}function D($){if(k=k||t(37865),!(this instanceof D))return new D($);this._readableState=new i($,this,this instanceof k),this.readable=!0,$&&("function"==typeof $.read&&(this._read=$.read),"function"==typeof $.destroy&&(this._destroy=$.destroy)),I.call(this)}function y($,le,se,de,we){o("readableAddChunk",le);var Me,Ee=$._readableState;if(null===le)Ee.reading=!1,function H($,le){if(o("onEofChunk"),!le.ended){if(le.decoder){var se=le.decoder.end();se&&se.length&&(le.buffer.push(se),le.length+=le.objectMode?1:se.length)}le.ended=!0,le.sync?U($):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,G($)))}}($,Ee);else if(we||(Me=function F($,le){var se;return!function n($){return v.isBuffer($)||$ instanceof w}(le)&&"string"!=typeof le&&void 0!==le&&!$.objectMode&&(se=new A("chunk",["string","Buffer","Uint8Array"],le)),se}(Ee,le)),Me)x($,Me);else if(Ee.objectMode||le&&le.length>0)if("string"!=typeof le&&!Ee.objectMode&&Object.getPrototypeOf(le)!==v.prototype&&(le=function r($){return v.from($)}(le)),de)Ee.endEmitted?x($,new g):B($,Ee,le,!0);else if(Ee.ended)x($,new m);else{if(Ee.destroyed)return!1;Ee.reading=!1,Ee.decoder&&!se?(le=Ee.decoder.write(le),Ee.objectMode||0!==le.length?B($,Ee,le,!1):Y($,Ee)):B($,Ee,le,!1)}else de||(Ee.reading=!1,Y($,Ee));return!Ee.ended&&(Ee.length<Ee.highWaterMark||0===Ee.length)}function B($,le,se,de){le.flowing&&0===le.length&&!le.sync?(le.awaitDrain=0,$.emit("data",se)):(le.length+=le.objectMode?1:se.length,de?le.buffer.unshift(se):le.buffer.push(se),le.needReadable&&U($)),Y($,le)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(le){this._readableState&&(this._readableState.destroyed=le)}}),D.prototype.destroy=h.destroy,D.prototype._undestroy=h.undestroy,D.prototype._destroy=function($,le){le($)},D.prototype.push=function($,le){var de,se=this._readableState;return se.objectMode?de=!0:"string"==typeof $&&((le=le||se.defaultEncoding)!==se.encoding&&($=v.from($,le),le=""),de=!0),y(this,$,le,!1,de)},D.prototype.unshift=function($){return y(this,$,null,!0,!1)},D.prototype.isPaused=function(){return!1===this._readableState.flowing},D.prototype.setEncoding=function($){C||(C=t(68019).s);var le=new C($);this._readableState.decoder=le,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,de="";null!==se;)de+=le.write(se.data),se=se.next;return this._readableState.buffer.clear(),""!==de&&this._readableState.buffer.push(de),this._readableState.length=de.length,this};var _=1073741824;function V($,le){return $<=0||0===le.length&&le.ended?0:le.objectMode?1:$!=$?le.flowing&&le.length?le.buffer.head.data.length:le.length:($>le.highWaterMark&&(le.highWaterMark=function z($){return $>=_?$=_:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}($)),$<=le.length?$:le.ended?le.length:(le.needReadable=!0,0))}function U($){var le=$._readableState;o("emitReadable",le.needReadable,le.emittedReadable),le.needReadable=!1,le.emittedReadable||(o("emitReadable",le.flowing),le.emittedReadable=!0,S.nextTick(G,$))}function G($){var le=$._readableState;o("emitReadable_",le.destroyed,le.length,le.ended),!le.destroyed&&(le.length||le.ended)&&($.emit("readable"),le.emittedReadable=!1),le.needReadable=!le.flowing&&!le.ended&&le.length<=le.highWaterMark,K($)}function Y($,le){le.readingMore||(le.readingMore=!0,S.nextTick(ee,$,le))}function ee($,le){for(;!le.reading&&!le.ended&&(le.length<le.highWaterMark||le.flowing&&0===le.length);){var se=le.length;if(o("maybeReadMore read 0"),$.read(0),se===le.length)break}le.readingMore=!1}function ce($){var le=$._readableState;le.readableListening=$.listenerCount("readable")>0,le.resumeScheduled&&!le.paused?le.flowing=!0:$.listenerCount("data")>0&&$.resume()}function pe($){o("readable nexttick read 0"),$.read(0)}function Q($,le){o("resume",le.reading),le.reading||$.read(0),le.resumeScheduled=!1,$.emit("resume"),K($),le.flowing&&!le.reading&&$.read(0)}function K($){var le=$._readableState;for(o("flow",le.flowing);le.flowing&&null!==$.read(););}function Z($,le){return 0===le.length?null:(le.objectMode?se=le.buffer.shift():!$||$>=le.length?(se=le.decoder?le.buffer.join(""):1===le.buffer.length?le.buffer.first():le.buffer.concat(le.length),le.buffer.clear()):se=le.buffer.consume($,le.decoder),se);var se}function q($){var le=$._readableState;o("endReadable",le.endEmitted),le.endEmitted||(le.ended=!0,S.nextTick(fe,le,$))}function fe($,le){if(o("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&0===$.length&&($.endEmitted=!0,le.readable=!1,le.emit("end"),$.autoDestroy)){var se=le._writableState;(!se||se.autoDestroy&&se.finished)&&le.destroy()}}function re($,le){for(var se=0,de=$.length;se<de;se++)if($[se]===le)return se;return-1}D.prototype.read=function($){o("read",$),$=parseInt($,10);var le=this._readableState,se=$;if(0!==$&&(le.emittedReadable=!1),0===$&&le.needReadable&&((0!==le.highWaterMark?le.length>=le.highWaterMark:le.length>0)||le.ended))return o("read: emitReadable",le.length,le.ended),0===le.length&&le.ended?q(this):U(this),null;if(0===($=V($,le))&&le.ended)return 0===le.length&&q(this),null;var we,de=le.needReadable;return o("need readable",de),(0===le.length||le.length-$<le.highWaterMark)&&o("length less than watermark",de=!0),le.ended||le.reading?o("reading or ended",de=!1):de&&(o("do read"),le.reading=!0,le.sync=!0,0===le.length&&(le.needReadable=!0),this._read(le.highWaterMark),le.sync=!1,le.reading||($=V(se,le))),null===(we=$>0?Z($,le):null)?(le.needReadable=le.length<=le.highWaterMark,$=0):(le.length-=$,le.awaitDrain=0),0===le.length&&(le.ended||(le.needReadable=!0),se!==$&&le.ended&&q(this)),null!==we&&this.emit("data",we),we},D.prototype._read=function($){x(this,new u("_read()"))},D.prototype.pipe=function($,le){var se=this,de=this._readableState;switch(de.pipesCount){case 0:de.pipes=$;break;case 1:de.pipes=[de.pipes,$];break;default:de.pipes.push($)}de.pipesCount+=1,o("pipe count=%d opts=%j",de.pipesCount,le);var Ee=le&&!1===le.end||$===S.stdout||$===S.stderr?Ke:Ne;function Me(ut,ot){o("onunpipe"),ut===se&&ot&&!1===ot.hasUnpiped&&(ot.hasUnpiped=!0,function Ce(){o("cleanup"),$.removeListener("close",Qe),$.removeListener("finish",ze),$.removeListener("drain",Ve),$.removeListener("error",Je),$.removeListener("unpipe",Me),se.removeListener("end",Ne),se.removeListener("end",Ke),se.removeListener("data",Ie),Pe=!0,de.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&Ve()}())}function Ne(){o("onend"),$.end()}de.endEmitted?S.nextTick(Ee):se.once("end",Ee),$.on("unpipe",Me);var Ve=function ue($){return function(){var se=$._readableState;o("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,0===se.awaitDrain&&R($,"data")&&(se.flowing=!0,K($))}}(se);$.on("drain",Ve);var Pe=!1;function Ie(ut){o("ondata");var ot=$.write(ut);o("dest.write",ot),!1===ot&&((1===de.pipesCount&&de.pipes===$||de.pipesCount>1&&-1!==re(de.pipes,$))&&!Pe&&(o("false write response, pause",de.awaitDrain),de.awaitDrain++),se.pause())}function Je(ut){o("onerror",ut),Ke(),$.removeListener("error",Je),0===R($,"error")&&x($,ut)}function Qe(){$.removeListener("finish",ze),Ke()}function ze(){o("onfinish"),$.removeListener("close",Qe),Ke()}function Ke(){o("unpipe"),se.unpipe($)}return se.on("data",Ie),function M($,le,se){if("function"==typeof $.prependListener)return $.prependListener(le,se);$._events&&$._events[le]?Array.isArray($._events[le])?$._events[le].unshift(se):$._events[le]=[se,$._events[le]]:$.on(le,se)}($,"error",Je),$.once("close",Qe),$.once("finish",ze),$.emit("pipe",se),de.flowing||(o("pipe resume"),se.resume()),$},D.prototype.unpipe=function($){var le=this._readableState,se={hasUnpiped:!1};if(0===le.pipesCount)return this;if(1===le.pipesCount)return $&&$!==le.pipes||($||($=le.pipes),le.pipes=null,le.pipesCount=0,le.flowing=!1,$&&$.emit("unpipe",this,se)),this;if(!$){var de=le.pipes,we=le.pipesCount;le.pipes=null,le.pipesCount=0,le.flowing=!1;for(var Ee=0;Ee<we;Ee++)de[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}var Me=re(le.pipes,$);return-1===Me||(le.pipes.splice(Me,1),le.pipesCount-=1,1===le.pipesCount&&(le.pipes=le.pipes[0]),$.emit("unpipe",this,se)),this},D.prototype.addListener=D.prototype.on=function($,le){var se=I.prototype.on.call(this,$,le),de=this._readableState;return"data"===$?(de.readableListening=this.listenerCount("readable")>0,!1!==de.flowing&&this.resume()):"readable"===$&&!de.endEmitted&&!de.readableListening&&(de.readableListening=de.needReadable=!0,de.flowing=!1,de.emittedReadable=!1,o("on readable",de.length,de.reading),de.length?U(this):de.reading||S.nextTick(pe,this)),se},D.prototype.removeListener=function($,le){var se=I.prototype.removeListener.call(this,$,le);return"readable"===$&&S.nextTick(ce,this),se},D.prototype.removeAllListeners=function($){var le=I.prototype.removeAllListeners.apply(this,arguments);return("readable"===$||void 0===$)&&S.nextTick(ce,this),le},D.prototype.resume=function(){var $=this._readableState;return $.flowing||(o("resume"),$.flowing=!$.readableListening,function te($,le){le.resumeScheduled||(le.resumeScheduled=!0,S.nextTick(Q,$,le))}(this,$)),$.paused=!1,this},D.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},D.prototype.wrap=function($){var le=this,se=this._readableState,de=!1;for(var we in $.on("end",function(){if(o("wrapped end"),se.decoder&&!se.ended){var Me=se.decoder.end();Me&&Me.length&&le.push(Me)}le.push(null)}),$.on("data",function(Me){o("wrapped data"),se.decoder&&(Me=se.decoder.write(Me)),se.objectMode&&null==Me||!(se.objectMode||Me&&Me.length)||le.push(Me)||(de=!0,$.pause())}),$)void 0===this[we]&&"function"==typeof $[we]&&(this[we]=function(Ne){return function(){return $[Ne].apply($,arguments)}}(we));for(var Ee=0;Ee<E.length;Ee++)$.on(E[Ee],this.emit.bind(this,E[Ee]));return this._read=function(Me){o("wrapped _read",Me),de&&(de=!1,$.resume())},this},"function"==typeof Symbol&&(D.prototype[Symbol.asyncIterator]=function(){return void 0===T&&(T=t(68221)),T(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(le){this._readableState&&(this._readableState.flowing=le)}}),D._fromList=Z,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(D.from=function($,le){return void 0===L&&(L=t(31748)),L(D,$,le)})},74308:function(oe,J,t){"use strict";oe.exports=r;var S=t(74322).q,k=S.ERR_METHOD_NOT_IMPLEMENTED,l=S.ERR_MULTIPLE_CALLBACK,R=S.ERR_TRANSFORM_ALREADY_TRANSFORMING,I=S.ERR_TRANSFORM_WITH_LENGTH_0,v=t(37865);function w(o,f){var h=this._transformState;h.transforming=!1;var d=h.writecb;if(null===d)return this.emit("error",new l);h.writechunk=null,h.writecb=null,null!=f&&this.push(f),d(o);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function r(o){if(!(this instanceof r))return new r(o);v.call(this,o),this._transformState={afterTransform:w.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&("function"==typeof o.transform&&(this._transform=o.transform),"function"==typeof o.flush&&(this._flush=o.flush)),this.on("prefinish",n)}function n(){var o=this;"function"!=typeof this._flush||this._readableState.destroyed?c(this,null,null):this._flush(function(f,h){c(o,f,h)})}function c(o,f,h){if(f)return o.emit("error",f);if(null!=h&&o.push(h),o._writableState.length)throw new I;if(o._transformState.transforming)throw new R;return o.push(null)}t(42018)(r,v),r.prototype.push=function(o,f){return this._transformState.needTransform=!1,v.prototype.push.call(this,o,f)},r.prototype._transform=function(o,f,h){h(new k("_transform()"))},r.prototype._write=function(o,f,h){var d=this._transformState;if(d.writecb=h,d.writechunk=o,d.writeencoding=f,!d.transforming){var b=this._readableState;(d.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},r.prototype._read=function(o){var f=this._transformState;null===f.writechunk||f.transforming?f.needTransform=!0:(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform))},r.prototype._destroy=function(o,f){v.prototype._destroy.call(this,o,function(h){f(h)})}},37493:function(oe,J,t){"use strict";var R,S=t(90386);function l(K){var Z=this;this.next=null,this.entry=null,this.finish=function(){!function Q(K,Z,q){var fe=K.entry;for(K.entry=null;fe;){var re=fe.callback;Z.pendingcb--,re(q),fe=fe.next}Z.corkedRequestsFree.next=K}(Z,K)}}oe.exports=i,i.WritableState=E;var I={deprecate:t(20588)},v=t(71405),w=t(12856).Buffer,r=t.g.Uint8Array||function(){};var M,o=t(65756),h=t(56306).getHighWaterMark,d=t(74322).q,b=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,A=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,u=d.ERR_STREAM_DESTROYED,g=d.ERR_STREAM_NULL_VALUES,C=d.ERR_STREAM_WRITE_AFTER_END,T=d.ERR_UNKNOWN_ENCODING,L=o.errorOrDestroy;function x(){}function E(K,Z,q){R=R||t(37865),"boolean"!=typeof q&&(q=Z instanceof R),this.objectMode=!!(K=K||{}).objectMode,q&&(this.objectMode=this.objectMode||!!K.writableObjectMode),this.highWaterMark=h(this,K,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===K.decodeStrings),this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(re){!function H(K,Z){var q=K._writableState,fe=q.sync,re=q.writecb;if("function"!=typeof re)throw new A;if(function V(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}(q),Z)!function z(K,Z,q,fe,re){--Z.pendingcb,q?(S.nextTick(re,fe),S.nextTick(pe,K,Z),K._writableState.errorEmitted=!0,L(K,fe)):(re(fe),K._writableState.errorEmitted=!0,L(K,fe),pe(K,Z))}(K,q,fe,Z,re);else{var $=ee(q)||K.destroyed;!$&&!q.corked&&!q.bufferProcessing&&q.bufferedRequest&&Y(K,q),fe?S.nextTick(U,K,q,$,re):U(K,q,$,re)}}(Z,re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==K.emitClose,this.autoDestroy=!!K.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function i(K){var Z=this instanceof(R=R||t(37865));if(!Z&&!M.call(i,this))return new i(K);this._writableState=new E(K,this,Z),this.writable=!0,K&&("function"==typeof K.write&&(this._write=K.write),"function"==typeof K.writev&&(this._writev=K.writev),"function"==typeof K.destroy&&(this._destroy=K.destroy),"function"==typeof K.final&&(this._final=K.final)),v.call(this)}function F(K,Z,q,fe,re,$){if(!q){var le=function B(K,Z,q){return!K.objectMode&&!1!==K.decodeStrings&&"string"==typeof Z&&(Z=w.from(Z,q)),Z}(Z,fe,re);fe!==le&&(q=!0,re="buffer",fe=le)}var se=Z.objectMode?1:fe.length;Z.length+=se;var de=Z.length<Z.highWaterMark;if(de||(Z.needDrain=!0),Z.writing||Z.corked){var we=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:fe,encoding:re,isBuf:q,callback:$,next:null},we?we.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else _(K,Z,!1,se,fe,re,$);return de}function _(K,Z,q,fe,re,$,le){Z.writelen=fe,Z.writecb=le,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new u("write")):q?K._writev(re,Z.onwrite):K._write(re,$,Z.onwrite),Z.sync=!1}function U(K,Z,q,fe){q||function G(K,Z){0===Z.length&&Z.needDrain&&(Z.needDrain=!1,K.emit("drain"))}(K,Z),Z.pendingcb--,fe(),pe(K,Z)}function Y(K,Z){Z.bufferProcessing=!0;var q=Z.bufferedRequest;if(K._writev&&q&&q.next){var re=new Array(Z.bufferedRequestCount),$=Z.corkedRequestsFree;$.entry=q;for(var le=0,se=!0;q;)re[le]=q,q.isBuf||(se=!1),q=q.next,le+=1;re.allBuffers=se,_(K,Z,!0,Z.length,re,"",$.finish),Z.pendingcb++,Z.lastBufferedRequest=null,$.next?(Z.corkedRequestsFree=$.next,$.next=null):Z.corkedRequestsFree=new l(Z),Z.bufferedRequestCount=0}else{for(;q;){var de=q.chunk;if(_(K,Z,!1,Z.objectMode?1:de.length,de,q.encoding,q.callback),q=q.next,Z.bufferedRequestCount--,Z.writing)break}null===q&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=q,Z.bufferProcessing=!1}function ee(K){return K.ending&&0===K.length&&null===K.bufferedRequest&&!K.finished&&!K.writing}function ue(K,Z){K._final(function(q){Z.pendingcb--,q&&L(K,q),Z.prefinished=!0,K.emit("prefinish"),pe(K,Z)})}function pe(K,Z){var q=ee(Z);if(q&&(function ce(K,Z){!Z.prefinished&&!Z.finalCalled&&("function"!=typeof K._final||Z.destroyed?(Z.prefinished=!0,K.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,S.nextTick(ue,K,Z)))}(K,Z),0===Z.pendingcb&&(Z.finished=!0,K.emit("finish"),Z.autoDestroy))){var fe=K._readableState;(!fe||fe.autoDestroy&&fe.endEmitted)&&K.destroy()}return q}t(42018)(i,v),E.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,q=[];Z;)q.push(Z),Z=Z.next;return q},function(){try{Object.defineProperty(E.prototype,"buffer",{get:I.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(i,Symbol.hasInstance,{value:function(Z){return!!M.call(this,Z)||this===i&&Z&&Z._writableState instanceof E}})):M=function(Z){return Z instanceof this},i.prototype.pipe=function(){L(this,new m)},i.prototype.write=function(K,Z,q){var fe=this._writableState,re=!1,$=!fe.objectMode&&function c(K){return w.isBuffer(K)||K instanceof r}(K);return $&&!w.isBuffer(K)&&(K=function n(K){return w.from(K)}(K)),"function"==typeof Z&&(q=Z,Z=null),$?Z="buffer":Z||(Z=fe.defaultEncoding),"function"!=typeof q&&(q=x),fe.ending?function D(K,Z){var q=new C;L(K,q),S.nextTick(Z,q)}(this,q):($||function y(K,Z,q,fe){var re;return null===q?re=new g:"string"!=typeof q&&!Z.objectMode&&(re=new b("chunk",["string","Buffer"],q)),!re||(L(K,re),S.nextTick(fe,re),!1)}(this,fe,K,q))&&(fe.pendingcb++,re=F(this,fe,$,K,Z,q)),re},i.prototype.cork=function(){this._writableState.corked++},i.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&Y(this,K))},i.prototype.setDefaultEncoding=function(Z){if("string"==typeof Z&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new T(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(i.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),i.prototype._write=function(K,Z,q){q(new p("_write()"))},i.prototype._writev=null,i.prototype.end=function(K,Z,q){var fe=this._writableState;return"function"==typeof K?(q=K,K=null,Z=null):"function"==typeof Z&&(q=Z,Z=null),null!=K&&this.write(K,Z),fe.corked&&(fe.corked=1,this.uncork()),fe.ending||function te(K,Z,q){Z.ending=!0,pe(K,Z),q&&(Z.finished?S.nextTick(q):K.once("finish",q)),Z.ended=!0,K.writable=!1}(this,fe,q),this},Object.defineProperty(i.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Z){this._writableState&&(this._writableState.destroyed=Z)}}),i.prototype.destroy=o.destroy,i.prototype._undestroy=o.undestroy,i.prototype._destroy=function(K,Z){Z(K)}},68221:function(oe,J,t){"use strict";var k,S=t(90386);function l(u,g,C){return g in u?Object.defineProperty(u,g,{value:C,enumerable:!0,configurable:!0,writable:!0}):u[g]=C,u}var R=t(12726),I=Symbol("lastResolve"),v=Symbol("lastReject"),w=Symbol("error"),r=Symbol("ended"),n=Symbol("lastPromise"),c=Symbol("handlePromise"),o=Symbol("stream");function f(u,g){return{value:u,done:g}}function h(u){var g=u[I];if(null!==g){var C=u[o].read();null!==C&&(u[n]=null,u[I]=null,u[v]=null,g(f(C,!1)))}}function d(u){S.nextTick(h,u)}var p=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((l(k={get stream(){return this[o]},next:function(){var g=this,C=this[w];if(null!==C)return Promise.reject(C);if(this[r])return Promise.resolve(f(void 0,!0));if(this[o].destroyed)return new Promise(function(E,M){S.nextTick(function(){g[w]?M(g[w]):E(f(void 0,!0))})});var L,T=this[n];if(T)L=new Promise(function b(u,g){return function(C,T){u.then(function(){g[r]?C(f(void 0,!0)):g[c](C,T)},T)}}(T,this));else{var x=this[o].read();if(null!==x)return Promise.resolve(f(x,!1));L=new Promise(this[c])}return this[n]=L,L}},Symbol.asyncIterator,function(){return this}),l(k,"return",function(){var g=this;return new Promise(function(C,T){g[o].destroy(null,function(L){L?T(L):C(f(void 0,!0))})})}),k),p);oe.exports=function(g){var C,T=Object.create(A,(l(C={},o,{value:g,writable:!0}),l(C,I,{value:null,writable:!0}),l(C,v,{value:null,writable:!0}),l(C,w,{value:null,writable:!0}),l(C,r,{value:g._readableState.endEmitted,writable:!0}),l(C,c,{value:function(x,E){var M=T[o].read();M?(T[n]=null,T[I]=null,T[v]=null,x(f(M,!1))):(T[I]=x,T[v]=E)},writable:!0}),C));return T[n]=null,R(g,function(L){if(L&&"ERR_STREAM_PREMATURE_CLOSE"!==L.code){var x=T[v];return null!==x&&(T[n]=null,T[I]=null,T[v]=null,x(L)),void(T[w]=L)}var E=T[I];null!==E&&(T[n]=null,T[I]=null,T[v]=null,E(f(void 0,!0))),T[r]=!0}),g.on("readable",d.bind(null,T)),T}},31125:function(oe,J,t){"use strict";function S(h,d){var b=Object.keys(h);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(h);d&&(p=p.filter(function(A){return Object.getOwnPropertyDescriptor(h,A).enumerable})),b.push.apply(b,p)}return b}function l(h,d,b){return d in h?Object.defineProperty(h,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):h[d]=b,h}function I(h,d){for(var b=0;b<d.length;b++){var p=d[b];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}var r=t(12856).Buffer,c=t(69862).inspect,o=c&&c.custom||"inspect";function f(h,d,b){r.prototype.copy.call(h,d,b)}oe.exports=function(){function h(){(function R(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}return function v(h,d,b){return d&&I(h.prototype,d),b&&I(h,b),h}(h,[{key:"push",value:function(b){var p={data:b,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(b){var p={data:b,next:this.head};0===this.length&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(0!==this.length){var b=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(0===this.length)return"";for(var p=this.head,A=""+p.data;p=p.next;)A+=b+p.data;return A}},{key:"concat",value:function(b){if(0===this.length)return r.alloc(0);for(var p=r.allocUnsafe(b>>>0),A=this.head,m=0;A;)f(A.data,p,m),m+=A.data.length,A=A.next;return p}},{key:"consume",value:function(b,p){var A;return b<this.head.data.length?(A=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):A=b===this.head.data.length?this.shift():p?this._getString(b):this._getBuffer(b),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var p=this.head,A=1,m=p.data;for(b-=m.length;p=p.next;){var u=p.data,g=b>u.length?u.length:b;if(m+=g===u.length?u:u.slice(0,b),0==(b-=g)){g===u.length?(++A,this.head=p.next?p.next:this.tail=null):(this.head=p,p.data=u.slice(g));break}++A}return this.length-=A,m}},{key:"_getBuffer",value:function(b){var p=r.allocUnsafe(b),A=this.head,m=1;for(A.data.copy(p),b-=A.data.length;A=A.next;){var u=A.data,g=b>u.length?u.length:b;if(u.copy(p,p.length-b,0,g),0==(b-=g)){g===u.length?(++m,this.head=A.next?A.next:this.tail=null):(this.head=A,A.data=u.slice(g));break}++m}return this.length-=m,p}},{key:o,value:function(b,p){return c(this,function k(h){for(var d=1;d<arguments.length;d++){var b=null!=arguments[d]?arguments[d]:{};d%2?S(Object(b),!0).forEach(function(p){l(h,p,b[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(b)):S(Object(b)).forEach(function(p){Object.defineProperty(h,p,Object.getOwnPropertyDescriptor(b,p))})}return h}({},p,{depth:0,customInspect:!1}))}}]),h}()},65756:function(oe,J,t){"use strict";var S=t(90386);function l(r,n){v(r,n),R(r)}function R(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function v(r,n){r.emit("error",n)}oe.exports={destroy:function k(r,n){var c=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(n?n(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,S.nextTick(v,this,r)):S.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(h){!n&&h?c._writableState?c._writableState.errorEmitted?S.nextTick(R,c):(c._writableState.errorEmitted=!0,S.nextTick(l,c,h)):S.nextTick(l,c,h):n?(S.nextTick(R,c),n(h)):S.nextTick(R,c)}),this)},undestroy:function I(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function w(r,n){var c=r._readableState,o=r._writableState;c&&c.autoDestroy||o&&o.autoDestroy?r.destroy(n):r.emit("error",n)}}},12726:function(oe,J,t){"use strict";var S=t(74322).q.ERR_STREAM_PREMATURE_CLOSE;function l(){}oe.exports=function I(v,w,r){if("function"==typeof w)return I(v,null,w);w||(w={}),r=function k(v){var w=!1;return function(){if(!w){w=!0;for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];v.apply(this,n)}}}(r||l);var n=w.readable||!1!==w.readable&&v.readable,c=w.writable||!1!==w.writable&&v.writable,o=function(){v.writable||h()},f=v._writableState&&v._writableState.finished,h=function(){c=!1,f=!0,n||r.call(v)},d=v._readableState&&v._readableState.endEmitted,b=function(){n=!1,d=!0,c||r.call(v)},p=function(g){r.call(v,g)},A=function(){var g;return n&&!d?((!v._readableState||!v._readableState.ended)&&(g=new S),r.call(v,g)):c&&!f?((!v._writableState||!v._writableState.ended)&&(g=new S),r.call(v,g)):void 0},m=function(){v.req.on("finish",h)};return function R(v){return v.setHeader&&"function"==typeof v.abort}(v)?(v.on("complete",h),v.on("abort",A),v.req?m():v.on("request",m)):c&&!v._writableState&&(v.on("end",o),v.on("close",o)),v.on("end",b),v.on("finish",h),!1!==w.error&&v.on("error",p),v.on("close",A),function(){v.removeListener("complete",h),v.removeListener("abort",A),v.removeListener("request",m),v.req&&v.req.removeListener("finish",h),v.removeListener("end",o),v.removeListener("close",o),v.removeListener("finish",h),v.removeListener("end",b),v.removeListener("error",p),v.removeListener("close",A)}}},31748:function(oe){oe.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(oe,J,t){"use strict";var S;var l=t(74322).q,R=l.ERR_MISSING_ARGS,I=l.ERR_STREAM_DESTROYED;function v(h){if(h)throw h}function n(h){h()}function c(h,d){return h.pipe(d)}oe.exports=function f(){for(var h=arguments.length,d=new Array(h),b=0;b<h;b++)d[b]=arguments[b];var p=function o(h){return h.length&&"function"==typeof h[h.length-1]?h.pop():v}(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new R("streams");var A,m=d.map(function(u,g){var C=g<d.length-1;return function r(h,d,b,p){p=function k(h){var d=!1;return function(){d||(d=!0,h.apply(void 0,arguments))}}(p);var A=!1;h.on("close",function(){A=!0}),void 0===S&&(S=t(12726)),S(h,{readable:d,writable:b},function(u){if(u)return p(u);A=!0,p()});var m=!1;return function(u){if(!A&&!m){if(m=!0,function w(h){return h.setHeader&&"function"==typeof h.abort}(h))return h.abort();if("function"==typeof h.destroy)return h.destroy();p(u||new I("pipe"))}}}(u,C,g>0,function(L){A||(A=L),L&&m.forEach(n),!C&&(m.forEach(n),p(A))})});return d.reduce(c)}},56306:function(oe,J,t){"use strict";var S=t(74322).q.ERR_INVALID_OPT_VALUE;oe.exports={getHighWaterMark:function l(R,I,v,w){var r=function k(R,I,v){return null!=R.highWaterMark?R.highWaterMark:I?R[v]:null}(I,w,v);if(null!=r){if(!isFinite(r)||Math.floor(r)!==r||r<0)throw new S(w?v:"highWaterMark",r);return Math.floor(r)}return R.objectMode?16:16384}}},71405:function(oe,J,t){oe.exports=t(15398).EventEmitter},68019:function(oe,J,t){"use strict";var S=t(71665).Buffer,k=S.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function I(m){var u;switch(this.encoding=function R(m){var u=function l(m){if(!m)return"utf8";for(var u;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(u)return;m=(""+m).toLowerCase(),u=!0}}(m);if("string"!=typeof u&&(S.isEncoding===k||!k(m)))throw new Error("Unknown encoding: "+m);return u||m}(m),this.encoding){case"utf16le":this.text=f,this.end=h,u=4;break;case"utf8":this.fillLast=n,u=4;break;case"base64":this.text=d,this.end=b,u=3;break;default:return this.write=p,void(this.end=A)}this.lastNeed=0,this.lastTotal=0,this.lastChar=S.allocUnsafe(u)}function v(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function n(m){var u=this.lastTotal-this.lastNeed,g=function r(m,u,g){if(128!=(192&u[0]))return m.lastNeed=0,"\ufffd";if(m.lastNeed>1&&u.length>1){if(128!=(192&u[1]))return m.lastNeed=1,"\ufffd";if(m.lastNeed>2&&u.length>2&&128!=(192&u[2]))return m.lastNeed=2,"\ufffd"}}(this,m);return void 0!==g?g:this.lastNeed<=m.length?(m.copy(this.lastChar,u,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,u,0,m.length),void(this.lastNeed-=m.length))}function f(m,u){if((m.length-u)%2==0){var g=m.toString("utf16le",u);if(g){var C=g.charCodeAt(g.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",u,m.length-1)}function h(m){var u=m&&m.length?this.write(m):"";return this.lastNeed?u+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):u}function d(m,u){var g=(m.length-u)%3;return 0===g?m.toString("base64",u):(this.lastNeed=3-g,this.lastTotal=3,1===g?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",u,m.length-g))}function b(m){var u=m&&m.length?this.write(m):"";return this.lastNeed?u+this.lastChar.toString("base64",0,3-this.lastNeed):u}function p(m){return m.toString(this.encoding)}function A(m){return m&&m.length?this.write(m):""}J.s=I,I.prototype.write=function(m){if(0===m.length)return"";var u,g;if(this.lastNeed){if(void 0===(u=this.fillLast(m)))return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<m.length?u?u+this.text(m,g):this.text(m,g):u||""},I.prototype.end=function o(m){var u=m&&m.length?this.write(m):"";return this.lastNeed?u+"\ufffd":u},I.prototype.text=function c(m,u){var g=function w(m,u,g){var C=u.length-1;if(C<g)return 0;var T=v(u[C]);return T>=0?(T>0&&(m.lastNeed=T-1),T):--C<g||-2===T?0:(T=v(u[C]))>=0?(T>0&&(m.lastNeed=T-2),T):--C<g||-2===T?0:(T=v(u[C]))>=0?(T>0&&(2===T?T=0:m.lastNeed=T-3),T):0}(this,m,u);if(!this.lastNeed)return m.toString("utf8",u);this.lastTotal=g;var C=m.length-(g-this.lastNeed);return m.copy(this.lastChar,0,C),m.toString("utf8",u,C)},I.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},90715:function(oe,J,t){var S=t(32791),k=t(41633)("stream-parser");oe.exports=function w(m){var u=m&&"function"==typeof m._transform;if(!(u||m&&"function"==typeof m._write))throw new Error("must pass a Writable or Transform stream in");k("extending Parser into stream"),m._bytes=n,m._skipBytes=c,u&&(m._passthrough=o),u?m._transform=h:m._write=f};var l=-1,R=0,I=1,v=2;function r(m){k("initializing parser stream"),m._parserBytesLeft=0,m._parserBuffers=[],m._parserBuffered=0,m._parserState=l,m._parserCallback=null,"function"==typeof m.push&&(m._parserOutput=m.push.bind(m)),m._parserInit=!0}function n(m,u){S(!this._parserCallback,'there is already a "callback" set!'),S(isFinite(m)&&m>0,'can only buffer a finite number of bytes > 0, got "'+m+'"'),this._parserInit||r(this),k("buffering %o bytes",m),this._parserBytesLeft=m,this._parserCallback=u,this._parserState=R}function c(m,u){S(!this._parserCallback,'there is already a "callback" set!'),S(m>0,'can only skip > 0 bytes, got "'+m+'"'),this._parserInit||r(this),k("skipping %o bytes",m),this._parserBytesLeft=m,this._parserCallback=u,this._parserState=I}function o(m,u){S(!this._parserCallback,'There is already a "callback" set!'),S(m>0,'can only pass through > 0 bytes, got "'+m+'"'),this._parserInit||r(this),k("passing through %o bytes",m),this._parserBytesLeft=m,this._parserCallback=u,this._parserState=v}function f(m,u,g){this._parserInit||r(this),k("write(%o bytes)",m.length),"function"==typeof u&&(g=u),p(this,m,null,g)}function h(m,u,g){this._parserInit||r(this),k("transform(%o bytes)",m.length),"function"!=typeof u&&(u=this._parserOutput),p(this,m,u,g)}function b(m,u,g,C){if(m._parserBytesLeft-=u.length,k("%o bytes left for stream piece",m._parserBytesLeft),m._parserState===R?(m._parserBuffers.push(u),m._parserBuffered+=u.length):m._parserState===v&&g(u),0!==m._parserBytesLeft)return C;var T=m._parserCallback;if(T&&m._parserState===R&&m._parserBuffers.length>1&&(u=Buffer.concat(m._parserBuffers,m._parserBuffered)),m._parserState!==R&&(u=null),m._parserCallback=null,m._parserBuffered=0,m._parserState=l,m._parserBuffers.splice(0),T){var L=[];u&&L.push(u),g&&L.push(g);var x=T.length>L.length;x&&L.push(A(C));var E=T.apply(m,L);if(!x||C===E)return C}}var p=A(function d(m,u,g,C){return m._parserBytesLeft<=0?C(new Error("got data but not currently parsing anything")):u.length<=m._parserBytesLeft?function(){return b(m,u,g,C)}:function(){var T=u.slice(0,m._parserBytesLeft);return b(m,T,g,function(L){return L?C(L):u.length>T.length?function(){return d(m,u.slice(T.length),g,C)}:void 0})}});function A(m){return function(){for(var u=m.apply(this,arguments);"function"==typeof u;)u=u();return u}}},41633:function(oe,J,t){var S=t(90386);function v(){var r;try{r=J.storage.debug}catch{}return!r&&typeof S<"u"&&"env"in S&&(r=S.env.DEBUG),r}(J=oe.exports=t(74469)).log=function R(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},J.formatArgs=function l(r){var n=this.useColors;if(r[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+r[0]+(n?"%c ":" ")+"+"+J.humanize(this.diff),n){var c="color: "+this.color;r.splice(1,0,c,"color: inherit");var o=0,f=0;r[0].replace(/%[a-zA-Z%]/g,function(h){"%%"!==h&&(o++,"%c"===h&&(f=o))}),r.splice(f,0,c)}},J.save=function I(r){try{null==r?J.storage.removeItem("debug"):J.storage.debug=r}catch{}},J.load=v,J.useColors=function k(){return!!(typeof window<"u"&&window.process&&"renderer"===window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},J.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:function w(){try{return window.localStorage}catch{}}(),J.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],J.formatters.j=function(r){try{return JSON.stringify(r)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}},J.enable(v())},74469:function(oe,J,t){var S;function l(r){function n(){if(n.enabled){var c=n,o=+new Date;c.diff=o-(S||o),c.prev=S,c.curr=o,S=o;for(var h=new Array(arguments.length),d=0;d<h.length;d++)h[d]=arguments[d];h[0]=J.coerce(h[0]),"string"!=typeof h[0]&&h.unshift("%O");var b=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,function(A,m){if("%%"===A)return A;b++;var u=J.formatters[m];return"function"==typeof u&&(A=u.call(c,h[b]),h.splice(b,1),b--),A}),J.formatArgs.call(c,h),(n.log||J.log||console.log.bind(console)).apply(c,h)}}return n.namespace=r,n.enabled=J.enabled(r),n.useColors=J.useColors(),n.color=function k(r){var c,n=0;for(c in r)n=(n<<5)-n+r.charCodeAt(c),n|=0;return J.colors[Math.abs(n)%J.colors.length]}(r),"function"==typeof J.init&&J.init(n),n}(J=oe.exports=l.debug=l.default=l).coerce=function w(r){return r instanceof Error?r.stack||r.message:r},J.disable=function I(){J.enable("")},J.enable=function R(r){J.save(r),J.names=[],J.skips=[];for(var n=("string"==typeof r?r:"").split(/[\s,]+/),c=n.length,o=0;o<c;o++)n[o]&&("-"===(r=n[o].replace(/\*/g,".*?"))[0]?J.skips.push(new RegExp("^"+r.substr(1)+"$")):J.names.push(new RegExp("^"+r+"$")))},J.enabled=function v(r){var n,c;for(n=0,c=J.skips.length;n<c;n++)if(J.skips[n].test(r))return!1;for(n=0,c=J.names.length;n<c;n++)if(J.names[n].test(r))return!0;return!1},J.humanize=t(11375),J.names=[],J.skips=[],J.formatters={}},11375:function(oe){var J=1e3,t=60*J,S=60*t,k=24*S;function w(r,n,c){if(!(r<n))return r<1.5*n?Math.floor(r/n)+" "+c:Math.ceil(r/n)+" "+c+"s"}oe.exports=function(r,n){n=n||{};var c=typeof r;if("string"===c&&r.length>0)return function R(r){if(!((r=String(r)).length>100)){var n=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(n){var c=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*c;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*S;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*J;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(r);if("number"===c&&!1===isNaN(r))return n.long?function v(r){return w(r,k,"day")||w(r,S,"hour")||w(r,t,"minute")||w(r,J,"second")||r+" ms"}(r):function I(r){return r>=k?Math.round(r/k)+"d":r>=S?Math.round(r/S)+"h":r>=t?Math.round(r/t)+"m":r>=J?Math.round(r/J)+"s":r+"ms"}(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},99011:function(oe,J,t){"use strict";var S=t(88641);oe.exports=function(l,R,I){if(null==l)throw Error("First argument should be a string");if(null==R)throw Error("Separator should be a string or a RegExp");I?("string"==typeof I||Array.isArray(I))&&(I={ignore:I}):I={},null==I.escape&&(I.escape=!0),null==I.ignore?I.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof I.ignore&&(I.ignore=[I.ignore]),I.ignore=I.ignore.map(function(h){return 1===h.length&&(h+=h),h}));var v=S.parse(l,{flat:!0,brackets:I.ignore}),r=v[0].split(R);if(I.escape){for(var n=[],c=0;c<r.length;c++){var o=r[c];"\\"===o[o.length-1]&&"\\"!==o[o.length-2]?(n.push(o+R+r[c+1]),c++):n.push(o)}r=n}for(c=0;c<r.length;c++)v[0]=r[c],r[c]=S.stringify(v,{flat:!0});return r}},68664:function(oe){"use strict";oe.exports=function J(t){for(var S=t.length,k=new Array(S),l=new Array(S),R=new Array(S),I=new Array(S),v=new Array(S),w=new Array(S),r=0;r<S;++r)k[r]=-1,l[r]=0,R[r]=!1,I[r]=0,v[r]=-1,w[r]=[];var h,n=0,c=[],o=[];function f(p){var A=[p],m=[p];for(k[p]=l[p]=n,R[p]=!0,n+=1;m.length>0;){var u=t[p=m[m.length-1]];if(I[p]<u.length){for(var g=I[p];g<u.length;++g){var C=u[g];if(k[C]<0){k[C]=l[C]=n,R[C]=!0,n+=1,A.push(C),m.push(C);break}R[C]&&(l[p]=0|Math.min(l[p],l[C])),v[C]>=0&&w[p].push(v[C])}I[p]=g}else{if(l[p]===k[p]){var T=[],L=[],x=0;for(g=A.length-1;g>=0;--g){var E=A[g];if(R[E]=!1,T.push(E),L.push(w[E]),x+=w[E].length,v[E]=c.length,E===p){A.length=g;break}}c.push(T);var M=new Array(x);for(g=0;g<L.length;g++)for(var i=0;i<L[g].length;i++)M[--x]=L[g][i];o.push(M)}m.pop()}}}for(r=0;r<S;++r)k[r]<0&&f(r);for(r=0;r<o.length;r++){var d=o[r];if(0!==d.length){d.sort(function(A,m){return A-m}),h=[d[0]];for(var b=1;b<d.length;b++)d[b]!==d[b-1]&&h.push(d[b]);o[r]=h}}return{components:c,adjacencyList:o}}},7095:function(oe,J,t){"use strict";t.r(J);var S=function(n,c){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function r(n,c){var o=[],f=!0,h=!1,d=void 0;try{for(var p,b=n[Symbol.iterator]();!(f=(p=b.next()).done)&&(o.push(p.value),!c||o.length!==c);f=!0);}catch(A){h=!0,d=A}finally{try{!f&&b.return&&b.return()}finally{if(h)throw d}}return o}(n,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")},k=2*Math.PI,l=function(n,c,o,f,h,d,b){var p=n.x,A=n.y;return{x:f*(p*=c)-h*(A*=o)+d,y:h*p+f*A+b}},R=function(n,c){var o=1.5707963267948966===c?.551915024494:-1.5707963267948966===c?-.551915024494:1.3333333333333333*Math.tan(c/4),f=Math.cos(n),h=Math.sin(n),d=Math.cos(n+c),b=Math.sin(n+c);return[{x:f-h*o,y:h+f*o},{x:d+b*o,y:b-d*o},{x:d,y:b}]},I=function(n,c,o,f){var d=n*o+c*f;return d>1&&(d=1),d<-1&&(d=-1),(n*f-c*o<0?-1:1)*Math.acos(d)};J.default=function(n){var c=n.px,o=n.py,f=n.cx,h=n.cy,d=n.rx,b=n.ry,p=n.xAxisRotation,A=void 0===p?0:p,m=n.largeArcFlag,u=void 0===m?0:m,g=n.sweepFlag,C=void 0===g?0:g,T=[];if(0===d||0===b)return[];var L=Math.sin(A*k/360),x=Math.cos(A*k/360),E=x*(c-f)/2+L*(o-h)/2,M=-L*(c-f)/2+x*(o-h)/2;if(0===E&&0===M)return[];d=Math.abs(d),b=Math.abs(b);var i=Math.pow(E,2)/Math.pow(d,2)+Math.pow(M,2)/Math.pow(b,2);i>1&&(d*=Math.sqrt(i),b*=Math.sqrt(i));var D=function(n,c,o,f,h,d,b,p,A,m,u,g){var C=Math.pow(h,2),T=Math.pow(d,2),L=Math.pow(u,2),x=Math.pow(g,2),E=C*T-C*x-T*L;E<0&&(E=0),E/=C*x+T*L;var M=(E=Math.sqrt(E)*(b===p?-1:1))*h/d*g,i=E*-d/h*u,D=m*M-A*i+(n+o)/2,y=A*M+m*i+(c+f)/2,B=(u-M)/h,F=(g-i)/d,_=(-u-M)/h,z=(-g-i)/d,V=I(1,0,B,F),H=I(B,F,_,z);return 0===p&&H>0&&(H-=k),1===p&&H<0&&(H+=k),[D,y,V,H]}(c,o,f,h,d,b,u,C,L,x,E,M),y=S(D,4),B=y[0],F=y[1],_=y[2],z=y[3],V=Math.abs(z)/(k/4);Math.abs(1-V)<1e-7&&(V=1);var H=Math.max(Math.ceil(V),1);z/=H;for(var U=0;U<H;U++)T.push(R(_,z)),_+=z;return T.map(function(G){var Y=l(G[0],d,b,x,L,B,F),ee=Y.x,ue=Y.y,ce=l(G[1],d,b,x,L,B,F),pe=ce.x,te=ce.y,Q=l(G[2],d,b,x,L,B,F);return{x1:ee,y1:ue,x2:pe,y2:te,x:Q.x,y:Q.y}})}},1750:function(oe,J,t){"use strict";var S=t(95616),k=t(65185),l=t(29988),R=t(89546),I=t(32791);oe.exports=function v(w){if(Array.isArray(w)&&1===w.length&&"string"==typeof w[0]&&(w=w[0]),"string"==typeof w&&(I(R(w),"String is not an SVG path."),w=S(w)),I(Array.isArray(w),"Argument should be a string or an array of path segments."),w=k(w),!(w=l(w)).length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],n=0,c=w.length;n<c;n++)for(var o=w[n].slice(1),f=0;f<o.length;f+=2)o[f+0]<r[0]&&(r[0]=o[f+0]),o[f+1]<r[1]&&(r[1]=o[f+1]),o[f+0]>r[2]&&(r[2]=o[f+0]),o[f+1]>r[3]&&(r[3]=o[f+1]);return r}},29988:function(oe,J,t){"use strict";oe.exports=function k(I){for(var v,w=[],r=0,n=0,c=0,o=0,f=null,h=null,d=0,b=0,p=0,A=I.length;p<A;p++){var m=I[p],u=m[0];switch(u){case"M":c=m[1],o=m[2];break;case"A":var g=S({px:d,py:b,cx:m[6],cy:m[7],rx:m[1],ry:m[2],xAxisRotation:m[3],largeArcFlag:m[4],sweepFlag:m[5]});if(!g.length)continue;for(var T,C=0;C<g.length;C++)m=["C",(T=g[C]).x1,T.y1,T.x2,T.y2,T.x,T.y],C<g.length-1&&w.push(m);break;case"S":var L=d,x=b;("C"==v||"S"==v)&&(L+=L-r,x+=x-n),m=["C",L,x,m[1],m[2],m[3],m[4]];break;case"T":"Q"==v||"T"==v?(f=2*d-f,h=2*b-h):(f=d,h=b),m=R(d,b,f,h,m[1],m[2]);break;case"Q":f=m[1],h=m[2],m=R(d,b,m[1],m[2],m[3],m[4]);break;case"L":m=l(d,b,m[1],m[2]);break;case"H":m=l(d,b,m[1],b);break;case"V":m=l(d,b,d,m[1]);break;case"Z":m=l(d,b,c,o)}v=u,d=m[m.length-2],b=m[m.length-1],m.length>4?(r=m[m.length-4],n=m[m.length-3]):(r=d,n=b),w.push(m)}return w};var S=t(7095);function l(I,v,w,r){return["C",I,v,w,r,w,r]}function R(I,v,w,r,n,c){return["C",I/3+.6666666666666666*w,v/3+.6666666666666666*r,n/3+.6666666666666666*w,c/3+.6666666666666666*r,n,c]}},82019:function(oe,J,t){"use strict";var n,S=t(1750),k=t(95616),l=t(31457),R=t(89546),I=t(44781),v=document.createElement("canvas"),w=v.getContext("2d");oe.exports=function r(o,f){if(!R(o))throw Error("Argument should be valid svg path string");var h,d;f||(f={}),f.shape?(h=f.shape[0],d=f.shape[1]):(h=v.width=f.w||f.width||200,d=v.height=f.h||f.height||200);var b=Math.min(h,d),p=f.stroke||0,A=f.viewbox||f.viewBox||S(o),m=[h/(A[2]-A[0]),d/(A[3]-A[1])],u=Math.min(m[0]||0,m[1]||0)/2;if(w.fillStyle="black",w.fillRect(0,0,h,d),w.fillStyle="white",p&&("number"!=typeof p&&(p=1),w.strokeStyle=p>0?"white":"black",w.lineWidth=Math.abs(p)),w.translate(.5*h,.5*d),w.scale(u,u),function c(){if(null!=n)return n;var o=document.createElement("canvas").getContext("2d");if(o.canvas.width=o.canvas.height=1,!window.Path2D)return n=!1;var f=new Path2D("M0,0h1v1h-1v-1Z");o.fillStyle="black",o.fill(f);var h=o.getImageData(0,0,1,1);return n=h&&h.data&&255===h.data[3]}()){var g=new Path2D(o);w.fill(g),p&&w.stroke(g)}else{var C=k(o);l(w,C),w.fill(),p&&w.stroke()}return w.setTransform(1,0,0,1,0,0),I(w,{cutoff:null!=f.cutoff?f.cutoff:.5,radius:null!=f.radius?f.radius:.5*b})}},84267:function(oe,J,t){var S;!function(k){var l=/^\s+/,R=/\s+$/,I=0,v=k.round,w=k.min,r=k.max,n=k.random;function c($,le){if(le=le||{},($=$||"")instanceof c)return $;if(!(this instanceof c))return new c($,le);var se=function o($){var le={r:0,g:0,b:0},se=1,de=null,we=null,Ee=null,Me=!1,Ne=!1;return"string"==typeof $&&($=function fe($){$=$.replace(l,"").replace(R,"").toLowerCase();var se,le=!1;if(z[$])$=z[$],le=!0;else if("transparent"==$)return{r:0,g:0,b:0,a:0,format:"name"};return(se=Z.rgb.exec($))?{r:se[1],g:se[2],b:se[3]}:(se=Z.rgba.exec($))?{r:se[1],g:se[2],b:se[3],a:se[4]}:(se=Z.hsl.exec($))?{h:se[1],s:se[2],l:se[3]}:(se=Z.hsla.exec($))?{h:se[1],s:se[2],l:se[3],a:se[4]}:(se=Z.hsv.exec($))?{h:se[1],s:se[2],v:se[3]}:(se=Z.hsva.exec($))?{h:se[1],s:se[2],v:se[3],a:se[4]}:(se=Z.hex8.exec($))?{r:ee(se[1]),g:ee(se[2]),b:ee(se[3]),a:K(se[4]),format:le?"name":"hex8"}:(se=Z.hex6.exec($))?{r:ee(se[1]),g:ee(se[2]),b:ee(se[3]),format:le?"name":"hex"}:(se=Z.hex4.exec($))?{r:ee(se[1]+""+se[1]),g:ee(se[2]+""+se[2]),b:ee(se[3]+""+se[3]),a:K(se[4]+""+se[4]),format:le?"name":"hex8"}:!!(se=Z.hex3.exec($))&&{r:ee(se[1]+""+se[1]),g:ee(se[2]+""+se[2]),b:ee(se[3]+""+se[3]),format:le?"name":"hex"}}($)),"object"==typeof $&&(q($.r)&&q($.g)&&q($.b)?(le=function f($,le,se){return{r:255*G($,255),g:255*G(le,255),b:255*G(se,255)}}($.r,$.g,$.b),Me=!0,Ne="%"===String($.r).substr(-1)?"prgb":"rgb"):q($.h)&&q($.s)&&q($.v)?(de=te($.s),we=te($.v),le=function p($,le,se){$=6*G($,360),le=G(le,100),se=G(se,100);var de=k.floor($),we=$-de,Ee=se*(1-le),Me=se*(1-we*le),Ne=se*(1-(1-we)*le),Ve=de%6;return{r:255*[se,Me,Ee,Ee,Ne,se][Ve],g:255*[Ne,se,se,Me,Ee,Ee][Ve],b:255*[Ee,Ee,Ne,se,se,Me][Ve]}}($.h,de,we),Me=!0,Ne="hsv"):q($.h)&&q($.s)&&q($.l)&&(de=te($.s),Ee=te($.l),le=function d($,le,se){var de,we,Ee;function Me(Pe,Ce,Ie){return Ie<0&&(Ie+=1),Ie>1&&(Ie-=1),Ie<.16666666666666666?Pe+6*(Ce-Pe)*Ie:Ie<.5?Ce:Ie<.6666666666666666?Pe+(Ce-Pe)*(.6666666666666666-Ie)*6:Pe}if($=G($,360),le=G(le,100),se=G(se,100),0===le)de=we=Ee=se;else{var Ne=se<.5?se*(1+le):se+le-se*le,Ve=2*se-Ne;de=Me(Ve,Ne,$+.3333333333333333),we=Me(Ve,Ne,$),Ee=Me(Ve,Ne,$-.3333333333333333)}return{r:255*de,g:255*we,b:255*Ee}}($.h,de,Ee),Me=!0,Ne="hsl"),$.hasOwnProperty("a")&&(se=$.a)),se=U(se),{ok:Me,format:$.format||Ne,r:w(255,r(le.r,0)),g:w(255,r(le.g,0)),b:w(255,r(le.b,0)),a:se}}($);this._originalInput=$,this._r=se.r,this._g=se.g,this._b=se.b,this._a=se.a,this._roundA=v(100*this._a)/100,this._format=le.format||se.format,this._gradientType=le.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=se.ok,this._tc_id=I++}function h($,le,se){$=G($,255),le=G(le,255),se=G(se,255);var Ee,Me,de=r($,le,se),we=w($,le,se),Ne=(de+we)/2;if(de==we)Ee=Me=0;else{var Ve=de-we;switch(Me=Ne>.5?Ve/(2-de-we):Ve/(de+we),de){case $:Ee=(le-se)/Ve+(le<se?6:0);break;case le:Ee=(se-$)/Ve+2;break;case se:Ee=($-le)/Ve+4}Ee/=6}return{h:Ee,s:Me,l:Ne}}function b($,le,se){$=G($,255),le=G(le,255),se=G(se,255);var Ee,Me,de=r($,le,se),we=w($,le,se),Ne=de,Ve=de-we;if(Me=0===de?0:Ve/de,de==we)Ee=0;else{switch(de){case $:Ee=(le-se)/Ve+(le<se?6:0);break;case le:Ee=(se-$)/Ve+2;break;case se:Ee=($-le)/Ve+4}Ee/=6}return{h:Ee,s:Me,v:Ne}}function A($,le,se,de){var we=[pe(v($).toString(16)),pe(v(le).toString(16)),pe(v(se).toString(16))];return de&&we[0].charAt(0)==we[0].charAt(1)&&we[1].charAt(0)==we[1].charAt(1)&&we[2].charAt(0)==we[2].charAt(1)?we[0].charAt(0)+we[1].charAt(0)+we[2].charAt(0):we.join("")}function u($,le,se,de){return[pe(Q(de)),pe(v($).toString(16)),pe(v(le).toString(16)),pe(v(se).toString(16))].join("")}function g($,le){le=0===le?0:le||10;var se=c($).toHsl();return se.s-=le/100,se.s=Y(se.s),c(se)}function C($,le){le=0===le?0:le||10;var se=c($).toHsl();return se.s+=le/100,se.s=Y(se.s),c(se)}function T($){return c($).desaturate(100)}function L($,le){le=0===le?0:le||10;var se=c($).toHsl();return se.l+=le/100,se.l=Y(se.l),c(se)}function x($,le){le=0===le?0:le||10;var se=c($).toRgb();return se.r=r(0,w(255,se.r-v(-le/100*255))),se.g=r(0,w(255,se.g-v(-le/100*255))),se.b=r(0,w(255,se.b-v(-le/100*255))),c(se)}function E($,le){le=0===le?0:le||10;var se=c($).toHsl();return se.l-=le/100,se.l=Y(se.l),c(se)}function M($,le){var se=c($).toHsl(),de=(se.h+le)%360;return se.h=de<0?360+de:de,c(se)}function i($){var le=c($).toHsl();return le.h=(le.h+180)%360,c(le)}function D($){var le=c($).toHsl(),se=le.h;return[c($),c({h:(se+120)%360,s:le.s,l:le.l}),c({h:(se+240)%360,s:le.s,l:le.l})]}function y($){var le=c($).toHsl(),se=le.h;return[c($),c({h:(se+90)%360,s:le.s,l:le.l}),c({h:(se+180)%360,s:le.s,l:le.l}),c({h:(se+270)%360,s:le.s,l:le.l})]}function B($){var le=c($).toHsl(),se=le.h;return[c($),c({h:(se+72)%360,s:le.s,l:le.l}),c({h:(se+216)%360,s:le.s,l:le.l})]}function F($,le,se){le=le||6,se=se||30;var de=c($).toHsl(),we=360/se,Ee=[c($)];for(de.h=(de.h-(we*le>>1)+720)%360;--le;)de.h=(de.h+we)%360,Ee.push(c(de));return Ee}function _($,le){le=le||6;for(var se=c($).toHsv(),de=se.h,we=se.s,Ee=se.v,Me=[],Ne=1/le;le--;)Me.push(c({h:de,s:we,v:Ee})),Ee=(Ee+Ne)%1;return Me}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var $=this.toRgb();return(299*$.r+587*$.g+114*$.b)/1e3},getLuminance:function(){var le,se,de,$=this.toRgb();return se=$.g/255,de=$.b/255,.2126*((le=$.r/255)<=.03928?le/12.92:k.pow((le+.055)/1.055,2.4))+.7152*(se<=.03928?se/12.92:k.pow((se+.055)/1.055,2.4))+.0722*(de<=.03928?de/12.92:k.pow((de+.055)/1.055,2.4))},setAlpha:function($){return this._a=U($),this._roundA=v(100*this._a)/100,this},toHsv:function(){var $=b(this._r,this._g,this._b);return{h:360*$.h,s:$.s,v:$.v,a:this._a}},toHsvString:function(){var $=b(this._r,this._g,this._b),le=v(360*$.h),se=v(100*$.s),de=v(100*$.v);return 1==this._a?"hsv("+le+", "+se+"%, "+de+"%)":"hsva("+le+", "+se+"%, "+de+"%, "+this._roundA+")"},toHsl:function(){var $=h(this._r,this._g,this._b);return{h:360*$.h,s:$.s,l:$.l,a:this._a}},toHslString:function(){var $=h(this._r,this._g,this._b),le=v(360*$.h),se=v(100*$.s),de=v(100*$.l);return 1==this._a?"hsl("+le+", "+se+"%, "+de+"%)":"hsla("+le+", "+se+"%, "+de+"%, "+this._roundA+")"},toHex:function($){return A(this._r,this._g,this._b,$)},toHexString:function($){return"#"+this.toHex($)},toHex8:function($){return function m($,le,se,de,we){var Ee=[pe(v($).toString(16)),pe(v(le).toString(16)),pe(v(se).toString(16)),pe(Q(de))];return we&&Ee[0].charAt(0)==Ee[0].charAt(1)&&Ee[1].charAt(0)==Ee[1].charAt(1)&&Ee[2].charAt(0)==Ee[2].charAt(1)&&Ee[3].charAt(0)==Ee[3].charAt(1)?Ee[0].charAt(0)+Ee[1].charAt(0)+Ee[2].charAt(0)+Ee[3].charAt(0):Ee.join("")}(this._r,this._g,this._b,this._a,$)},toHex8String:function($){return"#"+this.toHex8($)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(100*G(this._r,255))+"%",g:v(100*G(this._g,255))+"%",b:v(100*G(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+v(100*G(this._r,255))+"%, "+v(100*G(this._g,255))+"%, "+v(100*G(this._b,255))+"%)":"rgba("+v(100*G(this._r,255))+"%, "+v(100*G(this._g,255))+"%, "+v(100*G(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(V[A(this._r,this._g,this._b,!0)]||!1)},toFilter:function($){var le="#"+u(this._r,this._g,this._b,this._a),se=le,de=this._gradientType?"GradientType = 1, ":"";if($){var we=c($);se="#"+u(we._r,we._g,we._b,we._a)}return"progid:DXImageTransform.Microsoft.gradient("+de+"startColorstr="+le+",endColorstr="+se+")"},toString:function($){var le=!!$;$=$||this._format;var se=!1;return!le&&this._a<1&&this._a>=0&&("hex"===$||"hex6"===$||"hex3"===$||"hex4"===$||"hex8"===$||"name"===$)?"name"===$&&0===this._a?this.toName():this.toRgbString():("rgb"===$&&(se=this.toRgbString()),"prgb"===$&&(se=this.toPercentageRgbString()),("hex"===$||"hex6"===$)&&(se=this.toHexString()),"hex3"===$&&(se=this.toHexString(!0)),"hex4"===$&&(se=this.toHex8String(!0)),"hex8"===$&&(se=this.toHex8String()),"name"===$&&(se=this.toName()),"hsl"===$&&(se=this.toHslString()),"hsv"===$&&(se=this.toHsvString()),se||this.toHexString())},clone:function(){return c(this.toString())},_applyModification:function($,le){var se=$.apply(null,[this].concat([].slice.call(le)));return this._r=se._r,this._g=se._g,this._b=se._b,this.setAlpha(se._a),this},lighten:function(){return this._applyModification(L,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(C,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(M,arguments)},_applyCombination:function($,le){return $.apply(null,[this].concat([].slice.call(le)))},analogous:function(){return this._applyCombination(F,arguments)},complement:function(){return this._applyCombination(i,arguments)},monochromatic:function(){return this._applyCombination(_,arguments)},splitcomplement:function(){return this._applyCombination(B,arguments)},triad:function(){return this._applyCombination(D,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},c.fromRatio=function($,le){if("object"==typeof $){var se={};for(var de in $)$.hasOwnProperty(de)&&(se[de]="a"===de?$[de]:te($[de]));$=se}return c($,le)},c.equals=function($,le){return!(!$||!le)&&c($).toRgbString()==c(le).toRgbString()},c.random=function(){return c.fromRatio({r:n(),g:n(),b:n()})},c.mix=function($,le,se){se=0===se?0:se||50;var de=c($).toRgb(),we=c(le).toRgb(),Ee=se/100;return c({r:(we.r-de.r)*Ee+de.r,g:(we.g-de.g)*Ee+de.g,b:(we.b-de.b)*Ee+de.b,a:(we.a-de.a)*Ee+de.a})},c.readability=function($,le){var se=c($),de=c(le);return(k.max(se.getLuminance(),de.getLuminance())+.05)/(k.min(se.getLuminance(),de.getLuminance())+.05)},c.isReadable=function($,le,se){var we,Ee,de=c.readability($,le);switch(Ee=!1,(we=function re($){var le,se;return"AA"!==(le=(($=$||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==le&&(le="AA"),"small"!==(se=($.size||"small").toLowerCase())&&"large"!==se&&(se="small"),{level:le,size:se}}(se)).level+we.size){case"AAsmall":case"AAAlarge":Ee=de>=4.5;break;case"AAlarge":Ee=de>=3;break;case"AAAsmall":Ee=de>=7}return Ee},c.mostReadable=function($,le,se){var Ee,Me,Ne,Ve,de=null,we=0;Me=(se=se||{}).includeFallbackColors,Ne=se.level,Ve=se.size;for(var Pe=0;Pe<le.length;Pe++)(Ee=c.readability($,le[Pe]))>we&&(we=Ee,de=c(le[Pe]));return c.isReadable($,de,{level:Ne,size:Ve})||!Me?de:(se.includeFallbackColors=!1,c.mostReadable($,["#fff","#000"],se))};var z=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},V=c.hexNames=function H($){var le={};for(var se in $)$.hasOwnProperty(se)&&(le[$[se]]=se);return le}(z);function U($){return $=parseFloat($),(isNaN($)||$<0||$>1)&&($=1),$}function G($,le){(function ue($){return"string"==typeof $&&-1!=$.indexOf(".")&&1===parseFloat($)})($)&&($="100%");var se=function ce($){return"string"==typeof $&&-1!=$.indexOf("%")}($);return $=w(le,r(0,parseFloat($))),se&&($=parseInt($*le,10)/100),k.abs($-le)<1e-6?1:$%le/parseFloat(le)}function Y($){return w(1,r(0,$))}function ee($){return parseInt($,16)}function pe($){return 1==$.length?"0"+$:""+$}function te($){return $<=1&&($=100*$+"%"),$}function Q($){return k.round(255*parseFloat($)).toString(16)}function K($){return ee($)/255}var se,de,we,Z=(de="[\\s|\\(]+("+(se="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+se+")[,|\\s]+("+se+")\\s*\\)?",we="[\\s|\\(]+("+se+")[,|\\s]+("+se+")[,|\\s]+("+se+")[,|\\s]+("+se+")\\s*\\)?",{CSS_UNIT:new RegExp(se),rgb:new RegExp("rgb"+de),rgba:new RegExp("rgba"+we),hsl:new RegExp("hsl"+de),hsla:new RegExp("hsla"+we),hsv:new RegExp("hsv"+de),hsva:new RegExp("hsva"+we),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function q($){return!!Z.CSS_UNIT.exec($)}oe.exports?oe.exports=c:void 0!==(S=function(){return c}.call(J,t,J,oe))&&(oe.exports=S)}(Math)},57060:function(oe){"use strict";oe.exports=S,oe.exports.float32=oe.exports.float=S,oe.exports.fract32=oe.exports.fract=function t(k,l){if(k.length){if(k instanceof Float32Array)return new Float32Array(k.length);l instanceof Float32Array||(l=S(k));for(var R=0,I=l.length;R<I;R++)l[R]=k[R]-l[R];return l}return S(k-S(k))};var J=new Float32Array(1);function S(k){return k.length?k instanceof Float32Array?k:new Float32Array(k):(J[0]=k,J[0])}},75686:function(oe,J,t){"use strict";var S=t(25677);oe.exports=I;var k=96;function l(v,w){var r=S(getComputedStyle(v).getPropertyValue(w));return r[0]*I(r[1],v)}function I(v,w){switch(w=w||document.body,v=(v||"px").trim().toLowerCase(),(w===window||w===document)&&(w=document.body),v){case"%":return w.clientHeight/100;case"ch":case"ex":return function R(v,w){var r=document.createElement("div");r.style["font-size"]="128"+v,w.appendChild(r);var n=l(r,"font-size")/128;return w.removeChild(r),n}(v,w);case"em":return l(w,"font-size");case"rem":return l(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return k;case"cm":return k/2.54;case"mm":return k/25.4;case"pt":return k/72;case"pc":return k/6}return 1}},96892:function(oe,J,t){"use strict";function k(w){return w}function R(w,r){return"string"==typeof r&&(r=w.objects[r]),"GeometryCollection"===r.type?{type:"FeatureCollection",features:r.geometries.map(function(n){return I(w,n)})}:I(w,r)}function I(w,r){var n=r.id,c=r.bbox,o=null==r.properties?{}:r.properties,f=function v(w,r){var n=function l(w){if(null==w)return k;var r,n,c=w.scale[0],o=w.scale[1],f=w.translate[0],h=w.translate[1];return function(d,b){b||(r=n=0);var p=2,A=d.length,m=new Array(A);for(m[0]=(r+=d[0])*c+f,m[1]=(n+=d[1])*o+h;p<A;)m[p]=d[p],++p;return m}}(w.transform),c=w.arcs;function o(A,m){m.length&&m.pop();for(var u=c[A<0?~A:A],g=0,C=u.length;g<C;++g)m.push(n(u[g],g));A<0&&function S(w,r){for(var n,c=w.length,o=c-r;o<--c;)n=w[o],w[o++]=w[c],w[c]=n}(m,C)}function f(A){return n(A)}function h(A){for(var m=[],u=0,g=A.length;u<g;++u)o(A[u],m);return m.length<2&&m.push(m[0]),m}function d(A){for(var m=h(A);m.length<4;)m.push(m[0]);return m}function b(A){return A.map(d)}function p(A){var u,m=A.type;switch(m){case"GeometryCollection":return{type:m,geometries:A.geometries.map(p)};case"Point":u=f(A.coordinates);break;case"MultiPoint":u=A.coordinates.map(f);break;case"LineString":u=h(A.arcs);break;case"MultiLineString":u=A.arcs.map(h);break;case"Polygon":u=b(A.arcs);break;case"MultiPolygon":u=A.arcs.map(b);break;default:return null}return{type:m,coordinates:u}}return p(r)}(w,r);return null==n&&null==c?{type:"Feature",properties:o,geometry:f}:null==c?{type:"Feature",id:n,properties:o,geometry:f}:{type:"Feature",id:n,bbox:c,properties:o,geometry:f}}t.d(J,{zL:function(){return R}})},73116:function(oe,J,t){"use strict";var S=t(24511);oe.exports=function(k){if("function"!=typeof k||!hasOwnProperty.call(k,"length"))return!1;try{if("number"!=typeof k.length||"function"!=typeof k.call||"function"!=typeof k.apply)return!1}catch{return!1}return!S(k)}},69190:function(oe,J,t){"use strict";var S=t(24582),k=t(47403),l=t(9234),R=t(6048),I=function(v,w){return v.replace("%v",R(w))};oe.exports=function(v,w,r){if(!k(r))throw new TypeError(I(w,v));if(!S(v)){if("default"in r)return r.default;if(r.isOptional)return null}var n=l(r.errorMessage);throw S(n)||(n=w),new TypeError(I(n,v))}},18497:function(oe){"use strict";oe.exports=function(J){try{return J.toString()}catch{try{return String(J)}catch{return null}}}},6048:function(oe,J,t){"use strict";var S=t(18497),k=/[\n\r\u2028\u2029]/g;oe.exports=function(l){var R=S(l);return null===R?"<Non-coercible to string value>":(R.length>100&&(R=R.slice(0,99)+"\u2026"),R=R.replace(k,function(I){switch(I){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(oe,J,t){"use strict";var S=t(24582),k={object:!0,function:!0,undefined:!0};oe.exports=function(l){return!!S(l)&&hasOwnProperty.call(k,typeof l)}},82527:function(oe,J,t){"use strict";var S=t(69190),k=t(84985);oe.exports=function(l){return k(l)?l:S(l,"%v is not a plain function",arguments[1])}},84985:function(oe,J,t){"use strict";var S=t(73116),k=/^\s*class[\s{/}]/,l=Function.prototype.toString;oe.exports=function(R){return!(!S(R)||k.test(l.call(R)))}},24511:function(oe,J,t){"use strict";var S=t(47403);oe.exports=function(k){if(!S(k))return!1;try{return!!k.constructor&&k.constructor.prototype===k}catch{return!1}}},9234:function(oe,J,t){"use strict";var S=t(24582),k=t(47403),l=Object.prototype.toString;oe.exports=function(R){if(!S(R))return null;if(k(R)){var I=R.toString;if("function"!=typeof I||I===l)return null}try{return""+R}catch{return null}}},10424:function(oe,J,t){"use strict";var S=t(69190),k=t(24582);oe.exports=function(l){return k(l)?l:S(l,"Cannot use %v",arguments[1])}},24582:function(oe){"use strict";oe.exports=function(t){return null!=t}},58404:function(oe,J,t){"use strict";var S=t(13547),k=t(12129),l=t(12856).Buffer;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:k([32,0]),UINT16:k([32,0]),UINT32:k([32,0]),BIGUINT64:k([32,0]),INT8:k([32,0]),INT16:k([32,0]),INT32:k([32,0]),BIGINT64:k([32,0]),FLOAT:k([32,0]),DOUBLE:k([32,0]),DATA:k([32,0]),UINT8C:k([32,0]),BUFFER:k([32,0])});var R=typeof Uint8ClampedArray<"u",I=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",w=t.g.__TYPEDARRAY_POOL;w.UINT8C||(w.UINT8C=k([32,0])),w.BIGUINT64||(w.BIGUINT64=k([32,0])),w.BIGINT64||(w.BIGINT64=k([32,0])),w.BUFFER||(w.BUFFER=k([32,0]));var r=w.DATA,n=w.BUFFER;function c(M){if(M){var D=S.log2(M.length||M.byteLength);r[D].push(M)}}function f(i){i=S.nextPow2(i);var D=S.log2(i),y=r[D];return y.length>0?y.pop():new ArrayBuffer(i)}function h(M){return new Uint8Array(f(M),0,M)}function d(M){return new Uint16Array(f(2*M),0,M)}function b(M){return new Uint32Array(f(4*M),0,M)}function p(M){return new Int8Array(f(M),0,M)}function A(M){return new Int16Array(f(2*M),0,M)}function m(M){return new Int32Array(f(4*M),0,M)}function u(M){return new Float32Array(f(4*M),0,M)}function g(M){return new Float64Array(f(8*M),0,M)}function C(M){return R?new Uint8ClampedArray(f(M),0,M):h(M)}function T(M){return I?new BigUint64Array(f(8*M),0,M):null}function L(M){return v?new BigInt64Array(f(8*M),0,M):null}function x(M){return new DataView(f(M),0,M)}function E(M){M=S.nextPow2(M);var i=S.log2(M),D=n[i];return D.length>0?D.pop():new l(M)}J.free=function(i){if(l.isBuffer(i))n[S.log2(i.length)].push(i);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(i)&&(i=i.buffer),!i)return;var y=0|S.log2(i.length||i.byteLength);r[y].push(i)}},J.freeUint8=J.freeUint16=J.freeUint32=J.freeBigUint64=J.freeInt8=J.freeInt16=J.freeInt32=J.freeBigInt64=J.freeFloat32=J.freeFloat=J.freeFloat64=J.freeDouble=J.freeUint8Clamped=J.freeDataView=function o(M){c(M.buffer)},J.freeArrayBuffer=c,J.freeBuffer=function(i){n[S.log2(i.length)].push(i)},J.malloc=function(i,D){if(void 0===D||"arraybuffer"===D)return f(i);switch(D){case"uint8":return h(i);case"uint16":return d(i);case"uint32":return b(i);case"int8":return p(i);case"int16":return A(i);case"int32":return m(i);case"float":case"float32":return u(i);case"double":case"float64":return g(i);case"uint8_clamped":return C(i);case"bigint64":return L(i);case"biguint64":return T(i);case"buffer":return E(i);case"data":case"dataview":return x(i);default:return null}return null},J.mallocArrayBuffer=f,J.mallocUint8=h,J.mallocUint16=d,J.mallocUint32=b,J.mallocInt8=p,J.mallocInt16=A,J.mallocInt32=m,J.mallocFloat32=J.mallocFloat=u,J.mallocFloat64=J.mallocDouble=g,J.mallocUint8Clamped=C,J.mallocBigUint64=T,J.mallocBigInt64=L,J.mallocDataView=x,J.mallocBuffer=E,J.clearCache=function(){for(var i=0;i<32;++i)w.UINT8[i].length=0,w.UINT16[i].length=0,w.UINT32[i].length=0,w.INT8[i].length=0,w.INT16[i].length=0,w.INT32[i].length=0,w.FLOAT[i].length=0,w.DOUBLE[i].length=0,w.BIGUINT64[i].length=0,w.BIGINT64[i].length=0,w.UINT8C[i].length=0,r[i].length=0,n[i].length=0}},90448:function(oe){var J=/[\'\"]/;oe.exports=function(S){return S?(J.test(S.charAt(0))&&(S=S.substr(1)),J.test(S.charAt(S.length-1))&&(S=S.substr(0,S.length-1)),S):""}},93447:function(oe){"use strict";oe.exports=function(t,S,k){Array.isArray(k)||(k=[].slice.call(arguments,2));for(var l=0,R=k.length;l<R;l++){var I=k[l];for(var v in I)if((void 0===S[v]||Array.isArray(S[v])||t[v]!==S[v])&&v in S){var w;if(!0===I[v])w=S[v];else{if(!1===I[v])continue;if("function"==typeof I[v]&&void 0===(w=I[v](S[v],t,S)))continue}t[v]=w}}return t}},20588:function(oe,J,t){function k(l){try{if(!t.g.localStorage)return!1}catch{return!1}var R=t.g.localStorage[l];return null!=R&&"true"===String(R).toLowerCase()}oe.exports=function S(l,R){if(k("noDeprecation"))return l;var I=!1;return function v(){if(!I){if(k("throwDeprecation"))throw new Error(R);k("traceDeprecation")?console.trace(R):console.warn(R),I=!0}return l.apply(this,arguments)}}},45920:function(oe){oe.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},4936:function(oe,J,t){"use strict";var S=t(47216),k=t(65481),l=t(21099),R=t(9187);function I(Ee){return Ee.call.bind(Ee)}var v=typeof BigInt<"u",w=typeof Symbol<"u",r=I(Object.prototype.toString),n=I(Number.prototype.valueOf),c=I(String.prototype.valueOf),o=I(Boolean.prototype.valueOf);if(v)var f=I(BigInt.prototype.valueOf);if(w)var h=I(Symbol.prototype.valueOf);function d(Ee,Me){if("object"!=typeof Ee)return!1;try{return Me(Ee),!0}catch{return!1}}function D(Ee){return"[object Map]"===r(Ee)}function B(Ee){return"[object Set]"===r(Ee)}function _(Ee){return"[object WeakMap]"===r(Ee)}function V(Ee){return"[object WeakSet]"===r(Ee)}function U(Ee){return"[object ArrayBuffer]"===r(Ee)}function G(Ee){return!(typeof ArrayBuffer>"u")&&(U.working?U(Ee):Ee instanceof ArrayBuffer)}function Y(Ee){return"[object DataView]"===r(Ee)}function ee(Ee){return!(typeof DataView>"u")&&(Y.working?Y(Ee):Ee instanceof DataView)}J.isArgumentsObject=S,J.isGeneratorFunction=k,J.isTypedArray=R,J.isPromise=function b(Ee){return typeof Promise<"u"&&Ee instanceof Promise||null!==Ee&&"object"==typeof Ee&&"function"==typeof Ee.then&&"function"==typeof Ee.catch},J.isArrayBufferView=function p(Ee){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ee):R(Ee)||ee(Ee)},J.isUint8Array=function A(Ee){return"Uint8Array"===l(Ee)},J.isUint8ClampedArray=function m(Ee){return"Uint8ClampedArray"===l(Ee)},J.isUint16Array=function u(Ee){return"Uint16Array"===l(Ee)},J.isUint32Array=function g(Ee){return"Uint32Array"===l(Ee)},J.isInt8Array=function C(Ee){return"Int8Array"===l(Ee)},J.isInt16Array=function T(Ee){return"Int16Array"===l(Ee)},J.isInt32Array=function L(Ee){return"Int32Array"===l(Ee)},J.isFloat32Array=function x(Ee){return"Float32Array"===l(Ee)},J.isFloat64Array=function E(Ee){return"Float64Array"===l(Ee)},J.isBigInt64Array=function M(Ee){return"BigInt64Array"===l(Ee)},J.isBigUint64Array=function i(Ee){return"BigUint64Array"===l(Ee)},D.working=typeof Map<"u"&&D(new Map),J.isMap=function y(Ee){return!(typeof Map>"u")&&(D.working?D(Ee):Ee instanceof Map)},B.working=typeof Set<"u"&&B(new Set),J.isSet=function F(Ee){return!(typeof Set>"u")&&(B.working?B(Ee):Ee instanceof Set)},_.working=typeof WeakMap<"u"&&_(new WeakMap),J.isWeakMap=function z(Ee){return!(typeof WeakMap>"u")&&(_.working?_(Ee):Ee instanceof WeakMap)},V.working=typeof WeakSet<"u"&&V(new WeakSet),J.isWeakSet=function H(Ee){return V(Ee)},U.working=typeof ArrayBuffer<"u"&&U(new ArrayBuffer),J.isArrayBuffer=G,Y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Y(new DataView(new ArrayBuffer(1),0,1)),J.isDataView=ee;var ue=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ce(Ee){return"[object SharedArrayBuffer]"===r(Ee)}function pe(Ee){return!(typeof ue>"u")&&(typeof ce.working>"u"&&(ce.working=ce(new ue)),ce.working?ce(Ee):Ee instanceof ue)}function fe(Ee){return d(Ee,n)}function re(Ee){return d(Ee,c)}function $(Ee){return d(Ee,o)}function le(Ee){return v&&d(Ee,f)}function se(Ee){return w&&d(Ee,h)}J.isSharedArrayBuffer=pe,J.isAsyncFunction=function te(Ee){return"[object AsyncFunction]"===r(Ee)},J.isMapIterator=function Q(Ee){return"[object Map Iterator]"===r(Ee)},J.isSetIterator=function K(Ee){return"[object Set Iterator]"===r(Ee)},J.isGeneratorObject=function Z(Ee){return"[object Generator]"===r(Ee)},J.isWebAssemblyCompiledModule=function q(Ee){return"[object WebAssembly.Module]"===r(Ee)},J.isNumberObject=fe,J.isStringObject=re,J.isBooleanObject=$,J.isBigIntObject=le,J.isSymbolObject=se,J.isBoxedPrimitive=function de(Ee){return fe(Ee)||re(Ee)||$(Ee)||le(Ee)||se(Ee)},J.isAnyArrayBuffer=function we(Ee){return typeof Uint8Array<"u"&&(G(Ee)||pe(Ee))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ee){Object.defineProperty(J,Ee,{enumerable:!1,value:function(){throw new Error(Ee+" is not supported in userland")}})})},43827:function(oe,J,t){var S=t(90386),k=Object.getOwnPropertyDescriptors||function(ue){for(var ce=Object.keys(ue),pe={},te=0;te<ce.length;te++)pe[ce[te]]=Object.getOwnPropertyDescriptor(ue,ce[te]);return pe},l=/%[sdj%]/g;J.format=function(ee){if(!T(ee)){for(var ue=[],ce=0;ce<arguments.length;ce++)ue.push(w(arguments[ce]));return ue.join(" ")}ce=1;for(var pe=arguments,te=pe.length,Q=String(ee).replace(l,function(Z){if("%%"===Z)return"%";if(ce>=te)return Z;switch(Z){case"%s":return String(pe[ce++]);case"%d":return Number(pe[ce++]);case"%j":try{return JSON.stringify(pe[ce++])}catch{return"[Circular]"}default:return Z}}),K=pe[ce];ce<te;K=pe[++ce])u(K)||!M(K)?Q+=" "+K:Q+=" "+w(K);return Q},J.deprecate=function(ee,ue){if(typeof S<"u"&&!0===S.noDeprecation)return ee;if(typeof S>"u")return function(){return J.deprecate(ee,ue).apply(this,arguments)};var ce=!1;return function pe(){if(!ce){if(S.throwDeprecation)throw new Error(ue);S.traceDeprecation?console.trace(ue):console.error(ue),ce=!0}return ee.apply(this,arguments)}};var R={},I=/^$/;if(S.env.NODE_DEBUG){var v=S.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),I=new RegExp("^"+v+"$","i")}function w(ee,ue){var ce={seen:[],stylize:n};return arguments.length>=3&&(ce.depth=arguments[2]),arguments.length>=4&&(ce.colors=arguments[3]),m(ue)?ce.showHidden=ue:ue&&J._extend(ce,ue),x(ce.showHidden)&&(ce.showHidden=!1),x(ce.depth)&&(ce.depth=2),x(ce.colors)&&(ce.colors=!1),x(ce.customInspect)&&(ce.customInspect=!0),ce.colors&&(ce.stylize=r),o(ce,ee,ce.depth)}function r(ee,ue){var ce=w.styles[ue];return ce?"\x1b["+w.colors[ce][0]+"m"+ee+"\x1b["+w.colors[ce][1]+"m":ee}function n(ee,ue){return ee}function o(ee,ue,ce){if(ee.customInspect&&ue&&y(ue.inspect)&&ue.inspect!==J.inspect&&(!ue.constructor||ue.constructor.prototype!==ue)){var pe=ue.inspect(ce,ee);return T(pe)||(pe=o(ee,pe,ce)),pe}var te=function f(ee,ue){if(x(ue))return ee.stylize("undefined","undefined");if(T(ue)){var ce="'"+JSON.stringify(ue).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ee.stylize(ce,"string")}return C(ue)?ee.stylize(""+ue,"number"):m(ue)?ee.stylize(""+ue,"boolean"):u(ue)?ee.stylize("null","null"):void 0}(ee,ue);if(te)return te;var Q=Object.keys(ue),K=function c(ee){var ue={};return ee.forEach(function(ce,pe){ue[ce]=!0}),ue}(Q);if(ee.showHidden&&(Q=Object.getOwnPropertyNames(ue)),D(ue)&&(Q.indexOf("message")>=0||Q.indexOf("description")>=0))return h(ue);if(0===Q.length){if(y(ue))return ee.stylize("[Function"+(ue.name?": "+ue.name:"")+"]","special");if(E(ue))return ee.stylize(RegExp.prototype.toString.call(ue),"regexp");if(i(ue))return ee.stylize(Date.prototype.toString.call(ue),"date");if(D(ue))return h(ue)}var le,q="",fe=!1,re=["{","}"];return A(ue)&&(fe=!0,re=["[","]"]),y(ue)&&(q=" [Function"+(ue.name?": "+ue.name:"")+"]"),E(ue)&&(q=" "+RegExp.prototype.toString.call(ue)),i(ue)&&(q=" "+Date.prototype.toUTCString.call(ue)),D(ue)&&(q=" "+h(ue)),0!==Q.length||fe&&0!=ue.length?ce<0?E(ue)?ee.stylize(RegExp.prototype.toString.call(ue),"regexp"):ee.stylize("[Object]","special"):(ee.seen.push(ue),le=fe?function d(ee,ue,ce,pe,te){for(var Q=[],K=0,Z=ue.length;K<Z;++K)H(ue,String(K))?Q.push(b(ee,ue,ce,pe,String(K),!0)):Q.push("");return te.forEach(function(q){q.match(/^\d+$/)||Q.push(b(ee,ue,ce,pe,q,!0))}),Q}(ee,ue,ce,K,Q):Q.map(function(se){return b(ee,ue,ce,K,se,fe)}),ee.seen.pop(),function p(ee,ue,ce){return ee.reduce(function(Q,K){return K.indexOf("\n"),Q+K.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ce[0]+(""===ue?"":ue+"\n ")+" "+ee.join(",\n  ")+" "+ce[1]:ce[0]+ue+" "+ee.join(", ")+" "+ce[1]}(le,q,re)):re[0]+q+re[1]}function h(ee){return"["+Error.prototype.toString.call(ee)+"]"}function b(ee,ue,ce,pe,te,Q){var K,Z,q;if((q=Object.getOwnPropertyDescriptor(ue,te)||{value:ue[te]}).get?Z=ee.stylize(q.set?"[Getter/Setter]":"[Getter]","special"):q.set&&(Z=ee.stylize("[Setter]","special")),H(pe,te)||(K="["+te+"]"),Z||(ee.seen.indexOf(q.value)<0?(Z=u(ce)?o(ee,q.value,null):o(ee,q.value,ce-1)).indexOf("\n")>-1&&(Z=Q?Z.split("\n").map(function(fe){return"  "+fe}).join("\n").slice(2):"\n"+Z.split("\n").map(function(fe){return"   "+fe}).join("\n")):Z=ee.stylize("[Circular]","special")),x(K)){if(Q&&te.match(/^\d+$/))return Z;(K=JSON.stringify(""+te)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(K=K.slice(1,-1),K=ee.stylize(K,"name")):(K=K.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),K=ee.stylize(K,"string"))}return K+": "+Z}function A(ee){return Array.isArray(ee)}function m(ee){return"boolean"==typeof ee}function u(ee){return null===ee}function C(ee){return"number"==typeof ee}function T(ee){return"string"==typeof ee}function x(ee){return void 0===ee}function E(ee){return M(ee)&&"[object RegExp]"===F(ee)}function M(ee){return"object"==typeof ee&&null!==ee}function i(ee){return M(ee)&&"[object Date]"===F(ee)}function D(ee){return M(ee)&&("[object Error]"===F(ee)||ee instanceof Error)}function y(ee){return"function"==typeof ee}function F(ee){return Object.prototype.toString.call(ee)}function _(ee){return ee<10?"0"+ee.toString(10):ee.toString(10)}J.debuglog=function(ee){if(ee=ee.toUpperCase(),!R[ee])if(I.test(ee)){var ue=S.pid;R[ee]=function(){var ce=J.format.apply(J,arguments);console.error("%s %d: %s",ee,ue,ce)}}else R[ee]=function(){};return R[ee]},J.inspect=w,w.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},w.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},J.types=t(4936),J.isArray=A,J.isBoolean=m,J.isNull=u,J.isNullOrUndefined=function g(ee){return null==ee},J.isNumber=C,J.isString=T,J.isSymbol=function L(ee){return"symbol"==typeof ee},J.isUndefined=x,J.isRegExp=E,J.types.isRegExp=E,J.isObject=M,J.isDate=i,J.types.isDate=i,J.isError=D,J.types.isNativeError=D,J.isFunction=y,J.isPrimitive=function B(ee){return null===ee||"boolean"==typeof ee||"number"==typeof ee||"string"==typeof ee||"symbol"==typeof ee||typeof ee>"u"},J.isBuffer=t(45920);var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(ee,ue){return Object.prototype.hasOwnProperty.call(ee,ue)}J.log=function(){console.log("%s - %s",function V(){var ee=new Date,ue=[_(ee.getHours()),_(ee.getMinutes()),_(ee.getSeconds())].join(":");return[ee.getDate(),z[ee.getMonth()],ue].join(" ")}(),J.format.apply(J,arguments))},J.inherits=t(42018),J._extend=function(ee,ue){if(!ue||!M(ue))return ee;for(var ce=Object.keys(ue),pe=ce.length;pe--;)ee[ce[pe]]=ue[ce[pe]];return ee};var U=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function G(ee,ue){if(!ee){var ce=new Error("Promise was rejected with a falsy value");ce.reason=ee,ee=ce}return ue(ee)}J.promisify=function(ue){if("function"!=typeof ue)throw new TypeError('The "original" argument must be of type Function');if(U&&ue[U]){var ce;if("function"!=typeof(ce=ue[U]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ce,U,{value:ce,enumerable:!1,writable:!1,configurable:!0}),ce}function ce(){for(var pe,te,Q=new Promise(function(q,fe){pe=q,te=fe}),K=[],Z=0;Z<arguments.length;Z++)K.push(arguments[Z]);K.push(function(q,fe){q?te(q):pe(fe)});try{ue.apply(this,K)}catch(q){te(q)}return Q}return Object.setPrototypeOf(ce,Object.getPrototypeOf(ue)),U&&Object.defineProperty(ce,U,{value:ce,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ce,k(ue))},J.promisify.custom=U,J.callbackify=function Y(ee){if("function"!=typeof ee)throw new TypeError('The "original" argument must be of type Function');function ue(){for(var ce=[],pe=0;pe<arguments.length;pe++)ce.push(arguments[pe]);var te=ce.pop();if("function"!=typeof te)throw new TypeError("The last argument must be of type Function");var Q=this,K=function(){return te.apply(Q,arguments)};ee.apply(this,ce).then(function(Z){S.nextTick(K.bind(null,null,Z))},function(Z){S.nextTick(G.bind(null,Z,K))})}return Object.setPrototypeOf(ue,Object.getPrototypeOf(ee)),Object.defineProperties(ue,k(ee)),ue}},40372:function(oe,J,t){var S=t(86249);oe.exports=function(l){return S("webgl",l)}},21099:function(oe,J,t){"use strict";var S=t(31353),k=t(72077),l=t(6614),R=t(40383),I=l("Object.prototype.toString"),v=t(84543)(),w=typeof globalThis>"u"?t.g:globalThis,r=k(),n=l("String.prototype.slice"),c={},o=Object.getPrototypeOf;v&&R&&o&&S(r,function(d){if("function"==typeof w[d]){var b=new w[d];if(Symbol.toStringTag in b){var p=o(b),A=R(p,Symbol.toStringTag);if(!A){var m=o(p);A=R(m,Symbol.toStringTag)}c[d]=A.get}}});var h=t(9187);oe.exports=function(b){return!!h(b)&&(v&&Symbol.toStringTag in b?function(b){var p=!1;return S(c,function(A,m){if(!p)try{var u=A.call(b);u===m&&(p=u)}catch{}}),p}(b):n(I(b),8,-1))}},3961:function(oe,J,t){var S=t(63489),k=t(56131),l=S.instance();function R(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}k(R.prototype=new S.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(h,d){if("string"==typeof h){var b=h.match(v);return b?b[0]:""}var p=this._validateYear(h),A=h.month(),m=""+this.toChineseMonth(p,A);return d&&m.length<2&&(m="0"+m),this.isIntercalaryMonth(p,A)&&(m+="i"),m},monthNames:function(h){if("string"==typeof h){var d=h.match(w);return d?d[0]:""}var b=this._validateYear(h),p=h.month(),m=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(b,p)-1];return this.isIntercalaryMonth(b,p)&&(m="\u95f0"+m),m},monthNamesShort:function(h){if("string"==typeof h){var d=h.match(r);return d?d[0]:""}var b=this._validateYear(h),p=h.month(),m=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(b,p)-1];return this.isIntercalaryMonth(b,p)&&(m="\u95f0"+m),m},parseMonth:function(h,d){h=this._validateYear(h);var p,b=parseInt(d);if(isNaN(b))"\u95f0"===d[0]&&(p=!0,d=d.substring(1)),"\u6708"===d[d.length-1]&&(d=d.substring(0,d.length-1)),b=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(d);else{var A=d[d.length-1];p="i"===A||"I"===A}return this.toMonthIndex(h,b,p)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(h,d){if(h.year&&(h=h.year()),"number"!=typeof h||h<1888||h>2111)throw d.replace(/\{0\}/,this.local.name);return h},toMonthIndex:function(h,d,b){var p=this.intercalaryMonth(h);if(b&&d!==p||d<1||d>12)throw S.local.invalidMonth.replace(/\{0\}/,this.local.name);return p?!b&&d<=p?d-1:d:d-1},toChineseMonth:function(h,d){h.year&&(d=(h=h.year()).month());var b=this.intercalaryMonth(h);if(d<0||d>(b?12:11))throw S.local.invalidMonth.replace(/\{0\}/,this.local.name);return b?d<b?d+1:d:d+1},intercalaryMonth:function(h){return h=this._validateYear(h),n[h-n[0]]>>13},isIntercalaryMonth:function(h,d){h.year&&(d=(h=h.year()).month());var b=this.intercalaryMonth(h);return!!b&&b===d},leapYear:function(h){return 0!==this.intercalaryMonth(h)},weekOfYear:function(h,d,b){var C,p=this._validateYear(h,S.local.invalidyear),A=c[p-c[0]];(C=l.newDate(A>>9&4095,A>>5&15,31&A)).add(4-(C.dayOfWeek()||7),"d");var T=this.toJD(h,d,b)-C.toJD();return 1+Math.floor(T/7)},monthsInYear:function(h){return this.leapYear(h)?13:12},daysInMonth:function(h,d){h.year&&(d=h.month(),h=h.year()),h=this._validateYear(h);var b=n[h-n[0]];if(d>(b>>13?12:11))throw S.local.invalidMonth.replace(/\{0\}/,this.local.name);return b&1<<12-d?30:29},weekDay:function(h,d,b){return(this.dayOfWeek(h,d,b)||7)<6},toJD:function(h,d,b){var p=this._validate(h,m,b,S.local.invalidDate);h=this._validateYear(p.year()),d=p.month(),b=p.day();var A=this.isIntercalaryMonth(h,d),m=this.toChineseMonth(h,d),u=function f(h,d,b,p,A){var m,u,x;if("object"==typeof h)u=h,m=d||{};else{var L;if(!("number"==typeof h&&h>=1888&&h<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof d&&d>=1&&d<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof b&&b>=1&&b<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof p?(L=!1,m=p):(L=!!p,m=A||{}),u={year:h,month:d,day:b,isIntercalary:L}}x=u.day-1;var i,E=n[u.year-n[0]],M=E>>13;i=M&&(u.month>M||u.isIntercalary)?u.month:u.month-1;for(var D=0;D<i;D++)x+=E&1<<12-D?30:29;var B=c[u.year-c[0]],V=new Date(B>>9&4095,(B>>5&15)-1,(31&B)+x);return m.year=V.getFullYear(),m.month=1+V.getMonth(),m.day=V.getDate(),m}(h,m,b,A);return l.toJD(u.year,u.month,u.day)},fromJD:function(h){var d=l.fromJD(h),b=function o(h,d,b,p){var A,m;if("object"==typeof h)A=h,m=d||{};else{if(!("number"==typeof h&&h>=1888&&h<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof d&&d>=1&&d<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof b&&b>=1&&b<=31))throw new Error("Solar day outside range 1 - 31");A={year:h,month:d,day:b},m=p||{}}var T=c[A.year-c[0]];m.year=(A.year<<9|A.month<<5|A.day)>=T?A.year:A.year-1,T=c[m.year-c[0]];var i,D=new Date(T>>9&4095,(T>>5&15)-1,31&T),y=new Date(A.year,A.month-1,A.day);i=Math.round((y-D)/864e5);var F,B=n[m.year-n[0]];for(F=0;F<13;F++){var _=B&1<<12-F?30:29;if(i<_)break;i-=_}var z=B>>13;return!z||F<z?(m.isIntercalary=!1,m.month=1+F):F===z?(m.isIntercalary=!0,m.month=F):(m.isIntercalary=!1,m.month=F),m.day=1+i,m}(d.year(),d.month(),d.day()),p=this.toMonthIndex(b.year,b.month,b.isIntercalary);return this.newDate(b.year,p,b.day)},fromString:function(h){var d=h.match(I),b=this._validateYear(+d[1]),m=this.toMonthIndex(b,+d[2],!!d[3]);return this.newDate(b,m,+d[4])},add:function(h,d,b){var p=h.year(),A=h.month(),m=this.isIntercalaryMonth(p,A),u=this.toChineseMonth(p,A),g=Object.getPrototypeOf(R.prototype).add.call(this,h,d,b);if("y"===b){var C=g.year(),T=g.month(),L=this.isIntercalaryMonth(C,u),x=this.toMonthIndex(C,u,!(!m||!L));x!==T&&g.month(x)}return g}});var I=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,w=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,r=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;S.calendars.chinese=R;var n=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],c=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(oe,J,t){var S=t(63489);function l(R){this.local=this.regionalOptions[R||""]||this.regionalOptions[""]}t(56131)(l.prototype=new S.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var I=this._validate(v,this.minMonth,this.minDay,S.local.invalidYear);return(v=I.year()+(I.year()<0?1:0))%4==3||v%4==-1},monthsInYear:function(R){return this._validate(R,this.minMonth,this.minDay,S.local.invalidYear||S.regionalOptions[""].invalidYear),13},weekOfYear:function(R,I,v){var w=this.newDate(R,I,v);return w.add(-w.dayOfWeek(),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInMonth:function(R,I){var v=this._validate(R,I,this.minDay,S.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(13===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(R,I,v){return(this.dayOfWeek(R,I,v)||7)<6},toJD:function(R,I,v){var w=this._validate(R,I,v,S.local.invalidDate);return(R=w.year())<0&&R++,w.day()+30*(w.month()-1)+365*(R-1)+Math.floor(R/4)+this.jdEpoch-1},fromJD:function(R){var I=Math.floor(R)+.5-this.jdEpoch,v=Math.floor((I-Math.floor((I+366)/1461))/365)+1;v<=0&&v--,I=Math.floor(R)+.5-this.newDate(v,1,1).toJD();var w=Math.floor(I/30)+1;return this.newDate(v,w,I-30*(w-1)+1)}}),S.calendars.coptic=l},86825:function(oe,J,t){var S=t(63489);function l(I){this.local=this.regionalOptions[I||""]||this.regionalOptions[""]}t(56131)(l.prototype=new S.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(I){return this._validate(I,this.minMonth,this.minDay,S.local.invalidYear),!1},monthsInYear:function(I){return this._validate(I,this.minMonth,this.minDay,S.local.invalidYear),13},daysInYear:function(I){return this._validate(I,this.minMonth,this.minDay,S.local.invalidYear),400},weekOfYear:function(I,v,w){var r=this.newDate(I,v,w);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(I,v){var w=this._validate(I,v,this.minDay,S.local.invalidMonth);return this.daysPerMonth[w.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(I,v,w){return(this._validate(I,v,w,S.local.invalidDate).day()+1)%8},weekDay:function(I,v,w){var r=this.dayOfWeek(I,v,w);return r>=2&&r<=6},extraInfo:function(I,v,w){var r=this._validate(I,v,w,S.local.invalidDate);return{century:R[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(I,v,w){var r=this._validate(I,v,w,S.local.invalidDate);return I=r.year()+(r.year()<0?1:0),v=r.month(),(w=r.day())+(v>1?16:0)+(v>2?32*(v-2):0)+400*(I-1)+this.jdEpoch-1},fromJD:function(I){I=Math.floor(I+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(I/400)+1;I-=400*(v-1),I+=I>15?16:0;var w=Math.floor(I/32)+1;return this.newDate(v<=0?v-1:v,w,I-32*(w-1)+1)}});var R={20:"Fruitbat",21:"Anchovy"};S.calendars.discworld=l},37715:function(oe,J,t){var S=t(63489);function l(R){this.local=this.regionalOptions[R||""]||this.regionalOptions[""]}t(56131)(l.prototype=new S.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var I=this._validate(v,this.minMonth,this.minDay,S.local.invalidYear);return(v=I.year()+(I.year()<0?1:0))%4==3||v%4==-1},monthsInYear:function(R){return this._validate(R,this.minMonth,this.minDay,S.local.invalidYear||S.regionalOptions[""].invalidYear),13},weekOfYear:function(R,I,v){var w=this.newDate(R,I,v);return w.add(-w.dayOfWeek(),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInMonth:function(R,I){var v=this._validate(R,I,this.minDay,S.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(13===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(R,I,v){return(this.dayOfWeek(R,I,v)||7)<6},toJD:function(R,I,v){var w=this._validate(R,I,v,S.local.invalidDate);return(R=w.year())<0&&R++,w.day()+30*(w.month()-1)+365*(R-1)+Math.floor(R/4)+this.jdEpoch-1},fromJD:function(R){var I=Math.floor(R)+.5-this.jdEpoch,v=Math.floor((I-Math.floor((I+366)/1461))/365)+1;v<=0&&v--,I=Math.floor(R)+.5-this.newDate(v,1,1).toJD();var w=Math.floor(I/30)+1;return this.newDate(v,w,I-30*(w-1)+1)}}),S.calendars.ethiopian=l},99384:function(oe,J,t){var S=t(63489);function l(I){this.local=this.regionalOptions[I||""]||this.regionalOptions[""]}function R(I,v){return I-v*Math.floor(I/v)}t(56131)(l.prototype=new S.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(I){var v=this._validate(I,this.minMonth,this.minDay,S.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(I){return R(7*(I=I<0?I+1:I)+1,19)<7},monthsInYear:function(I){return this._validate(I,this.minMonth,this.minDay,S.local.invalidYear),this._leapYear(I.year?I.year():I)?13:12},weekOfYear:function(I,v,w){var r=this.newDate(I,v,w);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(I){return I=this._validate(I,this.minMonth,this.minDay,S.local.invalidYear).year(),this.toJD(-1===I?1:I+1,7,1)-this.toJD(I,7,1)},daysInMonth:function(I,v){return I.year&&(v=I.month(),I=I.year()),this._validate(I,v,this.minDay,S.local.invalidMonth),12===v&&this.leapYear(I)||8===v&&5===R(this.daysInYear(I),10)?30:9===v&&3===R(this.daysInYear(I),10)?29:this.daysPerMonth[v-1]},weekDay:function(I,v,w){return 6!==this.dayOfWeek(I,v,w)},extraInfo:function(I,v,w){var r=this._validate(I,v,w,S.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(I,v,w){var r=this._validate(I,v,w,S.local.invalidDate);I=r.year(),v=r.month(),w=r.day();var n=I<=0?I+1:I,c=this.jdEpoch+this._delay1(n)+this._delay2(n)+w+1;if(v<7){for(var o=7;o<=this.monthsInYear(I);o++)c+=this.daysInMonth(I,o);for(o=1;o<v;o++)c+=this.daysInMonth(I,o)}else for(o=7;o<v;o++)c+=this.daysInMonth(I,o);return c},_delay1:function(I){var v=Math.floor((235*I-234)/19),r=29*v+Math.floor((12084+13753*v)/25920);return R(3*(r+1),7)<3&&r++,r},_delay2:function(I){var v=this._delay1(I-1),w=this._delay1(I);return this._delay1(I+1)-w==356?2:w-v==382?1:0},fromJD:function(I){I=Math.floor(I)+.5;for(var v=Math.floor(98496*(I-this.jdEpoch)/35975351)-1;I>=this.toJD(-1===v?1:v+1,7,1);)v++;for(var w=I<this.toJD(v,1,1)?7:1;I>this.toJD(v,w,this.daysInMonth(v,w));)w++;var r=I-this.toJD(v,w,1)+1;return this.newDate(v,w,r)}}),S.calendars.hebrew=l},43805:function(oe,J,t){var S=t(63489);function l(R){this.local=this.regionalOptions[R||""]||this.regionalOptions[""]}t(56131)(l.prototype=new S.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(R){return(11*this._validate(R,this.minMonth,this.minDay,S.local.invalidYear).year()+14)%30<11},weekOfYear:function(R,I,v){var w=this.newDate(R,I,v);return w.add(-w.dayOfWeek(),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInYear:function(R){return this.leapYear(R)?355:354},daysInMonth:function(R,I){var v=this._validate(R,I,this.minDay,S.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(12===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(R,I,v){return 5!==this.dayOfWeek(R,I,v)},toJD:function(R,I,v){var w=this._validate(R,I,v,S.local.invalidDate);return R=w.year(),I=w.month(),R=R<=0?R+1:R,(v=w.day())+Math.ceil(29.5*(I-1))+354*(R-1)+Math.floor((3+11*R)/30)+this.jdEpoch-1},fromJD:function(R){R=Math.floor(R)+.5;var I=Math.floor((30*(R-this.jdEpoch)+10646)/10631);I=I<=0?I-1:I;var v=Math.min(12,Math.ceil((R-29-this.toJD(I,1,1))/29.5)+1),w=R-this.toJD(I,v,1)+1;return this.newDate(I,v,w)}}),S.calendars.islamic=l},88874:function(oe,J,t){var S=t(63489);function l(R){this.local=this.regionalOptions[R||""]||this.regionalOptions[""]}t(56131)(l.prototype=new S.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var I=this._validate(v,this.minMonth,this.minDay,S.local.invalidYear);return(v=I.year()<0?I.year()+1:I.year())%4==0},weekOfYear:function(R,I,v){var w=this.newDate(R,I,v);return w.add(4-(w.dayOfWeek()||7),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInMonth:function(R,I){var v=this._validate(R,I,this.minDay,S.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(2===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(R,I,v){return(this.dayOfWeek(R,I,v)||7)<6},toJD:function(R,I,v){var w=this._validate(R,I,v,S.local.invalidDate);return R=w.year(),I=w.month(),v=w.day(),R<0&&R++,I<=2&&(R--,I+=12),Math.floor(365.25*(R+4716))+Math.floor(30.6001*(I+1))+v-1524.5},fromJD:function(R){var v=Math.floor(R+.5)+1524,w=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*w),n=Math.floor((v-r)/30.6001),c=n-Math.floor(n<14?1:13),o=w-Math.floor(c>2?4716:4715),f=v-r-Math.floor(30.6001*n);return o<=0&&o--,this.newDate(o,c,f)}}),S.calendars.julian=l},83290:function(oe,J,t){var S=t(63489);function l(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}function R(v,w){return v-w*Math.floor(v/w)}function I(v,w){return R(v-1,w)+1}t(56131)(l.prototype=new S.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,S.local.invalidYear),!1},formatYear:function(v){v=this._validate(v,this.minMonth,this.minDay,S.local.invalidYear).year();var r=Math.floor(v/400);return v%=400,v+=v<0?400:0,r+"."+Math.floor(v/20)+"."+v%20},forYear:function(v){if((v=v.split(".")).length<3)throw"Invalid Mayan year";for(var w=0,r=0;r<v.length;r++){var n=parseInt(v[r],10);if(Math.abs(n)>19||r>0&&n<0)throw"Invalid Mayan year";w=20*w+n}return w},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,S.local.invalidYear),18},weekOfYear:function(v,w,r){return this._validate(v,w,r,S.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,S.local.invalidYear),360},daysInMonth:function(v,w){return this._validate(v,w,this.minDay,S.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,w,r){return this._validate(v,w,r,S.local.invalidDate).day()},weekDay:function(v,w,r){return this._validate(v,w,r,S.local.invalidDate),!0},extraInfo:function(v,w,r){var c=this._validate(v,w,r,S.local.invalidDate).toJD(),o=this._toHaab(c),f=this._toTzolkin(c);return{haabMonthName:this.local.haabMonths[o[0]-1],haabMonth:o[0],haabDay:o[1],tzolkinDayName:this.local.tzolkinMonths[f[0]-1],tzolkinDay:f[0],tzolkinTrecena:f[1]}},_toHaab:function(v){var w=R(8+(v-=this.jdEpoch)+340,365);return[Math.floor(w/20)+1,R(w,20)]},_toTzolkin:function(v){return[I(20+(v-=this.jdEpoch),20),I(v+4,13)]},toJD:function(v,w,r){var n=this._validate(v,w,r,S.local.invalidDate);return n.day()+20*n.month()+360*n.year()+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var w=Math.floor(v/360);v%=360,v+=v<0?360:0;var r=Math.floor(v/20);return this.newDate(w,r,v%20)}}),S.calendars.mayan=l},29108:function(oe,J,t){var S=t(63489),k=t(56131);function l(I){this.local=this.regionalOptions[I||""]||this.regionalOptions[""]}l.prototype=new S.baseCalendar;var R=S.instance("gregorian");k(l.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(I){var v=this._validate(I,this.minMonth,this.minDay,S.local.invalidYear||S.regionalOptions[""].invalidYear);return R.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(I,v,w){var r=this.newDate(I,v,w);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(I,v){var w=this._validate(I,v,this.minDay,S.local.invalidMonth);return this.daysPerMonth[w.month()-1]+(12===w.month()&&this.leapYear(w.year())?1:0)},weekDay:function(I,v,w){return(this.dayOfWeek(I,v,w)||7)<6},toJD:function(n,v,w){var r=this._validate(n,v,w,S.local.invalidMonth);(n=r.year())<0&&n++;for(var c=r.day(),o=1;o<r.month();o++)c+=this.daysPerMonth[o-1];return c+R.toJD(n+1468,3,13)},fromJD:function(I){I=Math.floor(I+.5);for(var v=Math.floor((I-(this.jdEpoch-1))/366);I>=this.toJD(v+1,1,1);)v++;for(var w=I-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;w>this.daysInMonth(v,r);)w-=this.daysInMonth(v,r),r++;return this.newDate(v,r,w)}}),S.calendars.nanakshahi=l},55422:function(oe,J,t){var S=t(63489);function l(R){this.local=this.regionalOptions[R||""]||this.regionalOptions[""]}t(56131)(l.prototype=new S.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(R){return this.daysInYear(R)!==this.daysPerYear},weekOfYear:function(R,I,v){var w=this.newDate(R,I,v);return w.add(-w.dayOfWeek(),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInYear:function(R){if(R=this._validate(R,this.minMonth,this.minDay,S.local.invalidYear).year(),typeof this.NEPALI_CALENDAR_DATA[R]>"u")return this.daysPerYear;for(var v=0,w=this.minMonth;w<=12;w++)v+=this.NEPALI_CALENDAR_DATA[R][w];return v},daysInMonth:function(R,I){return R.year&&(I=R.month(),R=R.year()),this._validate(R,I,this.minDay,S.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[R]>"u"?this.daysPerMonth[I-1]:this.NEPALI_CALENDAR_DATA[R][I]},weekDay:function(R,I,v){return 6!==this.dayOfWeek(R,I,v)},toJD:function(R,I,v){var w=this._validate(R,I,v,S.local.invalidDate);R=w.year(),I=w.month(),v=w.day();var r=S.instance(),n=0,c=I,o=R;this._createMissingCalendarData(R);var f=R-(c>9||9===c&&v>=this.NEPALI_CALENDAR_DATA[o][0]?56:57);for(9!==I&&(n=v,c--);9!==c;)c<=0&&(c=12,o--),n+=this.NEPALI_CALENDAR_DATA[o][c],c--;return 9===I?(n+=v-this.NEPALI_CALENDAR_DATA[o][0])<0&&(n+=r.daysInYear(f)):n+=this.NEPALI_CALENDAR_DATA[o][9]-this.NEPALI_CALENDAR_DATA[o][0],r.newDate(f,1,1).add(n,"d").toJD()},fromJD:function(R){var v=S.instance().fromJD(R),w=v.year(),r=v.dayOfYear(),n=w+56;this._createMissingCalendarData(n);for(var c=9,f=this.NEPALI_CALENDAR_DATA[n][c]-this.NEPALI_CALENDAR_DATA[n][0]+1;r>f;)++c>12&&(c=1,n++),f+=this.NEPALI_CALENDAR_DATA[n][c];return this.newDate(n,c,this.NEPALI_CALENDAR_DATA[n][c]-(f-r))},_createMissingCalendarData:function(R){var I=this.daysPerMonth.slice(0);I.unshift(17);for(var v=R-1;v<R+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=I)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),S.calendars.nepali=l},94320:function(oe,J,t){var S=t(63489);function l(I){this.local=this.regionalOptions[I||""]||this.regionalOptions[""]}function R(I,v){return I-v*Math.floor(I/v)}t(56131)(l.prototype=new S.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(I){var v=this._validate(I,this.minMonth,this.minDay,S.local.invalidYear);return 682*((v.year()-(v.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(I,v,w){var r=this.newDate(I,v,w);return r.add(-(r.dayOfWeek()+1)%7,"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(I,v){var w=this._validate(I,v,this.minDay,S.local.invalidMonth);return this.daysPerMonth[w.month()-1]+(12===w.month()&&this.leapYear(w.year())?1:0)},weekDay:function(I,v,w){return 5!==this.dayOfWeek(I,v,w)},toJD:function(I,v,w){var r=this._validate(I,v,w,S.local.invalidDate);I=r.year(),v=r.month(),w=r.day();var n=I-(I>=0?474:473),c=474+R(n,2820);return w+(v<=7?31*(v-1):30*(v-1)+6)+Math.floor((682*c-110)/2816)+365*(c-1)+1029983*Math.floor(n/2820)+this.jdEpoch-1},fromJD:function(I){var v=(I=Math.floor(I)+.5)-this.toJD(475,1,1),w=Math.floor(v/1029983),r=R(v,1029983),n=2820;if(1029982!==r){var c=Math.floor(r/366),o=R(r,366);n=Math.floor((2134*c+2816*o+2815)/1028522)+c+1}var f=n+2820*w+474,h=I-this.toJD(f=f<=0?f-1:f,1,1)+1,d=h<=186?Math.ceil(h/31):Math.ceil((h-6)/30),b=I-this.toJD(f,d,1)+1;return this.newDate(f,d,b)}}),S.calendars.persian=l,S.calendars.jalali=l},31320:function(oe,J,t){var S=t(63489),k=t(56131),l=S.instance();function R(I){this.local=this.regionalOptions[I||""]||this.regionalOptions[""]}k(R.prototype=new S.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,S.local.invalidYear);return w=this._t2gYear(v.year()),l.leapYear(w)},weekOfYear:function(n,v,w){var r=this._validate(n,this.minMonth,this.minDay,S.local.invalidYear);return n=this._t2gYear(r.year()),l.weekOfYear(n,r.month(),r.day())},daysInMonth:function(I,v){var w=this._validate(I,v,this.minDay,S.local.invalidMonth);return this.daysPerMonth[w.month()-1]+(2===w.month()&&this.leapYear(w.year())?1:0)},weekDay:function(I,v,w){return(this.dayOfWeek(I,v,w)||7)<6},toJD:function(n,v,w){var r=this._validate(n,v,w,S.local.invalidDate);return n=this._t2gYear(r.year()),l.toJD(n,r.month(),r.day())},fromJD:function(I){var v=l.fromJD(I),w=this._g2tYear(v.year());return this.newDate(w,v.month(),v.day())},_t2gYear:function(I){return I+this.yearsOffset+(I>=-this.yearsOffset&&I<=-1?1:0)},_g2tYear:function(I){return I-this.yearsOffset-(I>=1&&I<=this.yearsOffset?1:0)}}),S.calendars.taiwan=R},51367:function(oe,J,t){var S=t(63489),k=t(56131),l=S.instance();function R(I){this.local=this.regionalOptions[I||""]||this.regionalOptions[""]}k(R.prototype=new S.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var v=this._validate(w,this.minMonth,this.minDay,S.local.invalidYear);return w=this._t2gYear(v.year()),l.leapYear(w)},weekOfYear:function(n,v,w){var r=this._validate(n,this.minMonth,this.minDay,S.local.invalidYear);return n=this._t2gYear(r.year()),l.weekOfYear(n,r.month(),r.day())},daysInMonth:function(I,v){var w=this._validate(I,v,this.minDay,S.local.invalidMonth);return this.daysPerMonth[w.month()-1]+(2===w.month()&&this.leapYear(w.year())?1:0)},weekDay:function(I,v,w){return(this.dayOfWeek(I,v,w)||7)<6},toJD:function(n,v,w){var r=this._validate(n,v,w,S.local.invalidDate);return n=this._t2gYear(r.year()),l.toJD(n,r.month(),r.day())},fromJD:function(I){var v=l.fromJD(I),w=this._g2tYear(v.year());return this.newDate(w,v.month(),v.day())},_t2gYear:function(I){return I-this.yearsOffset-(I>=1&&I<=this.yearsOffset?1:0)},_g2tYear:function(I){return I+this.yearsOffset+(I>=-this.yearsOffset&&I<=-1?1:0)}}),S.calendars.thai=R},21457:function(oe,J,t){var S=t(63489);function l(I){this.local=this.regionalOptions[I||""]||this.regionalOptions[""]}t(56131)(l.prototype=new S.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(I){var v=this._validate(I,this.minMonth,this.minDay,S.local.invalidYear);return 355===this.daysInYear(v.year())},weekOfYear:function(I,v,w){var r=this.newDate(I,v,w);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(I){for(var v=0,w=1;w<=12;w++)v+=this.daysInMonth(I,w);return v},daysInMonth:function(I,v){for(var r=this._validate(I,v,this.minDay,S.local.invalidMonth).toJD()-24e5+.5,n=0,c=0;c<R.length;c++){if(R[c]>r)return R[n]-R[n-1];n++}return 30},weekDay:function(I,v,w){return 5!==this.dayOfWeek(I,v,w)},toJD:function(I,v,w){var r=this._validate(I,v,w,S.local.invalidDate),n=12*(r.year()-1)+r.month()-15292;return r.day()+R[n-1]-1+24e5-.5},fromJD:function(I){for(var v=I-24e5+.5,w=0,r=0;r<R.length&&!(R[r]>v);r++)w++;var n=w+15292,c=Math.floor((n-1)/12);return this.newDate(c+1,n-12*c,v-R[w-1]+1)},isValid:function(I,v,w){var r=S.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(r=(I=null!=I.year?I.year:I)>=1276&&I<=1500),r},_validate:function(I,v,w,r){var n=S.baseCalendar.prototype._validate.apply(this,arguments);if(n.year<1276||n.year>1500)throw r.replace(/\{0\}/,this.local.name);return n}}),S.calendars.ummalqura=l;var R=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(oe,J,t){var S=t(56131);function k(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function l(r,n,c,o){if(this._calendar=r,this._year=n,this._month=c,this._day=o,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(w.local.invalidDate||w.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function R(r,n){return"000000".substring(0,n-(r=""+r).length)+r}function I(){this.shortYearCutoff="+10"}function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}S(k.prototype,{instance:function(r,n){r=(r||"gregorian").toLowerCase();var c=this._localCals[r+"-"+(n=n||"")];if(!c&&this.calendars[r]&&(c=new this.calendars[r](n),this._localCals[r+"-"+n]=c),!c)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return c},newDate:function(r,n,c,o,f){return(o=(null!=r&&r.year?r.calendar():"string"==typeof o?this.instance(o,f):o)||this.instance()).newDate(r,n,c)},substituteDigits:function(r){return function(n){return(n+"").replace(/[0-9]/g,function(c){return r[c]})}},substituteChineseDigits:function(r,n){return function(c){for(var o="",f=0;c>0;){var h=c%10;o=(0===h?"":r[h]+n[f])+o,f++,c=Math.floor(c/10)}return 0===o.indexOf(r[1]+n[1])&&(o=o.substr(1)),o||r[0]}}}),S(l.prototype,{newDate:function(r,n,c){return this._calendar.newDate(r??this,n,c)},year:function(r){return 0===arguments.length?this._year:this.set(r,"y")},month:function(r){return 0===arguments.length?this._month:this.set(r,"m")},day:function(r){return 0===arguments.length?this._day:this.set(r,"d")},date:function(r,n,c){if(!this._calendar.isValid(r,n,c))throw(w.local.invalidDate||w.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=n,this._day=c,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,n){return this._calendar.add(this,r,n)},set:function(r,n){return this._calendar.set(this,r,n)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(w.local.differentCalendars||w.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var n=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return 0===n?0:n<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+R(Math.abs(this.year()),4)+"-"+R(this.month(),2)+"-"+R(this.day(),2)}}),S(I.prototype,{_validateLevel:0,newDate:function(r,n,c){return null==r?this.today():(r.year&&(this._validate(r,n,c,w.local.invalidDate||w.regionalOptions[""].invalidDate),c=r.day(),n=r.month(),r=r.year()),new l(this,r,n,c))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){return this._validate(r,this.minMonth,this.minDay,w.local.invalidYear||w.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,w.local.invalidYear||w.regionalOptions[""].invalidYear);return(n.year()<0?"-":"")+R(Math.abs(n.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,w.local.invalidYear||w.regionalOptions[""].invalidYear),12},monthOfYear:function(r,n){var c=this._validate(r,n,this.minDay,w.local.invalidMonth||w.regionalOptions[""].invalidMonth);return(c.month()+this.monthsInYear(c)-this.firstMonth)%this.monthsInYear(c)+this.minMonth},fromMonthOfYear:function(r,n){var c=(n+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,c,this.minDay,w.local.invalidMonth||w.regionalOptions[""].invalidMonth),c},daysInYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,w.local.invalidYear||w.regionalOptions[""].invalidYear);return this.leapYear(n)?366:365},dayOfYear:function(r,n,c){var o=this._validate(r,n,c,w.local.invalidDate||w.regionalOptions[""].invalidDate);return o.toJD()-this.newDate(o.year(),this.fromMonthOfYear(o.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,n,c){var o=this._validate(r,n,c,w.local.invalidDate||w.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(o))+2)%this.daysInWeek()},extraInfo:function(r,n,c){return this._validate(r,n,c,w.local.invalidDate||w.regionalOptions[""].invalidDate),{}},add:function(r,n,c){return this._validate(r,this.minMonth,this.minDay,w.local.invalidDate||w.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,n,c),n,c)},_add:function(r,n,c){if(this._validateLevel++,"d"===c||"w"===c){var o=r.toJD()+n*("w"===c?this.daysInWeek():1),f=r.calendar().fromJD(o);return this._validateLevel--,[f.year(),f.month(),f.day()]}try{var h=r.year()+("y"===c?n:0),d=r.monthOfYear()+("m"===c?n:0),b=(f=r.day(),function(m){for(;d<m.minMonth;)h--,d+=m.monthsInYear(h);for(var u=m.monthsInYear(h);d>u-1+m.minMonth;)h++,d-=u,u=m.monthsInYear(h)});"y"===c?(r.month()!==this.fromMonthOfYear(h,d)&&(d=this.newDate(h,r.month(),this.minDay).monthOfYear()),d=Math.min(d,this.monthsInYear(h)),f=Math.min(f,this.daysInMonth(h,this.fromMonthOfYear(h,d)))):"m"===c&&(b(this),f=Math.min(f,this.daysInMonth(h,this.fromMonthOfYear(h,d))));var p=[h,this.fromMonthOfYear(h,d),f];return this._validateLevel--,p}catch(A){throw this._validateLevel--,A}},_correctAdd:function(r,n,c,o){if(!(this.hasYearZero||"y"!==o&&"m"!==o||0!==n[0]&&r.year()>0==n[0]>0)){var f={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[o];n=this._add(r,c*f[0]+(c<0?-1:1)*f[1],f[2])}return r.date(n[0],n[1],n[2])},set:function(r,n,c){this._validate(r,this.minMonth,this.minDay,w.local.invalidDate||w.regionalOptions[""].invalidDate);var o="y"===c?n:r.year(),f="m"===c?n:r.month(),h="d"===c?n:r.day();return("y"===c||"m"===c)&&(h=Math.min(h,this.daysInMonth(o,f))),r.date(o,f,h)},isValid:function(r,n,c){this._validateLevel++;var o=this.hasYearZero||0!==r;if(o){var f=this.newDate(r,n,this.minDay);o=n>=this.minMonth&&n-this.minMonth<this.monthsInYear(f)&&c>=this.minDay&&c-this.minDay<this.daysInMonth(f)}return this._validateLevel--,o},toJSDate:function(r,n,c){var o=this._validate(r,n,c,w.local.invalidDate||w.regionalOptions[""].invalidDate);return w.instance().fromJD(this.toJD(o)).toJSDate()},fromJSDate:function(r){return this.fromJD(w.instance().fromJSDate(r).toJD())},_validate:function(r,n,c,o){if(r.year){if(0===this._validateLevel&&this.name!==r.calendar().name)throw(w.local.differentCalendars||w.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(r,n,c))throw o.replace(/\{0\}/,this.local.name);var f=this.newDate(r,n,c);return this._validateLevel--,f}catch(h){throw this._validateLevel--,h}}}),S(v.prototype=new I,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var n=this._validate(c,this.minMonth,this.minDay,w.local.invalidYear||w.regionalOptions[""].invalidYear);return(c=n.year()+(n.year()<0?1:0))%4==0&&(c%100!=0||c%400==0)},weekOfYear:function(r,n,c){var o=this.newDate(r,n,c);return o.add(4-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(r,n){var c=this._validate(r,n,this.minDay,w.local.invalidMonth||w.regionalOptions[""].invalidMonth);return this.daysPerMonth[c.month()-1]+(2===c.month()&&this.leapYear(c.year())?1:0)},weekDay:function(r,n,c){return(this.dayOfWeek(r,n,c)||7)<6},toJD:function(r,n,c){var o=this._validate(r,n,c,w.local.invalidDate||w.regionalOptions[""].invalidDate);r=o.year(),n=o.month(),c=o.day(),r<0&&r++,n<3&&(n+=12,r--);var f=Math.floor(r/100),h=2-f+Math.floor(f/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(n+1))+c+h-1524.5},fromJD:function(r){var n=Math.floor(r+.5),c=Math.floor((n-1867216.25)/36524.25),o=1524+(c=n+1+c-Math.floor(c/4)),f=Math.floor((o-122.1)/365.25),h=Math.floor(365.25*f),d=Math.floor((o-h)/30.6001),b=o-h-Math.floor(30.6001*d),p=d-(d>13.5?13:1),A=f-(p>2.5?4716:4715);return A<=0&&A--,this.newDate(A,p,b)},toJSDate:function(r,n,c){var o=this._validate(r,n,c,w.local.invalidDate||w.regionalOptions[""].invalidDate),f=new Date(o.year(),o.month()-1,o.day());return f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),f.setHours(f.getHours()>12?f.getHours()+2:0),f},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var w=oe.exports=new k;w.cdate=l,w.baseCalendar=I,w.calendars.gregorian=v},94338:function(oe,J,t){var S=t(56131),k=t(63489);S(k.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),k.local=k.regionalOptions[""],S(k.cdate.prototype,{formatDate:function(l,R){return"string"!=typeof l&&(R=l,l=""),this._calendar.formatDate(l||"",this,R)}}),S(k.baseCalendar.prototype,{UNIX_EPOCH:k.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:k.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(l,R,I){if("string"!=typeof l&&(I=R,R=l,l=""),!R)return"";if(R.calendar()!==this)throw k.local.invalidFormat||k.regionalOptions[""].invalidFormat;l=l||this.local.dateFormat;for(var v=(I=I||{}).dayNamesShort||this.local.dayNamesShort,w=I.dayNames||this.local.dayNames,r=I.monthNumbers||this.local.monthNumbers,n=I.monthNamesShort||this.local.monthNamesShort,c=I.monthNames||this.local.monthNames,f=function(L,x){for(var E=1;T+E<l.length&&l.charAt(T+E)===L;)E++;return T+=E-1,Math.floor(E/(x||1))>1},h=function(L,x,E,M){var i=""+x;if(f(L,M))for(;i.length<E;)i="0"+i;return i},b=this,p=function(L){return"function"==typeof r?r.call(b,L,f("m")):u(h("m",L.month(),2))},A=function(L,x){return x?"function"==typeof c?c.call(b,L):c[L.month()-b.minMonth]:"function"==typeof n?n.call(b,L):n[L.month()-b.minMonth]},m=this.local.digits,u=function(L){return I.localNumbers&&m?m(L):L},g="",C=!1,T=0;T<l.length;T++)if(C)"'"!==l.charAt(T)||f("'")?g+=l.charAt(T):C=!1;else switch(l.charAt(T)){case"d":g+=u(h("d",R.day(),2));break;case"D":g+=(L="D",x=R.dayOfWeek(),E=v,M=w,f(L)?M[x]:E[x]);break;case"o":g+=h("o",R.dayOfYear(),3);break;case"w":g+=h("w",R.weekOfYear(),2);break;case"m":g+=p(R);break;case"M":g+=A(R,f("M"));break;case"y":g+=f("y",2)?R.year():(R.year()%100<10?"0":"")+R.year()%100;break;case"Y":f("Y",2),g+=R.formatYear();break;case"J":g+=R.toJD();break;case"@":g+=(R.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":g+=(R.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":f("'")?g+="'":C=!0;break;default:g+=l.charAt(T)}var L,x,E,M;return g},parseDate:function(l,R,I){if(null==R)throw k.local.invalidArguments||k.regionalOptions[""].invalidArguments;if(""===(R="object"==typeof R?R.toString():R+""))return null;l=l||this.local.dateFormat;var v=(I=I||{}).shortYearCutoff||this.shortYearCutoff;v="string"!=typeof v?v:this.today().year()%100+parseInt(v,10);for(var w=I.dayNamesShort||this.local.dayNamesShort,r=I.dayNames||this.local.dayNames,n=I.parseMonth||this.local.parseMonth,c=I.monthNumbers||this.local.monthNumbers,o=I.monthNamesShort||this.local.monthNamesShort,f=I.monthNames||this.local.monthNames,h=-1,d=-1,b=-1,p=-1,A=-1,m=!1,u=!1,g=function(F,_){for(var z=1;D+z<l.length&&l.charAt(D+z)===F;)z++;return D+=z-1,Math.floor(z/(_||1))>1},C=function(F,_){var z=g(F,_),V=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(F)+1],H=new RegExp("^-?\\d{1,"+V+"}"),U=R.substring(i).match(H);if(!U)throw(k.local.missingNumberAt||k.regionalOptions[""].missingNumberAt).replace(/\{0\}/,i);return i+=U[0].length,parseInt(U[0],10)},T=this,L=function(){if("function"==typeof c){g("m");var F=c.call(T,R.substring(i));return i+=F.length,F}return C("m")},x=function(F,_,z,V){for(var H=g(F,V)?z:_,U=0;U<H.length;U++)if(R.substr(i,H[U].length).toLowerCase()===H[U].toLowerCase())return i+=H[U].length,U+T.minMonth;throw(k.local.unknownNameAt||k.regionalOptions[""].unknownNameAt).replace(/\{0\}/,i)},E=function(){if("function"==typeof f){var F=g("M")?f.call(T,R.substring(i)):o.call(T,R.substring(i));return i+=F.length,F}return x("M",o,f)},M=function(){if(R.charAt(i)!==l.charAt(D))throw(k.local.unexpectedLiteralAt||k.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,i);i++},i=0,D=0;D<l.length;D++)if(u)"'"!==l.charAt(D)||g("'")?M():u=!1;else switch(l.charAt(D)){case"d":p=C("d");break;case"D":x("D",w,r);break;case"o":A=C("o");break;case"w":C("w");break;case"m":b=L();break;case"M":b=E();break;case"y":var y=D;m=!g("y",2),D=y,d=C("y",2);break;case"Y":d=C("Y",2);break;case"J":h=C("J")+.5,"."===R.charAt(i)&&(i++,C("J"));break;case"@":h=C("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":h=C("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":i=R.length;break;case"'":g("'")?M():u=!0;break;default:M()}if(i<R.length)throw k.local.unexpectedText||k.regionalOptions[""].unexpectedText;if(-1===d?d=this.today().year():d<100&&m&&(d+=-1===v?1900:this.today().year()-this.today().year()%100-(d<=v?0:100)),"string"==typeof b&&(b=n.call(this,d,b)),A>-1){p=A;for(var B=this.daysInMonth(d,b=1);p>B;B=this.daysInMonth(d,b))b++,p-=B}return h>-1?this.fromJD(h):this.newDate(d,b,p)},determineDate:function(l,R,I,v,w){I&&"object"!=typeof I&&(w=v,v=I,I=null),"string"!=typeof v&&(w=v,v="");var r=this;return R=R?R.newDate():null,null==l?R:"string"==typeof l?function(c){try{return r.parseDate(v,c,w)}catch{}for(var o=((c=c.toLowerCase()).match(/^c/)&&I?I.newDate():null)||r.today(),f=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,h=f.exec(c);h;)o.add(parseInt(h[1],10),h[2]||"d"),h=f.exec(c);return o}(l):"number"==typeof l?isNaN(l)||l===1/0||l===-1/0?R:r.today().add(l,"d"):r.newDate(l)}})},69862:function(){},40964:function(){},72077:function(oe,J,t){"use strict";var S=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],k=typeof globalThis>"u"?t.g:globalThis;oe.exports=function(){for(var R=[],I=0;I<S.length;I++)"function"==typeof k[S[I]]&&(R[R.length]=S[I]);return R}},81684:function(oe,J,t){"use strict";function S(We,je,lt){We.prototype=je.prototype=lt,lt.constructor=We}function k(We,je){var lt=Object.create(We.prototype);for(var vt in je)lt[vt]=je[vt];return lt}function l(){}t.d(J,{sX:function(){return ot},k4:function(){return Me}});var R=.7,I=1/R,v="\\s*([+-]?\\d+)\\s*",w="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",n=/^#([0-9a-f]{3,8})$/,c=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),o=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),f=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(w,"\\)$")),h=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(w,"\\)$")),d=new RegExp("^hsl\\(".concat(w,",").concat(r,",").concat(r,"\\)$")),b=new RegExp("^hsla\\(".concat(w,",").concat(r,",").concat(r,",").concat(w,"\\)$")),p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function A(){return this.rgb().formatHex()}function g(){return this.rgb().formatRgb()}function C(We){var je,lt;return We=(We+"").trim().toLowerCase(),(je=n.exec(We))?(lt=je[1].length,je=parseInt(je[1],16),6===lt?T(je):3===lt?new M(je>>8&15|je>>4&240,je>>4&15|240&je,(15&je)<<4|15&je,1):8===lt?L(je>>24&255,je>>16&255,je>>8&255,(255&je)/255):4===lt?L(je>>12&15|je>>8&240,je>>8&15|je>>4&240,je>>4&15|240&je,((15&je)<<4|15&je)/255):null):(je=c.exec(We))?new M(je[1],je[2],je[3],1):(je=o.exec(We))?new M(255*je[1]/100,255*je[2]/100,255*je[3]/100,1):(je=f.exec(We))?L(je[1],je[2],je[3],je[4]):(je=h.exec(We))?L(255*je[1]/100,255*je[2]/100,255*je[3]/100,je[4]):(je=d.exec(We))?z(je[1],je[2]/100,je[3]/100,1):(je=b.exec(We))?z(je[1],je[2]/100,je[3]/100,je[4]):p.hasOwnProperty(We)?T(p[We]):"transparent"===We?new M(NaN,NaN,NaN,0):null}function T(We){return new M(We>>16&255,We>>8&255,255&We,1)}function L(We,je,lt,vt){return vt<=0&&(We=je=lt=NaN),new M(We,je,lt,vt)}function E(We,je,lt,vt){return 1===arguments.length?function x(We){return We instanceof l||(We=C(We)),We?new M((We=We.rgb()).r,We.g,We.b,We.opacity):new M}(We):new M(We,je,lt,vt??1)}function M(We,je,lt,vt){this.r=+We,this.g=+je,this.b=+lt,this.opacity=+vt}function i(){return"#".concat(_(this.r)).concat(_(this.g)).concat(_(this.b))}function y(){var We=B(this.opacity);return"".concat(1===We?"rgb(":"rgba(").concat(F(this.r),", ").concat(F(this.g),", ").concat(F(this.b)).concat(1===We?")":", ".concat(We,")"))}function B(We){return isNaN(We)?1:Math.max(0,Math.min(1,We))}function F(We){return Math.max(0,Math.min(255,Math.round(We)||0))}function _(We){return((We=F(We))<16?"0":"")+We.toString(16)}function z(We,je,lt,vt){return vt<=0?We=je=lt=NaN:lt<=0||lt>=1?We=je=NaN:je<=0&&(We=NaN),new U(We,je,lt,vt)}function V(We){if(We instanceof U)return new U(We.h,We.s,We.l,We.opacity);if(We instanceof l||(We=C(We)),!We)return new U;if(We instanceof U)return We;var je=(We=We.rgb()).r/255,lt=We.g/255,vt=We.b/255,pt=Math.min(je,lt,vt),St=Math.max(je,lt,vt),Ct=NaN,_t=St-pt,nt=(St+pt)/2;return _t?(Ct=je===St?(lt-vt)/_t+6*(lt<vt):lt===St?(vt-je)/_t+2:(je-lt)/_t+4,_t/=nt<.5?St+pt:2-St-pt,Ct*=60):_t=nt>0&&nt<1?0:Ct,new U(Ct,_t,nt,We.opacity)}function U(We,je,lt,vt){this.h=+We,this.s=+je,this.l=+lt,this.opacity=+vt}function G(We){return(We=(We||0)%360)<0?We+360:We}function Y(We){return Math.max(0,Math.min(1,We||0))}function ee(We,je,lt){return 255*(We<60?je+(lt-je)*We/60:We<180?lt:We<240?je+(lt-je)*(240-We)/60:je)}function ue(We,je,lt,vt,pt){var St=We*We,Ct=St*We;return((1-3*We+3*St-Ct)*je+(4-6*St+3*Ct)*lt+(1+3*We+3*St-3*Ct)*vt+Ct*pt)/6}S(l,C,{copy:function(je){return Object.assign(new this.constructor,this,je)},displayable:function(){return this.rgb().displayable()},hex:A,formatHex:A,formatHex8:function m(){return this.rgb().formatHex8()},formatHsl:function u(){return V(this).formatHsl()},formatRgb:g,toString:g}),S(M,E,k(l,{brighter:function(je){return je=null==je?I:Math.pow(I,je),new M(this.r*je,this.g*je,this.b*je,this.opacity)},darker:function(je){return je=null==je?R:Math.pow(R,je),new M(this.r*je,this.g*je,this.b*je,this.opacity)},rgb:function(){return this},clamp:function(){return new M(F(this.r),F(this.g),F(this.b),B(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i,formatHex:i,formatHex8:function D(){return"#".concat(_(this.r)).concat(_(this.g)).concat(_(this.b)).concat(_(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:y,toString:y})),S(U,function H(We,je,lt,vt){return 1===arguments.length?V(We):new U(We,je,lt,vt??1)},k(l,{brighter:function(je){return je=null==je?I:Math.pow(I,je),new U(this.h,this.s,this.l*je,this.opacity)},darker:function(je){return je=null==je?R:Math.pow(R,je),new U(this.h,this.s,this.l*je,this.opacity)},rgb:function(){var je=this.h%360+360*(this.h<0),lt=isNaN(je)||isNaN(this.s)?0:this.s,vt=this.l,pt=vt+(vt<.5?vt:1-vt)*lt,St=2*vt-pt;return new M(ee(je>=240?je-240:je+120,St,pt),ee(je,St,pt),ee(je<120?je+240:je-120,St,pt),this.opacity)},clamp:function(){return new U(G(this.h),Y(this.s),Y(this.l),B(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var je=B(this.opacity);return"".concat(1===je?"hsl(":"hsla(").concat(G(this.h),", ").concat(100*Y(this.s),"%, ").concat(100*Y(this.l),"%").concat(1===je?")":", ".concat(je,")"))}}));var te=function(We){return function(){return We}};function q(We){return 1==(We=+We)?fe:function(je,lt){return lt-je?function K(We,je,lt){return We=Math.pow(We,lt),je=Math.pow(je,lt)-We,lt=1/lt,function(vt){return Math.pow(We+vt*je,lt)}}(je,lt,We):te(isNaN(je)?lt:je)}}function fe(We,je){var lt=je-We;return lt?function Q(We,je){return function(lt){return We+lt*je}}(We,lt):te(isNaN(We)?je:We)}var re=function We(je){var lt=q(je);function vt(pt,St){var Ct=lt((pt=E(pt)).r,(St=E(St)).r),_t=lt(pt.g,St.g),nt=lt(pt.b,St.b),ke=fe(pt.opacity,St.opacity);return function(Re){return pt.r=Ct(Re),pt.g=_t(Re),pt.b=nt(Re),pt.opacity=ke(Re),pt+""}}return vt.gamma=We,vt}(1);function $(We){return function(je){var Ct,_t,lt=je.length,vt=new Array(lt),pt=new Array(lt),St=new Array(lt);for(Ct=0;Ct<lt;++Ct)_t=E(je[Ct]),vt[Ct]=_t.r||0,pt[Ct]=_t.g||0,St[Ct]=_t.b||0;return vt=We(vt),pt=We(pt),St=We(St),_t.opacity=1,function(nt){return _t.r=vt(nt),_t.g=pt(nt),_t.b=St(nt),_t+""}}}function we(We,je){var Ct,lt=je?je.length:0,vt=We?Math.min(lt,We.length):0,pt=new Array(vt),St=new Array(lt);for(Ct=0;Ct<vt;++Ct)pt[Ct]=ot(We[Ct],je[Ct]);for(;Ct<lt;++Ct)St[Ct]=je[Ct];return function(_t){for(Ct=0;Ct<vt;++Ct)St[Ct]=pt[Ct](_t);return St}}function Ee(We,je){var lt=new Date;return We=+We,je=+je,function(vt){return lt.setTime(We*(1-vt)+je*vt),lt}}function Me(We,je){return We=+We,je=+je,function(lt){return We*(1-lt)+je*lt}}function Ne(We){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(We)}function Ve(We,je){var pt,lt={},vt={};for(pt in(null===We||"object"!==Ne(We))&&(We={}),(null===je||"object"!==Ne(je))&&(je={}),je)pt in We?lt[pt]=ot(We[pt],je[pt]):vt[pt]=je[pt];return function(St){for(pt in lt)vt[pt]=lt[pt](St);return vt}}$(function ce(We){var je=We.length-1;return function(lt){var vt=lt<=0?lt=0:lt>=1?(lt=1,je-1):Math.floor(lt*je),pt=We[vt],St=We[vt+1];return ue((lt-vt/je)*je,vt>0?We[vt-1]:2*pt-St,pt,St,vt<je-1?We[vt+2]:2*St-pt)}}),$(function pe(We){var je=We.length;return function(lt){var vt=Math.floor(((lt%=1)<0?++lt:lt)*je);return ue((lt-vt/je)*je,We[(vt+je-1)%je],We[vt%je],We[(vt+1)%je],We[(vt+2)%je])}});var Pe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ce=new RegExp(Pe.source,"g");function Qe(We,je){var vt,pt,St,lt=Pe.lastIndex=Ce.lastIndex=0,Ct=-1,_t=[],nt=[];for(We+="",je+="";(vt=Pe.exec(We))&&(pt=Ce.exec(je));)(St=pt.index)>lt&&(St=je.slice(lt,St),_t[Ct]?_t[Ct]+=St:_t[++Ct]=St),(vt=vt[0])===(pt=pt[0])?_t[Ct]?_t[Ct]+=pt:_t[++Ct]=pt:(_t[++Ct]=null,nt.push({i:Ct,x:Me(vt,pt)})),lt=Ce.lastIndex;return lt<je.length&&(St=je.slice(lt),_t[Ct]?_t[Ct]+=St:_t[++Ct]=St),_t.length<2?nt[0]?function Je(We){return function(je){return We(je)+""}}(nt[0].x):function Ie(We){return function(){return We}}(je):(je=nt.length,function(ke){for(var Be,Re=0;Re<je;++Re)_t[(Be=nt[Re]).i]=Be.x(ke);return _t.join("")})}function ze(We,je){je||(je=[]);var pt,lt=We?Math.min(je.length,We.length):0,vt=je.slice();return function(St){for(pt=0;pt<lt;++pt)vt[pt]=We[pt]*(1-St)+je[pt]*St;return vt}}function ut(We){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(We)}function ot(We,je){var vt,lt=ut(je);return null==je||"boolean"===lt?te(je):("number"===lt?Me:"string"===lt?(vt=C(je))?(je=vt,re):Qe:je instanceof C?re:je instanceof Date?Ee:function Ke(We){return ArrayBuffer.isView(We)&&!(We instanceof DataView)}(je)?ze:Array.isArray(je)?we:"function"!=typeof je.valueOf&&"function"!=typeof je.toString||isNaN(je)?Ve:Me)(We,je)}},40402:function(oe){"use strict";oe.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(oe){"use strict";oe.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(oe){"use strict";oe.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(oe){"use strict";oe.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(oe){"use strict";oe.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(oe){"use strict";oe.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Ud={};function Ga(oe){var J=Ud[oe];if(void 0!==J)return J.exports;var t=Ud[oe]={exports:{}};return t0[oe].call(t.exports,t,t.exports,Ga),t.exports}return Ga.n=function(oe){var J=oe&&oe.__esModule?function(){return oe.default}:function(){return oe};return Ga.d(J,{a:J}),J},Ga.d=function(oe,J){for(var t in J)Ga.o(J,t)&&!Ga.o(oe,t)&&Object.defineProperty(oe,t,{enumerable:!0,get:J[t]})},Ga.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Ga.o=function(oe,J){return Object.prototype.hasOwnProperty.call(oe,J)},Ga.r=function(oe){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(oe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(oe,"__esModule",{value:!0})},Ga(27909)}()}},e0=>{e0(e0.s=14)}]);